/** Cooked with Flambe, https://getflambe.com */
'use strict';(function(){function q(a,b){function c(){}c.prototype=a;var f=new c,d;for(d in b)f[d]=b[d];b.toString!==Object.prototype.toString&&(f.toString=b.toString);return f}function Vc(a){return a instanceof Array?function(){return t.iter(a)}:"function"==typeof a.iterator?B(a,a.iterator):a.iterator}function B(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=Td++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,
arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}var e={},h=function(){return F.__string_rec(this,"")},ra=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};e.EReg=ra;ra.__name__=["EReg"];ra.prototype={match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw new m("EReg::matched");},matchedPos:function(){if(null==this.r.m)throw new m("No string matched");
return{pos:this.r.m.index,len:this.r.m[0].length}},replace:function(a,b){return a.replace(this.r,b)},__class__:ra};var t=function(){};e.HxOverrides=t;t.__name__=["HxOverrides"];t.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};t.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};t.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0};t.iter=function(a){return{cur:0,
arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var Ka=function(){};e.Lambda=Ka;Ka.__name__=["Lambda"];Ka.array=function(a){for(var b=[],a=Vc(a)();a.hasNext();){var c=a.next();b.push(c)}return b};Ka.iter=function(a,b){for(var c=Vc(a)();c.hasNext();){var f=c.next();b(f)}};Ka.filter=function(a,b){for(var c=new Ub,f=Vc(a)();f.hasNext();){var d=f.next();b(d)&&c.add(d)}return c};Ka.count=function(a,b){var c=0;if(null==b)for(var f=Vc(a)();f.hasNext();)f.next(),
c++;else for(f=Vc(a)();f.hasNext();){var d=f.next();b(d)&&c++}return c};var Ub=function(){this.length=0};e.List=Ub;Ub.__name__=["List"];Ub.prototype={add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},iterator:function(){return new Wc(this.h)},__class__:Ub};var Wc=function(a){this.head=a;this.val=null};e["_List.ListIterator"]=Wc;Wc.__name__=["_List","ListIterator"];Wc.prototype={hasNext:function(){return null!=this.head},next:function(){this.val=this.head[0];this.head=
this.head[1];return this.val},__class__:Wc};var D=function(){};e.Main=D;D.__name__=["Main"];D.onSuccess=function(a){D.bootstrapPack=a;if(k._platform.getTouch().get_supported())k._platform.getTouch().down.connect(function(){D.bootstrapPack.getSound("empty").play().dispose();D.bootstrapPack.getSound("empty").dispose()}).once();else D.bootstrapPack.getSound("empty").dispose();k._platform.getStage().resize.connect(D.onResize);k.root.add(new Fa(D.bootstrapPack));z.defaultTransition(new Vb(1,15,10));z.init(new Wb(a));
a=O.fromBrowser();a.query.exists("volume")&&k.volume.set__(w.parseFloat(a.query.get("volume")));D.border=new n;k.root.addChild(D.border);z["goto"](xb);D.onResize()};D.setBgLoop=function(a,b){null==b&&(b=1);null!=D.bgLoop&&D.bgLoop.dispose();null!=a&&(D.bgLoop=a.loop(),D.bgLoop.volume.set__(0),U.muted._value||D.bgLoop.volume.animateTo(b,0.3))};D.localizationLoaded=function(){var a="bootstrap";null!=E.suffix&&V.exists("bootstrap_"+E.suffix)&&(a="bootstrap_"+E.suffix);a=V.fromAssets(a);null!=E.externalBase?
a.set_remoteBase(E.externalBase):null!=E.relativeBase&&a.set_localBase(E.relativeBase);k._platform.loadAssetPack(a).get(D.onSuccess)};D.main=function(){k.init();U.init();706560>=k._platform.getStage().get_width()*k._platform.getStage().get_height()&&U.get_mobile()&&(E.suffix="mob");var a=null;if(k._platform.getExternal().get_supported()){var b=Xb.get_base();null!=b&&(a=b)}null!=a&&(y.startsWith(a,"http://")||y.startsWith(a,"https://")?(b=window.location.href,b=b.split("/"),(null==b[b.length-1]||-1<
b[b.length-1].indexOf("."))&&b.pop(),b=b.join("/").split("?")[0],b=ab.absoluteToRelative(b,a),null!=b?(E.relativeBase=b+"/assets/",C.relativeBase=b):(E.externalBase=a+"assets/",C.externalBase=a)):(E.relativeBase=a+"assets/",C.relativeBase=a));C.init(D.localizationLoaded,new Yb,"strings/strings.xml")};D.onResize=function(){if(!(null==z.director||null==z.director.owner)){null!=D.resizeScreen&&(D.resizeScreen.dispose(),D.resizeScreen=null);if(k._platform.getStage().get_height()>k._platform.getStage().get_width()){var a;
a=640<k._platform.getStage().get_width()?"orientation_ipad":"orientation_iphone";k.root.add(new yb(0));D.resizeScreen=(new n).add(new da(0,k._platform.getStage().get_width(),k._platform.getStage().get_height())).addChild(J.center((new n).add(new G(D.bootstrapPack.getTexture(a)))));k.root.addChild(D.resizeScreen)}else a=k.root._compMap.SpeedAdjuster_5,null!=a&&a.dispose();D.addBorder();J.top(J.left(D.border))}};D.addBorder=function(){D.border.disposeChildren();D.border.addChild((new n).add(new da(2956916,
k._platform.getStage().get_width(),6)));D.border.addChild((new n).add((new da(2956916,6,k._platform.getStage().get_height()-6)).setXY(0,6)));D.border.addChild((new n).add((new da(2956916,6,k._platform.getStage().get_height()-6)).setXY(k._platform.getStage().get_width()-6,6)));D.border.addChild((new n).add((new da(2956916,k._platform.getStage().get_width()-12,6)).setXY(6,k._platform.getStage().get_height()-6)))};Math.__name__=["Math"];var ja=function(){};e.Reflect=ja;ja.__name__=["Reflect"];ja.hasField=
function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};ja.field=function(a,b){try{return a[b]}catch(c){return c instanceof m&&(c=c.val),null}};ja.setField=function(a,b,c){a[b]=c};ja.callMethod=function(a,b,c){return b.apply(a,c)};var w=function(){};e.Std=w;w.__name__=["Std"];w.is=function(a,b){return F.__instanceof(a,b)};w.instance=function(a,b){return a instanceof b?a:null};w.string=function(a){return F.__string_rec(a,"")};w["int"]=function(a){return a|0};w.parseInt=function(a){var b=parseInt(a,
10);if(0==b&&(120==t.cca(a,1)||88==t.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};w.parseFloat=function(a){return parseFloat(a)};var Ra=function(){this.b=""};e.StringBuf=Ra;Ra.__name__=["StringBuf"];Ra.prototype={add:function(a){this.b+=w.string(a)},addSub:function(a,b,c){this.b=null==c?this.b+t.substr(a,b,null):this.b+t.substr(a,b,c)},__class__:Ra};var y=function(){};e.StringTools=y;y.__name__=["StringTools"];y.startsWith=function(a,b){return a.length>=b.length&&t.substr(a,0,b.length)==b};y.isSpace=
function(a,b){var c=t.cca(a,b);return 8<c&&14>c||32==c};y.ltrim=function(a){for(var b=a.length,c=0;c<b&&y.isSpace(a,c);)c++;return 0<c?t.substr(a,c,b-c):a};y.rtrim=function(a){for(var b=a.length,c=0;c<b&&y.isSpace(a,b-c-1);)c++;return 0<c?t.substr(a,0,b-c):a};y.trim=function(a){return y.ltrim(y.rtrim(a))};y.replace=function(a,b,c){return a.split(b).join(c)};y.fastCodeAt=function(a,b){return a.charCodeAt(b)};var sa=function(){};e.Type=sa;sa.__name__=["Type"];sa.getClassName=function(a){a=a.__name__;
return null==a?null:a.join(".")};sa.resolveClass=function(a){a=e[a];return null==a||!a.__name__?null:a};sa.resolveEnum=function(a){a=e[a];return null==a||!a.__ename__?null:a};sa.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],
b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);default:throw new m("Too many arguments");}};sa.enumEq=function(a,b){if(a==b)return!0;try{if(a[0]!=b[0])return!1;for(var c=2,f=a.length;c<f;){var d=c++;if(!sa.enumEq(a[d],b[d]))return!1}var g=a.__enum__;if(g!=b.__enum__||null==g)return!1}catch(za){return za instanceof m&&(za=za.val),!1}return!0};var l=function(a){this.nodeType=a;this.children=[];this.attributeMap=new N};e.Xml=l;l.__name__=["Xml"];l.parse=function(a){return Ua.parse(a)};
l.createElement=function(a){var b=new l(l.Element);if(b.nodeType!=l.Element)throw new m("Bad node type, expected Element but found "+b.nodeType);b.nodeName=a;return b};l.createPCData=function(a){var b=new l(l.PCData);if(b.nodeType==l.Document||b.nodeType==l.Element)throw new m("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};l.createCData=function(a){var b=new l(l.CData);if(b.nodeType==l.Document||b.nodeType==l.Element)throw new m("Bad node type, unexpected "+b.nodeType);b.nodeValue=
a;return b};l.createComment=function(a){var b=new l(l.Comment);if(b.nodeType==l.Document||b.nodeType==l.Element)throw new m("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};l.createDocType=function(a){var b=new l(l.DocType);if(b.nodeType==l.Document||b.nodeType==l.Element)throw new m("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};l.createProcessingInstruction=function(a){var b=new l(l.ProcessingInstruction);if(b.nodeType==l.Document||b.nodeType==l.Element)throw new m("Bad node type, unexpected "+
b.nodeType);b.nodeValue=a;return b};l.createDocument=function(){return new l(l.Document)};l.prototype={get_nodeName:function(){if(this.nodeType!=l.Element)throw new m("Bad node type, expected Element but found "+this.nodeType);return this.nodeName},get_nodeValue:function(){if(this.nodeType==l.Document||this.nodeType==l.Element)throw new m("Bad node type, unexpected "+this.nodeType);return this.nodeValue},get:function(a){if(this.nodeType!=l.Element)throw new m("Bad node type, expected Element but found "+
this.nodeType);return this.attributeMap.get(a)},set:function(a,b){if(this.nodeType!=l.Element)throw new m("Bad node type, expected Element but found "+this.nodeType);this.attributeMap.set(a,b)},exists:function(a){if(this.nodeType!=l.Element)throw new m("Bad node type, expected Element but found "+this.nodeType);return this.attributeMap.exists(a)},iterator:function(){if(this.nodeType!=l.Document&&this.nodeType!=l.Element)throw new m("Bad node type, expected Element or Document but found "+this.nodeType);
return t.iter(this.children)},elements:function(){if(this.nodeType!=l.Document&&this.nodeType!=l.Element)throw new m("Bad node type, expected Element or Document but found "+this.nodeType);for(var a=[],b=0,c=this.children;b<c.length;){var f=c[b];++b;f.nodeType==l.Element&&a.push(f)}return t.iter(a)},elementsNamed:function(a){if(this.nodeType!=l.Document&&this.nodeType!=l.Element)throw new m("Bad node type, expected Element or Document but found "+this.nodeType);for(var b=[],c=0,f=this.children;c<
f.length;){var d=f[c];++c;var g;if(g=d.nodeType==l.Element){if(d.nodeType!=l.Element)throw new m("Bad node type, expected Element but found "+d.nodeType);g=d.nodeName==a}g&&b.push(d)}return t.iter(b)},firstElement:function(){if(this.nodeType!=l.Document&&this.nodeType!=l.Element)throw new m("Bad node type, expected Element or Document but found "+this.nodeType);for(var a=0,b=this.children;a<b.length;){var c=b[a];++a;if(c.nodeType==l.Element)return c}return null},addChild:function(a){if(this.nodeType!=
l.Document&&this.nodeType!=l.Element)throw new m("Bad node type, expected Element or Document but found "+this.nodeType);null!=a.parent&&a.parent.removeChild(a);this.children.push(a);a.parent=this},removeChild:function(a){if(this.nodeType!=l.Document&&this.nodeType!=l.Element)throw new m("Bad node type, expected Element or Document but found "+this.nodeType);return t.remove(this.children,a)?(a.parent=null,!0):!1},__class__:l};var Xb=function(){};e["com.nick.main.JSEmbedProxy"]=Xb;Xb.__name__=["com",
"nick","main","JSEmbedProxy"];Xb.get_base=function(){return Xb.callJSEmbedMethod("baseUrl()")};Xb.callJSEmbedMethod=function(a){try{var b=eval("jsembed."+a);if(null!=b)return b}catch(c){c instanceof m&&(c=c.val)}return""};var ka=function(){};e["flambe.util.Disposable"]=ka;ka.__name__=["flambe","util","Disposable"];ka.prototype={__class__:ka};var r=function(){this._flags=0;this.owner=this.next=null};e["flambe.Component"]=r;r.__name__=["flambe","Component"];r.__interfaces__=[ka];r.prototype={onAdded:function(){},
onRemoved:function(){},onStart:function(){},onStop:function(){},onUpdate:function(){},dispose:function(){null!=this.owner&&this.owner.remove(this)},get_name:function(){return null},__class__:r};var Fa=function(a){r.call(this);a=l.parse(a.getFile("config.xml").toString());Fa.xConfig=new lb(a.firstElement());Fa.bCanadaTrack="true"==Fa.xConfig.node.resolve("services").node.resolve("canadaTracking").att.resolve("enabled")&&!U.get_mobile()};e["com.nickjr.dora.lostHorses.components.GameTracker"]=Fa;Fa.__name__=
"com,nickjr,dora,lostHorses,components,GameTracker".split(",");Fa.__super__=r;Fa.prototype=q(r.prototype,{get_name:function(){return"GameTracker_7"},__class__:Fa});var Zb=function(a,b){r.call(this);this._pack=a;for(this._aImages=[];4!=this._aImages.length;)this._aImages.push(null);this._disposer=new Ga;this._root=(new n).add(this._disposer);this._txtScore=C.getField("hud.score",0,ta.Center);this._topLt=(new n).add(new p).addChild((new n).add(new G(a.getTexture("hud/hudLeft")))).addChild((new n).add(this._txtScore.setXY(107,
22)));this._root.addChild(this._topLt);this._topRt=(new n).add(new p).addChild((new n).add(new G(a.getTexture("hud/hudRight"))));this._root.addChild(this._topRt);var c=b.createSprite("mcHUDSparkle",!0);c.set_paused(!0);c.set_visible(!1);this._disposer.connect0(c.get_looped(),function(){c.set_visible(!1);c.set_paused(!0)});this._magicSparkles=(new n).add(c);this.goalsLeft=0;this.updateScore()};e["com.nickjr.dora.lostHorses.components.LevelHud"]=Zb;Zb.__name__="com,nickjr,dora,lostHorses,components,LevelHud".split(",");
Zb.__super__=r;Zb.prototype=q(r.prototype,{get_name:function(){return"LevelHud_18"},onAdded:function(){this.owner.addChild(this._root)},handleResize:function(){J.top(J.left(this._topLt));J.top(J.right(this._topRt))},addImage:function(a,b,c){null==c&&(c=!1);a=(new n).add((new G(this._pack.getTexture("hud/"+a))).setXY(46+105*b,12).setAlpha(c?1:0.3));this._topRt.addChild(a);this._aImages[b]=a;this.goalsLeft++},enableImage:function(a){this._aImages[a]._compMap.Sprite_1.alpha.set__(1);this.goalsLeft--;
this._topRt.addChild(this._magicSparkles);var b=w.instance(this._magicSparkles._compMap.Sprite_1,ua);b.setXY(46+105*a,12);b.set_position(0);b.set_visible(!0);b.set_paused(!1)},updateScore:function(){this._txtScore.set_text(ea.nCurCarrots+5*ea.nCurRainbows+"")},getTopLeftPos:function(){return new La(this._topLt._compMap.Sprite_1.x._value,this._topLt._compMap.Sprite_1.y._value)},highlightImage:function(a,b){this._aImages[a]._compMap.Sprite_1.alpha.set__(b?1:0.3)},__class__:Zb});var $b=function(a){r.call(this);
var b=new Ga;this._root=(new n).add(b);this.aNormalArrows=[];this.aNormalArrows.push((new n).add((new G(a.getTexture("moveArrows/upLeft"))).centerAnchor()));this.aNormalArrows.push((new n).add((new G(a.getTexture("moveArrows/downRight"))).centerAnchor()));this.aNormalArrows.push((new n).add((new G(a.getTexture("moveArrows/downLeft"))).centerAnchor()));this.aNormalArrows.push((new n).add((new G(a.getTexture("moveArrows/upRight"))).centerAnchor()));this.aGlowArrows=[];this.aGlowArrows.push((new n).add((new G(a.getTexture("moveArrows/upLeftGlow"))).centerAnchor()));
this.aGlowArrows.push((new n).add((new G(a.getTexture("moveArrows/downRightGlow"))).centerAnchor()));this.aGlowArrows.push((new n).add((new G(a.getTexture("moveArrows/downLeftGlow"))).centerAnchor()));this.aGlowArrows.push((new n).add((new G(a.getTexture("moveArrows/upRightGlow"))).centerAnchor()));a=0;for(b=this.aNormalArrows.length;a<b;){var c=a++;this.aNormalArrows[c]._compMap.Sprite_1.set_visible(!1);this._root.addChild(this.aNormalArrows[c])}a=0;for(b=this.aGlowArrows.length;a<b;)c=a++,this.aGlowArrows[c]._compMap.Sprite_1.set_visible(!1),
this._root.addChild(this.aGlowArrows[c])};e["com.nickjr.dora.lostHorses.components.MoveArrows"]=$b;$b.__name__="com,nickjr,dora,lostHorses,components,MoveArrows".split(",");$b.__super__=r;$b.prototype=q(r.prototype,{get_name:function(){return"MoveArrows_16"},onAdded:function(){r.prototype.onAdded.call(this);this.owner.addChild(this._root)},hideAllArrows:function(){for(var a=0,b=this.aNormalArrows.length;a<b;)this.aNormalArrows[a++]._compMap.Sprite_1.set_visible(!1);a=0;for(b=this.aGlowArrows.length;a<
b;)this.aGlowArrows[a++]._compMap.Sprite_1.set_visible(!1)},__class__:$b});var ac=function(a){null==a&&(a=0.1);this.bDebug=!1;r.call(this);this._nSwipeDistance=(k._platform.getStage().get_width()+k._platform.getStage().get_height())/2*a;this._nSwipeDistance*=this._nSwipeDistance};e["com.nickjr.dora.lostHorses.components.ui.Swipe"]=ac;ac.__name__="com,nickjr,dora,lostHorses,components,ui,Swipe".split(",");ac.__super__=r;ac.prototype=q(r.prototype,{get_name:function(){return"Swipe_17"},onAdded:function(){this._disposer=
this.owner._compMap.Disposer_4;null==this._disposer&&this.owner.add(this._disposer=new Ga);this._disposer.connect1(k._platform.getPointer().down,B(this,this.onPointerDown));this._disposer.connect1(k._platform.getPointer().up,B(this,this.onPointerUp));this.swipeSignal=new P},onPointerDown:function(a){null!=this._startCoords?(this._startCoords.x=a.viewX,this._startCoords.y=a.viewY):this._startCoords=new La(a.viewX,a.viewY);this.bDebug&&null},onPointerUp:function(a){null==this._startCoords?this.bDebug&&
null:this._startCoords.distanceToSquared(a.viewX,a.viewY)>this._nSwipeDistance?(a=Math.atan2(a.viewY-this._startCoords.y,a.viewX-this._startCoords.x)*(180/Math.PI),NaN==a?this.bDebug&&null:(this.swipeDirection=-90>a?"swipe_top_lt":0>a?"swipe_top_rt":90>a?"swipe_bot_rt":"swipe_bot_lt",this.bDebug&&null,this.swipeSignal.emit(this))):this.bDebug&&null},__class__:ac});var zb=function(a,b){this.col=a;this.row=b};e["com.nickjr.dora.lostHorses.objects.ColRow"]=zb;zb.__name__="com,nickjr,dora,lostHorses,objects,ColRow".split(",");
zb.prototype={__class__:zb};var Ab=function(){};e["com.nickjr.dora.lostHorses.objects.GlobalValues"]=Ab;Ab.__name__="com,nickjr,dora,lostHorses,objects,GlobalValues".split(",");var Xc=function(a,b){this.entity=a;this.definition=b};e["com.nickjr.dora.lostHorses.objects.Obstacle"]=Xc;Xc.__name__="com,nickjr,dora,lostHorses,objects,Obstacle".split(",");Xc.prototype={__class__:Xc};var bc=function(a,b,c,f){null==f&&(f=-1);null==c&&(c="");this.nGoal=-1;this.sIdle=a;this.sFound=c;this.sSound=b;this.nGoal=
f};e["com.nickjr.dora.lostHorses.objects.ObstacleDefinition"]=bc;bc.__name__="com,nickjr,dora,lostHorses,objects,ObstacleDefinition".split(",");bc.prototype={__class__:bc};var ea=function(){};e["com.nickjr.dora.lostHorses.objects.ScoreManager"]=ea;ea.__name__="com,nickjr,dora,lostHorses,objects,ScoreManager".split(",");ea.reset=function(){ea.nCumulativeCarrots=0;ea.nCumulativeRainbows=0;ea.nCurCarrots=0;ea.nCurRainbows=0};ea.rollValues=function(){};var Sa=function(a){null==a&&(a=!0);r.call(this);
this.opaque=a;this.shown=new va;this.hidden=new va};e["flambe.scene.Scene"]=Sa;Sa.__name__=["flambe","scene","Scene"];Sa.__super__=r;Sa.prototype=q(r.prototype,{get_name:function(){return"Scene_0"},__class__:Sa});var wa=function(){this._intialized=!1;Sa.call(this);this.requiredPacks=[]};e["s2.scene.BaseScene"]=wa;wa.__name__=["s2","scene","BaseScene"];wa.__super__=Sa;wa.prototype=q(Sa.prototype,{onAdded:function(){var a=this.owner._compMap.Disposer_4;null==a&&this.owner.add(a=new Ga);var b=z.director.get_topScene(),
b=null!=b?b._compMap.Scene_0:null,c=null,c=null!=b?b.hidden.connect(B(this,this.onShown)).once():this.shown.connect(B(this,this.onShown)).once();a.add(c);this._hiddenBind=this.hidden.connect(B(this,this.onHidden)).once();a.add(this._hiddenBind);a.connect0(k._platform.getStage().resize,B(this,this.onResize));this._intialized||(this.assetsReady(),this._intialized=!0,this.onResize())},assetsReady:function(){},injectAssets:function(a){this._assets=a},onShown:function(){},onHidden:function(){},onResize:function(){},
__class__:wa});var R=function(){this.standardHeight=768;this.standardWidth=1366;wa.call(this);this.requiredPacks.push("global");if(null!=this._sceneSpecificPacks)for(var a=0,b=this._sceneSpecificPacks.length;a<b;)this.requiredPacks.push(this._sceneSpecificPacks[a++])};e["s2.scene.AutoBackingScene"]=R;R.__name__=["s2","scene","AutoBackingScene"];R.__super__=wa;R.prototype=q(wa.prototype,{setBackground:function(a){this.__=new Yc(this.standardWidth,this.standardHeight,a.getNaturalWidth(),a.getNaturalHeight());
(null==this._backing?this._backing=new n:this._backing).add(a);if(null!=this.owner&&null!=this.owner.parent)this.onResize()},onAdded:function(){this.setBackground(new da(5570560,this.standardWidth,this.standardHeight));this._container=(new n).add(new p).addChild(this._backing);this.owner.addChild(this._container);wa.prototype.onAdded.call(this)},assetsReady:function(){wa.prototype.assetsReady.call(this);this._disposer=this.owner._compMap.Disposer_4;null==this._disposer&&(this._disposer=new Ga,this.owner.add(this._disposer));
this._script=this.owner._compMap.Script_2;null==this._script&&(this._script=new Ha,this.owner.add(this._script));this._globalPack=this._assets.get("global")},onResize:function(){var a=Math.min(k._platform.getStage().get_width()/(1024*this.__.scaleX),k._platform.getStage().get_height()/(600*this.__.scaleY)),b=this.__.newWidth*a,c=this.__.newHeight*a;this._container._compMap.Sprite_1.setScale(a).setXY(0.5*(k._platform.getStage().get_width()-b),0.5*(k._platform.getStage().get_height()-c))},onRemoved:function(){wa.prototype.onRemoved.call(this);
if(null!=this._sceneSpecificPacks)for(;0!=this._sceneSpecificPacks.length;)E.release(this._sceneSpecificPacks.pop())},__class__:R});var aa=function(){R.call(this);this.requiredPacks.push("fonts")};e["com.nickjr.dora.lostHorses.scenes.CutSceneBase"]=aa;aa.__name__="com,nickjr,dora,lostHorses,scenes,CutSceneBase".split(",");aa.__super__=R;aa.prototype=q(R.prototype,{assetsReady:function(){var a=this;R.prototype.assetsReady.call(this);this._mixer=new cc;this.owner.add(this._mixer);this._fontPack=this._assets.get("fonts");
this._movie=(new dc(this._pack,"lib")).createSprite(this._sMovie,!0);this._movie.set_paused(!0);this._movie.set_position(0);this._container.addChild((new n).add(this._movie));this._vo=this._mixer.createSound(this._pack.getSound("snd/vo/dialog/vo"));this._skipVo=this._mixer.createSound(this._globalPack.getSound("snd/vo/skip/skip"));this._clickSound=this._mixer.createSound(this._globalPack.getSound("snd/fx/click/click"));this._skipBt=(new n).add(new G(this._globalPack.getTexture("button/skip"))).add(new ia);
this._container.addChild(this._skipBt);this._disposer.connect1(this._skipBt._compMap.Sprite_1.get_pointerIn(),function(){a._skipVo.play()});this._disposer.connect1(this._skipBt._compMap.Sprite_1.get_pointerUp(),function(){a.skipButtonClicked()});this._disposer.connect0(this._movie.get_looped(),B(this,this.endCutScene));this._movie.set_paused(!1);this._vo.play();D.setBgLoop(this._globalPack.getSound("snd/track/cutscene"))},onResize:function(){R.prototype.onResize.call(this);J.bottom(J.right(this._skipBt,
11),11)},endCutScene:function(){z["goto"](this._nextScene)},skipButtonClicked:function(){this._clickSound.play();this.endCutScene()},__class__:aa});var mb=function(){this._sceneSpecificPacks=[];this._sceneSpecificPacks.push("intro_cutscene");aa.call(this);this._nextScene=Bb;this._sMovie="cutscene"};e["com.nickjr.dora.lostHorses.scenes.IntroCutScene"]=mb;mb.__name__="com,nickjr,dora,lostHorses,scenes,IntroCutScene".split(",");mb.__super__=aa;mb.prototype=q(aa.prototype,{assetsReady:function(){this._pack=
this._assets.get("intro_cutscene");aa.prototype.assetsReady.call(this)},__class__:mb});var o=function(){this._bPlayFirstCarrot=!0;this._nTotalMoves=0;R.call(this);this.requiredPacks.push("game_scene");this.requiredPacks.push("level");this._aMovementLocks=[];this._aMovementLocks.push(!1);this._aMovementLocks.push(!1);this._aMovementLocks.push(!1);var a=new p;k.root.add(a)};e["com.nickjr.dora.lostHorses.scenes.LevelBase"]=o;o.__name__="com,nickjr,dora,lostHorses,scenes,LevelBase".split(",");o.__super__=
R;o.prototype=q(R.prototype,{assetsReady:function(){var a=this;R.prototype.assetsReady.call(this);this._soundMan=new bb;this.owner.add(this._soundMan);this._pack=this._assets.get("game_scene");this._levelPack=this._assets.get("level");this._gameplayLib=new dc(this._pack,"lib/gameplay");this._carrotTexture=this._pack.getTexture("collectible/carrot");var b=l.parse(this._levelPack.getFile("interact/"+this._sLevelFile+".xml").toString());this._xInteract=new lb(b.firstElement());this._definitionMap=new N;
for(var b=null,c=this._xInteract.node.resolve("objDef").nodes.resolve("obj").iterator();null!=c.head;){var f;c.val=c.head[0];c.head=c.head[1];f=c.val;b=f.hasNode.resolve("goal")?new bc(f.node.resolve("idle").get_innerData(),f.node.resolve("sound").get_innerData(),f.node.resolve("found").get_innerData(),w.parseInt(f.node.resolve("goal").get_innerData())):new bc(f.node.resolve("idle").get_innerData(),f.node.resolve("sound").get_innerData());this._definitionMap.set(f.att.resolve("name"),b)}this._mold=
new ec(this._levelPack,this._sLevelFile);this._mapSprite=this._mold.createMap(1366,768);this._mapContainer=(new n).add(new p).addChild((new n).add(this._mapSprite));this._container.addChild(this._mapContainer);this._aZOrder=[];var d=b=null,g=d=null,c=0;for(f=this._mold.map.layers.length;c<f;)if(b=this._mold.map.layers[c++],"fg"==b.name)for(var za=0,e=b.objects.length;za<e;)g=za++,d=b.objects[g],null!=d.gid&&"static"==d.type&&(g=this._mold.getSymbolByGid(d.gid),d=new La(d.x,d.y-g.atlas.get_height()),
this._aZOrder.push((new n).add((new G(g.atlas)).setXY(d.x,d.y).disablePointer())));this._moveArrows=(new n).add(new p).add(new $b(this._pack));this._mapSprite.getLayer("fg").addChild(this._moveArrows);this._aPath=this.createPath("path");this._carrotMap=new la;b=this.createPath("carrots");c=c=null;za=f=0;for(e=b.length;za<e;)for(var g=za++,d=0,j=b[g].length;d<j;)f=d++,b[g][f]&&(c=this.getCoords(f,g),c=(new n).add((new G(this._carrotTexture)).centerAnchor().setXY(c.x,c.y).disablePointer()),f=this.tilePosToKey(f,
g),this._carrotMap.h[f]=c,this._aZOrder.push(c));this._rainbowMap=new la;b=this.createPath("rainbows");za=0;for(e=b.length;za<e;){g=za++;d=0;for(j=b[g].length;d<j;)f=d++,b[g][f]&&(c=this.getCoords(f,g),c=(new n).add(this._gameplayLib.createSprite("mcRainbow",!0).setXY(c.x,c.y).disablePointer()),f=this.tilePosToKey(f,g),this._rainbowMap.h[f]=c,this._aZOrder.push(c))}this._hud=(new n).add(new p).add(new Zb(this._pack,this._gameplayLib));b=!1;for(c=this._xInteract.node.resolve("hud").node.resolve("images").nodes.resolve("image").iterator();null!=
c.head;)c.val=c.head[0],c.head=c.head[1],f=c.val,b="true"==f.att.resolve("enabled"),this._hud._compMap.LevelHud_18.addImage(f.get_innerData(),w.parseInt(f.att.resolve("pos")),b);this._disposer.connect1(this._hud._compMap.Sprite_1.get_pointerDown(),function(){a._swipe.bDebug=!a._swipe.bDebug});this._obstacleMap=new la;for(var h=this._xInteract.node.resolve("objs").nodes.resolve("obj").iterator();null!=h.head;)this.addObjectFromXML(function(){h.val=h.head[0];h.head=h.head[1];return h.val}(this));this._roadBlockMap=
new la;for(b=this._xInteract.node.resolve("roadBlocks").nodes.resolve("roadBlock").iterator();null!=b.head;)b.val=b.head[0],b.head=b.head[1],c=b.val,f=this.tilePosToKey(w.parseInt(c.att.resolve("col")),w.parseInt(c.att.resolve("row"))),this._roadBlockMap.h[f]=c;b=new fc(this._gameplayLib);b.loop("mcIdle1");this._hero=(new n).add(new p).add(new yb).add(b);b.setDecorator(function(a){a.disablePointer()});this._nHeroCol=w.parseInt(this._xInteract.node.resolve("heroStart").att.resolve("col"));this._nHeroRow=
w.parseInt(this._xInteract.node.resolve("heroStart").att.resolve("row"));this.updateZOrder();this._mapSprite.getLayer("hero").addChild(this._hero);this.moveHero(null,0);this._container.addChild(this._hud);this._skipBt=(new n).add((new G(this._globalPack.getTexture("button/skip"))).setAlpha(0)).add(new ia);this._container.addChild(this._skipBt);this._skipBt._compMap.Sprite_1.set_visible(!1);U.get_mobile()?(this._swipe=new ac,this._container.add(this._swipe),this._disposer.connect1(this._swipe.swipeSignal,
B(this,this.handleSwipe))):(this._disposer.connect1(k._platform.getKeyboard().down,B(this,this.handleKeyDown)),this._disposer.connect1(k._platform.getPointer().down,B(this,this.handlePointerDown)));this._disposer.connect1(this._skipBt._compMap.Sprite_1.get_pointerUp(),function(){a.skipButtonClicked()});this._soundMan.poolFromPack(this._levelPack,"snd.fx.bandit");this._soundMan.poolFromPack(this._levelPack,"snd.fx.collectible");this._soundMan.poolFromPack(this._levelPack,"snd.fx.dora");this._soundMan.poolFromPack(this._levelPack,
"snd.fx.horse");this._soundMan.poolFromPack(this._levelPack,"snd.fx.sparkle");this._soundMan.poolFromPack(this._levelNumPack,"snd.vo.bandits").set_priority(o.priorityBandits);this._soundMan.poolFromPack(this._levelNumPack,"snd.vo.carrots").set_priority(o.priorityCarrots);this._soundMan.poolFromPack(this._levelNumPack,"snd.vo.closeCarrot").set_priority(o.priorityCloseCarrot);this._soundMan.poolFromPack(this._levelNumPack,"snd.vo.complete").set_priority(o.priorityComplete);this._soundMan.poolFromPack(this._levelNumPack,
"snd.vo.horse").set_priority(o.priorityHorse);this._soundMan.poolFromPack(this._levelNumPack,"snd.vo.rainbows").set_priority(o.priorityRainbows);D.setBgLoop(null);D.setBgLoop(this._levelNumPack.getSound("snd/track/level"));this.tutorialSequence()},onResize:function(){R.prototype.onResize.call(this);this._hud._compMap.LevelHud_18.handleResize();J.bottom(J.right(this._skipBt,11),11)},tutorialSequence:function(){this.setMovementLock(0,!0);this._tutorialTO=(new cb(5)).setPaused(!0);this._disposer.connect0(this._tutorialTO.completed,
B(this,this.tutorialTimeout));this.owner.add(this._tutorialTO)},showSkipButton:function(){this._container.addChild(this._skipBt);var a=this._skipBt._compMap.Sprite_1;a.set_visible(!0);a.alpha.animateTo(1,0.5,ma.quadOut)},tutorialComplete:function(a){a&&this._script.stopAll();this._soundMan.poolExists("snd.vo.tutorial")&&this._soundMan.pool("snd.vo.tutorial").stop();this.hideSkipButton();this.setMovementLock(0,!1);this.startLoopage()},startLoopage:function(){var a=this._soundMan.poolFromPack(this._levelNumPack,
"snd.vo.inactivity"),b=this._soundMan.poolFromPack(this._levelNumPack,"snd.vo.encouragement");a.set_priority(o.priorityIdle);b.set_priority(o.priorityEncourage);this._voLoopage=new gc(a,b);this.owner.add(this._voLoopage);this._voLoopage.start()},addObjectFromXML:function(a){var b=new zb(w.parseInt(a.att.resolve("col")),w.parseInt(a.att.resolve("row"))),c=this.tilePosToKey(b.col,b.row),f=this.getCoords(b.col,b.row),d;d=this._definitionMap.get(a.att.resolve("name"));f=(new n).add((new p).setAlpha(0).disablePointer().setXY(f.x,
f.y)).addChild((new n).add(this._gameplayLib.createSprite(d.sIdle,!0)));this._aZOrder.push(f);this.updateZOrder();this._obstacleMap.set(c,new Xc(f,a.att.resolve("name")));f._compMap.Sprite_1.alpha.animateTo(1,1);this._aPath[b.row][b.col]=!1},removeObject:function(a,b){var c=this,f=this.tilePosToKey(a,b),d=this._obstacleMap.h[f];this._obstacleMap.remove(f);this._script.run(new u([new v(d.entity._compMap.Sprite_1.alpha,0,1),new x(function(){t.remove(c._aZOrder,d.entity);d.entity.dispose()})]));this._aPath[b][a]=
!0},updateZOrder:function(){W.sort(this._aZOrder,function(a,b){return a._compMap.Sprite_1.y._value<b._compMap.Sprite_1.y._value?-1:a._compMap.Sprite_1.y._value>b._compMap.Sprite_1.y._value?1:0});for(var a=this._mapSprite.getLayer("fg"),b=0,c=this._aZOrder.length;b<c;){var f=b++;a.addChild(this._aZOrder[f])}},handleKeyDown:function(a){null!=this._voLoopage&&this._voLoopage.resetInactive();this.isMovementLocked()||(this._aMovementLocks[2]=!0,this.moveHero(a.key))},handlePointerDown:function(a){null!=
this._voLoopage&&this._voLoopage.resetInactive();if(!this.isMovementLocked()){this._aMovementLocks[2]=!0;var b=this._hero._compMap.Sprite_1.getViewMatrix(),c=a.viewY-b.m12,f=null,f=0<a.viewX-b.m02?0>c?d.Right:d.Down:0>c?d.Up:d.Left;this.moveHero(f)}},handleSwipe:function(a){null!=this._voLoopage&&this._voLoopage.resetInactive();if(!this.isMovementLocked()){this._aMovementLocks[2]=!0;var b=null;switch(a.swipeDirection){case "swipe_top_lt":b=d.Up;break;case "swipe_top_rt":b=d.Right;break;case "swipe_bot_lt":b=
d.Left;break;case "swipe_bot_rt":b=d.Down}this.moveHero(b)}},moveHero:function(a,b){null==b&&(b=0.75);var c=this;if(this._aMovementLocks[1]||this._aMovementLocks[0])this.setMovementLock(2,!1);else{null!=this._voLoopage&&this._voLoopage.resetInactive();var f=null,f=a==d.Up?this.tileCoordFromHero(0):a==d.Down?this.tileCoordFromHero(1):a==d.Left?this.tileCoordFromHero(2):a==d.Right?this.tileCoordFromHero(3):new zb(this._nHeroCol,this._nHeroRow);if(this.isTileInPath(f)){var s=2;2==this._nTotalMoves%6?
s=1:5==this._nTotalMoves%6&&(s=3);a==d.Up?(this._hero._compMap.MoviePlayer_15.play("mcUp"+s),this._hero._compMap.Sprite_1.scaleX.set__(1),this.playMoveArrowGlow(0)):a==d.Down?(this._hero._compMap.MoviePlayer_15.play("mcDown"+s),this._hero._compMap.Sprite_1.scaleX.set__(-1),this.playMoveArrowGlow(1)):a==d.Left?(this._hero._compMap.MoviePlayer_15.play("mcDown"+s),this._hero._compMap.Sprite_1.scaleX.set__(1),this.playMoveArrowGlow(2)):a==d.Right&&(this._hero._compMap.MoviePlayer_15.play("mcUp"+s),this._hero._compMap.Sprite_1.scaleX.set__(-1),
this.playMoveArrowGlow(3));this._hero._compMap.SpeedAdjuster_5.scale.set__(this._hero._compMap.MoviePlayer_15.movie._value.symbol.duration/(1.1*b));this._nHeroCol=f.col;this._nHeroRow=f.row;var g=this.getCoords(f.col,f.row),s=new La(g.x-683,g.y-384),za=this._hero._compMap.Sprite_1;this._script.run(new u([new H([new H([new v(this._mapSprite.camera.x,s.x,b),new v(this._mapSprite.camera.y,s.y,b)]),new u([new xa(b/2),new x(function(){c._aMovementLocks[0]||c._soundMan.pool("snd.fx.dora").mixerSound("Dora_land").play()})])]),
new x(function(){za.setXY(g.x,g.y);var b=c.tilePosToKey(c._nHeroCol,c._nHeroRow),d=[];d.push(!1);d.push(!1);d.push(!1);d.push(!1);f=c.tileCoordFromHero(0);c._aPath[f.row][f.col]&&(d[0]=!0);var b=c.tilePosToKey(f.col,f.row),s=c.checkGoals(b),e=c.interactWithObstacle(b);f=c.tileCoordFromHero(1);c._aPath[f.row][f.col]&&(d[1]=!0);b=c.tilePosToKey(f.col,f.row);s=s||c.checkGoals(b);e=e||c.interactWithObstacle(b);f=c.tileCoordFromHero(2);c._aPath[f.row][f.col]&&(d[2]=!0);b=c.tilePosToKey(f.col,f.row);s=
s||c.checkGoals(b);e=e||c.interactWithObstacle(b);f=c.tileCoordFromHero(3);c._aPath[f.row][f.col]&&(d[3]=!0);b=c.tilePosToKey(f.col,f.row);s=s||c.checkGoals(b);e||c.interactWithObstacle(b);b=c.tilePosToKey(c._nHeroCol,c._nHeroRow);e=c.checkCollectibles(b);s?c._hero._compMap.MoviePlayer_15.play("mcPowerupFriend"):"carrot"==e?c._hero._compMap.MoviePlayer_15.play("mcPowerup"):"rainbow"==e?c._hero._compMap.MoviePlayer_15.play("mcPowerupRainbow"):c._hero._compMap.MoviePlayer_15.play("mcIdle1");c._roadBlockMap.h.hasOwnProperty(b)&&
c.roadBlockEncountered(b);c.updateMovementArrows();b=null;if(c._bPlayFirstCarrot&&(b=!1,s=c.tileCoordFromHero(0),s=c.tilePosToKey(s.col,s.row),b=b||c._carrotMap.h.hasOwnProperty(s),s=c.tileCoordFromHero(1),s=c.tilePosToKey(s.col,s.row),b=b||c._carrotMap.h.hasOwnProperty(s),s=c.tileCoordFromHero(2),s=c.tilePosToKey(s.col,s.row),b=b||c._carrotMap.h.hasOwnProperty(s),s=c.tileCoordFromHero(3),s=c.tilePosToKey(s.col,s.row),b=b||c._carrotMap.h.hasOwnProperty(s)))Ab.bSkipTutorial&&c.showSkipButton(),c._bPlayFirstCarrot=
!1,b=new u([new I(c._soundMan.pool("snd.vo.closeCarrot").mixerSound("intro")),new x(B(c,c.hideSkipButton))]),c.lockMovementForVO(b);c._nTotalMoves++;if(null!=a){switch(a[1]){case 68:d[1]=!1;break;case 70:d[0]=!1;break;case 67:d[2]=!1;break;case 69:d[3]=!1}s=b=0;for(e=d.length;s<e;){var h=s++;d[h]&&b++}1==b?c.moveHero(a):(c._hero._compMap.SpeedAdjuster_5.scale.set__(1),c.setMovementLock(2,!1))}else c._hero._compMap.SpeedAdjuster_5.scale.set__(1),c.setMovementLock(2,!1)})]))}else this.setMovementLock(2,
!1)}},checkCollectibles:function(a){var b=this,c=null;if(this._carrotMap.h.hasOwnProperty(a))return c=this._carrotMap.h[a]._compMap.Sprite_1.getViewMatrix(),this.animateCarrotToHud(c.m02,c.m12),this._soundMan.pool("snd.fx.collectible").mixerSound("collect_carrot").play(),this._soundMan.pool("snd.vo.carrots").stop(),this._soundMan.pool("snd.vo.closeCarrot").stop(),ea.nCurCarrots++,this._hud._compMap.LevelHud_18.updateScore(),this._soundMan.pool("snd.vo.carrots").has("intro")?(this._soundMan.pool("snd.vo.carrots").mixerSound("intro").play(),
this._soundMan.pool("snd.vo.carrots").remove("intro")):this._soundMan.pool("snd.vo.carrots").random().play(),c=this._carrotMap.h[a],this._carrotMap.remove(a),t.remove(this._aZOrder,c),c.dispose(),"carrot";if(this._rainbowMap.h.hasOwnProperty(a)){var c=this._rainbowMap.h[a]._compMap.Sprite_1.getViewMatrix(),f=c.m02,d=c.m12;this._script.run(new Ia(new u([new x(function(){b.animateCarrotToHud(f,d)}),new xa(0.1)]),5));this.animateCarrotToHud(f,d);this._soundMan.pool("snd.fx.collectible").mixerSound("Rainbow_collect").play();
ea.nCurRainbows++;this._hud._compMap.LevelHud_18.updateScore();this._soundMan.pool("snd.vo.rainbows").has("intro")?(this._soundMan.pool("snd.vo.rainbows").mixerSound("intro").play(),this._soundMan.pool("snd.vo.rainbows").remove("intro")):(this._soundMan.pool("snd.vo.rainbows").stop(),this._soundMan.pool("snd.vo.rainbows").random().play());c=this._rainbowMap.h[a];this._rainbowMap.remove(a);t.remove(this._aZOrder,c);c.dispose();return"rainbow"}return""},tilePosToKey:function(a,b){return b*this._mold.map.width+
a},checkGoals:function(a){return!this._obstacleMap.h.hasOwnProperty(a)?!1:0<=this._definitionMap.get(this._obstacleMap.h[a].definition).nGoal},putGoalInHud:function(a){var b=this;if(this._obstacleMap.h.hasOwnProperty(a)){var c=this._obstacleMap.h[a],f=this._definitionMap.get(c.definition);if(!(0>f.nGoal)){this._obstacleMap.remove(a);c.entity.disposeChildren();var d=this._gameplayLib.createSprite(f.sFound,!0);this._disposer.connect0(d.get_looped(),function(){t.remove(b._aZOrder,c.entity);d.set_position(d.symbol.duration);
d.set_paused(!0);d.onUpdate(0);b._hud._compMap.LevelHud_18.enableImage(f.nGoal);b._soundMan.pool("snd.fx.sparkle").mixerSound("sparkle").play();0==b._hud._compMap.LevelHud_18.goalsLeft&&b.endLevel()});c.entity.addChild((new n).add(d))}}},endLevel:function(){var a=this;this.setMovementLock(0,!0);ea.rollValues();this._script.run(new u([new I(this._soundMan.pool("snd.vo.complete").mixerSound("complete")),new x(function(){z["goto"](a._nextScene)})]))},updateMovementArrows:function(){var a=0;this._moveArrows._compMap.MoveArrows_16.hideAllArrows();
var b=this._moveArrows._compMap.MoveArrows_16,c=null,f=null,c=this.tileCoordFromHero(0);this.isTileInPath(c)&&(c=this.getCoords(c.col,c.row),f=b.aNormalArrows[0]._compMap.Sprite_1,f.setXY(c.x,c.y),f.set_visible(!0),a++);c=this.tileCoordFromHero(1);this.isTileInPath(c)&&(c=this.getCoords(c.col,c.row),f=b.aNormalArrows[1]._compMap.Sprite_1,f.setXY(c.x,c.y),f.set_visible(!0),a++);c=this.tileCoordFromHero(2);this.isTileInPath(c)&&(c=this.getCoords(c.col,c.row),f=b.aNormalArrows[2]._compMap.Sprite_1,f.setXY(c.x,
c.y),f.set_visible(!0),a++);c=this.tileCoordFromHero(3);this.isTileInPath(c)&&(c=this.getCoords(c.col,c.row),f=b.aNormalArrows[3]._compMap.Sprite_1,f.setXY(c.x,c.y),f.set_visible(!0),a++);return a},playMoveArrowGlow:function(a){var b=this._moveArrows._compMap.MoveArrows_16,c=null,f=null;switch(a){case 0:c=b.aGlowArrows[0]._compMap.Sprite_1;f=b.aNormalArrows[0]._compMap.Sprite_1;break;case 1:c=b.aGlowArrows[1]._compMap.Sprite_1;f=b.aNormalArrows[1]._compMap.Sprite_1;break;case 2:c=b.aGlowArrows[2]._compMap.Sprite_1;
f=b.aNormalArrows[2]._compMap.Sprite_1;break;case 3:c=b.aGlowArrows[3]._compMap.Sprite_1,f=b.aNormalArrows[3]._compMap.Sprite_1}b.hideAllArrows();c.setXY(f.x._value,f.y._value);c.set_visible(!0)},tileCoordFromHero:function(a){var b=new zb(this._nHeroCol,this._nHeroRow);switch(a){case 0:0==b.row%2&&b.col--;b.row--;break;case 1:1==b.row%2&&b.col++;b.row++;break;case 2:0==b.row%2&&b.col--;b.row++;break;case 3:1==b.row%2&&b.col++,b.row--}return b},isTileInPath:function(a){return!(0>a.col||0>a.row||a.row>=
this._aPath.length||a.col>=this._aPath[a.row].length||!this._aPath[a.row][a.col])},lockMovementForVO:function(a){var b=this;this.setMovementLock(1,!0);this._moveArrows._compMap.Sprite_1.set_visible(!1);null!=this._voLoopage&&this._voLoopage.stop();a.add(new x(function(){b.setMovementLock(1,!1);b._aMovementLocks[0]||b._moveArrows._compMap.Sprite_1.set_visible(!0);b.updateMovementArrows();null!=b._voLoopage&&b._voLoopage.start()}));this._script.run(a)},roadBlockEncountered:function(a){var b=this._roadBlockMap.h[a];
this._roadBlockMap.remove(a);b.hasNode.resolve("removeObs")&&this.removeObject(w.parseInt(b.node.resolve("removeObs").att.resolve("col")),w.parseInt(b.node.resolve("removeObs").att.resolve("row")));this.addObjectFromXML(b.node.resolve("addObs").node.resolve("obj"))},dispose:function(){R.prototype.dispose.call(this);k._platform.getMouse().set_cursor(ba.Default)},tutorialTimeout:function(){},interactWithObstacle:function(a){if(!this._obstacleMap.h.hasOwnProperty(a))return!1;var b=!1;switch(this._definitionMap.get(this._obstacleMap.h[a].definition).sSound){case "bandit":b=
!0,this._soundMan.pool("snd.fx.bandit").mixerSound("bandit_rustle").play(),this._soundMan.pool("snd.vo.bandits").has("intro")?(this._soundMan.pool("snd.vo.bandits").mixerSound("intro").play(),this._soundMan.pool("snd.vo.bandits").remove("intro")):(this._soundMan.pool("snd.vo.bandits").stop(),this._soundMan.pool("snd.vo.bandits").random().play())}return b},setMovementLock:function(a,b){this._aMovementLocks[a]=b;var c=this.isMovementLocked();this._moveArrows._compMap.Sprite_1.set_visible(!c);U.get_mobile()||
k._platform.getMouse().set_cursor(c?ba.Default:ba.Button)},isMovementLocked:function(){for(var a=!1,b=0,c=this._aMovementLocks.length;b<c;)var f=b++,a=a||this._aMovementLocks[f];return a},animateCarrotToHud:function(a,b){var c=new Ha,f=(new n).add((new G(this._carrotTexture)).setAlpha(0).setXY(a-this._container._compMap.Sprite_1.x._value,b-this._container._compMap.Sprite_1.y._value)).add(c);this._container.addChild(f);var d=this._hud._compMap.LevelHud_18.getTopLeftPos();c.run(new u([new H([new hc(d.x+
80,d.y+-5,0.5,ma.quadOut,ma.quadOut),new v(f._compMap.Sprite_1.alpha,1,0.5,ma.quartOut)]),new x(B(f,f.dispose))]))},skipButtonClicked:function(){this.hideSkipButton();this._aMovementLocks[0]?this.tutorialComplete(!0):(this._script.stopAll(),this._soundMan.pool("snd.vo.closeCarrot").stop(),this.setMovementLock(1,!1))},hideSkipButton:function(){this._skipBt._compMap.Sprite_1.set_visible(!1);this._skipBt._compMap.Sprite_1.alpha.set__(0)},onRemoved:function(){R.prototype.onRemoved.call(this);null!=this._swipe&&
k.root.remove(this._swipe);E.release("level");this._levelPack=null},createPath:function(a){for(var b=[],c=null,f=0,d=this._mold.map.layers.length;f<d;)if(c=this._mold.map.layers[f++],c.name==a){a=0;for(f=c.data.length;a<f;)d=a++,0==d%c.width&&b.push([]),b[d/c.width|0].push(0!=c.data[d]);break}return b},getCoords:function(a,b){var c=new La;c.x=this._mold.map.tilewidth*(a+0.5);1==b%2&&(c.x+=this._mold.map.tilewidth/2);c.y=this._mold.map.tileheight*(0.5*b+0.5);return c},__class__:o});var Bb=function(){this._bInputToEndTutorial=
!1;this._sceneSpecificPacks=[];this._sceneSpecificPacks.push("level1");o.call(this);this._sLevelFile="level1";this._nextScene=Cb;ea.reset()};e["com.nickjr.dora.lostHorses.scenes.Level1"]=Bb;Bb.__name__="com,nickjr,dora,lostHorses,scenes,Level1".split(",");Bb.__super__=o;Bb.prototype=q(o.prototype,{assetsReady:function(){this._levelNumPack=this._assets.get("level1");o.prototype.assetsReady.call(this);this._soundMan.poolFromPack(this._levelNumPack,"snd.fx.puddle");this._soundMan.poolFromPack(this._levelNumPack,
"snd.fx.snake");this._soundMan.poolFromPack(this._levelNumPack,"snd.vo.naiya").set_priority(o.priorityNaiya);this._soundMan.poolFromPack(this._levelNumPack,"snd.vo.snake").set_priority(o.prioritySnake)},tutorialSequence:function(){var a=this;o.prototype.tutorialSequence.call(this);Ab.bSkipTutorial&&this.showSkipButton();var b=this._gameplayLib.createMovie(U.get_mobile()?"mcCursorTouch":"mcCursorArrow",null);w.instance(b.getLayer("ping").getComponent("Sprite_1"),ua).set_paused(!0);this._tutorialCursor=
(new n).add(b.disablePointer().setAlpha(0));this._container.addChild(this._tutorialCursor);b=this._soundMan.poolFromPack(this._levelNumPack,"snd.vo.tutorial",!0);b.set_priority(o.priorityTutorial);this._script.run(new u([new na(b.mixerSound("intro1")),new na(b.mixerSound("intro2")),new na(b.mixerSound("intro3")),new H([new na(b.mixerSound("intro4")),new u([new xa(1.85),new x(function(){a._hud._compMap.LevelHud_18.highlightImage(0,!0);a._hud._compMap.LevelHud_18.highlightImage(1,!0)}),new xa(1.3),
new x(function(){a._hud._compMap.LevelHud_18.highlightImage(0,!1);a._hud._compMap.LevelHud_18.highlightImage(1,!1)})])]),new x(function(){a.setMovementLock(0,!1);a._bInputToEndTutorial=!0;a.tutorialTimeout()})]))},tutorialTimeout:function(){var a=this;this._tutorialTO.paused=!0;var b=w.instance(this._tutorialCursor._compMap.Sprite_1,ua);b.setXY(686,382);b.alpha.set__(0);this._script.run(new u([new H([new na(this._soundMan.pool("snd.vo.tutorial").mixerSound("select_path")),new u([new xa(1),new v(b.alpha,
1,1),new H([new Db(b.x,100,0.75),new Db(b.y,50,0.75)]),new x(function(){w.instance(b.getLayer("ping").getComponent("Sprite_1"),ua).set_paused(!1)}),new xa(2),new x(function(){w.instance(b.getLayer("ping").getComponent("Sprite_1"),ua).set_position(0);w.instance(b.getLayer("ping").getComponent("Sprite_1"),ua).set_paused(!0)})])]),new x(function(){a._tutorialTO.paused=!1})]))},tutorialComplete:function(a){o.prototype.tutorialComplete.call(this,a);this._tutorialCursor.dispose();this._tutorialTO.dispose();
this._soundMan.pool("snd.vo.tutorial").mixerSound("success").play()},handleKeyDown:function(a){this._bInputToEndTutorial&&(this._bInputToEndTutorial=this._aPath[this._nHeroRow][this._nHeroCol]=!1,this.tutorialComplete(!1));o.prototype.handleKeyDown.call(this,a)},handlePointerDown:function(a){this._bInputToEndTutorial&&(this._bInputToEndTutorial=this._aPath[this._nHeroRow][this._nHeroCol]=!1,this.tutorialComplete(!1));o.prototype.handlePointerDown.call(this,a)},handleSwipe:function(a){this._bInputToEndTutorial&&
(this._bInputToEndTutorial=this._aPath[this._nHeroRow][this._nHeroCol]=!1,this.tutorialComplete(!1));o.prototype.handleSwipe.call(this,a)},interactWithObstacle:function(a){var b=this;if(!this._obstacleMap.h.hasOwnProperty(a))return!1;var c=!1;switch(this._definitionMap.get(this._obstacleMap.h[a].definition).sSound){case "naiya":c=!0;this._soundMan.pool("snd.fx.dora").mixerSound("Dora_Find_Friend").play();this.lockMovementForVO(new u([new na(this._soundMan.pool("snd.vo.naiya").mixerSound("naiya1")),
new na(this._soundMan.pool("snd.vo.naiya").mixerSound("naiya2")),new na(this._soundMan.pool("snd.vo.naiya").mixerSound("naiya3")),new na(this._soundMan.pool("snd.vo.naiya").mixerSound("naiya4")),new x(function(){b.putGoalInHud(a)})]));break;case "snake":c=!0;this._soundMan.pool("snd.fx.snake").mixerSound("snake_hiss").play();this._soundMan.pool("snd.vo.snake").random().play();break;case "horse":c=!0;this._soundMan.pool("snd.fx.horse").random().play();this._soundMan.pool("snd.fx.dora").mixerSound("Dora_Find_Friend").play();
var f=null,f=this._soundMan.pool("snd.vo.horse").has("intro")?new u([new na(this._soundMan.pool("snd.vo.horse").mixerSound("intro")),new x(function(){b.putGoalInHud(a);b._soundMan.pool("snd.vo.horse").remove("intro")})]):new u([new na(this._soundMan.pool("snd.vo.horse").mixerSound("horse1")),new x(function(){b._soundMan.pool("snd.vo.inactivity").remove("03");b._soundMan.pool("snd.vo.inactivity").remove("04");b.putGoalInHud(a)})]);this.lockMovementForVO(f);break;case "puddle":this._soundMan.pool("snd.fx.puddle").mixerSound("puddle").play();
break;default:c=o.prototype.interactWithObstacle.call(this,a)}return c},__class__:Bb});var Fb=function(){this._sceneSpecificPacks=[];this._sceneSpecificPacks.push("level2");o.call(this);this._sLevelFile="level2";this._nextScene=Eb};e["com.nickjr.dora.lostHorses.scenes.Level2"]=Fb;Fb.__name__="com,nickjr,dora,lostHorses,scenes,Level2".split(",");Fb.__super__=o;Fb.prototype=q(o.prototype,{assetsReady:function(){this._levelNumPack=this._assets.get("level2");o.prototype.assetsReady.call(this);this.addHalo();
this._soundMan.poolFromPack(this._levelNumPack,"snd.fx.bat");this._soundMan.poolFromPack(this._levelNumPack,"snd.fx.charm");this._soundMan.poolFromPack(this._levelNumPack,"snd.vo.alana").set_priority(o.priorityAlana);this._soundMan.poolFromPack(this._levelNumPack,"snd.vo.bat").set_priority(o.priorityBat);this._soundMan.poolFromPack(this._levelNumPack,"snd.vo.dulce").set_priority(o.priorityDulce);this._soundMan.poolFromPack(this._levelNumPack,"snd.vo.web").set_priority(o.priorityWeb)},tutorialSequence:function(){var a=
this;o.prototype.tutorialSequence.call(this);this._introEntity=(new n).add(new da(0,1366,768));this._container.addChild(this._introEntity);this._pendant=(new n).add((new G(this._levelNumPack.getTexture("horsePendant"))).setXY(683,384).centerAnchor()).add(new ia);this._pendant._compMap.Sprite_1.set_visible(!1);this._introEntity.addChild(this._pendant);Ab.bSkipTutorial&&this.showSkipButton();var b=this._soundMan.poolFromPack(this._levelNumPack,"snd.vo.tutorial",!0);b.set_priority(o.priorityTutorial);
var c=this._pendant._compMap.Sprite_1;c.alpha.set__(0);c.set_visible(!0);c.alpha.animateTo(1,0.5,ma.quadIn);c.get_pointerUp().connect(function(){a.tutorialPendantClicked()}).once();this._script.run(new u([new I(b.mixerSound("intro1")),new x(B(this,this.tutorialTimeout))]))},tutorialTimeout:function(){var a=this;this._tutorialTO.paused=!0;var b=this._pendant._compMap.Sprite_1;this._script.run(new u([new H([new I(this._soundMan.pool("snd.vo.tutorial").mixerSound("intro2")),new Ia(new u([new H([new v(b.scaleX,
1.1,0.25),new v(b.scaleY,1.1,0.25)]),new H([new v(b.scaleX,1,0.25),new v(b.scaleY,1,0.25)])]),2)]),new x(function(){a._tutorialTO.paused=!1})]))},tutorialPendantClicked:function(){var a=this;this._script.stopAll();this._tutorialTO.dispose();this._soundMan.pool("snd.fx.charm").mixerSound("charm").play();this._script.run(new u([new v(this._introEntity._compMap.Sprite_1.alpha,0,0.5),new I(this._soundMan.pool("snd.vo.tutorial").mixerSound("intro3")),new x(function(){a.tutorialComplete(!1)})]))},tutorialComplete:function(a){o.prototype.tutorialComplete.call(this,
a);this._introEntity.dispose()},moveHero:function(a,b){null==b&&(b=0.9);o.prototype.moveHero.call(this,a,b);if(null!=this._halo){var c=this.getCoords(this._nHeroCol,this._nHeroRow);this._script.run(new H([new v(this._halo._compMap.Sprite_1.x,c.x,b),new v(this._halo._compMap.Sprite_1.y,c.y,b)]))}},addHalo:function(){var a=new G(this._pack.getTexture("halo")),b=k._platform.getStage().get_width(),c=k._platform.getStage().get_height(),f=a.getNaturalWidth(),d=a.getNaturalHeight();this._halo=(new n).add((new p).setAnchor(f/
2,d/2+75).disablePointer()).addChild((new n).add(a)).addChild((new n).add((new da(0,2*b+f,c)).setXY(-b,-c))).addChild((new n).add((new da(0,b,d)).setXY(-b,0))).addChild((new n).add((new da(0,b,d)).setXY(f,0))).addChild((new n).add((new da(0,2*b+f,c)).setXY(-b,d)));this._mapSprite.getLayer("hero").addChild(this._halo);a=this.getCoords(this._nHeroCol,this._nHeroRow);this._halo._compMap.Sprite_1.setXY(a.x,a.y)},checkCollectibles:function(a){this._rainbowMap.h.hasOwnProperty(a)&&(this._halo._compMap.Sprite_1.scaleX.animateBy(0.25,
1),this._halo._compMap.Sprite_1.scaleY.animateBy(0.25,1));return o.prototype.checkCollectibles.call(this,a)},interactWithObstacle:function(a){var b=this;if(!this._obstacleMap.h.hasOwnProperty(a))return!1;var c=!1;switch(this._definitionMap.get(this._obstacleMap.h[a].definition).sSound){case "alana":c=!0;this._soundMan.pool("snd.fx.dora").mixerSound("Dora_Find_Friend").play();this._soundMan.pool("snd.vo.inactivity").remove("01");this._soundMan.pool("snd.vo.inactivity").remove("03");this.lockMovementForVO(new u([new I(this._soundMan.pool("snd.vo.alana").mixerSound("alana1")),
new I(this._soundMan.pool("snd.vo.alana").mixerSound("alana2")),new x(function(){b.putGoalInHud(a)})]));break;case "horse":c=!0;this._soundMan.pool("snd.fx.horse").random().play();this._soundMan.pool("snd.fx.dora").mixerSound("Dora_Find_Friend").play();this.lockMovementForVO(new u([new I(this._soundMan.pool("snd.vo.horse").mixerSound("horse")),new x(function(){b.putGoalInHud(a)})]));break;case "dulce":c=!0;this._soundMan.pool("snd.fx.horse").random().play();this._soundMan.pool("snd.fx.dora").mixerSound("Dora_Find_Friend").play();
this.lockMovementForVO(new u([new I(this._soundMan.pool("snd.vo.dulce").mixerSound("dulce")),new x(function(){b.putGoalInHud(a)})]));break;case "bat":c=!0;this._soundMan.pool("snd.fx.bat").mixerSound("bat").play();this._soundMan.pool("snd.vo.bat").mixerSound("bat").play();break;case "web":c=!0;this._soundMan.pool("snd.vo.web").mixerSound("web").play();break;default:c=o.prototype.interactWithObstacle.call(this,a)}return c},__class__:Fb});var Gb=function(){this._sceneSpecificPacks=[];this._sceneSpecificPacks.push("mid_cutscene");
aa.call(this);this._nextScene=Fb;this._sMovie="cutscene2"};e["com.nickjr.dora.lostHorses.scenes.MidCutScene"]=Gb;Gb.__name__="com,nickjr,dora,lostHorses,scenes,MidCutScene".split(",");Gb.__super__=aa;Gb.prototype=q(aa.prototype,{assetsReady:function(){this._pack=this._assets.get("mid_cutscene");aa.prototype.assetsReady.call(this)},__class__:Gb});var Aa=function(){this._nWrong=0;this._bImageClickActive=!1;this._nSuccesses=0;R.call(this);this.requiredPacks.push("mini")};e["com.nickjr.dora.lostHorses.scenes.MiniSceneBase"]=
Aa;Aa.__name__="com,nickjr,dora,lostHorses,scenes,MiniSceneBase".split(",");Aa.__super__=R;Aa.prototype=q(R.prototype,{assetsReady:function(){var a=this;R.prototype.assetsReady.call(this);var b=this._assets.get("mini");this.setBackground(new nb(this._pack.getTexture("bgLeft"),this._pack.getTexture("bgRight")));this._soundMan=new bb;this._soundMan.poolFromPack(b,"snd.fx.correct");this._soundMan.poolFromPack(b,"snd.fx.incorrect");this._sequencePool=this._soundMan.poolFromPack(this._pack,"snd.vo.sequence");
this._incorrectPool=this._soundMan.poolFromPack(b,"snd.vo.incorrect");this._highlightPool=this._soundMan.poolFromPack(this._pack,"snd.vo.highlight");this._inactivePool=this._soundMan.poolFromPack(this._pack,"snd.vo.inactive");this.owner.add(this._soundMan);this.makeClickables();this._disposer.connect1(this._firstClickable._compMap.Sprite_1.get_pointerUp(),function(){a.clickableClicked(1)});this._disposer.connect1(this._secondClickable._compMap.Sprite_1.get_pointerUp(),function(){a.clickableClicked(2)});
this._disposer.connect1(this._thirdClickable._compMap.Sprite_1.get_pointerUp(),function(){a.clickableClicked(3)});this._container.addChild(this._firstClickable).addChild(this._secondClickable).addChild(this._thirdClickable);this._inactiveTO=(new cb(10)).setPaused(!0);this._disposer.connect0(this._inactiveTO.completed,B(this,this.handleInactive));this._container.add(this._inactiveTO);D.setBgLoop(null)},makeClickables:function(){},clickableClicked:function(a){this._inactiveTO.reset();if(this._bImageClickActive){this._highlightPool.stop();
this.resetClickables();var b=!1;3==a&&0==this._nSuccesses?b=!0:2==a&&1==this._nSuccesses?b=!0:1==a&&2==this._nSuccesses&&(b=!0);b?(this._bImageClickActive=!1,this._nSuccesses++,this._nWrong=0,this._soundMan.pool("snd.fx.correct").mixerSound("correct").play(),this.playSequence()):this.incorrectVO()}},handleInactive:function(){},resetClickables:function(){},playSequence:function(){},incorrectVO:function(){},__class__:Aa});var Cb=function(){this._sceneSpecificPacks=[];this._sceneSpecificPacks.push("mini1");
Aa.call(this);this._nextScene=Gb};e["com.nickjr.dora.lostHorses.scenes.Mini1Scene"]=Cb;Cb.__name__="com,nickjr,dora,lostHorses,scenes,Mini1Scene".split(",");Cb.__super__=Aa;Cb.prototype=q(Aa.prototype,{assetsReady:function(){this._pack=this._assets.get("mini1");Aa.prototype.assetsReady.call(this);this._firstTrack=(new n).add((new G(this._pack.getTexture("horseSymbol"))).setXY(324,286));this._secondTrack=(new n).add((new G(this._pack.getTexture("pigSymbol"))).setXY(304,314));this._thirdTrack=(new n).add((new G(this._pack.getTexture("chickenSymbol"))).setXY(332,
307));this._firstTrack._compMap.Sprite_1.set_visible(!1);this._secondTrack._compMap.Sprite_1.set_visible(!1);this._thirdTrack._compMap.Sprite_1.set_visible(!1);this._container.addChild(this._firstTrack).addChild(this._secondTrack).addChild(this._thirdTrack);this.playSequence()},makeClickables:function(){this._firstClickable=(new n).add((new G(this._pack.getTexture("horseOn"))).centerAnchor().setXY(551,169)).add(new ia);this._secondClickable=(new n).add((new G(this._pack.getTexture("pigOn"))).centerAnchor().setXY(726,
169)).add(new ia);this._thirdClickable=(new n).add((new G(this._pack.getTexture("chickenOn"))).centerAnchor().setXY(901,169)).add(new ia)},shuffleClickables:function(a){var b=this;if(0!=a){var c=[this._firstClickable._compMap.Sprite_1,this._secondClickable._compMap.Sprite_1,this._thirdClickable._compMap.Sprite_1],f=c.splice(w["int"](Math.random()*c.length),1).pop(),c=c.splice(w["int"](Math.random()*c.length),1).pop(),d=f.x._value;this._script.run(new u([new H([new v(f.x,c.x._value,0.4),new v(c.x,
d,0.4)]),new x(function(){b.shuffleClickables(a-1)})]))}},showNext:function(){var a=this,b=null;switch(this._nSuccesses){case 1:b=this._thirdTrack._compMap.Sprite_1;break;case 2:b=this._secondTrack._compMap.Sprite_1}var c=new u([]);null!=b&&(c.add(new v(b.alpha,0,0.5,ma.quadIn)),c.add(new x(function(){b.set_visible(!1)})));switch(this._nSuccesses){case 0:b=this._thirdTrack._compMap.Sprite_1;break;case 1:b=this._secondTrack._compMap.Sprite_1;break;case 2:b=this._firstTrack._compMap.Sprite_1;break;
default:return}c.add(new x(function(){b.alpha.set__(0);b.set_visible(!0);b.alpha.animateTo(1,1,ma.quadIn);a._bImageClickActive=!0;a.shuffleClickables(w["int"](3*Math.random())+2)}));this._script.run(c)},incorrectVO:function(){null!=this._sequence&&this._sequence.removeAll();this._sequencePool.stop();this._incorrectPool.stop();this._inactivePool.stop();this._soundMan.pool("snd.fx.incorrect").mixerSound("incorrect").play();if(1<++this._nWrong){var a=null;switch(this._nSuccesses){case 0:a=this._thirdClickable._compMap.Sprite_1;
break;case 1:a=this._secondClickable._compMap.Sprite_1;break;case 2:a=this._firstClickable._compMap.Sprite_1;break;default:return}this._sequence=new u([new H([new I(this._highlightPool.mixerSound("highlight")),new Ia(new u([new H([new v(a.scaleX,1.1,0.25),new v(a.scaleY,1.1,0.25)]),new H([new v(a.scaleX,1,0.25),new v(a.scaleY,1,0.25)])]),4)])]);this._script.run(this._sequence)}else this._incorrectPool.random().play()},playSequence:function(){var a=this;null!=this._sequence&&this._sequence.removeAll();
this._sequencePool.stop();this._incorrectPool.stop();this._inactivePool.stop();this._inactiveTO.paused=!0;switch(this._nSuccesses){case 0:this._sequence=new u([new H([new x(B(this,this.showNext)),new I(this._sequencePool.mixerSound("01"))]),new I(this._sequencePool.mixerSound("02"))]);break;case 1:this._sequence=new u([new I(this._sequencePool.mixerSound("03")),new H([new x(B(this,this.showNext)),new I(this._sequencePool.mixerSound("04"))])]);break;case 2:this._sequence=new u([new I(this._sequencePool.mixerSound("05")),
new H([new x(B(this,this.showNext)),new I(this._sequencePool.mixerSound("06"))])]);break;case 3:this._sequence=new u([new I(this._sequencePool.mixerSound("07")),new x(function(){z["goto"](a._nextScene)})]);break;default:return}this._sequence.add(new x(function(){a._inactiveTO.reset();a._inactiveTO.paused=!1}));this._script.run(this._sequence)},handleInactive:function(){null!=this._sequence&&this._sequence.removeAll();this._sequence=new u([new H([new I(this._inactivePool.mixerSound("inactive")),new Ia(new u([new H([new v(this._firstClickable._compMap.Sprite_1.scaleX,
1.1,0.25),new v(this._firstClickable._compMap.Sprite_1.scaleY,1.1,0.25),new v(this._secondClickable._compMap.Sprite_1.scaleX,1.1,0.25),new v(this._secondClickable._compMap.Sprite_1.scaleY,1.1,0.25),new v(this._thirdClickable._compMap.Sprite_1.scaleX,1.1,0.25),new v(this._thirdClickable._compMap.Sprite_1.scaleY,1.1,0.25)]),new H([new v(this._firstClickable._compMap.Sprite_1.scaleX,1,0.25),new v(this._firstClickable._compMap.Sprite_1.scaleY,1,0.25),new v(this._secondClickable._compMap.Sprite_1.scaleX,
1,0.25),new v(this._secondClickable._compMap.Sprite_1.scaleY,1,0.25),new v(this._thirdClickable._compMap.Sprite_1.scaleX,1,0.25),new v(this._thirdClickable._compMap.Sprite_1.scaleY,1,0.25)])]),4)])]);this._script.run(this._sequence)},resetClickables:function(){this._firstClickable._compMap.Sprite_1.scaleX.set__(1);this._firstClickable._compMap.Sprite_1.scaleY.set__(1);this._secondClickable._compMap.Sprite_1.scaleX.set__(1);this._secondClickable._compMap.Sprite_1.scaleY.set__(1);this._thirdClickable._compMap.Sprite_1.scaleX.set__(1);
this._thirdClickable._compMap.Sprite_1.scaleY.set__(1)},__class__:Cb});var Eb=function(){this._sceneSpecificPacks=[];this._sceneSpecificPacks.push("mini2");Aa.call(this);this._nextScene=Hb};e["com.nickjr.dora.lostHorses.scenes.Mini2Scene"]=Eb;Eb.__name__="com,nickjr,dora,lostHorses,scenes,Mini2Scene".split(",");Eb.__super__=Aa;Eb.prototype=q(Aa.prototype,{assetsReady:function(){this._pack=this._assets.get("mini2");Aa.prototype.assetsReady.call(this);this.playSequence()},makeClickables:function(){this._firstClickable=
(new n).add((new G(this._pack.getTexture("sunSymbol"))).setXY(254,236)).add(new ia);this._secondClickable=(new n).add((new G(this._pack.getTexture("batSymbol"))).setXY(872,236)).add(new ia);this._thirdClickable=(new n).add((new G(this._pack.getTexture("snakeSymbol"))).setXY(595,236)).add(new ia)},incorrectVO:function(){null!=this._sequence&&this._sequence.removeAll();this._sequencePool.stop();this._incorrectPool.stop();this._inactivePool.stop();this._soundMan.pool("snd.fx.incorrect").mixerSound("incorrect").play();
if(1<++this._nWrong){var a=null;switch(this._nSuccesses){case 0:a=this._thirdClickable._compMap.Sprite_1;break;case 1:a=this._secondClickable._compMap.Sprite_1;break;case 2:a=this._firstClickable._compMap.Sprite_1;break;default:return}this._sequence=new u([new H([new I(this._highlightPool.mixerSound("highlight")),new Ia(new u([new v(a.alpha,0,0.25),new v(a.alpha,1,0.25)]),4)])]);this._script.run(this._sequence)}else this._incorrectPool.random().play()},playSequence:function(){var a=this;null!=this._sequence&&
this._sequence.removeAll();this._sequencePool.stop();this._incorrectPool.stop();this._inactivePool.stop();this._inactiveTO.paused=!0;switch(this._nSuccesses){case 0:this._sequence=new u([new H([new x(function(){a._bImageClickActive=!0}),new I(this._sequencePool.mixerSound("01"))]),new I(this._sequencePool.mixerSound("02")),new x(function(){a._inactiveTO.paused=!1})]);break;case 1:this._sequence=new u([new I(this._sequencePool.mixerSound("03")),new H([new x(function(){a._bImageClickActive=!0}),new I(this._sequencePool.mixerSound("04"))])]);
break;case 2:this._sequence=new u([new I(this._sequencePool.mixerSound("05")),new H([new x(function(){a._bImageClickActive=!0}),new I(this._sequencePool.mixerSound("06"))])]);break;case 3:this._sequence=new u([new I(this._sequencePool.mixerSound("07")),new x(function(){z["goto"](a._nextScene)})]);break;default:return}this._sequence.add(new x(function(){a._inactiveTO.reset();a._inactiveTO.paused=!1}));this._script.run(this._sequence)},handleInactive:function(){null!=this._sequence&&this._sequence.removeAll();
this._sequence=new u([new H([new I(this._sequencePool.mixerSound("0"+(2*this._nSuccesses+2))),new Ia(new u([new H([new v(this._firstClickable._compMap.Sprite_1.alpha,0,0.25),new v(this._secondClickable._compMap.Sprite_1.alpha,0,0.25),new v(this._thirdClickable._compMap.Sprite_1.alpha,0,0.25)]),new H([new v(this._firstClickable._compMap.Sprite_1.alpha,1,0.25),new v(this._secondClickable._compMap.Sprite_1.alpha,1,0.25),new v(this._thirdClickable._compMap.Sprite_1.alpha,1,0.25)])]),4)])]);this._script.run(this._sequence)},
resetClickables:function(){this._firstClickable._compMap.Sprite_1.alpha.set__(1);this._secondClickable._compMap.Sprite_1.alpha.set__(1);this._thirdClickable._compMap.Sprite_1.alpha.set__(1)},__class__:Eb});var Hb=function(){this._bTalking=!1;this._sceneSpecificPacks=[];this._sceneSpecificPacks.push("outro_cutscene");aa.call(this);this._nextScene=mb;this._sMovie="cutscene3"};e["com.nickjr.dora.lostHorses.scenes.OutroCutScene"]=Hb;Hb.__name__="com,nickjr,dora,lostHorses,scenes,OutroCutScene".split(",");
Hb.__super__=aa;Hb.prototype=q(aa.prototype,{assetsReady:function(){var a=this;this._pack=this._assets.get("outro_cutscene");aa.prototype.assetsReady.call(this);this._playBt=(new n).add((new G(this._globalPack.getTexture("button/playAgain"))).centerAnchor().setAlpha(0)).add(new ia);this._container.addChild(this._playBt);this._playBt._compMap.Sprite_1.set_visible(!1);this._printBt=(new n).add((new G(this._globalPack.getTexture("button/print"))).centerAnchor().setAlpha(0)).add(new ia);this._container.addChild(this._printBt);
this._printBt._compMap.Sprite_1.set_visible(!1);this._soundMan=new bb;this.owner.add(this._soundMan);this._soundMan.poolFromPack(this._pack,"snd.vo.options");this._inactiveTO=(new cb(10)).setPaused(!0);this._container.add(this._inactiveTO);this._disposer.connect0(this._inactiveTO.completed,B(this,this.handleInactive));this._disposer.connect1(this._playBt._compMap.Sprite_1.get_pointerIn(),function(){a.onPlayOver()});this._disposer.connect1(this._printBt._compMap.Sprite_1.get_pointerIn(),function(){a.onPrintOver()});
this._disposer.connect1(this._playBt._compMap.Sprite_1.get_pointerUp(),function(){a.playClicked()});this._disposer.connect1(this._printBt._compMap.Sprite_1.get_pointerUp(),function(){a.printClicked()})},onResize:function(){aa.prototype.onResize.call(this);J.bottom(J.right(this._playBt,11),11);J.bottom(J.left(this._printBt,11),11)},endCutScene:function(){this._movie.set_position(this._movie.symbol.duration);this._movie.onUpdate(0);this._movie.set_paused(!0);this._skipBt._compMap.Sprite_1.set_visible(!1);
this._vo.dispose();this._clickSound.play();this.showEndButtons()},showEndButtons:function(){var a=this,b=this._playBt._compMap.Sprite_1;b.set_visible(!0);b.alpha.animateTo(1,0.5,ma.quadOut);this.playLipFlap(!0);this._bTalking=!0;var c=new u([new H([new I(this._soundMan.pool("snd.vo.options").mixerSound("explainPlayAgain")),new u([new xa(2.5),new Ia(new u([new H([new v(this._playBt._compMap.Sprite_1.scaleX,1.1,0.25),new v(this._playBt._compMap.Sprite_1.scaleY,1.1,0.25)]),new H([new v(this._playBt._compMap.Sprite_1.scaleX,
1,0.25),new v(this._playBt._compMap.Sprite_1.scaleY,1,0.25)])]),2)])])]);U.get_mobile()||(b=this._printBt._compMap.Sprite_1,b.set_visible(!0),b.alpha.animateTo(1,0.5,ma.quadOut),c.add(new H([new I(this._soundMan.pool("snd.vo.options").mixerSound("explainPrint")),new u([new xa(1.8),new Ia(new u([new H([new v(this._printBt._compMap.Sprite_1.scaleX,1.1,0.25),new v(this._printBt._compMap.Sprite_1.scaleY,1.1,0.25)]),new H([new v(this._printBt._compMap.Sprite_1.scaleX,1,0.25),new v(this._printBt._compMap.Sprite_1.scaleY,
1,0.25)])]),2)])])));c.add(new x(function(){a.playLipFlap(!1);a._bTalking=!1;a._inactiveTO.reset();a._inactiveTO.paused=!1}));this._script.run(c)},playClicked:function(){this._clickSound.play();Fa.bCanadaTrack&&k._platform.getExternal().call("trackFlashEvent",["Dora and Friends: Lost Horses!","replay","true"]);Ab.bSkipTutorial=!0;z["goto"](this._nextScene)},printClicked:function(){this._clickSound.play();Fa.bCanadaTrack&&k._platform.getExternal().call("trackFlashEvent",["Dora and Friends: Lost Horses!",
"print","true"]);var a=Fa.xConfig.node.resolve("printable").get_innerData();k._platform.getWeb().openBrowser(a)},onPlayOver:function(){var a=this;this.playLipFlap(!0);this._script.run(new u([new I(this._soundMan.pool("snd.vo.options").mixerSound("playAgain")),new x(function(){a._bTalking||a.playLipFlap(!1)})]))},onPrintOver:function(){var a=this;this.playLipFlap(!0);this._script.run(new u([new I(this._soundMan.pool("snd.vo.options").mixerSound("print")),new x(function(){a._bTalking||a.playLipFlap(!1)})]))},
playLipFlap:function(a){var b=w.instance(this._movie.getLayer("Dora").getComponent("Sprite_1"),ua);b.set_paused(a);b.set_visible(!a);b=w.instance(this._movie.getLayer("DoraTalk").getComponent("Sprite_1"),ua);b.set_paused(!a);b.set_visible(a)},handleInactive:function(){this.endCutScene()},__class__:Hb});var xb=function(){this._sceneSpecificPacks=[];this._sceneSpecificPacks.push("title_scene");R.call(this)};e["com.nickjr.dora.lostHorses.scenes.TitleScene"]=xb;xb.__name__="com,nickjr,dora,lostHorses,scenes,TitleScene".split(",");
xb.__super__=R;xb.prototype=q(R.prototype,{assetsReady:function(){var a=this;R.prototype.assetsReady.call(this);this._pack=this._assets.get("title_scene");this._soundMan=new bb;this._VOPool=this._soundMan.poolFromPack(this._pack,"snd.vo");this._soundMan.poolFromPack(this._globalPack,"snd.fx.click");this.owner.add(this._soundMan);this.setBackground(new nb(this._pack.getTexture("bgLeft"),this._pack.getTexture("bgRight")));this._container.addChild((new n).add((new G(this._pack.getTexture("title"))).setXY(783,
188)));this._container.addChild((new n).add((new G(this._pack.getTexture("property"))).setXY(849,65)));this._playBt=(new n).add(new G(this._globalPack.getTexture("button/play"))).add(new ia);this._container.addChild(this._playBt);this._disposer.connect1(this._playBt._compMap.Sprite_1.get_pointerIn(),function(){a._VOPool.sound("play").play();a._VOPool.mixerSound("intro").stop()});this._disposer.connect1(this._playBt._compMap.Sprite_1.get_pointerUp(),function(){a.onPlayClick()});this._VOPool.mixerSound("intro").play();
this._inactiveTO=new cb(10);this._container.add(this._inactiveTO);this._disposer.connect0(this._inactiveTO.completed,B(this,this.handleInactive));D.setBgLoop(this._pack.getSound("snd/track/title"))},onResize:function(){R.prototype.onResize.call(this);J.bottom(J.right(this._playBt,11),11)},onPlayClick:function(){this._soundMan.pool("snd.fx.click").mixerSound("click").play();Fa.bCanadaTrack&&k._platform.getExternal().call("trackFlashEvent",["Dora and Friends: Lost Horses!","play","true"]);z["goto"](mb)},
handleInactive:function(){this._inactiveTO.reset();this._inactiveTO.paused=!1;this._VOPool.mixerSound("select_play_to_start").play()},__class__:xb});var Ga=function(){r.call(this);this._disposables=[]};e["flambe.Disposer"]=Ga;Ga.__name__=["flambe","Disposer"];Ga.__super__=r;Ga.prototype=q(r.prototype,{get_name:function(){return"Disposer_4"},add:function(a){this._disposables.push(a);return this},connect0:function(a,b){this.add(a.connect(b));return this},connect1:function(a,b){this.add(a.connect(b));
return this},onRemoved:function(){this.freeDisposables()},dispose:function(){r.prototype.dispose.call(this);this.freeDisposables()},freeDisposables:function(){var a=this._disposables;this._disposables=[];for(var b=0;b<a.length;){var c=a[b];++b;c.dispose()}},__class__:Ga});var n=function(){this.parent=this.firstChild=this.next=this.firstComponent=null;this._compMap={}};e["flambe.Entity"]=n;n.__name__=["flambe","Entity"];n.__interfaces__=[ka];n.prototype={add:function(a){null!=a.owner&&a.owner.remove(a);
var b=a.get_name(),c=this._compMap[b];null!=c&&this.remove(c);this._compMap[b]=a;b=null;for(c=this.firstComponent;null!=c;)b=c,c=c.next;null!=b?b.next=a:this.firstComponent=a;a.owner=this;a.next=null;a.onAdded();return this},remove:function(a){for(var b=null,c=this.firstComponent;null!=c;){var f=c.next;if(c==a)return null==b?this.firstComponent=f:(b.owner=this,b.next=f),delete this._compMap[c.get_name()],0!=(c._flags&1)&&(c.onStop(),c._flags&=-2),c.onRemoved(),c.owner=null,c.next=null,!0;b=c;c=f}return!1},
getComponent:function(a){return this._compMap[a]},addChild:function(a,b){null==b&&(b=!0);null!=a.parent&&a.parent.removeChild(a);a.parent=this;if(b){for(var c=null,f=this.firstChild;null!=f;)c=f,f=f.next;null!=c?c.next=a:this.firstChild=a}else a.next=this.firstChild,this.firstChild=a;return this},removeChild:function(a){for(var b=null,c=this.firstChild;null!=c;){var f=c.next;if(c==a){null==b?this.firstChild=f:b.next=f;c.parent=null;c.next=null;break}b=c;c=f}},disposeChildren:function(){for(;null!=
this.firstChild;)this.firstChild.dispose()},dispose:function(){for(null!=this.parent&&this.parent.removeChild(this);null!=this.firstComponent;)this.firstComponent.dispose();this.disposeChildren()},__class__:n};var Jd=function(){};e["flambe.util.PackageLog"]=Jd;Jd.__name__=["flambe","util","PackageLog"];var Zc=function(){};e["flambe.platform.Platform"]=Zc;Zc.__name__=["flambe","platform","Platform"];Zc.prototype={__class__:Zc};var Va=function(){};e["flambe.platform.html.HtmlPlatform"]=Va;Va.__name__=
["flambe","platform","html","HtmlPlatform"];Va.__interfaces__=[Zc];Va.prototype={init:function(){var a=this;A.fixAndroidMath();var b=null;try{b=window.flambe.canvas}catch(c){c instanceof m&&(c=c.val)}b.setAttribute("tabindex","0");b.style.outlineStyle="none";b.style.webkitTapHighlightColor="transparent";b.setAttribute("moz-opaque","true");this._stage=new ob(b);this._pointer=new fa;this._mouse=new ic(this._pointer,b);this._renderer=this.createRenderer(b);this.mainLoop=new pb;this.musicPlaying=!1;this._canvas=
b;this._container=b.parentElement;this._container.style.overflow="hidden";this._container.style.position="relative";this._container.style.msTouchAction="none";var f=0,d=function(c){if(!(1E3>c.timeStamp-f)){var d=b.getBoundingClientRect(),s=a.getX(c,d),d=a.getY(c,d);switch(c.type){case "mousedown":c.target==b&&(c.preventDefault(),a._mouse.submitDown(s,d,c.button),b.focus());break;case "mousemove":a._mouse.submitMove(s,d);break;case "mouseup":a._mouse.submitUp(s,d,c.button);break;case "mousewheel":case "DOMMouseScroll":a._mouse.submitScroll(s,
d,"mousewheel"==c.type?c.wheelDelta/40:-c.detail)&&c.preventDefault()}}};window.addEventListener("mousedown",d,!1);window.addEventListener("mousemove",d,!1);window.addEventListener("mouseup",d,!1);b.addEventListener("mousewheel",d,!1);b.addEventListener("DOMMouseScroll",d,!1);b.addEventListener("contextmenu",function(a){a.preventDefault()},!1);var g="undefined"!=typeof window.ontouchstart,d="msMaxTouchPoints"in window.navigator&&1<window.navigator.msMaxTouchPoints;if(g||d){var e=new jc(this._pointer,
g?4:window.navigator.msMaxTouchPoints);this._touch=e;d=function(b){var c;c=g?b.changedTouches:[b];var d=b.target.getBoundingClientRect();f=b.timeStamp;switch(b.type){case "touchstart":case "MSPointerDown":case "pointerdown":b.preventDefault();A.SHOULD_HIDE_MOBILE_BROWSER&&A.hideMobileBrowser();for(b=0;b<c.length;){var s=c[b];++b;var j=a.getX(s,d),Q=a.getY(s,d);e.submitDown((g?s.identifier:s.pointerId)|0,j,Q)}break;case "touchmove":case "MSPointerMove":case "pointermove":b.preventDefault();for(b=0;b<
c.length;)s=c[b],++b,j=a.getX(s,d),Q=a.getY(s,d),e.submitMove((g?s.identifier:s.pointerId)|0,j,Q);break;case "touchend":case "touchcancel":case "MSPointerUp":case "pointerup":for(b=0;b<c.length;)s=c[b],++b,j=a.getX(s,d),Q=a.getY(s,d),e.submitUp((g?s.identifier:s.pointerId)|0,j,Q)}};g?(b.addEventListener("touchstart",d,!1),b.addEventListener("touchmove",d,!1),b.addEventListener("touchend",d,!1),b.addEventListener("touchcancel",d,!1)):(b.addEventListener("MSPointerDown",d,!1),b.addEventListener("MSPointerMove",
d,!1),b.addEventListener("MSPointerUp",d,!1))}else this._touch=new kc;var Q=window.onerror;window.onerror=function(a,b,c){k.uncaughtError.emit(a);return null!=Q?Q(a,b,c):!1};var j=A.loadExtension("hidden",window.document);null!=j.value?(d=function(){k.hidden.set__(ja.field(window.document,j.field))},d(null),window.document.addEventListener(j.prefix+"visibilitychange",d,!1)):(d=function(a){k.hidden.set__("pagehide"==a.type)},window.addEventListener("pageshow",d,!1),window.addEventListener("pagehide",
d,!1));k.hidden.get_changed().connect(function(b){b||(a._skipFrame=!0)});this._skipFrame=!1;this._lastUpdate=Date.now();var h=A.loadExtension("requestAnimationFrame").value;if(null!=h){var l=window.performance,Od=null!=l&&A.polyfill("now",l);Od?this._lastUpdate=l.now():null;var n=null,n=function(c){a.update(Od?l.now():c);h(n,b)};h(n,b)}else window.setInterval(function(){a.update(Date.now())},16);Ib.info("Initialized HTML platform",["renderer",this._renderer.get_type()])},loadAssetPack:function(a){return(new K(this,
a)).promise},getStage:function(){return this._stage},update:function(a){var b=(a-this._lastUpdate)/1E3;this._lastUpdate=a;k.hidden._value||(this._skipFrame?this._skipFrame=!1:(this.mainLoop.update(b),this.mainLoop.render(this._renderer)))},getPointer:function(){return this._pointer},getMouse:function(){return this._mouse},getTouch:function(){return this._touch},getKeyboard:function(){var a=this;if(null==this._keyboard){this._keyboard=new Ja;var b=function(b){switch(b.type){case "keydown":a._keyboard.submitDown(b.keyCode)&&
b.preventDefault();break;case "keyup":a._keyboard.submitUp(b.keyCode)}};this._canvas.addEventListener("keydown",b,!1);this._canvas.addEventListener("keyup",b,!1)}return this._keyboard},getWeb:function(){null==this._web&&(this._web=new lc(this._container));return this._web},getExternal:function(){null==this._external&&(this._external=new mc);return this._external},getRenderer:function(){return this._renderer},getX:function(a,b){return(a.clientX-b.left)*this._stage.get_width()/b.width},getY:function(a,
b){return(a.clientY-b.top)*this._stage.get_height()/b.height},createRenderer:function(a){try{var b=Kd.getContextWebGL(a,{alpha:!1,depth:!1,failIfMajorPerformanceCaveat:!0});if(null!=b)if(A.detectSlowDriver(b))null;else return new nc(this._stage,b)}catch(c){c instanceof m&&(c=c.val)}return new qb(a)},__class__:Va};var X=function(a,b){this._value=a;this._changed=null!=b?new rb(b):null};e["flambe.util.Value"]=X;X.__name__=["flambe","util","Value"];X.prototype={watch:function(a){a(this._value,this._value);
return this.get_changed().connect(a)},get__:function(){return this._value},set__:function(a){var b=this._value;a!=b&&(this._value=a,null!=this._changed&&this._changed.emit(a,b));return a},get_changed:function(){null==this._changed&&(this._changed=new rb);return this._changed},__class__:X};var sb=function(a,b){this._next=null;this._signal=a;this._listener=b;this.stayInList=!0};e["flambe.util.SignalConnection"]=sb;sb.__name__=["flambe","util","SignalConnection"];sb.__interfaces__=[ka];sb.prototype=
{once:function(){this.stayInList=!1;return this},dispose:function(){null!=this._signal&&(this._signal.disconnect(this),this._signal=null)},__class__:sb};var $=function(a){this._head=null!=a?new sb(this,a):null;this._deferredTasks=null};e["flambe.util.SignalBase"]=$;$.__name__=["flambe","util","SignalBase"];$.prototype={connectImpl:function(a,b){var c=this,f=new sb(this,a);this._head==$.DISPATCHING_SENTINEL?this.defer(function(){c.listAdd(f,b)}):this.listAdd(f,b);return f},disconnect:function(a){var b=
this;this._head==$.DISPATCHING_SENTINEL?this.defer(function(){b.listRemove(a)}):this.listRemove(a)},defer:function(a){for(var b=null,c=this._deferredTasks;null!=c;)b=c,c=c.next;a=new $c(a);null!=b?b.next=a:this._deferredTasks=a},willEmit:function(){var a=this._head;this._head=$.DISPATCHING_SENTINEL;return a},didEmit:function(a){this._head=a;a=this._deferredTasks;for(this._deferredTasks=null;null!=a;)a.fn(),a=a.next},listAdd:function(a,b){if(b)a._next=this._head,this._head=a;else{for(var c=null,f=
this._head;null!=f;)c=f,f=f._next;null!=c?c._next=a:this._head=a}},listRemove:function(a){for(var b=null,c=this._head;null!=c;){if(c==a){a=c._next;null==b?this._head=a:b._next=a;break}b=c;c=c._next}},__class__:$};var rb=function(a){$.call(this,a)};e["flambe.util.Signal2"]=rb;rb.__name__=["flambe","util","Signal2"];rb.__super__=$;rb.prototype=q($.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(a,b){var c=this;this._head==$.DISPATCHING_SENTINEL?this.defer(function(){c.emitImpl(a,
b)}):this.emitImpl(a,b)},emitImpl:function(a,b){for(var c=this.willEmit(),f=c;null!=f;)f._listener(a,b),f.stayInList||f.dispose(),f=f._next;this.didEmit(c)},__class__:rb});var P=function(a){$.call(this,a)};e["flambe.util.Signal1"]=P;P.__name__=["flambe","util","Signal1"];P.__super__=$;P.prototype=q($.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(a){var b=this;this._head==$.DISPATCHING_SENTINEL?this.defer(function(){b.emitImpl(a)}):this.emitImpl(a)},emitImpl:function(a){for(var b=
this.willEmit(),c=b;null!=c;)c._listener(a),c.stayInList||c.dispose(),c=c._next;this.didEmit(b)},__class__:P});var L=function(a,b){this._behavior=null;X.call(this,a,b)};e["flambe.animation.AnimatedFloat"]=L;L.__name__=["flambe","animation","AnimatedFloat"];L.__super__=X;L.prototype=q(X.prototype,{set__:function(a){this._behavior=null;return X.prototype.set__.call(this,a)},update:function(a){null!=this._behavior&&(X.prototype.set__.call(this,this._behavior.update(a)),this._behavior.isComplete()&&(this._behavior=
null))},animateTo:function(a,b,c){this.set_behavior(new Ta(this._value,a,b,c))},animateBy:function(a,b,c){this.set_behavior(new Ta(this._value,this._value+a,b,c))},set_behavior:function(a){this._behavior=a;this.update(0);return a},__class__:L});var k=function(){};e["flambe.System"]=k;k.__name__=["flambe","System"];k.init=function(){k._calledInit||(k._platform.init(),k._calledInit=!0)};k.loadAssetPack=function(a){return k._platform.loadAssetPack(a)};var Ib=function(){};e["flambe.Log"]=Ib;Ib.__name__=
["flambe","Log"];Ib.info=function(){null};Ib.__super__=Jd;Ib.prototype=q(Jd.prototype,{__class__:Ib});var yb=function(a){null==a&&(a=1);this._realDt=0;r.call(this);this.scale=new L(a)};e["flambe.SpeedAdjuster"]=yb;yb.__name__=["flambe","SpeedAdjuster"];yb.__super__=r;yb.prototype=q(r.prototype,{get_name:function(){return"SpeedAdjuster_5"},onUpdate:function(a){0<this._realDt&&(a=this._realDt,this._realDt=0);this.scale.update(a)},__class__:yb});var ad=function(){};e["flambe.animation.Behavior"]=ad;
ad.__name__=["flambe","animation","Behavior"];ad.prototype={__class__:ad};var ma=function(){};e["flambe.animation.Ease"]=ma;ma.__name__=["flambe","animation","Ease"];ma.linear=function(a){return a};ma.quadIn=function(a){return a*a};ma.quadOut=function(a){return a*(2-a)};ma.quartOut=function(a){return 1- --a*a*a*a};var Ta=function(a,b,c,f){this._from=a;this._to=b;this._duration=c;this.elapsed=0;this._easing=null!=f?f:ma.linear};e["flambe.animation.Tween"]=Ta;Ta.__name__=["flambe","animation","Tween"];
Ta.__interfaces__=[ad];Ta.prototype={update:function(a){this.elapsed+=a;return this.elapsed>=this._duration?this._to:this._from+(this._to-this._from)*this._easing(this.elapsed/this._duration)},isComplete:function(){return this.elapsed>=this._duration},__class__:Ta};var db=function(){};e["flambe.asset.Asset"]=db;db.__name__=["flambe","asset","Asset"];db.__interfaces__=[ka];db.prototype={__class__:db};var i=e["flambe.asset.AssetFormat"]={__ename__:!0,__constructs__:"WEBP,JXR,PNG,JPG,GIF,DDS,PVR,PKM,MP3,M4A,OPUS,OGG,WAV,Data".split(",")};
i.WEBP=["WEBP",0];i.WEBP.toString=h;i.WEBP.__enum__=i;i.JXR=["JXR",1];i.JXR.toString=h;i.JXR.__enum__=i;i.PNG=["PNG",2];i.PNG.toString=h;i.PNG.__enum__=i;i.JPG=["JPG",3];i.JPG.toString=h;i.JPG.__enum__=i;i.GIF=["GIF",4];i.GIF.toString=h;i.GIF.__enum__=i;i.DDS=["DDS",5];i.DDS.toString=h;i.DDS.__enum__=i;i.PVR=["PVR",6];i.PVR.toString=h;i.PVR.__enum__=i;i.PKM=["PKM",7];i.PKM.toString=h;i.PKM.__enum__=i;i.MP3=["MP3",8];i.MP3.toString=h;i.MP3.__enum__=i;i.M4A=["M4A",9];i.M4A.toString=h;i.M4A.__enum__=
i;i.OPUS=["OPUS",10];i.OPUS.toString=h;i.OPUS.__enum__=i;i.OGG=["OGG",11];i.OGG.toString=h;i.OGG.__enum__=i;i.WAV=["WAV",12];i.WAV.toString=h;i.WAV.__enum__=i;i.Data=["Data",13];i.Data.toString=h;i.Data.__enum__=i;var bd=function(a,b,c,f){this.name=a;this.url=b;this.format=c;this.bytes=f};e["flambe.asset.AssetEntry"]=bd;bd.__name__=["flambe","asset","AssetEntry"];bd.prototype={__class__:bd};var Jb=function(){};e["flambe.asset.AssetPack"]=Jb;Jb.__name__=["flambe","asset","AssetPack"];Jb.__interfaces__=
[ka];Jb.prototype={__class__:Jb};var oc=function(){};e["flambe.asset.File"]=oc;oc.__name__=["flambe","asset","File"];oc.__interfaces__=[db];oc.prototype={__class__:oc};var V=function(){this._localBase=this._remoteBase=null;this._entries=[]};e["flambe.asset.Manifest"]=V;V.__name__=["flambe","asset","Manifest"];V.fromAssets=function(a,b){null==b&&(b=!0);var c=ja.field(Kb.getType(V).assets[0],a);if(null==c){if(b)throw new m(Z.withFields("Missing asset pack",["name",a]));return null}var f=new V;f.set_localBase("assets");
for(var d=0;d<c.length;){var g=c[d];++d;var e=g.name,Q=a+"/"+e+"?v="+w.string(g.md5),j=V.inferFormat(e);j!=i.Data&&(e=Z.removeFileExtension(e));f.add(e,Q,g.bytes,j)}return f};V.exists=function(a){return ja.hasField(Kb.getType(V).assets[0],a)};V.inferFormat=function(a){a=Z.getUrlExtension(a);if(null!=a)switch(a.toLowerCase()){case "gif":return i.GIF;case "jpg":case "jpeg":return i.JPG;case "jxr":case "wdp":return i.JXR;case "png":return i.PNG;case "webp":return i.WEBP;case "dds":return i.DDS;case "pvr":return i.PVR;
case "pkm":return i.PKM;case "m4a":return i.M4A;case "mp3":return i.MP3;case "ogg":return i.OGG;case "opus":return i.OPUS;case "wav":return i.WAV}else null;return i.Data};V.prototype={add:function(a,b,c,f){null==c&&(c=0);null==f&&(f=V.inferFormat(b));a=new bd(a,b,f,c);this._entries.push(a);return a},iterator:function(){return t.iter(this._entries)},getFullURL:function(a){var b;b=null!=this.get_remoteBase()&&V._supportsCrossOrigin?this.get_remoteBase():this.get_localBase();return null!=b?Z.joinPath(b,
a.url):a.url},get_localBase:function(){return this._localBase},set_localBase:function(a){null!=a&&eb.that(!y.startsWith(a,"http://")&&!y.startsWith(a,"https://"),"localBase must be a path on the same domain, NOT starting with http(s)://",null);return this._localBase=a},get_remoteBase:function(){return this._remoteBase},set_remoteBase:function(a){null!=a&&eb.that(y.startsWith(a,"http://")||y.startsWith(a,"https://"),"remoteBase must be on a remote domain, starting with http(s)://",null);return this._remoteBase=
a},__class__:V};var T=e["flambe.display.BlendMode"]={__ename__:!0,__constructs__:"Normal,Add,Multiply,Screen,Mask,Copy".split(",")};T.Normal=["Normal",0];T.Normal.toString=h;T.Normal.__enum__=T;T.Add=["Add",1];T.Add.toString=h;T.Add.__enum__=T;T.Multiply=["Multiply",2];T.Multiply.toString=h;T.Multiply.__enum__=T;T.Screen=["Screen",3];T.Screen.toString=h;T.Screen.__enum__=T;T.Mask=["Mask",4];T.Mask.toString=h;T.Mask.__enum__=T;T.Copy=["Copy",5];T.Copy.toString=h;T.Copy.__enum__=T;var La=function(a,
b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b};e["flambe.math.Point"]=La;La.__name__=["flambe","math","Point"];La.prototype={distanceToSquared:function(a,b){var c=this.x-a,f=this.y-b;return c*c+f*f},__class__:La};var p=function(){this._viewMatrixUpdateCount=this._parentViewMatrixUpdateCount=this._sinCache=this._cosCache=0;this.blendMode=this.scissor=this._viewMatrix=null;var a=this;r.call(this);this._flags|=182;this._localMatrix=new Ba;var b=function(){a._flags|=24};this.x=new L(0,b);this.y=
new L(0,b);this.rotation=new L(0,function(){a._flags|=152});this.scaleX=new L(1,b);this.scaleY=new L(1,b);this.anchorX=new L(0,b);this.anchorY=new L(0,b);this.alpha=new L(1)};e["flambe.display.Sprite"]=p;p.__name__=["flambe","display","Sprite"];p.hitTest=function(a,b,c){var f=a._compMap.Sprite_1;if(null!=f){if(6!=(f._flags&6))return null;f.getLocalMatrix().inverseTransform(b,c,p._scratchPoint)&&(b=p._scratchPoint.x,c=p._scratchPoint.y);var d=f.scissor;if(null!=d&&!d.contains(b,c))return null}a=p.hitTestBackwards(a.firstChild,
b,c);return null!=a?a:null!=f&&f.containsLocal(b,c)?f:null};p.getBounds=function(a,b){null==b&&(b=new fb);b.set(1.79769313486231E308,1.79769313486231E308,-1.79769313486231E308,-1.79769313486231E308);p.getBoundsImpl(a,null,b);b.width-=b.x;b.height-=b.y;return b};p.render=function(a,b){var c=a._compMap.Sprite_1;if(null!=c){var f=c.alpha._value;if(0==(c._flags&2)||0>=f)return;b.save();1>f&&b.multiplyAlpha(f);null!=c.blendMode&&b.setBlendMode(c.blendMode);var f=c.getLocalMatrix(),d=f.m02,g=f.m12;0!=(c._flags&
32)&&(d=Math.round(d),g=Math.round(g));b.transform(f.m00,f.m10,f.m01,f.m11,d,g);f=c.scissor;null!=f&&b.applyScissor(f.x,f.y,f.width,f.height);c.draw(b)}f=a._compMap.Director_8;if(null!=f){f=f.occludedScenes;for(d=0;d<f.length;)g=f[d],++d,p.render(g,b)}for(f=a.firstChild;null!=f;)d=f.next,p.render(f,b),f=d;null!=c&&b.restore()};p.hitTestBackwards=function(a,b,c){if(null!=a){var f=p.hitTestBackwards(a.next,b,c);return null!=f?f:p.hitTest(a,b,c)}return null};p.getBoundsImpl=function(a,b,c){var f=a._compMap.Sprite_1;
if(null!=f){var b=null!=b?Ba.multiply(b,f.getLocalMatrix()):f.getLocalMatrix(),d=f.getNaturalWidth(),f=f.getNaturalHeight();0<d&&0<f&&(p.extendRect(b,0,0,c),p.extendRect(b,d,0,c),p.extendRect(b,d,f,c),p.extendRect(b,0,f,c))}d=a._compMap.Director_8;if(null!=d)for(var d=d.occludedScenes,f=0,g=d.length;f<g;)p.getBoundsImpl(d[f],b,c),++f;for(a=a.firstChild;null!=a;)d=a.next,p.getBoundsImpl(a,b,c),a=d};p.extendRect=function(a,b,c,f){a=a.transform(b,c,p._scratchPoint);b=a.x;c=a.y;b<f.x&&(f.x=b);c<f.y&&
(f.y=c);b>f.width&&(f.width=b);c>f.height&&(f.height=c)};p.__super__=r;p.prototype=q(r.prototype,{get_name:function(){return"Sprite_1"},getNaturalWidth:function(){return 0},getNaturalHeight:function(){return 0},containsLocal:function(a,b){return 0<=a&&a<this.getNaturalWidth()&&0<=b&&b<this.getNaturalHeight()},getLocalMatrix:function(){if(0!=(this._flags&8)){this._flags&=-9;if(0!=(this._flags&128)){this._flags&=-129;var a=3.141592653589793*this.rotation._value/180;this._sinCache=Math.sin(a);this._cosCache=
Math.cos(a)}var a=this.scaleX._value,b=this.scaleY._value;this._localMatrix.set(this._cosCache*a,this._sinCache*a,-this._sinCache*b,this._cosCache*b,this.x._value,this.y._value);this._localMatrix.translate(-this.anchorX._value,-this.anchorY._value)}return this._localMatrix},getViewMatrix:function(){if(this.isViewMatrixDirty()){var a=this.getParentSprite();this._viewMatrix=null!=a?Ba.multiply(a.getViewMatrix(),this.getLocalMatrix(),this._viewMatrix):this.getLocalMatrix().clone(this._viewMatrix);this._flags&=
-17;null!=a&&(this._parentViewMatrixUpdateCount=a._viewMatrixUpdateCount);++this._viewMatrixUpdateCount}return this._viewMatrix},setAnchor:function(a,b){this.anchorX.set__(a);this.anchorY.set__(b);return this},centerAnchor:function(){this.anchorX.set__(this.getNaturalWidth()/2);this.anchorY.set__(this.getNaturalHeight()/2);return this},setXY:function(a,b){this.x.set__(a);this.y.set__(b);return this},setAlpha:function(a){this.alpha.set__(a);return this},setScale:function(a){this.scaleX.set__(a);this.scaleY.set__(a);
return this},disablePointer:function(){this.set_pointerEnabled(!1);return this},onAdded:function(){0!=(this._flags&64)&&this.connectHover()},onRemoved:function(){null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)},onUpdate:function(a){this.x.update(a);this.y.update(a);this.rotation.update(a);this.scaleX.update(a);this.scaleY.update(a);this.alpha.update(a);this.anchorX.update(a);this.anchorY.update(a)},draw:function(){},isViewMatrixDirty:function(){if(0!=(this._flags&
16))return!0;var a=this.getParentSprite();return null==a?!1:this._parentViewMatrixUpdateCount!=a._viewMatrixUpdateCount||a.isViewMatrixDirty()},getParentSprite:function(){if(null==this.owner)return null;for(var a=this.owner.parent;null!=a;){var b=a._compMap.Sprite_1;if(null!=b)return b;a=a.parent}return null},get_pointerDown:function(){null==this._pointerDown&&(this._pointerDown=new P);return this._pointerDown},get_pointerMove:function(){null==this._pointerMove&&(this._pointerMove=new P);return this._pointerMove},
get_pointerUp:function(){null==this._pointerUp&&(this._pointerUp=new P);return this._pointerUp},get_pointerIn:function(){null==this._pointerIn&&(this._pointerIn=new P);return this._pointerIn},get_pointerOut:function(){null==this._pointerOut&&(this._pointerOut=new P);return this._pointerOut},connectHover:function(){var a=this;null==this._hoverConnection&&(this._hoverConnection=k._platform.getPointer().move.connect(function(b){for(var c=b.hit;null!=c;){if(c==a)return;c=c.getParentSprite()}null!=a._pointerOut&&
0!=(a._flags&64)&&a._pointerOut.emit(b);a._flags&=-65;null!=a._hoverConnection&&(a._hoverConnection.dispose(),a._hoverConnection=null)}))},set_visible:function(a){this._flags=Lb.set(this._flags,2,a);return a},set_pointerEnabled:function(a){this._flags=Lb.set(this._flags,4,a);return a},set_pixelSnapping:function(a){this._flags=Lb.set(this._flags,32,a);return a},onPointerDown:function(a){this.onHover(a);null!=this._pointerDown&&this._pointerDown.emit(a)},onPointerMove:function(a){this.onHover(a);null!=
this._pointerMove&&this._pointerMove.emit(a)},onHover:function(a){if(0==(this._flags&64)&&(this._flags|=64,null!=this._pointerIn||null!=this._pointerOut))null!=this._pointerIn&&this._pointerIn.emit(a),this.connectHover()},onPointerUp:function(a){switch(a.source[1]){case 1:null!=this._pointerOut&&0!=(this._flags&64)&&this._pointerOut.emit(a),this._flags&=-65,null!=this._hoverConnection&&(this._hoverConnection.dispose(),this._hoverConnection=null)}null!=this._pointerUp&&this._pointerUp.emit(a)},__class__:p});
var da=function(a,b,c){p.call(this);this.color=a;this.width=new L(b);this.height=new L(c)};e["flambe.display.FillSprite"]=da;da.__name__=["flambe","display","FillSprite"];da.__super__=p;da.prototype=q(p.prototype,{draw:function(a){a.fillRect(this.color,0,0,this.width._value,this.height._value)},getNaturalWidth:function(){return this.width._value},getNaturalHeight:function(){return this.height._value},onUpdate:function(a){p.prototype.onUpdate.call(this,a);this.width.update(a);this.height.update(a)},
__class__:da});var pc=function(a){this._kernings=null;this.xOffset=this.yOffset=this.xAdvance=0;this.page=null;this.x=this.y=this.width=this.height=0;this.charCode=a};e["flambe.display.Glyph"]=pc;pc.__name__=["flambe","display","Glyph"];pc.prototype={draw:function(a,b,c){0<this.width&&a.drawSubTexture(this.page,b+this.xOffset,c+this.yOffset,this.x,this.y,this.width,this.height)},getKerning:function(a){return null!=this._kernings?w["int"](this._kernings.h[a]):0},setKerning:function(a,b){null==this._kernings&&
(this._kernings=new la);this._kernings.h[a]=b},__class__:pc};var tb=function(a,b){this.name=b;this._pack=a;this._file=a.getFile(b+".fnt");this.reload()};e["flambe.display.Font"]=tb;tb.__name__=["flambe","display","Font"];tb.prototype={layoutText:function(a,b,c,f,d){null==d&&(d=0);null==f&&(f=0);null==c&&(c=0);null==b&&(b=ta.Left);return new gb(this,a,b,c,f,d)},reload:function(){this._glyphs=new la;this._glyphs.h[tb.NEWLINE.charCode]=tb.NEWLINE;for(var a=new ub(this._file.toString()),b=new la,c=this.name.lastIndexOf("/"),
c=0<=c?t.substr(this.name,0,c+1):"",f=a.keywords();f.hasNext();)switch(f.next()){case "info":for(var d=a.pairs();d.hasNext();){var g=d.next();switch(g.key){case "size":this.size=g.getInt()}}break;case "common":for(d=a.pairs();d.hasNext();)switch(g=d.next(),g.key){case "lineHeight":this.lineHeight=g.getInt()}break;case "page":for(var d=0,g=null,e=a.pairs();e.hasNext();){var Q=e.next();switch(Q.key){case "id":d=Q.getInt();break;case "file":g=Q.getString()}}g=this._pack.getTexture(c+Z.removeFileExtension(g));
b.h[d]=g;break;case "char":d=null;for(g=a.pairs();g.hasNext();)switch(e=g.next(),e.key){case "id":d=new pc(e.getInt());break;case "x":d.x=e.getInt();break;case "y":d.y=e.getInt();break;case "width":d.width=e.getInt();break;case "height":d.height=e.getInt();break;case "page":e=e.getInt();d.page=b.h[e];break;case "xoffset":d.xOffset=e.getInt();break;case "yoffset":d.yOffset=e.getInt();break;case "xadvance":d.xAdvance=e.getInt()}this._glyphs.h[d.charCode]=d;break;case "kerning":d=null;e=g=0;for(Q=a.pairs();Q.hasNext();){var j=
Q.next();switch(j.key){case "first":d=this._glyphs.h[j.getInt()];break;case "second":g=j.getInt();break;case "amount":e=j.getInt()}}null!=d&&0!=e&&d.setKerning(g,e)}},__class__:tb};var ta=e["flambe.display.TextAlign"]={__ename__:!0,__constructs__:["Left","Center","Right"]};ta.Left=["Left",0];ta.Left.toString=h;ta.Left.__enum__=ta;ta.Center=["Center",1];ta.Center.toString=h;ta.Center.__enum__=ta;ta.Right=["Right",2];ta.Right.toString=h;ta.Right.__enum__=ta;var gb=function(a,b,c,f,d,g){this.lines=0;
var e=this;this._font=a;this._glyphs=[];this._offsets=[];this._lineOffset=Math.round(a.lineHeight+g);this.bounds=new fb;for(var Q=[],g=b.length,j=0;j<g;){var h=j++,h=b.charCodeAt(h),h=a._glyphs.h[h];null!=h?this._glyphs.push(h):null}for(var b=-1,k=0,l=0,a=a._glyphs.h[10],g=function(){e.bounds.width=Y.max(e.bounds.width,k);e.bounds.height+=l;Q[e.lines]=k;l=k=0;++e.lines},j=0;j<this._glyphs.length;){h=this._glyphs[j];this._offsets[j]=Math.round(k);var m=0<f&&k+h.width>f;m||h==a?(m&&(0<=b?(this._glyphs[b]=
a,k=this._offsets[b],j=b):this._glyphs.splice(j,0,a)),b=-1,l=this._lineOffset,g()):(32==h.charCode&&(b=j),k+=h.xAdvance+d,l=Y.max(l,h.height+h.yOffset),j+1<this._glyphs.length&&(k+=h.getKerning(this._glyphs[j+1].charCode)));++j}g();d=0;a=gb.getAlignOffset(c,Q[0],f);b=1.79769313486231E308;g=-1.79769313486231E308;h=j=0;for(m=this._glyphs.length;h<m;){var n=this._glyphs[h];10==n.charCode&&(d+=this._lineOffset,++j,a=gb.getAlignOffset(c,Q[j],f));this._offsets[h]+=a;var p=d+n.yOffset,b=b<p?b:p,g=Y.max(g,
p+n.height);++h}this.bounds.x=gb.getAlignOffset(c,this.bounds.width,f);this.bounds.y=b;this.bounds.height=g-b};e["flambe.display.TextLayout"]=gb;gb.__name__=["flambe","display","TextLayout"];gb.getAlignOffset=function(a,b,c){switch(a[1]){case 0:return 0;case 2:return c-b;case 1:return Math.round((c-b)/2)}};gb.prototype={draw:function(a){for(var b=0,c=0,f=this._glyphs.length;c<f;){var d=this._glyphs[c];10==d.charCode?b+=this._lineOffset:d.draw(a,this._offsets[c],b);++c}},__class__:gb};var ub=function(a){this._configText=
a;this._keywordPattern=new ra("([A-Za-z]+)(.*)","");this._pairPattern=new ra('([A-Za-z]+)=("[^"]*"|[^\\s]+)',"")};e["flambe.display._Font.ConfigParser"]=ub;ub.__name__=["flambe","display","_Font","ConfigParser"];ub.advance=function(a,b){var c=b.matchedPos();return t.substr(a,c.pos+c.len,a.length)};ub.prototype={keywords:function(){var a=this,b=this._configText;return{next:function(){b=ub.advance(b,a._keywordPattern);a._pairText=a._keywordPattern.matched(2);return a._keywordPattern.matched(1)},hasNext:function(){return a._keywordPattern.match(b)}}},
pairs:function(){var a=this,b=this._pairText;return{next:function(){b=ub.advance(b,a._pairPattern);return new cd(a._pairPattern.matched(1),a._pairPattern.matched(2))},hasNext:function(){return a._pairPattern.match(b)}}},__class__:ub};var cd=function(a,b){this.key=a;this._value=b};e["flambe.display._Font.ConfigPair"]=cd;cd.__name__=["flambe","display","_Font","ConfigPair"];cd.prototype={getInt:function(){return w.parseInt(this._value)},getString:function(){return 34!=this._value.charCodeAt(0)?null:
t.substr(this._value,1,this._value.length-2)},__class__:cd};var dd=function(){};e["flambe.display.Graphics"]=dd;dd.__name__=["flambe","display","Graphics"];dd.prototype={__class__:dd};var G=function(a){p.call(this);this.texture=a};e["flambe.display.ImageSprite"]=G;G.__name__=["flambe","display","ImageSprite"];G.__super__=p;G.prototype=q(p.prototype,{draw:function(a){null!=this.texture&&a.drawTexture(this.texture,0,0)},getNaturalWidth:function(){return null!=this.texture?this.texture.get_width():0},
getNaturalHeight:function(){return null!=this.texture?this.texture.get_height():0},__class__:G});var Wa=e["flambe.display.Orientation"]={__ename__:!0,__constructs__:["Portrait","Landscape"]};Wa.Portrait=["Portrait",0];Wa.Portrait.toString=h;Wa.Portrait.__enum__=Wa;Wa.Landscape=["Landscape",1];Wa.Landscape.toString=h;Wa.Landscape.__enum__=Wa;var qc=function(){};e["flambe.display.Texture"]=qc;qc.__name__=["flambe","display","Texture"];qc.__interfaces__=[db];qc.prototype={__class__:qc};var rc=function(){};
e["flambe.display.SubTexture"]=rc;rc.__name__=["flambe","display","SubTexture"];rc.__interfaces__=[qc];rc.prototype={__class__:rc};var sc=function(a,b){null==b&&(b="");this._layout=null;var c=this;p.call(this);this._font=a;this._text=b;this._align=ta.Left;this._flags|=256;var f=function(){c._flags|=256};this.wrapWidth=new L(0,f);this.letterSpacing=new L(0,f);this.lineSpacing=new L(0,f)};e["flambe.display.TextSprite"]=sc;sc.__name__=["flambe","display","TextSprite"];sc.__super__=p;sc.prototype=q(p.prototype,
{draw:function(a){this.updateLayout();this._layout.draw(a)},getNaturalWidth:function(){this.updateLayout();return 0<this.wrapWidth._value?this.wrapWidth._value:this._layout.bounds.width},getNaturalHeight:function(){this.updateLayout();var a=this._layout.lines*(this._font.lineHeight+this.lineSpacing._value),b=this._layout.bounds.height;return a>b?a:b},containsLocal:function(a,b){this.updateLayout();return this._layout.bounds.contains(a,b)},set_text:function(a){a!=this._text&&(this._text=a,this._flags|=
256);return a},set_align:function(a){a!=this._align&&(this._align=a,this._flags|=256);return a},updateLayout:function(){0!=(this._flags&256)&&(this._flags&=-257,this._layout=this._font.layoutText(this._text,this._align,this.wrapWidth._value,this.letterSpacing._value,this.lineSpacing._value))},onUpdate:function(a){p.prototype.onUpdate.call(this,a);this.wrapWidth.update(a);this.letterSpacing.update(a);this.lineSpacing.update(a)},__class__:sc});var d=e["flambe.input.Key"]={__ename__:!0,__constructs__:"A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,Number0,Number1,Number2,Number3,Number4,Number5,Number6,Number7,Number8,Number9,Numpad0,Numpad1,Numpad2,Numpad3,Numpad4,Numpad5,Numpad6,Numpad7,Numpad8,Numpad9,NumpadAdd,NumpadDecimal,NumpadDivide,NumpadEnter,NumpadMultiply,NumpadSubtract,F1,F2,F3,F4,F5,F6,F7,F8,F9,F10,F11,F12,F13,F14,F15,Left,Up,Right,Down,Alt,Backquote,Backslash,Backspace,CapsLock,Comma,Command,Control,Delete,End,Enter,Equals,Escape,Home,Insert,LeftBracket,Minus,PageDown,PageUp,Period,Quote,RightBracket,Semicolon,Shift,Slash,Space,Tab,Menu,Search,Unknown".split(",")};
d.A=["A",0];d.A.toString=h;d.A.__enum__=d;d.B=["B",1];d.B.toString=h;d.B.__enum__=d;d.C=["C",2];d.C.toString=h;d.C.__enum__=d;d.D=["D",3];d.D.toString=h;d.D.__enum__=d;d.E=["E",4];d.E.toString=h;d.E.__enum__=d;d.F=["F",5];d.F.toString=h;d.F.__enum__=d;d.G=["G",6];d.G.toString=h;d.G.__enum__=d;d.H=["H",7];d.H.toString=h;d.H.__enum__=d;d.I=["I",8];d.I.toString=h;d.I.__enum__=d;d.J=["J",9];d.J.toString=h;d.J.__enum__=d;d.K=["K",10];d.K.toString=h;d.K.__enum__=d;d.L=["L",11];d.L.toString=h;d.L.__enum__=
d;d.M=["M",12];d.M.toString=h;d.M.__enum__=d;d.N=["N",13];d.N.toString=h;d.N.__enum__=d;d.O=["O",14];d.O.toString=h;d.O.__enum__=d;d.P=["P",15];d.P.toString=h;d.P.__enum__=d;d.Q=["Q",16];d.Q.toString=h;d.Q.__enum__=d;d.R=["R",17];d.R.toString=h;d.R.__enum__=d;d.S=["S",18];d.S.toString=h;d.S.__enum__=d;d.T=["T",19];d.T.toString=h;d.T.__enum__=d;d.U=["U",20];d.U.toString=h;d.U.__enum__=d;d.V=["V",21];d.V.toString=h;d.V.__enum__=d;d.W=["W",22];d.W.toString=h;d.W.__enum__=d;d.X=["X",23];d.X.toString=
h;d.X.__enum__=d;d.Y=["Y",24];d.Y.toString=h;d.Y.__enum__=d;d.Z=["Z",25];d.Z.toString=h;d.Z.__enum__=d;d.Number0=["Number0",26];d.Number0.toString=h;d.Number0.__enum__=d;d.Number1=["Number1",27];d.Number1.toString=h;d.Number1.__enum__=d;d.Number2=["Number2",28];d.Number2.toString=h;d.Number2.__enum__=d;d.Number3=["Number3",29];d.Number3.toString=h;d.Number3.__enum__=d;d.Number4=["Number4",30];d.Number4.toString=h;d.Number4.__enum__=d;d.Number5=["Number5",31];d.Number5.toString=h;d.Number5.__enum__=
d;d.Number6=["Number6",32];d.Number6.toString=h;d.Number6.__enum__=d;d.Number7=["Number7",33];d.Number7.toString=h;d.Number7.__enum__=d;d.Number8=["Number8",34];d.Number8.toString=h;d.Number8.__enum__=d;d.Number9=["Number9",35];d.Number9.toString=h;d.Number9.__enum__=d;d.Numpad0=["Numpad0",36];d.Numpad0.toString=h;d.Numpad0.__enum__=d;d.Numpad1=["Numpad1",37];d.Numpad1.toString=h;d.Numpad1.__enum__=d;d.Numpad2=["Numpad2",38];d.Numpad2.toString=h;d.Numpad2.__enum__=d;d.Numpad3=["Numpad3",39];d.Numpad3.toString=
h;d.Numpad3.__enum__=d;d.Numpad4=["Numpad4",40];d.Numpad4.toString=h;d.Numpad4.__enum__=d;d.Numpad5=["Numpad5",41];d.Numpad5.toString=h;d.Numpad5.__enum__=d;d.Numpad6=["Numpad6",42];d.Numpad6.toString=h;d.Numpad6.__enum__=d;d.Numpad7=["Numpad7",43];d.Numpad7.toString=h;d.Numpad7.__enum__=d;d.Numpad8=["Numpad8",44];d.Numpad8.toString=h;d.Numpad8.__enum__=d;d.Numpad9=["Numpad9",45];d.Numpad9.toString=h;d.Numpad9.__enum__=d;d.NumpadAdd=["NumpadAdd",46];d.NumpadAdd.toString=h;d.NumpadAdd.__enum__=d;d.NumpadDecimal=
["NumpadDecimal",47];d.NumpadDecimal.toString=h;d.NumpadDecimal.__enum__=d;d.NumpadDivide=["NumpadDivide",48];d.NumpadDivide.toString=h;d.NumpadDivide.__enum__=d;d.NumpadEnter=["NumpadEnter",49];d.NumpadEnter.toString=h;d.NumpadEnter.__enum__=d;d.NumpadMultiply=["NumpadMultiply",50];d.NumpadMultiply.toString=h;d.NumpadMultiply.__enum__=d;d.NumpadSubtract=["NumpadSubtract",51];d.NumpadSubtract.toString=h;d.NumpadSubtract.__enum__=d;d.F1=["F1",52];d.F1.toString=h;d.F1.__enum__=d;d.F2=["F2",53];d.F2.toString=
h;d.F2.__enum__=d;d.F3=["F3",54];d.F3.toString=h;d.F3.__enum__=d;d.F4=["F4",55];d.F4.toString=h;d.F4.__enum__=d;d.F5=["F5",56];d.F5.toString=h;d.F5.__enum__=d;d.F6=["F6",57];d.F6.toString=h;d.F6.__enum__=d;d.F7=["F7",58];d.F7.toString=h;d.F7.__enum__=d;d.F8=["F8",59];d.F8.toString=h;d.F8.__enum__=d;d.F9=["F9",60];d.F9.toString=h;d.F9.__enum__=d;d.F10=["F10",61];d.F10.toString=h;d.F10.__enum__=d;d.F11=["F11",62];d.F11.toString=h;d.F11.__enum__=d;d.F12=["F12",63];d.F12.toString=h;d.F12.__enum__=d;d.F13=
["F13",64];d.F13.toString=h;d.F13.__enum__=d;d.F14=["F14",65];d.F14.toString=h;d.F14.__enum__=d;d.F15=["F15",66];d.F15.toString=h;d.F15.__enum__=d;d.Left=["Left",67];d.Left.toString=h;d.Left.__enum__=d;d.Up=["Up",68];d.Up.toString=h;d.Up.__enum__=d;d.Right=["Right",69];d.Right.toString=h;d.Right.__enum__=d;d.Down=["Down",70];d.Down.toString=h;d.Down.__enum__=d;d.Alt=["Alt",71];d.Alt.toString=h;d.Alt.__enum__=d;d.Backquote=["Backquote",72];d.Backquote.toString=h;d.Backquote.__enum__=d;d.Backslash=
["Backslash",73];d.Backslash.toString=h;d.Backslash.__enum__=d;d.Backspace=["Backspace",74];d.Backspace.toString=h;d.Backspace.__enum__=d;d.CapsLock=["CapsLock",75];d.CapsLock.toString=h;d.CapsLock.__enum__=d;d.Comma=["Comma",76];d.Comma.toString=h;d.Comma.__enum__=d;d.Command=["Command",77];d.Command.toString=h;d.Command.__enum__=d;d.Control=["Control",78];d.Control.toString=h;d.Control.__enum__=d;d.Delete=["Delete",79];d.Delete.toString=h;d.Delete.__enum__=d;d.End=["End",80];d.End.toString=h;d.End.__enum__=
d;d.Enter=["Enter",81];d.Enter.toString=h;d.Enter.__enum__=d;d.Equals=["Equals",82];d.Equals.toString=h;d.Equals.__enum__=d;d.Escape=["Escape",83];d.Escape.toString=h;d.Escape.__enum__=d;d.Home=["Home",84];d.Home.toString=h;d.Home.__enum__=d;d.Insert=["Insert",85];d.Insert.toString=h;d.Insert.__enum__=d;d.LeftBracket=["LeftBracket",86];d.LeftBracket.toString=h;d.LeftBracket.__enum__=d;d.Minus=["Minus",87];d.Minus.toString=h;d.Minus.__enum__=d;d.PageDown=["PageDown",88];d.PageDown.toString=h;d.PageDown.__enum__=
d;d.PageUp=["PageUp",89];d.PageUp.toString=h;d.PageUp.__enum__=d;d.Period=["Period",90];d.Period.toString=h;d.Period.__enum__=d;d.Quote=["Quote",91];d.Quote.toString=h;d.Quote.__enum__=d;d.RightBracket=["RightBracket",92];d.RightBracket.toString=h;d.RightBracket.__enum__=d;d.Semicolon=["Semicolon",93];d.Semicolon.toString=h;d.Semicolon.__enum__=d;d.Shift=["Shift",94];d.Shift.toString=h;d.Shift.__enum__=d;d.Slash=["Slash",95];d.Slash.toString=h;d.Slash.__enum__=d;d.Space=["Space",96];d.Space.toString=
h;d.Space.__enum__=d;d.Tab=["Tab",97];d.Tab.toString=h;d.Tab.__enum__=d;d.Menu=["Menu",98];d.Menu.toString=h;d.Menu.__enum__=d;d.Search=["Search",99];d.Search.toString=h;d.Search.__enum__=d;d.Unknown=function(a){a=["Unknown",100,a];a.__enum__=d;a.toString=h;return a};var ed=function(){this.init(0,null)};e["flambe.input.KeyboardEvent"]=ed;ed.__name__=["flambe","input","KeyboardEvent"];ed.prototype={init:function(a,b){this.id=a;this.key=b},__class__:ed};var ga=e["flambe.input.MouseButton"]={__ename__:!0,
__constructs__:["Left","Middle","Right","Unknown"]};ga.Left=["Left",0];ga.Left.toString=h;ga.Left.__enum__=ga;ga.Middle=["Middle",1];ga.Middle.toString=h;ga.Middle.__enum__=ga;ga.Right=["Right",2];ga.Right.toString=h;ga.Right.__enum__=ga;ga.Unknown=function(a){a=["Unknown",3,a];a.__enum__=ga;a.toString=h;return a};var ba=e["flambe.input.MouseCursor"]={__ename__:!0,__constructs__:["Default","Button","None"]};ba.Default=["Default",0];ba.Default.toString=h;ba.Default.__enum__=ba;ba.Button=["Button",
1];ba.Button.toString=h;ba.Button.__enum__=ba;ba.None=["None",2];ba.None.toString=h;ba.None.__enum__=ba;var fd=function(){this.init(0,0,0,null)};e["flambe.input.MouseEvent"]=fd;fd.__name__=["flambe","input","MouseEvent"];fd.prototype={init:function(a,b,c,f){this.id=a;this.viewX=b;this.viewY=c;this.button=f},__class__:fd};var tc=e["flambe.input.EventSource"]={__ename__:!0,__constructs__:["Mouse","Touch"]};tc.Mouse=function(a){a=["Mouse",0,a];a.__enum__=tc;a.toString=h;return a};tc.Touch=function(a){a=
["Touch",1,a];a.__enum__=tc;a.toString=h;return a};var gd=function(){this.init(0,0,0,null,null)};e["flambe.input.PointerEvent"]=gd;gd.__name__=["flambe","input","PointerEvent"];gd.prototype={init:function(a,b,c,f,d){this.id=a;this.viewX=b;this.viewY=c;this.hit=f;this.source=d;this._stopped=!1},__class__:gd};var hd=function(a){this.id=a;this._source=tc.Touch(this)};e["flambe.input.TouchPoint"]=hd;hd.__name__=["flambe","input","TouchPoint"];hd.prototype={init:function(a,b){this.viewX=a;this.viewY=b},
__class__:hd};var Y=function(){};e["flambe.math.FMath"]=Y;Y.__name__=["flambe","math","FMath"];Y.max=function(a,b){return a>b?a:b};Y.min=function(a,b){return a<b?a:b};Y.clamp=function(a,b,c){return a<b?b:a>c?c:a};var Ba=function(){this.identity()};e["flambe.math.Matrix"]=Ba;Ba.__name__=["flambe","math","Matrix"];Ba.multiply=function(a,b,c){null==c&&(c=new Ba);var f=a.m00*b.m00+a.m01*b.m10,d=a.m00*b.m01+a.m01*b.m11,g=a.m00*b.m02+a.m01*b.m12+a.m02;c.m00=f;c.m01=d;c.m02=g;f=a.m10*b.m00+a.m11*b.m10;d=
a.m10*b.m01+a.m11*b.m11;g=a.m10*b.m02+a.m11*b.m12+a.m12;c.m10=f;c.m11=d;c.m12=g;return c};Ba.prototype={set:function(a,b,c,f,d,g){this.m00=a;this.m01=c;this.m02=d;this.m10=b;this.m11=f;this.m12=g},identity:function(){this.set(1,0,0,1,0,0)},translate:function(a,b){this.m02+=this.m00*a+this.m01*b;this.m12+=this.m11*b+this.m10*a},invert:function(){var a=this.determinant();if(0==a)return!1;this.set(this.m11/a,-this.m01/a,-this.m10/a,this.m00/a,(this.m01*this.m12-this.m11*this.m02)/a,(this.m10*this.m02-
this.m00*this.m12)/a);return!0},transform:function(a,b,c){null==c&&(c=new La);c.x=a*this.m00+b*this.m01+this.m02;c.y=a*this.m10+b*this.m11+this.m12;return c},transformArray:function(a,b,c){for(var f=0;f<b;){var d=a[f],g=a[f+1];c[f++]=d*this.m00+g*this.m01+this.m02;c[f++]=d*this.m10+g*this.m11+this.m12}},determinant:function(){return this.m00*this.m11-this.m01*this.m10},inverseTransform:function(a,b,c){var f=this.determinant();if(0==f)return!1;a-=this.m02;b-=this.m12;c.x=(a*this.m11-b*this.m01)/f;
c.y=(b*this.m00-a*this.m10)/f;return!0},clone:function(a){null==a&&(a=new Ba);a.set(this.m00,this.m10,this.m01,this.m11,this.m02,this.m12);return a},__class__:Ba};var fb=function(a,b,c,f){null==f&&(f=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.set(a,b,c,f)};e["flambe.math.Rectangle"]=fb;fb.__name__=["flambe","math","Rectangle"];fb.prototype={set:function(a,b,c,f){this.x=a;this.y=b;this.width=c;this.height=f},contains:function(a,b){a-=this.x;if(0<=this.width){if(0>a||a>this.width)return!1}else if(0<
a||a<this.width)return!1;b-=this.y;if(0<=this.height){if(0>b||b>this.height)return!1}else if(0<b||b<this.height)return!1;return!0},clone:function(a){null==a&&(a=new fb);a.set(this.x,this.y,this.width,this.height);return a},equals:function(a){return this.x==a.x&&this.y==a.y&&this.width==a.width&&this.height==a.height},__class__:fb};var ca=function(){this._disposed=!1};e["flambe.platform.BasicAsset"]=ca;ca.__name__=["flambe","platform","BasicAsset"];ca.__interfaces__=[db];ca.prototype={dispose:function(){this._disposed||
(this._disposed=!0,this.onDisposed())},onDisposed:function(){null},__class__:ca};var hb=function(a,b){var c=this;this.manifest=b;this._platform=a;this.promise=new uc;this._bytesLoaded=new N;this._pack=new vc(b,this);var f=Ka.array(b);if(0==f.length)this.handleSuccess();else{for(var d=new N,g=0;g<f.length;){var e=f[g];++g;var Q=d.get(e.name);null==Q&&(Q=[],d.set(e.name,Q));Q.push(e)}this._assetsRemaining=Ka.count(d);for(f=new wc(d,d.arrayKeys());f.hasNext();)d=[f.next()],this.pickBestEntry(d[0],function(a){return function(f){if(null!=
f){var d=b.getFullURL(f);try{c.loadEntry(d,f)}catch(g){g instanceof m&&(g=g.val),c.handleError(f,"Unexpected error: "+w.string(g))}d=c.promise;d.set_total(d._total+f.bytes)}else f=a[0][0],hb.isAudio(f.format)?c.handleLoad(f,oa.getInstance()):c.handleError(f,"Could not find a supported format to load")}}(d))}};e["flambe.platform.BasicAssetPackLoader"]=hb;hb.__name__=["flambe","platform","BasicAssetPackLoader"];hb.isAudio=function(a){switch(a[1]){case 8:case 9:case 10:case 11:case 12:return!0;default:return!1}};
hb.prototype={onDisposed:function(){},pickBestEntry:function(a,b){this.getAssetFormats(function(c){for(var f=0;f<c.length;){var d=c[f];++f;for(var g=0;g<a.length;){var e=a[g];++g;if(e.format==d){b(e);return}}}b(null)})},loadEntry:function(){null},getAssetFormats:function(){null},handleLoad:function(a,b){if(!this._pack.disposed){this.handleProgress(a,a.bytes);var c;switch(a.format[1]){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:c=this._pack.textures;break;case 8:case 9:case 10:case 11:case 12:c=
this._pack.sounds;break;case 13:c=this._pack.files}c.set(a.name,b);this._assetsRemaining-=1;0==this._assetsRemaining&&this.handleSuccess()}},handleProgress:function(a,b){this._bytesLoaded.set(a.name,b);for(var c=0,f=this._bytesLoaded.iterator();f.hasNext();)var d=f.next(),c=c+d;this.promise.set_progress(c)},handleSuccess:function(){this.promise.set_result(this._pack)},handleError:function(a,b){this.promise.error.emit(Z.withFields(b,["url",a.url]))},handleTextureError:function(a){this.handleError(a,
"Failed to create texture. Is the GPU context unavailable?")},__class__:hb};var vc=function(a,b){this.disposed=!1;this._manifest=a;this.loader=b;this.textures=new N;this.sounds=new N;this.files=new N};e["flambe.platform._BasicAssetPackLoader.BasicAssetPack"]=vc;vc.__name__=["flambe","platform","_BasicAssetPackLoader","BasicAssetPack"];vc.__interfaces__=[Jb];vc.prototype={getTexture:function(a,b){null==b&&(b=!0);var c=this.textures.get(a);if(null==c&&b)throw new m(Z.withFields("Missing texture",["name",
a]));return c},getSound:function(a,b){null==b&&(b=!0);var c=this.sounds.get(a);if(null==c&&b)throw new m(Z.withFields("Missing sound",["name",a]));return c},getFile:function(a,b){null==b&&(b=!0);var c=this.files.get(a);if(null==c&&b)throw new m(Z.withFields("Missing file",["name",a]));return c},dispose:function(){if(!this.disposed){this.disposed=!0;for(var a=this.textures.iterator();a.hasNext();)a.next().dispose();this.textures=null;for(a=this.sounds.iterator();a.hasNext();)a.next().dispose();this.sounds=
null;for(a=this.files.iterator();a.hasNext();)a.next().dispose();this.files=null;this.loader.onDisposed()}},get_manifest:function(){return this._manifest},__class__:vc};var Mb=function(a){this._disposed=!1;this._content=a};e["flambe.platform.BasicFile"]=Mb;Mb.__name__=["flambe","platform","BasicFile"];Mb.__interfaces__=[oc];Mb.__super__=ca;Mb.prototype=q(ca.prototype,{toString:function(){return this._content},onDisposed:function(){this._content=null},__class__:Mb});var id=function(){};e["flambe.subsystem.KeyboardSystem"]=
id;id.__name__=["flambe","subsystem","KeyboardSystem"];id.prototype={__class__:id};var Ja=function(){this.down=new P;this.up=new P;this.backButton=new va;this._keyStates=new la};e["flambe.platform.BasicKeyboard"]=Ja;Ja.__name__=["flambe","platform","BasicKeyboard"];Ja.__interfaces__=[id];Ja.prototype={submitDown:function(a){if(16777238==a)return null!=this.backButton._head?(this.backButton.emit(),!0):!1;this._keyStates.h.hasOwnProperty(a)||(this._keyStates.h[a]=!0,Ja._sharedEvent.init(Ja._sharedEvent.id+
1,jd.toKey(a)),this.down.emit(Ja._sharedEvent));return!0},submitUp:function(a){this._keyStates.h.hasOwnProperty(a)&&(this._keyStates.remove(a),Ja._sharedEvent.init(Ja._sharedEvent.id+1,jd.toKey(a)),this.up.emit(Ja._sharedEvent))},__class__:Ja};var kd=function(){};e["flambe.subsystem.MouseSystem"]=kd;kd.__name__=["flambe","subsystem","MouseSystem"];kd.prototype={__class__:kd};var pa=function(a){this._pointer=a;this._source=tc.Mouse(pa._sharedEvent);this.down=new P;this.move=new P;this.up=new P;this.scroll=
new P;this._y=this._x=0;this._cursor=ba.Default;this._buttonStates=new la};e["flambe.platform.BasicMouse"]=pa;pa.__name__=["flambe","platform","BasicMouse"];pa.__interfaces__=[kd];pa.prototype={get_supported:function(){return!0},set_cursor:function(a){return this._cursor=a},submitDown:function(a,b,c){this._buttonStates.h.hasOwnProperty(c)||(this._buttonStates.h[c]=!0,this.prepare(a,b,ld.toButton(c)),this._pointer.submitDown(a,b,this._source),this.down.emit(pa._sharedEvent))},submitMove:function(a,
b){this.prepare(a,b,null);this._pointer.submitMove(a,b,this._source);this.move.emit(pa._sharedEvent)},submitUp:function(a,b,c){this._buttonStates.h.hasOwnProperty(c)&&(this._buttonStates.remove(c),this.prepare(a,b,ld.toButton(c)),this._pointer.submitUp(a,b,this._source),this.up.emit(pa._sharedEvent))},submitScroll:function(a,b,c){this._x=a;this._y=b;if(null==this.scroll._head)return!1;this.scroll.emit(c);return!0},prepare:function(a,b,c){this._x=a;this._y=b;pa._sharedEvent.init(pa._sharedEvent.id+
1,a,b,c)},__class__:pa};var md=function(){};e["flambe.subsystem.PointerSystem"]=md;md.__name__=["flambe","subsystem","PointerSystem"];md.prototype={__class__:md};var fa=function(a,b,c){null==c&&(c=!1);null==b&&(b=0);null==a&&(a=0);this.down=new P;this.move=new P;this.up=new P;this._x=a;this._y=b;this._isDown=c};e["flambe.platform.BasicPointer"]=fa;fa.__name__=["flambe","platform","BasicPointer"];fa.__interfaces__=[md];fa.prototype={submitDown:function(a,b,c){if(!this._isDown){this.submitMove(a,b,
c);this._isDown=!0;var f=[],d=p.hitTest(k.root,a,b);if(null!=d){var g=d.owner;do{var e=g._compMap.Sprite_1;null!=e&&f.push(e);g=g.parent}while(null!=g)}this.prepare(a,b,d,c);for(a=0;a<f.length;)if(b=f[a],++a,b.onPointerDown(fa._sharedEvent),fa._sharedEvent._stopped)return;this.down.emit(fa._sharedEvent)}},submitMove:function(a,b,c){if(!(a==this._x&&b==this._y)){var f=[],d=p.hitTest(k.root,a,b);if(null!=d){var g=d.owner;do{var e=g._compMap.Sprite_1;null!=e&&f.push(e);g=g.parent}while(null!=g)}this.prepare(a,
b,d,c);for(a=0;a<f.length;)if(b=f[a],++a,b.onPointerMove(fa._sharedEvent),fa._sharedEvent._stopped)return;this.move.emit(fa._sharedEvent)}},submitUp:function(a,b,c){if(this._isDown){this.submitMove(a,b,c);this._isDown=!1;var f=[],d=p.hitTest(k.root,a,b);if(null!=d){var g=d.owner;do{var e=g._compMap.Sprite_1;null!=e&&f.push(e);g=g.parent}while(null!=g)}this.prepare(a,b,d,c);for(a=0;a<f.length;)if(b=f[a],++a,b.onPointerUp(fa._sharedEvent),fa._sharedEvent._stopped)return;this.up.emit(fa._sharedEvent)}},
prepare:function(a,b,c,f){this._x=a;this._y=b;fa._sharedEvent.init(fa._sharedEvent.id+1,a,b,c,f)},__class__:fa};var Ma=function(a,b,c){this._x=this._y=0;this._parent=null;this.rootX=this.rootY=0;this._disposed=!1;this.root=a;this._width=b;this._height=c};e["flambe.platform.BasicTexture"]=Ma;Ma.__name__=["flambe","platform","BasicTexture"];Ma.__interfaces__=[rc];Ma.__super__=ca;Ma.prototype=q(ca.prototype,{subTexture:function(a,b,c,f){c=this.root.createTexture(c,f);c._parent=this;c._x=a;c._y=b;c.rootX=
this.rootX+a;c.rootY=this.rootY+b;return c},split:function(a,b){null==b&&(b=1);for(var c=[],f=this._width/a|0,d=this._height/b|0,g=0;g<b;)for(var e=g++,Q=0;Q<a;){var j=Q++;c.push(this.subTexture(j*f,e*d,f,d))}return c},get_graphics:function(){return this.root.getGraphics()},onDisposed:function(){null==this._parent&&this.root.dispose()},get_x:function(){return this._x},get_y:function(){return this._y},get_width:function(){return this._width},get_height:function(){return this._height},__class__:Ma});
var xc=function(){};e["flambe.subsystem.TouchSystem"]=xc;xc.__name__=["flambe","subsystem","TouchSystem"];xc.prototype={__class__:xc};var jc=function(a,b){null==b&&(b=4);this._pointer=a;this._maxPoints=b;this._pointMap=new la;this._points=[];this.down=new P;this.move=new P;this.up=new P};e["flambe.platform.BasicTouch"]=jc;jc.__name__=["flambe","platform","BasicTouch"];jc.__interfaces__=[xc];jc.prototype={get_supported:function(){return!0},submitDown:function(a,b,c){if(!this._pointMap.h.hasOwnProperty(a)){var f=
new hd(a);f.init(b,c);this._pointMap.h[a]=f;this._points.push(f);null==this._pointerTouch&&(this._pointerTouch=f,this._pointer.submitDown(b,c,f._source));this.down.emit(f)}},submitMove:function(a,b,c){a=this._pointMap.h[a];null!=a&&(a.init(b,c),this._pointerTouch==a&&this._pointer.submitMove(b,c,a._source),this.move.emit(a))},submitUp:function(a,b,c){var f=this._pointMap.h[a];null!=f&&(f.init(b,c),this._pointMap.remove(a),t.remove(this._points,f),this._pointerTouch==f&&(this._pointerTouch=null,this._pointer.submitUp(b,
c,f._source)),this.up.emit(f))},__class__:jc};var Xa=function(){};e["flambe.sound.Sound"]=Xa;Xa.__name__=["flambe","sound","Sound"];Xa.__interfaces__=[db];Xa.prototype={__class__:Xa};var oa=function(){this._disposed=!1;this._playback=new ib(this)};e["flambe.platform.DummySound"]=oa;oa.__name__=["flambe","platform","DummySound"];oa.__interfaces__=[Xa];oa.getInstance=function(){null==oa._instance&&(oa._instance=new oa);return oa._instance};oa.__super__=ca;oa.prototype=q(ca.prototype,{play:function(){return this._playback},
loop:function(){return this._playback},onDisposed:function(){},__class__:oa});var jb=function(){};e["flambe.sound.Playback"]=jb;jb.__name__=["flambe","sound","Playback"];jb.__interfaces__=[ka];jb.prototype={__class__:jb};var ib=function(a){this._sound=a;this.volume=new L(0);this._complete=new X(!0)};e["flambe.platform.DummyPlayback"]=ib;ib.__name__=["flambe","platform","DummyPlayback"];ib.__interfaces__=[jb];ib.prototype={get_complete:function(){return this._complete},dispose:function(){},__class__:ib};
var kc=function(){this.down=new P;this.move=new P;this.up=new P};e["flambe.platform.DummyTouch"]=kc;kc.__name__=["flambe","platform","DummyTouch"];kc.__interfaces__=[xc];kc.prototype={get_supported:function(){return!1},__class__:kc};var Nb=function(){this._entries=[]};e["flambe.platform.EventGroup"]=Nb;Nb.__name__=["flambe","platform","EventGroup"];Nb.__interfaces__=[ka];Nb.prototype={addListener:function(a,b,c){a.addEventListener(b,c,!1);this._entries.push(new nd(a,b,c))},addDisposingListener:function(a,
b,c){var f=this;this.addListener(a,b,function(a){f.dispose();c(a)})},dispose:function(){for(var a=0,b=this._entries;a<b.length;){var c=b[a];++a;c.dispatcher.removeEventListener(c.type,c.listener,!1)}this._entries=[]},__class__:Nb};var nd=function(a,b,c){this.dispatcher=a;this.type=b;this.listener=c};e["flambe.platform._EventGroup.Entry"]=nd;nd.__name__=["flambe","platform","_EventGroup","Entry"];nd.prototype={__class__:nd};var Ob=function(){};e["flambe.platform.InternalGraphics"]=Ob;Ob.__name__=["flambe",
"platform","InternalGraphics"];Ob.__interfaces__=[dd];Ob.prototype={__class__:Ob};var od=function(){};e["flambe.subsystem.RendererSystem"]=od;od.__name__=["flambe","subsystem","RendererSystem"];od.prototype={__class__:od};var Pb=function(){};e["flambe.platform.InternalRenderer"]=Pb;Pb.__name__=["flambe","platform","InternalRenderer"];Pb.__interfaces__=[od];Pb.prototype={__class__:Pb};var jd=function(){};e["flambe.platform.KeyCodes"]=jd;jd.__name__=["flambe","platform","KeyCodes"];jd.toKey=function(a){switch(a){case 65:return d.A;
case 66:return d.B;case 67:return d.C;case 68:return d.D;case 69:return d.E;case 70:return d.F;case 71:return d.G;case 72:return d.H;case 73:return d.I;case 74:return d.J;case 75:return d.K;case 76:return d.L;case 77:return d.M;case 78:return d.N;case 79:return d.O;case 80:return d.P;case 81:return d.Q;case 82:return d.R;case 83:return d.S;case 84:return d.T;case 85:return d.U;case 86:return d.V;case 87:return d.W;case 88:return d.X;case 89:return d.Y;case 90:return d.Z;case 48:return d.Number0;case 49:return d.Number1;
case 50:return d.Number2;case 51:return d.Number3;case 52:return d.Number4;case 53:return d.Number5;case 54:return d.Number6;case 55:return d.Number7;case 56:return d.Number8;case 57:return d.Number9;case 96:return d.Numpad0;case 97:return d.Numpad1;case 98:return d.Numpad2;case 99:return d.Numpad3;case 100:return d.Numpad4;case 101:return d.Numpad5;case 102:return d.Numpad6;case 103:return d.Numpad7;case 104:return d.Numpad8;case 105:return d.Numpad9;case 107:return d.NumpadAdd;case 110:return d.NumpadDecimal;
case 111:return d.NumpadDivide;case 108:return d.NumpadEnter;case 106:return d.NumpadMultiply;case 109:return d.NumpadSubtract;case 112:return d.F1;case 113:return d.F2;case 114:return d.F3;case 115:return d.F4;case 116:return d.F5;case 117:return d.F6;case 118:return d.F7;case 119:return d.F8;case 120:return d.F9;case 121:return d.F10;case 122:return d.F11;case 123:return d.F12;case 37:return d.Left;case 38:return d.Up;case 39:return d.Right;case 40:return d.Down;case 18:return d.Alt;case 192:return d.Backquote;
case 220:return d.Backslash;case 8:return d.Backspace;case 20:return d.CapsLock;case 188:return d.Comma;case 15:return d.Command;case 17:return d.Control;case 46:return d.Delete;case 35:return d.End;case 13:return d.Enter;case 187:return d.Equals;case 27:return d.Escape;case 36:return d.Home;case 45:return d.Insert;case 219:return d.LeftBracket;case 189:return d.Minus;case 34:return d.PageDown;case 33:return d.PageUp;case 190:return d.Period;case 222:return d.Quote;case 221:return d.RightBracket;
case 186:return d.Semicolon;case 16:return d.Shift;case 191:return d.Slash;case 32:return d.Space;case 9:return d.Tab;case 16777234:return d.Menu;case 16777247:return d.Search}return d.Unknown(a)};var pb=function(){this._tickables=[]};e["flambe.platform.MainLoop"]=pb;pb.__name__=["flambe","platform","MainLoop"];pb.updateEntity=function(a,b){var c=a._compMap.SpeedAdjuster_5;if(null!=c&&(c._realDt=b,b*=c.scale._value,0>=b)){c.onUpdate(b);return}for(c=a.firstComponent;null!=c;){var f=c.next;0==(c._flags&
1)&&(c._flags|=1,c.onStart());c.onUpdate(b);c=f}for(c=a.firstChild;null!=c;)f=c.next,pb.updateEntity(c,b),c=f};pb.prototype={update:function(a){if(!(0>=a)){1<a&&(a=1);for(var b=0;b<this._tickables.length;){var c=this._tickables[b];null==c||c.update(a)?this._tickables.splice(b,1):++b}k.volume.update(a);pb.updateEntity(k.root,a)}},render:function(a){var b=a.graphics;null!=b&&(a.willRender(),p.render(k.root,b),a.didRender())},addTickable:function(a){this._tickables.push(a)},__class__:pb};var pd=function(){};
e["flambe.platform.MathUtil"]=pd;pd.__name__=["flambe","platform","MathUtil"];pd.nextPowerOfTwo=function(a){for(var b=1;b<a;)b<<=1;return b};var ld=function(){};e["flambe.platform.MouseCodes"]=ld;ld.__name__=["flambe","platform","MouseCodes"];ld.toButton=function(a){switch(a){case 0:return ga.Left;case 1:return ga.Middle;case 2:return ga.Right}return ga.Unknown(a)};var yc=function(){};e["flambe.platform.TextureRoot"]=yc;yc.__name__=["flambe","platform","TextureRoot"];yc.prototype={__class__:yc};var zc=
function(){};e["flambe.platform.Tickable"]=zc;zc.__name__=["flambe","platform","Tickable"];zc.prototype={__class__:zc};var Na=function(a,b){this._firstDraw=!1;this._canvasCtx=a.getContext("2d",{alpha:b})};e["flambe.platform.html.CanvasGraphics"]=Na;Na.__name__=["flambe","platform","html","CanvasGraphics"];Na.__interfaces__=[Ob];Na.prototype={save:function(){this._canvasCtx.save()},transform:function(a,b,c,f,d,g){this._canvasCtx.transform(a,b,c,f,d,g)},restore:function(){this._canvasCtx.restore()},
drawTexture:function(a,b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},drawSubTexture:function(a,b,c,f,d,g,e){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawSubTexture(a,b,c,f,d,g,e),this._canvasCtx.globalCompositeOperation="source-over"):this._canvasCtx.drawImage(a.root.image,a.rootX+f|0,a.rootY+d|0,g|0,e|0,b|0,c|0,g|0,e|0)},fillRect:function(a,b,c,f,d){if(this._firstDraw)this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",
this.fillRect(a,b,c,f,d),this._canvasCtx.globalCompositeOperation="source-over";else{for(a=(16777215&a).toString(16);6>a.length;)a="0"+w.string(a);this._canvasCtx.fillStyle="#"+w.string(a);this._canvasCtx.fillRect(b|0,c|0,f|0,d|0)}},multiplyAlpha:function(a){this._canvasCtx.globalAlpha*=a},setBlendMode:function(a){var b;switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";break;case 2:b="multiply";break;case 3:b="screen";break;case 4:b="destination-in";break;case 5:b="copy"}this._canvasCtx.globalCompositeOperation=
b},applyScissor:function(a,b,c,f){this._canvasCtx.beginPath();this._canvasCtx.rect(a|0,b|0,c|0,f|0);this._canvasCtx.clip()},willRender:function(){this._firstDraw=!0},didRender:function(){},onResize:function(){},__class__:Na};var qb=function(a){this.graphics=new Na(a,!1);this._hasGPU=new X(!0)};e["flambe.platform.html.CanvasRenderer"]=qb;qb.__name__=["flambe","platform","html","CanvasRenderer"];qb.__interfaces__=[Pb];qb.prototype={get_type:function(){return Ca.Canvas},createTextureFromImage:function(a){a=
new vb(qb.CANVAS_TEXTURES?A.createCanvas(a):a);return a.createTexture(a.width,a.height)},createTexture:function(a,b){return(new vb(A.createEmptyCanvas(a,b))).createTexture(a,b)},getCompressedTextureFormats:function(){return[]},createCompressedTexture:function(){return null},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},__class__:qb};var Ac=function(a,b,c){Ma.call(this,a,b,c)};e["flambe.platform.html.CanvasTexture"]=Ac;Ac.__name__=["flambe","platform",
"html","CanvasTexture"];Ac.__super__=Ma;Ac.prototype=q(Ma.prototype,{__class__:Ac});var vb=function(a){this._graphics=null;this.updateCount=0;this._disposed=!1;this.image=a;this.width=a.width;this.height=a.height};e["flambe.platform.html.CanvasTextureRoot"]=vb;vb.__name__=["flambe","platform","html","CanvasTextureRoot"];vb.__interfaces__=[yc];vb.__super__=ca;vb.prototype=q(ca.prototype,{createTexture:function(a,b){return new Ac(this,a,b)},getGraphics:function(){null==this._graphics&&(this.getContext2d(),
this._graphics=new Bc(this));return this._graphics},getContext2d:function(){F.__instanceof(this.image,HTMLCanvasElement)||(this.image=A.createCanvas(this.image));return this.image.getContext("2d",null)},onDisposed:function(){this._graphics=this.image=null},__class__:vb});var Bc=function(a){Na.call(this,a.image,!0);this._renderTarget=a};e["flambe.platform.html._CanvasTextureRoot.InternalGraphics"]=Bc;Bc.__name__=["flambe","platform","html","_CanvasTextureRoot","InternalGraphics"];Bc.__super__=Na;Bc.prototype=
q(Na.prototype,{drawTexture:function(a,b,c){Na.prototype.drawTexture.call(this,a,b,c);++this._renderTarget.updateCount},drawSubTexture:function(a,b,c,f,d,g,e){Na.prototype.drawSubTexture.call(this,a,b,c,f,d,g,e);++this._renderTarget.updateCount},fillRect:function(a,b,c,f,d){Na.prototype.fillRect.call(this,a,b,c,f,d);++this._renderTarget.updateCount},__class__:Bc});var K=function(a,b){hb.call(this,a,b)};e["flambe.platform.html.HtmlAssetPackLoader"]=K;K.__name__=["flambe","platform","html","HtmlAssetPackLoader"];
K.detectImageFormats=function(a){var b=[i.PNG,i.JPG,i.GIF],c=2,f;f=window.document.createElement("img");f.onload=f.onerror=function(){1==f.width&&b.unshift(i.WEBP);--c;0==c&&a(b)};f.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==";var d;d=window.document.createElement("img");d.onload=d.onerror=function(){1==d.width&&b.unshift(i.JXR);--c;0==c&&a(b)};d.src="data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA=="};
K.detectAudioFormats=function(){var a;a=window.document.createElement("audio");if(null==a||null==B(a,a.canPlayType))return[];var b=new ra("\\b(iPhone|iPod|iPad|Android|Windows Phone)\\b",""),c=window.navigator.userAgent;if(!M.get_supported()&&b.match(c))return[];for(var b=[{format:i.M4A,mimeType:"audio/mp4; codecs=mp4a"},{format:i.MP3,mimeType:"audio/mpeg"},{format:i.OPUS,mimeType:"audio/ogg; codecs=opus"},{format:i.OGG,mimeType:"audio/ogg; codecs=vorbis"},{format:i.WAV,mimeType:"audio/wav"}],c=[],
f=0;f<b.length;){var d=b[f];++f;var g="";try{g=a.canPlayType(d.mimeType)}catch(e){e instanceof m&&(e=e.val)}""!=g&&c.push(d.format)}return c};K.supportsBlob=function(){if(K._detectBlobSupport){K._detectBlobSupport=!1;if((new ra("\\bSilk\\b","")).match(window.navigator.userAgent)||null==window.Blob)return!1;var a=new XMLHttpRequest;a.open("GET",".",!0);if(""!=a.responseType)return!1;a.responseType="blob";if("blob"!=a.responseType)return!1;K._URL=A.loadExtension("URL").value}return null!=K._URL&&null!=
K._URL.createObjectURL};K.__super__=hb;K.prototype=q(hb.prototype,{loadEntry:function(a,b){var c=this;switch(b.format[1]){case 0:case 1:case 2:case 3:case 4:var f;f=window.document.createElement("img");var d=new Nb;d.addDisposingListener(f,"load",function(){K.supportsBlob()&&K._URL.revokeObjectURL(f.src);var a=c._platform.getRenderer().createTextureFromImage(f);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});d.addDisposingListener(f,"error",function(){c.handleError(b,"Failed to load image")});
K.supportsBlob()?this.download(a,b,"blob",function(a){f.src=K._URL.createObjectURL(a)}):f.src=a;break;case 5:case 6:case 7:this.download(a,b,"arraybuffer",function(){var a=c._platform.getRenderer().createCompressedTexture(b.format,null);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});break;case 8:case 9:case 10:case 11:case 12:if(M.get_supported())this.download(a,b,"arraybuffer",function(a){M.ctx.decodeAudioData(a,function(a){c.handleLoad(b,new M(a))},function(){c.handleLoad(b,oa.getInstance())})});
else{var g;g=window.document.createElement("audio");g.preload="auto";var e=++K._mediaRefCount;null==K._mediaElements&&(K._mediaElements=new la);K._mediaElements.h[e]=g;d=new Nb;d.addDisposingListener(g,"canplaythrough",function(){K._mediaElements.remove(e);c.handleLoad(b,new Qb(g))});d.addDisposingListener(g,"error",function(){K._mediaElements.remove(e);var a=g.error.code;3==a||4==a?c.handleLoad(b,oa.getInstance()):c.handleError(b,"Failed to load audio: "+g.error.code)});d.addListener(g,"progress",
function(){if(0<g.buffered.length&&0<g.duration){var a=g.buffered.end(0)/g.duration;c.handleProgress(b,a*b.bytes|0)}});g.src=a;g.load()}break;case 13:this.download(a,b,"text",function(a){c.handleLoad(b,new Mb(a))})}},getAssetFormats:function(a){var b=this;null==K._supportedFormats&&(K._supportedFormats=new uc,K.detectImageFormats(function(a){K._supportedFormats.set_result(b._platform.getRenderer().getCompressedTextureFormats().concat(a).concat(K.detectAudioFormats()).concat([i.Data]))}));K._supportedFormats.get(a)},
download:function(a,b,c,f){var d=this,g=null,e=null,h=0,j=!1,k=function(){j&&(j=!1,window.clearInterval(h))},l=3,m=function(){--l;return 0<=l?(e(),!0):!1},e=function(){k();null!=g&&g.abort();g=new XMLHttpRequest;g.open("GET",a,!0);g.responseType=c;var e=0;g.onprogress=function(a){j||(j=!0,h=window.setInterval(function(){4!=g.readyState&&5E3<Date.now()-e&&!m()&&(k(),d.handleError(b,"Download stalled"))},1E3));e=Date.now();d.handleProgress(b,a.loaded)};g.onerror=function(){if(0!=g.status||!m())k(),
d.handleError(b,"HTTP error "+g.status)};g.onload=function(){var a=g.response;null==a&&(a=g.responseText);k();f(a)};g.send()};e()},__class__:K});var qd=function(){};e["flambe.subsystem.ExternalSystem"]=qd;qd.__name__=["flambe","subsystem","ExternalSystem"];qd.prototype={__class__:qd};var mc=function(){};e["flambe.platform.html.HtmlExternal"]=mc;mc.__name__=["flambe","platform","html","HtmlExternal"];mc.__interfaces__=[qd];mc.prototype={get_supported:function(){return!0},call:function(a,b){null==b&&
(b=[]);for(var c=window,f=c,d=0,g=a.split(".");d<g.length;){var e=g[d];++d;c=f;f=ja.field(c,e)}return ja.callMethod(c,f,b)},__class__:mc};var ic=function(a,b){pa.call(this,a);this._canvas=b};e["flambe.platform.html.HtmlMouse"]=ic;ic.__name__=["flambe","platform","html","HtmlMouse"];ic.__super__=pa;ic.prototype=q(pa.prototype,{set_cursor:function(a){var b;switch(a[1]){case 0:b="";break;case 1:b="pointer";break;case 2:b="none"}this._canvas.style.cursor=b;return pa.prototype.set_cursor.call(this,a)},
__class__:ic});var Qb=function(a){this._disposed=!1;this.audioElement=a};e["flambe.platform.html.HtmlSound"]=Qb;Qb.__name__=["flambe","platform","html","HtmlSound"];Qb.__interfaces__=[Xa];Qb.__super__=ca;Qb.prototype=q(ca.prototype,{play:function(a){null==a&&(a=1);return new Rb(this,a,!1)},loop:function(a){null==a&&(a=1);return new Rb(this,a,!0)},onDisposed:function(){this.audioElement=null},__class__:Qb});var Rb=function(a,b,c){var f=this;this._sound=a;this._tickableAdded=!1;this._clonedElement=
window.document.createElement("audio");this._clonedElement.loop=c;this._clonedElement.src=a.audioElement.src;this.volume=new L(b,function(){f.updateVolume()});this.updateVolume();this._complete=new X(!1);this.playAudio();k.hidden._value&&this.set_paused(!0)};e["flambe.platform.html._HtmlSound.HtmlPlayback"]=Rb;Rb.__name__=["flambe","platform","html","_HtmlSound","HtmlPlayback"];Rb.__interfaces__=[zc,jb];Rb.prototype={set_paused:function(a){this._clonedElement.paused!=a&&(a?this._clonedElement.pause():
this.playAudio());return a},get_complete:function(){return this._complete},update:function(a){this.volume.update(a);this._complete.set__(this._clonedElement.ended);return this._complete._value||this._clonedElement.paused?(this._tickableAdded=!1,this._volumeBinding.dispose(),this._hideBinding.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this._complete.set__(!0)},playAudio:function(){var a=this;this._clonedElement.play();this._tickableAdded||(Va.instance.mainLoop.addTickable(this),this._tickableAdded=
!0,this._volumeBinding=k.volume.get_changed().connect(function(){a.updateVolume()}),this._hideBinding=k.hidden.get_changed().connect(function(b){b?(a._wasPaused=a._clonedElement.paused,a.set_paused(!0)):a.set_paused(a._wasPaused)}))},updateVolume:function(){this._clonedElement.volume=k.volume._value*this.volume._value},__class__:Rb};var rd=function(){};e["flambe.subsystem.StageSystem"]=rd;rd.__name__=["flambe","subsystem","StageSystem"];rd.prototype={__class__:rd};var ob=function(a){var b=this;this._canvas=
a;this.resize=new va;this.scaleFactor=ob.computeScaleFactor();1!=this.scaleFactor&&(A.setVendorStyle(this._canvas,"transform-origin","top left"),A.setVendorStyle(this._canvas,"transform","scale("+1/this.scaleFactor+")"));A.SHOULD_HIDE_MOBILE_BROWSER&&(window.addEventListener("orientationchange",function(){A.callLater(B(b,b.hideMobileBrowser),200)},!1),this.hideMobileBrowser());window.addEventListener("resize",B(this,this.onWindowResize),!1);this.onWindowResize(null);this.orientation=new X(null);null!=
window.orientation&&(window.addEventListener("orientationchange",B(this,this.onOrientationChange),!1),this.onOrientationChange(null));this.fullscreen=new X(!1);A.addVendorListener(window.document,"fullscreenchange",function(){b.updateFullscreen()},!1);this.updateFullscreen()};e["flambe.platform.html.HtmlStage"]=ob;ob.__name__=["flambe","platform","html","HtmlStage"];ob.__interfaces__=[rd];ob.computeScaleFactor=function(){var a=window.devicePixelRatio;null==a&&(a=1);var b=window.document.createElement("canvas").getContext("2d",
null),b=A.loadExtension("backingStorePixelRatio",b).value;null==b&&(b=1);a/=b;b=window.screen.height;return 1136<a*window.screen.width||1136<a*b?1:a};ob.prototype={get_width:function(){return this._canvas.width},get_height:function(){return this._canvas.height},onWindowResize:function(){var a=this._canvas.parentElement.getBoundingClientRect();this.resizeCanvas(a.width,a.height)},resizeCanvas:function(a,b){var c=this.scaleFactor*a,f=this.scaleFactor*b;if(this._canvas.width==c&&this._canvas.height==
f)return!1;this._canvas.width=c|0;this._canvas.height=f|0;this.resize.emit();return!0},hideMobileBrowser:function(){var a=this,b=window.document.documentElement.style;b.height=window.innerHeight+100+"px";b.width=window.innerWidth+"px";b.overflow="visible";A.callLater(function(){A.hideMobileBrowser();A.callLater(function(){b.height=window.innerHeight+"px";a.onWindowResize(null)},100)})},onOrientationChange:function(){this.orientation.set__(A.orientation(window.orientation))},updateFullscreen:function(){this.fullscreen.set__(!0==
A.loadFirstExtension(["fullscreen","fullScreen","isFullScreen"],window.document).value)},__class__:ob};var A=function(){};e["flambe.platform.html.HtmlUtil"]=A;A.__name__=["flambe","platform","html","HtmlUtil"];A.callLater=function(a,b){null==b&&(b=0);window.setTimeout(a,b)};A.hideMobileBrowser=function(){window.scrollTo(1,0)};A.loadExtension=function(a,b){null==b&&(b=window);var c=ja.field(b,a);if(null!=c)return{prefix:"",field:a,value:c};for(var c=a.charAt(0).toUpperCase()+t.substr(a,1,null),f=0,
d=A.VENDOR_PREFIXES;f<d.length;){var g=d[f];++f;var e=g+c,h=ja.field(b,e);if(null!=h)return{prefix:g,field:e,value:h}}return{prefix:null,field:null,value:null}};A.loadFirstExtension=function(a,b){for(var c=0;c<a.length;){var f=a[c];++c;f=A.loadExtension(f,b);if(null!=f.field)return f}return{prefix:null,field:null,value:null}};A.polyfill=function(a,b){null==b&&(b=window);var c=A.loadExtension(a,b).value;if(null==c)return!1;b[a]=c;return!0};A.setVendorStyle=function(a,b,c){for(var a=a.style,f=0,d=A.VENDOR_PREFIXES;f<
d.length;){var g=d[f];++f;a.setProperty("-"+g+"-"+b,c)}a.setProperty(b,c)};A.addVendorListener=function(a,b,c,f){for(var d=0,g=A.VENDOR_PREFIXES;d<g.length;){var e=g[d];++d;a.addEventListener(e+b,c,f)}a.addEventListener(b,c,f)};A.orientation=function(a){switch(a){case -90:case 90:return Wa.Landscape;default:return Wa.Portrait}};A.createEmptyCanvas=function(a,b){var c;c=window.document.createElement("canvas");c.width=a;c.height=b;return c};A.createCanvas=function(a){var b=A.createEmptyCanvas(a.width,
a.height),c=b.getContext("2d",null);c.save();c.globalCompositeOperation="copy";c.drawImage(a,0,0);c.restore();return b};A.detectSlowDriver=function(a){if(0<=window.navigator.platform.indexOf("Win")&&null!=window.chrome){for(var b=0,a=a.getSupportedExtensions();b<a.length;){var c=a[b];++b;if(0<=c.indexOf("WEBGL_compressed_texture"))return!1}return!0}return!1};A.fixAndroidMath=function(){if(0<=window.navigator.userAgent.indexOf("Linux; U; Android 4")){var a=Math.sin,b=Math.cos;Math.sin=function(b){return 0==
b?0:a(b)};Math.cos=function(a){return 0==a?1:b(a)}}};var sd=function(){};e["flambe.subsystem.WebSystem"]=sd;sd.__name__=["flambe","subsystem","WebSystem"];sd.prototype={__class__:sd};var lc=function(a){this._container=a};e["flambe.platform.html.HtmlWeb"]=lc;lc.__name__=["flambe","platform","html","HtmlWeb"];lc.__interfaces__=[sd];lc.prototype={openBrowser:function(a){window.open(a,"_blank")},__class__:lc};var M=function(a){this._disposed=!1;this.buffer=a};e["flambe.platform.html.WebAudioSound"]=M;
M.__name__=["flambe","platform","html","WebAudioSound"];M.__interfaces__=[Xa];M.get_supported=function(){if(M._detectSupport){M._detectSupport=!1;var a=A.loadExtension("AudioContext").value;null!=a&&(M.ctx=new a,M.gain=M.createGain(),M.gain.connect(M.ctx.destination),k.volume.watch(function(a){M.gain.gain.value=a}))}return null!=M.ctx};M.createGain=function(){return null!=M.ctx.createGain?M.ctx.createGain():M.ctx.createGainNode()};M.start=function(a,b){null!=a.start?a.start(b):a.noteOn(b)};M.__super__=
ca;M.prototype=q(ca.prototype,{play:function(a){null==a&&(a=1);return new Sb(this,a,!1)},loop:function(a){null==a&&(a=1);return new Sb(this,a,!0)},get_duration:function(){return this.buffer.duration},onDisposed:function(){this.buffer=null},__class__:M});var Sb=function(a,b,c){var f=this;this._sound=a;this._head=M.gain;this._complete=new X(!1);this._sourceNode=M.ctx.createBufferSource();this._sourceNode.buffer=a.buffer;this._sourceNode.loop=c;this._sourceNode.onended=function(){f._complete.set__(!0)};
M.start(this._sourceNode,0);this.playAudio();this.volume=new L(b,function(a){f.setVolume(a)});1!=b&&this.setVolume(b);k.hidden._value&&this.set_paused(!0)};e["flambe.platform.html._WebAudioSound.WebAudioPlayback"]=Sb;Sb.__name__=["flambe","platform","html","_WebAudioSound","WebAudioPlayback"];Sb.__interfaces__=[zc,jb];Sb.prototype={set_paused:function(a){a!=0<=this._pausedAt&&(a?(this._sourceNode.disconnect(),this._pausedAt=this.get_position()):this.playAudio());return a},get_complete:function(){return this._complete},
get_position:function(){return this._complete._value?this._sound.get_duration():0<=this._pausedAt?this._pausedAt:(M.ctx.currentTime-this._startedAt)%this._sound.get_duration()},update:function(a){this.volume.update(a);3==this._sourceNode.playbackState&&this._complete.set__(!0);return this._complete._value||0<=this._pausedAt?(this._tickableAdded=!1,this._hideBinding.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this._complete.set__(!0)},setVolume:function(a){null==this._gainNode&&(this._gainNode=
M.createGain(),this.insertNode(this._gainNode));this._gainNode.gain.value=a},insertNode:function(a){0<=this._pausedAt||(this._sourceNode.disconnect(),this._sourceNode.connect(a));a.connect(this._head);this._head=a},playAudio:function(){var a=this;this._sourceNode.connect(this._head);this._startedAt=M.ctx.currentTime;this._pausedAt=-1;this._tickableAdded||(Va.instance.mainLoop.addTickable(this),this._tickableAdded=!0,this._hideBinding=k.hidden.get_changed().connect(function(b){b?(a._wasPaused=0<=a._pausedAt,
a.set_paused(!0)):a.set_paused(a._wasPaused)}))},__class__:Sb};var td=function(a){this._quads=this._maxQuads=this._dataOffset=this._backbufferWidth=this._backbufferHeight=0;this._pendingSetScissor=!1;this._lastBlendMode=this._lastRenderTarget=this._lastShader=this._lastTexture=this._lastScissor=this._currentBlendMode=this._currentShader=this._currentTexture=this._currentRenderTarget=null;this._gl=a;a.clearColor(0,0,0,0);a.enable(3042);a.pixelStorei(37441,1);this._vertexBuffer=a.createBuffer();a.bindBuffer(34962,
this._vertexBuffer);this._quadIndexBuffer=a.createBuffer();a.bindBuffer(34963,this._quadIndexBuffer);this._drawTextureShader=new Cc(a);this._drawPatternShader=new Dc(a);this._fillRectShader=new Ec(a);this.resize(16)};e["flambe.platform.html.WebGLBatcher"]=td;td.__name__=["flambe","platform","html","WebGLBatcher"];td.prototype={resizeBackbuffer:function(a,b){this._gl.viewport(0,0,a,b);this._backbufferWidth=a;this._backbufferHeight=b},willRender:function(){},didRender:function(){this.flush()},bindTexture:function(a){this.flush();
this._currentTexture=this._lastTexture=null;this._gl.bindTexture(3553,a)},deleteTexture:function(a){null!=this._lastTexture&&this._lastTexture.root==a&&(this.flush(),this._currentTexture=this._lastTexture=null);this._gl.deleteTexture(a.nativeTexture)},bindFramebuffer:function(a){a!=this._lastRenderTarget&&(this.flush(),this.bindRenderTarget(a))},deleteFramebuffer:function(a){a==this._lastRenderTarget&&(this.flush(),this._currentRenderTarget=this._lastRenderTarget=null);this._gl.deleteFramebuffer(a.framebuffer)},
prepareDrawTexture:function(a,b,c,f){f!=this._lastTexture&&(this.flush(),this._lastTexture=f);return this.prepareQuad(5,a,b,c,this._drawTextureShader)},prepareFillRect:function(a,b,c){return this.prepareQuad(6,a,b,c,this._fillRectShader)},prepareQuad:function(a,b,c,f,d){b!=this._lastRenderTarget&&(this.flush(),this._lastRenderTarget=b);c!=this._lastBlendMode&&(this.flush(),this._lastBlendMode=c);d!=this._lastShader&&(this.flush(),this._lastShader=d);if(null!=f||null!=this._lastScissor)if(null==f||
null==this._lastScissor||!this._lastScissor.equals(f))this.flush(),this._lastScissor=null!=f?f.clone(this._lastScissor):null,this._pendingSetScissor=!0;this._quads>=this._maxQuads&&this.resize(2*this._maxQuads);++this._quads;b=this._dataOffset;this._dataOffset+=4*a;return b},flush:function(){if(!(1>this._quads)){this._lastRenderTarget!=this._currentRenderTarget&&this.bindRenderTarget(this._lastRenderTarget);if(this._lastBlendMode!=this._currentBlendMode){switch(this._lastBlendMode[1]){case 0:this._gl.blendFunc(1,
771);break;case 1:this._gl.blendFunc(1,1);break;case 2:this._gl.blendFunc(774,771);break;case 3:this._gl.blendFunc(1,769);break;case 4:this._gl.blendFunc(0,770);break;case 5:this._gl.blendFunc(1,0)}this._currentBlendMode=this._lastBlendMode}this._pendingSetScissor&&(null!=this._lastScissor?(this._gl.enable(3089),this._gl.scissor(this._lastScissor.x|0,this._lastScissor.y|0,this._lastScissor.width|0,this._lastScissor.height|0)):this._gl.disable(3089),this._pendingSetScissor=!1);this._lastTexture!=this._currentTexture&&
(this._gl.bindTexture(3553,this._lastTexture.root.nativeTexture),this._currentTexture=this._lastTexture);this._lastShader!=this._currentShader&&(this._lastShader.useProgram(),this._lastShader.prepare(),this._currentShader=this._lastShader);if(this._lastShader==this._drawPatternShader){var a=this._lastTexture,b=a.root;this._drawPatternShader.setRegion(a.rootX/b.width,a.rootY/b.height,a._width/b.width,a._height/b.height)}this._gl.bufferData(34962,this.data.subarray(0,this._dataOffset),35040);this._gl.drawElements(4,
6*this._quads,5123,0);this._dataOffset=this._quads=0}},resize:function(a){this.flush();if(!(1024<a)){this._maxQuads=a;this.data=new Float32Array(24*a);this._gl.bufferData(34962,4*this.data.length,35040);for(var b=new Uint16Array(6*a),c=0;c<a;){var f=c++;b[6*f]=4*f;b[6*f+1]=4*f+1;b[6*f+2]=4*f+2;b[6*f+3]=4*f+2;b[6*f+4]=4*f+3;b[6*f+5]=4*f}this._gl.bufferData(34963,b,35044)}},bindRenderTarget:function(a){null!=a?(this._gl.bindFramebuffer(36160,a.framebuffer),this._gl.viewport(0,0,a.width,a.height)):(this._gl.bindFramebuffer(36160,
null),this._gl.viewport(0,0,this._backbufferWidth,this._backbufferHeight));this._lastRenderTarget=this._currentRenderTarget=a},__class__:td};var Da=function(a,b){this._inverseProjection=this._stateList=null;null==Da._scratchQuadArray&&(Da._scratchQuadArray=new Float32Array(8));this._batcher=a;this._renderTarget=b};e["flambe.platform.html.WebGLGraphics"]=Da;Da.__name__=["flambe","platform","html","WebGLGraphics"];Da.__interfaces__=[Ob];Da.prototype={save:function(){var a=this._stateList,b=this._stateList.next;
null==b&&(b=new Fc,b.prev=a,a.next=b);a.matrix.clone(b.matrix);b.alpha=a.alpha;b.blendMode=a.blendMode;b.scissor=null!=a.scissor?a.scissor.clone(b.scissor):null;this._stateList=b},transform:function(a,b,c,f,d,g){var e=this._stateList;Da._scratchMatrix.set(a,b,c,f,d,g);Ba.multiply(e.matrix,Da._scratchMatrix,e.matrix)},restore:function(){this._stateList=this._stateList.prev},drawTexture:function(a,b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},drawSubTexture:function(a,b,c,f,d,g,
e){var h=this._stateList,j=a.root,b=this.transformQuad(b,c,g,e),c=j.width,j=j.height,f=(a.rootX+f)/c,d=(a.rootY+d)/j,g=f+g/c,e=d+e/j,c=h.alpha,a=this._batcher.prepareDrawTexture(this._renderTarget,h.blendMode,h.scissor,a),h=this._batcher.data;h[a]=b[0];h[++a]=b[1];h[++a]=f;h[++a]=d;h[++a]=c;h[++a]=b[2];h[++a]=b[3];h[++a]=g;h[++a]=d;h[++a]=c;h[++a]=b[4];h[++a]=b[5];h[++a]=g;h[++a]=e;h[++a]=c;h[++a]=b[6];h[++a]=b[7];h[++a]=f;h[++a]=e;h[++a]=c},fillRect:function(a,b,c,f,d){var g=this._stateList,b=this.transformQuad(b,
c,f,d),c=(a&16711680)/16711680,f=(a&65280)/65280,a=(a&255)/255,d=g.alpha,g=this._batcher.prepareFillRect(this._renderTarget,g.blendMode,g.scissor),e=this._batcher.data;e[g]=b[0];e[++g]=b[1];e[++g]=c;e[++g]=f;e[++g]=a;e[++g]=d;e[++g]=b[2];e[++g]=b[3];e[++g]=c;e[++g]=f;e[++g]=a;e[++g]=d;e[++g]=b[4];e[++g]=b[5];e[++g]=c;e[++g]=f;e[++g]=a;e[++g]=d;e[++g]=b[6];e[++g]=b[7];e[++g]=c;e[++g]=f;e[++g]=a;e[++g]=d},multiplyAlpha:function(a){this._stateList.alpha*=a},setBlendMode:function(a){this._stateList.blendMode=
a},applyScissor:function(a,b,c,f){var d=this._stateList,g=Da._scratchQuadArray;g[0]=a;g[1]=b;g[2]=a+c;g[3]=b+f;d.matrix.transformArray(g,4,g);this._inverseProjection.transformArray(g,4,g);a=g[0];b=g[1];c=g[2]-a;f=g[3]-b;0>c&&(a+=c,c=-c);0>f&&(b+=f,f=-f);d.applyScissor(a,b,c,f)},willRender:function(){this._batcher.willRender()},didRender:function(){this._batcher.didRender()},onResize:function(a,b){this._stateList=new Fc;var c;c=null!=this._renderTarget?-1:1;this._stateList.matrix.set(2/a,0,0,-2*c/
b,-1,c);this._inverseProjection=new Ba;this._inverseProjection.set(2/a,0,0,2/b,-1,-1);this._inverseProjection.invert()},transformQuad:function(a,b,c,f){var c=a+c,f=b+f,d=Da._scratchQuadArray;d[0]=a;d[1]=b;d[2]=c;d[3]=b;d[4]=c;d[5]=f;d[6]=a;d[7]=f;this._stateList.matrix.transformArray(d,8,d);return d},__class__:Da};var Fc=function(){this.scissor=this.prev=this.next=null;this.matrix=new Ba;this.alpha=1;this.blendMode=T.Normal};e["flambe.platform.html._WebGLGraphics.DrawingState"]=Fc;Fc.__name__=["flambe",
"platform","html","_WebGLGraphics","DrawingState"];Fc.prototype={applyScissor:function(a,b,c,f){if(null!=this.scissor)var d=Y.max(this.scissor.x,a),g=Y.max(this.scissor.y,b),c=Y.min(this.scissor.x+this.scissor.width,a+c),f=Y.min(this.scissor.y+this.scissor.height,b+f),a=d,b=g,c=c-d,f=f-g;else this.scissor=new fb;this.scissor.set(Math.round(a),Math.round(b),Math.round(c),Math.round(f))},__class__:Fc};var nc=function(a,b){var c=this;this._hasGPU=new X(!0);this.gl=b;b.canvas.addEventListener("webglcontextlost",
function(a){a.preventDefault();c._hasGPU.set__(!1)},!1);b.canvas.addEventListener("webglcontextrestore",function(){c.init();c._hasGPU.set__(!0)},!1);a.resize.connect(B(this,this.onResize));this.init()};e["flambe.platform.html.WebGLRenderer"]=nc;nc.__name__=["flambe","platform","html","WebGLRenderer"];nc.__interfaces__=[Pb];nc.prototype={get_type:function(){return Ca.WebGL},createTextureFromImage:function(a){if(this.gl.isContextLost())return null;var b=new Ya(this,a.width,a.height);b.uploadImageData(a);
return b.createTexture(a.width,a.height)},createTexture:function(a,b){if(this.gl.isContextLost())return null;var c=new Ya(this,a,b);c.clear();return c.createTexture(a,b)},getCompressedTextureFormats:function(){return[]},createCompressedTexture:function(){this.gl.isContextLost();return null},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},onResize:function(){var a=this.gl.canvas.width,b=this.gl.canvas.height;this.batcher.resizeBackbuffer(a,b);this.graphics.onResize(a,
b)},init:function(){this.batcher=new td(this.gl);this.graphics=new Da(this.batcher,null);this.onResize()},__class__:nc};var Gc=function(a,b,c){Ma.call(this,a,b,c)};e["flambe.platform.html.WebGLTexture"]=Gc;Gc.__name__=["flambe","platform","html","WebGLTexture"];Gc.__super__=Ma;Gc.prototype=q(Ma.prototype,{__class__:Gc});var Ya=function(a,b,c){this.framebuffer=this._graphics=null;this._disposed=!1;this._renderer=a;this.width=Y.max(2,pd.nextPowerOfTwo(b));this.height=Y.max(2,pd.nextPowerOfTwo(c));b=
a.gl;this.nativeTexture=b.createTexture();a.batcher.bindTexture(this.nativeTexture);b.texParameteri(3553,10242,33071);b.texParameteri(3553,10243,33071);b.texParameteri(3553,10240,9729);b.texParameteri(3553,10241,9729)};e["flambe.platform.html.WebGLTextureRoot"]=Ya;Ya.__name__=["flambe","platform","html","WebGLTextureRoot"];Ya.__interfaces__=[yc];Ya.drawBorder=function(a,b,c){var f=a.getContext("2d",null);f.drawImage(a,b-1,0,1,c,b,0,1,c);f.drawImage(a,0,c-1,b,1,0,c,b,1)};Ya.__super__=ca;Ya.prototype=
q(ca.prototype,{createTexture:function(a,b){return new Gc(this,a,b)},uploadImageData:function(a){if(this.width!=a.width||this.height!=a.height){var b=A.createEmptyCanvas(this.width,this.height);b.getContext("2d",null).drawImage(a,0,0);Ya.drawBorder(b,a.width,a.height);a=b}this._renderer.batcher.bindTexture(this.nativeTexture);this._renderer.gl.texImage2D(3553,0,6408,6408,5121,a)},clear:function(){this._renderer.batcher.bindTexture(this.nativeTexture);this._renderer.gl.texImage2D(3553,0,6408,this.width,
this.height,0,6408,5121,null)},getGraphics:function(){if(null==this._graphics){this._graphics=new Da(this._renderer.batcher,this);this._graphics.onResize(this.width,this.height);var a=this._renderer.gl;this.framebuffer=a.createFramebuffer();this._renderer.batcher.bindFramebuffer(this);a.framebufferTexture2D(36160,36064,3553,this.nativeTexture,0)}return this._graphics},onDisposed:function(){var a=this._renderer.batcher;a.deleteTexture(this);null!=this.framebuffer&&a.deleteFramebuffer(this);this._graphics=
this.framebuffer=this.nativeTexture=null},__class__:Ya});var qa=function(a,b,c){c="#ifdef GL_ES\nprecision mediump float;\n#endif\n"+c;this._gl=a;this._program=a.createProgram();a.attachShader(this._program,qa.createShader(a,35633,b));a.attachShader(this._program,qa.createShader(a,35632,c));a.linkProgram(this._program);a.useProgram(this._program)};e["flambe.platform.shader.ShaderGL"]=qa;qa.__name__=["flambe","platform","shader","ShaderGL"];qa.createShader=function(a,b,c){b=a.createShader(b);a.shaderSource(b,
c);a.compileShader(b);return b};qa.prototype={useProgram:function(){this._gl.useProgram(this._program)},prepare:function(){null},getAttribLocation:function(a){return this._gl.getAttribLocation(this._program,a)},getUniformLocation:function(a){return this._gl.getUniformLocation(this._program,a)},__class__:qa};var Dc=function(a){qa.call(this,a,"attribute highp vec2 a_pos;\nattribute mediump vec2 a_uv;\nattribute lowp float a_alpha;\nvarying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nvoid main (void) {\nv_uv = a_uv;\nv_alpha = a_alpha;\ngl_Position = vec4(a_pos, 0, 1);\n}",
"varying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nuniform lowp sampler2D u_texture;\nuniform mediump vec4 u_region;\nvoid main (void) {\ngl_FragColor = texture2D(u_texture, u_region.xy + mod(v_uv, u_region.zw)) * v_alpha;\n}");this.a_pos=this.getAttribLocation("a_pos");this.a_uv=this.getAttribLocation("a_uv");this.a_alpha=this.getAttribLocation("a_alpha");this.u_texture=this.getUniformLocation("u_texture");this.u_region=this.getUniformLocation("u_region");this.setTexture(0)};e["flambe.platform.shader.DrawPatternGL"]=
Dc;Dc.__name__=["flambe","platform","shader","DrawPatternGL"];Dc.__super__=qa;Dc.prototype=q(qa.prototype,{setTexture:function(a){this._gl.uniform1i(this.u_texture,a)},setRegion:function(a,b,c,f){this._gl.uniform4f(this.u_region,a,b,c,f)},prepare:function(){this._gl.enableVertexAttribArray(this.a_pos);this._gl.enableVertexAttribArray(this.a_uv);this._gl.enableVertexAttribArray(this.a_alpha);this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,20,0);this._gl.vertexAttribPointer(this.a_uv,2,5126,!1,20,
8);this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,20,16)},__class__:Dc});var Cc=function(a){qa.call(this,a,"attribute highp vec2 a_pos;\nattribute mediump vec2 a_uv;\nattribute lowp float a_alpha;\nvarying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nvoid main (void) {\nv_uv = a_uv;\nv_alpha = a_alpha;\ngl_Position = vec4(a_pos, 0, 1);\n}","varying mediump vec2 v_uv;\nvarying lowp float v_alpha;\nuniform lowp sampler2D u_texture;\nvoid main (void) {\ngl_FragColor = texture2D(u_texture, v_uv) * v_alpha;\n}");
this.a_pos=this.getAttribLocation("a_pos");this.a_uv=this.getAttribLocation("a_uv");this.a_alpha=this.getAttribLocation("a_alpha");this.u_texture=this.getUniformLocation("u_texture");this.setTexture(0)};e["flambe.platform.shader.DrawTextureGL"]=Cc;Cc.__name__=["flambe","platform","shader","DrawTextureGL"];Cc.__super__=qa;Cc.prototype=q(qa.prototype,{setTexture:function(a){this._gl.uniform1i(this.u_texture,a)},prepare:function(){this._gl.enableVertexAttribArray(this.a_pos);this._gl.enableVertexAttribArray(this.a_uv);
this._gl.enableVertexAttribArray(this.a_alpha);this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,20,0);this._gl.vertexAttribPointer(this.a_uv,2,5126,!1,20,8);this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,20,16)},__class__:Cc});var Ec=function(a){qa.call(this,a,"attribute highp vec2 a_pos;\nattribute lowp vec3 a_rgb;\nattribute lowp float a_alpha;\nvarying lowp vec4 v_color;\nvoid main (void) {\nv_color = vec4(a_rgb*a_alpha, a_alpha);\ngl_Position = vec4(a_pos, 0, 1);\n}","varying lowp vec4 v_color;\nvoid main (void) {\ngl_FragColor = v_color;\n}");
this.a_pos=this.getAttribLocation("a_pos");this.a_rgb=this.getAttribLocation("a_rgb");this.a_alpha=this.getAttribLocation("a_alpha")};e["flambe.platform.shader.FillRectGL"]=Ec;Ec.__name__=["flambe","platform","shader","FillRectGL"];Ec.__super__=qa;Ec.prototype=q(qa.prototype,{prepare:function(){this._gl.enableVertexAttribArray(this.a_pos);this._gl.enableVertexAttribArray(this.a_rgb);this._gl.enableVertexAttribArray(this.a_alpha);this._gl.vertexAttribPointer(this.a_pos,2,5126,!1,24,0);this._gl.vertexAttribPointer(this.a_rgb,
3,5126,!1,24,8);this._gl.vertexAttribPointer(this.a_alpha,1,5126,!1,24,20)},__class__:Ec});var Hc=function(){this._transitor=null;r.call(this);this.scenes=[];this.occludedScenes=[];this._root=new n};e["flambe.scene.Director"]=Hc;Hc.__name__=["flambe","scene","Director"];Hc.__super__=r;Hc.prototype=q(r.prototype,{get_name:function(){return"Director_8"},pushScene:function(a,b){var c=this;this.completeTransition();var f=this.get_topScene();null!=f?this.playTransition(f,a,b,function(){c.hide(f)}):(this.add(a),
this.invalidateVisibility())},popScene:function(a){var b=this;this.completeTransition();var c=this.get_topScene();if(null!=c){this.scenes.pop();var f=this.get_topScene();null!=f?this.playTransition(c,f,a,function(){b.hideAndDispose(c)}):(this.hideAndDispose(c),this.invalidateVisibility())}},unwindToScene:function(a,b){var c=this;this.completeTransition();var f=this.get_topScene();if(null!=f){if(f!=a){for(this.scenes.pop();0<this.scenes.length&&this.scenes[this.scenes.length-1]!=a;)this.scenes.pop().dispose();
this.playTransition(f,a,b,function(){c.hideAndDispose(f)})}}else this.pushScene(a,b)},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this.completeTransition();for(var a=0,b=this.scenes;a<b.length;){var c=b[a];++a;c.dispose()}this.scenes=[];this.occludedScenes=[];this._root.dispose()},onUpdate:function(a){null!=this._transitor&&this._transitor.update(a)&&this.completeTransition()},get_topScene:function(){var a=this.scenes.length;return 0<a?this.scenes[a-1]:null},add:function(a){var b=
this.get_topScene();null!=b&&this._root.removeChild(b);t.remove(this.scenes,a);this.scenes.push(a);this._root.addChild(a)},hide:function(a){a=a._compMap.Scene_0;null!=a&&a.hidden.emit()},hideAndDispose:function(a){this.hide(a);a.dispose()},show:function(a){a=a._compMap.Scene_0;null!=a&&a.shown.emit()},invalidateVisibility:function(){for(var a=this.scenes.length;0<a;){var b=this.scenes[--a]._compMap.Scene_0;if(null==b||b.opaque)break}this.occludedScenes=0<this.scenes.length?this.scenes.slice(a,this.scenes.length-
1):[];a=this.get_topScene();null!=a&&this.show(a)},completeTransition:function(){null!=this._transitor&&(this._transitor.complete(),this._transitor=null,this.invalidateVisibility())},playTransition:function(a,b,c,f){this.completeTransition();this.add(b);null!=c?(this.occludedScenes.push(a),this._transitor=new ud(a,b,c,f),this._transitor.init(this)):(f(),this.invalidateVisibility())},__class__:Hc});var ud=function(a,b,c,f){this._from=a;this._to=b;this._transition=c;this._onComplete=f};e["flambe.scene._Director.Transitor"]=
ud;ud.__name__=["flambe","scene","_Director","Transitor"];ud.prototype={init:function(a){this._transition.init(a,this._from,this._to)},update:function(a){return this._transition.update(a)},complete:function(){this._transition.complete();this._onComplete()},__class__:ud};var Tb=function(){};e["flambe.scene.Transition"]=Tb;Tb.__name__=["flambe","scene","Transition"];Tb.prototype={init:function(a,b,c){this._director=a;this._from=b;this._to=c},update:function(){return!0},complete:function(){},__class__:Tb};
var Ea=function(){};e["flambe.script.Action"]=Ea;Ea.__name__=["flambe","script","Action"];Ea.prototype={__class__:Ea};var Db=function(a,b,c,f){this._value=a;this._by=b;this._seconds=c;this._easing=f};e["flambe.script.AnimateBy"]=Db;Db.__name__=["flambe","script","AnimateBy"];Db.__interfaces__=[Ea];Db.prototype={update:function(a){null==this._tween&&(this._tween=new Ta(this._value._value,this._value._value+this._by,this._seconds,this._easing),this._value.set_behavior(this._tween),this._value.update(a));
if(this._value._behavior!=this._tween){var b=this._tween.elapsed-this._seconds;this._tween=null;return 0<b?Math.max(0,a-b):0}return-1},__class__:Db};var v=function(a,b,c,f){this._value=a;this._to=b;this._seconds=c;this._easing=f};e["flambe.script.AnimateTo"]=v;v.__name__=["flambe","script","AnimateTo"];v.__interfaces__=[Ea];v.prototype={update:function(a){null==this._tween&&(this._tween=new Ta(this._value._value,this._to,this._seconds,this._easing),this._value.set_behavior(this._tween),this._value.update(a));
if(this._value._behavior!=this._tween){var b=this._tween.elapsed-this._seconds;this._tween=null;return 0<b?Math.max(0,a-b):0}return-1},__class__:v};var x=function(a){this._fn=a};e["flambe.script.CallFunction"]=x;x.__name__=["flambe","script","CallFunction"];x.__interfaces__=[Ea];x.prototype={update:function(){this._fn();return 0},__class__:x};var xa=function(a){this._duration=a;this._elapsed=0};e["flambe.script.Delay"]=xa;xa.__name__=["flambe","script","Delay"];xa.__interfaces__=[Ea];xa.prototype=
{update:function(a){this._elapsed+=a;if(this._elapsed>=this._duration){var b=this._elapsed-this._duration;this._elapsed=0;return a-b}return-1},__class__:xa};var hc=function(a,b,c,f,d){this._x=a;this._y=b;this._seconds=c;this._easingX=f;this._easingY=d};e["flambe.script.MoveTo"]=hc;hc.__name__=["flambe","script","MoveTo"];hc.__interfaces__=[Ea];hc.prototype={update:function(a,b){var c=b._compMap.Sprite_1;null==this._tweenX&&(this._tweenX=new Ta(c.x._value,this._x,this._seconds,this._easingX),c.x.set_behavior(this._tweenX),
c.x.update(a),this._tweenY=new Ta(c.y._value,this._y,this._seconds,null!=this._easingY?this._easingY:this._easingX),c.y.set_behavior(this._tweenY),c.y.update(a));return c.x._behavior!=this._tweenX&&c.y._behavior!=this._tweenY?(c=Y.max(this._tweenX.elapsed,this._tweenY.elapsed)-this._seconds,this._tweenY=this._tweenX=null,0<c?Math.max(0,a-c):0):-1},__class__:hc};var H=function(a){this._completedActions=[];this._runningActions=null!=a?a.slice():[]};e["flambe.script.Parallel"]=H;H.__name__=["flambe",
"script","Parallel"];H.__interfaces__=[Ea];H.prototype={add:function(a){this._runningActions.push(a)},update:function(a,b){for(var c=!0,f=0,d=0,g=this._runningActions.length;d<g;){var e=d++,h=this._runningActions[e];if(null!=h){var j=h.update(a,b);0<=j?(this._runningActions[e]=null,this._completedActions.push(h),j>f&&(f=j)):c=!1}}return c?(this._runningActions=this._completedActions,this._completedActions=[],f):-1},__class__:H};var na=function(a,b){null==b&&(b=1);this._playback=null;this._sound=a;
this._volume=b};e["flambe.script.PlaySound"]=na;na.__name__=["flambe","script","PlaySound"];na.__interfaces__=[Ea];na.prototype={update:function(){null==this._playback&&(this._playback=this._sound.play(this._volume));return this._playback.get_complete().get__()?(this._playback=null,0):-1},__class__:na};var Ia=function(a,b){null==b&&(b=-1);this._action=a;this._remaining=this._count=b};e["flambe.script.Repeat"]=Ia;Ia.__name__=["flambe","script","Repeat"];Ia.__interfaces__=[Ea];Ia.prototype={update:function(a,
b){if(0==this._count)return 0;var c=this._action.update(a,b);return 0<this._count&&0<=c&&0==--this._remaining?(this._remaining=this._count,c):-1},__class__:Ia};var Ha=function(){r.call(this);this.stopAll()};e["flambe.script.Script"]=Ha;Ha.__name__=["flambe","script","Script"];Ha.__super__=r;Ha.prototype=q(r.prototype,{get_name:function(){return"Script_2"},run:function(a){a=new Ic(a);this._handles.push(a);return a},stopAll:function(){this._handles=[]},onUpdate:function(a){for(var b=0;b<this._handles.length;){var c=
this._handles[b];c.removed||0<=c.action.update(a,this.owner)?this._handles.splice(b,1):++b}},__class__:Ha});var Ic=function(a){this.removed=!1;this.action=a};e["flambe.script._Script.Handle"]=Ic;Ic.__name__=["flambe","script","_Script","Handle"];Ic.__interfaces__=[ka];Ic.prototype={dispose:function(){this.removed=!0;this.action=null},__class__:Ic};var u=function(a){this._idx=0;this._runningActions=null!=a?a.slice():[]};e["flambe.script.Sequence"]=u;u.__name__=["flambe","script","Sequence"];u.__interfaces__=
[Ea];u.prototype={add:function(a){this._runningActions.push(a);return this},removeAll:function(){this._idx=0;this._runningActions=[]},update:function(a,b){for(var c=0;;){var f=this._runningActions[this._idx];if(null!=f)if(f=f.update(a-c,b),0<=f)c+=f;else return-1;++this._idx;if(this._idx>=this._runningActions.length){this._idx=0;break}else if(c>a)return-1}return c},__class__:u};var cc=function(){r.call(this);this._sounds=[]};e["flambe.sound.Mixer"]=cc;cc.__name__=["flambe","sound","Mixer"];cc.__super__=
r;cc.prototype=q(r.prototype,{get_name:function(){return"Mixer_12"},createSound:function(a,b){null==b&&(b=2147483647);var c=new Jc(a,b);this._sounds.push(c);return c},stopAll:function(){for(var a=0,b=this._sounds;a<b.length;){var c=b[a];++a;c.dispose()}},onRemoved:function(){this.stopAll();this._sounds=[]},__class__:cc});var Jc=function(a,b){this._source=a;this._channels=b;this._playbacks=[]};e["flambe.sound._Mixer.MixerSound"]=Jc;Jc.__name__=["flambe","sound","_Mixer","MixerSound"];Jc.__interfaces__=
[ka,Xa];Jc.prototype={play:function(a){null==a&&(a=1);return this.playOrLoop(a,!1)},loop:function(a){null==a&&(a=1);return this.playOrLoop(a,!0)},playOrLoop:function(a,b){var c=this.findOpenChannel();if(0>c)return new ib(this);var f;f=b?this._source.loop(a):this._source.play(a);return this._playbacks[c]=f},findOpenChannel:function(){for(var a=0,b=this._channels;a<b;){var c=a++,f=this._playbacks[c];if(null==f||f.get_complete().get__())return c}return-1},dispose:function(){for(var a=0,b=this._playbacks;a<
b.length;){var c=b[a];++a;c.dispose()}this._playbacks=[]},__class__:Jc};var Ca=e["flambe.subsystem.RendererType"]={__ename__:!0,__constructs__:["Stage3D","WebGL","Canvas"]};Ca.Stage3D=["Stage3D",0];Ca.Stage3D.toString=h;Ca.Stage3D.__enum__=Ca;Ca.WebGL=["WebGL",1];Ca.WebGL.toString=h;Ca.WebGL.__enum__=Ca;Ca.Canvas=["Canvas",2];Ca.Canvas.toString=h;Ca.Canvas.__enum__=Ca;var Kc=function(){};e["flambe.swf.Symbol"]=Kc;Kc.__name__=["flambe","swf","Symbol"];Kc.prototype={__class__:Kc};var Lc=function(a,
b){this._name=a.symbol;var c=a.rect;this.texture=b.subTexture(c[0],c[1],c[2],c[3]);c=a.origin;null!=c?(this.anchorX=c[0],this.anchorY=c[1]):this.anchorY=this.anchorX=0};e["flambe.swf.BitmapSymbol"]=Lc;Lc.__name__=["flambe","swf","BitmapSymbol"];Lc.__interfaces__=[Kc];Lc.prototype={createSprite:function(){var a=new G(this.texture);a.setAnchor(this.anchorX,this.anchorY);return a},__class__:Lc};var dc=function(a,b){this._file=a.getFile(b+"/library.json");var c=vd.parse(this._file.toString());this._symbols=
new N;this.frameRate=c.frameRate;for(var f=[],d=0,g=c.movies;d<g.length;){var e=g[d];++d;e=new Mc(this,e);f.push(e);this._symbols.set(e._name,e)}c=c.textureGroups;(1!=c[0].scaleFactor||1<c.length)&&null;c=c[0].atlases;for(d=0;d<c.length;){var h=c[d];++d;g=a.getTexture(b+"/"+Z.removeFileExtension(h.file));e=0;for(h=h.textures;e<h.length;){var j=h[e];++e;j=new Lc(j,g);this._symbols.set(j._name,j)}}for(c=0;c<f.length;){g=f[c];++c;d=0;for(g=g.layers;d<g.length;){e=g[d];++d;e=e.keyframes;h=e.length;for(j=
0;j<h;){var k=j++,l=e[k];if(null!=l.symbolName){var m=this._symbols.get(l.symbolName);l.symbol=m}if(l.tweened&&1==l.duration&&k+1<h&&(k=e[k+1],!k.visible||null==k.symbolName))l.visible=!1}}}};e["flambe.swf.Library"]=dc;dc.__name__=["flambe","swf","Library"];dc.prototype={createSprite:function(a,b){null==b&&(b=!0);var c=this._symbols.get(a);if(null==c){if(b)throw new m(Z.withFields("Missing symbol",["name",a]));return null}return c.createSprite()},createMovie:function(a,b){null==b&&(b=!0);return this.createSprite(a,
b)},__class__:dc};var fc=function(a){this._oneshotSprite=this._loopingSprite=null;r.call(this);this._lib=a;this._root=new n;this.movie=new X(null);this.setCache(!0)};e["flambe.swf.MoviePlayer"]=fc;fc.__name__=["flambe","swf","MoviePlayer"];fc.__super__=r;fc.prototype=q(r.prototype,{get_name:function(){return"MoviePlayer_15"},setCache:function(a){this._cache=a?new N:null;return this},setDecorator:function(a){this._decorator=a;return this},play:function(a,b){null==b&&(b=!0);if(b||null==this._oneshotSprite||
this._oneshotSprite.symbol._name!=a)this._oneshotSprite=this.playFromCache(a);return this},loop:function(a,b){null==b&&(b=!0);if(b||null==this._loopingSprite||this._loopingSprite.symbol._name!=a)this._oneshotSprite=null,this._loopingSprite=this.playFromCache(a);return this},onAdded:function(){this.owner.addChild(this._root)},onRemoved:function(){this._root.dispose();this._oneshotSprite=this._loopingSprite=null;this.movie.set__(null)},onUpdate:function(a){null!=this._oneshotSprite&&this._oneshotSprite._position+
a>this._oneshotSprite.symbol.duration&&(this._oneshotSprite=null,this.setCurrent(this._loopingSprite))},playFromCache:function(a){var b;null!=this._cache?(b=this._cache.get(a),null!=b?b.set_position(0):(b=this.createMovie(a),this._cache.set(a,b))):b=this.createMovie(a);return this.setCurrent(b)},createMovie:function(a){a=this._lib.createSprite(a,!0);null!=this._decorator&&this._decorator(a);return a},setCurrent:function(a){this._root.add(a);return this.movie.set__(a)},__class__:fc});var ua=function(a){this._looped=
null;p.call(this);this.symbol=a;this.speed=new L(1);this._animators=Array(a.layers.length);for(var b=0,c=this._animators.length;b<c;){var f=b++;this._animators[f]=new wd(a.layers[f])}this._position=this._frame=0;this["goto"](1)};e["flambe.swf.MovieSprite"]=ua;ua.__name__=["flambe","swf","MovieSprite"];ua.__super__=p;ua.prototype=q(p.prototype,{getLayer:function(a,b){null==b&&(b=!0);for(var c=0,f=this._animators;c<f.length;){var d=f[c];++c;if(d.layer.name==a)return d.content}if(b)throw new m(Z.withFields("Missing layer",
["name",a]));return null},onAdded:function(){p.prototype.onAdded.call(this);for(var a=0,b=this._animators;a<b.length;){var c=b[a];++a;this.owner.addChild(c.content)}},onRemoved:function(){p.prototype.onRemoved.call(this);for(var a=0,b=this._animators;a<b.length;){var c=b[a];++a;this.owner.removeChild(c.content)}},onUpdate:function(a){p.prototype.onUpdate.call(this,a);this.speed.update(a);switch(this._flags&768){case 0:this._position+=this.speed._value*a;this._position>this.symbol.duration&&(this._position%=
this.symbol.duration,null!=this._looped&&this._looped.emit());break;case 512:this._flags&=-513}this["goto"](this._position*this.symbol.frameRate)},"goto":function(a){if(this._frame!=a){if(a<this._frame)for(var b=0,c=this._animators;b<c.length;){var f=c[b];++b;f.needsKeyframeUpdate=!0;f.keyframeIdx=0}b=0;for(c=this._animators;b<c.length;)f=c[b],++b,f.composeFrame(a);this._frame=a}},set_position:function(a){return this._position=Y.clamp(a,0,this.symbol.duration)},set_paused:function(a){this._flags=
Lb.set(this._flags,256,a);return a},get_looped:function(){null==this._looped&&(this._looped=new va);return this._looped},set_pixelSnapping:function(a){for(var b=0,c=this._animators;b<c.length;){var f=c[b];++b;f.setPixelSnapping(a)}return p.prototype.set_pixelSnapping.call(this,a)},rewind:function(){this._position=0;this._flags|=512},__class__:ua});var wd=function(a){this.keyframeIdx=0;this.needsKeyframeUpdate=!1;this.layer=a;this.content=new n;if(a.empty)this._sprites=null;else{this._sprites=Array(a.keyframes.length);
for(var b=0,c=this._sprites.length;b<c;){var f=b++,d=a.keyframes[f];this._sprites[f]=0<f&&a.keyframes[f-1].symbol==d.symbol?this._sprites[f-1]:null==d.symbol?new p:d.symbol.createSprite()}this.content.add(this._sprites[0])}};e["flambe.swf._MovieSprite.LayerAnimator"]=wd;wd.__name__=["flambe","swf","_MovieSprite","LayerAnimator"];wd.prototype={composeFrame:function(a){if(null!=this._sprites){var b=this.layer.keyframes,c=b.length-1;if(a>this.layer.frames)this.content._compMap.Sprite_1.set_visible(!1),
this.keyframeIdx=c,this.needsKeyframeUpdate=!0;else{for(;this.keyframeIdx<c&&b[this.keyframeIdx+1].index<=a;)++this.keyframeIdx,this.needsKeyframeUpdate=!0;var f;this.needsKeyframeUpdate?(this.needsKeyframeUpdate=!1,f=this._sprites[this.keyframeIdx],f!=this.content._compMap.Sprite_1&&((null==f?null:F.getClass(f))==ua&&f.rewind(),this.content.add(f))):f=this.content._compMap.Sprite_1;var d=b[this.keyframeIdx],e=d.visible&&null!=d.symbol;f.set_visible(e);if(e){var e=d.x,h=d.y,k=d.scaleX,j=d.scaleY,
l=d.skewX,m=d.skewY,n=d.alpha;if(d.tweened&&this.keyframeIdx<c){a=(a-d.index)/d.duration;c=d.ease;if(0!=c){var p;0>c?(p=1-a,p=1-p*p,c=-c):p=a*a;a=c*p+(1-c)*a}b=b[this.keyframeIdx+1];e+=(b.x-e)*a;h+=(b.y-h)*a;k+=(b.scaleX-k)*a;j+=(b.scaleY-j)*a;l+=(b.skewX-l)*a;m+=(b.skewY-m)*a;n+=(b.alpha-n)*a}b=f.getLocalMatrix();a=0;c=1;p=0;var i=1;0!=l&&(a=Math.sin(l),c=Math.cos(l));0!=m&&(p=Math.sin(m),i=Math.cos(m));b.set(i*k,p*k,-a*j,c*j,e,h);b.translate(-d.pivotX,-d.pivotY);f.alpha.set__(n)}}}},setPixelSnapping:function(a){if(null!=
this._sprites)for(var b=0,c=this._sprites;b<c.length;){var d=c[b];++b;d.set_pixelSnapping(a)}},__class__:wd};var Mc=function(a,b){this._name=b.id;this.frameRate=a.frameRate;this.frames=0;this.layers=Array(b.layers.length);for(var c=0,d=this.layers.length;c<d;){var e=c++,g=new xd(b.layers[e]);this.frames=Math.max(g.frames,this.frames);this.layers[e]=g}this.duration=this.frames/this.frameRate};e["flambe.swf.MovieSymbol"]=Mc;Mc.__name__=["flambe","swf","MovieSymbol"];Mc.__interfaces__=[Kc];Mc.prototype=
{createSprite:function(){return new ua(this)},__class__:Mc};var xd=function(a){this.empty=!0;this.name=a.name;var b=null;this.keyframes=Array(a.keyframes.length);for(var c=0,d=this.keyframes.length;c<d;){var e=c++,b=new yd(a.keyframes[e],b);this.keyframes[e]=b;this.empty=this.empty&&null==b.symbolName}this.frames=null!=b?b.index+b.duration:0};e["flambe.swf.MovieLayer"]=xd;xd.__name__=["flambe","swf","MovieLayer"];xd.prototype={__class__:xd};var yd=function(a,b){this.ease=0;this.visible=this.tweened=
!0;this.alpha=1;this.skewX=this.skewY=this.pivotX=this.pivotY=0;this.scaleX=this.scaleY=1;this.x=this.y=0;this.symbol=null;this.index=null!=b?b.index+b.duration:0;this.duration=a.duration;this.label=a.label;this.symbolName=a.ref;var c=a.loc;null!=c&&(this.x=c[0],this.y=c[1]);c=a.scale;null!=c&&(this.scaleX=c[0],this.scaleY=c[1]);c=a.skew;null!=c&&(this.skewX=c[0],this.skewY=c[1]);c=a.pivot;null!=c&&(this.pivotX=c[0],this.pivotY=c[1]);null!=a.alpha&&(this.alpha=a.alpha);null!=a.visible&&(this.visible=
a.visible);null!=a.tweened&&(this.tweened=a.tweened);null!=a.ease&&(this.ease=a.ease)};e["flambe.swf.MovieKeyframe"]=yd;yd.__name__=["flambe","swf","MovieKeyframe"];yd.prototype={__class__:yd};var eb=function(){};e["flambe.util.Assert"]=eb;eb.__name__=["flambe","util","Assert"];eb.that=function(){};var Lb=function(){};e["flambe.util.BitSets"]=Lb;Lb.__name__=["flambe","util","BitSets"];Lb.set=function(a,b,c){return c?a|b:a&~b};var uc=function(){this.success=new P;this.error=new P;this.progressChanged=
new va;this.hasResult=!1;this._total=this._progress=0};e["flambe.util.Promise"]=uc;uc.__name__=["flambe","util","Promise"];uc.prototype={get_result:function(){if(!this.hasResult)throw new m("Promise result not yet available");return this._result},set_result:function(a){if(this.hasResult)throw new m("Promise result already assigned");this._result=a;this.hasResult=!0;this.success.emit(a);return a},get:function(a){return this.hasResult?(a(this._result),null):this.success.connect(a).once()},set_progress:function(a){this._progress!=
a&&(this._progress=a,this.progressChanged.emit());return a},set_total:function(a){this._total!=a&&(this._total=a,this.progressChanged.emit());return a},__class__:uc};var va=function(a){$.call(this,a)};e["flambe.util.Signal0"]=va;va.__name__=["flambe","util","Signal0"];va.__super__=$;va.prototype=q($.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},emit:function(){var a=this;this._head==$.DISPATCHING_SENTINEL?this.defer(function(){a.emitImpl()}):this.emitImpl()},emitImpl:function(){for(var a=
this.willEmit(),b=a;null!=b;)b._listener(),b.stayInList||b.dispose(),b=b._next;this.didEmit(a)},__class__:va});var $c=function(a){this.next=null;this.fn=a};e["flambe.util._SignalBase.Task"]=$c;$c.__name__=["flambe","util","_SignalBase","Task"];$c.prototype={__class__:$c};var Z=function(){};e["flambe.util.Strings"]=Z;Z.__name__=["flambe","util","Strings"];Z.getFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?t.substr(a,b+1,null):null};Z.removeFileExtension=function(a){var b=a.lastIndexOf(".");
return 0<b?t.substr(a,0,b):a};Z.getUrlExtension=function(a){var b=a.lastIndexOf("?");0<=b&&(a=t.substr(a,0,b));b=a.lastIndexOf("/");0<=b&&(a=t.substr(a,b+1,null));return Z.getFileExtension(a)};Z.joinPath=function(a,b){0<a.length&&47!=a.charCodeAt(a.length-1)&&(a+="/");return a+b};Z.withFields=function(a,b){var c=b.length;if(0<c){for(var a=0<a.length?a+" [":a+"[",d=0;d<c;){0<d&&(a+=", ");var e=b[d],g=b[d+1];if(w.is(g,Error)){var h=g.stack;null!=h&&(g=h)}a+=e+"="+w.string(g);d+=2}a+="]"}return a};var Ld=
function(){};e["haxe.IMap"]=Ld;Ld.__name__=["haxe","IMap"];var zd=function(a,b){this.high=a;this.low=b};e["haxe._Int64.___Int64"]=zd;zd.__name__=["haxe","_Int64","___Int64"];zd.prototype={__class__:zd};var vd=function(){};e["haxe.Json"]=vd;vd.__name__=["haxe","Json"];vd.parse=function(a){return(new Ad(a)).parseRec()};var W=function(){};e["haxe.ds.ArraySort"]=W;W.__name__=["haxe","ds","ArraySort"];W.sort=function(a,b){W.rec(a,b,0,a.length)};W.rec=function(a,b,c,d){var e=c+d>>1;if(12>d-c){if(!(d<=c))for(e=
c+1;e<d;)for(var g=e++;g>c;){if(0>b(a[g],a[g-1]))W.swap(a,g-1,g);else break;g--}}else W.rec(a,b,c,e),W.rec(a,b,e,d),W.doMerge(a,b,c,e,d,e-c,d-e)};W.doMerge=function(a,b,c,d,e,g,h){var k,j,l,m;0==g||0==h||(2==g+h?0>b(a[d],a[c])&&W.swap(a,d,c):(g>h?(l=g>>1,k=c+l,j=W.lower(a,b,d,e,k),m=j-d):(m=h>>1,j=d+m,k=W.upper(a,b,c,d,j),l=k-c),W.rotate(a,b,k,d,j),d=k+m,W.doMerge(a,b,c,k,d,l,m),W.doMerge(a,b,d,j,e,g-l,h-m)))};W.rotate=function(a,b,c,d,e){if(!(c==d||d==e))for(b=W.gcd(e-c,d-c);0!=b--;){for(var g=a[c+
b],h=d-c,k=c+b,j=c+b+h;j!=c+b;)a[k]=a[j],k=j,j=e-j>h?j+h:c+(h-(e-j));a[k]=g}};W.gcd=function(a,b){for(;0!=b;)var c=a%b,a=b,b=c;return a};W.upper=function(a,b,c,d,e){for(var d=d-c,g,h;0<d;)g=d>>1,h=c+g,0>b(a[e],a[h])?d=g:(c=h+1,d=d-g-1);return c};W.lower=function(a,b,c,d,e){for(var d=d-c,g,h;0<d;)g=d>>1,h=c+g,0>b(a[h],a[e])?(c=h+1,d=d-g-1):d=g;return c};W.swap=function(a,b,c){var d=a[b];a[b]=a[c];a[c]=d};var la=function(){this.h={}};e["haxe.ds.IntMap"]=la;la.__name__=["haxe","ds","IntMap"];la.__interfaces__=
[Ld];la.prototype={set:function(a,b){this.h[a]=b},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},__class__:la};var wc=function(a,b){this.map=a;this.keys=b;this.index=0;this.count=b.length};e["haxe.ds._StringMap.StringMapIterator"]=wc;wc.__name__=["haxe","ds","_StringMap","StringMapIterator"];wc.prototype={hasNext:function(){return this.index<this.count},next:function(){return this.map.get(this.keys[this.index++])},__class__:wc};var N=function(){this.h={}};e["haxe.ds.StringMap"]=
N;N.__name__=["haxe","ds","StringMap"];N.__interfaces__=[Ld];N.prototype={set:function(a,b){null!=Oa[a]?this.setReserved(a,b):this.h[a]=b},get:function(a){return null!=Oa[a]?this.getReserved(a):this.h[a]},exists:function(a){return null!=Oa[a]?this.existsReserved(a):this.h.hasOwnProperty(a)},setReserved:function(a,b){null==this.rh&&(this.rh={});this.rh["$"+a]=b},getReserved:function(a){return null==this.rh?null:this.rh["$"+a]},existsReserved:function(a){return null==this.rh?!1:this.rh.hasOwnProperty("$"+
a)},remove:function(a){if(null!=Oa[a]){a="$"+a;if(null==this.rh||!this.rh.hasOwnProperty(a))return!1;delete this.rh[a]}else{if(!this.h.hasOwnProperty(a))return!1;delete this.h[a]}return!0},keys:function(){var a=this.arrayKeys();return t.iter(a)},arrayKeys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b);if(null!=this.rh)for(b in this.rh)36==b.charCodeAt(0)&&a.push(b.substr(1));return a},iterator:function(){return new wc(this,this.arrayKeys())},__class__:N};var Ad=function(a){this.str=
a;this.pos=0};e["haxe.format.JsonParser"]=Ad;Ad.__name__=["haxe","format","JsonParser"];Ad.prototype={parseRec:function(){for(;;){var a=y.fastCodeAt(this.str,this.pos++);switch(a){case 32:case 13:case 10:case 9:break;case 123:for(var a={},b=null,c=null;;)switch(y.fastCodeAt(this.str,this.pos++)){case 32:case 13:case 10:case 9:break;case 125:return(null!=b||!1==c)&&this.invalidChar(),a;case 58:null==b&&this.invalidChar();ja.setField(a,b,this.parseRec());b=null;c=!0;break;case 44:c?c=!1:this.invalidChar();
break;case 34:c&&this.invalidChar();b=this.parseString();break;default:this.invalidChar()}break;case 91:a=[];for(b=null;;)switch(y.fastCodeAt(this.str,this.pos++)){case 32:case 13:case 10:case 9:break;case 93:return!1==b&&this.invalidChar(),a;case 44:b?b=!1:this.invalidChar();break;default:b&&this.invalidChar(),this.pos--,a.push(this.parseRec()),b=!0}break;case 116:a=this.pos;if(114!=y.fastCodeAt(this.str,this.pos++)||117!=y.fastCodeAt(this.str,this.pos++)||101!=y.fastCodeAt(this.str,this.pos++))this.pos=
a,this.invalidChar();return!0;case 102:a=this.pos;if(97!=y.fastCodeAt(this.str,this.pos++)||108!=y.fastCodeAt(this.str,this.pos++)||115!=y.fastCodeAt(this.str,this.pos++)||101!=y.fastCodeAt(this.str,this.pos++))this.pos=a,this.invalidChar();return!1;case 110:a=this.pos;if(117!=y.fastCodeAt(this.str,this.pos++)||108!=y.fastCodeAt(this.str,this.pos++)||108!=y.fastCodeAt(this.str,this.pos++))this.pos=a,this.invalidChar();return null;case 34:return this.parseString();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 45:return this.parseNumber(a);
default:this.invalidChar()}}},parseString:function(){for(var a=this.pos,b=null;;){var c=y.fastCodeAt(this.str,this.pos++);if(34==c)break;if(92==c){null==b&&(b=new Ra);b.addSub(this.str,a,this.pos-a-1);c=y.fastCodeAt(this.str,this.pos++);switch(c){case 114:b.b+="\r";break;case 110:b.b+="\n";break;case 116:b.b+="\t";break;case 98:b.b+="\u0008";break;case 102:b.b+="\u000c";break;case 47:case 92:case 34:b.b+=String.fromCharCode(c);break;case 117:a=w.parseInt("0x"+t.substr(this.str,this.pos,4));this.pos+=
4;b.b+=String.fromCharCode(a);break;default:throw new m("Invalid escape sequence \\"+String.fromCharCode(c)+" at position "+(this.pos-1));}a=this.pos}else if(c!=c)throw new m("Unclosed string");}if(null==b)return t.substr(this.str,a,this.pos-a-1);b.addSub(this.str,a,this.pos-a-1);return b.b},parseNumber:function(a){for(var b=this.pos-1,c=45==a,d=!c,e=48==a,g=!1,h=!1,k=!1,j=!1;;){a=y.fastCodeAt(this.str,this.pos++);switch(a){case 48:e&&!g&&this.invalidNumber(b);c&&(c=!1,e=!0);d=!0;break;case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:e&&
!g&&this.invalidNumber(b);c&&(c=!1);d=!0;e=!1;break;case 46:(c||g)&&this.invalidNumber(b);d=!1;g=!0;break;case 101:case 69:(c||e||h)&&this.invalidNumber(b);d=!1;h=!0;break;case 43:case 45:(!h||k)&&this.invalidNumber(b);d=!1;k=!0;break;default:d||this.invalidNumber(b),this.pos--,j=!0}if(j)break}a=w.parseFloat(t.substr(this.str,b,this.pos-b));b=a|0;return b==a?b:a},invalidChar:function(){this.pos--;throw new m("Invalid char "+this.str.charCodeAt(this.pos)+" at position "+this.pos);},invalidNumber:function(a){throw new m("Invalid number at position "+
a+": "+t.substr(this.str,a,this.pos-a));},__class__:Ad};var Pd=function(){};e["haxe.io.Bytes"]=Pd;Pd.__name__=["haxe","io","Bytes"];var ya=e["haxe.io.Error"]={__ename__:!0,__constructs__:["Blocked","Overflow","OutsideBounds","Custom"]};ya.Blocked=["Blocked",0];ya.Blocked.toString=h;ya.Blocked.__enum__=ya;ya.Overflow=["Overflow",1];ya.Overflow.toString=h;ya.Overflow.__enum__=ya;ya.OutsideBounds=["OutsideBounds",2];ya.OutsideBounds.toString=h;ya.OutsideBounds.__enum__=ya;ya.Custom=function(a){a=["Custom",
3,a];a.__enum__=ya;a.toString=h;return a};var Pa=function(){};e["haxe.io.FPHelper"]=Pa;Pa.__name__=["haxe","io","FPHelper"];Pa.i32ToFloat=function(a){var b=a>>>23&255,c=a&8388607;return 0==c&&0==b?0:(1-(a>>>31<<1))*(1+Math.pow(2,-23)*c)*Math.pow(2,b-127)};Pa.floatToI32=function(a){if(0==a)return 0;var b;b=0>a?-a:a;var c=Math.floor(Math.log(b)/0.6931471805599453);-127>c?c=-127:128<c&&(c=128);b=Math.round(8388608*(b/Math.pow(2,c)-1))&8388607;return(0>a?-2147483648:0)|c+127<<23|b};Pa.i64ToDouble=function(a,
b){var c=(b>>20&2047)-1023,d=4294967296*(b&1048575)+2147483648*(a>>>31)+(a&2147483647);return 0==d&&-1023==c?0:(1-(b>>>31<<1))*(1+Math.pow(2,-52)*d)*Math.pow(2,c)};Pa.doubleToI64=function(a){var b=Pa.i64tmp;if(0==a)b.low=0,b.high=0;else{var c;c=0>a?-a:a;var d=Math.floor(Math.log(c)/0.6931471805599453);c=4503599627370496*(c/Math.pow(2,d)-1);c=Math.round(c);b.low=c|0;b.high=(0>a?-2147483648:0)|d+1023<<20|c/4294967296|0}return b};var Kb=function(){};e["haxe.rtti.Meta"]=Kb;Kb.__name__=["haxe","rtti",
"Meta"];Kb.getType=function(a){a=Kb.getMeta(a);return null==a||null==a.obj?{}:a.obj};Kb.getMeta=function(a){return a.__meta__};var Bd=function(a){this.__x=a};e["haxe.xml._Fast.NodeAccess"]=Bd;Bd.__name__=["haxe","xml","_Fast","NodeAccess"];Bd.prototype={resolve:function(a){var b=this.__x.elementsNamed(a).next();if(null==b)throw b=this.__x.nodeType==l.Document?"Document":this.__x.get_nodeName(),new m(b+" is missing element "+a);return new lb(b)},__class__:Bd};var Cd=function(a){this.__x=a};e["haxe.xml._Fast.AttribAccess"]=
Cd;Cd.__name__=["haxe","xml","_Fast","AttribAccess"];Cd.prototype={resolve:function(a){if(this.__x.nodeType==l.Document)throw new m("Cannot access document attribute "+a);var b=this.__x.get(a);if(null==b)throw new m(this.__x.get_nodeName()+" is missing attribute "+a);return b},__class__:Cd};var Dd=function(a){this.__x=a};e["haxe.xml._Fast.HasAttribAccess"]=Dd;Dd.__name__=["haxe","xml","_Fast","HasAttribAccess"];Dd.prototype={__class__:Dd};var Ed=function(a){this.__x=a};e["haxe.xml._Fast.HasNodeAccess"]=
Ed;Ed.__name__=["haxe","xml","_Fast","HasNodeAccess"];Ed.prototype={resolve:function(a){return this.__x.elementsNamed(a).hasNext()},__class__:Ed};var Fd=function(a){this.__x=a};e["haxe.xml._Fast.NodeListAccess"]=Fd;Fd.__name__=["haxe","xml","_Fast","NodeListAccess"];Fd.prototype={resolve:function(a){for(var b=new Ub,a=this.__x.elementsNamed(a);a.hasNext();){var c=a.next();b.add(new lb(c))}return b},__class__:Fd};var lb=function(a){if(a.nodeType!=l.Document&&a.nodeType!=l.Element)throw new m("Invalid nodeType "+
a.nodeType);this.x=a;this.node=new Bd(a);this.nodes=new Fd(a);this.att=new Cd(a);this.has=new Dd(a);this.hasNode=new Ed(a)};e["haxe.xml.Fast"]=lb;lb.__name__=["haxe","xml","Fast"];lb.prototype={get_name:function(){return this.x.nodeType==l.Document?"Document":this.x.get_nodeName()},get_innerData:function(){var a=this.x.iterator();if(!a.hasNext())throw new m(this.get_name()+" does not have data");var b=a.next(),c=a.next();if(null!=c){if(b.nodeType==l.PCData&&c.nodeType==l.CData&&""==y.trim(function(){if(b.nodeType==
l.Document||b.nodeType==l.Element)throw new m("Bad node type, unexpected "+b.nodeType);return b.nodeValue}(this))){var d=a.next();if(null==d||d.nodeType==l.PCData&&""==y.trim(function(){if(d.nodeType==l.Document||d.nodeType==l.Element)throw new m("Bad node type, unexpected "+d.nodeType);return d.nodeValue}(this))&&null==a.next()){if(c.nodeType==l.Document||c.nodeType==l.Element)throw new m("Bad node type, unexpected "+c.nodeType);return c.nodeValue}}throw new m(this.get_name()+" does not only have data");
}if(b.nodeType!=l.PCData&&b.nodeType!=l.CData)throw new m(this.get_name()+" does not have data");if(b.nodeType==l.Document||b.nodeType==l.Element)throw new m("Bad node type, unexpected "+b.nodeType);return b.nodeValue},__class__:lb};var Ua=function(){};e["haxe.xml.Parser"]=Ua;Ua.__name__=["haxe","xml","Parser"];Ua.parse=function(a,b){null==b&&(b=!1);var c=l.createDocument();Ua.doParse(a,b,0,c);return c};Ua.doParse=function(a,b,c,d){null==c&&(c=0);for(var e=null,g=1,h=1,k=null,j=0,n=0,p=0,i=a.charCodeAt(c),
o=new Ra,q=1,r=-1;i==i;){switch(g){case 0:switch(i){case 10:case 13:case 9:case 32:break;default:g=h;continue}break;case 1:switch(i){case 60:g=0;h=2;break;default:j=c;g=13;continue}break;case 13:60==i?(o.addSub(a,j,c-j),h=l.createPCData(o.b),o=new Ra,d.addChild(h),n++,g=0,h=2):38==i&&(o.addSub(a,j,c-j),g=18,q=13,j=c+1);break;case 17:93==i&&93==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(i=l.createCData(t.substr(a,j,c-j)),d.addChild(i),n++,c+=2,g=1);break;case 2:switch(i){case 33:if(91==a.charCodeAt(c+
1)){c+=2;if("CDATA["!=t.substr(a,c,6).toUpperCase())throw new m("Expected <![CDATA[");c+=5;g=17}else if(68==a.charCodeAt(c+1)||100==a.charCodeAt(c+1)){if("OCTYPE"!=t.substr(a,c+2,6).toUpperCase())throw new m("Expected <!DOCTYPE");c+=8;g=16}else{if(45!=a.charCodeAt(c+1)||45!=a.charCodeAt(c+2))throw new m("Expected <\!--");c+=2;g=15}j=c+1;break;case 63:g=14;j=c;break;case 47:if(null==d)throw new m("Expected node name");j=c+1;g=0;h=10;break;default:g=3;j=c;continue}break;case 3:if(!(97<=i&&122>=i||65<=
i&&90>=i||48<=i&&57>=i||58==i||46==i||95==i||45==i)){if(c==j)throw new m("Expected node name");e=l.createElement(t.substr(a,j,c-j));d.addChild(e);n++;g=0;h=4;continue}break;case 4:switch(i){case 47:g=11;break;case 62:g=9;break;default:g=5;j=c;continue}break;case 5:if(!(97<=i&&122>=i||65<=i&&90>=i||48<=i&&57>=i||58==i||46==i||95==i||45==i)){if(j==c)throw new m("Expected attribute name");k=t.substr(a,j,c-j);if(e.exists(k))throw new m("Duplicate attribute");g=0;h=6;continue}break;case 6:switch(i){case 61:g=
0;h=7;break;default:throw new m("Expected =");}break;case 7:switch(i){case 34:case 39:o=new Ra;g=8;j=c+1;r=i;break;default:throw new m('Expected "');}break;case 8:switch(i){case 38:o.addSub(a,j,c-j);g=18;q=8;j=c+1;break;case 62:if(b)throw new m("Invalid unescaped "+String.fromCharCode(i)+" in attribute value");i==r&&(o.addSub(a,j,c-j),h=o.b,o=new Ra,e.set(k,h),g=0,h=4);break;case 60:if(b)throw new m("Invalid unescaped "+String.fromCharCode(i)+" in attribute value");i==r&&(o.addSub(a,j,c-j),h=o.b,
o=new Ra,e.set(k,h),g=0,h=4);break;default:i==r&&(o.addSub(a,j,c-j),h=o.b,o=new Ra,e.set(k,h),g=0,h=4)}break;case 9:j=c=Ua.doParse(a,b,c,e);g=1;break;case 11:switch(i){case 62:g=1;break;default:throw new m("Expected >");}break;case 12:switch(i){case 62:return 0==n&&d.addChild(l.createPCData("")),c;default:throw new m("Expected >");}case 10:if(!(97<=i&&122>=i||65<=i&&90>=i||48<=i&&57>=i||58==i||46==i||95==i||45==i)){if(j==c)throw new m("Expected node name");h=t.substr(a,j,c-j);if(d.nodeType!=l.Element)throw new m("Bad node type, expected Element but found "+
d.nodeType);if(h!=d.nodeName)throw new m("Expected </"+function(){if(d.nodeType!=l.Element)throw"Bad node type, expected Element but found "+d.nodeType;return d.nodeName}(this)+">");g=0;h=12;continue}break;case 15:45==i&&45==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(i=l.createComment(t.substr(a,j,c-j)),d.addChild(i),n++,c+=2,g=1);break;case 16:91==i?p++:93==i?p--:62==i&&0==p&&(i=l.createDocType(t.substr(a,j,c-j)),d.addChild(i),n++,g=1);break;case 14:63==i&&62==a.charCodeAt(c+1)&&(c++,i=t.substr(a,
j+1,c-j-2),i=l.createProcessingInstruction(i),d.addChild(i),n++,g=1);break;case 18:if(59==i){j=t.substr(a,j,c-j);if(35==j.charCodeAt(0))j=120==j.charCodeAt(1)?w.parseInt("0"+t.substr(j,1,j.length-1)):w.parseInt(t.substr(j,1,j.length-1)),o.b+=String.fromCharCode(j);else if(Ua.escapes.exists(j))o.add(Ua.escapes.get(j));else{if(b)throw new m("Undefined entity: "+j);o.b+=w.string("&"+j+";")}j=c+1;g=q}else if(!(97<=i&&122>=i||65<=i&&90>=i||48<=i&&57>=i||58==i||46==i||95==i||45==i)&&35!=i){if(b)throw new m("Invalid character in entity: "+
String.fromCharCode(i));o.b+="&";o.addSub(a,j,c-j);c--;j=c+1;g=q}}i=y.fastCodeAt(a,++c)}1==g&&(j=c,g=13);if(13==g){if(c!=j||0==n)o.addSub(a,j,c-j),a=l.createPCData(o.b),d.addChild(a),n++;return c}if(!b&&18==g&&13==q)return o.b+="&",o.addSub(a,j,c-j),a=l.createPCData(o.b),d.addChild(a),n++,c;throw new m("Unexpected end");};var m=function(a){Error.call(this);this.val=a;this.message=""+a;Error.captureStackTrace&&Error.captureStackTrace(this,m)};e["js._Boot.HaxeError"]=m;m.__name__=["js","_Boot","HaxeError"];
m.__super__=Error;m.prototype=q(Error.prototype,{__class__:m});var F=function(){};e["js.Boot"]=F;F.__name__=["js","Boot"];F.getClass=function(a){if(a instanceof Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;a=F.__nativeClassName(a);return null!=a?F.__resolveNativeClass(a):null};F.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==
a.length)return a[0];for(var c=a[0]+"(",b=b+"\t",d=2,e=a.length;d<e;)var g=d++,c=2!=g?c+(","+F.__string_rec(a[g],b)):c+F.__string_rec(a[g],b);return c+")"}c=a.length;d="[";b+="\t";for(e=0;e<c;)g=e++,d+=(0<g?",":"")+F.__string_rec(a[g],b);return d+"]"}try{d=a.toString}catch(h){return h instanceof m&&(h=h.val),"???"}if(null!=d&&d!=Object.toString&&"function"==typeof d&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";e=null!=a.hasOwnProperty;for(c in a)if(!e||a.hasOwnProperty(c))"prototype"==
c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+F.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return""+a}};F.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;d<e;){var g=d++,g=c[g];if(g==b||F.__interfLoop(g,b))return!0}return F.__interfLoop(a.__super__,b)};F.__instanceof=function(a,
b){if(null==b)return!1;switch(b){case Ud:return(a|0)===a;case Qd:return"number"==typeof a;case Rd:return"boolean"==typeof a;case String:return"string"==typeof a;case Array:return a instanceof Array&&null==a.__enum__;case Vd:return!0;default:if(null!=a)if("function"==typeof b){if(a instanceof b||F.__interfLoop(F.getClass(a),b))return!0}else{if("object"==typeof b&&F.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==Wd&&null!=a.__name__||b==Xd&&null!=a.__ename__?!0:a.__enum__==b}};F.__cast=
function(a,b){if(F.__instanceof(a,b))return a;throw new m("Cannot cast "+w.string(a)+" to "+w.string(b));};F.__nativeClassName=function(a){a=F.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==a||"Math"==a||"JSON"==a?null:a};F.__isNativeObj=function(a){return null!=F.__nativeClassName(a)};F.__resolveNativeClass=function(a){return Function("return typeof "+a+' != "undefined" ? '+a+" : null")()};var Kd=function(){};e["js.html._CanvasElement.CanvasUtil"]=Kd;Kd.__name__=["js","html","_CanvasElement",
"CanvasUtil"];Kd.getContextWebGL=function(a,b){for(var c=0,d=["webgl","experimental-webgl"];c<d.length;){var e=d[c];++c;e=a.getContext(e,b);if(null!=e)return e}return null};var Qa=function(a){if(a instanceof Array&&null==a.__enum__)this.a=a,this.byteLength=a.length;else{this.a=[];for(var b=0;b<a;)this.a[b++]=0;this.byteLength=a}};e["js.html.compat.ArrayBuffer"]=Qa;Qa.__name__=["js","html","compat","ArrayBuffer"];Qa.sliceImpl=function(a,b){var c=new Sd(this,a,null==b?null:b-a),d=new Nd(c.byteLength);
(new Sd(d)).set(c);return d};Qa.prototype={slice:function(a,b){return new Qa(this.a.slice(a,b))},__class__:Qa};var Md=function(a,b,c){this.buf=a;this.offset=null==b?0:b;this.length=null==c?a.byteLength-this.offset:c;if(0>this.offset||0>this.length||this.offset+this.length>a.byteLength)throw new m(ya.OutsideBounds);};e["js.html.compat.DataView"]=Md;Md.__name__=["js","html","compat","DataView"];Md.prototype={getInt8:function(a){a=this.buf.a[this.offset+a];return 128<=a?a-256:a},getUint8:function(a){return this.buf.a[this.offset+
a]},getInt16:function(a,b){var c=this.getUint16(a,b);return 32768<=c?c-65536:c},getUint16:function(a,b){return b?this.buf.a[this.offset+a]|this.buf.a[this.offset+a+1]<<8:this.buf.a[this.offset+a]<<8|this.buf.a[this.offset+a+1]},getInt32:function(a,b){var c=this.offset+a,d=this.buf.a[c++],e=this.buf.a[c++],g=this.buf.a[c++],c=this.buf.a[c++];return b?d|e<<8|g<<16|c<<24:c|g<<8|e<<16|d<<24},getUint32:function(a,b){var c=this.getInt32(a,b);return 0>c?c+4294967296:c},getFloat32:function(a,b){return Pa.i32ToFloat(this.getInt32(a,
b))},getFloat64:function(a,b){var c=this.getInt32(a,b),d=this.getInt32(a+4,b);return Pa.i64ToDouble(b?c:d,b?d:c)},setInt8:function(a,b){this.buf.a[a+this.offset]=0>b?b+128&255:b&255},setUint8:function(a,b){this.buf.a[a+this.offset]=b&255},setInt16:function(a,b,c){this.setUint16(a,0>b?b+65536:b,c)},setUint16:function(a,b,c){a+=this.offset;c?(this.buf.a[a]=b&255,this.buf.a[a++]=b>>8&255):(this.buf.a[a++]=b>>8&255,this.buf.a[a]=b&255)},setInt32:function(a,b,c){this.setUint32(a,b,c)},setUint32:function(a,
b,c){a+=this.offset;c?(this.buf.a[a++]=b&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>>24):(this.buf.a[a++]=b>>>24,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b&255)},setFloat32:function(a,b,c){this.setUint32(a,Pa.floatToI32(b),c)},setFloat64:function(a,b,c){b=Pa.doubleToI64(b);c?(this.setUint32(a,b.low),this.setUint32(a,b.high)):(this.setUint32(a,b.high),this.setUint32(a,b.low))},__class__:Md};var Za=function(){};e["js.html.compat.Uint8Array"]=
Za;Za.__name__=["js","html","compat","Uint8Array"];Za._new=function(a,b,c){if("number"==typeof a){c=[];for(b=0;b<a;){var d=b++;c[d]=0}c.byteLength=c.length;c.byteOffset=0;c.buffer=new Qa(c)}else if(F.__instanceof(a,Qa))null==b&&(b=0),null==c&&(c=a.byteLength-b),c=0==b?a.a:a.a.slice(b,b+c),c.byteLength=c.length,c.byteOffset=b,c.buffer=a;else if(a instanceof Array&&null==a.__enum__)c=a.slice(),c.byteLength=c.length,c.byteOffset=0,c.buffer=new Qa(c);else throw new m("TODO "+w.string(a));c.subarray=Za._subarray;
c.set=Za._set;return c};Za._set=function(a,b){if(F.__instanceof(a.buffer,Qa)){if(a.byteLength+b>this.byteLength)throw new m("set() outside of range");for(var c=0,d=a.byteLength;c<d;){var e=c++;this[e+b]=a[e]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new m("set() outside of range");c=0;for(d=a.length;c<d;)e=c++,this[e+b]=a[e]}else throw new m("TODO");};Za._subarray=function(a,b){var c=Za._new(this.slice(a,b));c.byteOffset=a;return c};var ia=function(){r.call(this)};
e["s2.display.ButtonMode"]=ia;ia.__name__=["s2","display","ButtonMode"];ia.__super__=r;ia.prototype=q(r.prototype,{get_name:function(){return"ButtonMode_11"},connectToSprite:function(){null!=this._disposer&&this._disposer.dispose();this._disposer=new Ga;this._disposer.connect1(this._sprite.get_pointerMove(),B(this,this.onPointerMove));this._disposer.connect1(this._sprite.get_pointerOut(),B(this,this.onPointerOut))},onRemoved:function(){null!=this._disposer&&this._disposer.dispose();this._disposer=
null;k._platform.getMouse().set_cursor(ba.Default)},onUpdate:function(){k._platform.getMouse().get_supported()&&this._sprite!=this.owner._compMap.Sprite_1&&(this._sprite=this.owner._compMap.Sprite_1,null!=this._sprite&&this.connectToSprite())},onPointerMove:function(){k._platform.getMouse().set_cursor(ba.Button)},onPointerOut:function(){k._platform.getMouse().set_cursor(ba.Default)},__class__:ia});var J=function(){};e["s2.display.LayoutUtil"]=J;J.__name__=["s2","display","LayoutUtil"];J.left=function(a,
b,c){null==b&&(b=0);var c=null==c?S.px:S.percent,d=J.getSprite(a);d.x.set__(0);var e=p.getBounds(a),g=Math.sqrt(d.getLocalMatrix().m00*d.getLocalMatrix().m00+d.getLocalMatrix().m01*d.getLocalMatrix().m01),b=c==S.px?b:k._platform.getStage().get_width()*b,b=kb.globalToLocal(a,b,0,null);d.x.set__(b.x*g-e.x);return a};J.right=function(a,b,c){null==b&&(b=0);var c=null==c?S.px:S.percent,d=J.getSprite(a);d.x.set__(0);var e=p.getBounds(a),g=Math.sqrt(d.getLocalMatrix().m00*d.getLocalMatrix().m00+d.getLocalMatrix().m01*
d.getLocalMatrix().m01),b=c==S.px?k._platform.getStage().get_width()-b:k._platform.getStage().get_width()-k._platform.getStage().get_width()*b,b=kb.globalToLocal(a,b,0,null);d.x.set__(b.x*g-e.x-e.width);return a};J.top=function(a,b,c){null==b&&(b=0);var c=null==c?S.px:S.percent,d=J.getSprite(a);d.y.set__(0);var e=p.getBounds(a),g=Math.sqrt(d.getLocalMatrix().m10*d.getLocalMatrix().m10+d.getLocalMatrix().m11*d.getLocalMatrix().m11),b=c==S.px?b:k._platform.getStage().get_height()*b,b=kb.globalToLocal(a,
0,b,null);d.y.set__(b.y*g-e.y);return a};J.bottom=function(a,b,c){null==b&&(b=0);var c=null==c?S.px:S.percent,d=J.getSprite(a);d.y.set__(0);var e=Math.sqrt(d.getLocalMatrix().m10*d.getLocalMatrix().m10+d.getLocalMatrix().m11*d.getLocalMatrix().m11),g=p.getBounds(a),b=c==S.px?k._platform.getStage().get_height()-b:k._platform.getStage().get_height()-k._platform.getStage().get_height()*b,b=kb.globalToLocal(a,0,b,null);d.y.set__(b.y*e-g.y-g.height);return a};J.centerX=function(a,b,c){null==b&&(b=0);var c=
null==c?S.px:S.percent,d=J.getSprite(a);d.x.set__(0);var e=Math.sqrt(d.getLocalMatrix().m00*d.getLocalMatrix().m00+d.getLocalMatrix().m01*d.getLocalMatrix().m01),g=p.getBounds(a),b=c==S.px?0.5*k._platform.getStage().get_width()-b:0.5*k._platform.getStage().get_width()*b,b=kb.globalToLocal(a,b,0,null);d.x.set__(Math.round(b.x*e-0.5*g.width-g.x));return a};J.centerY=function(a,b,c){null==b&&(b=0);var c=null==c?S.px:S.percent,d=J.getSprite(a);d.y.set__(0);var e=p.getBounds(a),g=Math.sqrt(d.getLocalMatrix().m10*
d.getLocalMatrix().m10+d.getLocalMatrix().m11*d.getLocalMatrix().m11),b=c==S.px?0.5*k._platform.getStage().get_height()-b:0.5*k._platform.getStage().get_height()*b,b=kb.globalToLocal(a,0,b,null);d.y.set__(Math.round(b.y*g-0.5*e.height-e.y));return a};J.center=function(a,b,c){null==c&&(c=0);null==b&&(b=0);J.centerX(a,b);return J.centerY(a,c)};J.getSprite=function(a){var b=a._compMap.Sprite_1;null==b&&a.add(b=new p);return b};var S=e["s2.display.Units"]={__ename__:!0,__constructs__:["px","percent"]};
S.px=["px",0];S.px.toString=h;S.px.__enum__=S;S.percent=["percent",1];S.percent.toString=h;S.percent.__enum__=S;var nb=function(a,b){p.call(this);this.left=a;this.right=b};e["s2.display.MultiTextureSprite"]=nb;nb.__name__=["s2","display","MultiTextureSprite"];nb.__super__=p;nb.prototype=q(p.prototype,{draw:function(a){a.drawTexture(this.left,0,0);a.drawTexture(this.right,this.left.get_width(),0)},getNaturalWidth:function(){return this.left.get_width()+this.right.get_width()},getNaturalHeight:function(){return Y.max(this.left.get_height(),
this.right.get_height())},__class__:nb});var Nc=function(a,b,c){p.call(this);this.progress=new L(0);eb.that(a.get_width()==b.get_width()&&a.get_height()==b.get_height(),"Texture widths must match.",null);this.position=0;this.textureFront=a;this.textureBack=b;null==c&&(c=ha.Left);if(null!=c)switch(c[1]){case 0:this._drawFunction=B(this,this.left);break;case 1:this._drawFunction=B(this,this.right);break;case 2:this._drawFunction=B(this,this.top);break;case 3:this._drawFunction=B(this,this.bottom);break;
default:this._drawFunction=B(this,this.left)}else this._drawFunction=B(this,this.left)};e["s2.display.SwapSprite"]=Nc;Nc.__name__=["s2","display","SwapSprite"];Nc.__super__=p;Nc.prototype=q(p.prototype,{setProgress:function(a){this.progress.set__(a);return this},onUpdate:function(a){this.progress.update(a);p.prototype.onUpdate.call(this,a)},draw:function(a){this._drawFunction(a,Y.clamp(this.progress._value,0,1))},left:function(a,b){this.position=this.textureFront.get_width()*b;a.drawSubTexture(this.textureFront,
0,0,0,0,this.position,this.textureFront.get_height());a.drawSubTexture(this.textureBack,this.position,0,this.position,0,this.textureFront.get_width()-this.position,this.textureFront.get_height())},right:function(a,b){this.position=this.textureFront.get_width()*(1-b);a.drawSubTexture(this.textureBack,0,0,0,0,this.position,this.textureFront.get_height());a.drawSubTexture(this.textureFront,this.position,0,this.position,0,this.textureFront.get_width()-this.position,this.textureFront.get_height())},top:function(a,
b){this.position=this.textureFront.get_height()*b;a.drawSubTexture(this.textureFront,0,0,0,0,this.textureFront.get_width(),this.position);a.drawSubTexture(this.textureBack,0,this.position,0,this.position,this.textureFront.get_width(),this.textureFront.get_height()-this.position)},bottom:function(a,b){this.position=this.textureFront.get_height()*(1-b);a.drawTexture(this.textureFront,0,0);a.save();a.applyScissor(0,0,this.textureFront.get_width(),this.position);a.drawTexture(this.textureBack,0,0);a.restore()},
getNaturalWidth:function(){return this.textureFront.get_width()},getNaturalHeight:function(){return this.textureFront.get_height()},__class__:Nc});var ha=e["s2.display.SwapDirection"]={__ename__:!0,__constructs__:["Left","Right","Top","Bottom"]};ha.Left=["Left",0];ha.Left.toString=h;ha.Left.__enum__=ha;ha.Right=["Right",1];ha.Right.toString=h;ha.Right.__enum__=ha;ha.Top=["Top",2];ha.Top.toString=h;ha.Top.__enum__=ha;ha.Bottom=["Bottom",3];ha.Bottom.toString=h;ha.Bottom.__enum__=ha;var E=function(a,
b){this.loadedBytes=this.totalBytes=0;this.ready=!1;this._retryCount=0;this.releaseCacheOnRemove=this._isLoading=!1;this._nLoaded=this._nNeeded=0;r.call(this);this.progressed=new rb;this.success=new va;this._disposer=new Ga;this._suffix=null!=b?b:E.suffix;this._manifests=new N;this._packsReady=new N;this._packsLoading=[];this._queue=[];this.autoCacheResults=!0;this.releaseCacheOnRemove=!1;this._nLoaded=this._nNeeded=0;if(null!=a)for(var c=0,d=a.length;c<d;){var e=c++;this.require(a[e])}};e["s2.loading.Assets"]=
E;E.__name__=["s2","loading","Assets"];E.getCached=function(a){null==E._cache&&(E._cache=new N);return E._cache.exists(a)?E._cache.get(a):null};E.cache=function(a,b){null==E._cache&&(E._cache=new N);E._cache.set(a,b)};E.release=function(a){if(null!=E._cache&&E._cache.exists(a)){var b=E._cache.get(a);E._cache.remove(a);return b}return new Oc};E.__super__=r;E.prototype=q(r.prototype,{get_name:function(){return"Assets_3"},require:function(a){var b;b=null==this._suffix?"":"_"+this._suffix;if(V.exists(a+
b))this.addManifest(V.fromAssets(a+b),a);else if(V.exists(a))this.addManifest(V.fromAssets(a),a);else throw new m("The directory "+a+" does not exist in the manifest."+(null==this._suffix?"":" Also attempted path "+a+b));return this},addManifest:function(a,b){if(this._manifests.exists(b))throw new m("Asset key for manifest "+b+" already exists.");this._nNeeded++;null!=E.externalBase?a.set_remoteBase(E.externalBase):null!=E.relativeBase&&a.set_localBase(E.relativeBase);this._manifests.set(b,a);this._queue.push(b);
return this},load:function(){this.loadedBytes=this.totalBytes=0;this.ready=!1;for(var a=this._manifests.iterator();a.hasNext();)for(var b=a.next(),b=t.iter(b._entries);b.hasNext();)this.totalBytes+=b.next().bytes;this.loadManifest(this._queue.shift())},loadManifest:function(a){var b=E.getCached(a);if(null!=b){var c=b.get_manifest();this._manifests.set(a,c);this.onSuccess(b)}else{var d=k.loadAssetPack(this._manifests.get(a));if(d.hasResult)this.onSuccess(d.get_result());else this._isLoading=!0,this._packsLoading.push(d),
b=d.success.connect(B(this,this.onSuccess)).once(),c=d.error.connect(B(this,this.onError)),d=d.progressChanged.connect(B(this,this.onProgress)),this._currentManifest=a,this._disposer.add(b),this._disposer.add(c),this._disposer.add(d)}},onProgress:function(){for(var a=0,b=0,c=this._packsLoading.length;b<c;)var d=b++,a=a+this._packsLoading[d]._progress;for(b=this._packsReady.iterator();b.hasNext();)for(c=b.next().get_manifest().iterator();c.hasNext();)d=c.next(),a+=d.bytes;this.progressed.emit(a,this.totalBytes);
this.loadedBytes=a},onRemoved:function(){if(this.releaseCacheOnRemove)for(var a=this._manifests.keys();a.hasNext();){var b=a.next();E.release(b)}this._disposer.dispose();this.ready=this._isLoading=!1;this._packsLoading=[];this._packsReady=new N},get:function(a){if(this.ready){var b=this._packsReady.get(a+(null==this._suffix?"":"_"+this._suffix));if(null!=b)return b;b=this._packsReady.get(a);if(null!=b)return b;throw new m("Asset pack "+a+" not part of this asset requirement.");}throw new m("Can't get an asset pack before all packs are loaded and ready.");
},onSuccess:function(a){this._retryCount=0;this._disposer.dispose();this._nLoaded++;this._manifests.keys();for(var b=this._manifests.keys();b.hasNext();){var c=b.next();this._manifests.get(c)==a.get_manifest()&&(this.autoCacheResults&&E.cache(c,a),this._packsReady.set(c,a))}this._nLoaded==this._nNeeded?(this.progressed.emit(this.totalBytes,this.totalBytes),this._isLoading=!1,this.ready=!0,this.success.emit()):(this._packsLoading.shift(),this.loadManifest(this._queue.shift()))},onError:function(a){console.log(a);
3<this._retryCount?alert(a+"\nAttempted retries: "+this._retryCount):(this._disposer.dispose(),this._retryCount++,this.loadManifest(this._currentManifest))},__class__:E});var Oc=function(){};e["s2.loading.NullAssetPack"]=Oc;Oc.__name__=["s2","loading","NullAssetPack"];Oc.__interfaces__=[Jb];Oc.prototype={getTexture:function(){return null},getSound:function(){return null},getFile:function(){return null},dispose:function(){},get_manifest:function(){return null},__class__:Oc};var Gd=function(){};e["s2.localization.LocaleParser"]=
Gd;Gd.__name__=["s2","localization","LocaleParser"];Gd.prototype={__class__:Gd};var Yb=function(){};e["s2.localization.DisneyParser"]=Yb;Yb.__name__=["s2","localization","DisneyParser"];Yb.__interfaces__=[Gd];Yb.prototype={parseFonts:function(a){var b=new V,c=[];if(F.__instanceof(a,l))for(a=a.firstElement().elements();a.hasNext();)for(var d=a.next().elements();d.hasNext();){var e=d.next().get("font");-1==c.indexOf(e)&&(b.add(e+".fnt",e+".fnt"),b.add(e,e+".png"),c.push(e))}return b},parseStrings:function(a,
b){var c=new N,d=new N;if(F.__instanceof(a,l))for(var e=a.firstElement().elements();e.hasNext();){var g=e.next(),h=g.elements();if(g.nodeType!=l.Element)throw new m("Bad node type, expected Element but found "+g.nodeType);for(g=g.nodeName;h.hasNext();){var i=h.next(),j=i.get("font"),k;k=(null!=Oa[j]?d.existsReserved(j):d.h.hasOwnProperty(j))?null!=Oa[j]?d.getReserved(j):d.h[j]:new tb(b,j);var n;n=null==i.get("fontScale")?1:w.parseFloat(i.get("fontScale"));var o=g+".";if(i.nodeType!=l.Element)throw new m("Bad node type, expected Element but found "+
i.nodeType);var o=o+i.nodeName,p=k,q=w.parseFloat(i.get("lineHeight"));if(i.nodeType!=l.Document&&i.nodeType!=l.Element)throw new m("Bad node type, expected Element or Document but found "+i.nodeType);i={id:o,font:p,lineHeight:q,scale:n,text:i.children[0].get_nodeValue()};null!=Oa[j]?d.setReserved(j,k):d.h[j]=k;c.set(i.id,i)}}return c},__class__:Yb};var C=function(){};e["s2.localization.Locale"]=C;C.__name__=["s2","localization","Locale"];C.init=function(a,b,c,d){null==d&&(d="assets/fonts");null==
c&&(c="xml/translation.xml");C._formats=new N;C._xmlPath=c;C._fontDirectory=d;C._onReady=a;C._parser=b;a=new V;b=c;null!=C.externalBase?b=C.externalBase+C._xmlPath:null!=C.relativeBase&&(b=C.relativeBase+C._xmlPath);a.add(c,b);k._platform.loadAssetPack(a).get(C.onXmlSuccess)};C.getField=function(a,b,c){null==b&&(b=0);if(C._formats.exists(a)){var a=C._formats.get(a),d=new sc(a.font,a.text);d.wrapWidth.set__(b/a.scale);d.set_align(c);d.setScale(a.scale);d.set_pixelSnapping(!1);return d}throw new m("No string id : '"+
a+"' exists.");};C.onXmlSuccess=function(a){C._x=l.parse(a.getFile(C._xmlPath).toString());a=C._parser.parseFonts(C._x);null!=C.externalBase?a.set_remoteBase(C.externalBase+C._fontDirectory):null!=C.relativeBase?a.set_localBase(C.relativeBase+C._fontDirectory):a.set_localBase(C._fontDirectory);k._platform.loadAssetPack(a).get(C.onFontLoadSuccess)};C.onFontLoadSuccess=function(a){C._formats=C._parser.parseStrings(C._x,a);C.loading=!1;null!=C._onReady&&C._onReady.apply(null,[]);C._onReady=null};var Qc=
function(a,b,c,d){this.mapWidth=this.mapHeight=0;var e=this;p.call(this);this.map=a;this.symbols=b;this._names=new N;this.mapWidth=a.tilewidth*a.width;this.mapHeight=a.tileheight*a.height;var g=[],h=function(){e.width._value>e.mapWidth&&e.width.set__(e.mapWidth);e.height._value>e.mapHeight&&e.height.set__(e.mapHeight)};this.width=new L(c,h);this.height=new L(d,h);h(0,0);this.camera=new Pc;for(var i=h=null,c=0,d=a.layers.length;c<d;)h=c++,h=a.layers[h],h.visible&&(i="tilelayer"==h.type?(new n).add(new wb(h,
b,a.tilewidth,a.tileheight)):(new n).add(new p),g.push(i),this._names.set(h.name,i));this._layers=g};e["s2.map.MapSprite"]=Qc;Qc.__name__=["s2","map","MapSprite"];Qc.__super__=p;Qc.prototype=q(p.prototype,{draw:function(a){a.applyScissor(0,0,this.width._value,this.height._value)},getNaturalWidth:function(){return this.width._value},getNaturalHeight:function(){return this.height._value},getLayer:function(a){return!this._names.exists(a)?null:this._names.get(a)},onUpdate:function(a){p.prototype.onUpdate.call(this,
a);this.width.update(a);this.height.update(a);this.camera.onUpdate(a,this);for(a=this._layers.length;0<a--;)null!=w.instance(this._layers[a]._compMap.Sprite_1,wb)?w.instance(this._layers[a]._compMap.Sprite_1,wb).update(-this.camera.x._value,-this.camera.y._value,this.width._value,this.height._value):this._layers[a]._compMap.Sprite_1.setXY(-this.camera.x._value,-this.camera.y._value)},onAdded:function(){for(var a=0,b=this._layers;a<b.length;){var c=b[a];++a;this.owner.addChild(c)}},onRemoved:function(){for(var a=
0,b=this._layers;a<b.length;){var c=b[a];++a;this.owner.removeChild(c)}},dispose:function(){p.prototype.dispose.call(this);for(var a=0,b=this._layers;a<b.length;){var c=b[a];++a;c.dispose()}},__class__:Qc});var Hd=function(a,b,c,d,e,g,h){null==h&&(h=1);this.scale=h;this.id=a;this.atlas=b;this.x=c*h;this.y=d*h;this.width=e*h;this.height=g*h};e["s2.map.MapTileSymbol"]=Hd;Hd.__name__=["s2","map","MapTileSymbol"];Hd.prototype={__class__:Hd};var wb=function(a,b,c,d){this._x=this._y=this._w=this._h=this._tileW=
this._tileH=0;p.call(this);this.id=a.name;this._tileW=c;this._tileH=d;this._symbols=b;this._layerWidth=a.width;this._layerHeight=a.height;this._tiles=new Uint32Array(a.data)};e["s2.map.MapLayer"]=wb;wb.__name__=["s2","map","MapLayer"];wb.__super__=p;wb.prototype=q(p.prototype,{getNaturalWidth:function(){return this._w*this._tileW},getNaturalHeight:function(){return this._h*this._tileH},update:function(a,b,c,d){this._w=c;this._h=d;this._x=a;this._y=b;this.setXY(this._x,this._y)},draw:function(a){for(var b=
Math.ceil((this._w+this._tileW)/this._tileW),c=Math.ceil(2*((this._h+this._tileH)/this._tileH)),d=0;d<c;){var e=d++,e=Math.floor(e-2*((this._y+this._tileH/2)/this._tileH));if(!(0>e))for(var g=e*this._tileH/2,h=0;h<b;){var i=h++,j=Math.floor(i-(this._x+this._tileW/2)/this._tileW);0>j||(i=j*this._tileW,1==e%2&&(i+=this._tileW/2),j+=e*this._layerWidth,j>=this._tiles.length||(j=this._tiles[j],0<j&&(j=this._symbols[j],a.drawSubTexture(j.atlas,i,g,j.x,j.y,j.width,j.height))))}}},__class__:wb});var ec=function(a,
b,c){null==c&&(c=1);this.maxScale=0;var d=b.split("/");d.pop();this.mapChanged=new va;var d=d.join("/"),e=[],b=a.getFile(b+".json");0<d.length&&(d+="/");this.map=vd.parse(b.toString());b.dispose();this.map.tileheight=Math.round(this.map.tileheight*c);this.map.tilewidth=Math.round(this.map.tilewidth*c);this.map.scale=c;this.mapWidth=this.map.tilewidth*this.map.width;this.mapHeight=this.map.tileheight*this.map.height;for(var b=0,g=this.map.layers;b<g.length;){var h=g[b];++b;if(null!=h.objects)for(var i=
0,h=h.objects;i<h.length;){var j=h[i];++i;j.width*=c;j.height*=c;j.x*=c;j.y*=c;if(null!=j.polygon)for(var k=0,j=j.polygon;k<j.length;){var l=j[k];++k;l.x*=c;l.y*=c}}}b=0;for(g=this.map.tilesets.length;b<g;){i=this.map.tilesets[b++];null!=i.tileoffset?(i.tileoffset.x=null==i.tileoffset?0:i.tileoffset.x*c,i.tileoffset.y=null==i.tileoffset?0:i.tileoffset.y*c):i.tileoffset={x:0,y:0};i.imagewidth=Math.round(i.imagewidth*c);i.imageheight=Math.round(i.imageheight*c);i.tileheight=Math.round(i.tileheight*
c);i.tilewidth=Math.round(i.tilewidth*c);null!=i.spacing&&(i.spacing=Math.round(i.spacing*c));var h=i.firstgid,k=i.tileoffset.x,j=i.tileoffset.y,l=Math.floor((i.imagewidth-k)/(i.tilewidth+i.spacing)),m=l*Math.floor((i.imageheight-j)/(i.tileheight+i.spacing)),n=a.getTexture(d+Z.removeFileExtension(i.image)),o=n.get_width()/i.imagewidth;this.maxScale=Math.max(o,this.maxScale);for(var p=0,q=0,r=0;r++<m;){p++;p>l&&(q++,p=0);var t=Math.ceil(r/l)-1,u=r-l*t-1,t=t*(i.tileheight+i.spacing),u=u*(i.tilewidth+
i.spacing);e[h]=new Hd(h,n,Math.round(k)+u,Math.round(j)+t,i.tilewidth,i.tileheight,o);h++}}this._symbols=e};e["s2.map.TiledMapMold"]=ec;ec.__name__=["s2","map","TiledMapMold"];ec.__interfaces__=[ka];ec.prototype={createMap:function(a,b){return new Qc(this.map,this._symbols,a,b)},dispose:function(){this.map=null;for(var a=0,b=this._symbols.length;a<b;)this._symbols[a++]=null},getSymbolByGid:function(a){return this._symbols[a]},__class__:ec};var Id=function(){};e["s2.map.camera.Camera"]=Id;Id.__name__=
["s2","map","camera","Camera"];Id.prototype={__class__:Id};var Pc=function(){this.x=new L(0);this.y=new L(0);this.region=new fb};e["s2.map.camera.BasicCamera"]=Pc;Pc.__name__=["s2","map","camera","BasicCamera"];Pc.__interfaces__=[Id];Pc.prototype={onUpdate:function(a,b){this.x.update(a);this.y.update(a);this.applyPosition(b,this.x._value,this.y._value)},applyPosition:function(a,b,c){var d=a.mapWidth-a.width._value,e=a.mapHeight-a.height._value;0<a.mapWidth&&(b=Y.clamp(b,0,d));0<a.mapHeight&&(c=Y.clamp(c,
0,e));this.region.set(b,c,d,e)},__class__:Pc};var Vb=function(a,b,c){this._time=a;this._tilesWide=b;this._tilesHigh=c;this._holder=new n};e["s2.scene.BoxTransition"]=Vb;Vb.__name__=["s2","scene","BoxTransition"];Vb.__super__=Tb;Vb.prototype=q(Tb.prototype,{init:function(a,b,c){Tb.prototype.init.call(this,a,b,c);this._elapsed=0;this._texture=k._platform.getRenderer().createTexture(k._platform.getStage().get_width(),k._platform.getStage().get_height());p.render(b,this._texture.get_graphics());this._parallel=
new H;for(var b=this._texture.split(this._tilesWide,this._tilesHigh),c=0,d=b.length;c<d;){var e=c++,g=b[e],e=new G(g),g=(new n).add(e.centerAnchor().setXY(g.get_x()+0.5*g.get_width(),g.get_y()+0.5*g.get_height()));this._parallel.add(new v(e.alpha,0,0.5*Math.random()));this._parallel.add(new v(e.scaleX,2,0.5*Math.random()));this._parallel.add(new v(e.scaleY,2,0.5*Math.random()));this._holder.addChild(g)}this._holder.add(new Ha);this._holder.add(new Ha).getComponent("Script_2").run(this._parallel);
a.owner.addChild(this._holder)},update:function(){return 0<=this._parallel.update(0,this._holder)},complete:function(){this._holder.dispose();this._texture.dispose()},__class__:Vb});var $a=function(a){null==a&&(a=!0);this._wait=!1;Sa.call(this);this.waitForTransitions=a};e["s2.scene.SceneLoader"]=$a;$a.__name__=["s2","scene","SceneLoader"];$a.__super__=Sa;$a.prototype=q(Sa.prototype,{load:function(){this._wait=!1;this._assets.load()},setNextScene:function(a,b,c){null==b&&(b=!0);null!=this._progressBind&&
(this._progressBind.dispose(),this._loadCompleteBind.dispose());this.nextScene=a;this._unwind=b;this._assets=new E(a.requiredPacks);this._transition=null==c?z.getTransition():c;this._progressBind=this._assets.progressed.connect(B(this,this.onProgress));this._loadCompleteBind=this._assets.success.connect(B(this,this.onLoadSuccess));return this},onProgress:function(a,b){var c=a/b;this.owner.add(new da(13369344,k._platform.getStage().get_width(),k._platform.getStage().get_height()));null!=this.owner.firstChild&&
this.owner.firstChild.dispose();this.owner.addChild((new n).add(new da(16777215,c*k._platform.getStage().get_width(),k._platform.getStage().get_height())))},onLoadSuccess:function(){this._progressBind.dispose();this._loadCompleteBind.dispose();this.nextScene.injectAssets(this._assets);this._assets=null;if(null!=z.director._transitor&&this.waitForTransitions)this._wait=!0;else{var a=this.owner._compMap.Script_2;null==a&&(a=new Ha,this.owner.add(a));a.run(new u([new xa(1),new x(B(this,this.progressToNextScene))]))}},
onUpdate:function(){this._wait&&null==z.director._transitor&&this.progressToNextScene()},progressToNextScene:function(){this._unwind?z.director.unwindToScene((new n).add(this.nextScene),this._transition):(z.director.popScene(),z.director.pushScene((new n).add(this.nextScene),this._transition));this._transition=null;this._wait=!1},__class__:$a});var Wb=function(a){$a.call(this);this._pack=a;this._swapSprite=new Nc(this._pack.getTexture("preload/horseFront"),this._pack.getTexture("preload/horseBack"),
ha.Bottom);this._script=new Ha};e["s2.scene.PreloadScene"]=Wb;Wb.__name__=["s2","scene","PreloadScene"];Wb.__super__=$a;Wb.prototype=q($a.prototype,{onAdded:function(){$a.prototype.onAdded.call(this);this.owner.add(this._script);var a=this.owner._compMap.Disposer_4;null==a&&(a=new Ga,this.owner.add(a));this._container=(new n).add(new p);this.owner.addChild(this._container);this._container.addChild((new n).add(new nb(this._pack.getTexture("preload/bgLeft"),this._pack.getTexture("preload/bgRight"))));
this.owner.addChild(this._container);this._container.addChild((new n).add(this._swapSprite.setXY(415,171)));this._container.addChild((new n).add((new G(this._pack.getTexture("preload/dora"))).setXY(644,305)));a.connect0(k._platform.getStage().resize,B(this,this.onResize));this.onResize();D.setBgLoop(this._pack.getSound("preload/loading"))},onResize:function(){var a=Math.max(k._platform.getStage().get_width()/1366,k._platform.getStage().get_height()/768),b=1366*a,c=768*a;this._container._compMap.Sprite_1.setScale(a).setXY(0.5*
(k._platform.getStage().get_width()-b),0.5*(k._platform.getStage().get_height()-c))},onProgress:function(a,b){this._swapSprite.setProgress(Y.clamp(a/b,0,1))},__class__:Wb});var z=function(){};e["s2.scene.Scenes"]=z;z.__name__=["s2","scene","Scenes"];z.init=function(a){z.director=new Hc;z.shown=new va;k.root.addChild((new n).add(z.director),!1);z.setPreloadScene(null!=a?a:new $a)};z.setPreloadScene=function(a){z.preloadScene=a};z["goto"]=function(a,b,c){null==b&&(b=z.getTransition());var d=sa.getClassName(a);
if(!c)for(var c=0,e=z.director.scenes;c<e.length;){var g=e[c];++c;for(var h=g.firstComponent;null!=h;){if(F.__instanceof(h,a)&&sa.getClassName(null==h?null:F.getClass(h))==d){z.director.unwindToScene(g,b);return}h=h.next}}a=z.checkForPreload(sa.createInstance(a,[]),!0,b);z.director.unwindToScene(a,b)};z.checkForPreload=function(a,b,c){null==b&&(b=!0);null!=z._shownBind&&z._shownBind.dispose();z._shownBind=a.shown.connect(function(){z.shown.emit()});z._shownBind.once();if(F.__instanceof(a,wa)){var d;
d=F.__cast(a,wa).requiredPacks;for(var e=0;e<d.length;){var g=d[e];++e;if(null==E.getCached(g))return z.preloadScene.setNextScene(F.__cast(a,wa),b,c),z.preloadScene.load(),(new n).add(z.preloadScene)}b=new E(d);b.load();F.__cast(a,wa).injectAssets(b)}return(new n).add(a)};z.defaultTransition=function(a){z._defaultTransition=a};z.getTransition=function(){return z._defaultTransition};var I=function(a,b){null==b&&(b=1);this._sound=a;this._volume=b;this._elapsed=0};e["s2.script.PlaySound"]=I;I.__name__=
["s2","script","PlaySound"];I.__interfaces__=[Ea];I.prototype={update:function(a){null==this._playback?(this._playback=this._sound.play(this._volume),this._elapsed=0):this._elapsed+=a;return this._playback.get_complete().get__()?(this._playback=null,0):-1},__class__:I};var bb=function(){r.call(this);this._pools=new N;this._playListeners=new N};e["s2.sound.SoundMan"]=bb;bb.__name__=["s2","sound","SoundMan"];bb.__super__=r;bb.prototype=q(r.prototype,{get_name:function(){return"SoundMan_10"},poolFromPack:function(a,
b,c,d){null==c&&(c=!0);null==d&&(d=b);var d=this._pools.exists(d)?this._pools.get(d):this.createPool(d),e;e=U.get_mobile()?"_d":"_m";e=c?new ra("^(?!.*"+e+"$)"+y.replace(b,"/","\\/")+".*$","i"):new ra("^"+b+"/[^/]*","");for(var b=new ra("^"+b+"/",""),g=new ra(U.get_mobile()?"_m":"_d$",""),h=a.get_manifest().iterator();h.hasNext();){var k=h.next();if((sa.enumEq(k.format,i.WAV)||sa.enumEq(k.format,i.M4A)||sa.enumEq(k.format,i.MP3)||sa.enumEq(k.format,i.OGG))&&e.match(k.name)){var j=b.replace(k.name,
"");c&&(j=g.replace(j,""));d.has(j)||d.add(j,a.getSound(k.name))}}return d},createPool:function(a){var b=this;eb.that(!this._pools.exists(a),"Pool already exists",[a]);var c=new Rc(a,this),d=c.playing.get_changed().connect(function(a){b.playbackChanged(c,a)});this._playListeners.set(a,d);this._pools.set(a,c);return c},playbackChanged:function(){},pool:function(a,b){null==b&&(b=!0);eb.that(!b||this._pools.exists(a),"Invalid pool id",[a]);return this._pools.get(a)},poolExists:function(a){return this._pools.exists(a)},
getSortedPriority:function(a){var b=Ka.array(Ka.filter(this._pools,function(b){return b.playing._value&&b!=a&&-1<b.get_priority()}));b.sort(function(a,b){return b.get_priority()-a.get_priority()});return b},onUpdate:function(a){for(var b=this._pools.iterator();b.hasNext();)b.next().update(a)},dispose:function(){for(var a=this._playListeners.iterator();a.hasNext();)a.next().dispose();for(a=this._pools.iterator();a.hasNext();)a.next().dispose();this._pools=new N;this._playListeners=new N;r.prototype.dispose.call(this)},
__class__:bb});var Rc=function(a,b){this.id=a;this.volume=new L(1);this.playing=new X(!1);this._mixer=b;this._priority=-1;this._overwrite=0;this._sounds=new N;this._playing=[];this._soundBind=[]};e["s2.sound.SoundPool"]=Rc;Rc.__name__=["s2","sound","SoundPool"];Rc.__interfaces__=[ka];Rc.prototype={add:function(a,b){var c=this;eb.that(!this._sounds.exists(a),"Sound already exists whith id.",[a]);var d=new Sc(a,b,this),e=null,e=d.playing.get_changed().connect(function(a){a?c.playbackStarted(d):c.playbackEnded(d)});
this._soundBind.push(e);this._sounds.set(a,d);return this},remove:function(a){this._sounds.exists(a)&&this._sounds.remove(a)},has:function(a){return this._sounds.exists(a)},sound:function(a){a=this.mixerSound(a);return null!=a?a:new oa},mixerSound:function(a){return this.has(a)?this._sounds.get(a):null},random:function(){var a=Ka.array(this._sounds),b;do b=a[Math.floor(Math.random()*a.length)];while(1<a.length&&b.id==this._lastPlayedSound);return null!=b?b:new oa},stop:function(){for(var a=this._playing.length;0<
a--;)this._playing[a].stop()},checkForPriority:function(){if(0>this.get_priority())return 0;var a=this._mixer.getSortedPriority(this),b;b=0<a.length?a[0]:null;if(null==b||b==this||b.get_priority()==this.get_priority())return 0;if(b.get_priority()>this.get_priority())return 2;Ka.iter(a,function(a){a.stop()});return 1},playbackEnded:function(a){t.remove(this._playing,a);0==this._playing.length&&this.playing.set__(!1)},playbackStarted:function(a){this._lastPlayedSound=a.id;this._playing.push(a);this.playing._value||
this.playing.set__(!0)},dispose:function(){this.stop();for(var a=this._soundBind.length;0<a--;)this._soundBind[a].dispose();this._soundBind=[];this._mixer=null},update:function(a){this.volume.update(a);for(var b=this._playing.length;0<b--;)this._playing[b].update(a)},get_priority:function(){return this._priority},set_priority:function(a){return this._priority=a},get_overwrite:function(){return this._overwrite},__class__:Rc};var Sc=function(a,b,c){this.source=b;this.pool=c;this.volume=new L(1);this.id=
a;this.playing=new X(!1);this._priority=-1;this._overwrite=0;this._playbacks=[];this._playbackConnections=[]};e["s2.sound.MixedSound"]=Sc;Sc.__name__=["s2","sound","MixedSound"];Sc.__interfaces__=[ka,Xa];Sc.prototype={play:function(a){null==a&&(a=1);a=this.playOrLoop(a,!1);return null!=a?a:new ib(null)},loop:function(a){null==a&&(a=1);a=this.playOrLoop(a,!1);return null!=a?a:new ib(null)},playOrLoop:function(a,b){null==a&&(a=1);var c=this;if(this.playing._value&&2==this.get_overwrite())return null;
var d=this.pool.checkForPriority(this);if(this.pool.playing._value&&2==this.pool.get_overwrite()||2==d)return null;1==this.pool.get_overwrite()?this.pool.stop():1==this.get_overwrite()&&this.stop();d=b?this.source.loop(a):this.source.play(a);if(!d.get_complete().get__()){this.playing._value||this.playing.set__(!0);var e=new Tc(d,this);this._playbacks.push(e);var g=null,g=e.get_complete().get_changed().connect(function(a){a&&(g.dispose(),c.playbackEnded(e,g))});this._playbackConnections.push(g);return e}return null},
dispose:function(){this.stop();this.pool=this.source=null},update:function(a){this.volume.update(a);for(var b=this._playbacks.length;0<b--;)this._playbacks[b].update(a)},playbackEnded:function(a,b){var c=this.playing._value;b.dispose();t.remove(this._playbackConnections,b);t.remove(this._playbacks,a);c&&0==this._playbacks.length&&this.playing.set__(!1)},stop:function(){for(var a=this._playbacks.length;0<a--;)this._playbacks[a].dispose();for(a=this._playbackConnections.length;0<a--;)this._playbackConnections[a].dispose();
this._playbacks=[];this._playbackConnections=[];this.playing._value&&this.playing.set__(!1)},get_overwrite:function(){return this._overwrite},__class__:Sc};var Tc=function(a,b){var c=this;this._source=a;this._sound=b;this._complete=new X(a.get_complete().get__());this._bind=a.get_complete().get_changed().connect(function(a){c._complete.set__(a)});this.volume=new L(a.volume._value)};e["s2.sound.MixedPlayback"]=Tc;Tc.__name__=["s2","sound","MixedPlayback"];Tc.__interfaces__=[jb];Tc.prototype={update:function(a){this.volume.update(a);
a=Y.clamp(this.volume._value*this._sound.volume._value*this._sound.pool.volume._value,0,1);a!=this._source.volume._value&&this._source.volume.set__(a)},dispose:function(){this._bind.dispose();this._complete._value||this._complete.set__(!0);try{null!=this._source&&this._source.dispose()}catch(a){if(a instanceof m&&(a=a.val),F.__instanceof(a,String))null;else throw a;}this._sound=this._source=null},get_complete:function(){return this._complete},__class__:Tc};var gc=function(a,b){this._nTUInactive=this._nTUEncourage=
-1;this.nInactiveDelay=this.nEncourageDelay=15;r.call(this);this._inactivePool=a;this._encouragePool=b};e["s2.sound.VOLoopage"]=gc;gc.__name__=["s2","sound","VOLoopage"];gc.__super__=r;gc.prototype=q(r.prototype,{get_name:function(){return"VOLoopage_13"},onAdded:function(){this._timeUtil=this.owner._compMap.TimeUtil_14;null==this._timeUtil&&(this._timeUtil=new Uc,this.owner.add(this._timeUtil));this._script=this.owner._compMap.Script_2;null==this._script&&(this._script=new Ha,this.owner.add(this._script))},
start:function(){this.resetInactive();this.resetEncourage()},stop:function(){this._timeUtil.clear(this._nTUInactive);this._timeUtil.clear(this._nTUEncourage)},resetInactive:function(){this._timeUtil.clear(this._nTUInactive);this._nTUInactive=this._timeUtil.timeout(B(this,this.playInactive),this.nInactiveDelay)},resetEncourage:function(){this._timeUtil.clear(this._nTUEncourage);this._nTUEncourage=this._timeUtil.timeout(B(this,this.playEncourage),this.nEncourageDelay)},playInactive:function(){this._timeUtil.clear(this._nTUInactive);
this._script.run(new u([new I(this._inactivePool.random()),new x(B(this,this.resetInactive))]))},playEncourage:function(){this._timeUtil.clear(this._nTUEncourage);this._script.run(new u([new I(this._encouragePool.random()),new x(B(this,this.resetEncourage))]))},__class__:gc});var Yc=function(a,b,c,d){this.standardWidth=a;this.standardHeight=b;this.newWidth=c;this.newHeight=d;this.scaleX=c/a;this.scaleY=d/b;this.minScale=Math.min(this.scaleX,this.scaleY);this.maxScale=Math.max(this.scaleX,this.scaleY)};
e["s2.util.Coords"]=Yc;Yc.__name__=["s2","util","Coords"];Yc.prototype={__class__:Yc};var ab=function(){};e["s2.util.PathUtil"]=ab;ab.__name__=["s2","util","PathUtil"];ab.absoluteToRelative=function(a,b){console.log("Start Path: "+a+" - end path: "+b);if(ab.sameDomain(a,b)){var c=y.replace(y.replace(a,"http://",""),"https://","").split("/"),d=y.replace(y.replace(b,"http://",""),"https://","").split("/");c.shift();d.shift();""==c[c.length-1]&&c.pop();for(var e=0,g=Math.floor(Math.min(c.length,d.length));e++<
g;)c[0]==d[0]?(c.splice(0,1),d.splice(0,1)):e=g+1;g="";for(e=c.length;0<e--;)g+="../";console.log("Relative path: "+g+d.join("/"));return g+d.join("/")}return null};ab.sameDomain=function(a,b){var c=ab.getHost(a),d=ab.getHost(b);return null!=c&&null!=d&&c==d?!0:!1};ab.getHost=function(a){return y.startsWith(a,"http://")||y.startsWith(a,"https://")?y.replace(y.replace(a,"http://",""),"https://","").split("/")[0]:null};var kb=function(){};e["s2.util.Positioning"]=kb;kb.__name__=["s2","util","Positioning"];
kb.globalToLocal=function(a,b,c,d){a=a._compMap.Sprite_1;null==d&&(d=new La(b,c));null!=a&&(a.getViewMatrix().inverseTransform(b,c,d),d.x-=a.anchorX._value,d.y-=a.anchorY._value);return d};var Uc=function(){r.call(this);this._seqs=[]};e["s2.util.TimeUtil"]=Uc;Uc.__name__=["s2","util","TimeUtil"];Uc.__super__=r;Uc.prototype=q(r.prototype,{get_name:function(){return"TimeUtil_14"},onAdded:function(){this._script=this.owner._compMap.Script_2;null==this._script&&(this._script=new Ha,this.owner.add(this._script))},
timeout:function(a,b,c){this._seqs.push(new u([new xa(b),new x(function(){ja.callMethod(null,a,c)})]));this._curr=this._seqs.length-1;this._script.run(this._seqs[this._curr]);return this._curr},clear:function(a){0>a||a>this._seqs.length||null==this._seqs[a]||(this._seqs[a].removeAll(),this._seqs[a]=null)},dispose:function(){r.prototype.dispose.call(this);for(var a=null;0<this._seqs.length;)a=this._seqs.pop(),null!=a&&a.removeAll();this._seqs=null},__class__:Uc});var cb=function(a){this.paused=!1;
r.call(this);this.time=a;this.elapsed=0;this.completed=new va};e["s2.util.Timeout"]=cb;cb.__name__=["s2","util","Timeout"];cb.__super__=r;cb.prototype=q(r.prototype,{get_name:function(){return"Timeout_9"},setPaused:function(a){this.paused=a;return this},onUpdate:function(a){this.paused||(this.elapsed+=a,this.elapsed>=this.time&&(this.completed.emit(),this.reset()))},onRemoved:function(){this.elapsed=0},reset:function(){this.elapsed=0},__class__:cb});var O=function(a){null==O._parts&&(O._parts="source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","));
O._parts;this.url=a;this.query=new N;var b=new ra("^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?://)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\\d*))?)(((/(?:[^?#](?![^?#/]*\\.[^?#/.]+(?:[?#]|$)))*/?)?([^?#/]*))(?:\\?([^#]*))?(?:#(.*))?)","");b.match(a);for(var a=0,c=O._parts.length;a<c;){var d=a++,e=b.matched(d);if(null!=e)if("query"!=O._parts[d])this[O._parts[d]]=e;else for(var d=e.split("&"),e=0,g=d.length;e<g;){var h=e++,h=d[h].split("=");this.query.set(h[0],h[1])}}};e["s2.util.URLParser"]=O;O.__name__=
["s2","util","URLParser"];O.init=function(){null==O._parts&&(O._parts="source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","));return O._parts};O.parse=function(a){null==O._parts&&(O._parts="source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","));O._parts;return new O(a)};O.fromBrowser=function(){return O.parse(w.string(window.location)+"")};O.prototype={toString:function(){null==O._parts&&
(O._parts="source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor".split(","));O._parts;for(var a="For Url -> "+this.url+"\n",b=0,c=O._parts.length;b<c;)var d=b++,a=a+(O._parts[d]+": "+w.string(ja.field(this,O._parts[d]))+(d==O._parts.length-1?"":"\n"));return a},__class__:O};var U=function(){};e["s2.util.Utils"]=U;U.__name__=["s2","util","Utils"];U.get_mobile=function(){if(!U._inited)throw new m("Must call Utils.init() first.");return U._mobile};U.init=
function(){var a;a=window.navigator.userAgent.toLowerCase();U._mobile=-1<a.indexOf("mini")||-1<a.indexOf("mobile")||-1<a.indexOf("pocketpc")||-1<a.indexOf("smartphone")||-1<a.indexOf("android")||-1<a.indexOf("silk")||-1<a.indexOf("arm")&&-1<a.indexOf("msie");U.iPhone=-1<a.indexOf("iphone");U.chrome=-1<a.indexOf("crios");U._inited=!0};var Td=0;e.Math=Math;String.prototype.__class__=e.String=String;String.__name__=["String"];e.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=e.Date=Date;
Date.__name__=["Date"];var Ud=e.Int={__name__:["Int"]},Vd=e.Dynamic={__name__:["Dynamic"]},Qd=e.Float=Number;Qd.__name__=["Float"];var Rd=e.Bool=Boolean;Rd.__ename__=["Bool"];var Wd=e.Class={__name__:["Class"]},Xd={},Oa={},Nd=Function("return typeof ArrayBuffer != 'undefined' ? ArrayBuffer : null")()||Qa;null==Nd.prototype.slice&&(Nd.prototype.slice=Qa.sliceImpl);Function("return typeof DataView != 'undefined' ? DataView : null")();var Sd=Function("return typeof Uint8Array != 'undefined' ? Uint8Array : null")()||
Za._new;l.Element=0;l.PCData=1;l.CData=2;l.Comment=3;l.DocType=4;l.ProcessingInstruction=5;l.Document=6;Ab.bSkipTutorial=!1;ea.nCumulativeCarrots=0;ea.nCumulativeRainbows=0;ea.nCurCarrots=0;ea.nCurRainbows=0;R.NAME="Scene_0";aa.NAME="Scene_0";mb.NAME="Scene_0";o.NAME="Scene_0";o.UP=0;o.DOWN=1;o.LEFT=2;o.RIGHT=3;o.LOCK_TUTORIAL=0;o.LOCK_VO=1;o.LOCK_MOVEMENT=2;o.priorityEncourage=0;o.priorityBandits=o.priorityEncourage+1;o.prioritySnake=o.priorityBandits+1;o.priorityBat=o.prioritySnake+1;o.priorityWeb=
o.priorityBat+1;o.priorityCarrots=o.priorityWeb+1;o.priorityCloseCarrot=o.priorityCarrots+1;o.priorityRainbows=o.priorityCloseCarrot+1;o.priorityHorse=o.priorityRainbows+1;o.priorityNaiya=o.priorityHorse+1;o.priorityAlana=o.priorityNaiya+1;o.priorityDulce=o.priorityAlana+1;o.priorityComplete=o.priorityDulce+1;o.priorityIdle=o.priorityComplete+1;o.priorityTutorial=o.priorityIdle+1;Bb.NAME="Scene_0";Fb.NAME="Scene_0";Gb.NAME="Scene_0";Aa.NAME="Scene_0";Cb.NAME="Scene_0";Eb.NAME="Scene_0";Hb.NAME="Scene_0";
xb.NAME="Scene_0";Va.instance=new Va;$.DISPATCHING_SENTINEL=new sb(null,null);k.root=new n;k.uncaughtError=new P;k.hidden=new X(!1);k.volume=new L(1);k._platform=Va.instance;k._calledInit=!1;V.__meta__={obj:{assets:[{mid_cutscene:[{bytes:271864,md5:"ff0920fae3f919ff633541995a26daa1",name:"lib/atlas0.png"},{bytes:214715,md5:"912598d8e880d24a84831fb5a56c6f07",name:"lib/atlas1.png"},{bytes:52376,md5:"ed1223246f487996d18c307740666543",name:"lib/library.json"},{bytes:306349,md5:"80e280376b33bcf812cc5a3dc6853be2",
name:"snd/vo/dialog/vo.mp3"},{bytes:523705,md5:"a23c6431b1a7a0845828339f0a942ace",name:"snd/vo/dialog/vo.ogg"}],global:[{bytes:3227,md5:"50f1b9c22ea9a8bddf0015dcd52fd498",name:"button/play.png"},{bytes:6231,md5:"95b0f79de8cb13aa82eb29a72c2d9775",name:"button/playAgain.png"},{bytes:7657,md5:"865fe6907a282cbf0fda147728c68c8a",name:"button/print.png"},{bytes:7397,md5:"0737870645a8cd178c0b5dab17d2b42c",name:"button/skip.png"},{bytes:14284,md5:"1568aa3463a34897b3ee01b04c2b8563",name:"snd/fx/click/click.mp3"},
{bytes:13048,md5:"395874e94360faaf9a7c243266c66ef0",name:"snd/fx/click/click.ogg"},{bytes:239048,md5:"6fb970ba52d28537dab433f6a8ba0156",name:"snd/track/cutscene.mp3"},{bytes:577838,md5:"eb76b0fb51386d6e518a72dcc1639c77",name:"snd/track/cutscene.ogg"},{bytes:26030,md5:"3551a2c746a31c7844d161b9cb102a3a",name:"snd/vo/skip/skip.mp3"},{bytes:27276,md5:"f9c11cd28ddec321dc3529f87d5d6b08",name:"snd/vo/skip/skip.ogg"},{bytes:298,md5:"bd8e7474eeb9acd26bd447a1b6d2f3b8",name:"ui/stub_btn_down.png"},{bytes:321,
md5:"6e8883b7818f4837c41821bdb076a083",name:"ui/stub_btn_out.png"},{bytes:300,md5:"72737585bf48bbe5c18bdd47c6de0dff",name:"ui/stub_btn_over.png"}],level2:[{bytes:6341,md5:"dd24527689640b3c64bea2217adcdeb9",name:"horsePendant.png"},{bytes:46249,md5:"e15b0ea8ff07387b3fed9db070a61b95",name:"snd/fx/bat/bat.mp3"},{bytes:79009,md5:"0c050593aa2a9a6fe2e7980a281e8c3d",name:"snd/fx/bat/bat.ogg"},{bytes:26317,md5:"fc77b1970bd1be427cee5b49616fa323",name:"snd/fx/charm/charm.mp3"},{bytes:32292,md5:"e72241a5d65879de67e66e2e48e941f7",
name:"snd/fx/charm/charm.ogg"},{bytes:171656,md5:"3272e179fc6ce64fa9b56544e2151cf5",name:"snd/track/level.mp3"},{bytes:444403,md5:"e4bca27bb71cc9837dbe1dcb3316ea91",name:"snd/track/level.ogg"},{bytes:55406,md5:"91304f63115d5c69995b5c2b25ec2c62",name:"snd/vo/alana/alana1.mp3"},{bytes:63629,md5:"24c8bfd2580ee046434e90a89baf6da6",name:"snd/vo/alana/alana1.ogg"},{bytes:62318,md5:"2c6bc74320e738cad977e36a5909e166",name:"snd/vo/alana/alana2.mp3"},{bytes:74735,md5:"bfd6dd7f29f60b375d93f427b0fe5912",name:"snd/vo/alana/alana2.ogg"},
{bytes:51751,md5:"52c8f984371f27a5bfd13521b225b101",name:"snd/vo/bandits/bandit1.mp3"},{bytes:58733,md5:"77ecbb03727059ff2f38c78d0d3fda2b",name:"snd/vo/bandits/bandit1.ogg"},{bytes:39655,md5:"e406980386c259b6a93b0a9287632470",name:"snd/vo/bandits/bandit2.mp3"},{bytes:43610,md5:"ae46145db420991d173a7a37e583e3e3",name:"snd/vo/bandits/bandit2.ogg"},{bytes:48871,md5:"a411ebc2364e67b0c3a6538cef8afd75",name:"snd/vo/bandits/bandit3.mp3"},{bytes:54376,md5:"7a1dd41cd1e2007b623bf38d9b57e9bb",name:"snd/vo/bandits/bandit3.ogg"},
{bytes:73063,md5:"3bfe7e1015a91006515909cd2f33e920",name:"snd/vo/bandits/intro.mp3"},{bytes:88885,md5:"f0ac678e33ba7da760839c7b088fa0e3",name:"snd/vo/bandits/intro.ogg"},{bytes:77870,md5:"1d2c7055eb9fff583abcbd3f944d2da3",name:"snd/vo/bat/bat.mp3"},{bytes:92025,md5:"90819488c184cd9a5cbba19ace46b790",name:"snd/vo/bat/bat.ogg"},{bytes:35623,md5:"fed133e995372867d690468fd153155a",name:"snd/vo/carrots/carrots1.mp3"},{bytes:36687,md5:"230c8e4f18beef2070d90540b1fea1a3",name:"snd/vo/carrots/carrots1.ogg"},
{bytes:30439,md5:"cde1cb86f984c2f5963697e35ef04386",name:"snd/vo/carrots/carrots2.mp3"},{bytes:32394,md5:"bc411c04c126fb82440c5588e75bed1c",name:"snd/vo/carrots/carrots2.ogg"},{bytes:43687,md5:"e067806bcbcb942644846a4e69132116",name:"snd/vo/carrots/carrots3.mp3"},{bytes:48111,md5:"6d222a4fbb4dc1f2ebb91fac62403e33",name:"snd/vo/carrots/carrots3.ogg"},{bytes:117415,md5:"e7979fc963392218a2511ce6e4009423",name:"snd/vo/carrots/intro.mp3"},{bytes:150332,md5:"d2074e8102318f2af5c9ef9418a79c9f",name:"snd/vo/carrots/intro.ogg"},
{bytes:49070,md5:"fced9d7475bb231b530f44a9c4d897d5",name:"snd/vo/closeCarrot/intro.mp3"},{bytes:56340,md5:"fb9a370f5ce78be6b47f2cf059604b80",name:"snd/vo/closeCarrot/intro.ogg"},{bytes:166951,md5:"f0731feb1e4c58bfcd6d376bffca0278",name:"snd/vo/complete/complete.mp3"},{bytes:209068,md5:"ab303f81ef24dc7bbd13e62724b0491c",name:"snd/vo/complete/complete.ogg"},{bytes:80750,md5:"b19a76906e79889404900c183e4a3376",name:"snd/vo/dulce/dulce.mp3"},{bytes:97122,md5:"c265fcb427ec1d470fd50a0dadb763aa",name:"snd/vo/dulce/dulce.ogg"},
{bytes:30638,md5:"f0eabc3002f5b2ae36930fa1df0b1c7a",name:"snd/vo/encouragement/01.mp3"},{bytes:31883,md5:"dd1062d8828cb9ccaa2f6d924d8a67a1",name:"snd/vo/encouragement/01.ogg"},{bytes:43886,md5:"7a4bb05f937436c5e4706962c11baf8b",name:"snd/vo/encouragement/02.mp3"},{bytes:48127,md5:"1cad9987fe6a4265d64aae53c3d779db",name:"snd/vo/encouragement/02.ogg"},{bytes:31214,md5:"acff03a9307da5052b39797dba6e121f",name:"snd/vo/encouragement/03.mp3"},{bytes:35338,md5:"c900654c129f83eb99d6e860129375bc",name:"snd/vo/encouragement/03.ogg"},
{bytes:29486,md5:"f14b7bfb7adfaa7098a609dc091276d7",name:"snd/vo/encouragement/04.mp3"},{bytes:31182,md5:"7f16bd545b09cc50a5ff66647e42051f",name:"snd/vo/encouragement/04.ogg"},{bytes:65774,md5:"156de50f075a669e29e4cb1accfc9009",name:"snd/vo/horse/horse.mp3"},{bytes:75433,md5:"03caf5724e502671737e0d35619027a5",name:"snd/vo/horse/horse.ogg"},{bytes:56359,md5:"ea95ce5f90ea29b3a80a2720685bf5df",name:"snd/vo/inactivity/01.mp3"},{bytes:68217,md5:"1a793eca9879f73968eb983c4a1e0105",name:"snd/vo/inactivity/01.ogg"},
{bytes:51751,md5:"0c8d2df8531f7b1cd29af2b7e0b11437",name:"snd/vo/inactivity/02.mp3"},{bytes:60904,md5:"14ce267ff5bdc449ce56f295eab2e75a",name:"snd/vo/inactivity/02.ogg"},{bytes:78823,md5:"6100de892791d7aaeb499fb9afd930fb",name:"snd/vo/inactivity/03.mp3"},{bytes:95904,md5:"14da90c2bfd66da05321d8b0d0f03a84",name:"snd/vo/inactivity/03.ogg"},{bytes:136046,md5:"055b3df617b6badf4a02945ec2e383c4",name:"snd/vo/rainbows/intro.mp3"},{bytes:164683,md5:"20129a5fdfd2593d257daf5252973701",name:"snd/vo/rainbows/intro.ogg"},
{bytes:118190,md5:"188c15afd49f39b82a1516abc3a77350",name:"snd/vo/rainbows/rainbow1.mp3"},{bytes:144542,md5:"8639c0b26dfbb09c1a24ab45989c265a",name:"snd/vo/rainbows/rainbow1.ogg"},{bytes:118766,md5:"95f50cceb955338261787738686d8639",name:"snd/vo/rainbows/rainbow2.mp3"},{bytes:148797,md5:"c8bacdd2f045da67e42a7777cab88365",name:"snd/vo/rainbows/rainbow2.ogg"},{bytes:111854,md5:"7a4b87cf74f7b86b1ca7928b13b0028c",name:"snd/vo/rainbows/rainbow3.mp3"},{bytes:135430,md5:"4f3576279db36bf4e66ff073ce229d82",
name:"snd/vo/rainbows/rainbow3.ogg"},{bytes:61742,md5:"20e2697d14ef107ccb614846809d22f8",name:"snd/vo/tutorial/intro1.mp3"},{bytes:74294,md5:"3c1010f0ab10c26faf577a7a5e5a1b37",name:"snd/vo/tutorial/intro1.ogg"},{bytes:81902,md5:"26a1ae4b3c6eadc520fa2567b837b5ee",name:"snd/vo/tutorial/intro2_d.mp3"},{bytes:100830,md5:"d2ffdbb82286792375e4d9062cc53e19",name:"snd/vo/tutorial/intro2_d.ogg"},{bytes:79022,md5:"6ad79e99b466800e5803bd4a9162b8a9",name:"snd/vo/tutorial/intro2_m.mp3"},{bytes:98974,md5:"e2301effb86d4bdb5ad789f6a2270169",
name:"snd/vo/tutorial/intro2_m.ogg"},{bytes:79598,md5:"ba18aff1542da25d947186f2a6782536",name:"snd/vo/tutorial/intro3.mp3"},{bytes:96969,md5:"7b05d82b03217dbc598ce0773cdf8551",name:"snd/vo/tutorial/intro3.ogg"},{bytes:49070,md5:"4b39222c59068383c7028a05e4a74faa",name:"snd/vo/web/web.mp3"},{bytes:57873,md5:"73019dba7d3218af777bc914f81ff213",name:"snd/vo/web/web.ogg"}],level1:[{bytes:31121,md5:"003422d6d597530454ea0703cee3887c",name:"snd/fx/puddle/puddle.mp3"},{bytes:32967,md5:"6b4c519bc027c0665cf228109126845b",
name:"snd/fx/puddle/puddle.ogg"},{bytes:50281,md5:"e3dc316847695957c83db248550db0d2",name:"snd/fx/snake/snake_hiss.mp3"},{bytes:78063,md5:"fbfa95cc3ce7a272ee490eb390e49179",name:"snd/fx/snake/snake_hiss.ogg"},{bytes:219707,md5:"25a70b5f03e8b4d19bb465f7b6c63d67",name:"snd/track/level.mp3"},{bytes:565361,md5:"3eed7dec94b12189d1f1b73fa398e495",name:"snd/track/level.ogg"},{bytes:31591,md5:"78a51b7e3148ac0d5f37c7c7d3b74f3d",name:"snd/vo/bandits/bandit1.mp3"},{bytes:32924,md5:"c9bf28d73743666c1d07689fe4994943",
name:"snd/vo/bandits/bandit1.ogg"},{bytes:50023,md5:"f478a854c93aeba2f174065e218091cd",name:"snd/vo/bandits/bandit2.mp3"},{bytes:56115,md5:"66fad55327049a3caf4791dc1cd2e832",name:"snd/vo/bandits/bandit2.ogg"},{bytes:59815,md5:"9a6dd46c12b514801812a4c5a22ed9ba",name:"snd/vo/bandits/bandit3.mp3"},{bytes:68051,md5:"7c254ac790e030395ed6e65e62e2bec7",name:"snd/vo/bandits/bandit3.ogg"},{bytes:56935,md5:"3178fb8fa64ebb85b262cab1a93c3e9f",name:"snd/vo/bandits/bandit4.mp3"},{bytes:65486,md5:"6dd560abc38da35e1c2941eef024b8ff",
name:"snd/vo/bandits/bandit4.ogg"},{bytes:101863,md5:"a1c305626f33d52c4372d654290931ca",name:"snd/vo/bandits/intro.mp3"},{bytes:122167,md5:"b3c7422340682f6d3cc3d0ffa0728a31",name:"snd/vo/bandits/intro.ogg"},{bytes:37927,md5:"215a0acee452fc3187817a2d807247f4",name:"snd/vo/carrots/carrot1.mp3"},{bytes:40113,md5:"d6da7e249fa35d7b848e8f51a7e70c17",name:"snd/vo/carrots/carrot1.ogg"},{bytes:33895,md5:"dd6813608a551b22766658795bff6f59",name:"snd/vo/carrots/carrot2.mp3"},{bytes:36557,md5:"353668737ffc485f76a96704e1baa2f8",
name:"snd/vo/carrots/carrot2.ogg"},{bytes:35047,md5:"62f581f2b424e055272419e76dfb1309",name:"snd/vo/carrots/carrot3.mp3"},{bytes:38162,md5:"fe2aa05b1dd92f4a43524998170a4275",name:"snd/vo/carrots/carrot3.ogg"},{bytes:168103,md5:"6bdf8bf37a0e9d82c6366e3206729841",name:"snd/vo/carrots/intro.mp3"},{bytes:209310,md5:"e110b4218bcd1522f0dfaee2e18ef13d",name:"snd/vo/carrots/intro.ogg"},{bytes:198254,md5:"1a570ff54049bf232133ca0c54506218",name:"snd/vo/closeCarrot/intro.mp3"},{bytes:251210,md5:"07c86e94d3ffb606091b35f402684ddd",
name:"snd/vo/closeCarrot/intro.ogg"},{bytes:252974,md5:"6d9bfa705a3c90f1f6079f237079b0e2",name:"snd/vo/complete/complete.mp3"},{bytes:313503,md5:"79185415cc23ddce528f53ecb46e6f8a",name:"snd/vo/complete/complete.ogg"},{bytes:32743,md5:"5ecf290199f205556b957647ba5ee53d",name:"snd/vo/encouragement/01.mp3"},{bytes:34105,md5:"c1314827c0154edeebaa7d89bb291558",name:"snd/vo/encouragement/01.ogg"},{bytes:35623,md5:"789b05a176d1476d721fa78181ffe243",name:"snd/vo/encouragement/02.mp3"},{bytes:38062,md5:"024072488729083596254313ecaa44f1",
name:"snd/vo/encouragement/02.ogg"},{bytes:34471,md5:"738481b6e1b3235f2c2dc1177fc11f5f",name:"snd/vo/encouragement/03.mp3"},{bytes:35412,md5:"d114aae93aa32447de04c5d03fd81a4f",name:"snd/vo/encouragement/03.ogg"},{bytes:36199,md5:"43b317dfb28e8fcab938f4eb7ce494ef",name:"snd/vo/encouragement/04.mp3"},{bytes:38171,md5:"41135b44c1a5e30e320e5f74a7cc3e2e",name:"snd/vo/encouragement/04.ogg"},{bytes:92846,md5:"4f39e84ae0418a6c2a213d295e670698",name:"snd/vo/horse/horse1.mp3"},{bytes:112078,md5:"bb53d5cf748ef352e8367262ae7dafd1",
name:"snd/vo/horse/horse1.ogg"},{bytes:110126,md5:"6f075370699c0b255d67100c186c5e31",name:"snd/vo/horse/intro.mp3"},{bytes:134462,md5:"ad6c55b5ff403fb0434089b0d00e7e03",name:"snd/vo/horse/intro.ogg"},{bytes:97831,md5:"42cc156425c57af10c54dc6dc7c82c9c",name:"snd/vo/inactivity/01.mp3"},{bytes:118499,md5:"abbccd03e19ac40dadb4efa053bfa557",name:"snd/vo/inactivity/01.ogg"},{bytes:54631,md5:"98d0a4366a9162ae3d765fabb2c1a553",name:"snd/vo/inactivity/02.mp3"},{bytes:63011,md5:"1530ac4db3749ba1b332335f63a23d14",
name:"snd/vo/inactivity/02.ogg"},{bytes:54631,md5:"a5a972bd1c47dd6d082bffb8d39abdba",name:"snd/vo/inactivity/03.mp3"},{bytes:62734,md5:"3eb460e7910fdaee241af4e943584944",name:"snd/vo/inactivity/03.ogg"},{bytes:80551,md5:"d2f30cc7e0ac5220c0a2fbdb886dc5a3",name:"snd/vo/inactivity/04.mp3"},{bytes:98891,md5:"42570d3060a375676f36859386e79883",name:"snd/vo/inactivity/04.ogg"},{bytes:73838,md5:"2da3ba34e2a26e4b730d00bb0a7fbe28",name:"snd/vo/naiya/naiya1.mp3"},{bytes:84018,md5:"b66aa5c1f167c83161e881a24e490159",
name:"snd/vo/naiya/naiya1.ogg"},{bytes:61742,md5:"b26b38e5906b3e4dfb39b50348cd1463",name:"snd/vo/naiya/naiya2.mp3"},{bytes:74192,md5:"3dfc48f6197a5ecf8bc8ad78cbef4b55",name:"snd/vo/naiya/naiya2.ogg"},{bytes:67502,md5:"634e65f4d933ba0787687ac0145a9d31",name:"snd/vo/naiya/naiya3.mp3"},{bytes:82149,md5:"b28f7032d7ad42b3d065fe25eac06a45",name:"snd/vo/naiya/naiya3.ogg"},{bytes:62894,md5:"85dc4094e9abe0c92a2cad0a097238c7",name:"snd/vo/naiya/naiya4.mp3"},{bytes:75250,md5:"1175e85fc983ba6b3616668622f86d46",
name:"snd/vo/naiya/naiya4.ogg"},{bytes:115310,md5:"099db83de3d682fbb32804e8aaadea04",name:"snd/vo/rainbows/intro.mp3"},{bytes:141E3,md5:"bea705855613835e6235982d203b7674",name:"snd/vo/rainbows/intro.ogg"},{bytes:38126,md5:"c9585e0c7b71baf5016d05cded69df53",name:"snd/vo/rainbows/rainbow1.mp3"},{bytes:45394,md5:"d8e7d15ec2f8f2c2af2e6fc004c94b82",name:"snd/vo/rainbows/rainbow1.ogg"},{bytes:60590,md5:"b60fb2de1d90257956d12a672d1bff79",name:"snd/vo/rainbows/rainbow2.mp3"},{bytes:71505,md5:"4069492e90a8170de87c1d91d7de741d",
name:"snd/vo/rainbows/rainbow2.ogg"},{bytes:49646,md5:"bace845bff061a9ecac18c58c8a1c806",name:"snd/vo/rainbows/rainbow3.mp3"},{bytes:59700,md5:"087a7c0e9ab3f12d4cff8473041a5086",name:"snd/vo/rainbows/rainbow3.ogg"},{bytes:40430,md5:"7f7dfa8371a5495196a90f05f8bda34d",name:"snd/vo/snake/snake1.mp3"},{bytes:46724,md5:"fc513267dc00da9444b60ba68a8ae824",name:"snd/vo/snake/snake1.ogg"},{bytes:36398,md5:"4bf2500d5a51202a8045fc2d74481f1c",name:"snd/vo/snake/snake2.mp3"},{bytes:39192,md5:"c56c422ef80e5e25816220fdb173afac",
name:"snd/vo/snake/snake2.ogg"},{bytes:120295,md5:"510dd49a4c91afcfdfedd36b62c4367a",name:"snd/vo/tutorial/intro1.mp3"},{bytes:149449,md5:"b34da03e250641e07e3aa140540cd71d",name:"snd/vo/tutorial/intro1.ogg"},{bytes:101287,md5:"428517be22ed20b80bf75bebdbb0095e",name:"snd/vo/tutorial/intro2.mp3"},{bytes:121350,md5:"0c35f04049e7331fa63ef8aca3614a93",name:"snd/vo/tutorial/intro2.ogg"},{bytes:144487,md5:"bf256cd117a0246d16ba937abccb76ef",name:"snd/vo/tutorial/intro3.mp3"},{bytes:172491,md5:"0efc8d4675dc9a6c59d57c350e0bdd31",
name:"snd/vo/tutorial/intro3.ogg"},{bytes:123751,md5:"8f32c6927c826ab1ab24faa3ca8badd9",name:"snd/vo/tutorial/intro4.mp3"},{bytes:149206,md5:"b23e6309ef43da660ec6e39143691506",name:"snd/vo/tutorial/intro4.ogg"},{bytes:131815,md5:"ee9a1655266afbd5f1082cc8819d0cf4",name:"snd/vo/tutorial/select_path_d.mp3"},{bytes:167784,md5:"ab41cd01fa7ee567e68b26207e472686",name:"snd/vo/tutorial/select_path_d.ogg"},{bytes:119719,md5:"aca38f9603cbdc7831436ce0cf30d4c2",name:"snd/vo/tutorial/select_path_m.mp3"},{bytes:143866,
md5:"32d5cca4a65ce2ab3f494fc82d0e8f89",name:"snd/vo/tutorial/select_path_m.ogg"},{bytes:74215,md5:"2642cd5e99706e7043963531fb06e645",name:"snd/vo/tutorial/success.mp3"},{bytes:88226,md5:"30a3b85a43f5c39ddd53370cd39548c6",name:"snd/vo/tutorial/success.ogg"}],intro_cutscene:[{bytes:155570,md5:"e3f712dd580788affb092fc81abf605a",name:"lib/atlas0.png"},{bytes:278292,md5:"b77dec22cf7a6ed7f6d4811f66ae6d67",name:"lib/atlas1.png"},{bytes:159031,md5:"7fca6bc6869757588d6a8a59607a19a7",name:"lib/atlas2.png"},
{bytes:105979,md5:"a32a1927444dbd5f89a0814aeb40300f",name:"lib/atlas3.png"},{bytes:55625,md5:"f2b8c0cfb85263088267040a55f239a1",name:"lib/atlas4.png"},{bytes:80163,md5:"3082a60736e1620fafc9044fb93e7049",name:"lib/library.json"},{bytes:1197079,md5:"1e9fbe0db3eb80cd2858add20b28fc14",name:"snd/vo/dialog/vo.mp3"},{bytes:2048797,md5:"a913863ecbe538f1a10216a8ae174ccc",name:"snd/vo/dialog/vo.ogg"}],outro_cutscene:[{bytes:209915,md5:"25e9505f06e15538ccf1035a348fe962",name:"lib/atlas0.png"},{bytes:219890,
md5:"6510f38b71efb28e790173d254c13ba0",name:"lib/atlas1.png"},{bytes:143686,md5:"440a0e178eb43bbf19ffb153c243af1e",name:"lib/atlas2.png"},{bytes:111111,md5:"475ee9c162bbdfbd7aba100b5d21ba82",name:"lib/atlas3.png"},{bytes:55609,md5:"d683ec227da3eda40e793670cc6b353d",name:"lib/atlas4.png"},{bytes:65148,md5:"17030b5cceebf32dc68bd6df384877b6",name:"lib/atlas5.png"},{bytes:104352,md5:"a983ba5369976230305e79d09a51044e",name:"lib/library.json"},{bytes:636973,md5:"692bd00b421c2108b98967bce9043740",name:"snd/vo/dialog/vo.mp3"},
{bytes:1108419,md5:"aeac795a52cdfaa631f427b592defa8d",name:"snd/vo/dialog/vo.ogg"},{bytes:99182,md5:"874b750b02900f512a289a3db3eafdb9",name:"snd/vo/options/explainPlayAgain_d.mp3"},{bytes:125316,md5:"633adeae1cd93dfe6c78f7f04b5db8ce",name:"snd/vo/options/explainPlayAgain_d.ogg"},{bytes:105518,md5:"2213cb287602d30f79ed00efe42936ba",name:"snd/vo/options/explainPlayAgain_m.mp3"},{bytes:130773,md5:"f15bf1a037e63c30abadba5d4816b3f1",name:"snd/vo/options/explainPlayAgain_m.ogg"},{bytes:74414,md5:"a2d31024121ab908ed7cc63a33428af8",
name:"snd/vo/options/explainPrint.mp3"},{bytes:92778,md5:"5ffd9f863f252d077af9f4d2e10f6c74",name:"snd/vo/options/explainPrint.ogg"},{bytes:29486,md5:"64321a4b17c88e21af29767b86cc7220",name:"snd/vo/options/playAgain.mp3"},{bytes:31637,md5:"2ad49e3362e7b1d7b7d9c05c55d7403c",name:"snd/vo/options/playAgain.ogg"},{bytes:21998,md5:"3bd221f0daa5e8a9b3a1cc32b9ac8d40",name:"snd/vo/options/print.mp3"},{bytes:22186,md5:"015fc7d3206c37c084f7b16bbadb011a",name:"snd/vo/options/print.ogg"}],mini2:[{bytes:9021,md5:"697588e4d86b525853d14410042c81a2",
name:"batOn.png"},{bytes:13477,md5:"04d0807778e5575d18fb6544d72fc619",name:"batSymbol.jpg"},{bytes:38932,md5:"ca8ad0b3c502527841bcb5cbf7997ce2",name:"bgLeft.jpg"},{bytes:32658,md5:"3e89274e81bd796a103eb473d433317e",name:"bgRight.jpg"},{bytes:6213,md5:"084a051b0184c8d531269b831d3e69c6",name:"snakeOn.png"},{bytes:13389,md5:"a8f5d72ddd70dde70d346dd36f88f52e",name:"snakeSymbol.jpg"},{bytes:35246,md5:"58156f445c2d3d257dfccdfc3a867b59",name:"snd/vo/highlight/highlight.mp3"},{bytes:39725,md5:"751d29c52e523bae05ba7ead47895d46",
name:"snd/vo/highlight/highlight.ogg"},{bytes:32942,md5:"ddc81bb05f6b988dde1e4b113dabba93",name:"snd/vo/inactive/inactive.mp3"},{bytes:37386,md5:"310af79c852b5a44434b4267c41956df",name:"snd/vo/inactive/inactive.ogg"},{bytes:148519,md5:"bc31d17d435bbfdbb04d6d2d8ad9af12",name:"snd/vo/sequence/01.mp3"},{bytes:187549,md5:"64dca77cf25ec3809206ecd85b2bce73",name:"snd/vo/sequence/01.ogg"},{bytes:84007,md5:"80b5399f1e0acc7bda18dc662c9a0186",name:"snd/vo/sequence/02.mp3"},{bytes:103643,md5:"31d788b37163a79d9c16f046eac67600",
name:"snd/vo/sequence/02.ogg"},{bytes:193447,md5:"cda8b37d36a53ac246810876a125f8aa",name:"snd/vo/sequence/03.mp3"},{bytes:244610,md5:"1bffbe3d9e2f7e448f8e3be091089be0",name:"snd/vo/sequence/03.ogg"},{bytes:78823,md5:"cf5239e7be9e288baa034d29080da739",name:"snd/vo/sequence/04.mp3"},{bytes:96925,md5:"f7d917ff6c4f04bafb71762df840f865",name:"snd/vo/sequence/04.ogg"},{bytes:180199,md5:"26bbbe4c087cc26da268f8491e8cd2e6",name:"snd/vo/sequence/05.mp3"},{bytes:232273,md5:"f021a592ae580c5f26a20264fd1c9ec5",
name:"snd/vo/sequence/05.ogg"},{bytes:69607,md5:"ce4074b993a386ab4272c119c6dd0a60",name:"snd/vo/sequence/06.mp3"},{bytes:82478,md5:"9fa08201f90b97c42e30fd37f6d5bebf",name:"snd/vo/sequence/06.ogg"},{bytes:141607,md5:"8601a53b8906710640b3f51e163f24b2",name:"snd/vo/sequence/07.mp3"},{bytes:170390,md5:"a4d3fe2a6ad03e05e70b1a9b8bca88dc",name:"snd/vo/sequence/07.ogg"},{bytes:6475,md5:"ea7f0d1f90833ee3e16c4c09b6bc19bd",name:"sunOn.png"},{bytes:16737,md5:"52c03511c8e7b5db24e4a5f6bc81fecb",name:"sunSymbol.jpg"}],
mini1:[{bytes:105014,md5:"08065eac018aa3bb93c2bb54cd19f33c",name:"bgLeft.jpg"},{bytes:56849,md5:"f44e758799cbc333daf6c15f1b85fd13",name:"bgRight.jpg"},{bytes:7287,md5:"6d955309538bac5e11776fe66e69f141",name:"chickenOn.png"},{bytes:29318,md5:"69a7bda3d79f4894dd662861f61e6fa2",name:"chickenSymbol.png"},{bytes:8456,md5:"c5a13c2333986930a289e951a53cf89b",name:"horseOn.png"},{bytes:36151,md5:"a4fc826daa18e8ccb3f893fe63de78a3",name:"horseSymbol.png"},{bytes:6528,md5:"929694c0de9bfe96762221f7e677e2e6",name:"pigOn.png"},
{bytes:38363,md5:"03afc6844049053a10e11736d400bda7",name:"pigSymbol.png"},{bytes:60014,md5:"86a5c8c31565c93c198917ba08a27395",name:"snd/vo/highlight/highlight_d.mp3"},{bytes:72383,md5:"85ff4ad60e56f525bd1077a6f96cae15",name:"snd/vo/highlight/highlight_d.ogg"},{bytes:55406,md5:"67d7c18906e5946bd5293420ec19ee31",name:"snd/vo/highlight/highlight_m.mp3"},{bytes:65377,md5:"681aa6349884650d80cd3e2e15843aba",name:"snd/vo/highlight/highlight_m.ogg"},{bytes:95726,md5:"97e6e572c3883903b33356eacdee30f2",name:"snd/vo/inactive/inactive.mp3"},
{bytes:110529,md5:"64ab42964adbf0e65393b75e5158eb57",name:"snd/vo/inactive/inactive.ogg"},{bytes:156206,md5:"edd00fb7e11e30e3245830b015dd6d4f",name:"snd/vo/sequence/01.mp3"},{bytes:201465,md5:"b1eefbb94d26cd8b2e6c54b50cf5ede0",name:"snd/vo/sequence/01.ogg"},{bytes:95726,md5:"97e6e572c3883903b33356eacdee30f2",name:"snd/vo/sequence/02.mp3"},{bytes:119926,md5:"ef1878dc2f1f7ac943ad59baa5c04e95",name:"snd/vo/sequence/02.ogg"},{bytes:138926,md5:"8d5723498992a618e40a21be9a2b8b50",name:"snd/vo/sequence/03.mp3"},
{bytes:173842,md5:"d4e1b8dce9bbec9789b9fc857a72f21b",name:"snd/vo/sequence/03.ogg"},{bytes:56558,md5:"e5ce8435844046321dbc723080c2e207",name:"snd/vo/sequence/04.mp3"},{bytes:67997,md5:"d55f1e9f7669bd9e09d482111c4e9b27",name:"snd/vo/sequence/04.ogg"},{bytes:146414,md5:"83bb6a344f47f683b98a24d17d6afc60",name:"snd/vo/sequence/05.mp3"},{bytes:184904,md5:"ff0fa5a3ccffd0311374478b6cb58b97",name:"snd/vo/sequence/05.ogg"},{bytes:47342,md5:"1b9b7ac4a9297efdb2ef0f065aaaa021",name:"snd/vo/sequence/06.mp3"},
{bytes:57984,md5:"b7d631928b1c26d2bffc7b53a4f02e4e",name:"snd/vo/sequence/06.ogg"},{bytes:134318,md5:"835bcbe82b0a2670c82e3c518e1d2f28",name:"snd/vo/sequence/07.mp3"},{bytes:164376,md5:"97a5eb67eb516a6f16cf5c2237d2a712",name:"snd/vo/sequence/07.ogg"}],fonts:[{bytes:1614,md5:"b21baf3c5bd2c56acf79d14430cae20f",name:"burbank_35_white.fnt"},{bytes:2695,md5:"53a90acf5feee28f11bc71c0f637fc30",name:"burbank_35_white.png"},{bytes:44835,md5:"3c4760ae4de7ca6190ac883c8dc939f9",name:"futura_white_34.fnt"},{bytes:36704,
md5:"9d49bf89e240409c7a87858b00a62be9",name:"futura_white_34.png"}],game_scene:[{bytes:2858,md5:"bf07988de8a495ad7d0274a846f2efd1",name:"collectible/carrot.png"},{bytes:5334,md5:"bc8ada81e6717c030a9fc1e980bb7ea5",name:"collectible/rainbow.png"},{bytes:35849,md5:"870aef73ee65e066f11dc385f0efb376",name:"halo.png"},{bytes:2850,md5:"2460b63392ae64ca5bc46d5213026ac9",name:"hud/alana.png"},{bytes:2628,md5:"36ec0675fd1e7a685147e8e9c42c4a9d",name:"hud/Dulce.png"},{bytes:2623,md5:"6fd2b8dea30b5aaf986881b9067765f2",
name:"hud/greyHorse.png"},{bytes:7093,md5:"64d44f92dcbf4a4ff7e5a189edceebfb",name:"hud/hudLeft.png"},{bytes:6799,md5:"4ec39d8fd14d33c04be110e36c3450f6",name:"hud/hudRight.png"},{bytes:2926,md5:"3ed86e0acb95dfbaad8d72f6c7211155",name:"hud/naiya.png"},{bytes:2558,md5:"80d41e6f3b3bb1f6aab46725917b095c",name:"hud/smokeHorse.png"},{bytes:2656,md5:"6478d52b8f0eb54557fa4bd559b8c0bd",name:"hud/whiteHorse.png"},{bytes:126594,md5:"9da865883bb777cb1378ef11400be029",name:"lib/gameplay/atlas0.png"},{bytes:300807,
md5:"9d49079fb9f53c7df2c54b8eff66cd79",name:"lib/gameplay/library.json"},{bytes:1097,md5:"3a54ab4fda8b5ccc7d282f1717db80d9",name:"moveArrows/downLeft.png"},{bytes:3266,md5:"53632cd919e67baa9f88a1e145ff9227",name:"moveArrows/downLeftGlow.png"},{bytes:1098,md5:"8b5458e9294e6a243141af4642ed067b",name:"moveArrows/downRight.png"},{bytes:3259,md5:"a37be61408027e1fa7fefa63afbbb032",name:"moveArrows/downRightGlow.png"},{bytes:1089,md5:"e043b1e2cc720e09527a20fc1931cec2",name:"moveArrows/upLeft.png"},{bytes:5357,
md5:"8743fdbc36b477778579f8be8a9778e6",name:"moveArrows/upLeftGlow.png"},{bytes:1098,md5:"400f1c8e6dba610a9eba004e649e4b21",name:"moveArrows/upRight.png"},{bytes:3259,md5:"0d66a7376ef35833e5df64af5a3115a0",name:"moveArrows/upRightGlow.png"}],bootstrap:[{bytes:465,md5:"75154279e62d08ae364f540d311e1efc",name:"bg.jpg"},{bytes:242,md5:"5ba219888da05e1a3c8a647ac195c5ed",name:"config.xml"},{bytes:288,md5:"5b2de37068d39d45771e6ce7cf247958",name:"empty.mp3"},{bytes:4435,md5:"db402228bb9a528056a8ab34e4433e25",
name:"empty.ogg"},{bytes:126,md5:"3304196e2a933e1dae3b643753a6af17",name:"loader_bar/progress.png"},{bytes:132,md5:"234a3ab2e659a64a99f798a72d6800df",name:"loader_bar/total.png"},{bytes:6318,md5:"ce258a88833136a394f4023ffe03dcd9",name:"orientation_ipad.png"},{bytes:7424,md5:"718f92bc40f4e230d1aa2e3ae230c1f3",name:"orientation_iphone.png"},{bytes:12988,md5:"13dc1219074d2d776ecb2926262a22d4",name:"preload/bgLeft.jpg"},{bytes:13598,md5:"13127dd9210b31482faf979d68ce7e00",name:"preload/bgRight.jpg"},{bytes:12706,
md5:"48e0350527cfd892b2385fe01d5d5c85",name:"preload/dora.png"},{bytes:37722,md5:"0269053494590ae324415a88e91759a1",name:"preload/horseBack.png"},{bytes:58563,md5:"0aceab2cd47811afab82f3b650a46e3c",name:"preload/horseFront.png"},{bytes:186056,md5:"52615f3991507020545ad1baf2ee00c0",name:"preload/loading.mp3"},{bytes:447884,md5:"38190adf098eea22cb3a99b35db6c2d6",name:"preload/loading.ogg"},{bytes:464,md5:"94874b86595128533288765e06599cac",name:"transition/atlas0.png"},{bytes:534,md5:"ed2eacf722c940044683d80b4fce194a",
name:"transition/library.json"}],level:[{bytes:10100,md5:"beb02edb2281630fc6e69030942b8ec1",name:"img/Foilage_1x1_01.png"},{bytes:11018,md5:"fa983f6e270f4832c0d81409ac5c9ced",name:"img/Foilage_1x1_02.png"},{bytes:11261,md5:"f08ba573ece55c330e561e25d3f8b282",name:"img/Foilage_1x1_03.png"},{bytes:8392,md5:"46a75ebd011337fc4dfa44ef4c1385f1",name:"img/Foilage_1x1_04.png"},{bytes:31336,md5:"5f12cecd1680d63aa98ab79f5d904cec",name:"img/Foilage_2x2_01.png"},{bytes:9287,md5:"045ecd492d8d531ae873e0b58a5533fd",
name:"img/rock_1x1_01.png"},{bytes:13483,md5:"793568f3f88cffb0977ff6101a9cacde",name:"img/rock_2x1_01.png"},{bytes:14389,md5:"eddbc06d21ea433e408f3ec604c6c89d",name:"img/rock_2x1_02.png"},{bytes:26889,md5:"a2628af7148af51eebb4f6d09dfc6dbf",name:"img/rock_2x2_01.png"},{bytes:257355,md5:"f0e468b72631fed93af4af4537165d85",name:"img/Tile_BaseGrass.png"},{bytes:2513,md5:"cc7b4083acb6332c856b9b277ee2cb45",name:"interact/level1.xml"},{bytes:2666,md5:"23298fe2752e60a45a98b8c1ff9138be",name:"interact/level2.xml"},
{bytes:54184,md5:"dcbd49e937b865ee86ce28ff4005985f",name:"level1.json"},{bytes:40662,md5:"0a7c28da2ed565a51b7619e81a4782c2",name:"level2.json"},{bytes:60073,md5:"3b790fe3f560b5cf6a1edd5c22e3e173",name:"snd/fx/bandit/bandit_rustle.mp3"},{bytes:98851,md5:"d5034dd792c345ce6d46d0d343ff9082",name:"snd/fx/bandit/bandit_rustle.ogg"},{bytes:45097,md5:"761b4da03dffcb2b249b8be5875785dd",name:"snd/fx/collectible/collect_carrot.mp3"},{bytes:83401,md5:"9bdd183e9319c56afa8d56294bbbfe7c",name:"snd/fx/collectible/collect_carrot.ogg"},
{bytes:65833,md5:"0db9359a503f1929ee100b821dea94d2",name:"snd/fx/collectible/Rainbow_collect.mp3"},{bytes:100426,md5:"205d37ad273b43cc46b42a9ded7287a2",name:"snd/fx/collectible/Rainbow_collect.ogg"},{bytes:53161,md5:"fb6b3128940c3b53273257043d25456b",name:"snd/fx/dora/Dora_Find_Friend.mp3"},{bytes:70508,md5:"4bf4792c5533870bc59648de6f45041c",name:"snd/fx/dora/Dora_Find_Friend.ogg"},{bytes:19753,md5:"ea1bc309e07145aa7e8814e7e9521235",name:"snd/fx/dora/Dora_land.mp3"},{bytes:18609,md5:"ab7383832bc03b14c5fd848fac1c9a46",
name:"snd/fx/dora/Dora_land.ogg"},{bytes:48553,md5:"920b79821de861541abbbb95bb266317",name:"snd/fx/horse/horse_neigh.mp3"},{bytes:74629,md5:"63072654e52ec1341ff27973a2688324",name:"snd/fx/horse/horse_neigh.ogg"},{bytes:28969,md5:"0d39206921d05f13728f6bd25f830e50",name:"snd/fx/horse/horse_snort.mp3"},{bytes:42544,md5:"fb65f4a548c5b2964f4b20d7b80dd0d7",name:"snd/fx/horse/horse_snort.ogg"},{bytes:68903,md5:"46744ea1fcda00a6880372d2479fb921",name:"snd/fx/sparkle/sparkle.mp3"},{bytes:57089,md5:"021056ecbd82f55df77a3f5310d516cc",
name:"snd/fx/sparkle/sparkle.ogg"}],title_scene:[{bytes:108823,md5:"d2ef13080af9e3c212b0db1537b429f5",name:"bgLeft.jpg"},{bytes:86202,md5:"350bc16bc654388ba4810dba4d29f70e",name:"bgRight.jpg"},{bytes:10405,md5:"a554cd76f58c179c4df69306a3e93c35",name:"property.png"},{bytes:184328,md5:"7058bd85d44398fa294e84a2875e81ca",name:"snd/track/title.mp3"},{bytes:483439,md5:"dec4a3a923a2c3cb64df8f384f915529",name:"snd/track/title.ogg"},{bytes:79399,md5:"602efae72f6ddc3915ed0faff9127038",name:"snd/vo/intro.mp3"},
{bytes:95683,md5:"5cbd2aa02c21c2157554dbc845da0f32",name:"snd/vo/intro.ogg"},{bytes:26407,md5:"4f079bb4f20032b149e90260d13ad8f6",name:"snd/vo/play.mp3"},{bytes:25738,md5:"f2e07be239ae61eabfbd398b020bbe9c",name:"snd/vo/play.ogg"},{bytes:43687,md5:"21e8c5e84a55b37d8d1ad3c89f9a6365",name:"snd/vo/select_play_to_start_d.mp3"},{bytes:49973,md5:"4d8fe0cd461ae840526db82e4b3f465c",name:"snd/vo/select_play_to_start_d.ogg"},{bytes:45991,md5:"c5429fdf952fc5a584ebc4b0aba9aa0b",name:"snd/vo/select_play_to_start_m.mp3"},
{bytes:52642,md5:"8139948247b27c8efbb7c0db6b068ffe",name:"snd/vo/select_play_to_start_m.ogg"},{bytes:20092,md5:"061a49bdbac5a15ffd789fca24b206dd",name:"title.png"}],mini:[{bytes:32885,md5:"762eb3c29e8a94dce4851094710c1356",name:"snd/fx/correct/correct.mp3"},{bytes:39897,md5:"f3ba18478659f52bcc6444efaf9c0d42",name:"snd/fx/correct/correct.ogg"},{bytes:20213,md5:"ea6f6d18c6b8e13df27b4b03b122ed9e",name:"snd/fx/incorrect/incorrect.mp3"},{bytes:19888,md5:"591f162a8ad2a64c4f26dff8f9d172aa",name:"snd/fx/incorrect/incorrect.ogg"},
{bytes:49646,md5:"2766975b53cb2954e9c12a81c6d11158",name:"snd/vo/incorrect/01.mp3"},{bytes:59240,md5:"526ed2241cdaab21c70df22ce3e5acfc",name:"snd/vo/incorrect/01.ogg"},{bytes:28334,md5:"08bac358d46cab8e8fc054f653970817",name:"snd/vo/incorrect/02.mp3"},{bytes:30624,md5:"b46139bf690d36920f9db3b794c26573",name:"snd/vo/incorrect/02.ogg"},{bytes:41582,md5:"ea55f43647f3fc69090d9cb13a2191b6",name:"snd/vo/incorrect/03.mp3"},{bytes:47281,md5:"3f05dfea4ad07b519340bb0e7cfb43c7",name:"snd/vo/incorrect/03.ogg"}]}]}};
V._supportsCrossOrigin=function(){var a;a=0<=window.navigator.userAgent.indexOf("Linux; U; Android")?!1:null!=(new XMLHttpRequest).withCredentials;a||null;return a}();p._scratchPoint=new La;tb.NEWLINE=new pc(10);Ja._sharedEvent=new ed;pa._sharedEvent=new fd;fa._sharedEvent=new gd;qb.CANVAS_TEXTURES=(new ra("(iPhone|iPod|iPad)","")).match(window.navigator.userAgent);K._mediaRefCount=0;K._detectBlobSupport=!0;A.VENDOR_PREFIXES=["webkit","moz","ms","o","khtml"];A.SHOULD_HIDE_MOBILE_BROWSER=window.top==
window&&(new ra("Mobile(/.*)? Safari","")).match(window.navigator.userAgent);M._detectSupport=!0;Da._scratchMatrix=new Ba;Pa.i64tmp=new zd(0,0);Ua.escapes=function(){var a=new N;null!=Oa.lt?a.setReserved("lt","<"):a.h.lt="<";null!=Oa.gt?a.setReserved("gt",">"):a.h.gt=">";null!=Oa.amp?a.setReserved("amp","&"):a.h.amp="&";null!=Oa.quot?a.setReserved("quot",'"'):a.h.quot='"';null!=Oa.apos?a.setReserved("apos","'"):a.h.apos="'";return a}(this);F.__toStr={}.toString;Za.BYTES_PER_ELEMENT=1;C.loading=!0;
U.muted=new X(!1);U._mobile=!1;U._inited=!1;D.main()})();
