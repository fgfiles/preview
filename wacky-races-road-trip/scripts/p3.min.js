(function e$jscomp$0(d,e,g){function b(f,r){if(!e[f]){if(!d[f]){var h="function"==typeof require&&require;if(!r&&h)return h(f,!0);if(c)return c(f,!0);h=Error("Cannot find module '"+f+"'");throw h.code="MODULE_NOT_FOUND",h;}h=e[f]={exports:{}};d[f][0].call(h.exports,function(c){var h=d[f][1][c];return b(h?h:c)},h,h.exports,e$jscomp$0,d,e,g)}return e[f].exports}for(var c="function"==typeof require&&require,f=0;f<g.length;f++)b(g[f]);return b})({1:[function(d,e,g){function a(){this._tweens=this._timers=
this._movieClips=this._emitters=this._particleSystems=null;this._paused=!1;this.init()}var b=d("./display/MovieClip"),c=d("./utils/Timer");e.exports=a;a.prototype.init=function(){this._movieClips=[];this._particleSystems=[];this._emitters=[];this._tweens=[];this._timers=[];this._paused=!1};a.prototype.update=function(){this._paused||(this._updateEmitters(),this._updateParticleSystems(),this._updateTimers())};a.prototype.add=function(a){if(a instanceof PIXI.particles.Emitter)if(-1==this._emitters.indexOf(a))this._emitters.push(a);
else throw Error("'Emitter' already added!");else if(a instanceof b)if(-1==this._movieClips.indexOf(a))this._movieClips.push(a);else throw Error("'MovieClip' already added!");else if(a instanceof TweenMax||a instanceof TimelineMax)if(-1==this._tweens.indexOf(a))this._tweens.push(a);else throw Error("'Tween' already added!");else if(a instanceof c)if(-1==this._timers.indexOf(a))this._timers.push(a);else throw Error("'Timer' already added!");return a};a.prototype.remove=function(a){if(a instanceof PIXI.particles.Emitter){var f=
this._emitters.indexOf(a);if(-1!=f)this._emitters.splice(f,1);else throw Error("'Emitter' is not added!");}else if(a instanceof b)if(f=this._movieClips.indexOf(a),-1!=f)a.__updateTransform&&(a.updateTransform=a.__updateTransform,a.__updateTransform=null),this._movieClips.splice(f,1);else throw Error("'MovieClip' is not added!");else if((a instanceof TweenMax||a instanceof TimelineMax)&&-1!=this._tweens.indexOf(a))if(f=this._tweens.indexOf(a),-1!=f)this._tweens.splice(f,1);else throw Error("'Tween' is not added!");
else if(a instanceof c&&-1!=this._timers.indexOf(a))if(f=this._timers.indexOf(a),-1!=f)this._timers.splice(f,1);else throw Error("'Timer' is not added!");};a.prototype.removeAll=function(a,b,c,d){d="boolean"==typeof d?d:!0;if("boolean"==typeof a?a:1)this._particleSystems.length=this._emitters.length=0;if("boolean"==typeof b?b:1)this._movieClips.length=0;("boolean"==typeof c?c:1)&&this.removeAllTweens(!0);d&&(this._timers.length=0)};a.prototype.removeAllTweens=function(a){for(var b,f=0;f<this._tweens.length;++f)b=
this._tweens[f],a&&b.kill();this._tweens.length=0};a.prototype.setTimeout=function(a,b,c){c=c||window;var f=new p3.Timer(b,1);f.signals.timerComplete.addOnce(function(){a.call(c);this.remove(f)},this);f.start();this.add(f);return f};a.prototype._playMovieClips=function(){for(var a,b=this._movieClips.length,c=0;c<b;++c)a=this._movieClips[c],a.__updateTransform&&(a.updateTransform=a.__updateTransform,a.__updateTransform=null)};a.prototype._pauseMoveClips=function(){for(var a,b=this._movieClips.length,
c=0;c<b;++c)a=this._movieClips[c],a.__updateTransform||(a.__updateTransform=a.updateTransform,a.updateTransform=function(){p3.MovieClip.superClass_.updateTransform.call(this)})};a.prototype._playTweens=function(){for(var a,b=this._tweens.length,c=0;c<b;++c)a=this._tweens[c],a.resume()};a.prototype._pauseTweens=function(){for(var a,b=this._tweens.length,c=0;c<b;++c)a=this._tweens[c],a.pause()};a.prototype._updateParticleSystems=function(){for(var a,b=this._particleSystems.length-1;0<=b;--b)a=this._particleSystems[b],
a.update()};a.prototype._updateEmitters=function(){for(var a,b=this._emitters.length-1;0<=b;--b)a=this._emitters[b],a.update(p3.Timestep.deltaTime)};a.prototype._updateTimers=function(){for(var a,b=this._timers.length-1;0<=b;--b)a=this._timers[b],a.update()};Object.defineProperty(a.prototype,"paused",{get:function(){return this._paused},set:function(a){(this._paused=a)?(this._pauseMoveClips(),this._pauseTweens()):(this._playMovieClips(),this._playTweens())}})},{"./display/MovieClip":15,"./utils/Timer":47}],
2:[function(d,e,g){function a(){this.signals={};this.signals.progress=new signals.Signal;this.signals.complete=new signals.Signal;this.signals.error=new signals.Signal;this._loader=new PIXI.loaders.Loader;this._loader.on("progress",this.onLoaderProgress,this);this._loader.on("complete",this.onLoaderComplete,this);this._loader.on("error",this.onLoaderError,this);this._manifest=[];this._resources={};this._fallbackTexture=PIXI.Texture.EMPTY}e.exports=a;a._instance=null;a.prototype.addFiles=function(a,
c){if((c=c||"")&&0<c.length)for(var b,h=0;h<a.length;++h)b=a[h].url,a[h].url=c+b;this._manifest=[];return this._manifest=this._manifest.concat(a)};a.prototype.load=function(){if(this._manifest.length)return this._loader.add(this._manifest),this._loader.load(),this._manifest};a.prototype.unloadTexture=function(a,c){c="."+(c||"png");var b=this._resources[a].url.split(".");PIXI.utils.TextureCache[b[0]+c].destroy(!0)};a.prototype.getTexture=function(a,c){try{var b=PIXI.Texture.fromFrame(a+("."+(c||"png")))}catch(h){this._resources[a]?
b=this._resources[a].texture:(console.log("Texture not found ("+a+"), using PIXI.Texture.EMPTY"),b=this._fallbackTexture)}return b};a.prototype.getJSON=function(a){return p3.Utils.cloneObject(this._resources[a].data)};a.prototype.getSpineData=function(a){return this._resources[a].spineData};a.prototype.onLoaderProgress=function(a,c){this.signals.progress.dispatch(a,c,a.progress)};a.prototype.onLoaderComplete=function(a,c){var b;for(b in c)if(c.hasOwnProperty(b)){var h=c[b];this._resources[b]=h}this._manifest=
[];this._loader.reset();this.signals.complete.dispatch(a,c)};a.prototype.onLoaderError=function(a,c,f){this.signals.error.dispatch(a,c,f)};Object.defineProperty(a,"instance",{get:function(){!a._instance&&(a._instance=new a);return a._instance}});Object.defineProperty(a.instance,"manifest",{get:function(){return this._manifest.slice()}})},{}],3:[function(d,e,g){function a(){this.signals={};this.signals.next=new signals.Signal;this.signals.previous=new signals.Signal;this.signals.home=new signals.Signal;
this.signals.pause=new signals.Signal;this.loaded=!1;PIXI.Container.call(this)}e.exports=a;a.prototype=Object.create(PIXI.Container.prototype);a.prototype.constructor=a;a.prototype.preloader=function(){return new a};a.prototype.load=function(){return[]};a.prototype.unload=function(){};a.prototype.init=function(){};a.prototype.destroy=function(){this.signals.next.dispose();this.signals.previous.dispose();this.signals.home.dispose();this.signals.pause.dispose();this.removeChildren()};a.prototype.dispose=
a.prototype.destroy;a.prototype.resize=function(){};a.prototype.update=function(){};a.prototype.appear=function(){this.animateIn()};a.prototype.show=function(){this.animateIn()};a.prototype.hide=function(){};a.prototype.animateIn=function(a,c){c=c||window;a&&a.call(c)};a.prototype.animateOut=function(a,c){c=c||window;a&&a.call(c)}},{}],4:[function(d,e,g){function a(a){this.updateAll=!1;this.loadPath="";this.loadDelay=.9;this.signals={};this.signals.swap=new signals.Signal;this._view=new PIXI.Container;
this._renderer=a;this._stack=[];this._nextCrossfade=this._nextPreload=this._next=null;this._removeCount=0;this._nextTransition=this._transition=null;this._transitionInProgress=!1;this._preloader=null}var b=d("./AssetManager");d("./Scene");var c=d("./transitions/Transition");e.exports=a;a.prototype.update=function(){this.swap(!0);if(this._stack.length){if(this.updateAll)for(var a,b=this._stack.length-1;0<=b;--b)a=this._stack[b],a.update();else this.top.update();this._nextCrossfade&&this._nextCrossfade.update()}};
a.prototype.preload=function(a){var c=a.load();return!a.loaded&&0<c.length?(a=b.instance,a.addFiles(c,this.loadPath),a.signals.progress.add(this.onPreloaderProgress,this),a.signals.complete.add(this.onPreloaderComplete,this),a.load(),!0):!1};a.prototype.swap=function(){if(this._transition&&!this._transitionInProgress){var a=this._next;if(a){var b=a.load();if(!a.loaded&&0<b.length){this._nextPreload=a;this._nextTransition=this._transition;if(b=a.preloader())this._preloader=a=b;if(!a){this.preload(a);
return}}}var c=this._removeCount;b=this._transition;b.oldScene=this.top;b.newScene=a;this._transition=this._next=null;b.init();this._view.addChild(b);this._transitionInProgress=!0;b.signals["in"].addOnce(function(b){var f;this._preloader&&top==this._preloader&&(this.top.parent&&this.top.parent.removeChild(this.top),this.top.destroy(),this.top.unload(),this._stack.pop(),this._preloader=null);if(a){if(this.top)if(this.top.hide(),b.swap)this.top.parent&&this.top.parent.removeChild(this.top),this.top.destroy(),
this.top.unload(),this._stack.pop();else if(!b.push)for(;this.top;)this.top.parent&&this.top.parent.removeChild(this.top),this.top.destroy(),this.top.unload(),this._stack.pop();else if(b.replace)for(f=this._stack.length-1;0<=f;--f){var h=this._stack[f];h.parent&&h.parent.removeChild(h)}}else for(f=0;f<c;++f)this.top.hide(),this.top.parent&&this.top.parent.removeChild(this.top),this.top.destroy(),this.top.unload(),this._stack.pop();b.crossfade?(a?this._stack.push(a):a=this.top,!b.wait&&a.appear(),
this._nextCrossfade=null):(a?(a.init(),this._stack.push(a)):a=this.top,a.resize(),!a.parent&&this._view.addChildAt(a,b.parent.getChildIndex(b)),!b.wait&&a.appear());b.out();this.printActiveScenes()},this);b.signals.out.addOnce(function(b){this._transitionInProgress=!1;b.wait&&(c?a.show():a.appear());b.parent.removeChild(b);this._preloader!=a?b.destroy():(b.reset(),this.preload(this._nextPreload));this.signals.swap.dispatch()},this);b.crossfade&&(a?a.init():a=this.top,a.resize(),!a.parent&&this._view.addChildAt(a,
b.parent.getChildIndex(b)),this._nextCrossfade=a);b["in"]()}};a.prototype.printActiveScenes=function(){if(this._stack&&0!==this._stack.length){for(var a="[ ",b=0;b<this._stack.length;b++)a+=this._stack[b].constructor.name+" | ";a=a.substring(0,a.lastIndexOf(" | "));console.log(a+" ]")}};a.prototype.add=function(a,b){this._transitionInProgress||(this._next=a,this._transition=b||new c,this._removeCount=0,!this._transition.requiresWebGL||this._renderer instanceof PIXI.WebGLRenderer||(this._transition=
b.fallback(),this._transition.push=b.push,this._transition.replace=b.replace,this._transition.wait=b.wait))};a.prototype.remove=function(a,b){this._transitionInProgress||(this._next=null,this._transition=a||new c,this._removeCount=Math.max(1,b)||1,!this._transition.requiresWebGL||this._renderer instanceof PIXI.WebGLRenderer||(this._transition=a.fallback(),this._transition.push=a.push,this._transition.replace=a.replace,this._transition.wait=a.wait))};a.prototype.clear=function(){if(!this.transitionInProgress){for(var a,
b=0;b<this._stack.length;++b)a=this._stack[b],a.hide(),a.parent.removeChild(a),a.dispose();this._stack.length=0}};a.prototype.resize=function(){for(var a,b=0;b<this._stack.length;++b)a=this._stack[b],a.resize();this._transition&&this._transition.resize();this._nextCrossfade&&this._nextCrossfade.resize()};a.prototype.onPreloaderProgress=function(a){a=a.progress/100;this._preloader&&(this._preloader.loaded=a)};a.prototype.onPreloaderComplete=function(a){a=b.instance;a.signals.progress.remove(this.onPreloaderProgress);
a.signals.complete.remove(this.onPreloaderComplete);var c=this;setTimeout(function(){c._next=c._nextPreload;c._transition=c._nextTransition;c._nextPreload=null;c._nextTransition=null;c._next.loaded=!0},1E3*this.loadDelay)};Object.defineProperty(a.prototype,"view",{get:function(){return this._view}});Object.defineProperty(a.prototype,"renderer",{get:function(){return this._renderer}});Object.defineProperty(a.prototype,"top",{get:function(){return this._stack.length?this._stack[this._stack.length-1]:
null}});Object.defineProperty(a.prototype,"transitionInProgress",{get:function(){return this._transitionInProgress}})},{"./AssetManager":2,"./Scene":3,"./transitions/Transition":42}],5:[function(d,e,g){function a(b){this.maxElapsedMS=100;this._type=b||a.VARIABLE;this._lastTime=a.timeInSeconds;this._accumulator=0}e.exports=a;a.VERSION="2.0.0";a.VARIABLE="variable";a.SEMI_FIXED="semi_fixed";a.FIXED="fixed";a.deltaTime=1;a.speed=1;a.queue=[];a.queueCall=function(b,c,f){a.queue.push({func:b,args:c,scope:f})};
a.executeCalls=function(){for(var b,c=0;c<a.queue.length;++c)b=a.queue[c],b.func.apply(b.scope,b.args);a.queue.length=0};a.prototype.init=function(b,c,f){function h(){var h=window.performance.now();a.deltaTime=.001*Math.min(k.maxElapsedMS,h-k._lastTime)*a.speed;k._lastTime=h;a.executeCalls();b.call(f);c.call(f);requestAnimationFrame(g)}function d(){var h=.001*window.performance.now(),d=h-k._lastTime;k._lastTime=h;a.executeCalls();for(k._accumulator+=d;k._accumulator>=a.deltaTime;)b.call(f),k._accumulator-=
a.deltaTime;c.call(f);requestAnimationFrame(g)}function e(){a.executeCalls();b.call(f);c.call(f);requestAnimationFrame(g)}var k=this;switch(this._type){case a.VARIABLE:var g=h;this._lastTime=0;break;case a.SEMI_FIXED:g=d;this._accumulator=this._lastTime=0;a.deltaTime=1/60;break;case a.FIXED:g=e,a.deltaTime=1/60}requestAnimationFrame(g);window.onfocus=function(){k._lastTime=a.timeInSeconds}};Object.defineProperty(a,"frameInterval",{get:function(){return this._frameInterval}});Object.defineProperty(a,
"time",{get:function(){return window.performance.now()}});Object.defineProperty(a,"timeInSeconds",{get:function(){return a.time/1E3}})},{}],6:[function(d,e,g){function a(a){this.params=a;this.signals={};this.signals.ready=new signals.Signal;this.signals.resize=new signals.Signal;this._rotateImage=this._iosfix=this._canvas=this._holder=null;this._width=this.params.width;this._height=this.params.height;this._targetOrientation=this.orientation;if("complete"!==document.readyState)window.self.onload=this.onLoad.bind(this);
else this.onLoad()}var b=d("./utils/Device");d("./ViewParams");e.exports=a;a.holder=null;a.canvas=null;a.width=0;a.height=0;a.center=new PIXI.Point;a.inverseCanvasScale=function(a,b){b="string"===typeof b?1/b:1;return a*(1/(parseFloat(p3.View.holder.style.height)/parseFloat(p3.View.canvas.height)))*b};a.prototype.onLoad=function(){var a=this;setTimeout(function(){a.createHolder();a.createCanvas();a.createRotateImage();a.disableInteractions();b.isCocoonJS?(a.updateDimensions(window.innerWidth/a.params.width*
a.params.width/(window.innerHeight/a.params.height),a.params.height),a.signals.ready.dispatch(a._canvas)):(window.self.addEventListener("resize",a.onResize.bind(a),!1),a.signals.ready.dispatch(a._canvas),a.resize())},0)};a.prototype.onResize=function(){this.resize()};a.prototype.onOrientationChange=function(){function a(){window.self.removeEventListener("resize",a,!1);b.resize()}window.self.addEventListener("resize",a,!1);var b=this};a.prototype.createHolder=function(){b.isCocoonJS||(this._holder=
document.getElementById(this.params.holderId),this._holder||(this._holder=document.createElement("div"),this._holder.id=this.params.holderId?this.params.holderId:"game",document.body.appendChild(this._holder)),this._holder.style.position="absolute",this._holder.style.left="0px",this._holder.style.top="0px",this._holder.style.width=window.self.innerWidth+"px",this._holder.style.height=window.self.innerHeight+"px",a.holder=this._holder,p3.Device.isIOS&&(this._iosfix=document.createElement("div"),this._iosfix.id=
"iosfix",this._iosfix.style.position="absolute",this._iosfix.style.left="0px",this._iosfix.style.right="0px",this._iosfix.style.top="0px",this._iosfix.style.bottom="0px",this._iosfix.style.width="100%",this._iosfix.style.height=this._holder.height+1,this._iosfix.style.visibility="hidden",document.body.appendChild(this._iosfix),a.iosfix=this._iosfix))};a.prototype.createCanvas=function(){b.isCocoonJS?(this._canvas=document.createElement("screencanvas"),this._canvas.id="canvas",this._canvas.width=this.params.width,
this._canvas.height=this.params.height,this._canvas.style.cssText="idtkscale:ScaleAspectFill;",document.body.appendChild(this._canvas)):(this._canvas=document.createElement("canvas"),this._canvas.id="canvas",this._canvas.tabIndex=1,this._canvas.style.position="absolute",this._canvas.style.left="0px",this._canvas.style.right="0px",this._canvas.style.top="0px",this._canvas.style.bottom="0px",this._canvas.style.width="100%",this._canvas.style.height="100%",this._canvas.style.overflow="visible",this._canvas.style.display=
"block",this._holder.appendChild(this._canvas));a.canvas=this._canvas};a.prototype.createRotateImage=function(){b.isCocoonJS||(this._rotateImage=document.createElement("div"),this._rotateImage.id="rotateImage",this._rotateImage.style.position="absolute",this._rotateImage.style.left="0px",this._rotateImage.style.top="0px",this._rotateImage.style.width="100%",this._rotateImage.style.height="100%",this._rotateImage.style.marginLeft="auto",this._rotateImage.style.marginRight="0auto",this._rotateImage.style.overflow=
"visible",this._rotateImage.style.display="none",this._rotateImage.style.zIndex=1E3,this._rotateImage.style.backgroundImage="url("+this.params.rotateImageUrl+")",this._rotateImage.style.backgroundColor=this.params.rotateImageColor,this._rotateImage.style.backgroundPosition="50% 50%",this._rotateImage.style.backgroundRepeat="no-repeat",this._rotateImage.style.backgroundSize="auto 100%",this._holder.appendChild(this._rotateImage),this._rotateImage.addEventListener("touchmove",function(a){a.preventDefault();
return!1}),this._rotateImage.addEventListener("touchstart",function(a){a.preventDefault();return!1}),this._rotateImage.addEventListener("touchend",function(a){a.preventDefault();return!1}))};a.prototype.updateDimensions=function(b,f){a.width=this._width=Math.round(b);a.height=this._height=Math.round(f);a.center.x=Math.round(.5*b);a.center.y=Math.round(.5*f)};a.prototype.resize=function(){var a=b.isMobile?document.documentElement.clientWidth:window.innerWidth,f=b.isMobile?document.documentElement.clientHeight:
window.innerHeight;b.isIframe?(this._holder.style.width="100%",this._holder.style.height="100%"):(this._holder.style.width=a+"px",this._holder.style.height=f+"px");p3.Device.isIOS&&(this._iosfix.style.height=parseInt(this._holder.style.height)+1+"px");window.scrollTo(0,0);this.params.aspectRatioFillHeight?(a/=this.params.width,f=this.params.height/f,this.updateDimensions(Math.floor(this.params.width*a*f),this.params.height)):(a=this.params.width/a,f/=this.params.height,this.updateDimensions(this.params.width,
Math.floor(this.params.height*f*a)));this.toggleRotate(!this.isCorrectOrientation());this.signals.resize.dispatch(this.isCorrectOrientation())};a.prototype.toggleRotate=function(a){this._canvas.style.display=a?"none":"block";this._rotateImage.style.display=a?"block":"none"};a.prototype.isCorrectOrientation=function(){return b.isMobile?this.orientation===this._targetOrientation:!0};a.prototype.disableInteractions=function(){a.canvas.addEventListener("touchmove",function(a){a.preventDefault();return!1});
a.canvas.addEventListener("touchstart",function(a){a.preventDefault();return!1});a.canvas.addEventListener("touchend",function(a){a.preventDefault();return!1});b.isAndroidStockBrowser&&(a.canvas.addEventListener("mousedown",function(a){a.stopPropagation();a.preventDefault();a.stopImmediatePropagation()},!1),a.canvas.addEventListener("mouseup",function(a){a.stopPropagation();a.preventDefault();a.stopImmediatePropagation()},!1),a.canvas.addEventListener("click",function(a){a.stopPropagation();a.preventDefault();
a.stopImmediatePropagation()},!1))};Object.defineProperty(a.prototype,"holder",{get:function(){return this._holder}});Object.defineProperty(a.prototype,"orientation",{get:function(){return this._width>=this._height?"landscape":"portrait"}})},{"./ViewParams":7,"./utils/Device":44}],7:[function(d,e,g){e.exports=function(){this.height=this.width=0;this.rotateImageUrl=this.holderId="";this.rotateImageColor="#FFFFFF";this.aspectRatioFillHeight=!0}},{}],8:[function(d,e,g){d("./../utils/Utils");var a=d("./../utils/Device"),
b=function(){if(!b.__allowInstance)throw Error("AudioManager is a Singleton, use 'getInstance()'.");this.signalMute=new signals.Signal;this.SOUND_GROUP_SFX="sound_group_sfx";this.SOUND_GROUP_MUSIC="sound_group_music";this.SOUND_GROUP_VO="sound_group_vo";this.LOCAL_STORAGE_ID="p3Mute";this._sounds={};this._soundsSFX=[];this._soundsVO=[];this._soundsMusic=[];this._previouslyPlayedSound=null;this._isMuteVO=this._isMuteMusic=this._isMuteSFX=this._isMute=!1;var a;"undefined"!=typeof document.hidden?(a=
"hidden",this.visibilityChange="visibilitychange"):"undefined"!=typeof document.mozHidden?(a="mozHidden",this.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(a="msHidden",this.visibilityChange="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(a="webkitHidden",this.visibilityChange="webkitvisibilitychange");document.addEventListener(this.visibilityChange,function(){document[a]?Howler.volume(0):Howler.volume(1)},!1)};b.prototype.constructor=b;e.exports=
b;b.instance=null;Object.defineProperty(b,"instance",{get:function(){b.__instance||(b.__allowInstance=!0,b.__instance=new b,b.__allowInstance=!1);return b.__instance}});b.__instance=null;b.__allowInstance=!1;b.DEBUG=!1;b.FADE_OUT_DURATION=.5;b.prototype.addSounds=function(a,b,h){h=h||"";for(var c=0;c<a.length;c++){var f=h+a[c],d=f.split("/"),e=d[d.length-1];d=[];for(var g=0;g<b.length;g++)d.push(f+b[g]);f=new Howl({src:d,volume:1,loop:!1,autoplay:!1,onload:function(){},onloaderror:function(){p3.SoundManager.DEBUG&&
console.warn("[AudioManager] Error loading sound:",e)}});f.name=e;this._sounds[e]=f}};b.prototype.removeSounds=function(a){for(var b=0;b<a.length;b+=1){var c=a[b],d;for(d in this._sounds)if(this._sounds.hasOwnProperty(d)){var e=this._sounds[d];if(e.name===c){e.unload();this._sounds[d]=null;delete this._sounds[d];break}}}};b.prototype.playSound=function(a,f){var c=this._checkSoundAlreadyPlaying(a,this._soundsSFX);if(c)return c.play(),c;c=this._play(a,f,this.SOUND_GROUP_SFX);if(!c)return null;this._soundsSFX.push(c);
b.DEBUG&&console.log("[AudioManager] Playing Sound:",a);return c};b.prototype.playMusic=function(a,f){var c=this._checkSoundAlreadyPlaying(a,this._soundsMusic);if(c)return c;f=f||{};f.loop="undefined"!==typeof f.loop?f.loop:!0;f.fadeIn=f.fadeIn||1;c=this._play(a,f,this.SOUND_GROUP_MUSIC);if(!c)return null;this._soundsMusic.push(c);b.DEBUG&&console.log("[AudioManager] Playing Music:",a);return c};b.prototype.playVO=function(a,f){var c=this._checkSoundAlreadyPlaying(a,this._soundsVO);if(c)return c;
c=this._play(a,f,this.SOUND_GROUP_VO);if(!c)return null;this._soundsVO.push(c);b.DEBUG&&console.log("[AudioManager] Playing VO:",a);return c};b.prototype.mute=function(a){this._isMute=a;this.muteSFX(this._isMute);this.muteMusic(this._isMute);this.muteVO(this._isMute);a?Howler.mute(!0):Howler.mute(!1);this.signalMute.dispatch(this._isMute)};b.prototype.muteSFX=function(a){this._isMute=this._isMuteSFX=a;this._updateSoundMuteStatus(this._isMuteSFX,this._soundsSFX);b.DEBUG&&console.log("[AudioManager] MuteSFX:",
this._isMuteSFX)};b.prototype.muteMusic=function(a){this._isMute=this._isMuteMusic=a;this._updateSoundMuteStatus(this._isMuteMusic,this._soundsMusic);b.DEBUG&&console.log("[AudioManager] MuteMusic:",this._isMuteMusic)};b.prototype.muteVO=function(a){this._sMute=this._isMuteVO=a;this._updateSoundMuteStatus(this._isMuteVO,this._soundsVO);b.DEBUG&&console.log("[AudioManager] MuteVO:",this._isMuteVO)};b.prototype.toggleMute=function(){this.mute(!this.isMute)};b.prototype.stopSound=function(a){for(var c=
[this._soundsSFX,this._soundsVO,this._soundsMusic],h=0;h<c.length;h++){var d=this._checkSoundAlreadyPlaying(a,c[h]);if(d){d.stop();return}}b.DEBUG&&console.log("[SoundManager] StopSound: Could not find sound to stop it:",a)};b.prototype._saveMuteStatus=function(){try{localStorage.setItem(this.LOCAL_STORAGE_ID,this._isMute)}catch(c){"QUOTA_EXCEEDED_ERR"==c?p3.SoundManager.DEBUG&&console.log("Error trying to write to local storage. Quota exceeded. "):p3.SoundManager.DEBUG&&console.log("Error trying to write to local storage.")}};
b.prototype._play=function(c,f,h){var d=this,e=c;f=f||{};f.volume=f.volume||1;f.loop="undefined"!==typeof f.loop?f.loop:!1;f.delay=f.delay||0;f.fadeIn="undefined"!==typeof f.fadeIn?1E3*f.fadeIn:0;f.onComplete=f.onComplete||null;f.onCompleteScope=f.onCompleteScope||window;f.dontRepeat="undefined"!==typeof f.dontRepeat?f.dontRepeat:!0;if("string"!==typeof c)if(0<=c.length)if(1<c.length){e=Math.floor(Math.random()*c.length);if(f.dontRepeat)for(var g=0;e===this._previouslyPlayedSound;)if(e=Math.floor(Math.random()*
c.length),g++,10<g){e=0;break}this._previouslyPlayedSound=e=c[e]}else e=c[0];else throw Error("[AudioManager] Sound is not a string or array: ",c);for(var n in this._sounds)if(this._sounds.hasOwnProperty(n)&&(g=this._sounds[n],g.name===e)){var l=g;break}if(l){l.volume(f.volume);l.loop(f.loop);a&&a.isAndroidStockBrowser&&(l.buffer=!0);l.on("end",function(){this.off("end");f.loop||d._removeSoundFromArray(this,h);f.onComplete&&f.onComplete.call(f.onCompleteScope);b.DEBUG&&console.log("[AudioManager] Sound ended:",
this.name)});switch(h){case this.SOUND_GROUP_SFX:c=this._isMuteSFX;break;case this.SOUND_GROUP_MUSIC:c=this._isMuteMusic;this._stopExistingSound(h,f.fadeIn);break;case this.SOUND_GROUP_VO:c=this._isMuteVO;this._stopExistingSound(h,f.fadeIn);break;default:c=!1}c&&(l.mute(),f.fadeIn=0);0===f.delay?0===f.fadeIn?l.play():l.fadeIn(f.volume,f.fadeIn):setTimeout(function(){0===f.fadeIn?l.play():l.fadeIn(f.volume,f.fadeIn)},1E3*f.delay);return l}console.warn("[AudioManager] Could not find the sound:",c)};
b.prototype._stopExistingSound=function(a,b){if(a===this.SOUND_GROUP_MUSIC)var c=this._soundsMusic;else if(a===this.SOUND_GROUP_VO)c=this._soundsVO,b=0;else return;if(0<c.length)for(var f=0;f<c.length;f+=1){var d=c[f];this._removeSoundFromArray(d,a);0===b?d.stop():d.fadeOut(0,b,function(){d.stop()})}};b.prototype._removeSoundFromArray=function(a,b){switch(b){case this.SOUND_GROUP_SFX:var c=this._soundsSFX;break;case this.SOUND_GROUP_MUSIC:c=this._soundsMusic;break;case this.SOUND_GROUP_VO:c=this._soundsVO}for(var f=
0,d=c.length;f<d;f++){var e=c[f];e&&e.name===a.name&&c.splice(f,1)}};b.prototype._updateSoundMuteStatus=function(a,b){for(var c=b.length,f=0;f<c;f+=1){var d=b[f];a?d.mute(!0):d.mute(!1)}};b.prototype._checkSoundAlreadyPlaying=function(a,b){for(var c=0,f=b.length;c<f;c+=1){var d=b[c];if(d.name===a)return d}return null};b.prototype._onBlur=function(){Howler.mute(!0)};b.prototype._onFocus=function(){this._isMute||Howler.mute(!1)};b.prototype.isMute=!1;b.prototype.isMuteSFX=!1;b.prototype.isMuteMusic=
!1;b.prototype.isMuteVO=!1;b.prototype.sounds=!1;Object.defineProperty(b.prototype,"isMute",{get:function(){return this._isMute}});Object.defineProperty(b.prototype,"isMuteSFX",{get:function(){return this._isMuteSFX}});Object.defineProperty(b.prototype,"isMuteMusic",{get:function(){return this._isMuteMusic}});Object.defineProperty(b.prototype,"isMuteVO",{get:function(){return this._isMuteVO}});Object.defineProperty(b.prototype,"sounds",{get:function(){return this._sounds}});Object.defineProperty(b.prototype,
"soundsSFX",{get:function(){return this._soundsSFX}});Object.defineProperty(b.prototype,"soundsMusic",{get:function(){return this._soundsMusic}});Object.defineProperty(b.prototype,"soundsVO",{get:function(){return this._soundsVO}})},{"./../utils/Device":44,"./../utils/Utils":48}],9:[function(d,e,g){function a(a,b){this.view=a||new PIXI.Point;this.targetOffset=new PIXI.Point;this.bounds=new PIXI.Rectangle(-(.5*Number.MAX_VALUE),-(.5*Number.MAX_VALUE),Number.MAX_VALUE,Number.MAX_VALUE);this.snapToPixelEnabled=
b||!0;this.signals={};this.signals.trackStart=new signals.Signal;this.signals.trackFinish=new signals.Signal;this._position=new PIXI.Point(-this.view.x,-this.view.y);this._trackEaseY=this._trackEaseX=.2;this._trackParallax=new PIXI.Point(c.FULL,c.FULL);this._target=null;this._targetPos=new PIXI.Point;this._layers={};this._tracking=!1;this._shakeStrength=this._shakeTime=this._shakeDuration=0}var b=d("./CameraLayer"),c=d("./CameraParallax");e.exports=a;a.VERSION="1.1.0";a.prototype.destroy=function(){this.signals.trackStart.removeAll();
this.signals.trackFinish.removeAll();this._layers={}};a.prototype.dispose=a.prototype.destroy;a.prototype.update=function(){void 0!=this._target&&(this._targetPos.x=this._target.x+this.targetOffset.x,this._targetPos.y=this._target.y+this.targetOffset.y);this._targetPos.x<this.bounds.x?this._targetPos.x=this.bounds.x:this._targetPos.x>this.bounds.width&&(this._targetPos.x=this.bounds.width);this._targetPos.y<this.bounds.y?this._targetPos.y=this.bounds.y:this._targetPos.y>this.bounds.height&&(this._targetPos.y=
this.bounds.height);0<this._shakeTime&&(this._targetPos.x+=this._shakeStrength*p3.Utils.randomInt(-1,1)*(this._shakeTime/this._shakeDuration),this._targetPos.y+=this._shakeStrength*p3.Utils.randomInt(-1,1)*(this._shakeTime/this._shakeDuration),this._shakeTime=Math.max(0,this._shakeTime-p3.Timestep.deltaTime));var a=this._targetPos.x-this.view.x-this._position.x*this._trackParallax.x,b=this._targetPos.y-this.view.y-this._position.y*this._trackParallax.y;this._position.x+=1/this._trackParallax.x*a*
this._trackEaseX;this._position.y+=1/this._trackParallax.y*b*this._trackEaseY;.01>Math.abs(a)&&(this._position.x=this._targetPos.x-this.view.x);.01>Math.abs(b)&&(this._position.y=this._targetPos.y-this.view.y);this.snapToPixelEnabled&&(this._position.x=Math.round(this._position.x),this._position.y=Math.round(this._position.y));a=a*a+b*b;.1>a&&!this._tracking?(this._tracking=!0,this.signals.trackFinish.dispatch(this)):.1<a&&this._tracking&&(this._tracking=!1,this.signals.trackStart.dispatch(this));
this.updateLayers()};a.prototype.trackTarget=function(a,b){if(void 0!=a&&(void 0==a.x||void 0==a.y))throw Error("Camera target is invalid!");this._target=a;var c=this.findLayerForObject(this._target);this._trackParallax.x=c?c.parallax.x:1;this._trackParallax.y=c?c.parallax.y:1;b&&(this._targetPos.x=this._target.x+this.targetOffset.x,this._targetPos.y=this._target.y+this.targetOffset.y,this._targetPos.x<this.bounds.x?this._targetPos.x=this.bounds.x:this._targetPos.x>this.bounds.width&&(this._targetPos.x=
this.bounds.width),this._targetPos.y<this.bounds.y?this._targetPos.y=this.bounds.y:this._targetPos.y>this.bounds.height&&(this._targetPos.y=this.bounds.height),this.position=new PIXI.Point(this._targetPos.x-this.view.x,this._targetPos.y-this.view.y))};a.prototype.trackPosition=function(a,b,c){this._target=null;this._targetPos.x=a;this._targetPos.y=b;this._trackParallax.x=1;this._trackParallax.y=1;c&&(this._targetPos.x<this.bounds.x?this._targetPos.x=this.bounds.x:this._targetPos.x>this.bounds.width&&
(this._targetPos.x=this.bounds.width),this._targetPos.y<this.bounds.y?this._targetPos.y=this.bounds.y:this._targetPos.y>this.bounds.height&&(this._targetPos.y=this.bounds.height),this.position=new PIXI.Point(this._targetPos.x-this.view.x,this._targetPos.y-this.view.y))};a.prototype.addLayer=function(a,c,d){if(this.hasLayer(a))throw Error("Layer with that name already exists: '"+a+"'.");if(this.hasContainer(a))throw Error("Container already added to existing layer!");d.x="undefined"!==typeof d?d.x:
1;d.y="undefined"!==typeof d?d.y:1;var f=new b;f.container=c;f.parallax=new PIXI.Point(d.x,d.y);this._layers[a]=f;this.updateLayers();return f};a.prototype.removeLayer=function(a){if(!this.hasLayer)throw Error("Layer does not exist!");this._layers[a]=null};a.prototype.removeAllLayers=function(){this._layers={}};a.prototype.hasLayer=function(a){return void 0!=this._layers[a]};a.prototype.hasContainer=function(a){for(var b,c=0;c<this._layers.length;++c)if(b=this._layers[c],b.container==a)return!0;return!1};
a.prototype.findLayerForObject=function(a){var b,c=null,f;for(f in this._layers)if(this._layers.hasOwnProperty(f)){var d=this._layers[f];var e=d.container.children.length;for(b=0;b<e;++b){var g=d.container.getChildAt(b);a==g&&(c=d)}}return c};a.prototype.shake=function(a,b){this._shakeStrength=b;this._shakeTime=this._shakeDuration=a};a.prototype.getLayerByName=function(a){var b=this._layers[a];if(b)return b;throw Error("Layer does not exist: '"+a+"'!");};a.prototype.updateLayers=function(){for(var a in this._layers)if(this._layers.hasOwnProperty(a)){var b=
this._layers[a];b.container.x=-this._position.x*b.parallax.x;b.container.y=-this._position.y*b.parallax.y}};Object.defineProperty(a.prototype,"target",{get:function(){return this._target}});Object.defineProperty(a.prototype,"position",{get:function(){return this._position},set:function(a){this._position.x=a.x*(0<this._trackParallax.x?1/this._trackParallax.x:1);this._position.y=a.y*(0<this._trackParallax.y?1/this._trackParallax.y:1);this.updateLayers()}});Object.defineProperty(a.prototype,"trackEase",
{get:function(){return this._trackEaseX},set:function(a){this._trackEaseY=this._trackEaseX=Math.max(.001,Math.min(1,a))}});Object.defineProperty(a.prototype,"trackEaseX",{get:function(){return this._trackEaseX},set:function(a){this._trackEaseX=Math.max(.001,Math.min(1,a))}});Object.defineProperty(a.prototype,"trackEaseY",{get:function(){return this._trackEaseY},set:function(a){this._trackEaseY=Math.max(.001,Math.min(1,a))}})},{"./CameraLayer":10,"./CameraParallax":11}],10:[function(d,e,g){e.exports=
function(){this.parallax=this.container=null}},{}],11:[function(d,e,g){function a(){}e.exports=a;a.NONE=0;a.HALF=.5;a.FULL=1},{}],12:[function(d,e,g){function a(a,c,f,d){this.blendStrength=c||0;this.blendColor=f||16777215;this._blendPasses=Math.max(1,d)||2;PIXI.Sprite.call(this,a)}e.exports=a;a.prototype=Object.create(PIXI.Sprite.prototype);a.prototype.constructor=a;a.prototype._renderWebGL=function(a){"4.0.0"==PIXI.VERSION&&this.calculateVertices();a.setObjectRenderer(a.plugins.sprite);a.plugins.sprite.render(this);
if(0<this.blendStrength){a.plugins.sprite.flush();var b=this.worldAlpha,f=this.tint;this.worldAlpha=b*this.blendStrength;this.blendMode=PIXI.BLEND_MODES.ADD;this.tint=this.blendColor;for(var d=0;d<this._blendPasses;++d)a.plugins.sprite.render(this);a.plugins.sprite.flush();this.worldAlpha=b;this.blendMode=PIXI.BLEND_MODES.NORMAL;this.tint=f}};Object.defineProperty(a.prototype,"blendPasses",{get:function(){return this._blendPasses},set:function(a){this._blendPasses=Math.max(1,a)}})},{}],13:[function(d,
e,g){function a(a){this.animate=!1;this.defaultScale=new PIXI.Point(1,1);this.animateOverScale=new PIXI.Point(1.1,1.1);this.animateDownScale=new PIXI.Point(.9,.9);this.clickSoundName=this.downSoundName=this.overSoundName=this.upSoundName=null;this.signals={};this.signals.down=new signals.Signal;this.signals.up=new signals.Signal;this.signals.over=new signals.Signal;this.signals.out=new signals.Signal;this.signals.click=new signals.Signal;this.signals.animate=new signals.Signal;this._states=a;this._background=
new PIXI.Sprite(this._states.normal);this._icon=new PIXI.Sprite(this._states.icon||PIXI.Texture.EMPTY);this._currentNormalTexture=this._states.normal;this._currentOverTexture=this._states.over;this._currentDownTexture=this._states.down;this._currentIconTexture=this._states.icon;this._currentIconOverTexture=this._states.iconOver;this._currentIconDownTexture=this._states.iconDown;this._tweenDown=this._tweenOut=this._tweenOver=null;this._enabled=!0;PIXI.Container.call(this);this.buttonMode=this.interactive=
!0;this.mousedown=this.touchstart=this.onMouseDown.bind(this);this.mouseup=this.touchend=this.onMouseUp.bind(this);this.mouseupoutside=this.touchendoutside=this.onMouseOut.bind(this);this.click=this.tap=this.onMouseClick.bind(this);this.mouseover=this.onMouseOver.bind(this);this.mouseout=this.onMouseOut.bind(this);this._background.anchor=new PIXI.Point(.5,.5);this.addChild(this._background);this._icon.anchor=new PIXI.Point(.5,.5);this.addChild(this._icon)}var b=d("./ButtonStates"),c=d("./../utils/Device");
e.exports=a;a.prototype=Object.create(PIXI.Container.prototype);a.prototype.constructor=a;a.create=function(c,d,e,g){c=new b(c,d,e,g);return new a(c)};a.audio=null;a.prototype.init=function(){};a.prototype.destroy=function(){TweenMax.killTweensOf(this);TweenMax.killTweensOf(this.scale);this.removeChildren();this.signals.up.dispose();this.signals.down.dispose();this.signals.over.dispose();this.signals.out.dispose();this.signals.click.dispose();this.signals.animate.dispose()};a.prototype.dispose=a.prototype.destroy;
a.prototype.onMouseDown=function(b){this._states.down&&(this._background.texture=this._currentDownTexture);this._states.iconDown&&(this._icon.texture=this._currentIconDownTexture);if(this.animate){var c=TweenMax.getTweensOf(this,!0);(-1<c.indexOf(this._tweenOver)?c.length-1:c.length)||(this._tweenOver&&(this._tweenOver.kill(),this._tweenOver=null),this._tweenDown=this.animateDown())}a.audio&&this.downSoundName&&a.audio.playSound(this.downSoundName);this._enabled&&this.signals.down.dispatch(this,b)};
a.prototype.onMouseUp=function(b){this._background.texture=this._states.over&&!p3.Device.isMobile?this._currentOverTexture:this._currentNormalTexture;this._states.iconOver&&!p3.Device.isMobile?this._icon.texture=this._currentIconOverTexture:this._states.icon&&(this._icon.texture=this._currentIconTexture);this.animate&&this._tweenDown&&(this._tweenDown&&(this._tweenDown.kill(),this._tweenDown=null),this._tweenOver=p3.Device.isMobile?this.animateOut():this.animateOver());a.audio&&this.upSoundName&&
a.audio.playSound(this.upSoundName);this._enabled&&this.signals.up.dispatch(this,b)};a.prototype.onMouseOver=function(b){this._states.over&&(this._background.texture=this._currentOverTexture);this._states.iconOver&&(this._icon.texture=this._currentIconOverTexture);this.animate&&!c.isMobile&&-1==TweenMax.getTweensOf(this,!0).indexOf(this._tweenOver)&&(this._tweenOut&&(this._tweenOut.kill(),this._tweenOut=null),this._tweenOver=this.animateOver());a.audio&&this.overSoundName&&a.audio.playSound(this.overSoundName);
this._enabled&&this.signals.over.dispatch(this,b)};a.prototype.onMouseOut=function(b){this._background.texture=this._currentNormalTexture;this._states.icon&&(this._icon.texture=this._currentIconTexture);if(this._tweenOver||this._tweenDown){var c=TweenMax.getTweensOf(this,!0);-1==c.indexOf(this._tweenOut)&&(this._tweenOver&&(this._tweenOver.kill(),this._tweenOver=null),this._tweenOut=this.animateOut());-1==c.indexOf(this._tweenDown)&&(this._tweenDown&&(this._tweenDown.kill(),this._tweenDown=null),
this._tweenOut=this.animateOut())}a.audio&&this.upSoundName&&a.audio.playSound(this.upSoundName);this._enabled&&this.signals.out.dispatch(this,b)};a.prototype.onMouseClick=function(b){a.audio&&this.clickSoundName&&a.audio.playSound(this.clickSoundName);this._enabled&&this.signals.click.dispatch(this,b)};a.prototype.animateOver=function(){return TweenMax.to(this.scale,.6,{x:this.defaultScale.x*this.animateOverScale.x,y:this.defaultScale.y*this.animateOverScale.y,ease:Elastic.easeOut,easeParams:[1],
onComplete:function(){this.signals.animate.dispatch(this,"over")},onCompleteScope:this})};a.prototype.animateOut=function(){return TweenMax.to(this.scale,.3,{x:this.defaultScale.x,y:this.defaultScale.y,ease:Back.easeInOut,easeParams:[2],onComplete:function(){this.signals.animate.dispatch(this,"out")},onCompleteScope:this})};a.prototype.animateDown=function(){return TweenMax.to(this.scale,.14,{x:this.defaultScale.x*this.animateDownScale.x,y:this.defaultScale.y*this.animateDownScale.y,ease:Back.easeOut,
easeParams:[1],onComplete:function(){this.signals.animate.dispatch(this,"down")},onCompleteScope:this})};a.prototype.stopAnimations=function(){var a=TweenMax.getTweensOf(this,!0);-1==a.indexOf(this._tweenOver)&&(this._tweenOut&&(this._tweenOut.kill(),this._tweenOut=null),this._tweenOver=this.animateOver());-1==a.indexOf(this._tweenOut)&&this._tweenOver&&(this._tweenOver.kill(),this._tweenOver=null);-1==a.indexOf(this._tweenDown)&&this._tweenDown&&(this._tweenDown.kill(),this._tweenDown=null)};Object.defineProperty(a.prototype,
"states",{get:function(){return this._states}});Object.defineProperty(a.prototype,"currentNormalTexture",{get:function(){return this._currentNormalTexture}});Object.defineProperty(a.prototype,"currentOverTexture",{get:function(){return this._currentOverTexture}});Object.defineProperty(a.prototype,"currentDownTexture",{get:function(){return this._currentDownTexture}});Object.defineProperty(a.prototype,"currentIconTexture",{get:function(){return this._currentIconTexture}});Object.defineProperty(a.prototype,
"enabled",{get:function(){return this._enabled},set:function(a){this._currentNormalTexture=(this._enabled=a)||!this._states.normalInactive?this._states.normal:this._states.normalInactive;this._currentOverTexture=a||!this._states.overInactive?this._states.over:this._states.overInactive;this._currentDownTexture=a||!this._states.downInactive?this._states.down:this._states.downInactive;this._currentIconTexture=a||!this._states.iconInactive?this._states.icon:this._states.iconInactive;this._currentIconOverTexture=
a||!this._states.iconOverInactive?this._states.iconOver:this._states.iconOverInactive;this._currentIconDownTexture=a||!this._states.iconDownInactive?this._states.iconDown:this._states.iconDownInactive;this._currentNormalTexture&&(this._background.texture=this._currentNormalTexture);this._currentIconTexture&&(this._icon.texture=this._currentIconTexture)}});Object.defineProperty(a.prototype,"tint",{get:function(){return this._background.tint},set:function(a){this._background.tint=a;this._icon.tint=
a}})},{"./../utils/Device":44,"./ButtonStates":14}],14:[function(d,e,g){e.exports=function(a,b,c,f){this.normal=a;this.over=b||null;this.down=c||null;this.icon=f||null;this.iconInactiveAlt=this.downInactiveAlt=this.overInactiveAlt=this.normalInactiveAlt=this.iconDownInactive=this.iconOverInactive=this.iconInactive=this.downInactive=this.overInactive=this.normalInactive=this.iconDownAlt=this.iconOverAlt=this.iconAlt=this.downAlt=this.overAlt=this.normalAlt=this.iconDown=this.iconOver=null}},{}],15:[function(d,
e,g){function a(a,f){this.defaultAnimation=f||"default";this.animationSpeed=24;this.looping=this.playing=!1;this.signals={};this.signals.animation=new signals.Signal;this.signals.animationComplete=new signals.Signal;this._frames={};this._lastFrame=this._currentFrame=0;this._currentAnimationName=this.defaultAnimation;var c=a.textures[this.defaultAnimation]?a.textures[this.defaultAnimation][0]:PIXI.Texture.EMPTY;if(!c)throw Error("No default texture found!");for(var d in a.textures)if(a.textures.hasOwnProperty(d)){this._frames[d]=
[];for(var e=0;e<a.textures[d].length;++e)this._frames[d].push({texture:a.textures[d][e],callback:null,scope:null})}b.call(this,c)}var b=d("./AdditiveSprite");d("./MovieClipSequence");e.exports=a;a.prototype=Object.create(b.prototype);a.prototype.constructor=a;a.prototype.destroy=function(){this.signals.animation.dispose();this.signals.animationComplete.dispose()};a.prototype.dispose=a.prototype.destroy;a.prototype.play=function(a){"boolean"==typeof a&&(this.looping=a);this.playing=!0};a.prototype.stop=
function(a){"boolean"==typeof a&&(this.looping=a);this.playing=!1};a.prototype.gotoAndPlay=function(a,b){"string"!=typeof a?this._currentFrame=this._lastFrame=a:this._frames[a]&&(this._currentFrame=this._lastFrame=0,this._currentAnimationName=a);"boolean"==typeof b&&(this.looping=b);this.playing=!0};a.prototype.gotoAndStop=function(a,b){"string"!=typeof a?this._currentFrame=a:this._frames[a]&&(this._currentFrame=0,this._currentAnimationName=a);"boolean"==typeof b&&(this.looping=b);this.playing=!1;
var c=this._frames[this._currentAnimationName];this.texture=c[(this._currentFrame+.5|0)%c.length].texture};a.prototype.addFrameScript=function(a,b,d,e){e=e||window;this._frames[a]&&(this._frames[a][b].callback=d,this._frames[a][b].scope=d?e:null)};a.prototype.updateTransform=function(){PIXI.Sprite.prototype.updateTransform.call(this);if(this.playing&&this.totalFrames){this._currentFrame+=this.animationSpeed*p3.Timestep.deltaTime;var a=this._frames[this._currentAnimationName],b=this._currentFrame+
.5|0,d=b%(a.length+1);this._currentFrame%=a.length;0<d&&d!=this._lastFrame&&(this._lastFrame=d,a[d-1].callback&&setTimeout(function(){a[d-1].callback.call(a[d-1].scope)},0));this.looping||b<a.length?(this.texture=a[b%a.length].texture,b>=a.length-1&&p3.Timestep.queueCall(this.signals.animation.dispatch,[this._currentAnimationName])):b>=a.length-1&&(this.gotoAndStop(a.length-1),p3.Timestep.queueCall(this.signals.animationComplete.dispatch,[this._currentAnimationName]))}};Object.defineProperty(a.prototype,
"currentFrame",{get:function(){return this._currentFrame}});Object.defineProperty(a.prototype,"currentAnimationFrame",{get:function(){return this._currentAnimationName}});Object.defineProperty(a.prototype,"totalFrames",{get:function(){var a=this._frames[this.defaultAnimation];return a?a.length:0}})},{"./AdditiveSprite":12,"./MovieClipSequence":16}],16:[function(d,e,g){function a(a,c){this.textures={};a&&this.addTextures(a,c)}e.exports=a;a.prototype.addTextures=function(a,c){this.textures[c||"default"]=
a};a.prototype.removeTextures=function(a){this.textures[a||"default"]=null};a.prototype.removeAllTextures=function(){this.textures={}}},{}],17:[function(d,e,g){function a(a){b.call(this,a)}var b=d("./Button");d("./ButtonStates");e.exports=a;a.prototype=Object.create(b.prototype);a.prototype.constructor=a;a.prototype.onMouseClick=function(a){this._currentIconTexture=this.isEnabled()?this._states.iconAlt:this._states.icon;this._currentIconOverTexture=this.isEnabled()?this._states.iconOverAlt:this._states.iconOver;
this._currentIconDownTexture=this.isEnabled()?this._states.iconDownAlt:this._states.iconDown;this._icon.texture=this._states.iconOver&&!p3.Device.isMobile?this._currentIconOverTexture:this._currentIconTexture;b.audio&&b.audio.mute(!b.audio.isMute);b.prototype.onMouseClick.call(this,a)};a.prototype.isEnabled=function(){return!!b.audio&&!b.audio.isMute}},{"./Button":13,"./ButtonStates":14}],18:[function(d,e,g){function a(a){this._toggled=!1;b.call(this,a)}var b=d("./Button");d("./ButtonStates");e.exports=
a;a.prototype=Object.create(b.prototype);a.prototype.constructor=a;a.prototype.onMouseDown=function(a){this._toggled=!this._toggled;this._currentNormalTexture=this.isToggled()?this._states.normalAlt:this._states.normal;this._currentOverTexture=this.isToggled()?this._states.overAlt:this._states.over;this._currentDownTexture=this.isToggled()?this._states.downAlt:this._states.down;this._currentIconTexture=this.isToggled()?this._states.iconAlt:this._states.icon;this._currentIconOverTexture=this.isToggled()?
this._states.iconOverAlt:this._states.iconOver;this._currentIconDownTexture=this.isToggled()?this._states.iconDownAlt:this._states.iconDown;b.prototype.onMouseDown.call(this,a)};a.prototype.isToggled=function(){return this._toggled}},{"./Button":13,"./ButtonStates":14}],19:[function(d,e,g){function a(a,c,f){c=c||.5;f=f||new PIXI.Point(1,1);PIXI.Filter.call(this,null,"precision mediump float;varying vec2 vTextureCoord;varying vec4 vColor;uniform sampler2D uCutoutMap;uniform float uScale;uniform vec2 uRatio;void main(void) {vec2 textureCoord  = (((vTextureCoord - vec2(0.5, 0.5)) * uRatio) * uScale) + vec2(0.5, 0.5);vec4 mask          = texture2D(uCutoutMap, textureCoord);float alpha        = 1.0 - mask.a;gl_FragColor       = vec4(vColor.r * alpha, vColor.g * alpha, vColor.b * alpha, vColor.a * alpha);}",
{uCutoutMap:{type:"sampler2D",value:a},uScale:{type:"f",value:1/Math.max(.001,c)},uRatio:{type:"v2",value:{x:f.x,y:f.y}}});a.baseTexture.isPowerOfTwo=!1}e.exports=a;a.prototype=Object.create(PIXI.Filter.prototype);a.prototype.constructor=a;Object.defineProperty(a.prototype,"scale",{get:function(){return 1/this.uniforms.uScale.value},set:function(a){this.uniforms.uScale.value=1/Math.max(.001,a)}});Object.defineProperty(a.prototype,"ratio",{get:function(){return new PIXI.Point(this.uniforms.uRatio.value.x,
this.uniforms.uRatio.value.y)},set:function(a){this.uniforms.uRatio.value.x=a.x;this.uniforms.uRatio.value.y=a.y}})},{}],20:[function(d,e,g){function a(a,c,f,d){PIXI.Filter.call(this,null,"precision mediump float;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nuniform sampler2D uSampler;\nuniform float uStrength;\nuniform vec3 uRatio;\nvoid main (void) {\nvec4 color = texture2D(uSampler, vTextureCoord);\nif (uStrength > 0.0) {\nfloat intensity     = uRatio.x * color.x + uRatio.y * color.y + uRatio.z * color.z;\ncolor.x             = intensity * uStrength + color.x * (1.0 - uStrength);\ncolor.y             = intensity * uStrength + color.y * (1.0 - uStrength);\ncolor.z             = intensity * uStrength + color.z * (1.0 - uStrength);\n}\ngl_FragColor = color;\n}",
{uStrength:{type:"1f",value:a},uRatio:{type:"3fv",value:[void 0!=c?c:.3,void 0!=f?f:.59,void 0!=d?d:.11]}})}e.exports=a;a.prototype=Object.create(PIXI.Filter.prototype);a.prototype.constructor=a;Object.defineProperty(a.prototype,"strength",{get:function(){return this.uniforms.uStrength},set:function(a){this.uniforms.uStrength=a}});Object.defineProperty(a.prototype,"red",{get:function(){return this.uniforms.uRatio[0]},set:function(a){this.uniforms.uRatio[0]=a}});Object.defineProperty(a.prototype,"green",
{get:function(){return this.uniforms.uRatio[1]},set:function(a){this.uniforms.uRatio[1]=a}});Object.defineProperty(a.prototype,"blue",{get:function(){return this.uniforms.uRatio[2]},set:function(a){this.uniforms.uRatio[2]=a}})},{}],21:[function(d,e,g){function a(a,c){PIXI.Filter.call(this,null,"precision mediump float;\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nuniform sampler2D uSampler;\nuniform float uTime;\nuniform float uAmplitude;\nuniform float uFrequency;\nvoid main(void) {\nfloat t        = uFrequency != 0.0 ? uTime + (gl_FragCoord.y / uFrequency) : 0.0;\nvec2 coord     = vec2(vTextureCoord.x + sin(t) * uAmplitude, vTextureCoord.y);\nvec4 diffuse   = texture2D(uSampler, coord);\ngl_FragColor   = diffuse;\n}",
{uTime:{type:"1f",value:0},uAmplitude:{type:"1f",value:0},uFrequency:{type:"1f",value:0}});this.amplitude="number"===typeof a?a:.2;this.frequency="number"===typeof c?c:2}e.exports=a;a.prototype=Object.create(PIXI.Filter.prototype);a.prototype.constructor=a;Object.defineProperty(a.prototype,"time",{get:function(){return this.uniforms.uTime},set:function(a){this.uniforms.uTime=a}});Object.defineProperty(a.prototype,"amplitude",{get:function(){return 20*this.uniforms.uAmplitude},set:function(a){this.uniforms.uAmplitude=
a/20}});Object.defineProperty(a.prototype,"frequency",{get:function(){return this.uniforms.uFrequency},set:function(a){this.uniforms.uFrequency=a}})},{}],22:[function(d,e,g){e=window.p3||{};e.AudioManager=d("./audio/AudioManager");e.Camera=d("./camera/Camera");e.CameraLayer=d("./camera/CameraLayer");e.CameraParallax=d("./camera/CameraParallax");e.AdditiveSprite=d("./display/AdditiveSprite");e.Button=d("./display/Button");e.ButtonStates=d("./display/ButtonStates");e.MovieClip=d("./display/MovieClip");
e.MovieClipSequence=d("./display/MovieClipSequence");e.MuteButton=d("./display/MuteButton");e.ToggleButton=d("./display/ToggleButton");e.CutoutShader=d("./effects/CutoutShader");e.DesaturationFilter=d("./effects/DesaturationFilter");e.DistortionFilter=d("./effects/DistortionFilter");e.RandomSeed=d("./math/RandomSeed");e.Vector2=d("./math/Vector2");e.Tracking=d("./tracking/Tracking");e.TrackingData=d("./tracking/TrackingData");e.TrackingDataBBCAction=d("./tracking/TrackingDataBBCAction");e.TrackingDataBBCAction=
d("./tracking/TrackingDataEcho");e.TrackingDataGoogleEvent=d("./tracking/TrackingDataGoogleEvent");e.TrackingDataGooglePage=d("./tracking/TrackingDataGooglePage");e.TrackingDataPlaydom=d("./tracking/TrackingDataPlaydom");e.TrackingDataPlaydomDeviceInfo=d("./tracking/TrackingDataPlaydomDeviceInfo");e.TrackingDataPlaydomGameAction=d("./tracking/TrackingDataPlaydomGameAction");e.TrackingDataPlaydomNavigationAction=d("./tracking/TrackingDataPlaydomNavigationAction");e.TrackingModule=d("./tracking/TrackingModule");
e.TrackingModuleBBC=d("./tracking/TrackingModuleBBC");e.TrackingModuleEcho=d("./tracking/TrackingModuleEcho");e.TrackingModuleGoogle=d("./tracking/TrackingModuleGoogle");e.TrackingModulePlaydom=d("./tracking/TrackingModulePlaydom");e.CutoutTransition=d("./transitions/CutoutTransition");e.FadeTransition=d("./transitions/FadeTransition");e.Transition=d("./transitions/Transition");e.Color=d("./utils/Color");e.Device=d("./utils/Device");e.ObjectPool=d("./utils/ObjectPool");e.Sorting=d("./utils/Sorting");
e.Timer=d("./utils/Timer");e.Utils=d("./utils/Utils");e.Animator=d("./Animator");e.AssetManager=d("./AssetManager");e.Scene=d("./Scene");e.SceneManager=d("./SceneManager");e.Timestep=d("./Timestep");e.View=d("./View");e.ViewParams=d("./ViewParams");window.p3=e},{"./Animator":1,"./AssetManager":2,"./Scene":3,"./SceneManager":4,"./Timestep":5,"./View":6,"./ViewParams":7,"./audio/AudioManager":8,"./camera/Camera":9,"./camera/CameraLayer":10,"./camera/CameraParallax":11,"./display/AdditiveSprite":12,
"./display/Button":13,"./display/ButtonStates":14,"./display/MovieClip":15,"./display/MovieClipSequence":16,"./display/MuteButton":17,"./display/ToggleButton":18,"./effects/CutoutShader":19,"./effects/DesaturationFilter":20,"./effects/DistortionFilter":21,"./math/RandomSeed":23,"./math/Vector2":24,"./tracking/Tracking":25,"./tracking/TrackingData":26,"./tracking/TrackingDataBBCAction":27,"./tracking/TrackingDataEcho":28,"./tracking/TrackingDataGoogleEvent":29,"./tracking/TrackingDataGooglePage":30,
"./tracking/TrackingDataPlaydom":31,"./tracking/TrackingDataPlaydomDeviceInfo":32,"./tracking/TrackingDataPlaydomGameAction":33,"./tracking/TrackingDataPlaydomNavigationAction":34,"./tracking/TrackingModule":35,"./tracking/TrackingModuleBBC":36,"./tracking/TrackingModuleEcho":37,"./tracking/TrackingModuleGoogle":38,"./tracking/TrackingModulePlaydom":39,"./transitions/CutoutTransition":40,"./transitions/FadeTransition":41,"./transitions/Transition":42,"./utils/Color":43,"./utils/Device":44,"./utils/ObjectPool":45,
"./utils/Sorting":46,"./utils/Timer":47,"./utils/Utils":48}],23:[function(d,e,g){d=function(){this.seed=1};e.exports=d;d.prototype.nextInt=function(){return this._gen()};d.prototype.nextDouble=function(){return this._gen()/2147483647};d.prototype.nextIntRange=function(a,b){a-=.4999;return Math.abs(Math.round(a+(b+.4999-a)*this.nextDouble()))};d.prototype.nextDoubleRange=function(a,b){return a+(b-a)*this.nextDouble()};d.prototype._gen=function(){return Math.abs(this.seed=16807*this.seed%2147483647)}},
{}],24:[function(d,e,g){function a(a,c){this.x=a||0;this.y=c||0}e.exports=a;a.VERSION="1.0.1";a.prototype.add=function(a){return new p3.Vector2(this.x+a.x,this.y+a.y)};a.prototype.subtract=function(a){return new p3.Vector2(this.x-a.x,this.y-a.y)};a.prototype.scale=function(a){return new p3.Vector2(this.x*a,this.y*a)};a.prototype.incrementBy=function(a){this.x+=a.x;this.y+=a.y};a.prototype.decrementBy=function(a){this.x-=a.x;this.y-=a.y};a.prototype.scaleBy=function(a){this.x*=a;this.y*=a};a.prototype.normalize=
function(a){var b=this.length;0<b&&(this.x=this.x/b*a,this.y=this.y/b*a)};a.prototype.truncate=function(a){var b=this.length;b>a&&(this.x=this.x/b*a,this.y=this.y/b*a)};a.prototype.dotProduct=function(a){return this.x*a.x+this.y*a.y};a.prototype.perpProduct=function(a){return-this.y*a.x+this.x*a.y};a.prototype.clone=function(){return new p3.Vector2(this.x,this.y)};Object.defineProperty(a.prototype,"length",{get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}});Object.defineProperty(a.prototype,
"lengthSq",{get:function(){return this.x*this.x+this.y*this.y}});Object.defineProperty(a.prototype,"unit",{get:function(){var a=this.length;return new p3.Vector2(this.x/a,this.y/a)}})},{}],25:[function(d,e,g){function a(){this._module=null}e.exports=a;a.DEBUG=!1;a.prototype.init=function(a){this._module=a};a.prototype.track=function(b){this._module.track(b);a.DEBUG&&console.log("Track sent - ",b)}},{}],26:[function(d,e,g){e.exports=function(){}},{}],27:[function(d,e,g){function a(a,f,d){b.call(this);
this._name=a;this._type=f;this._params=d}var b=d("./TrackingData");e.exports=a;a.prototype=Object.create(b);a.prototype.constructor=a;Object.defineProperty(a.prototype,"name",{get:function(){return this._name}});Object.defineProperty(a.prototype,"type",{get:function(){return this._type}});Object.defineProperty(a.prototype,"params",{get:function(){return this._params}})},{"./TrackingData":26}],28:[function(d,e,g){function a(a,f,d){b.call(this);this._name=a;this._type=f;this._params=d}var b=d("./TrackingData");
e.exports=a;a.prototype=Object.create(b.prototype);a.prototype.constructor=a;Object.defineProperty(a.prototype,"name",{get:function(){return this._name}});Object.defineProperty(a.prototype,"type",{get:function(){return this._type}});Object.defineProperty(a.prototype,"params",{get:function(){return this._params}})},{"./TrackingData":26}],29:[function(d,e,g){function a(a,c,f,d){this.category=a;this.action=c;this.label=f;this.value=d}g=d("./TrackingData");d("./TrackingModuleGoogle");e.exports=a;a.prototype=
Object.create(g);a.prototype.constructor=a},{"./TrackingData":26,"./TrackingModuleGoogle":38}],30:[function(d,e,g){function a(a){this.page=a}g=d("./TrackingData");d("./TrackingModuleGoogle");e.exports=a;a.prototype=Object.create(g);a.prototype.constructor=a},{"./TrackingData":26,"./TrackingModuleGoogle":38}],31:[function(d,e,g){function a(){this.tag=null}e.exports=a;a.prototype.getParams=function(a){return{}}},{}],32:[function(d,e,g){function a(a,c,f,d,e,g,k,n){this.tag="device_info";this.machine=
a||"NULL";this.model=c||"NULL";this.osVersion=f||"NULL";this.mToken=d||"NULL";this.deviceId=e||"NULL";this.iosVendorId=g||"NULL";this.iosAdvertisingId=k||"NULL";this.googAdvertisingId=n||"NULL"}d=d("./TrackingDataPlaydom");e.exports=a;a.prototype=Object.create(d.prototype);a.prototype.constructor=a;a.prototype.getParams=function(a){a=a||{};a.tag=this.tag;a.machine=this.machine;a.model=this.model;a.osVersion=this.osVersion;a.mToken=this.mToken;a.deviceId=this.deviceId;a.iosVendorId=this.iosVendorId;
a.iosAdvertisingId=this.iosAdvertisingId;a.googAdvertisingId=this.googAdvertisingId;return a}},{"./TrackingDataPlaydom":31}],33:[function(d,e,g){function a(a,c,f){this.tag="game_action";this.context=a;this.action=c;this.message=f}d=d("./TrackingDataPlaydom");e.exports=a;a.prototype=Object.create(d.prototype);a.prototype.constructor=a;a.prototype.getParams=function(a){a=a||{};a.tag=this.tag;a.context=this.context;a.action=this.action;a.message=this.message;return a}},{"./TrackingDataPlaydom":31}],
34:[function(d,e,g){function a(a,c){this.tag="navigation_action";this.context=a;this.action=c}d=d("./TrackingDataPlaydom");e.exports=a;a.prototype=Object.create(d.prototype);a.prototype.constructor=a;a.prototype.getParams=function(a){a=a||{};a.tag=this.tag;a.context=this.context;a.action=this.action;return a}},{"./TrackingDataPlaydom":31}],35:[function(d,e,g){function a(){}e.exports=a;a.track=function(a){};a.isScriptFound=function(){return!1}},{}],36:[function(d,e,g){function a(b,c,f,d,e){this.window=
window.top||window;a.DEV_lib=this.trackingLib=b;this.isScriptFound()&&(a.DEV_statsLogger=e?this.statsLogger=this.trackingLib.create(c,f,d,e):this.statsLogger=this.trackingLib.create(c,f,d))}d=d("./TrackingModule");e.exports=a;a.prototype=Object.create(d);a.prototype.constructor=a;a.DEV_lib=null;a.DEV_statsLogger=null;a.TYPE_PAGE="page";a.TYPE_EVENT="event";a.prototype.track=function(a){this.isScriptFound()&&this.statsLogger.logAction(a.action_name,a.action_type,a.params);a.action_name=null;a.action_type=
null;a.params=null};a.prototype.isScriptFound=function(){return this.trackingLib?!0:!1}},{"./TrackingModule":35}],37:[function(d,e,g){function a(){b.call(this)}var b=d("./TrackingModule");e.exports=a;a.prototype=Object.create(b.prototype);a.prototype.constructor=a;a.prototype.track=function(a){window.stats&&window.stats.logUserActionEvent(a.name,a.type,a.params)}},{"./TrackingModule":35}],38:[function(d,e,g){function a(a,b){this.window=window.top||window;this.isScriptFound()&&this.window.ga("create",
a,b)}g=d("./TrackingModule");var b=d("./TrackingDataGoogleEvent"),c=d("./TrackingDataGooglePage");e.exports=a;a.prototype=Object.create(g);a.prototype.constructor=a;a.prototype.track=function(a){this.isScriptFound()&&(a instanceof c?this.window.ga("send",{hitType:"pageview",page:"/"+a.page,title:a.page}):a instanceof b&&this.window.ga("send",{hitType:"event",eventCategory:a.category,eventAction:a.action,eventLabel:a.label,eventValue:a.value}))};a.prototype.isScriptFound=function(){return this.window.ga?
!0:(console.warn("[p3.Tracking] Google Analytics script is not found on the page."),!1)}},{"./TrackingDataGoogleEvent":29,"./TrackingDataGooglePage":30,"./TrackingModule":35}],39:[function(d,e,g){function a(a,c,f,d,e){this._app=a;this._appLocale=c;this._network=f;this._viewNetwork=d;this._authorizationId=e;this._browserId=window.localStorage.browserId?window.localStorage.browserId:this.generateKey();window.localStorage.browserId=this._browserId;this._transactionId=this.generateKey()}e.exports=a;a.prototype.track=
function(a){var b={};b.app=this._app;b.user_id=this._browserId;b.app_locale=this._appLocale;b.transaction_id=this._transactionId;b.browserId=this._browserId;b.network=this._network;b.view_network=this._viewNetwork;a=JSON.stringify(a.getParams(b));console.log(a);b=new XMLHttpRequest;b.open("POST","https://api.disney.com/datatech/serverlog/v1/json",!0);b.setRequestHeader("Content-Type","application/json");b.setRequestHeader("Authorization",this._authorizationId);b.send(a)};a.prototype.generateKey=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
function(a){var b=16*Math.random()|0;return("x"==a?b:b&3|8).toString(16)})}},{}],40:[function(d,e,g){function a(a,b,c){this.startScale=8;this.endScale=0;this._texture=a;this._color=b||0;this._duration=c||2;this._cutout=null;f.call(this);this.requiresWebGL=!0}var b=d("./../effects/CutoutShader"),c=d("./FadeTransition"),f=d("./Transition");e.exports=a;a.prototype=Object.create(f.prototype);a.prototype.constructor=a;a.prototype.init=function(){var a=new PIXI.Graphics;a.drawRect(0,0,1,1);var c=new PIXI.Point(0,
0),f=p3.Canvas.width/p3.Canvas.height,d=this._texture.width/this._texture.height;1<f/d?(c.x=1,c.y=1/(f/d)):(c.x=1/(f/d),c.y=1);this._cutout=new PIXI.Sprite(a.generateTexture());this._cutout.scale=new PIXI.Point(p3.Canvas.width,p3.Canvas.height);this._cutout.tint=this._color;this._cutout.shader=new b(this._texture,0,c);this.addChild(this._cutout)};a.prototype["in"]=function(){this._cutout.shader.scale=this.startScale;TweenMax.to(this._cutout.shader,.5*this._duration,{scale:this.endScale,ease:Power2.easeInOut,
onComplete:function(){f.prototype["in"].call(this,this)},onCompleteScope:this})};a.prototype.out=function(){this._cutout.shader.scale=this.endScale;TweenMax.to(this._cutout.shader,.5*this._duration,{scale:this.startScale,ease:Power2.easeInOut,onComplete:function(){f.prototype.out.call(this,this)},onCompleteScope:this})};a.prototype.resize=function(){var a=new PIXI.Point(0,0),b=p3.Canvas.width/p3.Canvas.height,c=this._texture.width/this._texture.height;1<b/c?(a.x=1,a.y=1/(b/c)):(a.x=1/(b/c),a.y=1);
this._cutout.scale=new PIXI.Point(p3.Canvas.width,p3.Canvas.height);this._cutout.shader.ratio=a};a.prototype.fallback=function(){return new c(this._color)}},{"./../effects/CutoutShader":19,"./FadeTransition":41,"./Transition":42}],41:[function(d,e,g){function a(a,f){this._color=a||0;this._duration=f||.8;this._quad=null;b.call(this)}var b=d("./Transition");e.exports=a;a.prototype=Object.create(b.prototype);a.prototype.constructor=a;a.prototype.init=function(){this._quad=new PIXI.Graphics;this._quad.visible=
!1;this._quad.beginFill(this._color);this._quad.drawRect(0,0,p3.View.width,p3.View.height);this._quad.endFill();this.addChild(this._quad)};a.prototype["in"]=function(){this._quad.alpha=0;this._quad.visible=!0;TweenMax.to(this._quad,.5*this._duration,{alpha:1,ease:Power2.easeInOut,onComplete:function(){b.prototype["in"].call(this,this)},onCompleteScope:this})};a.prototype.out=function(){TweenMax.to(this._quad,.5*this._duration,{alpha:0,ease:Power2.easeInOut,onComplete:function(){this._quad.visible=
!1;b.prototype.out.call(this,this)},onCompleteScope:this})};a.prototype.resize=function(){this._quad&&(this._quad.clear(),this._quad.beginFill(this._color),this._quad.drawRect(0,0,p3.View.width,p3.View.height),this._quad.endFill())}},{"./Transition":42}],42:[function(d,e,g){function a(){this.signals={};this.signals["in"]=new signals.Signal;this.signals.out=new signals.Signal;this.push=!1;this.replace=!0;this.swap=!1;this.wait=!0;this.requiresWebGL=this.crossfade=!1;this.newScene=this.oldScene=null;
PIXI.Container.call(this)}e.exports=a;a.prototype=Object.create(PIXI.Container.prototype);a.prototype.constructor=a;a.prototype.init=function(){};a.prototype.reset=function(){this.signals["in"].removeAll();this.signals.out.removeAll();this.removeChildren()};a.prototype.destroy=function(){this.signals["in"].dispose();this.signals.out.dispose();this.removeChildren()};a.prototype.dispose=a.prototype.destroy;a.prototype["in"]=function(){this.signals["in"].dispatch(this)};a.prototype.out=function(){this.signals.out.dispatch(this)};
a.prototype.resize=function(){};a.prototype.fallback=function(){}},{}],43:[function(d,e,g){function a(){}e.exports=a;a.RED=16711680;a.GREEN=65280;a.BLUE=255;a.WHITE=16777215;a.BLACK=0;a.lerp=function(b,c,f){b=a.hex2rgb(b);c=a.hex2rgb(c);c.r=(1-f)*b.r+f*c.r;c.g=(1-f)*b.g+f*c.g;c.b=(1-f)*b.b+f*c.b;return a.rgb2hex(c.r,c.g,c.b)};a.hex2rgb=function(a){var b={};b.r=a>>16&255;b.g=a>>8&255;b.b=a>>0&255;return b};a.rgb2hex=function(a,c,f){return a<<16|c<<8|f}},{}],44:[function(d,e,g){var a=function(){};e.exports=
a;a.init=function(b){b||console.warn("[Device] 'bowser' not found, it much be included in the libs and added to the window.");var c=navigator.userAgent;a.bowser=b;a._regExAppleWebKit=new RegExp(/AppleWebKit\/([\d.]+)/);a._resultAppleWebKitRegEx=a._regExAppleWebKit.exec(navigator.userAgent);a._appleWebKitVersion=null===a._resultAppleWebKitRegEx?null:parseFloat(a._regExAppleWebKit.exec(navigator.userAgent)[1]);try{var f=document.createElement("canvas");var d=!!window.WebGLRenderingContext&&(f.getContext("webgl")||
f.getContext("experimental-webgl"))}catch(r){d=!1}a._webgl=d;a.isMobile=b.mobile||b.tablet;a.isLowRes=372>=Math.max(window.innerWidth,window.innerHeight);a.isIOS=b.ios;a.isAndroid=b.android;a.isIpad=a.isIOS&&"iPad"==b.name;a.isIpadMini=a.isIOS&&a.isIpad&&1===window.devicePixelRatio&&1024>=Math.max(window.innerWidth,window.innerHeight);a.isIpod=a.isIOS&&"iPod"==b.name;a.isIphone=a.isIOS&&"iPhone"==b.name;a.isWebGL=a._webgl;a.isCanvas=!a._webgl;a.isAndroidStockBrowser=a.isAndroid&&null!==a._appleWebKitVersion&&
537>a._appleWebKitVersion;a.isIOS9=a.isIOS&&/(iphone|ipod|ipad).* os 9_/.test(navigator.userAgent.toLowerCase());a.isIframe=window.self!==window.top;a.isKindle=/Kindle/i.test(c)||/Silk/i.test(c)||/KFTT/i.test(c)||/KFOT/i.test(c)||/KFJWA/i.test(c)||/KFJWI/i.test(c)||/KFSOWI/i.test(c)||/KFTHWA/i.test(c)||/KFTHWI/i.test(c)||/KFAPWA/i.test(c)||/KFAPWI/i.test(c);a.isTwitterFacebookBrowser=/(twitter|fban|fbav)/.test(navigator.userAgent.toLowerCase());a.isReady=!0};a.isReady=!1;a.bowser=null;a.isMobile=
!1;a.isIOS=!1;a.isAndroid=!1;a.isIpad=!1;a.isIpod=!1;a.isIphone=!1;a.isIphone4=!1;a.isKindle=!1;a.isLowRes=!1;a.isWebGL=!1;a.isCanvas=!1;a.isAndroidStockBrowser=!1;a.isIOS9=!1;a.isIframe=!1;a.isTwitterFacebookBrowser=!1;Object.defineProperty(a,"isCocoonJS",{get:function(){return"undefined"!==typeof navigator.isCocoonJS}})},{}],45:[function(d,e,g){function a(a,c,f){this._base=a;this._args=f||null;this._free=[];this._used=[];this.expand(Math.max(1,c))}e.exports=a;a.prototype.dispose=function(){for(var a,
c=0;c<this._free.length;++c)(a=this._free[c])&&a.dispose();for(c=this._free.length=0;c<this._used.length;++c)(a=this._used[c])&&a.dispose();this._used.length=0};a.prototype.expand=function(a){for(var b,f=0;f<a;++f)b=Object.create(this._base.prototype),b.constructor=this._base,this._base.apply(b,this._args),this._free.push(b)};a.prototype.create=function(){var a=this._free.shift();if(!a)return null;a.init&&a.init();this._used.push(a);return a};a.prototype.free=function(a){var b=this._used.indexOf(a);
-1!=b&&(a.reset&&a.reset(),this._free.push(a),this._used.splice(b,1));return-1!=b};Object.defineProperty(a.prototype,"size",{get:function(){return this._free.length+this._used.length}});Object.defineProperty(a.prototype,"available",{get:function(){return this._free.length}})},{}],46:[function(d,e,g){var a=function(){};e.exports=a;a.quickSort=function(b,c,f){var d=c;for(var e=f,g=b[d+e>>>1],k;d<=e;){for(;b[d]<g;)d++;for(;b[e]>g;)e--;d<=e&&(k=b[d],b[d++]=b[e],b[e--]=k)}c<d-1&&a.quickSort(b,c,d-1);f>
d&&a.quickSort(b,d,f);return b};a.quickSortProperty=function(b,c,f,d){var e=c;for(var h=f,g=b[e+h>>>1],n;e<=h;){for(;b[e][d]<g[d];)e++;for(;b[h][d]>g[d];)h--;e<=h&&(n=b[e],b[e++]=b[h],b[h--]=n)}c<e-1&&a.quickSortProperty(b,c,e-1,d);f>e&&a.quickSortProperty(b,e,f,d);return b};a.insertionSort=function(a){var b=a.length,f,d;for(f=0;f<b;f++){var e=a[f];for(d=f-1;-1<d&&a[d]>e;d--)a[d+1]=a[d];a[d+1]=e}return a};a.insertionSortProperty=function(a,c){var b=a.length,d,e;for(d=0;d<b;d++){var g=a[d];for(e=d-
1;-1<e&&a[e][c]>g[c];e--)a[e+1]=a[e];a[e+1]=g}return a};a.bubbleSort=function(a){var b,f;var d=0;for(f=a.length;d<f;d++)for(b=d+1;b<f;b++)if(a[d]>a[b]){var e=a[d];a[d]=a[b];a[b]=e}return a};a.bubbleSortProperty=function(a,c){var b,d;var e=0;for(d=a.length;e<d;e++)for(b=e+1;b<d;b++)if(a[e][c]>a[b][c]){var g=a[e];a[e]=a[b];a[b]=g}return a};a.test=function(b,c){var f,d=[],e=[];b=b||100;c=c||1E4;for(f=0;f<b;f++)d.push(Math.round(1E3*Math.random()));for(f=0;f<b;f++){var g={};g.y=Math.round(1E3*Math.random());
e.push(g)}DEBUG&&console.log("//////////////////////");DEBUG&&console.log("/////// SIMPLE ///////");DEBUG&&console.log("////////////////////// ");DEBUG&&console.log("\n");g=new Date;for(f=0;f<c;f++)var k=a.bubbleSort(d.slice(0));DEBUG&&console.log("Bubble:",new Date-g,":",k,"\n");g=new Date;for(f=0;f<c;f++)k=a.quickSort(d.slice(0),0,d.length-1);DEBUG&&console.log("Quick:",new Date-g,":",k,"\n");g=new Date;for(f=0;f<c;f++)k=a.insertionSort(d.slice(0));DEBUG&&console.log("Insertion:",new Date-g,":",
k,"\n");DEBUG&&console.log("\n");DEBUG&&console.log("//////////////////////");DEBUG&&console.log("////// PROPERTY //////");DEBUG&&console.log("//////////////////////");DEBUG&&console.log("\n");g=new Date;for(f=0;f<c;f++)k=a.bubbleSortProperty(e.slice(0),"y");DEBUG&&console.log("Bubble:",new Date-g,":",k,"\n");g=new Date;for(f=0;f<c;f++)k=a.quickSortProperty(e.slice(0),0,e.length-1,"y");DEBUG&&console.log("Quick:",new Date-g,":",k,"\n");g=new Date;for(f=0;f<c;f++)k=a.insertionSortProperty(e.slice(0),
"y");DEBUG&&console.log("Insertion:",new Date-g,":",k,"\n")}},{}],47:[function(d,e,g){function a(a,b){this.currentCount=0;this.timeLeft=this.delay=a;this.repeatCount=Math.max(0,b)||0;this.removeOnComplete=!0;this.signals={};this.signals.timer=new signals.Signal;this.signals.timerComplete=new signals.Signal;this._invalid=this._running=!1}var b=d("./../Timestep");e.exports=a;a.s2ms=function(a){return 1E3*a};a.ms2s=function(a){return a/1E3};a.prototype.start=function(){this._running=!0};a.prototype.stop=
function(){this._running=!1};a.prototype.reset=function(){this.currentCount=0;this.timeLeft=this.delay;this.stop()};a.prototype.update=function(){!this._running||this.complete||this._invalid||(0>=this.timeLeft?(this.timeLeft=this.delay+this.timeLeft,++this.currentCount,this.signals.timer.dispatch(this),this.complete&&(this.timeLeft=0,this.signals.timerComplete.dispatch(this))):this.timeLeft-=b.deltaTime)};a.prototype.destroy=function(){this._invalid||(this._invalid=!0,this.stop(),this.signals.timer.dispose(),
this.signals.timerComplete.dispose())};a.prototype.dispose=a.prototype.destroy;Object.defineProperty(a.prototype,"running",{get:function(){return this._running&&!this.complete}});Object.defineProperty(a.prototype,"invalid",{get:function(){return this._invalid}});Object.defineProperty(a.prototype,"complete",{get:function(){return this.repeatCount&&this.currentCount>=this.repeatCount}})},{"./../Timestep":5}],48:[function(d,e,g){var a=function(){};e.exports=a;a.VERSION="01.02.00";a.PI=3.141592653589793;
a.TO_RADIANS=.017453292519943295;a.TO_DEGREES=57.29577951308232;a.TextFieldStripUnderScores=function(a,c){return a.replace(/[_]/g,c)};a.HexToRGB=function(a){return(a=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(a))?{r:parseInt(a[1],16),g:parseInt(a[2],16),b:parseInt(a[3],16)}:null};a.randomInt=function(a,c){a=parseInt(a);c=(c=parseInt(c))||0;if(c<a){var b=Math.round(Math.random()*(a-c));return Math.round(c+b)}return c>a?(b=Math.round(Math.random()*(c-a)),Math.round(c-b)):a};a.randomRange=function(a,
c){return Math.random()*(a-c)+c};a.randomBoolean=function(){return.5<=Math.random()};a.roundNumber=function(a,c){var b=Math.pow(10,c||0);return Math.round(Math.floor(a*b)/b)};a.padNumber=function(a,c){var b=Math.abs(a),d=Math.pow(10,Math.max(0,(c||0)-Math.floor(b).toString().length)).toString().substr(1);0>a&&(d="-"+d);return d+b};a.roundToPointFive=function(a){return Math.round(2*a)/2};a.stringToFunction=function(a){for(var b=a.split("."),d=(window=window.self)||this,e=0,g=b.length;e<g;e++)d=d[b[e]];
if("function"!==typeof d)throw Error("[Utils.stringToFunction] function not found = "+a);return d};a.distanceSqrt=function(a,c){var b=a.x-c.x;var d=a.y-c.y;return Math.sqrt(b*b+d*d)};a.distanceSqrtFast=function(a,c){return(a.x-c.x)*(a.x-c.x)+(a.y-c.y)*(a.y-c.y)};a.shuffleArray=function(a){for(var b=a.length,d,e;0!==b;)e=Math.floor(Math.random()*b),--b,d=a[b],a[b]=a[e],a[e]=d;return a};a.randomItemFromArray=function(b){return b[a.randomInt(b.length-1)]};a.rectangleIntersects=function(a,c){return a.x<=
c.x+c.width&&c.x<=a.x+a.width&&a.y<=c.y+c.height&&c.y<=a.y+a.height};a.validateEmail=function(a){return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(a)};a.commaFormatNumber=function(a){return(a+"").replace(/\d{1,3}(?=(\d{3})+(?!\d))/g,"$&,")};a.checkStringForMatch=function(a,c){var b=c.join("|");return-1!=a.search(new RegExp(b))?!0:!1};a.getURLParameter=function(a,c){var b=decodeURI((RegExp(a+
"=(.+?)(&|$)").exec(location.search)||[,null])[1]);"null"===b&&c&&(b=c);return b};a.goBack=function(a){(window.top||window).history.go(a||-1)};a.convertStringToXML=function(a){var b=window.top||window;return(b.DOMParser?function(a){return(new b.DOMParser).parseFromString(a,"text/xml")}:"undefined"!=typeof b.ActiveXObject&&new window.ActiveXObject("Microsoft.XMLDOM")?function(a){var c=new b.ActiveXObject("Microsoft.XMLDOM");c.async="false";c.loadXML(a);return c}:function(){return null})(a)};a.stringToBoolean=
function(a){switch(a.toString().toLowerCase()){case "true":case "yes":case "1":return!0;case "false":case "no":case "0":case null:return!1;default:return!!string}};a.clampNumber=function(a,c,d){return Math.min(Math.max(a,c),d)};a.normaliseNumber=function(a,c,d){return(a-c)/(d-c)};a.lerpNumber=function(a,c,d){return(d-c)*a+c};a.mapNumber=function(b,c,d,e,g){return a.lerpNumber(a.normaliseNumber(b,c,d),e,g)};a.scaleValue=function(a,c){return c/a};a.pointInRect=function(b,c){return a.inRange(b.x,c.x,
c.x+c.width)&&a.inRange(b.y,c.y,c.y+c.height)};a.inRange=function(a,c,d){return a>=Math.min(c,d)&&a<=Math.max(c,d)};a.generateGUID=function(){var a=(new Date).getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(b){var c=(a+16*Math.random())%16|0;a=Math.floor(a/16);return("x"==b?c:c&7|8).toString(16)})};a.createHitAreaSprite=function(a){var b=new PIXI.DisplayObjectContainer;b.interactive=!0;b.hitArea=new PIXI.Rectangle(0,0,Canvas.width,Canvas.height);a&&(a=new PIXI.Graphics,
a.beginFill("0x00ccff",.7),a.drawRect(0,0,Canvas.width,Canvas.height),b.addChild(a));return b};a.createModalBlock=function(a,c,d,e,g){a=a||"0x000000";c="undefined"===typeof c?.7:c;d=d||Canvas.width;e=e||Canvas.height;g=g||1;var b=new PIXI.Graphics;b.beginFill(a,c);b.drawRect(0,0,d,e);a=new PIXI.Sprite(b.generateTexture(g));a.interactive=!0;a.buttonMode=!1;a.mousedown=a.mouseup=a.click=a.tap=function(){};return a};a.cloneObject=function(b){if(null==b||"object"!=typeof b)return b;var c=b.constructor(),
d;for(d in b)b.hasOwnProperty(d)&&(c[d]=a.cloneObject(b[d]));return c};a.calculateParabola=function(a,c,d,e,g,m){d-=a;e=-(e-c);m=0<e?e+m:m;var b=e,f=-2*d*m,h=m*d*d,p=(-f+Math.sqrt(f*f-4*b*h))/(2*b);b=(-f-Math.sqrt(f*f-4*b*h))/(2*b);e=0<e&&0<d||0>e&&0>d?Math.min(p,b):Math.max(p,b);m=-m/(e*e);p=[];b=[];for(var q=0;q<g+1;q++)f=q*d/g,h=m*(f*f-2*f*e),b.push(f+a),p.push(c-h);return{x:b,y:p}};a.logNestedArray=function(a){a=JSON.stringify(a);a=a.replace(/(?:],)/g,"],\n");console.log(a)}},{}]},{},[22]);