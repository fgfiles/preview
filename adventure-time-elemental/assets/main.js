!function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="/assets/",e(0)}([function(t,e,i){i(474),t.exports=i(468)},function(t,e,i){(function(t){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.loader=e.prepare=e.particles=e.mesh=e.loaders=e.interaction=e.filters=e.extras=e.extract=e.accessibility=void 0;var o=i(794);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var a=i(9);Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})});var s=i(758),u=r(s),l=i(714),h=n(l),c=i(760),f=n(c),d=i(301),p=n(d),y=i(773),v=n(y),m=i(779),g=n(m),_=i(780),b=n(_),w=i(785),x=n(w),T=i(788),S=n(T),E=i(797),C=n(E);a.utils.mixins.performMixins();var P=b.shared||null;e.accessibility=h,e.extract=f,e.extras=p,e.filters=v,e.interaction=g,e.loaders=b,e.mesh=x,e.particles=S,e.prepare=C,e.loader=P,"function"==typeof u.default&&(0,u.default)(e),t.PIXI=e}).call(e,function(){return this}())},function(t,e,i){var n=i(7),r=i(51),o=i(32),a=i(33),s=i(52),u="prototype",l=function(t,e,i){var h,c,f,d,p=t&l.F,y=t&l.G,v=t&l.S,m=t&l.P,g=t&l.B,_=y?n:v?n[e]||(n[e]={}):(n[e]||{})[u],b=y?r:r[e]||(r[e]={}),w=b[u]||(b[u]={});y&&(i=e);for(h in i)c=!p&&_&&void 0!==_[h],f=(c?_:i)[h],d=g&&c?s(f,n):m&&"function"==typeof f?s(Function.call,f):f,_&&a(_,h,f,t&l.U),b[h]!=f&&o(b,h,d),m&&w[h]!=f&&(w[h]=f)};n.core=r,l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,t.exports=l},function(t,e,i){var n;/** @license
	 * JS Signals <http://millermedeiros.github.com/js-signals/>
	 * Released under the MIT license
	 * Author: Miller Medeiros
	 * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)
	 */
!function(r){function o(t,e,i,n,r){this._listener=e,this._isOnce=i,this.context=n,this._signal=t,this._priority=r||0}function a(t,e){if("function"!=typeof t)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",e))}function s(){this._bindings=[],this._prevParams=null;var t=this;this.dispatch=function(){s.prototype.dispatch.apply(t,arguments)}}o.prototype={active:!0,params:null,execute:function(t){var e,i;return this.active&&this._listener&&(i=this.params?this.params.concat(t):t,e=this._listener.apply(this.context,i),this._isOnce&&this.detach()),e},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},s.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(t,e,i,n){var r,a=this._indexOfListener(t,i);if(a!==-1){if(r=this._bindings[a],r.isOnce()!==e)throw new Error("You cannot add"+(e?"":"Once")+"() then add"+(e?"Once":"")+"() the same listener without removing the relationship first.")}else r=new o(this,t,e,i,n),this._addBinding(r);return this.memorize&&this._prevParams&&r.execute(this._prevParams),r},_addBinding:function(t){var e=this._bindings.length;do--e;while(this._bindings[e]&&t._priority<=this._bindings[e]._priority);this._bindings.splice(e+1,0,t)},_indexOfListener:function(t,e){for(var i,n=this._bindings.length;n--;)if(i=this._bindings[n],i._listener===t&&i.context===e)return n;return-1},has:function(t,e){return this._indexOfListener(t,e)!==-1},add:function(t,e,i){return a(t,"add"),this._registerListener(t,!1,e,i)},addOnce:function(t,e,i){return a(t,"addOnce"),this._registerListener(t,!0,e,i)},remove:function(t,e){a(t,"remove");var i=this._indexOfListener(t,e);return i!==-1&&(this._bindings[i]._destroy(),this._bindings.splice(i,1)),t},removeAll:function(){for(var t=this._bindings.length;t--;)this._bindings[t]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(t){if(this.active){var e,i=Array.prototype.slice.call(arguments),n=this._bindings.length;if(this.memorize&&(this._prevParams=i),n){e=this._bindings.slice(),this._shouldPropagate=!0;do n--;while(e[n]&&this._shouldPropagate&&e[n].execute(i)!==!1)}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var u=s;u.Signal=s,n=function(){return u}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(this)},function(t,e,i){var n=i(12);t.exports=function(t){if(!n(t))throw TypeError(t+" is not an object!");return t}},function(t,e,i){var n=t.exports={},r=i(22);n.crossLength=function(t,e){return t[0]*e[1]-t[1]*e[0]},n.crossVZ=function(t,e,i){return n.rotate(t,e,-Math.PI/2),n.scale(t,t,i),t},n.crossZV=function(t,e,i){return n.rotate(t,i,Math.PI/2),n.scale(t,t,e),t},n.rotate=function(t,e,i){if(0!==i){var n=Math.cos(i),r=Math.sin(i),o=e[0],a=e[1];t[0]=n*o-r*a,t[1]=r*o+n*a}else t[0]=e[0],t[1]=e[1]},n.rotate90cw=function(t,e){var i=e[0],n=e[1];t[0]=n,t[1]=-i},n.toLocalFrame=function(t,e,i,r){n.copy(t,e),n.sub(t,t,i),n.rotate(t,t,-r)},n.toGlobalFrame=function(t,e,i,r){n.copy(t,e),n.rotate(t,t,r),n.add(t,t,i)},n.vectorToLocalFrame=function(t,e,i){n.rotate(t,e,-i)},n.vectorToGlobalFrame=function(t,e,i){n.rotate(t,e,i)},n.centroid=function(t,e,i,r){return n.add(t,e,i),n.add(t,t,r),n.scale(t,t,1/3),t},n.create=function(){var t=new r.ARRAY_TYPE(2);return t[0]=0,t[1]=0,t},n.clone=function(t){var e=new r.ARRAY_TYPE(2);return e[0]=t[0],e[1]=t[1],e},n.fromValues=function(t,e){var i=new r.ARRAY_TYPE(2);return i[0]=t,i[1]=e,i},n.copy=function(t,e){return t[0]=e[0],t[1]=e[1],t},n.set=function(t,e,i){return t[0]=e,t[1]=i,t},n.add=function(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t},n.subtract=function(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t},n.sub=n.subtract,n.multiply=function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t},n.mul=n.multiply,n.divide=function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t},n.div=n.divide,n.scale=function(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t},n.distance=function(t,e){var i=e[0]-t[0],n=e[1]-t[1];return Math.sqrt(i*i+n*n)},n.dist=n.distance,n.squaredDistance=function(t,e){var i=e[0]-t[0],n=e[1]-t[1];return i*i+n*n},n.sqrDist=n.squaredDistance,n.length=function(t){var e=t[0],i=t[1];return Math.sqrt(e*e+i*i)},n.len=n.length,n.squaredLength=function(t){var e=t[0],i=t[1];return e*e+i*i},n.sqrLen=n.squaredLength,n.negate=function(t,e){return t[0]=-e[0],t[1]=-e[1],t},n.normalize=function(t,e){var i=e[0],n=e[1],r=i*i+n*n;return r>0&&(r=1/Math.sqrt(r),t[0]=e[0]*r,t[1]=e[1]*r),t},n.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]},n.str=function(t){return"vec2("+t[0]+", "+t[1]+")"},n.lerp=function(t,e,i,n){var r=e[0],o=e[1];return t[0]=r+n*(i[0]-r),t[1]=o+n*(i[1]-o),t},n.reflect=function(t,e,i){var n=e[0]*i[0]+e[1]*i[1];t[0]=e[0]-2*i[0]*n,t[1]=e[1]-2*i[1]*n},n.getLineSegmentsIntersection=function(t,e,i,r,o){var a=n.getLineSegmentsIntersectionFraction(e,i,r,o);return!(a<0)&&(t[0]=e[0]+a*(i[0]-e[0]),t[1]=e[1]+a*(i[1]-e[1]),!0)},n.getLineSegmentsIntersectionFraction=function(t,e,i,n){var r,o,a=e[0]-t[0],s=e[1]-t[1],u=n[0]-i[0],l=n[1]-i[1];return r=(-s*(t[0]-i[0])+a*(t[1]-i[1]))/(-u*s+a*l),o=(u*(t[1]-i[1])-l*(t[0]-i[0]))/(-u*s+a*l),r>=0&&r<=1&&o>=0&&o<=1?o:-1}},function(t,e,i){var n;n=function(t,e,n){var r=i(1),o=i(41),a=i(84),s=i(3),u=i(29),l=function t(e,i,n,o){this.UID=t._UID++,this.data=null,this.view=n||null,this.body=o||null,this.signals={},this.name="item"+this.UID,this.position=new r.Point,this.view&&(this.position=n.position),this.body&&(this.body.position=this.position),this.position.x=0|e,this.position.y=0|i,this.position.z=0,this.world=null,this.canCollide=!0,this.collideWithSelf=!0,this.type=0,this.groups=[],this._TICK=-1,this._gc=!1,this._updatableComponents=[],this._resetableComponents=[],this.registerSignal("onAddedToWorld","onRemovedFromWorld")};l.prototype.registerSignal=function(t){var e=arguments.length;if(e>1)for(var i=0;i<e;i++)this.registerSignal(arguments[i]);else this.signals[t]||(this.signals[t]=new s)},l.prototype.resetSignals=function(){for(var t in this.signals)this.signals[t].removeAll()},l.prototype.updateView=function(t){this.view=t},l.prototype.reset=function(t){this.data=t},l.prototype._reset=function(){for(var t=0;t<this._resetableComponents.length;t++)this._resetableComponents[t].reset()},l.prototype._clean=function(){this.resetSignals()},l.prototype.destroy=function(){this.world&&this.world.remove(this),a.waitNew(this.returnToPool,this)},l.prototype.add=l.prototype.addComponent=function(t,e){e=e||t.id||t.name.toLowerCase();var i=new t(this);return this[e]=i,i.update&&this._updatableComponents.push(i),i.reset&&this._resetableComponents.push(i),this},l.prototype.updateComponents=function(){for(var t=0;t<this._updatableComponents.length;t++)this._updatableComponents[t].update()},l.prototype.returnToPool=function(){this.resetSignals(),o.returnObject(this)},l.prototype.belongsToGroup=function(t){return this.groups.indexOf(t)!==-1},l.prototype.wireFrameSetup=function(t,e,i){this.body=u.CrashBody.fromRect(-t/2,-e/2,t,e,i),this.body.bodyType=i||u.CrashBody.STATIC,this.view=this.body.getDebugView()},l._UID=0,l.mixin=function(t,e){e.call(t),Object.assign(t,e)},n.exports=l}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e){var i=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(t,e){"use strict";e.__esModule=!0;e.VERSION="4.5.3",e.PI_2=2*Math.PI,e.RAD_TO_DEG=180/Math.PI,e.DEG_TO_RAD=Math.PI/180,e.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},e.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},e.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},e.SCALE_MODES={LINEAR:0,NEAREST:1},e.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},e.GC_MODES={AUTO:0,MANUAL:1},e.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,e.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i,e.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,e.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},e.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},e.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},e.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},e.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.autoDetectRenderer=e.Application=e.Filter=e.SpriteMaskFilter=e.Quad=e.RenderTarget=e.ObjectRenderer=e.WebGLManager=e.Shader=e.CanvasRenderTarget=e.TextureUvs=e.VideoBaseTexture=e.BaseRenderTexture=e.RenderTexture=e.BaseTexture=e.Texture=e.Spritesheet=e.CanvasGraphicsRenderer=e.GraphicsRenderer=e.GraphicsData=e.Graphics=e.TextMetrics=e.TextStyle=e.Text=e.SpriteRenderer=e.CanvasTinter=e.CanvasSpriteRenderer=e.Sprite=e.TransformBase=e.TransformStatic=e.Transform=e.Container=e.DisplayObject=e.Bounds=e.glCore=e.WebGLRenderer=e.CanvasRenderer=e.ticker=e.utils=e.settings=void 0;var o=i(8);Object.keys(o).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return o[t]}})});var a=i(26);Object.keys(a).forEach(function(t){"default"!==t&&"__esModule"!==t&&Object.defineProperty(e,t,{enumerable:!0,get:function(){return a[t]}})});var s=i(40);Object.defineProperty(e,"glCore",{enumerable:!0,get:function(){return r(s).default}});var u=i(180);Object.defineProperty(e,"Bounds",{enumerable:!0,get:function(){return r(u).default}});var l=i(284);Object.defineProperty(e,"DisplayObject",{enumerable:!0,get:function(){return r(l).default}});var h=i(97);Object.defineProperty(e,"Container",{enumerable:!0,get:function(){return r(h).default}});var c=i(285);Object.defineProperty(e,"Transform",{enumerable:!0,get:function(){return r(c).default}});var f=i(286);Object.defineProperty(e,"TransformStatic",{enumerable:!0,get:function(){return r(f).default}});var d=i(181);Object.defineProperty(e,"TransformBase",{enumerable:!0,get:function(){return r(d).default}});var p=i(185);Object.defineProperty(e,"Sprite",{enumerable:!0,get:function(){return r(p).default}});var y=i(743);Object.defineProperty(e,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return r(y).default}});var v=i(186);Object.defineProperty(e,"CanvasTinter",{enumerable:!0,get:function(){return r(v).default}});var m=i(745);Object.defineProperty(e,"SpriteRenderer",{enumerable:!0,get:function(){return r(m).default}});var g=i(747);Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return r(g).default}});var _=i(297);Object.defineProperty(e,"TextStyle",{enumerable:!0,get:function(){return r(_).default}});var b=i(296);Object.defineProperty(e,"TextMetrics",{enumerable:!0,get:function(){return r(b).default}});var w=i(715);Object.defineProperty(e,"Graphics",{enumerable:!0,get:function(){return r(w).default}});var x=i(287);Object.defineProperty(e,"GraphicsData",{enumerable:!0,get:function(){return r(x).default}});var T=i(718);Object.defineProperty(e,"GraphicsRenderer",{enumerable:!0,get:function(){return r(T).default}});var S=i(716);Object.defineProperty(e,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return r(S).default}});var E=i(748);Object.defineProperty(e,"Spritesheet",{enumerable:!0,get:function(){return r(E).default}});var C=i(76);Object.defineProperty(e,"Texture",{enumerable:!0,get:function(){return r(C).default}});var P=i(86);Object.defineProperty(e,"BaseTexture",{enumerable:!0,get:function(){return r(P).default}});var M=i(187);Object.defineProperty(e,"RenderTexture",{enumerable:!0,get:function(){return r(M).default}});var A=i(298);Object.defineProperty(e,"BaseRenderTexture",{enumerable:!0,get:function(){return r(A).default}});var O=i(300);Object.defineProperty(e,"VideoBaseTexture",{enumerable:!0,get:function(){return r(O).default}});var k=i(299);Object.defineProperty(e,"TextureUvs",{enumerable:!0,get:function(){return r(k).default}});var I=i(291);Object.defineProperty(e,"CanvasRenderTarget",{enumerable:!0,get:function(){return r(I).default}});var R=i(96);Object.defineProperty(e,"Shader",{enumerable:!0,get:function(){return r(R).default}});var L=i(99);Object.defineProperty(e,"WebGLManager",{enumerable:!0,get:function(){return r(L).default}});var B=i(132);Object.defineProperty(e,"ObjectRenderer",{enumerable:!0,get:function(){return r(B).default}});var D=i(133);Object.defineProperty(e,"RenderTarget",{enumerable:!0,get:function(){return r(D).default}});var F=i(295);Object.defineProperty(e,"Quad",{enumerable:!0,get:function(){return r(F).default}});var j=i(294);Object.defineProperty(e,"SpriteMaskFilter",{enumerable:!0,get:function(){return r(j).default}});var N=i(293);Object.defineProperty(e,"Filter",{enumerable:!0,get:function(){return r(N).default}});var X=i(282);Object.defineProperty(e,"Application",{enumerable:!0,get:function(){return r(X).default}});var U=i(283);Object.defineProperty(e,"autoDetectRenderer",{enumerable:!0,get:function(){return U.autoDetectRenderer}});var G=i(13),Y=n(G),z=i(188),V=n(z),W=i(24),H=r(W),q=i(98),K=r(q),Z=i(131),J=r(Z);e.settings=H.default,e.utils=Y,e.ticker=V,e.CanvasRenderer=K.default,e.WebGLRenderer=J.default},function(t,e){t.exports=function(t){try{return!!t()}catch(t){return!0}}},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(){i(this,t),this.arora=!1,this.chrome=!1,this.epiphany=!1,this.firefox=!1,this.mobileSafari=!1,this.ie=!1,this.ieVersion=0,this.trident=!1,this.tridentVersion=0,this.midori=!1,this.opera=!1,this.safari=!1,this.silk=!1,this.webApp=!1,this.cocoonJS=!1,this.android=!1,this.chromeOS=!1,this.iOS=!1,this.linux=!1,this.macOS=!1,this.windows=!1,this.desktop=!1,this.pixelRatio=0,this.iPhone=!1,this.iPhone4=!1,this.iPad=!1,this.blob=!1,this.canvas=!1,this.localStorage=!1,this.file=!1,this.fileSystem=!1,this.webGL=!1,this.worker=!1,this.audioData=!1,this.webAudio=!1,this.ogg=!1,this.opus=!1,this.mp3=!1,this.wav=!1,this.m4a=!1,this.webm=!1;var e=navigator.userAgent;this._checkBrowser(e),this._checkOS(e),this._checkDevice(e),this._checkAudio(),this._checkFeatures(),this._checkIsMobile(),this._checkIsTouch()}return n(t,[{key:"_checkBrowser",value:function(t){/Arora/.test(t)?this.arora=!0:/Opera|OPR|op/.test(t)?(this.opera=!0,this.chrome=!1):/Chrome/.test(t)?this.chrome=!0:/Epiphany/.test(t)?this.epiphany=!0:/Firefox/.test(t)?this.firefox=!0:/Mobile Safari/.test(t)?this.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(t)||navigator.userAgent.match(/Trident.*rv[ :]*11\./)?(this.ie=!0,this.ieVersion=parseInt(RegExp.$1,10)):/Midori/.test(t)?this.midori=!0:/Safari/.test(t)?this.safari=!0:/\bSilk\b/.test(t)?this.silk=!0:/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(t)&&(this.ie=!0,this.trident=!0,this.tridentVersion=parseInt(RegExp.$1,10),this.ieVersion=parseInt(RegExp.$3,10)),navigator.standalone&&(this.webApp=!0),navigator.isCocoonJS&&(this.cocoonJS=!0)}},{key:"_checkOS",value:function(t){if(/Android/.test(t))this.android=!0;else if(/CrOS/.test(t))this.chromeOS=!0;else if(/iP[ao]d|iPhone/i.test(t)){this.iOS=!0;var e=navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/);this.iOS_version=[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3]||0,10)]}else/Linux/.test(t)?this.linux=!0:/Mac OS/.test(t)?this.macOS=!0:/Windows/.test(t)&&(this.windows=!0);(this.windows||this.macOS||this.linux||this.chromeOS)&&(this.desktop=!0)}},{key:"_checkDevice",value:function(){this.pixelRatio=window.devicePixelRatio||1,this.iPhone=navigator.userAgent.toLowerCase().indexOf("iphone")!==-1,this.iPhone4=2===this.pixelRatio&&this.iPhone,this.iPhone4&&(this.iPhone4=480==window.screen.height&&320==window.screen.width||480==window.screen.width&&320==window.screen.height),this.iPad=navigator.userAgent.toLowerCase().indexOf("ipad")!==-1}},{key:"_checkFeatures",value:function(){"undefined"!=typeof window.Blob&&(this.blob=!0),this.canvas=!!window.CanvasRenderingContext2D;try{this.localStorage=!!localStorage.getItem}catch(t){this.localStorage=!1}this.file=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),this.fileSystem=!!window.requestFileSystem,this.webGL=function(){try{var t=document.createElement("canvas");return!!window.WebGLRenderingContext&&(t.getContext("webgl")||t.getContext("experimental-webgl"))}catch(t){return!1}}(),(this.android||this.ie)&&(this.webGL=!1),this.worker=!!window.Worker,("ontouchstart"in document.documentElement||window.navigator.msPointerEnabled)&&(this.touch=!0)}},{key:"_checkAudio",value:function(){this.audioData=!!window.Audio,this.webAudio=!(!window.AudioContext&&!window.webkitAudioContext);var t=document.createElement("audio"),e=!1;try{e==!!t.canPlayType&&(t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(this.ogg=!0),t.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(this.mp3=!0),t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"")&&(this.wav=!0),(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/aac;").replace(/^no$/,""))&&(this.m4a=!0))}catch(t){}}},{key:"_checkIsMobile",value:function(){var t=!1;!function(e){(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0)}(navigator.userAgent||navigator.vendor||window.opera),this.isMobile=t,this.mobile=t}},{key:"_checkIsTouch",value:function(){this.isTouch="ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0}},{key:"is_touch_device",value:function(){}},{key:"getInfo",value:function(){var t="DEVICE OUTPUT\n\n";return t+="---\n",t+="Browser Info :: \n",t+="Arora : "+this.arora+"\n",t+="Chrome : "+this.chrome+"\n",t+="Epiphany : "+this.epiphany+"\n",t+="Firefox : "+this.firefox+"\n",t+="Mobile Safari : "+this.mobileSafari+"\n",t+="IE : "+this.ie,t+=this.ie?" (Version "+this.ieVersion+")\n":"\n",t+="Midori : "+this.midori+"\n",t+="Opera : "+this.opera+"\n",t+="Safari : "+this.safari+"\n",t+="Web App : "+this.webApp+"\n",t+="CocoonJS : "+this.cocoonJS+"\n",t+="Android : "+this.android+"\n",t+="---\n",t+="Operating System :: \n",t+="Chrome OS : "+this.chromeOS+"\n",t+="iOS : "+this.iOS+"\n",t+="Linux : "+this.linux+"\n",t+="Mac OS : "+this.macOS+"\n",t+="Windows : "+this.windows+"\n",t+="Desktop : "+this.desktop+"\n",t+="---\n",t+="Device Type : \n",t+="Pixel Ratio : "+this.pixelRatio+"\n",t+="iPhone : "+this.iPhone+"\n",t+="iPhone 4 : "+this.iPhone4+"\n",t+="iPad : "+this.iPad+"\n",t+="---\n",t+="Features :: \n",t+="Blob : "+this.blob+"\n",t+="Canvas : "+this.canvas+"\n",t+="LocalStorage : "+this.localStorage+"\n",t+="File : "+this.file+"\n",t+="File System : "+this.fileSystem+"\n",t+="WebGL : "+this.webGL+"\n",t+="Workers : "+this.worker+"\n",t+="---\n",t+="Audio :: \n",t+="AudioData : "+this.audioData+"\n",t+="WebAudio : "+this.webAudio+"\n",t+="Supports .ogg : "+this.ogg+"\n",t+="Supports Opus : "+this.opus+"\n",t+="Supports .mp3 : "+this.mp3+"\n",t+="Supports .wav : "+this.wav+"\n",t+="Supports .m4a : "+this.m4a+"\n",t+="Supports .webm : "+this.webm}},{key:"ie9",get:function(){return this.ie&&9===this.ieVersion}},{key:"useSM2",get:function(){return this.ie||this.opera}}]),t}();r.instance=new r,e.default=r,t.exports=e.default},function(t,e){t.exports=function(t){return"object"==typeof t?null!==t:"function"==typeof t}},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(){return++j}function a(t,e){return e=e||[],e[0]=(t>>16&255)/255,e[1]=(t>>8&255)/255,e[2]=(255&t)/255,e}function s(t){return t=t.toString(16),t="000000".substr(0,6-t.length)+t,"#"+t}function u(t){return(255*t[0]<<16)+(255*t[1]<<8)+(255*t[2]|0)}function l(t,e){var i=E.default.RETINA_PREFIX.exec(t);return i?parseFloat(i[1]):void 0!==e?e:1}function h(t){var e=T.DATA_URI.exec(t);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,encoding:e[3]?e[3].toLowerCase():void 0,data:e[4]}}function c(t){var e=T.URL_FILE_EXTENSION.exec(t);if(e)return e[1].toLowerCase()}function f(t){var e=T.SVG_SIZE.exec(t),i={};return e&&(i[e[1]]=Math.round(parseFloat(e[3])),i[e[5]]=Math.round(parseFloat(e[7]))),i}function d(){N=!0}function p(t){if(!N){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var e=["\n %c %c %c Pixi.js "+T.VERSION+" - ✰ "+t+" ✰  %c  %c  http://www.pixijs.com/  %c %c ♥%c♥%c♥ \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,e)}else window.console&&window.console.log("Pixi.js "+T.VERSION+" - "+t+" - http://www.pixijs.com/");N=!0}}function y(){var t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var e=document.createElement("canvas"),i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),n=!(!i||!i.getContextAttributes().stencil);if(i){var r=i.getExtension("WEBGL_lose_context");r&&r.loseContext()}return i=null,n}catch(t){return!1}}function v(t){return 0===t?0:t<0?-1:1}function m(){var t=void 0;for(t in X)X[t].destroy();for(t in U)U[t].destroy()}function g(){var t=void 0;for(t in X)delete X[t];for(t in U)delete U[t]}function _(t,e){return G[e?1:0][t]}function b(t,e){if(1===e)return(255*e<<24)+t;if(0===e)return 0;var i=t>>16&255,n=t>>8&255,r=255&t;return i=i*e+.5|0,n=n*e+.5|0,r=r*e+.5|0,(255*e<<24)+(i<<16)+(n<<8)+r}function w(t,e,i,n){return i=i||new Float32Array(4),n||void 0===n?(i[0]=t[0]*e,i[1]=t[1]*e,i[2]=t[2]*e):(i[0]=t[0],i[1]=t[1],i[2]=t[2]),i[3]=e,i}function x(t,e,i,n){return i=i||new Float32Array(4),i[0]=(t>>16&255)/255,i[1]=(t>>8&255)/255,i[2]=(255&t)/255,(n||void 0===n)&&(i[0]*=e,i[1]*=e,i[2]*=e),i[3]=e,i}e.__esModule=!0,e.premultiplyBlendMode=e.BaseTextureCache=e.TextureCache=e.mixins=e.pluginTarget=e.EventEmitter=e.removeItems=e.isMobile=void 0,e.uid=o,e.hex2rgb=a,e.hex2string=s,e.rgb2hex=u,e.getResolutionOfUrl=l,e.decomposeDataUri=h,e.getUrlFileExtension=c,e.getSvgSize=f,e.skipHello=d,e.sayHello=p,e.isWebGLSupported=y,e.sign=v,e.destroyTextureCache=m,e.clearTextureCache=g,e.correctBlendMode=_,e.premultiplyTint=b,e.premultiplyRgba=w,e.premultiplyTintToRgba=x;var T=i(8),S=i(24),E=r(S),C=i(74),P=r(C),M=i(756),A=r(M),O=i(755),k=n(O),I=i(172),R=n(I),L=i(806),B=r(L),D=i(753),F=r(D),j=0,N=!1;e.isMobile=R,e.removeItems=B.default,e.EventEmitter=P.default,e.pluginTarget=A.default,e.mixins=k;var X=e.TextureCache=Object.create(null),U=e.BaseTextureCache=Object.create(null),G=e.premultiplyBlendMode=(0,F.default)()},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0});var r=i(1),o=n(r),a={};a.trimTexture=function(t,e,i,n,r){e=e||0,i=i||0,n=n||0,r=r||0;var o=t._frame;o.x+=e,o.y+=n,o.width-=e+i,o.height-=n+r,t.frame=o,t._updateUvs()},a.getTexturesFromFrames=function(t){for(var e=[],i=0;i<t.length;i++)e.push(new o.Texture.fromFrame(t[i]));return e},a.getTexturesFromImages=function(t){for(var e=[],i=0;i<t.length;i++)e.push(new o.Texture.fromImage(t[i]));return e},a.getTexturesFromFramesWithPrefix=function(t,e,i,n){var r=[];void 0==i&&(i=0);var a=!1;if(void 0===e){var a=!0;e=1/0}for(var s=0;s<e;s++){var u=s+i,l=t.replace("%%",u<10?"0"+u:u);n&&(l=t.replace("%%",u));try{r.push(new o.Texture.fromFrame(l))}catch(t){if(a){if(r.length>0)break;if(0===s)continue;throw t}throw t}}return r},a.formatTime=function(t){if(999999===t)return"00:00:00";t/=.06;var e=t/60/1e3|0;t-=60*e*1e3;var i=t/1e3|0;t-=1e3*i;var n=t/10|0;return t-=10*n,(e<10?"0":"")+e+":"+(i<10?"0":"")+i+":"+(n<10?"0":"")+n},a.formatTimeSeconds=function(t){if(999999===t)return"00:00";t/=.06;var e=t/60/1e3|0;t-=60*e*1e3;var i=t/1e3|0;return t-=1e3*i,(e<10?"0":"")+e+":"+(i<10?"0":"")+i},a.pad=function(t,e){var i="0000"+t;return i.substr(i.length-e)},a.shuffle=function(t){for(var e=t.length-1;e>0;e--){var i=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[i],t[i]=n}return t},a.formatScore=function(t){for(var e=t.toString().split(""),i="",n=e.length,r=n%3-1,o=0;o<n;o++)i+=e[o],(o-r)%3==0&&o!=n-1&&(i+=",");return i},a.formatNumber=function(t){var e=t%10,i=Math.floor(t/10)%10;if(1==i)return t+"th";switch(e){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd";default:return t+"th"}},a.formatName=function(t){for(var e=t.split(" "),i=e.length-1;i>=0;i--)if(0!==e[i].length){var n=e[i].split("");n[0]=n[0].toUpperCase(),e[i]=n.join("")}var r=e.join(" ");return r},window.console||(window.console={log:function(){}}),a.get_query=function(t){for(var e=location.href,i=e.substring(e.indexOf("?")+1).split("&"),n=0,r={};n<i.length;n++)i[n]=i[n].split("="),r[i[n][0]]=decodeURIComponent(i[n][1]);return!!r.hasOwnProperty(t)&&r[t]},a.toCamelCase=function(t){var e=/\s([a-z]|[A-Z])/,i=t.trim();return i=i.toLowerCase(),i=i.replace(e,function(t,e){return e.toUpperCase()})},a.defaults=function(t,e){t=t||{};for(var i in e)i in t||(t[i]=e[i]);return t},a.fitText=a.resizeText=function(t,e,i,n){n=n||"w",t.scale.set(1),i&&(t.text=i);var r=0;r="w"===n?e/t.width:e/t.height,r>1&&(r=1),t.scale.set(r)},a.resizeMultipleTexts=function(t,e,i){for(var n=void 0,r=0;r<t.length;r++)n=t[r],n.scale.set(1);var o=0;if(i)for(r=0;r<t.length;r++)n=t[r],n.text=i[r];for(r=0;r<t.length;r++)n=t[r],n.width>o&&(o=n.width);var a=e/o;for(a>1&&(a=1),r=0;r<t.length;r++)t[r].scale.set(a)},e.default=a,t.exports=e.default},function(t,e,i){var n=i(119)("wks"),r=i(73),o=i(7).Symbol,a="function"==typeof o,s=t.exports=function(t){return n[t]||(n[t]=a&&o[t]||(a?o:r)("Symbol."+t))};s.store=n},function(t,e,i){var n;n=function(t,e,n){var r=i(3),o=i(674),a=function(){this.disabled=!1,this.preload=!0,this.currentSound=null,this.sounds={},this.groups={},this.globalVolume=1,this.isMuted=!1,window.onfocus=this._onFocus.bind(this),this.onMuteToggle=new r};a.prototype._onFocus=function(){this.isMuted?this.mute():this.unmute()},a.prototype.addSound=function(t,e,i){if(!this.disabled&&!this.sounds[e]){i=i||{};var n=new Howl({src:[t+".mp3",t+".ogg"],autoplay:i.autoplay||!1,loop:i.loop||!1,volume:i.volume||1});n.realVolume=i.volume||1,this.sounds[e]=n}},a.prototype.addSounds=function(t,e){for(var i=0;i<t.length;i++){var n=t[i];this.addSound(e+n,n)}},a.prototype.addGroup=function(t,e){if(!this.disabled&&!this.groups[e]){var i={index:0,type:0,sounds:t};this.groups[e]=i}},a.prototype.getSoundAtId=function(t){return this.sounds[t]},a.prototype.getSound=function(t){return this.currentSound},a.prototype.play=function(t,e){return this.disabled||!this.sounds[t]?void!this.sounds[t]:(e&&this.sounds[t].volume(e),this.sounds[t].play(),this.currentSound=this.sounds[t],this.currentSound)},a.prototype.fadeTo=function(t,e,i){if("undefined"==typeof i&&(i=2.5),"undefined"==typeof callback&&(callback=null),"undefined"!=typeof e){var n=this.sounds[t];n&&TweenLite.to(n,i,{_volume:e,onUpdate:this.actuallyChangeVolume.bind(this),onComplete:this.stopAndReset.bind(this),onCompleteParams:[t],onUpdateParams:["{self}",t]})}},a.prototype.actuallyChangeVolume=function(t,e){this.setVolume(e,t.target._volume)},a.prototype.stopAndReset=function(t){this.stop(t),this.setVolume(t,1),this.stop(t)},a.prototype.isPlaying=function(t){if(!this.disabled)return!this.sounds[t]._audioNode[0].paused},a.prototype.playGroup=function(t){if(!this.disabled&&this.groups[t]){var e=this.groups[t],i=Math.random()*e.sounds.length|0;this.sounds[e.sounds[i]].play(),this.currentSound=this.sounds[e.sounds[i]]}},a.prototype.setVolume=function(t,e){if(!this.disabled){var i=this.sounds[t];i.realVolume=e,i.volume(e*this.globalVolume)}},a.prototype.stop=function(t){!this.disabled&&this.sounds[t]&&this.sounds[t].stop()},a.prototype.stopAll=function(){if(!this.disabled)for(var t in this.sounds)this.sounds[t].stop()},a.prototype.setPlaybackSpeed=function(t,e){if(!this.disabled){var i=this.sounds[t];i._playbackSpeed=e;var n="music"==t?0:1;i._webAudio&&Howler._howls[n]._audioNode[0]&&(Howler._howls[n]._audioNode[0].bufferSource.playbackRate.value=e)}},a.prototype.getPlaybackSpeed=function(t){if(!this.disabled){var e=this.sounds[t];return e._playbackSpeed||1}},a.prototype.setGlobalVolume=function(t){this.globalVolume=t;for(var e in this.sounds){var i=this.sounds[e];i.volume(i.realVolume*t)}},a.prototype.mute=function(){this.isMuted=!0,Howler.mute(!0),this.onMuteToggle.dispatch(!0)},a.prototype.unmute=function(){this.isMuted=!1,Howler.mute(!1),this.onMuteToggle.dispatch(!1)},a.prototype.check=function(){this.lastSeen=Date.now();var t=function t(){lastSeen=Date.now(),setTimeout(t,50);
};t();var i=document.getElementById("music");i.addEventListener("timeupdate",function(){Date.now()-e.lastSeen>100&&this.pause()},!1)},a.sfx=new a,a.music=new a,a.sfx.disabled=!Howler.usingWebAudio,o.onHide.add(function(){Howler.mute(!0)},Howler),o.onShow.add(function(){a.sfx.isMuted||Howler.mute(!1)}),n.exports=a}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=i(1),s=r(a),u=i(23),l=n(u),h=function(){function t(){o(this,t)}return t.init=function(){var e="pendlefont",i="pendlefont-bold",n=l.default.getJson("config").config.LOCALE;switch(n){case"_cs":e="lubalin",i="pendlefont-bold";case"_tr":e="lubalin",i="pendlefont-bold";case"_bg":e="lubalin",i="pendlefont-bold";case"_ru":e="lubalin",i="pendlefont-bold"}t.normalStyle=new s.TextStyle({fontFamily:e,fontWeight:"normal",fontSize:"40px",fill:"white"}),t.headerStyle=new s.TextStyle({fontFamily:e,fontWeight:"normal",fontSize:"60px",fill:"black"}),t.tutorialStyle=new s.TextStyle({fontFamily:e,fontWeight:"normal",fontSize:"30px",fill:"black",align:"center",wordWrap:!0,wordWrapWidth:500}),t.iceFeedbackStyle=new s.TextStyle({fontFamily:e,fontWeight:"normal",fontSize:"20px",fill:"white",stroke:"black",strokeThickness:4}),t.hudStyle=new s.TextStyle({fontFamily:e,fontWeight:"normal",fontSize:"40px",fill:"white",stroke:"black",strokeThickness:6}),t.iceComboStyle=new s.TextStyle({fontFamily:e,fontWeight:"normal",fontSize:"40px",fill:"white",stroke:"black",strokeThickness:6,align:"center"}),t.fireScoreStyle=new s.TextStyle({fontFamily:e,fontWeight:"normal",fontSize:"36px",fill:"white",stroke:"black",strokeThickness:6}),t.scorePopStyle=new s.TextStyle({fontFamily:e,fontWeight:"normal",fontSize:"40px",fill:"white",stroke:"#C4398A",strokeThickness:8,align:"center",lineHeight:45}),t.gifNameStyle=new s.TextStyle({fontFamily:e,fontWeight:"normal",fontSize:"50px",fill:"white",stroke:"#000000",strokeThickness:8,align:"center",lineHeight:45}),t.countdownStyle=new s.TextStyle({fontFamily:e,fontWeight:"normal",fontSize:"90px",fill:"white",stroke:"black",strokeThickness:10,align:"center"}),t.countdownStyleTitle=new s.TextStyle({fontFamily:e,fontWeight:"normal",fontSize:"22px",fill:"black",stroke:"black",strokeThickness:1,align:"center"}),t.countdownStyleTime=new s.TextStyle({fontFamily:e,fontWeight:"normal",fontSize:"34px",fill:"black",stroke:"black",strokeThickness:2,align:"center"}),t.nameSubmissionStyle=new s.TextStyle({fontFamily:e,fontWeight:"normal",fontSize:"90px",fill:"white",align:"center"}),t.leaderboardStyle=new s.TextStyle({fontFamily:e,fontWeight:"normal",fontSize:"20px",fill:"black",align:"center"}),t.leaderboardBoldStyle=new s.TextStyle({fontFamily:i,fontWeight:"normal",fontSize:"25px",fill:"black",align:"center"}),t.fireScorePopStyle=new s.TextStyle({fontFamily:e,fontWeight:"normal",fontSize:"120px",fill:"white",stroke:"#000000",strokeThickness:8}),t.firePerfectPopStyle=new s.TextStyle({fontFamily:e,fontWeight:"normal",fontSize:"52px",fill:"white",stroke:"#34e634",strokeThickness:8}),t.fireGreatPopStyle=new s.TextStyle({fontFamily:e,fontWeight:"normal",fontSize:"36px",fill:"white",stroke:"#133ff3",strokeThickness:8}),t.fireGoodPopStyle=new s.TextStyle({fontFamily:e,fontWeight:"normal",fontSize:"30px",fill:"white",stroke:"#e5046a",strokeThickness:8}),t.normalFont=e,t.boldFont=i},t.getTutorialStyle=function(e){return new s.Text(e,t.tutorialStyle)},t.getIceFeedbackStyle=function(e){return new s.Text(e,t.iceFeedbackStyle)},t.getFireScoreStyle=function(e){return new s.Text(e,t.fireScoreStyle)},t.getFireScorePopStyle=function(e){return new s.Text(e,t.fireScorePopStyle)},t.getFireGreatPopStyle=function(e){return new s.Text(e,t.fireGreatPopStyle)},t.getFirePerfectPopStyle=function(e){return new s.Text(e,t.firePerfectPopStyle)},t.getFireGoodPopStyle=function(e){return new s.Text(e,t.fireGoodPopStyle)},t.getNormalText=function(e){return new s.Text(e,t.normalStyle)},t.getScorePopText=function(e){return new s.Text(e,t.scorePopStyle)},t.getHudText=function(e){return new s.Text(e,t.hudStyle)},t.getCountdownText=function(e){return new s.Text(e,t.countdownStyle)},t.getCountdownTextTitle=function(e){return new s.Text(e,t.countdownStyleTitle)},t.getCountdownTextTime=function(e){return new s.Text(e,t.countdownStyleTime)},t.getSubmissionText=function(e){return new s.Text(e,t.nameSubmissionStyle)},t.getLeaderboardTextBold=function(e){return new s.Text(e,t.leaderboardBoldStyle)},t.getLeaderboardText=function(e){return new s.Text(e,t.leaderboardStyle)},t.getHeaderText=function(e){return new s.Text(e,t.headerStyle)},t.getGifNameStyle=function(e){return new s.Text(e,t.gifNameStyle)},t.getIceComboText=function(e){return new s.Text(e,t.iceComboStyle)},t.getLastMinuteText=function(e,i){var n=new s.TextStyle({fontFamily:t.normalFont,fontWeight:"normal",fontSize:i+"px",fill:"black",align:"center"});return new s.Text(e,n)},t}();e.default=h,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(3),s=n(a),u=function(){function t(){r(this,t),this.onUpdate=new s.default,this.updateBind=this.update.bind(this),this.active=!1,this.deltaTime=1,this.timeElapsed=0,this.lastTime=0,this.speed=1}return o(t,[{key:"start",value:function(){this.active||(this.active=!0,requestAnimationFrame(this.updateBind))}},{key:"stop",value:function(){this.active&&(this.active=!1)}},{key:"update",value:function(){if(this.active){requestAnimationFrame(this.updateBind);var t=(new Date).getTime(),e=t-this.lastTime;e>100&&(e=100),this.deltaTime=.06*e,this.deltaTime*=this.speed,this.onUpdate.dispatch(this.deltaTime),this.lastTime=t}}},{key:"add",value:function(t,e){this.onUpdate.add(t,e)}},{key:"remove",value:function(t,e){this.onUpdate.remove(t,e)}}]),t}();u.instance=new u,u.game=new u,e.default=u,t.exports=e.default},function(t,e,i){t.exports=!i(10)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(t,e,i){var n=i(4),r=i(218),o=i(50),a=Object.defineProperty;e.f=i(19)?Object.defineProperty:function(t,e,i){if(n(t),e=o(e,!0),n(i),r)try{return a(t,e,i)}catch(t){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(t[e]=i.value),t}},function(t,e,i){var n,r;(function(i){/*!
	 * VERSION: 1.20.2
	 * DATE: 2017-06-30
	 * UPDATES AND DOCS AT: http://greensock.com
	 * 
	 * Includes all of the following: TweenLite, TweenMax, TimelineLite, TimelineMax, EasePack, CSSPlugin, RoundPropsPlugin, BezierPlugin, AttrPlugin, DirectionalRotationPlugin
	 *
	 * @license Copyright (c) 2008-2017, GreenSock. All rights reserved.
	 * This work is subject to the terms at http://greensock.com/standard-license or for
	 * Club GreenSock members, the software agreement that was issued with your membership.
	 * 
	 * @author: Jack Doyle, jack@greensock.com
	 **/
var o="undefined"!=typeof t&&t.exports&&"undefined"!=typeof i?i:this||window;(o._gsQueue||(o._gsQueue=[])).push(function(){"use strict";o._gsDefine("TweenMax",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},r=function(t,e,i){var n,r,o=t.cycle;for(n in o)r=o[n],t[n]="function"==typeof r?r(i,e[i]):r[i%r.length];delete t.cycle},o=function(t,e,n){i.call(this,t,e,n),this._cycle=0,this._yoyo=this.vars.yoyo===!0||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._dirty=!0,this.render=o.prototype.render},a=1e-10,s=i._internals,u=s.isSelector,l=s.isArray,h=o.prototype=i.to({},.1,{}),c=[];o.version="1.20.2",h.constructor=o,h.kill()._gc=!1,o.killTweensOf=o.killDelayedCallsTo=i.killTweensOf,o.getTweensOf=i.getTweensOf,o.lagSmoothing=i.lagSmoothing,o.ticker=i.ticker,o.render=i.render,h.invalidate=function(){return this._yoyo=this.vars.yoyo===!0||!!this.vars.yoyoEase,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._yoyoEase=null,this._uncache(!0),i.prototype.invalidate.call(this)},h.updateTo=function(t,e){var n,r=this.ratio,o=this.vars.immediateRender||t.immediateRender;e&&this._startTime<this._timeline._time&&(this._startTime=this._timeline._time,this._uncache(!1),this._gc?this._enabled(!0,!1):this._timeline.insert(this,this._startTime-this._delay));for(n in t)this.vars[n]=t[n];if(this._initted||o)if(e)this._initted=!1,o&&this.render(0,!0,!0);else if(this._gc&&this._enabled(!0,!1),this._notifyPluginsOfEnabled&&this._firstPT&&i._onPluginEvent("_onDisable",this),this._time/this._duration>.998){var a=this._totalTime;this.render(0,!0,!1),this._initted=!1,this.render(a,!0,!1)}else if(this._initted=!1,this._init(),this._time>0||o)for(var s,u=1/(1-r),l=this._firstPT;l;)s=l.s+l.c,l.c*=u,l.s=s-l.c,l=l._next;return this},h.render=function(t,e,n){this._initted||0===this._duration&&this.vars.repeat&&this.invalidate();var r,o,u,l,h,c,f,d,p,y=this._dirty?this.totalDuration():this._totalDuration,v=this._time,m=this._totalTime,g=this._cycle,_=this._duration,b=this._rawPrevTime;if(t>=y-1e-7&&t>=0?(this._totalTime=y,this._cycle=this._repeat,this._yoyo&&0!==(1&this._cycle)?(this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0):(this._time=_,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1),this._reversed||(r=!0,o="onComplete",n=n||this._timeline.autoRemoveChildren),0===_&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(t=0),(b<0||t<=0&&t>=-1e-7||b===a&&"isPause"!==this.data)&&b!==t&&(n=!0,b>a&&(o="onReverseComplete")),this._rawPrevTime=d=!e||t||b===t?t:a)):t<1e-7?(this._totalTime=this._time=this._cycle=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==m||0===_&&b>0)&&(o="onReverseComplete",r=this._reversed),t<0&&(this._active=!1,0===_&&(this._initted||!this.vars.lazy||n)&&(b>=0&&(n=!0),this._rawPrevTime=d=!e||t||b===t?t:a)),this._initted||(n=!0)):(this._totalTime=this._time=t,0!==this._repeat&&(l=_+this._repeatDelay,this._cycle=this._totalTime/l>>0,0!==this._cycle&&this._cycle===this._totalTime/l&&m<=t&&this._cycle--,this._time=this._totalTime-this._cycle*l,this._yoyo&&0!==(1&this._cycle)&&(this._time=_-this._time,p=this._yoyoEase||this.vars.yoyoEase,p&&(this._yoyoEase||(p!==!0||this._initted?this._yoyoEase=p=p===!0?this._ease:p instanceof Ease?p:Ease.map[p]:(p=this.vars.ease,this._yoyoEase=p=p?p instanceof Ease?p:"function"==typeof p?new Ease(p,this.vars.easeParams):Ease.map[p]||i.defaultEase:i.defaultEase)),this.ratio=p?1-p.getRatio((_-this._time)/_):0)),this._time>_?this._time=_:this._time<0&&(this._time=0)),this._easeType&&!p?(h=this._time/_,c=this._easeType,f=this._easePower,(1===c||3===c&&h>=.5)&&(h=1-h),3===c&&(h*=2),1===f?h*=h:2===f?h*=h*h:3===f?h*=h*h*h:4===f&&(h*=h*h*h*h),1===c?this.ratio=1-h:2===c?this.ratio=h:this._time/_<.5?this.ratio=h/2:this.ratio=1-h/2):p||(this.ratio=this._ease.getRatio(this._time/_))),v===this._time&&!n&&g===this._cycle)return void(m!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=v,this._totalTime=m,this._rawPrevTime=b,this._cycle=g,s.lazyTweens.push(this),void(this._lazy=[t,e]);!this._time||r||p?r&&this._ease._calcEnd&&!p&&(this.ratio=this._ease.getRatio(0===this._time?0:1)):this.ratio=this._ease.getRatio(this._time/_)}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==v&&t>=0&&(this._active=!0),0===m&&(2===this._initted&&t>0&&this._init(),this._startAt&&(t>=0?this._startAt.render(t,e,n):o||(o="_dummyGS")),this.vars.onStart&&(0===this._totalTime&&0!==_||e||this._callback("onStart"))),u=this._firstPT;u;)u.f?u.t[u.p](u.c*this.ratio+u.s):u.t[u.p]=u.c*this.ratio+u.s,u=u._next;this._onUpdate&&(t<0&&this._startAt&&this._startTime&&this._startAt.render(t,e,n),e||(this._totalTime!==m||o)&&this._callback("onUpdate")),this._cycle!==g&&(e||this._gc||this.vars.onRepeat&&this._callback("onRepeat")),o&&(this._gc&&!n||(t<0&&this._startAt&&!this._onUpdate&&this._startTime&&this._startAt.render(t,e,n),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[o]&&this._callback(o),0===_&&this._rawPrevTime===a&&d!==a&&(this._rawPrevTime=0)))},o.to=function(t,e,i){return new o(t,e,i)},o.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new o(t,e,i)},o.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new o(t,e,n)},o.staggerTo=o.allTo=function(t,e,a,s,h,f,d){s=s||0;var p,y,v,m,g=0,_=[],b=function(){a.onComplete&&a.onComplete.apply(a.onCompleteScope||this,arguments),h.apply(d||a.callbackScope||this,f||c)},w=a.cycle,x=a.startAt&&a.startAt.cycle;for(l(t)||("string"==typeof t&&(t=i.selector(t)||t),u(t)&&(t=n(t))),t=t||[],s<0&&(t=n(t),t.reverse(),s*=-1),p=t.length-1,v=0;v<=p;v++){y={};for(m in a)y[m]=a[m];if(w&&(r(y,t,v),null!=y.duration&&(e=y.duration,delete y.duration)),x){x=y.startAt={};for(m in a.startAt)x[m]=a.startAt[m];r(y.startAt,t,v)}y.delay=g+(y.delay||0),v===p&&h&&(y.onComplete=b),_[v]=new o(t[v],e,y),g+=s}return _},o.staggerFrom=o.allFrom=function(t,e,i,n,r,a,s){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,o.staggerTo(t,e,i,n,r,a,s)},o.staggerFromTo=o.allFromTo=function(t,e,i,n,r,a,s,u){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,o.staggerTo(t,e,n,r,a,s,u)},o.delayedCall=function(t,e,i,n,r){return new o(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,useFrames:r,overwrite:0})},o.set=function(t,e){return new o(t,0,e)},o.isTweening=function(t){return i.getTweensOf(t,!0).length>0};var f=function(t,e){for(var n=[],r=0,o=t._first;o;)o instanceof i?n[r++]=o:(e&&(n[r++]=o),n=n.concat(f(o,e)),r=n.length),o=o._next;return n},d=o.getAllTweens=function(e){return f(t._rootTimeline,e).concat(f(t._rootFramesTimeline,e))};o.killAll=function(t,i,n,r){null==i&&(i=!0),null==n&&(n=!0);var o,a,s,u=d(0!=r),l=u.length,h=i&&n&&r;for(s=0;s<l;s++)a=u[s],(h||a instanceof e||(o=a.target===a.vars.onComplete)&&n||i&&!o)&&(t?a.totalTime(a._reversed?0:a.totalDuration()):a._enabled(!1,!1))},o.killChildTweensOf=function(t,e){if(null!=t){var r,a,h,c,f,d=s.tweenLookup;if("string"==typeof t&&(t=i.selector(t)||t),u(t)&&(t=n(t)),l(t))for(c=t.length;--c>-1;)o.killChildTweensOf(t[c],e);else{r=[];for(h in d)for(a=d[h].target.parentNode;a;)a===t&&(r=r.concat(d[h].tweens)),a=a.parentNode;for(f=r.length,c=0;c<f;c++)e&&r[c].totalTime(r[c].totalDuration()),r[c]._enabled(!1,!1)}}};var p=function(t,i,n,r){i=i!==!1,n=n!==!1,r=r!==!1;for(var o,a,s=d(r),u=i&&n&&r,l=s.length;--l>-1;)a=s[l],(u||a instanceof e||(o=a.target===a.vars.onComplete)&&n||i&&!o)&&a.paused(t)};return o.pauseAll=function(t,e,i){p(!0,t,e,i)},o.resumeAll=function(t,e,i){p(!1,t,e,i)},o.globalTimeScale=function(e){var n=t._rootTimeline,r=i.ticker.time;return arguments.length?(e=e||a,n._startTime=r-(r-n._startTime)*n._timeScale/e,n=t._rootFramesTimeline,r=i.ticker.frame,n._startTime=r-(r-n._startTime)*n._timeScale/e,n._timeScale=t._rootTimeline._timeScale=e,e):n._timeScale},h.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()},h.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()},h.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},h.duration=function(e){return arguments.length?t.prototype.duration.call(this,e):this._duration},h.totalDuration=function(t){return arguments.length?this._repeat===-1?this:this.duration((t-this._repeat*this._repeatDelay)/(this._repeat+1)):(this._dirty&&(this._totalDuration=this._repeat===-1?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat,this._dirty=!1),this._totalDuration)},h.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},h.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},h.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},o},!0),o._gsDefine("TimelineLite",["core.Animation","core.SimpleTimeline","TweenLite"],function(t,e,i){var n=function(t){e.call(this,t),this._labels={},this.autoRemoveChildren=this.vars.autoRemoveChildren===!0,this.smoothChildTiming=this.vars.smoothChildTiming===!0,this._sortChildren=!0,this._onUpdate=this.vars.onUpdate;var i,n,r=this.vars;for(n in r)i=r[n],l(i)&&i.join("").indexOf("{self}")!==-1&&(r[n]=this._swapSelfInParams(i));l(r.tweens)&&this.add(r.tweens,0,r.align,r.stagger)},r=1e-10,a=i._internals,s=n._internals={},u=a.isSelector,l=a.isArray,h=a.lazyTweens,c=a.lazyRender,f=o._gsDefine.globals,d=function(t){var e,i={};for(e in t)i[e]=t[e];return i},p=function(t,e,i){var n,r,o=t.cycle;for(n in o)r=o[n],t[n]="function"==typeof r?r(i,e[i]):r[i%r.length];delete t.cycle},y=s.pauseCallback=function(){},v=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},m=n.prototype=new e;return n.version="1.20.2",m.constructor=n,m.kill()._gc=m._forcingPlayhead=m._hasPause=!1,m.to=function(t,e,n,r){var o=n.repeat&&f.TweenMax||i;return e?this.add(new o(t,e,n),r):this.set(t,n,r)},m.from=function(t,e,n,r){return this.add((n.repeat&&f.TweenMax||i).from(t,e,n),r)},m.fromTo=function(t,e,n,r,o){var a=r.repeat&&f.TweenMax||i;return e?this.add(a.fromTo(t,e,n,r),o):this.set(t,r,o)},m.staggerTo=function(t,e,r,o,a,s,l,h){var c,f,y=new n({onComplete:s,onCompleteParams:l,callbackScope:h,smoothChildTiming:this.smoothChildTiming}),m=r.cycle;for("string"==typeof t&&(t=i.selector(t)||t),t=t||[],u(t)&&(t=v(t)),o=o||0,o<0&&(t=v(t),t.reverse(),o*=-1),f=0;f<t.length;f++)c=d(r),c.startAt&&(c.startAt=d(c.startAt),c.startAt.cycle&&p(c.startAt,t,f)),m&&(p(c,t,f),null!=c.duration&&(e=c.duration,delete c.duration)),y.to(t[f],e,c,f*o);return this.add(y,a)},m.staggerFrom=function(t,e,i,n,r,o,a,s){return i.immediateRender=0!=i.immediateRender,i.runBackwards=!0,this.staggerTo(t,e,i,n,r,o,a,s)},m.staggerFromTo=function(t,e,i,n,r,o,a,s,u){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,this.staggerTo(t,e,n,r,o,a,s,u)},m.call=function(t,e,n,r){return this.add(i.delayedCall(0,t,e,n),r)},m.set=function(t,e,n){return n=this._parseTimeOrLabel(n,0,!0),null==e.immediateRender&&(e.immediateRender=n===this._time&&!this._paused),this.add(new i(t,0,e),n)},n.exportRoot=function(t,e){t=t||{},null==t.smoothChildTiming&&(t.smoothChildTiming=!0);var r,o,a=new n(t),s=a._timeline;for(null==e&&(e=!0),s._remove(a,!0),a._startTime=0,a._rawPrevTime=a._time=a._totalTime=s._time,r=s._first;r;)o=r._next,e&&r instanceof i&&r.target===r.vars.onComplete||a.add(r,r._startTime-r._delay),r=o;return s.add(a,0),a},m.add=function(r,o,a,s){var u,h,c,f,d,p;if("number"!=typeof o&&(o=this._parseTimeOrLabel(o,0,!0,r)),!(r instanceof t)){if(r instanceof Array||r&&r.push&&l(r)){for(a=a||"normal",s=s||0,u=o,h=r.length,c=0;c<h;c++)l(f=r[c])&&(f=new n({tweens:f})),this.add(f,u),"string"!=typeof f&&"function"!=typeof f&&("sequence"===a?u=f._startTime+f.totalDuration()/f._timeScale:"start"===a&&(f._startTime-=f.delay())),u+=s;return this._uncache(!0)}if("string"==typeof r)return this.addLabel(r,o);if("function"!=typeof r)throw"Cannot add "+r+" into the timeline; it is not a tween, timeline, function, or string.";r=i.delayedCall(0,r)}if(e.prototype.add.call(this,r,o),r._time&&r.render((this.rawTime()-r._startTime)*r._timeScale,!1,!1),(this._gc||this._time===this._duration)&&!this._paused&&this._duration<this.duration())for(d=this,p=d.rawTime()>r._startTime;d._timeline;)p&&d._timeline.smoothChildTiming?d.totalTime(d._totalTime,!0):d._gc&&d._enabled(!0,!1),d=d._timeline;return this},m.remove=function(e){if(e instanceof t){this._remove(e,!1);var i=e._timeline=e.vars.useFrames?t._rootFramesTimeline:t._rootTimeline;return e._startTime=(e._paused?e._pauseTime:i._time)-(e._reversed?e.totalDuration()-e._totalTime:e._totalTime)/e._timeScale,this}if(e instanceof Array||e&&e.push&&l(e)){for(var n=e.length;--n>-1;)this.remove(e[n]);return this}return"string"==typeof e?this.removeLabel(e):this.kill(null,e)},m._remove=function(t,i){e.prototype._remove.call(this,t,i);var n=this._last;return n?this._time>this.duration()&&(this._time=this._duration,this._totalTime=this._totalDuration):this._time=this._totalTime=this._duration=this._totalDuration=0,this},m.append=function(t,e){return this.add(t,this._parseTimeOrLabel(null,e,!0,t))},m.insert=m.insertMultiple=function(t,e,i,n){return this.add(t,e||0,i,n)},m.appendMultiple=function(t,e,i,n){return this.add(t,this._parseTimeOrLabel(null,e,!0,t),i,n)},m.addLabel=function(t,e){return this._labels[t]=this._parseTimeOrLabel(e),this},m.addPause=function(t,e,n,r){var o=i.delayedCall(0,y,n,r||this);return o.vars.onComplete=o.vars.onReverseComplete=e,o.data="isPause",this._hasPause=!0,this.add(o,t)},m.removeLabel=function(t){return delete this._labels[t],this},m.getLabelTime=function(t){return null!=this._labels[t]?this._labels[t]:-1},m._parseTimeOrLabel=function(e,i,n,r){var o,a;if(r instanceof t&&r.timeline===this)this.remove(r);else if(r&&(r instanceof Array||r.push&&l(r)))for(a=r.length;--a>-1;)r[a]instanceof t&&r[a].timeline===this&&this.remove(r[a]);if(o=this.duration()>99999999999?this.recent().endTime(!1):this._duration,"string"==typeof i)return this._parseTimeOrLabel(i,n&&"number"==typeof e&&null==this._labels[i]?e-o:0,n);if(i=i||0,"string"!=typeof e||!isNaN(e)&&null==this._labels[e])null==e&&(e=o);else{if(a=e.indexOf("="),a===-1)return null==this._labels[e]?n?this._labels[e]=o+i:i:this._labels[e]+i;i=parseInt(e.charAt(a-1)+"1",10)*Number(e.substr(a+1)),e=a>1?this._parseTimeOrLabel(e.substr(0,a-1),0,n):o}return Number(e)+i},m.seek=function(t,e){return this.totalTime("number"==typeof t?t:this._parseTimeOrLabel(t),e!==!1)},m.stop=function(){return this.paused(!0)},m.gotoAndPlay=function(t,e){return this.play(t,e)},m.gotoAndStop=function(t,e){return this.pause(t,e)},m.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,o,a,s,u,l,f,d=this._dirty?this.totalDuration():this._totalDuration,p=this._time,y=this._startTime,v=this._timeScale,m=this._paused;if(t>=d-1e-7&&t>=0)this._totalTime=this._time=d,this._reversed||this._hasPausedChild()||(o=!0,s="onComplete",u=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||this._rawPrevTime<0||this._rawPrevTime===r)&&this._rawPrevTime!==t&&this._first&&(u=!0,this._rawPrevTime>r&&(s="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,t=d+1e-4;else if(t<1e-7)if(this._totalTime=this._time=0,(0!==p||0===this._duration&&this._rawPrevTime!==r&&(this._rawPrevTime>0||t<0&&this._rawPrevTime>=0))&&(s="onReverseComplete",o=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(u=o=!0,s="onReverseComplete"):this._rawPrevTime>=0&&this._first&&(u=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,0===t&&o)for(n=this._first;n&&0===n._startTime;)n._duration||(o=!1),n=n._next;t=0,this._initted||(u=!0)}else{if(this._hasPause&&!this._forcingPlayhead&&!e){if(t>=p)for(n=this._first;n&&n._startTime<=t&&!l;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(l=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!l;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(l=n),n=n._prev;l&&(this._time=t=l._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}this._totalTime=this._time=this._rawPrevTime=t}if(this._time!==p&&this._first||i||u||l){if(this._initted||(this._initted=!0),this._active||!this._paused&&this._time!==p&&t>0&&(this._active=!0),0===p&&this.vars.onStart&&(0===this._time&&this._duration||e||this._callback("onStart")),f=this._time,f>=p)for(n=this._first;n&&(a=n._next,f===this._time&&(!this._paused||m));)(n._active||n._startTime<=f&&!n._paused&&!n._gc)&&(l===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=a;else for(n=this._last;n&&(a=n._prev,f===this._time&&(!this._paused||m));){if(n._active||n._startTime<=p&&!n._paused&&!n._gc){if(l===n){for(l=n._prev;l&&l.endTime()>this._time;)l.render(l._reversed?l.totalDuration()-(t-l._startTime)*l._timeScale:(t-l._startTime)*l._timeScale,e,i),l=l._prev;l=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=a}this._onUpdate&&(e||(h.length&&c(),this._callback("onUpdate"))),s&&(this._gc||y!==this._startTime&&v===this._timeScale||(0===this._time||d>=this.totalDuration())&&(o&&(h.length&&c(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[s]&&this._callback(s)))}},m._hasPausedChild=function(){for(var t=this._first;t;){if(t._paused||t instanceof n&&t._hasPausedChild())return!0;t=t._next}return!1},m.getChildren=function(t,e,n,r){r=r||-9999999999;for(var o=[],a=this._first,s=0;a;)a._startTime<r||(a instanceof i?e!==!1&&(o[s++]=a):(n!==!1&&(o[s++]=a),t!==!1&&(o=o.concat(a.getChildren(!0,e,n)),s=o.length))),a=a._next;return o},m.getTweensOf=function(t,e){var n,r,o=this._gc,a=[],s=0;for(o&&this._enabled(!0,!0),n=i.getTweensOf(t),r=n.length;--r>-1;)(n[r].timeline===this||e&&this._contains(n[r]))&&(a[s++]=n[r]);return o&&this._enabled(!1,!0),a},m.recent=function(){return this._recent},m._contains=function(t){for(var e=t.timeline;e;){if(e===this)return!0;e=e.timeline}return!1},m.shiftChildren=function(t,e,i){i=i||0;for(var n,r=this._first,o=this._labels;r;)r._startTime>=i&&(r._startTime+=t),r=r._next;if(e)for(n in o)o[n]>=i&&(o[n]+=t);return this._uncache(!0)},m._kill=function(t,e){if(!t&&!e)return this._enabled(!1,!1);for(var i=e?this.getTweensOf(e):this.getChildren(!0,!0,!1),n=i.length,r=!1;--n>-1;)i[n]._kill(t,e)&&(r=!0);return r},m.clear=function(t){var e=this.getChildren(!1,!0,!0),i=e.length;for(this._time=this._totalTime=0;--i>-1;)e[i]._enabled(!1,!1);return t!==!1&&(this._labels={}),this._uncache(!0)},m.invalidate=function(){for(var e=this._first;e;)e.invalidate(),e=e._next;return t.prototype.invalidate.call(this)},m._enabled=function(t,i){if(t===this._gc)for(var n=this._first;n;)n._enabled(t,!0),n=n._next;return e.prototype._enabled.call(this,t,i)},m.totalTime=function(e,i,n){this._forcingPlayhead=!0;var r=t.prototype.totalTime.apply(this,arguments);return this._forcingPlayhead=!1,r},m.duration=function(t){return arguments.length?(0!==this.duration()&&0!==t&&this.timeScale(this._duration/t),this):(this._dirty&&this.totalDuration(),this._duration)},m.totalDuration=function(t){if(!arguments.length){if(this._dirty){for(var e,i,n=0,r=this._last,o=999999999999;r;)e=r._prev,r._dirty&&r.totalDuration(),r._startTime>o&&this._sortChildren&&!r._paused?this.add(r,r._startTime-r._delay):o=r._startTime,r._startTime<0&&!r._paused&&(n-=r._startTime,this._timeline.smoothChildTiming&&(this._startTime+=r._startTime/this._timeScale),this.shiftChildren(-r._startTime,!1,-9999999999),o=0),i=r._startTime+r._totalDuration/r._timeScale,i>n&&(n=i),r=e;this._duration=this._totalDuration=n,this._dirty=!1}return this._totalDuration}return t&&this.totalDuration()?this.timeScale(this._totalDuration/t):this},m.paused=function(e){if(!e)for(var i=this._first,n=this._time;i;)i._startTime===n&&"isPause"===i.data&&(i._rawPrevTime=0),i=i._next;return t.prototype.paused.apply(this,arguments)},m.usesFrames=function(){for(var e=this._timeline;e._timeline;)e=e._timeline;return e===t._rootFramesTimeline},m.rawTime=function(t){return t&&(this._paused||this._repeat&&this.time()>0&&this.totalProgress()<1)?this._totalTime%(this._duration+this._repeatDelay):this._paused?this._totalTime:(this._timeline.rawTime(t)-this._startTime)*this._timeScale},n},!0),o._gsDefine("TimelineMax",["TimelineLite","TweenLite","easing.Ease"],function(t,e,i){var n=function(e){t.call(this,e),this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._cycle=0,this._yoyo=this.vars.yoyo===!0,this._dirty=!0},r=1e-10,a=e._internals,s=a.lazyTweens,u=a.lazyRender,l=o._gsDefine.globals,h=new i(null,null,1,0),c=n.prototype=new t;return c.constructor=n,c.kill()._gc=!1,n.version="1.20.2",c.invalidate=function(){return this._yoyo=this.vars.yoyo===!0,this._repeat=this.vars.repeat||0,this._repeatDelay=this.vars.repeatDelay||0,this._uncache(!0),t.prototype.invalidate.call(this)},c.addCallback=function(t,i,n,r){return this.add(e.delayedCall(0,t,n,r),i)},c.removeCallback=function(t,e){if(t)if(null==e)this._kill(null,t);else for(var i=this.getTweensOf(t,!1),n=i.length,r=this._parseTimeOrLabel(e);--n>-1;)i[n]._startTime===r&&i[n]._enabled(!1,!1);return this},c.removePause=function(e){return this.removeCallback(t._internals.pauseCallback,e)},c.tweenTo=function(t,i){i=i||{};var n,r,o,a={ease:h,useFrames:this.usesFrames(),immediateRender:!1},s=i.repeat&&l.TweenMax||e;for(r in i)a[r]=i[r];return a.time=this._parseTimeOrLabel(t),n=Math.abs(Number(a.time)-this._time)/this._timeScale||.001,o=new s(this,n,a),a.onStart=function(){o.target.paused(!0),o.vars.time!==o.target.time()&&n===o.duration()&&o.duration(Math.abs(o.vars.time-o.target.time())/o.target._timeScale),i.onStart&&i.onStart.apply(i.onStartScope||i.callbackScope||o,i.onStartParams||[])},o},c.tweenFromTo=function(t,e,i){i=i||{},t=this._parseTimeOrLabel(t),i.startAt={onComplete:this.seek,onCompleteParams:[t],callbackScope:this},i.immediateRender=i.immediateRender!==!1;var n=this.tweenTo(e,i);return n.duration(Math.abs(n.vars.time-t)/this._timeScale||.001)},c.render=function(t,e,i){this._gc&&this._enabled(!0,!1);var n,o,a,l,h,c,f,d,p=this._dirty?this.totalDuration():this._totalDuration,y=this._duration,v=this._time,m=this._totalTime,g=this._startTime,_=this._timeScale,b=this._rawPrevTime,w=this._paused,x=this._cycle;if(t>=p-1e-7&&t>=0)this._locked||(this._totalTime=p,this._cycle=this._repeat),this._reversed||this._hasPausedChild()||(o=!0,l="onComplete",h=!!this._timeline.autoRemoveChildren,0===this._duration&&(t<=0&&t>=-1e-7||b<0||b===r)&&b!==t&&this._first&&(h=!0,b>r&&(l="onReverseComplete"))),this._rawPrevTime=this._duration||!e||t||this._rawPrevTime===t?t:r,this._yoyo&&0!==(1&this._cycle)?this._time=t=0:(this._time=y,t=y+1e-4);else if(t<1e-7)if(this._locked||(this._totalTime=this._cycle=0),this._time=0,(0!==v||0===y&&b!==r&&(b>0||t<0&&b>=0)&&!this._locked)&&(l="onReverseComplete",o=this._reversed),t<0)this._active=!1,this._timeline.autoRemoveChildren&&this._reversed?(h=o=!0,l="onReverseComplete"):b>=0&&this._first&&(h=!0),this._rawPrevTime=t;else{if(this._rawPrevTime=y||!e||t||this._rawPrevTime===t?t:r,0===t&&o)for(n=this._first;n&&0===n._startTime;)n._duration||(o=!1),n=n._next;t=0,this._initted||(h=!0)}else if(0===y&&b<0&&(h=!0),this._time=this._rawPrevTime=t,this._locked||(this._totalTime=t,0!==this._repeat&&(c=y+this._repeatDelay,this._cycle=this._totalTime/c>>0,0!==this._cycle&&this._cycle===this._totalTime/c&&m<=t&&this._cycle--,this._time=this._totalTime-this._cycle*c,this._yoyo&&0!==(1&this._cycle)&&(this._time=y-this._time),this._time>y?(this._time=y,t=y+1e-4):this._time<0?this._time=t=0:t=this._time)),this._hasPause&&!this._forcingPlayhead&&!e){if(t=this._time,t>=v||this._repeat&&x!==this._cycle)for(n=this._first;n&&n._startTime<=t&&!f;)n._duration||"isPause"!==n.data||n.ratio||0===n._startTime&&0===this._rawPrevTime||(f=n),n=n._next;else for(n=this._last;n&&n._startTime>=t&&!f;)n._duration||"isPause"===n.data&&n._rawPrevTime>0&&(f=n),n=n._prev;f&&f._startTime<y&&(this._time=t=f._startTime,this._totalTime=t+this._cycle*(this._totalDuration+this._repeatDelay))}if(this._cycle!==x&&!this._locked){var T=this._yoyo&&0!==(1&x),S=T===(this._yoyo&&0!==(1&this._cycle)),E=this._totalTime,C=this._cycle,P=this._rawPrevTime,M=this._time;if(this._totalTime=x*y,this._cycle<x?T=!T:this._totalTime+=y,this._time=v,this._rawPrevTime=0===y?b-1e-4:b,this._cycle=x,this._locked=!0,v=T?0:y,this.render(v,e,0===y),e||this._gc||this.vars.onRepeat&&(this._cycle=C,this._locked=!1,this._callback("onRepeat")),v!==this._time)return;if(S&&(this._cycle=x,this._locked=!0,v=T?y+1e-4:-1e-4,this.render(v,!0,!1)),this._locked=!1,this._paused&&!w)return;this._time=M,this._totalTime=E,this._cycle=C,this._rawPrevTime=P}if(!(this._time!==v&&this._first||i||h||f))return void(m!==this._totalTime&&this._onUpdate&&(e||this._callback("onUpdate")));if(this._initted||(this._initted=!0),this._active||!this._paused&&this._totalTime!==m&&t>0&&(this._active=!0),0===m&&this.vars.onStart&&(0===this._totalTime&&this._totalDuration||e||this._callback("onStart")),d=this._time,d>=v)for(n=this._first;n&&(a=n._next,d===this._time&&(!this._paused||w));)(n._active||n._startTime<=this._time&&!n._paused&&!n._gc)&&(f===n&&this.pause(),n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)),n=a;else for(n=this._last;n&&(a=n._prev,d===this._time&&(!this._paused||w));){if(n._active||n._startTime<=v&&!n._paused&&!n._gc){if(f===n){for(f=n._prev;f&&f.endTime()>this._time;)f.render(f._reversed?f.totalDuration()-(t-f._startTime)*f._timeScale:(t-f._startTime)*f._timeScale,e,i),f=f._prev;f=null,this.pause()}n._reversed?n.render((n._dirty?n.totalDuration():n._totalDuration)-(t-n._startTime)*n._timeScale,e,i):n.render((t-n._startTime)*n._timeScale,e,i)}n=a}this._onUpdate&&(e||(s.length&&u(),this._callback("onUpdate"))),l&&(this._locked||this._gc||g!==this._startTime&&_===this._timeScale||(0===this._time||p>=this.totalDuration())&&(o&&(s.length&&u(),this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[l]&&this._callback(l)))},c.getActive=function(t,e,i){null==t&&(t=!0),null==e&&(e=!0),null==i&&(i=!1);var n,r,o=[],a=this.getChildren(t,e,i),s=0,u=a.length;for(n=0;n<u;n++)r=a[n],r.isActive()&&(o[s++]=r);return o},c.getLabelAfter=function(t){t||0!==t&&(t=this._time);var e,i=this.getLabelsArray(),n=i.length;for(e=0;e<n;e++)if(i[e].time>t)return i[e].name;return null},c.getLabelBefore=function(t){null==t&&(t=this._time);for(var e=this.getLabelsArray(),i=e.length;--i>-1;)if(e[i].time<t)return e[i].name;return null},c.getLabelsArray=function(){var t,e=[],i=0;for(t in this._labels)e[i++]={time:this._labels[t],name:t};return e.sort(function(t,e){return t.time-e.time}),e},c.invalidate=function(){return this._locked=!1,t.prototype.invalidate.call(this)},c.progress=function(t,e){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&0!==(1&this._cycle)?1-t:t)+this._cycle*(this._duration+this._repeatDelay),e):this._time/this.duration()||0},c.totalProgress=function(t,e){return arguments.length?this.totalTime(this.totalDuration()*t,e):this._totalTime/this.totalDuration()||0},c.totalDuration=function(e){return arguments.length?this._repeat!==-1&&e?this.timeScale(this.totalDuration()/e):this:(this._dirty&&(t.prototype.totalDuration.call(this),this._totalDuration=this._repeat===-1?999999999999:this._duration*(this._repeat+1)+this._repeatDelay*this._repeat),this._totalDuration)},c.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),t>this._duration&&(t=this._duration),this._yoyo&&0!==(1&this._cycle)?t=this._duration-t+this._cycle*(this._duration+this._repeatDelay):0!==this._repeat&&(t+=this._cycle*(this._duration+this._repeatDelay)),this.totalTime(t,e)):this._time},c.repeat=function(t){return arguments.length?(this._repeat=t,this._uncache(!0)):this._repeat},c.repeatDelay=function(t){return arguments.length?(this._repeatDelay=t,this._uncache(!0)):this._repeatDelay},c.yoyo=function(t){return arguments.length?(this._yoyo=t,this):this._yoyo},c.currentLabel=function(t){return arguments.length?this.seek(t,!0):this.getLabelBefore(this._time+1e-8)},n},!0),function(){var t=180/Math.PI,e=[],i=[],n=[],r={},a=o._gsDefine.globals,s=function(t,e,i,n){i===n&&(i=n-(n-e)/1e6),t===e&&(e=t+(i-t)/1e6),this.a=t,this.b=e,this.c=i,this.d=n,this.da=n-t,this.ca=i-t,this.ba=e-t},u=",x,y,z,left,top,right,bottom,marginTop,marginLeft,marginRight,marginBottom,paddingLeft,paddingTop,paddingRight,paddingBottom,backgroundPosition,backgroundPosition_y,",l=function(t,e,i,n){var r={a:t},o={},a={},s={c:n},u=(t+e)/2,l=(e+i)/2,h=(i+n)/2,c=(u+l)/2,f=(l+h)/2,d=(f-c)/8;return r.b=u+(t-u)/4,o.b=c+d,r.c=o.a=(r.b+o.b)/2,o.c=a.a=(c+f)/2,a.b=f-d,s.b=h+(n-h)/4,a.c=s.a=(a.b+s.b)/2,[r,o,a,s]},h=function(t,r,o,a,s){var u,h,c,f,d,p,y,v,m,g,_,b,w,x=t.length-1,T=0,S=t[0].a;for(u=0;u<x;u++)d=t[T],h=d.a,c=d.d,f=t[T+1].d,s?(_=e[u],b=i[u],w=(b+_)*r*.25/(a?.5:n[u]||.5),p=c-(c-h)*(a?.5*r:0!==_?w/_:0),y=c+(f-c)*(a?.5*r:0!==b?w/b:0),v=c-(p+((y-p)*(3*_/(_+b)+.5)/4||0))):(p=c-(c-h)*r*.5,y=c+(f-c)*r*.5,v=c-(p+y)/2),p+=v,y+=v,d.c=m=p,0!==u?d.b=S:d.b=S=d.a+.6*(d.c-d.a),d.da=c-h,d.ca=m-h,d.ba=S-h,o?(g=l(h,S,m,c),t.splice(T,1,g[0],g[1],g[2],g[3]),T+=4):T++,S=y;d=t[T],d.b=S,d.c=S+.4*(d.d-S),d.da=d.d-d.a,d.ca=d.c-d.a,d.ba=S-d.a,o&&(g=l(d.a,S,d.c,d.d),t.splice(T,1,g[0],g[1],g[2],g[3]))},c=function(t,n,r,o){var a,u,l,h,c,f,d=[];if(o)for(t=[o].concat(t),u=t.length;--u>-1;)"string"==typeof(f=t[u][n])&&"="===f.charAt(1)&&(t[u][n]=o[n]+Number(f.charAt(0)+f.substr(2)));if(a=t.length-2,a<0)return d[0]=new s(t[0][n],0,0,t[0][n]),d;for(u=0;u<a;u++)l=t[u][n],h=t[u+1][n],d[u]=new s(l,0,0,h),r&&(c=t[u+2][n],e[u]=(e[u]||0)+(h-l)*(h-l),i[u]=(i[u]||0)+(c-h)*(c-h));return d[u]=new s(t[u][n],0,0,t[u+1][n]),d},f=function(t,o,a,s,l,f){var d,p,y,v,m,g,_,b,w={},x=[],T=f||t[0];l="string"==typeof l?","+l+",":u,null==o&&(o=1);for(p in t[0])x.push(p);if(t.length>1){for(b=t[t.length-1],_=!0,d=x.length;--d>-1;)if(p=x[d],Math.abs(T[p]-b[p])>.05){_=!1;break}_&&(t=t.concat(),f&&t.unshift(f),t.push(t[1]),f=t[t.length-3])}for(e.length=i.length=n.length=0,d=x.length;--d>-1;)p=x[d],r[p]=l.indexOf(","+p+",")!==-1,w[p]=c(t,p,r[p],f);for(d=e.length;--d>-1;)e[d]=Math.sqrt(e[d]),i[d]=Math.sqrt(i[d]);if(!s){for(d=x.length;--d>-1;)if(r[p])for(y=w[x[d]],g=y.length-1,v=0;v<g;v++)m=y[v+1].da/i[v]+y[v].da/e[v]||0,n[v]=(n[v]||0)+m*m;for(d=n.length;--d>-1;)n[d]=Math.sqrt(n[d])}for(d=x.length,v=a?4:1;--d>-1;)p=x[d],y=w[p],h(y,o,a,s,r[p]),_&&(y.splice(0,v),y.splice(y.length-v,v));return w},d=function(t,e,i){e=e||"soft";var n,r,o,a,u,l,h,c,f,d,p,y={},v="cubic"===e?3:2,m="soft"===e,g=[];if(m&&i&&(t=[i].concat(t)),null==t||t.length<v+1)throw"invalid Bezier data";for(f in t[0])g.push(f);for(l=g.length;--l>-1;){for(f=g[l],y[f]=u=[],
d=0,c=t.length,h=0;h<c;h++)n=null==i?t[h][f]:"string"==typeof(p=t[h][f])&&"="===p.charAt(1)?i[f]+Number(p.charAt(0)+p.substr(2)):Number(p),m&&h>1&&h<c-1&&(u[d++]=(n+u[d-2])/2),u[d++]=n;for(c=d-v+1,d=0,h=0;h<c;h+=v)n=u[h],r=u[h+1],o=u[h+2],a=2===v?0:u[h+3],u[d++]=p=3===v?new s(n,r,o,a):new s(n,(2*r+n)/3,(2*r+o)/3,o);u.length=d}return y},p=function(t,e,i){for(var n,r,o,a,s,u,l,h,c,f,d,p=1/i,y=t.length;--y>-1;)for(f=t[y],o=f.a,a=f.d-o,s=f.c-o,u=f.b-o,n=r=0,h=1;h<=i;h++)l=p*h,c=1-l,n=r-(r=(l*l*a+3*c*(l*s+c*u))*l),d=y*i+h-1,e[d]=(e[d]||0)+n*n},y=function(t,e){e=e>>0||6;var i,n,r,o,a=[],s=[],u=0,l=0,h=e-1,c=[],f=[];for(i in t)p(t[i],a,e);for(r=a.length,n=0;n<r;n++)u+=Math.sqrt(a[n]),o=n%e,f[o]=u,o===h&&(l+=u,o=n/e>>0,c[o]=f,s[o]=l,u=0,f=[]);return{length:l,lengths:s,segments:c}},v=o._gsDefine.plugin({propName:"bezier",priority:-1,version:"1.3.8",API:2,global:!0,init:function(t,e,i){this._target=t,e instanceof Array&&(e={values:e}),this._func={},this._mod={},this._props=[],this._timeRes=null==e.timeResolution?6:parseInt(e.timeResolution,10);var n,r,o,a,s,u=e.values||[],l={},h=u[0],c=e.autoRotate||i.vars.orientToBezier;this._autoRotate=c?c instanceof Array?c:[["x","y","rotation",c===!0?0:Number(c)||0]]:null;for(n in h)this._props.push(n);for(o=this._props.length;--o>-1;)n=this._props[o],this._overwriteProps.push(n),r=this._func[n]="function"==typeof t[n],l[n]=r?t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)]():parseFloat(t[n]),s||l[n]!==u[0][n]&&(s=l);if(this._beziers="cubic"!==e.type&&"quadratic"!==e.type&&"soft"!==e.type?f(u,isNaN(e.curviness)?1:e.curviness,!1,"thruBasic"===e.type,e.correlate,s):d(u,e.type,l),this._segCount=this._beziers[n].length,this._timeRes){var p=y(this._beziers,this._timeRes);this._length=p.length,this._lengths=p.lengths,this._segments=p.segments,this._l1=this._li=this._s1=this._si=0,this._l2=this._lengths[0],this._curSeg=this._segments[0],this._s2=this._curSeg[0],this._prec=1/this._curSeg.length}if(c=this._autoRotate)for(this._initialRotations=[],c[0]instanceof Array||(this._autoRotate=c=[c]),o=c.length;--o>-1;){for(a=0;a<3;a++)n=c[o][a],this._func[n]="function"==typeof t[n]&&t[n.indexOf("set")||"function"!=typeof t["get"+n.substr(3)]?n:"get"+n.substr(3)];n=c[o][2],this._initialRotations[o]=(this._func[n]?this._func[n].call(this._target):this._target[n])||0,this._overwriteProps.push(n)}return this._startRatio=i.vars.runBackwards?1:0,!0},set:function(e){var i,n,r,o,a,s,u,l,h,c,f=this._segCount,d=this._func,p=this._target,y=e!==this._startRatio;if(this._timeRes){if(h=this._lengths,c=this._curSeg,e*=this._length,r=this._li,e>this._l2&&r<f-1){for(l=f-1;r<l&&(this._l2=h[++r])<=e;);this._l1=h[r-1],this._li=r,this._curSeg=c=this._segments[r],this._s2=c[this._s1=this._si=0]}else if(e<this._l1&&r>0){for(;r>0&&(this._l1=h[--r])>=e;);0===r&&e<this._l1?this._l1=0:r++,this._l2=h[r],this._li=r,this._curSeg=c=this._segments[r],this._s1=c[(this._si=c.length-1)-1]||0,this._s2=c[this._si]}if(i=r,e-=this._l1,r=this._si,e>this._s2&&r<c.length-1){for(l=c.length-1;r<l&&(this._s2=c[++r])<=e;);this._s1=c[r-1],this._si=r}else if(e<this._s1&&r>0){for(;r>0&&(this._s1=c[--r])>=e;);0===r&&e<this._s1?this._s1=0:r++,this._s2=c[r],this._si=r}s=(r+(e-this._s1)/(this._s2-this._s1))*this._prec||0}else i=e<0?0:e>=1?f-1:f*e>>0,s=(e-i*(1/f))*f;for(n=1-s,r=this._props.length;--r>-1;)o=this._props[r],a=this._beziers[o][i],u=(s*s*a.da+3*n*(s*a.ca+n*a.ba))*s+a.a,this._mod[o]&&(u=this._mod[o](u,p)),d[o]?p[o](u):p[o]=u;if(this._autoRotate){var v,m,g,_,b,w,x,T=this._autoRotate;for(r=T.length;--r>-1;)o=T[r][2],w=T[r][3]||0,x=T[r][4]===!0?1:t,a=this._beziers[T[r][0]],v=this._beziers[T[r][1]],a&&v&&(a=a[i],v=v[i],m=a.a+(a.b-a.a)*s,_=a.b+(a.c-a.b)*s,m+=(_-m)*s,_+=(a.c+(a.d-a.c)*s-_)*s,g=v.a+(v.b-v.a)*s,b=v.b+(v.c-v.b)*s,g+=(b-g)*s,b+=(v.c+(v.d-v.c)*s-b)*s,u=y?Math.atan2(b-g,_-m)*x+w:this._initialRotations[r],this._mod[o]&&(u=this._mod[o](u,p)),d[o]?p[o](u):p[o]=u)}}}),m=v.prototype;v.bezierThrough=f,v.cubicToQuadratic=l,v._autoCSS=!0,v.quadraticToCubic=function(t,e,i){return new s(t,(2*e+t)/3,(2*e+i)/3,i)},v._cssRegister=function(){var t=a.CSSPlugin;if(t){var e=t._internals,i=e._parseToProxy,n=e._setPluginRatio,r=e.CSSPropTween;e._registerComplexSpecialProp("bezier",{parser:function(t,e,o,a,s,u){e instanceof Array&&(e={values:e}),u=new v;var l,h,c,f=e.values,d=f.length-1,p=[],y={};if(d<0)return s;for(l=0;l<=d;l++)c=i(t,f[l],a,s,u,d!==l),p[l]=c.end;for(h in e)y[h]=e[h];return y.values=p,s=new r(t,"bezier",0,0,c.pt,2),s.data=c,s.plugin=u,s.setRatio=n,0===y.autoRotate&&(y.autoRotate=!0),!y.autoRotate||y.autoRotate instanceof Array||(l=y.autoRotate===!0?0:Number(y.autoRotate),y.autoRotate=null!=c.end.left?[["left","top","rotation",l,!1]]:null!=c.end.x&&[["x","y","rotation",l,!1]]),y.autoRotate&&(a._transform||a._enableTransforms(!1),c.autoRotate=a._target._gsTransform,c.proxy.rotation=c.autoRotate.rotation||0,a._overwriteProps.push("rotation")),u._onInitTween(c.proxy,y,a._tween),s}})}},m._mod=function(t){for(var e,i=this._overwriteProps,n=i.length;--n>-1;)e=t[i[n]],e&&"function"==typeof e&&(this._mod[i[n]]=e)},m._kill=function(t){var e,i,n=this._props;for(e in this._beziers)if(e in t)for(delete this._beziers[e],delete this._func[e],i=n.length;--i>-1;)n[i]===e&&n.splice(i,1);if(n=this._autoRotate)for(i=n.length;--i>-1;)t[n[i][2]]&&n.splice(i,1);return this._super._kill.call(this,t)}}(),o._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(t,e){var i,n,r,a,s=function(){t.call(this,"css"),this._overwriteProps.length=0,this.setRatio=s.prototype.setRatio},u=o._gsDefine.globals,l={},h=s.prototype=new t("css");h.constructor=s,s.version="1.20.0",s.API=2,s.defaultTransformPerspective=0,s.defaultSkewType="compensated",s.defaultSmoothOrigin=!0,h="px",s.suffixMap={top:h,right:h,bottom:h,left:h,width:h,height:h,fontSize:h,padding:h,margin:h,perspective:h,lineHeight:""};var c,f,d,p,y,v,m,g,_=/(?:\-|\.|\b)(\d|\.|e\-)+/g,b=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,w=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,x=/(?![+-]?\d*\.?\d+|[+-]|e[+-]\d+)[^0-9]/g,T=/(?:\d|\-|\+|=|#|\.)*/g,S=/opacity *= *([^)]*)/i,E=/opacity:([^;]*)/i,C=/alpha\(opacity *=.+?\)/i,P=/^(rgb|hsl)/,M=/([A-Z])/g,A=/-([a-z])/gi,O=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,k=function(t,e){return e.toUpperCase()},I=/(?:Left|Right|Width)/i,R=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,L=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,B=/,(?=[^\)]*(?:\(|$))/gi,D=/[\s,\(]/i,F=Math.PI/180,j=180/Math.PI,N={},X={style:{}},U=o.document||{createElement:function(){return X}},G=function(t,e){return U.createElementNS?U.createElementNS(e||"http://www.w3.org/1999/xhtml",t):U.createElement(t)},Y=G("div"),z=G("img"),V=s._internals={_specialProps:l},W=(o.navigator||{}).userAgent||"",H=function(){var t=W.indexOf("Android"),e=G("a");return d=W.indexOf("Safari")!==-1&&W.indexOf("Chrome")===-1&&(t===-1||parseFloat(W.substr(t+8,2))>3),y=d&&parseFloat(W.substr(W.indexOf("Version/")+8,2))<6,p=W.indexOf("Firefox")!==-1,(/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(W)||/Trident\/.*rv:([0-9]{1,}[\.0-9]{0,})/.exec(W))&&(v=parseFloat(RegExp.$1)),!!e&&(e.style.cssText="top:1px;opacity:.55;",/^0.55/.test(e.style.opacity))}(),q=function(t){return S.test("string"==typeof t?t:(t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100:1},K=function(t){o.console},Z="",J="",Q=function(t,e){e=e||Y;var i,n,r=e.style;if(void 0!==r[t])return t;for(t=t.charAt(0).toUpperCase()+t.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;--n>-1&&void 0===r[i[n]+t];);return n>=0?(J=3===n?"ms":i[n],Z="-"+J.toLowerCase()+"-",J+t):null},$=U.defaultView?U.defaultView.getComputedStyle:function(){},tt=s.getStyle=function(t,e,i,n,r){var o;return H||"opacity"!==e?(!n&&t.style[e]?o=t.style[e]:(i=i||$(t))?o=i[e]||i.getPropertyValue(e)||i.getPropertyValue(e.replace(M,"-$1").toLowerCase()):t.currentStyle&&(o=t.currentStyle[e]),null==r||o&&"none"!==o&&"auto"!==o&&"auto auto"!==o?o:r):q(t)},et=V.convertToPixels=function(t,i,n,r,o){if("px"===r||!r&&"lineHeight"!==i)return n;if("auto"===r||!n)return 0;var a,u,l,h=I.test(i),c=t,f=Y.style,d=n<0,p=1===n;if(d&&(n=-n),p&&(n*=100),"lineHeight"!==i||r)if("%"===r&&i.indexOf("border")!==-1)a=n/100*(h?t.clientWidth:t.clientHeight);else{if(f.cssText="border:0 solid red;position:"+tt(t,"position")+";line-height:0;","%"!==r&&c.appendChild&&"v"!==r.charAt(0)&&"rem"!==r)f[h?"borderLeftWidth":"borderTopWidth"]=n+r;else{if(c=t.parentNode||U.body,tt(c,"display").indexOf("flex")!==-1&&(f.position="absolute"),u=c._gsCache,l=e.ticker.frame,u&&h&&u.time===l)return u.width*n/100;f[h?"width":"height"]=n+r}c.appendChild(Y),a=parseFloat(Y[h?"offsetWidth":"offsetHeight"]),c.removeChild(Y),h&&"%"===r&&s.cacheWidths!==!1&&(u=c._gsCache=c._gsCache||{},u.time=l,u.width=a/n*100),0!==a||o||(a=et(t,i,n,r,!0))}else u=$(t).lineHeight,t.style.lineHeight=n,a=parseFloat($(t).lineHeight),t.style.lineHeight=u;return p&&(a/=100),d?-a:a},it=V.calculateOffset=function(t,e,i){if("absolute"!==tt(t,"position",i))return 0;var n="left"===e?"Left":"Top",r=tt(t,"margin"+n,i);return t["offset"+n]-(et(t,e,parseFloat(r),r.replace(T,""))||0)},nt=function(t,e){var i,n,r,o={};if(e=e||$(t,null))if(i=e.length)for(;--i>-1;)r=e[i],r.indexOf("-transform")!==-1&&Ot!==r||(o[r.replace(A,k)]=e.getPropertyValue(r));else for(i in e)i.indexOf("Transform")!==-1&&At!==i||(o[i]=e[i]);else if(e=t.currentStyle||t.style)for(i in e)"string"==typeof i&&void 0===o[i]&&(o[i.replace(A,k)]=e[i]);return H||(o.opacity=q(t)),n=zt(t,e,!1),o.rotation=n.rotation,o.skewX=n.skewX,o.scaleX=n.scaleX,o.scaleY=n.scaleY,o.x=n.x,o.y=n.y,It&&(o.z=n.z,o.rotationX=n.rotationX,o.rotationY=n.rotationY,o.scaleZ=n.scaleZ),o.filters&&delete o.filters,o},rt=function(t,e,i,n,r){var o,a,s,u={},l=t.style;for(a in i)"cssText"!==a&&"length"!==a&&isNaN(a)&&(e[a]!==(o=i[a])||r&&r[a])&&a.indexOf("Origin")===-1&&("number"!=typeof o&&"string"!=typeof o||(u[a]="auto"!==o||"left"!==a&&"top"!==a?""!==o&&"auto"!==o&&"none"!==o||"string"!=typeof e[a]||""===e[a].replace(x,"")?o:0:it(t,a),void 0!==l[a]&&(s=new _t(l,a,l[a],s))));if(n)for(a in n)"className"!==a&&(u[a]=n[a]);return{difs:u,firstMPT:s}},ot={width:["Left","Right"],height:["Top","Bottom"]},at=["marginLeft","marginRight","marginTop","marginBottom"],st=function(t,e,i){if("svg"===(t.nodeName+"").toLowerCase())return(i||$(t))[e]||0;if(t.getCTM&&Ut(t))return t.getBBox()[e]||0;var n=parseFloat("width"===e?t.offsetWidth:t.offsetHeight),r=ot[e],o=r.length;for(i=i||$(t,null);--o>-1;)n-=parseFloat(tt(t,"padding"+r[o],i,!0))||0,n-=parseFloat(tt(t,"border"+r[o]+"Width",i,!0))||0;return n},ut=function(t,e){if("contain"===t||"auto"===t||"auto auto"===t)return t+" ";null!=t&&""!==t||(t="0 0");var i,n=t.split(" "),r=t.indexOf("left")!==-1?"0%":t.indexOf("right")!==-1?"100%":n[0],o=t.indexOf("top")!==-1?"0%":t.indexOf("bottom")!==-1?"100%":n[1];if(n.length>3&&!e){for(n=t.split(", ").join(",").split(","),t=[],i=0;i<n.length;i++)t.push(ut(n[i]));return t.join(",")}return null==o?o="center"===r?"50%":"0":"center"===o&&(o="50%"),("center"===r||isNaN(parseFloat(r))&&(r+"").indexOf("=")===-1)&&(r="50%"),t=r+" "+o+(n.length>2?" "+n[2]:""),e&&(e.oxp=r.indexOf("%")!==-1,e.oyp=o.indexOf("%")!==-1,e.oxr="="===r.charAt(1),e.oyr="="===o.charAt(1),e.ox=parseFloat(r.replace(x,"")),e.oy=parseFloat(o.replace(x,"")),e.v=t),e||t},lt=function(t,e){return"function"==typeof t&&(t=t(g,m)),"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2)):parseFloat(t)-parseFloat(e)||0},ht=function(t,e){return"function"==typeof t&&(t=t(g,m)),null==t?e:"string"==typeof t&&"="===t.charAt(1)?parseInt(t.charAt(0)+"1",10)*parseFloat(t.substr(2))+e:parseFloat(t)||0},ct=function(t,e,i,n){var r,o,a,s,u,l=1e-6;return"function"==typeof t&&(t=t(g,m)),null==t?s=e:"number"==typeof t?s=t:(r=360,o=t.split("_"),u="="===t.charAt(1),a=(u?parseInt(t.charAt(0)+"1",10)*parseFloat(o[0].substr(2)):parseFloat(o[0]))*(t.indexOf("rad")===-1?1:j)-(u?0:e),o.length&&(n&&(n[i]=e+a),t.indexOf("short")!==-1&&(a%=r,a!==a%(r/2)&&(a=a<0?a+r:a-r)),t.indexOf("_cw")!==-1&&a<0?a=(a+9999999999*r)%r-(a/r|0)*r:t.indexOf("ccw")!==-1&&a>0&&(a=(a-9999999999*r)%r-(a/r|0)*r)),s=e+a),s<l&&s>-l&&(s=0),s},ft={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},dt=function(t,e,i){return t=t<0?t+1:t>1?t-1:t,255*(6*t<1?e+(i-e)*t*6:t<.5?i:3*t<2?e+(i-e)*(2/3-t)*6:e)+.5|0},pt=s.parseColor=function(t,e){var i,n,r,o,a,s,u,l,h,c,f;if(t)if("number"==typeof t)i=[t>>16,t>>8&255,255&t];else{if(","===t.charAt(t.length-1)&&(t=t.substr(0,t.length-1)),ft[t])i=ft[t];else if("#"===t.charAt(0))4===t.length&&(n=t.charAt(1),r=t.charAt(2),o=t.charAt(3),t="#"+n+n+r+r+o+o),t=parseInt(t.substr(1),16),i=[t>>16,t>>8&255,255&t];else if("hsl"===t.substr(0,3))if(i=f=t.match(_),e){if(t.indexOf("=")!==-1)return t.match(b)}else a=Number(i[0])%360/360,s=Number(i[1])/100,u=Number(i[2])/100,r=u<=.5?u*(s+1):u+s-u*s,n=2*u-r,i.length>3&&(i[3]=Number(t[3])),i[0]=dt(a+1/3,n,r),i[1]=dt(a,n,r),i[2]=dt(a-1/3,n,r);else i=t.match(_)||ft.transparent;i[0]=Number(i[0]),i[1]=Number(i[1]),i[2]=Number(i[2]),i.length>3&&(i[3]=Number(i[3]))}else i=ft.black;return e&&!f&&(n=i[0]/255,r=i[1]/255,o=i[2]/255,l=Math.max(n,r,o),h=Math.min(n,r,o),u=(l+h)/2,l===h?a=s=0:(c=l-h,s=u>.5?c/(2-l-h):c/(l+h),a=l===n?(r-o)/c+(r<o?6:0):l===r?(o-n)/c+2:(n-r)/c+4,a*=60),i[0]=a+.5|0,i[1]=100*s+.5|0,i[2]=100*u+.5|0),i},yt=function(t,e){var i,n,r,o=t.match(vt)||[],a=0,s="";if(!o.length)return t;for(i=0;i<o.length;i++)n=o[i],r=t.substr(a,t.indexOf(n,a)-a),a+=r.length+n.length,n=pt(n,e),3===n.length&&n.push(1),s+=r+(e?"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+n[3]:"rgba("+n.join(","))+")";return s+t.substr(a)},vt="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(h in ft)vt+="|"+h+"\\b";vt=new RegExp(vt+")","gi"),s.colorStringFilter=function(t){var e,i=t[0]+" "+t[1];vt.test(i)&&(e=i.indexOf("hsl(")!==-1||i.indexOf("hsla(")!==-1,t[0]=yt(t[0],e),t[1]=yt(t[1],e)),vt.lastIndex=0},e.defaultStringFilter||(e.defaultStringFilter=s.colorStringFilter);var mt=function(t,e,i,n){if(null==t)return function(t){return t};var r,o=e?(t.match(vt)||[""])[0]:"",a=t.split(o).join("").match(w)||[],s=t.substr(0,t.indexOf(a[0])),u=")"===t.charAt(t.length-1)?")":"",l=t.indexOf(" ")!==-1?" ":",",h=a.length,c=h>0?a[0].replace(_,""):"";return h?r=e?function(t){var e,f,d,p;if("number"==typeof t)t+=c;else if(n&&B.test(t)){for(p=t.replace(B,"|").split("|"),d=0;d<p.length;d++)p[d]=r(p[d]);return p.join(",")}if(e=(t.match(vt)||[o])[0],f=t.split(e).join("").match(w)||[],d=f.length,h>d--)for(;++d<h;)f[d]=i?f[(d-1)/2|0]:a[d];return s+f.join(l)+l+e+u+(t.indexOf("inset")!==-1?" inset":"")}:function(t){var e,o,f;if("number"==typeof t)t+=c;else if(n&&B.test(t)){for(o=t.replace(B,"|").split("|"),f=0;f<o.length;f++)o[f]=r(o[f]);return o.join(",")}if(e=t.match(w)||[],f=e.length,h>f--)for(;++f<h;)e[f]=i?e[(f-1)/2|0]:a[f];return s+e.join(l)+u}:function(t){return t}},gt=function(t){return t=t.split(","),function(e,i,n,r,o,a,s){var u,l=(i+"").split(" ");for(s={},u=0;u<4;u++)s[t[u]]=l[u]=l[u]||l[(u-1)/2>>0];return r.parse(e,s,o,a)}},_t=(V._setPluginRatio=function(t){this.plugin.setRatio(t);for(var e,i,n,r,o,a=this.data,s=a.proxy,u=a.firstMPT,l=1e-6;u;)e=s[u.v],u.r?e=Math.round(e):e<l&&e>-l&&(e=0),u.t[u.p]=e,u=u._next;if(a.autoRotate&&(a.autoRotate.rotation=a.mod?a.mod(s.rotation,this.t):s.rotation),1===t||0===t)for(u=a.firstMPT,o=1===t?"e":"b";u;){if(i=u.t,i.type){if(1===i.type){for(r=i.xs0+i.s+i.xs1,n=1;n<i.l;n++)r+=i["xn"+n]+i["xs"+(n+1)];i[o]=r}}else i[o]=i.s+i.xs0;u=u._next}},function(t,e,i,n,r){this.t=t,this.p=e,this.v=i,this.r=r,n&&(n._prev=this,this._next=n)}),bt=(V._parseToProxy=function(t,e,i,n,r,o){var a,s,u,l,h,c=n,f={},d={},p=i._transform,y=N;for(i._transform=null,N=e,n=h=i.parse(t,e,n,r),N=y,o&&(i._transform=p,c&&(c._prev=null,c._prev&&(c._prev._next=null)));n&&n!==c;){if(n.type<=1&&(s=n.p,d[s]=n.s+n.c,f[s]=n.s,o||(l=new _t(n,"s",s,l,n.r),n.c=0),1===n.type))for(a=n.l;--a>0;)u="xn"+a,s=n.p+"_"+u,d[s]=n.data[u],f[s]=n[u],o||(l=new _t(n,u,s,l,n.rxp[u]));n=n._next}return{proxy:f,end:d,firstMPT:l,pt:h}},V.CSSPropTween=function(t,e,n,r,o,s,u,l,h,c,f){this.t=t,this.p=e,this.s=n,this.c=r,this.n=u||e,t instanceof bt||a.push(this.n),this.r=l,this.type=s||0,h&&(this.pr=h,i=!0),this.b=void 0===c?n:c,this.e=void 0===f?n+r:f,o&&(this._next=o,o._prev=this)}),wt=function(t,e,i,n,r,o){var a=new bt(t,e,i,n-i,r,-1,o);return a.b=i,a.e=a.xs0=n,a},xt=s.parseComplex=function(t,e,i,n,r,o,a,u,l,h){i=i||o||"","function"==typeof n&&(n=n(g,m)),a=new bt(t,e,0,0,a,h?2:1,null,!1,u,i,n),n+="",r&&vt.test(n+i)&&(n=[i,n],s.colorStringFilter(n),i=n[0],n=n[1]);var f,d,p,y,v,w,x,T,S,E,C,P,M,A=i.split(", ").join(",").split(" "),O=n.split(", ").join(",").split(" "),k=A.length,I=c!==!1;for(n.indexOf(",")===-1&&i.indexOf(",")===-1||(A=A.join(" ").replace(B,", ").split(" "),O=O.join(" ").replace(B,", ").split(" "),k=A.length),k!==O.length&&(A=(o||"").split(" "),k=A.length),a.plugin=l,a.setRatio=h,vt.lastIndex=0,f=0;f<k;f++)if(y=A[f],v=O[f],T=parseFloat(y),T||0===T)a.appendXtra("",T,lt(v,T),v.replace(b,""),I&&v.indexOf("px")!==-1,!0);else if(r&&vt.test(y))P=v.indexOf(")")+1,P=")"+(P?v.substr(P):""),M=v.indexOf("hsl")!==-1&&H,E=v,y=pt(y,M),v=pt(v,M),S=y.length+v.length>6,S&&!H&&0===v[3]?(a["xs"+a.l]+=a.l?" transparent":"transparent",a.e=a.e.split(O[f]).join("transparent")):(H||(S=!1),M?a.appendXtra(E.substr(0,E.indexOf("hsl"))+(S?"hsla(":"hsl("),y[0],lt(v[0],y[0]),",",!1,!0).appendXtra("",y[1],lt(v[1],y[1]),"%,",!1).appendXtra("",y[2],lt(v[2],y[2]),S?"%,":"%"+P,!1):a.appendXtra(E.substr(0,E.indexOf("rgb"))+(S?"rgba(":"rgb("),y[0],v[0]-y[0],",",!0,!0).appendXtra("",y[1],v[1]-y[1],",",!0).appendXtra("",y[2],v[2]-y[2],S?",":P,!0),S&&(y=y.length<4?1:y[3],a.appendXtra("",y,(v.length<4?1:v[3])-y,P,!1))),vt.lastIndex=0;else if(w=y.match(_)){if(x=v.match(b),!x||x.length!==w.length)return a;for(p=0,d=0;d<w.length;d++)C=w[d],E=y.indexOf(C,p),a.appendXtra(y.substr(p,E-p),Number(C),lt(x[d],C),"",I&&"px"===y.substr(E+C.length,2),0===d),p=E+C.length;a["xs"+a.l]+=y.substr(p)}else a["xs"+a.l]+=a.l||a["xs"+a.l]?" "+v:v;if(n.indexOf("=")!==-1&&a.data){for(P=a.xs0+a.data.s,f=1;f<a.l;f++)P+=a["xs"+f]+a.data["xn"+f];a.e=P+a["xs"+f]}return a.l||(a.type=-1,a.xs0=a.e),a.xfirst||a},Tt=9;for(h=bt.prototype,h.l=h.pr=0;--Tt>0;)h["xn"+Tt]=0,h["xs"+Tt]="";h.xs0="",h._next=h._prev=h.xfirst=h.data=h.plugin=h.setRatio=h.rxp=null,h.appendXtra=function(t,e,i,n,r,o){var a=this,s=a.l;return a["xs"+s]+=o&&(s||a["xs"+s])?" "+t:t||"",i||0===s||a.plugin?(a.l++,a.type=a.setRatio?2:1,a["xs"+a.l]=n||"",s>0?(a.data["xn"+s]=e+i,a.rxp["xn"+s]=r,a["xn"+s]=e,a.plugin||(a.xfirst=new bt(a,"xn"+s,e,i,a.xfirst||a,0,a.n,r,a.pr),a.xfirst.xs0=0),a):(a.data={s:e+i},a.rxp={},a.s=e,a.c=i,a.r=r,a)):(a["xs"+s]+=e+(n||""),a)};var St=function(t,e){e=e||{},this.p=e.prefix?Q(t)||t:t,l[t]=l[this.p]=this,this.format=e.formatter||mt(e.defaultValue,e.color,e.collapsible,e.multi),e.parser&&(this.parse=e.parser),this.clrs=e.color,this.multi=e.multi,this.keyword=e.keyword,this.dflt=e.defaultValue,this.pr=e.priority||0},Et=V._registerComplexSpecialProp=function(t,e,i){"object"!=typeof e&&(e={parser:i});var n,r,o=t.split(","),a=e.defaultValue;for(i=i||[a],n=0;n<o.length;n++)e.prefix=0===n&&e.prefix,e.defaultValue=i[n]||a,r=new St(o[n],e)},Ct=V._registerPluginProp=function(t){if(!l[t]){var e=t.charAt(0).toUpperCase()+t.substr(1)+"Plugin";Et(t,{parser:function(t,i,n,r,o,a,s){var h=u.com.greensock.plugins[e];return h?(h._cssRegister(),l[n].parse(t,i,n,r,o,a,s)):(K("Error: "+e+" js file not loaded."),o)}})}};h=St.prototype,h.parseComplex=function(t,e,i,n,r,o){var a,s,u,l,h,c,f=this.keyword;if(this.multi&&(B.test(i)||B.test(e)?(s=e.replace(B,"|").split("|"),u=i.replace(B,"|").split("|")):f&&(s=[e],u=[i])),u){for(l=u.length>s.length?u.length:s.length,a=0;a<l;a++)e=s[a]=s[a]||this.dflt,i=u[a]=u[a]||this.dflt,f&&(h=e.indexOf(f),c=i.indexOf(f),h!==c&&(c===-1?s[a]=s[a].split(f).join(""):h===-1&&(s[a]+=" "+f)));e=s.join(", "),i=u.join(", ")}return xt(t,this.p,e,i,this.clrs,this.dflt,n,this.pr,r,o)},h.parse=function(t,e,i,n,o,a,s){return this.parseComplex(t.style,this.format(tt(t,this.p,r,!1,this.dflt)),this.format(e),o,a)},s.registerSpecialProp=function(t,e,i){Et(t,{parser:function(t,n,r,o,a,s,u){var l=new bt(t,r,0,0,a,2,r,!1,i);return l.plugin=s,l.setRatio=e(t,n,o._tween,r),l},priority:i})},s.useSVGTransformAttr=!0;var Pt,Mt="scaleX,scaleY,scaleZ,x,y,z,skewX,skewY,rotation,rotationX,rotationY,perspective,xPercent,yPercent".split(","),At=Q("transform"),Ot=Z+"transform",kt=Q("transformOrigin"),It=null!==Q("perspective"),Rt=V.Transform=function(){this.perspective=parseFloat(s.defaultTransformPerspective)||0,this.force3D=!(s.defaultForce3D===!1||!It)&&(s.defaultForce3D||"auto")},Lt=o.SVGElement,Bt=function(t,e,i){var n,r=U.createElementNS("http://www.w3.org/2000/svg",t),o=/([a-z])([A-Z])/g;for(n in i)r.setAttributeNS(null,n.replace(o,"$1-$2").toLowerCase(),i[n]);return e.appendChild(r),r},Dt=U.documentElement||{},Ft=function(){var t,e,i,n=v||/Android/i.test(W)&&!o.chrome;return U.createElementNS&&!n&&(t=Bt("svg",Dt),e=Bt("rect",t,{width:100,height:50,x:100}),i=e.getBoundingClientRect().width,e.style[kt]="50% 50%",e.style[At]="scaleX(0.5)",n=i===e.getBoundingClientRect().width&&!(p&&It),Dt.removeChild(t)),n}(),jt=function(t,e,i,n,r,o){var a,u,l,h,c,f,d,p,y,v,m,g,_,b,w=t._gsTransform,x=Yt(t,!0);w&&(_=w.xOrigin,b=w.yOrigin),(!n||(a=n.split(" ")).length<2)&&(d=t.getBBox(),0===d.x&&0===d.y&&d.width+d.height===0&&(d={x:parseFloat(t.hasAttribute("x")?t.getAttribute("x"):t.hasAttribute("cx")?t.getAttribute("cx"):0)||0,y:parseFloat(t.hasAttribute("y")?t.getAttribute("y"):t.hasAttribute("cy")?t.getAttribute("cy"):0)||0,width:0,height:0}),e=ut(e).split(" "),a=[(e[0].indexOf("%")!==-1?parseFloat(e[0])/100*d.width:parseFloat(e[0]))+d.x,(e[1].indexOf("%")!==-1?parseFloat(e[1])/100*d.height:parseFloat(e[1]))+d.y]),i.xOrigin=h=parseFloat(a[0]),i.yOrigin=c=parseFloat(a[1]),n&&x!==Gt&&(f=x[0],d=x[1],p=x[2],y=x[3],v=x[4],m=x[5],g=f*y-d*p,g&&(u=h*(y/g)+c*(-p/g)+(p*m-y*v)/g,l=h*(-d/g)+c*(f/g)-(f*m-d*v)/g,h=i.xOrigin=a[0]=u,c=i.yOrigin=a[1]=l)),w&&(o&&(i.xOffset=w.xOffset,i.yOffset=w.yOffset,w=i),r||r!==!1&&s.defaultSmoothOrigin!==!1?(u=h-_,l=c-b,w.xOffset+=u*x[0]+l*x[2]-u,w.yOffset+=u*x[1]+l*x[3]-l):w.xOffset=w.yOffset=0),o||t.setAttribute("data-svg-origin",a.join(" "))},Nt=function(t){var e,i=G("svg",this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,r=this.nextSibling,o=this.style.cssText;if(Dt.appendChild(i),i.appendChild(this),this.style.display="block",t)try{e=this.getBBox(),this._originalGetBBox=this.getBBox,this.getBBox=Nt}catch(t){}else this._originalGetBBox&&(e=this._originalGetBBox());return r?n.insertBefore(this,r):n.appendChild(this),Dt.removeChild(i),this.style.cssText=o,e},Xt=function(t){try{return t.getBBox()}catch(e){return Nt.call(t,!0)}},Ut=function(t){return!(!(Lt&&t.getCTM&&Xt(t))||t.parentNode&&!t.ownerSVGElement)},Gt=[1,0,0,1,0,0],Yt=function(t,e){var i,n,r,o,a,s,u=t._gsTransform||new Rt,l=1e5,h=t.style;if(At?n=tt(t,Ot,null,!0):t.currentStyle&&(n=t.currentStyle.filter.match(R),n=n&&4===n.length?[n[0].substr(4),Number(n[2].substr(4)),Number(n[1].substr(4)),n[3].substr(4),u.x||0,u.y||0].join(","):""),i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,!At||!(s="none"===$(t).display)&&t.parentNode||(s&&(o=h.display,h.display="block"),t.parentNode||(a=1,Dt.appendChild(t)),n=tt(t,Ot,null,!0),i=!n||"none"===n||"matrix(1, 0, 0, 1, 0, 0)"===n,o?h.display=o:s&&qt(h,"display"),a&&Dt.removeChild(t)),(u.svg||t.getCTM&&Ut(t))&&(i&&(h[At]+"").indexOf("matrix")!==-1&&(n=h[At],i=0),r=t.getAttribute("transform"),i&&r&&(r.indexOf("matrix")!==-1?(n=r,i=0):r.indexOf("translate")!==-1&&(n="matrix(1,0,0,1,"+r.match(/(?:\-|\b)[\d\-\.e]+\b/gi).join(",")+")",i=0))),i)return Gt;for(r=(n||"").match(_)||[],Tt=r.length;--Tt>-1;)o=Number(r[Tt]),r[Tt]=(a=o-(o|=0))?(a*l+(a<0?-.5:.5)|0)/l+o:o;return e&&r.length>6?[r[0],r[1],r[4],r[5],r[12],r[13]]:r},zt=V.getTransform=function(t,i,n,r){if(t._gsTransform&&n&&!r)return t._gsTransform;var o,a,u,l,h,c,f=n?t._gsTransform||new Rt:new Rt,d=f.scaleX<0,p=2e-5,y=1e5,v=It?parseFloat(tt(t,kt,i,!1,"0 0 0").split(" ")[2])||f.zOrigin||0:0,m=parseFloat(s.defaultTransformPerspective)||0;if(f.svg=!(!t.getCTM||!Ut(t)),f.svg&&(jt(t,tt(t,kt,i,!1,"50% 50%")+"",f,t.getAttribute("data-svg-origin")),Pt=s.useSVGTransformAttr||Ft),o=Yt(t),o!==Gt){if(16===o.length){var g,_,b,w,x,T=o[0],S=o[1],E=o[2],C=o[3],P=o[4],M=o[5],A=o[6],O=o[7],k=o[8],I=o[9],R=o[10],L=o[12],B=o[13],D=o[14],F=o[11],N=Math.atan2(A,R);f.zOrigin&&(D=-f.zOrigin,L=k*D-o[12],B=I*D-o[13],D=R*D+f.zOrigin-o[14]),f.rotationX=N*j,N&&(w=Math.cos(-N),x=Math.sin(-N),g=P*w+k*x,_=M*w+I*x,b=A*w+R*x,k=P*-x+k*w,I=M*-x+I*w,R=A*-x+R*w,F=O*-x+F*w,P=g,M=_,A=b),N=Math.atan2(-E,R),f.rotationY=N*j,N&&(w=Math.cos(-N),x=Math.sin(-N),g=T*w-k*x,_=S*w-I*x,b=E*w-R*x,I=S*x+I*w,R=E*x+R*w,F=C*x+F*w,T=g,S=_,E=b),N=Math.atan2(S,T),f.rotation=N*j,N&&(w=Math.cos(N),x=Math.sin(N),g=T*w+S*x,_=P*w+M*x,b=k*w+I*x,S=S*w-T*x,M=M*w-P*x,I=I*w-k*x,T=g,P=_,k=b),f.rotationX&&Math.abs(f.rotationX)+Math.abs(f.rotation)>359.9&&(f.rotationX=f.rotation=0,f.rotationY=180-f.rotationY),N=Math.atan2(P,M),f.scaleX=(Math.sqrt(T*T+S*S+E*E)*y+.5|0)/y,f.scaleY=(Math.sqrt(M*M+A*A)*y+.5|0)/y,f.scaleZ=(Math.sqrt(k*k+I*I+R*R)*y+.5|0)/y,T/=f.scaleX,P/=f.scaleY,S/=f.scaleX,M/=f.scaleY,Math.abs(N)>p?(f.skewX=N*j,P=0,"simple"!==f.skewType&&(f.scaleY*=1/Math.cos(N))):f.skewX=0,f.perspective=F?1/(F<0?-F:F):0,f.x=L,f.y=B,f.z=D,f.svg&&(f.x-=f.xOrigin-(f.xOrigin*T-f.yOrigin*P),f.y-=f.yOrigin-(f.yOrigin*S-f.xOrigin*M))}else if(!It||r||!o.length||f.x!==o[4]||f.y!==o[5]||!f.rotationX&&!f.rotationY){var X=o.length>=6,U=X?o[0]:1,G=o[1]||0,Y=o[2]||0,z=X?o[3]:1;f.x=o[4]||0,f.y=o[5]||0,u=Math.sqrt(U*U+G*G),l=Math.sqrt(z*z+Y*Y),h=U||G?Math.atan2(G,U)*j:f.rotation||0,c=Y||z?Math.atan2(Y,z)*j+h:f.skewX||0,f.scaleX=u,f.scaleY=l,f.rotation=h,f.skewX=c,It&&(f.rotationX=f.rotationY=f.z=0,f.perspective=m,f.scaleZ=1),f.svg&&(f.x-=f.xOrigin-(f.xOrigin*U+f.yOrigin*Y),f.y-=f.yOrigin-(f.xOrigin*G+f.yOrigin*z))}Math.abs(f.skewX)>90&&Math.abs(f.skewX)<270&&(d?(f.scaleX*=-1,f.skewX+=f.rotation<=0?180:-180,f.rotation+=f.rotation<=0?180:-180):(f.scaleY*=-1,f.skewX+=f.skewX<=0?180:-180)),f.zOrigin=v;for(a in f)f[a]<p&&f[a]>-p&&(f[a]=0)}return n&&(t._gsTransform=f,f.svg&&(Pt&&t.style[At]?e.delayedCall(.001,function(){qt(t.style,At)}):!Pt&&t.getAttribute("transform")&&e.delayedCall(.001,function(){t.removeAttribute("transform")}))),f},Vt=function(t){var e,i,n=this.data,r=-n.rotation*F,o=r+n.skewX*F,a=1e5,s=(Math.cos(r)*n.scaleX*a|0)/a,u=(Math.sin(r)*n.scaleX*a|0)/a,l=(Math.sin(o)*-n.scaleY*a|0)/a,h=(Math.cos(o)*n.scaleY*a|0)/a,c=this.t.style,f=this.t.currentStyle;if(f){i=u,u=-l,l=-i,e=f.filter,c.filter="";var d,p,y=this.t.offsetWidth,m=this.t.offsetHeight,g="absolute"!==f.position,_="progid:DXImageTransform.Microsoft.Matrix(M11="+s+", M12="+u+", M21="+l+", M22="+h,b=n.x+y*n.xPercent/100,w=n.y+m*n.yPercent/100;if(null!=n.ox&&(d=(n.oxp?y*n.ox*.01:n.ox)-y/2,p=(n.oyp?m*n.oy*.01:n.oy)-m/2,b+=d-(d*s+p*u),w+=p-(d*l+p*h)),g?(d=y/2,p=m/2,_+=", Dx="+(d-(d*s+p*u)+b)+", Dy="+(p-(d*l+p*h)+w)+")"):_+=", sizingMethod='auto expand')",e.indexOf("DXImageTransform.Microsoft.Matrix(")!==-1?c.filter=e.replace(L,_):c.filter=_+" "+e,0!==t&&1!==t||1===s&&0===u&&0===l&&1===h&&(g&&_.indexOf("Dx=0, Dy=0")===-1||S.test(e)&&100!==parseFloat(RegExp.$1)||e.indexOf(e.indexOf("Alpha"))===-1&&c.removeAttribute("filter")),!g){var x,E,C,P=v<8?1:-1;for(d=n.ieOffsetX||0,p=n.ieOffsetY||0,n.ieOffsetX=Math.round((y-((s<0?-s:s)*y+(u<0?-u:u)*m))/2+b),n.ieOffsetY=Math.round((m-((h<0?-h:h)*m+(l<0?-l:l)*y))/2+w),Tt=0;Tt<4;Tt++)E=at[Tt],x=f[E],i=x.indexOf("px")!==-1?parseFloat(x):et(this.t,E,parseFloat(x),x.replace(T,""))||0,C=i!==n[E]?Tt<2?-n.ieOffsetX:-n.ieOffsetY:Tt<2?d-n.ieOffsetX:p-n.ieOffsetY,c[E]=(n[E]=Math.round(i-C*(0===Tt||2===Tt?1:P)))+"px"}}},Wt=V.set3DTransformRatio=V.setTransformRatio=function(t){var e,i,n,r,o,a,s,u,l,h,c,f,d,y,v,m,g,_,b,w,x,T,S,E=this.data,C=this.t.style,P=E.rotation,M=E.rotationX,A=E.rotationY,O=E.scaleX,k=E.scaleY,I=E.scaleZ,R=E.x,L=E.y,B=E.z,D=E.svg,j=E.perspective,N=E.force3D,X=E.skewY,U=E.skewX;if(X&&(U+=X,P+=X),((1===t||0===t)&&"auto"===N&&(this.tween._totalTime===this.tween._totalDuration||!this.tween._totalTime)||!N)&&!B&&!j&&!A&&!M&&1===I||Pt&&D||!It)return void(P||U||D?(P*=F,T=U*F,S=1e5,i=Math.cos(P)*O,o=Math.sin(P)*O,n=Math.sin(P-T)*-k,a=Math.cos(P-T)*k,T&&"simple"===E.skewType&&(e=Math.tan(T-X*F),e=Math.sqrt(1+e*e),n*=e,a*=e,X&&(e=Math.tan(X*F),e=Math.sqrt(1+e*e),i*=e,o*=e)),D&&(R+=E.xOrigin-(E.xOrigin*i+E.yOrigin*n)+E.xOffset,L+=E.yOrigin-(E.xOrigin*o+E.yOrigin*a)+E.yOffset,Pt&&(E.xPercent||E.yPercent)&&(v=this.t.getBBox(),R+=.01*E.xPercent*v.width,L+=.01*E.yPercent*v.height),v=1e-6,R<v&&R>-v&&(R=0),L<v&&L>-v&&(L=0)),b=(i*S|0)/S+","+(o*S|0)/S+","+(n*S|0)/S+","+(a*S|0)/S+","+R+","+L+")",D&&Pt?this.t.setAttribute("transform","matrix("+b):C[At]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix(":"matrix(")+b):C[At]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix(":"matrix(")+O+",0,0,"+k+","+R+","+L+")");if(p&&(v=1e-4,O<v&&O>-v&&(O=I=2e-5),k<v&&k>-v&&(k=I=2e-5),!j||E.z||E.rotationX||E.rotationY||(j=0)),P||U)P*=F,m=i=Math.cos(P),g=o=Math.sin(P),U&&(P-=U*F,m=Math.cos(P),g=Math.sin(P),"simple"===E.skewType&&(e=Math.tan((U-X)*F),e=Math.sqrt(1+e*e),m*=e,g*=e,E.skewY&&(e=Math.tan(X*F),e=Math.sqrt(1+e*e),i*=e,o*=e))),n=-g,a=m;else{if(!(A||M||1!==I||j||D))return void(C[At]=(E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) translate3d(":"translate3d(")+R+"px,"+L+"px,"+B+"px)"+(1!==O||1!==k?" scale("+O+","+k+")":""));i=a=1,n=o=0}h=1,r=s=u=l=c=f=0,d=j?-1/j:0,y=E.zOrigin,v=1e-6,w=",",x="0",P=A*F,P&&(m=Math.cos(P),g=Math.sin(P),u=-g,c=d*-g,r=i*g,s=o*g,h=m,d*=m,i*=m,o*=m),P=M*F,P&&(m=Math.cos(P),g=Math.sin(P),e=n*m+r*g,_=a*m+s*g,l=h*g,f=d*g,r=n*-g+r*m,s=a*-g+s*m,h*=m,d*=m,n=e,a=_),1!==I&&(r*=I,s*=I,h*=I,d*=I),1!==k&&(n*=k,a*=k,l*=k,f*=k),1!==O&&(i*=O,o*=O,u*=O,c*=O),(y||D)&&(y&&(R+=r*-y,L+=s*-y,B+=h*-y+y),D&&(R+=E.xOrigin-(E.xOrigin*i+E.yOrigin*n)+E.xOffset,L+=E.yOrigin-(E.xOrigin*o+E.yOrigin*a)+E.yOffset),R<v&&R>-v&&(R=x),L<v&&L>-v&&(L=x),B<v&&B>-v&&(B=0)),b=E.xPercent||E.yPercent?"translate("+E.xPercent+"%,"+E.yPercent+"%) matrix3d(":"matrix3d(",b+=(i<v&&i>-v?x:i)+w+(o<v&&o>-v?x:o)+w+(u<v&&u>-v?x:u),b+=w+(c<v&&c>-v?x:c)+w+(n<v&&n>-v?x:n)+w+(a<v&&a>-v?x:a),M||A||1!==I?(b+=w+(l<v&&l>-v?x:l)+w+(f<v&&f>-v?x:f)+w+(r<v&&r>-v?x:r),b+=w+(s<v&&s>-v?x:s)+w+(h<v&&h>-v?x:h)+w+(d<v&&d>-v?x:d)+w):b+=",0,0,0,0,1,0,",b+=R+w+L+w+B+w+(j?1+-B/j:1)+")",C[At]=b};h=Rt.prototype,h.x=h.y=h.z=h.skewX=h.skewY=h.rotation=h.rotationX=h.rotationY=h.zOrigin=h.xPercent=h.yPercent=h.xOffset=h.yOffset=0,h.scaleX=h.scaleY=h.scaleZ=1,Et("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,svgOrigin,transformPerspective,directionalRotation,parseTransform,force3D,skewType,xPercent,yPercent,smoothOrigin",{parser:function(t,e,i,n,o,a,u){if(n._lastParsedTransform===u)return o;n._lastParsedTransform=u;var l,h=u.scale&&"function"==typeof u.scale?u.scale:0;"function"==typeof u[i]&&(l=u[i],u[i]=e),h&&(u.scale=h(g,t));var c,f,d,p,y,v,_,b,w,x=t._gsTransform,T=t.style,S=1e-6,E=Mt.length,C=u,P={},M="transformOrigin",A=zt(t,r,!0,C.parseTransform),O=C.transform&&("function"==typeof C.transform?C.transform(g,m):C.transform);if(A.skewType=C.skewType||A.skewType||s.defaultSkewType,n._transform=A,O&&"string"==typeof O&&At)f=Y.style,f[At]=O,f.display="block",f.position="absolute",U.body.appendChild(Y),c=zt(Y,null,!1),"simple"===A.skewType&&(c.scaleY*=Math.cos(c.skewX*F)),
A.svg&&(v=A.xOrigin,_=A.yOrigin,c.x-=A.xOffset,c.y-=A.yOffset,(C.transformOrigin||C.svgOrigin)&&(O={},jt(t,ut(C.transformOrigin),O,C.svgOrigin,C.smoothOrigin,!0),v=O.xOrigin,_=O.yOrigin,c.x-=O.xOffset-A.xOffset,c.y-=O.yOffset-A.yOffset),(v||_)&&(b=Yt(Y,!0),c.x-=v-(v*b[0]+_*b[2]),c.y-=_-(v*b[1]+_*b[3]))),U.body.removeChild(Y),c.perspective||(c.perspective=A.perspective),null!=C.xPercent&&(c.xPercent=ht(C.xPercent,A.xPercent)),null!=C.yPercent&&(c.yPercent=ht(C.yPercent,A.yPercent));else if("object"==typeof C){if(c={scaleX:ht(null!=C.scaleX?C.scaleX:C.scale,A.scaleX),scaleY:ht(null!=C.scaleY?C.scaleY:C.scale,A.scaleY),scaleZ:ht(C.scaleZ,A.scaleZ),x:ht(C.x,A.x),y:ht(C.y,A.y),z:ht(C.z,A.z),xPercent:ht(C.xPercent,A.xPercent),yPercent:ht(C.yPercent,A.yPercent),perspective:ht(C.transformPerspective,A.perspective)},y=C.directionalRotation,null!=y)if("object"==typeof y)for(f in y)C[f]=y[f];else C.rotation=y;"string"==typeof C.x&&C.x.indexOf("%")!==-1&&(c.x=0,c.xPercent=ht(C.x,A.xPercent)),"string"==typeof C.y&&C.y.indexOf("%")!==-1&&(c.y=0,c.yPercent=ht(C.y,A.yPercent)),c.rotation=ct("rotation"in C?C.rotation:"shortRotation"in C?C.shortRotation+"_short":"rotationZ"in C?C.rotationZ:A.rotation,A.rotation,"rotation",P),It&&(c.rotationX=ct("rotationX"in C?C.rotationX:"shortRotationX"in C?C.shortRotationX+"_short":A.rotationX||0,A.rotationX,"rotationX",P),c.rotationY=ct("rotationY"in C?C.rotationY:"shortRotationY"in C?C.shortRotationY+"_short":A.rotationY||0,A.rotationY,"rotationY",P)),c.skewX=ct(C.skewX,A.skewX),c.skewY=ct(C.skewY,A.skewY)}for(It&&null!=C.force3D&&(A.force3D=C.force3D,p=!0),d=A.force3D||A.z||A.rotationX||A.rotationY||c.z||c.rotationX||c.rotationY||c.perspective,d||null==C.scale||(c.scaleZ=1);--E>-1;)w=Mt[E],O=c[w]-A[w],(O>S||O<-S||null!=C[w]||null!=N[w])&&(p=!0,o=new bt(A,w,A[w],O,o),w in P&&(o.e=P[w]),o.xs0=0,o.plugin=a,n._overwriteProps.push(o.n));return O=C.transformOrigin,A.svg&&(O||C.svgOrigin)&&(v=A.xOffset,_=A.yOffset,jt(t,ut(O),c,C.svgOrigin,C.smoothOrigin),o=wt(A,"xOrigin",(x?A:c).xOrigin,c.xOrigin,o,M),o=wt(A,"yOrigin",(x?A:c).yOrigin,c.yOrigin,o,M),v===A.xOffset&&_===A.yOffset||(o=wt(A,"xOffset",x?v:A.xOffset,A.xOffset,o,M),o=wt(A,"yOffset",x?_:A.yOffset,A.yOffset,o,M)),O="0px 0px"),(O||It&&d&&A.zOrigin)&&(At?(p=!0,w=kt,O=(O||tt(t,w,r,!1,"50% 50%"))+"",o=new bt(T,w,0,0,o,-1,M),o.b=T[w],o.plugin=a,It?(f=A.zOrigin,O=O.split(" "),A.zOrigin=(O.length>2&&(0===f||"0px"!==O[2])?parseFloat(O[2]):f)||0,o.xs0=o.e=O[0]+" "+(O[1]||"50%")+" 0px",o=new bt(A,"zOrigin",0,0,o,-1,o.n),o.b=f,o.xs0=o.e=A.zOrigin):o.xs0=o.e=O):ut(O+"",A)),p&&(n._transformType=A.svg&&Pt||!d&&3!==this._transformType?2:3),l&&(u[i]=l),h&&(u.scale=h),o},prefix:!0}),Et("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),Et("borderRadius",{defaultValue:"0px",parser:function(t,e,i,o,a,s){e=this.format(e);var u,l,h,c,f,d,p,y,v,m,g,_,b,w,x,T,S=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],E=t.style;for(v=parseFloat(t.offsetWidth),m=parseFloat(t.offsetHeight),u=e.split(" "),l=0;l<S.length;l++)this.p.indexOf("border")&&(S[l]=Q(S[l])),f=c=tt(t,S[l],r,!1,"0px"),f.indexOf(" ")!==-1&&(c=f.split(" "),f=c[0],c=c[1]),d=h=u[l],p=parseFloat(f),_=f.substr((p+"").length),b="="===d.charAt(1),b?(y=parseInt(d.charAt(0)+"1",10),d=d.substr(2),y*=parseFloat(d),g=d.substr((y+"").length-(y<0?1:0))||""):(y=parseFloat(d),g=d.substr((y+"").length)),""===g&&(g=n[i]||_),g!==_&&(w=et(t,"borderLeft",p,_),x=et(t,"borderTop",p,_),"%"===g?(f=w/v*100+"%",c=x/m*100+"%"):"em"===g?(T=et(t,"borderLeft",1,"em"),f=w/T+"em",c=x/T+"em"):(f=w+"px",c=x+"px"),b&&(d=parseFloat(f)+y+g,h=parseFloat(c)+y+g)),a=xt(E,S[l],f+" "+c,d+" "+h,!1,"0px",a);return a},prefix:!0,formatter:mt("0px 0px 0px 0px",!1,!0)}),Et("borderBottomLeftRadius,borderBottomRightRadius,borderTopLeftRadius,borderTopRightRadius",{defaultValue:"0px",parser:function(t,e,i,n,o,a){return xt(t.style,i,this.format(tt(t,i,r,!1,"0px 0px")),this.format(e),!1,"0px",o)},prefix:!0,formatter:mt("0px 0px",!1,!0)}),Et("backgroundPosition",{defaultValue:"0 0",parser:function(t,e,i,n,o,a){var s,u,l,h,c,f,d="background-position",p=r||$(t,null),y=this.format((p?v?p.getPropertyValue(d+"-x")+" "+p.getPropertyValue(d+"-y"):p.getPropertyValue(d):t.currentStyle.backgroundPositionX+" "+t.currentStyle.backgroundPositionY)||"0 0"),m=this.format(e);if(y.indexOf("%")!==-1!=(m.indexOf("%")!==-1)&&m.split(",").length<2&&(f=tt(t,"backgroundImage").replace(O,""),f&&"none"!==f)){for(s=y.split(" "),u=m.split(" "),z.setAttribute("src",f),l=2;--l>-1;)y=s[l],h=y.indexOf("%")!==-1,h!==(u[l].indexOf("%")!==-1)&&(c=0===l?t.offsetWidth-z.width:t.offsetHeight-z.height,s[l]=h?parseFloat(y)/100*c+"px":parseFloat(y)/c*100+"%");y=s.join(" ")}return this.parseComplex(t.style,y,m,o,a)},formatter:ut}),Et("backgroundSize",{defaultValue:"0 0",formatter:function(t){return t+="",ut(t.indexOf(" ")===-1?t+" "+t:t)}}),Et("perspective",{defaultValue:"0px",prefix:!0}),Et("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),Et("transformStyle",{prefix:!0}),Et("backfaceVisibility",{prefix:!0}),Et("userSelect",{prefix:!0}),Et("margin",{parser:gt("marginTop,marginRight,marginBottom,marginLeft")}),Et("padding",{parser:gt("paddingTop,paddingRight,paddingBottom,paddingLeft")}),Et("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(t,e,i,n,o,a){var s,u,l;return v<9?(u=t.currentStyle,l=v<8?" ":",",s="rect("+u.clipTop+l+u.clipRight+l+u.clipBottom+l+u.clipLeft+")",e=this.format(e).split(",").join(l)):(s=this.format(tt(t,this.p,r,!1,this.dflt)),e=this.format(e)),this.parseComplex(t.style,s,e,o,a)}}),Et("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),Et("autoRound,strictUnits",{parser:function(t,e,i,n,r){return r}}),Et("border",{defaultValue:"0px solid #000",parser:function(t,e,i,n,o,a){var s=tt(t,"borderTopWidth",r,!1,"0px"),u=this.format(e).split(" "),l=u[0].replace(T,"");return"px"!==l&&(s=parseFloat(s)/et(t,"borderTopWidth",1,l)+l),this.parseComplex(t.style,this.format(s+" "+tt(t,"borderTopStyle",r,!1,"solid")+" "+tt(t,"borderTopColor",r,!1,"#000")),u.join(" "),o,a)},color:!0,formatter:function(t){var e=t.split(" ");return e[0]+" "+(e[1]||"solid")+" "+(t.match(vt)||["#000"])[0]}}),Et("borderWidth",{parser:gt("borderTopWidth,borderRightWidth,borderBottomWidth,borderLeftWidth")}),Et("float,cssFloat,styleFloat",{parser:function(t,e,i,n,r,o){var a=t.style,s="cssFloat"in a?"cssFloat":"styleFloat";return new bt(a,s,0,0,r,-1,i,!1,0,a[s],e)}});var Ht=function(t){var e,i=this.t,n=i.filter||tt(this.data,"filter")||"",r=this.s+this.c*t|0;100===r&&(n.indexOf("atrix(")===-1&&n.indexOf("radient(")===-1&&n.indexOf("oader(")===-1?(i.removeAttribute("filter"),e=!tt(this.data,"filter")):(i.filter=n.replace(C,""),e=!0)),e||(this.xn1&&(i.filter=n=n||"alpha(opacity="+r+")"),n.indexOf("pacity")===-1?0===r&&this.xn1||(i.filter=n+" alpha(opacity="+r+")"):i.filter=n.replace(S,"opacity="+r))};Et("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(t,e,i,n,o,a){var s=parseFloat(tt(t,"opacity",r,!1,"1")),u=t.style,l="autoAlpha"===i;return"string"==typeof e&&"="===e.charAt(1)&&(e=("-"===e.charAt(0)?-1:1)*parseFloat(e.substr(2))+s),l&&1===s&&"hidden"===tt(t,"visibility",r)&&0!==e&&(s=0),H?o=new bt(u,"opacity",s,e-s,o):(o=new bt(u,"opacity",100*s,100*(e-s),o),o.xn1=l?1:0,u.zoom=1,o.type=2,o.b="alpha(opacity="+o.s+")",o.e="alpha(opacity="+(o.s+o.c)+")",o.data=t,o.plugin=a,o.setRatio=Ht),l&&(o=new bt(u,"visibility",0,0,o,-1,null,!1,0,0!==s?"inherit":"hidden",0===e?"hidden":"inherit"),o.xs0="inherit",n._overwriteProps.push(o.n),n._overwriteProps.push(i)),o}});var qt=function(t,e){e&&(t.removeProperty?("ms"!==e.substr(0,2)&&"webkit"!==e.substr(0,6)||(e="-"+e),t.removeProperty(e.replace(M,"-$1").toLowerCase())):t.removeAttribute(e))},Kt=function(t){if(this.t._gsClassPT=this,1===t||0===t){this.t.setAttribute("class",0===t?this.b:this.e);for(var e=this.data,i=this.t.style;e;)e.v?i[e.p]=e.v:qt(i,e.p),e=e._next;1===t&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.getAttribute("class")!==this.e&&this.t.setAttribute("class",this.e)};Et("className",{parser:function(t,e,n,o,a,s,u){var l,h,c,f,d,p=t.getAttribute("class")||"",y=t.style.cssText;if(a=o._classNamePT=new bt(t,n,0,0,a,2),a.setRatio=Kt,a.pr=-11,i=!0,a.b=p,h=nt(t,r),c=t._gsClassPT){for(f={},d=c.data;d;)f[d.p]=1,d=d._next;c.setRatio(1)}return t._gsClassPT=a,a.e="="!==e.charAt(1)?e:p.replace(new RegExp("(?:\\s|^)"+e.substr(2)+"(?![\\w-])"),"")+("+"===e.charAt(0)?" "+e.substr(2):""),t.setAttribute("class",a.e),l=rt(t,h,nt(t),u,f),t.setAttribute("class",p),a.data=l.firstMPT,t.style.cssText=y,a=a.xfirst=o.parse(t,l.difs,a,s)}});var Zt=function(t){if((1===t||0===t)&&this.data._totalTime===this.data._totalDuration&&"isFromStart"!==this.data.data){var e,i,n,r,o,a=this.t.style,s=l.transform.parse;if("all"===this.e)a.cssText="",r=!0;else for(e=this.e.split(" ").join("").split(","),n=e.length;--n>-1;)i=e[n],l[i]&&(l[i].parse===s?r=!0:i="transformOrigin"===i?kt:l[i].p),qt(a,i);r&&(qt(a,At),o=this.t._gsTransform,o&&(o.svg&&(this.t.removeAttribute("data-svg-origin"),this.t.removeAttribute("transform")),delete this.t._gsTransform))}};for(Et("clearProps",{parser:function(t,e,n,r,o){return o=new bt(t,n,0,0,o,2),o.setRatio=Zt,o.e=e,o.pr=-10,o.data=r._tween,i=!0,o}}),h="bezier,throwProps,physicsProps,physics2D".split(","),Tt=h.length;Tt--;)Ct(h[Tt]);h=s.prototype,h._firstPT=h._lastParsedTransform=h._transform=null,h._onInitTween=function(t,e,o,u){if(!t.nodeType)return!1;this._target=m=t,this._tween=o,this._vars=e,g=u,c=e.autoRound,i=!1,n=e.suffixMap||s.suffixMap,r=$(t,""),a=this._overwriteProps;var h,p,v,_,b,w,x,T,S,C=t.style;if(f&&""===C.zIndex&&(h=tt(t,"zIndex",r),"auto"!==h&&""!==h||this._addLazySet(C,"zIndex",0)),"string"==typeof e&&(_=C.cssText,h=nt(t,r),C.cssText=_+";"+e,h=rt(t,h,nt(t)).difs,!H&&E.test(e)&&(h.opacity=parseFloat(RegExp.$1)),e=h,C.cssText=_),e.className?this._firstPT=p=l.className.parse(t,e.className,"className",this,null,null,e):this._firstPT=p=this.parse(t,e,null),this._transformType){for(S=3===this._transformType,At?d&&(f=!0,""===C.zIndex&&(x=tt(t,"zIndex",r),"auto"!==x&&""!==x||this._addLazySet(C,"zIndex",0)),y&&this._addLazySet(C,"WebkitBackfaceVisibility",this._vars.WebkitBackfaceVisibility||(S?"visible":"hidden"))):C.zoom=1,v=p;v&&v._next;)v=v._next;T=new bt(t,"transform",0,0,null,2),this._linkCSSP(T,null,v),T.setRatio=At?Wt:Vt,T.data=this._transform||zt(t,r,!0),T.tween=o,T.pr=-1,a.pop()}if(i){for(;p;){for(w=p._next,v=_;v&&v.pr>p.pr;)v=v._next;(p._prev=v?v._prev:b)?p._prev._next=p:_=p,(p._next=v)?v._prev=p:b=p,p=w}this._firstPT=_}return!0},h.parse=function(t,e,i,o){var a,s,u,h,f,d,p,y,v,_,b=t.style;for(a in e){if(d=e[a],"function"==typeof d&&(d=d(g,m)),s=l[a])i=s.parse(t,d,a,this,i,o,e);else{if("--"===a.substr(0,2)){this._tween._propLookup[a]=this._addTween.call(this._tween,t.style,"setProperty",$(t).getPropertyValue(a)+"",d+"",a,!1,a);continue}f=tt(t,a,r)+"",v="string"==typeof d,"color"===a||"fill"===a||"stroke"===a||a.indexOf("Color")!==-1||v&&P.test(d)?(v||(d=pt(d),d=(d.length>3?"rgba(":"rgb(")+d.join(",")+")"),i=xt(b,a,f,d,!0,"transparent",i,0,o)):v&&D.test(d)?i=xt(b,a,f,d,!0,null,i,0,o):(u=parseFloat(f),p=u||0===u?f.substr((u+"").length):"",""!==f&&"auto"!==f||("width"===a||"height"===a?(u=st(t,a,r),p="px"):"left"===a||"top"===a?(u=it(t,a,r),p="px"):(u="opacity"!==a?0:1,p="")),_=v&&"="===d.charAt(1),_?(h=parseInt(d.charAt(0)+"1",10),d=d.substr(2),h*=parseFloat(d),y=d.replace(T,"")):(h=parseFloat(d),y=v?d.replace(T,""):""),""===y&&(y=a in n?n[a]:p),d=h||0===h?(_?h+u:h)+y:e[a],p!==y&&(""===y&&"lineHeight"!==a||(h||0===h)&&u&&(u=et(t,a,u,p),"%"===y?(u/=et(t,a,100,"%")/100,e.strictUnits!==!0&&(f=u+"%")):"em"===y||"rem"===y||"vw"===y||"vh"===y?u/=et(t,a,1,y):"px"!==y&&(h=et(t,a,h,y),y="px"),_&&(h||0===h)&&(d=h+u+y))),_&&(h+=u),!u&&0!==u||!h&&0!==h?void 0!==b[a]&&(d||d+""!="NaN"&&null!=d)?(i=new bt(b,a,h||u||0,0,i,-1,a,!1,0,f,d),i.xs0="none"!==d||"display"!==a&&a.indexOf("Style")===-1?d:f):K("invalid "+a+" tween value: "+e[a]):(i=new bt(b,a,u,h-u,i,0,a,c!==!1&&("px"===y||"zIndex"===a),0,f,d),i.xs0=y))}o&&i&&!i.plugin&&(i.plugin=o)}return i},h.setRatio=function(t){var e,i,n,r=this._firstPT,o=1e-6;if(1!==t||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(t||this._tween._time!==this._tween._duration&&0!==this._tween._time||this._tween._rawPrevTime===-1e-6)for(;r;){if(e=r.c*t+r.s,r.r?e=Math.round(e):e<o&&e>-o&&(e=0),r.type)if(1===r.type)if(n=r.l,2===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2;else if(3===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===n)r.t[r.p]=r.xs0+e+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(i=r.xs0+e+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}else r.type===-1?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(t);else r.t[r.p]=e+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(t),r=r._next;else for(;r;){if(2!==r.type)if(r.r&&r.type!==-1)if(e=Math.round(r.s+r.c),r.type){if(1===r.type){for(n=r.l,i=r.xs0+e+r.xs1,n=1;n<r.l;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}}else r.t[r.p]=e+r.xs0;else r.t[r.p]=r.e;else r.setRatio(t);r=r._next}},h._enableTransforms=function(t){this._transform=this._transform||zt(this._target,r,!0),this._transformType=this._transform.svg&&Pt||!t&&3!==this._transformType?2:3};var Jt=function(t){this.t[this.p]=this.e,this.data._linkCSSP(this,this._next,null,!0)};h._addLazySet=function(t,e,i){var n=this._firstPT=new bt(t,e,0,0,this._firstPT,2);n.e=i,n.setRatio=Jt,n.data=this},h._linkCSSP=function(t,e,i,n){return t&&(e&&(e._prev=t),t._next&&(t._next._prev=t._prev),t._prev?t._prev._next=t._next:this._firstPT===t&&(this._firstPT=t._next,n=!0),i?i._next=t:n||null!==this._firstPT||(this._firstPT=t),t._next=e,t._prev=i),t},h._mod=function(t){for(var e=this._firstPT;e;)"function"==typeof t[e.p]&&t[e.p]===Math.round&&(e.r=1),e=e._next},h._kill=function(e){var i,n,r,o=e;if(e.autoAlpha||e.alpha){o={};for(n in e)o[n]=e[n];o.opacity=1,o.autoAlpha&&(o.visibility=1)}for(e.className&&(i=this._classNamePT)&&(r=i.xfirst,r&&r._prev?this._linkCSSP(r._prev,i._next,r._prev._prev):r===this._firstPT&&(this._firstPT=i._next),i._next&&this._linkCSSP(i._next,i._next._next,r._prev),this._classNamePT=null),i=this._firstPT;i;)i.plugin&&i.plugin!==n&&i.plugin._kill&&(i.plugin._kill(e),n=i.plugin),i=i._next;return t.prototype._kill.call(this,o)};var Qt=function(t,e,i){var n,r,o,a;if(t.slice)for(r=t.length;--r>-1;)Qt(t[r],e,i);else for(n=t.childNodes,r=n.length;--r>-1;)o=n[r],a=o.type,o.style&&(e.push(nt(o)),i&&i.push(o)),1!==a&&9!==a&&11!==a||!o.childNodes.length||Qt(o,e,i)};return s.cascadeTo=function(t,i,n){var r,o,a,s,u=e.to(t,i,n),l=[u],h=[],c=[],f=[],d=e._internals.reservedProps;for(t=u._targets||u.target,Qt(t,h,f),u.render(i,!0,!0),Qt(t,c),u.render(0,!0,!0),u._enabled(!0),r=f.length;--r>-1;)if(o=rt(f[r],h[r],c[r]),o.firstMPT){o=o.difs;for(a in n)d[a]&&(o[a]=n[a]);s={};for(a in o)s[a]=h[r][a];l.push(e.fromTo(f[r],i,s,o))}return l},t.activate([s]),s},!0),function(){var t=o._gsDefine.plugin({propName:"roundProps",version:"1.6.0",priority:-1,API:2,init:function(t,e,i){return this._tween=i,!0}}),e=function(t){for(;t;)t.f||t.blob||(t.m=Math.round),t=t._next},i=t.prototype;i._onInitAllProps=function(){for(var t,i,n,r=this._tween,o=r.vars.roundProps.join?r.vars.roundProps:r.vars.roundProps.split(","),a=o.length,s={},u=r._propLookup.roundProps;--a>-1;)s[o[a]]=Math.round;for(a=o.length;--a>-1;)for(t=o[a],i=r._firstPT;i;)n=i._next,i.pg?i.t._mod(s):i.n===t&&(2===i.f&&i.t?e(i.t._firstPT):(this._add(i.t,t,i.s,i.c),n&&(n._prev=i._prev),i._prev?i._prev._next=n:r._firstPT===i&&(r._firstPT=n),i._next=i._prev=null,r._propLookup[t]=u)),i=n;return!1},i._add=function(t,e,i,n){this._addTween(t,e,i,i+n,e,Math.round),this._overwriteProps.push(e)}}(),function(){o._gsDefine.plugin({propName:"attr",API:2,version:"0.6.1",init:function(t,e,i,n){var r,o;if("function"!=typeof t.setAttribute)return!1;for(r in e)o=e[r],"function"==typeof o&&(o=o(n,t)),this._addTween(t,"setAttribute",t.getAttribute(r)+"",o+"",r,!1,r),this._overwriteProps.push(r);return!0}})}(),o._gsDefine.plugin({propName:"directionalRotation",version:"0.3.1",API:2,init:function(t,e,i,n){"object"!=typeof e&&(e={rotation:e}),this.finals={};var r,o,a,s,u,l,h=e.useRadians===!0?2*Math.PI:360,c=1e-6;for(r in e)"useRadians"!==r&&(s=e[r],"function"==typeof s&&(s=s(n,t)),l=(s+"").split("_"),o=l[0],a=parseFloat("function"!=typeof t[r]?t[r]:t[r.indexOf("set")||"function"!=typeof t["get"+r.substr(3)]?r:"get"+r.substr(3)]()),s=this.finals[r]="string"==typeof o&&"="===o.charAt(1)?a+parseInt(o.charAt(0)+"1",10)*Number(o.substr(2)):Number(o)||0,u=s-a,l.length&&(o=l.join("_"),o.indexOf("short")!==-1&&(u%=h,u!==u%(h/2)&&(u=u<0?u+h:u-h)),o.indexOf("_cw")!==-1&&u<0?u=(u+9999999999*h)%h-(u/h|0)*h:o.indexOf("ccw")!==-1&&u>0&&(u=(u-9999999999*h)%h-(u/h|0)*h)),(u>c||u<-c)&&(this._addTween(t,r,a,a+u,r),this._overwriteProps.push(r)));return!0},set:function(t){var e;if(1!==t)this._super.setRatio.call(this,t);else for(e=this._firstPT;e;)e.f?e.t[e.p](this.finals[e.p]):e.t[e.p]=this.finals[e.p],e=e._next}})._autoCSS=!0,o._gsDefine("easing.Back",["easing.Ease"],function(t){var e,i,n,r=o.GreenSockGlobals||o,a=r.com.greensock,s=2*Math.PI,u=Math.PI/2,l=a._class,h=function(e,i){var n=l("easing."+e,function(){},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,n},c=t.register||function(){},f=function(t,e,i,n,r){var o=l("easing."+t,{easeOut:new e,easeIn:new i,easeInOut:new n},!0);return c(o,t),o},d=function(t,e,i){this.t=t,this.v=e,i&&(this.next=i,i.prev=this,this.c=i.v-e,this.gap=i.t-t)},p=function(e,i){var n=l("easing."+e,function(t){this._p1=t||0===t?t:1.70158,this._p2=1.525*this._p1},!0),r=n.prototype=new t;return r.constructor=n,r.getRatio=i,r.config=function(t){return new n(t)},n},y=f("Back",p("BackOut",function(t){return(t-=1)*t*((this._p1+1)*t+this._p1)+1}),p("BackIn",function(t){return t*t*((this._p1+1)*t-this._p1)}),p("BackInOut",function(t){return(t*=2)<1?.5*t*t*((this._p2+1)*t-this._p2):.5*((t-=2)*t*((this._p2+1)*t+this._p2)+2)})),v=l("easing.SlowMo",function(t,e,i){e=e||0===e?e:.7,null==t?t=.7:t>1&&(t=1),this._p=1!==t?e:0,this._p1=(1-t)/2,this._p2=t,this._p3=this._p1+this._p2,this._calcEnd=i===!0},!0),m=v.prototype=new t;return m.constructor=v,m.getRatio=function(t){var e=t+(.5-t)*this._p;return t<this._p1?this._calcEnd?1-(t=1-t/this._p1)*t:e-(t=1-t/this._p1)*t*t*t*e:t>this._p3?this._calcEnd?1-(t=(t-this._p3)/this._p1)*t:e+(t-e)*(t=(t-this._p3)/this._p1)*t*t*t:this._calcEnd?1:e},v.ease=new v(.7,.7),m.config=v.config=function(t,e,i){return new v(t,e,i)},e=l("easing.SteppedEase",function(t,e){t=t||1,this._p1=1/t,this._p2=t+(e?0:1),this._p3=e?1:0},!0),m=e.prototype=new t,m.constructor=e,m.getRatio=function(t){return t<0?t=0:t>=1&&(t=.999999999),((this._p2*t|0)+this._p3)*this._p1},m.config=e.config=function(t,i){return new e(t,i)},i=l("easing.RoughEase",function(e){e=e||{};for(var i,n,r,o,a,s,u=e.taper||"none",l=[],h=0,c=0|(e.points||20),f=c,p=e.randomize!==!1,y=e.clamp===!0,v=e.template instanceof t?e.template:null,m="number"==typeof e.strength?.4*e.strength:.4;--f>-1;)i=p?Math.random():1/c*f,n=v?v.getRatio(i):i,"none"===u?r=m:"out"===u?(o=1-i,r=o*o*m):"in"===u?r=i*i*m:i<.5?(o=2*i,r=o*o*.5*m):(o=2*(1-i),r=o*o*.5*m),p?n+=Math.random()*r-.5*r:f%2?n+=.5*r:n-=.5*r,y&&(n>1?n=1:n<0&&(n=0)),l[h++]={x:i,y:n};for(l.sort(function(t,e){return t.x-e.x}),s=new d(1,1,null),f=c;--f>-1;)a=l[f],s=new d(a.x,a.y,s);this._prev=new d(0,0,0!==s.t?s:s.next)},!0),m=i.prototype=new t,m.constructor=i,m.getRatio=function(t){var e=this._prev;if(t>e.t){for(;e.next&&t>=e.t;)e=e.next;e=e.prev}else for(;e.prev&&t<=e.t;)e=e.prev;return this._prev=e,e.v+(t-e.t)/e.gap*e.c},m.config=function(t){return new i(t)},i.ease=new i,f("Bounce",h("BounceOut",function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}),h("BounceIn",function(t){return(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375)}),h("BounceInOut",function(t){var e=t<.5;return t=e?1-2*t:2*t-1,t<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5})),f("Circ",h("CircOut",function(t){return Math.sqrt(1-(t-=1)*t)}),h("CircIn",function(t){return-(Math.sqrt(1-t*t)-1)}),h("CircInOut",function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)})),n=function(e,i,n){var r=l("easing."+e,function(t,e){this._p1=t>=1?t:1,this._p2=(e||n)/(t<1?t:1),this._p3=this._p2/s*(Math.asin(1/this._p1)||0),this._p2=s/this._p2},!0),o=r.prototype=new t;return o.constructor=r,o.getRatio=i,o.config=function(t,e){return new r(t,e)},r},f("Elastic",n("ElasticOut",function(t){return this._p1*Math.pow(2,-10*t)*Math.sin((t-this._p3)*this._p2)+1},.3),n("ElasticIn",function(t){return-(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2))},.3),n("ElasticInOut",function(t){return(t*=2)<1?-.5*(this._p1*Math.pow(2,10*(t-=1))*Math.sin((t-this._p3)*this._p2)):this._p1*Math.pow(2,-10*(t-=1))*Math.sin((t-this._p3)*this._p2)*.5+1},.45)),f("Expo",h("ExpoOut",function(t){return 1-Math.pow(2,-10*t)}),h("ExpoIn",function(t){return Math.pow(2,10*(t-1))-.001}),h("ExpoInOut",function(t){return(t*=2)<1?.5*Math.pow(2,10*(t-1)):.5*(2-Math.pow(2,-10*(t-1)))})),f("Sine",h("SineOut",function(t){return Math.sin(t*u)}),h("SineIn",function(t){return-Math.cos(t*u)+1}),h("SineInOut",function(t){return-.5*(Math.cos(Math.PI*t)-1)})),l("easing.EaseLookup",{find:function(e){return t.map[e]}},!0),c(r.SlowMo,"SlowMo","ease,"),c(i,"RoughEase","ease,"),c(e,"SteppedEase","ease,"),y},!0)}),o._gsDefine&&o._gsQueue.pop()(),function(i,o){"use strict";var a={},s=i.document,u=i.GreenSockGlobals=i.GreenSockGlobals||i;if(!u.TweenLite){var l,h,c,f,d,p=function(t){var e,i=t.split("."),n=u;for(e=0;e<i.length;e++)n[i[e]]=n=n[i[e]]||{};return n},y=p("com.greensock"),v=1e-10,m=function(t){var e,i=[],n=t.length;for(e=0;e!==n;i.push(t[e++]));return i},g=function(){},_=function(){var t=Object.prototype.toString,e=t.call([]);return function(i){return null!=i&&(i instanceof Array||"object"==typeof i&&!!i.push&&t.call(i)===e)}}(),b={},w=function(i,s,l,h){this.sc=b[i]?b[i].sc:[],b[i]=this,this.gsClass=null,this.func=l;var c=[];this.check=function(f){for(var d,y,v,m,g=s.length,_=g;--g>-1;)(d=b[s[g]]||new w(s[g],[])).gsClass?(c[g]=d.gsClass,_--):f&&d.sc.push(this);if(0===_&&l){if(y=("com.greensock."+i).split("."),v=y.pop(),m=p(y.join("."))[v]=this.gsClass=l.apply(l,c),h)if(u[v]=a[v]=m,"undefined"!=typeof t&&t.exports)if(i===o){t.exports=a[o]=m;for(g in a)m[g]=a[g]}else a[o]&&(a[o][v]=m);else n=[],r=function(){return m}.apply(e,n),!(void 0!==r&&(t.exports=r));for(g=0;g<this.sc.length;g++)this.sc[g].check()}},this.check(!0)},x=i._gsDefine=function(t,e,i,n){return new w(t,e,i,n)},T=y._class=function(t,e,i){return e=e||function(){},x(t,[],function(){return e},i),e};x.globals=u;var S=[0,0,1,1],E=T("easing.Ease",function(t,e,i,n){this._func=t,this._type=i||0,this._power=n||0,this._params=e?S.concat(e):S},!0),C=E.map={},P=E.register=function(t,e,i,n){for(var r,o,a,s,u=e.split(","),l=u.length,h=(i||"easeIn,easeOut,easeInOut").split(",");--l>-1;)for(o=u[l],r=n?T("easing."+o,null,!0):y.easing[o]||{},a=h.length;--a>-1;)s=h[a],C[o+"."+s]=C[s+o]=r[s]=t.getRatio?t:t[s]||new t};for(c=E.prototype,c._calcEnd=!1,c.getRatio=function(t){if(this._func)return this._params[0]=t,this._func.apply(null,this._params);var e=this._type,i=this._power,n=1===e?1-t:2===e?t:t<.5?2*t:2*(1-t);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===e?1-n:2===e?n:t<.5?n/2:1-n/2},l=["Linear","Quad","Cubic","Quart","Quint,Strong"],h=l.length;--h>-1;)c=l[h]+",Power"+h,P(new E(null,null,1,h),c,"easeOut",!0),P(new E(null,null,2,h),c,"easeIn"+(0===h?",easeNone":"")),P(new E(null,null,3,h),c,"easeInOut");C.linear=y.easing.Linear.easeIn,C.swing=y.easing.Quad.easeInOut;var M=T("events.EventDispatcher",function(t){this._listeners={},this._eventTarget=t||this});c=M.prototype,c.addEventListener=function(t,e,i,n,r){r=r||0;var o,a,s=this._listeners[t],u=0;for(this!==f||d||f.wake(),null==s&&(this._listeners[t]=s=[]),a=s.length;--a>-1;)o=s[a],o.c===e&&o.s===i?s.splice(a,1):0===u&&o.pr<r&&(u=a+1);s.splice(u,0,{c:e,s:i,up:n,pr:r})},c.removeEventListener=function(t,e){var i,n=this._listeners[t];if(n)for(i=n.length;--i>-1;)if(n[i].c===e)return void n.splice(i,1)},c.dispatchEvent=function(t){var e,i,n,r=this._listeners[t];if(r)for(e=r.length,e>1&&(r=r.slice(0)),i=this._eventTarget;--e>-1;)n=r[e],n&&(n.up?n.c.call(n.s||i,{type:t,target:i}):n.c.call(n.s||i))};var A=i.requestAnimationFrame,O=i.cancelAnimationFrame,k=Date.now||function(){return(new Date).getTime()},I=k();for(l=["ms","moz","webkit","o"],h=l.length;--h>-1&&!A;)A=i[l[h]+"RequestAnimationFrame"],O=i[l[h]+"CancelAnimationFrame"]||i[l[h]+"CancelRequestAnimationFrame"];T("Ticker",function(t,e){var i,n,r,o,a,u=this,l=k(),h=!(e===!1||!A)&&"auto",c=500,p=33,y="tick",m=function(t){var e,s,h=k()-I;h>c&&(l+=h-p),I+=h,u.time=(I-l)/1e3,e=u.time-a,(!i||e>0||t===!0)&&(u.frame++,a+=e+(e>=o?.004:o-e),s=!0),t!==!0&&(r=n(m)),s&&u.dispatchEvent(y)};M.call(u),u.time=u.frame=0,u.tick=function(){m(!0)},u.lagSmoothing=function(t,e){c=t||1/v,p=Math.min(e,c,0)},u.sleep=function(){null!=r&&(h&&O?O(r):clearTimeout(r),n=g,r=null,u===f&&(d=!1))},u.wake=function(t){null!==r?u.sleep():t?l+=-I+(I=k()):u.frame>10&&(I=k()-c+5),n=0===i?g:h&&A?A:function(t){return setTimeout(t,1e3*(a-u.time)+1|0)},u===f&&(d=!0),m(2)},u.fps=function(t){return arguments.length?(i=t,o=1/(i||60),a=this.time+o,void u.wake()):i},u.useRAF=function(t){return arguments.length?(u.sleep(),h=t,void u.fps(i)):h},u.fps(t),setTimeout(function(){"auto"===h&&u.frame<5&&"hidden"!==s.visibilityState&&u.useRAF(!1)},1500)}),c=y.Ticker.prototype=new y.events.EventDispatcher,c.constructor=y.Ticker;var R=T("core.Animation",function(t,e){if(this.vars=e=e||{},this._duration=this._totalDuration=t||0,this._delay=Number(e.delay)||0,this._timeScale=1,this._active=e.immediateRender===!0,this.data=e.data,this._reversed=e.reversed===!0,$){d||f.wake();var i=this.vars.useFrames?Q:$;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});f=R.ticker=new y.Ticker,c=R.prototype,c._dirty=c._gc=c._initted=c._paused=!1,c._totalTime=c._time=0,c._rawPrevTime=-1,c._next=c._last=c._onUpdate=c._timeline=c.timeline=null,c._paused=!1;var L=function(){d&&k()-I>2e3&&"hidden"!==s.visibilityState&&f.wake();var t=setTimeout(L,2e3);t.unref&&t.unref()};L(),c.play=function(t,e){return null!=t&&this.seek(t,e),this.reversed(!1).paused(!1)},c.pause=function(t,e){return null!=t&&this.seek(t,e),this.paused(!0)},c.resume=function(t,e){return null!=t&&this.seek(t,e),this.paused(!1)},c.seek=function(t,e){return this.totalTime(Number(t),e!==!1)},c.restart=function(t,e){return this.reversed(!1).paused(!1).totalTime(t?-this._delay:0,e!==!1,!0)},c.reverse=function(t,e){return null!=t&&this.seek(t||this.totalDuration(),e),this.reversed(!0).paused(!1)},c.render=function(t,e,i){},c.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},c.isActive=function(){var t,e=this._timeline,i=this._startTime;return!e||!this._gc&&!this._paused&&e.isActive()&&(t=e.rawTime(!0))>=i&&t<i+this.totalDuration()/this._timeScale-1e-7},c._enabled=function(t,e){return d||f.wake(),this._gc=!t,this._active=this.isActive(),e!==!0&&(t&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!t&&this.timeline&&this._timeline._remove(this,!0)),!1},c._kill=function(t,e){return this._enabled(!1,!1)},c.kill=function(t,e){return this._kill(t,e),this},c._uncache=function(t){for(var e=t?this:this.timeline;e;)e._dirty=!0,e=e.timeline;return this},c._swapSelfInParams=function(t){for(var e=t.length,i=t.concat();--e>-1;)"{self}"===t[e]&&(i[e]=this);return i},c._callback=function(t){var e=this.vars,i=e[t],n=e[t+"Params"],r=e[t+"Scope"]||e.callbackScope||this,o=n?n.length:0;switch(o){case 0:i.call(r);break;case 1:i.call(r,n[0]);break;case 2:i.call(r,n[0],n[1]);break;default:i.apply(r,n)}},c.eventCallback=function(t,e,i,n){if("on"===(t||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[t];null==e?delete r[t]:(r[t]=e,r[t+"Params"]=_(i)&&i.join("").indexOf("{self}")!==-1?this._swapSelfInParams(i):i,r[t+"Scope"]=n),"onUpdate"===t&&(this._onUpdate=e)}return this},c.delay=function(t){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+t-this._delay),this._delay=t,this):this._delay},c.duration=function(t){return arguments.length?(this._duration=this._totalDuration=t,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==t&&this.totalTime(this._totalTime*(t/this._duration),!0),this):(this._dirty=!1,this._duration)},c.totalDuration=function(t){return this._dirty=!1,arguments.length?this.duration(t):this._totalDuration},c.time=function(t,e){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(t>this._duration?this._duration:t,e)):this._time},c.totalTime=function(t,e,i){if(d||f.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(t<0&&!i&&(t+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,r=this._timeline;if(t>n&&!i&&(t=n),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?n-t:t)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===t&&0!==this._duration||(N.length&&et(),this.render(t,e,!1),N.length&&et())}return this},c.progress=c.totalProgress=function(t,e){var i=this.duration();return arguments.length?this.totalTime(i*t,e):i?this._time/i:this.ratio},c.startTime=function(t){return arguments.length?(t!==this._startTime&&(this._startTime=t,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,t-this._delay)),this):this._startTime},c.endTime=function(t){return this._startTime+(0!=t?this.totalDuration():this.duration())/this._timeScale},c.timeScale=function(t){if(!arguments.length)return this._timeScale;if(t=t||v,this._timeline&&this._timeline.smoothChildTiming){var e=this._pauseTime,i=e||0===e?e:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/t}return this._timeScale=t,this._uncache(!1)},c.reversed=function(t){return arguments.length?(t!=this._reversed&&(this._reversed=t,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},c.paused=function(t){if(!arguments.length)return this._paused;var e,i,n=this._timeline;return t!=this._paused&&n&&(d||t||f.wake(),e=n.rawTime(),i=e-this._pauseTime,!t&&n.smoothChildTiming&&(this._startTime+=i,this._uncache(!1)),this._pauseTime=t?e:null,this._paused=t,this._active=this.isActive(),!t&&0!==i&&this._initted&&this.duration()&&(e=n.smoothChildTiming?this._totalTime:(e-this._startTime)/this._timeScale,this.render(e,e===this._totalTime,!0))),this._gc&&!t&&this._enabled(!0,!1),this};var B=T("core.SimpleTimeline",function(t){R.call(this,0,t),this.autoRemoveChildren=this.smoothChildTiming=!0});c=B.prototype=new R,c.constructor=B,c.kill()._gc=!1,c._first=c._last=c._recent=null,c._sortChildren=!1,c.add=c.insert=function(t,e,i,n){var r,o;if(t._startTime=Number(e||0)+t._delay,t._paused&&this!==t._timeline&&(t._pauseTime=t._startTime+(this.rawTime()-t._startTime)/t._timeScale),t.timeline&&t.timeline._remove(t,!0),t.timeline=t._timeline=this,t._gc&&t._enabled(!0,!0),r=this._last,this._sortChildren)for(o=t._startTime;r&&r._startTime>o;)r=r._prev;return r?(t._next=r._next,r._next=t):(t._next=this._first,
this._first=t),t._next?t._next._prev=t:this._last=t,t._prev=r,this._recent=t,this._timeline&&this._uncache(!0),this},c._remove=function(t,e){return t.timeline===this&&(e||t._enabled(!1,!0),t._prev?t._prev._next=t._next:this._first===t&&(this._first=t._next),t._next?t._next._prev=t._prev:this._last===t&&(this._last=t._prev),t._next=t._prev=t.timeline=null,t===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},c.render=function(t,e,i){var n,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=t;r;)n=r._next,(r._active||t>=r._startTime&&!r._paused&&!r._gc)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(t-r._startTime)*r._timeScale,e,i):r.render((t-r._startTime)*r._timeScale,e,i)),r=n},c.rawTime=function(){return d||f.wake(),this._totalTime};var D=T("TweenLite",function(t,e,n){if(R.call(this,e,n),this.render=D.prototype.render,null==t)throw"Cannot tween a null target.";this.target=t="string"!=typeof t?t:D.selector(t)||t;var r,o,a,s=t.jquery||t.length&&t!==i&&t[0]&&(t[0]===i||t[0].nodeType&&t[0].style&&!t.nodeType),u=this.vars.overwrite;if(this._overwrite=u=null==u?J[D.defaultOverwrite]:"number"==typeof u?u>>0:J[u],(s||t instanceof Array||t.push&&_(t))&&"number"!=typeof t[0])for(this._targets=a=m(t),this._propLookup=[],this._siblings=[],r=0;r<a.length;r++)o=a[r],o?"string"!=typeof o?o.length&&o!==i&&o[0]&&(o[0]===i||o[0].nodeType&&o[0].style&&!o.nodeType)?(a.splice(r--,1),this._targets=a=a.concat(m(o))):(this._siblings[r]=it(o,this,!1),1===u&&this._siblings[r].length>1&&rt(o,this,null,1,this._siblings[r])):(o=a[r--]=D.selector(o),"string"==typeof o&&a.splice(r+1,1)):a.splice(r--,1);else this._propLookup={},this._siblings=it(t,this,!1),1===u&&this._siblings.length>1&&rt(t,this,null,1,this._siblings);(this.vars.immediateRender||0===e&&0===this._delay&&this.vars.immediateRender!==!1)&&(this._time=-v,this.render(Math.min(0,-this._delay)))},!0),F=function(t){return t&&t.length&&t!==i&&t[0]&&(t[0]===i||t[0].nodeType&&t[0].style&&!t.nodeType)},j=function(t,e){var i,n={};for(i in t)Z[i]||i in e&&"transform"!==i&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!H[i]||H[i]&&H[i]._autoCSS)||(n[i]=t[i],delete t[i]);t.css=n};c=D.prototype=new R,c.constructor=D,c.kill()._gc=!1,c.ratio=0,c._firstPT=c._targets=c._overwrittenProps=c._startAt=null,c._notifyPluginsOfEnabled=c._lazy=!1,D.version="1.20.2",D.defaultEase=c._ease=new E(null,null,1,1),D.defaultOverwrite="auto",D.ticker=f,D.autoSleep=120,D.lagSmoothing=function(t,e){f.lagSmoothing(t,e)},D.selector=i.$||i.jQuery||function(t){var e=i.$||i.jQuery;return e?(D.selector=e,e(t)):"undefined"==typeof s?t:s.querySelectorAll?s.querySelectorAll(t):s.getElementById("#"===t.charAt(0)?t.substr(1):t)};var N=[],X={},U=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,G=/[\+-]=-?[\.\d]/,Y=function(t){for(var e,i=this._firstPT,n=1e-6;i;)e=i.blob?1===t&&this.end?this.end:t?this.join(""):this.start:i.c*t+i.s,i.m?e=i.m(e,this._target||i.t):e<n&&e>-n&&!i.blob&&(e=0),i.f?i.fp?i.t[i.p](i.fp,e):i.t[i.p](e):i.t[i.p]=e,i=i._next},z=function(t,e,i,n){var r,o,a,s,u,l,h,c=[],f=0,d="",p=0;for(c.start=t,c.end=e,t=c[0]=t+"",e=c[1]=e+"",i&&(i(c),t=c[0],e=c[1]),c.length=0,r=t.match(U)||[],o=e.match(U)||[],n&&(n._next=null,n.blob=1,c._firstPT=c._applyPT=n),u=o.length,s=0;s<u;s++)h=o[s],l=e.substr(f,e.indexOf(h,f)-f),d+=l||!s?l:",",f+=l.length,p?p=(p+1)%5:"rgba("===l.substr(-5)&&(p=1),h===r[s]||r.length<=s?d+=h:(d&&(c.push(d),d=""),a=parseFloat(r[s]),c.push(a),c._firstPT={_next:c._firstPT,t:c,p:c.length-1,s:a,c:("="===h.charAt(1)?parseInt(h.charAt(0)+"1",10)*parseFloat(h.substr(2)):parseFloat(h)-a)||0,f:0,m:p&&p<4?Math.round:0}),f+=h.length;return d+=e.substr(f),d&&c.push(d),c.setRatio=Y,G.test(e)&&(c.end=0),c},V=function(t,e,i,n,r,o,a,s,u){"function"==typeof n&&(n=n(u||0,t));var l,h=typeof t[e],c="function"!==h?"":e.indexOf("set")||"function"!=typeof t["get"+e.substr(3)]?e:"get"+e.substr(3),f="get"!==i?i:c?a?t[c](a):t[c]():t[e],d="string"==typeof n&&"="===n.charAt(1),p={t:t,p:e,s:f,f:"function"===h,pg:0,n:r||e,m:o?"function"==typeof o?o:Math.round:0,pr:0,c:d?parseInt(n.charAt(0)+"1",10)*parseFloat(n.substr(2)):parseFloat(n)-f||0};if(("number"!=typeof f||"number"!=typeof n&&!d)&&(a||isNaN(f)||!d&&isNaN(n)||"boolean"==typeof f||"boolean"==typeof n?(p.fp=a,l=z(f,d?parseFloat(p.s)+p.c:n,s||D.defaultStringFilter,p),p={t:l,p:"setRatio",s:0,c:1,f:2,pg:0,n:r||e,pr:0,m:0}):(p.s=parseFloat(f),d||(p.c=parseFloat(n)-p.s||0))),p.c)return(p._next=this._firstPT)&&(p._next._prev=p),this._firstPT=p,p},W=D._internals={isArray:_,isSelector:F,lazyTweens:N,blobDif:z},H=D._plugins={},q=W.tweenLookup={},K=0,Z=W.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},J={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},Q=R._rootFramesTimeline=new B,$=R._rootTimeline=new B,tt=30,et=W.lazyRender=function(){var t,e=N.length;for(X={};--e>-1;)t=N[e],t&&t._lazy!==!1&&(t.render(t._lazy[0],t._lazy[1],!0),t._lazy=!1);N.length=0};$._startTime=f.time,Q._startTime=f.frame,$._active=Q._active=!0,setTimeout(et,1),R._updateRoot=D.render=function(){var t,e,i;if(N.length&&et(),$.render((f.time-$._startTime)*$._timeScale,!1,!1),Q.render((f.frame-Q._startTime)*Q._timeScale,!1,!1),N.length&&et(),f.frame>=tt){tt=f.frame+(parseInt(D.autoSleep,10)||120);for(i in q){for(e=q[i].tweens,t=e.length;--t>-1;)e[t]._gc&&e.splice(t,1);0===e.length&&delete q[i]}if(i=$._first,(!i||i._paused)&&D.autoSleep&&!Q._first&&1===f._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||f.sleep()}}},f.addEventListener("tick",R._updateRoot);var it=function(t,e,i){var n,r,o=t._gsTweenID;if(q[o||(t._gsTweenID=o="t"+K++)]||(q[o]={target:t,tweens:[]}),e&&(n=q[o].tweens,n[r=n.length]=e,i))for(;--r>-1;)n[r]===e&&n.splice(r,1);return q[o].tweens},nt=function(t,e,i,n){var r,o,a=t.vars.onOverwrite;return a&&(r=a(t,e,i,n)),a=D.onOverwrite,a&&(o=a(t,e,i,n)),r!==!1&&o!==!1},rt=function(t,e,i,n,r){var o,a,s,u;if(1===n||n>=4){for(u=r.length,o=0;o<u;o++)if((s=r[o])!==e)s._gc||s._kill(null,t,e)&&(a=!0);else if(5===n)break;return a}var l,h=e._startTime+v,c=[],f=0,d=0===e._duration;for(o=r.length;--o>-1;)(s=r[o])===e||s._gc||s._paused||(s._timeline!==e._timeline?(l=l||ot(e,0,d),0===ot(s,l,d)&&(c[f++]=s)):s._startTime<=h&&s._startTime+s.totalDuration()/s._timeScale>h&&((d||!s._initted)&&h-s._startTime<=2e-10||(c[f++]=s)));for(o=f;--o>-1;)if(s=c[o],2===n&&s._kill(i,t,e)&&(a=!0),2!==n||!s._firstPT&&s._initted){if(2!==n&&!nt(s,e))continue;s._enabled(!1,!1)&&(a=!0)}return a},ot=function(t,e,i){for(var n=t._timeline,r=n._timeScale,o=t._startTime;n._timeline;){if(o+=n._startTime,r*=n._timeScale,n._paused)return-100;n=n._timeline}return o/=r,o>e?o-e:i&&o===e||!t._initted&&o-e<2*v?v:(o+=t.totalDuration()/t._timeScale/r)>e+v?0:o-e-v};c._init=function(){var t,e,i,n,r,o,a=this.vars,s=this._overwrittenProps,u=this._duration,l=!!a.immediateRender,h=a.ease;if(a.startAt){this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),r={};for(n in a.startAt)r[n]=a.startAt[n];if(r.overwrite=!1,r.immediateRender=!0,r.lazy=l&&a.lazy!==!1,r.startAt=r.delay=null,r.onUpdate=a.onUpdate,r.onUpdateScope=a.onUpdateScope||a.callbackScope||this,this._startAt=D.to(this.target,0,r),l)if(this._time>0)this._startAt=null;else if(0!==u)return}else if(a.runBackwards&&0!==u)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{0!==this._time&&(l=!1),i={};for(n in a)Z[n]&&"autoCSS"!==n||(i[n]=a[n]);if(i.overwrite=0,i.data="isFromStart",i.lazy=l&&a.lazy!==!1,i.immediateRender=l,this._startAt=D.to(this.target,0,i),l){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=h=h?h instanceof E?h:"function"==typeof h?new E(h,a.easeParams):C[h]||D.defaultEase:D.defaultEase,a.easeParams instanceof Array&&h.config&&(this._ease=h.config.apply(h,a.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(o=this._targets.length,t=0;t<o;t++)this._initProps(this._targets[t],this._propLookup[t]={},this._siblings[t],s?s[t]:null,t)&&(e=!0);else e=this._initProps(this.target,this._propLookup,this._siblings,s,0);if(e&&D._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),a.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=a.onUpdate,this._initted=!0},c._initProps=function(t,e,n,r,o){var a,s,u,l,h,c;if(null==t)return!1;X[t._gsTweenID]&&et(),this.vars.css||t.style&&t!==i&&t.nodeType&&H.css&&this.vars.autoCSS!==!1&&j(this.vars,t);for(a in this.vars)if(c=this.vars[a],Z[a])c&&(c instanceof Array||c.push&&_(c))&&c.join("").indexOf("{self}")!==-1&&(this.vars[a]=c=this._swapSelfInParams(c,this));else if(H[a]&&(l=new H[a])._onInitTween(t,this.vars[a],this,o)){for(this._firstPT=h={_next:this._firstPT,t:l,p:"setRatio",s:0,c:1,f:1,n:a,pg:1,pr:l._priority,m:0},s=l._overwriteProps.length;--s>-1;)e[l._overwriteProps[s]]=this._firstPT;(l._priority||l._onInitAllProps)&&(u=!0),(l._onDisable||l._onEnable)&&(this._notifyPluginsOfEnabled=!0),h._next&&(h._next._prev=h)}else e[a]=V.call(this,t,a,"get",c,a,0,null,this.vars.stringFilter,o);return r&&this._kill(r,t)?this._initProps(t,e,n,r,o):this._overwrite>1&&this._firstPT&&n.length>1&&rt(t,this,e,this._overwrite,n)?(this._kill(e,t),this._initProps(t,e,n,r,o)):(this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration)&&(X[t._gsTweenID]=!0),u)},c.render=function(t,e,i){var n,r,o,a,s=this._time,u=this._duration,l=this._rawPrevTime;if(t>=u-1e-7&&t>=0)this._totalTime=this._time=u,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,r="onComplete",i=i||this._timeline.autoRemoveChildren),0===u&&(this._initted||!this.vars.lazy||i)&&(this._startTime===this._timeline._duration&&(t=0),(l<0||t<=0&&t>=-1e-7||l===v&&"isPause"!==this.data)&&l!==t&&(i=!0,l>v&&(r="onReverseComplete")),this._rawPrevTime=a=!e||t||l===t?t:v);else if(t<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===u&&l>0)&&(r="onReverseComplete",n=this._reversed),t<0&&(this._active=!1,0===u&&(this._initted||!this.vars.lazy||i)&&(l>=0&&(l!==v||"isPause"!==this.data)&&(i=!0),this._rawPrevTime=a=!e||t||l===t?t:v)),(!this._initted||this._startAt&&this._startAt.progress())&&(i=!0);else if(this._totalTime=this._time=t,this._easeType){var h=t/u,c=this._easeType,f=this._easePower;(1===c||3===c&&h>=.5)&&(h=1-h),3===c&&(h*=2),1===f?h*=h:2===f?h*=h*h:3===f?h*=h*h*h:4===f&&(h*=h*h*h*h),1===c?this.ratio=1-h:2===c?this.ratio=h:t/u<.5?this.ratio=h/2:this.ratio=1-h/2}else this.ratio=this._ease.getRatio(t/u);if(this._time!==s||i){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!i&&this._firstPT&&(this.vars.lazy!==!1&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=l,N.push(this),void(this._lazy=[t,e]);this._time&&!n?this.ratio=this._ease.getRatio(this._time/u):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._lazy!==!1&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&t>=0&&(this._active=!0),0===s&&(this._startAt&&(t>=0?this._startAt.render(t,e,i):r||(r="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==u||e||this._callback("onStart"))),o=this._firstPT;o;)o.f?o.t[o.p](o.c*this.ratio+o.s):o.t[o.p]=o.c*this.ratio+o.s,o=o._next;this._onUpdate&&(t<0&&this._startAt&&t!==-1e-4&&this._startAt.render(t,e,i),e||(this._time!==s||n||i)&&this._callback("onUpdate")),r&&(this._gc&&!i||(t<0&&this._startAt&&!this._onUpdate&&t!==-1e-4&&this._startAt.render(t,e,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!e&&this.vars[r]&&this._callback(r),0===u&&this._rawPrevTime===v&&a!==v&&(this._rawPrevTime=0)))}},c._kill=function(t,e,i){if("all"===t&&(t=null),null==t&&(null==e||e===this.target))return this._lazy=!1,this._enabled(!1,!1);e="string"!=typeof e?e||this._targets||this.target:D.selector(e)||e;var n,r,o,a,s,u,l,h,c,f=i&&this._time&&i._startTime===this._startTime&&this._timeline===i._timeline;if((_(e)||F(e))&&"number"!=typeof e[0])for(n=e.length;--n>-1;)this._kill(t,e[n],i)&&(u=!0);else{if(this._targets){for(n=this._targets.length;--n>-1;)if(e===this._targets[n]){s=this._propLookup[n]||{},this._overwrittenProps=this._overwrittenProps||[],r=this._overwrittenProps[n]=t?this._overwrittenProps[n]||{}:"all";break}}else{if(e!==this.target)return!1;s=this._propLookup,r=this._overwrittenProps=t?this._overwrittenProps||{}:"all"}if(s){if(l=t||s,h=t!==r&&"all"!==r&&t!==s&&("object"!=typeof t||!t._tempKill),i&&(D.onOverwrite||this.vars.onOverwrite)){for(o in l)s[o]&&(c||(c=[]),c.push(o));if((c||!t)&&!nt(this,i,e,c))return!1}for(o in l)(a=s[o])&&(f&&(a.f?a.t[a.p](a.s):a.t[a.p]=a.s,u=!0),a.pg&&a.t._kill(l)&&(u=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete s[o]),h&&(r[o]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return u},c.invalidate=function(){return this._notifyPluginsOfEnabled&&D._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],R.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-v,this.render(Math.min(0,-this._delay))),this},c._enabled=function(t,e){if(d||f.wake(),t&&this._gc){var i,n=this._targets;if(n)for(i=n.length;--i>-1;)this._siblings[i]=it(n[i],this,!0);else this._siblings=it(this.target,this,!0)}return R.prototype._enabled.call(this,t,e),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&D._onPluginEvent(t?"_onEnable":"_onDisable",this)},D.to=function(t,e,i){return new D(t,e,i)},D.from=function(t,e,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new D(t,e,i)},D.fromTo=function(t,e,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new D(t,e,n)},D.delayedCall=function(t,e,i,n,r){return new D(e,0,{delay:t,onComplete:e,onCompleteParams:i,callbackScope:n,onReverseComplete:e,onReverseCompleteParams:i,immediateRender:!1,lazy:!1,useFrames:r,overwrite:0})},D.set=function(t,e){return new D(t,0,e)},D.getTweensOf=function(t,e){if(null==t)return[];t="string"!=typeof t?t:D.selector(t)||t;var i,n,r,o;if((_(t)||F(t))&&"number"!=typeof t[0]){for(i=t.length,n=[];--i>-1;)n=n.concat(D.getTweensOf(t[i],e));for(i=n.length;--i>-1;)for(o=n[i],r=i;--r>-1;)o===n[r]&&n.splice(i,1)}else if(t._gsTweenID)for(n=it(t).concat(),i=n.length;--i>-1;)(n[i]._gc||e&&!n[i].isActive())&&n.splice(i,1);return n||[]},D.killTweensOf=D.killDelayedCallsTo=function(t,e,i){"object"==typeof e&&(i=e,e=!1);for(var n=D.getTweensOf(t,e),r=n.length;--r>-1;)n[r]._kill(i,t)};var at=T("plugins.TweenPlugin",function(t,e){this._overwriteProps=(t||"").split(","),this._propName=this._overwriteProps[0],this._priority=e||0,this._super=at.prototype},!0);if(c=at.prototype,at.version="1.19.0",at.API=2,c._firstPT=null,c._addTween=V,c.setRatio=Y,c._kill=function(t){var e,i=this._overwriteProps,n=this._firstPT;if(null!=t[this._propName])this._overwriteProps=[];else for(e=i.length;--e>-1;)null!=t[i[e]]&&i.splice(e,1);for(;n;)null!=t[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},c._mod=c._roundProps=function(t){for(var e,i=this._firstPT;i;)e=t[this._propName]||null!=i.n&&t[i.n.split(this._propName+"_").join("")],e&&"function"==typeof e&&(2===i.f?i.t._applyPT.m=e:i.m=e),i=i._next},D._onPluginEvent=function(t,e){var i,n,r,o,a,s=e._firstPT;if("_onInitAllProps"===t){for(;s;){for(a=s._next,n=r;n&&n.pr>s.pr;)n=n._next;(s._prev=n?n._prev:o)?s._prev._next=s:r=s,(s._next=n)?n._prev=s:o=s,s=a}s=e._firstPT=r}for(;s;)s.pg&&"function"==typeof s.t[t]&&s.t[t]()&&(i=!0),s=s._next;return i},at.activate=function(t){for(var e=t.length;--e>-1;)t[e].API===at.API&&(H[(new t[e])._propName]=t[e]);return!0},x.plugin=function(t){if(!(t&&t.propName&&t.init&&t.API))throw"illegal plugin definition.";var e,i=t.propName,n=t.priority||0,r=t.overwriteProps,o={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},a=T("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){at.call(this,i,n),this._overwriteProps=r||[]},t.global===!0),s=a.prototype=new at(i);s.constructor=a,a.API=t.API;for(e in o)"function"==typeof t[e]&&(s[o[e]]=t[e]);return a.version=t.version,at.activate([a]),a},l=i._gsQueue){for(h=0;h<l.length;h++)l[h]();for(c in b)b[c].func||i.console.log("GSAP encountered missing dependency: "+c)}d=!1}}("undefined"!=typeof t&&t.exports&&"undefined"!=typeof i?i:this||window,"TweenMax")}).call(e,function(){return this}())},function(t,e){function i(){}t.exports=i,i.appendArray=function(t,e){if(e.length<15e4)t.push.apply(t,e);else for(var i=0,n=e.length;i!==n;++i)t.push(e[i])},i.splice=function(t,e,i){i=i||1;for(var n=e,r=t.length-i;n<r;n++)t[n]=t[n+i];t.length=r},"undefined"!=typeof P2_ARRAY_TYPE?i.ARRAY_TYPE=P2_ARRAY_TYPE:"undefined"!=typeof Float32Array?i.ARRAY_TYPE=Float32Array:i.ARRAY_TYPE=Array,i.extend=function(t,e){for(var i in e)t[i]=e[i]},i.defaults=function(t,e){t=t||{};for(var i in e)i in t||(t[i]=e[i]);return t}},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(){i(this,t),this._json={},this._text={}}return n(t,[{key:"addJson",value:function(t,e){this._json[e]=t}},{key:"addText",value:function(t,e){this._text[e]=t}},{key:"get",value:function(t){return this.getJson(t)||this.getText(t)}},{key:"getJson",value:function(t){return this._json[t]?this._json[t]:null}},{key:"getText",value:function(t){if(this._text[t])return this._text[t]}}]),t}();e.default=new r,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=i(754),o=n(r),a=i(751),s=n(a);e.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,o.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,s.default)()}},function(t,e,i){var n=i(57),r=Math.min;t.exports=function(t){return t>0?r(n(t),9007199254740991):0}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=i(183);Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return n(r).default}});var o=i(289);Object.defineProperty(e,"ObservablePoint",{enumerable:!0,get:function(){return n(o).default}});var a=i(182);Object.defineProperty(e,"Matrix",{enumerable:!0,get:function(){return n(a).default}});var s=i(288);Object.defineProperty(e,"GroupD8",{enumerable:!0,get:function(){return n(s).default}});var u=i(725);Object.defineProperty(e,"Circle",{enumerable:!0,get:function(){return n(u).default}});var l=i(726);Object.defineProperty(e,"Ellipse",{enumerable:!0,get:function(){return n(l).default}});var h=i(727);Object.defineProperty(e,"Polygon",{enumerable:!0,get:function(){return n(h).default}});var c=i(184);Object.defineProperty(e,"Rectangle",{enumerable:!0,get:function(){return n(c).default}});var f=i(728);Object.defineProperty(e,"RoundedRectangle",{enumerable:!0,get:function(){return n(f).default}})},function(t,e,i){var n=i(44);t.exports=function(t){return Object(n(t))}},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=i(21),o=function(){function t(e){n(this,t),this.name=e,this.wrappersByTween=new Map,this.frameInterval=1/60}return t.prototype.add=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=new r.TimelineLite({paused:!0});return i.vars.callbackScope=this,i.vars.onComplete=e?this.remove:this.onPersistentComplete,i.vars.onCompleteParams=[t,i],i.add(t),this.wrappersByTween.set(t,i),t},t.prototype.remove=function(t,e){e&&this.wrappersByTween.get(t)!==e||this.wrappersByTween.delete(t)},t.prototype.update=function(){for(var t=this.wrappersByTween,e=Array.isArray(t),i=0,t=e?t:t[Symbol.iterator]();;){var n;if(e){if(i>=t.length)break;n=t[i++]}else{if(i=t.next(),i.done)break;n=i.value}var r=n,o=r[0],a=r[1],s=a.time(),u=a.duration();!o.paused()&&s<u&&a.time(a.time()+this.frameInterval,!1)}},t.prototype.delayedCall=function(t,e,i,n){this.add(r.TweenLite.delayedCall(t,e,i,n))},t.prototype.clear=function(){this.wrappersByTween=new Map},t.prototype.onPersistentComplete=function(t){t.pause()},t.add=function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];a.add(t,e)},t.remove=function(t){a.remove(t)},t.delayedCall=function(t,e,i,n){a.delayedCall(t,e,i,n)},t.clear=function(){a.clear()},t.update=function(){a.update()},t}();e.default=o;var a=new o;t.exports=e.default},function(t,e,i){var n;n=function(t,e,n){n.exports={Vector:i(64),CrashData:i(196),CrashBody:i(105),CrashWorld:i(197),CrashTests:i(380),circle_aabb:i(198)}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e){var i={}.hasOwnProperty;t.exports=function(t,e){return i.call(t,e)}},function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},function(t,e,i){var n=i(20),r=i(56);t.exports=i(19)?function(t,e,i){return n.f(t,e,r(1,i))}:function(t,e,i){return t[e]=i,t}},function(t,e,i){var n=i(7),r=i(32),o=i(30),a=i(73)("src"),s="toString",u=Function[s],l=(""+u).split(s);i(51).inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,i,s){var u="function"==typeof i;u&&(o(i,"name")||r(i,"name",e)),t[e]!==i&&(u&&(o(i,a)||r(i,a,t[e]?""+t[e]:l.join(String(e)))),t===n?t[e]=i:s?t[e]?t[e]=i:r(t,e,i):(delete t[e],r(t,e,i)))})(Function.prototype,s,function(){return"function"==typeof this&&this[a]||u.call(this)})},function(t,e,i){var n=i(2),r=i(10),o=i(44),a=/"/g,s=function(t,e,i,n){var r=String(o(t)),s="<"+e;return""!==i&&(s+=" "+i+'="'+String(n).replace(a,"&quot;")+'"'),s+">"+r+"</"+e+">"};t.exports=function(t,e){var i={};i[t]=e(s),n(n.P+n.F*r(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",i)}},function(t,e,i){var n=i(92),r=i(44);t.exports=function(t){return n(r(t))}},function(t,e,i){function n(t,e,i,r){this.minForce="undefined"==typeof i?-Number.MAX_VALUE:i,this.maxForce="undefined"==typeof r?Number.MAX_VALUE:r,this.bodyA=t,this.bodyB=e,this.stiffness=n.DEFAULT_STIFFNESS,this.relaxation=n.DEFAULT_RELAXATION,this.G=new o.ARRAY_TYPE(6);for(var a=0;a<6;a++)this.G[a]=0;this.offset=0,this.a=0,this.b=0,this.epsilon=0,this.timeStep=1/60,this.needsUpdate=!0,this.multiplier=0,this.relativeVelocity=0,this.enabled=!0}t.exports=n;var r=i(5),o=i(22);i(61);n.prototype.constructor=n,n.DEFAULT_STIFFNESS=1e6,n.DEFAULT_RELAXATION=4,n.prototype.update=function(){var t=this.stiffness,e=this.relaxation,i=this.timeStep;this.a=4/(i*(1+4*e)),this.b=4*e/(1+4*e),this.epsilon=4/(i*i*t*(1+4*e)),this.needsUpdate=!1},n.prototype.gmult=function(t,e,i,n,r){return t[0]*e[0]+t[1]*e[1]+t[2]*i+t[3]*n[0]+t[4]*n[1]+t[5]*r},n.prototype.computeB=function(t,e,i){var n=this.computeGW(),r=this.computeGq(),o=this.computeGiMf();return-r*t-n*e-o*i};var a=r.create(),s=r.create();n.prototype.computeGq=function(){var t=this.G,e=this.bodyA,i=this.bodyB,n=(e.position,i.position,e.angle),r=i.angle;return this.gmult(t,a,n,s,r)+this.offset},n.prototype.computeGW=function(){var t=this.G,e=this.bodyA,i=this.bodyB,n=e.velocity,r=i.velocity,o=e.angularVelocity,a=i.angularVelocity;return this.gmult(t,n,o,r,a)+this.relativeVelocity},n.prototype.computeGWlambda=function(){var t=this.G,e=this.bodyA,i=this.bodyB,n=e.vlambda,r=i.vlambda,o=e.wlambda,a=i.wlambda;return this.gmult(t,n,o,r,a)};var u=r.create(),l=r.create();n.prototype.computeGiMf=function(){var t=this.bodyA,e=this.bodyB,i=t.force,n=t.angularForce,o=e.force,a=e.angularForce,s=t.invMassSolve,h=e.invMassSolve,c=t.invInertiaSolve,f=e.invInertiaSolve,d=this.G;return r.scale(u,i,s),r.multiply(u,t.massMultiplier,u),r.scale(l,o,h),r.multiply(l,e.massMultiplier,l),this.gmult(d,u,n*c,l,a*f)},n.prototype.computeGiMGt=function(){var t=this.bodyA,e=this.bodyB,i=t.invMassSolve,n=e.invMassSolve,r=t.invInertiaSolve,o=e.invInertiaSolve,a=this.G;return a[0]*a[0]*i*t.massMultiplier[0]+a[1]*a[1]*i*t.massMultiplier[1]+a[2]*a[2]*r+a[3]*a[3]*n*e.massMultiplier[0]+a[4]*a[4]*n*e.massMultiplier[1]+a[5]*a[5]*o};var h=r.create(),c=r.create(),f=r.create();r.create(),r.create(),r.create();n.prototype.addToWlambda=function(t){var e=this.bodyA,i=this.bodyB,n=h,o=c,a=f,s=e.invMassSolve,u=i.invMassSolve,l=e.invInertiaSolve,d=i.invInertiaSolve,p=this.G;o[0]=p[0],o[1]=p[1],a[0]=p[3],a[1]=p[4],r.scale(n,o,s*t),r.multiply(n,n,e.massMultiplier),r.add(e.vlambda,e.vlambda,n),e.wlambda+=l*p[2]*t,r.scale(n,a,u*t),r.multiply(n,n,i.massMultiplier),r.add(i.vlambda,i.vlambda,n),i.wlambda+=d*p[5]*t},n.prototype.computeInvC=function(t){return 1/(this.computeGiMGt()+t)}},function(t,e,i){function n(t){t=t||{},this.body=null,this.position=r.fromValues(0,0),t.position&&r.copy(this.position,t.position),this.angle=t.angle||0,this.type=t.type||0,this.id=n.idCounter++,this.boundingRadius=0,this.collisionGroup=void 0!==t.collisionGroup?t.collisionGroup:1,this.collisionResponse=void 0===t.collisionResponse||t.collisionResponse,this.collisionMask=void 0!==t.collisionMask?t.collisionMask:1,this.material=t.material||null,this.area=0,this.sensor=void 0!==t.sensor&&t.sensor,this.type&&this.updateBoundingRadius(),this.updateArea()}t.exports=n;var r=i(5);n.idCounter=0,n.CIRCLE=1,n.PARTICLE=2,n.PLANE=4,n.CONVEX=8,n.LINE=16,n.BOX=32,Object.defineProperty(n,"RECTANGLE",{get:function(){return n.BOX}}),n.CAPSULE=64,n.HEIGHTFIELD=128,n.prototype.computeMomentOfInertia=function(t){},n.prototype.updateBoundingRadius=function(){},n.prototype.updateArea=function(){},n.prototype.computeAABB=function(t,e,i){},n.prototype.raycast=function(t,e,i,n){}},function(t,e,i){var n=i(93),r=i(56),o=i(35),a=i(50),s=i(30),u=i(218),l=Object.getOwnPropertyDescriptor;e.f=i(19)?l:function(t,e){if(t=o(t),e=a(e,!0),u)try{return l(t,e)}catch(t){}if(s(t,e))return r(!n.f.call(t,e),t[e])}},function(t,e,i){var n=i(30),r=i(27),o=i(157)("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),n(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},function(t,e,i){var n={createContext:i(711),setVertexAttribArrays:i(273),GLBuffer:i(707),GLFramebuffer:i(708),GLShader:i(709),GLTexture:i(272),VertexArrayObject:i(710),shader:i(712)};"undefined"!=typeof t&&t.exports&&(t.exports=n),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=n)},function(t,e,i){var n;n=function(t,e,i){var n=function(t){this.classType=t,this.pool=[]};n.constructor=n,n.prototype.prepopulate=function(t){for(var e=0;e<t;e++)this.pool.push(new this.classType)},n.prototype.get=n.prototype.getObject=function(){var t=this.pool.pop();return t||(t=new this.classType),t._reset&&t._reset(),t},n.prototype.return=n.prototype.returnObject=function(t){t._clean&&t._clean(),this.pool.push(t)},Object.defineProperties(n.prototype,{total:{get:function(){return this.pool.length}},length:{get:function(){return this.pool.length}}}),n.pools=[],n.idGenerator=1,n.getPool=function(t){return t.hasOwnProperty("_CLASS_ID")||(t._CLASS_ID=n.idGenerator++,n.pools[t._CLASS_ID]=new n(t)),n.pools[t._CLASS_ID]},n.get=n.getObject=function(t){t.hasOwnProperty("_CLASS_ID")||(t._CLASS_ID=n.idGenerator++,n.pools[t._CLASS_ID]=new n(t));var e=n.pools[t._CLASS_ID].getObject();return e._CLASS_ID=t._CLASS_ID,e},n.return=n.returnObject=function(t){n.pools[t._CLASS_ID].returnObject(t)},i.exports=n}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n,r=i(3);n=function(t,e,n){var o=(i(1),function(){this.speed=1,this.animations={},this.rules={},this.texture=null,this.nextAnimation=null,this.currentAnimation=null,this.onComplete=new r});o.prototype.register=function(t,e){e.id=t,e.currentFrame=0,e.speed=e.speed||.4,this.animations[t]=e},o.prototype.play=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.animations[t];(n!==this.currentAnimation||i)&&(n.currentFrame=0,n.completed=!1,this.currentAnimation=n,e?(this.nextAnimation=this.animations[e],this.nextAnimation.currentFrame=0):this.nextAnimation=null)},o.prototype.update=function(t){t=t||1;var e=this.currentAnimation,i=Math.floor(e.currentFrame);e&&(e.loop?i%=e.frames.length:i>e.frames.length-1&&(e.completed||(e.completed=!0,this.onComplete.dispatch(this.currentAnimation.id)),i=e.frames.length-1,this.nextAnimation&&(this.currentAnimation=this.nextAnimation,this.nextAnimation=null)),e.currentFrame+=this.speed*e.speed*t,this.texture=e.frames[i])},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e){var i={}.toString;t.exports=function(t){return i.call(t).slice(8,-1)}},function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},function(t,e,i){var n=i(10);t.exports=function(t,e){return!!t&&n(function(){e?t.call(null,function(){},1):t.call(null)})}},function(t,e,i){(function(e){"use strict";function n(t,e){for(var i=[],n=0;n<t.length;n++){var r=t[n];r&&"."!==r&&(".."===r?i.length&&".."!==i[i.length-1]?i.pop():e&&i.push(".."):i.push(r))}return i}function r(t){for(var e=t.length-1,i=0;i<=e&&!t[i];i++);for(var n=e;n>=0&&!t[n];n--);return 0===i&&n===e?t:i>n?[]:t.slice(i,n+1)}function o(t){var e=c.exec(t),i=(e[1]||"")+(e[2]||""),n=e[3]||"",r=f.exec(n),o=r[1],a=r[2],s=r[3];return[i,o,a,s]}function a(t){var e=c.exec(t),i=e[1]||"",n=!!i&&":"!==i[1];return{device:i,isUnc:n,isAbsolute:n||!!e[2],tail:e[3]}}function s(t){return"\\\\"+t.replace(/^[\\\/]+/,"").replace(/[\\\/]+/g,"\\")}function u(t){return p.exec(t).slice(1)}var l="win32"===e.platform,h=i(814),c=/^([a-zA-Z]:|[\\\/]{2}[^\\\/]+[\\\/]+[^\\\/]+)?([\\\/])?([\s\S]*?)$/,f=/^([\s\S]*?)((?:\.{1,2}|[^\\\/]+?|)(\.[^.\/\\]*|))(?:[\\\/]*)$/,d={};d.resolve=function(){for(var t="",i="",r=!1,o=arguments.length-1;o>=-1;o--){var u;if(o>=0?u=arguments[o]:t?(u=e.env["="+t],u&&u.substr(0,3).toLowerCase()===t.toLowerCase()+"\\"||(u=t+"\\")):u=e.cwd(),!h.isString(u))throw new TypeError("Arguments to path.resolve must be strings");if(u){var l=a(u),c=l.device,f=l.isUnc,d=l.isAbsolute,p=l.tail;if((!c||!t||c.toLowerCase()===t.toLowerCase())&&(t||(t=c),r||(i=p+"\\"+i,r=d),t&&r))break}}return f&&(t=s(t)),i=n(i.split(/[\\\/]+/),!r).join("\\"),t+(r?"\\":"")+i||"."},d.normalize=function(t){var e=a(t),i=e.device,r=e.isUnc,o=e.isAbsolute,u=e.tail,l=/[\\\/]$/.test(u);return u=n(u.split(/[\\\/]+/),!o).join("\\"),u||o||(u="."),u&&l&&(u+="\\"),r&&(i=s(i)),i+(o?"\\":"")+u},d.isAbsolute=function(t){return a(t).isAbsolute},d.join=function(){for(var t=[],e=0;e<arguments.length;e++){
var i=arguments[e];if(!h.isString(i))throw new TypeError("Arguments to path.join must be strings");i&&t.push(i)}var n=t.join("\\");return/^[\\\/]{2}[^\\\/]/.test(t[0])||(n=n.replace(/^[\\\/]{2,}/,"\\")),d.normalize(n)},d.relative=function(t,e){t=d.resolve(t),e=d.resolve(e);for(var i=t.toLowerCase(),n=e.toLowerCase(),o=r(e.split("\\")),a=r(i.split("\\")),s=r(n.split("\\")),u=Math.min(a.length,s.length),l=u,h=0;h<u;h++)if(a[h]!==s[h]){l=h;break}if(0==l)return e;for(var c=[],h=l;h<a.length;h++)c.push("..");return c=c.concat(o.slice(l)),c.join("\\")},d._makeLong=function(t){if(!h.isString(t))return t;if(!t)return"";var e=d.resolve(t);return/^[a-zA-Z]\:\\/.test(e)?"\\\\?\\"+e:/^\\\\[^?.]/.test(e)?"\\\\?\\UNC\\"+e.substring(2):t},d.dirname=function(t){var e=o(t),i=e[0],n=e[1];return i||n?(n&&(n=n.substr(0,n.length-1)),i+n):"."},d.basename=function(t,e){var i=o(t)[2];return e&&i.substr(-1*e.length)===e&&(i=i.substr(0,i.length-e.length)),i},d.extname=function(t){return o(t)[3]},d.format=function(t){if(!h.isObject(t))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof t);var e=t.root||"";if(!h.isString(e))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof t.root);var i=t.dir,n=t.base||"";return i?i[i.length-1]===d.sep?i+n:i+d.sep+n:n},d.parse=function(t){if(!h.isString(t))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);var e=o(t);if(!e||4!==e.length)throw new TypeError("Invalid path '"+t+"'");return{root:e[0],dir:e[0]+e[1].slice(0,-1),base:e[2],ext:e[3],name:e[2].slice(0,e[2].length-e[3].length)}},d.sep="\\",d.delimiter=";";var p=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,y={};y.resolve=function(){for(var t="",i=!1,r=arguments.length-1;r>=-1&&!i;r--){var o=r>=0?arguments[r]:e.cwd();if(!h.isString(o))throw new TypeError("Arguments to path.resolve must be strings");o&&(t=o+"/"+t,i="/"===o[0])}return t=n(t.split("/"),!i).join("/"),(i?"/":"")+t||"."},y.normalize=function(t){var e=y.isAbsolute(t),i=t&&"/"===t[t.length-1];return t=n(t.split("/"),!e).join("/"),t||e||(t="."),t&&i&&(t+="/"),(e?"/":"")+t},y.isAbsolute=function(t){return"/"===t.charAt(0)},y.join=function(){for(var t="",e=0;e<arguments.length;e++){var i=arguments[e];if(!h.isString(i))throw new TypeError("Arguments to path.join must be strings");i&&(t+=t?"/"+i:i)}return y.normalize(t)},y.relative=function(t,e){t=y.resolve(t).substr(1),e=y.resolve(e).substr(1);for(var i=r(t.split("/")),n=r(e.split("/")),o=Math.min(i.length,n.length),a=o,s=0;s<o;s++)if(i[s]!==n[s]){a=s;break}for(var u=[],s=a;s<i.length;s++)u.push("..");return u=u.concat(n.slice(a)),u.join("/")},y._makeLong=function(t){return t},y.dirname=function(t){var e=u(t),i=e[0],n=e[1];return i||n?(n&&(n=n.substr(0,n.length-1)),i+n):"."},y.basename=function(t,e){var i=u(t)[2];return e&&i.substr(-1*e.length)===e&&(i=i.substr(0,i.length-e.length)),i},y.extname=function(t){return u(t)[3]},y.format=function(t){if(!h.isObject(t))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof t);var e=t.root||"";if(!h.isString(e))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof t.root);var i=t.dir?t.dir+y.sep:"",n=t.base||"";return i+n},y.parse=function(t){if(!h.isString(t))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof t);var e=u(t);if(!e||4!==e.length)throw new TypeError("Invalid path '"+t+"'");return e[1]=e[1]||"",e[2]=e[2]||"",e[3]=e[3]||"",{root:e[0],dir:e[0]+e[1].slice(0,-1),base:e[2],ext:e[3],name:e[2].slice(0,e[2].length-e[3].length)}},y.sep="/",y.delimiter=":",l?t.exports=d:t.exports=y,t.exports.posix=y,t.exports.win32=d}).call(e,i(317))},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}var o=i(1),a=(r(o),i(170)),s=n(a),u=i(374),l=n(u),h={custom:function(t,e,i,n){i=i||e,n=n||i;var r=new s.default({textures:{normal:e,down:i,hover:n,icon:t?t:null},sounds:{down:"yolo"}});return r.setSize(.7),r},primary:function(t,e){var i=new s.default({textures:{normal:"bg_primary_up.png",down:"bg_primary_over.png",hover:"bg_primary_over.png",icon:t?t:null},sounds:{down:"yolo"}});return i.setSize(.7),i.view.accessibleTitle=e,i},primaryMedium:function(t,e){var i=new s.default({textures:{normal:"bg_primary_up.png",down:"bg_primary_over.png",hover:"bg_primary_over.png",icon:t?t:null},sounds:{down:"yolo"}});return i.setSize(1.2),i.view.accessibleTitle=e,i},primaryBig:function(t,e){var i=new s.default({textures:{normal:"bg_primary_up.png",down:"bg_primary_over.png",hover:"bg_primary_over.png",icon:t?t:null},sounds:{down:"yolo"}});return i.setSize(1.5),i.view.accessibleTitle=e,i},secondary:function(t,e){var i=new s.default({textures:{normal:"bg_primary_up.png",down:"bg_primary_over.png",hover:"bg_primary_over.png",icon:t?t:null},sounds:{down:"yolo"}});return i.setSize(.7),i.view.accessibleTitle=e,i},tertiary:function(t,e){var i=new s.default({textures:{normal:"bg_secondary_up.png",down:"bg_secondary_over.png",hover:"bg_secondary_over.png",icon:t?t:null},sounds:{down:"yolo"}});return i.setSize(.7),i.view.accessibleTitle=e,i},primaryRect:function(t,e,i){var n=new l.default({textures:{normal:"bg_rect_primary_up.png",down:"bg_rect_primary_over.png",hover:"bg_rect_primary_over.png",icon:e?e:null},sounds:{down:"yolo"}},t);return n.setSize(.7),n.view.accessibleTitle=i,n},primaryRectInversed:function(t,e,i){var n=new l.default({textures:{normal:"bg_rect_primary_up.png",down:"bg_rect_primary_over.png",hover:"bg_rect_primary_over.png",icon:e?e:null},sounds:{down:"yolo"}},t,!0);return n.setSize(.7),n.view.accessibleTitle=i,n},secondaryRect:function(t,e,i){var n=new l.default({textures:{normal:"bg_rect_secondary_up.png",down:"bg_rect_secondary_over.png",hover:"bg_rect_secondary_over.png",icon:e?e:null},sounds:{down:"yolo"}},t);return n.setSize(.7),n.view.accessibleTitle=i,n},secondaryRectInversed:function(t,e,i){var n=new l.default({textures:{normal:"bg_rect_secondary_up.png",down:"bg_rect_secondary_over.png",hover:"bg_rect_secondary_over.png",icon:e?e:null},sounds:{down:"yolo"}},t,!0);return n.setSize(.7),n.view.accessibleTitle=i,n},close:function(t){var e=new s.default({textures:{normal:"bg_close_up.png",down:"bg_close_over.png",hover:"bg_close_over.png",icon:t?t:null},sounds:{down:"yolo"}});return e.setSize(.65),e}};t.exports=h},function(t,e,i){var n=i(52),r=i(92),o=i(27),a=i(25),s=i(480);t.exports=function(t,e){var i=1==t,u=2==t,l=3==t,h=4==t,c=6==t,f=5==t||c,d=e||s;return function(e,s,p){for(var y,v,m=o(e),g=r(m),_=n(s,p,3),b=a(g.length),w=0,x=i?d(e,b):u?d(e,0):void 0;b>w;w++)if((f||w in g)&&(y=g[w],v=_(y,w,m),t))if(i)x[w]=v;else if(v)switch(t){case 3:return!0;case 5:return y;case 6:return w;case 2:x.push(y)}else if(h)return!1;return c?-1:l||h?h:x}}},function(t,e,i){var n=i(2),r=i(51),o=i(10);t.exports=function(t,e){var i=(r.Object||{})[t]||Object[t],a={};a[t]=e(i),n(n.S+n.F*o(function(){i(1)}),"Object",a)}},function(t,e,i){var n=i(12);t.exports=function(t,e){if(!n(t))return t;var i,r;if(e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;if("function"==typeof(i=t.valueOf)&&!n(r=i.call(t)))return r;if(!e&&"function"==typeof(i=t.toString)&&!n(r=i.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},function(t,e){var i=t.exports={version:"2.4.0"};"number"==typeof __e&&(__e=i)},function(t,e,i){var n=i(31);t.exports=function(t,e,i){if(n(t),void 0===e)return t;switch(i){case 1:return function(i){return t.call(e,i)};case 2:return function(i,n){return t.call(e,i,n)};case 3:return function(i,n,r){return t.call(e,i,n,r)}}return function(){return t.apply(e,arguments)}}},function(t,e,i){var n=i(234),r=i(2),o=i(119)("metadata"),a=o.store||(o.store=new(i(237))),s=function(t,e,i){var r=a.get(t);if(!r){if(!i)return;a.set(t,r=new n)}var o=r.get(e);if(!o){if(!i)return;r.set(e,o=new n)}return o},u=function(t,e,i){var n=s(e,i,!1);return void 0!==n&&n.has(t)},l=function(t,e,i){var n=s(e,i,!1);return void 0===n?void 0:n.get(t)},h=function(t,e,i,n){s(i,n,!0).set(t,e)},c=function(t,e){var i=s(t,e,!1),n=[];return i&&i.forEach(function(t,e){n.push(e)}),n},f=function(t){return void 0===t||"symbol"==typeof t?t:String(t)},d=function(t){r(r.S,"Reflect",t)};t.exports={store:a,map:s,has:u,get:l,set:h,keys:c,key:f,exp:d}},function(t,e,i){"use strict";if(i(19)){var n=i(66),r=i(7),o=i(10),a=i(2),s=i(120),u=i(164),l=i(52),h=i(65),c=i(56),f=i(32),d=i(70),p=i(57),y=i(25),v=i(72),m=i(50),g=i(30),_=i(231),b=i(91),w=i(12),x=i(27),T=i(149),S=i(67),E=i(39),C=i(68).f,P=i(166),M=i(73),A=i(15),O=i(48),k=i(110),I=i(158),R=i(167),L=i(81),B=i(116),D=i(71),F=i(142),j=i(211),N=i(20),X=i(38),U=N.f,G=X.f,Y=r.RangeError,z=r.TypeError,V=r.Uint8Array,W="ArrayBuffer",H="Shared"+W,q="BYTES_PER_ELEMENT",K="prototype",Z=Array[K],J=u.ArrayBuffer,Q=u.DataView,$=O(0),tt=O(2),et=O(3),it=O(4),nt=O(5),rt=O(6),ot=k(!0),at=k(!1),st=R.values,ut=R.keys,lt=R.entries,ht=Z.lastIndexOf,ct=Z.reduce,ft=Z.reduceRight,dt=Z.join,pt=Z.sort,yt=Z.slice,vt=Z.toString,mt=Z.toLocaleString,gt=A("iterator"),_t=A("toStringTag"),bt=M("typed_constructor"),wt=M("def_constructor"),xt=s.CONSTR,Tt=s.TYPED,St=s.VIEW,Et="Wrong length!",Ct=O(1,function(t,e){return It(I(t,t[wt]),e)}),Pt=o(function(){return 1===new V(new Uint16Array([1]).buffer)[0]}),Mt=!!V&&!!V[K].set&&o(function(){new V(1).set({})}),At=function(t,e){if(void 0===t)throw z(Et);var i=+t,n=y(t);if(e&&!_(i,n))throw Y(Et);return n},Ot=function(t,e){var i=p(t);if(i<0||i%e)throw Y("Wrong offset!");return i},kt=function(t){if(w(t)&&Tt in t)return t;throw z(t+" is not a typed array!")},It=function(t,e){if(!(w(t)&&bt in t))throw z("It is not a typed array constructor!");return new t(e)},Rt=function(t,e){return Lt(I(t,t[wt]),e)},Lt=function(t,e){for(var i=0,n=e.length,r=It(t,n);n>i;)r[i]=e[i++];return r},Bt=function(t,e,i){U(t,e,{get:function(){return this._d[i]}})},Dt=function(t){var e,i,n,r,o,a,s=x(t),u=arguments.length,h=u>1?arguments[1]:void 0,c=void 0!==h,f=P(s);if(void 0!=f&&!T(f)){for(a=f.call(s),n=[],e=0;!(o=a.next()).done;e++)n.push(o.value);s=n}for(c&&u>2&&(h=l(h,arguments[2],2)),e=0,i=y(s.length),r=It(this,i);i>e;e++)r[e]=c?h(s[e],e):s[e];return r},Ft=function(){for(var t=0,e=arguments.length,i=It(this,e);e>t;)i[t]=arguments[t++];return i},jt=!!V&&o(function(){mt.call(new V(1))}),Nt=function(){return mt.apply(jt?yt.call(kt(this)):kt(this),arguments)},Xt={copyWithin:function(t,e){return j.call(kt(this),t,e,arguments.length>2?arguments[2]:void 0)},every:function(t){return it(kt(this),t,arguments.length>1?arguments[1]:void 0)},fill:function(t){return F.apply(kt(this),arguments)},filter:function(t){return Rt(this,tt(kt(this),t,arguments.length>1?arguments[1]:void 0))},find:function(t){return nt(kt(this),t,arguments.length>1?arguments[1]:void 0)},findIndex:function(t){return rt(kt(this),t,arguments.length>1?arguments[1]:void 0)},forEach:function(t){$(kt(this),t,arguments.length>1?arguments[1]:void 0)},indexOf:function(t){return at(kt(this),t,arguments.length>1?arguments[1]:void 0)},includes:function(t){return ot(kt(this),t,arguments.length>1?arguments[1]:void 0)},join:function(t){return dt.apply(kt(this),arguments)},lastIndexOf:function(t){return ht.apply(kt(this),arguments)},map:function(t){return Ct(kt(this),t,arguments.length>1?arguments[1]:void 0)},reduce:function(t){return ct.apply(kt(this),arguments)},reduceRight:function(t){return ft.apply(kt(this),arguments)},reverse:function(){for(var t,e=this,i=kt(e).length,n=Math.floor(i/2),r=0;r<n;)t=e[r],e[r++]=e[--i],e[i]=t;return e},some:function(t){return et(kt(this),t,arguments.length>1?arguments[1]:void 0)},sort:function(t){return pt.call(kt(this),t)},subarray:function(t,e){var i=kt(this),n=i.length,r=v(t,n);return new(I(i,i[wt]))(i.buffer,i.byteOffset+r*i.BYTES_PER_ELEMENT,y((void 0===e?n:v(e,n))-r))}},Ut=function(t,e){return Rt(this,yt.call(kt(this),t,e))},Gt=function(t){kt(this);var e=Ot(arguments[1],1),i=this.length,n=x(t),r=y(n.length),o=0;if(r+e>i)throw Y(Et);for(;o<r;)this[e+o]=n[o++]},Yt={entries:function(){return lt.call(kt(this))},keys:function(){return ut.call(kt(this))},values:function(){return st.call(kt(this))}},zt=function(t,e){return w(t)&&t[Tt]&&"symbol"!=typeof e&&e in t&&String(+e)==String(e)},Vt=function(t,e){return zt(t,e=m(e,!0))?c(2,t[e]):G(t,e)},Wt=function(t,e,i){return!(zt(t,e=m(e,!0))&&w(i)&&g(i,"value"))||g(i,"get")||g(i,"set")||i.configurable||g(i,"writable")&&!i.writable||g(i,"enumerable")&&!i.enumerable?U(t,e,i):(t[e]=i.value,t)};xt||(X.f=Vt,N.f=Wt),a(a.S+a.F*!xt,"Object",{getOwnPropertyDescriptor:Vt,defineProperty:Wt}),o(function(){vt.call({})})&&(vt=mt=function(){return dt.call(this)});var Ht=d({},Xt);d(Ht,Yt),f(Ht,gt,Yt.values),d(Ht,{slice:Ut,set:Gt,constructor:function(){},toString:vt,toLocaleString:Nt}),Bt(Ht,"buffer","b"),Bt(Ht,"byteOffset","o"),Bt(Ht,"byteLength","l"),Bt(Ht,"length","e"),U(Ht,_t,{get:function(){return this[Tt]}}),t.exports=function(t,e,i,u){u=!!u;var l=t+(u?"Clamped":"")+"Array",c="Uint8Array"!=l,d="get"+t,p="set"+t,v=r[l],m=v||{},g=v&&E(v),_=!v||!s.ABV,x={},T=v&&v[K],P=function(t,i){var n=t._d;return n.v[d](i*e+n.o,Pt)},M=function(t,i,n){var r=t._d;u&&(n=(n=Math.round(n))<0?0:n>255?255:255&n),r.v[p](i*e+r.o,n,Pt)},A=function(t,e){U(t,e,{get:function(){return P(this,e)},set:function(t){return M(this,e,t)},enumerable:!0})};_?(v=i(function(t,i,n,r){h(t,v,l,"_d");var o,a,s,u,c=0,d=0;if(w(i)){if(!(i instanceof J||(u=b(i))==W||u==H))return Tt in i?Lt(v,i):Dt.call(v,i);o=i,d=Ot(n,e);var p=i.byteLength;if(void 0===r){if(p%e)throw Y(Et);if(a=p-d,a<0)throw Y(Et)}else if(a=y(r)*e,a+d>p)throw Y(Et);s=a/e}else s=At(i,!0),a=s*e,o=new J(a);for(f(t,"_d",{b:o,o:d,l:a,e:s,v:new Q(o)});c<s;)A(t,c++)}),T=v[K]=S(Ht),f(T,"constructor",v)):B(function(t){new v(null),new v(t)},!0)||(v=i(function(t,i,n,r){h(t,v,l);var o;return w(i)?i instanceof J||(o=b(i))==W||o==H?void 0!==r?new m(i,Ot(n,e),r):void 0!==n?new m(i,Ot(n,e)):new m(i):Tt in i?Lt(v,i):Dt.call(v,i):new m(At(i,c))}),$(g!==Function.prototype?C(m).concat(C(g)):C(m),function(t){t in v||f(v,t,m[t])}),v[K]=T,n||(T.constructor=v));var O=T[gt],k=!!O&&("values"==O.name||void 0==O.name),I=Yt.values;f(v,bt,!0),f(T,Tt,l),f(T,St,!0),f(T,wt,v),(u?new v(1)[_t]==l:_t in T)||U(T,_t,{get:function(){return l}}),x[l]=v,a(a.G+a.W+a.F*(v!=m),x),a(a.S,l,{BYTES_PER_ELEMENT:e,from:Dt,of:Ft}),q in T||f(T,q,e),a(a.P,l,Xt),D(l),a(a.P+a.F*Mt,l,{set:Gt}),a(a.P+a.F*!k,l,Yt),a(a.P+a.F*(T.toString!=vt),l,{toString:vt}),a(a.P+a.F*o(function(){new v(1).slice()}),l,{slice:Ut}),a(a.P+a.F*(o(function(){return[1,2].toLocaleString()!=new v([1,2]).toLocaleString()})||!o(function(){T.toLocaleString.call([1,2])})),l,{toLocaleString:Nt}),L[l]=k?O:I,n||k||f(T,gt,I)}}else t.exports=function(){}},function(t,e,i){var n=i(73)("meta"),r=i(12),o=i(30),a=i(20).f,s=0,u=Object.isExtensible||function(){return!0},l=!i(10)(function(){return u(Object.preventExtensions({}))}),h=function(t){a(t,n,{value:{i:"O"+ ++s,w:{}}})},c=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,n)){if(!u(t))return"F";if(!e)return"E";h(t)}return t[n].i},f=function(t,e){if(!o(t,n)){if(!u(t))return!0;if(!e)return!1;h(t)}return t[n].w},d=function(t){return l&&p.NEED&&u(t)&&!o(t,n)&&h(t),t},p=t.exports={KEY:n,NEED:!1,fastKey:c,getWeak:f,onFreeze:d}},function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},function(t,e){var i=Math.ceil,n=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?n:i)(t)}},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(3),u=r(s),l=i(11),h=r(l),c=i(1),f=n(c),d=function(){function t(e){o(this,t),this.view=e,this.onPress=new u.default,this.onDown=new u.default,this.onUp=new u.default,this.onHover=new u.default,this.onOut=new u.default,e.mousedown=e.touchstart=this.onDown.dispatch.bind(this,this),e.mouseup=e.mouseupoutside=e.touchend=e.touchendoutside=this.onUp.dispatch.bind(this,this),e.click=e.tap=this.onPress.dispatch.bind(this,this),e.mouseover=this.onHover.dispatch.bind(this,this),e.mouseout=this.onOut.dispatch.bind(this,this),this.onDown.add(this.down,this),this.onUp.add(this.up,this),h.default.instance.desktop&&this.onHover.add(this.hover,this),h.default.instance.desktop&&this.onOut.add(this.out,this),this._scale=new f.Point,this.enable()}return a(t,[{key:"setSize",value:function(t){switch(t){case"small":this.view.scale.set(.5);break;case"big":this.view.scale.set(2);break;default:this.view.scale.set(1)}}},{key:"enable",value:function(){this.view.interactive=!0,this.view.buttonMode=!0}},{key:"disable",value:function(){this.view.interactive=!1,this.view.buttonMode=!1}},{key:"down",value:function(){}},{key:"up",value:function(){}},{key:"hover",value:function(){}},{key:"out",value:function(){}},{key:"show",value:function(){this.view.visible=!0,this.enable()}},{key:"hide",value:function(){this.disable(),this.view.visible=!1}}]),t}();e.default=d,t.exports=e.default},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i={};i.TWO_PI=2*Math.PI,i.random=function(t,e){return t=t||0,e=void 0===e?1:e,t+Math.random()*(e-t)},i.randomInt=function(t,e){return t+Math.random()*(e-t)|0},i.randomSeed=function(t,e,i){var n=t,r=e;i=i||1,i=(9301*i+49297)%233280;var o=i/233280;return n+o*(r-n)},i.randomChance=function(t,e){return i.randomSeed(0,1,e)>t},i.cap=function(t,e,i){return t<e?e:t>i?i:t},i.sign=function(t){return t<0?-1:t>0?1:0},i.randomSign=function(t){return Math.random()<(t||.5)?-1:1},i.randomChoice=function(t,e){return Math.random()<.5?t:e},i.map=function(t,e,i,n,r){return(r-n)*((t-e)/(i-e))+n},i.smallestAngle=function(t,e){t%=2*Math.PI,t<0&&(t+=2*Math.PI);var i=e-t,n=e+2*Math.PI-t,r=e-2*Math.PI-t,o=Math.abs(i),a=Math.abs(n),s=Math.abs(r),u=i;return a<o&&a<s?u=n:s<o&&s<a&&(u=r),u},i.wrap=function(t,e,i){var n=i-e;return t-=e,t%=n,t<0&&(t+=n),t+=e},i.floor=function(t,e){return(t/e|0)*e},i.round=function(t,e){return Math.round(t/e)*e},i.ceil=function(t,e){return Math.ceil(t/e)*e},e.default=i,t.exports=e.default},function(t,e,i){function n(t,e,i,n){this.type=i,n=r.defaults(n,{collideConnected:!0,wakeUpBodies:!0}),this.equations=[],this.bodyA=t,this.bodyB=e,this.collideConnected=n.collideConnected,n.wakeUpBodies&&(t&&t.wakeUp(),e&&e.wakeUp())}t.exports=n;var r=i(22);n.prototype.update=function(){throw new Error("method update() not implmemented in this Constraint subclass!")},n.DISTANCE=1,n.GEAR=2,n.LOCK=3,n.PRISMATIC=4,n.REVOLUTE=5,n.prototype.setStiffness=function(t){for(var e=this.equations,i=0;i!==e.length;i++){var n=e[i];n.stiffness=t,n.needsUpdate=!0}},n.prototype.setRelaxation=function(t){for(var e=this.equations,i=0;i!==e.length;i++){var n=e[i];n.relaxation=t,n.needsUpdate=!0}}},function(t,e,i){function n(t){t=t||{},h.call(this),this.id=t.id||++n._idCounter,this.world=null,this.shapes=[],this.mass=t.mass||0,this.invMass=0,this.inertia=0,this.invInertia=0,this.invMassSolve=0,this.invInertiaSolve=0,this.fixedRotation=!!t.fixedRotation,this.fixedX=!!t.fixedX,this.fixedY=!!t.fixedY,this.massMultiplier=r.create(),this.position=r.fromValues(0,0),t.position&&r.copy(this.position,t.position),this.interpolatedPosition=r.fromValues(0,0),this.interpolatedAngle=0,this.previousPosition=r.fromValues(0,0),this.previousAngle=0,this.velocity=r.fromValues(0,0),t.velocity&&r.copy(this.velocity,t.velocity),this.vlambda=r.fromValues(0,0),this.wlambda=0,this.angle=t.angle||0,this.angularVelocity=t.angularVelocity||0,this.force=r.create(),t.force&&r.copy(this.force,t.force),this.angularForce=t.angularForce||0,this.damping="number"==typeof t.damping?t.damping:.1,this.angularDamping="number"==typeof t.angularDamping?t.angularDamping:.1,this.type=n.STATIC,"undefined"!=typeof t.type?this.type=t.type:t.mass?this.type=n.DYNAMIC:this.type=n.STATIC,this.boundingRadius=0,this.aabb=new l,this.aabbNeedsUpdate=!0,this.allowSleep=void 0===t.allowSleep||t.allowSleep,this.wantsToSleep=!1,this.sleepState=n.AWAKE,this.sleepSpeedLimit=void 0!==t.sleepSpeedLimit?t.sleepSpeedLimit:.2,this.sleepTimeLimit=void 0!==t.sleepTimeLimit?t.sleepTimeLimit:1,this.gravityScale=void 0!==t.gravityScale?t.gravityScale:1,this.collisionResponse=void 0===t.collisionResponse||t.collisionResponse,this.idleTime=0,this.timeLastSleepy=0,this.ccdSpeedThreshold=void 0!==t.ccdSpeedThreshold?t.ccdSpeedThreshold:-1,this.ccdIterations=void 0!==t.ccdIterations?t.ccdIterations:10,this.concavePath=null,this._wakeUpAfterNarrowphase=!1,this.updateMassProperties()}var r=i(5),o=i(316),a=i(95),s=i(173),u=i(125),l=i(123),h=i(127);t.exports=n,n.prototype=new h,n.prototype.constructor=n,n._idCounter=0,n.prototype.updateSolveMassProperties=function(){this.sleepState===n.SLEEPING||this.type===n.KINEMATIC?(this.invMassSolve=0,this.invInertiaSolve=0):(this.invMassSolve=this.invMass,this.invInertiaSolve=this.invInertia)},n.prototype.setDensity=function(t){var e=this.getArea();this.mass=e*t,this.updateMassProperties()},n.prototype.getArea=function(){for(var t=0,e=0;e<this.shapes.length;e++)t+=this.shapes[e].area;return t},n.prototype.getAABB=function(){return this.aabbNeedsUpdate&&this.updateAABB(),this.aabb};var c=new l,f=r.create();n.prototype.updateAABB=function(){for(var t=this.shapes,e=t.length,i=f,n=this.angle,o=0;o!==e;o++){var a=t[o],s=a.angle+n;r.rotate(i,a.position,n),r.add(i,i,this.position),a.computeAABB(c,i,s),0===o?this.aabb.copy(c):this.aabb.extend(c)}this.aabbNeedsUpdate=!1},n.prototype.updateBoundingRadius=function(){for(var t=this.shapes,e=t.length,i=0,n=0;n!==e;n++){var o=t[n],a=r.length(o.position),s=o.boundingRadius;a+s>i&&(i=a+s)}this.boundingRadius=i},n.prototype.addShape=function(t,e,i){if(t.body)throw new Error("A shape can only be added to one body.");t.body=this,e?r.copy(t.position,e):r.set(t.position,0,0),t.angle=i||0,this.shapes.push(t),this.updateMassProperties(),this.updateBoundingRadius(),this.aabbNeedsUpdate=!0},n.prototype.removeShape=function(t){var e=this.shapes.indexOf(t);return e!==-1&&(this.shapes.splice(e,1),this.aabbNeedsUpdate=!0,t.body=null,!0)},n.prototype.updateMassProperties=function(){if(this.type===n.STATIC||this.type===n.KINEMATIC)this.mass=Number.MAX_VALUE,this.invMass=0,this.inertia=Number.MAX_VALUE,this.invInertia=0;else{var t=this.shapes,e=t.length,i=this.mass/e,o=0;if(this.fixedRotation)this.inertia=Number.MAX_VALUE,this.invInertia=0;else{for(var a=0;a<e;a++){var s=t[a],u=r.squaredLength(s.position),l=s.computeMomentOfInertia(i);o+=l+i*u}this.inertia=o,this.invInertia=o>0?1/o:0}this.invMass=1/this.mass,r.set(this.massMultiplier,this.fixedX?0:1,this.fixedY?0:1)}};r.create();n.prototype.applyForce=function(t,e){if(r.add(this.force,this.force,t),e){var i=r.crossLength(e,t);this.angularForce+=i}};var d=r.create(),p=r.create(),y=r.create();n.prototype.applyForceLocal=function(t,e){e=e||y;var i=d,n=p;this.vectorToWorldFrame(i,t),this.vectorToWorldFrame(n,e),this.applyForce(i,n)};var v=r.create();n.prototype.applyImpulse=function(t,e){if(this.type===n.DYNAMIC){var i=v;if(r.scale(i,t,this.invMass),r.multiply(i,this.massMultiplier,i),r.add(this.velocity,i,this.velocity),e){var o=r.crossLength(e,t);o*=this.invInertia,this.angularVelocity+=o}}};var m=r.create(),g=r.create(),_=r.create();n.prototype.applyImpulseLocal=function(t,e){e=e||_;var i=m,n=g;this.vectorToWorldFrame(i,t),this.vectorToWorldFrame(n,e),this.applyImpulse(i,n)},n.prototype.toLocalFrame=function(t,e){r.toLocalFrame(t,e,this.position,this.angle)},n.prototype.toWorldFrame=function(t,e){r.toGlobalFrame(t,e,this.position,this.angle)},n.prototype.vectorToLocalFrame=function(t,e){r.vectorToLocalFrame(t,e,this.angle)},n.prototype.vectorToWorldFrame=function(t,e){r.vectorToGlobalFrame(t,e,this.angle)},n.prototype.fromPolygon=function(t,e){e=e||{};for(var i=this.shapes.length;i>=0;--i)this.removeShape(this.shapes[i]);var n=new o.Polygon;if(n.vertices=t,n.makeCCW(),"number"==typeof e.removeCollinearPoints&&n.removeCollinearPoints(e.removeCollinearPoints),"undefined"==typeof e.skipSimpleCheck&&!n.isSimple())return!1;this.concavePath=n.vertices.slice(0);for(var i=0;i<this.concavePath.length;i++){var s=[0,0];r.copy(s,this.concavePath[i]),this.concavePath[i]=s}var u;u=e.optimalDecomp?n.decomp():n.quickDecomp();for(var l=r.create(),i=0;i!==u.length;i++){for(var h=new a({vertices:u[i].vertices}),c=0;c!==h.vertices.length;c++){var s=h.vertices[c];r.sub(s,s,h.centerOfMass)}r.scale(l,h.centerOfMass,1),h.updateTriangles(),h.updateCenterOfMass(),h.updateBoundingRadius(),this.addShape(h,l)}return this.adjustCenterOfMass(),this.aabbNeedsUpdate=!0,!0};var b=(r.fromValues(0,0),r.fromValues(0,0)),w=r.fromValues(0,0),x=r.fromValues(0,0);n.prototype.adjustCenterOfMass=function(){var t=b,e=w,i=x,n=0;r.set(e,0,0);for(var o=0;o!==this.shapes.length;o++){var a=this.shapes[o];r.scale(t,a.position,a.area),r.add(e,e,t),n+=a.area}r.scale(i,e,1/n);for(var o=0;o!==this.shapes.length;o++){var a=this.shapes[o];r.sub(a.position,a.position,i)}r.add(this.position,this.position,i);for(var o=0;this.concavePath&&o<this.concavePath.length;o++)r.sub(this.concavePath[o],this.concavePath[o],i);this.updateMassProperties(),this.updateBoundingRadius()},n.prototype.setZeroForce=function(){r.set(this.force,0,0),this.angularForce=0},n.prototype.resetConstraintVelocity=function(){var t=this,e=t.vlambda;r.set(e,0,0),t.wlambda=0},n.prototype.addConstraintVelocity=function(){var t=this,e=t.velocity;r.add(e,e,t.vlambda),t.angularVelocity+=t.wlambda},n.prototype.applyDamping=function(t){if(this.type===n.DYNAMIC){var e=this.velocity;r.scale(e,e,Math.pow(1-this.damping,t)),this.angularVelocity*=Math.pow(1-this.angularDamping,t)}},n.prototype.wakeUp=function(){var t=this.sleepState;this.sleepState=n.AWAKE,this.idleTime=0,t!==n.AWAKE&&this.emit(n.wakeUpEvent)},n.prototype.sleep=function(){this.sleepState=n.SLEEPING,this.angularVelocity=0,this.angularForce=0,r.set(this.velocity,0,0),r.set(this.force,0,0),this.emit(n.sleepEvent)},n.prototype.sleepTick=function(t,e,i){if(this.allowSleep&&this.type!==n.SLEEPING){this.wantsToSleep=!1;var o=(this.sleepState,r.squaredLength(this.velocity)+Math.pow(this.angularVelocity,2)),a=Math.pow(this.sleepSpeedLimit,2);o>=a?(this.idleTime=0,this.sleepState=n.AWAKE):(this.idleTime+=i,this.sleepState=n.SLEEPY),this.idleTime>this.sleepTimeLimit&&(e?this.wantsToSleep=!0:this.sleep())}},n.prototype.overlaps=function(t){return this.world.overlapKeeper.bodiesAreOverlapping(this,t)};var T=r.create(),S=r.create();n.prototype.integrate=function(t){var e=this.invMass,i=this.force,n=this.position,o=this.velocity;r.copy(this.previousPosition,this.position),this.previousAngle=this.angle,this.fixedRotation||(this.angularVelocity+=this.angularForce*this.invInertia*t),r.scale(T,i,t*e),r.multiply(T,this.massMultiplier,T),r.add(o,T,o),this.integrateToTimeOfImpact(t)||(r.scale(S,o,t),r.add(n,n,S),this.fixedRotation||(this.angle+=this.angularVelocity*t)),this.aabbNeedsUpdate=!0};var E=new s,C=new u({mode:u.ALL}),P=r.create(),M=r.create(),A=r.create(),O=r.create();n.prototype.integrateToTimeOfImpact=function(t){if(this.ccdSpeedThreshold<0||r.squaredLength(this.velocity)<Math.pow(this.ccdSpeedThreshold,2))return!1;r.normalize(P,this.velocity),r.scale(M,this.velocity,t),r.add(M,M,this.position),r.sub(A,M,this.position);var e,i=this.angularVelocity*t,n=r.length(A),o=1,a=this;if(E.reset(),C.callback=function(t){t.body!==a&&(e=t.body,t.getHitPoint(M,C),r.sub(A,M,a.position),o=r.length(A)/n,t.stop())},r.copy(C.from,this.position),r.copy(C.to,M),C.update(),this.world.raycast(E,C),!e)return!1;var s=this.angle;r.copy(O,this.position);for(var u=0,l=0,h=0,c=o;c>=l&&u<this.ccdIterations;){u++,h=(c-l)/2,r.scale(S,A,o),r.add(this.position,O,S),this.angle=s+i*o,this.updateAABB();var f=this.aabb.overlaps(e.aabb)&&this.world.narrowphase.bodiesOverlap(this,e);f?l=h:c=h}return o=h,r.copy(this.position,O),this.angle=s,r.scale(S,A,o),r.add(this.position,this.position,S),this.fixedRotation||(this.angle+=i*o),!0},n.prototype.getVelocityAtPoint=function(t,e){return r.crossVZ(t,e,this.angularVelocity),r.subtract(t,this.velocity,t),t},n.sleepyEvent={type:"sleepy"},n.sleepEvent={type:"sleep"},n.wakeUpEvent={type:"wakeup"},n.DYNAMIC=1,n.STATIC=2,n.KINEMATIC=4,n.AWAKE=0,n.SLEEPY=1,n.SLEEPING=2},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.STATES=e.GEL_TITLE_PADDING_TOP=e.GEL_PADDING_BETWEEN_BUTTON=e.GEL_PADDING_BOTTOM=e.GEL_PADDING_RIGHT=e.GEL_PADDING_LEFT=e.GEL_PADDING_TOP=void 0;var r=i(11),o=n(r);e.GEL_PADDING_TOP=o.default.instance.isMobile?25:30,e.GEL_PADDING_LEFT=o.default.instance.isMobile?25:30,e.GEL_PADDING_RIGHT=o.default.instance.isMobile?25:30,e.GEL_PADDING_BOTTOM=o.default.instance.isMobile?25:40,e.GEL_PADDING_BETWEEN_BUTTON=o.default.instance.isMobile?20:0,e.GEL_TITLE_PADDING_TOP=o.default.instance.isMobile?25:30,e.STATES={LOCK:0,COUNTDOWN:1,UNLOCK:2}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(17),c=n(h),f=function(t){function e(i,n){o(this,e);var r=a(this,t.call(this));r.isOverlay=!0,r.app=i,r.bg=l.Sprite.from("panel.png"),r.bg.scale.set(.9),r.bg.anchor.set(.5),r.addChild(r.bg),r.title=c.default.getHeaderText(n),r.title.anchor.set(.5),r.title.position.y=-162;var s=531/r.title.width;return r.title.scale.set(Math.min(.85,s)),r.addChild(r.title),r}return s(e,t),e.prototype.resize=function(t,e){this.w=t,this.h=e,this.x=t/2,this.y=e/2},e}(l.Container);e.default=f,t.exports=e.default},function(t,e,i){var n;n=function(t,e,i){var n=function t(e,i){this.x=e||0,this.y=i||0,this.id=t._UID++};n._UID=0,n.prototype.clone=function(){return new n(this.x,this.y)},n.prototype.plus=function(t){return this.x+=t.x,this.y+=t.y,this},n.prototype.minus=function(t){return this.x-=t.x,this.y-=t.y,this},n.prototype.invert=function(t){return this.x*=-1,this.y*=-1,this},n.prototype.multiply=n.prototype.multiplyScalar=function(t){return this.x*=t,this.y*=t,this},n.prototype.divideScalar=function(t){if(0===t)this.x=0,this.y=0;else{var e=1/t;this.x*=e,this.y*=e}return this},n.prototype.dot=function(t){return this.x*t.x+this.y*t.y},n.prototype.length=function(t){return Math.sqrt(this.x*this.x+this.y*this.y)},n.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},n.prototype.normalize=function(){return this.divideScalar(this.length())},n.prototype.distanceTo=function(t){return Math.sqrt(this.distanceToSq(t))},n.prototype.distanceToSq=function(t){var e=this.x-t.x,i=this.y-t.y;return e*e+i*i},n.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},n.prototype.setX=function(t){return this.x=t,this},n.prototype.setY=function(t){return this.y=t,this},n.prototype.setLength=function(t){var e=this.length();
return 0!==e&&t!==e&&this.multiplyScalar(t/e),this},n.prototype.invert=function(t){return this.x*=-1,this.y*=-1,this},n.prototype.lerp=function(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this},n.prototype.rad=function(){return Math.atan2(this.x,this.y)},n.prototype.deg=function(){return 180*this.rad()/Math.PI},n.prototype.equals=function(t){return this.x===t.x&&this.y===t.y},n.prototype.rotate=function(t){var e=this.x;return this.x=this.x*Math.cos(t)-this.y*Math.sin(t),this.y=e*Math.sin(t)+this.y*Math.cos(t),this},n.projectPoint=function(t,e){var i=new n(0,0),r=n.project(t.clone().minus(i),e);return r.clone().plus(i)},n.project=function(t,e){var i=new n(0,0),r=t.dot(e);return i.x=r/(e.x*e.x+e.y*e.y)*e.x,i.y=r/(e.x*e.x+e.y*e.y)*e.y,i},n.prototype.constructor=n,i.exports=n}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e){t.exports=function(t,e,i,n){if(!(t instanceof e)||void 0!==n&&n in t)throw TypeError(i+": incorrect invocation!");return t}},function(t,e){t.exports=!1},function(t,e,i){var n=i(4),r=i(224),o=i(145),a=i(157)("IE_PROTO"),s=function(){},u="prototype",l=function(){var t,e=i(144)("iframe"),n=o.length,r="<",a=">";for(e.style.display="none",i(147).appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(r+"script"+a+"document.F=Object"+r+"/script"+a),t.close(),l=t.F;n--;)delete l[u][o[n]];return l()};t.exports=Object.create||function(t,e){var i;return null!==t?(s[u]=n(t),i=new s,s[u]=null,i[a]=t):i=l(),void 0===e?i:r(i,e)}},function(t,e,i){var n=i(226),r=i(145).concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return n(t,r)}},function(t,e,i){var n=i(226),r=i(145);t.exports=Object.keys||function(t){return n(t,r)}},function(t,e,i){var n=i(33);t.exports=function(t,e,i){for(var r in e)n(t,r,e[r],i);return t}},function(t,e,i){"use strict";var n=i(7),r=i(20),o=i(19),a=i(15)("species");t.exports=function(t){var e=n[t];o&&e&&!e[a]&&r.f(e,a,{configurable:!0,get:function(){return this}})}},function(t,e,i){var n=i(57),r=Math.max,o=Math.min;t.exports=function(t,e){return t=n(t),t<0?r(t+e,0):o(t,e)}},function(t,e){var i=0,n=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++i+n).toString(36))}},function(t,e,i){"use strict";function n(){}function r(t,e,i){this.fn=t,this.context=e,this.once=i||!1}function o(){this._events=new n,this._eventsCount=0}var a=Object.prototype.hasOwnProperty,s="~";Object.create&&(n.prototype=Object.create(null),(new n).__proto__||(s=!1)),o.prototype.eventNames=function(){var t,e,i=[];if(0===this._eventsCount)return i;for(e in t=this._events)a.call(t,e)&&i.push(s?e.slice(1):e);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(t)):i},o.prototype.listeners=function(t,e){var i=s?s+t:t,n=this._events[i];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,a=new Array(o);r<o;r++)a[r]=n[r].fn;return a},o.prototype.emit=function(t,e,i,n,r,o){var a=s?s+t:t;if(!this._events[a])return!1;var u,l,h=this._events[a],c=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),c){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,i),!0;case 4:return h.fn.call(h.context,e,i,n),!0;case 5:return h.fn.call(h.context,e,i,n,r),!0;case 6:return h.fn.call(h.context,e,i,n,r,o),!0}for(l=1,u=new Array(c-1);l<c;l++)u[l-1]=arguments[l];h.fn.apply(h.context,u)}else{var f,d=h.length;for(l=0;l<d;l++)switch(h[l].once&&this.removeListener(t,h[l].fn,void 0,!0),c){case 1:h[l].fn.call(h[l].context);break;case 2:h[l].fn.call(h[l].context,e);break;case 3:h[l].fn.call(h[l].context,e,i);break;case 4:h[l].fn.call(h[l].context,e,i,n);break;default:if(!u)for(f=1,u=new Array(c-1);f<c;f++)u[f-1]=arguments[f];h[l].fn.apply(h[l].context,u)}}return!0},o.prototype.on=function(t,e,i){var n=new r(e,i||this),o=s?s+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):(this._events[o]=n,this._eventsCount++),this},o.prototype.once=function(t,e,i){var n=new r(e,i||this,!0),o=s?s+t:t;return this._events[o]?this._events[o].fn?this._events[o]=[this._events[o],n]:this._events[o].push(n):(this._events[o]=n,this._eventsCount++),this},o.prototype.removeListener=function(t,e,i,r){var o=s?s+t:t;if(!this._events[o])return this;if(!e)return 0===--this._eventsCount?this._events=new n:delete this._events[o],this;var a=this._events[o];if(a.fn)a.fn!==e||r&&!a.once||i&&a.context!==i||(0===--this._eventsCount?this._events=new n:delete this._events[o]);else{for(var u=0,l=[],h=a.length;u<h;u++)(a[u].fn!==e||r&&!a[u].once||i&&a[u].context!==i)&&l.push(a[u]);l.length?this._events[o]=1===l.length?l[0]:l:0===--this._eventsCount?this._events=new n:delete this._events[o]}return this},o.prototype.removeAllListeners=function(t){var e;return t?(e=s?s+t:t,this._events[e]&&(0===--this._eventsCount?this._events=new n:delete this._events[e])):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=s,o.EventEmitter=o,t.exports=o},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(3),s=n(a),u=i(16),l=n(u),h=i(11),c=n(h),f=function(){function t(){r(this,t),this.disabled=l.default.music.disabled,this.music=l.default.music,this.currentSound=null,this.newSound=null,this.onFade=new s.default,this.globalVolume=1,this.volume=1,this.fadeInDuration=1,this.fadeOutDuration=1,this.music.onMuteToggle.add(this.onMusicToggle,this)}return o(t,[{key:"init",value:function(t){this.volume=t.volume||1,this.fadeInDuration=t.fadeInDuration||3.2,this.fadeOutDuration=t.fadeOutDuration||3.5}},{key:"add",value:function(t,e){l.default.music.addSound(t,e,{loop:!0})}},{key:"play",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e=e&&c.default.instance.webAudio;var i=this.music.sounds[t];if(!this.disabled&&i&&this.currentSound!==i){if(this.currentSound)if(e){var n=this.currentSound;this.currentSound.once("fade",function(){n.stop()}),this.currentSound.fade(this.currentSound.volume(),0,1e3*this.fadeOutDuration)}else this.currentSound.stop();else;i.play(),e?(i.volume(0),i.fade(0,this.volume,1e3*this.fadeInDuration)):i.volume(this.volume),this.currentSound=i}}},{key:"stop",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(t=t&&c.default.instance.webAudio,this.currentSound)if(t){var e=this.currentSound;e.once("fade",function(){e.stop()}),this.currentSound.fade(this.currentSound.volume(),0,1e3*this.fadeOutDuration)}else this.currentSound.stop();this.currentSound=null}},{key:"pause",value:function(){this.currentSound&&this.currentSound.pause()}},{key:"resume",value:function(){this.currentSound&&this.currentSound.play()}},{key:"onMusicToggle",value:function(){}},{key:"setVolume",value:function(t,e){this.disabled||(t.realVolume=e,t.volume(e*this.globalVolume))}},{key:"isPlaying",value:function(t){if(!this.disabled)return!this.sounds[t]._audioNode[0].paused}}]),t}();e.default=new f,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(){var t=document.createElement("canvas");t.width=10,t.height=10;var e=t.getContext("2d");return e.fillStyle="white",e.fillRect(0,0,10,10),new x(new c.default(t))}function u(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}e.__esModule=!0;var l=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),h=i(86),c=n(h),f=i(300),d=n(f),p=i(299),y=n(p),v=i(74),m=n(v),g=i(26),_=i(13),b=i(24),w=n(b),x=function(t){function e(i,n,a,s,u){r(this,e);var l=o(this,t.call(this));if(l.noFrame=!1,n||(l.noFrame=!0,n=new g.Rectangle(0,0,1,1)),i instanceof e&&(i=i.baseTexture),l.baseTexture=i,l._frame=n,l.trim=s,l.valid=!1,l.requiresUpdate=!1,l._uvs=null,l.orig=a||n,l._rotate=Number(u||0),u===!0)l._rotate=2;else if(l._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return i.hasLoaded?(l.noFrame&&(n=new g.Rectangle(0,0,i.width,i.height),i.on("update",l.onBaseTextureUpdated,l)),l.frame=n):i.once("loaded",l.onBaseTextureLoaded,l),l._updateID=0,l.transform=null,l.textureCacheIds=[],l}return a(e,t),e.prototype.update=function(){this.baseTexture.update()},e.prototype.onBaseTextureLoaded=function(t){this._updateID++,this.noFrame?this.frame=new g.Rectangle(0,0,t.width,t.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},e.prototype.onBaseTextureUpdated=function(t){this._updateID++,this._frame.width=t.width,this._frame.height=t.height,this.emit("update",this)},e.prototype.destroy=function(t){this.baseTexture&&(t&&(_.TextureCache[this.baseTexture.imageUrl]&&e.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,e.removeFromCache(this),this.textureCacheIds=null},e.prototype.clone=function(){return new e(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)},e.prototype._updateUvs=function(){this._uvs||(this._uvs=new y.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},e.fromImage=function(t,i,n,r){var o=_.TextureCache[t];return o||(o=new e(c.default.fromImage(t,i,n,r)),e.addToCache(o,t)),o},e.fromFrame=function(t){var e=_.TextureCache[t];if(!e)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return e},e.fromCanvas=function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";return new e(c.default.fromCanvas(t,i,n))},e.fromVideo=function(t,i){return"string"==typeof t?e.fromVideoUrl(t,i):new e(d.default.fromVideo(t,i))},e.fromVideoUrl=function(t,i){return new e(d.default.fromUrl(t,i))},e.from=function(t){if("string"==typeof t){var i=_.TextureCache[t];if(!i){var n=null!==t.match(/\.(mp4|webm|ogg|h264|avi|mov)$/);return n?e.fromVideoUrl(t):e.fromImage(t)}return i}return t instanceof HTMLImageElement?new e(c.default.from(t)):t instanceof HTMLCanvasElement?e.fromCanvas(t,w.default.SCALE_MODE,"HTMLCanvasElement"):t instanceof HTMLVideoElement?e.fromVideo(t):t instanceof c.default?new e(t):t},e.fromLoader=function(t,i,n){var r=new c.default(t,void 0,(0,_.getResolutionOfUrl)(i)),o=new e(r);return r.imageUrl=i,n||(n=i),c.default.addToCache(o.baseTexture,n),e.addToCache(o,n),n!==i&&(c.default.addToCache(o.baseTexture,i),e.addToCache(o,i)),o},e.addToCache=function(t,e){e&&(t.textureCacheIds.indexOf(e)===-1&&t.textureCacheIds.push(e),_.TextureCache[e],_.TextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=_.TextureCache[t];if(e){var i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete _.TextureCache[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)delete _.TextureCache[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},l(e,[{key:"frame",get:function(){return this._frame},set:function(t){if(this._frame=t,this.noFrame=!1,t.x+t.width>this.baseTexture.width||t.y+t.height>this.baseTexture.height)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+("X: "+t.x+" + "+t.width+" > "+this.baseTexture.width+" ")+("Y: "+t.y+" + "+t.height+" > "+this.baseTexture.height));this.valid=t&&t.width&&t.height&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=t),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(t){this._rotate=t,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),e}(m.default);e.default=x,x.EMPTY=new x(new c.default),u(x.EMPTY),u(x.EMPTY.baseTexture),x.WHITE=s(),u(x.WHITE),u(x.WHITE.baseTexture)},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e){i(this,t),this.item=e,this.f=39,this.y3d=-37,this.y=NaN}return t.prototype.update=function(){var t=this.item.position.y;if(t!=this.y){this.y=t;var e=this.y/this.y3d;this.item.view.scale.set(this.f/(this.f+e)-.6)}},n(t,null,[{key:"id",get:function(){return"y3dComponent"}}]),t}();e.default=r,t.exports=e.default},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(6),l=r(u),h=i(29),c=n(h),f=i(1),d=n(f),p=function(t){function e(){return o(this,e),a(this,t.call(this))}return s(e,t),e.prototype.reset=function(t){this.data=t;var e=t.body;e&&(this.body=c.CrashBody.fromRect(e.x,e.y,e.width,e.height),this.body.type=c.CrashBody.STATIC),this.overrideImage||t.image?(this.view=d.Sprite.fromFrame((this.overrideImage?this.overrideImage:t.image)+".png"),this.view.anchor.set(.5)):this.view=this.body.getDebugView()},e}(l.default);e.default=p,t.exports=e.default},function(t,e,i){var n=i(15)("unscopables"),r=Array.prototype;void 0==r[n]&&i(32)(r,n,{}),t.exports=function(t){r[n][t]=!0}},function(t,e,i){var n=i(52),r=i(220),o=i(149),a=i(4),s=i(25),u=i(166),l={},h={},e=t.exports=function(t,e,i,c,f){var d,p,y,v,m=f?function(){return t}:u(t),g=n(i,c,e?2:1),_=0;if("function"!=typeof m)throw TypeError(t+" is not iterable!");if(o(m)){for(d=s(t.length);d>_;_++)if(v=e?g(a(p=t[_])[0],p[1]):g(t[_]),v===l||v===h)return v}else for(y=m.call(t);!(p=y.next()).done;)if(v=r(y,g,p.value,e),v===l||v===h)return v};e.BREAK=l,e.RETURN=h},function(t,e){t.exports={}},function(t,e,i){var n=i(20).f,r=i(30),o=i(15)("toStringTag");t.exports=function(t,e,i){t&&!r(t=i?t:t.prototype,o)&&n(t,o,{configurable:!0,value:e})}},function(t,e,i){var n=i(2),r=i(44),o=i(10),a=i(162),s="["+a+"]",u="​",l=RegExp("^"+s+s+"*"),h=RegExp(s+s+"*$"),c=function(t,e,i){var r={},s=o(function(){return!!a[t]()||u[t]()!=u}),l=r[t]=s?e(f):a[t];i&&(r[i]=l),n(n.P+n.F*s,"String",r)},f=c.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(l,"")),2&e&&(t=t.replace(h,"")),t};t.exports=c},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=[],o=function(){function t(){i(this,t),this.updateBind=this.update.bind(this),this.waits=[]}return n(t,[{key:"waitNew",value:function(t,e,i){var n=r.pop()||{callback:null,scope:null,count:null};n.callback=t,n.scope=e||this,n.count=i||2,this.waits.push(n),requestAnimationFrame(this.updateBind)}},{key:"wait",value:function t(e,i){var t={callback:e,scope:this,count:i||2};this.waits.push(t),requestAnimationFrame(this.updateBind)}},{key:"update",value:function(){for(var t=this.waits.length-1;t>=0;t--){var e=this.waits[t];e.count--,e.count<=0&&(e.callback.call(e.scope),this.waits.splice(t,1),r.push(e))}this.waits.length>0&&requestAnimationFrame(this.updateBind)}}]),t}();e.default=new o,t.exports=e.default},function(t,e){function i(t){t=t||{},this.objects=[],void 0!==t.size&&this.resize(t.size)}t.exports=i,i.prototype.resize=function(t){for(var e=this.objects;e.length>t;)e.pop();for(;e.length<t;)e.push(this.create());return this},i.prototype.get=function(){var t=this.objects;return t.length?t.pop():this.create()},i.prototype.release=function(t){return this.destroy(t),this.objects.push(t),this}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(13),u=i(24),l=n(u),h=i(74),c=n(h),f=i(752),d=n(f),p=i(141),y=n(p),v=function(t){function e(i,n,a){r(this,e);var u=o(this,t.call(this));return u.uid=(0,s.uid)(),u.touched=0,u.resolution=a||l.default.RESOLUTION,u.width=100,u.height=100,u.realWidth=100,u.realHeight=100,u.scaleMode=void 0!==n?n:l.default.SCALE_MODE,u.hasLoaded=!1,u.isLoading=!1,u.source=null,u.origSource=null,u.imageType=null,u.sourceScale=1,u.premultipliedAlpha=!0,u.imageUrl=null,u.isPowerOfTwo=!1,u.mipmap=l.default.MIPMAP_TEXTURES,u.wrapMode=l.default.WRAP_MODE,u._glTextures={},u._enabled=0,u._virtalBoundId=-1,u._destroyed=!1,u.textureCacheIds=[],i&&u.loadSource(i),u}return a(e,t),e.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},e.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=y.default.isPow2(this.realWidth)&&y.default.isPow2(this.realHeight)},e.prototype.loadSource=function(t){var e=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,e&&this.source&&(this.source.onload=null,this.source.onerror=null);var i=!this.source;if(this.source=t,(t.src&&t.complete||t.getContext)&&t.width&&t.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),i&&this.emit("loaded",this);else if(!t.getContext){this.isLoading=!0;var n=this;if(t.onload=function(){if(n._updateImageType(),t.onload=null,t.onerror=null,n.isLoading)return n.isLoading=!1,n._sourceLoaded(),"svg"===n.imageType?void n._loadSvgSource():void n.emit("loaded",n)},t.onerror=function(){t.onload=null,t.onerror=null,n.isLoading&&(n.isLoading=!1,n.emit("error",n))},t.complete&&t.src){if(t.onload=null,t.onerror=null,"svg"===n.imageType)return void n._loadSvgSource();this.isLoading=!1,t.width&&t.height?(this._sourceLoaded(),e&&this.emit("loaded",this)):e&&this.emit("error",this)}}},e.prototype._updateImageType=function(){if(this.imageUrl){var t=(0,s.decomposeDataUri)(this.imageUrl),e=void 0;if(t&&"image"===t.mediaType){var i=t.subType.split("+")[0];if(e=(0,s.getUrlFileExtension)("."+i),!e)throw new Error("Invalid image type in data URI.")}else e=(0,s.getUrlFileExtension)(this.imageUrl),e||(e="png");this.imageType=e}},e.prototype._loadSvgSource=function(){if("svg"===this.imageType){var t=(0,s.decomposeDataUri)(this.imageUrl);t?this._loadSvgSourceUsingDataUri(t):this._loadSvgSourceUsingXhr()}},e.prototype._loadSvgSourceUsingDataUri=function(t){var e=void 0;if("base64"===t.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");e=atob(t.data)}else e=t.data;this._loadSvgSourceUsingString(e)},e.prototype._loadSvgSourceUsingXhr=function(){var t=this,e=new XMLHttpRequest;e.onload=function(){if(e.readyState!==e.DONE||200!==e.status)throw new Error("Failed to load SVG using XHR.");t._loadSvgSourceUsingString(e.response)},e.onerror=function(){return t.emit("error",t)},e.open("GET",this.imageUrl,!0),e.send()},e.prototype._loadSvgSourceUsingString=function(t){var i=(0,s.getSvgSize)(t),n=i.width,r=i.height;if(!n||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(n*this.sourceScale),this.realHeight=Math.round(r*this.sourceScale),this._updateDimensions();var o=document.createElement("canvas");o.width=this.realWidth,o.height=this.realHeight,o._pixiId="canvas_"+(0,s.uid)(),o.getContext("2d").drawImage(this.source,0,0,n,r,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=o,e.addToCache(this,o._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},e.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},e.prototype.destroy=function(){this.imageUrl&&(delete s.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),e.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},e.prototype.dispose=function(){this.emit("dispose",this)},e.prototype.updateSourceImage=function(t){this.source.src=t,this.loadSource(this.source)},e.fromImage=function(t,i,n,r){var o=s.BaseTextureCache[t];if(!o){var a=new Image;void 0===i&&0!==t.indexOf("data:")?a.crossOrigin=(0,d.default)(t):i&&(a.crossOrigin="string"==typeof i?i:"anonymous"),o=new e(a,n),o.imageUrl=t,r&&(o.sourceScale=r),o.resolution=(0,s.getResolutionOfUrl)(t),a.src=t,e.addToCache(o,t)}return o},e.fromCanvas=function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"canvas";t._pixiId||(t._pixiId=n+"_"+(0,s.uid)());var r=s.BaseTextureCache[t._pixiId];return r||(r=new e(t,i),e.addToCache(r,t._pixiId)),r},e.from=function(t,i,n){if("string"==typeof t)return e.fromImage(t,void 0,i,n);if(t instanceof HTMLImageElement){var r=t.src,o=s.BaseTextureCache[r];return o||(o=new e(t,i),o.imageUrl=r,n&&(o.sourceScale=n),o.resolution=(0,s.getResolutionOfUrl)(r),e.addToCache(o,r)),o}return t instanceof HTMLCanvasElement?e.fromCanvas(t,i):t},e.addToCache=function(t,e){e&&(t.textureCacheIds.indexOf(e)===-1&&t.textureCacheIds.push(e),s.BaseTextureCache[e],s.BaseTextureCache[e]=t)},e.removeFromCache=function(t){if("string"==typeof t){var e=s.BaseTextureCache[t];if(e){var i=e.textureCacheIds.indexOf(t);return i>-1&&e.textureCacheIds.splice(i,1),delete s.BaseTextureCache[t],e}}else if(t&&t.textureCacheIds){for(var n=0;n<t.textureCacheIds.length;++n)delete s.BaseTextureCache[t.textureCacheIds[n]];return t.textureCacheIds.length=0,t}return null},e}(c.default);e.default=v},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(58),c=(n(h),i(47)),f=n(c),d=i(11),p=n(d),y=i(3),v=n(y),m=i(88),g=n(m),_=i(23),b=n(_),w=i(17),x=n(w),T=i(62),S=36e5,E=function(t){function e(i,n,r,s,u){o(this,e);var h=a(this,t.call(this));h.app=u,h.id=i,h.orderId=n,h.previousState=null,h.state=T.STATES.LOCK,h.titlePositionY=0;h.playButton=f.default.primary("icon_play.png","play"),h.playButton.view.scale.x=h.playButton.view.scale.y=1.1,h.countDownBg=new l.Sprite.from("unlock_board.png"),h.countDownBg.anchor.set(.5,.5),h.addChild(h.countDownBg),h.countDown=x.default.getCountdownTextTime("00:00:00"),h.countDown.position.y=-25,h.countDown.anchor.set(.5,0),h.countDownBg.addChild(h.countDown),h.lock=new l.Sprite.from("lock.png"),h.lock.anchor.set(.5),h.addChild(h.lock),h.addChild(h.playButton.view),h.bg=l.Sprite.from(r||ASSET_URL+"image/title/candy_bg.jpg"),h.addChildAt(h.bg,0),h.playRatio=new l.Point(0,0),h.homeRatio=new l.Point(.5,.55),h.ratio=1,h.onPlay=new v.default,h.onClose=new v.default,h.playButton.onPress.add(function(){h.goFullScreen(),h.onPlay.dispatch(h)},h),h.closeButton=f.default.primary("icon_prev.png","home"),h.addChild(h.closeButton.view),h.closeButton.view.visible=!1,h.closeButton.onPress.add(function(){h.onClose.dispatch(h)},h),h.config=b.default.getJson("config").config;h.config.LOCALE;return h._titleGame=s||new g.default("at_logo.png","candy_01_body.png"),h._titleGame.position.y=-200,h.w,h.h,h.overlay=(new l.Graphics).beginFill(0).drawRect(0,0,100,100),h.overlay.alpha=0,h.addChild(h.overlay),h.init(),h}return s(e,t),e.prototype.setState=function(t){switch(t){case T.STATES.LOCK:this.playButton.view.visible=!1,this.lock.visible=!0,this.countDownBg.visible=!1;break;case T.STATES.COUNTDOWN:this.playButton.view.visible=!1,this.lock.visible=!0,this.countDownBg.visible=!0;break;case T.STATES.UNLOCK:this.playButton.view.visible=!0,this.lock.visible=!1,this.countDownBg.visible=!1}this.previousState=this.state,this.state=t},e.prototype.goFullScreen=function(){p.default.instance.android&&(document.body.mozRequestFullScreen?document.body.mozRequestFullScreen():document.body.webkitRequestFullScreen&&document.body.webkitRequestFullScreen())},e.prototype.init=function(){this.checkState()},e.prototype.checkState=function(){var t=1e3*this.config.STARTING_DATE-(Date.now()-24*this.orderId*S),e=t/S;e<0?this.setState(T.STATES.UNLOCK):e>0&&e<24?(this.setState(T.STATES.COUNTDOWN),this.startTimer()):this.setState(T.STATES.LOCK)},e.prototype.startTimer=function(){var t=this;this._timer=setInterval(function(){t.tickTock()},1e3)},e.prototype.stopTimer=function(){clearInterval(this._timer)},e.prototype.tickTock=function(){var t=1e3*this.config.STARTING_DATE-(Date.now()-24*this.orderId*S),e=Math.floor(t/36e5%24);e<10&&(e="0"+e);var i=Math.floor(t/1e3/60%60);i<10&&(i="0"+i);var n=Math.floor(t/1e3%60);n<10&&(n="0"+n),this.countDown.text=e+":"+i+":"+n},e.prototype.beforeShow=function(t){},e.prototype.expand=function(t){var e=this;this.isExpanded=!0,this.expandedCount=0,this.addChild(this._titleGame),this.addChild(this.playButton.view),this.closeButton.view.visible=!0,this._titleGame.show(),this._titleGame.position.x=this.w/2,this._titleGame.position.y=-200,TweenLite.to(this._titleGame.position,1,{delay:.5,y:this.titlePositionY,ease:Elastic.easeOut.config(2,.8),onComplete:function(){e._titleGame.showLogo()}}),TweenLite.to(this,1,{delay:0,ratio:0,onUpdate:function(){e.playButton.view.x=(e.homeRatio.x+(e.playRatio.x-e.homeRatio.x)*e.ratio)*e.w,e.playButton.view.y=(e.homeRatio.y+(e.playRatio.y-e.homeRatio.y)*e.ratio)*e.h},ease:Back.easeInOut})},e.prototype.collapse=function(t){var e=this;this.isExpanded=!1,this._titleGame.hide(),TweenLite.to(this._titleGame.position,1,{y:1200,ease:Circ.easeIn}),this.closeButton.view.visible=!1;var i=this.playButton.view.scale.x,n=i-1.1;TweenLite.to(this,.9,{delay:0,ratio:1,onUpdate:function(){e.playButton.view.x=(e.homeRatio.x+(e.playRatio.x-e.homeRatio.x)*e.ratio)*e.w,e.playButton.view.y=(e.homeRatio.y+(e.playRatio.y-e.homeRatio.y)*e.ratio)*e.h,e.playButton.view.scale.set(i+n*e.ratio)},ease:Back.easeOut})},e.prototype.hide=function(){var t;TweenLite.to(this.overlay,.8,(t={delay:0,alpha:.5},t.delay=.2,t)),this.state===T.STATES.COUNTDOWN&&this.stopTimer()},e.prototype.show=function(){TweenLite.to(this.overlay,.5,{delay:0,alpha:0}),this.state===T.STATES.COUNTDOWN&&this.startTimer()},e.prototype.activate=function(){},e.prototype.deactivate=function(){},e.prototype.update=function(t){this.isExpanded&&(this.expandedCount++,this.playButton.view.scale.set(1.1+.1*Math.sin(.1*this.expandedCount))),this.playButton.view.rotation+=.3*(t*Math.PI/180-this.playButton.view.rotation)},e.prototype.onShown=function(){},e.prototype.resize=function(t,e){this.w=t,this.h=e,this.bg.width=t,this.bg.height=e,this.titlePositionY=this.h/2-90,this._titleGame.position.x=this.w/2,this._titleGame.position.y=this.titlePositionY*(1-this.ratio),this.playButton.view.x=(this.homeRatio.x+(this.playRatio.x-this.homeRatio.x)*this.ratio)*this.w,this.playButton.view.y=(this.homeRatio.y+(this.playRatio.y-this.homeRatio.y)*this.ratio)*this.h,this.countDownBg.position.x=this.playButton.view.x,this.countDownBg.position.y=this.playButton.view.y,this.lock.position.x=this.playButton.view.x,this.lock.position.y=this.playButton.view.y,this.state===T.STATES.COUNTDOWN&&(this.lock.position.y+=this.countDownBg.height/2),this.closeButton.view.x=80,this.closeButton.view.y=80,this.overlay.scale.x=t/100,this.overlay.scale.y=e/100},e}(l.Container);e.default=E,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(104),c=n(h),f=function(t){function e(i,n){o(this,e);var r=a(this,t.call(this));return i&&(r._bg=new l.Sprite.from(i),r._bg.anchor.x=r._bg.anchor.y=.5,r._bg.scale.x=r._bg.scale.y=.78,r.addChild(r._bg)),n&&(r._title=new l.Sprite.from(n),r._title.anchor.x=r._title.anchor.y=.5,r.addChild(r._title)),r.delayedCalls=new c.default,r}return s(e,t),e.prototype.showLogo=function(){this._title.alpha=0,TweenLite.to(this._title,.1,{alpha:1}),TweenLite.to(this._title.scale,.6,{x:.78,y:.78,ease:Elastic.easeOut})},e.prototype.hideLogo=function(){},e.prototype.show=function(){this._bg.alpha=1,this._title.alpha=0,this._title.scale.x=this._title.scale.y=2;
},e.prototype.hide=function(){},e}(l.Container);e.default=f,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(1),u=r(s),l=i(169),h=n(l),c=function(){function t(e){o(this,t),this._x=0,this._y=0,this.rotation=0,this.zoom=1,this.viewWidth=1130,this.viewHeight=640,this.target=e,this.offset=new u.Point,this.easing=.05,this.zoomEasing=.05,this.spring=new h.default}return t.prototype.updateTargetFromPosition=function(t,e,i){i=i||this.target,t=Math.max(0,Math.min(t,this.viewWidth)),e=Math.max(0,Math.min(e,this.viewHeight));var n=t/this.viewWidth,r=e/this.viewHeight;i.x=this.viewWidth/2+n*(this.worldBounds.width-this.viewWidth),i.y=this.viewHeight/2+r*(this.worldBounds.height-this.viewHeight)},t.prototype.setWorldBounds=function(t,e,i,n){this.worldBounds||(this.worldBounds=new u.Rectangle),this.worldBounds.x=t,this.worldBounds.y=e,this.worldBounds.width=i,this.worldBounds.height=n},t.prototype.update=function(){if(this.target){var t=this.target.x+this.offset.x-this._x,e=this.target.y+this.offset.y-this._y;this._x+=t*this.easing,this._y+=e*this.easing}var i=this._targetZoom-this._zoom;i*i<1e-5?this._zoom=this._targetZoom:this._zoom+=i*this.zoomEasing,this.worldBounds&&(this._x=Math.min(this._x,this.worldBounds.width-this.viewWidth/(2*this._zoom)),this._x=Math.max(this._x,this.worldBounds.x+this.viewWidth/(2*this._zoom)),this._y=Math.max(this._y,this.worldBounds.y+this.viewHeight/(2*this._zoom)),this._y=Math.min(this._y,this.worldBounds.height-this.viewHeight/(2*this._zoom))),this.spring.update()},t.prototype.snapToTarget=function(){var t=this.easing;this.easing=1,this.update(),this.easing=t},t.prototype.shake=function(t,e){t=t||Math.random()*Math.PI*2,e=e||20,this.spring.dx=Math.sin(t)*e,this.spring.dy=Math.cos(t)*e},t.prototype.resize=function(t,e){this.viewWidth=t,this.viewHeight=e},a(t,[{key:"x",get:function(){return this._x+this.spring.x},set:function(t){this._x=t}},{key:"y",get:function(){return this._y+this.spring.y},set:function(t){this._y=t}},{key:"zoom",set:function(t){this._zoom=t,this._targetZoom=t},get:function(){return this._zoom}},{key:"easedZoom",set:function(t){this._targetZoom=t}},{key:"allEasing",set:function(t){this.easing=t,this.zoomEasing=t}}]),t}();e.default=c,t.exports=e.default},function(t,e,i){var n;n=function(t,e,n){n.exports={World:i(378),Group:i(135),PixiView:i(377),CrashWorld:i(197)}}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n=i(43),r=i(15)("toStringTag"),o="Arguments"==n(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,i,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(i=a(e=Object(t),r))?i:o?n(e):"Object"==(s=n(e))&&"function"==typeof e.callee?"Arguments":s}},function(t,e,i){var n=i(43);t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==n(t)?t.split(""):Object(t)}},function(t,e){e.f={}.propertyIsEnumerable},function(t,e,i){function n(t,e,i){o.call(this,t,e,-i,i),this.contactPointA=r.create(),this.contactPointB=r.create(),this.t=r.create(),this.contactEquations=[],this.shapeA=null,this.shapeB=null,this.frictionCoefficient=.3}var r=i(5),o=i(36);i(22);t.exports=n,n.prototype=new o,n.prototype.constructor=n,n.prototype.setSlipForce=function(t){this.maxForce=t,this.minForce=-t},n.prototype.getSlipForce=function(){return this.maxForce},n.prototype.computeB=function(t,e,i){var n=(this.bodyA,this.bodyB,this.contactPointA),o=this.contactPointB,a=this.t,s=this.G;s[0]=-a[0],s[1]=-a[1],s[2]=-r.crossLength(n,a),s[3]=a[0],s[4]=a[1],s[5]=r.crossLength(o,a);var u=this.computeGW(),l=this.computeGiMf(),h=-u*e-i*l;return h}},function(t,e,i){function n(t){Array.isArray(arguments[0])&&(t={vertices:arguments[0],axes:arguments[1]}),t=t||{},this.vertices=[];for(var e=void 0!==t.vertices?t.vertices:[],i=0;i<e.length;i++){var n=o.create();o.copy(n,e[i]),this.vertices.push(n)}if(this.axes=[],t.axes)for(var i=0;i<t.axes.length;i++){var a=o.create();o.copy(a,t.axes[i]),this.axes.push(a)}else for(var i=0;i<this.vertices.length;i++){var s=this.vertices[i],u=this.vertices[(i+1)%this.vertices.length],l=o.create();o.sub(l,u,s),o.rotate90cw(l,l),o.normalize(l,l),this.axes.push(l)}if(this.centerOfMass=o.fromValues(0,0),this.triangles=[],this.vertices.length&&(this.updateTriangles(),this.updateCenterOfMass()),this.boundingRadius=0,t.type=r.CONVEX,r.call(this,t),this.updateBoundingRadius(),this.updateArea(),this.area<0)throw new Error("Convex vertices must be given in conter-clockwise winding.")}var r=i(37),o=i(5),a=i(685);i(316);t.exports=n,n.prototype=new r,n.prototype.constructor=n;var s=o.create(),u=o.create();n.prototype.projectOntoLocalAxis=function(t,e){for(var i,n,r=null,a=null,t=s,u=0;u<this.vertices.length;u++)i=this.vertices[u],n=o.dot(i,t),(null===r||n>r)&&(r=n),(null===a||n<a)&&(a=n);if(a>r){var l=a;a=r,r=l}o.set(e,a,r)},n.prototype.projectOntoWorldAxis=function(t,e,i,n){var r=u;this.projectOntoLocalAxis(t,n),0!==i?o.rotate(r,t,i):r=t;var a=o.dot(e,r);o.set(n,n[0]+a,n[1]+a)},n.prototype.updateTriangles=function(){this.triangles.length=0;for(var t=[],e=0;e<this.vertices.length;e++){var i=this.vertices[e];t.push(i[0],i[1])}for(var n=a.Triangulate(t),e=0;e<n.length;e+=3){var r=n[e],o=n[e+1],s=n[e+2];this.triangles.push([r,o,s])}};var l=o.create(),h=o.create(),c=o.create(),f=o.create(),d=o.create();o.create(),o.create(),o.create(),o.create();n.prototype.updateCenterOfMass=function(){var t=this.triangles,e=this.vertices,i=this.centerOfMass,r=l,a=c,s=f,u=d,p=h;o.set(i,0,0);for(var y=0,v=0;v!==t.length;v++){var m=t[v],a=e[m[0]],s=e[m[1]],u=e[m[2]];o.centroid(r,a,s,u);var g=n.triangleArea(a,s,u);y+=g,o.scale(p,r,g),o.add(i,i,p)}o.scale(i,i,1/y)},n.prototype.computeMomentOfInertia=function(t){for(var e=0,i=0,n=this.vertices.length,r=n-1,a=0;a<n;r=a,a++){var s=this.vertices[r],u=this.vertices[a],l=Math.abs(o.crossLength(s,u)),h=o.dot(u,u)+o.dot(u,s)+o.dot(s,s);e+=l*h,i+=l}return t/6*(e/i)},n.prototype.updateBoundingRadius=function(){for(var t=this.vertices,e=0,i=0;i!==t.length;i++){var n=o.squaredLength(t[i]);n>e&&(e=n)}this.boundingRadius=Math.sqrt(e)},n.triangleArea=function(t,e,i){return.5*((e[0]-t[0])*(i[1]-t[1])-(i[0]-t[0])*(e[1]-t[1]))},n.prototype.updateArea=function(){this.updateTriangles(),this.area=0;for(var t=this.triangles,e=this.vertices,i=0;i!==t.length;i++){var r=t[i],o=e[r[0]],a=e[r[1]],s=e[r[2]],u=n.triangleArea(o,a,s);this.area+=u}},n.prototype.computeAABB=function(t,e,i){t.setFromPoints(this.vertices,e,i,0)};var p=o.create(),y=o.create(),v=o.create();n.prototype.raycast=function(t,e,i,n){var r=p,a=y,s=v,u=this.vertices;o.toLocalFrame(r,e.from,i,n),o.toLocalFrame(a,e.to,i,n);for(var l=u.length,h=0;h<l&&!t.shouldStop(e);h++){var c=u[h],f=u[(h+1)%l],d=o.getLineSegmentsIntersectionFraction(r,a,c,f);d>=0&&(o.sub(s,f,c),o.rotate(s,s,-Math.PI/2+n),o.normalize(s,s),e.reportIntersection(t,d,s,h))}}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(t instanceof Array){if("precision"!==t[0].substring(0,9)){var i=t.slice(0);return i.unshift("precision "+e+" float;"),i}}else if("precision"!==t.substring(0,9))return"precision "+e+" float;\n"+t;return t}e.__esModule=!0;var u=i(40),l=i(24),h=n(l),c=function(t){function e(i,n,a){return r(this,e),o(this,t.call(this,i,s(n,h.default.PRECISION_VERTEX),s(a,h.default.PRECISION_FRAGMENT)))}return a(e,t),e}(u.GLShader);e.default=c},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(13),l=i(284),h=n(l),c=function(t){function e(){r(this,e);var i=o(this,t.call(this));return i.children=[],i}return a(e,t),e.prototype.onChildrenChange=function(){},e.prototype.addChild=function(t){var e=arguments.length;if(e>1)for(var i=0;i<e;i++)this.addChild(arguments[i]);else t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.push(t),this._boundsID++,this.onChildrenChange(this.children.length-1),t.emit("added",this);return t},e.prototype.addChildAt=function(t,e){if(e<0||e>this.children.length)throw new Error(t+"addChildAt: The index "+e+" supplied is out of bounds "+this.children.length);return t.parent&&t.parent.removeChild(t),t.parent=this,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),t},e.prototype.swapChildren=function(t,e){if(t!==e){var i=this.getChildIndex(t),n=this.getChildIndex(e);this.children[i]=e,this.children[n]=t,this.onChildrenChange(i<n?i:n)}},e.prototype.getChildIndex=function(t){var e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e},e.prototype.setChildIndex=function(t,e){if(e<0||e>=this.children.length)throw new Error("The supplied index is out of bounds");var i=this.getChildIndex(t);(0,u.removeItems)(this.children,i,1),this.children.splice(e,0,t),this.onChildrenChange(e)},e.prototype.getChildAt=function(t){if(t<0||t>=this.children.length)throw new Error("getChildAt: Index ("+t+") does not exist.");return this.children[t]},e.prototype.removeChild=function(t){var e=arguments.length;if(e>1)for(var i=0;i<e;i++)this.removeChild(arguments[i]);else{var n=this.children.indexOf(t);if(n===-1)return null;t.parent=null,t.transform._parentID=-1,(0,u.removeItems)(this.children,n,1),this._boundsID++,this.onChildrenChange(n),t.emit("removed",this)}return t},e.prototype.removeChildAt=function(t){var e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,(0,u.removeItems)(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),e},e.prototype.removeChildren=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],i=t,n="number"==typeof e?e:this.children.length,r=n-i,o=void 0;if(r>0&&r<=n){o=this.children.splice(i,r);for(var a=0;a<o.length;++a)o[a].parent=null,o[a].transform&&(o[a].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(var s=0;s<o.length;++s)o[s].emit("removed",this);return o}if(0===r&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},e.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t=0,e=this.children.length;t<e;++t){var i=this.children[t];i.visible&&i.updateTransform()}},e.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var t=0;t<this.children.length;t++){var e=this.children[t];e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds))}this._lastBoundsID=this._boundsID},e.prototype._calculateBounds=function(){},e.prototype.renderWebGL=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(t);else{this._renderWebGL(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].renderWebGL(t)}},e.prototype.renderAdvancedWebGL=function(t){t.flush();var e=this._filters,i=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(var n=0;n<e.length;n++)e[n].enabled&&this._enabledFilters.push(e[n]);this._enabledFilters.length&&t.filterManager.pushFilter(this,this._enabledFilters)}i&&t.maskManager.pushMask(this,this._mask),this._renderWebGL(t);for(var r=0,o=this.children.length;r<o;r++)this.children[r].renderWebGL(t);t.flush(),i&&t.maskManager.popMask(this,this._mask),e&&this._enabledFilters&&this._enabledFilters.length&&t.filterManager.popFilter()},e.prototype._renderWebGL=function(t){},e.prototype._renderCanvas=function(t){},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&t.maskManager.pushMask(this._mask),this._renderCanvas(t);for(var e=0,i=this.children.length;e<i;++e)this.children[e].renderCanvas(t);this._mask&&t.maskManager.popMask(t)}},e.prototype.destroy=function(e){t.prototype.destroy.call(this);var i="boolean"==typeof e?e:e&&e.children,n=this.removeChildren(0,this.children.length);if(i)for(var r=0;r<n.length;++r)n[r].destroy(e)},s(e,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(t){var e=this.getLocalBounds().width;0!==e?this.scale.x=t/e:this.scale.x=1,this._width=t}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(t){var e=this.getLocalBounds().height;0!==e?this.scale.y=t/e:this.scale.y=1,this._height=t}}]),e}(h.default);e.default=c,c.prototype.containerUpdateTransform=c.prototype.updateTransform},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(290),u=n(s),l=i(729),h=n(l),c=i(291),f=n(c),d=i(730),p=n(d),y=i(13),v=i(8),m=i(24),g=n(m),_=function(t){function e(i,n,a){r(this,e);var s=o(this,t.call(this,"Canvas",i,n,a));return s.type=v.RENDERER_TYPE.CANVAS,s.rootContext=s.view.getContext("2d",{alpha:s.transparent}),s.context=s.rootContext,s.refresh=!0,s.maskManager=new h.default(s),s.smoothProperty="imageSmoothingEnabled",s.rootContext.imageSmoothingEnabled||(s.rootContext.webkitImageSmoothingEnabled?s.smoothProperty="webkitImageSmoothingEnabled":s.rootContext.mozImageSmoothingEnabled?s.smoothProperty="mozImageSmoothingEnabled":s.rootContext.oImageSmoothingEnabled?s.smoothProperty="oImageSmoothingEnabled":s.rootContext.msImageSmoothingEnabled&&(s.smoothProperty="msImageSmoothingEnabled")),s.initPlugins(),s.blendModes=(0,p.default)(),s._activeBlendMode=null,s.renderingToScreen=!1,s.resize(s.options.width,s.options.height),s}return a(e,t),e.prototype.render=function(t,e,i,n,r){if(this.view){this.renderingToScreen=!e,this.emit("prerender");var o=this.resolution;e?(e=e.baseTexture||e,e._canvasRenderTarget||(e._canvasRenderTarget=new f.default(e.width,e.height,e.resolution),e.source=e._canvasRenderTarget.canvas,e.valid=!0),this.context=e._canvasRenderTarget.context,this.resolution=e._canvasRenderTarget.resolution):this.context=this.rootContext;var a=this.context;if(e||(this._lastObjectRendered=t),!r){var s=t.parent,u=this._tempDisplayObjectParent.transform.worldTransform;n?(n.copy(u),this._tempDisplayObjectParent.transform._worldID=-1):u.identity(),t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=s}a.setTransform(1,0,0,1,0,0),a.globalAlpha=1,a.globalCompositeOperation=this.blendModes[v.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(a.fillStyle="black",a.clear()),(void 0!==i?i:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?a.clearRect(0,0,this.width,this.height):(a.fillStyle=this._backgroundColorString,a.fillRect(0,0,this.width,this.height)));var l=this.context;this.context=a,t.renderCanvas(this),this.context=l,this.resolution=o,this.emit("postrender")}},e.prototype.clear=function(t){var e=this.context;t=t||this._backgroundColorString,!this.transparent&&t?(e.fillStyle=t,e.fillRect(0,0,this.width,this.height)):e.clearRect(0,0,this.width,this.height)},e.prototype.setBlendMode=function(t){this._activeBlendMode!==t&&(this._activeBlendMode=t,this.context.globalCompositeOperation=this.blendModes[t])},e.prototype.destroy=function(e){this.destroyPlugins(),t.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i),this.smoothProperty&&(this.rootContext[this.smoothProperty]=g.default.SCALE_MODE===v.SCALE_MODES.LINEAR)},e}(u.default);e.default=_,y.pluginTarget.mixin(_)},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n=function(){function t(e){i(this,t),this.renderer=e,this.renderer.on("context",this.onContextChange,this)}return t.prototype.onContextChange=function(){},t.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},t}();e.default=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(9),h=r(l),c=i(190),f=n(c),d=new h.Point,p=new h.Polygon,y=function(t){function e(i,n,r,s,u){o(this,e);var l=a(this,t.call(this));return l._texture=i,l.uvs=r||new Float32Array([0,0,1,0,1,1,0,1]),l.vertices=n||new Float32Array([0,0,100,0,100,100,0,100]),l.indices=s||new Uint16Array([0,1,3,2]),l.dirty=0,l.indexDirty=0,l.blendMode=h.BLEND_MODES.NORMAL,l.canvasPadding=0,l.drawMode=u||e.DRAW_MODES.TRIANGLE_MESH,l.shader=null,l.tintRgb=new Float32Array([1,1,1]),l._glDatas={},l._uvTransform=new f.default(i),l.uploadUvTransform=!1,l.pluginName="mesh",l}return s(e,t),e.prototype._renderWebGL=function(t){this.refresh(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){this.refresh(),t.plugins[this.pluginName].render(this)},e.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},e.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},e.prototype.refresh=function(t){this._uvTransform.update(t)&&this._refresh()},e.prototype._refresh=function(){},e.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},e.prototype.containsPoint=function(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,d);for(var i=this.vertices,n=p.points,r=this.indices,o=this.indices.length,a=this.drawMode===e.DRAW_MODES.TRIANGLES?3:1,s=0;s+2<o;s+=a){var u=2*r[s],l=2*r[s+1],h=2*r[s+2];if(n[0]=i[u],n[1]=i[u+1],n[2]=i[l],n[3]=i[l+1],n[4]=i[h],n[5]=i[h+1],p.contains(d.x,d.y))return!0}return!1},u(e,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return h.utils.rgb2hex(this.tintRgb)},set:function(t){this.tintRgb=h.utils.hex2rgb(t,this.tintRgb)}}]),e}(h.Container);e.default=y,y.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},function(t,e,i){"use strict";var n=i(807).default,r=i(192).default,o=i(318),a=i(319);n.Resource=r,n.async=o,n.base64=a,t.exports=n,t.exports.default=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(3),s=(n(a),i(23)),u=n(s),l=i(469),h=n(l),c=function(){function t(){r(this,t),this.rows=[];for(var e=100;e>0;e--){var i={username:"CLM",score:10*e+800};this.rows.push(i)}}return t.prototype.is_high_score=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return this.get_position(t,e).then(function(t){return t<=i})},t.prototype.get_position=function(t,e){var i=this.config.LEADERBOARD_NB_ROWS;return this.get_scores(t,i).then(function(t){if(!t.length)return 1;if(e>parseInt(t[0].score))return 1;if(e<parseInt(t[t.length-1].score))return t.length+1;for(var i=0;i<t.length;i++)if(e>parseInt(t[i].score))return i+1})},t.prototype.send_score=function(t,e,i){var n=this;return t=this.convertGameID(t),new Promise(function(r,o){var a=n.getRequest(),s=n.url+"scrsvc",u=h.default.encrypt(JSON.stringify({gid:t,sc:e,nm:i}),"S0Bwt275r192B1rPOokA8hu3EWoUHzNsFaYypUyU0BE",256);a.onload=function(){200===a.status?r(a.response):o(Error("Scores didn't load successfully; error code:"+a.statusText))},a.onerror=function(){o(Error("There was a network error."))},a.open("POST",s,!0),a.setRequestHeader("Content-type","application/x-www-form-urlencoded"),a.send("val="+u)})},t.prototype.get_scores=function(t){var e=this;arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return t=this.convertGameID(t),new Promise(function(i,n){var r=e.getRequest(),o=e.url+"getScores?gameId="+t;r.onload=function(){200===r.status?i(JSON.parse(r.response)):n(Error("Scores didn't load successfully; error code:"+r.statusText))},r.onerror=function(){n(Error("There was a network error."))},r.open("GET",o,!0),r.send()})},t.prototype.getRequest=function(){var t;return window.XDomainRequest&&this.crossdomain?(t=new window.XDomainRequest,t.timeout=3e3,t.onerror=function(){},t.ontimeout=function(){},t.onprogress=function(){}):window.XMLHttpRequest&&(t=new window.XMLHttpRequest),t},t.prototype.convertGameID=function(t){switch(t){case"candy":return 1;case"fire":return 2;case"ice":return 3;case"slime":return 4;default:throw new Error("invalid gameID : "+t)}},o(t,[{key:"config",get:function(){return this._config||(this._config=u.default.getJson("config").config),this._config}},{key:"numberOfScoresToLoad",get:function(){return this.config.LEADERBOARD_NB_ROWS}},{key:"url",get:function(){return this.config.SCORE_PATH}}]),t}();e.default=new c,t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,e.default={GRAVITY:.05*3*2,RANGE:144,DENSITY:2,PRESSURE:1,PRESSURE_NEAR:1,VISCOSITY:.1},t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=i(1),s=(r(a),i(18)),u=n(s),l=function(){function t(e){o(this,t),this.ticker=e||u.default.instance,this.delayedCalls=[]}return t.prototype.clear=function(){this.delayedCalls=[],this.ticker.remove(this.update,this),this.updating=!1},t.prototype.add=function(t,e,i){var n={func:t,args:i,tick:0,delay:e,delete:!1};return this.delayedCalls.push(n),this.updating||(this.ticker.add(this.update,this),this.updating=!0),this.delayedCalls.length-1},t.prototype.getRemainingTime=function(t){var e=this.delayedCalls[t];return e&&e.delay?60*e.delay-e.tick:0},t.prototype.update=function(){for(var t=0;t<this.delayedCalls.length;t++){var e=this.delayedCalls[t];e.tick++,e.tick>60*e.delay&&(e.func(e.args),e.delete=!0)}for(var t=0;t<this.delayedCalls.length;t++){var e=this.delayedCalls[t];e.delete&&(this.delayedCalls.splice(t,1),t--)}0===this.delayedCalls.length&&(this.ticker.remove(this.update,this),this.updating=!1)},t}();e.default=l,t.exports=e.default},function(t,e,i){var n;n=function(t,e,n){var r=i(1),o=(i(59),i(64)),a=function t(e){this.type=t.DYNAMIC,this.shape=e,e.type===r.SHAPES.RECT?this.boundingBox=e:this.boundingBox=new r.Rectangle(e.x-e.radius,e.y-e.radius,2*e.radius,2*e.radius),this.passthrough=!1,this.currentSurface=null,this.position=new r.Point,this.timeScale=1,this.velocity=new o,this.acceleration=new o,this.bounce=0,this.maxSpeed=50,this.maxSpeedY=10,this.gravity=0,this.friction=.9,this.sleeping=!1,this.solid=!0,this.active=!0,this.remainder=0,this.flip=1};a.prototype.setMaxSpeed=function(t){this.maxSpeed=this.maxSpeedY=t},a.prototype.update=function(t){if(this.active){var e=this.velocity;e.x+=this.acceleration.x*t,e.y+=this.acceleration.y*t,e.y*=this.friction,e.x*=this.friction,e.y+=this.gravity*this.timeScale;var i=e.length();i>0&&(e.x/=i,e.y/=i,i=Math.min(i,this.maxSpeed),e.x*=i,e.y*=i),this.position.x+=e.x*this.timeScale*t,this.position.y+=e.y*this.timeScale*t}},a.prototype.reset=function(){this.velocity.x=0,this.velocity.y=0,this.acceleration.x=0,this.acceleration.y=0,this.remainder=0,this.active=!0},a.prototype.getDebugView=function(t){var e=this.shape,t=t||colors[this.type];return e.type===r.SHAPES.RECT?(new r.Graphics).beginFill(t).drawRect(e.x,e.y,e.width,e.height):(new r.Graphics).beginFill(t).drawCircle(e.x,e.y,e.radius)},a.fromRect=function(t,e,i,n){return new a(new r.Rectangle(t,e,i,n))},a.fromCircle=function(t,e,i){return new a(new r.Circle(t,e,i))},a.STATIC=0,a.KINIMATIC=1,a.DYNAMIC=2,a.NONE=3,colors=[4602488,16776960,16711680,255],n.exports=a}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(1),u=r(s),l=i(3),h=n(l),c=i(18),f=n(c),d=i(16),p=n(d),y=i(75),v=n(y),m=i(109),g=n(m);u.DisplayObject.prototype.depthOffset=0;var _=function(){function t(){o(this,t),this.isGameOver=!1,this.counter=0,this.view=new u.Container,this.onScoreChange=new h.default,this.onLivesChange=new h.default,this.onGameOver=new h.default,this.createGame(),this.hud=this.factoryHud(),this.controls=this.factoryControls(this)}return t.prototype.createGame=function(){},t.prototype.reset=function(t){this.isGameOver=!1,this.hud.reset(),t=t||this.config,this.config=t,this.counter=0,this.score=0},t.prototype.softStart=function(){this.gameStarted=!1,f.default.game.add(this.update,this,1),this.startUpdate(),this.musicID&&v.default.play(this.musicID,!0)},t.prototype.startCountdown=function(){var t=this;this.hud.startCountdown?this.hud.startCountdown(function(){return t.start()}):this.start()},t.prototype.start=function(t){this.gameStarted=!0,this.startUpdate(),this.controls.enable()},t.prototype.update=function(){this.counter+=f.default.game.deltaTime},t.prototype.pause=function(){this.controls.disable(),this.stopUpdate()},t.prototype.resume=function(){this.gameStarted&&this.controls.enable(),this.startUpdate()},t.prototype.gameOver=function(t,e){var i=this;this.isGameOver||(this.isGameOver=!0,this.hud.showGameOver?(this.hud.showGameOver(function(){return i.onGameOver.dispatch(t,e)}),this.musicID&&v.default.stop(!0),p.default.sfx.play("game_over")):this.onGameOver.dispatch(t,e))},t.prototype.quit=function(){f.default.game.remove(this.update,this),this.stopUpdate()},t.prototype.factoryHud=function(){var t=new g.default(this);return t},t.prototype.factoryControls=function(){var t={enable:function(){},disable:function(){}};return t},t.prototype.startUpdate=function(){this.isUpdating||(this.isUpdating=!0,f.default.game.start())},t.prototype.stopUpdate=function(){this.isUpdating&&(this.isUpdating=!1,f.default.game.stop())},a(t,[{key:"score",set:function(t){t!==this._score&&(this._score=t,this.onScoreChange.dispatch(t))},get:function(){return this._score}},{key:"lives",set:function(t){t!==this._lives&&(this._lives=t,this.onLivesChange.dispatch(t))},get:function(){return this._lives}}]),t}();e.default=_,t.exports=e.default},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(1),u=n(s),l=function(t){function e(i,n,a){var s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;r(this,e);var u=o(this,t.call(this));return u.whackerArm=i,u.inDuration=n,u.outDuration=a,u.speed=s,u}return a(e,t),e.prototype.hit=function(){},e.prototype.contact=function(){this.whackerArm.withdraw()},e}(u.Container);e.default=l,t.exports=e.default},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");
}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(106),h=r(l),c=i(90),f=n(c),d=i(6),p=r(d),y=i(89),v=r(y),m=i(204),g=(r(m),i(411)),_=r(g),b=i(418),w=r(b),x=i(419),T=r(x),S=i(195),E=r(S),C=i(16),P=r(C),M=i(416),A=r(M),O=i(41),k=r(O),I=i(28),R=r(I),L=function(t){function e(){o(this,e);var i=a(this,t.call(this));return i.markerPoll=[],i}return s(e,t),e.prototype.createGame=function(){this.gameSize={width:1024,height:626},this.world=new f.World,this.camera=new v.default,this.world.install(new f.PixiView({camera:this.camera}),"view"),this.gameContainer=new PIXI.Container,this.view.addChild(this.world.view),this.topContainer=new PIXI.Container,this.topCloudsBackground=PIXI.Sprite.fromFrame("fire_bg_02.jpg"),this.topCloudsBackground.anchor.set(.5,0),this.world.add(new p.default(this.gameSize.width/2,-65,this.topCloudsBackground)),this.topBackground=PIXI.Sprite.fromFrame("fire_bg_01.png"),this.topBackground.anchor.set(.5,0),this.world.add(new p.default(this.gameSize.width/2,-65,this.topBackground)),this.topBackground.scale.set(1.25),this.topCloudsBackground.scale.set(1.25),this.gameContainer.addChild(this.topContainer),this.gamePlayHeight=.3*this.gameSize.height,this.gamePlayContainer2=new PIXI.Container,this.gamePlayContainer=new PIXI.Container,this.baseBackground=PIXI.Sprite.fromFrame("fire_cliff_platform.png"),this.baseBackground.scale.x=2,this.world.add(new p.default(-this.gameSize.width/2,.5*this.gameSize.height-120,this.baseBackground)),this.gameContainer.addChild(this.gamePlayContainer2),this.gameContainer.addChild(this.gamePlayContainer),this.gamePlayContainer.y=.53*this.gameSize.height,this.gamePlayContainer2.y=.53*this.gameSize.height,this.sceneManager=k.default.getObject(A.default),this.sceneManager.signals.onFireKingDefeat.add(this.onFireKingDefeated,this),this.sceneManager.game=this,this.world.add(this.sceneManager),this.visualTouchArea=PIXI.Sprite.fromFrame("fire_hit_area_01.png"),this.visualTouchArea.anchor.set(.5,0),this.gamePlayContainer2.addChild(this.visualTouchArea),this.middleLine=PIXI.Sprite.fromFrame("fire_note_bar.png"),this.middleLine.anchor.set(.5,0),this.visualTouchArea.x=.2*this.gameSize.width,this.middleLine.x=this.visualTouchArea.x,this.middleLine.y=-25,this.touchArea=PIXI.Sprite.fromFrame("fire_hit_area_02.png"),this.touchArea.anchor.set(.5,0),this.touchArea.alpha=0,this.gamePlayContainer2.addChild(this.touchArea),this.drawLines(),this.gamePlayContainer2.addChild(this.middleLine),this.touchArea.x=this.visualTouchArea.x-this.touchArea.width/2;var t=this.lines[this.lines.length-1].y-this.lines[0].y;this.touchArea.height=t,this.visualTouchArea.height=t,this.middleLine.height=t+50,this.touchArea.interactive=!0,this.touchArea.buttonMode=!0,this.touchArea.touchstart=this.touchArea.mousedown=function(t){this.tapMarkers(t)}.bind(this),this.gameContainer.interactive=!0,this.gameContainer.touchend=this.gameContainer.mouseup=function(t){this.releaseMarker(t)}.bind(this),this.gameContainer.touchmove=this.gameContainer.mousemove=function(t){this.moveCursor(t)}.bind(this),this.view.addChild(this.gameContainer),this.vignette=PIXI.Sprite.fromFrame("fire_vignette.png"),this.vignette.width=this.gameSize.width,this.vignette.height=this.gameSize.height,this.view.addChild(this.vignette),this.levelManager=new w.default(this),this.soundController=new T.default},e.prototype.drawLines=function(){this.lanes=4,this.lines=[],this.v_padding=0,this.lineDistance=0;for(var t=0;t<this.lanes+1;t++){var e=new PIXI.Container,i=PIXI.Sprite.fromFrame("fire_line.png");i.anchor.set(0,.5),e.addChild(i),e.y=this.v_padding+(this.gamePlayHeight-2*this.v_padding)/this.lanes*t,this.gamePlayContainer2.addChild(e),this.lines.push(e)}this.lineDistance=this.lines[3].y-this.lines[2].y},e.prototype.onQuarterBeat=function(){this.soundController.playProperQuarterSound()},e.prototype.onBeat=function(){this.waitNewPattern&&(this.levelManager.pickOnePattern(),this.ajustPositions=2,this.waitNewPattern=!1),this.levelManager.beatMarkers(),this.soundController.playProperSound(),this.visualTouchArea.alpha=.5,TweenLite.to(this.visualTouchArea,.9*this.beat,{alpha:.1})},e.prototype.updateBeat=function(t){this.bpmCounter+=t,this.timer+=t,this.bpmCounter>=this.beat/4&&(this.bpmCounter++,this.bpmCounter=0,this.beatAccum++,this.beatAccum>=4?(this.beatAccum=0,this.onBeat()):this.onQuarterBeat())},e.prototype.moveCursor=function(t){this.levelManager.currentMarkers&&this.levelManager.currentMarkers.length&&this.levelManager.currentMarkers[0].parent&&(this.currentPointerPosition=this.levelManager.currentMarkers[0].parent.toLocal(t.data.global))},e.prototype.reset=function(){t.prototype.reset.call(this),this.lifes=3,this.hud.onLivesChanged(this.lifes),this.hud.updateScore(0),this.soundController.reset(),this.bpm=this.soundController.bpm,this.beat=60/this.bpm,this.beatAccum=0,this.bpmCounter=0,this.timer=0,this.standardGameSpeed=.25*this.gameSize.width,this.standardGameSpeedMax=.35*this.gameSize.width,this.gameSpeed=this.standardGameSpeed,this.markerDistance=.4,this.gameDirection=-1,this.changeDirection(),this.waitPattern=1,this.score=0,this.tempScore=0,this.canUpdateResult=!1,this.ajustPositions=0,this.levelManager.removeAllMarkers(),this.gameStarted=!1,this.currentLevel=1},e.prototype.factoryHud=function(){return new _.default(this)},e.prototype.distance=function(t,e,i,n){return Math.sqrt((t-i)*(t-i)+(e-n)*(e-n))},e.prototype.releaseMarker=function(t){if(this.touching=!1,this.soundController.stopHoldSound(),this.levelManager.currentMarkers&&this.levelManager.currentMarkers.length){var e=this.levelManager.currentMarkers[0].parent.toLocal(t.data.global),i=this.levelManager.returnClosestMarker(e);if(i){var n=this.distance(i.x,0,this.middleLine.x+5,0);if(i&&n<75){var r=this.distance(i.x,0,this.middleLine.x+5,0);i.release(r,this.middleLine.x+5)}}}},e.prototype.tapMarkers=function(t){if(this.levelManager.currentMarkers&&this.levelManager.currentMarkers.length){this.touching=!0,this.currentPointerPosition=this.levelManager.currentMarkers[0].parent.toLocal(t.data.global);var e=this.levelManager.currentMarkers[0].parent.toLocal(t.data.global),i=this.levelManager.returnClosestMarker(e);if(i){var n=this.distance(i.x,0,this.middleLine.x+5,0);if(i&&n<75){var r=this.distance(i.x,0,this.middleLine.x+5,0);i.tapped(r,this.middleLine.x+5)}}}},e.prototype.updatePattern=function(t){this.levelManager.updatePattern(t)},e.prototype.resetResult=function(){this.canUpdateResult=!0,this.tempScore=0,this.hud.updatePatternBar(0),this.hud.updateTempScore(this.tempScore)},e.prototype.missRound=function(){P.default.sfx.play("fire_fail",.8),this.hud.popSprite("fail_skull.png"),this.beat=60/this.soundController.bpm,this.gameSpeed=this.standardGameSpeed,this.lifes--,this.hud.onLivesChanged(this.lifes),this.sceneManager.fireKingStartAttack(),this.lifes<=0&&(this.gameSpeed=0,this.waitPattern=999999,setTimeout(function(){this.gameOver("fire",this.score)}.bind(this),4e3))},e.prototype.winRound=function(){P.default.sfx.play("fire_success",.8),this.soundController.increaseLevel(),this.beat=60/this.soundController.bpm,this.hud.popLabel("+"+this.tempScore),this.score+=this.tempScore,this.hud.updateScore(this.score,2),this.sceneManager.finnStartAttack(),this.gameSpeed*=1.1,this.gameSpeed>this.standardGameSpeedMax&&(this.gameSpeed=this.standardGameSpeedMax),1===this.sceneManager.fireKingHealth.health&&(this.waitPattern=1/0)},e.prototype.onFireKingDefeated=function(){var t=this;this.currentLevel++,this.sceneManager.fireKingHealth.reset(),this.hud.showMessage(translations.LEVEL+" "+this.currentLevel,function(){t.waitPattern=.1})},e.prototype.updateResult=function(){if(this.canUpdateResult){this.canUpdateResult=!1;var t=1-this.patternBarValue/this.maxPatternBarValue;t<e.gameConf.good?this.missRound():this.winRound()}},e.prototype.missMarker=function(t,e){this.soundController.playGlitch()},e.prototype.addHoldPoints=function(){this.score++,this.hud.updateScoreHard(this.score,2)},e.prototype.updateHitPoints=function(t,e){t<1&&this.soundController.playGlitch(1-t),"hold"==e.type?(this.soundController.addSoundHold(e.getSoundLabel(),t),this.soundController.addSound(e.getSoundLabel(!1,!0),t),this.soundController.playQueuedSound()):this.soundController.addSound(e.getSoundLabel(),t),this.patternBarValue-=t,this.tempScore+=100*t,this.hud.updateTempScore(this.tempScore),this.hud.updatePatternBar(1-this.patternBarValue/this.maxPatternBarValue),this.sceneManager.zoom(1-this.patternBarValue/this.maxPatternBarValue)},e.prototype.removeMarker=function(t){this.levelManager.removeMarker(t)},e.prototype.start=function(){this.gameStarted=!0,this.waitPattern=.1},e.prototype.changeDirection=function(){this.visualTouchArea.x=this.gameDirection<0?.2*this.gameSize.width:.8*this.gameSize.width,this.touchArea.x=this.visualTouchArea.x},e.prototype.update=function(e){e/=60,this.updateBeat(e),t.prototype.update.call(this),R.default.update(),this.world.update(),this.camera.update(),this.hud.update(),this.gameStarted&&(this.levelManager.currentMarkers&&this.levelManager.currentMarkers.length?this.updatePattern(e):this.waitPattern<=0?this.waitNewPattern=!0:(this.updateResult(),this.waitPattern-=e))},e.prototype.onActionPressed=function(){},e.prototype.factoryControls=function(){return new E.default},e.prototype.resize=function(t,e){this.w=t,this.h=e,this.hud.resize(t,e);var i=this.w/this.gameSize.width;this.gameContainer.scale.set(i),this.gameContainer.pivot.set(this.gameSize.width/2,this.gameSize.height/2),this.gameContainer.position.set(this.w/2,this.h/2),this.camera.resize(t,e),this.camera.x=t/2,this.camera.y=e/2,this.vignette.width=t,this.vignette.height=e},u(e,null,[{key:"gameConf",get:function(){return{perfect:1,great:.85,good:.7}}}]),e}(h.default);e.default=L,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(3),c=(n(h),i(420)),f=n(c),d=i(421),p=n(d),y=i(422),v=n(y),m=i(205),g=n(m),_=i(17),b=n(_),w=i(21),x=function(t){function e(i){o(this,e);var n=a(this,t.call(this));return n.game=i,i.onScoreChange.add(n.onScoreChanged,n),i.onLivesChange.add(n.onLivesChanged,n),n.view=n,n.countdownDisplay=new f.default,n.gameOverDisplay=new p.default,n.messageDisplay=new v.default,n.livesDisplay=new g.default(3),n.livesDisplay.view.position.set(50,60),n.livesDisplay.view.scale.set(.5),n.view.addChild(n.livesDisplay.view),n.scoreText=b.default.getHudText("0"),n.scoreText.anchor.set(.5),n.scoreText.position.set(75,50),n.view.addChild(n.scoreText),n}return s(e,t),e.prototype.reset=function(){this.view.removeChild(this.countdownDisplay.view),this.view.removeChild(this.gameOverDisplay.view),this.view.removeChild(this.messageDisplay.view)},e.prototype.onScoreChanged=function(t){this.scoreText.text=t.toString()},e.prototype.updateScore=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.75;this.scoreTween&&this.scoreTween.kill();var i={value:parseInt(this.scoreText.text),label:this.scoreText};this.scoreTween=w.TweenLite.to(i,e,{value:t,onUpdate:function(t){t.label.text=Math.ceil(t.value).toString()},onUpdateParams:[i]})},e.prototype.onLivesChanged=function(t){this.livesDisplay.lives=t},e.prototype.startCountdown=function(t){this.view.addChild(this.countdownDisplay.view),this.countdownDisplay.start(t)},e.prototype.showGameOver=function(t){this.view.addChild(this.gameOverDisplay.view),this.gameOverDisplay.start(t)},e.prototype.showMessage=function(t,e){this.view.addChild(this.messageDisplay.view),this.messageDisplay.start(t,e)},e.prototype.onGameOverComplete=function(){this.game.onGameOver.dispatch()},e.prototype.resize=function(t,e){this.livesDisplay.view.position.set(t/2,50),this.countdownDisplay.view.position.set(t/2,e/2),this.gameOverDisplay.view.position.set(t/2,e/2),this.messageDisplay.view.position.set(t/2,e/2)},e}(l.Container);e.default=x,t.exports=e.default},function(t,e,i){var n=i(35),r=i(25),o=i(72);t.exports=function(t){return function(e,i,a){var s,u=n(e),l=r(u.length),h=o(a,l);if(t&&i!=i){for(;l>h;)if(s=u[h++],s!=s)return!0}else for(;l>h;h++)if((t||h in u)&&u[h]===i)return t||h||0;return!t&&-1}}},function(t,e,i){"use strict";var n=i(7),r=i(2),o=i(33),a=i(70),s=i(55),u=i(80),l=i(65),h=i(12),c=i(10),f=i(116),d=i(82),p=i(148);t.exports=function(t,e,i,y,v,m){var g=n[t],_=g,b=v?"set":"add",w=_&&_.prototype,x={},T=function(t){var e=w[t];o(w,t,"delete"==t?function(t){return!(m&&!h(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(m&&!h(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return m&&!h(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,i){return e.call(this,0===t?0:t,i),this})};if("function"==typeof _&&(m||w.forEach&&!c(function(){(new _).entries().next()}))){var S=new _,E=S[b](m?{}:-0,1)!=S,C=c(function(){S.has(1)}),P=f(function(t){new _(t)}),M=!m&&c(function(){for(var t=new _,e=5;e--;)t[b](e,e);return!t.has(-0)});P||(_=e(function(e,i){l(e,_,t);var n=p(new g,e,_);return void 0!=i&&u(i,v,n[b],n),n}),_.prototype=w,w.constructor=_),(C||M)&&(T("delete"),T("has"),v&&T("get")),(M||E)&&T(b),m&&w.clear&&delete w.clear}else _=y.getConstructor(e,t,v,b),a(_.prototype,i),s.NEED=!0;return d(_,t),x[t]=_,r(r.G+r.W+r.F*(_!=g),x),m||y.setStrong(_,t,v),_}},function(t,e,i){"use strict";var n=i(32),r=i(33),o=i(10),a=i(44),s=i(15);t.exports=function(t,e,i){var u=s(t),l=i(a,u,""[t]),h=l[0],c=l[1];o(function(){var e={};return e[u]=function(){return 7},7!=""[t](e)})&&(r(String.prototype,t,h),n(RegExp.prototype,u,2==e?function(t,e){return c.call(t,this,e)}:function(t){return c.call(t,this)}))}},function(t,e,i){"use strict";var n=i(4);t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},function(t,e){t.exports=function(t,e,i){var n=void 0===i;switch(e.length){case 0:return n?t():t.call(i);case 1:return n?t(e[0]):t.call(i,e[0]);case 2:return n?t(e[0],e[1]):t.call(i,e[0],e[1]);case 3:return n?t(e[0],e[1],e[2]):t.call(i,e[0],e[1],e[2]);case 4:return n?t(e[0],e[1],e[2],e[3]):t.call(i,e[0],e[1],e[2],e[3])}return t.apply(i,e)}},function(t,e,i){var n=i(12),r=i(43),o=i(15)("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},function(t,e,i){var n=i(15)("iterator"),r=!1;try{var o=[7][n]();o.return=function(){r=!0},Array.from(o,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!r)return!1;var i=!1;try{var o=[7],a=o[n]();a.next=function(){return{done:i=!0}},o[n]=function(){return a},t(o)}catch(t){}return i}},function(t,e,i){t.exports=i(66)||!i(10)(function(){var t=Math.random();__defineSetter__.call(null,t,function(){}),delete i(7)[t]})},function(t,e){e.f=Object.getOwnPropertySymbols},function(t,e,i){var n=i(7),r="__core-js_shared__",o=n[r]||(n[r]={});t.exports=function(t){return o[t]||(o[t]={})}},function(t,e,i){for(var n,r=i(7),o=i(32),a=i(73),s=a("typed_array"),u=a("view"),l=!(!r.ArrayBuffer||!r.DataView),h=l,c=0,f=9,d="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");c<f;)(n=r[d[c++]])?(o(n.prototype,s,!0),o(n.prototype,u,!0)):h=!1;t.exports={ABV:l,CONSTR:h,TYPED:s,VIEW:u}},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e){i(this,t),this.id=e||"com.goodboydigital",this.canSave=!1;try{localStorage.setItem(this.id+".access",!0),localStorage.removeItem(this.id+".access",!0),this.canSave=!0}catch(t){}}return n(t,[{key:"store",value:function(t,e){this.canSave&&localStorage.setItem(this.id+"."+t,e)}},{key:"get",value:function(t){if(this.canSave)return localStorage.getItem(this.id+"."+t)}},{key:"storeObject",value:function(t,e){this.canSave&&localStorage.setItem(this.id+"."+t,JSON.stringify(e))}},{key:"getObject",value:function(t){if(this.canSave)return JSON.parse(localStorage.getItem(this.id+"."+t))}},{key:"remove",value:function(t){this.canSave&&localStorage.removeItem(this.id+"."+t)}},{key:"reset",value:function(){if(this.canSave)for(var t in localStorage)t.indexOf(this.id+".")!==-1&&localStorage.removeItem(t)}}]),t}();e.default=r,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(169),s=n(a),u=i(678),l=n(u),h=i(11),c=n(h),f=i(3),d=n(f),p=function(){function t(e){r(this,t),this.spring=new s.default,this.onScrollUpdate=new d.default;var i=e.scrollbarClass||l.default;this.target=e.target,this.value=0,this.easingValue=0,this.dragOffset=0,this.dragging=!1,this.speed=0,this.size=1024,this.maxSlots=1,this.capMovement=!0,this.prevPosition=0,this.valueY=0,this.easingValueY=0,this.dragOffsetY=0,this.speedY=0,this.prevPositionY=0,this.didMove=!1,this.didMoveY=!1,this.target.interactive=!0,this.scrollMin=-(1/0),this.scrollMax=0,this.scrollMinY=-(1/0),this.scrollMaxY=0,this.snapTo=!1,e.scrollbar===!0&&c.default.instance.mobile===!1&&c.default.instance.iPad===!1&&(this.scrollBar=new i({target:e.scrollTarget,trackpad:this})),this._onDownBinded=this.onDown.bind(this),this._onUpBinded=this.onUp.bind(this),this._onMoveBinded=this.onMove.bind(this),this.target.on("touchstart",this._onDownBinded).on("mousedown",this._onDownBinded)}return o(t,[{key:"unlock",value:function(){this.locked=!1,this.speed=0,this.easingValue=this.value,this.easingValueY=this.valueY,this.speedY=0,this.speedX=0,window.onmousewheel=this.onMouseWheel.bind(this)}},{key:"lock",value:function(){this.locked=!0,window.onmousewheel=null}},{key:"update",value:function(){if(this.value+=.3*(this.easingValue-this.value),this.valueY+=.3*(this.easingValueY-this.valueY),!this.locked)if(this.dragging){var t=this.easingValue-this.prevPosition;t*=.7,this.speed+=.5*(t-this.speed),this.prevPosition=this.easingValue;var e=this.easingValueY-this.prevPositionY;e*=.7,this.speedY+=.5*(e-this.speedY),this.prevPositionY=this.easingValueY}else this.snapTo?(this.spring.update(),this.easingValue=this.spring.x,this.easingValueY=this.spring.y,this.capMovement&&(this.easingValue>this.scrollMax?this.easingValue+=.3*(this.scrollMax-this.easingValue):this.easingValue<this.scrollMin&&(this.easingValue+=.3*(this.scrollMin-this.easingValue)),this.easingValueY>this.scrollMaxY?this.easingValueY+=.3*(this.scrollMaxY-this.easingValueY):this.easingValueY<this.scrollMinY&&(this.easingValueY+=.3*(this.scrollMinY-this.easingValueY)))):(this.speed*=.95,this.easingValue+=this.speed,this.speedY*=.95,this.easingValueY+=this.speedY,this.capMovement&&(this.easingValue>this.scrollMax?this.easingValue+=.3*(this.scrollMax-this.easingValue):this.easingValue<this.scrollMin&&(this.easingValue+=.3*(this.scrollMin-this.easingValue)),this.easingValueY>this.scrollMaxY?this.easingValueY+=.3*(this.scrollMaxY-this.easingValueY):this.easingValueY<this.scrollMinY&&(this.easingValueY+=.3*(this.scrollMinY-this.easingValueY))))}},{key:"stop",value:function(){this.speed=0,this.speedY=0,this.value=this.prevPosition=this.easingValue,this.valueY=this.prevPositionY=this.easingValueY}},{key:"setPosition",value:function(t,e){this.value=this.easingValue=t,this.valueY=this.easingValueY=e}},{key:"easeToPosition",value:function(t,e){this.easingValue=t,this.easingValueY=e}},{key:"onDown",value:function(t){this.locked||(this.speed=0,this.speedY=0,this.stop(),this.didMove=!1,this.didMoveY=!1,this.checkX=t.data.global.x,this.checkY=t.data.global.y,this.dragging=!0,this.dragOffset=t.data.global.x-this.value,this.dragOffsetY=t.data.global.y-this.valueY,this.target.on("touchend",this._onUpBinded).on("touchendoutside",this._onUpBinded).on("mouseup",this._onUpBinded).on("mouseupoutside",this._onUpBinded).on("touchmove",this._onMoveBinded).on("mousemove",this._onMoveBinded))}},{key:"onMouseWheel",value:function(t){this.target.interactive&&(t.preventDefault?t.preventDefault():t.returnValue=!1,this.locked||(this.speed=.15*t.wheelDeltaX,this.speedY=.15*t.wheelDeltaY))}},{key:"onUp",value:function(){if(!this.locked){if(this.dragging=!1,this.snapTo){if(this.didMove){this.spring.dx=this.speed;var t;t=this.speed<0?Math.floor(this.easingValue/this.size):Math.ceil(this.easingValue/this.size),this.capMovement&&(t>0?t=0:t<-this.maxSlots&&(t=-this.maxSlots)),this.spring.tx=t*this.size,this.spring.dy=this.speedY,t=this.speedY<0?Math.floor(this.easingValueY/this.size):Math.ceil(this.easingValueY/this.size),this.capMovement&&(t>0?t=0:t<-this.maxSlots&&(t=-this.maxSlots)),this.spring.ty=t*this.size}this.spring.x=this.easingValue,this.spring.y=this.easingValueY}this.cap(),this.target.off("touchend",this._onUpBinded).off("touchendoutside",this._onUpBinded).off("mouseup",this._onUpBinded).off("mouseupoutside",this._onUpBinded).off("touchmove",this._onMoveBinded).off("mousemove",this._onMoveBinded)}}},{key:"cap",value:function(){this.capMovement&&(this.snapTo&&(this.spring.tx>this.scrollMax?this.spring.tx=this.scrollMax:this.spring.tx<this.scrollMin&&(this.spring.tx=this.scrollMin)),this.snapTo&&(this.spring.ty>this.scrollMaxY?this.spring.ty=this.scrollMaxY:this.spring.ty<this.scrollMinY&&(this.spring.ty=this.scrollMinY)))}},{key:"setSlot",value:function(t,e){this.spring.tx=t*-this.size,e&&(this.value=this.easingValue=this.spring.x=this.spring.tx),this.cap()}},{key:"setSlotY",value:function(t){this.spring.ty=t*-this.size,this.cap()}},{key:"nextSlot",value:function(){this.spring.tx-=this.size,this.spring.tx<-(this.maxSlots*this.size)&&(this.spring.tx=-(this.maxSlots*this.size)),this.cap()}},{key:"nextSlotY",value:function(){this.spring.ty-=this.size,this.spring.ty<-(this.maxSlots*this.size)&&(this.spring.ty=-(this.maxSlots*this.size)),this.cap()}},{key:"previousSlot",value:function(){this.spring.tx+=this.size,this.cap()}},{key:"previousSlotY",value:function(){this.spring.ty+=this.size,this.cap()}},{key:"setSize",value:function(t){this.size=t,this.scrollbar&&this.scrollBar.setSize(t)}},{key:"setSlots",value:function(t){this.maxSlots=t-1}},{key:"onMove",value:function(t){if(!this.locked){var e;e=Math.abs(this.checkX-t.data.global.x),e>10&&(this.didMove=!0),e=Math.abs(this.checkY-t.data.global.y),e>10&&(this.didMove=!0),this.easingValue=t.data.global.x-this.dragOffset,this.easingValueY=t.data.global.y-this.dragOffsetY,this.capMovement&&(this.easingValue>this.scrollMax?this.easingValue=this.scrollMax+.3*(this.easingValue-this.scrollMax):this.easingValue<this.scrollMin&&(this.easingValue=this.scrollMin+.3*(this.easingValue-this.scrollMin)),this.easingValueY>this.scrollMaxY?this.easingValueY=this.scrollMaxY+.3*(this.easingValueY-this.scrollMaxY):this.easingValueY<this.scrollMinY&&(this.easingValueY=this.scrollMinY+.3*(this.easingValueY-this.scrollMinY)))}}}]),t}();e.default=p,t.exports=e.default},function(t,e,i){function n(t){this.lowerBound=r.create(),t&&t.lowerBound&&r.copy(this.lowerBound,t.lowerBound),this.upperBound=r.create(),t&&t.upperBound&&r.copy(this.upperBound,t.upperBound)}var r=i(5);i(22);t.exports=n;var o=r.create();n.prototype.setFromPoints=function(t,e,i,n){var a=this.lowerBound,s=this.upperBound;"number"!=typeof i&&(i=0),0!==i?r.rotate(a,t[0],i):r.copy(a,t[0]),r.copy(s,a);for(var u=Math.cos(i),l=Math.sin(i),h=1;h<t.length;h++){var c=t[h];if(0!==i){var f=c[0],d=c[1];o[0]=u*f-l*d,o[1]=l*f+u*d,c=o}for(var p=0;p<2;p++)c[p]>s[p]&&(s[p]=c[p]),c[p]<a[p]&&(a[p]=c[p])}e&&(r.add(this.lowerBound,this.lowerBound,e),r.add(this.upperBound,this.upperBound,e)),n&&(this.lowerBound[0]-=n,this.lowerBound[1]-=n,this.upperBound[0]+=n,this.upperBound[1]+=n)},n.prototype.copy=function(t){r.copy(this.lowerBound,t.lowerBound),r.copy(this.upperBound,t.upperBound)},n.prototype.extend=function(t){for(var e=2;e--;){var i=t.lowerBound[e];this.lowerBound[e]>i&&(this.lowerBound[e]=i);var n=t.upperBound[e];this.upperBound[e]<n&&(this.upperBound[e]=n)}},n.prototype.overlaps=function(t){var e=this.lowerBound,i=this.upperBound,n=t.lowerBound,r=t.upperBound;return(n[0]<=i[0]&&i[0]<=r[0]||e[0]<=r[0]&&r[0]<=i[0])&&(n[1]<=i[1]&&i[1]<=r[1]||e[1]<=r[1]&&r[1]<=i[1])},n.prototype.containsPoint=function(t){var e=this.lowerBound,i=this.upperBound;return e[0]<=t[0]&&t[0]<=i[0]&&e[1]<=t[1]&&t[1]<=i[1]},n.prototype.overlapsRay=function(t){var e=1/t.direction[0],i=1/t.direction[1],n=(this.lowerBound[0]-t.from[0])*e,r=(this.upperBound[0]-t.from[0])*e,o=(this.lowerBound[1]-t.from[1])*i,a=(this.upperBound[1]-t.from[1])*i,s=Math.max(Math.max(Math.min(n,r),Math.min(o,a))),u=Math.min(Math.min(Math.max(n,r),Math.max(o,a)));return u<0?-1:s>u?-1:s}},function(t,e,i){function n(t){this.type=t,this.result=[],this.world=null,this.boundingVolumeType=n.AABB}var r=i(5),o=i(61);t.exports=n,n.AABB=1,n.BOUNDING_CIRCLE=2,n.prototype.setWorld=function(t){this.world=t},n.prototype.getCollisionPairs=function(t){};var a=r.create();n.boundingRadiusCheck=function(t,e){r.sub(a,t.position,e.position);var i=r.squaredLength(a),n=t.boundingRadius+e.boundingRadius;return i<=n*n},n.aabbCheck=function(t,e){return t.getAABB().overlaps(e.getAABB())},n.prototype.boundingVolumeCheck=function(t,e){var i;switch(this.boundingVolumeType){case n.BOUNDING_CIRCLE:i=n.boundingRadiusCheck(t,e);break;case n.AABB:i=n.aabbCheck(t,e);break;default:throw new Error("Bounding volume type not recognized: "+this.boundingVolumeType)}return i},n.canCollide=function(t,e){var i=o.KINEMATIC,n=o.STATIC;return(t.type!==n||e.type!==n)&&(!(t.type===i&&e.type===n||t.type===n&&e.type===i)&&((t.type!==i||e.type!==i)&&((t.sleepState!==o.SLEEPING||e.sleepState!==o.SLEEPING)&&!(t.sleepState===o.SLEEPING&&e.type===n||e.sleepState===o.SLEEPING&&t.type===n))))},n.NAIVE=1,n.SAP=2},function(t,e,i){function n(t){t=t||{},this.from=t.from?o.fromValues(t.from[0],t.from[1]):o.create(),this.to=t.to?o.fromValues(t.to[0],t.to[1]):o.create(),this.checkCollisionResponse=void 0===t.checkCollisionResponse||t.checkCollisionResponse,this.skipBackfaces=!!t.skipBackfaces,this.collisionMask=void 0!==t.collisionMask?t.collisionMask:-1,this.collisionGroup=void 0!==t.collisionGroup?t.collisionGroup:-1,this.mode=void 0!==t.mode?t.mode:n.ANY,this.callback=t.callback||function(t){},this.direction=o.create(),this.length=1,this.update()}function r(t,e,i){o.sub(s,i,t);var n=o.dot(s,e);return o.scale(u,e,n),o.add(u,u,t),o.squaredDistance(i,u)}t.exports=n;var o=i(5);i(173),i(37),i(123);n.prototype.constructor=n,n.CLOSEST=1,n.ANY=2,n.ALL=4,n.prototype.update=function(){var t=this.direction;o.sub(t,this.to,this.from),this.length=o.length(t),o.normalize(t,t)},n.prototype.intersectBodies=function(t,e){for(var i=0,n=e.length;!t.shouldStop(this)&&i<n;i++){var r=e[i],o=r.getAABB();(o.overlapsRay(this)>=0||o.containsPoint(this.from))&&this.intersectBody(t,r)}};var a=o.create();n.prototype.intersectBody=function(t,e){var i=this.checkCollisionResponse;if(!i||e.collisionResponse)for(var n=a,r=0,s=e.shapes.length;r<s;r++){var u=e.shapes[r];if((!i||u.collisionResponse)&&0!==(this.collisionGroup&u.collisionMask)&&0!==(u.collisionGroup&this.collisionMask)){o.rotate(n,u.position,e.angle),o.add(n,n,e.position);var l=u.angle+e.angle;if(this.intersectShape(t,u,l,n,e),t.shouldStop(this))break}}},n.prototype.intersectShape=function(t,e,i,n,o){var a=this.from,s=r(a,this.direction,n);s>e.boundingRadius*e.boundingRadius||(this._currentBody=o,this._currentShape=e,e.raycast(t,this,n,i),this._currentBody=this._currentShape=null)},n.prototype.getAABB=function(t){var e=this.to,i=this.from;o.set(t.lowerBound,Math.min(e[0],i[0]),Math.min(e[1],i[1])),o.set(t.upperBound,Math.max(e[0],i[0]),Math.max(e[1],i[1]))};o.create();n.prototype.reportIntersection=function(t,e,i,r){var a=(this.from,this.to,this._currentShape),s=this._currentBody;if(!(this.skipBackfaces&&o.dot(i,this.direction)>0))switch(this.mode){case n.ALL:t.set(i,a,s,e,r),this.callback(t);break;case n.CLOSEST:(e<t.fraction||!t.hasHit())&&t.set(i,a,s,e,r);break;case n.ANY:t.set(i,a,s,e,r)}};var s=o.create(),u=o.create()},function(t,e,i){function n(t,e){r.call(this,t,e,0,Number.MAX_VALUE),this.contactPointA=o.create(),this.penetrationVec=o.create(),this.contactPointB=o.create(),this.normalA=o.create(),this.restitution=0,this.firstImpact=!1,this.shapeA=null,this.shapeB=null}var r=i(36),o=i(5);t.exports=n,n.prototype=new r,n.prototype.constructor=n,n.prototype.computeB=function(t,e,i){var n=this.bodyA,r=this.bodyB,a=this.contactPointA,s=this.contactPointB,u=n.position,l=r.position,h=this.penetrationVec,c=this.normalA,f=this.G,d=o.crossLength(a,c),p=o.crossLength(s,c);f[0]=-c[0],f[1]=-c[1],f[2]=-d,f[3]=c[0],f[4]=c[1],f[5]=p,o.add(h,l,s),o.sub(h,h,u),o.sub(h,h,a);var y,v;this.firstImpact&&0!==this.restitution?(v=0,y=1/e*(1+this.restitution)*this.computeGW()):(v=o.dot(c,h)+this.offset,y=this.computeGW());var m=this.computeGiMf(),g=-v*t-y*e-i*m;return g};var a=o.create(),s=o.create(),u=o.create();n.prototype.getVelocityAlongNormal=function(){return this.bodyA.getVelocityAtPoint(a,this.contactPointA),this.bodyB.getVelocityAtPoint(s,this.contactPointB),o.subtract(u,a,s),o.dot(this.normalA,u)}},function(t,e){var i=function(){};t.exports=i,i.prototype={constructor:i,on:function(t,e,i){e.context=i||this,void 0===this._listeners&&(this._listeners={});var n=this._listeners;return void 0===n[t]&&(n[t]=[]),n[t].indexOf(e)===-1&&n[t].push(e),this},has:function(t,e){if(void 0===this._listeners)return!1;var i=this._listeners;if(e){if(void 0!==i[t]&&i[t].indexOf(e)!==-1)return!0}else if(void 0!==i[t])return!0;return!1},off:function(t,e){if(void 0===this._listeners)return this;var i=this._listeners,n=i[t].indexOf(e);return n!==-1&&i[t].splice(n,1),this},emit:function(t){if(void 0===this._listeners)return this;var e=this._listeners,i=e[t.type];if(void 0!==i){t.target=this;for(var n=0,r=i.length;n<r;n++){var o=i[n];o.call(o.context,t)}}return this}}},function(t,e,i){function n(t){"number"==typeof arguments[0]&&(t={radius:arguments[0]}),t=t||{},this.radius=t.radius||1,t.type=r.CIRCLE,r.call(this,t)}var r=i(37),o=i(5);t.exports=n,n.prototype=new r,n.prototype.constructor=n,n.prototype.computeMomentOfInertia=function(t){var e=this.radius;
return t*e*e/2},n.prototype.updateBoundingRadius=function(){this.boundingRadius=this.radius},n.prototype.updateArea=function(){this.area=Math.PI*this.radius*this.radius},n.prototype.computeAABB=function(t,e,i){var n=this.radius;o.set(t.upperBound,n,n),o.set(t.lowerBound,-n,-n),e&&(o.add(t.lowerBound,t.lowerBound,e),o.add(t.upperBound,t.upperBound,e))};var a=o.create(),s=o.create();n.prototype.raycast=function(t,e,i,n){var r=e.from,u=e.to,l=this.radius,h=Math.pow(u[0]-r[0],2)+Math.pow(u[1]-r[1],2),c=2*((u[0]-r[0])*(r[0]-i[0])+(u[1]-r[1])*(r[1]-i[1])),f=Math.pow(r[0]-i[0],2)+Math.pow(r[1]-i[1],2)-Math.pow(l,2),d=Math.pow(c,2)-4*h*f,p=a,y=s;if(!(d<0))if(0===d)o.lerp(p,r,u,d),o.sub(y,p,i),o.normalize(y,y),e.reportIntersection(t,d,y,-1);else{var v=Math.sqrt(d),m=1/(2*h),g=(-c-v)*m,_=(-c+v)*m;if(g>=0&&g<=1&&(o.lerp(p,r,u,g),o.sub(y,p,i),o.normalize(y,y),e.reportIntersection(t,g,y,-1),t.shouldStop(e)))return;_>=0&&_<=1&&(o.lerp(p,r,u,_),o.sub(y,p,i),o.normalize(y,y),e.reportIntersection(t,_,y,-1))}}},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n=null,r=function(){function t(){i(this,t)}return t.hexToUint=function(t){return t=t.substr(1),3===t.length&&(t=t.replace(/([a-f0-9])/g,"$1$1")),parseInt(t,16)},t.fillFrames=function(t,e,i){var n=t.length;if(n<e+i&&(t.length=e+i,n<e))if(t.fill)t.fill(!1,n,e);else for(var r=n;r<e;++r)t[r]=!1;if(t.fill)t.fill(!0,e,e+i);else for(var o=t.length,a=e;a<o;++a)t[a]=!0},t.deserializeKeyframes=function(t){for(var e={},i=0,n={X:"x",Y:"y",A:"sx",B:"sy",C:"kx",D:"ky",R:"r",L:"a",T:"t",F:"c",V:"v"},r=void 0,o="",a=!1,s=void 0,u={};i<=t.length;)r=t[i],n[r]?(a||(a=!0,e[o]=u),s&&(u[s]=this.parseValue(s,o)),s=n[r],o="",i++):r&&" "!==r?(o+=r,i++):(i++,u[s]=this.parseValue(s,o),o="",s=null,u={},a=!1);return e},t.deserializeShapes=function(t){for(var e=[],i=t.split("\n"),n=/^[a-z]{1,2}$/,r=0;r<i.length;r++){for(var o=i[r].split(" "),a=0;a<o.length;a++){var s=o[a];"#"===s[0]||n.test(s)||(o[a]=parseFloat(s))}e.push(o)}return e},t.parseValue=function(t,e){switch(t){case"c":return e=e.split(","),e.forEach(function(t,e,i){i[e]=parseFloat(t)}),e;case"t":return e;case"v":return!!parseInt(e);default:return parseFloat(e)}},t.upload=function(t,e,i){n||(n=t.plugins.prepare,n.register(this.addMovieClips)),n.upload(e,i)},t.addMovieClips=function(t){return t instanceof PIXI.animate.MovieClip&&(t._timedChildTimelines.forEach(function(e){var i=t.children.indexOf(e.target);i===-1&&n.add(e.target)}),!0)},t}();e.default=r},function(t,e,i){"use strict";function n(t,e){var i=t.points;if(0!==i.length){var n=new o.Point(i[0],i[1]),r=new o.Point(i[i.length-2],i[i.length-1]);if(n.x===r.x&&n.y===r.y){i=i.slice(),i.pop(),i.pop(),r=new o.Point(i[i.length-2],i[i.length-1]);var s=r.x+.5*(n.x-r.x),u=r.y+.5*(n.y-r.y);i.unshift(s,u),i.push(s,u)}var l=e.points,h=e.indices,c=i.length/2,f=i.length,d=l.length/6,p=t.lineWidth/2,y=(0,a.hex2rgb)(t.lineColor),v=t.lineAlpha,m=y[0]*v,g=y[1]*v,_=y[2]*v,b=i[0],w=i[1],x=i[2],T=i[3],S=0,E=0,C=-(w-T),P=b-x,M=0,A=0,O=0,k=0,I=Math.sqrt(C*C+P*P);C/=I,P/=I,C*=p,P*=p,l.push(b-C,w-P,m,g,_,v),l.push(b+C,w+P,m,g,_,v);for(var R=1;R<c-1;++R){b=i[2*(R-1)],w=i[2*(R-1)+1],x=i[2*R],T=i[2*R+1],S=i[2*(R+1)],E=i[2*(R+1)+1],C=-(w-T),P=b-x,I=Math.sqrt(C*C+P*P),C/=I,P/=I,C*=p,P*=p,M=-(T-E),A=x-S,I=Math.sqrt(M*M+A*A),M/=I,A/=I,M*=p,A*=p;var L=-P+w-(-P+T),B=-C+x-(-C+b),D=(-C+b)*(-P+T)-(-C+x)*(-P+w),F=-A+E-(-A+T),j=-M+x-(-M+S),N=(-M+S)*(-A+T)-(-M+x)*(-A+E),X=L*j-F*B;if(Math.abs(X)<.1)X+=10.1,l.push(x-C,T-P,m,g,_,v),l.push(x+C,T+P,m,g,_,v);else{var U=(B*N-j*D)/X,G=(F*D-L*N)/X,Y=(U-x)*(U-x)+(G-T)*(G-T);Y>196*p*p?(O=C-M,k=P-A,I=Math.sqrt(O*O+k*k),O/=I,k/=I,O*=p,k*=p,l.push(x-O,T-k),l.push(m,g,_,v),l.push(x+O,T+k),l.push(m,g,_,v),l.push(x-O,T-k),l.push(m,g,_,v),f++):(l.push(U,G),l.push(m,g,_,v),l.push(x-(U-x),T-(G-T)),l.push(m,g,_,v))}}b=i[2*(c-2)],w=i[2*(c-2)+1],x=i[2*(c-1)],T=i[2*(c-1)+1],C=-(w-T),P=b-x,I=Math.sqrt(C*C+P*P),C/=I,P/=I,C*=p,P*=p,l.push(x-C,T-P),l.push(m,g,_,v),l.push(x+C,T+P),l.push(m,g,_,v),h.push(d);for(var z=0;z<f;++z)h.push(d++);h.push(d-1)}}function r(t,e){var i=0,n=t.points;if(0!==n.length){var r=e.points,o=n.length/2,s=(0,a.hex2rgb)(t.lineColor),u=t.lineAlpha,l=s[0]*u,h=s[1]*u,c=s[2]*u;for(i=1;i<o;i++){var f=n[2*(i-1)],d=n[2*(i-1)+1],p=n[2*i],y=n[2*i+1];r.push(f,d),r.push(l,h,c,u),r.push(p,y),r.push(l,h,c,u)}}}e.__esModule=!0,e.default=function(t,e,i){t.nativeLines?r(t,i):n(t,e)};var o=i(26),a=i(13)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(290),u=n(s),l=i(737),h=n(l),c=i(738),f=n(c),d=i(736),p=n(d),y=i(133),v=n(y),m=i(132),g=n(m),_=i(732),b=n(_),w=i(86),x=n(w),T=i(731),S=n(T),E=i(733),C=n(E),P=i(741),M=n(P),A=i(742),O=n(A),k=i(13),I=i(40),R=n(I),L=i(8),B=0,D=function(t){function e(i,n,a){r(this,e);var s=o(this,t.call(this,"WebGL",i,n,a));return s.legacy=s.options.legacy,s.legacy&&(R.default.VertexArrayObject.FORCE_NATIVE=!0),s.type=L.RENDERER_TYPE.WEBGL,s.handleContextLost=s.handleContextLost.bind(s),s.handleContextRestored=s.handleContextRestored.bind(s),s.view.addEventListener("webglcontextlost",s.handleContextLost,!1),s.view.addEventListener("webglcontextrestored",s.handleContextRestored,!1),s._contextOptions={alpha:s.transparent,antialias:s.options.antialias,premultipliedAlpha:s.transparent&&"notMultiplied"!==s.transparent,stencil:!0,preserveDrawingBuffer:s.options.preserveDrawingBuffer},s._backgroundColorRgba[3]=s.transparent?0:1,s.maskManager=new h.default(s),s.stencilManager=new f.default(s),s.emptyRenderer=new g.default(s),s.currentRenderer=s.emptyRenderer,s.initPlugins(),s.options.context&&(0,O.default)(s.options.context),s.gl=s.options.context||R.default.createContext(s.view,s._contextOptions),s.CONTEXT_UID=B++,s.state=new C.default(s.gl),s.renderingToScreen=!0,s.boundTextures=null,s._activeShader=null,s._activeVao=null,s._activeRenderTarget=null,s._initContext(),s.filterManager=new p.default(s),s.drawModes=(0,M.default)(s.gl),s._nextTextureLocation=0,s.setBlendMode(0),s}return a(e,t),e.prototype._initContext=function(){var t=this.gl;t.isContextLost()&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").restoreContext();var e=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(e),this.emptyTextures=new Array(e),this.textureManager=new b.default(this),this.textureGC=new S.default(this),this.state.resetToDefault(),this.rootRenderTarget=new v.default(t,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var i=new R.default.GLTexture.fromData(t,null,1,1),n={_glTextures:{}};n._glTextures[this.CONTEXT_UID]={};for(var r=0;r<e;r++){var o=new x.default;o._glTextures[this.CONTEXT_UID]=i,this.boundTextures[r]=n,this.emptyTextures[r]=o,this.bindTexture(null,r)}this.emit("context",t),this.resize(this.screen.width,this.screen.height)},e.prototype.render=function(t,e,i,n,r){if(this.renderingToScreen=!e,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,e||(this._lastObjectRendered=t),!r){var o=t.parent;t.parent=this._tempDisplayObjectParent,t.updateTransform(),t.parent=o}this.bindRenderTexture(e,n),this.currentRenderer.start(),(void 0!==i?i:this.clearBeforeRender)&&this._activeRenderTarget.clear(),t.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},e.prototype.setObjectRenderer=function(t){this.currentRenderer!==t&&(this.currentRenderer.stop(),this.currentRenderer=t,this.currentRenderer.start())},e.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},e.prototype.resize=function(t,e){u.default.prototype.resize.call(this,t,e),this.rootRenderTarget.resize(t,e),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},e.prototype.setBlendMode=function(t){this.state.setBlendMode(t)},e.prototype.clear=function(t){this._activeRenderTarget.clear(t)},e.prototype.setTransform=function(t){this._activeRenderTarget.transform=t},e.prototype.clearRenderTexture=function(t,e){var i=t.baseTexture,n=i._glRenderTargets[this.CONTEXT_UID];return n&&n.clear(e),this},e.prototype.bindRenderTexture=function(t,e){var i=void 0;if(t){var n=t.baseTexture;n._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(n,0),this.unbindTexture(n),i=n._glRenderTargets[this.CONTEXT_UID],i.setFrame(t.frame)}else i=this.rootRenderTarget;return i.transform=e,this.bindRenderTarget(i),this},e.prototype.bindRenderTarget=function(t){return t!==this._activeRenderTarget&&(this._activeRenderTarget=t,t.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=t.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(t.stencilMaskStack)),this},e.prototype.bindShader=function(t,e){return this._activeShader!==t&&(this._activeShader=t,t.bind(),e!==!1&&(t.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},e.prototype.bindTexture=function(t,e,i){if(t=t||this.emptyTextures[e],t=t.baseTexture||t,t.touched=this.textureGC.count,i)e=e||0;else{for(var n=0;n<this.boundTextures.length;n++)if(this.boundTextures[n]===t)return n;void 0===e&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,e=this.boundTextures.length-this._nextTextureLocation-1)}var r=this.gl,o=t._glTextures[this.CONTEXT_UID];return o?(this.boundTextures[e]=t,r.activeTexture(r.TEXTURE0+e),r.bindTexture(r.TEXTURE_2D,o.texture)):this.textureManager.updateTexture(t,e),e},e.prototype.unbindTexture=function(t){var e=this.gl;t=t.baseTexture||t;for(var i=0;i<this.boundTextures.length;i++)this.boundTextures[i]===t&&(this.boundTextures[i]=this.emptyTextures[i],e.activeTexture(e.TEXTURE0+i),e.bindTexture(e.TEXTURE_2D,this.emptyTextures[i]._glTextures[this.CONTEXT_UID].texture));return this},e.prototype.createVao=function(){return new R.default.VertexArrayObject(this.gl,this.state.attribState)},e.prototype.bindVao=function(t){return this._activeVao===t?this:(t?t.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=t,this)},e.prototype.reset=function(){return this.setObjectRenderer(this.emptyRenderer),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget,this.rootRenderTarget.activate(),this.state.resetToDefault(),this},e.prototype.handleContextLost=function(t){t.preventDefault()},e.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this._initContext()},e.prototype.destroy=function(e){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),t.prototype.destroy.call(this,e),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},e}(u.default);e.default=D,k.pluginTarget.mixin(D)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(99),u=n(s),l=function(t){function e(){return r(this,e),o(this,t.apply(this,arguments))}return a(e,t),e.prototype.start=function(){},e.prototype.stop=function(){this.flush()},e.prototype.flush=function(){},e.prototype.render=function(t){},e}(u.default);e.default=l},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=i(26),a=i(8),s=i(24),u=n(s),l=i(40),h=function(){function t(e,i,n,s,h,c){r(this,t),this.gl=e,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new o.Rectangle(0,0,1,1),this.resolution=h||u.default.RESOLUTION,this.projectionMatrix=new o.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new o.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.scaleMode=void 0!==s?s:u.default.SCALE_MODE,this.root=c,this.root?(this.frameBuffer=new l.GLFramebuffer(e,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=l.GLFramebuffer.createRGBA(e,100,100),this.scaleMode===a.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(i,n)}return t.prototype.clear=function(t){var e=t||this.clearColor;this.frameBuffer.clear(e[0],e[1],e[2],e[3])},t.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},t.prototype.setFrame=function(t,e){this.destinationFrame=t||this.destinationFrame||this.defaultFrame,this.sourceFrame=e||this.sourceFrame||this.destinationFrame},t.prototype.activate=function(){var t=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(t.enable(t.SCISSOR_TEST),t.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):t.disable(t.SCISSOR_TEST),t.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},t.prototype.calculateProjection=function(t,e){var i=this.projectionMatrix;e=e||t,i.identity(),this.root?(i.a=1/t.width*2,i.d=-1/t.height*2,i.tx=-1-e.x*i.a,i.ty=1-e.y*i.d):(i.a=1/t.width*2,i.d=1/t.height*2,i.tx=-1-e.x*i.a,i.ty=-1-e.y*i.d)},t.prototype.resize=function(t,e){if(t|=0,e|=0,this.size.width!==t||this.size.height!==e){this.size.width=t,this.size.height=e,this.defaultFrame.width=t,this.defaultFrame.height=e,this.frameBuffer.resize(t*this.resolution,e*this.resolution);var i=this.frame||this.size;this.calculateProjection(i)}},t.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},t}();e.default=h},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=i(1),s=r(a),u=i(18),l=n(u),h=i(11),c=(n(h),i(84)),f=(n(c),i(14)),d=n(f),p=i(3),y=(n(p),i(17)),v=n(y),m=i(681),g=n(m),_=i(194),b=n(_),w=function(){function t(e){o(this,t)}return t.prototype.test=function(){},t.prototype.generateGif=function(t,e,i,n){var r=this,o=d.default.getTexturesFromFramesWithPrefix(t+"/"+t+"_000%%.png");this.buildScene(o,e,i).then(function(t){return r.convertToImage(t)}).then(function(t){return r.makeFromImages(t)}).then(function(t){n(t)}).catch(function(t){})},t.prototype.buildScene=function(t,e,i){var n=new s.Container,r=new s.Sprite;e=e.toUpperCase(),i=d.default.formatScore(i);var o=v.default.getGifNameStyle(e),a=v.default.getGifNameStyle(i);o.anchor.set(.5),a.anchor.set(.5),n.addChild(r,o,a),o.x=220,o.y=200,a.position.x=200,a.position.y=270;var u=0,l=b.default.transformData;return this.mapAsync(t,function(t){r.texture=t,o.position.x=l.user_name.position[2*u]+10,o.position.y=l.user_name.position[2*u+1]+10,o.scale.x=l.user_name.scale[2*u],o.scale.y=l.user_name.scale[2*u+1],o.alpha=l.user_name.alpha[u],a.position.x=l.score.position[2*u],a.position.y=l.score.position[2*u+1]+5,a.scale.x=l.score.scale[2*u],a.scale.y=l.score.scale[2*u+1],u++;var e=s.RenderTexture.create(400,300);return window.renderer.render(n,e),e})},t.prototype.convertToImage=function(t){return this.mapAsync(t,function(t){return window.renderer.extract.image(t)})},t.prototype.mapAsync=function(t,e){var i=this,n=0,r=[];return new Promise(function(o){var a=function a(){n===t.length?(l.default.instance.remove(a,i),o(r)):r[n]=e(t[n]),n++};l.default.instance.add(a,i)})},t.prototype.makeFromImages=function(t){var e=t[0].width,i=t[0].height;return new Promise(function(n){g.default.createGIF({images:t,gifWidth:e,gifHeight:i,numFrames:t.length,interval:.05,sampleInterval:10,progressCallback:function(t){}},function(t){t.error||n(t.image)})})},t}();e.default=w,t.exports=e.default},function(t,e,i){var n;n=function(t,e,i){var n=function(t){this.children=t||[]};n.prototype.add=function(t){return this.children.push(t),t},n.prototype.remove=function(t){var e=this.children.indexOf(t);return e===-1?null:(this.children.splice(e,1),t)},n.prototype.contains=function(t){return this.children.indexOf(t)!==-1},n.prototype.getIndex=function(t){return this.children.indexOf(t)},n.prototype.getItem=function(t){return this.children[t]},n.prototype.run=function(t,e){if(e)for(var i=0;i<this.children.length;i++)t.call(e,this.children[i]);else for(var i=0;i<this.children.length;i++)t(this.children[i])},n.prototype.empty=function(){this.children.length=0},i.exports=n}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){var r=i(41),o=function(t){this.container=t,this.pools=[],this.activeParticles=[]};o.prototype.registerParticle=function(t,e){t.prototype._particleId=e,this.pools[e]=new r(t)},o.prototype.add=function(t,e,i,n){var r=this.pools[i].getObject();return r.activate(t,e,n),this.container.addChild(r),this.activeParticles.push(r),r},o.prototype.update=function(){for(var t=0;t<this.activeParticles.length;t++){var e=this.activeParticles[t];e.update(),e.isDead&&(this.activeParticles.splice(t,1),t--,this.container.removeChild(e),this.pools[e._particleId].returnObject(e))}},o.prototype.clear=function(){for(var t=this.activeParticles.length,e=0;e<t;e++){var i=this.activeParticles[e];this.container.removeChild(i),this.pools[i._particleId].returnObject(i)}this.activeParticles=[]},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e){i(this,t),this.item=e,this.deactivate()}return t.prototype.activate=function(t,e){this.duration=Math.max(1,Math.round(60*t)),this.callback=e,this.count=0,this.resume()},t.prototype.deactivate=function(){this.pause()},t.prototype.pause=function(){this._active=!1},t.prototype.resume=function(){this.count<this.duration&&(this._active=!0)},t.prototype.update=function(){if(this._active&&(this.count++,this.count===this.duration)){var t=this.callback;this.reset(),t()}},t.prototype.reset=function(){this.count=0,this.duration=0,this.deactivate(),this.callback=null},n(t,null,[{key:"id",get:function(){return"countdownComponent"}}]),t}();e.default=r,t.exports=e.default},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(1),s=n(a),u=function(){function t(e,i){r(this,t);this.view=new s.Container,this.bg=s.Sprite.fromFrame(e),this.fill=s.Sprite.fromFrame(i),this.mask=(new s.Graphics).beginFill(65280).drawRect(0,0,this.fill.width,this.fill.height),this.fill.mask=this.mask,this.fill.x=this.mask.x=(this.bg.width-this.fill.width)/2,this.fill.y=this.mask.y=(this.bg.height-this.fill.height)/2,this.view.addChild(this.bg),this.view.addChild(this.fill),this.view.addChild(this.mask),this.value=0}return o(t,[{key:"value",set:function(t){this.mask.scale.x=Math.min(1,Math.max(t,0))},get:function(){return this.mask.scale.x}}]),t}();e.default=u,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=i(23),a=n(o),s=i(430),u=n(s),l=function(){function t(){r(this,t),this.iceMap=a.default.getJson("ice-map"),t.types={EMPTY:"empty",WALL:"wall",BOOST:"boost",JAKE:"jake",DIAMOND:"diamond",FINN:"finn",BIG_DIAMOND:"big_diamond"},this.iceTileWallPool=[],this.iceTileItemPool=[],this.chunkAcum=0,this.chunkRemoved=0,this.chunkSize=0,this.activeLevels=[],this.tilesets=[];for(var e in this.iceMap.tilesets[0].tileproperties)this.tilesets.push(this.iceMap.tilesets[0].tileproperties[e]);this.width=this.iceMap.width,this.height=this.iceMap.height,this.tileWidth=this.iceMap.tilewidth,this.tileHeight=this.iceMap.tileheight,this.levels=[];for(var i=0;i<this.iceMap.layers.length;i++){for(var n=[],o=[],s=0,u=0;u<this.iceMap.layers[i].data.length;u++)n.push(this.iceMap.layers[i].data[u]),++s==this.width&&(o.push(n),n=[],s=0);this.levels.push({mapData:o})}this.gemSrcs={list:["gem_blue_ice.png","gem_green_ice.png","gem_orange_ice.png","gem_purple_ice.png","gem_red_ice.png","gem_yellow_ice.png"],currentId:Math.ceil(5*Math.random())}}return t.prototype.getStarterTile=function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=void 0,i=0;i<this.activeLevels[t].length;i++)for(var n=0;n<this.activeLevels[t][i].length;n++)if(e=this.activeLevels[t][i][n],e&&e.isFirst)return e.tile;return null},t.prototype.getTileType=function(e){var i=e-1;return i<0||i>=this.tilesets.length?t.types.EMPTY:this.tilesets[i].type},t.prototype.reset=function(){this.chunkAcum=0,this.chunkRemoved=0,this.chunkSize=0;for(var t=void 0,e=0;e<this.activeLevels.length;e++)for(var i=0;i<this.activeLevels[e].length;i++)for(var n=0;n<this.activeLevels[e][i].length;n++)t=this.activeLevels[e][i][n],t.tile.destroy&&t.tile.destroy();this.activeLevels=[]},t.prototype.pickPattern=function(){for(var t=this.lastPatternId||0;t==this.lastPatternId;)t=Math.floor(Math.random()*this.levels.length);return this.lastPatternId=t,this.levels[t]},t.prototype.getTileImage=function(e){var i=void 0;e==t.types.WALL&&this.iceTileWallPool.length&&(i=this.iceTileWallPool[0],this.iceTileWallPool.shift()),i||(i=new u.default(this));var n=!1;return e==t.types.DIAMOND&&(n=this.gemSrcs.list[this.gemSrcs.currentId],this.gemSrcs.currentId++,this.gemSrcs.currentId>=this.gemSrcs.list.length&&(this.gemSrcs.currentId=0)),i.reset(e,n),i},t.prototype.returnWallToPool=function(t){this.iceTileWallPool.push(t)},t.prototype.returnTileToPool=function(t){this.iceTileItemPool.push(t)},t.prototype.getLastTileFromFirstPattern=function(){var t=0,e=this.activeLevels[t].length-1,i=this.activeLevels[t][e].length-1;return this.activeLevels[t][e][i].tile},t.prototype.getLastTile=function(){var t=this.activeLevels.length-1,e=this.activeLevels[t].length-1,i=this.activeLevels[t][e].length-1;return this.activeLevels[t][e][i].tile},t.prototype.getTile=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t<0||e<0)return 1;var n=i-this.chunkRemoved;return e%=this.activeLevels[n][0].length,t>=this.activeLevels[n].length||e>=this.activeLevels[n][0].length?1:this.activeLevels[n][t][e]},t.prototype.highlightTile=function(t,e){t<0||e<0||t>=this.activeLevels[0].length||e>=this.activeLevels[0][0].length||(this.activeLevels[t][e].tile.alpha=.5)},t.prototype.removeFirstPattern=function(){for(var t=void 0,e=0;e<this.activeLevels[0].length;e++)for(var i=0;i<this.activeLevels[0][e].length;i++)t=this.activeLevels[0][e][i].tile,t&&t.destroy&&t.destroy();this.activeLevels.splice(0,1),this.chunkRemoved++},t.prototype.update=function(t){for(var e=null,i=0;i<this.activeLevels.length;i++)for(var n=0;n<this.activeLevels[i].length;n++)for(var r=0;r<this.activeLevels[i][n].length;r++)e=this.activeLevels[i][n][r].tile,e&&e.update&&e.update(t)},t}();e.default=l,t.exports=e.default},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(21),a=function(){function t(e){n(this,t),this.item=e,this.reset()}return t.prototype.activate=function(){if(!this.isCollected){new o.TimelineLite({tweens:[TweenLite.from(this.item.view.scale,.9,{x:2,y:.25,ease:Elastic.easeOut}),TweenLite.to(this.item.view,.5,{alpha:0,y:"-=100",ease:Back.easeIn,onComplete:this.onComplete,onCompleteScope:this})]})}},t.prototype.reset=function(){this.isCollected=!1,this.item.view&&(this.item.view.scale.set(1),this.item.view.alpha=1)},t.prototype.onComplete=function(){this.item.destroy()},r(t,null,[{key:"id",get:function(){return"collectComponent"}}]),t}();e.default=a,t.exports=e.default},function(t,e){"use strict";"use restrict";function i(t){var e=32;return t&=-t,t&&e--,65535&t&&(e-=16),16711935&t&&(e-=8),252645135&t&&(e-=4),858993459&t&&(e-=2),1431655765&t&&(e-=1),e}var n=32;e.INT_BITS=n,e.INT_MAX=2147483647,e.INT_MIN=-1<<n-1,e.sign=function(t){return(t>0)-(t<0)},e.abs=function(t){var e=t>>n-1;return(t^e)-e},e.min=function(t,e){return e^(t^e)&-(t<e)},e.max=function(t,e){return t^(t^e)&-(t<e)},e.isPow2=function(t){return!(t&t-1||!t)},e.log2=function(t){var e,i;return e=(t>65535)<<4,t>>>=e,i=(t>255)<<3,t>>>=i,e|=i,i=(t>15)<<2,t>>>=i,e|=i,i=(t>3)<<1,t>>>=i,e|=i,e|t>>1},e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0},e.popCount=function(t){return t-=t>>>1&1431655765,t=(858993459&t)+(t>>>2&858993459),16843009*(t+(t>>>4)&252645135)>>>24},e.countTrailingZeros=i,e.nextPow2=function(t){return t+=0===t,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1},e.prevPow2=function(t){return t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t-(t>>>1)},e.parity=function(t){return t^=t>>>16,t^=t>>>8,t^=t>>>4,t&=15,27030>>>t&1};var r=new Array(256);!function(t){for(var e=0;e<256;++e){var i=e,n=e,r=7;for(i>>>=1;i;i>>>=1)n<<=1,n|=1&i,--r;t[e]=n<<r&255}}(r),e.reverse=function(t){return r[255&t]<<24|r[t>>>8&255]<<16|r[t>>>16&255]<<8|r[t>>>24&255]},e.interleave2=function(t,e){return t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1},e.deinterleave2=function(t,e){return t=t>>>e&1431655765,t=858993459&(t|t>>>1),t=252645135&(t|t>>>2),t=16711935&(t|t>>>4),t=65535&(t|t>>>16),t<<16>>16},e.interleave3=function(t,e,i){return t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t|=e<<1,i&=1023,i=4278190335&(i|i<<16),i=251719695&(i|i<<8),i=3272356035&(i|i<<4),i=1227133513&(i|i<<2),t|i<<2},e.deinterleave3=function(t,e){return t=t>>>e&1227133513,t=3272356035&(t|t>>>2),t=251719695&(t|t>>>4),t=4278190335&(t|t>>>8),t=1023&(t|t>>>16),t<<22>>22},e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>i(t)+1}},function(t,e,i){"use strict";var n=i(27),r=i(72),o=i(25);t.exports=function(t){for(var e=n(this),i=o(e.length),a=arguments.length,s=r(a>1?arguments[1]:void 0,i),u=a>2?arguments[2]:void 0,l=void 0===u?i:r(u,i);l>s;)e[s++]=t;return e}},function(t,e,i){"use strict";var n=i(20),r=i(56);t.exports=function(t,e,i){e in t?n.f(t,e,r(0,i)):t[e]=i}},function(t,e,i){var n=i(12),r=i(7).document,o=n(r)&&n(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(t,e,i){var n=i(15)("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(i){try{return e[n]=!1,!"/./"[t](e)}catch(t){}}return!0}},function(t,e,i){t.exports=i(7).document&&document.documentElement},function(t,e,i){var n=i(12),r=i(156).set;t.exports=function(t,e,i){var o,a=e.constructor;return a!==i&&"function"==typeof a&&(o=a.prototype)!==i.prototype&&n(o)&&r&&r(t,o),t}},function(t,e,i){var n=i(81),r=i(15)("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(n.Array===t||o[r]===t)}},function(t,e,i){var n=i(43);t.exports=Array.isArray||function(t){return"Array"==n(t)}},function(t,e,i){"use strict";var n=i(67),r=i(56),o=i(82),a={};i(32)(a,i(15)("iterator"),function(){return this}),t.exports=function(t,e,i){t.prototype=n(a,{next:r(1,i)}),o(t,e+" Iterator")}},function(t,e,i){"use strict";var n=i(66),r=i(2),o=i(33),a=i(32),s=i(30),u=i(81),l=i(151),h=i(82),c=i(39),f=i(15)("iterator"),d=!([].keys&&"next"in[].keys()),p="@@iterator",y="keys",v="values",m=function(){return this};t.exports=function(t,e,i,g,_,b,w){l(i,e,g);var x,T,S,E=function(t){if(!d&&t in A)return A[t];switch(t){case y:return function(){return new i(this,t)};case v:return function(){return new i(this,t)}}return function(){return new i(this,t)}},C=e+" Iterator",P=_==v,M=!1,A=t.prototype,O=A[f]||A[p]||_&&A[_],k=O||E(_),I=_?P?E("entries"):k:void 0,R="Array"==e?A.entries||O:O;if(R&&(S=c(R.call(new t)),S!==Object.prototype&&(h(S,C,!0),n||s(S,f)||a(S,f,m))),P&&O&&O.name!==v&&(M=!0,k=function(){return O.call(this)}),n&&!w||!d&&!M&&A[f]||a(A,f,k),u[e]=k,u[C]=m,_)if(x={values:P?k:E(v),keys:b?k:E(y),entries:I},w)for(T in x)T in A||o(A,T,x[T]);else r(r.P+r.F*(d||M),e,x);return x}},function(t,e){var i=Math.expm1;t.exports=!i||i(10)>22025.465794806718||i(10)<22025.465794806718||i(-2e-17)!=-2e-17?function(t){return 0==(t=+t)?t:t>-1e-6&&t<1e-6?t+t*t/2:Math.exp(t)-1}:i},function(t,e){t.exports=Math.sign||function(t){return 0==(t=+t)||t!=t?t:t<0?-1:1}},function(t,e,i){var n=i(7),r=i(163).set,o=n.MutationObserver||n.WebKitMutationObserver,a=n.process,s=n.Promise,u="process"==i(43)(a);t.exports=function(){var t,e,i,l=function(){var n,r;for(u&&(n=a.domain)&&n.exit();t;){r=t.fn,t=t.next;try{r()}catch(n){throw t?i():e=void 0,n}}e=void 0,n&&n.enter()};if(u)i=function(){a.nextTick(l)};else if(o){var h=!0,c=document.createTextNode("");new o(l).observe(c,{characterData:!0}),i=function(){c.data=h=!h}}else if(s&&s.resolve){var f=s.resolve();
i=function(){f.then(l)}}else i=function(){r.call(n,l)};return function(n){var r={fn:n,next:void 0};e&&(e.next=r),t||(t=r,i()),e=r}}},function(t,e,i){var n=i(12),r=i(4),o=function(t,e){if(r(t),!n(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=i(52)(Function.call,i(38).f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(t){e=!0}return function(t,i){return o(t,i),e?t.__proto__=i:n(t,i),t}}({},!1):void 0),check:o}},function(t,e,i){var n=i(119)("keys"),r=i(73);t.exports=function(t){return n[t]||(n[t]=r(t))}},function(t,e,i){var n=i(4),r=i(31),o=i(15)("species");t.exports=function(t,e){var i,a=n(t).constructor;return void 0===a||void 0==(i=n(a)[o])?e:r(i)}},function(t,e,i){var n=i(57),r=i(44);t.exports=function(t){return function(e,i){var o,a,s=String(r(e)),u=n(i),l=s.length;return u<0||u>=l?t?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===l||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):(o-55296<<10)+(a-56320)+65536)}}},function(t,e,i){var n=i(115),r=i(44);t.exports=function(t,e,i){if(n(e))throw TypeError("String#"+i+" doesn't accept regex!");return String(r(t))}},function(t,e,i){"use strict";var n=i(57),r=i(44);t.exports=function(t){var e=String(r(this)),i="",o=n(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(i+=e);return i}},function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},function(t,e,i){var n,r,o,a=i(52),s=i(114),u=i(147),l=i(144),h=i(7),c=h.process,f=h.setImmediate,d=h.clearImmediate,p=h.MessageChannel,y=0,v={},m="onreadystatechange",g=function(){var t=+this;if(v.hasOwnProperty(t)){var e=v[t];delete v[t],e()}},_=function(t){g.call(t.data)};f&&d||(f=function(t){for(var e=[],i=1;arguments.length>i;)e.push(arguments[i++]);return v[++y]=function(){s("function"==typeof t?t:Function(t),e)},n(y),y},d=function(t){delete v[t]},"process"==i(43)(c)?n=function(t){c.nextTick(a(g,t,1))}:p?(r=new p,o=r.port2,r.port1.onmessage=_,n=a(o.postMessage,o,1)):h.addEventListener&&"function"==typeof postMessage&&!h.importScripts?(n=function(t){h.postMessage(t+"","*")},h.addEventListener("message",_,!1)):n=m in l("script")?function(t){u.appendChild(l("script"))[m]=function(){u.removeChild(this),g.call(t)}}:function(t){setTimeout(a(g,t,1),0)}),t.exports={set:f,clear:d}},function(t,e,i){"use strict";var n=i(7),r=i(19),o=i(66),a=i(120),s=i(32),u=i(70),l=i(10),h=i(65),c=i(57),f=i(25),d=i(68).f,p=i(20).f,y=i(142),v=i(82),m="ArrayBuffer",g="DataView",_="prototype",b="Wrong length!",w="Wrong index!",x=n[m],T=n[g],S=n.Math,E=n.RangeError,C=n.Infinity,P=x,M=S.abs,A=S.pow,O=S.floor,k=S.log,I=S.LN2,R="buffer",L="byteLength",B="byteOffset",D=r?"_b":R,F=r?"_l":L,j=r?"_o":B,N=function(t,e,i){var n,r,o,a=Array(i),s=8*i-e-1,u=(1<<s)-1,l=u>>1,h=23===e?A(2,-24)-A(2,-77):0,c=0,f=t<0||0===t&&1/t<0?1:0;for(t=M(t),t!=t||t===C?(r=t!=t?1:0,n=u):(n=O(k(t)/I),t*(o=A(2,-n))<1&&(n--,o*=2),t+=n+l>=1?h/o:h*A(2,1-l),t*o>=2&&(n++,o/=2),n+l>=u?(r=0,n=u):n+l>=1?(r=(t*o-1)*A(2,e),n+=l):(r=t*A(2,l-1)*A(2,e),n=0));e>=8;a[c++]=255&r,r/=256,e-=8);for(n=n<<e|r,s+=e;s>0;a[c++]=255&n,n/=256,s-=8);return a[--c]|=128*f,a},X=function(t,e,i){var n,r=8*i-e-1,o=(1<<r)-1,a=o>>1,s=r-7,u=i-1,l=t[u--],h=127&l;for(l>>=7;s>0;h=256*h+t[u],u--,s-=8);for(n=h&(1<<-s)-1,h>>=-s,s+=e;s>0;n=256*n+t[u],u--,s-=8);if(0===h)h=1-a;else{if(h===o)return n?NaN:l?-C:C;n+=A(2,e),h-=a}return(l?-1:1)*n*A(2,h-e)},U=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},G=function(t){return[255&t]},Y=function(t){return[255&t,t>>8&255]},z=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},V=function(t){return N(t,52,8)},W=function(t){return N(t,23,4)},H=function(t,e,i){p(t[_],e,{get:function(){return this[i]}})},q=function(t,e,i,n){var r=+i,o=c(r);if(r!=o||o<0||o+e>t[F])throw E(w);var a=t[D]._b,s=o+t[j],u=a.slice(s,s+e);return n?u:u.reverse()},K=function(t,e,i,n,r,o){var a=+i,s=c(a);if(a!=s||s<0||s+e>t[F])throw E(w);for(var u=t[D]._b,l=s+t[j],h=n(+r),f=0;f<e;f++)u[l+f]=h[o?f:e-f-1]},Z=function(t,e){h(t,x,m);var i=+e,n=f(i);if(i!=n)throw E(b);return n};if(a.ABV){if(!l(function(){new x})||!l(function(){new x(.5)})){x=function(t){return new P(Z(this,t))};for(var J,Q=x[_]=P[_],$=d(P),tt=0;$.length>tt;)(J=$[tt++])in x||s(x,J,P[J]);o||(Q.constructor=x)}var et=new T(new x(2)),it=T[_].setInt8;et.setInt8(0,2147483648),et.setInt8(1,2147483649),!et.getInt8(0)&&et.getInt8(1)||u(T[_],{setInt8:function(t,e){it.call(this,t,e<<24>>24)},setUint8:function(t,e){it.call(this,t,e<<24>>24)}},!0)}else x=function(t){var e=Z(this,t);this._b=y.call(Array(e),0),this[F]=e},T=function(t,e,i){h(this,T,g),h(t,x,g);var n=t[F],r=c(e);if(r<0||r>n)throw E("Wrong offset!");if(i=void 0===i?n-r:f(i),r+i>n)throw E(b);this[D]=t,this[j]=r,this[F]=i},r&&(H(x,L,"_l"),H(T,R,"_b"),H(T,L,"_l"),H(T,B,"_o")),u(T[_],{getInt8:function(t){return q(this,1,t)[0]<<24>>24},getUint8:function(t){return q(this,1,t)[0]},getInt16:function(t){var e=q(this,2,t,arguments[1]);return(e[1]<<8|e[0])<<16>>16},getUint16:function(t){var e=q(this,2,t,arguments[1]);return e[1]<<8|e[0]},getInt32:function(t){return U(q(this,4,t,arguments[1]))},getUint32:function(t){return U(q(this,4,t,arguments[1]))>>>0},getFloat32:function(t){return X(q(this,4,t,arguments[1]),23,4)},getFloat64:function(t){return X(q(this,8,t,arguments[1]),52,8)},setInt8:function(t,e){K(this,1,t,G,e)},setUint8:function(t,e){K(this,1,t,G,e)},setInt16:function(t,e){K(this,2,t,Y,e,arguments[2])},setUint16:function(t,e){K(this,2,t,Y,e,arguments[2])},setInt32:function(t,e){K(this,4,t,z,e,arguments[2])},setUint32:function(t,e){K(this,4,t,z,e,arguments[2])},setFloat32:function(t,e){K(this,4,t,W,e,arguments[2])},setFloat64:function(t,e){K(this,8,t,V,e,arguments[2])}});v(x,m),v(T,g),s(T[_],a.VIEW,!0),e[m]=x,e[g]=T},function(t,e,i){var n=i(7),r=i(51),o=i(66),a=i(233),s=i(20).f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:n.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},function(t,e,i){var n=i(91),r=i(15)("iterator"),o=i(81);t.exports=i(51).getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[n(t)]}},function(t,e,i){"use strict";var n=i(79),r=i(221),o=i(81),a=i(35);t.exports=i(152)(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,i=this._i++;return!t||i>=t.length?(this._t=void 0,r(1)):"keys"==e?r(0,i):"values"==e?r(0,t[i]):r(0,[i,t[i]])},"values"),o.Arguments=o.Array,n("keys"),n("values"),n("entries")},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(){i(this,t),this._states={up:0,down:1},this._keyCodes={37:{label:"left",state:0,preventBubble:!0},38:{label:"up",state:0,preventBubble:!0},39:{label:"right",state:0,preventBubble:!0},40:{label:"down",state:0,preventBubble:!0},49:{label:"1",state:0,preventBubble:!0},50:{label:"2",state:0,preventBubble:!0},51:{label:"3",state:0,preventBubble:!0},52:{label:"4",state:0,preventBubble:!0},53:{label:"5",state:0,preventBubble:!0},54:{label:"6",state:0,preventBubble:!0},55:{label:"7",state:0,preventBubble:!0},56:{label:"8",state:0,preventBubble:!0},57:{label:"9",state:0,preventBubble:!0},97:{label:"numpad1",state:0,preventBubble:!0},98:{label:"numpad2",state:0,preventBubble:!0},99:{label:"numpad3",state:0,preventBubble:!0},100:{label:"numpad4",state:0,preventBubble:!0},101:{label:"numpad5",state:0,preventBubble:!0},102:{label:"numpad6",state:0,preventBubble:!0},103:{label:"numpad7",state:0,preventBubble:!0},104:{label:"numpad8",state:0,preventBubble:!0},105:{label:"numpad9",state:0,preventBubble:!0},13:{label:"enter",state:0,preventBubble:!1},32:{label:"space",state:0,preventBubble:!0},65:{label:"a",state:0,preventBubble:!0},68:{label:"d",state:0,preventBubble:!0},83:{label:"s",state:0,preventBubble:!0},87:{label:"w",state:0,preventBubble:!0},89:{label:"y",state:0,preventBubble:!0},90:{label:"z",state:0,preventBubble:!0},88:{label:"x",state:0,preventBubble:!0},70:{label:"f",state:0,preventBubble:!0}},this.hash={},this.hashUp={},this.started=!1,this.disabled=!1,this.start(),this.dirty=!1}return n(t,[{key:"start",value:function(){if(!this.started){this.started=!0;var t=this;this._onKeyDown=function(e){return t.processKeyDown(e)},this._onKeyUp=function(e){return t.processKeyUp(e)},window.addEventListener("keydown",this._onKeyDown,!1),window.addEventListener("keyup",this._onKeyUp,!1),window.addEventListener("blur",function(){for(var t in this._keyCodes)this._keyCodes[t].state=0}.bind(this))}}},{key:"stop",value:function(){if(this.started){this.started=!1;for(var t in this._keyCodes)this._keyCodes[t].state=this._states.up;this.dirty=!0,window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("keyup",this._onKeyUp)}}},{key:"processKeyDown",value:function(t){if(this.disabled!==!0){var e=t.keyCode;if(this.keyCode=e,this._keyCodes.hasOwnProperty(e)){var i=this._keyCodes[e];i.preventBubble&&t.preventDefault(),i.state!=this._states.down&&(i.state=this._states.down,this.dirty=!0,this.hash[i.label]&&this.hash[i.label](i))}}}},{key:"processKeyUp",value:function(t){if(this.disabled!==!0){var e=t.keyCode;if(this.keyCode=null,this._keyCodes.hasOwnProperty(e)){var i=this._keyCodes[e];i.preventBubble&&t.preventDefault(),i.state!=this._states.up&&(i.state=this._states.up,this.dirty=!0,this.hashUp[i.label]&&this.hashUp[i.label](i))}}}},{key:"isPressed",value:function(t){var e=this.getCodeFromLabel(t);return!!e&&this._keyCodes[e].state===this._states.down}},{key:"getCodeFromLabel",value:function(t){for(var e in this._keyCodes)if(this._keyCodes[e].label===t)return e;return!1}},{key:"onKeyPress",value:function(t,e){this.hash[t]=e}},{key:"onKeyRelease",value:function(t,e){this.hashUp[t]=e}}]),t}();e.default=r,t.exports=e.default},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(){i(this,t),this.x=0,this.ax=0,this.dx=0,this.tx=0,this.y=0,this.ay=0,this.dy=0,this.ty=0,this.max=30,this.damp=.75,this.springiness=.09,this.max=160,this.damp=.85,this.springiness=.29}return n(t,[{key:"update",value:function(){this.ax=(this.tx-this.x)*this.springiness,this.dx+=this.ax,this.dx*=this.damp,this.dx<-this.max?this.dx=-this.max:this.dx>this.max&&(this.dx=this.max),this.x+=this.dx,this.ay=(this.ty-this.y)*this.springiness,this.dy+=this.ay,this.dy*=this.damp,this.dy<-this.max?this.dy=-this.max:this.dy>this.max&&(this.dy=this.max),this.y+=this.dy}},{key:"reset",value:function(){this.x=0,this.ax=0,this.dx=0,this.tx=0,this.y=0,this.ay=0,this.dy=0,this.ty=0}}]),t}();e.default=r,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=r(l),c=i(58),f=n(c),d=i(16),p=n(d),y=i(11),v=n(y),m=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=t.textures,n=t.sounds,r=void 0===n?{down:"press",hover:"roll"}:n;o(this,e);var s;i.normal?(s=new h.Sprite.from(i.normal),s.anchor.set(.5)):s=new h.Container;var u=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,s)),l=v.default.instance.isMobile?20:0;u.view.hitArea=new h.Rectangle(-u.view.width/2-l/2,-u.view.height/2-l/2,u.view.width+l,u.view.height+l);var c=new h.Graphics;return c.beginFill(16777215,0),c.drawRect(u.view.hitArea.x,u.view.hitArea.y,u.view.hitArea.width,u.view.hitArea.height),c.endFill(),u.view.addChild(c),u.isOnlyIcon=!1,i.normal||(u.isOnlyIcon=!0),u.normalTexture=i.normal,u.downTexture=i.down||u.normalTexture,u.hoverTexture=i.hover||u.normalTexture,u.sounds=r,u.offsetDown=5,i.icon&&(u.icon=new h.Sprite.from(i.icon),u.icon.anchor.set(.5),s.addChild(u.icon)),u.view.accessible=!0,u.onDown.add(u._onDown,u),u.onUp.add(u._onUp,u),u.onHover.add(u._onHover,u),u.onOut.add(u._onMouseOut,u),u}return s(e,t),u(e,[{key:"_onDown",value:function(){this.isOnlyIcon||(this.isDown||(this.isDown=!0,this.view.y+=this.offsetDown),p.default.sfx.play("press"),this.view.texture=h.Texture.from(this.downTexture))}},{key:"_onHover",value:function(){this.isOnlyIcon||(p.default.sfx.stop("roll"),p.default.sfx.play("roll"),this.view.texture=h.Texture.from(this.hoverTexture))}},{key:"_onMouseOut",value:function(){this.isOnlyIcon||(this.icon&&(this.icon.y=0),this.view.texture=h.Texture.from(this.normalTexture))}},{key:"_onUp",value:function(){this.isOnlyIcon||(this.isDown&&(this.view.y-=this.offsetDown,this.isDown=!1),this.view.texture=h.Texture.from(this.normalTexture))}},{key:"setIcon",value:function(t){this.icon.texture=h.Texture.from(t)}},{key:"setSize",value:function(t){this.defaultScale=t,this.overScale=1.1*t,this.view.scale.set(t)}},{key:"froms",value:function(t,i,n,r){return new e(h.Texture.from(t),h.Texture.from(i),h.Texture.from(n),r?h.Texture.from(r):null)}}]),e}(f.default);m.gameSpecificButton=function(t){var e=new m("bigbutton_up.png","bigbutton_down.png","bigbutton_over.png",t?t:null);return e.defaultScale=1,t&&(e.icon.pivot.y=13),e},e.default=m,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=i(1),l=r(u),h=i(58),c=n(h),f=function(t){function e(t){o(this,e);var i=new l.Graphics;i.beginFill(4473924).drawRect(-50,-16,100,32).endFill();var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,i));return n.hitArea=new l.Rectangle(-50,-16,100,32),n.label=new l.Text(t,{fill:"white",font:"20px lubalin"}),n.label.anchor.set(.5),i.addChild(n.label),n}return s(e,t),e}(c.default);e.default=f,t.exports=e.default},function(t,e,i){var n,r,o;/**
	 * isMobile.js v0.4.1
	 *
	 * A simple library to detect Apple phones and tablets,
	 * Android phones and tablets, other mobile devices (like blackberry, mini-opera and windows phone),
	 * and any kind of seven inch device, via user agent sniffing.
	 *
	 * @author: Kai Mallea (kmallea@gmail.com)
	 *
	 * @license: http://creativecommons.org/publicdomain/zero/1.0/
	 */
!function(i){var a=/iPhone/i,s=/iPod/i,u=/iPad/i,l=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,h=/Android/i,c=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,f=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,d=/Windows Phone/i,p=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,y=/BlackBerry/i,v=/BB10/i,m=/Opera Mini/i,g=/(CriOS|Chrome)(?=.*\bMobile\b)/i,_=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,b=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),w=function(t,e){return t.test(e)},x=function(t){var e=t||navigator.userAgent,i=e.split("[FBAN");if("undefined"!=typeof i[1]&&(e=i[0]),i=e.split("Twitter"),"undefined"!=typeof i[1]&&(e=i[0]),this.apple={phone:w(a,e),ipod:w(s,e),tablet:!w(a,e)&&w(u,e),device:w(a,e)||w(s,e)||w(u,e)},this.amazon={phone:w(c,e),tablet:!w(c,e)&&w(f,e),device:w(c,e)||w(f,e)},this.android={phone:w(c,e)||w(l,e),tablet:!w(c,e)&&!w(l,e)&&(w(f,e)||w(h,e)),device:w(c,e)||w(f,e)||w(l,e)||w(h,e)},this.windows={phone:w(d,e),tablet:w(p,e),device:w(d,e)||w(p,e)},this.other={blackberry:w(y,e),blackberry10:w(v,e),opera:w(m,e),firefox:w(_,e),chrome:w(g,e),device:w(y,e)||w(v,e)||w(m,e)||w(_,e)||w(g,e)},this.seven_inch=w(b,e),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},T=function(){var t=new x;return t.Class=x,t};"undefined"!=typeof t&&t.exports&&"undefined"==typeof window?t.exports=x:"undefined"!=typeof t&&t.exports&&"undefined"!=typeof window?t.exports=T():(r=[],n=i.isMobile=T(),o="function"==typeof n?n.apply(e,r):n,!(void 0!==o&&(t.exports=o)))}(this)},function(t,e,i){function n(){this.normal=r.create(),this.shape=null,this.body=null,this.faceIndex=-1,this.fraction=-1,this.isStopped=!1}var r=i(5),o=i(125);t.exports=n,n.prototype.reset=function(){r.set(this.normal,0,0),this.shape=null,this.body=null,this.faceIndex=-1,this.fraction=-1,this.isStopped=!1},n.prototype.getHitDistance=function(t){return r.distance(t.from,t.to)*this.fraction},n.prototype.hasHit=function(){return this.fraction!==-1},n.prototype.getHitPoint=function(t,e){r.lerp(t,e.from,e.to,this.fraction)},n.prototype.stop=function(){this.isStopped=!0},n.prototype.shouldStop=function(t){return this.isStopped||this.fraction!==-1&&t.mode===o.ANY},n.prototype.set=function(t,e,i,n,o){r.copy(this.normal,t),this.shape=e,this.body=i,this.fraction=n,this.faceIndex=o}},function(t,e){function i(t){this.id=t||i.idCounter++}t.exports=i,i.idCounter=0},function(t,e,i){function n(t,e,i){i=r.defaults(i,{stiffness:100,damping:1}),this.stiffness=i.stiffness,this.damping=i.damping,this.bodyA=t,this.bodyB=e}var r=(i(5),i(22));t.exports=n,n.prototype.applyForce=function(){}},function(t,e,i){function n(t){t=t||{},t.type=r.PARTICLE,r.call(this,t)}var r=i(37),o=i(5);t.exports=n,n.prototype=new r,n.prototype.constructor=n,n.prototype.computeMomentOfInertia=function(t){return 0},n.prototype.updateBoundingRadius=function(){this.boundingRadius=0},n.prototype.computeAABB=function(t,e,i){o.copy(t.lowerBound,e),o.copy(t.upperBound,e)}},function(t,e,i){function n(t){t=t||{},t.type=r.PLANE,r.call(this,t)}var r=i(37),o=i(5);i(22);t.exports=n,n.prototype=new r,n.prototype.constructor=n,n.prototype.computeMomentOfInertia=function(t){return 0},n.prototype.updateBoundingRadius=function(){this.boundingRadius=Number.MAX_VALUE},n.prototype.computeAABB=function(t,e,i){var n=i%(2*Math.PI),r=o.set,a=1e7,s=t.lowerBound,u=t.upperBound;r(s,-a,-a),r(u,a,a),0===n?u[1]=0:n===Math.PI/2?s[0]=0:n===Math.PI?s[1]=0:n===3*Math.PI/2&&(u[0]=0)},n.prototype.updateArea=function(){this.area=Number.MAX_VALUE};var a=o.create(),s=(o.create(),o.create(),o.create()),u=o.create();n.prototype.raycast=function(t,e,i,n){var r=e.from,l=e.to,h=e.direction,c=a,f=s,d=u;o.set(f,0,1),o.rotate(f,f,n),o.sub(d,r,i);var p=o.dot(d,f);o.sub(d,l,i);var y=o.dot(d,f);if(!(p*y>0||o.squaredDistance(r,l)<p*p)){var v=o.dot(f,h);o.sub(c,r,i);var m=-o.dot(f,c)/v/e.length;e.reportIntersection(t,m,f,-1)}}},function(t,e,i){function n(t,e){t=t||{},r.call(this),this.type=e,this.equations=[],this.equationSortFunction=t.equationSortFunction||!1}var r=(i(22),i(127));t.exports=n,n.prototype=new r,n.prototype.constructor=n,n.prototype.solve=function(t,e){throw new Error("Solver.solve should be implemented by subclasses!")};var o={bodies:[]};n.prototype.solveIsland=function(t,e){this.removeAllEquations(),e.equations.length&&(this.addEquations(e.equations),o.bodies.length=0,e.getBodies(o.bodies),o.bodies.length&&this.solve(t,o))},n.prototype.sortEquations=function(){this.equationSortFunction&&this.equations.sort(this.equationSortFunction)},n.prototype.addEquation=function(t){t.enabled&&this.equations.push(t)},n.prototype.addEquations=function(t){for(var e=0,i=t.length;e!==i;e++){var n=t[e];n.enabled&&this.equations.push(n)}},n.prototype.removeEquation=function(t){var e=this.equations.indexOf(t);e!==-1&&this.equations.splice(e,1)},n.prototype.removeAllEquations=function(){this.equations.length=0},n.GS=1,n.ISLAND=2},function(t,e){var i=function(t,e){if(!n){var i=Object.keys(r);n={};for(var o=0;o<i.length;++o){var a=i[o];n[t[a]]=r[a]}}return n[e]},n=null,r={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};t.exports=i},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=i(26),o=function(){function t(){n(this,t),this.minX=1/0,this.minY=1/0,this.maxX=-(1/0),this.maxY=-(1/0),this.rect=null}return t.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},t.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-(1/0),this.maxY=-(1/0)},t.prototype.getRectangle=function(t){return this.minX>this.maxX||this.minY>this.maxY?r.Rectangle.EMPTY:(t=t||new r.Rectangle(0,0,1,1),t.x=this.minX,t.y=this.minY,t.width=this.maxX-this.minX,t.height=this.maxY-this.minY,t)},t.prototype.addPoint=function(t){this.minX=Math.min(this.minX,t.x),this.maxX=Math.max(this.maxX,t.x),this.minY=Math.min(this.minY,t.y),this.maxY=Math.max(this.maxY,t.y)},t.prototype.addQuad=function(t){var e=this.minX,i=this.minY,n=this.maxX,r=this.maxY,o=t[0],a=t[1];e=o<e?o:e,i=a<i?a:i,n=o>n?o:n,r=a>r?a:r,o=t[2],a=t[3],e=o<e?o:e,i=a<i?a:i,n=o>n?o:n,r=a>r?a:r,o=t[4],a=t[5],e=o<e?o:e,i=a<i?a:i,n=o>n?o:n,r=a>r?a:r,o=t[6],a=t[7],e=o<e?o:e,i=a<i?a:i,n=o>n?o:n,r=a>r?a:r,this.minX=e,this.minY=i,this.maxX=n,this.maxY=r},t.prototype.addFrame=function(t,e,i,n,r){var o=t.worldTransform,a=o.a,s=o.b,u=o.c,l=o.d,h=o.tx,c=o.ty,f=this.minX,d=this.minY,p=this.maxX,y=this.maxY,v=a*e+u*i+h,m=s*e+l*i+c;f=v<f?v:f,d=m<d?m:d,p=v>p?v:p,y=m>y?m:y,v=a*n+u*i+h,m=s*n+l*i+c,f=v<f?v:f,d=m<d?m:d,p=v>p?v:p,y=m>y?m:y,v=a*e+u*r+h,m=s*e+l*r+c,f=v<f?v:f,d=m<d?m:d,p=v>p?v:p,y=m>y?m:y,v=a*n+u*r+h,m=s*n+l*r+c,f=v<f?v:f,d=m<d?m:d,p=v>p?v:p,y=m>y?m:y,this.minX=f,this.minY=d,this.maxX=p,this.maxY=y},t.prototype.addVertices=function(t,e,i,n){for(var r=t.worldTransform,o=r.a,a=r.b,s=r.c,u=r.d,l=r.tx,h=r.ty,c=this.minX,f=this.minY,d=this.maxX,p=this.maxY,y=i;y<n;y+=2){var v=e[y],m=e[y+1],g=o*v+s*m+l,_=u*m+a*v+h;c=g<c?g:c,f=_<f?_:f,d=g>d?g:d,p=_>p?_:p}this.minX=c,this.minY=f,this.maxX=d,this.maxY=p},t.prototype.addBounds=function(t){var e=this.minX,i=this.minY,n=this.maxX,r=this.maxY;this.minX=t.minX<e?t.minX:e,this.minY=t.minY<i?t.minY:i,this.maxX=t.maxX>n?t.maxX:n,this.maxY=t.maxY>r?t.maxY:r},t.prototype.addBoundsMask=function(t,e){var i=t.minX>e.minX?t.minX:e.minX,n=t.minY>e.minY?t.minY:e.minY,r=t.maxX<e.maxX?t.maxX:e.maxX,o=t.maxY<e.maxY?t.maxY:e.maxY;if(i<=r&&n<=o){var a=this.minX,s=this.minY,u=this.maxX,l=this.maxY;this.minX=i<a?i:a,this.minY=n<s?n:s,this.maxX=r>u?r:u,this.maxY=o>l?o:l}},t.prototype.addBoundsArea=function(t,e){var i=t.minX>e.x?t.minX:e.x,n=t.minY>e.y?t.minY:e.y,r=t.maxX<e.x+e.width?t.maxX:e.x+e.width,o=t.maxY<e.y+e.height?t.maxY:e.y+e.height;if(i<=r&&n<=o){var a=this.minX,s=this.minY,u=this.maxX,l=this.maxY;this.minX=i<a?i:a,this.minY=n<s?n:s,this.maxX=r>u?r:u,this.maxY=o>l?o:l}},t}();e.default=o},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=i(26),o=function(){function t(){n(this,t),this.worldTransform=new r.Matrix,this.localTransform=new r.Matrix,this._worldID=0,this._parentID=0}return t.prototype.updateLocalTransform=function(){},t.prototype.updateTransform=function(t){var e=t.worldTransform,i=this.worldTransform,n=this.localTransform;i.a=n.a*e.a+n.b*e.c,i.b=n.a*e.b+n.b*e.d,i.c=n.c*e.a+n.d*e.c,i.d=n.c*e.b+n.d*e.d,i.tx=n.tx*e.a+n.ty*e.c+e.tx,i.ty=n.tx*e.b+n.ty*e.d+e.ty,this._worldID++},t}();e.default=o,o.prototype.updateWorldTransform=o.prototype.updateTransform,o.IDENTITY=new o},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(183),s=n(a),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;r(this,t),this.a=e,this.b=i,this.c=n,this.d=o,this.tx=a,this.ty=s,this.array=null}return t.prototype.fromArray=function(t){this.a=t[0],this.b=t[1],this.c=t[3],this.d=t[4],this.tx=t[2],this.ty=t[5]},t.prototype.set=function(t,e,i,n,r,o){return this.a=t,this.b=e,this.c=i,this.d=n,this.tx=r,this.ty=o,this},t.prototype.toArray=function(t,e){this.array||(this.array=new Float32Array(9));var i=e||this.array;return t?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty,i[8]=1):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0,i[8]=1),i},t.prototype.apply=function(t,e){e=e||new s.default;var i=t.x,n=t.y;return e.x=this.a*i+this.c*n+this.tx,e.y=this.b*i+this.d*n+this.ty,e},t.prototype.applyInverse=function(t,e){e=e||new s.default;var i=1/(this.a*this.d+this.c*-this.b),n=t.x,r=t.y;return e.x=this.d*i*n+-this.c*i*r+(this.ty*this.c-this.tx*this.d)*i,e.y=this.a*i*r+-this.b*i*n+(-this.ty*this.a+this.tx*this.b)*i,e},t.prototype.translate=function(t,e){return this.tx+=t,this.ty+=e,this},t.prototype.scale=function(t,e){return this.a*=t,this.d*=e,this.c*=t,this.b*=e,this.tx*=t,this.ty*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),i=Math.sin(t),n=this.a,r=this.c,o=this.tx;return this.a=n*e-this.b*i,this.b=n*i+this.b*e,this.c=r*e-this.d*i,this.d=r*i+this.d*e,this.tx=o*e-this.ty*i,this.ty=o*i+this.ty*e,this},t.prototype.append=function(t){var e=this.a,i=this.b,n=this.c,r=this.d;return this.a=t.a*e+t.b*n,this.b=t.a*i+t.b*r,this.c=t.c*e+t.d*n,this.d=t.c*i+t.d*r,this.tx=t.tx*e+t.ty*n+this.tx,this.ty=t.tx*i+t.ty*r+this.ty,this},t.prototype.setTransform=function(t,e,i,n,r,o,a,s,u){var l=Math.sin(a),h=Math.cos(a),c=Math.cos(u),f=Math.sin(u),d=-Math.sin(s),p=Math.cos(s),y=h*r,v=l*r,m=-l*o,g=h*o;return this.a=c*y+f*m,this.b=c*v+f*g,this.c=d*y+p*m,this.d=d*v+p*g,this.tx=t+(i*y+n*m),this.ty=e+(i*v+n*g),this},t.prototype.prepend=function(t){var e=this.tx;if(1!==t.a||0!==t.b||0!==t.c||1!==t.d){var i=this.a,n=this.c;this.a=i*t.a+this.b*t.c,this.b=i*t.b+this.b*t.d,this.c=n*t.a+this.d*t.c,this.d=n*t.b+this.d*t.d}return this.tx=e*t.a+this.ty*t.c+t.tx,this.ty=e*t.b+this.ty*t.d+t.ty,this},t.prototype.decompose=function(t){var e=this.a,i=this.b,n=this.c,r=this.d,o=-Math.atan2(-n,r),a=Math.atan2(i,e),s=Math.abs(o+a);return s<1e-5?(t.rotation=a,e<0&&r>=0&&(t.rotation+=t.rotation<=0?Math.PI:-Math.PI),t.skew.x=t.skew.y=0):(t.skew.x=o,t.skew.y=a),t.scale.x=Math.sqrt(e*e+i*i),t.scale.y=Math.sqrt(n*n+r*r),t.position.x=this.tx,t.position.y=this.ty,t},t.prototype.invert=function(){var t=this.a,e=this.b,i=this.c,n=this.d,r=this.tx,o=t*n-e*i;return this.a=n/o,this.b=-e/o,this.c=-i/o,this.d=t/o,this.tx=(i*this.ty-n*r)/o,this.ty=-(t*this.ty-e*r)/o,this},t.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},t.prototype.clone=function(){var e=new t;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},t.prototype.copy=function(t){return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},o(t,null,[{key:"IDENTITY",get:function(){return new t}},{key:"TEMP_MATRIX",get:function(){return new t}}]),t}();e.default=u},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;i(this,t),this.x=e,this.y=n}return t.prototype.clone=function(){return new t(this.x,this.y)},t.prototype.copy=function(t){this.set(t.x,t.y)},t.prototype.equals=function(t){return t.x===this.x&&t.y===this.y},t.prototype.set=function(t,e){this.x=t||0,this.y=e||(0!==e?this.x:0)},t}();e.default=n},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(8),a=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;n(this,t),this.x=e,this.y=i,this.width=r,this.height=a,this.type=o.SHAPES.RECT}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.copy=function(t){return this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this},t.prototype.contains=function(t,e){return!(this.width<=0||this.height<=0)&&(t>=this.x&&t<this.x+this.width&&e>=this.y&&e<this.y+this.height)},t.prototype.pad=function(t,e){t=t||0,e=e||(0!==e?t:0),this.x-=t,this.y-=e,this.width+=2*t,this.height+=2*e},t.prototype.fit=function(t){this.x<t.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=t.x),this.y<t.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=t.y),this.x+this.width>t.x+t.width&&(this.width=t.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>t.y+t.height&&(this.height=t.height-this.y,this.height<0&&(this.height=0))},t.prototype.enlarge=function(t){var e=Math.min(this.x,t.x),i=Math.max(this.x+this.width,t.x+t.width),n=Math.min(this.y,t.y),r=Math.max(this.y+this.height,t.y+t.height);this.x=e,this.width=i-e,this.y=n,this.height=r-n},r(t,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new t(0,0,0,0)}}]),t}();e.default=a},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(26),l=i(13),h=i(8),c=i(76),f=n(c),d=i(97),p=n(d),y=new u.Point,v=function(t){function e(i){r(this,e);var n=o(this,t.call(this));return n._anchor=new u.ObservablePoint(n._onAnchorUpdate,n),n._texture=null,n._width=0,n._height=0,n._tint=null,n._tintRGB=null,n.tint=16777215,n.blendMode=h.BLEND_MODES.NORMAL,n.shader=null,n.cachedTint=16777215,n.texture=i||f.default.EMPTY,n.vertexData=new Float32Array(8),n.vertexTrimmedData=null,n._transformID=-1,n._textureID=-1,n._transformTrimmedID=-1,n._textureTrimmedID=-1,n.pluginName="sprite",n}return a(e,t),e.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._width&&(this.scale.x=(0,l.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,l.sign)(this.scale.y)*this._height/this._texture.orig.height)},e.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},e.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var t=this._texture,e=this.transform.worldTransform,i=e.a,n=e.b,r=e.c,o=e.d,a=e.tx,s=e.ty,u=this.vertexData,l=t.trim,h=t.orig,c=this._anchor,f=0,d=0,p=0,y=0;l?(d=l.x-c._x*h.width,f=d+l.width,y=l.y-c._y*h.height,p=y+l.height):(d=-c._x*h.width,f=d+h.width,y=-c._y*h.height,p=y+h.height),u[0]=i*d+r*y+a,u[1]=o*y+n*d+s,u[2]=i*f+r*y+a,u[3]=o*y+n*f+s,u[4]=i*f+r*p+a,u[5]=o*p+n*f+s,u[6]=i*d+r*p+a,u[7]=o*p+n*d+s}},e.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var t=this._texture,e=this.vertexTrimmedData,i=t.orig,n=this._anchor,r=this.transform.worldTransform,o=r.a,a=r.b,s=r.c,u=r.d,l=r.tx,h=r.ty,c=-n._x*i.width,f=c+i.width,d=-n._y*i.height,p=d+i.height;e[0]=o*c+s*d+l,e[1]=u*d+a*c+h,e[2]=o*f+s*d+l,e[3]=u*d+a*f+h,e[4]=o*f+s*p+l,e[5]=u*p+a*f+h,e[6]=o*c+s*p+l,e[7]=u*p+a*c+h},e.prototype._renderWebGL=function(t){this.calculateVertices(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this)},e.prototype._renderCanvas=function(t){t.plugins[this.pluginName].render(this)},e.prototype._calculateBounds=function(){var t=this._texture.trim,e=this._texture.orig;!t||t.width===e.width&&t.height===e.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._x),e||(this._localBoundsRect||(this._localBoundsRect=new u.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,y);var e=this._texture.orig.width,i=this._texture.orig.height,n=-e*this.anchor.x,r=0;return y.x>=n&&y.x<n+e&&(r=-i*this.anchor.y,y.y>=r&&y.y<r+i)},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this._anchor=null;var i="boolean"==typeof e?e:e&&e.texture;if(i){var n="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!n)}this._texture=null,this.shader=null},e.from=function(t){return new e(f.default.from(t))},e.fromFrame=function(t){var i=l.TextureCache[t];if(!i)throw new Error('The frameId "'+t+'" does not exist in the texture cache');return new e(i)},e.fromImage=function(t,i,n){return new e(f.default.fromImage(t,i,n))},s(e,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){var e=(0,l.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){var e=(0,l.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"anchor",get:function(){return this._anchor},set:function(t){this._anchor.copy(t)}},{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,this._tintRGB=(t>>16)+(65280&t)+((255&t)<<16)}},{key:"texture",get:function(){return this._texture},set:function(t){this._texture!==t&&(this._texture=t,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,t&&(t.baseTexture.hasLoaded?this._onTextureUpdate():t.once("update",this._onTextureUpdate,this)))}}]),e}(p.default);e.default=v},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=i(13),o=i(292),a=n(o),s={getTintedTexture:function(t,e){var i=t._texture;e=s.roundColor(e);var n="#"+("00000"+(0|e).toString(16)).substr(-6);i.tintCache=i.tintCache||{};var r=i.tintCache[n],o=void 0;if(r){if(r.tintId===i._updateID)return i.tintCache[n];o=i.tintCache[n]}else o=s.canvas||document.createElement("canvas");if(s.tintMethod(i,e,o),o.tintId=i._updateID,s.convertTintToImage){var a=new Image;a.src=o.toDataURL(),i.tintCache[n]=a}else i.tintCache[n]=o,s.canvas=null;return o},tintWithMultiply:function(t,e,i){var n=i.getContext("2d"),r=t._frame.clone(),o=t.baseTexture.resolution;r.x*=o,r.y*=o,r.width*=o,r.height*=o,i.width=Math.ceil(r.width),i.height=Math.ceil(r.height),n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,r.width,r.height),n.globalCompositeOperation="multiply",n.drawImage(t.baseTexture.source,r.x,r.y,r.width,r.height,0,0,r.width,r.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,r.x,r.y,r.width,r.height,0,0,r.width,r.height)},tintWithOverlay:function(t,e,i){var n=i.getContext("2d"),r=t._frame.clone(),o=t.baseTexture.resolution;r.x*=o,r.y*=o,r.width*=o,r.height*=o,i.width=Math.ceil(r.width),i.height=Math.ceil(r.height),n.globalCompositeOperation="copy",n.fillStyle="#"+("00000"+(0|e).toString(16)).substr(-6),n.fillRect(0,0,r.width,r.height),n.globalCompositeOperation="destination-atop",n.drawImage(t.baseTexture.source,r.x,r.y,r.width,r.height,0,0,r.width,r.height)},tintWithPerPixel:function(t,e,i){var n=i.getContext("2d"),o=t._frame.clone(),a=t.baseTexture.resolution;o.x*=a,o.y*=a,o.width*=a,o.height*=a,i.width=Math.ceil(o.width),i.height=Math.ceil(o.height),n.globalCompositeOperation="copy",n.drawImage(t.baseTexture.source,o.x,o.y,o.width,o.height,0,0,o.width,o.height);for(var s=(0,r.hex2rgb)(e),u=s[0],l=s[1],h=s[2],c=n.getImageData(0,0,o.width,o.height),f=c.data,d=0;d<f.length;d+=4)f[d+0]*=u,f[d+1]*=l,f[d+2]*=h;n.putImageData(c,0,0)},roundColor:function(t){var e=s.cacheStepsPerColorChannel,i=(0,r.hex2rgb)(t);return i[0]=Math.min(255,i[0]/e*e),i[1]=Math.min(255,i[1]/e*e),i[2]=Math.min(255,i[2]/e*e),(0,r.rgb2hex)(i)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,a.default)(),tintMethod:0};s.tintMethod=s.canUseMultiply?s.tintWithMultiply:s.tintWithPerPixel,e.default=s},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(298),u=n(s),l=i(76),h=n(l),c=function(t){function e(i,n){r(this,e);var a=null;if(!(i instanceof u.default)){var s=arguments[1],l=arguments[2],h=arguments[3],c=arguments[4];a=arguments[0],n=null,i=new u.default(s,l,h,c)}var f=o(this,t.call(this,i,n));return f.legacyRenderer=a,f.valid=!0,f._updateUvs(),f}return a(e,t),e.prototype.resize=function(t,e,i){this.valid=t>0&&e>0,this._frame.width=this.orig.width=t,this._frame.height=this.orig.height=e,i||this.baseTexture.resize(t,e),this._updateUvs()},e.create=function(t,i,n,r){return new e(new u.default(t,i,n,r))},e}(h.default);e.default=c},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.Ticker=e.shared=void 0;var r=i(749),o=n(r),a=new o.default;a.autoStart=!0,a.destroy=function(){},e.shared=a,e.Ticker=o.default},function(t,e){"use strict";function i(t){for(var e=6*t,i=new Uint16Array(e),n=0,r=0;n<e;n+=6,r+=4)i[n+0]=r+0,i[n+1]=r+1,i[n+2]=r+2,i[n+3]=r+0,i[n+4]=r+2,i[n+5]=r+3;return i}e.__esModule=!0,e.default=i},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(182),s=n(a),u=new s.default,l=function(){function t(e,i){r(this,t),this._texture=e,this.mapCoord=new s.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin="undefined"==typeof i?.5:i}return t.prototype.multiplyUvs=function(t,e){void 0===e&&(e=t);for(var i=this.mapCoord,n=0;n<t.length;n+=2){var r=t[n],o=t[n+1];e[n]=r*i.a+o*i.c+i.tx,e[n+1]=r*i.b+o*i.d+i.ty}return e},t.prototype.update=function(t){var e=this._texture;if(!e||!e.valid)return!1;if(!t&&this._lastTextureID===e._updateID)return!1;this._lastTextureID=e._updateID;var i=e._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var n=e.orig,r=e.trim;r&&(u.set(n.width/r.width,0,0,n.height/r.height,-r.x/r.width,-r.y/r.height),this.mapCoord.append(u));var o=e.baseTexture,a=this.uClampFrame,s=this.clampMargin/o.resolution,l=this.clampOffset;return a[0]=(e._frame.x+s+l)/o.width,a[1]=(e._frame.y+s+l)/o.height,a[2]=(e._frame.x+e._frame.width-s+l)/o.width,a[3]=(e._frame.y+e._frame.height-s+l)/o.height,this.uClampOffset[0]=l/o.realWidth,this.uClampOffset[1]=l/o.realHeight,!0},o(t,[{key:"texture",get:function(){return this._texture},set:function(t){this._texture=t,this._lastTextureID=-1}}]),t}();e.default=l},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){var i=!1;if(t&&t._textures&&t._textures.length)for(var n=0;n<t._textures.length;n++)if(t._textures[n]instanceof p.Texture){var r=t._textures[n].baseTexture;e.indexOf(r)===-1&&(e.push(r),i=!0)}return i}function s(t,e){return t instanceof p.BaseTexture&&(e.indexOf(t)===-1&&e.push(t),!0)}function u(t,e){if(t._texture&&t._texture instanceof p.Texture){var i=t._texture.baseTexture;return e.indexOf(i)===-1&&e.push(i),!0}return!1}function l(t,e){return e instanceof p.Text&&(e.updateText(!0),!0)}function h(t,e){if(e instanceof p.TextStyle){var i=e.toFontString();return p.TextMetrics.measureFont(i),!0}return!1}function c(t,e){if(t instanceof p.Text){e.indexOf(t.style)===-1&&e.push(t.style),e.indexOf(t)===-1&&e.push(t);var i=t._texture.baseTexture;return e.indexOf(i)===-1&&e.push(i),!0}return!1}function f(t,e){return t instanceof p.TextStyle&&(e.indexOf(t)===-1&&e.push(t),!0)}e.__esModule=!0;var d=i(9),p=r(d),y=i(313),v=n(y),m=p.ticker.shared;p.settings.UPLOADS_PER_FRAME=4;var g=function(){function t(e){var i=this;o(this,t),this.limiter=new v.default(p.settings.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){i.queue&&i.prepareItems()},this.registerFindHook(c),this.registerFindHook(f),this.registerFindHook(a),this.registerFindHook(s),this.registerFindHook(u),this.registerUploadHook(l),this.registerUploadHook(h)}return t.prototype.upload=function(t,e){"function"==typeof t&&(e=t,t=null),t&&this.add(t),this.queue.length?(e&&this.completes.push(e),this.ticking||(this.ticking=!0,m.addOnce(this.tick,this,p.UPDATE_PRIORITY.UTILITY))):e&&e()},t.prototype.tick=function(){setTimeout(this.delayedTick,0)},t.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var t=this.queue[0],e=!1;if(t&&!t._destroyed)for(var i=0,n=this.uploadHooks.length;i<n;i++)if(this.uploadHooks[i](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}e||this.queue.shift()}if(this.queue.length)m.addOnce(this.tick,this,p.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;var r=this.completes.slice(0);this.completes.length=0;for(var o=0,a=r.length;o<a;o++)r[o]()}},t.prototype.registerFindHook=function(t){return t&&this.addHooks.push(t),this},t.prototype.registerUploadHook=function(t){return t&&this.uploadHooks.push(t),this},t.prototype.add=function(t){for(var e=0,i=this.addHooks.length;e<i&&!this.addHooks[e](t,this.queue);e++);if(t instanceof p.Container)for(var n=t.children.length-1;n>=0;n--)this.add(t.children[n]);return this},t.prototype.destroy=function(){this.ticking&&m.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},t}();e.default=g},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(){}function a(t,e,i){e&&0===e.indexOf(".")&&(e=e.substring(1)),e&&(t[e]=i)}function s(t){return t.toString().replace("object ","")}e.__esModule=!0;var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(265),h=n(l),c=i(241),f=n(c),d=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),p=null,y=0,v=200,m=204,g=1223,_=2,b=function(){function t(e,i,n){if(r(this,t),"string"!=typeof e||"string"!=typeof i)throw new Error("Both name and url are required for constructing a resource.");n=n||{},this._flags=0,this._setFlag(t.STATUS_FLAGS.DATA_URL,0===i.indexOf("data:")),this.name=e,this.url=i,this.extension=this._getExtension(),this.data=null,this.crossOrigin=n.crossOrigin===!0?"anonymous":n.crossOrigin,this.loadType=n.loadType||this._determineLoadType(),this.xhrType=n.xhrType,this.metadata=n.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=t.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=o,this._onLoadBinding=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),
this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this),this.onStart=new f.default,this.onProgress=new f.default,this.onComplete=new f.default,this.onAfterMiddleware=new f.default}return t.setExtensionLoadType=function(e,i){a(t._loadTypeMap,e,i)},t.setExtensionXhrType=function(e,i){a(t._xhrTypeMap,e,i)},t.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(t.STATUS_FLAGS.COMPLETE,!0),this._setFlag(t.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},t.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=t.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},t.prototype.load=function(e){var i=this;if(!this.isLoading){if(this.isComplete)return void(e&&setTimeout(function(){return e(i)},1));switch(e&&this.onComplete.once(e),this._setFlag(t.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),this.crossOrigin!==!1&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case t.LOAD_TYPE.IMAGE:this.type=t.TYPE.IMAGE,this._loadElement("image");break;case t.LOAD_TYPE.AUDIO:this.type=t.TYPE.AUDIO,this._loadSourceElement("audio");break;case t.LOAD_TYPE.VIDEO:this.type=t.TYPE.VIDEO,this._loadSourceElement("video");break;case t.LOAD_TYPE.XHR:default:d&&this.crossOrigin?this._loadXdr():this._loadXhr()}}},t.prototype._hasFlag=function(t){return!!(this._flags&t)},t.prototype._setFlag=function(t,e){this._flags=e?this._flags|t:this._flags&~t},t.prototype._loadElement=function(t){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===t&&"undefined"!=typeof window.Image?this.data=new Image:this.data=document.createElement(t),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},t.prototype._loadSourceElement=function(t){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===t&&"undefined"!=typeof window.Audio?this.data=new Audio:this.data=document.createElement(t),null===this.data)return void this.abort("Unsupported element: "+t);if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var e=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(t,this.url[i],Array.isArray(e)?e[i]:e));else{var n=this.metadata.mimeType;this.data.appendChild(this._createSource(t,this.url,Array.isArray(n)?n[0]:n))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()},t.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),this.xhrType===t.XHR_RESPONSE_TYPE.JSON||this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=t.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},t.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XDomainRequest;t.timeout=5e3,t.onerror=this._boundXhrOnError,t.ontimeout=this._boundXdrOnTimeout,t.onprogress=this._boundOnProgress,t.onload=this._boundXhrOnLoad,t.open("GET",this.url,!0),setTimeout(function(){return t.send()},1)},t.prototype._createSource=function(t,e,i){i||(i=t+"/"+this._getExtension(e));var n=document.createElement("source");return n.src=e,n.type=i,n},t.prototype._onError=function(t){this.abort("Failed to load element using: "+t.target.nodeName)},t.prototype._onProgress=function(t){t&&t.lengthComputable&&this.onProgress.dispatch(this,t.loaded/t.total)},t.prototype._xhrOnError=function(){var t=this.xhr;this.abort(s(t)+" Request failed. Status: "+t.status+', text: "'+t.statusText+'"')},t.prototype._xhrOnAbort=function(){this.abort(s(this.xhr)+" Request was aborted by the user.")},t.prototype._xdrOnTimeout=function(){this.abort(s(this.xhr)+" Request timed out.")},t.prototype._xhrOnLoad=function(){var e=this.xhr,i="",n="undefined"==typeof e.status?v:e.status;""!==e.responseType&&"text"!==e.responseType&&"undefined"!=typeof e.responseType||(i=e.responseText),n===y&&i.length>0?n=v:n===g&&(n=m);var r=n/100|0;if(r!==_)return void this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL);if(this.xhrType===t.XHR_RESPONSE_TYPE.TEXT)this.data=i,this.type=t.TYPE.TEXT;else if(this.xhrType===t.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(i),this.type=t.TYPE.JSON}catch(t){return void this.abort("Error trying to parse loaded json: "+t)}else if(this.xhrType===t.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var o=new DOMParser;this.data=o.parseFromString(i,"text/xml")}else{var a=document.createElement("div");a.innerHTML=i,this.data=a}this.type=t.TYPE.XML}catch(t){return void this.abort("Error trying to parse loaded xml: "+t)}else this.data=e.response||i;this.complete()},t.prototype._determineCrossOrigin=function(t,e){if(0===t.indexOf("data:"))return"";e=e||window.location,p||(p=document.createElement("a")),p.href=t,t=(0,h.default)(p.href,{strictMode:!0});var i=!t.port&&""===e.port||t.port===e.port,n=t.protocol?t.protocol+":":"";return t.host===e.hostname&&i&&n===e.protocol?"":"anonymous"},t.prototype._determineXhrType=function(){return t._xhrTypeMap[this.extension]||t.XHR_RESPONSE_TYPE.TEXT},t.prototype._determineLoadType=function(){return t._loadTypeMap[this.extension]||t.LOAD_TYPE.XHR},t.prototype._getExtension=function(){var t=this.url,e="";if(this.isDataUrl){var i=t.indexOf("/");e=t.substring(i+1,t.indexOf(";",i))}else{var n=t.indexOf("?"),r=t.indexOf("#"),o=Math.min(n>-1?n:t.length,r>-1?r:t.length);t=t.substring(0,o),e=t.substring(t.lastIndexOf(".")+1)}return e.toLowerCase()},t.prototype._getMimeFromXhrType=function(e){switch(e){case t.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case t.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case t.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case t.XHR_RESPONSE_TYPE.JSON:return"application/json";case t.XHR_RESPONSE_TYPE.DEFAULT:case t.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},u(t,[{key:"isDataUrl",get:function(){return this._hasFlag(t.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(t.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(t.STATUS_FLAGS.LOADING)}}]),t}();e.default=b,b.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},b.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},b.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},b.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},b._loadTypeMap={gif:b.LOAD_TYPE.IMAGE,png:b.LOAD_TYPE.IMAGE,bmp:b.LOAD_TYPE.IMAGE,jpg:b.LOAD_TYPE.IMAGE,jpeg:b.LOAD_TYPE.IMAGE,tif:b.LOAD_TYPE.IMAGE,tiff:b.LOAD_TYPE.IMAGE,webp:b.LOAD_TYPE.IMAGE,tga:b.LOAD_TYPE.IMAGE,svg:b.LOAD_TYPE.IMAGE,"svg+xml":b.LOAD_TYPE.IMAGE,mp3:b.LOAD_TYPE.AUDIO,ogg:b.LOAD_TYPE.AUDIO,wav:b.LOAD_TYPE.AUDIO,mp4:b.LOAD_TYPE.VIDEO,webm:b.LOAD_TYPE.VIDEO},b._xhrTypeMap={xhtml:b.XHR_RESPONSE_TYPE.DOCUMENT,html:b.XHR_RESPONSE_TYPE.DOCUMENT,htm:b.XHR_RESPONSE_TYPE.DOCUMENT,xml:b.XHR_RESPONSE_TYPE.DOCUMENT,tmx:b.XHR_RESPONSE_TYPE.DOCUMENT,svg:b.XHR_RESPONSE_TYPE.DOCUMENT,tsx:b.XHR_RESPONSE_TYPE.DOCUMENT,gif:b.XHR_RESPONSE_TYPE.BLOB,png:b.XHR_RESPONSE_TYPE.BLOB,bmp:b.XHR_RESPONSE_TYPE.BLOB,jpg:b.XHR_RESPONSE_TYPE.BLOB,jpeg:b.XHR_RESPONSE_TYPE.BLOB,tif:b.XHR_RESPONSE_TYPE.BLOB,tiff:b.XHR_RESPONSE_TYPE.BLOB,webp:b.XHR_RESPONSE_TYPE.BLOB,tga:b.XHR_RESPONSE_TYPE.BLOB,json:b.XHR_RESPONSE_TYPE.JSON,text:b.XHR_RESPONSE_TYPE.TEXT,txt:b.XHR_RESPONSE_TYPE.TEXT,ttf:b.XHR_RESPONSE_TYPE.BUFFER,otf:b.XHR_RESPONSE_TYPE.BUFFER},b.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}e.__esModule=!0;var o=i(1),a=(r(o),i(23)),s=n(a),u=i(121),l=n(u),h={};h.getUserName=function(){var t=s.default.getJson("config").COOKIES_BUNDLE_ID;s.default.getJson("config").config&&(t=s.default.getJson("config").config.ARCADE_COOKIES_BUNDLE_ID);var e=new l.default(t),i=e.getObject("userName");return i||(i=null),i},h.setUserName=function(t){var e=s.default.getJson("config").COOKIES_BUNDLE_ID;s.default.getJson("config").config&&(e=s.default.getJson("config").config.ARCADE_COOKIES_BUNDLE_ID);var i=new l.default(e);i.storeObject("userName",t)},e.default=h,t.exports=e.default},function(t,e){"use strict";e.__esModule=!0,e.default={stageData:{frameRate:24,height:300,totalFrames:30,width:400},transformData:{user_name:{rotation:null,startFrame:0,view:"name.png",isImage:!1,endFrame:28,position:[191.95,118.25,191.95,117.7,191.9,117.2,192.05,116.35,192,116.5,192,116.5,192,116.5,192,116.5,192,116.5,192,116.5,192,116.5,192,116.5,192.05,116.35,192.05,117.25,191.95,118.25,191.95,118.25,191.95,118.25,191.95,118.25,191.95,118.25,191.95,118.25,191.95,118.25,191.95,118.25,191.95,118.25,191.95,118.25,191.95,118.25,191.95,118.25,191.95,118.25,191.95,118.25],depth:0,alpha:[0,.33,.67,1,1,1,1,1,1,1,1,1,1,.5,0,0,0,0,0,0,0,0,0,0,0,0,0,0],scale:[.2,.2,.6,.6,1,1,1.4,1.4,1.3,1.3,1.3,1.3,1.3,1.3,1.3,1.3,1.3,1.3,1.3,1.3,1.3,1.3,1.3,1.3,1.4,1.4,.8,.8,.2,.2,.2,.2,.2,.2,.2,.2,.2,.2,.2,.2,.2,.2,.2,.2,.2,.2,.2,.2,.2,.2,.2,.2,.2,.2,.2,.2],depthT:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]},score:{rotation:null,startFrame:0,view:"score",isImage:!1,endFrame:28,position:[201,259.05,201,259.05,201,259.05,201,259.05,201,259.05,201,259.05,201,259.05,201,259.05,201,259.05,201,259.05,201,259.05,201,259.05,201,259.05,201,259.05,201,259.05,201,259.05,201,259.05,199.9,258.65,198.75,258.25,198.7,258.2,198.7,258.2,198.7,258.2,198.75,258.25,199.8,258.65,201,259.05,201,259.05,201,259.05,201,259.05],depth:1,alpha:null,scale:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1.05,1.05,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.1,1.05,1.05,1,1,1,1,1,1,1,1],depthT:[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]}}},t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(168),s=n(a),u=i(3),l=n(u),h=function(){function t(e){var i=this;r(this,t),this.game=e,this.keyboard=new s.default,this.onActionPress=new l.default,this.keyboard.onKeyPress("space",function(){return i.onActionPress.dispatch()}),this.reset(),this.disable()}return t.prototype.update=function(){var t=0,e=0;this.keyboard.isPressed("left")&&(t-=1),this.keyboard.isPressed("right")&&(t+=1),this.keyboard.isPressed("up")&&(e-=1),this.keyboard.isPressed("down")&&(e+=1),this._x=t,this._y=e},t.prototype.enable=function(){this._enabled=!0},t.prototype.disable=function(){this.reset(),this._enabled=!1},t.prototype.reset=function(){this._x=this._y=0},t.prototype.resize=function(t,e){},o(t,[{key:"x",get:function(){return this._x}},{key:"y",get:function(){return this._y}}]),t}();e.default=h,t.exports=e.default},function(t,e,i){var n;n=function(t,e,i){var n=function(t,e,i,n,r){this.object1=t,this.object2=e,this.penetration=i,this.projection=n,this.ignore=r||!1,this._key=null,this._tickId=null};n.prototype.getOtherObject=function(t){return t===this.object1?this.object2:this.object1},n.pool=[],i.exports=n}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){var r=i(135),o=i(381),a=i(105),s=(i(382),function(){this.staticItems=new r,this.kinimaticItems=new r,this.dynamicItems=new r,this.collisions=[],this.narrowPhase=new o,this.dt=1,this.collisionKeys={},this.DEBUG=!1,this.count=0});s.prototype.init=function(t){},s.prototype.preupdate=function(){},s.prototype.add=function(t){t.body&&(this.DEBUG&&(t._debugView||(t._debugView=t.body.getDebugView(),t._debugView.alpha=.5,t.view&&t.view.addChild(t._debugView))),t.body.type===a.STATIC?this.staticItems.add(t):t.body.type===a.KINIMATIC?this.kinimaticItems.add(t):t.body.type===a.DYNAMIC&&this.dynamicItems.add(t))},s.prototype.remove=function(t){t.body&&(t.body.type===a.STATIC?this.staticItems.remove(t):t.body.type===a.KINIMATIC?this.kinimaticItems.remove(t):t.body.type===a.DYNAMIC&&this.dynamicItems.remove(t))},s.prototype.update=function(){for(var t=0;t<this.dynamicItems.children.length;t++)this.dynamicItems.children[t].body.update(this.dt);this.count++;var e=this.getCollisions();this.narrowPhase.hitTest(e)},s.prototype.postupdate=function(t){},s.prototype.reset=function(){this.staticItems.empty(),this.kinimaticItems.empty(),this.dynamicItems.empty(),this.collisions.length=0,this.narrowPhase.reset()},s.prototype.onCollision=function(t,e){},s.prototype.getKey=function(t,e){return(t<<12)+e},s.prototype.registerCollison=function(t,e){this.collisionKeys[this.getKey(t,e)]=!0,this.collisionKeys[this.getKey(e,t)]=!0},s.prototype.getCollisions=function(){this.collisions.length=0;var t=this.dynamicItems.children;this.sortAxisList(t);for(var e=0;e<t.length;e++)for(var i=t[e],n=i.body.position.x+i.body.boundingBox.x+i.body.boundingBox.width+5,r=e+1;r<t.length;r++){var o=t[r],a=o.body.position.x+o.body.boundingBox.x-5;if(n<=a)break;var s=!0,u=this.getKey(o.type,i.type);this.collisionKeys[u]&&(o.canCollide&&i.canCollide||(s=!1)),s&&this.collisions.push(i,o)}for(var e=0;e<this.dynamicItems.children.length;e++)for(var l=this.dynamicItems.children[e],h=this.staticItems.children,r=0;r<h.length;r++){var c=h[r];c.canCollide&&l.canCollide&&this.collisions.push(l,c)}for(var e=0;e<this.dynamicItems.children.length;e++)for(var r=0;r<this.kinimaticItems.children.length;r++){var l=this.dynamicItems.children[e],c=this.kinimaticItems.children[r],s=!0,u=this.getKey(c.type,l.type);this.collisionKeys[u]?l.canCollide&&c.canCollide||(s=!1):s=!1,s&&(l.debug,this.collisions.push(l,c))}return this.collisions},s.prototype.sortAxisList=function(t){for(var e=1,i=t.length;e<i;e++){for(var n=t[e],r=e-1;r>=0;r--){var o=t[r];if(o.body.boundingBox.x+o.body.position.x<=n.body.boundingBox.x+n.body.position.x)break;t[r+1]=t[r]}t[r+1]=n}return t},s.prototype.castRay=function(t,e){},s.prototype.constrainToBounds=function(){for(var t=this.bounds,e=0;e<this.dynamicItems.children.length;e++){var i=this.dynamicItems.children[e].body;i.position.x+i.shape.x<t.x?i.position.x=t.x+i.shape.x:i.position.x+i.shape.x+i.shape.width>t.x+t.width&&(i.position.x=t.x+t.width-(i.shape.x+i.shape.width)),i.position.y+i.shape.y<t.y?i.position.y=t.y+i.shape.y:i.position.y+i.shape.y+i.shape.height>t.y+t.height&&(i.position.y=t.y+t.height-(i.shape.y+i.shape.height))}},s.prototype.setBounds=function(t){this.bounds.x=t.x,this.bounds.y=t.y,this.bounds.width=t.width,this.bounds.height=t.height},s.prototype.clear=function(){this.reset()},n.exports=s}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){"use strict";var n=(i(1),i(64)),r=new n,o=function(t,e,i){var o=t.body,a=e.body,s=o.shape,u=a.shape,l=o.position.x+s.x,h=o.position.y+s.y,c=l-a.position.x,f=h-a.position.y,d=u.left,p=u.right,y=u.top,v=u.bottom,m=c,g=f;c<d?m=d:c>p&&(m=p),f<y?g=y:f>v&&(g=v);var _,b=m-c,w=g-f,x=Math.sqrt(b*b+w*w);if(0===x){var T=c-d,S=p-c,E=f-y,C=v-f,x=999999;T<x&&(x=T),S<x&&(x=S),E<x&&(x=E),C<x&&(x=C);var P=r;x==T?(P.x=-1,P.y=1e-5):x==S?(P.x=1,P.y=1e-5):x==E?(P.x=1e-5,P.y=-1):x==C&&(P.x=1e-5,P.y=1);var M=-x-s.radius,_=i(t,e,M,P);if(!_.ignore)return _}else if(x<s.radius){var M=x-s.radius,P=new n;0===x&&(x+=.001),P.x=-b/x,P.y=-w/x;var _=i(t,e,M,P);if(!_.ignore)return _}return null};t.exports=o},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(14),s=n(a),u=i(42),l=n(u),h=function(){function t(e){r(this,t),this.item=e,this.animationManager=new l.default,this.animationManager.onComplete.add(this.onAnimationCompleted,this)}return t.prototype.init=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,i=arguments[2],n=arguments[3],r=arguments[4],o=void 0;if(t instanceof Array){o=[];for(var a=t,u=Array.isArray(a),l=0,a=u?a:a[Symbol.iterator]();;){var h;if(u){if(l>=a.length)break;h=a[l++]}else{if(l=a.next(),l.done)break;h=l.value}var c=h;o.push(PIXI.Texture.fromFrame(c))}}else o=s.default.getTexturesFromFramesWithPrefix(t,i,n,r);return this.animationManager.register("animation",{frames:o,speed:e,loop:!1}),this.sprite=new PIXI.Sprite(o[0]),this.sprite},t.prototype.play=function(){this.animationManager.play("animation"),this.isPlaying=!0},t.prototype.update=function(){this.isPlaying&&(this.animationManager.update(),this.sprite.texture=this.animationManager.texture)},t.prototype.reset=function(){this.sprite.parent&&this.sprite.parent.removeChild(this.sprite),this.isPlaying=!1,this.animationManager.currentAnimation=null},t.prototype.onAnimationCompleted=function(){this.item.destroy()},o(t,null,[{key:"id",get:function(){return"playAndDestroyComponent"}}]),t}();e.default=h,t.exports=e.default},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(21),a=function(){function t(e){n(this,t),this.item=e,this.duration=1}return t.prototype.initTimeline=function(){var t=this.tl=new o.TimelineLite({paused:!0,onComplete:this.onCompleted,onCompleteScope:this});t.set(this._target,{alpha:1}),t.set(this._target.scale,{x:0,y:0}),t.set(this._target.position,{y:this.startY}),t.to(this._target.scale,.3,{x:1,ease:Back.easeOut},0),t.to(this._target.scale,.4,{y:1,ease:Back.easeOut},0),t.to(this._target.position,this.duration,{y:this.startY-100,ease:Power1.easeOut},0),t.to(this._target,.25*this.duration,{alpha:0},.75*this.duration)},t.prototype.activate=function(){this.isActive=!0},t.prototype.deactivate=function(){this.isActive=!1},t.prototype.update=function(){this.isActive&&(void 0===this.startY&&(this.startY=this.item.position.y),this.tl.time(this.tl.time()+1/60))},t.prototype.onCompleted=function(){this.item.destroy()},t.prototype.reset=function(){this.isActive=!1,this.tl.time(0)},r(t,[{key:"target",set:function(t){this._target=t,this.startY=t.y,this.initTimeline()}}],[{key:"id",get:function(){return"scorePopFadeComponent"}}]),t}();e.default=a,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=r(l),c=i(6),f=n(c),d=i(17),p=n(d),y=i(200),v=n(y),m=function(t){function e(){o(this,e);var i=new h.Container,n=a(this,t.call(this,0,0,i));return n.popClip=p.default.getScorePopText("XXX"),n.popClip.anchor.set(.5),i.addChild(n.popClip),n.add(v.default),n.scorePopFadeComponent.target=n.popClip,n}return s(e,t),e.prototype.addedToWorld=function(){this.scorePopFadeComponent.activate()},u(e,[{key:"text",set:function(t){this.popClip.text=t}}]),e}(f.default);e.default=m,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=r(l),c=i(42),f=n(c),d=i(14),p=n(d),y=function(t){function e(i){o(this,e);var n=a(this,t.call(this));return n.sprite=new h.Sprite,n.addChild(n.sprite),n.animationManager=new f.default,n.animationManager.register("idle",{frames:p.default.getTexturesFromFramesWithPrefix(i+"/"+i+"0%%.png"),speed:.4,loop:!0}),n.idle(),n}return s(e,t),e.prototype.update=function(){this.animationManager.update(),this.sprite.texture=this.animationManager.texture},e.prototype.idle=function(){this.animationManager.play("idle")},e.prototype.down=function(){},e.prototype.cry=function(){},e.prototype.hit=function(){},u(e,[{key:"characterTexture",get:function(){return this.sprite.texture}}]),e}(h.Container);e.default=y,y.Candy1=function(t){function e(){return o(this,e),a(this,t.call(this,"strawberry"))}return s(e,t),e}(y),y.Candy2=function(t){function e(){return o(this,e),a(this,t.call(this,"twinkie"))}return s(e,t),e}(y),y.Zombie1=function(t){function e(){return o(this,e),a(this,t.call(this,"zombie_cc"))}return s(e,t),e}(y),y.Zombie2=function(t){function e(){return o(this,e),a(this,t.call(this,"zombie_cinnamon"))}return s(e,t),e}(y),y.Zombie3=function(t){function e(){return o(this,e),a(this,t.call(this,"zombie_heart"))}return s(e,t),e}(y),t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(1),u=r(s),l=i(42),h=n(l),c=i(14),f=n(c),d=i(3),p=n(d),y=function(){function t(e){o(this,t),this.item=e,this.onStateStart=new p.default,this.onStateComplete=new p.default}return t.prototype.update=function(){this._state&&this.animationManager.update()},t.prototype.reset=function(){},t.prototype.initAnimations=function(t){this.animationManager&&this.animationManager.onComplete.removeAll(),this.animationManager=new h.default,this.animationManager.onComplete.add(this.onAnimationCompleted,this);var e=this.animationManager;e.register("idle",{frames:f.default.getTexturesFromFramesWithPrefix("animations/finn_idle/finn_idle00%%.png"),speed:.5,loop:!0,anchor:{x:.5,y:.95}}),e.register("beginAttack",{frames:[u.Texture.fromFrame("animations/finn_attack/finn_attack0001.png"),u.Texture.fromFrame("animations/finn_attack/finn_attack0002.png"),u.Texture.fromFrame("animations/finn_attack/finn_attack0003.png")],speed:.7,loop:!1}),e.register("attack",{frames:[u.Texture.fromFrame("animations/finn_attack/finn_attack0004.png"),u.Texture.fromFrame("animations/finn_attack/finn_attack0005.png"),u.Texture.fromFrame("animations/finn_attack/finn_attack0006.png"),u.Texture.fromFrame("animations/finn_attack/finn_attack0007.png")],speed:.7,loop:!1}),e.register("smallJump",{frames:[u.Texture.fromFrame("animations/finn_attack/finn_attack0009.png"),u.Texture.fromFrame("animations/finn_attack/finn_attack0010.png"),u.Texture.fromFrame("animations/finn_attack/finn_attack0011.png"),u.Texture.fromFrame("animations/finn_attack/finn_attack0012.png")],speed:.7,loop:!1}),e.register("backAttack",{frames:[u.Texture.fromFrame("animations/finn_attack/finn_attack0008.png")],speed:.7,loop:!1}),e.register("hit",{frames:f.default.getTexturesFromFramesWithPrefix("animations/finn_hit/finn_hit00%%.png"),speed:.3,loop:!1}),this.setState("idle")},t.prototype.setState=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._state=t,this.animationManager.play(t,null,e),this.onStateStart.dispatch(t),this.animationManager.update()},t.prototype.onAnimationCompleted=function(t){switch(this.onStateComplete.dispatch(this._state),t){case"hit":break;case"stumble":}},a(t,[{key:"state",get:function(){return this._state}},{key:"texture",get:function(){return this.animationManager.texture}},{key:"anchor",get:function(){return this.animationManager.currentAnimation.anchor||{x:.5,y:.95}}},{key:"speed",set:function(t){this._runSpeed=t}}],[{key:"id",get:function(){return"playerAnimationComponent"}}]),t}();e.default=y,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(108),u=n(s),l=i(16),h=n(l),c=i(17),f=n(c),d=function(t){function e(i){r(this,e);var n=o(this,t.call(this));return n.game=i,n.container=new PIXI.Container,n.addChild(n.container),n.feedbacPerfectLabel=f.default.getFirePerfectPopStyle(""),n.feedbacPerfectLabel.style.fill="#FFFFFF",n.addChild(n.feedbacPerfectLabel),n.feedbacGreatLabel=f.default.getFireGreatPopStyle(""),n.feedbacGreatLabel.style.fill="#FFFFFF",n.addChild(n.feedbacGreatLabel),n.feedbacGoodLabel=f.default.getFireGoodPopStyle(""),n.feedbacGoodLabel.style.fill="#FFFFFF",n.addChild(n.feedbacGoodLabel),n.scoreLabel=f.default.getScorePopText(""),n.scoreLabel.style.fill="#FFFFFF",n.addChild(n.scoreLabel),n.perfectLabels=["PERFECT","AWESOME"],n.greatLabels=["Great","Sweet","Juicy"],n.goodLabels=["Good","Nice"],n.lane=1,n}return a(e,t),e.prototype.build=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:30;arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0";this.radius=t,this.backgroundMarker1=PIXI.Sprite.fromFrame("fire_dot_normal.png"),this.backgroundMarker1.anchor.set(.5),this.standardScale=t/this.backgroundMarker1.width*2*1.9,this.scale.set(this.standardScale),this.container.addChild(this.backgroundMarker1),this.container.tint=255,this.speed=0},e.prototype.beat=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5;this.active&&(TweenLite.killTweensOf(this.container.scale),this.container.scale.set(1.25),TweenLite.to(this.container.scale,t,{x:1,y:1,ease:Elastic.easeOut}))},e.prototype.reset=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"tap";this.killed=!1,this.active=!0,this.move=!0,this.alpha=1,this.container.scale.set(1),this.scoreLabel.text="",this.scoreLabel.alpha=1,this.feedbacPerfectLabel.text="",this.feedbacPerfectLabel.alpha=1,this.feedbacGreatLabel.text="",this.feedbacGreatLabel.alpha=1,this.feedbacGoodLabel.text="",this.feedbacGoodLabel.alpha=1,this.backgroundMarker1.texture=PIXI.Texture.fromFrame("fire_dot_normal.png"),this.backgroundMarker1.alpha=1,this.currentHitPoint=0,this.feedbacPerfectLabel.pivot.x=this.feedbacPerfectLabel.width/2,this.feedbacPerfectLabel.pivot.y=this.feedbacPerfectLabel.height/2,this.feedbacGreatLabel.pivot.x=this.feedbacGreatLabel.width/2,this.feedbacGreatLabel.pivot.y=this.feedbacGreatLabel.height/2,this.feedbacGoodLabel.pivot.x=this.feedbacGoodLabel.width/2,this.feedbacGoodLabel.pivot.y=this.feedbacGoodLabel.height/2,this.type=t,this.holdMarkers=[]},e.prototype.addHoldMarker=function(t){this.holdMarkers.push(t)},e.prototype.getSoundLabel=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i="guitar_0"+this.lane;return"hold"!=this.type||e||(i="fire_long_chord_0"+this.lane),"release"==this.type&&h.default.sfx.play("fire_held_note_release_0"+this.lane,.65),this.currentHitPoint<=.5&&!t&&(this.currentHitPoint=1,i="guitar_glitch"),i},e.prototype.deactive=function(){TweenLite.killTweensOf(this.container.scale),this.game.missMarker(.5,this),this.backgroundMarker1.texture=PIXI.Texture.fromFrame("fire_dot_miss.png");var t=.6;"tap"!=this.type?t=1.9:TweenLite.to(this.container.scale,.5,{x:2,y:2,ease:Elastic.easeOut}),TweenLite.to(this.container.scale,.5,{delay:t,x:.5,y:.5}),TweenLite.to(this,.35,{delay:t,alpha:0}),this.active=!1},e.prototype.kill=function(){this.killed=!0,this.remove()},e.prototype.holded=function(t,e){if("release"!=this.type&&"hold"==this.type){this.speed*=.5,this.active=!1,this.backgroundMarker1.texture=PIXI.Texture.fromFrame("fire_dot_hit.png");var i=this.getProperPoints(t,2),n=i.points,r=i.color;this.popLabel(100*n,r),this.currentHitPoint=n,this.game.updateHitPoints(n,this)}},e.prototype.getProperPoints=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=1,n=0,r="";
return t<.75*this.radius*e?(this.backgroundMarker1.texture=PIXI.Texture.fromFrame("fire_dot_hit.png"),r=this.perfectLabels[Math.floor(this.perfectLabels.length*Math.random())],i=u.default.gameConf.perfect,this.tempScore+=100,n=0):t<1.25*this.radius*e?(this.backgroundMarker1.texture=PIXI.Texture.fromFrame("fire_dot_blue.png"),i=u.default.gameConf.great,r=this.greatLabels[Math.floor(this.greatLabels.length*Math.random())],n=1):(this.backgroundMarker1.texture=PIXI.Texture.fromFrame("fire_dot_pink.png"),i=u.default.gameConf.good,r=this.goodLabels[Math.floor(this.goodLabels.length*Math.random())],n=2),{points:i,color:n}},e.prototype.release=function(t,e){if("release"==this.type){this.speed*=.5,this.active=!1;var i=this.getProperPoints(t),n=i.points,r=i.color;n>u.default.gameConf.good&&(this.x=e),this.container.scale.set(.2),this.popLabel(100*n,r),TweenLite.to(this.container.scale,.8,{x:1.3,y:1.3,ease:Elastic.easeOut}),TweenLite.to(this,.4,{delay:2.4,y:this.y-50,alpha:0,onComplete:this.kill,onCompleteScope:this}),this.currentHitPoint=n,this.game.updateHitPoints(n,this)}},e.prototype.tapped=function(t,e){if("release"!=this.type&&"tap"==this.type){this.speed*=.5,this.active=!1;var i=this.getProperPoints(t),n=i.points,r=i.color;n>u.default.gameConf.good&&(this.x=e),this.container.scale.set(.2),this.popLabel(100*n,r),TweenLite.to(this.container.scale,.8,{x:1.3,y:1.3,ease:Elastic.easeOut}),TweenLite.to(this,.8,{y:this.y-50}),TweenLite.to(this,.4,{delay:.4,y:this.y-50,alpha:0,onComplete:this.kill,onCompleteScope:this}),this.currentHitPoint=n,this.game.updateHitPoints(n,this)}},e.prototype.updateScore=function(t){this.scoreLabel.text=t,this.scoreLabel.pivot.x=this.scoreLabel.width/2,this.scoreLabel.pivot.y=this.scoreLabel.height/2,this.scoreLabel.scale.set(0),this.scoreLabel.rotation=2*Math.random()-1,this.scoreLabel.y=0,TweenLite.to(this.scoreLabel.scale,.8,{x:1,y:1,ease:Elastic.easeOut}),TweenLite.to(this.scoreLabel,1.3,{rotation:0,ease:Elastic.easeOut})},e.prototype.popLabel=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=void 0;i=0==e?this.feedbacPerfectLabel:1==e?this.feedbacGreatLabel:this.feedbacGoodLabel,i.text=t,i.pivot.x=i.width/2,i.pivot.y=i.height/2,i.scale.set(0),i.rotation=2*Math.random()-1,i.y=0,TweenLite.to(i.scale,.8,{x:1,y:1,ease:Elastic.easeOut}),TweenLite.to(i,1.3,{y:2*-this.radius-2*i.height-20,rotation:0,ease:Elastic.easeOut})},e.prototype.remove=function(){this.game.removeMarker(this)},e.prototype.update=function(t){this.move&&(this.x+=t*this.speed),this.active&&(this.speed<0&&this.x<this.game.visualTouchArea.x-this.width/2?this.deactive():this.speed>0&&this.x>this.game.visualTouchArea.x-this.width/2&&this.deactive()),(this.speed<0&&this.x<-this.width||this.speed>0&&this.x>this.game.w+2*this.width)&&this.kill()},e}(PIXI.Container);e.default=d,t.exports=e.default},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(1),s=n(a),u=i(21),l=function(){function t(e){r(this,t),this.livesTotal=e,this.view=new s.Container,this.container=new s.Container,this.view.addChild(this.container),this.lifeIcons=[];var i=s.Texture.fromFrame("heart.png"),n=0,o=this.spacing=20;this.lifeWidth=i.width;for(var a=0;a<e;a++){var u=new s.Sprite(i);u.anchor.set(.5),u.position.x=n,this.container.addChild(u),this.lifeIcons.push(u),n+=u.width+o}}return t.prototype.setPosition=function(t){var e=Math.max(0,t-1),i=e*(this.lifeWidth+this.spacing);u.TweenMax.to(this.container.position,.3,{x:-i/2,ease:Power2.easeInOut})},o(t,[{key:"lives",set:function(t){for(var e=0;e<this.lifeIcons.length;e++){var i=this.lifeIcons[e],n=e<t?1:0,r=e<=t?Back.easeIn:Back.easeOut;u.TweenMax.to(i.scale,.3,{x:n,y:n,ease:r})}this.setPosition(t)}}]),t}();e.default=l,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(14),s=n(a),u=i(42),l=n(u),h=function(){function t(e){r(this,t),this.item=e,this.animationManager=new l.default}return t.prototype.init=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5,i=arguments[2],n=arguments[3],r=arguments[4],o=s.default.getTexturesFromFramesWithPrefix(t,i,n,r);return this.animationManager.register("animation",{frames:o,speed:e,loop:!0}),this.sprite=new PIXI.Sprite(o[0]),this.animationManager.play("animation"),this.sprite},t.prototype.update=function(){this.animationManager.update(),this.sprite.texture=this.animationManager.texture},o(t,null,[{key:"id",get:function(){return"playAnimationComponent"}}]),t}();e.default=h,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(3),s=n(a),u=0,l=1,h=function(){function t(){r(this,t),this.onActionPress=new s.default,this.constantDeceleration=.99,this.inactiveDeceleration=.97,this.acceleration=.1,this._x=this.easedX=0,this.disable()}return t.prototype.enable=function(){this._enabled=!0},t.prototype.disable=function(){this.lastDirection=null,this._enabled=!1},t.prototype.update=function(){this.count++;var t=this.count>30?this.inactiveDeceleration:this.constantDeceleration;!this.onGround&&this._enabled||(this._x*=t),this._x=Math.max(0,Math.min(this._x,1)),this.easedX=this.easedX+.5*(this._x-this.easedX)},t.prototype.updateLeft=function(){this._enabled&&this.updateDirection(u)},t.prototype.updateRight=function(){this._enabled&&this.updateDirection(l)},t.prototype.updateDirection=function(t){this.lastDirection=t,this.powerUp()},t.prototype.powerUp=function(){this.onGround&&this._enabled&&(this._x+=this.acceleration,this.count=0)},t.prototype.dispatchAction=function(){this._enabled&&this.onActionPress.dispatch()},t.prototype.reset=function(){this.onGround=!0,this.lastDirection=null,this._x=0},t.prototype.resize=function(t,e){},o(t,[{key:"x",get:function(){return this.easedX}}]),t}();e.default=h,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(78),u=n(s),l=function(t){function e(){return r(this,e),o(this,t.call(this))}return a(e,t),e.prototype._reset=function(){this.canCollide=!0},e.prototype.onCollideBegin=function(t){var e=t.getOtherObject(this);e.isPlayer&&(this.doHit(),t.ignore=!0,e.signals.onObstacleHit.dispatch(this))},e.prototype.doHit=function(){this.destroy()},e}(u.default);e.default=l,t.exports=e.default},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(6),l=r(u),h=i(29),c=n(h),f=i(1),d=n(f),p=i(441),y=r(p),v=i(442),m=r(v),g=i(440),_=r(g),b=function(t){function e(i,n){o(this,e);var r=500,s=200,u=c.CrashBody.fromRect(-r,-s,r,s),l=d.Sprite.fromFrame("slime.png");l.anchor.set(.95,1),l.layer="front";var h=a(this,t.call(this,0,0,l,u));h.closeDistance=100,h.closeDuration=180,h.groups=["slime"],h.add(_.default),h.add(y.default),h.add(m.default);var f=h.slimeFaceComponent.view;return f.position.set(-100,-140),f.scale.set(.6),h.view.addChild(f),h._reset(),h}return s(e,t),e.prototype.init=function(t){this.slimeMoveComponent.init(t)},e.prototype.update=function(){var t=this.slimeFaceComponent.distanceToPlayer;!this.isClose&&this.lastDistance>this.closeDistance&&t<this.closeDistance?(this.isClose=!0,this.closeCount=0):this.isClose&&(this.closeCount++,this.closeCount===this.closeDuration&&(this.isClose=!1)),this.stumbleCount>0&&this.stumbleCount--,this.lastDistance=t},e.prototype.removedFromWorld=function(){this.slimeMoveComponent.sound.stop()},e.prototype._reset=function(){this.closeCount=0,this.stumbleCount=0,this.lastDistance=1/0,this.isClose=!1,this.currentPlatform=null,t.prototype._reset.call(this)},e.prototype.stopChasing=function(){this.slimeMoveComponent.enabled=!1},e.prototype.startChasing=function(){this.slimeMoveComponent.enabled=!0,this.slimeMoveComponent.sound.play()},e.prototype.onPlayerStumble=function(){var t=300,e=this.stumbleCount>0&&this.stumbleCount<t-30,i=e?-30:50;this.slimeMoveComponent.easeToPlayer(i,.05),this.stumbleCount=t},e.prototype.respawn=function(){this.stumbleCount=0,this.slimeMoveComponent.respawn(),this.slimeFaceComponent.idle()},e.prototype.gameOver=function(){this.slimeFaceComponent.smile(),this.slimeMoveComponent.sound.stop()},e.prototype.onCollideBegin=function(t){t.ignore=!0;var e=t.getOtherObject(this);e.isPlayer&&(this.slimeFaceComponent.chomp(),e.signals.onSlurp.dispatch())},e}(l.default);e.default=b,t.exports=e.default},function(t,e,i){var n=i(43);t.exports=function(t,e){if("number"!=typeof t&&"Number"!=n(t))throw TypeError(e);return+t}},function(t,e,i){"use strict";var n=i(27),r=i(72),o=i(25);t.exports=[].copyWithin||function(t,e){var i=n(this),a=o(i.length),s=r(t,a),u=r(e,a),l=arguments.length>2?arguments[2]:void 0,h=Math.min((void 0===l?a:r(l,a))-u,a-s),c=1;for(u<s&&s<u+h&&(c=-1,u+=h-1,s+=h-1);h-- >0;)u in i?i[s]=i[u]:delete i[s],s+=c,u+=c;return i}},function(t,e,i){var n=i(80);t.exports=function(t,e){var i=[];return n(t,!1,i.push,i,e),i}},function(t,e,i){var n=i(31),r=i(27),o=i(92),a=i(25);t.exports=function(t,e,i,s,u){n(e);var l=r(t),h=o(l),c=a(l.length),f=u?c-1:0,d=u?-1:1;if(i<2)for(;;){if(f in h){s=h[f],f+=d;break}if(f+=d,u?f<0:c<=f)throw TypeError("Reduce of empty array with no initial value")}for(;u?f>=0:c>f;f+=d)f in h&&(s=e(s,h[f],f,l));return s}},function(t,e,i){"use strict";var n=i(31),r=i(12),o=i(114),a=[].slice,s={},u=function(t,e,i){if(!(e in s)){for(var n=[],r=0;r<e;r++)n[r]="a["+r+"]";s[e]=Function("F,a","return new F("+n.join(",")+")")}return s[e](t,i)};t.exports=Function.bind||function(t){var e=n(this),i=a.call(arguments,1),s=function(){var n=i.concat(a.call(arguments));return this instanceof s?u(e,n.length,n):o(e,n,t)};return r(e.prototype)&&(s.prototype=e.prototype),s}},function(t,e,i){"use strict";var n=i(20).f,r=i(67),o=i(70),a=i(52),s=i(65),u=i(44),l=i(80),h=i(152),c=i(221),f=i(71),d=i(19),p=i(55).fastKey,y=d?"_s":"size",v=function(t,e){var i,n=p(e);if("F"!==n)return t._i[n];for(i=t._f;i;i=i.n)if(i.k==e)return i};t.exports={getConstructor:function(t,e,i,h){var c=t(function(t,n){s(t,c,e,"_i"),t._i=r(null),t._f=void 0,t._l=void 0,t[y]=0,void 0!=n&&l(n,i,t[h],t)});return o(c.prototype,{clear:function(){for(var t=this,e=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete e[i.i];t._f=t._l=void 0,t[y]=0},delete:function(t){var e=this,i=v(e,t);if(i){var n=i.n,r=i.p;delete e._i[i.i],i.r=!0,r&&(r.n=n),n&&(n.p=r),e._f==i&&(e._f=n),e._l==i&&(e._l=r),e[y]--}return!!i},forEach:function(t){s(this,c,"forEach");for(var e,i=a(t,arguments.length>1?arguments[1]:void 0,3);e=e?e.n:this._f;)for(i(e.v,e.k,this);e&&e.r;)e=e.p},has:function(t){return!!v(this,t)}}),d&&n(c.prototype,"size",{get:function(){return u(this[y])}}),c},def:function(t,e,i){var n,r,o=v(t,e);return o?o.v=i:(t._l=o={i:r=p(e,!0),k:e,v:i,p:n=t._l,n:void 0,r:!1},t._f||(t._f=o),n&&(n.n=o),t[y]++,"F"!==r&&(t._i[r]=o)),t},getEntry:v,setStrong:function(t,e,i){h(t,e,function(t,e){this._t=t,this._k=e,this._l=void 0},function(){for(var t=this,e=t._k,i=t._l;i&&i.r;)i=i.p;return t._t&&(t._l=i=i?i.n:t._t._f)?"keys"==e?c(0,i.k):"values"==e?c(0,i.v):c(0,[i.k,i.v]):(t._t=void 0,c(1))},i?"entries":"values",!i,!0),f(e)}}},function(t,e,i){var n=i(91),r=i(212);t.exports=function(t){return function(){if(n(this)!=t)throw TypeError(t+"#toJSON isn't generic");return r(this)}}},function(t,e,i){"use strict";var n=i(70),r=i(55).getWeak,o=i(4),a=i(12),s=i(65),u=i(80),l=i(48),h=i(30),c=l(5),f=l(6),d=0,p=function(t){return t._l||(t._l=new y)},y=function(){this.a=[]},v=function(t,e){return c(t.a,function(t){return t[0]===e})};y.prototype={get:function(t){var e=v(this,t);if(e)return e[1]},has:function(t){return!!v(this,t)},set:function(t,e){var i=v(this,t);i?i[1]=e:this.a.push([t,e])},delete:function(t){var e=f(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},t.exports={getConstructor:function(t,e,i,o){var l=t(function(t,n){s(t,l,e,"_i"),t._i=d++,t._l=void 0,void 0!=n&&u(n,i,t[o],t)});return n(l.prototype,{delete:function(t){if(!a(t))return!1;var e=r(t);return e===!0?p(this).delete(t):e&&h(e,this._i)&&delete e[this._i]},has:function(t){if(!a(t))return!1;var e=r(t);return e===!0?p(this).has(t):e&&h(e,this._i)}}),l},def:function(t,e,i){var n=r(o(e),!0);return n===!0?p(t).set(e,i):n[t._i]=i,t},ufstore:p}},function(t,e,i){t.exports=!i(19)&&!i(10)(function(){return 7!=Object.defineProperty(i(144)("div"),"a",{get:function(){return 7}}).a})},function(t,e,i){var n=i(12),r=Math.floor;t.exports=function(t){return!n(t)&&isFinite(t)&&r(t)===t}},function(t,e,i){var n=i(4);t.exports=function(t,e,i,r){try{return r?e(n(i)[0],i[1]):e(i)}catch(e){var o=t.return;throw void 0!==o&&n(o.call(t)),e}}},function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},function(t,e){t.exports=Math.log1p||function(t){return(t=+t)>-1e-8&&t<1e-8?t-t*t/2:Math.log(1+t)}},function(t,e,i){"use strict";var n=i(69),r=i(118),o=i(93),a=i(27),s=i(92),u=Object.assign;t.exports=!u||i(10)(function(){var t={},e={},i=Symbol(),n="abcdefghijklmnopqrst";return t[i]=7,n.split("").forEach(function(t){e[t]=t}),7!=u({},t)[i]||Object.keys(u({},e)).join("")!=n})?function(t,e){for(var i=a(t),u=arguments.length,l=1,h=r.f,c=o.f;u>l;)for(var f,d=s(arguments[l++]),p=h?n(d).concat(h(d)):n(d),y=p.length,v=0;y>v;)c.call(d,f=p[v++])&&(i[f]=d[f]);return i}:u},function(t,e,i){var n=i(20),r=i(4),o=i(69);t.exports=i(19)?Object.defineProperties:function(t,e){r(t);for(var i,a=o(e),s=a.length,u=0;s>u;)n.f(t,i=a[u++],e[i]);return t}},function(t,e,i){var n=i(35),r=i(68).f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return r(t)}catch(t){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):r(n(t))}},function(t,e,i){var n=i(30),r=i(35),o=i(110)(!1),a=i(157)("IE_PROTO");t.exports=function(t,e){var i,s=r(t),u=0,l=[];for(i in s)i!=a&&n(s,i)&&l.push(i);for(;e.length>u;)n(s,i=e[u++])&&(~o(l,i)||l.push(i));return l}},function(t,e,i){var n=i(69),r=i(35),o=i(93).f;t.exports=function(t){return function(e){for(var i,a=r(e),s=n(a),u=s.length,l=0,h=[];u>l;)o.call(a,i=s[l++])&&h.push(t?[i,a[i]]:a[i]);return h}}},function(t,e,i){var n=i(68),r=i(118),o=i(4),a=i(7).Reflect;t.exports=a&&a.ownKeys||function(t){var e=n.f(o(t)),i=r.f;return i?e.concat(i(t)):e}},function(t,e,i){var n=i(7).parseFloat,r=i(83).trim;t.exports=1/n(i(162)+"-0")!==-(1/0)?function(t){var e=r(String(t),3),i=n(e);return 0===i&&"-"==e.charAt(0)?-0:i}:n},function(t,e,i){var n=i(7).parseInt,r=i(83).trim,o=i(162),a=/^[\-+]?0[xX]/;t.exports=8!==n(o+"08")||22!==n(o+"0x16")?function(t,e){var i=r(String(t),3);return n(i,e>>>0||(a.test(i)?16:10))}:n},function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},function(t,e,i){var n=i(25),r=i(161),o=i(44);t.exports=function(t,e,i,a){var s=String(o(t)),u=s.length,l=void 0===i?" ":String(i),h=n(e);if(h<=u||""==l)return s;var c=h-u,f=r.call(l,Math.ceil(c/l.length));return f.length>c&&(f=f.slice(0,c)),a?f+s:s+f}},function(t,e,i){e.f=i(15)},function(t,e,i){"use strict";var n=i(215);t.exports=i(111)("Map",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=n.getEntry(this,t);return e&&e.v},set:function(t,e){return n.def(this,0===t?0:t,e)}},n,!0)},function(t,e,i){i(19)&&"g"!=/./g.flags&&i(20).f(RegExp.prototype,"flags",{configurable:!0,get:i(113)})},function(t,e,i){"use strict";var n=i(215);t.exports=i(111)("Set",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(this,t=0===t?0:t,t)}},n)},function(t,e,i){"use strict";var n,r=i(48)(0),o=i(33),a=i(55),s=i(223),u=i(217),l=i(12),h=a.getWeak,c=Object.isExtensible,f=u.ufstore,d={},p=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},y={get:function(t){if(l(t)){var e=h(t);return e===!0?f(this).get(t):e?e[this._i]:void 0}},set:function(t,e){return u.def(this,t,e)}},v=t.exports=i(111)("WeakMap",p,y,u,!0,!0);7!=(new v).set((Object.freeze||Object)(d),7).get(d)&&(n=u.getConstructor(p),s(n.prototype,y),a.NEED=!0,r(["delete","has","get","set"],function(t){var e=v.prototype,i=e[t];o(e,t,function(e,r){if(l(e)&&!c(e)){this._f||(this._f=new n);var o=this._f[t](e,r);return"set"==t?this:o}return i.call(this,e,r)})}))},function(t,e){"use strict";function i(t,e,i){i=i||2;var r=e&&e.length,a=r?e[0]*i:t.length,s=n(t,0,a,i,!0),u=[];if(!s)return u;var l,c,f,d,p,y,v;if(r&&(s=h(t,e,s,i)),t.length>80*i){l=f=t[0],c=d=t[1];for(var m=i;m<a;m+=i)p=t[m],y=t[m+1],p<l&&(l=p),y<c&&(c=y),p>f&&(f=p),y>d&&(d=y);v=Math.max(f-l,d-c)}return o(s,u,i,l,c,v),u}function n(t,e,i,n,r){var o,a;if(r===O(t,e,i,n)>0)for(o=e;o<i;o+=n)a=P(o,t[o],t[o+1],a);else for(o=i-n;o>=e;o-=n)a=P(o,t[o],t[o+1],a);return a&&w(a,a.next)&&(M(a),a=a.next),a}function r(t,e){if(!t)return t;e||(e=t);var i,n=t;do if(i=!1,n.steiner||!w(n,n.next)&&0!==b(n.prev,n,n.next))n=n.next;else{if(M(n),n=e=n.prev,n===n.next)return null;i=!0}while(i||n!==e);return e}function o(t,e,i,n,h,c,f){if(t){!f&&c&&p(t,n,h,c);for(var d,y,v=t;t.prev!==t.next;)if(d=t.prev,y=t.next,c?s(t,n,h,c):a(t))e.push(d.i/i),e.push(t.i/i),e.push(y.i/i),M(t),t=y.next,v=y.next;else if(t=y,t===v){f?1===f?(t=u(t,e,i),o(t,e,i,n,h,c,2)):2===f&&l(t,e,i,n,h,c):o(r(t),e,i,n,h,c,1);break}}}function a(t){var e=t.prev,i=t,n=t.next;if(b(e,i,n)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(g(e.x,e.y,i.x,i.y,n.x,n.y,r.x,r.y)&&b(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function s(t,e,i,n){var r=t.prev,o=t,a=t.next;if(b(r,o,a)>=0)return!1;for(var s=r.x<o.x?r.x<a.x?r.x:a.x:o.x<a.x?o.x:a.x,u=r.y<o.y?r.y<a.y?r.y:a.y:o.y<a.y?o.y:a.y,l=r.x>o.x?r.x>a.x?r.x:a.x:o.x>a.x?o.x:a.x,h=r.y>o.y?r.y>a.y?r.y:a.y:o.y>a.y?o.y:a.y,c=v(s,u,e,i,n),f=v(l,h,e,i,n),d=t.nextZ;d&&d.z<=f;){if(d!==t.prev&&d!==t.next&&g(r.x,r.y,o.x,o.y,a.x,a.y,d.x,d.y)&&b(d.prev,d,d.next)>=0)return!1;d=d.nextZ}for(d=t.prevZ;d&&d.z>=c;){if(d!==t.prev&&d!==t.next&&g(r.x,r.y,o.x,o.y,a.x,a.y,d.x,d.y)&&b(d.prev,d,d.next)>=0)return!1;d=d.prevZ}return!0}function u(t,e,i){var n=t;do{var r=n.prev,o=n.next.next;!w(r,o)&&x(r,n,n.next,o)&&S(r,o)&&S(o,r)&&(e.push(r.i/i),e.push(n.i/i),e.push(o.i/i),M(n),M(n.next),n=t=o),n=n.next}while(n!==t);return n}function l(t,e,i,n,a,s){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&_(u,l)){var h=C(u,l);return u=r(u,u.next),h=r(h,h.next),o(u,e,i,n,a,s),void o(h,e,i,n,a,s)}l=l.next}u=u.next}while(u!==t)}function h(t,e,i,o){var a,s,u,l,h,d=[];for(a=0,s=e.length;a<s;a++)u=e[a]*o,l=a<s-1?e[a+1]*o:t.length,h=n(t,u,l,o,!1),h===h.next&&(h.steiner=!0),d.push(m(h));for(d.sort(c),a=0;a<d.length;a++)f(d[a],i),i=r(i,i.next);return i}function c(t,e){return t.x-e.x}function f(t,e){if(e=d(t,e)){var i=C(e,t);r(i,i.next)}}function d(t,e){var i,n=e,r=t.x,o=t.y,a=-(1/0);do{if(o<=n.y&&o>=n.next.y){var s=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=r&&s>a){if(a=s,s===r){if(o===n.y)return n;if(o===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!i)return null;if(r===a)return i.prev;var u,l=i,h=i.x,c=i.y,f=1/0;for(n=i.next;n!==l;)r>=n.x&&n.x>=h&&g(o<c?r:a,o,h,c,o<c?a:r,o,n.x,n.y)&&(u=Math.abs(o-n.y)/(r-n.x),(u<f||u===f&&n.x>i.x)&&S(n,t)&&(i=n,f=u)),n=n.next;return i}function p(t,e,i,n){var r=t;do null===r.z&&(r.z=v(r.x,r.y,e,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next;while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,y(r)}function y(t){var e,i,n,r,o,a,s,u,l=1;do{for(i=t,t=null,o=null,a=0;i;){for(a++,n=i,s=0,e=0;e<l&&(s++,n=n.nextZ,n);e++);for(u=l;s>0||u>0&&n;)0===s?(r=n,n=n.nextZ,u--):0!==u&&n?i.z<=n.z?(r=i,i=i.nextZ,s--):(r=n,n=n.nextZ,u--):(r=i,i=i.nextZ,s--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;i=n}o.nextZ=null,l*=2}while(a>1);return t}function v(t,e,i,n,r){return t=32767*(t-i)/r,e=32767*(e-n)/r,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function m(t){var e=t,i=t;do e.x<i.x&&(i=e),e=e.next;while(e!==t);return i}function g(t,e,i,n,r,o,a,s){return(r-a)*(e-s)-(t-a)*(o-s)>=0&&(t-a)*(n-s)-(i-a)*(e-s)>=0&&(i-a)*(o-s)-(r-a)*(n-s)>=0}function _(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!T(t,e)&&S(t,e)&&S(e,t)&&E(t,e)}function b(t,e,i){return(e.y-t.y)*(i.x-e.x)-(e.x-t.x)*(i.y-e.y)}function w(t,e){return t.x===e.x&&t.y===e.y}function x(t,e,i,n){return!!(w(t,e)&&w(i,n)||w(t,n)&&w(i,e))||b(t,e,i)>0!=b(t,e,n)>0&&b(i,n,t)>0!=b(i,n,e)>0}function T(t,e){var i=t;do{if(i.i!==t.i&&i.next.i!==t.i&&i.i!==e.i&&i.next.i!==e.i&&x(i,i.next,t,e))return!0;i=i.next}while(i!==t);return!1}function S(t,e){return b(t.prev,t,t.next)<0?b(t,e,t.next)>=0&&b(t,t.prev,e)>=0:b(t,e,t.prev)<0||b(t,t.next,e)<0}function E(t,e){var i=t,n=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do i.y>o!=i.next.y>o&&r<(i.next.x-i.x)*(o-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next;while(i!==t);return n}function C(t,e){var i=new A(t.i,t.x,t.y),n=new A(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,i.next=r,r.prev=i,n.next=i,i.prev=n,o.next=n,n.prev=o,n}function P(t,e,i,n){var r=new A(t,e,i);return n?(r.next=n.next,r.prev=n,n.next.prev=r,n.next=r):(r.prev=r,r.next=r),r}function M(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function A(t,e,i){this.i=t,this.x=e,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function O(t,e,i,n){for(var r=0,o=e,a=i-n;o<i;o+=n)r+=(t[a]-t[o])*(t[o+1]+t[a+1]),a=o;return r}t.exports=i,i.deviation=function(t,e,i,n){var r=e&&e.length,o=r?e[0]*i:t.length,a=Math.abs(O(t,0,o,i));if(r)for(var s=0,u=e.length;s<u;s++){var l=e[s]*i,h=s<u-1?e[s+1]*i:t.length;a-=Math.abs(O(t,l,h,i))}var c=0;for(s=0;s<n.length;s+=3){var f=n[s]*i,d=n[s+1]*i,p=n[s+2]*i;c+=Math.abs((t[f]-t[p])*(t[d+1]-t[f+1])-(t[f]-t[d])*(t[p+1]-t[f+1]))}return 0===a&&0===c?0:Math.abs((c-a)/a)},i.flatten=function(t){for(var e=t[0][0].length,i={vertices:[],holes:[],dimensions:e},n=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var a=0;a<e;a++)i.vertices.push(t[r][o][a]);r>0&&(n+=t[r-1].length,i.holes.push(n))}return i}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(1),u=r(s),l=i(668),h=n(l),c=i(669),f=n(c),d=function(){function t(e,i,n,r){o(this,t),this.container=e||new u.Container,this.screens={},this.currentScreen,this.fading=!1,this.w=i||400,this.h=n||400,this.history=[],this.defaultTransition=r||new h.default,this.noTransition=new f.default,this.transition=this.defaultTransition,this.active=!1}return a(t,[{key:"gotoScreenByID",value:function(t,e,i,n){var r=this.screens[t];if(!r)throw new Error("screen not found with id : "+t);this.gotoScreen(r,e,i,n)}},{key:"getScreenByID",value:function(t){var e=this.screens[t];if(e)return e;throw new Error("screen not found with id : "+t)}},{key:"addScreen",value:function(t,e){return this.screens[e]=t,t.id=e,t.firstRun=!0,t.screenManager=this,t}},{key:"goBack",value:function(){this.history.pop();var t=this.history.pop();t&&this.gotoScreen(t)}},{key:"getScreenId",value:function(t){for(var e in this.screens)if(this.screens[e]===t)return e;return null}},{key:"gotoScreen",value:function(t,e,i,n){if((n||this.currentScreen!==t)&&(t.firstRun&&(t.init&&t.init(),t.firstRun=!1),this.history.push(t),this.nextScreen=t,this.active&&(t._tmpParams={params:e,instant:i,forceRefresh:n}),!this.active)){this.active=!0,this.transition=i?this.noTransition:t.transition||this.defaultTransition,this.transition.onResize&&this.transition.onResize(this.w,this.h);var r=this.currentScreen;this.nextScreen&&this.nextScreen.resize&&this.nextScreen.resize(this.w,this.h),this.currentScreen=t,this.currentScreen.beforeShow&&this.currentScreen.beforeShow(e),this.transition.begin(this,r,this.nextScreen)}}},{key:"onTransitionComplete",value:function(){if(this.active=!1,this.currentScreen!=this.nextScreen){var t=this.nextScreen._tmpParams;this.gotoScreen(this.nextScreen,t.params,t.instant,t.forceRefresh),delete this.nextScreen._tmpParams}}},{key:"resize",value:function(t,e){this.w=t,this.h=e,this.transition.onResize&&this.transition.onResize(t,e),this.currentScreen&&this.currentScreen.resize&&this.currentScreen.resize(t,e)}}]),t}();e.default=d,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(1),u=r(s),l=i(3),h=n(l),c=i(46),f=n(c),d=i(23),p=n(d),y=i(660),v=n(y),m=function(){function t(){o(this,t),this.crossdomain=!1,window.XDomainRequest&&this.crossdomain?(this.ajaxRequest=new window.XDomainRequest,this.ajaxRequest.timeout=3e3,this.ajaxRequest.onerror=function(){},this.ajaxRequest.ontimeout=function(){},this.ajaxRequest.onprogress=function(){}):window.XMLHttpRequest&&(this.ajaxRequest=new window.XMLHttpRequest),this.ajaxRequest.onload=this._onFileLoaded.bind(this),this.ajaxRequest.onreadystatechange=function(){},this.fileCount=0,this.indexFontToLoad=0,this.filesToLoad=[],this.fontsToLoad=[],this.pixiAssetsToLoad=[],this.soundsToLoad=[],this.customToLoad=[],this.onComplete=new h.default,this.onProgress=new h.default}return a(t,[{key:"_loadFont",value:function(t){var e=new v.default(t);e.load().then(function(){this._loadFonts()}.bind(this))}},{key:"_loadFonts",value:function(){return 0===this.fontsToLoad.length?void this._loadFiles():(this._loadFont(this.fontsToLoad[0]),void this.fontsToLoad.shift())}},{key:"addFonts",value:function(t){return this.fontsToLoad=this.fontsToLoad.concat(t),this}},{key:"addText",value:function(e,i){i=i||f.default.basename(e,f.default.extname(e));var n={url:e,id:i,type:t.TEXT};return this.filesToLoad.push(n),this}},{key:"addJson",value:function(e,i){i=i||f.default.basename(e,f.default.extname(e));var n={url:e,id:i,type:t.JSON};return this.filesToLoad.push(n),this}},{key:"addAndFilterManifest",value:function(t,e,i){return i=i||"@0.5x",this.addManifest(t.filter(function(t){return!t.includes(i)}),e),this}},{key:"addManifest",value:function(t,e){var i=t.map(function(t){return e+t});return this.addPixiAssets(i),this}},{key:"addPixiAssets",value:function(t){return this.pixiAssetsToLoad=this.pixiAssetsToLoad.concat(t),this}},{key:"addCSS",value:function(t){var e=document.createElement("link");return e.type="text/css",e.rel="stylesheet",e.href=t,document.getElementsByTagName("head")[0].appendChild(e),this}},{key:"addCustom",value:function(e){var i={object:e,type:t.CUSTOM};return this.filesToLoad.push(i),this}},{key:"load",value:function(){this._loadFonts()}},{key:"_loadFiles",value:function(){this.fileCount=0,this.filesToLoad.length?this._loadNextFile():this._loadPixiAssets()}},{key:"_loadNextFile",value:function(){var e=this.filesToLoad[this.fileCount];e.type===t.CUSTOM?(e.object.onLoaded.addOnce(this._onFileLoaded,this),e.object.load()):(this.ajaxRequest.open("GET",e.url,!0),this.ajaxRequest.send())}},{key:"_onFileLoaded",value:function(){var e=this.filesToLoad[this.fileCount];if(e.type===t.CUSTOM);else if(0===this.ajaxRequest.status||200===this.ajaxRequest.status)switch(e.type){case t.TEXT:var i=this.ajaxRequest.responseText;p.default.addText(i,e.id);break;case t.JSON:var n=JSON.parse(this.ajaxRequest.responseText);p.default.addJson(n,e.id)}this.fileCount++,this._onProgress(),this.fileCount===this.filesToLoad.length?this._loadPixiAssets():this._loadNextFile()}},{key:"_loadPixiAssets",value:function(){return 0===this.pixiAssetsToLoad.length?void this._onComplete():(this.pixiAssetLoader=new u.loaders.Loader,this.pixiAssetLoader.add(this.pixiAssetsToLoad),this.pixiAssetLoader.on("progress",this._onProgress,this),void this.pixiAssetLoader.load(this._onComplete.bind(this)))}},{key:"_onComplete",value:function(t,e){u.loadedResources=e,this.onProgress.dispatch(1),this.onComplete.dispatch()}},{key:"_onProgress",value:function(){var t=this.fileCount;this.pixiAssetLoader&&(t=this.pixiAssetLoader.progress),this.onProgress.dispatch(.01*t)}}]),t}();m.TEXT=0,m.JSON=1,m.CUSTOM=2,e.default=m,t.exports=e.default},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e){return t._head?(t._tail._next=e,e._prev=t._tail,t._tail=e):(t._head=e,t._tail=e),e._owner=t,e}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=function(){function t(e,n,r){void 0===n&&(n=!1),i(this,t),this._fn=e,this._once=n,this._thisArg=r,this._next=this._prev=this._owner=null;
}return r(t,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),t}(),a=function(){function t(){i(this,t),this._head=this._tail=void 0}return r(t,[{key:"handlers",value:function(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(t)return!!e;for(var i=[];e;)i.push(e),e=e._next;return i}},{key:"has",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return t._owner===this}},{key:"dispatch",value:function(){var t=this._head;if(!t)return!1;for(;t;)t._once&&this.detach(t),t._fn.apply(t._thisArg,arguments),t=t._next;return!0}},{key:"add",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#add(): First arg must be a Function.");return n(this,new o(t,!1,e))}},{key:"once",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof t)throw new Error("MiniSignal#once(): First arg must be a Function.");return n(this,new o(t,!0,e))}},{key:"detach",value:function(t){if(!(t instanceof o))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return t._owner!==this?this:(t._prev&&(t._prev._next=t._next),t._next&&(t._next._prev=t._prev),t===this._head?(this._head=t._next,null===t._next&&(this._tail=null)):t===this._tail&&(this._tail=t._prev,this._tail._next=null),t._owner=null,this)}},{key:"detachAll",value:function(){var t=this._head;if(!t)return this;for(this._head=this._tail=null;t;)t._owner=null,t=t._next;return this}}]),t}();a.MiniSignalBinding=o,e.default=a,t.exports=e.default},function(t,e,i){function n(){this.contactEquations=[],this.frictionEquations=[],this.enableFriction=!0,this.enabledEquations=!0,this.slipForce=10,this.frictionCoefficient=.3,this.surfaceVelocity=0,this.contactEquationPool=new h({size:32}),this.frictionEquationPool=new c({size:64}),this.restitution=0,this.stiffness=d.DEFAULT_STIFFNESS,this.relaxation=d.DEFAULT_RELAXATION,this.frictionStiffness=d.DEFAULT_STIFFNESS,this.frictionRelaxation=d.DEFAULT_RELAXATION,this.enableFrictionReduction=!0,this.collidingBodiesLastStep=new f,this.contactSkinSize=.01}function r(t,e){a.set(t.vertices[0],.5*-e.length,-e.radius),a.set(t.vertices[1],.5*e.length,-e.radius),a.set(t.vertices[2],.5*e.length,e.radius),a.set(t.vertices[3],.5*-e.length,e.radius)}function o(t,e,i,n){for(var r=V,o=W,l=H,h=q,c=t,f=e.vertices,d=null,p=0;p!==f.length+1;p++){var y=f[p%f.length],v=f[(p+1)%f.length];a.rotate(r,y,n),a.rotate(o,v,n),u(r,r,i),u(o,o,i),s(l,r,c),s(h,o,c);var m=a.crossLength(l,h);if(null===d&&(d=m),m*d<=0)return!1;d=m}return!0}var a=i(5),s=a.sub,u=a.add,l=a.dot,h=(i(22),i(259)),c=i(260),f=i(262),d=i(36),p=(i(126),i(94),i(128)),y=i(95),v=i(37),m=(i(61),i(255));t.exports=n;var g=a.fromValues(0,1),_=a.fromValues(0,0),b=a.fromValues(0,0),w=a.fromValues(0,0),x=a.fromValues(0,0),T=a.fromValues(0,0),S=a.fromValues(0,0),E=a.fromValues(0,0),C=a.fromValues(0,0),P=a.fromValues(0,0),M=a.fromValues(0,0),A=a.fromValues(0,0),O=a.fromValues(0,0),k=a.fromValues(0,0),I=a.fromValues(0,0),R=a.fromValues(0,0),L=a.fromValues(0,0),B=a.fromValues(0,0),D=a.fromValues(0,0),F=[],j=a.create(),N=a.create();n.prototype.bodiesOverlap=function(t,e){for(var i=j,n=N,r=0,o=t.shapes.length;r!==o;r++){var a=t.shapes[r];t.toWorldFrame(i,a.position);for(var s=0,u=e.shapes.length;s!==u;s++){var l=e.shapes[s];if(e.toWorldFrame(n,l.position),this[a.type|l.type](t,a,i,a.angle+t.angle,e,l,n,l.angle+e.angle,!0))return!0}}return!1},n.prototype.collidedLastStep=function(t,e){var i=0|t.id,n=0|e.id;return!!this.collidingBodiesLastStep.get(i,n)},n.prototype.reset=function(){this.collidingBodiesLastStep.reset();for(var t=this.contactEquations,e=t.length;e--;){var i=t[e],n=i.bodyA.id,r=i.bodyB.id;this.collidingBodiesLastStep.set(n,r,!0)}for(var o=this.contactEquations,a=this.frictionEquations,s=0;s<o.length;s++)this.contactEquationPool.release(o[s]);for(var s=0;s<a.length;s++)this.frictionEquationPool.release(a[s]);this.contactEquations.length=this.frictionEquations.length=0},n.prototype.createContactEquation=function(t,e,i,n){var r=this.contactEquationPool.get();return r.bodyA=t,r.bodyB=e,r.shapeA=i,r.shapeB=n,r.restitution=this.restitution,r.firstImpact=!this.collidedLastStep(t,e),r.stiffness=this.stiffness,r.relaxation=this.relaxation,r.needsUpdate=!0,r.enabled=this.enabledEquations,r.offset=this.contactSkinSize,r},n.prototype.createFrictionEquation=function(t,e,i,n){var r=this.frictionEquationPool.get();return r.bodyA=t,r.bodyB=e,r.shapeA=i,r.shapeB=n,r.setSlipForce(this.slipForce),r.frictionCoefficient=this.frictionCoefficient,r.relativeVelocity=this.surfaceVelocity,r.enabled=this.enabledEquations,r.needsUpdate=!0,r.stiffness=this.frictionStiffness,r.relaxation=this.frictionRelaxation,r.contactEquations.length=0,r},n.prototype.createFrictionFromContact=function(t){var e=this.createFrictionEquation(t.bodyA,t.bodyB,t.shapeA,t.shapeB);return a.copy(e.contactPointA,t.contactPointA),a.copy(e.contactPointB,t.contactPointB),a.rotate90cw(e.t,t.normalA),e.contactEquations.push(t),e},n.prototype.createFrictionFromAverage=function(t){var e=this.contactEquations[this.contactEquations.length-1],i=this.createFrictionEquation(e.bodyA,e.bodyB,e.shapeA,e.shapeB),n=e.bodyA;e.bodyB;a.set(i.contactPointA,0,0),a.set(i.contactPointB,0,0),a.set(i.t,0,0);for(var r=0;r!==t;r++)e=this.contactEquations[this.contactEquations.length-1-r],e.bodyA===n?(a.add(i.t,i.t,e.normalA),a.add(i.contactPointA,i.contactPointA,e.contactPointA),a.add(i.contactPointB,i.contactPointB,e.contactPointB)):(a.sub(i.t,i.t,e.normalA),a.add(i.contactPointA,i.contactPointA,e.contactPointB),a.add(i.contactPointB,i.contactPointB,e.contactPointA)),i.contactEquations.push(e);var o=1/t;return a.scale(i.contactPointA,i.contactPointA,o),a.scale(i.contactPointB,i.contactPointB,o),a.normalize(i.t,i.t),a.rotate90cw(i.t,i.t),i},n.prototype[v.LINE|v.CONVEX]=n.prototype.convexLine=function(t,e,i,n,r,o,a,s,u){return!u&&0},n.prototype[v.LINE|v.BOX]=n.prototype.lineBox=function(t,e,i,n,r,o,a,s,u){return!u&&0};var X=new m({width:1,height:1}),U=a.create();n.prototype[v.CAPSULE|v.CONVEX]=n.prototype[v.CAPSULE|v.BOX]=n.prototype.convexCapsule=function(t,e,i,n,o,s,u,l,h){var c=U;a.set(c,s.length/2,0),a.rotate(c,c,l),a.add(c,c,u);var f=this.circleConvex(o,s,c,l,t,e,i,n,h,s.radius);a.set(c,-s.length/2,0),a.rotate(c,c,l),a.add(c,c,u);var d=this.circleConvex(o,s,c,l,t,e,i,n,h,s.radius);if(h&&(f||d))return!0;var p=X;r(p,s);var y=this.convexConvex(t,e,i,n,o,p,u,l,h);return y+f+d},n.prototype[v.CAPSULE|v.LINE]=n.prototype.lineCapsule=function(t,e,i,n,r,o,a,s,u){return!u&&0};var G=a.create(),Y=a.create(),z=new m({width:1,height:1});n.prototype[v.CAPSULE|v.CAPSULE]=n.prototype.capsuleCapsule=function(t,e,i,n,o,s,u,l,h){for(var c,f=G,d=Y,p=0,y=0;y<2;y++){a.set(f,(0===y?-1:1)*e.length/2,0),a.rotate(f,f,n),a.add(f,f,i);for(var v=0;v<2;v++){a.set(d,(0===v?-1:1)*s.length/2,0),a.rotate(d,d,l),a.add(d,d,u),this.enableFrictionReduction&&(c=this.enableFriction,this.enableFriction=!1);var m=this.circleCircle(t,e,f,n,o,s,d,l,h,e.radius,s.radius);if(this.enableFrictionReduction&&(this.enableFriction=c),h&&m)return!0;p+=m}}this.enableFrictionReduction&&(c=this.enableFriction,this.enableFriction=!1);var g=z;r(g,e);var _=this.convexCapsule(t,g,i,n,o,s,u,l,h);if(this.enableFrictionReduction&&(this.enableFriction=c),h&&_)return!0;if(p+=_,this.enableFrictionReduction){var c=this.enableFriction;this.enableFriction=!1}r(g,s);var b=this.convexCapsule(o,g,u,l,t,e,i,n,h);return this.enableFrictionReduction&&(this.enableFriction=c),!(!h||!b)||(p+=b,this.enableFrictionReduction&&p&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromAverage(p)),p)},n.prototype[v.LINE|v.LINE]=n.prototype.lineLine=function(t,e,i,n,r,o,a,s,u){return!u&&0},n.prototype[v.PLANE|v.LINE]=n.prototype.planeLine=function(t,e,i,n,r,o,h,c,f){var d=_,p=b,y=w,v=x,m=T,M=S,A=E,O=C,k=P,I=F,R=0;a.set(d,-o.length/2,0),a.set(p,o.length/2,0),a.rotate(y,d,c),a.rotate(v,p,c),u(y,y,h),u(v,v,h),a.copy(d,y),a.copy(p,v),s(m,p,d),a.normalize(M,m),a.rotate90cw(k,M),a.rotate(O,g,n),I[0]=d,I[1]=p;for(var L=0;L<I.length;L++){var B=I[L];s(A,B,i);var D=l(A,O);if(D<0){if(f)return!0;var j=this.createContactEquation(t,r,e,o);R++,a.copy(j.normalA,O),a.normalize(j.normalA,j.normalA),a.scale(A,O,D),s(j.contactPointA,B,A),s(j.contactPointA,j.contactPointA,t.position),s(j.contactPointB,B,h),u(j.contactPointB,j.contactPointB,h),s(j.contactPointB,j.contactPointB,r.position),this.contactEquations.push(j),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(j))}}return!f&&(this.enableFrictionReduction||R&&this.enableFriction&&this.frictionEquations.push(this.createFrictionFromAverage(R)),R)},n.prototype[v.PARTICLE|v.CAPSULE]=n.prototype.particleCapsule=function(t,e,i,n,r,o,a,s,u){return this.circleLine(t,e,i,n,r,o,a,s,u,o.radius,0)},n.prototype[v.CIRCLE|v.LINE]=n.prototype.circleLine=function(t,e,i,n,r,o,h,c,f,d,p){var d=d||0,p="undefined"!=typeof p?p:e.radius,y=_,v=b,m=w,g=x,R=T,L=S,B=E,D=C,j=P,N=M,X=A,U=O,G=k,Y=I,z=F;a.set(D,-o.length/2,0),a.set(j,o.length/2,0),a.rotate(N,D,c),a.rotate(X,j,c),u(N,N,h),u(X,X,h),a.copy(D,N),a.copy(j,X),s(L,j,D),a.normalize(B,L),a.rotate90cw(R,B),s(U,i,D);var V=l(U,R);s(g,D,h),s(G,i,h);var W=p+d;if(Math.abs(V)<W){a.scale(y,R,V),s(m,i,y),a.scale(v,R,l(R,G)),a.normalize(v,v),a.scale(v,v,d),u(m,m,v);var H=l(B,m),q=l(B,D),K=l(B,j);if(H>q&&H<K){if(f)return!0;var Z=this.createContactEquation(t,r,e,o);return a.scale(Z.normalA,y,-1),a.normalize(Z.normalA,Z.normalA),a.scale(Z.contactPointA,Z.normalA,p),u(Z.contactPointA,Z.contactPointA,i),s(Z.contactPointA,Z.contactPointA,t.position),s(Z.contactPointB,m,h),u(Z.contactPointB,Z.contactPointB,h),s(Z.contactPointB,Z.contactPointB,r.position),this.contactEquations.push(Z),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(Z)),1}}z[0]=D,z[1]=j;for(var J=0;J<z.length;J++){var Q=z[J];if(s(U,Q,i),a.squaredLength(U)<Math.pow(W,2)){if(f)return!0;var Z=this.createContactEquation(t,r,e,o);return a.copy(Z.normalA,U),a.normalize(Z.normalA,Z.normalA),a.scale(Z.contactPointA,Z.normalA,p),u(Z.contactPointA,Z.contactPointA,i),s(Z.contactPointA,Z.contactPointA,t.position),s(Z.contactPointB,Q,h),a.scale(Y,Z.normalA,-d),u(Z.contactPointB,Z.contactPointB,Y),u(Z.contactPointB,Z.contactPointB,h),s(Z.contactPointB,Z.contactPointB,r.position),this.contactEquations.push(Z),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(Z)),1}}return 0},n.prototype[v.CIRCLE|v.CAPSULE]=n.prototype.circleCapsule=function(t,e,i,n,r,o,a,s,u){return this.circleLine(t,e,i,n,r,o,a,s,u,o.radius)},n.prototype[v.CIRCLE|v.CONVEX]=n.prototype[v.CIRCLE|v.BOX]=n.prototype.circleConvex=function(t,e,i,n,r,l,h,c,f,d){for(var d="number"==typeof d?d:e.radius,p=_,y=b,v=w,m=x,g=T,S=M,E=A,C=k,P=I,O=R,B=L,D=!1,F=Number.MAX_VALUE,j=l.vertices,N=0;N!==j.length+1;N++){var X=j[N%j.length],U=j[(N+1)%j.length];if(a.rotate(p,X,c),a.rotate(y,U,c),u(p,p,h),u(y,y,h),s(v,y,p),a.normalize(m,v),a.rotate90cw(g,m),a.scale(P,g,-e.radius),u(P,P,i),o(P,l,h,c)){a.sub(O,p,P);var G=Math.abs(a.dot(O,g));G<F&&(a.copy(B,P),F=G,a.scale(C,g,G),a.add(C,C,P),D=!0)}}if(D){if(f)return!0;var Y=this.createContactEquation(t,r,e,l);return a.sub(Y.normalA,B,i),a.normalize(Y.normalA,Y.normalA),a.scale(Y.contactPointA,Y.normalA,d),u(Y.contactPointA,Y.contactPointA,i),s(Y.contactPointA,Y.contactPointA,t.position),s(Y.contactPointB,C,h),u(Y.contactPointB,Y.contactPointB,h),s(Y.contactPointB,Y.contactPointB,r.position),this.contactEquations.push(Y),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(Y)),1}if(d>0)for(var N=0;N<j.length;N++){var z=j[N];if(a.rotate(E,z,c),u(E,E,h),s(S,E,i),a.squaredLength(S)<Math.pow(d,2)){if(f)return!0;var Y=this.createContactEquation(t,r,e,l);return a.copy(Y.normalA,S),a.normalize(Y.normalA,Y.normalA),a.scale(Y.contactPointA,Y.normalA,d),u(Y.contactPointA,Y.contactPointA,i),s(Y.contactPointA,Y.contactPointA,t.position),s(Y.contactPointB,E,h),u(Y.contactPointB,Y.contactPointB,h),s(Y.contactPointB,Y.contactPointB,r.position),this.contactEquations.push(Y),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(Y)),1}}return 0};var V=a.create(),W=a.create(),H=a.create(),q=a.create();n.prototype[v.PARTICLE|v.CONVEX]=n.prototype[v.PARTICLE|v.BOX]=n.prototype.particleConvex=function(t,e,i,n,r,h,c,f,d){var p=_,y=b,v=w,m=x,g=T,C=S,P=E,A=M,O=k,I=B,R=D,L=Number.MAX_VALUE,F=!1,j=h.vertices;if(!o(i,h,c,f))return 0;if(d)return!0;for(var N=0;N!==j.length+1;N++){var X=j[N%j.length],U=j[(N+1)%j.length];a.rotate(p,X,f),a.rotate(y,U,f),u(p,p,c),u(y,y,c),s(v,y,p),a.normalize(m,v),a.rotate90cw(g,m),s(A,i,p);l(A,g);s(C,p,c),s(P,i,c),a.sub(I,p,i);var G=Math.abs(a.dot(I,g));G<L&&(L=G,a.scale(O,g,G),a.add(O,O,i),a.copy(R,g),F=!0)}if(F){var Y=this.createContactEquation(t,r,e,h);return a.scale(Y.normalA,R,-1),a.normalize(Y.normalA,Y.normalA),a.set(Y.contactPointA,0,0),u(Y.contactPointA,Y.contactPointA,i),s(Y.contactPointA,Y.contactPointA,t.position),s(Y.contactPointB,O,c),u(Y.contactPointB,Y.contactPointB,c),s(Y.contactPointB,Y.contactPointB,r.position),this.contactEquations.push(Y),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(Y)),1}return 0},n.prototype[v.CIRCLE]=n.prototype.circleCircle=function(t,e,i,n,r,o,l,h,c,f,d){var p=_,f=f||e.radius,d=d||o.radius;s(p,i,l);var y=f+d;if(a.squaredLength(p)>Math.pow(y,2))return 0;if(c)return!0;var v=this.createContactEquation(t,r,e,o);return s(v.normalA,l,i),a.normalize(v.normalA,v.normalA),a.scale(v.contactPointA,v.normalA,f),a.scale(v.contactPointB,v.normalA,-d),u(v.contactPointA,v.contactPointA,i),s(v.contactPointA,v.contactPointA,t.position),u(v.contactPointB,v.contactPointB,l),s(v.contactPointB,v.contactPointB,r.position),this.contactEquations.push(v),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(v)),1},n.prototype[v.PLANE|v.CONVEX]=n.prototype[v.PLANE|v.BOX]=n.prototype.planeConvex=function(t,e,i,n,r,o,h,c,f){var d=_,p=b,y=w,v=0;a.rotate(p,g,n);for(var m=0;m!==o.vertices.length;m++){var x=o.vertices[m];if(a.rotate(d,x,c),u(d,d,h),s(y,d,i),l(y,p)<=0){if(f)return!0;v++;var T=this.createContactEquation(t,r,e,o);s(y,d,i),a.copy(T.normalA,p);var S=l(y,T.normalA);a.scale(y,T.normalA,S),s(T.contactPointB,d,r.position),s(T.contactPointA,d,y),s(T.contactPointA,T.contactPointA,t.position),this.contactEquations.push(T),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(T))}}return this.enableFrictionReduction&&this.enableFriction&&v&&this.frictionEquations.push(this.createFrictionFromAverage(v)),v},n.prototype[v.PARTICLE|v.PLANE]=n.prototype.particlePlane=function(t,e,i,n,r,o,u,h,c){var f=_,d=b;h=h||0,s(f,i,u),a.rotate(d,g,h);var p=l(f,d);if(p>0)return 0;if(c)return!0;var y=this.createContactEquation(r,t,o,e);return a.copy(y.normalA,d),a.scale(f,y.normalA,p),s(y.contactPointA,i,f),s(y.contactPointA,y.contactPointA,r.position),s(y.contactPointB,i,t.position),this.contactEquations.push(y),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(y)),1},n.prototype[v.CIRCLE|v.PARTICLE]=n.prototype.circleParticle=function(t,e,i,n,r,o,l,h,c){var f=_;if(s(f,l,i),a.squaredLength(f)>Math.pow(e.radius,2))return 0;if(c)return!0;var d=this.createContactEquation(t,r,e,o);return a.copy(d.normalA,f),a.normalize(d.normalA,d.normalA),a.scale(d.contactPointA,d.normalA,e.radius),u(d.contactPointA,d.contactPointA,i),s(d.contactPointA,d.contactPointA,t.position),s(d.contactPointB,l,r.position),this.contactEquations.push(d),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(d)),1};var K=new p({radius:1}),Z=a.create(),J=a.create();a.create();n.prototype[v.PLANE|v.CAPSULE]=n.prototype.planeCapsule=function(t,e,i,n,r,o,s,l,h){var c=Z,f=J,d=K;a.set(c,-o.length/2,0),a.rotate(c,c,l),u(c,c,s),a.set(f,o.length/2,0),a.rotate(f,f,l),u(f,f,s),d.radius=o.radius;var p;this.enableFrictionReduction&&(p=this.enableFriction,this.enableFriction=!1);var y=this.circlePlane(r,d,c,0,t,e,i,n,h),v=this.circlePlane(r,d,f,0,t,e,i,n,h);if(this.enableFrictionReduction&&(this.enableFriction=p),h)return y||v;var m=y+v;return this.enableFrictionReduction&&m&&this.frictionEquations.push(this.createFrictionFromAverage(m)),m},n.prototype[v.CIRCLE|v.PLANE]=n.prototype.circlePlane=function(t,e,i,n,r,o,h,c,f){var d=t,p=e,y=i,v=r,m=h,x=c;x=x||0;var T=_,S=b,E=w;s(T,y,m),a.rotate(S,g,x);var C=l(S,T);if(C>p.radius)return 0;if(f)return!0;var P=this.createContactEquation(v,d,o,e);return a.copy(P.normalA,S),a.scale(P.contactPointB,P.normalA,-p.radius),u(P.contactPointB,P.contactPointB,y),s(P.contactPointB,P.contactPointB,d.position),a.scale(E,P.normalA,C),s(P.contactPointA,T,E),u(P.contactPointA,P.contactPointA,m),s(P.contactPointA,P.contactPointA,v.position),this.contactEquations.push(P),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(P)),1},n.prototype[v.CONVEX]=n.prototype[v.CONVEX|v.BOX]=n.prototype[v.BOX]=n.prototype.convexConvex=function(t,e,i,r,o,h,c,f,d,p){var y=_,v=b,m=w,g=x,S=T,M=E,A=C,O=P,k=0,p="number"==typeof p?p:0,I=n.findSeparatingAxis(e,i,r,h,c,f,y);if(!I)return 0;s(A,c,i),l(y,A)>0&&a.scale(y,y,-1);var R=n.getClosestEdge(e,r,y,!0),L=n.getClosestEdge(h,f,y);if(R===-1||L===-1)return 0;for(var B=0;B<2;B++){var D=R,F=L,j=e,N=h,X=i,U=c,G=r,Y=f,z=t,V=o;if(0===B){var W;W=D,D=F,F=W,W=j,j=N,N=W,W=X,X=U,U=W,W=G,G=Y,Y=W,W=z,z=V,V=W}for(var H=F;H<F+2;H++){var q=N.vertices[(H+N.vertices.length)%N.vertices.length];a.rotate(v,q,Y),u(v,v,U);for(var K=0,Z=D-1;Z<D+2;Z++){var J=j.vertices[(Z+j.vertices.length)%j.vertices.length],Q=j.vertices[(Z+1+j.vertices.length)%j.vertices.length];a.rotate(m,J,G),a.rotate(g,Q,G),u(m,m,X),u(g,g,X),s(S,g,m),a.rotate90cw(O,S),a.normalize(O,O),s(A,v,m);var $=l(O,A);(Z===D&&$<=p||Z!==D&&$<=0)&&K++}if(K>=3){if(d)return!0;var tt=this.createContactEquation(z,V,j,N);k++;var J=j.vertices[D%j.vertices.length],Q=j.vertices[(D+1)%j.vertices.length];a.rotate(m,J,G),a.rotate(g,Q,G),u(m,m,X),u(g,g,X),s(S,g,m),a.rotate90cw(tt.normalA,S),a.normalize(tt.normalA,tt.normalA),s(A,v,m);var $=l(tt.normalA,A);a.scale(M,tt.normalA,$),s(tt.contactPointA,v,X),s(tt.contactPointA,tt.contactPointA,M),u(tt.contactPointA,tt.contactPointA,X),s(tt.contactPointA,tt.contactPointA,z.position),s(tt.contactPointB,v,U),u(tt.contactPointB,tt.contactPointB,U),s(tt.contactPointB,tt.contactPointB,V.position),this.contactEquations.push(tt),this.enableFrictionReduction||this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(tt))}}}return this.enableFrictionReduction&&this.enableFriction&&k&&this.frictionEquations.push(this.createFrictionFromAverage(k)),k};var Q=a.fromValues(0,0);n.projectConvexOntoAxis=function(t,e,i,n,r){var o,s,u=null,h=null,c=Q;a.rotate(c,n,-i);for(var f=0;f<t.vertices.length;f++)o=t.vertices[f],s=l(o,c),(null===u||s>u)&&(u=s),(null===h||s<h)&&(h=s);if(h>u){var d=h;h=u,u=d}var p=l(e,n);a.set(r,h+p,u+p)};var $=a.fromValues(0,0),tt=a.fromValues(0,0),et=a.fromValues(0,0),it=a.fromValues(0,0),nt=a.fromValues(0,0),rt=a.fromValues(0,0);n.findSeparatingAxis=function(t,e,i,r,o,u,l){var h=null,c=!1,f=!1,d=$,p=tt,y=et,v=it,g=nt,_=rt;if(t instanceof m&&r instanceof m)for(var b=0;2!==b;b++){var w=t,x=i;1===b&&(w=r,x=u);for(var T=0;2!==T;T++){0===T?a.set(v,0,1):1===T&&a.set(v,1,0),0!==x&&a.rotate(v,v,x),n.projectConvexOntoAxis(t,e,i,v,g),n.projectConvexOntoAxis(r,o,u,v,_);var S=g,E=_,C=!1;g[0]>_[0]&&(E=g,S=_,C=!0);var P=E[0]-S[1];c=P<=0,(null===h||P>h)&&(a.copy(l,v),h=P,f=c)}}else for(var b=0;2!==b;b++){var w=t,x=i;1===b&&(w=r,x=u);for(var T=0;T!==w.vertices.length;T++){a.rotate(p,w.vertices[T],x),a.rotate(y,w.vertices[(T+1)%w.vertices.length],x),s(d,y,p),a.rotate90cw(v,d),a.normalize(v,v),n.projectConvexOntoAxis(t,e,i,v,g),n.projectConvexOntoAxis(r,o,u,v,_);var S=g,E=_,C=!1;g[0]>_[0]&&(E=g,S=_,C=!0);var P=E[0]-S[1];c=P<=0,(null===h||P>h)&&(a.copy(l,v),h=P,f=c)}}return f};var ot=a.fromValues(0,0),at=a.fromValues(0,0),st=a.fromValues(0,0);n.getClosestEdge=function(t,e,i,n){var r=ot,o=at,u=st;a.rotate(r,i,-e),n&&a.scale(r,r,-1);for(var h=-1,c=t.vertices.length,f=-1,d=0;d!==c;d++){s(o,t.vertices[(d+1)%c],t.vertices[d%c]),a.rotate90cw(u,o),a.normalize(u,u);var p=l(u,r);(h===-1||p>f)&&(h=d%c,f=p)}return h};var ut=a.create(),lt=a.create(),ht=a.create(),ct=a.create(),ft=a.create(),dt=a.create(),pt=a.create();n.prototype[v.CIRCLE|v.HEIGHTFIELD]=n.prototype.circleHeightfield=function(t,e,i,n,r,o,l,h,c,f){var d=o.heights,f=f||e.radius,p=o.elementWidth,y=lt,v=ut,m=ft,g=pt,_=dt,b=ht,w=ct,x=Math.floor((i[0]-f-l[0])/p),T=Math.ceil((i[0]+f-l[0])/p);x<0&&(x=0),T>=d.length&&(T=d.length-1);for(var S=d[x],E=d[T],C=x;C<T;C++)d[C]<E&&(E=d[C]),d[C]>S&&(S=d[C]);if(i[1]-f>S)return!c&&0;for(var P=!1,C=x;C<T;C++){a.set(b,C*p,d[C]),a.set(w,(C+1)*p,d[C+1]),a.add(b,b,l),a.add(w,w,l),a.sub(_,w,b),a.rotate(_,_,Math.PI/2),a.normalize(_,_),a.scale(v,_,-f),a.add(v,v,i),a.sub(y,v,b);var M=a.dot(y,_);if(v[0]>=b[0]&&v[0]<w[0]&&M<=0){if(c)return!0;P=!0,a.scale(y,_,-M),a.add(m,v,y),a.copy(g,_);var A=this.createContactEquation(r,t,o,e);a.copy(A.normalA,g),a.scale(A.contactPointB,A.normalA,-f),u(A.contactPointB,A.contactPointB,i),s(A.contactPointB,A.contactPointB,t.position),a.copy(A.contactPointA,m),a.sub(A.contactPointA,A.contactPointA,r.position),this.contactEquations.push(A),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(A))}}if(P=!1,f>0)for(var C=x;C<=T;C++)if(a.set(b,C*p,d[C]),a.add(b,b,l),a.sub(y,i,b),a.squaredLength(y)<Math.pow(f,2)){if(c)return!0;P=!0;var A=this.createContactEquation(r,t,o,e);a.copy(A.normalA,y),a.normalize(A.normalA,A.normalA),a.scale(A.contactPointB,A.normalA,-f),u(A.contactPointB,A.contactPointB,i),s(A.contactPointB,A.contactPointB,t.position),s(A.contactPointA,b,l),u(A.contactPointA,A.contactPointA,l),s(A.contactPointA,A.contactPointA,r.position),this.contactEquations.push(A),this.enableFriction&&this.frictionEquations.push(this.createFrictionFromContact(A))}return P?1:0};var yt=a.create(),vt=a.create(),mt=a.create(),gt=new y({vertices:[a.create(),a.create(),a.create(),a.create()]});n.prototype[v.BOX|v.HEIGHTFIELD]=n.prototype[v.CONVEX|v.HEIGHTFIELD]=n.prototype.convexHeightfield=function(t,e,i,n,r,o,s,u,l){var h=o.heights,c=o.elementWidth,f=yt,d=vt,p=mt,y=gt,v=Math.floor((t.aabb.lowerBound[0]-s[0])/c),m=Math.ceil((t.aabb.upperBound[0]-s[0])/c);v<0&&(v=0),m>=h.length&&(m=h.length-1);for(var g=h[v],_=h[m],b=v;b<m;b++)h[b]<_&&(_=h[b]),h[b]>g&&(g=h[b]);if(t.aabb.lowerBound[1]>g)return!l&&0;for(var w=0,b=v;b<m;b++){a.set(f,b*c,h[b]),a.set(d,(b+1)*c,h[b+1]),a.add(f,f,s),a.add(d,d,s);var x=100;a.set(p,.5*(d[0]+f[0]),.5*(d[1]+f[1]-x)),a.sub(y.vertices[0],d,p),a.sub(y.vertices[1],f,p),a.copy(y.vertices[2],y.vertices[1]),a.copy(y.vertices[3],y.vertices[0]),y.vertices[2][1]-=x,y.vertices[3][1]-=x,w+=this.convexConvex(t,e,i,n,r,y,p,0,l)}return w}},function(t,e,i){function n(){o.call(this,o.SAP),this.axisList=[],this.axisIndex=0;var t=this;this._addBodyHandler=function(e){t.axisList.push(e.body)},this._removeBodyHandler=function(e){var i=t.axisList.indexOf(e.body);i!==-1&&t.axisList.splice(i,1)}}var r=i(22),o=i(124);t.exports=n,n.prototype=new o,n.prototype.constructor=n,n.prototype.setWorld=function(t){this.axisList.length=0,r.appendArray(this.axisList,t.bodies),t.off("addBody",this._addBodyHandler).off("removeBody",this._removeBodyHandler),t.on("addBody",this._addBodyHandler).on("removeBody",this._removeBodyHandler),this.world=t},n.sortAxisList=function(t,e){e|=0;for(var i=1,n=t.length;i<n;i++){for(var r=t[i],o=i-1;o>=0&&!(t[o].aabb.lowerBound[e]<=r.aabb.lowerBound[e]);o--)t[o+1]=t[o];t[o+1]=r}return t},n.prototype.sortList=function(){var t=this.axisList,e=this.axisIndex;n.sortAxisList(t,e)},n.prototype.getCollisionPairs=function(t){var e=this.axisList,i=this.result,n=this.axisIndex;i.length=0;for(var r=e.length;r--;){var a=e[r];a.aabbNeedsUpdate&&a.updateAABB()}this.sortList();for(var s=0,u=0|e.length;s!==u;s++)for(var l=e[s],h=s+1;h<u;h++){var c=e[h],f=c.aabb.lowerBound[n]<=l.aabb.upperBound[n];if(!f)break;o.canCollide(l,c)&&this.boundingVolumeCheck(l,c)&&i.push(l,c)}return i},n.prototype.aabbQuery=function(t,e,i){i=i||[],this.sortList();var n=this.axisIndex,r="x";1===n&&(r="y"),2===n&&(r="z");for(var o=this.axisList,a=(e.lowerBound[r],e.upperBound[r],0);a<o.length;a++){var s=o[a];s.aabbNeedsUpdate&&s.updateAABB(),s.aabb.overlaps(e)&&i.push(s)}return i}},function(t,e,i){function n(t,e,i){i=s.defaults(i,{localAnchorA:[0,0],localAnchorB:[0,0]}),r.call(this,t,e,r.DISTANCE,i),this.localAnchorA=a.fromValues(i.localAnchorA[0],i.localAnchorA[1]),this.localAnchorB=a.fromValues(i.localAnchorB[0],i.localAnchorB[1]);var n=this.localAnchorA,u=this.localAnchorB;if(this.distance=0,"number"==typeof i.distance)this.distance=i.distance;else{var l=a.create(),h=a.create(),c=a.create();a.rotate(l,n,t.angle),a.rotate(h,u,e.angle),a.add(c,e.position,h),a.sub(c,c,l),a.sub(c,c,t.position),this.distance=a.length(c)}var f;f="undefined"==typeof i.maxForce?Number.MAX_VALUE:i.maxForce;var d=new o(t,e,-f,f);this.equations=[d],this.maxForce=f;var c=a.create(),p=a.create(),y=a.create(),v=this;d.computeGq=function(){var t=this.bodyA,e=this.bodyB,i=t.position,r=e.position;return a.rotate(p,n,t.angle),a.rotate(y,u,e.angle),a.add(c,r,y),a.sub(c,c,p),a.sub(c,c,i),a.length(c)-v.distance},this.setMaxForce(f),this.upperLimitEnabled=!1,this.upperLimit=1,this.lowerLimitEnabled=!1,this.lowerLimit=0,this.position=0}var r=i(60),o=i(36),a=i(5),s=i(22);t.exports=n,n.prototype=new r,n.prototype.constructor=n;var u=a.create(),l=a.create(),h=a.create();n.prototype.update=function(){var t=this.equations[0],e=this.bodyA,i=this.bodyB,n=(this.distance,e.position),r=i.position,o=this.equations[0],s=t.G;a.rotate(l,this.localAnchorA,e.angle),a.rotate(h,this.localAnchorB,i.angle),a.add(u,r,h),a.sub(u,u,l),a.sub(u,u,n),this.position=a.length(u);var c=!1;if(this.upperLimitEnabled&&this.position>this.upperLimit&&(o.maxForce=0,o.minForce=-this.maxForce,this.distance=this.upperLimit,c=!0),this.lowerLimitEnabled&&this.position<this.lowerLimit&&(o.maxForce=this.maxForce,o.minForce=0,this.distance=this.lowerLimit,c=!0),(this.lowerLimitEnabled||this.upperLimitEnabled)&&!c)return void(o.enabled=!1);o.enabled=!0,a.normalize(u,u);var f=a.crossLength(l,u),d=a.crossLength(h,u);s[0]=-u[0],s[1]=-u[1],s[2]=-f,s[3]=u[0],s[4]=u[1],s[5]=d},n.prototype.setMaxForce=function(t){var e=this.equations[0];e.minForce=-t,e.maxForce=t},n.prototype.getMaxForce=function(){var t=this.equations[0];return t.maxForce}},function(t,e,i){function n(t,e,i){i=i||{},r.call(this,t,e,r.GEAR,i),this.ratio=void 0!==i.ratio?i.ratio:1,this.angle=void 0!==i.angle?i.angle:e.angle-this.ratio*t.angle,i.angle=this.angle,i.ratio=this.ratio,this.equations=[new o(t,e,i)],void 0!==i.maxTorque&&this.setMaxTorque(i.maxTorque)}var r=i(60),o=(i(36),i(249));i(5);t.exports=n,n.prototype=new r,n.prototype.constructor=n,n.prototype.update=function(){var t=this.equations[0];t.ratio!==this.ratio&&t.setRatio(this.ratio),t.angle=this.angle},n.prototype.setMaxTorque=function(t){this.equations[0].setMaxTorque(t)},n.prototype.getMaxTorque=function(t){return this.equations[0].maxForce}},function(t,e,i){function n(t,e,i){i=i||{},r.call(this,t,e,r.LOCK,i);var n="undefined"==typeof i.maxForce?Number.MAX_VALUE:i.maxForce,s=(i.localAngleB||0,new a(t,e,-n,n)),u=new a(t,e,-n,n),l=new a(t,e,-n,n),h=o.create(),c=o.create(),f=this;s.computeGq=function(){return o.rotate(h,f.localOffsetB,t.angle),o.sub(c,e.position,t.position),o.sub(c,c,h),c[0]},u.computeGq=function(){return o.rotate(h,f.localOffsetB,t.angle),o.sub(c,e.position,t.position),o.sub(c,c,h),c[1]};var d=o.create(),p=o.create();l.computeGq=function(){return o.rotate(d,f.localOffsetB,e.angle-f.localAngleB),o.scale(d,d,-1),o.sub(c,t.position,e.position),o.add(c,c,d),o.rotate(p,d,-Math.PI/2),o.normalize(p,p),o.dot(c,p)},this.localOffsetB=o.create(),i.localOffsetB?o.copy(this.localOffsetB,i.localOffsetB):(o.sub(this.localOffsetB,e.position,t.position),o.rotate(this.localOffsetB,this.localOffsetB,-t.angle)),this.localAngleB=0,"number"==typeof i.localAngleB?this.localAngleB=i.localAngleB:this.localAngleB=e.angle-t.angle,this.equations.push(s,u,l),this.setMaxForce(n)}var r=i(60),o=i(5),a=i(36);t.exports=n,n.prototype=new r,n.prototype.constructor=n,n.prototype.setMaxForce=function(t){for(var e=this.equations,i=0;i<this.equations.length;i++)e[i].maxForce=t,e[i].minForce=-t},n.prototype.getMaxForce=function(){return this.equations[0].maxForce};var s=o.create(),u=o.create(),l=o.create(),h=o.fromValues(1,0),c=o.fromValues(0,1);n.prototype.update=function(){var t=this.equations[0],e=this.equations[1],i=this.equations[2],n=this.bodyA,r=this.bodyB;o.rotate(s,this.localOffsetB,n.angle),o.rotate(u,this.localOffsetB,r.angle-this.localAngleB),o.scale(u,u,-1),o.rotate(l,u,Math.PI/2),o.normalize(l,l),t.G[0]=-1,t.G[1]=0,t.G[2]=-o.crossLength(s,h),t.G[3]=1,e.G[0]=0,e.G[1]=-1,e.G[2]=-o.crossLength(s,c),e.G[4]=1,i.G[0]=-l[0],i.G[1]=-l[1],i.G[3]=l[0],i.G[4]=l[1],i.G[5]=o.crossLength(u,l)}},function(t,e,i){function n(t,e,i){i=i||{},r.call(this,t,e,r.PRISMATIC,i);var n=s.fromValues(0,0),l=s.fromValues(1,0),h=s.fromValues(0,0);i.localAnchorA&&s.copy(n,i.localAnchorA),i.localAxisA&&s.copy(l,i.localAxisA),i.localAnchorB&&s.copy(h,i.localAnchorB),this.localAnchorA=n,this.localAnchorB=h,this.localAxisA=l;var c=this.maxForce="undefined"!=typeof i.maxForce?i.maxForce:Number.MAX_VALUE,f=new a(t,e,-c,c),d=new s.create,p=new s.create,y=new s.create,v=new s.create;if(f.computeGq=function(){return s.dot(y,v)},f.updateJacobian=function(){var i=this.G,r=t.position,o=e.position;s.rotate(d,n,t.angle),s.rotate(p,h,e.angle),s.add(y,o,p),s.sub(y,y,r),s.sub(y,y,d),s.rotate(v,l,t.angle+Math.PI/2),i[0]=-v[0],i[1]=-v[1],i[2]=-s.crossLength(d,v)+s.crossLength(v,y),i[3]=v[0],i[4]=v[1],i[5]=s.crossLength(p,v)},this.equations.push(f),!i.disableRotationalLock){var m=new u(t,e,-c,c);this.equations.push(m)}this.position=0,this.velocity=0,this.lowerLimitEnabled="undefined"!=typeof i.lowerLimit,this.upperLimitEnabled="undefined"!=typeof i.upperLimit,this.lowerLimit="undefined"!=typeof i.lowerLimit?i.lowerLimit:0,this.upperLimit="undefined"!=typeof i.upperLimit?i.upperLimit:1,this.upperLimitEquation=new o(t,e),this.lowerLimitEquation=new o(t,e),this.upperLimitEquation.minForce=this.lowerLimitEquation.minForce=0,this.upperLimitEquation.maxForce=this.lowerLimitEquation.maxForce=c,this.motorEquation=new a(t,e),this.motorEnabled=!1,this.motorSpeed=0;var g=this,_=this.motorEquation;_.computeGW;_.computeGq=function(){return 0},_.computeGW=function(){var t=this.G,e=this.bodyA,i=this.bodyB,n=e.velocity,r=i.velocity,o=e.angularVelocity,a=i.angularVelocity;return this.gmult(t,n,o,r,a)+g.motorSpeed}}var r=i(60),o=i(126),a=i(36),s=i(5),u=i(250);t.exports=n,n.prototype=new r,n.prototype.constructor=n;var l=s.create(),h=s.create(),c=s.create(),f=s.create(),d=s.create(),p=s.create();n.prototype.update=function(){var t=this.equations,e=t[0],i=this.upperLimit,n=this.lowerLimit,r=this.upperLimitEquation,o=this.lowerLimitEquation,a=this.bodyA,u=this.bodyB,y=this.localAxisA,v=this.localAnchorA,m=this.localAnchorB;e.updateJacobian(),s.rotate(l,y,a.angle),s.rotate(f,v,a.angle),s.add(h,f,a.position),s.rotate(d,m,u.angle),s.add(c,d,u.position);var g=this.position=s.dot(c,l)-s.dot(h,l);if(this.motorEnabled){var _=this.motorEquation.G;_[0]=l[0],_[1]=l[1],_[2]=s.crossLength(l,d),_[3]=-l[0],_[4]=-l[1],_[5]=-s.crossLength(l,f)}if(this.upperLimitEnabled&&g>i)s.scale(r.normalA,l,-1),s.sub(r.contactPointA,h,a.position),s.sub(r.contactPointB,c,u.position),s.scale(p,l,i),s.add(r.contactPointA,r.contactPointA,p),t.indexOf(r)===-1&&t.push(r);else{var b=t.indexOf(r);b!==-1&&t.splice(b,1)}if(this.lowerLimitEnabled&&g<n)s.scale(o.normalA,l,1),s.sub(o.contactPointA,h,a.position),
s.sub(o.contactPointB,c,u.position),s.scale(p,l,n),s.sub(o.contactPointB,o.contactPointB,p),t.indexOf(o)===-1&&t.push(o);else{var b=t.indexOf(o);b!==-1&&t.splice(b,1)}},n.prototype.enableMotor=function(){this.motorEnabled||(this.equations.push(this.motorEquation),this.motorEnabled=!0)},n.prototype.disableMotor=function(){if(this.motorEnabled){var t=this.equations.indexOf(this.motorEquation);this.equations.splice(t,1),this.motorEnabled=!1}},n.prototype.setLimits=function(t,e){"number"==typeof t?(this.lowerLimit=t,this.lowerLimitEnabled=!0):(this.lowerLimit=t,this.lowerLimitEnabled=!1),"number"==typeof e?(this.upperLimit=e,this.upperLimitEnabled=!0):(this.upperLimit=e,this.upperLimitEnabled=!1)}},function(t,e,i){function n(t,e,i){i=i||{},r.call(this,t,e,r.REVOLUTE,i);var n=this.maxForce="undefined"!=typeof i.maxForce?i.maxForce:Number.MAX_VALUE;this.pivotA=u.create(),this.pivotB=u.create(),i.worldPivot?(u.sub(this.pivotA,i.worldPivot,t.position),u.sub(this.pivotB,i.worldPivot,e.position),u.rotate(this.pivotA,this.pivotA,-t.angle),u.rotate(this.pivotB,this.pivotB,-e.angle)):(u.copy(this.pivotA,i.localPivotA),u.copy(this.pivotB,i.localPivotB));var p=this.equations=[new o(t,e,-n,n),new o(t,e,-n,n)],y=p[0],v=p[1],m=this;y.computeGq=function(){return u.rotate(l,m.pivotA,t.angle),u.rotate(h,m.pivotB,e.angle),u.add(d,e.position,h),u.sub(d,d,t.position),u.sub(d,d,l),u.dot(d,c)},v.computeGq=function(){return u.rotate(l,m.pivotA,t.angle),u.rotate(h,m.pivotB,e.angle),u.add(d,e.position,h),u.sub(d,d,t.position),u.sub(d,d,l),u.dot(d,f)},v.minForce=y.minForce=-n,v.maxForce=y.maxForce=n,this.motorEquation=new a(t,e),this.motorEnabled=!1,this.angle=0,this.lowerLimitEnabled=!1,this.upperLimitEnabled=!1,this.lowerLimit=0,this.upperLimit=0,this.upperLimitEquation=new s(t,e),this.lowerLimitEquation=new s(t,e),this.upperLimitEquation.minForce=0,this.lowerLimitEquation.maxForce=0}var r=i(60),o=i(36),a=i(251),s=i(250),u=i(5);t.exports=n;var l=u.create(),h=u.create(),c=u.fromValues(1,0),f=u.fromValues(0,1),d=u.create();n.prototype=new r,n.prototype.constructor=n,n.prototype.setLimits=function(t,e){"number"==typeof t?(this.lowerLimit=t,this.lowerLimitEnabled=!0):(this.lowerLimit=t,this.lowerLimitEnabled=!1),"number"==typeof e?(this.upperLimit=e,this.upperLimitEnabled=!0):(this.upperLimit=e,this.upperLimitEnabled=!1)},n.prototype.update=function(){var t=this.bodyA,e=this.bodyB,i=this.pivotA,n=this.pivotB,r=this.equations,o=(r[0],r[1],r[0]),a=r[1],s=this.upperLimit,d=this.lowerLimit,p=this.upperLimitEquation,y=this.lowerLimitEquation,v=this.angle=e.angle-t.angle;if(this.upperLimitEnabled&&v>s)p.angle=s,r.indexOf(p)===-1&&r.push(p);else{var m=r.indexOf(p);m!==-1&&r.splice(m,1)}if(this.lowerLimitEnabled&&v<d)y.angle=d,r.indexOf(y)===-1&&r.push(y);else{var m=r.indexOf(y);m!==-1&&r.splice(m,1)}u.rotate(l,i,t.angle),u.rotate(h,n,e.angle),o.G[0]=-1,o.G[1]=0,o.G[2]=-u.crossLength(l,c),o.G[3]=1,o.G[4]=0,o.G[5]=u.crossLength(h,c),a.G[0]=0,a.G[1]=-1,a.G[2]=-u.crossLength(l,f),a.G[3]=0,a.G[4]=1,a.G[5]=u.crossLength(h,f)},n.prototype.enableMotor=function(){this.motorEnabled||(this.equations.push(this.motorEquation),this.motorEnabled=!0)},n.prototype.disableMotor=function(){if(this.motorEnabled){var t=this.equations.indexOf(this.motorEquation);this.equations.splice(t,1),this.motorEnabled=!1}},n.prototype.motorIsEnabled=function(){return!!this.motorEnabled},n.prototype.setMotorSpeed=function(t){if(this.motorEnabled){var e=this.equations.indexOf(this.motorEquation);this.equations[e].relativeVelocity=t}},n.prototype.getMotorSpeed=function(){return!!this.motorEnabled&&this.motorEquation.relativeVelocity}},function(t,e,i){function n(t,e,i){i=i||{},r.call(this,t,e,-Number.MAX_VALUE,Number.MAX_VALUE),this.angle=i.angle||0,this.ratio="number"==typeof i.ratio?i.ratio:1,this.setRatio(this.ratio)}var r=i(36);i(5);t.exports=n,n.prototype=new r,n.prototype.constructor=n,n.prototype.computeGq=function(){return this.ratio*this.bodyA.angle-this.bodyB.angle+this.angle},n.prototype.setRatio=function(t){var e=this.G;e[2]=t,e[5]=-1,this.ratio=t},n.prototype.setMaxTorque=function(t){this.maxForce=t,this.minForce=-t}},function(t,e,i){function n(t,e,i){i=i||{},r.call(this,t,e,-Number.MAX_VALUE,Number.MAX_VALUE),this.angle=i.angle||0;var n=this.G;n[2]=1,n[5]=-1}var r=i(36),o=i(5);t.exports=n,n.prototype=new r,n.prototype.constructor=n;var a=o.create(),s=o.create(),u=o.fromValues(1,0),l=o.fromValues(0,1);n.prototype.computeGq=function(){return o.rotate(a,u,this.bodyA.angle+this.angle),o.rotate(s,l,this.bodyB.angle),o.dot(a,s)}},function(t,e,i){function n(t,e){r.call(this,t,e,-Number.MAX_VALUE,Number.MAX_VALUE),this.relativeVelocity=1,this.ratio=1}var r=i(36);i(5);t.exports=n,n.prototype=new r,n.prototype.constructor=n,n.prototype.computeB=function(t,e,i){var n=this.G;n[2]=-1,n[5]=this.ratio;var r=this.computeGiMf(),o=this.computeGW(),a=-o*e-i*r;return a}},function(t,e,i){function n(t,e,i){if(i=i||{},!(t instanceof r&&e instanceof r))throw new Error("First two arguments must be Material instances.");this.id=n.idCounter++,this.materialA=t,this.materialB=e,this.friction="undefined"!=typeof i.friction?Number(i.friction):.3,this.restitution="undefined"!=typeof i.restitution?Number(i.restitution):0,this.stiffness="undefined"!=typeof i.stiffness?Number(i.stiffness):o.DEFAULT_STIFFNESS,this.relaxation="undefined"!=typeof i.relaxation?Number(i.relaxation):o.DEFAULT_RELAXATION,this.frictionStiffness="undefined"!=typeof i.frictionStiffness?Number(i.frictionStiffness):o.DEFAULT_STIFFNESS,this.frictionRelaxation="undefined"!=typeof i.frictionRelaxation?Number(i.frictionRelaxation):o.DEFAULT_RELAXATION,this.surfaceVelocity="undefined"!=typeof i.surfaceVelocity?Number(i.surfaceVelocity):0,this.contactSkinSize=.005}var r=i(174),o=i(36);t.exports=n,n.idCounter=0},function(t,e,i){function n(t,e,i){i=i||{},o.call(this,t,e,i),this.localAnchorA=r.fromValues(0,0),this.localAnchorB=r.fromValues(0,0),i.localAnchorA&&r.copy(this.localAnchorA,i.localAnchorA),i.localAnchorB&&r.copy(this.localAnchorB,i.localAnchorB),i.worldAnchorA&&this.setWorldAnchorA(i.worldAnchorA),i.worldAnchorB&&this.setWorldAnchorB(i.worldAnchorB);var n=r.create(),a=r.create();this.getWorldAnchorA(n),this.getWorldAnchorB(a);var s=r.distance(n,a);this.restLength="number"==typeof i.restLength?i.restLength:s}var r=i(5),o=i(175);i(22);t.exports=n,n.prototype=new o,n.prototype.constructor=n,n.prototype.setWorldAnchorA=function(t){this.bodyA.toLocalFrame(this.localAnchorA,t)},n.prototype.setWorldAnchorB=function(t){this.bodyB.toLocalFrame(this.localAnchorB,t)},n.prototype.getWorldAnchorA=function(t){this.bodyA.toWorldFrame(t,this.localAnchorA)},n.prototype.getWorldAnchorB=function(t){this.bodyB.toWorldFrame(t,this.localAnchorB)};var a=r.create(),s=r.create(),u=r.create(),l=r.create(),h=r.create(),c=r.create(),f=r.create(),d=r.create(),p=r.create();n.prototype.applyForce=function(){var t=this.stiffness,e=this.damping,i=this.restLength,n=this.bodyA,o=this.bodyB,y=a,v=s,m=u,g=l,_=p,b=h,w=c,x=f,T=d;this.getWorldAnchorA(b),this.getWorldAnchorB(w),r.sub(x,b,n.position),r.sub(T,w,o.position),r.sub(y,w,b);var S=r.len(y);r.normalize(v,y),r.sub(m,o.velocity,n.velocity),r.crossZV(_,o.angularVelocity,T),r.add(m,m,_),r.crossZV(_,n.angularVelocity,x),r.sub(m,m,_),r.scale(g,v,-t*(S-i)-e*r.dot(m,v)),r.sub(n.force,n.force,g),r.add(o.force,o.force,g);var E=r.crossLength(x,g),C=r.crossLength(T,g);n.angularForce-=E,o.angularForce+=C}},function(t,e,i){function n(t,e,i){i=i||{},r.call(this,t,e,i),this.restAngle="number"==typeof i.restAngle?i.restAngle:e.angle-t.angle}var r=(i(5),i(175));t.exports=n,n.prototype=new r,n.prototype.constructor=n,n.prototype.applyForce=function(){var t=this.stiffness,e=this.damping,i=this.restAngle,n=this.bodyA,r=this.bodyB,o=r.angle-n.angle,a=r.angularVelocity-n.angularVelocity,s=-t*(o-i)-e*a*0;n.angularForce-=s,r.angularForce+=s}},function(t,e,i){function n(t){"number"==typeof arguments[0]&&"number"==typeof arguments[1]&&(t={width:arguments[0],height:arguments[1]}),t=t||{};var e=this.width=t.width||1,i=this.height=t.height||1,n=[r.fromValues(-e/2,-i/2),r.fromValues(e/2,-i/2),r.fromValues(e/2,i/2),r.fromValues(-e/2,i/2)],s=[r.fromValues(1,0),r.fromValues(0,1)];t.vertices=n,t.axes=s,t.type=o.BOX,a.call(this,t)}var r=i(5),o=i(37),a=i(95);t.exports=n,n.prototype=new a,n.prototype.constructor=n,n.prototype.computeMomentOfInertia=function(t){var e=this.width,i=this.height;return t*(i*i+e*e)/12},n.prototype.updateBoundingRadius=function(){var t=this.width,e=this.height;this.boundingRadius=Math.sqrt(t*t+e*e)/2};r.create(),r.create(),r.create(),r.create();n.prototype.computeAABB=function(t,e,i){t.setFromPoints(this.vertices,e,i,0)},n.prototype.updateArea=function(){this.area=this.width*this.height}},function(t,e,i){function n(t){"number"==typeof arguments[0]&&"number"==typeof arguments[1]&&(t={length:arguments[0],radius:arguments[1]}),t=t||{},this.length=t.length||1,this.radius=t.radius||1,t.type=r.CAPSULE,r.call(this,t)}var r=i(37),o=i(5);t.exports=n,n.prototype=new r,n.prototype.constructor=n,n.prototype.computeMomentOfInertia=function(t){var e=this.radius,i=this.length+e,n=2*e;return t*(n*n+i*i)/12},n.prototype.updateBoundingRadius=function(){this.boundingRadius=this.radius+this.length/2},n.prototype.updateArea=function(){this.area=Math.PI*this.radius*this.radius+2*this.radius*this.length};var a=o.create();n.prototype.computeAABB=function(t,e,i){var n=this.radius;o.set(a,this.length/2,0),0!==i&&o.rotate(a,a,i),o.set(t.upperBound,Math.max(a[0]+n,-a[0]+n),Math.max(a[1]+n,-a[1]+n)),o.set(t.lowerBound,Math.min(a[0]-n,-a[0]-n),Math.min(a[1]-n,-a[1]-n)),o.add(t.lowerBound,t.lowerBound,e),o.add(t.upperBound,t.upperBound,e)};var s=o.create(),u=o.create(),l=o.create(),h=o.create(),c=o.fromValues(0,1);n.prototype.raycast=function(t,e,i,n){for(var r=e.from,a=e.to,f=(e.direction,s),d=u,p=l,y=h,v=this.length/2,m=0;m<2;m++){var g=this.radius*(2*m-1);o.set(p,-v,g),o.set(y,v,g),o.toGlobalFrame(p,p,i,n),o.toGlobalFrame(y,y,i,n);var _=o.getLineSegmentsIntersectionFraction(r,a,p,y);if(_>=0&&(o.rotate(d,c,n),o.scale(d,d,2*m-1),e.reportIntersection(t,_,d,-1),t.shouldStop(e)))return}for(var b=Math.pow(this.radius,2)+Math.pow(v,2),m=0;m<2;m++){o.set(p,v*(2*m-1),0),o.toGlobalFrame(p,p,i,n);var w=Math.pow(a[0]-r[0],2)+Math.pow(a[1]-r[1],2),x=2*((a[0]-r[0])*(r[0]-p[0])+(a[1]-r[1])*(r[1]-p[1])),T=Math.pow(r[0]-p[0],2)+Math.pow(r[1]-p[1],2)-Math.pow(this.radius,2),_=Math.pow(x,2)-4*w*T;if(!(_<0))if(0===_){if(o.lerp(f,r,a,_),o.squaredDistance(f,i)>b&&(o.sub(d,f,p),o.normalize(d,d),e.reportIntersection(t,_,d,-1),t.shouldStop(e)))return}else{var S=Math.sqrt(_),E=1/(2*w),C=(-x-S)*E,P=(-x+S)*E;if(C>=0&&C<=1&&(o.lerp(f,r,a,C),o.squaredDistance(f,i)>b&&(o.sub(d,f,p),o.normalize(d,d),e.reportIntersection(t,C,d,-1),t.shouldStop(e))))return;if(P>=0&&P<=1&&(o.lerp(f,r,a,P),o.squaredDistance(f,i)>b&&(o.sub(d,f,p),o.normalize(d,d),e.reportIntersection(t,P,d,-1),t.shouldStop(e))))return}}}},function(t,e,i){function n(t){"number"==typeof arguments[0]&&(t={length:arguments[0]}),t=t||{},this.length=t.length||1,t.type=r.LINE,r.call(this,t)}var r=i(37),o=i(5);t.exports=n,n.prototype=new r,n.prototype.constructor=n,n.prototype.computeMomentOfInertia=function(t){return t*Math.pow(this.length,2)/12},n.prototype.updateBoundingRadius=function(){this.boundingRadius=this.length/2};var a=[o.create(),o.create()];n.prototype.computeAABB=function(t,e,i){var n=this.length/2;o.set(a[0],-n,0),o.set(a[1],n,0),t.setFromPoints(a,e,i,0)};var s=(o.create(),o.create()),u=o.create(),l=o.create(),h=o.fromValues(0,1);n.prototype.raycast=function(t,e,i,n){var r=e.from,a=e.to,c=u,f=l,d=this.length/2;o.set(c,-d,0),o.set(f,d,0),o.toGlobalFrame(c,c,i,n),o.toGlobalFrame(f,f,i,n);var p=o.getLineSegmentsIntersectionFraction(c,f,r,a);if(p>=0){var y=s;o.rotate(y,h,n),e.reportIntersection(t,p,y,-1)}}},function(t,e,i){function n(t){a.call(this,t,a.GS),t=t||{},this.iterations=t.iterations||10,this.tolerance=t.tolerance||1e-7,this.arrayStep=30,this.lambda=new s.ARRAY_TYPE(this.arrayStep),this.Bs=new s.ARRAY_TYPE(this.arrayStep),this.invCs=new s.ARRAY_TYPE(this.arrayStep),this.useZeroRHS=!1,this.frictionIterations=void 0!==t.frictionIterations?0:t.frictionIterations,this.usedIterations=0}function r(t){for(var e=t.length;e--;)t[e]=0}var o=i(5),a=i(178),s=i(22),u=i(94);t.exports=n,n.prototype=new a,n.prototype.constructor=n,n.prototype.solve=function(t,e){this.sortEquations();var i=0,a=this.iterations,l=this.frictionIterations,h=this.equations,c=h.length,f=Math.pow(this.tolerance*c,2),d=e.bodies,p=e.bodies.length,y=(o.add,o.set,this.useZeroRHS),v=this.lambda;if(this.usedIterations=0,c)for(var m=0;m!==p;m++){var g=d[m];g.updateSolveMassProperties()}v.length<c&&(v=this.lambda=new s.ARRAY_TYPE(c+this.arrayStep),this.Bs=new s.ARRAY_TYPE(c+this.arrayStep),this.invCs=new s.ARRAY_TYPE(c+this.arrayStep)),r(v);for(var _=this.invCs,b=this.Bs,v=this.lambda,m=0;m!==h.length;m++){var w=h[m];(w.timeStep!==t||w.needsUpdate)&&(w.timeStep=t,w.update()),b[m]=w.computeB(w.a,w.b,t),_[m]=w.computeInvC(w.epsilon)}var w,x,m,T;if(0!==c){for(m=0;m!==p;m++){var g=d[m];g.resetConstraintVelocity()}if(l){for(i=0;i!==l;i++){for(x=0,T=0;T!==c;T++){w=h[T];var S=n.iterateEquation(T,w,w.epsilon,b,_,v,y,t,i);x+=Math.abs(S)}if(this.usedIterations++,x*x<=f)break}for(n.updateMultipliers(h,v,1/t),T=0;T!==c;T++){var E=h[T];if(E instanceof u){for(var C=0,P=0;P!==E.contactEquations.length;P++)C+=E.contactEquations[P].multiplier;C*=E.frictionCoefficient/E.contactEquations.length,E.maxForce=C,E.minForce=-C}}}for(i=0;i!==a;i++){for(x=0,T=0;T!==c;T++){w=h[T];var S=n.iterateEquation(T,w,w.epsilon,b,_,v,y,t,i);x+=Math.abs(S)}if(this.usedIterations++,x*x<=f)break}for(m=0;m!==p;m++)d[m].addConstraintVelocity();n.updateMultipliers(h,v,1/t)}},n.updateMultipliers=function(t,e,i){for(var n=t.length;n--;)t[n].multiplier=e[n]*i},n.iterateEquation=function(t,e,i,n,r,o,a,s,u){var l=n[t],h=r[t],c=o[t],f=e.computeGWlambda(),d=e.maxForce,p=e.minForce;a&&(l=0);var y=h*(l-f-i*c),v=c+y;return v<p*s?y=p*s-c:v>d*s&&(y=d*s-c),o[t]+=y,e.addToWlambda(y),y}},function(t,e,i){function n(){o.apply(this,arguments)}var r=i(126),o=i(85);t.exports=n,n.prototype=new o,n.prototype.constructor=n,n.prototype.create=function(){return new r},n.prototype.destroy=function(t){return t.bodyA=t.bodyB=null,this}},function(t,e,i){function n(){o.apply(this,arguments)}var r=i(94),o=i(85);t.exports=n,n.prototype=new o,n.prototype.constructor=n,n.prototype.create=function(){return new r},n.prototype.destroy=function(t){return t.bodyA=t.bodyB=null,this}},function(t,e){function i(t,e,i,n){this.shapeA=e,this.shapeB=n,this.bodyA=t,this.bodyB=i}t.exports=i,i.prototype.set=function(t,e,n,r){i.call(this,t,e,n,r)}},function(t,e,i){function n(){this.data={},this.keys=[]}var r=i(22);t.exports=n,n.prototype.getKey=function(t,e){return t|=0,e|=0,(0|t)===(0|e)?-1:0|((0|t)>(0|e)?t<<16|65535&e:e<<16|65535&t)},n.prototype.getByKey=function(t){return t|=0,this.data[t]},n.prototype.get=function(t,e){return this.data[this.getKey(t,e)]},n.prototype.set=function(t,e,i){if(!i)throw new Error("No data!");var n=this.getKey(t,e);return this.data[n]||this.keys.push(n),this.data[n]=i,n},n.prototype.reset=function(){for(var t=this.data,e=this.keys,i=e.length;i--;)delete t[e[i]];e.length=0},n.prototype.copy=function(t){this.reset(),r.appendArray(this.keys,t.keys);for(var e=t.keys.length;e--;){var i=t.keys[e];this.data[i]=t.data[i]}}},function(t,e,i){function n(){this.equations=[],this.bodies=[]}var r=i(61);t.exports=n,n.prototype.reset=function(){this.equations.length=this.bodies.length=0};var o=[];n.prototype.getBodies=function(t){var e=t||[],i=this.equations;o.length=0;for(var n=0;n!==i.length;n++){var r=i[n];o.indexOf(r.bodyA.id)===-1&&(e.push(r.bodyA),o.push(r.bodyA.id)),o.indexOf(r.bodyB.id)===-1&&(e.push(r.bodyB),o.push(r.bodyB.id))}return e},n.prototype.wantsToSleep=function(){for(var t=0;t<this.bodies.length;t++){var e=this.bodies[t];if(e.type===r.DYNAMIC&&!e.wantsToSleep)return!1}return!0},n.prototype.sleep=function(){for(var t=0;t<this.bodies.length;t++){var e=this.bodies[t];e.sleep()}return!0}},function(t,e){function i(t){this.body=t,this.neighbors=[],this.equations=[],this.visited=!1}t.exports=i,i.prototype.reset=function(){this.equations.length=0,this.neighbors.length=0,this.visited=!1,this.body=null}},function(t,e){"use strict";t.exports=function(t,e){e=e||{};for(var i={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},n=i.parser[e.strictMode?"strict":"loose"].exec(t),r={},o=14;o--;)r[i.key[o]]=n[o]||"";return r[i.q.name]={},r[i.key[12]].replace(i.q.parser,function(t,e,n){e&&(r[i.q.name][e]=n)}),r}},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=[],o=function(){function t(){i(this,t),this._update=this.update.bind(this),this.init(null,0,0,!1,null)}return t.prototype.init=function(t,e,i,n,r){this.instance=t,this.loop=n,this.start=e,this.end=i,this.callback=r,t&&(t.gotoAndStop(e),t._beforeUpdate=this._update)},t.prototype.destroy=function(){this.instance._beforeUpdate=null,this.init(null,0,0,!1,null),t._pool.push(this)},t.prototype.update=function(t){var e=void 0;return t.currentFrame>=this.end&&(t.currentFrame=this.end,this.loop?(t._updateTimeline(),t.gotoAndPlay(this.start)):(t.stop(),this.callback&&(e=this.callback),this.stop())),e},t.prototype.stop=function(){PIXI.animate.Animator._internalStop(this)},t.create=function(e,i,n,r,o){var a;return a=this._pool.length?this._pool.pop():new t,a.init(e,i,n,r,o),a},n(t,[{key:"progress",get:function(){var t=(this.instance.currentFrame-this.start)/(this.end-this.start);return Math.max(0,Math.min(1,t))}}],[{key:"_pool",get:function(){return r}}]),t}();t.exports=o},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=i(129),a=n(o),s={};Object.defineProperty(s,"add",{enumerable:!1,value:function(t,e){"string"==typeof e&&(e=a.default.deserializeShapes(e));for(var i=0;i<e.length;i++)for(var n=e[i],r=0;r<n.length;r++){var o=n[r];"string"==typeof o&&"#"===o[0]&&(n[r]=a.default.hexToUint(o))}s[t]=e}}),Object.defineProperty(s,"fromCache",{enumerable:!1,value:function(t){return s[t]||null}}),Object.defineProperty(s,"remove",{enumerable:!1,value:function(t){if("object"!==("undefined"==typeof t?"undefined":r(t)))s[t]&&(s[t].length=0,delete s[t]);else for(var e in t)s.remove(e)}}),Object.defineProperty(s,"removeAll",{enumerable:!1,value:function(){for(var t in s)s.remove(t)}}),e.default=s},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=i(269),o=n(r),a=function(t){Array.call(this),this.target=t,this._currentProps={}},s=a.prototype=Object.create(Array.prototype);s.addTween=function(t,e,i,n){this.extendLastFrame(e-1);var r={},a=void 0;for(a in t)if(this._currentProps.hasOwnProperty(a))r[a]=this._currentProps[a];else for(var s=r[a]=this.getPropFromShorthand(a),u=this.length-1;u>=0;--u)this[u].startProps[a]=s,this[u].endProps[a]=s;var l=new o.default(this.target,r,t,e,i,n);this.push(l),Object.assign(this._currentProps,l.endProps)},s.addKeyframe=function(t,e){this.extendLastFrame(e-1);var i=Object.assign({},this._currentProps,t),n=new o.default(this.target,i,null,e,0);this.push(n),Object.assign(this._currentProps,n.endProps)},s.extendLastFrame=function(t){if(this.length){var e=this[this.length-1];e.endFrame<t&&(e.isTweenlessFrame?e.endFrame=t:this.addKeyframe(this._currentProps,e.endFrame+1,t-e.endFrame+1))}},s.getPropFromShorthand=function(t){var e=this.target;switch(t){case"x":return e.position.x;case"y":return e.position.y;case"sx":return e.scale.x;case"sy":return e.scale.y;case"kx":return e.skew.x;case"ky":return e.skew.y;case"r":return e.rotation;case"a":return e.alpha;case"v":return e.visible;case"m":return e.mask}return null},e.default=a},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n(t,e,i){return t+(e-t)*i}function r(t,e,i){var n=Math.abs(e-t);n>u&&(e>t?t+=l:e+=u+l);var r=t+(e-t)*i;return r}function o(t,e,i){switch(e){case"x":t.transform.position.x=i;break;case"y":t.transform.position.y=i;break;case"sx":t.transform.scale.x=i;break;case"sy":t.transform.scale.y=i;break;case"kx":t.transform.skew.x=i;break;case"ky":t.transform.skew.y=i;break;case"r":t.transform.rotation=i;break;case"a":t.alpha=i;break;case"t":t.i(i);break;case"c":t.c.apply(t,i);break;case"v":t.visible=i;break;case"m":t.ma(i)}}e.__esModule=!0;var a=function(){function t(e,n,r,o,a,s){i(this,t),this.target=e,this.startProps=n,this.endProps={},this.duration=a,this.startFrame=o,this.endFrame=o+a,this.ease=s,this.isTweenlessFrame=!r;var u=void 0;if(r)for(u in r)this.endProps[u]=r[u];for(u in n)this.endProps.hasOwnProperty(u)||(this.endProps[u]=n[u])}return t.prototype.setPosition=function(t){if(t>=this.endFrame)return void this.setToEnd();if(this.isTweenlessFrame)return void this.setToEnd();var e=(t-this.startFrame)/this.duration;this.ease&&(e=this.ease(e));var i=this.target,n=this.startProps,r=this.endProps;for(var a in r){var u=s[a];u?o(i,a,u(n[a],r[a],e)):o(i,a,n[a])}},t.prototype.setToEnd=function(){var t=this.endProps,e=this.target;for(var i in t)o(e,i,t[i])},t}(),s={x:n,y:n,sx:n,sy:n,kx:n,ky:n,r:r,a:n,t:null,v:null,c:null,m:null,g:null},u=Math.PI,l=2*u;e.default=a},function(t,e){"use strict";e.__esModule=!0;var i=function(t,e,i,n){function r(){var e=new t.stage;t.parent&&t.parent.addChild(e),t.complete&&t.complete(e,o)}"function"==typeof e?(n=i,i=e,e=null):"string"==typeof i&&(n=i,i=null),"function"==typeof t&&(t={stage:t,parent:e,basePath:n||"",complete:i}),t=Object.assign({stage:null,parent:null,basePath:"",complete:null},t||{});var o=new PIXI.loaders.Loader,a=t.stage.assets||{};if(a&&Object.keys(a).length){var s=t.basePath;s&&(s+="/");for(var u in a)o.add(u,s+a[u]);o.once("complete",r).load()}else r();return o};e.default=i},function(t,e){"use strict";e.__esModule=!0,e.default=new PIXI.utils.EventEmitter},function(t,e){var i=function(t,e,i,n,r){this.gl=t,this.texture=t.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=e||-1,this.height=i||-1,this.format=n||t.RGBA,this.type=r||t.UNSIGNED_BYTE};i.prototype.upload=function(t){this.bind();var e=this.gl;e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var i=t.videoWidth||t.width,n=t.videoHeight||t.height;n!==this.height||i!==this.width?e.texImage2D(e.TEXTURE_2D,0,this.format,this.format,this.type,t):e.texSubImage2D(e.TEXTURE_2D,0,0,0,this.format,this.type,t),this.width=i,this.height=n};var n=!1;i.prototype.uploadData=function(t,e,i){this.bind();var r=this.gl;if(t instanceof Float32Array){if(!n){var o=r.getExtension("OES_texture_float");if(!o)throw new Error("floating point textures not available");n=!0}this.type=r.FLOAT}else this.type=this.type||r.UNSIGNED_BYTE;r.pixelStorei(r.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),e!==this.width||i!==this.height?r.texImage2D(r.TEXTURE_2D,0,this.format,e,i,0,this.format,this.type,t||null):r.texSubImage2D(r.TEXTURE_2D,0,0,0,e,i,this.format,this.type,t||null),this.width=e,this.height=i},i.prototype.bind=function(t){var e=this.gl;void 0!==t&&e.activeTexture(e.TEXTURE0+t),e.bindTexture(e.TEXTURE_2D,this.texture)},i.prototype.unbind=function(){var t=this.gl;t.bindTexture(t.TEXTURE_2D,null)},i.prototype.minFilter=function(t){var e=this.gl;this.bind(),this.mipmap?e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR_MIPMAP_LINEAR:e.NEAREST_MIPMAP_NEAREST):e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t?e.LINEAR:e.NEAREST)},i.prototype.magFilter=function(t){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t?e.LINEAR:e.NEAREST)},i.prototype.enableMipmap=function(){var t=this.gl;this.bind(),this.mipmap=!0,t.generateMipmap(t.TEXTURE_2D)},i.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},i.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},i.prototype.enableWrapClamp=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE)},i.prototype.enableWrapRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT)},i.prototype.enableWrapMirrorRepeat=function(){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.MIRRORED_REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.MIRRORED_REPEAT)},i.prototype.destroy=function(){var t=this.gl;t.deleteTexture(this.texture)},i.fromSource=function(t,e,n){var r=new i(t);return r.premultiplyAlpha=n||!1,r.upload(e),r},i.fromData=function(t,e,n,r){var o=new i(t);return o.uploadData(e,n,r),o},t.exports=i},function(t,e){var i=function(t,e,i){var n;if(i){var r=i.tempAttribState,o=i.attribState;for(n=0;n<r.length;n++)r[n]=!1;for(n=0;n<e.length;n++)r[e[n].attribute.location]=!0;for(n=0;n<o.length;n++)o[n]!==r[n]&&(o[n]=r[n],i.attribState[n]?t.enableVertexAttribArray(n):t.disableVertexAttribArray(n))}else for(n=0;n<e.length;n++){var a=e[n];t.enableVertexAttribArray(a.attribute.location)}};t.exports=i},function(t,e){var i=function(t,e,i,r){var o=n(t,t.VERTEX_SHADER,e),a=n(t,t.FRAGMENT_SHADER,i),s=t.createProgram();if(t.attachShader(s,o),t.attachShader(s,a),r)for(var u in r)t.bindAttribLocation(s,r[u],u);return t.linkProgram(s),t.getProgramParameter(s,t.LINK_STATUS)||(""!==t.getProgramInfoLog(s),t.deleteProgram(s),s=null),t.deleteShader(o),t.deleteShader(a),s},n=function(t,e,i){var n=t.createShader(e);return t.shaderSource(n,i),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:null};t.exports=i},function(t,e){var i=function(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"bool":return!1;case"bvec2":return n(2*e);case"bvec3":return n(3*e);case"bvec4":return n(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},n=function(t){for(var e=new Array(t),i=0;i<e.length;i++)e[i]=!1;return e};t.exports=i},function(t,e,i){var n=i(179),r=i(279),o=function(t,e){for(var i={},o=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),s=0;s<o;s++){var u=t.getActiveAttrib(e,s),l=n(t,u.type);i[u.name]={type:l,size:r(l),location:t.getAttribLocation(e,u.name),pointer:a}}return i},a=function(t,e,i,n){gl.vertexAttribPointer(this.location,this.size,t||gl.FLOAT,e||!1,i||0,n||0)};t.exports=o},function(t,e,i){var n=i(179),r=i(275),o=function(t,e){for(var i={},o=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),a=0;a<o;a++){var s=t.getActiveUniform(e,a),u=s.name.replace(/\[.*?\]/,""),l=n(t,s.type);i[u]={type:l,size:s.size,location:t.getUniformLocation(e,u),value:r(l,s.size)}}return i};t.exports=o},function(t,e){var i=function(t,e){var i={data:{}};i.gl=t;for(var a=Object.keys(e),s=0;s<a.length;s++){var u=a[s],l=u.split("."),h=l[l.length-1],c=o(l,i),f=e[u];c.data[h]=f,c.gl=t,Object.defineProperty(c,h,{get:n(h),set:r(h,f)})}return i},n=function(t){var e=a.replace("%%",t);return new Function(e)},r=function(t,e){var i,n=s.replace(/%%/g,t);return i=1===e.size?u[e.type]:l[e.type],i&&(n+="\nthis.gl."+i+";"),new Function("value",n)},o=function(t,e){for(var i=e,n=0;n<t.length-1;n++){var r=i[t[n]]||{data:{}};i[t[n]]=r,i=r}return i},a=["return this.data.%%.value;"].join("\n"),s=["this.data.%%.value = value;","var location = this.data.%%.location;"].join("\n"),u={float:"uniform1f(location, value)",vec2:"uniform2f(location, value[0], value[1])",vec3:"uniform3f(location, value[0], value[1], value[2])",vec4:"uniform4f(location, value[0], value[1], value[2], value[3])",int:"uniform1i(location, value)",ivec2:"uniform2i(location, value[0], value[1])",ivec3:"uniform3i(location, value[0], value[1], value[2])",ivec4:"uniform4i(location, value[0], value[1], value[2], value[3])",bool:"uniform1i(location, value)",bvec2:"uniform2i(location, value[0], value[1])",bvec3:"uniform3i(location, value[0], value[1], value[2])",bvec4:"uniform4i(location, value[0], value[1], value[2], value[3])",mat2:"uniformMatrix2fv(location, false, value)",mat3:"uniformMatrix3fv(location, false, value)",mat4:"uniformMatrix4fv(location, false, value)",sampler2D:"uniform1i(location, value)"},l={float:"uniform1fv(location, value)",vec2:"uniform2fv(location, value)",vec3:"uniform3fv(location, value)",vec4:"uniform4fv(location, value)",int:"uniform1iv(location, value)",ivec2:"uniform2iv(location, value)",ivec3:"uniform3iv(location, value)",ivec4:"uniform4iv(location, value)",bool:"uniform1iv(location, value)",bvec2:"uniform2iv(location, value)",bvec3:"uniform3iv(location, value)",bvec4:"uniform4iv(location, value)",sampler2D:"uniform1iv(location, value)"};t.exports=i},function(t,e){var i=function(t){return n[t]},n={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};t.exports=i},function(t,e){var i=function(t,e){return"precision"!==t.substring(0,9)?"precision "+e+" float;\n"+t:t};t.exports=i},function(t,e){"use strict";e.__esModule=!0,e.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(283),s=i(97),u=n(s),l=i(188),h=i(24),c=n(h),f=i(8),d=function(){function t(e,i,n,o,s){r(this,t),"number"==typeof e&&(e=Object.assign({width:e,height:i||c.default.RENDER_OPTIONS.height,forceCanvas:!!o,sharedTicker:!!s},n)),this._options=e=Object.assign({sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},e),this.renderer=(0,a.autoDetectRenderer)(e),this.stage=new u.default,this._ticker=null,this.ticker=e.sharedTicker?l.shared:new l.Ticker,this.start()}return t.prototype.render=function(){this.renderer.render(this.stage)},t.prototype.stop=function(){this._ticker.stop()},t.prototype.start=function(){this._ticker.start()},t.prototype.destroy=function(t){var e=this._ticker;this.ticker=null,e.destroy(),this.stage.destroy(),this.stage=null,this.renderer.destroy(t),this.renderer=null,this._options=null},o(t,[{key:"ticker",set:function(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,f.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),t}();e.default=d},function(t,e,i){
"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e,i,n){var r=t&&t.forceCanvas;return void 0!==n&&(r=n),!r&&s.isWebGLSupported()?new c.default(t,e,i):new l.default(t,e,i)}e.__esModule=!0,e.autoDetectRenderer=o;var a=i(13),s=r(a),u=i(98),l=n(u),h=i(131),c=n(h)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(74),l=n(u),h=i(8),c=i(24),f=n(c),d=i(286),p=n(d),y=i(285),v=n(y),m=i(180),g=n(m),_=i(26),b=function(t){function e(){r(this,e);var i=o(this,t.call(this)),n=f.default.TRANSFORM_MODE===h.TRANSFORM_MODE.STATIC?p.default:v.default;return i.tempDisplayObjectParent=null,i.transform=new n,i.alpha=1,i.visible=!0,i.renderable=!0,i.parent=null,i.worldAlpha=1,i.filterArea=null,i._filters=null,i._enabledFilters=null,i._bounds=new g.default,i._boundsID=0,i._lastBoundsID=-1,i._boundsRect=null,i._localBoundsRect=null,i._mask=null,i._destroyed=!1,i}return a(e,t),e.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},e.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},e.prototype.getBounds=function(t,e){return t||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),e||(this._boundsRect||(this._boundsRect=new _.Rectangle),e=this._boundsRect),this._bounds.getRectangle(e)},e.prototype.getLocalBounds=function(t){var e=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,t||(this._localBoundsRect||(this._localBoundsRect=new _.Rectangle),t=this._localBoundsRect);var n=this.getBounds(!1,t);return this.parent=i,this.transform=e,n},e.prototype.toGlobal=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(t,e)},e.prototype.toLocal=function(t,e,i,n){return e&&(t=e.toGlobal(t,i,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(t,i)},e.prototype.renderWebGL=function(t){},e.prototype.renderCanvas=function(t){},e.prototype.setParent=function(t){if(!t||!t.addChild)throw new Error("setParent: Argument must be a Container");return t.addChild(this),t},e.prototype.setTransform=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=t,this.position.y=e,this.scale.x=i?i:1,this.scale.y=n?n:1,this.rotation=r,this.skew.x=o,this.skew.y=a,this.pivot.x=s,this.pivot.y=u,this},e.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},s(e,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new e),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(t){this.transform.position.x=t}},{key:"y",get:function(){return this.position.y},set:function(t){this.transform.position.y=t}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(t){this.transform.position.copy(t)}},{key:"scale",get:function(){return this.transform.scale},set:function(t){this.transform.scale.copy(t)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(t){this.transform.pivot.copy(t)}},{key:"skew",get:function(){return this.transform.skew},set:function(t){this.transform.skew.copy(t)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(t){this.transform.rotation=t}},{key:"worldVisible",get:function(){var t=this;do{if(!t.visible)return!1;t=t.parent}while(t);return!0}},{key:"mask",get:function(){return this._mask},set:function(t){this._mask&&(this._mask.renderable=!0),this._mask=t,this._mask&&(this._mask.renderable=!1)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(t){this._filters=t&&t.slice()}}]),e}(l.default);e.default=b,b.prototype.displayObjectUpdateTransform=b.prototype.updateTransform},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(26),l=i(181),h=n(l),c=function(t){function e(){r(this,e);var i=o(this,t.call(this));return i.position=new u.Point(0,0),i.scale=new u.Point(1,1),i.skew=new u.ObservablePoint(i.updateSkew,i,0,0),i.pivot=new u.Point(0,0),i._rotation=0,i._cx=1,i._sx=0,i._cy=0,i._sy=1,i}return a(e,t),e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},e.prototype.updateLocalTransform=function(){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d)},e.prototype.updateTransform=function(t){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d);var i=t.worldTransform,n=this.worldTransform;n.a=e.a*i.a+e.b*i.c,n.b=e.a*i.b+e.b*i.d,n.c=e.c*i.a+e.d*i.c,n.d=e.c*i.b+e.d*i.d,n.tx=e.tx*i.a+e.ty*i.c+i.tx,n.ty=e.tx*i.b+e.ty*i.d+i.ty,this._worldID++},e.prototype.setFromMatrix=function(t){t.decompose(this)},s(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(h.default);e.default=c},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(26),l=i(181),h=n(l),c=function(t){function e(){r(this,e);var i=o(this,t.call(this));return i.position=new u.ObservablePoint(i.onChange,i,0,0),i.scale=new u.ObservablePoint(i.onChange,i,1,1),i.pivot=new u.ObservablePoint(i.onChange,i,0,0),i.skew=new u.ObservablePoint(i.updateSkew,i,0,0),i._rotation=0,i._cx=1,i._sx=0,i._cy=0,i._sy=1,i._localID=0,i._currentLocalID=0,i}return a(e,t),e.prototype.onChange=function(){this._localID++},e.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},e.prototype.updateLocalTransform=function(){var t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1)},e.prototype.updateTransform=function(t){var e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){var i=t.worldTransform,n=this.worldTransform;n.a=e.a*i.a+e.b*i.c,n.b=e.a*i.b+e.b*i.d,n.c=e.c*i.a+e.d*i.c,n.d=e.c*i.b+e.d*i.d,n.tx=e.tx*i.a+e.ty*i.c+i.tx,n.ty=e.tx*i.b+e.ty*i.d+i.ty,this._parentID=t._worldID,this._worldID++}},e.prototype.setFromMatrix=function(t){t.decompose(this),this._localID++},s(e,[{key:"rotation",get:function(){return this._rotation},set:function(t){this._rotation=t,this.updateSkew()}}]),e}(h.default);e.default=c},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n=function(){function t(e,n,r,o,a,s,u,l){i(this,t),this.lineWidth=e,this.nativeLines=u,this.lineColor=n,this.lineAlpha=r,this._lineTint=n,this.fillColor=o,this.fillAlpha=a,this._fillTint=o,this.fill=s,this.holes=[],this.shape=l,this.type=l.type}return t.prototype.clone=function(){return new t(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape)},t.prototype.addHole=function(t){this.holes.push(t)},t.prototype.destroy=function(){this.shape=null,this.holes=null},t}();e.default=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){return t<0?-1:t>0?1:0}function o(){for(var t=0;t<16;t++){var e=[];d.push(e);for(var i=0;i<16;i++)for(var n=r(u[t]*u[i]+h[t]*l[i]),o=r(l[t]*u[i]+c[t]*l[i]),a=r(u[t]*h[i]+h[t]*c[i]),p=r(l[t]*h[i]+c[t]*c[i]),y=0;y<16;y++)if(u[y]===n&&l[y]===o&&h[y]===a&&c[y]===p){e.push(y);break}}for(var v=0;v<16;v++){var m=new s.default;m.set(u[v],l[v],h[v],c[v],0,0),f.push(m)}}e.__esModule=!0;var a=i(182),s=n(a),u=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],l=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],h=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],c=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],f=[],d=[];o();var p={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(t){return u[t]},uY:function(t){return l[t]},vX:function(t){return h[t]},vY:function(t){return c[t]},inv:function(t){return 8&t?15&t:7&-t},add:function(t,e){return d[t][e]},sub:function(t,e){return d[t][p.inv(e)]},rotate180:function(t){return 4^t},isSwapWidthHeight:function(t){return 2===(3&t)},byDirection:function(t,e){return 2*Math.abs(t)<=Math.abs(e)?e>=0?p.S:p.N:2*Math.abs(e)<=Math.abs(t)?t>0?p.E:p.W:e>0?t>0?p.SE:p.SW:t>0?p.NE:p.NW},matrixAppendRotationInv:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=f[p.inv(e)];r.tx=i,r.ty=n,t.append(r)}};e.default=p},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;i(this,t),this._x=r,this._y=o,this.cb=e,this.scope=n}return t.prototype.set=function(t,e){var i=t||0,n=e||(0!==e?i:0);this._x===i&&this._y===n||(this._x=i,this._y=n,this.cb.call(this.scope))},t.prototype.copy=function(t){this._x===t.x&&this._y===t.y||(this._x=t.x,this._y=t.y,this.cb.call(this.scope))},n(t,[{key:"x",get:function(){return this._x},set:function(t){this._x!==t&&(this._x=t,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(t){this._y!==t&&(this._y=t,this.cb.call(this.scope))}}]),t}();e.default=r},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(13),l=i(26),h=i(8),c=i(24),f=n(c),d=i(97),p=n(d),y=i(187),v=n(y),m=i(74),g=n(m),_=new l.Matrix,b=function(t){function e(i,n,a,s){r(this,e);var c=o(this,t.call(this));return(0,u.sayHello)(i),"number"==typeof n&&(n=Object.assign({width:n,height:a||f.default.RENDER_OPTIONS.height},s)),n=Object.assign({},f.default.RENDER_OPTIONS,n),c.options=n,c.type=h.RENDERER_TYPE.UNKNOWN,c.screen=new l.Rectangle(0,0,n.width,n.height),c.view=n.view||document.createElement("canvas"),c.resolution=n.resolution||f.default.RESOLUTION,c.transparent=n.transparent,c.autoResize=n.autoResize||!1,c.blendModes=null,c.preserveDrawingBuffer=n.preserveDrawingBuffer,c.clearBeforeRender=n.clearBeforeRender,c.roundPixels=n.roundPixels,c._backgroundColor=0,c._backgroundColorRgba=[0,0,0,0],c._backgroundColorString="#000000",c.backgroundColor=n.backgroundColor||c._backgroundColor,c._tempDisplayObjectParent=new p.default,c._lastObjectRendered=c._tempDisplayObjectParent,c}return a(e,t),e.prototype.resize=function(t,e){this.screen.width=t,this.screen.height=e,this.view.width=t*this.resolution,this.view.height=e*this.resolution,this.autoResize&&(this.view.style.width=t+"px",this.view.style.height=e+"px")},e.prototype.generateTexture=function(t,e,i){var n=t.getLocalBounds(),r=v.default.create(0|n.width,0|n.height,e,i);return _.tx=-n.x,_.ty=-n.y,this.render(t,r,!1,_,!0),r},e.prototype.destroy=function(t){t&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=h.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},s(e,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){this._backgroundColor=t,this._backgroundColorString=(0,u.hex2string)(t),(0,u.hex2rgb)(t,this._backgroundColorRgba)}}]),e}(g.default);e.default=b},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(24),s=n(a),u=function(){function t(e,i,n){r(this,t),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=n||s.default.RESOLUTION,this.resize(e,i)}return t.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t.prototype.resize=function(t,e){this.canvas.width=t*this.resolution,this.canvas.height=e*this.resolution},t.prototype.destroy=function(){this.context=null,this.canvas=null},o(t,[{key:"width",get:function(){return this.canvas.width},set:function(t){this.canvas.width=t}},{key:"height",get:function(){return this.canvas.height},set:function(t){this.canvas.height=t}}]),t}();e.default=u},function(t,e){"use strict";function i(t){var e=document.createElement("canvas");e.width=6,e.height=1;var i=e.getContext("2d");return i.fillStyle=t,i.fillRect(0,0,6,1),e}function n(){if("undefined"==typeof document)return!1;var t=i("#ff00ff"),e=i("#ffff00"),n=document.createElement("canvas");n.width=6,n.height=1;var r=n.getContext("2d");r.globalCompositeOperation="multiply",r.drawImage(t,0,0),r.drawImage(e,2,0);var o=r.getImageData(2,0,1,1);if(!o)return!1;var a=o.data;return 255===a[0]&&0===a[1]&&0===a[2]}e.__esModule=!0,e.default=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(734),s=n(a),u=i(13),l=i(8),h=i(24),c=n(h),f={},d=function(){function t(e,i,n){r(this,t),this.vertexSrc=e||t.defaultVertexSrc,this.fragmentSrc=i||t.defaultFragmentSrc,this.blendMode=l.BLEND_MODES.NORMAL,this.uniformData=n||(0,s.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={};for(var o in this.uniformData)this.uniforms[o]=this.uniformData[o].value;this.glShaders={},f[this.vertexSrc+this.fragmentSrc]||(f[this.vertexSrc+this.fragmentSrc]=(0,u.uid)()),this.glShaderKey=f[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=c.default.RESOLUTION,this.enabled=!0,this.autoFit=!0}return t.prototype.apply=function(t,e,i,n,r){t.applyFilter(this,e,i,n)},o(t,null,[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),t}();e.default=d},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(293),u=n(s),l=i(26),h=(i(46),function(t){function e(i){r(this,e);var n=new l.Matrix,a=o(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float alpha;\nuniform sampler2D mask;\n\nvoid main(void)\n{\n    // check clip! this will stop the mask bleeding out from the edges\n    vec2 text = abs( vMaskCoord - 0.5 );\n    text = step(0.5, text);\n\n    float clip = 1.0 - max(text.y, text.x);\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));return i.renderable=!1,a.maskSprite=i,a.maskMatrix=n,a}return a(e,t),e.prototype.apply=function(t,e,i){var n=this.maskSprite;this.uniforms.mask=n._texture,this.uniforms.otherMatrix=t.calculateSpriteMatrix(this.maskMatrix,n),this.uniforms.alpha=n.worldAlpha,t.applyFilter(this,e,i)},e}(u.default));e.default=h},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=i(40),a=n(o),s=i(189),u=n(s),l=function(){function t(e,i){r(this,t),this.gl=e,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var n=0;n<4;n++)this.interleaved[4*n]=this.vertices[2*n],this.interleaved[4*n+1]=this.vertices[2*n+1],this.interleaved[4*n+2]=this.uvs[2*n],this.interleaved[4*n+3]=this.uvs[2*n+1];this.indices=(0,u.default)(1),this.vertexBuffer=a.default.GLBuffer.createVertexBuffer(e,this.interleaved,e.STATIC_DRAW),this.indexBuffer=a.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.vao=new a.default.VertexArrayObject(e,i)}return t.prototype.initVao=function(t){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,t.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,t.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},t.prototype.map=function(t,e){var i=0,n=0;return this.uvs[0]=i,this.uvs[1]=n,this.uvs[2]=i+e.width/t.width,this.uvs[3]=n,this.uvs[4]=i+e.width/t.width,this.uvs[5]=n+e.height/t.height,this.uvs[6]=i,this.uvs[7]=n+e.height/t.height,i=e.x,n=e.y,this.vertices[0]=i,this.vertices[1]=n,this.vertices[2]=i+e.width,this.vertices[3]=n,this.vertices[4]=i+e.width,this.vertices[5]=n+e.height,this.vertices[6]=i,this.vertices[7]=n+e.height,this},t.prototype.upload=function(){for(var t=0;t<4;t++)this.interleaved[4*t]=this.vertices[2*t],this.interleaved[4*t+1]=this.vertices[2*t+1],this.interleaved[4*t+2]=this.uvs[2*t],this.interleaved[4*t+3]=this.uvs[2*t+1];return this.vertexBuffer.upload(this.interleaved),this},t.prototype.destroy=function(){var t=this.gl;t.deleteBuffer(this.vertexBuffer),t.deleteBuffer(this.indexBuffer)},t}();e.default=l},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n=function(){function t(e,n,r,o,a,s,u,l,h){i(this,t),this.text=e,this.style=n,this.width=r,this.height=o,this.lines=a,this.lineWidths=s,this.lineHeight=u,this.maxLineWidth=l,this.fontProperties=h}return t.measureText=function(e,i,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t._canvas;n=n||i.wordWrap;var o=i.toFontString(),a=t.measureFont(o),s=r.getContext("2d");s.font=o;for(var u=n?t.wordWrap(e,i,r):e,l=u.split(/(?:\r\n|\r|\n)/),h=new Array(l.length),c=0,f=0;f<l.length;f++){var d=s.measureText(l[f]).width+(l[f].length-1)*i.letterSpacing;h[f]=d,c=Math.max(c,d)}var p=c+i.strokeThickness;i.dropShadow&&(p+=i.dropShadowDistance);var y=i.lineHeight||a.fontSize+i.strokeThickness,v=Math.max(y,a.fontSize+i.strokeThickness)+(l.length-1)*y;return i.dropShadow&&(v+=i.dropShadowDistance),new t(e,i,p,v,l,h,y,c,a)},t.wordWrap=function(e,i){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t._canvas,r=n.getContext("2d"),o="",a=e.split("\n"),s=i.wordWrapWidth,u={},l=0;l<a.length;l++){for(var h=s,c=a[l].split(" "),f=0;f<c.length;f++){var d=r.measureText(c[f]).width;if(i.breakWords&&d>s)for(var p=c[f].split(""),y=0;y<p.length;y++){var v=p[y],m=u[v];void 0===m&&(m=r.measureText(v).width,u[v]=m),m>h?(o+="\n"+v,h=s-m):(0===y&&(o+=" "),o+=v,h-=m)}else{var g=d+r.measureText(" ").width;0===f||g>h?(f>0&&(o+="\n"),o+=c[f],h=s-d):(h-=g,o+=" "+c[f])}}l<a.length-1&&(o+="\n")}return o},t.measureFont=function(e){if(t._fonts[e])return t._fonts[e];var i={},n=t._canvas,r=t._context;r.font=e;var o=Math.ceil(r.measureText("|MÉq").width),a=Math.ceil(r.measureText("M").width),s=2*a;a=1.4*a|0,n.width=o,n.height=s,r.fillStyle="#f00",r.fillRect(0,0,o,s),r.font=e,r.textBaseline="alphabetic",r.fillStyle="#000",r.fillText("|MÉq",0,a);var u=r.getImageData(0,0,o,s).data,l=u.length,h=4*o,c=0,f=0,d=!1;for(c=0;c<a;++c){for(var p=0;p<h;p+=4)if(255!==u[f+p]){d=!0;break}if(d)break;f+=h}for(i.ascent=a-c,f=l-h,d=!1,c=s;c>a;--c){for(var y=0;y<h;y+=4)if(255!==u[f+y]){d=!0;break}if(d)break;f-=h}return i.descent=c-a,i.fontSize=i.ascent+i.descent,t._fonts[e]=i,i},t}();e.default=n;var r=document.createElement("canvas");r.width=r.height=10,n._canvas=r,n._context=r.getContext("2d"),n._fonts={}},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r(t){return"number"==typeof t?(0,l.hex2string)(t):("string"==typeof t&&0===t.indexOf("0x")&&(t=t.replace("0x","#")),t)}function o(t){if(Array.isArray(t)){for(var e=0;e<t.length;++e)t[e]=r(t[e]);return t}return r(t)}function a(t,e){if(!Array.isArray(t)||!Array.isArray(e))return!1;if(t.length!==e.length)return!1;for(var i=0;i<t.length;++i)if(t[i]!==e[i])return!1;return!0}e.__esModule=!0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(8),l=i(13),h={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:u.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,wordWrap:!1,wordWrapWidth:100},c=function(){function t(e){n(this,t),this.styleID=0,Object.assign(this,h,e)}return t.prototype.clone=function(){var e={};for(var i in h)e[i]=this[i];return new t(e)},t.prototype.reset=function(){Object.assign(this,h)},t.prototype.toFontString=function(){var t="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(var i=e.length-1;i>=0;i--){var n=e[i].trim();/([\"\'])[^\'\"]+\1/.test(n)||(n='"'+n+'"'),e[i]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+t+" "+e.join(",")},s(t,[{key:"align",get:function(){return this._align},set:function(t){this._align!==t&&(this._align=t,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(t){var e=o(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(t){var e=o(t);this._fill!==e&&(this._fill=e,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(t){a(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}},{key:"fontVariant",
get:function(){return this._fontVariant},set:function(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(t){this._padding!==t&&(this._padding=t,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(t){var e=o(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(t){this._trim!==t&&(this._trim=t,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}}]),t}();e.default=c},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(86),u=n(s),l=i(24),h=n(l),c=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=arguments[2],s=arguments[3];r(this,e);var u=o(this,t.call(this,null,a));return u.resolution=s||h.default.RESOLUTION,u.width=i,u.height=n,u.realWidth=u.width*u.resolution,u.realHeight=u.height*u.resolution,u.scaleMode=void 0!==a?a:h.default.SCALE_MODE,u.hasLoaded=!0,u._glRenderTargets={},u._canvasRenderTarget=null,u.valid=!1,u}return a(e,t),e.prototype.resize=function(t,e){t===this.width&&e===this.height||(this.valid=t>0&&e>0,this.width=t,this.height=e,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},e.prototype.destroy=function(){t.prototype.destroy.call(this,!0),this.renderer=null},e}(u.default);e.default=c},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=i(288),a=n(o),s=function(){function t(){r(this,t),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return t.prototype.set=function(t,e,i){var n=e.width,r=e.height;if(i){var o=t.width/2/n,s=t.height/2/r,u=t.x/n+o,l=t.y/r+s;i=a.default.add(i,a.default.NW),this.x0=u+o*a.default.uX(i),this.y0=l+s*a.default.uY(i),i=a.default.add(i,2),this.x1=u+o*a.default.uX(i),this.y1=l+s*a.default.uY(i),i=a.default.add(i,2),this.x2=u+o*a.default.uX(i),this.y2=l+s*a.default.uY(i),i=a.default.add(i,2),this.x3=u+o*a.default.uX(i),this.y3=l+s*a.default.uY(i)}else this.x0=t.x/n,this.y0=t.y/r,this.x1=(t.x+t.width)/n,this.y1=t.y/r,this.x2=(t.x+t.width)/n,this.y2=(t.y+t.height)/r,this.x3=t.x/n,this.y3=(t.y+t.height)/r;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535,this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535,this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535,this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535},t}();e.default=s},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){e||(e="video/"+t.substr(t.lastIndexOf(".")+1));var i=document.createElement("source");return i.src=t,i.type=e,i}e.__esModule=!0;var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(86),h=n(l),c=i(13),f=i(188),d=i(8),p=function(t){function e(i,n){if(r(this,e),!i)throw new Error("No video source element specified.");(i.readyState===i.HAVE_ENOUGH_DATA||i.readyState===i.HAVE_FUTURE_DATA)&&i.width&&i.height&&(i.complete=!0);var a=o(this,t.call(this,i,n));return a.width=i.videoWidth,a.height=i.videoHeight,a._autoUpdate=!0,a._isAutoUpdating=!1,a.autoPlay=!0,a.update=a.update.bind(a),a._onCanPlay=a._onCanPlay.bind(a),i.addEventListener("play",a._onPlayStart.bind(a)),i.addEventListener("pause",a._onPlayStop.bind(a)),a.hasLoaded=!1,a.__loaded=!1,a._isSourceReady()?a._onCanPlay():(i.addEventListener("canplay",a._onCanPlay),i.addEventListener("canplaythrough",a._onCanPlay)),a}return a(e,t),e.prototype._isSourcePlaying=function(){var t=this.source;return t.currentTime>0&&t.paused===!1&&t.ended===!1&&t.readyState>2},e.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},e.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(f.shared.add(this.update,this,d.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},e.prototype._onPlayStop=function(){this._isAutoUpdating&&(f.shared.remove(this.update,this),this._isAutoUpdating=!1)},e.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},e.prototype.destroy=function(){this._isAutoUpdating&&f.shared.remove(this.update,this),this.source&&this.source._pixiId&&(h.default.removeFromCache(this.source._pixiId),delete this.source._pixiId),t.prototype.destroy.call(this)},e.fromVideo=function(t,i){t._pixiId||(t._pixiId="video_"+(0,c.uid)());var n=c.BaseTextureCache[t._pixiId];return n||(n=new e(t,i),h.default.addToCache(n,t._pixiId)),n},e.fromUrl=function(t,i){var n=document.createElement("video");if(n.setAttribute("webkit-playsinline",""),n.setAttribute("playsinline",""),Array.isArray(t))for(var r=0;r<t.length;++r)n.appendChild(s(t[r].src||t[r],t[r].mime));else n.appendChild(s(t.src||t,t.mime));return n.load(),e.fromVideo(n,i)},u(e,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isAutoUpdating?(f.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(f.shared.add(this.update,this,d.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),e}(h.default);e.default=p,p.fromUrls=p.fromUrl},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.BitmapText=e.TilingSpriteRenderer=e.TilingSprite=e.TextureTransform=e.AnimatedSprite=void 0;var r=i(762);Object.defineProperty(e,"AnimatedSprite",{enumerable:!0,get:function(){return n(r).default}});var o=i(190);Object.defineProperty(e,"TextureTransform",{enumerable:!0,get:function(){return n(o).default}});var a=i(764);Object.defineProperty(e,"TilingSprite",{enumerable:!0,get:function(){return n(a).default}});var s=i(768);Object.defineProperty(e,"TilingSpriteRenderer",{enumerable:!0,get:function(){return n(s).default}});var u=i(763);Object.defineProperty(e,"BitmapText",{enumerable:!0,get:function(){return n(u).default}}),i(765),i(766),i(767)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(9),h=r(l),c=i(305),f=n(c),d=i(304),p=n(d),y=i(306),v=n(y),m=function(t){function e(i,n,r,s){o(this,e),s=s||5;var u=(0,f.default)(s,!0),l=(0,p.default)(s),c=a(this,t.call(this,u,l));return c.resolution=r||h.settings.RESOLUTION,c._quality=0,c.quality=n||4,c.strength=i||8,c.firstRun=!0,c}return s(e,t),e.prototype.apply=function(t,e,i,n){if(this.firstRun){var r=t.renderer.gl,o=(0,v.default)(r);this.vertexSrc=(0,f.default)(o,!0),this.fragmentSrc=(0,p.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/i.size.width*(i.size.width/e.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,i,n);else{for(var a=t.getRenderTarget(!0),s=e,u=a,l=0;l<this.passes-1;l++){t.applyFilter(this,s,u,!0);var h=u;u=s,s=h}t.applyFilter(this,s,i,n),t.returnRenderTarget(a)}},u(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(h.Filter);e.default=m},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(9),h=r(l),c=i(305),f=n(c),d=i(304),p=n(d),y=i(306),v=n(y),m=function(t){function e(i,n,r,s){o(this,e),s=s||5;var u=(0,f.default)(s,!1),l=(0,p.default)(s),c=a(this,t.call(this,u,l));return c.resolution=r||h.settings.RESOLUTION,c._quality=0,c.quality=n||4,c.strength=i||8,c.firstRun=!0,c}return s(e,t),e.prototype.apply=function(t,e,i,n){if(this.firstRun){var r=t.renderer.gl,o=(0,v.default)(r);this.vertexSrc=(0,f.default)(o,!1),this.fragmentSrc=(0,p.default)(o),this.firstRun=!1}if(this.uniforms.strength=1/i.size.height*(i.size.height/e.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)t.applyFilter(this,e,i,n);else{for(var a=t.getRenderTarget(!0),s=e,u=a,l=0;l<this.passes-1;l++){t.applyFilter(this,s,u,!0);var h=u;u=s,s=h}t.applyFilter(this,s,i,n),t.returnRenderTarget(a)}},u(e,[{key:"blur",get:function(){return this.strength},set:function(t){this.padding=2*Math.abs(t),this.strength=t}},{key:"quality",get:function(){return this._quality},set:function(t){this._quality=t,this.passes=t}}]),e}(h.Filter);e.default=m},function(t,e){"use strict";function i(t){for(var e=n[t],i=e.length,o=r,a="",s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",u=void 0,l=0;l<t;l++){var h=s.replace("%index%",l);u=l,l>=i&&(u=t-l-1),h=h.replace("%value%",e[u]),a+=h,a+="\n"}return o=o.replace("%blur%",a),o=o.replace("%size%",t)}e.__esModule=!0,e.default=i;var n={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},r=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},function(t,e){"use strict";function i(t,e){var i=Math.ceil(t/2),r=n,o="",a=void 0;a=e?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var s=0;s<t;s++){var u=a.replace("%index%",s);u=u.replace("%sampleIndex%",s-(i-1)+".0"),o+=u,o+="\n"}return r=r.replace("%blur%",o),r=r.replace("%size%",t)}e.__esModule=!0,e.default=i;var n=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},function(t,e){"use strict";function i(t){for(var e=t.getParameter(t.MAX_VARYING_VECTORS),i=15;i>e;)i-=2;return i}e.__esModule=!0,e.default=i},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(9),s=n(a),u=function(){function t(){r(this,t),this.global=new s.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return t.prototype.getLocalPosition=function(t,e,i){return t.worldTransform.applyInverse(i||this.global,e)},t.prototype._copyEvent=function(t){t.isPrimary&&(this.isPrimary=!0),this.button=t.button,this.buttons=t.buttons,this.width=t.width,this.height=t.height,this.tiltX=t.tiltX,this.tiltY=t.tiltY,this.pointerType=t.pointerType,this.pressure=t.pressure,this.rotationAngle=t.rotationAngle,this.twist=t.twist||0,this.tangentialPressure=t.tangentialPressure||0},t.prototype._reset=function(){this.isPrimary=!1},o(t,[{key:"pointerId",get:function(){return this.identifier}}]),t}();e.default=u},function(t,e){"use strict";e.__esModule=!0,e.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(t){t?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t,e){t.bitmapFont=l.BitmapText.registerFont(t.data,e)}e.__esModule=!0,e.parse=r,e.default=function(){return function(t,e){if(!t.data||t.type!==u.Resource.TYPE.XML)return void e();if(0===t.data.getElementsByTagName("page").length||0===t.data.getElementsByTagName("info").length||null===t.data.getElementsByTagName("info")[0].getAttribute("face"))return void e();var i=t.isDataUrl?"":a.dirname(t.url);t.isDataUrl&&("."===i&&(i=""),this.baseUrl&&i&&("/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(i+="/"),i=i.replace(this.baseUrl,""))),i&&"/"!==i.charAt(i.length-1)&&(i+="/");var n=i+t.data.getElementsByTagName("page")[0].getAttribute("file");if(s.utils.TextureCache[n])r(t,s.utils.TextureCache[n]),e();else{var o={crossOrigin:t.crossOrigin,loadType:u.Resource.LOAD_TYPE.IMAGE,metadata:t.metadata.imageMetadata,parentResource:t};this.add(t.name+"_image",n,o,function(i){r(t,i.texture),e()})}}};var o=i(46),a=n(o),s=i(9),u=i(101),l=i(301)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){return t.isDataUrl?t.data.meta.image:s.default.resolve(t.url.replace(e,""),t.data.meta.image)}e.__esModule=!0,e.default=function(){return function(t,e){var i=t.name+"_image";if(!t.data||t.type!==o.Resource.TYPE.JSON||!t.data.frames||this.resources[i])return void e();var n={crossOrigin:t.crossOrigin,loadType:o.Resource.LOAD_TYPE.IMAGE,metadata:t.metadata.imageMetadata,parentResource:t},a=r(t,this.baseUrl);this.add(i,a,n,function(i){var n=new u.Spritesheet(i.texture.baseTexture,t.data,t.url);n.parse(function(){t.spritesheet=n,t.textures=n.textures,e()})})}},e.getResourcePath=r;var o=i(101),a=i(320),s=n(a),u=i(9)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.default=function(){return function(t,e){t.data&&t.type===r.Resource.TYPE.IMAGE&&(t.texture=a.default.fromLoader(t.data,t.url,t.name)),e()}};var r=i(101),o=i(76),a=n(o)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(100),u=n(s),l=function(t){function e(i,n,a){r(this,e);var s=o(this,t.call(this,i));return s._ready=!0,s.verticesX=n||10,s.verticesY=a||10,s.drawMode=u.default.DRAW_MODES.TRIANGLES,s.refresh(),s}return a(e,t),e.prototype._refresh=function(){for(var t=this._texture,e=this.verticesX*this.verticesY,i=[],n=[],r=[],o=[],a=this.verticesX-1,s=this.verticesY-1,u=t.width/a,l=t.height/s,h=0;h<e;h++){var c=h%this.verticesX,f=h/this.verticesX|0;i.push(c*u,f*l),r.push(c/a,f/s)}for(var d=a*s,p=0;p<d;p++){var y=p%a,v=p/a|0,m=v*this.verticesX+y,g=v*this.verticesX+y+1,_=(v+1)*this.verticesX+y,b=(v+1)*this.verticesX+y+1;o.push(m,g,_),o.push(g,b,_)}this.vertices=new Float32Array(i),this.uvs=new Float32Array(r),this.colors=new Float32Array(n),this.indices=new Uint16Array(o),this.indexDirty=!0,this.multiplyUvs()},e.prototype._onTextureUpdate=function(){u.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},e}(u.default);e.default=l},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n=function(){function t(e){i(this,t),this.maxItemsPerFrame=e,this.itemsLeft=0}return t.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},t.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},t}();e.default=n},function(t,e){function i(){}t.exports=i,i.area=function(t,e,i){return(e[0]-t[0])*(i[1]-t[1])-(i[0]-t[0])*(e[1]-t[1])},i.left=function(t,e,n){return i.area(t,e,n)>0},i.leftOn=function(t,e,n){return i.area(t,e,n)>=0},i.right=function(t,e,n){return i.area(t,e,n)<0},i.rightOn=function(t,e,n){return i.area(t,e,n)<=0};var n=[],r=[];i.collinear=function(t,e,o,a){if(a){var s=n,u=r;s[0]=e[0]-t[0],s[1]=e[1]-t[1],u[0]=o[0]-e[0],u[1]=o[1]-e[1];var l=s[0]*u[0]+s[1]*u[1],h=Math.sqrt(s[0]*s[0]+s[1]*s[1]),c=Math.sqrt(u[0]*u[0]+u[1]*u[1]),f=Math.acos(l/(h*c));return f<a}return 0==i.area(t,e,o)},i.sqdist=function(t,e){var i=e[0]-t[0],n=e[1]-t[1];return i*i+n*n}},function(t,e){function i(){}t.exports=i,i.eq=function(t,e,i){return i=i||0,Math.abs(t-e)<i}},function(t,e,i){t.exports={Polygon:i(801),Point:i(314)}},function(t,e){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function r(t){if(h===setTimeout)return setTimeout(t,0);if((h===i||!h)&&setTimeout)return h=setTimeout,setTimeout(t,0);try{return h(t,0)}catch(e){try{return h.call(null,t,0)}catch(e){return h.call(this,t,0)}}}function o(t){if(c===clearTimeout)return clearTimeout(t);if((c===n||!c)&&clearTimeout)return c=clearTimeout,clearTimeout(t);try{return c(t)}catch(e){try{return c.call(null,t)}catch(e){return c.call(this,t)}}}function a(){y&&d&&(y=!1,d.length?p=d.concat(p):v=-1,p.length&&s())}function s(){if(!y){var t=r(a);y=!0;for(var e=p.length;e;){for(d=p,p=[];++v<e;)d&&d[v].run();v=-1,e=p.length}d=null,y=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function l(){}var h,c,f=t.exports={};!function(){try{h="function"==typeof setTimeout?setTimeout:i}catch(t){h=i}try{c="function"==typeof clearTimeout?clearTimeout:n}catch(t){c=n}}();var d,p=[],y=!1,v=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];p.push(new u(t,e)),1!==p.length||y||r(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.prependListener=l,f.prependOnceListener=l,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e){"use strict";function i(){}function n(t,e,i,n){var r=0,o=t.length;!function a(s){return s||r===o?void(i&&i(s)):void(n?setTimeout(function(){e(t[r++],a)},1):e(t[r++],a))}()}function r(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}function o(t,e){function n(t,e,n){if(null!=n&&"function"!=typeof n)throw new Error("task callback must be a function");if(s.started=!0,null==t&&s.idle())return void setTimeout(function(){return s.drain()},1);var r={data:t,callback:"function"==typeof n?n:i};e?s._tasks.unshift(r):s._tasks.push(r),setTimeout(function(){return s.process()},1)}function o(t){return function(){a-=1,t.callback.apply(t,arguments),null!=arguments[0]&&s.error(arguments[0],t.data),a<=s.concurrency-s.buffer&&s.unsaturated(),s.idle()&&s.drain(),s.process()}}if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var a=0,s={_tasks:[],concurrency:e,saturated:i,unsaturated:i,buffer:e/4,empty:i,drain:i,error:i,started:!1,paused:!1,push:function(t,e){n(t,!1,e)},kill:function(){a=0,s.drain=i,s.started=!1,s._tasks=[]},unshift:function(t,e){n(t,!0,e)},process:function(){for(;!s.paused&&a<s.concurrency&&s._tasks.length;){var e=s._tasks.shift();0===s._tasks.length&&s.empty(),a+=1,a===s.concurrency&&s.saturated(),t(e.data,r(o(e)))}},length:function(){return s._tasks.length},running:function(){return a},idle:function(){return s._tasks.length+a===0},pause:function(){s.paused!==!0&&(s.paused=!0)},resume:function(){if(s.paused!==!1){s.paused=!1;for(var t=1;t<=s.concurrency;t++)s.process()}}};return s}e.__esModule=!0,e.eachSeries=n,e.queue=o},function(t,e){"use strict";function i(t){for(var e="",i=0;i<t.length;){for(var r=[0,0,0],o=[0,0,0,0],a=0;a<r.length;++a)i<t.length?r[a]=255&t.charCodeAt(i++):r[a]=0;o[0]=r[0]>>2,o[1]=(3&r[0])<<4|r[1]>>4,o[2]=(15&r[1])<<2|r[2]>>6,o[3]=63&r[2];var s=i-(t.length-1);switch(s){case 2:o[3]=64,o[2]=64;break;case 1:o[3]=64}for(var u=0;u<o.length;++u)e+=n.charAt(o[u])}return e}e.__esModule=!0,e.encodeBinary=i;var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},function(t,e,i){"use strict";function n(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function r(t,e,i){if(t&&l.isObject(t)&&t instanceof n)return t;var r=new n;return r.parse(t,e,i),r}function o(t){return l.isString(t)&&(t=r(t)),t instanceof n?t.format():n.prototype.format.call(t)}function a(t,e){return r(t,!1,!0).resolve(e)}function s(t,e){return t?r(t,!1,!0).resolveObject(e):e}var u=i(810),l=i(811);e.parse=r,e.resolve=a,e.resolveObject=s,e.format=o,e.Url=n;var h=/^([a-z0-9.+-]+:)/i,c=/:[0-9]*$/,f=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,d=["<",">",'"',"`"," ","\r","\n","\t"],p=["{","}","|","\\","^","`"].concat(d),y=["'"].concat(p),v=["%","/","?",";","#"].concat(y),m=["/","?","#"],g=255,_=/^[+a-z0-9A-Z_-]{0,63}$/,b=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,w={javascript:!0,"javascript:":!0},x={javascript:!0,"javascript:":!0},T={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},S=i(804);n.prototype.parse=function(t,e,i){if(!l.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),r=n!==-1&&n<t.indexOf("#")?"?":"#",o=t.split(r),a=/\\/g;o[0]=o[0].replace(a,"/"),t=o.join(r);var s=t;if(s=s.trim(),!i&&1===t.split("#").length){var c=f.exec(s);if(c)return this.path=s,this.href=s,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=S.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var d=h.exec(s);if(d){d=d[0];var p=d.toLowerCase();this.protocol=p,s=s.substr(d.length)}if(i||d||s.match(/^\/\/[^@\/]+@[^@\/]+/)){var E="//"===s.substr(0,2);!E||d&&x[d]||(s=s.substr(2),this.slashes=!0)}if(!x[d]&&(E||d&&!T[d])){for(var C=-1,P=0;P<m.length;P++){var M=s.indexOf(m[P]);M!==-1&&(C===-1||M<C)&&(C=M)}var A,O;O=C===-1?s.lastIndexOf("@"):s.lastIndexOf("@",C),O!==-1&&(A=s.slice(0,O),s=s.slice(O+1),this.auth=decodeURIComponent(A)),C=-1;for(var P=0;P<v.length;P++){var M=s.indexOf(v[P]);M!==-1&&(C===-1||M<C)&&(C=M)}C===-1&&(C=s.length),this.host=s.slice(0,C),s=s.slice(C),this.parseHost(),this.hostname=this.hostname||"";var k="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!k)for(var I=this.hostname.split(/\./),P=0,R=I.length;P<R;P++){var L=I[P];if(L&&!L.match(_)){for(var B="",D=0,F=L.length;D<F;D++)B+=L.charCodeAt(D)>127?"x":L[D];if(!B.match(_)){var j=I.slice(0,P),N=I.slice(P+1),X=L.match(b);X&&(j.push(X[1]),N.unshift(X[2])),N.length&&(s="/"+N.join(".")+s),this.hostname=j.join(".");break}}}this.hostname.length>g?this.hostname="":this.hostname=this.hostname.toLowerCase(),k||(this.hostname=u.toASCII(this.hostname));var U=this.port?":"+this.port:"",G=this.hostname||"";this.host=G+U,this.href+=this.host,k&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!w[p])for(var P=0,R=y.length;P<R;P++){var Y=y[P];if(s.indexOf(Y)!==-1){var z=encodeURIComponent(Y);z===Y&&(z=escape(Y)),s=s.split(Y).join(z)}}var V=s.indexOf("#");V!==-1&&(this.hash=s.substr(V),s=s.slice(0,V));var W=s.indexOf("?");if(W!==-1?(this.search=s.substr(W),this.query=s.substr(W+1),e&&(this.query=S.parse(this.query)),s=s.slice(0,W)):e&&(this.search="",this.query={}),s&&(this.pathname=s),T[p]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var U=this.pathname||"",H=this.search||"";this.path=U+H}return this.href=this.format(),this},n.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",i=this.pathname||"",n=this.hash||"",r=!1,o="";this.host?r=t+this.host:this.hostname&&(r=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&l.isObject(this.query)&&Object.keys(this.query).length&&(o=S.stringify(this.query));var a=this.search||o&&"?"+o||"";return e&&":"!==e.substr(-1)&&(e+=":"),this.slashes||(!e||T[e])&&r!==!1?(r="//"+(r||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):r||(r=""),n&&"#"!==n.charAt(0)&&(n="#"+n),a&&"?"!==a.charAt(0)&&(a="?"+a),i=i.replace(/[?#]/g,function(t){return encodeURIComponent(t)}),a=a.replace("#","%23"),e+r+i+a+n},n.prototype.resolve=function(t){return this.resolveObject(r(t,!1,!0)).format()},n.prototype.resolveObject=function(t){if(l.isString(t)){var e=new n;e.parse(t,!1,!0),t=e}for(var i=new n,r=Object.keys(this),o=0;o<r.length;o++){var a=r[o];i[a]=this[a]}if(i.hash=t.hash,""===t.href)return i.href=i.format(),i;if(t.slashes&&!t.protocol){for(var s=Object.keys(t),u=0;u<s.length;u++){var h=s[u];"protocol"!==h&&(i[h]=t[h])}return T[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(t.protocol&&t.protocol!==i.protocol){if(!T[t.protocol]){for(var c=Object.keys(t),f=0;f<c.length;f++){var d=c[f];i[d]=t[d]}return i.href=i.format(),i}if(i.protocol=t.protocol,t.host||x[t.protocol])i.pathname=t.pathname;else{for(var p=(t.pathname||"").split("/");p.length&&!(t.host=p.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),i.pathname=p.join("/")}if(i.search=t.search,i.query=t.query,i.host=t.host||"",i.auth=t.auth,i.hostname=t.hostname||t.host,i.port=t.port,i.pathname||i.search){var y=i.pathname||"",v=i.search||"";i.path=y+v}return i.slashes=i.slashes||t.slashes,i.href=i.format(),i}var m=i.pathname&&"/"===i.pathname.charAt(0),g=t.host||t.pathname&&"/"===t.pathname.charAt(0),_=g||m||i.host&&t.pathname,b=_,w=i.pathname&&i.pathname.split("/")||[],p=t.pathname&&t.pathname.split("/")||[],S=i.protocol&&!T[i.protocol];if(S&&(i.hostname="",i.port=null,i.host&&(""===w[0]?w[0]=i.host:w.unshift(i.host)),i.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===p[0]?p[0]=t.host:p.unshift(t.host)),t.host=null),_=_&&(""===p[0]||""===w[0])),g)i.host=t.host||""===t.host?t.host:i.host,i.hostname=t.hostname||""===t.hostname?t.hostname:i.hostname,i.search=t.search,i.query=t.query,w=p;else if(p.length)w||(w=[]),w.pop(),w=w.concat(p),i.search=t.search,i.query=t.query;else if(!l.isNullOrUndefined(t.search)){if(S){i.hostname=i.host=w.shift();var E=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@");E&&(i.auth=E.shift(),i.host=i.hostname=E.shift())}return i.search=t.search,i.query=t.query,l.isNull(i.pathname)&&l.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),
i.href=i.format(),i}if(!w.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var C=w.slice(-1)[0],P=(i.host||t.host||w.length>1)&&("."===C||".."===C)||""===C,M=0,A=w.length;A>=0;A--)C=w[A],"."===C?w.splice(A,1):".."===C?(w.splice(A,1),M++):M&&(w.splice(A,1),M--);if(!_&&!b)for(;M--;M)w.unshift("..");!_||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),P&&"/"!==w.join("/").substr(-1)&&w.push("");var O=""===w[0]||w[0]&&"/"===w[0].charAt(0);if(S){i.hostname=i.host=O?"":w.length?w.shift():"";var E=!!(i.host&&i.host.indexOf("@")>0)&&i.host.split("@");E&&(i.auth=E.shift(),i.host=i.hostname=E.shift())}return _=_||i.host&&w.length,_&&!O&&w.unshift(""),w.length?i.pathname=w.join("/"):(i.pathname=null,i.path=null),l.isNull(i.pathname)&&l.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=t.auth||i.auth,i.slashes=i.slashes||t.slashes,i.href=i.format(),i},n.prototype.parseHost=function(){var t=this.host,e=c.exec(t);e&&(e=e[0],":"!==e&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)}},function(t,e){t.exports={_args:[[{raw:"p2@^0.7.1",scope:null,escapedName:"p2",name:"p2",rawSpec:"^0.7.1",spec:">=0.7.1 <0.8.0",type:"range"},"/Users/goodboy/dev/adventure-time-elements"]],_from:"p2@>=0.7.1 <0.8.0",_id:"p2@0.7.1",_inCache:!0,_location:"/p2",_nodeVersion:"4.2.2",_npmUser:{name:"schteppe",email:"schteppe@gmail.com"},_npmVersion:"2.14.7",_phantomChildren:{},_requested:{raw:"p2@^0.7.1",scope:null,escapedName:"p2",name:"p2",rawSpec:"^0.7.1",spec:">=0.7.1 <0.8.0",type:"range"},_requiredBy:["/"],_resolved:"https://registry.npmjs.org/p2/-/p2-0.7.1.tgz",_shasum:"25f2474d9bc3a6d3140a1da26a67c9e118ac9543",_shrinkwrap:null,_spec:"p2@^0.7.1",_where:"/Users/goodboy/dev/adventure-time-elements",author:{name:"Stefan Hedman",email:"schteppe@gmail.com",url:"http://steffe.se"},bugs:{url:"https://github.com/schteppe/p2.js/issues"},dependencies:{"poly-decomp":"0.1.1"},description:"A JavaScript 2D physics engine.",devDependencies:{grunt:"^0.4.5","grunt-browserify":"~2.0.1","grunt-contrib-concat":"^0.4.0","grunt-contrib-jshint":"^0.11.2","grunt-contrib-nodeunit":"^0.4.1","grunt-contrib-uglify":"~0.4.0","grunt-contrib-watch":"~0.5.0"},directories:{},dist:{shasum:"25f2474d9bc3a6d3140a1da26a67c9e118ac9543",tarball:"https://registry.npmjs.org/p2/-/p2-0.7.1.tgz"},engines:{node:"*"},gitHead:"d83c483f912362fd6e57c74b0634ea3f1f3e0c82",homepage:"https://github.com/schteppe/p2.js#readme",keywords:["p2.js","p2","physics","engine","2d"],licenses:[{type:"MIT"}],main:"./src/p2.js",maintainers:[{name:"schteppe",email:"schteppe@gmail.com"}],name:"p2",optionalDependencies:{},readme:"ERROR: No README data found!",repository:{type:"git",url:"git+https://github.com/schteppe/p2.js.git"},scripts:{},version:"0.7.1"}},function(t,e){t.exports={default:["image/common/jake_finn_highfive_001.png","image/common/jake_finn_highfive_002.png","image/common/jake_finn_highfive_003.png","image/common/jake_finn_highfive_004.png","image/common/jake_finn_highfive_005.png","image/common/jake_finn_highfive_006.png","image/common/jake_finn_highfive_007.png","image/common/jake_finn_highfive_008.png","image/common/jake_finn_highfive_009.png","image/device/brim.jpg","image/device/rotate.jpg","image/device/unsupported_device.jpg","image/common/game/game0.json","image/how_play/how_play0.json"],candy:["image/candy/bg_hole_mask_big.png","image/candy/bg_hole_mask_small.png","image/candy/candy_bg.jpg","image/candy/vignette_candy.png","image/candy/gif/gif0.json","image/candy/characters/characters0.json","image/candy/characters/characters1.json","image/candy/characters/characters2.json","image/candy/characters/characters3.json","image/candy/characters/characters4.json"],fire:["image/fire/fire0.json","image/fire/fire1.json","image/fire/fire2.json","image/fire/fire3.json","image/fire/fire4.json","image/fire/fire5.json","image/fire/fire6.json"],ice:["image/ice/bg_tiling_mountains.png","image/ice/floor_tile_01.png","image/ice/treasure_sparkle/treasure_sparkle0.json","image/ice/gif/gif0.json","image/ice/animations/animations0.json","image/ice/animations/animations1.json"],slime:["image/slime/bg_tile_01.png","image/slime/death_skull.png","image/slime/foreground_floor.png","image/slime/vignette_multiply.png","image/slime/gif/gif0.json","image/slime/animations/animations0.json","image/slime/animations/animations1.json","image/slime/animations/animations2.json"],title:["image/title/candy_bg.jpg","image/title/fire_bg.jpg","image/title/ice_bg.jpg","image/title/slime_bg.jpg","image/title/slime_bg_blurred.jpg","image/title/slime_foreground.png","image/title/title_bg_candy.png","image/title/title_bg_fire.png","image/title/title_bg_ice.png","image/title/title_bg_slime.png","image/title/assets/assets0.json","image/title/assets/assets1.json"],translations:["image/translations/logo.png","image/translations/title_candy.png","image/translations/title_fire.png","image/translations/title_ice.png","image/translations/title_slime.png"],preload:["image/preload/ .png","image/preload/loader_fill.png","image/preload/loading_bar.png","image/preload/loading_bar_bg.png","image/preload/loading_bg.jpg","image/preload/clouds/clouds0.json","image/preload/clouds/clouds1.json"],ui:["image/ui/ui0.json"]}},function(t,e){"use strict";!function(t,e){var i=t.animate.MovieClip,n=t.Sprite,r=t.Texture.fromFrame,o=t.Graphics,a=t.animate.ShapesCache,s=i.e(function(t){i.call(this,t,5,!1);var e=new n(r("finger")).t(-61,-83.5);this.at(e)}),u=i.e(function(t){i.call(this,t,15,!1);var e=new n(r("finger")).t(-61,-83.5);this.at(e)}),l=i.e(function(t){i.call(this,t,3,!1);var e=new n(r("finger")).t(-61,-83.5);this.at(e)}),h=i.e(function(t){i.call(this,t,3,!1);var e=new n(r("finger")).t(-61,-83.5);this.at(e)}),c=i.e(function(t){i.call(this,t,55,!1);var e=new n(r("finger")).t(-61,-83.5);this.at(e)}),f=i.e(function(t){i.call(this,t,9,!1);var e=new n(r("tick")).t(-90.5,-81.5);this.at(e)}),d=i.e(function(t){i.call(this,t,2,!1);var e=new n(r("tick")).t(-90.5,-81.5);this.at(e)}),p=i.e(function(t){i.call(this,t,2,!1);var e=new n(r("tick")).t(-90.5,-81.5);this.at(e)}),y=i.e(function(t){i.call(this,t,17,!1);var e=new n(r("tick")).t(-90.5,-81.5);this.at(e)}),v=i.e(function(t){i.call(this,t,5,!1);var e=new n(r("finger")).t(-61,-83.5);this.at(e)}),m=i.e(function(t){i.call(this,t,15,!1);var e=new n(r("finger")).t(-61,-83.5);this.at(e)}),g=i.e(function(t){i.call(this,t,3,!1);var e=new n(r("finger")).t(-61,-83.5);this.at(e)}),_=i.e(function(t){i.call(this,t,3,!1);var e=new n(r("finger")).t(-61,-83.5);this.at(e)}),b=i.e(function(t){i.call(this,t,55,!1);var e=new n(r("finger")).t(-61,-83.5);this.at(e)}),w=i.e(function(t){i.call(this,t,10,!1);var e=new n(r("cross")).t(-77,-77.5);this.at(e)}),x=i.e(function(t){i.call(this,t,2,!1);var e=new n(r("cross")).t(-77,-77.5);this.at(e)}),T=i.e(function(t){i.call(this,t,2,!1);var e=new n(r("cross")).t(-77,-77.5);this.at(e)}),S=i.e(function(t){i.call(this,t,17,!1);var e=new n(r("cross")).t(-77,-77.5);this.at(e)});(e.tutorial_candy_game=i.e(function(){i.call(this,0,240,!0,24);var t=new n(r("candy_tutorial_bg_1")).t(0,0,2.002,2.002),e=new n(r("strawberry")),E=new s(2),C=new u(2),P=new l(2),M=new h(2),A=(new o).d(a.tutorial_candy_game[0]),O=new c(2),k=new f(2),I=new d(2),R=new p(2),L=new y(2),B=new n(r("cinnamun")).t(94.1,392.65),D=new v(2),F=new m(2),j=new g(2),N=new _(2),X=(new o).d(a.tutorial_candy_game[0]),U=new b(2),G=new w(2),Y=new x(2),z=new T(2),V=new S(2).t(616.15,368.15,1.542,1.542);this.at(t).at(e,20,100,"20X681.2Y203.1").at(E,39,5,"39X734.2Y430.15A0.45B0.45 40X734.205Y430.159A0.56B0.56 41X734.221Y430.125A0.67B0.67 42X734.187Y430.09A0.78B0.78 43X734.203Y430.056A0.89B0.89").at(C,44,15,"44X734.2Y430.15").at(P,59,3,"59X734.2Y430.15A1B1 60X737.597Y421.855A0.896B0.896 61X740.894Y413.509A0.792B0.792").at(M,62,3,"62X744.2Y405.15A0.689B0.689 63X740.848Y413.454A0.792B0.792 64X737.568Y421.821A0.896B0.896").at(A,62,1,"62X524Y-141").at(O,65,55,"65X734.2Y430.15").at(k,90,9,"90X605.15Y373.1A0.387B0.387 91X605.177Y373.145A0.487B0.487 92X605.204Y373.139A0.587B0.587 93X605.213Y373.172A0.687B0.687 94X605.19Y373.167A0.788B0.788 95X605.249Y373.2A0.888B0.888 96X605.276Y373.195A0.988B0.988 97X605.285Y373.228A1.089B1.089 98X605.312Y373.222A1.189B1.189").at(I,99,2,"99X605.15Y373.15A1.289B1.289 100X605.175Y373.158A1.263B1.263").at(R,101,2,"101X605.2Y373.1A1.236B1.236 102X605.284Y373.204A1.263B1.263").at(L,103,17,"103X605.15Y373.15A1.289B1.289").at(B,140,100).at(D,159,5,"159X213.2Y583.15A0.45B0.45 160X213.246Y583.145A0.56B0.56 161Y583.149A0.67B0.67 162X213.245Y583.053A0.78B0.78 163Y583.057A0.89B0.89").at(F,164,15,"164X213.2Y583.15").at(j,179,3,"179X213.2Y583.15A1B1 180X216.572Y574.875A0.896B0.896 181X219.894Y566.549A0.792B0.792").at(N,182,3,"182X223.2Y558.15A0.689B0.689 183X219.885Y566.461A0.792B0.792 184X216.577Y574.789A0.896B0.896").at(X,182,1).at(U,185,55,"185X213.2Y583.15").at(G,209,10,"209X616.15Y368.15A0.303B0.303 210X616.152Y368.192A0.427B0.427 211X616.205Y368.185A0.551B0.551 212X616.207Y368.177A0.675B0.675 213X616.219Y368.175A0.799B0.799 214X616.271Y368.167A0.923B0.923 215X616.274Y368.21A1.046B1.046 216X616.286Y368.208A1.17B1.17 217X616.288Y368.2A1.294B1.294 218X616.341Y368.192A1.418B1.418").at(Y,219,2,"219X616.15Y368.15A1.542B1.542 220X616.236Y368.253A1.48B1.48").at(z,221,2,"221X616.3Y368.15A1.418B1.418 222X616.314Y368.177A1.48B1.48").at(V,223,17)})).assets={candy_tutorial_bg_1:"images/candy_tutorial_bg_1.jpg",tutorial_candy_game:"images/tutorial_candy_game.shapes.txt",tutorial_candy_game_atlas_1:"images/tutorial_candy_game_atlas_1.json"}}(PIXI,i=i||{});var i;"undefined"!=typeof t&&t.exports&&(t.exports={stage:i.tutorial_candy_game,background:16777215,width:1230,height:720,framerate:24,totalFrames:240,library:i})},function(t,e){"use strict";!function(t,e){var i=t.animate.MovieClip,n=t.Sprite,r=t.Texture.fromFrame,o=t.Graphics,a=t.animate.ShapesCache,s=i.e(function(t){i.call(this,t,30,!1);var e=new n(r("fire_dot_normal")).t(-44,-44);this.at(e)}),u=i.e(function(t){i.call(this,t,78,!1);var e=new n(r("fire_dot_normal")).t(-44,-44);this.at(e)}),l=i.e(function(t){i.call(this,t,5,!1);var e=new n(r("finger")).t(-61,-83.5);this.at(e)}),h=i.e(function(t){i.call(this,t,5,!1);var e=new n(r("finger")).t(-61,-83.5);this.at(e)}),c=i.e(function(t){i.call(this,t,38,!1);var e=new n(r("finger")).t(-61,-83.5);this.at(e)}),f=i.e(function(t){i.call(this,t,10,!1);var e=new n(r("cross")).t(-77,-77.5);this.at(e)}),d=i.e(function(t){i.call(this,t,2,!1);var e=new n(r("cross")).t(-77,-77.5);this.at(e)}),p=i.e(function(t){i.call(this,t,11,!1);var e=new n(r("cross")).t(-77,-77.5);this.at(e)}),y=i.e(function(t){i.call(this,t,30,!1);var e=new n(r("fire_dot_normal")).t(-44,-44);this.at(e)}),v=i.e(function(t){i.call(this,t,78,!1);var e=new n(r("fire_dot_normal")).t(-44,-44);this.at(e)}),m=i.e(function(t){i.call(this,t,5,!1);var e=new n(r("finger")).t(-61,-83.5);this.at(e)}),g=i.e(function(t){i.call(this,t,5,!1);var e=new n(r("finger")).t(-61,-83.5);this.at(e)}),_=i.e(function(t){i.call(this,t,38,!1);var e=new n(r("finger")).t(-61,-83.5);this.at(e)}),b=i.e(function(t){i.call(this,t,10,!1);var e=new n(r("tick")).t(-86,-77);this.at(e)}),w=i.e(function(t){i.call(this,t,2,!1);var e=new n(r("tick")).t(-85.9,-76.9);this.at(e)}),x=i.e(function(t){i.call(this,t,11,!1);var e=new n(r("tick")).t(-86,-77);this.at(e)});(e.tutorial_fire_game=i.e(function(){i.call(this,0,244,!0,24);var t=new n(r("fire_tutorial_base")).t(0,0,2,2),e=new n(r("fire_dot_normal")),T=new s(2),S=new u(2),E=new n(r("finger")),C=new l(2),P=(new o).d(a.tutorial_fire_game[0]),M=new h(2),A=new f(2),O=new d(2),k=new p(2),I=new c(2),R=new n(r("fire_dot_normal")),L=new y(2),B=new v(2),D=new n(r("finger")),F=new m(2),j=(new o).d(a.tutorial_fire_game[0]),N=new g(2),X=new _(2),U=new b(2),G=new w(2),Y=new x(2).t(606.1,401.05,1.406,1.406);this.at(t).at(e,0,14,"0X892.25Y502.15").at(T,14,30,"14X936.25Y546.15 15X930.75 16X916.25 17X894.9 18X868.45 19X838 20X804.5 21X768.75 22X731.35 23X692.85 24X653.6 25X614 26X574.4 27X535.1 28X496.4 29X458.5 30X421.6 31X386 32X351.85 33X319.35 34X288.7 35X260.05 36X233.65 37X209.6 38X188.15 39X169.5 40X153.75 41X141.15 42X131.9 43X126.2").at(S,44,78,"44X124.25Y546.15A1B1 79A1.068B1.068 80A1B1").at(E,59,15,"59X27.05Y538.7").at(C,74,5,"74X88.05Y622.2A1B1 75X88.972Y620.161A0.976B0.976 76X90.97Y615.794A0.924B0.924 77X93.215Y610.653A0.863B0.863 78X95.212Y606.276A0.811B0.811").at(P,79,1).at(M,79,5,"79X96.05Y604.2A0.787B0.787 80X95.149Y606.249A0.811B0.811 81X93.129Y610.681A0.863B0.863 82X90.884Y615.753A0.924B0.924 83X88.914Y620.185A0.976B0.976").at(A,99,10,"99X606.15Y400.1A0.247B0.247 100X606.159Y400.118A0.294B0.294 101X606.175Y400.138A0.424B0.424 102X606.137Y400.15A0.611B0.611 103X606.163Y400.129A0.825B0.825 104X606.19Y400.178A1.039B1.039 105X606.201Y400.199A1.232B1.232 106X606.204Y400.187A1.389B1.389 107X606.174Y400.231A1.503B1.503 108X606.1Y400.15A1.572B1.572").at(O,109,2,"109X606.15Y400.1A1.594B1.594 110X606.258Y400.217A1.583B1.583").at(k,111,11,"111X606.1Y400.15A1.572B1.572").at(I,84,38,"84X88.05Y622.2").at(R,122,14,"122X1042.25Y502.15").at(L,136,30,"136X1086.25Y546.15 137X1080.05 138X1063.55 139X1039.45 140X1009.4 141X974.9 142X937 143X896.5 144X854.1 145X810.45 146X766 147X721.15 148X676.3 149X631.75 150X587.9 151X544.95 152X503.15 153X462.8 154X424.1 155X387.3 156X352.55 157X320.1 158X290.2 159X262.95 160X238.65 161X217.5 162X199.65 163X185.4 164X174.95 165X168.45").at(B,166,78,"166X166.25Y546.15A1B1 201A1.08B1.08 202A1B1").at(D,181,15,"181X69.05Y538.7").at(F,196,5,"196X130.05Y622.2A1B1 197X130.957Y620.161A0.976B0.976 198X132.96Y615.794A0.924B0.924 199X135.224Y610.653A0.863B0.863 200X137.225Y606.276A0.811B0.811").at(j,201,1,"201X40").at(N,201,5,"201X138.05Y604.2A0.787B0.787 202X137.188Y606.249A0.811B0.811 203X135.158Y610.681A0.863B0.863 204X132.93Y615.753A0.924B0.924 205X130.9Y620.185A0.976B0.976").at(X,206,38,"206X130.05Y622.2").at(U,221,10,"221X606.15Y401.1A0.247B0.247 222X606.186Y401.134A0.288B0.288 223X606.18Y401.097A0.402B0.402 224X606.174Y401.088A0.566B0.566 225X606.149Y401.126A0.753B0.753 226X606.129Y401.12A0.94B0.94 227X606.157Y401.074A1.109B1.109 228X606.139Y401.107A1.246B1.246 229X606.143Y401.095A1.346B1.346 230X606.1Y401.05A1.406B1.406").at(G,231,2,"231X606.15Y401.1A1.535B1.535 232X606.196Y401.157A1.47B1.47").at(Y,233,11)})).assets={fire_tutorial_base:"images/fire_tutorial_base.jpg",tutorial_fire_game:"images/tutorial_fire_game.shapes.txt",tutorial_fire_game_atlas_1:"images/tutorial_fire_game_atlas_1.json"}}(PIXI,i=i||{});var i;"undefined"!=typeof t&&t.exports&&(t.exports={stage:i.tutorial_fire_game,background:16777215,width:1230,height:720,framerate:24,totalFrames:244,library:i})},function(t,e){"use strict";!function(t,e){var i=t.animate.MovieClip,n=t.Container,r=t.Sprite,o=t.Texture.fromFrame,a=i.e(function(t){i.call(this,t,5,!1);var e=new r(o("finger")).t(-61,-83.5);this.at(e)});e.Graphic2=n.e(function(){n.call(this);var t=new r(o("finger")).t(-61,-83.5);this.ac(t)});var s=i.e(function(t){i.call(this,t,5,!1);var e=new r(o("finn_slide_006")).t(-39.3,-34.55,.452,.452);this.at(e)}),u=i.e(function(t){i.call(this,t,116,!1);var e=new r(o("finn_slide_006")).t(-39.3,-34.55,.452,.452);this.at(e)});e.Tween_2=n.e(function(){n.call(this);var t=new r(o("finger")).t(-61,-83.5);this.ac(t)}),(e.tutorial_ice_game=i.e(function(){i.call(this,0,150,!0,24);var t=new r(o("ice_backing")).t(0,0,2,2),n=new r(o("finn_slide_006")),l=new r(o("finger")),h=new a(2),c=new e.Graphic2,f=new s(2),d=new u(2),p=new e.Tween_2,y=new e.Tween_2,v=new e.Tween_2,m=new e.Tween_2;this.at(t).at(n,0,29,"0X175.75Y460.55A0.452B0.452").at(l,14,5,"14X122.05Y493.65").at(h,19,5,"19X183.05Y577.15 20X199.6 21X215.15 22X228.65 23X238.75").at(c,24,1,"24X243.1Y577.15").at(f,29,5,"29X215.05Y495.1 30X222.55 31X238.7 32X257.4 33X273.55").at(d,34,116,"34X281.05Y495.1 50Y502.8 51Y519.5 52Y538.7 53Y555.4 54Y563.1 65X288 66X304.45 67X325.7 68X348.4 69X369.65 70X386.1 71X393.05 72Y555.7 73Y538.25 74Y515.7 75Y491.5 76Y468.95 77Y451.5 78Y444.1 79X401 80X419.8 81X444.05 82X470.05 83X494.3 84X513.1 85X521.05 86Y451.6 87Y469.35 88Y492.3 89Y516.9 90Y539.85 91Y557.6 92Y565.1 108X526.85 109X542.2 110X564.55 111X592.05 112X623.15 113X656.55 114X691.05 115X725.55 116X758.95 117X790.05 118X817.55 119X839.9 120X855.25 121X861.05 122X855.95 123X842.4 124X822.5 125X797.8 126X769.65 127X739.1 128X707.25 129X674.9 130X643 131X612.45 132X584.3 133X559.6 134X539.7 135X526.15 136X521.05").at(p,39,6,"39X245.1Y577.15 40Y604.7 41Y630.65 42Y653.1 43Y669.95 44Y677.15").at(y,59,27,"59X245.1Y677.15 60X275.4 61X303.95 62X328.65 63X347.15 64X355.1 65Y647.55 66Y618.7 67Y591.75 68Y567.6 69Y547.5 70Y533.05 71Y527.15 72X378.8 73X401.85 74X423.45 75X442.75 76X458.85 77X470.4 78X475.1 79Y552.8 80Y577.8 81Y601.2 82Y622.1 83Y639.5 84Y652.05 85Y657.15").at(v,102,11,"102X475.1Y657.15 103X524.9 104X574.25 105X622.1 106X667.6 107X710.05 108X748.5 109X782 110X809.1 111X827.85 112X835.1").at(m,115,7,"115X835.1Y657.15 116X790.9 117X748.45 118X709.8 119X677.05 120X653.1 121X643.1")})).assets={ice_backing:"images/ice_backing.jpg",tutorial_ice_game_atlas_1:"images/tutorial_ice_game_atlas_1.json"}}(PIXI,i=i||{});var i;"undefined"!=typeof t&&t.exports&&(t.exports={stage:i.tutorial_ice_game,background:16777215,width:1230,height:720,framerate:24,totalFrames:150,library:i})},function(t,e){"use strict";!function(t,e){var i=t.animate.MovieClip,n=t.Container,r=t.Sprite,o=t.Texture.fromFrame,a=t.Graphics,s=t.animate.ShapesCache,u=i.e(function(t){i.call(this,t,11,!1);var e=new r(o("arrow_right"));this.at(e)}),l=i.e(function(t){i.call(this,t,5,!1);var e=new r(o("finn_slide_006")).t(-39.3,-34.55,.452,.452);this.at(e)}),h=i.e(function(t){i.call(this,t,122,!1);var e=new r(o("finn_slide_006")).t(-39.3,-34.55,.452,.452);this.at(e)});e.arrow_down=n.e(function(){n.call(this);var t=new r(o("arrow_down"));this.ac(t)}),e.arrow_right=n.e(function(){n.call(this);var t=new r(o("arrow_right"));this.ac(t)}),e.arrow_up=n.e(function(){n.call(this);var t=new r(o("arrow_up"));this.ac(t)}),e.arrow_left=n.e(function(){n.call(this);var t=new r(o("arrow_left"));this.ac(t)}),(e.tutorial_ice_game_desktop=i.e(function(){i.call(this,0,156,!0,24);var t=new r(o("ice_backing")).t(-2,-1,2.006,2.006),n=new r(o("finn_slide_006")),c=new l(2),f=new u(2),d=(new a).d(s.tutorial_ice_game_desktop[0]),p=new h(2),y=new e.arrow_down,v=(new a).d(s.tutorial_ice_game_desktop[0]),m=new e.arrow_right,g=(new a).d(s.tutorial_ice_game_desktop[0]),_=new e.arrow_up,b=(new a).d(s.tutorial_ice_game_desktop[0]),w=new e.arrow_right,x=(new a).d(s.tutorial_ice_game_desktop[0]),T=new e.arrow_down,S=(new a).d(s.tutorial_ice_game_desktop[0]),E=new e.arrow_right,C=(new a).d(s.tutorial_ice_game_desktop[0]),P=new e.arrow_left,M=(new a).d(s.tutorial_ice_game_desktop[0]);this.at(t).at(n,0,29,"0X175.75Y460.55A0.452B0.452").at(c,29,5,"29X215.05Y495.1 30X222.55 31X238.7 32X257.4 33X273.55").at(f,22,11,"22X560.15Y76.05A1B1 26X564.5Y79.767A0.929B0.929 27X568.65Y83.3A0.858B0.858 28X564.381Y79.668A0.929B0.929 29X560.15Y76.05A1B1").at(d,27,1).at(p,34,122,"34X281.05Y495.1 50Y502.8 51Y519.5 52Y538.7 53Y555.4 54Y563.1 67X285.45 68X296.3 69X311.15 70X328.2 71X345.9 72X362.95 73X377.8 74X388.65 75X393.05 76Y558.45 77Y546.9 78Y531.1 79Y513 80Y494.2 81Y476.1 82Y460.3 83Y448.75 84Y444.1 85X401 86X419.8 87X444.05 88X470.05 89X494.3 90X513.1 91X521.05 92Y451.6 93Y469.35 94Y492.3 95Y516.9 96Y539.85 97Y557.6 98Y565.1 114X526.85 115X542.2 116X564.55 117X592.05 118X623.15 119X656.55 120X691.05 121X725.55 122X758.95 123X790.05 124X817.55 125X839.9 126X855.25 127X861.05 128X855.95 129X842.4 130X822.5 131X797.8 132X769.65 133X739.1 134X707.25 135X674.9 136X643 137X612.45 138X584.3 139X559.6 140X539.7 141X526.15 142X521.05").at(y,42,11,"42X560.15Y76.05A1B1 46X564.5Y79.767A0.929B0.929 47X568.65Y83.3A0.858B0.858 48X564.381Y79.668A0.929B0.929 49X560.15Y76.05A1B1").at(v,47,1).at(m,58,7,"58X560.15Y76.05A1B1 59X563.013Y78.511A0.953B0.953 60X565.885Y80.973A0.906B0.906 61X568.65Y83.3A0.858B0.858 62X565.804Y80.878A0.906B0.906 63X562.958Y78.407A0.953B0.953 64X560.15Y76.05A1B1").at(g,61,1).at(_,67,7,"67X560.15Y76.05A1B1 68X563.013Y78.511A0.953B0.953 69X565.885Y80.973A0.906B0.906 70X568.65Y83.3A0.858B0.858 71X565.804Y80.878A0.906B0.906 72X562.958Y78.407A0.953B0.953 73X560.15Y76.05A1B1").at(b,70,1).at(w,76,7,"76X560.15Y76.05A1B1 77X563.013Y78.511A0.953B0.953 78X565.885Y80.973A0.906B0.906 79X568.65Y83.3A0.858B0.858 80X565.804Y80.878A0.906B0.906 81X562.958Y78.407A0.953B0.953 82X560.15Y76.05A1B1").at(x,79,1).at(T,85,7,"85X560.15Y76.05A1B1 86X563.013Y78.511A0.953B0.953 87X565.885Y80.973A0.906B0.906 88X568.65Y83.3A0.858B0.858 89X565.804Y80.878A0.906B0.906 90X562.958Y78.407A0.953B0.953 91X560.15Y76.05A1B1").at(S,88,1).at(E,106,8,"106X560.15Y76.05A1B1 110X564.5Y79.767A0.929B0.929 111X568.65Y83.3A0.858B0.858 112X564.381Y79.668A0.929B0.929 113X560.15Y76.05A1B1").at(C,111,1).at(P,116,11,"116X560.15Y76.05A1B1 120X564.5Y79.767A0.929B0.929 121X568.65Y83.3A0.858B0.858 122X564.381Y79.668A0.929B0.929 123X560.15Y76.05A1B1").at(M,121,1)})).assets={ice_backing:"images/ice_backing.jpg",tutorial_ice_game_desktop:"images/tutorial_ice_game_desktop.shapes.txt",tutorial_ice_game_desktop_atlas_1:"images/tutorial_ice_game_desktop_atlas_1.json"}}(PIXI,i=i||{});var i;"undefined"!=typeof t&&t.exports&&(t.exports={stage:i.tutorial_ice_game_desktop,background:16777215,width:1230,height:720,framerate:24,totalFrames:156,library:i})},function(t,e){"use strict";!function(t,e){var i=t.animate.MovieClip,n=t.Container,r=t.Sprite,o=t.Texture.fromFrame,a=t.Graphics,s=t.animate.ShapesCache,u=i.e(function(t){i.call(this,t,151,!1);var e=new r(o("screen_button"));this.at(e)}),l=i.e(function(t){i.call(this,t,151,!1);var e=new r(o("screen_button"));this.at(e)}),h=i.e(function(t){i.call(this,t,5,!1);var e=new r(o("finger")).t(-61,-83.5);this.at(e)}),c=i.e(function(t){i.call(this,t,65,!1);var e=new r(o("finger")).t(-61,-83.5);this.at(e)}),f=i.e(function(t){i.call(this,t,30,!1);var e=new r(o("finn_run10016")).t(-76.45,-80.3,.515,.515);this.at(e)}),d=i.e(function(t){i.call(this,t,86,!1);var e=new r(o("finn_run10016")).t(-76.45,-80.3,.515,.515);this.at(e)});e.Graphic7=n.e(function(){n.call(this);var t=new r(o("finger")).t(-61,-83.5);this.ac(t)}),e.Tween_1=n.e(function(){n.call(this);var t=new r(o("finger")).t(-61,-83.5);this.ac(t)}),e.Tween_2=n.e(function(){n.call(this);var t=new r(o("finger")).t(-61,-83.5);this.ac(t)}),(e.tutorial_slime_game=i.e(function(){i.call(this,0,165,!0,24);var t=new r(o("slime_backing")).t(0,0,2,2),n=new l(2),p=new u(2),y=new h(2),v=new c(2),m=new r(o("finn_run10016")),g=(new a).d(s.tutorial_slime_game[0]),_=(new a).d(s.tutorial_slime_game[0]),b=(new a).d(s.tutorial_slime_game[0]),w=(new a).d(s.tutorial_slime_game[0]),x=(new a).d(s.tutorial_slime_game[0]),T=new f(2),S=new e.Graphic7,E=new e.Tween_1,C=new e.Tween_2,P=(new a).d(s.tutorial_slime_game[0]),M=new d(2);this.at(t).at(n,14,151,"14X31.75Y27.6A1B1L0 15L0.06 16L0.12 17L0.16 18L0.19 19L0.2 52X28.4Y23.6A1.012B1.012 53X31.75Y27.6A1B1 58X28.4Y23.6A1.012B1.012 59X31.75Y27.6A1B1 64X28.4Y23.6A1.012B1.012 65X31.75Y27.6A1B1 70X28.4Y23.6A1.012B1.012 71X31.75Y27.6A1B1 76X28.4Y23.6A1.012B1.012 77X31.75Y27.6A1B1").at(p,14,151,"14X641.75Y27.6A1B1L0 15L0.06 16L0.12 17L0.16 18L0.19 19L0.2 142X639.25Y24.6A1.009B1.009 143X641.75Y27.6A1B1").at(y,29,5,"29X288.25Y356.15A0.21B0.21 30X288.27Y356.167A0.457B0.457 31X288.3Y356.159A0.686B0.686 32X288.273Y356.17A0.863B0.863 33X288.295Y356.18A0.968B0.968").at(v,34,65,"34X288.25Y356.15A1B1 50X288.261Y356.158A0.954B0.954 51X288.273Y356.165A0.907B0.907 52X288.25Y356.15A0.861B0.861 53X288.303Y356.166A0.907B0.907 54X288.31Y356.188A0.954B0.954 55X288.25Y356.15A1B1 56X288.261Y356.158A0.954B0.954 57X288.273Y356.165A0.907B0.907 58X288.25Y356.15A0.861B0.861 59X288.303Y356.166A0.907B0.907 60X288.31Y356.188A0.954B0.954 61X288.25Y356.15A1B1 62X288.261Y356.158A0.954B0.954 63X288.273Y356.165A0.907B0.907 64X288.25Y356.15A0.861B0.861 65X288.303Y356.166A0.907B0.907 66X288.31Y356.188A0.954B0.954 67X288.25Y356.15A1B1 68X288.261Y356.158A0.954B0.954 69X288.273Y356.165A0.907B0.907 70X288.25Y356.15A0.861B0.861 71X288.303Y356.166A0.907B0.907 72X288.31Y356.188A0.954B0.954 73X288.25Y356.15A1B1 74X288.261Y356.158A0.954B0.954 75X288.273Y356.165A0.907B0.907 76X288.25Y356.15A0.861B0.861 77X288.303Y356.166A0.907B0.907 78X288.31Y356.188A0.954B0.954 79X288.25Y356.15A1B1 95X288.252Y356.183A0.752B0.752 96X288.298Y356.179A0.524B0.524 97X288.262Y356.173A0.346B0.346 98X288.267Y356.166A0.242B0.242").at(m,0,49,"0X291.7Y461.85A0.515B0.515").at(g,52,1).at(_,58,1).at(b,64,1).at(w,70,1).at(x,76,1).at(T,49,30,"49X368.15Y542.15 50X368.75 51X370.5 52X373.5 53X377.7 54X383.05 55X389.55 56X397.2 57X405.95 58X415.65 59X426.25 60X437.6 61X449.65 62X462.2 63X475.1 64X488.15 65X501.2 66X514.1 67X526.65 68X538.7 69X550.05 70X560.65 71X570.35 72X579.1 73X586.7 74X593.25 75X598.6 76X602.8 77X605.8 78X607.55").at(S,99,1,"99X288.25Y356.15A0.21B0.21").at(E,119,5,"119X890.25Y496.15A0.21B0.21 120X890.246Y496.177A0.457B0.457 121X890.263Y496.165A0.686B0.686 122X890.26A0.863B0.863 123X890.272Y496.199A0.968B0.968").at(C,124,41,"124X890.25Y496.15A1B1 140X890.3Y496.155A0.954B0.954 141Y496.16A0.907B0.907 142X890.25Y496.15A0.861B0.861 143X890.234Y496.17A0.907B0.907 144X890.231Y496.197A0.954B0.954 145X890.25Y496.15A1B1").at(P,142,1,"142X595.6Y140").at(M,79,86,"79X608.15Y542.15 144X615.5Y494.45 145X622.65Y448.3 146X629.1Y406.55 147X634.4Y372.4 148X638.15Y348.1 149X640.3Y334.25 150X640.95Y330")})).assets={slime_backing:"images/slime_backing.jpg",tutorial_slime_game:"images/tutorial_slime_game.shapes.txt",tutorial_slime_game_atlas_1:"images/tutorial_slime_game_atlas_1.json"}}(PIXI,i=i||{});var i;"undefined"!=typeof t&&t.exports&&(t.exports={stage:i.tutorial_slime_game,background:16777215,width:1230,height:720,framerate:24,totalFrames:165,library:i})},function(t,e){"use strict";!function(t,e){var i=t.animate.MovieClip,n=t.Container,r=t.Sprite,o=t.Texture.fromFrame,a=t.Graphics,s=t.animate.ShapesCache,u=i.e(function(t){i.call(this,t,5,!1);var e=new r(o("arrow_right")).t(-59.5,-56.5);this.at(e)}),l=i.e(function(t){i.call(this,t,80,!1);var e=new r(o("arrow_right")).t(-59.5,-56.5);this.at(e)}),h=i.e(function(t){i.call(this,t,5,!1);var e=new r(o("finger")).t(-61,-83.5);this.at(e)}),c=i.e(function(t){i.call(this,t,65,!1);var e=new r(o("finger")).t(-61,-83.5);this.at(e)}),f=i.e(function(t){i.call(this,t,30,!1);var e=new r(o("finn_run10016")).t(-76.45,-80.3,.515,.515);this.at(e)}),d=i.e(function(t){i.call(this,t,106,!1);var e=new r(o("finn_run10016")).t(-76.45,-80.3,.515,.515);this.at(e)});e.Graphic7=n.e(function(){n.call(this);var t=new r(o("finger")).t(-61,-83.5);this.ac(t)}),e.Graphic8=n.e(function(){n.call(this);var t=new r(o("arrow_right")).t(-59.5,-56.5);this.ac(t)});var p=i.e(function(t){i.call(this,t,5,!1);var e=new r(o("arrow_up")).t(-59.5,-56.5);this.at(e)}),y=i.e(function(t){i.call(this,t,60,!1);var e=new r(o("arrow_up")).t(-59.5,-56.5);this.at(e)});e.Tween_1=n.e(function(){n.call(this);var t=new r(o("finger")).t(-61,-83.5);this.ac(t)}),e.Tween_2=n.e(function(){n.call(this);var t=new r(o("finger")).t(-61,-83.5);this.ac(t)}),(e.tutorial_slime_game_desktop=i.e(function(){i.call(this,0,185,!0,24);var t=new r(o("slime_backing")).t(0,0,2.003,2.003),n=new u(2),v=new l(2),m=new h(2),g=new c(2),_=new r(o("finn_run10016")),b=(new a).d(s.tutorial_slime_game_desktop[0]),w=(new a).d(s.tutorial_slime_game_desktop[0]),x=(new a).d(s.tutorial_slime_game_desktop[0]),T=(new a).d(s.tutorial_slime_game_desktop[0]),S=(new a).d(s.tutorial_slime_game_desktop[0]),E=new f(2),C=new e.Graphic8,P=new e.Graphic7,M=new p(2),A=new y(2),O=new e.Tween_1,k=new e.Tween_2,I=(new a).d(s.tutorial_slime_game_desktop[0]),R=new d(2);this.at(t).at(n,14,5,"14X614.95Y122.3A0.304B0.304 15X614.964Y122.337A0.522B0.522 16X614.954Y122.287A0.723B0.723 17X614.991Y122.299A0.88B0.88 18X614.992Y122.289A0.972B0.972").at(v,19,80,"19X614.95Y122.3A1B1 52A1.067B1.067 53A1B1 58A1.067B1.067 59A1B1 64A1.067B1.067 65A1B1 70A1.067B1.067 71A1B1 76A1.067B1.067 77A1B1 95X614.989Y122.308A0.782B0.782 96X614.988Y122.307A0.581B0.581 97X614.968Y122.301A0.424B0.424 98X614.957Y122.313A0.332B0.332").at(m,29,5,"29X579.45Y188.15A0.21B0.21 30X579.476Y188.166A0.457B0.457 31X579.5Y188.161A0.686B0.686 32X579.498Y188.186A0.863B0.863 33X579.467Y188.177A0.968B0.968").at(g,34,65,"34X579.45Y188.15A1B1 50X579.486Y188.161A0.954B0.954 51X579.472Y188.172A0.907B0.907 52X579.45Y188.15A0.861B0.861 53X579.464Y188.202A0.907B0.907 54X579.487Y188.206A0.954B0.954 55X579.45Y188.15A1B1 56X579.486Y188.161A0.954B0.954 57X579.472Y188.172A0.907B0.907 58X579.45Y188.15A0.861B0.861 59X579.464Y188.202A0.907B0.907 60X579.487Y188.206A0.954B0.954 61X579.45Y188.15A1B1 62X579.486Y188.161A0.954B0.954 63X579.472Y188.172A0.907B0.907 64X579.45Y188.15A0.861B0.861 65X579.464Y188.202A0.907B0.907 66X579.487Y188.206A0.954B0.954 67X579.45Y188.15A1B1 68X579.486Y188.161A0.954B0.954 69X579.472Y188.172A0.907B0.907 70X579.45Y188.15A0.861B0.861 71X579.464Y188.202A0.907B0.907 72X579.487Y188.206A0.954B0.954 73X579.45Y188.15A1B1 74X579.486Y188.161A0.954B0.954 75X579.472Y188.172A0.907B0.907 76X579.45Y188.15A0.861B0.861 77X579.464Y188.202A0.907B0.907 78X579.487Y188.206A0.954B0.954 79X579.45Y188.15A1B1 95X579.473Y188.196A0.752B0.752 96X579.492Y188.194A0.524B0.524 97X579.495Y188.15A0.346B0.346 98X579.497Y188.191A0.242B0.242").at(_,0,49,"0X291.7Y461.85A0.515B0.515").at(b,52,1).at(w,58,1).at(x,64,1).at(T,70,1).at(S,76,1).at(E,49,30,"49X368.15Y542.15 50X368.75 51X370.5 52X373.5 53X377.7 54X383.05 55X389.55 56X397.2 57X405.95 58X415.65 59X426.25 60X437.6 61X449.65 62X462.2 63X475.1 64X488.15 65X501.2 66X514.1 67X526.65 68X538.7 69X550.05 70X560.65 71X570.35 72X579.1 73X586.7 74X593.25 75X598.6 76X602.8 77X605.8 78X607.55").at(C,99,1,"99X614.95Y122.3A0.304B0.304").at(P,99,1,"99X579.45Y188.15A0.21B0.21").at(M,120,5,"120X615.1Y123.6A0.323B0.323 121X615.266Y123.284A0.535B0.535 122X615.465Y123.005A0.731B0.731 123X615.557Y122.717A0.883B0.883 124X615.686Y122.594A0.973B0.973").at(A,125,60,"125X615.65Y122.5A1B1 157A1.087B1.087 158A1B1").at(O,135,5,"135X579.45Y188.15A0.21B0.21 136X579.476Y188.166A0.457B0.457 137X579.5Y188.161A0.686B0.686 138X579.498Y188.186A0.863B0.863 139X579.467Y188.177A0.968B0.968").at(k,140,45,"140X579.45Y188.15A1B1 155X579.486Y188.161A0.954B0.954 156X579.472Y188.172A0.907B0.907 157X579.45Y188.15A0.861B0.861 158X579.464Y188.202A0.907B0.907 159X579.487Y188.206A0.954B0.954 160X579.45Y188.15A1B1").at(I,157,1).at(R,79,106,"79X608.15Y542.15 159X615.5Y494.45 160X622.65Y448.3 161X629.1Y406.55 162X634.4Y372.4 163X638.15Y348.1 164X640.3Y334.25 165X640.95Y330")})).assets={slime_backing:"images/slime_backing.jpg",tutorial_slime_game_desktop:"images/tutorial_slime_game_desktop.shapes.txt",tutorial_slime_game_desktop_atlas_1:"images/tutorial_slime_game_desktop_atlas_1.json"}}(PIXI,i=i||{});var i;"undefined"!=typeof t&&t.exports&&(t.exports={stage:i.tutorial_slime_game_desktop,background:16777215,width:1230,height:720,framerate:24,totalFrames:185,library:i})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=i(1),l=(r(u),i(662)),h=n(l),c=i(18),f=(n(c),i(11)),d=n(f),p=i(16),y=(n(p),i(333)),v=n(y),m=i(351),g=n(m),_=i(349),b=n(_),w=i(23),x=n(w),T=i(14),S=n(T),E=i(352),C=n(E),P=i(350),M=n(P),A=i(335),O=n(A),k=i(338),I=n(k),R=i(368),L=n(R),B=i(369),D=n(B),F=i(330),j=(n(F),
i(436)),N=n(j),X=i(108),U=n(X),G=i(423),Y=n(G),z=i(386),V=(n(z),i(391)),W=n(V),H=i(370),q=n(H),K=i(134),Z=n(K),J=i(331),Q=n(J),$=i(75),tt=n($),et=i(17),it=n(et),nt=i(376),rt=n(nt),ot=i(323),at=n(ot),st=i(324),ut=n(st),lt=i(328),ht=n(lt),ct=i(327),ft=n(ct),dt=i(326),pt=n(dt),yt=i(325),vt=n(yt),mt=i(337),gt=n(mt),_t=i(322),bt=function(t){function e(){o(this,e),tt.default.volume=.6;var i={orientationImagePath:"image/device/rotate.jpg",config:window.ASSET_URL+"json/config.json",loaderScreen:g.default},n=a(this,t.call(this,i));return n.safeSize={width:960,height:560},n.maxSize={width:1024,height:626},n.preloader.addManifest(_t.preload,window.ASSET_URL),n.loader.addManifest(_t.default,window.ASSET_URL).addManifest(_t.ui,window.ASSET_URL).addManifest(_t.title,window.ASSET_URL).addManifest(gt.default,window.ASSET_URL).addJson(window.ASSET_URL+"json/save.json","save").addJson(window.ASSET_URL+"json/slime.json","slime").addJson(window.ASSET_URL+"json/ice-map.json","ice-map").addCSS(window.ASSET_URL+"font/fonts.css").addFonts(["pendlefont","pendlefont-bold","lubalin"]).addCustom(rt.default.createLoaderAsset("tutorialAnimationsCandy",at.default,window.ASSET_URL+"animate/candy/")).addCustom(rt.default.createLoaderAsset("tutorialAnimationsFire",ut.default,window.ASSET_URL+"animate/fire/")).addCustom(rt.default.createLoaderAsset("tutorialAnimationsIceDesktop",pt.default,window.ASSET_URL+"animate/ice/")).addCustom(rt.default.createLoaderAsset("tutorialAnimationsIceMobile",vt.default,window.ASSET_URL+"animate/ice/")).addCustom(rt.default.createLoaderAsset("tutorialAnimationsSlimeDesktop",ht.default,window.ASSET_URL+"animate/slime/")).addCustom(rt.default.createLoaderAsset("tutorialAnimationsSlimeMobile",ft.default,window.ASSET_URL+"animate/slime/")),n.onReady.add(n.onAppReady,n),n.startup(),n._hasSetupSave=!1,n}return s(e,t),e.prototype.onPreload=function(){this.screenManager.defaultTransition=new q.default},e.prototype.onAppReady=function(){if(it.default.init(),(0,v.default)(),Q.default.reset(window.ASSET_URL+"image/device/brim.jpg"),!this._hasSetupSave){L.default.instance=new L.default("com.goodboy.boilerplate"),(0,D.default)(L.default.instance);var t=x.default.getJson("save");L.default.instance.load(t.save),this._hasSetupSave=!0,L.default.instance.setCredits(Math.floor(20*Math.random())+20)}this.titleScreen=new C.default(this),this.gameLoaderScreen=new b.default(this),this.slimeGameScreen=new M.default(this,N.default,_t.slime),this.iceGameScreen=new M.default(this,Y.default,_t.ice),this.fireGameScreen=new M.default(this,U.default,_t.fire),this.candyGameScreen=new M.default(this,W.default,_t.candy),this.screenManager.addScreen(this.titleScreen,"title"),this.screenManager.addScreen(this.slimeGameScreen,"slimeGame"),this.screenManager.addScreen(this.iceGameScreen,"iceGame"),this.screenManager.addScreen(this.fireGameScreen,"fireGame"),this.screenManager.addScreen(this.candyGameScreen,"candyGame"),this.screenManager.addScreen(this.gameLoaderScreen,"gameLoader"),this.topMenu=new O.default(this),this.overlayManager=new I.default(this),this.stage.addChild(this.overlayManager.view),this.stage.addChild(this.topMenu);var e=S.default.get_query("fastplay");S.default.get_query("chunk")&&(e="slimeGame"),e?this.gotoGame(e):this.screenManager.gotoScreenByID("title",{cc:"coucou"}),this.resize(this.w,this.h);var i=new Z.default;i.test()},e.prototype.gotoGame=function(t){t=t||this.latestGameID,this.latestGameID=t;var e=this.screenManager.getScreenByID(t),i=e.assetManifest;this.gameScreen=e,this.gameScreen.inited?this.screenManager.gotoScreenByID(t,null,null,!0):this.screenManager.gotoScreenByID("gameLoader",{assetManifest:i,nextScreen:t})},e.prototype.getAnimatedTutorialClass=function(){switch(this.latestGameID){case"candyGame":return at.default;case"fireGame":return ut.default;case"slimeGame":return d.default.instance.desktop?ht.default:ft.default;case"iceGame":return d.default.instance.desktop?pt.default:vt.default;default:return at.default}},e.prototype.resize=function(t,e){this.w=t,this.h=e;var i=1;d.default.instance.isMobile&&(i=window.devicePixelRatio?window.devicePixelRatio:window.screen.deviceXDPI/window.screen.logicalXDPI),i>2&&(i=2);var n=t/this.safeSize.width<e/this.safeSize.height?t/this.safeSize.width:e/this.safeSize.height,r=Math.min(this.maxSize.width*n,t),o=Math.min(this.maxSize.height*n,e);this.renderer.resize(r*i|0,o*i|0),this.view.style.width=r+"px",this.view.style.height=o+"px",this.view.style.left=t/2-r/2+"px",this.view.style.top=e/2-o/2+"px",this.screenManager.resize(r/n,o/n),this.overlayManager&&(this.overlayManager.resize(r/n,o/n),this.overlayManager.view.scale.set(n*i)),this.topMenu&&(this.topMenu.scale.set(n*i),this.topMenu.resize(r/n,o/n)),this.screenManager.container.scale.set(n*i)},e}(h.default);t.exports=bt},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=i(11),a=n(o),s=void 0,u=function(){function t(){r(this,t),this._version=(a.default.instance.desktop,"high"),this._version="high"}return t.prototype.getManifest=function(t){var e=this;return t.map(function(t){return t.replace("high",e._version)}).filter(function(t,e,i){return i.indexOf(t)==e})},t.prototype.fromImage=function(t){},t}();s||(s=new u),e.default=s,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=i(18),a=n(o),s=i(11),u=n(s),l=function(){function t(){r(this,t)}return t.prototype.reset=function(t){if(u.default.instance.isMobile&&u.default.instance.safari&&u.default.instance.webGL){var e=this.getSpec();e&&(this.activeCache=!1,this.height=e[0],window.addEventListener("resize",this.onResize.bind(this)),this.div=document.createElement("div"),this.div.style.backgroundColor="#000000",this.div.style.position="absolute",this.div.style.top="0",this.div.style.left="0",this.div.style.width="100%",this.div.style.height="9999999999999999px",this.image=new Image,this.image.src=t,this.image.style.position="absolute",this.image.style.top="-40px",this.image.width=500,this.div.appendChild(this.image),this.brimMode=!0,this.p=document.createElement("div"),this.p.innerHTML="oops! swipe up to keep playing!",this.p.style.position="absolute",this.p.style.top="100px",this.p.style.left=0,this.p.style.width="100%",this.p.style.fontSize="1.5rem",this.p.style.fontFamily="Exo2, sans-serif",this.p.style.color="white",this.p.style.textAlign="center",this.p.style.position="absolute",this.p.style.padding=0,document.body.appendChild(this.div),function(){var t;document.addEventListener("touchstart",function(e){this.brimMode&&(t=!0,e.preventDefault(),e.returnValue=!1)},!1),document.addEventListener("touchmove",function(e){this.brimMode&&(t&&(e.preventDefault(),e.returnValue=!1),t=!1)},!1)}(),this.onResize())}},t.prototype.getSpec=function(){for(var t=[[320,480,2,"iPhone 4"],[320,568,2,"iPhone 5 or 5s"],[375,667,2,"iPhone 6"],[414,736,3,"iPhone 6 plus"]],e=null,i=0;i<t.length;i++){var n=t[i],r=window.screen.height==n[0]&&window.screen.width==n[1]||window.screen.width==n[0]&&window.screen.height==n[1];if(r){e=n;break}}return e},t.prototype.showBrim=function(){this.div.style.visibility="visible",this.div.style.height="9999999999999999px",a.default.game&&(this.activeCache=a.default.game.active),a.default.game.stop()},t.prototype.showGame=function(){this.div.style.visibility="hidden",a.default.game&&this.activeCache&&a.default.game.start(),this.div.style.height=this.height+1+"px",window.scrollTo(0,0)},t.prototype.onResize=function(){window.innerHeight>window.innerWidth||window.innerHeight===this.height?this.showGame():this.showBrim(),this.image.width=window.innerWidth,window.scrollTo(0,0)},t}();e.default=new l,t.exports=e.default},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(1),u=n(s),l=function(t){function e(){r(this,e);var i=o(this,t.call(this)),n=u.Sprite.fromFrame("adventure_time_logo.png");n.anchor.set(.5),n.position.x=-20,n.position.y=-75;var a=u.Sprite.from(ASSET_URL+"image/translations/logo.png");return a.anchor.set(.5),i.addChild(n),i.addChild(a),i}return a(e,t),e}(u.Container);e.default=l,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.default=function(){o.default.sfx.addSound(window.ASSET_URL+"audio/buttons/roll","roll",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/buttons/press","press",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_guitar_01","guitar_01",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_guitar_02","guitar_02",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_guitar_03","guitar_03",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_guitar_04","guitar_04",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_guitar_glitch_01","guitar_glitch_1",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_guitar_glitch_02","guitar_glitch_2",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_drum_01","fire_beat",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_drum_02","fire_quarter_beat",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_success","fire_success",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_fail","fire_fail",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_attack_finn","fire_attack_finn",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_attack_flameking","fire_attack_flameking",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_fireball_01","fire_fireball_01",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_fireball_02","fire_fireball_02",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_fireball_03","fire_fireball_03",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_long_chord_01","fire_long_chord_01",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_long_chord_02","fire_long_chord_02",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_long_chord_03","fire_long_chord_03",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_long_chord_04","fire_long_chord_04",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_long_chord_fail","fire_long_chord_fail",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_fill_01_80","fire_fill_01_80",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_fill_01_100","fire_fill_01_100",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_fill_01_120","fire_fill_01_120",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_fill_02_80","fire_fill_02_80",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_fill_02_100","fire_fill_02_100",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_fill_02_120","fire_fill_02_120",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_fill_03_80","fire_fill_03_80",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_fill_03_100","fire_fill_03_100",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_fill_03_120","fire_fill_03_120",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_held_note_release_01","fire_held_note_release_01",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_held_note_release_02","fire_held_note_release_02",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_held_note_release_03","fire_held_note_release_03",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_held_note_release_04","fire_held_note_release_04",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/backing_track_chunk_01","backing_track_chunk_01",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/backing_track_chunk_02","backing_track_chunk_02",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/backing_track_chunk_03","backing_track_chunk_03",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/backing_track_chunk_04","backing_track_chunk_04",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_drum_01","fire_drum_01",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/fire_drum_02","fire_drum_02",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/ice_slide_01","ice_slide_01",{loop:!0,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/ice_slide_02","ice_slide_02",{loop:!0,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/ice_slide_03","ice_slide_03",{loop:!0,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/ice_impact_02","ice_impact_02",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/item_pickup","item_pickup",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/powerup","powerup",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/ice_rumble","ice_rumble",{loop:!1,volume:.3,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/slime_footstep_01","slime_step_1",{loop:!1,volume:.6,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/slime_footstep_02","slime_step_2",{loop:!1,volume:.6,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/slime_footstep_03","slime_land",{loop:!1,volume:.6,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/slime_impact","slime_impact",{loop:!1,volume:.6,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/slime_fall","slime_fall",{loop:!1,volume:.6,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/slime_02","slime_slurp",{loop:!1,volume:1,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/character_swap","character_swap",{loop:!1,volume:.6,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/slime_jump","slime_jump",{loop:!1,volume:.6,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/slime_01","slime_loop",{loop:!0,volume:.8,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/candy_bite","candy_bite",{loop:!1,volume:.6,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/candy_hammer_04","candy_hammer_04",{loop:!1,volume:.6,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/candy_swoosh","candy_swoosh",{loop:!1,volume:.6,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/candy_zombie_01","candy_zombie_01",{loop:!1,volume:.6,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/candy_zombie_02","candy_zombie_02",{loop:!1,volume:.6,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/candy_zombie_03","candy_zombie_03",{loop:!1,volume:.6,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/candy_scream_01","candy_scream_01",{loop:!1,volume:.6,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/candy_scream_02","candy_scream_02",{loop:!1,volume:.6,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/candy_scream_03","candy_scream_03",{loop:!1,volume:.6,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/candy_scream_04","candy_scream_04",{loop:!1,volume:.6,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/candy_success_01","candy_success_01",{loop:!1,volume:.6,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/candy_success_02","candy_success_02",{loop:!1,volume:.6,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/candy_success_03","candy_success_03",{loop:!1,volume:.6,autoplay:!1}),o.default.sfx.addSound(window.ASSET_URL+"audio/game_over","game_over",{loop:!1,volume:.6,autoplay:!1}),o.default.music.addSound(window.ASSET_URL+"audio/ice_music","ice_music",{loop:!0,volume:.3,autoplay:!1}),o.default.music.addSound(window.ASSET_URL+"audio/fire_backing_track_01_80bpm","back_01_80",{loop:!1,volume:.3,autoplay:!1,wav:!0}),o.default.music.addSound(window.ASSET_URL+"audio/fire_backing_track_01_100bpm","back_01_100",{loop:!1,volume:.3,autoplay:!1,wav:!0}),o.default.music.addSound(window.ASSET_URL+"audio/fire_backing_track_01_120bpm","back_01_120",{loop:!1,volume:.3,autoplay:!1,wav:!0}),o.default.music.addSound(window.ASSET_URL+"audio/fire_backing_track_02_80bpm","back_02_80",{loop:!1,volume:.3,autoplay:!1,wav:!0}),o.default.music.addSound(window.ASSET_URL+"audio/fire_backing_track_02_100bpm","back_02_100",{loop:!1,volume:.3,autoplay:!1,wav:!0}),o.default.music.addSound(window.ASSET_URL+"audio/fire_backing_track_02_120bpm","back_02_120",{loop:!1,volume:.3,autoplay:!1,wav:!0}),o.default.music.addSound(window.ASSET_URL+"audio/fire_backing_track_03_80bpm","back_03_80",{loop:!1,volume:.3,autoplay:!1,wav:!0}),o.default.music.addSound(window.ASSET_URL+"audio/fire_backing_track_03_100bpm","back_03_100",{loop:!1,volume:.3,autoplay:!1,wav:!0}),o.default.music.addSound(window.ASSET_URL+"audio/fire_backing_track_03_120bpm","back_03_120",{loop:!1,volume:.3,autoplay:!1,wav:!0}),o.default.music.addSound(window.ASSET_URL+"audio/slime_music","slime_music",{loop:!0,volume:.6,autoplay:!1}),o.default.music.addSound(window.ASSET_URL+"audio/slime_music_disco_mode","slime_music_disco_mode",{loop:!0,volume:.6,autoplay:!1}),o.default.music.addSound(window.ASSET_URL+"audio/candy_music","candy_music",{loop:!0,volume:1,autoplay:!1}),o.default.music.addSound(window.ASSET_URL+"audio/utterly_mental_loop","game_over_music",{loop:!0,volume:1,autoplay:!1}),o.default.music.addSound(window.ASSET_URL+"audio/title_music","title_music",{loop:!0,volume:1,autoplay:!1})};var r=i(16),o=n(r);t.exports=e.default},function(t,e){"use strict";e.__esModule=!0;var i=["xit","usa","tyv","tyl","tog","tit","syl","spy","spa","sno","sik","sex","sed","sau","rev","rap","qkk","pul","pue","pop","pik","pew","pes","pek","ost","orm","ooh","ons","nsb","nek","nei","mus","muk","mop","mac","lus","lem","kuk","kug","kop","kkk","kis","kid","jus","ibo","hys","hue","hor","hol","hoe","hap","goa","gnu","ger","gay","fra","fis","fan","fag","elg","ego","egg","dyr","sex","dom","dog","bry","sex","nai","bob","pot","pis","pik","zob","xxx","bil","bia","lul","kut","bag","kak","baf","ass","gvd","sau","xxx","arg","apo","nus","pqp","xxx","ape","apa","sex","tis","prs","fuq","sex","pau","sex","sex","sgu","sex","nus","nua","gay","pee","pat","kkk","sex","xxx","nig","del","gay","kuk","kkk","jap","nop","pis","god","fak","gay","cul","fut","fuk","sex","amo","fok","con","seg","sex","fuc","raj","fag","fck","cus","fag","huj","kat","sex","jeb","her","gay","huj","gay","kur","fis","gay","dic","gej","fan","gej","pau","fos","fak","aso","sik","pkk","gay","fut","edi","cus","bum","ass","cur","boi","cyc","bok","amk","blb","ass","ano"];e.default=i,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(47),c=n(h),f=i(16),d=n(f),p=i(11),y=n(p),v=i(62),m=function(t){function e(i){o(this,e);var n=a(this,t.call(this));return window.topMenu=n,n.app=i,n.state="home",n.previousState=n.state,n.states={home:["mute"],intro:["mute","leaderboard"],pause:["home","mute","howToPlay"],empty:[],tutorial:[],game:["pause"],gameover:["home"]},n.buildButtons(),n.hideButtons(),n}return s(e,t),e.prototype.buildButtons=function(){this.buttons={};var t=c.default.primary("icon_pause.png","pause");t.view.accessible=!0,t.view.tabIndex=6,this.addChild(t.view),this.buttons.pause=t;var e=c.default.tertiary("icon_howtoplay.png","how to play");e.view.tabIndex=5,e.view.accessible=!0,this.addChild(e.view),this.buttons.howToPlay=e;var i=c.default.tertiary("icon_sound_on.png","sound");i.view.tabIndex=4,i.view.accessible=!0,this.addChild(i.view),this.buttons.mute=i;var n=c.default.primary("icon_back.png","back");n.view.tabIndex=3,n.view.accessible=!0,this.addChild(n.view),this.buttons.back=n;var r=c.default.primary("icon_exit.png","exit");r.view.tabIndex=1,r.view.accessible=!0,this.addChild(r.view),this.buttons.exit=r;var o=c.default.primary("icon_home.png","home");o.view.tabIndex=2,o.view.accessible=!0,this.addChild(o.view),this.buttons.home=o;var a=c.default.tertiary("icon_leaderboard.png","leaderboard");a.view.tabIndex=4,a.view.accessible=!0,this.addChild(a.view),this.buttons.leaderboard=a;for(var s in this.buttons)this.buttons[s].onPress.add(this.onButtonPressed,this)},e.prototype.hideButtons=function(){for(var t in this.buttons)this.buttons[t].view.visible=!1},e.prototype.setState=function(t){this.hideButtons();for(var e in this.states)if(t===e)for(var i=this.states[e],n=0;n<i.length;n++){var r=i[n];this.buttons[r].view.visible=!0}this.previousState=this.state,this.state=t},e.prototype.show=function(){this.visible=!0},e.prototype.hide=function(t){this.visible=!t},e.prototype.onButtonPressed=function(t){switch(t){case this.buttons.leaderboard:this.openLeaderboards();break;case this.buttons.mute:this.onMuteToggle();break;case this.buttons.pause:this.app.overlayManager.show("pause",{log:Math.random()});break;case this.buttons.back:break;case this.buttons.howToPlay:this.app.overlayManager.show("tutorial");break;case this.buttons.home:this.app.overlayManager.hide(),this.app.screenManager.gotoScreenByID("title");break;case this.buttons.exit:window.location.href="http://www.goodboydigital.com/"}},e.prototype.openLeaderboards=function(){this.app.overlayManager.show("leaderboard",{gameId:this.app.activeScene.id,score:0,isGameOver:!1})},e.prototype.onMuteToggle=function(){d.default.sfx.isMuted&&d.default.music.isMuted?(d.default.sfx.unmute(),d.default.music.unmute(),d.default.sfx.setGlobalVolume(1),d.default.music.setGlobalVolume(1),this.buttons.mute.setIcon("icon_sound_on.png")):(d.default.sfx.mute(),d.default.music.mute(),d.default.sfx.setGlobalVolume(0),d.default.music.setGlobalVolume(0),this.buttons.mute.setIcon("icon_sound_off.png"))},e.prototype.resize=function(t,e){var i=this.buttons.mute.view.width/2,n=y.default.instance.mobile&&y.default.instance.iOS?30:0,r=y.default.instance.mobile&&y.default.instance.iOS?10:0,o=i+v.GEL_PADDING_TOP;this.buttons.pause.view.position.set(t-i-v.GEL_PADDING_LEFT-r,o+n),this.buttons.mute.view.position.set(t-3*i-v.GEL_PADDING_LEFT-v.GEL_PADDING_BETWEEN_BUTTON,o+n);var a=this.buttons.home.view.width/2;this.buttons.back.view.position.set(a+v.GEL_PADDING_LEFT,a+v.GEL_PADDING_TOP+n),this.buttons.home.view.position.set(a+v.GEL_PADDING_LEFT,a+v.GEL_PADDING_TOP+n),this.buttons.exit.view.position.x=this.buttons.home.view.position.x,this.buttons.exit.view.position.y=this.buttons.home.view.position.y+n,this.buttons.howToPlay.view.position.x=this.buttons.pause.view.position.x,this.buttons.howToPlay.view.position.y=this.buttons.pause.view.position.y,this.buttons.leaderboard.view.position.x=this.buttons.pause.view.position.x,this.buttons.leaderboard.view.position.y=this.buttons.pause.view.position.y},e}(l.Container);e.default=m,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(3),c=n(h),f=i(170),d=(n(f),i(47)),p=n(d),y=i(122),v=n(y),m=i(17),g=n(m),_=function(t){function e(i){o(this,e);var n=a(this,t.call(this));n.letterScrollers=[];for(var r=0;r<3;r++){var s=l.Sprite.from("panel_name_input.png");s.anchor.set(.5),n.addChild(s);var u=new w(i);u.x=135*r+24,u.y=11,u.onLetterUpdate.add(n.onWordUpdate,n),n.letterScrollers.push(u),n.addChild(u),s.position.x=135*r+24,s.position.y=11}return n.onNameUpdate=new c.default,n}return s(e,t),e.prototype.onWordUpdate=function(){for(var t="",e=0;e<this.letterScrollers.length;e++)t+=this.letterScrollers[e].currentLetter;this.word=t,this.onNameUpdate.dispatch(t)},e.prototype.setName=function(t){var e,i=t.split(""),n="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),r=[],o=0;for(e=0;e<i.length;e++){o=0;for(var a=0;a<n.length;a++)n[a]===i[e]?r.push(o):o++}for(e=0;e<this.letterScrollers.length;e++)this.letterScrollers[e].goToLetterId(r[e])},e.prototype.update=function(t){},e}(l.Container);e.default=_;var b=120,w=function(t){function e(i){o(this,e);var n=a(this,t.call(this));n.letters="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split(""),n.masky=(new l.Graphics).beginFill(16711680).drawRect(-20,-12,110,129),n._openRatio=0,n.hitArea=new l.Rectangle(0,-5,0,0),n.trackpad=new v.default({target:n}),n.trackpad.snapTo=!0,n.trackpad.size=b,n.trackpad.maxSlots=1e8,n.trackpad.capMovement=!1,n.options=[],n.optionContainer=new l.Container,n.optionContainer.position.x=-35,n.optionContainer.position.y=-47,n.addChild(n.optionContainer),n.optionContainer.addChild(n.masky),n.optionContainer.mask=n.masky,n.onLetterUpdate=new c.default,n.lastId=0,n.offset=0;for(var r=3,s=0;s<r;s++){var u=new l.Container;u.text=g.default.getSubmissionText(""),u.addChild(u.text),u.text.x=35,u.text.y=47,u.text.anchor.set(.5),n.optionContainer.addChild(u),u.interactive=!0,u.buttonMode=!0,u.id=1e6,n.options.push(u)}return n.lastId=999999999,n.nextButton=p.default.tertiary("icon_up.png","next"),n.nextButton.onPress.add(n.onNextPressed,n),n.addChild(n.nextButton.view),n.nextButton.view.y=-92,n.prevButton=p.default.tertiary("icon_down.png","previous"),n.prevButton.onPress.add(n.onPrevPressed,n),n.addChild(n.prevButton.view),n.prevButton.view.y=92,n}return s(e,t),e.prototype.updateTransform=function(){this.trackpad.update();for(var e=this.options.length*b,i=0;i<this.options.length;i++){var n=this.options[i];n.position.y=i*b+this.trackpad.valueY+100+20;var r=Math.floor(n.position.y/e);if(r*=this.options.length,r*=-1,r+=i,r!=n.id){n.id=r;var o=r%this.letters.length;o<0&&(o+=this.letters.length),n.letter=this.letters[o],n.text.setText(this.letters[o])}n.position.y%=e,n.position.y<0&&(n.position.y+=e),n.position.y-=b}var a=this.trackpad.spring.ty/-this.trackpad.size|0;if(this.lastId!=a){this.lastId=a;var s=a%this.letters.length,u=void 0;u=s<0?this.letters[this.letters.length+s]:this.letters[s];var l=a%this.options.length;l<0&&(l+=this.options.length);var h=this.options[l];h.letter=u,this.currentLetter=h.letter,this.onLetterUpdate.dispatch(h.letter)}t.prototype.updateTransform.call(this,this)},e.prototype.goToLetterId=function(t){this.trackpad.setSlotY(t),this.trackpad.spring.dy=0,this.trackpad.speedY=0,this.trackpad.valueY=this.trackpad.easingValueY=this.trackpad.spring.y=this.trackpad.spring.ty},e.prototype.onNextPressed=function(){this.trackpad.previousSlotY()},e.prototype.onPrevPressed=function(){this.trackpad.nextSlotY()},e.prototype.onOptionPressed=function(t){!this.trackpad.didMove},e}(l.Container);t.exports=e.default},function(t,e){"use strict";e.__esModule=!0;var i=["audio/backing_track_chunk_01.mp3","audio/backing_track_chunk_02.mp3","audio/backing_track_chunk_03.mp3","audio/backing_track_chunk_04.mp3","audio/candy_bite.mp3","audio/candy_hammer_04.mp3","audio/candy_music.mp3","audio/candy_scream_01.mp3","audio/candy_scream_02.mp3","audio/candy_scream_03.mp3","audio/candy_scream_04.mp3","audio/candy_success_01.mp3","audio/candy_success_02.mp3","audio/candy_success_03.mp3","audio/candy_swoosh.mp3","audio/candy_zombie_01.mp3","audio/candy_zombie_02.mp3","audio/candy_zombie_03.mp3","audio/character_swap.mp3","audio/fire_attack_finn.mp3","audio/fire_attack_flameking.mp3","audio/fire_backing_track_01_100bpm.wav","audio/fire_backing_track_01_120bpm.wav","audio/fire_backing_track_01_80bpm.wav","audio/fire_backing_track_02_100bpm.wav","audio/fire_backing_track_02_120bpm.wav","audio/fire_backing_track_02_80bpm.wav","audio/fire_backing_track_03_100bpm.wav","audio/fire_backing_track_03_120bpm.wav","audio/fire_backing_track_03_80bpm.wav","audio/fire_drum_01.mp3","audio/fire_drum_02.mp3","audio/fire_fail.mp3","audio/fire_fill_01_100.mp3","audio/fire_fill_01_120.mp3","audio/fire_fill_01_80.mp3","audio/fire_fill_02_100.mp3","audio/fire_fill_02_120.mp3","audio/fire_fill_02_80.mp3","audio/fire_fill_03_100.mp3","audio/fire_fill_03_120.mp3","audio/fire_fill_03_80.mp3","audio/fire_fireball_01.mp3","audio/fire_fireball_02.mp3","audio/fire_fireball_03.mp3","audio/fire_guitar_01.mp3","audio/fire_guitar_02.mp3","audio/fire_guitar_03.mp3","audio/fire_guitar_04.mp3","audio/fire_guitar_glitch_01.mp3","audio/fire_guitar_glitch_02.mp3","audio/fire_held_note_release_01.mp3","audio/fire_held_note_release_02.mp3","audio/fire_held_note_release_03.mp3","audio/fire_held_note_release_04.mp3","audio/fire_long_chord_01.mp3","audio/fire_long_chord_02.mp3","audio/fire_long_chord_03.mp3","audio/fire_long_chord_04.mp3","audio/fire_long_chord_fail.mp3","audio/fire_noteclick.mp3","audio/fire_success.mp3","audio/game_over.mp3","audio/ice_impact.mp3","audio/ice_impact_02.mp3","audio/ice_music.mp3","audio/ice_rumble.mp3","audio/ice_slide_01.mp3","audio/ice_slide_02.mp3","audio/ice_slide_03.mp3","audio/item_pickup.mp3","audio/powerup.mp3","audio/slime_01.mp3","audio/slime_02.mp3","audio/slime_fall.mp3","audio/slime_footstep_01.mp3","audio/slime_footstep_02.mp3","audio/slime_footstep_03.mp3","audio/slime_impact.mp3","audio/slime_jump.mp3","audio/slime_music.mp3","audio/slime_music_disco_mode.mp3","audio/title_music.mp3","audio/utterly_mental_loop.mp3","audio/buttons/press.mp3","audio/buttons/roll.mp3"];
e.default=i,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(3),c=n(h),f=i(239),d=n(f),p=i(47),y=n(p),v=i(346),m=n(v),g=i(342),_=n(g),b=i(348),w=n(b),x=i(347),T=(n(x),i(345)),S=n(T),E=i(343),C=n(E),P=i(341),M=n(P),A=i(339),O=n(A),k=i(371),I=n(k),R=function(t){function e(i){o(this,e);var n=a(this,t.call(this));return n.defaultTransition=new I.default,n.transition=n.defaultTransition,n.noTransition=n.defaultTransition,n.app=i,n.view=new l.Container,n.pauseScreen=new m.default(i),n.gameoverScreen=new _.default(i),n.tutorialScreen=new w.default(i),n.highscoreSubmissionScreen=new C.default(i),n.leaderboardScreen=new S.default(i),n.creationGifScreen=new M.default(i),n.animatedTutorialScreen=new O.default(i),n.addScreen(n.pauseScreen,"pause"),n.addScreen(n.gameoverScreen,"gameover"),n.addScreen(n.tutorialScreen,"tutorial"),n.addScreen(n.leaderboardScreen,"leaderboard"),n.addScreen(n.highscoreSubmissionScreen,"highscoreSubmission"),n.addScreen(n.creationGifScreen,"creationGif"),n.addScreen(n.animatedTutorialScreen,"animatedTutorial"),n.addScreen(new l.Container,"empty"),n.onShow=new c.default,n.onHide=new c.default,n.black=(new l.Graphics).beginFill(0).drawRect(0,0,100,100),n.black.alpha=.5,n.black.interactive=!0,n.black.hitArea=new l.Rectangle(0,0,1e4,1e4),n.view.visible=!1,n.closeButton=y.default.close("icon_close.png"),n.closeButton.onPress.add(n.goBack,n),n.closeButton.view.x=1e4,n.closeButton.view.y=120,n.view.addChild(n.black),n.view.addChild(n.container),n.view.addChild(n.closeButton.view),n.app.screenManager.container.filterArea=new l.Rectangle(0,0,1e4,1e4),n}return s(e,t),e.prototype.goBack=function(t,e,i){if(this.currentScreen&&this.currentScreen.hasSpecialCloseBehaviour&&!i)this.currentScreen.onClose();else{this.history.pop();var n=this.history.pop();n&&n.isOverlay?this.gotoScreen(n):this.hide()}},e.prototype.show=function(t,e){this.gotoScreenByID(t,e,!0),this.onShow.dispatch(),this.view.visible=!0,this.view.alpha=0,TweenLite.to(this.view,.3,{alpha:1}),this.closeButton.view.scale.set(0)},e.prototype.gotoScreen=function(t,e,i,n){e&&e.isInGameTutorial||void 0!==t.hasClose&&t.hasClose!==!0?(this.closeButton.view.interactive=!1,TweenLite.to(this.closeButton.view.scale,.3,{x:0,y:0,ease:Back.easeOut})):(this.closeButton.view.interactive=!0,TweenLite.to(this.closeButton.view.scale,.3,{x:this.closeButton.defaultScale,y:this.closeButton.defaultScale,ease:Back.easeOut,delay:.4})),d.default.prototype.gotoScreen.call(this,t,e,i,n)},e.prototype.hide=function(){this.history=[],this.closeButton.view.interactive=!1,this.gotoScreenByID("empty"),TweenLite.to(this.closeButton.view.scale,.3,{x:0,y:0,ease:Back.easeOut}),TweenLite.to(this.view,.3,{alpha:0,onComplete:function(){this.view.visible=!1,this.onHide.dispatch()}.bind(this)})},e.prototype.resize=function(t,e){this.closeButton.view.x=t/2+320-5,this.closeButton.view.y=e/2-180-40,this.black.scale.set(t/100,e/100),d.default.prototype.resize.call(this,t,e)},e.prototype.onFadeout=function(){this.currentScreen&&(this.currentScreen.onHidden&&this.currentScreen.onHidden(),this.container.removeChild(this.currentScreen)),this.currentScreen=this.nextScreen,this.currentScreen.alpha=0,this.currentScreen.onShow&&this.currentScreen.onShow(),this.currentScreen.resize&&this.currentScreen.resize(this.w,this.h),TweenLite.to(this.currentScreen,.4,{alpha:1,onComplete:this.onFadein.bind(this)}),this.container.addChild(this.currentScreen)},e}(d.default);e.default=R,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(11),c=(n(h),i(63)),f=(n(c),i(372)),d=(n(f),function(t){function e(i,n){o(this,e);var r=a(this,t.call(this));return r.isOverlay=!0,r.hasClose=!0,r.app=i,r.bg=l.Sprite.from("tutorial_board_bottom.png"),r.bg.anchor.set(.5),r.addChild(r.bg),r.animationContainer=new l.Container,r.addChild(r.animationContainer),r.fg=l.Sprite.from("tutorial_board_top.png"),r.fg.anchor.set(.5),r.addChild(r.fg),r}return s(e,t),e.prototype.beforeShow=function(t){},e.prototype.onShow=function(){var t=this,e=this.app.getAnimatedTutorialClass(),i=this.animation=new e.stage;i.position.set(-307.5,-180),i.scale.set(.5),i.addAction(function(){return t.onComplete()},i.totalFrames-1),i.stop(),this.animationContainer.addChild(i)},e.prototype.onShown=function(){this.animation.play()},e.prototype.onComplete=function(){this.animation.stop(),this.app.overlayManager.goBack()},e.prototype.onHide=function(){this.animation.stop(),this.screenManager.app.topMenu.setState(this.screenManager.app.topMenu.previousState)},e.prototype.onHidden=function(){this.animationContainer.removeChild(this.animation),this.animation=null},e.prototype.resize=function(t,e){this.w=t,this.h=e,this.x=t/2,this.y=e/2},e}(l.Container));e.default=d,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(675),u=n(s),l=i(3),h=n(l),c=function(t){function e(i,n){r(this,e);var a=o(this,t.call(this,i,n));return a.indexChange=new h.default,a}return a(e,t),e.prototype.updateTransform=function(){t.prototype.updateTransform.call(this);var e=0|-(this.trackpad.spring.tx/this.trackpad.size);this.lastIndex!=e&&(this.lastIndex=e,this.indexChange.dispatch(e))},e}(u.default);e.default=c,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(16),c=(n(h),i(47)),f=n(c),d=i(23),p=(n(d),i(171)),y=(n(p),i(17)),v=(n(y),i(63)),m=n(v),g=i(134),_=n(g),b=(i(62),function(t){function e(i){o(this,e);var n=a(this,t.call(this,i,translations.DOWNLOAD_GIF));return window.pause=n,n.data={},n.containerMovieClip=new l.Container,n.containerMovieClip.scale.set(.8),n.addChild(n.containerMovieClip),n.downloadButton=f.default.tertiary("icon_download.png"),n.downloadButton.onPress.add(n.onPress,n),n.downloadButton.view.x=0,n.downloadButton.view.y=170,n.addChild(n.downloadButton.view),n}return s(e,t),e.prototype.onPress=function(t){if(t===this.downloadButton){var e=document.getElementById("downloadImage");e&&window.hasDownloadSupport?e.click():this.gifData&&window.open(this.gifData,"Image","width=400,height=300,resizable=1")}},e.prototype.init=function(){},e.prototype.beforeShow=function(t){this.containerMovieClip.addChild(t.movieClip),t.name!==this.data.name||t.score!==this.data.score||t.gameId!==this.data.gameId?(this.data=t,this.app.topMenu.setState("empty"),this.gifData=null,this.downloadButton.view.interactive=!1,this.downloadButton.view.alpha=.4,this.generateGifOnShown=!0,this.generateGifData=t):(this.generateGifOnShown=!1,this.downloadButton.view.alpha=1,this.downloadButton.view.interactive=!0)},e.prototype.onShow=function(){},e.prototype.onShown=function(){var t=this;if(this.generateGifOnShown){var e=new _.default,i=document.getElementById("downloadImage"),n=this.generateGifData;e.generateGif(n.gameId,n.name,n.score,function(e){i&&window.hasDownloadSupport&&(i.href=e,i.download="well_done_"+Math.floor(12010210210*Math.random())+".gif"),t.gifData=e,t.downloadButton.view.alpha=1,t.downloadButton.view.interactive=!0})}},e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i)},e}(m.default));e.default=b,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(47),c=n(h),f=i(23),d=(n(f),i(171)),p=(n(d),i(62),i(63)),y=n(p),v=i(134),m=(n(v),i(193)),g=n(m),_=i(14),b=n(_),w=i(194),x=n(w),T=i(17),S=n(T),E=i(11),C=n(E),P=function(t){function e(i){o(this,e);var n=a(this,t.call(this,i,translations.GAME_OVER_TITLE));n.hasClose=!1;var r=l.Sprite.from("panel_game_over.png");r.position.y=-60,r.anchor.set(.5),n.bg.addChild(r);var s=S.default.getLastMinuteText(translations.YOU_SCORED,25);s.anchor.x=.5,s.anchor.y=.5,s.position.y=r.position.y-20+5,n.addChild(s),n.scoreNumber=S.default.getLastMinuteText("20000",32),n.scoreNumber.anchor.x=.5,n.scoreNumber.anchor.y=.5,n.scoreNumber.position.y=r.position.y+20+5,n.addChild(n.scoreNumber),n.restartButton=c.default.primaryBig("icon_restart.png"),n.restartButton.onPress.add(n.onPress,n),n.restartButton.view.x=140,n.restartButton.view.y=100,n.addChild(n.restartButton.view),n.restartButton.view.scale.set(.85);var u=S.default.getLastMinuteText(translations.PLAY_AGAIN,25);return u.anchor.x=.5,u.anchor.y=.5,u.position.x=n.restartButton.view.x,u.position.y=n.restartButton.view.y+.5*n.restartButton.view.height+10,n.addChild(u),n.containerMovieClip=new l.Container,n.containerMovieClip.scale.set(.55),n.containerMovieClip.position.x=-100,n.containerMovieClip.position.y=100,n.addChild(n.containerMovieClip),n.movieClip=new l.Sprite,n.movieClip.name=S.default.getGifNameStyle(""),n.movieClip.name.anchor.set(.5),n.movieClip.addChild(n.movieClip.name),n.movieClip.score=S.default.getGifNameStyle(""),n.movieClip.score.anchor.set(.5),n.movieClip.addChild(n.movieClip.score),n.movieClip.textures=[],n.movieClip.counter=0,n.movieClip.speed=.3,n.movieClip.anchor.set(.5),n.movieClip.updateTransform=function(){if(l.Sprite.prototype.updateTransform.call(this),this.counter+=this.speed,this.textures.length>0&&this.gifData){var t=Math.floor(this.counter%this.textures.length);this.texture=this.textures[t];var e=this.name,i=this.score;e.position.x=this.gifData.user_name.position[2*t]+10-this.width/2,e.position.y=this.gifData.user_name.position[2*t+1]+10-this.height/2,e.scale.x=this.gifData.user_name.scale[2*t],e.scale.y=this.gifData.user_name.scale[2*t+1],e.alpha=this.gifData.user_name.alpha[t],i.position.x=this.gifData.score.position[2*t]-this.width/2,i.position.y=this.gifData.score.position[2*t+1]+5-this.height/2,i.scale.x=this.gifData.score.scale[2*t],i.scale.y=this.gifData.score.scale[2*t+1]}},n.downloadButton=c.default.tertiary("icon_download.png"),n.downloadButton.onPress.add(n.onPress,n),n.downloadButton.view.x=10,n.downloadButton.view.y=105,C.default.instance.silk||C.default.instance.ie&&!C.default.instance.trident||n.addChild(n.downloadButton.view),n}return s(e,t),e.prototype.onPress=function(t){t===this.restartButton?(this.app.gameScreen.resetGame(),this.app.overlayManager.hide()):t===this.downloadButton&&(this.data.movieClip=this.movieClip,this.app.overlayManager.gotoScreenByID("creationGif",this.data))},e.prototype.init=function(){},e.prototype.beforeShow=function(t){t=t||this.data,this.containerMovieClip.addChild(this.movieClip);var e=g.default.getUserName();e=e||translations.PLACE_HOLDER_NAME_GIF,this.data={name:e,gameId:t.gameId,score:t.score},this.buildMovieClip(t.gameId,e,t.score)},e.prototype.onShown=function(){this.app.topMenu.setState("gameover")},e.prototype.buildMovieClip=function(t,e,i){var n=b.default.getTexturesFromFramesWithPrefix(t+"/"+t+"_000%%.png");new l.Container,new l.Sprite;e=e.toUpperCase(),this.scoreNumber.text="0",this.scoreNumber.scale.set(.5);var r={current:0,label:this.scoreNumber,scale:.5};TweenLite.to(r,.75,{scale:1.25,delay:1.5,current:parseInt(i),onUpdate:function(t){t.label.text=b.default.formatScore(parseInt(t.current)),t.label.scale.set(t.scale)},onUpdateParams:[r]}),this.movieClip.name.text=e,this.movieClip.score.text=i,this.movieClip.textures=n,this.movieClip.gifData=x.default.transformData},e.prototype.updateTransform=function(){t.prototype.updateTransform.call(this)},e.prototype.onHide=function(){this.app.topMenu.setState("empty")},e}(y.default);e.default=P,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(122),c=(n(h),i(14)),f=(n(c),i(23)),d=(n(f),i(334)),p=n(d),y=i(336),v=n(y),m=i(47),g=n(m),_=i(102),b=n(_),w=i(63),x=n(w),T=i(193),S=n(T),E=i(17),C=n(E),P=function(t){function e(i){o(this,e);var n=a(this,t.call(this,i,translations.HIGHSCORE_TITLE));n.hasClose=!1;var r=l.Sprite.from("panel_high_score.png");r.anchor.set(.5),r.position.y=45,n.bg.addChild(r),n.swearRegEx=RegExp(p.default.join("|")),n.nameSubmission=new v.default,n.nameSubmission.x=-155,n.nameSubmission.y=65,n.bg.addChild(n.nameSubmission),n.nameSubmission.onNameUpdate.add(n.onNameUpdate,n),n.submitButton=g.default.primary("icon_confirm.png","play"),n.bg.addChild(n.submitButton.view),n.submitButton.view.x=r.width/2+10,n.submitButton.view.y=75,n.submitButton.view.ty=95,n.submitButton.onPress.add(n.onSubmitPressed,n),n.poller=new l.Sprite,n.poller.anchor.set(.5),n.poller.updateTransform=function(){this.rotation+=.1,l.Sprite.prototype.updateTransform.call(this)},n.addChild(n.poller),n.poller.visible=!1,n.poller.scale.set(0),n.word="AAA";var s=C.default.getLastMinuteText(translations.INITIALS,25);return s.anchor.x=.5,s.position.y=-100,n.addChild(s),n}return s(e,t),e.prototype.beforeShow=function(t){t&&(this.data=t,this.score=t.score)},e.prototype.onSubmitPressed=function(){var t=this;S.default.setUserName(this.word),this.submitButton.view.interactive=!1,TweenLite.to(this.submitButton.view.scale,.4,{x:0,y:0,ease:Back.easeIn}),TweenLite.to(this.nameSubmission,.4,{alpha:0,ease:Sine.easeIn}),this.poller.visible=!0,TweenLite.to(this.poller.scale,.4,{x:1,y:1,ease:Elastic.easeOut,delay:.3}),this.saveScore().then(function(e){var i=t.data;i.isGameOver=!0,t.app.overlayManager.gotoScreenByID("leaderboard",i)}).catch(function(t){})},e.prototype.saveScore=function(){return b.default.send_score(this.data.gameId,this.score,this.word)},e.prototype.onScoreSaved=function(t){TweenLite.to(this.poller.scale,.4,{x:0,y:0,ease:Back.easeIn})},e.prototype.onHide=function(){},e.prototype.onNameUpdate=function(t){var e=this.swearRegEx.test(t.toLowerCase());this.word=t,e?(this.nameSubmission.alpha=.5,this.submitButton.view.interactive=!1,this.submitButton.view.alpha=.5):(this.nameSubmission.alpha=1,this.submitButton.view.interactive=!0,this.submitButton.view.alpha=1)},e.prototype.onHidden=function(){},e.prototype.onShow=function(){this.screenManager.app.topMenu.setState("empty"),this.word=S.default.getUserName(),this.nameSubmission.setName(this.word||"AAA"),this.submitButton.view.interactive=!0,TweenLite.to(this.submitButton.view.scale,.1,{x:1,y:1,ease:Back.easeIn}),TweenLite.to(this.nameSubmission,.1,{alpha:1,ease:Sine.easeIn}),this.poller.visible=!1,TweenLite.to(this.poller.scale,.1,{x:0,y:0,ease:Elastic.easeOut})},e}(x.default);e.default=P,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=i(1),h=r(l),c=i(14),f=n(c),d=i(17),p=n(d),y=function(t){function e(i){o(this,e);var n=a(this,t.call(this));n.list=[],n.realHeight=0,n.viewHeight=i.frameHeight||240,n.maskHeight=i.maskHeight||n.viewHeight,n.viewWidth=i.frameWidth||800,n.scoreViewHeight=i.lineHeight||40,n.padding="object"===u(i.padding)?i.padding:{top:0,right:0,bottom:0,left:0},n.maskGraphic=(new h.Graphics).beginFill(16776960).drawRect(0,0,n.viewWidth,n.maskHeight-6),n.addChild(n.maskGraphic),n.mask=n.maskGraphic,n.hitArea=new h.Rectangle(0,0,n.viewWidth,n.viewHeight),n.realHeight=n.viewHeight+2*n.scoreViewHeight;for(var r=Math.floor(n.realHeight/n.scoreViewHeight),s=0;s<r;s++){var l=new v(s);n.addChild(l),l.position.y=s*n.scoreViewHeight,n.list.push(l)}return n}return s(e,t),e.prototype.setData=function(t){this.data=t;for(var e=0;e<this.list.length;e++){var i=this.list[e];i.id=999999999999}this.alpha=0,TweenLite.to(this,.3,{alpha:1}),this.scrollHeight=t.length*this.scoreViewHeight+this.padding.top+this.padding.bottom,this.updateScrollPosition()},e.prototype.updateScrollPosition=function(){if(this.data)for(var t=0;t<this.list.length;t++){var e=this.list[t];e.position.y=t*this.scoreViewHeight+this._scrollPosition+this.padding.top,e.position.y+=this.scoreViewHeight;var i=Math.floor(e.position.y/this.realHeight);if(i*=this.list.length,i-=t,i*=-1,e.id!=i&&(e.id=i,e.visible=e.id>=0&&e.id<this.data.length,e.visible)){var n=e.id+1<10?"0"+(e.id+1):e.id+1;e.labelNumber.text=n,e.setScore(this.data[i])}e.position.y%=this.realHeight,e.position.y<0&&(e.position.y+=this.realHeight),e.position.y-=this.scoreViewHeight}},e}(h.Container);e.default=y,Object.defineProperty(y.prototype,"scrollPosition",{get:function(){return this._scrollPosition},set:function(t){this._scrollPosition=t,this.updateScrollPosition()}});var v=function(t){function e(i){o(this,e);var n=a(this,t.call(this)),r=(i+1<10?"0"+(i+1):i+1)+".";return n.labelNumber=p.default.getLeaderboardText(r),n.labelName=p.default.getLeaderboardTextBold("0"),n.labelScore=p.default.getLeaderboardText("0"),n.labelName.position.x=120,n.labelScore.anchor.x=1,n.labelScore.position.x=380,n.addChild(n.labelNumber),n.addChild(n.labelName),n.addChild(n.labelScore),n}return s(e,t),e.prototype.setScore=function(t){this.labelName.text=t.name,this.labelScore.text=f.default.formatScore(t.score).toUpperCase()},e}(h.Container);t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(344),c=n(h),f=i(122),d=n(f),p=i(679),y=n(p),v=i(677),m=n(v),g=i(14),_=n(g),b=i(102),w=n(b),x=i(23),T=(n(x),i(63)),S=n(T),E=function(t){function e(i){o(this,e);var n=a(this,t.call(this,i,translations.LEADERBOARD_TITLE));n.hasSpecialCloseBehaviour=!0;var r=l.Sprite.from("panel_high_score.png");r.anchor.set(.5),r.position.y=45,n.bg.addChild(r);var s={frameWidth:r.width*n.bg.scale.x-40,frameHeight:r.height-20,lineHeight:30,maskHeight:r.height-60,padding:{top:0,right:0,bottom:0,left:0}};n.leaderboard=new c.default(s),n.leaderboard.alpha=0,n.addChild(n.leaderboard),n.hitArea=new l.Rectangle(-(.5*n.bg.width),-(.5*n.bg.height),n.bg.width,n.bg.height),n.leaderboard.position.x=-(.5*r.width*n.bg.scale.x)+40,n.leaderboard.position.y=-(.5*r.height*n.bg.scale.x)+60;var u={target:n.leaderboard};n.trackpad=new d.default(u),n.trackpad.scrollMin=0,n.trackpad.scrollMax=610,n.trackpad.capMovement=!0;var h=300,f=30,p=l.Sprite.from("scrollbar_handle.png");p.anchor.set(.4);var v=l.Sprite.from("scrollbar_bg.png"),g=new y.default({draggerHeight:f,dragLength:h,bar:v,dragger:p});g.position.set(270,-110),n.bg.addChild(g);var _=new m.default({scrollbar:g,trackpad:n.trackpad,min:0,max:380});return n.scrollCombo=_,n}return s(e,t),e.prototype.updateTransform=function(){this.scrollCombo.update(),this.leaderboard.scrollPosition=this.scrollCombo.value,t.prototype.updateTransform.call(this)},e.prototype.loadScores=function(){return w.default.get_scores(this.data.gameId)},e.prototype.onClose=function(){this.data.isGameOver?this.app.overlayManager.gotoScreenByID("gameover",this.data):this.app.overlayManager.hide()},e.prototype.onHide=function(){this.leaderboard.alpha=0},e.prototype.onHidden=function(){this.data.isGameOver=!1},e.prototype.beforeShow=function(t){this.data=t},e.prototype.onShow=function(){var t=this;this.loadScores().then(function(e){t.onScoresLoaded(e)}).catch(function(t){})},e.prototype.onScoresLoaded=function(t){this.leaderboard.setData(t),this.trackpad.scrollMinY=-(this.leaderboard.scrollHeight-this.leaderboard.viewHeight),this.leaderboard.alpha=1;var e=30*(t.length-1)-220;this.scrollCombo.max=e,this.scrollCombo.trackpad.scrollMinY=-e},e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i)},e}(S.default);e.default=E;(function(t){function e(i){o(this,e);var n=a(this,t.call(this));return n.labelNumber=new l.Text("99",{font:"50px "+window.MAIN_FONT,fill:"#000000",align:"left",dropShadowColor:"#666"}),n.labelName=new l.Text("MAT",{font:"50px "+window.MAIN_FONT,fill:"#000000",align:"left",dropShadowColor:"#666"}),n.labelScore=new l.Text("0",{font:"50px "+window.MAIN_FONT,fill:"#000000",align:"left",dropShadowColor:"#666"}),n.labelNumber.position.x=40,n.labelName.position.x=150,n.labelScore.anchor.x=1,n.labelScore.position.x=780,n.addChild(n.labelNumber),n.addChild(n.labelName),n.addChild(n.labelScore),n}return s(e,t),e.prototype.setScore=function(t){""===t.username&&(t.username="YourNameHere",t.score=999999),""===t.username&&(this.labelName.text=t.username,this.labelScore.text=_.default.formatScore(t.score).toUpperCase(),this.labelNumber.text=t.rank+1)},e.prototype.onShow=function(){this.labelNumber.alpha=0,this.labelName.alpha=0,this.labelScore.alpha=0,TweenLite.to(this.labelNumber,1,{alpha:1,delay:.25}),TweenLite.to(this.labelName,1,{alpha:1,delay:.5}),TweenLite.to(this.labelScore,1,{alpha:1,delay:.75})},e})(l.Container);t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=(r(u),i(16)),h=(n(l),i(47)),c=n(h),f=i(23),d=(n(f),i(171)),p=(n(d),i(17)),y=(n(p),i(63)),v=n(y),m=(i(62),function(t){function e(i){o(this,e);var n=a(this,t.call(this,i,translations.PAUSED_TITLE));return window.pause=n,n.hasClose=!1,n.levelButton=c.default.primaryMedium("icon_levels.png"),n.levelButton.accessible=!0,n.levelButton.view.tabIndex=3,n.levelButton.onPress.add(n.onPress,n),n.levelButton.view.x=10,n.playButton=c.default.primaryBig("icon_play.png"),n.playButton.accessible=!0,n.playButton.view.tabIndex=2,n.playButton.view.anchor.set(.5),n.playButton.onPress.add(n.onPress,n),n.addChild(n.playButton.view),n.restartButton=c.default.primaryMedium("icon_restart.png"),n.restartButton.accessible=!0,n.restartButton.view.tabIndex=1,n.restartButton.onPress.add(n.onPress,n),n.restartButton.view.x=10,n.addChild(n.restartButton.view),n}return s(e,t),e.prototype.onPress=function(t){t===this.restartButton?(this.app.gameScreen.resetGame(),this.app.overlayManager.hide()):t===this.playButton&&(this.app.overlayManager.hide(),this.app.gameScreen.game.resume())},e.prototype.init=function(){},e.prototype.beforeShow=function(t){},e.prototype.onShow=function(){},e.prototype.onShown=function(){this.app.topMenu.setState("pause")},e.prototype.onHide=function(){this.app.topMenu.setState("empty")},e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i),this.restartButton.view.position.x=-this.playButton.view.width/2,this.playButton.view.position.x=this.playButton.view.width/2},e}(v.default));e.default=m,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(16),c=n(h),f=i(375),d=n(f),p=i(373),y=n(p),v=i(58),m=n(v),g=function(t){function e(i){function n(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:80,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:80,i=new l.Graphics;i.beginFill(65535,0),i.drawRect(0,0,t,e),i.endFill();var n=new m.default(i);return n}o(this,e);var r=a(this,t.call(this,i));return window.ss=r,r.app=i,r.hasClose=!1,r.hasCleared=!1,r.noRenderBlur=!0,r._bg1=new l.Sprite.fromFrame("settings_page1.png"),r._bg1.anchor.set(.5),r._bg1.position.y=19,r.addChild(r._bg1),r._btnAudio=new d.default(!1,"audio"),r._btnMotion=new d.default(!1,"motion"),r._btnClear=new y.default("clear"),r._btnAudio.view.position.set(180,-120),r._btnAudio.view.accessible=!0,r._btnMotion.view.position.set(180,5),r._btnClear.view.position.set(180,130),r._btnAudio.onPress.add(r.onPress,r),r._btnMotion.onPress.add(r.onPress,r),r._btnClear.onPress.add(r.onPress,r),r.addChild(r._btnAudio.view),r.addChild(r._btnMotion.view),r.addChild(r._btnClear.view),window.audioButton=r._btnAudio,window.motionButton=r._btnMotion,r._btnClose=n(),r.addChild(r._btnClose.view),r._btnClose.view.position.set(r._bg1.width/2-r._btnClose.view.width-18,-r._bg1.height/2+r._btnClose.view.height/2-3),r._btnClose.view.accessible=!0,r._btnClose.view.accessibleTitle="close",r._btnClose.onPress.add(r.goBack,r),r._showPage(0),r}return s(e,t),e.prototype.next=function(){this._showPage(1)},e.prototype.prev=function(){this._showPage(0)},e.prototype._showPage=function(t){this._pageIndex!==t&&(this._pageIndex=t,0==t?(this._bg1.visible=!0,this._btnAudio.view.visible=!0,this._btnMotion.view.visible=!0,this._btnClear.view.visible=!0):(this._bg1.visible=!1,this._btnAudio.view.visible=!1,this._btnMotion.view.visible=!1,this._btnClear.view.visible=!1))},e.prototype.onAudioToggle=function(t){this._btnAudio.toggle(!t)},e.prototype.onMotionToggle=function(t){this._btnMotion.toggle(t)},e.prototype.onShow=function(){this._showPage(0),this.app.topMenu.hide(!0),this._btnClear.reset(),this._btnClear.enable()},e.prototype.onHide=function(){this.app.topMenu.hide(!1)},e.prototype.onPress=function(t){c.default.sfx.play("settings_slider"),t===this._btnAudio||t===this._btnMotion||t===this._btnClear&&(this._btnClear.tick(),this._btnClear.disable(),window.location.reload(),this.app.gameScreen.game.player.resetAll(),this.screenManager.hide(),this.app.screenManager.gotoScreenByID("title"))},e.prototype.goBack=function(){"title"===this.app.screenManager.currentScreen.id?this.app.overlayManager.goBack():this.screenManager.show("pause")},e.prototype.resize=function(t,e){this.x=t/2,this.y=e/2;
},e}(l.Container);e.default=g,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(16),c=(n(h),i(47)),f=n(c),d=i(18),p=n(d),y=i(340),v=n(y),m=i(676),g=(n(m),i(11)),_=n(g),b=i(63),w=n(b),x=i(17),T=n(x),S=i(21),E=i(816),C=n(E),P=(i(62),function(t){function e(i){o(this,e);var n=a(this,t.call(this,i,translations.HOW_TO_PLAY_TITLE));return n.hasClose=!0,window.tuto=n,n}return s(e,t),e.prototype.initFromParams=function(t){if(this.isInGameTutorial=t&&t.isInGameTutorial,this.inited)this.carousel.indexChange.removeAll(),this.removeChild(this.carousel);else{this.inited=!0;var e=l.Sprite.from("panel_howtoplay.png");e.anchor.set(.5),this.bg.addChild(e),this.title.scale.y=.9,this.leftArrow=f.default.primary("icon_prev.png","previous"),this.rightArrow=f.default.primary("icon_next.png","next"),this.leftArrow.view.x=-this.bg.width/4-60,this.leftArrow.view.y=0,this.rightArrow.view.x=this.bg.width/4+60,this.rightArrow.view.y=0,this.explanationText=T.default.getTutorialStyle("instruction"),this.explanationText.anchor.set(.5),this.explanationText.position.y=170,this.addChild(this.explanationText)}this.panels=[];var i=C.default[this.app.latestGameID].slice();this.content=i.map(function(t){return _.default.instance.desktop?(t.thumb=t.image,t.copy=t.text):(t.thumb=t.image,t.copy=t.text_mobile||t.text),t});for(var n=0;n<this.content.length;n++){var r=this.content[n],o=new l.Container,a=l.Sprite.from(r.thumb);o.addChild(a),a.anchor.set(0,.5),o.y=150,o.pivot.x=-105,this.panels.push(o)}var s={itemWidth:530,padding:160,useMask:!0,bounds:new l.Rectangle(-300,0,600,300),dots:!0};this.carousel=new v.default(this.panels,s),this.carousel.indexChange.add(this.onIndexChanged,this),this.carousel.y=-146,this.addChild(this.carousel),this.leftArrow.onPress.removeAll(),this.rightArrow.onPress.removeAll(),this.carousel.setButtons(this.leftArrow,this.rightArrow),this.addChild(this.leftArrow.view),this.isInGameTutorial?(this.removeChild(this.leftArrow.view),this.isInGameTutorial=!0):this.isInGameTutorial=!1,this.addChild(this.rightArrow.view),this.onIndexChanged(0)},e.prototype.onIndexChanged=function(t){var e=this;this.explanationText.text=translations[this.content[t].copy];var i=.7,n=.7;0===t&&(i=0),t===this.content.length-1&&(n=0,this.isInGameTutorial&&S.TweenLite.delayedCall(2,function(){return e.app.overlayManager.hide()})),S.TweenLite.to(this.rightArrow.view.scale,.3,{x:n,y:n,ease:0===n?Back.easeIn:Back.easeOut}),S.TweenLite.to(this.leftArrow.view.scale,.3,{x:i,y:i,ease:0===i?Back.easeIn:Back.easeOut})},e.prototype.update=function(){},e.prototype.onNextPressed=function(){this.trackpad.nextSlot(),this.currentPage++,this.pageTwoTimeout=Math.round((new Date).getTime()/1e3),p.default.instance.add(this.update,this)},e.prototype.onPreviousPressed=function(){this.trackpad.previousSlot(),this.currentPage--,p.default.instance.remove(this.update,this)},e.prototype.beforeShow=function(t){this.initFromParams(t)},e.prototype.onShow=function(){var t=this;this.screenManager.app.topMenu.setState("empty"),this.app.topMenu.buttons.back.onPress.add(function(){t.app.screenManager.currentScreen.game?t.app.overlayManager.gotoScreenByID("pause"):"title"===t.app.screenManager.currentScreen.id?t.app.overlayManager.hide():t.app.overlayManager.gotoScreenByID("pause")})},e.prototype.onHide=function(){this.screenManager.app.topMenu.setState(this.screenManager.app.topMenu.previousState)},e.prototype.onPress=function(t){},e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i)},e}(w.default));e.default=P,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(240),c=n(h),f=i(18),d=n(f),p=i(11),y=(n(p),i(84)),v=(n(y),i(14)),m=(n(v),i(3)),g=(n(m),function(t){function e(i){o(this,e);var n=a(this,t.call(this));n.app=i,n.loadedMap={},n.bg=new l.Sprite.from(window.ASSET_URL+"image/preload/loading_bg.jpg"),n.addChild(n.bg),n.container=new l.Container,n.barBg=new l.Sprite.fromImage(window.ASSET_URL+"image/preload/loading_bar_bg.png"),n.barBg.anchor.x=n.barBg.anchor.y=.5,n.bar=new l.Sprite.fromImage(window.ASSET_URL+"image/preload/loading_bar.png"),n.bar.anchor.x=n.bar.anchor.y=.5;var r=(new l.Graphics).beginFill(0).drawRect(0,-n.bar.height/2-10,n.bar.width+20,n.bar.height+20);return r.scale.x=0,n.bar.mask=r,n.bar.mask.position.x=-n.bar.width/2,n.bar.addChild(r),n.container.addChild(n.barBg),n.container.addChild(n.bar),n.addChild(n.container),n}return s(e,t),e.prototype.beforeShow=function(t){var e=t.nextScreen;this.loadedMap[e]||(this.loader&&this.loader.onProgress.remove(this.onProgress,this),this.loader=new c.default,this.loader.addManifest(t.assetManifest,window.ASSET_URL),this.loader.onProgress.add(this.onProgress,this),this.manifests=t.assetManifest,this.nextScreen=e,d.default.instance.add(this.update,this),this.easeLoad=0,this.targetLoad=0)},e.prototype.onShown=function(){this.loadedMap[this.nextScreen]?this.onLoaded():(this.loader.load(),this.loadedMap[this.nextScreen]=!0)},e.prototype.onLoaded=function(){this.app.screenManager.gotoScreenByID(this.nextScreen)},e.prototype.update=function(){this.count+=.02,this.easeLoad+=.3*(this.targetLoad-this.easeLoad),this.bar.mask.scale.x=this.easeLoad,this.easeLoad>.99&&(d.default.instance.remove(this.update,this),this.onLoaded())},e.prototype.onProgress=function(t){this.targetLoad=t},e.prototype.onShow=function(){},e.prototype.onHide=function(){d.default.instance.remove(this.update,this)},e.prototype.resize=function(t,e){this.w=t,this.h=e,this.bg.width=t,this.bg.height=e,this.container.position.x=t/2,this.container.position.y=e/2},e}(l.Container));e.default=g,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(367),c=(n(h),i(667)),f=(n(c),i(75)),d=n(f),p=i(23),y=n(p),v=i(102),m=n(v),g=i(18),_=n(g),b=i(121),w=n(b),x=i(14),T=n(x),S=function(t){function e(i,n,r){o(this,e);var s=a(this,t.call(this));s.app=i,s.assetManifest=r,s.GameClass=n;var u=y.default.getJson("config").config.ARCADE_COOKIES_BUNDLE_ID;return s.localStorage=new w.default(u),s.inited=!1,s.alwaysShowTutorial=!!T.default.get_query("tutorial"),s}return s(e,t),e.prototype.init=function(){this.inited=!0,this.game=new this.GameClass,this.game.onGameOver.add(this.onGameOver,this),this.addChild(this.game.view),this.addChild(this.game.hud.view),this.game.controls&&this.game.controls.view&&this.addChild(this.game.controls.view)},e.prototype.onShow=function(){this.game.reset(),_.default.game.start(),this.game.hud.startCountdown?this.game.softStart():this.game.start(),this.app.overlayManager.onShow.add(this.onOverlayShow,this),this.app.overlayManager.onHide.add(this.onOverlayHide,this)},e.prototype.onShown=function(){var t=this;this.app.topMenu.setState("game");var e=this.localStorage.get(this.id);!e||this.alwaysShowTutorial?(this.localStorage.store(this.id,!0),this.app.overlayManager.show("animatedTutorial"),this.app.overlayManager.onHide.addOnce(function(){return t.game.startCountdown()})):this.game.startCountdown()},e.prototype.resetGame=function(){this.app.gotoGame()},e.prototype.quit=function(){this.screenManager.gotoScreenByID("title")},e.prototype.onGameOver=function(t,e){var i=this;d.default.play("game_over_music",!0),this.score=e,m.default.is_high_score(t,this.score).then(function(n){n?i.app.overlayManager.show("highscoreSubmission",{gameId:t,score:e}):i.app.overlayManager.show("gameover",{gameId:t,score:e})}).catch(function(n){i.app.overlayManager.show("gameover",{gameId:t,score:e})})},e.prototype.onHide=function(){this.app.topMenu.setState("empty"),d.default.stop(!0),this.game.pause(),this.app.overlayManager.onShow.remove(this.onOverlayShow,this),this.app.overlayManager.onHide.remove(this.onOverlayHide,this)},e.prototype.onHidden=function(){this.game.quit()},e.prototype.onOverlayShow=function(){this.game.pause(),this.app.topMenu.setState("empty")},e.prototype.onOverlayHide=function(){this.game.resume(),this.app.topMenu.setState("game")},e.prototype.resize=function(t,e){this.game.resize(t,e)},e}(l.Container);e.default=S,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(18),c=n(h),f=i(11),d=(n(f),i(84)),p=n(d),y=i(14),v=(n(y),i(3)),m=n(v),g=i(322),_=function(t){function e(i){o(this,e);var n=a(this,t.call(this));return n.app=i,n.count=0,i.loader.onProgress.add(n.onProgress,n),n.easeLoad=0,n.targetLoad=0,n.onReady=new m.default,n.onComplete=new m.default,n.onAssetsLoaded(),n}return s(e,t),e.prototype.onShown=function(){},e.prototype.onAssetsLoaded=function(){this.bg=new l.Sprite.from(window.ASSET_URL+"image/preload/loading_bg.jpg"),this.addChild(this.bg),this.container=new l.Container,this.barBg=new l.Sprite.fromImage(window.ASSET_URL+"image/preload/loading_bar_bg.png"),this.barBg.anchor.x=this.barBg.anchor.y=.5,this.bar=new l.Sprite.fromImage(window.ASSET_URL+"image/preload/loading_bar.png"),this.bar.anchor.x=this.bar.anchor.y=.5;var t=(new l.Graphics).beginFill(0).drawRect(0,-this.bar.height/2-10,this.bar.width+20,this.bar.height+20);t.scale.x=0,this.bar.mask=t,this.bar.mask.position.x=-this.bar.width/2,this.bar.addChild(t),this.container.addChild(this.barBg),this.container.addChild(this.bar),c.default.instance.add(this.update,this),this.addChild(this.container),this.resize(this.w,this.h),this.scaleNumber=1.3,p.default.wait(this.showLoader.bind(this))},e.prototype.showLoader=function(){this.app.loader.load()},e.prototype.update=function(){var t=this;if(this.count+=.02,this.easeLoad+=.15*(this.targetLoad-this.easeLoad),this.bar.mask.scale.x=this.easeLoad,this.easeLoad>.99){c.default.instance.remove(this.update,this);var e=g.title.concat(g.preload);this.uploadManifest(e,function(){t.onComplete.dispatch()})}},e.prototype.uploadManifest=function(t,e){for(var i=this,n=[],r=0;r<t.length;r++){var o=window.ASSET_URL+t[r],a=o.split(".");"json"===a[a.length-1]&&(a[a.length-1]="png",o=a.join(".")),l.BaseTextureCache[o]&&n.push(l.BaseTextureCache[o])}var s=0,u=function t(){s===n.length?(e(),c.default.instance.remove(t,i)):window.renderer.bindTexture(n[s]),s++};c.default.instance.add(u,this)},e.prototype.onProgress=function(t){this.targetLoad=t},e.prototype.onShow=function(){},e.prototype.onHide=function(){c.default.instance.remove(this.update,this)},e.prototype.resize=function(t,e){this.w=t,this.h=e,this.bg.width=t,this.bg.height=e,this.container.position.x=t/2,this.container.position.y=e/2},e}(l.Container);e.default=_,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(58),c=(n(h),i(47)),f=(n(c),i(11)),d=n(f),p=(i(62),i(361)),y=n(p),v=i(354),m=n(v),g=i(359),_=n(g),b=i(357),w=n(b),x=i(18),T=n(x),S=i(360),E=n(S),C=i(471),P=n(C),M=i(661),A=n(M),O=i(23),k=(n(O),i(102)),I=(n(k),i(75)),R=n(I),L=i(16),B=(n(L),function(t){function e(i){o(this,e);var n=a(this,t.call(this));return window.title=n,n.app=i,n.scenes=[],n._onMouseMove=n.onMouseMove.bind(n),n.flash=new A.default,n}return s(e,t),e.prototype.init=function(){var t=this;this.tilt=0,this.slimeScene=new y.default(this.app),this.candyScene=new m.default(this.app),this.iceScene=new _.default(this.app),this.fireScene=new w.default(this.app),this.scenes.push(this.slimeScene,this.candyScene,this.iceScene,this.fireScene),this.scenes.forEach(function(e){return t.addChild(e)}),this.sceneMasks=new E.default,this.addChild(this.sceneMasks),this.candyScene.maskRef=this.candyScene.mask=this.sceneMasks.top,this.fireScene.maskRef=this.fireScene.mask=this.sceneMasks.right,this.slimeScene.maskRef=this.slimeScene.mask=this.sceneMasks.bottom,this.iceScene.maskRef=this.iceScene.mask=this.sceneMasks.left,this.activeScene=null,this.scenes.forEach(function(e){return e.onPlay.add(t.onPlayPressed,t)}),this.scenes.forEach(function(e){return e.onClose.add(t.onClosePressed,t)}),this.sceneMasks.onOpenBegin.add(function(){t.scenes.forEach(function(e){e!==t.activeScene?e.hide():(t.app.topMenu.setState("intro"),e.expand())})},this),this.sceneMasks.onOpenComplete.add(function(){t.scenes.forEach(function(e){e!==t.activeScene?(e.visible=!1,e.deactivate()):e.mask=null}),t.sceneMasks.visible=!1},this),this.sceneMasks.onCloseBegin.add(function(){t.sceneMasks.visible=!0,t.scenes.forEach(function(e){e!==t.activeScene?(e.visible=!0,e.activate(),e.show()):(e.mask=e.maskRef,t.app.topMenu.setState("home"),e.collapse())})},this),this.sceneMasks.onCloseComplete.add(function(){t.activeScene=null},this),this.addChild(this.flash)},e.prototype.onPlayPressed=function(t){return this.activeScene===t?void this.app.gotoGame(this.activeScene.id+"Game"):void(null===this.activeScene&&(this.app.latestGameID=t.id+"Game",this.activeScene=t,this.app.activeScene=this.activeScene,t===this.slimeScene?this.sceneMasks.openBottom():t===this.candyScene?this.sceneMasks.openTop():t===this.iceScene?this.sceneMasks.openLeft():t===this.fireScene&&this.sceneMasks.openRight()))},e.prototype.onClosePressed=function(){this.sceneMasks.close()},e.prototype.beforeShow=function(t){},e.prototype.onShow=function(){var t=this;this.scale.set(.5),TweenLite.to(this.scale,.6,{x:1,y:1,ease:Back.easeOut,delay:.4}),R.default.play("title_music",!0),T.default.instance.add(this.update,this),d.default.instance.desktop?(window.addEventListener("mousemove",this._onMouseMove),this.mx=0,this.tiltMul=20):(P.default.frequency=2,P.default.startTracking(function(e){90===window.orientation?t.tilt=-e.beta:t.tilt=e.beta})),this.sceneMasks.logo.visible=!0,this.sceneMasks.logo.alpha=0,this.sceneMasks.logo.scale.set(4),TweenLite.to(this.sceneMasks.logo,.2,{alpha:1,ease:Sine.easeIn,delay:.5}),TweenLite.to(this.sceneMasks.logo.scale,.5,{x:.65,y:.65,ease:Cubic.easeOut,delay:.5}),setTimeout(function(){t.flash.flash(.3,.7)},870)},e.prototype.onMouseMove=function(t){this.mx=2*-(t.clientX/window.innerWidth-.5)*this.tiltMul},e.prototype.onShown=function(){this.app.topMenu.setState(this.activeScene?"intro":"home"),this.app.overlayManager.onShow.add(this.onOverlayShow,this),this.app.overlayManager.onHide.add(this.onOverlayHide,this)},e.prototype.onOverlayShow=function(){this.app.topMenu.setState("empty")},e.prototype.onOverlayHide=function(){this.app.topMenu.setState(this.activeScene?"intro":"home")},e.prototype.update=function(){var t=this;this.scenes.forEach(function(e){t.activeScene!==e&&(e.pivot.x=.5*t.sceneMasks.pivot.x,e.pivot.y=.5*t.sceneMasks.pivot.y),e.update(t.tilt)}),this.sceneMasks.update(),d.default.instance.desktop&&(this.tilt+=.06*(this.mx-this.tilt))},e.prototype.onHide=function(){T.default.instance.remove(this.update,this),window.removeEventListener("mousemove",this._onMouseMove),R.default.stop(!0),this.app.topMenu.setState("empty"),this.app.overlayManager.onShow.remove(this.onOverlayShow,this),this.app.overlayManager.onHide.remove(this.onOverlayHide,this)},e.prototype.resize=function(t,e){this.pivot.x=t/2,this.pivot.y=e/2,this.x=t/2,this.y=e/2,this.scenes.forEach(function(i){return i.resize(t,e)}),this.sceneMasks.resize(t,e),this.flash.resize(t,e)},e}(l.Container));e.default=B,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(169),c=n(h),f=function(t){function e(i){o(this,e);var n=a(this,t.call(this));return n.debug=!1,n.interactive=!0,n.buttonMode=!0,n.tap=n.click=n._onClick.bind(n),n.container=new l.Container,n.addChild(n.container),n.tick=0,n.containerScale=new l.Container,n.container.addChild(n.containerScale),n.spriteBody=new l.Sprite.from(i.body),n.containerScale.addChild(n.spriteBody),n.spriteArmLeft=new l.Sprite.from(i.arm),n.spriteArmLeft.pivot.x=i.pivot.x,n.spriteArmLeft.pivot.y=i.pivot.y,n.spriteArmLeft.scale.x*=-1,n.spriteArmLeft.position.x=n.spriteBody.width/2-i.posArms.x,n.spriteArmLeft.position.y=n.spriteBody.height/2+i.posArms.y,n.spriteArmLeft.tick=100*Math.random(),n.spriteArmLeft.speed=.2*Math.random()+.2,n.containerScale.addChild(n.spriteArmLeft),n.spriteArmRight=new l.Sprite.from(i.arm),n.spriteArmRight.pivot.x=i.pivot.x,n.spriteArmRight.pivot.y=i.pivot.y,n.spriteArmRight.position.x=n.spriteBody.width/2+i.posArms.x,n.spriteArmRight.position.y=n.spriteBody.height/2+i.posArms.y,n.spriteArmRight.tick=100*Math.random(),n.spriteArmRight.speed=.2*Math.random()+.2,n.containerScale.addChild(n.spriteArmRight),n.spriteLegLeft=new l.Sprite.from(i.leg),n.spriteLegLeft.position.x=n.spriteBody.width/2-10,n.spriteLegLeft.position.y=n.spriteBody.height-n.spriteLegLeft.height/2,n.spriteLegLeft.scale.x*=-1,n.spriteLegLeft.tick=100*Math.random(),n.spriteLegLeft.speed=.2*Math.random()+.2,n.containerScale.addChild(n.spriteLegLeft),n.spriteLegRight=new l.Sprite.from(i.leg),n.spriteLegRight.position.x=n.spriteBody.width/2+10,n.spriteLegRight.position.y=n.spriteBody.height-n.spriteLegRight.height/2,n.spriteLegRight.tick=100*Math.random(),n.spriteLegRight.speed=.2*Math.random()+.2,n.containerScale.addChild(n.spriteLegRight),n.containerScale.pivot.x=n.spriteBody.width/2,n.containerScale.pivot.y=n.spriteBody.height,n.container.pivot.x=n.spriteBody.width/2,n.container.pivot.y=n.spriteBody.height/2,n.debug&&(n.g=new l.Graphics,n.g.beginFill(16711680).drawCircle(0,0,10),n.containerScale.addChild(n.g)),n.spriteHeight=n.spriteBody.height,n.spriteWidth=n.spriteBody.width,n.spring=new c.default,n}return s(e,t),e.prototype.addToWorld=function(){this.container.scale.x=this.container.scale.y=1},e.prototype.removeFromWorld=function(){TweenLite.to(this.container.scale,.6,{x:0,y:0,ease:Back.easeIn})},e.prototype._onClick=function(){this.spring.dx=5*Math.random(),this.spring.dy=5*Math.random(),this.body&&(this.body.velocity[0]=100*Math.random()-50,this.body.velocity[1]=80*Math.random()+10,this.body.angularVelocity=2*Math.random()-1)},e.prototype.update=function(){this.spring.update();var t=-this.container.rotation,e=this.spriteWidth/2,i=this.spriteHeight,n=this.spriteWidth/2,r=this.spriteHeight/2,o=10,a=(e-n)*Math.cos(t)+e-(i-o-r)*Math.sin(t),s=(i-o-r)*Math.cos(t)+r+(e-n)*Math.sin(t);this.containerScale.pivot.x=a,this.containerScale.pivot.y=s,this.g&&(this.g.position.x=a,this.g.position.y=s),this.containerScale.position.x=this.containerScale.pivot.x,this.containerScale.position.y=this.containerScale.pivot.y,this.tick+=.1,this.containerScale.scale.x=1+.015*Math.sin(this.tick/2)+.05*this.spring.x,this.containerScale.scale.y=1+.015*Math.cos(this.tick/2*.85)+.05*this.spring.y,this.spriteArmLeft.tick+=this.spriteArmLeft.speed,this.spriteArmLeft.rotation=.5*Math.cos(this.spriteArmLeft.tick/10),this.spriteArmRight.tick+=this.spriteArmRight.speed,this.spriteArmRight.rotation=.5*Math.sin(this.spriteArmRight.tick/10),this.spriteLegLeft.tick+=this.spriteLegLeft.speed,this.spriteLegLeft.rotation=.2*Math.cos(this.spriteLegLeft.tick/5),this.spriteLegRight.tick+=this.spriteLegRight.speed,this.spriteLegRight.rotation=.2*Math.sin(this.spriteLegRight.tick/5)},e}(l.Container);e.default=f,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=(r(u),i(87)),h=n(l),c=i(353),f=n(c),d=i(687),p=n(d),y=i(104),v=n(y),m=i(88),g=n(m),_=function(t){function e(i){o(this,e);var n=new g.default(ASSET_URL+"image/title/title_bg_candy.png",ASSET_URL+"image/translations/title_candy.png"),r=a(this,t.call(this,"candy",3,ASSET_URL+"image/title/candy_bg.jpg",n,i));r.indexCandy=0,r.playRatio.set(.5,.2),r.world=new p.default.World({gravity:[0,-9.82]}),r.interactive=!0,r.mousedown=r.touchstart=r._onMouseDown.bind(r),r.mouseup=r.touchend=r.mouseupoutside=r.touchendoutside=r._onMouseUp.bind(r),r.mousemove=r.touchmove=r._onMouseMove.bind(r),r.tilt=0,r.world.defaultContactMaterial.friction=.4,r.world.defaultContactMaterial.restitution=.5,r.candies=[],r.candys=[{body:"candy_01_body.png",arm:"candy_01_arm.png",leg:"candy_01_leg.png",pivot:{x:27,y:74},posArms:{x:-55,y:0}},{body:"candy_02_body.png",arm:"candy_02_arm.png",leg:"candy_02_leg.png",pivot:{x:14,y:28},posArms:{x:-15,y:0}},{body:"candy_03_body.png",arm:"candy_03_arm.png",leg:"candy_03_leg.png",pivot:{x:37,y:18},posArms:{x:-25,y:15}},{body:"candy_04_body.png",arm:"candy_04_arm.png",leg:"candy_04_leg.png",pivot:{x:21,y:50},posArms:{x:-30,y:0}},{body:"candy_05_body.png",arm:"candy_05_arm.png",leg:"candy_05_leg.png",pivot:{x:11,y:11},posArms:{x:-35,y:-10}},{body:"candy_06_body.png",arm:"candy_06_arm.png",leg:"candy_06_leg.png",pivot:{x:14,y:5},posArms:{x:-20,y:15}},{body:"candy_07_body.png",arm:"candy_07_arm.png",leg:"candy_07_leg.png",pivot:{x:14,y:5},posArms:{x:-17.5,y:0}}],r.tempCandies=[];for(var s=9;s>=0;s--){var u=r.addCandy();r.candies.push(u)}r.floor=new p.default.Body({mass:0,position:[0,-550]}),r.floor.addShape(new p.default.Plane),r.world.addBody(r.floor);var l=new p.default.Body({mass:0,type:p.default.Body.KINEMATIC,angle:-Math.PI/6,position:[480,-313]});l.addShape(new p.default.Plane),r.world.addBody(l);var h=new p.default.Body({mass:0,type:p.default.Body.KINEMATIC,angle:Math.PI/6,position:[480,-313]});h.addShape(new p.default.Plane),r.world.addBody(h),r.flyingV=l,r.flyingV2=h,r.leftWall=new p.default.Body({mass:0,angle:-Math.PI/2,position:[0,0]}),r.leftWall.addShape(new p.default.Plane),r.world.addBody(r.leftWall),r.rightWall=new p.default.Body({mass:0,angle:Math.PI/2,position:[960,0]}),r.rightWall.addShape(new p.default.Plane),r.world.addBody(r.rightWall),r.bg.pivot.y=100,r.finger=new p.default.Body({mass:.01,position:[2e3,250]});var c=120,f=new p.default.Circle(c);return r.finger.addShape(f),r.world.addBody(r.finger),r.delayedCalls=new v.default,r}return s(e,t),e.prototype.init=function(){t.prototype.init.call(this)},e.prototype._onMouseDown=function(t){this.isMouseDown=!0},e.prototype._onMouseMove=function(t){if(this.isMouseDown){var e=t.data.getLocalPosition(this);this.finger.position[0]=e.x,this.finger.position[1]=-e.y}},e.prototype._onMouseUp=function(t){this.isMouseDown=!1,this.finger.position[0]=2e3,this.finger.position[1]=2e3},e.prototype.expand=function(){t.prototype.expand.call(this);for(var e=0;e<this.tempCandies.length;e++){var i=this.tempCandies[e];i.body.position[1]=1e3,this.world.addBody(i.body),i.addToWorld()}if(0===this.tempCandies.length)for(var e=0;e<10;e++){var n=this.addCandy(0,this.w,!0);this.tempCandies.push(n)}TweenLite.to(this.bg.pivot,.5,{y:0,ease:Sine.easeInOut,delay:.2}),TweenLite.to(this.flyingV.position,.9,{1:-826}),TweenLite.to(this.flyingV2.position,.9,{1:-826})},e.prototype.collapse=function(){t.prototype.collapse.call(this);for(var e=0;e<this.tempCandies.length;e++){var i=this.tempCandies[e];this.world.removeBody(i.body),i.removeFromWorld()}TweenLite.to(this.bg.pivot,.5,{y:100,ease:Sine.easeInOut,delay:0}),TweenLite.to(this.flyingV.position,.9,{1:-313}),TweenLite.to(this.flyingV2.position,.9,{1:-313})},e.prototype.addCandy=function(t,e){var i=new f.default(this.candys[this.indexCandy%this.candys.length]);this.indexCandy++;var n=i.spriteBody.width/2*.9,r=new p.default.Body({mass:2,damping:0,position:[512+10*Math.random(),-200+100*this.candies.length]});return(t||e)&&(r.position[0]=Math.random()*e-t),r.addShape(new p.default.Circle({radius:n})),i.body=r,i.tick=100*Math.random(),this.world.addBody(r),this.addChildAt(i,1),i},e.prototype.update=function(e){t.prototype.update.call(this,e);var i=-9.82;this.world.gravity[0]=Math.sin(e*Math.PI/180)*i,this.world.gravity[1]=Math.cos(e*Math.PI/180)*i;var n=1,r=1/60*10,o=1;this.world.step(r,n,o);for(var a=0;a<this.candies.length;a++){var s=this.candies[a];s.position.x=s.body.interpolatedPosition[0],s.position.y=-s.body.interpolatedPosition[1],s.container.rotation=-s.body.angle,s.update()}for(var a=0;a<this.tempCandies.length;a++){var u=this.tempCandies[a];u.position.x=u.body.interpolatedPosition[0],u.position.y=-u.body.interpolatedPosition[1],u.container.rotation=-u.body.angle,u.update()}},e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i),this.leftWall.position[0]=0,this.rightWall.position[0]=e,this.floor.position[0]=e/2,this.floor.position[1]=-i,this.flyingV.position[0]=e/2,this.flyingV2.position[0]=e/2},e}(h.default);e.default=_,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(59),c=(n(h),function(t){function e(){o(this,e);var i=a(this,t.call(this)),n=["fire_particle_1.png","fire_particle_2.png"];return i.tick=0,i.view=new l.Sprite.fromFrame(n[Math.floor(Math.random()*n.length)]),i.view.anchor.x=i.view.anchor.y=.5,i.addChild(i.view),i}return s(e,t),e.prototype.reset=function(){this.speed=-5-15*Math.random(),this.speedR=.5*Math.random()-.25,this.frequency=10*Math.random()+20,this.amplitudeX=120*Math.random()+5,this.scale.set(.9*Math.random()+.4),this.alpha=.2*Math.random()+.8},e.prototype.update=function(){this.tick++,this.view.position.x=Math.cos(this.tick/this.frequency)*this.amplitudeX,this.view.rotation+=this.speedR,this.position.y+=this.speed,this.speedR*=.99},e}(l.Container));e.default=c,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(59),c=(n(h),i(355)),f=n(c),d=function(t){function e(){o(this,e);var i=a(this,t.call(this));return i.tick=0,i.delay=1,i.dustParticles=[],i.poolDustParticles=[],i}return s(e,t),e.prototype.generate=function(){for(var t=Math.ceil(8*Math.random())+2,e=0;e<t;e++){var i=this.poolDustParticles.pop()||new f.default;i.position.x=1100*Math.random(),
i.position.y=650,i.alpha=.1*Math.random()+.9,i.scale.set(.8*Math.random()+.6),i.reset(),this.dustParticles.push(i),this.addChild(i)}},e.prototype.explode=function(t){for(var e=40,i=0;i<e;i++){var n=this.poolDustParticles.pop()||new f.default;n.position.x=t.x+100*Math.random()-50,n.position.y=t.y+200*Math.random(),n.reset(),n.frequency=10*Math.random()+10,n.amplitudeX=120*Math.random()+25,this.dustParticles.push(n),this.addChild(n)}},e.prototype.update=function(){this.tick++,this.tick>60*this.delay&&(this.tick=0,this.generate(),this.delay=Math.random());for(var t=0;t<this.dustParticles.length;t++){var e=this.dustParticles[t];e.update(),e.position.y<=-10&&(this.removeChild(e),this.poolDustParticles.push(e),this.dustParticles.splice(t,1),t--)}},e}(l.Container);e.default=d,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(87),c=n(h),f=i(14),d=n(f),p=i(59),y=n(p),v=i(88),m=n(v),g=i(356),_=n(g),b=i(11),w=n(b),x=function(t){function e(i){o(this,e);var n=new m.default(ASSET_URL+"image/title/title_bg_fire.png",ASSET_URL+"image/translations/title_fire.png"),r=a(this,t.call(this,"fire",2,ASSET_URL+"image/title/fire_bg.jpg",n,i));r.delayExplosion=120*Math.random()+60,r.playRatio.set(.8,.5),r.homeRatio=new l.Point(.5,.7),r.textures=d.default.getTexturesFromFramesWithPrefix("fire_02_00%%.png",20,1),r.fires=[];for(var s=0;s<20;s++){var u=new T(r.textures);r.fires.push(u),r.addChildAt(u,1+y.default.randomInt(r.children.length-1)),u.x=s/20*1024,u.y=y.default.random(600,750),u.anchor.set(.5,.9),u.scale.set(2*y.default.random(.25,.8)),y.default.randomChance(.5)&&(u.scale.x*=-1)}return r.fireParticleManager=new _.default,r.fireParticleManager.blendMode=l.isWebGL&&w.default.instance.desktop?l.BLEND_MODES.ADD:0,r.addChild(r.fireParticleManager),r}return s(e,t),e.prototype.particleExposion=function(){var t={x:1200*Math.random(),y:1200};this.fireParticleManager.explode(t)},e.prototype.update=function(e){t.prototype.update.call(this,e),e*=Math.PI/180;for(var i=0;i<this.fires.length;i++)this.fires[i].rotation=e,this.fires[i].update();this.fireParticleManager.update(),this.delayExplosion--,this.delayExplosion<0&&(this.delayExplosion=120*Math.random()+60,this.particleExposion())},e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i),this.titlePositionY=this.h/2-30,this._titleGame.position.y=this.titlePositionY*(1-this.ratio)},e}(c.default);e.default=x;var T=function(t){function e(i){o(this,e);var n=a(this,t.call(this,i[0]));return n.tick=100*Math.random(),n.speed=1*y.default.random(.4,.6),n.textures=i,n}return s(e,t),e.prototype.update=function(){this.tick+=this.speed,this._texture=this.textures[this.tick%this.textures.length|0]},e}(l.Sprite);t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(59),c=(n(h),i(104)),f=n(c),d=function(t){function e(){o(this,e);var i=a(this,t.call(this));return i.interactive=!0,i.buttonMode=!0,i.click=i.tap=i._onClick.bind(i),i.tick=0,i.scale.set(.5),i.body=l.Sprite.from("ice_king_body.png"),i.head=l.Sprite.from("ice_king_head_02.png"),i.head.textureNice=l.Texture.from("ice_king_head_02.png"),i.head.textureAngry=l.Texture.from("ice_king_head.png"),i.head.anchor.set(.5,.4),i.head.position.set(110,10),i.rightArm=l.Sprite.from("ice_king_arm.png"),i.rightArm.anchor.set(.9,.95),i.rightArm.position.set(170,50),i.leftArm=l.Sprite.from("ice_king_arm.png"),i.leftArm.anchor.set(.9,.95),i.leftArm.position.set(40,50),i.rightArm.scale.x=-1,i.rightArm.addChild((new l.Graphics).beginFill(16711680).drawCircle(0,0,10)),i.leftArm.addChild((new l.Graphics).beginFill(16711680).drawCircle(0,0,10)),window.head=i.head,window.rightArm=i.rightArm,window.leftArm=i.leftArm,i.addChild(i.rightArm,i.leftArm,i.body,i.head),i.targetRots={left:0,right:0,head:0},i.animationsArms={goLeft:{left:-30*Math.PI/180,right:-32*Math.PI/180,scale:{x:1,y:1},updateMethod:i.updateClassicMove.bind(i)},goRight:{left:30*Math.PI/180,right:32*Math.PI/180,scale:{x:1,y:1},updateMethod:i.updateClassicMove.bind(i)}},i.currentUpdate=function(){},i.delayedCalls=new f.default,i}return s(e,t),e.prototype._onClick=function(){var t=this;this.head.texture=this.head.textureAngry,this.delayedCalls.clear(),this.delayedCalls.add(function(){t.head.texture=t.head.textureNice},2)},e.prototype.changeDirection=function(t){t>0?(this.targetRots.left=this.animationsArms.goLeft.left,this.targetRots.right=this.animationsArms.goLeft.right,this.targetRots.head=-20*Math.PI/180,this.currentUpdate=this.animationsArms.goLeft.updateMethod):(this.targetRots.left=this.animationsArms.goRight.left,this.targetRots.right=this.animationsArms.goRight.right,this.targetRots.head=20*Math.PI/180,this.currentUpdate=this.animationsArms.goLeft.updateMethod)},e.prototype.updateClassicMove=function(){this.tick++,this.targetRots.right+=Math.cos(this.tick/15)*(1*Math.PI/180),this.targetRots.left+=Math.sin(this.tick/15)*(1*Math.PI/180),this.rightArm.rotation+=.1*(this.targetRots.right-this.rightArm.rotation),this.leftArm.rotation+=.1*(this.targetRots.left-this.leftArm.rotation)},e.prototype.update=function(t){this.currentUpdate(),this.head.rotation+=.1*(this.targetRots.head-this.head.rotation)},e}(l.Container);e.default=d,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(87),c=n(h),f=i(59),d=n(f),p=i(358),y=n(p),v=i(88),m=n(v),g=i(11),_=n(g),b=function(t){function e(i){o(this,e);var n=new m.default(ASSET_URL+"image/title/title_bg_ice.png",ASSET_URL+"image/translations/title_ice.png"),r=a(this,t.call(this,"ice",0,ASSET_URL+"image/title/ice_bg.jpg",n,i));r.playRatio.set(.2,.5),r.desktopTargetX=400,r.tick=0,r.tiltDesktop=0,r.delay=10,r.delayShowPenguin=120*Math.random()+40,r.slidyThings=[],r.bgGame=new l.Sprite.from(ASSET_URL+"image/title/ice_bg.jpg"),r.bgGame.anchor.set(.5),r.addChildAt(r.bgGame,1),r.originalWitdh=r.bgGame.width,r.originalHeight=r.bgGame.height;var s=new l.Sprite.from("ice_penguin_01.png");s.textures=[l.Texture.from("ice_penguin_01.png"),l.Texture.from("ice_penguin_02.png")],s.counter=0,s.speed=.09,s.anchor.set(.5),r.bgGame.addChild(s);var u=new l.Sprite.from("ice_penguin_03.png");return u.anchor.set(.5),r.bgGame.addChild(u),r.penguins=[s,u],r.addSlidyThing(100),r.foreground1=new l.Sprite.from("ice_foreground_01.png"),r.foreground1.position.x=-r.bgGame.width/2,r.foreground1.originalHeight=r.foreground1.height,r.foreground1.anchor.y=.5,r.bgGame.addChild(r.foreground1),r.foreground2=new l.Sprite.from("ice_foreground_02.png"),r.foreground2.originalHeight=r.foreground2.height,r.foreground2.position.x=r.bgGame.width/2,r.foreground2.position.y=r.bgGame.height/2,r.foreground2.anchor.x=1,r.foreground2.anchor.y=1,r.bgGame.addChild(r.foreground2),r.iceVignette=new l.Sprite.from("ice_vignette.png"),r.addChild(r.iceVignette),r.addChild(r.playButton.view),r.addChild(r.closeButton.view),r.penguinAnimating=!1,r.areaFactor=1,r}return s(e,t),e.prototype.addSlidyThing=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:480;this.iceKing=new y.default,this.bgGame.addChild(this.iceKing),this.iceKing.slide={vx:200,maxX:512,minX:-512,mass:1},this.slidyThings.push(this.iceKing),this.iceKing.y=t,this.iceKing.x=e},e.prototype.moveKing=function(){var t=-this.w/4+Math.random()*this.w/2-this.w/2.5*this.areaFactor;this.desktopTargetX=t,this.iceKing.changeDirection(t-this.iceKing.x)},e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i),this.iceKing.slide.maxX=this.w/2,this.iceKing.slide.minX=-this.w/2;var n=i/this.originalHeight,r=e/this.originalWitdh;this.bgGame.scale.set(Math.max(n,r)),this.bgGame.position.x=e/2,this.bgGame.position.y=i/2,this.iceVignette.width=e,this.iceVignette.height=i},e.prototype.slidePenguins=function(){var t=this,e=Math.random()>.5,i=this.penguins[Math.floor(Math.random()*this.penguins.length)];this.currentPeng=i,this.direction=!e;var n=void 0;e?(this.currentPeng.position.x=this.w/2+100,this.currentPeng.textures?this.currentPeng.scale.x=1:this.currentPeng.scale.x=-1,n=-this.w/2-100):(this.currentPeng.position.x=-this.w/2-100,this.currentPeng.textures?this.currentPeng.scale.x=-1:this.currentPeng.scale.x=1,n=this.w/2+120),this.currentPeng.position.y=180,TweenLite.to(this.currentPeng.position,4,{x:n,onComplete:function(){t.penguinAnimating=!1}}),this.penguinAnimating=!0},e.prototype.collapse=function(){t.prototype.collapse.call(this),this.areaFactor=1},e.prototype.expand=function(){t.prototype.expand.call(this),this.areaFactor=0},e.prototype.update=function(e){if(t.prototype.update.call(this,e),_.default.instance.desktop)this.tick++,this.iceKing.position.x+=.02*(this.desktopTargetX-this.iceKing.position.x),this.delay--,this.delay<0&&(this.delay=120*Math.random()+120,this.moveKing()),e=this.tiltDesktop;else{e*=(_.default.instance.android,-.1);for(var i=this.slidyThings.length-1;i>=0;i--){var n=this.slidyThings[i],r=n.slide;r.vx+=e,n.x+=r.vx,r.vx=d.default.cap(r.vx,-10,10),n.x>r.maxX?(r.vx*=-.8,n.x=r.maxX):n.x<r.minX&&(r.vx*=-.8,n.x=r.minX)}e*this.lastTilt<0&&this.iceKing.changeDirection(e),this.lastTilt=e}if(this.iceKing.update(),this.penguinAnimating&&this.currentPeng&&this.currentPeng.textures){this.currentPeng.counter+=this.currentPeng.speed;var o=Math.floor(this.currentPeng.counter%this.currentPeng.textures.length);this.currentPeng.texture=this.currentPeng.textures[o]}this.penguinAnimating||(this.delayShowPenguin--,this.delayShowPenguin<0&&(this.slidePenguins(),this.delayShowPenguin=120*Math.random()+60))},e}(c.default);e.default=b,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(87),c=(n(h),i(3)),f=n(c),d=i(332),p=n(d),y=new l.Point,v=new l.Point,m=new l.Point,g=function(t){function e(){o(this,e);var i=a(this,t.call(this));i.center=new l.Point;var n=1024,r=1024;return i.left=new l.Graphics,i.leftPoly=new l.Polygon(0,0,n/2,r/2,0,r,-n,r,-n,0),i.top=new l.Graphics,i.topPoly=new l.Polygon(0,0,n/2,r/2,n,0,n,-r-100,0,-r-100),i.right=new l.Graphics,i.rightPoly=new l.Polygon(n,0,n/2,r/2,n,r,n+n,r,n+n,0),i.bottom=new l.Graphics,i.bottomPoly=new l.Polygon(0,r,n/2,r/2,n,r,n,r+r+100,0,r+r+100),i.maskContainer=new l.Container,i.scaleContainer=new l.Container,i.addChild(i.maskContainer),i.maskContainer.addChild(i.scaleContainer),i.left.position.set(-n/2,-r/2),i.top.position.set(-n/2,-r/2),i.right.position.set(-n/2,-r/2),i.bottom.position.set(-n/2,-r/2),i.scaleContainer.addChild(i.left,i.right,i.top,i.bottom),i.scaleContainer.position.set(n/2,r/2),i.w=1024,i.h=1024,i.redraw(),i.onOpenBegin=new f.default,i.onOpenComplete=new f.default,i.onCloseBegin=new f.default,i.onCloseComplete=new f.default,i.line1=l.Sprite.from("crossbar.png"),i.line1.anchor.y=.5,i.line1.scale.set(.5),i.addChild(i.line1),i.line2=l.Sprite.from("crossbar.png"),i.line2.anchor.y=.5,i.line2.scale.set(.5),i.addChild(i.line2),i.logo=new p.default,i.addChild(i.logo),i}return s(e,t),e.prototype.openTop=function(){var t=this;this.onOpenBegin.dispatch(),TweenLite.to(this.pivot,.7,{y:-1024,ease:Back.easeIn,onComplete:function(){t.onOpenComplete.dispatch()}}),TweenLite.to(this.scaleContainer.scale,.5,{y:1.5,ease:Back.easeIn})},e.prototype.openBottom=function(){var t=this;this.onOpenBegin.dispatch(),TweenLite.to(this.pivot,.7,{y:1024,ease:Back.easeIn,onComplete:function(){t.onOpenComplete.dispatch()}}),TweenLite.to(this.scaleContainer.scale,.5,{y:1.5,ease:Back.easeIn})},e.prototype.openLeft=function(){var t=this;this.onOpenBegin.dispatch(),TweenLite.to(this.pivot,.7,{x:-1024,ease:Back.easeIn,onComplete:function(){t.onOpenComplete.dispatch()}}),TweenLite.to(this.scaleContainer.scale,.5,{x:1.5,ease:Back.easeIn})},e.prototype.openRight=function(){var t=this;this.onOpenBegin.dispatch(),TweenLite.to(this.pivot,.7,{x:1024,ease:Back.easeIn,onComplete:function(){t.onOpenComplete.dispatch()}}),TweenLite.to(this.scaleContainer.scale,.5,{x:1.5,ease:Back.easeIn})},e.prototype.close=function(){var t=this;this.onCloseBegin.dispatch(),TweenLite.to(this.pivot,.7,{x:0,y:0,ease:Back.easeOut,onComplete:function(){t.onCloseComplete.dispatch()}}),TweenLite.to(this.scaleContainer.scale,.5,{x:1,y:1,ease:Back.easeOut})},e.prototype.update=function(){y.set(-512,-512);var t=this.toLocal(y,this.scaleContainer,v,!0);y.set(512,512);var e=this.toLocal(y,this.scaleContainer,m,!0),i=t.x-e.x,n=t.y-e.y,r=Math.sqrt(i*i+n*n),o=Math.atan2(n,i)+Math.PI;this.line1.rotation=o,this.line1.position.x=t.x,this.line1.position.y=t.y,this.line1.scale.x=r/1900,y.set(512,-512);var a=this.toLocal(y,this.scaleContainer,v,!0);y.set(-512,512);var s=this.toLocal(y,this.scaleContainer,m,!0),i=a.x-s.x,n=a.y-s.y,r=Math.sqrt(i*i+n*n),o=Math.atan2(n,i)+Math.PI;this.line2.rotation=o,this.line2.position.x=a.x,this.line2.position.y=a.y,this.line2.scale.x=r/1900,y.set(0);var u=this.toLocal(y,this.scaleContainer,m,!0);this.logo.position.x=u.x,this.logo.position.y=u.y},e.prototype.redraw=function(){this.left.clear().beginFill(16711680).drawShape(this.leftPoly),this.right.clear().beginFill(16711935).drawShape(this.rightPoly),this.top.clear().beginFill(65280).drawShape(this.topPoly),this.bottom.clear().beginFill(255).drawShape(this.bottomPoly)},e.prototype.resize=function(t,e){this.w=t,this.h=e,this.maskContainer.scale.set(t/1024,e/1024)},e}(l.Container);e.default=g,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(87),c=n(h),f=i(362),d=n(f),p=i(366),y=n(p),v=i(88),m=n(v),g=function(t){function e(i){o(this,e);var n=new m.default(ASSET_URL+"image/title/title_bg_slime.png",ASSET_URL+"image/translations/title_slime.png"),r=a(this,t.call(this,"slime",1,ASSET_URL+"image/title/slime_bg.jpg",n,i));r.playRatio.set(.5,.8),r.bg.pivot.y=-200;var s=50;r.fluid=new d.default(1024,500,s),r.lumps=[];var u=new y.default;u.resolution=.05,r.fluidContainer=new l.Container,r.fluidContainer.alpha=.8,r.fluidContainer.filterArea=new l.Rectangle(0,300,1124,500),r.fluidContainer.filterArea.width=window.renderer.width,r.fluidContainer.filterArea.height=window.renderer.height,r.fluidContainer.filters=[u],r.fluidContainer.x=-100,r.addChildAt(r.fluidContainer,1);for(var h=0;h<s;h++){var c=new l.Sprite.from("slimeBlob.png");r.fluidContainer.addChild(c),r.lumps.push(c),c.scale.set(3),r.fluid.pour(512+400*Math.random(),-500*Math.random())}return r.tick=0,r.foreground=new l.Sprite.from(ASSET_URL+"image/title/slime_foreground.png"),r.foreground.alpha=1,r.foreground.anchor.y=1,r.addChild(r.foreground),r.addChild(r.playButton.view),r}return s(e,t),e.prototype.update=function(e){t.prototype.update.call(this,e),this.tick+=.01,this.fluid.particles[0].vx+=2*Math.sin(this.tick),this.fluid.particles[0].vy+=2*Math.cos(this.tick),this.fluid.direction.x=Math.sin(-e*Math.PI/180),this.fluid.direction.y=Math.cos(-e*Math.PI/180),this.fluid.update();for(var i=0;i<this.lumps.length;i++)this.lumps[i].position.x=this.fluid.data[3*i],this.lumps[i].position.y=this.fluid.data[3*i+1]},e.prototype.expand=function(){t.prototype.expand.call(this),TweenLite.to(this.bg.pivot,.35,{y:0,ease:Sine.easeInOut,delay:.25}),this.fluidContainer.filterArea.x=0,this.fluidContainer.filterArea.y=0,this.fluidContainer.filterArea.width=window.renderer.width,this.fluidContainer.filterArea.height=window.renderer.height},e.prototype.collapse=function(){t.prototype.collapse.call(this),TweenLite.to(this.bg.pivot,.3,{y:-200,ease:Sine.easeInOut,delay:.1}),this.fluidContainer.filterArea.x=0,this.fluidContainer.filterArea.y=window.renderer.height/2,this.fluidContainer.filterArea.width=window.renderer.width,this.fluidContainer.filterArea.height=window.renderer.height/2},e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i),this.fluidContainer.y=i-580,this.foreground.position.y=i,this.foreground.width=e},e}(c.default);e.default=g,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=i(103),a=n(o),s=i(363),u=n(s),l=i(364),h=n(l),c=i(365),f=n(c),d=function(){function t(e,i,n){r(this,t),this.width=e,this.height=i,this.particlesNumber=0,this.maxParticles=n,this.neighborsNumber=0,this.direction={x:0,y:1},this.data=new Float32Array(3*n),a.default.RANGE_SQ=a.default.RANGE*a.default.RANGE,a.default.NUM_GRID=~~(this.width/a.default.RANGE),a.default.INV_GRID_SIZE=1/(this.width/a.default.NUM_GRID),this.count=0,this.particles=[],this.grids=[],this.neighbors=[];for(var o=0;o<a.default.NUM_GRID;o++){this.grids[o]=[];for(var s=0;s<a.default.NUM_GRID;s++)this.grids[o][s]=new u.default}}return t.prototype.update=function(t){this.move(t)},t.prototype.pour=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:200,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,i=0;if(this.particles[this.particlesNumber++]=new f.default(t+10*i,e,Math.random()>.5?0:1),this.particles[this.particlesNumber-1].vy=10,this.particlesNumber>=this.maxParticles){var n=this.particles.shift();this.particlesNumber--,n.head&&(this.particles[this.particlesNumber++]=n)}},t.prototype.move=function(t){this.count++,this.updateGrids(),this.findNeighbors(),this.applyForce();for(var e,i=0;i<this.particlesNumber;i++)e=this.particles[i],this.moveParticle(e),this.data[3*i]=e.x,this.data[3*i+1]=e.y,this.data[3*i+2]=e.scale},t.prototype.stopMouse=function(){this.mouseDown=!1},t.prototype.onMouseMove=function(){},t.prototype.onMouseDown=function(t){this.mouseDown=!0},t.prototype.onMouseUp=function(t){this.mouseDown=!1},t.prototype.updateGrids=function(){for(var t=0;t<a.default.NUM_GRID;t++)for(var e=0;e<a.default.NUM_GRID;e++)this.grids[t][e].particles.length=0,this.grids[t][e].particlesNumber=0;var i;for(t=0;t<this.particlesNumber;t++)i=this.particles[t],i.fx=0,i.fy=0,i.density=0,i.densityNear=0,i.gx=Math.min(a.default.NUM_GRID-1,Math.max(0,~~(i.x*a.default.INV_GRID_SIZE))),i.gy=Math.min(a.default.NUM_GRID-1,Math.max(0,~~(i.y*a.default.INV_GRID_SIZE)))},t.prototype.findNeighbors=function(){var t;this.neighborsNumber=0;for(var e=0;e<this.particlesNumber;e++){t=this.particles[e];var i=0!==t.gx,n=t.gx!=a.default.NUM_GRID-1,r=0!==t.gy,o=t.gy!=a.default.NUM_GRID-1;this.findNeighborsInGrid(t,this.grids[t.gx][t.gy]),i&&this.findNeighborsInGrid(t,this.grids[t.gx-1][t.gy]),n&&this.findNeighborsInGrid(t,this.grids[t.gx+1][t.gy]),r&&this.findNeighborsInGrid(t,this.grids[t.gx][t.gy-1]),o&&this.findNeighborsInGrid(t,this.grids[t.gx][t.gy+1]),i&&r&&this.findNeighborsInGrid(t,this.grids[t.gx-1][t.gy-1]),i&&o&&this.findNeighborsInGrid(t,this.grids[t.gx-1][t.gy+1]),n&&r&&this.findNeighborsInGrid(t,this.grids[t.gx+1][t.gy-1]),n&&o&&this.findNeighborsInGrid(t,this.grids[t.gx+1][t.gy+1]),this.grids[t.gx][t.gy].add(t)}},t.prototype.findNeighborsInGrid=function(t,e){for(var i,n,r=0;r<e.particlesNumber;r++)i=e.particles[r],n=(t.x-i.x)*(t.x-i.x)+(t.y-i.y)*(t.y-i.y),n<a.default.RANGE_SQ&&(this.neighbors.length==this.neighborsNumber&&(this.neighbors[this.neighborsNumber]=new h.default),this.neighbors[this.neighborsNumber++].setParticle(t,i))},t.prototype.applyForce=function(){for(var t=0;t<this.neighborsNumber;t++)this.neighbors[t].applyForce()},t.prototype.moveParticle=function(t){t.vx+=this.direction.x*a.default.GRAVITY,t.vy+=this.direction.y*a.default.GRAVITY,t.density>0&&(t.vx+=t.fx/(.9*t.density+.1),t.vy+=t.fy/(.9*t.density+.1)),t.x+=2*t.vx,t.y+=2*t.vy,t.x<5?t.vx+=.5*(5-t.x)-.5*t.vx:t.x>this.width-5&&(t.vx+=.5*(this.width-5-t.x)-.5*t.vx),t.y<5?t.vy+=.5*(5-t.y)-.5*t.vy:t.y>this.height-5&&(t.vy+=.5*(this.height-5-t.y)-.5*t.vy)},t}();e.default=d,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=i(103),a=(n(o),function(){function t(){r(this,t),this.particles=[],this.particlesNumber=0}return t.prototype.add=function(t){this.particles[this.particlesNumber++]=t},t}());e.default=a,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=i(103),a=n(o),s=function(){function t(){r(this,t),this.p1=null,this.p2=null,this.dx=0,this.dy=0,this.distance=0,this.weight=1}return t.prototype.setParticle=function(t,e){this.p1=t,this.p2=e,this.dx=t.x-e.x,this.dy=t.y-e.y,this.distance=Math.sqrt(this.dx*this.dx+this.dy*this.dy),this.weight=1-this.distance/a.default.RANGE;var i=this.weight*this.weight;t.density+=i,e.density+=i,i*=this.weight*a.default.PRESSURE_NEAR,t.densityNear+=i,e.densityNear+=i;var n=1/this.distance;this.dx*=n,this.dy*=n},t.prototype.applyForce=function(){var t,e=this.p1,i=this.p2;t=(e.density+i.density-2*a.default.DENSITY)*a.default.PRESSURE;var n=(e.densityNear+i.densityNear)*a.default.PRESSURE_NEAR,r=this.weight*(t+this.weight*n),o=this.weight*a.default.VISCOSITY,s=this.dx*r,u=this.dy*r;s+=(i.vx-e.vx)*o,u+=(i.vy-e.vy)*o,e.fx+=s,e.fy+=u,i.fx-=s,i.fy-=u},t}();e.default=s,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=i(103),a=n(o),s=!0,u=function t(e,i,n){switch(r(this,t),this.x=e,this.y=i,this.vx=0,this.vy=0,this.fx=0,this.fy=0,this.gx=0,this.gy=0,this.density=0,this.densityNear=0,this.scale=1+Math.random(),this.type=n,this.head=!1,s&&(this.head=!0,s=!1,this.scale=20),this.gravity=a.default.GRAVITY,n){case 0:this.color="#FF0000";break;case 1:this.color="#0000FF"}};e.default=u,t.exports=e.default},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(1),u=n(s),l=function(t){function e(){return r(this,e),o(this,t.call(this,"\n\t\tattribute vec2 aVertexPosition;\n\t\tattribute vec2 aTextureCoord;\n\n\t\tuniform mat3 projectionMatrix;\n\n\t\tvarying vec2 vTextureCoord;\n\n\t\tvoid main(void)\n\t\t{\n\t\t    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\t\t    vTextureCoord = aTextureCoord;\n\t\t}","\n\t\tprecision mediump float;\n\n\t    varying vec2 vTextureCoord;\n\n\t    uniform sampler2D uSampler;\n\n\t    void main() {\n\n\t        float strength = texture2D(uSampler, vTextureCoord).a;\n\t        float alpha = strength;\n\n\t        vec4 slimeColor = vec4(225., 233., 0, 255.) / 255.;\n\t        vec4 slimeColorDark = vec4(157., 165., 0, 255.) / 255.;\n\n\t        slimeColor *= 0.7;\n\t        slimeColorDark *= 0.7;\n\n\t        if(strength > 0.9)\n\t        {\n\t        \tstrength = 1.;\n\t        \talpha = 1.;\n\t        }\n\t        else if(strength > 0.5)\n\t        {\n\t        \tstrength = smoothstep(0.5, 0.9, strength);\n\t        \talpha = 1.;\n\t        }\n\t        else\n\t        {\n\t        \tstrength = 0.;\n\t        \talpha = 0.;\n\t        }\n\n\t        vec4 finalColor = mix(slimeColorDark, slimeColor, strength);\n\n\t        gl_FragColor =  finalColor * alpha;\n\n\t    }"))}return a(e,t),e}(u.Filter);e.default=l,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=i(121),a=n(o),s=i(3),u=n(s),l=function(){this.levelStates=[1,0,0,0,0,0,0],this.levelBestScores=[0,0,0,0,0,0,0],this.tutorials=[0,0,0,0,0,0,0],this.totalScore=0},h=function(){function t(){r(this,t),this.onLoaded=new u.default,this.localStorage=new a.default("com.oneeyedrhino.filmclub"),this.save=null}return t.prototype.loadGame=function(){this.loadGameFromLocalStorage()},t.prototype.loadGameFromLocalStorage=function(){var t=this.localStorage.getObject("save");t||(t=new l,this.localStorage.storeObject("save",t)),this.save=t,this.onLoaded.dispatch()},t.prototype.isPB=function(t,e){var i=this.save.levelBestScores[t];return e>i},t.prototype.getPB=function(t){var e=this.save.levelBestScores[t];return e},t.prototype.unlockLevel=function(t,e){return this.save.levelBestScores[t-1]>=e&&(0!==this.save.levelStates[t]||(this.save.levelStates[t]=1,this.saveToStorage(),!0))},t.prototype.saveScore=function(t,e){var i=this.save.levelBestScores[t];if(this.save.totalScore=this.save.totalScore||0,this.save.totalScore+=e,e>i){for(var n=0;n<this.save.levelBestScores.length;n++){var r=this.save.levelBestScores[n];e>r&&window.Highscores&&window.UserDetails.isUserSignedIn()&&window.Highscores.setUserScore(function(t){},function(t){},["allatbreak_overall"],[e])}this.save.levelBestScores[t]=e}window.Highscores&&window.UserDetails.isUserSignedIn()&&window.Highscores.setUserScore(function(t){},function(t){},["allatbreak_total"],[this.save.totalScore]),this.saveToStorage()},t.prototype.saveToStorage=function(){window.Data&&this.localStorage.storeObject("save",this.save)},t}();h.instance=new h,t.exports=h},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=i(121),a=n(o),s=function(){function t(e){r(this,t),this.debug=!0,this.waiting=!1,this.lc=new a.default(e||"com.goodboydigitalrc6")}return t.prototype.load=function(t,e){e=e||"game-save-cleany-rc6",this.original=JSON.stringify(t);var i=void 0;i||(i=t),this.key=e,this.object=t,this.map(t,i);var n=this.collectDynamicProperties(t,[]);this.createGetterSetters(n),this.debug},t.prototype.reset=function(){var t=JSON.parse(this.original);this.map(this.object,t)},t.prototype.map=function(t,e){for(var i in t){var n=t[i];void 0==e[i]?e[i]=n:(n instanceof Array||n instanceof Object)&&this.map(n,e[i]),"__"===i.substr(0,2)&&(t[i]=e[i])}},t.prototype.collectDynamicProperties=function(t,e){for(var i in t){var n=t[i];(n instanceof Array||n instanceof Object)&&this.collectDynamicProperties(n,e),"__"===i.substr(0,2)&&e.push({object:t,id:i})}return e},t.prototype.createGetterSetters=function(t){var e=this.waitAndSave.bind(this);t.forEach(function(t){Object.defineProperty(t.object,t.id.substr(2),{get:function(){return this[t.id]},set:function(i){this[t.id]!==i&&(this[t.id]=i,e())}})})},t.prototype.waitAndSave=function(){this.waiting||(this.waiting=!0,this.waiting=!1,this.save())},t.prototype.save=function(){this.debug},t}();e.default=s,t.exports=e.default},function(t,e,i){"use strict";e.__esModule=!0;var n=(i(23),function(t){t.addItemInventory=function(t){return this.object.inventory.push(t),this.object.inventory},t.removeItemInventory=function(t){for(var e=0;e<this.object.inventory.length;e++){var i=this.object.inventory[e];if(i===t){this.object.inventory.splice(e,1);break}}return this.object.inventory},t.setMission=function(t){this.object.mission=t},t.setCredits=function(t){this.object.credits=t}});e.default=n,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=i(1),s=r(a),u=i(14),l=n(u),h=i(18),c=n(h),f=function(){function t(){o(this,t),this.textures=l.default.getTexturesFromFramesWithPrefix("loading_000%%.png",41,1),this.cloud=new s.Sprite(this.textures[0]),this.cloud.anchor.set(.5),this.frame=0,this.fadingIn=!1}return t.prototype.begin=function(t,e,i){this.screenManager=t,
this.currentScreen=e,this.nextScreen=i,this.currentScreen?(this.currentScreen.onHide&&this.currentScreen.onHide(),this.frame=0,this.fadingIn=!0,TweenLite.to(this,1,{frame:this.textures.length,ease:Sine.easeInOut}),c.default.instance.add(this.update,this),this.screenManager.container.addChild(this.cloud)):(this.onFadeout(),this.onFadein())},t.prototype.update=function(){this.fadingIn?this.frame>=this.textures.length&&(TweenLite.to(this,1,{frame:0,ease:Sine.easeInOut}),this.onFadeout(),this.frame=this.textures.length-1,this.fadingIn=!1,this.cloud.scale.x*=-1,this.cloud.scale.y*=-1):this.frame<=0&&(this.frame=0,this.onFadein()),this.cloud._texture=this.textures[0|this.frame],this.screenManager.container.addChild(this.cloud)},t.prototype.onFadeout=function(){this.currentScreen&&(this.currentScreen.onHidden&&this.currentScreen.onHidden(),this.screenManager.container.removeChild(this.currentScreen),this.currentScreen.alpha=1),this.nextScreen.onShow&&this.nextScreen.onShow(),this.nextScreen.resize&&this.nextScreen.resize(this.screenManager.w,this.screenManager.h),this.screenManager.container.addChild(this.nextScreen),this.screenManager.container.addChild(this.cloud)},t.prototype.onFadein=function(){c.default.instance.remove(this.update,this),this.currentScreen!=this.nextScreen&&this.screenManager.container.removeChild(this.currentScreen),this.nextScreen.onShown&&this.nextScreen.onShown(),this.screenManager.onTransitionComplete()},t.prototype.onResize=function(t,e){this.w===t&&this.h===e||(this.w=t,this.h=e,this.cloud.x=t/2,this.cloud.y=e/2,this.cloud.scale.x=t/this.textures[this.textures.length-1].frame.width,this.cloud.scale.y=e/this.textures[this.textures.length-1].frame.height)},t}();e.default=f,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var r=i(672),o=n(r),a=i(18),s=n(a),u=function(){this.bouncer=new o.default,this.bouncer.bounce=.6,this.bouncer.gravity=3,this.bounceCount=0};u.constructor=u,u.prototype.begin=function(t,e,i){this.screenManager=t,this.currentScreen=e,this.nextScreen=i,s.default.instance.add(this.update,this),this.currentScreen?(this.currentScreen.onHide&&this.currentScreen.onHide(),TweenLite.to(this.currentScreen,.4,{alpha:0,onComplete:this.onFadeout.bind(this)})):this.onFadeout()},u.prototype.onFadeout=function(){this.currentScreen&&(this.currentScreen.onHidden&&this.currentScreen.onHidden(),this.screenManager.container.removeChild(this.currentScreen),this.currentScreen.alpha=1),this.nextScreen.alpha=1,this.nextScreen.rotation=.05,this.nextScreen.onShow&&this.nextScreen.onShow(),this.nextScreen.resize&&this.nextScreen.resize(this.screenManager.w,this.screenManager.h),this.bouncer.bounce=.6,this.bouncer.x=-600,this.nextScreen.pivot.y=-this.bouncer.x,this.bounceCount=0,this.screenManager.container.addChild(this.nextScreen)},u.prototype.onFadein=function(){this.nextScreen.onShown&&this.nextScreen.onShown(),this.screenManager.onTransitionComplete()},u.prototype.update=function(){var t=this.bouncer.update();this.nextScreen.pivot.y=-this.bouncer.x,t&&(this.bounceCount++,this.nextScreen.rotation*=-.6,3===this.bounceCount&&(this.bouncer.bounce=0,this.nextScreen.rotation=0,s.default.instance.remove(this.update,this),this.nextScreen.pivot.y=0,this.nextScreen.rotation=0,this.onFadein()))},u.prototype.resize=function(t,e){this.w=t,this.h=e},t.exports=u},function(t,e){"use strict";!function(t,e){var i=t.animate.MovieClip,n=t.Sprite,r=t.Texture.fromFrame,o=i.extend(function(t){i.call(this,{mode:t,duration:5,loop:!1});var e=new n(r("finger")).setTransform(-61,-83.5);this.addTimedChild(e)}),a=i.extend(function(t){i.call(this,{mode:t,duration:5,loop:!1});var e=new n(r("finger")).setTransform(-61,-83.5);this.addTimedChild(e)}),s=i.extend(function(t){i.call(this,{mode:t,duration:51,loop:!1});var e=new n(r("finger")).setTransform(-61,-83.5);this.addTimedChild(e)}),u=i.extend(function(t){i.call(this,{mode:t,duration:9,loop:!1});var e=new n(r("tick")).setTransform(-90.5,-81.5);this.addTimedChild(e)}),l=i.extend(function(t){i.call(this,{mode:t,duration:2,loop:!1});var e=new n(r("tick")).setTransform(-90.5,-81.5);this.addTimedChild(e)}),h=i.extend(function(t){i.call(this,{mode:t,duration:2,loop:!1});var e=new n(r("tick")).setTransform(-90.5,-81.5);this.addTimedChild(e)}),c=i.extend(function(t){i.call(this,{mode:t,duration:17,loop:!1});var e=new n(r("tick")).setTransform(-90.5,-81.5);this.addTimedChild(e)}),f=i.extend(function(t){i.call(this,{mode:t,duration:5,loop:!1});var e=new n(r("finger")).setTransform(-61,-83.5);this.addTimedChild(e)}),d=i.extend(function(t){i.call(this,{mode:t,duration:5,loop:!1});var e=new n(r("finger")).setTransform(-61,-83.5);this.addTimedChild(e)}),p=i.extend(function(t){i.call(this,{mode:t,duration:52,loop:!1});var e=new n(r("finger")).setTransform(-61,-83.5);this.addTimedChild(e)}),y=i.extend(function(t){i.call(this,{mode:t,duration:10,loop:!1});var e=new n(r("cross")).setTransform(-77,-77.5);this.addTimedChild(e)}),v=i.extend(function(t){i.call(this,{mode:t,duration:2,loop:!1});var e=new n(r("cross")).setTransform(-77,-77.5);this.addTimedChild(e)}),m=i.extend(function(t){i.call(this,{mode:t,duration:2,loop:!1});var e=new n(r("cross")).setTransform(-77,-77.5);this.addTimedChild(e)}),g=i.extend(function(t){i.call(this,{mode:t,duration:17,loop:!1});var e=new n(r("cross")).setTransform(-77,-77.5);this.addTimedChild(e)});e.tutorial_candy_game=i.extend(function(){i.call(this,{duration:240,framerate:24});var t=new n(r("candy_tutorial_bg_1")),e=new n(r("candy_tutorial_bg_2")),_=new n(r("finger")),b=new o(i.SYNCHED),w=new a(i.SYNCHED),x=new s(i.SYNCHED),T=new u(i.SYNCHED),S=new l(i.SYNCHED),E=new h(i.SYNCHED),C=new c(i.SYNCHED),P=new n(r("candy_tutorial_bg_1")),M=new n(r("candy_tutorial_bg_3")),A=new n(r("finger")),O=new f(i.SYNCHED),k=new d(i.SYNCHED),I=new p(i.SYNCHED),R=new y(i.SYNCHED),L=new v(i.SYNCHED),B=new m(i.SYNCHED),D=new g(i.SYNCHED).setTransform(616.15,368.15,1.542,1.542);this.addTimedChild(t,0,20).addTimedChild(e,20,100).addTimedChild(_,40,19,{40:{x:673.2,y:346.65}}).addTimedChild(b,59,5,{59:{x:734.2,y:430.15,sx:1,sy:1},60:{x:736.231,y:425.164,sx:.938,sy:.938},61:{x:738.211,y:420.178,sx:.875,sy:.875},62:{x:740.23,y:415.236,sx:.813,sy:.813},63:{x:742.211,y:410.25,sx:.751,sy:.751}}).addTimedChild(w,64,5,{64:{x:744.2,y:405.15,sx:.689,sy:.689},65:{x:742.232,y:410.179,sx:.751,sy:.751},66:{x:740.225,y:415.164,sx:.813,sy:.813},67:{x:738.191,y:420.112,sx:.875,sy:.875},68:{x:736.184,y:425.097,sx:.938,sy:.938}}).addTimedChild(x,69,51,{69:{x:734.2,y:430.15}}).addTimedChild(T,90,9,{90:{x:605.15,y:373.1,sx:.387,sy:.387},91:{x:605.177,y:373.145,sx:.487,sy:.487},92:{x:605.204,y:373.139,sx:.587,sy:.587},93:{x:605.213,y:373.172,sx:.687,sy:.687},94:{x:605.19,y:373.167,sx:.788,sy:.788},95:{x:605.249,y:373.2,sx:.888,sy:.888},96:{x:605.276,y:373.195,sx:.988,sy:.988},97:{x:605.285,y:373.228,sx:1.089,sy:1.089},98:{x:605.312,y:373.222,sx:1.189,sy:1.189}}).addTimedChild(S,99,2,{99:{x:605.15,y:373.15,sx:1.289,sy:1.289},100:{x:605.175,y:373.158,sx:1.263,sy:1.263}}).addTimedChild(E,101,2,{101:{x:605.2,y:373.1,sx:1.236,sy:1.236},102:{x:605.284,y:373.204,sx:1.263,sy:1.263}}).addTimedChild(C,103,17,{103:{x:605.15,y:373.15,sx:1.289,sy:1.289}}).addTimedChild(P,120,20).addTimedChild(M,140,100).addTimedChild(A,159,19,{159:{x:153.2,y:482.65}}).addTimedChild(O,178,5,{178:{x:214.2,y:566.15,sx:1,sy:1},179:{x:216.212,y:561.195,sx:.938,sy:.938},180:{x:218.223,y:556.19,sx:.875,sy:.875},181:{x:220.231,y:551.227,sx:.813,sy:.813},182:{x:222.243,y:546.222,sx:.751,sy:.751}}).addTimedChild(k,183,5,{183:{x:224.2,y:541.15,sx:.689,sy:.689},184:{x:222.22,y:546.174,sx:.751,sy:.751},185:{x:220.243,y:551.157,sx:.813,sy:.813},186:{x:218.222,y:556.106,sx:.875,sy:.875},187:{x:216.245,y:561.089,sx:.938,sy:.938}}).addTimedChild(I,188,52,{188:{x:214.2,y:566.15}}).addTimedChild(R,209,10,{209:{x:616.15,y:368.15,sx:.303,sy:.303},210:{x:616.152,y:368.192,sx:.427,sy:.427},211:{x:616.205,y:368.185,sx:.551,sy:.551},212:{x:616.207,y:368.177,sx:.675,sy:.675},213:{x:616.219,y:368.175,sx:.799,sy:.799},214:{x:616.271,y:368.167,sx:.923,sy:.923},215:{x:616.274,y:368.21,sx:1.046,sy:1.046},216:{x:616.286,y:368.208,sx:1.17,sy:1.17},217:{x:616.288,y:368.2,sx:1.294,sy:1.294},218:{x:616.341,y:368.192,sx:1.418,sy:1.418}}).addTimedChild(L,219,2,{219:{x:616.15,y:368.15,sx:1.542,sy:1.542},220:{x:616.236,y:368.253,sx:1.48,sy:1.48}}).addTimedChild(B,221,2,{221:{x:616.3,y:368.15,sx:1.418,sy:1.418},222:{x:616.314,y:368.177,sx:1.48,sy:1.48}}).addTimedChild(D,223,17)}),e.tutorial_candy_game.assets={candy_tutorial_bg_1:"images/candy_tutorial_bg_1.jpg",candy_tutorial_bg_2:"images/candy_tutorial_bg_2.jpg",candy_tutorial_bg_3:"images/candy_tutorial_bg_3.jpg",tutorial_candy_game_atlas_1:"images/tutorial_candy_game_atlas_1.json"}}(PIXI,i=i||{});var i;"undefined"!=typeof t&&t.exports&&(t.exports={stage:i.tutorial_candy_game,background:16777215,width:1230,height:720,framerate:24,totalFrames:240,library:i})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(3),c=(n(h),i(58)),f=n(c),d=function(t){function e(i){o(this,e);var n=new l.Sprite.from("switch_off.png"),r=a(this,t.call(this,n));return n.accessible=!0,n.accessibleTitle=i,r}return s(e,t),e.prototype.reset=function(){this.view.texture=l.Texture.from("switch_off.png")},e.prototype.tick=function(){this.view.texture=l.Texture.from("switch_on.png")},e}(f.default);e.default=d,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(3),c=(n(h),i(170)),f=n(c),d=i(14),p=n(d),y=i(16),v=(n(y),function(t){function e(i,n,r){var s=i.textures,u=i.sounds;o(this,e);var h=a(this,t.call(this,{textures:s,sounds:u}));return h.label=new l.Text(n,{align:"right",fill:"white",font:"40px helvetica"}),h.label.anchor.set(.5),h.label.position.y=0,p.default.resizeText(h.label,150),h.view.addChild(h.label),s.icon&&(h.label.position.x=-20,r&&(h.label.position.x=20)),r?h.icon.position.x=-h.view.width/3:h.icon.position.x=h.view.width/3,h}return s(e,t),e}(f.default));e.default=v,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(58),c=n(h),f=i(3),d=n(f),p=function(t){function e(i,n){o(this,e);var r=new l.Sprite.from("switch_off.png"),s=a(this,t.call(this,r));return i=!!i,s.on=!1,r.accessible=!0,r.accessibleTitle=n,s.onToggle=new d.default,s.toggle(i),s}return s(e,t),e.prototype.toggle=function(t){this.on!==t&&(this.on=t,t?(this.view.texture=l.Texture.from("switch_on.png"),this.onToggle.dispatch(!0)):(this.view.texture=l.Texture.from("switch_off.png"),this.onToggle.dispatch(!1)))},e}(c.default);e.default=p,t.exports=e.default},function(t,e,i){"use strict";function n(t){return m[t]}function r(t){var e=new g[t];return a(e),e}function o(t,e){g=t.library;var i=t.stage.assets;Object.keys(i).forEach(function(t){i[t]=e(i[t])})}function a(t){"function"==typeof t.addAction&&(t.totalFrames&&t.totalFrames>1&&t.addAction(function(){t.emit("complete")},t.totalFrames-1),t.labels&&t.labels.length&&t.labels.forEach(function(e){t.addAction(function(){t.emit("label",e.label)},e.position)}))}function s(t){var e=[],i=t._timelines;if(i)for(var n=0;n<i.length;n++){var r=i[n];e.push(r.target)}if(i=t._timedChildTimelines)for(var n=0;n<i.length;n++){var r=i[n];e.indexOf(r.target)<0&&e.push(r.target)}return e}function u(t,e,i){var n={},r=i?s(t).concat(t.children):t.children;return r.forEach(function(i){Object.keys(t).forEach(function(r){t[r]!==i||e&&!e(r)||(n[r]=i)})}),n}function l(t,e){if(!e)return t;var i=t[e];if(!i)for(var n=0;n<t.children.length;n++){var r=l(t.children[n],e);r&&(i=r)}return i}function h(t,e,i){if(t&&("function"==typeof t[e]&&t[e](i),t.children&&t.children.length))for(var n=0;n<t.children.length;n++){var r=t.children[n];h(r,e,i)}}function c(t){h(t,"play")}function f(t){h(t,"stop")}function d(t){h(t,"gotoAndStop",0)}function p(t,e,i){function n(){y.animate.load(e.stage,function(t,e){t.resources=e&&e.resources,f(t);var i=u(t);Object.keys(i).forEach(function(t){var e=i[t];e.position.set(0,0),a(e)}),Object.assign(m,i),r.dispatch(t,e)}.bind(this))}i=i||window.ASSET_URL+"img/animate/",o(e,function(t){return t.replace("images/",i)});var r=new v;return{load:n,onLoaded:r}}var y=i(1),v=i(3),m={},g=null;t.exports={cache:m,createLoaderAsset:p,findInstance:l,getAsset:n,getNewAsset:r,getNamedInstances:u,playAll:c,resetAll:d,stopAll:f}},function(t,e,i){var n;n=function(t,e,n){var r=i(1);r.DisplayObject.prototype.layer="default";var o=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};r.Container.call(this),this.innerContainer=new r.Container,this.activeItemsContainer=new r.Container,this.addChild(this.innerContainer),this.innerContainer.addChild(this.activeItemsContainer),this.filterArea=new r.Rectangle(0,0,1e6,1e6),this.layers={},this.camera=t.camera,this.addLayer("back"),this.addLayer("default"),this.addLayer("front")};o.prototype=Object.create(r.Container.prototype),o.prototype.init=function(t){},o.prototype.preupdate=function(t){},o.prototype.update=function(){if(this.camera){this.camera.update();var t=this.camera.zoom;this.scale.set(t),this.position.x=this.camera.viewWidth/2-this.camera.viewWidth/2*t,this.position.y=this.camera.viewHeight/2-this.camera.viewHeight/2*t,this.innerContainer.x=-this.camera.x+this.camera.viewWidth/2,this.innerContainer.y=-this.camera.y+this.camera.viewHeight/2;var e=this.rotation=this.camera.rotation||0;if(e){var i=this.camera.viewWidth-this.camera.viewWidth*Math.cos(e),n=this.camera.viewHeight-this.camera.viewHeight*Math.cos(e);this.x-=i*t,this.y-=n*t}}},o.prototype.postupdate=function(t){},o.prototype.add=function(t){if(t.view){var e=t.view,i=this.layers[e.layer];e.parent=i,i.children.push(t.view)}},o.prototype.remove=function(t){if(t.view){var e=t.view,i=this.layers[e.layer],n=i.children.indexOf(e);n!=-1&&(e.parent=null,i.children.splice(n,1))}},o.prototype.clear=function(){for(var t in this.layers)this.layers[t].removeChildren()},o.prototype.addLayer=function(t){this.layers[t]=new r.Container,this.activeItemsContainer.addChild(this.layers[t])},o.prototype.bringToFront=function(t){var e=this.layers[t.view.layer],i=e.children.indexOf(t.view);i!=-1&&(e.children.splice(i,1),e.children.push(t.view))},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){var r=(i(1),i(135)),o=i(18),a=i(3),s=function(){this.allItems=new r,this.updateItems=new r,this.updateComponentItems=new r,this.groups={},this.itemsToRemove=[],this.systems=[],this.signals={}};s.constructor=s,s.prototype.install=function(t,e){this.systems.push(t),t.init(this),this[e]=t},s.prototype.addGroup=function(t){for(var e=0;e<t.children.length;e++)this.add(t.children[e])},s.prototype.initGroups=function(t){for(var e=0;e<t.length;e++){var i=t[e],n=this.groups[i];n||(n=this.groups[i]=new r)}},s.prototype.add=function(t){if(t._gc){var e=this.itemsToRemove.indexOf(t);this.itemsToRemove.splice(e,1),t._gc=!1}t.world&&this.removeItem(t),t.world=this;for(var i=0;i<this.systems.length;i++)this.systems[i].add(t);this.allItems.add(t);for(var i=0;i<t.groups.length;i++){var n=t.groups[i],o=this.groups[n];o||(o=this.groups[n]=new r),o.add(t)}t.update&&this.updateItems.add(t),t._updatableComponents.length&&this.updateComponentItems.add(t),t.addedToWorld&&t.addedToWorld(this),t.signals.onAddedToWorld.dispatch()},s.prototype.remove=function(t){!t._gc&&t.world&&(t._gc=!0,this.itemsToRemove.push(t))},s.prototype.update=function(){var t=Math.round(o.instance.deltaTime/o.instance.speed);t>2&&(t=2);for(var e=0;e<t;e++){this.removeItems();for(var i=0;i<this.systems.length;i++)this.systems[i].preupdate();for(var n=this.updateComponentItems.children,i=0;i<n.length;i++)n[i].updateComponents();for(var n=this.updateItems.children,i=0;i<n.length;i++)n[i].update();for(var i=0;i<this.systems.length;i++)this.systems[i].update();for(var i=0;i<this.systems.length;i++)this.systems[i].postupdate()}},s.prototype.removeItems=function(){this.itemsToRemove.length;for(var t=0;t<this.itemsToRemove.length;t++){var e=this.itemsToRemove[t];this.removeItem(e)}this.itemsToRemove.length=0},s.prototype.removeItem=function(t){t._gc=!1;for(var e=0;e<this.systems.length;e++)this.systems[e].remove(t);t.update&&this.updateItems.remove(t),t._updatableComponents.length&&this.updateComponentItems.remove(t),t.removedFromWorld&&t.removedFromWorld(this),t.signals.onRemovedFromWorld.dispatch(),t.world=null,this.allItems.remove(t);for(var e=0;e<t.groups.length;e++){var i=t.groups[e];this.groups[i].remove(t)}},s.prototype.clear=function(){var t=this;this.allItems.run(function(e){return t.remove(e)}),this.removeItems();for(var e=0;e<this.systems.length;e++)this.systems[e].clear();for(var e=0;e<this.allItems.children.length;e++)this.allItems.children[e].world=null;this.allItems.empty(),this.updateItems.empty(),this.updateComponentItems.empty(),this.groups={},this.collisionHash={}},s.prototype.find=function(t,e){if(!this.groups[t])return null;var i=this.groups[t].children;if(i.length>0&&!e)return i[0];for(var n=0;n<i.length;n++)if(i[n].data.name===e)return i[n]};var u=[];s.prototype.findAll=function(t,e){if(!this.groups[t])return null;var i=this.groups[t].children;u.length=0;for(var n=0;n<i.length;n++)void 0!==e&&i[n].data.name!==e||u.push(i[n]);return u},s.prototype.registerSignal=function(t){var e=arguments.length;if(e>1)for(var i=0;i<e;i++)this.registerSignal(arguments[i]);else this.signals[t]||(this.signals[t]=new a)},s.prototype.resetSignals=function(){for(var t in this.signals)this.signals[t].removeAll()},n.exports=s}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,n){var r;r=function(t,e,r){var o=n(105),a=function(){};a.solve=function(t,e){for(i=0;i<t.length;i++){var n=t[i],r=n.object1,a=n.object2,s=n.projection,u=n.penetration;if(a.body.type===o.DYNAMIC){r.position.x-=s.x*u*.5,r.position.y-=s.y*u*.5,a.position.x+=s.x*u*.5,a.position.y+=s.y*u*.5;var l=r.body.velocity.x-a.body.velocity.x,h=r.body.velocity.y-a.body.velocity.y;0!==s.x?l*s.x<=0&&(r.body.velocity.x-=.5*l,a.body.velocity.x+=.5*l):h*s.y<=0&&(r.body.velocity.y-=.5*h,a.body.velocity.y+=.5*h)}else{r.position.x-=s.x*u,r.position.y-=s.y*u;var l=r.body.velocity.x-a.body.velocity.x,h=r.body.velocity.y-a.body.velocity.y;0!==s.x?l*s.x<=0&&(r.body.velocity.x-=l):(h*s.y<=0&&(r.body.velocity.y-=h),r.body.position.x+=a.body.velocity.x)}}},a.solve3=function(t){var e=t.object1,i=t.object2,n=t.projection,r=t.penetration;if(i.body.type===o.DYNAMIC){e.position.x-=n.x*r*.5,e.position.y-=n.y*r*.5,i.position.x+=n.x*r*.5,i.position.y+=n.y*r*.5;var a=e.body.velocity.x-i.body.velocity.x,s=e.body.velocity.y-i.body.velocity.y;0!==n.x?a*n.x<=0&&(e.body.velocity.x-=.5*a,i.body.velocity.x+=.5*a):s*n.y<=0&&(e.body.velocity.y-=.5*s,i.body.velocity.y+=.5*s)}else{e.position.x-=n.x*r,e.position.y-=n.y*r;var a=e.body.velocity.x-i.body.velocity.x,s=e.body.velocity.y-i.body.velocity.y;0!==n.x?a*n.x<=0&&(e.body.velocity.x-=a):(s*n.y<=0&&(e.body.velocity.y-=s),e.body.position.x+=i.body.velocity.x)}},a.solve2=function(t,e){for(i=0;i<t.length;i++){var n=t[i],r=n.object1,a=n.object2,s=n.object2,u=n.projection,l=n.penetration,h=r.body,c=s.body,f=h.shape,d=c.shape,p=f.x+r.position.x,y=f.y+r.position.y,v=d.x+s.position.x,m=d.y+s.position.y,g=y+f.height-m,_=m+d.height-y,b=p+f.width-v,w=v+d.width-p,x=999999;if(s.passthrough,b<x&&(x=b),w<x&&(x=w),g<x&&(x=g),_<x&&(x=_),x>0)if(x==b?(u.x=-1,u.y=0):x==w?(u.x=1,u.y=0):x==g?(u.x=0,u.y=-1):x==_&&(u.x=0,u.y=1),l=-x,a.body.type===o.DYNAMIC){r.position.x-=u.x*l*.5,r.position.y-=u.y*l*.5,a.position.x+=u.x*l*.5,a.position.y+=u.y*l*.5;var T=r.body.velocity.x-a.body.velocity.x,S=r.body.velocity.y-a.body.velocity.y;0!==u.x?T*u.x<=0&&(r.body.velocity.x-=.5*T,a.body.velocity.x+=.5*T):S*u.y<=0&&(r.body.velocity.y-=.5*S,a.body.velocity.y+=.5*S)}else{r.position.x-=u.x*l,r.position.y-=u.y*l;var T=r.body.velocity.x-a.body.velocity.x,S=r.body.velocity.y-a.body.velocity.y;0!==u.x?T*u.x<=0&&(r.body.velocity.x-=T):(S*u.y<=0&&(r.body.velocity.y-=S),r.body.position.x+=a.body.velocity.x)}}},r.exports=a}.call(e,n,e,t),!(void 0!==r&&(t.exports=r))},function(t,e,i){var n;n=function(t,e,n){var r=(i(1),i(64)),o=function(){};o.hitTestItemGroup=function(t,e,i,n){for(var r=e.children,a=0;a<r.length;a++)o.hitTestAABBAABB(t,r[a],i,n)},o.hitTestItemItem=function(t,e,i,n){o.hitTestAABBAABB(t,e,i,n)},o.hitTestGroup=function(t,e,i){for(var n=t.children,r=0;r<n.length-1;r++)for(var a=r+1;a<n.length;a++)o.hitTestAABBAABB(n[r],n[a],e,i)},o.hitTestGroupGroup=function(t,e,i,n){for(var r=t.children,a=e.children,s=0;s<r.length;s++)for(var u=0;u<a.length;u++)o.hitTestAABBAABB(r[s],a[u],i,n);o.hitTestAABBAABB(item,r[s],i,n)},o.hitTestAABBAABB=function(t,e,i,n){var o=t.body,a=e.body,s=o.shape,u=a.shape,l=s.x+t.position.x,h=s.y+t.position.y,c=u.x+e.position.x,f=u.y+e.position.y,d=h+s.height-f,p=f+u.height-h,y=l+s.width-c,v=c+u.width-l,m=999999;if(y<m&&(m=y),v<m&&(m=v),d<m&&(m=d),p<m&&(m=p),m>=0){var g=new r;m==y?(g.x=-1,g.y=0):m==v?(g.x=1,g.y=0):m==d?(g.x=0,g.y=-1):m==p&&(g.x=0,g.y=1);var _=-m;i&&i(t,e,_,g)}else n&&n(t,e)},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){var r=(i(1),i(64)),o=i(196),a=i(105),s=(i(379),i(383)),u=i(198),l=i(384),h=function(){this.collisions={},this.pool=[],this.tickId=0,this.currentCollisions=[],this.collisionDatas=[],this.startCollision=this.startCollision.bind(this)};h.prototype.hitTest=function(t){this.tickId++;for(var e=0;e<2;e++)for(var i=0;i<t.length;i+=2){var n=null;n=2===t[i].body.shape.type?2===t[i+1].body.shape.type?l(t[i],t[i+1],this.startCollision):u(t[i],t[i+1],this.startCollision):2===t[i+1].body.shape.type?2===t[i].body.shape.type?l(t[i+1],t[i],this.startCollision):u(t[i+1],t[i],this.startCollision):s(t[i],t[i+1],this.startCollision),n&&n.object1.body.solid&&n.object2.body.solid&&this.solve(n)}for(var i=0;i<this.currentCollisions.length;i++){var r=this.currentCollisions[i];r._tickId!==this.tickId&&(this.endCollision(r),this.currentCollisions.splice(i,1),i--)}},h.prototype.circleAABB=function(t,e){},h.prototype.hitTestAABBAABB=function(t,e){var i=t.body,n=e.body,o=i.shape,a=n.shape,s=o.x+t.position.x,u=o.y+t.position.y,l=a.x+e.position.x,h=a.y+e.position.y,c=u+o.height-h,f=h+a.height-u,d=s+o.width-l,p=l+a.width-s,y=999999,v=0;if(c<y&&(y=c,v=2),f<y&&(y=f,v=3),d<y&&(y=d,v=0),p<y&&(y=p,v=1),y>0){var m=new r;0===v?(m.x=-1,m.y=0):1===v?(m.x=1,m.y=0):2===v?(m.x=0,m.y=-1):3===v&&(m.x=0,m.y=1);var g=-y,_=this.startCollision(t,e,g,m);if(!_.ignore)return _}return null},h.prototype.solve=function(t){var e=t.object1,i=t.object2,n=t.projection,r=t.penetration;if(i.body.type===a.DYNAMIC){e.position.x-=n.x*r*.5,e.position.y-=n.y*r*.5,i.position.x+=n.x*r*.5,i.position.y+=n.y*r*.5;var o=e.body.velocity.x-i.body.velocity.x,s=e.body.velocity.y-i.body.velocity.y;0!==n.x?o*n.x<=0:s*n.y<=0}else{e.position.x-=n.x*r,e.position.y-=n.y*r;var o=e.body.velocity.x-i.body.velocity.x,s=e.body.velocity.y-i.body.velocity.y;0!==n.x?o*n.x<=0&&(e.body.velocity.x-=o):s*n.y<=0&&(e.body.velocity.y-=s)}},h.prototype.startCollision=function(t,e,i,n){var r;r=t.UID>e.UID?(e.UID<<12)+t.UID:(t.UID<<12)+e.UID;var a=this.collisions[r];return a?(a.penetration=i,a.projection=n,a._tickId=this.tickId,a.ignore||(n.y===-1?t.body.velocity.y>=0&&(t.body.currentSurface=e):1===n.y&&e.body.velocity.y>=0&&(e.body.currentSurface=t)),a):(a=this.pool.pop(),a?(a.object1=t,a.object2=e,a.penetration=i,a.projection=n,a.ignore=!1):a=new o(t,e,i,n,!1),a._key=r,a._tickId=this.tickId,n.y===-1*t.body.flip?t.body.currentSurface=e:n.y===1*e.body.flip&&(e.body.currentSurface=t),t.onCollideBegin&&t.onCollideBegin(a),e.onCollideBegin&&e.onCollideBegin(a),this.collisions[r]=a,this.currentCollisions.push(a),a)},h.prototype.endCollision=function(t){var e=t._key,i=this.collisions[e];return i&&(this.pool.push(i),this.collisions[e]=null),t.object1.world&&(t.object1.onCollideEnd&&t.object1.onCollideEnd(i),t.object2.onCollideEnd&&t.object2.onCollideEnd(i)),i},h.prototype.reset=function(){this.collisions={},this.tickId=0,this.currentCollisions=[]},n.exports=h}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){var r=(i(3),0),o=function(t,e,i){this.hash=[],this.width=300,this.height=300,this.size=96,this.halfHeight=this.height/2*this.size.y,this.buildHash(),this.cache={}};o.prototype.buildHash=function(){for(var t=this.width,e=this.height,i=t*e,n=0;n<i;n++)this.hash[n]=[];this.cache={}},o.prototype.add=function(t){this.cache={};var e,i,n=t.body.shape,r=(t.position.x+n.x+this.halfHeight)/this.size|0,o=(t.position.y+n.y+this.halfHeight)/this.size|0,a=(t.position.x+n.x+n.width+this.halfHeight)/this.size|0,s=(t.position.y+n.y+n.height+this.halfHeight)/this.size|0;for(i=o;i<=s;i++)for(e=r;e<=a;e++){var u=i*this.width+e;this.hash[u]&&this.hash[u].push(t)}},o.prototype.retrieve=function(t){var e=(t.position.x+this.halfHeight)/this.size|0,i=(t.position.y+this.halfHeight)/this.size|0,n=this.cache[e+":"+i];return n||(n=[],n=this.addSquare(e-1,i-1,n),n=this.addSquare(e,i-1,n),n=this.addSquare(e+1,i-1,n),n=this.addSquare(e-1,i,n),n=this.addSquare(e,i,n),n=this.addSquare(e+1,i,n),n=this.addSquare(e,i+1,n),n=this.addSquare(e,i+1,n),n=this.addSquare(e+1,i+1,n),n=this.removeDuplicates(n),this.cache[e+":"+i]=n),n},o.prototype.addSquare=function(t,e,i){var n=e*this.width+t;return this.hash[n]&&(i=i.concat(this.hash[n])),i};var a=[];o.prototype.retrieveArea=function(t){var e,i,n=t.body.shape,o=(t.position.x+n.x+this.halfHeight)/this.size|0,s=(t.position.y+n.y+this.halfHeight)/this.size|0,u=(t.position.x+n.x+n.width+this.halfHeight)/this.size|0,l=(t.position.y+n.y+n.height+this.halfHeight)/this.size|0,h=a;a.length=0;var c=r++,f=0;for(i=s;i<=l;i++)for(e=o;e<=u;e++){var d=i*this.width+e,p=this.hash[d];if(p)for(var y=0;y<p.length;y++){var v=p[y];v._TICK!==c&&(v._TICK=c,h[f++]=v)}}return h},o.prototype.removeDuplicates=function(t){for(var e={},i=[],n=t.length,r=0,o=0;o<n;o++){var a=t[o];1!==e[a.UID]&&(e[a.UID]=1,i[r++]=a)}return i},o.prototype.remove=function(t){var e,i,n=t.body.shape,r=(t.position.x+n.x+this.halfHeight)/this.size|0,o=(t.position.y+n.y+this.halfHeight)/this.size|0,a=(t.position.x+n.x+n.width+this.halfHeight)/this.size|0,s=(t.position.y+n.y+n.height+this.halfHeight)/this.size|0;for(i=o;i<=s;i++)for(e=r;e<=a;e++){var u=i*this.width+e;if(u>0){var l=this.hash[u].indexOf(t);l!==-1&&this.hash[u].splice(l,1)}this.cache={}}},o.prototype.empty=function(){this.buildHash()},n.exports=o}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){"use strict";var n=(i(1),i(64)),r=new n,o=function(t,e,i){var n=t.body,o=e.body,a=n.shape,s=o.shape,u=a.x+t.position.x,l=a.y+t.position.y,h=s.x+e.position.x,c=s.y+e.position.y,f=l+a.height-c,d=c+s.height-l,p=u+a.width-h,y=h+s.width-u,v=999999,m=0;if(f<v&&(v=f,m=2),d<v&&(v=d,m=3),p<v&&(v=p,m=0),y<v&&(v=y,m=1),v>0){var g=r;0===m?(g.x=-1,g.y=1e-4):1===m?(g.x=1,g.y=1e-4):2===m?(g.x=1e-4,g.y=-1):3===m&&(g.x=1e-4,g.y=1);var _=-v,b=i(t,e,_,g);if(!b.ignore)return b}return null};t.exports=o},function(t,e,i){"use strict";var n=(i(1),i(64)),r=new n,o=function(t,e,i){var n=t.body,o=e.body,a=n.shape,s=o.shape,u=a.x+t.position.x,l=a.y+t.position.y,h=s.x+e.position.x,c=s.y+e.position.y,f=u-h,d=l-c;0===f&&(f+=.001),0===d&&(d+=.001);var p=Math.sqrt(f*f+d*d),y=a.radius+s.radius;if(p<y){0===p&&(p+=.001);var v=r;v.x=f/p,v.y=d/p;var m=-p-y,g=i(t,e,m,v);if(!g.ignore)return g}return null};t.exports=o},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=i(1),s=r(a),u=i(3),l=n(u),h=i(18),c=n(h),f=i(16);n(f);s.DisplayObject.prototype.depthOffset=0;var d=function(){function t(){o(this,t),this.onGameOver=new l.default,this.isGameOver=!1,this.paused=!0,this.counter=0,this.createGame(),this.hud=this.factoryHud(),this.view.addChild(this.hud),this.controls=this.factoryControls(this),this.onScoreChange=new l.default}return t.prototype.createGame=function(){},t.prototype.reset=function(t){this.isGameOver=!1,t=t||this.config,this.config=t,this.counter=0,this.score=0},t.prototype.start=function(t){this.reset(t),this.resume()},t.prototype.pause=function(){this.paused||(this.paused=!0,this.controls.disable(),c.default.instance.remove(this.update,this))},t.prototype.resume=function(){this.paused&&(this.paused=!1,this.controls.enable(),c.default.instance.add(this.update,this,1))},t.prototype.quit=function(){this.pause()},t.prototype.update=function(){this.counter+=c.default.instance.deltaTime},t.prototype.gameOver=function(){this.isGameOver||(this.isGameOver=!0,this.pause(),this.hud.showGameOver())},t.prototype.factoryHud=function(){return new s.Container},t}();e.default=d,t.exports=e.default},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(385),l=r(u),h=i(195),c=r(h),f=i(90),d=n(f),p=i(29),y=n(p),v=i(6),m=r(v),g=i(389),_=r(g),b=i(388),w=r(b),x=i(89),T=r(x),S=function(t){
function e(){o(this,e);var i=a(this,t.call(this));return i.controls.onActionPress.add(i.onActionPressed,i),i}return s(e,t),e.prototype.createGame=function(){this.world=new d.World,this.camera=new T.default,this.world.install(new d.PixiView({camera:this.camera}),"view"),this.world.install(new d.CrashWorld,"crash"),this.player=new _.default,this.player.position.set(100,300),this.world.add(this.player),this.camera.target=this.player,this.view=this.world.view;var t=500,e=1500;this.world.add(new w.default(0,t,e,200));var i=300,n=50,r=new w.default(0,t-i,n,i);this.world.add(r),r.isPlatform=!1,r=new w.default(e-n,t-i,n,i),this.world.add(r),r.isPlatform=!1;for(var o=360,a=200,s=300,u=250;a<e-s-u;)this.world.add(new w.default(a,o,s,50)),a+=s+u;this.camera.setWorldBounds(0,0,e,t+100)},e.prototype.update=function(){t.prototype.update.call(this),this.controls.update(),this.player.body.velocity.x=10*this.controls.x,this.world.update()},e.prototype.onActionPressed=function(){this.player.isOnPlatform&&this.player.jumpComponent.jump()},e.prototype.factoryControls=function(){return new c.default},e.prototype.createItem=function(t,e,i,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:y.CrashBody.STATIC,o=y.CrashBody.fromRect(-i/2,-n/2,i,n,r);o.type=r;var a=o.getDebugView(),s=new m.default(t,e,a,o);return s},e.prototype.resize=function(t,e){this.w=t,this.h=e,this.camera.resize(t,e)},e}(l.default);e.default=S,t.exports=e.default},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:60;i(this,t),this.item=e,this.jumpVelocity=n}return t.prototype.jump=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t=t||this.jumpVelocity,this.item.body.velocity.y=-t},n(t,null,[{key:"id",get:function(){return"jumpComponent"}}]),t}();e.default=r,t.exports=e.default},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(6),l=r(u),h=i(29),c=n(h),f=function(t){function e(i,n,r,s){o(this,e);var u=c.CrashBody.fromRect(0,0,r,s);u.type=c.CrashBody.STATIC;var l=u.getDebugView(),h=a(this,t.call(this,i,n,l,u));return h.isPlatform=!0,h._reset(),h}return s(e,t),e}(l.default);e.default=f,t.exports=e.default},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(6),h=r(l),c=i(29),f=n(c),d=i(387),p=r(d),y=function(t){function e(i,n){o(this,e);var r=50,s=50,u=f.CrashBody.fromRect(-r/2,-s/2,r,s,f.CrashBody.STATIC);u.gravity=1;var l=u.getDebugView(),h=a(this,t.call(this,0,0,l,u));return h.add(p.default),h._reset(),h}return s(e,t),e.prototype._reset=function(){this.currentPlatform=null},e.prototype.onCollideBegin=function(t){var e=t.getOtherObject(this);e.isPlatform&&t.projection.y==-1&&(this.currentPlatform=e)},e.prototype.onCollideEnd=function(t){var e=t.getOtherObject(this);e.isPlatform&&(this.currentPlatform=null)},u(e,[{key:"isOnPlatform",get:function(){return null!=this.currentPlatform}}]),e}(h.default);e.default=y,t.exports=e.default},function(t,e,i){var n;n=function(t,e,n){var r=i(1),o=i(671);ScrollingBackground=function(){o.call(this),this.backView=new r.Container,this.backView.pivot.set(568,320),this.backView.position.set(568,320),this.frontView=new r.Container,this.frontView.pivot.set(568,320),this.frontView.position.set(568,320),this.elements=[],window.WEBGL||(this.frontView.visible=!1)},ScrollingBackground.prototype=Object.create(o.prototype),ScrollingBackground.prototype.addedToWorld=function(t){this.world.view.addChildAt(this.backView,0),this.world.view.addChild(this.frontView)},ScrollingBackground.prototype.removedFromWorld=function(t){this.world.view.removeChild(this.backView),this.world.view.removeChild(this.frontView)},ScrollingBackground.prototype.addTilingElement=function(t,e,i,n,r){var o=new a(t,e,i,n,r);return this.add(o),o},ScrollingBackground.prototype.add=function(t){this.elements.push(t)},ScrollingBackground.prototype.update=function(){var t=this.world.view.camera;this.backView.rotation=-t.rotation,this.frontView.rotation=-t.rotation;for(var e=0;e<this.elements.length;e++)this.elements[e].setPosition(t)};var a=function(t,e,i,n,o){n=n||1,this.y=e,this.z=o,this.sprites=[],this.spriteWidth=t.width*n-1,this.offsetX=500;var a=Math.ceil(1024/this.spriteWidth);a<3&&(a=3);for(var s=0;s<a;s++){var u=new r.Sprite(t);u.position.y=e,u.scale.set(n),i.addChild(u),this.sprites.push(u)}};a.prototype.setPosition=function(t){var e=t.x;e*=.8;var i=700,n=i/(i+this.z);e*=n,e+=2e3;var r=t.y;r*=.4,r*=n;for(var o=this.spriteWidth,a=0;a<this.sprites.length;a++){var s=-e;s+=a*o,s%=o*this.sprites.length,s+=2*o;var u=this.sprites[a];u.visible=!0,u.position.x=Math.floor(s)-this.offsetX,u.pivot.y=0}},n.exports=ScrollingBackground}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(106),l=r(u),h=i(90),c=n(h),f=i(1),d=n(f),p=i(89),y=r(p),v=i(11),m=(r(v),i(3)),g=(r(m),i(6)),_=r(g),b=i(41),w=r(b),x=i(16),T=r(x),S=i(75),E=(r(S),i(28)),C=r(E),P=i(393),M=r(P),A=i(396),O=r(A),k=i(402),I=r(k),R=i(394),L=r(R),B=i(395),D=r(B),F=i(401),j=r(F),N=i(398),X=r(N),U=i(400),G=r(U),Y=i(201),z=r(Y),V=i(399),W=r(V),H=i(397),q=r(H),K=1800,Z=600,J=.2,Q=1.2,$=function(t){function e(){o(this,e);var i=a(this,t.call(this));return i.cameraTarget=new d.Point,i.controls.onHit.add(i.onControlsHit,i),i.musicID="candy_music",i}return s(e,t),e.prototype.createGame=function(){this.world=new c.World,this.camera=new y.default,this.camera.setWorldBounds(0,0,1230,720),this.defaultZoom=.9,this.hitZoom=1.2,this.camera.easing=.05,this.camera.zoomEasing=.05,this.camera.zoom=this.defaultZoom,this.camera.target=this.cameraTarget,this.world.install(new c.PixiView({camera:this.camera}),"view"),this.view.addChild(this.world.view),this.vignette=d.Sprite.fromImage(window.ASSET_URL+"image/candy/vignette_candy.png"),this.view.addChild(this.vignette)},e.prototype.reset=function(e){t.prototype.reset.call(this,e),this.world.clear(),this.score=0,this.lives=3,this.currentHole=null,this.count=0,O.default.setValidStates(1);var i=d.Sprite.fromFrame("bg/holes_bg_back.png");i.addChild(this.controls.view),i.layer="back",this.world.add(new _.default(0,0,i));var n=this.getHoleLayout();this.holes=[];for(var r=0,o=n,a=Array.isArray(o),s=0,o=a?o:o[Symbol.iterator]();;){var u;if(a){if(s>=o.length)break;u=o[s++]}else{if(s=o.next(),s.done)break;u=s.value}var l=u,h=w.default.getObject(O.default);h.position.set(l.x,l.y),h.signals.onDownComplete.add(this.onHoleDownCompleted,this),this.world.add(h),this.holes.push(h),h.locked=!0,3===r&&this.world.add(new _.default(0,0,d.Sprite.fromFrame("bg/holes_bg_mid.png"))),r++}this.world.add(new _.default(0,0,d.Sprite.fromFrame("bg/holes_bg_front.png"))),this.whacker=w.default.getObject(I.default),this.world.add(this.whacker),this.particles=w.default.getObject(q.default),this.particles.init(this.world.view.innerContainer),this.world.add(this.particles),this.cameraTarget.set(i.width/2,i.height/2),this.camera.target=this.cameraTarget,this.camera.snapToTarget(),this.camera.zoom=this.hitZoom,this.normalCamera()},e.prototype.softStart=function(){t.prototype.softStart.call(this)},e.prototype.start=function(){t.prototype.start.call(this);for(var e=Math.floor(Math.random()*this.holes.length),i=this.holes.entries(),n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var o;if(n){if(r>=i.length)break;o=i[r++]}else{if(r=i.next(),r.done)break;o=r.value}var a=o,s=a[0],u=a[1];u.locked=!1,s===e&&u.up(O.default.STATE_GOODIE)}},e.prototype.update=function(){if(C.default.update(),t.prototype.update.call(this),this.world.update(),this.gameStarted&&this.controls.hasMouse&&this.camera.updateTargetFromPosition(this.controls.mousePosition.x,this.controls.mousePosition.y,this.cameraTarget),this.camera.update(),this.count++,1===this.count)for(var e=this.holes,i=Array.isArray(e),n=0,e=i?e:e[Symbol.iterator]();;){var r;if(i){if(n>=e.length)break;r=e[n++]}else{if(n=e.next(),n.done)break;r=n.value}}600===this.count?O.default.setValidStates(2):1200===this.count&&O.default.setValidStates(3);var o=this.count-K;if(o>=0&&o%Z===0)for(var a=this.holes,s=Array.isArray(a),u=0,a=s?a:a[Symbol.iterator]();;){var l;if(s){if(u>=a.length)break;l=a[u++]}else{if(u=a.next(),u.done)break;l=u.value}var h=l;h.upDuration>Q&&(h.upDuration=Math.max(Q,h.upDuration-J))}},e.prototype.quit=function(){C.default.clear(),this.world.clear(),t.prototype.quit.call(this)},e.prototype.onControlsHit=function(t,e){if(!this.whacker.isHitting){for(var i=125,n=i*i,r=this.world.findAll("holes"),o=null,a=r.length-1;a>=0;a--){var s=r[a],u=t-s.position.x,l=e-(s.position.y-30);if(u*=s.view.scale.x,l*=s.view.scale.x,u*u+l*l<n){o=s;break}}null!=o?this.doHit(o):this.doMiss(t,e)}},e.prototype.doHit=function(t){switch(t.state){case O.default.STATE_BADDIE:this.whacker.setBaddieState(),this.hitCamera(t.position);break;case O.default.STATE_GOODIE:t.isHit||!t.isUp?this.whacker.setMissState():(this.whacker.setGrabState(),this.hitCamera(t.position));break;case O.default.STATE_SLAPPER:this.whacker.setHammerState(),this.hitCamera(t.position);break;default:this.whacker.setMissState()}this.whacker.hit(t.position.x,t.position.y),this.currentHole=t,this.whacker.signals.onContact.addOnce(this.onHoleContact,this),T.default.sfx.play("candy_swoosh")},e.prototype.onHoleContact=function(){var t=this.currentHole;if(this.currentHole=null,this.doNormalCamera=!0,t.isUp)switch(t.state){case O.default.STATE_BADDIE:if(this.whacker.state===I.default.STATE_BADDIE){var e=w.default.getObject(j.default);e.position.copy(t.position),this.world.add(e);var i=w.default.getObject(X.default);return this.world.add(i),t.view.addChild(i.view),this.whacker.doPain(),this.camera.shake(),T.default.sfx.play("candy_zombie_0"+Math.ceil(3*Math.random())),T.default.sfx.play("candy_bite"),void this.loseLife(t)}break;case O.default.STATE_GOODIE:this.whacker.state!==I.default.STATE_GRAB||t.isHit||(this.whacker.addPassenger(t.characterTexture),t.hit(),t.down(),this.doScore(t,10),T.default.sfx.play("candy_success_0"+Math.ceil(3*Math.random())),this.particles.doCandyHit(t.position.x,t.position.y,t.view.scale.x));break;case O.default.STATE_SLAPPER:if(this.whacker.state===I.default.STATE_HAMMER){var n=w.default.getObject(G.default);n.position.copy(this.whacker.position),this.world.add(n),t.hit(),this.camera.shake(),this.doScore(t,100),T.default.sfx.play("candy_hammer_04"),this.particles.doLemonHit(t.position.x,t.position.y,t.view.scale.x)}}this.normalCamera()},e.prototype.onHoleDownCompleted=function(t){if(t.state===O.default.STATE_GOODIE&&!t.isHit){var e=w.default.getObject(L.default);e.position.copy(t.position),e.play(this.camera),this.world.add(e);var i=w.default.getObject(D.default);i.mask=t.mask,this.world.add(i),t.characterContainer.addChild(i.view),T.default.sfx.play("candy_scream_0"+Math.ceil(4*Math.random())),this.loseLife(t)}},e.prototype.doScore=function(t,e){var i=t.hitCount;this.score+=e*i;var n=w.default.getObject(z.default),r=(e*i).toString();if(i>1&&(r+="\nx"+i.toString()),n.text=r,n.position.copy(t.position),this.world.add(n),3===i&&this.lives<3){var o=w.default.getObject(W.default);o.position.copy(t.position),this.world.add(o),this.lives++}},e.prototype.loseLife=function(t){var e=this;this.lives--;for(var i=this.holes,n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var o;if(n){if(r>=i.length)break;o=i[r++]}else{if(r=i.next(),r.done)break;o=r.value}var a=o;a!==t?(a.forceDown(),a.locked=0===this.lives):a.locked=!0}this.controls.disable(),this.hitCamera(t.position),C.default.delayedCall(2.5,function(){return e.onLoseLifeComplete(t)})},e.prototype.onLoseLifeComplete=function(t){0!==this.lives?(this.normalCamera(),this.controls.enable(),t.locked=!1,t.forceDown()):this.gameOver()},e.prototype.doMiss=function(t,e){this.currentHole=null,this.whacker.setMissState(),this.whacker.hit(t,e)},e.prototype.hitCamera=function(t){this.camera.target=t,this.camera.zoomEasing=.03,this.camera.easedZoom=this.hitZoom},e.prototype.normalCamera=function(){this.camera.target=this.cameraTarget,this.camera.zoomEasing=.01,this.camera.easedZoom=this.defaultZoom},e.prototype.gameOver=function(){for(var e=this,i=this.world.findAll("holes"),n=i,r=Array.isArray(n),o=0,n=r?n:n[Symbol.iterator]();;){var a;if(r){if(o>=n.length)break;a=n[o++]}else{if(o=n.next(),o.done)break;a=o.value}var s=a;s.down(),s.locked=!0}C.default.delayedCall(1,function(){return t.prototype.gameOver.call(e,"candy",e.score)})},e.prototype.factoryControls=function(){var t=new M.default(this);return this.view.addChildAt(t.positionView,0),t},e.prototype.resize=function(t,e){this.camera.resize(t,e),this.hud.resize(t,e),this.vignette.width=t,this.vignette.height=e},e.prototype.getHoleLayout=function(){var t=30,e=30;return[{x:162,y:350-e},{x:460,y:380-e},{x:776,y:376-e},{x:1076,y:364-e},{x:237,y:535-t},{x:619,y:563-t},{x:985,y:540-t}]},e}(l.default);e.default=$,t.exports=e.default},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e){i(this,t),this.item=e,this.view=new PIXI.Container,this.leftArm=PIXI.Sprite.fromFrame("monster_arm_01.png"),this.rightArm=PIXI.Sprite.fromFrame("monster_arm_02.png"),this.leftArm.anchor.set(.5,1),this.rightArm.anchor.set(.5,1),this.leftArm.position.set(-50,277),this.rightArm.position.set(50,277),this.view.addChild(this.leftArm),this.view.addChild(this.rightArm),this.container=null}return t.prototype.update=function(){if(this.isActive){this.count+=this.speedMultiplier;var t=.2*Math.cos(this.count/10),e=.2;this.leftArm.rotation=t*e-.1,this.rightArm.rotation=-t*e+.1,this.view.position.y-=Math.abs(7*t)*this.speedMultiplier}},t.prototype.activate=function(t){this.count=0,this.speedMultiplier=t,this.isActive=!0,this.container.addChild(this.view)},t.prototype.deactivate=function(){this.reset()},t.prototype.reset=function(){this.isActive=!1,this.container.removeChild(this.view),this.view.y=0,this.speedMUltiplier=1},n(t,null,[{key:"id",get:function(){return"grabbyArmsComponent"}}]),t}();e.default=r,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=i(1),s=r(a),u=i(3),l=n(u),h=function(){function t(e){var i=this;o(this,t),this.view=new s.Container,this.view.hitArea=new s.Rectangle(0,0,1230,720),this.view.on("mousedown",function(t){return i.onMouseDown(t)}),this.view.on("touchstart",function(t){return i.onMouseDown(t)}),this.positionView=new s.Container,this.positionView.interactive=!0,this.positionView.hitArea=new s.Rectangle(0,0,1230,720),this.positionView.on("mousemove",function(t){return i.onMouseMove(t)}),this.game=e,this.touchPosition=new s.Point,this.mousePosition=new s.Point,this.onHit=new l.default}return t.prototype.enable=function(){this.view.interactive=!0},t.prototype.disable=function(){this.view.interactive=!1},t.prototype.onMouseDown=function(t){t.data.getLocalPosition(this.view,this.touchPosition),this.onHit.dispatch(this.touchPosition.x,this.touchPosition.y)},t.prototype.onMouseMove=function(t){this.hasMouse=!0,t.data.getLocalPosition(this.positionView,this.mousePosition)},t.prototype.resize=function(t,e){this.positionView.hitArea.width=t,this.positionView.hitArea.height=e,this.mousePosition.set(t/2,e/2)},t}();e.default=h,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(6),u=n(s),l=i(42),h=n(l),c=i(14),f=n(c),d=i(77),p=n(d),y=function(t){function e(){r(this,e);var i=new PIXI.Container,n=PIXI.Sprite.fromFrame("candy_death/candy_death_0001.png");n.anchor.set(.5,1),n.position.set(-30,135),i.addChild(n);var a=o(this,t.call(this,0,0,i));return a.animationManager=new h.default,a.animationManager.onComplete.add(a.destroy,a),a.animationManager.register("death",{frames:f.default.getTexturesFromFramesWithPrefix("candy_death/candy_death_00%%.png"),speed:.5,loop:!1}),a.explosion=n,a.add(p.default),a}return a(e,t),e.prototype.update=function(){this.count++,this.count<1||(1==this.count&&(this.animationManager.play("death"),this.camera.shake()),this.animationManager.update(),this.explosion.texture=this.animationManager.texture)},e.prototype.play=function(t){this.count=0,this.camera=t},e.prototype.removedFromWorld=function(){this.animationManager.currentAnimation=null},e}(u.default);e.default=y,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(6),c=n(h),f=i(137),d=n(f),p=i(77),y=(n(p),function(t){function e(){o(this,e);var i=new l.Container,n=l.Sprite.fromFrame("candy_death_skull.png");n.anchor.set(.5),i.addChild(n);var r=a(this,t.call(this,0,0,i));return r.skull=n,r.startSpeed=-40,r.gravity=.9,r.add(d.default),r}return s(e,t),e.prototype.show=function(){this.view.visible=!0},e.prototype.update=function(){this.view.visible&&(this.vy+=this.gravity,this.skull.y+=this.vy,this.skull.rotation+=this.vr,this.skull.y>0&&this.destroy())},e.prototype.addedToWorld=function(){var t=this;this.vr=.1*Math.random(),Math.random()<.5&&(this.vr*=-1),this.vy=this.startSpeed,this.skull.y=0,this.view.position.set(0,0),this.view.visible=!1,this.countdownComponent.activate(.5,function(){return t.show()})},e.prototype.removedFromWorld=function(){this.view.parent&&this.view.parent.removeChild(this.view)},e}(c.default));e.default=y,t.exports=e.default},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(6),h=r(l),c=i(1),f=n(c),d=i(21),p=i(137),y=r(p),v=i(77),m=r(v),g=i(392),_=r(g),b=i(202),w=r(b),x=i(406),T=r(x),S=i(41),E=r(S),C=i(28),P=r(C),M=0,A=function(t){function e(){o(this,e);var i=new f.Container;M%=7,M++;var n=f.Sprite.fromFrame("bg_hole_00"+M+".png");n.anchor.set(.5),i.addChild(n);var r=a(this,t.call(this,0,0,i));return r.initialDownDuration=10,r.initialUpDuration=3,r.downDuration=r.initialDownDuration,r.upDuration=r.initialUpDuration,r.transitionDuration=.3,r.downPosition=600,r.upPosition=100,r.goodies=[w.default.Candy1,.9,w.default.Candy2,.75],r.baddies=[w.default.Zombie1,.67,w.default.Zombie2,1,w.default.Zombie3,1],r.slappers=[T.default,.53],r.characterMap=new Map,r.goodRingTexture=f.Texture.fromFrame("ring_green.png"),r.badRingTexture=f.Texture.fromFrame("ring_red.png"),r.indicator=new f.Sprite(r.goodRingTexture),r.indicator.anchor.set(.5),r.view.addChild(r.indicator),r.characterContainer=new f.Container,r.characterContainer.position.set(0,r.downPosition),r.view.addChild(r.characterContainer),r.add(y.default),r.add(m.default),r.add(_.default),r.grabbyArmsComponent.container=r.characterContainer,r.groups=["holes"],r.registerSignal("onDownComplete"),r}return s(e,t),e.prototype.update=function(){this.character&&this.character.update()},e.setValidStates=function(t){e.validStates=[e.STATE_GOODIE],t>1&&e.validStates.push(e.STATE_SLAPPER),t>2&&e.validStates.push(e.STATE_BADDIE)},e.prototype.addedToWorld=function(){this.hitcount=0,this.upDuration=this.initialUpDuration,this.locked=!1,this.upSpeedMultiplier=1,this.characterContainer.position.y=this.downPosition,this.down(!0),this.hideIndicator(!0),this.state=e.STATE_EMPTY,e.SLAPPER_UP=!1},e.prototype.up=function(t){var i=this;if(this.hitCount=0,this.isUp=!0,this.isHit=!1,this.selectSkin(t)){var n=this.initialUpDuration;this.state===e.STATE_SLAPPER&&(e.SLAPPER_UP=!0),this.state===e.STATE_GOODIE&&(n=this.upDuration,this.grabbyArmsComponent.activate(this.initialUpDuration/this.upDuration)),this.countdownComponent.activate(n,function(){return i.down()}),P.default.add(d.TweenMax.to(this.characterContainer.position,this.transitionDuration,{y:this.upPosition,ease:Back.easeOut})),this.showIndicator(this.state!=e.STATE_BADDIE)}else this.resetUpTimer()},e.prototype.down=function(){var t=this,i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.isUp=!1,this.state===e.STATE_SLAPPER&&(e.SLAPPER_UP=!1),this.state===e.STATE_GOODIE&&(this.isUp=!0,P.default.delayedCall(.15,function(){return t.isUp=!1})),P.default.add(d.TweenMax.to(this.characterContainer.position,i?0:this.transitionDuration,{y:this.downPosition,ease:Back.easeIn,onComplete:this.onDownTweenComplete,onCompleteScope:this})),this.resetUpTimer(),this.hideIndicator()},e.prototype.forceDown=function(){this.isHit=!0,this.down()},e.prototype.resetUpTimer=function(){var t=this;this.countdownComponent.activate(this.downDuration-Math.random()*(this.downDuration-3),function(){return t.up()})},e.prototype.onDownTweenComplete=function(){this.isUp=!1,this.grabbyArmsComponent.deactivate(),this.signals.onDownComplete.dispatch(this),this.character&&E.default.return(this.character),this.character=null,this.state=e.STATE_EMPTY},e.prototype.hit=function(){this.isHit=!0,this.hitCount++,this.character.hit(),this.hideIndicator()},e.prototype.selectSkin=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=void 0;if(null===t&&(i=Math.random(),t=i<.17&&!e.SLAPPER_UP?e.STATE_SLAPPER:i<.7?e.STATE_GOODIE:e.STATE_BADDIE),e.validStates.indexOf(t)===-1)return!1;this.state=t;var n=this.state===e.STATE_GOODIE?this.goodies:this.state===e.STATE_BADDIE?this.baddies:this.slappers;i=Math.floor(Math.random()*n.length/2);var r=n[2*i],o=E.default.getObject(r);return this.characterContainer.removeChildren(),this.characterContainer.addChild(o),o.sprite.anchor.set(.5,n[2*i+1]),o.idle(),o.visible=!0,this.character=o,this.characterContainer.visible=!0,this.showIndicator(n!=this.baddies),!0},e.prototype.showIndicator=function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1]},e.prototype.hideIndicator=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];P.default.add(d.TweenMax.to(this.indicator,t?0:.3,{alpha:0}))},u(e,[{key:"locked",set:function(t){this._locked=t,t?this.countdownComponent.pause():this.countdownComponent.resume()}},{key:"characterTexture",get:function(){return this.character.visible=!1,this.character.characterTexture}}]),e}(h.default);e.default=A,A.STATE_GOODIE=0,A.STATE_BADDIE=1,A.STATE_SLAPPER=2,A.STATE_EMPTY=3,A.SLAPPER_UP=!1,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(6),u=n(s),l=i(136),h=n(l),c=i(409),f=n(c),d=i(408),p=n(d),y=function(t){function e(i){r(this,e);var n=o(this,t.call(this));return n.container=i,n.particleManager=new h.default(i),n.particleManager.registerParticle(f.default,"lemonHit"),n.particleManager.registerParticle(p.default,"candyHit"),n}return a(e,t),e.prototype.init=function(t){this.container=t,this.particleManager.container=t},e.prototype.update=function(){this.particleManager.update()},e.prototype.removedFromWorld=function(){this.particleManager.clear()},e.prototype.doLemonHit=function(t,e,i){for(var n=0;n<64;n++)this.particleManager.add(t,e,"lemonHit",{scale:i})},e.prototype.doCandyHit=function(t,e,i){for(var n=64,r=2*Math.PI/n,o=0;o<n;o++)this.particleManager.add(t,e,"candyHit",{scale:i,angle:o*r})},e}(u.default);e.default=y,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(6),c=n(h),f=i(77),d=(n(f),i(199)),p=n(d),y=function(t){function e(){o(this,e);var i=a(this,t.call(this,0,0,new l.Container));i.add(p.default);var n=["screen_bite/screen_bite_007.png","screen_bite/screen_bite_005.png","screen_bite/screen_bite_003.png","screen_bite/screen_bite_001.png","screen_bite/screen_bite_002.png","screen_bite/screen_bite_002.png","screen_bite/screen_bite_004.png","screen_bite/screen_bite_005.png","screen_bite/screen_bite_006.png","screen_bite/screen_bite_007.png","screen_bite/screen_bite_005.png","screen_bite/screen_bite_003.png","screen_bite/screen_bite_001.png","screen_bite/screen_bite_002.png","screen_bite/screen_bite_002.png","screen_bite/screen_bite_004.png","screen_bite/screen_bite_005.png","screen_bite/screen_bite_006.png","screen_bite/screen_bite_007.png"];return i.sprite=i.playAndDestroyComponent.init(n),i.sprite.anchor.set(.5,.7),i}return s(e,t),e.prototype.addedToWorld=function(){this.view.addChild(this.sprite),this.playAndDestroyComponent.play()},e.prototype.removedFromWorld=function(){this.view.parent&&this.view.parent.removeChild(this.view)},e}(c.default);e.default=y,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(6),c=n(h),f=i(17),d=n(f),p=i(200),y=n(p),v=i(137),m=n(v),g=function(t){
function e(){o(this,e);var i=new l.Container,n=a(this,t.call(this,0,0,i)),r=n.popClip=new l.Container,s=d.default.getScorePopText("+1");s.anchor.set(.5,0);var u=l.Sprite.fromFrame("heart.png");return u.anchor.set(.5,1),i.addChild(r),r.addChild(u),r.addChild(s),n.add(y.default),n.add(m.default),n.scorePopFadeComponent.target=n.popClip,n.onCountdownComplete=function(){n.view.visible=!0,n.scorePopFadeComponent.activate()},n}return s(e,t),e.prototype.addedToWorld=function(){this.view.visible=!1,this.countdownComponent.activate(.5,this.onCountdownComplete)},e}(c.default);e.default=g,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(6),c=n(h),f=i(77),d=n(f),p=i(199),y=n(p),v=function(t){function e(){o(this,e);var i=a(this,t.call(this,0,0,new l.Container));return i.add(d.default),i.add(y.default),i.sprite=i.playAndDestroyComponent.init("hammer_dust/hammer_dust_000%%.png"),i.sprite.anchor.set(.5,1),i.sprite.position.set(-20,85),i}return s(e,t),e.prototype.addedToWorld=function(){this.view.addChild(this.sprite),this.playAndDestroyComponent.play()},e.prototype.removedFromWorld=function(){this.view.parent&&this.view.parent.removeChild(this.view)},e}(c.default);e.default=v,t.exports=e.default},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(6),l=r(u),h=i(1),c=n(h),f=i(673),d=r(f),p=function(t){function e(){o(this,e);var i=new c.Container;i.layer="front";var n=new c.Container;n.y=-100,i.addChild(n);for(var r=c.Texture.fromFrame("hit_effect.png"),s=0;s<2*Math.PI;s+=Math.PI/2){var u=new c.Sprite(r);u.anchor.set(1,1),u.rotation=s,n.addChild(u)}var l=a(this,t.call(this,0,0,i));return l.shakerView=n,l.scaleSpring=new d.default,l.rotationSpring=new d.default,l.duration=30,l.initialScale=3,l.baseScale=1.3,l.shakeInterval=5,l.shakeForce=.4,l.rotationInterval=5,l.rotationForce=.1,l}return s(e,t),e.prototype.update=function(){this.count++,this.scaleSpring.update(),this.rotationSpring.update(),this.shakerView.scale.set(this.baseScale+this.scaleSpring.x),this.shakerView.rotation=this.rotationSpring.x,this.count%this.shakeInterval===0&&(this.scaleSpring.reset(),this.scaleSpring.dx=this.shakeForce*Math.random()),this.count%this.rotationInterval===0&&(this.rotationSpring.reset(),this.rotationSpring.dx=this.rotationForce),this.count===this.duration&&this.destroy()},e.prototype.addedToWorld=function(){this.count=0,this.scaleSpring.dx=this.initialScale,this.rotationSpring.dx=0},e.prototype.removedFromWorld=function(){this.view.parent&&this.view.parent.removeChild(this.view)},e}(l.default);e.default=p,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=r(l),c=i(6),f=n(c),d=i(21),p=i(77),y=n(p),v=i(405),m=n(v),g=i(403),_=n(g),b=i(407),w=n(b),x=i(404),T=n(x),S=i(41),E=(n(S),i(28)),C=n(E),P=(Math.PI/180,function(t){function e(){o(this,e);var i=new h.Container;i.layer="front";var n=a(this,t.call(this,0,0,i));return n.hitDuration=.8,n.inDuration=n.hitDuration/4,n.outDuration=n.hitDuration/2,n.speed=2,n.flipContainer=new h.Container,n.view.addChild(n.flipContainer),n.stateContainer=new h.Container,n.flipContainer.addChild(n.stateContainer),n.hammerArm=new m.default(n,n.inDuration/3,n.outDuration/2,n.speed),n.grabArm=new _.default(n,n.inDuration,n.outDuration,n.speed),n.missArm=new w.default(n,n.inDuration,n.outDuration,n.speed),n.zombieArm=new T.default(n,n.inDuration,n.outDuration,n.speed),n.registerSignal("onContact","onComplete"),n.add(y.default),n}return s(e,t),e.prototype.addedToWorld=function(){this.clearState()},e.prototype.removedFromWorld=function(){this.clearState()},e.prototype.hit=function(t,e){var i=this;this.tl=new d.TimelineLite;var n=Power1;this.position.set(t,700),this.tl.set(this.position,{x:t,y:700}),this.tl.to(this.position,this.inDuration,{y:e,ease:n.easeOut,onComplete:function(){return i.onContact()}}),this.tl.to(this.position,this.outDuration,{y:700,ease:n.easeIn,onComplete:function(){return i.onComplete()}}),this.tl.timeScale(this.speed),C.default.add(this.tl),this.isHitting=!0,this.flipContainer.scale.x=t<615?1:-1,this.stateClip.hit&&this.stateClip.hit()},e.prototype.addPassenger=function(t){this.stateClip.setPassenger(t,this.flipContainer.scale.x)},e.prototype.removePassenger=function(){this.stateContainer.removeChild(this.passengerContainer)},e.prototype.doPain=function(){this.zombieArm.hasHitZombie=!0},e.prototype.setGrabState=function(){this.setStateClip(this.grabArm),this._state=e.STATE_GRAB},e.prototype.setHammerState=function(){this.setStateClip(this.hammerArm),this._state=e.STATE_HAMMER},e.prototype.setBaddieState=function(){this.setStateClip(this.zombieArm),this._state=e.STATE_BADDIE},e.prototype.setMissState=function(){this.setStateClip(this.missArm),this._state=e.STATE_MISS},e.prototype.clearState=function(){this._state=e.STATE_NONE,this.isHitting=!1,this.stateClip=null,this.tl&&(this.tl.pause(),C.default.remove(this.tl),this.tl=null),this.stateContainer.removeChildren()},e.prototype.setStateClip=function(t){this.clearState(),this.stateClip=t,this.stateContainer.addChild(t)},e.prototype.onContact=function(){this.tl.pause(),this.signals.onContact.dispatch(),this.stateClip.contact()},e.prototype.withdraw=function(){this.tl.resume()},e.prototype.onComplete=function(){this.clearState(),this.signals.onComplete.dispatch()},u(e,[{key:"state",get:function(){return this._state}}],[{key:"STATE_HAMMER",get:function(){return"hammer"}},{key:"STATE_BADDIE",get:function(){return"baddie"}},{key:"STATE_MISS",get:function(){return"miss"}},{key:"STATE_GRAB",get:function(){return"grab"}},{key:"STATE_NONE",get:function(){return"none"}}]),e}(f.default));e.default=P,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(21),c=i(107),f=n(c),d=Math.PI/180,p=function(t){function e(i,n,r,s){o(this,e);var u=a(this,t.call(this,i,n,r,s));u.container=new l.Container,u.addChild(u.container),u.grabber=l.Sprite.fromFrame("jake_arm_grab.png"),u.container.addChild(u.grabber),u.passengerContainer=new l.Sprite,u.passengerContainer.anchor.set(.5,1),u.passengerContainer.position.set(-140,189),u.passengerContainer.rotation=41*d;var c=u.tl=new h.TimelineLite({paused:!0}),f=Power1;return c.set(u.container,{x:420,y:-460,rotation:-22*d}),c.to(u.container,u.inDuration,{x:-18,y:-135,rotation:-41*d,ease:f.easeOut}),c.add("contact"),c.to(u.container,u.outDuration,{x:470,y:-800,rotation:-10.7*d,ease:f.easeIn}),c.timeScale(u.speed),u}return s(e,t),e.prototype.hit=function(){this.clearPassenger(),this.tl.play(0)},e.prototype.setPassenger=function(t,e){this.passengerContainer.texture=t,this.passengerContainer.scale.x=e,this.container.addChildAt(this.passengerContainer,0)},e.prototype.clearPassenger=function(){this.container.removeChild(this.passengerContainer)},e}(f.default);e.default=p,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(21),c=i(107),f=n(c),d=i(28),p=n(d),y=Math.PI/180,v=function(t){function e(i,n,r,s){o(this,e);var u=a(this,t.call(this,i,n,r,s));u.container=new l.Container,u.addChild(u.container),u.grabber=l.Sprite.fromFrame("jake_arm_grab.png"),u.container.addChild(u.grabber);var c=u.tl=new h.TimelineLite({paused:!0}),f=Power2;return c.set(u.container,{x:420,y:-460,rotation:-22*y}),c.to(u.container,u.inDuration,{x:-18,y:-135,rotation:-41*y,ease:f.easeOut}),c.add("contact"),c.to(u.container,u.outDuration,{x:470,y:-494,rotation:-10.7*y,ease:f.easeIn}),c.timeScale(u.speed),u}return s(e,t),e.prototype.hit=function(){p.default.add(this.tl.play(0)),this.hasHitZombie=!1},e.prototype.contact=function(){this.hasHitZombie?this.doPain():t.prototype.contact.call(this)},e.prototype.doPain=function(){var t=this;this.tl.pause(),p.default.delayedCall(1,function(){t.hasHitZombie=!1,t.tl.resume(),t.contact()})},e}(f.default);e.default=v,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(21),c=i(107),f=n(c),d=i(28),p=n(d),y=i(18),v=(n(y),function(t){function e(i,n,r,s){o(this,e);var u=a(this,t.call(this,i,n,r,s));u.hammerHitPos=20,u.squidgeContainer=new l.Container,u.squidgeContainer.y=50,u.addChild(u.squidgeContainer),u.hammer=l.Sprite.fromFrame("hammerhead.png"),u.hammer.anchor.set(.5,1),u.hammer.position.y=u.hammerHitPos,u.squidgeContainer.addChild(u.hammer);var c=u.arm=l.Sprite.fromFrame("jake_arm_hammer.png");c.anchor.x=.5,c.position.y=-100,u.addChild(c);var f=u.tl=new h.TimelineLite({paused:!0,onUpdate:u.onUpdate,onUpdateScope:u}),d=Power2,p=.25;return f.set(u.hammer,{y:300}),f.to(u.hammer,u.inDuration/2,{y:-400,ease:d.easeOut}),f.to(u.hammer,u.inDuration/2,{y:u.hammerHitPos,ease:d.easeIn}),f.add("contact"),f.to(u.squidgeContainer.scale,p/2,{x:1.3,y:.7,ease:d.easeOut}),f.to(u.squidgeContainer.scale,p/2,{x:1,y:1,ease:d.easeIn,onComplete:function(){return u.onContactComplete()}}),f.to(u.hammer,u.outDuration/2,{y:-300,ease:d.easeOut}),f.to(u.hammer,u.outDuration/2,{y:300,ease:d.easeIn}),f.timeScale(u.speed),u}return s(e,t),e.prototype.onUpdate=function(){this.arm.position.y=this.hammer.position.y-100},e.prototype.hit=function(){this.hammer.y=300,this.tl.seek(0),this.tl.resume(),p.default.add(this.tl)},e.prototype.contact=function(){},e.prototype.onContactComplete=function(){this.whackerArm.withdraw()},e}(f.default));e.default=v,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(202),u=n(s),l=function(t){function e(){r(this,e);var i=o(this,t.call(this,"lemongrab"));return i.animationManager.register("hit",{frames:[PIXI.Texture.fromFrame("lemongrab/lemongrab_hit001.png")]}),i}return a(e,t),e.prototype.update=function(){this.countDown>0&&0===--this.countDown&&this.idle(),t.prototype.update.call(this)},e.prototype.hit=function(){this.animationManager.play("hit"),this.countDown=30},e}(u.default);e.default=l,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=(i(21),i(107)),c=n(h),f=(Math.PI/180,function(t){function e(i,n,r,s){o(this,e);var u=a(this,t.call(this,i,n,r,s));return u.container=new l.Container,u.addChild(u.container),u.grabber=l.Sprite.fromFrame("jake_arm_hurt.png"),u.grabber.position.set(-60,-60),u.container.addChild(u.grabber),u}return s(e,t),e}(c.default));e.default=f,t.exports=e.default},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(1),u=n(s),l=function(t){function e(){r(this,e);var i=Math.ceil(5*Math.random()),n=u.Texture.fromFrame("particle_jellybean_0"+i+".png"),a=o(this,t.call(this,n));return a.anchor.set(.5),a.pos3d={},a}return a(e,t),e.prototype.activate=function(t,e,i){this.isDead=!1,this.count=0,this.bouncesLeft=5;var n=i.scale,r=i.angle,o=146,a=68,s=7,u=9,l=s+Math.random()*(u-s);l*=n;var h=Math.sin(r)*o/a,c=Math.cos(r);this.vx=h*l,this.vy=c*l,this.vz=-20-3*Math.random(),this.vz*=n,this.gravity=.6*n,this.pos3d.x=t+h*o/10*n,this.pos3d.y=e+c*a/10*n,this.pos3d.z=30*n,this.rotation=Math.random()*Math.PI,this.switchRotationVelocity(),this.switchRotationVelocity()},e.prototype.update=function(){this.count++,this.pos3d.x+=this.vx,this.pos3d.y+=this.vy,this.pos3d.z+=this.vz,this.rotation+=this.vr;var t=.9;this.vx*=t,this.vy*=t,this.vz-=this.gravity,this.pos3d.z<0&&(this.pos3d.z=0,this.bouncesLeft>0?(this.bouncesLeft--,this.switchRotationVelocity(),this.vz*=-.5,this.scale.set(.2*this.bouncesLeft)):this.isDead=!0),this.position.x=this.pos3d.x,this.position.y=this.pos3d.y-this.pos3d.z},e.prototype.switchRotationVelocity=function(){var t=.1*this.bouncesLeft;this.vr=t-Math.random()*t*2},e}(u.Sprite);e.default=l,t.exports=e.default},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(1),u=n(s),l=function(t){function e(){r(this,e);var i=Math.ceil(5*Math.random()),n=u.Texture.fromFrame("juice_particle_0"+i+".png"),a=o(this,t.call(this,n));return a.anchor.set(.5),a}return a(e,t),e.prototype.activate=function(t,e,i){var n=i.scale,r=Math.random()>.5?1:-1,o=146*n,a=Math.PI/8,s=Math.PI/2.2,u=(a+Math.random()*(s-a))*r,l=6+6*Math.random();this.vx=Math.sin(u)*l,this.vy=-Math.cos(u)*l,this.position.x=t+r*o,this.position.y=e-1,this.rotation=Math.random()*Math.PI,this.scale.set(.2),this.vr=.1*Math.random(),this.baseY=e,this.alpha=1,this.isDead=!1,this.count=Math.random()*Math.PI},e.prototype.update=function(){this.count+=.05,this.x+=this.vx,this.y+=this.vy,this.vy+=.4,this.rotation+=this.vr,this.vy<0?(this.scale.set(Math.min(.6,this.scale.x+.04)),this.y+=this.vy):this.vy>=0&&this.scale.set(this.scale.x-.03),this.scale.x<0&&(this.isDead=!0)},e}(u.Sprite);e.default=l,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(1),u=(r(s),i(42)),l=n(u),h=i(14),c=n(h),f=i(3),d=n(f),p=function(){function t(e){o(this,t),this.item=e,this.onStateStart=new d.default,this.onStateComplete=new d.default}return t.prototype.update=function(){this._state&&this.animationManager.update()},t.prototype.reset=function(){},t.prototype.initAnimations=function(t){this.animationManager&&this.animationManager.onComplete.removeAll(),this.animationManager=new l.default,this.animationManager.onComplete.add(this.onAnimationCompleted,this);var e=this.animationManager;e.register("idle",{frames:c.default.getTexturesFromFramesWithPrefix("animations/flame_king_idle/flame_king_idle_0%%.png"),speed:.4,loop:!0}),e.register("hit",{frames:c.default.getTexturesFromFramesWithPrefix("animations/flame_king_big_fire/flame_king_big_fire_0%%.png"),speed:.7,loop:!1,anchor:{x:.4,y:.95}}),e.register("attack",{frames:c.default.getTexturesFromFramesWithPrefix("animations/flame_king_small_fire/flame_king_small_fire_0%%.png"),speed:.5,loop:!1,anchor:{x:.57,y:.95}}),this.setState("idle")},t.prototype.setState=function(t){this._state=t,this.animationManager.play(t),this.onStateStart.dispatch(t)},t.prototype.onAnimationCompleted=function(t){switch(this.onStateComplete.dispatch(this._state),t){case"land":}},a(t,[{key:"state",get:function(){return this._state}},{key:"texture",get:function(){return this.animationManager.texture}},{key:"anchor",get:function(){return this.animationManager.currentAnimation.anchor||{x:.5,y:.95}}},{key:"speed",set:function(t){this._runSpeed=t}}],[{key:"id",get:function(){return"playerAnimationComponent"}}]),t}();e.default=p,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(3),c=(n(h),i(58)),f=(n(c),i(14)),d=(n(f),i(412)),p=n(d),y=i(108),v=(n(y),i(205)),m=(n(v),i(17)),g=n(m),_=i(109),b=n(_),w=function(t){function e(i){o(this,e);var n=a(this,t.call(this,i));i.onScoreChange.remove(n.onScoreChanged,n),n.progressionBar=new p.default(i),n.progressionBar.build(350),n.addChild(n.progressionBar),n.progressionBar.x=n.game.gameSize.width/2-n.progressionBar.width/2,n.progressionBar.y=n.game.gameSize.height-40,n.tempScoreLabel=g.default.getFireScoreStyle("0"),n.tempScoreLabel.style.fill="#FFF",n.addChild(n.tempScoreLabel);var r=.2*n.progressionBar.height,s=(n.progressionBar.height-r)/n.tempScoreLabel.height;return n.tempScoreLabel.scale.set(s),n.tempScoreLabel.x=n.progressionBar.x+r/2,n.tempScoreLabel.y=n.progressionBar.y+r/2,n.feedbackLabel=g.default.getFireScorePopStyle(""),n.addChild(n.feedbackLabel),n}return s(e,t),e.prototype.popSprite=function(t){this.feedbackSprite=l.Sprite.fromFrame(t),this.feedbackSprite.anchor.set(.5),this.feedbackSprite.rotation=4*Math.random()-2,this.feedbackSprite.alpha=1,this.feedbackSprite.x=this.game.gameSize.width/2,this.feedbackSprite.y=this.game.gameSize.height/2+200,TweenLite.to(this.feedbackSprite.scale,.8,{x:1,y:1,ease:Elastic.easeOut}),TweenLite.to(this.feedbackSprite,1.3,{y:this.game.gameSize.height/2+100,rotation:0,ease:Elastic.easeOut}),TweenLite.to(this.feedbackSprite,.8,{delay:2,alpha:0}),this.addChild(this.feedbackSprite)},e.prototype.popLabel=function(t){this.feedbackLabel.text=t,this.feedbackLabel.pivot.x=this.feedbackLabel.width/2,this.feedbackLabel.pivot.y=this.feedbackLabel.height/2,this.feedbackLabel.scale.set(0),this.feedbackLabel.rotation=2*Math.random()-1,this.feedbackLabel.alpha=1,this.feedbackLabel.x=this.game.gameSize.width/2,this.feedbackLabel.y=this.game.gameSize.height/2+200,TweenLite.to(this.feedbackLabel.scale,.8,{x:1,y:1,ease:Elastic.easeOut}),TweenLite.to(this.feedbackLabel,1.3,{y:this.game.gameSize.height/2+100,rotation:0,ease:Elastic.easeOut}),TweenLite.to(this.feedbackLabel,.8,{delay:2,alpha:0})},e.prototype.updatePatternBar=function(t){this.progressionBar.updateBar(t)},e.prototype.updatePatternScore=function(t){},e.prototype.updateTempScore=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.75,i={value:parseInt(this.tempScoreLabel.text),label:this.tempScoreLabel};TweenLite.to(i,e,{value:t,onUpdate:function(t){t.label.text=Math.ceil(t.value).toString()},onUpdateParams:[i]})},e.prototype.updateScoreHard=function(e){t.prototype.updateScore.call(this,e,0)},e.prototype.updateScore=function(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.75;t.prototype.updateScore.call(this,e,i),this.updateTempScore(0,i),this.progressionBar.updateBar(0,i)},e.prototype.update=function(){},e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i),this.progressionBar.y=i-1.5*this.progressionBar.height;var n=.3*this.progressionBar.height,r=(this.progressionBar.height-n)/this.tempScoreLabel.height;this.tempScoreLabel.scale.set(r),this.tempScoreLabel.x=this.progressionBar.x+n/2+10,this.tempScoreLabel.y=this.progressionBar.y+n/2-1},e}(b.default);e.default=w,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(108),c=n(h),f=function(t){function e(i){o(this,e);var n=a(this,t.call(this));return n.game=i,n}return s(e,t),e.prototype.build=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:300,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:40;this.patternBarContainer=new l.Container,this.frontBarContainer=new l.Container,this.frontBar2Container=new l.Container,this.backBar=l.Sprite.fromFrame("fire_powerbar_bg.png"),this.frontBar=l.Sprite.fromFrame("fire_powerbar_fill.png"),this.frontBar.width=t,this.frontBar.height=e,this.backBar.width=t,this.backBar.height=e,this.frontBar2=l.Sprite.fromFrame("fire_powerbar_fill_green.png"),this.frontBar2.width=t,this.frontBar2.height=e,this.patternBarContainer.addChild(this.backBar),this.patternBarContainer.addChild(this.frontBar2Container),this.patternBarContainer.addChild(this.frontBarContainer),this.frontBarContainer.addChild(this.frontBar),this.frontBar2Container.addChild(this.frontBar2),this.maskBar=(new l.Graphics).beginFill(65280).drawRect(0,0,t,e),this.frontBarContainer.addChild(this.maskBar),this.maskBar.scale.x=0,this.frontBarContainer.mask=this.maskBar,this.maskBar2=(new l.Graphics).beginFill(65280).drawRect(0,0,t,e),this.frontBarContainer.addChild(this.maskBar2),this.maskBar2.scale.x=1,this.maskBar2.x=this.patternBarContainer.width*c.default.gameConf.good,this.frontBar2Container.mask=this.maskBar2,this.markerBar=l.Sprite.fromFrame("fire_powerbar_marker.png"),this.markerBar.anchor.x=.5,this.markerBar.height=e,this.patternBarContainer.addChild(this.markerBar),this.markerBar.x=this.patternBarContainer.width*c.default.gameConf.good,this.addChild(this.patternBarContainer)},e.prototype.updateBar=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.75;t<0?t=0:t>1&&(t=1),TweenLite.to(this.maskBar.scale,e,{x:t,ease:Cubic.easeOut})},e}(l.Container);e.default=f,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(6),c=n(h),f=i(29),d=(r(f),i(203)),p=n(d),y=function(t){function e(){o(this,e);var i=l.Sprite.fromFrame("animations/finn_idle/finn_idle0001.png");i.scale.set(.4),i.anchor.set(.5,.95),i.layer="front";var n=a(this,t.call(this,0,0,i));return n.add(p.default),n.playerAnimationComponent.initAnimations(),n.playerAnimationComponent.onStateStart.add(n.onCharacterStateStarted,n),n.playerAnimationComponent.onStateComplete.add(n.onCharacterStateCompleted,n),n.isPlayer=!0,n.groups=["player"],n._reset(),n.sceneManager,n}return s(e,t),e.prototype._reset=function(){t.prototype._reset.call(this)},e.prototype.smallJump=function(){this.playerAnimationComponent.setState("smallJump")},e.prototype.toIdle=function(){this.playerAnimationComponent.setState("idle")},e.prototype.beginAttack=function(){this.playerAnimationComponent.setState("beginAttack")},e.prototype.attack=function(){this.playerAnimationComponent.setState("attack")},e.prototype.hit=function(){this.playerAnimationComponent.setState("hit",!0)},e.prototype.backAttack=function(){this.playerAnimationComponent.setState("backAttack")},e.prototype.update=function(){this.view.texture=this.playerAnimationComponent.texture},e.prototype.onCharacterStateStarted=function(t){},e.prototype.onCharacterStateCompleted=function(t){switch(t){case"beginAttack":break;case"hit":this.toIdle();break;case"smallJump":this.toIdle()}},e}(c.default);e.default=y,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{
constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(6),c=n(h),f=i(29),d=(r(f),i(410)),p=n(d),y=function(t){function e(){o(this,e);var i=l.Sprite.fromFrame("animations/flame_king_big_fire/flame_king_big_fire_001.png");i.anchor.set(.5,.95),i.layer="front";var n=a(this,t.call(this,0,0,i));return n.scale={x:-.4,y:.4},n.view.scale.set(n.scale.x,n.scale.y),n.add(p.default),n.playerAnimationComponent.initAnimations(),n.playerAnimationComponent.onStateStart.add(n.onCharacterStateStarted,n),n.playerAnimationComponent.onStateComplete.add(n.onCharacterStateCompleted,n),n.isPlayer=!0,n.groups=["player"],n._reset(),n}return s(e,t),e.prototype._reset=function(){t.prototype._reset.call(this)},e.prototype.update=function(){this.view.texture=this.playerAnimationComponent.texture},e.prototype.hit=function(){this.playerAnimationComponent.setState("hit")},e.prototype.attack=function(){this.playerAnimationComponent.setState("attack")},e.prototype.toIdle=function(){this.playerAnimationComponent.setState("idle")},e.prototype.onCharacterStateStarted=function(t){this.view.anchor=this.playerAnimationComponent.anchor},e.prototype.onCharacterStateCompleted=function(t){switch(t){case"hit":this.toIdle();break;case"attack":this.toIdle()}},e}(c.default);e.default=y,t.exports=e.default},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(6),h=r(l),c=i(138),f=r(c),d=i(1),p=n(d),y=i(21),v=function(t){function e(){o(this,e);var i=new p.Container,n=a(this,t.call(this,0,0,i));return n.powerBar=new f.default("fire_evil_bar.png","fire_evil_bar_fill.png"),n.powerBar.view.position.set(-n.powerBar.view.width/2,-n.powerBar.view.height/2),n.powerBar.view.scale.set(.5),i.addChild(n.powerBar.view),n.maxHealth=3,n.reset(),n}return s(e,t),e.prototype.reset=function(){this.health=this.maxHealth},u(e,[{key:"health",set:function(t){this._health=t,y.TweenLite.to(this.powerBar,1,{value:t/this.maxHealth,ease:Power2.easeOut})},get:function(){return this._health}}]),e}(h.default);e.default=v,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(6),c=n(h),f=i(29),d=(r(f),i(413)),p=n(d),y=i(414),v=n(y),m=i(415),g=n(m),_=i(417),b=n(_),w=i(41),x=n(w),T=i(16),S=n(T),E=i(28),C=n(E),P=function(t){function e(i){o(this,e);var n=new l.Container,r=a(this,t.call(this,0,0,n));return r.game=null,r.specEffects=[],r.registerSignal("onFireKingDefeat"),r._reset(),r}return s(e,t),e.prototype.addedToWorld=function(){this.finn=x.default.getObject(p.default),this.finn.position.set(.2*this.game.gameSize.width,250),this.finn.sceneManager=this,this.world.add(this.finn),this.fireKing=x.default.getObject(v.default),this.fireKing.position.set(0,250),this.world.add(this.fireKing),this.fireKing.position.x=.8*this.game.gameSize.width,this.fireKingHealth=x.default.getObject(g.default),this.fireKingHealth.position.set(this.fireKing.position.x+70,this.fireKing.position.y+40),this.world.add(this.fireKingHealth),this.finnStartPos={x:this.finn.position.x,y:this.finn.position.y},this.fireKingStartPos={x:this.fireKing.position.x,y:this.fireKing.position.y},this.view.addChild(this.fireKing.view),this.view.addChild(this.finn.view)},e.prototype.zoom=function(t){this.game.camera.easedZoom=1+.3*t},e.prototype.setIdle=function(){this.fireKing.toIdle(),this.finn.toIdle()},e.prototype.addEffect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"fireball_hit",e=arguments[1],i=x.default.getObject(b.default);return i.setState(t,!0),i.view.position.set(e.x,e.y),this.view.addChild(i.view),i.group=this.specEffects,this.specEffects.push(i),i.view},e.prototype._reset=function(){t.prototype._reset.call(this)},e.prototype.endFireballs=function(){var t=this;this.finn.toIdle(),this.fireKing.toIdle(),C.default.delayedCall(.5,function(){t.game.camera.easedZoom=1,t.game.camera.target={x:t.game.w/2,y:t.game.h/2}})},e.prototype.fallFireballs=function(t){this.addEffect("fireball_hit",{x:t.x+t.parent.x,y:t.y+t.parent.y}),this.game.camera.shake(),this.finn.hit(),this.flash(),S.default.sfx.play("fire_fireball_0"+Math.ceil(3*Math.random()),.5),t.parent.removeChild(t)},e.prototype.fireKingStartAttack=function(){var t=this;this.game.camera.easedZoom=1.2,this.game.camera.target=this.fireKing.view.position;for(var e=2,i=0;i<e;i++){var n=l.Sprite.fromFrame("animations/fireball_small/fireball_small_001.png");n.anchor.set(.25,.5),n.scale.set(.5),this.finn.view.addChild(n),n.x=100*Math.random()-50,n.y=60*Math.random()-30,n.rotation=-Math.PI/4,C.default.add(TweenLite.from(n,.4,{delay:1.85+.15*i,x:n.x+1200,y:n.y-1200,onComplete:this.fallFireballs.bind(this),onCompleteParams:[n]}))}C.default.delayedCall(.75,function(){return t.fireKing.attack()}),C.default.delayedCall(1.5,function(){t.game.camera.easedZoom=1.3,t.game.camera.target=t.finn.view.position}),C.default.delayedCall(2.75,function(){return t.endFireballs()})},e.prototype.completeBackAttack=function(){this.finn.smallJump();var t=[];t.push({x:this.finn.view.x,y:this.finn.view.y}),t.push({x:this.finnStartPos.x+(this.finn.view.x-this.finnStartPos.x)/2,y:this.finn.view.y-50}),t.push({x:this.finnStartPos.x,y:this.finnStartPos.y}),C.default.add(TweenLite.to(this.finn.view,.2,{delay:.4,onComplete:function(){this.finn.toIdle()}.bind(this),rotation:0,bezier:{type:"soft",values:t},ease:"easeOut"})),0===this.fireKingHealth.health&&this.killTheKing()},e.prototype.finnAfterAttack=function(){this.game.camera.target={x:this.game.w/2,y:this.game.h/2},this.game.camera.easedZoom=1;var t=[];t.push({x:this.finn.view.x,y:this.finn.view.y}),t.push({x:this.finnStartPos.x+(this.finn.view.x-this.finnStartPos.x)/2,y:this.finn.view.y-200}),t.push({x:this.finnStartPos.x-40,y:this.finnStartPos.y}),C.default.add(TweenLite.to(this.finn.view,.6,{delay:.4,onStart:function(){this.finn.backAttack()}.bind(this),onComplete:function(){this.completeBackAttack()}.bind(this),rotation:0,bezier:{type:"soft",values:t},ease:"easeOut"})),t=[],t.push({x:this.fireKing.view.x,y:this.fireKing.view.y}),t.push({x:this.fireKingStartPos.x+(this.fireKing.view.x-this.fireKingStartPos.x)/2,y:this.fireKing.view.y-50}),t.push({x:this.fireKingStartPos.x,y:this.fireKingStartPos.y}),C.default.add(TweenLite.to(this.fireKing.view,.2,{delay:.2,rotation:0,bezier:{type:"soft",values:t},ease:"easeOut"}))},e.prototype.trailTo=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:.4,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:16761896,o=Math.atan2(t.y-e.y,t.x-e.x)-Math.PI/2,a=this.game.distance(t.x,t.y,e.x,e.y),s=30,u=(new l.Graphics).beginFill(r);u.moveTo(-s/2,0),u.lineTo(s/2,0),u.lineTo(0,a),this.game.view.addChild(u),u.x=e.x,u.y=e.y,u.alpha=0,u.rotation=o,C.default.add(TweenLite.to(u.scale,i,{delay:.1+n,x:.5,y:0,onComplete:function(t){t.parent.removeChild(t)},onCompleteParams:[u],onStart:function(t){u.alpha=.5},onStartParams:[u]}))},e.prototype.finnAttack=function(){var t=.1;this.fireKing.view.y-this.finn.view.y+100,{x:this.finn.position.x+80,y:this.finn.position.y-60},{x:this.fireKing.position.x+10,y:this.finn.position.y-20},{x:this.fireKing.position.x+10,y:this.fireKing.position.y+10};this.addEffect("flame_king_hit",{x:this.fireKing.view.x,y:this.fireKing.view.y-this.fireKing.view.height/2}),S.default.sfx.play("fire_attack_finn",.5),C.default.add(TweenLite.to(this.finn.view,.2,{delay:t,y:this.fireKing.view.y+20,onStart:function(){this.fireKing.hit(),this.fireKingHealth.health--,this.finn.attack(),this.flash()}.bind(this),onComplete:this.finnAfterAttack.bind(this)})),C.default.add(TweenLite.to(this.fireKing.view,.1,{delay:t,x:this.fireKingStartPos.x+50}))},e.prototype.finnStartAttack=function(){this.finnJumpToAttack(),this.game.camera.easedZoom=1.3,this.game.camera.target=this.finn.view.position},e.prototype.finnJumpToAttack=function(){var t=this;C.default.add(TweenLite.to(this.finn.view,.5,{delay:.8,x:this.fireKing.view.x-80,y:this.fireKing.view.y-120,onComplete:function(){return t.finnAttack()},onStart:function(){return t.finn.beginAttack()}}))},e.prototype.flash=function(){var t=(new l.Graphics).beginFill(16777215).drawRect(0,0,1e3,1e3);this.game.view.addChild(t),C.default.add(TweenLite.to(t,.3,{alpha:0,onComplete:function(t){t.parent.removeChild(t)},onCompleteParams:[t]}))},e.prototype.killTheKing=function(){var t=this;this.flash(),this.addEffect("fireball_hit",{x:this.fireKing.position.x,y:this.fireKing.position.y}),S.default.sfx.play("fire_fireball_0"+Math.ceil(3*Math.random()),.5),this.game.camera.shake();var e=new TimelineLite,i=this.fireKing.scale;e.set(this.fireKing.view.scale,{x:.8*i.x,y:1.2*i.y}),e.to(this.fireKing.view.scale,1,{x:i.x,y:i.y,ease:Elastic.easeOut},0),e.to(this.fireKing.position,.5,{y:1e3,ease:Power2.easeIn},.7),e.to(this.fireKing.view,.5,{rotation:Math.PI/4,ease:Power2.easeIn},.7),e.set(this.fireKing.position,{y:-500}),e.set(this.fireKing.view,{rotation:0}),e.to(this.fireKing.position,.5,{y:this.fireKingStartPos.y,ease:Power2.easeIn,delay:2,onComplete:function(){t.flash(),S.default.sfx.play("fire_fireball_0"+Math.ceil(3*Math.random()),.5),t.game.camera.shake()}}),e.add(function(){return t.signals.onFireKingDefeat.dispatch()}),e.set(this.fireKing.view.scale,{x:1.5*i.x,y:.5*i.y}),e.to(this.fireKing.view.scale,1.5,{x:i.x,y:i.y,ease:Elastic.easeOut}),C.default.add(e)},e.prototype.update=function(){for(var t=0;t<this.specEffects.length;t++)this.specEffects[t].update()},e}(c.default);e.default=P,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(1),l=r(u),h=i(6),c=n(h),f=i(29),d=(r(f),i(203)),p=(n(d),i(42)),y=n(p),v=i(14),m=n(v),g=i(3),_=(n(g),function(t){function e(){o(this,e);var i=l.Sprite.fromFrame("animations/finn_idle/finn_idle0001.png");i.scale.set(.75),i.anchor.set(.5,.95),i.layer="front";var n=a(this,t.call(this,0,0,i));n.animationManager=new y.default,n.animationManager.onComplete.add(n.onAnimationCompleted,n);var r=n.animationManager;return r.register("fireball_hit",{frames:m.default.getTexturesFromFramesWithPrefix("animations/fireball_hit/fireball_hit_000%%.png"),speed:.8,loop:!1,anchor:{x:.5,y:.65}}),r.register("flame_king_hit",{frames:m.default.getTexturesFromFramesWithPrefix("animations/flame_king_hit/flame_king_hit__000%%.png"),speed:.8,loop:!1,anchor:{x:.5,y:.5}}),n.group=[],n}return s(e,t),e.prototype._reset=function(){t.prototype._reset.call(this)},e.prototype.setState=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._state=t,this.animationManager.play(t,null,e),this.animationManager.update(),this.view.texture=this.animationManager.texture,this.view.anchor.x=this.animationManager.currentAnimation.anchor.x,this.view.anchor.y=this.animationManager.currentAnimation.anchor.y},e.prototype.destroy=function(){this.view.parent&&this.view.parent.removeChild(this.view),t.prototype.destroy.call(this);for(var e=0;e<this.group.length;e++)if(this==this.group[e])return void this.group.splice(e,1)},e.prototype.onAnimationCompleted=function(t){this.destroy()},e.prototype.update=function(){this.animationManager.update(),this.view.texture=this.animationManager.texture},e}(c.default));e.default=_,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=i(23),a=(n(o),i(204)),s=n(a),u=function(){function t(e){r(this,t),this.game=e,this.patterns=[],this.markerPoll=[],this.distances={standard:1,half:.5,quarter:.25};var i={};i={level:3,distance:this.distances.standard,order:[[{lane:1}],[{lane:1,dist:this.distances.standard}],[{lane:1,dist:this.distances.half}],[{lane:1,dist:this.distances.quarter}],[{lane:1,dist:this.distances.quarter}],[{lane:4,dist:this.distances.standard}],[{lane:4,dist:this.distances.half}],[{lane:3,dist:this.distances.half}],[{lane:2,dist:this.distances.half}],[{lane:1,dist:this.distances.quarter,row:[1],rowDistance:2*this.distances.standard}]]},this.patterns.push(i),i={level:3,distance:this.distances.standard,order:[[{lane:1}],[{lane:1,dist:this.distances.standard}],[{lane:2,dist:this.distances.half}],[{lane:4,dist:this.distances.quarter}],[{lane:3,dist:this.distances.quarter,row:[3],rowDistance:3*this.distances.standard}],[{lane:4,dist:this.distances.half}],[{lane:4,dist:this.distances.half}],[{lane:1,dist:this.distances.quarter}],[{lane:4,dist:this.distances.half}],[{lane:4,dist:this.distances.standard}]]},this.patterns.push(i),i={level:3,distance:this.distances.standard,order:[[{lane:4}],[{lane:2,dist:this.distances.standard}],[{lane:3,dist:this.distances.half}],[{lane:4,dist:this.distances.quarter}],[{lane:4,dist:this.distances.quarter}],[{lane:4,dist:this.distances.quarter}],[{lane:1,dist:this.distances.quarter}],[{lane:3,dist:this.distances.half}],[{lane:2,dist:this.distances.standard}]]},this.patterns.push(i),i={level:3,distance:this.distances.standard,order:[[{lane:1}],[{lane:2,dist:this.distances.standard}],[{lane:3,dist:this.distances.half}],[{lane:1,dist:this.distances.quarter}],[{lane:4,dist:this.distances.quarter}],[{lane:1,dist:this.distances.quarter}],[{lane:3,dist:this.distances.quarter}],[{lane:2,dist:this.distances.standard}]]},this.patterns.push(i),i={level:2,distance:this.distances.standard,order:[[{lane:2}],[{lane:3,dist:this.distances.standard}],[{lane:4,dist:this.distances.half}],[{lane:3,dist:this.distances.half}],[{lane:2,dist:this.distances.standard}],[{lane:3,dist:this.distances.half}],[{lane:2,dist:this.distances.half}],[{lane:1,dist:this.distances.standard,row:[1],rowDistance:3*this.distances.standard}]]},this.patterns.push(i),i={level:2,distance:this.distances.standard,order:[[{lane:3}],[{lane:2,dist:this.distances.standard}],[{lane:1,dist:this.distances.half}],[{lane:3,dist:this.distances.half}],[{lane:2,dist:this.distances.standard}],[{lane:1,dist:this.distances.half}],[{lane:2,dist:this.distances.half}],[{lane:3,dist:this.distances.standard,row:[3],rowDistance:3*this.distances.standard}],[{lane:3,dist:this.distances.half}],[{lane:3,dist:this.distances.standard}]]},this.patterns.push(i),i={level:2,distance:this.distances.standard,order:[[{lane:4}],[{lane:3,dist:this.distances.half}],[{lane:4,dist:this.distances.half}],[{lane:3,dist:this.distances.half}],[{lane:4,dist:this.distances.half}],[{lane:3,dist:this.distances.quarter,row:[3],rowDistance:2*this.distances.standard}],[{lane:2,dist:this.distances.half}],[{lane:2,dist:this.distances.quarter}],[{lane:2,dist:this.distances.quarter}]]},this.patterns.push(i),i={level:1,distance:this.distances.standard,order:[[{lane:3,dist:this.distances.standard}],[{lane:3,dist:this.distances.standard}],[{lane:3,dist:this.distances.standard}],[{lane:3,dist:this.distances.standard}],[{lane:3,dist:this.distances.standard,row:[3],rowDistance:2*this.distances.standard}],[{lane:2,dist:this.distances.standard}],[{lane:1,dist:this.distances.half}],[{lane:1,dist:this.distances.half}]]},this.patterns.push(i),i={level:1,distance:this.distances.standard,order:[[{lane:3}],[{lane:1,dist:this.distances.half}],[{lane:1,dist:this.distances.half}],[{lane:4}],[{lane:2}],[{lane:4,dist:this.distances.half}],[{lane:4,dist:this.distances.half}]]},this.patterns.push(i),i={level:1,distance:this.distances.standard,order:[[{lane:3}],[{lane:1,dist:this.distances.standard}],[{lane:1,dist:this.distances.standard}],[{lane:1,dist:this.distances.standard,row:[1],rowDistance:3*this.distances.standard}],[{lane:4}],[{lane:2}],[{lane:3,dist:this.distances.half}],[{lane:4,dist:this.distances.half}]]},this.patterns.push(i),i={level:1,distance:this.distances.standard,order:[[{lane:4,dist:this.distances.standard}],[{lane:4,dist:this.distances.standard}],[{lane:4,dist:this.distances.standard}],[{lane:1,dist:this.distances.half}],[{lane:1,dist:this.distances.half}],[{lane:2}],[{lane:3}],[{lane:4}]]},this.patterns.push(i),i={level:1,distance:this.distances.standard,order:[[{lane:4,dist:this.distances.standard}],[{lane:3,dist:this.distances.standard}],[{lane:2,dist:this.distances.standard}],[{lane:1,dist:this.distances.standard}],[{lane:2,dist:this.distances.standard}],[{lane:3,dist:this.distances.standard}],[{lane:4,dist:this.distances.standard}],[{lane:1,dist:this.distances.standard,row:[1],rowDistance:3*this.distances.standard}],[{lane:3,dist:this.distances.half}],[{lane:2,dist:this.distances.half}]]},this.patterns.push(i),i={level:1,distance:this.distances.standard,order:[[{lane:4,dist:this.distances.half}],[{lane:3,dist:this.distances.half}],[{lane:4,dist:this.distances.half}],[{lane:3,dist:this.distances.half}],[{lane:2,dist:this.distances.half}],[{lane:3,dist:this.distances.half}],[{lane:2,dist:this.distances.half}],[{lane:3,dist:this.distances.half}]]},this.patterns.push(i),i={level:1,distance:this.distances.standard,order:[[{lane:1,dist:this.distances.half}],[{lane:2,dist:this.distances.half}],[{lane:3,dist:this.distances.half}],[{lane:1,dist:this.distances.standard}],[{lane:2,dist:this.distances.half}],[{lane:3,dist:this.distances.half}]]},this.patterns.push(i),i={level:1,distance:this.distances.standard,order:[[{lane:1,dist:this.distances.half}],[{lane:2,dist:this.distances.half}],[{lane:2,dist:this.distances.half}],[{lane:4,dist:this.distances.half}],[{lane:1,dist:this.distances.standard}],[{lane:2,dist:this.distances.half}],[{lane:3,dist:this.distances.half}]]},this.patterns.push(i)}return t.prototype.beatMarkers=function(){if(this.currentMarkers)for(var t=0;t<this.currentMarkers.length;t++)this.currentMarkers[t].beat(this.game.beat)},t.prototype.getMarker=function(){for(var t=null,e=0;e<this.markerPoll.length;e++)this.markerPoll[e].killed&&(t=this.markerPoll[e]);return t||(t=new s.default(this.game),t.build(this.game.lineDistance/2),this.markerPoll.push(t)),t},t.prototype.returnClosestMarker=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2.5,i=9999,n=null,r=0;r<this.currentMarkers.length;r++)if(this.currentMarkers[r].active){var o=this.game.distance(this.currentMarkers[r].x,this.currentMarkers[r].y,t.x,t.y);o<this.currentMarkers[r].radius*e&&i>o&&(i=o,n=this.currentMarkers[r])}return n},t.prototype.removeAllLines=function(){if(this.currentLines){for(var t=this.currentLines.length-1;t>=0;t--)this.currentLines[t].parent&&this.currentLines[t].parent.removeChild(this.currentLines[t]);this.currentLines=[]}},t.prototype.removeAllMarkers=function(){if(this.removeAllLines(),this.currentMarkers){for(var t=this.currentMarkers.length-1;t>=0;t--)this.currentMarkers[t].parent&&this.currentMarkers[t].parent.removeChild(this.currentMarkers[t]),this.currentMarkers.splice(t,1);for(;this.game.gamePlayContainer.children.length>0;)this.game.gamePlayContainer.removeChildAt(0)}},t.prototype.removeMarker=function(t){t&&t.parent&&t.parent.removeChild(t),this.currentMarkers.splice(this.getMarkerID(t),1)},t.prototype.getMarkerID=function(t){for(var e=0;e<this.currentMarkers.length;e++)if(this.currentMarkers[e]==t)return e},t.prototype.pickOnePattern=function(){this.game.resetResult(),this.removeAllLines(),this.removeAllMarkers(),this.game.waitPattern=1;var t=this.lastPatternId||0,e=this.game.soundController.masterLevel,i=e>9?3:e%3;for(0===i&&(i=3);t==this.lastPatternId||this.patterns[t].level!=i;)t=Math.floor(Math.random()*this.patterns.length);this.lastPatternId=t,this.currentMarkers=[],this.currentLines=[];for(var n=0,r=0,o=0;o<this.patterns[t].order.length;o++)for(var a=!1,s=0,u=null,l=null,h=0,c=0;c<this.patterns[t].order[o].length;c++){var f=this.patterns[t].order[o][c].row,d=0;s=this.patterns[t].order[o][c].lane,u=this.getMarker(n.toString()+(a!==!1?"*":"")),u.reset(f?"hold":"tap"),u.lane=s,h=this.patterns[t].order[o][c].dist||this.patterns[t].distance,h*=this.game.gameSpeed*this.game.beat,u.id=n,u.y=this.game.lines[s].y-u.radius;var p=this.game.gameSpeed*this.game.beat;if(d=0==this.currentMarkers.length?this.game.gameDirection<0?this.game.touchArea.x+p*Math.floor(this.game.gameSize.width/p)+.25*p:-(this.game.touchArea.x+7*p):this.currentMarkers[this.currentMarkers.length-1].x,u.x=this.game.gameDirection<0?d+h:-d-h,this.currentMarkers.push(u),n++,this.game.gamePlayContainer.addChild(u),f){var y=(new PIXI.Graphics).lineStyle(u.radius,16733952),v=(new PIXI.Graphics).beginFill(16777215).drawCircle(0,0,u.radius),m=(new PIXI.Graphics).beginFill(16777215).drawCircle(0,0,u.radius);v.x=u.x,v.y=u.y;var g=PIXI.Sprite.fromFrame("fire_dot_line_green.png");g.anchor.set(0,.5),g.position.set(u.x,u.y),g.tint=16777215,this.game.gamePlayContainer.addChildAt(g,this.game.gamePlayContainer.getChildIndex(u)-1),this.currentLines.push(g);var _=PIXI.Sprite.fromFrame("fire_dot_line.png");_.anchor.set(0,.5),_.position.set(u.x,u.y),this.game.gamePlayContainer.addChildAt(_,this.game.gamePlayContainer.getChildIndex(g)-1),this.currentLines.push(_),y.moveTo(u.x,u.y);for(var b=0;b<f.length;b++){r++,s=f[b],h=this.patterns[t].order[o][c].rowDistance||this.patterns[t].distance,h*=this.game.gameSpeed*this.game.beat,l=this.getMarker(n.toString()+(a!==!1?"*":"")),l.reset("hold"),b==f.length-1&&(l.type="release"),l.lane=s,l.id=n,l.y=this.game.lines[s].y-l.radius,d=0==this.currentMarkers.length?this.game.gameDirection<0?this.game.gameSize.width:0:this.currentMarkers[this.currentMarkers.length-1].x,l.x=this.game.gameDirection<0?d+h:-d-h;var w=PIXI.Sprite.fromFrame("fire_dot_line.png");w.anchor.set(0,.5),w.position.set(l.x,l.y),y.lineTo(l.x,l.y),this.currentMarkers.push(l),n++,this.game.gamePlayContainer.addChild(l),u.addHoldMarker(l),this.game.gamePlayContainer.addChildAt(w,this.game.gamePlayContainer.getChildIndex(u)-1),this.currentLines.push(w)}m.x=l.x,m.y=l.y,this.game.gamePlayContainer.addChildAt(v,this.game.gamePlayContainer.getChildIndex(u)-1),this.game.gamePlayContainer.addChildAt(m,this.game.gamePlayContainer.getChildIndex(u)-1);for(var x=0;x<this.currentLines.length-1;x++){var T=this.currentLines[x].position,S=this.currentLines[x+1].position,E=Math.atan2(T.y-S.y,T.x-S.x)-Math.PI,C=this.game.distance(T.x,T.y,S.x,S.y);this.currentLines[x].width=C,this.currentLines[x].rotation=E}this.currentLines[this.currentLines.length-1].parent.removeChild(this.currentLines[this.currentLines.length-1]),this.currentLines.splice(this.currentLines.length-1,1)}}for(var P=0,o=0;o<this.patterns[t].order.length;o++)for(var c=0;c<this.patterns[t].order[o].length;c++)P++;this.game.maxPatternBarValue=P+r,this.game.patternBarValue=P+r},t.prototype.updatePattern=function(t){var e=void 0,i=void 0;this.game.touching&&(e=this.returnClosestMarker(this.game.currentPointerPosition,.95),e&&(i=this.game.distance(e.x,0,this.game.middleLine.x,0),e.holded(i,this.game.middleLine.x)));for(var n=this.currentMarkers.length-1;n>=0;n--){var r=this.currentMarkers[n];r.speed=this.game.gameSpeed*this.game.gameDirection,r.update(t)}if(this.currentLines){for(var n=0;n<this.currentLines.length;n++)this.currentLines[n].x+=this.game.gameSpeed*this.game.gameDirection*t;2==this.currentLines.length&&(e=this.currentLines[0],e.width<this.currentLines[1].width&&e.x<this.game.middleLine.x&&(this.game.touching?(e.texture=PIXI.Texture.fromFrame("fire_dot_line_green.png"),this.game.addHoldPoints()):e.texture=PIXI.Texture.fromFrame("fire_dot_line.png"),i=this.game.distance(e.x,0,this.game.middleLine.x,0),e.rotation=0,e.width=i))}},t}();e.default=u,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=i(16),a=n(o),s=function(){function t(){r(this,t),this.soundQueue=[],this.firstBeatReady=!1,this.bpm=80,this.bassSequence={seq:[1,2,3,4],acc:0,prefix:"backing_track_chunk_0"},this.drumSequence={seq:[1,2,1,2],acc:0,prefix:"fire_drum_0"}}return t.prototype.playProperQuarterSound=function(){this.playQuarterBeat(),this.playQueuedSound()},t.prototype.playProperSound=function(){this.playBeat(),this.playQueuedSound()},t.prototype.playGlitch=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.lastGlitch&&this.lastGlitch.stop();var e="guitar_glitch_"+Math.ceil(2*Math.random());if(this.lastGlitch)for(;e==this.lastGlitch.id;)e="guitar_glitch_"+Math.ceil(2*Math.random());a.default.sfx.play(e,t||.35*Math.random()+.4),this.lastGlitch=a.default.sfx.currentSound},t.prototype.playQueuedSound=function(){if(this.soundQueue&&this.soundQueue.length)return this.lastSound&&this.lastSound.stop(),a.default.sfx.play(this.soundQueue[0].label,this.soundQueue[0].volume),this.lastSound=a.default.sfx.currentSound,void this.soundQueue.shift()},t.prototype.resetLevels=function(){this.bpm=80,this.currentLevel=1,this.masterLevel=1},t.prototype.increaseLevel=function(){this.currentLevel++,this.currentLevel>3&&(this.currentLevel=1,this.masterLevel++,this.masterLevel%3===1&&this.bpm<120&&(this.bpm+=20)),this.playSuccess=!0},t.prototype.playQuarterBeat=function(){this.lastQuarterBeat&&this.lastQuarterBeat.stop(),a.default.sfx.play("fire_quarter_beat",.1),this.lastQuarterBeat=a.default.sfx.currentSound},t.prototype.playBeat=function(){this.lastBeat&&this.lastBeat.stop(),this.playSuccess&&(this.playSuccess=!1,a.default.sfx.play("fire_fill_0"+this.currentLevel+"_"+this.bpm,.35)),this.musicBeatAcc>=2?(this.musicBeatAcc=0,a.default.music.currentSound&&a.default.music.currentSound.stop()):this.musicBeatAcc++,this.playRichBeat(),this.lastBeat=a.default.sfx.currentSound},t.prototype.updateBeatSeq=function(t){var e=-1;e=t.seq[t.acc],e>=0&&a.default.sfx.play(t.prefix+e,.15),t.acc++,t.acc>=t.seq.length&&(t.acc=0)},t.prototype.playRichBeat=function(){this.updateBeatSeq(this.bassSequence),this.updateBeatSeq(this.drumSequence)},t.prototype.reset=function(){this.soundQueue=[],this.firstBeatReady=!1,this.bpm=80,this.musicBeatAcc=4,this.currentLevel=1,this.masterLevel=1},t.prototype.stopHoldSound=function(){this.lastHoldSound&&this.lastHoldSound.stop()},t.prototype.addSoundHold=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e*=.75,this.stopHoldSound(),a.default.sfx.play(t,e),this.lastHoldSound=a.default.sfx.currentSound},t.prototype.addSound=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;e*=.3,this.soundQueue.push({label:t,volume:e})},t}();e.default=s,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=i(1),s=r(a),u=i(17),l=n(u),h=i(21),c=i(28),f=n(c),d=function(){function t(){var e=this;o(this,t),this.view=new s.Container;var i=this.countdownText=l.default.getCountdownText("X");i.anchor.set(.5),this.view.addChild(i);var n=this.tl=new h.TimelineLite({paused:!0});n.set(i.scale,{x:0,y:0}),n.to(i.scale,.5,{x:1,y:1,ease:Back.easeOut}),n.to(i,.2,{alpha:0}),n.add(function(){return e.next()},1)}return t.prototype.start=function(t){this.callback=t,this.count=3,this.next(!0)},t.prototype.next=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t||this.count--,this.count>=0?(this.countdownText.text=this.count>0?this.count.toString():translations.GO,this.tl.play(0),f.default.add(this.tl),0===this.count&&this.callback()):this.view.parent.removeChild(this.view)},t}();e.default=d,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=i(1),s=r(a),u=i(17),l=n(u),h=i(21),c=i(28),f=n(c),d=function(){function t(){o(this,t),this.view=new s.Container;var e=this.gameOver=l.default.getCountdownText(translations.GAME_OVER_TITLE);e.anchor.set(.5),this.view.addChild(e);var i=this.tl=new h.TimelineLite({paused:!0,onComplete:this.onCompleted,onCompleteScope:this});i.set(e.scale,{x:0,y:0}),i.set(e.position,{y:0}),i.to(e.scale,.5,{x:1,y:1,ease:Back.easeOut}),i.to(e.position,1,{y:50,ease:Power2.easeOut},1),i.to(e,1,{alpha:0,ease:Power4.easeOut},1)}return t.prototype.start=function(t){this.callback=t,f.default.add(this.tl.play(0))},t.prototype.onCompleted=function(){this.view.parent.removeChild(this.view),this.callback()},t}();e.default=d,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=i(1),s=r(a),u=i(17),l=n(u),h=i(21),c=i(28),f=n(c),d=function(){function t(){o(this,t),this.view=new s.Container;var e=this.message=l.default.getCountdownText("Arbitrary Message");e.anchor.set(.5),this.view.addChild(e);var i=this.tl=new h.TimelineLite({paused:!0,onComplete:this.onCompleted,onCompleteScope:this});i.set(e.scale,{x:0,y:0}),i.to(e.scale,.5,{x:1,y:1,ease:Back.easeOut}),i.to(e,1,{alpha:0,ease:Power4.easeOut},1)}return t.prototype.start=function(t,e){this.message.text=t,this.callback=e,f.default.add(this.tl.play(0))},t.prototype.onCompleted=function(){
this.view.parent.removeChild(this.view),this.callback()},t}();e.default=d,t.exports=e.default},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(106),h=r(l),c=i(90),f=n(c),d=i(89),p=r(d),y=i(41),v=r(y),m=i(426),g=r(m),_=i(429),b=r(_),w=i(427),x=r(w),T=i(434),S=r(T),E=i(139),C=r(E),P=i(424),M=r(P),A=i(16),O=r(A),k=i(28),I=r(k),R=i(428),L=r(R),B=i(433),D=r(B),F=function(t){function e(){o(this,e);var i=a(this,t.call(this));return i.musicID="ice_music",i}return s(e,t),e.prototype.createGame=function(){this.gameSize={width:1024,height:626},this.world=new f.World,this.camera=new p.default,this.world.registerSignal("onMultiplierChange"),this.world.install(new f.PixiView({camera:this.camera}),"view"),this.view=this.world.view,this.levelManager=new C.default,this.gameContainer=new PIXI.Container,this.bgSky=PIXI.Sprite.fromFrame("bg_sky.jpg"),this.bgSky.width=this.gameSize.width,this.bgSky.height=this.gameSize.height,this.bgSky.anchor.set(.5),this.bgSky.scale.set(1.2),this.gameContainer.addChild(this.bgSky),this.gameBackground=new PIXI.extras.TilingSprite(PIXI.Texture.fromImage(window.ASSET_URL+"image/ice/bg_tiling_mountains.png"),this.gameSize.width+300,.3*this.gameSize.height),this.gameBackground.x=-150,this.gameBackground.y=20,this.gameContainer.addChild(this.gameBackground),this.view.addChild(this.gameContainer);var t=PIXI.Texture.fromImage(window.ASSET_URL+"image/ice/floor_tile_01.png");this.floorTile=new PIXI.extras.TilingSprite(t,this.gameSize.width,597),this.floorTile.width=2*this.gameSize.width,this.floorTile.y=5,this.floorTile.x=-200,this.gameContainer.addChild(this.floorTile),this.gameplayContainer=new PIXI.Container,this.gameContainer.addChild(this.gameplayContainer),this.mapLayer=new PIXI.Container,this.gameplayContainer.addChild(this.mapLayer),this.player=new b.default(this.levelManager.tileWidth,this),this.gameplayContainer.addChild(this.player.playerContainer),this.swipeDetector=new S.default(this.gameContainer),this.swipeDetector.startDetect(this.swipeCallback.bind(this)),this.world.add(this.player),this.diamondCombo=v.default.getObject(x.default),this.diamondCombo.init(this),this.world.add(this.diamondCombo),this.gameplayContainer.y=120,this.floorTile.y=this.gameplayContainer.y;var e=(this.gameSize.height-this.gameplayContainer.y)/this.gameSize.height;this.gameplayContainer.scale.set(e),this.standardGameScale=e,this.floorTile.scale.set(this.gameplayContainer.scale.x),this.vignette=PIXI.Sprite.fromFrame("vignette_ice.png"),this.vignette.width=this.gameSize.width,this.vignette.height=this.gameSize.height,this.view.addChild(this.vignette),this.gameSpeedController=new D.default},e.prototype.swipeCallback=function(t){this.gameStarted&&(this.player.disabled||this.player.changeDirection(t))},e.prototype.destroyJakeTokens=function(t){if(t)for(var e=this.jakeTokens.length-1;e>=0;e--)this.jakeTokens[e].tile.destroy();else setTimeout(function(){for(var t=this.jakeTokens.length-1;t>=0;t--)this.jakeTokens[t].tile.destroy()}.bind(this),500)},e.prototype.useLife=function(){this.lifes=0,this.diamondCombo.reset(),this.hud.onLivesChanged(this.lifes)},e.prototype.getLife=function(){this.destroyJakeTokens(),this.lifes=1,this.hud.onLivesChanged(this.lifes)},e.prototype.getPoint=function(t){this.score+=t,this.hud.updateScore(this.score)},e.prototype.reset=function(e){t.prototype.reset.call(this,e),this.diamondCombo.reset(),this.gameSpeedController.reset(),this.jakeTokens=[],this.levelManager.reset(),this.gameStarted=!1,this.player._reset(),this.getLife(),this.score=0,this.hud.updateScore(this.score),this.addNewPattern(),this.addNewPattern(),this.gameplayContainer.x=25;var i=this.levelManager.getStarterTile(0)||this.levelManager.getTile(4,1).tile;this.player.playerContainer.position.set(i.x+this.levelManager.tileWidth/2,i.y+this.levelManager.tileHeight/2),this.scoreTimer=.5,this.particles=v.default.getObject(L.default),this.particles.init(this.gameContainer),this.world.add(this.particles),this.particles.doSlimeHit({x:this.gameSize.width/2,y:this.gameSize.height/2}),this.controls.enable()},e.prototype.factoryHud=function(){return new g.default(this)},e.prototype.distance=function(t,e,i,n){return Math.sqrt((t-i)*(t-i)+(e-n)*(e-n))},e.prototype.shake=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x:1,y:1},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:.3;if(!this.shakingDirection||this.shakingDirection!=t){var r=this.gameContainer;this.shakingDirection=t;for(var o=new TimelineLite,a={x:20*e*t.x,y:20*e*t.y},s=n/i,u={x:r.x,y:r.y},l=i;l>=0;l--)o.append(TweenLite.to(r,s,{x:u.x+Math.random()*a.x-a.x/2,y:u.y+Math.random()*a.y-a.y/2,ease:"easeNoneLinear"}));o.append(TweenLite.to(r,s,{x:u.x,y:u.y,ease:"easeeaseNoneLinear",onComplete:function(){}.bind(this)}))}},e.prototype.addNewPattern=function(){var t=this.levelManager.pickPattern(),e=[],i=[];this.chunkSize=t.mapData[0].length*this.levelManager.tileWidth;for(var n=this.chunkSize*this.levelManager.chunkAcum,r=0;r<t.mapData.length;r++){e=[];for(var o=0;o<t.mapData[r].length;o++){var a=[],s=this.levelManager.getTileType(t.mapData[r][o]);if(s!=C.default.types.EMPTY&&s!=C.default.types.FINN){var u=this.levelManager.getTileImage(s);this.mapLayer.addChild(u),u.x=o*this.levelManager.tileWidth+n,u.y=r*this.levelManager.tileHeight,a={tile:u,type:t.mapData[r][o]},e.push(a)}else a={tile:{x:o*this.levelManager.tileWidth+n,y:r*this.levelManager.tileHeight},type:t.mapData[r][o],isFirst:s==C.default.types.FINN},e.push(a);s==C.default.types.JAKE&&this.jakeTokens.push(a)}i.push(e)}this.levelManager.activeLevels.push(i),this.levelManager.chunkAcum++,this.lifes&&this.destroyJakeTokens(!0)},e.prototype.start=function(){this.gameStarted=!0,this.controls.enable()},e.prototype.respawn=function(){var t=(this.levelManager.activeLevels[this.levelManager.activeLevels.length-1],this.levelManager.getStarterTile(this.levelManager.activeLevels.length-1));this.player.playerContainer.position.set(t.x+this.levelManager.tileWidth/2,t.y+this.levelManager.tileHeight/2),this.player.disable(),this.gameSpeedController.resetSpeed(),TweenLite.to(this.gameplayContainer,.75,{y:120,x:-this.player.playerContainer.position.x*this.gameplayContainer.scale.x+this.w/2,ease:Back.easeOut}),TweenLite.to(this.floorTile,.5,{y:120}),this.useLife(),this.jakeToken||(this.jakeToken=PIXI.Sprite.fromFrame("heart.png")),this.jakeToken.alpha=1,this.jakeToken.anchor.set(.5),this.jakeToken.scale.set(.5),this.view.addChild(this.jakeToken),this.jakeToken.position.set(this.w/2,60),this.gameStarted=!0;var e=[];e.push({x:this.jakeToken.x,y:this.jakeToken.y}),e.push({x:.35*this.w,y:.35*this.h}),e.push({x:this.w/2-15,y:this.h/2});var i=new TimelineLite;i.append(TweenLite.to(this.jakeToken.scale,.5,{x:1,y:1,ease:Back.easeOut})),i.append(TweenLite.to(this.jakeToken,.5,{bezier:{type:"soft",values:e}})),i.append(TweenLite.to(this.jakeToken.scale,.01,{x:0,y:0})),i.append(TweenLite.to(this.jakeToken.scale,.8,{x:1,y:1,ease:Elastic.easeOut,onComplete:this.restartPlayer.bind(this)})),i.append(TweenLite.to(this.jakeToken,.2,{alpha:0,ease:Back.easeOut}))},e.prototype.restartPlayer=function(){this.player.enable(),this.jakeToken&&this.jakeToken.parent&&this.jakeToken.parent.removeChild(this.jakeToken)},e.prototype.gameOver=function(){this.gameStarted=!1,this.player.velocity={x:0,y:0},this.lifes?this.respawn():(t.prototype.gameOver.call(this,"ice",this.score),O.default.music.currentSound&&O.default.music.currentSound.stop(),this.player.slideLoop&&(this.player.slideLoop.stop(),this.player.slideLoop=null))},e.prototype.update=function(e){if(e/=60,t.prototype.update.call(this),this.gameSpeed=this.gameSpeedController.update(this.gameStarted?e:0),this.particles&&this.particles.update(this.gameSpeed*e),I.default.update(),this.player.update(e),this.diamondCombo.update(e),this.levelManager.update(e),this.gameStarted){this.scoreTimer-=e,this.scoreTimer<=0&&(this.scoreTimer=.5,this.getPoint(1));var i=0,n=this.getRelativePlayerPosition();if(n.playerPos<0)return void this.gameOver();0!=this.player.velocity.x&&n.bleedingZone?(i=-this.player.velocity.x*e,i+=this.gameSpeed*e):i=-this.gameSpeed*e,i>0&&(i=-Math.abs(i)),this.gameplayContainer.x+=i,this.floorTile.tilePosition.x+=i/this.floorTile.scale.x,this.floorTile.tilePosition.x%=751,this.gameBackground.tilePosition.x+=i/this.gameBackground.scale.x*.5,this.floorTile.tilePosition.x%=540,this.updateZoom(e),this.updateGameForces(e),this.updatePatternGenerator()}},e.prototype.updateZoom=function(t){var e=1;0==this.player.velocity.x?(e=this.gameContainer.scale.x,e+=.1*t,e>1.05&&(e=1.05)):(e=this.gameContainer.scale.x,e-=.2*t,e<.92&&(e=.92)),this.gameContainer.scale.x=e,this.gameContainer.scale.y=e},e.prototype.updateGameForces=function(t){this.player.currentDirection&&(this.player.currentDirection.y>0&&this.gameplayContainer.y<160||this.player.currentDirection.y<0&&this.gameplayContainer.y>120)&&(this.gameplayContainer.y+=10*t*this.player.currentDirection.y,this.floorTile.y+=10*t*this.player.currentDirection.y)},e.prototype.getRelativePlayerPosition=function(){var t=this.gameplayContainer.x+this.player.playerContainer.x*this.gameplayContainer.scale.x;return!this.player.onBleedingZone&&t>.8*this.gameSize.width?this.player.onBleedingZone=!0:this.player.onBleedingZone&&t<.6*this.gameSize.width&&(this.player.onBleedingZone=!1),this.player.onBleedingZone&&this.player.velocity.x<0&&(this.player.onBleedingZone=!1),{playerPos:t,bleedingZone:this.player.onBleedingZone}},e.prototype.updatePatternGenerator=function(){var t=this.levelManager.getLastTile(),e=this.gameplayContainer.x+t.x*this.gameplayContainer.scale.x;e<=1.2*this.gameSize.width&&this.addNewPattern();var i=this.levelManager.getLastTileFromFirstPattern(),n=this.gameplayContainer.x+i.x*this.gameplayContainer.scale.x;n<=.5*-this.gameSize.width&&this.levelManager.removeFirstPattern()},e.prototype.onActionPressed=function(){},e.prototype.factoryControls=function(){return new M.default(this)},e.prototype.resize=function(t,e){this.w=t,this.h=e,this.hud.resize(t,e);var i=(this.w+50)/this.gameSize.width;this.gameContainer.x=25,this.gameContainer.y=25,this.gameContainer.scale.set(i),this.gameContainer.pivot.set(this.gameSize.width/2,this.gameSize.height/2),this.gameContainer.position.set(this.w/2,this.h/2),this.bgSky.position.set(this.w/2,this.h/2),this.vignette.width=this.w,this.vignette.height=this.h,this.camera.resize(t,e)},u(e,null,[{key:"gameConf",get:function(){return{perfect:1,great:.75,good:.6}}}]),e}(h.default);e.default=F,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=i(168),a=n(o),s=function(){function t(e){var i=this;r(this,t),this.game=e,this.keyboard=new a.default,this.keyboard.onKeyPress("left",function(){return i.game.swipeCallback({x:-1,y:0})}),this.keyboard.onKeyPress("right",function(){return i.game.swipeCallback({x:1,y:0})}),this.keyboard.onKeyPress("up",function(){return i.game.swipeCallback({x:0,y:-1})}),this.keyboard.onKeyPress("down",function(){return i.game.swipeCallback({x:0,y:1})})}return t.prototype.enable=function(){this.keyboard.start()},t.prototype.disable=function(){this.keyboard&&this.keyboard.stop()},t}();e.default=s,t.exports=e.default},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(138),u=r(s),l=i(17),h=r(l),c=i(1),f=n(c),d=i(21),p=function(){function t(){o(this,t),this.view=new f.Container,this.bar=new u.default("ice_combo_bar.png","ice_combo_bar_fill.png");var e=1;this.bar.view.scale.set(e),this.bar.view.position.set(-this.bar.view.width/2,-this.bar.view.height/2),this.comboText=h.default.getIceComboText("xX"),this.comboText.anchor.set(.5),this.comboText.position.set(this.bar.view.width/2+35,0),this.view.addChild(this.bar.view),this.view.addChild(this.comboText);var i=f.Sprite.fromFrame("diamond.png");i.anchor.set(.5),i.scale.set(.75),i.position.set(-this.bar.view.width/2-35,-5),this.view.addChild(i)}return t.prototype.updateComboText=function(){this.comboText.text="x"+this._multiplier,this.comboText.scale.set(0),d.TweenLite.to(this.comboText.scale,.5,{x:1,y:1,ease:Back.easeOut})},a(t,[{key:"multiplier",set:function(t){t!==this._multiplier&&(this._multiplier=t,this.updateComboText())},get:function(){return this._multiplier}},{key:"timeLeft",set:function(t){this.bar.value=t}}]),t}();e.default=p,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(109),u=n(s),l=i(425),h=n(l),c=i(21),f=function(t){function e(i){r(this,e);var n=o(this,t.call(this,i));return n.comboBar=new h.default,n.comboBar.view.scale.set(.7),n.view.addChild(n.comboBar.view),n.game.world.signals.onMultiplierChange.add(function(t){n.comboBar.multiplier=t;var e=1===t?0:1;c.TweenLite.to(n.comboBar.view,.3,{alpha:e})}),n}return a(e,t),e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i),this.comboBar.view.x=this.comboBar.view.width/2+50,this.comboBar.view.y=i-this.comboBar.view.height/2-20},e}(u.default);e.default=f,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(6),l=n(u),h=function(t){function e(){r(this,e);var i=o(this,t.call(this,0,0));return i.duration=900,i}return a(e,t),e.prototype.init=function(t){this.game=t},e.prototype.reset=function(){this.count=1,this.update()},e.prototype.addedToWorld=function(){},e.prototype.onDiamondCollected=function(){this.multiplier++,this.count=Math.round(this.duration/Math.pow(1.1,this.multiplier-2))},e.prototype.update=function(){this.count>0&&(this.count--,this.game.hud.comboBar.timeLeft=this.count/this.duration,0===this.count&&(this.multiplier=1))},s(e,[{key:"multiplier",set:function(t){this._multiplier=t,this.world.signals.onMultiplierChange.dispatch(this._multiplier)},get:function(){return this._multiplier}}]),e}(l.default);e.default=h,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(6),u=n(s),l=i(136),h=n(l),c=i(432),f=n(c),d=i(431),p=n(d),y=function(t){function e(i){r(this,e);var n=o(this,t.call(this));return n.container=i,n.particleManager=new h.default(i),n.particleManager.registerParticle(f.default,"snow"),n.particleManager.registerParticle(p.default,"avalanche"),n.avalancheList=[],n.snowList=[],n}return a(e,t),e.prototype.init=function(t){this.container=t,this.particleManager.container=t},e.prototype.update=function(t){this.particleManager.update();for(var e=0;e<this.avalancheList.length;e++)this.avalancheList[e].speed=t;for(var e=0;e<this.snowList.length;e++)this.snowList[e].speed=1.5*-t},e.prototype.removedFromWorld=function(){this.particleManager.clear()},e.prototype.doSlimeHit=function(t){for(var e=t.x,i=t.y,n=void 0,r=0;r<50;r++)n=this.particleManager.add(e,i,"snow"),this.snowList.push(n);for(var o=void 0,r=0;r<8;r++)o=this.particleManager.add(-40,i-80+75*r,"avalanche"),o.alpha=.75,this.avalancheList.push(o);for(var r=0;r<8;r++)o=this.particleManager.add(-80,i-100+75*r,"avalanche"),this.avalancheList.push(o)},e}(u.default);e.default=y,t.exports=e.default},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(139),l=r(u),h=i(6),c=r(h),f=i(29),d=(n(f),i(42)),p=r(d),y=i(14),v=r(y),m=i(3),g=r(m),_=i(16),b=r(_),w=i(17),x=r(w),T=function(t){function e(i,n){o(this,e);var r=a(this,t.call(this));r.game=n,r.playerContainer=new PIXI.Container,r.tileSize=i,r.baseSize=i-12,r.base=(new PIXI.Graphics).beginFill(2236962).drawRect(0,0,r.baseSize,r.baseSize),r.base.x=-r.base.width/2,r.base.y=-r.base.height/2,r.base.alpha=0,r.playerContainer.addChild(r.base),r.currentChar="finn",r.onStateStart=new g.default,r.onStateComplete=new g.default,r.sliderView=PIXI.Sprite.fromFrame("finn_01.png"),r.sliderView.anchor.set(1,.55),r.playerContainer.addChild(r.sliderView),r.sliderView.visible=!1,r.standardScale=r.baseSize/r.sliderView.height,r.animationManagerSlide=new p.default,r.animationManagerSlide.register("slide",{frames:v.default.getTexturesFromFramesWithPrefix("slide_trail/slide_trail__000%%.png"),speed:.5,loop:!0,anchor:{x:.4,y:.85}}),r.animationManagerSlide.register("slide_v",{frames:v.default.getTexturesFromFramesWithPrefix("slide_trail_vert/slide_trail_Vertical000%%.png"),speed:.5,loop:!0,anchor:{x:.4,y:.85}}),r.animationManagerSlide.play("slide"),r.playerView=PIXI.Sprite.fromFrame("finn_01.png"),r.playerView.anchor.set(.4,.85),r.playerContainer.addChild(r.playerView),r.playerView.scale.set(r.standardScale),r.playerView.visible=!1,r.reflectionView=PIXI.Sprite.fromFrame("finn_01.png"),r.reflectionView.anchor.set(.4,.85),r.game.gameplayContainer.addChildAt(r.reflectionView,0),r.reflectionView.scale.set(r.standardScale,.75*-r.standardScale),r.reflectionView.visible=!1,r.reflectionView.alpha=.5,r.animationManager=new p.default,r.animationManager.onComplete.add(r.onAnimationCompleted,r);var s=r.animationManager;return s.register("slide_finn",{frames:v.default.getTexturesFromFramesWithPrefix("finn_slide/finn_slide_0%%.png"),speed:.3,loop:!0,anchor:{x:.4,y:.85}}),s.register("slide_finn_boots",{frames:v.default.getTexturesFromFramesWithPrefix("finn_slide/finn_slide_boots_0%%.png"),speed:.3,loop:!0,anchor:{x:.4,y:.85}}),s.register("spawn_finn",{frames:v.default.getTexturesFromFramesWithPrefix("finn_spawn/finn_spawn_0%%.png"),speed:.3,loop:!1,anchor:{x:.4,y:.85}}),s.register("spawn_finn_boots",{frames:v.default.getTexturesFromFramesWithPrefix("finn_spawn/finn_spawn_boots_0%%.png"),speed:.3,loop:!1,anchor:{x:.4,y:.85}}),s.register("slide_jake",{frames:v.default.getTexturesFromFramesWithPrefix("jake_slide/jake_slide_0%%.png"),speed:.3,loop:!0,anchor:{x:.5,y:.75}}),s.register("slide_jake_boots",{frames:v.default.getTexturesFromFramesWithPrefix("jake_slide/jake_slide_boots_0%%.png"),speed:.3,loop:!0,anchor:{x:.5,y:.75}}),s.register("spawn_jake",{frames:v.default.getTexturesFromFramesWithPrefix("jake_spawn/jake_spawn_0%%.png"),speed:.3,loop:!1,anchor:{x:.5,y:.75}}),s.register("spawn_jake_boots",{frames:v.default.getTexturesFromFramesWithPrefix("jake_spawn/jake_spawn_0%%.png"),speed:.3,loop:!1,anchor:{x:.5,y:.75}}),s.register("hit_finn",{frames:v.default.getTexturesFromFramesWithPrefix("finn_hit/finn_hit_0%%.png"),speed:.5,loop:!1,anchor:{x:.5,y:.85}}),s.register("hit_finn_boots",{frames:v.default.getTexturesFromFramesWithPrefix("finn_hit/finn_hit_boots_0%%.png"),speed:.5,loop:!1,anchor:{x:.5,y:.85}}),s.register("hit_jake",{frames:v.default.getTexturesFromFramesWithPrefix("jake_hit/jake_hit_0%%.png"),speed:.3,loop:!1,anchor:{x:.5,y:.75}}),s.register("hit_jake_boots",{frames:v.default.getTexturesFromFramesWithPrefix("jake_hit/jake_hit_boots_0%%.png"),speed:.3,loop:!1,anchor:{x:.5,y:.75}}),r.feedbackLabel=x.default.getIceFeedbackStyle(""),r.playerContainer.addChild(r.feedbackLabel),r.disabled=!0,r.addState="",r.reset(),r}return s(e,t),e.prototype.setState=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t+="_"+this.currentChar+this.addState,this._state=t,this.animationManager.play(t,null,e),this.onStateStart.dispatch(t),this.animationManager.update(),this.playerView.texture=this.animationManager.texture,this.playerView.anchor.x=this.animationManager.currentAnimation.anchor.x,this.playerView.anchor.y=this.animationManager.currentAnimation.anchor.y,this.reflectionView.texture=this.animationManager.texture,this.reflectionView.anchor.x=this.animationManager.currentAnimation.anchor.x,this.reflectionView.anchor.y=this.animationManager.currentAnimation.anchor.y},e.prototype.onAnimationCompleted=function(t){switch(this.onStateComplete.dispatch(this._state),t){case"hit":break;case"stumble":}},e.prototype._reset=function(){this.currentChar="finn",this.playerView.visible=!1,this.reflectionView.visible=!1,this.playerView.scale.set(this.standardScale),this.reflectionView.scale.set(this.standardScale,.75*-this.standardScale),this.reset()},e.prototype.reset=function(){this.addState="",this.standardSpeed={x:450,y:450},this.boostTime=0,this.virtualVelocity={x:0,y:0},this.velocity={x:0,y:0},this.currentDirection=null,this.nextDirection=null,this.speedBoost=1,this.acceleration={x:2.5*this.standardSpeed.x,y:2.5*this.standardSpeed.y},this.onBleedingZone=!1,this.sliderView.scale.x=0,this.playerStarted=!1,this.disabled=!1,this.playerView.visible=!0,this.reflectionView.visible=!0,this.setState("spawn")},e.prototype.swapCharacters=function(){this.currentChar="finn"===this.currentChar?"jake":"finn",this.reset(),b.default.sfx.play("powerup"),TweenLite.killTweensOf(this.sliderView.scale),this.sliderView.scale.x=0,this.nextDirection=null,this.currentDirection=null},e.prototype.disable=function(){this.slideLoop&&(this.slideLoop.stop(),this.slideLoop=null),this.sliderView.scale.x=0,this.sliderView.visible=!1,this.virtualVelocity={x:0,y:0},this.velocity={x:0,y:0},this.currentDirection=null,this.nextDirection=null,this.disabled=!0,this.playerView.scale.set(0),this.reflectionView.scale.set(0)},e.prototype.enable=function(){b.default.sfx.play("ice_rumble",.6),this.slideLoop&&(this.slideLoop.stop(),this.slideLoop=null),this.sliderView.scale.x=0,this.sliderView.visible=!1,this.virtualVelocity={x:0,y:0},this.velocity={x:0,y:0},this.currentDirection=null,this.nextDirection=null,this.reset(),this.disabled=!1,this.swapCharacters("jake"),TweenLite.to(this.playerView.scale,.75,{x:this.standardScale,y:this.standardScale,ease:Elastic.easeOut}),TweenLite.to(this.reflectionView.scale,.75,{x:this.standardScale,y:.75*-this.standardScale,ease:Elastic.easeOut})},e.prototype.changeDirection=function(t){if(t&&!this.disabled&&(!this.currentDirection||this.currentDirection.x!=t.x||this.currentDirection.y!=t.y)){this.playerStarted=!0,this.setState("slide"),this.nextDirection=t;var e={x:this.standardSpeed.x*t.x,y:this.standardSpeed.y*t.y};this.testCollision(.05,e,t)&&(t.x&&(this.playerView.scale.x=t.x*this.standardScale,this.reflectionView.scale.x=t.x*this.standardScale),this.slideLoop&&this.slideLoop.stop(),b.default.sfx.play("ice_slide_01",.1),this.slideLoop=b.default.sfx.currentSound,this.currentDirection=t,this.virtualVelocity.x=this.standardSpeed.x*t.x,this.virtualVelocity.y=this.standardSpeed.y*t.y,this.velocity.x=0,this.velocity.y=0,1==t.x?(this.sliderView.rotation=0,this.sliderView.scale.y=1,this.animationManagerSlide.play("slide")):t.x==-1?(this.sliderView.rotation=Math.PI,this.sliderView.scale.y=-1,this.animationManagerSlide.play("slide")):1==t.y?(this.animationManagerSlide.play("slide_v"),this.sliderView.rotation=Math.PI/2):t.y==-1&&(this.animationManagerSlide.play("slide_v"),this.sliderView.rotation=-Math.PI/2),this.sliderView.visible=!0,TweenLite.killTweensOf(this.sliderView.scale),this.sliderView.scale.x=0,TweenLite.to(this.sliderView.scale,2,{x:1.3}),this.sliderView.alpha=0,TweenLite.to(this.sliderView,1,{alpha:1}))}},e.prototype.popText=function(t,e,i){this.feedbackLabel.text=t,this.feedbackLabel.pivot.x=-this.feedbackLabel.width/2,this.feedbackLabel.pivot.y=-this.feedbackLabel.height/2,this.feedbackLabel.scale.set(0),this.feedbackLabel.rotation=2*Math.random()-1,this.feedbackLabel.alpha=1,this.feedbackLabel.x=e,this.feedbackLabel.y=i,TweenLite.killTweensOf(this.feedbackLabel),TweenLite.killTweensOf(this.feedbackLabel.scale);var n=t<=10?1:1.5;TweenLite.to(this.feedbackLabel.scale,.5,{x:n,y:n,ease:Elastic.easeOut}),TweenLite.to(this.feedbackLabel,.6,{y:this.feedbackLabel.y-20-10*Math.random(),rotation:0,ease:Elastic.easeOut}),TweenLite.to(this.feedbackLabel,.9,{delay:.65,alpha:0,y:this.feedbackLabel.y-50}),this.playerContainer.addChild(this.feedbackLabel)},e.prototype.takeItem=function(t,e){this.pickupSound&&this.pickupSound.stop(),b.default.sfx.play("item_pickup"),this.pickupSound=b.default.sfx.currentSound;var i=50,n=-this.tileSize/2+Math.random()*i-i/2,r=-this.playerView.height-this.tileSize/2-15;if(t.type==l.default.types.BOOST)this.addState="_boots",this.setState("slide"),this.boostTime=10;else if(t.type==l.default.types.DIAMOND||t.type==l.default.types.BIG_DIAMOND){var o=t.points||e.points;t.type==l.default.types.BIG_DIAMOND&&(o*=this.game.diamondCombo.multiplier,this.game.diamondCombo.onDiamondCollected()),this.game.getPoint(o),this.popText(o,n,r)}else t.type==l.default.types.JAKE&&this.game.getLife();t.explode()},e.prototype.testCollision=function(t,e,i){if(i){var n=this.playerContainer.x+e.x*t+i.x*this.baseSize/2,r=this.playerContainer.y+e.y*t+i.y*this.baseSize/2,o=this.playerContainer.x+e.x*t+i.x*this.baseSize/2,a=this.playerContainer.y+e.y*t+i.y*this.baseSize/2,s=0,u=0;0!=i.x?(r+=this.baseSize/2,a-=this.baseSize/2):0!=i.y&&(n+=this.baseSize/2,o-=this.baseSize/2),s=Math.floor(n/this.game.chunkSize),u=Math.floor(o/this.game.chunkSize),n=Math.floor(n/this.tileSize),o=Math.floor(o/this.tileSize),r=Math.floor(r/this.tileSize),a=Math.floor(a/this.tileSize);var h=this.game.levelManager.getTile(r,n,s),c=this.game.levelManager.getTile(a,o,u);this.currentChunk=s;var f=h.tile&&h.tile.type||l.default.types.EMPTY,d=c.tile&&c.tile.type||l.default.types.EMPTY,p=f==l.default.types.WALL||d==l.default.types.WALL;if(p){var y=h.tile.type==l.default.types.WALL?h:c;if(!y.tile)return;return!!(this.playerContainer&&y&&y.tile)&&(e.y<0?this.playerContainer.y=y.tile.y+this.game.levelManager.tileHeight+this.baseSize/2+1:e.y>0&&(this.playerContainer.y=y.tile.y-this.baseSize/2-1),e.x<0?this.playerContainer.x=y.tile.x+this.game.levelManager.tileHeight+this.baseSize/2+1:e.x>0&&(this.playerContainer.x=y.tile.x-this.baseSize/2-1),TweenLite.to(this.sliderView.scale,.2,{x:0}),!1)}return f!=l.default.types.EMPTY&&f==d&&this.takeItem(h.tile,c.tile),!0}},e.prototype.applyForces=function(t){this.virtualVelocity.x>this.velocity.x?(this.velocity.x+=this.acceleration.x*t,this.velocity.x>this.virtualVelocity.x&&(this.velocity.x=this.virtualVelocity.x)):this.virtualVelocity.x<this.velocity.x&&(this.velocity.x-=this.acceleration.x*t,this.velocity.x<this.virtualVelocity.x&&(this.velocity.x=this.virtualVelocity.x)),this.virtualVelocity.y>this.velocity.y?(this.velocity.y+=this.acceleration.y*t,this.velocity.y>this.virtualVelocity.y&&(this.velocity.y=this.virtualVelocity.y)):this.virtualVelocity.y<this.velocity.y&&(this.velocity.y-=this.acceleration.y*t,this.velocity.y<this.virtualVelocity.y&&(this.velocity.y=this.virtualVelocity.y))},e.prototype.update=function(t){if(this.reflectionView.x=this.playerContainer.x,this.reflectionView.y=this.playerContainer.y+this.playerView.height*(1-this.animationManager.currentAnimation.anchor.y),this.disabled||(this.nextDirection!=this.currentDirection&&this.changeDirection(this.nextDirection),(Math.abs(this.velocity.x)+Math.abs(this.velocity.y)>0||!this.playerStarted)&&(this.animationManager.update(),this.playerView.texture=this.animationManager.texture,this.reflectionView.texture=this.animationManager.texture),this.animationManagerSlide.update(),this.sliderView.texture=this.animationManagerSlide.texture,this.sliderView.visible=!0),this.testCollision(t,this.virtualVelocity,this.currentDirection)?this.applyForces(t):this.currentDirection&&(this.game.shake(this.currentDirection),this.slideLoop&&(this.slideLoop.stop(),b.default.sfx.play("ice_impact_02"),this.slideLoop=null),this.velocity={x:0,y:0}),this.boostTime>0){this.addState="_boots",this.speedBoost=1.5;var e=this.boostTime;if(this.boostTime-=t,this.boostTime<=0)this.addState="",this.setState("slide");else if(this.boostTime<3){var i=4;Math.floor(e*i)!=Math.floor(this.boostTime*i)&&(this.addState=Math.round(this.boostTime*i*.5)>this.boostTime*i*.5?"":"_boots",this.setState("slide"))}}else this.speedBoost=1,this.addState="";this.playerContainer.x+=t*this.velocity.x*this.speedBoost,
this.playerContainer.y+=t*this.velocity.y*this.speedBoost},e}(c.default);e.default=T,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(6),u=(n(s),i(139)),l=n(u),h=function(t){function e(i){r(this,e);var n=o(this,t.call(this));return n.manager=i,n.textureSprite=new PIXI.Sprite,n.addChild(n.textureSprite),n}return a(e,t),e.prototype.reset=function(t,e){this.type=t,this.points=0;var i="";if(t==l.default.types.WALL){var n=Math.ceil(10*Math.random()),r="";r=n>9?n:"0"+n,i="iceblock_"+r+".png"}else t==l.default.types.JAKE?i="heart.png":t==l.default.types.BOOST?i="speed_boots.png":t==l.default.types.DIAMOND?(this.points=10,i=e||"treasure_01.png"):t==l.default.types.BIG_DIAMOND&&(this.points=100,i="diamond.png");this.textureSprite.texture=PIXI.Texture.fromFrame(i),this.killedFromStage=!1,this.baseScale=t===l.default.types.JAKE?.75:1,this.scale.set(this.baseScale),this.alpha=1,this.textureSprite.anchor.set(.5),this.textureSprite.x=30,this.textureSprite.y=30,this.startedPosition=this.textureSprite.y,this.speed=200,this.textureSprite.alpha=1,this.timerAnim=3*Math.random()+2,this.timerAnimMax=this.timerAnim,this.bouncing=0,t!=l.default.types.WALL&&(this.reflectionView=PIXI.Sprite.fromFrame(i),this.reflectionView.anchor.set(.5,1),this.addChildAt(this.reflectionView,0),this.reflectionView.scale.set(this.baseScale+.05,.75*-this.baseScale),this.reflectionView.alpha=.5,this.reflectDistance=t==l.default.types.JAKE?this.textureSprite.height/2:15,this.reflectionView.x=this.textureSprite.x,this.reflectionView.y=this.textureSprite.y+this.reflectDistance),this.textureSprite.scale.set(1),t!=l.default.types.WALL&&(this.sin=Math.random()*Math.PI,this.textureSprite.y=this.startedPosition+1*this.speed/60*Math.sin(this.sin+=.1)),this.update()},e.prototype.explode=function(){this.type!=l.default.types.EMPTY&&(this.reflectionView&&(this.reflectionView.alpha=0),this.type=l.default.types.EMPTY,TweenLite.from(this.textureSprite.scale,.9,{x:2,y:.25,ease:Elastic.easeOut}),TweenLite.to(this.textureSprite,.5,{alpha:0,y:-20,ease:Back.easeIn}),TweenLite.to(this.textureSprite,.15,{delay:1,onComplete:function(){this.destroy()}.bind(this)}))},e.prototype.bounceEaseOut=function(t){return t<4/11?121*t*t/16:t<8/11?9.075*t*t-9.9*t+3.4:t<.9?4356/361*t*t-35442/1805*t+16061/1805:10.8*t*t-20.52*t+10.72},e.prototype.update=function(t){if(this.type!=l.default.types.WALL&&this.type!=l.default.types.EMPTY){if(t=1/60,this.bouncing>0){if(1==this.bouncing)this.textureSprite.y-=120*t,this.textureSprite.y<this.startedPosition-20&&(this.bouncing=2);else if(2==this.bouncing){this.timerAnim+=1.15*t;var e=this.bounceEaseOut(this.timerAnim);this.textureSprite.y=this.startedPosition-20+20*e,this.timerAnim>1&&(this.timerAnim=2*Math.random()+1,this.timerAnimMax=this.timerAnim,this.bouncing=0)}}else this.timerAnim-=t,this.timerAnim<0&&(this.bouncing=1);if(this.reflectionView){this.reflectionView.y=this.textureSprite.y+this.reflectDistance+2*(this.startedPosition-this.textureSprite.y)*.75;var i=this.textureSprite.y/(this.startedPosition+30);i>1&&(i=1),this.reflectionView.alpha=.5*i}}},e.prototype.destroy=function(){this.killedFromStage||(this.parent&&this.parent.removeChild(this),TweenLite.killTweensOf(this.textureSprite),TweenLite.killTweensOf(this.textureSprite.scale),this.type=l.default.types.EMPTY,this.killedFromStage=!0,this.type==l.default.types.WALL?this.manager.returnWallToPool(this):this.manager.returnTileToPool(this))},e}(PIXI.Sprite);e.default=h,t.exports=e.default},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(1),u=n(s),l=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;r(this,e);var n=(Math.ceil(5*Math.random()),u.Texture.fromFrame("avalanche_particle.png")),a=o(this,t.call(this,n));return a.anchor.set(.5),a.alpha=i,a.speed=0,a}return a(e,t),e.prototype.activate=function(t,e){this._x=t,this._y=e,this.reset()},e.prototype.reset=function(){var t=5,e=(-Math.PI/3,Math.PI*Math.random()*2),i=5;this.vx=Math.sin(e)*i/2,this.vy=Math.cos(e)*i/2,this.position.x=this._x+this.vx*t*Math.random(),this.position.y=this._y+this.vy*t*Math.random(),this.rotation=Math.random()*Math.PI,this.vr=.1*Math.random(),this.scale.set(.5+.3*Math.random()),this.alphaTarget=1.1-this.scale.x/3,this.v={x:0,y:0},this.v.x=.55*this.alphaTarget,this.v.y=0,this.isDead=!1,this.count=Math.random()*Math.PI,this.count2=Math.random()*Math.PI},e.prototype.update=function(){this.count+=.05,this.count2+=.75,this.y+=this.v.y+Math.cos(this.count2),this.x+=this.v.x*Math.sin(this.count)*(this.speed/this.alpha),this.v.x*=0==this.speed?-1:1},e}(u.Sprite);e.default=l,t.exports=e.default},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(1),u=n(s),l=function(t){function e(){r(this,e);var i=(Math.ceil(5*Math.random()),u.Texture.fromFrame("snow_particle.png")),n=o(this,t.call(this,i));return n.anchor.set(.5),n}return a(e,t),e.prototype.activate=function(t,e){this._x=t,this._y=e,this.reset()},e.prototype.reset=function(){var t=400,e=(-Math.PI/3,Math.PI*Math.random()*2),i=5;this.vx=Math.sin(e)*i/2,this.vy=Math.cos(e)*i/2,this.position.x=this._x+this.vx*t*Math.random(),this.position.y=this._y+this.vy*t*Math.random(),this.rotation=Math.random()*Math.PI,this.vr=.1*Math.random(),this.scale.set(5*Math.random()+1),this.alpha=0,this.alphaTarget=1.1-this.scale.x/3,this.v={x:0,y:0},this.v.x=.55*this.alphaTarget,this.v.y=.75*this.alphaTarget,this.isDead=!1,this.count=Math.random()*Math.PI,this.blendMode=u.BLEND_MODES.ADD,this.speed=0},e.prototype.update=function(){return this.x+=this.v.x*Math.sin(this.count)+this.speed,this.alpha<this.alphaTarget?void(this.alpha+=.005):(this.alphaTarget=-1,this.count+=.05,this.alpha-=.001,this.scale.x-=.001,this.scale.y-=.001,this.y+=this.v.y,void((this.scale.x<=0||this.alpha<=0)&&this.reset()))},e}(u.Sprite);e.default=l,t.exports=e.default},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n=function(){function t(){i(this,t),this.start=0,this.acceleration=5,this.default=100,this.startAcceleratingAfter=40,this.max=160,this.reset()}return t.prototype.reset=function(){this.speed=this.start,this.time=0},t.prototype.resetSpeed=function(){this.speed=this.start},t.prototype.update=function(t){this.time+=t;var e=this.speed<this.max&&(this.speed<this.default||this.time>this.startAcceleratingAfter);return e&&(this.speed+=this.acceleration*t),this.speed},t}();e.default=n,t.exports=e.default},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n=function(){function t(e){i(this,t),this.target=e,this.target.interactive=!0,this.initialPoint,this.finalPoint}return t.prototype.startDetect=function(t){t&&(this.target.touchstart=function(t){this.initialPoint={x:t.data.global.x,y:t.data.global.y}}.bind(this),this.target.touchend=this.target.touchendoutside=function(e){this.finalPoint={x:e.data.global.x,y:e.data.global.y};var i=Math.abs(this.initialPoint.x-this.finalPoint.x),n=Math.abs(this.initialPoint.y-this.finalPoint.y);(i>20||n>20)&&t(i>n?this.finalPoint.x<this.initialPoint.x?{x:-1,y:0}:{x:1,y:0}:this.finalPoint.y<this.initialPoint.y?{x:0,y:-1}:{x:0,y:1})}.bind(this))},t}();e.default=n,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(89),l=n(u),h=1,c=.75,f=1.2,d=.1,p=.02,y={x:300,y:-100},v={x:0,y:0},m=function(t){function e(i,n){r(this,e);var a=o(this,t.call(this));return a.minSpeed=i,a.maxSpeed=n,a.zoom=h,a}return a(e,t),e.prototype.setCountdownState=function(){this.easedZoom=.8},e.prototype.setStumbleState=function(){this._state="stumble",this.stumbleCount=0,this.isTrackingVelocity=!1,this.allEasing=.05,this.easedZoom=f,this.offset=y},e.prototype.setDeathState=function(){this._state="death",this.isTrackingVelocity=!1,this.offset=v,this.allEasing=p,this.easedZoom=f},e.prototype.setPlayState=function(){this._state="play",this.target=this._player.position,this.isTrackingVelocity=!0,this.offset=y,this.easedZoom=h,this.easing=d,this.zoomEasing=.01},e.prototype.update=function(){var e=this._targetZoom;this.isTrackingVelocity&&this._player.body.velocity.x>this.minSpeed+(this.maxSpeed-this.minSpeed)/4&&(this._targetZoom=c),"stumble"===this._state&&(this.stumbleCount++,40===this.stumbleCount&&this.setPlayState()),t.prototype.update.call(this),this._targetZoom=e},s(e,[{key:"player",set:function(t){this._player=t}}]),e}(l.default);e.default=m,t.exports=e.default},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(106),h=r(l),c=i(90),f=n(c),d=i(435),p=r(d),y=i(11),v=r(y),m=i(3),g=r(m),_=i(680),b=(r(_),i(41)),w=r(b),x=i(463),T=r(x),S=i(209),E=r(S),C=i(454),P=r(C),M=i(460),A=r(M),O=i(458),k=r(O),I=i(464),R=r(I),L=i(390),B=r(L),D=i(201),F=r(D),j=i(467),N=r(j),X=i(462),U=r(X),G=i(444),Y=r(G),z=i(445),V=r(z),W=i(451),H=r(W),q=i(16),K=r(q),Z=i(75),J=(r(Z),i(28)),Q=r(J),$="finn",tt="jake",et={x:100,y:300},it=6,nt=20,rt=3,ot=it-1,at=100,st=nt+2,ut=600,lt=3,ht=3,ct=1.3,ft=function(t){function e(){o(this,e);var i=a(this,t.call(this));return i.musicID="slime_music",i.controls.onActionPress.add(i.onActionPressed,i),i}return s(e,t),e.prototype.createGame=function(){this.world=new f.World,this.camera=new p.default(it,nt),this.world.install(new f.PixiView({camera:this.camera}),"view"),this.world.install(new f.CrashWorld,"crash"),this.terrainSystem=new N.default({positionProvider:this.camera}),this.world.install(this.terrainSystem),this.world.registerSignal("onItemCollect"),this.world.signals.onItemCollect.add(this.onItemCollected,this),this.onDiscoModeChange=new g.default,this.view.addChild(this.world.view),this.vignette=PIXI.Sprite.fromImage(window.ASSET_URL+"image/slime/vignette_multiply.png"),this.vignette.blendMode=PIXI.BLEND_MODES.MULTIPLY,this.view.addChild(this.vignette);var t=this.scroller=new B.default;t.addTilingElement(PIXI.Texture.fromImage("assets/image/slime/bg_tile_01.png"),0,t.backView,1,100)},e.prototype.reset=function(e){var i=this;t.prototype.reset.call(this,e),this.controls.reset(),this.world.clear(),this.player=w.default.getObject(T.default),this.camera.player=this.player,this.player.signals.onFall.add(this.onPlayerFallen,this),this.player.signals.onSlurp.add(this.onPlayerSlurped,this),this.player.signals.onObstacleHit.add(this.onPlayerObstacleHit,this),this.player.position.set(et.x,et.y),this.world.add(this.player),this.slime=w.default.getObject(E.default),this.slime.body.position.set(et.x-at,435),this.slime.init({startingSpeed:ot,maxSpeed:st,maxHillEffect:rt,maxDistanceToPlayer:ut,speedVary:lt,speedVaryDuration:ht}),this.slime.startChasing(),this.world.add(this.slime),this.discoMode=w.default.getObject(P.default),this.discoMode.signals.onComplete.add(function(){return i.onDiscoModeChange.dispatch(!1)}),this.discoMode.signals.onAvailable.add(function(t){return i.terrainSystem.discoAvailable=t}),this.terrainSystem.onDiscoBallCreate.add(function(){return i.discoMode.isAvailable=!1}),this.world.add(this.discoMode),this.lifeTokenAvailability=w.default.getObject(A.default),this.lifeTokenAvailability.signals.onAvailable.add(function(t){return i.terrainSystem.lifeTokenAvailable=t}),this.terrainSystem.onLifeTokenCreate.add(function(){return i.lifeTokenAvailability.activate()}),this.world.add(this.lifeTokenAvailability),this.lifeTokens=1,this.hasBeenSlurped=!1,this.character=null,this.trackedDistance=0,this.world.add(this.scroller),this.particles=w.default.getObject(U.default),this.particles.init(this.world.view.innerContainer),this.world.add(this.particles);var n=this.rotater=w.default.getObject(R.default);n.init(this.camera),this.world.add(n),this.terrainSystem.update(),this.respawn(),this.camera.setCountdownState(),this.camera.snapToTarget(),this.controls.disable()},e.prototype.softStart=function(){t.prototype.softStart.call(this)},e.prototype.start=function(){this.camera.setPlayState(),t.prototype.start.call(this)},e.prototype.quit=function(){Q.default.clear(),this.world.clear(),t.prototype.quit.call(this)},e.prototype.update=function(){if(t.prototype.update.call(this),Q.default.update(),this.controls.onGround=this.player.isOnPlatform,this.controls.update(),!this.player.isDead){var e=this.controls.x*(nt-it);e+=this.rotater.currentRatio*rt,this.controls.x>.8&&this.slime.isClose&&(e*=ct),this.player.move(it+e)}this.world.update(),this.hud.update(),this.updateScore()},e.prototype.updateScore=function(){var t=this.player.position.x-et.x;if(this.gameStarted&&!this.player.isDead)for(;t-this.trackedDistance>100;)this.trackedDistance+=100,this.score+=10*(this.discoMode.isActive?2:1);else this.trackedDistance=t},e.prototype.onActionPressed=function(){this.player.isOnPlatform&&(this.player.jump(),K.default.sfx.play("slime_jump"))},e.prototype.onItemCollected=function(t){if(t.belongsToGroup("DiscoBall"))this.discoMode.activate(),this.onDiscoModeChange.dispatch(!0),K.default.sfx.play("powerup");else if(t.belongsToGroup("LifeToken"))this.lifeTokens++,K.default.sfx.play("powerup");else if(t.belongsToGroup("Gem")){K.default.sfx.play("item_pickup");var e=10*(this.discoMode.isActive?2:1);this.score+=e;var i=w.default.getObject(F.default);i.text=e,i.position.copy(t.position),this.world.add(i)}t.collectComponent.activate()},e.prototype.onPlayerFailed=function(){K.default.sfx.play("candy_scream_0"+(Math.random()>.5?"3":"4")),this.discoMode.deactivate(),this.camera.setDeathState(),this.controls.disable(),this.slime.stopChasing(),Q.default.delayedCall(3,this.lifeTokens>0?this.respawn:this.gameOver,null,this),this.lifeTokens--},e.prototype.gameOver=function(){this.slime.gameOver(),t.prototype.gameOver.call(this,"slime",this.score)},e.prototype.onPlayerSlurped=function(){this.player.isDead||(this.lifeTokens>0&&(this.hasBeenSlurped=!0),this.onPlayerFailed(),this.player.stop(),this.player.slurp(),K.default.sfx.play("slime_slurp"))},e.prototype.onPlayerFallen=function(t){if(!this.player.isDead){this.onPlayerFailed(),this.player.fall(),this.camera.target=t.position,this.camera.shake();var e=w.default.getObject(k.default);e.position.set(t.position.x,t.position.y+100),this.world.add(e),e.play(this.camera),K.default.sfx.play("slime_fall")}},e.prototype.onPlayerObstacleHit=function(t){this.player.isDead||(this.camera.shake(),this.camera.setStumbleState(),this.player.stumble(),this.slime.onPlayerStumble()),t.belongsToGroup("slimeObstacle")&&this.particles.doSlimeHit(t),K.default.sfx.play("slime_impact")},e.prototype.respawn=function(){this.character=this.otherCharacter,this.controls.enable(),this.player._reset(),this.player.position.y=et.y;var t=300;this.hasBeenSlurped&&(t+=this.player.slurpComponent.slurpDistance,this.hasBeenSlurped=!1),this.player.position.x=this.terrainSystem.getSpawnPosition(this.player.position.x+t,this.player.position.y),this.player.enableMovement(),this.player.run(),this.slime.startChasing(),this.camera.setPlayState(this.player),this.slime.respawn(),K.default.sfx.play("character_swap")},e.prototype.factoryControls=function(){var t=v.default.instance.desktop?new Y.default(this):new V.default;return t.view&&this.view.addChild(t.view),t},e.prototype.factoryHud=function(){return new H.default(this)},e.prototype.resize=function(t,e){this.w=t,this.h=e,this.camera.setWorldBounds(Number.NEGATIVE_INFINITY,-e/2,Number.POSITIVE_INFINITY,e),this.camera.resize(t,e),this.hud.resize(t,e),this.controls.resize(t,e),this.vignette.width=t,this.vignette.height=e},u(e,[{key:"lifeTokens",set:function(t){this._lifeTokens=t,this.onLivesChange.dispatch(t),1===t?this.lifeTokenAvailability.deactivate():0===t&&this.lifeTokenAvailability.activate()},get:function(){return this._lifeTokens}},{key:"character",set:function(t){this._character=t,this.terrainSystem.lifeTokenCharacter=this.otherCharacter,this.player.character=t}},{key:"otherCharacter",get:function(){return this._character===$?tt:$}}]),e}(h.default);e.default=ft,t.exports=e.default},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:45;i(this,t),this.item=e,this.jumpVelocity=n}return t.prototype.jump=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;t=t||this.jumpVelocity,this.item.body.velocity.y=-t},n(t,null,[{key:"id",get:function(){return"jumpComponent"}}]),t}();e.default=r,t.exports=e.default},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e){i(this,t),this.item=e,this.targetSpeed=this.minimumSpeed,this.reset()}return t.prototype.stop=function(){this.isLocked=!0,this.targetSpeed=0},t.prototype.move=function(t){this.isLocked||(this.targetSpeed=t)},t.prototype.reset=function(){this.isLocked=!1},t.prototype.update=function(){var t=this.item.body.velocity.x;this.item.body.velocity.x+=.5*(this.targetSpeed-t)},n(t,[{key:"isLocked",set:function(t){this._isLocked=t},get:function(){return this._isLocked}}],[{key:"id",get:function(){return"moveComponent"}}]),t}();e.default=r,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(1),u=(r(s),i(42)),l=n(u),h=i(14),c=n(h),f=i(3),d=n(f),p=i(16),y=n(p),v=function(){function t(e){o(this,t),this.item=e,this.onStateStart=new d.default,this.onStateComplete=new d.default,this.footstepDice=1}return t.prototype.update=function(){if(this._state&&(this.animationManager.speed=this.isRunning?this._runSpeed:1,this.animationManager.update(),"run1"===this._state)){var t=Math.floor(this.animationManager.currentAnimation.currentFrame);t%=this.animationManager.currentAnimation.frames.length,"finn"===this.name?this.checkFootstep(t,5,13):4!==t&&10!==t||this.checkFootstep(t,4,10)}},t.prototype.checkFootstep=function(t,e,i){this.lastFrame===-1||this.lastFrame===i?t>=e&&t<i&&(this.playFootstep(e),this.lastFrame=e):this.lastFrame===e&&(t>=i||t<e)&&(this.playFootstep(i),this.lastFrame=i)},t.prototype.playFootstep=function(){y.default.sfx.play("slime_step_"+(1===this.footstepDice?2:1))},t.prototype.reset=function(){this._runSpeed=1,this.setState(null),this.shouldStumble=!1},t.prototype.initAnimations=function(t){this.name=t,this.animationManager&&this.animationManager.onComplete.removeAll(),this.animationManager=new l.default,this.animationManager.onComplete.add(this.onAnimationCompleted,this);var e=this.animationManager;e.register("run1",{frames:c.default.getTexturesFromFramesWithPrefix(t+"/run1/"+t+"_run100%%.png"),speed:.5,loop:!0}),e.register("jumpStart",{frames:c.default.getTexturesFromFramesWithPrefix(t+"/jump/"+t+"_jump_start00%%.png"),speed:1,loop:!1}),e.register("jumpPeak",{frames:c.default.getTexturesFromFramesWithPrefix(t+"/jump/"+t+"_jump_air00%%.png"),speed:.5,loop:!1}),e.register("land",{frames:c.default.getTexturesFromFramesWithPrefix(t+"/jump/"+t+"_jump_landing00%%.png"),speed:.5,loop:!1}),e.register("stumble",{frames:c.default.getTexturesFromFramesWithPrefix(t+"/hit/"+t+"_hit00%%.png"),speed:.5,loop:!1}),e.register("fall",{frames:c.default.getTexturesFromFramesWithPrefix(t+"/slimed/"+t+"_slimed00%%.png",7,1),speed:.5,loop:!1}),e.register("slurp",{frames:c.default.getTexturesFromFramesWithPrefix(t+"/slimed/"+t+"_slimed00%%.png"),speed:.5,loop:!1}),this.setState("run1"),this.animationManager.update()},t.prototype.run=function(){this.lastFrame=-1,this.setState("run1")},t.prototype.jump=function(){this.setState("jumpStart"),this.playFootstep()},t.prototype.jumpPeak=function(){this.setState("jumpPeak")},t.prototype.land=function(){this.setState("land"),this.playFootstep()},t.prototype.stumble=function(){this.shouldStumble=!1,this.setState("stumble")},t.prototype.fall=function(){this.setState("fall")},t.prototype.slurp=function(){this.setState("slurp")},t.prototype.setState=function(t){this.onStateComplete.dispatch(this._state),this._state=t,t&&(this.animationManager.play(t),this.onStateStart.dispatch(t))},t.prototype.onAnimationCompleted=function(t){if(!this.item.isDead)switch(t){case"land":this.shouldStumble?this.stumble():this.run();break;case"stumble":this.run()}},a(t,[{key:"state",get:function(){return this._state}},{key:"isRunning",get:function(){return"run1"===this._state||"run2"===this._state}},{key:"texture",get:function(){return this.animationManager.texture}},{key:"speed",set:function(t){this._runSpeed=t}}],[{key:"id",get:function(){return"playerAnimationComponent"}}]),t}();e.default=v,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(14),s=n(a),u=i(42),l=n(u),h=function(){function t(e){r(this,t),this.chaseThreshold=200,this.item=e,this.animationManager=new l.default,this.animationManager.onComplete.add(this.onChaseComplete,this),this.animationManager.register("idle",{frames:s.default.getTexturesFromFrames(["slime_face_01.png"]),speed:.5,loop:!0}),this.animationManager.register("chase",{frames:s.default.getTexturesFromFrames(["slime_face_01.png","slime_face_02.png","slime_face_03.png","slime_face_04.png","slime_face_05.png","slime_face_04.png","slime_face_03.png","slime_face_02.png"]),speed:.2,loop:!1}),this.animationManager.register("chomp",{frames:s.default.getTexturesFromFrames(["slime_chewing_face_01.png","slime_chewing_face_02.png","slime_chewing_face_03.png","slime_chewing_face_04.png"]),speed:.1,loop:!0}),this.animationManager.register("smile",{frames:[PIXI.Texture.fromFrame("slime_chewing_face_04.png")],speed:0,loop:!0}),this.sprite=PIXI.Sprite.fromFrame("slime_face_01.png"),this.sprite.anchor.set(0,0),this.view=new PIXI.Container,this.view.addChild(this.sprite)}return t.prototype.reset=function(){this.idle()},t.prototype.idle=function(){this._setState("idle")},t.prototype.chase=function(){this._setState("chase",!0)},t.prototype.chomp=function(){this._setState("chomp")},t.prototype.smile=function(){this._setState("smile")},t.prototype.update=function(){"idle"===this._state&&this.checkDistanceToPlayer(),this.animationManager.update(),this.sprite.texture=this.animationManager.texture},t.prototype.onChaseComplete=function(t){"chase"===t&&this.checkDistanceToPlayer()},t.prototype.checkDistanceToPlayer=function(){this.player||(this.player=this.item.world.find("player")),this.distanceToPlayer=this.player.position.x-this.item.position.x,this.distanceToPlayer<this.chaseThreshold?this.chase():this.idle()},t.prototype._setState=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(e||t!==this._state)&&(this._state=t,this.animationManager.play(t,null,e))},o(t,null,[{key:"id",get:function(){return"slimeFaceComponent"}}]),t}();e.default=h,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(16),s=n(a),u=i(104),l=n(u),h=i(18),c=n(h),f=function(){function t(e){r(this,t),this.item=e,this.maxDistanceToPlayer=500,this.startingSpeed=3,this.maxSpeed=10,this.maxHillEffect=0,this.speedVary=3,this.speedVaryDuration=180,this.sound=s.default.sfx.play("slime_loop"),this.delayedCalls=new l.default(c.default.game),this.targetPos=0,this.reset()}return t.prototype.reset=function(){this.count=0,this.easeCount=0,this.easeTotal=100,this.respawns=0,this.currentVelocity=this.targetVelocity=this.startingSpeed,this.player=null,this.viewRotater=null,this.sound.stop(),this.delayedCalls.clear(),this.isEasingToPlayer=!1},t.prototype.init=function(t){Object.assign(this,t),this.reset(),this.sound.play()},t.prototype.respawn=function(){var t=this;this.respawns++,this.currentVelocity=0,this.isEasingToPlayer=!1,this.respawns>1?this.targetVelocity=Math.min(this.targetVelocity-2,this.maxSpeed-8):this.targetVelocity=this.startingSpeed,this.targetPos=this.item.position.x;var e=function(){t.enabled=!0,t.easeToPlayer()};1===this.respawns?e():(this.enabled=!1,this.delayedCalls.add(e,.5))},t.prototype.easeToPlayer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.01;this.easing=e,this.easingDistance=t,this.isEasingToPlayer=!0},t.prototype.update=function(){this.count++,600===this.count&&this.targetVelocity<this.maxSpeed&&(this.targetVelocity+=1,this.count=0),this.player||(this.player=this.item.world.find("player")),this.viewRotater||(this.viewRotater=this.item.world.find("viewRotater"));var t=this.currentVelocity,e=this.player.body.velocity.x;if(this.player){var i=this.player.position.x-this.targetPos,n=1-2*i/this.maxDistanceToPlayer;if(n=Math.max(0,Math.min(1,n)),this.sound.volume(n),this.isEasingToPlayer)if(i<this.easingDistance+e)this.isEasingToPlayer=!1;else{var r=i-this.easingDistance;t=e+r*this.easing}else if(i<0||!this._enabled)t*=.9;else if(i>this.maxDistanceToPlayer)this.easeToPlayer(200+100*Math.random());else{var o=this.targetVelocity,a=this.viewRotater.currentRatio*this.maxHillEffect;o+=a;var s=this.count%this.speedVaryDuration/this.speedVaryDuration,u=-Math.sin(2*Math.PI*s)*this.speedVary;o+=u,t+=.05*(o-t)}}this._enabled&&(t=Math.max(e-3,t)),this.targetPos+=t,this.currentVelocity=t,this.easeCount===this.easeTotal&&(this.easeTotal=200+Math.round(100*Math.random()),this.easeCount=0);var l=Math.sin(2*Math.PI*this.easeCount/this.easeTotal);l=(l+1)/2;var h=this.targetPos-this.item.position.x;this.item.position.x+=h/2+l*(h/2),this.easeCount++},o(t,[{key:"enabled",set:function(t){this._enabled=t,t||(this.isEasingToPlayer=!1)}}],[{key:"id",get:function(){return"slimeMoveComponent"}}]),t}();e.default=f,t.exports=e.default},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e){i(this,t),this.view=e.view,this.reset()}return t.prototype.reset=function(){this.count=0,this.minDuration=120,this.maxDuration=480,this.resetDuration()},t.prototype.update=function(){this.count+=this.increment,this.count>=2*Math.PI&&this.resetDuration();var t=Math.sin(this.count)/10;this.view.scale.set(1+t,1-t)},t.prototype.resetDuration=function(){var t=this.minDuration+Math.round(Math.random()*(this.maxDuration-this.minDuration));this.increment=2*Math.PI/t;
},n(t,null,[{key:"id",get:function(){return"slimeScalerComponent"}}]),t}();e.default=r,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(28),s=n(a),u=function(){function t(e){r(this,t),this.item=e,this.slurpDistance=200}return t.prototype.activate=function(){var t=this.item.world.find("slime");s.default.add((new TimelineLite).to(this.item.position,1.5,{x:"-="+this.slurpDistance.toString(),y:t.position.y,ease:Power2.easeInOut}).to(this.item.view,1.25,{alpha:0}))},t.prototype.deactivate=function(){this.item.view.alpha=1},t.prototype.reset=function(){this.deactivate()},o(t,null,[{key:"id",get:function(){return"slurpComponent"}}]),t}();e.default=u,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(207),u=n(s),l=i(168),h=n(l),c=function(t){function e(i){r(this,e);var n=o(this,t.call(this));return n.keyboard=new h.default,n.keyboard.onKeyPress("left",function(){return n.updateLeft()}),n.keyboard.onKeyPress("right",function(){return n.updateRight()}),n.keyboard.onKeyPress("up",function(){return n.dispatchAction()}),n.keyboard.onKeyPress("space",function(){return n.dispatchAction()}),n.game=i,n}return a(e,t),e.prototype.enable=function(){this.keyboard.start(),t.prototype.enable.call(this)},e.prototype.disable=function(){this.keyboard&&this.keyboard.stop(),t.prototype.disable.call(this)},e}(u.default);e.default=c,t.exports=e.default},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(207),l=r(u),h=i(1),c=n(h),f=function(t){function e(){o(this,e);var i=a(this,t.call(this));return i.view=new c.Container,i.view.hitArea=i.view.hitArea=new c.Rectangle(0,0,1e3,1e3),i.view.on("touchstart",i.onDown,i),i.touchPosition=new c.Point,i.disable(),i}return s(e,t),e.prototype.onDown=function(t){t.data.getLocalPosition(this.view,this.touchPosition),this.touchPosition.x<this.w/2?this.powerUp():this.onActionPress.dispatch()},e.prototype.enable=function(){this.view&&(this.view.interactive=!0),t.prototype.enable.call(this)},e.prototype.disable=function(){this.view&&(this.view.interactive=!1),t.prototype.disable.call(this)},e.prototype.resize=function(e,i){t.prototype.resize.call(this),this.w=e,this.h=i,this.view.hitArea.width=e,this.view.hitArea.height=i},e}(l.default);e.default=f,t.exports=e.default},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(1),u=n(s),l=function(t){function e(i){r(this,e);var n=o(this,t.call(this));return n.tick=100*Math.random(),n.amplitudeX=0,n.amplitudey=0,n.speedX=0,n.speedy=0,n.light=new u.Sprite.from(i),n.light.blendMode=u.BLEND_MODES.ADD,n.light.anchor.set(.5),n.light.scale.set(4),n.alpha=0,n.addChild(n.light),n}return a(e,t),e.prototype.start=function(){this.alpha=1,this.tick=100*Math.random(),this.amplitudeX=400*Math.random()+600,this.amplitudeY=200*Math.random()+300,this.speedX=.01*Math.random()+.005,this.speedY=.01*Math.random()+.005,this.speedAlpha=.01*Math.random()+.005,this.speedScale=.01*Math.random()+.005,this.delayBeforeFadingOut=Math.floor(120*Math.random()+60)},e.prototype.stop=function(){this.alpha=0},e.prototype.update=function(){this.tick++,this.light.position.x=Math.sin(this.tick*this.speedX)*this.amplitudeX+615,this.light.position.y=Math.sin(this.tick*this.speedY)*this.amplitudeY+350,this.light.alpha=Math.abs(Math.cos(this.tick*this.speedAlpha)),this.light.scale.x=this.light.scale.y=5+2*Math.cos(this.tick*this.speedScale),this.delayBeforeFadingOut>0&&(this.delayBeforeFadingOut--,0===this.delayBeforeFadingOut)},e}(u.Container);e.default=l,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=i(1),s=r(a),u=i(446),l=n(u),h=i(448),c=(n(h),function(){function t(e){o(this,t),this.view=new s.Container,this.movingLightsContainer=new s.Container,this.view.addChild(this.movingLightsContainer),this.movingLights=[];for(var i=0;i<6;i++){var n=new l.default(e[i%e.length]);this.movingLightsContainer.addChild(n),this.movingLights.push(n)}for(this.staticLightsContainer=new s.Container,this.view.addChild(this.staticLightsContainer),this.staticLights=[],i=0;i<11;i++){var r=new l.default(e[i%e.length]);this.staticLightsContainer.addChild(r),this.staticLights.push(r)}}return t.prototype.start=function(){this.staticLightsContainer.alpha=0;for(var t=0;t<this.movingLights.length;t++)this.movingLights[t].start();for(t=0;t<this.staticLights.length;t++)this.staticLights[t].start(),this.staticLights[t].visible=!0;this.lastM=0},t.prototype.changeLightPositions=function(){for(var t=0;t<this.staticLights.length;t++)this.staticLights[t].position.x=1230*Math.random(),this.staticLights[t].position.y=700*Math.random(),this.staticLights[t].light.scale.x=this.staticLights[t].light.scale.y=6+5*Math.random()},t.prototype.stop=function(){for(var t=0;t<this.movingLights.length;t++)this.movingLights[t].stop();for(t=0;t<this.staticLights.length;t++)this.staticLights[t].stop(),this.staticLights[t].visible=!1},t.prototype.update=function(){for(var t=0;t<this.movingLights.length;t++)this.movingLights[t].update();this.delayFlash||(this.delayFlash=120*Math.random()+60),this.delayFlash--,this.delayFlash<0&&(this.delayFlash=120*Math.random()+60,this.changeLightPositions(),this.staticLightsContainer.alpha=1),this.staticLightsContainer.alpha*=.96},t.prototype.easeInExpo=function(t,e,i,n){return i*Math.pow(2,10*(t/n-1))+e},t}());e.default=c,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=i(11),a=(n(o),i(809)),s=n(a),u=i(18),l=(n(u),function(){function t(){r(this,t),this.wave=null}return t.prototype.start=function(){this.analyser=s.default.effect.analyser({fftSize:512,smoothingTimeConstant:.7})},t.prototype.stop=function(){this.analyser=null},t.prototype.update=function(){this.analyser&&(this.wave=this.analyser.getWaveform())},t}());l.instance=new l,e.default=l.instance,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=i(1),s=r(a),u=i(450),l=n(u),h=function(){function t(){o(this,t),this.view=new s.Container,this.pixiParty=new l.default,this.view.addChild(this.pixiParty)}return t.prototype.update=function(t){this.pixiParty.update(t)},t}();e.default=h,t.exports=e.default},function(t,e,i){var n;n=function(t,e,n){var r=i(1),o=i(41),a=i(11);PixiParty=function(){r.Container.call(this),this.particals=[],this.particalPool=new o(ParticalTicker),this.max=r.isWebGL?150:5,a.instance.isMobile&&(this.max=r.isWebGL?60:10),this.count=0,this.pos=0;for(var t=0;t<this.max;t++){var e=this.particalPool.getObject();e.home.x=Math.random()*-1136,e.position.y=e.home.y=110640*Math.random(),e.speed=new r.Point(Math.random()-.5,Math.random()+2),this.particals.push(e),this.addChild(e)}this.focalLength=150},PixiParty.prototype=Object.create(r.Container.prototype),PixiParty.prototype.update=function(t){for(var e=0;e<this.particals.length;e++){var i=this.particals[e],n=this.focalLength/(this.focalLength+i.z),n=this.focalLength/(this.focalLength+i.z);i.scale.x=i.scale.y=.2*n*i.scaleOffset,i.home.x+=i.speed.x,i.home.y+=i.speed.y,i.position.y=(i.home.y-t.y)*n*.5,i.position.x=(i.home.x-t.x)*n*.5,i.scale.y*=1+Math.sin(i.rotation),i.position.x%=1136,i.position.x<0&&(i.position.x+=1136),i.position.y%=640,i.position.y<0&&(i.position.y+=640),i.rotation+=i.rotationSpeed}},ParticalTicker=function(t){function e(){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(){ParticalTicker.globalCount++,r.Sprite.call(this,r.Texture.fromFrame(ParticalTicker.frames[ParticalTicker.globalCount%5])),this.anchor.x=.5,this.anchor.y=.5,this.scaleOffset=1+Math.random(),this.z=-50+Math.random()*-50,this.rotation=Math.random()*Math.PI*2,this.rotationSpeed=.3*(Math.random()-.5),this.home=new r.Point}),ParticalTicker.globalCount=0,ParticalTicker.frames=["disco_bean_01.png","disco_bean_02.png","disco_bean_03.png","disco_bean_04.png","disco_bean_05.png","disco_bean_06.png"],ParticalTicker.prototype=Object.create(r.Sprite.prototype),n.exports=PixiParty}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(138),l=r(u),h=i(449),c=r(h),f=i(1),d=(n(f),i(109)),p=r(d),y=i(17),v=(r(y),function(t){function e(i){o(this,e);var n=a(this,t.call(this,i));return i.onDiscoModeChange.add(n.onDiscoModeChanged,n),n.powerBar=new l.default("slime_powerbar_bg.png","slime_powerbar_fill.png"),n.view.addChild(n.powerBar.view),n.discoDisplay=new c.default,n.view.addChild(n.discoDisplay.view),n.onDiscoModeChanged(!1),n}return s(e,t),e.prototype.update=function(){this.powerBar.value=this.game.controls.x;var t=this.game.camera,e={x:t.x,y:t.y};this.discoDisplay.view.visible&&this.discoDisplay.update(e)},e.prototype.onDiscoModeChanged=function(t){this.discoDisplay.view.visible=t},e.prototype.resize=function(e,i){t.prototype.resize.call(this,e,i),this.powerBar.view.x=25,this.powerBar.view.y=i-this.powerBar.view.height-20},e}(p.default));e.default=v,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(78),u=n(s),l=function(t){function e(){return r(this,e),o(this,t.call(this))}return a(e,t),e.prototype.onCollideBegin=function(t){var e=t.getOtherObject(this);e.isPlayer&&(t.ignore=!0,e.signals.onObstacleHit.dispatch(this))},e}(u.default);e.default=l,t.exports=e.default},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(6),l=r(u),h=i(29),c=n(h),f=i(140),d=r(f),p=i(206),y=r(p),v=function(t){function e(i,n){o(this,e);var r=c.CrashBody.fromCircle(0,0,55),s=new PIXI.Container,u=a(this,t.call(this,0,0,s,r));u.groups=["Collectable","DiscoBall"],u.add(d.default),u.add(y.default);var l=u.playAnimationComponent.init("disco_ball/disco_ball_%%.png");return l.anchor.set(.5),u.view.addChild(l),u}return s(e,t),e.prototype.onCollideBegin=function(t){t.ignore=!0;var e=t.getOtherObject(this);e.isPlayer&&this.world.signals.onItemCollect.dispatch(this)},e}(l.default);e.default=v,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(6),l=n(u),h=i(75),c=n(h),f=i(447),d=n(f),p=function(t){function e(){r(this,e);var i=new PIXI.Container,n=o(this,t.call(this,0,0,i)),a=["disco_light_blue.png","disco_light_pink.png","disco_light_green.png"];return n.lights=new d.default(a),n.view.addChild(n.lights.view),n.registerSignal("onComplete"),n.registerSignal("onAvailable"),n}return a(e,t),e.prototype.addedToWorld=function(){this.count=0,this.isActive=!1,this.discoDuration=900,this.spawnDuration=1500,this.isAvailable=!1},e.prototype.activate=function(){this.isActive||(this.count=0,this.isActive=!0,this.isAvailable=!1,c.default.play("slime_music_disco_mode",!0),this.lights.start())},e.prototype.deactivate=function(){this.isActive&&(this.count=0,this.isActive=!1,this.isAvailable=!1,this.signals.onComplete.dispatch(),c.default.play("slime_music",!0),this.lights.stop())},e.prototype.update=function(){this.count++,this.isActive?this.count===this.discoDuration?this.deactivate():(this.camera||(this.camera=this.world.view.camera),this.view.position.set(this.camera.x-this.camera.viewWidth/2,this.camera.y-this.camera.viewHeight/2),this.lights.update()):this.count===this.spawnDuration&&(this.count=0,this.isAvailable=!0)},s(e,[{key:"isAvailable",get:function(){return this._isAvailable},set:function(t){t!==this._isAvailable&&(this._isAvailable=t,this.signals.onAvailable.dispatch(this._isAvailable))}}]),e}(l.default);e.default=p,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(78),u=n(s),l=function(t){function e(){r(this,e);var i=o(this,t.call(this));return i.isPlatform=!0,i}return a(e,t),e}(u.default);e.default=l,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(78),u=n(s),l=i(140),h=n(l),c=function(t){function e(){r(this,e);var i=o(this,t.call(this));return i.groups=["Collectable","Gem"],i.add(h.default),i.overrideImage="gem_"+Math.ceil(6*Math.random()),i}return a(e,t),e.prototype.reset=function(e){t.prototype.reset.call(this,e),this.view.scale.set(.5)},e.prototype.onCollideBegin=function(t){t.ignore=!0;var e=t.getOtherObject(this);e.isPlayer&&this.world.signals.onItemCollect.dispatch(this)},e}(u.default);e.default=c,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(78),u=n(s),l=function(t){function e(){return r(this,e),o(this,t.call(this))}return a(e,t),e.prototype.onCollideBegin=function(t){var e=t.getOtherObject(this);e.isPlayer&&(e.signals.onFall.dispatch(this),t.ignore=!0)},e}(u.default);e.default=l,t.exports=e.default},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(6),l=r(u),h=i(1),c=n(h),f=i(42),d=r(f),p=i(14),y=r(p),v=function(t){function e(){o(this,e);var i=c.Sprite.fromFrame("death_smoke/deathsmoke_00001.png");i.anchor.set(.5,1);var n=a(this,t.call(this,0,0,i));return n.animationManager=new d.default,n.animationManager.onComplete.add(n.destroy,n),n.animationManager.register("death",{frames:y.default.getTexturesFromFramesWithPrefix("death_smoke/deathsmoke_000%%.png"),speed:.5,loop:!1}),n}return s(e,t),e.prototype.update=function(){this.count++,this.count<30||(30==this.count&&(this.animationManager.play("death"),this.camera.shake()),this.animationManager.update(),this.view.texture=this.animationManager.texture)},e.prototype.play=function(t){this.count=0,this.camera=t},e.prototype.addedToWorld=function(){this.count=0,this.animationManager.currentAnimation=null},e}(l.default);e.default=v,t.exports=e.default},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(6),l=r(u),h=i(29),c=n(h),f=i(140),d=r(f),p=function(t){function e(i,n){o(this,e);var r=c.CrashBody.fromCircle(0,0,30),s=PIXI.Sprite.fromFrame("heart.png");s.anchor.set(.5);var u=a(this,t.call(this,0,0,s,r));return u.groups=["Collectable","LifeToken"],u.add(d.default),u}return s(e,t),e.prototype.onCollideBegin=function(t){t.ignore=!0;var e=t.getOtherObject(this);e.isPlayer&&this.world.signals.onItemCollect.dispatch(this)},e}(l.default);e.default=p,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(6),l=n(u),h=function(t){function e(){r(this,e);var i=o(this,t.call(this));return i.registerSignal("onAvailable"),i._reset(),i}return a(e,t),e.prototype._reset=function(){this.count=0,this.isActive=!1,this.spawnDuration=500,this.isAvailable=!1,this._character=null},e.prototype.activate=function(){this.count=0,this.isActive=!0,this.isAvailable=!1},e.prototype.deactivate=function(){this.count=0,this.isActive=!1,this.isAvailable=!1},e.prototype.update=function(){this.isActive&&(this.count++,this.count===this.spawnDuration&&(this.isAvailable=!0))},s(e,[{key:"isAvailable",get:function(){return this._isAvailable},set:function(t){t!==this._isAvailable&&(this._isAvailable=t,this.signals.onAvailable.dispatch(this._isAvailable))}},{key:"character",get:function(){return this._character}}]),e}(l.default);e.default=h,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(208),u=n(s),l=i(206),h=n(l),c=i(21),f=i(28),d=n(f),p=function(t){function e(){r(this,e);var i=o(this,t.call(this));return i.add(h.default),i.playAnimationComponent.init("obstacle/obstacle__000%%.png"),i.groups=["slimeObstacle"],i}return a(e,t),e.prototype.reset=function(e){this.data||(this.data=e,t.prototype.reset.call(this,e),this.playAnimationComponent.sprite=this.view)},e.prototype.doHit=function(){this.view.anchor.y=.8,this.view.position.y+=.3*this.view.height;var t=.8;d.default.add(c.TweenMax.to(this.view.scale,t,{y:.1,ease:Power2.easeOut})),d.default.add(c.TweenMax.to(this.view.scale,t,{x:1.4,ease:Power2.easeOut})),d.default.add(c.TweenMax.to(this.view,t,{alpha:0,onComplete:this.onTimelineCompleted,onCompleteScope:this}))},e.prototype.onTimelineCompleted=function(){this.destroy()},e.prototype.removedFromWorld=function(){this.view.alpha=1,this.view.scale.set(1),this.view.anchor.set(.5)},e}(u.default);e.default=p,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(6),u=n(s),l=i(136),h=n(l),c=i(466),f=n(c),d=function(t){function e(i){r(this,e);var n=o(this,t.call(this));return n.container=i,n.particleManager=new h.default(i),n.particleManager.registerParticle(f.default,"slimeHit"),n}return a(e,t),e.prototype.init=function(t){this.container=t,this.particleManager.container=t},e.prototype.update=function(){this.particleManager.update()},e.prototype.removedFromWorld=function(){this.particleManager.clear()},e.prototype.doSlimeHit=function(t){for(var e=t.position.x,i=t.position.y+40,n=0;n<50;n++)this.particleManager.add(e,i,"slimeHit")},e}(u.default);e.default=d,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=r(l),c=i(6),f=n(c),d=i(29),p=r(d),y=i(437),v=n(y),m=i(438),g=n(m),_=i(443),b=n(_),w=i(439),x=n(w),T=i(16),S=n(T),E=function(t){function e(){o(this,e);var i=1,n=.5,r=50,s=100,u=p.CrashBody.fromRect(-r*i/2,-s*i,r*i,s*i);u.gravity=1;var l=h.Sprite.fromFrame("finn/hit/finn_hit0002.png");l.scale.set(n*i),l.anchor.set(.5,.95),l.layer="front";var c=a(this,t.call(this,0,0,l,u));return c.scale=i,c.spriteScale=n,c.registerSignal("onFall","onSlurp","onObstacleHit"),c.add(v.default),c.add(g.default),c.add(b.default),c.add(x.default,"finn"),c.add(x.default,"jake"),c.finn.initAnimations("finn"),c.jake.initAnimations("jake"),c.isPlayer=!0,c.groups=["player"],c.platformSet=new Set,c._reset(),c}return s(e,t),e.prototype._reset=function(){this.isDead=!1,this.currentPlatform=void 0,this.platformSet.clear(),this.canCollide=!0,this.body.gravity=1,t.prototype._reset.call(this)},e.prototype.update=function(){this.isDead||(this.isJumping?this.body.velocity.y>1&&"jumpStart"===this.playerAnimationComponent.state&&(this.playerAnimationComponent.jumpPeak(),this.body.gravity=1.5):this.body.gravity=1,this.currentPlatform&&(this.position.y=this.currentPlatform.position.y+this.currentPlatform.body.boundingBox.y)),this.lastY=this.position.y,this.view.texture=this.playerAnimationComponent.texture},e.prototype.enableMovement=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.moveComponent.isLocked=!t},e.prototype.move=function(t){this.isDead,this.moveComponent.move(t),this.playerAnimationComponent.speed=t/13},e.prototype.run=function(){this.playerAnimationComponent.run()},e.prototype.jump=function(){this.moveComponent.isLocked||(this.jumpComponent.jump(),this.playerAnimationComponent.jump(),this.isJumping=!0)},e.prototype.land=function(){this.isDead||(this.playerAnimationComponent.land(),S.default.sfx.play("slime_land"))},e.prototype.stumble=function(){this.moveComponent.move(8),this.enableMovement(!1),this.isJumping?this.playerAnimationComponent.shouldStumble=!0:this.playerAnimationComponent.stumble()},e.prototype.fall=function(t){this.isDead=!0,this.moveComponent.move(5),this.moveComponent.isLocked=!0,this.playerAnimationComponent.fall()},e.prototype.slurp=function(){this.isDead=!0,this.moveComponent.move(0),this.moveComponent.isLocked=!0,this.slurpComponent.activate(),this.playerAnimationComponent.slurp(),this.currentPlatform&&this.disconnectFromPlatform(this.currentPlatform),this.canCollide=!1,this.body.gravity=0},e.prototype.stop=function(){this.moveComponent.stop()},e.prototype.onCharacterStateStarted=function(t){},e.prototype.onCharacterStateCompleted=function(t){switch(t){case"stumble":this.isDead||this.enableMovement()}},e.prototype.onCollideBegin=function(t){if(!this.isDead){var e=t.getOtherObject(this);e.isPlatform&&(t.ignore=!0,this.body.velocity.y>0&&this.position.y<e.position.y+e.body.boundingBox.top+20?(this.connectToPlatform(e),
this.isJumping&&(this.isJumping=!1,this.land())):t.ignore=!0)}},e.prototype.onCollideEnd=function(t){var e=t.getOtherObject(this);e.isPlatform&&this.disconnectFromPlatform(e)},e.prototype.connectToPlatform=function(t){this.platformSet.add(t),this.currentPlatform=t},e.prototype.disconnectFromPlatform=function(t){this.platformSet.delete(t),this.currentPlatform=this.platformSet.values().next().value,this.isOnPlatform||this.isJumping||this.isDead||(this.isJumping=!0,this.playerAnimationComponent.jumpPeak())},u(e,[{key:"isOnPlatform",get:function(){return!!this.currentPlatform}},{key:"character",set:function(t){if(this.playerAnimationComponent!==this.name&&(this.playerAnimationComponent&&(this.playerAnimationComponent.reset(),this.playerAnimationComponent.setState(null),this.playerAnimationComponent.onStateStart.remove(this.onCharacterStateStarted,this),this.playerAnimationComponent.onStateComplete.remove(this.onCharacterStateCompleted,this)),t)){this.playerAnimationComponent=this[t],this.playerAnimationComponent.onStateStart.add(this.onCharacterStateStarted,this),this.playerAnimationComponent.onStateComplete.add(this.onCharacterStateCompleted,this);var e=this.spriteScale*this.scale;"jake"===t&&(e*=.8),this.view.scale.set(e)}}}]),e}(f.default);e.default=E,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(6),l=n(u),h=i(21),c=i(28),f=(n(c),function(t){function e(){r(this,e);var i=o(this,t.call(this,0,0));return i.minDistance=1e4,i.maxDistance=2e4,i.maxRotation=Math.PI/80,i.rotations=[.7*-i.maxRotation,0,0,i.maxRotation/2,i.maxRotation/2,i.maxRotation,i.maxRotation],i.groups=["viewRotater"],i}return a(e,t),e.prototype.init=function(t){this.target=t},e.prototype.addedToWorld=function(){this.cycles=0,this.start()},e.prototype.start=function(){var t=this.minDistance+Math.random()*(this.maxDistance-this.minDistance),e=this.targetRotation;if(0===this.cycles)this.targetRotation=0;else do this.targetRotation=this.rotations[Math.floor(Math.random()*this.rotations.length)];while(this.targetRotation===e);this.tween=h.TweenMax.to(this.target,t,{paused:!0,rotation:this.targetRotation,ease:Power2.easeInOut,onComplete:this.start,onCompleteScope:this}),this.cycles++},e.prototype.update=function(){this.player||(this.player=this.world.find("player")),this.tween.time(this.tween.time()+this.player.body.velocity.x,!1)},e.prototype.onComplete=function(){this.start()},e.prototype.removedFromWorld=function(){this.tween&&this.tween.kill()},s(e,[{key:"currentRatio",get:function(){return this.target.rotation/this.maxRotation}}]),e}(l.default));e.default=f,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=i(78),o=n(r),a=i(455),s=n(a),u=i(208),l=n(u),h=i(457),c=n(h),f=i(209),d=n(f),p=i(453),y=n(p),v=i(459),m=n(v),g=i(452),_=n(g),b=i(461),w=n(b),x=i(456),T=n(x);e.default={TerrainItem:o.default,Floor:s.default,Obstacle:l.default,Hole:c.default,Slime:d.default,DiscoBall:y.default,LifeToken:m.default,CeilingObstacle:_.default,SlimeObstacle:w.default,Gem:T.default},t.exports=e.default},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(1),u=n(s),l=function(t){function e(){r(this,e);var i=Math.ceil(5*Math.random()),n=u.Texture.fromFrame("slime_particle_0"+i+".png"),a=o(this,t.call(this,n));return a.anchor.set(.5),a}return a(e,t),e.prototype.activate=function(t,e){var i=-Math.PI/3,n=i*-1,r=i+Math.random()*(n-i),o=5;this.vx=Math.sin(r)*o/2,this.vy=-Math.cos(r)*o/2,this.position.x=t+3*this.vx*Math.random(),this.position.y=e+40*this.vy*Math.random(),this.rotation=Math.random()*Math.PI,this.vr=.1*Math.random(),this.baseY=e,this.alpha=1,this.isDead=!1,this.count=Math.random()*Math.PI},e.prototype.update=function(){this.count+=.05,this.scale.set(1+Math.sin(this.count)/4),this.x+=this.vx,this.y<this.baseY&&(this.rotation+=this.vr,this.y+=this.vy,this.vy+=.3),this.y>this.baseY&&(this.y=this.baseY),this.y===this.baseY&&(this.alpha-=.01,this.vx*=.95,this.alpha<=0&&(this.isDead=!0))},e}(u.Sprite);e.default=l,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=i(465),a=n(o),s=i(41),u=n(s),l=i(23),h=n(l),c=i(3),f=n(c),d=i(14),p=n(d),y=function(){function t(e){r(this,t),this.positionProvider=e.positionProvider,this.json=h.default.getJson("slime"),this.onDiscoBallCreate=new f.default,this.onLifeTokenCreate=new f.default,this.testChunk=p.default.get_query("chunk")}return t.prototype.init=function(t){this.world=t,this.frontBuffer=1e3,this.rearBuffer=1e3,this.reset()},t.prototype.reset=function(){this.chunkCount=0,this.leadingEdge=0,this.currentPos=0,this.removalMap=new Map,this.discoAvailable=!1,this.lifeTokenAvailable=!1},t.prototype.add=function(t){},t.prototype._add=function(t){var e=t.view.getLocalBounds();this.removalMap.set(t,e);var i=e.right;i+=t.position.x,this.leadingEdge=Math.max(this.leadingEdge,i),this.world.add(t)},t.prototype.addNewChunk=function(){for(var t=this.chunkCount<3?0:this.testChunk?this.testChunk:Math.floor(Math.random()*this.json.chunks.length),e=this.json.chunks[t].items,i=this.leadingEdge,n=new PIXI.Point,r=e,o=Array.isArray(r),s=0,r=o?r:r[Symbol.iterator]();;){var l;if(o){if(s>=r.length)break;l=r[s++]}else{if(s=r.next(),s.done)break;l=s.value}var h=l,c=h.definition;"DiscoBall"===c?this.discoAvailable?this.onDiscoBallCreate.dispatch():c="Gem":"LifeToken"==c&&(this.lifeTokenAvailable?this.onLifeTokenCreate.dispatch():c="Gem",h.character=this.lifeTokenCharacter),h.offsetX=i,n.x=h.position.x+i,n.y=h.position.y;var f=u.default.get(a.default[c]);f.reset(h),f.position.copy(n),f.view.position.copy(n),f.body&&f.body.position.copy(n),this._add(f)}this.chunkCount++},t.prototype.remove=function(t){this.removalMap.delete(t)},t.prototype.preupdate=function(){},t.prototype.update=function(){this.currentPos=this.positionProvider.x;for(var t=this.removalMap,e=Array.isArray(t),i=0,t=e?t:t[Symbol.iterator]();;){var n;if(e){if(i>=t.length)break;n=t[i++]}else{if(i=t.next(),i.done)break;n=i.value}var r=n,o=r[0],a=r[1];o.position.x+a.right<this.currentPos-this.rearBuffer&&o.destroy()}for(;this.leadingEdge<this.currentPos+this.frontBuffer;)this.addNewChunk()},t.prototype.postupdate=function(){},t.prototype.clear=function(){this.reset()},t.prototype.getSpawnPosition=function(t,e){for(var i=!0,n=this.removalMap,r=Array.isArray(n),o=0,n=r?n:n[Symbol.iterator]();;){var a;if(r){if(o>=n.length)break;a=n[o++]}else{if(o=n.next(),o.done)break;a=o.value}var s=a,u=s[0],l=s[1],h=u.position.x+l.left,c=u.position.x+l.right,f=u.position.y+l.bottom;if(!u.isPlatform&&e<f&&t>h-100&&t<c+50)return i=!1,this.getSpawnPosition(t+50,e)}return t},t}();e.default=y,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}var o=i(1),a=r(o),s=i(700),u=(n(s),i(472)),l=(n(u),i(21)),h=(n(l),i(329)),c=n(h),f=i(11),d=(n(f),i(818)),p=(n(d),i(666)),y=n(p);window.PIXI=a,console.warn=function(){},console.groupCollapsed=function(){},window.og||(window.og={gid:"countdown-test",gameDir:"",gameContainerId:"og-game-holder",isFullScreen:window.self===window.top,environment:"test",embedVars:{statsCounterName:"testCounterName",statsAppName:"TestAppName"}}),window.og.embedVars||(window.og.embedVars={statsAppName:"worst-wtich"}),window.ASSET_URL="assets/",window.config={app:"com/__PACKAGE_NAME__/app/__APP_ROOT_CLASS_NAME__"},window.console||(window.console={log:function(t){}}),window.console.log||(window.console.log=function(t){}),window.DEVICE_SCALE=window.devicePixelRatio||1,window.initGame=function(){var t=new y.default(window.ASSET_URL+"image/device/unsupported_device.jpg");if(t.supported){var e=function(){document.getElementById("container");window.scrollTo(0,0),n.resize(window.innerWidth,window.innerHeight)};window.ASSET_URL="assets/";var i=null;i||(i="og-game-holder");var n=new c.default;window.app=n;var r=document.getElementById(i);r.appendChild(n.view),window.hasDownloadSupport=!1;var o=document.createElement("a");if("undefined"!=typeof o.download){window.hasDownloadSupport=!0;var a=document.createTextNode("");o.appendChild(a),o.id="downloadImage",o.style.padding="40px 40px 40px 40px",o.style.position="absolute",o.addEventListener("click",function(){}.bind(this),!1),r.insertBefore(o,r.firstChild)}r.style.background="black",n.view.style.position="absolute",n.view.style.top=0,n.view.style.left=0,window.addEventListener("resize",function(){e()}),e()}},window.initGame()},function(t,e,i){(function(e){"use strict";if("undefined"!=typeof t&&t.exports)var n=i(470);n.Ctr={},n.Ctr.encrypt=function(t,e,i){var r=16;if(128!=i&&192!=i&&256!=i)throw new Error("Key size is not 128 / 192 / 256");t=String(t).utf8Encode(),e=String(e).utf8Encode();for(var o=i/8,a=new Array(o),s=0;s<o;s++)a[s]=s<e.length?e.charCodeAt(s):0;var u=n.cipher(a,n.keyExpansion(a));u=u.concat(u.slice(0,o-16));for(var l=new Array(r),h=(new Date).getTime(),c=h%1e3,f=Math.floor(h/1e3),d=Math.floor(65535*Math.random()),s=0;s<2;s++)l[s]=c>>>8*s&255;for(var s=0;s<2;s++)l[s+2]=d>>>8*s&255;for(var s=0;s<4;s++)l[s+4]=f>>>8*s&255;for(var p="",s=0;s<8;s++)p+=String.fromCharCode(l[s]);for(var y=n.keyExpansion(u),v=Math.ceil(t.length/r),m="",g=0;g<v;g++){for(var _=0;_<4;_++)l[15-_]=g>>>8*_&255;for(var _=0;_<4;_++)l[15-_-4]=g/4294967296>>>8*_;for(var b=n.cipher(l,y),w=g<v-1?r:(t.length-1)%r+1,x=new Array(w),s=0;s<w;s++)x[s]=b[s]^t.charCodeAt(g*r+s),x[s]=String.fromCharCode(x[s]);m+=x.join(""),"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&g%1e3==0&&self.postMessage({progress:g/v})}return m=(p+m).base64Encode()},n.Ctr.decrypt=function(t,e,i){var r=16;if(128!=i&&192!=i&&256!=i)throw new Error("Key size is not 128 / 192 / 256");t=String(t).base64Decode(),e=String(e).utf8Encode();for(var o=i/8,a=new Array(o),s=0;s<o;s++)a[s]=s<e.length?e.charCodeAt(s):0;var u=n.cipher(a,n.keyExpansion(a));u=u.concat(u.slice(0,o-16));for(var l=new Array(8),h=t.slice(0,8),s=0;s<8;s++)l[s]=h.charCodeAt(s);for(var c=n.keyExpansion(u),f=Math.ceil((t.length-8)/r),d=new Array(f),p=0;p<f;p++)d[p]=t.slice(8+p*r,8+p*r+r);t=d;for(var y="",p=0;p<f;p++){for(var v=0;v<4;v++)l[15-v]=p>>>8*v&255;for(var v=0;v<4;v++)l[15-v-4]=(p+1)/4294967296-1>>>8*v&255;for(var m=n.cipher(l,c),g=new Array(t[p].length),s=0;s<t[p].length;s++)g[s]=m[s]^t[p].charCodeAt(s),g[s]=String.fromCharCode(g[s]);y+=g.join(""),"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&p%1e3==0&&self.postMessage({progress:p/f})}return y=y.utf8Decode()},"undefined"==typeof String.prototype.utf8Encode&&(String.prototype.utf8Encode=function(){return unescape(encodeURIComponent(this))}),"undefined"==typeof String.prototype.utf8Decode&&(String.prototype.utf8Decode=function(){try{return decodeURIComponent(escape(this))}catch(t){return this}}),"undefined"==typeof String.prototype.base64Encode&&(String.prototype.base64Encode=function(){if("undefined"!=typeof btoa)return btoa(this);if("undefined"!=typeof e)return new e(this,"binary").toString("base64");throw new Error("No Base64 Encode")}),"undefined"==typeof String.prototype.base64Decode&&(String.prototype.base64Decode=function(){if("undefined"!=typeof atob)return atob(this);if("undefined"!=typeof e)return new e(this,"base64").toString("binary");throw new Error("No Base64 Decode")}),"undefined"!=typeof t&&t.exports&&(t.exports=n.Ctr)}).call(e,i(476).Buffer)},function(t,e){"use strict";var i={};i.cipher=function(t,e){for(var n=4,r=e.length/n-1,o=[[],[],[],[]],a=0;a<4*n;a++)o[a%4][Math.floor(a/4)]=t[a];o=i.addRoundKey(o,e,0,n);for(var s=1;s<r;s++)o=i.subBytes(o,n),o=i.shiftRows(o,n),o=i.mixColumns(o,n),o=i.addRoundKey(o,e,s,n);o=i.subBytes(o,n),o=i.shiftRows(o,n),o=i.addRoundKey(o,e,r,n);for(var u=new Array(4*n),a=0;a<4*n;a++)u[a]=o[a%4][Math.floor(a/4)];return u},i.keyExpansion=function(t){for(var e=4,n=t.length/4,r=n+6,o=new Array(e*(r+1)),a=new Array(4),s=0;s<n;s++){var u=[t[4*s],t[4*s+1],t[4*s+2],t[4*s+3]];o[s]=u}for(var s=n;s<e*(r+1);s++){o[s]=new Array(4);for(var l=0;l<4;l++)a[l]=o[s-1][l];if(s%n==0){a=i.subWord(i.rotWord(a));for(var l=0;l<4;l++)a[l]^=i.rCon[s/n][l]}else n>6&&s%n==4&&(a=i.subWord(a));for(var l=0;l<4;l++)o[s][l]=o[s-n][l]^a[l]}return o},i.subBytes=function(t,e){for(var n=0;n<4;n++)for(var r=0;r<e;r++)t[n][r]=i.sBox[t[n][r]];return t},i.shiftRows=function(t,e){for(var i=new Array(4),n=1;n<4;n++){for(var r=0;r<4;r++)i[r]=t[n][(r+n)%e];for(var r=0;r<4;r++)t[n][r]=i[r]}return t},i.mixColumns=function(t,e){for(var i=0;i<4;i++){for(var n=new Array(4),r=new Array(4),o=0;o<4;o++)n[o]=t[o][i],r[o]=128&t[o][i]?t[o][i]<<1^283:t[o][i]<<1;t[0][i]=r[0]^n[1]^r[1]^n[2]^n[3],t[1][i]=n[0]^r[1]^n[2]^r[2]^n[3],t[2][i]=n[0]^n[1]^r[2]^n[3]^r[3],t[3][i]=n[0]^r[0]^n[1]^n[2]^r[3]}return t},i.addRoundKey=function(t,e,i,n){for(var r=0;r<4;r++)for(var o=0;o<n;o++)t[r][o]^=e[4*i+o][r];return t},i.subWord=function(t){for(var e=0;e<4;e++)t[e]=i.sBox[t[e]];return t},i.rotWord=function(t){for(var e=t[0],i=0;i<3;i++)t[i]=t[i+1];return t[3]=e,t},i.sBox=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],i.rCon=[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],"undefined"!=typeof t&&t.exports&&(t.exports=i)},function(t,e,i){var n,r;"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};/**
	 * A JavaScript project for accessing the accelerometer and gyro from various devices
	 *
	 * @author Tom Gallacher <tom.gallacher23@gmail.com>
	 * @copyright Tom Gallacher <http://www.tomg.co>
	 * @version 0.0.1a
	 * @license MIT License
	 * @options frequency, callback
	 */
!function(o,a){n=a,r="function"==typeof n?n.call(e,i,e,t):n,!(void 0!==r&&(t.exports=r))}(void 0,function(){function t(t){var e=Math.PI/180,i=t.beta*e,n=t.gamma*e,r=t.alpha*e,o=Math.cos(i/2),a=Math.cos(n/2),s=Math.cos(r/2),u=Math.sin(i/2),l=Math.sin(n/2),h=Math.sin(r/2),c=o*a*s-u*l*h;return i=u*a*s-o*l*h,n=o*l*s+u*a*h,r=o*a*h+u*l*s,{x:i,y:n,z:r,w:c}}function e(t,e){return{w:t.w*e.w-t.x*e.x-t.y*e.y-t.z*e.z,x:t.w*e.x+t.x*e.w+t.y*e.z-t.z*e.y,y:t.w*e.y-t.x*e.z+t.y*e.w+t.z*e.x,z:t.w*e.z+t.x*e.y-t.y*e.x+t.z*e.w}}function i(t,i){return t=e(i,{x:t.x,y:t.y,z:t.z,w:0}),t=e(t,{w:i.w,x:-i.x,y:-i.y,z:-i.z}),{x:t.x,y:t.y,z:t.z}}function n(t,e){return t.x*e.x+t.y*e.y+t.z*e.z}function r(t){var e=180/Math.PI,r=i({x:0,y:1,z:0},t),o=0==r.x&&0==r.y?0:-Math.atan2(r.x,r.y),a=Math.atan2(r.z,Math.sqrt(r.x*r.x+r.y*r.y)),s={x:Math.cos(o),y:Math.sin(o),z:0},u={x:Math.sin(o)*Math.sin(a),y:-Math.cos(o)*Math.sin(a),z:Math.cos(a)},l=i({x:0,y:0,z:1},t),h=Math.atan2(n(l,s),n(l,u));return o<0&&(o+=2*Math.PI),h>=.5*Math.PI?(h-=Math.PI,o+=Math.PI,a=a>0?Math.PI-a:-Math.PI-a):h<Math.PI*-.5&&(h+=Math.PI,o+=Math.PI,a=a>0?Math.PI-a:-Math.PI-a),o>=2*Math.PI&&(o-=2*Math.PI),{alpha:o*e,beta:a*e,gamma:h*e}}var o={x:null,y:null,z:null,alpha:null,beta:null,gamma:null},a={x:0,y:0,z:0,alpha:0,beta:0,gamma:0,rawAlpha:0,rawBeta:0,rawGamma:0},s=null,u=[],l={};if(l.frequency=500,l.calibrate=function(){for(var t in o)a[t]="number"==typeof o[t]?o[t]:0},l.getOrientation=function(){return o},l.startTracking=function(t){s=setInterval(function(){t(o)},l.frequency)},l.stopTracking=function(){clearInterval(s)},l.hasFeature=function(t){for(var e in u)if(t==u[e])return!0;return!1},l.getFeatures=function(){return u},l.eulerToQuaternion=t,window&&window.addEventListener){var h=function(){function i(t){u.push("MozOrientation"),t.target.removeEventListener("MozOrientation",i,!0),t.target.addEventListener("MozOrientation",function(t){o.x=t.x-a.x,o.y=t.y-a.y,o.z=t.z-a.z},!0)}function n(t){u.push("devicemotion"),t.target.removeEventListener("devicemotion",n,!0),t.target.addEventListener("devicemotion",function(t){o.x=t.accelerationIncludingGravity.x-a.x,o.y=t.accelerationIncludingGravity.y-a.y,o.z=t.accelerationIncludingGravity.z-a.z},!0)}function s(i){u.push("deviceorientation"),i.target.removeEventListener("deviceorientation",s,!0),i.target.addEventListener("deviceorientation",function(i){var n=t({alpha:a.rawAlpha,beta:a.rawBeta,gamma:a.rawGamma});n.x*=-1,n.y*=-1,n.z*=-1;var s=t({alpha:i.alpha,beta:i.beta,gamma:i.gamma}),u=e(n,s),l=r(u);o.alpha=l.alpha,o.beta=l.beta,o.gamma=l.gamma,o.rawAlpha=i.alpha,o.rawBeta=i.beta,o.rawGamma=i.gamma},!0)}window.addEventListener("MozOrientation",i,!0),window.addEventListener("devicemotion",n,!0),window.addEventListener("deviceorientation",s,!0)};h()}return l})},function(t,e,i){var n,r;(function(i){"use strict";var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};/*!
	 *  howler.js v2.0.4
	 *  howlerjs.com
	 *
	 *  (c) 2013-2017, James Simpson of GoldFire Studios
	 *  goldfirestudios.com
	 *
	 *  MIT License
	 */
!function(){var o=function(){this.init()};o.prototype={init:function(){var t=this||a;return t._counter=1e3,t._codecs={},t._howls=[],t._muted=!1,t._volume=1,t._canPlayEvent="canplaythrough",t._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,t.masterGain=null,t.noAudio=!1,t.usingWebAudio=!0,t.autoSuspend=!0,t.ctx=null,t.mobileAutoEnable=!0,t._setup(),t},volume:function(t){var e=this||a;if(t=parseFloat(t),e.ctx||p(),"undefined"!=typeof t&&t>=0&&t<=1){if(e._volume=t,e._muted)return e;e.usingWebAudio&&(e.masterGain.gain.value=t);for(var i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var n=e._howls[i]._getSoundIds(),r=0;r<n.length;r++){var o=e._howls[i]._soundById(n[r]);o&&o._node&&(o._node.volume=o._volume*t)}return e}return e._volume},mute:function(t){var e=this||a;e.ctx||p(),e._muted=t,e.usingWebAudio&&(e.masterGain.gain.value=t?0:e._volume);for(var i=0;i<e._howls.length;i++)if(!e._howls[i]._webAudio)for(var n=e._howls[i]._getSoundIds(),r=0;r<n.length;r++){var o=e._howls[i]._soundById(n[r]);o&&o._node&&(o._node.muted=!!t||o._muted)}return e},unload:function(){for(var t=this||a,e=t._howls.length-1;e>=0;e--)t._howls[e].unload();return t.usingWebAudio&&t.ctx&&"undefined"!=typeof t.ctx.close&&(t.ctx.close(),t.ctx=null,p()),t},codecs:function(t){return(this||a)._codecs[t.replace(/^x-/,"")]},_setup:function(){var t=this||a;if(t.state=t.ctx?t.ctx.state||"running":"running",t._autoSuspend(),!t.usingWebAudio)if("undefined"!=typeof Audio)try{var e=new Audio;"undefined"==typeof e.oncanplaythrough&&(t._canPlayEvent="canplay")}catch(e){t.noAudio=!0}else t.noAudio=!0;try{var e=new Audio;e.muted&&(t.noAudio=!0)}catch(t){}return t.noAudio||t._setupCodecs(),t},_setupCodecs:function(){var t=this||a,e=null;try{e="undefined"!=typeof Audio?new Audio:null}catch(e){return t}if(!e||"function"!=typeof e.canPlayType)return t;var i=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n=t._navigator&&t._navigator.userAgent.match(/OPR\/([0-6].)/g),r=n&&parseInt(n[0].split("/")[1],10)<33;return t._codecs={mp3:!(r||!i&&!e.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!i,opus:!!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!e.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!e.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(e.canPlayType("audio/x-mp4;")||e.canPlayType("audio/mp4;")||e.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(e.canPlayType("audio/x-flac;")||e.canPlayType("audio/flac;")).replace(/^no$/,"")},t},_enableMobileAudio:function(){var t=this||a,e=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(t._navigator&&t._navigator.userAgent),i=!!("ontouchend"in window||t._navigator&&t._navigator.maxTouchPoints>0||t._navigator&&t._navigator.msMaxTouchPoints>0);if(!t._mobileEnabled&&t.ctx&&(e||i)){t._mobileEnabled=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);var n=function e(){a._autoResume();var i=t.ctx.createBufferSource();i.buffer=t._scratchBuffer,i.connect(t.ctx.destination),"undefined"==typeof i.start?i.noteOn(0):i.start(0),"function"==typeof t.ctx.resume&&t.ctx.resume(),i.onended=function(){i.disconnect(0),t._mobileEnabled=!0,t.mobileAutoEnable=!1,document.removeEventListener("touchend",e,!0)}};return document.addEventListener("touchend",n,!0),t}},_autoSuspend:function(){var t=this;if(t.autoSuspend&&t.ctx&&"undefined"!=typeof t.ctx.suspend&&a.usingWebAudio){for(var e=0;e<t._howls.length;e++)if(t._howls[e]._webAudio)for(var i=0;i<t._howls[e]._sounds.length;i++)if(!t._howls[e]._sounds[i]._paused)return t;return t._suspendTimer&&clearTimeout(t._suspendTimer),t._suspendTimer=setTimeout(function(){t.autoSuspend&&(t._suspendTimer=null,t.state="suspending",t.ctx.suspend().then(function(){t.state="suspended",t._resumeAfterSuspend&&(delete t._resumeAfterSuspend,t._autoResume())}))},3e4),t}},_autoResume:function(){var t=this;if(t.ctx&&"undefined"!=typeof t.ctx.resume&&a.usingWebAudio)return"running"===t.state&&t._suspendTimer?(clearTimeout(t._suspendTimer),t._suspendTimer=null):"suspended"===t.state?(t.ctx.resume().then(function(){t.state="running";for(var e=0;e<t._howls.length;e++)t._howls[e]._emit("resume")}),t._suspendTimer&&(clearTimeout(t._suspendTimer),t._suspendTimer=null)):"suspending"===t.state&&(t._resumeAfterSuspend=!0),t}};var a=new o,s=function(t){var e=this;t.src&&0!==t.src.length&&e.init(t)};s.prototype={init:function(t){var e=this;return a.ctx||p(),e._autoplay=t.autoplay||!1,e._format="string"!=typeof t.format?t.format:[t.format],e._html5=t.html5||!1,e._muted=t.mute||!1,e._loop=t.loop||!1,e._pool=t.pool||5,e._preload="boolean"!=typeof t.preload||t.preload,e._rate=t.rate||1,e._sprite=t.sprite||{},e._src="string"!=typeof t.src?t.src:[t.src],e._volume=void 0!==t.volume?t.volume:1,e._duration=0,e._state="unloaded",e._sounds=[],e._endTimers={},e._queue=[],e._onend=t.onend?[{fn:t.onend}]:[],e._onfade=t.onfade?[{fn:t.onfade}]:[],e._onload=t.onload?[{fn:t.onload}]:[],e._onloaderror=t.onloaderror?[{fn:t.onloaderror}]:[],e._onpause=t.onpause?[{fn:t.onpause}]:[],e._onplay=t.onplay?[{fn:t.onplay}]:[],e._onstop=t.onstop?[{fn:t.onstop}]:[],e._onmute=t.onmute?[{fn:t.onmute}]:[],e._onvolume=t.onvolume?[{fn:t.onvolume}]:[],e._onrate=t.onrate?[{fn:t.onrate}]:[],e._onseek=t.onseek?[{fn:t.onseek}]:[],e._onresume=[],e._webAudio=a.usingWebAudio&&!e._html5,"undefined"!=typeof a.ctx&&a.ctx&&a.mobileAutoEnable&&a._enableMobileAudio(),a._howls.push(e),e._autoplay&&e._queue.push({event:"play",action:function(){e.play()}}),e._preload&&e.load(),e},load:function(){var t=this,e=null;if(a.noAudio)return void t._emit("loaderror",null,"No audio support.");"string"==typeof t._src&&(t._src=[t._src]);for(var i=0;i<t._src.length;i++){var n,r;if(t._format&&t._format[i])n=t._format[i];else{if(r=t._src[i],"string"!=typeof r){t._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}n=/^data:audio\/([^;,]+);/i.exec(r),n||(n=/\.([^.]+)$/.exec(r.split("?",1)[0])),n&&(n=n[1].toLowerCase())}if(n&&a.codecs(n)){e=t._src[i];break}}return e?(t._src=e,t._state="loading","https:"===window.location.protocol&&"http:"===e.slice(0,5)&&(t._html5=!0,t._webAudio=!1),new u(t),t._webAudio&&h(t),t):void t._emit("loaderror",null,"No codec support for selected audio sources.")},play:function(t,e){var i=this,n=null;if("number"==typeof t)n=t,t=null;else{if("string"==typeof t&&"loaded"===i._state&&!i._sprite[t])return null;if("undefined"==typeof t){t="__default";for(var r=0,o=0;o<i._sounds.length;o++)i._sounds[o]._paused&&!i._sounds[o]._ended&&(r++,n=i._sounds[o]._id);1===r?t=null:n=null}}var s=n?i._soundById(n):i._inactiveSound();if(!s)return null;if(n&&!t&&(t=s._sprite||"__default"),"loaded"!==i._state){s._sprite=t,s._ended=!1;var u=s._id;return i._queue.push({event:"play",action:function(){i.play(u)}}),u}if(n&&!s._paused)return e||setTimeout(function(){i._emit("play",s._id)},0),s._id;i._webAudio&&a._autoResume();var l=Math.max(0,s._seek>0?s._seek:i._sprite[t][0]/1e3),h=Math.max(0,(i._sprite[t][0]+i._sprite[t][1])/1e3-l),c=1e3*h/Math.abs(s._rate);s._paused=!1,s._ended=!1,s._sprite=t,s._seek=l,s._start=i._sprite[t][0]/1e3,s._stop=(i._sprite[t][0]+i._sprite[t][1])/1e3,s._loop=!(!s._loop&&!i._sprite[t][2]);var f=s._node;if(i._webAudio){var d=function(){i._refreshBuffer(s);var t=s._muted||i._muted?0:s._volume;f.gain.setValueAtTime(t,a.ctx.currentTime),s._playStart=a.ctx.currentTime,"undefined"==typeof f.bufferSource.start?s._loop?f.bufferSource.noteGrainOn(0,l,86400):f.bufferSource.noteGrainOn(0,l,h):s._loop?f.bufferSource.start(0,l,86400):f.bufferSource.start(0,l,h),c!==1/0&&(i._endTimers[s._id]=setTimeout(i._ended.bind(i,s),c)),e||setTimeout(function(){i._emit("play",s._id)},0)},p="running"===a.state;if("loaded"===i._state&&p)d();else{var y=p||"loaded"!==i._state?"load":"resume";i.once(y,d,p?s._id:null),i._clearTimer(s._id)}}else{var v=function(){f.currentTime=l,f.muted=s._muted||i._muted||a._muted||f.muted,f.volume=s._volume*a.volume(),f.playbackRate=s._rate,f.play(),c!==1/0&&(i._endTimers[s._id]=setTimeout(i._ended.bind(i,s),c)),e||i._emit("play",s._id)},m="loaded"===i._state&&(window&&window.ejecta||!f.readyState&&a._navigator.isCocoonJS);if(4===f.readyState||m)v();else{var g=function t(){v(),f.removeEventListener(a._canPlayEvent,t,!1)};f.addEventListener(a._canPlayEvent,g,!1),i._clearTimer(s._id)}}return s._id},pause:function(t){var e=this;if("loaded"!==e._state)return e._queue.push({event:"pause",action:function(){e.pause(t)}}),e;for(var i=e._getSoundIds(t),n=0;n<i.length;n++){e._clearTimer(i[n]);var r=e._soundById(i[n]);if(r&&!r._paused&&(r._seek=e.seek(i[n]),r._rateSeek=0,r._paused=!0,e._stopFade(i[n]),r._node))if(e._webAudio){if(!r._node.bufferSource)continue;"undefined"==typeof r._node.bufferSource.stop?r._node.bufferSource.noteOff(0):r._node.bufferSource.stop(0),e._cleanBuffer(r._node)}else isNaN(r._node.duration)&&r._node.duration!==1/0||r._node.pause();arguments[1]||e._emit("pause",r?r._id:null)}return e},stop:function(t,e){var i=this;if("loaded"!==i._state)return i._queue.push({event:"stop",action:function(){i.stop(t)}}),i;for(var n=i._getSoundIds(t),r=0;r<n.length;r++){i._clearTimer(n[r]);var o=i._soundById(n[r]);o&&(o._seek=o._start||0,o._rateSeek=0,o._paused=!0,o._ended=!0,i._stopFade(n[r]),o._node&&(i._webAudio?o._node.bufferSource&&("undefined"==typeof o._node.bufferSource.stop?o._node.bufferSource.noteOff(0):o._node.bufferSource.stop(0),i._cleanBuffer(o._node)):isNaN(o._node.duration)&&o._node.duration!==1/0||(o._node.currentTime=o._start||0,o._node.pause())),e||i._emit("stop",o._id))}return i},mute:function(t,e){var i=this;if("loaded"!==i._state)return i._queue.push({event:"mute",action:function(){i.mute(t,e)}}),i;if("undefined"==typeof e){if("boolean"!=typeof t)return i._muted;i._muted=t}for(var n=i._getSoundIds(e),r=0;r<n.length;r++){var o=i._soundById(n[r]);o&&(o._muted=t,i._webAudio&&o._node?o._node.gain.setValueAtTime(t?0:o._volume,a.ctx.currentTime):o._node&&(o._node.muted=!!a._muted||t),i._emit("mute",o._id))}return i},volume:function(){var t,e,i=this,n=arguments;if(0===n.length)return i._volume;if(1===n.length||2===n.length&&"undefined"==typeof n[1]){var r=i._getSoundIds(),o=r.indexOf(n[0]);o>=0?e=parseInt(n[0],10):t=parseFloat(n[0])}else n.length>=2&&(t=parseFloat(n[0]),e=parseInt(n[1],10));var s;if(!("undefined"!=typeof t&&t>=0&&t<=1))return s=e?i._soundById(e):i._sounds[0],s?s._volume:0;if("loaded"!==i._state)return i._queue.push({event:"volume",action:function(){i.volume.apply(i,n)}}),i;"undefined"==typeof e&&(i._volume=t),e=i._getSoundIds(e);for(var u=0;u<e.length;u++)s=i._soundById(e[u]),s&&(s._volume=t,n[2]||i._stopFade(e[u]),i._webAudio&&s._node&&!s._muted?s._node.gain.setValueAtTime(t,a.ctx.currentTime):s._node&&!s._muted&&(s._node.volume=t*a.volume()),i._emit("volume",s._id));return i},fade:function(t,e,i,n){var r=this,o=Math.abs(t-e),s=t>e?"out":"in",u=o/.01,l=u>0?i/u:i;if(l<4&&(u=Math.ceil(u/(4/l)),l=4),"loaded"!==r._state)return r._queue.push({event:"fade",action:function(){r.fade(t,e,i,n)}}),r;r.volume(t,n);for(var h=r._getSoundIds(n),c=0;c<h.length;c++){var f=r._soundById(h[c]);if(f){if(n||r._stopFade(h[c]),r._webAudio&&!f._muted){var d=a.ctx.currentTime,p=d+i/1e3;f._volume=t,f._node.gain.setValueAtTime(t,d),f._node.gain.linearRampToValueAtTime(e,p)}var y=t;f._interval=setInterval(function(i,o){u>0&&(y+="in"===s?.01:-.01),y=Math.max(0,y),y=Math.min(1,y),y=Math.round(100*y)/100,r._webAudio?("undefined"==typeof n&&(r._volume=y),o._volume=y):r.volume(y,i,!0),(e<t&&y<=e||e>t&&y>=e)&&(clearInterval(o._interval),o._interval=null,r.volume(e,i),r._emit("fade",i))}.bind(r,h[c],f),l)}}return r},_stopFade:function(t){var e=this,i=e._soundById(t);return i&&i._interval&&(e._webAudio&&i._node.gain.cancelScheduledValues(a.ctx.currentTime),clearInterval(i._interval),i._interval=null,e._emit("fade",t)),e},loop:function t(){var t,e,i,n=this,r=arguments;if(0===r.length)return n._loop;if(1===r.length){if("boolean"!=typeof r[0])return i=n._soundById(parseInt(r[0],10)),!!i&&i._loop;t=r[0],n._loop=t}else 2===r.length&&(t=r[0],e=parseInt(r[1],10));for(var o=n._getSoundIds(e),a=0;a<o.length;a++)i=n._soundById(o[a]),i&&(i._loop=t,n._webAudio&&i._node&&i._node.bufferSource&&(i._node.bufferSource.loop=t,t&&(i._node.bufferSource.loopStart=i._start||0,i._node.bufferSource.loopEnd=i._stop)));return n},rate:function t(){var t,e,i=this,n=arguments;if(0===n.length)e=i._sounds[0]._id;else if(1===n.length){var r=i._getSoundIds(),o=r.indexOf(n[0]);o>=0?e=parseInt(n[0],10):t=parseFloat(n[0])}else 2===n.length&&(t=parseFloat(n[0]),e=parseInt(n[1],10));var s;if("number"!=typeof t)return s=i._soundById(e),s?s._rate:i._rate;if("loaded"!==i._state)return i._queue.push({event:"rate",action:function(){i.rate.apply(i,n)}}),i;"undefined"==typeof e&&(i._rate=t),e=i._getSoundIds(e);for(var u=0;u<e.length;u++)if(s=i._soundById(e[u])){s._rateSeek=i.seek(e[u]),s._playStart=i._webAudio?a.ctx.currentTime:s._playStart,s._rate=t,i._webAudio&&s._node&&s._node.bufferSource?s._node.bufferSource.playbackRate.value=t:s._node&&(s._node.playbackRate=t);var l=i.seek(e[u]),h=(i._sprite[s._sprite][0]+i._sprite[s._sprite][1])/1e3-l,c=1e3*h/Math.abs(s._rate);!i._endTimers[e[u]]&&s._paused||(i._clearTimer(e[u]),i._endTimers[e[u]]=setTimeout(i._ended.bind(i,s),c)),i._emit("rate",s._id)}return i},seek:function t(){var t,e,i=this,n=arguments;if(0===n.length)e=i._sounds[0]._id;else if(1===n.length){var r=i._getSoundIds(),o=r.indexOf(n[0]);o>=0?e=parseInt(n[0],10):(e=i._sounds[0]._id,t=parseFloat(n[0]))}else 2===n.length&&(t=parseFloat(n[0]),e=parseInt(n[1],10));if("undefined"==typeof e)return i;if("loaded"!==i._state)return i._queue.push({event:"seek",action:function(){i.seek.apply(i,n)}}),i;var s=i._soundById(e);if(s){if(!("number"==typeof t&&t>=0)){if(i._webAudio){var u=i.playing(e)?a.ctx.currentTime-s._playStart:0,l=s._rateSeek?s._rateSeek-s._seek:0;return s._seek+(l+u*Math.abs(s._rate))}return s._node.currentTime}var h=i.playing(e);h&&i.pause(e,!0),s._seek=t,s._ended=!1,i._clearTimer(e),h&&i.play(e,!0),!i._webAudio&&s._node&&(s._node.currentTime=t),i._emit("seek",e)}return i},playing:function(t){var e=this;if("number"==typeof t){var i=e._soundById(t);return!!i&&!i._paused}for(var n=0;n<e._sounds.length;n++)if(!e._sounds[n]._paused)return!0;return!1},duration:function t(e){var i=this,t=i._duration,n=i._soundById(e);return n&&(t=i._sprite[n._sprite][1]/1e3),t},state:function(){return this._state},unload:function(){for(var t=this,e=t._sounds,i=0;i<e.length;i++){if(e[i]._paused||t.stop(e[i]._id),!t._webAudio){var n=/MSIE |Trident\//.test(a._navigator&&a._navigator.userAgent);n||(e[i]._node.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"),e[i]._node.removeEventListener("error",e[i]._errorFn,!1),e[i]._node.removeEventListener(a._canPlayEvent,e[i]._loadFn,!1)}delete e[i]._node,t._clearTimer(e[i]._id);var r=a._howls.indexOf(t);r>=0&&a._howls.splice(r,1)}var o=!0;for(i=0;i<a._howls.length;i++)if(a._howls[i]._src===t._src){o=!1;break}return l&&o&&delete l[t._src],a.noAudio=!1,t._state="unloaded",t._sounds=[],t=null,null},on:function(t,e,i,n){var r=this,o=r["_on"+t];return"function"==typeof e&&o.push(n?{id:i,fn:e,once:n}:{id:i,fn:e}),r},off:function(t,e,i){var n=this,r=n["_on"+t],o=0;if("number"==typeof e&&(i=e,e=null),e||i)for(o=0;o<r.length;o++){var a=i===r[o].id;if(e===r[o].fn&&a||!e&&a){r.splice(o,1);break}}else if(t)n["_on"+t]=[];else{var s=Object.keys(n);for(o=0;o<s.length;o++)0===s[o].indexOf("_on")&&Array.isArray(n[s[o]])&&(n[s[o]]=[])}return n},once:function(t,e,i){var n=this;return n.on(t,e,i,1),n},_emit:function(t,e,i){for(var n=this,r=n["_on"+t],o=r.length-1;o>=0;o--)r[o].id&&r[o].id!==e&&"load"!==t||(setTimeout(function(t){t.call(this,e,i)}.bind(n,r[o].fn),0),r[o].once&&n.off(t,r[o].fn,r[o].id));return n},_loadQueue:function(){var t=this;if(t._queue.length>0){var e=t._queue[0];t.once(e.event,function(){t._queue.shift(),t._loadQueue()}),e.action()}return t},_ended:function(t){var e=this,i=t._sprite;if(!e._webAudio&&e._node&&!e._node.ended)return setTimeout(e._ended.bind(e,t),100),e;var n=!(!t._loop&&!e._sprite[i][2]);if(e._emit("end",t._id),!e._webAudio&&n&&e.stop(t._id,!0).play(t._id),e._webAudio&&n){e._emit("play",t._id),t._seek=t._start||0,t._rateSeek=0,t._playStart=a.ctx.currentTime;var r=1e3*(t._stop-t._start)/Math.abs(t._rate);e._endTimers[t._id]=setTimeout(e._ended.bind(e,t),r)}return e._webAudio&&!n&&(t._paused=!0,t._ended=!0,t._seek=t._start||0,t._rateSeek=0,e._clearTimer(t._id),e._cleanBuffer(t._node),a._autoSuspend()),e._webAudio||n||e.stop(t._id),e},_clearTimer:function(t){var e=this;return e._endTimers[t]&&(clearTimeout(e._endTimers[t]),delete e._endTimers[t]),e},_soundById:function(t){for(var e=this,i=0;i<e._sounds.length;i++)if(t===e._sounds[i]._id)return e._sounds[i];return null},_inactiveSound:function(){var t=this;t._drain();for(var e=0;e<t._sounds.length;e++)if(t._sounds[e]._ended)return t._sounds[e].reset();return new u(t)},_drain:function(){var t=this,e=t._pool,i=0,n=0;if(!(t._sounds.length<e)){for(n=0;n<t._sounds.length;n++)t._sounds[n]._ended&&i++;for(n=t._sounds.length-1;n>=0;n--){if(i<=e)return;t._sounds[n]._ended&&(t._webAudio&&t._sounds[n]._node&&t._sounds[n]._node.disconnect(0),t._sounds.splice(n,1),i--)}}},_getSoundIds:function(t){var e=this;if("undefined"==typeof t){for(var i=[],n=0;n<e._sounds.length;n++)i.push(e._sounds[n]._id);return i}return[t]},_refreshBuffer:function(t){var e=this;return t._node.bufferSource=a.ctx.createBufferSource(),t._node.bufferSource.buffer=l[e._src],t._panner?t._node.bufferSource.connect(t._panner):t._node.bufferSource.connect(t._node),t._node.bufferSource.loop=t._loop,t._loop&&(t._node.bufferSource.loopStart=t._start||0,t._node.bufferSource.loopEnd=t._stop),t._node.bufferSource.playbackRate.value=t._rate,e},_cleanBuffer:function(t){var e=this;if(e._scratchBuffer){t.bufferSource.onended=null,t.bufferSource.disconnect(0);try{t.bufferSource.buffer=e._scratchBuffer}catch(t){}}return t.bufferSource=null,e}};var u=function(t){this._parent=t,this.init()};u.prototype={init:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._rate=e._rate,t._seek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++a._counter,e._sounds.push(t),t.create(),t},create:function(){var t=this,e=t._parent,i=a._muted||t._muted||t._parent._muted?0:t._volume;return e._webAudio?(t._node="undefined"==typeof a.ctx.createGain?a.ctx.createGainNode():a.ctx.createGain(),t._node.gain.setValueAtTime(i,a.ctx.currentTime),t._node.paused=!0,t._node.connect(a.masterGain)):(t._node=new Audio,t._errorFn=t._errorListener.bind(t),t._node.addEventListener("error",t._errorFn,!1),t._loadFn=t._loadListener.bind(t),t._node.addEventListener(a._canPlayEvent,t._loadFn,!1),t._node.src=e._src,t._node.preload="auto",t._node.volume=i*a.volume(),t._node.load()),t},reset:function(){var t=this,e=t._parent;return t._muted=e._muted,t._loop=e._loop,t._volume=e._volume,t._rate=e._rate,t._seek=0,t._rateSeek=0,t._paused=!0,t._ended=!0,t._sprite="__default",t._id=++a._counter,t},_errorListener:function(){var t=this;t._parent._emit("loaderror",t._id,t._node.error?t._node.error.code:0),t._node.removeEventListener("error",t._errorFn,!1)},_loadListener:function(){var t=this,e=t._parent;e._duration=Math.ceil(10*t._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),t._node.removeEventListener(a._canPlayEvent,t._loadFn,!1)}};var l={},h=function(t){var e=t._src;if(l[e])return t._duration=l[e].duration,void d(t);if(/^data:[^;]+;base64,/.test(e)){for(var i=atob(e.split(",")[1]),n=new Uint8Array(i.length),r=0;r<i.length;++r)n[r]=i.charCodeAt(r);f(n.buffer,t)}else{var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.onload=function(){var e=(o.status+"")[0];return"0"!==e&&"2"!==e&&"3"!==e?void t._emit("loaderror",null,"Failed loading audio file with status: "+o.status+"."):void f(o.response,t)},o.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete l[e],t.load())},c(o)}},c=function(t){try{t.send()}catch(e){t.onerror()}},f=function(t,e){a.ctx.decodeAudioData(t,function(t){t&&e._sounds.length>0&&(l[e._src]=t,d(e,t))},function(){e._emit("loaderror",null,"Decoding audio data failed.")})},d=function(t,e){e&&!t._duration&&(t._duration=e.duration),0===Object.keys(t._sprite).length&&(t._sprite={__default:[0,1e3*t._duration]}),"loaded"!==t._state&&(t._state="loaded",t._emit("load"),t._loadQueue())},p=function(){try{"undefined"!=typeof AudioContext?a.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?a.ctx=new webkitAudioContext:a.usingWebAudio=!1}catch(t){a.usingWebAudio=!1}var t=/iP(hone|od|ad)/.test(a._navigator&&a._navigator.platform),e=a._navigator&&a._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),i=e?parseInt(e[1],10):null;if(t&&i&&i<9){var n=/safari/.test(a._navigator&&a._navigator.userAgent.toLowerCase());(a._navigator&&a._navigator.standalone&&!n||a._navigator&&!a._navigator.standalone&&!n)&&(a.usingWebAudio=!1)}a.usingWebAudio&&(a.masterGain="undefined"==typeof a.ctx.createGain?a.ctx.createGainNode():a.ctx.createGain(),a.masterGain.gain.value=a._muted?0:1,a.masterGain.connect(a.ctx.destination)),a._setup()};n=[],r=function(){return{Howler:a,Howl:s}}.apply(e,n),!(void 0!==r&&(t.exports=r)),e.Howler=a,e.Howl=s,"undefined"!=typeof window?(window.HowlerGlobal=o,window.Howler=a,window.Howl=s,window.Sound=u):"undefined"!=typeof i&&(i.HowlerGlobal=o,i.Howler=a,i.Howl=s,i.Sound=u)}(),/*!
	 *  Spatial Plugin - Adds support for stereo and 3D audio where Web Audio is supported.
	 *  
	 *  howler.js v2.0.4
	 *  howlerjs.com
	 *
	 *  (c) 2013-2017, James Simpson of GoldFire Studios
	 *  goldfirestudios.com
	 *
	 *  MIT License
	 */
function(){HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(t){var e=this;if(!e.ctx||!e.ctx.listener)return e;for(var i=e._howls.length-1;i>=0;i--)e._howls[i].stereo(t);return e},HowlerGlobal.prototype.pos=function(t,e,i){var n=this;return n.ctx&&n.ctx.listener?(e="number"!=typeof e?n._pos[1]:e,i="number"!=typeof i?n._pos[2]:i,"number"!=typeof t?n._pos:(n._pos=[t,e,i],n.ctx.listener.setPosition(n._pos[0],n._pos[1],n._pos[2]),n)):n},HowlerGlobal.prototype.orientation=function(t,e,i,n,r,o){var a=this;if(!a.ctx||!a.ctx.listener)return a;var s=a._orientation;return e="number"!=typeof e?s[1]:e,i="number"!=typeof i?s[2]:i,n="number"!=typeof n?s[3]:n,r="number"!=typeof r?s[4]:r,o="number"!=typeof o?s[5]:o,"number"!=typeof t?s:(a._orientation=[t,e,i,n,r,o],a.ctx.listener.setOrientation(t,e,i,n,r,o),a)},Howl.prototype.init=function(t){return function(e){var i=this;return i._orientation=e.orientation||[1,0,0],i._stereo=e.stereo||null,i._pos=e.pos||null,i._pannerAttr={coneInnerAngle:"undefined"!=typeof e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:"undefined"!=typeof e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:"undefined"!=typeof e.coneOuterGain?e.coneOuterGain:0,distanceModel:"undefined"!=typeof e.distanceModel?e.distanceModel:"inverse",maxDistance:"undefined"!=typeof e.maxDistance?e.maxDistance:1e4,panningModel:"undefined"!=typeof e.panningModel?e.panningModel:"HRTF",refDistance:"undefined"!=typeof e.refDistance?e.refDistance:1,rolloffFactor:"undefined"!=typeof e.rolloffFactor?e.rolloffFactor:1},i._onstereo=e.onstereo?[{fn:e.onstereo}]:[],i._onpos=e.onpos?[{fn:e.onpos}]:[],i._onorientation=e.onorientation?[{fn:e.onorientation}]:[],t.call(this,e)}}(Howl.prototype.init),Howl.prototype.stereo=function(e,i){var n=this;if(!n._webAudio)return n;if("loaded"!==n._state)return n._queue.push({event:"stereo",action:function(){n.stereo(e,i)}}),n;var r="undefined"==typeof Howler.ctx.createStereoPanner?"spatial":"stereo";if("undefined"==typeof i){if("number"!=typeof e)return n._stereo;n._stereo=e,n._pos=[e,0,0]}for(var o=n._getSoundIds(i),a=0;a<o.length;a++){var s=n._soundById(o[a]);if(s){if("number"!=typeof e)return s._stereo;s._stereo=e,s._pos=[e,0,0],s._node&&(s._pannerAttr.panningModel="equalpower",s._panner&&s._panner.pan||t(s,r),"spatial"===r?s._panner.setPosition(e,0,0):s._panner.pan.value=e),n._emit("stereo",s._id)}}return n},Howl.prototype.pos=function(e,i,n,r){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"pos",action:function(){o.pos(e,i,n,r)}}),o;if(i="number"!=typeof i?0:i,n="number"!=typeof n?-.5:n,"undefined"==typeof r){if("number"!=typeof e)return o._pos;o._pos=[e,i,n]}for(var a=o._getSoundIds(r),s=0;s<a.length;s++){var u=o._soundById(a[s]);if(u){if("number"!=typeof e)return u._pos;u._pos=[e,i,n],u._node&&(u._panner&&!u._panner.pan||t(u,"spatial"),u._panner.setPosition(e,i,n)),o._emit("pos",u._id)}}return o},Howl.prototype.orientation=function(e,i,n,r){var o=this;if(!o._webAudio)return o;if("loaded"!==o._state)return o._queue.push({event:"orientation",action:function(){o.orientation(e,i,n,r)}}),o;if(i="number"!=typeof i?o._orientation[1]:i,n="number"!=typeof n?o._orientation[2]:n,"undefined"==typeof r){if("number"!=typeof e)return o._orientation;o._orientation=[e,i,n]}for(var a=o._getSoundIds(r),s=0;s<a.length;s++){var u=o._soundById(a[s]);if(u){if("number"!=typeof e)return u._orientation;u._orientation=[e,i,n],u._node&&(u._panner||(u._pos||(u._pos=o._pos||[0,0,-.5]),t(u,"spatial")),u._panner.setOrientation(e,i,n)),o._emit("orientation",u._id)}}return o},Howl.prototype.pannerAttr=function(){var e,i,n,r=this,a=arguments;if(!r._webAudio)return r;if(0===a.length)return r._pannerAttr;if(1===a.length){if("object"!==o(a[0]))return n=r._soundById(parseInt(a[0],10)),n?n._pannerAttr:r._pannerAttr;e=a[0],"undefined"==typeof i&&(r._pannerAttr={coneInnerAngle:"undefined"!=typeof e.coneInnerAngle?e.coneInnerAngle:r._coneInnerAngle,coneOuterAngle:"undefined"!=typeof e.coneOuterAngle?e.coneOuterAngle:r._coneOuterAngle,coneOuterGain:"undefined"!=typeof e.coneOuterGain?e.coneOuterGain:r._coneOuterGain,distanceModel:"undefined"!=typeof e.distanceModel?e.distanceModel:r._distanceModel,maxDistance:"undefined"!=typeof e.maxDistance?e.maxDistance:r._maxDistance,panningModel:"undefined"!=typeof e.panningModel?e.panningModel:r._panningModel,refDistance:"undefined"!=typeof e.refDistance?e.refDistance:r._refDistance,rolloffFactor:"undefined"!=typeof e.rolloffFactor?e.rolloffFactor:r._rolloffFactor})}else 2===a.length&&(e=a[0],i=parseInt(a[1],10));for(var s=r._getSoundIds(i),u=0;u<s.length;u++)if(n=r._soundById(s[u])){var l=n._pannerAttr;l={coneInnerAngle:"undefined"!=typeof e.coneInnerAngle?e.coneInnerAngle:l.coneInnerAngle,coneOuterAngle:"undefined"!=typeof e.coneOuterAngle?e.coneOuterAngle:l.coneOuterAngle,coneOuterGain:"undefined"!=typeof e.coneOuterGain?e.coneOuterGain:l.coneOuterGain,distanceModel:"undefined"!=typeof e.distanceModel?e.distanceModel:l.distanceModel,maxDistance:"undefined"!=typeof e.maxDistance?e.maxDistance:l.maxDistance,panningModel:"undefined"!=typeof e.panningModel?e.panningModel:l.panningModel,refDistance:"undefined"!=typeof e.refDistance?e.refDistance:l.refDistance,rolloffFactor:"undefined"!=typeof e.rolloffFactor?e.rolloffFactor:l.rolloffFactor};var h=n._panner;h?(h.coneInnerAngle=l.coneInnerAngle,h.coneOuterAngle=l.coneOuterAngle,h.coneOuterGain=l.coneOuterGain,h.distanceModel=l.distanceModel,h.maxDistance=l.maxDistance,h.panningModel=l.panningModel,h.refDistance=l.refDistance,h.rolloffFactor=l.rolloffFactor):(n._pos||(n._pos=r._pos||[0,0,-.5]),t(n,"spatial"))}return r},Sound.prototype.init=function(t){return function(){var e=this,i=e._parent;e._orientation=i._orientation,e._stereo=i._stereo,e._pos=i._pos,e._pannerAttr=i._pannerAttr,t.call(this),e._stereo?i.stereo(e._stereo):e._pos&&i.pos(e._pos[0],e._pos[1],e._pos[2],e._id)}}(Sound.prototype.init),Sound.prototype.reset=function(t){return function(){var e=this,i=e._parent;return e._orientation=i._orientation,e._pos=i._pos,e._pannerAttr=i._pannerAttr,t.call(this)}}(Sound.prototype.reset);var t=function(t,e){e=e||"spatial","spatial"===e?(t._panner=Howler.ctx.createPanner(),t._panner.coneInnerAngle=t._pannerAttr.coneInnerAngle,t._panner.coneOuterAngle=t._pannerAttr.coneOuterAngle,t._panner.coneOuterGain=t._pannerAttr.coneOuterGain,t._panner.distanceModel=t._pannerAttr.distanceModel,t._panner.maxDistance=t._pannerAttr.maxDistance,t._panner.panningModel=t._pannerAttr.panningModel,t._panner.refDistance=t._pannerAttr.refDistance,t._panner.rolloffFactor=t._pannerAttr.rolloffFactor,t._panner.setPosition(t._pos[0],t._pos[1],t._pos[2]),t._panner.setOrientation(t._orientation[0],t._orientation[1],t._orientation[2])):(t._panner=Howler.ctx.createStereoPanner(),t._panner.pan.value=t._stereo),t._panner.connect(t._node),t._paused||t._parent.pause(t._id,!0).play(t._id)}}()}).call(e,function(){return this}())},function(t,e,i){e=t.exports=i(659)(),e.push([t.id,"body{font-family:helvetica}",""])},function(t,e,i){(function(t){"use strict";function e(t,e,i){t[e]||Object[n](t,e,{writable:!0,configurable:!0,value:i})}if(i(658),i(805),i(478),t._babelPolyfill)throw new Error("only one instance of babel-polyfill is allowed");t._babelPolyfill=!0;var n="defineProperty";e(String.prototype,"padLeft","".padStart),e(String.prototype,"padRight","".padEnd),"pop,reverse,shift,keys,values,entries,indexOf,every,some,forEach,map,filter,find,findIndex,includes,join,slice,concat,push,splice,unshift,sort,lastIndexOf,reduce,reduceRight,copyWithin,fill".split(",").forEach(function(t){[][t]&&e(Array,t,Function.call.bind([][t]))})}).call(e,function(){return this}())},function(t,e){"use strict";function i(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");return"="===t[e-2]?2:"="===t[e-1]?1:0}function n(t){return 3*t.length/4-i(t)}function r(t){var e,n,r,o,a,s,u=t.length;a=i(t),s=new h(3*u/4-a),r=a>0?u-4:u;var c=0;for(e=0,n=0;e<r;e+=4,n+=3)o=l[t.charCodeAt(e)]<<18|l[t.charCodeAt(e+1)]<<12|l[t.charCodeAt(e+2)]<<6|l[t.charCodeAt(e+3)],s[c++]=o>>16&255,s[c++]=o>>8&255,s[c++]=255&o;return 2===a?(o=l[t.charCodeAt(e)]<<2|l[t.charCodeAt(e+1)]>>4,s[c++]=255&o):1===a&&(o=l[t.charCodeAt(e)]<<10|l[t.charCodeAt(e+1)]<<4|l[t.charCodeAt(e+2)]>>2,s[c++]=o>>8&255,s[c++]=255&o),s}function o(t){return u[t>>18&63]+u[t>>12&63]+u[t>>6&63]+u[63&t]}function a(t,e,i){for(var n,r=[],a=e;a<i;a+=3)n=(t[a]<<16)+(t[a+1]<<8)+t[a+2],r.push(o(n));return r.join("")}function s(t){for(var e,i=t.length,n=i%3,r="",o=[],s=16383,l=0,h=i-n;l<h;l+=s)o.push(a(t,l,l+s>h?h:l+s));return 1===n?(e=t[i-1],r+=u[e>>2],r+=u[e<<4&63],r+="=="):2===n&&(e=(t[i-2]<<8)+t[i-1],r+=u[e>>10],r+=u[e>>4&63],r+=u[e<<2&63],r+="="),o.push(r),o.join("")}e.byteLength=n,e.toByteArray=r,e.fromByteArray=s;for(var u=[],l=[],h="undefined"!=typeof Uint8Array?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",f=0,d=c.length;f<d;++f)u[f]=c[f],l[c.charCodeAt(f)]=f;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},function(t,e,i){(function(t){/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
"use strict";function n(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}function r(){return a.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function o(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return a.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=a.prototype):(null===t&&(t=new a(e)),t.length=e),t}function a(t,e,i){if(!(a.TYPED_ARRAY_SUPPORT||this instanceof a))return new a(t,e,i);if("number"==typeof t){if("string"==typeof e)throw new Error("If encoding is specified then the first argument must be a string");return h(this,t)}return s(this,t,e,i)}function s(t,e,i,n){if("number"==typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer?d(t,e,i,n):"string"==typeof e?c(t,e,i):p(t,e)}function u(t){if("number"!=typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function l(t,e,i,n){return u(e),e<=0?o(t,e):void 0!==i?"string"==typeof n?o(t,e).fill(i,n):o(t,e).fill(i):o(t,e)}function h(t,e){if(u(e),t=o(t,e<0?0:0|y(e)),!a.TYPED_ARRAY_SUPPORT)for(var i=0;i<e;++i)t[i]=0;return t}function c(t,e,i){if("string"==typeof i&&""!==i||(i="utf8"),!a.isEncoding(i))throw new TypeError('"encoding" must be a valid string encoding');var n=0|m(e,i);t=o(t,n);var r=t.write(e,i);return r!==n&&(t=t.slice(0,r)),t}function f(t,e){var i=e.length<0?0:0|y(e.length);t=o(t,i);for(var n=0;n<i;n+=1)t[n]=255&e[n];return t}function d(t,e,i,n){if(e.byteLength,i<0||e.byteLength<i)throw new RangeError("'offset' is out of bounds");if(e.byteLength<i+(n||0))throw new RangeError("'length' is out of bounds");return e=void 0===i&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,i):new Uint8Array(e,i,n),a.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=a.prototype):t=f(t,e),t}function p(t,e){if(a.isBuffer(e)){var i=0|y(e.length);return t=o(t,i),0===t.length?t:(e.copy(t,0,0,i),t)}if(e){if("undefined"!=typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!=typeof e.length||Z(e.length)?o(t,0):f(t,e);if("Buffer"===e.type&&$(e.data))return f(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function v(t){return+t!=t&&(t=0),a.alloc(+t)}function m(t,e){if(a.isBuffer(t))return t.length;if("undefined"!=typeof ArrayBuffer&&"function"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!=typeof t&&(t=""+t);var i=t.length;if(0===i)return 0;for(var n=!1;;)switch(e){case"ascii":case"latin1":case"binary":return i;case"utf8":case"utf-8":case void 0:return V(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*i;case"hex":return i>>>1;case"base64":return q(t).length;default:if(n)return V(t).length;e=(""+e).toLowerCase(),n=!0}}function g(t,e,i){var n=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===i||i>this.length)&&(i=this.length),i<=0)return"";if(i>>>=0,e>>>=0,i<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return R(this,e,i);case"utf8":case"utf-8":return A(this,e,i);case"ascii":return k(this,e,i);case"latin1":case"binary":return I(this,e,i);case"base64":return M(this,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,e,i);default:if(n)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),n=!0}}function _(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function b(t,e,i,n,r){if(0===t.length)return-1;if("string"==typeof i?(n=i,i=0):i>2147483647?i=2147483647:i<-2147483648&&(i=-2147483648),i=+i,isNaN(i)&&(i=r?0:t.length-1),i<0&&(i=t.length+i),i>=t.length){if(r)return-1;i=t.length-1}else if(i<0){if(!r)return-1;i=0}if("string"==typeof e&&(e=a.from(e,n)),a.isBuffer(e))return 0===e.length?-1:w(t,e,i,n,r);if("number"==typeof e)return e&=255,a.TYPED_ARRAY_SUPPORT&&"function"==typeof Uint8Array.prototype.indexOf?r?Uint8Array.prototype.indexOf.call(t,e,i):Uint8Array.prototype.lastIndexOf.call(t,e,i):w(t,[e],i,n,r);throw new TypeError("val must be string, number or Buffer")}function w(t,e,i,n,r){function o(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var a=1,s=t.length,u=e.length;if(void 0!==n&&(n=String(n).toLowerCase(),"ucs2"===n||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,i/=2}var l;if(r){var h=-1;for(l=i;l<s;l++)if(o(t,l)===o(e,h===-1?0:l-h)){if(h===-1&&(h=l),l-h+1===u)return h*a}else h!==-1&&(l-=l-h),h=-1}else for(i+u>s&&(i=s-u),l=i;l>=0;l--){for(var c=!0,f=0;f<u;f++)if(o(t,l+f)!==o(e,f)){c=!1;break}if(c)return l}return-1}function x(t,e,i,n){i=Number(i)||0;var r=t.length-i;n?(n=Number(n),n>r&&(n=r)):n=r;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[i+a]=s}return a}function T(t,e,i,n){return K(V(e,t.length-i),t,i,n)}function S(t,e,i,n){return K(W(e),t,i,n)}function E(t,e,i,n){return S(t,e,i,n)}function C(t,e,i,n){return K(q(e),t,i,n)}function P(t,e,i,n){return K(H(e,t.length-i),t,i,n)}function M(t,e,i){return 0===e&&i===t.length?J.fromByteArray(t):J.fromByteArray(t.slice(e,i))}function A(t,e,i){i=Math.min(t.length,i);for(var n=[],r=e;r<i;){var o=t[r],a=null,s=o>239?4:o>223?3:o>191?2:1;if(r+s<=i){var u,l,h,c;switch(s){case 1:o<128&&(a=o);break;case 2:u=t[r+1],128===(192&u)&&(c=(31&o)<<6|63&u,c>127&&(a=c));break;case 3:u=t[r+1],l=t[r+2],128===(192&u)&&128===(192&l)&&(c=(15&o)<<12|(63&u)<<6|63&l,c>2047&&(c<55296||c>57343)&&(a=c));break;case 4:u=t[r+1],l=t[r+2],h=t[r+3],128===(192&u)&&128===(192&l)&&128===(192&h)&&(c=(15&o)<<18|(63&u)<<12|(63&l)<<6|63&h,c>65535&&c<1114112&&(a=c))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),r+=s}return O(n)}function O(t){var e=t.length;if(e<=tt)return String.fromCharCode.apply(String,t);for(var i="",n=0;n<e;)i+=String.fromCharCode.apply(String,t.slice(n,n+=tt));return i}function k(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(127&t[r]);return n}function I(t,e,i){var n="";i=Math.min(t.length,i);for(var r=e;r<i;++r)n+=String.fromCharCode(t[r]);return n}function R(t,e,i){var n=t.length;(!e||e<0)&&(e=0),(!i||i<0||i>n)&&(i=n);for(var r="",o=e;o<i;++o)r+=z(t[o]);return r}function L(t,e,i){for(var n=t.slice(e,i),r="",o=0;o<n.length;o+=2)r+=String.fromCharCode(n[o]+256*n[o+1]);return r}function B(t,e,i){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>i)throw new RangeError("Trying to access beyond buffer length")}function D(t,e,i,n,r,o){if(!a.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(i+n>t.length)throw new RangeError("Index out of range")}function F(t,e,i,n){e<0&&(e=65535+e+1);for(var r=0,o=Math.min(t.length-i,2);r<o;++r)t[i+r]=(e&255<<8*(n?r:1-r))>>>8*(n?r:1-r)}function j(t,e,i,n){e<0&&(e=4294967295+e+1);for(var r=0,o=Math.min(t.length-i,4);r<o;++r)t[i+r]=e>>>8*(n?r:3-r)&255}function N(t,e,i,n,r,o){if(i+n>t.length)throw new RangeError("Index out of range");if(i<0)throw new RangeError("Index out of range")}function X(t,e,i,n,r){return r||N(t,e,i,4,3.4028234663852886e38,-3.4028234663852886e38),Q.write(t,e,i,n,23,4),i+4}function U(t,e,i,n,r){return r||N(t,e,i,8,1.7976931348623157e308,-1.7976931348623157e308),Q.write(t,e,i,n,52,8),i+8}function G(t){if(t=Y(t).replace(et,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function Y(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function z(t){return t<16?"0"+t.toString(16):t.toString(16)}function V(t,e){e=e||1/0;for(var i,n=t.length,r=null,o=[],a=0;a<n;++a){if(i=t.charCodeAt(a),i>55295&&i<57344){if(!r){if(i>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(e-=3)>-1&&o.push(239,191,189);continue}r=i;continue}if(i<56320){(e-=3)>-1&&o.push(239,191,189),r=i;continue}i=(r-55296<<10|i-56320)+65536}else r&&(e-=3)>-1&&o.push(239,191,189);if(r=null,i<128){if((e-=1)<0)break;o.push(i)}else if(i<2048){if((e-=2)<0)break;o.push(i>>6|192,63&i|128)}else if(i<65536){if((e-=3)<0)break;o.push(i>>12|224,i>>6&63|128,63&i|128)}else{if(!(i<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(i>>18|240,i>>12&63|128,i>>6&63|128,63&i|128)}}return o}function W(t){for(var e=[],i=0;i<t.length;++i)e.push(255&t.charCodeAt(i));return e}function H(t,e){for(var i,n,r,o=[],a=0;a<t.length&&!((e-=2)<0);++a)i=t.charCodeAt(a),n=i>>8,r=i%256,o.push(r),o.push(n);return o}function q(t){return J.toByteArray(G(t))}function K(t,e,i,n){for(var r=0;r<n&&!(r+i>=e.length||r>=t.length);++r)e[r+i]=t[r];return r}function Z(t){return t!==t}var J=i(475),Q=i(682),$=i(477);e.Buffer=a,e.SlowBuffer=v,e.INSPECT_MAX_BYTES=50,a.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:n(),e.kMaxLength=r(),a.poolSize=8192,a._augment=function(t){return t.__proto__=a.prototype,t},a.from=function(t,e,i){return s(null,t,e,i)},a.TYPED_ARRAY_SUPPORT&&(a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,"undefined"!=typeof Symbol&&Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0})),a.alloc=function(t,e,i){return l(null,t,e,i)},a.allocUnsafe=function(t){return h(null,t)},a.allocUnsafeSlow=function(t){return h(null,t)},a.isBuffer=function(t){return!(null==t||!t._isBuffer)},a.compare=function(t,e){if(!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var i=t.length,n=e.length,r=0,o=Math.min(i,n);r<o;++r)if(t[r]!==e[r]){i=t[r],n=e[r];break}return i<n?-1:n<i?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(t,e){if(!$(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var i;if(void 0===e)for(e=0,i=0;i<t.length;++i)e+=t[i].length;var n=a.allocUnsafe(e),r=0;for(i=0;i<t.length;++i){var o=t[i];if(!a.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(n,r),r+=o.length}return n},a.byteLength=m,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)_(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)_(this,e,e+3),_(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)_(this,e,e+7),_(this,e+1,e+6),_(this,e+2,e+5),_(this,e+3,e+4);return this},a.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?A(this,0,t):g.apply(this,arguments)},a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t="",i=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,i).match(/.{2}/g).join(" "),this.length>i&&(t+=" ... ")),"<Buffer "+t+">"},a.prototype.compare=function(t,e,i,n,r){if(!a.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===i&&(i=t?t.length:0),void 0===n&&(n=0),void 0===r&&(r=this.length),e<0||i>t.length||n<0||r>this.length)throw new RangeError("out of range index");if(n>=r&&e>=i)return 0;if(n>=r)return-1;if(e>=i)return 1;if(e>>>=0,i>>>=0,n>>>=0,r>>>=0,this===t)return 0;for(var o=r-n,s=i-e,u=Math.min(o,s),l=this.slice(n,r),h=t.slice(e,i),c=0;c<u;++c)if(l[c]!==h[c]){o=l[c],s=h[c];break}return o<s?-1:s<o?1:0},a.prototype.includes=function(t,e,i){return this.indexOf(t,e,i)!==-1},a.prototype.indexOf=function(t,e,i){return b(this,t,e,i,!0)},a.prototype.lastIndexOf=function(t,e,i){return b(this,t,e,i,!1)},a.prototype.write=function(t,e,i,n){if(void 0===e)n="utf8",i=this.length,e=0;else if(void 0===i&&"string"==typeof e)n=e,i=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(i)?(i|=0,void 0===n&&(n="utf8")):(n=i,i=void 0)}var r=this.length-e;if((void 0===i||i>r)&&(i=r),t.length>0&&(i<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var o=!1;;)switch(n){case"hex":return x(this,t,e,i);case"utf8":case"utf-8":return T(this,t,e,i);case"ascii":return S(this,t,e,i);case"latin1":case"binary":return E(this,t,e,i);case"base64":return C(this,t,e,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P(this,t,e,i);default:if(o)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),o=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var tt=4096;a.prototype.slice=function(t,e){var i=this.length;t=~~t,e=void 0===e?i:~~e,t<0?(t+=i,t<0&&(t=0)):t>i&&(t=i),e<0?(e+=i,e<0&&(e=0)):e>i&&(e=i),e<t&&(e=t);var n;if(a.TYPED_ARRAY_SUPPORT)n=this.subarray(t,e),n.__proto__=a.prototype;else{var r=e-t;n=new a(r,void 0);for(var o=0;o<r;++o)n[o]=this[o+t]}return n},a.prototype.readUIntLE=function(t,e,i){t|=0,e|=0,i||B(t,e,this.length);for(var n=this[t],r=1,o=0;++o<e&&(r*=256);)n+=this[t+o]*r;return n},a.prototype.readUIntBE=function(t,e,i){t|=0,e|=0,i||B(t,e,this.length);for(var n=this[t+--e],r=1;e>0&&(r*=256);)n+=this[t+--e]*r;return n},a.prototype.readUInt8=function(t,e){return e||B(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return e||B(t,2,this.length),this[t]|this[t+1]<<8},a.prototype.readUInt16BE=function(t,e){return e||B(t,2,this.length),this[t]<<8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return e||B(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return e||B(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},a.prototype.readIntLE=function(t,e,i){t|=0,e|=0,i||B(t,e,this.length);for(var n=this[t],r=1,o=0;++o<e&&(r*=256);)n+=this[t+o]*r;return r*=128,n>=r&&(n-=Math.pow(2,8*e)),n},a.prototype.readIntBE=function(t,e,i){t|=0,e|=0,i||B(t,e,this.length);for(var n=e,r=1,o=this[t+--n];n>0&&(r*=256);)o+=this[t+--n]*r;return r*=128,o>=r&&(o-=Math.pow(2,8*e)),o},a.prototype.readInt8=function(t,e){return e||B(t,1,this.length),128&this[t]?(255-this[t]+1)*-1:this[t]},a.prototype.readInt16LE=function(t,e){e||B(t,2,this.length);var i=this[t]|this[t+1]<<8;return 32768&i?4294901760|i:i},a.prototype.readInt16BE=function(t,e){e||B(t,2,this.length);var i=this[t+1]|this[t]<<8;return 32768&i?4294901760|i:i},a.prototype.readInt32LE=function(t,e){return e||B(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},a.prototype.readInt32BE=function(t,e){return e||B(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},a.prototype.readFloatLE=function(t,e){return e||B(t,4,this.length),Q.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return e||B(t,4,this.length),Q.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return e||B(t,8,this.length),Q.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return e||B(t,8,this.length),Q.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,i,n){if(t=+t,e|=0,i|=0,!n){var r=Math.pow(2,8*i)-1;D(this,t,e,i,r,0)}var o=1,a=0;for(this[e]=255&t;++a<i&&(o*=256);)this[e+a]=t/o&255;return e+i},a.prototype.writeUIntBE=function(t,e,i,n){if(t=+t,e|=0,i|=0,!n){var r=Math.pow(2,8*i)-1;D(this,t,e,i,r,0)}var o=i-1,a=1;for(this[e+o]=255&t;--o>=0&&(a*=256);)this[e+o]=t/a&255;return e+i},a.prototype.writeUInt8=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,1,255,0),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},a.prototype.writeUInt16LE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):F(this,t,e,!0),e+2},a.prototype.writeUInt16BE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,2,65535,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):F(this,t,e,!1),e+2},a.prototype.writeUInt32LE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):j(this,t,e,!0),e+4},a.prototype.writeUInt32BE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,4,4294967295,0),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):j(this,t,e,!1),e+4},a.prototype.writeIntLE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);D(this,t,e,i,r-1,-r)}var o=0,a=1,s=0;for(this[e]=255&t;++o<i&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+i},a.prototype.writeIntBE=function(t,e,i,n){if(t=+t,e|=0,!n){var r=Math.pow(2,8*i-1);D(this,t,e,i,r-1,-r)}var o=i-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+i},a.prototype.writeInt8=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,1,127,-128),a.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},a.prototype.writeInt16LE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):F(this,t,e,!0),e+2},a.prototype.writeInt16BE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,2,32767,-32768),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):F(this,t,e,!1),e+2},a.prototype.writeInt32LE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,4,2147483647,-2147483648),a.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):j(this,t,e,!0),e+4},a.prototype.writeInt32BE=function(t,e,i){return t=+t,e|=0,i||D(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),a.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):j(this,t,e,!1),e+4},a.prototype.writeFloatLE=function(t,e,i){return X(this,t,e,!0,i)},a.prototype.writeFloatBE=function(t,e,i){return X(this,t,e,!1,i)},a.prototype.writeDoubleLE=function(t,e,i){return U(this,t,e,!0,i)},a.prototype.writeDoubleBE=function(t,e,i){return U(this,t,e,!1,i)},a.prototype.copy=function(t,e,i,n){if(i||(i=0),n||0===n||(n=this.length),e>=t.length&&(e=t.length),e||(e=0),n>0&&n<i&&(n=i),n===i)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),t.length-e<n-i&&(n=t.length-e+i);var r,o=n-i;if(this===t&&i<e&&e<n)for(r=o-1;r>=0;--r)t[r+e]=this[r+i];else if(o<1e3||!a.TYPED_ARRAY_SUPPORT)for(r=0;r<o;++r)t[r+e]=this[r+i];else Uint8Array.prototype.set.call(t,this.subarray(i,i+o),e);return o},a.prototype.fill=function(t,e,i,n){if("string"==typeof t){if("string"==typeof e?(n=e,e=0,i=this.length):"string"==typeof i&&(n=i,i=this.length),1===t.length){var r=t.charCodeAt(0);r<256&&(t=r)}if(void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n)}else"number"==typeof t&&(t&=255);if(e<0||this.length<e||this.length<i)throw new RangeError("Out of range index");if(i<=e)return this;e>>>=0,i=void 0===i?this.length:i>>>0,t||(t=0);var o;if("number"==typeof t)for(o=e;o<i;++o)this[o]=t;else{var s=a.isBuffer(t)?t:V(new a(t,n).toString()),u=s.length;for(o=0;o<i-e;++o)this[o+e]=s[o%u]}return this};var et=/[^+\/0-9A-Za-z-_]/g}).call(e,function(){return this}())},function(t,e){var i={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==i.call(t)}},function(t,e,i){i(487),t.exports=i(51).RegExp.escape},function(t,e,i){var n=i(12),r=i(150),o=i(15)("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)||(e=void 0),n(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},function(t,e,i){var n=i(479);t.exports=function(t,e){return new(n(t))(e)}},function(t,e,i){"use strict";var n=i(4),r=i(50),o="number";t.exports=function(t){if("string"!==t&&t!==o&&"default"!==t)throw TypeError("Incorrect hint");return r(n(this),t!=o)}},function(t,e,i){var n=i(69),r=i(118),o=i(93);t.exports=function(t){var e=n(t),i=r.f;if(i)for(var a,s=i(t),u=o.f,l=0;s.length>l;)u.call(t,a=s[l++])&&e.push(a);return e}},function(t,e,i){var n=i(69),r=i(35);t.exports=function(t,e){for(var i,o=r(t),a=n(o),s=a.length,u=0;s>u;)if(o[i=a[u++]]===e)return i}},function(t,e,i){"use strict";var n=i(485),r=i(114),o=i(31);t.exports=function(){for(var t=o(this),e=arguments.length,i=Array(e),a=0,s=n._,u=!1;e>a;)(i[a]=arguments[a++])===s&&(u=!0);return function(){var n,o=this,a=arguments.length,l=0,h=0;if(!u&&!a)return r(t,i,o);if(n=i.slice(),u)for(;e>l;l++)n[l]===s&&(n[l]=arguments[h++]);for(;a>h;)n.push(arguments[h++]);return r(t,n,o)}}},function(t,e,i){t.exports=i(7)},function(t,e){t.exports=function(t,e){var i=e===Object(e)?function(t){return e[t]}:e;return function(e){return String(e).replace(t,i)}}},function(t,e,i){var n=i(2),r=i(486)(/[\\^$*+?.()|[\]{}]/g,"\\$&");n(n.S,"RegExp",{escape:function(t){return r(t)}})},function(t,e,i){var n=i(2);n(n.P,"Array",{copyWithin:i(211)}),i(79)("copyWithin")},function(t,e,i){"use strict";var n=i(2),r=i(48)(4);n(n.P+n.F*!i(45)([].every,!0),"Array",{every:function(t){return r(this,t,arguments[1])}})},function(t,e,i){var n=i(2);n(n.P,"Array",{fill:i(142)}),i(79)("fill")},function(t,e,i){"use strict";var n=i(2),r=i(48)(2);n(n.P+n.F*!i(45)([].filter,!0),"Array",{filter:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(2),r=i(48)(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),n(n.P+n.F*a,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(79)(o)},function(t,e,i){"use strict";var n=i(2),r=i(48)(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),n(n.P+n.F*a,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(79)(o)},function(t,e,i){"use strict";var n=i(2),r=i(48)(0),o=i(45)([].forEach,!0);n(n.P+n.F*!o,"Array",{forEach:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(52),r=i(2),o=i(27),a=i(220),s=i(149),u=i(25),l=i(143),h=i(166);r(r.S+r.F*!i(116)(function(t){Array.from(t)}),"Array",{from:function(t){var e,i,r,c,f=o(t),d="function"==typeof this?this:Array,p=arguments.length,y=p>1?arguments[1]:void 0,v=void 0!==y,m=0,g=h(f);if(v&&(y=n(y,p>2?arguments[2]:void 0,2)),void 0==g||d==Array&&s(g))for(e=u(f.length),i=new d(e);e>m;m++)l(i,m,v?y(f[m],m):f[m]);else for(c=g.call(f),i=new d;!(r=c.next()).done;m++)l(i,m,v?a(c,y,[r.value,m],!0):r.value);return i.length=m,i}})},function(t,e,i){"use strict";var n=i(2),r=i(110)(!1),o=[].indexOf,a=!!o&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(a||!i(45)(o)),"Array",{indexOf:function(t){return a?o.apply(this,arguments)||0:r(this,t,arguments[1])}})},function(t,e,i){var n=i(2);n(n.S,"Array",{isArray:i(150)})},function(t,e,i){"use strict";var n=i(2),r=i(35),o=[].join;n(n.P+n.F*(i(92)!=Object||!i(45)(o)),"Array",{join:function(t){return o.call(r(this),void 0===t?",":t)}})},function(t,e,i){"use strict";var n=i(2),r=i(35),o=i(57),a=i(25),s=[].lastIndexOf,u=!!s&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(u||!i(45)(s)),"Array",{lastIndexOf:function(t){if(u)return s.apply(this,arguments)||0;var e=r(this),i=a(e.length),n=i-1;for(arguments.length>1&&(n=Math.min(n,o(arguments[1]))),n<0&&(n=i+n);n>=0;n--)if(n in e&&e[n]===t)return n||0;return-1}})},function(t,e,i){"use strict";var n=i(2),r=i(48)(1);n(n.P+n.F*!i(45)([].map,!0),"Array",{map:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(2),r=i(143);n(n.S+n.F*i(10)(function(){function t(){}return!(Array.of.call(t)instanceof t)}),"Array",{of:function(){for(var t=0,e=arguments.length,i=new("function"==typeof this?this:Array)(e);e>t;)r(i,t,arguments[t++]);return i.length=e,i}})},function(t,e,i){"use strict";var n=i(2),r=i(213);n(n.P+n.F*!i(45)([].reduceRight,!0),"Array",{reduceRight:function(t){return r(this,t,arguments.length,arguments[1],!0)}})},function(t,e,i){"use strict";var n=i(2),r=i(213);n(n.P+n.F*!i(45)([].reduce,!0),"Array",{reduce:function(t){return r(this,t,arguments.length,arguments[1],!1)}})},function(t,e,i){"use strict";var n=i(2),r=i(147),o=i(43),a=i(72),s=i(25),u=[].slice;n(n.P+n.F*i(10)(function(){r&&u.call(r)}),"Array",{slice:function(t,e){var i=s(this.length),n=o(this);if(e=void 0===e?i:e,"Array"==n)return u.call(this,t,e);for(var r=a(t,i),l=a(e,i),h=s(l-r),c=Array(h),f=0;f<h;f++)c[f]="String"==n?this.charAt(r+f):this[r+f];return c}})},function(t,e,i){"use strict";var n=i(2),r=i(48)(3);n(n.P+n.F*!i(45)([].some,!0),"Array",{some:function(t){return r(this,t,arguments[1])}})},function(t,e,i){"use strict";var n=i(2),r=i(31),o=i(27),a=i(10),s=[].sort,u=[1,2,3];n(n.P+n.F*(a(function(){u.sort(void 0)})||!a(function(){u.sort(null)})||!i(45)(s)),"Array",{sort:function(t){return void 0===t?s.call(o(this)):s.call(o(this),r(t))}})},function(t,e,i){i(71)("Array")},function(t,e,i){var n=i(2);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(t,e,i){"use strict";var n=i(2),r=i(10),o=Date.prototype.getTime,a=function(t){return t>9?t:"0"+t};n(n.P+n.F*(r(function(){return"0385-07-25T07:06:39.999Z"!=new Date(-5e13-1).toISOString()})||!r(function(){new Date(NaN).toISOString()})),"Date",{toISOString:function(){if(!isFinite(o.call(this)))throw RangeError("Invalid time value");var t=this,e=t.getUTCFullYear(),i=t.getUTCMilliseconds(),n=e<0?"-":e>9999?"+":"";return n+("00000"+Math.abs(e)).slice(n?-6:-4)+"-"+a(t.getUTCMonth()+1)+"-"+a(t.getUTCDate())+"T"+a(t.getUTCHours())+":"+a(t.getUTCMinutes())+":"+a(t.getUTCSeconds())+"."+(i>99?i:"0"+a(i))+"Z"}})},function(t,e,i){"use strict";var n=i(2),r=i(27),o=i(50);n(n.P+n.F*i(10)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(t){var e=r(this),i=o(e);return"number"!=typeof i||isFinite(i)?e.toISOString():null}})},function(t,e,i){var n=i(15)("toPrimitive"),r=Date.prototype;n in r||i(32)(r,n,i(481))},function(t,e,i){var n=Date.prototype,r="Invalid Date",o="toString",a=n[o],s=n.getTime;new Date(NaN)+""!=r&&i(33)(n,o,function(){var t=s.call(this);return t===t?a.call(this):r})},function(t,e,i){var n=i(2);n(n.P,"Function",{bind:i(214)})},function(t,e,i){"use strict";var n=i(12),r=i(39),o=i(15)("hasInstance"),a=Function.prototype;o in a||i(20).f(a,o,{value:function(t){if("function"!=typeof this||!n(t))return!1;if(!n(this.prototype))return t instanceof this;for(;t=r(t);)if(this.prototype===t)return!0;return!1}})},function(t,e,i){var n=i(20).f,r=i(56),o=i(30),a=Function.prototype,s=/^\s*function ([^ (]*)/,u="name",l=Object.isExtensible||function(){return!0};u in a||i(19)&&n(a,u,{configurable:!0,get:function(){try{var t=this,e=(""+t).match(s)[1];return o(t,u)||!l(t)||n(t,u,r(5,e)),e}catch(t){return""}}})},function(t,e,i){var n=i(2),r=i(222),o=Math.sqrt,a=Math.acosh;n(n.S+n.F*!(a&&710==Math.floor(a(Number.MAX_VALUE))&&a(1/0)==1/0),"Math",{acosh:function(t){return(t=+t)<1?NaN:t>94906265.62425156?Math.log(t)+Math.LN2:r(t-1+o(t-1)*o(t+1))}})},function(t,e,i){function n(t){return isFinite(t=+t)&&0!=t?t<0?-n(-t):Math.log(t+Math.sqrt(t*t+1)):t}var r=i(2),o=Math.asinh;r(r.S+r.F*!(o&&1/o(0)>0),"Math",{asinh:n})},function(t,e,i){var n=i(2),r=Math.atanh;n(n.S+n.F*!(r&&1/r(-0)<0),"Math",{atanh:function(t){return 0==(t=+t)?t:Math.log((1+t)/(1-t))/2}})},function(t,e,i){var n=i(2),r=i(154);n(n.S,"Math",{cbrt:function(t){return r(t=+t)*Math.pow(Math.abs(t),1/3)}})},function(t,e,i){var n=i(2);n(n.S,"Math",{clz32:function(t){return(t>>>=0)?31-Math.floor(Math.log(t+.5)*Math.LOG2E):32}})},function(t,e,i){var n=i(2),r=Math.exp;n(n.S,"Math",{cosh:function(t){return(r(t=+t)+r(-t))/2}})},function(t,e,i){var n=i(2),r=i(153);n(n.S+n.F*(r!=Math.expm1),"Math",{expm1:r})},function(t,e,i){var n=i(2),r=i(154),o=Math.pow,a=o(2,-52),s=o(2,-23),u=o(2,127)*(2-s),l=o(2,-126),h=function(t){return t+1/a-1/a};n(n.S,"Math",{fround:function(t){var e,i,n=Math.abs(t),o=r(t);return n<l?o*h(n/l/s)*l*s:(e=(1+s/a)*n,i=e-(e-n),i>u||i!=i?o*(1/0):o*i)}})},function(t,e,i){var n=i(2),r=Math.abs;n(n.S,"Math",{hypot:function(t,e){for(var i,n,o=0,a=0,s=arguments.length,u=0;a<s;)i=r(arguments[a++]),u<i?(n=u/i,o=o*n*n+1,u=i):i>0?(n=i/u,o+=n*n):o+=i;return u===1/0?1/0:u*Math.sqrt(o)}})},function(t,e,i){var n=i(2),r=Math.imul;n(n.S+n.F*i(10)(function(){return r(4294967295,5)!=-5||2!=r.length}),"Math",{imul:function(t,e){var i=65535,n=+t,r=+e,o=i&n,a=i&r;return 0|o*a+((i&n>>>16)*a+o*(i&r>>>16)<<16>>>0)}})},function(t,e,i){var n=i(2);n(n.S,"Math",{log10:function(t){return Math.log(t)/Math.LN10}})},function(t,e,i){var n=i(2);n(n.S,"Math",{log1p:i(222)})},function(t,e,i){var n=i(2);n(n.S,"Math",{log2:function(t){return Math.log(t)/Math.LN2}})},function(t,e,i){var n=i(2);n(n.S,"Math",{sign:i(154)})},function(t,e,i){var n=i(2),r=i(153),o=Math.exp;n(n.S+n.F*i(10)(function(){return!Math.sinh(-2e-17)!=-2e-17}),"Math",{sinh:function(t){return Math.abs(t=+t)<1?(r(t)-r(-t))/2:(o(t-1)-o(-t-1))*(Math.E/2)}})},function(t,e,i){var n=i(2),r=i(153),o=Math.exp;n(n.S,"Math",{tanh:function(t){var e=r(t=+t),i=r(-t);return e==1/0?1:i==1/0?-1:(e-i)/(o(t)+o(-t))}})},function(t,e,i){var n=i(2);n(n.S,"Math",{trunc:function(t){return(t>0?Math.floor:Math.ceil)(t)}})},function(t,e,i){"use strict";var n=i(7),r=i(30),o=i(43),a=i(148),s=i(50),u=i(10),l=i(68).f,h=i(38).f,c=i(20).f,f=i(83).trim,d="Number",p=n[d],y=p,v=p.prototype,m=o(i(67)(v))==d,g="trim"in String.prototype,_=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=g?e.trim():f(e,3);var i,n,r,o=e.charCodeAt(0);if(43===o||45===o){if(i=e.charCodeAt(2),88===i||120===i)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+e}for(var a,u=e.slice(2),l=0,h=u.length;l<h;l++)if(a=u.charCodeAt(l),a<48||a>r)return NaN;return parseInt(u,n)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,i=this;return i instanceof p&&(m?u(function(){v.valueOf.call(i)}):o(i)!=d)?a(new y(_(e)),i,p):_(e)};for(var b,w=i(19)?l(y):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),x=0;w.length>x;x++)r(y,b=w[x])&&!r(p,b)&&c(p,b,h(y,b));p.prototype=v,v.constructor=p,i(33)(n,d,p)}},function(t,e,i){var n=i(2);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(t,e,i){var n=i(2),r=i(7).isFinite;n(n.S,"Number",{isFinite:function(t){return"number"==typeof t&&r(t)}})},function(t,e,i){var n=i(2);n(n.S,"Number",{isInteger:i(219)})},function(t,e,i){var n=i(2);n(n.S,"Number",{isNaN:function(t){return t!=t}})},function(t,e,i){var n=i(2),r=i(219),o=Math.abs;n(n.S,"Number",{isSafeInteger:function(t){return r(t)&&o(t)<=9007199254740991}})},function(t,e,i){var n=i(2);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(t,e,i){var n=i(2);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(t,e,i){var n=i(2),r=i(229);n(n.S+n.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(t,e,i){var n=i(2),r=i(230);n(n.S+n.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(t,e,i){"use strict";var n=i(2),r=i(57),o=i(210),a=i(161),s=1..toFixed,u=Math.floor,l=[0,0,0,0,0,0],h="Number.toFixed: incorrect invocation!",c="0",f=function(t,e){for(var i=-1,n=e;++i<6;)n+=t*l[i],l[i]=n%1e7,n=u(n/1e7)},d=function(t){for(var e=6,i=0;--e>=0;)i+=l[e],l[e]=u(i/t),i=i%t*1e7},p=function(){for(var t=6,e="";--t>=0;)if(""!==e||0===t||0!==l[t]){
var i=String(l[t]);e=""===e?i:e+a.call(c,7-i.length)+i}return e},y=function(t,e,i){return 0===e?i:e%2===1?y(t,e-1,i*t):y(t*t,e/2,i)},v=function(t){for(var e=0,i=t;i>=4096;)e+=12,i/=4096;for(;i>=2;)e+=1,i/=2;return e};n(n.P+n.F*(!!s&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i(10)(function(){s.call({})})),"Number",{toFixed:function(t){var e,i,n,s,u=o(this,h),l=r(t),m="",g=c;if(l<0||l>20)throw RangeError(h);if(u!=u)return"NaN";if(u<=-1e21||u>=1e21)return String(u);if(u<0&&(m="-",u=-u),u>1e-21)if(e=v(u*y(2,69,1))-69,i=e<0?u*y(2,-e,1):u/y(2,e,1),i*=4503599627370496,e=52-e,e>0){for(f(0,i),n=l;n>=7;)f(1e7,0),n-=7;for(f(y(10,n,1),0),n=e-1;n>=23;)d(1<<23),n-=23;d(1<<n),f(1,1),d(2),g=p()}else f(0,i),f(1<<-e,0),g=p()+a.call(c,l);return l>0?(s=g.length,g=m+(s<=l?"0."+a.call(c,l-s)+g:g.slice(0,s-l)+"."+g.slice(s-l))):g=m+g,g}})},function(t,e,i){"use strict";var n=i(2),r=i(10),o=i(210),a=1..toPrecision;n(n.P+n.F*(r(function(){return"1"!==a.call(1,void 0)})||!r(function(){a.call({})})),"Number",{toPrecision:function(t){var e=o(this,"Number#toPrecision: incorrect invocation!");return void 0===t?a.call(e):a.call(e,t)}})},function(t,e,i){var n=i(2);n(n.S+n.F,"Object",{assign:i(223)})},function(t,e,i){var n=i(2);n(n.S,"Object",{create:i(67)})},function(t,e,i){var n=i(2);n(n.S+n.F*!i(19),"Object",{defineProperties:i(224)})},function(t,e,i){var n=i(2);n(n.S+n.F*!i(19),"Object",{defineProperty:i(20).f})},function(t,e,i){var n=i(12),r=i(55).onFreeze;i(49)("freeze",function(t){return function(e){return t&&n(e)?t(r(e)):e}})},function(t,e,i){var n=i(35),r=i(38).f;i(49)("getOwnPropertyDescriptor",function(){return function(t,e){return r(n(t),e)}})},function(t,e,i){i(49)("getOwnPropertyNames",function(){return i(225).f})},function(t,e,i){var n=i(27),r=i(39);i(49)("getPrototypeOf",function(){return function(t){return r(n(t))}})},function(t,e,i){var n=i(12);i(49)("isExtensible",function(t){return function(e){return!!n(e)&&(!t||t(e))}})},function(t,e,i){var n=i(12);i(49)("isFrozen",function(t){return function(e){return!n(e)||!!t&&t(e)}})},function(t,e,i){var n=i(12);i(49)("isSealed",function(t){return function(e){return!n(e)||!!t&&t(e)}})},function(t,e,i){var n=i(2);n(n.S,"Object",{is:i(231)})},function(t,e,i){var n=i(27),r=i(69);i(49)("keys",function(){return function(t){return r(n(t))}})},function(t,e,i){var n=i(12),r=i(55).onFreeze;i(49)("preventExtensions",function(t){return function(e){return t&&n(e)?t(r(e)):e}})},function(t,e,i){var n=i(12),r=i(55).onFreeze;i(49)("seal",function(t){return function(e){return t&&n(e)?t(r(e)):e}})},function(t,e,i){var n=i(2);n(n.S,"Object",{setPrototypeOf:i(156).set})},function(t,e,i){"use strict";var n=i(91),r={};r[i(15)("toStringTag")]="z",r+""!="[object z]"&&i(33)(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},function(t,e,i){var n=i(2),r=i(229);n(n.G+n.F*(parseFloat!=r),{parseFloat:r})},function(t,e,i){var n=i(2),r=i(230);n(n.G+n.F*(parseInt!=r),{parseInt:r})},function(t,e,i){"use strict";var n,r,o,a=i(66),s=i(7),u=i(52),l=i(91),h=i(2),c=i(12),f=i(31),d=i(65),p=i(80),y=i(158),v=i(163).set,m=i(155)(),g="Promise",_=s.TypeError,b=s.process,w=s[g],b=s.process,x="process"==l(b),T=function(){},S=!!function(){try{var t=w.resolve(1),e=(t.constructor={})[i(15)("species")]=function(t){t(T,T)};return(x||"function"==typeof PromiseRejectionEvent)&&t.then(T)instanceof e}catch(t){}}(),E=function(t,e){return t===e||t===w&&e===o},C=function(t){var e;return!(!c(t)||"function"!=typeof(e=t.then))&&e},P=function(t){return E(w,t)?new M(t):new r(t)},M=r=function(t){var e,i;this.promise=new t(function(t,n){if(void 0!==e||void 0!==i)throw _("Bad Promise constructor");e=t,i=n}),this.resolve=f(e),this.reject=f(i)},A=function(t){try{t()}catch(t){return{error:t}}},O=function(t,e){if(!t._n){t._n=!0;var i=t._c;m(function(){for(var n=t._v,r=1==t._s,o=0,a=function(e){var i,o,a=r?e.ok:e.fail,s=e.resolve,u=e.reject,l=e.domain;try{a?(r||(2==t._h&&R(t),t._h=1),a===!0?i=n:(l&&l.enter(),i=a(n),l&&l.exit()),i===e.promise?u(_("Promise-chain cycle")):(o=C(i))?o.call(i,s,u):s(i)):u(n)}catch(t){u(t)}};i.length>o;)a(i[o++]);t._c=[],t._n=!1,e&&!t._h&&k(t)})}},k=function(t){v.call(s,function(){var e,i,n,r=t._v;if(I(t)&&(e=A(function(){x?b.emit("unhandledRejection",r,t):(i=s.onunhandledrejection)?i({promise:t,reason:r}):(n=s.console)&&n.error&&n.error("Unhandled promise rejection",r)}),t._h=x||I(t)?2:1),t._a=void 0,e)throw e.error})},I=function(t){if(1==t._h)return!1;for(var e,i=t._a||t._c,n=0;i.length>n;)if(e=i[n++],e.fail||!I(e.promise))return!1;return!0},R=function(t){v.call(s,function(){var e;x?b.emit("rejectionHandled",t):(e=s.onrejectionhandled)&&e({promise:t,reason:t._v})})},L=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),O(e,!0))},B=function(t){var e,i=this;if(!i._d){i._d=!0,i=i._w||i;try{if(i===t)throw _("Promise can't be resolved itself");(e=C(t))?m(function(){var n={_w:i,_d:!1};try{e.call(t,u(B,n,1),u(L,n,1))}catch(t){L.call(n,t)}}):(i._v=t,i._s=1,O(i,!1))}catch(t){L.call({_w:i,_d:!1},t)}}};S||(w=function(t){d(this,w,g,"_h"),f(t),n.call(this);try{t(u(B,this,1),u(L,this,1))}catch(t){L.call(this,t)}},n=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},n.prototype=i(70)(w.prototype,{then:function(t,e){var i=P(y(this,w));return i.ok="function"!=typeof t||t,i.fail="function"==typeof e&&e,i.domain=x?b.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&O(this,!1),i.promise},catch:function(t){return this.then(void 0,t)}}),M=function(){var t=new n;this.promise=t,this.resolve=u(B,t,1),this.reject=u(L,t,1)}),h(h.G+h.W+h.F*!S,{Promise:w}),i(82)(w,g),i(71)(g),o=i(51)[g],h(h.S+h.F*!S,g,{reject:function(t){var e=P(this),i=e.reject;return i(t),e.promise}}),h(h.S+h.F*(a||!S),g,{resolve:function(t){if(t instanceof w&&E(t.constructor,this))return t;var e=P(this),i=e.resolve;return i(t),e.promise}}),h(h.S+h.F*!(S&&i(116)(function(t){w.all(t).catch(T)})),g,{all:function(t){var e=this,i=P(e),n=i.resolve,r=i.reject,o=A(function(){var i=[],o=0,a=1;p(t,!1,function(t){var s=o++,u=!1;i.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,i[s]=t,--a||n(i))},r)}),--a||n(i)});return o&&r(o.error),i.promise},race:function(t){var e=this,i=P(e),n=i.reject,r=A(function(){p(t,!1,function(t){e.resolve(t).then(i.resolve,n)})});return r&&n(r.error),i.promise}})},function(t,e,i){var n=i(2),r=i(31),o=i(4),a=(i(7).Reflect||{}).apply,s=Function.apply;n(n.S+n.F*!i(10)(function(){a(function(){})}),"Reflect",{apply:function(t,e,i){var n=r(t),u=o(i);return a?a(n,e,u):s.call(n,e,u)}})},function(t,e,i){var n=i(2),r=i(67),o=i(31),a=i(4),s=i(12),u=i(10),l=i(214),h=(i(7).Reflect||{}).construct,c=u(function(){function t(){}return!(h(function(){},[],t)instanceof t)}),f=!u(function(){h(function(){})});n(n.S+n.F*(c||f),"Reflect",{construct:function(t,e){o(t),a(e);var i=arguments.length<3?t:o(arguments[2]);if(f&&!c)return h(t,e,i);if(t==i){switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3])}var n=[null];return n.push.apply(n,e),new(l.apply(t,n))}var u=i.prototype,d=r(s(u)?u:Object.prototype),p=Function.apply.call(t,d,e);return s(p)?p:d}})},function(t,e,i){var n=i(20),r=i(2),o=i(4),a=i(50);r(r.S+r.F*i(10)(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(t,e,i){o(t),e=a(e,!0),o(i);try{return n.f(t,e,i),!0}catch(t){return!1}}})},function(t,e,i){var n=i(2),r=i(38).f,o=i(4);n(n.S,"Reflect",{deleteProperty:function(t,e){var i=r(o(t),e);return!(i&&!i.configurable)&&delete t[e]}})},function(t,e,i){"use strict";var n=i(2),r=i(4),o=function(t){this._t=r(t),this._i=0;var e,i=this._k=[];for(e in t)i.push(e)};i(151)(o,"Object",function(){var t,e=this,i=e._k;do if(e._i>=i.length)return{value:void 0,done:!0};while(!((t=i[e._i++])in e._t));return{value:t,done:!1}}),n(n.S,"Reflect",{enumerate:function(t){return new o(t)}})},function(t,e,i){var n=i(38),r=i(2),o=i(4);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(t,e){return n.f(o(t),e)}})},function(t,e,i){var n=i(2),r=i(39),o=i(4);n(n.S,"Reflect",{getPrototypeOf:function(t){return r(o(t))}})},function(t,e,i){function n(t,e){var i,s,h=arguments.length<3?t:arguments[2];return l(t)===h?t[e]:(i=r.f(t,e))?a(i,"value")?i.value:void 0!==i.get?i.get.call(h):void 0:u(s=o(t))?n(s,e,h):void 0}var r=i(38),o=i(39),a=i(30),s=i(2),u=i(12),l=i(4);s(s.S,"Reflect",{get:n})},function(t,e,i){var n=i(2);n(n.S,"Reflect",{has:function(t,e){return e in t}})},function(t,e,i){var n=i(2),r=i(4),o=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(t){return r(t),!o||o(t)}})},function(t,e,i){var n=i(2);n(n.S,"Reflect",{ownKeys:i(228)})},function(t,e,i){var n=i(2),r=i(4),o=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(t){r(t);try{return o&&o(t),!0}catch(t){return!1}}})},function(t,e,i){var n=i(2),r=i(156);r&&n(n.S,"Reflect",{setPrototypeOf:function(t,e){r.check(t,e);try{return r.set(t,e),!0}catch(t){return!1}}})},function(t,e,i){function n(t,e,i){var u,f,d=arguments.length<4?t:arguments[3],p=o.f(h(t),e);if(!p){if(c(f=a(t)))return n(f,e,i,d);p=l(0)}return s(p,"value")?!(p.writable===!1||!c(d))&&(u=o.f(d,e)||l(0),u.value=i,r.f(d,e,u),!0):void 0!==p.set&&(p.set.call(d,i),!0)}var r=i(20),o=i(38),a=i(39),s=i(30),u=i(2),l=i(56),h=i(4),c=i(12);u(u.S,"Reflect",{set:n})},function(t,e,i){var n=i(7),r=i(148),o=i(20).f,a=i(68).f,s=i(115),u=i(113),l=n.RegExp,h=l,c=l.prototype,f=/a/g,d=/a/g,p=new l(f)!==f;if(i(19)&&(!p||i(10)(function(){return d[i(15)("match")]=!1,l(f)!=f||l(d)==d||"/a/i"!=l(f,"i")}))){l=function(t,e){var i=this instanceof l,n=s(t),o=void 0===e;return!i&&n&&t.constructor===l&&o?t:r(p?new h(n&&!o?t.source:t,e):h((n=t instanceof l)?t.source:t,n&&o?u.call(t):e),i?this:c,l)};for(var y=(function(t){t in l||o(l,t,{configurable:!0,get:function(){return h[t]},set:function(e){h[t]=e}})}),v=a(h),m=0;v.length>m;)y(v[m++]);c.constructor=l,l.prototype=c,i(33)(n,"RegExp",l)}i(71)("RegExp")},function(t,e,i){i(112)("match",1,function(t,e,i){return[function(i){"use strict";var n=t(this),r=void 0==i?void 0:i[e];return void 0!==r?r.call(i,n):new RegExp(i)[e](String(n))},i]})},function(t,e,i){i(112)("replace",2,function(t,e,i){return[function(n,r){"use strict";var o=t(this),a=void 0==n?void 0:n[e];return void 0!==a?a.call(n,o,r):i.call(String(o),n,r)},i]})},function(t,e,i){i(112)("search",1,function(t,e,i){return[function(i){"use strict";var n=t(this),r=void 0==i?void 0:i[e];return void 0!==r?r.call(i,n):new RegExp(i)[e](String(n))},i]})},function(t,e,i){i(112)("split",2,function(t,e,n){"use strict";var r=i(115),o=n,a=[].push,s="split",u="length",l="lastIndex";if("c"=="abbc"[s](/(b)*/)[1]||4!="test"[s](/(?:)/,-1)[u]||2!="ab"[s](/(?:ab)*/)[u]||4!="."[s](/(.?)(.?)/)[u]||"."[s](/()()/)[u]>1||""[s](/.?/)[u]){var h=void 0===/()??/.exec("")[1];n=function(t,e){var i=String(this);if(void 0===t&&0===e)return[];if(!r(t))return o.call(i,t,e);var n,s,c,f,d,p=[],y=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),v=0,m=void 0===e?4294967295:e>>>0,g=new RegExp(t.source,y+"g");for(h||(n=new RegExp("^"+g.source+"$(?!\\s)",y));(s=g.exec(i))&&(c=s.index+s[0][u],!(c>v&&(p.push(i.slice(v,s.index)),!h&&s[u]>1&&s[0].replace(n,function(){for(d=1;d<arguments[u]-2;d++)void 0===arguments[d]&&(s[d]=void 0)}),s[u]>1&&s.index<i[u]&&a.apply(p,s.slice(1)),f=s[0][u],v=c,p[u]>=m)));)g[l]===s.index&&g[l]++;return v===i[u]?!f&&g.test("")||p.push(""):p.push(i.slice(v)),p[u]>m?p.slice(0,m):p}}else"0"[s](void 0,0)[u]&&(n=function(t,e){return void 0===t&&0===e?[]:o.call(this,t,e)});return[function(i,r){var o=t(this),a=void 0==i?void 0:i[e];return void 0!==a?a.call(i,o,r):n.call(String(o),i,r)},n]})},function(t,e,i){"use strict";i(235);var n=i(4),r=i(113),o=i(19),a="toString",s=/./[a],u=function(t){i(33)(RegExp.prototype,a,t,!0)};i(10)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?u(function(){var t=n(this);return"/".concat(t.source,"/","flags"in t?t.flags:!o&&t instanceof RegExp?r.call(t):void 0)}):s.name!=a&&u(function(){return s.call(this)})},function(t,e,i){"use strict";i(34)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(t,e,i){"use strict";i(34)("big",function(t){return function(){return t(this,"big","","")}})},function(t,e,i){"use strict";i(34)("blink",function(t){return function(){return t(this,"blink","","")}})},function(t,e,i){"use strict";i(34)("bold",function(t){return function(){return t(this,"b","","")}})},function(t,e,i){"use strict";var n=i(2),r=i(159)(!1);n(n.P,"String",{codePointAt:function(t){return r(this,t)}})},function(t,e,i){"use strict";var n=i(2),r=i(25),o=i(160),a="endsWith",s=""[a];n(n.P+n.F*i(146)(a),"String",{endsWith:function(t){var e=o(this,t,a),i=arguments.length>1?arguments[1]:void 0,n=r(e.length),u=void 0===i?n:Math.min(r(i),n),l=String(t);return s?s.call(e,l,u):e.slice(u-l.length,u)===l}})},function(t,e,i){"use strict";i(34)("fixed",function(t){return function(){return t(this,"tt","","")}})},function(t,e,i){"use strict";i(34)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(t,e,i){"use strict";i(34)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(t,e,i){var n=i(2),r=i(72),o=String.fromCharCode,a=String.fromCodePoint;n(n.S+n.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(t){for(var e,i=[],n=arguments.length,a=0;n>a;){if(e=+arguments[a++],r(e,1114111)!==e)throw RangeError(e+" is not a valid code point");i.push(e<65536?o(e):o(((e-=65536)>>10)+55296,e%1024+56320))}return i.join("")}})},function(t,e,i){"use strict";var n=i(2),r=i(160),o="includes";n(n.P+n.F*i(146)(o),"String",{includes:function(t){return!!~r(this,t,o).indexOf(t,arguments.length>1?arguments[1]:void 0)}})},function(t,e,i){"use strict";i(34)("italics",function(t){return function(){return t(this,"i","","")}})},function(t,e,i){"use strict";var n=i(159)(!0);i(152)(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})})},function(t,e,i){"use strict";i(34)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(t,e,i){var n=i(2),r=i(35),o=i(25);n(n.S,"String",{raw:function(t){for(var e=r(t.raw),i=o(e.length),n=arguments.length,a=[],s=0;i>s;)a.push(String(e[s++])),s<n&&a.push(String(arguments[s]));return a.join("")}})},function(t,e,i){var n=i(2);n(n.P,"String",{repeat:i(161)})},function(t,e,i){"use strict";i(34)("small",function(t){return function(){return t(this,"small","","")}})},function(t,e,i){"use strict";var n=i(2),r=i(25),o=i(160),a="startsWith",s=""[a];n(n.P+n.F*i(146)(a),"String",{startsWith:function(t){var e=o(this,t,a),i=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),n=String(t);return s?s.call(e,n,i):e.slice(i,i+n.length)===n}})},function(t,e,i){"use strict";i(34)("strike",function(t){return function(){return t(this,"strike","","")}})},function(t,e,i){"use strict";i(34)("sub",function(t){return function(){return t(this,"sub","","")}})},function(t,e,i){"use strict";i(34)("sup",function(t){return function(){return t(this,"sup","","")}})},function(t,e,i){"use strict";i(83)("trim",function(t){return function(){return t(this,3)}})},function(t,e,i){"use strict";var n=i(7),r=i(30),o=i(19),a=i(2),s=i(33),u=i(55).KEY,l=i(10),h=i(119),c=i(82),f=i(73),d=i(15),p=i(233),y=i(165),v=i(483),m=i(482),g=i(150),_=i(4),b=i(35),w=i(50),x=i(56),T=i(67),S=i(225),E=i(38),C=i(20),P=i(69),M=E.f,A=C.f,O=S.f,k=n.Symbol,I=n.JSON,R=I&&I.stringify,L="prototype",B=d("_hidden"),D=d("toPrimitive"),F={}.propertyIsEnumerable,j=h("symbol-registry"),N=h("symbols"),X=h("op-symbols"),U=Object[L],G="function"==typeof k,Y=n.QObject,z=!Y||!Y[L]||!Y[L].findChild,V=o&&l(function(){return 7!=T(A({},"a",{get:function(){return A(this,"a",{value:7}).a}})).a})?function(t,e,i){var n=M(U,e);n&&delete U[e],A(t,e,i),n&&t!==U&&A(U,e,n)}:A,W=function(t){var e=N[t]=T(k[L]);return e._k=t,e},H=G&&"symbol"==typeof k.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof k},q=function(t,e,i){return t===U&&q(X,e,i),_(t),e=w(e,!0),_(i),r(N,e)?(i.enumerable?(r(t,B)&&t[B][e]&&(t[B][e]=!1),i=T(i,{enumerable:x(0,!1)})):(r(t,B)||A(t,B,x(1,{})),t[B][e]=!0),V(t,e,i)):A(t,e,i)},K=function(t,e){_(t);for(var i,n=m(e=b(e)),r=0,o=n.length;o>r;)q(t,i=n[r++],e[i]);return t},Z=function(t,e){return void 0===e?T(t):K(T(t),e)},J=function(t){var e=F.call(this,t=w(t,!0));return!(this===U&&r(N,t)&&!r(X,t))&&(!(e||!r(this,t)||!r(N,t)||r(this,B)&&this[B][t])||e)},Q=function(t,e){if(t=b(t),e=w(e,!0),t!==U||!r(N,e)||r(X,e)){var i=M(t,e);return!i||!r(N,e)||r(t,B)&&t[B][e]||(i.enumerable=!0),i}},$=function(t){for(var e,i=O(b(t)),n=[],o=0;i.length>o;)r(N,e=i[o++])||e==B||e==u||n.push(e);return n},tt=function(t){for(var e,i=t===U,n=O(i?X:b(t)),o=[],a=0;n.length>a;)!r(N,e=n[a++])||i&&!r(U,e)||o.push(N[e]);return o};G||(k=function(){if(this instanceof k)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(i){this===U&&e.call(X,i),r(this,B)&&r(this[B],t)&&(this[B][t]=!1),V(this,t,x(1,i))};return o&&z&&V(U,t,{configurable:!0,set:e}),W(t)},s(k[L],"toString",function(){return this._k}),E.f=Q,C.f=q,i(68).f=S.f=$,i(93).f=J,i(118).f=tt,o&&!i(66)&&s(U,"propertyIsEnumerable",J,!0),p.f=function(t){return W(d(t))}),a(a.G+a.W+a.F*!G,{Symbol:k});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),it=0;et.length>it;)d(et[it++]);for(var et=P(d.store),it=0;et.length>it;)y(et[it++]);a(a.S+a.F*!G,"Symbol",{for:function(t){return r(j,t+="")?j[t]:j[t]=k(t)},keyFor:function(t){if(H(t))return v(j,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){z=!0},useSimple:function(){z=!1}}),a(a.S+a.F*!G,"Object",{create:Z,defineProperty:q,defineProperties:K,getOwnPropertyDescriptor:Q,getOwnPropertyNames:$,getOwnPropertySymbols:tt}),I&&a(a.S+a.F*(!G||l(function(){var t=k();return"[null]"!=R([t])||"{}"!=R({a:t})||"{}"!=R(Object(t))})),"JSON",{stringify:function(t){if(void 0!==t&&!H(t)){for(var e,i,n=[t],r=1;arguments.length>r;)n.push(arguments[r++]);return e=n[1],"function"==typeof e&&(i=e),!i&&g(e)||(e=function(t,e){if(i&&(e=i.call(this,t,e)),!H(e))return e}),n[1]=e,R.apply(I,n)}}}),k[L][D]||i(32)(k[L],D,k[L].valueOf),c(k,"Symbol"),c(Math,"Math",!0),c(n.JSON,"JSON",!0)},function(t,e,i){"use strict";var n=i(2),r=i(120),o=i(164),a=i(4),s=i(72),u=i(25),l=i(12),h=i(7).ArrayBuffer,c=i(158),f=o.ArrayBuffer,d=o.DataView,p=r.ABV&&h.isView,y=f.prototype.slice,v=r.VIEW,m="ArrayBuffer";n(n.G+n.W+n.F*(h!==f),{ArrayBuffer:f}),n(n.S+n.F*!r.CONSTR,m,{isView:function(t){return p&&p(t)||l(t)&&v in t}}),n(n.P+n.U+n.F*i(10)(function(){return!new f(2).slice(1,void 0).byteLength}),m,{slice:function(t,e){if(void 0!==y&&void 0===e)return y.call(a(this),t);for(var i=a(this).byteLength,n=s(t,i),r=s(void 0===e?i:e,i),o=new(c(this,f))(u(r-n)),l=new d(this),h=new d(o),p=0;n<r;)h.setUint8(p++,l.getUint8(n++));return o}}),i(71)(m)},function(t,e,i){var n=i(2);n(n.G+n.W+n.F*!i(120).ABV,{DataView:i(164).DataView})},function(t,e,i){i(54)("Float32",4,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(54)("Float64",8,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(54)("Int16",2,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(54)("Int32",4,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(54)("Int8",1,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(54)("Uint16",2,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(54)("Uint32",4,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(54)("Uint8",1,function(t){return function(e,i,n){return t(this,e,i,n)}})},function(t,e,i){i(54)("Uint8",1,function(t){return function(e,i,n){return t(this,e,i,n)}},!0)},function(t,e,i){"use strict";var n=i(217);i(111)("WeakSet",function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return n.def(this,t,!0)}},n,!1,!0)},function(t,e,i){"use strict";var n=i(2),r=i(110)(!0);n(n.P,"Array",{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(79)("includes")},function(t,e,i){var n=i(2),r=i(155)(),o=i(7).process,a="process"==i(43)(o);n(n.G,{asap:function(t){var e=a&&o.domain;r(e?e.bind(t):t)}})},function(t,e,i){var n=i(2),r=i(43);n(n.S,"Error",{isError:function(t){return"Error"===r(t)}})},function(t,e,i){var n=i(2);n(n.P+n.R,"Map",{toJSON:i(216)("Map")})},function(t,e,i){var n=i(2);n(n.S,"Math",{iaddh:function(t,e,i,n){var r=t>>>0,o=e>>>0,a=i>>>0;return o+(n>>>0)+((r&a|(r|a)&~(r+a>>>0))>>>31)|0}})},function(t,e,i){var n=i(2);n(n.S,"Math",{imulh:function(t,e){var i=65535,n=+t,r=+e,o=n&i,a=r&i,s=n>>16,u=r>>16,l=(s*a>>>0)+(o*a>>>16);return s*u+(l>>16)+((o*u>>>0)+(l&i)>>16)}})},function(t,e,i){var n=i(2);n(n.S,"Math",{isubh:function(t,e,i,n){var r=t>>>0,o=e>>>0,a=i>>>0;return o-(n>>>0)-((~r&a|~(r^a)&r-a>>>0)>>>31)|0}})},function(t,e,i){var n=i(2);n(n.S,"Math",{umulh:function(t,e){var i=65535,n=+t,r=+e,o=n&i,a=r&i,s=n>>>16,u=r>>>16,l=(s*a>>>0)+(o*a>>>16);return s*u+(l>>>16)+((o*u>>>0)+(l&i)>>>16)}})},function(t,e,i){"use strict";var n=i(2),r=i(27),o=i(31),a=i(20);i(19)&&n(n.P+i(117),"Object",{__defineGetter__:function(t,e){a.f(r(this),t,{get:o(e),enumerable:!0,configurable:!0})}})},function(t,e,i){"use strict";var n=i(2),r=i(27),o=i(31),a=i(20);i(19)&&n(n.P+i(117),"Object",{__defineSetter__:function(t,e){a.f(r(this),t,{set:o(e),enumerable:!0,configurable:!0})}})},function(t,e,i){var n=i(2),r=i(227)(!0);n(n.S,"Object",{entries:function(t){return r(t)}})},function(t,e,i){var n=i(2),r=i(228),o=i(35),a=i(38),s=i(143);n(n.S,"Object",{getOwnPropertyDescriptors:function(t){for(var e,i=o(t),n=a.f,u=r(i),l={},h=0;u.length>h;)s(l,e=u[h++],n(i,e));return l}})},function(t,e,i){"use strict";var n=i(2),r=i(27),o=i(50),a=i(39),s=i(38).f;i(19)&&n(n.P+i(117),"Object",{__lookupGetter__:function(t){var e,i=r(this),n=o(t,!0);do if(e=s(i,n))return e.get;while(i=a(i))}})},function(t,e,i){"use strict";var n=i(2),r=i(27),o=i(50),a=i(39),s=i(38).f;i(19)&&n(n.P+i(117),"Object",{__lookupSetter__:function(t){var e,i=r(this),n=o(t,!0);do if(e=s(i,n))return e.set;while(i=a(i))}})},function(t,e,i){var n=i(2),r=i(227)(!1);n(n.S,"Object",{values:function(t){return r(t)}})},function(t,e,i){"use strict";var n=i(2),r=i(7),o=i(51),a=i(155)(),s=i(15)("observable"),u=i(31),l=i(4),h=i(65),c=i(70),f=i(32),d=i(80),p=d.RETURN,y=function(t){return null==t?void 0:u(t)},v=function(t){var e=t._c;e&&(t._c=void 0,e())},m=function(t){return void 0===t._o},g=function(t){m(t)||(t._o=void 0,v(t))},_=function(t,e){l(t),this._c=void 0,this._o=t,t=new b(this);try{var i=e(t),n=i;null!=i&&("function"==typeof i.unsubscribe?i=function(){n.unsubscribe()}:u(i),this._c=i)}catch(e){return void t.error(e)}m(this)&&v(this)};_.prototype=c({},{unsubscribe:function(){g(this)}});var b=function(t){this._s=t};b.prototype=c({},{next:function(t){var e=this._s;if(!m(e)){var i=e._o;try{var n=y(i.next);if(n)return n.call(i,t)}catch(t){try{g(e)}finally{throw t}}}},error:function(t){var e=this._s;if(m(e))throw t;var i=e._o;e._o=void 0;try{var n=y(i.error);if(!n)throw t;t=n.call(i,t)}catch(t){try{v(e)}finally{throw t}}return v(e),t},complete:function(t){var e=this._s;if(!m(e)){var i=e._o;e._o=void 0;try{var n=y(i.complete);t=n?n.call(i,t):void 0}catch(t){try{v(e)}finally{throw t}}return v(e),t}}});var w=function(t){h(this,w,"Observable","_f")._f=u(t)};c(w.prototype,{subscribe:function(t){return new _(t,this._f)},forEach:function(t){var e=this;return new(o.Promise||r.Promise)(function(i,n){u(t);var r=e.subscribe({next:function(e){try{return t(e)}catch(t){n(t),r.unsubscribe()}},error:n,complete:i})})}}),c(w,{from:function(t){var e="function"==typeof this?this:w,i=y(l(t)[s]);if(i){var n=l(i.call(t));return n.constructor===e?n:new e(function(t){return n.subscribe(t)})}return new e(function(e){var i=!1;return a(function(){if(!i){try{if(d(t,!1,function(t){if(e.next(t),i)return p})===p)return}catch(t){if(i)throw t;return void e.error(t)}e.complete()}}),function(){i=!0}})},of:function(){for(var t=0,e=arguments.length,i=Array(e);t<e;)i[t]=arguments[t++];return new("function"==typeof this?this:w)(function(t){var e=!1;return a(function(){if(!e){for(var n=0;n<i.length;++n)if(t.next(i[n]),e)return;t.complete()}}),function(){e=!0}})}}),f(w.prototype,s,function(){return this}),n(n.G,{Observable:w}),i(71)("Observable")},function(t,e,i){var n=i(53),r=i(4),o=n.key,a=n.set;n.exp({defineMetadata:function(t,e,i,n){a(t,e,r(i),o(n))}})},function(t,e,i){var n=i(53),r=i(4),o=n.key,a=n.map,s=n.store;n.exp({deleteMetadata:function(t,e){var i=arguments.length<3?void 0:o(arguments[2]),n=a(r(e),i,!1);if(void 0===n||!n.delete(t))return!1;if(n.size)return!0;var u=s.get(e);return u.delete(i),!!u.size||s.delete(e)}})},function(t,e,i){var n=i(236),r=i(212),o=i(53),a=i(4),s=i(39),u=o.keys,l=o.key,h=function(t,e){var i=u(t,e),o=s(t);if(null===o)return i;var a=h(o,e);return a.length?i.length?r(new n(i.concat(a))):a:i};o.exp({getMetadataKeys:function(t){return h(a(t),arguments.length<2?void 0:l(arguments[1]))}})},function(t,e,i){var n=i(53),r=i(4),o=i(39),a=n.has,s=n.get,u=n.key,l=function(t,e,i){var n=a(t,e,i);if(n)return s(t,e,i);var r=o(e);return null!==r?l(t,r,i):void 0};n.exp({getMetadata:function(t,e){return l(t,r(e),arguments.length<3?void 0:u(arguments[2]))}})},function(t,e,i){var n=i(53),r=i(4),o=n.keys,a=n.key;n.exp({getOwnMetadataKeys:function(t){return o(r(t),arguments.length<2?void 0:a(arguments[1]))}})},function(t,e,i){var n=i(53),r=i(4),o=n.get,a=n.key;n.exp({getOwnMetadata:function(t,e){return o(t,r(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,i){var n=i(53),r=i(4),o=i(39),a=n.has,s=n.key,u=function(t,e,i){var n=a(t,e,i);if(n)return!0;var r=o(e);return null!==r&&u(t,r,i)};n.exp({hasMetadata:function(t,e){return u(t,r(e),arguments.length<3?void 0:s(arguments[2]))}})},function(t,e,i){var n=i(53),r=i(4),o=n.has,a=n.key;n.exp({hasOwnMetadata:function(t,e){return o(t,r(e),arguments.length<3?void 0:a(arguments[2]))}})},function(t,e,i){var n=i(53),r=i(4),o=i(31),a=n.key,s=n.set;n.exp({metadata:function(t,e){return function(i,n){s(t,e,(void 0!==n?r:o)(i),a(n))}}})},function(t,e,i){var n=i(2);n(n.P+n.R,"Set",{toJSON:i(216)("Set")})},function(t,e,i){"use strict";var n=i(2),r=i(159)(!0);n(n.P,"String",{at:function(t){return r(this,t)}})},function(t,e,i){"use strict";var n=i(2),r=i(44),o=i(25),a=i(115),s=i(113),u=RegExp.prototype,l=function(t,e){this._r=t,this._s=e};i(151)(l,"RegExp String",function(){var t=this._r.exec(this._s);return{value:t,done:null===t}}),n(n.P,"String",{matchAll:function(t){if(r(this),!a(t))throw TypeError(t+" is not a regexp!");var e=String(this),i="flags"in u?String(t.flags):s.call(t),n=new RegExp(t.source,~i.indexOf("g")?i:"g"+i);return n.lastIndex=o(t.lastIndex),new l(n,e)}})},function(t,e,i){"use strict";var n=i(2),r=i(232);n(n.P,"String",{padEnd:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!1)}})},function(t,e,i){"use strict";var n=i(2),r=i(232);n(n.P,"String",{padStart:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0,!0)}})},function(t,e,i){"use strict";i(83)("trimLeft",function(t){return function(){return t(this,1)}},"trimStart")},function(t,e,i){"use strict";i(83)("trimRight",function(t){return function(){return t(this,2)}},"trimEnd")},function(t,e,i){i(165)("asyncIterator")},function(t,e,i){i(165)("observable")},function(t,e,i){var n=i(2);n(n.S,"System",{global:i(7)})},function(t,e,i){for(var n=i(167),r=i(33),o=i(7),a=i(32),s=i(81),u=i(15),l=u("iterator"),h=u("toStringTag"),c=s.Array,f=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],d=0;d<5;d++){var p,y=f[d],v=o[y],m=v&&v.prototype;if(m){m[l]||a(m,l,c),m[h]||a(m,h,y),s[y]=c;for(p in n)m[p]||r(m,p,n[p],!0)}}},function(t,e,i){var n=i(2),r=i(163);n(n.G+n.B,{setImmediate:r.set,clearImmediate:r.clear})},function(t,e,i){var n=i(7),r=i(2),o=i(114),a=i(484),s=n.navigator,u=!!s&&/MSIE .\./.test(s.userAgent),l=function(t){return u?function(e,i){return t(o(a,[].slice.call(arguments,2),"function"==typeof e?e:Function(e)),i)}:t};r(r.G+r.B+r.F*u,{setTimeout:l(n.setTimeout),setInterval:l(n.setInterval)})},function(t,e,i){i(607),i(546),i(548),i(547),i(550),i(552),i(557),i(551),i(549),i(559),i(558),i(554),i(555),i(553),i(545),i(556),i(560),i(561),i(513),i(515),i(514),i(563),i(562),i(533),i(543),i(544),i(534),i(535),i(536),i(537),i(538),i(539),i(540),i(541),i(542),i(516),i(517),i(518),i(519),i(520),i(521),i(522),i(523),i(524),i(525),i(526),i(527),i(528),i(529),i(530),i(531),i(532),i(594),i(599),i(606),i(597),i(589),i(590),i(595),i(600),i(602),i(585),i(586),i(587),i(588),i(591),i(592),i(593),i(596),i(598),i(601),i(603),i(604),i(605),i(508),i(510),i(509),i(512),i(511),i(497),i(495),i(501),i(498),i(504),i(506),i(494),i(500),i(491),i(505),i(489),i(503),i(502),i(496),i(499),i(488),i(490),i(493),i(492),i(507),i(167),i(579),i(584),i(235),i(580),i(581),i(582),i(583),i(564),i(234),i(236),i(237),i(619),i(608),i(609),i(614),i(617),i(618),i(612),i(615),i(613),i(616),i(610),i(611),i(565),i(566),i(567),i(568),i(569),i(572),i(570),i(571),i(573),i(574),i(575),i(576),i(578),i(577),i(620),i(646),i(649),i(648),i(650),i(651),i(647),i(652),i(653),i(631),i(634),i(630),i(628),i(629),i(632),i(633),i(623),i(645),i(654),i(622),i(624),i(626),i(625),i(627),i(636),i(637),i(639),i(638),i(641),i(640),i(642),i(643),i(644),i(621),i(635),i(657),i(656),i(655),t.exports=i(51)},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var i=this[e];i[2]?t.push("@media "+i[2]+"{"+i[1]+"}"):t.push(i[1])}return t.join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var o=this[r][0];"number"==typeof o&&(n[o]=!0)}for(r=0;r<e.length;r++){var a=e[r];"number"==typeof a[0]&&n[a[0]]||(i&&!a[2]?a[2]=i:i&&(a[2]="("+a[2]+") and ("+i+")"),t.push(a))}},t}},function(t,e,i){!function(){function e(t,e){document.addEventListener?t.addEventListener("scroll",e,!1):t.attachEvent("scroll",e)}function i(t){document.body?t():document.addEventListener?document.addEventListener("DOMContentLoaded",function e(){document.removeEventListener("DOMContentLoaded",e),t()}):document.attachEvent("onreadystatechange",function e(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",e),t())})}function n(t){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(t)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function r(t,e){t.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+e+";"}function o(t){var e=t.a.offsetWidth,i=e+100;return t.f.style.width=i+"px",t.c.scrollLeft=i,t.b.scrollLeft=t.b.scrollWidth+100,
t.g!==e&&(t.g=e,!0)}function a(t,i){function n(){var t=r;o(t)&&t.a.parentNode&&i(t.g)}var r=t;e(t.b,n),e(t.c,n),o(t)}function s(t,e){var i=e||{};this.family=t,this.style=i.style||"normal",this.weight=i.weight||"normal",this.stretch=i.stretch||"normal"}function u(){if(null===d)if(l()&&/Apple/.test(window.navigator.vendor)){var t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);d=!!t&&603>parseInt(t[1],10)}else d=!1;return d}function l(){return null===y&&(y=!!document.fonts),y}function h(){if(null===p){var t=document.createElement("div");try{t.style.font="condensed 100px sans-serif"}catch(t){}p=""!==t.style.font}return p}function c(t,e){return[t.style,t.weight,h()?t.stretch:"","100px",e].join(" ")}var f=null,d=null,p=null,y=null;s.prototype.load=function(t,e){var o=this,s=t||"BESbswy",h=0,d=e||3e3,p=(new Date).getTime();return new Promise(function(t,e){if(l()&&!u()){var y=new Promise(function(t,e){function i(){(new Date).getTime()-p>=d?e():document.fonts.load(c(o,'"'+o.family+'"'),s).then(function(e){1<=e.length?t():setTimeout(i,25)},function(){e()})}i()}),v=new Promise(function(t,e){h=setTimeout(e,d)});Promise.race([v,y]).then(function(){clearTimeout(h),t(o)},function(){e(o)})}else i(function(){function i(){var e;(e=-1!=m&&-1!=g||-1!=m&&-1!=_||-1!=g&&-1!=_)&&((e=m!=g&&m!=_&&g!=_)||(null===f&&(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),f=!!e&&(536>parseInt(e[1],10)||536===parseInt(e[1],10)&&11>=parseInt(e[2],10))),e=f&&(m==b&&g==b&&_==b||m==w&&g==w&&_==w||m==x&&g==x&&_==x)),e=!e),e&&(T.parentNode&&T.parentNode.removeChild(T),clearTimeout(h),t(o))}function u(){if((new Date).getTime()-p>=d)T.parentNode&&T.parentNode.removeChild(T),e(o);else{var t=document.hidden;!0!==t&&void 0!==t||(m=l.a.offsetWidth,g=y.a.offsetWidth,_=v.a.offsetWidth,i()),h=setTimeout(u,50)}}var l=new n(s),y=new n(s),v=new n(s),m=-1,g=-1,_=-1,b=-1,w=-1,x=-1,T=document.createElement("div");T.dir="ltr",r(l,c(o,"sans-serif")),r(y,c(o,"serif")),r(v,c(o,"monospace")),T.appendChild(l.a),T.appendChild(y.a),T.appendChild(v.a),document.body.appendChild(T),b=l.a.offsetWidth,w=y.a.offsetWidth,x=v.a.offsetWidth,u(),a(l,function(t){m=t,i()}),r(l,c(o,'"'+o.family+'",sans-serif')),a(y,function(t){g=t,i()}),r(y,c(o,'"'+o.family+'",serif')),a(v,function(t){_=t,i()}),r(v,c(o,'"'+o.family+'",monospace'))})})},t.exports=s}()},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(1),l=n(u),h=function(t){function e(t,i){r(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return n.beginFill(16777215).drawRect(0,0,100,100),n.resize(t,i),n.alpha=0,n}return a(e,t),s(e,[{key:"flash",value:function(t,e){this.alpha=1,TweenLite.to(this,e||.5,{alpha:0,delay:t||0,ease:Expo.easeOut})}},{key:"resize",value:function(t){this.scale.x=t/100,this.scale.y=t/100}}]),e}(l.Graphics);e.default=h,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(1),u=r(s),l=i(240),h=n(l),c=i(239),f=n(c),d=i(18),p=n(d),y=i(11),v=n(y),m=i(663),g=n(m),_=i(664),b=n(_),w=i(665),x=n(w),T=i(3),S=n(T),E=function(){function t(e){o(this,t),e=e||t.defaultOptions,this.options=Object.assign({},t.defaultOptions,e),this.setupPixi(),p.default.instance.start(),p.default.instance.add(this.update,this),this.screenManager=new f.default(null,300,300),this.preloader=new h.default,this.loader=new h.default,this.translation=new x.default(this,e),this.onReady=new S.default,this.options.orientationMode!==t.orientationModes.BOTH&&(this.orientationManager=new b.default(this.options.orientationMode,this.options.orientationImagePath)),this.stage.addChild(this.screenManager.container)}return a(t,[{key:"setupPixi",value:function(){var t=this.options;if(t.forceCanvas||v.default.instance.android&&!v.default.instance.chrome)this.renderer=new u.CanvasRenderer(t.width,t.height),this.renderer.clearBeforeRender=!0;else{var e={resolution:1,backgroundColor:t.backgroundColor};this.renderer=u.autoDetectRenderer(t.width,t.height,e)}window.WEBGL=u.isWebGL=this.renderer instanceof u.WebGLRenderer,window.renderer=this.renderer,this.view=this.renderer.view,this.stage=new u.Container,this.view.style.position="absolute",this.view.addEventListener("mousedown",function(){window.focus()},!0),u.stage=this.stage}},{key:"update",value:function(){this.renderer.render(this.stage)}},{key:"startup",value:function(){this.options.config&&this.preloader.addJson(this.options.config,"config"),this.preloader.onComplete.addOnce(this.onPreloadComplete,this),this.preloader.load()}},{key:"onPreloadComplete",value:function(){this.loaderScreen=new this.options.loaderScreen(this),this.loaderScreen.onReady.addOnce(this.onLoaderScreenReady,this),this.loaderScreen.onComplete.addOnce(this.onLoaderScreenComplete,this),this.onPreload&&this.onPreload(),this.screenManager.addScreen(this.loaderScreen,"loader"),this.screenManager.gotoScreenByID("loader")}},{key:"onLoaderScreenReady",value:function(){this.loader.onComplete.addOnce(this.onAssetsLoaded,this),this.loader.onProgress.add(this.onProgresss,this),this.loader.load()}},{key:"onAssetsLoaded",value:function(){}},{key:"onProgresss",value:function(t){this.loaderScreen.updateProgress(t)}},{key:"onLoaderScreenComplete",value:function(){this.onReady.dispatch()}},{key:"resize",value:function(e,i){this.orientationManager&&this.orientationManager.check(e,i),this.options.resizeMode===t.resizeModes.DEFUALT?(this.renderer.resize(e,i),this.view.style.width="auto",this.view.style.height="auto"):this.this.options.resizeMode===t.resizeModes.CSS_RESIZE_PRESERVE_RATIO||this.options.resizeMode===t.resizeModes.CSS_RESIZE&&(this.view.style.width=e+"px",this.view.style.height=i+"px")}}]),t}();E.resizeModes={DEFUALT:0,CSS_RESIZE_PRESERVE_RATIO:1,CSS_RESIZE:2},E.orientationModes={LANDSCAPE:0,PORTRAIT:1,BOTH:2},E.defaultOptions={width:800,height:600,forceCanvas:!1,backgroundColor:0,resizeMode:E.resizeModes.DEFUALT,orientationMode:E.orientationModes.LANDSCAPE,loaderScreen:g.default,config:null},e.default=E,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=r(l),c=i(18),f=n(c),d=i(84),p=n(d),y=i(3),v=n(y),m=function(t){function e(t){o(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.app=t,i.easeLoad=0,i.targetLoad=0,i.onReady=new v.default,i.onComplete=new v.default,i.initLoader(),i}return s(e,t),u(e,[{key:"initLoader",value:function(){f.default.instance.add(this.update,this),this.resize(this.w,this.h),p.default.wait(this.showLoader.bind(this))}},{key:"showLoader",value:function(){this.onReady.dispatch()}},{key:"update",value:function(){this.easeLoad+=.3*(this.targetLoad-this.easeLoad),this.easeLoad>.99&&(this.easeLoad=1,f.default.instance.remove(this.update,this),this.onComplete.dispatch())}},{key:"updateProgress",value:function(t){this.targetLoad=t}},{key:"onHide",value:function(){f.default.instance.remove(this.update,this)}},{key:"resize",value:function(t,e){this.w=t,this.h=e,this.barBg}}]),e}(h.Container);e.default=m,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(18),s=n(a),u=i(11),l=n(u),h=i(3),c=n(h),f=function(){function t(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"image/high/device/rotate.jpg";if(r(this,t),this.mode=e,this.onRotationChanged=new c.default,this.rotationWarning=!0,this.orientation,this.rotateScreen=document.createElement("div"),this.rotateScreen.style.backgroundPosition="50% 50%",this.rotateScreen.style.backgroundColor="#3b3b3b",this.rotateScreen.style.backgroundRepeat="no-repeat",this.rotateScreen.style.position="absolute",this.rotateScreen.style.backgroundSize="cover",this.rotateScreen.style.top="0",this.rotateScreen.style.left="0",this.rotateScreen.style.bottom="0",this.rotateScreen.style.right="0",this.rotateScreen.style.zIndex=1e7,this.rotateScreen.style.display="none",this.rotateScreen.height="100%",this.rotateScreen.width="100%",this.changeRotationImage(window.ASSET_URL+i),l.default.instance.iPad&&this.changeRotationImage(window.ASSET_URL+i),document.body.appendChild(this.rotateScreen),l.default.instance.firefox){var n=window.matchMedia("(orientation: portrait)");n.addListener(this.checkOrientationChangesFirefox.bind(this))}window.addEventListener("resize",function(){this.resize(window.innerWidth,window.innerHeight)}.bind(this)),this.resize(window.innerWidth,window.innerHeight)}return o(t,[{key:"checkOrientationResize",value:function(){}},{key:"changeRotationImage",value:function(t){this.rotateScreen.style.backgroundImage="url("+t+")"}},{key:"checkOrientationChangesFirefox",value:function(){var t=screen.orientation||screen.mozOrientation||screen.msOrientation;"landscape-primary"===t?this.orientation=90:"landscape-secondary"===t&&(this.orientation=-90),this.onRotationChanged.dispatch(this.orientation)}},{key:"checkOrientationChanges",value:function(){this.orientation=window.orientation,this.onRotationChanged.dispatch(window.orientation),0===this.orientation||180===this.orientation?(s.default.instance.stop(),this.rotateScreen.style.display="block"):(s.default.instance.start(),this.rotateScreen.style.display="none")}},{key:"resize",value:function(t,e){if(!l.default.instance.desktop){var i=0===this.mode?t<e:t>e;i?(s.default.instance.stop(),this.rotateScreen.style.display="block"):(s.default.instance.start(),this.rotateScreen.style.display="none")}}},{key:"updateDeviceOrientation",value:function(t){this.alpha=t.alpha,this.beta=t.beta,this.gamma=t.gamma}}]),t}();e.default=f,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(23),s=n(a),u=function(){function t(e,i){r(this,t),this.debug=i.debug||!1,this.app=e,this.app.preloader.addJson(i.stringsUrl||window.ASSET_URL+"json/strings.json","strings"),this.app.preloader.onComplete.addOnce(this.onPreloaderComplete,this)}return o(t,[{key:"onPreloaderComplete",value:function(){if(window.translations=s.default.getJson("strings").strings,this.debug)for(var t in window.translations)window.translations[t]+=window.translations[t]}}]),t}();e.default=u,t.exports=e.default},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e){i(this,t),this.imgUrl=e,this.supported=!1,this.experimental=!1,this.check()}return n(t,[{key:"check",value:function(){var t=document.createElement("canvas"),e=void 0;try{e=t.getContext("webgl"),this.supported=!0,this.experimental=!1}catch(t){}try{e=t.getContext("experimental-webgl"),this.supported=!0,this.experimental=!0}catch(t){}return t=null,this.supported||this.fallback(),e}},{key:"hasWebgl",value:function(){return this.supported}},{key:"fallback",value:function(){var t=document.createElement("div");t.style.position="absolute",t.style.top=0,t.style.left=0,t.style.right=0,t.style.bottom=0,t.style.zIndex=1e3,t.style.backgroundColor="black",t.style.backgroundSize="contain",t.style.backgroundPosition="center center",t.style.backgroundRepeat="no-repeat",this.imgUrl?t.style.backgroundImage="url("+this.imgUrl+")":t.style.backgroundImage="url("+window.ASSET_URL+"image/high/preload/old_browser.jpg)",document.body.appendChild(t)}}]),t}();e.default=r,t.exports=e.default},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(1),s=n(a),u=function(){function t(){r(this,t),this.circle=(new s.Graphics).beginFill(1044480).drawCircle(0,0,100)}return o(t,[{key:"begin",value:function(t,e,i){this.screenManager=t,this.currentScreen=e,this.nextScreen=i,t.container.addChild(this.circle),t.container.mask=this.circle,this.circle.scale.set(this.targetScale),this.currentScreen?(this.currentScreen.onHide&&this.currentScreen.onHide(),TweenLite.to(this.circle.scale,1,{x:.001,y:.001,ease:Sine.easeOut,onComplete:this.onFadeout.bind(this)})):this.onFadeout()}},{key:"onFadeout",value:function(){this.currentScreen&&(this.currentScreen.onHidden&&this.currentScreen.onHidden(),this.screenManager.container.removeChild(this.currentScreen)),this.nextScreen.onShow&&this.nextScreen.onShow(),this.nextScreen.resize&&this.nextScreen.resize(this.screenManager.w,this.screenManager.h),this.screenManager.container.addChild(this.nextScreen),TweenLite.to(this.circle.scale,1.2,{delay:.2,x:this.targetScale,y:this.targetScale,ease:Cubic.easeIn,onComplete:this.onFadein.bind(this)})}},{key:"onFadein",value:function(){this.nextScreen.onShown&&this.nextScreen.onShown(),this.screenManager.container.removeChild(this.circle),this.screenManager.container.mask=null,this.screenManager.onTransitionComplete()}},{key:"onResize",value:function(t,e){this.w=t,this.h=e,this.targetScale=t/100*1.2,this.circle.x=t/2,this.circle.y=e/2}}]),t}();e.default=u,t.exports=e.default},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(1),s=n(a),u=function(){function t(){r(this,t),this.colorRect=(new s.Graphics).beginFill(0).drawRect(0,0,2e3,1e3),this.colorRect.alpha=0}return o(t,[{key:"begin",value:function(t,e,i){this.screenManager=t,this.currentScreen=e,this.nextScreen=i,this.screenManager.container.addChild(this.colorRect),this.currentScreen?(this.currentScreen.onHide&&this.currentScreen.onHide(),TweenLite.to(this.colorRect,.4,{alpha:1,onComplete:this.onFadeout.bind(this)})):this.onFadeout()}},{key:"onFadeout",value:function(){this.currentScreen&&(this.currentScreen.onHidden&&this.currentScreen.onHidden(),this.screenManager.container.removeChild(this.currentScreen),this.currentScreen.alpha=1),this.nextScreen.onShow&&this.nextScreen.onShow(),this.nextScreen.resize&&this.nextScreen.resize(this.screenManager.w,this.screenManager.h),this.screenManager.container.addChild(this.nextScreen),this.screenManager.container.addChild(this.colorRect),TweenLite.to(this.colorRect,.4,{alpha:0,onComplete:this.onFadein.bind(this)})}},{key:"onFadein",value:function(){this.screenManager.container.removeChild(this.colorRect),this.nextScreen.onShown&&this.nextScreen.onShown(),this.screenManager.onTransitionComplete()}},{key:"resize",value:function(t,e){this.w===t&&this.h===e||(this.w=t,this.h=e,this.colorRect.scale.x=t/100,this.colorRect.scale.y=e/100)}}]),t}();e.default=u,t.exports=e.default},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(){i(this,t)}return n(t,[{key:"begin",value:function(t,e,i){e&&(e.onHide&&e.onHide(),e.onHidden&&e.onHidden(),t.container.removeChild(e)),t.container.addChildAt(i,0),i.onShow&&i.onShow(),i.onShown&&i.onShown(),t.onTransitionComplete()}},{key:"resize",value:function(t,e){this.width=t,this.height=e}}]),t}();e.default=r,t.exports=e.default},function(t,e,i){var n;n=function(t,e,i){var n=function(t){this.classType=t,this.pool=[]};n.constructor=n,n.prototype.prepopulate=function(t){for(var e=0;e<t;e++)this.pool.push(new this.classType)},n.prototype.get=n.prototype.getObject=function(){var t=this.pool.pop();return t||(t=new this.classType),t},n.prototype.return=n.prototype.returnObject=function(t){this.pool.push(t)},Object.defineProperties(n.prototype,{total:{get:function(){return this.pool.length}},length:{get:function(){return this.pool.length}}}),n.pools=[],n.idGenerator=1,n.getPool=function(t){return t._CLASS_ID||(t._CLASS_ID=n.idGenerator++,n.pools[t._CLASS_ID]=new n(t)),n.pools[t._CLASS_ID]},n.get=n.getObject=function(t){t._CLASS_ID||(t._CLASS_ID=n.idGenerator++,n.pools[t._CLASS_ID]=new n(t));var e=n.pools[t._CLASS_ID].getObject();return e._CLASS_ID=t._CLASS_ID,e},n.return=n.returnObject=function(t){n.pools[t._CLASS_ID].returnObject(t)},i.exports=n}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){var n;n=function(t,e,n){var r=i(1),o=i(670),a=i(84),s=i(3),u=function t(e,i,n,o){this.UID=t._UID++,this.data=null,this.view=n||null,this.body=o||null,this.signals={},this.name="item"+this.UID,this.position=new r.Point,this.view&&(this.position=n.position),this.body&&(this.body.position=this.position),this.position.x=0|e,this.position.y=0|i,this.position.z=0,this.world=null,this.canCollide=!0,this.collideWithSelf=!0,this.type=0,this.groups=[],this._TICK=-1,this._gc=!1,this._updatableComponents=[],this._resetableComponents=[],this.registerSignal("onAddedToWorld","onRemovedFromWorld")};u.prototype.registerSignal=function(t){var e=arguments.length;if(e>1)for(var i=0;i<e;i++)this.registerSignal(arguments[i]);else this.signals[t]||(this.signals[t]=new s)},u.prototype.resetSignals=function(){for(var t in this.signals)this.signals[t].removeAll()},u.prototype.updateView=function(t){this.view=t},u.prototype.reset=function(t){this.data=t},u.prototype.destroy=function(){this.world&&(this.world.remove(this),a.waitNew(this.returnToPool,this))},u.prototype.addComponent=function(t,e){e=e||t.id||t.name.toLowerCase();var i=new t(this);this[e]=i,i.update&&this._updatableComponents.push(i)},u.prototype.updateComponents=function(){for(var t=0;t<this._updatableComponents.length;t++)this._updatableComponents[t].update()},u.prototype.returnToPool=function(){o.returnObject(this)},u.prototype.belongsToGroup=function(t){return this.groups.indexOf(t)!==-1},u._UID=0,u.mixin=function(t,e){e.call(t),Object.assign(t,e)},n.exports=u}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(){i(this,t),this.x=-50,this.vx=0,this.floor=0,this.bounce=1,this.gravity=1,this.max=30}return n(t,[{key:"update",value:function(){return this.vx+=this.gravity,this.vx<-this.max&&(this.vx=-this.max),this.vx>this.max&&(this.vx=this.max),this.x+=this.vx,this.x>this.floor&&this.vx>0&&(this.x=this.floor,this.vx*=-this.bounce,!0)}},{key:"reset",value:function(){this.x=0,this.vx=-10,this.floor=0}}]),t}();e.default=r,t.exports=e.default},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(){i(this,t),this.x=0,this.ax=0,this.dx=0,this.tx=0,this.max=160,this.damp=.8,this.springiness=.1}return n(t,[{key:"update",value:function(){this.ax=(this.tx-this.x)*this.springiness,this.dx+=this.ax,this.dx*=this.damp,this.dx<-this.max?this.dx=-this.max:this.dx>this.max&&(this.dx=this.max),this.x+=this.dx}},{key:"reset",value:function(){this.x=0,this.ax=0,this.dx=0,this.tx=0}}]),t}();e.default=r,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(3),s=n(a),u=function(){function t(){r(this,t),"undefined"!=typeof document.hidden?(this.hidden="hidden",this.visibilityChange="visibilitychange"):"undefined"!=typeof document.mozHidden?(this.hidden="mozHidden",this.visibilityChange="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(this.hidden="msHidden",this.visibilityChange="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(this.hidden="webkitHidden",this.visibilityChange="webkitvisibilitychange"),this.onHide=new s.default,this.onShow=new s.default,this.init()}return o(t,[{key:"handleVisibilityChange",value:function(){document[this.hidden]?this.onHide.dispatch():this.onShow.dispatch()}},{key:"init",value:function(){document.addEventListener(this.visibilityChange,this.handleVisibilityChange.bind(this),!1)}}]),t}();e.default=new u,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=function t(e,i,n){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,i);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,i,n)}if("value"in r)return r.value;var a=r.get;if(void 0!==a)return a.call(n)},h=i(1),c=r(h),f=i(122),d=n(f),p=function(t){function e(t,i){o(this,e);var n=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));n.itemWidth=i.itemWidth,n.offset=i.offset||0,n.padding=i.padding,n.useMask=i.useMask,n.bounds=i.bounds,n.edgePadding=30,n.hitArea=n.bounds,n.trackpad=new d.default({target:n}),n.trackpad.snapTo=!0,n.trackpad.size=n.itemWidth+n.padding,n.trackpad.maxSlots=t.length-1,n.trackpad.spring.damp=.6,n.trackpad.capMovement=!0,i.fitBounds?(n.trackpad.scrollMin=-t.length*n.trackpad.size+n.bounds.width/2+n.itemWidth/2-n.edgePadding,n.trackpad.scrollMax=-n.bounds.width/2+n.itemWidth/2+n.edgePadding):(n.trackpad.scrollMin=-t.length*n.trackpad.size,n.trackpad.scrollMax=0),n.trackpad.cap(),n.lastIndex=0,n.items=t,n.itemContainer=new c.Container,n.addChild(n.itemContainer);for(var r=0;r<t.length;r++){var s=t[r];n.itemContainer.addChild(s)}if(n.useMask){var u=(new c.Graphics).beginFill(16711680).drawRect(n.bounds.x,n.bounds.y,n.bounds.width,n.bounds.height);n.addChildAt(u,0),n.itemContainer.mask=u}return n}return s(e,t),u(e,[{key:"updateTransform",value:function(){if(this.visible){this.trackpad.update(),this.scrollPosition=-this.trackpad.value;var t=0|-(this.trackpad.spring.tx/this.trackpad.size);this.dots&&this.lastIndex!=t&&(this.dots.select(t),this.lastIndex=t),this.trackpad.didMove&&(this.userActive=!0),l(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"updateTransform",this).call(this)}}},{key:"setDots",value:function(t){this.dots=t,this.dots.onSelect.add(this.onDotSelected,this)}},{key:"setButtons",value:function(t,e){this.leftButton=t,this.rightButton=e,this.leftButton.onPress.add(this.onButtonPressed,this),this.rightButton.onPress.add(this.onButtonPressed,this)}},{key:"onButtonPressed",value:function(t){t===this.leftButton?this.trackpad.previousSlot():t===this.rightButton&&this.trackpad.nextSlot()}},{key:"onDotSelected",value:function(t){this.userActive=!0,this.trackpad.setSlot(t)}},{key:"scrollPosition",get:function(){return this._scrollPosition},set:function(t){this._scrollPosition=t;for(var e=this.itemWidth+this.padding,i=0;i<this.items.length;i++){var n=this.items[i];n.x=e*i-this._scrollPosition,n.x+=this.bounds.width/2-this.itemWidth/2+this.bounds.x,n.x+=this.offset}}}]),e}(c.Container);e.default=p,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(1),h=r(l),c=i(3),f=n(c),d=function(t){function e(t){o(this,e);var i=a(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return i.deselectedAlpha=.5,i.dots=[],i.currentDot=null,i.build(t),i.onSelect=new f.default,i}return s(e,t),u(e,[{key:"build",value:function(t){this.deselectedAlpha=t.alpha||.5;for(var e=0;e<this.dots.length;e++)this.removeChild(this.dots[e]);this.dots=[];var i=(t.size-1)*t.padding;for(e=0;e<t.size;e++){var n=new h.Sprite(t.texture);n.id=e,n.alpha=this.deselectedAlpha,n.anchor.set(.5),this.addChild(n),n.x=e*t.padding-i/2,t.interactive&&(n.interactive=!0,n.buttonMode=!0,n.click=this.onDotSelected.bind(this)),this.dots.push(n)}this.select(0)}},{key:"onDotSelected",value:function(t){this.onSelect.dispatch(t.target.id)}},{key:"select",value:function(t){if(this.currentDot){if(this.currentDot.id===t)return;TweenLite.to(this.currentDot,.3,{alpha:this.deselectedAlpha,ease:Sine.easeOut})}this.currentDot=this.dots[t],TweenLite.to(this.currentDot,.3,{alpha:1,ease:Sine.easeOut})}}]),e}(h.Container);e.default=d,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(59),s=n(a),u=i(11),l=n(u),h=function(){function t(e){r(this,t),this.min=e.min||0,this.max=e.max||500,this.trackpad=e.trackpad,this.trackpad.scrollMinY=-this.max,this.trackpad.scrollMaxY=this.min,this.trackpad.capMovement=!0,this.trackpad.easeToPosition(0,this.min),this.scrollbar=e.scrollbar,l.default.instance.desktop||(this.scrollbar.visible=!1),this.scrollbar.onUpdate=this.onScrollUpdate.bind(this),this.value=0}return o(t,[{key:"update",value:function(){this.trackpad.update(),
this._value=this.trackpad.valueY,this.scrollbar.ratio=s.default.map(-this.trackpad.valueY,this.min,this.max,0,1)}},{key:"onScrollUpdate",value:function(){var t=s.default.map(this.scrollbar.ratio,1,0,-this.max,this.min);this.trackpad.easeToPosition(0,t)}},{key:"value",get:function(){return this._value},set:function(t){this._value=t,this.trackpad.easeToPosition(0,t)}}]),t}();e.default=h,t.exports=e.default},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var a=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),s=i(1),u=r(s),l=i(18),h=n(l),c=function(){function t(e){o(this,t),this.topMargin=15,this.bottomMargin=15,this.yTouchOffset=0,this.dragging=!1,this.trackpad=e.trackpad,this.targetPosition={x:0,y:0},this.container=e.target,this.guideLine=new u.Sprite,this.guideLine.anchor.set(1,0),this.guideLine.position.x=630,this.guideLine.position.y=1,this.guideLine.height=229,this.guideLine.hitArea=new u.Rectangle(-10,0,40,300),this.guideLine.interactive=!1,this.guideLine.buttonMode=!1,this.guideButton=new u.Sprite,this.guideButton.anchor.set(1,.5),this.guideButton.position.x=642,this.guideButton.hitArea=new u.Rectangle(-100,-100,400,300),this.guideButton.position.y=this.topMargin+.5*this.guideButton.height,this.guideButton.interactive=!0,this.guideButton.buttonMode=!0,this.container.addChild(this.guideLine),this.container.addChild(this.guideButton),this.guideButton.touchstart=this.guideButton.mousedown=this.onDown.bind(this),this.guideButton.touchend=this.guideButton.touchendoutside=this.guideButton.mouseup=this.guideButton.mouseupoutside=this.onUp.bind(this),this.guideButton.mousemove=this.guideButton.touchmove=this.onMove.bind(this),this.panelHeight=this.container.viewHeight,this.scrollHeight=this.container.scrollHeight-this.panelHeight,this.scrollableDistance=this.panelHeight-this.topMargin-this.bottomMargin-this.guideButton.height,this.scrollBarRatio=this.scrollHeight/this.scrollableDistance,h.default.instance.add(this.update,this)}return a(t,[{key:"onDown",value:function(t){alert(2),this.dragging=!0,this.yTouchOffset=t.data.getLocalPosition(this.guideButton).y,this.onMove(t)}},{key:"onUp",value:function(){alert(2434),this.dragging=!1,this.yTouchOffset=0}},{key:"onMove",value:function(t){this.dragging===!0&&(this.targetPosition=t.data.getLocalPosition(this.container),this.targetPosition.y<this.topMargin+.5*this.guideButton.height&&(this.targetPosition.y=this.topMargin+.5*this.guideButton.height),this.targetPosition.y>this.scrollableDistance+this.topMargin+.5*this.guideButton.height&&(this.targetPosition.y=this.scrollableDistance+this.topMargin+.5*this.guideButton.height))}},{key:"update",value:function(){if(this.dragging){var t=-((this.guideButton.position.y-this.topMargin-.5*this.guideButton.height)*this.scrollBarRatio);this.trackpad.easeToPosition(0,t),this.guideButton.position.y=this.targetPosition.y}else this.guideButton.position.y=this.trackpad.valueY*-1/this.scrollBarRatio+this.topMargin+.5*this.guideButton.height}}]),t}();e.default=c,t.exports=e.default},function(t,e,i){var n;n=function(t,e,n){var r=i(59),o=i(1),a=new o.Point,s=function(t){t=t||{},this.value=0,this._ratio=0,this.dragOffset=0,this.dragPosition=0,this.draggerHeight=t.draggerHeight||30,this.dragLength=t.dragLength||300,o.Container.call(this),this.bar=t.bar||(new o.Graphics).beginFill(16711680).drawRect(0,0,20,this.dragLength),this.dragger=t.dragger||(new o.Graphics).beginFill(16776960).drawRect(0,-this.draggerHeight/2,20,this.draggerHeight),this.addChild(this.bar),this.addChild(this.dragger),this.dragger.position.y=this.draggerHeight/2,this.interactive=!0,this.buttonMode=!0,this.mousedown=this.onDown.bind(this),this.onUp=this.onUp.bind(this),this.onMove=this.onMove.bind(this),this.onUpdate=null};s.prototype=Object.create(o.Container.prototype),s.prototype.updateTransform=function(){var t=this.draggerHeight/2+this.ratio*(this.dragLength-this.draggerHeight);this.dragger.position.y+=.5*(t-this.dragger.position.y),this.containerUpdateTransform()},Object.defineProperties(s.prototype,{ratio:{get:function(){return this._ratio},set:function(t){this._ratio=r.cap(t,0,1)}}}),s.prototype.updateRatio=function(t){this._ratio=r.map(t,this.draggerHeight/2,this.dragLength-this.draggerHeight/2,0,1),this._ratio=r.cap(this.ratio,0,1),this.onUpdate()},s.prototype.onDown=function(t){var e=t.data.getLocalPosition(this,a).y;this.updateRatio(e),this.isDragging=!0,this.mousemove=this.onMove,this.mouseup=this.mouseupoutside=this.onUp},s.prototype.onUp=function(){this.isDragging=!1,this.mousemove=null,this.mouseup=this.mouseupoutside=null},s.prototype.onMove=function(t){var e=t.data.getLocalPosition(this,a).y;this.updateRatio(e)},n.exports=s}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(18),s=n(a),u=i(3),l=n(u),h=function(){function t(e,i){r(this,t),this.isOn=!1,this.count=0,this.ticker=i||s.default.instance,this.duration=60*e,this.onComplete=new l.default}return o(t,[{key:"setDuration",value:function(t){this.duration=60*t}},{key:"getDuration",value:function(){return this.duration/60}},{key:"start",value:function(t){this.isOn||(this.ticker.add(this.update,this),this.isOn=!0,this.isPaused=!1),t||(this.count=0)}},{key:"pause",value:function(){this.isOn&&(this.isPaused=!0,this.stop())}},{key:"resume",value:function(){this.isPaused&&(this.isPaused=!1,this.start(!0))}},{key:"stop",value:function(){this.isOn=!1,this.ticker.remove(this.update,this)}},{key:"reset",value:function(){this.stop(),this.count=0}},{key:"getRatio",value:function(){return this.count/this.duration}},{key:"getSeconds",value:function(){return this.count/60}},{key:"getSecondsLeft",value:function(){return(this.duration-this.count)/60}},{key:"update",value:function(){this.count+=this.ticker.deltaTime,this.count>this.duration&&(this.stop(),this.onComplete.dispatch())}}]),t}();e.default=h,t.exports=e.default},function(t,e,i){var n,r;!function(i,o,a,s){var u,l,h,c,f,d,p,y,v,m,g,_,b,w,x,T,S,E,C,P,M,A;u=function(){var t={URL:i.URL||i.webkitURL||i.mozURL||i.msURL,getUserMedia:function(){var t=a.getUserMedia||a.webkitGetUserMedia||a.mozGetUserMedia||a.msGetUserMedia;return t?t.bind(a):t}(),requestAnimFrame:i.requestAnimationFrame||i.webkitRequestAnimationFrame||i.mozRequestAnimationFrame||i.oRequestAnimationFrame||i.msRequestAnimationFrame,requestTimeout:function(e,i){function n(){var t=(new Date).getTime(),s=t-r;s>=i?e.call():o.value=a(n)}if(e=e||t.noop,i=i||0,!t.requestAnimFrame)return setTimeout(e,i);var r=(new Date).getTime(),o=new Object,a=t.requestAnimFrame;return o.value=a(n),o},Blob:i.Blob||i.BlobBuilder||i.WebKitBlobBuilder||i.MozBlobBuilder||i.MSBlobBuilder,btoa:function(){var t=i.btoa||function(t){for(var e,i,n,r,o,a,s,u="",l=0,h=t.length,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";l<h;)e=t.charCodeAt(l++),i=t.charCodeAt(l++),n=t.charCodeAt(l++),r=e>>2,o=(3&e)<<4|i>>4,a=(15&i)<<2|n>>6,s=63&n,isNaN(i)?a=s=64:isNaN(n)&&(s=64),u=u+c.charAt(r)+c.charAt(o)+c.charAt(a)+c.charAt(s);return u};return t?t.bind(i):function(){}}(),isObject:function(t){return t&&"[object Object]"===Object.prototype.toString.call(t)},isEmptyObject:function(e){return t.isObject(e)&&!Object.keys(e).length},isArray:function(t){return t&&Array.isArray(t)},isFunction:function(t){return t&&"function"==typeof t},isElement:function(t){return t&&1===t.nodeType},isString:function(t){return"string"==typeof t||"[object String]"===Object.prototype.toString.call(t)},isSupported:{canvas:function(){var t=o.createElement("canvas");return t&&t.getContext&&t.getContext("2d")},webworkers:function(){return i.Worker},blob:function(){return t.Blob},Uint8Array:function(){return i.Uint8Array},Uint32Array:function(){return i.Uint32Array},videoCodecs:function(){var t=o.createElement("video"),e={mp4:!1,h264:!1,ogv:!1,ogg:!1,webm:!1};try{t&&t.canPlayType&&(e.mp4=""!==t.canPlayType('video/mp4; codecs="mp4v.20.8"'),e.h264=""!==(t.canPlayType('video/mp4; codecs="avc1.42E01E"')||t.canPlayType('video/mp4; codecs="avc1.42E01E, mp4a.40.2"')),e.ogv=""!==t.canPlayType('video/ogg; codecs="theora"'),e.ogg=""!==t.canPlayType('video/ogg; codecs="theora"'),e.webm=t.canPlayType('video/webm; codecs="vp8, vorbis"')!==-1)}catch(t){}return e}()},noop:function(){},each:function(e,i){var n,r;if(t.isArray(e))for(n=-1,r=e.length;++n<r&&i(n,e[n])!==!1;);else if(t.isObject(e))for(n in e)if(e.hasOwnProperty(n)&&i(n,e[n])===!1)break},mergeOptions:function e(i,n){if(t.isObject(i)&&t.isObject(n)&&Object.keys){var r={};return t.each(i,function(t,e){r[t]=i[t]}),t.each(n,function(o,a){var s=n[o];t.isObject(s)&&i[o]?r[o]=e(i[o],s):r[o]=s}),r}},setCSSAttr:function(e,i,n){t.isElement(e)&&(t.isString(i)&&t.isString(n)?e.style[i]=n:t.isObject(i)&&t.each(i,function(t,i){e.style[t]=i}))},removeElement:function(e){t.isElement(e)&&e.parentNode&&e.parentNode.removeChild(e)},createWebWorker:function(e){if(!t.isString(e))return{};try{var i=new t.Blob([e],{type:"text/javascript"}),n=t.URL.createObjectURL(i),r=new Worker(n);return{objectUrl:n,worker:r}}catch(t){return""+t}},getExtension:function(t){return t.substr(t.lastIndexOf(".")+1,t.length)},getFontSize:function(t){if(t=t||{},!o.body||t.resizeFont===!1)return t.fontSize;var e=t.text,i=t.gifWidth,n=parseInt(t.fontSize,10),r=parseInt(t.minFontSize,10),a=o.createElement("div"),s=o.createElement("span");for(a.setAttribute("width",i),a.appendChild(s),s.innerHTML=e,s.style.fontSize=n+"px",s.style.textIndent="-9999px",s.style.visibility="hidden",o.body.appendChild(s);s.offsetWidth>i&&n>=r;)s.style.fontSize=--n+"px";return o.body.removeChild(s),n+"px"},webWorkerError:!1};return t}(),l=function(t){var e={validate:function(i){i=t.isObject(i)?i:{};var n={};return t.each(e.validators,function(t,e){var r=e.errorCode;if(!i[r]&&!e.condition)return n=e,n.error=!0,!1}),delete n.condition,n},isValid:function(t){var i=e.validate(t),n=i.error!==!0;return n},validators:[{condition:t.isFunction(t.getUserMedia),errorCode:"getUserMedia",errorMsg:"The getUserMedia API is not supported in your browser"},{condition:t.isSupported.canvas(),errorCode:"canvas",errorMsg:"Canvas elements are not supported in your browser"},{condition:t.isSupported.webworkers(),errorCode:"webworkers",errorMsg:"The Web Workers API is not supported in your browser"},{condition:t.isFunction(t.URL),errorCode:"window.URL",errorMsg:"The window.URL API is not supported in your browser"},{condition:t.isSupported.blob(),errorCode:"window.Blob",errorMsg:"The window.Blob File API is not supported in your browser"},{condition:t.isSupported.Uint8Array(),errorCode:"window.Uint8Array",errorMsg:"The window.Uint8Array function constructor is not supported in your browser"},{condition:t.isSupported.Uint32Array(),errorCode:"window.Uint32Array",errorMsg:"The window.Uint32Array function constructor is not supported in your browser"}],messages:{videoCodecs:{errorCode:"videocodec",errorMsg:"The video codec you are trying to use is not supported in your browser"}}};return e}(u),h={sampleInterval:10,numWorkers:2,gifWidth:200,gifHeight:200,interval:.1,numFrames:10,keepCameraOn:!1,images:[],video:null,webcamVideoElement:null,cameraStream:null,text:"",fontWeight:"normal",fontSize:"16px",minFontSize:"10px",resizeFont:!1,fontFamily:"sans-serif",fontColor:"#ffffff",textAlign:"center",textBaseline:"bottom",textXCoordinate:null,textYCoordinate:null,progressCallback:function(t){},completeCallback:function(){},saveRenderingContexts:!1,savedRenderingContexts:[],crossOrigin:"Anonymous"},c=function(){return l.isValid()},f=function(){return l.isValid()},d=function(){var t={getUserMedia:!0};return l.isValid(t)},p=function(t){var e=!1;if(u.isArray(t)&&t.length){if(u.each(t,function(t,i){u.isSupported.videoCodecs[i]&&(e=!0)}),!e)return!1}else if(u.isString(t)&&t.length&&!u.isSupported.videoCodecs[t])return!1;return l.isValid({getUserMedia:!0})},y=function(){function t(){function t(t,e,i){var n,r;for(c=t,f=e,d=i,p=new Array(y),n=0;n<y;n++)p[n]=new Array(4),r=p[n],r[0]=r[1]=r[2]=(n<<x+8)/y|0,Y[n]=E/y|0,G[n]=0}function e(){for(var t=[],e=new Array(y),i=0;i<y;i++)e[p[i][3]]=i;for(var n=0,r=0;r<y;r++){var o=e[r];t[n++]=p[o][0],t[n++]=p[o][1],t[n++]=p[o][2]}return t}function i(){var t,e,i,n,r,o,a,s;for(a=0,s=0,t=0;t<y;t++){for(r=p[t],i=t,n=r[1],e=t+1;e<y;e++)o=p[e],o[1]<n&&(i=e,n=o[1]);if(o=p[i],t!=i&&(e=o[0],o[0]=r[0],r[0]=e,e=o[1],o[1]=r[1],r[1]=e,e=o[2],o[2]=r[2],r[2]=e,e=o[3],o[3]=r[3],r[3]=e),n!=a){for(U[a]=s+t>>1,e=a+1;e<n;e++)U[e]=t;a=n,s=t}}for(U[a]=s+w>>1,e=a+1;e<256;e++)U[e]=w}function n(){var t,e,i,n,r,o,a,p,y,w,S,E,C,P;for(f<b&&(d=1),h=30+(d-1)/3,E=c,C=0,P=f,S=f/(3*d),w=S/T|0,p=D,o=R,a=o>>k,a<=1&&(a=0),t=0;t<a;t++)z[t]=p*((a*a-t*t)*j/(a*a));for(y=f<b?3:f%v!==0?3*v:f%m!==0?3*m:f%g!==0?3*g:3*_,t=0;t<S;)if(i=(255&E[C+0])<<x,n=(255&E[C+1])<<x,r=(255&E[C+2])<<x,e=l(i,n,r),u(p,e,i,n,r),0!==a&&s(a,e,i,n,r),C+=y,C>=P&&(C-=f),t++,0===w&&(w=1),t%w===0)for(p-=p/h,o-=o/L,a=o>>k,a<=1&&(a=0),e=0;e<a;e++)z[e]=p*((a*a-e*e)*j/(a*a))}function r(t,e,i){var n,r,o,a,s,u,l;for(s=1e3,l=-1,n=U[e],r=n-1;n<y||r>=0;)n<y&&(u=p[n],o=u[1]-e,o>=s?n=y:(n++,o<0&&(o=-o),a=u[0]-t,a<0&&(a=-a),o+=a,o<s&&(a=u[2]-i,a<0&&(a=-a),o+=a,o<s&&(s=o,l=u[3])))),r>=0&&(u=p[r],o=e-u[1],o>=s?r=-1:(r--,o<0&&(o=-o),a=u[0]-t,a<0&&(a=-a),o+=a,o<s&&(a=u[2]-i,a<0&&(a=-a),o+=a,o<s&&(s=o,l=u[3]))));return l}function o(){return n(),a(),i(),e()}function a(){var t;for(t=0;t<y;t++)p[t][0]>>=x,p[t][1]>>=x,p[t][2]>>=x,p[t][3]=t}function s(t,e,i,n,r){var o,a,s,u,l,h,c;for(s=e-t,s<-1&&(s=-1),u=e+t,u>y&&(u=y),o=e+1,a=e-1,h=1;o<u||a>s;){if(l=z[h++],o<u){c=p[o++];try{c[0]-=l*(c[0]-i)/X|0,c[1]-=l*(c[1]-n)/X|0,c[2]-=l*(c[2]-r)/X|0}catch(t){}}if(a>s){c=p[a--];try{c[0]-=l*(c[0]-i)/X|0,c[1]-=l*(c[1]-n)/X|0,c[2]-=l*(c[2]-r)/X|0}catch(t){}}}}function u(t,e,i,n,r){var o=p[e],a=t/D;o[0]-=a*(o[0]-i)|0,o[1]-=a*(o[1]-n)|0,o[2]-=a*(o[2]-r)|0}function l(t,e,i){var n,r,o,a,s,u,l,h,c,f;for(h=~(1<<31),c=h,u=-1,l=u,n=0;n<y;n++)f=p[n],r=f[0]-t,r<0&&(r=-r),o=f[1]-e,o<0&&(o=-o),r+=o,o=f[2]-i,o<0&&(o=-o),r+=o,r<h&&(h=r,u=n),a=r-(G[n]>>S-x),a<c&&(c=a,l=n),s=Y[n]>>P,Y[n]-=s,G[n]+=s<<C;return Y[u]+=M,G[u]-=A,l}var h,c,f,d,p,y=256,v=499,m=491,g=487,_=503,b=3*_,w=y-1,x=4,T=100,S=16,E=1<<S,C=10,P=10,M=E>>P,A=E<<C-P,O=y>>3,k=6,I=1<<k,R=O*I,L=30,B=10,D=1<<B,F=8,j=1<<F,N=B+F,X=1<<N,U=[],G=[],Y=[],z=[];t.apply(this,arguments);var V={};return V.map=r,V.process=o,V}return t}(),v=function(t){var e=function(){try{self.onmessage=function(t){var i,n=t.data||{};n.gifshot&&(i=e.run(n),postMessage(i))}}catch(t){}var e={dataToRGB:function(t,e,i){for(var n=0,r=e*i*4,o=[];n<r;)o.push(t[n++]),o.push(t[n++]),o.push(t[n++]),n++;return o},componentizedPaletteToArray:function(t){var e,i,n,r,o=[];for(e=0;e<t.length;e+=3)i=t[e],n=t[e+1],r=t[e+2],o.push(i<<16|n<<8|r);return o},processFrameWithQuantizer:function(e,i,n,r){var o,a,s,u,l=this.dataToRGB(e,i,n),h=new t(l,l.length,r),c=h.process(),f=new Uint32Array(this.componentizedPaletteToArray(c)),d=i*n,p=new Uint8Array(d),y=0;for(o=0;o<d;o++)a=l[y++],s=l[y++],u=l[y++],p[o]=h.map(a,s,u);return{pixels:p,palette:f}},run:function(t){var e=t.width,i=t.height,n=t.data,r=(t.palette,t.sampleInterval);return this.processFrameWithQuantizer(n,e,i,r)}};return e};return e}(y),m=function(t,e,i,n){function r(t){var e=t.length;if(e<2||e>256||e&e-1)throw"Invalid code/color length, must be power of 2 and 2 .. 256.";return e}function o(t,e,i,n){function r(i){for(;d>=i;)t[e++]=255&p,p>>=8,d-=8,e===a+256&&(t[a]=255,a=e++)}function o(t){p|=t<<d,d+=f,r(8)}t[e++]=i;var a=e++,u=1<<i,l=u-1,h=u+1,c=h+1,f=i+1,d=0,p=0,y=n[0]&l,v={};o(u);for(var m=1,g=n.length;m<g;++m){var _=n[m]&l,b=y<<8|_,w=v[b];if(w===s){for(p|=y<<d,d+=f;d>=8;)t[e++]=255&p,p>>=8,d-=8,e===a+256&&(t[a]=255,a=e++);4096===c?(o(u),c=h+1,f=i+1,v={}):(c>=1<<f&&++f,v[b]=c++),y=_}else y=w}return o(y),o(h),r(1),a+1===e?t[a]=0:(t[a]=e-a-1,t[e++]=0),e}var a=0;n=n===s?{}:n;var u=n.loop===s?null:n.loop,l=n.palette===s?null:n.palette;if(e<=0||i<=0||e>65535||i>65535)throw"Width/Height invalid.";t[a++]=71,t[a++]=73,t[a++]=70,t[a++]=56,t[a++]=57,t[a++]=97;var h=0,c=0;if(t[a++]=255&e,t[a++]=e>>8&255,t[a++]=255&i,t[a++]=i>>8&255,t[a++]=(null!==l?128:0)|h,t[a++]=c,t[a++]=0,null!==u){if(u<0||u>65535)throw"Loop count invalid.";t[a++]=33,t[a++]=255,t[a++]=11,t[a++]=78,t[a++]=69,t[a++]=84,t[a++]=83,t[a++]=67,t[a++]=65,t[a++]=80,t[a++]=69,t[a++]=50,t[a++]=46,t[a++]=48,t[a++]=3,t[a++]=1,t[a++]=255&u,t[a++]=u>>8&255,t[a++]=0}var f=!1;this.addFrame=function(e,i,n,u,h,c){if(f===!0&&(--a,f=!1),c=c===s?{}:c,e<0||i<0||e>65535||i>65535)throw"x/y invalid.";if(n<=0||u<=0||n>65535||u>65535)throw"Width/Height invalid.";if(h.length<n*u)throw"Not enough pixels for the frame size.";var d=!0,p=c.palette;if(p!==s&&null!==p||(d=!1,p=l),p===s||null===p)throw"Must supply either a local or global palette.";for(var y=r(p),v=0;y>>=1;)++v;y=1<<v;var m=c.delay===s?0:c.delay,g=c.disposal===s?0:c.disposal;if(g<0||g>3)throw"Disposal out of range.";var _=!1,b=0;if(c.transparent!==s&&null!==c.transparent&&(_=!0,b=c.transparent,b<0||b>=y))throw"Transparent color index.";if((0!==g||_||0!==m)&&(t[a++]=33,t[a++]=249,t[a++]=4,t[a++]=g<<2|(_===!0?1:0),t[a++]=255&m,t[a++]=m>>8&255,t[a++]=b,t[a++]=0),t[a++]=44,t[a++]=255&e,t[a++]=e>>8&255,t[a++]=255&i,t[a++]=i>>8&255,t[a++]=255&n,t[a++]=n>>8&255,t[a++]=255&u,t[a++]=u>>8&255,t[a++]=d===!0?128|v-1:0,d===!0)for(var w=0,x=p.length;w<x;++w){var T=p[w];t[a++]=T>>16&255,t[a++]=T>>8&255,t[a++]=255&T}a=o(t,a,v<2?2:v,h)},this.end=function(){return f===!1&&(t[a++]=59,f=!0),a}},g=function(t,e,i,n){var r=function(e){this.canvas=null,this.ctx=null,this.repeat=0,this.frames=[],this.numRenderedFrames=0,this.onRenderCompleteCallback=t.noop,this.onRenderProgressCallback=t.noop,this.workers=[],this.availableWorkers=[],this.generatingGIF=!1,this.options=e,this.initializeWebWorkers(e)};return r.prototype={workerMethods:e(),initializeWebWorkers:function(n){var r,a,s,u,l=i.toString()+"("+e.toString()+"());",h=-1,c="";for(u=n.numWorkers;++h<u;)r=t.createWebWorker(l),t.isObject(r)?(a=r.objectUrl,s=r.worker,this.workers.push({worker:s,objectUrl:a}),this.availableWorkers.push(s)):(c=r,t.webWorkerError=!!r);this.workerError=c,this.canvas=o.createElement("canvas"),this.canvas.width=n.gifWidth,this.canvas.height=n.gifHeight,this.ctx=this.canvas.getContext("2d"),this.frames=[]},getWorker:function(){return this.availableWorkers.pop()},freeWorker:function(t){this.availableWorkers.push(t)},byteMap:function(){for(var t=[],e=0;e<256;e++)t[e]=String.fromCharCode(e);return t}(),bufferToString:function(t){for(var e=t.length,i="",n=-1;++n<e;)i+=this.byteMap[t[n]];return i},onFrameFinished:function(e){var i=this,n=i.frames,r=i.options;hasExistingImages=!!(r.images||[]).length,allDone=n.every(function(t){return!t.beingProcessed&&t.done}),i.numRenderedFrames++,hasExistingImages&&e(i.numRenderedFrames/n.length),i.onRenderProgressCallback(.75*i.numRenderedFrames/n.length),allDone?i.generatingGIF||i.generateGIF(n,i.onRenderCompleteCallback):t.requestTimeout(function(){i.processNextFrame()},1)},processFrame:function(t){var e,i,n=this,r=this.options,o=r.progressCallback,a=r.sampleInterval,s=this.frames,u=function(t){var r=t.data;delete e.data,e.pixels=Array.prototype.slice.call(r.pixels),e.palette=Array.prototype.slice.call(r.palette),e.done=!0,e.beingProcessed=!1,n.freeWorker(i),n.onFrameFinished(o)};return e=s[t],e.beingProcessed||e.done?void this.onFrameFinished():(e.sampleInterval=a,e.beingProcessed=!0,e.gifshot=!0,i=this.getWorker(),void(i?(i.onmessage=u,i.postMessage(e)):u({data:n.workerMethods.run(e)})))},startRendering:function(t){this.onRenderCompleteCallback=t;for(var e=0;e<this.options.numWorkers&&e<this.frames.length;e++)this.processFrame(e)},processNextFrame:function(){for(var t=-1,e=0;e<this.frames.length;e++){var i=this.frames[e];if(!i.done&&!i.beingProcessed){t=e;break}}t>=0&&this.processFrame(t)},generateGIF:function(e,i){var r,o,a=[],s={loop:this.repeat},u=this.options,l=u.interval,h=u.images,c=!!h.length,f=u.gifHeight,d=u.gifWidth,p=new n(a,d,f,s),y=this.onRenderProgressCallback,v=c?100*l:0;this.generatingGIF=!0,t.each(e,function(t,i){var n=i.palette;y(.75+.25*i.position*1/e.length),p.addFrame(0,0,d,f,i.pixels,{palette:n,delay:v})}),p.end(),y(1),this.frames=[],this.generatingGIF=!1,t.isFunction(i)&&(r=this.bufferToString(a),o="data:image/gif;base64,"+t.btoa(r),i(o))},setRepeat:function(t){this.repeat=t},addFrame:function(e,i){i=t.isObject(i)?i:{};var n,r=this,o=r.ctx,a=r.options,s=a.gifWidth,u=a.gifHeight,l=(i.gifHeight,i.gifWidth,i.text),h=i.fontWeight,c=t.getFontSize(i),f=i.fontFamily,d=i.fontColor,p=i.textAlign,y=i.textBaseline,v=i.textXCoordinate?i.textXCoordinate:"left"===p?1:"right"===p?s:s/2,m=i.textYCoordinate?i.textYCoordinate:"top"===y?1:"center"===y?u/2:u,g=h+" "+c+" "+f;try{o.drawImage(e,0,0,s,u),l&&(o.font=g,o.fillStyle=d,o.textAlign=p,o.textBaseline=y,o.fillText(l,v,m)),n=o.getImageData(0,0,s,u),r.addFrameImageData(n)}catch(t){return""+t}},addFrameImageData:function(t){var e=this.frames,i=t.data;this.frames.push({data:i,width:t.width,height:t.height,palette:null,dithering:null,done:!1,beingProcessed:!1,position:e.length})},onRenderProgress:function(t){this.onRenderProgressCallback=t},isRendering:function(){return this.generatingGIF},getBase64GIF:function(e){var i=this,n=function(n){i.destroyWorkers(),t.requestTimeout(function(){e(n)},0)};i.startRendering(n)},destroyWorkers:function(){if(!this.workerError){var e=this.workers;t.each(e,function(e,i){var n=i.worker,r=i.objectUrl;n.terminate(),t.URL.revokeObjectURL(r)})}}},r}(u,v,y,m),_=function(t,e){t.getBase64GIF(function(t){e({error:!1,errorCode:"",errorMsg:"",image:t})})},b=function(t){function e(){u.each(p,function(t,e){e&&n.addFrame(e,c)}),_(n,h)}var i,n,r=t.images,a=t.imagesLength,h=t.callback,c=t.options,f={getUserMedia:!0,"window.URL":!0},d=l.validate(f),p=[],y=0;return d.error?h(d):(n=new g(c),void u.each(r,function(t,n){u.isElement(n)?(c.crossOrigin&&(n.crossOrigin=c.crossOrigin),p[t]=n,y+=1,y===a&&e()):u.isString(n)&&(i=o.createElement("img"),c.crossOrigin&&(i.crossOrigin=c.crossOrigin),i.onerror=function(e){p.length>t&&(p[t]=s)}(function(i){i.onload=function(){p[t]=i,y+=1,y===a&&e(),u.removeElement(i)}}(i)),i.src=n,u.setCSSAttr(i,{position:"fixed",opacity:"0"}),o.body.appendChild(i))}))},w={getGIF:function(t,e){e=u.isFunction(e)?e:u.noop;var i,n=o.createElement("canvas"),r=t.images,a=!!r.length,s=t.videoElement,l=t.keepCameraOn,h=t.webcamVideoElement,c=t.cameraStream,f=+t.gifWidth,d=+t.gifHeight,p=t.videoWidth,y=t.videoHeight,v=(+t.sampleInterval,+t.numWorkers,t.crop),m=+t.interval,_=a?0:1e3*m,b=t.progressCallback,w=t.savedRenderingContexts,x=t.saveRenderingContexts,T=[],S=w.length?w.length:t.numFrames,E=S,C=new g(t),P=t.text,M=t.fontWeight,A=u.getFontSize(t),O=t.fontFamily,k=t.fontColor,I=t.textAlign,R=t.textBaseline,L=t.textXCoordinate?t.textXCoordinate:"left"===I?1:"right"===I?f:f/2,B=t.textYCoordinate?t.textYCoordinate:"top"===R?1:"center"===R?d/2:d,D=M+" "+A+" "+O,F=v?Math.floor(v.scaledWidth/2):0,j=v?p-v.scaledWidth:0,N=v?Math.floor(v.scaledHeight/2):0,X=v?y-v.scaledHeight:0,U=function t(){function n(){try{j>p&&(j=p),X>y&&(X=y),F<0&&(F=0),N<0&&(N=0),i.drawImage(s,F,N,j,X,0,0,f,d),r()}catch(t){if("NS_ERROR_NOT_AVAILABLE"!==t.name)throw t;u.requestTimeout(n,100)}}function r(){E=o;var r,a,p,y,v=S-E;x&&T.push(i.getImageData(0,0,f,d)),P&&(i.font=D,i.fillStyle=k,i.textAlign=I,i.textBaseline=R,i.fillText(P,L,B)),r=i.getImageData(0,0,f,d),a=r.data,p=a[0]+a[1]+a[2]+a[3],y=0===p,y?1===v&&1===S&&n():C.addFrameImageData(r),b(v/S),o>0&&u.requestTimeout(t,_),E||C.getBase64GIF(function(t){e({error:!1,errorCode:"",errorMsg:"",image:t,cameraStream:c,videoElement:s,webcamVideoElement:h,savedRenderingContexts:T,keepCameraOn:l})})}var o=E-1;w.length?(i.putImageData(w[S-E],0,0),r()):n()};S=null!=S?S:10,m=null!=m?m:.1,n.width=f,n.height=d,i=n.getContext("2d"),function t(){return w.length||0!==s.currentTime?void U():void u.requestTimeout(t,100)}()},getCropDimensions:function(t){var e=t.videoWidth,i=t.videoHeight,n=t.gifWidth,r=t.gifHeight,o={width:0,height:0,scaledWidth:0,scaledHeight:0};return e>i?(o.width=Math.round(e*(r/i))-n,o.scaledWidth=Math.round(o.width*(i/r))):(o.height=Math.round(i*(n/e))-r,o.scaledHeight=Math.round(o.height*(e/n))),o}},x={loadedData:!1,defaultVideoDimensions:{width:640,height:480},findVideoSize:function t(e){t.attempts=t.attempts||0;var i=this,n=e.videoElement,r=e.cameraStream,o=e.completedCallback;n&&(n.videoWidth>0&&n.videoHeight>0?(n.removeEventListener("loadeddata",i.findVideoSize),o({videoElement:n,cameraStream:r,videoWidth:n.videoWidth,videoHeight:n.videoHeight})):t.attempts<10?(t.attempts+=1,u.requestTimeout(function(){i.findVideoSize(e)},200)):o({videoElement:n,cameraStream:r,videoWidth:i.defaultVideoDimensions.width,videoHeight:i.defaultVideoDimensions.height}))},onStreamingTimeout:function(t){u.isFunction(t)&&t({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - Timed out while trying to start streaming",image:null,cameraStream:{}})},stream:function(t){var e=this,i=u.isArray(t.existingVideo)?t.existingVideo[0]:t.existingVideo,n=t.videoElement,r=t.cameraStream,o=t.streamedCallback,a=t.completedCallback;u.isFunction(o)&&o(),i?u.isString(i)&&(n.src=i,n.innerHTML='<source src="'+i+'" type="video/'+u.getExtension(i)+'" />'):n.mozSrcObject?n.mozSrcObject=r:u.URL&&(n.src=u.URL.createObjectURL(r)),n.play(),u.requestTimeout(function t(){t.count=t.count||0,e.loadedData===!0?(e.findVideoSize({videoElement:n,cameraStream:r,completedCallback:a}),e.loadedData=!1):(t.count+=1,t.count>10?e.findVideoSize({videoElement:n,cameraStream:r,completedCallback:a}):t())},100)},startStreaming:function(t){var e=this,i=u.isFunction(t.error)?t.error:u.noop,n=u.isFunction(t.streamed)?t.streamed:u.noop,r=u.isFunction(t.completed)?t.completed:u.noop,a=t.existingVideo,s=t.webcamVideoElement,l=u.isElement(a)?a:s?s:o.createElement("video"),h=t.lastCameraStream,c=t.crossOrigin,f=t.options;c&&(l.crossOrigin=f.crossOrigin),l.autoplay=!0,l.loop=!0,l.muted=!0,l.addEventListener("loadeddata",function(t){e.loadedData=!0}),a?e.stream({videoElement:l,existingVideo:a,completedCallback:r}):h?e.stream({videoElement:l,cameraStream:h,streamedCallback:n,completedCallback:r}):u.getUserMedia({video:!0},function(t){e.stream({videoElement:l,cameraStream:t,streamedCallback:n,completedCallback:r})},i)},startVideoStreaming:function(t,e){e=e||{};var i,n=this,r=e.timeout!==s?e.timeout:0,o=e.callback,a=e.webcamVideoElement;r>0&&(i=u.requestTimeout(function(){n.onStreamingTimeout(o)},1e4)),this.startStreaming({error:function(){o({error:!0,errorCode:"getUserMedia",errorMsg:"There was an issue with the getUserMedia API - the user probably denied permission",image:null,cameraStream:{}})},streamed:function(){clearTimeout(i)},completed:function(e){var i=e.cameraStream,n=e.videoElement,r=e.videoWidth,o=e.videoHeight;t({cameraStream:i,videoElement:n,videoWidth:r,videoHeight:o})},lastCameraStream:e.lastCameraStream,webcamVideoElement:a,crossOrigin:e.crossOrigin,options:e})},stopVideoStreaming:function(t){t=u.isObject(t)?t:{};var e=t.cameraStream,i=t.videoElement,n=t.keepCameraOn,r=t.webcamVideoElement;!n&&e&&u.isFunction(e.stop)&&e.stop(),u.isElement(i)&&!r&&(i.pause(),u.isFunction(u.URL.revokeObjectURL)&&!u.webWorkerError&&i.src&&u.URL.revokeObjectURL(i.src),u.removeElement(i))}},T=function(t){t=u.isObject(t)?t:{};var e=(u.isObject(t.options)?t.options:{},t.cameraStream),i=t.videoElement,n=t.webcamVideoElement,r=t.keepCameraOn;x.stopVideoStreaming({cameraStream:e,videoElement:i,keepCameraOn:r,webcamVideoElement:n})},S=function(t,e){var i=t.options||{},n=i.images,r=i.video,a=(+i.numFrames,t.cameraStream),s=t.videoElement,l=t.videoWidth,h=t.videoHeight,c=+i.gifWidth,f=+i.gifHeight,d=w.getCropDimensions({videoWidth:l,videoHeight:h,gifHeight:f,gifWidth:c}),p=e;i.crop=d,i.videoElement=s,i.videoWidth=l,i.videoHeight=h,i.cameraStream=a,u.isElement(s)&&(s.width=c+d.width,s.height=f+d.height,i.webcamVideoElement||(u.setCSSAttr(s,{position:"fixed",opacity:"0"}),o.body.appendChild(s)),s.play(),w.getGIF(i,function(t){n&&n.length||r&&r.length||T(t),p(t)}))},E=function(t){var e,i,n=t.existingVideo,r=t.callback,o=t.options,a={getUserMedia:!0,"window.URL":!0},s=l.validate(a);if(s.error)return r(s);if(u.isElement(n)&&n.src){if(i=n.src,e=u.getExtension(i),!u.isSupported.videoCodecs[e])return r(l.messages.videoCodecs)}else u.isArray(n)&&u.each(n,function(t,i){if(e=i.substr(i.lastIndexOf(".")+1,i.length),u.isSupported.videoCodecs[e])return n=i,!1});x.startStreaming({completed:function(t){t.options=o||{},S(t,r)},existingVideo:n,crossOrigin:o.crossOrigin,options:o})},C=function(t){var e=t.lastCameraStream,i=t.callback,n=t.webcamVideoElement,r=t.options;return f()?r.savedRenderingContexts.length?void w.getWebcamGIF(r,function(t){i(t)}):void x.startVideoStreaming(function(t){t.options=r||{},S(t,i)},{lastCameraStream:e,callback:i,webcamVideoElement:n,crossOrigin:r.crossOrigin}):i(l.validate())},P=function(t,e){if(e=u.isFunction(t)?t:e,t=u.isObject(t)?t:{},u.isFunction(e)){var i=u.mergeOptions(h,t)||{},n=t.cameraStream,r=i.images,o=r?r.length:0,a=i.video,s=i.webcamVideoElement;i=u.mergeOptions(i,{gifWidth:Math.floor(i.gifWidth),gifHeight:Math.floor(i.gifHeight)}),o?b({images:r,imagesLength:o,callback:e,options:i}):a?E({existingVideo:a,callback:e,options:i}):C({lastCameraStream:n,callback:e,webcamVideoElement:s,options:i})}},M=function(t,e){if(e=u.isFunction(t)?t:e,t=u.isObject(t)?t:{},u.isFunction(e)){var i=u.mergeOptions(h,t),n=u.mergeOptions(i,{interval:.1,numFrames:1,gifWidth:Math.floor(i.gifWidth),gifHeight:Math.floor(i.gifHeight)});P(n,e)}},A=function(t,e,i,n,r,o,a,s,u,l){var h={utils:t,error:e,defaultOptions:i,createGIF:s,takeSnapShot:u,stopVideoStreaming:l,isSupported:n,isWebCamGIFSupported:r,isExistingVideoGIFSupported:a,isExistingImagesGIFSupported:o,VERSION:"0.3.2"};return h}(u,l,h,c,f,d,p,P,M,T),function(i){n=[],r=function(){return i}.apply(e,n),!(r!==s&&(t.exports=r))}(A)}("undefined"!=typeof window?window:{},"undefined"!=typeof document?document:{createElement:function(){}},"undefined"!=typeof window?window.navigator:{})},function(t,e){e.read=function(t,e,i,n,r){var o,a,s=8*r-n-1,u=(1<<s)-1,l=u>>1,h=-7,c=i?r-1:0,f=i?-1:1,d=t[e+c];for(c+=f,o=d&(1<<-h)-1,d>>=-h,h+=s;h>0;o=256*o+t[e+c],c+=f,h-=8);for(a=o&(1<<-h)-1,o>>=-h,h+=n;h>0;a=256*a+t[e+c],c+=f,h-=8);if(0===o)o=1-l;else{if(o===u)return a?NaN:(d?-1:1)*(1/0);a+=Math.pow(2,n),o-=l}return(d?-1:1)*a*Math.pow(2,o-n)},e.write=function(t,e,i,n,r,o){var a,s,u,l=8*o-r-1,h=(1<<l)-1,c=h>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:o-1,p=n?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=h):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+c>=1?f/u:f*Math.pow(2,1-c),e*u>=2&&(a++,u/=2),a+c>=h?(s=0,a=h):a+c>=1?(s=(e*u-1)*Math.pow(2,r),a+=c):(s=e*Math.pow(2,c-1)*Math.pow(2,r),a=0));r>=8;t[i+d]=255&s,d+=p,s/=256,r-=8);for(a=a<<r|s,l+=r;l>0;t[i+d]=255&a,d+=p,a/=256,l-=8);t[i+d-p]|=128*y}},function(t,e){/*
	object-assign
	(c) Sindre Sorhus
	@license MIT
	*/
"use strict";function i(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function n(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},i=0;i<10;i++)e["_"+String.fromCharCode(i)]=i;var n=Object.getOwnPropertyNames(e).map(function(t){return e[t]});if("0123456789"!==n.join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}var r=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=n()?Object.assign:function(t,e){for(var n,s,u=i(t),l=1;l<arguments.length;l++){n=Object(arguments[l]);for(var h in n)o.call(n,h)&&(u[h]=n[h]);if(r){s=r(n);for(var c=0;c<s.length;c++)a.call(n,s[c])&&(u[s[c]]=n[s[c]])}}return u}},function(t,e,i){function n(){r.call(this,r.NAIVE)}var r=(i(128),i(177),i(37),i(176),i(124));i(5);t.exports=n,n.prototype=new r,n.prototype.constructor=n,n.prototype.getCollisionPairs=function(t){var e=t.bodies,i=this.result;i.length=0;for(var n=0,o=e.length;n!==o;n++)for(var a=e[n],s=0;s<n;s++){var u=e[s];r.canCollide(a,u)&&this.boundingVolumeCheck(a,u)&&i.push(a,u)}return i},n.prototype.aabbQuery=function(t,e,i){i=i||[];for(var n=t.bodies,r=0;r<n.length;r++){var o=n[r];o.aabbNeedsUpdate&&o.updateAABB(),o.aabb.overlaps(e)&&i.push(o)}return i}},function(t,e){var i={};i.GetArea=function(t){if(t.length<6)return 0;for(var e=t.length-2,i=0,n=0;n<e;n+=2)i+=(t[n+2]-t[n])*(t[n+1]+t[n+3]);return i+=(t[0]-t[e])*(t[e+1]+t[1]),.5*-i},i.Triangulate=function(t){var e=t.length>>1;if(e<3)return[];for(var n=[],r=[],o=0;o<e;o++)r.push(o);for(var o=0,a=e;a>3;){var s=r[(o+0)%a],u=r[(o+1)%a],l=r[(o+2)%a],h=t[2*s],c=t[2*s+1],f=t[2*u],d=t[2*u+1],p=t[2*l],y=t[2*l+1],v=!1;if(i._convex(h,c,f,d,p,y)){v=!0;for(var m=0;m<a;m++){var g=r[m];if(g!=s&&g!=u&&g!=l&&i._PointInTriangle(t[2*g],t[2*g+1],h,c,f,d,p,y)){v=!1;break}}}if(v)n.push(s,u,l),r.splice((o+1)%a,1),a--,o=0;else if(o++>3*a)break}return n.push(r[0],r[1],r[2]),n},i._PointInTriangle=function(t,e,i,n,r,o,a,s){var u=a-i,l=s-n,h=r-i,c=o-n,f=t-i,d=e-n,p=u*u+l*l,y=u*h+l*c,v=u*f+l*d,m=h*h+c*c,g=h*f+c*d,_=1/(p*m-y*y),b=(m*v-y*g)*_,w=(p*g-y*v)*_;return b>=0&&w>=0&&b+w<1},i._convex=function(t,e,i,n,r,o){return(e-n)*(r-i)+(i-t)*(o-n)>=0},t.exports=i},function(t,e,i){function n(t,e){e=e||{},this.chassisBody=t,this.wheels=[],this.groundBody=new u({mass:0}),this.world=null;var i=this;this.preStepCallback=function(){i.update()}}function r(t,e){e=e||{},this.vehicle=t,this.forwardEquation=new s(t.chassisBody,t.groundBody),this.sideEquation=new s(t.chassisBody,t.groundBody),this.steerValue=0,this.engineForce=0,this.setSideFriction(void 0!==e.sideFriction?e.sideFriction:5),this.localForwardVector=o.fromValues(0,1),e.localForwardVector&&o.copy(this.localForwardVector,e.localForwardVector),this.localPosition=o.fromValues(0,0),e.localPosition&&o.copy(this.localPosition,e.localPosition),a.apply(this,t.chassisBody,t.groundBody),this.equations.push(this.forwardEquation,this.sideEquation),this.setBrakeForce(0)}var o=i(5),a=(i(22),i(60)),s=i(94),u=i(61);t.exports=n,n.prototype.addToWorld=function(t){this.world=t,t.addBody(this.groundBody),t.on("preStep",this.preStepCallback);for(var e=0;e<this.wheels.length;e++){var i=this.wheels[e];t.addConstraint(i)}},n.prototype.removeFromWorld=function(){var t=this.world;t.removeBody(this.groundBody),t.off("preStep",this.preStepCallback);for(var e=0;e<this.wheels.length;e++){var i=this.wheels[e];t.removeConstraint(i)}this.world=null},n.prototype.addWheel=function(t){var e=new r(this,t);return this.wheels.push(e),e},n.prototype.update=function(){for(var t=0;t<this.wheels.length;t++)this.wheels[t].update()},r.prototype=new a,r.prototype.setBrakeForce=function(t){this.forwardEquation.setSlipForce(t)},r.prototype.setSideFriction=function(t){this.sideEquation.setSlipForce(t)};var l=o.create(),h=o.create();r.prototype.getSpeed=function(){return this.vehicle.chassisBody.vectorToWorldFrame(h,this.localForwardVector),this.vehicle.chassisBody.getVelocityAtPoint(l,h),o.dot(l,h)};var c=o.create();r.prototype.update=function(){this.vehicle.chassisBody.vectorToWorldFrame(this.forwardEquation.t,this.localForwardVector),o.rotate(this.sideEquation.t,this.localForwardVector,Math.PI/2),this.vehicle.chassisBody.vectorToWorldFrame(this.sideEquation.t,this.sideEquation.t),o.rotate(this.forwardEquation.t,this.forwardEquation.t,this.steerValue),o.rotate(this.sideEquation.t,this.sideEquation.t,this.steerValue),this.vehicle.chassisBody.toWorldFrame(this.forwardEquation.contactPointB,this.localPosition),o.copy(this.sideEquation.contactPointB,this.forwardEquation.contactPointB),this.vehicle.chassisBody.vectorToWorldFrame(this.forwardEquation.contactPointA,this.localPosition),o.copy(this.sideEquation.contactPointA,this.forwardEquation.contactPointA),o.normalize(c,this.forwardEquation.t),o.scale(c,c,this.engineForce),this.vehicle.chassisBody.applyForce(c,this.forwardEquation.contactPointA)}},function(t,e,i){var n=t.exports={AABB:i(123),AngleLockEquation:i(249),Body:i(61),Broadphase:i(124),Capsule:i(256),Circle:i(128),Constraint:i(60),ContactEquation:i(126),ContactEquationPool:i(259),ContactMaterial:i(252),Convex:i(95),DistanceConstraint:i(244),Equation:i(36),EventEmitter:i(127),FrictionEquation:i(94),FrictionEquationPool:i(260),GearConstraint:i(245),GSSolver:i(258),Heightfield:i(688),Line:i(257),LockConstraint:i(246),Material:i(174),Narrowphase:i(242),NaiveBroadphase:i(684),Particle:i(176),Plane:i(177),Pool:i(85),RevoluteConstraint:i(248),PrismaticConstraint:i(247),Ray:i(125),RaycastResult:i(173),Box:i(255),RotationalVelocityEquation:i(251),SAPBroadphase:i(243),Shape:i(37),Solver:i(178),Spring:i(175),TopDownVehicle:i(686),LinearSpring:i(253),RotationalSpring:i(254),Utils:i(22),World:i(694),vec2:i(5),version:i(321).version};Object.defineProperty(n,"Rectangle",{get:function(){return this.Box}})},function(t,e,i){function n(t){if(Array.isArray(arguments[0])&&(t={heights:arguments[0]},"object"==typeof arguments[1]))for(var e in arguments[1])t[e]=arguments[1][e];t=t||{},this.heights=t.heights?t.heights.slice(0):[],this.maxValue=t.maxValue||null,this.minValue=t.minValue||null,this.elementWidth=t.elementWidth||.1,void 0!==t.maxValue&&void 0!==t.minValue||this.updateMaxMinValues(),t.type=r.HEIGHTFIELD,r.call(this,t)}var r=i(37),o=i(5);i(22);t.exports=n,n.prototype=new r,n.prototype.constructor=n,n.prototype.updateMaxMinValues=function(){for(var t=this.heights,e=t[0],i=t[0],n=0;n!==t.length;n++){var r=t[n];r>e&&(e=r),r<i&&(i=r)}this.maxValue=e,this.minValue=i},n.prototype.computeMomentOfInertia=function(t){return Number.MAX_VALUE},n.prototype.updateBoundingRadius=function(){this.boundingRadius=Number.MAX_VALUE},n.prototype.updateArea=function(){for(var t=this.heights,e=0,i=0;i<t.length-1;i++)e+=(t[i]+t[i+1])/2*this.elementWidth;this.area=e};var a=[o.create(),o.create(),o.create(),o.create()];n.prototype.computeAABB=function(t,e,i){o.set(a[0],0,this.maxValue),o.set(a[1],this.elementWidth*this.heights.length,this.maxValue),o.set(a[2],this.elementWidth*this.heights.length,this.minValue),o.set(a[3],0,this.minValue),t.setFromPoints(a,e,i)},n.prototype.getLineSegment=function(t,e,i){var n=this.heights,r=this.elementWidth;o.set(t,i*r,n[i]),o.set(e,(i+1)*r,n[i+1])},n.prototype.getSegmentIndex=function(t){return Math.floor(t[0]/this.elementWidth)},n.prototype.getClampedSegmentIndex=function(t){var e=this.getSegmentIndex(t);return e=Math.min(this.heights.length,Math.max(e,0))};var s=(o.create(),o.create()),u=o.create(),l=o.create(),h=o.create(),c=o.create();o.fromValues(0,1);n.prototype.raycast=function(t,e,i,n){var r=e.from,a=e.to,f=(e.direction,s),d=u,p=l,y=h,v=c;o.toLocalFrame(y,r,i,n),o.toLocalFrame(v,a,i,n);var m=this.getClampedSegmentIndex(y),g=this.getClampedSegmentIndex(v);if(m>g){var _=m;m=g,g=_}for(var b=0;b<this.heights.length-1;b++){this.getLineSegment(d,p,b);var w=o.getLineSegmentsIntersectionFraction(y,v,d,p);if(w>=0&&(o.sub(f,p,d),o.rotate(f,f,n+Math.PI/2),o.normalize(f,f),e.reportIntersection(t,w,f,-1),t.shouldStop(e)))return}}},function(t,e,i){function n(){o.apply(this,arguments)}var r=i(264),o=i(85);t.exports=n,n.prototype=new o,n.prototype.constructor=n,n.prototype.create=function(){return new r},n.prototype.destroy=function(t){return t.reset(),this}},function(t,e,i){function n(){o.apply(this,arguments)}var r=i(263),o=i(85);t.exports=n,n.prototype=new o,n.prototype.constructor=n,n.prototype.create=function(){return new r},n.prototype.destroy=function(t){return t.reset(),this}},function(t,e,i){function n(){this.overlappingShapesLastState=new r,this.overlappingShapesCurrentState=new r,this.recordPool=new o({size:16}),this.tmpDict=new r,this.tmpArray1=[]}var r=i(262),o=(i(261),i(692));i(22);t.exports=n,n.prototype.tick=function(){for(var t=this.overlappingShapesLastState,e=this.overlappingShapesCurrentState,i=t.keys.length;i--;){var n=t.keys[i],r=t.getByKey(n);e.getByKey(n);r&&this.recordPool.release(r)}t.reset(),t.copy(e),e.reset()},n.prototype.setOverlapping=function(t,e,i,n){var r=(this.overlappingShapesLastState,this.overlappingShapesCurrentState);if(!r.get(e.id,n.id)){var o=this.recordPool.get();o.set(t,e,i,n),r.set(e.id,n.id,o)}},n.prototype.getNewOverlaps=function(t){return this.getDiff(this.overlappingShapesLastState,this.overlappingShapesCurrentState,t)},n.prototype.getEndOverlaps=function(t){return this.getDiff(this.overlappingShapesCurrentState,this.overlappingShapesLastState,t)},n.prototype.bodiesAreOverlapping=function(t,e){for(var i=this.overlappingShapesCurrentState,n=i.keys.length;n--;){var r=i.keys[n],o=i.data[r];if(o.bodyA===t&&o.bodyB===e||o.bodyA===e&&o.bodyB===t)return!0}return!1},n.prototype.getDiff=function(t,e,i){var i=i||[],n=t,r=e;i.length=0;for(var o=r.keys.length;o--;){var a=r.keys[o],s=r.data[a];if(!s)throw new Error("Key "+a+" had no data!");var u=n.data[a];u||i.push(s)}return i},n.prototype.isNewOverlap=function(t,e){var i=0|t.id,n=0|e.id,r=this.overlappingShapesLastState,o=this.overlappingShapesCurrentState;return!r.get(i,n)&&!!o.get(i,n)},n.prototype.getNewBodyOverlaps=function(t){this.tmpArray1.length=0;var e=this.getNewOverlaps(this.tmpArray1);return this.getBodyDiff(e,t)},n.prototype.getEndBodyOverlaps=function(t){this.tmpArray1.length=0;var e=this.getEndOverlaps(this.tmpArray1);return this.getBodyDiff(e,t)},n.prototype.getBodyDiff=function(t,e){e=e||[];for(var i=this.tmpDict,n=t.length;n--;){var r=t[n];i.set(0|r.bodyA.id,0|r.bodyB.id,r)}for(n=i.keys.length;n--;){var r=i.getByKey(i.keys[n]);r&&e.push(r.bodyA,r.bodyB)}return i.reset(),e}},function(t,e,i){function n(){o.apply(this,arguments)}var r=i(261),o=i(85);t.exports=n,n.prototype=new o,n.prototype.constructor=n,n.prototype.create=function(){return new r},n.prototype.destroy=function(t){return t.bodyA=t.bodyB=t.shapeA=t.shapeB=null,this}},function(t,e,i){function n(t){this.nodePool=new r({size:16}),this.islandPool=new o({size:8}),this.equations=[],this.islands=[],this.nodes=[],this.queue=[]}var r=(i(5),i(263),i(264),i(689)),o=i(690),a=i(61);t.exports=n,n.getUnvisitedNode=function(t){for(var e=t.length,i=0;i!==e;i++){var n=t[i];if(!n.visited&&n.body.type===a.DYNAMIC)return n}return!1},n.prototype.visit=function(t,e,i){e.push(t.body);for(var n=t.equations.length,r=0;r!==n;r++){var o=t.equations[r];i.indexOf(o)===-1&&i.push(o)}},n.prototype.bfs=function(t,e,i){var r=this.queue;for(r.length=0,r.push(t),t.visited=!0,this.visit(t,e,i);r.length;)for(var o,s=r.pop();o=n.getUnvisitedNode(s.neighbors);)o.visited=!0,this.visit(o,e,i),o.body.type===a.DYNAMIC&&r.push(o)},n.prototype.split=function(t){for(var e=t.bodies,i=this.nodes,r=this.equations;i.length;)this.nodePool.release(i.pop());for(var o=0;o!==e.length;o++){var a=this.nodePool.get();a.body=e[o],i.push(a)}for(var s=0;s!==r.length;s++){var u=r[s],o=e.indexOf(u.bodyA),l=e.indexOf(u.bodyB),h=i[o],c=i[l];h.neighbors.push(c),c.neighbors.push(h),h.equations.push(u),c.equations.push(u)}for(var f=this.islands,o=0;o<f.length;o++)this.islandPool.release(f[o]);f.length=0;for(var d;d=n.getUnvisitedNode(i);){var p=this.islandPool.get();this.bfs(d,p.bodies,p.equations),f.push(p)}return f}},function(t,e,i){function n(t){c.apply(this),t=t||{},this.springs=[],this.bodies=[],this.disabledBodyCollisionPairs=[],this.solver=t.solver||new r,this.narrowphase=new m(this),this.islandManager=new b,this.gravity=o.fromValues(0,-9.78),t.gravity&&o.copy(this.gravity,t.gravity),this.frictionGravity=o.length(this.gravity)||10,this.useWorldGravityAsFrictionGravity=!0,this.useFrictionGravityOnZeroGravity=!0,this.broadphase=t.broadphase||new v,this.broadphase.setWorld(this),this.constraints=[],this.defaultMaterial=new d,this.defaultContactMaterial=new p(this.defaultMaterial,this.defaultMaterial),this.lastTimeStep=1/60,this.applySpringForces=!0,this.applyDamping=!0,this.applyGravity=!0,this.solveConstraints=!0,this.contactMaterials=[],this.time=0,this.accumulator=0,this.stepping=!1,this.bodiesToBeRemoved=[],this.islandSplit="undefined"==typeof t.islandSplit||!!t.islandSplit,this.emitImpactEvent=!0,this._constraintIdCounter=0,this._bodyIdCounter=0,this.postStepEvent={type:"postStep"},this.addBodyEvent={type:"addBody",body:null},this.removeBodyEvent={type:"removeBody",body:null},this.addSpringEvent={type:"addSpring",spring:null},this.impactEvent={type:"impact",bodyA:null,bodyB:null,shapeA:null,shapeB:null,contactEquation:null},this.postBroadphaseEvent={type:"postBroadphase",pairs:null},this.sleepMode=n.NO_SLEEPING,this.beginContactEvent={type:"beginContact",shapeA:null,shapeB:null,bodyA:null,bodyB:null,contactEquations:[]},this.endContactEvent={type:"endContact",shapeA:null,shapeB:null,bodyA:null,bodyB:null},this.preSolveEvent={type:"preSolve",contactEquations:null,frictionEquations:null},this.overlappingShapesLastState={keys:[]},this.overlappingShapesCurrentState={keys:[]},this.overlapKeeper=new _}var r=i(258),o=(i(178),i(125),i(5)),a=i(128),s=i(95),u=(i(257),i(177)),l=i(256),h=i(176),c=i(127),f=i(61),d=(i(37),i(253),i(174)),p=i(252),y=(i(244),i(60),i(246),i(248),i(247),i(245),i(321),i(124),i(123)),v=i(243),m=i(242),g=i(22),_=i(691),b=i(693);i(254);t.exports=n,n.prototype=new Object(c.prototype),n.prototype.constructor=n,n.NO_SLEEPING=1,n.BODY_SLEEPING=2,n.ISLAND_SLEEPING=4,n.prototype.addConstraint=function(t){this.constraints.push(t)},n.prototype.addContactMaterial=function(t){this.contactMaterials.push(t)},n.prototype.removeContactMaterial=function(t){var e=this.contactMaterials.indexOf(t);e!==-1&&g.splice(this.contactMaterials,e,1)},n.prototype.getContactMaterial=function(t,e){for(var i=this.contactMaterials,n=0,r=i.length;n!==r;n++){var o=i[n];if(o.materialA.id===t.id&&o.materialB.id===e.id||o.materialA.id===e.id&&o.materialB.id===t.id)return o}return!1},n.prototype.removeConstraint=function(t){var e=this.constraints.indexOf(t);e!==-1&&g.splice(this.constraints,e,1)};var w=(o.create(),o.create(),o.create(),o.create(),o.create(),o.create(),o.create()),x=o.fromValues(0,0),T=o.fromValues(0,0);o.fromValues(0,0),o.fromValues(0,0);n.prototype.step=function(t,e,i){if(i=i||10,e=e||0,0===e)this.internalStep(t),this.time+=t;else{this.accumulator+=e;for(var n=0;this.accumulator>=t&&n<i;)this.internalStep(t),this.time+=t,this.accumulator-=t,n++;for(var r=this.accumulator%t/t,a=0;a!==this.bodies.length;a++){var s=this.bodies[a];o.lerp(s.interpolatedPosition,s.previousPosition,s.position,r),s.interpolatedAngle=s.previousAngle+r*(s.angle-s.previousAngle)}}};var S=[];n.prototype.internalStep=function(t){this.stepping=!0;var e=this.springs.length,i=this.springs,r=this.bodies,a=this.gravity,s=this.solver,u=this.bodies.length,l=this.broadphase,h=this.narrowphase,c=this.constraints,d=w,p=(o.scale,o.add),y=(o.rotate,this.islandManager);if(this.overlapKeeper.tick(),this.lastTimeStep=t,this.useWorldGravityAsFrictionGravity){var v=o.length(this.gravity);0===v&&this.useFrictionGravityOnZeroGravity||(this.frictionGravity=v)}if(this.applyGravity)for(var m=0;m!==u;m++){var _=r[m],b=_.force;_.type===f.DYNAMIC&&_.sleepState!==f.SLEEPING&&(o.scale(d,a,_.mass*_.gravityScale),p(b,b,d))}if(this.applySpringForces)for(var m=0;m!==e;m++){var x=i[m];x.applyForce()}if(this.applyDamping)for(var m=0;m!==u;m++){var _=r[m];_.type===f.DYNAMIC&&_.applyDamping(t)}for(var T=l.getCollisionPairs(this),E=this.disabledBodyCollisionPairs,m=E.length-2;m>=0;m-=2)for(var C=T.length-2;C>=0;C-=2)(E[m]===T[C]&&E[m+1]===T[C+1]||E[m+1]===T[C]&&E[m]===T[C+1])&&T.splice(C,2);var P=c.length;for(m=0;m!==P;m++){var M=c[m];if(!M.collideConnected)for(var C=T.length-2;C>=0;C-=2)(M.bodyA===T[C]&&M.bodyB===T[C+1]||M.bodyB===T[C]&&M.bodyA===T[C+1])&&T.splice(C,2)}this.postBroadphaseEvent.pairs=T,this.emit(this.postBroadphaseEvent),this.postBroadphaseEvent.pairs=null,h.reset(this);for(var m=0,A=T.length;m!==A;m+=2)for(var O=T[m],k=T[m+1],I=0,R=O.shapes.length;I!==R;I++)for(var L=O.shapes[I],B=L.position,D=L.angle,F=0,j=k.shapes.length;F!==j;F++){var N=k.shapes[F],X=N.position,U=N.angle,G=this.defaultContactMaterial;if(L.material&&N.material){var Y=this.getContactMaterial(L.material,N.material);Y&&(G=Y)}this.runNarrowphase(h,O,L,B,D,k,N,X,U,G,this.frictionGravity)}for(var m=0;m!==u;m++){var z=r[m];z._wakeUpAfterNarrowphase&&(z.wakeUp(),z._wakeUpAfterNarrowphase=!1)}if(this.has("endContact")){this.overlapKeeper.getEndOverlaps(S);for(var V=this.endContactEvent,F=S.length;F--;){var W=S[F];V.shapeA=W.shapeA,V.shapeB=W.shapeB,V.bodyA=W.bodyA,V.bodyB=W.bodyB,this.emit(V)}S.length=0}var H=this.preSolveEvent;H.contactEquations=h.contactEquations,H.frictionEquations=h.frictionEquations,this.emit(H),H.contactEquations=H.frictionEquations=null;var P=c.length;for(m=0;m!==P;m++)c[m].update();if(h.contactEquations.length||h.frictionEquations.length||P)if(this.islandSplit){for(y.equations.length=0,g.appendArray(y.equations,h.contactEquations),g.appendArray(y.equations,h.frictionEquations),m=0;m!==P;m++)g.appendArray(y.equations,c[m].equations);y.split(this);for(var m=0;m!==y.islands.length;m++){var q=y.islands[m];q.equations.length&&s.solveIsland(t,q)}}else{for(s.addEquations(h.contactEquations),s.addEquations(h.frictionEquations),m=0;m!==P;m++)s.addEquations(c[m].equations);this.solveConstraints&&s.solve(t,this),s.removeAllEquations()}for(var m=0;m!==u;m++){var z=r[m];z.integrate(t)}for(var m=0;m!==u;m++)r[m].setZeroForce();if(this.emitImpactEvent&&this.has("impact"))for(var K=this.impactEvent,m=0;m!==h.contactEquations.length;m++){var Z=h.contactEquations[m];Z.firstImpact&&(K.bodyA=Z.bodyA,K.bodyB=Z.bodyB,K.shapeA=Z.shapeA,K.shapeB=Z.shapeB,K.contactEquation=Z,this.emit(K))}if(this.sleepMode===n.BODY_SLEEPING)for(m=0;m!==u;m++)r[m].sleepTick(this.time,!1,t);else if(this.sleepMode===n.ISLAND_SLEEPING&&this.islandSplit){for(m=0;m!==u;m++)r[m].sleepTick(this.time,!0,t);for(var m=0;m<this.islandManager.islands.length;m++){var q=this.islandManager.islands[m];q.wantsToSleep()&&q.sleep()}}this.stepping=!1;for(var J=this.bodiesToBeRemoved,m=0;m!==J.length;m++)this.removeBody(J[m]);J.length=0,this.emit(this.postStepEvent)},n.prototype.runNarrowphase=function(t,e,i,n,r,a,s,u,l,h,c){if(0!==(i.collisionGroup&s.collisionMask)&&0!==(s.collisionGroup&i.collisionMask)){o.rotate(x,n,e.angle),o.rotate(T,u,a.angle),o.add(x,x,e.position),o.add(T,T,a.position);var d=r+e.angle,p=l+a.angle;t.enableFriction=h.friction>0,t.frictionCoefficient=h.friction;var y;y=e.type===f.STATIC||e.type===f.KINEMATIC?a.mass:a.type===f.STATIC||a.type===f.KINEMATIC?e.mass:e.mass*a.mass/(e.mass+a.mass),t.slipForce=h.friction*c*y,t.restitution=h.restitution,t.surfaceVelocity=h.surfaceVelocity,t.frictionStiffness=h.frictionStiffness,t.frictionRelaxation=h.frictionRelaxation,t.stiffness=h.stiffness,t.relaxation=h.relaxation,t.contactSkinSize=h.contactSkinSize,t.enabledEquations=e.collisionResponse&&a.collisionResponse&&i.collisionResponse&&s.collisionResponse;var v=t[i.type|s.type],m=0;if(v){var g=i.sensor||s.sensor,_=t.frictionEquations.length;m=i.type<s.type?v.call(t,e,i,x,d,a,s,T,p,g):v.call(t,a,s,T,p,e,i,x,d,g);var b=t.frictionEquations.length-_;if(m){if(e.allowSleep&&e.type===f.DYNAMIC&&e.sleepState===f.SLEEPING&&a.sleepState===f.AWAKE&&a.type!==f.STATIC){var w=o.squaredLength(a.velocity)+Math.pow(a.angularVelocity,2),S=Math.pow(a.sleepSpeedLimit,2);w>=2*S&&(e._wakeUpAfterNarrowphase=!0)}if(a.allowSleep&&a.type===f.DYNAMIC&&a.sleepState===f.SLEEPING&&e.sleepState===f.AWAKE&&e.type!==f.STATIC){var E=o.squaredLength(e.velocity)+Math.pow(e.angularVelocity,2),C=Math.pow(e.sleepSpeedLimit,2);E>=2*C&&(a._wakeUpAfterNarrowphase=!0)}if(this.overlapKeeper.setOverlapping(e,i,a,s),this.has("beginContact")&&this.overlapKeeper.isNewOverlap(i,s)){var P=this.beginContactEvent;if(P.shapeA=i,P.shapeB=s,P.bodyA=e,P.bodyB=a,P.contactEquations.length=0,"number"==typeof m)for(var M=t.contactEquations.length-m;M<t.contactEquations.length;M++)P.contactEquations.push(t.contactEquations[M]);this.emit(P)}if("number"==typeof m&&b>1)for(var M=t.frictionEquations.length-b;M<t.frictionEquations.length;M++){var A=t.frictionEquations[M];A.setSlipForce(A.getSlipForce()/b)}}}}},n.prototype.addSpring=function(t){this.springs.push(t);var e=this.addSpringEvent;e.spring=t,this.emit(e),e.spring=null},n.prototype.removeSpring=function(t){var e=this.springs.indexOf(t);e!==-1&&g.splice(this.springs,e,1)},n.prototype.addBody=function(t){if(this.bodies.indexOf(t)===-1){this.bodies.push(t),t.world=this;var e=this.addBodyEvent;e.body=t,this.emit(e),e.body=null}},n.prototype.removeBody=function(t){if(this.stepping)this.bodiesToBeRemoved.push(t);else{t.world=null;var e=this.bodies.indexOf(t);e!==-1&&(g.splice(this.bodies,e,1),this.removeBodyEvent.body=t,t.resetConstraintVelocity(),this.emit(this.removeBodyEvent),this.removeBodyEvent.body=null)}},n.prototype.getBodyById=function(t){for(var e=this.bodies,i=0;i<e.length;i++){var n=e[i];if(n.id===t)return n}return!1},n.prototype.disableBodyCollision=function(t,e){this.disabledBodyCollisionPairs.push(t,e)},n.prototype.enableBodyCollision=function(t,e){for(var i=this.disabledBodyCollisionPairs,n=0;n<i.length;n+=2)if(i[n]===t&&i[n+1]===e||i[n+1]===t&&i[n]===e)return void i.splice(n,2)},n.prototype.clear=function(){this.time=0,this.solver&&this.solver.equations.length&&this.solver.removeAllEquations();for(var t=this.constraints,e=t.length-1;e>=0;e--)this.removeConstraint(t[e]);for(var i=this.bodies,e=i.length-1;e>=0;e--)this.removeBody(i[e]);for(var r=this.springs,e=r.length-1;e>=0;e--)this.removeSpring(r[e]);for(var o=this.contactMaterials,e=o.length-1;e>=0;e--)this.removeContactMaterial(o[e]);n.apply(this)};var E=o.create(),C=(o.fromValues(0,0),o.fromValues(0,0));n.prototype.hitTest=function(t,e,i){i=i||0;var n=new f({position:t}),r=new h,c=t,d=0,p=E,y=C;n.addShape(r);for(var v=this.narrowphase,m=[],g=0,_=e.length;g!==_;g++)for(var b=e[g],w=0,x=b.shapes.length;w!==x;w++){var T=b.shapes[w];o.rotate(p,T.position,b.angle),o.add(p,p,b.position);var S=T.angle+b.angle;(T instanceof a&&v.circleParticle(b,T,p,S,n,r,c,d,!0)||T instanceof s&&v.particleConvex(n,r,c,d,b,T,p,S,!0)||T instanceof u&&v.particlePlane(n,r,c,d,b,T,p,S,!0)||T instanceof l&&v.particleCapsule(n,r,c,d,b,T,p,S,!0)||T instanceof h&&o.squaredLength(o.sub(y,p,t))<i*i)&&m.push(b)}return m},n.prototype.setGlobalStiffness=function(t){for(var e=this.constraints,i=0;i!==e.length;i++)for(var n=e[i],r=0;r!==n.equations.length;r++){var o=n.equations[r];o.stiffness=t,o.needsUpdate=!0}for(var a=this.contactMaterials,i=0;i!==a.length;i++){var n=a[i];n.stiffness=n.frictionStiffness=t}var n=this.defaultContactMaterial;n.stiffness=n.frictionStiffness=t},n.prototype.setGlobalRelaxation=function(t){for(var e=0;e!==this.constraints.length;e++)for(var i=this.constraints[e],n=0;n!==i.equations.length;n++){var r=i.equations[n];r.relaxation=t,r.needsUpdate=!0}for(var e=0;e!==this.contactMaterials.length;e++){var i=this.contactMaterials[e];i.relaxation=i.frictionRelaxation=t}var i=this.defaultContactMaterial;i.relaxation=i.frictionRelaxation=t};var P=new y,M=[];n.prototype.raycast=function(t,e){return e.getAABB(P),this.broadphase.aabbQuery(this,P,M),e.intersectBodies(t,M),M.length=0,t.hasHit()}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(266),s=n(a),u=[],l=function(){function t(){r(this,t)}return t.play=function(t,e,i){var n=!1,r=void 0,o=void 0,a="function"==typeof e;if(void 0===e||a)r=0,o=t.totalFrames-1,a&&(i=e);else{if(r=t.labelsMap[e],o=t.labelsMap[e+this.STOP_LABEL],void 0===o&&(o=t.labelsMap[e+this.LOOP_LABEL],n=!0),void 0===r)throw new Error("No start label matching '"+e+"'");if(void 0===o)throw new Error("No end label matching '"+e+"'")}return this.fromTo(t,r,o,n,i)},t.to=function(t,e,i){return this.fromTo(t,t.currentFrame,e,!1,i)},t.fromTo=function(t,e,i,n,r){if("string"==typeof e){var o=e;if(e=t.labelsMap[o],void 0===e)throw new Error("No start label matching '"+o+"'")}if("string"==typeof i){var a=i;if(i=t.labelsMap[a],void 0===i)throw new Error("No end label matching '"+a+"'")}if(e<0)throw new Error("Start frame is out of bounds");if(i>=t.totalFrames)throw new Error("End frame is out of bounds");if(e>=i)throw new Error("End frame is before start frame");this.stop(t),n=!!n;var u=s.default.create(t,e,i,n,r);return this._timelines.push(u),t.currentFrame!==e?t.gotoAndPlay(e):t.play(),u},t.stop=function(t){for(var e=0,i=this._timelines.length;e<i;e++){var n=this._timelines[e];if(n.instance===t){this._internalStop(n);break}}},t.stopAll=function(){for(var t=this._timelines.length-1;t>=0;t--)this._internalStop(this._timelines[t])},t._internalStop=function(t){this._timelines.splice(this._timelines.indexOf(t),1),t.instance.stop(),t.destroy()},o(t,null,[{key:"_timelines",get:function(){return u}},{key:"STOP_LABEL",get:function(){return"_stop"}},{key:"LOOP_LABEL",get:function(){return"_loop"}}]),t}();t.exports=l},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(268),l=n(u),h=i(129),c=n(h),f=PIXI.Container,d=PIXI.ticker.shared,p=function(t){function e(i,n,a,s,u){r(this,e);var l=o(this,t.call(this));if(i=void 0===i?{}:i,i="number"==typeof i?{mode:i||e.INDEPENDENT,duration:n||0,loop:void 0===a||a,labels:u||{},framerate:s||0,startPosition:0}:Object.assign({mode:e.INDEPENDENT,startPosition:0,loop:!0,labels:{},duration:0,framerate:0},i),l.mode=i.mode,l.startPosition=i.startPosition,l.loop=!!i.loop,l.currentFrame=0,l._labels=[],l._labelDict=i.labels,i.labels){for(var h in i.labels){var c={label:h,position:i.labels[h]};l._labels.push(c)}l._labels.sort(function(t,e){return t.position-e.position})}return l.selfAdvance=!0,l.paused=!1,l.actionsEnabled=!0,l.autoReset=!0,l._synchOffset=0,l._prevPos=-1,l._t=0,l._framerate=i.framerate,l._duration=0,l._totalFrames=i.duration,l._timelines=[],l._timedChildTimelines=[],l._depthSorted=[],l._actions=[],l._beforeUpdate=null,l.mode===e.INDEPENDENT&&(l._tickListener=l._tickListener.bind(l),l._onAdded=l._onAdded.bind(l),l._onRemoved=l._onRemoved.bind(l),l.on("added",l._onAdded),l.on("removed",l._onRemoved)),i.framerate&&(l.framerate=i.framerate),l.advance=l.advance,l._updateTimeline=l._updateTimeline,l._setTimelinePosition=l._setTimelinePosition,l._goto=l._goto,l}return a(e,t),e.prototype._onAdded=function(){this._framerate||(this.framerate=this.parentFramerate),d.add(this._tickListener)},e.prototype._tickListener=function(t){if(this.paused||!this.selfAdvance)return void(this._prevPos<0&&this._goto(this.currentFrame));var e=t/d.speed/PIXI.settings.TARGET_FPMS/1e3;this.advance(e)},e.prototype._onRemoved=function(){d.remove(this._tickListener)},e.prototype._autoExtend=function(t){this._totalFrames<t&&(this._totalFrames=t)},e.prototype._parseProperties=function(t){"string"==typeof t.t?t.t=c.default.hexToUint(t.t):"number"==typeof t.v&&(t.v=!!t.v)},e.prototype._getChildTimeline=function(t){for(var e=this._timelines.length-1;e>=0;--e)if(this._timelines[e].target===t)return this._timelines[e];var i=new l.default(t);return this._timelines.push(i),i},e.prototype.addTimedMask=function(t,e){for(var i in e)this.addKeyframe(t,{m:e[i]},parseInt(i,10));return this._setTimelinePosition(this.currentFrame,this.currentFrame,!0),this},e.prototype.am=function(t,e){return this.addTimedMask(t,e)},e.prototype.addTween=function(t,e,i,n,r){var o=this._getChildTimeline(t);return this._parseProperties(e),o.addTween(e,i,n,r),this._autoExtend(i+n),this},e.prototype.addKeyframe=function(t,e,i){var n=this._getChildTimeline(t);return this._parseProperties(e),n.addKeyframe(e,i),this._autoExtend(i),this},e.prototype.at=function(t,e,i,n){return this.addTimedChild(t,e,i,n)},e.prototype.addTimedChild=function(t,i,n,r){void 0===i&&(i=0),(void 0===n||n<1)&&(n=this._totalFrames||1),t.mode===e.SYNCHED&&(t.parentStartPosition=i);var o=void 0,a=void 0;for(a=this._timedChildTimelines.length-1;a>=0;--a)if(this._timedChildTimelines[a].target===t){o=this._timedChildTimelines[a];break}if(o||(o=[],o.target=t,this._timedChildTimelines.push(o)),c.default.fillFrames(o,i,n),this._totalFrames<i+n&&(this._totalFrames=i+n),r){"string"==typeof r&&(r=c.default.deserializeKeyframes(r));var s={};for(var u in r)s=Object.assign({},s,r[u]),this.addKeyframe(t,s,parseInt(u,10));this._getChildTimeline(t).extendLastFrame(i+n)}return this._setTimelinePosition(i,this.currentFrame,!0),this},e.prototype.aa=function(t,e){return this.addAction(t,e)},e.prototype.addAction=function(t,e){if("string"==typeof e){var i=this._labelDict[e];if(void 0===i)throw"The label '"+e+"' does not exist on this timeline";e=i}var n=this._actions;return n.length<=e&&(n.length=e+1),this._totalFrames<e&&(this._totalFrames=e),n[e]?n[e].push(t):n[e]=[t],this},e.prototype.ps=function(t,e){return this.playSound(t,e)},e.prototype.playSound=function(t,e){return PIXI.animate.sound.emit("play",t,!!e,this),this},e.prototype.play=function(){this.paused=!1},e.prototype.stop=function(){this.paused=!0},e.prototype.gotoAndPlay=function(t){this.paused=!1,this._goto(t)},e.prototype.gotoAndStop=function(t){this.paused=!0,this._goto(t)},e.prototype.advance=function(t){this._framerate||(this.framerate=this.parentFramerate),t&&(this._t+=t),this._t>this._duration&&(this._t=this.loop?this._t-this._duration:this._duration),this.currentFrame=Math.floor(this._t*this._framerate+1e-8),this.currentFrame>=this._totalFrames&&(this.currentFrame=this._totalFrames-1);var e=void 0;this._beforeUpdate&&(e=this._beforeUpdate(this)),this._updateTimeline(),e&&e()},e.prototype._goto=function(t){var e="string"==typeof t?this._labelDict[t]:t;void 0!==e&&(this._prevPos=NaN,this.currentFrame=e,this._framerate||(this.framerate=this.parentFramerate),this._framerate>0?this._t=e/this._framerate:this._t=0,this._updateTimeline())},e.prototype._reset=function(){this._prevPos=-1,this._t=0,this.currentFrame=0},e.prototype._updateTimeline=function(){
var t=this.mode!==e.INDEPENDENT;t&&(this.currentFrame=this.startPosition+(this.mode===e.SINGLE_FRAME?0:this._synchOffset),this.currentFrame>=this._totalFrames&&(this.currentFrame%=this._totalFrames)),this._prevPos!==this.currentFrame&&(this._setTimelinePosition(this._prevPos,this.currentFrame,!t&&this.actionsEnabled),this._prevPos=this.currentFrame)},e.prototype._setTimelinePosition=function(t,i,n){var r=void 0,o=void 0,a=void 0,s=this._timelines;for(r=s.length-1;r>=0;--r){var u=s[r];for(o=0,a=u.length;o<a;++o){var l=u[o];if(i>=l.startFrame&&i<=l.endFrame){l.setPosition(i);break}}}var h=this._timedChildTimelines,c=this._depthSorted;for(r=0,a=h.length;r<a;++r){var f=h[r].target,d=h[r][i];d?(c.push(f),f.parent!==this&&(this.addChild(f),f.mode===e.INDEPENDENT&&f.autoReset&&f._reset())):d||f.parent!==this||this.removeChild(f)}for(r=0,a=c.length;r<a;r++){var p=c[r],y=this.children.indexOf(p);y!==r&&this.addChildAt(p,r)}c.length=0;var v=this.children,m=void 0;for(r=0,a=v.length;r<a;++r)m=v[r],m.mode===e.SYNCHED&&(m._synchOffset=i-m.parentStartPosition,m._updateTimeline());if(n){var g=this._actions,_=!1;for(i<t?(a=g.length,_=!0):a=Math.min(i+1,g.length),r=t>=0?t+1:i;r<a;++r){if(g[r]){var b=g[r];for(o=0;o<b.length;++o)b[o].call(this)}_&&r===a-1&&(r=0,a=i+1,_=!1)}}},e.prototype.destroy=function(e){this._tickListener&&(d.remove(this._tickListener),this._tickListener=null);var i=[],n=this._timelines;if(n)for(var r=0;r<n.length;r++){var o=n[r];i.push(o.target),o._currentProps=null,o.length=0}if(n=this._timedChildTimelines)for(var a=0;a<n.length;a++){var s=n[a];i.indexOf(s.target)<0&&i.push(s.target),s._currentProps=null,s.length=0}for(var u=0;u<i.length;u++)this.children.indexOf(i[u])<0&&i[u].destroy(e);i.length=0,this._actions=null,this._timelines=null,this._depthSorted=null,this._timedChildTimelines=null,this._beforeUpdate=null,this._labels=null,this._labelDict=null,t.prototype.destroy.call(this,e)},s(e,[{key:"labels",get:function(){return this._labels}},{key:"labelsMap",get:function(){return this._labelDict}},{key:"currentLabel",get:function(){for(var t=this._labels,e=null,i=0,n=t.length;i<n&&t[i].position<=this.currentFrame;++i)e=t[i].label;return e}},{key:"elapsedTime",get:function(){return this._t},set:function(t){this._t=t}},{key:"framerate",get:function(){return this._framerate},set:function(t){t>0?(this._framerate=t,this._duration=t?this._totalFrames/t:0,this._t=this.currentFrame/t):this._t=this._framerate=this._duration=0}},{key:"totalFrames",get:function(){return this._totalFrames}},{key:"parentFramerate",get:function(){for(var t=this,i=t._framerate;(t=t.parent)&&!i;)t.mode===e.INDEPENDENT&&(i=t._framerate);return i||e.DEFAULT_FRAMERATE}}]),e}(f);p.INDEPENDENT=0,p.SINGLE_FRAME=1,p.SYNCHED=2,p.DEFAULT_FRAMERATE=24,p.extend=p.e=function(t){return t.prototype=Object.create(p.prototype),t.prototype.__parent=p.prototype,t.prototype.constructor=t,t},e.default=p},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(270),u=n(s),l=i(271),h=n(l),c=function(t){function e(i,n,a,s){r(this,e);var u=o(this,t.call(this,i,n,a,s));return u.sound=h.default,u.instance=null,u}return a(e,t),e.prototype.load=function(t,e,i){var n=this;return(0,u.default)(t,this.stage,function(t){n.instance=t,e&&e(t)},i)},e.prototype.destroy=function(e){this.instance&&(this.instance.destroy(!0),this.instance=null),t.prototype.destroy.call(this,e)},e}(PIXI.Application);e.default=c},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=i(267),o=n(r),a=function(){return function(t,e){var i=t.url,n=t.data;i.search(/\.shapes\.(json|txt)$/i)>-1?o.default.add(t.name,n):n.nodeName&&"IMG"===n.nodeName&&PIXI.Texture.addTextureToCache(PIXI.Texture.fromFrame(i),t.name),e()}};PIXI.loaders.Loader.addPixiMiddleware(a),e.default=a},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.VERSION=e.Tween=e.Timeline=e.SymbolLoader=e.ShapesCache=e.Scene=e.MovieClip=e.utils=e.sound=e.load=e.AnimatorTimeline=e.Animator=void 0;var r=i(270),o=n(r),a=i(271),s=n(a),u=i(129),l=n(u),h=i(696),c=n(h),f=i(697),d=n(f),p=i(267),y=n(p),v=i(698),m=n(v),g=i(268),_=n(g),b=i(269),w=n(b),x=i(695),T=n(x),S=i(266),E=n(S),C="1.3.2";e.Animator=T.default,e.AnimatorTimeline=E.default,e.load=o.default,e.sound=s.default,e.utils=l.default,e.MovieClip=c.default,e.Scene=d.default,e.ShapesCache=y.default,e.SymbolLoader=m.default,e.Timeline=_.default,e.Tween=w.default,e.VERSION=C},function(t,e,i){"use strict";if("undefined"==typeof PIXI)throw"Requires PIXI";PIXI.animate||(i(706),Object.defineProperty(PIXI,"animate",{enumerable:!0,get:function(){return i(699)}})),"undefined"!=typeof t&&t.exports&&(t.exports=PIXI.animate)},function(t,e){"use strict";var i=PIXI.Container.prototype;i.ac=i.addChild,PIXI.Container.extend=PIXI.Container.e=function(t){return t.prototype=Object.create(i),t.prototype.__parent=i,t.prototype.constructor=t,t}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var r=i(129),o=n(r),a=PIXI.DisplayObject.prototype,s=void 0;PIXI.filters&&(s=PIXI.filters.ColorMatrixFilter),a.setRenderable=a.re=function(t){return this.renderable=!!t,this},a.t=a.setTransform,a.setMask=a.ma=function(t){return t&&!(t instanceof PIXI.Graphics||t instanceof PIXI.Sprite)?("undefined"!=typeof console&&console.warn,this):(this.mask=t,this)},a.setAlpha=a.a=function(t){return this.alpha=t,this},a.setTint=a.i=function(t){"string"==typeof t&&(t=o.default.hexToUint(t));var e=t>>16&255,i=t>>8&255,n=255&t;return this.c(e/255,0,i/255,0,n/255,0)},a.setColorTransform=a.c=function(t,e,i,n,r,o){var a=this.colorTransformFilter;return a.matrix[0]=t,a.matrix[4]=e,a.matrix[6]=i,a.matrix[9]=n,a.matrix[12]=r,a.matrix[14]=o,this.filters=[a],this},a.hasOwnProperty("colorTransformFilter")||Object.defineProperty(a,"colorTransformFilter",{set:function(t){this._colorTransformFilter=t},get:function(){return this._colorTransformFilter||new s}}),PIXI.DisplayObject.extend=PIXI.DisplayObject.e=function(t){return t.prototype=Object.create(a),t.prototype.__parent=a,t.prototype.constructor=t,t}},function(t,e){"use strict";var i=PIXI.Graphics.prototype;i.drawCommands=i.d=function(t){for(var e,i=[],n=0;n<=t.length;){var r=t[n++];void 0===r||this[r]?(e&&(this[e].apply(this,i),i.length=0),e=r):i.push(r)}return this},i.c=i.closePath,i.h=i.addHole,i.m=i.moveTo,i.l=i.lineTo,i.q=i.quadraticCurveTo,i.b=i.bezierCurveTo,i.f=i.beginFill,i.s=i.lineStyle,i.dr=i.drawRect,i.rr=i.drawRoundedRect,i.rc=i.drawRoundedRect,i.dc=i.drawCircle,i.ar=i.arc,i.at=i.arcTo,i.de=i.drawEllipse,i.lf=function(t){return this.f(t[0])},i.rf=function(t){return this.f(t[0])},i.bf=function(){return this.f(0)},i.sd=function(){return this},i.bs=function(){return this},i.ls=function(){return this},i.rs=function(){return this}},function(t,e){"use strict";var i=PIXI.Sprite.prototype;PIXI.Sprite.extend=PIXI.Sprite.e=function(t){return t.prototype=Object.create(i),t.prototype.__parent=i,t.prototype.constructor=t,t}},function(t,e){"use strict";var i=PIXI.Text.prototype,n=["center","right"];i.setAlign=i.g=function(t){return"string"==typeof t&&(t=n.indexOf(t)),this.style.align=n[t]||"left",this.anchor.x=(t+1)/2,this};var r={o:"font",z:"fontSize",f:"fontFamily",y:"fontStyle",g:"fontWeight",i:"fill",a:"align",s:"stroke",t:"strokeThickness",w:"wordWrap",d:"wordWrapWidth",l:"lineHeight",h:"dropShadow",c:"dropShadowColor",n:"dropShadowAngle",b:"dropShadowBlur",p:"padding",x:"textBaseline",j:"lineJoin",m:"miterLimit",e:"letterSpacing"};i.setStyle=i.ss=function(t){for(var e in r)void 0!==t[e]&&(t[r[e]]=t[e],delete t[e]);return this.style=t,this},i.setShadow=i.sh=function(t,e,i){var n=this.style;return n.dropShadow=!0,void 0!==t&&(t="#"+t.toString(16)),n.dropShadowColor=o(t,n.dropShadowColor),n.dropShadowAngle=o(e,n.dropShadowAngle),n.dropShadowDistance=o(i,n.dropShadowDistance),this};var o=function(t,e){return void 0===t?e:t}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=i(701),o=n(r),a=i(702),s=n(a),u=i(704),l=n(u),h=i(703),c=n(h),f=i(705),d=n(f);e.default={Container:o.default,DisplayObject:s.default,Sprite:l.default,Graphics:c.default,Text:d.default}},function(t,e){var i=new ArrayBuffer(0),n=function(t,e,n,r){this.gl=t,this.buffer=t.createBuffer(),this.type=e||t.ARRAY_BUFFER,this.drawType=r||t.STATIC_DRAW,this.data=i,n&&this.upload(n),this._updateID=0};n.prototype.upload=function(t,e,i){i||this.bind();var n=this.gl;t=t||this.data,e=e||0,this.data.byteLength>=t.byteLength?n.bufferSubData(this.type,e,t):n.bufferData(this.type,t,this.drawType),this.data=t},n.prototype.bind=function(){var t=this.gl;t.bindBuffer(this.type,this.buffer)},n.createVertexBuffer=function(t,e,i){return new n(t,t.ARRAY_BUFFER,e,i)},n.createIndexBuffer=function(t,e,i){return new n(t,t.ELEMENT_ARRAY_BUFFER,e,i)},n.create=function(t,e,i,r){return new n(t,e,i,r)},n.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},t.exports=n},function(t,e,i){var n=i(272),r=function(t,e,i){this.gl=t,this.framebuffer=t.createFramebuffer(),this.stencil=null,this.texture=null,this.width=e||100,this.height=i||100};r.prototype.enableTexture=function(t){var e=this.gl;this.texture=t||new n(e),this.texture.bind(),this.bind(),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,this.texture.texture,0)},r.prototype.enableStencil=function(){if(!this.stencil){var t=this.gl;this.stencil=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,this.stencil),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,this.stencil),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,this.width,this.height)}},r.prototype.clear=function(t,e,i,n){this.bind();var r=this.gl;r.clearColor(t,e,i,n),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT)},r.prototype.bind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.framebuffer)},r.prototype.unbind=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},r.prototype.resize=function(t,e){var i=this.gl;this.width=t,this.height=e,this.texture&&this.texture.uploadData(null,t,e),this.stencil&&(i.bindRenderbuffer(i.RENDERBUFFER,this.stencil),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,t,e))},r.prototype.destroy=function(){var t=this.gl;this.texture&&this.texture.destroy(),t.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},r.createRGBA=function(t,e,i,o){var a=n.fromData(t,null,e,i);a.enableNearestScaling(),a.enableWrapClamp();var s=new r(t,e,i);return s.enableTexture(a),s.unbind(),s},r.createFloat32=function(t,e,i,o){var a=new n.fromData(t,o,e,i);a.enableNearestScaling(),a.enableWrapClamp();var s=new r(t,e,i);return s.enableTexture(a),s.unbind(),s},t.exports=r},function(t,e,i){var n=i(274),r=i(276),o=i(277),a=i(280),s=i(278),u=function(t,e,i,u,l){this.gl=t,u&&(e=a(e,u),i=a(i,u)),this.program=n(t,e,i,l),this.attributes=r(t,this.program),this.uniformData=o(t,this.program),this.uniforms=s(t,this.uniformData)};u.prototype.bind=function(){this.gl.useProgram(this.program)},u.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null;var t=this.gl;t.deleteProgram(this.program)},t.exports=u},function(t,e,i){function n(t,e){if(this.nativeVaoExtension=null,n.FORCE_NATIVE||(this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=e,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var i=t.getParameter(t.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(i),attribState:new Array(i)}}this.gl=t,this.attributes=[],this.indexBuffer=null,this.dirty=!1}var r=i(273);n.prototype.constructor=n,t.exports=n,n.FORCE_NATIVE=!1,n.prototype.bind=function(){return this.nativeVao?(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty&&(this.dirty=!1,this.activate())):this.activate(),this},n.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},n.prototype.activate=function(){for(var t=this.gl,e=null,i=0;i<this.attributes.length;i++){var n=this.attributes[i];e!==n.buffer&&(n.buffer.bind(),e=n.buffer),t.vertexAttribPointer(n.attribute.location,n.attribute.size,n.type||t.FLOAT,n.normalized||!1,n.stride||0,n.start||0)}return r(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},n.prototype.addAttribute=function(t,e,i,n,r,o){return this.attributes.push({buffer:t,attribute:e,location:e.location,type:i||this.gl.FLOAT,normalized:n||!1,stride:r||0,start:o||0}),this.dirty=!0,this},n.prototype.addIndex=function(t){return this.indexBuffer=t,this.dirty=!0,this},n.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},n.prototype.draw=function(t,e,i){var n=this.gl;return this.indexBuffer?n.drawElements(t,e||this.indexBuffer.data.length,n.UNSIGNED_SHORT,2*(i||0)):n.drawArrays(t,i,e||this.getSize()),this},n.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},n.prototype.getSize=function(){var t=this.attributes[0];return t.buffer.data.length/(t.stride/4||t.attribute.size)}},function(t,e){var i=function(t,e){var i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e);if(!i)throw new Error("This browser does not support webGL. Try using the canvas renderer");return i};t.exports=i},function(t,e,i){t.exports={compileProgram:i(274),defaultValue:i(275),extractAttributes:i(276),extractUniforms:i(277),generateUniformAccessObject:i(278),setPrecision:i(280),mapSize:i(279),mapType:i(179)}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=i(9),s=r(a),u=i(172),l=n(u),h=i(281),c=n(h);s.utils.mixins.delayMixin(s.DisplayObject.prototype,c.default);var f=9,d=100,p=0,y=0,v=2,m=1,g=-1e3,_=-1e3,b=2,w=function(){function t(e){o(this,t),!l.default.tablet&&!l.default.phone||navigator.isCocoonJS||this.createTouchHook();var i=document.createElement("div");i.style.width=d+"px",i.style.height=d+"px",i.style.position="absolute",i.style.top=p+"px",i.style.left=y+"px",i.style.zIndex=v,this.div=i,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return t.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width=m+"px",e.style.height=m+"px",e.style.position="absolute",e.style.top=g+"px",e.style.left=_+"px",e.style.zIndex=b,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",function(){t.isMobileAccessabillity=!0,t.activate(),document.body.removeChild(e)}),document.body.appendChild(e)},t.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},t.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},t.prototype.updateAccessibleObjects=function(t){if(t.visible){t.accessible&&t.interactive&&(t._accessibleActive||this.addChild(t),t.renderId=this.renderId);for(var e=t.children,i=e.length-1;i>=0;i--)this.updateAccessibleObjects(e[i])}},t.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t=this.renderer.view.getBoundingClientRect(),e=t.width/this.renderer.width,i=t.height/this.renderer.height,n=this.div;n.style.left=t.left+"px",n.style.top=t.top+"px",n.style.width=this.renderer.width+"px",n.style.height=this.renderer.height+"px";for(var r=0;r<this.children.length;r++){var o=this.children[r];if(o.renderId!==this.renderId)o._accessibleActive=!1,s.utils.removeItems(this.children,r,1),this.div.removeChild(o._accessibleDiv),this.pool.push(o._accessibleDiv),o._accessibleDiv=null,r--,0===this.children.length&&this.deactivate();else{n=o._accessibleDiv;var a=o.hitArea,u=o.worldTransform;o.hitArea?(n.style.left=(u.tx+a.x*u.a)*e+"px",n.style.top=(u.ty+a.y*u.d)*i+"px",n.style.width=a.width*u.a*e+"px",n.style.height=a.height*u.d*i+"px"):(a=o.getBounds(),this.capHitArea(a),n.style.left=a.x*e+"px",n.style.top=a.y*i+"px",n.style.width=a.width*e+"px",n.style.height=a.height*i+"px")}}this.renderId++}},t.prototype.capHitArea=function(t){t.x<0&&(t.width+=t.x,t.x=0),t.y<0&&(t.height+=t.y,t.y=0),t.x+t.width>this.renderer.width&&(t.width=this.renderer.width-t.x),t.y+t.height>this.renderer.height&&(t.height=this.renderer.height-t.y)},t.prototype.addChild=function(t){var e=this.pool.pop();e||(e=document.createElement("button"),e.style.width=d+"px",e.style.height=d+"px",e.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",e.style.position="absolute",e.style.zIndex=v,e.style.borderStyle="none",e.addEventListener("click",this._onClick.bind(this)),e.addEventListener("focus",this._onFocus.bind(this)),e.addEventListener("focusout",this._onFocusOut.bind(this))),t.accessibleTitle?e.title=t.accessibleTitle:t.accessibleTitle||t.accessibleHint||(e.title="displayObject "+this.tabIndex),t.accessibleHint&&e.setAttribute("aria-label",t.accessibleHint),t._accessibleActive=!0,t._accessibleDiv=e,e.displayObject=t,this.children.push(t),this.div.appendChild(t._accessibleDiv),t._accessibleDiv.tabIndex=t.tabIndex},t.prototype._onClick=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"click",e.eventData)},t.prototype._onFocus=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseover",e.eventData)},t.prototype._onFocusOut=function(t){var e=this.renderer.plugins.interaction;e.dispatchEvent(t.target.displayObject,"mouseout",e.eventData)},t.prototype._onKeyDown=function(t){t.keyCode===f&&this.activate()},t.prototype._onMouseMove=function(){this.deactivate()},t.prototype.destroy=function(){this.div=null;for(var t=0;t<this.children.length;t++)this.children[t].div=null;window.document.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},t}();e.default=w,s.WebGLRenderer.registerPlugin("accessibility",w),s.CanvasRenderer.registerPlugin("accessibility",w)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=i(281);Object.defineProperty(e,"accessibleTarget",{enumerable:!0,get:function(){return n(r).default}});var o=i(713);Object.defineProperty(e,"AccessibilityManager",{enumerable:!0,get:function(){return n(o).default}})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(97),u=n(s),l=i(187),h=n(l),c=i(76),f=n(c),d=i(287),p=n(d),y=i(185),v=n(y),m=i(26),g=i(13),_=i(8),b=i(180),w=n(b),x=i(717),T=n(x),S=i(98),E=n(S),C=void 0,P=new m.Matrix,M=new m.Point,A=new Float32Array(4),O=new Float32Array(4),k=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]&&arguments[0];r(this,e);var n=o(this,t.call(this));return n.fillAlpha=1,n.lineWidth=0,n.nativeLines=i,n.lineColor=0,n.graphicsData=[],n.tint=16777215,n._prevTint=16777215,n.blendMode=_.BLEND_MODES.NORMAL,n.currentPath=null,n._webGL={},n.isMask=!1,n.boundsPadding=0,n._localBounds=new w.default,n.dirty=0,n.fastRectDirty=-1,n.clearDirty=0,n.boundsDirty=-1,n.cachedSpriteDirty=!1,n._spriteRect=null,n._fastRect=!1,n}return a(e,t),e.prototype.clone=function t(){var t=new e;t.renderable=this.renderable,t.fillAlpha=this.fillAlpha,t.lineWidth=this.lineWidth,t.lineColor=this.lineColor,t.tint=this.tint,t.blendMode=this.blendMode,t.isMask=this.isMask,t.boundsPadding=this.boundsPadding,t.dirty=0,t.cachedSpriteDirty=this.cachedSpriteDirty;for(var i=0;i<this.graphicsData.length;++i)t.graphicsData.push(this.graphicsData[i].clone());return t.currentPath=t.graphicsData[t.graphicsData.length-1],t.updateLocalBounds(),t},e.prototype.lineStyle=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(this.lineWidth=t,this.lineColor=e,this.lineAlpha=i,this.currentPath)if(this.currentPath.shape.points.length){var n=new m.Polygon(this.currentPath.shape.points.slice(-2));n.closed=!1,this.drawShape(n)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha;return this},e.prototype.moveTo=function(t,e){var i=new m.Polygon([t,e]);return i.closed=!1,this.drawShape(i),this},e.prototype.lineTo=function(t,e){return this.currentPath.shape.points.push(t,e),this.dirty++,this},e.prototype.quadraticCurveTo=function(t,e,i,n){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var r=20,o=this.currentPath.shape.points,a=0,s=0;0===o.length&&this.moveTo(0,0);for(var u=o[o.length-2],l=o[o.length-1],h=1;h<=r;++h){var c=h/r;a=u+(t-u)*c,s=l+(e-l)*c,o.push(a+(t+(i-t)*c-a)*c,s+(e+(n-e)*c-s)*c)}return this.dirty++,this},e.prototype.bezierCurveTo=function(t,e,i,n,r,o){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var a=this.currentPath.shape.points,s=a[a.length-2],u=a[a.length-1];return a.length-=2,(0,T.default)(s,u,t,e,i,n,r,o,a),this.dirty++,this},e.prototype.arcTo=function(t,e,i,n,r){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(t,e):this.moveTo(t,e);var o=this.currentPath.shape.points,a=o[o.length-2],s=o[o.length-1],u=s-e,l=a-t,h=n-e,c=i-t,f=Math.abs(u*c-l*h);if(f<1e-8||0===r)o[o.length-2]===t&&o[o.length-1]===e||o.push(t,e);else{var d=u*u+l*l,p=h*h+c*c,y=u*h+l*c,v=r*Math.sqrt(d)/f,m=r*Math.sqrt(p)/f,g=v*y/d,_=m*y/p,b=v*c+m*l,w=v*h+m*u,x=l*(m+g),T=u*(m+g),S=c*(v+_),E=h*(v+_),C=Math.atan2(T-w,x-b),P=Math.atan2(E-w,S-b);this.arc(b+t,w+e,r,C,P,l*h>c*u)}return this.dirty++,this},e.prototype.arc=function(t,e,i,n,r){var o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(n===r)return this;!o&&r<=n?r+=2*Math.PI:o&&n<=r&&(n+=2*Math.PI);var a=r-n,s=40*Math.ceil(Math.abs(a)/(2*Math.PI));if(0===a)return this;var u=t+Math.cos(n)*i,l=e+Math.sin(n)*i,h=this.currentPath?this.currentPath.shape.points:null;h?h[h.length-2]===u&&h[h.length-1]===l||h.push(u,l):(this.moveTo(u,l),h=this.currentPath.shape.points);for(var c=a/(2*s),f=2*c,d=Math.cos(c),p=Math.sin(c),y=s-1,v=y%1/y,m=0;m<=y;++m){var g=m+v*m,_=c+n+f*g,b=Math.cos(_),w=-Math.sin(_);h.push((d*b+p*w)*i+t,(d*-w+p*b)*i+e)}return this.dirty++,this},e.prototype.beginFill=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=t,this.fillAlpha=e,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},e.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},e.prototype.drawRect=function(t,e,i,n){return this.drawShape(new m.Rectangle(t,e,i,n)),this},e.prototype.drawRoundedRect=function(t,e,i,n,r){return this.drawShape(new m.RoundedRectangle(t,e,i,n,r)),this},e.prototype.drawCircle=function(t,e,i){return this.drawShape(new m.Circle(t,e,i)),this},e.prototype.drawEllipse=function(t,e,i,n){return this.drawShape(new m.Ellipse(t,e,i,n)),this},e.prototype.drawPolygon=function(t){var e=t,i=!0;if(e instanceof m.Polygon&&(i=e.closed,e=e.points),!Array.isArray(e)){e=new Array(arguments.length);for(var n=0;n<e.length;++n)e[n]=arguments[n]}var r=new m.Polygon(e);return r.closed=i,this.drawShape(r),this},e.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},e.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===_.SHAPES.RECT&&!this.graphicsData[0].lineWidth},e.prototype._renderWebGL=function(t){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(t):(t.setObjectRenderer(t.plugins.graphics),t.plugins.graphics.render(this))},e.prototype._renderSpriteRect=function(t){var e=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new v.default(new f.default(f.default.WHITE)));var i=this._spriteRect;if(16777215===this.tint)i.tint=this.graphicsData[0].fillColor;else{var n=A,r=O;(0,g.hex2rgb)(this.graphicsData[0].fillColor,n),(0,g.hex2rgb)(this.tint,r),n[0]*=r[0],n[1]*=r[1],n[2]*=r[2],i.tint=(0,g.rgb2hex)(n)}i.alpha=this.graphicsData[0].fillAlpha,i.worldAlpha=this.worldAlpha*i.alpha,i.blendMode=this.blendMode,i._texture._frame.width=e.width,i._texture._frame.height=e.height,i.transform.worldTransform=this.transform.worldTransform,i.anchor.set(-e.x/e.width,-e.y/e.height),i._onAnchorUpdate(),i._renderWebGL(t)},e.prototype._renderCanvas=function(t){this.isMask!==!0&&t.plugins.graphics.render(this)},e.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var t=this._localBounds;this._bounds.addFrame(this.transform,t.minX,t.minY,t.maxX,t.maxY)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,M);for(var e=this.graphicsData,i=0;i<e.length;++i){var n=e[i];if(n.fill&&n.shape&&n.shape.contains(M.x,M.y)){if(n.holes)for(var r=0;r<n.holes.length;r++){var o=n.holes[r];if(o.contains(M.x,M.y))return!1}return!0}}return!1},e.prototype.updateLocalBounds=function(){var t=1/0,e=-(1/0),i=1/0,n=-(1/0);if(this.graphicsData.length)for(var r=0,o=0,a=0,s=0,u=0,l=0;l<this.graphicsData.length;l++){var h=this.graphicsData[l],c=h.type,f=h.lineWidth;if(r=h.shape,c===_.SHAPES.RECT||c===_.SHAPES.RREC)o=r.x-f/2,a=r.y-f/2,s=r.width+f,u=r.height+f,t=o<t?o:t,e=o+s>e?o+s:e,i=a<i?a:i,n=a+u>n?a+u:n;else if(c===_.SHAPES.CIRC)o=r.x,a=r.y,s=r.radius+f/2,u=r.radius+f/2,t=o-s<t?o-s:t,e=o+s>e?o+s:e,i=a-u<i?a-u:i,n=a+u>n?a+u:n;else if(c===_.SHAPES.ELIP)o=r.x,a=r.y,s=r.width+f/2,u=r.height+f/2,t=o-s<t?o-s:t,e=o+s>e?o+s:e,i=a-u<i?a-u:i,n=a+u>n?a+u:n;else for(var d=r.points,p=0,y=0,v=0,m=0,g=0,b=0,w=0,x=0,T=0;T+2<d.length;T+=2)o=d[T],a=d[T+1],p=d[T+2],y=d[T+3],v=Math.abs(p-o),m=Math.abs(y-a),u=f,s=Math.sqrt(v*v+m*m),s<1e-9||(g=(u/s*m+v)/2,b=(u/s*v+m)/2,w=(p+o)/2,x=(y+a)/2,t=w-g<t?w-g:t,e=w+g>e?w+g:e,i=x-b<i?x-b:i,n=x+b>n?x+b:n)}else t=0,e=0,i=0,n=0;var S=this.boundsPadding;this._localBounds.minX=t-S,this._localBounds.maxX=e+S,this._localBounds.minY=i-S,this._localBounds.maxY=n+S},e.prototype.drawShape=function(t){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var e=new p.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,t);return this.graphicsData.push(e),e.type===_.SHAPES.POLY&&(e.shape.closed=e.shape.closed||this.filling,this.currentPath=e),this.dirty++,e},e.prototype.generateCanvasTexture=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,i=this.getLocalBounds(),n=h.default.create(i.width,i.height,t,e);C||(C=new E.default),this.transform.updateLocalTransform(),this.transform.localTransform.copy(P),P.invert(),P.tx-=i.x,P.ty-=i.y,C.render(this,n,!0,P);var r=f.default.fromCanvas(n.baseTexture._canvasRenderTarget.canvas,t,"graphics");return r.baseTexture.resolution=e,r.baseTexture.update(),r},e.prototype.closePath=function(){var t=this.currentPath;return t&&t.shape&&t.shape.close(),this},e.prototype.addHole=function(){var t=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(t.shape),this.currentPath=null,this},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e);for(var i=0;i<this.graphicsData.length;++i)this.graphicsData[i].destroy();for(var n in this._webgl)for(var r=0;r<this._webgl[n].data.length;++r)this._webgl[n].data[r].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null},e}(u.default);e.default=k,k._SPRITE_TEXTURE=null},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=i(98),a=n(o),s=i(8),u=function(){function t(e){r(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,i=e.context,n=t.worldAlpha,r=t.transform.worldTransform,o=e.resolution;this._prevTint!==this.tint&&(this.dirty=!0),i.setTransform(r.a*o,r.b*o,r.c*o,r.d*o,r.tx*o,r.ty*o),t.dirty&&(this.updateGraphicsTint(t),t.dirty=!1),e.setBlendMode(t.blendMode);for(var a=0;a<t.graphicsData.length;a++){var u=t.graphicsData[a],l=u.shape,h=u._fillTint,c=u._lineTint;if(i.lineWidth=u.lineWidth,u.type===s.SHAPES.POLY){i.beginPath(),this.renderPolygon(l.points,l.closed,i);for(var f=0;f<u.holes.length;f++)this.renderPolygon(u.holes[f].points,!0,i);u.fill&&(i.globalAlpha=u.fillAlpha*n,i.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),i.fill()),u.lineWidth&&(i.globalAlpha=u.lineAlpha*n,i.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),i.stroke())}else if(u.type===s.SHAPES.RECT)(u.fillColor||0===u.fillColor)&&(i.globalAlpha=u.fillAlpha*n,i.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),i.fillRect(l.x,l.y,l.width,l.height)),u.lineWidth&&(i.globalAlpha=u.lineAlpha*n,i.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),i.strokeRect(l.x,l.y,l.width,l.height));else if(u.type===s.SHAPES.CIRC)i.beginPath(),i.arc(l.x,l.y,l.radius,0,2*Math.PI),i.closePath(),u.fill&&(i.globalAlpha=u.fillAlpha*n,
i.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),i.fill()),u.lineWidth&&(i.globalAlpha=u.lineAlpha*n,i.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),i.stroke());else if(u.type===s.SHAPES.ELIP){var d=2*l.width,p=2*l.height,y=l.x-d/2,v=l.y-p/2;i.beginPath();var m=.5522848,g=d/2*m,_=p/2*m,b=y+d,w=v+p,x=y+d/2,T=v+p/2;i.moveTo(y,T),i.bezierCurveTo(y,T-_,x-g,v,x,v),i.bezierCurveTo(x+g,v,b,T-_,b,T),i.bezierCurveTo(b,T+_,x+g,w,x,w),i.bezierCurveTo(x-g,w,y,T+_,y,T),i.closePath(),u.fill&&(i.globalAlpha=u.fillAlpha*n,i.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),i.fill()),u.lineWidth&&(i.globalAlpha=u.lineAlpha*n,i.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),i.stroke())}else if(u.type===s.SHAPES.RREC){var S=l.x,E=l.y,C=l.width,P=l.height,M=l.radius,A=Math.min(C,P)/2|0;M=M>A?A:M,i.beginPath(),i.moveTo(S,E+M),i.lineTo(S,E+P-M),i.quadraticCurveTo(S,E+P,S+M,E+P),i.lineTo(S+C-M,E+P),i.quadraticCurveTo(S+C,E+P,S+C,E+P-M),i.lineTo(S+C,E+M),i.quadraticCurveTo(S+C,E,S+C-M,E),i.lineTo(S+M,E),i.quadraticCurveTo(S,E,S,E+M),i.closePath(),(u.fillColor||0===u.fillColor)&&(i.globalAlpha=u.fillAlpha*n,i.fillStyle="#"+("00000"+(0|h).toString(16)).substr(-6),i.fill()),u.lineWidth&&(i.globalAlpha=u.lineAlpha*n,i.strokeStyle="#"+("00000"+(0|c).toString(16)).substr(-6),i.stroke())}}},t.prototype.updateGraphicsTint=function(t){t._prevTint=t.tint;for(var e=(t.tint>>16&255)/255,i=(t.tint>>8&255)/255,n=(255&t.tint)/255,r=0;r<t.graphicsData.length;++r){var o=t.graphicsData[r],a=0|o.fillColor,s=0|o.lineColor;o._fillTint=((a>>16&255)/255*e*255<<16)+((a>>8&255)/255*i*255<<8)+(255&a)/255*n*255,o._lineTint=((s>>16&255)/255*e*255<<16)+((s>>8&255)/255*i*255<<8)+(255&s)/255*n*255}},t.prototype.renderPolygon=function(t,e,i){i.moveTo(t[0],t[1]);for(var n=1;n<t.length/2;++n)i.lineTo(t[2*n],t[2*n+1]);e&&i.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=u,a.default.registerPlugin("graphics",u)},function(t,e){"use strict";function i(t,e,i,n,r,o,a,s){var u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[],l=20,h=0,c=0,f=0,d=0,p=0;u.push(t,e);for(var y=1,v=0;y<=l;++y)v=y/l,h=1-v,c=h*h,f=c*h,d=v*v,p=d*v,u.push(f*t+3*c*v*i+3*h*d*r+p*a,f*e+3*c*v*n+3*h*d*o+p*s);return u}e.__esModule=!0,e.default=i},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(13),u=i(8),l=i(132),h=n(l),c=i(131),f=n(c),d=i(719),p=n(d),y=i(720),v=n(y),m=i(722),g=n(m),_=i(723),b=n(_),w=i(724),x=n(w),T=i(721),S=n(T),E=function(t){function e(i){r(this,e);var n=o(this,t.call(this,i));return n.graphicsDataPool=[],n.primitiveShader=null,n.gl=i.gl,n.CONTEXT_UID=0,n}return a(e,t),e.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new v.default(this.gl)},e.prototype.destroy=function(){h.default.prototype.destroy.call(this);for(var t=0;t<this.graphicsDataPool.length;++t)this.graphicsDataPool[t].destroy();this.graphicsDataPool=null},e.prototype.render=function(t){var e=this.renderer,i=e.gl,n=void 0,r=t._webGL[this.CONTEXT_UID];r&&t.dirty===r.dirty||(this.updateGraphics(t),r=t._webGL[this.CONTEXT_UID]);var o=this.primitiveShader;e.bindShader(o),e.state.setBlendMode(t.blendMode);for(var a=0,u=r.data.length;a<u;a++){n=r.data[a];var l=n.shader;e.bindShader(l),l.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),l.uniforms.tint=(0,s.hex2rgb)(t.tint),l.uniforms.alpha=t.worldAlpha,e.bindVao(n.vao),n.nativeLines?i.drawArrays(i.LINES,0,n.points.length/6):n.vao.draw(i.TRIANGLE_STRIP,n.indices.length)}},e.prototype.updateGraphics=function(t){var e=this.renderer.gl,i=t._webGL[this.CONTEXT_UID];if(i||(i=t._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:e,clearDirty:-1,dirty:-1}),i.dirty=t.dirty,t.clearDirty!==i.clearDirty){i.clearDirty=t.clearDirty;for(var n=0;n<i.data.length;n++)this.graphicsDataPool.push(i.data[n]);i.data.length=0,i.lastIndex=0}for(var r=void 0,o=void 0,a=i.lastIndex;a<t.graphicsData.length;a++){var s=t.graphicsData[a];r=this.getWebGLData(i,0),s.nativeLines&&s.lineWidth&&(o=this.getWebGLData(i,0,!0),i.lastIndex++),s.type===u.SHAPES.POLY&&(0,g.default)(s,r,o),s.type===u.SHAPES.RECT?(0,b.default)(s,r,o):s.type===u.SHAPES.CIRC||s.type===u.SHAPES.ELIP?(0,S.default)(s,r,o):s.type===u.SHAPES.RREC&&(0,x.default)(s,r,o),i.lastIndex++}this.renderer.bindVao(null);for(var l=0;l<i.data.length;l++)r=i.data[l],r.dirty&&r.upload()},e.prototype.getWebGLData=function(t,e,i){var n=t.data[t.data.length-1];return(!n||n.nativeLines!==i||n.points.length>32e4)&&(n=this.graphicsDataPool.pop()||new p.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),n.nativeLines=i,n.reset(e),t.data.push(n)),n.dirty=!0,n},e}(h.default);e.default=E,f.default.registerPlugin("graphics",E)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=i(40),a=n(o),s=function(){function t(e,i,n){r(this,t),this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=a.default.GLBuffer.createVertexBuffer(e),this.indexBuffer=a.default.GLBuffer.createIndexBuffer(e),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=i,this.vao=new a.default.VertexArrayObject(e,n).addIndex(this.indexBuffer).addAttribute(this.buffer,i.attributes.aVertexPosition,e.FLOAT,!1,24,0).addAttribute(this.buffer,i.attributes.aColor,e.FLOAT,!1,24,8)}return t.prototype.reset=function(){this.points.length=0,this.indices.length=0},t.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},t.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},t}();e.default=s},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(96),u=n(s),l=function(t){function e(i){return r(this,e),o(this,t.call(this,i,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return a(e,t),e}(u.default);e.default=l},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i){var n=t.shape,r=n.x,o=n.y,l=void 0,h=void 0;if(t.type===s.SHAPES.CIRC?(l=n.radius,h=n.radius):(l=n.width,h=n.height),0!==l&&0!==h){var c=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(n.width+n.height)),f=2*Math.PI/c;if(t.fill){var d=(0,u.hex2rgb)(t.fillColor),p=t.fillAlpha,y=d[0]*p,v=d[1]*p,m=d[2]*p,g=e.points,_=e.indices,b=g.length/6;_.push(b);for(var w=0;w<c+1;w++)g.push(r,o,y,v,m,p),g.push(r+Math.sin(f*w)*l,o+Math.cos(f*w)*h,y,v,m,p),_.push(b++,b++);_.push(b-1)}if(t.lineWidth){var x=t.points;t.points=[];for(var T=0;T<c+1;T++)t.points.push(r+Math.sin(f*T)*l,o+Math.cos(f*T)*h);(0,a.default)(t,e,i),t.points=x}}}e.__esModule=!0,e.default=r;var o=i(130),a=n(o),s=i(8),u=i(13)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i){t.points=t.shape.points.slice();var n=t.points;if(t.fill&&n.length>=6){for(var r=[],o=t.holes,u=0;u<o.length;u++){var h=o[u];r.push(n.length/2),n=n.concat(h.points)}var c=e.points,f=e.indices,d=n.length/2,p=(0,s.hex2rgb)(t.fillColor),y=t.fillAlpha,v=p[0]*y,m=p[1]*y,g=p[2]*y,_=(0,l.default)(n,r,2);if(!_)return;for(var b=c.length/6,w=0;w<_.length;w+=3)f.push(_[w]+b),f.push(_[w]+b),f.push(_[w+1]+b),f.push(_[w+2]+b),f.push(_[w+2]+b);for(var x=0;x<d;x++)c.push(n[2*x],n[2*x+1],v,m,g,y)}t.lineWidth>0&&(0,a.default)(t,e,i)}e.__esModule=!0,e.default=r;var o=i(130),a=n(o),s=i(13),u=i(238),l=n(u)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i){var n=t.shape,r=n.x,o=n.y,u=n.width,l=n.height;if(t.fill){var h=(0,s.hex2rgb)(t.fillColor),c=t.fillAlpha,f=h[0]*c,d=h[1]*c,p=h[2]*c,y=e.points,v=e.indices,m=y.length/6;y.push(r,o),y.push(f,d,p,c),y.push(r+u,o),y.push(f,d,p,c),y.push(r,o+l),y.push(f,d,p,c),y.push(r+u,o+l),y.push(f,d,p,c),v.push(m,m,m+1,m+2,m+3,m+3)}if(t.lineWidth){var g=t.points;t.points=[r,o,r+u,o,r+u,o+l,r,o+l,r,o],(0,a.default)(t,e,i),t.points=g}}e.__esModule=!0,e.default=r;var o=i(130),a=n(o),s=i(13)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i){var n=t.shape,r=n.x,o=n.y,s=n.width,l=n.height,f=n.radius,d=[];if(d.push(r,o+f),a(r,o+l-f,r,o+l,r+f,o+l,d),a(r+s-f,o+l,r+s,o+l,r+s,o+l-f,d),a(r+s,o+f,r+s,o,r+s-f,o,d),a(r+f,o,r,o,r,o+f+1e-10,d),t.fill){for(var p=(0,c.hex2rgb)(t.fillColor),y=t.fillAlpha,v=p[0]*y,m=p[1]*y,g=p[2]*y,_=e.points,b=e.indices,w=_.length/6,x=(0,u.default)(d,null,2),T=0,S=x.length;T<S;T+=3)b.push(x[T]+w),b.push(x[T]+w),b.push(x[T+1]+w),b.push(x[T+2]+w),b.push(x[T+2]+w);for(var E=0,C=d.length;E<C;E++)_.push(d[E],d[++E],v,m,g,y)}if(t.lineWidth){var P=t.points;t.points=d,(0,h.default)(t,e,i),t.points=P}}function o(t,e,i){var n=e-t;return t+n*i}function a(t,e,i,n,r,a){for(var s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],u=20,l=s,h=0,c=0,f=0,d=0,p=0,y=0,v=0,m=0;v<=u;++v)m=v/u,h=o(t,i,m),c=o(e,n,m),f=o(i,r,m),d=o(n,a,m),p=o(h,f,m),y=o(c,d,m),l.push(p,y);return l}e.__esModule=!0,e.default=r;var s=i(238),u=n(s),l=i(130),h=n(l),c=i(13)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=i(184),a=n(o),s=i(8),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;r(this,t),this.x=e,this.y=i,this.radius=n,this.type=s.SHAPES.CIRC}return t.prototype.clone=function(){return new t(this.x,this.y,this.radius)},t.prototype.contains=function(t,e){if(this.radius<=0)return!1;var i=this.radius*this.radius,n=this.x-t,r=this.y-e;return n*=n,r*=r,n+r<=i},t.prototype.getBounds=function(){return new a.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},t}();e.default=u},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=i(184),a=n(o),s=i(8),u=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;r(this,t),this.x=e,this.y=i,this.width=n,this.height=o,this.type=s.SHAPES.ELIP}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;var i=(t-this.x)/this.width,n=(e-this.y)/this.height;return i*=i,n*=n,i+n<=1},t.prototype.getBounds=function(){return new a.default(this.x-this.width,this.y-this.height,this.width,this.height)},t}();e.default=u},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=i(183),a=n(o),s=i(8),u=function(){function t(){for(var e=arguments.length,i=Array(e),n=0;n<e;n++)i[n]=arguments[n];if(r(this,t),Array.isArray(i[0])&&(i=i[0]),i[0]instanceof a.default){for(var o=[],u=0,l=i.length;u<l;u++)o.push(i[u].x,i[u].y);i=o}this.closed=!0,this.points=i,this.type=s.SHAPES.POLY}return t.prototype.clone=function(){return new t(this.points.slice())},t.prototype.close=function(){var t=this.points;t[0]===t[t.length-2]&&t[1]===t[t.length-1]||t.push(t[0],t[1])},t.prototype.contains=function(t,e){for(var i=!1,n=this.points.length/2,r=0,o=n-1;r<n;o=r++){var a=this.points[2*r],s=this.points[2*r+1],u=this.points[2*o],l=this.points[2*o+1],h=s>e!=l>e&&t<(u-a)*((e-s)/(l-s))+a;h&&(i=!i)}return i},t}();e.default=u},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=i(8),o=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;n(this,t),this.x=e,this.y=i,this.width=o,this.height=a,this.radius=s,this.type=r.SHAPES.RREC}return t.prototype.clone=function(){return new t(this.x,this.y,this.width,this.height,this.radius)},t.prototype.contains=function(t,e){if(this.width<=0||this.height<=0)return!1;if(t>=this.x&&t<=this.x+this.width&&e>=this.y&&e<=this.y+this.height){if(e>=this.y+this.radius&&e<=this.y+this.height-this.radius||t>=this.x+this.radius&&t<=this.x+this.width-this.radius)return!0;var i=t-(this.x+this.radius),n=e-(this.y+this.radius),r=this.radius*this.radius;if(i*i+n*n<=r)return!0;if(i=t-(this.x+this.width-this.radius),i*i+n*n<=r)return!0;if(n=e-(this.y+this.height-this.radius),i*i+n*n<=r)return!0;if(i=t-(this.x+this.radius),i*i+n*n<=r)return!0}return!1},t}();e.default=o},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=i(8),o=function(){function t(e){n(this,t),this.renderer=e}return t.prototype.pushMask=function(t){var e=this.renderer;e.context.save();var i=t.alpha,n=t.transform.worldTransform,r=e.resolution;e.context.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*r,n.ty*r),t._texture||(this.renderGraphicsShape(t),e.context.clip()),t.worldAlpha=i},t.prototype.renderGraphicsShape=function(t){var e=this.renderer.context,i=t.graphicsData.length;if(0!==i){e.beginPath();for(var n=0;n<i;n++){var o=t.graphicsData[n],a=o.shape;if(o.type===r.SHAPES.POLY){var s=a.points;e.moveTo(s[0],s[1]);for(var u=1;u<s.length/2;u++)e.lineTo(s[2*u],s[2*u+1]);s[0]===s[s.length-2]&&s[1]===s[s.length-1]&&e.closePath()}else if(o.type===r.SHAPES.RECT)e.rect(a.x,a.y,a.width,a.height),e.closePath();else if(o.type===r.SHAPES.CIRC)e.arc(a.x,a.y,a.radius,0,2*Math.PI),e.closePath();else if(o.type===r.SHAPES.ELIP){var l=2*a.width,h=2*a.height,c=a.x-l/2,f=a.y-h/2,d=.5522848,p=l/2*d,y=h/2*d,v=c+l,m=f+h,g=c+l/2,_=f+h/2;e.moveTo(c,_),e.bezierCurveTo(c,_-y,g-p,f,g,f),e.bezierCurveTo(g+p,f,v,_-y,v,_),e.bezierCurveTo(v,_+y,g+p,m,g,m),e.bezierCurveTo(g-p,m,c,_+y,c,_),e.closePath()}else if(o.type===r.SHAPES.RREC){var b=a.x,w=a.y,x=a.width,T=a.height,S=a.radius,E=Math.min(x,T)/2|0;S=S>E?E:S,e.moveTo(b,w+S),e.lineTo(b,w+T-S),e.quadraticCurveTo(b,w+T,b+S,w+T),e.lineTo(b+x-S,w+T),e.quadraticCurveTo(b+x,w+T,b+x,w+T-S),e.lineTo(b+x,w+S),e.quadraticCurveTo(b+x,w,b+x-S,w),e.lineTo(b+S,w),e.quadraticCurveTo(b,w,b,w+S),e.closePath()}}}},t.prototype.popMask=function(t){t.context.restore()},t.prototype.destroy=function(){},t}();e.default=o},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,s.default)()?(t[o.BLEND_MODES.NORMAL]="source-over",t[o.BLEND_MODES.ADD]="lighter",t[o.BLEND_MODES.MULTIPLY]="multiply",t[o.BLEND_MODES.SCREEN]="screen",t[o.BLEND_MODES.OVERLAY]="overlay",t[o.BLEND_MODES.DARKEN]="darken",t[o.BLEND_MODES.LIGHTEN]="lighten",t[o.BLEND_MODES.COLOR_DODGE]="color-dodge",t[o.BLEND_MODES.COLOR_BURN]="color-burn",t[o.BLEND_MODES.HARD_LIGHT]="hard-light",t[o.BLEND_MODES.SOFT_LIGHT]="soft-light",t[o.BLEND_MODES.DIFFERENCE]="difference",t[o.BLEND_MODES.EXCLUSION]="exclusion",t[o.BLEND_MODES.HUE]="hue",t[o.BLEND_MODES.SATURATION]="saturate",t[o.BLEND_MODES.COLOR]="color",t[o.BLEND_MODES.LUMINOSITY]="luminosity"):(t[o.BLEND_MODES.NORMAL]="source-over",t[o.BLEND_MODES.ADD]="lighter",t[o.BLEND_MODES.MULTIPLY]="source-over",t[o.BLEND_MODES.SCREEN]="source-over",t[o.BLEND_MODES.OVERLAY]="source-over",t[o.BLEND_MODES.DARKEN]="source-over",t[o.BLEND_MODES.LIGHTEN]="source-over",t[o.BLEND_MODES.COLOR_DODGE]="source-over",t[o.BLEND_MODES.COLOR_BURN]="source-over",t[o.BLEND_MODES.HARD_LIGHT]="source-over",t[o.BLEND_MODES.SOFT_LIGHT]="source-over",t[o.BLEND_MODES.DIFFERENCE]="source-over",t[o.BLEND_MODES.EXCLUSION]="source-over",t[o.BLEND_MODES.HUE]="source-over",t[o.BLEND_MODES.SATURATION]="source-over",t[o.BLEND_MODES.COLOR]="source-over",t[o.BLEND_MODES.LUMINOSITY]="source-over"),t[o.BLEND_MODES.NORMAL_NPM]=t[o.BLEND_MODES.NORMAL],t[o.BLEND_MODES.ADD_NPM]=t[o.BLEND_MODES.ADD],t[o.BLEND_MODES.SCREEN_NPM]=t[o.BLEND_MODES.SCREEN],t}e.__esModule=!0,e.default=r;var o=i(8),a=i(292),s=n(a)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=i(8),a=i(24),s=n(a),u=function(){function t(e){r(this,t),this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=s.default.GC_MAX_IDLE,this.checkCountMax=s.default.GC_MAX_CHECK_COUNT,this.mode=s.default.GC_MODE}return t.prototype.update=function(){this.count++,this.mode!==o.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},t.prototype.run=function(){for(var t=this.renderer.textureManager,e=t._managedTextures,i=!1,n=0;n<e.length;n++){var r=e[n];!r._glRenderTargets&&this.count-r.touched>this.maxIdle&&(t.destroyTexture(r,!0),e[n]=null,i=!0)}if(i){for(var o=0,a=0;a<e.length;a++)null!==e[a]&&(e[o++]=e[a]);e.length=o}},t.prototype.unload=function(t){var e=this.renderer.textureManager;t._texture&&t._texture._glRenderTargets&&e.destroyTexture(t._texture,!0);for(var i=t.children.length-1;i>=0;i--)this.unload(t.children[i])},t}();e.default=u},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=i(40),a=i(8),s=i(133),u=n(s),l=i(13),h=function(){function t(e){r(this,t),this.renderer=e,this.gl=e.gl,this._managedTextures=[]}return t.prototype.bindTexture=function(){},t.prototype.getTexture=function(){},t.prototype.updateTexture=function(t,e){var i=this.gl,n=!!t._glRenderTargets;if(!t.hasLoaded)return null;var r=this.renderer.boundTextures;if(void 0===e){e=0;for(var s=0;s<r.length;++s)if(r[s]===t){e=s;break}}r[e]=t,i.activeTexture(i.TEXTURE0+e);var l=t._glTextures[this.renderer.CONTEXT_UID];if(l)n?t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width,t.height):l.upload(t.source);else{if(n){var h=new u.default(this.gl,t.width,t.height,t.scaleMode,t.resolution);h.resize(t.width,t.height),t._glRenderTargets[this.renderer.CONTEXT_UID]=h,l=h.texture}else l=new o.GLTexture(this.gl,null,null,null,null),l.bind(e),l.premultiplyAlpha=!0,l.upload(t.source);t._glTextures[this.renderer.CONTEXT_UID]=l,t.on("update",this.updateTexture,this),t.on("dispose",this.destroyTexture,this),this._managedTextures.push(t),t.isPowerOfTwo?(t.mipmap&&l.enableMipmap(),t.wrapMode===a.WRAP_MODES.CLAMP?l.enableWrapClamp():t.wrapMode===a.WRAP_MODES.REPEAT?l.enableWrapRepeat():l.enableWrapMirrorRepeat()):l.enableWrapClamp(),t.scaleMode===a.SCALE_MODES.NEAREST?l.enableNearestScaling():l.enableLinearScaling()}return l},t.prototype.destroyTexture=function(t,e){if(t=t.baseTexture||t,t.hasLoaded&&t._glTextures[this.renderer.CONTEXT_UID]&&(this.renderer.unbindTexture(t),t._glTextures[this.renderer.CONTEXT_UID].destroy(),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this),delete t._glTextures[this.renderer.CONTEXT_UID],!e)){var i=this._managedTextures.indexOf(t);i!==-1&&(0,l.removeItems)(this._managedTextures,i,1)}},t.prototype.removeAll=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];e._glTextures[this.renderer.CONTEXT_UID]&&delete e._glTextures[this.renderer.CONTEXT_UID]}},t.prototype.destroy=function(){for(var t=0;t<this._managedTextures.length;++t){var e=this._managedTextures[t];this.destroyTexture(e,!0),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this)}this._managedTextures=null},t}();e.default=h},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=i(740),a=n(o),s=0,u=1,l=2,h=3,c=4,f=function(){function t(e){r(this,t),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=e,this.maxAttribs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,a.default)(e),this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")}return t.prototype.push=function(){var t=this.stack[this.stackIndex];t||(t=this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var e=0;e<this.activeState.length;e++)t[e]=this.activeState[e]},t.prototype.pop=function(){var t=this.stack[--this.stackIndex];this.setState(t)},t.prototype.setState=function(t){this.setBlend(t[s]),this.setDepthTest(t[u]),this.setFrontFace(t[l]),this.setCullFace(t[h]),this.setBlendMode(t[c])},t.prototype.setBlend=function(t){t=t?1:0,this.activeState[s]!==t&&(this.activeState[s]=t,this.gl[t?"enable":"disable"](this.gl.BLEND))},t.prototype.setBlendMode=function(t){if(t!==this.activeState[c]){this.activeState[c]=t;var e=this.blendModes[t];2===e.length?this.gl.blendFunc(e[0],e[1]):this.gl.blendFuncSeparate(e[0],e[1],e[2],e[3])}},t.prototype.setDepthTest=function(t){t=t?1:0,this.activeState[u]!==t&&(this.activeState[u]=t,this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST))},t.prototype.setCullFace=function(t){t=t?1:0,this.activeState[h]!==t&&(this.activeState[h]=t,this.gl[t?"enable":"disable"](this.gl.CULL_FACE))},t.prototype.setFrontFace=function(t){t=t?1:0,this.activeState[l]!==t&&(this.activeState[l]=t,this.gl.frontFace(this.gl[t?"CW":"CCW"]))},t.prototype.resetAttributes=function(){for(var t=0;t<this.attribState.tempAttribState.length;t++)this.attribState.tempAttribState[t]=0;for(var e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(var i=1;i<this.maxAttribs;i++)this.gl.disableVertexAttribArray(i)},t.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var t=0;t<this.activeState.length;++t)this.activeState[t]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},t}();e.default=f},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e,i){var n=o(t,i),r=o(e,i);return Object.assign(n,r)}function o(t){for(var e=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),i={},n=void 0,r=t.replace(/\s+/g," ").split(/\s*;\s*/),o=0;o<r.length;o++){var a=r[o].trim();if(a.indexOf("uniform")>-1){var s=a.split(" "),l=s[1],h=s[2],c=1;h.indexOf("[")>-1&&(n=h.split(/\[|]/),h=n[0],c*=Number(n[1])),h.match(e)||(i[h]={value:u(l,c),name:h,type:l})}}return i}e.__esModule=!0,e.default=r;var a=i(40),s=n(a),u=s.default.shader.defaultValue},function(t,e,i){"use strict";function n(t,e,i){var n=t.identity();return n.translate(e.x/i.width,e.y/i.height),n.scale(i.width,i.height),n}function r(t,e,i){var n=t.identity();n.translate(e.x/i.width,e.y/i.height);var r=i.width/e.width,o=i.height/e.height;return n.scale(r,o),n}function o(t,e,i,n){var r=n.worldTransform.copy(a.Matrix.TEMP_MATRIX),o=n._texture.baseTexture,s=t.identity(),u=i.height/i.width;s.translate(e.x/i.width,e.y/i.height),s.scale(1,u);var l=i.width/o.width,h=i.height/o.height;return r.tx/=o.width*l,r.ty/=o.width*l,r.invert(),s.prepend(r),s.scale(1,1/u),s.scale(l,h),s.translate(n.anchor.x,n.anchor.y),s}e.__esModule=!0,e.calculateScreenSpaceMatrix=n,e.calculateNormalizedScreenSpaceMatrix=r,e.calculateSpriteMatrix=o;var a=i(26)},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function s(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var u=i(99),l=r(u),h=i(133),c=r(h),f=i(295),d=r(f),p=i(26),y=i(96),v=r(y),m=i(735),g=n(m),_=i(141),b=r(_),w=function t(){s(this,t),this.renderTarget=null,this.sourceFrame=new p.Rectangle,this.destinationFrame=new p.Rectangle,this.filters=[],this.target=null,this.resolution=1},x=function(t){function e(i){s(this,e);var n=o(this,t.call(this,i));return n.gl=n.renderer.gl,n.quad=new d.default(n.gl,i.state.attribState),n.shaderCache={},n.pool={},n.filterData=null,n}return a(e,t),e.prototype.pushFilter=function(t,e){var i=this.renderer,n=this.filterData;if(!n){n=this.renderer._activeRenderTarget.filterStack;var r=new w;r.sourceFrame=r.destinationFrame=this.renderer._activeRenderTarget.size,r.renderTarget=i._activeRenderTarget,this.renderer._activeRenderTarget.filterData=n={index:0,stack:[r]},this.filterData=n}var o=n.stack[++n.index];o||(o=n.stack[n.index]=new w);var a=e[0].resolution,s=0|e[0].padding,u=t.filterArea||t.getBounds(!0),l=o.sourceFrame,h=o.destinationFrame;l.x=(u.x*a|0)/a,l.y=(u.y*a|0)/a,l.width=(u.width*a|0)/a,l.height=(u.height*a|0)/a,n.stack[0].renderTarget.transform||e[0].autoFit&&l.fit(n.stack[0].destinationFrame),l.pad(s),h.width=l.width,h.height=l.height;var c=this.getPotRenderTarget(i.gl,l.width,l.height,a);o.target=t,o.filters=e,o.resolution=a,o.renderTarget=c,c.setFrame(h,l),i.bindRenderTarget(c),c.clear()},e.prototype.popFilter=function(){var t=this.filterData,e=t.stack[t.index-1],i=t.stack[t.index];this.quad.map(i.renderTarget.size,i.sourceFrame).upload();var n=i.filters;if(1===n.length)n[0].apply(this,i.renderTarget,e.renderTarget,!1,i),this.freePotRenderTarget(i.renderTarget);else{var r=i.renderTarget,o=this.getPotRenderTarget(this.renderer.gl,i.sourceFrame.width,i.sourceFrame.height,i.resolution);o.setFrame(i.destinationFrame,i.sourceFrame),o.clear();var a=0;for(a=0;a<n.length-1;++a){n[a].apply(this,r,o,!0,i);var s=r;r=o,o=s}n[a].apply(this,r,e.renderTarget,!1,i),this.freePotRenderTarget(r),this.freePotRenderTarget(o)}t.index--,0===t.index&&(this.filterData=null)},e.prototype.applyFilter=function(t,e,i,n){var r=this.renderer,o=r.gl,a=t.glShaders[r.CONTEXT_UID];a||(t.glShaderKey?(a=this.shaderCache[t.glShaderKey],a||(a=new v.default(this.gl,t.vertexSrc,t.fragmentSrc),t.glShaders[r.CONTEXT_UID]=this.shaderCache[t.glShaderKey]=a)):a=t.glShaders[r.CONTEXT_UID]=new v.default(this.gl,t.vertexSrc,t.fragmentSrc),r.bindVao(null),this.quad.initVao(a)),r.bindVao(this.quad.vao),r.bindRenderTarget(i),n&&(o.disable(o.SCISSOR_TEST),r.clear(),o.enable(o.SCISSOR_TEST)),i===r.maskManager.scissorRenderTarget&&r.maskManager.pushScissorMask(null,r.maskManager.scissorData),r.bindShader(a);var s=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=s,this.syncUniforms(a,t),r.state.setBlendMode(t.blendMode),o.activeTexture(o.TEXTURE0),o.bindTexture(o.TEXTURE_2D,e.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),o.bindTexture(o.TEXTURE_2D,s._glTextures[this.renderer.CONTEXT_UID].texture)},e.prototype.syncUniforms=function(t,e){var i=e.uniformData,n=e.uniforms,r=1,o=void 0;if(t.uniforms.filterArea){o=this.filterData.stack[this.filterData.index];var a=t.uniforms.filterArea;a[0]=o.renderTarget.size.width,a[1]=o.renderTarget.size.height,a[2]=o.sourceFrame.x,a[3]=o.sourceFrame.y,t.uniforms.filterArea=a}if(t.uniforms.filterClamp){o=o||this.filterData.stack[this.filterData.index];var s=t.uniforms.filterClamp;s[0]=0,s[1]=0,s[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,s[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,t.uniforms.filterClamp=s}for(var u in i)if("sampler2D"===i[u].type&&0!==n[u]){if(n[u].baseTexture)t.uniforms[u]=this.renderer.bindTexture(n[u].baseTexture,r);else{t.uniforms[u]=r;var l=this.renderer.gl;this.renderer.boundTextures[r]=this.renderer.emptyTextures[r],l.activeTexture(l.TEXTURE0+r),n[u].texture.bind()}r++}else if("mat3"===i[u].type)void 0!==n[u].a?t.uniforms[u]=n[u].toArray(!0):t.uniforms[u]=n[u];else if("vec2"===i[u].type)if(void 0!==n[u].x){var h=t.uniforms[u]||new Float32Array(2);h[0]=n[u].x,h[1]=n[u].y,t.uniforms[u]=h}else t.uniforms[u]=n[u];else"float"===i[u].type?t.uniforms.data[u].value!==i[u]&&(t.uniforms[u]=n[u]):t.uniforms[u]=n[u]},e.prototype.getRenderTarget=function(t,e){var i=this.filterData.stack[this.filterData.index],n=this.getPotRenderTarget(this.renderer.gl,i.sourceFrame.width,i.sourceFrame.height,e||i.resolution);return n.setFrame(i.destinationFrame,i.sourceFrame),n},e.prototype.returnRenderTarget=function(t){this.freePotRenderTarget(t)},e.prototype.calculateScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return g.calculateScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size)},e.prototype.calculateNormalizedScreenSpaceMatrix=function(t){var e=this.filterData.stack[this.filterData.index];return g.calculateNormalizedScreenSpaceMatrix(t,e.sourceFrame,e.renderTarget.size,e.destinationFrame)},e.prototype.calculateSpriteMatrix=function(t,e){var i=this.filterData.stack[this.filterData.index];return g.calculateSpriteMatrix(t,i.sourceFrame,i.renderTarget.size,e)},e.prototype.destroy=function(){this.shaderCache={},this.emptyPool()},e.prototype.getPotRenderTarget=function(t,e,i,n){e=b.default.nextPow2(e*n),i=b.default.nextPow2(i*n);var r=(65535&e)<<16|65535&i;this.pool[r]||(this.pool[r]=[]);var o=this.pool[r].pop();if(!o){var a=this.renderer.boundTextures[0];t.activeTexture(t.TEXTURE0),o=new c.default(t,e,i,null,1),
t.bindTexture(t.TEXTURE_2D,a._glTextures[this.renderer.CONTEXT_UID].texture)}return o.resolution=n,o.defaultFrame.width=o.size.width=e/n,o.defaultFrame.height=o.size.height=i/n,o},e.prototype.emptyPool=function(){for(var t in this.pool){var e=this.pool[t];if(e)for(var i=0;i<e.length;i++)e[i].destroy(!0)}this.pool={}},e.prototype.freePotRenderTarget=function(t){var e=t.size.width*t.resolution,i=t.size.height*t.resolution,n=(65535&e)<<16|65535&i;this.pool[n].push(t)},e}(l.default);e.default=x},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(99),u=n(s),l=i(294),h=n(l),c=function(t){function e(i){r(this,e);var n=o(this,t.call(this,i));return n.scissor=!1,n.scissorData=null,n.scissorRenderTarget=null,n.enableScissor=!0,n.alphaMaskPool=[],n.alphaMaskIndex=0,n}return a(e,t),e.prototype.pushMask=function(t,e){if(e.texture)this.pushSpriteMask(t,e);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&e.isFastRect()){var i=e.worldTransform,n=Math.atan2(i.b,i.a);n=Math.round(n*(180/Math.PI)),n%90?this.pushStencilMask(e):this.pushScissorMask(t,e)}else this.pushStencilMask(e)},e.prototype.popMask=function(t,e){e.texture?this.popSpriteMask(t,e):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(t,e):this.popStencilMask(t,e)},e.prototype.pushSpriteMask=function(t,e){var i=this.alphaMaskPool[this.alphaMaskIndex];i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new h.default(e)]),i[0].resolution=this.renderer.resolution,i[0].maskSprite=e,t.filterArea=e.getBounds(!0),this.renderer.filterManager.pushFilter(t,i),this.alphaMaskIndex++},e.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},e.prototype.pushStencilMask=function(t){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(t)},e.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},e.prototype.pushScissorMask=function(t,e){e.renderable=!0;var i=this.renderer._activeRenderTarget,n=e.getBounds();n.fit(i.size),e.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var r=this.renderer.resolution;this.renderer.gl.scissor(n.x*r,(i.root?i.size.height-n.y-n.height:n.y)*r,n.width*r,n.height*r),this.scissorRenderTarget=i,this.scissorData=e,this.scissor=!0},e.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var t=this.renderer.gl;t.disable(t.SCISSOR_TEST)},e}(u.default);e.default=c},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(99),u=n(s),l=function(t){function e(i){r(this,e);var n=o(this,t.call(this,i));return n.stencilMaskStack=null,n}return a(e,t),e.prototype.setMaskStack=function(t){this.stencilMaskStack=t;var e=this.renderer.gl;0===t.length?e.disable(e.STENCIL_TEST):e.enable(e.STENCIL_TEST)},e.prototype.pushStencil=function(t){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var e=this.renderer.gl,i=this.stencilMaskStack;0===i.length&&(e.enable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.stencilFunc(e.ALWAYS,1,1)),i.push(t),e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.INCR),this.renderer.plugins.graphics.render(t),e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.NOTEQUAL,0,i.length),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},e.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var t=this.renderer.gl,e=this.stencilMaskStack,i=e.pop();0===e.length?t.disable(t.STENCIL_TEST):(t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.DECR),this.renderer.plugins.graphics.render(i),t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.NOTEQUAL,0,e.length),t.stencilOp(t.KEEP,t.KEEP,t.KEEP))},e.prototype.destroy=function(){u.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},e}(u.default);e.default=l},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var i=!e;if(0===t)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(i){var n=document.createElement("canvas");n.width=1,n.height=1,e=s.default.createContext(n)}for(var r=e.createShader(e.FRAGMENT_SHADER);;){var a=u.replace(/%forloop%/gi,o(t));if(e.shaderSource(r,a),e.compileShader(r),e.getShaderParameter(r,e.COMPILE_STATUS))break;t=t/2|0}return i&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").loseContext(),t}function o(t){for(var e="",i=0;i<t;++i)i>0&&(e+="\nelse "),i<t-1&&(e+="if(test == "+i+".0){}");return e}e.__esModule=!0,e.default=r;var a=i(40),s=n(a),u=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n")},function(t,e,i){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e[r.BLEND_MODES.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.ADD]=[t.ONE,t.DST_ALPHA],e[r.BLEND_MODES.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR],e[r.BLEND_MODES.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[r.BLEND_MODES.ADD_NPM]=[t.SRC_ALPHA,t.DST_ALPHA,t.ONE,t.DST_ALPHA],e[r.BLEND_MODES.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_COLOR],e}e.__esModule=!0,e.default=n;var r=i(8)},function(t,e,i){"use strict";function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e[r.DRAW_MODES.POINTS]=t.POINTS,e[r.DRAW_MODES.LINES]=t.LINES,e[r.DRAW_MODES.LINE_LOOP]=t.LINE_LOOP,e[r.DRAW_MODES.LINE_STRIP]=t.LINE_STRIP,e[r.DRAW_MODES.TRIANGLES]=t.TRIANGLES,e[r.DRAW_MODES.TRIANGLE_STRIP]=t.TRIANGLE_STRIP,e[r.DRAW_MODES.TRIANGLE_FAN]=t.TRIANGLE_FAN,e}e.__esModule=!0,e.default=n;var r=i(8)},function(t,e){"use strict";function i(t){var e=t.getContextAttributes();!e.stencil}e.__esModule=!0,e.default=i},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=i(98),a=n(o),s=i(8),u=i(26),l=i(186),h=n(l),c=new u.Matrix,f=function(){function t(e){r(this,t),this.renderer=e}return t.prototype.render=function(t){var e=t._texture,i=this.renderer,n=e._frame.width,r=e._frame.height,o=t.transform.worldTransform,a=0,l=0;if(!(e.orig.width<=0||e.orig.height<=0)&&e.baseTexture.source&&(i.setBlendMode(t.blendMode),e.valid)){i.context.globalAlpha=t.worldAlpha;var f=e.baseTexture.scaleMode===s.SCALE_MODES.LINEAR;i.smoothProperty&&i.context[i.smoothProperty]!==f&&(i.context[i.smoothProperty]=f),e.trim?(a=e.trim.width/2+e.trim.x-t.anchor.x*e.orig.width,l=e.trim.height/2+e.trim.y-t.anchor.y*e.orig.height):(a=(.5-t.anchor.x)*e.orig.width,l=(.5-t.anchor.y)*e.orig.height),e.rotate&&(o.copy(c),o=c,u.GroupD8.matrixAppendRotationInv(o,e.rotate,a,l),a=0,l=0),a-=n/2,l-=r/2,i.roundPixels?(i.context.setTransform(o.a,o.b,o.c,o.d,o.tx*i.resolution|0,o.ty*i.resolution|0),a|=0,l|=0):i.context.setTransform(o.a,o.b,o.c,o.d,o.tx*i.resolution,o.ty*i.resolution);var d=e.baseTexture.resolution;16777215!==t.tint?(t.cachedTint===t.tint&&t.tintedTexture.tintId===t._texture._updateID||(t.cachedTint=t.tint,t.tintedTexture=h.default.getTintedTexture(t,t.tint)),i.context.drawImage(t.tintedTexture,0,0,n*d,r*d,a*i.resolution,l*i.resolution,n*i.resolution,r*i.resolution)):i.context.drawImage(e.baseTexture.source,e._frame.x*d,e._frame.y*d,n*d,r*d,a*i.resolution,l*i.resolution,n*i.resolution,r*i.resolution)}},t.prototype.destroy=function(){this.renderer=null},t}();e.default=f,a.default.registerPlugin("sprite",f)},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n=function(){function t(e){i(this,t),this.vertices=new ArrayBuffer(e),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return t.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},t}();e.default=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(132),u=n(s),l=i(131),h=n(l),c=i(189),f=n(c),d=i(746),p=n(d),y=i(739),v=n(y),m=i(744),g=n(m),_=i(24),b=n(_),w=i(13),x=i(40),T=n(x),S=i(141),E=n(S),C=0,P=0,M=function(t){function e(i){r(this,e);var n=o(this,t.call(this,i));n.vertSize=5,n.vertByteSize=4*n.vertSize,n.size=b.default.SPRITE_BATCH_SIZE,n.buffers=[];for(var a=1;a<=E.default.nextPow2(n.size);a*=2)n.buffers.push(new g.default(4*a*n.vertByteSize));n.indices=(0,f.default)(n.size),n.shader=null,n.currentIndex=0,n.groups=[];for(var s=0;s<n.size;s++)n.groups[s]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return n.sprites=[],n.vertexBuffers=[],n.vaos=[],n.vaoMax=2,n.vertexCount=0,n.renderer.on("prerender",n.onPrerender,n),n}return a(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),b.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,v.default)(this.MAX_TEXTURES,t)),this.shader=(0,p.default)(t,this.MAX_TEXTURES),this.indexBuffer=T.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.renderer.bindVao(null);for(var e=this.shader.attributes,i=0;i<this.vaoMax;i++){var n=this.vertexBuffers[i]=T.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),r=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(n,e.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(n,e.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(n,e.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);e.aTextureId&&r.addAttribute(n,e.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[i]=r}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},e.prototype.onPrerender=function(){this.vertexCount=0},e.prototype.render=function(t){this.currentIndex>=this.size&&this.flush(),t._texture._uvs&&(this.sprites[this.currentIndex++]=t)},e.prototype.flush=function(){if(0!==this.currentIndex){var t=this.renderer.gl,e=this.MAX_TEXTURES,i=E.default.nextPow2(this.currentIndex),n=E.default.log2(i),r=this.buffers[n],o=this.sprites,a=this.groups,s=r.float32View,u=r.uint32View,l=this.boundTextures,h=this.renderer.boundTextures,c=this.renderer.textureGC.count,f=0,d=void 0,p=void 0,y=1,v=0,m=a[0],g=void 0,_=void 0,x=w.premultiplyBlendMode[o[0]._texture.baseTexture.premultipliedAlpha?1:0][o[0].blendMode];m.textureCount=0,m.start=0,m.blend=x,C++;var S=void 0;for(S=0;S<e;++S)l[S]=h[S],l[S]._virtalBoundId=S;for(S=0;S<this.currentIndex;++S){var M=o[S];d=M._texture.baseTexture;var A=w.premultiplyBlendMode[Number(d.premultipliedAlpha)][M.blendMode];if(x!==A&&(x=A,p=null,v=e,C++),p!==d&&(p=d,d._enabled!==C)){if(v===e&&(C++,m.size=S-m.start,v=0,m=a[y++],m.blend=x,m.textureCount=0,m.start=S),d.touched=c,d._virtalBoundId===-1)for(var O=0;O<e;++O){var k=(O+P)%e,I=l[k];if(I._enabled!==C){P++,I._virtalBoundId=-1,d._virtalBoundId=k,l[k]=d;break}}d._enabled=C,m.textureCount++,m.ids[v]=d._virtalBoundId,m.textures[v++]=d}if(g=M.vertexData,_=M._texture._uvs.uvsUint32,this.renderer.roundPixels){var R=this.renderer.resolution;s[f]=(g[0]*R|0)/R,s[f+1]=(g[1]*R|0)/R,s[f+5]=(g[2]*R|0)/R,s[f+6]=(g[3]*R|0)/R,s[f+10]=(g[4]*R|0)/R,s[f+11]=(g[5]*R|0)/R,s[f+15]=(g[6]*R|0)/R,s[f+16]=(g[7]*R|0)/R}else s[f]=g[0],s[f+1]=g[1],s[f+5]=g[2],s[f+6]=g[3],s[f+10]=g[4],s[f+11]=g[5],s[f+15]=g[6],s[f+16]=g[7];u[f+2]=_[0],u[f+7]=_[1],u[f+12]=_[2],u[f+17]=_[3];var L=Math.min(M.worldAlpha,1),B=L<1&&d.premultipliedAlpha?(0,w.premultiplyTint)(M._tintRGB,L):M._tintRGB+(255*L<<24);u[f+3]=u[f+8]=u[f+13]=u[f+18]=B,s[f+4]=s[f+9]=s[f+14]=s[f+19]=d._virtalBoundId,f+=20}if(m.size=S-m.start,b.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(r.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var D=this.shader.attributes,F=this.vertexBuffers[this.vertexCount]=T.default.GLBuffer.createVertexBuffer(t,null,t.STREAM_DRAW),j=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(F,D.aVertexPosition,t.FLOAT,!1,this.vertByteSize,0).addAttribute(F,D.aTextureCoord,t.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(F,D.aColor,t.UNSIGNED_BYTE,!0,this.vertByteSize,12);D.aTextureId&&j.addAttribute(F,D.aTextureId,t.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=j}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(r.vertices,0,!1),this.vertexCount++}for(S=0;S<e;++S)h[S]._virtalBoundId=-1;for(S=0;S<y;++S){for(var N=a[S],X=N.textureCount,U=0;U<X;U++)p=N.textures[U],h[N.ids[U]]!==p&&this.renderer.bindTexture(p,N.ids[U],!0),p._virtalBoundId=-1;this.renderer.state.setBlendMode(N.blend),t.drawElements(t.TRIANGLES,6*N.size,t.UNSIGNED_SHORT,6*N.start*2)}this.currentIndex=0}},e.prototype.start=function(){this.renderer.bindShader(this.shader),b.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},e.prototype.stop=function(){this.flush()},e.prototype.destroy=function(){for(var e=0;e<this.vaoMax;e++)this.vertexBuffers[e]&&this.vertexBuffers[e].destroy(),this.vaos[e]&&this.vaos[e].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),t.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var i=0;i<this.buffers.length;++i)this.buffers[i].destroy()},e}(u.default);e.default=M,h.default.registerPlugin("sprite",M)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){var i="precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",n=u;n=n.replace(/%count%/gi,e),n=n.replace(/%forloop%/gi,o(e));for(var r=new s.default(t,i,n),a=[],l=0;l<e;l++)a[l]=l;return r.bind(),r.uniforms.uSamplers=a,r}function o(t){var e="";e+="\n",e+="\n";for(var i=0;i<t;i++)i>0&&(e+="\nelse "),i<t-1&&(e+="if(textureId == "+i+".0)"),e+="\n{",e+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",e+="\n}";return e+="\n",e+="\n"}e.__esModule=!0,e.default=r;var a=i(96),s=n(a),u=(i(46),["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join("\n"))},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(185),l=n(u),h=i(76),c=n(h),f=i(26),d=i(13),p=i(8),y=i(24),v=n(y),m=i(297),g=n(m),_=i(296),b=n(_),w=i(757),x=n(w),T={texture:!0,children:!1,baseTexture:!0},S=function(t){function e(i,n,a){r(this,e),a=a||document.createElement("canvas"),a.width=3,a.height=3;var s=c.default.fromCanvas(a,v.default.SCALE_MODE,"text");s.orig=new f.Rectangle,s.trim=new f.Rectangle;var u=o(this,t.call(this,s));return c.default.addToCache(u._texture,u._texture.baseTexture.textureCacheIds[0]),u.canvas=a,u.context=u.canvas.getContext("2d"),u.resolution=v.default.RESOLUTION,u._text=null,u._style=null,u._styleListener=null,u._font="",u.text=i,u.style=n,u.localStyleID=-1,u}return a(e,t),e.prototype.updateText=function(t){var e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),this.dirty||!t){this._font=this._style.toFontString();var i=this.context,n=b.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),r=n.width,o=n.height,a=n.lines,s=n.lineHeight,u=n.lineWidths,l=n.maxLineWidth,h=n.fontProperties;this.canvas.width=Math.ceil((r+2*e.padding)*this.resolution),this.canvas.height=Math.ceil((o+2*e.padding)*this.resolution),i.scale(this.resolution,this.resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.strokeStyle=e.stroke,i.lineWidth=e.strokeThickness,i.textBaseline=e.textBaseline,i.lineJoin=e.lineJoin,i.miterLimit=e.miterLimit;var c=void 0,f=void 0;if(e.dropShadow){i.fillStyle=e.dropShadowColor,i.globalAlpha=e.dropShadowAlpha,i.shadowBlur=e.dropShadowBlur,e.dropShadowBlur>0&&(i.shadowColor=e.dropShadowColor);for(var d=Math.cos(e.dropShadowAngle)*e.dropShadowDistance,p=Math.sin(e.dropShadowAngle)*e.dropShadowDistance,y=0;y<a.length;y++)c=e.strokeThickness/2,f=e.strokeThickness/2+y*s+h.ascent,"right"===e.align?c+=l-u[y]:"center"===e.align&&(c+=(l-u[y])/2),e.fill&&(this.drawLetterSpacing(a[y],c+d+e.padding,f+p+e.padding),e.stroke&&e.strokeThickness&&(i.strokeStyle=e.dropShadowColor,this.drawLetterSpacing(a[y],c+d+e.padding,f+p+e.padding,!0),i.strokeStyle=e.stroke))}i.shadowBlur=0,i.globalAlpha=1,i.fillStyle=this._generateFillStyle(e,a);for(var v=0;v<a.length;v++)c=e.strokeThickness/2,f=e.strokeThickness/2+v*s+h.ascent,"right"===e.align?c+=l-u[v]:"center"===e.align&&(c+=(l-u[v])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(a[v],c+e.padding,f+e.padding,!0),e.fill&&this.drawLetterSpacing(a[v],c+e.padding,f+e.padding);this.updateTexture()}},e.prototype.drawLetterSpacing=function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=this._style,o=r.letterSpacing;if(0===o)return void(n?this.context.strokeText(t,e,i):this.context.fillText(t,e,i));for(var a=String.prototype.split.call(t,""),s=e,u=0,l="";u<t.length;)l=a[u++],n?this.context.strokeText(l,s,i):this.context.fillText(l,s,i),s+=this.context.measureText(l).width+o},e.prototype.updateTexture=function(){var t=this.canvas;if(this._style.trim){var e=(0,x.default)(t);t.width=e.width,t.height=e.height,this.context.putImageData(e.data,0,0)}var i=this._texture,n=this._style,r=n.trim?0:n.padding,o=i.baseTexture;o.hasLoaded=!0,o.resolution=this.resolution,o.realWidth=t.width,o.realHeight=t.height,o.width=t.width/this.resolution,o.height=t.height/this.resolution,i.trim.width=i._frame.width=t.width/this.resolution,i.trim.height=i._frame.height=t.height/this.resolution,i.trim.x=-r,i.trim.y=-r,i.orig.width=i._frame.width-2*r,i.orig.height=i._frame.height-2*r,this._onTextureUpdate(),o.emit("update",o),this.dirty=!1},e.prototype.renderWebGL=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype.renderWebGL.call(this,e)},e.prototype._renderCanvas=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),t.prototype._renderCanvas.call(this,e)},e.prototype.getLocalBounds=function(e){return this.updateText(!0),t.prototype.getLocalBounds.call(this,e)},e.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},e.prototype._onStyleChange=function(){this.dirty=!0},e.prototype._generateFillStyle=function(t,e){if(!Array.isArray(t.fill))return t.fill;if(navigator.isCocoonJS)return t.fill[0];var i=void 0,n=void 0,r=void 0,o=void 0,a=this.canvas.width/this.resolution,s=this.canvas.height/this.resolution,u=t.fill.slice(),l=t.fillGradientStops.slice();if(!l.length)for(var h=u.length+1,c=1;c<h;++c)l.push(c/h);if(u.unshift(t.fill[0]),l.unshift(0),u.push(t.fill[t.fill.length-1]),l.push(1),t.fillGradientType===p.TEXT_GRADIENT.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,0,a/2,s),n=(u.length+1)*e.length,r=0;for(var f=0;f<e.length;f++){r+=1;for(var d=0;d<u.length;d++)o="number"==typeof l[d]?l[d]/e.length+f/e.length:r/n,i.addColorStop(o,u[d]),r++}}else{i=this.context.createLinearGradient(0,s/2,a,s/2),n=u.length+1,r=1;for(var y=0;y<u.length;y++)o="number"==typeof l[y]?l[y]:r/n,i.addColorStop(o,u[y]),r++}return i},e.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},T,e),t.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},s(e,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(t){this.updateText(!0);var e=(0,d.sign)(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(t){this.updateText(!0);var e=(0,d.sign)(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}},{key:"style",get:function(){return this._style},set:function(t){t=t||{},t instanceof g.default?this._style=t:this._style=new g.default(t),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(t){t=String(""===t||null===t||void 0===t?" ":t),this._text!==t&&(this._text=t,this.dirty=!0)}}]),e}(l.default);e.default=S},function(t,e,i){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),o=i(9),a=i(13),s=function(){function t(e,i){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;n(this,t),this.baseTexture=e,this.textures={},this.data=i,this.resolution=this._updateResolution(r||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return r(t,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),t.prototype._updateResolution=function(t){var e=this.data.meta.scale,i=(0,a.getResolutionOfUrl)(t,null);return null===i&&(i=void 0!==e?parseFloat(e):1),1!==i&&(this.baseTexture.resolution=i,this.baseTexture.update()),i},t.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=t.BATCH_SIZE?(this._processFrames(0),this._parseComplete()):this._nextBatch()},t.prototype._processFrames=function(e){for(var i=e,n=t.BATCH_SIZE;i-e<n&&i<this._frameKeys.length;){var r=this._frameKeys[i],a=this._frames[r].frame;if(a){var s=null,u=null,l=new o.Rectangle(0,0,this._frames[r].sourceSize.w/this.resolution,this._frames[r].sourceSize.h/this.resolution);s=this._frames[r].rotated?new o.Rectangle(a.x/this.resolution,a.y/this.resolution,a.h/this.resolution,a.w/this.resolution):new o.Rectangle(a.x/this.resolution,a.y/this.resolution,a.w/this.resolution,a.h/this.resolution),this._frames[r].trimmed&&(u=new o.Rectangle(this._frames[r].spriteSourceSize.x/this.resolution,this._frames[r].spriteSourceSize.y/this.resolution,a.w/this.resolution,a.h/this.resolution)),this.textures[r]=new o.Texture(this.baseTexture,s,l,u,this._frames[r].rotated?2:0),o.Texture.addToCache(this.textures[r],r)}i++}},t.prototype._parseComplete=function(){var t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)},t.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*t.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*t.BATCH_SIZE<e._frameKeys.length?e._nextBatch():e._parseComplete()},0)},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];for(var e in this.textures)this.textures[e].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&this.baseTexture.destroy(),this.baseTexture=null},t}();e.default=s},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),a=i(24),s=n(a),u=i(8),l=i(750),h=n(l),c=function(){function t(){var e=this;r(this,t),this._head=new h.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/s.default.TARGET_FPMS,this.lastTime=0,this.speed=1,this.started=!1,this._tick=function(t){e._requestId=null,e.started&&(e.update(t),e.started&&null===e._requestId&&e._head.next&&(e._requestId=requestAnimationFrame(e._tick)))}}return t.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},t.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},t.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},t.prototype.add=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.UPDATE_PRIORITY.NORMAL;return this._addListener(new h.default(t,e,i))},t.prototype.addOnce=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.UPDATE_PRIORITY.NORMAL;return this._addListener(new h.default(t,e,i,!0))},t.prototype._addListener=function(t){var e=this._head.next,i=this._head;if(e){for(;e;){if(t.priority>e.priority){t.connect(i);break}i=e,e=e.next}t.previous||t.connect(i)}else t.connect(i);return this._startIfPossible(),this},t.prototype.remove=function(t,e){for(var i=this._head.next;i;)i=i.match(t,e)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},t.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},t.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},t.prototype.destroy=function(){this.stop();for(var t=this._head.next;t;)t=t.destroy(!0);this._head.destroy(),this._head=null},t.prototype.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),e=void 0;if(t>this.lastTime){e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*s.default.TARGET_FPMS*this.speed;for(var i=this._head,n=i.next;n;)n=n.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=t},o(t,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(t){var e=Math.min(Math.max(0,t)/1e3,s.default.TARGET_FPMS);this._maxElapsedMS=1/e}}]),t}();e.default=c},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]&&arguments[3];i(this,t),this.fn=e,this.context=n,this.priority=r,this.once=o,this.next=null,this.previous=null,this._destroyed=!1}return t.prototype.match=function(t,e){return e=e||null,this.fn===t&&this.context===e},t.prototype.emit=function(t){this.fn&&(this.context?this.fn.call(this.context,t):this.fn(t));var e=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),e},t.prototype.connect=function(t){this.previous=t,t.next&&(t.next.previous=this),this.next=t.next,t.next=this},t.prototype.destroy=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var e=this.previous;return this.next=t?null:e,this.previous=null,e},t}();e.default=n},function(t,e){"use strict";function i(){var t=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);return!t}e.__esModule=!0,e.default=i},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;if(0===t.indexOf("data:"))return"";e=e||window.location,s||(s=document.createElement("a")),s.href=t,t=a.default.parse(s.href);var i=!t.port&&""===e.port||t.port===e.port;return t.hostname===e.hostname&&i&&t.protocol===e.protocol?"":"anonymous"}e.__esModule=!0,e.default=r;var o=i(320),a=n(o),s=void 0},function(t,e,i){"use strict";function n(){for(var t=[],e=[],i=0;i<32;i++)t[i]=i,e[i]=i;t[r.BLEND_MODES.NORMAL_NPM]=r.BLEND_MODES.NORMAL,t[r.BLEND_MODES.ADD_NPM]=r.BLEND_MODES.ADD,
t[r.BLEND_MODES.SCREEN_NPM]=r.BLEND_MODES.SCREEN,e[r.BLEND_MODES.NORMAL]=r.BLEND_MODES.NORMAL_NPM,e[r.BLEND_MODES.ADD]=r.BLEND_MODES.ADD_NPM,e[r.BLEND_MODES.SCREEN]=r.BLEND_MODES.SCREEN_NPM;var n=[];return n.push(e),n.push(t),n}e.__esModule=!0,e.default=n;var r=i(8)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){return a.default.tablet||a.default.phone?4:t}e.__esModule=!0,e.default=r;var o=i(172),a=n(o)},function(t,e){"use strict";function i(t,e){if(t&&e)for(var i=Object.keys(e),n=0;n<i.length;++n){var r=i[n];Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(e,r))}}function n(t,e){o.push(t,e)}function r(){for(var t=0;t<o.length;t+=2)i(o[t],o[t+1]);o.length=0}e.__esModule=!0,e.mixin=i,e.delayMixin=n,e.performMixins=r;var o=[]},function(t,e){"use strict";function i(t){t.__plugins={},t.registerPlugin=function(e,i){t.__plugins[e]=i},t.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var e in t.__plugins)this.plugins[e]=new t.__plugins[e](this)},t.prototype.destroyPlugins=function(){for(var t in this.plugins)this.plugins[t].destroy(),this.plugins[t]=null;this.plugins=null}}e.__esModule=!0,e.default={mixin:function(t){i(t)}}},function(t,e){"use strict";function i(t){var e=t.width,i=t.height,n=t.getContext("2d"),r=n.getImageData(0,0,e,i),o=r.data,a=o.length,s={top:null,left:null,right:null,bottom:null},u=void 0,l=void 0,h=void 0;for(u=0;u<a;u+=4)0!==o[u+3]&&(l=u/4%e,h=~~(u/4/e),null===s.top&&(s.top=h),null===s.left?s.left=l:l<s.left&&(s.left=l),null===s.right?s.right=l+1:s.right<l&&(s.right=l+1),null===s.bottom?s.bottom=h:s.bottom<h&&(s.bottom=h));e=s.right-s.left,i=s.bottom-s.top+1;var c=n.getImageData(s.left,s.top,e,i);return{height:i,width:e,data:c}}e.__esModule=!0,e.default=i},function(t,e){"use strict";function i(t){var e=(new Error).stack;"undefined"==typeof e||(e=e.split("\n").splice(3).join("\n"),console.groupCollapsed)}function n(t){var e=t.mesh,n=t.particles,r=t.extras,o=t.filters,a=t.prepare,s=t.loaders,u=t.interaction;Object.defineProperties(t,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return i("You do not need to use a PIXI Stage any more, you can simply render any container."),t.Container}},DisplayObjectContainer:{get:function(){return i("DisplayObjectContainer has been shortened to Container, please use Container from now on."),t.Container}},Strip:{get:function(){return i("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),e.Mesh}},Rope:{get:function(){return i("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),e.Rope}},ParticleContainer:{get:function(){return i("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),n.ParticleContainer}},MovieClip:{get:function(){return i("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),r.AnimatedSprite}},TilingSprite:{get:function(){return i("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),r.TilingSprite}},BitmapText:{get:function(){return i("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),r.BitmapText}},blendModes:{get:function(){return i("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),t.BLEND_MODES}},scaleModes:{get:function(){return i("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),t.SCALE_MODES}},BaseTextureCache:{get:function(){return i("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),t.utils.BaseTextureCache}},TextureCache:{get:function(){return i("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),t.utils.TextureCache}},math:{get:function(){return i("The math namespace is deprecated, please access members already accessible on PIXI."),t}},AbstractFilter:{get:function(){return i("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.Filter}},TransformManual:{get:function(){return i("TransformManual has been renamed to TransformBase, please update your pixi-spine"),t.TransformBase}},TARGET_FPMS:{get:function(){return i("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS},set:function(e){i("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),t.settings.TARGET_FPMS=e}},FILTER_RESOLUTION:{get:function(){return i("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION},set:function(e){i("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),t.settings.FILTER_RESOLUTION=e}},RESOLUTION:{get:function(){return i("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION},set:function(e){i("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),t.settings.RESOLUTION=e}},MIPMAP_TEXTURES:{get:function(){return i("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES},set:function(e){i("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),t.settings.MIPMAP_TEXTURES=e}},SPRITE_BATCH_SIZE:{get:function(){return i("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE},set:function(e){i("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),t.settings.SPRITE_BATCH_SIZE=e}},SPRITE_MAX_TEXTURES:{get:function(){return i("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES},set:function(e){i("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),t.settings.SPRITE_MAX_TEXTURES=e}},RETINA_PREFIX:{get:function(){return i("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX},set:function(e){i("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),t.settings.RETINA_PREFIX=e}},DEFAULT_RENDER_OPTIONS:{get:function(){return i("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),t.settings.RENDER_OPTIONS}}});for(var l=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],h=function(e){var n=l[e];Object.defineProperty(t[n.parent],"DEFAULT",{get:function(){return i("PIXI."+n.parent+".DEFAULT has been deprecated, please use PIXI.settings."+n.target),t.settings[n.target]},set:function(e){i("PIXI."+n.parent+".DEFAULT has been deprecated, please use PIXI.settings."+n.target),t.settings[n.target]=e}})},c=0;c<l.length;c++)h(c);Object.defineProperties(t.settings,{PRECISION:{get:function(){return i("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT},set:function(e){i("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),t.settings.PRECISION_FRAGMENT=e}}}),r.AnimatedSprite&&Object.defineProperties(r,{MovieClip:{get:function(){return i("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),r.AnimatedSprite}}}),t.DisplayObject.prototype.generateTexture=function(t,e,n){return i("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),t.generateTexture(this,e,n)},t.Graphics.prototype.generateTexture=function(t,e){return i("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(t,e)},t.RenderTexture.prototype.render=function(t,e,n,r){this.legacyRenderer.render(t,this,n,e,!r),i("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},t.RenderTexture.prototype.getImage=function(t){return i("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(t)},t.RenderTexture.prototype.getBase64=function(t){return i("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(t)},t.RenderTexture.prototype.getCanvas=function(t){return i("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(t)},t.RenderTexture.prototype.getPixels=function(t){return i("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(t)},t.Sprite.prototype.setTexture=function(t){this.texture=t,i("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},r.BitmapText&&(r.BitmapText.prototype.setText=function(t){this.text=t,i("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")}),t.Text.prototype.setText=function(t){this.text=t,i("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},t.Text.calculateFontProperties=function(e){return i("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),t.TextMetrics.measureFont(e)},Object.defineProperties(t.Text,{fontPropertiesCache:{get:function(){return i("Text.fontPropertiesCache is deprecated"),t.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return i("Text.fontPropertiesCanvas is deprecated"),t.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return i("Text.fontPropertiesContext is deprecated"),t.TextMetrics._context}}}),t.Text.prototype.setStyle=function(t){this.style=t,i("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},t.Text.prototype.determineFontProperties=function(e){return i("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),t.TextMetrics.measureFont(e)},t.Text.getFontStyle=function(e){return i("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),e=e||{},e instanceof t.TextStyle||(e=new t.TextStyle(e)),e.toFontString()},Object.defineProperties(t.TextStyle.prototype,{font:{get:function(){i("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var t="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+t+" "+this._fontFamily},set:function(t){i("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),t.indexOf("italic")>1?this._fontStyle="italic":t.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",t.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var e=t.split(" "),n=-1;this._fontSize=26;for(var r=0;r<e.length;++r)if(e[r].match(/(px|pt|em|%)/)){n=r,this._fontSize=e[r];break}this._fontWeight="normal";for(var o=0;o<n;++o)if(e[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=e[o];break}if(n>-1&&n<e.length-1){this._fontFamily="";for(var a=n+1;a<e.length;++a)this._fontFamily+=e[a]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),t.Texture.prototype.setFrame=function(t){this.frame=t,i("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},t.Texture.addTextureToCache=function(e,n){t.Texture.addToCache(e,n),i("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},t.Texture.removeTextureFromCache=function(e){return i("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),t.BaseTexture.removeFromCache(e),t.Texture.removeFromCache(e)},Object.defineProperties(o,{AbstractFilter:{get:function(){return i("AstractFilter has been renamed to Filter, please use PIXI.Filter"),t.AbstractFilter}},SpriteMaskFilter:{get:function(){return i("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),t.SpriteMaskFilter}}}),t.utils.uuid=function(){return i("utils.uuid() is deprecated, please use utils.uid() from now on."),t.utils.uid()},t.utils.canUseNewCanvasBlendModes=function(){return i("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),t.CanvasTinter.canUseMultiply};var f=!0;if(Object.defineProperty(t.utils,"_saidHello",{set:function(t){t&&(i("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),f=t},get:function(){return f}}),a.BasePrepare&&(a.BasePrepare.prototype.register=function(t,e){return i("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),t&&this.registerFindHook(t),e&&this.registerUploadHook(e),this}),a.canvas&&Object.defineProperty(a.canvas,"UPLOADS_PER_FRAME",{set:function(){i("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return i("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),a.webgl&&Object.defineProperty(a.webgl,"UPLOADS_PER_FRAME",{set:function(){i("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return i("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),s.Loader){var d=s.Resource,p=s.Loader;Object.defineProperties(d.prototype,{isJson:{get:function(){return i("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===d.TYPE.JSON}},isXml:{get:function(){return i("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===d.TYPE.XML}},isImage:{get:function(){return i("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===d.TYPE.IMAGE}},isAudio:{get:function(){return i("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===d.TYPE.AUDIO}},isVideo:{get:function(){return i("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===d.TYPE.VIDEO}}}),Object.defineProperties(p.prototype,{before:{get:function(){return i("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return i("The after() method is deprecated, please use use()."),this.use}}})}u.interactiveTarget&&Object.defineProperty(u.interactiveTarget,"defaultCursor",{set:function(t){i("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=t},get:function(){return i("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}}),u.InteractionManager&&(Object.defineProperty(u.InteractionManager,"defaultCursorStyle",{set:function(t){i("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=t},get:function(){return i("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(u.InteractionManager,"currentCursorStyle",{set:function(t){i("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=t},get:function(){return i("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))}e.__esModule=!0,e.default=n},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=i(9),a=n(o),s=new a.Rectangle,u=function(){function t(e){r(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function t(e){var t=new Image;return t.src=this.base64(e),t},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,i=void 0,n=void 0,r=void 0,o=void 0;t&&(o=t instanceof a.RenderTexture?t:e.generateTexture(t)),o?(i=o.baseTexture._canvasRenderTarget.context,n=o.baseTexture._canvasRenderTarget.resolution,r=o.frame):(i=e.rootContext,r=s,r.width=this.renderer.width,r.height=this.renderer.height);var u=r.width*n,l=r.height*n,h=new a.CanvasRenderTarget(u,l),c=i.getImageData(r.x*n,r.y*n,u,l);return h.context.putImageData(c,0,0),h.canvas},t.prototype.pixels=function(t){var e=this.renderer,i=void 0,n=void 0,r=void 0,o=void 0;return t&&(o=t instanceof a.RenderTexture?t:e.generateTexture(t)),o?(i=o.baseTexture._canvasRenderTarget.context,n=o.baseTexture._canvasRenderTarget.resolution,r=o.frame):(i=e.rootContext,r=s,r.width=e.width,r.height=e.height),i.getImageData(0,0,r.width*n,r.height*n).data},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=u,a.CanvasRenderer.registerPlugin("extract",u)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=i(761);Object.defineProperty(e,"webgl",{enumerable:!0,get:function(){return n(r).default}});var o=i(759);Object.defineProperty(e,"canvas",{enumerable:!0,get:function(){return n(o).default}})},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=i(9),a=n(o),s=new a.Rectangle,u=4,l=function(){function t(e){r(this,t),this.renderer=e,e.extract=this}return t.prototype.image=function t(e){var t=new Image;return t.src=this.base64(e),t},t.prototype.base64=function(t){return this.canvas(t).toDataURL()},t.prototype.canvas=function(t){var e=this.renderer,i=void 0,n=void 0,r=void 0,o=!1,l=void 0;t&&(l=t instanceof a.RenderTexture?t:this.renderer.generateTexture(t)),l?(i=l.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],n=i.resolution,r=l.frame,o=!1):(i=this.renderer.rootRenderTarget,n=i.resolution,o=!0,r=s,r.width=i.size.width,r.height=i.size.height);var h=r.width*n,c=r.height*n,f=new a.CanvasRenderTarget(h,c);if(i){e.bindRenderTarget(i);var d=new Uint8Array(u*h*c),p=e.gl;p.readPixels(r.x*n,r.y*n,h,c,p.RGBA,p.UNSIGNED_BYTE,d);var y=f.context.getImageData(0,0,h,c);y.data.set(d),f.context.putImageData(y,0,0),o&&(f.context.scale(1,-1),f.context.drawImage(f.canvas,0,-c))}return f.canvas},t.prototype.pixels=function(t){var e=this.renderer,i=void 0,n=void 0,r=void 0,o=void 0;t&&(o=t instanceof a.RenderTexture?t:this.renderer.generateTexture(t)),o?(i=o.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],n=i.resolution,r=o.frame):(i=this.renderer.rootRenderTarget,n=i.resolution,r=s,r.width=i.size.width,r.height=i.size.height);var l=r.width*n,h=r.height*n,c=new Uint8Array(u*l*h);if(i){e.bindRenderTarget(i);var f=e.gl;f.readPixels(r.x*n,r.y*n,l,h,f.RGBA,f.UNSIGNED_BYTE,c)}return c},t.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},t}();e.default=l,a.WebGLRenderer.registerPlugin("extract",l)},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(9),l=n(u),h=function(t){function e(i,n){r(this,e);var a=o(this,t.call(this,i[0]instanceof l.Texture?i[0]:i[0].texture));return a._textures=null,a._durations=null,a.textures=i,a._autoUpdate=n!==!1,a.animationSpeed=1,a.loop=!0,a.onComplete=null,a.onFrameChange=null,a.onLoop=null,a._currentTime=0,a.playing=!1,a}return a(e,t),e.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&l.ticker.shared.remove(this.update,this))},e.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&l.ticker.shared.add(this.update,this,l.UPDATE_PRIORITY.HIGH))},e.prototype.gotoAndStop=function(t){this.stop();var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture()},e.prototype.gotoAndPlay=function(t){var e=this.currentFrame;this._currentTime=t,e!==this.currentFrame&&this.updateTexture(),this.play()},e.prototype.update=function(t){var e=this.animationSpeed*t,i=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=e/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];var r=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*r,this._currentTime+=r;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=e;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i?this.onLoop():this.animationSpeed<0&&this.currentFrame>i&&this.onLoop()),this.updateTexture())},e.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.onFrameChange&&this.onFrameChange(this.currentFrame)},e.prototype.destroy=function(e){this.stop(),t.prototype.destroy.call(this,e)},e.fromFrames=function(t){for(var i=[],n=0;n<t.length;++n)i.push(l.Texture.fromFrame(t[n]));return new e(i)},e.fromImages=function(t){for(var i=[],n=0;n<t.length;++n)i.push(l.Texture.fromImage(t[n]));return new e(i)},s(e,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(t){if(t[0]instanceof l.Texture)this._textures=t,this._durations=null;else{this._textures=[],this._durations=[];for(var e=0;e<t.length;e++)this._textures.push(t[e].texture),this._durations.push(t[e].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var t=Math.floor(this._currentTime)%this._textures.length;return t<0&&(t+=this._textures.length),t}}]),e}(l.Sprite);e.default=h},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(9),h=r(l),c=i(289),f=n(c),d=i(24),p=n(d),y=function(t){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};o(this,e);var r=a(this,t.call(this));return r._textWidth=0,r._textHeight=0,r._glyphs=[],r._font={tint:void 0!==n.tint?n.tint:16777215,align:n.align||"left",name:null,size:0},r.font=n.font,r._text=i,r._maxWidth=0,r._maxLineHeight=0,r._anchor=new f.default(function(){r.dirty=!0},r,0,0),r.dirty=!1,r.updateText(),r}return s(e,t),e.prototype.updateText=function(){for(var t=e.fonts[this._font.name],i=this._font.size/t.size,n=new h.Point,r=[],o=[],a=null,s=0,u=0,l=0,c=-1,f=0,d=0,p=0,y=0;y<this.text.length;y++){var v=this.text.charCodeAt(y);if(/(\s)/.test(this.text.charAt(y))&&(c=y,f=s),/(?:\r\n|\r|\n)/.test(this.text.charAt(y)))o.push(s),u=Math.max(u,s),l++,n.x=0,n.y+=t.lineHeight,a=null;else if(c!==-1&&this._maxWidth>0&&n.x*i>this._maxWidth)h.utils.removeItems(r,c-d,y-c),y=c,c=-1,++d,o.push(f),u=Math.max(u,f),l++,n.x=0,n.y+=t.lineHeight,a=null;else{var m=t.chars[v];m&&(a&&m.kerning[a]&&(n.x+=m.kerning[a]),r.push({texture:m.texture,line:l,charCode:v,position:new h.Point(n.x+m.xOffset,n.y+m.yOffset)}),s=n.x+(m.texture.width+m.xOffset),n.x+=m.xAdvance,p=Math.max(p,m.yOffset+m.texture.height),a=v)}}o.push(s),u=Math.max(u,s);for(var g=[],_=0;_<=l;_++){var b=0;"right"===this._font.align?b=u-o[_]:"center"===this._font.align&&(b=(u-o[_])/2),g.push(b)}for(var w=r.length,x=this.tint,T=0;T<w;T++){var S=this._glyphs[T];S?S.texture=r[T].texture:(S=new h.Sprite(r[T].texture),this._glyphs.push(S)),S.position.x=(r[T].position.x+g[r[T].line])*i,S.position.y=r[T].position.y*i,S.scale.x=S.scale.y=i,S.tint=x,S.parent||this.addChild(S)}for(var E=w;E<this._glyphs.length;++E)this.removeChild(this._glyphs[E]);if(this._textWidth=u*i,this._textHeight=(n.y+t.lineHeight)*i,0!==this.anchor.x||0!==this.anchor.y)for(var C=0;C<w;C++)this._glyphs[C].x-=this._textWidth*this.anchor.x,this._glyphs[C].y-=this._textHeight*this.anchor.y;this._maxLineHeight=p*i},e.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},e.prototype.getLocalBounds=function(){return this.validate(),t.prototype.getLocalBounds.call(this)},e.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},e.registerFont=function(t,i){var n={},r=t.getElementsByTagName("info")[0],o=t.getElementsByTagName("common")[0],a=i.baseTexture.resolution||p.default.RESOLUTION;n.font=r.getAttribute("face"),n.size=parseInt(r.getAttribute("size"),10),n.lineHeight=parseInt(o.getAttribute("lineHeight"),10)/a,n.chars={};for(var s=t.getElementsByTagName("char"),u=0;u<s.length;u++){var l=s[u],c=parseInt(l.getAttribute("id"),10),f=new h.Rectangle(parseInt(l.getAttribute("x"),10)/a+i.frame.x/a,parseInt(l.getAttribute("y"),10)/a+i.frame.y/a,parseInt(l.getAttribute("width"),10)/a,parseInt(l.getAttribute("height"),10)/a);n.chars[c]={xOffset:parseInt(l.getAttribute("xoffset"),10)/a,yOffset:parseInt(l.getAttribute("yoffset"),10)/a,xAdvance:parseInt(l.getAttribute("xadvance"),10)/a,kerning:{},texture:new h.Texture(i.baseTexture,f)}}for(var d=t.getElementsByTagName("kerning"),y=0;y<d.length;y++){var v=d[y],m=parseInt(v.getAttribute("first"),10)/a,g=parseInt(v.getAttribute("second"),10)/a,_=parseInt(v.getAttribute("amount"),10)/a;n.chars[g]&&(n.chars[g].kerning[m]=_)}return e.fonts[n.font]=n,n},u(e,[{key:"tint",get:function(){return this._font.tint},set:function(t){this._font.tint="number"==typeof t&&t>=0?t:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(t){this._font.align=t||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(t){"number"==typeof t?this._anchor.set(t):this._anchor.copy(t)}},{key:"font",get:function(){return this._font},set:function(t){t&&("string"==typeof t?(t=t.split(" "),this._font.name=1===t.length?t[0]:t.slice(1).join(" "),this._font.size=t.length>=2?parseInt(t[0],10):e.fonts[this._font.name].size):(this._font.name=t.name,this._font.size="number"==typeof t.size?t.size:parseInt(t.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(t){t=t.toString()||" ",this._text!==t&&(this._text=t,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),e}(h.Container);e.default=y,y.fonts={}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(9),h=r(l),c=i(186),f=n(c),d=i(190),p=n(d),y=new h.Point,v=function(t){function e(i){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;o(this,e);var s=a(this,t.call(this,i));return s.tileTransform=new h.TransformStatic,s._width=n,s._height=r,s._canvasPattern=null,s.uvTransform=i.transform||new p.default(i),s.pluginName="tilingSprite",s.uvRespectAnchor=!1,s}return s(e,t),e.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture)},e.prototype._renderWebGL=function(t){var e=this._texture;e&&e.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),t.setObjectRenderer(t.plugins[this.pluginName]),t.plugins[this.pluginName].render(this))},e.prototype._renderCanvas=function(t){var e=this._texture;if(e.baseTexture.hasLoaded){var i=t.context,n=this.worldTransform,r=t.resolution,o=e.baseTexture,a=o.resolution,s=this.tilePosition.x/this.tileScale.x%e._frame.width*a,u=this.tilePosition.y/this.tileScale.y%e._frame.height*a;if(!this._canvasPattern){var l=new h.CanvasRenderTarget(e._frame.width,e._frame.height,a);16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,
this.tintedTexture=f.default.getTintedTexture(this,this.tint)),l.context.drawImage(this.tintedTexture,0,0)):l.context.drawImage(o.source,-e._frame.x*a,-e._frame.y*a),this._canvasPattern=l.context.createPattern(l.canvas,"repeat")}i.globalAlpha=this.worldAlpha,i.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*r,n.ty*r),t.setBlendMode(this.blendMode),i.fillStyle=this._canvasPattern,i.scale(this.tileScale.x/a,this.tileScale.y/a);var c=this.anchor.x*-this._width,d=this.anchor.y*-this._height;this.uvRespectAnchor?(i.translate(s,u),i.fillRect(-s+c,-u+d,this._width/this.tileScale.x*a,this._height/this.tileScale.y*a)):(i.translate(s+c,u+d),i.fillRect(-s,-u,this._width/this.tileScale.x*a,this._height/this.tileScale.y*a))}},e.prototype._calculateBounds=function(){var t=this._width*-this._anchor._x,e=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,t,e,i,n)},e.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._x),e||(this._localBoundsRect||(this._localBoundsRect=new h.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):t.prototype.getLocalBounds.call(this,e)},e.prototype.containsPoint=function(t){this.worldTransform.applyInverse(t,y);var e=this._width,i=this._height,n=-e*this.anchor._x;if(y.x>=n&&y.x<n+e){var r=-i*this.anchor._y;if(y.y>=r&&y.y<r+i)return!0}return!1},e.prototype.destroy=function(e){t.prototype.destroy.call(this,e),this.tileTransform=null,this.uvTransform=null},e.from=function(t,i,n){return new e(h.Texture.from(t),i,n)},e.fromFrame=function(t,i,n){var r=h.utils.TextureCache[t];if(!r)throw new Error('The frameId "'+t+'" does not exist in the texture cache '+this);return new e(r,i,n)},e.fromImage=function(t,i,n,r,o){return new e(h.Texture.fromImage(t,r,o),i,n)},u(e,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(t){this.uvTransform.clampMargin=t,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(t){this.tileTransform.scale.copy(t)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(t){this.tileTransform.position.copy(t)}},{key:"width",get:function(){return this._width},set:function(t){this._width=t}},{key:"height",get:function(){return this._height},set:function(t){this._height=t}}]),e}(h.Sprite);e.default=v},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var a=i(9),s=r(a),u=i(76),l=n(u),h=i(86),c=n(h),f=i(13),d=s.DisplayObject,p=new s.Matrix;d.prototype._cacheAsBitmap=!1,d.prototype._cacheData=!1;var y=function t(){o(this,t),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(d.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(t){if(this._cacheAsBitmap!==t){this._cacheAsBitmap=t;var e=void 0;t?(this._cacheData||(this._cacheData=new y),e=this._cacheData,e.originalRenderWebGL=this.renderWebGL,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this._calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=e.originalRenderWebGL,this.renderCanvas=e.originalRenderCanvas,this._calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}}),d.prototype._renderCachedWebGL=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(t))},d.prototype._initCachedDisplayObject=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.alpha;this.alpha=1,t.currentRenderer.flush();var i=this.getLocalBounds().clone();if(this._filters){var n=this._filters[0].padding;i.pad(n)}var r=t._activeRenderTarget,o=t.filterManager.filterStack,a=s.RenderTexture.create(0|i.width,0|i.height),u="cacheAsBitmap_"+(0,f.uid)();this._cacheData.textureCacheId=u,c.default.addToCache(a.baseTexture,u),l.default.addToCache(a,u);var h=p;h.tx=-i.x,h.ty=-i.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,t.render(this,a,!0,h,!0),t.bindRenderTarget(r),t.filterManager.filterStack=o,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null;var d=new s.Sprite(a);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-(i.x/i.width),d.anchor.y=-(i.y/i.height),d.alpha=e,d._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=d.containsPoint.bind(d)}},d.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(t))},d.prototype._initCachedDisplayObjectCanvas=function(t){if(!this._cacheData||!this._cacheData.sprite){var e=this.getLocalBounds(),i=this.alpha;this.alpha=1;var n=t.context,r=s.RenderTexture.create(0|e.width,0|e.height),o="cacheAsBitmap_"+(0,f.uid)();this._cacheData.textureCacheId=o,c.default.addToCache(r.baseTexture,o),l.default.addToCache(r,o);var a=p;this.transform.localTransform.copy(a),a.invert(),a.tx-=e.x,a.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,r,!0,a,!1),t.context=n,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null;var u=new s.Sprite(r);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(e.x/e.width),u.anchor.y=-(e.y/e.height),u._bounds=this._bounds,u.alpha=i,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=u,this.containsPoint=u.containsPoint.bind(u)}},d.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},d.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},d.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,c.default.removeFromCache(this._cacheData.textureCacheId),l.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},d.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)}},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}var r=i(9),o=n(r);o.DisplayObject.prototype.name=null,o.Container.prototype.getChildByName=function(t){for(var e=0;e<this.children.length;e++)if(this.children[e].name===t)return this.children[e];return null}},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}var r=i(9),o=n(r);o.DisplayObject.prototype.getGlobalPosition=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new o.Point,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t}},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(9),u=n(s),l=i(8),h=(i(46),new u.Matrix),c=function(t){function e(i){r(this,e);var n=o(this,t.call(this,i));return n.shader=null,n.simpleShader=null,n.quad=null,n}return a(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new u.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n\n    gl_FragColor = sample * color ;\n}\n"),this.simpleShader=new u.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);\n    gl_FragColor = sample * color;\n}\n"),this.renderer.bindVao(null),this.quad=new u.Quad(t,this.renderer.state.attribState),this.quad.initVao(this.shader)},e.prototype.render=function(t){var e=this.renderer,i=this.quad;e.bindVao(i.vao);var n=i.vertices;n[0]=n[6]=t._width*-t.anchor.x,n[1]=n[3]=t._height*-t.anchor.y,n[2]=n[4]=t._width*(1-t.anchor.x),n[5]=n[7]=t._height*(1-t.anchor.y),t.uvRespectAnchor&&(n=i.uvs,n[0]=n[6]=-t.anchor.x,n[1]=n[3]=-t.anchor.y,n[2]=n[4]=1-t.anchor.x,n[5]=n[7]=1-t.anchor.y),i.upload();var r=t._texture,o=r.baseTexture,a=t.tileTransform.localTransform,s=t.uvTransform,c=o.isPowerOfTwo&&r.frame.width===o.width&&r.frame.height===o.height;c&&(o._glTextures[e.CONTEXT_UID]?c=o.wrapMode!==l.WRAP_MODES.CLAMP:o.wrapMode===l.WRAP_MODES.CLAMP&&(o.wrapMode=l.WRAP_MODES.REPEAT));var f=c?this.simpleShader:this.shader;e.bindShader(f);var d=r.width,p=r.height,y=t._width,v=t._height;h.set(a.a*d/y,a.b*d/v,a.c*p/y,a.d*p/v,a.tx/y,a.ty/v),h.invert(),c?h.prepend(s.mapCoord):(f.uniforms.uMapCoord=s.mapCoord.toArray(!0),f.uniforms.uClampFrame=s.uClampFrame,f.uniforms.uClampOffset=s.uClampOffset),f.uniforms.uTransform=h.toArray(!0),f.uniforms.uColor=u.utils.premultiplyTintToRgba(t.tint,t.worldAlpha,f.uniforms.uColor,o.premultipliedAlpha),f.uniforms.translationMatrix=t.transform.worldTransform.toArray(!0),f.uniforms.uSampler=e.bindTexture(r),e.setBlendMode(u.utils.correctBlendMode(t.blendMode,o.premultipliedAlpha)),i.vao.draw(this.renderer.gl.TRIANGLES,6,0)},e}(u.ObjectRenderer);e.default=c,u.WebGLRenderer.registerPlugin("tilingSprite",c)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),l=i(9),h=r(l),c=i(302),f=n(c),d=i(303),p=n(d),y=function(t){function e(i,n,r,s){o(this,e);var u=a(this,t.call(this));return u.blurXFilter=new f.default(i,n,r,s),u.blurYFilter=new p.default(i,n,r,s),u.padding=0,u.resolution=r||h.settings.RESOLUTION,u.quality=n||4,u.blur=i||8,u}return s(e,t),e.prototype.apply=function(t,e,i){var n=t.getRenderTarget(!0);this.blurXFilter.apply(t,e,n,!0),this.blurYFilter.apply(t,n,i,!1),t.returnRenderTarget(n)},u(e,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(t){this.blurXFilter.quality=this.blurYFilter.quality=t}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(t){this.blurXFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(t){this.blurYFilter.blur=t,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}}]),e}(h.Filter);e.default=y},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(9),l=n(u),h=(i(46),function(t){function e(){r(this,e);var i=o(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));return i.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],i.alpha=1,i}return a(e,t),e.prototype._loadMatrix=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t;e&&(this._multiply(i,this.uniforms.m,t),i=this._colorMatrix(i)),this.uniforms.m=i},e.prototype._multiply=function(t,e,i){return t[0]=e[0]*i[0]+e[1]*i[5]+e[2]*i[10]+e[3]*i[15],t[1]=e[0]*i[1]+e[1]*i[6]+e[2]*i[11]+e[3]*i[16],t[2]=e[0]*i[2]+e[1]*i[7]+e[2]*i[12]+e[3]*i[17],t[3]=e[0]*i[3]+e[1]*i[8]+e[2]*i[13]+e[3]*i[18],t[4]=e[0]*i[4]+e[1]*i[9]+e[2]*i[14]+e[3]*i[19]+e[4],t[5]=e[5]*i[0]+e[6]*i[5]+e[7]*i[10]+e[8]*i[15],t[6]=e[5]*i[1]+e[6]*i[6]+e[7]*i[11]+e[8]*i[16],t[7]=e[5]*i[2]+e[6]*i[7]+e[7]*i[12]+e[8]*i[17],t[8]=e[5]*i[3]+e[6]*i[8]+e[7]*i[13]+e[8]*i[18],t[9]=e[5]*i[4]+e[6]*i[9]+e[7]*i[14]+e[8]*i[19]+e[9],t[10]=e[10]*i[0]+e[11]*i[5]+e[12]*i[10]+e[13]*i[15],t[11]=e[10]*i[1]+e[11]*i[6]+e[12]*i[11]+e[13]*i[16],t[12]=e[10]*i[2]+e[11]*i[7]+e[12]*i[12]+e[13]*i[17],t[13]=e[10]*i[3]+e[11]*i[8]+e[12]*i[13]+e[13]*i[18],t[14]=e[10]*i[4]+e[11]*i[9]+e[12]*i[14]+e[13]*i[19]+e[14],t[15]=e[15]*i[0]+e[16]*i[5]+e[17]*i[10]+e[18]*i[15],t[16]=e[15]*i[1]+e[16]*i[6]+e[17]*i[11]+e[18]*i[16],t[17]=e[15]*i[2]+e[16]*i[7]+e[17]*i[12]+e[18]*i[17],t[18]=e[15]*i[3]+e[16]*i[8]+e[17]*i[13]+e[18]*i[18],t[19]=e[15]*i[4]+e[16]*i[9]+e[17]*i[14]+e[18]*i[19]+e[19],t},e.prototype._colorMatrix=function(t){var e=new Float32Array(t);return e[4]/=255,e[9]/=255,e[14]/=255,e[19]/=255,e},e.prototype.brightness=function(t,e){var i=[t,0,0,0,0,0,t,0,0,0,0,0,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.greyscale=function(t,e){var i=[t,t,t,0,0,t,t,t,0,0,t,t,t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.blackAndWhite=function(t){var e=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.hue=function(t,e){t=(t||0)/180*Math.PI;var i=Math.cos(t),n=Math.sin(t),r=Math.sqrt,o=1/3,a=r(o),s=i+(1-i)*o,u=o*(1-i)-a*n,l=o*(1-i)+a*n,h=o*(1-i)+a*n,c=i+o*(1-i),f=o*(1-i)-a*n,d=o*(1-i)-a*n,p=o*(1-i)+a*n,y=i+o*(1-i),v=[s,u,l,0,0,h,c,f,0,0,d,p,y,0,0,0,0,0,1,0];this._loadMatrix(v,e)},e.prototype.contrast=function(t,e){var i=(t||0)+1,n=-128*(i-1),r=[i,0,0,0,n,0,i,0,0,n,0,0,i,0,n,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.saturate=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments[1],i=2*t/3+1,n=(i-1)*-.5,r=[i,n,n,0,0,n,i,n,0,0,n,n,i,0,0,0,0,0,1,0];this._loadMatrix(r,e)},e.prototype.desaturate=function(){this.saturate(-1)},e.prototype.negative=function(t){var e=[0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.sepia=function(t){var e=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.technicolor=function(t){var e=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.polaroid=function(t){var e=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.toBGR=function(t){var e=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.kodachrome=function(t){var e=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.browni=function(t){var e=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.vintage=function(t){var e=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.colorTone=function(t,e,i,n,r){t=t||.2,e=e||.15,i=i||16770432,n=n||3375104;var o=(i>>16&255)/255,a=(i>>8&255)/255,s=(255&i)/255,u=(n>>16&255)/255,l=(n>>8&255)/255,h=(255&n)/255,c=[.3,.59,.11,0,0,o,a,s,t,0,u,l,h,e,0,o-u,a-l,s-h,0,0];this._loadMatrix(c,r)},e.prototype.night=function(t,e){t=t||.1;var i=[t*-2,-t,0,0,0,-t,0,t,0,0,0,t,2*t,0,0,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.predator=function(t,e){var i=[11.224130630493164*t,-4.794486999511719*t,-2.8746118545532227*t,0*t,.40342438220977783*t,-3.6330697536468506*t,9.193157196044922*t,-2.951810836791992*t,0*t,-1.316135048866272*t,-3.2184197902679443*t,-4.2375030517578125*t,7.476448059082031*t,0*t,.8044459223747253*t,0,0,0,1,0];this._loadMatrix(i,e)},e.prototype.lsd=function(t){var e=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(e,t)},e.prototype.reset=function(){var t=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(t,!1)},s(e,[{key:"matrix",get:function(){return this.uniforms.m},set:function(t){this.uniforms.m=t}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(t){this.uniforms.uAlpha=t}}]),e}(l.Filter));e.default=h,h.prototype.grayscale=h.prototype.greyscale},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(9),l=n(u),h=(i(46),function(t){function e(i,n){r(this,e);var a=new l.Matrix;i.renderable=!1;var s=o(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n   vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n   map -= 0.5;\n   map.xy *= scale;\n\n   gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));return s.maskSprite=i,s.maskMatrix=a,s.uniforms.mapSampler=i._texture,s.uniforms.filterMatrix=a,s.uniforms.scale={x:1,y:1},null!==n&&void 0!==n||(n=20),s.scale=new l.Point(n,n),s}return a(e,t),e.prototype.apply=function(t,e,i){var n=1/i.destinationFrame.width*(i.size.width/e.size.width);this.uniforms.filterMatrix=t.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x*n,this.uniforms.scale.y=this.scale.y*n,t.applyFilter(this,e,i)},s(e,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(t){this.uniforms.mapSampler=t}}]),e}(l.Filter));e.default=h},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(9),u=n(s),l=(i(46),function(t){function e(){return r(this,e),o(this,t.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'));
}return a(e,t),e}(u.Filter));e.default=l},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=i(772);Object.defineProperty(e,"FXAAFilter",{enumerable:!0,get:function(){return n(r).default}});var o=i(774);Object.defineProperty(e,"NoiseFilter",{enumerable:!0,get:function(){return n(o).default}});var a=i(771);Object.defineProperty(e,"DisplacementFilter",{enumerable:!0,get:function(){return n(a).default}});var s=i(769);Object.defineProperty(e,"BlurFilter",{enumerable:!0,get:function(){return n(s).default}});var u=i(302);Object.defineProperty(e,"BlurXFilter",{enumerable:!0,get:function(){return n(u).default}});var l=i(303);Object.defineProperty(e,"BlurYFilter",{enumerable:!0,get:function(){return n(l).default}});var h=i(770);Object.defineProperty(e,"ColorMatrixFilter",{enumerable:!0,get:function(){return n(h).default}});var c=i(775);Object.defineProperty(e,"VoidFilter",{enumerable:!0,get:function(){return n(c).default}})},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(9),l=n(u),h=(i(46),function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.5,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Math.random();r(this,e);var a=o(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));return a.noise=i,a.seed=n,a}return a(e,t),s(e,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(t){this.uniforms.uNoise=t}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(t){this.uniforms.uSeed=t}}]),e}(l.Filter));e.default=h},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(9),u=n(s),l=(i(46),function(t){function e(){r(this,e);var i=o(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord);\n}\n"));return i.glShaderKey="void",i}return a(e,t),e}(u.Filter));e.default=l},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n=function(){function t(){i(this,t),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return t.prototype.stopPropagation=function(){this.stopped=!0},t.prototype._reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},t}();e.default=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l=i(9),h=r(l),c=i(307),f=n(c),d=i(776),p=n(d),y=i(778),v=n(y),m=i(74),g=n(m),_=i(308),b=n(_);h.utils.mixins.delayMixin(h.DisplayObject.prototype,b.default);var w="MOUSE",x={target:null,data:{global:null}},T=function(t){function e(i,n){o(this,e);var r=a(this,t.call(this));return n=n||{},r.renderer=i,r.autoPreventDefault=void 0===n.autoPreventDefault||n.autoPreventDefault,r.interactionFrequency=n.interactionFrequency||10,r.mouse=new f.default,r.mouse.identifier=w,r.mouse.global.set(-999999),r.activeInteractionData={},r.activeInteractionData[w]=r.mouse,r.interactionDataPool=[],r.eventData=new p.default,r.interactionDOMElement=null,r.moveWhenInside=!1,r.eventsAdded=!1,r.mouseOverRenderer=!1,r.supportsTouchEvents="ontouchstart"in window,r.supportsPointerEvents=!!window.PointerEvent,r.onPointerUp=r.onPointerUp.bind(r),r.processPointerUp=r.processPointerUp.bind(r),r.onPointerCancel=r.onPointerCancel.bind(r),r.processPointerCancel=r.processPointerCancel.bind(r),r.onPointerDown=r.onPointerDown.bind(r),r.processPointerDown=r.processPointerDown.bind(r),r.onPointerMove=r.onPointerMove.bind(r),r.processPointerMove=r.processPointerMove.bind(r),r.onPointerOut=r.onPointerOut.bind(r),r.processPointerOverOut=r.processPointerOverOut.bind(r),r.onPointerOver=r.onPointerOver.bind(r),r.cursorStyles={default:"inherit",pointer:"pointer"},r.currentCursorMode=null,r.cursor=null,r._tempPoint=new h.Point,r.resolution=1,r.setTargetElement(r.renderer.view,r.renderer.resolution),r}return s(e,t),e.prototype.hitTest=function(t,e){return x.target=null,x.data.global=t,e||(e=this.renderer._lastObjectRendered),this.processInteractive(x,e,null,!0),x.target},e.prototype.setTargetElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=t,this.resolution=e,this.addEvents()},e.prototype.addEvents=function(){this.interactionDOMElement&&(h.ticker.shared.add(this.update,this,h.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},e.prototype.removeEvents=function(){this.interactionDOMElement&&(h.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},e.prototype.update=function(t){if(this._deltaTime+=t,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);this.cursor=null;for(var e in this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(e)){var i=this.activeInteractionData[e];if(i.originalEvent&&"touch"!==i.pointerType){var n=this.configureInteractionEventForDOMEvent(this.eventData,i.originalEvent,i);this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},e.prototype.setCursorMode=function(t){if(t=t||"default",this.currentCursorMode!==t){this.currentCursorMode=t;var e=this.cursorStyles[t];if(e)switch("undefined"==typeof e?"undefined":u(e)){case"string":this.interactionDOMElement.style.cursor=e;break;case"function":e(t);break;case"object":Object.assign(this.interactionDOMElement.style,e)}else"string"!=typeof t||Object.prototype.hasOwnProperty.call(this.cursorStyles,t)||(this.interactionDOMElement.style.cursor=t)}},e.prototype.dispatchEvent=function(t,e,i){i.stopped||(i.currentTarget=t,i.type=e,t.emit(e,i),t[e]&&t[e](i))},e.prototype.mapPositionToPoint=function(t,e,i){var n=void 0;n=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var r=navigator.isCocoonJS?this.resolution:1/this.resolution;t.x=(e-n.left)*(this.interactionDOMElement.width/n.width)*r,t.y=(i-n.top)*(this.interactionDOMElement.height/n.height)*r},e.prototype.processInteractive=function(t,e,i,n,r){if(!e||!e.visible)return!1;var o=t.data.global;r=e.interactive||r;var a=!1,s=r;if(e.hitArea?s=!1:n&&e._mask&&(e._mask.containsPoint(o)||(n=!1)),e.interactiveChildren&&e.children)for(var u=e.children,l=u.length-1;l>=0;l--){var h=u[l],c=this.processInteractive(t,h,i,n,s);if(c){if(!h.parent)continue;s=!1,c&&(t.target&&(n=!1),a=!0)}}return r&&(n&&!t.target&&(e.hitArea?(e.worldTransform.applyInverse(o,this._tempPoint),e.hitArea.contains(this._tempPoint.x,this._tempPoint.y)&&(a=!0)):e.containsPoint&&e.containsPoint(o)&&(a=!0)),e.interactive&&(a&&!t.target&&(t.target=e),i&&i(t,e,!!a))),a},e.prototype.onPointerDown=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&t.preventDefault();for(var i=e.length,n=0;n<i;n++){var r=e[n],o=this.getInteractionDataForPointerId(r),a=this.configureInteractionEventForDOMEvent(this.eventData,r,o);if(a.data.originalEvent=t,this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",a),"touch"===r.pointerType)this.emit("touchstart",a);else if("mouse"===r.pointerType||"pen"===r.pointerType){var s=2===r.button;this.emit(s?"rightdown":"mousedown",this.eventData)}}}},e.prototype.processPointerDown=function(t,e,i){var n=t.data,r=t.data.identifier;if(i)if(e.trackedPointers[r]||(e.trackedPointers[r]=new v.default(r)),this.dispatchEvent(e,"pointerdown",t),"touch"===n.pointerType)this.dispatchEvent(e,"touchstart",t);else if("mouse"===n.pointerType||"pen"===n.pointerType){var o=2===n.button;o?e.trackedPointers[r].rightDown=!0:e.trackedPointers[r].leftDown=!0,this.dispatchEvent(e,o?"rightdown":"mousedown",t)}},e.prototype.onPointerComplete=function(t,e,i){for(var n=this.normalizeToPointerData(t),r=n.length,o=t.target!==this.interactionDOMElement?"outside":"",a=0;a<r;a++){var s=n[a],u=this.getInteractionDataForPointerId(s),l=this.configureInteractionEventForDOMEvent(this.eventData,s,u);if(l.data.originalEvent=t,this.processInteractive(l,this.renderer._lastObjectRendered,i,e||!o),this.emit(e?"pointercancel":"pointerup"+o,l),"mouse"===s.pointerType||"pen"===s.pointerType){var h=2===s.button;this.emit(h?"rightup"+o:"mouseup"+o,l)}else"touch"===s.pointerType&&(this.emit(e?"touchcancel":"touchend"+o,l),this.releaseInteractionDataForPointerId(s.pointerId,u))}},e.prototype.onPointerCancel=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!0,this.processPointerCancel)},e.prototype.processPointerCancel=function(t,e){var i=t.data,n=t.data.identifier;void 0!==e.trackedPointers[n]&&(delete e.trackedPointers[n],this.dispatchEvent(e,"pointercancel",t),"touch"===i.pointerType&&this.dispatchEvent(e,"touchcancel",t))},e.prototype.onPointerUp=function(t){this.supportsTouchEvents&&"touch"===t.pointerType||this.onPointerComplete(t,!1,this.processPointerUp)},e.prototype.processPointerUp=function(t,e,i){var n=t.data,r=t.data.identifier,o=e.trackedPointers[r],a="touch"===n.pointerType,s="mouse"===n.pointerType||"pen"===n.pointerType;if(s){var u=2===n.button,l=v.default.FLAGS,h=u?l.RIGHT_DOWN:l.LEFT_DOWN,c=void 0!==o&&o.flags&h;i?(this.dispatchEvent(e,u?"rightup":"mouseup",t),c&&this.dispatchEvent(e,u?"rightclick":"click",t)):c&&this.dispatchEvent(e,u?"rightupoutside":"mouseupoutside",t),o&&(u?o.rightDown=!1:o.leftDown=!1)}i?(this.dispatchEvent(e,"pointerup",t),a&&this.dispatchEvent(e,"touchend",t),o&&(this.dispatchEvent(e,"pointertap",t),a&&(this.dispatchEvent(e,"tap",t),o.over=!1))):o&&(this.dispatchEvent(e,"pointerupoutside",t),a&&this.dispatchEvent(e,"touchendoutside",t)),o&&o.none&&delete e.trackedPointers[r]},e.prototype.onPointerMove=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t);"mouse"===e[0].pointerType&&(this.didMove=!0,this.cursor=null);for(var i=e.length,n=0;n<i;n++){var r=e[n],o=this.getInteractionDataForPointerId(r),a=this.configureInteractionEventForDOMEvent(this.eventData,r,o);a.data.originalEvent=t;var s="touch"!==r.pointerType||this.moveWhenInside;this.processInteractive(a,this.renderer._lastObjectRendered,this.processPointerMove,s),this.emit("pointermove",a),"touch"===r.pointerType&&this.emit("touchmove",a),"mouse"!==r.pointerType&&"pen"!==r.pointerType||this.emit("mousemove",a)}"mouse"===e[0].pointerType&&this.setCursorMode(this.cursor)}},e.prototype.processPointerMove=function(t,e,i){var n=t.data,r="touch"===n.pointerType,o="mouse"===n.pointerType||"pen"===n.pointerType;o&&this.processPointerOverOut(t,e,i),this.moveWhenInside&&!i||(this.dispatchEvent(e,"pointermove",t),r&&this.dispatchEvent(e,"touchmove",t),o&&this.dispatchEvent(e,"mousemove",t))},e.prototype.onPointerOut=function(t){if(!this.supportsTouchEvents||"touch"!==t.pointerType){var e=this.normalizeToPointerData(t),i=e[0];"mouse"===i.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var n=this.getInteractionDataForPointerId(i),r=this.configureInteractionEventForDOMEvent(this.eventData,i,n);r.data.originalEvent=i,this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",r),"mouse"===i.pointerType||"pen"===i.pointerType?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(n.identifier)}},e.prototype.processPointerOverOut=function(t,e,i){var n=t.data,r=t.data.identifier,o="mouse"===n.pointerType||"pen"===n.pointerType,a=e.trackedPointers[r];i&&!a&&(a=e.trackedPointers[r]=new v.default(r)),void 0!==a&&(i&&this.mouseOverRenderer?(a.over||(a.over=!0,this.dispatchEvent(e,"pointerover",t),o&&this.dispatchEvent(e,"mouseover",t)),o&&null===this.cursor&&(this.cursor=e.cursor)):a.over&&(a.over=!1,this.dispatchEvent(e,"pointerout",this.eventData),o&&this.dispatchEvent(e,"mouseout",t),a.none&&delete e.trackedPointers[r]))},e.prototype.onPointerOver=function(t){var e=this.normalizeToPointerData(t),i=e[0],n=this.getInteractionDataForPointerId(i),r=this.configureInteractionEventForDOMEvent(this.eventData,i,n);r.data.originalEvent=i,"mouse"===i.pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",r),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mouseover",r)},e.prototype.getInteractionDataForPointerId=function(t){var e=t.pointerId,i=void 0;return e===w||"mouse"===t.pointerType?i=this.mouse:this.activeInteractionData[e]?i=this.activeInteractionData[e]:(i=this.interactionDataPool.pop()||new f.default,i.identifier=e,this.activeInteractionData[e]=i),i._copyEvent(t),i},e.prototype.releaseInteractionDataForPointerId=function(t){var e=this.activeInteractionData[t];e&&(delete this.activeInteractionData[t],e._reset(),this.interactionDataPool.push(e))},e.prototype.configureInteractionEventForDOMEvent=function(t,e,i){return t.data=i,this.mapPositionToPoint(i.global,e.clientX,e.clientY),navigator.isCocoonJS&&"touch"===e.pointerType&&(i.global.x=i.global.x/this.resolution,i.global.y=i.global.y/this.resolution),"touch"===e.pointerType&&(e.globalX=i.global.x,e.globalY=i.global.y),i.originalEvent=e,t._reset(),t},e.prototype.normalizeToPointerData=function(t){var e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(var i=0,n=t.changedTouches.length;i<n;i++){var r=t.changedTouches[i];"undefined"==typeof r.button&&(r.button=t.touches.length?1:0),"undefined"==typeof r.buttons&&(r.buttons=t.touches.length?1:0),"undefined"==typeof r.isPrimary&&(r.isPrimary=1===t.touches.length&&"touchstart"===t.type),"undefined"==typeof r.width&&(r.width=r.radiusX||1),"undefined"==typeof r.height&&(r.height=r.radiusY||1),"undefined"==typeof r.tiltX&&(r.tiltX=0),"undefined"==typeof r.tiltY&&(r.tiltY=0),"undefined"==typeof r.pointerType&&(r.pointerType="touch"),"undefined"==typeof r.pointerId&&(r.pointerId=r.identifier||0),"undefined"==typeof r.pressure&&(r.pressure=r.force||.5),r.twist=0,r.tangentialPressure=0,"undefined"==typeof r.layerX&&(r.layerX=r.offsetX=r.clientX),"undefined"==typeof r.layerY&&(r.layerY=r.offsetY=r.clientY),r.isNormalized=!0,e.push(r)}else!(t instanceof MouseEvent)||this.supportsPointerEvents&&t instanceof window.PointerEvent?e.push(t):("undefined"==typeof t.isPrimary&&(t.isPrimary=!0),"undefined"==typeof t.width&&(t.width=1),"undefined"==typeof t.height&&(t.height=1),"undefined"==typeof t.tiltX&&(t.tiltX=0),"undefined"==typeof t.tiltY&&(t.tiltY=0),"undefined"==typeof t.pointerType&&(t.pointerType="mouse"),"undefined"==typeof t.pointerId&&(t.pointerId=w),"undefined"==typeof t.pressure&&(t.pressure=.5),t.twist=0,t.tangentialPressure=0,t.isNormalized=!0,e.push(t));return e},e.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},e}(g.default);e.default=T,h.WebGLRenderer.registerPlugin("interaction",T),h.CanvasRenderer.registerPlugin("interaction",T)},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),r=function(){function t(e){i(this,t),this._pointerId=e,this._flags=t.FLAGS.NONE}return t.prototype._doSet=function(t,e){e?this._flags=this._flags|t:this._flags=this._flags&~t},n(t,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(t){this._flags=t}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!==(this._flags&this.constructor.FLAGS.OVER)},set:function(t){this._doSet(this.constructor.FLAGS.OVER,t)}},{key:"rightDown",get:function(){return 0!==(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,t)}},{key:"leftDown",get:function(){return 0!==(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(t){this._doSet(this.constructor.FLAGS.LEFT_DOWN,t)}}]),t}();e.default=r,r.FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=i(307);Object.defineProperty(e,"InteractionData",{enumerable:!0,get:function(){return n(r).default}});var o=i(777);Object.defineProperty(e,"InteractionManager",{enumerable:!0,get:function(){return n(o).default}});var a=i(308);Object.defineProperty(e,"interactiveTarget",{enumerable:!0,get:function(){return n(a).default}})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0,e.shared=e.Resource=e.textureParser=e.getResourcePath=e.spritesheetParser=e.parseBitmapFontData=e.bitmapFontParser=e.Loader=void 0;var r=i(309);Object.defineProperty(e,"bitmapFontParser",{enumerable:!0,get:function(){return n(r).default}}),Object.defineProperty(e,"parseBitmapFontData",{enumerable:!0,get:function(){return r.parse}});var o=i(310);Object.defineProperty(e,"spritesheetParser",{enumerable:!0,get:function(){return n(o).default}}),Object.defineProperty(e,"getResourcePath",{enumerable:!0,get:function(){return o.getResourcePath}});var a=i(311);Object.defineProperty(e,"textureParser",{enumerable:!0,get:function(){return n(a).default}});var s=i(101);Object.defineProperty(e,"Resource",{enumerable:!0,get:function(){return s.Resource}});var u=i(282),l=n(u),h=i(781),c=n(h);e.Loader=c.default;var f=new c.default;f.destroy=function(){},e.shared=f;var d=l.default.prototype;d._loader=null,Object.defineProperty(d,"loader",{get:function(){if(!this._loader){var t=this._options.sharedLoader;this._loader=t?f:new c.default}return this._loader}}),d._parentDestroy=d.destroy,d.destroy=function(t){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(t)}},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(101),u=n(s),l=i(808),h=i(74),c=n(h),f=i(311),d=n(f),p=i(310),y=n(p),v=i(309),m=n(v),g=function(t){function e(i,n){r(this,e);var a=o(this,t.call(this,i,n));c.default.call(a);for(var s=0;s<e._pixiMiddleware.length;++s)a.use(e._pixiMiddleware[s]());return a.onStart.add(function(t){return a.emit("start",t)}),a.onProgress.add(function(t,e){return a.emit("progress",t,e)}),a.onError.add(function(t,e,i){return a.emit("error",t,e,i)}),a.onLoad.add(function(t,e){return a.emit("load",t,e)}),a.onComplete.add(function(t,e){return a.emit("complete",t,e)}),a}return a(e,t),e.addPixiMiddleware=function(t){e._pixiMiddleware.push(t)},e.prototype.destroy=function(){this.removeAllListeners(),this.reset()},e}(u.default);e.default=g;for(var _ in c.default.prototype)g.prototype[_]=c.default.prototype[_];g._pixiMiddleware=[l.blobMiddlewareFactory,d.default,y.default,m.default];var b=u.default.Resource;b.setExtensionXhrType("fnt",b.XHR_RESPONSE_TYPE.DOCUMENT)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(312),l=n(u),h=10,c=function(t){function e(i,n,a,s,u){r(this,e);var l=o(this,t.call(this,i,4,4));return l._origWidth=i.orig.width,l._origHeight=i.orig.height,l._width=l._origWidth,l._height=l._origHeight,l.leftWidth="undefined"!=typeof n?n:h,l.rightWidth="undefined"!=typeof s?s:h,l.topHeight="undefined"!=typeof a?a:h,l.bottomHeight="undefined"!=typeof u?u:h,l.refresh(!0),l}return a(e,t),e.prototype.updateHorizontalVertices=function(){var t=this.vertices;t[9]=t[11]=t[13]=t[15]=this._topHeight,t[17]=t[19]=t[21]=t[23]=this._height-this._bottomHeight,t[25]=t[27]=t[29]=t[31]=this._height},e.prototype.updateVerticalVertices=function(){var t=this.vertices;t[2]=t[10]=t[18]=t[26]=this._leftWidth,t[4]=t[12]=t[20]=t[28]=this._width-this._rightWidth,t[6]=t[14]=t[22]=t[30]=this._width},e.prototype._renderCanvas=function(t){var e=t.context;e.globalAlpha=this.worldAlpha;var i=this.worldTransform,n=t.resolution;t.roundPixels?e.setTransform(i.a*n,i.b*n,i.c*n,i.d*n,i.tx*n|0,i.ty*n|0):e.setTransform(i.a*n,i.b*n,i.c*n,i.d*n,i.tx*n,i.ty*n);var r=this._texture.baseTexture,o=r.source,a=r.width,s=r.height;this.drawSegment(e,o,a,s,0,1,10,11),this.drawSegment(e,o,a,s,2,3,12,13),this.drawSegment(e,o,a,s,4,5,14,15),this.drawSegment(e,o,a,s,8,9,18,19),this.drawSegment(e,o,a,s,10,11,20,21),this.drawSegment(e,o,a,s,12,13,22,23),this.drawSegment(e,o,a,s,16,17,26,27),this.drawSegment(e,o,a,s,18,19,28,29),this.drawSegment(e,o,a,s,20,21,30,31)},e.prototype.drawSegment=function(t,e,i,n,r,o,a,s){var u=this.uvs,l=this.vertices,h=(u[a]-u[r])*i,c=(u[s]-u[o])*n,f=l[a]-l[r],d=l[s]-l[o];h<1&&(h=1),c<1&&(c=1),f<1&&(f=1),d<1&&(d=1),t.drawImage(e,u[r]*i,u[o]*n,h,c,l[r],l[o],f,d)},e.prototype._refresh=function(){t.prototype._refresh.call(this);var e=this.uvs,i=this._texture;this._origWidth=i.orig.width,this._origHeight=i.orig.height;var n=1/this._origWidth,r=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=n*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-n*this._rightWidth,e[9]=e[11]=e[13]=e[15]=r*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-r*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty=!0,this.multiplyUvs()},s(e,[{key:"width",get:function(){return this._width},set:function(t){this._width=t,this._refresh()}},{key:"height",get:function(){return this._height},set:function(t){this._height=t,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(t){this._leftWidth=t,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(t){this._rightWidth=t,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(t){this._topHeight=t,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(t){this._bottomHeight=t,this._refresh()}}]),e}(l.default);e.default=c},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(100),u=n(s),l=function(t){function e(i,n){r(this,e);var a=o(this,t.call(this,i));return a.points=n,a.vertices=new Float32Array(4*n.length),a.uvs=new Float32Array(4*n.length),a.colors=new Float32Array(2*n.length),a.indices=new Uint16Array(2*n.length),a.autoUpdate=!0,a.refresh(),a}return a(e,t),e.prototype._refresh=function(){var t=this.points;if(!(t.length<1)&&this._texture._uvs){this.vertices.length/4!==t.length&&(this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length));var e=this.uvs,i=this.indices,n=this.colors;e[0]=0,e[1]=0,e[2]=0,e[3]=1,n[0]=1,n[1]=1,i[0]=0,i[1]=1;for(var r=t.length,o=1;o<r;o++){var a=4*o,s=o/(r-1);e[a]=s,e[a+1]=0,e[a+2]=s,e[a+3]=1,a=2*o,n[a]=1,n[a+1]=1,a=2*o,i[a]=a,i[a+1]=a+1}this.dirty++,
this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},e.prototype.refreshVertices=function(){var t=this.points;if(!(t.length<1))for(var e=t[0],i=void 0,n=0,r=0,o=this.vertices,a=t.length,s=0;s<a;s++){var u=t[s],l=4*s;i=s<t.length-1?t[s+1]:u,r=-(i.x-e.x),n=i.y-e.y;var h=10*(1-s/(a-1));h>1&&(h=1);var c=Math.sqrt(n*n+r*r),f=this._texture.height/2;n/=c,r/=c,n*=f,r*=f,o[l]=u.x+n,o[l+1]=u.y+r,o[l+2]=u.x-n,o[l+3]=u.y-r,e=u}},e.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},e}(u.default);e.default=l},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a=i(9),s=r(a),u=i(100),l=n(u),h=function(){function t(e){o(this,t),this.renderer=e}return t.prototype.render=function(t){var e=this.renderer,i=e.context,n=t.worldTransform,r=e.resolution;e.roundPixels?i.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*r|0,n.ty*r|0):i.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*r,n.ty*r),e.setBlendMode(t.blendMode),t.drawMode===l.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(t):this._renderTriangles(t)},t.prototype._renderTriangleMesh=function(t){for(var e=t.vertices.length/2,i=0;i<e-2;i++){var n=2*i;this._renderDrawTriangle(t,n,n+2,n+4)}},t.prototype._renderTriangles=function(t){for(var e=t.indices,i=e.length,n=0;n<i;n+=3){var r=2*e[n],o=2*e[n+1],a=2*e[n+2];this._renderDrawTriangle(t,r,o,a)}},t.prototype._renderDrawTriangle=function(t,e,i,n){var r=this.renderer.context,o=t.uvs,a=t.vertices,s=t._texture;if(s.valid){var u=s.baseTexture,l=u.source,h=u.width,c=u.height,f=void 0,d=void 0,p=void 0,y=void 0,v=void 0,m=void 0;if(t.uploadUvTransform){var g=t._uvTransform.mapCoord;f=(o[e]*g.a+o[e+1]*g.c+g.tx)*u.width,d=(o[i]*g.a+o[i+1]*g.c+g.tx)*u.width,p=(o[n]*g.a+o[n+1]*g.c+g.tx)*u.width,y=(o[e]*g.b+o[e+1]*g.d+g.ty)*u.height,v=(o[i]*g.b+o[i+1]*g.d+g.ty)*u.height,m=(o[n]*g.b+o[n+1]*g.d+g.ty)*u.height}else f=o[e]*u.width,d=o[i]*u.width,p=o[n]*u.width,y=o[e+1]*u.height,v=o[i+1]*u.height,m=o[n+1]*u.height;var _=a[e],b=a[i],w=a[n],x=a[e+1],T=a[i+1],S=a[n+1];if(t.canvasPadding>0){var E=t.canvasPadding/t.worldTransform.a,C=t.canvasPadding/t.worldTransform.d,P=(_+b+w)/3,M=(x+T+S)/3,A=_-P,O=x-M,k=Math.sqrt(A*A+O*O);_=P+A/k*(k+E),x=M+O/k*(k+C),A=b-P,O=T-M,k=Math.sqrt(A*A+O*O),b=P+A/k*(k+E),T=M+O/k*(k+C),A=w-P,O=S-M,k=Math.sqrt(A*A+O*O),w=P+A/k*(k+E),S=M+O/k*(k+C)}r.save(),r.beginPath(),r.moveTo(_,x),r.lineTo(b,T),r.lineTo(w,S),r.closePath(),r.clip();var I=f*v+y*p+d*m-v*p-y*d-f*m,R=_*v+y*w+b*m-v*w-y*b-_*m,L=f*b+_*p+d*w-b*p-_*d-f*w,B=f*v*w+y*b*p+_*d*m-_*v*p-y*d*w-f*b*m,D=x*v+y*S+T*m-v*S-y*T-x*m,F=f*T+x*p+d*S-T*p-x*d-f*S,j=f*v*S+y*T*p+x*d*m-x*v*p-y*d*S-f*T*m;r.transform(R/I,D/I,L/I,F/I,B/I,j/I),r.drawImage(l,0,0,h*u.resolution,c*u.resolution,0,0,h,c),r.restore()}},t.prototype.renderMeshFlat=function(t){var e=this.renderer.context,i=t.vertices,n=i.length/2;e.beginPath();for(var r=1;r<n-2;++r){var o=2*r,a=i[o],s=i[o+1],u=i[o+2],l=i[o+3],h=i[o+4],c=i[o+5];e.moveTo(a,s),e.lineTo(u,l),e.lineTo(h,c)}e.fillStyle="#FF0000",e.fill(),e.closePath()},t.prototype.destroy=function(){this.renderer=null},t}();e.default=h,s.CanvasRenderer.registerPlugin("mesh",h)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=i(100);Object.defineProperty(e,"Mesh",{enumerable:!0,get:function(){return n(r).default}});var o=i(786);Object.defineProperty(e,"MeshRenderer",{enumerable:!0,get:function(){return n(o).default}});var a=i(784);Object.defineProperty(e,"CanvasMeshRenderer",{enumerable:!0,get:function(){return n(a).default}});var s=i(312);Object.defineProperty(e,"Plane",{enumerable:!0,get:function(){return n(s).default}});var u=i(782);Object.defineProperty(e,"NineSlicePlane",{enumerable:!0,get:function(){return n(u).default}});var l=i(783);Object.defineProperty(e,"Rope",{enumerable:!0,get:function(){return n(l).default}})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(9),l=r(u),h=i(40),c=n(h),f=i(100),d=n(f),p=(i(46),l.Matrix.IDENTITY),y=function(t){function e(i){o(this,e);var n=a(this,t.call(this,i));return n.shader=null,n}return s(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.shader=new l.Shader(t,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")},e.prototype.render=function(t){var e=this.renderer,i=e.gl,n=t._texture;if(n.valid){var r=t._glDatas[e.CONTEXT_UID];r||(e.bindVao(null),r={shader:this.shader,vertexBuffer:c.default.GLBuffer.createVertexBuffer(i,t.vertices,i.STREAM_DRAW),uvBuffer:c.default.GLBuffer.createVertexBuffer(i,t.uvs,i.STREAM_DRAW),indexBuffer:c.default.GLBuffer.createIndexBuffer(i,t.indices,i.STATIC_DRAW),vao:null,dirty:t.dirty,indexDirty:t.indexDirty},r.vao=new c.default.VertexArrayObject(i).addIndex(r.indexBuffer).addAttribute(r.vertexBuffer,r.shader.attributes.aVertexPosition,i.FLOAT,!1,8,0).addAttribute(r.uvBuffer,r.shader.attributes.aTextureCoord,i.FLOAT,!1,8,0),t._glDatas[e.CONTEXT_UID]=r),e.bindVao(r.vao),t.dirty!==r.dirty&&(r.dirty=t.dirty,r.uvBuffer.upload(t.uvs)),t.indexDirty!==r.indexDirty&&(r.indexDirty=t.indexDirty,r.indexBuffer.upload(t.indices)),r.vertexBuffer.upload(t.vertices),e.bindShader(r.shader),r.shader.uniforms.uSampler=e.bindTexture(n),e.state.setBlendMode(l.utils.correctBlendMode(t.blendMode,n.baseTexture.premultipliedAlpha)),r.shader.uniforms.uTransform&&(t.uploadUvTransform?r.shader.uniforms.uTransform=t._uvTransform.mapCoord.toArray(!0):r.shader.uniforms.uTransform=p.toArray(!0)),r.shader.uniforms.translationMatrix=t.worldTransform.toArray(!0),r.shader.uniforms.uColor=l.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,r.shader.uniforms.uColor,n.baseTexture.premultipliedAlpha);var o=t.drawMode===d.default.DRAW_MODES.TRIANGLE_MESH?i.TRIANGLE_STRIP:i.TRIANGLES;r.vao.draw(o,t.indices.length,0)}},e}(l.ObjectRenderer);e.default=y,l.WebGLRenderer.registerPlugin("mesh",y)},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),u=i(9),l=n(u),h=i(13),c=function(t){function e(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,n=arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384;r(this,e);var s=o(this,t.call(this)),u=16384;return a>u&&(a=u),a>i&&(a=i),s._properties=[!1,!0,!1,!1,!1],s._maxSize=i,s._batchSize=a,s._glBuffers={},s._bufferToUpdate=0,s.interactiveChildren=!1,s.blendMode=l.BLEND_MODES.NORMAL,s.roundPixels=!0,s.baseTexture=null,s.setProperties(n),s._tint=0,s.tintRgb=new Float32Array(4),s.tint=16777215,s}return a(e,t),e.prototype.setProperties=function(t){t&&(this._properties[0]="scale"in t?!!t.scale:this._properties[0],this._properties[1]="position"in t?!!t.position:this._properties[1],this._properties[2]="rotation"in t?!!t.rotation:this._properties[2],this._properties[3]="uvs"in t?!!t.uvs:this._properties[3],this._properties[4]="alpha"in t?!!t.alpha:this._properties[4])},e.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},e.prototype.renderWebGL=function(t){var e=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return e.onChildrenChange(0)})),t.setObjectRenderer(t.plugins.particle),t.plugins.particle.render(this))},e.prototype.onChildrenChange=function(t){var e=Math.floor(t/this._batchSize);e<this._bufferToUpdate&&(this._bufferToUpdate=e)},e.prototype.renderCanvas=function(t){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var e=t.context,i=this.worldTransform,n=!0,r=0,o=0,a=0,s=0,u=t.blendModes[this.blendMode];u!==e.globalCompositeOperation&&(e.globalCompositeOperation=u),e.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var l=0;l<this.children.length;++l){var h=this.children[l];if(h.visible){var c=h._texture.frame;if(e.globalAlpha=this.worldAlpha*h.alpha,h.rotation%(2*Math.PI)===0)n&&(e.setTransform(i.a,i.b,i.c,i.d,i.tx*t.resolution,i.ty*t.resolution),n=!1),r=h.anchor.x*(-c.width*h.scale.x)+h.position.x+.5,o=h.anchor.y*(-c.height*h.scale.y)+h.position.y+.5,a=c.width*h.scale.x,s=c.height*h.scale.y;else{n||(n=!0),h.displayObjectUpdateTransform();var f=h.worldTransform;t.roundPixels?e.setTransform(f.a,f.b,f.c,f.d,f.tx*t.resolution|0,f.ty*t.resolution|0):e.setTransform(f.a,f.b,f.c,f.d,f.tx*t.resolution,f.ty*t.resolution),r=h.anchor.x*-c.width+.5,o=h.anchor.y*-c.height+.5,a=c.width,s=c.height}var d=h._texture.baseTexture.resolution;e.drawImage(h._texture.baseTexture.source,c.x*d,c.y*d,c.width*d,c.height*d,r*t.resolution,o*t.resolution,a*t.resolution,s*t.resolution)}}}},e.prototype.destroy=function(e){if(t.prototype.destroy.call(this,e),this._buffers)for(var i=0;i<this._buffers.length;++i)this._buffers[i].destroy();this._properties=null,this._buffers=null},s(e,[{key:"tint",get:function(){return this._tint},set:function(t){this._tint=t,(0,h.hex2rgb)(t,this.tintRgb)}}]),e}(l.Container);e.default=c},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=i(787);Object.defineProperty(e,"ParticleContainer",{enumerable:!0,get:function(){return n(r).default}});var o=i(790);Object.defineProperty(e,"ParticleRenderer",{enumerable:!0,get:function(){return n(o).default}})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var o=i(40),a=n(o),s=i(189),u=n(s),l=function(){function t(e,i,n,o){r(this,t),this.gl=e,this.vertSize=2,this.vertByteSize=4*this.vertSize,this.size=o,this.dynamicProperties=[],this.staticProperties=[];for(var a=0;a<i.length;++a){var s=i[a];s={attribute:s.attribute,size:s.size,uploadFunction:s.uploadFunction,offset:s.offset},n[a]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.initBuffers()}return t.prototype.initBuffers=function(){var t=this.gl,e=0;this.indices=(0,u.default)(this.size),this.indexBuffer=a.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.dynamicStride=0;for(var i=0;i<this.dynamicProperties.length;++i){var n=this.dynamicProperties[i];n.offset=e,e+=n.size,this.dynamicStride+=n.size}this.dynamicData=new Float32Array(this.size*this.dynamicStride*4),this.dynamicBuffer=a.default.GLBuffer.createVertexBuffer(t,this.dynamicData,t.STREAM_DRAW);var r=0;this.staticStride=0;for(var o=0;o<this.staticProperties.length;++o){var s=this.staticProperties[o];s.offset=r,r+=s.size,this.staticStride+=s.size}this.staticData=new Float32Array(this.size*this.staticStride*4),this.staticBuffer=a.default.GLBuffer.createVertexBuffer(t,this.staticData,t.STATIC_DRAW),this.vao=new a.default.VertexArrayObject(t).addIndex(this.indexBuffer);for(var l=0;l<this.dynamicProperties.length;++l){var h=this.dynamicProperties[l];this.vao.addAttribute(this.dynamicBuffer,h.attribute,t.FLOAT,!1,4*this.dynamicStride,4*h.offset)}for(var c=0;c<this.staticProperties.length;++c){var f=this.staticProperties[c];this.vao.addAttribute(this.staticBuffer,f.attribute,t.FLOAT,!1,4*this.staticStride,4*f.offset)}},t.prototype.uploadDynamic=function(t,e,i){for(var n=0;n<this.dynamicProperties.length;n++){var r=this.dynamicProperties[n];r.uploadFunction(t,e,i,this.dynamicData,this.dynamicStride,r.offset)}this.dynamicBuffer.upload()},t.prototype.uploadStatic=function(t,e,i){for(var n=0;n<this.staticProperties.length;n++){var r=this.staticProperties[n];r.uploadFunction(t,e,i,this.staticData,this.staticStride,r.offset)}this.staticBuffer.upload()},t.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicData=null,this.dynamicBuffer.destroy(),this.staticProperties=null,this.staticData=null,this.staticBuffer.destroy()},t}();e.default=l},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var u=i(9),l=r(u),h=i(791),c=n(h),f=i(789),d=n(f),p=function(t){function e(i){o(this,e);var n=a(this,t.call(this,i));return n.shader=null,n.indexBuffer=null,n.properties=null,n.tempMatrix=new l.Matrix,n.CONTEXT_UID=0,n}return s(e,t),e.prototype.onContextChange=function(){var t=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new c.default(t),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,uploadFunction:this.uploadAlpha,offset:0}]},e.prototype.start=function(){this.renderer.bindShader(this.shader)},e.prototype.render=function(t){var e=t.children,i=t._maxSize,n=t._batchSize,r=this.renderer,o=e.length;if(0!==o){o>i&&(o=i);var a=t._glBuffers[r.CONTEXT_UID];a||(a=t._glBuffers[r.CONTEXT_UID]=this.generateBuffers(t));var s=e[0]._texture.baseTexture;this.renderer.setBlendMode(l.utils.correctBlendMode(t.blendMode,s.premultipliedAlpha));var u=r.gl,h=t.worldTransform.copy(this.tempMatrix);h.prepend(r._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=h.toArray(!0),this.shader.uniforms.uColor=l.utils.premultiplyRgba(t.tintRgb,t.worldAlpha,this.shader.uniforms.uColor,s.premultipliedAlpha),this.shader.uniforms.uSampler=r.bindTexture(s);for(var c=0,f=0;c<o;c+=n,f+=1){var d=o-c;d>n&&(d=n);var p=a[f];p.uploadDynamic(e,c,d),t._bufferToUpdate===f&&(p.uploadStatic(e,c,d),t._bufferToUpdate=f+1),r.bindVao(p.vao),p.vao.draw(u.TRIANGLES,6*d)}}},e.prototype.generateBuffers=function(t){for(var e=this.renderer.gl,i=[],n=t._maxSize,r=t._batchSize,o=t._properties,a=0;a<n;a+=r)i.push(new d.default(e,this.properties,o,r));return i},e.prototype.uploadVertices=function(t,e,i,n,r,o){for(var a=0,s=0,u=0,l=0,h=0;h<i;++h){var c=t[e+h],f=c._texture,d=c.scale.x,p=c.scale.y,y=f.trim,v=f.orig;y?(s=y.x-c.anchor.x*v.width,a=s+y.width,l=y.y-c.anchor.y*v.height,u=l+y.height):(a=v.width*(1-c.anchor.x),s=v.width*-c.anchor.x,u=v.height*(1-c.anchor.y),l=v.height*-c.anchor.y),n[o]=s*d,n[o+1]=l*p,n[o+r]=a*d,n[o+r+1]=l*p,n[o+2*r]=a*d,n[o+2*r+1]=u*p,n[o+3*r]=s*d,n[o+3*r+1]=u*p,o+=4*r}},e.prototype.uploadPosition=function(t,e,i,n,r,o){for(var a=0;a<i;a++){var s=t[e+a].position;n[o]=s.x,n[o+1]=s.y,n[o+r]=s.x,n[o+r+1]=s.y,n[o+2*r]=s.x,n[o+2*r+1]=s.y,n[o+3*r]=s.x,n[o+3*r+1]=s.y,o+=4*r}},e.prototype.uploadRotation=function(t,e,i,n,r,o){for(var a=0;a<i;a++){var s=t[e+a].rotation;n[o]=s,n[o+r]=s,n[o+2*r]=s,n[o+3*r]=s,o+=4*r}},e.prototype.uploadUvs=function(t,e,i,n,r,o){for(var a=0;a<i;++a){var s=t[e+a]._texture._uvs;s?(n[o]=s.x0,n[o+1]=s.y0,n[o+r]=s.x1,n[o+r+1]=s.y1,n[o+2*r]=s.x2,n[o+2*r+1]=s.y2,n[o+3*r]=s.x3,n[o+3*r+1]=s.y3,o+=4*r):(n[o]=0,n[o+1]=0,n[o+r]=0,n[o+r+1]=0,n[o+2*r]=0,n[o+2*r+1]=0,n[o+3*r]=0,n[o+3*r+1]=0,o+=4*r)}},e.prototype.uploadAlpha=function(t,e,i,n,r,o){for(var a=0;a<i;a++){var s=t[e+a].alpha;n[o]=s,n[o+r]=s,n[o+2*r]=s,n[o+3*r]=s,o+=4*r}},e.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),t.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},e}(l.ObjectRenderer);e.default=p,l.WebGLRenderer.registerPlugin("particle",p)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}e.__esModule=!0;var s=i(96),u=n(s),l=function(t){function e(i){return r(this,e),o(this,t.call(this,i,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying float vColor;","void main(void){","   vec2 v = aVertexPosition;","   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","uniform vec4 uColor;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uColor;","  if (color.a == 0.0) discard;","  gl_FragColor = color;","}"].join("\n")))}return a(e,t),e}(u.default);e.default=l},function(t,e){"use strict";Math.sign||(Math.sign=function(t){return t=Number(t),0===t||isNaN(t)?t:t>0?1:-1})},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var r=i(683),o=n(r);Object.assign||(Object.assign=o.default)},function(t,e,i){"use strict";i(793),i(795),i(792),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},function(t,e){(function(t){"use strict";var e=16;if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!t.performance||!t.performance.now){var i=Date.now();t.performance||(t.performance={}),t.performance.now=function(){return Date.now()-i}}for(var n=Date.now(),r=["ms","moz","webkit","o"],o=0;o<r.length&&!t.requestAnimationFrame;++o){var a=r[o];t.requestAnimationFrame=t[a+"RequestAnimationFrame"],t.cancelAnimationFrame=t[a+"CancelAnimationFrame"]||t[a+"CancelRequestAnimationFrame"]}t.requestAnimationFrame||(t.requestAnimationFrame=function(t){if("function"!=typeof t)throw new TypeError(t+"is not a function");var i=Date.now(),r=e+n-i;return r<0&&(r=0),n=i,setTimeout(function(){n=Date.now(),t(performance.now())},r)}),t.cancelAnimationFrame||(t.cancelAnimationFrame=function(t){return clearTimeout(t)})}).call(e,function(){return this}())},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){if(e instanceof h.BaseTexture){var i=e.source,n=0===i.width?t.canvas.width:Math.min(t.canvas.width,i.width),r=0===i.height?t.canvas.height:Math.min(t.canvas.height,i.height);return t.ctx.drawImage(i,0,0,n,r,0,0,t.canvas.width,t.canvas.height),!0}return!1}e.__esModule=!0;var l=i(9),h=r(l),c=i(191),f=n(c),d=16,p=function(t){function e(i){o(this,e);var n=a(this,t.call(this,i));return n.uploadHookHelper=n,n.canvas=document.createElement("canvas"),n.canvas.width=d,n.canvas.height=d,n.ctx=n.canvas.getContext("2d"),n.registerUploadHook(u),n}return s(e,t),e.prototype.destroy=function(){t.prototype.destroy.call(this),this.ctx=null,this.canvas=null},e}(f.default);e.default=p,h.CanvasRenderer.registerPlugin("prepare",p)},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var r=i(799);Object.defineProperty(e,"webgl",{enumerable:!0,get:function(){return n(r).default}});var o=i(796);Object.defineProperty(e,"canvas",{enumerable:!0,get:function(){return n(o).default}});var a=i(191);Object.defineProperty(e,"BasePrepare",{enumerable:!0,get:function(){return n(a).default}});var s=i(313);Object.defineProperty(e,"CountLimiter",{enumerable:!0,get:function(){return n(s).default}});var u=i(798);Object.defineProperty(e,"TimeLimiter",{enumerable:!0,get:function(){return n(u).default}})},function(t,e){"use strict";function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var n=function(){function t(e){i(this,t),this.maxMilliseconds=e,this.frameStart=0}return t.prototype.beginFrame=function(){this.frameStart=Date.now()},t.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},t}();e.default=n},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){return e instanceof f.BaseTexture&&(e._glTextures[t.CONTEXT_UID]||t.textureManager.updateTexture(e),!0)}function l(t,e){return e instanceof f.Graphics&&((e.dirty||e.clearDirty||!e._webGL[t.plugins.graphics.CONTEXT_UID])&&t.plugins.graphics.updateGraphics(e),!0)}function h(t,e){return t instanceof f.Graphics&&(e.push(t),!0)}e.__esModule=!0;var c=i(9),f=r(c),d=i(191),p=n(d),y=function(t){function e(i){o(this,e);var n=a(this,t.call(this,i));return n.uploadHookHelper=n.renderer,n.registerFindHook(h),n.registerUploadHook(u),n.registerUploadHook(l),n}return s(e,t),e}(p.default);e.default=y,f.WebGLRenderer.registerPlugin("prepare",y)},function(t,e,i){function n(){}var r=i(315);t.exports=n,n.lineInt=function(t,e,i){i=i||0;var n,o,a,s,u,l,h,c=[0,0];return n=t[1][1]-t[0][1],o=t[0][0]-t[1][0],a=n*t[0][0]+o*t[0][1],s=e[1][1]-e[0][1],u=e[0][0]-e[1][0],l=s*e[0][0]+u*e[0][1],h=n*u-s*o,r.eq(h,0,i)||(c[0]=(u*a-o*l)/h,c[1]=(n*l-s*a)/h),c},n.segmentsIntersect=function(t,e,i,n){var r=e[0]-t[0],o=e[1]-t[1],a=n[0]-i[0],s=n[1]-i[1];if(a*o-s*r==0)return!1;var u=(r*(i[1]-t[1])+o*(t[0]-i[0]))/(a*o-s*r),l=(a*(t[1]-i[1])+s*(i[0]-t[0]))/(s*r-a*o);return u>=0&&u<=1&&l>=0&&l<=1}},function(t,e,i){function n(){this.vertices=[]}function r(t,e,i,n,r){r=r||0;var o=e[1]-t[1],a=t[0]-e[0],u=o*t[0]+a*t[1],l=n[1]-i[1],h=i[0]-n[0],c=l*i[0]+h*i[1],f=o*h-l*a;return s.eq(f,0,r)?[0,0]:[(h*u-a*c)/f,(o*c-l*u)/f]}var o=i(800),a=i(314),s=i(315);t.exports=n,n.prototype.at=function(t){var e=this.vertices,i=e.length;return e[t<0?t%i+i:t%i]},n.prototype.first=function(){return this.vertices[0]},n.prototype.last=function(){return this.vertices[this.vertices.length-1]},n.prototype.clear=function(){this.vertices.length=0},n.prototype.append=function(t,e,i){if("undefined"==typeof e)throw new Error("From is not given!");if("undefined"==typeof i)throw new Error("To is not given!");if(i-1<e)throw new Error("lol1");if(i>t.vertices.length)throw new Error("lol2");if(e<0)throw new Error("lol3");for(var n=e;n<i;n++)this.vertices.push(t.vertices[n])},n.prototype.makeCCW=function(){for(var t=0,e=this.vertices,i=1;i<this.vertices.length;++i)(e[i][1]<e[t][1]||e[i][1]==e[t][1]&&e[i][0]>e[t][0])&&(t=i);a.left(this.at(t-1),this.at(t),this.at(t+1))||this.reverse()},n.prototype.reverse=function(){for(var t=[],e=0,i=this.vertices.length;e!==i;e++)t.push(this.vertices.pop());this.vertices=t},n.prototype.isReflex=function(t){return a.right(this.at(t-1),this.at(t),this.at(t+1))};var u=[],l=[];n.prototype.canSee=function(t,e){var i,n,r=u,s=l;if(a.leftOn(this.at(t+1),this.at(t),this.at(e))&&a.rightOn(this.at(t-1),this.at(t),this.at(e)))return!1;n=a.sqdist(this.at(t),this.at(e));for(var h=0;h!==this.vertices.length;++h)if((h+1)%this.vertices.length!==t&&h!==t&&a.leftOn(this.at(t),this.at(e),this.at(h+1))&&a.rightOn(this.at(t),this.at(e),this.at(h))&&(r[0]=this.at(t),r[1]=this.at(e),s[0]=this.at(h),s[1]=this.at(h+1),i=o.lineInt(r,s),a.sqdist(this.at(t),i)<n))return!1;return!0},n.prototype.copy=function(t,e,i){var r=i||new n;if(r.clear(),t<e)for(var o=t;o<=e;o++)r.vertices.push(this.vertices[o]);else{for(var o=0;o<=e;o++)r.vertices.push(this.vertices[o]);for(var o=t;o<this.vertices.length;o++)r.vertices.push(this.vertices[o])}return r},n.prototype.getCutEdges=function(){for(var t=[],e=[],i=[],r=new n,o=Number.MAX_VALUE,a=0;a<this.vertices.length;++a)if(this.isReflex(a))for(var s=0;s<this.vertices.length;++s)if(this.canSee(a,s)){e=this.copy(a,s,r).getCutEdges(),i=this.copy(s,a,r).getCutEdges();for(var u=0;u<i.length;u++)e.push(i[u]);e.length<o&&(t=e,o=e.length,t.push([this.at(a),this.at(s)]))}return t},n.prototype.decomp=function(){var t=this.getCutEdges();return t.length>0?this.slice(t):[this]},n.prototype.slice=function(t){if(0==t.length)return[this];if(t instanceof Array&&t.length&&t[0]instanceof Array&&2==t[0].length&&t[0][0]instanceof Array){for(var e=[this],i=0;i<t.length;i++)for(var n=t[i],r=0;r<e.length;r++){var o=e[r],a=o.slice(n);if(a){e.splice(r,1),e.push(a[0],a[1]);break}}return e}var n=t,i=this.vertices.indexOf(n[0]),r=this.vertices.indexOf(n[1]);return i!=-1&&r!=-1&&[this.copy(i,r),this.copy(r,i)]},n.prototype.isSimple=function(){for(var t=this.vertices,e=0;e<t.length-1;e++)for(var i=0;i<e-1;i++)if(o.segmentsIntersect(t[e],t[e+1],t[i],t[i+1]))return!1;for(var e=1;e<t.length-2;e++)if(o.segmentsIntersect(t[0],t[t.length-1],t[e],t[e+1]))return!1;return!0},n.prototype.quickDecomp=function(t,e,i,o,s,u){s=s||100,u=u||0,o=o||25,t="undefined"!=typeof t?t:[],e=e||[],i=i||[];var l=[0,0],h=[0,0],c=[0,0],f=0,d=0,p=0,y=0,v=0,m=0,g=0,_=new n,b=new n,w=this,x=this.vertices;if(x.length<3)return t;if(u++,u>s)return t;for(var T=0;T<this.vertices.length;++T)if(w.isReflex(T)){e.push(w.vertices[T]),f=d=Number.MAX_VALUE;for(var S=0;S<this.vertices.length;++S)a.left(w.at(T-1),w.at(T),w.at(S))&&a.rightOn(w.at(T-1),w.at(T),w.at(S-1))&&(c=r(w.at(T-1),w.at(T),w.at(S),w.at(S-1)),a.right(w.at(T+1),w.at(T),c)&&(p=a.sqdist(w.vertices[T],c),p<d&&(d=p,h=c,m=S))),a.left(w.at(T+1),w.at(T),w.at(S+1))&&a.rightOn(w.at(T+1),w.at(T),w.at(S))&&(c=r(w.at(T+1),w.at(T),w.at(S),w.at(S+1)),a.left(w.at(T-1),w.at(T),c)&&(p=a.sqdist(w.vertices[T],c),p<f&&(f=p,l=c,v=S)));if(m==(v+1)%this.vertices.length)c[0]=(h[0]+l[0])/2,c[1]=(h[1]+l[1])/2,i.push(c),T<v?(_.append(w,T,v+1),_.vertices.push(c),b.vertices.push(c),0!=m&&b.append(w,m,w.vertices.length),b.append(w,0,T+1)):(0!=T&&_.append(w,T,w.vertices.length),_.append(w,0,v+1),_.vertices.push(c),b.vertices.push(c),b.append(w,m,T+1));else{if(m>v&&(v+=this.vertices.length),y=Number.MAX_VALUE,v<m)return t;for(var S=m;S<=v;++S)a.leftOn(w.at(T-1),w.at(T),w.at(S))&&a.rightOn(w.at(T+1),w.at(T),w.at(S))&&(p=a.sqdist(w.at(T),w.at(S)),p<y&&(y=p,g=S%this.vertices.length));T<g?(_.append(w,T,g+1),0!=g&&b.append(w,g,x.length),b.append(w,0,T+1)):(0!=T&&_.append(w,T,x.length),_.append(w,0,g+1),b.append(w,g,T+1))}return _.vertices.length<b.vertices.length?(_.quickDecomp(t,e,i,o,s,u),b.quickDecomp(t,e,i,o,s,u)):(b.quickDecomp(t,e,i,o,s,u),_.quickDecomp(t,e,i,o,s,u)),t}return t.push(this),t},n.prototype.removeCollinearPoints=function(t){for(var e=0,i=this.vertices.length-1;this.vertices.length>3&&i>=0;--i)a.collinear(this.at(i-1),this.at(i),this.at(i+1),t)&&(this.vertices.splice(i%this.vertices.length,1),i--,e++);return e}},function(t,e){"use strict";function i(t,e){return Object.prototype.hasOwnProperty.call(t,e)}t.exports=function(t,e,n,r){e=e||"&",n=n||"=";var o={};if("string"!=typeof t||0===t.length)return o;var a=/\+/g;t=t.split(e);var s=1e3;r&&"number"==typeof r.maxKeys&&(s=r.maxKeys);var u=t.length;s>0&&u>s&&(u=s);for(var l=0;l<u;++l){var h,c,f,d,p=t[l].replace(a,"%20"),y=p.indexOf(n);y>=0?(h=p.substr(0,y),c=p.substr(y+1)):(h=p,c=""),f=decodeURIComponent(h),d=decodeURIComponent(c),i(o,f)?Array.isArray(o[f])?o[f].push(d):o[f]=[o[f],d]:o[f]=d}return o}},function(t,e){"use strict";var i=function(t){switch(typeof t){case"string":return t;case"boolean":
return t?"true":"false";case"number":return isFinite(t)?t:"";default:return""}};t.exports=function(t,e,n,r){return e=e||"&",n=n||"=",null===t&&(t=void 0),"object"==typeof t?Object.keys(t).map(function(r){var o=encodeURIComponent(i(r))+n;return Array.isArray(t[r])?t[r].map(function(t){return o+encodeURIComponent(i(t))}).join(e):o+encodeURIComponent(i(t[r]))}).join(e):r?encodeURIComponent(i(r))+n+encodeURIComponent(i(t)):""}},function(t,e,i){"use strict";e.decode=e.parse=i(802),e.encode=e.stringify=i(803)},function(t,e){(function(e){!function(e){"use strict";function i(t,e,i,n){var o=e&&e.prototype instanceof r?e:r,a=Object.create(o.prototype),s=new d(n||[]);return a._invoke=l(t,i,s),a}function n(t,e,i){try{return{type:"normal",arg:t.call(e,i)}}catch(t){return{type:"throw",arg:t}}}function r(){}function o(){}function a(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function u(t){function i(e,r,o,a){var s=n(t[e],t,r);if("throw"!==s.type){var u=s.arg,l=u.value;return l&&"object"==typeof l&&g.call(l,"__await")?Promise.resolve(l.__await).then(function(t){i("next",t,o,a)},function(t){i("throw",t,o,a)}):Promise.resolve(l).then(function(t){u.value=t,o(u)},a)}a(s.arg)}function r(t,e){function n(){return new Promise(function(n,r){i(t,e,n,r)})}return o=o?o.then(n,n):n()}"object"==typeof e.process&&e.process.domain&&(i=e.process.domain.bind(i));var o;this._invoke=r}function l(t,e,i){var r=E;return function(o,a){if(r===P)throw new Error("Generator is already running");if(r===M){if("throw"===o)throw a;return y()}for(i.method=o,i.arg=a;;){var s=i.delegate;if(s){var u=h(s,i);if(u){if(u===A)continue;return u}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===E)throw r=M,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=P;var l=n(t,e,i);if("normal"===l.type){if(r=i.done?M:C,l.arg===A)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(r=M,i.method="throw",i.arg=l.arg)}}}function h(t,e){var i=t.iterator[e.method];if(i===v){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=v,h(t,e),"throw"===e.method))return A;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return A}var r=n(i,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,A;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=v),e.delegate=null,A):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,A)}function c(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function f(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(c,this),this.reset(!0)}function p(t){if(t){var e=t[b];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,n=function e(){for(;++i<t.length;)if(g.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=v,e.done=!0,e};return n.next=n}}return{next:y}}function y(){return{value:v,done:!0}}var v,m=Object.prototype,g=m.hasOwnProperty,_="function"==typeof Symbol?Symbol:{},b=_.iterator||"@@iterator",w=_.asyncIterator||"@@asyncIterator",x=_.toStringTag||"@@toStringTag",T="object"==typeof t,S=e.regeneratorRuntime;if(S)return void(T&&(t.exports=S));S=e.regeneratorRuntime=T?t.exports:{},S.wrap=i;var E="suspendedStart",C="suspendedYield",P="executing",M="completed",A={},O={};O[b]=function(){return this};var k=Object.getPrototypeOf,I=k&&k(k(p([])));I&&I!==m&&g.call(I,b)&&(O=I);var R=a.prototype=r.prototype=Object.create(O);o.prototype=R.constructor=a,a.constructor=o,a[x]=o.displayName="GeneratorFunction",S.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},S.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,x in t||(t[x]="GeneratorFunction")),t.prototype=Object.create(R),t},S.awrap=function(t){return{__await:t}},s(u.prototype),u.prototype[w]=function(){return this},S.AsyncIterator=u,S.async=function(t,e,n,r){var o=new u(i(t,e,n,r));return S.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},s(R),R[x]="Generator",R[b]=function(){return this},R.toString=function(){return"[object Generator]"},S.keys=function(t){var e=[];for(var i in t)e.push(i);return e.reverse(),function i(){for(;e.length;){var n=e.pop();if(n in t)return i.value=n,i.done=!1,i}return i.done=!0,i}},S.values=p,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=v,this.done=!1,this.delegate=null,this.method="next",this.arg=v,this.tryEntries.forEach(f),!t)for(var e in this)"t"===e.charAt(0)&&g.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=v)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,n){return o.type="throw",o.arg=t,i.next=e,n&&(i.method="next",i.arg=v),!!n}if(this.done)throw t;for(var i=this,n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n],o=r.completion;if("root"===r.tryLoc)return e("end");if(r.tryLoc<=this.prev){var a=g.call(r,"catchLoc"),s=g.call(r,"finallyLoc");if(a&&s){if(this.prev<r.catchLoc)return e(r.catchLoc,!0);if(this.prev<r.finallyLoc)return e(r.finallyLoc)}else if(a){if(this.prev<r.catchLoc)return e(r.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return e(r.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&g.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===t||"continue"===t)&&r.tryLoc<=e&&e<=r.finallyLoc&&(r=null);var o=r?r.completion:{};return o.type=t,o.arg=e,r?(this.method="next",this.next=r.finallyLoc,A):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),A},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.finallyLoc===t)return this.complete(i.completion,i.afterLoc),f(i),A}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var i=this.tryEntries[e];if(i.tryLoc===t){var n=i.completion;if("throw"===n.type){var r=n.arg;f(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,i){return this.delegate={iterator:p(t),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=v),A}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(e,function(){return this}())},function(t,e){"use strict";t.exports=function(t,e,i){var n,r=t.length;if(!(e>=r||0===i)){i=e+i>r?r-e:i;var o=r-i;for(n=e;n<o;++n)t[n]=t[n+i];t.length=o}}},function(t,e,i){"use strict";function n(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e.default=t,e}function r(t){return t&&t.__esModule?t:{default:t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s=i(241),u=r(s),l=i(265),h=r(l),c=i(318),f=n(c),d=i(192),p=r(d),y=100,v=/(#[\w-]+)?$/,m=function(){function t(){var e=this,i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;o(this,t),this.baseUrl=i,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(t,i){return e._loadResource(t,i)},this._queue=f.queue(this._boundLoadResource,n),this._queue.pause(),this.resources={},this.onProgress=new u.default,this.onError=new u.default,this.onLoad=new u.default,this.onStart=new u.default,this.onComplete=new u.default}return t.prototype.add=function(t,e,i,n){if(Array.isArray(t)){for(var r=0;r<t.length;++r)this.add(t[r]);return this}if("object"===("undefined"==typeof t?"undefined":a(t))&&(n=e||t.callback||t.onComplete,i=t,e=t.url,t=t.name||t.key||t.url),"string"!=typeof e&&(n=i,i=e,e=t),"string"!=typeof e)throw new Error("No url passed to add resource to loader.");if("function"==typeof i&&(n=i,i=null),this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[t])throw new Error('Resource named "'+t+'" already exists.');if(e=this._prepareUrl(e),this.resources[t]=new p.default(t,e,i),"function"==typeof n&&this.resources[t].onAfterMiddleware.once(n),this.loading){for(var o=i.parentResource,s=[],u=0;u<o.children.length;++u)o.children[u].isComplete||s.push(o.children[u]);var l=o.progressChunk*(s.length+1),h=l/(s.length+2);o.children.push(this.resources[t]),o.progressChunk=h;for(var c=0;c<s.length;++c)s[c].progressChunk=h;this.resources[t].progressChunk=h}return this._queue.push(this.resources[t]),this},t.prototype.pre=function(t){return this._beforeMiddleware.push(t),this},t.prototype.use=function(t){return this._afterMiddleware.push(t),this},t.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(var t in this.resources){var e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},t.prototype.load=function(t){if("function"==typeof t&&this.onComplete.once(t),this.loading)return this;for(var e=100/this._queue._tasks.length,i=0;i<this._queue._tasks.length;++i)this._queue._tasks[i].data.progressChunk=e;return this.loading=!0,this.onStart.dispatch(this),this._queue.resume(),this},t.prototype._prepareUrl=function(t){var e=(0,h.default)(t,{strictMode:!0}),i=void 0;if(i=e.protocol||!e.path||0===t.indexOf("//")?t:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==t.charAt(0)?this.baseUrl+"/"+t:this.baseUrl+t,this.defaultQueryString){var n=v.exec(i)[0];i=i.substr(0,i.length-n.length),i+=i.indexOf("?")!==-1?"&"+this.defaultQueryString:"?"+this.defaultQueryString,i+=n}return i},t.prototype._loadResource=function(t,e){var i=this;t._dequeue=e,f.eachSeries(this._beforeMiddleware,function(e,n){e.call(i,t,function(){n(t.isComplete?{}:null)})},function(){t.isComplete?i._onLoad(t):(t._onLoadBinding=t.onComplete.once(i._onLoad,i),t.load())},!0)},t.prototype._onComplete=function(){this.loading=!1,this.onComplete.dispatch(this,this.resources)},t.prototype._onLoad=function(t){var e=this;t._onLoadBinding=null,this._resourcesParsing.push(t),t._dequeue(),f.eachSeries(this._afterMiddleware,function(i,n){i.call(e,t,n)},function(){t.onAfterMiddleware.dispatch(t),e.progress+=t.progressChunk,e.onProgress.dispatch(e,t),t.error?e.onError.dispatch(t.error,e,t):e.onLoad.dispatch(e,t),e._resourcesParsing.splice(e._resourcesParsing.indexOf(t),1),e._queue.idle()&&0===e._resourcesParsing.length&&(e.progress=y,e._onComplete())},!0)},t}();e.default=m},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}function r(){return function(t,e){if(!t.data)return void e();if(t.xhr&&t.xhrType===s.default.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof t.data){if(0===t.data.type.indexOf("image")){var i=function(){var i=h.createObjectURL(t.data);return t.blob=t.data,t.data=new Image,t.data.src=i,t.type=s.default.TYPE.IMAGE,t.data.onload=function(){h.revokeObjectURL(i),t.data.onload=null,e()},{v:void 0}}();if("object"===("undefined"==typeof i?"undefined":o(i)))return i.v}}else{var n=t.xhr.getResponseHeader("content-type");if(n&&0===n.indexOf("image"))return t.data=new Image,t.data.src="data:"+n+";base64,"+l.default.encodeBinary(t.xhr.responseText),t.type=s.default.TYPE.IMAGE,void(t.data.onload=function(){t.data.onload=null,e()})}e()}}e.__esModule=!0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.blobMiddlewareFactory=r;var a=i(192),s=n(a),u=i(319),l=n(u),h=window.URL||window.webkitURL},function(t,e,i){!function(e,i){t.exports=i()}(this,function(){"use strict";function t(t){if("string"!=typeof t)return"";if("data:"===t.slice(0,5)){var e=t.match(/data:audio\/(ogg|mp3|opus|wav|m4a)/i);if(e&&e.length>1)return e[1].toLowerCase()}t=t.split("?")[0],t=t.slice(t.lastIndexOf("/")+1);var i=t.split(".");return 1===i.length||""===i[0]&&2===i.length?"":i.pop().toLowerCase()}function e(e){var i=void 0;if(Array.isArray(e))for(var n=0;n<e.length;n++){i=e[n];var r=t(i);if(et.indexOf(r)>-1)break}else"object"===("undefined"==typeof e?"undefined":J(e))&&Object.keys(e).some(function(n){i=e[n];var r=t(i);return et.indexOf(r)>-1});return i||e}function i(t){return!!(t&&window.AudioBuffer&&t instanceof window.AudioBuffer)}function n(t){return!!(t&&window.ArrayBuffer&&t instanceof window.ArrayBuffer)}function r(t){return!!(t&&window.HTMLMediaElement&&t instanceof window.HTMLMediaElement)}function o(t){return!!(t&&"function"==typeof t.getAudioTracks&&t.getAudioTracks().length&&window.MediaStreamTrack&&t.getAudioTracks()[0]instanceof window.MediaStreamTrack)}function a(t){return!(!t||"string"!=typeof t||"sine"!==t&&"square"!==t&&"sawtooth"!==t&&"triangle"!==t)}function s(t){return!!(t&&"object"===("undefined"==typeof t?"undefined":J(t))&&t.bufferSize&&t.channels&&t.callback)}function u(t){return!(!t||"string"!=typeof t||!(t.indexOf(".")>-1||"data:"===t.slice(0,5)))}function l(t){if(!t||r(t))return!1;var e=t.src||t.url||t.data||t;return u(e)||n(e)||Array.isArray(e)&&u(e[0])}function h(t,e){function i(t){var e=12*(Math.log(t/440)/Math.log(2));return Math.round(e)+69}function n(t){return 440*Math.pow(2,(t-69)/12)}function r(t,e){return Math.floor(1200*Math.log(t/n(e))/Math.log(2))}function o(t,e){return!t||(s.fftSize!==u||(!!(e&&t instanceof Uint8Array)||!e&&t instanceof Float32Array))}function a(t,e){return t?new Float32Array(e):new Uint8Array(e)}e=e||{};var s=t.createAnalyser(),u=e.fftSize||512,l=!!e.float,h=!!e.float,c=void 0,f=void 0;s.fftSize=u,s.smoothingTimeConstant=e.smoothing||e.smoothingTimeConstant||s.smoothingTimeConstant,s.minDecibels=e.minDecibels||s.minDecibels,s.maxDecibels=e.maxDecibels||s.maxDecibels;var d=new Blob(["onmessage=function(e){var data=e.data;var f=new Float32Array(data.b);for(var i=0;i<f.length;i++){data.sum+=f[i]}data.sum/=f.length;postMessage(Math.max(1.0-(data.sum/data.numSamples*-1.0),0))};"]),p=new Blob(["onmessage=function(e){var data=e.data;var sampleRate=data.sampleRate;var buf=new Float32Array(data.b);var SIZE=buf.length;var MAX_SAMPLES=Math.floor(SIZE/2);var best_offset=-1;var best_correlation=0;var rms=0;var foundGoodCorrelation=false;var correlations=new Array(MAX_SAMPLES);for(var i=0;i<SIZE;i++){var val=buf[i];rms+=val*val}rms=Math.sqrt(rms/SIZE);if (rms<0.01){postMessage(-1)}else{var lastCorrelation=1;for(var offset=0;offset<MAX_SAMPLES;offset++){var correlation=0;for(var i=0;i<MAX_SAMPLES;i++){correlation+=Math.abs((buf[i])-(buf[i+offset]))}correlation=1-(correlation/MAX_SAMPLES);correlations[offset]=correlation;if ((correlation>0.9)&&(correlation>lastCorrelation)){foundGoodCorrelation=true;if (correlation>best_correlation){best_correlation=correlation;best_offset=offset}}else if (foundGoodCorrelation){var shift=(correlations[best_offset+1]-correlations[best_offset-1])/correlations[best_offset];postMessage(sampleRate/(best_offset+(8*shift)))}lastCorrelation=correlation}if (best_correlation>0.01){postMessage(sampleRate/best_offset)}else{postMessage(-1)}}};"]),y=URL.createObjectURL(d),v=new Worker(y),m=URL.createObjectURL(p),g=new Worker(m),_=null,b=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],w=null,x={hertz:null,note:null,noteIndex:null,detuneCents:null,detune:null};return v.onmessage=function(t){_&&_(t.data)},g.onmessage=function(t){if(w){var e=t.data;if(e!==-1){var n=i(e),o=r(e,n);x.hertz=e,x.noteIndex=n%12,x.note=b[n%12],x.detuneCents=o,0===o?x.detune="":o<0?x.detune="flat":x.detune="sharp"}w(x)}},s.getWaveform=function(t){return arguments.length||(t=h),o(c,t)&&(u=s.fftSize,h=t,c=a(t,u)),t&&this.getFloatTimeDomainData?this.getFloatTimeDomainData(c):this.getByteTimeDomainData(c),c},s.getPitch=function(e){w=w||e;var i=new Float32Array(s.fftSize);i.set(s.getWaveform(!0)),g.postMessage({sampleRate:t.sampleRate,b:i.buffer},[i.buffer])},s.getFrequencies=function(t){return arguments.length||(t=l),o(f,t)&&(u=s.fftSize,l=t,f=a(t,s.frequencyBinCount)),t?this.getFloatFrequencyData(f):this.getByteFrequencyData(f),f},s.getAmplitude=function(t){_=_||t;var e=new Float32Array(s.fftSize);e.set(s.getFrequencies(!0)),v.postMessage({sum:0,length:e.byteLength,numSamples:s.fftSize/2,b:e.buffer},[e.buffer])},s.update=function(){s.getWaveform(),s.getFrequencies()},Object.defineProperties(s,{smoothing:{get:function(){return s.smoothingTimeConstant},set:function(t){s.smoothingTimeConstant=t}}}),s}function c(t,e){return arguments.length<2&&(e=0),"number"!=typeof t||isNaN(t)?e:t}function f(t,e){e=c(e,1);var i=t.createWaveShaper(),n=new Float32Array(at);return i.update=function(t){if(e=t,e<=0)return e=0,void(this.curve=null);for(var i=100*t,r=Math.PI/180,o=void 0,a=0;a<at;a++)o=2*a/at-1,n[a]=(3+i)*o*20*r/(Math.PI+i*Math.abs(o));this.curve=n},Object.defineProperties(i,{amount:{get:function(){return e},set:function(t){this.update(t)}}}),"undefined"!=typeof e&&i.update(e),i}function d(t,e){e=e||{};var i=t.createGain(),n=t.createDelay(),r=t.createGain(),o=t.createGain();n.delayTime.value=c(e.delayTime,.5),r.gain.value=c(e.feedback,.5),i.connect(n),i.connect(o),n.connect(r),r.connect(n),r.connect(o);var a=i;return a.name="Echo",a._output=o,Object.defineProperties(a,{delay:{get:function(){return n.delayTime.value},set:function(t){n.delayTime.value=t}},feedback:{get:function(){return r.gain.value},set:function(t){r.gain.value=t}}}),a}function p(){function t(){}function e(){return{value:1,defaultValue:1,linearRampToValueAtTime:t,setValueAtTime:t,exponentialRampToValueAtTime:t,setTargetAtTime:t,setValueCurveAtTime:t,cancelScheduledValues:t}}function i(){return{connect:t,disconnect:t,frequencyBinCount:0,smoothingTimeConstant:0,fftSize:0,minDecibels:0,maxDecibels:0,getByteTimeDomainData:t,getByteFrequencyData:t,getFloatTimeDomainData:t,getFloatFrequencyData:t,gain:e(),panningModel:0,setPosition:t,setOrientation:t,setVelocity:t,distanceModel:0,refDistance:0,maxDistance:0,rolloffFactor:0,coneInnerAngle:360,coneOuterAngle:360,coneOuterGain:0,type:0,frequency:e(),Q:e(),detune:e(),delayTime:e(),buffer:0,threshold:e(),knee:e(),ratio:e(),attack:e(),release:e(),reduction:e(),oversample:0,curve:0,sampleRate:1,length:0,duration:0,numberOfChannels:0,getChannelData:function(){return[]},copyFromChannel:t,copyToChannel:t,dopplerFactor:0,speedOfSound:0,start:t}}var n=Date.now();return window.Uint8Array||(window.Uint8Array=window.Float32Array=Array),{createAnalyser:i,createBuffer:i,createBiquadFilter:i,createChannelMerger:i,createChannelSplitter:i,createDynamicsCompressor:i,createConvolver:i,createDelay:i,createGain:i,createOscillator:i,createPanner:i,createScriptProcessor:i,createWaveShaper:i,listener:i(),get currentTime(){return(Date.now()-n)/1e3}}}function y(t){function e(t){var e=Math.log(r/n)/Math.LN2,i=Math.pow(2,e*(t-1));return r*i}var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=40,r=t.sampleRate/2,o=t.createBiquadFilter();return o.type=i.type,o.set=function(t,e,i){return"undefined"!=typeof t&&"number"==typeof t&&(o.frequency.value=t),"undefined"!=typeof e&&"number"==typeof e&&(o.Q.value=e),"undefined"!=typeof i&&"number"==typeof i&&(o.gain.value=i),o},o.setByPercent=function(t,i,n){return o.set(e(t),i,n)},o.set(i.frequency,i.q,i.gain)}function v(t,e){var i=t.createGain(),n=t.createDelay(),r=t.createGain(),o=t.createOscillator(),a=t.createGain(),s=t.createGain();n.delayTime.value=c(e.delay,.005),r.gain.value=c(e.feedback,.5),o.type="sine",o.frequency.value=c(e.frequency,.002),a.gain.value=c(e.gain,.25),i.connect(s),i.connect(n),n.connect(s),n.connect(r),r.connect(i),o.connect(a),a.connect(n.delayTime),o.start(0);var u=i;return u.name="Flanger",u._output=s,Object.defineProperties(u,{delay:{get:function(){return n.delayTime.value},set:function(t){n.delayTime.value=t}},lfoFrequency:{get:function(){return o.frequency.value},set:function(t){o.frequency.value=t}},lfoGain:{get:function(){return a.gain.value},set:function(t){a.gain.value=t}},feedback:{get:function(){return r.gain.value},set:function(t){r.gain.value=t}}}),u}function m(t,e){var i=t.createGain(),n=t.createChannelSplitter(2),r=t.createChannelMerger(2),o=t.createGain(),a=t.createGain(),s=t.createOscillator(),u=t.createGain(),l=t.createGain(),h=t.createDelay(),f=t.createDelay(),d=t.createGain();o.gain.value=a.gain.value=c(e.feedback,.5),h.delayTime.value=f.delayTime.value=c(e.delay,.003),s.type="sine",s.frequency.value=c(e.frequency,.5),u.gain.value=c(e.gain,.005),l.gain.value=0-u.gain.value,i.connect(n),n.connect(h,0),n.connect(f,1),h.connect(o),f.connect(a),o.connect(f),a.connect(h),h.connect(r,0,0),f.connect(r,0,1),r.connect(d),i.connect(d),s.connect(u),s.connect(l),u.connect(h.delayTime),l.connect(f.delayTime),s.start(0);var p=i;return p.name="StereoFlanger",p._output=d,Object.defineProperties(p,{delay:{get:function(){return h.delayTime.value},set:function(t){h.delayTime.value=f.delayTime.value=t}},lfoFrequency:{get:function(){return s.frequency.value},set:function(t){s.frequency.value=t}},lfoGain:{get:function(){return u.gain.value},set:function(t){u.gain.value=l.gain.value=t}},feedback:{get:function(){return o.gain.value},set:function(t){o.gain.value=a.gain.value=t}}}),p}function g(t,e){return e=e||{},e.stereo?new m(t,e):new v(t,e)}function _(t){function e(t,e){var i=t.x,n=t.y,r=t.z,o=e.x,a=e.y,s=e.z;t.x=n*s-r*a,t.y=r*o-i*s,t.z=i*a-n*o}function i(t){if(0===t.x&&0===t.y&&0===t.z)return t;var e=Math.sqrt(t.x*t.x+t.y*t.y+t.z*t.z),i=1/e;return t.x*=i,t.y*=i,t.z*=i,t}function n(t,n){var r=a.get(n.x,n.y,n.z);e(r,s),e(r,n),i(r),i(n),t.setOrientation(n.x,n.y,n.z,r.x,r.y,r.z),a.dispose(n),a.dispose(r)}function r(t,e){t.setPosition(e.x,e.y,e.z),a.dispose(e)}var o=t.createPanner();o.panningModel=_.defaults.panningModel,o.distanceModel=_.defaults.distanceModel,o.refDistance=_.defaults.refDistance,o.maxDistance=_.defaults.maxDistance,o.rolloffFactor=_.defaults.rolloffFactor,o.coneInnerAngle=_.defaults.coneInnerAngle,o.coneOuterAngle=_.defaults.coneOuterAngle,o.coneOuterGain=_.defaults.coneOuterGain,o.setPosition(0,0,1),o.setOrientation(0,0,0);var a={pool:[],get:function(t,e,i){var n=this.pool.length?this.pool.pop():{x:0,y:0,z:0};return"undefined"!=typeof t&&isNaN(t)&&"x"in t&&"y"in t&&"z"in t?(n.x=c(t.x),n.y=c(t.y),n.z=c(t.z)):(n.x=c(t),n.y=c(e),n.z=c(i)),n},dispose:function(t){this.pool.push(t)}},s=a.get(0,1,0),u=Math.PI/4,l=Math.PI/2;return o.set=function(t,e,i){var n=a.get(t,e,i);1===arguments.length&&n.x&&(t=n.x,t>1&&(t=1),t<-1&&(t=-1),t*=u,i=t+l,i>l&&(i=Math.PI-i),n.x=Math.sin(t),n.z=Math.sin(i)),r(o,n)},o.setSourcePosition=function(t,e,i){r(o,a.get(t,e,i))},o.setSourceOrientation=function(t,e,i){n(o,a.get(t,e,i))},o.setListenerPosition=function(e,i,n){r(t.listener,a.get(e,i,n))},o.setListenerOrientation=function(e,i,r){n(t.listener,a.get(e,i,r))},o.getDefaults=function(){return _.defaults},o.setDefaults=function(t){Object.keys(t).forEach(function(e){_.defaults[e]=t[e]})},o}function b(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=c(e.stages,8),n=[],r=void 0,o=t.createGain(),a=t.createGain(),s=t.createOscillator(),u=t.createGain(),l=t.createGain();a.gain.value=c(e.feedback,.5),s.type="sine",s.frequency.value=c(e.frequency,.5),u.gain.value=c(e.gain,300);for(var h=0;h<i;h++)r=t.createBiquadFilter(),r.type="allpass",r.frequency.value=1e3*h,h>0&&n[h-1].connect(r),u.connect(r.frequency),n.push(r);var f=n[0],d=n[n.length-1];o.connect(f),o.connect(l),d.connect(l),d.connect(a),a.connect(f),s.connect(u),s.start(0);var p=o;return p.name="Phaser",p._output=l,Object.defineProperties(p,{lfoFrequency:{get:function(){return s.frequency.value},set:function(t){s.frequency.value=t}},lfoGain:{get:function(){return u.gain.value},set:function(t){u.gain.value=t}},feedback:{get:function(){return a.gain.value},set:function(t){a.gain.value=t}}}),p}function w(t,e){function i(t,e){for(var i=new Float32Array(e),n=0,r=0;r<t.length;r++)i.set(t[r],n),n+=t[r].length;return i}function n(){if(!s.length)return t.createBuffer(2,a,t.sampleRate);var e=s.length*a,n=t.createBuffer(2,e,t.sampleRate);return n.getChannelData(0).set(i(s,e)),n.getChannelData(1).set(i(u,e)),n}function r(){d&&(d.onaudioprocess=null,c.disconnect(),d.disconnect())}function o(){r(),d=t.createScriptProcessor(a,2,2),c.connect(d),d.connect(t.destination),d.connect(f),d.onaudioprocess=function(t){var i=t.inputBuffer.getChannelData(0),n=t.inputBuffer.getChannelData(1);if(e){var r=t.outputBuffer.getChannelData(0),o=t.outputBuffer.getChannelData(1);r.set(i),o.set(n)}p.isRecording&&(s.push(new Float32Array(i)),u.push(new Float32Array(n)))}}var a=4096,s=[],u=[],l=0,h=0,c=t.createGain(),f=t.createGain(),d=void 0,p=c;return p.name="Recorder",p._output=f,p.isRecording=!1,p.start=function(){o(),s.length=0,u.length=0,l=t.currentTime,h=0,this.isRecording=!0},p.stop=function(){return h=t.currentTime,this.isRecording=!1,r(),n()},p.getDuration=function(){return this.isRecording?t.currentTime-l:h-l},p}function x(t){var e=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],i=t.sampleRate,n=c(e.time,1),r=c(e.decay,5),o=!!e.reverse,a=void 0,s=void 0,u=t.createGain(),l=t.createConvolver(),h=t.createGain();u.connect(l),u.connect(h),l.connect(h);var f=u;return f.name="Reverb",f._output=h,f.update=function(e){if("undefined"!=typeof e.time&&(n=e.time,a=Math.floor(i*n),s=a?t.createBuffer(2,a,i):null),"undefined"!=typeof e.decay&&(r=e.decay),"undefined"!=typeof e.reverse&&(o=e.reverse),!s)return void(l.buffer=null);for(var u=s.getChannelData(0),h=s.getChannelData(1),c=void 0,f=void 0,d=0;d<a;d++)c=o?a-d:d,f=Math.pow(1-c/a,r),u[d]=(2*Math.random()-1)*f,h[d]=(2*Math.random()-1)*f;l.buffer=s},f.update({time:n,decay:r,reverse:o}),Object.defineProperties(f,{time:{get:function(){return n},set:function(t){t!==n&&this.update({time:t})}},decay:{get:function(){return r},set:function(t){t!==r&&this.update({decay:t})}},reverse:{get:function(){return o},set:function(t){t!==o&&this.update({reverse:!!t})}}}),f}function T(t){function e(t,e){var i=t._output||t;i.disconnect(),i.connect(e)}function i(t){var i=H.length,n=i?H[i-1]:q;n&&e(n,t),W=t}function n(){if(q){for(var t=void 0,n=void 0,r=0;r<H.length;r++)t=H[r],n=0===r?q:H[r-1],e(n,t);W&&i(W)}}function r(t){return!!t&&H.indexOf(t)>-1}function o(t){return t?r(t)?t:(H.push(t),n(),t):null}function a(t){if(!t)return null;if(!r(t))return t;for(var e=H.length,i=0;i<e;i++)if(t===H[i]){H.splice(i,1);break}var o=t._output||t;return o.disconnect(),n(),t}function s(t,e){e=!!e;var i=r(t);return arguments.length>1&&i===e?V:(i?a(t):o(t),V)}function u(){for(;H.length;)H.pop().disconnect();return n(),V}function l(){u(),t=null,W=null,H=[],q&&q.disconnect(),q=null}function c(e){return o(new h(t,e))}function v(e){var i=t.createDynamicsCompressor();return i.update=function(t){i.threshold.value="undefined"!=typeof t.threshold?t.threshold:-24,i.knee.value="undefined"!=typeof t.knee?t.knee:30,i.ratio.value="undefined"!=typeof t.ratio?t.ratio:12,i.attack.value="undefined"!=typeof t.attack?t.attack:3e-4,i.release.value="undefined"!=typeof t.release?t.release:.25},i.update(e||{}),o(i)}function m(e){var i=t.createConvolver();return i.buffer=e,o(i)}function T(e){var i=t.createDelay();return"undefined"!=typeof e&&(i.delayTime.value=e),o(i)}function S(e){return o(new d(t,e))}function E(e){return o(new f(t,e))}function C(e,i,n,r){return o(new y(t,{type:e,frequency:i,q:n,gain:r}))}function P(t,e){return C("lowpass",{frequency:t,q:e})}function M(t,e){return C("highpass",{frequency:t,q:e})}function A(t,e){return C("bandpass",{frequency:t,q:e})}function O(t,e){return C("lowshelf",{frequency:t,q:0,gain:e})}function k(t,e){return C("highshelf",{frequency:t,q:0,gain:e})}function I(t,e,i){return C("peaking",{frequency:t,q:e,gain:i})}function R(t,e,i){return C("notch",{frequency:t,q:e,gain:i})}function L(t,e){return C("allpass",{frequency:t,q:e})}function B(e){return o(new g(t,e))}function D(e){var i=t.createGain();return"undefined"!=typeof e&&(i.gain.value=e),i}function F(){return o(new _(t))}function j(e){return o(new b(t,e))}function N(e){return o(new w(t,e))}function X(e,i,n){return o(new x(t,e,i,n))}function U(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],i=e.bufferSize||1024,n="undefined"==typeof e.inputChannels?0:e.inputChannels,r="undefined"==typeof e.outputChannels?1:e.outputChannels,a=t.createScriptProcessor(i,n,r),s=e.thisArg||e.context||a,u=e.callback||function(){};return a.onaudioprocess=u.bind(s),o(a)}function G(t){return q=t,n(),t}function Y(t){return i(t),t}t=t||new p;var z=new _(t),V=null,W=void 0,H=[],q=void 0;return V={context:t,nodeList:H,panning:z,has:r,add:o,remove:a,toggle:s,removeAll:u,destroy:l,setSource:G,setDestination:Y,analyser:c,compressor:v,convolver:m,delay:T,echo:S,distortion:E,filter:C,lowpass:P,highpass:M,bandpass:A,lowshelf:O,highshelf:k,peaking:I,notch:R,allpass:L,flanger:B,gain:D,panner:F,phaser:j,recorder:N,reverb:X,script:U},Object.freeze(V)}function S(t,e){function i(t,e){var i=void 0;return t||0===t?(m.some(function(e){return(e===t||e.id===t)&&(i=e,!0)}),i&&e?e(i):i):i}function n(t){return i(t,function(t){return m.splice(m.indexOf(t),1)}),w}function r(t){return t.gain.disconnect(),t.gain.connect(_),m.push(t),t.once("destroy",n),w}function o(t,e){return m.forEach(function(i){return i.play(t,e)}),w}function a(){return m.forEach(function(t){t.playing&&t.pause()}),w}function s(){return m.forEach(function(t){t.paused&&t.play()}),w}function u(){return m.forEach(function(t){return t.stop()}),w}function l(t){return m.forEach(function(e){return e.seek(t)}),w}function h(){return b=w.volume,w.volume=0,w}function c(){return w.volume=b||1,w}function f(t){return w.volume=t,w}function d(e,i){if(t){var n=_.gain,r=t.currentTime;n.cancelScheduledValues(r),n.setValueAtTime(n.value,r),n.linearRampToValueAtTime(e,r+i)}else m.forEach(function(t){return t.fade(e,i)});return w}function p(){m.forEach(function(t){return t.load(null,!0)})}function y(){m.forEach(function(t){return t.unload()})}function v(){for(;m.length;)m.pop().destroy()}var m=[],g=new T(t),_=g.gain(),b=1,w=null;return t&&(g.setSource(_),g.setDestination(e||t.destination)),w={add:r,find:i,remove:n,play:o,pause:a,resume:s,stop:u,seek:l,setVolume:f,mute:h,unMute:c,fade:d,load:p,unload:y,destroy:v},Object.defineProperties(w,{effect:{value:g},gain:{value:_},sounds:{value:m},volume:{get:function(){return _.gain.value},set:function(e){isNaN(e)||(e=Math.min(Math.max(e,0),1),t?(_.gain.cancelScheduledValues(t.currentTime),_.gain.value=e,_.gain.setValueAtTime(e,t.currentTime)):_.gain.value=e,m.forEach(function(t){t.context||(t.groupVolume=e)}))}}}),w}function E(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function C(t){return"function"==typeof t}function P(t){return"number"==typeof t}function M(t){return"object"==typeof t&&null!==t}function A(t){return void 0===t}function O(t,e){function i(){v.off("error"),v.off("progress"),v.off("complete"),v.off("loaded"),x&&"function"==typeof x.removeEventListener&&(x.removeEventListener("canplaythrough",u),x.removeEventListener("error",o)),b&&(b.removeEventListener("progress",r),b.removeEventListener("load",s),b.removeEventListener("error",o))}function n(t){
v.emit("progress",1),v.emit("loaded",t),v.emit("complete",t),i()}function r(t){t.lengthComputable&&(m=t.loaded/t.total,v.emit("progress",m))}function o(e){window.clearTimeout(w);var n=e;x&&x.error&&(n="Media Error: "+y[x.error.code]+" "+t),b&&(n="XHR Error: "+b.status+" "+b.statusText+" "+t),v.emit("error",n),i()}function a(t){g.decodeAudioData(t,function(t){x=t,b=null,m=1,n(t)},o)}function s(){a(b.response)}function u(){window.clearTimeout(w),x&&(m=1,n(x))}function l(){i(),b&&4!==b.readyState&&b.abort(),b=null,window.clearTimeout(w)}function h(){l(),b=null,x=null,g=null}function c(){return t instanceof window.ArrayBuffer?void a(t):(b=new XMLHttpRequest,b.open("GET",t,!0),b.responseType="arraybuffer",b.addEventListener("progress",r),b.addEventListener("load",s),b.addEventListener("error",o),void b.send())}function f(){x&&x.tagName||(x=document.createElement("audio")),_||(window.clearTimeout(w),w=window.setTimeout(u,2e3),x.addEventListener("canplaythrough",u,!1)),x.addEventListener("error",o,!1),x.preload="auto",x.src=t,x.load(),_&&n(x)}function d(){var t=!(arguments.length<=0||void 0===arguments[0])&&arguments[0];e&&!t||(g?c():f())}function p(e){t=e,d()}var y=["","ABORTED","NETWORK","DECODE","SRC_NOT_SUPPORTED"],v=new lt,m=0,g=void 0,_=void 0,b=void 0,w=void 0,x=void 0,T={on:v.on.bind(v),once:v.once.bind(v),off:v.off.bind(v),load:p,start:d,cancel:l,destroy:h};return Object.defineProperties(T,{data:{get:function(){return x}},progress:{get:function(){return m}},audioContext:{set:function(t){g=t}},isTouchLocked:{set:function(t){_=t}}}),Object.freeze(T)}function k(t,e,i){function n(){return!m&&e&&(m=e.createBufferSource(),m.buffer=t),m}function r(){if(m){m.onended=null;try{m.disconnect(),m.stop(0)}catch(t){}m=null}d=!1,p=0,v=!1,g=0}function o(){var t=e.currentTime-g;r(),p=t,v=!1,d=!0}function a(){r(),h=!0,"function"==typeof c&&c(l)}function s(t){var i=arguments.length<=1||void 0===arguments[1]?0:arguments[1];if(!v){for(t=t?e.currentTime+t:0,i&&(p=0),p&&(i=p);i>l.duration;)i%=l.duration;n(),m.onended=a,m.start(t,i),m.loop=f,m.playbackRate.value=y,g=e.currentTime-i,h=!1,d=!1,p=0,v=!0}}function u(){r(),t=null,e=null,c=null,m=null}var l={},h=!1,c=i,f=!1,d=!1,p=0,y=1,v=!1,m=null,g=0;return Object.defineProperties(l,{play:{value:s},pause:{value:o},stop:{value:r},destroy:{value:u},currentTime:{get:function(){if(p)return p;if(g){var t=e.currentTime-g;return t>l.duration&&(t%=l.duration),t}return 0}},duration:{get:function(){return t?t.duration:0}},ended:{get:function(){return h}},loop:{get:function(){return f},set:function(t){f=!!t,m&&(m.loop=f)}},paused:{get:function(){return d}},playbackRate:{get:function(){return y},set:function(t){y=t,m&&(m.playbackRate.value=y)}},playing:{get:function(){return v}},progress:{get:function(){return l.duration?l.currentTime/l.duration:0}},sourceNode:{get:function(){return n()}}}),Object.freeze(l)}function I(t,e,i){function n(){return!w&&e&&(w=e.createMediaElementSource(t)),w}function r(e){t.src=e,t.load(),d=!1,g=!1,b=!1}function o(){t.removeEventListener("canplaythrough",o),b&&t.play()}function a(){return m?(t.currentTime=0,t.currentTime>0&&t.load(),void t.play()):(d=!0,g=!1,b=!1,void("function"==typeof p&&p(f)))}function s(e,i){clearTimeout(y),t.volume=T*x,t.playbackRate=_,i&&(t.currentTime=i),e?y=setTimeout(s,e):t.play(),d=!1,g=!1,b=!0,t.removeEventListener("ended",a),t.addEventListener("ended",a,!1),t.readyState<1&&(t.removeEventListener("canplaythrough",o),t.addEventListener("canplaythrough",o,!1),t.load(),t.play())}function u(){clearTimeout(y),t&&(t.pause(),b=!1,g=!0)}function l(){if(clearTimeout(y),t){t.pause();try{t.currentTime=0,t.currentTime>0&&t.load()}catch(t){}b=!1,g=!1}}function h(t,i){function n(t,e){v=window.setTimeout(function(){return f.volume=f.volume+.2*(t-f.volume),Math.abs(f.volume-t)>.05?void n(t,e):void(f.volume=t)},1e3*e)}return e?f:(window.clearTimeout(v),n(t,i/10),f)}function c(){t.removeEventListener("ended",a),t.removeEventListener("canplaythrough",o),l(),t=null,e=null,p=null,w=null}var f={},d=!1,p=i,y=void 0,v=void 0,m=!1,g=!1,_=1,b=!1,w=null,x=1,T=1;return Object.defineProperties(f,{play:{value:s},pause:{value:u},stop:{value:l},load:{value:r},fade:{value:h},destroy:{value:c},currentTime:{get:function(){return t?t.currentTime:0}},duration:{get:function(){return t?t.duration:0}},ended:{get:function(){return d}},loop:{get:function(){return m},set:function(t){m=!!t}},paused:{get:function(){return g}},playbackRate:{get:function(){return _},set:function(e){_=e,t&&(t.playbackRate=_)}},playing:{get:function(){return b}},progress:{get:function(){return t&&t.duration?t.currentTime/t.duration:0}},sourceNode:{get:function(){return n()}},volume:{get:function(){return T},set:function(e){window.clearTimeout(v),T=e,t&&(t.volume=T*x)}},groupVolume:{get:function(){return x},set:function(e){x=e,t&&(t.volume=T*x)}}}),Object.freeze(f)}function R(t,e){function i(){return!c&&e&&(c=e.createMediaStreamSource(t),navigator.mozGetUserMedia&&(window.mozHack=c)),c}function n(t){t=t?e.currentTime+t:0,i(),c.start(t),f=e.currentTime-l,s=!1,h=!0,u=!1,l=0}function r(){if(c){try{c.stop(0)}catch(t){}c=null}s=!0,u=!1,l=0,h=!1,f=0}function o(){var t=e.currentTime-f;r(),l=t,h=!1,u=!0}function a(){r(),e=null,c=null,t=null,window.mozHack=null}var s=!1,u=!1,l=0,h=!1,c=null,f=0,d={play:n,pause:o,stop:r,destroy:a,duration:0,progress:0};return Object.defineProperties(d,{currentTime:{get:function(){return l?l:f?e.currentTime-f:0}},ended:{get:function(){return s}},paused:{get:function(){return u}},playing:{get:function(){return h}},sourceNode:{get:function(){return i()}}}),Object.freeze(d)}function L(t,e){function i(){return!c&&e&&(c=e.createOscillator(),c.type=t,c.frequency.value=d),c}function n(t){t=t||0,t&&(t=e.currentTime+t),i(),c.start(t),f=l?e.currentTime-l:e.currentTime,s=!1,h=!0,u=!1,l=0}function r(){if(c){try{c.stop(0)}catch(t){}c=null}s=!0,u=!1,l=0,h=!1,f=0}function o(){var t=e.currentTime-f;r(),l=t,h=!1,u=!0}function a(){r(),e=null,c=null}var s=!1,u=!1,l=0,h=!1,c=null,f=0,d=200,p=null;return p={play:n,pause:o,stop:r,destroy:a},Object.defineProperties(p,{currentTime:{get:function(){return l?l:f?e.currentTime-f:0}},duration:{value:0},ended:{get:function(){return s}},frequency:{get:function(){return d},set:function(t){d=t,c&&(c.frequency.value=t)}},paused:{get:function(){return u}},playing:{get:function(){return h}},progress:{value:0},sourceNode:{get:function(){return i()}}}),Object.freeze(p)}function B(t,e){function i(){return!y&&e&&(y=e.createScriptProcessor(u,0,l)),y}function n(){i(),y.onaudioprocess=c,v=e.currentTime-d,h=!1,f=!1,d=0,p=!0}function r(t){for(var e=t.outputBuffer,i=0;i<e.numberOfChannels;i++)for(var n=e.getChannelData(i),r=0;r<n.length;r++)n[r]=0}function o(){y&&(y.onaudioprocess=r),h=!0,f=!1,d=0,p=!1,v=0}function a(){var t=e.currentTime-v;o(),d=t,p=!1,f=!0}function s(){o(),e=null,c=null,y=null}var u=t.bufferSize||1024,l=t.channels||1,h=!1,c=t.callback.bind(t.thisArg||this),f=!1,d=0,p=!1,y=null,v=0,m=null;return m={play:n,pause:a,stop:o,destroy:s,duration:0,progress:0},Object.defineProperties(m,{currentTime:{get:function(){return d?d:v?e.currentTime-v:0}},ended:{get:function(){return h}},paused:{get:function(){return f}},playing:{get:function(){return p}},sourceNode:{get:function(){return i()}}}),Object.freeze(m)}function D(){var t=void 0,e=void 0;return function(i,n){if(!window.Float32Array||!window.AudioBuffer)return[];var r=t===i,o=e&&e.length===n;if(r&&o)return e;if(e&&e.length===n||(e=new Float32Array(n)),!i)return e;t=i;for(var a=Math.floor(t.length/n),s=5,u=Math.max(Math.floor(a/s),1),l=0,h=0;h<t.numberOfChannels;h++)for(var c=t.getChannelData(h),f=0;f<n;f++)for(var d=f*a,p=d+a;d<p;d+=u){var y=c[d];y<0&&(y=-y),y>e[f]&&(e[f]=y),y>l&&(l=y)}for(var v=1/l,m=0;m<e.length;m++)e[m]*=v;return e}}function F(t){function e(t){if(_=t,ot.isAudioBuffer(_))C=new k(_,d,function(){return P.emit("ended",P)});else if(ot.isMediaElement(_))C=new I(_,d,function(){return P.emit("ended",P)});else if(ot.isMediaStream(_))C=new R(_,d);else if(ot.isOscillatorType(_&&_.type||_))C=new L(_.type||_,d);else{if(!ot.isScriptConfig(_))throw new Error("Cannot detect data type: "+_);C=new B(_,d)}y.setSource(C.sourceNode),P.emit("ready",P),E&&E()}function i(t){e(t),P.emit("loaded",P)}function n(t){P.emit("error",P,t)}function r(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0],r=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],o=!r&&!C&&!!t.deferLoad;if(e){var a=ot.getSupportedFile(t.src||t.url||t.data||t)||t.src;t=Object.assign(t,e,{src:a})}return C&&_&&_.tagName?C.load(t.src):(w=w||new O(t.src,o),w.audioContext=t.asMediaElement?null:d,w.isTouchLocked=b,w.off("loaded",i),w.once("loaded",i),w.off("error",n),w.on("error",n)),P}function o(e,i){return!C||b?(E=function(){C&&o(e,i)},t.deferLoad&&(w||r(null,!0),w.start(!0)),P):(E=null,y.setSource(C.sourceNode),d||(P.volume=v.gain.value),C.play(e,i),C.hasOwnProperty("loop")&&(C.loop=x),P.emit("play",P),P)}function a(){return C&&C.pause(),P.emit("pause",P),P}function s(t){return C&&C.stop(t||0),P.emit("stop",P),P}function u(t){return C&&(C.stop(),o(0,C.duration*t)),P}function l(t,e){if(!C)return P;var i=v.gain;if(d){var n=d.currentTime;i.cancelScheduledValues(n),i.setValueAtTime(i.value,n),i.linearRampToValueAtTime(t,n+e)}else"function"==typeof C.fade&&(C.fade(t,e),i.value=t);return P.emit("fade",P,t),P}function h(){C&&C.destroy(),w&&w.destroy(),_=null,E=null,C=null,w=null,t.deferLoad=!0,P.emit("unload",P)}function c(){r(null,!0)}function f(){C&&C.destroy(),y&&y.destroy(),v&&v.disconnect(),w&&w.off("loaded"),w&&w.off("error"),w&&w.destroy(),P.off("loaded"),P.off("ended"),P.off("error"),v=null,d=null,p=null,_=null,E=null,C=null,y=null,w=null,m=null,t=null,P.emit("destroy",P),P.off("destroy")}var d=t.context,p=t.destination,y=new T(d),v=y.gain(),m=D(),g=null,_=null,b=!1,w=null,x=!1,S=1,E=null,C=null,P=null;return d&&(y.setDestination(v),v.connect(p||d.destination)),P=Object.create(lt.prototype,{_events:{value:{}},constructor:{value:F},play:{value:o},pause:{value:a},load:{value:r},seek:{value:u},stop:{value:s},fade:{value:l},unload:{value:h},reload:{value:c},destroy:{value:f},context:{value:d},currentTime:{get:function(){return C?C.currentTime:0},set:function(t){C&&C.stop(),o(0,t)}},data:{get:function(){return _},set:function(t){t&&e(t)}},duration:{get:function(){return C?C.duration:0}},effect:{value:y},ended:{get:function(){return!!C&&C.ended}},frequency:{get:function(){return C?C.frequency:0},set:function(t){C&&C.hasOwnProperty("frequency")&&(C.frequency=t)}},gain:{value:v},id:{get:function(){return g},set:function(t){g=t}},isTouchLocked:{set:function(t){b=t,w&&(w.isTouchLocked=t),!t&&E&&E()}},loader:{get:function(){return w}},loop:{get:function(){return x},set:function(t){x=!!t,C&&C.hasOwnProperty("loop")&&C.loop!==x&&(C.loop=x)}},config:{get:function(){return t}},paused:{get:function(){return!!C&&C.paused}},playing:{get:function(){return!!C&&C.playing}},playbackRate:{get:function(){return S},set:function(t){S=t,C&&(C.playbackRate=S)}},progress:{get:function(){return C?C.progress:0}},sourceNode:{get:function(){return C?C.sourceNode:null}},volume:{get:function(){return d?v.gain.value:C&&C.hasOwnProperty("volume")?C.volume:1},set:function(t){if(!isNaN(t)){t=Math.min(Math.max(t,0),1);var e=v.gain;if(d){var i=d.currentTime;e.cancelScheduledValues(i),e.value=t,e.setValueAtTime(t,i)}else e.value=t,C&&C.hasOwnProperty("volume")&&(C.volume=t)}}},groupVolume:{get:function(){return C.groupVolume},set:function(t){C&&C.hasOwnProperty("groupVolume")&&(C.groupVolume=t)}},waveform:{value:function(t){return _||P.once("ready",function(){return m(_,t)}),m(_,t)}},userData:{value:{}}})}function j(t,e){function i(){r.length&&(s=r.slice(0).sort(function(t,e){return e.duration-t.duration})[0])}var n=new S(t,e),r=n.sounds,o=1,a=!1,s=void 0,u=n.add;n.add=function(t){return u(t),i(),n};var l=n.rmeove;return n.remove=function(t){return l(t),i(),n},Object.defineProperties(n,{currentTime:{get:function(){return s?s.currentTime:0},set:function(t){this.stop(),this.play(0,t)}},duration:{get:function(){return s?s.duration:0}},loop:{get:function(){return a},set:function(t){a=!!t,r.forEach(function(t){t.loop=a})}},paused:{get:function(){return!!s&&s.paused}},progress:{get:function(){return s?s.progress:0}},playbackRate:{get:function(){return o},set:function(t){o=t,r.forEach(function(t){t.playbackRate=o})}},playing:{get:function(){return!!s&&s.playing}}}),n}function N(t,e,i){function n(){return o?(navigator.getUserMedia({audio:!0},function(e){s=e,t(s)},function(t){e&&"PermissionDeniedError"===t.name||"PERMISSION_DENIED"===t?e():i(t.message||t)}),a):a}function r(){return s&&(s.stop(),s=null),a}navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,i=i||function(){};var o=!!navigator.getUserMedia,a={},s=null;return Object.defineProperties(a,{connect:{value:n},disconnect:{value:r},isSupported:{value:o},stream:{get:function(){return s}}}),Object.freeze(a)}function X(t){function e(){l?(g.fillStyle=l,g.fillRect(f,d,v,m)):g.clearRect(f,d,v,m),g.lineWidth=h,_=null,"function"!=typeof u&&(g.strokeStyle=u,g.beginPath())}function i(t,e,i){if("function"==typeof u){var n=u(t,e,i);n!==_&&(_=n,g.stroke(),g.strokeStyle=_,g.beginPath())}}function n(t,e,i){return"function"==typeof p?p(t,e,i):t}function r(e,i){return e&&"function"==typeof e.waveform?e.waveform(i):e?e:t.waveform?t.waveform:t.sound?t.sound.waveform(i):null}function o(t){if(e(),"circular"===s){var o=r(t,360),u=Math.floor(o.length*c),l=ct/u,p=void 0,y=void 0,_=void 0,P=void 0;for(b=0;b<u;b++){var M=n(o[b],b,u);i(b,u,M),p=b*l-ht,P=Math.cos(p),_=Math.sin(p),"fill"===a&&(w=E+S*P,x=C+S*_,g.moveTo(w,x)),y=S+(T-S)*M,w=E+y*P,x=C+y*_,"line"===a&&0===b&&g.moveTo(w,x),g.lineTo(w,x)}"line"===a&&g.closePath()}else{var A=r(t,v),O=Math.min(A.length,v-h/2);for(O=Math.floor(O*c),b=0;b<O;b++){var k=n(A[b],b,O);i(b,O,k),"line"===a&&b>0&&g.lineTo(w,x),w=f+b,x=d+m-Math.round(m*k),x=Math.floor(Math.min(x,d+m-h/2)),"fill"===a?(g.moveTo(w,x),g.lineTo(w,d+m)):g.lineTo(w,x)}}g.stroke()}var a=t.style||"fill",s=t.shape||"linear",u=t.color||0,l=t.bgColor,h=t.lineWidth||1,c=t.percent||1,f=t.x||0,d=t.y||0,p=t.transform,y=t.canvas,v=t.width||y&&y.width,m=t.height||y&&y.height,g=null,_=void 0,b=void 0,w=void 0,x=void 0,T=void 0,S=void 0,E=void 0,C=void 0;return y||t.context||(y=document.createElement("canvas"),v=v||y.width,m=m||y.height,y.width=m,y.height=m),"circular"===s&&(T=t.radius||Math.min(m/2,v/2),S=t.innerRadius||T/2,E=f+v/2,C=d+m/2),g=t.context||y.getContext("2d"),o.canvas=y,(t.waveform||t.sound)&&o(),o}function U(){if(ft)return ft;var t=44100,e=window.AudioContext||window.webkitAudioContext;if(ft=e?new e:null,/(iPhone|iPad)/i.test(navigator.userAgent)&&ft.sampleRate!==t){var i=ft.createBuffer(1,1,t),n=ft.createBufferSource();n.buffer=i,n.connect(ft.destination),n.start(0),n.disconnect(),ft.close(),ft=e?new e:null}var r=ft&&"suspended"===ft.state;return r&&"function"==typeof ft.resume&&window.setTimeout(function(){ft.resume()},1e3),ft}function G(t,e,i){if(dt)return dt;t=t||2,i=i||44100,e=i||t;var n=window.OfflineAudioContext||window.webkitOfflineAudioContext;return dt=n?new n(t,e,i):null}function Y(t){if(!ft)return t;for(var e=t.numberOfChannels,i=ft.createBuffer(e,t.length,t.sampleRate),n=0;n<e;n++)i.getChannelData(n).set(t.getChannelData(n));return i}function z(t){for(var e=t.numberOfChannels,i=0;i<e;i++)Array.prototype.reverse.call(t.getChannelData(i));return t}function V(t,e,i,n,r){ft&&(t.setValueAtTime(e,ft.currentTime),r?t.linearRampToValueAtTime(i,ft.currentTime+n):t.exponentialRampToValueAtTime(i,ft.currentTime+n))}function W(t){if(!ft)return 0;var e=40,i=ft.sampleRate/2,n=Math.log(i/e)/Math.LN2,r=Math.pow(2,n*(t-1));return i*r}function H(t,e,i){return new N(t,e,i)}function q(t){var e=arguments.length<=1||void 0===arguments[1]?":":arguments[1],i=Math.floor(t/60),n=Math.floor(t%3600%60),r=(i<10?"0"+i:i)+e,o=n<10?"0"+n:n;return r+o}function K(){function t(t){return w.find(t)}function e(t){var e=new j(_,w.gain);return t&&t.forEach(function(t){return e.add(t)}),e}function i(t){var e=t&&t.webAudio===!1?null:_,i=ot.getSupportedFile(t.src||t.url||t.data||t),n=new F(Object.assign({},t||{},{src:i,context:e,destination:w.gain}));return n.isTouchLocked=T,t&&(n.id=t.id||t.name||"",n.loop=!!t.loop,n.volume=t.volume),w.add(n),n}function n(t,e){var n=i(t).load();return e&&e.add(n.loader),n}function r(t){var e=t.src||t.url||t.data||t,i=void 0,r=void 0;if(ot.containsURL(e))i=n(t),r=i.loader;else{if(!Array.isArray(e)||!ot.containsURL(e[0].src||e[0].url)){var o="sono.load: No audio file URLs found in config.";if(!t.onError)throw new Error(o);return t.onError("[ERROR] "+o),null}i=[],r=new O.Group,e.forEach(function(t){return i.push(n(t,r))})}return t.onProgress&&r.on("progress",function(e){return t.onProgress(e)}),t.onComplete&&r.once("complete",function(){r.off("progress"),t.onComplete(i)}),r.once("error",function(e){r.off("error"),t.onError&&t.onError(e)}),r.start(),i}function o(t){if(ot.containsURL(t))return r(t);var e=i(t);return e.data=t.data||t,e}function a(t){return w.find(t,function(t){return t.destroy()}),x}function s(){return w.destroy(),x}function u(){return w.mute(),x}function l(){return w.unMute(),x}function h(t,e){return w.fade(t,e),x}function c(){return w.pause(),x}function f(){return w.resume(),x}function d(){return w.stop(),x}function p(t,e,i){return w.find(t,function(t){return t.play(e,i)}),x}function y(t){return w.find(t,function(t){return t.pause()}),x}function v(t){return w.find(t,function(t){return t.stop()}),x}function m(){"Supported:"+x.isSupported+" WebAudioAPI:"+x.hasWebAudio+" TouchLocked:"+T+" State:"+(_&&_.state)+" Extensions:"+ot.extensions;if(navigator.userAgent.indexOf("Chrome")>-1);else window.console&&window.console.log.call}var g="0.1.85",_=pt.getContext(),b=_?_.destination:null,w=new S(_,b),x=null,T=!1;return T=Z.handleTouchLock(_,function(){T=!1,w.sounds.forEach(function(t){return t.isTouchLocked=!1})}),function(){function t(){w.sounds.forEach(function(t){t.playing&&(t.pause(),i.push(t))})}function e(){for(;i.length;)i.pop().play()}var i=[];Z.handlePageVisibility(t,e)}(),x={createSound:o,create:o,destroySound:a,destroyAll:s,getSound:t,createGroup:e,file:ot,load:r,mute:u,unMute:l,fade:h,pauseAll:c,resumeAll:f,stopAll:d,play:p,pause:y,stop:v,log:m,canPlay:ot.canPlay,context:_,getOfflineContext:pt.getOfflineContext,effect:w.effect,extensions:ot.extensions,hasWebAudio:!!_,isSupported:ot.extensions.length>0,gain:w.gain,utils:pt,VERSION:g,Sound:F,Group:S},Object.defineProperties(x,{isTouchLocked:{get:function(){return T}},sounds:{get:function(){return w.sounds.slice(0)}},volume:{get:function(){return w.volume},set:function(t){w.volume=t}}}),Object.freeze(x)}var Z={};Z.handlePageVisibility=function(t,e){function i(){document[n]?t():e()}var n=void 0,r=void 0;"undefined"!=typeof document.hidden?(n="hidden",r="visibilitychange"):"undefined"!=typeof document.mozHidden?(n="mozHidden",r="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(n="msHidden",r="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(n="webkitHidden",r="webkitvisibilitychange"),"undefined"!=typeof r&&document.addEventListener(r,i,!1)},Z.handleTouchLock=function(t,e){function i(){t&&"suspended"===t.state?t.resume().then(function(){var n=t.createBuffer(1,1,44100),r=t.createBufferSource();r.buffer=n,r.connect(t.destination),r.start(0),r.stop(0),r.disconnect(),document.body.removeEventListener("touchend",i),e()}):(document.body.removeEventListener("touchend",i),e())}var n=navigator.userAgent,r=!!n.match(/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini|Windows Phone|SymbianOS/i);return r&&document.body.addEventListener("touchend",i,!1),r};var J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},Q=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},$=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},tt=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},et=[],it={},nt=[{ext:"ogg",type:'audio/ogg; codecs="vorbis"'},{ext:"mp3",type:"audio/mpeg;"},{ext:"opus",type:'audio/ogg; codecs="opus"'},{ext:"wav",type:'audio/wav; codecs="1"'},{ext:"m4a",type:"audio/x-m4a;"},{ext:"m4a",type:"audio/aac;"}],rt=document.createElement("audio");rt&&(nt.forEach(function(t){var e=!!rt.canPlayType(t.type);e&&et.indexOf(t.ext)===-1&&et.push(t.ext),it[t.ext]=e}),rt=null);var ot={canPlay:it,containsURL:l,extensions:et,getFileExtension:t,getSupportedFile:e,isAudioBuffer:i,isMediaElement:r,isMediaStream:o,isOscillatorType:a,isScriptConfig:s,isURL:u},at=22050;_.defaults={panningModel:"HRTF",distanceModel:"linear",refDistance:1,maxDistance:1e3,rolloffFactor:1,coneInnerAngle:360,coneOuterAngle:0,coneOuterGain:0},S.Effect=T;var st=E;E.EventEmitter=E,E.prototype._events=void 0,E.prototype._maxListeners=void 0,E.defaultMaxListeners=10,E.prototype.setMaxListeners=function(t){if(!P(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},E.prototype.emit=function(t){var e,i,n,r,o,a;if(this._events||(this._events={}),"error"===t&&(!this._events.error||M(this._events.error)&&!this._events.error.length)){if(e=arguments[1],e instanceof Error)throw e;var s=new Error('Uncaught, unspecified "error" event. ('+e+")");throw s.context=e,s}if(i=this._events[t],A(i))return!1;if(C(i))switch(arguments.length){case 1:i.call(this);break;case 2:i.call(this,arguments[1]);break;case 3:i.call(this,arguments[1],arguments[2]);break;default:r=Array.prototype.slice.call(arguments,1),i.apply(this,r)}else if(M(i))for(r=Array.prototype.slice.call(arguments,1),a=i.slice(),n=a.length,o=0;o<n;o++)a[o].apply(this,r);return!0},E.prototype.addListener=function(t,e){var i;if(!C(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,C(e.listener)?e.listener:e),this._events[t]?M(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,M(this._events[t])&&!this._events[t].warned&&(i=A(this._maxListeners)?E.defaultMaxListeners:this._maxListeners,i&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,"function"==typeof console.trace)),this},E.prototype.on=E.prototype.addListener,E.prototype.once=function(t,e){function i(){this.removeListener(t,i),n||(n=!0,e.apply(this,arguments))}if(!C(e))throw TypeError("listener must be a function");var n=!1;return i.listener=e,this.on(t,i),this},E.prototype.removeListener=function(t,e){var i,n,r,o;if(!C(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(i=this._events[t],r=i.length,n=-1,i===e||C(i.listener)&&i.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(M(i)){for(o=r;o-- >0;)if(i[o]===e||i[o].listener&&i[o].listener===e){n=o;break}if(n<0)return this;1===i.length?(i.length=0,delete this._events[t]):i.splice(n,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},E.prototype.removeAllListeners=function(t){var e,i;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(i=this._events[t],C(i))this.removeListener(t,i);else if(i)for(;i.length;)this.removeListener(t,i[i.length-1]);return delete this._events[t],this},E.prototype.listeners=function(t){var e;return e=this._events&&this._events[t]?C(this._events[t])?[this._events[t]]:this._events[t].slice():[]},E.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(C(e))return 1;if(e)return e.length}return 0},E.listenerCount=function(t,e){return t.listenerCount(e)};var ut=st.EventEmitter,lt=function(t){function e(){return Q(this,e),tt(this,t.call(this))}return $(e,t),e.prototype.off=function(t,e){return e?this.removeListener(t,e):t?this.removeAllListeners(t):this.removeAllListeners()},e}(ut);O.Group=function(){function t(t){var e=l+t;s.emit("progress",e/h)}function e(){l++,r(),s.emit("progress",l/h),n()}function i(t){r(),s.emit("error",t),n()}function n(){return 0===u.length?(c=null,void s.emit("complete")):(c=u.pop(),c.on("progress",t),c.once("loaded",e),c.once("error",i),void c.start())}function r(){c.off("progress",t),c.off("loaded",e),c.off("error",i)}function o(t){return u.push(t),h++,t}function a(){h=u.length,n()}var s=new lt,u=[],l=0,h=0,c=void 0;return Object.freeze({on:s.on.bind(s),once:s.once.bind(s),off:s.off.bind(s),add:o,start:a})},F.__source={BufferSource:k,MediaSource:I,MicrophoneSource:R,OscillatorSource:L,ScriptSource:B};var ht=Math.PI/2,ct=2*Math.PI,ft=void 0,dt=void 0,pt=Object.freeze({getContext:U,getOfflineContext:G,cloneBuffer:Y,reverseBuffer:z,ramp:V,getFrequency:W,microphone:H,timeCode:q,waveformer:X}),yt=new K;return yt})},function(t,e,i){var n;(function(t,r){!function(o){function a(t){throw RangeError(I[t])}function s(t,e){for(var i=t.length,n=[];i--;)n[i]=e(t[i]);return n}function u(t,e){var i=t.split("@"),n="";i.length>1&&(n=i[0]+"@",t=i[1]),t=t.replace(k,".");var r=t.split("."),o=s(r,e).join(".");return n+o}function l(t){for(var e,i,n=[],r=0,o=t.length;r<o;)e=t.charCodeAt(r++),e>=55296&&e<=56319&&r<o?(i=t.charCodeAt(r++),56320==(64512&i)?n.push(((1023&e)<<10)+(1023&i)+65536):(n.push(e),r--)):n.push(e);return n}function h(t){return s(t,function(t){var e="";return t>65535&&(t-=65536,e+=B(t>>>10&1023|55296),t=56320|1023&t),e+=B(t)}).join("")}function c(t){return t-48<10?t-22:t-65<26?t-65:t-97<26?t-97:w}function f(t,e){return t+22+75*(t<26)-((0!=e)<<5)}function d(t,e,i){var n=0;for(t=i?L(t/E):t>>1,t+=L(t/e);t>R*T>>1;n+=w)t=L(t/R);return L(n+(R+1)*t/(t+S))}function p(t){var e,i,n,r,o,s,u,l,f,p,y=[],v=t.length,m=0,g=P,_=C;for(i=t.lastIndexOf(M),i<0&&(i=0),n=0;n<i;++n)t.charCodeAt(n)>=128&&a("not-basic"),y.push(t.charCodeAt(n));for(r=i>0?i+1:0;r<v;){for(o=m,s=1,u=w;r>=v&&a("invalid-input"),l=c(t.charCodeAt(r++)),(l>=w||l>L((b-m)/s))&&a("overflow"),m+=l*s,f=u<=_?x:u>=_+T?T:u-_,!(l<f);u+=w)p=w-f,s>L(b/p)&&a("overflow"),s*=p;e=y.length+1,_=d(m-o,e,0==o),L(m/e)>b-g&&a("overflow"),g+=L(m/e),m%=e,y.splice(m++,0,g)}return h(y)}function y(t){var e,i,n,r,o,s,u,h,c,p,y,v,m,g,_,S=[];for(t=l(t),v=t.length,e=P,i=0,o=C,s=0;s<v;++s)y=t[s],y<128&&S.push(B(y));for(n=r=S.length,r&&S.push(M);n<v;){for(u=b,s=0;s<v;++s)y=t[s],y>=e&&y<u&&(u=y);for(m=n+1,u-e>L((b-i)/m)&&a("overflow"),i+=(u-e)*m,e=u,s=0;s<v;++s)if(y=t[s],y<e&&++i>b&&a("overflow"),y==e){for(h=i,c=w;p=c<=o?x:c>=o+T?T:c-o,!(h<p);c+=w)_=h-p,g=w-p,S.push(B(f(p+_%g,0))),h=L(_/g);S.push(B(f(h,0))),o=d(i,m,n==r),i=0,++n}++i,++e}return S.join("")}function v(t){return u(t,function(t){return A.test(t)?p(t.slice(4).toLowerCase()):t})}function m(t){return u(t,function(t){return O.test(t)?"xn--"+y(t):t})}var g=("object"==typeof e&&e&&!e.nodeType&&e,"object"==typeof t&&t&&!t.nodeType&&t,"object"==typeof r&&r);g.global!==g&&g.window!==g&&g.self!==g||(o=g);var _,b=2147483647,w=36,x=1,T=26,S=38,E=700,C=72,P=128,M="-",A=/^xn--/,O=/[^\x20-\x7E]/,k=/[\x2E\u3002\uFF0E\uFF61]/g,I={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},R=w-x,L=Math.floor,B=String.fromCharCode;_={version:"1.3.2",ucs2:{decode:l,encode:h},decode:p,encode:y,toASCII:m,toUnicode:v},n=function(){return _}.call(e,i,e,t),!(void 0!==n&&(t.exports=n))}(this)}).call(e,i(815)(t),function(){return this}())},function(t,e){"use strict";t.exports={isString:function(t){return"string"==typeof t},isObject:function(t){return"object"==typeof t&&null!==t},isNull:function(t){return null===t},isNullOrUndefined:function(t){return null==t}}},function(t,e){"function"==typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var i=function(){};i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t}},function(t,e){t.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},function(t,e,i){(function(t,n){function r(t,i){var n={seen:[],stylize:a};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),y(i)?n.showHidden=i:i&&e._extend(n,i),w(n.showHidden)&&(n.showHidden=!1),w(n.depth)&&(n.depth=2),w(n.colors)&&(n.colors=!1),w(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=o),u(n,t,n.depth)}function o(t,e){var i=r.styles[e];return i?"["+r.colors[i][0]+"m"+t+"["+r.colors[i][1]+"m":t}function a(t,e){return t}function s(t){var e={};return t.forEach(function(t,i){e[t]=!0}),e}function u(t,i,n){if(t.customInspect&&i&&C(i.inspect)&&i.inspect!==e.inspect&&(!i.constructor||i.constructor.prototype!==i)){var r=i.inspect(n,t);return _(r)||(r=u(t,r,n)),r}var o=l(t,i);if(o)return o;var a=Object.keys(i),y=s(a);if(t.showHidden&&(a=Object.getOwnPropertyNames(i)),E(i)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return h(i);if(0===a.length){if(C(i)){var v=i.name?": "+i.name:"";return t.stylize("[Function"+v+"]","special")}if(x(i))return t.stylize(RegExp.prototype.toString.call(i),"regexp");if(S(i))return t.stylize(Date.prototype.toString.call(i),"date");if(E(i))return h(i)}var m="",g=!1,b=["{","}"];if(p(i)&&(g=!0,b=["[","]"]),C(i)){var w=i.name?": "+i.name:"";m=" [Function"+w+"]"}if(x(i)&&(m=" "+RegExp.prototype.toString.call(i)),S(i)&&(m=" "+Date.prototype.toUTCString.call(i)),E(i)&&(m=" "+h(i)),0===a.length&&(!g||0==i.length))return b[0]+m+b[1];if(n<0)return x(i)?t.stylize(RegExp.prototype.toString.call(i),"regexp"):t.stylize("[Object]","special");t.seen.push(i);var T;return T=g?c(t,i,n,y,a):a.map(function(e){return f(t,i,n,y,e,g)}),t.seen.pop(),d(T,m,b)}function l(t,e){if(w(e))return t.stylize("undefined","undefined");if(_(e)){var i="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(i,"string")}return g(e)?t.stylize(""+e,"number"):y(e)?t.stylize(""+e,"boolean"):v(e)?t.stylize("null","null"):void 0}function h(t){return"["+Error.prototype.toString.call(t)+"]"}function c(t,e,i,n,r){for(var o=[],a=0,s=e.length;a<s;++a)A(e,String(a))?o.push(f(t,e,i,n,String(a),!0)):o.push("");return r.forEach(function(r){r.match(/^\d+$/)||o.push(f(t,e,i,n,r,!0))}),o}function f(t,e,i,n,r,o){var a,s,l;if(l=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]},l.get?s=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(s=t.stylize("[Setter]","special")),A(n,r)||(a="["+r+"]"),s||(t.seen.indexOf(l.value)<0?(s=v(i)?u(t,l.value,null):u(t,l.value,i-1),s.indexOf("\n")>-1&&(s=o?s.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+s.split("\n").map(function(t){return"   "+t}).join("\n"))):s=t.stylize("[Circular]","special")),w(a)){if(o&&r.match(/^\d+$/))return s;a=JSON.stringify(""+r),a.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=t.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=t.stylize(a,"string"))}return a+": "+s}function d(t,e,i){var n=0,r=t.reduce(function(t,e){return n++,e.indexOf("\n")>=0&&n++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return r>60?i[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+i[1]:i[0]+e+" "+t.join(", ")+" "+i[1];
}function p(t){return Array.isArray(t)}function y(t){return"boolean"==typeof t}function v(t){return null===t}function m(t){return null==t}function g(t){return"number"==typeof t}function _(t){return"string"==typeof t}function b(t){return"symbol"==typeof t}function w(t){return void 0===t}function x(t){return T(t)&&"[object RegExp]"===M(t)}function T(t){return"object"==typeof t&&null!==t}function S(t){return T(t)&&"[object Date]"===M(t)}function E(t){return T(t)&&("[object Error]"===M(t)||t instanceof Error)}function C(t){return"function"==typeof t}function P(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function M(t){return Object.prototype.toString.call(t)}function A(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var O=/%[sdj%]/g;e.format=function(t){if(!_(t)){for(var e=[],i=0;i<arguments.length;i++)e.push(r(arguments[i]));return e.join(" ")}for(var i=1,n=arguments,o=n.length,a=String(t).replace(O,function(t){if("%%"===t)return"%";if(i>=o)return t;switch(t){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}default:return t}}),s=n[i];i<o;s=n[++i])a+=v(s)||!T(s)?" "+s:" "+r(s);return a},e.deprecate=function(i,r){function o(){if(!a){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation,a=!0}return i.apply(this,arguments)}if(w(t.process))return function(){return e.deprecate(i,r).apply(this,arguments)};if(n.noDeprecation===!0)return i;var a=!1;return o};var k,I={};e.debuglog=function(t){if(w(k)&&(k=n.env.NODE_DEBUG||""),t=t.toUpperCase(),!I[t])if(new RegExp("\\b"+t+"\\b","i").test(k)){n.pid;I[t]=function(){e.format.apply(e,arguments)}}else I[t]=function(){};return I[t]},e.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},e.isArray=p,e.isBoolean=y,e.isNull=v,e.isNullOrUndefined=m,e.isNumber=g,e.isString=_,e.isSymbol=b,e.isUndefined=w,e.isRegExp=x,e.isObject=T,e.isDate=S,e.isError=E,e.isFunction=C,e.isPrimitive=P,e.isBuffer=i(813);e.log=function(){},e.inherits=i(812),e._extend=function(t,e){if(!e||!T(e))return t;for(var i=Object.keys(e),n=i.length;n--;)t[i[n]]=e[i[n]];return t}}).call(e,function(){return this}(),i(317))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children=[],t.webpackPolyfill=1),t}},function(t,e){t.exports={iceGame:[{text:"ICE_HOW_TO_SLIDE",text_mobile:"ICE_HOW_TO_SLIDE_MOBILE",image:"howto_ice_01.png"},{text:"ICE_HOW_TO_COLLECT",image:"howto_ice_02.png"},{text:"ICE_HOW_TO_SKATES",image:"howto_ice_03.png"},{text:"ICE_HOW_TO_GOAL",image:"howto_ice_04.png"}],fireGame:[{text:"FIRE_HOW_TO_TAP",image:"howto_fire_01.png"},{text:"FIRE_HOW_TO_TIMINGS",image:"howto_fire_02.png"},{text:"FIRE_HOW_TO_FILL",image:"howto_fire_03.png"},{text:"FIRE_HOW_TO_HIGH_SCORE",image:"howto_fire_03.png"}],slimeGame:[{text:"SLIME_HOW_TO_RUN",text_mobile:"SLIME_HOW_TO_RUN_MOBILE",image:"howto_slime_01.png"},{text:"SLIME_HOW_TO_RUN_FASTER",image:"howto_slime_02.png"},{text:"SLIME_HOW_TO_JUMP",text_mobile:"SLIME_HOW_TO_JUMP_MOBILE",image:"howto_slime_03.png"},{text:"SLIME_HOW_TO_DISCO",image:"howto_slime_04.png"},{text:"SLIME_HOW_TO_OBSTACLES",image:"howto_slime_05.png"},{text:"SLIME_HOW_TO_SLIME",image:"howto_slime_06.png"},{text:"SLIME_HOW_TO_GOAL",image:"howto_slime_07.png"}],candyGame:[{text:"CANDY_HOW_TO_CANDY",image:"howto_candy_01.png"},{text:"CANDY_HOW_TO_ZOMBIES",image:"howto_candy_02.png"},{text:"CANDY_HOW_TO_LIFEBACK",image:"howto_candy_03.png"},{text:"CANDY_HOW_TO_HIGHSCORE",image:"howto_candy_04.png"}]}},function(t,e,i){function n(t,e){for(var i=0;i<t.length;i++){var n=t[i],r=d[n.id];if(r){r.refs++;for(var o=0;o<r.parts.length;o++)r.parts[o](n.parts[o]);for(;o<n.parts.length;o++)r.parts.push(l(n.parts[o],e))}else{for(var a=[],o=0;o<n.parts.length;o++)a.push(l(n.parts[o],e));d[n.id]={id:n.id,refs:1,parts:a}}}}function r(t){for(var e=[],i={},n=0;n<t.length;n++){var r=t[n],o=r[0],a=r[1],s=r[2],u=r[3],l={css:a,media:s,sourceMap:u};i[o]?i[o].parts.push(l):e.push(i[o]={id:o,parts:[l]})}return e}function o(t,e){var i=v(),n=_[_.length-1];if("top"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),_.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");i.appendChild(e)}}function a(t){t.parentNode.removeChild(t);var e=_.indexOf(t);e>=0&&_.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",o(t,e),e}function u(t){var e=document.createElement("link");return e.rel="stylesheet",o(t,e),e}function l(t,e){var i,n,r;if(e.singleton){var o=g++;i=m||(m=s(e)),n=h.bind(null,i,o,!1),r=h.bind(null,i,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(i=u(e),n=f.bind(null,i),r=function(){a(i),i.href&&URL.revokeObjectURL(i.href)}):(i=s(e),n=c.bind(null,i),r=function(){a(i)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else r()}}function h(t,e,i,n){var r=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=b(e,r);else{var o=document.createTextNode(r),a=t.childNodes;a[e]&&t.removeChild(a[e]),a.length?t.insertBefore(o,a[e]):t.appendChild(o)}}function c(t,e){var i=e.css,n=e.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}function f(t,e){var i=e.css,n=e.sourceMap;n&&(i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var r=new Blob([i],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(r),o&&URL.revokeObjectURL(o)}var d={},p=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},y=p(function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())}),v=p(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,g=0,_=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=y()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var i=r(t);return n(i,e),function(t){for(var o=[],a=0;a<i.length;a++){var s=i[a],u=d[s.id];u.refs--,o.push(u)}if(t){var l=r(t);n(l,e)}for(var a=0;a<o.length;a++){var u=o[a];if(0===u.refs){for(var h=0;h<u.parts.length;h++)u.parts[h]();delete d[u.id]}}}};var b=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}()},function(t,e,i){var n=i(473);"string"==typeof n&&(n=[[t.id,n,""]]);i(817)(n,{});n.locals&&(t.exports=n.locals)}]);
//# sourceMappingURL=main.js.map