!function(i){var n={};function __webpack_require__(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,__webpack_require__),t.l=!0,t.exports}__webpack_require__.m=i,__webpack_require__.c=n,__webpack_require__.d=function(e,t,i){__webpack_require__.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},__webpack_require__.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.t=function(t,e){if(1&e&&(t=__webpack_require__(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(__webpack_require__.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)__webpack_require__.d(i,n,function(e){return t[e]}.bind(null,n));return i},__webpack_require__.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return __webpack_require__.d(t,"a",t),t},__webpack_require__.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},__webpack_require__.p="",__webpack_require__(__webpack_require__.s=327)}([function(e,t,i){"use strict";(function(n){e.exports=function e(a,o,l){function s(i,t){if(!o[i]){if(!a[i]){if(u)return u(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var r=o[i]={exports:{}};a[i][0].call(r.exports,function(e){var t=a[i][1][e];return s(t||e)},r,r.exports,e,a,o,l)}return o[i].exports}for(var u=!1,t=0;t<l.length;t++)s(l[t]);return s}({1:[function(e,t,i){function countTrailingZeros(e){var t=32;return(e&=-e)&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&--t,t}i.INT_BITS=32,i.INT_MAX=2147483647,i.INT_MIN=-1<<31,i.sign=function(e){return(0<e)-(e<0)},i.abs=function(e){var t=e>>31;return(e^t)-t},i.min=function(e,t){return t^(e^t)&-(e<t)},i.max=function(e,t){return e^(e^t)&-(e<t)},i.isPow2=function(e){return!(e&e-1||!e)},i.log2=function(e){var t,i;return t=(65535<e)<<4,t|=i=(255<(e>>>=t))<<3,t|=i=(15<(e>>>=i))<<2,(t|=i=(3<(e>>>=i))<<1)|(e>>>=i)>>1},i.log10=function(e){return 1e9<=e?9:1e8<=e?8:1e7<=e?7:1e6<=e?6:1e5<=e?5:1e4<=e?4:1e3<=e?3:100<=e?2:10<=e?1:0},i.popCount=function(e){return 16843009*((e=(858993459&(e-=e>>>1&1431655765))+(e>>>2&858993459))+(e>>>4)&252645135)>>>24},i.countTrailingZeros=countTrailingZeros,i.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)+1},i.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,(e|=e>>>16)-(e>>>1)},i.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,27030>>>(e&=15)&1};var n=new Array(256);!function(e){for(var t=0;t<256;++t){var i=t,n=t,r=7;for(i>>>=1;i;i>>>=1)n<<=1,n|=1&i,--r;e[t]=n<<r&255}}(n),i.reverse=function(e){return n[255&e]<<24|n[e>>>8&255]<<16|n[e>>>16&255]<<8|n[e>>>24&255]},i.interleave2=function(e,t){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e&=65535)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t&=65535)|t<<8))|t<<4))|t<<2))|t<<1))<<1},i.deinterleave2=function(e,t){return(e=65535&((e=16711935&((e=252645135&((e=858993459&((e=e>>>t&1431655765)|e>>>1))|e>>>2))|e>>>4))|e>>>16))<<16>>16},i.interleave3=function(e,t,i){return e=1227133513&((e=3272356035&((e=251719695&((e=4278190335&((e&=1023)|e<<16))|e<<8))|e<<4))|e<<2),(e|=(t=1227133513&((t=3272356035&((t=251719695&((t=4278190335&((t&=1023)|t<<16))|t<<8))|t<<4))|t<<2))<<1)|(i=1227133513&((i=3272356035&((i=251719695&((i=4278190335&((i&=1023)|i<<16))|i<<8))|i<<4))|i<<2))<<2},i.deinterleave3=function(e,t){return(e=1023&((e=4278190335&((e=251719695&((e=3272356035&((e=e>>>t&1227133513)|e>>>2))|e>>>4))|e>>>8))|e>>>16))<<22>>22},i.nextCombination=function(e){var t=e|e-1;return 1+t|(~t&-~t)-1>>>countTrailingZeros(e)+1}},{}],2:[function(e,t,i){function earcut(e,t,i){i=i||2;var n,r,a,o,s,l,u,h=t&&t.length,d=h?t[0]*i:e.length,c=linkedList(e,0,d,i,!0),p=[];if(!c||c.next===c.prev)return p;if(h&&(c=function(e,t,i,n){var r,a,o,s,l,u=[];for(r=0,a=t.length;r<a;r++)o=t[r]*n,s=r<a-1?t[r+1]*n:e.length,(l=linkedList(e,o,s,n,!1))===l.next&&(l.steiner=!0),u.push(getLeftmost(l));for(u.sort(compareX),r=0;r<u.length;r++)eliminateHole(u[r],i),i=filterPoints(i,i.next);return i}(e,t,c,i)),e.length>80*i){n=a=e[0],r=o=e[1];for(var f=i;f<d;f+=i)s=e[f],l=e[f+1],s<n&&(n=s),l<r&&(r=l),a<s&&(a=s),o<l&&(o=l);u=0!==(u=Math.max(a-n,o-r))?1/u:0}return earcutLinked(c,p,i,n,r,u),p}function linkedList(e,t,i,n,r){var a,o;if(r===0<signedArea(e,t,i,n))for(a=t;a<i;a+=n)o=insertNode(a,e[a],e[a+1],o);else for(a=i-n;t<=a;a-=n)o=insertNode(a,e[a],e[a+1],o);return o&&equals(o,o.next)&&(removeNode(o),o=o.next),o}function filterPoints(e,t){if(!e)return e;t=t||e;var i,n=e;do{if(i=!1,n.steiner||!equals(n,n.next)&&0!==area(n.prev,n,n.next))n=n.next;else{if(removeNode(n),(n=t=n.prev)===n.next)break;i=!0}}while(i||n!==t);return t}function earcutLinked(e,t,i,n,r,a,o){if(e){!o&&a&&function(e,t,i,n){var r=e;for(;null===r.z&&(r.z=zOrder(r.x,r.y,t,i,n)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next,r!==e;);r.prevZ.nextZ=null,r.prevZ=null,function(e){var t,i,n,r,a,o,s,l,u=1;do{for(i=e,a=e=null,o=0;i;){for(o++,n=i,t=s=0;t<u&&(s++,n=n.nextZ);t++);for(l=u;0<s||0<l&&n;)0!==s&&(0===l||!n||i.z<=n.z)?(i=(r=i).nextZ,s--):(n=(r=n).nextZ,l--),a?a.nextZ=r:e=r,r.prevZ=a,a=r;i=n}a.nextZ=null,u*=2}while(1<o)}(r)}(e,n,r,a);for(var s,l,u=e;e.prev!==e.next;)if(s=e.prev,l=e.next,a?isEarHashed(e,n,r,a):isEar(e))t.push(s.i/i),t.push(e.i/i),t.push(l.i/i),removeNode(e),e=l.next,u=l.next;else if((e=l)===u){o?1===o?earcutLinked(e=cureLocalIntersections(e,t,i),t,i,n,r,a,2):2===o&&splitEarcut(e,t,i,n,r,a):earcutLinked(filterPoints(e),t,i,n,r,a,1);break}}}function isEar(e){var t=e.prev,i=e,n=e.next;if(!(0<=area(t,i,n))){for(var r=e.next.next;r!==e.prev;){if(pointInTriangle(t.x,t.y,i.x,i.y,n.x,n.y,r.x,r.y)&&0<=area(r.prev,r,r.next))return;r=r.next}return 1}}function isEarHashed(e,t,i,n){var r=e.prev,a=e,o=e.next;if(!(0<=area(r,a,o))){for(var s=r.x<a.x?r.x<o.x?r.x:o.x:a.x<o.x?a.x:o.x,l=r.y<a.y?r.y<o.y?r.y:o.y:a.y<o.y?a.y:o.y,u=r.x>a.x?r.x>o.x?r.x:o.x:a.x>o.x?a.x:o.x,h=r.y>a.y?r.y>o.y?r.y:o.y:a.y>o.y?a.y:o.y,d=zOrder(s,l,t,i,n),c=zOrder(u,h,t,i,n),p=e.prevZ,f=e.nextZ;p&&p.z>=d&&f&&f.z<=c;){if(p!==e.prev&&p!==e.next&&pointInTriangle(r.x,r.y,a.x,a.y,o.x,o.y,p.x,p.y)&&0<=area(p.prev,p,p.next))return;if(p=p.prevZ,f!==e.prev&&f!==e.next&&pointInTriangle(r.x,r.y,a.x,a.y,o.x,o.y,f.x,f.y)&&0<=area(f.prev,f,f.next))return;f=f.nextZ}for(;p&&p.z>=d;){if(p!==e.prev&&p!==e.next&&pointInTriangle(r.x,r.y,a.x,a.y,o.x,o.y,p.x,p.y)&&0<=area(p.prev,p,p.next))return;p=p.prevZ}for(;f&&f.z<=c;){if(f!==e.prev&&f!==e.next&&pointInTriangle(r.x,r.y,a.x,a.y,o.x,o.y,f.x,f.y)&&0<=area(f.prev,f,f.next))return;f=f.nextZ}return 1}}function cureLocalIntersections(e,t,i){var n=e;do{var r=n.prev,a=n.next.next;!equals(r,a)&&intersects(r,n,n.next,a)&&locallyInside(r,a)&&locallyInside(a,r)&&(t.push(r.i/i),t.push(n.i/i),t.push(a.i/i),removeNode(n),removeNode(n.next),n=e=a),n=n.next}while(n!==e);return n}function splitEarcut(e,t,i,n,r,a){var o,s,l=e;do{for(var u=l.next.next;u!==l.prev;){if(l.i!==u.i&&(s=u,(o=l).next.i!==s.i&&o.prev.i!==s.i&&!function(e,t){var i=e;do{if(i.i!==e.i&&i.next.i!==e.i&&i.i!==t.i&&i.next.i!==t.i&&intersects(i,i.next,e,t))return 1;i=i.next}while(i!==e);return}(o,s)&&locallyInside(o,s)&&locallyInside(s,o)&&function(e,t){var i=e,n=!1,r=(e.x+t.x)/2,a=(e.y+t.y)/2;for(;i.y>a!=i.next.y>a&&i.next.y!==i.y&&r<(i.next.x-i.x)*(a-i.y)/(i.next.y-i.y)+i.x&&(n=!n),i=i.next,i!==e;);return n}(o,s))){var h=splitPolygon(l,u);return l=filterPoints(l,l.next),h=filterPoints(h,h.next),earcutLinked(l,t,i,n,r,a),void earcutLinked(h,t,i,n,r,a)}u=u.next}l=l.next}while(l!==e)}function compareX(e,t){return e.x-t.x}function eliminateHole(e,t){if(t=function(e,t){var i,n=t,r=e.x,a=e.y,o=-1/0;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){var s=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s<=r&&o<s){if((o=s)===r){if(a===n.y)return n;if(a===n.next.y)return n.next}i=n.x<n.next.x?n:n.next}}n=n.next}while(n!==t);if(!i)return null;if(r===o)return i.prev;var l,u=i,h=i.x,d=i.y,c=1/0;n=i.next;for(;n!==u;)r>=n.x&&n.x>=h&&r!==n.x&&pointInTriangle(a<d?r:o,a,h,d,a<d?o:r,a,n.x,n.y)&&((l=Math.abs(a-n.y)/(r-n.x))<c||l===c&&n.x>i.x)&&locallyInside(n,e)&&(i=n,c=l),n=n.next;return i}(e,t)){var i=splitPolygon(t,e);filterPoints(i,i.next)}}function zOrder(e,t,i,n,r){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=32767*(e-i)*r)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-n)*r)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function getLeftmost(e){for(var t=e,i=e;t.x<i.x&&(i=t),(t=t.next)!==e;);return i}function pointInTriangle(e,t,i,n,r,a,o,s){return 0<=(r-o)*(t-s)-(e-o)*(a-s)&&0<=(e-o)*(n-s)-(i-o)*(t-s)&&0<=(i-o)*(a-s)-(r-o)*(n-s)}function area(e,t,i){return(t.y-e.y)*(i.x-t.x)-(t.x-e.x)*(i.y-t.y)}function equals(e,t){return e.x===t.x&&e.y===t.y}function intersects(e,t,i,n){return equals(e,t)&&equals(i,n)||equals(e,n)&&equals(i,t)||0<area(e,t,i)!=0<area(e,t,n)&&0<area(i,n,e)!=0<area(i,n,t)}function locallyInside(e,t){return area(e.prev,e,e.next)<0?0<=area(e,t,e.next)&&0<=area(e,e.prev,t):area(e,t,e.prev)<0||area(e,e.next,t)<0}function splitPolygon(e,t){var i=new Node(e.i,e.x,e.y),n=new Node(t.i,t.x,t.y),r=e.next,a=t.prev;return(e.next=t).prev=e,(i.next=r).prev=i,(n.next=i).prev=n,(a.next=n).prev=a,n}function insertNode(e,t,i,n){var r=new Node(e,t,i);return n?(r.next=n.next,(r.prev=n).next.prev=r,n.next=r):(r.prev=r).next=r,r}function removeNode(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function Node(e,t,i){this.i=e,this.x=t,this.y=i,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(e,t,i,n){for(var r=0,a=t,o=i-n;a<i;a+=n)r+=(e[o]-e[a])*(e[a+1]+e[o+1]),o=a;return r}t.exports=earcut,(t.exports.default=earcut).deviation=function(e,t,i,n){var r=t&&t.length,a=r?t[0]*i:e.length,o=Math.abs(signedArea(e,0,a,i));if(r)for(var s=0,l=t.length;s<l;s++){var u=t[s]*i,h=s<l-1?t[s+1]*i:e.length;o-=Math.abs(signedArea(e,u,h,i))}var d=0;for(s=0;s<n.length;s+=3){var c=n[s]*i,p=n[s+1]*i,f=n[s+2]*i;d+=Math.abs((e[c]-e[f])*(e[1+p]-e[1+c])-(e[c]-e[p])*(e[1+f]-e[1+c]))}return 0===o&&0===d?0:Math.abs((d-o)/o)},earcut.flatten=function(e){for(var t=e[0][0].length,i={vertices:[],holes:[],dimensions:t},n=0,r=0;r<e.length;r++){for(var a=0;a<e[r].length;a++)for(var o=0;o<t;o++)i.vertices.push(e[r][a][o]);0<r&&(n+=e[r-1].length,i.holes.push(n))}return i}},{}],3:[function(e,t,i){var n=Object.prototype.hasOwnProperty,p="~";function Events(){}function EE(e,t,i){this.fn=e,this.context=t,this.once=i||!1}function EventEmitter(){this._events=new Events,this._eventsCount=0}Object.create&&(Events.prototype=Object.create(null),(new Events).__proto__||(p=!1)),EventEmitter.prototype.eventNames=function(){var e,t,i=[];if(0===this._eventsCount)return i;for(t in e=this._events)n.call(e,t)&&i.push(p?t.slice(1):t);return Object.getOwnPropertySymbols?i.concat(Object.getOwnPropertySymbols(e)):i},EventEmitter.prototype.listeners=function(e,t){var i=p?p+e:e,n=this._events[i];if(t)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var r=0,a=n.length,o=new Array(a);r<a;r++)o[r]=n[r].fn;return o},EventEmitter.prototype.emit=function(e,t,i,n,r,a){var o=p?p+e:e;if(!this._events[o])return!1;var s,l,u=this._events[o],h=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),h){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,i),!0;case 4:return u.fn.call(u.context,t,i,n),!0;case 5:return u.fn.call(u.context,t,i,n,r),!0;case 6:return u.fn.call(u.context,t,i,n,r,a),!0}for(l=1,s=new Array(h-1);l<h;l++)s[l-1]=arguments[l];u.fn.apply(u.context,s)}else{var d,c=u.length;for(l=0;l<c;l++)switch(u[l].once&&this.removeListener(e,u[l].fn,void 0,!0),h){case 1:u[l].fn.call(u[l].context);break;case 2:u[l].fn.call(u[l].context,t);break;case 3:u[l].fn.call(u[l].context,t,i);break;case 4:u[l].fn.call(u[l].context,t,i,n);break;default:if(!s)for(d=1,s=new Array(h-1);d<h;d++)s[d-1]=arguments[d];u[l].fn.apply(u[l].context,s)}}return!0},EventEmitter.prototype.on=function(e,t,i){var n=new EE(t,i||this),r=p?p+e:e;return this._events[r]?this._events[r].fn?this._events[r]=[this._events[r],n]:this._events[r].push(n):(this._events[r]=n,this._eventsCount++),this},EventEmitter.prototype.once=function(e,t,i){var n=new EE(t,i||this,!0),r=p?p+e:e;return this._events[r]?this._events[r].fn?this._events[r]=[this._events[r],n]:this._events[r].push(n):(this._events[r]=n,this._eventsCount++),this},EventEmitter.prototype.removeListener=function(e,t,i,n){var r=p?p+e:e;if(!this._events[r])return this;if(!t)return 0==--this._eventsCount?this._events=new Events:delete this._events[r],this;var a=this._events[r];if(a.fn)a.fn!==t||n&&!a.once||i&&a.context!==i||(0==--this._eventsCount?this._events=new Events:delete this._events[r]);else{for(var o=0,s=[],l=a.length;o<l;o++)(a[o].fn!==t||n&&!a[o].once||i&&a[o].context!==i)&&s.push(a[o]);s.length?this._events[r]=1===s.length?s[0]:s:0==--this._eventsCount?this._events=new Events:delete this._events[r]}return this},EventEmitter.prototype.removeAllListeners=function(e){var t;return e?(t=p?p+e:e,this._events[t]&&(0==--this._eventsCount?this._events=new Events:delete this._events[t])):(this._events=new Events,this._eventsCount=0),this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.addListener=EventEmitter.prototype.on,EventEmitter.prototype.setMaxListeners=function(){return this},EventEmitter.prefixed=p,EventEmitter.EventEmitter=EventEmitter,void 0!==t&&(t.exports=EventEmitter)},{}],4:[function(e,t,n){!function(e){var r=/iPhone/i,a=/iPod/i,o=/iPad/i,s=/\bAndroid(?:.+)Mobile\b/i,l=/Android/i,u=/\bAndroid(?:.+)SD4930UR\b/i,h=/\bAndroid(?:.+)(?:KF[A-Z]{2,4})\b/i,d=/Windows Phone/i,c=/\bWindows(?:.+)ARM\b/i,p=/BlackBerry/i,f=/BB10/i,_=/Opera Mini/i,g=/\b(CriOS|Chrome)(?:.+)Mobile/i,v=/\Mobile(?:.+)Firefox\b/i;function m(e,t){return e.test(t)}function i(e){var t=e||("undefined"!=typeof navigator?navigator.userAgent:""),i=t.split("[FBAN");void 0!==i[1]&&(t=i[0]),void 0!==(i=t.split("Twitter"))[1]&&(t=i[0]);var n={apple:{phone:m(r,t)&&!m(d,t),ipod:m(a,t),tablet:!m(r,t)&&m(o,t)&&!m(d,t),device:(m(r,t)||m(a,t)||m(o,t))&&!m(d,t)},amazon:{phone:m(u,t),tablet:!m(u,t)&&m(h,t),device:m(u,t)||m(h,t)},android:{phone:!m(d,t)&&m(u,t)||!m(d,t)&&m(s,t),tablet:!m(d,t)&&!m(u,t)&&!m(s,t)&&(m(h,t)||m(l,t)),device:!m(d,t)&&(m(u,t)||m(h,t)||m(s,t)||m(l,t))},windows:{phone:m(d,t),tablet:m(c,t),device:m(d,t)||m(c,t)},other:{blackberry:m(p,t),blackberry10:m(f,t),opera:m(_,t),firefox:m(v,t),chrome:m(g,t),device:m(p,t)||m(f,t)||m(_,t)||m(v,t)||m(g,t)}};return n.any=n.apple.device||n.android.device||n.windows.device||n.other.device,n.phone=n.apple.phone||n.android.phone||n.windows.phone,n.tablet=n.apple.tablet||n.android.tablet||n.windows.tablet,n}void 0!==t&&t.exports&&"undefined"==typeof window?t.exports=i:void 0!==t&&t.exports&&"undefined"!=typeof window?t.exports=i():e.isMobile=i()}(this)},{}],5:[function(e,t,i){Object.defineProperty(i,"__esModule",{value:!0});var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}();function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var r=function(){function MiniSignalBinding(e,t,i){void 0===t&&(t=!1),_classCallCheck(this,MiniSignalBinding),this._fn=e,this._once=t,this._thisArg=i,this._next=this._prev=this._owner=null}return n(MiniSignalBinding,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),MiniSignalBinding}();function _addMiniSignalBinding(e,t){return e._head?(e._tail._next=t)._prev=e._tail:e._head=t,(e._tail=t)._owner=e,t}var a=function(){function MiniSignal(){_classCallCheck(this,MiniSignal),this._head=this._tail=void 0}return n(MiniSignal,[{key:"handlers",value:function(){var e=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],t=this._head;if(e)return!!t;for(var i=[];t;)i.push(t),t=t._next;return i}},{key:"has",value:function(e){if(!(e instanceof r))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return e._owner===this}},{key:"dispatch",value:function(){var e=this._head;if(!e)return!1;for(;e;)e._once&&this.detach(e),e._fn.apply(e._thisArg,arguments),e=e._next;return!0}},{key:"add",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof e)throw new Error("MiniSignal#add(): First arg must be a Function.");return _addMiniSignalBinding(this,new r(e,!1,t))}},{key:"once",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof e)throw new Error("MiniSignal#once(): First arg must be a Function.");return _addMiniSignalBinding(this,new r(e,!0,t))}},{key:"detach",value:function(e){if(!(e instanceof r))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return e._owner!==this||(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,null===e._next&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null),this}},{key:"detachAll",value:function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this}}]),MiniSignal}();a.MiniSignalBinding=r,i.default=a,t.exports=i.default},{}],6:[function(e,t,i){var l=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},n)).join("")?void 0:1}catch(e){return}}()?Object.assign:function(e,t){for(var i,n,r=function(e){if(null!=e)return Object(e);throw new TypeError("Object.assign cannot be called with null or undefined")}(e),a=1;a<arguments.length;a++){for(var o in i=Object(arguments[a]))u.call(i,o)&&(r[o]=i[o]);if(l){n=l(i);for(var s=0;s<n.length;s++)h.call(i,n[s])&&(r[n[s]]=i[n[s]])}}return r}},{}],7:[function(e,t,i){t.exports=function(e,t){t=t||{};for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=n.parser[t.strictMode?"strict":"loose"].exec(e),r={},a=14;a--;)r[n.key[a]]=i[a]||"";return r[n.q.name]={},r[n.key[12]].replace(n.q.parser,function(e,t,i){t&&(r[n.q.name][t]=i)}),r}},{}],8:[function(e,t,l){(function(r){function normalizeArray(e,t){for(var i=0,n=e.length-1;0<=n;n--){var r=e[n];"."===r?e.splice(n,1):".."===r?(e.splice(n,1),i++):i&&(e.splice(n,1),i--)}if(t)for(;i--;)e.unshift("..");return e}var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a=function(e){return t.exec(e).slice(1)};function filter(e,t){if(e.filter)return e.filter(t);for(var i=[],n=0;n<e.length;n++)t(e[n],n,e)&&i.push(e[n]);return i}l.resolve=function(){for(var e="",t=!1,i=arguments.length-1;-1<=i&&!t;i--){var n=0<=i?arguments[i]:r.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(e=n+"/"+e,t="/"===n.charAt(0))}return e=normalizeArray(filter(e.split("/"),function(e){return!!e}),!t).join("/"),(t?"/":"")+e||"."},l.normalize=function(e){var t=l.isAbsolute(e),i="/"===n(e,-1);return(e=normalizeArray(filter(e.split("/"),function(e){return!!e}),!t).join("/"))||t||(e="."),e&&i&&(e+="/"),(t?"/":"")+e},l.isAbsolute=function(e){return"/"===e.charAt(0)},l.join=function(){var e=Array.prototype.slice.call(arguments,0);return l.normalize(filter(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},l.relative=function(e,t){function trim(e){for(var t=0;t<e.length&&""===e[t];t++);for(var i=e.length-1;0<=i&&""===e[i];i--);return i<t?[]:e.slice(t,i-t+1)}e=l.resolve(e).substr(1),t=l.resolve(t).substr(1);for(var i=trim(e.split("/")),n=trim(t.split("/")),r=Math.min(i.length,n.length),a=r,o=0;o<r;o++)if(i[o]!==n[o]){a=o;break}for(var s=[],o=a;o<i.length;o++)s.push("..");return(s=s.concat(n.slice(a))).join("/")},l.sep="/",l.delimiter=":",l.dirname=function(e){var t=a(e),i=t[0],n=t[1];return i||n?(n=n&&n.substr(0,n.length-1),i+n):"."},l.basename=function(e,t){var i=a(e)[2];return t&&i.substr(-1*t.length)===t&&(i=i.substr(0,i.length-t.length)),i},l.extname=function(e){return a(e)[3]};var n="b"==="ab".substr(-1)?function(e,t,i){return e.substr(t,i)}:function(e,t,i){return t<0&&(t=e.length+t),e.substr(t,i)}}).call(this,e("_process"))},{_process:26}],9:[function(e,t,i){var r=new ArrayBuffer(0),a=function(e,t,i,n){this.gl=e,this.buffer=e.createBuffer(),this.type=t||e.ARRAY_BUFFER,this.drawType=n||e.STATIC_DRAW,this.data=r,i&&this.upload(i),this._updateID=0};a.prototype.upload=function(e,t,i){i||this.bind();var n=this.gl;e=e||this.data,t=t||0,this.data.byteLength>=e.byteLength?n.bufferSubData(this.type,t,e):n.bufferData(this.type,e,this.drawType),this.data=e},a.prototype.bind=function(){var e=this.gl;e.bindBuffer(this.type,this.buffer)},a.createVertexBuffer=function(e,t,i){return new a(e,e.ARRAY_BUFFER,t,i)},a.createIndexBuffer=function(e,t,i){return new a(e,e.ELEMENT_ARRAY_BUFFER,t,i)},a.create=function(e,t,i,n){return new a(e,t,i,n)},a.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},t.exports=a},{}],10:[function(e,t,i){var o=e("./GLTexture"),s=function(e,t,i){this.gl=e,this.framebuffer=e.createFramebuffer(),this.stencil=null,this.texture=null,this.width=t||100,this.height=i||100};s.prototype.enableTexture=function(e){var t=this.gl;this.texture=e||new o(t),this.texture.bind(),this.bind(),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture.texture,0)},s.prototype.enableStencil=function(){if(!this.stencil){var e=this.gl;this.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.stencil),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,this.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,this.width,this.height)}},s.prototype.clear=function(e,t,i,n){this.bind();var r=this.gl;r.clearColor(e,t,i,n),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT)},s.prototype.bind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer)},s.prototype.unbind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null)},s.prototype.resize=function(e,t){var i=this.gl;this.width=e,this.height=t,this.texture&&this.texture.uploadData(null,e,t),this.stencil&&(i.bindRenderbuffer(i.RENDERBUFFER,this.stencil),i.renderbufferStorage(i.RENDERBUFFER,i.DEPTH_STENCIL,e,t))},s.prototype.destroy=function(){var e=this.gl;this.texture&&this.texture.destroy(),e.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},s.createRGBA=function(e,t,i,n){var r=o.fromData(e,null,t,i);r.enableNearestScaling(),r.enableWrapClamp();var a=new s(e,t,i);return a.enableTexture(r),a.unbind(),a},s.createFloat32=function(e,t,i,n){var r=new o.fromData(e,n,t,i);r.enableNearestScaling(),r.enableWrapClamp();var a=new s(e,t,i);return a.enableTexture(r),a.unbind(),a},t.exports=s},{"./GLTexture":12}],11:[function(e,t,i){var a=e("./shader/compileProgram"),o=e("./shader/extractAttributes"),s=e("./shader/extractUniforms"),l=e("./shader/setPrecision"),u=e("./shader/generateUniformAccessObject"),n=function(e,t,i,n,r){this.gl=e,n&&(t=l(t,n),i=l(i,n)),this.program=a(e,t,i,r),this.attributes=o(e,this.program),this.uniformData=s(e,this.program),this.uniforms=u(e,this.uniformData)};n.prototype.bind=function(){return this.gl.useProgram(this.program),this},n.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null;var e=this.gl;e.deleteProgram(this.program)},t.exports=n},{"./shader/compileProgram":17,"./shader/extractAttributes":19,"./shader/extractUniforms":20,"./shader/generateUniformAccessObject":21,"./shader/setPrecision":25}],12:[function(e,t,i){var a=function(e,t,i,n,r){this.gl=e,this.texture=e.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=t||-1,this.height=i||-1,this.format=n||e.RGBA,this.type=r||e.UNSIGNED_BYTE},o=!(a.prototype.upload=function(e){this.bind();var t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var i=e.videoWidth||e.width,n=e.videoHeight||e.height;n!==this.height||i!==this.width?t.texImage2D(t.TEXTURE_2D,0,this.format,this.format,this.type,e):t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.format,this.type,e),this.width=i,this.height=n});a.prototype.uploadData=function(e,t,i){this.bind();var n=this.gl;if(e instanceof Float32Array){if(!o){var r=n.getExtension("OES_texture_float");if(!r)throw new Error("floating point textures not available");o=!0}this.type=n.FLOAT}else this.type=this.type||n.UNSIGNED_BYTE;n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),t!==this.width||i!==this.height?n.texImage2D(n.TEXTURE_2D,0,this.format,t,i,0,this.format,this.type,e||null):n.texSubImage2D(n.TEXTURE_2D,0,0,0,t,i,this.format,this.type,e||null),this.width=t,this.height=i},a.prototype.bind=function(e){var t=this.gl;void 0!==e&&t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,this.texture)},a.prototype.unbind=function(){var e=this.gl;e.bindTexture(e.TEXTURE_2D,null)},a.prototype.minFilter=function(e){var t=this.gl;this.bind(),this.mipmap?t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR_MIPMAP_LINEAR:t.NEAREST_MIPMAP_NEAREST):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR:t.NEAREST)},a.prototype.magFilter=function(e){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e?t.LINEAR:t.NEAREST)},a.prototype.enableMipmap=function(){var e=this.gl;this.bind(),this.mipmap=!0,e.generateMipmap(e.TEXTURE_2D)},a.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},a.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},a.prototype.enableWrapClamp=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)},a.prototype.enableWrapRepeat=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)},a.prototype.enableWrapMirrorRepeat=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.MIRRORED_REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.MIRRORED_REPEAT)},a.prototype.destroy=function(){var e=this.gl;e.deleteTexture(this.texture)},a.fromSource=function(e,t,i){var n=new a(e);return n.premultiplyAlpha=i||!1,n.upload(t),n},a.fromData=function(e,t,i,n){var r=new a(e);return r.uploadData(t,i,n),r},t.exports=a},{}],13:[function(e,t,i){var r=e("./setVertexAttribArrays");function VertexArrayObject(e,t){if(this.nativeVaoExtension=null,VertexArrayObject.FORCE_NATIVE||(this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=t,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var i=e.getParameter(e.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(i),attribState:new Array(i)}}this.gl=e,this.attributes=[],this.indexBuffer=null,this.dirty=!1}VertexArrayObject.prototype.constructor=VertexArrayObject,(t.exports=VertexArrayObject).FORCE_NATIVE=!1,VertexArrayObject.prototype.bind=function(){if(this.nativeVao){if(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty)return this.dirty=!1,this.activate(),this;this.indexBuffer&&this.indexBuffer.bind()}else this.activate();return this},VertexArrayObject.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},VertexArrayObject.prototype.activate=function(){for(var e=this.gl,t=null,i=0;i<this.attributes.length;i++){var n=this.attributes[i];t!==n.buffer&&(n.buffer.bind(),t=n.buffer),e.vertexAttribPointer(n.attribute.location,n.attribute.size,n.type||e.FLOAT,n.normalized||!1,n.stride||0,n.start||0)}return r(e,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},VertexArrayObject.prototype.addAttribute=function(e,t,i,n,r,a){return this.attributes.push({buffer:e,attribute:t,location:t.location,type:i||this.gl.FLOAT,normalized:n||!1,stride:r||0,start:a||0}),this.dirty=!0,this},VertexArrayObject.prototype.addIndex=function(e){return this.indexBuffer=e,this.dirty=!0,this},VertexArrayObject.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},VertexArrayObject.prototype.draw=function(e,t,i){var n=this.gl;return this.indexBuffer?n.drawElements(e,t||this.indexBuffer.data.length,n.UNSIGNED_SHORT,2*(i||0)):n.drawArrays(e,i,t||this.getSize()),this},VertexArrayObject.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},VertexArrayObject.prototype.getSize=function(){var e=this.attributes[0];return e.buffer.data.length/(e.stride/4||e.attribute.size)}},{"./setVertexAttribArrays":16}],14:[function(e,t,i){t.exports=function(e,t){var i=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);if(i)return i;throw new Error("This browser does not support webGL. Try using the canvas renderer")}},{}],15:[function(e,t,i){var n={createContext:e("./createContext"),setVertexAttribArrays:e("./setVertexAttribArrays"),GLBuffer:e("./GLBuffer"),GLFramebuffer:e("./GLFramebuffer"),GLShader:e("./GLShader"),GLTexture:e("./GLTexture"),VertexArrayObject:e("./VertexArrayObject"),shader:e("./shader")};void 0!==t&&t.exports&&(t.exports=n),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=n)},{"./GLBuffer":9,"./GLFramebuffer":10,"./GLShader":11,"./GLTexture":12,"./VertexArrayObject":13,"./createContext":14,"./setVertexAttribArrays":16,"./shader":22}],16:[function(e,t,i){t.exports=function(e,t,i){var n;if(i){var r=i.tempAttribState,a=i.attribState;for(n=0;n<r.length;n++){r[n]=false}for(n=0;n<t.length;n++){r[t[n].attribute.location]=true}for(n=0;n<a.length;n++){if(a[n]!==r[n]){a[n]=r[n];if(i.attribState[n]){e.enableVertexAttribArray(n)}else{e.disableVertexAttribArray(n)}}}}else{for(n=0;n<t.length;n++){var o=t[n];e.enableVertexAttribArray(o.attribute.location)}}}},{}],17:[function(e,t,i){var l=function(e,t,i){var n=e.createShader(t);return e.shaderSource(n,i),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)?n:null};t.exports=function(e,t,i,n){var r=l(e,e.VERTEX_SHADER,t),a=l(e,e.FRAGMENT_SHADER,i),o=e.createProgram();if(e.attachShader(o,r),e.attachShader(o,a),n){for(var s in n){e.bindAttribLocation(o,n[s],s)}}if(e.linkProgram(o),!e.getProgramParameter(o,e.LINK_STATUS)){console.error("Pixi.js Error: Could not initialize shader.");console.error("gl.VALIDATE_STATUS",e.getProgramParameter(o,e.VALIDATE_STATUS));console.error("gl.getError()",e.getError());if(e.getProgramInfoLog(o)!==""){console.warn("Pixi.js Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(o))}e.deleteProgram(o);o=null}return e.deleteShader(r),e.deleteShader(a),o}},{}],18:[function(e,t,i){var n=function(e){for(var t=new Array(e),i=0;i<t.length;i++)t[i]=!1;return t};t.exports=function(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"bool":return false;case"bvec2":return n(2*t);case"bvec3":return n(3*t);case"bvec4":return n(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}}},{}],19:[function(e,t,i){var s=e("./mapType"),l=e("./mapSize"),u=function(e,t,i,n){gl.vertexAttribPointer(this.location,this.size,e||gl.FLOAT,t||!1,i||0,n||0)};t.exports=function(e,t){for(var i={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),r=0;r<n;r++){var a=e.getActiveAttrib(t,r);var o=s(e,a.type);i[a.name]={type:o,size:l(o),location:e.getAttribLocation(t,a.name),pointer:u}}return i}},{"./mapSize":23,"./mapType":24}],20:[function(e,t,i){var l=e("./mapType"),u=e("./defaultValue");t.exports=function(e,t){for(var i={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=0;r<n;r++){var a=e.getActiveUniform(t,r);var o=a.name.replace(/\[.*?\]/,"");var s=l(e,a.type);i[o]={type:s,size:a.size,location:e.getUniformLocation(t,o),value:u(s,a.size)}}return i}},{"./defaultValue":18,"./mapType":24}],21:[function(e,t,i){var h=function(e){return function(){return this.data[e].value}},r={float:function(e,t,i){e.uniform1f(t,i)},vec2:function(e,t,i){e.uniform2f(t,i[0],i[1])},vec3:function(e,t,i){e.uniform3f(t,i[0],i[1],i[2])},vec4:function(e,t,i){e.uniform4f(t,i[0],i[1],i[2],i[3])},int:function(e,t,i){e.uniform1i(t,i)},ivec2:function(e,t,i){e.uniform2i(t,i[0],i[1])},ivec3:function(e,t,i){e.uniform3i(t,i[0],i[1],i[2])},ivec4:function(e,t,i){e.uniform4i(t,i[0],i[1],i[2],i[3])},bool:function(e,t,i){e.uniform1i(t,i)},bvec2:function(e,t,i){e.uniform2i(t,i[0],i[1])},bvec3:function(e,t,i){e.uniform3i(t,i[0],i[1],i[2])},bvec4:function(e,t,i){e.uniform4i(t,i[0],i[1],i[2],i[3])},mat2:function(e,t,i){e.uniformMatrix2fv(t,!1,i)},mat3:function(e,t,i){e.uniformMatrix3fv(t,!1,i)},mat4:function(e,t,i){e.uniformMatrix4fv(t,!1,i)},sampler2D:function(e,t,i){e.uniform1i(t,i)}},a={float:function(e,t,i){e.uniform1fv(t,i)},vec2:function(e,t,i){e.uniform2fv(t,i)},vec3:function(e,t,i){e.uniform3fv(t,i)},vec4:function(e,t,i){e.uniform4fv(t,i)},int:function(e,t,i){e.uniform1iv(t,i)},ivec2:function(e,t,i){e.uniform2iv(t,i)},ivec3:function(e,t,i){e.uniform3iv(t,i)},ivec4:function(e,t,i){e.uniform4iv(t,i)},bool:function(e,t,i){e.uniform1iv(t,i)},bvec2:function(e,t,i){e.uniform2iv(t,i)},bvec3:function(e,t,i){e.uniform3iv(t,i)},bvec4:function(e,t,i){e.uniform4iv(t,i)},sampler2D:function(e,t,i){e.uniform1iv(t,i)}};function generateSetter(i,n){return function(e){this.data[i].value=e;var t=this.data[i].location;1===n.size?r[n.type](this.gl,t,e):a[n.type](this.gl,t,e)}}function getUniformGroup(e,t){for(var i=t,n=0;n<e.length-1;n++){var r=i[e[n]]||{data:{}};i[e[n]]=r,i=r}return i}t.exports=function(e,t){var i={data:{}};i.gl=e;for(var n=Object.keys(t),r=0;r<n.length;r++){var a=n[r];var o=a.split(".");var s=o[o.length-1];var l=getUniformGroup(o,i);var u=t[a];l.data[s]=u;l.gl=e;Object.defineProperty(l,s,{get:h(s),set:generateSetter(s,u)})}return i}},{}],22:[function(e,t,i){t.exports={compileProgram:e("./compileProgram"),defaultValue:e("./defaultValue"),extractAttributes:e("./extractAttributes"),extractUniforms:e("./extractUniforms"),generateUniformAccessObject:e("./generateUniformAccessObject"),setPrecision:e("./setPrecision"),mapSize:e("./mapSize"),mapType:e("./mapType")}},{"./compileProgram":17,"./defaultValue":18,"./extractAttributes":19,"./extractUniforms":20,"./generateUniformAccessObject":21,"./mapSize":23,"./mapType":24,"./setPrecision":25}],23:[function(e,t,i){var n={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};t.exports=function(e){return n[e]}},{}],24:[function(e,t,i){var a=null,o={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};t.exports=function(e,t){if(!a){var i=Object.keys(o);a={};for(var n=0;n<i.length;++n){var r=i[n];a[e[r]]=o[r]}}return a[t]}},{}],25:[function(e,t,i){t.exports=function(e,t){return"precision"===e.substring(0,9)?e:"precision "+t+" float;\n"+e}},{}],26:[function(e,t,i){var n,r,a=t.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(t){if(n===setTimeout)return setTimeout(t,0);if((n===defaultSetTimout||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){n=defaultSetTimout}try{r="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){r=defaultClearTimeout}}();var o,s=[],l=!1,u=-1;function cleanUpNextTick(){l&&o&&(l=!1,o.length?s=o.concat(s):u=-1,s.length&&drainQueue())}function drainQueue(){if(!l){var e=runTimeout(cleanUpNextTick);l=!0;for(var t=s.length;t;){for(o=s,s=[];++u<t;)o&&o[u].run();u=-1,t=s.length}o=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===defaultClearTimeout||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];s.push(new Item(e,t)),1!==s.length||l||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=noop,a.addListener=noop,a.once=noop,a.off=noop,a.removeListener=noop,a.removeAllListeners=noop,a.emit=noop,a.prependListener=noop,a.prependOnceListener=noop,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},{}],27:[function(e,f,m){(function(p){!function(e){var t="object"==typeof m&&m&&!m.nodeType&&m,i="object"==typeof f&&f&&!f.nodeType&&f,n="object"==typeof p&&p;n.global!==n&&n.window!==n&&n.self!==n||(e=n);var r,a,g=2147483647,v=36,y=1,b=26,o=38,s=700,w=72,x=128,T="-",l=/^xn--/,u=/[^\x20-\x7E]/,h=/[\x2E\u3002\uFF0E\uFF61]/g,d={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=v-y,S=Math.floor,M=String.fromCharCode;function error(e){throw new RangeError(d[e])}function map(e,t){for(var i=e.length,n=[];i--;)n[i]=t(e[i]);return n}function mapDomain(e,t){var i=e.split("@"),n="";1<i.length&&(n=i[0]+"@",e=i[1]);var r=(e=e.replace(h,".")).split("."),a=map(r,t).join(".");return n+a}function ucs2decode(e){for(var t,i,n=[],r=0,a=e.length;r<a;)55296<=(t=e.charCodeAt(r++))&&t<=56319&&r<a?56320==(64512&(i=e.charCodeAt(r++)))?n.push(((1023&t)<<10)+(1023&i)+65536):(n.push(t),r--):n.push(t);return n}function ucs2encode(e){return map(e,function(e){var t="";return 65535<e&&(t+=M((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=M(e)}).join("")}function basicToDigit(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:v}function digitToBasic(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function adapt(e,t,i){var n=0;for(e=i?S(e/s):e>>1,e+=S(e/t);c*b>>1<e;n+=v)e=S(e/c);return S(n+(c+1)*e/(e+o))}function decode(e){var t,i,n,r,a,o,s,l,u,h,d=[],c=e.length,p=0,f=x,m=w;for((i=e.lastIndexOf(T))<0&&(i=0),n=0;n<i;++n)128<=e.charCodeAt(n)&&error("not-basic"),d.push(e.charCodeAt(n));for(r=0<i?i+1:0;r<c;){for(a=p,o=1,s=v;c<=r&&error("invalid-input"),l=basicToDigit(e.charCodeAt(r++)),(v<=l||l>S((g-p)/o))&&error("overflow"),p+=l*o,!(l<(u=s<=m?y:m+b<=s?b:s-m));s+=v)o>S(g/(h=v-u))&&error("overflow"),o*=h;t=d.length+1,m=adapt(p-a,t,0==a),S(p/t)>g-f&&error("overflow"),f+=S(p/t),p%=t,d.splice(p++,0,f)}return ucs2encode(d)}function encode(e){var t,i,n,r,a,o,s,l,u,h,d,c,p,f,m,_=[];for(e=ucs2decode(e),c=e.length,t=x,a=w,o=i=0;o<c;++o)(d=e[o])<128&&_.push(M(d));for(n=r=_.length,r&&_.push(T);n<c;){for(s=g,o=0;o<c;++o)d=e[o],t<=d&&d<s&&(s=d);for(s-t>S((g-i)/(p=n+1))&&error("overflow"),i+=(s-t)*p,t=s,o=0;o<c;++o)if((d=e[o])<t&&++i>g&&error("overflow"),d==t){for(l=i,u=v;!(l<(h=u<=a?y:a+b<=u?b:u-a));u+=v)m=l-h,f=v-h,_.push(M(digitToBasic(h+m%f,0))),l=S(m/f);_.push(M(digitToBasic(l,0))),a=adapt(i,p,n==r),i=0,++n}++i,++t}return _.join("")}if(r={version:"1.4.1",ucs2:{decode:ucs2decode,encode:ucs2encode},decode:decode,encode:encode,toASCII:function(e){return mapDomain(e,function(e){return u.test(e)?"xn--"+encode(e):e})},toUnicode:function(e){return mapDomain(e,function(e){return l.test(e)?decode(e.slice(4).toLowerCase()):e})}},0,t&&i)if(f.exports==t)i.exports=r;else for(a in r)r.hasOwnProperty(a)&&(t[a]=r[a]);else e.punycode=r}(this)}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],28:[function(e,t,i){t.exports=function(e,t,i,n){t=t||"&",i=i||"=";var r={};if("string"!=typeof e||0===e.length)return r;var a=/\+/g;e=e.split(t);var o=1e3;n&&"number"==typeof n.maxKeys&&(o=n.maxKeys);var s,l,u=e.length;0<o&&o<u&&(u=o);for(var h=0;h<u;++h){var d,c,p,f,m=e[h].replace(a,"%20"),_=m.indexOf(i);c=0<=_?(d=m.substr(0,_),m.substr(_+1)):(d=m,""),p=decodeURIComponent(d),f=decodeURIComponent(c),s=r,l=p,Object.prototype.hasOwnProperty.call(s,l)?g(r[p])?r[p].push(f):r[p]=[r[p],f]:r[p]=f}return r};var g=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],29:[function(e,t,i){var a=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};t.exports=function(i,n,r,e){return n=n||"&",r=r||"=",null===i&&(i=void 0),"object"==typeof i?map(s(i),function(e){var t=encodeURIComponent(a(e))+r;return o(i[e])?map(i[e],function(e){return t+encodeURIComponent(a(e))}).join(n):t+encodeURIComponent(a(i[e]))}).join(n):e?encodeURIComponent(a(e))+r+encodeURIComponent(a(i)):""};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function map(e,t){if(e.map)return e.map(t);for(var i=[],n=0;n<e.length;n++)i.push(t(e[n],n));return i}var s=Object.keys||function(e){var t=[];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.push(i);return t}},{}],30:[function(e,t,i){i.decode=i.parse=e("./decode"),i.encode=i.stringify=e("./encode")},{"./decode":28,"./encode":29}],31:[function(e,t,i){t.exports=function(e,t,i){var n,r=e.length;if(!(r<=t||0===i)){var a=r-(i=r<t+i?r-t:i);for(n=t;n<a;++n)e[n]=e[n+i];e.length=a}}},{}],32:[function(e,t,i){i.__esModule=!0,i.Loader=void 0;var d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=e("mini-signals"),a=_interopRequireDefault(r),o=e("parse-uri"),s=_interopRequireDefault(o),l=e("./async"),u=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(l),c=e("./Resource");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var h=/(#[\w-]+)?$/,p=i.Loader=function(){function Loader(){var i=this,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:10;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Loader),this.baseUrl=e,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(e,t){return i._loadResource(e,t)},this._queue=u.queue(this._boundLoadResource,t),this._queue.pause(),this.resources={},this.onProgress=new a.default,this.onError=new a.default,this.onLoad=new a.default,this.onStart=new a.default,this.onComplete=new a.default;for(var n=0;n<Loader._defaultBeforeMiddleware.length;++n)this.pre(Loader._defaultBeforeMiddleware[n]);for(var r=0;r<Loader._defaultAfterMiddleware.length;++r)this.use(Loader._defaultAfterMiddleware[r])}return Loader.prototype.add=function(e,t,i,n){if(Array.isArray(e)){for(var r=0;r<e.length;++r)this.add(e[r]);return this}if("object"===(void 0===e?"undefined":d(e))&&(n=t||e.callback||e.onComplete,t=(i=e).url,e=e.name||e.key||e.url),"string"!=typeof t&&(n=i,i=t,t=e),"string"!=typeof t)throw new Error("No url passed to add resource to loader.");if("function"==typeof i&&(n=i,i=null),this.loading&&(!i||!i.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(t=this._prepareUrl(t),this.resources[e]=new c.Resource(e,t,i),"function"==typeof n&&this.resources[e].onAfterMiddleware.once(n),this.loading){for(var a=i.parentResource,o=[],s=0;s<a.children.length;++s)a.children[s].isComplete||o.push(a.children[s]);var l=a.progressChunk*(o.length+1),u=l/(o.length+2);a.children.push(this.resources[e]),a.progressChunk=u;for(var h=0;h<o.length;++h)o[h].progressChunk=u;this.resources[e].progressChunk=u}return this._queue.push(this.resources[e]),this},Loader.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},Loader.prototype.use=function(e){return this._afterMiddleware.push(e),this},Loader.prototype.reset=function(){for(var e in this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause(),this.resources){var t=this.resources[e];t._onLoadBinding&&t._onLoadBinding.detach(),t.isLoading&&t.abort()}return this.resources={},this},Loader.prototype.load=function(e){if("function"==typeof e&&this.onComplete.once(e),this.loading)return this;if(this._queue.idle())this._onStart(),this._onComplete();else{for(var t=this._queue._tasks.length,i=100/t,n=0;n<this._queue._tasks.length;++n)this._queue._tasks[n].data.progressChunk=i;this._onStart(),this._queue.resume()}return this},Loader.prototype._prepareUrl=function(e){var t=(0,s.default)(e,{strictMode:!0}),i=void 0;if(i=t.protocol||!t.path||0===e.indexOf("//")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==e.charAt(0)?this.baseUrl+"/"+e:this.baseUrl+e,this.defaultQueryString){var n=h.exec(i)[0];-1!==(i=i.substr(0,i.length-n.length)).indexOf("?")?i+="&"+this.defaultQueryString:i+="?"+this.defaultQueryString,i+=n}return i},Loader.prototype._loadResource=function(i,e){var n=this;i._dequeue=e,u.eachSeries(this._beforeMiddleware,function(e,t){e.call(n,i,function(){t(i.isComplete?{}:null)})},function(){i.isComplete?n._onLoad(i):(i._onLoadBinding=i.onComplete.once(n._onLoad,n),i.load())},!0)},Loader.prototype._onStart=function(){this.progress=0,this.loading=!0,this.onStart.dispatch(this)},Loader.prototype._onComplete=function(){this.progress=100,this.loading=!1,this.onComplete.dispatch(this,this.resources)},Loader.prototype._onLoad=function(i){var n=this;i._onLoadBinding=null,this._resourcesParsing.push(i),i._dequeue(),u.eachSeries(this._afterMiddleware,function(e,t){e.call(n,i,t)},function(){i.onAfterMiddleware.dispatch(i),n.progress=Math.min(100,n.progress+i.progressChunk),n.onProgress.dispatch(n,i),i.error?n.onError.dispatch(i.error,n,i):n.onLoad.dispatch(n,i),n._resourcesParsing.splice(n._resourcesParsing.indexOf(i),1),n._queue.idle()&&0===n._resourcesParsing.length&&n._onComplete()},!0)},n(Loader,[{key:"concurrency",get:function(){return this._queue.concurrency},set:function(e){this._queue.concurrency=e}}]),Loader}();p._defaultBeforeMiddleware=[],p._defaultAfterMiddleware=[],p.pre=function(e){return p._defaultBeforeMiddleware.push(e),p},p.use=function(e){return p._defaultAfterMiddleware.push(e),p}},{"./Resource":33,"./async":34,"mini-signals":5,"parse-uri":7}],33:[function(e,t,i){i.__esModule=!0,i.Resource=void 0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=e("parse-uri"),a=_interopRequireDefault(r),o=e("mini-signals"),s=_interopRequireDefault(o);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var l=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),u=null;function _noop(){}var h=i.Resource=function(){function Resource(e,t,i){if(!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Resource),"string"!=typeof e||"string"!=typeof t)throw new Error("Both name and url are required for constructing a resource.");i=i||{},this._flags=0,this._setFlag(Resource.STATUS_FLAGS.DATA_URL,0===t.indexOf("data:")),this.name=e,this.url=t,this.extension=this._getExtension(),this.data=null,this.crossOrigin=!0===i.crossOrigin?"anonymous":i.crossOrigin,this.timeout=i.timeout||0,this.loadType=i.loadType||this._determineLoadType(),this.xhrType=i.xhrType,this.metadata=i.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=Resource.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=_noop,this._onLoadBinding=null,this._elementTimer=0,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundOnTimeout=this._onTimeout.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnTimeout=this._xhrOnTimeout.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this.onStart=new s.default,this.onProgress=new s.default,this.onComplete=new s.default,this.onAfterMiddleware=new s.default}return Resource.setExtensionLoadType=function(e,t){setExtMap(Resource._loadTypeMap,e,t)},Resource.setExtensionXhrType=function(e,t){setExtMap(Resource._xhrTypeMap,e,t)},Resource.prototype.complete=function(){this._clearEvents(),this._finish()},Resource.prototype.abort=function(e){if(!this.error){if(this.error=new Error(e),this._clearEvents(),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=Resource.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this._finish()}},Resource.prototype.load=function(e){var t=this;if(!this.isLoading)if(this.isComplete)e&&setTimeout(function(){return e(t)},1);else switch(e&&this.onComplete.once(e),this._setFlag(Resource.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),!1!==this.crossOrigin&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case Resource.LOAD_TYPE.IMAGE:this.type=Resource.TYPE.IMAGE,this._loadElement("image");break;case Resource.LOAD_TYPE.AUDIO:this.type=Resource.TYPE.AUDIO,this._loadSourceElement("audio");break;case Resource.LOAD_TYPE.VIDEO:this.type=Resource.TYPE.VIDEO,this._loadSourceElement("video");break;case Resource.LOAD_TYPE.XHR:default:l&&this.crossOrigin?this._loadXdr():this._loadXhr()}},Resource.prototype._hasFlag=function(e){return 0!=(this._flags&e)},Resource.prototype._setFlag=function(e,t){this._flags=t?this._flags|e:this._flags&~e},Resource.prototype._clearEvents=function(){clearTimeout(this._elementTimer),this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("timeout",this._boundXhrOnTimeout,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null))},Resource.prototype._finish=function(){if(this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(Resource.STATUS_FLAGS.COMPLETE,!0),this._setFlag(Resource.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},Resource.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===e&&void 0!==window.Image?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))},Resource.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===e&&void 0!==window.Audio?this.data=new Audio:this.data=document.createElement(e),null!==this.data){if(this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var t=this.metadata.mimeType,i=0;i<this.url.length;++i)this.data.appendChild(this._createSource(e,this.url[i],Array.isArray(t)?t[i]:t));else{var n=this.metadata.mimeType;this.data.appendChild(this._createSource(e,this.url,Array.isArray(n)?n[0]:n))}this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load(),this.timeout&&(this._elementTimer=setTimeout(this._boundOnTimeout,this.timeout))}else this.abort("Unsupported element: "+e)},Resource.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XMLHttpRequest;e.open("GET",this.url,!0),e.timeout=this.timeout,this.xhrType===Resource.XHR_RESPONSE_TYPE.JSON||this.xhrType===Resource.XHR_RESPONSE_TYPE.DOCUMENT?e.responseType=Resource.XHR_RESPONSE_TYPE.TEXT:e.responseType=this.xhrType,e.addEventListener("error",this._boundXhrOnError,!1),e.addEventListener("timeout",this._boundXhrOnTimeout,!1),e.addEventListener("abort",this._boundXhrOnAbort,!1),e.addEventListener("progress",this._boundOnProgress,!1),e.addEventListener("load",this._boundXhrOnLoad,!1),e.send()},Resource.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XDomainRequest;e.timeout=this.timeout||5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXhrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)},Resource.prototype._createSource=function(e,t,i){i=i||e+"/"+this._getExtension(t);var n=document.createElement("source");return n.src=t,n.type=i,n},Resource.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},Resource.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},Resource.prototype._onTimeout=function(){this.abort("Load timed out.")},Resource.prototype._xhrOnError=function(){var e=this.xhr;this.abort(reqType(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},Resource.prototype._xhrOnTimeout=function(){var e=this.xhr;this.abort(reqType(e)+" Request timed out.")},Resource.prototype._xhrOnAbort=function(){var e=this.xhr;this.abort(reqType(e)+" Request was aborted by the user.")},Resource.prototype._xhrOnLoad=function(){var e=this.xhr,t="",i=void 0===e.status?200:e.status;""!==e.responseType&&"text"!==e.responseType&&void 0!==e.responseType||(t=e.responseText),0===i&&(0<t.length||e.responseType===Resource.XHR_RESPONSE_TYPE.BUFFER)?i=200:1223===i&&(i=204);var n=i/100|0;if(2==n){if(this.xhrType===Resource.XHR_RESPONSE_TYPE.TEXT)this.data=t,this.type=Resource.TYPE.TEXT;else if(this.xhrType===Resource.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(t),this.type=Resource.TYPE.JSON}catch(e){return void this.abort("Error trying to parse loaded json: "+e)}else if(this.xhrType===Resource.XHR_RESPONSE_TYPE.DOCUMENT)try{if(window.DOMParser){var r=new DOMParser;this.data=r.parseFromString(t,"text/xml")}else{var a=document.createElement("div");a.innerHTML=t,this.data=a}this.type=Resource.TYPE.XML}catch(e){return void this.abort("Error trying to parse loaded xml: "+e)}else this.data=e.response||t;this.complete()}else this.abort("["+e.status+"] "+e.statusText+": "+e.responseURL)},Resource.prototype._determineCrossOrigin=function(e,t){if(0===e.indexOf("data:"))return"";if(window.origin!==window.location.origin)return"anonymous";t=t||window.location,(u=u||document.createElement("a")).href=e;var i=!(e=(0,a.default)(u.href,{strictMode:!0})).port&&""===t.port||e.port===t.port,n=e.protocol?e.protocol+":":"";return e.host===t.hostname&&i&&n===t.protocol?"":"anonymous"},Resource.prototype._determineXhrType=function(){return Resource._xhrTypeMap[this.extension]||Resource.XHR_RESPONSE_TYPE.TEXT},Resource.prototype._determineLoadType=function(){return Resource._loadTypeMap[this.extension]||Resource.LOAD_TYPE.XHR},Resource.prototype._getExtension=function(){var e=this.url,t="";if(this.isDataUrl){var i=e.indexOf("/");t=e.substring(i+1,e.indexOf(";",i))}else{var n=e.indexOf("?"),r=e.indexOf("#"),a=Math.min(-1<n?n:e.length,-1<r?r:e.length);e=e.substring(0,a),t=e.substring(e.lastIndexOf(".")+1)}return t.toLowerCase()},Resource.prototype._getMimeFromXhrType=function(e){switch(e){case Resource.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case Resource.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case Resource.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case Resource.XHR_RESPONSE_TYPE.JSON:return"application/json";case Resource.XHR_RESPONSE_TYPE.DEFAULT:case Resource.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},n(Resource,[{key:"isDataUrl",get:function(){return this._hasFlag(Resource.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(Resource.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(Resource.STATUS_FLAGS.LOADING)}}]),Resource}();function setExtMap(e,t,i){t&&0===t.indexOf(".")&&(t=t.substring(1)),t&&(e[t]=i)}function reqType(e){return e.toString().replace("object ","")}h.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},h.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},h.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},h.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},h._loadTypeMap={gif:h.LOAD_TYPE.IMAGE,png:h.LOAD_TYPE.IMAGE,bmp:h.LOAD_TYPE.IMAGE,jpg:h.LOAD_TYPE.IMAGE,jpeg:h.LOAD_TYPE.IMAGE,tif:h.LOAD_TYPE.IMAGE,tiff:h.LOAD_TYPE.IMAGE,webp:h.LOAD_TYPE.IMAGE,tga:h.LOAD_TYPE.IMAGE,svg:h.LOAD_TYPE.IMAGE,"svg+xml":h.LOAD_TYPE.IMAGE,mp3:h.LOAD_TYPE.AUDIO,ogg:h.LOAD_TYPE.AUDIO,wav:h.LOAD_TYPE.AUDIO,mp4:h.LOAD_TYPE.VIDEO,webm:h.LOAD_TYPE.VIDEO},h._xhrTypeMap={xhtml:h.XHR_RESPONSE_TYPE.DOCUMENT,html:h.XHR_RESPONSE_TYPE.DOCUMENT,htm:h.XHR_RESPONSE_TYPE.DOCUMENT,xml:h.XHR_RESPONSE_TYPE.DOCUMENT,tmx:h.XHR_RESPONSE_TYPE.DOCUMENT,svg:h.XHR_RESPONSE_TYPE.DOCUMENT,tsx:h.XHR_RESPONSE_TYPE.DOCUMENT,gif:h.XHR_RESPONSE_TYPE.BLOB,png:h.XHR_RESPONSE_TYPE.BLOB,bmp:h.XHR_RESPONSE_TYPE.BLOB,jpg:h.XHR_RESPONSE_TYPE.BLOB,jpeg:h.XHR_RESPONSE_TYPE.BLOB,tif:h.XHR_RESPONSE_TYPE.BLOB,tiff:h.XHR_RESPONSE_TYPE.BLOB,webp:h.XHR_RESPONSE_TYPE.BLOB,tga:h.XHR_RESPONSE_TYPE.BLOB,json:h.XHR_RESPONSE_TYPE.JSON,text:h.XHR_RESPONSE_TYPE.TEXT,txt:h.XHR_RESPONSE_TYPE.TEXT,ttf:h.XHR_RESPONSE_TYPE.BUFFER,otf:h.XHR_RESPONSE_TYPE.BUFFER},h.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==",void 0!==t&&(t.exports.default=h)},{"mini-signals":5,"parse-uri":7}],34:[function(e,t,i){function _noop(){}function onlyOnce(t){return function(){if(null===t)throw new Error("Callback was already called.");var e=t;t=null,e.apply(this,arguments)}}i.__esModule=!0,i.eachSeries=function(t,i,n,r){var a=0,o=t.length;!function next(e){e||a===o?n&&n(e):r?setTimeout(function(){i(t[a++],next)},1):i(t[a++],next)}()},i.queue=function(t,e){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");var i=0,r={_tasks:[],concurrency:e,saturated:_noop,unsaturated:_noop,buffer:e/4,empty:_noop,drain:_noop,error:_noop,started:!1,paused:!1,push:function(e,t){_insert(e,!1,t)},kill:function(){i=0,r.drain=_noop,r.started=!1,r._tasks=[]},unshift:function(e,t){_insert(e,!0,t)},process:function(){for(;!r.paused&&i<r.concurrency&&r._tasks.length;){var e=r._tasks.shift();0===r._tasks.length&&r.empty(),(i+=1)===r.concurrency&&r.saturated(),t(e.data,onlyOnce(_next(e)))}},length:function(){return r._tasks.length},running:function(){return i},idle:function(){return r._tasks.length+i===0},pause:function(){!0!==r.paused&&(r.paused=!0)},resume:function(){if(!1!==r.paused){r.paused=!1;for(var e=1;e<=r.concurrency;e++)r.process()}}};function _insert(e,t,i){if(null!=i&&"function"!=typeof i)throw new Error("task callback must be a function");if(r.started=!0,null==e&&r.idle())setTimeout(function(){return r.drain()},1);else{var n={data:e,callback:"function"==typeof i?i:_noop};t?r._tasks.unshift(n):r._tasks.push(n),setTimeout(function(){return r.process()},1)}}function _next(t){return function(e){--i,t.callback.apply(t,arguments),null!=e&&r.error(e,t.data),i<=r.concurrency-r.buffer&&r.unsaturated(),r.idle()&&r.drain(),r.process()}}return r}},{}],35:[function(e,t,i){i.__esModule=!0,i.encodeBinary=encodeBinary;var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function encodeBinary(e){for(var t="",i=0;i<e.length;){for(var n=[0,0,0],r=[0,0,0,0],a=0;a<n.length;++a)i<e.length?n[a]=255&e.charCodeAt(i++):n[a]=0;r[0]=n[0]>>2,r[1]=(3&n[0])<<4|n[1]>>4,r[2]=(15&n[1])<<2|n[2]>>6,r[3]=63&n[2];var o=i-(e.length-1);switch(o){case 2:r[3]=64,r[2]=64;break;case 1:r[3]=64}for(var s=0;s<r.length;++s)t+=l.charAt(r[s])}return t}void 0!==t&&(t.exports.default=encodeBinary)},{}],36:[function(e,t,i){var n=e("./Loader").Loader,r=e("./Resource").Resource,a=e("./async"),o=e("./b64");n.Resource=r,n.async=a,n.encodeBinary=o,n.base64=o,t.exports=n,t.exports.Loader=n,t.exports.default=n},{"./Loader":32,"./Resource":33,"./async":34,"./b64":35}],37:[function(e,t,i){i.__esModule=!0,i.blobMiddlewareFactory=function(){return function(e,t){if(e.data){if(e.xhr&&e.xhrType===r.Resource.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof e.data){if(0===e.data.type.indexOf("image")){var i=o.createObjectURL(e.data);return e.blob=e.data,e.data=new Image,e.data.src=i,e.type=r.Resource.TYPE.IMAGE,void(e.data.onload=function(){o.revokeObjectURL(i),e.data.onload=null,t()})}}else{var n=e.xhr.getResponseHeader("content-type");if(n&&0===n.indexOf("image"))return e.data=new Image,e.data.src="data:"+n+";base64,"+(0,a.encodeBinary)(e.xhr.responseText),e.type=r.Resource.TYPE.IMAGE,void(e.data.onload=function(){e.data.onload=null,t()})}t()}else t()}};var r=e("../../Resource"),a=e("../../b64"),o=window.URL||window.webkitURL},{"../../Resource":33,"../../b64":35}],38:[function(e,t,i){var k=e("punycode"),I=e("./util");function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}i.parse=urlParse,i.resolve=function(e,t){return urlParse(e,!1,!0).resolve(t)},i.resolveObject=function(e,t){return e?urlParse(e,!1,!0).resolveObject(t):t},i.format=function(e){I.isString(e)&&(e=urlParse(e));return e instanceof Url?e.format():Url.prototype.format.call(e)},i.Url=Url;var O=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,B=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,r=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),N=["'"].concat(r),F=["%","/","?",";","#"].concat(N),Y=["/","?","#"],U=/^[+a-z0-9A-Z_-]{0,63}$/,j=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,z={javascript:!0,"javascript:":!0},G={javascript:!0,"javascript:":!0},H={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},W=e("querystring");function urlParse(e,t,i){if(e&&I.isObject(e)&&e instanceof Url)return e;var n=new Url;return n.parse(e,t,i),n}Url.prototype.parse=function(e,t,i){if(!I.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var n=e.indexOf("?"),r=-1!==n&&n<e.indexOf("#")?"?":"#",a=e.split(r);a[0]=a[0].replace(/\\/g,"/");var o=e=a.join(r);if(o=o.trim(),!i&&1===e.split("#").length){var s=B.exec(o);if(s)return this.path=o,this.href=o,this.pathname=s[1],s[2]?(this.search=s[2],this.query=t?W.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var l=O.exec(o);if(l){var u=(l=l[0]).toLowerCase();this.protocol=u,o=o.substr(l.length)}if(i||l||o.match(/^\/\/[^@\/]+@[^@\/]+/)){var h="//"===o.substr(0,2);!h||l&&G[l]||(o=o.substr(2),this.slashes=!0)}if(!G[l]&&(h||l&&!H[l])){for(var d,c,p=-1,f=0;f<Y.length;f++){var m=o.indexOf(Y[f]);-1!==m&&(-1===p||m<p)&&(p=m)}-1!==(c=-1===p?o.lastIndexOf("@"):o.lastIndexOf("@",p))&&(d=o.slice(0,c),o=o.slice(c+1),this.auth=decodeURIComponent(d)),p=-1;for(var f=0;f<F.length;f++){var m=o.indexOf(F[f]);-1!==m&&(-1===p||m<p)&&(p=m)}-1===p&&(p=o.length),this.host=o.slice(0,p),o=o.slice(p),this.parseHost(),this.hostname=this.hostname||"";var _="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!_)for(var g=this.hostname.split(/\./),f=0,v=g.length;f<v;f++){var y=g[f];if(y&&!y.match(U)){for(var b="",w=0,x=y.length;w<x;w++)127<y.charCodeAt(w)?b+="x":b+=y[w];if(!b.match(U)){var T=g.slice(0,f),S=g.slice(f+1),M=y.match(j);M&&(T.push(M[1]),S.unshift(M[2])),S.length&&(o="/"+S.join(".")+o),this.hostname=T.join(".");break}}}255<this.hostname.length?this.hostname="":this.hostname=this.hostname.toLowerCase(),_||(this.hostname=k.toASCII(this.hostname));var L=this.port?":"+this.port:"",E=this.hostname||"";this.host=E+L,this.href+=this.host,_&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==o[0]&&(o="/"+o))}if(!z[u])for(var f=0,v=N.length;f<v;f++){var C=N[f];if(-1!==o.indexOf(C)){var A=encodeURIComponent(C);A===C&&(A=escape(C)),o=o.split(C).join(A)}}var P=o.indexOf("#");-1!==P&&(this.hash=o.substr(P),o=o.slice(0,P));var D=o.indexOf("?");if(-1!==D?(this.search=o.substr(D),this.query=o.substr(D+1),t&&(this.query=W.parse(this.query)),o=o.slice(0,D)):t&&(this.search="",this.query={}),o&&(this.pathname=o),H[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var L=this.pathname||"",R=this.search||"";this.path=L+R}return this.href=this.format(),this},Url.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",i=this.pathname||"",n=this.hash||"",r=!1,a="";this.host?r=e+this.host:this.hostname&&(r=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&I.isObject(this.query)&&Object.keys(this.query).length&&(a=W.stringify(this.query));var o=this.search||a&&"?"+a||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||H[t])&&!1!==r?(r="//"+(r||""),i&&"/"!==i.charAt(0)&&(i="/"+i)):r=r||"",n&&"#"!==n.charAt(0)&&(n="#"+n),o&&"?"!==o.charAt(0)&&(o="?"+o),i=i.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),o=o.replace("#","%23"),t+r+i+o+n},Url.prototype.resolve=function(e){return this.resolveObject(urlParse(e,!1,!0)).format()},Url.prototype.resolveObject=function(e){if(I.isString(e)){var t=new Url;t.parse(e,!1,!0),e=t}for(var i=new Url,n=Object.keys(this),r=0;r<n.length;r++){var a=n[r];i[a]=this[a]}if(i.hash=e.hash,""===e.href)return i.href=i.format(),i;if(e.slashes&&!e.protocol){for(var o=Object.keys(e),s=0;s<o.length;s++){var l=o[s];"protocol"!==l&&(i[l]=e[l])}return H[i.protocol]&&i.hostname&&!i.pathname&&(i.path=i.pathname="/"),i.href=i.format(),i}if(e.protocol&&e.protocol!==i.protocol){if(!H[e.protocol]){for(var u=Object.keys(e),h=0;h<u.length;h++){var d=u[h];i[d]=e[d]}return i.href=i.format(),i}if(i.protocol=e.protocol,e.host||G[e.protocol])i.pathname=e.pathname;else{for(var c=(e.pathname||"").split("/");c.length&&!(e.host=c.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==c[0]&&c.unshift(""),c.length<2&&c.unshift(""),i.pathname=c.join("/")}if(i.search=e.search,i.query=e.query,i.host=e.host||"",i.auth=e.auth,i.hostname=e.hostname||e.host,i.port=e.port,i.pathname||i.search){var p=i.pathname||"",f=i.search||"";i.path=p+f}return i.slashes=i.slashes||e.slashes,i.href=i.format(),i}var m=i.pathname&&"/"===i.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),g=_||m||i.host&&e.pathname,v=g,y=i.pathname&&i.pathname.split("/")||[],c=e.pathname&&e.pathname.split("/")||[],b=i.protocol&&!H[i.protocol];if(b&&(i.hostname="",i.port=null,i.host&&(""===y[0]?y[0]=i.host:y.unshift(i.host)),i.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===c[0]?c[0]=e.host:c.unshift(e.host)),e.host=null),g=g&&(""===c[0]||""===y[0])),_)i.host=e.host||""===e.host?e.host:i.host,i.hostname=e.hostname||""===e.hostname?e.hostname:i.hostname,i.search=e.search,i.query=e.query,y=c;else if(c.length)(y=y||[]).pop(),y=y.concat(c),i.search=e.search,i.query=e.query;else if(!I.isNullOrUndefined(e.search)){if(b){i.hostname=i.host=y.shift();var w=!!(i.host&&0<i.host.indexOf("@"))&&i.host.split("@");w&&(i.auth=w.shift(),i.host=i.hostname=w.shift())}return i.search=e.search,i.query=e.query,I.isNull(i.pathname)&&I.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.href=i.format(),i}if(!y.length)return i.pathname=null,i.search?i.path="/"+i.search:i.path=null,i.href=i.format(),i;for(var x=y.slice(-1)[0],T=(i.host||e.host||1<y.length)&&("."===x||".."===x)||""===x,S=0,M=y.length;0<=M;M--)"."===(x=y[M])?y.splice(M,1):".."===x?(y.splice(M,1),S++):S&&(y.splice(M,1),S--);if(!g&&!v)for(;S--;)y.unshift("..");!g||""===y[0]||y[0]&&"/"===y[0].charAt(0)||y.unshift(""),T&&"/"!==y.join("/").substr(-1)&&y.push("");var L=""===y[0]||y[0]&&"/"===y[0].charAt(0);if(b){i.hostname=i.host=!L&&y.length?y.shift():"";var w=!!(i.host&&0<i.host.indexOf("@"))&&i.host.split("@");w&&(i.auth=w.shift(),i.host=i.hostname=w.shift())}return(g=g||i.host&&y.length)&&!L&&y.unshift(""),y.length?i.pathname=y.join("/"):(i.pathname=null,i.path=null),I.isNull(i.pathname)&&I.isNull(i.search)||(i.path=(i.pathname?i.pathname:"")+(i.search?i.search:"")),i.auth=e.auth||i.auth,i.slashes=i.slashes||e.slashes,i.href=i.format(),i},Url.prototype.parseHost=function(){var e=this.host,t=n.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":39,punycode:27,querystring:30}],39:[function(e,t,i){t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},{}],40:[function(e,t,i){i.__esModule=!0;var n=e("../core"),l=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(n),r=e("ismobilejs"),a=_interopRequireDefault(r),o=e("./accessibleTarget"),s=_interopRequireDefault(o);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}l.utils.mixins.delayMixin(l.DisplayObject.prototype,s.default);var u=function(){function AccessibilityManager(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AccessibilityManager),!a.default.tablet&&!a.default.phone||navigator.isCocoonJS||this.createTouchHook();var t=document.createElement("div");t.style.width="100px",t.style.height="100px",t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.zIndex=2,this.div=t,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=e,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return AccessibilityManager.prototype.createTouchHook=function(){var e=this,t=document.createElement("button");t.style.width="1px",t.style.height="1px",t.style.position="absolute",t.style.top="-1000px",t.style.left="-1000px",t.style.zIndex=2,t.style.backgroundColor="#FF0000",t.title="HOOK DIV",t.addEventListener("focus",function(){e.isMobileAccessabillity=!0,e.activate(),document.body.removeChild(t)}),document.body.appendChild(t)},AccessibilityManager.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},AccessibilityManager.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},AccessibilityManager.prototype.updateAccessibleObjects=function(e){if(e.visible){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);for(var t=e.children,i=0;i<t.length;i++)this.updateAccessibleObjects(t[i])}},AccessibilityManager.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var e=this.renderer.view.getBoundingClientRect(),t=e.width/this.renderer.width,i=e.height/this.renderer.height,n=this.div;n.style.left=e.left+"px",n.style.top=e.top+"px",n.style.width=this.renderer.width+"px",n.style.height=this.renderer.height+"px";for(var r=0;r<this.children.length;r++){var a=this.children[r];if(a.renderId!==this.renderId)a._accessibleActive=!1,l.utils.removeItems(this.children,r,1),this.div.removeChild(a._accessibleDiv),this.pool.push(a._accessibleDiv),a._accessibleDiv=null,r--,0===this.children.length&&this.deactivate();else{n=a._accessibleDiv;var o=a.hitArea,s=a.worldTransform;a.hitArea?(n.style.left=(s.tx+o.x*s.a)*t+"px",n.style.top=(s.ty+o.y*s.d)*i+"px",n.style.width=o.width*s.a*t+"px",n.style.height=o.height*s.d*i+"px"):(o=a.getBounds(),this.capHitArea(o),n.style.left=o.x*t+"px",n.style.top=o.y*i+"px",n.style.width=o.width*t+"px",n.style.height=o.height*i+"px",n.title!==a.accessibleTitle&&null!==a.accessibleTitle&&(n.title=a.accessibleTitle),n.getAttribute("aria-label")!==a.accessibleHint&&null!==a.accessibleHint&&n.setAttribute("aria-label",a.accessibleHint))}}this.renderId++}},AccessibilityManager.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0),e.x+e.width>this.renderer.width&&(e.width=this.renderer.width-e.x),e.y+e.height>this.renderer.height&&(e.height=this.renderer.height-e.y)},AccessibilityManager.prototype.addChild=function(e){var t=this.pool.pop();t||((t=document.createElement("button")).style.width="100px",t.style.height="100px",t.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=2,t.style.borderStyle="none",-1<navigator.userAgent.toLowerCase().indexOf("chrome")?t.setAttribute("aria-live","off"):t.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?t.setAttribute("aria-relevant","additions"):t.setAttribute("aria-relevant","text"),t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),e.accessibleTitle&&null!==e.accessibleTitle?t.title=e.accessibleTitle:e.accessibleHint&&null!==e.accessibleHint||(t.title="displayObject "+e.tabIndex),e.accessibleHint&&null!==e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),e._accessibleActive=!0,(e._accessibleDiv=t).displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},AccessibilityManager.prototype._onClick=function(e){var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"click",t.eventData)},AccessibilityManager.prototype._onFocus=function(e){e.target.getAttribute("aria-live","off")||e.target.setAttribute("aria-live","assertive");var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"mouseover",t.eventData)},AccessibilityManager.prototype._onFocusOut=function(e){e.target.getAttribute("aria-live","off")||e.target.setAttribute("aria-live","polite");var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"mouseout",t.eventData)},AccessibilityManager.prototype._onKeyDown=function(e){9===e.keyCode&&this.activate()},AccessibilityManager.prototype._onMouseMove=function(e){0===e.movementX&&0===e.movementY||this.deactivate()},AccessibilityManager.prototype.destroy=function(){this.div=null;for(var e=0;e<this.children.length;e++)this.children[e].div=null;window.document.removeEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},AccessibilityManager}();i.default=u,l.WebGLRenderer.registerPlugin("accessibility",u),l.CanvasRenderer.registerPlugin("accessibility",u)},{"../core":65,"./accessibleTarget":41,ismobilejs:4}],41:[function(e,t,i){i.__esModule=!0,i.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},{}],42:[function(e,t,i){i.__esModule=!0;var n=e("./accessibleTarget");Object.defineProperty(i,"accessibleTarget",{enumerable:!0,get:function(){return _interopRequireDefault(n).default}});var r=e("./AccessibilityManager");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"AccessibilityManager",{enumerable:!0,get:function(){return _interopRequireDefault(r).default}})},{"./AccessibilityManager":40,"./accessibleTarget":41}],43:[function(e,t,i){i.__esModule=!0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),a=e("./autoDetectRenderer"),r=e("./display/Container"),o=_interopRequireDefault(r),s=e("./ticker"),l=e("./settings"),u=_interopRequireDefault(l),h=e("./const");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var d=function(){function Application(e,t,i,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Application),"number"==typeof e&&(e=Object.assign({width:e,height:t||u.default.RENDER_OPTIONS.height,forceCanvas:!!n,sharedTicker:!!r},i)),this._options=e=Object.assign({autoStart:!0,sharedTicker:!1,forceCanvas:!1,sharedLoader:!1},e),this.renderer=(0,a.autoDetectRenderer)(e),this.stage=new o.default,this._ticker=null,this.ticker=e.sharedTicker?s.shared:new s.Ticker,e.autoStart&&this.start()}return Application.prototype.render=function(){this.renderer.render(this.stage)},Application.prototype.stop=function(){this._ticker.stop()},Application.prototype.start=function(){this._ticker.start()},Application.prototype.destroy=function(e,t){if(this._ticker){var i=this._ticker;this.ticker=null,i.destroy()}this.stage.destroy(t),this.stage=null,this.renderer.destroy(e),this.renderer=null,this._options=null},n(Application,[{key:"ticker",set:function(e){this._ticker&&this._ticker.remove(this.render,this),(this._ticker=e)&&e.add(this.render,this,h.UPDATE_PRIORITY.LOW)},get:function(){return this._ticker}},{key:"view",get:function(){return this.renderer.view}},{key:"screen",get:function(){return this.renderer.screen}}]),Application}();i.default=d},{"./autoDetectRenderer":45,"./const":46,"./display/Container":48,"./settings":101,"./ticker":121}],44:[function(e,t,i){i.__esModule=!0;var n=e("pixi-gl-core"),r=e("./settings"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);function checkPrecision(e,t){if(e instanceof Array){if("precision"!==e[0].substring(0,9)){var i=e.slice(0);return i.unshift("precision "+t+" float;"),i}}else if("precision"!==e.trim().substring(0,9))return"precision "+t+" float;\n"+e;return e}var a=function(a){function Shader(e,t,i,n,r){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Shader),function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,a.call(this,e,checkPrecision(t,r||o.default.PRECISION_VERTEX),checkPrecision(i,r||o.default.PRECISION_FRAGMENT),void 0,n))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Shader,a),Shader}(n.GLShader);i.default=a},{"./settings":101,"pixi-gl-core":15}],45:[function(e,t,i){i.__esModule=!0,i.autoDetectRenderer=function(e,t,i,n){var r=e&&e.forceCanvas;void 0!==n&&(r=n);return r||!a.isWebGLSupported()?new o.default(e,t,i):new l.default(e,t,i)};var n=e("./utils"),a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(n),r=e("./renderers/canvas/CanvasRenderer"),o=_interopRequireDefault(r),s=e("./renderers/webgl/WebGLRenderer"),l=_interopRequireDefault(s);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}},{"./renderers/canvas/CanvasRenderer":77,"./renderers/webgl/WebGLRenderer":84,"./utils":125}],46:[function(e,t,i){i.__esModule=!0;i.VERSION="4.8.9",i.PI_2=2*Math.PI,i.RAD_TO_DEG=180/Math.PI,i.DEG_TO_RAD=Math.PI/180,i.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},i.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16,NORMAL_NPM:17,ADD_NPM:18,SCREEN_NPM:19},i.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},i.SCALE_MODES={LINEAR:0,NEAREST:1},i.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},i.GC_MODES={AUTO:0,MANUAL:1},i.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,i.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i,i.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,i.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},i.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},i.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},i.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1},i.UPDATE_PRIORITY={INTERACTION:50,HIGH:25,NORMAL:0,LOW:-25,UTILITY:-50}},{}],47:[function(e,t,i){i.__esModule=!0;var n=e("../math");var r=function(){function Bounds(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Bounds),this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null}return Bounds.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},Bounds.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0},Bounds.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?n.Rectangle.EMPTY:((e=e||new n.Rectangle(0,0,1,1)).x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},Bounds.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},Bounds.prototype.addQuad=function(e){var t=this.minX,i=this.minY,n=this.maxX,r=this.maxY,a=e[0],o=e[1];t=a<t?a:t,i=o<i?o:i,n=n<a?a:n,r=r<o?o:r,a=e[2],o=e[3],t=a<t?a:t,i=o<i?o:i,n=n<a?a:n,r=r<o?o:r,a=e[4],o=e[5],t=a<t?a:t,i=o<i?o:i,n=n<a?a:n,r=r<o?o:r,a=e[6],o=e[7],t=a<t?a:t,i=o<i?o:i,n=n<a?a:n,r=r<o?o:r,this.minX=t,this.minY=i,this.maxX=n,this.maxY=r},Bounds.prototype.addFrame=function(e,t,i,n,r){var a=e.worldTransform,o=a.a,s=a.b,l=a.c,u=a.d,h=a.tx,d=a.ty,c=this.minX,p=this.minY,f=this.maxX,m=this.maxY,_=o*t+l*i+h,g=s*t+u*i+d;c=_<c?_:c,p=g<p?g:p,f=f<_?_:f,m=m<g?g:m,c=(_=o*n+l*i+h)<c?_:c,p=(g=s*n+u*i+d)<p?g:p,f=f<_?_:f,m=m<g?g:m,c=(_=o*t+l*r+h)<c?_:c,p=(g=s*t+u*r+d)<p?g:p,f=f<_?_:f,m=m<g?g:m,c=(_=o*n+l*r+h)<c?_:c,p=(g=s*n+u*r+d)<p?g:p,f=f<_?_:f,m=m<g?g:m,this.minX=c,this.minY=p,this.maxX=f,this.maxY=m},Bounds.prototype.addVertices=function(e,t,i,n){for(var r=e.worldTransform,a=r.a,o=r.b,s=r.c,l=r.d,u=r.tx,h=r.ty,d=this.minX,c=this.minY,p=this.maxX,f=this.maxY,m=i;m<n;m+=2){var _=t[m],g=t[m+1],v=a*_+s*g+u,y=l*g+o*_+h;d=v<d?v:d,c=y<c?y:c,p=p<v?v:p,f=f<y?y:f}this.minX=d,this.minY=c,this.maxX=p,this.maxY=f},Bounds.prototype.addBounds=function(e){var t=this.minX,i=this.minY,n=this.maxX,r=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<i?e.minY:i,this.maxX=e.maxX>n?e.maxX:n,this.maxY=e.maxY>r?e.maxY:r},Bounds.prototype.addBoundsMask=function(e,t){var i=e.minX>t.minX?e.minX:t.minX,n=e.minY>t.minY?e.minY:t.minY,r=e.maxX<t.maxX?e.maxX:t.maxX,a=e.maxY<t.maxY?e.maxY:t.maxY;if(i<=r&&n<=a){var o=this.minX,s=this.minY,l=this.maxX,u=this.maxY;this.minX=i<o?i:o,this.minY=n<s?n:s,this.maxX=l<r?r:l,this.maxY=u<a?a:u}},Bounds.prototype.addBoundsArea=function(e,t){var i=e.minX>t.x?e.minX:t.x,n=e.minY>t.y?e.minY:t.y,r=e.maxX<t.x+t.width?e.maxX:t.x+t.width,a=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(i<=r&&n<=a){var o=this.minX,s=this.minY,l=this.maxX,u=this.maxY;this.minX=i<o?i:o,this.minY=n<s?n:s,this.maxX=l<r?r:l,this.maxY=u<a?a:u}},Bounds}();i.default=r},{"../math":70}],48:[function(e,t,i){i.__esModule=!0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),a=e("../utils"),r=e("./DisplayObject"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);var s=function(r){function Container(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Container);var e=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,r.call(this));return e.children=[],e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Container,r),Container.prototype.onChildrenChange=function(){},Container.prototype.addChild=function(e){var t=arguments.length;if(1<t)for(var i=0;i<t;i++)this.addChild(arguments[i]);else e.parent&&e.parent.removeChild(e),e.parent=this,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),e.emit("added",this);return e},Container.prototype.addChildAt=function(e,t){if(t<0||t>this.children.length)throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,e.transform._parentID=-1,this.children.splice(t,0,e),this._boundsID++,this.onChildrenChange(t),e.emit("added",this),e},Container.prototype.swapChildren=function(e,t){if(e!==t){var i=this.getChildIndex(e),n=this.getChildIndex(t);this.children[i]=t,this.children[n]=e,this.onChildrenChange(i<n?i:n)}},Container.prototype.getChildIndex=function(e){var t=this.children.indexOf(e);if(-1===t)throw new Error("The supplied DisplayObject must be a child of the caller");return t},Container.prototype.setChildIndex=function(e,t){if(t<0||t>=this.children.length)throw new Error("The index "+t+" supplied is out of bounds "+this.children.length);var i=this.getChildIndex(e);(0,a.removeItems)(this.children,i,1),this.children.splice(t,0,e),this.onChildrenChange(t)},Container.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},Container.prototype.removeChild=function(e){var t=arguments.length;if(1<t)for(var i=0;i<t;i++)this.removeChild(arguments[i]);else{var n=this.children.indexOf(e);if(-1===n)return null;e.parent=null,e.transform._parentID=-1,(0,a.removeItems)(this.children,n,1),this._boundsID++,this.onChildrenChange(n),e.emit("removed",this)}return e},Container.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t.parent=null,t.transform._parentID=-1,(0,a.removeItems)(this.children,e,1),this._boundsID++,this.onChildrenChange(e),t.emit("removed",this),t},Container.prototype.removeChildren=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],i=e,n="number"==typeof t?t:this.children.length,r=n-i,a=void 0;if(0<r&&r<=n){a=this.children.splice(i,r);for(var o=0;o<a.length;++o)a[o].parent=null,a[o].transform&&(a[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(e);for(var s=0;s<a.length;++s)a[s].emit("removed",this);return a}if(0==r&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},Container.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var e=0,t=this.children.length;e<t;++e){var i=this.children[e];i.visible&&i.updateTransform()}},Container.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e=0;e<this.children.length;e++){var t=this.children[e];t.visible&&t.renderable&&(t.calculateBounds(),t._mask?(t._mask.calculateBounds(),this._bounds.addBoundsMask(t._bounds,t._mask._bounds)):t.filterArea?this._bounds.addBoundsArea(t._bounds,t.filterArea):this._bounds.addBounds(t._bounds))}this._lastBoundsID=this._boundsID},Container.prototype._calculateBounds=function(){},Container.prototype.renderWebGL=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this.filters&&this.filters.length)this.renderAdvancedWebGL(e);else{this._renderWebGL(e);for(var t=0,i=this.children.length;t<i;++t)this.children[t].renderWebGL(e)}},Container.prototype.renderAdvancedWebGL=function(e){e.flush();var t=this._filters,i=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]);for(var n=this._enabledFilters.length=0;n<t.length;n++)t[n].enabled&&this._enabledFilters.push(t[n]);this._enabledFilters.length&&e.filterManager.pushFilter(this,this._enabledFilters)}i&&e.maskManager.pushMask(this,this._mask),this._renderWebGL(e);for(var r=0,a=this.children.length;r<a;r++)this.children[r].renderWebGL(e);e.flush(),i&&e.maskManager.popMask(this,this._mask),t&&this._enabledFilters&&this._enabledFilters.length&&e.filterManager.popFilter()},Container.prototype._renderWebGL=function(e){},Container.prototype._renderCanvas=function(e){},Container.prototype.renderCanvas=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&e.maskManager.pushMask(this._mask),this._renderCanvas(e);for(var t=0,i=this.children.length;t<i;++t)this.children[t].renderCanvas(e);this._mask&&e.maskManager.popMask(e)}},Container.prototype.destroy=function(e){r.prototype.destroy.call(this);var t="boolean"==typeof e?e:e&&e.children,i=this.removeChildren(0,this.children.length);if(t)for(var n=0;n<i.length;++n)i[n].destroy(e)},n(Container,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;this.scale.x=0!==t?e/t:1,this._width=e}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;this.scale.y=0!==t?e/t:1,this._height=e}}]),Container}(o.default);(i.default=s).prototype.containerUpdateTransform=s.prototype.updateTransform},{"../utils":125,"./DisplayObject":49}],49:[function(e,t,i){i.__esModule=!0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=e("eventemitter3"),a=_interopRequireDefault(r),o=e("../const"),s=e("../settings"),l=_interopRequireDefault(s),u=e("./TransformStatic"),h=_interopRequireDefault(u),d=e("./Transform"),c=_interopRequireDefault(d),p=e("./Bounds"),f=_interopRequireDefault(p),m=e("../math");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _=function(i){function DisplayObject(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DisplayObject);var e=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,i.call(this)),t=l.default.TRANSFORM_MODE===o.TRANSFORM_MODE.STATIC?h.default:c.default;return e.tempDisplayObjectParent=null,e.transform=new t,e.alpha=1,e.visible=!0,e.renderable=!0,e.parent=null,e.worldAlpha=1,e.filterArea=null,e._filters=null,e._enabledFilters=null,e._bounds=new f.default,e._boundsID=0,e._lastBoundsID=-1,e._boundsRect=null,e._localBoundsRect=null,e._mask=null,e._destroyed=!1,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(DisplayObject,i),DisplayObject.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},DisplayObject.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},DisplayObject.prototype.getBounds=function(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),t||(this._boundsRect||(this._boundsRect=new m.Rectangle),t=this._boundsRect),this._bounds.getRectangle(t)},DisplayObject.prototype.getLocalBounds=function(e){var t=this.transform,i=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform,e||(this._localBoundsRect||(this._localBoundsRect=new m.Rectangle),e=this._localBoundsRect);var n=this.getBounds(!1,e);return this.parent=i,this.transform=t,n},DisplayObject.prototype.toGlobal=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]&&arguments[2];return i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)},DisplayObject.prototype.toLocal=function(e,t,i,n){return t&&(e=t.toGlobal(e,i,n)),n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,i)},DisplayObject.prototype.renderWebGL=function(e){},DisplayObject.prototype.renderCanvas=function(e){},DisplayObject.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},DisplayObject.prototype.setTransform=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0,o=6<arguments.length&&void 0!==arguments[6]?arguments[6]:0,s=7<arguments.length&&void 0!==arguments[7]?arguments[7]:0,l=8<arguments.length&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=e,this.position.y=t,this.scale.x=i||1,this.scale.y=n||1,this.rotation=r,this.skew.x=a,this.skew.y=o,this.pivot.x=s,this.pivot.y=l,this},DisplayObject.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1,this._destroyed=!0},n(DisplayObject,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new DisplayObject),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(e){this.transform.position.x=e}},{key:"y",get:function(){return this.position.y},set:function(e){this.transform.position.y=e}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(e){this.transform.position.copy(e)}},{key:"scale",get:function(){return this.transform.scale},set:function(e){this.transform.scale.copy(e)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copy(e)}},{key:"skew",get:function(){return this.transform.skew},set:function(e){this.transform.skew.copy(e)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e}},{key:"worldVisible",get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}},{key:"mask",get:function(){return this._mask},set:function(e){this._mask&&(this._mask.renderable=!0,this._mask.isMask=!1),this._mask=e,this._mask&&(this._mask.renderable=!1,this._mask.isMask=!0)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(e){this._filters=e&&e.slice()}}]),DisplayObject}(a.default);(i.default=_).prototype.displayObjectUpdateTransform=_.prototype.updateTransform},{"../const":46,"../math":70,"../settings":101,"./Bounds":47,"./Transform":50,"./TransformStatic":52,eventemitter3:3}],50:[function(e,t,i){i.__esModule=!0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=e("../math"),a=e("./TransformBase"),o=function(e){return e&&e.__esModule?e:{default:e}}(a);var s=function(t){function Transform(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Transform);var e=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,t.call(this));return e.position=new r.Point(0,0),e.scale=new r.Point(1,1),e.skew=new r.ObservablePoint(e.updateSkew,e,0,0),e.pivot=new r.Point(0,0),e._rotation=0,e._cx=1,e._sx=0,e._cy=0,e._sy=1,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Transform,t),Transform.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},Transform.prototype.updateLocalTransform=function(){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d)},Transform.prototype.updateTransform=function(e){var t=this.localTransform;t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d);var i=e.worldTransform,n=this.worldTransform;n.a=t.a*i.a+t.b*i.c,n.b=t.a*i.b+t.b*i.d,n.c=t.c*i.a+t.d*i.c,n.d=t.c*i.b+t.d*i.d,n.tx=t.tx*i.a+t.ty*i.c+i.tx,n.ty=t.tx*i.b+t.ty*i.d+i.ty,this._worldID++},Transform.prototype.setFromMatrix=function(e){e.decompose(this)},n(Transform,[{key:"rotation",get:function(){return this._rotation},set:function(e){this._rotation=e,this.updateSkew()}}]),Transform}(o.default);i.default=s},{"../math":70,"./TransformBase":51}],51:[function(e,t,i){i.__esModule=!0;var n=e("../math");var r=function(){function TransformBase(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TransformBase),this.worldTransform=new n.Matrix,this.localTransform=new n.Matrix,this._worldID=0,this._parentID=0}return TransformBase.prototype.updateLocalTransform=function(){},TransformBase.prototype.updateTransform=function(e){var t=e.worldTransform,i=this.worldTransform,n=this.localTransform;i.a=n.a*t.a+n.b*t.c,i.b=n.a*t.b+n.b*t.d,i.c=n.c*t.a+n.d*t.c,i.d=n.c*t.b+n.d*t.d,i.tx=n.tx*t.a+n.ty*t.c+t.tx,i.ty=n.tx*t.b+n.ty*t.d+t.ty,this._worldID++},TransformBase}();(i.default=r).prototype.updateWorldTransform=r.prototype.updateTransform,r.IDENTITY=new r},{"../math":70}],52:[function(e,t,i){i.__esModule=!0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=e("../math"),a=e("./TransformBase"),o=function(e){return e&&e.__esModule?e:{default:e}}(a);var s=function(t){function TransformStatic(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TransformStatic);var e=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,t.call(this));return e.position=new r.ObservablePoint(e.onChange,e,0,0),e.scale=new r.ObservablePoint(e.onChange,e,1,1),e.pivot=new r.ObservablePoint(e.onChange,e,0,0),e.skew=new r.ObservablePoint(e.updateSkew,e,0,0),e._rotation=0,e._cx=1,e._sx=0,e._cy=0,e._sy=1,e._localID=0,e._currentLocalID=0,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(TransformStatic,t),TransformStatic.prototype.onChange=function(){this._localID++},TransformStatic.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},TransformStatic.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},TransformStatic.prototype.updateTransform=function(e){var t=this.localTransform;if(this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var i=e.worldTransform,n=this.worldTransform;n.a=t.a*i.a+t.b*i.c,n.b=t.a*i.b+t.b*i.d,n.c=t.c*i.a+t.d*i.c,n.d=t.c*i.b+t.d*i.d,n.tx=t.tx*i.a+t.ty*i.c+i.tx,n.ty=t.tx*i.b+t.ty*i.d+i.ty,this._parentID=e._worldID,this._worldID++}},TransformStatic.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},n(TransformStatic,[{key:"rotation",get:function(){return this._rotation},set:function(e){this._rotation!==e&&(this._rotation=e,this.updateSkew())}}]),TransformStatic}(o.default);i.default=s},{"../math":70,"./TransformBase":51}],53:[function(e,t,i){i.__esModule=!0;var n=e("../display/Container"),r=_interopRequireDefault(n),a=e("../textures/RenderTexture"),o=_interopRequireDefault(a),s=e("../textures/Texture"),l=_interopRequireDefault(s),u=e("./GraphicsData"),h=_interopRequireDefault(u),d=e("../sprites/Sprite"),c=_interopRequireDefault(d),p=e("../math"),f=e("../utils"),L=e("../const"),m=e("../display/Bounds"),_=_interopRequireDefault(m),g=e("./utils/bezierCurveTo"),v=_interopRequireDefault(g),y=e("../renderers/canvas/CanvasRenderer"),b=_interopRequireDefault(y);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var w=void 0,x=new p.Matrix,T=new p.Point,S=new Float32Array(4),M=new Float32Array(4),E=function(r){function Graphics(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Graphics);var t=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,r.call(this));return t.fillAlpha=1,t.lineWidth=0,t.nativeLines=e,t.lineColor=0,t.lineAlignment=.5,t.graphicsData=[],t.tint=16777215,t._prevTint=16777215,t.blendMode=L.BLEND_MODES.NORMAL,t.currentPath=null,t._webGL={},t.isMask=!1,t.boundsPadding=0,t._localBounds=new _.default,t.dirty=0,t.fastRectDirty=-1,t.clearDirty=0,t.boundsDirty=-1,t.cachedSpriteDirty=!1,t._spriteRect=null,t._fastRect=!1,t._prevRectTint=null,t._prevRectFillColor=null,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Graphics,r),Graphics.prototype.clone=function(){var e=new Graphics;e.renderable=this.renderable,e.fillAlpha=this.fillAlpha,e.lineWidth=this.lineWidth,e.lineColor=this.lineColor,e.lineAlignment=this.lineAlignment,e.tint=this.tint,e.blendMode=this.blendMode,e.isMask=this.isMask,e.boundsPadding=this.boundsPadding,e.dirty=0,e.cachedSpriteDirty=this.cachedSpriteDirty;for(var t=0;t<this.graphicsData.length;++t)e.graphicsData.push(this.graphicsData[t].clone());return e.currentPath=e.graphicsData[e.graphicsData.length-1],e.updateLocalBounds(),e},Graphics.prototype._quadraticCurveLength=function(e,t,i,n,r,a){var o=e-2*i+r,s=t-2*n+a,l=2*i-2*e,u=2*n-2*t,h=4*(o*o+s*s),d=4*(o*l+s*u),c=l*l+u*u,p=2*Math.sqrt(h+d+c),f=Math.sqrt(h),m=2*h*f,_=2*Math.sqrt(c),g=d/f;return(m*p+f*d*(p-_)+(4*c*h-d*d)*Math.log((2*f+g+p)/(g+_)))/(4*m)},Graphics.prototype._bezierCurveLength=function(e,t,i,n,r,a,o,s){for(var l=0,u=0,h=0,d=0,c=0,p=0,f=0,m=0,_=0,g=0,v=0,y=e,b=t,w=1;w<=10;++w)g=y-(m=(f=(p=(c=1-(u=w/10))*c)*c)*e+3*p*u*i+3*c*(h=u*u)*r+(d=h*u)*o),v=b-(_=f*t+3*p*u*n+3*c*h*a+d*s),y=m,b=_,l+=Math.sqrt(g*g+v*v);return l},Graphics.prototype._segmentsCount=function(e){var t=Math.ceil(e/Graphics.CURVES.maxLength);return t<Graphics.CURVES.minSegments?t=Graphics.CURVES.minSegments:t>Graphics.CURVES.maxSegments&&(t=Graphics.CURVES.maxSegments),t},Graphics.prototype.lineStyle=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:.5;if(this.lineWidth=e,this.lineColor=t,this.lineAlpha=i,this.lineAlignment=n,this.currentPath)if(this.currentPath.shape.points.length){var r=new p.Polygon(this.currentPath.shape.points.slice(-2));r.closed=!1,this.drawShape(r)}else this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha,this.currentPath.lineAlignment=this.lineAlignment;return this},Graphics.prototype.moveTo=function(e,t){var i=new p.Polygon([e,t]);return i.closed=!1,this.drawShape(i),this},Graphics.prototype.lineTo=function(e,t){var i=this.currentPath.shape.points,n=i[i.length-2],r=i[i.length-1];return n===e&&r===t||(i.push(e,t),this.dirty++),this},Graphics.prototype.quadraticCurveTo=function(e,t,i,n){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var r=this.currentPath.shape.points,a=0,o=0;0===r.length&&this.moveTo(0,0);for(var s=r[r.length-2],l=r[r.length-1],u=Graphics.CURVES.adaptive?this._segmentsCount(this._quadraticCurveLength(s,l,e,t,i,n)):20,h=1;h<=u;++h){var d=h/u;a=s+(e-s)*d,o=l+(t-l)*d,r.push(a+(e+(i-e)*d-a)*d,o+(t+(n-t)*d-o)*d)}return this.dirty++,this},Graphics.prototype.bezierCurveTo=function(e,t,i,n,r,a){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var o=this.currentPath.shape.points,s=o[o.length-2],l=o[o.length-1];o.length-=2;var u=Graphics.CURVES.adaptive?this._segmentsCount(this._bezierCurveLength(s,l,e,t,i,n,r,a)):20;return(0,v.default)(s,l,e,t,i,n,r,a,u,o),this.dirty++,this},Graphics.prototype.arcTo=function(e,t,i,n,r){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(e,t):this.moveTo(e,t);var a=this.currentPath.shape.points,o=a[a.length-2],s=a[a.length-1],l=s-t,u=o-e,h=n-t,d=i-e,c=Math.abs(l*d-u*h);if(c<1e-8||0===r)a[a.length-2]===e&&a[a.length-1]===t||a.push(e,t);else{var p=l*l+u*u,f=h*h+d*d,m=l*h+u*d,_=r*Math.sqrt(p)/c,g=r*Math.sqrt(f)/c,v=_*m/p,y=g*m/f,b=_*d+g*u,w=_*h+g*l,x=u*(g+v),T=l*(g+v),S=d*(_+y),M=h*(_+y),L=Math.atan2(T-w,x-b),E=Math.atan2(M-w,S-b);this.arc(b+e,w+t,r,L,E,d*l<u*h)}return this.dirty++,this},Graphics.prototype.arc=function(e,t,i,n,r){var a=5<arguments.length&&void 0!==arguments[5]&&arguments[5];if(n===r)return this;!a&&r<=n?r+=L.PI_2:a&&n<=r&&(n+=L.PI_2);var o=r-n,s=Graphics.CURVES.adaptive?this._segmentsCount(Math.abs(o)*i):40*Math.ceil(Math.abs(o)/L.PI_2);if(0==o)return this;var l=e+Math.cos(n)*i,u=t+Math.sin(n)*i,h=this.currentPath?this.currentPath.shape.points:null;if(h){var d=Math.abs(h[h.length-2]-l),c=Math.abs(h[h.length-1]-u);d<.001&&c<.001||h.push(l,u)}else this.moveTo(l,u),h=this.currentPath.shape.points;for(var p=o/(2*s),f=2*p,m=Math.cos(p),_=Math.sin(p),g=s-1,v=g%1/g,y=0;y<=g;++y){var b=y+v*y,w=p+n+f*b,x=Math.cos(w),T=-Math.sin(w);h.push((m*x+_*T)*i+e,(m*-T+_*x)*i+t)}return this.dirty++,this},Graphics.prototype.beginFill=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=e,this.fillAlpha=t,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},Graphics.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},Graphics.prototype.drawRect=function(e,t,i,n){return this.drawShape(new p.Rectangle(e,t,i,n)),this},Graphics.prototype.drawRoundedRect=function(e,t,i,n,r){return this.drawShape(new p.RoundedRectangle(e,t,i,n,r)),this},Graphics.prototype.drawCircle=function(e,t,i){return this.drawShape(new p.Circle(e,t,i)),this},Graphics.prototype.drawEllipse=function(e,t,i,n){return this.drawShape(new p.Ellipse(e,t,i,n)),this},Graphics.prototype.drawPolygon=function(e){var t=e,i=!0;if(t instanceof p.Polygon&&(i=t.closed,t=t.points),!Array.isArray(t)){t=new Array(arguments.length);for(var n=0;n<t.length;++n)t[n]=arguments[n]}var r=new p.Polygon(t);return r.closed=i,this.drawShape(r),this},Graphics.prototype.drawStar=function(e,t,i,n,r){var a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;r=r||n/2;for(var o=-1*Math.PI/2+a,s=2*i,l=L.PI_2/s,u=[],h=0;h<s;h++){var d=h%2?r:n,c=h*l+o;u.push(e+d*Math.cos(c),t+d*Math.sin(c))}return this.drawPolygon(u)},Graphics.prototype.clear=function(){return(this.lineWidth||this.filling||0<this.graphicsData.length)&&(this.lineWidth=0,this.lineAlignment=.5,this.filling=!1,this.boundsDirty=-1,this.canvasTintDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},Graphics.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===L.SHAPES.RECT&&!this.graphicsData[0].lineWidth},Graphics.prototype._renderWebGL=function(e){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(e):(e.setObjectRenderer(e.plugins.graphics),e.plugins.graphics.render(this))},Graphics.prototype._renderSpriteRect=function(e){var t=this.graphicsData[0].shape;this._spriteRect||(this._spriteRect=new c.default(new l.default(l.default.WHITE)));var i=this._spriteRect,n=this.graphicsData[0].fillColor;if(16777215===this.tint)i.tint=n;else if(this.tint!==this._prevRectTint||n!==this._prevRectFillColor){var r=S,a=M;(0,f.hex2rgb)(n,r),(0,f.hex2rgb)(this.tint,a),r[0]*=a[0],r[1]*=a[1],r[2]*=a[2],i.tint=(0,f.rgb2hex)(r),this._prevRectTint=this.tint,this._prevRectFillColor=n}i.alpha=this.graphicsData[0].fillAlpha,i.worldAlpha=this.worldAlpha*i.alpha,i.blendMode=this.blendMode,i._texture._frame.width=t.width,i._texture._frame.height=t.height,i.transform.worldTransform=this.transform.worldTransform,i.anchor.set(-t.x/t.width,-t.y/t.height),i._onAnchorUpdate(),i._renderWebGL(e)},Graphics.prototype._renderCanvas=function(e){!0!==this.isMask&&e.plugins.graphics.render(this)},Graphics.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var e=this._localBounds;this._bounds.addFrame(this.transform,e.minX,e.minY,e.maxX,e.maxY)},Graphics.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,T);for(var t=this.graphicsData,i=0;i<t.length;++i){var n=t[i];if(n.fill&&(n.shape&&n.shape.contains(T.x,T.y))){var r=!1;if(n.holes)for(var a=0;a<n.holes.length;a++){var o=n.holes[a];if(o.contains(T.x,T.y)){r=!0;break}}if(!r)return!0}}return!1},Graphics.prototype.updateLocalBounds=function(){var e=1/0,t=-1/0,i=1/0,n=-1/0;if(this.graphicsData.length)for(var r=0,a=0,o=0,s=0,l=0,u=0;u<this.graphicsData.length;u++){var h=this.graphicsData[u],d=h.type,c=h.lineWidth,p=h.lineAlignment,f=c*p;if(r=h.shape,d===L.SHAPES.RECT||d===L.SHAPES.RREC)a=r.x-f,o=r.y-f,s=r.width+2*f,l=r.height+2*f,e=a<e?a:e,t=t<a+s?a+s:t,i=o<i?o:i,n=n<o+l?o+l:n;else if(d===L.SHAPES.CIRC)a=r.x,o=r.y,s=r.radius+f,l=r.radius+f,e=a-s<e?a-s:e,t=t<a+s?a+s:t,i=o-l<i?o-l:i,n=n<o+l?o+l:n;else if(d===L.SHAPES.ELIP)a=r.x,o=r.y,s=r.width+f,l=r.height+f,e=a-s<e?a-s:e,t=t<a+s?a+s:t,i=o-l<i?o-l:i,n=n<o+l?o+l:n;else for(var m=r.points,_=0,g=0,v=0,y=0,b=0,w=0,x=0,T=0,S=0;S+2<m.length;S+=2)a=m[S],o=m[S+1],_=m[S+2],g=m[S+3],v=Math.abs(_-a),y=Math.abs(g-o),l=2*f,(s=Math.sqrt(v*v+y*y))<1e-9||(e=(x=(_+a)/2)-(b=(l/s*y+v)/2)<e?x-b:e,t=t<x+b?x+b:t,i=(T=(g+o)/2)-(w=(l/s*v+y)/2)<i?T-w:i,n=n<T+w?T+w:n)}else n=i=t=e=0;var M=this.boundsPadding;this._localBounds.minX=e-M,this._localBounds.maxX=t+M,this._localBounds.minY=i-M,this._localBounds.maxY=n+M},Graphics.prototype.drawShape=function(e){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var t=new h.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,this.nativeLines,e,this.lineAlignment);return this.graphicsData.push(t),t.type===L.SHAPES.POLY&&(t.shape.closed=t.shape.closed,this.currentPath=t),this.dirty++,t},Graphics.prototype.generateCanvasTexture=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1,i=this.getLocalBounds(),n=o.default.create(i.width,i.height,e,t);w=w||new b.default,this.transform.updateLocalTransform(),this.transform.localTransform.copy(x),x.invert(),x.tx-=i.x,x.ty-=i.y,w.render(this,n,!0,x);var r=l.default.fromCanvas(n.baseTexture._canvasRenderTarget.canvas,e,"graphics");return r.baseTexture.resolution=t,r.baseTexture.update(),r},Graphics.prototype.closePath=function(){var e=this.currentPath;return e&&e.shape&&e.shape.close(),this},Graphics.prototype.addHole=function(){var e=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(e.shape),this.currentPath=null,this},Graphics.prototype.destroy=function(e){r.prototype.destroy.call(this,e);for(var t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();for(var i in this._webGL)for(var n=0;n<this._webGL[i].data.length;++n)this._webGL[i].data[n].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webGL=null,this._localBounds=null},Graphics}(r.default);(i.default=E)._SPRITE_TEXTURE=null,E.CURVES={adaptive:!1,maxLength:10,minSegments:8,maxSegments:2048}},{"../const":46,"../display/Bounds":47,"../display/Container":48,"../math":70,"../renderers/canvas/CanvasRenderer":77,"../sprites/Sprite":102,"../textures/RenderTexture":113,"../textures/Texture":115,"../utils":125,"./GraphicsData":54,"./utils/bezierCurveTo":56}],54:[function(e,t,i){i.__esModule=!0;var n=function(){function GraphicsData(e,t,i,n,r,a,o,s,l){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GraphicsData),this.lineWidth=e,this.lineAlignment=l,this.nativeLines=o,this.lineColor=t,this.lineAlpha=i,this._lineTint=t,this.fillColor=n,this.fillAlpha=r,this._fillTint=n,this.fill=a,this.holes=[],this.shape=s,this.type=s.type}return GraphicsData.prototype.clone=function(){return new GraphicsData(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.nativeLines,this.shape,this.lineAlignment)},GraphicsData.prototype.addHole=function(e){this.holes.push(e)},GraphicsData.prototype.destroy=function(){this.shape=null,this.holes=null},GraphicsData}();i.default=n},{}],55:[function(e,t,i){i.__esModule=!0;var n=e("../../renderers/canvas/CanvasRenderer"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),Y=e("../../const");var a=function(){function CanvasGraphicsRenderer(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CanvasGraphicsRenderer),this.renderer=e}return CanvasGraphicsRenderer.prototype.render=function(e){var t=this.renderer,i=t.context,n=e.worldAlpha,r=e.transform.worldTransform,a=t.resolution;i.setTransform(r.a*a,r.b*a,r.c*a,r.d*a,r.tx*a,r.ty*a),e.canvasTintDirty===e.dirty&&e._prevTint===e.tint||this.updateGraphicsTint(e),t.setBlendMode(e.blendMode);for(var o=0;o<e.graphicsData.length;o++){var s=e.graphicsData[o],l=s.shape,u=s._fillTint,h=s._lineTint;if(i.lineWidth=s.lineWidth,s.type===Y.SHAPES.POLY){i.beginPath();var d=l.points,c=s.holes,p=void 0,f=void 0,m=void 0,_=void 0;i.moveTo(d[0],d[1]);for(var g=2;g<d.length;g+=2)i.lineTo(d[g],d[g+1]);if(l.closed&&i.closePath(),0<c.length){m=d[p=0],_=d[1];for(var v=2;v+2<d.length;v+=2)p+=(d[v]-m)*(d[v+3]-_)-(d[v+2]-m)*(d[v+1]-_);for(var y=0;y<c.length;y++)if(d=c[y].points){m=d[f=0],_=d[1];for(var b=2;b+2<d.length;b+=2)f+=(d[b]-m)*(d[b+3]-_)-(d[b+2]-m)*(d[b+1]-_);if(f*p<0){i.moveTo(d[0],d[1]);for(var w=2;w<d.length;w+=2)i.lineTo(d[w],d[w+1])}else{i.moveTo(d[d.length-2],d[d.length-1]);for(var x=d.length-4;0<=x;x-=2)i.lineTo(d[x],d[x+1])}c[y].close&&i.closePath()}}s.fill&&(i.globalAlpha=s.fillAlpha*n,i.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),i.fill()),s.lineWidth&&(i.globalAlpha=s.lineAlpha*n,i.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),i.stroke())}else if(s.type===Y.SHAPES.RECT)!s.fillColor&&0!==s.fillColor||(i.globalAlpha=s.fillAlpha*n,i.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),i.fillRect(l.x,l.y,l.width,l.height)),s.lineWidth&&(i.globalAlpha=s.lineAlpha*n,i.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),i.strokeRect(l.x,l.y,l.width,l.height));else if(s.type===Y.SHAPES.CIRC)i.beginPath(),i.arc(l.x,l.y,l.radius,0,2*Math.PI),i.closePath(),s.fill&&(i.globalAlpha=s.fillAlpha*n,i.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),i.fill()),s.lineWidth&&(i.globalAlpha=s.lineAlpha*n,i.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),i.stroke());else if(s.type===Y.SHAPES.ELIP){var T=2*l.width,S=2*l.height,M=l.x-T/2,L=l.y-S/2;i.beginPath();var E=T/2*.5522848,C=S/2*.5522848,A=M+T,P=L+S,D=M+T/2,R=L+S/2;i.moveTo(M,R),i.bezierCurveTo(M,R-C,D-E,L,D,L),i.bezierCurveTo(D+E,L,A,R-C,A,R),i.bezierCurveTo(A,R+C,D+E,P,D,P),i.bezierCurveTo(D-E,P,M,R+C,M,R),i.closePath(),s.fill&&(i.globalAlpha=s.fillAlpha*n,i.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),i.fill()),s.lineWidth&&(i.globalAlpha=s.lineAlpha*n,i.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),i.stroke())}else if(s.type===Y.SHAPES.RREC){var k=l.x,I=l.y,O=l.width,B=l.height,N=l.radius,F=Math.min(O,B)/2|0;N=F<N?F:N,i.beginPath(),i.moveTo(k,I+N),i.lineTo(k,I+B-N),i.quadraticCurveTo(k,I+B,k+N,I+B),i.lineTo(k+O-N,I+B),i.quadraticCurveTo(k+O,I+B,k+O,I+B-N),i.lineTo(k+O,I+N),i.quadraticCurveTo(k+O,I,k+O-N,I),i.lineTo(k+N,I),i.quadraticCurveTo(k,I,k,I+N),i.closePath(),!s.fillColor&&0!==s.fillColor||(i.globalAlpha=s.fillAlpha*n,i.fillStyle="#"+("00000"+(0|u).toString(16)).substr(-6),i.fill()),s.lineWidth&&(i.globalAlpha=s.lineAlpha*n,i.strokeStyle="#"+("00000"+(0|h).toString(16)).substr(-6),i.stroke())}}},CanvasGraphicsRenderer.prototype.updateGraphicsTint=function(e){e._prevTint=e.tint,e.canvasTintDirty=e.dirty;for(var t=(e.tint>>16&255)/255,i=(e.tint>>8&255)/255,n=(255&e.tint)/255,r=0;r<e.graphicsData.length;++r){var a=e.graphicsData[r],o=0|a.fillColor,s=0|a.lineColor;a._fillTint=((o>>16&255)/255*t*255<<16)+((o>>8&255)/255*i*255<<8)+(255&o)/255*n*255,a._lineTint=((s>>16&255)/255*t*255<<16)+((s>>8&255)/255*i*255<<8)+(255&s)/255*n*255}},CanvasGraphicsRenderer.prototype.renderPolygon=function(e,t,i){i.moveTo(e[0],e[1]);for(var n=1;n<e.length/2;++n)i.lineTo(e[2*n],e[2*n+1]);t&&i.closePath()},CanvasGraphicsRenderer.prototype.destroy=function(){this.renderer=null},CanvasGraphicsRenderer}();i.default=a,r.default.registerPlugin("graphics",a)},{"../../const":46,"../../renderers/canvas/CanvasRenderer":77}],56:[function(e,t,i){i.__esModule=!0,i.default=function(e,t,i,n,r,a,o,s,l){var u=9<arguments.length&&void 0!==arguments[9]?arguments[9]:[],h=0,d=0,c=0,p=0,f=0;u.push(e,t);for(var m=1,_=0;m<=l;++m)c=(d=(h=1-(_=m/l))*h)*h,f=(p=_*_)*_,u.push(c*e+3*d*_*i+3*h*p*r+f*o,c*t+3*d*_*n+3*h*p*a+f*s);return u}},{}],57:[function(e,t,i){i.__esModule=!0;var u=e("../../utils"),h=e("../../const"),n=e("../../renderers/webgl/utils/ObjectRenderer"),r=_interopRequireDefault(n),a=e("../../renderers/webgl/WebGLRenderer"),o=_interopRequireDefault(a),s=e("./WebGLGraphicsData"),l=_interopRequireDefault(s),d=e("./shaders/PrimitiveShader"),c=_interopRequireDefault(d),p=e("./utils/buildPoly"),f=_interopRequireDefault(p),m=e("./utils/buildRectangle"),_=_interopRequireDefault(m),g=e("./utils/buildRoundedRectangle"),v=_interopRequireDefault(g),y=e("./utils/buildCircle"),b=_interopRequireDefault(y);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var w=function(i){function GraphicsRenderer(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,GraphicsRenderer);var t=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,i.call(this,e));return t.graphicsDataPool=[],t.primitiveShader=null,t.gl=e.gl,t.CONTEXT_UID=0,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(GraphicsRenderer,i),GraphicsRenderer.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new c.default(this.gl)},GraphicsRenderer.prototype.destroy=function(){r.default.prototype.destroy.call(this);for(var e=0;e<this.graphicsDataPool.length;++e)this.graphicsDataPool[e].destroy();this.graphicsDataPool=null},GraphicsRenderer.prototype.render=function(e){var t=this.renderer,i=t.gl,n=void 0,r=e._webGL[this.CONTEXT_UID];r&&e.dirty===r.dirty||(this.updateGraphics(e),r=e._webGL[this.CONTEXT_UID]);var a=this.primitiveShader;t.bindShader(a),t.state.setBlendMode(e.blendMode);for(var o=0,s=r.data.length;o<s;o++){var l=(n=r.data[o]).shader;t.bindShader(l),l.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),l.uniforms.tint=(0,u.hex2rgb)(e.tint),l.uniforms.alpha=e.worldAlpha,t.bindVao(n.vao),n.nativeLines?i.drawArrays(i.LINES,0,n.points.length/6):n.vao.draw(i.TRIANGLE_STRIP,n.indices.length)}},GraphicsRenderer.prototype.updateGraphics=function(e){var t=this.renderer.gl,i=e._webGL[this.CONTEXT_UID];if((i=i||(e._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:t,clearDirty:-1,dirty:-1})).dirty=e.dirty,e.clearDirty!==i.clearDirty){i.clearDirty=e.clearDirty;for(var n=0;n<i.data.length;n++)this.graphicsDataPool.push(i.data[n]);i.data.length=0,i.lastIndex=0}for(var r=void 0,a=void 0,o=i.lastIndex;o<e.graphicsData.length;o++){var s=e.graphicsData[o];r=this.getWebGLData(i,0),s.nativeLines&&s.lineWidth&&(a=this.getWebGLData(i,0,!0),i.lastIndex++),s.type===h.SHAPES.POLY&&(0,f.default)(s,r,a),s.type===h.SHAPES.RECT?(0,_.default)(s,r,a):s.type===h.SHAPES.CIRC||s.type===h.SHAPES.ELIP?(0,b.default)(s,r,a):s.type===h.SHAPES.RREC&&(0,v.default)(s,r,a),i.lastIndex++}this.renderer.bindVao(null);for(var l=0;l<i.data.length;l++)(r=i.data[l]).dirty&&r.upload()},GraphicsRenderer.prototype.getWebGLData=function(e,t,i){var n=e.data[e.data.length-1];return(!n||n.nativeLines!==i||32e4<n.points.length)&&((n=this.graphicsDataPool.pop()||new l.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState)).nativeLines=i,n.reset(t),e.data.push(n)),n.dirty=!0,n},GraphicsRenderer}(r.default);i.default=w,o.default.registerPlugin("graphics",w)},{"../../const":46,"../../renderers/webgl/WebGLRenderer":84,"../../renderers/webgl/utils/ObjectRenderer":94,"../../utils":125,"./WebGLGraphicsData":58,"./shaders/PrimitiveShader":59,"./utils/buildCircle":60,"./utils/buildPoly":62,"./utils/buildRectangle":63,"./utils/buildRoundedRectangle":64}],58:[function(e,t,i){i.__esModule=!0;var n=e("pixi-gl-core"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);var a=function(){function WebGLGraphicsData(e,t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WebGLGraphicsData),this.gl=e,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=r.default.GLBuffer.createVertexBuffer(e),this.indexBuffer=r.default.GLBuffer.createIndexBuffer(e),this.dirty=!0,this.nativeLines=!1,this.glPoints=null,this.glIndices=null,this.shader=t,this.vao=new r.default.VertexArrayObject(e,i).addIndex(this.indexBuffer).addAttribute(this.buffer,t.attributes.aVertexPosition,e.FLOAT,!1,24,0).addAttribute(this.buffer,t.attributes.aColor,e.FLOAT,!1,24,8)}return WebGLGraphicsData.prototype.reset=function(){this.points.length=0,this.indices.length=0},WebGLGraphicsData.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},WebGLGraphicsData.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},WebGLGraphicsData}();i.default=a},{"pixi-gl-core":15}],59:[function(e,t,i){i.__esModule=!0;var n=e("../../../Shader"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);var a=function(t){function PrimitiveShader(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,PrimitiveShader),function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,t.call(this,e,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join("\n"),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join("\n")))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(PrimitiveShader,t),PrimitiveShader}(r.default);i.default=a},{"../../../Shader":44}],60:[function(e,t,i){i.__esModule=!0,i.default=function(e,t,i){var n=e.shape,r=n.x,a=n.y,o=void 0,s=void 0;s=e.type===x.SHAPES.CIRC?(o=n.radius,n.radius):(o=n.width,n.height);if(0===o||0===s)return;var l=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(n.width+n.height)),u=2*Math.PI/l;if(e.fill){var h=(0,T.hex2rgb)(e.fillColor),d=e.fillAlpha,c=h[0]*d,p=h[1]*d,f=h[2]*d,m=t.points,_=t.indices,g=m.length/6;_.push(g);for(var v=0;v<l+1;v++)m.push(r,a,c,p,f,d),m.push(r+Math.sin(u*v)*o,a+Math.cos(u*v)*s,c,p,f,d),_.push(g++,g++);_.push(g-1)}if(e.lineWidth){var y=e.points;e.points=[];for(var b=0;b<l;b++)e.points.push(r+Math.sin(u*-b)*o,a+Math.cos(u*-b)*s);e.points.push(e.points[0],e.points[1]),(0,w.default)(e,t,i),e.points=y}};var n=e("./buildLine"),w=function(e){return e&&e.__esModule?e:{default:e}}(n),x=e("../../../const"),T=e("../../../utils")},{"../../../const":46,"../../../utils":125,"./buildLine":61}],61:[function(e,t,i){i.__esModule=!0,i.default=function(e,t,i){e.nativeLines?function(e,t){var i=0,n=e.points;if(0===n.length)return;var r=t.points,a=n.length/2,o=(0,V.hex2rgb)(e.lineColor),s=e.lineAlpha,l=o[0]*s,u=o[1]*s,h=o[2]*s;for(i=1;i<a;i++){var d=n[2*(i-1)],c=n[2*(i-1)+1],p=n[2*i],f=n[2*i+1];r.push(d,c),r.push(l,u,h,s),r.push(p,f),r.push(l,u,h,s)}}(e,i):function(e,t){var i=e.points;if(0===i.length)return;var n=new W.Point(i[0],i[1]),r=new W.Point(i[i.length-2],i[i.length-1]);if(n.x===r.x&&n.y===r.y){(i=i.slice()).pop(),i.pop();var a=(r=new W.Point(i[i.length-2],i[i.length-1])).x+.5*(n.x-r.x),o=r.y+.5*(n.y-r.y);i.unshift(a,o),i.push(a,o)}var s=t.points,l=t.indices,u=i.length/2,h=i.length,d=s.length/6,c=e.lineWidth/2,p=(0,V.hex2rgb)(e.lineColor),f=e.lineAlpha,m=p[0]*f,_=p[1]*f,g=p[2]*f,v=i[0],y=i[1],b=i[2],w=i[3],x=0,T=0,S=-(y-w),M=v-b,L=0,E=0,C=0,A=0,P=Math.sqrt(S*S+M*M);S/=P,M/=P,S*=c,M*=c;var D=e.lineAlignment,R=2*(1-D),k=2*D;s.push(v-S*R,y-M*R,m,_,g,f),s.push(v+S*k,y+M*k,m,_,g,f);for(var I=1;I<u-1;++I){v=i[2*(I-1)],y=i[2*(I-1)+1],b=i[2*I],w=i[2*I+1],x=i[2*(I+1)],T=i[2*(I+1)+1],S=-(y-w),M=v-b,P=Math.sqrt(S*S+M*M),S/=P,M/=P,S*=c,M*=c,L=-(w-T),E=b-x,P=Math.sqrt(L*L+E*E),L/=P,E/=P;var O=-M+y-(-M+w),B=-S+b-(-S+v),N=(-S+v)*(-M+w)-(-S+b)*(-M+y),F=-(E*=c)+T-(-E+w),Y=-(L*=c)+b-(-L+x),U=(-L+x)*(-E+w)-(-L+b)*(-E+T),j=O*Y-F*B;if(Math.abs(j)<.1)j+=10.1,s.push(b-S*R,w-M*R,m,_,g,f),s.push(b+S*k,w+M*k,m,_,g,f);else{var z=(B*U-Y*N)/j,G=(F*N-O*U)/j;196*c*c<(z-b)*(z-b)+(G-w)*(G-w)?(C=S-L,A=M-E,P=Math.sqrt(C*C+A*A),C/=P,A/=P,C*=c,A*=c,s.push(b-C*R,w-A*R),s.push(m,_,g,f),s.push(b+C*k,w+A*k),s.push(m,_,g,f),s.push(b-C*k*R,w-A*R),s.push(m,_,g,f),h++):(s.push(b+(z-b)*R,w+(G-w)*R),s.push(m,_,g,f),s.push(b-(z-b)*k,w-(G-w)*k),s.push(m,_,g,f))}}v=i[2*(u-2)],y=i[2*(u-2)+1],b=i[2*(u-1)],w=i[2*(u-1)+1],S=-(y-w),M=v-b,P=Math.sqrt(S*S+M*M),S/=P,M/=P,S*=c,M*=c,s.push(b-S*R,w-M*R),s.push(m,_,g,f),s.push(b+S*k,w+M*k),s.push(m,_,g,f),l.push(d);for(var H=0;H<h;++H)l.push(d++);l.push(d-1)}(e,t)};var W=e("../../../math"),V=e("../../../utils")},{"../../../math":70,"../../../utils":125}],62:[function(e,t,i){i.__esModule=!0,i.default=function(e,t,i){e.points=e.shape.points.slice();var n=e.points;if(e.fill&&6<=n.length){for(var r=[],a=e.holes,o=0;o<a.length;o++){var s=a[o];r.push(n.length/2),n=n.concat(s.points)}var l=t.points,u=t.indices,h=n.length/2,d=(0,w.hex2rgb)(e.fillColor),c=e.fillAlpha,p=d[0]*c,f=d[1]*c,m=d[2]*c,_=(0,x.default)(n,r,2);if(!_)return;for(var g=l.length/6,v=0;v<_.length;v+=3)u.push(_[v]+g),u.push(_[v]+g),u.push(_[v+1]+g),u.push(_[v+2]+g),u.push(_[v+2]+g);for(var y=0;y<h;y++)l.push(n[2*y],n[2*y+1],p,f,m,c)}0<e.lineWidth&&(0,b.default)(e,t,i)};var n=e("./buildLine"),b=_interopRequireDefault(n),w=e("../../../utils"),r=e("earcut"),x=_interopRequireDefault(r);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}},{"../../../utils":125,"./buildLine":61,earcut:2}],63:[function(e,t,i){i.__esModule=!0,i.default=function(e,t,i){var n=e.shape,r=n.x,a=n.y,o=n.width,s=n.height;if(e.fill){var l=(0,v.hex2rgb)(e.fillColor),u=e.fillAlpha,h=l[0]*u,d=l[1]*u,c=l[2]*u,p=t.points,f=t.indices,m=p.length/6;p.push(r,a),p.push(h,d,c,u),p.push(r+o,a),p.push(h,d,c,u),p.push(r,a+s),p.push(h,d,c,u),p.push(r+o,a+s),p.push(h,d,c,u),f.push(m,m,1+m,2+m,3+m,3+m)}if(e.lineWidth){var _=e.points;e.points=[r,a,r+o,a,r+o,a+s,r,a+s,r,a],(0,g.default)(e,t,i),e.points=_}};var n=e("./buildLine"),g=function(e){return e&&e.__esModule?e:{default:e}}(n),v=e("../../../utils")},{"../../../utils":125,"./buildLine":61}],64:[function(e,t,i){i.__esModule=!0,i.default=function(e,t,i){var n=e.shape,r=n.x,a=n.y,o=n.width,s=n.height,l=n.radius,u=[];if(u.push(r+l,a),quadraticBezierCurve(r+o-l,a,r+o,a,r+o,a+l,u),quadraticBezierCurve(r+o,a+s-l,r+o,a+s,r+o-l,a+s,u),quadraticBezierCurve(r+l,a+s,r,a+s,r,a+s-l,u),quadraticBezierCurve(r,a+l,r,a,r+l+1e-10,a,u),e.fill){for(var h=(0,L.hex2rgb)(e.fillColor),d=e.fillAlpha,c=h[0]*d,p=h[1]*d,f=h[2]*d,m=t.points,_=t.indices,g=m.length/6,v=(0,S.default)(u,null,2),y=0,b=v.length;y<b;y+=3)_.push(v[y]+g),_.push(v[y]+g),_.push(v[y+1]+g),_.push(v[y+2]+g),_.push(v[y+2]+g);for(var w=0,x=u.length;w<x;w++)m.push(u[w],u[++w],c,p,f,d)}if(e.lineWidth){var T=e.points;e.points=u,(0,M.default)(e,t,i),e.points=T}};var n=e("earcut"),S=_interopRequireDefault(n),r=e("./buildLine"),M=_interopRequireDefault(r),L=e("../../../utils");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getPt(e,t,i){var n=t-e;return e+n*i}function quadraticBezierCurve(e,t,i,n,r,a){for(var o=6<arguments.length&&void 0!==arguments[6]?arguments[6]:[],s=o,l=0,u=0,h=0,d=0,c=0,p=0,f=0,m=0;f<=20;++f)l=getPt(e,i,m=f/20),u=getPt(t,n,m),h=getPt(i,r,m),d=getPt(n,a,m),c=getPt(l,h,m),p=getPt(u,d,m),s.push(c,p);return s}},{"../../../utils":125,"./buildLine":61,earcut:2}],65:[function(e,t,i){i.__esModule=!0,i.autoDetectRenderer=i.Application=i.Filter=i.SpriteMaskFilter=i.Quad=i.RenderTarget=i.ObjectRenderer=i.WebGLManager=i.Shader=i.CanvasRenderTarget=i.TextureUvs=i.VideoBaseTexture=i.BaseRenderTexture=i.RenderTexture=i.BaseTexture=i.TextureMatrix=i.Texture=i.Spritesheet=i.CanvasGraphicsRenderer=i.GraphicsRenderer=i.GraphicsData=i.Graphics=i.TextMetrics=i.TextStyle=i.Text=i.SpriteRenderer=i.CanvasTinter=i.CanvasSpriteRenderer=i.Sprite=i.TransformBase=i.TransformStatic=i.Transform=i.Container=i.DisplayObject=i.Bounds=i.glCore=i.WebGLRenderer=i.CanvasRenderer=i.ticker=i.utils=i.settings=void 0;var n=e("./const");Object.keys(n).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(i,e,{enumerable:!0,get:function(){return n[e]}})});var r=e("./math");Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(i,e,{enumerable:!0,get:function(){return r[e]}})});var a=e("pixi-gl-core");Object.defineProperty(i,"glCore",{enumerable:!0,get:function(){return _interopRequireDefault(a).default}});var o=e("./display/Bounds");Object.defineProperty(i,"Bounds",{enumerable:!0,get:function(){return _interopRequireDefault(o).default}});var s=e("./display/DisplayObject");Object.defineProperty(i,"DisplayObject",{enumerable:!0,get:function(){return _interopRequireDefault(s).default}});var l=e("./display/Container");Object.defineProperty(i,"Container",{enumerable:!0,get:function(){return _interopRequireDefault(l).default}});var u=e("./display/Transform");Object.defineProperty(i,"Transform",{enumerable:!0,get:function(){return _interopRequireDefault(u).default}});var h=e("./display/TransformStatic");Object.defineProperty(i,"TransformStatic",{enumerable:!0,get:function(){return _interopRequireDefault(h).default}});var d=e("./display/TransformBase");Object.defineProperty(i,"TransformBase",{enumerable:!0,get:function(){return _interopRequireDefault(d).default}});var c=e("./sprites/Sprite");Object.defineProperty(i,"Sprite",{enumerable:!0,get:function(){return _interopRequireDefault(c).default}});var p=e("./sprites/canvas/CanvasSpriteRenderer");Object.defineProperty(i,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return _interopRequireDefault(p).default}});var f=e("./sprites/canvas/CanvasTinter");Object.defineProperty(i,"CanvasTinter",{enumerable:!0,get:function(){return _interopRequireDefault(f).default}});var m=e("./sprites/webgl/SpriteRenderer");Object.defineProperty(i,"SpriteRenderer",{enumerable:!0,get:function(){return _interopRequireDefault(m).default}});var _=e("./text/Text");Object.defineProperty(i,"Text",{enumerable:!0,get:function(){return _interopRequireDefault(_).default}});var g=e("./text/TextStyle");Object.defineProperty(i,"TextStyle",{enumerable:!0,get:function(){return _interopRequireDefault(g).default}});var v=e("./text/TextMetrics");Object.defineProperty(i,"TextMetrics",{enumerable:!0,get:function(){return _interopRequireDefault(v).default}});var y=e("./graphics/Graphics");Object.defineProperty(i,"Graphics",{enumerable:!0,get:function(){return _interopRequireDefault(y).default}});var b=e("./graphics/GraphicsData");Object.defineProperty(i,"GraphicsData",{enumerable:!0,get:function(){return _interopRequireDefault(b).default}});var w=e("./graphics/webgl/GraphicsRenderer");Object.defineProperty(i,"GraphicsRenderer",{enumerable:!0,get:function(){return _interopRequireDefault(w).default}});var x=e("./graphics/canvas/CanvasGraphicsRenderer");Object.defineProperty(i,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return _interopRequireDefault(x).default}});var T=e("./textures/Spritesheet");Object.defineProperty(i,"Spritesheet",{enumerable:!0,get:function(){return _interopRequireDefault(T).default}});var S=e("./textures/Texture");Object.defineProperty(i,"Texture",{enumerable:!0,get:function(){return _interopRequireDefault(S).default}});var M=e("./textures/TextureMatrix");Object.defineProperty(i,"TextureMatrix",{enumerable:!0,get:function(){return _interopRequireDefault(M).default}});var L=e("./textures/BaseTexture");Object.defineProperty(i,"BaseTexture",{enumerable:!0,get:function(){return _interopRequireDefault(L).default}});var E=e("./textures/RenderTexture");Object.defineProperty(i,"RenderTexture",{enumerable:!0,get:function(){return _interopRequireDefault(E).default}});var C=e("./textures/BaseRenderTexture");Object.defineProperty(i,"BaseRenderTexture",{enumerable:!0,get:function(){return _interopRequireDefault(C).default}});var A=e("./textures/VideoBaseTexture");Object.defineProperty(i,"VideoBaseTexture",{enumerable:!0,get:function(){return _interopRequireDefault(A).default}});var P=e("./textures/TextureUvs");Object.defineProperty(i,"TextureUvs",{enumerable:!0,get:function(){return _interopRequireDefault(P).default}});var D=e("./renderers/canvas/utils/CanvasRenderTarget");Object.defineProperty(i,"CanvasRenderTarget",{enumerable:!0,get:function(){return _interopRequireDefault(D).default}});var R=e("./Shader");Object.defineProperty(i,"Shader",{enumerable:!0,get:function(){return _interopRequireDefault(R).default}});var k=e("./renderers/webgl/managers/WebGLManager");Object.defineProperty(i,"WebGLManager",{enumerable:!0,get:function(){return _interopRequireDefault(k).default}});var I=e("./renderers/webgl/utils/ObjectRenderer");Object.defineProperty(i,"ObjectRenderer",{enumerable:!0,get:function(){return _interopRequireDefault(I).default}});var O=e("./renderers/webgl/utils/RenderTarget");Object.defineProperty(i,"RenderTarget",{enumerable:!0,get:function(){return _interopRequireDefault(O).default}});var B=e("./renderers/webgl/utils/Quad");Object.defineProperty(i,"Quad",{enumerable:!0,get:function(){return _interopRequireDefault(B).default}});var N=e("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");Object.defineProperty(i,"SpriteMaskFilter",{enumerable:!0,get:function(){return _interopRequireDefault(N).default}});var F=e("./renderers/webgl/filters/Filter");Object.defineProperty(i,"Filter",{enumerable:!0,get:function(){return _interopRequireDefault(F).default}});var Y=e("./Application");Object.defineProperty(i,"Application",{enumerable:!0,get:function(){return _interopRequireDefault(Y).default}});var U=e("./autoDetectRenderer");Object.defineProperty(i,"autoDetectRenderer",{enumerable:!0,get:function(){return U.autoDetectRenderer}});var j=e("./utils"),z=_interopRequireWildcard(j),G=e("./ticker"),H=_interopRequireWildcard(G),W=e("./settings"),V=_interopRequireDefault(W),q=e("./renderers/canvas/CanvasRenderer"),X=_interopRequireDefault(q),K=e("./renderers/webgl/WebGLRenderer"),J=_interopRequireDefault(K);function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}i.settings=V.default,i.utils=z,i.ticker=H,i.CanvasRenderer=X.default,i.WebGLRenderer=J.default},{"./Application":43,"./Shader":44,"./autoDetectRenderer":45,"./const":46,"./display/Bounds":47,"./display/Container":48,"./display/DisplayObject":49,"./display/Transform":50,"./display/TransformBase":51,"./display/TransformStatic":52,"./graphics/Graphics":53,"./graphics/GraphicsData":54,"./graphics/canvas/CanvasGraphicsRenderer":55,"./graphics/webgl/GraphicsRenderer":57,"./math":70,"./renderers/canvas/CanvasRenderer":77,"./renderers/canvas/utils/CanvasRenderTarget":79,"./renderers/webgl/WebGLRenderer":84,"./renderers/webgl/filters/Filter":86,"./renderers/webgl/filters/spriteMask/SpriteMaskFilter":89,"./renderers/webgl/managers/WebGLManager":93,"./renderers/webgl/utils/ObjectRenderer":94,"./renderers/webgl/utils/Quad":95,"./renderers/webgl/utils/RenderTarget":96,"./settings":101,"./sprites/Sprite":102,"./sprites/canvas/CanvasSpriteRenderer":103,"./sprites/canvas/CanvasTinter":104,"./sprites/webgl/SpriteRenderer":106,"./text/Text":108,"./text/TextMetrics":109,"./text/TextStyle":110,"./textures/BaseRenderTexture":111,"./textures/BaseTexture":112,"./textures/RenderTexture":113,"./textures/Spritesheet":114,"./textures/Texture":115,"./textures/TextureMatrix":116,"./textures/TextureUvs":117,"./textures/VideoBaseTexture":118,"./ticker":121,"./utils":125,"pixi-gl-core":15}],66:[function(e,t,i){i.__esModule=!0;var n=e("./Matrix"),h=function(e){return e&&e.__esModule?e:{default:e}}(n);var d=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],c=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],p=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],f=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],m=[],_=[];function signum(e){return e<0?-1:0<e?1:0}!function(){for(var e=0;e<16;e++){var t=[];_.push(t);for(var i=0;i<16;i++)for(var n=signum(d[e]*d[i]+p[e]*c[i]),r=signum(c[e]*d[i]+f[e]*c[i]),a=signum(d[e]*p[i]+p[e]*f[i]),o=signum(c[e]*p[i]+f[e]*f[i]),s=0;s<16;s++)if(d[s]===n&&c[s]===r&&p[s]===a&&f[s]===o){t.push(s);break}}for(var l=0;l<16;l++){var u=new h.default;u.set(d[l],c[l],p[l],f[l],0,0),m.push(u)}}();var a={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(e){return d[e]},uY:function(e){return c[e]},vX:function(e){return p[e]},vY:function(e){return f[e]},inv:function(e){return 8&e?15&e:7&-e},add:function(e,t){return _[e][t]},sub:function(e,t){return _[e][a.inv(t)]},rotate180:function(e){return 4^e},isVertical:function(e){return 2==(3&e)},byDirection:function(e,t){return 2*Math.abs(e)<=Math.abs(t)?0<=t?a.S:a.N:2*Math.abs(t)<=Math.abs(e)?0<e?a.E:a.W:0<t?0<e?a.SE:a.SW:0<e?a.NE:a.NW},matrixAppendRotationInv:function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,r=m[a.inv(t)];r.tx=i,r.ty=n,e.append(r)}};i.default=a},{"./Matrix":67}],67:[function(e,t,i){i.__esModule=!0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=e("./Point"),a=function(e){return e&&e.__esModule?e:{default:e}}(r),l=e("../const");var o=function(){function Matrix(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:1,r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=5<arguments.length&&void 0!==arguments[5]?arguments[5]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Matrix),this.a=e,this.b=t,this.c=i,this.d=n,this.tx=r,this.ty=a,this.array=null}return Matrix.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},Matrix.prototype.set=function(e,t,i,n,r,a){return this.a=e,this.b=t,this.c=i,this.d=n,this.tx=r,this.ty=a,this},Matrix.prototype.toArray=function(e,t){this.array||(this.array=new Float32Array(9));var i=t||this.array;return e?(i[0]=this.a,i[1]=this.b,i[2]=0,i[3]=this.c,i[4]=this.d,i[5]=0,i[6]=this.tx,i[7]=this.ty):(i[0]=this.a,i[1]=this.c,i[2]=this.tx,i[3]=this.b,i[4]=this.d,i[5]=this.ty,i[6]=0,i[7]=0),i[8]=1,i},Matrix.prototype.apply=function(e,t){t=t||new a.default;var i=e.x,n=e.y;return t.x=this.a*i+this.c*n+this.tx,t.y=this.b*i+this.d*n+this.ty,t},Matrix.prototype.applyInverse=function(e,t){t=t||new a.default;var i=1/(this.a*this.d+this.c*-this.b),n=e.x,r=e.y;return t.x=this.d*i*n+-this.c*i*r+(this.ty*this.c-this.tx*this.d)*i,t.y=this.a*i*r+-this.b*i*n+(-this.ty*this.a+this.tx*this.b)*i,t},Matrix.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},Matrix.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},Matrix.prototype.rotate=function(e){var t=Math.cos(e),i=Math.sin(e),n=this.a,r=this.c,a=this.tx;return this.a=n*t-this.b*i,this.b=n*i+this.b*t,this.c=r*t-this.d*i,this.d=r*i+this.d*t,this.tx=a*t-this.ty*i,this.ty=a*i+this.ty*t,this},Matrix.prototype.append=function(e){var t=this.a,i=this.b,n=this.c,r=this.d;return this.a=e.a*t+e.b*n,this.b=e.a*i+e.b*r,this.c=e.c*t+e.d*n,this.d=e.c*i+e.d*r,this.tx=e.tx*t+e.ty*n+this.tx,this.ty=e.tx*i+e.ty*r+this.ty,this},Matrix.prototype.setTransform=function(e,t,i,n,r,a,o,s,l){return this.a=Math.cos(o+l)*r,this.b=Math.sin(o+l)*r,this.c=-Math.sin(o-s)*a,this.d=Math.cos(o-s)*a,this.tx=e-(i*this.a+n*this.c),this.ty=t-(i*this.b+n*this.d),this},Matrix.prototype.prepend=function(e){var t=this.tx;if(1!==e.a||0!==e.b||0!==e.c||1!==e.d){var i=this.a,n=this.c;this.a=i*e.a+this.b*e.c,this.b=i*e.b+this.b*e.d,this.c=n*e.a+this.d*e.c,this.d=n*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this},Matrix.prototype.decompose=function(e){var t=this.a,i=this.b,n=this.c,r=this.d,a=-Math.atan2(-n,r),o=Math.atan2(i,t),s=Math.abs(a+o);return s<1e-5||Math.abs(l.PI_2-s)<1e-5?(e.rotation=o,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=o),e.scale.x=Math.sqrt(t*t+i*i),e.scale.y=Math.sqrt(n*n+r*r),e.position.x=this.tx,e.position.y=this.ty,e},Matrix.prototype.invert=function(){var e=this.a,t=this.b,i=this.c,n=this.d,r=this.tx,a=e*n-t*i;return this.a=n/a,this.b=-t/a,this.c=-i/a,this.d=e/a,this.tx=(i*this.ty-n*r)/a,this.ty=-(e*this.ty-t*r)/a,this},Matrix.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},Matrix.prototype.clone=function(){var e=new Matrix;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},Matrix.prototype.copy=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},n(Matrix,null,[{key:"IDENTITY",get:function(){return new Matrix}},{key:"TEMP_MATRIX",get:function(){return new Matrix}}]),Matrix}();i.default=o},{"../const":46,"./Point":69}],68:[function(e,t,i){i.__esModule=!0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}();var r=function(){function ObservablePoint(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ObservablePoint),this._x=i,this._y=n,this.cb=e,this.scope=t}return ObservablePoint.prototype.clone=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:null,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=e||this.cb,n=t||this.scope;return new ObservablePoint(i,n,this._x,this._y)},ObservablePoint.prototype.set=function(e,t){var i=e||0,n=t||(0!==t?i:0);this._x===i&&this._y===n||(this._x=i,this._y=n,this.cb.call(this.scope))},ObservablePoint.prototype.copy=function(e){this._x===e.x&&this._y===e.y||(this._x=e.x,this._y=e.y,this.cb.call(this.scope))},ObservablePoint.prototype.equals=function(e){return e.x===this._x&&e.y===this._y},n(ObservablePoint,[{key:"x",get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}]),ObservablePoint}();i.default=r},{}],69:[function(e,t,i){i.__esModule=!0;var n=function(){function Point(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Point),this.x=e,this.y=t}return Point.prototype.clone=function(){return new Point(this.x,this.y)},Point.prototype.copy=function(e){this.set(e.x,e.y)},Point.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},Point.prototype.set=function(e,t){this.x=e||0,this.y=t||(0!==t?this.x:0)},Point}();i.default=n},{}],70:[function(e,t,i){i.__esModule=!0;var n=e("./Point");Object.defineProperty(i,"Point",{enumerable:!0,get:function(){return _interopRequireDefault(n).default}});var r=e("./ObservablePoint");Object.defineProperty(i,"ObservablePoint",{enumerable:!0,get:function(){return _interopRequireDefault(r).default}});var a=e("./Matrix");Object.defineProperty(i,"Matrix",{enumerable:!0,get:function(){return _interopRequireDefault(a).default}});var o=e("./GroupD8");Object.defineProperty(i,"GroupD8",{enumerable:!0,get:function(){return _interopRequireDefault(o).default}});var s=e("./shapes/Circle");Object.defineProperty(i,"Circle",{enumerable:!0,get:function(){return _interopRequireDefault(s).default}});var l=e("./shapes/Ellipse");Object.defineProperty(i,"Ellipse",{enumerable:!0,get:function(){return _interopRequireDefault(l).default}});var u=e("./shapes/Polygon");Object.defineProperty(i,"Polygon",{enumerable:!0,get:function(){return _interopRequireDefault(u).default}});var h=e("./shapes/Rectangle");Object.defineProperty(i,"Rectangle",{enumerable:!0,get:function(){return _interopRequireDefault(h).default}});var d=e("./shapes/RoundedRectangle");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"RoundedRectangle",{enumerable:!0,get:function(){return _interopRequireDefault(d).default}})},{"./GroupD8":66,"./Matrix":67,"./ObservablePoint":68,"./Point":69,"./shapes/Circle":71,"./shapes/Ellipse":72,"./shapes/Polygon":73,"./shapes/Rectangle":74,"./shapes/RoundedRectangle":75}],71:[function(e,t,i){i.__esModule=!0;var n=e("./Rectangle"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),a=e("../../const");var o=function(){function Circle(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Circle),this.x=e,this.y=t,this.radius=i,this.type=a.SHAPES.CIRC}return Circle.prototype.clone=function(){return new Circle(this.x,this.y,this.radius)},Circle.prototype.contains=function(e,t){if(this.radius<=0)return!1;var i=this.radius*this.radius,n=this.x-e,r=this.y-t;return(n*=n)+(r*=r)<=i},Circle.prototype.getBounds=function(){return new r.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},Circle}();i.default=o},{"../../const":46,"./Rectangle":74}],72:[function(e,t,i){i.__esModule=!0;var n=e("./Rectangle"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),a=e("../../const");var o=function(){function Ellipse(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Ellipse),this.x=e,this.y=t,this.width=i,this.height=n,this.type=a.SHAPES.ELIP}return Ellipse.prototype.clone=function(){return new Ellipse(this.x,this.y,this.width,this.height)},Ellipse.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;var i=(e-this.x)/this.width,n=(t-this.y)/this.height;return(i*=i)+(n*=n)<=1},Ellipse.prototype.getBounds=function(){return new r.default(this.x-this.width,this.y-this.height,this.width,this.height)},Ellipse}();i.default=o},{"../../const":46,"./Rectangle":74}],73:[function(e,t,i){i.__esModule=!0;var n=e("../Point"),o=function(e){return e&&e.__esModule?e:{default:e}}(n),s=e("../../const");var r=function(){function Polygon(){for(var e=arguments.length,t=Array(e),i=0;i<e;i++)t[i]=arguments[i];if(!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Polygon),Array.isArray(t[0])&&(t=t[0]),t[0]instanceof o.default){for(var n=[],r=0,a=t.length;r<a;r++)n.push(t[r].x,t[r].y);t=n}this.closed=!0,this.points=t,this.type=s.SHAPES.POLY}return Polygon.prototype.clone=function(){return new Polygon(this.points.slice())},Polygon.prototype.close=function(){var e=this.points;e[0]===e[e.length-2]&&e[1]===e[e.length-1]||e.push(e[0],e[1])},Polygon.prototype.contains=function(e,t){for(var i=!1,n=this.points.length/2,r=0,a=n-1;r<n;a=r++){var o=this.points[2*r],s=this.points[2*r+1],l=this.points[2*a],u=this.points[2*a+1],h=t<s!=t<u&&e<(t-s)/(u-s)*(l-o)+o;h&&(i=!i)}return i},Polygon}();i.default=r},{"../../const":46,"../Point":69}],74:[function(e,t,i){i.__esModule=!0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=e("../../const");var a=function(){function Rectangle(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Rectangle),this.x=Number(e),this.y=Number(t),this.width=Number(i),this.height=Number(n),this.type=r.SHAPES.RECT}return Rectangle.prototype.clone=function(){return new Rectangle(this.x,this.y,this.width,this.height)},Rectangle.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},Rectangle.prototype.contains=function(e,t){return!(this.width<=0||this.height<=0)&&(e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height)},Rectangle.prototype.pad=function(e,t){e=e||0,t=t||(0!==t?e:0),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t},Rectangle.prototype.fit=function(e){var t=Math.max(this.x,e.x),i=Math.min(this.x+this.width,e.x+e.width),n=Math.max(this.y,e.y),r=Math.min(this.y+this.height,e.y+e.height);this.x=t,this.width=Math.max(i-t,0),this.y=n,this.height=Math.max(r-n,0)},Rectangle.prototype.enlarge=function(e){var t=Math.min(this.x,e.x),i=Math.max(this.x+this.width,e.x+e.width),n=Math.min(this.y,e.y),r=Math.max(this.y+this.height,e.y+e.height);this.x=t,this.width=i-t,this.y=n,this.height=r-n},Rectangle.prototype.ceil=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:.001,i=Math.ceil((this.x+this.width-t)*e)/e,n=Math.ceil((this.y+this.height-t)*e)/e;this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=i-this.x,this.height=n-this.y},n(Rectangle,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new Rectangle(0,0,0,0)}}]),Rectangle}();i.default=a},{"../../const":46}],75:[function(e,t,i){i.__esModule=!0;var a=e("../../const");var n=function(){function RoundedRectangle(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:0,r=4<arguments.length&&void 0!==arguments[4]?arguments[4]:20;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RoundedRectangle),this.x=e,this.y=t,this.width=i,this.height=n,this.radius=r,this.type=a.SHAPES.RREC}return RoundedRectangle.prototype.clone=function(){return new RoundedRectangle(this.x,this.y,this.width,this.height,this.radius)},RoundedRectangle.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){if(t>=this.y+this.radius&&t<=this.y+this.height-this.radius||e>=this.x+this.radius&&e<=this.x+this.width-this.radius)return!0;var i=e-(this.x+this.radius),n=t-(this.y+this.radius),r=this.radius*this.radius;if(i*i+n*n<=r)return!0;if((i=e-(this.x+this.width-this.radius))*i+n*n<=r)return!0;if(n=t-(this.y+this.height-this.radius),i*i+n*n<=r)return!0;if((i=e-(this.x+this.radius))*i+n*n<=r)return!0}return!1},RoundedRectangle}();i.default=n},{"../../const":46}],76:[function(e,t,i){i.__esModule=!0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),o=e("../utils"),s=e("../math"),l=e("../const"),r=e("../settings"),u=_interopRequireDefault(r),a=e("../display/Container"),h=_interopRequireDefault(a),d=e("../textures/RenderTexture"),c=_interopRequireDefault(d),p=e("eventemitter3"),f=_interopRequireDefault(p);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var m=new s.Matrix,_=function(a){function SystemRenderer(e,t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SystemRenderer);var r=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,a.call(this));return(0,o.sayHello)(e),"number"==typeof t&&(t=Object.assign({width:t,height:i||u.default.RENDER_OPTIONS.height},n)),t=Object.assign({},u.default.RENDER_OPTIONS,t),r.options=t,r.type=l.RENDERER_TYPE.UNKNOWN,r.screen=new s.Rectangle(0,0,t.width,t.height),r.view=t.view||document.createElement("canvas"),r.resolution=t.resolution||u.default.RESOLUTION,r.transparent=t.transparent,r.autoResize=t.autoResize||!1,r.blendModes=null,r.preserveDrawingBuffer=t.preserveDrawingBuffer,r.clearBeforeRender=t.clearBeforeRender,r.roundPixels=t.roundPixels,r._backgroundColor=0,r._backgroundColorRgba=[0,0,0,0],r._backgroundColorString="#000000",r.backgroundColor=t.backgroundColor||r._backgroundColor,r._tempDisplayObjectParent=new h.default,r._lastObjectRendered=r._tempDisplayObjectParent,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(SystemRenderer,a),SystemRenderer.prototype.resize=function(e,t){this.screen.width=e,this.screen.height=t,this.view.width=e*this.resolution,this.view.height=t*this.resolution,this.autoResize&&(this.view.style.width=e+"px",this.view.style.height=t+"px")},SystemRenderer.prototype.generateTexture=function(e,t,i,n){n=n||e.getLocalBounds();var r=c.default.create(0|n.width,0|n.height,t,i);return m.tx=-n.x,m.ty=-n.y,this.render(e,r,!1,m,!!e.parent),r},SystemRenderer.prototype.destroy=function(e){e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=l.RENDERER_TYPE.UNKNOWN,this.view=null,this.screen=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.options=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},n(SystemRenderer,[{key:"width",get:function(){return this.view.width}},{key:"height",get:function(){return this.view.height}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=(0,o.hex2string)(e),(0,o.hex2rgb)(e,this._backgroundColorRgba)}}]),SystemRenderer}(f.default);i.default=_},{"../const":46,"../display/Container":48,"../math":70,"../settings":101,"../textures/RenderTexture":113,"../utils":125,eventemitter3:3}],77:[function(e,t,i){i.__esModule=!0;var n=e("../SystemRenderer"),r=_interopRequireDefault(n),a=e("./utils/CanvasMaskManager"),o=_interopRequireDefault(a),s=e("./utils/CanvasRenderTarget"),h=_interopRequireDefault(s),l=e("./utils/mapCanvasBlendModesToPixi"),u=_interopRequireDefault(l),d=e("../../utils"),c=e("../../const"),p=e("../../settings"),f=_interopRequireDefault(p);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var m=function(r){function CanvasRenderer(e,t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CanvasRenderer);var n=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,r.call(this,"Canvas",e,t,i));return n.type=c.RENDERER_TYPE.CANVAS,n.rootContext=n.view.getContext("2d",{alpha:n.transparent}),n.context=n.rootContext,n.refresh=!0,n.maskManager=new o.default(n),n.smoothProperty="imageSmoothingEnabled",n.rootContext.imageSmoothingEnabled||(n.rootContext.webkitImageSmoothingEnabled?n.smoothProperty="webkitImageSmoothingEnabled":n.rootContext.mozImageSmoothingEnabled?n.smoothProperty="mozImageSmoothingEnabled":n.rootContext.oImageSmoothingEnabled?n.smoothProperty="oImageSmoothingEnabled":n.rootContext.msImageSmoothingEnabled&&(n.smoothProperty="msImageSmoothingEnabled")),n.initPlugins(),n.blendModes=(0,u.default)(),n._activeBlendMode=null,n.renderingToScreen=!1,n.resize(n.options.width,n.options.height),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(CanvasRenderer,r),CanvasRenderer.prototype.render=function(e,t,i,n,r){if(this.view){this.renderingToScreen=!t,this.emit("prerender");var a=this.resolution;t?((t=t.baseTexture||t)._canvasRenderTarget||(t._canvasRenderTarget=new h.default(t.width,t.height,t.resolution),t.source=t._canvasRenderTarget.canvas,t.valid=!0),this.context=t._canvasRenderTarget.context,this.resolution=t._canvasRenderTarget.resolution):this.context=this.rootContext;var o=this.context;if(t||(this._lastObjectRendered=e),!r){var s=e.parent,l=this._tempDisplayObjectParent.transform.worldTransform;n?(n.copy(l),this._tempDisplayObjectParent.transform._worldID=-1):l.identity(),e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=s}o.save(),o.setTransform(1,0,0,1,0,0),o.globalAlpha=1,this._activeBlendMode=c.BLEND_MODES.NORMAL,o.globalCompositeOperation=this.blendModes[c.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(o.fillStyle="black",o.clear()),(void 0!==i?i:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?o.clearRect(0,0,this.width,this.height):(o.fillStyle=this._backgroundColorString,o.fillRect(0,0,this.width,this.height)));var u=this.context;this.context=o,e.renderCanvas(this),this.context=u,o.restore(),this.resolution=a,this.emit("postrender")}},CanvasRenderer.prototype.clear=function(e){var t=this.context;e=e||this._backgroundColorString,!this.transparent&&e?(t.fillStyle=e,t.fillRect(0,0,this.width,this.height)):t.clearRect(0,0,this.width,this.height)},CanvasRenderer.prototype.setBlendMode=function(e){this._activeBlendMode!==e&&(this._activeBlendMode=e,this.context.globalCompositeOperation=this.blendModes[e])},CanvasRenderer.prototype.destroy=function(e){this.destroyPlugins(),r.prototype.destroy.call(this,e),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},CanvasRenderer.prototype.resize=function(e,t){r.prototype.resize.call(this,e,t),this.smoothProperty&&(this.rootContext[this.smoothProperty]=f.default.SCALE_MODE===c.SCALE_MODES.LINEAR)},CanvasRenderer.prototype.invalidateBlendMode=function(){this._activeBlendMode=this.blendModes.indexOf(this.context.globalCompositeOperation)},CanvasRenderer}(r.default);i.default=m,d.pluginTarget.mixin(m)},{"../../const":46,"../../settings":101,"../../utils":125,"../SystemRenderer":76,"./utils/CanvasMaskManager":78,"./utils/CanvasRenderTarget":79,"./utils/mapCanvasBlendModesToPixi":81}],78:[function(e,t,i){i.__esModule=!0;var R=e("../../../const");var n=function(){function CanvasMaskManager(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CanvasMaskManager),this.renderer=e}return CanvasMaskManager.prototype.pushMask=function(e){var t=this.renderer;t.context.save();var i=e.alpha,n=e.transform.worldTransform,r=t.resolution;t.context.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*r,n.ty*r),e._texture||(this.renderGraphicsShape(e),t.context.clip()),e.worldAlpha=i},CanvasMaskManager.prototype.renderGraphicsShape=function(e){var t=this.renderer.context,i=e.graphicsData.length;if(0!==i){t.beginPath();for(var n=0;n<i;n++){var r=e.graphicsData[n],a=r.shape;if(r.type===R.SHAPES.POLY){var o=a.points,s=r.holes,l=void 0,u=void 0;t.moveTo(o[0],o[1]);for(var h=2;h<o.length;h+=2)t.lineTo(o[h],o[h+1]);if(o[0]===o[o.length-2]&&o[1]===o[o.length-1]&&t.closePath(),0<s.length){for(var d=l=0;d<o.length;d+=2)l+=o[d]*o[d+3]-o[d+1]*o[d+2];for(var c=0;c<s.length;c++){o=s[c].points;for(var p=u=0;p<o.length;p+=2)u+=o[p]*o[p+3]-o[p+1]*o[p+2];if(t.moveTo(o[0],o[1]),u*l<0)for(var f=2;f<o.length;f+=2)t.lineTo(o[f],o[f+1]);else for(var m=o.length-2;2<=m;m-=2)t.lineTo(o[m],o[m+1])}}}else if(r.type===R.SHAPES.RECT)t.rect(a.x,a.y,a.width,a.height),t.closePath();else if(r.type===R.SHAPES.CIRC)t.arc(a.x,a.y,a.radius,0,2*Math.PI),t.closePath();else if(r.type===R.SHAPES.ELIP){var _=2*a.width,g=2*a.height,v=a.x-_/2,y=a.y-g/2,b=_/2*.5522848,w=g/2*.5522848,x=v+_,T=y+g,S=v+_/2,M=y+g/2;t.moveTo(v,M),t.bezierCurveTo(v,M-w,S-b,y,S,y),t.bezierCurveTo(S+b,y,x,M-w,x,M),t.bezierCurveTo(x,M+w,S+b,T,S,T),t.bezierCurveTo(S-b,T,v,M+w,v,M),t.closePath()}else if(r.type===R.SHAPES.RREC){var L=a.x,E=a.y,C=a.width,A=a.height,P=a.radius,D=Math.min(C,A)/2|0;P=D<P?D:P,t.moveTo(L,E+P),t.lineTo(L,E+A-P),t.quadraticCurveTo(L,E+A,L+P,E+A),t.lineTo(L+C-P,E+A),t.quadraticCurveTo(L+C,E+A,L+C,E+A-P),t.lineTo(L+C,E+P),t.quadraticCurveTo(L+C,E,L+C-P,E),t.lineTo(L+P,E),t.quadraticCurveTo(L,E,L,E+P),t.closePath()}}}},CanvasMaskManager.prototype.popMask=function(e){e.context.restore(),e.invalidateBlendMode()},CanvasMaskManager.prototype.destroy=function(){},CanvasMaskManager}();i.default=n},{"../../../const":46}],79:[function(e,t,i){i.__esModule=!0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=e("../../../settings"),a=function(e){return e&&e.__esModule?e:{default:e}}(r);var o=function(){function CanvasRenderTarget(e,t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CanvasRenderTarget),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=i||a.default.RESOLUTION,this.resize(e,t)}return CanvasRenderTarget.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},CanvasRenderTarget.prototype.resize=function(e,t){this.canvas.width=e*this.resolution,this.canvas.height=t*this.resolution},CanvasRenderTarget.prototype.destroy=function(){this.context=null,this.canvas=null},n(CanvasRenderTarget,[{key:"width",get:function(){return this.canvas.width},set:function(e){this.canvas.width=e}},{key:"height",get:function(){return this.canvas.height},set:function(e){this.canvas.height=e}}]),CanvasRenderTarget}();i.default=o},{"../../../settings":101}],80:[function(e,t,i){function createColoredCanvas(e){var t=document.createElement("canvas");t.width=6,t.height=1;var i=t.getContext("2d");return i.fillStyle=e,i.fillRect(0,0,6,1),t}i.__esModule=!0,i.default=function(){if("undefined"==typeof document)return!1;var e=createColoredCanvas("#ff00ff"),t=createColoredCanvas("#ffff00"),i=document.createElement("canvas");i.width=6,i.height=1;var n=i.getContext("2d");n.globalCompositeOperation="multiply",n.drawImage(e,0,0),n.drawImage(t,2,0);var r=n.getImageData(2,0,1,1);if(!r)return!1;var a=r.data;return 255===a[0]&&0===a[1]&&0===a[2]}},{}],81:[function(e,t,i){i.__esModule=!0,i.default=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[];(0,a.default)()?(e[n.BLEND_MODES.NORMAL]="source-over",e[n.BLEND_MODES.ADD]="lighter",e[n.BLEND_MODES.MULTIPLY]="multiply",e[n.BLEND_MODES.SCREEN]="screen",e[n.BLEND_MODES.OVERLAY]="overlay",e[n.BLEND_MODES.DARKEN]="darken",e[n.BLEND_MODES.LIGHTEN]="lighten",e[n.BLEND_MODES.COLOR_DODGE]="color-dodge",e[n.BLEND_MODES.COLOR_BURN]="color-burn",e[n.BLEND_MODES.HARD_LIGHT]="hard-light",e[n.BLEND_MODES.SOFT_LIGHT]="soft-light",e[n.BLEND_MODES.DIFFERENCE]="difference",e[n.BLEND_MODES.EXCLUSION]="exclusion",e[n.BLEND_MODES.HUE]="hue",e[n.BLEND_MODES.SATURATION]="saturate",e[n.BLEND_MODES.COLOR]="color",e[n.BLEND_MODES.LUMINOSITY]="luminosity"):(e[n.BLEND_MODES.NORMAL]="source-over",e[n.BLEND_MODES.ADD]="lighter",e[n.BLEND_MODES.MULTIPLY]="source-over",e[n.BLEND_MODES.SCREEN]="source-over",e[n.BLEND_MODES.OVERLAY]="source-over",e[n.BLEND_MODES.DARKEN]="source-over",e[n.BLEND_MODES.LIGHTEN]="source-over",e[n.BLEND_MODES.COLOR_DODGE]="source-over",e[n.BLEND_MODES.COLOR_BURN]="source-over",e[n.BLEND_MODES.HARD_LIGHT]="source-over",e[n.BLEND_MODES.SOFT_LIGHT]="source-over",e[n.BLEND_MODES.DIFFERENCE]="source-over",e[n.BLEND_MODES.EXCLUSION]="source-over",e[n.BLEND_MODES.HUE]="source-over",e[n.BLEND_MODES.SATURATION]="source-over",e[n.BLEND_MODES.COLOR]="source-over",e[n.BLEND_MODES.LUMINOSITY]="source-over");return e[n.BLEND_MODES.NORMAL_NPM]=e[n.BLEND_MODES.NORMAL],e[n.BLEND_MODES.ADD_NPM]=e[n.BLEND_MODES.ADD],e[n.BLEND_MODES.SCREEN_NPM]=e[n.BLEND_MODES.SCREEN],e};var n=e("../../../const"),r=e("./canUseNewCanvasBlendModes"),a=function(e){return e&&e.__esModule?e:{default:e}}(r)},{"../../../const":46,"./canUseNewCanvasBlendModes":80}],82:[function(e,t,i){i.__esModule=!0;var n=e("../../const"),r=e("../../settings"),a=function(e){return e&&e.__esModule?e:{default:e}}(r);var o=function(){function TextureGarbageCollector(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TextureGarbageCollector),this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=a.default.GC_MAX_IDLE,this.checkCountMax=a.default.GC_MAX_CHECK_COUNT,this.mode=a.default.GC_MODE}return TextureGarbageCollector.prototype.update=function(){this.count++,this.mode!==n.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},TextureGarbageCollector.prototype.run=function(){for(var e=this.renderer.textureManager,t=e._managedTextures,i=!1,n=0;n<t.length;n++){var r=t[n];!r._glRenderTargets&&this.count-r.touched>this.maxIdle&&(e.destroyTexture(r,!0),t[n]=null,i=!0)}if(i){for(var a=0,o=0;o<t.length;o++)null!==t[o]&&(t[a++]=t[o]);t.length=a}},TextureGarbageCollector.prototype.unload=function(e){var t=this.renderer.textureManager;e._texture&&e._texture._glRenderTargets&&t.destroyTexture(e._texture,!0);for(var i=e.children.length-1;0<=i;i--)this.unload(e.children[i])},TextureGarbageCollector}();i.default=o},{"../../const":46,"../../settings":101}],83:[function(e,t,i){i.__esModule=!0;var l=e("pixi-gl-core"),u=e("../../const"),n=e("./utils/RenderTarget"),h=function(e){return e&&e.__esModule?e:{default:e}}(n),s=e("../../utils");var r=function(){function TextureManager(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TextureManager),this.renderer=e,this.gl=e.gl,this._managedTextures=[]}return TextureManager.prototype.bindTexture=function(){},TextureManager.prototype.getTexture=function(){},TextureManager.prototype.updateTexture=function(e,t){var i=this.gl,n=!!e._glRenderTargets;if(!e.hasLoaded)return null;var r=this.renderer.boundTextures;if(void 0===t)for(var a=t=0;a<r.length;++a)if(r[a]===e){t=a;break}r[t]=e,i.activeTexture(i.TEXTURE0+t);var o=e._glTextures[this.renderer.CONTEXT_UID];if(o)n?e._glRenderTargets[this.renderer.CONTEXT_UID].resize(e.width,e.height):o.upload(e.source);else{if(n){var s=new h.default(this.gl,e.width,e.height,e.scaleMode,e.resolution);s.resize(e.width,e.height),e._glRenderTargets[this.renderer.CONTEXT_UID]=s,o=s.texture,this.renderer._activeRenderTarget.root||this.renderer._activeRenderTarget.frameBuffer.bind()}else(o=new l.GLTexture(this.gl,null,null,null,null)).bind(t),o.premultiplyAlpha=!0,o.upload(e.source);e._glTextures[this.renderer.CONTEXT_UID]=o,e.on("update",this.updateTexture,this),e.on("dispose",this.destroyTexture,this),this._managedTextures.push(e),e.isPowerOfTwo?(e.mipmap&&o.enableMipmap(),e.wrapMode===u.WRAP_MODES.CLAMP?o.enableWrapClamp():e.wrapMode===u.WRAP_MODES.REPEAT?o.enableWrapRepeat():o.enableWrapMirrorRepeat()):o.enableWrapClamp(),e.scaleMode===u.SCALE_MODES.NEAREST?o.enableNearestScaling():o.enableLinearScaling()}return o},TextureManager.prototype.destroyTexture=function(e,t){if((e=e.baseTexture||e).hasLoaded){var i=this.renderer,n=i.CONTEXT_UID,r=e._glTextures,a=e._glRenderTargets;if(r[n]&&(i.unbindTexture(e),r[n].destroy(),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this),delete r[n],!t)){var o=this._managedTextures.indexOf(e);-1!==o&&(0,s.removeItems)(this._managedTextures,o,1)}a&&a[n]&&(i._activeRenderTarget===a[n]&&i.bindRenderTarget(i.rootRenderTarget),a[n].destroy(),delete a[n])}},TextureManager.prototype.removeAll=function(){for(var e=0;e<this._managedTextures.length;++e){var t=this._managedTextures[e];t._glTextures[this.renderer.CONTEXT_UID]&&delete t._glTextures[this.renderer.CONTEXT_UID]}},TextureManager.prototype.destroy=function(){for(var e=0;e<this._managedTextures.length;++e){var t=this._managedTextures[e];this.destroyTexture(t,!0),t.off("update",this.updateTexture,this),t.off("dispose",this.destroyTexture,this)}this._managedTextures=null},TextureManager}();i.default=r},{"../../const":46,"../../utils":125,"./utils/RenderTarget":96,"pixi-gl-core":15}],84:[function(e,t,i){i.__esModule=!0;var n=e("../SystemRenderer"),a=_interopRequireDefault(n),r=e("./managers/MaskManager"),o=_interopRequireDefault(r),s=e("./managers/StencilManager"),l=_interopRequireDefault(s),u=e("./managers/FilterManager"),h=_interopRequireDefault(u),d=e("./utils/RenderTarget"),c=_interopRequireDefault(d),p=e("./utils/ObjectRenderer"),f=_interopRequireDefault(p),m=e("./TextureManager"),_=_interopRequireDefault(m),g=e("../../textures/BaseTexture"),v=_interopRequireDefault(g),y=e("./TextureGarbageCollector"),b=_interopRequireDefault(y),w=e("./WebGLState"),x=_interopRequireDefault(w),T=e("./utils/mapWebGLDrawModesToPixi"),S=_interopRequireDefault(T),M=e("./utils/validateContext"),L=_interopRequireDefault(M),E=e("../../utils"),C=e("pixi-gl-core"),A=_interopRequireDefault(C),P=e("../../const");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var D=0,R=function(r){function WebGLRenderer(e,t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WebGLRenderer);var n=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,r.call(this,"WebGL",e,t,i));return n.legacy=n.options.legacy,n.legacy&&(A.default.VertexArrayObject.FORCE_NATIVE=!0),n.type=P.RENDERER_TYPE.WEBGL,n.handleContextLost=n.handleContextLost.bind(n),n.handleContextRestored=n.handleContextRestored.bind(n),n.view.addEventListener("webglcontextlost",n.handleContextLost,!1),n.view.addEventListener("webglcontextrestored",n.handleContextRestored,!1),n._contextOptions={alpha:n.transparent,antialias:n.options.antialias,premultipliedAlpha:n.transparent&&"notMultiplied"!==n.transparent,stencil:!0,preserveDrawingBuffer:n.options.preserveDrawingBuffer,powerPreference:n.options.powerPreference},n._backgroundColorRgba[3]=n.transparent?0:1,n.maskManager=new o.default(n),n.stencilManager=new l.default(n),n.emptyRenderer=new f.default(n),n.currentRenderer=n.emptyRenderer,n.textureManager=null,n.filterManager=null,n.initPlugins(),n.options.context&&(0,L.default)(n.options.context),n.gl=n.options.context||A.default.createContext(n.view,n._contextOptions),n.CONTEXT_UID=D++,n.state=new x.default(n.gl),n.renderingToScreen=!0,n.boundTextures=null,n._activeShader=null,n._activeVao=null,n._activeRenderTarget=null,n._initContext(),n.drawModes=(0,S.default)(n.gl),n._nextTextureLocation=0,n.setBlendMode(0),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WebGLRenderer,r),WebGLRenderer.prototype._initContext=function(){var e=this.gl;e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext();var t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this._activeShader=null,this._activeVao=null,this.boundTextures=new Array(t),this.emptyTextures=new Array(t),this._unknownBoundTextures=!1,this.textureManager=new _.default(this),this.filterManager=new h.default(this),this.textureGC=new b.default(this),this.state.resetToDefault(),this.rootRenderTarget=new c.default(e,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var i=new A.default.GLTexture.fromData(e,null,1,1),n={_glTextures:{}};n._glTextures[this.CONTEXT_UID]={};for(var r=0;r<t;r++){var a=new v.default;a._glTextures[this.CONTEXT_UID]=i,this.boundTextures[r]=n,this.emptyTextures[r]=a,this.bindTexture(null,r)}this.emit("context",e),this.resize(this.screen.width,this.screen.height)},WebGLRenderer.prototype.render=function(e,t,i,n,r){if(this.renderingToScreen=!t,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,t||(this._lastObjectRendered=e),!r){var a=e.parent;e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=a}this.bindRenderTexture(t,n),this.currentRenderer.start(),(void 0!==i?i:this.clearBeforeRender)&&this._activeRenderTarget.clear(),e.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},WebGLRenderer.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},WebGLRenderer.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},WebGLRenderer.prototype.resize=function(e,t){a.default.prototype.resize.call(this,e,t),this.rootRenderTarget.resize(e,t),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},WebGLRenderer.prototype.setBlendMode=function(e){this.state.setBlendMode(e)},WebGLRenderer.prototype.clear=function(e){this._activeRenderTarget.clear(e)},WebGLRenderer.prototype.setTransform=function(e){this._activeRenderTarget.transform=e},WebGLRenderer.prototype.clearRenderTexture=function(e,t){var i=e.baseTexture,n=i._glRenderTargets[this.CONTEXT_UID];return n&&n.clear(t),this},WebGLRenderer.prototype.bindRenderTexture=function(e,t){var i=void 0;if(e){var n=e.baseTexture;n._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(n,0),this.unbindTexture(n),(i=n._glRenderTargets[this.CONTEXT_UID]).setFrame(e.frame)}else i=this.rootRenderTarget;return i.transform=t,this.bindRenderTarget(i),this},WebGLRenderer.prototype.bindRenderTarget=function(e){return e!==this._activeRenderTarget&&((this._activeRenderTarget=e).activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=e.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(e.stencilMaskStack)),this},WebGLRenderer.prototype.bindShader=function(e,t){return this._activeShader!==e&&((this._activeShader=e).bind(),!1!==t&&(e.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0))),this},WebGLRenderer.prototype.bindTexture=function(e,t,i){if((e=(e=e||this.emptyTextures[t]).baseTexture||e).touched=this.textureGC.count,i)t=t||0;else{for(var n=0;n<this.boundTextures.length;n++)if(this.boundTextures[n]===e)return n;void 0===t&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,t=this.boundTextures.length-this._nextTextureLocation-1)}var r=this.gl,a=e._glTextures[this.CONTEXT_UID];return a?(this.boundTextures[t]=e,r.activeTexture(r.TEXTURE0+t),r.bindTexture(r.TEXTURE_2D,a.texture)):this.textureManager.updateTexture(e,t),t},WebGLRenderer.prototype.unbindTexture=function(e){var t=this.gl;if(e=e.baseTexture||e,this._unknownBoundTextures){this._unknownBoundTextures=!1;for(var i=0;i<this.boundTextures.length;i++)this.boundTextures[i]===this.emptyTextures[i]&&(t.activeTexture(t.TEXTURE0+i),t.bindTexture(t.TEXTURE_2D,this.emptyTextures[i]._glTextures[this.CONTEXT_UID].texture))}for(var n=0;n<this.boundTextures.length;n++)this.boundTextures[n]===e&&(this.boundTextures[n]=this.emptyTextures[n],t.activeTexture(t.TEXTURE0+n),t.bindTexture(t.TEXTURE_2D,this.emptyTextures[n]._glTextures[this.CONTEXT_UID].texture));return this},WebGLRenderer.prototype.createVao=function(){return new A.default.VertexArrayObject(this.gl,this.state.attribState)},WebGLRenderer.prototype.bindVao=function(e){return this._activeVao===e||(e?e.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=e),this},WebGLRenderer.prototype.reset=function(){this.setObjectRenderer(this.emptyRenderer),this.bindVao(null),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget,this._unknownBoundTextures=!0;for(var e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.emptyTextures[e];return this.rootRenderTarget.activate(),this.state.resetToDefault(),this},WebGLRenderer.prototype.handleContextLost=function(e){e.preventDefault()},WebGLRenderer.prototype.handleContextRestored=function(){this.textureManager.removeAll(),this.filterManager.destroy(!0),this._initContext()},WebGLRenderer.prototype.destroy=function(e){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),r.prototype.destroy.call(this,e),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},WebGLRenderer}(a.default);i.default=R,E.pluginTarget.mixin(R)},{"../../const":46,"../../textures/BaseTexture":112,"../../utils":125,"../SystemRenderer":76,"./TextureGarbageCollector":82,"./TextureManager":83,"./WebGLState":85,"./managers/FilterManager":90,"./managers/MaskManager":91,"./managers/StencilManager":92,"./utils/ObjectRenderer":94,"./utils/RenderTarget":96,"./utils/mapWebGLDrawModesToPixi":99,"./utils/validateContext":100,"pixi-gl-core":15}],85:[function(e,t,i){i.__esModule=!0;var n=e("./utils/mapWebGLBlendModesToPixi"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);var a=function(){function WebGLState(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WebGLState),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=e,this.maxAttribs=e.getParameter(e.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,r.default)(e),this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")}return WebGLState.prototype.push=function(){var e=this.stack[this.stackIndex];e=e||(this.stack[this.stackIndex]=new Uint8Array(16)),++this.stackIndex;for(var t=0;t<this.activeState.length;t++)e[t]=this.activeState[t]},WebGLState.prototype.pop=function(){var e=this.stack[--this.stackIndex];this.setState(e)},WebGLState.prototype.setState=function(e){this.setBlend(e[0]),this.setDepthTest(e[1]),this.setFrontFace(e[2]),this.setCullFace(e[3]),this.setBlendMode(e[4])},WebGLState.prototype.setBlend=function(e){e=e?1:0,this.activeState[0]!==e&&(this.activeState[0]=e,this.gl[e?"enable":"disable"](this.gl.BLEND))},WebGLState.prototype.setBlendMode=function(e){if(e!==this.activeState[4]){this.activeState[4]=e;var t=this.blendModes[e];2===t.length?this.gl.blendFunc(t[0],t[1]):this.gl.blendFuncSeparate(t[0],t[1],t[2],t[3])}},WebGLState.prototype.setDepthTest=function(e){e=e?1:0,this.activeState[1]!==e&&(this.activeState[1]=e,this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST))},WebGLState.prototype.setCullFace=function(e){e=e?1:0,this.activeState[3]!==e&&(this.activeState[3]=e,this.gl[e?"enable":"disable"](this.gl.CULL_FACE))},WebGLState.prototype.setFrontFace=function(e){e=e?1:0,this.activeState[2]!==e&&(this.activeState[2]=e,this.gl.frontFace(this.gl[e?"CW":"CCW"]))},WebGLState.prototype.resetAttributes=function(){for(var e=0;e<this.attribState.tempAttribState.length;e++)this.attribState.tempAttribState[e]=0;for(var t=0;t<this.attribState.attribState.length;t++)this.attribState.attribState[t]=0;for(var i=1;i<this.maxAttribs;i++)this.gl.disableVertexAttribArray(i)},WebGLState.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var e=0;e<this.activeState.length;++e)this.activeState[e]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},WebGLState}();i.default=a},{"./utils/mapWebGLBlendModesToPixi":98}],86:[function(e,t,i){i.__esModule=!0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=e("./extractUniformsFromSrc"),a=_interopRequireDefault(r),o=e("../../../utils"),s=e("../../../const"),l=e("../../../settings"),u=_interopRequireDefault(l);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var h={},d=function(){function Filter(e,t,i){for(var n in!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Filter),this.vertexSrc=e||Filter.defaultVertexSrc,this.fragmentSrc=t||Filter.defaultFragmentSrc,this._blendMode=s.BLEND_MODES.NORMAL,this.uniformData=i||(0,a.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={},this.uniformData)this.uniforms[n]=this.uniformData[n].value,this.uniformData[n].type&&(this.uniformData[n].type=this.uniformData[n].type.toLowerCase());this.glShaders={},h[this.vertexSrc+this.fragmentSrc]||(h[this.vertexSrc+this.fragmentSrc]=(0,o.uid)()),this.glShaderKey=h[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=u.default.FILTER_RESOLUTION,this.enabled=!0,this.autoFit=!0}return Filter.prototype.apply=function(e,t,i,n,r){e.applyFilter(this,t,i,n)},n(Filter,[{key:"blendMode",get:function(){return this._blendMode},set:function(e){this._blendMode=e}}],[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join("\n")}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join("\n")}}]),Filter}();i.default=d},{"../../../const":46,"../../../settings":101,"../../../utils":125,"./extractUniformsFromSrc":87}],87:[function(e,t,i){i.__esModule=!0,i.default=function(e,t,i){var n=extractUniformsFromString(e),r=extractUniformsFromString(t);return Object.assign(n,r)};var n=e("pixi-gl-core"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);var d=r.default.shader.defaultValue;function extractUniformsFromString(e){for(var t=new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"),i={},n=void 0,r=e.replace(/\s+/g," ").split(/\s*;\s*/),a=0;a<r.length;a++){var o=r[a].trim();if(-1<o.indexOf("uniform")){var s=o.split(" "),l=s[1],u=s[2],h=1;-1<u.indexOf("[")&&(u=(n=u.split(/\[|]/))[0],h*=Number(n[1])),u.match(t)||(i[u]={value:d(l,h),name:u,type:l})}}return i}},{"pixi-gl-core":15}],88:[function(e,t,i){i.__esModule=!0,i.calculateScreenSpaceMatrix=function(e,t,i){var n=e.identity();return n.translate(t.x/i.width,t.y/i.height),n.scale(i.width,i.height),n},i.calculateNormalizedScreenSpaceMatrix=function(e,t,i){var n=e.identity();n.translate(t.x/i.width,t.y/i.height);var r=i.width/t.width,a=i.height/t.height;return n.scale(r,a),n},i.calculateSpriteMatrix=function(e,t,i,n){var r=n._texture.orig,a=e.set(i.width,0,0,i.height,t.x,t.y),o=n.worldTransform.copy(s.Matrix.TEMP_MATRIX);return o.invert(),a.prepend(o),a.scale(1/r.width,1/r.height),a.translate(n.anchor.x,n.anchor.y),a};var s=e("../../../math")},{"../../../math":70}],89:[function(e,t,i){i.__esModule=!0;var n=e("../Filter"),r=_interopRequireDefault(n),a=e("../../../../math"),o=(e("path"),e("../../../../textures/TextureMatrix")),s=_interopRequireDefault(o);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var l=function(n){function SpriteMaskFilter(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SpriteMaskFilter);var t=new a.Matrix,i=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,n.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n","varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n"));return e.renderable=!1,i.maskSprite=e,i.maskMatrix=t,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(SpriteMaskFilter,n),SpriteMaskFilter.prototype.apply=function(e,t,i,n){var r=this.maskSprite,a=this.maskSprite.texture;a.valid&&(a.transform||(a.transform=new s.default(a,0)),a.transform.update(),this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,r).prepend(a.transform.mapCoord),this.uniforms.alpha=r.worldAlpha,this.uniforms.maskClamp=a.transform.uClampFrame,e.applyFilter(this,t,i,n))},SpriteMaskFilter}(r.default);i.default=l},{"../../../../math":70,"../../../../textures/TextureMatrix":116,"../Filter":86,path:8}],90:[function(e,t,i){i.__esModule=!0;var n=e("./WebGLManager"),r=_interopRequireDefault(n),a=e("../utils/RenderTarget"),s=_interopRequireDefault(a),o=e("../utils/Quad"),l=_interopRequireDefault(o),u=e("../../../math"),h=e("../../../Shader"),d=_interopRequireDefault(h),c=e("../filters/filterTransforms"),p=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(c),f=e("bit-twiddle"),m=_interopRequireDefault(f);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _=function(){function FilterState(){_classCallCheck(this,FilterState),this.renderTarget=null,this.target=null,this.resolution=1,this.sourceFrame=new u.Rectangle,this.destinationFrame=new u.Rectangle,this.filters=[]}return FilterState.prototype.clear=function(){this.filters=null,this.target=null,this.renderTarget=null},FilterState}(),g="screen",v=function(i){function FilterManager(e){_classCallCheck(this,FilterManager);var t=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,i.call(this,e));return t.gl=t.renderer.gl,t.quad=new l.default(t.gl,e.state.attribState),t.shaderCache={},t.pool={},t.filterData=null,t.managedFilters=[],t.renderer.on("prerender",t.onPrerender,t),t._screenWidth=e.view.width,t._screenHeight=e.view.height,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(FilterManager,i),FilterManager.prototype.pushFilter=function(e,t){var i=this.renderer,n=this.filterData;if(!n){n=this.renderer._activeRenderTarget.filterStack;var r=new _;r.sourceFrame=r.destinationFrame=this.renderer._activeRenderTarget.size,r.renderTarget=i._activeRenderTarget,this.renderer._activeRenderTarget.filterData=n={index:0,stack:[r]},this.filterData=n}var a=n.stack[++n.index],o=n.stack[0].destinationFrame;a=a||(n.stack[n.index]=new _);var s=e.filterArea&&0===e.filterArea.x&&0===e.filterArea.y&&e.filterArea.width===i.screen.width&&e.filterArea.height===i.screen.height,l=t[0].resolution,u=0|t[0].padding,h=s?i.screen:e.filterArea||e.getBounds(!0),d=a.sourceFrame,c=a.destinationFrame;d.x=(h.x*l|0)/l,d.y=(h.y*l|0)/l,d.width=(h.width*l|0)/l,d.height=(h.height*l|0)/l,s||(n.stack[0].renderTarget.transform||t[0].autoFit&&d.fit(o),d.pad(u)),c.width=d.width,c.height=d.height;var p=this.getPotRenderTarget(i.gl,d.width,d.height,l);a.target=e,a.filters=t,a.resolution=l,(a.renderTarget=p).setFrame(c,d),i.bindRenderTarget(p),p.clear()},FilterManager.prototype.popFilter=function(){var e=this.filterData,t=e.stack[e.index-1],i=e.stack[e.index];this.quad.map(i.renderTarget.size,i.sourceFrame).upload();var n=i.filters;if(1===n.length)n[0].apply(this,i.renderTarget,t.renderTarget,!1,i),this.freePotRenderTarget(i.renderTarget);else{var r=i.renderTarget,a=this.getPotRenderTarget(this.renderer.gl,i.sourceFrame.width,i.sourceFrame.height,i.resolution);a.setFrame(i.destinationFrame,i.sourceFrame),a.clear();var o=0;for(o=0;o<n.length-1;++o){n[o].apply(this,r,a,!0,i);var s=r;r=a,a=s}n[o].apply(this,r,t.renderTarget,!1,i),this.freePotRenderTarget(r),this.freePotRenderTarget(a)}i.clear(),e.index--,0===e.index&&(this.filterData=null)},FilterManager.prototype.applyFilter=function(e,t,i,n){var r=this.renderer,a=r.gl,o=e.glShaders[r.CONTEXT_UID];o||(e.glShaderKey?(o=this.shaderCache[e.glShaderKey])||(o=new d.default(this.gl,e.vertexSrc,e.fragmentSrc),e.glShaders[r.CONTEXT_UID]=this.shaderCache[e.glShaderKey]=o,this.managedFilters.push(e)):(o=e.glShaders[r.CONTEXT_UID]=new d.default(this.gl,e.vertexSrc,e.fragmentSrc),this.managedFilters.push(e)),r.bindVao(null),this.quad.initVao(o)),r.bindVao(this.quad.vao),r.bindRenderTarget(i),n&&(a.disable(a.SCISSOR_TEST),r.clear(),a.enable(a.SCISSOR_TEST)),i===r.maskManager.scissorRenderTarget&&r.maskManager.pushScissorMask(null,r.maskManager.scissorData),r.bindShader(o);var s=this.renderer.emptyTextures[0];this.renderer.boundTextures[0]=s,this.syncUniforms(o,e),r.state.setBlendMode(e.blendMode),a.activeTexture(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,t.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),a.bindTexture(a.TEXTURE_2D,s._glTextures[this.renderer.CONTEXT_UID].texture)},FilterManager.prototype.syncUniforms=function(e,t){var i=t.uniformData,n=t.uniforms,r=1,a=void 0;if(e.uniforms.filterArea){a=this.filterData.stack[this.filterData.index];var o=e.uniforms.filterArea;o[0]=a.renderTarget.size.width,o[1]=a.renderTarget.size.height,o[2]=a.sourceFrame.x,o[3]=a.sourceFrame.y,e.uniforms.filterArea=o}if(e.uniforms.filterClamp){a=a||this.filterData.stack[this.filterData.index];var s=e.uniforms.filterClamp;s[0]=0,s[1]=0,s[2]=(a.sourceFrame.width-1)/a.renderTarget.size.width,s[3]=(a.sourceFrame.height-1)/a.renderTarget.size.height,e.uniforms.filterClamp=s}for(var l in i)if(e.uniforms.data[l]){var u=i[l].type;if("sampler2d"===u&&0!==n[l]){if(n[l].baseTexture)e.uniforms[l]=this.renderer.bindTexture(n[l].baseTexture,r);else{e.uniforms[l]=r;var h=this.renderer.gl;this.renderer.boundTextures[r]=this.renderer.emptyTextures[r],h.activeTexture(h.TEXTURE0+r),n[l].texture.bind()}r++}else if("mat3"===u)void 0!==n[l].a?e.uniforms[l]=n[l].toArray(!0):e.uniforms[l]=n[l];else if("vec2"===u)if(void 0!==n[l].x){var d=e.uniforms[l]||new Float32Array(2);d[0]=n[l].x,d[1]=n[l].y,e.uniforms[l]=d}else e.uniforms[l]=n[l];else("float"!==u||e.uniforms.data[l].value!==i[l])&&(e.uniforms[l]=n[l])}},FilterManager.prototype.getRenderTarget=function(e,t){var i=this.filterData.stack[this.filterData.index],n=this.getPotRenderTarget(this.renderer.gl,i.sourceFrame.width,i.sourceFrame.height,t||i.resolution);return n.setFrame(i.destinationFrame,i.sourceFrame),n},FilterManager.prototype.returnRenderTarget=function(e){this.freePotRenderTarget(e)},FilterManager.prototype.calculateScreenSpaceMatrix=function(e){var t=this.filterData.stack[this.filterData.index];return p.calculateScreenSpaceMatrix(e,t.sourceFrame,t.renderTarget.size)},FilterManager.prototype.calculateNormalizedScreenSpaceMatrix=function(e){var t=this.filterData.stack[this.filterData.index];return p.calculateNormalizedScreenSpaceMatrix(e,t.sourceFrame,t.renderTarget.size,t.destinationFrame)},FilterManager.prototype.calculateSpriteMatrix=function(e,t){var i=this.filterData.stack[this.filterData.index];return p.calculateSpriteMatrix(e,i.sourceFrame,i.renderTarget.size,t)},FilterManager.prototype.destroy=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0],t=this.renderer,i=this.managedFilters;t.off("prerender",this.onPrerender,this);for(var n=0;n<i.length;n++)e||i[n].glShaders[t.CONTEXT_UID].destroy(),delete i[n].glShaders[t.CONTEXT_UID];this.shaderCache={},e?this.pool={}:this.emptyPool()},FilterManager.prototype.getPotRenderTarget=function(e,t,i,n){var r=g;i*=n,(t*=n)===this._screenWidth&&i===this._screenHeight||(t=m.default.nextPow2(t),i=m.default.nextPow2(i),r=(65535&t)<<16|65535&i),this.pool[r]||(this.pool[r]=[]);var a=this.pool[r].pop();if(!a){var o=this.renderer.boundTextures[0];e.activeTexture(e.TEXTURE0),a=new s.default(e,t,i,null,1),e.bindTexture(e.TEXTURE_2D,o._glTextures[this.renderer.CONTEXT_UID].texture)}return a.resolution=n,a.defaultFrame.width=a.size.width=t/n,a.defaultFrame.height=a.size.height=i/n,a.filterPoolKey=r,a},FilterManager.prototype.emptyPool=function(){for(var e in this.pool){var t=this.pool[e];if(t)for(var i=0;i<t.length;i++)t[i].destroy(!0)}this.pool={}},FilterManager.prototype.freePotRenderTarget=function(e){this.pool[e.filterPoolKey].push(e)},FilterManager.prototype.onPrerender=function(){if(this._screenWidth!==this.renderer.view.width||this._screenHeight!==this.renderer.view.height){this._screenWidth=this.renderer.view.width,this._screenHeight=this.renderer.view.height;var e=this.pool[g];if(e)for(var t=0;t<e.length;t++)e[t].destroy(!0);this.pool[g]=[]}},FilterManager}(r.default);i.default=v},{"../../../Shader":44,"../../../math":70,"../filters/filterTransforms":88,"../utils/Quad":95,"../utils/RenderTarget":96,"./WebGLManager":93,"bit-twiddle":1}],91:[function(e,t,i){i.__esModule=!0;var n=e("./WebGLManager"),r=_interopRequireDefault(n),a=e("../filters/spriteMask/SpriteMaskFilter"),o=_interopRequireDefault(a);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var s=function(i){function MaskManager(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MaskManager);var t=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,i.call(this,e));return t.scissor=!1,t.scissorData=null,t.scissorRenderTarget=null,t.enableScissor=!0,t.alphaMaskPool=[],t.alphaMaskIndex=0,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(MaskManager,i),MaskManager.prototype.pushMask=function(e,t){if(t.texture)this.pushSpriteMask(e,t);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&t.isFastRect()){var i=t.worldTransform,n=Math.atan2(i.b,i.a);(n=Math.round(n*(180/Math.PI)))%90?this.pushStencilMask(t):this.pushScissorMask(e,t)}else this.pushStencilMask(t)},MaskManager.prototype.popMask=function(e,t){t.texture?this.popSpriteMask(e,t):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(e,t):this.popStencilMask(e,t)},MaskManager.prototype.pushSpriteMask=function(e,t){var i=this.alphaMaskPool[this.alphaMaskIndex];(i=i||(this.alphaMaskPool[this.alphaMaskIndex]=[new o.default(t)]))[0].resolution=this.renderer.resolution,i[0].maskSprite=t;var n=e.filterArea;e.filterArea=t.getBounds(!0),this.renderer.filterManager.pushFilter(e,i),e.filterArea=n,this.alphaMaskIndex++},MaskManager.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},MaskManager.prototype.pushStencilMask=function(e){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(e)},MaskManager.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},MaskManager.prototype.pushScissorMask=function(e,t){t.renderable=!0;var i=this.renderer._activeRenderTarget,n=t.getBounds();n.fit(i.size),t.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST);var r=this.renderer.resolution;this.renderer.gl.scissor(n.x*r,(i.root?i.size.height-n.y-n.height:n.y)*r,n.width*r,n.height*r),this.scissorRenderTarget=i,this.scissorData=t,this.scissor=!0},MaskManager.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var e=this.renderer.gl;e.disable(e.SCISSOR_TEST)},MaskManager}(r.default);i.default=s},{"../filters/spriteMask/SpriteMaskFilter":89,"./WebGLManager":93}],92:[function(e,t,i){i.__esModule=!0;var n=e("./WebGLManager"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);var a=function(i){function StencilManager(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,StencilManager);var t=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,i.call(this,e));return t.stencilMaskStack=null,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(StencilManager,i),StencilManager.prototype.setMaskStack=function(e){this.stencilMaskStack=e;var t=this.renderer.gl;0===e.length?t.disable(t.STENCIL_TEST):t.enable(t.STENCIL_TEST)},StencilManager.prototype.pushStencil=function(e){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var t=this.renderer.gl,i=this.stencilMaskStack.length;0===i&&t.enable(t.STENCIL_TEST),this.stencilMaskStack.push(e),t.colorMask(!1,!1,!1,!1),t.stencilFunc(t.EQUAL,i,this._getBitwiseMask()),t.stencilOp(t.KEEP,t.KEEP,t.INCR),this.renderer.plugins.graphics.render(e),this._useCurrent()},StencilManager.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var e=this.renderer.gl,t=this.stencilMaskStack.pop();0===this.stencilMaskStack.length?(e.disable(e.STENCIL_TEST),e.clear(e.STENCIL_BUFFER_BIT),e.clearStencil(0)):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),this.renderer.plugins.graphics.render(t),this._useCurrent())},StencilManager.prototype._useCurrent=function(){var e=this.renderer.gl;e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.EQUAL,this.stencilMaskStack.length,this._getBitwiseMask()),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)},StencilManager.prototype._getBitwiseMask=function(){return(1<<this.stencilMaskStack.length)-1},StencilManager.prototype.destroy=function(){r.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},StencilManager}(r.default);i.default=a},{"./WebGLManager":93}],93:[function(e,t,i){i.__esModule=!0;var n=function(){function WebGLManager(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WebGLManager),this.renderer=e,this.renderer.on("context",this.onContextChange,this)}return WebGLManager.prototype.onContextChange=function(){},WebGLManager.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},WebGLManager}();i.default=n},{}],94:[function(e,t,i){i.__esModule=!0;var n=e("../managers/WebGLManager"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);var a=function(e){function ObjectRenderer(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ObjectRenderer),function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ObjectRenderer,e),ObjectRenderer.prototype.start=function(){},ObjectRenderer.prototype.stop=function(){this.flush()},ObjectRenderer.prototype.flush=function(){},ObjectRenderer.prototype.render=function(e){},ObjectRenderer}(r.default);i.default=a},{"../managers/WebGLManager":93}],95:[function(e,t,i){i.__esModule=!0;var n=e("pixi-gl-core"),r=_interopRequireDefault(n),a=e("../../../utils/createIndicesForQuads"),o=_interopRequireDefault(a);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var s=function(){function Quad(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Quad),this.gl=e,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var i=0;i<4;i++)this.interleaved[4*i]=this.vertices[2*i],this.interleaved[4*i+1]=this.vertices[2*i+1],this.interleaved[4*i+2]=this.uvs[2*i],this.interleaved[4*i+3]=this.uvs[2*i+1];this.indices=(0,o.default)(1),this.vertexBuffer=r.default.GLBuffer.createVertexBuffer(e,this.interleaved,e.STATIC_DRAW),this.indexBuffer=r.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.vao=new r.default.VertexArrayObject(e,t)}return Quad.prototype.initVao=function(e){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,e.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,e.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},Quad.prototype.map=function(e,t){var i=0,n=0;return this.uvs[0]=i,this.uvs[1]=n,this.uvs[2]=i+t.width/e.width,this.uvs[3]=n,this.uvs[4]=i+t.width/e.width,this.uvs[5]=n+t.height/e.height,this.uvs[6]=i,this.uvs[7]=n+t.height/e.height,i=t.x,n=t.y,this.vertices[0]=i,this.vertices[1]=n,this.vertices[2]=i+t.width,this.vertices[3]=n,this.vertices[4]=i+t.width,this.vertices[5]=n+t.height,this.vertices[6]=i,this.vertices[7]=n+t.height,this},Quad.prototype.upload=function(){for(var e=0;e<4;e++)this.interleaved[4*e]=this.vertices[2*e],this.interleaved[4*e+1]=this.vertices[2*e+1],this.interleaved[4*e+2]=this.uvs[2*e],this.interleaved[4*e+3]=this.uvs[2*e+1];return this.vertexBuffer.upload(this.interleaved),this},Quad.prototype.destroy=function(){var e=this.gl;e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer)},Quad}();i.default=s},{"../../../utils/createIndicesForQuads":123,"pixi-gl-core":15}],96:[function(e,t,i){i.__esModule=!0;var o=e("../../../math"),s=e("../../../const"),n=e("../../../settings"),l=function(e){return e&&e.__esModule?e:{default:e}}(n),u=e("pixi-gl-core");var r=function(){function RenderTarget(e,t,i,n,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RenderTarget),this.gl=e,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new o.Rectangle(0,0,1,1),this.resolution=r||l.default.RESOLUTION,this.projectionMatrix=new o.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new o.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.filterPoolKey="",this.scaleMode=void 0!==n?n:l.default.SCALE_MODE,this.root=a||!1,this.root?(this.frameBuffer=new u.GLFramebuffer(e,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=u.GLFramebuffer.createRGBA(e,100,100),this.scaleMode===s.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(t,i)}return RenderTarget.prototype.clear=function(e){var t=e||this.clearColor;this.frameBuffer.clear(t[0],t[1],t[2],t[3])},RenderTarget.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},RenderTarget.prototype.setFrame=function(e,t){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||this.destinationFrame},RenderTarget.prototype.activate=function(){var e=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(e.enable(e.SCISSOR_TEST),e.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):e.disable(e.SCISSOR_TEST),e.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},RenderTarget.prototype.calculateProjection=function(e,t){var i=this.projectionMatrix;t=t||e,i.identity(),this.root?(i.a=1/e.width*2,i.d=-1/e.height*2,i.tx=-1-t.x*i.a,i.ty=1-t.y*i.d):(i.a=1/e.width*2,i.d=1/e.height*2,i.tx=-1-t.x*i.a,i.ty=-1-t.y*i.d)},RenderTarget.prototype.resize=function(e,t){if(e|=0,t|=0,this.size.width!==e||this.size.height!==t){this.size.width=e,this.size.height=t,this.defaultFrame.width=e,this.defaultFrame.height=t,this.frameBuffer.resize(e*this.resolution,t*this.resolution);var i=this.frame||this.size;this.calculateProjection(i)}},RenderTarget.prototype.destroy=function(){this.frameBuffer.stencil&&this.gl.deleteRenderbuffer(this.frameBuffer.stencil),this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},RenderTarget}();i.default=r},{"../../../const":46,"../../../math":70,"../../../settings":101,"pixi-gl-core":15}],97:[function(e,t,i){i.__esModule=!0,i.default=function(e,t){var i=!t;if(0===e)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");if(i){var n=document.createElement("canvas");n.width=1,n.height=1,t=o.default.createContext(n)}var r=t.createShader(t.FRAGMENT_SHADER);for(;;){var a=s.replace(/%forloop%/gi,generateIfTestSrc(e));if(t.shaderSource(r,a),t.compileShader(r),t.getShaderParameter(r,t.COMPILE_STATUS))break;e=e/2|0}i&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").loseContext();return e};var n=e("pixi-gl-core"),o=function(e){return e&&e.__esModule?e:{default:e}}(n);var s=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join("\n");function generateIfTestSrc(e){for(var t="",i=0;i<e;++i)0<i&&(t+="\nelse "),i<e-1&&(t+="if(test == "+i+".0){}");return t}},{"pixi-gl-core":15}],98:[function(e,t,i){i.__esModule=!0,i.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[];return t[n.BLEND_MODES.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.ADD]=[e.ONE,e.ONE],t[n.BLEND_MODES.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.NORMAL_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA,e.ONE,e.ONE_MINUS_SRC_ALPHA],t[n.BLEND_MODES.ADD_NPM]=[e.SRC_ALPHA,e.ONE,e.ONE,e.ONE],t[n.BLEND_MODES.SCREEN_NPM]=[e.SRC_ALPHA,e.ONE_MINUS_SRC_COLOR,e.ONE,e.ONE_MINUS_SRC_ALPHA],t};var n=e("../../../const")},{"../../../const":46}],99:[function(e,t,i){i.__esModule=!0,i.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return t[n.DRAW_MODES.POINTS]=e.POINTS,t[n.DRAW_MODES.LINES]=e.LINES,t[n.DRAW_MODES.LINE_LOOP]=e.LINE_LOOP,t[n.DRAW_MODES.LINE_STRIP]=e.LINE_STRIP,t[n.DRAW_MODES.TRIANGLES]=e.TRIANGLES,t[n.DRAW_MODES.TRIANGLE_STRIP]=e.TRIANGLE_STRIP,t[n.DRAW_MODES.TRIANGLE_FAN]=e.TRIANGLE_FAN,t};var n=e("../../../const")},{"../../../const":46}],100:[function(e,t,i){i.__esModule=!0,i.default=function(e){e.getContextAttributes().stencil}},{}],101:[function(e,t,i){i.__esModule=!0;var n=e("./utils/maxRecommendedTextures"),r=_interopRequireDefault(n),a=e("./utils/canUploadSameBuffer"),o=_interopRequireDefault(a);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}i.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,r.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@([0-9\.]+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1,width:800,height:600,legacy:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION_VERTEX:"highp",PRECISION_FRAGMENT:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,o.default)(),MESH_CANVAS_PADDING:0}},{"./utils/canUploadSameBuffer":122,"./utils/maxRecommendedTextures":127}],102:[function(e,t,i){i.__esModule=!0;var r=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),a=e("../math"),o=e("../utils"),s=e("../const"),n=e("../textures/Texture"),l=_interopRequireDefault(n),u=e("../display/Container"),h=_interopRequireDefault(u);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var d=new a.Point,c=function(n){function Sprite(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Sprite);var t=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,n.call(this));return t._anchor=new a.ObservablePoint(t._onAnchorUpdate,t,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),t._texture=null,t._width=0,t._height=0,t._tint=null,t._tintRGB=null,t.tint=16777215,t.blendMode=s.BLEND_MODES.NORMAL,t.shader=null,t.cachedTint=16777215,t.texture=e||l.default.EMPTY,t.vertexData=new Float32Array(8),t.vertexTrimmedData=null,t._transformID=-1,t._textureID=-1,t._transformTrimmedID=-1,t._textureTrimmedID=-1,t.pluginName="sprite",t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Sprite,n),Sprite.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this.cachedTint=16777215,this._width&&(this.scale.x=(0,o.sign)(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=(0,o.sign)(this.scale.y)*this._height/this._texture.orig.height)},Sprite.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},Sprite.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var e=this._texture,t=this.transform.worldTransform,i=t.a,n=t.b,r=t.c,a=t.d,o=t.tx,s=t.ty,l=this.vertexData,u=e.trim,h=e.orig,d=this._anchor,c=0,p=0,f=0,m=0;f=u?(p=u.x-d._x*h.width,c=p+u.width,(m=u.y-d._y*h.height)+u.height):(p=-d._x*h.width,c=p+h.width,(m=-d._y*h.height)+h.height),l[0]=i*p+r*m+o,l[1]=a*m+n*p+s,l[2]=i*c+r*m+o,l[3]=a*m+n*c+s,l[4]=i*c+r*f+o,l[5]=a*f+n*c+s,l[6]=i*p+r*f+o,l[7]=a*f+n*p+s}},Sprite.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var e=this._texture,t=this.vertexTrimmedData,i=e.orig,n=this._anchor,r=this.transform.worldTransform,a=r.a,o=r.b,s=r.c,l=r.d,u=r.tx,h=r.ty,d=-n._x*i.width,c=d+i.width,p=-n._y*i.height,f=p+i.height;t[0]=a*d+s*p+u,t[1]=l*p+o*d+h,t[2]=a*c+s*p+u,t[3]=l*p+o*c+h,t[4]=a*c+s*f+u,t[5]=l*f+o*c+h,t[6]=a*d+s*f+u,t[7]=l*f+o*d+h},Sprite.prototype._renderWebGL=function(e){this.calculateVertices(),e.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},Sprite.prototype._renderCanvas=function(e){e.plugins[this.pluginName].render(this)},Sprite.prototype._calculateBounds=function(){var e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},Sprite.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new a.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):n.prototype.getLocalBounds.call(this,e)},Sprite.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,d);var t=this._texture.orig.width,i=this._texture.orig.height,n=-t*this.anchor.x,r=0;return d.x>=n&&d.x<n+t&&(r=-i*this.anchor.y,d.y>=r&&d.y<r+i)},Sprite.prototype.destroy=function(e){n.prototype.destroy.call(this,e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null;var t="boolean"==typeof e?e:e&&e.texture;if(t){var i="boolean"==typeof e?e:e&&e.baseTexture;this._texture.destroy(!!i)}this._texture=null,this.shader=null},Sprite.from=function(e){return new Sprite(l.default.from(e))},Sprite.fromFrame=function(e){var t=o.TextureCache[e];if(!t)throw new Error('The frameId "'+e+'" does not exist in the texture cache');return new Sprite(t)},Sprite.fromImage=function(e,t,i){return new Sprite(l.default.fromImage(e,t,i))},r(Sprite,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var t=(0,o.sign)(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var t=(0,o.sign)(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}},{key:"anchor",get:function(){return this._anchor},set:function(e){this._anchor.copy(e)}},{key:"tint",get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)}},{key:"texture",get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture=e||l.default.EMPTY,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.hasLoaded?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}]),Sprite}(h.default);i.default=c},{"../const":46,"../display/Container":48,"../math":70,"../textures/Texture":115,"../utils":125}],103:[function(e,t,i){i.__esModule=!0;var n=e("../../renderers/canvas/CanvasRenderer"),r=_interopRequireDefault(n),h=e("../../const"),d=e("../../math"),a=e("./CanvasTinter"),c=_interopRequireDefault(a);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var p=new d.Matrix,o=function(){function CanvasSpriteRenderer(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CanvasSpriteRenderer),this.renderer=e}return CanvasSpriteRenderer.prototype.render=function(e){var t=e._texture,i=this.renderer,n=t._frame.width,r=t._frame.height,a=e.transform.worldTransform,o=0,s=0;if(!(t.orig.width<=0||t.orig.height<=0)&&t.baseTexture.source&&(i.setBlendMode(e.blendMode),t.valid)){i.context.globalAlpha=e.worldAlpha;var l=t.baseTexture.scaleMode===h.SCALE_MODES.LINEAR;i.smoothProperty&&i.context[i.smoothProperty]!==l&&(i.context[i.smoothProperty]=l),s=t.trim?(o=t.trim.width/2+t.trim.x-e.anchor.x*t.orig.width,t.trim.height/2+t.trim.y-e.anchor.y*t.orig.height):(o=(.5-e.anchor.x)*t.orig.width,(.5-e.anchor.y)*t.orig.height),t.rotate&&(a.copy(p),a=p,d.GroupD8.matrixAppendRotationInv(a,t.rotate,o,s),s=o=0),o-=n/2,s-=r/2,i.roundPixels?(i.context.setTransform(a.a,a.b,a.c,a.d,a.tx*i.resolution|0,a.ty*i.resolution|0),o|=0,s|=0):i.context.setTransform(a.a,a.b,a.c,a.d,a.tx*i.resolution,a.ty*i.resolution);var u=t.baseTexture.resolution;16777215!==e.tint?(e.cachedTint===e.tint&&e.tintedTexture.tintId===e._texture._updateID||(e.cachedTint=e.tint,e.tintedTexture=c.default.getTintedTexture(e,e.tint)),i.context.drawImage(e.tintedTexture,0,0,n*u,r*u,o*i.resolution,s*i.resolution,n*i.resolution,r*i.resolution)):i.context.drawImage(t.baseTexture.source,t._frame.x*u,t._frame.y*u,n*u,r*u,o*i.resolution,s*i.resolution,n*i.resolution,r*i.resolution)}},CanvasSpriteRenderer.prototype.destroy=function(){this.renderer=null},CanvasSpriteRenderer}();i.default=o,r.default.registerPlugin("sprite",o)},{"../../const":46,"../../math":70,"../../renderers/canvas/CanvasRenderer":77,"./CanvasTinter":104}],104:[function(e,t,i){i.__esModule=!0;var p=e("../../utils"),n=e("../../renderers/canvas/utils/canUseNewCanvasBlendModes"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);var s={getTintedTexture:function(e,t){var i=e._texture,n="#"+("00000"+(0|(t=s.roundColor(t))).toString(16)).substr(-6);i.tintCache=i.tintCache||{};var r=i.tintCache[n],a=void 0;if(r){if(r.tintId===i._updateID)return i.tintCache[n];a=i.tintCache[n]}else a=s.canvas||document.createElement("canvas");if(s.tintMethod(i,t,a),a.tintId=i._updateID,s.convertTintToImage){var o=new Image;o.src=a.toDataURL(),i.tintCache[n]=o}else i.tintCache[n]=a,s.canvas=null;return a},tintWithMultiply:function(e,t,i){var n=i.getContext("2d"),r=e._frame.clone(),a=e.baseTexture.resolution;r.x*=a,r.y*=a,r.width*=a,r.height*=a,i.width=Math.ceil(r.width),i.height=Math.ceil(r.height),n.save(),n.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),n.fillRect(0,0,r.width,r.height),n.globalCompositeOperation="multiply",n.drawImage(e.baseTexture.source,r.x,r.y,r.width,r.height,0,0,r.width,r.height),n.globalCompositeOperation="destination-atop",n.drawImage(e.baseTexture.source,r.x,r.y,r.width,r.height,0,0,r.width,r.height),n.restore()},tintWithOverlay:function(e,t,i){var n=i.getContext("2d"),r=e._frame.clone(),a=e.baseTexture.resolution;r.x*=a,r.y*=a,r.width*=a,r.height*=a,i.width=Math.ceil(r.width),i.height=Math.ceil(r.height),n.save(),n.globalCompositeOperation="copy",n.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),n.fillRect(0,0,r.width,r.height),n.globalCompositeOperation="destination-atop",n.drawImage(e.baseTexture.source,r.x,r.y,r.width,r.height,0,0,r.width,r.height),n.restore()},tintWithPerPixel:function(e,t,i){var n=i.getContext("2d"),r=e._frame.clone(),a=e.baseTexture.resolution;r.x*=a,r.y*=a,r.width*=a,r.height*=a,i.width=Math.ceil(r.width),i.height=Math.ceil(r.height),n.save(),n.globalCompositeOperation="copy",n.drawImage(e.baseTexture.source,r.x,r.y,r.width,r.height,0,0,r.width,r.height),n.restore();for(var o=(0,p.hex2rgb)(t),s=o[0],l=o[1],u=o[2],h=n.getImageData(0,0,r.width,r.height),d=h.data,c=0;c<d.length;c+=4)d[c+0]*=s,d[c+1]*=l,d[c+2]*=u;n.putImageData(h,0,0)},roundColor:function(e){var t=s.cacheStepsPerColorChannel,i=(0,p.hex2rgb)(e);return i[0]=Math.min(255,i[0]/t*t),i[1]=Math.min(255,i[1]/t*t),i[2]=Math.min(255,i[2]/t*t),(0,p.rgb2hex)(i)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,r.default)(),tintMethod:0};s.tintMethod=s.canUseMultiply?s.tintWithMultiply:s.tintWithPerPixel,i.default=s},{"../../renderers/canvas/utils/canUseNewCanvasBlendModes":80,"../../utils":125}],105:[function(e,t,i){i.__esModule=!0;var n=function(){function Buffer(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Buffer),this.vertices=new ArrayBuffer(e),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return Buffer.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},Buffer}();i.default=n},{}],106:[function(e,t,i){i.__esModule=!0;var n=e("../../renderers/webgl/utils/ObjectRenderer"),r=_interopRequireDefault(n),a=e("../../renderers/webgl/WebGLRenderer"),o=_interopRequireDefault(a),s=e("../../utils/createIndicesForQuads"),l=_interopRequireDefault(s),u=e("./generateMultiTextureShader"),h=_interopRequireDefault(u),d=e("../../renderers/webgl/utils/checkMaxIfStatmentsInShader"),c=_interopRequireDefault(d),p=e("./BatchBuffer"),f=_interopRequireDefault(p),m=e("../../settings"),N=_interopRequireDefault(m),F=e("../../utils"),_=e("pixi-gl-core"),Y=_interopRequireDefault(_),g=e("bit-twiddle"),U=_interopRequireDefault(g);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var j=0,z=0,v=function(r){function SpriteRenderer(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,SpriteRenderer);var t=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,r.call(this,e));t.vertSize=5,t.vertByteSize=4*t.vertSize,t.size=N.default.SPRITE_BATCH_SIZE,t.buffers=[];for(var i=1;i<=U.default.nextPow2(t.size);i*=2)t.buffers.push(new f.default(4*i*t.vertByteSize));t.indices=(0,l.default)(t.size),t.shader=null,t.currentIndex=0,t.groups=[];for(var n=0;n<t.size;n++)t.groups[n]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return t.sprites=[],t.vertexBuffers=[],t.vaos=[],t.vaoMax=2,t.vertexCount=0,t.renderer.on("prerender",t.onPrerender,t),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(SpriteRenderer,r),SpriteRenderer.prototype.onContextChange=function(){var e=this.renderer.gl;this.renderer.legacy?this.MAX_TEXTURES=1:(this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),N.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,c.default)(this.MAX_TEXTURES,e)),this.shader=(0,h.default)(e,this.MAX_TEXTURES),this.indexBuffer=Y.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.renderer.bindVao(null);for(var t=this.shader.attributes,i=0;i<this.vaoMax;i++){var n=this.vertexBuffers[i]=Y.default.GLBuffer.createVertexBuffer(e,null,e.STREAM_DRAW),r=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(n,t.aVertexPosition,e.FLOAT,!1,this.vertByteSize,0).addAttribute(n,t.aTextureCoord,e.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(n,t.aColor,e.UNSIGNED_BYTE,!0,this.vertByteSize,12);t.aTextureId&&r.addAttribute(n,t.aTextureId,e.FLOAT,!1,this.vertByteSize,16),this.vaos[i]=r}this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},SpriteRenderer.prototype.onPrerender=function(){this.vertexCount=0},SpriteRenderer.prototype.render=function(e){this.currentIndex>=this.size&&this.flush(),e._texture._uvs&&(this.sprites[this.currentIndex++]=e)},SpriteRenderer.prototype.flush=function(){if(0!==this.currentIndex){var e=this.renderer.gl,t=this.MAX_TEXTURES,i=U.default.nextPow2(this.currentIndex),n=U.default.log2(i),r=this.buffers[n],a=this.sprites,o=this.groups,s=r.float32View,l=r.uint32View,u=this.boundTextures,h=this.renderer.boundTextures,d=this.renderer.textureGC.count,c=0,p=void 0,f=void 0,m=1,_=0,g=o[0],v=void 0,y=void 0,b=F.premultiplyBlendMode[a[0]._texture.baseTexture.premultipliedAlpha?1:0][a[0].blendMode];g.textureCount=0,g.start=0,g.blend=b,j++;var w=void 0;for(w=0;w<t;++w){var x=h[w];x._enabled!==j?((u[w]=x)._virtalBoundId=w,x._enabled=j):u[w]=this.renderer.emptyTextures[w]}for(j++,w=0;w<this.currentIndex;++w){var T=a[w];a[w]=null,p=T._texture.baseTexture;var S=F.premultiplyBlendMode[Number(p.premultipliedAlpha)][T.blendMode];if(b!==S&&(b=S,f=null,_=t,j++),f!==p&&(f=p)._enabled!==j){if(_===t&&(j++,g.size=w-g.start,_=0,(g=o[m++]).blend=b,g.textureCount=0,g.start=w),p.touched=d,-1===p._virtalBoundId)for(var M=0;M<t;++M){var L=(M+z)%t,E=u[L];if(E._enabled!==j){z++,E._virtalBoundId=-1,p._virtalBoundId=L,u[L]=p;break}}p._enabled=j,g.textureCount++,g.ids[_]=p._virtalBoundId,g.textures[_++]=p}if(v=T.vertexData,y=T._texture._uvs.uvsUint32,this.renderer.roundPixels){var C=this.renderer.resolution;s[c]=(v[0]*C|0)/C,s[c+1]=(v[1]*C|0)/C,s[c+5]=(v[2]*C|0)/C,s[c+6]=(v[3]*C|0)/C,s[c+10]=(v[4]*C|0)/C,s[c+11]=(v[5]*C|0)/C,s[c+15]=(v[6]*C|0)/C,s[c+16]=(v[7]*C|0)/C}else s[c]=v[0],s[c+1]=v[1],s[c+5]=v[2],s[c+6]=v[3],s[c+10]=v[4],s[c+11]=v[5],s[c+15]=v[6],s[c+16]=v[7];l[c+2]=y[0],l[c+7]=y[1],l[c+12]=y[2],l[c+17]=y[3];var A=Math.min(T.worldAlpha,1),P=A<1&&p.premultipliedAlpha?(0,F.premultiplyTint)(T._tintRGB,A):T._tintRGB+(255*A<<24);l[c+3]=l[c+8]=l[c+13]=l[c+18]=P,s[c+4]=s[c+9]=s[c+14]=s[c+19]=p._virtalBoundId,c+=20}if(g.size=w-g.start,N.default.CAN_UPLOAD_SAME_BUFFER)this.vertexBuffers[this.vertexCount].upload(r.vertices,0,!0);else{if(this.vaoMax<=this.vertexCount){this.vaoMax++;var D=this.shader.attributes,R=this.vertexBuffers[this.vertexCount]=Y.default.GLBuffer.createVertexBuffer(e,null,e.STREAM_DRAW),k=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(R,D.aVertexPosition,e.FLOAT,!1,this.vertByteSize,0).addAttribute(R,D.aTextureCoord,e.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(R,D.aColor,e.UNSIGNED_BYTE,!0,this.vertByteSize,12);D.aTextureId&&k.addAttribute(R,D.aTextureId,e.FLOAT,!1,this.vertByteSize,16),this.vaos[this.vertexCount]=k}this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(r.vertices,0,!1),this.vertexCount++}for(w=0;w<t;++w)h[w]._virtalBoundId=-1;for(w=0;w<m;++w){for(var I=o[w],O=I.textureCount,B=0;B<O;B++)f=I.textures[B],h[I.ids[B]]!==f&&this.renderer.bindTexture(f,I.ids[B],!0),f._virtalBoundId=-1;this.renderer.state.setBlendMode(I.blend),e.drawElements(e.TRIANGLES,6*I.size,e.UNSIGNED_SHORT,6*I.start*2)}this.currentIndex=0}},SpriteRenderer.prototype.start=function(){this.renderer.bindShader(this.shader),N.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},SpriteRenderer.prototype.stop=function(){this.flush()},SpriteRenderer.prototype.destroy=function(){for(var e=0;e<this.vaoMax;e++)this.vertexBuffers[e]&&this.vertexBuffers[e].destroy(),this.vaos[e]&&this.vaos[e].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),r.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(var t=0;t<this.buffers.length;++t)this.buffers[t].destroy()},SpriteRenderer}(r.default);i.default=v,o.default.registerPlugin("sprite",v)},{"../../renderers/webgl/WebGLRenderer":84,"../../renderers/webgl/utils/ObjectRenderer":94,"../../renderers/webgl/utils/checkMaxIfStatmentsInShader":97,"../../settings":101,"../../utils":125,"../../utils/createIndicesForQuads":123,"./BatchBuffer":105,"./generateMultiTextureShader":107,"bit-twiddle":1,"pixi-gl-core":15}],107:[function(e,t,i){i.__esModule=!0,i.default=function(e,t){var i=s;i=(i=i.replace(/%count%/gi,t)).replace(/%forloop%/gi,function(e){var t="";t+="\n",t+="\n";for(var i=0;i<e;i++)0<i&&(t+="\nelse "),i<e-1&&(t+="if(vTextureId < "+i+".5)"),t+="\n{",t+="\n\tcolor = texture2D(uSamplers["+i+"], vTextureCoord);",t+="\n}";return t+="\n",t+="\n"}(t));for(var n=new o.default(e,"precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",i),r=[],a=0;a<t;a++)r[a]=a;return n.bind(),n.uniforms.uSamplers=r,n};var n=e("../../Shader"),o=function(e){return e&&e.__esModule?e:{default:e}}(n);e("path");var s=["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","%forloop%","gl_FragColor = color * vColor;","}"].join("\n")},{"../../Shader":44,path:8}],108:[function(e,t,i){i.__esModule=!0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=e("../sprites/Sprite"),a=_interopRequireDefault(r),o=e("../textures/Texture"),s=_interopRequireDefault(o),l=e("../math"),u=e("../utils"),m=e("../const"),h=e("../settings"),d=_interopRequireDefault(h),c=e("./TextStyle"),p=_interopRequireDefault(c),f=e("./TextMetrics"),g=_interopRequireDefault(f),_=e("../utils/trimCanvas"),v=_interopRequireDefault(_);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var y={texture:!0,children:!1,baseTexture:!0},b=function(a){function Text(e,t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Text),(i=i||document.createElement("canvas")).width=3,i.height=3;var n=s.default.fromCanvas(i,d.default.SCALE_MODE,"text");n.orig=new l.Rectangle,n.trim=new l.Rectangle;var r=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,a.call(this,n));return s.default.addToCache(r._texture,r._texture.baseTexture.textureCacheIds[0]),r.canvas=i,r.context=r.canvas.getContext("2d"),r.resolution=d.default.RESOLUTION,r._text=null,r._style=null,r._styleListener=null,r._font="",r.text=e,r.style=t,r.localStyleID=-1,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Text,a),Text.prototype.updateText=function(e){var t=this._style;if(this.localStyleID!==t.styleID&&(this.dirty=!0,this.localStyleID=t.styleID),this.dirty||!e){this._font=this._style.toFontString();var i=this.context,n=g.default.measureText(this._text,this._style,this._style.wordWrap,this.canvas),r=n.width,a=n.height,o=n.lines,s=n.lineHeight,l=n.lineWidths,u=n.maxLineWidth,h=n.fontProperties;this.canvas.width=Math.ceil((Math.max(1,r)+2*t.padding)*this.resolution),this.canvas.height=Math.ceil((Math.max(1,a)+2*t.padding)*this.resolution),i.scale(this.resolution,this.resolution),i.clearRect(0,0,this.canvas.width,this.canvas.height),i.font=this._font,i.strokeStyle=t.stroke,i.lineWidth=t.strokeThickness,i.textBaseline=t.textBaseline,i.lineJoin=t.lineJoin,i.miterLimit=t.miterLimit;var d=void 0,c=void 0;if(t.dropShadow){i.fillStyle=t.dropShadowColor,i.globalAlpha=t.dropShadowAlpha,i.shadowBlur=t.dropShadowBlur,0<t.dropShadowBlur&&(i.shadowColor=t.dropShadowColor);for(var p=Math.cos(t.dropShadowAngle)*t.dropShadowDistance,f=Math.sin(t.dropShadowAngle)*t.dropShadowDistance,m=0;m<o.length;m++)d=t.strokeThickness/2,c=t.strokeThickness/2+m*s+h.ascent,"right"===t.align?d+=u-l[m]:"center"===t.align&&(d+=(u-l[m])/2),t.fill&&(this.drawLetterSpacing(o[m],d+p+t.padding,c+f+t.padding),t.stroke&&t.strokeThickness&&(i.strokeStyle=t.dropShadowColor,this.drawLetterSpacing(o[m],d+p+t.padding,c+f+t.padding,!0),i.strokeStyle=t.stroke))}i.shadowBlur=0,i.globalAlpha=1,i.fillStyle=this._generateFillStyle(t,o);for(var _=0;_<o.length;_++)d=t.strokeThickness/2,c=t.strokeThickness/2+_*s+h.ascent,"right"===t.align?d+=u-l[_]:"center"===t.align&&(d+=(u-l[_])/2),t.stroke&&t.strokeThickness&&this.drawLetterSpacing(o[_],d+t.padding,c+t.padding,!0),t.fill&&this.drawLetterSpacing(o[_],d+t.padding,c+t.padding);this.updateTexture()}},Text.prototype.drawLetterSpacing=function(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]&&arguments[3],r=this._style,a=r.letterSpacing;if(0!==a)for(var o=String.prototype.split.call(e,""),s=t,l=0,u="",h=this.context.measureText(e).width,d=0;l<e.length;)u=o[l++],n?this.context.strokeText(u,s,i):this.context.fillText(u,s,i),d=this.context.measureText(e.substring(l)).width,s+=h-d+a,h=d;else n?this.context.strokeText(e,t,i):this.context.fillText(e,t,i)},Text.prototype.updateTexture=function(){var e=this.canvas;if(this._style.trim){var t=(0,v.default)(e);t.data&&(e.width=t.width,e.height=t.height,this.context.putImageData(t.data,0,0))}var i=this._texture,n=this._style,r=n.trim?0:n.padding,a=i.baseTexture;a.hasLoaded=!0,a.resolution=this.resolution,a.realWidth=e.width,a.realHeight=e.height,a.width=e.width/this.resolution,a.height=e.height/this.resolution,i.trim.width=i._frame.width=e.width/this.resolution,i.trim.height=i._frame.height=e.height/this.resolution,i.trim.x=-r,i.trim.y=-r,i.orig.width=i._frame.width-2*r,i.orig.height=i._frame.height-2*r,this._onTextureUpdate(),a.emit("update",a),this.dirty=!1},Text.prototype.renderWebGL=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),a.prototype.renderWebGL.call(this,e)},Text.prototype._renderCanvas=function(e){this.resolution!==e.resolution&&(this.resolution=e.resolution,this.dirty=!0),this.updateText(!0),a.prototype._renderCanvas.call(this,e)},Text.prototype.getLocalBounds=function(e){return this.updateText(!0),a.prototype.getLocalBounds.call(this,e)},Text.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},Text.prototype._onStyleChange=function(){this.dirty=!0},Text.prototype._generateFillStyle=function(e,t){if(!Array.isArray(e.fill))return e.fill;if(navigator.isCocoonJS)return e.fill[0];var i=void 0,n=void 0,r=void 0,a=void 0,o=this.canvas.width/this.resolution,s=this.canvas.height/this.resolution,l=e.fill.slice(),u=e.fillGradientStops.slice();if(!u.length)for(var h=l.length+1,d=1;d<h;++d)u.push(d/h);if(l.unshift(e.fill[0]),u.unshift(0),l.push(e.fill[e.fill.length-1]),u.push(1),e.fillGradientType===m.TEXT_GRADIENT.LINEAR_VERTICAL){i=this.context.createLinearGradient(o/2,0,o/2,s),n=(l.length+1)*t.length;for(var c=r=0;c<t.length;c++){r+=1;for(var p=0;p<l.length;p++)a="number"==typeof u[p]?u[p]/t.length+c/t.length:r/n,i.addColorStop(a,l[p]),r++}}else{i=this.context.createLinearGradient(0,s/2,o,s/2),n=l.length+1,r=1;for(var f=0;f<l.length;f++)a="number"==typeof u[f]?u[f]:r/n,i.addColorStop(a,l[f]),r++}return i},Text.prototype.destroy=function(e){"boolean"==typeof e&&(e={children:e}),e=Object.assign({},y,e),a.prototype.destroy.call(this,e),this.context=null,this.canvas=null,this._style=null},n(Text,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var t=(0,u.sign)(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var t=(0,u.sign)(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}},{key:"style",get:function(){return this._style},set:function(e){(e=e||{})instanceof p.default?this._style=e:this._style=new p.default(e),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(e){e=String(""===e||null==e?" ":e),this._text!==e&&(this._text=e,this.dirty=!0)}}]),Text}(a.default);i.default=b},{"../const":46,"../math":70,"../settings":101,"../sprites/Sprite":102,"../textures/Texture":115,"../utils":125,"../utils/trimCanvas":130,"./TextMetrics":109,"./TextStyle":110}],109:[function(e,t,i){i.__esModule=!0;var n=function(){function TextMetrics(e,t,i,n,r,a,o,s,l){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TextMetrics),this.text=e,this.style=t,this.width=i,this.height=n,this.lines=r,this.lineWidths=a,this.lineHeight=o,this.maxLineWidth=s,this.fontProperties=l}return TextMetrics.measureText=function(e,t,i){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:TextMetrics._canvas;i=null==i?t.wordWrap:i;var r=t.toFontString(),a=TextMetrics.measureFont(r),o=n.getContext("2d");o.font=r;for(var s=i?TextMetrics.wordWrap(e,t,n):e,l=s.split(/(?:\r\n|\r|\n)/),u=new Array(l.length),h=0,d=0;d<l.length;d++){var c=o.measureText(l[d]).width+(l[d].length-1)*t.letterSpacing;u[d]=c,h=Math.max(h,c)}var p=h+t.strokeThickness;t.dropShadow&&(p+=t.dropShadowDistance);var f=t.lineHeight||a.fontSize+t.strokeThickness,m=Math.max(f,a.fontSize+t.strokeThickness)+(l.length-1)*(f+t.leading);return t.dropShadow&&(m+=t.dropShadowDistance),new TextMetrics(e,t,p,m,l,u,f+t.leading,h,a)},TextMetrics.wordWrap=function(e,t){for(var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:TextMetrics._canvas,n=i.getContext("2d"),r=0,a="",o="",s={},l=t.letterSpacing,u=t.whiteSpace,h=TextMetrics.collapseSpaces(u),d=TextMetrics.collapseNewlines(u),c=!h,p=t.wordWrapWidth+l,f=TextMetrics.tokenize(e),m=0;m<f.length;m++){var _=f[m];if(TextMetrics.isNewline(_)){if(!d){o+=TextMetrics.addLine(a),c=!h,a="",r=0;continue}_=" "}if(h){var g=TextMetrics.isBreakingSpace(_),v=TextMetrics.isBreakingSpace(a[a.length-1]);if(g&&v)continue}var y=TextMetrics.getFromCache(_,l,s,n);if(p<y)if(""!==a&&(o+=TextMetrics.addLine(a),a="",r=0),TextMetrics.canBreakWords(_,t.breakWords))for(var b=_.split(""),w=0;w<b.length;w++){for(var x=b[w],T=1;b[w+T];){var S=b[w+T],M=x[x.length-1];if(TextMetrics.canBreakChars(M,S,_,w,t.breakWords))break;x+=S,T++}w+=x.length-1;var L=TextMetrics.getFromCache(x,l,s,n);p<L+r&&(o+=TextMetrics.addLine(a),c=!1,a="",r=0),a+=x,r+=L}else{0<a.length&&(o+=TextMetrics.addLine(a),a="",r=0);var E=m===f.length-1;o+=TextMetrics.addLine(_,!E),c=!1,a="",r=0}else p<y+r&&(c=!1,o+=TextMetrics.addLine(a),a="",r=0),(0<a.length||!TextMetrics.isBreakingSpace(_)||c)&&(a+=_,r+=y)}return o+=TextMetrics.addLine(a,!1)},TextMetrics.addLine=function(e){var t=!(1<arguments.length&&void 0!==arguments[1])||arguments[1];return e=TextMetrics.trimRight(e),e=t?e+"\n":e},TextMetrics.getFromCache=function(e,t,i,n){var r=i[e];if(void 0===r){var a=e.length*t;r=n.measureText(e).width+a,i[e]=r}return r},TextMetrics.collapseSpaces=function(e){return"normal"===e||"pre-line"===e},TextMetrics.collapseNewlines=function(e){return"normal"===e},TextMetrics.trimRight=function(e){if("string"!=typeof e)return"";for(var t=e.length-1;0<=t;t--){var i=e[t];if(!TextMetrics.isBreakingSpace(i))break;e=e.slice(0,-1)}return e},TextMetrics.isNewline=function(e){return"string"==typeof e&&0<=TextMetrics._newlines.indexOf(e.charCodeAt(0))},TextMetrics.isBreakingSpace=function(e){return"string"==typeof e&&0<=TextMetrics._breakingSpaces.indexOf(e.charCodeAt(0))},TextMetrics.tokenize=function(e){var t=[],i="";if("string"!=typeof e)return t;for(var n=0;n<e.length;n++){var r=e[n];TextMetrics.isBreakingSpace(r)||TextMetrics.isNewline(r)?(""!==i&&(t.push(i),i=""),t.push(r)):i+=r}return""!==i&&t.push(i),t},TextMetrics.canBreakWords=function(e,t){return t},TextMetrics.canBreakChars=function(e,t,i,n,r){return!0},TextMetrics.measureFont=function(e){if(TextMetrics._fonts[e])return TextMetrics._fonts[e];var t={},i=TextMetrics._canvas,n=TextMetrics._context;n.font=e;var r=TextMetrics.METRICS_STRING+TextMetrics.BASELINE_SYMBOL,a=Math.ceil(n.measureText(r).width),o=Math.ceil(n.measureText(TextMetrics.BASELINE_SYMBOL).width),s=2*o;o=o*TextMetrics.BASELINE_MULTIPLIER|0,i.width=a,i.height=s,n.fillStyle="#f00",n.fillRect(0,0,a,s),n.font=e,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(r,0,o);var l=n.getImageData(0,0,a,s).data,u=l.length,h=4*a,d=0,c=0,p=!1;for(d=0;d<o;++d){for(var f=0;f<h;f+=4)if(255!==l[c+f]){p=!0;break}if(p)break;c+=h}for(t.ascent=o-d,c=u-h,p=!1,d=s;o<d;--d){for(var m=0;m<h;m+=4)if(255!==l[c+m]){p=!0;break}if(p)break;c-=h}return t.descent=d-o,t.fontSize=t.ascent+t.descent,TextMetrics._fonts[e]=t},TextMetrics.clearMetrics=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"";e?delete TextMetrics._fonts[e]:TextMetrics._fonts={}},TextMetrics}();i.default=n;var r=document.createElement("canvas");r.width=r.height=10,n._canvas=r,n._context=r.getContext("2d"),n._fonts={},n.METRICS_STRING="|q",n.BASELINE_SYMBOL="M",n.BASELINE_MULTIPLIER=1.4,n._newlines=[10,13],n._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288]},{}],110:[function(e,t,i){i.__esModule=!0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=e("../const"),a=e("../utils");var o={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:r.TEXT_GRADIENT.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100,leading:0},s=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],l=function(){function TextStyle(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TextStyle),this.styleID=0,this.reset(),deepCopyProperties(this,e,e)}return TextStyle.prototype.clone=function(){var e={};return deepCopyProperties(e,this,o),new TextStyle(e)},TextStyle.prototype.reset=function(){deepCopyProperties(this,o,o)},TextStyle.prototype.toFontString=function(){var e="number"==typeof this.fontSize?this.fontSize+"px":this.fontSize,t=this.fontFamily;Array.isArray(this.fontFamily)||(t=this.fontFamily.split(","));for(var i=t.length-1;0<=i;i--){var n=t[i].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&s.indexOf(n)<0&&(n='"'+n+'"'),t[i]=n}return this.fontStyle+" "+this.fontVariant+" "+this.fontWeight+" "+e+" "+t.join(",")},n(TextStyle,[{key:"align",get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}},{key:"dropShadowAlpha",get:function(){return this._dropShadowAlpha},set:function(e){this._dropShadowAlpha!==e&&(this._dropShadowAlpha=e,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(e){var t=getColor(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(e){var t=getColor(e);this._fill!==t&&(this._fill=t,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}},{key:"fillGradientStops",get:function(){return this._fillGradientStops},set:function(e){!function(e,t){if(!Array.isArray(e)||!Array.isArray(t))return;if(e.length!==t.length)return;for(var i=0;i<e.length;++i)if(e[i]!==t[i])return;return 1}(this._fillGradientStops,e)&&(this._fillGradientStops=e,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}},{key:"leading",get:function(){return this._leading},set:function(e){this._leading!==e&&(this._leading=e,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(e){var t=getColor(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}},{key:"trim",get:function(){return this._trim},set:function(e){this._trim!==e&&(this._trim=e,this.styleID++)}},{key:"whiteSpace",get:function(){return this._whiteSpace},set:function(e){this._whiteSpace!==e&&(this._whiteSpace=e,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}}]),TextStyle}();function getSingleColor(e){return"number"==typeof e?(0,a.hex2string)(e):("string"==typeof e&&0===e.indexOf("0x")&&(e=e.replace("0x","#")),e)}function getColor(e){if(Array.isArray(e)){for(var t=0;t<e.length;++t)e[t]=getSingleColor(e[t]);return e}return getSingleColor(e)}function deepCopyProperties(e,t,i){for(var n in i)Array.isArray(t[n])?e[n]=t[n].slice():e[n]=t[n]}i.default=l},{"../const":46,"../utils":125}],111:[function(e,t,i){i.__esModule=!0;var n=e("./BaseTexture"),r=_interopRequireDefault(n),a=e("../settings"),o=_interopRequireDefault(a);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var s=function(a){function BaseRenderTexture(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:100,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,i=arguments[2],n=arguments[3];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BaseRenderTexture);var r=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,a.call(this,null,i));return r.resolution=n||o.default.RESOLUTION,r.width=Math.ceil(e),r.height=Math.ceil(t),r.realWidth=r.width*r.resolution,r.realHeight=r.height*r.resolution,r.scaleMode=void 0!==i?i:o.default.SCALE_MODE,r.hasLoaded=!0,r._glRenderTargets={},r._canvasRenderTarget=null,r.valid=!1,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(BaseRenderTexture,a),BaseRenderTexture.prototype.resize=function(e,t){e=Math.ceil(e),t=Math.ceil(t),e===this.width&&t===this.height||(this.valid=0<e&&0<t,this.width=e,this.height=t,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},BaseRenderTexture.prototype.destroy=function(){a.prototype.destroy.call(this,!0),this.renderer=null},BaseRenderTexture}(r.default);i.default=s},{"../settings":101,"./BaseTexture":112}],112:[function(e,t,i){i.__esModule=!0;var o=e("../utils"),n=e("../settings"),a=_interopRequireDefault(n),r=e("eventemitter3"),s=_interopRequireDefault(r),l=e("../utils/determineCrossOrigin"),u=_interopRequireDefault(l),h=e("bit-twiddle"),d=_interopRequireDefault(h);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var c=function(r){function BaseTexture(e,t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BaseTexture);var n=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,r.call(this));return n.uid=(0,o.uid)(),n.touched=0,n.resolution=i||a.default.RESOLUTION,n.width=100,n.height=100,n.realWidth=100,n.realHeight=100,n.scaleMode=void 0!==t?t:a.default.SCALE_MODE,n.hasLoaded=!1,n.isLoading=!1,n.source=null,n.origSource=null,n.imageType=null,n.sourceScale=1,n.premultipliedAlpha=!0,n.imageUrl=null,n.isPowerOfTwo=!1,n.mipmap=a.default.MIPMAP_TEXTURES,n.wrapMode=a.default.WRAP_MODE,n._glTextures={},n._enabled=0,n._virtalBoundId=-1,n._destroyed=!1,n.textureCacheIds=[],e&&n.loadSource(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(BaseTexture,r),BaseTexture.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this._updateDimensions()),this.emit("update",this)},BaseTexture.prototype._updateDimensions=function(){this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=d.default.isPow2(this.realWidth)&&d.default.isPow2(this.realHeight)},BaseTexture.prototype.loadSource=function(e){var t=this.isLoading;this.hasLoaded=!1,this.isLoading=!1,t&&this.source&&(this.source.onload=null,this.source.onerror=null);var i=!this.source;if(((this.source=e).src&&e.complete||e.getContext)&&e.width&&e.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),i&&this.emit("loaded",this);else if(!e.getContext){this.isLoading=!0;var n=this;if(e.onload=function(){n._updateImageType(),e.onload=null,e.onerror=null,n.isLoading&&(n.isLoading=!1,n._sourceLoaded(),"svg"!==n.imageType?n.emit("loaded",n):n._loadSvgSource())},e.onerror=function(){e.onload=null,e.onerror=null,n.isLoading&&(n.isLoading=!1,n.emit("error",n))},e.complete&&e.src){if(e.onload=null,e.onerror=null,"svg"===n.imageType)return void n._loadSvgSource();this.isLoading=!1,e.width&&e.height?(this._sourceLoaded(),t&&this.emit("loaded",this)):t&&this.emit("error",this)}}},BaseTexture.prototype._updateImageType=function(){if(this.imageUrl){var e=(0,o.decomposeDataUri)(this.imageUrl),t=void 0;if(e&&"image"===e.mediaType){var i=e.subType.split("+")[0];if(!(t=(0,o.getUrlFileExtension)("."+i)))throw new Error("Invalid image type in data URI.")}else t=(t=(0,o.getUrlFileExtension)(this.imageUrl))||"png";this.imageType=t}},BaseTexture.prototype._loadSvgSource=function(){if("svg"===this.imageType){var e=(0,o.decomposeDataUri)(this.imageUrl);e?this._loadSvgSourceUsingDataUri(e):this._loadSvgSourceUsingXhr()}},BaseTexture.prototype._loadSvgSourceUsingDataUri=function(e){var t=void 0;if("base64"===e.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");t=atob(e.data)}else t=e.data;this._loadSvgSourceUsingString(t)},BaseTexture.prototype._loadSvgSourceUsingXhr=function(){var e=this,t=new XMLHttpRequest;t.onload=function(){if(t.readyState!==t.DONE||200!==t.status)throw new Error("Failed to load SVG using XHR.");e._loadSvgSourceUsingString(t.response)},t.onerror=function(){return e.emit("error",e)},t.open("GET",this.imageUrl,!0),t.send()},BaseTexture.prototype._loadSvgSourceUsingString=function(e){var t=(0,o.getSvgSize)(e),i=t.width,n=t.height;if(!i||!n)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(i*this.sourceScale),this.realHeight=Math.round(n*this.sourceScale),this._updateDimensions();var r=document.createElement("canvas");r.width=this.realWidth,r.height=this.realHeight,r._pixiId="canvas_"+(0,o.uid)(),r.getContext("2d").drawImage(this.source,0,0,i,n,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=r,BaseTexture.addToCache(this,r._pixiId),this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},BaseTexture.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},BaseTexture.prototype.destroy=function(){this.imageUrl&&(delete o.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source=null,this.dispose(),BaseTexture.removeFromCache(this),this.textureCacheIds=null,this._destroyed=!0},BaseTexture.prototype.dispose=function(){this.emit("dispose",this)},BaseTexture.prototype.updateSourceImage=function(e){this.source.src=e,this.loadSource(this.source)},BaseTexture.fromImage=function(e,t,i,n){var r=o.BaseTextureCache[e];if(!r){var a=new Image;void 0===t&&0!==e.indexOf("data:")?a.crossOrigin=(0,u.default)(e):t&&(a.crossOrigin="string"==typeof t?t:"anonymous"),(r=new BaseTexture(a,i)).imageUrl=e,n&&(r.sourceScale=n),r.resolution=(0,o.getResolutionOfUrl)(e),a.src=e,BaseTexture.addToCache(r,e)}return r},BaseTexture.fromCanvas=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"canvas";e._pixiId||(e._pixiId=i+"_"+(0,o.uid)());var n=o.BaseTextureCache[e._pixiId];return n||(n=new BaseTexture(e,t),BaseTexture.addToCache(n,e._pixiId)),n},BaseTexture.from=function(e,t,i){if("string"==typeof e)return BaseTexture.fromImage(e,void 0,t,i);if(e instanceof HTMLImageElement){var n=e.src,r=o.BaseTextureCache[n];return r||((r=new BaseTexture(e,t)).imageUrl=n,i&&(r.sourceScale=i),r.resolution=(0,o.getResolutionOfUrl)(n),BaseTexture.addToCache(r,n)),r}return e instanceof HTMLCanvasElement?BaseTexture.fromCanvas(e,t):e},BaseTexture.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),o.BaseTextureCache[t],o.BaseTextureCache[t]=e)},BaseTexture.removeFromCache=function(e){if("string"==typeof e){var t=o.BaseTextureCache[e];if(t){var i=t.textureCacheIds.indexOf(e);return-1<i&&t.textureCacheIds.splice(i,1),delete o.BaseTextureCache[e],t}}else if(e&&e.textureCacheIds){for(var n=0;n<e.textureCacheIds.length;++n)delete o.BaseTextureCache[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null},BaseTexture}(s.default);i.default=c},{"../settings":101,"../utils":125,"../utils/determineCrossOrigin":124,"bit-twiddle":1,eventemitter3:3}],113:[function(e,t,i){i.__esModule=!0;var n=e("./BaseRenderTexture"),u=_interopRequireDefault(n),r=e("./Texture"),a=_interopRequireDefault(r);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var o=function(l){function RenderTexture(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,RenderTexture);var i=null;if(!(e instanceof u.default)){var n=arguments[1],r=arguments[2],a=arguments[3],o=arguments[4];i=arguments[0],t=null,e=new u.default(n,r,a,o)}var s=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,l.call(this,e,t));return s.legacyRenderer=i,s.valid=!0,s._updateUvs(),s}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(RenderTexture,l),RenderTexture.prototype.resize=function(e,t,i){e=Math.ceil(e),t=Math.ceil(t),this.valid=0<e&&0<t,this._frame.width=this.orig.width=e,this._frame.height=this.orig.height=t,i||this.baseTexture.resize(e,t),this._updateUvs()},RenderTexture.create=function(e,t,i,n){return new RenderTexture(new u.default(e,t,i,n))},RenderTexture}(a.default);i.default=o},{"./BaseRenderTexture":111,"./Texture":115}],114:[function(e,t,i){i.__esModule=!0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),d=e("../"),r=e("../utils");var a=function(){function Spritesheet(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Spritesheet),this.baseTexture=e,this.textures={},this.animations={},this.data=t,this.resolution=this._updateResolution(i||this.baseTexture.imageUrl),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}return n(Spritesheet,null,[{key:"BATCH_SIZE",get:function(){return 1e3}}]),Spritesheet.prototype._updateResolution=function(e){var t=this.data.meta.scale,i=(0,r.getResolutionOfUrl)(e,null);return null===i&&(i=void 0!==t?parseFloat(t):1),1!==i&&(this.baseTexture.resolution=i,this.baseTexture.update()),i},Spritesheet.prototype.parse=function(e){this._batchIndex=0,this._callback=e,this._frameKeys.length<=Spritesheet.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()},Spritesheet.prototype._processFrames=function(e){for(var t=e,i=Spritesheet.BATCH_SIZE,n=this.baseTexture.sourceScale;t-e<i&&t<this._frameKeys.length;){var r=this._frameKeys[t],a=this._frames[r],o=a.frame;if(o){var s=null,l=null,u=!1!==a.trimmed&&a.sourceSize?a.sourceSize:a.frame,h=new d.Rectangle(0,0,Math.floor(u.w*n)/this.resolution,Math.floor(u.h*n)/this.resolution);s=a.rotated?new d.Rectangle(Math.floor(o.x*n)/this.resolution,Math.floor(o.y*n)/this.resolution,Math.floor(o.h*n)/this.resolution,Math.floor(o.w*n)/this.resolution):new d.Rectangle(Math.floor(o.x*n)/this.resolution,Math.floor(o.y*n)/this.resolution,Math.floor(o.w*n)/this.resolution,Math.floor(o.h*n)/this.resolution),!1!==a.trimmed&&a.spriteSourceSize&&(l=new d.Rectangle(Math.floor(a.spriteSourceSize.x*n)/this.resolution,Math.floor(a.spriteSourceSize.y*n)/this.resolution,Math.floor(o.w*n)/this.resolution,Math.floor(o.h*n)/this.resolution)),this.textures[r]=new d.Texture(this.baseTexture,s,h,l,a.rotated?2:0,a.anchor),d.Texture.addToCache(this.textures[r],r)}t++}},Spritesheet.prototype._processAnimations=function(){var e=this.data.animations||{};for(var t in e){this.animations[t]=[];for(var i=e[t],n=Array.isArray(i),r=0,i=n?i:i[Symbol.iterator]();;){var a;if(n){if(r>=i.length)break;a=i[r++]}else{if((r=i.next()).done)break;a=r.value}var o=a;this.animations[t].push(this.textures[o])}}},Spritesheet.prototype._parseComplete=function(){var e=this._callback;this._callback=null,this._batchIndex=0,e.call(this,this.textures)},Spritesheet.prototype._nextBatch=function(){var e=this;this._processFrames(this._batchIndex*Spritesheet.BATCH_SIZE),this._batchIndex++,setTimeout(function(){e._batchIndex*Spritesheet.BATCH_SIZE<e._frameKeys.length?e._nextBatch():(e._processAnimations(),e._parseComplete())},0)},Spritesheet.prototype.destroy=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];for(var t in this.textures)this.textures[t].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,e&&this.baseTexture.destroy(),this.baseTexture=null},Spritesheet}();i.default=a},{"../":65,"../utils":125}],115:[function(e,t,i){i.__esModule=!0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=e("./BaseTexture"),a=_interopRequireDefault(r),o=e("./VideoBaseTexture"),l=_interopRequireDefault(o),s=e("./TextureUvs"),u=_interopRequireDefault(s),h=e("eventemitter3"),d=_interopRequireDefault(h),c=e("../math"),p=e("../utils"),f=e("../settings"),m=_interopRequireDefault(f);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var _=function(s){function Texture(e,t,i,n,r,a){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Texture);var o=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,s.call(this));if(o.noFrame=!1,t||(o.noFrame=!0,t=new c.Rectangle(0,0,1,1)),e instanceof Texture&&(e=e.baseTexture),o.baseTexture=e,o._frame=t,o.trim=n,o.valid=!1,o.requiresUpdate=!1,o._uvs=null,o.orig=i||t,o._rotate=Number(r||0),!0===r)o._rotate=2;else if(o._rotate%2!=0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return e.hasLoaded?(o.noFrame&&(t=new c.Rectangle(0,0,e.width,e.height),e.on("update",o.onBaseTextureUpdated,o)),o.frame=t):e.once("loaded",o.onBaseTextureLoaded,o),o.defaultAnchor=a?new c.Point(a.x,a.y):new c.Point(0,0),o._updateID=0,o.transform=null,o.textureCacheIds=[],o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Texture,s),Texture.prototype.update=function(){this.baseTexture.update()},Texture.prototype.onBaseTextureLoaded=function(e){this._updateID++,this.noFrame?this.frame=new c.Rectangle(0,0,e.width,e.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},Texture.prototype.onBaseTextureUpdated=function(e){this._updateID++,this._frame.width=e.width,this._frame.height=e.height,this.emit("update",this)},Texture.prototype.destroy=function(e){this.baseTexture&&(e&&(p.TextureCache[this.baseTexture.imageUrl]&&Texture.removeFromCache(this.baseTexture.imageUrl),this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,Texture.removeFromCache(this),this.textureCacheIds=null},Texture.prototype.clone=function(){return new Texture(this.baseTexture,this.frame,this.orig,this.trim,this.rotate,this.defaultAnchor)},Texture.prototype._updateUvs=function(){this._uvs||(this._uvs=new u.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},Texture.fromImage=function(e,t,i,n){var r=p.TextureCache[e];return r||(r=new Texture(a.default.fromImage(e,t,i,n)),Texture.addToCache(r,e)),r},Texture.fromFrame=function(e){var t=p.TextureCache[e];if(!t)throw new Error('The frameId "'+e+'" does not exist in the texture cache');return t},Texture.fromCanvas=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"canvas";return new Texture(a.default.fromCanvas(e,t,i))},Texture.fromVideo=function(e,t,i,n){return"string"==typeof e?Texture.fromVideoUrl(e,t,i,n):new Texture(l.default.fromVideo(e,t,n))},Texture.fromVideoUrl=function(e,t,i,n){return new Texture(l.default.fromUrl(e,t,i,n))},Texture.from=function(e){if("string"!=typeof e)return e instanceof HTMLImageElement?new Texture(a.default.from(e)):e instanceof HTMLCanvasElement?Texture.fromCanvas(e,m.default.SCALE_MODE,"HTMLCanvasElement"):e instanceof HTMLVideoElement?Texture.fromVideo(e):e instanceof a.default?new Texture(e):e;var t=p.TextureCache[e];if(t)return t;var i=null!==e.match(/\.(mp4|webm|ogg|h264|avi|mov)$/);return i?Texture.fromVideoUrl(e):Texture.fromImage(e)},Texture.fromLoader=function(e,t,i){var n=new a.default(e,void 0,(0,p.getResolutionOfUrl)(t)),r=new Texture(n);return n.imageUrl=t,i=i||t,a.default.addToCache(r.baseTexture,i),Texture.addToCache(r,i),i!==t&&(a.default.addToCache(r.baseTexture,t),Texture.addToCache(r,t)),r},Texture.addToCache=function(e,t){t&&(-1===e.textureCacheIds.indexOf(t)&&e.textureCacheIds.push(t),p.TextureCache[t],p.TextureCache[t]=e)},Texture.removeFromCache=function(e){if("string"==typeof e){var t=p.TextureCache[e];if(t){var i=t.textureCacheIds.indexOf(e);return-1<i&&t.textureCacheIds.splice(i,1),delete p.TextureCache[e],t}}else if(e&&e.textureCacheIds){for(var n=0;n<e.textureCacheIds.length;++n)p.TextureCache[e.textureCacheIds[n]]===e&&delete p.TextureCache[e.textureCacheIds[n]];return e.textureCacheIds.length=0,e}return null},n(Texture,[{key:"frame",get:function(){return this._frame},set:function(e){this._frame=e,this.noFrame=!1;var t=e.x,i=e.y,n=e.width,r=e.height,a=t+n>this.baseTexture.width,o=i+r>this.baseTexture.height;if(a||o){var s=a&&o?"and":"or",l="X: "+t+" + "+n+" = "+(t+n)+" > "+this.baseTexture.width,u="Y: "+i+" + "+r+" = "+(i+r)+" > "+this.baseTexture.height;throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: "+l+" "+s+" "+u)}this.valid=n&&r&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=e),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),Texture}(d.default);function removeAllHandlers(e){e.destroy=function(){},e.on=function(){},e.once=function(){},e.emit=function(){}}(i.default=_).EMPTY=new _(new a.default),removeAllHandlers(_.EMPTY),removeAllHandlers(_.EMPTY.baseTexture),_.WHITE=function(){var e=document.createElement("canvas");e.width=10,e.height=10;var t=e.getContext("2d");return t.fillStyle="white",t.fillRect(0,0,10,10),new _(new a.default(e))}(),removeAllHandlers(_.WHITE),removeAllHandlers(_.WHITE.baseTexture)},{"../math":70,"../settings":101,"../utils":125,"./BaseTexture":112,"./TextureUvs":117,"./VideoBaseTexture":118,eventemitter3:3}],116:[function(e,t,i){i.__esModule=!0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=e("../math/Matrix"),a=function(e){return e&&e.__esModule?e:{default:e}}(r);var u=new a.default,o=function(){function TextureMatrix(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TextureMatrix),this._texture=e,this.mapCoord=new a.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin=void 0===t?.5:t}return TextureMatrix.prototype.multiplyUvs=function(e,t){void 0===t&&(t=e);for(var i=this.mapCoord,n=0;n<e.length;n+=2){var r=e[n],a=e[n+1];t[n]=r*i.a+a*i.c+i.tx,t[n+1]=r*i.b+a*i.d+i.ty}return t},TextureMatrix.prototype.update=function(e){var t=this._texture;if(!t||!t.valid)return!1;if(!e&&this._lastTextureID===t._updateID)return!1;this._lastTextureID=t._updateID;var i=t._uvs;this.mapCoord.set(i.x1-i.x0,i.y1-i.y0,i.x3-i.x0,i.y3-i.y0,i.x0,i.y0);var n=t.orig,r=t.trim;r&&(u.set(n.width/r.width,0,0,n.height/r.height,-r.x/r.width,-r.y/r.height),this.mapCoord.append(u));var a=t.baseTexture,o=this.uClampFrame,s=this.clampMargin/a.resolution,l=this.clampOffset;return o[0]=(t._frame.x+s+l)/a.width,o[1]=(t._frame.y+s+l)/a.height,o[2]=(t._frame.x+t._frame.width-s+l)/a.width,o[3]=(t._frame.y+t._frame.height-s+l)/a.height,this.uClampOffset[0]=l/a.realWidth,this.uClampOffset[1]=l/a.realHeight,!0},n(TextureMatrix,[{key:"texture",get:function(){return this._texture},set:function(e){this._texture=e,this._lastTextureID=-1}}]),TextureMatrix}();i.default=o},{"../math/Matrix":67}],117:[function(e,t,i){i.__esModule=!0;var n=e("../math/GroupD8"),u=function(e){return e&&e.__esModule?e:{default:e}}(n);var r=function(){function TextureUvs(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TextureUvs),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return TextureUvs.prototype.set=function(e,t,i){var n=t.width,r=t.height;if(i){var a=e.width/2/n,o=e.height/2/r,s=e.x/n+a,l=e.y/r+o;i=u.default.add(i,u.default.NW),this.x0=s+a*u.default.uX(i),this.y0=l+o*u.default.uY(i),i=u.default.add(i,2),this.x1=s+a*u.default.uX(i),this.y1=l+o*u.default.uY(i),i=u.default.add(i,2),this.x2=s+a*u.default.uX(i),this.y2=l+o*u.default.uY(i),i=u.default.add(i,2),this.x3=s+a*u.default.uX(i),this.y3=l+o*u.default.uY(i)}else this.x0=e.x/n,this.y0=e.y/r,this.x1=(e.x+e.width)/n,this.y1=e.y/r,this.x2=(e.x+e.width)/n,this.y2=(e.y+e.height)/r,this.x3=e.x/n,this.y3=(e.y+e.height)/r;this.uvsUint32[0]=(65535&Math.round(65535*this.y0))<<16|65535&Math.round(65535*this.x0),this.uvsUint32[1]=(65535&Math.round(65535*this.y1))<<16|65535&Math.round(65535*this.x1),this.uvsUint32[2]=(65535&Math.round(65535*this.y2))<<16|65535&Math.round(65535*this.x2),this.uvsUint32[3]=(65535&Math.round(65535*this.y3))<<16|65535&Math.round(65535*this.x3)},TextureUvs}();i.default=r},{"../math/GroupD8":66}],118:[function(e,t,i){i.__esModule=!0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=e("./BaseTexture"),a=_interopRequireDefault(r),o=e("../utils"),s=e("../ticker"),l=e("../const"),u=e("../utils/determineCrossOrigin"),h=_interopRequireDefault(u);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var d=function(r){function VideoBaseTexture(e,t){var i=!(2<arguments.length&&void 0!==arguments[2])||arguments[2];if(!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,VideoBaseTexture),!e)throw new Error("No video source element specified.");(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0);var n=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,r.call(this,e,t));return n.width=e.videoWidth,n.height=e.videoHeight,n._autoUpdate=!0,n._isAutoUpdating=!1,n.autoPlay=i,n.update=n.update.bind(n),n._onCanPlay=n._onCanPlay.bind(n),e.addEventListener("play",n._onPlayStart.bind(n)),e.addEventListener("pause",n._onPlayStop.bind(n)),n.hasLoaded=!1,n.__loaded=!1,n._isSourceReady()?n._onCanPlay():(e.addEventListener("canplay",n._onCanPlay),e.addEventListener("canplaythrough",n._onCanPlay)),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(VideoBaseTexture,r),VideoBaseTexture.prototype._isSourcePlaying=function(){var e=this.source;return 0<e.currentTime&&!1===e.paused&&!1===e.ended&&2<e.readyState},VideoBaseTexture.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},VideoBaseTexture.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(s.shared.add(this.update,this,l.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0)},VideoBaseTexture.prototype._onPlayStop=function(){this._isAutoUpdating&&(s.shared.remove(this.update,this),this._isAutoUpdating=!1)},VideoBaseTexture.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},VideoBaseTexture.prototype.destroy=function(){this._isAutoUpdating&&s.shared.remove(this.update,this),this.source&&this.source._pixiId&&(a.default.removeFromCache(this.source._pixiId),delete this.source._pixiId,this.source.pause(),this.source.src="",this.source.load()),r.prototype.destroy.call(this)},VideoBaseTexture.fromVideo=function(e,t,i){e._pixiId||(e._pixiId="video_"+(0,o.uid)());var n=o.BaseTextureCache[e._pixiId];return n||(n=new VideoBaseTexture(e,t,i),a.default.addToCache(n,e._pixiId)),n},VideoBaseTexture.fromUrl=function(e,t,i,n){var r=document.createElement("video");r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline","");var a=Array.isArray(e)?e[0].src||e[0]:e.src||e;if(void 0===i&&0!==a.indexOf("data:")?r.crossOrigin=(0,h.default)(a):i&&(r.crossOrigin="string"==typeof i?i:"anonymous"),Array.isArray(e))for(var o=0;o<e.length;++o)r.appendChild(createSource(e[o].src||e[o],e[o].mime));else r.appendChild(createSource(a,e.mime));return r.load(),VideoBaseTexture.fromVideo(r,t,n)},n(VideoBaseTexture,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isAutoUpdating?(s.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(s.shared.add(this.update,this,l.UPDATE_PRIORITY.HIGH),this._isAutoUpdating=!0))}}]),VideoBaseTexture}(a.default);function createSource(e,t){if(!t){var i=e.split("?").shift().toLowerCase();t="video/"+i.substr(i.lastIndexOf(".")+1)}var n=document.createElement("source");return n.src=e,n.type=t,n}(i.default=d).fromUrls=d.fromUrl},{"../const":46,"../ticker":121,"../utils":125,"../utils/determineCrossOrigin":124,"./BaseTexture":112}],119:[function(e,t,i){i.__esModule=!0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=e("../settings"),a=_interopRequireDefault(r),o=e("../const"),s=e("./TickerListener"),l=_interopRequireDefault(s);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var u=function(){function Ticker(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Ticker),this._head=new l.default(null,null,1/0),this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/a.default.TARGET_FPMS,this.lastTime=-1,this.speed=1,this.started=!1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._head.next&&(t._requestId=requestAnimationFrame(t._tick)))}}return Ticker.prototype._requestIfNeeded=function(){null===this._requestId&&this._head.next&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},Ticker.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},Ticker.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},Ticker.prototype.add=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new l.default(e,t,i))},Ticker.prototype.addOnce=function(e,t){var i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:o.UPDATE_PRIORITY.NORMAL;return this._addListener(new l.default(e,t,i,!0))},Ticker.prototype._addListener=function(e){var t=this._head.next,i=this._head;if(t){for(;t;){if(e.priority>t.priority){e.connect(i);break}t=(i=t).next}e.previous||e.connect(i)}else e.connect(i);return this._startIfPossible(),this},Ticker.prototype.remove=function(e,t){for(var i=this._head.next;i;)i=i.match(e,t)?i.destroy():i.next;return this._head.next||this._cancelIfNeeded(),this},Ticker.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},Ticker.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},Ticker.prototype.destroy=function(){this.stop();for(var e=this._head.next;e;)e=e.destroy(!0);this._head.destroy(),this._head=null},Ticker.prototype.update=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:performance.now(),t=void 0;if(e>this.lastTime){(t=this.elapsedMS=e-this.lastTime)>this._maxElapsedMS&&(t=this._maxElapsedMS),this.deltaTime=t*a.default.TARGET_FPMS*this.speed;for(var i=this._head,n=i.next;n;)n=n.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.elapsedMS=0;this.lastTime=e},n(Ticker,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(e){var t=Math.min(Math.max(0,e)/1e3,a.default.TARGET_FPMS);this._maxElapsedMS=1/t}}]),Ticker}();i.default=u},{"../const":46,"../settings":101,"./TickerListener":120}],120:[function(e,t,i){i.__esModule=!0;var n=function(){function TickerListener(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:0,n=3<arguments.length&&void 0!==arguments[3]&&arguments[3];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TickerListener),this.fn=e,this.context=t,this.priority=i,this.once=n,this.next=null,this.previous=null,this._destroyed=!1}return TickerListener.prototype.match=function(e,t){return t=t||null,this.fn===e&&this.context===t},TickerListener.prototype.emit=function(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));var t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t},TickerListener.prototype.connect=function(e){(this.previous=e).next&&(e.next.previous=this),this.next=e.next,e.next=this},TickerListener.prototype.destroy=function(){var e=0<arguments.length&&void 0!==arguments[0]&&arguments[0];this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);var t=this.next;return this.next=e?null:t,this.previous=null,t},TickerListener}();i.default=n},{}],121:[function(e,t,i){i.__esModule=!0,i.Ticker=i.shared=void 0;var n=e("./Ticker"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);var a=new r.default;a.autoStart=!0,a.destroy=function(){},i.shared=a,i.Ticker=r.default},{"./Ticker":119}],122:[function(e,t,i){i.__esModule=!0,i.default=function(){return!(navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform))}},{}],123:[function(e,t,i){i.__esModule=!0,i.default=function(e){for(var t=6*e,i=new Uint16Array(t),n=0,r=0;n<t;n+=6,r+=4)i[n+0]=r+0,i[n+1]=r+1,i[n+2]=r+2,i[n+3]=r+0,i[n+4]=r+2,i[n+5]=r+3;return i}},{}],124:[function(e,t,i){i.__esModule=!0,i.default=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:window.location;if(0===e.indexOf("data:"))return"";t=t||window.location,a=a||document.createElement("a");a.href=e;var i=!(e=r.default.parse(a.href)).port&&""===t.port||e.port===t.port;return e.hostname===t.hostname&&i&&e.protocol===t.protocol?"":"anonymous"};var n=e("url"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);var a=void 0},{url:38}],125:[function(e,t,i){i.__esModule=!0,i.premultiplyBlendMode=i.BaseTextureCache=i.TextureCache=i.earcut=i.mixins=i.pluginTarget=i.EventEmitter=i.removeItems=i.isMobile=void 0,i.uid=function(){return++b},i.hex2rgb=function(e,t){return(t=t||[])[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255,t},i.hex2string=function(e){return e=e.toString(16),"#"+(e="000000".substr(0,6-e.length)+e)},i.rgb2hex=function(e){return(255*e[0]<<16)+(255*e[1]<<8)+(255*e[2]|0)},i.getResolutionOfUrl=function(e,t){var i=a.default.RETINA_PREFIX.exec(e);if(i)return parseFloat(i[1]);return void 0!==t?t:1},i.decomposeDataUri=function(e){var t=n.DATA_URI.exec(e);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,charset:t[3]?t[3].toLowerCase():void 0,encoding:t[4]?t[4].toLowerCase():void 0,data:t[5]};return},i.getUrlFileExtension=function(e){var t=n.URL_FILE_EXTENSION.exec(e);if(t)return t[1].toLowerCase();return},i.getSvgSize=function(e){var t=n.SVG_SIZE.exec(e),i={};t&&(i[t[1]]=Math.round(parseFloat(t[3])),i[t[5]]=Math.round(parseFloat(t[7])));return i},i.skipHello=function(){w=!0},i.sayHello=function(e){if(w)return;if(-1<navigator.userAgent.toLowerCase().indexOf("chrome")){var t=["\n %c %c %c PixiJS "+n.VERSION+" -  "+e+"   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n","background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,t)}else window.console&&window.console.log("PixiJS "+n.VERSION+" - "+e+" - http://www.pixijs.com/");w=!0},i.isWebGLSupported=function(){var e={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var t=document.createElement("canvas"),i=t.getContext("webgl",e)||t.getContext("experimental-webgl",e),n=!(!i||!i.getContextAttributes().stencil);if(i){var r=i.getExtension("WEBGL_lose_context");r&&r.loseContext()}return i=null,n}catch(e){return!1}},i.sign=function(e){return 0===e?0:e<0?-1:1},i.destroyTextureCache=function(){var e=void 0;for(e in x)x[e].destroy();for(e in T)T[e].destroy()},i.clearTextureCache=function(){var e=void 0;for(e in x)delete x[e];for(e in T)delete T[e]},i.correctBlendMode=function(e,t){return S[t?1:0][e]},i.premultiplyTint=function(e,t){if(1===t)return(255*t<<24)+e;if(0===t)return 0;var i=e>>16&255,n=e>>8&255,r=255&e;return(255*t<<24)+((i=i*t+.5|0)<<16)+((n=n*t+.5|0)<<8)+(r=r*t+.5|0)},i.premultiplyRgba=function(e,t,i,n){i=i||new Float32Array(4),n||void 0===n?(i[0]=e[0]*t,i[1]=e[1]*t,i[2]=e[2]*t):(i[0]=e[0],i[1]=e[1],i[2]=e[2]);return i[3]=t,i},i.premultiplyTintToRgba=function(e,t,i,n){(i=i||new Float32Array(4))[0]=(e>>16&255)/255,i[1]=(e>>8&255)/255,i[2]=(255&e)/255,!n&&void 0!==n||(i[0]*=t,i[1]*=t,i[2]*=t);return i[3]=t,i};var n=e("../const"),r=e("../settings"),a=_interopRequireDefault(r),o=e("eventemitter3"),s=_interopRequireDefault(o),l=e("./pluginTarget"),u=_interopRequireDefault(l),h=e("./mixin"),d=_interopRequireWildcard(h),c=e("ismobilejs"),p=_interopRequireWildcard(c),f=e("remove-array-items"),m=_interopRequireDefault(f),_=e("./mapPremultipliedBlendModes"),g=_interopRequireDefault(_),v=e("earcut"),y=_interopRequireDefault(v);function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var b=0,w=!1;i.isMobile=p,i.removeItems=m.default,i.EventEmitter=s.default,i.pluginTarget=u.default,i.mixins=d,i.earcut=y.default;var x=i.TextureCache=Object.create(null),T=i.BaseTextureCache=Object.create(null);var S=i.premultiplyBlendMode=(0,g.default)()},{"../const":46,"../settings":101,"./mapPremultipliedBlendModes":126,"./mixin":128,"./pluginTarget":129,earcut:2,eventemitter3:3,ismobilejs:4,"remove-array-items":31}],126:[function(e,t,i){i.__esModule=!0,i.default=function(){for(var e=[],t=[],i=0;i<32;i++)e[i]=i,t[i]=i;e[r.BLEND_MODES.NORMAL_NPM]=r.BLEND_MODES.NORMAL,e[r.BLEND_MODES.ADD_NPM]=r.BLEND_MODES.ADD,e[r.BLEND_MODES.SCREEN_NPM]=r.BLEND_MODES.SCREEN,t[r.BLEND_MODES.NORMAL]=r.BLEND_MODES.NORMAL_NPM,t[r.BLEND_MODES.ADD]=r.BLEND_MODES.ADD_NPM,t[r.BLEND_MODES.SCREEN]=r.BLEND_MODES.SCREEN_NPM;var n=[];return n.push(t),n.push(e),n};var r=e("../const")},{"../const":46}],127:[function(e,t,i){i.__esModule=!0,i.default=function(e){if(r.default.tablet||r.default.phone)return 4;return e};var n=e("ismobilejs"),r=function(e){return e&&e.__esModule?e:{default:e}}(n)},{ismobilejs:4}],128:[function(e,t,i){function mixin(e,t){if(e&&t)for(var i=Object.keys(t),n=0;n<i.length;++n){var r=i[n];Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}}i.__esModule=!0,i.mixin=mixin,i.delayMixin=function(e,t){n.push(e,t)},i.performMixins=function(){for(var e=0;e<n.length;e+=2)mixin(n[e],n[e+1]);n.length=0};var n=[]},{}],129:[function(e,t,i){i.__esModule=!0,i.default={mixin:function(e){!function(i){i.__plugins={},i.registerPlugin=function(e,t){i.__plugins[e]=t},i.prototype.initPlugins=function(){for(var e in this.plugins=this.plugins||{},i.__plugins)this.plugins[e]=new i.__plugins[e](this)},i.prototype.destroyPlugins=function(){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;this.plugins=null}}(e)}}},{}],130:[function(e,t,i){i.__esModule=!0,i.default=function(e){var t=e.width,i=e.height,n=e.getContext("2d"),r=n.getImageData(0,0,t,i).data,a=r.length,o={top:null,left:null,right:null,bottom:null},s=null,l=void 0,u=void 0,h=void 0;for(l=0;l<a;l+=4)0!==r[l+3]&&(u=l/4%t,h=~~(l/4/t),null===o.top&&(o.top=h),(null===o.left||u<o.left)&&(o.left=u),(null===o.right||o.right<u)&&(o.right=u+1),(null===o.bottom||o.bottom<h)&&(o.bottom=h));null!==o.top&&(t=o.right-o.left,i=o.bottom-o.top+1,s=n.getImageData(o.left,o.top,t,i));return{height:i,width:t,data:s}}},{}],131:[function(e,t,i){i.__esModule=!0,i.default=function(i){var e=i.mesh,t=i.particles,n=i.extras,r=i.filters,a=i.prepare,o=i.loaders,s=i.interaction;Object.defineProperties(i,{SpriteBatch:{get:function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")}},AssetLoader:{get:function(){throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.")}},Stage:{get:function(){return warn("You do not need to use a PIXI Stage any more, you can simply render any container."),i.Container}},DisplayObjectContainer:{get:function(){return warn("DisplayObjectContainer has been shortened to Container, please use Container from now on."),i.Container}},Strip:{get:function(){return warn("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),e.Mesh}},Rope:{get:function(){return warn("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),e.Rope}},ParticleContainer:{get:function(){return warn("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),t.ParticleContainer}},MovieClip:{get:function(){return warn("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),n.AnimatedSprite}},TilingSprite:{get:function(){return warn("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),n.TilingSprite}},BitmapText:{get:function(){return warn("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),n.BitmapText}},blendModes:{get:function(){return warn("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),i.BLEND_MODES}},scaleModes:{get:function(){return warn("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),i.SCALE_MODES}},BaseTextureCache:{get:function(){return warn("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),i.utils.BaseTextureCache}},TextureCache:{get:function(){return warn("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),i.utils.TextureCache}},math:{get:function(){return warn("The math namespace is deprecated, please access members already accessible on PIXI."),i}},AbstractFilter:{get:function(){return warn("AstractFilter has been renamed to Filter, please use PIXI.Filter"),i.Filter}},TransformManual:{get:function(){return warn("TransformManual has been renamed to TransformBase, please update your pixi-spine"),i.TransformBase}},TARGET_FPMS:{get:function(){return warn("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),i.settings.TARGET_FPMS},set:function(e){warn("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),i.settings.TARGET_FPMS=e}},FILTER_RESOLUTION:{get:function(){return warn("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),i.settings.FILTER_RESOLUTION},set:function(e){warn("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),i.settings.FILTER_RESOLUTION=e}},RESOLUTION:{get:function(){return warn("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),i.settings.RESOLUTION},set:function(e){warn("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),i.settings.RESOLUTION=e}},MIPMAP_TEXTURES:{get:function(){return warn("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),i.settings.MIPMAP_TEXTURES},set:function(e){warn("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),i.settings.MIPMAP_TEXTURES=e}},SPRITE_BATCH_SIZE:{get:function(){return warn("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),i.settings.SPRITE_BATCH_SIZE},set:function(e){warn("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),i.settings.SPRITE_BATCH_SIZE=e}},SPRITE_MAX_TEXTURES:{get:function(){return warn("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),i.settings.SPRITE_MAX_TEXTURES},set:function(e){warn("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),i.settings.SPRITE_MAX_TEXTURES=e}},RETINA_PREFIX:{get:function(){return warn("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),i.settings.RETINA_PREFIX},set:function(e){warn("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),i.settings.RETINA_PREFIX=e}},DEFAULT_RENDER_OPTIONS:{get:function(){return warn("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),i.settings.RENDER_OPTIONS}}});for(var l=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION_FRAGMENT"}],u=function(e){var t=l[e];Object.defineProperty(i[t.parent],"DEFAULT",{get:function(){return warn("PIXI."+t.parent+".DEFAULT has been deprecated, please use PIXI.settings."+t.target),i.settings[t.target]},set:function(e){warn("PIXI."+t.parent+".DEFAULT has been deprecated, please use PIXI.settings."+t.target),i.settings[t.target]=e}})},h=0;h<l.length;h++)u(h);Object.defineProperties(i.settings,{PRECISION:{get:function(){return warn("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),i.settings.PRECISION_FRAGMENT},set:function(e){warn("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"),i.settings.PRECISION_FRAGMENT=e}}}),n.AnimatedSprite&&Object.defineProperties(n,{MovieClip:{get:function(){return warn("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),n.AnimatedSprite}}});n&&Object.defineProperties(n,{TextureTransform:{get:function(){return warn("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."),i.TextureMatrix}}});i.DisplayObject.prototype.generateTexture=function(e,t,i){return warn("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),e.generateTexture(this,t,i)},i.Graphics.prototype.generateTexture=function(e,t){return warn("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(e,t)},i.GroupD8.isSwapWidthHeight=function(e){return warn("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"),i.GroupD8.isVertical(e)},i.RenderTexture.prototype.render=function(e,t,i,n){this.legacyRenderer.render(e,this,i,t,!n),warn("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},i.RenderTexture.prototype.getImage=function(e){return warn("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(e)},i.RenderTexture.prototype.getBase64=function(e){return warn("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(e)},i.RenderTexture.prototype.getCanvas=function(e){return warn("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(e)},i.RenderTexture.prototype.getPixels=function(e){return warn("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(e)},i.Sprite.prototype.setTexture=function(e){this.texture=e,warn("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},n.BitmapText&&(n.BitmapText.prototype.setText=function(e){this.text=e,warn("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")});i.Text.prototype.setText=function(e){this.text=e,warn("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},i.Text.calculateFontProperties=function(e){return warn("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"),i.TextMetrics.measureFont(e)},Object.defineProperties(i.Text,{fontPropertiesCache:{get:function(){return warn("Text.fontPropertiesCache is deprecated"),i.TextMetrics._fonts}},fontPropertiesCanvas:{get:function(){return warn("Text.fontPropertiesCanvas is deprecated"),i.TextMetrics._canvas}},fontPropertiesContext:{get:function(){return warn("Text.fontPropertiesContext is deprecated"),i.TextMetrics._context}}}),i.Text.prototype.setStyle=function(e){this.style=e,warn("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},i.Text.prototype.determineFontProperties=function(e){return warn("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"),i.TextMetrics.measureFont(e)},i.Text.getFontStyle=function(e){return warn("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"),(e=e||{})instanceof i.TextStyle||(e=new i.TextStyle(e)),e.toFontString()},Object.defineProperties(i.TextStyle.prototype,{font:{get:function(){warn("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var e="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+e+" "+this._fontFamily},set:function(e){warn("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),1<e.indexOf("italic")?this._fontStyle="italic":-1<e.indexOf("oblique")?this._fontStyle="oblique":this._fontStyle="normal",-1<e.indexOf("small-caps")?this._fontVariant="small-caps":this._fontVariant="normal";var t=e.split(" "),i=-1;this._fontSize=26;for(var n=0;n<t.length;++n)if(t[n].match(/(px|pt|em|%)/)){i=n,this._fontSize=t[n];break}this._fontWeight="normal";for(var r=0;r<i;++r)if(t[r].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=t[r];break}if(-1<i&&i<t.length-1){this._fontFamily="";for(var a=i+1;a<t.length;++a)this._fontFamily+=t[a]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),i.Texture.prototype.setFrame=function(e){this.frame=e,warn("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},i.Texture.addTextureToCache=function(e,t){i.Texture.addToCache(e,t),warn("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.")},i.Texture.removeTextureFromCache=function(e){return warn("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"),i.BaseTexture.removeFromCache(e),i.Texture.removeFromCache(e)},Object.defineProperties(r,{AbstractFilter:{get:function(){return warn("AstractFilter has been renamed to Filter, please use PIXI.Filter"),i.AbstractFilter}},SpriteMaskFilter:{get:function(){return warn("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),i.SpriteMaskFilter}},VoidFilter:{get:function(){return warn("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"),r.AlphaFilter}}}),i.utils.uuid=function(){return warn("utils.uuid() is deprecated, please use utils.uid() from now on."),i.utils.uid()},i.utils.canUseNewCanvasBlendModes=function(){return warn("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),i.CanvasTinter.canUseMultiply};var d=!0;Object.defineProperty(i.utils,"_saidHello",{set:function(e){e&&(warn("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),d=e},get:function(){return d}}),a.BasePrepare&&(a.BasePrepare.prototype.register=function(e,t){return warn("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"),e&&this.registerFindHook(e),t&&this.registerUploadHook(t),this});a.canvas&&Object.defineProperty(a.canvas,"UPLOADS_PER_FRAME",{set:function(){warn("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return warn("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}});a.webgl&&Object.defineProperty(a.webgl,"UPLOADS_PER_FRAME",{set:function(){warn("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return warn("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}});if(o.Loader){var c=o.Resource,p=o.Loader;Object.defineProperties(c.prototype,{isJson:{get:function(){return warn("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===c.TYPE.JSON}},isXml:{get:function(){return warn("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===c.TYPE.XML}},isImage:{get:function(){return warn("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===c.TYPE.IMAGE}},isAudio:{get:function(){return warn("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===c.TYPE.AUDIO}},isVideo:{get:function(){return warn("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===c.TYPE.VIDEO}}}),Object.defineProperties(p.prototype,{before:{get:function(){return warn("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return warn("The after() method is deprecated, please use use()."),this.use}}})}s.interactiveTarget&&Object.defineProperty(s.interactiveTarget,"defaultCursor",{set:function(e){warn("Property defaultCursor has been replaced with 'cursor'. "),this.cursor=e},get:function(){return warn("Property defaultCursor has been replaced with 'cursor'. "),this.cursor}});s.InteractionManager&&(Object.defineProperty(s.InteractionManager,"defaultCursorStyle",{set:function(e){warn("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default=e},get:function(){return warn("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "),this.cursorStyles.default}}),Object.defineProperty(s.InteractionManager,"currentCursorStyle",{set:function(e){warn("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode=e},get:function(){return warn("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."),this.currentCursorMode}}))};var n={};function warn(e){if(!n[e]){var t=(new Error).stack;void 0===t||(t=t.split("\n").splice(3).join("\n"),console.groupCollapsed),n[e]=!0}}},{}],132:[function(e,t,i){i.__esModule=!0;var n=e("../../core"),h=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(n);var d=new h.Rectangle,r=function(){function CanvasExtract(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CanvasExtract),(this.renderer=e).extract=this}return CanvasExtract.prototype.image=function(e){var t=new Image;return t.src=this.base64(e),t},CanvasExtract.prototype.base64=function(e){return this.canvas(e).toDataURL()},CanvasExtract.prototype.canvas=function(e){var t=this.renderer,i=void 0,n=void 0,r=void 0,a=void 0;e&&(a=e instanceof h.RenderTexture?e:t.generateTexture(e)),a?(i=a.baseTexture._canvasRenderTarget.context,n=a.baseTexture._canvasRenderTarget.resolution,r=a.frame):(i=t.rootContext,n=t.resolution,(r=d).width=this.renderer.width,r.height=this.renderer.height);var o=Math.floor(r.width*n+1e-4),s=Math.floor(r.height*n+1e-4),l=new h.CanvasRenderTarget(o,s,1),u=i.getImageData(r.x*n,r.y*n,o,s);return l.context.putImageData(u,0,0),l.canvas},CanvasExtract.prototype.pixels=function(e){var t=this.renderer,i=void 0,n=void 0,r=void 0,a=void 0;return e&&(a=e instanceof h.RenderTexture?e:t.generateTexture(e)),a?(i=a.baseTexture._canvasRenderTarget.context,n=a.baseTexture._canvasRenderTarget.resolution,r=a.frame):(i=t.rootContext,(r=d).width=t.width,r.height=t.height),i.getImageData(0,0,r.width*n,r.height*n).data},CanvasExtract.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},CanvasExtract}();i.default=r,h.CanvasRenderer.registerPlugin("extract",r)},{"../../core":65}],133:[function(e,t,i){i.__esModule=!0;var n=e("./webgl/WebGLExtract");Object.defineProperty(i,"webgl",{enumerable:!0,get:function(){return _interopRequireDefault(n).default}});var r=e("./canvas/CanvasExtract");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"canvas",{enumerable:!0,get:function(){return _interopRequireDefault(r).default}})},{"./canvas/CanvasExtract":132,"./webgl/WebGLExtract":134}],134:[function(e,t,i){i.__esModule=!0;var n=e("../../core"),f=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(n);var m=new f.Rectangle,r=function(){function WebGLExtract(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WebGLExtract),(this.renderer=e).extract=this}return WebGLExtract.prototype.image=function(e){var t=new Image;return t.src=this.base64(e),t},WebGLExtract.prototype.base64=function(e){return this.canvas(e).toDataURL()},WebGLExtract.prototype.canvas=function(e){var t=this.renderer,i=void 0,n=void 0,r=void 0,a=!1,o=void 0,s=!1;e&&(e instanceof f.RenderTexture?o=e:(o=this.renderer.generateTexture(e),s=!0)),o?(i=o.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],n=i.resolution,r=o.frame,a=!1):(i=this.renderer.rootRenderTarget,n=i.resolution,a=!0,(r=m).width=i.size.width,r.height=i.size.height);var l=Math.floor(r.width*n+1e-4),u=Math.floor(r.height*n+1e-4),h=new f.CanvasRenderTarget(l,u,1);if(i){t.bindRenderTarget(i);var d=new Uint8Array(4*l*u),c=t.gl;c.readPixels(r.x*n,r.y*n,l,u,c.RGBA,c.UNSIGNED_BYTE,d);var p=h.context.getImageData(0,0,l,u);p.data.set(d),h.context.putImageData(p,0,0),a&&(h.context.scale(1,-1),h.context.drawImage(h.canvas,0,-u))}return s&&o.destroy(!0),h.canvas},WebGLExtract.prototype.pixels=function(e){var t=this.renderer,i=void 0,n=void 0,r=void 0,a=void 0,o=!1;e&&(e instanceof f.RenderTexture?a=e:(a=this.renderer.generateTexture(e),o=!0)),a?(i=a.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],n=i.resolution,r=a.frame):(i=this.renderer.rootRenderTarget,n=i.resolution,(r=m).width=i.size.width,r.height=i.size.height);var s=r.width*n,l=r.height*n,u=new Uint8Array(4*s*l);if(i){t.bindRenderTarget(i);var h=t.gl;h.readPixels(r.x*n,r.y*n,s,l,h.RGBA,h.UNSIGNED_BYTE,u)}return o&&a.destroy(!0),u},WebGLExtract.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},WebGLExtract}();i.default=r,f.WebGLRenderer.registerPlugin("extract",r)},{"../../core":65}],135:[function(e,t,i){i.__esModule=!0;var r=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),n=e("../core"),a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(n);var o=function(n){function AnimatedSprite(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AnimatedSprite);var i=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,n.call(this,e[0]instanceof a.Texture?e[0]:e[0].texture));return i._textures=null,i._durations=null,i.textures=e,i._autoUpdate=!1!==t,i.animationSpeed=1,i.loop=!0,i.updateAnchor=!1,i.onComplete=null,i.onFrameChange=null,i.onLoop=null,i._currentTime=0,i.playing=!1,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AnimatedSprite,n),AnimatedSprite.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&a.ticker.shared.remove(this.update,this))},AnimatedSprite.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&a.ticker.shared.add(this.update,this,a.UPDATE_PRIORITY.HIGH))},AnimatedSprite.prototype.gotoAndStop=function(e){this.stop();var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()},AnimatedSprite.prototype.gotoAndPlay=function(e){var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture(),this.play()},AnimatedSprite.prototype.update=function(e){var t=this.animationSpeed*e,i=this.currentFrame;if(null!==this._durations){var n=this._currentTime%1*this._durations[this.currentFrame];for(n+=t/60*1e3;n<0;)this._currentTime--,n+=this._durations[this.currentFrame];var r=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);n>=this._durations[this.currentFrame];)n-=this._durations[this.currentFrame]*r,this._currentTime+=r;this._currentTime+=n/this._durations[this.currentFrame]}else this._currentTime+=t;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(0<this.animationSpeed&&this.currentFrame<i||this.animationSpeed<0&&this.currentFrame>i)&&this.onLoop(),this.updateTexture())},AnimatedSprite.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.cachedTint=16777215,this.updateAnchor&&this._anchor.copy(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame)},AnimatedSprite.prototype.destroy=function(e){this.stop(),n.prototype.destroy.call(this,e)},AnimatedSprite.fromFrames=function(e){for(var t=[],i=0;i<e.length;++i)t.push(a.Texture.fromFrame(e[i]));return new AnimatedSprite(t)},AnimatedSprite.fromImages=function(e){for(var t=[],i=0;i<e.length;++i)t.push(a.Texture.fromImage(e[i]));return new AnimatedSprite(t)},r(AnimatedSprite,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(e){if(e[0]instanceof a.Texture)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this.gotoAndStop(0),this.updateTexture()}},{key:"currentFrame",get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}}]),AnimatedSprite}(a.Sprite);i.default=o},{"../core":65}],136:[function(e,t,i){i.__esModule=!0;var r=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),n=e("../core"),P=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(n),a=e("../core/math/ObservablePoint"),o=_interopRequireDefault(a),T=e("../core/utils"),s=e("../core/settings"),S=_interopRequireDefault(s);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var l=function(n){function BitmapText(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BitmapText);var i=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,n.call(this));return i._textWidth=0,i._textHeight=0,i._glyphs=[],i._font={tint:void 0!==t.tint?t.tint:16777215,align:t.align||"left",name:null,size:0},i.font=t.font,i._text=e,i._maxWidth=0,i._maxLineHeight=0,i._letterSpacing=0,i._anchor=new o.default(function(){i.dirty=!0},i,0,0),i.dirty=!1,i.updateText(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(BitmapText,n),BitmapText.prototype.updateText=function(){for(var e=BitmapText.fonts[this._font.name],t=this._font.size/e.size,i=new P.Point,n=[],r=[],a=this.text.replace(/(?:\r\n|\r)/g,"\n"),o=a.length,s=this._maxWidth*e.size/this._font.size,l=null,u=0,h=0,d=0,c=-1,p=0,f=0,m=0,_=0;_<o;_++){var g=a.charCodeAt(_),v=a.charAt(_);if(/(?:\s)/.test(v)&&(c=_,p=u),"\r"!==v&&"\n"!==v){var y=e.chars[g];y&&(l&&y.kerning[l]&&(i.x+=y.kerning[l]),n.push({texture:y.texture,line:d,charCode:g,position:new P.Point(i.x+y.xOffset+this._letterSpacing/2,i.y+y.yOffset)}),i.x+=y.xAdvance+this._letterSpacing,u=i.x,m=Math.max(m,y.yOffset+y.texture.height),l=g,-1!==c&&0<s&&i.x>s&&(++f,P.utils.removeItems(n,1+c-f,1+_-c),_=c,c=-1,r.push(p),h=Math.max(h,p),d++,i.x=0,i.y+=e.lineHeight,l=null))}else r.push(u),h=Math.max(h,u),++d,++f,i.x=0,i.y+=e.lineHeight,l=null}var b=a.charAt(a.length-1);"\r"!==b&&"\n"!==b&&(/(?:\s)/.test(b)&&(u=p),r.push(u),h=Math.max(h,u));for(var w=[],x=0;x<=d;x++){var T=0;"right"===this._font.align?T=h-r[x]:"center"===this._font.align&&(T=(h-r[x])/2),w.push(T)}for(var S=n.length,M=this.tint,L=0;L<S;L++){var E=this._glyphs[L];E?E.texture=n[L].texture:(E=new P.Sprite(n[L].texture),this._glyphs.push(E)),E.position.x=(n[L].position.x+w[n[L].line])*t,E.position.y=n[L].position.y*t,E.scale.x=E.scale.y=t,E.tint=M,E.parent||this.addChild(E)}for(var C=S;C<this._glyphs.length;++C)this.removeChild(this._glyphs[C]);if(this._textWidth=h*t,this._textHeight=(i.y+e.lineHeight)*t,0!==this.anchor.x||0!==this.anchor.y)for(var A=0;A<S;A++)this._glyphs[A].x-=this._textWidth*this.anchor.x,this._glyphs[A].y-=this._textHeight*this.anchor.y;this._maxLineHeight=m*t},BitmapText.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},BitmapText.prototype.getLocalBounds=function(){return this.validate(),n.prototype.getLocalBounds.call(this)},BitmapText.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},BitmapText.registerFont=function(e,t){var i={},n=e.getElementsByTagName("info")[0],r=e.getElementsByTagName("common")[0],a=e.getElementsByTagName("page"),o=(0,T.getResolutionOfUrl)(a[0].getAttribute("file"),S.default.RESOLUTION),s={};i.font=n.getAttribute("face"),i.size=parseInt(n.getAttribute("size"),10),i.lineHeight=parseInt(r.getAttribute("lineHeight"),10)/o,i.chars={},t instanceof P.Texture&&(t=[t]);for(var l=0;l<a.length;l++){var u=a[l].getAttribute("id"),h=a[l].getAttribute("file");s[u]=t instanceof Array?t[l]:t[h]}for(var d=e.getElementsByTagName("char"),c=0;c<d.length;c++){var p=d[c],f=parseInt(p.getAttribute("id"),10),m=p.getAttribute("page")||0,_=new P.Rectangle(parseInt(p.getAttribute("x"),10)/o+s[m].frame.x/o,parseInt(p.getAttribute("y"),10)/o+s[m].frame.y/o,parseInt(p.getAttribute("width"),10)/o,parseInt(p.getAttribute("height"),10)/o);i.chars[f]={xOffset:parseInt(p.getAttribute("xoffset"),10)/o,yOffset:parseInt(p.getAttribute("yoffset"),10)/o,xAdvance:parseInt(p.getAttribute("xadvance"),10)/o,kerning:{},texture:new P.Texture(s[m].baseTexture,_),page:m}}for(var g=e.getElementsByTagName("kerning"),v=0;v<g.length;v++){var y=g[v],b=parseInt(y.getAttribute("first"),10)/o,w=parseInt(y.getAttribute("second"),10)/o,x=parseInt(y.getAttribute("amount"),10)/o;i.chars[w]&&(i.chars[w].kerning[b]=x)}return BitmapText.fonts[i.font]=i},r(BitmapText,[{key:"tint",get:function(){return this._font.tint},set:function(e){this._font.tint="number"==typeof e&&0<=e?e:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(e){this._font.align=e||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copy(e)}},{key:"font",get:function(){return this._font},set:function(e){e&&("string"==typeof e?(e=e.split(" "),this._font.name=1===e.length?e[0]:e.slice(1).join(" "),this._font.size=2<=e.length?parseInt(e[0],10):BitmapText.fonts[this._font.name].size):(this._font.name=e.name,this._font.size="number"==typeof e.size?e.size:parseInt(e.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(e){e=e.toString()||" ",this._text!==e&&(this._text=e,this.dirty=!0)}},{key:"maxWidth",get:function(){return this._maxWidth},set:function(e){this._maxWidth!==e&&(this._maxWidth=e,this.dirty=!0)}},{key:"maxLineHeight",get:function(){return this.validate(),this._maxLineHeight}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.dirty=!0)}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),BitmapText}(P.Container);(i.default=l).fonts={}},{"../core":65,"../core/math/ObservablePoint":68,"../core/settings":101,"../core/utils":125}],137:[function(e,t,i){i.__esModule=!0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=e("../core"),w=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(r),a=e("../core/sprites/canvas/CanvasTinter"),x=function(e){return e&&e.__esModule?e:{default:e}}(a);var o=new w.Point,s=function(r){function TilingSprite(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:100;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TilingSprite);var n=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,r.call(this,e));return n.tileTransform=new w.TransformStatic,n._width=t,n._height=i,n._canvasPattern=null,n.uvTransform=e.transform||new w.TextureMatrix(e),n.pluginName="tilingSprite",n.uvRespectAnchor=!1,n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(TilingSprite,r),TilingSprite.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture),this.cachedTint=16777215},TilingSprite.prototype._renderWebGL=function(e){var t=this._texture;t&&t.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),e.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},TilingSprite.prototype._renderCanvas=function(e){var t=this._texture;if(t.baseTexture.hasLoaded){var i=e.context,n=this.worldTransform,r=e.resolution,a=2===t.rotate,o=t.baseTexture,s=o.resolution,l=this.tilePosition.x/this.tileScale.x%t.orig.width*s,u=this.tilePosition.y/this.tileScale.y%t.orig.height*s;if(this._textureID!==this._texture._updateID||this.cachedTint!==this.tint){this._textureID=this._texture._updateID;var h=new w.CanvasRenderTarget(t.orig.width,t.orig.height,s);if(16777215!==this.tint)this.tintedTexture=x.default.getTintedTexture(this,this.tint),h.context.drawImage(this.tintedTexture,0,0);else{var d=t._frame.x*s,c=t._frame.y*s,p=t._frame.width*s,f=t._frame.height*s,m=(t.trim?t.trim.width:t.orig.width)*s,_=(t.trim?t.trim.height:t.orig.height)*s,g=(t.trim?t.trim.x:0)*s,v=(t.trim?t.trim.y:0)*s;a?(h.context.rotate(-Math.PI/2),h.context.translate(-_,0),h.context.drawImage(o.source,d,c,p,f,-v,g,_,m)):h.context.drawImage(o.source,d,c,p,f,g,v,m,_)}this.cachedTint=this.tint,this._canvasPattern=h.context.createPattern(h.canvas,"repeat")}i.globalAlpha=this.worldAlpha,i.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*r,n.ty*r),e.setBlendMode(this.blendMode),i.fillStyle=this._canvasPattern,i.scale(this.tileScale.x/s,this.tileScale.y/s);var y=this.anchor.x*-this._width*s,b=this.anchor.y*-this._height*s;this.uvRespectAnchor?(i.translate(l,u),i.fillRect(y-l,b-u,this._width/this.tileScale.x*s,this._height/this.tileScale.y*s)):(i.translate(l+y,u+b),i.fillRect(-l,-u,this._width/this.tileScale.x*s,this._height/this.tileScale.y*s))}},TilingSprite.prototype._calculateBounds=function(){var e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,i=this._width*(1-this._anchor._x),n=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,i,n)},TilingSprite.prototype.getLocalBounds=function(e){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new w.Rectangle),e=this._localBoundsRect),this._bounds.getRectangle(e)):r.prototype.getLocalBounds.call(this,e)},TilingSprite.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,o);var t=this._width,i=this._height,n=-t*this.anchor._x;if(o.x>=n&&o.x<n+t){var r=-i*this.anchor._y;if(o.y>=r&&o.y<r+i)return!0}return!1},TilingSprite.prototype.destroy=function(e){r.prototype.destroy.call(this,e),this.tileTransform=null,this.uvTransform=null},TilingSprite.from=function(e,t,i){return new TilingSprite(w.Texture.from(e),t,i)},TilingSprite.fromFrame=function(e,t,i){var n=w.utils.TextureCache[e];if(!n)throw new Error('The frameId "'+e+'" does not exist in the texture cache '+this);return new TilingSprite(n,t,i)},TilingSprite.fromImage=function(e,t,i,n,r){return new TilingSprite(w.Texture.fromImage(e,n,r),t,i)},n(TilingSprite,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(e){this.uvTransform.clampMargin=e,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copy(e)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copy(e)}},{key:"width",get:function(){return this._width},set:function(e){this._width=e}},{key:"height",get:function(){return this._height},set:function(e){this._height=e}}]),TilingSprite}(w.Sprite);i.default=s},{"../core":65,"../core/sprites/canvas/CanvasTinter":104}],138:[function(e,t,i){var n=e("../core"),h=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(n),r=e("../core/textures/Texture"),d=_interopRequireDefault(r),a=e("../core/textures/BaseTexture"),c=_interopRequireDefault(a),p=e("../core/utils");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var o=h.DisplayObject,f=new h.Matrix;o.prototype._cacheAsBitmap=!1,o.prototype._cacheData=!1;var s=function CacheData(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CacheData),this.textureCacheId=null,this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null};Object.defineProperties(o.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){if(this._cacheAsBitmap!==e){this._cacheAsBitmap=e;var t=void 0;e?(this._cacheData||(this._cacheData=new s),(t=this._cacheData).originalRenderWebGL=this.renderWebGL,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this.calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):((t=this._cacheData).sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=t.originalRenderWebGL,this.renderCanvas=t.originalRenderCanvas,this.calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}}}),o.prototype._renderCachedWebGL=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(e))},o.prototype._initCachedDisplayObject=function(e){if(!this._cacheData||!this._cacheData.sprite){var t=this.alpha;this.alpha=1,e.currentRenderer.flush();var i=this.getLocalBounds().clone();if(this._filters&&this._filters.length){var n=this._filters[0].padding;i.pad(n)}i.ceil(h.settings.RESOLUTION);var r=e._activeRenderTarget,a=e.filterManager.filterStack,o=h.RenderTexture.create(i.width,i.height),s="cacheAsBitmap_"+(0,p.uid)();this._cacheData.textureCacheId=s,c.default.addToCache(o.baseTexture,s),d.default.addToCache(o,s);var l=f;l.tx=-i.x,l.ty=-i.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,e.render(this,o,!0,l,!0),e.bindRenderTarget(r),e.filterManager.filterStack=a,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var u=new h.Sprite(o);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(i.x/i.width),u.anchor.y=-(i.y/i.height),u.alpha=t,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)}},o.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(e))},o.prototype._initCachedDisplayObjectCanvas=function(e){if(!this._cacheData||!this._cacheData.sprite){var t=this.getLocalBounds(),i=this.alpha;this.alpha=1;var n=e.context;t.ceil(h.settings.RESOLUTION);var r=h.RenderTexture.create(t.width,t.height),a="cacheAsBitmap_"+(0,p.uid)();this._cacheData.textureCacheId=a,c.default.addToCache(r.baseTexture,a),d.default.addToCache(r,a);var o=f;this.transform.localTransform.copy(o),o.invert(),o.tx-=t.x,o.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,r,!0,o,!1),e.context=n,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null;var s=new h.Sprite(r);s.transform.worldTransform=this.transform.worldTransform,s.anchor.x=-(t.x/t.width),s.anchor.y=-(t.y/t.height),s.alpha=i,s._bounds=this._bounds,this._cacheData.sprite=s,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=e._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=s.containsPoint.bind(s)}},o.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._lastBoundsID=this._boundsID},o.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},o.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,c.default.removeFromCache(this._cacheData.textureCacheId),d.default.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},o.prototype._cacheAsBitmapDestroy=function(e){this.cacheAsBitmap=!1,this.destroy(e)}},{"../core":65,"../core/textures/BaseTexture":112,"../core/textures/Texture":115,"../core/utils":125}],139:[function(e,t,i){var n=e("../core"),r=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(n);r.DisplayObject.prototype.name=null,r.Container.prototype.getChildByName=function(e){for(var t=0;t<this.children.length;t++)if(this.children[t].name===e)return this.children[t];return null}},{"../core":65}],140:[function(e,t,i){var n=e("../core"),r=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(n);r.DisplayObject.prototype.getGlobalPosition=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new r.Point,t=1<arguments.length&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e}},{"../core":65}],141:[function(e,t,i){i.__esModule=!0,i.BitmapText=i.TilingSpriteRenderer=i.TilingSprite=i.AnimatedSprite=void 0;var n=e("./AnimatedSprite");Object.defineProperty(i,"AnimatedSprite",{enumerable:!0,get:function(){return _interopRequireDefault(n).default}});var r=e("./TilingSprite");Object.defineProperty(i,"TilingSprite",{enumerable:!0,get:function(){return _interopRequireDefault(r).default}});var a=e("./webgl/TilingSpriteRenderer");Object.defineProperty(i,"TilingSpriteRenderer",{enumerable:!0,get:function(){return _interopRequireDefault(a).default}});var o=e("./BitmapText");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"BitmapText",{enumerable:!0,get:function(){return _interopRequireDefault(o).default}}),e("./cacheAsBitmap"),e("./getChildByName"),e("./getGlobalPosition")},{"./AnimatedSprite":135,"./BitmapText":136,"./TilingSprite":137,"./cacheAsBitmap":138,"./getChildByName":139,"./getGlobalPosition":140,"./webgl/TilingSpriteRenderer":142}],142:[function(e,t,i){i.__esModule=!0;var n=e("../../core"),f=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(n),m=e("../../core/const");e("path");var _=new f.Matrix,r=function(i){function TilingSpriteRenderer(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TilingSpriteRenderer);var t=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,i.call(this,e));return t.shader=null,t.simpleShader=null,t.quad=null,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(TilingSpriteRenderer,i),TilingSpriteRenderer.prototype.onContextChange=function(){var e=this.renderer.gl;this.shader=new f.Shader(e,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n"),this.simpleShader=new f.Shader(e,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n"),this.renderer.bindVao(null),this.quad=new f.Quad(e,this.renderer.state.attribState),this.quad.initVao(this.shader)},TilingSpriteRenderer.prototype.render=function(e){var t=this.renderer,i=this.quad;t.bindVao(i.vao);var n=i.vertices;n[0]=n[6]=e._width*-e.anchor.x,n[1]=n[3]=e._height*-e.anchor.y,n[2]=n[4]=e._width*(1-e.anchor.x),n[5]=n[7]=e._height*(1-e.anchor.y),e.uvRespectAnchor&&((n=i.uvs)[0]=n[6]=-e.anchor.x,n[1]=n[3]=-e.anchor.y,n[2]=n[4]=1-e.anchor.x,n[5]=n[7]=1-e.anchor.y),i.upload();var r=e._texture,a=r.baseTexture,o=e.tileTransform.localTransform,s=e.uvTransform,l=a.isPowerOfTwo&&r.frame.width===a.width&&r.frame.height===a.height;l&&(a._glTextures[t.CONTEXT_UID]?l=a.wrapMode!==m.WRAP_MODES.CLAMP:a.wrapMode===m.WRAP_MODES.CLAMP&&(a.wrapMode=m.WRAP_MODES.REPEAT));var u=l?this.simpleShader:this.shader;t.bindShader(u);var h=r.width,d=r.height,c=e._width,p=e._height;_.set(o.a*h/c,o.b*h/p,o.c*d/c,o.d*d/p,o.tx/c,o.ty/p),_.invert(),l?_.prepend(s.mapCoord):(u.uniforms.uMapCoord=s.mapCoord.toArray(!0),u.uniforms.uClampFrame=s.uClampFrame,u.uniforms.uClampOffset=s.uClampOffset),u.uniforms.uTransform=_.toArray(!0),u.uniforms.uColor=f.utils.premultiplyTintToRgba(e.tint,e.worldAlpha,u.uniforms.uColor,a.premultipliedAlpha),u.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),u.uniforms.uSampler=t.bindTexture(r),t.setBlendMode(f.utils.correctBlendMode(e.blendMode,a.premultipliedAlpha)),i.vao.draw(this.renderer.gl.TRIANGLES,6,0)},TilingSpriteRenderer}(f.ObjectRenderer);i.default=r,f.WebGLRenderer.registerPlugin("tilingSprite",r)},{"../../core":65,"../../core/const":46,path:8}],143:[function(e,t,i){i.__esModule=!0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=e("../../core"),a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(r);e("path");var o=function(i){function AlphaFilter(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,AlphaFilter);var t=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,i.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n"));return t.alpha=e,t.glShaderKey="alpha",t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AlphaFilter,i),n(AlphaFilter,[{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e}}]),AlphaFilter}(a.Filter);i.default=o},{"../../core":65,path:8}],144:[function(e,t,i){i.__esModule=!0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=e("../../core"),o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(r),a=e("./BlurXFilter"),s=_interopRequireDefault(a),l=e("./BlurYFilter"),u=_interopRequireDefault(l);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var h=function(a){function BlurFilter(e,t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BlurFilter);var r=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,a.call(this));return r.blurXFilter=new s.default(e,t,i,n),r.blurYFilter=new u.default(e,t,i,n),r.padding=0,r.resolution=i||o.settings.RESOLUTION,r.quality=t||4,r.blur=e||8,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(BlurFilter,a),BlurFilter.prototype.apply=function(e,t,i){var n=e.getRenderTarget(!0);this.blurXFilter.apply(e,t,n,!0),this.blurYFilter.apply(e,n,i,!1),e.returnRenderTarget(n)},n(BlurFilter,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blendMode",get:function(){return this.blurYFilter._blendMode},set:function(e){this.blurYFilter._blendMode=e}}]),BlurFilter}(o.Filter);i.default=h},{"../../core":65,"./BlurXFilter":145,"./BlurYFilter":146}],145:[function(e,t,i){i.__esModule=!0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=e("../../core"),l=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(r),a=e("./generateBlurVertSource"),d=_interopRequireDefault(a),o=e("./generateBlurFragSource"),c=_interopRequireDefault(o),s=e("./getMaxBlurKernelSize"),p=_interopRequireDefault(s);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var u=function(s){function BlurXFilter(e,t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BlurXFilter),n=n||5;var r=(0,d.default)(n,!0),a=(0,c.default)(n),o=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,s.call(this,r,a));return o.resolution=i||l.settings.RESOLUTION,o._quality=0,o.quality=t||4,o.strength=e||8,o.firstRun=!0,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(BlurXFilter,s),BlurXFilter.prototype.apply=function(e,t,i,n){if(this.firstRun){var r=e.renderer.gl,a=(0,p.default)(r);this.vertexSrc=(0,d.default)(a,!0),this.fragmentSrc=(0,c.default)(a),this.firstRun=!1}if(this.uniforms.strength=1/i.size.width*(i.size.width/t.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,i,n);else{for(var o=e.getRenderTarget(!0),s=t,l=o,u=0;u<this.passes-1;u++){e.applyFilter(this,s,l,!0);var h=l;l=s,s=h}e.applyFilter(this,s,i,n),e.returnRenderTarget(o)}},n(BlurXFilter,[{key:"blur",get:function(){return this.strength},set:function(e){this.padding=2*Math.abs(e),this.strength=e}},{key:"quality",get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e}}]),BlurXFilter}(l.Filter);i.default=u},{"../../core":65,"./generateBlurFragSource":147,"./generateBlurVertSource":148,"./getMaxBlurKernelSize":149}],146:[function(e,t,i){i.__esModule=!0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=e("../../core"),l=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(r),a=e("./generateBlurVertSource"),d=_interopRequireDefault(a),o=e("./generateBlurFragSource"),c=_interopRequireDefault(o),s=e("./getMaxBlurKernelSize"),p=_interopRequireDefault(s);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var u=function(s){function BlurYFilter(e,t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BlurYFilter),n=n||5;var r=(0,d.default)(n,!1),a=(0,c.default)(n),o=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,s.call(this,r,a));return o.resolution=i||l.settings.RESOLUTION,o._quality=0,o.quality=t||4,o.strength=e||8,o.firstRun=!0,o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(BlurYFilter,s),BlurYFilter.prototype.apply=function(e,t,i,n){if(this.firstRun){var r=e.renderer.gl,a=(0,p.default)(r);this.vertexSrc=(0,d.default)(a,!1),this.fragmentSrc=(0,c.default)(a),this.firstRun=!1}if(this.uniforms.strength=1/i.size.height*(i.size.height/t.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,i,n);else{for(var o=e.getRenderTarget(!0),s=t,l=o,u=0;u<this.passes-1;u++){e.applyFilter(this,s,l,!0);var h=l;l=s,s=h}e.applyFilter(this,s,i,n),e.returnRenderTarget(o)}},n(BlurYFilter,[{key:"blur",get:function(){return this.strength},set:function(e){this.padding=2*Math.abs(e),this.strength=e}},{key:"quality",get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e}}]),BlurYFilter}(l.Filter);i.default=u},{"../../core":65,"./generateBlurFragSource":147,"./generateBlurVertSource":148,"./getMaxBlurKernelSize":149}],147:[function(e,t,i){i.__esModule=!0,i.default=function(e){for(var t=l[e],i=t.length,n=u,r="",a=void 0,o=0;o<e;o++){var s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;".replace("%index%",o);i<=(a=o)&&(a=e-o-1),s=s.replace("%value%",t[a]),r+=s,r+="\n"}return n=(n=n.replace("%blur%",r)).replace("%size%",e)};var l={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},u=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join("\n")},{}],148:[function(e,t,i){i.__esModule=!0,i.default=function(e,t){var i=Math.ceil(e/2),n=l,r="",a=void 0;a=t?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);";for(var o=0;o<e;o++){var s=a.replace("%index%",o);s=s.replace("%sampleIndex%",o-(i-1)+".0"),r+=s,r+="\n"}return n=(n=n.replace("%blur%",r)).replace("%size%",e)};var l=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join("\n")},{}],149:[function(e,t,i){i.__esModule=!0,i.default=function(e){var t=e.getParameter(e.MAX_VARYING_VECTORS),i=15;for(;t<i;)i-=2;return i}},{}],150:[function(e,t,i){i.__esModule=!0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=e("../../core"),a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(r);e("path");var o=function(t){function ColorMatrixFilter(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ColorMatrixFilter);var e=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,t.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n"));return e.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],e.alpha=1,e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ColorMatrixFilter,t),ColorMatrixFilter.prototype._loadMatrix=function(e){var t=1<arguments.length&&void 0!==arguments[1]&&arguments[1],i=e;t&&(this._multiply(i,this.uniforms.m,e),i=this._colorMatrix(i)),this.uniforms.m=i},ColorMatrixFilter.prototype._multiply=function(e,t,i){return e[0]=t[0]*i[0]+t[1]*i[5]+t[2]*i[10]+t[3]*i[15],e[1]=t[0]*i[1]+t[1]*i[6]+t[2]*i[11]+t[3]*i[16],e[2]=t[0]*i[2]+t[1]*i[7]+t[2]*i[12]+t[3]*i[17],e[3]=t[0]*i[3]+t[1]*i[8]+t[2]*i[13]+t[3]*i[18],e[4]=t[0]*i[4]+t[1]*i[9]+t[2]*i[14]+t[3]*i[19]+t[4],e[5]=t[5]*i[0]+t[6]*i[5]+t[7]*i[10]+t[8]*i[15],e[6]=t[5]*i[1]+t[6]*i[6]+t[7]*i[11]+t[8]*i[16],e[7]=t[5]*i[2]+t[6]*i[7]+t[7]*i[12]+t[8]*i[17],e[8]=t[5]*i[3]+t[6]*i[8]+t[7]*i[13]+t[8]*i[18],e[9]=t[5]*i[4]+t[6]*i[9]+t[7]*i[14]+t[8]*i[19]+t[9],e[10]=t[10]*i[0]+t[11]*i[5]+t[12]*i[10]+t[13]*i[15],e[11]=t[10]*i[1]+t[11]*i[6]+t[12]*i[11]+t[13]*i[16],e[12]=t[10]*i[2]+t[11]*i[7]+t[12]*i[12]+t[13]*i[17],e[13]=t[10]*i[3]+t[11]*i[8]+t[12]*i[13]+t[13]*i[18],e[14]=t[10]*i[4]+t[11]*i[9]+t[12]*i[14]+t[13]*i[19]+t[14],e[15]=t[15]*i[0]+t[16]*i[5]+t[17]*i[10]+t[18]*i[15],e[16]=t[15]*i[1]+t[16]*i[6]+t[17]*i[11]+t[18]*i[16],e[17]=t[15]*i[2]+t[16]*i[7]+t[17]*i[12]+t[18]*i[17],e[18]=t[15]*i[3]+t[16]*i[8]+t[17]*i[13]+t[18]*i[18],e[19]=t[15]*i[4]+t[16]*i[9]+t[17]*i[14]+t[18]*i[19]+t[19],e},ColorMatrixFilter.prototype._colorMatrix=function(e){var t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},ColorMatrixFilter.prototype.brightness=function(e,t){var i=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(i,t)},ColorMatrixFilter.prototype.greyscale=function(e,t){var i=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(i,t)},ColorMatrixFilter.prototype.blackAndWhite=function(e){this._loadMatrix([.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0],e)},ColorMatrixFilter.prototype.hue=function(e,t){e=(e||0)/180*Math.PI;var i=Math.cos(e),n=Math.sin(e),r=Math.sqrt,a=r(1/3),o=i+1/3*(1-i),s=1/3*(1-i)-a*n,l=1/3*(1-i)+a*n,u=1/3*(1-i)+a*n,h=i+1/3*(1-i),d=1/3*(1-i)-a*n,c=1/3*(1-i)-a*n,p=1/3*(1-i)+a*n,f=i+1/3*(1-i),m=[o,s,l,0,0,u,h,d,0,0,c,p,f,0,0,0,0,0,1,0];this._loadMatrix(m,t)},ColorMatrixFilter.prototype.contrast=function(e,t){var i=(e||0)+1,n=-.5*(i-1),r=[i,0,0,0,n,0,i,0,0,n,0,0,i,0,n,0,0,0,1,0];this._loadMatrix(r,t)},ColorMatrixFilter.prototype.saturate=function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,t=arguments[1],i=2*e/3+1,n=-.5*(i-1),r=[i,n,n,0,0,n,i,n,0,0,n,n,i,0,0,0,0,0,1,0];this._loadMatrix(r,t)},ColorMatrixFilter.prototype.desaturate=function(){this.saturate(-1)},ColorMatrixFilter.prototype.negative=function(e){this._loadMatrix([-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0],e)},ColorMatrixFilter.prototype.sepia=function(e){this._loadMatrix([.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0],e)},ColorMatrixFilter.prototype.technicolor=function(e){this._loadMatrix([1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0],e)},ColorMatrixFilter.prototype.polaroid=function(e){this._loadMatrix([1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],e)},ColorMatrixFilter.prototype.toBGR=function(e){this._loadMatrix([0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0],e)},ColorMatrixFilter.prototype.kodachrome=function(e){this._loadMatrix([1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0],e)},ColorMatrixFilter.prototype.browni=function(e){this._loadMatrix([.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0],e)},ColorMatrixFilter.prototype.vintage=function(e){this._loadMatrix([.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0],e)},ColorMatrixFilter.prototype.colorTone=function(e,t,i,n,r){var a=((i=i||16770432)>>16&255)/255,o=(i>>8&255)/255,s=(255&i)/255,l=((n=n||3375104)>>16&255)/255,u=(n>>8&255)/255,h=(255&n)/255,d=[.3,.59,.11,0,0,a,o,s,e=e||.2,0,l,u,h,t=t||.15,0,a-l,o-u,s-h,0,0];this._loadMatrix(d,r)},ColorMatrixFilter.prototype.night=function(e,t){var i=[-2*(e=e||.1),-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(i,t)},ColorMatrixFilter.prototype.predator=function(e,t){var i=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(i,t)},ColorMatrixFilter.prototype.lsd=function(e){this._loadMatrix([2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0],e)},ColorMatrixFilter.prototype.reset=function(){this._loadMatrix([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],!1)},n(ColorMatrixFilter,[{key:"matrix",get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e}},{key:"alpha",get:function(){return this.uniforms.uAlpha},set:function(e){this.uniforms.uAlpha=e}}]),ColorMatrixFilter}(a.Filter);(i.default=o).prototype.grayscale=o.prototype.greyscale},{"../../core":65,path:8}],151:[function(e,t,i){i.__esModule=!0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=e("../../core"),a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(r);e("path");var o=function(r){function DisplacementFilter(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,DisplacementFilter);var i=new a.Matrix;e.renderable=!1;var n=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,r.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}","varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n"));return n.maskSprite=e,n.maskMatrix=i,n.uniforms.mapSampler=e._texture,n.uniforms.filterMatrix=i,n.uniforms.scale={x:1,y:1},null==t&&(t=20),n.scale=new a.Point(t,t),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(DisplacementFilter,r),DisplacementFilter.prototype.apply=function(e,t,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y,e.applyFilter(this,t,i)},n(DisplacementFilter,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e}}]),DisplacementFilter}(a.Filter);i.default=o},{"../../core":65,path:8}],152:[function(e,t,i){i.__esModule=!0;var n=e("../../core"),r=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(n);e("path");var a=function(e){function FXAAFilter(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,FXAAFilter),function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,e.call(this,"\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}",'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(FXAAFilter,e),FXAAFilter}(r.Filter);i.default=a},{"../../core":65,path:8}],153:[function(e,t,i){i.__esModule=!0;var n=e("./fxaa/FXAAFilter");Object.defineProperty(i,"FXAAFilter",{enumerable:!0,get:function(){return _interopRequireDefault(n).default}});var r=e("./noise/NoiseFilter");Object.defineProperty(i,"NoiseFilter",{enumerable:!0,get:function(){return _interopRequireDefault(r).default}});var a=e("./displacement/DisplacementFilter");Object.defineProperty(i,"DisplacementFilter",{enumerable:!0,get:function(){return _interopRequireDefault(a).default}});var o=e("./blur/BlurFilter");Object.defineProperty(i,"BlurFilter",{enumerable:!0,get:function(){return _interopRequireDefault(o).default}});var s=e("./blur/BlurXFilter");Object.defineProperty(i,"BlurXFilter",{enumerable:!0,get:function(){return _interopRequireDefault(s).default}});var l=e("./blur/BlurYFilter");Object.defineProperty(i,"BlurYFilter",{enumerable:!0,get:function(){return _interopRequireDefault(l).default}});var u=e("./colormatrix/ColorMatrixFilter");Object.defineProperty(i,"ColorMatrixFilter",{enumerable:!0,get:function(){return _interopRequireDefault(u).default}});var h=e("./alpha/AlphaFilter");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"AlphaFilter",{enumerable:!0,get:function(){return _interopRequireDefault(h).default}})},{"./alpha/AlphaFilter":143,"./blur/BlurFilter":144,"./blur/BlurXFilter":145,"./blur/BlurYFilter":146,"./colormatrix/ColorMatrixFilter":150,"./displacement/DisplacementFilter":151,"./fxaa/FXAAFilter":152,"./noise/NoiseFilter":154}],154:[function(e,t,i){i.__esModule=!0;var r=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),n=e("../../core"),a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(n);e("path");var o=function(n){function NoiseFilter(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:.5,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:Math.random();!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NoiseFilter);var i=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,n.call(this,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}","precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n"));return i.noise=e,i.seed=t,i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(NoiseFilter,n),r(NoiseFilter,[{key:"noise",get:function(){return this.uniforms.uNoise},set:function(e){this.uniforms.uNoise=e}},{key:"seed",get:function(){return this.uniforms.uSeed},set:function(e){this.uniforms.uSeed=e}}]),NoiseFilter}(a.Filter);i.default=o},{"../../core":65,path:8}],155:[function(e,t,i){i.__esModule=!0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=e("../core"),a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(r);var o=function(){function InteractionData(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,InteractionData),this.global=new a.Point,this.target=null,this.originalEvent=null,this.identifier=null,this.isPrimary=!1,this.button=0,this.buttons=0,this.width=0,this.height=0,this.tiltX=0,this.tiltY=0,this.pointerType=null,this.pressure=0,this.rotationAngle=0,this.twist=0,this.tangentialPressure=0}return InteractionData.prototype.getLocalPosition=function(e,t,i){return e.worldTransform.applyInverse(i||this.global,t)},InteractionData.prototype.copyEvent=function(e){e.isPrimary&&(this.isPrimary=!0),this.button=e.button,this.buttons=Number.isInteger(e.buttons)?e.buttons:e.which,this.width=e.width,this.height=e.height,this.tiltX=e.tiltX,this.tiltY=e.tiltY,this.pointerType=e.pointerType,this.pressure=e.pressure,this.rotationAngle=e.rotationAngle,this.twist=e.twist||0,this.tangentialPressure=e.tangentialPressure||0},InteractionData.prototype.reset=function(){this.isPrimary=!1},n(InteractionData,[{key:"pointerId",get:function(){return this.identifier}}]),InteractionData}();i.default=o},{"../core":65}],156:[function(e,t,i){i.__esModule=!0;var n=function(){function InteractionEvent(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,InteractionEvent),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return InteractionEvent.prototype.stopPropagation=function(){this.stopped=!0},InteractionEvent.prototype.reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},InteractionEvent}();i.default=n},{}],157:[function(e,t,i){i.__esModule=!0;var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n=e("../core"),a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(n),o=e("./InteractionData"),s=_interopRequireDefault(o),l=e("./InteractionEvent"),u=_interopRequireDefault(l),h=e("./InteractionTrackingData"),p=_interopRequireDefault(h),d=e("eventemitter3"),c=_interopRequireDefault(d),f=e("./interactiveTarget"),m=_interopRequireDefault(f);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}a.utils.mixins.delayMixin(a.DisplayObject.prototype,m.default);var _={target:null,data:{global:null}},g=function(n){function InteractionManager(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,InteractionManager);var i=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,n.call(this));return t=t||{},i.renderer=e,i.autoPreventDefault=void 0===t.autoPreventDefault||t.autoPreventDefault,i.interactionFrequency=t.interactionFrequency||10,i.mouse=new s.default,i.mouse.identifier=1,i.mouse.global.set(-999999),i.activeInteractionData={},i.activeInteractionData[1]=i.mouse,i.interactionDataPool=[],i.eventData=new u.default,i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.mouseOverRenderer=!1,i.supportsTouchEvents="ontouchstart"in window,i.supportsPointerEvents=!!window.PointerEvent,i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerCancel=i.onPointerCancel.bind(i),i.processPointerCancel=i.processPointerCancel.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.cursorStyles={default:"inherit",pointer:"pointer"},i.currentCursorMode=null,i.cursor=null,i._tempPoint=new a.Point,i.resolution=1,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(InteractionManager,n),InteractionManager.prototype.hitTest=function(e,t){return _.target=null,_.data.global=e,t=t||this.renderer._lastObjectRendered,this.processInteractive(_,t,null,!0),_.target},InteractionManager.prototype.setTargetElement=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=e,this.resolution=t,this.addEvents()},InteractionManager.prototype.addEvents=function(){this.interactionDOMElement&&(a.ticker.shared.add(this.update,this,a.UPDATE_PRIORITY.INTERACTION),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointercancel",this.onPointerCancel,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.eventsAdded=!0)},InteractionManager.prototype.removeEvents=function(){this.interactionDOMElement&&(a.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerleave",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointercancel",this.onPointerCancel,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchcancel",this.onPointerCancel,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},InteractionManager.prototype.update=function(e){if(this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement))if(this.didMove)this.didMove=!1;else{for(var t in this.cursor=null,this.activeInteractionData)if(this.activeInteractionData.hasOwnProperty(t)){var i=this.activeInteractionData[t];if(i.originalEvent&&"touch"!==i.pointerType){var n=this.configureInteractionEventForDOMEvent(this.eventData,i.originalEvent,i);this.processInteractive(n,this.renderer._lastObjectRendered,this.processPointerOverOut,!0)}}this.setCursorMode(this.cursor)}},InteractionManager.prototype.setCursorMode=function(e){if(e=e||"default",this.currentCursorMode!==e){this.currentCursorMode=e;var t=this.cursorStyles[e];if(t)switch(void 0===t?"undefined":r(t)){case"string":this.interactionDOMElement.style.cursor=t;break;case"function":t(e);break;case"object":Object.assign(this.interactionDOMElement.style,t)}else"string"!=typeof e||Object.prototype.hasOwnProperty.call(this.cursorStyles,e)||(this.interactionDOMElement.style.cursor=e)}},InteractionManager.prototype.dispatchEvent=function(e,t,i){i.stopped||(i.currentTarget=e,i.type=t,e.emit(t,i),e[t]&&e[t](i))},InteractionManager.prototype.mapPositionToPoint=function(e,t,i){var n=void 0;n=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0};var r=navigator.isCocoonJS?this.resolution:1/this.resolution;e.x=(t-n.left)*(this.interactionDOMElement.width/n.width)*r,e.y=(i-n.top)*(this.interactionDOMElement.height/n.height)*r},InteractionManager.prototype.processInteractive=function(e,t,i,n,r){if(!t||!t.visible)return!1;var a=e.data.global;r=t.interactive||r;var o=!1,s=r,l=!0;if(t.hitArea?(n&&(t.worldTransform.applyInverse(a,this._tempPoint),t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)?o=!0:l=n=!1),s=!1):t._mask&&n&&(t._mask.containsPoint(a)||(l=n=!1)),l&&t.interactiveChildren&&t.children)for(var u=t.children,h=u.length-1;0<=h;h--){var d=u[h],c=this.processInteractive(e,d,i,n,s);if(c){if(!d.parent)continue;s=!1,c&&(e.target&&(n=!1),o=!0)}}return r&&(n&&!e.target&&!t.hitArea&&t.containsPoint&&t.containsPoint(a)&&(o=!0),t.interactive&&(o&&!e.target&&(e.target=t),i&&i(e,t,!!o))),o},InteractionManager.prototype.onPointerDown=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);this.autoPreventDefault&&t[0].isNormalized&&e.preventDefault();for(var i=t.length,n=0;n<i;n++){var r=t[n],a=this.getInteractionDataForPointerId(r),o=this.configureInteractionEventForDOMEvent(this.eventData,r,a);if(o.data.originalEvent=e,this.processInteractive(o,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",o),"touch"===r.pointerType)this.emit("touchstart",o);else if("mouse"===r.pointerType||"pen"===r.pointerType){var s=2===r.button;this.emit(s?"rightdown":"mousedown",this.eventData)}}}},InteractionManager.prototype.processPointerDown=function(e,t,i){var n=e.data,r=e.data.identifier;if(i)if(t.trackedPointers[r]||(t.trackedPointers[r]=new p.default(r)),this.dispatchEvent(t,"pointerdown",e),"touch"===n.pointerType)this.dispatchEvent(t,"touchstart",e);else if("mouse"===n.pointerType||"pen"===n.pointerType){var a=2===n.button;a?t.trackedPointers[r].rightDown=!0:t.trackedPointers[r].leftDown=!0,this.dispatchEvent(t,a?"rightdown":"mousedown",e)}},InteractionManager.prototype.onPointerComplete=function(e,t,i){for(var n=this.normalizeToPointerData(e),r=n.length,a=e.target!==this.interactionDOMElement?"outside":"",o=0;o<r;o++){var s=n[o],l=this.getInteractionDataForPointerId(s),u=this.configureInteractionEventForDOMEvent(this.eventData,s,l);if(u.data.originalEvent=e,this.processInteractive(u,this.renderer._lastObjectRendered,i,t||!a),this.emit(t?"pointercancel":"pointerup"+a,u),"mouse"===s.pointerType||"pen"===s.pointerType){var h=2===s.button;this.emit(h?"rightup"+a:"mouseup"+a,u)}else"touch"===s.pointerType&&(this.emit(t?"touchcancel":"touchend"+a,u),this.releaseInteractionDataForPointerId(s.pointerId,l))}},InteractionManager.prototype.onPointerCancel=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!0,this.processPointerCancel)},InteractionManager.prototype.processPointerCancel=function(e,t){var i=e.data,n=e.data.identifier;void 0!==t.trackedPointers[n]&&(delete t.trackedPointers[n],this.dispatchEvent(t,"pointercancel",e),"touch"===i.pointerType&&this.dispatchEvent(t,"touchcancel",e))},InteractionManager.prototype.onPointerUp=function(e){this.supportsTouchEvents&&"touch"===e.pointerType||this.onPointerComplete(e,!1,this.processPointerUp)},InteractionManager.prototype.processPointerUp=function(e,t,i){var n=e.data,r=e.data.identifier,a=t.trackedPointers[r],o="touch"===n.pointerType,s="mouse"===n.pointerType||"pen"===n.pointerType,l=!1;if(s){var u=2===n.button,h=p.default.FLAGS,d=u?h.RIGHT_DOWN:h.LEFT_DOWN,c=void 0!==a&&a.flags&d;i?(this.dispatchEvent(t,u?"rightup":"mouseup",e),c&&(this.dispatchEvent(t,u?"rightclick":"click",e),l=!0)):c&&this.dispatchEvent(t,u?"rightupoutside":"mouseupoutside",e),a&&(u?a.rightDown=!1:a.leftDown=!1)}i?(this.dispatchEvent(t,"pointerup",e),o&&this.dispatchEvent(t,"touchend",e),a&&(s&&!l||this.dispatchEvent(t,"pointertap",e),o&&(this.dispatchEvent(t,"tap",e),a.over=!1))):a&&(this.dispatchEvent(t,"pointerupoutside",e),o&&this.dispatchEvent(t,"touchendoutside",e)),a&&a.none&&delete t.trackedPointers[r]},InteractionManager.prototype.onPointerMove=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e);"mouse"!==t[0].pointerType&&"pen"!==t[0].pointerType||(this.didMove=!0,this.cursor=null);for(var i=t.length,n=0;n<i;n++){var r=t[n],a=this.getInteractionDataForPointerId(r),o=this.configureInteractionEventForDOMEvent(this.eventData,r,a);o.data.originalEvent=e;var s="touch"!==r.pointerType||this.moveWhenInside;this.processInteractive(o,this.renderer._lastObjectRendered,this.processPointerMove,s),this.emit("pointermove",o),"touch"===r.pointerType&&this.emit("touchmove",o),"mouse"!==r.pointerType&&"pen"!==r.pointerType||this.emit("mousemove",o)}"mouse"===t[0].pointerType&&this.setCursorMode(this.cursor)}},InteractionManager.prototype.processPointerMove=function(e,t,i){var n=e.data,r="touch"===n.pointerType,a="mouse"===n.pointerType||"pen"===n.pointerType;a&&this.processPointerOverOut(e,t,i),this.moveWhenInside&&!i||(this.dispatchEvent(t,"pointermove",e),r&&this.dispatchEvent(t,"touchmove",e),a&&this.dispatchEvent(t,"mousemove",e))},InteractionManager.prototype.onPointerOut=function(e){if(!this.supportsTouchEvents||"touch"!==e.pointerType){var t=this.normalizeToPointerData(e),i=t[0];"mouse"===i.pointerType&&(this.mouseOverRenderer=!1,this.setCursorMode(null));var n=this.getInteractionDataForPointerId(i),r=this.configureInteractionEventForDOMEvent(this.eventData,i,n);r.data.originalEvent=i,this.processInteractive(r,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",r),"mouse"===i.pointerType||"pen"===i.pointerType?this.emit("mouseout",r):this.releaseInteractionDataForPointerId(n.identifier)}},InteractionManager.prototype.processPointerOverOut=function(e,t,i){var n=e.data,r=e.data.identifier,a="mouse"===n.pointerType||"pen"===n.pointerType,o=t.trackedPointers[r];i&&!o&&(o=t.trackedPointers[r]=new p.default(r)),void 0!==o&&(i&&this.mouseOverRenderer?(o.over||(o.over=!0,this.dispatchEvent(t,"pointerover",e),a&&this.dispatchEvent(t,"mouseover",e)),a&&null===this.cursor&&(this.cursor=t.cursor)):o.over&&(o.over=!1,this.dispatchEvent(t,"pointerout",this.eventData),a&&this.dispatchEvent(t,"mouseout",e),o.none&&delete t.trackedPointers[r]))},InteractionManager.prototype.onPointerOver=function(e){var t=this.normalizeToPointerData(e),i=t[0],n=this.getInteractionDataForPointerId(i),r=this.configureInteractionEventForDOMEvent(this.eventData,i,n);"mouse"===(r.data.originalEvent=i).pointerType&&(this.mouseOverRenderer=!0),this.emit("pointerover",r),"mouse"!==i.pointerType&&"pen"!==i.pointerType||this.emit("mouseover",r)},InteractionManager.prototype.getInteractionDataForPointerId=function(e){var t=e.pointerId,i=void 0;return 1===t||"mouse"===e.pointerType?i=this.mouse:this.activeInteractionData[t]?i=this.activeInteractionData[t]:((i=this.interactionDataPool.pop()||new s.default).identifier=t,this.activeInteractionData[t]=i),i.copyEvent(e),i},InteractionManager.prototype.releaseInteractionDataForPointerId=function(e){var t=this.activeInteractionData[e];t&&(delete this.activeInteractionData[e],t.reset(),this.interactionDataPool.push(t))},InteractionManager.prototype.configureInteractionEventForDOMEvent=function(e,t,i){return e.data=i,this.mapPositionToPoint(i.global,t.clientX,t.clientY),navigator.isCocoonJS&&"touch"===t.pointerType&&(i.global.x=i.global.x/this.resolution,i.global.y=i.global.y/this.resolution),"touch"===t.pointerType&&(t.globalX=i.global.x,t.globalY=i.global.y),i.originalEvent=t,e.reset(),e},InteractionManager.prototype.normalizeToPointerData=function(e){var t=[];if(this.supportsTouchEvents&&e instanceof TouchEvent)for(var i=0,n=e.changedTouches.length;i<n;i++){var r=e.changedTouches[i];void 0===r.button&&(r.button=e.touches.length?1:0),void 0===r.buttons&&(r.buttons=e.touches.length?1:0),void 0===r.isPrimary&&(r.isPrimary=1===e.touches.length&&"touchstart"===e.type),void 0===r.width&&(r.width=r.radiusX||1),void 0===r.height&&(r.height=r.radiusY||1),void 0===r.tiltX&&(r.tiltX=0),void 0===r.tiltY&&(r.tiltY=0),void 0===r.pointerType&&(r.pointerType="touch"),void 0===r.pointerId&&(r.pointerId=r.identifier||0),void 0===r.pressure&&(r.pressure=r.force||.5),void 0===r.twist&&(r.twist=0),void 0===r.tangentialPressure&&(r.tangentialPressure=0),void 0===r.layerX&&(r.layerX=r.offsetX=r.clientX),void 0===r.layerY&&(r.layerY=r.offsetY=r.clientY),r.isNormalized=!0,t.push(r)}else!(e instanceof MouseEvent)||this.supportsPointerEvents&&e instanceof window.PointerEvent||(void 0===e.isPrimary&&(e.isPrimary=!0),void 0===e.width&&(e.width=1),void 0===e.height&&(e.height=1),void 0===e.tiltX&&(e.tiltX=0),void 0===e.tiltY&&(e.tiltY=0),void 0===e.pointerType&&(e.pointerType="mouse"),void 0===e.pointerId&&(e.pointerId=1),void 0===e.pressure&&(e.pressure=.5),void 0===e.twist&&(e.twist=0),void 0===e.tangentialPressure&&(e.tangentialPressure=0),e.isNormalized=!0),t.push(e);return t},InteractionManager.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactionDOMElement=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerCancel=null,this.processPointerCancel=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this._tempPoint=null},InteractionManager}(c.default);i.default=g,a.WebGLRenderer.registerPlugin("interaction",g),a.CanvasRenderer.registerPlugin("interaction",g)},{"../core":65,"./InteractionData":155,"./InteractionEvent":156,"./InteractionTrackingData":158,"./interactiveTarget":160,eventemitter3:3}],158:[function(e,t,i){i.__esModule=!0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}();var r=function(){function InteractionTrackingData(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,InteractionTrackingData),this._pointerId=e,this._flags=InteractionTrackingData.FLAGS.NONE}return InteractionTrackingData.prototype._doSet=function(e,t){this._flags=t?this._flags|e:this._flags&~e},n(InteractionTrackingData,[{key:"pointerId",get:function(){return this._pointerId}},{key:"flags",get:function(){return this._flags},set:function(e){this._flags=e}},{key:"none",get:function(){return this._flags===this.constructor.FLAGS.NONE}},{key:"over",get:function(){return 0!=(this._flags&this.constructor.FLAGS.OVER)},set:function(e){this._doSet(this.constructor.FLAGS.OVER,e)}},{key:"rightDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.RIGHT_DOWN)},set:function(e){this._doSet(this.constructor.FLAGS.RIGHT_DOWN,e)}},{key:"leftDown",get:function(){return 0!=(this._flags&this.constructor.FLAGS.LEFT_DOWN)},set:function(e){this._doSet(this.constructor.FLAGS.LEFT_DOWN,e)}}]),InteractionTrackingData}();(i.default=r).FLAGS=Object.freeze({NONE:0,OVER:1,LEFT_DOWN:2,RIGHT_DOWN:4})},{}],159:[function(e,t,i){i.__esModule=!0;var n=e("./InteractionData");Object.defineProperty(i,"InteractionData",{enumerable:!0,get:function(){return _interopRequireDefault(n).default}});var r=e("./InteractionManager");Object.defineProperty(i,"InteractionManager",{enumerable:!0,get:function(){return _interopRequireDefault(r).default}});var a=e("./interactiveTarget");Object.defineProperty(i,"interactiveTarget",{enumerable:!0,get:function(){return _interopRequireDefault(a).default}});var o=e("./InteractionTrackingData");Object.defineProperty(i,"InteractionTrackingData",{enumerable:!0,get:function(){return _interopRequireDefault(o).default}});var s=e("./InteractionEvent");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"InteractionEvent",{enumerable:!0,get:function(){return _interopRequireDefault(s).default}})},{"./InteractionData":155,"./InteractionEvent":156,"./InteractionManager":157,"./InteractionTrackingData":158,"./interactiveTarget":160}],160:[function(e,t,i){i.__esModule=!0,i.default={interactive:!1,interactiveChildren:!0,hitArea:null,get buttonMode(){return"pointer"===this.cursor},set buttonMode(e){e?this.cursor="pointer":"pointer"===this.cursor&&(this.cursor=null)},cursor:null,get trackedPointers(){return void 0===this._trackedPointers&&(this._trackedPointers={}),this._trackedPointers},_trackedPointers:void 0}},{}],161:[function(e,t,i){i.__esModule=!0,i.parse=parse,i.default=function(){return function(t,i){if(t.data&&t.type===f.Resource.TYPE.XML)if(0!==t.data.getElementsByTagName("page").length&&0!==t.data.getElementsByTagName("info").length&&null!==t.data.getElementsByTagName("info")[0].getAttribute("face")){var e=t.isDataUrl?"":p.dirname(t.url);t.isDataUrl&&("."===e&&(e=""),this.baseUrl&&e&&"/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(e+="/")),(e=e.replace(this.baseUrl,""))&&"/"!==e.charAt(e.length-1)&&(e+="/");for(var n=t.data.getElementsByTagName("page"),r={},a=function(e){r[e.metadata.pageFile]=e.texture,Object.keys(r).length===n.length&&(parse(t,r),i())},o=0;o<n.length;++o){var s=n[o].getAttribute("file"),l=e+s,u=!1;for(var h in this.resources){var d=this.resources[h];if(d.url===l){d.metadata.pageFile=s,d.texture?a(d):d.onAfterMiddleware.add(a),u=!0;break}}if(!u){var c={crossOrigin:t.crossOrigin,loadType:f.Resource.LOAD_TYPE.IMAGE,metadata:Object.assign({pageFile:s},t.metadata.imageMetadata),parentResource:t};this.add(l,c,a)}}}else i();else i()}};var n=e("path"),p=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(n),f=e("resource-loader"),r=e("../extras");function parse(e,t){e.bitmapFont=r.BitmapText.registerFont(e.data,t)}},{"../extras":141,path:8,"resource-loader":36}],162:[function(e,t,i){i.__esModule=!0,i.shared=i.Resource=i.textureParser=i.getResourcePath=i.spritesheetParser=i.parseBitmapFontData=i.bitmapFontParser=i.Loader=void 0;var n=e("./bitmapFontParser");Object.defineProperty(i,"bitmapFontParser",{enumerable:!0,get:function(){return _interopRequireDefault(n).default}}),Object.defineProperty(i,"parseBitmapFontData",{enumerable:!0,get:function(){return n.parse}});var r=e("./spritesheetParser");Object.defineProperty(i,"spritesheetParser",{enumerable:!0,get:function(){return _interopRequireDefault(r).default}}),Object.defineProperty(i,"getResourcePath",{enumerable:!0,get:function(){return r.getResourcePath}});var a=e("./textureParser");Object.defineProperty(i,"textureParser",{enumerable:!0,get:function(){return _interopRequireDefault(a).default}});var o=e("resource-loader");Object.defineProperty(i,"Resource",{enumerable:!0,get:function(){return o.Resource}});var s=e("../core/Application"),l=_interopRequireDefault(s),u=e("./loader"),h=_interopRequireDefault(u);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}i.Loader=h.default;var d=new h.default;d.destroy=function(){},i.shared=d;var c=l.default.prototype;c._loader=null,Object.defineProperty(c,"loader",{get:function(){if(!this._loader){var e=this._options.sharedLoader;this._loader=e?d:new h.default}return this._loader}}),c._parentDestroy=c.destroy,c.destroy=function(e,t){this._loader&&(this._loader.destroy(),this._loader=null),this._parentDestroy(e,t)}},{"../core/Application":43,"./bitmapFontParser":161,"./loader":163,"./spritesheetParser":164,"./textureParser":165,"resource-loader":36}],163:[function(e,t,i){i.__esModule=!0;var n=e("resource-loader"),r=_interopRequireDefault(n),a=e("resource-loader/lib/middlewares/parsing/blob"),o=e("eventemitter3"),s=_interopRequireDefault(o),l=e("./textureParser"),u=_interopRequireDefault(l),h=e("./spritesheetParser"),d=_interopRequireDefault(h),c=e("./bitmapFontParser"),p=_interopRequireDefault(c);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var f=function(r){function Loader(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Loader);var n=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,r.call(this,e,t));s.default.call(n);for(var i=0;i<Loader._pixiMiddleware.length;++i)n.use(Loader._pixiMiddleware[i]());return n.onStart.add(function(e){return n.emit("start",e)}),n.onProgress.add(function(e,t){return n.emit("progress",e,t)}),n.onError.add(function(e,t,i){return n.emit("error",e,t,i)}),n.onLoad.add(function(e,t){return n.emit("load",e,t)}),n.onComplete.add(function(e,t){return n.emit("complete",e,t)}),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Loader,r),Loader.addPixiMiddleware=function(e){Loader._pixiMiddleware.push(e)},Loader.prototype.destroy=function(){this.removeAllListeners(),this.reset()},Loader}(r.default);for(var m in i.default=f,s.default.prototype)f.prototype[m]=s.default.prototype[m];f._pixiMiddleware=[a.blobMiddlewareFactory,u.default,d.default,p.default];var _=r.default.Resource;_.setExtensionXhrType("fnt",_.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":161,"./spritesheetParser":164,"./textureParser":165,eventemitter3:3,"resource-loader":36,"resource-loader/lib/middlewares/parsing/blob":37}],164:[function(e,t,i){i.__esModule=!0,i.default=function(){return function(i,n){var e=i.name+"_image";if(i.data&&i.type===a.Resource.TYPE.JSON&&i.data.frames&&!this.resources[e]){var t={crossOrigin:i.crossOrigin,metadata:i.metadata.imageMetadata,parentResource:i},r=getResourcePath(i,this.baseUrl);this.add(e,r,t,function(e){if(e.error)n(e.error);else{var t=new o.Spritesheet(e.texture.baseTexture,i.data,i.url);t.parse(function(){i.spritesheet=t,i.textures=t.textures,n()})}})}else n()}},i.getResourcePath=getResourcePath;var a=e("resource-loader"),n=e("url"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),o=e("../core");function getResourcePath(e,t){return e.isDataUrl?e.data.meta.image:r.default.resolve(e.url.replace(t,""),e.data.meta.image)}},{"../core":65,"resource-loader":36,url:38}],165:[function(e,t,i){i.__esModule=!0,i.default=function(){return function(e,t){e.data&&e.type===n.Resource.TYPE.IMAGE&&(e.texture=a.default.fromLoader(e.data,e.url,e.name)),t()}};var n=e("resource-loader"),r=e("../core/textures/Texture"),a=function(e){return e&&e.__esModule?e:{default:e}}(r)},{"../core/textures/Texture":115,"resource-loader":36}],166:[function(e,t,i){i.__esModule=!0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=e("../core"),s=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(r),a=e("../core/textures/Texture"),l=function(e){return e&&e.__esModule?e:{default:e}}(a);var h=new s.Point,d=new s.Polygon,o=function(o){function Mesh(e,t,i,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Mesh);var a=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,o.call(this));return a._texture=e||l.default.EMPTY,a.uvs=i||new Float32Array([0,0,1,0,1,1,0,1]),a.vertices=t||new Float32Array([0,0,100,0,100,100,0,100]),a.indices=n||new Uint16Array([0,1,3,2]),a.dirty=0,a.indexDirty=0,a.vertexDirty=0,a.autoUpdate=!0,a.blendMode=s.BLEND_MODES.NORMAL,a.canvasPadding=s.settings.MESH_CANVAS_PADDING,a.drawMode=r||Mesh.DRAW_MODES.TRIANGLE_MESH,a.shader=null,a.tintRgb=new Float32Array([1,1,1]),a._glDatas={},a._uvTransform=new s.TextureMatrix(a._texture),a.uploadUvTransform=!1,a.pluginName="mesh",a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Mesh,o),Mesh.prototype._renderWebGL=function(e){this.refresh(),e.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},Mesh.prototype._renderCanvas=function(e){this.refresh(),e.plugins[this.pluginName].render(this)},Mesh.prototype._onTextureUpdate=function(){this._uvTransform.texture=this._texture,this.refresh()},Mesh.prototype.multiplyUvs=function(){this.uploadUvTransform||this._uvTransform.multiplyUvs(this.uvs)},Mesh.prototype.refresh=function(e){this.autoUpdate&&this.vertexDirty++,this._uvTransform.update(e)&&this._refresh()},Mesh.prototype._refresh=function(){},Mesh.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},Mesh.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,h);for(var t=this.vertices,i=d.points,n=this.indices,r=this.indices.length,a=this.drawMode===Mesh.DRAW_MODES.TRIANGLES?3:1,o=0;o+2<r;o+=a){var s=2*n[o],l=2*n[o+1],u=2*n[o+2];if(i[0]=t[s],i[1]=t[1+s],i[2]=t[l],i[3]=t[1+l],i[4]=t[u],i[5]=t[1+u],d.contains(h.x,h.y))return!0}return!1},Mesh.prototype.destroy=function(e){for(var t in this._glDatas){var i=this._glDatas[t];i.destroy?i.destroy():(i.vertexBuffer&&(i.vertexBuffer.destroy(),i.vertexBuffer=null),i.indexBuffer&&(i.indexBuffer.destroy(),i.indexBuffer=null),i.uvBuffer&&(i.uvBuffer.destroy(),i.uvBuffer=null),i.vao&&(i.vao.destroy(),i.vao=null))}this._glDatas=null,o.prototype.destroy.call(this,e)},n(Mesh,[{key:"texture",get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture=e)&&(e.baseTexture.hasLoaded?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this))}},{key:"tint",get:function(){return s.utils.rgb2hex(this.tintRgb)},set:function(e){this.tintRgb=s.utils.hex2rgb(e,this.tintRgb)}}]),Mesh}(s.Container);(i.default=o).DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":65,"../core/textures/Texture":115}],167:[function(e,t,i){i.__esModule=!0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=e("./Plane"),a=_interopRequireDefault(r),o=e("../core/sprites/canvas/CanvasTinter"),w=_interopRequireDefault(o);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var s=function(o){function NineSlicePlane(e,t,i,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,NineSlicePlane);var a=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,o.call(this,e,4,4));return a._origWidth=e.orig.width,a._origHeight=e.orig.height,a._width=a._origWidth,a._height=a._origHeight,a._leftWidth=void 0!==t?t:10,a._rightWidth=void 0!==n?n:10,a._topHeight=void 0!==i?i:10,a._bottomHeight=void 0!==r?r:10,a._cachedTint=16777215,a._tintedTexture=null,a._canvasUvs=null,a.refresh(!0),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(NineSlicePlane,o),NineSlicePlane.prototype.updateHorizontalVertices=function(){var e=this.vertices,t=this._topHeight+this._bottomHeight,i=this._height>t?1:this._height/t;e[9]=e[11]=e[13]=e[15]=this._topHeight*i,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*i,e[25]=e[27]=e[29]=e[31]=this._height},NineSlicePlane.prototype.updateVerticalVertices=function(){var e=this.vertices,t=this._leftWidth+this._rightWidth,i=this._width>t?1:this._width/t;e[2]=e[10]=e[18]=e[26]=this._leftWidth*i,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*i,e[6]=e[14]=e[22]=e[30]=this._width},NineSlicePlane.prototype._renderCanvas=function(e){var t=e.context,i=this.worldTransform,n=e.resolution,r=16777215!==this.tint,a=this._texture;r&&this._cachedTint!==this.tint&&(this._cachedTint=this.tint,this._tintedTexture=w.default.getTintedTexture(this,this.tint));var o=r?this._tintedTexture:a.baseTexture.source;this._canvasUvs||(this._canvasUvs=[0,0,0,0,0,0,0,0]);var s=this.vertices,l=this._canvasUvs,u=r?0:a.frame.x,h=r?0:a.frame.y,d=u+a.frame.width,c=h+a.frame.height;l[0]=u,l[1]=u+this._leftWidth,l[2]=d-this._rightWidth,l[3]=d,l[4]=h,l[5]=h+this._topHeight,l[6]=c-this._bottomHeight,l[7]=c;for(var p=0;p<8;p++)l[p]*=a.baseTexture.resolution;t.globalAlpha=this.worldAlpha,e.setBlendMode(this.blendMode),e.roundPixels?t.setTransform(i.a*n,i.b*n,i.c*n,i.d*n,i.tx*n|0,i.ty*n|0):t.setTransform(i.a*n,i.b*n,i.c*n,i.d*n,i.tx*n,i.ty*n);for(var f=0;f<3;f++)for(var m=0;m<3;m++){var _=2*m+8*f,g=Math.max(1,l[m+1]-l[m]),v=Math.max(1,l[f+5]-l[f+4]),y=Math.max(1,s[10+_]-s[_]),b=Math.max(1,s[11+_]-s[1+_]);t.drawImage(o,l[m],l[f+4],g,v,s[_],s[1+_],y,b)}},NineSlicePlane.prototype._refresh=function(){o.prototype._refresh.call(this);var e=this.uvs,t=this._texture;this._origWidth=t.orig.width,this._origHeight=t.orig.height;var i=1/this._origWidth,n=1/this._origHeight;e[0]=e[8]=e[16]=e[24]=0,e[1]=e[3]=e[5]=e[7]=0,e[6]=e[14]=e[22]=e[30]=1,e[25]=e[27]=e[29]=e[31]=1,e[2]=e[10]=e[18]=e[26]=i*this._leftWidth,e[4]=e[12]=e[20]=e[28]=1-i*this._rightWidth,e[9]=e[11]=e[13]=e[15]=n*this._topHeight,e[17]=e[19]=e[21]=e[23]=1-n*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.dirty++,this.multiplyUvs()},n(NineSlicePlane,[{key:"width",get:function(){return this._width},set:function(e){this._width=e,this._refresh()}},{key:"height",get:function(){return this._height},set:function(e){this._height=e,this._refresh()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(e){this._leftWidth=e,this._refresh()}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(e){this._rightWidth=e,this._refresh()}},{key:"topHeight",get:function(){return this._topHeight},set:function(e){this._topHeight=e,this._refresh()}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e,this._refresh()}}]),NineSlicePlane}(a.default);i.default=s},{"../core/sprites/canvas/CanvasTinter":104,"./Plane":168}],168:[function(e,t,i){i.__esModule=!0;var n=e("./Mesh"),a=function(e){return e&&e.__esModule?e:{default:e}}(n);var r=function(r){function Plane(e,t,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Plane);var n=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,r.call(this,e));return n._ready=!0,n.verticesX=t||10,n.verticesY=i||10,n.drawMode=a.default.DRAW_MODES.TRIANGLES,n.refresh(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Plane,r),Plane.prototype._refresh=function(){for(var e=this._texture,t=this.verticesX*this.verticesY,i=[],n=[],r=[],a=this.verticesX-1,o=this.verticesY-1,s=e.width/a,l=e.height/o,u=0;u<t;u++){var h=u%this.verticesX,d=u/this.verticesX|0;i.push(h*s,d*l),n.push(h/a,d/o)}for(var c=a*o,p=0;p<c;p++){var f=p%a,m=p/a|0,_=m*this.verticesX+f,g=m*this.verticesX+f+1,v=(1+m)*this.verticesX+f,y=(1+m)*this.verticesX+f+1;r.push(_,g,v),r.push(g,y,v)}this.vertices=new Float32Array(i),this.uvs=new Float32Array(n),this.colors=new Float32Array([]),this.indices=new Uint16Array(r),this.dirty++,this.indexDirty++,this.multiplyUvs()},Plane.prototype._onTextureUpdate=function(){a.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},Plane}(a.default);i.default=r},{"./Mesh":166}],169:[function(e,t,i){i.__esModule=!0;var n=e("./Mesh"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);var a=function(n){function Rope(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,Rope);var i=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,n.call(this,e));return i.points=t,i.vertices=new Float32Array(4*t.length),i.uvs=new Float32Array(4*t.length),i.colors=new Float32Array(2*t.length),i.indices=new Uint16Array(2*t.length),i.autoUpdate=!0,i.refresh(),i}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Rope,n),Rope.prototype._refresh=function(){var e=this.points;if(!(e.length<1)&&this._texture._uvs){this.vertices.length/4!==e.length&&(this.vertices=new Float32Array(4*e.length),this.uvs=new Float32Array(4*e.length),this.colors=new Float32Array(2*e.length),this.indices=new Uint16Array(2*e.length));var t=this.uvs,i=this.indices,n=this.colors;t[0]=0,t[1]=0,t[2]=0,t[3]=1,n[0]=1,n[1]=1,i[0]=0,i[1]=1;for(var r=e.length,a=1;a<r;a++){var o=4*a,s=a/(r-1);t[o]=s,t[o+1]=0,t[o+2]=s,t[o+3]=1,n[o=2*a]=1,n[o+1]=1,i[o=2*a]=o,i[o+1]=o+1}this.dirty++,this.indexDirty++,this.multiplyUvs(),this.refreshVertices()}},Rope.prototype.refreshVertices=function(){var e=this.points;if(!(e.length<1))for(var t=e[0],i=void 0,n=0,r=0,a=this.vertices,o=e.length,s=0;s<o;s++){var l=e[s],u=4*s;i=s<e.length-1?e[s+1]:l,r=-(i.x-t.x),n=i.y-t.y;var h=10*(1-s/(o-1));1<h&&(h=1);var d=Math.sqrt(n*n+r*r),c=this._texture.height/2;n/=d,r/=d,n*=c,r*=c,a[u]=l.x+n,a[1+u]=l.y+r,a[2+u]=l.x-n,a[3+u]=l.y-r,t=l}},Rope.prototype.updateTransform=function(){this.autoUpdate&&this.refreshVertices(),this.containerUpdateTransform()},Rope}(r.default);i.default=a},{"./Mesh":166}],170:[function(e,t,i){i.__esModule=!0;var n=e("../../core"),r=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(n),a=e("../Mesh"),o=function(e){return e&&e.__esModule?e:{default:e}}(a);var s=function(){function MeshSpriteRenderer(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MeshSpriteRenderer),this.renderer=e}return MeshSpriteRenderer.prototype.render=function(e){var t=this.renderer,i=t.context,n=e.worldTransform,r=t.resolution;t.roundPixels?i.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*r|0,n.ty*r|0):i.setTransform(n.a*r,n.b*r,n.c*r,n.d*r,n.tx*r,n.ty*r),t.context.globalAlpha=e.worldAlpha,t.setBlendMode(e.blendMode),e.drawMode===o.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(e):this._renderTriangles(e)},MeshSpriteRenderer.prototype._renderTriangleMesh=function(e){for(var t=e.vertices.length/2,i=0;i<t-2;i++){var n=2*i;this._renderDrawTriangle(e,n,2+n,4+n)}},MeshSpriteRenderer.prototype._renderTriangles=function(e){for(var t=e.indices,i=t.length,n=0;n<i;n+=3){var r=2*t[n],a=2*t[n+1],o=2*t[n+2];this._renderDrawTriangle(e,r,a,o)}},MeshSpriteRenderer.prototype._renderDrawTriangle=function(e,t,i,n){var r=this.renderer.context,a=e.uvs,o=e.vertices,s=e._texture;if(s.valid){var l=s.baseTexture,u=l.source,h=l.width,d=l.height,c=void 0,p=void 0,f=void 0,m=void 0,_=void 0,g=void 0;if(e.uploadUvTransform){var v=e._uvTransform.mapCoord;c=(a[t]*v.a+a[t+1]*v.c+v.tx)*l.width,p=(a[i]*v.a+a[i+1]*v.c+v.tx)*l.width,f=(a[n]*v.a+a[n+1]*v.c+v.tx)*l.width,m=(a[t]*v.b+a[t+1]*v.d+v.ty)*l.height,_=(a[i]*v.b+a[i+1]*v.d+v.ty)*l.height,g=(a[n]*v.b+a[n+1]*v.d+v.ty)*l.height}else c=a[t]*l.width,p=a[i]*l.width,f=a[n]*l.width,m=a[t+1]*l.height,_=a[i+1]*l.height,g=a[n+1]*l.height;var y=o[t],b=o[i],w=o[n],x=o[t+1],T=o[i+1],S=o[n+1],M=e.canvasPadding/this.renderer.resolution;if(0<M){var L=M/Math.abs(e.worldTransform.a),E=M/Math.abs(e.worldTransform.d),C=(y+b+w)/3,A=(x+T+S)/3,P=y-C,D=x-A,R=Math.sqrt(P*P+D*D);y=C+P/R*(R+L),x=A+D/R*(R+E),P=b-C,D=T-A,R=Math.sqrt(P*P+D*D),b=C+P/R*(R+L),T=A+D/R*(R+E),P=w-C,D=S-A,R=Math.sqrt(P*P+D*D),w=C+P/R*(R+L),S=A+D/R*(R+E)}r.save(),r.beginPath(),r.moveTo(y,x),r.lineTo(b,T),r.lineTo(w,S),r.closePath(),r.clip();var k=c*_+m*f+p*g-_*f-m*p-c*g,I=y*_+m*w+b*g-_*w-m*b-y*g,O=c*b+y*f+p*w-b*f-y*p-c*w,B=c*_*w+m*b*f+y*p*g-y*_*f-m*p*w-c*b*g,N=x*_+m*S+T*g-_*S-m*T-x*g,F=c*T+x*f+p*S-T*f-x*p-c*S,Y=c*_*S+m*T*f+x*p*g-x*_*f-m*p*S-c*T*g;r.transform(I/k,N/k,O/k,F/k,B/k,Y/k),r.drawImage(u,0,0,h*l.resolution,d*l.resolution,0,0,h,d),r.restore(),this.renderer.invalidateBlendMode()}},MeshSpriteRenderer.prototype.renderMeshFlat=function(e){var t=this.renderer.context,i=e.vertices,n=i.length/2;t.beginPath();for(var r=1;r<n-2;++r){var a=2*r,o=i[a],s=i[1+a],l=i[2+a],u=i[3+a],h=i[4+a],d=i[5+a];t.moveTo(o,s),t.lineTo(l,u),t.lineTo(h,d)}t.fillStyle="#FF0000",t.fill(),t.closePath()},MeshSpriteRenderer.prototype.destroy=function(){this.renderer=null},MeshSpriteRenderer}();i.default=s,r.CanvasRenderer.registerPlugin("mesh",s)},{"../../core":65,"../Mesh":166}],171:[function(e,t,i){i.__esModule=!0;var n=e("./Mesh");Object.defineProperty(i,"Mesh",{enumerable:!0,get:function(){return _interopRequireDefault(n).default}});var r=e("./webgl/MeshRenderer");Object.defineProperty(i,"MeshRenderer",{enumerable:!0,get:function(){return _interopRequireDefault(r).default}});var a=e("./canvas/CanvasMeshRenderer");Object.defineProperty(i,"CanvasMeshRenderer",{enumerable:!0,get:function(){return _interopRequireDefault(a).default}});var o=e("./Plane");Object.defineProperty(i,"Plane",{enumerable:!0,get:function(){return _interopRequireDefault(o).default}});var s=e("./NineSlicePlane");Object.defineProperty(i,"NineSlicePlane",{enumerable:!0,get:function(){return _interopRequireDefault(s).default}});var l=e("./Rope");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"Rope",{enumerable:!0,get:function(){return _interopRequireDefault(l).default}})},{"./Mesh":166,"./NineSlicePlane":167,"./Plane":168,"./Rope":169,"./canvas/CanvasMeshRenderer":170,"./webgl/MeshRenderer":172}],172:[function(e,t,i){i.__esModule=!0;var n=e("../../core"),o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(n),r=e("pixi-gl-core"),s=_interopRequireDefault(r),a=e("../Mesh"),l=_interopRequireDefault(a);e("path");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var u=o.Matrix.IDENTITY,h=function(i){function MeshRenderer(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,MeshRenderer);var t=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,i.call(this,e));return t.shader=null,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(MeshRenderer,i),MeshRenderer.prototype.onContextChange=function(){var e=this.renderer.gl;this.shader=new o.Shader(e,"attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n","varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n")},MeshRenderer.prototype.render=function(e){var t=this.renderer,i=t.gl,n=e._texture;if(n.valid){var r=e._glDatas[t.CONTEXT_UID];r||(t.bindVao(null),(r={shader:this.shader,vertexBuffer:s.default.GLBuffer.createVertexBuffer(i,e.vertices,i.STREAM_DRAW),uvBuffer:s.default.GLBuffer.createVertexBuffer(i,e.uvs,i.STREAM_DRAW),indexBuffer:s.default.GLBuffer.createIndexBuffer(i,e.indices,i.STATIC_DRAW),vao:null,dirty:e.dirty,indexDirty:e.indexDirty,vertexDirty:e.vertexDirty}).vao=new s.default.VertexArrayObject(i).addIndex(r.indexBuffer).addAttribute(r.vertexBuffer,r.shader.attributes.aVertexPosition,i.FLOAT,!1,8,0).addAttribute(r.uvBuffer,r.shader.attributes.aTextureCoord,i.FLOAT,!1,8,0),e._glDatas[t.CONTEXT_UID]=r),t.bindVao(r.vao),e.dirty!==r.dirty&&(r.dirty=e.dirty,r.uvBuffer.upload(e.uvs)),e.indexDirty!==r.indexDirty&&(r.indexDirty=e.indexDirty,r.indexBuffer.upload(e.indices)),e.vertexDirty!==r.vertexDirty&&(r.vertexDirty=e.vertexDirty,r.vertexBuffer.upload(e.vertices)),t.bindShader(r.shader),r.shader.uniforms.uSampler=t.bindTexture(n),t.state.setBlendMode(o.utils.correctBlendMode(e.blendMode,n.baseTexture.premultipliedAlpha)),r.shader.uniforms.uTransform&&(e.uploadUvTransform?r.shader.uniforms.uTransform=e._uvTransform.mapCoord.toArray(!0):r.shader.uniforms.uTransform=u.toArray(!0)),r.shader.uniforms.translationMatrix=e.worldTransform.toArray(!0),r.shader.uniforms.uColor=o.utils.premultiplyRgba(e.tintRgb,e.worldAlpha,r.shader.uniforms.uColor,n.baseTexture.premultipliedAlpha);var a=e.drawMode===l.default.DRAW_MODES.TRIANGLE_MESH?i.TRIANGLE_STRIP:i.TRIANGLES;r.vao.draw(a,e.indices.length,0)}},MeshRenderer}(o.ObjectRenderer);i.default=h,o.WebGLRenderer.registerPlugin("mesh",h)},{"../../core":65,"../Mesh":166,path:8,"pixi-gl-core":15}],173:[function(e,t,i){i.__esModule=!0;var n=function(){function defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&defineProperties(e.prototype,t),i&&defineProperties(e,i),e}}(),r=e("../core"),o=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(r),s=e("../core/utils");var a=function(a){function ParticleContainer(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:1500,t=arguments[1],i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:16384,n=3<arguments.length&&void 0!==arguments[3]&&arguments[3];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ParticleContainer);var r=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,a.call(this));return 16384<i&&(i=16384),e<i&&(i=e),r._properties=[!1,!0,!1,!1,!1],r._maxSize=e,r._batchSize=i,r._glBuffers={},r._bufferUpdateIDs=[],r._updateID=0,r.interactiveChildren=!1,r.blendMode=o.BLEND_MODES.NORMAL,r.autoResize=n,r.roundPixels=!0,r.baseTexture=null,r.setProperties(t),r._tint=0,r.tintRgb=new Float32Array(4),r.tint=16777215,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ParticleContainer,a),ParticleContainer.prototype.setProperties=function(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])},ParticleContainer.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},ParticleContainer.prototype.renderWebGL=function(e){var t=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return t.onChildrenChange(0)})),e.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},ParticleContainer.prototype.onChildrenChange=function(e){for(var t=Math.floor(e/this._batchSize);this._bufferUpdateIDs.length<t;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[t]=++this._updateID},ParticleContainer.prototype.renderCanvas=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var t=e.context,i=this.worldTransform,n=!0,r=0,a=0,o=0,s=0;e.setBlendMode(this.blendMode),t.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(var l=0;l<this.children.length;++l){var u=this.children[l];if(u.visible){var h=u._texture.frame;if(t.globalAlpha=this.worldAlpha*u.alpha,u.rotation%(2*Math.PI)==0)n&&(t.setTransform(i.a,i.b,i.c,i.d,i.tx*e.resolution,i.ty*e.resolution),n=!1),r=u.anchor.x*(-h.width*u.scale.x)+u.position.x+.5,a=u.anchor.y*(-h.height*u.scale.y)+u.position.y+.5,o=h.width*u.scale.x,s=h.height*u.scale.y;else{n=n||!0,u.displayObjectUpdateTransform();var d=u.worldTransform;e.roundPixels?t.setTransform(d.a,d.b,d.c,d.d,d.tx*e.resolution|0,d.ty*e.resolution|0):t.setTransform(d.a,d.b,d.c,d.d,d.tx*e.resolution,d.ty*e.resolution),r=u.anchor.x*-h.width+.5,a=u.anchor.y*-h.height+.5,o=h.width,s=h.height}var c=u._texture.baseTexture.resolution;t.drawImage(u._texture.baseTexture.source,h.x*c,h.y*c,h.width*c,h.height*c,r*e.resolution,a*e.resolution,o*e.resolution,s*e.resolution)}}}},ParticleContainer.prototype.destroy=function(e){if(a.prototype.destroy.call(this,e),this._buffers)for(var t=0;t<this._buffers.length;++t)this._buffers[t].destroy();this._properties=null,this._buffers=null,this._bufferUpdateIDs=null},n(ParticleContainer,[{key:"tint",get:function(){return this._tint},set:function(e){this._tint=e,(0,s.hex2rgb)(e,this.tintRgb)}}]),ParticleContainer}(o.Container);i.default=a},{"../core":65,"../core/utils":125}],174:[function(e,t,i){i.__esModule=!0;var n=e("./ParticleContainer");Object.defineProperty(i,"ParticleContainer",{enumerable:!0,get:function(){return _interopRequireDefault(n).default}});var r=e("./webgl/ParticleRenderer");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"ParticleRenderer",{enumerable:!0,get:function(){return _interopRequireDefault(r).default}})},{"./ParticleContainer":173,"./webgl/ParticleRenderer":176}],175:[function(e,t,i){i.__esModule=!0;var n=e("pixi-gl-core"),p=_interopRequireDefault(n),r=e("../../core/utils/createIndicesForQuads"),f=_interopRequireDefault(r);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var a=function(){function ParticleBuffer(e,t,i,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ParticleBuffer),this.gl=e,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(var r=0;r<t.length;++r){var a=t[r];a={attribute:a.attribute,size:a.size,uploadFunction:a.uploadFunction,unsignedByte:a.unsignedByte,offset:a.offset},i[r]?this.dynamicProperties.push(a):this.staticProperties.push(a)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}return ParticleBuffer.prototype.initBuffers=function(){var e=this.gl,t=0;this.indices=(0,f.default)(this.size),this.indexBuffer=p.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW);for(var i=this.dynamicStride=0;i<this.dynamicProperties.length;++i){var n=this.dynamicProperties[i];n.offset=t,t+=n.size,this.dynamicStride+=n.size}var r=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(r),this.dynamicDataUint32=new Uint32Array(r),this.dynamicBuffer=p.default.GLBuffer.createVertexBuffer(e,r,e.STREAM_DRAW);for(var a=0,o=this.staticStride=0;o<this.staticProperties.length;++o){var s=this.staticProperties[o];s.offset=a,a+=s.size,this.staticStride+=s.size}var l=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(l),this.staticDataUint32=new Uint32Array(l),this.staticBuffer=p.default.GLBuffer.createVertexBuffer(e,l,e.STATIC_DRAW),this.vao=new p.default.VertexArrayObject(e).addIndex(this.indexBuffer);for(var u=0;u<this.dynamicProperties.length;++u){var h=this.dynamicProperties[u];h.unsignedByte?this.vao.addAttribute(this.dynamicBuffer,h.attribute,e.UNSIGNED_BYTE,!0,4*this.dynamicStride,4*h.offset):this.vao.addAttribute(this.dynamicBuffer,h.attribute,e.FLOAT,!1,4*this.dynamicStride,4*h.offset)}for(var d=0;d<this.staticProperties.length;++d){var c=this.staticProperties[d];c.unsignedByte?this.vao.addAttribute(this.staticBuffer,c.attribute,e.UNSIGNED_BYTE,!0,4*this.staticStride,4*c.offset):this.vao.addAttribute(this.staticBuffer,c.attribute,e.FLOAT,!1,4*this.staticStride,4*c.offset)}},ParticleBuffer.prototype.uploadDynamic=function(e,t,i){for(var n=0;n<this.dynamicProperties.length;n++){var r=this.dynamicProperties[n];r.uploadFunction(e,t,i,r.unsignedByte?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,r.offset)}this.dynamicBuffer.upload()},ParticleBuffer.prototype.uploadStatic=function(e,t,i){for(var n=0;n<this.staticProperties.length;n++){var r=this.staticProperties[n];r.uploadFunction(e,t,i,r.unsignedByte?this.staticDataUint32:this.staticData,this.staticStride,r.offset)}this.staticBuffer.upload()},ParticleBuffer.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicBuffer.destroy(),this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer.destroy(),this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null},ParticleBuffer}();i.default=a},{"../../core/utils/createIndicesForQuads":123,"pixi-gl-core":15}],176:[function(e,t,i){i.__esModule=!0;var n=e("../../core"),_=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(n),r=e("./ParticleShader"),a=_interopRequireDefault(r),o=e("./ParticleBuffer"),s=_interopRequireDefault(o),d=e("../../core/utils");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var l=function(i){function ParticleRenderer(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ParticleRenderer);var t=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,i.call(this,e));return t.shader=null,t.indexBuffer=null,t.properties=null,t.tempMatrix=new _.Matrix,t.CONTEXT_UID=0,t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ParticleRenderer,i),ParticleRenderer.prototype.onContextChange=function(){var e=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new a.default(e),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,unsignedByte:!0,uploadFunction:this.uploadTint,offset:0}]},ParticleRenderer.prototype.start=function(){this.renderer.bindShader(this.shader)},ParticleRenderer.prototype.render=function(e){var t=e.children,i=e._maxSize,n=e._batchSize,r=this.renderer,a=t.length;if(0!==a){i<a&&(a=i);var o=e._glBuffers[r.CONTEXT_UID];o=o||(e._glBuffers[r.CONTEXT_UID]=this.generateBuffers(e));var s=t[0]._texture.baseTexture;this.renderer.setBlendMode(_.utils.correctBlendMode(e.blendMode,s.premultipliedAlpha));var l=r.gl,u=e.worldTransform.copy(this.tempMatrix);u.prepend(r._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=u.toArray(!0),this.shader.uniforms.uColor=_.utils.premultiplyRgba(e.tintRgb,e.worldAlpha,this.shader.uniforms.uColor,s.premultipliedAlpha),this.shader.uniforms.uSampler=r.bindTexture(s);for(var h=!1,d=0,c=0;d<a;d+=n,c+=1){var p=a-d;if(n<p&&(p=n),c>=o.length){if(!e.autoResize)break;o.push(this._generateOneMoreBuffer(e))}var f=o[c];f.uploadDynamic(t,d,p);var m=e._bufferUpdateIDs[c]||0;(h=h||f._updateID<m)&&(f._updateID=e._updateID,f.uploadStatic(t,d,p)),r.bindVao(f.vao),f.vao.draw(l.TRIANGLES,6*p)}}},ParticleRenderer.prototype.generateBuffers=function(e){for(var t=this.renderer.gl,i=[],n=e._maxSize,r=e._batchSize,a=e._properties,o=0;o<n;o+=r)i.push(new s.default(t,this.properties,a,r));return i},ParticleRenderer.prototype._generateOneMoreBuffer=function(e){var t=this.renderer.gl,i=e._batchSize,n=e._properties;return new s.default(t,this.properties,n,i)},ParticleRenderer.prototype.uploadVertices=function(e,t,i,n,r,a){for(var o=0,s=0,l=0,u=0,h=0;h<i;++h){var d=e[t+h],c=d._texture,p=d.scale.x,f=d.scale.y,m=c.trim,_=c.orig;m?(s=m.x-d.anchor.x*_.width,o=s+m.width,u=m.y-d.anchor.y*_.height,l=u+m.height):(o=_.width*(1-d.anchor.x),s=_.width*-d.anchor.x,l=_.height*(1-d.anchor.y),u=_.height*-d.anchor.y),n[a]=s*p,n[a+1]=u*f,n[a+r]=o*p,n[a+r+1]=u*f,n[a+2*r]=o*p,n[a+2*r+1]=l*f,n[a+3*r]=s*p,n[a+3*r+1]=l*f,a+=4*r}},ParticleRenderer.prototype.uploadPosition=function(e,t,i,n,r,a){for(var o=0;o<i;o++){var s=e[t+o].position;n[a]=s.x,n[a+1]=s.y,n[a+r]=s.x,n[a+r+1]=s.y,n[a+2*r]=s.x,n[a+2*r+1]=s.y,n[a+3*r]=s.x,n[a+3*r+1]=s.y,a+=4*r}},ParticleRenderer.prototype.uploadRotation=function(e,t,i,n,r,a){for(var o=0;o<i;o++){var s=e[t+o].rotation;n[a]=s,n[a+r]=s,n[a+2*r]=s,n[a+3*r]=s,a+=4*r}},ParticleRenderer.prototype.uploadUvs=function(e,t,i,n,r,a){for(var o=0;o<i;++o){var s=e[t+o]._texture._uvs;s?(n[a]=s.x0,n[a+1]=s.y0,n[a+r]=s.x1,n[a+r+1]=s.y1,n[a+2*r]=s.x2,n[a+2*r+1]=s.y2,n[a+3*r]=s.x3,n[a+3*r+1]=s.y3):(n[a]=0,n[a+1]=0,n[a+r]=0,n[a+r+1]=0,n[a+2*r]=0,n[a+2*r+1]=0,n[a+3*r]=0,n[a+3*r+1]=0),a+=4*r}},ParticleRenderer.prototype.uploadTint=function(e,t,i,n,r,a){for(var o=0;o<i;++o){var s=e[t+o],l=s._texture.baseTexture.premultipliedAlpha,u=s.alpha,h=u<1&&l?(0,d.premultiplyTint)(s._tintRGB,u):s._tintRGB+(255*u<<24);n[a]=h,n[a+r]=h,n[a+2*r]=h,n[a+3*r]=h,a+=4*r}},ParticleRenderer.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),i.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},ParticleRenderer}(_.ObjectRenderer);i.default=l,_.WebGLRenderer.registerPlugin("particle",l)},{"../../core":65,"../../core/utils":125,"./ParticleBuffer":175,"./ParticleShader":177}],177:[function(e,t,i){i.__esModule=!0;var n=e("../../core/Shader"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);var a=function(t){function ParticleShader(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,ParticleShader),function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,t.call(this,e,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute vec4 aColor;","attribute vec2 aPositionCoord;","attribute float aRotation;","uniform mat3 projectionMatrix;","uniform vec4 uColor;","varying vec2 vTextureCoord;","varying vec4 vColor;","void main(void){","   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   vec2 v = vec2(x, y);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor * uColor;","}"].join("\n"),["varying vec2 vTextureCoord;","varying vec4 vColor;","uniform sampler2D uSampler;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;","  gl_FragColor = color;","}"].join("\n")))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(ParticleShader,t),ParticleShader}(r.default);i.default=a},{"../../core/Shader":44}],178:[function(e,t,i){Math.sign||(Math.sign=function(e){return 0===(e=Number(e))||isNaN(e)?e:0<e?1:-1})},{}],179:[function(e,t,i){Number.isInteger||(Number.isInteger=function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e})},{}],180:[function(e,t,i){var n=e("object-assign"),r=function(e){return e&&e.__esModule?e:{default:e}}(n);Object.assign||(Object.assign=r.default)},{"object-assign":6}],181:[function(e,t,i){e("./Object.assign"),e("./requestAnimationFrame"),e("./Math.sign"),e("./Number.isInteger"),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},{"./Math.sign":178,"./Number.isInteger":179,"./Object.assign":180,"./requestAnimationFrame":182}],182:[function(e,t,i){(function(e){if(Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),!e.performance||!e.performance.now){var t=Date.now();e.performance||(e.performance={}),e.performance.now=function(){return Date.now()-t}}for(var n=Date.now(),i=["ms","moz","webkit","o"],r=0;r<i.length&&!e.requestAnimationFrame;++r){var a=i[r];e.requestAnimationFrame=e[a+"RequestAnimationFrame"],e.cancelAnimationFrame=e[a+"CancelAnimationFrame"]||e[a+"CancelRequestAnimationFrame"]}e.requestAnimationFrame||(e.requestAnimationFrame=function(e){if("function"!=typeof e)throw new TypeError(e+"is not a function");var t=Date.now(),i=16+n-t;return i<0&&(i=0),n=t,setTimeout(function(){n=Date.now(),e(performance.now())},i)}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(e){return clearTimeout(e)})}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],183:[function(e,t,i){i.__esModule=!0;var n=e("../core"),s=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(n),r=e("./limiters/CountLimiter"),a=function(e){return e&&e.__esModule?e:{default:e}}(r);var l=s.ticker.shared;s.settings.UPLOADS_PER_FRAME=4;var o=function(){function BasePrepare(e){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,BasePrepare),this.limiter=new a.default(s.settings.UPLOADS_PER_FRAME),this.renderer=e,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){t.queue&&t.prepareItems()},this.registerFindHook(findText),this.registerFindHook(findTextStyle),this.registerFindHook(findMultipleBaseTextures),this.registerFindHook(findBaseTexture),this.registerFindHook(findTexture),this.registerUploadHook(drawText),this.registerUploadHook(calculateTextStyle)}return BasePrepare.prototype.upload=function(e,t){"function"==typeof e&&(t=e,e=null),e&&this.add(e),this.queue.length?(t&&this.completes.push(t),this.ticking||(this.ticking=!0,l.addOnce(this.tick,this,s.UPDATE_PRIORITY.UTILITY))):t&&t()},BasePrepare.prototype.tick=function(){setTimeout(this.delayedTick,0)},BasePrepare.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){var e=this.queue[0],t=!1;if(e&&!e._destroyed)for(var i=0,n=this.uploadHooks.length;i<n;i++)if(this.uploadHooks[i](this.uploadHookHelper,e)){this.queue.shift(),t=!0;break}t||this.queue.shift()}if(this.queue.length)l.addOnce(this.tick,this,s.UPDATE_PRIORITY.UTILITY);else{this.ticking=!1;for(var r=this.completes.slice(0),a=this.completes.length=0,o=r.length;a<o;a++)r[a]()}},BasePrepare.prototype.registerFindHook=function(e){return e&&this.addHooks.push(e),this},BasePrepare.prototype.registerUploadHook=function(e){return e&&this.uploadHooks.push(e),this},BasePrepare.prototype.add=function(e){for(var t=0,i=this.addHooks.length;t<i&&!this.addHooks[t](e,this.queue);t++);if(e instanceof s.Container)for(var n=e.children.length-1;0<=n;n--)this.add(e.children[n]);return this},BasePrepare.prototype.destroy=function(){this.ticking&&l.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},BasePrepare}();function findMultipleBaseTextures(e,t){var i=!1;if(e&&e._textures&&e._textures.length)for(var n=0;n<e._textures.length;n++)if(e._textures[n]instanceof s.Texture){var r=e._textures[n].baseTexture;-1===t.indexOf(r)&&(t.push(r),i=!0)}return i}function findBaseTexture(e,t){return e instanceof s.BaseTexture&&(-1===t.indexOf(e)&&t.push(e),!0)}function findTexture(e,t){if(e._texture&&e._texture instanceof s.Texture){var i=e._texture.baseTexture;return-1===t.indexOf(i)&&t.push(i),!0}return!1}function drawText(e,t){return t instanceof s.Text&&(t.updateText(!0),!0)}function calculateTextStyle(e,t){if(t instanceof s.TextStyle){var i=t.toFontString();return s.TextMetrics.measureFont(i),!0}return!1}function findText(e,t){if(e instanceof s.Text){-1===t.indexOf(e.style)&&t.push(e.style),-1===t.indexOf(e)&&t.push(e);var i=e._texture.baseTexture;return-1===t.indexOf(i)&&t.push(i),!0}return!1}function findTextStyle(e,t){return e instanceof s.TextStyle&&(-1===t.indexOf(e)&&t.push(e),!0)}i.default=o},{"../core":65,"./limiters/CountLimiter":186}],184:[function(e,t,i){i.__esModule=!0;var n=e("../../core"),a=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(n),r=e("../BasePrepare"),o=function(e){return e&&e.__esModule?e:{default:e}}(r);var s=function(i){function CanvasPrepare(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CanvasPrepare);var t=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,i.call(this,e));return(t.uploadHookHelper=t).canvas=document.createElement("canvas"),t.canvas.width=16,t.canvas.height=16,t.ctx=t.canvas.getContext("2d"),t.registerUploadHook(uploadBaseTextures),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(CanvasPrepare,i),CanvasPrepare.prototype.destroy=function(){i.prototype.destroy.call(this),this.ctx=null,this.canvas=null},CanvasPrepare}(o.default);function uploadBaseTextures(e,t){if(t instanceof a.BaseTexture){var i=t.source,n=0===i.width?e.canvas.width:Math.min(e.canvas.width,i.width),r=0===i.height?e.canvas.height:Math.min(e.canvas.height,i.height);return e.ctx.drawImage(i,0,0,n,r,0,0,e.canvas.width,e.canvas.height),!0}return!1}i.default=s,a.CanvasRenderer.registerPlugin("prepare",s)},{"../../core":65,"../BasePrepare":183}],185:[function(e,t,i){i.__esModule=!0;var n=e("./webgl/WebGLPrepare");Object.defineProperty(i,"webgl",{enumerable:!0,get:function(){return _interopRequireDefault(n).default}});var r=e("./canvas/CanvasPrepare");Object.defineProperty(i,"canvas",{enumerable:!0,get:function(){return _interopRequireDefault(r).default}});var a=e("./BasePrepare");Object.defineProperty(i,"BasePrepare",{enumerable:!0,get:function(){return _interopRequireDefault(a).default}});var o=e("./limiters/CountLimiter");Object.defineProperty(i,"CountLimiter",{enumerable:!0,get:function(){return _interopRequireDefault(o).default}});var s=e("./limiters/TimeLimiter");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(i,"TimeLimiter",{enumerable:!0,get:function(){return _interopRequireDefault(s).default}})},{"./BasePrepare":183,"./canvas/CanvasPrepare":184,"./limiters/CountLimiter":186,"./limiters/TimeLimiter":187,"./webgl/WebGLPrepare":188}],186:[function(e,t,i){i.__esModule=!0;var n=function(){function CountLimiter(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,CountLimiter),this.maxItemsPerFrame=e,this.itemsLeft=0}return CountLimiter.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},CountLimiter.prototype.allowedToUpload=function(){return 0<this.itemsLeft--},CountLimiter}();i.default=n},{}],187:[function(e,t,i){i.__esModule=!0;var n=function(){function TimeLimiter(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,TimeLimiter),this.maxMilliseconds=e,this.frameStart=0}return TimeLimiter.prototype.beginFrame=function(){this.frameStart=Date.now()},TimeLimiter.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},TimeLimiter}();i.default=n},{}],188:[function(e,t,i){i.__esModule=!0;var n=e("../../core"),r=function(e){{if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}}(n),a=e("../BasePrepare"),o=function(e){return e&&e.__esModule?e:{default:e}}(a);var s=function(i){function WebGLPrepare(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,WebGLPrepare);var t=function(e,t){if(e)return!t||"object"!=typeof t&&"function"!=typeof t?e:t;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,i.call(this,e));return t.uploadHookHelper=t.renderer,t.registerFindHook(findGraphics),t.registerUploadHook(uploadBaseTextures),t.registerUploadHook(uploadGraphics),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(WebGLPrepare,i),WebGLPrepare}(o.default);function uploadBaseTextures(e,t){return t instanceof r.BaseTexture&&(t._glTextures[e.CONTEXT_UID]||e.textureManager.updateTexture(t),!0)}function uploadGraphics(e,t){return t instanceof r.Graphics&&(!t.dirty&&!t.clearDirty&&t._webGL[e.plugins.graphics.CONTEXT_UID]||e.plugins.graphics.updateGraphics(t),!0)}function findGraphics(e,t){return e instanceof r.Graphics&&(t.push(e),!0)}i.default=s,r.WebGLRenderer.registerPlugin("prepare",s)},{"../../core":65,"../BasePrepare":183}],189:[function(S,e,M){(function(e){M.__esModule=!0,M.loader=M.prepare=M.particles=M.mesh=M.loaders=M.interaction=M.filters=M.extras=M.extract=M.accessibility=void 0;var t=S("./polyfill");Object.keys(t).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(M,e,{enumerable:!0,get:function(){return t[e]}})});var i=S("./core");Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(M,e,{enumerable:!0,get:function(){return i[e]}})});var n=S("./deprecation"),r=function(e){return e&&e.__esModule?e:{default:e}}(n),a=S("./accessibility"),o=_interopRequireWildcard(a),s=S("./extract"),l=_interopRequireWildcard(s),u=S("./extras"),h=_interopRequireWildcard(u),d=S("./filters"),c=_interopRequireWildcard(d),p=S("./interaction"),f=_interopRequireWildcard(p),m=S("./loaders"),_=_interopRequireWildcard(m),g=S("./mesh"),v=_interopRequireWildcard(g),y=S("./particles"),b=_interopRequireWildcard(y),w=S("./prepare"),x=_interopRequireWildcard(w);function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}i.utils.mixins.performMixins();var T=_.shared||null;M.accessibility=o,M.extract=l,M.extras=h,M.filters=c,M.interaction=f,M.loaders=_,M.mesh=v,M.particles=b,M.prepare=x,M.loader=T,"function"==typeof r.default&&(0,r.default)(M),e.PIXI=M}).call(this,void 0!==n?n:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./accessibility":42,"./core":65,"./deprecation":131,"./extract":133,"./extras":141,"./filters":153,"./interaction":159,"./loaders":162,"./mesh":171,"./particles":174,"./polyfill":181,"./prepare":185}]},{},[189])(189)}).call(this,i(175))},function(e,t,ht){"use strict";(function(lt){var ut;
//! moment.js
lt.exports=function(){"use strict";var t,r;function hooks(){return t.apply(null,arguments)}function setHookCallback(e){t=e}function isArray(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function isObject(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function isObjectEmpty(e){if(Object.getOwnPropertyNames){return Object.getOwnPropertyNames(e).length===0}else{var t;for(t in e){if(e.hasOwnProperty(t)){return false}}return true}}function isUndefined(e){return e===void 0}function isNumber(e){return typeof e==="number"||Object.prototype.toString.call(e)==="[object Number]"}function isDate(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function map(e,t){var i=[],n;for(n=0;n<e.length;++n){i.push(t(e[n],n))}return i}function hasOwnProp(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function extend(e,t){for(var i in t){if(hasOwnProp(t,i)){e[i]=t[i]}}if(hasOwnProp(t,"toString")){e.toString=t.toString}if(hasOwnProp(t,"valueOf")){e.valueOf=t.valueOf}return e}function createUTC(e,t,i,n){return createLocalOrUTC(e,t,i,n,true).utc()}function defaultParsingFlags(){return{empty:false,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:false,invalidMonth:null,invalidFormat:false,userInvalidated:false,iso:false,parsedDateParts:[],meridiem:null,rfc2822:false,weekdayMismatch:false}}function getParsingFlags(e){if(e._pf==null){e._pf=defaultParsingFlags()}return e._pf}if(Array.prototype.some){r=Array.prototype.some}else{r=function some(e){var t=Object(this);var i=t.length>>>0;for(var n=0;n<i;n++){if(n in t&&e.call(this,t[n],n,t)){return true}}return false}}function isValid(e){if(e._isValid==null){var t=getParsingFlags(e);var i=r.call(t.parsedDateParts,function(e){return e!=null});var n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict){n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===undefined}if(Object.isFrozen==null||!Object.isFrozen(e)){e._isValid=n}else{return n}}return e._isValid}function createInvalid(e){var t=createUTC(NaN);if(e!=null){extend(getParsingFlags(t),e)}else{getParsingFlags(t).userInvalidated=true}return t}var a=hooks.momentProperties=[];function copyConfig(e,t){var i,n,r;if(!isUndefined(t._isAMomentObject)){e._isAMomentObject=t._isAMomentObject}if(!isUndefined(t._i)){e._i=t._i}if(!isUndefined(t._f)){e._f=t._f}if(!isUndefined(t._l)){e._l=t._l}if(!isUndefined(t._strict)){e._strict=t._strict}if(!isUndefined(t._tzm)){e._tzm=t._tzm}if(!isUndefined(t._isUTC)){e._isUTC=t._isUTC}if(!isUndefined(t._offset)){e._offset=t._offset}if(!isUndefined(t._pf)){e._pf=getParsingFlags(t)}if(!isUndefined(t._locale)){e._locale=t._locale}if(a.length>0){for(i=0;i<a.length;i++){n=a[i];r=t[n];if(!isUndefined(r)){e[n]=r}}}return e}var i=false;function Moment(e){copyConfig(this,e);this._d=new Date(e._d!=null?e._d.getTime():NaN);if(!this.isValid()){this._d=new Date(NaN)}if(i===false){i=true;hooks.updateOffset(this);i=false}}function isMoment(e){return e instanceof Moment||e!=null&&e._isAMomentObject!=null}function absFloor(e){if(e<0){return Math.ceil(e)||0}else{return Math.floor(e)}}function toInt(e){var t=+e,i=0;if(t!==0&&isFinite(t)){i=absFloor(t)}return i}function compareArrays(e,t,i){var n=Math.min(e.length,t.length),r=Math.abs(e.length-t.length),a=0,o;for(o=0;o<n;o++){if(i&&e[o]!==t[o]||!i&&toInt(e[o])!==toInt(t[o])){a++}}return a+r}function warn(e){if(hooks.suppressDeprecationWarnings===false&&typeof console!=="undefined"&&console.warn){console.warn("Deprecation warning: "+e)}}function deprecate(r,a){var o=true;return extend(function(){if(hooks.deprecationHandler!=null){hooks.deprecationHandler(null,r)}if(o){var e=[];var t;for(var i=0;i<arguments.length;i++){t="";if(typeof arguments[i]==="object"){t+="\n["+i+"] ";for(var n in arguments[0]){t+=n+": "+arguments[0][n]+", "}t=t.slice(0,-2)}else{t=arguments[i]}e.push(t)}warn(r+"\nArguments: "+Array.prototype.slice.call(e).join("")+"\n"+(new Error).stack);o=false}return a.apply(this,arguments)},a)}var n={},e;function deprecateSimple(e,t){if(hooks.deprecationHandler!=null){hooks.deprecationHandler(e,t)}if(!n[e]){warn(t);n[e]=true}}function isFunction(e){return e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function set(e){var t,i;for(i in e){t=e[i];if(isFunction(t)){this[i]=t}else{this["_"+i]=t}}this._config=e;this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function mergeConfigs(e,t){var i=extend({},e),n;for(n in t){if(hasOwnProp(t,n)){if(isObject(e[n])&&isObject(t[n])){i[n]={};extend(i[n],e[n]);extend(i[n],t[n])}else if(t[n]!=null){i[n]=t[n]}else{delete i[n]}}}for(n in e){if(hasOwnProp(e,n)&&!hasOwnProp(t,n)&&isObject(e[n])){i[n]=extend({},i[n])}}return i}function Locale(e){if(e!=null){this.set(e)}}if(hooks.suppressDeprecationWarnings=false,hooks.deprecationHandler=null,Object.keys){e=Object.keys}else{e=function keys(e){var t,i=[];for(t in e){if(hasOwnProp(e,t)){i.push(t)}}return i}}var o={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function calendar(e,t,i){var n=this._calendar[e]||this._calendar["sameElse"];return isFunction(n)?n.call(t,i):n}var s={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function longDateFormat(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];if(t||!i){return t}this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)});return this._longDateFormat[e]}var l="Invalid date";function invalidDate(){return this._invalidDate}var u="%d",h=/\d{1,2}/;function ordinal(e){return this._ordinal.replace("%d",e)}var d={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function relativeTime(e,t,i,n){var r=this._relativeTime[i];return isFunction(r)?r(e,t,i,n):r.replace(/%d/i,e)}function pastFuture(e,t){var i=this._relativeTime[e>0?"future":"past"];return isFunction(i)?i(t):i.replace(/%s/i,t)}var c={};function addUnitAlias(e,t){var i=e.toLowerCase();c[i]=c[i+"s"]=c[t]=e}function normalizeUnits(e){return typeof e==="string"?c[e]||c[e.toLowerCase()]:undefined}function normalizeObjectUnits(e){var t={},i,n;for(n in e){if(hasOwnProp(e,n)){i=normalizeUnits(n);if(i){t[i]=e[n]}}}return t}var p={};function addUnitPriority(e,t){p[e]=t}function getPrioritizedUnits(e){var t=[];for(var i in e){t.push({unit:i,priority:p[i]})}t.sort(function(e,t){return e.priority-t.priority});return t}function zeroFill(e,t,i){var n=""+Math.abs(e),r=t-n.length,a=e>=0;return(a?i?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}var f=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,m=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,_={},g={};function addFormatToken(e,t,i,n){var r=n;if(typeof n==="string"){r=function func(){return this[n]()}}if(e){g[e]=r}if(t){g[t[0]]=function(){return zeroFill(r.apply(this,arguments),t[1],t[2])}}if(i){g[i]=function(){return this.localeData().ordinal(r.apply(this,arguments),e)}}}function removeFormattingTokens(e){if(e.match(/\[[\s\S]/)){return e.replace(/^\[|\]$/g,"")}return e.replace(/\\/g,"")}function makeFormatFunction(n){var r=n.match(f),e,a;for(e=0,a=r.length;e<a;e++){if(g[r[e]]){r[e]=g[r[e]]}else{r[e]=removeFormattingTokens(r[e])}}return function(e){var t="",i;for(i=0;i<a;i++){t+=isFunction(r[i])?r[i].call(e,n):r[i]}return t}}function formatMoment(e,t){if(!e.isValid()){return e.localeData().invalidDate()}t=expandFormat(t,e.localeData());_[t]=_[t]||makeFormatFunction(t);return _[t](e)}function expandFormat(e,t){var i=5;function replaceLongDateFormatTokens(e){return t.longDateFormat(e)||e}m.lastIndex=0;while(i>=0&&m.test(e)){e=e.replace(m,replaceLongDateFormatTokens);m.lastIndex=0;i-=1}return e}var v=/\d/,y=/\d\d/,b=/\d{3}/,w=/\d{4}/,x=/[+-]?\d{6}/,T=/\d\d?/,S=/\d\d\d\d?/,M=/\d\d\d\d\d\d?/,L=/\d{1,3}/,E=/\d{1,4}/,C=/[+-]?\d{1,6}/,A=/\d+/,P=/[+-]?\d+/,D=/Z|[+-]\d\d:?\d\d/gi,R=/Z|[+-]\d\d(?::?\d\d)?/gi,k=/[+-]?\d+(\.\d{1,3})?/,I=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,O={};function addRegexToken(e,i,n){O[e]=isFunction(i)?i:function(e,t){return e&&n?n:i}}function getParseRegexForToken(e,t){if(!hasOwnProp(O,e)){return new RegExp(unescapeFormat(e))}return O[e](t._strict,t._locale)}function unescapeFormat(e){return regexEscape(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,r){return t||i||n||r}))}function regexEscape(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var B={};function addParseToken(e,i){var t,n=i;if(typeof e==="string"){e=[e]}if(isNumber(i)){n=function func(e,t){t[i]=toInt(e)}}for(t=0;t<e.length;t++){B[e[t]]=n}}function addWeekParseToken(e,r){addParseToken(e,function(e,t,i,n){i._w=i._w||{};r(e,i._w,i,n)})}function addTimeToArrayFromToken(e,t,i){if(t!=null&&hasOwnProp(B,e)){B[e](t,i._a,i,e)}}var N=0,F=1,Y=2,U=3,j=4,z=5,G=6,H=7,W=8;function daysInYear(e){return isLeapYear(e)?366:365}function isLeapYear(e){return e%4===0&&e%100!==0||e%400===0}addFormatToken("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),addFormatToken(0,["YY",2],0,function(){return this.year()%100}),addFormatToken(0,["YYYY",4],0,"year"),addFormatToken(0,["YYYYY",5],0,"year"),addFormatToken(0,["YYYYYY",6,true],0,"year"),addUnitAlias("year","y"),addUnitPriority("year",1),addRegexToken("Y",P),addRegexToken("YY",T,y),addRegexToken("YYYY",E,w),addRegexToken("YYYYY",C,x),addRegexToken("YYYYYY",C,x),addParseToken(["YYYYY","YYYYYY"],N),addParseToken("YYYY",function(e,t){t[N]=e.length===2?hooks.parseTwoDigitYear(e):toInt(e)}),addParseToken("YY",function(e,t){t[N]=hooks.parseTwoDigitYear(e)}),addParseToken("Y",function(e,t){t[N]=parseInt(e,10)}),hooks.parseTwoDigitYear=function(e){return toInt(e)+(toInt(e)>68?1900:2e3)};var V=makeGetSet("FullYear",true),q;function getIsLeapYear(){return isLeapYear(this.year())}function makeGetSet(t,i){return function(e){if(e!=null){set$1(this,t,e);hooks.updateOffset(this,i);return this}else{return get(this,t)}}}function get(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function set$1(e,t,i){if(e.isValid()&&!isNaN(i)){if(t==="FullYear"&&isLeapYear(e.year())&&e.month()===1&&e.date()===29){e._d["set"+(e._isUTC?"UTC":"")+t](i,e.month(),daysInMonth(i,e.month()))}else{e._d["set"+(e._isUTC?"UTC":"")+t](i)}}}function stringGet(e){e=normalizeUnits(e);if(isFunction(this[e])){return this[e]()}return this}function stringSet(e,t){if(typeof e==="object"){e=normalizeObjectUnits(e);var i=getPrioritizedUnits(e);for(var n=0;n<i.length;n++){this[i[n].unit](e[i[n].unit])}}else{e=normalizeUnits(e);if(isFunction(this[e])){return this[e](t)}}return this}function mod(e,t){return(e%t+t)%t}if(Array.prototype.indexOf){q=Array.prototype.indexOf}else{q=function indexOf(e){var t;for(t=0;t<this.length;++t){if(this[t]===e){return t}}return-1}}function daysInMonth(e,t){if(isNaN(e)||isNaN(t)){return NaN}var i=mod(t,12);e+=(t-i)/12;return i===1?isLeapYear(e)?29:28:31-i%7%2}addFormatToken("M",["MM",2],"Mo",function(){return this.month()+1}),addFormatToken("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),addFormatToken("MMMM",0,0,function(e){return this.localeData().months(this,e)}),addUnitAlias("month","M"),addUnitPriority("month",8),addRegexToken("M",T),addRegexToken("MM",T,y),addRegexToken("MMM",function(e,t){return t.monthsShortRegex(e)}),addRegexToken("MMMM",function(e,t){return t.monthsRegex(e)}),addParseToken(["M","MM"],function(e,t){t[F]=toInt(e)-1}),addParseToken(["MMM","MMMM"],function(e,t,i,n){var r=i._locale.monthsParse(e,n,i._strict);if(r!=null){t[F]=r}else{getParsingFlags(i).invalidMonth=e}});var X=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,K="January_February_March_April_May_June_July_August_September_October_November_December".split("_");function localeMonths(e,t){if(!e){return isArray(this._months)?this._months:this._months["standalone"]}return isArray(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||X).test(t)?"format":"standalone"][e.month()]}var J="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function localeMonthsShort(e,t){if(!e){return isArray(this._monthsShort)?this._monthsShort:this._monthsShort["standalone"]}return isArray(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[X.test(t)?"format":"standalone"][e.month()]}function handleStrictParse(e,t,i){var n,r,a,o=e.toLocaleLowerCase();if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[];for(n=0;n<12;++n){a=createUTC([2e3,n]);this._shortMonthsParse[n]=this.monthsShort(a,"").toLocaleLowerCase();this._longMonthsParse[n]=this.months(a,"").toLocaleLowerCase()}}if(i){if(t==="MMM"){r=q.call(this._shortMonthsParse,o);return r!==-1?r:null}else{r=q.call(this._longMonthsParse,o);return r!==-1?r:null}}else{if(t==="MMM"){r=q.call(this._shortMonthsParse,o);if(r!==-1){return r}r=q.call(this._longMonthsParse,o);return r!==-1?r:null}else{r=q.call(this._longMonthsParse,o);if(r!==-1){return r}r=q.call(this._shortMonthsParse,o);return r!==-1?r:null}}}function localeMonthsParse(e,t,i){var n,r,a;if(this._monthsParseExact){return handleStrictParse.call(this,e,t,i)}if(!this._monthsParse){this._monthsParse=[];this._longMonthsParse=[];this._shortMonthsParse=[]}for(n=0;n<12;n++){r=createUTC([2e3,n]);if(i&&!this._longMonthsParse[n]){this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i");this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")}if(!i&&!this._monthsParse[n]){a="^"+this.months(r,"")+"|^"+this.monthsShort(r,"");this._monthsParse[n]=new RegExp(a.replace(".",""),"i")}if(i&&t==="MMMM"&&this._longMonthsParse[n].test(e)){return n}else if(i&&t==="MMM"&&this._shortMonthsParse[n].test(e)){return n}else if(!i&&this._monthsParse[n].test(e)){return n}}}function setMonth(e,t){var i;if(!e.isValid()){return e}if(typeof t==="string"){if(/^\d+$/.test(t)){t=toInt(t)}else{t=e.localeData().monthsParse(t);if(!isNumber(t)){return e}}}i=Math.min(e.date(),daysInMonth(e.year(),t));e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i);return e}function getSetMonth(e){if(e!=null){setMonth(this,e);hooks.updateOffset(this,true);return this}else{return get(this,"Month")}}function getDaysInMonth(){return daysInMonth(this.year(),this.month())}var Z=I;function monthsShortRegex(e){if(this._monthsParseExact){if(!hasOwnProp(this,"_monthsRegex")){computeMonthsParse.call(this)}if(e){return this._monthsShortStrictRegex}else{return this._monthsShortRegex}}else{if(!hasOwnProp(this,"_monthsShortRegex")){this._monthsShortRegex=Z}return this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex}}var Q=I;function monthsRegex(e){if(this._monthsParseExact){if(!hasOwnProp(this,"_monthsRegex")){computeMonthsParse.call(this)}if(e){return this._monthsStrictRegex}else{return this._monthsRegex}}else{if(!hasOwnProp(this,"_monthsRegex")){this._monthsRegex=Q}return this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex}}function computeMonthsParse(){function cmpLenRev(e,t){return t.length-e.length}var e=[],t=[],i=[],n,r;for(n=0;n<12;n++){r=createUTC([2e3,n]);e.push(this.monthsShort(r,""));t.push(this.months(r,""));i.push(this.months(r,""));i.push(this.monthsShort(r,""))}e.sort(cmpLenRev);t.sort(cmpLenRev);i.sort(cmpLenRev);for(n=0;n<12;n++){e[n]=regexEscape(e[n]);t[n]=regexEscape(t[n])}for(n=0;n<24;n++){i[n]=regexEscape(i[n])}this._monthsRegex=new RegExp("^("+i.join("|")+")","i");this._monthsShortRegex=this._monthsRegex;this._monthsStrictRegex=new RegExp("^("+t.join("|")+")","i");this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function createDate(e,t,i,n,r,a,o){var s;if(e<100&&e>=0){s=new Date(e+400,t,i,n,r,a,o);if(isFinite(s.getFullYear())){s.setFullYear(e)}}else{s=new Date(e,t,i,n,r,a,o)}return s}function createUTCDate(e){var t;if(e<100&&e>=0){var i=Array.prototype.slice.call(arguments);i[0]=e+400;t=new Date(Date.UTC.apply(null,i));if(isFinite(t.getUTCFullYear())){t.setUTCFullYear(e)}}else{t=new Date(Date.UTC.apply(null,arguments))}return t}function firstWeekOffset(e,t,i){var n=7+t-i,r=(7+createUTCDate(e,0,n).getUTCDay()-t)%7;return-r+n-1}function dayOfYearFromWeeks(e,t,i,n,r){var a=(7+i-n)%7,o=firstWeekOffset(e,n,r),s=1+7*(t-1)+a+o,l,u;if(s<=0){l=e-1;u=daysInYear(l)+s}else if(s>daysInYear(e)){l=e+1;u=s-daysInYear(e)}else{l=e;u=s}return{year:l,dayOfYear:u}}function weekOfYear(e,t,i){var n=firstWeekOffset(e.year(),t,i),r=Math.floor((e.dayOfYear()-n-1)/7)+1,a,o;if(r<1){o=e.year()-1;a=r+weeksInYear(o,t,i)}else if(r>weeksInYear(e.year(),t,i)){a=r-weeksInYear(e.year(),t,i);o=e.year()+1}else{o=e.year();a=r}return{week:a,year:o}}function weeksInYear(e,t,i){var n=firstWeekOffset(e,t,i),r=firstWeekOffset(e+1,t,i);return(daysInYear(e)-n+r)/7}function localeWeek(e){return weekOfYear(e,this._week.dow,this._week.doy).week}addFormatToken("w",["ww",2],"wo","week"),addFormatToken("W",["WW",2],"Wo","isoWeek"),addUnitAlias("week","w"),addUnitAlias("isoWeek","W"),addUnitPriority("week",5),addUnitPriority("isoWeek",5),addRegexToken("w",T),addRegexToken("ww",T,y),addRegexToken("W",T),addRegexToken("WW",T,y),addWeekParseToken(["w","ww","W","WW"],function(e,t,i,n){t[n.substr(0,1)]=toInt(e)});var $={dow:0,doy:6};function localeFirstDayOfWeek(){return this._week.dow}function localeFirstDayOfYear(){return this._week.doy}function getSetWeek(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function getSetISOWeek(e){var t=weekOfYear(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}function parseWeekday(e,t){if(typeof e!=="string"){return e}if(!isNaN(e)){return parseInt(e,10)}e=t.weekdaysParse(e);if(typeof e==="number"){return e}return null}function parseIsoWeekday(e,t){if(typeof e==="string"){return t.weekdaysParse(e)%7||7}return isNaN(e)?null:e}function shiftWeekdays(e,t){return e.slice(t,7).concat(e.slice(0,t))}addFormatToken("d",0,"do","day"),addFormatToken("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),addFormatToken("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),addFormatToken("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),addFormatToken("e",0,0,"weekday"),addFormatToken("E",0,0,"isoWeekday"),addUnitAlias("day","d"),addUnitAlias("weekday","e"),addUnitAlias("isoWeekday","E"),addUnitPriority("day",11),addUnitPriority("weekday",11),addUnitPriority("isoWeekday",11),addRegexToken("d",T),addRegexToken("e",T),addRegexToken("E",T),addRegexToken("dd",function(e,t){return t.weekdaysMinRegex(e)}),addRegexToken("ddd",function(e,t){return t.weekdaysShortRegex(e)}),addRegexToken("dddd",function(e,t){return t.weekdaysRegex(e)}),addWeekParseToken(["dd","ddd","dddd"],function(e,t,i,n){var r=i._locale.weekdaysParse(e,n,i._strict);if(r!=null){t.d=r}else{getParsingFlags(i).invalidWeekday=e}}),addWeekParseToken(["d","e","E"],function(e,t,i,n){t[n]=toInt(e)});var ee="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");function localeWeekdays(e,t){var i=isArray(this._weekdays)?this._weekdays:this._weekdays[e&&e!==true&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===true?shiftWeekdays(i,this._week.dow):e?i[e.day()]:i}var te="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");function localeWeekdaysShort(e){return e===true?shiftWeekdays(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}var ie="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function localeWeekdaysMin(e){return e===true?shiftWeekdays(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function handleStrictParse$1(e,t,i){var n,r,a,o=e.toLocaleLowerCase();if(!this._weekdaysParse){this._weekdaysParse=[];this._shortWeekdaysParse=[];this._minWeekdaysParse=[];for(n=0;n<7;++n){a=createUTC([2e3,1]).day(n);this._minWeekdaysParse[n]=this.weekdaysMin(a,"").toLocaleLowerCase();this._shortWeekdaysParse[n]=this.weekdaysShort(a,"").toLocaleLowerCase();this._weekdaysParse[n]=this.weekdays(a,"").toLocaleLowerCase()}}if(i){if(t==="dddd"){r=q.call(this._weekdaysParse,o);return r!==-1?r:null}else if(t==="ddd"){r=q.call(this._shortWeekdaysParse,o);return r!==-1?r:null}else{r=q.call(this._minWeekdaysParse,o);return r!==-1?r:null}}else{if(t==="dddd"){r=q.call(this._weekdaysParse,o);if(r!==-1){return r}r=q.call(this._shortWeekdaysParse,o);if(r!==-1){return r}r=q.call(this._minWeekdaysParse,o);return r!==-1?r:null}else if(t==="ddd"){r=q.call(this._shortWeekdaysParse,o);if(r!==-1){return r}r=q.call(this._weekdaysParse,o);if(r!==-1){return r}r=q.call(this._minWeekdaysParse,o);return r!==-1?r:null}else{r=q.call(this._minWeekdaysParse,o);if(r!==-1){return r}r=q.call(this._weekdaysParse,o);if(r!==-1){return r}r=q.call(this._shortWeekdaysParse,o);return r!==-1?r:null}}}function localeWeekdaysParse(e,t,i){var n,r,a;if(this._weekdaysParseExact){return handleStrictParse$1.call(this,e,t,i)}if(!this._weekdaysParse){this._weekdaysParse=[];this._minWeekdaysParse=[];this._shortWeekdaysParse=[];this._fullWeekdaysParse=[]}for(n=0;n<7;n++){r=createUTC([2e3,1]).day(n);if(i&&!this._fullWeekdaysParse[n]){this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i");this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i");this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")}if(!this._weekdaysParse[n]){a="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,"");this._weekdaysParse[n]=new RegExp(a.replace(".",""),"i")}if(i&&t==="dddd"&&this._fullWeekdaysParse[n].test(e)){return n}else if(i&&t==="ddd"&&this._shortWeekdaysParse[n].test(e)){return n}else if(i&&t==="dd"&&this._minWeekdaysParse[n].test(e)){return n}else if(!i&&this._weekdaysParse[n].test(e)){return n}}}function getSetDayOfWeek(e){if(!this.isValid()){return e!=null?this:NaN}var t=this._isUTC?this._d.getUTCDay():this._d.getDay();if(e!=null){e=parseWeekday(e,this.localeData());return this.add(e-t,"d")}else{return t}}function getSetLocaleDayOfWeek(e){if(!this.isValid()){return e!=null?this:NaN}var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function getSetISODayOfWeek(e){if(!this.isValid()){return e!=null?this:NaN}if(e!=null){var t=parseIsoWeekday(e,this.localeData());return this.day(this.day()%7?t:t-7)}else{return this.day()||7}}var ne=I;function weekdaysRegex(e){if(this._weekdaysParseExact){if(!hasOwnProp(this,"_weekdaysRegex")){computeWeekdaysParse.call(this)}if(e){return this._weekdaysStrictRegex}else{return this._weekdaysRegex}}else{if(!hasOwnProp(this,"_weekdaysRegex")){this._weekdaysRegex=ne}return this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex}}var re=I;function weekdaysShortRegex(e){if(this._weekdaysParseExact){if(!hasOwnProp(this,"_weekdaysRegex")){computeWeekdaysParse.call(this)}if(e){return this._weekdaysShortStrictRegex}else{return this._weekdaysShortRegex}}else{if(!hasOwnProp(this,"_weekdaysShortRegex")){this._weekdaysShortRegex=re}return this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex}}var ae=I,oe;function weekdaysMinRegex(e){if(this._weekdaysParseExact){if(!hasOwnProp(this,"_weekdaysRegex")){computeWeekdaysParse.call(this)}if(e){return this._weekdaysMinStrictRegex}else{return this._weekdaysMinRegex}}else{if(!hasOwnProp(this,"_weekdaysMinRegex")){this._weekdaysMinRegex=ae}return this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex}}function computeWeekdaysParse(){function cmpLenRev(e,t){return t.length-e.length}var e=[],t=[],i=[],n=[],r,a,o,s,l;for(r=0;r<7;r++){a=createUTC([2e3,1]).day(r);o=this.weekdaysMin(a,"");s=this.weekdaysShort(a,"");l=this.weekdays(a,"");e.push(o);t.push(s);i.push(l);n.push(o);n.push(s);n.push(l)}e.sort(cmpLenRev);t.sort(cmpLenRev);i.sort(cmpLenRev);n.sort(cmpLenRev);for(r=0;r<7;r++){t[r]=regexEscape(t[r]);i[r]=regexEscape(i[r]);n[r]=regexEscape(n[r])}this._weekdaysRegex=new RegExp("^("+n.join("|")+")","i");this._weekdaysShortRegex=this._weekdaysRegex;this._weekdaysMinRegex=this._weekdaysRegex;this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i");this._weekdaysShortStrictRegex=new RegExp("^("+t.join("|")+")","i");this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function hFormat(){return this.hours()%12||12}function kFormat(){return this.hours()||24}function meridiem(e,t){addFormatToken(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function matchMeridiem(e,t){return t._meridiemParse}function localeIsPM(e){return(e+"").toLowerCase().charAt(0)==="p"}function localeMeridiem(e,t,i){if(e>11){return i?"pm":"PM"}else{return i?"am":"AM"}}addFormatToken("H",["HH",2],0,"hour"),addFormatToken("h",["hh",2],0,hFormat),addFormatToken("k",["kk",2],0,kFormat),addFormatToken("hmm",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)}),addFormatToken("hmmss",0,0,function(){return""+hFormat.apply(this)+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),addFormatToken("Hmm",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)}),addFormatToken("Hmmss",0,0,function(){return""+this.hours()+zeroFill(this.minutes(),2)+zeroFill(this.seconds(),2)}),meridiem("a",true),meridiem("A",false),addUnitAlias("hour","h"),addUnitPriority("hour",13),addRegexToken("a",matchMeridiem),addRegexToken("A",matchMeridiem),addRegexToken("H",T),addRegexToken("h",T),addRegexToken("k",T),addRegexToken("HH",T,y),addRegexToken("hh",T,y),addRegexToken("kk",T,y),addRegexToken("hmm",S),addRegexToken("hmmss",M),addRegexToken("Hmm",S),addRegexToken("Hmmss",M),addParseToken(["H","HH"],U),addParseToken(["k","kk"],function(e,t,i){var n=toInt(e);t[U]=n===24?0:n}),addParseToken(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e);i._meridiem=e}),addParseToken(["h","hh"],function(e,t,i){t[U]=toInt(e);getParsingFlags(i).bigHour=true}),addParseToken("hmm",function(e,t,i){var n=e.length-2;t[U]=toInt(e.substr(0,n));t[j]=toInt(e.substr(n));getParsingFlags(i).bigHour=true}),addParseToken("hmmss",function(e,t,i){var n=e.length-4;var r=e.length-2;t[U]=toInt(e.substr(0,n));t[j]=toInt(e.substr(n,2));t[z]=toInt(e.substr(r));getParsingFlags(i).bigHour=true}),addParseToken("Hmm",function(e,t,i){var n=e.length-2;t[U]=toInt(e.substr(0,n));t[j]=toInt(e.substr(n))}),addParseToken("Hmmss",function(e,t,i){var n=e.length-4;var r=e.length-2;t[U]=toInt(e.substr(0,n));t[j]=toInt(e.substr(n,2));t[z]=toInt(e.substr(r))});var se=makeGetSet("Hours",true),le={calendar:o,longDateFormat:s,invalidDate:l,ordinal:u,dayOfMonthOrdinalParse:h,relativeTime:d,months:K,monthsShort:J,week:$,weekdays:ee,weekdaysMin:ie,weekdaysShort:te,meridiemParse:/[ap]\.?m?\.?/i},ue={},he={},de;function normalizeLocale(e){return e?e.toLowerCase().replace("_","-"):e}function chooseLocale(e){var t=0,i,n,r,a;while(t<e.length){a=normalizeLocale(e[t]).split("-");i=a.length;n=normalizeLocale(e[t+1]);n=n?n.split("-"):null;while(i>0){r=loadLocale(a.slice(0,i).join("-"));if(r){return r}if(n&&n.length>=i&&compareArrays(a,n,true)>=i-1){break}i--}t++}return de}function loadLocale(e){var t=null;if(!ue[e]&&typeof lt!=="undefined"&&lt&&lt.exports){try{t=de._abbr;var i=ut;ht(560)("./"+e);getSetGlobalLocale(t)}catch(e){}}return ue[e]}function getSetGlobalLocale(e,t){var i;if(e){if(isUndefined(t)){i=getLocale(e)}else{i=defineLocale(e,t)}if(i){de=i}else{if(typeof console!=="undefined"&&console.warn){console.warn("Locale "+e+" not found. Did you forget to load it?")}}}return de._abbr}function defineLocale(e,t){if(t!==null){var i,n=le;t.abbr=e;if(ue[e]!=null){deprecateSimple("defineLocaleOverride","use moment.updateLocale(localeName, config) to change "+"an existing locale. moment.defineLocale(localeName, "+"config) should only be used for creating a new locale "+"See http://momentjs.com/guides/#/warnings/define-locale/ for more info.");n=ue[e]._config}else if(t.parentLocale!=null){if(ue[t.parentLocale]!=null){n=ue[t.parentLocale]._config}else{i=loadLocale(t.parentLocale);if(i!=null){n=i._config}else{if(!he[t.parentLocale]){he[t.parentLocale]=[]}he[t.parentLocale].push({name:e,config:t});return null}}}ue[e]=new Locale(mergeConfigs(n,t));if(he[e]){he[e].forEach(function(e){defineLocale(e.name,e.config)})}getSetGlobalLocale(e);return ue[e]}else{delete ue[e];return null}}function updateLocale(e,t){if(null!=t){var i,n,r=le;null!=(n=loadLocale(e))&&(r=n._config),t=mergeConfigs(r,t),(i=new Locale(t)).parentLocale=ue[e],ue[e]=i,getSetGlobalLocale(e)}else null!=ue[e]&&(null!=ue[e].parentLocale?ue[e]=ue[e].parentLocale:null!=ue[e]&&delete ue[e]);return ue[e]}function getLocale(e){var t;if(e&&e._locale&&e._locale._abbr){e=e._locale._abbr}if(!e){return de}if(!isArray(e)){t=loadLocale(e);if(t){return t}e=[e]}return chooseLocale(e)}function listLocales(){return e(ue)}function checkOverflow(e){var t;var i=e._a;if(i&&getParsingFlags(e).overflow===-2){t=i[F]<0||i[F]>11?F:i[Y]<1||i[Y]>daysInMonth(i[N],i[F])?Y:i[U]<0||i[U]>24||i[U]===24&&(i[j]!==0||i[z]!==0||i[G]!==0)?U:i[j]<0||i[j]>59?j:i[z]<0||i[z]>59?z:i[G]<0||i[G]>999?G:-1;if(getParsingFlags(e)._overflowDayOfYear&&(t<N||t>Y)){t=Y}if(getParsingFlags(e)._overflowWeeks&&t===-1){t=H}if(getParsingFlags(e)._overflowWeekday&&t===-1){t=W}getParsingFlags(e).overflow=t}return e}function defaults(e,t,i){if(e!=null){return e}if(t!=null){return t}return i}function currentDateArray(e){var t=new Date(hooks.now());if(e._useUTC){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]}return[t.getFullYear(),t.getMonth(),t.getDate()]}function configFromArray(e){var t,i,n=[],r,a,o;if(e._d){return}r=currentDateArray(e);if(e._w&&e._a[Y]==null&&e._a[F]==null){dayOfYearFromWeekInfo(e)}if(e._dayOfYear!=null){o=defaults(e._a[N],r[N]);if(e._dayOfYear>daysInYear(o)||e._dayOfYear===0){getParsingFlags(e)._overflowDayOfYear=true}i=createUTCDate(o,0,e._dayOfYear);e._a[F]=i.getUTCMonth();e._a[Y]=i.getUTCDate()}for(t=0;t<3&&e._a[t]==null;++t){e._a[t]=n[t]=r[t]}for(;t<7;t++){e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t]}if(e._a[U]===24&&e._a[j]===0&&e._a[z]===0&&e._a[G]===0){e._nextDay=true;e._a[U]=0}e._d=(e._useUTC?createUTCDate:createDate).apply(null,n);a=e._useUTC?e._d.getUTCDay():e._d.getDay();if(e._tzm!=null){e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm)}if(e._nextDay){e._a[U]=24}if(e._w&&typeof e._w.d!=="undefined"&&e._w.d!==a){getParsingFlags(e).weekdayMismatch=true}}function dayOfYearFromWeekInfo(e){var t,i,n,r,a,o,s,l;t=e._w;if(t.GG!=null||t.W!=null||t.E!=null){a=1;o=4;i=defaults(t.GG,e._a[N],weekOfYear(createLocal(),1,4).year);n=defaults(t.W,1);r=defaults(t.E,1);if(r<1||r>7){l=true}}else{a=e._locale._week.dow;o=e._locale._week.doy;var u=weekOfYear(createLocal(),a,o);i=defaults(t.gg,e._a[N],u.year);n=defaults(t.w,u.week);if(t.d!=null){r=t.d;if(r<0||r>6){l=true}}else if(t.e!=null){r=t.e+a;if(t.e<0||t.e>6){l=true}}else{r=a}}if(n<1||n>weeksInYear(i,a,o)){getParsingFlags(e)._overflowWeeks=true}else if(l!=null){getParsingFlags(e)._overflowWeekday=true}else{s=dayOfYearFromWeeks(i,n,r,a,o);e._a[N]=s.year;e._dayOfYear=s.dayOfYear}}var ce=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,pe=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fe=/Z|[+-]\d\d(?::?\d\d)?/,me=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,false],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,false],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,false],["YYYYDDD",/\d{7}/]],_e=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],ge=/^\/?Date\((\-?\d+)/i;function configFromISO(e){var t,i,n=e._i,r=ce.exec(n)||pe.exec(n),a,o,s,l;if(r){getParsingFlags(e).iso=true;for(t=0,i=me.length;t<i;t++){if(me[t][1].exec(r[1])){o=me[t][0];a=me[t][2]!==false;break}}if(o==null){e._isValid=false;return}if(r[3]){for(t=0,i=_e.length;t<i;t++){if(_e[t][1].exec(r[3])){s=(r[2]||" ")+_e[t][0];break}}if(s==null){e._isValid=false;return}}if(!a&&s!=null){e._isValid=false;return}if(r[4]){if(fe.exec(r[4])){l="Z"}else{e._isValid=false;return}}e._f=o+(s||"")+(l||"");configFromStringAndFormat(e)}else{e._isValid=false}}var ve=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function extractFromRFC2822Strings(e,t,i,n,r,a){var o=[untruncateYear(e),J.indexOf(t),parseInt(i,10),parseInt(n,10),parseInt(r,10)];if(a){o.push(parseInt(a,10))}return o}function untruncateYear(e){var t=parseInt(e,10);if(t<=49){return 2e3+t}else if(t<=999){return 1900+t}return t}function preprocessRFC2822(e){return e.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function checkWeekday(e,t,i){if(e){var n=te.indexOf(e),r=new Date(t[0],t[1],t[2]).getDay();if(n!==r){getParsingFlags(i).weekdayMismatch=true;i._isValid=false;return false}}return true}var ye={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function calculateOffset(e,t,i){if(e){return ye[e]}else if(t){return 0}else{var n=parseInt(i,10);var r=n%100,a=(n-r)/100;return a*60+r}}function configFromRFC2822(e){var t=ve.exec(preprocessRFC2822(e._i));if(t){var i=extractFromRFC2822Strings(t[4],t[3],t[2],t[5],t[6],t[7]);if(!checkWeekday(t[1],i,e)){return}e._a=i;e._tzm=calculateOffset(t[8],t[9],t[10]);e._d=createUTCDate.apply(null,e._a);e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm);getParsingFlags(e).rfc2822=true}else{e._isValid=false}}function configFromString(e){var t=ge.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}configFromISO(e);if(e._isValid===false){delete e._isValid}else{return}configFromRFC2822(e);if(e._isValid===false){delete e._isValid}else{return}hooks.createFromInputFallback(e)}function configFromStringAndFormat(e){if(e._f===hooks.ISO_8601){configFromISO(e);return}if(e._f===hooks.RFC_2822){configFromRFC2822(e);return}e._a=[];getParsingFlags(e).empty=true;var t=""+e._i,i,n,r,a,o,s=t.length,l=0;r=expandFormat(e._f,e._locale).match(f)||[];for(i=0;i<r.length;i++){a=r[i];n=(t.match(getParseRegexForToken(a,e))||[])[0];if(n){o=t.substr(0,t.indexOf(n));if(o.length>0){getParsingFlags(e).unusedInput.push(o)}t=t.slice(t.indexOf(n)+n.length);l+=n.length}if(g[a]){if(n){getParsingFlags(e).empty=false}else{getParsingFlags(e).unusedTokens.push(a)}addTimeToArrayFromToken(a,n,e)}else if(e._strict&&!n){getParsingFlags(e).unusedTokens.push(a)}}getParsingFlags(e).charsLeftOver=s-l;if(t.length>0){getParsingFlags(e).unusedInput.push(t)}if(e._a[U]<=12&&getParsingFlags(e).bigHour===true&&e._a[U]>0){getParsingFlags(e).bigHour=undefined}getParsingFlags(e).parsedDateParts=e._a.slice(0);getParsingFlags(e).meridiem=e._meridiem;e._a[U]=meridiemFixWrap(e._locale,e._a[U],e._meridiem);configFromArray(e);checkOverflow(e)}function meridiemFixWrap(e,t,i){var n;if(i==null){return t}if(e.meridiemHour!=null){return e.meridiemHour(t,i)}else if(e.isPM!=null){n=e.isPM(i);if(n&&t<12){t+=12}if(!n&&t===12){t=0}return t}else{return t}}function configFromStringAndArray(e){var t,i,n,r,a;if(e._f.length===0){getParsingFlags(e).invalidFormat=true;e._d=new Date(NaN);return}for(r=0;r<e._f.length;r++){a=0;t=copyConfig({},e);if(e._useUTC!=null){t._useUTC=e._useUTC}t._f=e._f[r];configFromStringAndFormat(t);if(!isValid(t)){continue}a+=getParsingFlags(t).charsLeftOver;a+=getParsingFlags(t).unusedTokens.length*10;getParsingFlags(t).score=a;if(n==null||a<n){n=a;i=t}}extend(e,i||t)}function configFromObject(e){if(e._d){return}var t=normalizeObjectUnits(e._i);e._a=map([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)});configFromArray(e)}function createFromConfig(e){var t=new Moment(checkOverflow(prepareConfig(e)));if(t._nextDay){t.add(1,"d");t._nextDay=undefined}return t}function prepareConfig(e){var t=e._i,i=e._f;e._locale=e._locale||getLocale(e._l);if(t===null||i===undefined&&t===""){return createInvalid({nullInput:true})}if(typeof t==="string"){e._i=t=e._locale.preparse(t)}if(isMoment(t)){return new Moment(checkOverflow(t))}else if(isDate(t)){e._d=t}else if(isArray(i)){configFromStringAndArray(e)}else if(i){configFromStringAndFormat(e)}else{configFromInput(e)}if(!isValid(e)){e._d=null}return e}function configFromInput(e){var t=e._i;if(isUndefined(t)){e._d=new Date(hooks.now())}else if(isDate(t)){e._d=new Date(t.valueOf())}else if(typeof t==="string"){configFromString(e)}else if(isArray(t)){e._a=map(t.slice(0),function(e){return parseInt(e,10)});configFromArray(e)}else if(isObject(t)){configFromObject(e)}else if(isNumber(t)){e._d=new Date(t)}else{hooks.createFromInputFallback(e)}}function createLocalOrUTC(e,t,i,n,r){var a={};if(i===true||i===false){n=i;i=undefined}if(isObject(e)&&isObjectEmpty(e)||isArray(e)&&e.length===0){e=undefined}a._isAMomentObject=true;a._useUTC=a._isUTC=r;a._l=i;a._i=e;a._f=t;a._strict=n;return createFromConfig(a)}function createLocal(e,t,i,n){return createLocalOrUTC(e,t,i,n,false)}hooks.createFromInputFallback=deprecate("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), "+"which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are "+"discouraged and will be removed in an upcoming major release. Please refer to "+"http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),hooks.ISO_8601=function(){},hooks.RFC_2822=function(){};var be=deprecate("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=createLocal.apply(null,arguments);if(this.isValid()&&e.isValid()){return e<this?this:e}else{return createInvalid()}}),we=deprecate("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=createLocal.apply(null,arguments);if(this.isValid()&&e.isValid()){return e>this?this:e}else{return createInvalid()}});function pickBy(e,t){var i,n;if(t.length===1&&isArray(t[0])){t=t[0]}if(!t.length){return createLocal()}i=t[0];for(n=1;n<t.length;++n){if(!t[n].isValid()||t[n][e](i)){i=t[n]}}return i}function min(){var e;return pickBy("isBefore",[].slice.call(arguments,0))}function max(){var e;return pickBy("isAfter",[].slice.call(arguments,0))}var xe=function now(){return Date.now?Date.now():+new Date},Te=["year","quarter","month","week","day","hour","minute","second","millisecond"];function isDurationValid(e){for(var t in e){if(!(q.call(Te,t)!==-1&&(e[t]==null||!isNaN(e[t])))){return false}}var i=false;for(var n=0;n<Te.length;++n){if(e[Te[n]]){if(i){return false}if(parseFloat(e[Te[n]])!==toInt(e[Te[n]])){i=true}}}return true}function isValid$1(){return this._isValid}function createInvalid$1(){return createDuration(NaN)}function Duration(e){var t=normalizeObjectUnits(e),i=t.year||0,n=t.quarter||0,r=t.month||0,a=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,l=t.minute||0,u=t.second||0,h=t.millisecond||0;this._isValid=isDurationValid(t);this._milliseconds=+h+u*1e3+l*6e4+s*1e3*60*60;this._days=+o+a*7;this._months=+r+n*3+i*12;this._data={};this._locale=getLocale();this._bubble()}function isDuration(e){return e instanceof Duration}function absRound(e){if(e<0){return Math.round(-1*e)*-1}else{return Math.round(e)}}function offset(e,i){addFormatToken(e,0,0,function(){var e=this.utcOffset();var t="+";if(e<0){e=-e;t="-"}return t+zeroFill(~~(e/60),2)+i+zeroFill(~~e%60,2)})}offset("Z",":"),offset("ZZ",""),addRegexToken("Z",R),addRegexToken("ZZ",R),addParseToken(["Z","ZZ"],function(e,t,i){i._useUTC=true;i._tzm=offsetFromString(R,e)});var Se=/([\+\-]|\d\d)/gi;function offsetFromString(e,t){var i=(t||"").match(e);if(i===null){return null}var n=i[i.length-1]||[];var r=(n+"").match(Se)||["-",0,0];var a=+(r[1]*60)+toInt(r[2]);return a===0?0:r[0]==="+"?a:-a}function cloneWithOffset(e,t){var i,n;if(t._isUTC){i=t.clone();n=(isMoment(e)||isDate(e)?e.valueOf():createLocal(e).valueOf())-i.valueOf();i._d.setTime(i._d.valueOf()+n);hooks.updateOffset(i,false);return i}else{return createLocal(e).local()}}function getDateOffset(e){return-Math.round(e._d.getTimezoneOffset()/15)*15}function getSetOffset(e,t,i){var n=this._offset||0,r;if(!this.isValid()){return e!=null?this:NaN}if(e!=null){if(typeof e==="string"){e=offsetFromString(R,e);if(e===null){return this}}else if(Math.abs(e)<16&&!i){e=e*60}if(!this._isUTC&&t){r=getDateOffset(this)}this._offset=e;this._isUTC=true;if(r!=null){this.add(r,"m")}if(n!==e){if(!t||this._changeInProgress){addSubtract(this,createDuration(e-n,"m"),1,false)}else if(!this._changeInProgress){this._changeInProgress=true;hooks.updateOffset(this,true);this._changeInProgress=null}}return this}else{return this._isUTC?n:getDateOffset(this)}}function getSetZone(e,t){if(e!=null){if(typeof e!=="string"){e=-e}this.utcOffset(e,t);return this}else{return-this.utcOffset()}}function setOffsetToUTC(e){return this.utcOffset(0,e)}function setOffsetToLocal(e){if(this._isUTC){this.utcOffset(0,e);this._isUTC=false;if(e){this.subtract(getDateOffset(this),"m")}}return this}function setOffsetToParsedOffset(){if(this._tzm!=null){this.utcOffset(this._tzm,false,true)}else if(typeof this._i==="string"){var e=offsetFromString(D,this._i);if(e!=null){this.utcOffset(e)}else{this.utcOffset(0,true)}}return this}function hasAlignedHourOffset(e){if(!this.isValid()){return false}e=e?createLocal(e).utcOffset():0;return(this.utcOffset()-e)%60===0}function isDaylightSavingTime(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function isDaylightSavingTimeShifted(){if(!isUndefined(this._isDSTShifted)){return this._isDSTShifted}var e={};copyConfig(e,this);e=prepareConfig(e);if(e._a){var t=e._isUTC?createUTC(e._a):createLocal(e._a);this._isDSTShifted=this.isValid()&&compareArrays(e._a,t.toArray())>0}else{this._isDSTShifted=false}return this._isDSTShifted}function isLocal(){return this.isValid()?!this._isUTC:false}function isUtcOffset(){return this.isValid()?this._isUTC:false}function isUtc(){return this.isValid()?this._isUTC&&this._offset===0:false}hooks.updateOffset=function(){};var Me=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Le=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function createDuration(e,t){var i=e,n=null,r,a,o;if(isDuration(e)){i={ms:e._milliseconds,d:e._days,M:e._months}}else if(isNumber(e)){i={};if(t){i[t]=e}else{i.milliseconds=e}}else if(!!(n=Me.exec(e))){r=n[1]==="-"?-1:1;i={y:0,d:toInt(n[Y])*r,h:toInt(n[U])*r,m:toInt(n[j])*r,s:toInt(n[z])*r,ms:toInt(absRound(n[G]*1e3))*r}}else if(!!(n=Le.exec(e))){r=n[1]==="-"?-1:1;i={y:parseIso(n[2],r),M:parseIso(n[3],r),w:parseIso(n[4],r),d:parseIso(n[5],r),h:parseIso(n[6],r),m:parseIso(n[7],r),s:parseIso(n[8],r)}}else if(i==null){i={}}else if(typeof i==="object"&&("from"in i||"to"in i)){o=momentsDifference(createLocal(i.from),createLocal(i.to));i={};i.ms=o.milliseconds;i.M=o.months}a=new Duration(i);if(isDuration(e)&&hasOwnProp(e,"_locale")){a._locale=e._locale}return a}function parseIso(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function positiveMomentsDifference(e,t){var i={};i.months=t.month()-e.month()+(t.year()-e.year())*12;if(e.clone().add(i.months,"M").isAfter(t)){--i.months}i.milliseconds=+t-+e.clone().add(i.months,"M");return i}function momentsDifference(e,t){var i;if(!(e.isValid()&&t.isValid())){return{milliseconds:0,months:0}}t=cloneWithOffset(t,e);if(e.isBefore(t)){i=positiveMomentsDifference(e,t)}else{i=positiveMomentsDifference(t,e);i.milliseconds=-i.milliseconds;i.months=-i.months}return i}function createAdder(r,a){return function(e,t){var i,n;if(t!==null&&!isNaN(+t)){deprecateSimple(a,"moment()."+a+"(period, number) is deprecated. Please use moment()."+a+"(number, period). "+"See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info.");n=e;e=t;t=n}e=typeof e==="string"?+e:e;i=createDuration(e,t);addSubtract(this,i,r);return this}}function addSubtract(e,t,i,n){var r=t._milliseconds,a=absRound(t._days),o=absRound(t._months);if(!e.isValid()){return}n=n==null?true:n;if(o){setMonth(e,get(e,"Month")+o*i)}if(a){set$1(e,"Date",get(e,"Date")+a*i)}if(r){e._d.setTime(e._d.valueOf()+r*i)}if(n){hooks.updateOffset(e,a||o)}}createDuration.fn=Duration.prototype,createDuration.invalid=createInvalid$1;var Ee=createAdder(1,"add"),Ce=createAdder(-1,"subtract");function getCalendarFormat(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function calendar$1(e,t){var i=e||createLocal(),n=cloneWithOffset(i,this).startOf("day"),r=hooks.calendarFormat(this,n)||"sameElse";var a=t&&(isFunction(t[r])?t[r].call(this,i):t[r]);return this.format(a||this.localeData().calendar(r,this,createLocal(i)))}function clone(){return new Moment(this)}function isAfter(e,t){var i=isMoment(e)?e:createLocal(e);if(!(this.isValid()&&i.isValid())){return false}t=normalizeUnits(t)||"millisecond";if(t==="millisecond"){return this.valueOf()>i.valueOf()}else{return i.valueOf()<this.clone().startOf(t).valueOf()}}function isBefore(e,t){var i=isMoment(e)?e:createLocal(e);if(!(this.isValid()&&i.isValid())){return false}t=normalizeUnits(t)||"millisecond";if(t==="millisecond"){return this.valueOf()<i.valueOf()}else{return this.clone().endOf(t).valueOf()<i.valueOf()}}function isBetween(e,t,i,n){var r=isMoment(e)?e:createLocal(e),a=isMoment(t)?t:createLocal(t);if(!(this.isValid()&&r.isValid()&&a.isValid())){return false}n=n||"()";return(n[0]==="("?this.isAfter(r,i):!this.isBefore(r,i))&&(n[1]===")"?this.isBefore(a,i):!this.isAfter(a,i))}function isSame(e,t){var i=isMoment(e)?e:createLocal(e),n;if(!(this.isValid()&&i.isValid())){return false}t=normalizeUnits(t)||"millisecond";if(t==="millisecond"){return this.valueOf()===i.valueOf()}else{n=i.valueOf();return this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()}}function isSameOrAfter(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function isSameOrBefore(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function diff(e,t,i){var n,r,a;if(!this.isValid()){return NaN}n=cloneWithOffset(e,this);if(!n.isValid()){return NaN}r=(n.utcOffset()-this.utcOffset())*6e4;t=normalizeUnits(t);switch(t){case"year":a=monthDiff(this,n)/12;break;case"month":a=monthDiff(this,n);break;case"quarter":a=monthDiff(this,n)/3;break;case"second":a=(this-n)/1e3;break;case"minute":a=(this-n)/6e4;break;case"hour":a=(this-n)/36e5;break;case"day":a=(this-n-r)/864e5;break;case"week":a=(this-n-r)/6048e5;break;default:a=this-n}return i?a:absFloor(a)}function monthDiff(e,t){var i=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(i,"months"),r,a;if(t-n<0){r=e.clone().add(i-1,"months");a=(t-n)/(n-r)}else{r=e.clone().add(i+1,"months");a=(t-n)/(r-n)}return-(i+a)||0}function toString(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function toISOString(e){if(!this.isValid()){return null}var t=e!==true;var i=t?this.clone().utc():this;if(i.year()<0||i.year()>9999){return formatMoment(i,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ")}if(isFunction(Date.prototype.toISOString)){if(t){return this.toDate().toISOString()}else{return new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",formatMoment(i,"Z"))}}return formatMoment(i,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function inspect(){if(!this.isValid()){return"moment.invalid(/* "+this._i+" */)"}var e="moment";var t="";if(!this.isLocal()){e=this.utcOffset()===0?"moment.utc":"moment.parseZone";t="Z"}var i="["+e+'("]';var n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";var r="-MM-DD[T]HH:mm:ss.SSS";var a=t+'[")]';return this.format(i+n+r+a)}function format(e){if(!e){e=this.isUtc()?hooks.defaultFormatUtc:hooks.defaultFormat}var t=formatMoment(this,e);return this.localeData().postformat(t)}function from(e,t){if(this.isValid()&&(isMoment(e)&&e.isValid()||createLocal(e).isValid())){return createDuration({to:this,from:e}).locale(this.locale()).humanize(!t)}else{return this.localeData().invalidDate()}}function fromNow(e){return this.from(createLocal(),e)}function to(e,t){if(this.isValid()&&(isMoment(e)&&e.isValid()||createLocal(e).isValid())){return createDuration({from:this,to:e}).locale(this.locale()).humanize(!t)}else{return this.localeData().invalidDate()}}function toNow(e){return this.to(createLocal(),e)}function locale(e){var t;if(e===undefined){return this._locale._abbr}else{t=getLocale(e);if(t!=null){this._locale=t}return this}}hooks.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",hooks.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Ae=deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){if(e===undefined){return this.localeData()}else{return this.locale(e)}});function localeData(){return this._locale}var Pe=1e3,De=60*Pe,Re=60*De,ke=(365*400+97)*24*Re;function mod$1(e,t){return(e%t+t)%t}function localStartOfDate(e,t,i){if(e<100&&e>=0){return new Date(e+400,t,i)-ke}else{return new Date(e,t,i).valueOf()}}function utcStartOfDate(e,t,i){if(e<100&&e>=0){return Date.UTC(e+400,t,i)-ke}else{return Date.UTC(e,t,i)}}function startOf(e){var t;e=normalizeUnits(e);if(e===undefined||e==="millisecond"||!this.isValid()){return this}var i=this._isUTC?utcStartOfDate:localStartOfDate;switch(e){case"year":t=i(this.year(),0,1);break;case"quarter":t=i(this.year(),this.month()-this.month()%3,1);break;case"month":t=i(this.year(),this.month(),1);break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=i(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf();t-=mod$1(t+(this._isUTC?0:this.utcOffset()*De),Re);break;case"minute":t=this._d.valueOf();t-=mod$1(t,De);break;case"second":t=this._d.valueOf();t-=mod$1(t,Pe);break}this._d.setTime(t);hooks.updateOffset(this,true);return this}function endOf(e){var t;e=normalizeUnits(e);if(e===undefined||e==="millisecond"||!this.isValid()){return this}var i=this._isUTC?utcStartOfDate:localStartOfDate;switch(e){case"year":t=i(this.year()+1,0,1)-1;break;case"quarter":t=i(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=i(this.year(),this.month()+1,1)-1;break;case"week":t=i(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=i(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=i(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf();t+=Re-mod$1(t+(this._isUTC?0:this.utcOffset()*De),Re)-1;break;case"minute":t=this._d.valueOf();t+=De-mod$1(t,De)-1;break;case"second":t=this._d.valueOf();t+=Pe-mod$1(t,Pe)-1;break}this._d.setTime(t);hooks.updateOffset(this,true);return this}function valueOf(){return this._d.valueOf()-(this._offset||0)*6e4}function unix(){return Math.floor(this.valueOf()/1e3)}function toDate(){return new Date(this.valueOf())}function toArray(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function toObject(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function toJSON(){return this.isValid()?this.toISOString():null}function isValid$2(){return isValid(this)}function parsingFlags(){return extend({},getParsingFlags(this))}function invalidAt(){return getParsingFlags(this).overflow}function creationData(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function addWeekYearFormatToken(e,t){addFormatToken(0,[e,e.length],0,t)}function getSetWeekYear(e){return getSetWeekYearHelper.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function getSetISOWeekYear(e){return getSetWeekYearHelper.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function getISOWeeksInYear(){return weeksInYear(this.year(),1,4)}function getWeeksInYear(){var e=this.localeData()._week;return weeksInYear(this.year(),e.dow,e.doy)}function getSetWeekYearHelper(e,t,i,n,r){var a;if(e==null){return weekOfYear(this,n,r).year}else{a=weeksInYear(e,n,r);if(t>a){t=a}return setWeekAll.call(this,e,t,i,n,r)}}function setWeekAll(e,t,i,n,r){var a=dayOfYearFromWeeks(e,t,i,n,r),o=createUTCDate(a.year,0,a.dayOfYear);this.year(o.getUTCFullYear());this.month(o.getUTCMonth());this.date(o.getUTCDate());return this}function getSetQuarter(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}addFormatToken(0,["gg",2],0,function(){return this.weekYear()%100}),addFormatToken(0,["GG",2],0,function(){return this.isoWeekYear()%100}),addWeekYearFormatToken("gggg","weekYear"),addWeekYearFormatToken("ggggg","weekYear"),addWeekYearFormatToken("GGGG","isoWeekYear"),addWeekYearFormatToken("GGGGG","isoWeekYear"),addUnitAlias("weekYear","gg"),addUnitAlias("isoWeekYear","GG"),addUnitPriority("weekYear",1),addUnitPriority("isoWeekYear",1),addRegexToken("G",P),addRegexToken("g",P),addRegexToken("GG",T,y),addRegexToken("gg",T,y),addRegexToken("GGGG",E,w),addRegexToken("gggg",E,w),addRegexToken("GGGGG",C,x),addRegexToken("ggggg",C,x),addWeekParseToken(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,n){t[n.substr(0,2)]=toInt(e)}),addWeekParseToken(["gg","GG"],function(e,t,i,n){t[n]=hooks.parseTwoDigitYear(e)}),addFormatToken("Q",0,"Qo","quarter"),addUnitAlias("quarter","Q"),addUnitPriority("quarter",7),addRegexToken("Q",v),addParseToken("Q",function(e,t){t[F]=(toInt(e)-1)*3}),addFormatToken("D",["DD",2],"Do","date"),addUnitAlias("date","D"),addUnitPriority("date",9),addRegexToken("D",T),addRegexToken("DD",T,y),addRegexToken("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient}),addParseToken(["D","DD"],Y),addParseToken("Do",function(e,t){t[Y]=toInt(e.match(T)[0])});var Ie=makeGetSet("Date",true);function getSetDayOfYear(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}addFormatToken("DDD",["DDDD",3],"DDDo","dayOfYear"),addUnitAlias("dayOfYear","DDD"),addUnitPriority("dayOfYear",4),addRegexToken("DDD",L),addRegexToken("DDDD",b),addParseToken(["DDD","DDDD"],function(e,t,i){i._dayOfYear=toInt(e)}),addFormatToken("m",["mm",2],0,"minute"),addUnitAlias("minute","m"),addUnitPriority("minute",14),addRegexToken("m",T),addRegexToken("mm",T,y),addParseToken(["m","mm"],j);var Oe=makeGetSet("Minutes",false);addFormatToken("s",["ss",2],0,"second"),addUnitAlias("second","s"),addUnitPriority("second",15),addRegexToken("s",T),addRegexToken("ss",T,y),addParseToken(["s","ss"],z);var Be=makeGetSet("Seconds",false),Ne;for(addFormatToken("S",0,0,function(){return~~(this.millisecond()/100)}),addFormatToken(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),addFormatToken(0,["SSS",3],0,"millisecond"),addFormatToken(0,["SSSS",4],0,function(){return this.millisecond()*10}),addFormatToken(0,["SSSSS",5],0,function(){return this.millisecond()*100}),addFormatToken(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3}),addFormatToken(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4}),addFormatToken(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5}),addFormatToken(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6}),addUnitAlias("millisecond","ms"),addUnitPriority("millisecond",16),addRegexToken("S",L,v),addRegexToken("SS",L,y),addRegexToken("SSS",L,b),Ne="SSSS";Ne.length<=9;Ne+="S"){addRegexToken(Ne,A)}function parseMs(e,t){t[G]=toInt(("0."+e)*1e3)}for(Ne="S";Ne.length<=9;Ne+="S"){addParseToken(Ne,parseMs)}var Fe=makeGetSet("Milliseconds",false);function getZoneAbbr(){return this._isUTC?"UTC":""}function getZoneName(){return this._isUTC?"Coordinated Universal Time":""}addFormatToken("z",0,0,"zoneAbbr"),addFormatToken("zz",0,0,"zoneName");var Ye=Moment.prototype;function createUnix(e){return createLocal(1e3*e)}function createInZone(){return createLocal.apply(null,arguments).parseZone()}function preParsePostFormat(e){return e}Ye.add=Ee,Ye.calendar=calendar$1,Ye.clone=clone,Ye.diff=diff,Ye.endOf=endOf,Ye.format=format,Ye.from=from,Ye.fromNow=fromNow,Ye.to=to,Ye.toNow=toNow,Ye.get=stringGet,Ye.invalidAt=invalidAt,Ye.isAfter=isAfter,Ye.isBefore=isBefore,Ye.isBetween=isBetween,Ye.isSame=isSame,Ye.isSameOrAfter=isSameOrAfter,Ye.isSameOrBefore=isSameOrBefore,Ye.isValid=isValid$2,Ye.lang=Ae,Ye.locale=locale,Ye.localeData=localeData,Ye.max=we,Ye.min=be,Ye.parsingFlags=parsingFlags,Ye.set=stringSet,Ye.startOf=startOf,Ye.subtract=Ce,Ye.toArray=toArray,Ye.toObject=toObject,Ye.toDate=toDate,Ye.toISOString=toISOString,Ye.inspect=inspect,Ye.toJSON=toJSON,Ye.toString=toString,Ye.unix=unix,Ye.valueOf=valueOf,Ye.creationData=creationData,Ye.year=V,Ye.isLeapYear=getIsLeapYear,Ye.weekYear=getSetWeekYear,Ye.isoWeekYear=getSetISOWeekYear,Ye.quarter=Ye.quarters=getSetQuarter,Ye.month=getSetMonth,Ye.daysInMonth=getDaysInMonth,Ye.week=Ye.weeks=getSetWeek,Ye.isoWeek=Ye.isoWeeks=getSetISOWeek,Ye.weeksInYear=getWeeksInYear,Ye.isoWeeksInYear=getISOWeeksInYear,Ye.date=Ie,Ye.day=Ye.days=getSetDayOfWeek,Ye.weekday=getSetLocaleDayOfWeek,Ye.isoWeekday=getSetISODayOfWeek,Ye.dayOfYear=getSetDayOfYear,Ye.hour=Ye.hours=se,Ye.minute=Ye.minutes=Oe,Ye.second=Ye.seconds=Be,Ye.millisecond=Ye.milliseconds=Fe,Ye.utcOffset=getSetOffset,Ye.utc=setOffsetToUTC,Ye.local=setOffsetToLocal,Ye.parseZone=setOffsetToParsedOffset,Ye.hasAlignedHourOffset=hasAlignedHourOffset,Ye.isDST=isDaylightSavingTime,Ye.isLocal=isLocal,Ye.isUtcOffset=isUtcOffset,Ye.isUtc=isUtc,Ye.isUTC=isUtc,Ye.zoneAbbr=getZoneAbbr,Ye.zoneName=getZoneName,Ye.dates=deprecate("dates accessor is deprecated. Use date instead.",Ie),Ye.months=deprecate("months accessor is deprecated. Use month instead",getSetMonth),Ye.years=deprecate("years accessor is deprecated. Use year instead",V),Ye.zone=deprecate("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",getSetZone),Ye.isDSTShifted=deprecate("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",isDaylightSavingTimeShifted);var Ue=Locale.prototype;function get$1(e,t,i,n){var r=getLocale();var a=createUTC().set(n,t);return r[i](a,e)}function listMonthsImpl(e,t,i){if(isNumber(e)){t=e;e=undefined}e=e||"";if(t!=null){return get$1(e,t,i,"month")}var n;var r=[];for(n=0;n<12;n++){r[n]=get$1(e,n,i,"month")}return r}function listWeekdaysImpl(e,t,i,n){if(typeof e==="boolean"){if(isNumber(t)){i=t;t=undefined}t=t||""}else{t=e;i=t;e=false;if(isNumber(t)){i=t;t=undefined}t=t||""}var r=getLocale(),a=e?r._week.dow:0;if(i!=null){return get$1(t,(i+a)%7,n,"day")}var o;var s=[];for(o=0;o<7;o++){s[o]=get$1(t,(o+a)%7,n,"day")}return s}function listMonths(e,t){return listMonthsImpl(e,t,"months")}function listMonthsShort(e,t){return listMonthsImpl(e,t,"monthsShort")}function listWeekdays(e,t,i){return listWeekdaysImpl(e,t,i,"weekdays")}function listWeekdaysShort(e,t,i){return listWeekdaysImpl(e,t,i,"weekdaysShort")}function listWeekdaysMin(e,t,i){return listWeekdaysImpl(e,t,i,"weekdaysMin")}Ue.calendar=calendar,Ue.longDateFormat=longDateFormat,Ue.invalidDate=invalidDate,Ue.ordinal=ordinal,Ue.preparse=preParsePostFormat,Ue.postformat=preParsePostFormat,Ue.relativeTime=relativeTime,Ue.pastFuture=pastFuture,Ue.set=set,Ue.months=localeMonths,Ue.monthsShort=localeMonthsShort,Ue.monthsParse=localeMonthsParse,Ue.monthsRegex=monthsRegex,Ue.monthsShortRegex=monthsShortRegex,Ue.week=localeWeek,Ue.firstDayOfYear=localeFirstDayOfYear,Ue.firstDayOfWeek=localeFirstDayOfWeek,Ue.weekdays=localeWeekdays,Ue.weekdaysMin=localeWeekdaysMin,Ue.weekdaysShort=localeWeekdaysShort,Ue.weekdaysParse=localeWeekdaysParse,Ue.weekdaysRegex=weekdaysRegex,Ue.weekdaysShortRegex=weekdaysShortRegex,Ue.weekdaysMinRegex=weekdaysMinRegex,Ue.isPM=localeIsPM,Ue.meridiem=localeMeridiem,getSetGlobalLocale("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function ordinal(e){var t=e%10,i=toInt(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+i}}),hooks.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",getSetGlobalLocale),hooks.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",getLocale);var je=Math.abs;function abs(){var e=this._data;return this._milliseconds=je(this._milliseconds),this._days=je(this._days),this._months=je(this._months),e.milliseconds=je(e.milliseconds),e.seconds=je(e.seconds),e.minutes=je(e.minutes),e.hours=je(e.hours),e.months=je(e.months),e.years=je(e.years),this}function addSubtract$1(e,t,i,n){var r=createDuration(t,i);e._milliseconds+=n*r._milliseconds;e._days+=n*r._days;e._months+=n*r._months;return e._bubble()}function add$1(e,t){return addSubtract$1(this,e,t,1)}function subtract$1(e,t){return addSubtract$1(this,e,t,-1)}function absCeil(e){if(e<0){return Math.floor(e)}else{return Math.ceil(e)}}function bubble(){var e,t,i,n,r,a=this._milliseconds,o=this._days,s=this._months,l=this._data;if(!(0<=a&&0<=o&&0<=s||a<=0&&o<=0&&s<=0))a+=864e5*absCeil(monthsToDays(s)+o),s=o=0;return l.milliseconds=a%1e3,e=absFloor(a/1e3),l.seconds=e%60,t=absFloor(e/60),l.minutes=t%60,i=absFloor(t/60),l.hours=i%24,o+=absFloor(i/24),r=absFloor(daysToMonths(o)),s+=r,o-=absCeil(monthsToDays(r)),n=absFloor(s/12),s%=12,l.days=o,l.months=s,l.years=n,this}function daysToMonths(e){return e*4800/146097}function monthsToDays(e){return e*146097/4800}function as(e){if(!this.isValid())return NaN;var t,i,n=this._milliseconds;if("month"===(e=normalizeUnits(e))||"quarter"===e||"year"===e)switch(t=this._days+n/864e5,i=this._months+daysToMonths(t),e){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(t=this._days+Math.round(monthsToDays(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}}function valueOf$1(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12):NaN}function makeAs(e){return function(){return this.as(e)}}var ze=makeAs("ms"),Ge=makeAs("s"),He=makeAs("m"),We=makeAs("h"),Ve=makeAs("d"),qe=makeAs("w"),Xe=makeAs("M"),Ke=makeAs("Q"),Je=makeAs("y");function clone$1(){return createDuration(this)}function get$2(e){return e=normalizeUnits(e),this.isValid()?this[e+"s"]():NaN}function makeGetter(e){return function(){return this.isValid()?this._data[e]:NaN}}var Ze=makeGetter("milliseconds"),Qe=makeGetter("seconds"),$e=makeGetter("minutes"),et=makeGetter("hours"),tt=makeGetter("days"),it=makeGetter("months"),nt=makeGetter("years");function weeks(){return absFloor(this.days()/7)}var rt=Math.round,at={ss:44,s:45,m:45,h:22,d:26,M:11};function substituteTimeAgo(e,t,i,n,r){return r.relativeTime(t||1,!!i,e,n)}function relativeTime$1(e,t,i){var n=createDuration(e).abs(),r=rt(n.as("s")),a=rt(n.as("m")),o=rt(n.as("h")),s=rt(n.as("d")),l=rt(n.as("M")),u=rt(n.as("y")),h=(r<=at.ss?["s",r]:r<at.s&&["ss",r])||a<=1&&["m"]||a<at.m&&["mm",a]||o<=1&&["h"]||o<at.h&&["hh",o]||s<=1&&["d"]||s<at.d&&["dd",s]||l<=1&&["M"]||l<at.M&&["MM",l]||u<=1&&["y"]||["yy",u];return h[2]=t,h[3]=0<+e,h[4]=i,function(e,t,i,n,r){return r.relativeTime(t||1,!!i,e,n)}.apply(null,h)}function getSetRelativeTimeRounding(e){return void 0!==e?"function"==typeof e&&(rt=e,!0):rt}function getSetRelativeTimeThreshold(e,t){if(void 0===at[e])return!1;if(void 0===t)return at[e];if(at[e]=t,"s"===e)at.ss=t-1;return!0}function humanize(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),i=function(e,t,i){var n=createDuration(e).abs(),r=rt(n.as("s")),a=rt(n.as("m")),o=rt(n.as("h")),s=rt(n.as("d")),l=rt(n.as("M")),u=rt(n.as("y")),h=(r<=at.ss?["s",r]:r<at.s&&["ss",r])||a<=1&&["m"]||a<at.m&&["mm",a]||o<=1&&["h"]||o<at.h&&["hh",o]||s<=1&&["d"]||s<at.d&&["dd",s]||l<=1&&["M"]||l<at.M&&["MM",l]||u<=1&&["y"]||["yy",u];return h[2]=t,h[3]=0<+e,h[4]=i,function(e,t,i,n,r){return r.relativeTime(t||1,!!i,e,n)}.apply(null,h)}(this,!e,t);if(e)i=t.pastFuture(+this,i);return t.postformat(i)}var ot=Math.abs;function sign(e){return(e>0)-(e<0)||+e}function toISOString$1(){if(!this.isValid()){return this.localeData().invalidDate()}var e=ot(this._milliseconds)/1e3;var t=ot(this._days);var i=ot(this._months);var n,r,a;n=absFloor(e/60);r=absFloor(n/60);e%=60;n%=60;a=absFloor(i/12);i%=12;var o=a;var s=i;var l=t;var u=r;var h=n;var d=e?e.toFixed(3).replace(/\.?0+$/,""):"";var c=this.asSeconds();if(!c){return"P0D"}var p=c<0?"-":"";var f=sign(this._months)!==sign(c)?"-":"";var m=sign(this._days)!==sign(c)?"-":"";var _=sign(this._milliseconds)!==sign(c)?"-":"";return p+"P"+(o?f+o+"Y":"")+(s?f+s+"M":"")+(l?m+l+"D":"")+(u||h||d?"T":"")+(u?_+u+"H":"")+(h?_+h+"M":"")+(d?_+d+"S":"")}var st=Duration.prototype;return st.isValid=function(){return this._isValid},st.abs=function(){var e=this._data;return this._milliseconds=je(this._milliseconds),this._days=je(this._days),this._months=je(this._months),e.milliseconds=je(e.milliseconds),e.seconds=je(e.seconds),e.minutes=je(e.minutes),e.hours=je(e.hours),e.months=je(e.months),e.years=je(e.years),this},st.add=function(e,t){return addSubtract$1(this,e,t,1)},st.subtract=function(e,t){return addSubtract$1(this,e,t,-1)},st.as=function(e){if(!this.isValid())return NaN;var t,i,n=this._milliseconds;if("month"===(e=normalizeUnits(e))||"quarter"===e||"year"===e)switch(t=this._days+n/864e5,i=this._months+daysToMonths(t),e){case"month":return i;case"quarter":return i/3;case"year":return i/12}else switch(t=this._days+Math.round(monthsToDays(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}},st.asMilliseconds=ze,st.asSeconds=Ge,st.asMinutes=He,st.asHours=We,st.asDays=Ve,st.asWeeks=qe,st.asMonths=Xe,st.asQuarters=Ke,st.asYears=Je,st.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12):NaN},st._bubble=function(){var e,t,i,n,r,a=this._milliseconds,o=this._days,s=this._months,l=this._data;0<=a&&0<=o&&0<=s||a<=0&&o<=0&&s<=0||(a+=864e5*absCeil(monthsToDays(s)+o),s=o=0);return l.milliseconds=a%1e3,e=absFloor(a/1e3),l.seconds=e%60,t=absFloor(e/60),l.minutes=t%60,i=absFloor(t/60),l.hours=i%24,o+=absFloor(i/24),r=absFloor(daysToMonths(o)),s+=r,o-=absCeil(monthsToDays(r)),n=absFloor(s/12),s%=12,l.days=o,l.months=s,l.years=n,this},st.clone=function(){return createDuration(this)},st.get=function(e){return e=normalizeUnits(e),this.isValid()?this[e+"s"]():NaN},st.milliseconds=Ze,st.seconds=Qe,st.minutes=$e,st.hours=et,st.days=tt,st.weeks=function(){return absFloor(this.days()/7)},st.months=it,st.years=nt,st.humanize=function(e){if(!this.isValid())return this.localeData().invalidDate();var t=this.localeData(),i=function(e,t,i){var n=createDuration(e).abs(),r=rt(n.as("s")),a=rt(n.as("m")),o=rt(n.as("h")),s=rt(n.as("d")),l=rt(n.as("M")),u=rt(n.as("y")),h=(r<=at.ss?["s",r]:r<at.s&&["ss",r])||a<=1&&["m"]||a<at.m&&["mm",a]||o<=1&&["h"]||o<at.h&&["hh",o]||s<=1&&["d"]||s<at.d&&["dd",s]||l<=1&&["M"]||l<at.M&&["MM",l]||u<=1&&["y"]||["yy",u];return h[2]=t,h[3]=0<+e,h[4]=i,function(e,t,i,n,r){return r.relativeTime(t||1,!!i,e,n)}.apply(null,h)}(this,!e,t);e&&(i=t.pastFuture(+this,i));return t.postformat(i)},st.toISOString=toISOString$1,st.toString=toISOString$1,st.toJSON=toISOString$1,st.locale=locale,st.localeData=localeData,st.toIsoString=deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",toISOString$1),st.lang=Ae,addFormatToken("X",0,0,"unix"),addFormatToken("x",0,0,"valueOf"),addRegexToken("x",P),addRegexToken("X",/[+-]?\d+(\.\d{1,3})?/),addParseToken("X",function(e,t,i){i._d=new Date(1e3*parseFloat(e,10))}),addParseToken("x",function(e,t,i){i._d=new Date(toInt(e))}),hooks.version="2.24.0",function(e){t=e}(createLocal),hooks.fn=Ye,hooks.min=function(){return pickBy("isBefore",[].slice.call(arguments,0))},hooks.max=function(){return pickBy("isAfter",[].slice.call(arguments,0))},hooks.now=function now(){return Date.now?Date.now():+new Date},hooks.utc=createUTC,hooks.unix=function(e){return createLocal(1e3*e)},hooks.months=function(e,t){return listMonthsImpl(e,t,"months")},hooks.isDate=isDate,hooks.locale=getSetGlobalLocale,hooks.invalid=createInvalid,hooks.duration=createDuration,hooks.isMoment=isMoment,hooks.weekdays=function(e,t,i){return listWeekdaysImpl(e,t,i,"weekdays")},hooks.parseZone=function(){return createLocal.apply(null,arguments).parseZone()},hooks.localeData=getLocale,hooks.isDuration=isDuration,hooks.monthsShort=function(e,t){return listMonthsImpl(e,t,"monthsShort")},hooks.weekdaysMin=function(e,t,i){return listWeekdaysImpl(e,t,i,"weekdaysMin")},hooks.defineLocale=defineLocale,hooks.updateLocale=function(e,t){if(null!=t){var i,n,r=le;null!=(n=loadLocale(e))&&(r=n._config),t=mergeConfigs(r,t),(i=new Locale(t)).parentLocale=ue[e],ue[e]=i,getSetGlobalLocale(e)}else null!=ue[e]&&(null!=ue[e].parentLocale?ue[e]=ue[e].parentLocale:null!=ue[e]&&delete ue[e]);return ue[e]},hooks.locales=function(){return e(ue)},hooks.weekdaysShort=function(e,t,i){return listWeekdaysImpl(e,t,i,"weekdaysShort")},hooks.normalizeUnits=normalizeUnits,hooks.relativeTimeRounding=function(e){return void 0!==e?"function"==typeof e&&(rt=e,!0):rt},hooks.relativeTimeThreshold=function(e,t){if(void 0===at[e])return!1;if(void 0===t)return at[e];at[e]=t,"s"===e&&(at.ss=t-1);return!0},hooks.calendarFormat=function(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"},hooks.prototype=Ye,hooks.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},hooks}()}).call(this,ht(65)(e))},function(e,t,i){"use strict";function Zlb(e,t,i){var n,r,a,o,s=e&Zlb.F,l=e&Zlb.G,u=e&Zlb.P,h=e&Zlb.B,d=l?f:e&Zlb.S?f[t]||(f[t]={}):(f[t]||{})[y],c=l?m:m[t]||(m[t]={}),p=c[y]||(c[y]={});for(n in l&&(i=t),i)a=((r=!s&&d&&void 0!==d[n])?d:i)[n],o=h&&r?v(a,f):u&&"function"==typeof a?v(Function.call,a):a,d&&g(d,n,a,e&Zlb.U),c[n]!=a&&_(c,n,o),u&&p[n]!=a&&(p[n]=a)}var f=i(7),m=i(22),_=i(38),g=i(34),v=i(42),y="prototype";f.core=m,Zlb.F=1,Zlb.G=2,Zlb.S=4,Zlb.P=8,Zlb.B=16,Zlb.W=32,Zlb.U=64,Zlb.R=128,e.exports=Zlb},function(t,i,n){"use strict";var r;
/** @license
 * JS Signals <http://millermedeiros.github.com/js-signals/>
 * Released under the MIT license
 * Author: Miller Medeiros
 * Version: 1.0.0 - Build: 268 (2012/11/29 05:48 PM)
 */
!function(){function SignalBinding(e,t,i,n,r){this._listener=t,this._isOnce=i,this.context=n,this._signal=e,this._priority=r||0}function validateListener(e,t){if("function"!=typeof e)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",t))}function Signal(){this._bindings=[],this._prevParams=null;var e=this;this.dispatch=function(){Signal.prototype.dispatch.apply(e,arguments)}}Signal.prototype={VERSION:"1.0.0",memorize:!(SignalBinding.prototype={active:!0,params:null,execute:function(e){var t,i;return this.active&&this._listener&&(i=this.params?this.params.concat(e):e,t=this._listener.apply(this.context,i),this._isOnce&&this.detach()),t},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}}),_shouldPropagate:!0,active:!0,_registerListener:function(e,t,i,n){var r,a=this._indexOfListener(e,i);if(-1!==a){if((r=this._bindings[a]).isOnce()!==t)throw new Error("You cannot add"+(t?"":"Once")+"() then add"+(t?"Once":"")+"() the same listener without removing the relationship first.")}else r=new SignalBinding(this,e,t,i,n),this._addBinding(r);return this.memorize&&this._prevParams&&r.execute(this._prevParams),r},_addBinding:function(e){for(var t=this._bindings.length;--t,this._bindings[t]&&e._priority<=this._bindings[t]._priority;);this._bindings.splice(t+1,0,e)},_indexOfListener:function(e,t){for(var i,n=this._bindings.length;n--;)if((i=this._bindings[n])._listener===e&&i.context===t)return n;return-1},has:function(e,t){return-1!==this._indexOfListener(e,t)},add:function(e,t,i){return validateListener(e,"add"),this._registerListener(e,!1,t,i)},addOnce:function(e,t,i){return validateListener(e,"addOnce"),this._registerListener(e,!0,t,i)},remove:function(e,t){validateListener(e,"remove");var i=this._indexOfListener(e,t);return-1!==i&&(this._bindings[i]._destroy(),this._bindings.splice(i,1)),e},removeAll:function(){for(var e=this._bindings.length;e--;)this._bindings[e]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(e){if(this.active){var t,i=Array.prototype.slice.call(arguments),n=this._bindings.length;if(this.memorize&&(this._prevParams=i),n)for(t=this._bindings.slice(),this._shouldPropagate=!0;t[--n]&&this._shouldPropagate&&!1!==t[n].execute(i););}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var e=Signal;e.Signal=Signal,void 0===(r=function(){return e}.call(i,n,i,t))||(t.exports=r)}()},function(e,t,r){"use strict";var i;void 0===(i=function(e,t,i){function mnb(){this.onUpdate=new n,this.updateBind=this.update.bind(this),this.active=!1,this.deltaTime=1,this.timeElapsed=0,this.lastTime=0,this.speed=1}var n=r(3);mnb.prototype.start=function(){this.active||(this.active=!0,requestAnimationFrame(this.updateBind))},mnb.prototype.stop=function(){this.active&&(this.active=!1)},mnb.prototype.update=function(){if(this.active){requestAnimationFrame(this.updateBind);var e=(new Date).getTime(),t=e-this.lastTime;100<t&&(t=100),this.deltaTime=.06*t,this.deltaTime*=this.speed,this.onUpdate.dispatch(this.deltaTime),this.lastTime=e}},mnb.prototype.add=function(e,t){this.onUpdate.add(e,t)},mnb.prototype.remove=function(e,t){this.onUpdate.remove(e,t)},mnb.instance=new mnb,mnb.game=new mnb,i.exports=mnb}.call(t,r,t,e))||(e.exports=i)},function(e,t,i){"use strict";var n=i(32).CharacterData,r=(i(6),new function(){var e=n;this.teamA=[e.robin,e.starfire,e.cyborg],window.URLParams.player1&&e[window.URLParams.player1]&&(this.teamA[0]=e[window.URLParams.player1]),window.URLParams.player2&&e[window.URLParams.player2]&&(this.teamA[1]=e[window.URLParams.player2]),window.URLParams.player3&&e[window.URLParams.player3]&&(this.teamA[2]=e[window.URLParams.player3]),this.teamB=[e.mojo,e.bubbles,e.ben10],window.URLParams.opponent&&e[window.URLParams.opponent]&&(this.teamB[0]=e[window.URLParams.opponent]),this.leftOverPlayers=[],this.coins=0,this.unlocked=[],this.autoSwitch=!0,this.isMuted=!1,this.isTournament=!1,this.countryID=null,this.opponentID=null,this.tournamentData={quarter:[],semi:[],final:[],winner:[]},this.difficulty=1,this.matchResult={goalsA:-1,goalsB:-1},this.reset=function(){var e=n;for(var t in this.teamA=[e.robin,e.starfire,e.cyborg],this.teamB=[e.mojo,e.bubbles,e.ben10],this.leftOverPlayers=[],e)e[t].selected=!1;this.opponentID=null,this.tournamentData={quarter:[],semi:[],final:[],winner:[]},this.matchResult={goalsA:-1,goalsB:-1},this.difficulty=1}});window.gameSession=r,e.exports=r},function(e,t,i){"use strict";e.exports={BREADCRUMB:{HEIGHT:80},COUNTRY_SELECT:{MARGIN:25},PLAYER_CARD:{WIDTH:306,SPACING:20,OFFSET:60,HEIGHT:400,PADDING:10},BALL_PICKER:{BALL_WIDTH:127,BALL_SPACING:35,CONTAINER_OFFSET:0},MARGIN:{TITLE_TOP:69},UNLOCKABLES:{PRICE:50},SCREEN_ID:{TITLE:"TITLE",INSTRUCTIONS:"INSTRUCTIONS",COUNTRY_SELECT:"COUNTRY_SELECT",REGION_SELECT:"REGION_SELECT",CAPTAIN_SELECT:"CAPTAIN_SELECT",PLAYER_SELECT:"PLAYER_SELECT",PLAYER_SELECT_2:"PLAYER_SELECT_2",TEAM_REVIEW:"TEAM_REVIEW",TEAM_SELECT:"TEAM_SELECT",TOURNAMENT:"TOURNAMENT",GAME:"GAME",GAMEOVER:"GAMEOVER",SUCCEED:"SUCCEED",FAIL:"FAIL",LEADERBOARD:"LEADERBOARD",UNLOCKABLES:"UNLOCKABLES",CHARACTERS:"CHARACTERS",STADIUMS:"STADIUMS",STATS:"STATS",BALLS:"BALLS",INTRO:"INTRO",LANGUAGE:"LANGUAGE",CHALLENGES:"CHALLENGES"},OVERLAY_ID:{INSTRUCTIONS:"INSTRUCTIONS",PAUSE:"PAUSE",QUIT:"QUIT",EMPTY:"EMPTY",SKIP:"SKIP",LANGUAGE:"LANGUAGE",SETTINGS:"SETTINGS"},MESSAGE_ID:{VS:"VS",WHISTLE:"WHISTLE",GOAL:"GOAL",SCORE:"SCORE",POWERUP:"POWERUP"},DATA_MIGRATION_VERSION:2}},function(e,t,i){"use strict";var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,i){"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,i){"use strict";var n=i(10);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,i){"use strict";e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";var i;void 0===(i=function(e,t,i){function hob(e,t,i){var n=this;t=t||{},i||(t.padding=20),"ar"===window.LANGUAGE&&(t.letterSpacing=0),r.Text.call(this,"",t),this.maxWidth=t.maxWidth||0,this.maxHeight=t.maxHeight||0,this.upperCase=t.upperCase||!1,window.app.onLanguageChange.add(this.onLanguageChange,this),this.onTextRetrieved=new o,this.onTextRetrieved.add(function(e){n.applyText(e)}),this.setText(e)}var r=n(0),a=n(29),o=n(3);(hob.prototype=Object.create(r.Text.prototype)).setText=function(e,t){this.id=e,this.id?(this.upperCase=t||this.upperCase,this.onLanguageChange()):this.text=""},hob.prototype.onLanguageChange=function(){if(this.id){if("ar"===window.LANGUAGE&&(this.style.letterSpacing=0),"th"===window.LANGUAGE?(void 0===this.originalSize&&(this.originalSize=this.style.fontSize),this.style.fontSize=this.originalSize+2):"number"==typeof this.originalSize&&(this.style.fontSize=this.originalSize),"string"==typeof this.id)e=(e=translations[this.id])||this.id;else for(var e="",t=0;t<this.id.length;t++){var i=this.id[t],n=translations[i]||i;if("\n"===n)" "===e.substr(e.length-1)&&(e=e.substr(0,e.length-1));e+=n,t<this.id.length-1&&"\n"!==n&&"ar"!==window.LANGUAGE&&"no"!==window.LANGUAGE&&(e+=" ")}this.onTextRetrieved.dispatch(e)}},hob.prototype.applyText=function(e){this.upperCase&&(e=e.toLocaleUpperCase("tr"===window.LANGUAGE?"TR":"en-US")),"ar"===window.LANGUAGE&&(e+="");var t=!1;if(this.maxWidth&&(a.fitText(this,this.maxWidth,e,"w"),this.scale.x<1&&(t=!0)),this.maxHeight&&!t?a.fitText(this,this.maxHeight,e,"h"):this.text=e,this.style.fontFamily=window.MAIN_FONT,window.URLParams.debugLang){if(!this.maxWidth&&!this.maxHeight)return;this.debugRect||(this.debugRect=new r.Graphics,this.maxWidth?this.debugRect.beginFill(16711680,.5):this.maxHeight&&this.debugRect.beginFill(65280,.5),this.addChild(this.debugRect)),this.debugRect.clear();var i=this.maxWidth||200,n=this.maxHeight||50;this.debugRect.drawRect(0,0,i,n),this.debugRect.scale.set(1/this.scale.x),this.debugRect.x=-this.debugRect.width/2,this.debugRect.y=-this.debugRect.height/2}},i.exports=hob}.call(t,n,t,e))||(e.exports=i)},function(e,t,i){"use strict";var n,r,a,o,s,l,u,h,d,c,p,f,m,_,g,y,b,w,x,T,S,M,L,E,C,A,P,D,R,k,I,O,B,N,F,Y,U,j,z,G,H,W,V,q,X,K,J,Z,Q,$,ee,te,ie,ne,re,ae,oe,se,le,ue,he,de,ce,pe,fe,me,_e,ge,ve,ye,be,we,xe,Te,Se,Me,Le,Ee,Ce,Ae,Pe,De,Re,ke,Ie,Oe,Be,Ne,Fe,Ye,Ue,je,ze,Ge,He,We,Ve,qe,Xe,Ke,Je,Ze,Qe,$e,et,tt,it,nt,rt,at,ot,st,lt,ut,ht,dt,ct,pt,ft,mt,_t,gt,vt,yt,bt,wt,xt,Tt,St,Mt,Lt,Et,Ct,At,Pt,Dt,Rt,kt,It,Ot,Bt,Nt,Ft,Yt,Ut,jt,zt,Gt,Ht,Wt,Vt,qt,Xt,Kt,Jt,Zt,Qt,$t,ei,ti,ii,ni,ri,ai,oi,si,li,ui,hi,di,ci,pi,fi,mi,_i,gi,vi,yi,bi,wi,xi,Ti={REVISION:"75"};function hue2rgb(e,t,i){return i<0&&(i+=1),1<i&&--i,i<1/6?e+6*(t-e)*i:i<.5?t:i<2/3?e+6*(t-e)*(2/3-i):e}function ascSort(e,t){return e.distance-t.distance}function _intersectObject(e,t,i,n){if(!1!==e.visible&&(e.raycast(t,i),!0===n))for(var r=e.children,a=0,o=r.length;a<o;a++)_intersectObject(r[a],t,i,!0)}function uvIntersection(e,t,i,n,r,a,o){return Ti.Triangle.barycoordFromPoint(e,t,i,n,Ft),r.multiplyScalar(Ft.x),a.multiplyScalar(Ft.y),o.multiplyScalar(Ft.z),r.add(a).add(o),r.clone()}function checkIntersection(e,t,i,n,r,a,o){var s=e.material;if(null===(s.side===Ti.BackSide?i.intersectTriangle(a,r,n,!0,o):i.intersectTriangle(n,r,a,s.side!==Ti.DoubleSide,o)))return null;Ut.copy(o),Ut.applyMatrix4(e.matrixWorld);var l=t.ray.origin.distanceTo(Ut);return l<t.near||l>t.far?null:{distance:l,point:Ut.clone(),object:e}}function checkBufferGeometryIntersection(e,t,i,n,r,a,o,s){At.fromArray(n,3*a),Pt.fromArray(n,3*o),Dt.fromArray(n,3*s);var l=checkIntersection(e,t,i,At,Pt,Dt,Yt);return l&&(r&&(Ot.fromArray(r,2*a),Bt.fromArray(r,2*o),Nt.fromArray(r,2*s),l.uv=uvIntersection(Yt,At,Pt,Dt,Ot,Bt,Nt)),l.face=new Ti.Face3(a,o,s,Ti.Triangle.normal(At,Pt,Dt)),l.faceIndex=a),l}function getEncodingComponents(e){switch(e){case Ti.LinearEncoding:return["Linear","( value )"];case Ti.sRGBEncoding:return["sRGB","( value )"];case Ti.RGBEEncoding:return["RGBE","( value )"];case Ti.RGBM7Encoding:return["RGBM","( value, 7.0 )"];case Ti.RGBM16Encoding:return["RGBM","( value, 16.0 )"];case Ti.RGBDEncoding:return["RGBD","( value, 256.0 )"];case Ti.GammaEncoding:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+e)}}function getTexelDecodingFunction(e,t){var i=getEncodingComponents(t);return"vec4 "+e+"( vec4 value ) { return "+i[0]+"ToLinear"+i[1]+"; }"}function filterEmptyLine(e){return""!==e}function replaceLightNums(e,t){return e.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights)}function parseIncludes(e){return e.replace(/#include +<([\w\d.]+)>/g,function(e,t){var i=Ti.ShaderChunk[t];if(void 0===i)throw new Error("Can not resolve #include <"+t+">");return parseIncludes(i)})}function unrollLoops(e){return e.replace(/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(e,t,i,n){for(var r="",a=parseInt(t);a<parseInt(i);a++)r+=n.replace(/\[ i \]/g,"[ "+a+" ]");return r})}function snip(e,t,i,n,r,a){var o,s,l,u,h,d,c,p,f;if(s=e[a[t]].x,l=e[a[t]].y,u=e[a[i]].x,h=e[a[i]].y,d=e[a[n]].x,c=e[a[n]].y,!(Number.EPSILON>(u-s)*(c-l)-(h-l)*(d-s))){var m,_,g,v,y,b,w,x;for(m=d-u,_=c-h,g=s-d,v=l-c,y=u-s,b=h-l,o=0;o<r;o++)if(p=e[a[o]].x,f=e[a[o]].y,!(p===s&&f===l||p===u&&f===h||p===d&&f===c)&&(w=y*(f-l)-b*(p-s),x=g*(f-c)-v*(p-d),m*(f-h)-_*(p-u)>=-Number.EPSILON&&x>=-Number.EPSILON&&w>=-Number.EPSILON))return;return 1}}function CubicPoly(){}function setPoint(e,t,i,n){ui.set(t,i,n).unproject(hi);var r=li[e];if(void 0!==r)for(var a=0,o=r.length;a<o;a++)si.vertices[r[a]].copy(ui)}void 0===(r="function"==typeof(n=Ti)?n.call(t,i,t,e):n)||(e.exports=r),void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Math.sign&&(Math.sign=function(e){return e<0?-1:0<e?1:+e}),void 0===Function.prototype.name&&void 0!==Object.defineProperty&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]}}),void 0===Object.assign&&Object.defineProperty(Object,"assign",{writable:!0,configurable:!0,value:function(e){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var t=Object(e),i=1,n=arguments.length;i!==n;++i){var r=arguments[i];if(null!=r){r=Object(r);for(var a=Object.keys(r),o=0,s=a.length;o!==s;++o){var l=a[o],u=Object.getOwnPropertyDescriptor(r,l);void 0!==u&&u.enumerable&&(t[l]=r[l])}}}return t}}),Ti.MOUSE={LEFT:0,MIDDLE:1,RIGHT:2},Ti.CullFaceNone=0,Ti.CullFaceBack=1,Ti.CullFaceFront=2,Ti.CullFaceFrontBack=3,Ti.FrontFaceDirectionCW=0,Ti.FrontFaceDirectionCCW=1,Ti.BasicShadowMap=0,Ti.PCFShadowMap=1,Ti.PCFSoftShadowMap=2,Ti.FrontSide=0,Ti.BackSide=1,Ti.DoubleSide=2,Ti.FlatShading=1,Ti.SmoothShading=2,Ti.NoColors=0,Ti.FaceColors=1,Ti.VertexColors=2,Ti.NoBlending=0,Ti.NormalBlending=1,Ti.AdditiveBlending=2,Ti.SubtractiveBlending=3,Ti.MultiplyBlending=4,Ti.CustomBlending=5,Ti.AddEquation=100,Ti.SubtractEquation=101,Ti.ReverseSubtractEquation=102,Ti.MinEquation=103,Ti.MaxEquation=104,Ti.ZeroFactor=200,Ti.OneFactor=201,Ti.SrcColorFactor=202,Ti.OneMinusSrcColorFactor=203,Ti.SrcAlphaFactor=204,Ti.OneMinusSrcAlphaFactor=205,Ti.DstAlphaFactor=206,Ti.OneMinusDstAlphaFactor=207,Ti.DstColorFactor=208,Ti.OneMinusDstColorFactor=209,Ti.SrcAlphaSaturateFactor=210,Ti.NeverDepth=0,Ti.AlwaysDepth=1,Ti.LessDepth=2,Ti.LessEqualDepth=3,Ti.EqualDepth=4,Ti.GreaterEqualDepth=5,Ti.GreaterDepth=6,Ti.NotEqualDepth=7,Ti.MultiplyOperation=0,Ti.MixOperation=1,Ti.AddOperation=2,Ti.NoToneMapping=0,Ti.LinearToneMapping=1,Ti.ReinhardToneMapping=2,Ti.Uncharted2ToneMapping=3,Ti.CineonToneMapping=4,Ti.UVMapping=300,Ti.CubeReflectionMapping=301,Ti.CubeRefractionMapping=302,Ti.EquirectangularReflectionMapping=303,Ti.EquirectangularRefractionMapping=304,Ti.SphericalReflectionMapping=305,Ti.CubeUVReflectionMapping=306,Ti.CubeUVRefractionMapping=307,Ti.RepeatWrapping=1e3,Ti.ClampToEdgeWrapping=1001,Ti.MirroredRepeatWrapping=1002,Ti.NearestFilter=1003,Ti.NearestMipMapNearestFilter=1004,Ti.NearestMipMapLinearFilter=1005,Ti.LinearFilter=1006,Ti.LinearMipMapNearestFilter=1007,Ti.LinearMipMapLinearFilter=1008,Ti.UnsignedByteType=1009,Ti.ByteType=1010,Ti.ShortType=1011,Ti.UnsignedShortType=1012,Ti.IntType=1013,Ti.UnsignedIntType=1014,Ti.FloatType=1015,Ti.HalfFloatType=1025,Ti.UnsignedShort4444Type=1016,Ti.UnsignedShort5551Type=1017,Ti.UnsignedShort565Type=1018,Ti.AlphaFormat=1019,Ti.RGBFormat=1020,Ti.RGBAFormat=1021,Ti.LuminanceFormat=1022,Ti.LuminanceAlphaFormat=1023,Ti.RGBEFormat=Ti.RGBAFormat,Ti.RGB_S3TC_DXT1_Format=2001,Ti.RGBA_S3TC_DXT1_Format=2002,Ti.RGBA_S3TC_DXT3_Format=2003,Ti.RGBA_S3TC_DXT5_Format=2004,Ti.RGB_PVRTC_4BPPV1_Format=2100,Ti.RGB_PVRTC_2BPPV1_Format=2101,Ti.RGBA_PVRTC_4BPPV1_Format=2102,Ti.RGBA_PVRTC_2BPPV1_Format=2103,Ti.RGB_ETC1_Format=2151,Ti.LoopOnce=2200,Ti.LoopRepeat=2201,Ti.LoopPingPong=2202,Ti.InterpolateDiscrete=2300,Ti.InterpolateLinear=2301,Ti.InterpolateSmooth=2302,Ti.ZeroCurvatureEnding=2400,Ti.ZeroSlopeEnding=2401,Ti.WrapAroundEnding=2402,Ti.TrianglesDrawMode=0,Ti.TriangleStripDrawMode=1,Ti.TriangleFanDrawMode=2,Ti.LinearEncoding=3e3,Ti.sRGBEncoding=3001,Ti.GammaEncoding=3007,Ti.RGBEEncoding=3002,Ti.LogLuvEncoding=3003,Ti.RGBM7Encoding=3004,Ti.RGBM16Encoding=3005,Ti.RGBDEncoding=3006,Ti.Color=function(e){return 3===arguments.length?this.fromArray(arguments):this.set(e)},Ti.Color.prototype={constructor:Ti.Color,r:1,g:1,b:1,set:function(e){return e instanceof Ti.Color?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this},setScalar:function(e){this.r=e,this.g=e,this.b=e},setHex:function(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this},setRGB:function(e,t,i){return this.r=e,this.g=t,this.b=i,this},setHSL:function(e,t,i){if(e=Ti.Math.euclideanModulo(e,1),t=Ti.Math.clamp(t,0,1),i=Ti.Math.clamp(i,0,1),0===t)this.r=this.g=this.b=i;else{var n=i<=.5?i*(1+t):i+t-i*t,r=2*i-n;this.r=hue2rgb(r,n,e+1/3),this.g=hue2rgb(r,n,e),this.b=hue2rgb(r,n,e-1/3)}return this},setStyle:function(e){function handleAlpha(e){void 0!==e&&parseFloat(e)}var t;if(t=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(e)){var i,n=t[1],r=t[2];switch(n){case"rgb":case"rgba":if(i=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r))return this.r=Math.min(255,parseInt(i[1],10))/255,this.g=Math.min(255,parseInt(i[2],10))/255,this.b=Math.min(255,parseInt(i[3],10))/255,handleAlpha(i[5]),this;if(i=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r))return this.r=Math.min(100,parseInt(i[1],10))/100,this.g=Math.min(100,parseInt(i[2],10))/100,this.b=Math.min(100,parseInt(i[3],10))/100,handleAlpha(i[5]),this;break;case"hsl":case"hsla":if(i=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(r)){var a=parseFloat(i[1])/360,o=parseInt(i[2],10)/100,s=parseInt(i[3],10)/100;return handleAlpha(i[5]),this.setHSL(a,o,s)}}}else if(t=/^\#([A-Fa-f0-9]+)$/.exec(e)){var l,u=(l=t[1]).length;if(3===u)return this.r=parseInt(l.charAt(0)+l.charAt(0),16)/255,this.g=parseInt(l.charAt(1)+l.charAt(1),16)/255,this.b=parseInt(l.charAt(2)+l.charAt(2),16)/255,this;if(6===u)return this.r=parseInt(l.charAt(0)+l.charAt(1),16)/255,this.g=parseInt(l.charAt(2)+l.charAt(3),16)/255,this.b=parseInt(l.charAt(4)+l.charAt(5),16)/255,this}e&&0<e.length&&void 0!==(l=Ti.ColorKeywords[e])&&this.setHex(l);return this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(e){return this.r=e.r,this.g=e.g,this.b=e.b,this},copyGammaToLinear:function(e,t){return void 0===t&&(t=2),this.r=Math.pow(e.r,t),this.g=Math.pow(e.g,t),this.b=Math.pow(e.b,t),this},copyLinearToGamma:function(e,t){void 0===t&&(t=2);var i=0<t?1/t:1;return this.r=Math.pow(e.r,i),this.g=Math.pow(e.g,i),this.b=Math.pow(e.b,i),this},convertGammaToLinear:function(){var e=this.r,t=this.g,i=this.b;return this.r=e*e,this.g=t*t,this.b=i*i,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(e){var t,i,n=e||{h:0,s:0,l:0},r=this.r,a=this.g,o=this.b,s=Math.max(r,a,o),l=Math.min(r,a,o),u=(l+s)/2;if(l===s)i=t=0;else{var h=s-l;switch(i=u<=.5?h/(s+l):h/(2-s-l),s){case r:t=(a-o)/h+(a<o?6:0);break;case a:t=(o-r)/h+2;break;case o:t=(r-a)/h+4}t/=6}return n.h=t,n.s=i,n.l=u,n},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(e,t,i){var n=this.getHSL();return n.h+=e,n.s+=t,n.l+=i,this.setHSL(n.h,n.s,n.l),this},add:function(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this},addColors:function(e,t){return this.r=e.r+t.r,this.g=e.g+t.g,this.b=e.b+t.b,this},addScalar:function(e){return this.r+=e,this.g+=e,this.b+=e,this},multiply:function(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this},multiplyScalar:function(e){return this.r*=e,this.g*=e,this.b*=e,this},lerp:function(e,t){return this.r+=(e.r-this.r)*t,this.g+=(e.g-this.g)*t,this.b+=(e.b-this.b)*t,this},equals:function(e){return e.r===this.r&&e.g===this.g&&e.b===this.b},fromArray:function(e,t){return void 0===t&&(t=0),this.r=e[t],this.g=e[t+1],this.b=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.r,e[t+1]=this.g,e[t+2]=this.b,e}},Ti.ColorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},Ti.Quaternion=function(e,t,i,n){this._x=e||0,this._y=t||0,this._z=i||0,this._w=void 0!==n?n:1},Ti.Quaternion.prototype={constructor:Ti.Quaternion,get x(){return this._x},set x(e){this._x=e,this.onChangeCallback()},get y(){return this._y},set y(e){this._y=e,this.onChangeCallback()},get z(){return this._z},set z(e){this._z=e,this.onChangeCallback()},get w(){return this._w},set w(e){this._w=e,this.onChangeCallback()},set:function(e,t,i,n){return this._x=e,this._y=t,this._z=i,this._w=n,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this.onChangeCallback(),this},setFromEuler:function(e,t){if(e instanceof Ti.Euler==!1)throw new Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var i=Math.cos(e._x/2),n=Math.cos(e._y/2),r=Math.cos(e._z/2),a=Math.sin(e._x/2),o=Math.sin(e._y/2),s=Math.sin(e._z/2),l=e.order;return"XYZ"===l?(this._x=a*n*r+i*o*s,this._y=i*o*r-a*n*s,this._z=i*n*s+a*o*r,this._w=i*n*r-a*o*s):"YXZ"===l?(this._x=a*n*r+i*o*s,this._y=i*o*r-a*n*s,this._z=i*n*s-a*o*r,this._w=i*n*r+a*o*s):"ZXY"===l?(this._x=a*n*r-i*o*s,this._y=i*o*r+a*n*s,this._z=i*n*s+a*o*r,this._w=i*n*r-a*o*s):"ZYX"===l?(this._x=a*n*r-i*o*s,this._y=i*o*r+a*n*s,this._z=i*n*s-a*o*r,this._w=i*n*r+a*o*s):"YZX"===l?(this._x=a*n*r+i*o*s,this._y=i*o*r+a*n*s,this._z=i*n*s-a*o*r,this._w=i*n*r-a*o*s):"XZY"===l&&(this._x=a*n*r-i*o*s,this._y=i*o*r-a*n*s,this._z=i*n*s+a*o*r,this._w=i*n*r+a*o*s),!1!==t&&this.onChangeCallback(),this},setFromAxisAngle:function(e,t){var i=t/2,n=Math.sin(i);return this._x=e.x*n,this._y=e.y*n,this._z=e.z*n,this._w=Math.cos(i),this.onChangeCallback(),this},setFromRotationMatrix:function(e){var t,i=e.elements,n=i[0],r=i[4],a=i[8],o=i[1],s=i[5],l=i[9],u=i[2],h=i[6],d=i[10],c=n+s+d;return 0<c?(t=.5/Math.sqrt(c+1),this._w=.25/t,this._x=(h-l)*t,this._y=(a-u)*t,this._z=(o-r)*t):s<n&&d<n?(t=2*Math.sqrt(1+n-s-d),this._w=(h-l)/t,this._x=.25*t,this._y=(r+o)/t,this._z=(a+u)/t):d<s?(t=2*Math.sqrt(1+s-n-d),this._w=(a-u)/t,this._x=(r+o)/t,this._y=.25*t,this._z=(l+h)/t):(t=2*Math.sqrt(1+d-n-s),this._w=(o-r)/t,this._x=(a+u)/t,this._y=(l+h)/t,this._z=.25*t),this.onChangeCallback(),this},setFromUnitVectors:function(e,t){return void 0===a&&(a=new Ti.Vector3),(o=e.dot(t)+1)<1e-6?(o=0,Math.abs(e.x)>Math.abs(e.z)?a.set(-e.y,e.x,0):a.set(0,-e.z,e.y)):a.crossVectors(e,t),this._x=a.x,this._y=a.y,this._z=a.z,this._w=o,this.normalize(),this},inverse:function(){return this.conjugate().normalize(),this},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var e=this.length();return 0===e?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this.onChangeCallback(),this},multiply:function(e,t){return void 0!==t?this.multiplyQuaternions(e,t):this.multiplyQuaternions(this,e)},multiplyQuaternions:function(e,t){var i=e._x,n=e._y,r=e._z,a=e._w,o=t._x,s=t._y,l=t._z,u=t._w;return this._x=i*u+a*o+n*l-r*s,this._y=n*u+a*s+r*o-i*l,this._z=r*u+a*l+i*s-n*o,this._w=a*u-i*o-n*s-r*l,this.onChangeCallback(),this},slerp:function(e,t){if(0===t)return this;if(1===t)return this.copy(e);var i=this._x,n=this._y,r=this._z,a=this._w,o=a*e._w+i*e._x+n*e._y+r*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),1<=o)return this._w=a,this._x=i,this._y=n,this._z=r,this;var s=Math.sqrt(1-o*o);if(Math.abs(s)<.001)return this._w=.5*(a+this._w),this._x=.5*(i+this._x),this._y=.5*(n+this._y),this._z=.5*(r+this._z),this;var l=Math.atan2(s,o),u=Math.sin((1-t)*l)/s,h=Math.sin(t*l)/s;return this._w=a*u+this._w*h,this._x=i*u+this._x*h,this._y=n*u+this._y*h,this._z=r*u+this._z*h,this.onChangeCallback(),this},equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w},fromArray:function(e,t){return void 0===t&&(t=0),this._x=e[t],this._y=e[t+1],this._z=e[t+2],this._w=e[t+3],this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._w,e},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}},Object.assign(Ti.Quaternion,{slerp:function(e,t,i,n){return i.copy(e).slerp(t,n)},slerpFlat:function(e,t,i,n,r,a,o){var s=i[n+0],l=i[n+1],u=i[n+2],h=i[n+3],d=r[a+0],c=r[a+1],p=r[a+2],f=r[a+3];if(h!==f||s!==d||l!==c||u!==p){var m=1-o,_=s*d+l*c+u*p+h*f,g=0<=_?1:-1,v=1-_*_;if(v>Number.EPSILON){var y=Math.sqrt(v),b=Math.atan2(y,_*g);m=Math.sin(m*b)/y,o=Math.sin(o*b)/y}var w=o*g;if(s=s*m+d*w,l=l*m+c*w,u=u*m+p*w,h=h*m+f*w,m===1-o){var x=1/Math.sqrt(s*s+l*l+u*u+h*h);s*=x,l*=x,u*=x,h*=x}}e[t]=s,e[t+1]=l,e[t+2]=u,e[t+3]=h}}),Ti.Vector2=function(e,t){this.x=e||0,this.y=t||0},Ti.Vector2.prototype={constructor:Ti.Vector2,get width(){return this.x},set width(e){this.x=e},get height(){return this.y},set height(e){this.y=e},set:function(e,t){return this.x=e,this.y=t,this},setScalar:function(e){return this.x=e,this.y=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(e){return this.x=e.x,this.y=e.y,this},add:function(e,t){return void 0!==t?this.addVectors(e,t):(this.x+=e.x,this.y+=e.y,this)},addScalar:function(e){return this.x+=e,this.y+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this},sub:function(e,t){return void 0!==t?this.subVectors(e,t):(this.x-=e.x,this.y-=e.y,this)},subScalar:function(e){return this.x-=e,this.y-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this},multiply:function(e){return this.x*=e.x,this.y*=e.y,this},multiplyScalar:function(e){return isFinite(e)?(this.x*=e,this.y*=e):(this.x=0,this.y=0),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this},clampScalar:function(e,t){return void 0===s&&(s=new Ti.Vector2,l=new Ti.Vector2),s.set(e,e),l.set(t,t),this.clamp(s,l)},clampLength:function(e,t){var i=this.length();return this.multiplyScalar(Math.max(e,Math.min(t,i))/i),this},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(e){return this.x*e.x+this.y*e.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length())},angle:function(){var e=Math.atan2(this.y,this.x);return e<0&&(e+=2*Math.PI),e},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,i=this.y-e.y;return t*t+i*i},setLength:function(e){return this.multiplyScalar(e/this.length())},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},lerpVectors:function(e,t,i){return this.subVectors(t,e).multiplyScalar(i).add(e),this},equals:function(e){return e.x===this.x&&e.y===this.y},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e},fromAttribute:function(e,t,i){return void 0===i&&(i=0),t=t*e.itemSize+i,this.x=e.array[t],this.y=e.array[t+1],this},rotateAround:function(e,t){var i=Math.cos(t),n=Math.sin(t),r=this.x-e.x,a=this.y-e.y;return this.x=r*i-a*n+e.x,this.y=r*n+a*i+e.y,this}},Ti.Vector3=function(e,t,i){this.x=e||0,this.y=t||0,this.z=i||0},Ti.Vector3.prototype={constructor:Ti.Vector3,set:function(e,t,i){return this.x=e,this.y=t,this.z=i,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this},add:function(e,t){return void 0!==t?this.addVectors(e,t):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this},sub:function(e,t){return void 0!==t?this.subVectors(e,t):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this},multiply:function(e,t){return void 0!==t?this.multiplyVectors(e,t):(this.x*=e.x,this.y*=e.y,this.z*=e.z,this)},multiplyScalar:function(e){return isFinite(e)?(this.x*=e,this.y*=e,this.z*=e):(this.x=0,this.y=0,this.z=0),this},multiplyVectors:function(e,t){return this.x=e.x*t.x,this.y=e.y*t.y,this.z=e.z*t.z,this},applyEuler:function(e){return Ti.Euler,void 0===y&&(y=new Ti.Quaternion),this.applyQuaternion(y.setFromEuler(e)),this},applyAxisAngle:function(e,t){return void 0===g&&(g=new Ti.Quaternion),this.applyQuaternion(g.setFromAxisAngle(e,t)),this},applyMatrix3:function(e){var t=this.x,i=this.y,n=this.z,r=e.elements;return this.x=r[0]*t+r[3]*i+r[6]*n,this.y=r[1]*t+r[4]*i+r[7]*n,this.z=r[2]*t+r[5]*i+r[8]*n,this},applyMatrix4:function(e){var t=this.x,i=this.y,n=this.z,r=e.elements;return this.x=r[0]*t+r[4]*i+r[8]*n+r[12],this.y=r[1]*t+r[5]*i+r[9]*n+r[13],this.z=r[2]*t+r[6]*i+r[10]*n+r[14],this},applyProjection:function(e){var t=this.x,i=this.y,n=this.z,r=e.elements,a=1/(r[3]*t+r[7]*i+r[11]*n+r[15]);return this.x=(r[0]*t+r[4]*i+r[8]*n+r[12])*a,this.y=(r[1]*t+r[5]*i+r[9]*n+r[13])*a,this.z=(r[2]*t+r[6]*i+r[10]*n+r[14])*a,this},applyQuaternion:function(e){var t=this.x,i=this.y,n=this.z,r=e.x,a=e.y,o=e.z,s=e.w,l=s*t+a*n-o*i,u=s*i+o*t-r*n,h=s*n+r*i-a*t,d=-r*t-a*i-o*n;return this.x=l*s+d*-r+u*-o-h*-a,this.y=u*s+d*-a+h*-r-l*-o,this.z=h*s+d*-o+l*-a-u*-r,this},project:function(e){return void 0===_&&(_=new Ti.Matrix4),_.multiplyMatrices(e.projectionMatrix,_.getInverse(e.matrixWorld)),this.applyProjection(_)},unproject:function(e){return void 0===m&&(m=new Ti.Matrix4),m.multiplyMatrices(e.matrixWorld,m.getInverse(e.projectionMatrix)),this.applyProjection(m)},transformDirection:function(e){var t=this.x,i=this.y,n=this.z,r=e.elements;return this.x=r[0]*t+r[4]*i+r[8]*n,this.y=r[1]*t+r[5]*i+r[9]*n,this.z=r[2]*t+r[6]*i+r[10]*n,this.normalize(),this},divide:function(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this},divideScalar:function(e){return this.multiplyScalar(1/e)},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this},clampScalar:function(e,t){return void 0===p&&(p=new Ti.Vector3,f=new Ti.Vector3),p.set(e,e,e),f.set(t,t,t),this.clamp(p,f)},clampLength:function(e,t){var i=this.length();return this.multiplyScalar(Math.max(e,Math.min(t,i))/i),this},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){return this.multiplyScalar(e/this.length())},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this},lerpVectors:function(e,t,i){return this.subVectors(t,e).multiplyScalar(i).add(e),this},cross:function(e,t){if(void 0!==t)return this.crossVectors(e,t);var i=this.x,n=this.y,r=this.z;return this.x=n*e.z-r*e.y,this.y=r*e.x-i*e.z,this.z=i*e.y-n*e.x,this},crossVectors:function(e,t){var i=e.x,n=e.y,r=e.z,a=t.x,o=t.y,s=t.z;return this.x=n*s-r*o,this.y=r*a-i*s,this.z=i*o-n*a,this},projectOnVector:function(e){return void 0===d&&(d=new Ti.Vector3),d.copy(e).normalize(),c=this.dot(d),this.copy(d).multiplyScalar(c)},projectOnPlane:function(e){return void 0===h&&(h=new Ti.Vector3),h.copy(this).projectOnVector(e),this.sub(h)},reflect:function(e){return void 0===u&&(u=new Ti.Vector3),this.sub(u.copy(e).multiplyScalar(2*this.dot(e)))},angleTo:function(e){var t=this.dot(e)/Math.sqrt(this.lengthSq()*e.lengthSq());return Math.acos(Ti.Math.clamp(t,-1,1))},distanceTo:function(e){return Math.sqrt(this.distanceToSquared(e))},distanceToSquared:function(e){var t=this.x-e.x,i=this.y-e.y,n=this.z-e.z;return t*t+i*i+n*n},setFromSpherical:function(e){var t=Math.sin(e.phi)*e.radius;return this.x=t*Math.sin(e.theta),this.y=Math.cos(e.phi)*e.radius,this.z=t*Math.cos(e.theta),this},setFromMatrixPosition:function(e){return this.setFromMatrixColumn(e,3)},setFromMatrixScale:function(e){var t=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),n=this.setFromMatrixColumn(e,2).length();return this.x=t,this.y=i,this.z=n,this},setFromMatrixColumn:function(e,t){return"number"==typeof e&&(e=arguments[1],t=arguments[0]),this.fromArray(e.elements,4*t)},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e},fromAttribute:function(e,t,i){return void 0===i&&(i=0),t=t*e.itemSize+i,this.x=e.array[t],this.y=e.array[t+1],this.z=e.array[t+2],this}},Ti.Vector4=function(e,t,i,n){this.x=e||0,this.y=t||0,this.z=i||0,this.w=void 0!==n?n:1},Ti.Vector4.prototype={constructor:Ti.Vector4,set:function(e,t,i,n){return this.x=e,this.y=t,this.z=i,this.w=n,this},setScalar:function(e){return this.x=e,this.y=e,this.z=e,this.w=e,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setZ:function(e){return this.z=e,this},setW:function(e){return this.w=e,this},setComponent:function(e,t){switch(e){case 0:this.x=t;break;case 1:this.y=t;break;case 2:this.z=t;break;case 3:this.w=t;break;default:throw new Error("index is out of range: "+e)}},getComponent:function(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=void 0!==e.w?e.w:1,this},add:function(e,t){return void 0!==t?this.addVectors(e,t):(this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this)},addScalar:function(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this},addVectors:function(e,t){return this.x=e.x+t.x,this.y=e.y+t.y,this.z=e.z+t.z,this.w=e.w+t.w,this},addScaledVector:function(e,t){return this.x+=e.x*t,this.y+=e.y*t,this.z+=e.z*t,this.w+=e.w*t,this},sub:function(e,t){return void 0!==t?this.subVectors(e,t):(this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this)},subScalar:function(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this},subVectors:function(e,t){return this.x=e.x-t.x,this.y=e.y-t.y,this.z=e.z-t.z,this.w=e.w-t.w,this},multiplyScalar:function(e){return isFinite(e)?(this.x*=e,this.y*=e,this.z*=e,this.w*=e):(this.x=0,this.y=0,this.z=0,this.w=0),this},applyMatrix4:function(e){var t=this.x,i=this.y,n=this.z,r=this.w,a=e.elements;return this.x=a[0]*t+a[4]*i+a[8]*n+a[12]*r,this.y=a[1]*t+a[5]*i+a[9]*n+a[13]*r,this.z=a[2]*t+a[6]*i+a[10]*n+a[14]*r,this.w=a[3]*t+a[7]*i+a[11]*n+a[15]*r,this},divideScalar:function(e){return this.multiplyScalar(1/e)},setAxisAngleFromQuaternion:function(e){this.w=2*Math.acos(e.w);var t=Math.sqrt(1-e.w*e.w);return t<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/t,this.y=e.y/t,this.z=e.z/t),this},setAxisAngleFromRotationMatrix:function(e){var t,i,n,r,a=e.elements,o=a[0],s=a[4],l=a[8],u=a[1],h=a[5],d=a[9],c=a[2],p=a[6],f=a[10];if(Math.abs(s-u)<.01&&Math.abs(l-c)<.01&&Math.abs(d-p)<.01){if(Math.abs(s+u)<.1&&Math.abs(l+c)<.1&&Math.abs(d+p)<.1&&Math.abs(o+h+f-3)<.1)return this.set(1,0,0,0),this;t=Math.PI;var m=(o+1)/2,_=(h+1)/2,g=(f+1)/2,v=(s+u)/4,y=(l+c)/4,b=(d+p)/4;return _<m&&g<m?r=m<.01?(i=0,n=.707106781):(n=v/(i=Math.sqrt(m)),y/i):g<_?r=_<.01?(n=0,i=.707106781):(i=v/(n=Math.sqrt(_)),b/n):g<.01?(n=i=.707106781,r=0):(i=y/(r=Math.sqrt(g)),n=b/r),this.set(i,n,r,t),this}var w=Math.sqrt((p-d)*(p-d)+(l-c)*(l-c)+(u-s)*(u-s));return Math.abs(w)<.001&&(w=1),this.x=(p-d)/w,this.y=(l-c)/w,this.z=(u-s)/w,this.w=Math.acos((o+h+f-1)/2),this},min:function(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this},max:function(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this},clamp:function(e,t){return this.x=Math.max(e.x,Math.min(t.x,this.x)),this.y=Math.max(e.y,Math.min(t.y,this.y)),this.z=Math.max(e.z,Math.min(t.z,this.z)),this.w=Math.max(e.w,Math.min(t.w,this.w)),this},clampScalar:function(e,t){return void 0===b&&(b=new Ti.Vector4,w=new Ti.Vector4),b.set(e,e,e,e),w.set(t,t,t,t),this.clamp(b,w)},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},lengthManhattan:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length())},setLength:function(e){return this.multiplyScalar(e/this.length())},lerp:function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this.z+=(e.z-this.z)*t,this.w+=(e.w-this.w)*t,this},lerpVectors:function(e,t,i){return this.subVectors(t,e).multiplyScalar(i).add(e),this},equals:function(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w},fromArray:function(e,t){return void 0===t&&(t=0),this.x=e[t],this.y=e[t+1],this.z=e[t+2],this.w=e[t+3],this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this.x,e[t+1]=this.y,e[t+2]=this.z,e[t+3]=this.w,e},fromAttribute:function(e,t,i){return void 0===i&&(i=0),t=t*e.itemSize+i,this.x=e.array[t],this.y=e.array[t+1],this.z=e.array[t+2],this.w=e.array[t+3],this}},Ti.Euler=function(e,t,i,n){this._x=e||0,this._y=t||0,this._z=i||0,this._order=n||Ti.Euler.DefaultOrder},Ti.Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Ti.Euler.DefaultOrder="XYZ",Ti.Euler.prototype={constructor:Ti.Euler,get x(){return this._x},set x(e){this._x=e,this.onChangeCallback()},get y(){return this._y},set y(e){this._y=e,this.onChangeCallback()},get z(){return this._z},set z(e){this._z=e,this.onChangeCallback()},get order(){return this._order},set order(e){this._order=e,this.onChangeCallback()},set:function(e,t,i,n){return this._x=e,this._y=t,this._z=i,this._order=n||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this.onChangeCallback(),this},setFromRotationMatrix:function(e,t,i){var n=Ti.Math.clamp,r=e.elements,a=r[0],o=r[4],s=r[8],l=r[1],u=r[5],h=r[9],d=r[2],c=r[6],p=r[10];return"XYZ"===(t=t||this._order)?(this._y=Math.asin(n(s,-1,1)),Math.abs(s)<.99999?(this._x=Math.atan2(-h,p),this._z=Math.atan2(-o,a)):(this._x=Math.atan2(c,u),this._z=0)):"YXZ"===t?(this._x=Math.asin(-n(h,-1,1)),Math.abs(h)<.99999?(this._y=Math.atan2(s,p),this._z=Math.atan2(l,u)):(this._y=Math.atan2(-d,a),this._z=0)):"ZXY"===t?(this._x=Math.asin(n(c,-1,1)),Math.abs(c)<.99999?(this._y=Math.atan2(-d,p),this._z=Math.atan2(-o,u)):(this._y=0,this._z=Math.atan2(l,a))):"ZYX"===t?(this._y=Math.asin(-n(d,-1,1)),Math.abs(d)<.99999?(this._x=Math.atan2(c,p),this._z=Math.atan2(l,a)):(this._x=0,this._z=Math.atan2(-o,u))):"YZX"===t?(this._z=Math.asin(n(l,-1,1)),Math.abs(l)<.99999?(this._x=Math.atan2(-h,u),this._y=Math.atan2(-d,a)):(this._x=0,this._y=Math.atan2(s,p))):"XZY"===t&&(this._z=Math.asin(-n(o,-1,1)),Math.abs(o)<.99999?(this._x=Math.atan2(c,u),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-h,p),this._y=0)),this._order=t,!1!==i&&this.onChangeCallback(),this},setFromQuaternion:function(e,t,i){return void 0===T&&(T=new Ti.Matrix4),T.makeRotationFromQuaternion(e),this.setFromRotationMatrix(T,t,i),this},setFromVector3:function(e,t){return this.set(e.x,e.y,e.z,t||this._order)},reorder:(x=new Ti.Quaternion,function(e){x.setFromEuler(this),this.setFromQuaternion(x,e)}),equals:function(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order},fromArray:function(e){return this._x=e[0],this._y=e[1],this._z=e[2],void 0!==e[3]&&(this._order=e[3]),this.onChangeCallback(),this},toArray:function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=0),e[t]=this._x,e[t+1]=this._y,e[t+2]=this._z,e[t+3]=this._order,e},toVector3:function(e){return e?e.set(this._x,this._y,this._z):new Ti.Vector3(this._x,this._y,this._z)},onChange:function(e){return this.onChangeCallback=e,this},onChangeCallback:function(){}},Ti.Line3=function(e,t){this.start=void 0!==e?e:new Ti.Vector3,this.end=void 0!==t?t:new Ti.Vector3},Ti.Line3.prototype={constructor:Ti.Line3,set:function(e,t){return this.start.copy(e),this.end.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.start.copy(e.start),this.end.copy(e.end),this},center:function(e){return(e||new Ti.Vector3).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(e){return(e||new Ti.Vector3).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(e,t){var i=t||new Ti.Vector3;return this.delta(i).multiplyScalar(e).add(this.start)},closestPointToPointParameter:(S=new Ti.Vector3,M=new Ti.Vector3,function(e,t){S.subVectors(e,this.start),M.subVectors(this.end,this.start);var i=M.dot(M),n=M.dot(S)/i;return t&&(n=Ti.Math.clamp(n,0,1)),n}),closestPointToPoint:function(e,t,i){var n=this.closestPointToPointParameter(e,t),r=i||new Ti.Vector3;return this.delta(r).multiplyScalar(n).add(this.start)},applyMatrix4:function(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this},equals:function(e){return e.start.equals(this.start)&&e.end.equals(this.end)}},Ti.Box2=function(e,t){this.min=void 0!==e?e:new Ti.Vector2(1/0,1/0),this.max=void 0!==t?t:new Ti.Vector2(-1/0,-1/0)},Ti.Box2.prototype={constructor:Ti.Box2,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromPoints:function(e){this.makeEmpty();for(var t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:(E=new Ti.Vector2,function(e,t){var i=E.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},center:function(e){return(e||new Ti.Vector2).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(e){return(e||new Ti.Vector2).subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y},getParameter:function(e,t){return(t||new Ti.Vector2).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)},clampPoint:function(e,t){return(t||new Ti.Vector2).copy(e).clamp(this.min,this.max)},distanceToPoint:(L=new Ti.Vector2,function(e){return L.copy(e).clamp(this.min,this.max).sub(e).length()}),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},Ti.Box3=function(e,t){this.min=void 0!==e?e:new Ti.Vector3(1/0,1/0,1/0),this.max=void 0!==t?t:new Ti.Vector3(-1/0,-1/0,-1/0)},Ti.Box3.prototype={constructor:Ti.Box3,set:function(e,t){return this.min.copy(e),this.max.copy(t),this},setFromArray:function(e){this.makeEmpty();for(var t=1/0,i=1/0,n=1/0,r=-1/0,a=-1/0,o=-1/0,s=0,l=e.length;s<l;s+=3){var u=e[s],h=e[s+1],d=e[s+2];u<t&&(t=u),h<i&&(i=h),d<n&&(n=d),r<u&&(r=u),a<h&&(a=h),o<d&&(o=d)}this.min.set(t,i,n),this.max.set(r,a,o)},setFromPoints:function(e){this.makeEmpty();for(var t=0,i=e.length;t<i;t++)this.expandByPoint(e[t]);return this},setFromCenterAndSize:(k=new Ti.Vector3,function(e,t){var i=k.copy(t).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}),setFromObject:function(e){void 0===R&&(R=new Ti.Box3);var i=this;return this.makeEmpty(),e.updateMatrixWorld(!0),e.traverse(function(e){var t=e.geometry;void 0!==t&&(null===t.boundingBox&&t.computeBoundingBox(),!1===t.boundingBox.isEmpty()&&(R.copy(t.boundingBox),R.applyMatrix4(e.matrixWorld),i.union(R)))}),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.min.copy(e.min),this.max.copy(e.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},center:function(e){return(e||new Ti.Vector3).addVectors(this.min,this.max).multiplyScalar(.5)},size:function(e){return(e||new Ti.Vector3).subVectors(this.max,this.min)},expandByPoint:function(e){return this.min.min(e),this.max.max(e),this},expandByVector:function(e){return this.min.sub(e),this.max.add(e),this},expandByScalar:function(e){return this.min.addScalar(-e),this.max.addScalar(e),this},containsPoint:function(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)},containsBox:function(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z},getParameter:function(e,t){return(t||new Ti.Vector3).set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)},intersectsSphere:function(e){return void 0===D&&(D=new Ti.Vector3),this.clampPoint(e.center,D),D.distanceToSquared(e.center)<=e.radius*e.radius},intersectsPlane:function(e){var t,i;return i=0<e.normal.x?(t=e.normal.x*this.min.x,e.normal.x*this.max.x):(t=e.normal.x*this.max.x,e.normal.x*this.min.x),0<e.normal.y?(t+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(t+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),0<e.normal.z?(t+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(t+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),t<=e.constant&&i>=e.constant},clampPoint:function(e,t){return(t||new Ti.Vector3).copy(e).clamp(this.min,this.max)},distanceToPoint:(P=new Ti.Vector3,function(e){return P.copy(e).clamp(this.min,this.max).sub(e).length()}),getBoundingSphere:(A=new Ti.Vector3,function(e){var t=e||new Ti.Sphere;return t.center=this.center(),t.radius=.5*this.size(A).length(),t}),intersect:function(e){return this.min.max(e.min),this.max.min(e.max),this},union:function(e){return this.min.min(e.min),this.max.max(e.max),this},applyMatrix4:(C=[new Ti.Vector3,new Ti.Vector3,new Ti.Vector3,new Ti.Vector3,new Ti.Vector3,new Ti.Vector3,new Ti.Vector3,new Ti.Vector3],function(e){return C[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),C[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),C[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),C[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),C[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),C[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),C[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),C[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.makeEmpty(),this.setFromPoints(C),this}),translate:function(e){return this.min.add(e),this.max.add(e),this},equals:function(e){return e.min.equals(this.min)&&e.max.equals(this.max)}},Ti.Matrix3=function(){this.elements=new Float32Array([1,0,0,0,1,0,0,0,1])},Ti.Matrix3.prototype={constructor:Ti.Matrix3,set:function(e,t,i,n,r,a,o,s,l){var u=this.elements;return u[0]=e,u[1]=n,u[2]=o,u[3]=t,u[4]=r,u[5]=s,u[6]=i,u[7]=a,u[8]=l,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(e){var t=e.elements;return this.set(t[0],t[3],t[6],t[1],t[4],t[7],t[2],t[5],t[8]),this},setFromMatrix4:function(e){var t=e.elements;return this.set(t[0],t[4],t[8],t[1],t[5],t[9],t[2],t[6],t[10]),this},applyToVector3Array:function(e,t,i){void 0===O&&(O=new Ti.Vector3),void 0===t&&(t=0),void 0===i&&(i=e.length);for(var n=0,r=t;n<i;n+=3,r+=3)O.fromArray(e,r),O.applyMatrix3(this),O.toArray(e,r);return e},applyToBuffer:function(e,t,i){void 0===I&&(I=new Ti.Vector3),void 0===t&&(t=0),void 0===i&&(i=e.length/e.itemSize);for(var n=0,r=t;n<i;n++,r++)I.x=e.getX(r),I.y=e.getY(r),I.z=e.getZ(r),I.applyMatrix3(this),e.setXYZ(I.x,I.y,I.z);return e},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[3]*=e,t[6]*=e,t[1]*=e,t[4]*=e,t[7]*=e,t[2]*=e,t[5]*=e,t[8]*=e,this},determinant:function(){var e=this.elements,t=e[0],i=e[1],n=e[2],r=e[3],a=e[4],o=e[5],s=e[6],l=e[7],u=e[8];return t*a*u-t*o*l-i*r*u+i*o*s+n*r*l-n*a*s},getInverse:function(e,t){Ti.Matrix4;var i=e.elements,n=this.elements,r=i[0],a=i[1],o=i[2],s=i[3],l=i[4],u=i[5],h=i[6],d=i[7],c=i[8],p=c*l-u*d,f=u*h-c*s,m=d*s-l*h,_=r*p+a*f+o*m;if(0!=_)return n[0]=p,n[1]=o*d-c*a,n[2]=u*a-o*l,n[3]=f,n[4]=c*r-o*h,n[5]=o*s-u*r,n[6]=m,n[7]=a*h-d*r,n[8]=l*r-a*s,this.multiplyScalar(1/_);var g="THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0";if(t)throw new Error(g);return this.identity()},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[3],t[3]=e,e=t[2],t[2]=t[6],t[6]=e,e=t[5],t[5]=t[7],t[7]=e,this},flattenToArrayOffset:function(e,t){var i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e},getNormalMatrix:function(e){return this.setFromMatrix4(e).getInverse(this).transpose()},transposeIntoArray:function(e){var t=this.elements;return e[0]=t[0],e[1]=t[3],e[2]=t[6],e[3]=t[1],e[4]=t[4],e[5]=t[7],e[6]=t[2],e[7]=t[5],e[8]=t[8],this},fromArray:function(e){return this.elements.set(e),this},toArray:function(){var e=this.elements;return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8]]}},Ti.Matrix4=function(){this.elements=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])},Ti.Matrix4.prototype={constructor:Ti.Matrix4,set:function(e,t,i,n,r,a,o,s,l,u,h,d,c,p,f,m){var _=this.elements;return _[0]=e,_[4]=t,_[8]=i,_[12]=n,_[1]=r,_[5]=a,_[9]=o,_[13]=s,_[2]=l,_[6]=u,_[10]=h,_[14]=d,_[3]=c,_[7]=p,_[11]=f,_[15]=m,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new Ti.Matrix4).fromArray(this.elements)},copy:function(e){return this.elements.set(e.elements),this},copyPosition:function(e){var t=this.elements,i=e.elements;return t[12]=i[12],t[13]=i[13],t[14]=i[14],this},extractBasis:function(e,t,i){return e.setFromMatrixColumn(this,0),t.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this},makeBasis:function(e,t,i){return this.set(e.x,t.x,i.x,0,e.y,t.y,i.y,0,e.z,t.z,i.z,0,0,0,0,1),this},extractRotation:function(e){void 0===H&&(H=new Ti.Vector3);var t=this.elements,i=e.elements,n=1/H.setFromMatrixColumn(e,0).length(),r=1/H.setFromMatrixColumn(e,1).length(),a=1/H.setFromMatrixColumn(e,2).length();return t[0]=i[0]*n,t[1]=i[1]*n,t[2]=i[2]*n,t[4]=i[4]*r,t[5]=i[5]*r,t[6]=i[6]*r,t[8]=i[8]*a,t[9]=i[9]*a,t[10]=i[10]*a,this},makeRotationFromEuler:function(e){Ti.Euler;var t=this.elements,i=e.x,n=e.y,r=e.z,a=Math.cos(i),o=Math.sin(i),s=Math.cos(n),l=Math.sin(n),u=Math.cos(r),h=Math.sin(r);if("XYZ"===e.order){var d=a*u,c=a*h,p=o*u,f=o*h;t[0]=s*u,t[4]=-s*h,t[8]=l,t[1]=c+p*l,t[5]=d-f*l,t[9]=-o*s,t[2]=f-d*l,t[6]=p+c*l,t[10]=a*s}else if("YXZ"===e.order){var m=s*u,_=s*h,g=l*u,v=l*h;t[0]=m+v*o,t[4]=g*o-_,t[8]=a*l,t[1]=a*h,t[5]=a*u,t[9]=-o,t[2]=_*o-g,t[6]=v+m*o,t[10]=a*s}else if("ZXY"===e.order){m=s*u,_=s*h,g=l*u,v=l*h;t[0]=m-v*o,t[4]=-a*h,t[8]=g+_*o,t[1]=_+g*o,t[5]=a*u,t[9]=v-m*o,t[2]=-a*l,t[6]=o,t[10]=a*s}else if("ZYX"===e.order){d=a*u,c=a*h,p=o*u,f=o*h;t[0]=s*u,t[4]=p*l-c,t[8]=d*l+f,t[1]=s*h,t[5]=f*l+d,t[9]=c*l-p,t[2]=-l,t[6]=o*s,t[10]=a*s}else if("YZX"===e.order){var y=a*s,b=a*l,w=o*s,x=o*l;t[0]=s*u,t[4]=x-y*h,t[8]=w*h+b,t[1]=h,t[5]=a*u,t[9]=-o*u,t[2]=-l*u,t[6]=b*h+w,t[10]=y-x*h}else if("XZY"===e.order){y=a*s,b=a*l,w=o*s,x=o*l;t[0]=s*u,t[4]=-h,t[8]=l*u,t[1]=y*h+x,t[5]=a*u,t[9]=b*h-w,t[2]=w*h-b,t[6]=o*u,t[10]=x*h+y}return t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},makeRotationFromQuaternion:function(e){var t=this.elements,i=e.x,n=e.y,r=e.z,a=e.w,o=i+i,s=n+n,l=r+r,u=i*o,h=i*s,d=i*l,c=n*s,p=n*l,f=r*l,m=a*o,_=a*s,g=a*l;return t[0]=1-(c+f),t[4]=h-g,t[8]=d+_,t[1]=h+g,t[5]=1-(u+f),t[9]=p-m,t[2]=d-_,t[6]=p+m,t[10]=1-(u+c),t[3]=0,t[7]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,this},lookAt:function(e,t,i){void 0===j&&(j=new Ti.Vector3),void 0===z&&(z=new Ti.Vector3),void 0===G&&(G=new Ti.Vector3);var n=this.elements;return G.subVectors(e,t).normalize(),0===G.lengthSq()&&(G.z=1),j.crossVectors(i,G).normalize(),0===j.lengthSq()&&(G.x+=1e-4,j.crossVectors(i,G).normalize()),z.crossVectors(G,j),n[0]=j.x,n[4]=z.x,n[8]=G.x,n[1]=j.y,n[5]=z.y,n[9]=G.y,n[2]=j.z,n[6]=z.z,n[10]=G.z,this},multiply:function(e,t){return void 0!==t?this.multiplyMatrices(e,t):this.multiplyMatrices(this,e)},multiplyMatrices:function(e,t){var i=e.elements,n=t.elements,r=this.elements,a=i[0],o=i[4],s=i[8],l=i[12],u=i[1],h=i[5],d=i[9],c=i[13],p=i[2],f=i[6],m=i[10],_=i[14],g=i[3],v=i[7],y=i[11],b=i[15],w=n[0],x=n[4],T=n[8],S=n[12],M=n[1],L=n[5],E=n[9],C=n[13],A=n[2],P=n[6],D=n[10],R=n[14],k=n[3],I=n[7],O=n[11],B=n[15];return r[0]=a*w+o*M+s*A+l*k,r[4]=a*x+o*L+s*P+l*I,r[8]=a*T+o*E+s*D+l*O,r[12]=a*S+o*C+s*R+l*B,r[1]=u*w+h*M+d*A+c*k,r[5]=u*x+h*L+d*P+c*I,r[9]=u*T+h*E+d*D+c*O,r[13]=u*S+h*C+d*R+c*B,r[2]=p*w+f*M+m*A+_*k,r[6]=p*x+f*L+m*P+_*I,r[10]=p*T+f*E+m*D+_*O,r[14]=p*S+f*C+m*R+_*B,r[3]=g*w+v*M+y*A+b*k,r[7]=g*x+v*L+y*P+b*I,r[11]=g*T+v*E+y*D+b*O,r[15]=g*S+v*C+y*R+b*B,this},multiplyToArray:function(e,t,i){var n=this.elements;return this.multiplyMatrices(e,t),i[0]=n[0],i[1]=n[1],i[2]=n[2],i[3]=n[3],i[4]=n[4],i[5]=n[5],i[6]=n[6],i[7]=n[7],i[8]=n[8],i[9]=n[9],i[10]=n[10],i[11]=n[11],i[12]=n[12],i[13]=n[13],i[14]=n[14],i[15]=n[15],this},multiplyScalar:function(e){var t=this.elements;return t[0]*=e,t[4]*=e,t[8]*=e,t[12]*=e,t[1]*=e,t[5]*=e,t[9]*=e,t[13]*=e,t[2]*=e,t[6]*=e,t[10]*=e,t[14]*=e,t[3]*=e,t[7]*=e,t[11]*=e,t[15]*=e,this},applyToVector3Array:function(e,t,i){void 0===U&&(U=new Ti.Vector3),void 0===t&&(t=0),void 0===i&&(i=e.length);for(var n=0,r=t;n<i;n+=3,r+=3)U.fromArray(e,r),U.applyMatrix4(this),U.toArray(e,r);return e},applyToBuffer:function(e,t,i){void 0===Y&&(Y=new Ti.Vector3),void 0===t&&(t=0),void 0===i&&(i=e.length/e.itemSize);for(var n=0,r=t;n<i;n++,r++)Y.x=e.getX(r),Y.y=e.getY(r),Y.z=e.getZ(r),Y.applyMatrix4(this),e.setXYZ(Y.x,Y.y,Y.z);return e},determinant:function(){var e=this.elements,t=e[0],i=e[4],n=e[8],r=e[12],a=e[1],o=e[5],s=e[9],l=e[13],u=e[2],h=e[6],d=e[10],c=e[14];return e[3]*(r*s*h-n*l*h-r*o*d+i*l*d+n*o*c-i*s*c)+e[7]*(t*s*c-t*l*d+r*a*d-n*a*c+n*l*u-r*s*u)+e[11]*(t*l*h-t*o*c-r*a*h+i*a*c+r*o*u-i*l*u)+e[15]*(-n*o*u-t*s*h+t*o*d+n*a*h-i*a*d+i*s*u)},transpose:function(){var e,t=this.elements;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this},flattenToArrayOffset:function(e,t){var i=this.elements;return e[t]=i[0],e[t+1]=i[1],e[t+2]=i[2],e[t+3]=i[3],e[t+4]=i[4],e[t+5]=i[5],e[t+6]=i[6],e[t+7]=i[7],e[t+8]=i[8],e[t+9]=i[9],e[t+10]=i[10],e[t+11]=i[11],e[t+12]=i[12],e[t+13]=i[13],e[t+14]=i[14],e[t+15]=i[15],e},getPosition:function(){return void 0===F&&(F=new Ti.Vector3),F.setFromMatrixColumn(this,3)},setPosition:function(e){var t=this.elements;return t[12]=e.x,t[13]=e.y,t[14]=e.z,this},getInverse:function(e,t){var i=this.elements,n=e.elements,r=n[0],a=n[1],o=n[2],s=n[3],l=n[4],u=n[5],h=n[6],d=n[7],c=n[8],p=n[9],f=n[10],m=n[11],_=n[12],g=n[13],v=n[14],y=n[15],b=p*v*d-g*f*d+g*h*m-u*v*m-p*h*y+u*f*y,w=_*f*d-c*v*d-_*h*m+l*v*m+c*h*y-l*f*y,x=c*g*d-_*p*d+_*u*m-l*g*m-c*u*y+l*p*y,T=_*p*h-c*g*h-_*u*f+l*g*f+c*u*v-l*p*v,S=r*b+a*w+o*x+s*T;if(0!=S)return i[0]=b,i[1]=g*f*s-p*v*s-g*o*m+a*v*m+p*o*y-a*f*y,i[2]=u*v*s-g*h*s+g*o*d-a*v*d-u*o*y+a*h*y,i[3]=p*h*s-u*f*s-p*o*d+a*f*d+u*o*m-a*h*m,i[4]=w,i[5]=c*v*s-_*f*s+_*o*m-r*v*m-c*o*y+r*f*y,i[6]=_*h*s-l*v*s-_*o*d+r*v*d+l*o*y-r*h*y,i[7]=l*f*s-c*h*s+c*o*d-r*f*d-l*o*m+r*h*m,i[8]=x,i[9]=_*p*s-c*g*s-_*a*m+r*g*m+c*a*y-r*p*y,i[10]=l*g*s-_*u*s+_*a*d-r*g*d-l*a*y+r*u*y,i[11]=c*u*s-l*p*s-c*a*d+r*p*d+l*a*m-r*u*m,i[12]=T,i[13]=c*g*o-_*p*o+_*a*f-r*g*f-c*a*v+r*p*v,i[14]=_*u*o-l*g*o-_*a*h+r*g*h+l*a*v-r*u*v,i[15]=l*p*o-c*u*o+c*a*h-r*p*h-l*a*f+r*u*f,this.multiplyScalar(1/S);var M="THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0";if(t)throw new Error(M);return this.identity()},scale:function(e){var t=this.elements,i=e.x,n=e.y,r=e.z;return t[0]*=i,t[4]*=n,t[8]*=r,t[1]*=i,t[5]*=n,t[9]*=r,t[2]*=i,t[6]*=n,t[10]*=r,t[3]*=i,t[7]*=n,t[11]*=r,this},getMaxScaleOnAxis:function(){var e=this.elements,t=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],n=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(t,i,n))},makeTranslation:function(e,t,i){return this.set(1,0,0,e,0,1,0,t,0,0,1,i,0,0,0,1),this},makeRotationX:function(e){var t=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,t,-i,0,0,i,t,0,0,0,0,1),this},makeRotationY:function(e){var t=Math.cos(e),i=Math.sin(e);return this.set(t,0,i,0,0,1,0,0,-i,0,t,0,0,0,0,1),this},makeRotationZ:function(e){var t=Math.cos(e),i=Math.sin(e);return this.set(t,-i,0,0,i,t,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(e,t){var i=Math.cos(t),n=Math.sin(t),r=1-i,a=e.x,o=e.y,s=e.z,l=r*a,u=r*o;return this.set(l*a+i,l*o-n*s,l*s+n*o,0,l*o+n*s,u*o+i,u*s-n*a,0,l*s-n*o,u*s+n*a,r*s*s+i,0,0,0,0,1),this},makeScale:function(e,t,i){return this.set(e,0,0,0,0,t,0,0,0,0,i,0,0,0,0,1),this},compose:function(e,t,i){return this.makeRotationFromQuaternion(t),this.scale(i),this.setPosition(e),this},decompose:function(e,t,i){void 0===B&&(B=new Ti.Vector3),void 0===N&&(N=new Ti.Matrix4);var n=this.elements,r=B.set(n[0],n[1],n[2]).length(),a=B.set(n[4],n[5],n[6]).length(),o=B.set(n[8],n[9],n[10]).length();this.determinant()<0&&(r=-r),e.x=n[12],e.y=n[13],e.z=n[14],N.elements.set(this.elements);var s=1/r,l=1/a,u=1/o;return N.elements[0]*=s,N.elements[1]*=s,N.elements[2]*=s,N.elements[4]*=l,N.elements[5]*=l,N.elements[6]*=l,N.elements[8]*=u,N.elements[9]*=u,N.elements[10]*=u,t.setFromRotationMatrix(N),i.x=r,i.y=a,i.z=o,this},makeFrustum:function(e,t,i,n,r,a){var o=this.elements,s=2*r/(t-e),l=2*r/(n-i),u=(t+e)/(t-e),h=(n+i)/(n-i),d=-(a+r)/(a-r),c=-2*a*r/(a-r);return o[0]=s,o[4]=0,o[8]=u,o[12]=0,o[1]=0,o[5]=l,o[9]=h,o[13]=0,o[2]=0,o[6]=0,o[10]=d,o[14]=c,o[3]=0,o[7]=0,o[11]=-1,o[15]=0,this},makePerspective:function(e,t,i,n){var r=i*Math.tan(Ti.Math.degToRad(.5*e)),a=-r,o=a*t,s=r*t;return this.makeFrustum(o,s,a,r,i,n)},makeOrthographic:function(e,t,i,n,r,a){var o=this.elements,s=1/(t-e),l=1/(i-n),u=1/(a-r),h=(t+e)*s,d=(i+n)*l,c=(a+r)*u;return o[0]=2*s,o[4]=0,o[8]=0,o[12]=-h,o[1]=0,o[5]=2*l,o[9]=0,o[13]=-d,o[2]=0,o[6]=0,o[10]=-2*u,o[14]=-c,o[3]=0,o[7]=0,o[11]=0,o[15]=1,this},equals:function(e){for(var t=this.elements,i=e.elements,n=0;n<16;n++)if(t[n]!==i[n])return!1;return!0},fromArray:function(e){return this.elements.set(e),this},toArray:function(){var e=this.elements;return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7],e[8],e[9],e[10],e[11],e[12],e[13],e[14],e[15]]}},Ti.Ray=function(e,t){this.origin=void 0!==e?e:new Ti.Vector3,this.direction=void 0!==t?t:new Ti.Vector3},Ti.Ray.prototype={constructor:Ti.Ray,set:function(e,t){return this.origin.copy(e),this.direction.copy(t),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this},at:function(e,t){return(t||new Ti.Vector3).copy(this.direction).multiplyScalar(e).add(this.origin)},lookAt:function(e){this.direction.copy(e).sub(this.origin).normalize()},recast:(te=new Ti.Vector3,function(e){return this.origin.copy(this.at(e,te)),this}),closestPointToPoint:function(e,t){var i=t||new Ti.Vector3;i.subVectors(e,this.origin);var n=i.dot(this.direction);return n<0?i.copy(this.origin):i.copy(this.direction).multiplyScalar(n).add(this.origin)},distanceToPoint:function(e){return Math.sqrt(this.distanceSqToPoint(e))},distanceSqToPoint:(ee=new Ti.Vector3,function(e){var t=ee.subVectors(e,this.origin).dot(this.direction);return t<0?this.origin.distanceToSquared(e):(ee.copy(this.direction).multiplyScalar(t).add(this.origin),ee.distanceToSquared(e))}),distanceSqToSegment:(Z=new Ti.Vector3,Q=new Ti.Vector3,$=new Ti.Vector3,function(e,t,i,n){Z.copy(e).add(t).multiplyScalar(.5),Q.copy(t).sub(e).normalize(),$.copy(this.origin).sub(Z);var r,a,o,s,l=.5*e.distanceTo(t),u=-this.direction.dot(Q),h=$.dot(this.direction),d=-$.dot(Q),c=$.lengthSq(),p=Math.abs(1-u*u);if(0<p)if(a=u*h-d,s=l*p,0<=(r=u*d-h))if(-s<=a)if(a<=s){var f=1/p;o=(r*=f)*(r+u*(a*=f)+2*h)+a*(u*r+a+2*d)+c}else a=l,o=-(r=Math.max(0,-(u*a+h)))*r+a*(a+2*d)+c;else a=-l,o=-(r=Math.max(0,-(u*a+h)))*r+a*(a+2*d)+c;else o=a<=-s?-(r=Math.max(0,-(-u*l+h)))*r+(a=0<r?-l:Math.min(Math.max(-l,-d),l))*(a+2*d)+c:a<=s?(r=0,(a=Math.min(Math.max(-l,-d),l))*(a+2*d)+c):-(r=Math.max(0,-(u*l+h)))*r+(a=0<r?l:Math.min(Math.max(-l,-d),l))*(a+2*d)+c;else a=0<u?-l:l,o=-(r=Math.max(0,-(u*a+h)))*r+a*(a+2*d)+c;return i&&i.copy(this.direction).multiplyScalar(r).add(this.origin),n&&n.copy(Q).multiplyScalar(a).add(Z),o}),intersectSphere:(J=new Ti.Vector3,function(e,t){J.subVectors(e.center,this.origin);var i=J.dot(this.direction),n=J.dot(J)-i*i,r=e.radius*e.radius;if(r<n)return null;var a=Math.sqrt(r-n),o=i-a,s=i+a;return o<0&&s<0?null:o<0?this.at(s,t):this.at(o,t)}),intersectsSphere:function(e){return this.distanceToPoint(e.center)<=e.radius},distanceToPlane:function(e){var t=e.normal.dot(this.direction);if(0===t)return 0===e.distanceToPoint(this.origin)?0:null;var i=-(this.origin.dot(e.normal)+e.constant)/t;return 0<=i?i:null},intersectPlane:function(e,t){var i=this.distanceToPlane(e);return null===i?null:this.at(i,t)},intersectsPlane:function(e){var t=e.distanceToPoint(this.origin);return 0===t||e.normal.dot(this.direction)*t<0},intersectBox:function(e,t){var i,n,r,a,o,s,l=1/this.direction.x,u=1/this.direction.y,h=1/this.direction.z,d=this.origin;return n=0<=l?(i=(e.min.x-d.x)*l,(e.max.x-d.x)*l):(i=(e.max.x-d.x)*l,(e.min.x-d.x)*l),(a=0<=u?(r=(e.min.y-d.y)*u,(e.max.y-d.y)*u):(r=(e.max.y-d.y)*u,(e.min.y-d.y)*u))<i||n<r?null:((i<r||i!=i)&&(i=r),(a<n||n!=n)&&(n=a),(s=0<=h?(o=(e.min.z-d.z)*h,(e.max.z-d.z)*h):(o=(e.max.z-d.z)*h,(e.min.z-d.z)*h))<i||n<o?null:((i<o||i!=i)&&(i=o),(s<n||n!=n)&&(n=s),n<0?null:this.at(0<=i?i:n,t)))},intersectsBox:(K=new Ti.Vector3,function(e){return null!==this.intersectBox(e,K)}),intersectTriangle:(W=new Ti.Vector3,V=new Ti.Vector3,q=new Ti.Vector3,X=new Ti.Vector3,function(e,t,i,n,r){V.subVectors(t,e),q.subVectors(i,e),X.crossVectors(V,q);var a,o=this.direction.dot(X);if(0<o){if(n)return null;a=1}else{if(!(o<0))return null;a=-1,o=-o}W.subVectors(this.origin,e);var s=a*this.direction.dot(q.crossVectors(W,q));if(s<0)return null;var l=a*this.direction.dot(V.cross(W));if(l<0)return null;if(o<s+l)return null;var u=-a*W.dot(X);return u<0?null:this.at(u/o,r)}),applyMatrix4:function(e){return this.direction.add(this.origin).applyMatrix4(e),this.origin.applyMatrix4(e),this.direction.sub(this.origin),this.direction.normalize(),this},equals:function(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}},Ti.Sphere=function(e,t){this.center=void 0!==e?e:new Ti.Vector3,this.radius=void 0!==t?t:0},Ti.Sphere.prototype={constructor:Ti.Sphere,set:function(e,t){return this.center.copy(e),this.radius=t,this},setFromPoints:(ie=new Ti.Box3,function(e,t){var i=this.center;void 0!==t?i.copy(t):ie.setFromPoints(e).center(i);for(var n=0,r=0,a=e.length;r<a;r++)n=Math.max(n,i.distanceToSquared(e[r]));return this.radius=Math.sqrt(n),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.center.copy(e.center),this.radius=e.radius,this},empty:function(){return this.radius<=0},containsPoint:function(e){return e.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(e){return e.distanceTo(this.center)-this.radius},intersectsSphere:function(e){var t=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=t*t},intersectsBox:function(e){return e.intersectsSphere(this)},intersectsPlane:function(e){return Math.abs(this.center.dot(e.normal)-e.constant)<=this.radius},clampPoint:function(e,t){var i=this.center.distanceToSquared(e),n=t||new Ti.Vector3;return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n},getBoundingBox:function(e){var t=e||new Ti.Box3;return t.set(this.center,this.center),t.expandByScalar(this.radius),t},applyMatrix4:function(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this},translate:function(e){return this.center.add(e),this},equals:function(e){return e.center.equals(this.center)&&e.radius===this.radius}},Ti.Frustum=function(e,t,i,n,r,a){this.planes=[void 0!==e?e:new Ti.Plane,void 0!==t?t:new Ti.Plane,void 0!==i?i:new Ti.Plane,void 0!==n?n:new Ti.Plane,void 0!==r?r:new Ti.Plane,void 0!==a?a:new Ti.Plane]},Ti.Frustum.prototype={constructor:Ti.Frustum,set:function(e,t,i,n,r,a){var o=this.planes;return o[0].copy(e),o[1].copy(t),o[2].copy(i),o[3].copy(n),o[4].copy(r),o[5].copy(a),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){for(var t=this.planes,i=0;i<6;i++)t[i].copy(e.planes[i]);return this},setFromMatrix:function(e){var t=this.planes,i=e.elements,n=i[0],r=i[1],a=i[2],o=i[3],s=i[4],l=i[5],u=i[6],h=i[7],d=i[8],c=i[9],p=i[10],f=i[11],m=i[12],_=i[13],g=i[14],v=i[15];return t[0].setComponents(o-n,h-s,f-d,v-m).normalize(),t[1].setComponents(o+n,h+s,f+d,v+m).normalize(),t[2].setComponents(o+r,h+l,f+c,v+_).normalize(),t[3].setComponents(o-r,h-l,f-c,v-_).normalize(),t[4].setComponents(o-a,h-u,f-p,v-g).normalize(),t[5].setComponents(o+a,h+u,f+p,v+g).normalize(),this},intersectsObject:(ae=new Ti.Sphere,function(e){var t=e.geometry;return null===t.boundingSphere&&t.computeBoundingSphere(),ae.copy(t.boundingSphere),ae.applyMatrix4(e.matrixWorld),this.intersectsSphere(ae)}),intersectsSphere:function(e){for(var t=this.planes,i=e.center,n=-e.radius,r=0;r<6;r++){if(t[r].distanceToPoint(i)<n)return!1}return!0},intersectsBox:(ne=new Ti.Vector3,re=new Ti.Vector3,function(e){for(var t=this.planes,i=0;i<6;i++){var n=t[i];ne.x=0<n.normal.x?e.min.x:e.max.x,re.x=0<n.normal.x?e.max.x:e.min.x,ne.y=0<n.normal.y?e.min.y:e.max.y,re.y=0<n.normal.y?e.max.y:e.min.y,ne.z=0<n.normal.z?e.min.z:e.max.z,re.z=0<n.normal.z?e.max.z:e.min.z;var r=n.distanceToPoint(ne),a=n.distanceToPoint(re);if(r<0&&a<0)return!1}return!0}),containsPoint:function(e){for(var t=this.planes,i=0;i<6;i++)if(t[i].distanceToPoint(e)<0)return!1;return!0}},Ti.Plane=function(e,t){this.normal=void 0!==e?e:new Ti.Vector3(1,0,0),this.constant=void 0!==t?t:0},Ti.Plane.prototype={constructor:Ti.Plane,set:function(e,t){return this.normal.copy(e),this.constant=t,this},setComponents:function(e,t,i,n){return this.normal.set(e,t,i),this.constant=n,this},setFromNormalAndCoplanarPoint:function(e,t){return this.normal.copy(e),this.constant=-t.dot(this.normal),this},setFromCoplanarPoints:(he=new Ti.Vector3,de=new Ti.Vector3,function(e,t,i){var n=he.subVectors(i,t).cross(de.subVectors(e,t)).normalize();return this.setFromNormalAndCoplanarPoint(n,e),this}),clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.normal.copy(e.normal),this.constant=e.constant,this},normalize:function(){var e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(e){return this.normal.dot(e)+this.constant},distanceToSphere:function(e){return this.distanceToPoint(e.center)-e.radius},projectPoint:function(e,t){return this.orthoPoint(e,t).sub(e).negate()},orthoPoint:function(e,t){var i=this.distanceToPoint(e);return(t||new Ti.Vector3).copy(this.normal).multiplyScalar(i)},intersectLine:(ue=new Ti.Vector3,function(e,t){var i=t||new Ti.Vector3,n=e.delta(ue),r=this.normal.dot(n);if(0===r)return 0===this.distanceToPoint(e.start)?i.copy(e.start):void 0;var a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||1<a?void 0:i.copy(n).multiplyScalar(a).add(e.start)}),intersectsLine:function(e){var t=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return t<0&&0<i||i<0&&0<t},intersectsBox:function(e){return e.intersectsPlane(this)},intersectsSphere:function(e){return e.intersectsPlane(this)},coplanarPoint:function(e){return(e||new Ti.Vector3).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:(oe=new Ti.Vector3,se=new Ti.Vector3,le=new Ti.Matrix3,function(e,t){var i=t||le.getNormalMatrix(e),n=oe.copy(this.normal).applyMatrix3(i),r=this.coplanarPoint(se);return r.applyMatrix4(e),this.setFromNormalAndCoplanarPoint(n,r),this}),translate:function(e){return this.constant=this.constant-e.dot(this.normal),this},equals:function(e){return e.normal.equals(this.normal)&&e.constant===this.constant}},Ti.Spherical=function(e,t,i){return this.radius=void 0!==e?e:1,this.phi=void 0!==t?t:0,this.theta=void 0!==i?i:0,this},Ti.Spherical.prototype={constructor:Ti.Spherical,set:function(e,t,i){this.radius=e,this.phi=t,this.theta=i},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.radius.copy(e.radius),this.phi.copy(e.phi),this.theta.copy(e.theta),this},makeSafe:function(){this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi))},setFromVector3:function(e){return this.radius=e.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e.x,e.z),this.phi=Math.acos(Ti.Math.clamp(e.y/this.radius,-1,1))),this}},Ti.Math={generateUUID:(me="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),_e=new Array(36),ge=0,function(){for(var e=0;e<36;e++)8===e||13===e||18===e||23===e?_e[e]="-":14===e?_e[e]="4":(ge<=2&&(ge=33554432+16777216*Math.random()|0),fe=15&ge,ge>>=4,_e[e]=me[19===e?3&fe|8:fe]);return _e.join("")}),clamp:function(e,t,i){return Math.max(t,Math.min(i,e))},euclideanModulo:function(e,t){return(e%t+t)%t},mapLinear:function(e,t,i,n,r){return n+(e-t)*(r-n)/(i-t)},smoothstep:function(e,t,i){return e<=t?0:i<=e?1:(e=(e-t)/(i-t))*e*(3-2*e)},smootherstep:function(e,t,i){return e<=t?0:i<=e?1:(e=(e-t)/(i-t))*e*e*(e*(6*e-15)+10)},random16:function(){return Math.random()},randInt:function(e,t){return e+Math.floor(Math.random()*(t-e+1))},randFloat:function(e,t){return e+Math.random()*(t-e)},randFloatSpread:function(e){return e*(.5-Math.random())},degToRad:(pe=Math.PI/180,function(e){return e*pe}),radToDeg:(ce=180/Math.PI,function(e){return e*ce}),isPowerOfTwo:function(e){return 0==(e&e-1)&&0!==e},nearestPowerOfTwo:function(e){return Math.pow(2,Math.round(Math.log(e)/Math.LN2))},nextPowerOfTwo:function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e}},Ti.Spline=function(e){this.points=e;var t,i,n,r,a,o,s,l,u,h=[],d={x:0,y:0,z:0};function interpolate(e,t,i,n,r,a,o){var s=.5*(i-e),l=.5*(n-t);return(2*(t-i)+s+l)*o+(-3*(t-i)-2*s-l)*a+s*r+t}this.initFromArray=function(e){this.points=[];for(var t=0;t<e.length;t++)this.points[t]={x:e[t][0],y:e[t][1],z:e[t][2]}},this.getPoint=function(e){return t=(this.points.length-1)*e,i=Math.floor(t),n=t-i,h[0]=0===i?i:i-1,h[1]=i,h[2]=i>this.points.length-2?this.points.length-1:i+1,h[3]=i>this.points.length-3?this.points.length-1:i+2,o=this.points[h[0]],s=this.points[h[1]],l=this.points[h[2]],u=this.points[h[3]],a=n*(r=n*n),d.x=interpolate(o.x,s.x,l.x,u.x,n,r,a),d.y=interpolate(o.y,s.y,l.y,u.y,n,r,a),d.z=interpolate(o.z,s.z,l.z,u.z,n,r,a),d},this.getControlPointsArray=function(){var e,t,i=this.points.length,n=[];for(e=0;e<i;e++)t=this.points[e],n[e]=[t.x,t.y,t.z];return n},this.getLength=function(e){var t,i,n,r,a=0,o=0,s=0,l=new Ti.Vector3,u=new Ti.Vector3,h=[],d=0;for(h[0]=0,e=e||100,n=this.points.length*e,l.copy(this.points[0]),t=1;t<n;t++)i=t/n,r=this.getPoint(i),u.copy(r),d+=u.distanceTo(l),l.copy(r),a=(this.points.length-1)*i,(o=Math.floor(a))!==s&&(h[o]=d,s=o);return h[h.length]=d,{chunks:h,total:d}},this.reparametrizeByArcLength=function(e){var t,i,n,r,a,o,s,l,u=[],h=new Ti.Vector3,d=this.getLength();for(u.push(h.copy(this.points[0]).clone()),t=1;t<this.points.length;t++){for(o=d.chunks[t]-d.chunks[t-1],s=Math.ceil(e*o/d.total),r=(t-1)/(this.points.length-1),a=t/(this.points.length-1),i=1;i<s-1;i++)n=r+i*(1/s)*(a-r),l=this.getPoint(n),u.push(h.copy(l).clone());u.push(h.copy(this.points[t]).clone())}this.points=u}},Ti.Triangle=function(e,t,i){this.a=void 0!==e?e:new Ti.Vector3,this.b=void 0!==t?t:new Ti.Vector3,this.c=void 0!==i?i:new Ti.Vector3},Ti.Triangle.normal=(ve=new Ti.Vector3,function(e,t,i,n){var r=n||new Ti.Vector3;r.subVectors(i,t),ve.subVectors(e,t),r.cross(ve);var a=r.lengthSq();return 0<a?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}),Ti.Triangle.barycoordFromPoint=(ye=new Ti.Vector3,be=new Ti.Vector3,we=new Ti.Vector3,function(e,t,i,n,r){ye.subVectors(n,t),be.subVectors(i,t),we.subVectors(e,t);var a=ye.dot(ye),o=ye.dot(be),s=ye.dot(we),l=be.dot(be),u=be.dot(we),h=a*l-o*o,d=r||new Ti.Vector3;if(0==h)return d.set(-2,-1,-1);var c=1/h,p=(l*s-o*u)*c,f=(a*u-o*s)*c;return d.set(1-p-f,f,p)}),Ti.Triangle.containsPoint=(xe=new Ti.Vector3,function(e,t,i,n){var r=Ti.Triangle.barycoordFromPoint(e,t,i,n,xe);return 0<=r.x&&0<=r.y&&r.x+r.y<=1}),Ti.Triangle.prototype={constructor:Ti.Triangle,set:function(e,t,i){return this.a.copy(e),this.b.copy(t),this.c.copy(i),this},setFromPointsAndIndices:function(e,t,i,n){return this.a.copy(e[t]),this.b.copy(e[i]),this.c.copy(e[n]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this},area:(Te=new Ti.Vector3,Se=new Ti.Vector3,function(){return Te.subVectors(this.c,this.b),Se.subVectors(this.a,this.b),.5*Te.cross(Se).length()}),midpoint:function(e){return(e||new Ti.Vector3).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(e){return Ti.Triangle.normal(this.a,this.b,this.c,e)},plane:function(e){return(e||new Ti.Plane).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(e,t){return Ti.Triangle.barycoordFromPoint(e,this.a,this.b,this.c,t)},containsPoint:function(e){return Ti.Triangle.containsPoint(e,this.a,this.b,this.c)},equals:function(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}},Ti.Interpolant=function(e,t,i,n){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=void 0!==n?n:new t.constructor(i),this.sampleValues=t,this.valueSize=i},Ti.Interpolant.prototype={constructor:Ti.Interpolant,evaluate:function(e){var t=this.parameterPositions,i=this._cachedIndex,n=t[i],r=t[i-1];e:{t:{var a;i:{n:if(!(e<n)){for(var o=i+2;;){if(void 0===n){if(e<r)break n;return i=t.length,this._cachedIndex=i,this.afterEnd_(i-1,e,r)}if(i===o)break;if(r=n,e<(n=t[++i]))break t}a=t.length;break i}if(r<=e)break e;var s=t[1];e<s&&(i=2,r=s);for(o=i-2;;){if(void 0===r)return this._cachedIndex=0,this.beforeStart_(0,e,n);if(i===o)break;if(n=r,(r=t[--i-1])<=e)break t}a=i,i=0}for(;i<a;){var l=i+a>>>1;e<t[l]?a=l:i=1+l}if(n=t[i],void 0===(r=t[i-1]))return this._cachedIndex=0,this.beforeStart_(0,e,n);if(void 0===n)return i=t.length,this._cachedIndex=i,this.afterEnd_(i-1,r,e)}this._cachedIndex=i,this.intervalChanged_(i,r,n)}return this.interpolate_(i,r,e,n)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(e){for(var t=this.resultBuffer,i=this.sampleValues,n=this.valueSize,r=e*n,a=0;a!==n;++a)t[a]=i[r+a];return t},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}},Object.assign(Ti.Interpolant.prototype,{beforeStart_:Ti.Interpolant.prototype.copySampleValue_,afterEnd_:Ti.Interpolant.prototype.copySampleValue_}),Ti.CubicInterpolant=function(e,t,i,n){Ti.Interpolant.call(this,e,t,i,n),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0},Ti.CubicInterpolant.prototype=Object.assign(Object.create(Ti.Interpolant.prototype),{constructor:Ti.CubicInterpolant,DefaultSettings_:{endingStart:Ti.ZeroCurvatureEnding,endingEnd:Ti.ZeroCurvatureEnding},intervalChanged_:function(e,t,i){var n=this.parameterPositions,r=e-2,a=e+1,o=n[r],s=n[a];if(void 0===o)switch(this.getSettings_().endingStart){case Ti.ZeroSlopeEnding:r=e,o=2*t-i;break;case Ti.WrapAroundEnding:o=t+n[r=n.length-2]-n[r+1];break;default:r=e,o=i}if(void 0===s)switch(this.getSettings_().endingEnd){case Ti.ZeroSlopeEnding:a=e,s=2*i-t;break;case Ti.WrapAroundEnding:s=i+n[a=1]-n[0];break;default:a=e-1,s=t}var l=.5*(i-t),u=this.valueSize;this._weightPrev=l/(t-o),this._weightNext=l/(s-i),this._offsetPrev=r*u,this._offsetNext=a*u},interpolate_:function(e,t,i,n){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=this._offsetPrev,h=this._offsetNext,d=this._weightPrev,c=this._weightNext,p=(i-t)/(n-t),f=p*p,m=f*p,_=-d*m+2*d*f-d*p,g=(1+d)*m+(-1.5-2*d)*f+(-.5+d)*p+1,v=(-1-c)*m+(1.5+c)*f+.5*p,y=c*m-c*f,b=0;b!==o;++b)r[b]=_*a[u+b]+g*a[l+b]+v*a[s+b]+y*a[h+b];return r}}),Ti.DiscreteInterpolant=function(e,t,i,n){Ti.Interpolant.call(this,e,t,i,n)},Ti.DiscreteInterpolant.prototype=Object.assign(Object.create(Ti.Interpolant.prototype),{constructor:Ti.DiscreteInterpolant,interpolate_:function(e){return this.copySampleValue_(e-1)}}),Ti.LinearInterpolant=function(e,t,i,n){Ti.Interpolant.call(this,e,t,i,n)},Ti.LinearInterpolant.prototype=Object.assign(Object.create(Ti.Interpolant.prototype),{constructor:Ti.LinearInterpolant,interpolate_:function(e,t,i,n){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=s-o,u=(i-t)/(n-t),h=1-u,d=0;d!==o;++d)r[d]=a[l+d]*h+a[s+d]*u;return r}}),Ti.QuaternionLinearInterpolant=function(e,t,i,n){Ti.Interpolant.call(this,e,t,i,n)},Ti.QuaternionLinearInterpolant.prototype=Object.assign(Object.create(Ti.Interpolant.prototype),{constructor:Ti.QuaternionLinearInterpolant,interpolate_:function(e,t,i,n){for(var r=this.resultBuffer,a=this.sampleValues,o=this.valueSize,s=e*o,l=(i-t)/(n-t),u=s+o;s!==u;s+=4)Ti.Quaternion.slerpFlat(r,0,a,s-o,a,s,l);return r}}),Ti.Clock=function(e){this.autoStart=void 0===e||e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1},Ti.Clock.prototype={constructor:Ti.Clock,start:function(){this.startTime=performance.now(),this.oldTime=this.startTime,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var e=0;if(this.autoStart&&!this.running&&this.start(),this.running){var t=performance.now();e=.001*(t-this.oldTime),this.oldTime=t,this.elapsedTime+=e}return e}},Ti.EventDispatcher=function(){},Ti.EventDispatcher.prototype={constructor:Ti.EventDispatcher,apply:function(e){e.addEventListener=Ti.EventDispatcher.prototype.addEventListener,e.hasEventListener=Ti.EventDispatcher.prototype.hasEventListener,e.removeEventListener=Ti.EventDispatcher.prototype.removeEventListener,e.dispatchEvent=Ti.EventDispatcher.prototype.dispatchEvent},addEventListener:function(e,t){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[e]&&(i[e]=[]),-1===i[e].indexOf(t)&&i[e].push(t)},hasEventListener:function(e,t){if(void 0===this._listeners)return!1;var i=this._listeners;return void 0!==i[e]&&-1!==i[e].indexOf(t)},removeEventListener:function(e,t){if(void 0!==this._listeners){var i=this._listeners[e];if(void 0!==i){var n=i.indexOf(t);-1!==n&&i.splice(n,1)}}},dispatchEvent:function(e){if(void 0!==this._listeners){var t=this._listeners[e.type];if(void 0!==t){e.target=this;for(var i=[],n=t.length,r=0;r<n;r++)i[r]=t[r];for(r=0;r<n;r++)i[r].call(this,e)}}}},Ti.Layers=function(){this.mask=1},Ti.Layers.prototype={constructor:Ti.Layers,set:function(e){this.mask=1<<e},enable:function(e){this.mask|=1<<e},toggle:function(e){this.mask^=1<<e},disable:function(e){this.mask&=~(1<<e)},test:function(e){return 0!=(this.mask&e.mask)}},(Me=Ti).Raycaster=function(e,t,i,n){this.ray=new Me.Ray(e,t),this.near=i||0,this.far=n||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return this.Points}}})},Me.Raycaster.prototype={constructor:Me.Raycaster,linePrecision:1,set:function(e,t){this.ray.set(e,t)},setFromCamera:function(e,t){t instanceof Me.PerspectiveCamera?(this.ray.origin.setFromMatrixPosition(t.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(t).sub(this.ray.origin).normalize()):t instanceof Me.OrthographicCamera&&(this.ray.origin.set(e.x,e.y,-1).unproject(t),this.ray.direction.set(0,0,-1).transformDirection(t.matrixWorld))},intersectObject:function(e,t){var i=[];return _intersectObject(e,this,i,t),i.sort(ascSort),i},intersectObjects:function(e,t){var i=[];if(!1===Array.isArray(e))return i;for(var n=0,r=e.length;n<r;n++)_intersectObject(e[n],this,i,t);return i.sort(ascSort),i}},Ti.Object3D=function(){Object.defineProperty(this,"id",{value:Ti.Object3DIdCount++}),this.uuid=Ti.Math.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ti.Object3D.DefaultUp.clone();var e=new Ti.Vector3,t=new Ti.Euler,i=new Ti.Quaternion,n=new Ti.Vector3(1,1,1);t.onChange(function(){i.setFromEuler(t,!1)}),i.onChange(function(){t.setFromQuaternion(i,void 0,!1)}),Object.defineProperties(this,{position:{enumerable:!0,value:e},rotation:{enumerable:!0,value:t},quaternion:{enumerable:!0,value:i},scale:{enumerable:!0,value:n},modelViewMatrix:{value:new Ti.Matrix4},normalMatrix:{value:new Ti.Matrix3}}),this.rotationAutoUpdate=!0,this.matrix=new Ti.Matrix4,this.matrixWorld=new Ti.Matrix4,this.matrixAutoUpdate=Ti.Object3D.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new Ti.Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}},Ti.Object3D.DefaultUp=new Ti.Vector3(0,1,0),Ti.Object3D.DefaultMatrixAutoUpdate=!0,Ti.Object3D.prototype={constructor:Ti.Object3D,applyMatrix:function(e){this.matrix.multiplyMatrices(e,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},setRotationFromAxisAngle:function(e,t){this.quaternion.setFromAxisAngle(e,t)},setRotationFromEuler:function(e){this.quaternion.setFromEuler(e,!0)},setRotationFromMatrix:function(e){this.quaternion.setFromRotationMatrix(e)},setRotationFromQuaternion:function(e){this.quaternion.copy(e)},rotateOnAxis:(je=new Ti.Quaternion,function(e,t){return je.setFromAxisAngle(e,t),this.quaternion.multiply(je),this}),rotateX:(Ue=new Ti.Vector3(1,0,0),function(e){return this.rotateOnAxis(Ue,e)}),rotateY:(Ye=new Ti.Vector3(0,1,0),function(e){return this.rotateOnAxis(Ye,e)}),rotateZ:(Fe=new Ti.Vector3(0,0,1),function(e){return this.rotateOnAxis(Fe,e)}),translateOnAxis:(Ne=new Ti.Vector3,function(e,t){return Ne.copy(e).applyQuaternion(this.quaternion),this.position.add(Ne.multiplyScalar(t)),this}),translateX:(Be=new Ti.Vector3(1,0,0),function(e){return this.translateOnAxis(Be,e)}),translateY:(Oe=new Ti.Vector3(0,1,0),function(e){return this.translateOnAxis(Oe,e)}),translateZ:(Ie=new Ti.Vector3(0,0,1),function(e){return this.translateOnAxis(Ie,e)}),localToWorld:function(e){return e.applyMatrix4(this.matrixWorld)},worldToLocal:(ke=new Ti.Matrix4,function(e){return e.applyMatrix4(ke.getInverse(this.matrixWorld))}),lookAt:(Re=new Ti.Matrix4,function(e){Re.lookAt(e,this.position,this.up),this.quaternion.setFromRotationMatrix(Re)}),add:function(e){if(1<arguments.length){for(var t=0;t<arguments.length;t++)this.add(arguments[t]);return this}return e===this||e instanceof Ti.Object3D&&(null!==e.parent&&e.parent.remove(e),e.parent=this,e.dispatchEvent({type:"added"}),this.children.push(e)),this},remove:function(e){if(1<arguments.length)for(var t=0;t<arguments.length;t++)this.remove(arguments[t]);var i=this.children.indexOf(e);-1!==i&&(e.parent=null,e.dispatchEvent({type:"removed"}),this.children.splice(i,1))},getObjectById:function(e){return this.getObjectByProperty("id",e)},getObjectByName:function(e){return this.getObjectByProperty("name",e)},getObjectByProperty:function(e,t){if(this[e]===t)return this;for(var i=0,n=this.children.length;i<n;i++){var r=this.children[i].getObjectByProperty(e,t);if(void 0!==r)return r}},getWorldPosition:function(e){var t=e||new Ti.Vector3;return this.updateMatrixWorld(!0),t.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:(Pe=new Ti.Vector3,De=new Ti.Vector3,function(e){var t=e||new Ti.Quaternion;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(Pe,t,De),t}),getWorldRotation:(Ae=new Ti.Quaternion,function(e){var t=e||new Ti.Euler;return this.getWorldQuaternion(Ae),t.setFromQuaternion(Ae,this.rotation.order,!1)}),getWorldScale:(Ee=new Ti.Vector3,Ce=new Ti.Quaternion,function(e){var t=e||new Ti.Vector3;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(Ee,Ce,t),t}),getWorldDirection:(Le=new Ti.Quaternion,function(e){var t=e||new Ti.Vector3;return this.getWorldQuaternion(Le),t.set(0,0,1).applyQuaternion(Le)}),raycast:function(){},traverse:function(e){e(this);for(var t=this.children,i=0,n=t.length;i<n;i++)t[i].traverse(e)},traverseVisible:function(e){if(!1!==this.visible){e(this);for(var t=this.children,i=0,n=t.length;i<n;i++)t[i].traverseVisible(e)}},traverseAncestors:function(e){var t=this.parent;null!==t&&(e(t),t.traverseAncestors(e))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(e){!0===this.matrixAutoUpdate&&this.updateMatrix(),!0!==this.matrixWorldNeedsUpdate&&!0!==e||(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),e=!(this.matrixWorldNeedsUpdate=!1));for(var t=0,i=this.children.length;t<i;t++)this.children[t].updateMatrixWorld(e)},toJSON:function(e){var t=void 0===e,i={};t&&(e={geometries:{},materials:{},textures:{},images:{}},i.metadata={version:4.4,type:"Object",generator:"Object3D.toJSON"});var n={};if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),"{}"!==JSON.stringify(this.userData)&&(n.userData=this.userData),!0===this.castShadow&&(n.castShadow=!0),!0===this.receiveShadow&&(n.receiveShadow=!0),!1===this.visible&&(n.visible=!1),n.matrix=this.matrix.toArray(),void 0!==this.geometry&&(void 0===e.geometries[this.geometry.uuid]&&(e.geometries[this.geometry.uuid]=this.geometry.toJSON(e)),n.geometry=this.geometry.uuid),void 0!==this.material&&(void 0===e.materials[this.material.uuid]&&(e.materials[this.material.uuid]=this.material.toJSON(e)),n.material=this.material.uuid),0<this.children.length){n.children=[];for(var r=0;r<this.children.length;r++)n.children.push(this.children[r].toJSON(e).object)}if(t){var a=extractFromCache(e.geometries),o=extractFromCache(e.materials),s=extractFromCache(e.textures),l=extractFromCache(e.images);0<a.length&&(i.geometries=a),0<o.length&&(i.materials=o),0<s.length&&(i.textures=s),0<l.length&&(i.images=l)}return i.object=n,i;function extractFromCache(e){var t=[];for(var i in e){var n=e[i];delete n.metadata,t.push(n)}return t}},clone:function(e){return(new this.constructor).copy(this,e)},copy:function(e,t){if(void 0===t&&(t=!0),this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.rotationAutoUpdate=e.rotationAutoUpdate,this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.userData=JSON.parse(JSON.stringify(e.userData)),!0===t)for(var i=0;i<e.children.length;i++){var n=e.children[i];this.add(n.clone())}return this}},Ti.EventDispatcher.prototype.apply(Ti.Object3D.prototype),Ti.Object3DIdCount=0,Ti.Face3=function(e,t,i,n,r,a){this.a=e,this.b=t,this.c=i,this.normal=n instanceof Ti.Vector3?n:new Ti.Vector3,this.vertexNormals=Array.isArray(n)?n:[],this.color=r instanceof Ti.Color?r:new Ti.Color,this.vertexColors=Array.isArray(r)?r:[],this.materialIndex=void 0!==a?a:0},Ti.Face3.prototype={constructor:Ti.Face3,clone:function(){return(new this.constructor).copy(this)},copy:function(e){this.a=e.a,this.b=e.b,this.c=e.c,this.normal.copy(e.normal),this.color.copy(e.color),this.materialIndex=e.materialIndex;for(var t=0,i=e.vertexNormals.length;t<i;t++)this.vertexNormals[t]=e.vertexNormals[t].clone();for(t=0,i=e.vertexColors.length;t<i;t++)this.vertexColors[t]=e.vertexColors[t].clone();return this}},Ti.BufferAttribute=function(e,t){this.uuid=Ti.Math.generateUUID(),this.array=e,this.itemSize=t,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0},Ti.BufferAttribute.prototype={constructor:Ti.BufferAttribute,get count(){return this.array.length/this.itemSize},set needsUpdate(e){!0===e&&this.version++},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.dynamic=e.dynamic,this},copyAt:function(e,t,i){e*=this.itemSize,i*=t.itemSize;for(var n=0,r=this.itemSize;n<r;n++)this.array[e+n]=t.array[i+n];return this},copyArray:function(e){return this.array.set(e),this},copyColorsArray:function(e){for(var t=this.array,i=0,n=0,r=e.length;n<r;n++){var a=e[n];void 0===a&&(a=new Ti.Color),t[i++]=a.r,t[i++]=a.g,t[i++]=a.b}return this},copyIndicesArray:function(e){for(var t=this.array,i=0,n=0,r=e.length;n<r;n++){var a=e[n];t[i++]=a.a,t[i++]=a.b,t[i++]=a.c}return this},copyVector2sArray:function(e){for(var t=this.array,i=0,n=0,r=e.length;n<r;n++){var a=e[n];void 0===a&&(a=new Ti.Vector2),t[i++]=a.x,t[i++]=a.y}return this},copyVector3sArray:function(e){for(var t=this.array,i=0,n=0,r=e.length;n<r;n++){var a=e[n];void 0===a&&(a=new Ti.Vector3),t[i++]=a.x,t[i++]=a.y,t[i++]=a.z}return this},copyVector4sArray:function(e){for(var t=this.array,i=0,n=0,r=e.length;n<r;n++){var a=e[n];void 0===a&&(a=new Ti.Vector4),t[i++]=a.x,t[i++]=a.y,t[i++]=a.z,t[i++]=a.w}return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},getX:function(e){return this.array[e*this.itemSize]},setX:function(e,t){return this.array[e*this.itemSize]=t,this},getY:function(e){return this.array[e*this.itemSize+1]},setY:function(e,t){return this.array[e*this.itemSize+1]=t,this},getZ:function(e){return this.array[e*this.itemSize+2]},setZ:function(e,t){return this.array[e*this.itemSize+2]=t,this},getW:function(e){return this.array[e*this.itemSize+3]},setW:function(e,t){return this.array[e*this.itemSize+3]=t,this},setXY:function(e,t,i){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this},setXYZ:function(e,t,i,n){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=n,this},setXYZW:function(e,t,i,n,r){return e*=this.itemSize,this.array[e+0]=t,this.array[e+1]=i,this.array[e+2]=n,this.array[e+3]=r,this},clone:function(){return(new this.constructor).copy(this)}},Ti.Int8Attribute=function(e,t){return new Ti.BufferAttribute(new Int8Array(e),t)},Ti.Uint8Attribute=function(e,t){return new Ti.BufferAttribute(new Uint8Array(e),t)},Ti.Uint8ClampedAttribute=function(e,t){return new Ti.BufferAttribute(new Uint8ClampedArray(e),t)},Ti.Int16Attribute=function(e,t){return new Ti.BufferAttribute(new Int16Array(e),t)},Ti.Uint16Attribute=function(e,t){return new Ti.BufferAttribute(new Uint16Array(e),t)},Ti.Int32Attribute=function(e,t){return new Ti.BufferAttribute(new Int32Array(e),t)},Ti.Uint32Attribute=function(e,t){return new Ti.BufferAttribute(new Uint32Array(e),t)},Ti.Float32Attribute=function(e,t){return new Ti.BufferAttribute(new Float32Array(e),t)},Ti.Float64Attribute=function(e,t){return new Ti.BufferAttribute(new Float64Array(e),t)},Ti.DynamicBufferAttribute=function(e,t){return new Ti.BufferAttribute(e,t).setDynamic(!0)},Ti.InstancedBufferAttribute=function(e,t,i){Ti.BufferAttribute.call(this,e,t),this.meshPerAttribute=i||1},Ti.InstancedBufferAttribute.prototype=Object.create(Ti.BufferAttribute.prototype),Ti.InstancedBufferAttribute.prototype.constructor=Ti.InstancedBufferAttribute,Ti.InstancedBufferAttribute.prototype.copy=function(e){return Ti.BufferAttribute.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},Ti.InterleavedBuffer=function(e,t){this.uuid=Ti.Math.generateUUID(),this.array=e,this.stride=t,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.version=0},Ti.InterleavedBuffer.prototype={constructor:Ti.InterleavedBuffer,get length(){return this.array.length},get count(){return this.array.length/this.stride},set needsUpdate(e){!0===e&&this.version++},setDynamic:function(e){return this.dynamic=e,this},copy:function(e){return this.array=new e.array.constructor(e.array),this.stride=e.stride,this.dynamic=e.dynamic,this},copyAt:function(e,t,i){e*=this.stride,i*=t.stride;for(var n=0,r=this.stride;n<r;n++)this.array[e+n]=t.array[i+n];return this},set:function(e,t){return void 0===t&&(t=0),this.array.set(e,t),this},clone:function(){return(new this.constructor).copy(this)}},Ti.InstancedInterleavedBuffer=function(e,t,i){Ti.InterleavedBuffer.call(this,e,t),this.meshPerAttribute=i||1},Ti.InstancedInterleavedBuffer.prototype=Object.create(Ti.InterleavedBuffer.prototype),Ti.InstancedInterleavedBuffer.prototype.constructor=Ti.InstancedInterleavedBuffer,Ti.InstancedInterleavedBuffer.prototype.copy=function(e){return Ti.InterleavedBuffer.prototype.copy.call(this,e),this.meshPerAttribute=e.meshPerAttribute,this},Ti.InterleavedBufferAttribute=function(e,t,i){this.uuid=Ti.Math.generateUUID(),this.data=e,this.itemSize=t,this.offset=i},Ti.InterleavedBufferAttribute.prototype={constructor:Ti.InterleavedBufferAttribute,get length(){return this.array.length},get count(){return this.data.count},setX:function(e,t){return this.data.array[e*this.data.stride+this.offset]=t,this},setY:function(e,t){return this.data.array[e*this.data.stride+this.offset+1]=t,this},setZ:function(e,t){return this.data.array[e*this.data.stride+this.offset+2]=t,this},setW:function(e,t){return this.data.array[e*this.data.stride+this.offset+3]=t,this},getX:function(e){return this.data.array[e*this.data.stride+this.offset]},getY:function(e){return this.data.array[e*this.data.stride+this.offset+1]},getZ:function(e){return this.data.array[e*this.data.stride+this.offset+2]},getW:function(e){return this.data.array[e*this.data.stride+this.offset+3]},setXY:function(e,t,i){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this},setXYZ:function(e,t,i,n){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=n,this},setXYZW:function(e,t,i,n,r){return e=e*this.data.stride+this.offset,this.data.array[e+0]=t,this.data.array[e+1]=i,this.data.array[e+2]=n,this.data.array[e+3]=r,this}},Ti.Geometry=function(){Object.defineProperty(this,"id",{value:Ti.GeometryIdCount++}),this.uuid=Ti.Math.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.elementsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1},Ti.Geometry.prototype={constructor:Ti.Geometry,applyMatrix:function(e){for(var t=(new Ti.Matrix3).getNormalMatrix(e),i=0,n=this.vertices.length;i<n;i++){this.vertices[i].applyMatrix4(e)}for(i=0,n=this.faces.length;i<n;i++){var r=this.faces[i];r.normal.applyMatrix3(t).normalize();for(var a=0,o=r.vertexNormals.length;a<o;a++)r.vertexNormals[a].applyMatrix3(t).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(e){return void 0===qe&&(qe=new Ti.Matrix4),qe.makeRotationX(e),this.applyMatrix(qe),this},rotateY:function(e){return void 0===Ve&&(Ve=new Ti.Matrix4),Ve.makeRotationY(e),this.applyMatrix(Ve),this},rotateZ:function(e){return void 0===We&&(We=new Ti.Matrix4),We.makeRotationZ(e),this.applyMatrix(We),this},translate:function(e,t,i){return void 0===He&&(He=new Ti.Matrix4),He.makeTranslation(e,t,i),this.applyMatrix(He),this},scale:function(e,t,i){return void 0===Ge&&(Ge=new Ti.Matrix4),Ge.makeScale(e,t,i),this.applyMatrix(Ge),this},lookAt:function(e){void 0===ze&&(ze=new Ti.Object3D),ze.lookAt(e),ze.updateMatrix(),this.applyMatrix(ze.matrix)},fromBufferGeometry:function(e){var s=this,t=null!==e.index?e.index.array:void 0,i=e.attributes,n=i.position.array,l=void 0!==i.normal?i.normal.array:void 0,u=void 0!==i.color?i.color.array:void 0,h=void 0!==i.uv?i.uv.array:void 0,d=void 0!==i.uv2?i.uv2.array:void 0;void 0!==d&&(this.faceVertexUvs[1]=[]);for(var c=[],p=[],f=[],r=0,a=0;r<n.length;r+=3,a+=2)s.vertices.push(new Ti.Vector3(n[r],n[r+1],n[r+2])),void 0!==l&&c.push(new Ti.Vector3(l[r],l[r+1],l[r+2])),void 0!==u&&s.colors.push(new Ti.Color(u[r],u[r+1],u[r+2])),void 0!==h&&p.push(new Ti.Vector2(h[a],h[a+1])),void 0!==d&&f.push(new Ti.Vector2(d[a],d[a+1]));function addFace(e,t,i,n){var r=void 0!==l?[c[e].clone(),c[t].clone(),c[i].clone()]:[],a=void 0!==u?[s.colors[e].clone(),s.colors[t].clone(),s.colors[i].clone()]:[],o=new Ti.Face3(e,t,i,r,a,n);s.faces.push(o),void 0!==h&&s.faceVertexUvs[0].push([p[e].clone(),p[t].clone(),p[i].clone()]),void 0!==d&&s.faceVertexUvs[1].push([f[e].clone(),f[t].clone(),f[i].clone()])}if(void 0!==t){var o=e.groups;if(0<o.length)for(r=0;r<o.length;r++)for(var m=o[r],_=m.start,g=(a=_,_+m.count);a<g;a+=3)addFace(t[a],t[a+1],t[a+2],m.materialIndex);else for(r=0;r<t.length;r+=3)addFace(t[r],t[r+1],t[r+2])}else for(r=0;r<n.length/3;r+=3)addFace(r,r+1,r+2);return this.computeFaceNormals(),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var e=this.boundingBox.center().negate();return this.translate(e.x,e.y,e.z),e},normalize:function(){this.computeBoundingSphere();var e=this.boundingSphere.center,t=this.boundingSphere.radius,i=0===t?1:1/t,n=new Ti.Matrix4;return n.set(i,0,0,-i*e.x,0,i,0,-i*e.y,0,0,i,-i*e.z,0,0,0,1),this.applyMatrix(n),this},computeFaceNormals:function(){for(var e=new Ti.Vector3,t=new Ti.Vector3,i=0,n=this.faces.length;i<n;i++){var r=this.faces[i],a=this.vertices[r.a],o=this.vertices[r.b],s=this.vertices[r.c];e.subVectors(s,o),t.subVectors(a,o),e.cross(t),e.normalize(),r.normal.copy(e)}},computeVertexNormals:function(e){var t,i,n,r,a,o;for(void 0===e&&(e=!0),o=new Array(this.vertices.length),t=0,i=this.vertices.length;t<i;t++)o[t]=new Ti.Vector3;if(e){var s,l,u,h=new Ti.Vector3,d=new Ti.Vector3;for(n=0,r=this.faces.length;n<r;n++)a=this.faces[n],s=this.vertices[a.a],l=this.vertices[a.b],u=this.vertices[a.c],h.subVectors(u,l),d.subVectors(s,l),h.cross(d),o[a.a].add(h),o[a.b].add(h),o[a.c].add(h)}else for(n=0,r=this.faces.length;n<r;n++)o[(a=this.faces[n]).a].add(a.normal),o[a.b].add(a.normal),o[a.c].add(a.normal);for(t=0,i=this.vertices.length;t<i;t++)o[t].normalize();for(n=0,r=this.faces.length;n<r;n++){var c=(a=this.faces[n]).vertexNormals;3===c.length?(c[0].copy(o[a.a]),c[1].copy(o[a.b]),c[2].copy(o[a.c])):(c[0]=o[a.a].clone(),c[1]=o[a.b].clone(),c[2]=o[a.c].clone())}0<this.faces.length&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var e,t,i,n,r;for(i=0,n=this.faces.length;i<n;i++)for((r=this.faces[i]).__originalFaceNormal?r.__originalFaceNormal.copy(r.normal):r.__originalFaceNormal=r.normal.clone(),r.__originalVertexNormals||(r.__originalVertexNormals=[]),e=0,t=r.vertexNormals.length;e<t;e++)r.__originalVertexNormals[e]?r.__originalVertexNormals[e].copy(r.vertexNormals[e]):r.__originalVertexNormals[e]=r.vertexNormals[e].clone();var a=new Ti.Geometry;for(a.faces=this.faces,e=0,t=this.morphTargets.length;e<t;e++){if(!this.morphNormals[e]){this.morphNormals[e]={},this.morphNormals[e].faceNormals=[],this.morphNormals[e].vertexNormals=[];var o=this.morphNormals[e].faceNormals,s=this.morphNormals[e].vertexNormals;for(i=0,n=this.faces.length;i<n;i++)l=new Ti.Vector3,u={a:new Ti.Vector3,b:new Ti.Vector3,c:new Ti.Vector3},o.push(l),s.push(u)}var l,u,h=this.morphNormals[e];for(a.vertices=this.morphTargets[e].vertices,a.computeFaceNormals(),a.computeVertexNormals(),i=0,n=this.faces.length;i<n;i++)r=this.faces[i],l=h.faceNormals[i],u=h.vertexNormals[i],l.copy(r.normal),u.a.copy(r.vertexNormals[0]),u.b.copy(r.vertexNormals[1]),u.c.copy(r.vertexNormals[2])}for(i=0,n=this.faces.length;i<n;i++)(r=this.faces[i]).normal=r.__originalFaceNormal,r.vertexNormals=r.__originalVertexNormals},computeTangents:function(){},computeLineDistances:function(){for(var e=0,t=this.vertices,i=0,n=t.length;i<n;i++)0<i&&(e+=t[i].distanceTo(t[i-1])),this.lineDistances[i]=e},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new Ti.Box3),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new Ti.Sphere),this.boundingSphere.setFromPoints(this.vertices)},merge:function(e,t,i){if(e instanceof Ti.Geometry!=!1){var n,r=this.vertices.length,a=this.vertices,o=e.vertices,s=this.faces,l=e.faces,u=this.faceVertexUvs[0],h=e.faceVertexUvs[0];void 0===i&&(i=0),void 0!==t&&(n=(new Ti.Matrix3).getNormalMatrix(t));for(var d=0,c=o.length;d<c;d++){var p=o[d].clone();void 0!==t&&p.applyMatrix4(t),a.push(p)}for(d=0,c=l.length;d<c;d++){var f,m,_,g=l[d],v=g.vertexNormals,y=g.vertexColors;(f=new Ti.Face3(g.a+r,g.b+r,g.c+r)).normal.copy(g.normal),void 0!==n&&f.normal.applyMatrix3(n).normalize();for(var b=0,w=v.length;b<w;b++)m=v[b].clone(),void 0!==n&&m.applyMatrix3(n).normalize(),f.vertexNormals.push(m);f.color.copy(g.color);for(b=0,w=y.length;b<w;b++)_=y[b],f.vertexColors.push(_.clone());f.materialIndex=g.materialIndex+i,s.push(f)}for(d=0,c=h.length;d<c;d++){var x=h[d],T=[];if(void 0!==x){for(b=0,w=x.length;b<w;b++)T.push(x[b].clone());u.push(T)}}}},mergeMesh:function(e){e instanceof Ti.Mesh!=!1&&(e.matrixAutoUpdate&&e.updateMatrix(),this.merge(e.geometry,e.matrix))},mergeVertices:function(){var e,t,i,n,r,a,o,s,l={},u=[],h=[],d=Math.pow(10,4);for(i=0,n=this.vertices.length;i<n;i++)e=this.vertices[i],void 0===l[t=Math.round(e.x*d)+"_"+Math.round(e.y*d)+"_"+Math.round(e.z*d)]?(l[t]=i,u.push(this.vertices[i]),h[i]=u.length-1):h[i]=h[l[t]];var c=[];for(i=0,n=this.faces.length;i<n;i++){(r=this.faces[i]).a=h[r.a],r.b=h[r.b],r.c=h[r.c],a=[r.a,r.b,r.c];for(var p=0;p<3;p++)if(a[p]===a[(p+1)%3]){c.push(i);break}}for(i=c.length-1;0<=i;i--){var f=c[i];for(this.faces.splice(f,1),o=0,s=this.faceVertexUvs.length;o<s;o++)this.faceVertexUvs[o].splice(f,1)}var m=this.vertices.length-u.length;return this.vertices=u,m},sortFacesByMaterialIndex:function(){for(var e=this.faces,t=e.length,i=0;i<t;i++)e[i]._id=i;e.sort(function(e,t){return e.materialIndex-t.materialIndex});var n,r,a=this.faceVertexUvs[0],o=this.faceVertexUvs[1];a&&a.length===t&&(n=[]),o&&o.length===t&&(r=[]);for(i=0;i<t;i++){var s=e[i]._id;n&&n.push(a[s]),r&&r.push(o[s])}n&&(this.faceVertexUvs[0]=n),r&&(this.faceVertexUvs[1]=r)},toJSON:function(){var e={metadata:{version:4.4,type:"Geometry",generator:"Geometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var i in t)void 0!==t[i]&&(e[i]=t[i]);return e}for(var n=[],r=0;r<this.vertices.length;r++){var a=this.vertices[r];n.push(a.x,a.y,a.z)}var o=[],s=[],l={},u=[],h={},d=[],c={};for(r=0;r<this.faces.length;r++){var p=this.faces[r],f=void 0!==this.faceVertexUvs[0][r],m=0<p.normal.length(),_=0<p.vertexNormals.length,g=1!==p.color.r||1!==p.color.g||1!==p.color.b,v=0<p.vertexColors.length,y=0;if(y=setBit(y,0,0),y=setBit(y,1,!0),y=setBit(y,2,!1),y=setBit(y,3,f),y=setBit(y,4,m),y=setBit(y,5,_),y=setBit(y,6,g),y=setBit(y,7,v),o.push(y),o.push(p.a,p.b,p.c),o.push(p.materialIndex),f){var b=this.faceVertexUvs[0][r];o.push(getUvIndex(b[0]),getUvIndex(b[1]),getUvIndex(b[2]))}if(m&&o.push(getNormalIndex(p.normal)),_){var w=p.vertexNormals;o.push(getNormalIndex(w[0]),getNormalIndex(w[1]),getNormalIndex(w[2]))}if(g&&o.push(getColorIndex(p.color)),v){var x=p.vertexColors;o.push(getColorIndex(x[0]),getColorIndex(x[1]),getColorIndex(x[2]))}}function setBit(e,t,i){return i?e|1<<t:e&~(1<<t)}function getNormalIndex(e){var t=e.x.toString()+e.y.toString()+e.z.toString();return void 0!==l[t]||(l[t]=s.length/3,s.push(e.x,e.y,e.z)),l[t]}function getColorIndex(e){var t=e.r.toString()+e.g.toString()+e.b.toString();return void 0!==h[t]||(h[t]=u.length,u.push(e.getHex())),h[t]}function getUvIndex(e){var t=e.x.toString()+e.y.toString();return void 0!==c[t]||(c[t]=d.length/2,d.push(e.x,e.y)),c[t]}return e.data={},e.data.vertices=n,e.data.normals=s,0<u.length&&(e.data.colors=u),0<d.length&&(e.data.uvs=[d]),e.data.faces=o,e},clone:function(){return(new Ti.Geometry).copy(this)},copy:function(e){this.vertices=[],this.faces=[],this.faceVertexUvs=[[]];for(var t=e.vertices,i=0,n=t.length;i<n;i++)this.vertices.push(t[i].clone());var r=e.faces;for(i=0,n=r.length;i<n;i++)this.faces.push(r[i].clone());for(i=0,n=e.faceVertexUvs.length;i<n;i++){var a=e.faceVertexUvs[i];void 0===this.faceVertexUvs[i]&&(this.faceVertexUvs[i]=[]);for(var o=0,s=a.length;o<s;o++){for(var l=a[o],u=[],h=0,d=l.length;h<d;h++){var c=l[h];u.push(c.clone())}this.faceVertexUvs[i].push(u)}}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}},Ti.EventDispatcher.prototype.apply(Ti.Geometry.prototype),Ti.GeometryIdCount=0,Ti.DirectGeometry=function(){Object.defineProperty(this,"id",{value:Ti.GeometryIdCount++}),this.uuid=Ti.Math.generateUUID(),this.name="",this.type="DirectGeometry",this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1},Ti.DirectGeometry.prototype={constructor:Ti.DirectGeometry,computeBoundingBox:Ti.Geometry.prototype.computeBoundingBox,computeBoundingSphere:Ti.Geometry.prototype.computeBoundingSphere,computeFaceNormals:function(){},computeVertexNormals:function(){},computeGroups:function(e){for(var t,i,n=[],r=e.faces,a=0;a<r.length;a++){var o=r[a];o.materialIndex!==i&&(i=o.materialIndex,void 0!==t&&(t.count=3*a-t.start,n.push(t)),t={start:3*a,materialIndex:i})}void 0!==t&&(t.count=3*a-t.start,n.push(t)),this.groups=n},fromGeometry:function(e){var t,i=e.faces,n=e.vertices,r=e.faceVertexUvs,a=r[0]&&0<r[0].length,o=r[1]&&0<r[1].length,s=e.morphTargets,l=s.length;if(0<l){t=[];for(var u=0;u<l;u++)t[u]=[];this.morphTargets.position=t}var h,d=e.morphNormals,c=d.length;if(0<c){h=[];for(u=0;u<c;u++)h[u]=[];this.morphTargets.normal=h}var p=e.skinIndices,f=e.skinWeights,m=p.length===n.length,_=f.length===n.length;for(u=0;u<i.length;u++){var g=i[u];this.vertices.push(n[g.a],n[g.b],n[g.c]);var v=g.vertexNormals;if(3===v.length)this.normals.push(v[0],v[1],v[2]);else{var y=g.normal;this.normals.push(y,y,y)}var b,w=g.vertexColors;if(3===w.length)this.colors.push(w[0],w[1],w[2]);else{var x=g.color;this.colors.push(x,x,x)}if(!0===a)void 0!==(b=r[0][u])?this.uvs.push(b[0],b[1],b[2]):this.uvs.push(new Ti.Vector2,new Ti.Vector2,new Ti.Vector2);if(!0===o)void 0!==(b=r[1][u])?this.uvs2.push(b[0],b[1],b[2]):this.uvs2.push(new Ti.Vector2,new Ti.Vector2,new Ti.Vector2);for(var T=0;T<l;T++){var S=s[T].vertices;t[T].push(S[g.a],S[g.b],S[g.c])}for(T=0;T<c;T++){var M=d[T].vertexNormals[u];h[T].push(M.a,M.b,M.c)}m&&this.skinIndices.push(p[g.a],p[g.b],p[g.c]),_&&this.skinWeights.push(f[g.a],f[g.b],f[g.c])}return this.computeGroups(e),this.verticesNeedUpdate=e.verticesNeedUpdate,this.normalsNeedUpdate=e.normalsNeedUpdate,this.colorsNeedUpdate=e.colorsNeedUpdate,this.uvsNeedUpdate=e.uvsNeedUpdate,this.groupsNeedUpdate=e.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},Ti.EventDispatcher.prototype.apply(Ti.DirectGeometry.prototype),Ti.BufferGeometry=function(){Object.defineProperty(this,"id",{value:Ti.GeometryIdCount++}),this.uuid=Ti.Math.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}},Ti.BufferGeometry.prototype={constructor:Ti.BufferGeometry,getIndex:function(){return this.index},setIndex:function(e){this.index=e},addAttribute:function(e,t,i){if(t instanceof Ti.BufferAttribute!=!1||t instanceof Ti.InterleavedBufferAttribute!=!1){if("index"!==e)return this.attributes[e]=t,this;this.setIndex(t)}else this.addAttribute(e,new Ti.BufferAttribute(t,i))},getAttribute:function(e){return this.attributes[e]},removeAttribute:function(e){return delete this.attributes[e],this},addGroup:function(e,t,i){this.groups.push({start:e,count:t,materialIndex:void 0!==i?i:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(e,t){this.drawRange.start=e,this.drawRange.count=t},applyMatrix:function(e){var t=this.attributes.position;void 0!==t&&(e.applyToVector3Array(t.array),t.needsUpdate=!0);var i=this.attributes.normal;void 0!==i&&((new Ti.Matrix3).getNormalMatrix(e).applyToVector3Array(i.array),i.needsUpdate=!0);return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(e){return void 0===tt&&(tt=new Ti.Matrix4),tt.makeRotationX(e),this.applyMatrix(tt),this},rotateY:function(e){return void 0===et&&(et=new Ti.Matrix4),et.makeRotationY(e),this.applyMatrix(et),this},rotateZ:function(e){return void 0===$e&&($e=new Ti.Matrix4),$e.makeRotationZ(e),this.applyMatrix($e),this},translate:function(e,t,i){return void 0===Qe&&(Qe=new Ti.Matrix4),Qe.makeTranslation(e,t,i),this.applyMatrix(Qe),this},scale:function(e,t,i){return void 0===Ze&&(Ze=new Ti.Matrix4),Ze.makeScale(e,t,i),this.applyMatrix(Ze),this},lookAt:function(e){void 0===Je&&(Je=new Ti.Object3D),Je.lookAt(e),Je.updateMatrix(),this.applyMatrix(Je.matrix)},center:function(){this.computeBoundingBox();var e=this.boundingBox.center().negate();return this.translate(e.x,e.y,e.z),e},setFromObject:function(e){var t=e.geometry;if(e instanceof Ti.Points||e instanceof Ti.Line){var i=new Ti.Float32Attribute(3*t.vertices.length,3),n=new Ti.Float32Attribute(3*t.colors.length,3);if(this.addAttribute("position",i.copyVector3sArray(t.vertices)),this.addAttribute("color",n.copyColorsArray(t.colors)),t.lineDistances&&t.lineDistances.length===t.vertices.length){var r=new Ti.Float32Attribute(t.lineDistances.length,1);this.addAttribute("lineDistance",r.copyArray(t.lineDistances))}null!==t.boundingSphere&&(this.boundingSphere=t.boundingSphere.clone()),null!==t.boundingBox&&(this.boundingBox=t.boundingBox.clone())}else e instanceof Ti.Mesh&&t instanceof Ti.Geometry&&this.fromGeometry(t);return this},updateFromObject:function(e){var t,i=e.geometry;if(e instanceof Ti.Mesh){var n=i.__directGeometry;if(void 0===n)return this.fromGeometry(i);n.verticesNeedUpdate=i.verticesNeedUpdate,n.normalsNeedUpdate=i.normalsNeedUpdate,n.colorsNeedUpdate=i.colorsNeedUpdate,n.uvsNeedUpdate=i.uvsNeedUpdate,n.groupsNeedUpdate=i.groupsNeedUpdate,i.verticesNeedUpdate=!1,i.normalsNeedUpdate=!1,i.colorsNeedUpdate=!1,i.uvsNeedUpdate=!1,i.groupsNeedUpdate=!1,i=n}!0===i.verticesNeedUpdate&&(void 0!==(t=this.attributes.position)&&(t.copyVector3sArray(i.vertices),t.needsUpdate=!0),i.verticesNeedUpdate=!1);!0===i.normalsNeedUpdate&&(void 0!==(t=this.attributes.normal)&&(t.copyVector3sArray(i.normals),t.needsUpdate=!0),i.normalsNeedUpdate=!1);!0===i.colorsNeedUpdate&&(void 0!==(t=this.attributes.color)&&(t.copyColorsArray(i.colors),t.needsUpdate=!0),i.colorsNeedUpdate=!1);i.uvsNeedUpdate&&(void 0!==(t=this.attributes.uv)&&(t.copyVector2sArray(i.uvs),t.needsUpdate=!0),i.uvsNeedUpdate=!1);i.lineDistancesNeedUpdate&&(void 0!==(t=this.attributes.lineDistance)&&(t.copyArray(i.lineDistances),t.needsUpdate=!0),i.lineDistancesNeedUpdate=!1);return i.groupsNeedUpdate&&(i.computeGroups(e.geometry),this.groups=i.groups,i.groupsNeedUpdate=!1),this},fromGeometry:function(e){return e.__directGeometry=(new Ti.DirectGeometry).fromGeometry(e),this.fromDirectGeometry(e.__directGeometry)},fromDirectGeometry:function(e){var t=new Float32Array(3*e.vertices.length);if(this.addAttribute("position",new Ti.BufferAttribute(t,3).copyVector3sArray(e.vertices)),0<e.normals.length){var i=new Float32Array(3*e.normals.length);this.addAttribute("normal",new Ti.BufferAttribute(i,3).copyVector3sArray(e.normals))}if(0<e.colors.length){var n=new Float32Array(3*e.colors.length);this.addAttribute("color",new Ti.BufferAttribute(n,3).copyColorsArray(e.colors))}if(0<e.uvs.length){var r=new Float32Array(2*e.uvs.length);this.addAttribute("uv",new Ti.BufferAttribute(r,2).copyVector2sArray(e.uvs))}if(0<e.uvs2.length){var a=new Float32Array(2*e.uvs2.length);this.addAttribute("uv2",new Ti.BufferAttribute(a,2).copyVector2sArray(e.uvs2))}if(0<e.indices.length){var o=new(65535<e.vertices.length?Uint32Array:Uint16Array)(3*e.indices.length);this.setIndex(new Ti.BufferAttribute(o,1).copyIndicesArray(e.indices))}for(var s in this.groups=e.groups,e.morphTargets){for(var l=[],u=e.morphTargets[s],h=0,d=u.length;h<d;h++){var c=u[h],p=new Ti.Float32Attribute(3*c.length,3);l.push(p.copyVector3sArray(c))}this.morphAttributes[s]=l}if(0<e.skinIndices.length){var f=new Ti.Float32Attribute(4*e.skinIndices.length,4);this.addAttribute("skinIndex",f.copyVector4sArray(e.skinIndices))}if(0<e.skinWeights.length){var m=new Ti.Float32Attribute(4*e.skinWeights.length,4);this.addAttribute("skinWeight",m.copyVector4sArray(e.skinWeights))}return null!==e.boundingSphere&&(this.boundingSphere=e.boundingSphere.clone()),null!==e.boundingBox&&(this.boundingBox=e.boundingBox.clone()),this},computeBoundingBox:function(){new Ti.Vector3;return function(){null===this.boundingBox&&(this.boundingBox=new Ti.Box3);var e=this.attributes.position.array;e&&this.boundingBox.setFromArray(e),void 0!==e&&0!==e.length||(this.boundingBox.min.set(0,0,0),this.boundingBox.max.set(0,0,0)),isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z)}}(),computeBoundingSphere:(Xe=new Ti.Box3,Ke=new Ti.Vector3,function(){null===this.boundingSphere&&(this.boundingSphere=new Ti.Sphere);var e=this.attributes.position.array;if(e){var t=this.boundingSphere.center;Xe.setFromArray(e),Xe.center(t);for(var i=0,n=0,r=e.length;n<r;n+=3)Ke.fromArray(e,n),i=Math.max(i,t.distanceToSquared(Ke));this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)}}),computeFaceNormals:function(){},computeVertexNormals:function(){var e=this.index,t=this.attributes,i=this.groups;if(t.position){var n=t.position.array;if(void 0===t.normal)this.addAttribute("normal",new Ti.BufferAttribute(new Float32Array(n.length),3));else for(var r=t.normal.array,a=0,o=r.length;a<o;a++)r[a]=0;var s,l,u,h=t.normal.array,d=new Ti.Vector3,c=new Ti.Vector3,p=new Ti.Vector3,f=new Ti.Vector3,m=new Ti.Vector3;if(e){var _=e.array;0===i.length&&this.addGroup(0,_.length);for(var g=0,v=i.length;g<v;++g){var y=i[g],b=y.start;for(a=b,o=b+y.count;a<o;a+=3)s=3*_[a+0],l=3*_[a+1],u=3*_[a+2],d.fromArray(n,s),c.fromArray(n,l),p.fromArray(n,u),f.subVectors(p,c),m.subVectors(d,c),f.cross(m),h[s]+=f.x,h[1+s]+=f.y,h[2+s]+=f.z,h[l]+=f.x,h[1+l]+=f.y,h[2+l]+=f.z,h[u]+=f.x,h[1+u]+=f.y,h[2+u]+=f.z}}else for(a=0,o=n.length;a<o;a+=9)d.fromArray(n,a),c.fromArray(n,a+3),p.fromArray(n,a+6),f.subVectors(p,c),m.subVectors(d,c),f.cross(m),h[a]=f.x,h[a+1]=f.y,h[a+2]=f.z,h[a+3]=f.x,h[a+4]=f.y,h[a+5]=f.z,h[a+6]=f.x,h[a+7]=f.y,h[a+8]=f.z;this.normalizeNormals(),t.normal.needsUpdate=!0}},merge:function(e,t){if(e instanceof Ti.BufferGeometry!=!1){void 0===t&&(t=0);var i=this.attributes;for(var n in i)if(void 0!==e.attributes[n])for(var r=i[n].array,a=e.attributes[n],o=a.array,s=0,l=a.itemSize*t;s<o.length;s++,l++)r[l]=o[s];return this}},normalizeNormals:function(){for(var e,t,i,n,r=this.attributes.normal.array,a=0,o=r.length;a<o;a+=3)e=r[a],t=r[a+1],i=r[a+2],n=1/Math.sqrt(e*e+t*t+i*i),r[a]*=n,r[a+1]*=n,r[a+2]*=n},toNonIndexed:function(){if(null===this.index)return this;var e=new Ti.BufferGeometry,t=this.index.array,i=this.attributes;for(var n in i){for(var r=i[n],a=r.array,o=r.itemSize,s=new a.constructor(t.length*o),l=0,u=0,h=0,d=t.length;h<d;h++){l=t[h]*o;for(var c=0;c<o;c++)s[u++]=a[l++]}e.addAttribute(n,new Ti.BufferAttribute(s,o))}return e},toJSON:function(){var e={metadata:{version:4.4,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,""!==this.name&&(e.name=this.name),void 0!==this.parameters){var t=this.parameters;for(var i in t)void 0!==t[i]&&(e[i]=t[i]);return e}e.data={attributes:{}};var n=this.index;if(null!==n){var r=Array.prototype.slice.call(n.array);e.data.index={type:n.array.constructor.name,array:r}}var a=this.attributes;for(var i in a){var o=a[i];r=Array.prototype.slice.call(o.array);e.data.attributes[i]={itemSize:o.itemSize,type:o.array.constructor.name,array:r}}var s=this.groups;0<s.length&&(e.data.groups=JSON.parse(JSON.stringify(s)));var l=this.boundingSphere;return null!==l&&(e.data.boundingSphere={center:l.center.toArray(),radius:l.radius}),e},clone:function(){return(new Ti.BufferGeometry).copy(this)},copy:function(e){var t=e.index;null!==t&&this.setIndex(t.clone());var i=e.attributes;for(var n in i){var r=i[n];this.addAttribute(n,r.clone())}for(var a=e.groups,o=0,s=a.length;o<s;o++){var l=a[o];this.addGroup(l.start,l.count)}return this},dispose:function(){this.dispatchEvent({type:"dispose"})}},Ti.EventDispatcher.prototype.apply(Ti.BufferGeometry.prototype),Ti.BufferGeometry.MaxIndex=65535,Ti.InstancedBufferGeometry=function(){Ti.BufferGeometry.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0},Ti.InstancedBufferGeometry.prototype=Object.create(Ti.BufferGeometry.prototype),Ti.InstancedBufferGeometry.prototype.constructor=Ti.InstancedBufferGeometry,Ti.InstancedBufferGeometry.prototype.addGroup=function(e,t,i){this.groups.push({start:e,count:t,instances:i})},Ti.InstancedBufferGeometry.prototype.copy=function(e){var t=e.index;null!==t&&this.setIndex(t.clone());var i=e.attributes;for(var n in i){var r=i[n];this.addAttribute(n,r.clone())}for(var a=e.groups,o=0,s=a.length;o<s;o++){var l=a[o];this.addGroup(l.start,l.count,l.instances)}return this},Ti.EventDispatcher.prototype.apply(Ti.InstancedBufferGeometry.prototype),Ti.Uniform=function(e,t){this.type=e,this.value=t,this.dynamic=!1},Ti.Uniform.prototype={constructor:Ti.Uniform,onUpdate:function(e){return this.dynamic=!0,this.onUpdateCallback=e,this}},Ti.AnimationClip=function(e,t,i){this.name=e||Ti.Math.generateUUID(),this.tracks=i,this.duration=void 0!==t?t:-1,this.duration<0&&this.resetDuration(),this.trim(),this.optimize()},Ti.AnimationClip.prototype={constructor:Ti.AnimationClip,resetDuration:function(){for(var e=0,t=0,i=this.tracks.length;t!==i;++t){var n=this.tracks[t];e=Math.max(e,n.times[n.times.length-1])}this.duration=e},trim:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this},optimize:function(){for(var e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}},Object.assign(Ti.AnimationClip,{parse:function(e){for(var t=[],i=e.tracks,n=1/(e.fps||1),r=0,a=i.length;r!==a;++r)t.push(Ti.KeyframeTrack.parse(i[r]).scale(n));return new Ti.AnimationClip(e.name,e.duration,t)},toJSON:function(e){for(var t=[],i=e.tracks,n={name:e.name,duration:e.duration,tracks:t},r=0,a=i.length;r!==a;++r)t.push(Ti.KeyframeTrack.toJSON(i[r]));return n},CreateFromMorphTargetSequence:function(e,t,i){for(var n=t.length,r=[],a=0;a<n;a++){var o=[],s=[];o.push((a+n-1)%n,a,(a+1)%n),s.push(0,1,0);var l=Ti.AnimationUtils.getKeyframeOrder(o);o=Ti.AnimationUtils.sortedArray(o,1,l),s=Ti.AnimationUtils.sortedArray(s,1,l),0===o[0]&&(o.push(n),s.push(s[0])),r.push(new Ti.NumberKeyframeTrack(".morphTargetInfluences["+t[a].name+"]",o,s).scale(1/i))}return new Ti.AnimationClip(e,-1,r)},findByName:function(e,t){for(var i=0;i<e.length;i++)if(e[i].name===t)return e[i];return null},CreateClipsFromMorphTargetSequences:function(e,t){for(var i={},n=/^([\w-]*?)([\d]+)$/,r=0,a=e.length;r<a;r++){var o=e[r],s=o.name.match(n);if(s&&1<s.length){var l=i[h=s[1]];l||(i[h]=l=[]),l.push(o)}}var u=[];for(var h in i)u.push(Ti.AnimationClip.CreateFromMorphTargetSequence(h,i[h],t));return u},parseAnimation:function(e,t){if(!e)return null;for(var i=function(e,t,i,n,r){if(0!==i.length){var a=[],o=[];Ti.AnimationUtils.flattenJSON(i,a,o,n),0!==a.length&&r.push(new e(t,a,o))}},n=[],r=e.name||"default",a=e.length||-1,o=e.fps||30,s=e.hierarchy||[],l=0;l<s.length;l++){var u=s[l].keys;if(u&&0!=u.length)if(u[0].morphTargets){for(var h={},d=0;d<u.length;d++)if(u[d].morphTargets)for(var c=0;c<u[d].morphTargets.length;c++)h[u[d].morphTargets[c]]=-1;for(var p in h){var f=[],m=[];for(c=0;c!==u[d].morphTargets.length;++c){var _=u[d];f.push(_.time),m.push(_.morphTarget===p?1:0)}n.push(new Ti.NumberKeyframeTrack(".morphTargetInfluence["+p+"]",f,m))}a=h.length*(o||1)}else{var g=".bones["+t[l].name+"]";i(Ti.VectorKeyframeTrack,g+".position",u,"pos",n),i(Ti.QuaternionKeyframeTrack,g+".quaternion",u,"rot",n),i(Ti.VectorKeyframeTrack,g+".scale",u,"scl",n)}}return 0===n.length?null:new Ti.AnimationClip(r,a,n)}}),Ti.AnimationMixer=function(e){this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1},Ti.AnimationMixer.prototype={constructor:Ti.AnimationMixer,clipAction:function(e,t){var i,n=(t||this._root).uuid,r="string"==typeof e?e:e.name,a=e!==r?e:null,o=this._actionsByClip[r];if(void 0!==o){var s=o.actionByRoot[n];if(void 0!==s)return s;if(a=(i=o.knownActions[0])._clip,e!==r&&e!==a)throw new Error("Different clips with the same name detected!")}if(null===a)return null;var l=new Ti.AnimationMixer._Action(this,a,t);return this._bindAction(l,i),this._addInactiveAction(l,r,n),l},existingAction:function(e,t){var i=(t||this._root).uuid,n="string"==typeof e?e:e.name,r=this._actionsByClip[n];return void 0!==r&&r.actionByRoot[i]||null},stopAllAction:function(){var e=this._actions,t=this._nActiveActions,i=this._bindings,n=this._nActiveBindings;this._nActiveActions=0;for(var r=this._nActiveBindings=0;r!==t;++r)e[r].reset();for(r=0;r!==n;++r)i[r].useCount=0;return this},update:function(e){e*=this.timeScale;for(var t=this._actions,i=this._nActiveActions,n=this.time+=e,r=Math.sign(e),a=this._accuIndex^=1,o=0;o!==i;++o){var s=t[o];s.enabled&&s._update(n,e,r,a)}var l=this._bindings,u=this._nActiveBindings;for(o=0;o!==u;++o)l[o].apply(a);return this},getRoot:function(){return this._root},uncacheClip:function(e){var t=this._actions,i=e.name,n=this._actionsByClip,r=n[i];if(void 0!==r){for(var a=r.knownActions,o=0,s=a.length;o!==s;++o){var l=a[o];this._deactivateAction(l);var u=l._cacheIndex,h=t[t.length-1];l._cacheIndex=null,l._byClipCacheIndex=null,t[h._cacheIndex=u]=h,t.pop(),this._removeInactiveBindingsForAction(l)}delete n[i]}},uncacheRoot:function(e){var t=e.uuid,i=this._actionsByClip;for(var n in i){var r=i[n].actionByRoot[t];void 0!==r&&(this._deactivateAction(r),this._removeInactiveAction(r))}var a=this._bindingsByRootAndName[t];if(void 0!==a)for(var o in a){var s=a[o];s.restoreOriginalState(),this._removeInactiveBinding(s)}},uncacheAction:function(e,t){var i=this.existingAction(e,t);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}},Ti.EventDispatcher.prototype.apply(Ti.AnimationMixer.prototype),Ti.AnimationMixer._Action=function(e,t,i){this._mixer=e,this._clip=t,this._localRoot=i||null;for(var n=t.tracks,r=n.length,a=new Array(r),o={endingStart:Ti.ZeroCurvatureEnding,endingEnd:Ti.ZeroCurvatureEnding},s=0;s!==r;++s){var l=n[s].createInterpolant(null);(a[s]=l).settings=o}this._interpolantSettings=o,this._interpolants=a,this._propertyBindings=new Array(r),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Ti.LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0},Ti.AnimationMixer._Action.prototype={constructor:Ti.AnimationMixer._Action,play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){this._startTime;return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(e){return this._startTime=e,this},setLoop:function(e,t){return this.loop=e,this.repetitions=t,this},setEffectiveWeight:function(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(e){return this._scheduleFading(e,0,1)},fadeOut:function(e){return this._scheduleFading(e,1,0)},crossFadeFrom:function(e,t,i){this._mixer;if(e.fadeOut(t),this.fadeIn(t),i){var n=this._clip.duration,r=e._clip.duration,a=r/n,o=n/r;e.warp(1,a,t),this.warp(o,1,t)}return this},crossFadeTo:function(e,t,i){return e.crossFadeFrom(this,t,i)},stopFading:function(){var e=this._weightInterpolant;return null!==e&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},setEffectiveTimeScale:function(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(e){return this.timeScale=this._clip.duration/e,this.stopWarping()},syncWith:function(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()},halt:function(e){return this.warp(this._currentTimeScale,0,e)},warp:function(e,t,i){var n=this._mixer,r=n.time,a=this._timeScaleInterpolant,o=this.timeScale;null===a&&(a=n._lendControlInterpolant(),this._timeScaleInterpolant=a);var s=a.parameterPositions,l=a.sampleValues;return s[0]=r,s[1]=r+i,l[0]=e/o,l[1]=t/o,this},stopWarping:function(){var e=this._timeScaleInterpolant;return null!==e&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(e,t,i,n){var r=this._startTime;if(null!==r){var a=(e-r)*i;if(a<0||0===i)return;this._startTime=null,t=i*a}t*=this._updateTimeScale(e);var o=this._updateTime(t),s=this._updateWeight(e);if(0<s)for(var l=this._interpolants,u=this._propertyBindings,h=0,d=l.length;h!==d;++h)l[h].evaluate(o),u[h].accumulate(n,s)},_updateWeight:function(e){var t=0;if(this.enabled){t=this.weight;var i=this._weightInterpolant;if(null!==i){var n=i.evaluate(e)[0];t*=n,e>i.parameterPositions[1]&&(this.stopFading(),0===n&&(this.enabled=!1))}}return this._effectiveWeight=t},_updateTimeScale:function(e){var t=0;if(!this.paused){t=this.timeScale;var i=this._timeScaleInterpolant;if(null!==i)t*=i.evaluate(e)[0],e>i.parameterPositions[1]&&(this.stopWarping(),0===t?this.pause=!0:this.timeScale=t)}return this._effectiveTimeScale=t},_updateTime:function(e){var t=this.time+e;if(0===e)return t;var i=this._clip.duration,n=this.loop,r=this._loopCount,a=!1;switch(n){case Ti.LoopOnce:if(-1===r&&(this.loopCount=0,this._setEndings(!0,!0,!1)),i<=t)t=i;else{if(!(t<0))break;t=0}this.clampWhenFinished?this.pause=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1});break;case Ti.LoopPingPong:a=!0;case Ti.LoopRepeat:if(-1===r&&(0<e?(r=0,this._setEndings(!0,0===this.repetitions,a)):this._setEndings(0===this.repetitions,!0,a)),i<=t||t<0){var o=Math.floor(t/i);t-=i*o,r+=Math.abs(o);var s=this.repetitions-r;if(s<0){this.clampWhenFinished?this.paused=!0:this.enabled=!1,t=0<e?i:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:0<e?1:-1});break}if(0==s){var l=e<0;this._setEndings(l,!l,a)}else this._setEndings(!1,!1,a);this._loopCount=r,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}if(n===Ti.LoopPingPong&&1==(1&r))return i-(this.time=t)}return this.time=t},_setEndings:function(e,t,i){var n=this._interpolantSettings;i?(n.endingStart=Ti.ZeroSlopeEnding,n.endingEnd=Ti.ZeroSlopeEnding):(n.endingStart=e?this.zeroSlopeAtStart?Ti.ZeroSlopeEnding:Ti.ZeroCurvatureEnding:Ti.WrapAroundEnding,n.endingEnd=t?this.zeroSlopeAtEnd?Ti.ZeroSlopeEnding:Ti.ZeroCurvatureEnding:Ti.WrapAroundEnding)},_scheduleFading:function(e,t,i){var n=this._mixer,r=n.time,a=this._weightInterpolant;null===a&&(a=n._lendControlInterpolant(),this._weightInterpolant=a);var o=a.parameterPositions,s=a.sampleValues;return o[0]=r,s[0]=t,o[1]=r+e,s[1]=i,this}},Object.assign(Ti.AnimationMixer.prototype,{_bindAction:function(e,t){var i=e._localRoot||this._root,n=e._clip.tracks,r=n.length,a=e._propertyBindings,o=e._interpolants,s=i.uuid,l=this._bindingsByRootAndName,u=l[s];void 0===u&&(u={},l[s]=u);for(var h=0;h!==r;++h){var d=n[h],c=d.name,p=u[c];if(void 0!==p)a[h]=p;else{if(void 0!==(p=a[h])){null===p._cacheIndex&&(++p.referenceCount,this._addInactiveBinding(p,s,c));continue}var f=t&&t._propertyBindings[h].binding.parsedPath;++(p=new Ti.PropertyMixer(Ti.PropertyBinding.create(i,c,f),d.ValueTypeName,d.getValueSize())).referenceCount,this._addInactiveBinding(p,s,c),a[h]=p}o[h].resultBuffer=p.buffer}},_activateAction:function(e){if(!this._isActiveAction(e)){if(null===e._cacheIndex){var t=(e._localRoot||this._root).uuid,i=e._clip.name,n=this._actionsByClip[i];this._bindAction(e,n&&n.knownActions[0]),this._addInactiveAction(e,i,t)}for(var r=e._propertyBindings,a=0,o=r.length;a!==o;++a){var s=r[a];0==s.useCount++&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}},_deactivateAction:function(e){if(this._isActiveAction(e)){for(var t=e._propertyBindings,i=0,n=t.length;i!==n;++i){var r=t[i];0==--r.useCount&&(r.restoreOriginalState(),this._takeBackBinding(r))}this._takeBackAction(e)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}},_isActiveAction:function(e){var t=e._cacheIndex;return null!==t&&t<this._nActiveActions},_addInactiveAction:function(e,t,i){var n=this._actions,r=this._actionsByClip,a=r[t];if(void 0===a)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,r[t]=a;else{var o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=n.length,n.push(e),a.actionByRoot[i]=e},_removeInactiveAction:function(e){var t=this._actions,i=t[t.length-1],n=e._cacheIndex;t[i._cacheIndex=n]=i,t.pop(),e._cacheIndex=null;var r=e._clip.name,a=this._actionsByClip,o=a[r],s=o.knownActions,l=s[s.length-1],u=e._byClipCacheIndex;s[l._byClipCacheIndex=u]=l,s.pop(),e._byClipCacheIndex=null,delete o.actionByRoot[(t._localRoot||this._root).uuid],0===s.length&&delete a[r],this._removeInactiveBindingsForAction(e)},_removeInactiveBindingsForAction:function(e){for(var t=e._propertyBindings,i=0,n=t.length;i!==n;++i){var r=t[i];0==--r.referenceCount&&this._removeInactiveBinding(r)}},_lendAction:function(e){var t=this._actions,i=e._cacheIndex,n=this._nActiveActions++,r=t[n];t[e._cacheIndex=n]=e,t[r._cacheIndex=i]=r},_takeBackAction:function(e){var t=this._actions,i=e._cacheIndex,n=--this._nActiveActions,r=t[n];t[e._cacheIndex=n]=e,t[r._cacheIndex=i]=r},_addInactiveBinding:function(e,t,i){var n=this._bindingsByRootAndName,r=n[t],a=this._bindings;void 0===r&&(r={},n[t]=r),(r[i]=e)._cacheIndex=a.length,a.push(e)},_removeInactiveBinding:function(e){var t=this._bindings,i=e.binding,n=i.rootNode.uuid,r=i.path,a=this._bindingsByRootAndName,o=a[n],s=t[t.length-1],l=e._cacheIndex;t[s._cacheIndex=l]=s,t.pop(),delete o[r];e:{for(var u in o)break e;delete a[n]}},_lendBinding:function(e){var t=this._bindings,i=e._cacheIndex,n=this._nActiveBindings++,r=t[n];t[e._cacheIndex=n]=e,t[r._cacheIndex=i]=r},_takeBackBinding:function(e){var t=this._bindings,i=e._cacheIndex,n=--this._nActiveBindings,r=t[n];t[e._cacheIndex=n]=e,t[r._cacheIndex=i]=r},_lendControlInterpolant:function(){var e=this._controlInterpolants,t=this._nActiveControlInterpolants++,i=e[t];return void 0===i&&(e[(i=new Ti.LinearInterpolant(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=t]=i),i},_takeBackControlInterpolant:function(e){var t=this._controlInterpolants,i=e.__cacheIndex,n=--this._nActiveControlInterpolants,r=t[n];t[e.__cacheIndex=n]=e,t[r.__cacheIndex=i]=r},_controlInterpolantsResultBuffer:new Float32Array(1)}),Ti.AnimationObjectGroup=function(e){this.uuid=Ti.Math.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var t={};this._indicesByUUID=t;for(var i=0,n=arguments.length;i!==n;++i)t[arguments[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var r=this;this.stats={objects:{get total(){return r._objects.length},get inUse(){return this.total-r.nCachedObjects_}},get bindingsPerObject(){return r._bindings.length}}},Ti.AnimationObjectGroup.prototype={constructor:Ti.AnimationObjectGroup,add:function(e){for(var t=this._objects,i=t.length,n=this.nCachedObjects_,r=this._indicesByUUID,a=this._paths,o=this._parsedPaths,s=this._bindings,l=s.length,u=0,h=arguments.length;u!==h;++u){var d=arguments[u],c=d.uuid,p=r[c];if(void 0===p){p=i++,r[c]=p,t.push(d);for(var f=0,m=l;f!==m;++f)s[f].push(new Ti.PropertyBinding(d,a[f],o[f]))}else if(p<n){t[p];var _=--n,g=t[_];t[r[g.uuid]=p]=g,t[r[c]=_]=d;for(f=0,m=l;f!==m;++f){var v=s[f],y=v[_],b=v[p];v[p]=y,void 0===b&&(b=new Ti.PropertyBinding(d,a[f],o[f])),v[_]=b}}else t[p]}this.nCachedObjects_=n},remove:function(e){for(var t=this._objects,i=(t.length,this.nCachedObjects_),n=this._indicesByUUID,r=this._bindings,a=r.length,o=0,s=arguments.length;o!==s;++o){var l=arguments[o],u=l.uuid,h=n[u];if(void 0!==h&&i<=h){var d=i++,c=t[d];t[n[c.uuid]=h]=c,t[n[u]=d]=l;for(var p=0,f=a;p!==f;++p){var m=r[p],_=m[d],g=m[h];m[h]=_,m[d]=g}}}this.nCachedObjects_=i},uncache:function(e){for(var t=this._objects,i=t.length,n=this.nCachedObjects_,r=this._indicesByUUID,a=this._bindings,o=a.length,s=0,l=arguments.length;s!==l;++s){var u=arguments[s].uuid,h=r[u];if(void 0!==h)if(delete r[u],h<n){var d=--n,c=t[d],p=t[v=--i];t[r[c.uuid]=h]=c,t[r[p.uuid]=d]=p,t.pop();for(var f=0,m=o;f!==m;++f){var _=(y=a[f])[d],g=y[v];y[h]=_,y[d]=g,y.pop()}}else{var v;t[r[(p=t[v=--i]).uuid]=h]=p,t.pop();for(f=0,m=o;f!==m;++f){var y;(y=a[f])[h]=y[v],y.pop()}}}this.nCachedObjects_=n},subscribe_:function(e,t){var i=this._bindingsIndicesByPath,n=i[e],r=this._bindings;if(void 0!==n)return r[n];var a=this._paths,o=this._parsedPaths,s=this._objects,l=s.length,u=this.nCachedObjects_,h=new Array(l);n=r.length,i[e]=n,a.push(e),o.push(t),r.push(h);for(var d=u,c=s.length;d!==c;++d){var p=s[d];h[d]=new Ti.PropertyBinding(p,e,t)}return h},unsubscribe_:function(e){var t=this._bindingsIndicesByPath,i=t[e];if(void 0!==i){var n=this._paths,r=this._parsedPaths,a=this._bindings,o=a.length-1,s=a[o];a[t[e[o]]=i]=s,a.pop(),r[i]=r[o],r.pop(),n[i]=n[o],n.pop()}}},Ti.AnimationUtils={arraySlice:function(e,t,i){return Ti.AnimationUtils.isTypedArray(e)?new e.constructor(e.subarray(t,i)):e.slice(t,i)},convertArray:function(e,t,i){return!e||!i&&e.constructor===t?e:"number"==typeof t.BYTES_PER_ELEMENT?new t(e):Array.prototype.slice.call(e)},isTypedArray:function(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)},getKeyframeOrder:function(i){for(var e=i.length,t=new Array(e),n=0;n!==e;++n)t[n]=n;return t.sort(function(e,t){return i[e]-i[t]}),t},sortedArray:function(e,t,i){for(var n=e.length,r=new e.constructor(n),a=0,o=0;o!==n;++a)for(var s=i[a]*t,l=0;l!==t;++l)r[o++]=e[s+l];return r},flattenJSON:function(e,t,i,n){for(var r=1,a=e[0];void 0!==a&&void 0===a[n];)a=e[r++];if(void 0!==a){var o=a[n];if(void 0!==o)if(Array.isArray(o))for(;void 0!==(o=a[n])&&(t.push(a.time),i.push.apply(i,o)),void 0!==(a=e[r++]););else if(void 0!==o.toArray)for(;void 0!==(o=a[n])&&(t.push(a.time),o.toArray(i,i.length)),void 0!==(a=e[r++]););else for(;void 0!==(o=a[n])&&(t.push(a.time),i.push(o)),void 0!==(a=e[r++]););}}},Ti.KeyframeTrack=function(e,t,i,n){if(void 0===e)throw new Error("track name is undefined");if(void 0===t||0===t.length)throw new Error("no keyframes in track named "+e);this.name=e,this.times=Ti.AnimationUtils.convertArray(t,this.TimeBufferType),this.values=Ti.AnimationUtils.convertArray(i,this.ValueBufferType),this.setInterpolation(n||this.DefaultInterpolation),this.validate(),this.optimize()},Ti.KeyframeTrack.prototype={constructor:Ti.KeyframeTrack,TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:Ti.InterpolateLinear,InterpolantFactoryMethodDiscrete:function(e){return new Ti.DiscreteInterpolant(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodLinear:function(e){return new Ti.LinearInterpolant(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:function(e){return new Ti.CubicInterpolant(this.times,this.values,this.getValueSize(),e)},setInterpolation:function(e){var t=void 0;switch(e){case Ti.InterpolateDiscrete:t=this.InterpolantFactoryMethodDiscrete;break;case Ti.InterpolateLinear:t=this.InterpolantFactoryMethodLinear;break;case Ti.InterpolateSmooth:t=this.InterpolantFactoryMethodSmooth}if(void 0!==t)this.createInterpolant=t;else{var i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(e===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}}},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Ti.InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return Ti.InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return Ti.InterpolateSmooth}},getValueSize:function(){return this.values.length/this.times.length},shift:function(e){if(0!==e)for(var t=this.times,i=0,n=t.length;i!==n;++i)t[i]+=e;return this},scale:function(e){if(1!==e)for(var t=this.times,i=0,n=t.length;i!==n;++i)t[i]*=e;return this},trim:function(e,t){for(var i=this.times,n=i.length,r=0,a=n-1;r!==n&&i[r]<e;)++r;for(;-1!==a&&i[a]>t;)--a;if(++a,0!==r||a!==n){a<=r&&(r=(a=Math.max(a,1))-1);var o=this.getValueSize();this.times=Ti.AnimationUtils.arraySlice(i,r,a),this.values=Ti.AnimationUtils.arraySlice(this.values,r*o,a*o)}return this},validate:function(){var e=!0,t=this.getValueSize();t-Math.floor(t)!=0&&(e=!1);var i=this.times,n=this.values,r=i.length;0===r&&(e=!1);for(var a=null,o=0;o!==r;o++){var s=i[o];if("number"==typeof s&&isNaN(s)){e=!1;break}if(null!==a&&s<a){e=!1;break}a=s}if(void 0!==n&&Ti.AnimationUtils.isTypedArray(n)){o=0;for(var l=n.length;o!==l;++o){var u=n[o];if(isNaN(u)){e=!1;break}}}return e},optimize:function(){for(var e=this.times,t=this.values,i=this.getValueSize(),n=1,r=1,a=e.length-1;r<=a;++r){var o=!1,s=e[r];if(s!==e[r+1]&&(1!==r||s!==s[0]))for(var l=r*i,u=l-i,h=l+i,d=0;d!==i;++d){var c=t[l+d];if(c!==t[u+d]||c!==t[h+d]){o=!0;break}}if(o){if(r!==n){e[n]=e[r];var p=r*i,f=n*i;for(d=0;d!==i;++d)t[f+d]=t[p+d]}++n}}return n!==e.length&&(this.times=Ti.AnimationUtils.arraySlice(e,0,n),this.values=Ti.AnimationUtils.arraySlice(t,0,n*i)),this}},Object.assign(Ti.KeyframeTrack,{parse:function(e){if(void 0===e.type)throw new Error("track type undefined, can not parse");var t=Ti.KeyframeTrack._getTrackTypeForValueTypeName(e.type);if(void 0===e.times){var i=[],n=[];Ti.AnimationUtils.flattenJSON(e.keys,i,n,"value"),e.times=i,e.values=n}return void 0!==t.parse?t.parse(e):new t(e.name,e.times,e.values,e.interpolation)},toJSON:function(e){var t,i=e.constructor;if(void 0!==i.toJSON)t=i.toJSON(e);else{t={name:e.name,times:Ti.AnimationUtils.convertArray(e.times,Array),values:Ti.AnimationUtils.convertArray(e.values,Array)};var n=e.getInterpolation();n!==e.DefaultInterpolation&&(t.interpolation=n)}return t.type=e.ValueTypeName,t},_getTrackTypeForValueTypeName:function(e){switch(e.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ti.NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return Ti.VectorKeyframeTrack;case"color":return Ti.ColorKeyframeTrack;case"quaternion":return Ti.QuaternionKeyframeTrack;case"bool":case"boolean":return Ti.BooleanKeyframeTrack;case"string":return Ti.StringKeyframeTrack}throw new Error("Unsupported typeName: "+e)}}),Ti.PropertyBinding=function(e,t,i){this.path=t,this.parsedPath=i||Ti.PropertyBinding.parseTrackName(t),this.node=Ti.PropertyBinding.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e},Ti.PropertyBinding.prototype={constructor:Ti.PropertyBinding,getValue:function(e,t){this.bind(),this.getValue(e,t)},setValue:function(e,t){this.bind(),this.setValue(e,t)},bind:function(){var e=this.node,t=this.parsedPath,i=t.objectName,n=t.propertyName,r=t.propertyIndex;if(e||(e=Ti.PropertyBinding.findNode(this.rootNode,t.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,e){if(i){var a=t.objectIndex;switch(i){case"materials":if(!e.material)return;if(!e.material.materials)return;e=e.material.materials;break;case"bones":if(!e.skeleton)return;e=e.skeleton.bones;for(var o=0;o<e.length;o++)if(e[o].name===a){a=o;break}break;default:if(void 0===e[i])return;e=e[i]}if(void 0!==a){if(void 0===e[a])return;e=e[a]}}var s=e[n];if(s){var l=this.Versioning.None;void 0!==e.needsUpdate?(l=this.Versioning.NeedsUpdate,this.targetObject=e):void 0!==e.matrixWorldNeedsUpdate&&(l=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=e);var u=this.BindingType.Direct;if(void 0!==r){if("morphTargetInfluences"===n){if(!e.geometry)return;if(!e.geometry.morphTargets)return;for(o=0;o<this.node.geometry.morphTargets.length;o++)if(e.geometry.morphTargets[o].name===r){r=o;break}}u=this.BindingType.ArrayElement,this.resolvedProperty=s,this.propertyIndex=r}else void 0!==s.fromArray&&void 0!==s.toArray?(u=this.BindingType.HasFromToArray,this.resolvedProperty=s):void 0!==s.length?(u=this.BindingType.EntireArray,this.resolvedProperty=s):this.propertyName=n;this.getValue=this.GetterByBindingType[u],this.setValue=this.SetterByBindingTypeAndVersioning[u][l]}else t.nodeName}},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}},Object.assign(Ti.PropertyBinding.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},_getValue_unbound:Ti.PropertyBinding.prototype.getValue,_setValue_unbound:Ti.PropertyBinding.prototype.setValue,BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(e,t){e[t]=this.node[this.propertyName]},function(e,t){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)e[t++]=i[n]},function(e,t){e[t]=this.resolvedProperty[this.propertyIndex]},function(e,t){this.resolvedProperty.toArray(e,t)}],SetterByBindingTypeAndVersioning:[[function(e,t){this.node[this.propertyName]=e[t]},function(e,t){this.node[this.propertyName]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.node[this.propertyName]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=e[t++]},function(e,t){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=e[t++];this.targetObject.needsUpdate=!0},function(e,t){for(var i=this.resolvedProperty,n=0,r=i.length;n!==r;++n)i[n]=e[t++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty[this.propertyIndex]=e[t]},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty[this.propertyIndex]=e[t],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(e,t){this.resolvedProperty.fromArray(e,t)},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.needsUpdate=!0},function(e,t){this.resolvedProperty.fromArray(e,t),this.targetObject.matrixWorldNeedsUpdate=!0}]]}),Ti.PropertyBinding.Composite=function(e,t,i){var n=i||Ti.PropertyBinding.parseTrackName(t);this._targetGroup=e,this._bindings=e.subscribe_(t,n)},Ti.PropertyBinding.Composite.prototype={constructor:Ti.PropertyBinding.Composite,getValue:function(e,t){this.bind();var i=this._targetGroup.nCachedObjects_,n=this._bindings[i];void 0!==n&&n.getValue(e,t)},setValue:function(e,t){for(var i=this._bindings,n=this._targetGroup.nCachedObjects_,r=i.length;n!==r;++n)i[n].setValue(e,t)},bind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].bind()},unbind:function(){for(var e=this._bindings,t=this._targetGroup.nCachedObjects_,i=e.length;t!==i;++t)e[t].unbind()}},Ti.PropertyBinding.create=function(e,t,i){return e instanceof Ti.AnimationObjectGroup?new Ti.PropertyBinding.Composite(e,t,i):new Ti.PropertyBinding(e,t,i)},Ti.PropertyBinding.parseTrackName=function(e){var t=/^(([\w]+\/)*)([\w-\d]+)?(\.([\w]+)(\[([\w\d\[\]\_.:\- ]+)\])?)?(\.([\w.]+)(\[([\w\d\[\]\_. ]+)\])?)$/,i=t.exec(e);if(!i)throw new Error("cannot parse trackName at all: "+e);i.index===t.lastIndex&&t.lastIndex++;var n={nodeName:i[3],objectName:i[5],objectIndex:i[7],propertyName:i[9],propertyIndex:i[11]};if(null===n.propertyName||0===n.propertyName.length)throw new Error("can not parse propertyName from trackName: "+e);return n},Ti.PropertyBinding.findNode=function(e,r){if(!r||""===r||"root"===r||"."===r||-1===r||r===e.name||r===e.uuid)return e;if(e.skeleton){var t=function(e){for(var t=0;t<e.bones.length;t++){var i=e.bones[t];if(i.name===r)return i}return null}(e.skeleton);if(t)return t}if(e.children){var i=function searchNodeSubtree(e){for(var t=0;t<e.length;t++){var i=e[t];if(i.name===r||i.uuid===r)return i;var n=searchNodeSubtree(i.children);if(n)return n}return null}(e.children);if(i)return i}return null},Ti.PropertyMixer=function(e,t,i){this.binding=e,this.valueSize=i;var n,r=Float64Array;switch(t){case"quaternion":n=this._slerp;break;case"string":case"bool":r=Array,n=this._select;break;default:n=this._lerp}this.buffer=new r(4*i),this._mixBufferRegion=n,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0},Ti.PropertyMixer.prototype={constructor:Ti.PropertyMixer,accumulate:function(e,t){var i=this.buffer,n=this.valueSize,r=e*n+n,a=this.cumulativeWeight;if(0===a){for(var o=0;o!==n;++o)i[r+o]=i[o];a=t}else{var s=t/(a+=t);this._mixBufferRegion(i,r,0,s,n)}this.cumulativeWeight=a},apply:function(e){var t=this.valueSize,i=this.buffer,n=e*t+t,r=this.cumulativeWeight,a=this.binding;if(this.cumulativeWeight=0,r<1){var o=3*t;this._mixBufferRegion(i,n,o,1-r,t)}for(var s=t,l=t+t;s!==l;++s)if(i[s]!==i[s+t]){a.setValue(i,n);break}},saveOriginalState:function(){var e=this.binding,t=this.buffer,i=this.valueSize,n=3*i;e.getValue(t,n);for(var r=i,a=n;r!==a;++r)t[r]=t[n+r%i];this.cumulativeWeight=0},restoreOriginalState:function(){var e=3*this.valueSize;this.binding.setValue(this.buffer,e)},_select:function(e,t,i,n,r){if(.5<=n)for(var a=0;a!==r;++a)e[t+a]=e[i+a]},_slerp:function(e,t,i,n){Ti.Quaternion.slerpFlat(e,t,e,t,e,i,n)},_lerp:function(e,t,i,n,r){for(var a=1-n,o=0;o!==r;++o){var s=t+o;e[s]=e[s]*a+e[i+o]*n}}},Ti.BooleanKeyframeTrack=function(e,t,i){Ti.KeyframeTrack.call(this,e,t,i)},Ti.BooleanKeyframeTrack.prototype=Object.assign(Object.create(Ti.KeyframeTrack.prototype),{constructor:Ti.BooleanKeyframeTrack,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:Ti.IntepolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Ti.NumberKeyframeTrack=function(e,t,i,n){Ti.KeyframeTrack.call(this,e,t,i,n)},Ti.NumberKeyframeTrack.prototype=Object.assign(Object.create(Ti.KeyframeTrack.prototype),{constructor:Ti.NumberKeyframeTrack,ValueTypeName:"number"}),Ti.QuaternionKeyframeTrack=function(e,t,i,n){Ti.KeyframeTrack.call(this,e,t,i,n)},Ti.QuaternionKeyframeTrack.prototype=Object.assign(Object.create(Ti.KeyframeTrack.prototype),{constructor:Ti.QuaternionKeyframeTrack,ValueTypeName:"quaternion",DefaultInterpolation:Ti.InterpolateLinear,InterpolantFactoryMethodLinear:function(e){return new Ti.QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),e)},InterpolantFactoryMethodSmooth:void 0}),Ti.StringKeyframeTrack=function(e,t,i,n){Ti.KeyframeTrack.call(this,e,t,i,n)},Ti.StringKeyframeTrack.prototype=Object.assign(Object.create(Ti.KeyframeTrack.prototype),{constructor:Ti.StringKeyframeTrack,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:Ti.IntepolateDiscrete,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),Ti.VectorKeyframeTrack=function(e,t,i,n){Ti.KeyframeTrack.call(this,e,t,i,n)},Ti.VectorKeyframeTrack.prototype=Object.assign(Object.create(Ti.KeyframeTrack.prototype),{constructor:Ti.VectorKeyframeTrack,ValueTypeName:"vector"}),Ti.Audio=function(e){Ti.Object3D.call(this),this.type="Audio",this.context=e.context,this.source=this.context.createBufferSource(),this.source.onended=this.onEnded.bind(this),this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.startTime=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filter=null},Ti.Audio.prototype=Object.create(Ti.Object3D.prototype),Ti.Audio.prototype.constructor=Ti.Audio,Ti.Audio.prototype.getOutput=function(){return this.gain},Ti.Audio.prototype.load=function(e){var t=new Ti.AudioBuffer(this.context);return t.load(e),this.setBuffer(t),this},Ti.Audio.prototype.setNodeSource=function(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this},Ti.Audio.prototype.setBuffer=function(e){var t=this;return e.onReady(function(e){t.source.buffer=e,t.sourceType="buffer",t.autoplay&&t.play()}),this},Ti.Audio.prototype.play=function(){if(!0!==this.isPlaying&&!1!==this.hasPlaybackControl){var e=this.context.createBufferSource();e.buffer=this.source.buffer,e.loop=this.source.loop,e.onended=this.source.onended,e.start(0,this.startTime),e.playbackRate.value=this.playbackRate,this.isPlaying=!0,this.source=e,this.connect()}},Ti.Audio.prototype.pause=function(){!1!==this.hasPlaybackControl&&(this.source.stop(),this.startTime=this.context.currentTime)},Ti.Audio.prototype.stop=function(){!1!==this.hasPlaybackControl&&(this.source.stop(),this.startTime=0)},Ti.Audio.prototype.connect=function(){null!==this.filter?(this.source.connect(this.filter),this.filter.connect(this.getOutput())):this.source.connect(this.getOutput())},Ti.Audio.prototype.disconnect=function(){null!==this.filter?(this.source.disconnect(this.filter),this.filter.disconnect(this.getOutput())):this.source.disconnect(this.getOutput())},Ti.Audio.prototype.getFilter=function(){return this.filter},Ti.Audio.prototype.setFilter=function(e){void 0===e&&(e=null),!0===this.isPlaying?(this.disconnect(),this.filter=e,this.connect()):this.filter=e},Ti.Audio.prototype.setPlaybackRate=function(e){!1!==this.hasPlaybackControl&&(this.playbackRate=e,!0===this.isPlaying&&(this.source.playbackRate.value=this.playbackRate))},Ti.Audio.prototype.getPlaybackRate=function(){return this.playbackRate},Ti.Audio.prototype.onEnded=function(){this.isPlaying=!1},Ti.Audio.prototype.setLoop=function(e){!1!==this.hasPlaybackControl&&(this.source.loop=e)},Ti.Audio.prototype.getLoop=function(){return!1!==this.hasPlaybackControl&&this.source.loop},Ti.Audio.prototype.setVolume=function(e){this.gain.gain.value=e},Ti.Audio.prototype.getVolume=function(){return this.gain.gain.value},Ti.AudioAnalyser=function(e,t){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=void 0!==t?t:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)},Ti.AudioAnalyser.prototype={constructor:Ti.AudioAnalyser,getData:function(){return this.analyser.getByteFrequencyData(this.data),this.data}},Ti.AudioBuffer=function(e){this.context=e,this.ready=!1,this.readyCallbacks=[]},Ti.AudioBuffer.prototype.load=function(e){var i=this,t=new XMLHttpRequest;return t.open("GET",e,!0),t.responseType="arraybuffer",t.onload=function(e){i.context.decodeAudioData(this.response,function(e){i.buffer=e,i.ready=!0;for(var t=0;t<i.readyCallbacks.length;t++)i.readyCallbacks[t](i.buffer);i.readyCallbacks=[]})},t.send(),this},Ti.AudioBuffer.prototype.onReady=function(e){this.ready?e(this.buffer):this.readyCallbacks.push(e)},Ti.PositionalAudio=function(e){Ti.Audio.call(this,e),this.panner=this.context.createPanner(),this.panner.connect(this.gain)},Ti.PositionalAudio.prototype=Object.create(Ti.Audio.prototype),Ti.PositionalAudio.prototype.constructor=Ti.PositionalAudio,Ti.PositionalAudio.prototype.getOutput=function(){return this.panner},Ti.PositionalAudio.prototype.setRefDistance=function(e){this.panner.refDistance=e},Ti.PositionalAudio.prototype.getRefDistance=function(){return this.panner.refDistance},Ti.PositionalAudio.prototype.setRolloffFactor=function(e){this.panner.rolloffFactor=e},Ti.PositionalAudio.prototype.getRolloffFactor=function(){return this.panner.rolloffFactor},Ti.PositionalAudio.prototype.setDistanceModel=function(e){this.panner.distanceModel=e},Ti.PositionalAudio.prototype.getDistanceModel=function(){return this.panner.distanceModel},Ti.PositionalAudio.prototype.setMaxDistance=function(e){this.panner.maxDistance=e},Ti.PositionalAudio.prototype.getMaxDistance=function(){return this.panner.maxDistance},Ti.PositionalAudio.prototype.updateMatrixWorld=(it=new Ti.Vector3,function(e){Ti.Object3D.prototype.updateMatrixWorld.call(this,e),it.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(it.x,it.y,it.z)}),Ti.AudioListener=function(){Ti.Object3D.call(this),this.type="AudioListener",this.context=new(window.AudioContext||window.webkitAudioContext),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null},Ti.AudioListener.prototype=Object.create(Ti.Object3D.prototype),Ti.AudioListener.prototype.constructor=Ti.AudioListener,Ti.AudioListener.prototype.getInput=function(){return this.gain},Ti.AudioListener.prototype.removeFilter=function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},Ti.AudioListener.prototype.setFilter=function(e){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},Ti.AudioListener.prototype.getFilter=function(){return this.filter},Ti.AudioListener.prototype.setMasterVolume=function(e){this.gain.gain.value=e},Ti.AudioListener.prototype.getMasterVolume=function(){return this.gain.gain.value},Ti.AudioListener.prototype.updateMatrixWorld=(nt=new Ti.Vector3,rt=new Ti.Quaternion,at=new Ti.Vector3,ot=new Ti.Vector3,function(e){Ti.Object3D.prototype.updateMatrixWorld.call(this,e);var t=this.context.listener,i=this.up;this.matrixWorld.decompose(nt,rt,at),ot.set(0,0,-1).applyQuaternion(rt),t.setPosition(nt.x,nt.y,nt.z),t.setOrientation(ot.x,ot.y,ot.z,i.x,i.y,i.z)}),Ti.Camera=function(){Ti.Object3D.call(this),this.type="Camera",this.matrixWorldInverse=new Ti.Matrix4,this.projectionMatrix=new Ti.Matrix4},Ti.Camera.prototype=Object.create(Ti.Object3D.prototype),Ti.Camera.prototype.constructor=Ti.Camera,Ti.Camera.prototype.getWorldDirection=(st=new Ti.Quaternion,function(e){var t=e||new Ti.Vector3;return this.getWorldQuaternion(st),t.set(0,0,-1).applyQuaternion(st)}),Ti.Camera.prototype.lookAt=(lt=new Ti.Matrix4,function(e){lt.lookAt(this.position,e,this.up),this.quaternion.setFromRotationMatrix(lt)}),Ti.Camera.prototype.clone=function(){return(new this.constructor).copy(this)},Ti.Camera.prototype.copy=function(e){return Ti.Object3D.prototype.copy.call(this,e),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this},Ti.CubeCamera=function(e,t,i){Ti.Object3D.call(this),this.type="CubeCamera";var r=new Ti.PerspectiveCamera(90,1,e,t);r.up.set(0,-1,0),r.lookAt(new Ti.Vector3(1,0,0)),this.add(r);var a=new Ti.PerspectiveCamera(90,1,e,t);a.up.set(0,-1,0),a.lookAt(new Ti.Vector3(-1,0,0)),this.add(a);var o=new Ti.PerspectiveCamera(90,1,e,t);o.up.set(0,0,1),o.lookAt(new Ti.Vector3(0,1,0)),this.add(o);var s=new Ti.PerspectiveCamera(90,1,e,t);s.up.set(0,0,-1),s.lookAt(new Ti.Vector3(0,-1,0)),this.add(s);var l=new Ti.PerspectiveCamera(90,1,e,t);l.up.set(0,-1,0),l.lookAt(new Ti.Vector3(0,0,1)),this.add(l);var u=new Ti.PerspectiveCamera(90,1,e,t);u.up.set(0,-1,0),u.lookAt(new Ti.Vector3(0,0,-1)),this.add(u);var n={format:Ti.RGBFormat,magFilter:Ti.LinearFilter,minFilter:Ti.LinearFilter};this.renderTarget=new Ti.WebGLRenderTargetCube(i,i,n),this.updateCubeMap=function(e,t){null===this.parent&&this.updateMatrixWorld();var i=this.renderTarget,n=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,i.activeCubeFace=0,e.render(t,r,i),i.activeCubeFace=1,e.render(t,a,i),i.activeCubeFace=2,e.render(t,o,i),i.activeCubeFace=3,e.render(t,s,i),i.activeCubeFace=4,e.render(t,l,i),i.texture.generateMipmaps=n,i.activeCubeFace=5,e.render(t,u,i),e.setRenderTarget(null)}},Ti.CubeCamera.prototype=Object.create(Ti.Object3D.prototype),Ti.CubeCamera.prototype.constructor=Ti.CubeCamera,Ti.OrthographicCamera=function(e,t,i,n,r,a){Ti.Camera.call(this),this.type="OrthographicCamera",this.zoom=1,this.left=e,this.right=t,this.top=i,this.bottom=n,this.near=void 0!==r?r:.1,this.far=void 0!==a?a:2e3,this.updateProjectionMatrix()},Ti.OrthographicCamera.prototype=Object.create(Ti.Camera.prototype),Ti.OrthographicCamera.prototype.constructor=Ti.OrthographicCamera,Ti.OrthographicCamera.prototype.updateProjectionMatrix=function(){var e=(this.right-this.left)/(2*this.zoom),t=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,n=(this.top+this.bottom)/2;this.projectionMatrix.makeOrthographic(i-e,i+e,n+t,n-t,this.near,this.far)},Ti.OrthographicCamera.prototype.copy=function(e){return Ti.Camera.prototype.copy.call(this,e),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this},Ti.OrthographicCamera.prototype.toJSON=function(e){var t=Ti.Object3D.prototype.toJSON.call(this,e);return t.object.zoom=this.zoom,t.object.left=this.left,t.object.right=this.right,t.object.top=this.top,t.object.bottom=this.bottom,t.object.near=this.near,t.object.far=this.far,t},Ti.PerspectiveCamera=function(e,t,i,n){Ti.Camera.call(this),this.type="PerspectiveCamera",this.focalLength=10,this.zoom=1,this.fov=void 0!==e?e:50,this.aspect=void 0!==t?t:1,this.near=void 0!==i?i:.1,this.far=void 0!==n?n:2e3,this.updateProjectionMatrix()},Ti.PerspectiveCamera.prototype=Object.create(Ti.Camera.prototype),Ti.PerspectiveCamera.prototype.constructor=Ti.PerspectiveCamera,Ti.PerspectiveCamera.prototype.setLens=function(e,t){void 0===t&&(t=24),this.fov=2*Ti.Math.radToDeg(Math.atan(t/(2*e))),this.updateProjectionMatrix()},Ti.PerspectiveCamera.prototype.setViewOffset=function(e,t,i,n,r,a){this.fullWidth=e,this.fullHeight=t,this.x=i,this.y=n,this.width=r,this.height=a,this.updateProjectionMatrix()},Ti.PerspectiveCamera.prototype.updateProjectionMatrix=function(){var e=Ti.Math.radToDeg(2*Math.atan(Math.tan(.5*Ti.Math.degToRad(this.fov))/this.zoom));if(this.fullWidth){var t=this.fullWidth/this.fullHeight,i=Math.tan(Ti.Math.degToRad(.5*e))*this.near,n=-i,r=t*n,a=t*i,o=Math.abs(a-r),s=Math.abs(i-n);this.projectionMatrix.makeFrustum(r+this.x*o/this.fullWidth,r+(this.x+this.width)*o/this.fullWidth,i-(this.y+this.height)*s/this.fullHeight,i-this.y*s/this.fullHeight,this.near,this.far)}else this.projectionMatrix.makePerspective(e,this.aspect,this.near,this.far)},Ti.PerspectiveCamera.prototype.copy=function(e){return Ti.Camera.prototype.copy.call(this,e),this.focalLength=e.focalLength,this.zoom=e.zoom,this.fov=e.fov,this.aspect=e.aspect,this.near=e.near,this.far=e.far,this},Ti.PerspectiveCamera.prototype.toJSON=function(e){var t=Ti.Object3D.prototype.toJSON.call(this,e);return t.object.focalLength=this.focalLength,t.object.zoom=this.zoom,t.object.fov=this.fov,t.object.aspect=this.aspect,t.object.near=this.near,t.object.far=this.far,t},Ti.StereoCamera=function(){this.type="StereoCamera",this.aspect=1,this.cameraL=new Ti.PerspectiveCamera,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ti.PerspectiveCamera,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1},Ti.StereoCamera.prototype={constructor:Ti.StereoCamera,update:(ft=new Ti.Matrix4,mt=new Ti.Matrix4,function(e){if(ut!==e.focalLength||ht!==e.fov||dt!==e.aspect*this.aspect||ct!==e.near||pt!==e.far){ut=e.focalLength,ht=e.fov,dt=e.aspect*this.aspect,ct=e.near,pt=e.far;var t,i,n=e.projectionMatrix.clone(),r=.032*ct/ut,a=ct*Math.tan(Ti.Math.degToRad(.5*ht));mt.elements[12]=-.032,ft.elements[12]=.032,t=-a*dt+r,i=a*dt+r,n.elements[0]=2*ct/(i-t),n.elements[8]=(i+t)/(i-t),this.cameraL.projectionMatrix.copy(n),t=-a*dt-r,i=a*dt-r,n.elements[0]=2*ct/(i-t),n.elements[8]=(i+t)/(i-t),this.cameraR.projectionMatrix.copy(n)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(mt),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(ft)})},Ti.Light=function(e,t){Ti.Object3D.call(this),this.type="Light",this.color=new Ti.Color(e),this.intensity=void 0!==t?t:1,this.receiveShadow=void 0},Ti.Light.prototype=Object.create(Ti.Object3D.prototype),Ti.Light.prototype.constructor=Ti.Light,Ti.Light.prototype.copy=function(e){return Ti.Object3D.prototype.copy.call(this,e),this.color.copy(e.color),this.intensity=e.intensity,this},Ti.Light.prototype.toJSON=function(e){var t=Ti.Object3D.prototype.toJSON.call(this,e);return t.object.color=this.color.getHex(),t.object.intensity=this.intensity,void 0!==this.groundColor&&(t.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(t.object.distance=this.distance),void 0!==this.angle&&(t.object.angle=this.angle),void 0!==this.decay&&(t.object.decay=this.decay),void 0!==this.penumbra&&(t.object.penumbra=this.penumbra),t},Ti.LightShadow=function(e){this.camera=e,this.bias=0,this.radius=1,this.mapSize=new Ti.Vector2(512,512),this.map=null,this.matrix=new Ti.Matrix4},Ti.LightShadow.prototype={constructor:Ti.LightShadow,copy:function(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this},clone:function(){return(new this.constructor).copy(this)}},Ti.AmbientLight=function(e,t){Ti.Light.call(this,e,t),this.type="AmbientLight",this.castShadow=void 0},Ti.AmbientLight.prototype=Object.create(Ti.Light.prototype),Ti.AmbientLight.prototype.constructor=Ti.AmbientLight,Ti.DirectionalLight=function(e,t){Ti.Light.call(this,e,t),this.type="DirectionalLight",this.position.set(0,1,0),this.updateMatrix(),this.target=new Ti.Object3D,this.shadow=new Ti.LightShadow(new Ti.OrthographicCamera(-5,5,5,-5,.5,500))},Ti.DirectionalLight.prototype=Object.create(Ti.Light.prototype),Ti.DirectionalLight.prototype.constructor=Ti.DirectionalLight,Ti.DirectionalLight.prototype.copy=function(e){return Ti.Light.prototype.copy.call(this,e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this},Ti.HemisphereLight=function(e,t,i){Ti.Light.call(this,e,i),this.type="HemisphereLight",this.castShadow=void 0,this.position.set(0,1,0),this.updateMatrix(),this.groundColor=new Ti.Color(t)},Ti.HemisphereLight.prototype=Object.create(Ti.Light.prototype),Ti.HemisphereLight.prototype.constructor=Ti.HemisphereLight,Ti.HemisphereLight.prototype.copy=function(e){return Ti.Light.prototype.copy.call(this,e),this.groundColor.copy(e.groundColor),this},Ti.PointLight=function(e,t,i,n){Ti.Light.call(this,e,t),this.type="PointLight",this.distance=void 0!==i?i:0,this.decay=void 0!==n?n:1,this.shadow=new Ti.LightShadow(new Ti.PerspectiveCamera(90,1,.5,500))},Ti.PointLight.prototype=Object.create(Ti.Light.prototype),Ti.PointLight.prototype.constructor=Ti.PointLight,Object.defineProperty(Ti.PointLight.prototype,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(e){this.intensity=e/(4*Math.PI)}}),Ti.PointLight.prototype.copy=function(e){return Ti.Light.prototype.copy.call(this,e),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this},Ti.SpotLight=function(e,t,i,n,r,a){Ti.Light.call(this,e,t),this.type="SpotLight",this.position.set(0,1,0),this.updateMatrix(),this.target=new Ti.Object3D,this.distance=void 0!==i?i:0,this.angle=void 0!==n?n:Math.PI/3,this.penumbra=void 0!==r?r:0,this.decay=void 0!==a?a:1,this.shadow=new Ti.LightShadow(new Ti.PerspectiveCamera(50,1,.5,500))},Ti.SpotLight.prototype=Object.create(Ti.Light.prototype),Ti.SpotLight.prototype.constructor=Ti.SpotLight,Object.defineProperty(Ti.SpotLight.prototype,"power",{get:function(){return this.intensity*Math.PI},set:function(e){this.intensity=e/Math.PI}}),Ti.SpotLight.prototype.copy=function(e){return Ti.Light.prototype.copy.call(this,e),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this},Ti.Cache={enabled:!1,files:{},add:function(e,t){!1!==this.enabled&&(this.files[e]=t)},get:function(e){if(!1!==this.enabled)return this.files[e]},remove:function(e){delete this.files[e]},clear:function(){this.files={}}},Ti.Loader=function(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}},Ti.Loader.prototype={constructor:Ti.Loader,crossOrigin:void 0,extractUrlBase:function(e){var t=e.split("/");return 1===t.length?"./":(t.pop(),t.join("/")+"/")},initMaterials:function(e,t,i){for(var n=[],r=0;r<e.length;++r)n[r]=this.createMaterial(e[r],t,i);return n},createMaterial:function(e,u,h){void 0===_t&&(_t=new Ti.Color),void 0===gt&&(gt=new Ti.TextureLoader),void 0===vt&&(vt=new Ti.MaterialLoader);var d={};function loadTexture(e,t,i,n,r){var a,o=u+e,s=Ti.Loader.Handlers.get(o);a=null!==s?s.load(o):(gt.setCrossOrigin(h),gt.load(o)),void 0!==t&&(a.repeat.fromArray(t),1!==t[0]&&(a.wrapS=Ti.RepeatWrapping),1!==t[1]&&(a.wrapT=Ti.RepeatWrapping)),void 0!==i&&a.offset.fromArray(i),void 0!==n&&("repeat"===n[0]&&(a.wrapS=Ti.RepeatWrapping),"mirror"===n[0]&&(a.wrapS=Ti.MirroredRepeatWrapping),"repeat"===n[1]&&(a.wrapT=Ti.RepeatWrapping),"mirror"===n[1]&&(a.wrapT=Ti.MirroredRepeatWrapping)),void 0!==r&&(a.anisotropy=r);var l=Ti.Math.generateUUID();return d[l]=a,l}var t={uuid:Ti.Math.generateUUID(),type:"MeshLambertMaterial"};for(var i in e){var n=e[i];switch(i){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":t.name=n;break;case"blending":t.blending=Ti[n];break;case"colorAmbient":case"mapAmbient":break;case"colorDiffuse":t.color=_t.fromArray(n).getHex();break;case"colorSpecular":t.specular=_t.fromArray(n).getHex();break;case"colorEmissive":t.emissive=_t.fromArray(n).getHex();break;case"specularCoef":t.shininess=n;break;case"shading":"basic"===n.toLowerCase()&&(t.type="MeshBasicMaterial"),"phong"===n.toLowerCase()&&(t.type="MeshPhongMaterial");break;case"mapDiffuse":t.map=loadTexture(n,e.mapDiffuseRepeat,e.mapDiffuseOffset,e.mapDiffuseWrap,e.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapLight":t.lightMap=loadTexture(n,e.mapLightRepeat,e.mapLightOffset,e.mapLightWrap,e.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":t.aoMap=loadTexture(n,e.mapAORepeat,e.mapAOOffset,e.mapAOWrap,e.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":t.bumpMap=loadTexture(n,e.mapBumpRepeat,e.mapBumpOffset,e.mapBumpWrap,e.mapBumpAnisotropy);break;case"mapBumpScale":t.bumpScale=n;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":t.normalMap=loadTexture(n,e.mapNormalRepeat,e.mapNormalOffset,e.mapNormalWrap,e.mapNormalAnisotropy);break;case"mapNormalFactor":t.normalScale=[n,n];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":t.specularMap=loadTexture(n,e.mapSpecularRepeat,e.mapSpecularOffset,e.mapSpecularWrap,e.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapAlpha":t.alphaMap=loadTexture(n,e.mapAlphaRepeat,e.mapAlphaOffset,e.mapAlphaWrap,e.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":t.side=Ti.BackSide;break;case"doubleSided":t.side=Ti.DoubleSide;break;case"transparency":t.opacity=n;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":t[i]=n;break;case"vertexColors":!0===n&&(t.vertexColors=Ti.VertexColors),"face"===n&&(t.vertexColors=Ti.FaceColors)}}return"MeshBasicMaterial"===t.type&&delete t.emissive,"MeshPhongMaterial"!==t.type&&delete t.specular,t.opacity<1&&(t.transparent=!0),vt.setTextures(d),vt.parse(t)}},Ti.Loader.Handlers={handlers:[],add:function(e,t){this.handlers.push(e,t)},get:function(e){for(var t=this.handlers,i=0,n=t.length;i<n;i+=2){var r=t[i],a=t[i+1];if(r.test(e))return a}return null}},Ti.XHRLoader=function(e){this.manager=void 0!==e?e:Ti.DefaultLoadingManager},Ti.XHRLoader.prototype={constructor:Ti.XHRLoader,load:function(i,n,t,r){void 0!==this.path&&(i=this.path+i);var a=this,e=Ti.Cache.get(i);if(void 0!==e)return n&&setTimeout(function(){n(e)},0),e;var o=new XMLHttpRequest;return o.overrideMimeType("text/plain"),o.open("GET",i,!0),o.addEventListener("load",function(e){var t=e.target.response;Ti.Cache.add(i,t),200===this.status||0===this.status?(n&&n(t),a.manager.itemEnd(i)):(r&&r(e),a.manager.itemError(i))},!1),void 0!==t&&o.addEventListener("progress",function(e){t(e)},!1),o.addEventListener("error",function(e){r&&r(e),a.manager.itemError(i)},!1),void 0!==this.responseType&&(o.responseType=this.responseType),void 0!==this.withCredentials&&(o.withCredentials=this.withCredentials),o.send(null),a.manager.itemStart(i),o},setPath:function(e){this.path=e},setResponseType:function(e){this.responseType=e},setWithCredentials:function(e){this.withCredentials=e}},Ti.FontLoader=function(e){this.manager=void 0!==e?e:Ti.DefaultLoadingManager},Ti.FontLoader.prototype={constructor:Ti.FontLoader,load:function(e,t,i,n){new Ti.XHRLoader(this.manager).load(e,function(e){t(new Ti.Font(JSON.parse(e.substring(65,e.length-2))))},i,n)}},Ti.ImageLoader=function(e){this.manager=void 0!==e?e:Ti.DefaultLoadingManager},Ti.ImageLoader.prototype={constructor:Ti.ImageLoader,load:function(t,i,n,r){void 0!==this.path&&(t=this.path+t);var a=this,e=Ti.Cache.get(t);if(void 0!==e)return a.manager.itemStart(t),i?setTimeout(function(){i(e),a.manager.itemEnd(t)},0):a.manager.itemEnd(t),e;var o=document.createElement("img");return o.addEventListener("load",function(e){Ti.Cache.add(t,this),i&&i(this),a.manager.itemEnd(t)},!1),void 0!==n&&o.addEventListener("progress",function(e){n(e)},!1),o.addEventListener("error",function(e){r&&r(e),a.manager.itemError(t)},!1),void 0!==this.crossOrigin&&(o.crossOrigin=this.crossOrigin),a.manager.itemStart(t),o.src=t,o},setCrossOrigin:function(e){this.crossOrigin=e},setPath:function(e){this.path=e}},Ti.JSONLoader=function(e){"boolean"==typeof e&&(e=void 0),this.manager=void 0!==e?e:Ti.DefaultLoadingManager,this.withCredentials=!1},Ti.JSONLoader.prototype={constructor:Ti.JSONLoader,get statusDomElement(){return void 0===this._statusDomElement&&(this._statusDomElement=document.createElement("div")),this._statusDomElement},load:function(e,a,t,i){var o=this,s=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:Ti.Loader.prototype.extractUrlBase(e),n=new Ti.XHRLoader(this.manager);n.setWithCredentials(this.withCredentials),n.load(e,function(e){var t=JSON.parse(e),i=t.metadata;if(void 0!==i){var n=i.type;if(void 0!==n){if("object"===n.toLowerCase())return;if("scene"===n.toLowerCase())return}}var r=o.parse(t,s);a(r.geometry,r.materials)},t,i)},setTexturePath:function(e){this.texturePath=e},parse:function(k,e){var I=new Ti.Geometry,t=void 0!==k.scale?1/k.scale:1;if(!function(e){function isBitSet(e,t){return e&1<<t}var t,i,n,r,a,o,s,l,u,h,d,c,p,f,m,_,g,v,y,b,w,x,T,S,M,L,E,C=k.faces,A=k.vertices,P=k.normals,D=k.colors,R=0;if(void 0!==k.uvs){for(t=0;t<k.uvs.length;t++)k.uvs[t].length&&R++;for(t=0;t<R;t++)I.faceVertexUvs[t]=[]}r=0,a=A.length;for(;r<a;)(v=new Ti.Vector3).x=A[r++]*e,v.y=A[r++]*e,v.z=A[r++]*e,I.vertices.push(v);r=0,a=C.length;for(;r<a;)if(h=C[r++],d=isBitSet(h,0),c=isBitSet(h,1),p=isBitSet(h,3),f=isBitSet(h,4),m=isBitSet(h,5),_=isBitSet(h,6),g=isBitSet(h,7),d){if((b=new Ti.Face3).a=C[r],b.b=C[r+1],b.c=C[r+3],(w=new Ti.Face3).a=C[r+1],w.b=C[r+2],w.c=C[r+3],r+=4,c&&(u=C[r++],b.materialIndex=u,w.materialIndex=u),n=I.faces.length,p)for(t=0;t<R;t++)for(S=k.uvs[t],I.faceVertexUvs[t][n]=[],I.faceVertexUvs[t][n+1]=[],i=0;i<4;i++)l=C[r++],L=S[2*l],E=S[2*l+1],M=new Ti.Vector2(L,E),2!==i&&I.faceVertexUvs[t][n].push(M),0!==i&&I.faceVertexUvs[t][n+1].push(M);if(f&&(s=3*C[r++],b.normal.set(P[s++],P[s++],P[s]),w.normal.copy(b.normal)),m)for(t=0;t<4;t++)s=3*C[r++],T=new Ti.Vector3(P[s++],P[s++],P[s]),2!==t&&b.vertexNormals.push(T),0!==t&&w.vertexNormals.push(T);if(_&&(o=C[r++],x=D[o],b.color.setHex(x),w.color.setHex(x)),g)for(t=0;t<4;t++)o=C[r++],x=D[o],2!==t&&b.vertexColors.push(new Ti.Color(x)),0!==t&&w.vertexColors.push(new Ti.Color(x));I.faces.push(b),I.faces.push(w)}else{if((y=new Ti.Face3).a=C[r++],y.b=C[r++],y.c=C[r++],c&&(u=C[r++],y.materialIndex=u),n=I.faces.length,p)for(t=0;t<R;t++)for(S=k.uvs[t],I.faceVertexUvs[t][n]=[],i=0;i<3;i++)l=C[r++],L=S[2*l],E=S[2*l+1],M=new Ti.Vector2(L,E),I.faceVertexUvs[t][n].push(M);if(f&&(s=3*C[r++],y.normal.set(P[s++],P[s++],P[s])),m)for(t=0;t<3;t++)s=3*C[r++],T=new Ti.Vector3(P[s++],P[s++],P[s]),y.vertexNormals.push(T);if(_&&(o=C[r++],y.color.setHex(D[o])),g)for(t=0;t<3;t++)o=C[r++],y.vertexColors.push(new Ti.Color(D[o]));I.faces.push(y)}}(t),function(){var e=void 0!==k.influencesPerVertex?k.influencesPerVertex:2;if(k.skinWeights)for(var t=0,i=k.skinWeights.length;t<i;t+=e){var n=k.skinWeights[t],r=1<e?k.skinWeights[t+1]:0,a=2<e?k.skinWeights[t+2]:0,o=3<e?k.skinWeights[t+3]:0;I.skinWeights.push(new Ti.Vector4(n,r,a,o))}if(k.skinIndices)for(t=0,i=k.skinIndices.length;t<i;t+=e){var s=k.skinIndices[t],l=1<e?k.skinIndices[t+1]:0,u=2<e?k.skinIndices[t+2]:0,h=3<e?k.skinIndices[t+3]:0;I.skinIndices.push(new Ti.Vector4(s,l,u,h))}I.bones=k.bones,I.bones&&0<I.bones.length&&(I.skinWeights.length!==I.skinIndices.length||(I.skinIndices.length,I.vertices.length))}(),function(e){if(void 0!==k.morphTargets)for(var t=0,i=k.morphTargets.length;t<i;t++){I.morphTargets[t]={},I.morphTargets[t].name=k.morphTargets[t].name,I.morphTargets[t].vertices=[];for(var n=I.morphTargets[t].vertices,r=k.morphTargets[t].vertices,a=0,o=r.length;a<o;a+=3){var s=new Ti.Vector3;s.x=r[a]*e,s.y=r[a+1]*e,s.z=r[a+2]*e,n.push(s)}}if(void 0!==k.morphColors&&0<k.morphColors.length){var l=I.faces,u=k.morphColors[0].colors;for(t=0,i=l.length;t<i;t++)l[t].color.fromArray(u,3*t)}}(t),function(){var e=[],t=[];void 0!==k.animation&&t.push(k.animation);void 0!==k.animations&&(k.animations.length?t=t.concat(k.animations):t.push(k.animations));for(var i=0;i<t.length;i++){var n=Ti.AnimationClip.parseAnimation(t[i],I.bones);n&&e.push(n)}if(I.morphTargets){var r=Ti.AnimationClip.CreateClipsFromMorphTargetSequences(I.morphTargets,10);e=e.concat(r)}0<e.length&&(I.animations=e)}(),I.computeFaceNormals(),I.computeBoundingSphere(),void 0===k.materials||0===k.materials.length)return{geometry:I};var i=Ti.Loader.prototype.initMaterials(k.materials,e,this.crossOrigin);return{geometry:I,materials:i}}},Ti.LoadingManager=function(e,t,i){var n=this,r=!1,a=0,o=0;this.onStart=void 0,this.onLoad=e,this.onProgress=t,this.onError=i,this.itemStart=function(e){o++,!1===r&&void 0!==n.onStart&&n.onStart(e,a,o),r=!0},this.itemEnd=function(e){a++,void 0!==n.onProgress&&n.onProgress(e,a,o),a===o&&(r=!1,void 0!==n.onLoad&&n.onLoad())},this.itemError=function(e){void 0!==n.onError&&n.onError(e)}},Ti.DefaultLoadingManager=new Ti.LoadingManager,Ti.BufferGeometryLoader=function(e){this.manager=void 0!==e?e:Ti.DefaultLoadingManager},Ti.BufferGeometryLoader.prototype={constructor:Ti.BufferGeometryLoader,load:function(e,t,i,n){var r=this;new Ti.XHRLoader(r.manager).load(e,function(e){t(r.parse(JSON.parse(e)))},i,n)},parse:function(e){var t=new Ti.BufferGeometry,i=e.data.index,n={Int8Array:Int8Array,Uint8Array:Uint8Array,Uint8ClampedArray:Uint8ClampedArray,Int16Array:Int16Array,Uint16Array:Uint16Array,Int32Array:Int32Array,Uint32Array:Uint32Array,Float32Array:Float32Array,Float64Array:Float64Array};if(void 0!==i){var r=new n[i.type](i.array);t.setIndex(new Ti.BufferAttribute(r,1))}var a=e.data.attributes;for(var o in a){var s=a[o];r=new n[s.type](s.array);t.addAttribute(o,new Ti.BufferAttribute(r,s.itemSize))}var l=e.data.groups||e.data.drawcalls||e.data.offsets;if(void 0!==l)for(var u=0,h=l.length;u!==h;++u){var d=l[u];t.addGroup(d.start,d.count,d.materialIndex)}var c=e.data.boundingSphere;if(void 0!==c){var p=new Ti.Vector3;void 0!==c.center&&p.fromArray(c.center),t.boundingSphere=new Ti.Sphere(p,c.radius)}return t}},Ti.MaterialLoader=function(e){this.manager=void 0!==e?e:Ti.DefaultLoadingManager,this.textures={}},Ti.MaterialLoader.prototype={constructor:Ti.MaterialLoader,load:function(e,t,i,n){var r=this;new Ti.XHRLoader(r.manager).load(e,function(e){t(r.parse(JSON.parse(e)))},i,n)},setTextures:function(e){this.textures=e},getTexture:function(e){var t=this.textures;return t[e],t[e]},parse:function(e){var t=new Ti[e.type];if(void 0!==e.uuid&&(t.uuid=e.uuid),void 0!==e.name&&(t.name=e.name),void 0!==e.color&&t.color.setHex(e.color),void 0!==e.roughness&&(t.roughness=e.roughness),void 0!==e.metalness&&(t.metalness=e.metalness),void 0!==e.emissive&&t.emissive.setHex(e.emissive),void 0!==e.specular&&t.specular.setHex(e.specular),void 0!==e.shininess&&(t.shininess=e.shininess),void 0!==e.uniforms&&(t.uniforms=e.uniforms),void 0!==e.vertexShader&&(t.vertexShader=e.vertexShader),void 0!==e.fragmentShader&&(t.fragmentShader=e.fragmentShader),void 0!==e.vertexColors&&(t.vertexColors=e.vertexColors),void 0!==e.shading&&(t.shading=e.shading),void 0!==e.blending&&(t.blending=e.blending),void 0!==e.side&&(t.side=e.side),void 0!==e.opacity&&(t.opacity=e.opacity),void 0!==e.transparent&&(t.transparent=e.transparent),void 0!==e.alphaTest&&(t.alphaTest=e.alphaTest),void 0!==e.depthTest&&(t.depthTest=e.depthTest),void 0!==e.depthWrite&&(t.depthWrite=e.depthWrite),void 0!==e.colorWrite&&(t.colorWrite=e.colorWrite),void 0!==e.wireframe&&(t.wireframe=e.wireframe),void 0!==e.wireframeLinewidth&&(t.wireframeLinewidth=e.wireframeLinewidth),void 0!==e.size&&(t.size=e.size),void 0!==e.sizeAttenuation&&(t.sizeAttenuation=e.sizeAttenuation),void 0!==e.map&&(t.map=this.getTexture(e.map)),void 0!==e.alphaMap&&(t.alphaMap=this.getTexture(e.alphaMap),t.transparent=!0),void 0!==e.bumpMap&&(t.bumpMap=this.getTexture(e.bumpMap)),void 0!==e.bumpScale&&(t.bumpScale=e.bumpScale),void 0!==e.normalMap&&(t.normalMap=this.getTexture(e.normalMap)),void 0!==e.normalScale){var i=e.normalScale;!1===Array.isArray(i)&&(i=[i,i]),t.normalScale=(new Ti.Vector2).fromArray(i)}if(void 0!==e.displacementMap&&(t.displacementMap=this.getTexture(e.displacementMap)),void 0!==e.displacementScale&&(t.displacementScale=e.displacementScale),void 0!==e.displacementBias&&(t.displacementBias=e.displacementBias),void 0!==e.roughnessMap&&(t.roughnessMap=this.getTexture(e.roughnessMap)),void 0!==e.metalnessMap&&(t.metalnessMap=this.getTexture(e.metalnessMap)),void 0!==e.emissiveMap&&(t.emissiveMap=this.getTexture(e.emissiveMap)),void 0!==e.emissiveIntensity&&(t.emissiveIntensity=e.emissiveIntensity),void 0!==e.specularMap&&(t.specularMap=this.getTexture(e.specularMap)),void 0!==e.envMap&&(t.envMap=this.getTexture(e.envMap),t.combine=Ti.MultiplyOperation),e.reflectivity&&(t.reflectivity=e.reflectivity),void 0!==e.lightMap&&(t.lightMap=this.getTexture(e.lightMap)),void 0!==e.lightMapIntensity&&(t.lightMapIntensity=e.lightMapIntensity),void 0!==e.aoMap&&(t.aoMap=this.getTexture(e.aoMap)),void 0!==e.aoMapIntensity&&(t.aoMapIntensity=e.aoMapIntensity),void 0!==e.materials)for(var n=0,r=e.materials.length;n<r;n++)t.materials.push(this.parse(e.materials[n]));return t}},Ti.ObjectLoader=function(e){this.manager=void 0!==e?e:Ti.DefaultLoadingManager,this.texturePath=""},Ti.ObjectLoader.prototype={constructor:Ti.ObjectLoader,load:function(e,t,i,n){""===this.texturePath&&(this.texturePath=e.substring(0,e.lastIndexOf("/")+1));var r=this;new Ti.XHRLoader(r.manager).load(e,function(e){r.parse(JSON.parse(e),t)},i,n)},setTexturePath:function(e){this.texturePath=e},setCrossOrigin:function(e){this.crossOrigin=e},parse:function(e,t){var i=this.parseGeometries(e.geometries),n=this.parseImages(e.images,function(){void 0!==t&&t(o)}),r=this.parseTextures(e.textures,n),a=this.parseMaterials(e.materials,r),o=this.parseObject(e.object,i,a);return e.animations&&(o.animations=this.parseAnimations(e.animations)),void 0!==e.images&&0!==e.images.length||void 0!==t&&t(o),o},parseGeometries:function(e){var t={};if(void 0!==e)for(var i=new Ti.JSONLoader,n=new Ti.BufferGeometryLoader,r=0,a=e.length;r<a;r++){var o,s=e[r];switch(s.type){case"PlaneGeometry":case"PlaneBufferGeometry":o=new Ti[s.type](s.width,s.height,s.widthSegments,s.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":o=new Ti[s.type](s.width,s.height,s.depth,s.widthSegments,s.heightSegments,s.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":o=new Ti[s.type](s.radius,s.segments,s.thetaStart,s.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":o=new Ti[s.type](s.radiusTop,s.radiusBottom,s.height,s.radialSegments,s.heightSegments,s.openEnded,s.thetaStart,s.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":o=new Ti[s.type](s.radius,s.widthSegments,s.heightSegments,s.phiStart,s.phiLength,s.thetaStart,s.thetaLength);break;case"DodecahedronGeometry":o=new Ti.DodecahedronGeometry(s.radius,s.detail);break;case"IcosahedronGeometry":o=new Ti.IcosahedronGeometry(s.radius,s.detail);break;case"OctahedronGeometry":o=new Ti.OctahedronGeometry(s.radius,s.detail);break;case"TetrahedronGeometry":o=new Ti.TetrahedronGeometry(s.radius,s.detail);break;case"RingGeometry":case"RingBufferGeometry":o=new Ti[s.type](s.innerRadius,s.outerRadius,s.thetaSegments,s.phiSegments,s.thetaStart,s.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":o=new Ti[s.type](s.radius,s.tube,s.radialSegments,s.tubularSegments,s.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":o=new Ti[s.type](s.radius,s.tube,s.tubularSegments,s.radialSegments,s.p,s.q);break;case"LatheGeometry":o=new Ti.LatheGeometry(s.points,s.segments,s.phiStart,s.phiLength);break;case"BufferGeometry":o=n.parse(s);break;case"Geometry":o=i.parse(s.data,this.texturePath).geometry;break;default:continue}o.uuid=s.uuid,void 0!==s.name&&(o.name=s.name),t[s.uuid]=o}return t},parseMaterials:function(e,t){var i={};if(void 0!==e){var n=new Ti.MaterialLoader;n.setTextures(t);for(var r=0,a=e.length;r<a;r++){var o=n.parse(e[r]);i[o.uuid]=o}}return i},parseAnimations:function(e){for(var t=[],i=0;i<e.length;i++){var n=Ti.AnimationClip.parse(e[i]);t.push(n)}return t},parseImages:function(e,t){var i=this,n={};function loadImage(e){return i.manager.itemStart(e),a.load(e,function(){i.manager.itemEnd(e)})}if(void 0!==e&&0<e.length){var r=new Ti.LoadingManager(t),a=new Ti.ImageLoader(r);a.setCrossOrigin(this.crossOrigin);for(var o=0,s=e.length;o<s;o++){var l=e[o],u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(l.url)?l.url:i.texturePath+l.url;n[l.uuid]=loadImage(u)}}return n},parseTextures:function(e,t){function parseConstant(e){return"number"==typeof e?e:Ti[e]}var i={};if(void 0!==e)for(var n=0,r=e.length;n<r;n++){var a=e[n];a.image,t[a.image];var o=new Ti.Texture(t[a.image]);o.needsUpdate=!0,o.uuid=a.uuid,void 0!==a.name&&(o.name=a.name),void 0!==a.mapping&&(o.mapping=parseConstant(a.mapping)),void 0!==a.offset&&(o.offset=new Ti.Vector2(a.offset[0],a.offset[1])),void 0!==a.repeat&&(o.repeat=new Ti.Vector2(a.repeat[0],a.repeat[1])),void 0!==a.minFilter&&(o.minFilter=parseConstant(a.minFilter)),void 0!==a.magFilter&&(o.magFilter=parseConstant(a.magFilter)),void 0!==a.anisotropy&&(o.anisotropy=a.anisotropy),Array.isArray(a.wrap)&&(o.wrapS=parseConstant(a.wrap[0]),o.wrapT=parseConstant(a.wrap[1])),i[a.uuid]=o}return i},parseObject:(yt=new Ti.Matrix4,function(e,t,i){var n;function getGeometry(e){return t[e],t[e]}function getMaterial(e){if(void 0!==e)return i[e],i[e]}switch(e.type){case"Scene":n=new Ti.Scene;break;case"PerspectiveCamera":n=new Ti.PerspectiveCamera(e.fov,e.aspect,e.near,e.far);break;case"OrthographicCamera":n=new Ti.OrthographicCamera(e.left,e.right,e.top,e.bottom,e.near,e.far);break;case"AmbientLight":n=new Ti.AmbientLight(e.color,e.intensity);break;case"DirectionalLight":n=new Ti.DirectionalLight(e.color,e.intensity);break;case"PointLight":n=new Ti.PointLight(e.color,e.intensity,e.distance,e.decay);break;case"SpotLight":n=new Ti.SpotLight(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":n=new Ti.HemisphereLight(e.color,e.groundColor,e.intensity);break;case"Mesh":var r=getGeometry(e.geometry),a=getMaterial(e.material);n=r.bones&&0<r.bones.length?new Ti.SkinnedMesh(r,a):new Ti.Mesh(r,a);break;case"LOD":n=new Ti.LOD;break;case"Line":n=new Ti.Line(getGeometry(e.geometry),getMaterial(e.material),e.mode);break;case"PointCloud":case"Points":n=new Ti.Points(getGeometry(e.geometry),getMaterial(e.material));break;case"Sprite":n=new Ti.Sprite(getMaterial(e.material));break;case"Group":n=new Ti.Group;break;default:n=new Ti.Object3D}if(n.uuid=e.uuid,void 0!==e.name&&(n.name=e.name),void 0!==e.matrix?(yt.fromArray(e.matrix),yt.decompose(n.position,n.quaternion,n.scale)):(void 0!==e.position&&n.position.fromArray(e.position),void 0!==e.rotation&&n.rotation.fromArray(e.rotation),void 0!==e.scale&&n.scale.fromArray(e.scale)),void 0!==e.castShadow&&(n.castShadow=e.castShadow),void 0!==e.receiveShadow&&(n.receiveShadow=e.receiveShadow),void 0!==e.visible&&(n.visible=e.visible),void 0!==e.userData&&(n.userData=e.userData),void 0!==e.children)for(var o in e.children)n.add(this.parseObject(e.children[o],t,i));if("LOD"===e.type)for(var s=e.levels,l=0;l<s.length;l++){var u=s[l];void 0!==(o=n.getObjectByProperty("uuid",u.object))&&n.addLevel(o,u.distance)}return n})},Ti.TextureLoader=function(e){this.manager=void 0!==e?e:Ti.DefaultLoadingManager},Ti.TextureLoader.prototype={constructor:Ti.TextureLoader,load:function(e,t,i,n){var r=new Ti.Texture,a=new Ti.ImageLoader(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(e){r.image=e,r.needsUpdate=!0,void 0!==t&&t(r)},i,n),r},setCrossOrigin:function(e){this.crossOrigin=e},setPath:function(e){this.path=e}},Ti.CubeTextureLoader=function(e){this.manager=void 0!==e?e:Ti.DefaultLoadingManager},Ti.CubeTextureLoader.prototype={constructor:Ti.CubeTextureLoader,load:function(e,i,t,n){var r=new Ti.CubeTexture,a=new Ti.ImageLoader(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);var o=0;function loadTexture(t){a.load(e[t],function(e){r.images[t]=e,6===++o&&(r.needsUpdate=!0,i&&i(r))},void 0,n)}for(var s=0;s<e.length;++s)loadTexture(s);return r},setCrossOrigin:function(e){this.crossOrigin=e},setPath:function(e){this.path=e}},Ti.DataTextureLoader=Ti.BinaryTextureLoader=function(e){this.manager=void 0!==e?e:Ti.DefaultLoadingManager,this._parser=null},Ti.BinaryTextureLoader.prototype={constructor:Ti.BinaryTextureLoader,load:function(e,i,t,n){var r=this,a=new Ti.DataTexture,o=new Ti.XHRLoader(this.manager);return o.setResponseType("arraybuffer"),o.load(e,function(e){var t=r._parser(e);t&&(void 0!==t.image?a.image=t.image:void 0!==t.data&&(a.image.width=t.width,a.image.height=t.height,a.image.data=t.data),a.wrapS=void 0!==t.wrapS?t.wrapS:Ti.ClampToEdgeWrapping,a.wrapT=void 0!==t.wrapT?t.wrapT:Ti.ClampToEdgeWrapping,a.magFilter=void 0!==t.magFilter?t.magFilter:Ti.LinearFilter,a.minFilter=void 0!==t.minFilter?t.minFilter:Ti.LinearMipMapLinearFilter,a.anisotropy=void 0!==t.anisotropy?t.anisotropy:1,void 0!==t.format&&(a.format=t.format),void 0!==t.type&&(a.type=t.type),void 0!==t.mipmaps&&(a.mipmaps=t.mipmaps),1===t.mipmapCount&&(a.minFilter=Ti.LinearFilter),a.needsUpdate=!0,i&&i(a,t))},t,n),a}},Ti.CompressedTextureLoader=function(e){this.manager=void 0!==e?e:Ti.DefaultLoadingManager,this._parser=null},Ti.CompressedTextureLoader.prototype={constructor:Ti.CompressedTextureLoader,load:function(e,a,t,n){var o=this,s=[],l=new Ti.CompressedTexture;l.image=s;var r=new Ti.XHRLoader(this.manager);function loadTexture(i){r.load(e[i],function(e){var t=o._parser(e,!0);s[i]={width:t.width,height:t.height,format:t.format,mipmaps:t.mipmaps},6===(u+=1)&&(1===t.mipmapCount&&(l.minFilter=Ti.LinearFilter),l.format=t.format,l.needsUpdate=!0,a&&a(l))},t,n)}if(r.setPath(this.path),r.setResponseType("arraybuffer"),Array.isArray(e))for(var u=0,i=0,h=e.length;i<h;++i)loadTexture(i);else r.load(e,function(e){var t=o._parser(e,!0);if(t.isCubemap)for(var i=t.mipmaps.length/t.mipmapCount,n=0;n<i;n++){s[n]={mipmaps:[]};for(var r=0;r<t.mipmapCount;r++)s[n].mipmaps.push(t.mipmaps[n*t.mipmapCount+r]),s[n].format=t.format,s[n].width=t.width,s[n].height=t.height}else l.image.width=t.width,l.image.height=t.height,l.mipmaps=t.mipmaps;1===t.mipmapCount&&(l.minFilter=Ti.LinearFilter),l.format=t.format,l.needsUpdate=!0,a&&a(l)},t,n);return l},setPath:function(e){this.path=e}},Ti.Material=function(){Object.defineProperty(this,"id",{value:Ti.MaterialIdCount++}),this.uuid=Ti.Math.generateUUID(),this.name="",this.type="Material",this.side=Ti.FrontSide,this.opacity=1,this.transparent=!1,this.blending=Ti.NormalBlending,this.blendSrc=Ti.SrcAlphaFactor,this.blendDst=Ti.OneMinusSrcAlphaFactor,this.blendEquation=Ti.AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=Ti.LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this._needsUpdate=!0},Ti.Material.prototype={constructor:Ti.Material,get needsUpdate(){return this._needsUpdate},set needsUpdate(e){!0===e&&this.update(),this._needsUpdate=e},setValues:function(e){if(void 0!==e)for(var t in e){var i=e[t];if(void 0!==i){var n=this[t];void 0!==n&&(n instanceof Ti.Color?n.set(i):n instanceof Ti.Vector3&&i instanceof Ti.Vector3?n.copy(i):this[t]="overdraw"===t?Number(i):i)}}},toJSON:function(e){var t=void 0===e;t&&(e={textures:{},images:{}});var i={metadata:{version:4.4,type:"Material",generator:"Material.toJSON"}};function extractFromCache(e){var t=[];for(var i in e){var n=e[i];delete n.metadata,t.push(n)}return t}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color instanceof Ti.Color&&(i.color=this.color.getHex()),.5!==this.roughness&&(i.roughness=this.roughness),.5!==this.metalness&&(i.metalness=this.metalness),this.emissive instanceof Ti.Color&&(i.emissive=this.emissive.getHex()),this.specular instanceof Ti.Color&&(i.specular=this.specular.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),this.map instanceof Ti.Texture&&(i.map=this.map.toJSON(e).uuid),this.alphaMap instanceof Ti.Texture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap instanceof Ti.Texture&&(i.lightMap=this.lightMap.toJSON(e).uuid),this.bumpMap instanceof Ti.Texture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap instanceof Ti.Texture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalScale=this.normalScale.toArray()),this.displacementMap instanceof Ti.Texture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap instanceof Ti.Texture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap instanceof Ti.Texture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap instanceof Ti.Texture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap instanceof Ti.Texture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.envMap instanceof Ti.Texture&&(i.envMap=this.envMap.toJSON(e).uuid,i.reflectivity=this.reflectivity),void 0!==this.size&&(i.size=this.size),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),void 0!==this.vertexColors&&this.vertexColors!==Ti.NoColors&&(i.vertexColors=this.vertexColors),void 0!==this.shading&&this.shading!==Ti.SmoothShading&&(i.shading=this.shading),void 0!==this.blending&&this.blending!==Ti.NormalBlending&&(i.blending=this.blending),void 0!==this.side&&this.side!==Ti.FrontSide&&(i.side=this.side),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),0<this.alphaTest&&(i.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),1<this.wireframeLinewidth&&(i.wireframeLinewidth=this.wireframeLinewidth),t){var n=extractFromCache(e.textures),r=extractFromCache(e.images);0<n.length&&(i.textures=n),0<r.length&&(i.images=r)}return i},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.name=e.name,this.side=e.side,this.opacity=e.opacity,this.transparent=e.transparent,this.blending=e.blending,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.alphaTest=e.alphaTest,this.premultipliedAlpha=e.premultipliedAlpha,this.overdraw=e.overdraw,this.visible=e.visible,this},update:function(){this.dispatchEvent({type:"update"})},dispose:function(){this.dispatchEvent({type:"dispose"})}},Ti.EventDispatcher.prototype.apply(Ti.Material.prototype),Ti.MaterialIdCount=0,Ti.LineBasicMaterial=function(e){Ti.Material.call(this),this.type="LineBasicMaterial",this.color=new Ti.Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.blending=Ti.NormalBlending,this.vertexColors=Ti.NoColors,this.fog=!0,this.setValues(e)},Ti.LineBasicMaterial.prototype=Object.create(Ti.Material.prototype),Ti.LineBasicMaterial.prototype.constructor=Ti.LineBasicMaterial,Ti.LineBasicMaterial.prototype.copy=function(e){return Ti.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.vertexColors=e.vertexColors,this.fog=e.fog,this},Ti.LineDashedMaterial=function(e){Ti.Material.call(this),this.type="LineDashedMaterial",this.color=new Ti.Color(16777215),this.linewidth=1,this.scale=1,this.dashSize=3,this.gapSize=1,this.blending=Ti.NormalBlending,this.vertexColors=Ti.NoColors,this.fog=!0,this.setValues(e)},Ti.LineDashedMaterial.prototype=Object.create(Ti.Material.prototype),Ti.LineDashedMaterial.prototype.constructor=Ti.LineDashedMaterial,Ti.LineDashedMaterial.prototype.copy=function(e){return Ti.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.linewidth=e.linewidth,this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this.vertexColors=e.vertexColors,this.fog=e.fog,this},Ti.MeshBasicMaterial=function(e){Ti.Material.call(this),this.type="MeshBasicMaterial",this.color=new Ti.Color(16777215),this.map=null,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ti.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=Ti.SmoothShading,this.blending=Ti.NormalBlending,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=Ti.NoColors,this.skinning=!1,this.morphTargets=!1,this.setValues(e)},Ti.MeshBasicMaterial.prototype=Object.create(Ti.Material.prototype),Ti.MeshBasicMaterial.prototype.constructor=Ti.MeshBasicMaterial,Ti.MeshBasicMaterial.prototype.copy=function(e){return Ti.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.fog=e.fog,this.shading=e.shading,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.vertexColors=e.vertexColors,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this},Ti.MeshLambertMaterial=function(e){Ti.Material.call(this),this.type="MeshLambertMaterial",this.color=new Ti.Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ti.Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ti.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.blending=Ti.NormalBlending,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=Ti.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)},Ti.MeshLambertMaterial.prototype=Object.create(Ti.Material.prototype),Ti.MeshLambertMaterial.prototype.constructor=Ti.MeshLambertMaterial,Ti.MeshLambertMaterial.prototype.copy=function(e){return Ti.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.fog=e.fog,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.vertexColors=e.vertexColors,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Ti.MeshPhongMaterial=function(e){Ti.Material.call(this),this.type="MeshPhongMaterial",this.color=new Ti.Color(16777215),this.specular=new Ti.Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ti.Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new Ti.Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=Ti.MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.fog=!0,this.shading=Ti.SmoothShading,this.blending=Ti.NormalBlending,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=Ti.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)},Ti.MeshPhongMaterial.prototype=Object.create(Ti.Material.prototype),Ti.MeshPhongMaterial.prototype.constructor=Ti.MeshPhongMaterial,Ti.MeshPhongMaterial.prototype.copy=function(e){return Ti.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.fog=e.fog,this.shading=e.shading,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.vertexColors=e.vertexColors,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Ti.MeshStandardMaterial=function(e){Ti.Material.call(this),this.type="MeshStandardMaterial",this.color=new Ti.Color(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Ti.Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new Ti.Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.fog=!0,this.shading=Ti.SmoothShading,this.blending=Ti.NormalBlending,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.vertexColors=Ti.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(e)},Ti.MeshStandardMaterial.prototype=Object.create(Ti.Material.prototype),Ti.MeshStandardMaterial.prototype.constructor=Ti.MeshStandardMaterial,Ti.MeshStandardMaterial.prototype.copy=function(e){return Ti.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.refractionRatio=e.refractionRatio,this.fog=e.fog,this.shading=e.shading,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.vertexColors=e.vertexColors,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this},Ti.MeshDepthMaterial=function(e){Ti.Material.call(this),this.type="MeshDepthMaterial",this.morphTargets=!1,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)},Ti.MeshDepthMaterial.prototype=Object.create(Ti.Material.prototype),Ti.MeshDepthMaterial.prototype.constructor=Ti.MeshDepthMaterial,Ti.MeshDepthMaterial.prototype.copy=function(e){return Ti.Material.prototype.copy.call(this,e),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},Ti.MeshNormalMaterial=function(e){Ti.Material.call(this,e),this.type="MeshNormalMaterial",this.wireframe=!1,this.wireframeLinewidth=1,this.morphTargets=!1,this.setValues(e)},Ti.MeshNormalMaterial.prototype=Object.create(Ti.Material.prototype),Ti.MeshNormalMaterial.prototype.constructor=Ti.MeshNormalMaterial,Ti.MeshNormalMaterial.prototype.copy=function(e){return Ti.Material.prototype.copy.call(this,e),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this},Ti.MultiMaterial=function(e){this.uuid=Ti.Math.generateUUID(),this.type="MultiMaterial",this.materials=e instanceof Array?e:[],this.visible=!0},Ti.MultiMaterial.prototype={constructor:Ti.MultiMaterial,toJSON:function(e){for(var t={metadata:{version:4.2,type:"material",generator:"MaterialExporter"},uuid:this.uuid,type:this.type,materials:[]},i=this.materials,n=0,r=i.length;n<r;n++){var a=i[n].toJSON(e);delete a.metadata,t.materials.push(a)}return t.visible=this.visible,t},clone:function(){for(var e=new this.constructor,t=0;t<this.materials.length;t++)e.materials.push(this.materials[t].clone());return e.visible=this.visible,e}},Ti.PointsMaterial=function(e){Ti.Material.call(this),this.type="PointsMaterial",this.color=new Ti.Color(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.blending=Ti.NormalBlending,this.vertexColors=Ti.NoColors,this.fog=!0,this.setValues(e)},Ti.PointsMaterial.prototype=Object.create(Ti.Material.prototype),Ti.PointsMaterial.prototype.constructor=Ti.PointsMaterial,Ti.PointsMaterial.prototype.copy=function(e){return Ti.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.vertexColors=e.vertexColors,this.fog=e.fog,this},Ti.ShaderMaterial=function(e){Ti.Material.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.shading=Ti.SmoothShading,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.vertexColors=Ti.NoColors,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},(this.index0AttributeName=void 0)!==e&&(e.attributes,this.setValues(e))},Ti.ShaderMaterial.prototype=Object.create(Ti.Material.prototype),Ti.ShaderMaterial.prototype.constructor=Ti.ShaderMaterial,Ti.ShaderMaterial.prototype.copy=function(e){return Ti.Material.prototype.copy.call(this,e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Ti.UniformsUtils.clone(e.uniforms),this.defines=e.defines,this.shading=e.shading,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.vertexColors=e.vertexColors,this.skinning=e.skinning,this.morphTargets=e.morphTargets,this.morphNormals=e.morphNormals,this.extensions=e.extensions,this},Ti.ShaderMaterial.prototype.toJSON=function(e){var t=Ti.Material.prototype.toJSON.call(this,e);return t.uniforms=this.uniforms,t.vertexShader=this.vertexShader,t.fragmentShader=this.fragmentShader,t},Ti.RawShaderMaterial=function(e){Ti.ShaderMaterial.call(this,e),this.type="RawShaderMaterial"},Ti.RawShaderMaterial.prototype=Object.create(Ti.ShaderMaterial.prototype),Ti.RawShaderMaterial.prototype.constructor=Ti.RawShaderMaterial,Ti.SpriteMaterial=function(e){Ti.Material.call(this),this.type="SpriteMaterial",this.color=new Ti.Color(16777215),this.map=null,this.rotation=0,this.fog=!1,this.setValues(e)},Ti.SpriteMaterial.prototype=Object.create(Ti.Material.prototype),Ti.SpriteMaterial.prototype.constructor=Ti.SpriteMaterial,Ti.SpriteMaterial.prototype.copy=function(e){return Ti.Material.prototype.copy.call(this,e),this.color.copy(e.color),this.map=e.map,this.rotation=e.rotation,this.fog=e.fog,this},Ti.Texture=function(e,t,i,n,r,a,o,s,l){Object.defineProperty(this,"id",{value:Ti.TextureIdCount++}),this.uuid=Ti.Math.generateUUID(),this.name="",this.sourceFile="",this.image=void 0!==e?e:Ti.Texture.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==t?t:Ti.Texture.DEFAULT_MAPPING,this.wrapS=void 0!==i?i:Ti.ClampToEdgeWrapping,this.wrapT=void 0!==n?n:Ti.ClampToEdgeWrapping,this.magFilter=void 0!==r?r:Ti.LinearFilter,this.minFilter=void 0!==a?a:Ti.LinearMipMapLinearFilter,this.anisotropy=void 0!==l?l:1,this.format=void 0!==o?o:Ti.RGBAFormat,this.type=void 0!==s?s:Ti.UnsignedByteType,this.offset=new Ti.Vector2(0,0),this.repeat=new Ti.Vector2(1,1),this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=Ti.LinearEncoding,this.version=0,this.onUpdate=null},Ti.Texture.DEFAULT_IMAGE=void 0,Ti.Texture.DEFAULT_MAPPING=Ti.UVMapping,Ti.Texture.prototype={constructor:Ti.Texture,set needsUpdate(e){!0===e&&this.version++},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.image=e.image,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.encoding=e.encoding,this},toJSON:function(e){if(void 0!==e.textures[this.uuid])return e.textures[this.uuid];var t,i,n={metadata:{version:4.4,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy};if(void 0!==this.image){var r=this.image;void 0===r.uuid&&(r.uuid=Ti.Math.generateUUID()),void 0===e.images[r.uuid]&&(e.images[r.uuid]={uuid:r.uuid,url:(void 0!==(t=r).toDataURL?i=t:((i=document.createElement("canvas")).width=t.width,i.height=t.height,i.getContext("2d").drawImage(t,0,0,t.width,t.height)),2048<i.width||2048<i.height?i.toDataURL("image/jpeg",.6):i.toDataURL("image/png"))}),n.image=r.uuid}return e.textures[this.uuid]=n},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(e){if(this.mapping===Ti.UVMapping){if(e.multiply(this.repeat),e.add(this.offset),e.x<0||1<e.x)switch(this.wrapS){case Ti.RepeatWrapping:e.x=e.x-Math.floor(e.x);break;case Ti.ClampToEdgeWrapping:e.x=e.x<0?0:1;break;case Ti.MirroredRepeatWrapping:1===Math.abs(Math.floor(e.x)%2)?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x)}if(e.y<0||1<e.y)switch(this.wrapT){case Ti.RepeatWrapping:e.y=e.y-Math.floor(e.y);break;case Ti.ClampToEdgeWrapping:e.y=e.y<0?0:1;break;case Ti.MirroredRepeatWrapping:1===Math.abs(Math.floor(e.y)%2)?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y)}this.flipY&&(e.y=1-e.y)}}},Ti.EventDispatcher.prototype.apply(Ti.Texture.prototype),Ti.TextureIdCount=0,Ti.CanvasTexture=function(e,t,i,n,r,a,o,s,l){Ti.Texture.call(this,e,t,i,n,r,a,o,s,l),this.needsUpdate=!0},Ti.CanvasTexture.prototype=Object.create(Ti.Texture.prototype),Ti.CanvasTexture.prototype.constructor=Ti.CanvasTexture,Ti.CubeTexture=function(e,t,i,n,r,a,o,s,l){e=void 0!==e?e:[],t=void 0!==t?t:Ti.CubeReflectionMapping,Ti.Texture.call(this,e,t,i,n,r,a,o,s,l),this.flipY=!1},Ti.CubeTexture.prototype=Object.create(Ti.Texture.prototype),Ti.CubeTexture.prototype.constructor=Ti.CubeTexture,Object.defineProperty(Ti.CubeTexture.prototype,"images",{get:function(){return this.image},set:function(e){this.image=e}}),Ti.CompressedTexture=function(e,t,i,n,r,a,o,s,l,u,h){Ti.Texture.call(this,null,a,o,s,l,u,n,r,h),this.image={width:t,height:i},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1},Ti.CompressedTexture.prototype=Object.create(Ti.Texture.prototype),Ti.CompressedTexture.prototype.constructor=Ti.CompressedTexture,Ti.DataTexture=function(e,t,i,n,r,a,o,s,l,u,h){Ti.Texture.call(this,null,a,o,s,l,u,n,r,h),this.image={data:e,width:t,height:i},this.magFilter=void 0!==l?l:Ti.NearestFilter,this.minFilter=void 0!==u?u:Ti.NearestFilter,this.flipY=!1,this.generateMipmaps=!1},Ti.DataTexture.prototype=Object.create(Ti.Texture.prototype),Ti.DataTexture.prototype.constructor=Ti.DataTexture,Ti.VideoTexture=function(e,t,i,n,r,a,o,s,l){Ti.Texture.call(this,e,t,i,n,r,a,o,s,l),this.generateMipmaps=!1;var u=this;!function update(){requestAnimationFrame(update),e.readyState===e.HAVE_ENOUGH_DATA&&(u.needsUpdate=!0)}()},Ti.VideoTexture.prototype=Object.create(Ti.Texture.prototype),Ti.VideoTexture.prototype.constructor=Ti.VideoTexture,Ti.Group=function(){Ti.Object3D.call(this),this.type="Group"},Ti.Group.prototype=Object.create(Ti.Object3D.prototype),Ti.Group.prototype.constructor=Ti.Group,Ti.Points=function(e,t){Ti.Object3D.call(this),this.type="Points",this.geometry=void 0!==e?e:new Ti.Geometry,this.material=void 0!==t?t:new Ti.PointsMaterial({color:16777215*Math.random()})},Ti.Points.prototype=Object.create(Ti.Object3D.prototype),Ti.Points.prototype.constructor=Ti.Points,Ti.Points.prototype.raycast=(bt=new Ti.Matrix4,wt=new Ti.Ray,xt=new Ti.Sphere,function(a,o){var s=this,e=this.geometry,l=this.matrixWorld,t=a.params.Points.threshold;if(null===e.boundingSphere&&e.computeBoundingSphere(),xt.copy(e.boundingSphere),xt.applyMatrix4(l),!1!==a.ray.intersectsSphere(xt)){bt.getInverse(l),wt.copy(a.ray).applyMatrix4(bt);var i=t/((this.scale.x+this.scale.y+this.scale.z)/3),u=i*i,n=new Ti.Vector3;if(e instanceof Ti.BufferGeometry){var r=e.index,h=e.attributes.position.array;if(null!==r)for(var d=r.array,c=0,p=d.length;c<p;c++){var f=d[c];n.fromArray(h,3*f),testPoint(n,f)}else{c=0;for(var m=h.length/3;c<m;c++)n.fromArray(h,3*c),testPoint(n,c)}}else{var _=e.vertices;for(c=0,m=_.length;c<m;c++)testPoint(_[c],c)}}function testPoint(e,t){var i=wt.distanceSqToPoint(e);if(i<u){var n=wt.closestPointToPoint(e);n.applyMatrix4(l);var r=a.ray.origin.distanceTo(n);if(r<a.near||r>a.far)return;o.push({distance:r,distanceToRay:Math.sqrt(i),point:n.clone(),index:t,face:null,object:s})}}}),Ti.Points.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this)},Ti.Line=function(e,t,i){if(1===i)return new Ti.LineSegments(e,t);Ti.Object3D.call(this),this.type="Line",this.geometry=void 0!==e?e:new Ti.Geometry,this.material=void 0!==t?t:new Ti.LineBasicMaterial({color:16777215*Math.random()})},Ti.Line.prototype=Object.create(Ti.Object3D.prototype),Ti.Line.prototype.constructor=Ti.Line,Ti.Line.prototype.raycast=(Tt=new Ti.Matrix4,St=new Ti.Ray,Mt=new Ti.Sphere,function(e,t){var i=e.linePrecision,n=i*i,r=this.geometry,a=this.matrixWorld;if(null===r.boundingSphere&&r.computeBoundingSphere(),Mt.copy(r.boundingSphere),Mt.applyMatrix4(a),!1!==e.ray.intersectsSphere(Mt)){Tt.getInverse(a),St.copy(e.ray).applyMatrix4(Tt);var o=new Ti.Vector3,s=new Ti.Vector3,l=new Ti.Vector3,u=new Ti.Vector3,h=this instanceof Ti.LineSegments?2:1;if(r instanceof Ti.BufferGeometry){var d=r.index,c=r.attributes.position.array;if(null!==d)for(var p=d.array,f=0,m=p.length-1;f<m;f+=h){var _=p[f],g=p[f+1];o.fromArray(c,3*_),s.fromArray(c,3*g),n<St.distanceSqToSegment(o,s,u,l)||(u.applyMatrix4(this.matrixWorld),(b=e.ray.origin.distanceTo(u))<e.near||b>e.far||t.push({distance:b,point:l.clone().applyMatrix4(this.matrixWorld),index:f,face:null,faceIndex:null,object:this}))}else for(f=0,m=c.length/3-1;f<m;f+=h)o.fromArray(c,3*f),s.fromArray(c,3*f+3),n<St.distanceSqToSegment(o,s,u,l)||(u.applyMatrix4(this.matrixWorld),(b=e.ray.origin.distanceTo(u))<e.near||b>e.far||t.push({distance:b,point:l.clone().applyMatrix4(this.matrixWorld),index:f,face:null,faceIndex:null,object:this}))}else if(r instanceof Ti.Geometry){var v=r.vertices,y=v.length;for(f=0;f<y-1;f+=h){var b;n<St.distanceSqToSegment(v[f],v[f+1],u,l)||(u.applyMatrix4(this.matrixWorld),(b=e.ray.origin.distanceTo(u))<e.near||b>e.far||t.push({distance:b,point:l.clone().applyMatrix4(this.matrixWorld),index:f,face:null,faceIndex:null,object:this}))}}}}),Ti.Line.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this)},Ti.LineStrip=0,Ti.LinePieces=1,Ti.LineSegments=function(e,t){Ti.Line.call(this,e,t),this.type="LineSegments"},Ti.LineSegments.prototype=Object.create(Ti.Line.prototype),Ti.LineSegments.prototype.constructor=Ti.LineSegments,Ti.Mesh=function(e,t){Ti.Object3D.call(this),this.type="Mesh",this.geometry=void 0!==e?e:new Ti.Geometry,this.material=void 0!==t?t:new Ti.MeshBasicMaterial({color:16777215*Math.random()}),this.drawMode=Ti.TrianglesDrawMode,this.updateMorphTargets()},Ti.Mesh.prototype=Object.create(Ti.Object3D.prototype),Ti.Mesh.prototype.constructor=Ti.Mesh,Ti.Mesh.prototype.setDrawMode=function(e){this.drawMode=e},Ti.Mesh.prototype.updateMorphTargets=function(){if(void 0!==this.geometry.morphTargets&&0<this.geometry.morphTargets.length){this.morphTargetBase=-1,this.morphTargetInfluences=[],this.morphTargetDictionary={};for(var e=0,t=this.geometry.morphTargets.length;e<t;e++)this.morphTargetInfluences.push(0),this.morphTargetDictionary[this.geometry.morphTargets[e].name]=e}},Ti.Mesh.prototype.getMorphTargetIndexByName=function(e){return void 0!==this.morphTargetDictionary[e]?this.morphTargetDictionary[e]:0},Ti.Mesh.prototype.raycast=(Lt=new Ti.Matrix4,Et=new Ti.Ray,Ct=new Ti.Sphere,At=new Ti.Vector3,Pt=new Ti.Vector3,Dt=new Ti.Vector3,Rt=new Ti.Vector3,kt=new Ti.Vector3,It=new Ti.Vector3,Ot=new Ti.Vector2,Bt=new Ti.Vector2,Nt=new Ti.Vector2,Ft=new Ti.Vector3,Yt=new Ti.Vector3,Ut=new Ti.Vector3,function(e,t){var i,n,r=this.geometry,a=this.material,o=this.matrixWorld;if(void 0!==a&&(null===r.boundingSphere&&r.computeBoundingSphere(),Ct.copy(r.boundingSphere),Ct.applyMatrix4(o),!1!==e.ray.intersectsSphere(Ct)&&(Lt.getInverse(o),Et.copy(e.ray).applyMatrix4(Lt),null===r.boundingBox||!1!==Et.intersectsBox(r.boundingBox))))if(r instanceof Ti.BufferGeometry){var s,l,u,h=r.index,d=r.attributes,c=d.position.array;if(void 0!==d.uv&&(i=d.uv.array),null!==h)for(var p=h.array,f=0,m=p.length;f<m;f+=3)s=p[f],l=p[f+1],u=p[f+2],(n=checkBufferGeometryIntersection(this,e,Et,c,i,s,l,u))&&(n.faceIndex=Math.floor(f/3),t.push(n));else for(f=0,m=c.length;f<m;f+=9)(n=checkBufferGeometryIntersection(this,e,Et,c,i,s=f/3,l=s+1,u=s+2))&&(n.index=s,t.push(n))}else if(r instanceof Ti.Geometry){var _,g,v,y=a instanceof Ti.MultiMaterial,b=1==y?a.materials:null,w=r.vertices,x=r.faces,T=r.faceVertexUvs[0];0<T.length&&(i=T);for(var S=0,M=x.length;S<M;S++){var L=x[S],E=1==y?b[L.materialIndex]:a;if(void 0!==E){if(_=w[L.a],g=w[L.b],v=w[L.c],!0===E.morphTargets){var C=r.morphTargets,A=this.morphTargetInfluences;At.set(0,0,0),Pt.set(0,0,0),Dt.set(0,0,0);for(var P=0,D=C.length;P<D;P++){var R=A[P];if(0!==R){var k=C[P].vertices;At.addScaledVector(Rt.subVectors(k[L.a],_),R),Pt.addScaledVector(kt.subVectors(k[L.b],g),R),Dt.addScaledVector(It.subVectors(k[L.c],v),R)}}At.add(_),Pt.add(g),Dt.add(v),_=At,g=Pt,v=Dt}if(n=checkIntersection(this,e,Et,_,g,v,Yt)){if(i){var I=i[S];Ot.copy(I[0]),Bt.copy(I[1]),Nt.copy(I[2]),n.uv=uvIntersection(Yt,_,g,v,Ot,Bt,Nt)}n.face=L,n.faceIndex=S,t.push(n)}}}}}),Ti.Mesh.prototype.clone=function(){return new this.constructor(this.geometry,this.material).copy(this)},Ti.Bone=function(e){Ti.Object3D.call(this),this.type="Bone",this.skin=e},Ti.Bone.prototype=Object.create(Ti.Object3D.prototype),Ti.Bone.prototype.constructor=Ti.Bone,Ti.Bone.prototype.copy=function(e){return Ti.Object3D.prototype.copy.call(this,e),this.skin=e.skin,this},Ti.Skeleton=function(e,t,i){if(this.useVertexTexture=void 0===i||i,this.identityMatrix=new Ti.Matrix4,e=e||[],this.bones=e.slice(0),this.useVertexTexture){var n=Math.sqrt(4*this.bones.length);n=Ti.Math.nextPowerOfTwo(Math.ceil(n)),n=Math.max(n,4),this.boneTextureWidth=n,this.boneTextureHeight=n,this.boneMatrices=new Float32Array(this.boneTextureWidth*this.boneTextureHeight*4),this.boneTexture=new Ti.DataTexture(this.boneMatrices,this.boneTextureWidth,this.boneTextureHeight,Ti.RGBAFormat,Ti.FloatType)}else this.boneMatrices=new Float32Array(16*this.bones.length);if(void 0===t)this.calculateInverses();else if(this.bones.length===t.length)this.boneInverses=t.slice(0);else{this.boneInverses=[];for(var r=0,a=this.bones.length;r<a;r++)this.boneInverses.push(new Ti.Matrix4)}},Ti.Skeleton.prototype.calculateInverses=function(){this.boneInverses=[];for(var e=0,t=this.bones.length;e<t;e++){var i=new Ti.Matrix4;this.bones[e]&&i.getInverse(this.bones[e].matrixWorld),this.boneInverses.push(i)}},Ti.Skeleton.prototype.pose=function(){for(var e,t=0,i=this.bones.length;t<i;t++)(e=this.bones[t])&&e.matrixWorld.getInverse(this.boneInverses[t]);for(t=0,i=this.bones.length;t<i;t++)(e=this.bones[t])&&(e.parent?(e.matrix.getInverse(e.parent.matrixWorld),e.matrix.multiply(e.matrixWorld)):e.matrix.copy(e.matrixWorld),e.matrix.decompose(e.position,e.quaternion,e.scale))},Ti.Skeleton.prototype.update=(jt=new Ti.Matrix4,function(){for(var e=0,t=this.bones.length;e<t;e++){var i=this.bones[e]?this.bones[e].matrixWorld:this.identityMatrix;jt.multiplyMatrices(i,this.boneInverses[e]),jt.flattenToArrayOffset(this.boneMatrices,16*e)}this.useVertexTexture&&(this.boneTexture.needsUpdate=!0)}),Ti.Skeleton.prototype.clone=function(){return new Ti.Skeleton(this.bones,this.boneInverses,this.useVertexTexture)},Ti.SkinnedMesh=function(e,t,i){Ti.Mesh.call(this,e,t),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Ti.Matrix4,this.bindMatrixInverse=new Ti.Matrix4;var n=[];if(this.geometry&&void 0!==this.geometry.bones){for(var r,a,o=0,s=this.geometry.bones.length;o<s;++o)a=this.geometry.bones[o],r=new Ti.Bone(this),n.push(r),r.name=a.name,r.position.fromArray(a.pos),r.quaternion.fromArray(a.rotq),void 0!==a.scl&&r.scale.fromArray(a.scl);for(o=0,s=this.geometry.bones.length;o<s;++o)-1!==(a=this.geometry.bones[o]).parent&&null!==a.parent?n[a.parent].add(n[o]):this.add(n[o])}this.normalizeSkinWeights(),this.updateMatrixWorld(!0),this.bind(new Ti.Skeleton(n,void 0,i),this.matrixWorld)},Ti.SkinnedMesh.prototype=Object.create(Ti.Mesh.prototype),Ti.SkinnedMesh.prototype.constructor=Ti.SkinnedMesh,Ti.SkinnedMesh.prototype.bind=function(e,t){this.skeleton=e,void 0===t&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),t=this.matrixWorld),this.bindMatrix.copy(t),this.bindMatrixInverse.getInverse(t)},Ti.SkinnedMesh.prototype.pose=function(){this.skeleton.pose()},Ti.SkinnedMesh.prototype.normalizeSkinWeights=function(){if(this.geometry instanceof Ti.Geometry)for(var e=0;e<this.geometry.skinWeights.length;e++){var t=this.geometry.skinWeights[e];(r=1/t.lengthManhattan())!==1/0?t.multiplyScalar(r):t.set(1,0,0,0)}else if(this.geometry instanceof Ti.BufferGeometry){var i=new Ti.Vector4,n=this.geometry.attributes.skinWeight;for(e=0;e<n.count;e++){var r;i.x=n.getX(e),i.y=n.getY(e),i.z=n.getZ(e),i.w=n.getW(e),(r=1/i.lengthManhattan())!==1/0?i.multiplyScalar(r):i.set(1,0,0,0),n.setXYZW(e,i.x,i.y,i.z,i.w)}}},Ti.SkinnedMesh.prototype.updateMatrixWorld=function(e){Ti.Mesh.prototype.updateMatrixWorld.call(this,!0),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode&&this.bindMatrixInverse.getInverse(this.bindMatrix)},Ti.SkinnedMesh.prototype.clone=function(){return new this.constructor(this.geometry,this.material,this.useVertexTexture).copy(this)},Ti.LOD=function(){Ti.Object3D.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},objects:{get:function(){return this.levels}}})},Ti.LOD.prototype=Object.create(Ti.Object3D.prototype),Ti.LOD.prototype.constructor=Ti.LOD,Ti.LOD.prototype.addLevel=function(e,t){void 0===t&&(t=0),t=Math.abs(t);for(var i=this.levels,n=0;n<i.length&&!(t<i[n].distance);n++);i.splice(n,0,{distance:t,object:e}),this.add(e)},Ti.LOD.prototype.getObjectForDistance=function(e){for(var t=this.levels,i=1,n=t.length;i<n&&!(e<t[i].distance);i++);return t[i-1].object},Ti.LOD.prototype.raycast=(zt=new Ti.Vector3,function(e,t){zt.setFromMatrixPosition(this.matrixWorld);var i=e.ray.origin.distanceTo(zt);this.getObjectForDistance(i).raycast(e,t)}),Ti.LOD.prototype.update=(Gt=new Ti.Vector3,Ht=new Ti.Vector3,function(e){var t=this.levels;if(1<t.length){Gt.setFromMatrixPosition(e.matrixWorld),Ht.setFromMatrixPosition(this.matrixWorld);var i=Gt.distanceTo(Ht);t[0].object.visible=!0;for(var n=1,r=t.length;n<r&&i>=t[n].distance;n++)t[n-1].object.visible=!1,t[n].object.visible=!0;for(;n<r;n++)t[n].object.visible=!1}}),Ti.LOD.prototype.copy=function(e){Ti.Object3D.prototype.copy.call(this,e,!1);for(var t=e.levels,i=0,n=t.length;i<n;i++){var r=t[i];this.addLevel(r.object.clone(),r.distance)}return this},Ti.LOD.prototype.toJSON=function(e){var t=Ti.Object3D.prototype.toJSON.call(this,e);t.object.levels=[];for(var i=this.levels,n=0,r=i.length;n<r;n++){var a=i[n];t.object.levels.push({object:a.object.uuid,distance:a.distance})}return t},Ti.Sprite=(Wt=new Uint16Array([0,1,2,0,2,3]),Vt=new Float32Array([-.5,-.5,0,.5,-.5,0,.5,.5,0,-.5,.5,0]),qt=new Float32Array([0,0,1,0,1,1,0,1]),(Xt=new Ti.BufferGeometry).setIndex(new Ti.BufferAttribute(Wt,1)),Xt.addAttribute("position",new Ti.BufferAttribute(Vt,3)),Xt.addAttribute("uv",new Ti.BufferAttribute(qt,2)),function(e){Ti.Object3D.call(this),this.type="Sprite",this.geometry=Xt,this.material=void 0!==e?e:new Ti.SpriteMaterial}),Ti.Sprite.prototype=Object.create(Ti.Object3D.prototype),Ti.Sprite.prototype.constructor=Ti.Sprite,Ti.Sprite.prototype.raycast=(Kt=new Ti.Vector3,function(e,t){Kt.setFromMatrixPosition(this.matrixWorld);var i=e.ray.distanceSqToPoint(Kt);this.scale.x*this.scale.y<i||t.push({distance:Math.sqrt(i),point:this.position,face:null,object:this})}),Ti.Sprite.prototype.clone=function(){return new this.constructor(this.material).copy(this)},Ti.Particle=Ti.Sprite,Ti.LensFlare=function(e,t,i,n,r){Ti.Object3D.call(this),this.lensFlares=[],this.positionScreen=new Ti.Vector3,(this.customUpdateCallback=void 0)!==e&&this.add(e,t,i,n,r)},Ti.LensFlare.prototype=Object.create(Ti.Object3D.prototype),Ti.LensFlare.prototype.constructor=Ti.LensFlare,Ti.LensFlare.prototype.add=function(e,t,i,n,r,a){void 0===t&&(t=-1),void 0===i&&(i=0),void 0===a&&(a=1),void 0===r&&(r=new Ti.Color(16777215)),void 0===n&&(n=Ti.NormalBlending),i=Math.min(i,Math.max(0,i)),this.lensFlares.push({texture:e,size:t,distance:i,x:0,y:0,z:0,scale:1,rotation:0,opacity:a,color:r,blending:n})},Ti.LensFlare.prototype.updateLensFlares=function(){var e,t,i=this.lensFlares.length,n=2*-this.positionScreen.x,r=2*-this.positionScreen.y;for(e=0;e<i;e++)(t=this.lensFlares[e]).x=this.positionScreen.x+n*t.distance,t.y=this.positionScreen.y+r*t.distance,t.wantedRotation=t.x*Math.PI*.25,t.rotation+=.25*(t.wantedRotation-t.rotation)},Ti.LensFlare.prototype.copy=function(e){Ti.Object3D.prototype.copy.call(this,e),this.positionScreen.copy(e.positionScreen),this.customUpdateCallback=e.customUpdateCallback;for(var t=0,i=e.lensFlares.length;t<i;t++)this.lensFlares.push(e.lensFlares[t]);return this},Ti.Scene=function(){Ti.Object3D.call(this),this.type="Scene",this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0},Ti.Scene.prototype=Object.create(Ti.Object3D.prototype),Ti.Scene.prototype.constructor=Ti.Scene,Ti.Scene.prototype.copy=function(e,t){return Ti.Object3D.prototype.copy.call(this,e,t),null!==e.fog&&(this.fog=e.fog.clone()),null!==e.overrideMaterial&&(this.overrideMaterial=e.overrideMaterial.clone()),this.autoUpdate=e.autoUpdate,this.matrixAutoUpdate=e.matrixAutoUpdate,this},Ti.Fog=function(e,t,i){this.name="",this.color=new Ti.Color(e),this.near=void 0!==t?t:1,this.far=void 0!==i?i:1e3},Ti.Fog.prototype.clone=function(){return new Ti.Fog(this.color.getHex(),this.near,this.far)},Ti.FogExp2=function(e,t){this.name="",this.color=new Ti.Color(e),this.density=void 0!==t?t:25e-5},Ti.FogExp2.prototype.clone=function(){return new Ti.FogExp2(this.color.getHex(),this.density)},Ti.ShaderChunk={},Ti.ShaderChunk.alphamap_fragment="#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",Ti.ShaderChunk.alphamap_pars_fragment="#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",Ti.ShaderChunk.alphatest_fragment="#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",Ti.ShaderChunk.aomap_fragment="#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",Ti.ShaderChunk.aomap_pars_fragment="#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",Ti.ShaderChunk.begin_vertex="\nvec3 transformed = vec3( position );\n",Ti.ShaderChunk.beginnormal_vertex="\nvec3 objectNormal = vec3( normal );\n",Ti.ShaderChunk.bsdfs="bool testLightInRange( const in float lightDistance, const in float cutoffDistance ) {\n\treturn any( bvec2( cutoffDistance == 0.0, lightDistance < cutoffDistance ) );\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_Smith( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",Ti.ShaderChunk.bumpmap_pars_fragment="#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",Ti.ShaderChunk.color_fragment="#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",Ti.ShaderChunk.color_pars_fragment="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",Ti.ShaderChunk.color_pars_vertex="#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",Ti.ShaderChunk.color_vertex="#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",Ti.ShaderChunk.common="#define PI 3.14159\n#define PI2 6.28318\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\n",Ti.ShaderChunk.cube_uv_reflection_fragment="#ifdef ENVMAP_TYPE_CUBE_UV\nconst float cubeUV_textureSize = 1024.0;\nint getFaceFromDirection(vec3 direction) {\n    vec3 absDirection = abs(direction);\n    int face = -1;\n    if( absDirection.x > absDirection.z ) {\n        if(absDirection.x > absDirection.y )\n            face = direction.x > 0.0 ? 0 : 3;\n        else\n            face = direction.y > 0.0 ? 1 : 4;\n    }\n    else {\n        if(absDirection.z > absDirection.y )\n            face = direction.z > 0.0 ? 2 : 5;\n        else\n            face = direction.y > 0.0 ? 1 : 4;\n    }\n    return face;\n}\nconst float cubeUV_maxLods1 = log2(cubeUV_textureSize*0.25) - 1.0;\nconst float cubeUV_rangeClamp = exp2((6.0 - 1.0) * 2.0);\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n    float scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n    float dxRoughness = dFdx(roughness);\n    float dyRoughness = dFdy(roughness);\n    vec3 dx = dFdx( vec * scale * dxRoughness );\n    vec3 dy = dFdy( vec * scale * dyRoughness );\n    float d = max( dot( dx, dx ), dot( dy, dy ) );\n    d = clamp(d, 1.0, cubeUV_rangeClamp);\n    float mipLevel = 0.5 * log2(d);\n    return vec2(floor(mipLevel), fract(mipLevel));\n}\nconst float cubeUV_maxLods2 = log2(cubeUV_textureSize*0.25) - 2.0;\nconst float cubeUV_rcpTextureSize = 1.0 / cubeUV_textureSize;\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n    mipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n    float a = 16.0 * cubeUV_rcpTextureSize;\n    vec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n    vec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n    float powScale = exp2_packed.x * exp2_packed.y;\n    float scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n    float mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n    bool bRes = mipLevel == 0.0;\n    scale =  bRes && (scale < a) ? a : scale;\n    vec3 r;\n    vec2 offset;\n    int face = getFaceFromDirection(direction);\n    float rcpPowScale = 1.0 / powScale;\n    if( face == 0) {\n        r = vec3(direction.x, -direction.z, direction.y);\n        offset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n        offset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n    }\n    else if( face == 1) {\n        r = vec3(direction.y, direction.x, direction.z);\n        offset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n        offset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n    }\n    else if( face == 2) {\n        r = vec3(direction.z, direction.x, direction.y);\n        offset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n        offset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n    }\n    else if( face == 3) {\n        r = vec3(direction.x, direction.z, direction.y);\n        offset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n        offset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n    }\n    else if( face == 4) {\n        r = vec3(direction.y, direction.x, -direction.z);\n        offset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n        offset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n    }\n    else {\n        r = vec3(direction.z, -direction.x, direction.y);\n        offset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n        offset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n    }\n    r = normalize(r);\n    float texelOffset = 0.5 * cubeUV_rcpTextureSize;\n    vec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n    vec2 base = offset + vec2( texelOffset );\n    return base + s * ( scale - 2.0 * texelOffset );\n}\nconst float cubeUV_maxLods3 = log2(cubeUV_textureSize*0.25) - 3.0;\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n    float roughnessVal = roughness* cubeUV_maxLods3;\n    float r1 = floor(roughnessVal);\n    float r2 = r1 + 1.0;\n    float t = fract(roughnessVal);\n    vec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n    float s = mipInfo.y;\n    float level0 = mipInfo.x;\n    float level1 = level0 + 1.0;\n    level1 = level1 > 5.0 ? 5.0 : level1;\n    level0 += min( floor( s + 0.5 ), 5.0 );\n    vec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n    vec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n    vec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n    vec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n    vec4 result = mix(color10, color20, t);\n    return vec4(result.rgb, 1.0);\n}\n#endif\n",Ti.ShaderChunk.defaultnormal_vertex="#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n",Ti.ShaderChunk.displacementmap_vertex="#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",Ti.ShaderChunk.displacementmap_pars_vertex="#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",Ti.ShaderChunk.emissivemap_fragment="#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",Ti.ShaderChunk.emissivemap_pars_fragment="#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",Ti.ShaderChunk.encodings_pars_fragment="\nvec4 LinearToLinear( in vec4 value ) {\n  return value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n  float maxComponent = max( max( value.r, value.g ), value.b );\n  float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n  return vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n  float maxRGB = max( value.x, max( value.g, value.b ) );\n  float M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n  M            = ceil( M * 255.0 ) / 255.0;\n  return vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n    float maxRGB = max( value.x, max( value.g, value.b ) );\n    float D      = max( maxRange / maxRGB, 1.0 );\n    D            = min( floor( D ) / 255.0, 1.0 );\n    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n  vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n  Xp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n  vec4 vResult;\n  vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n  float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n  vResult.w = fract(Le);\n  vResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n  return vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n  float Le = value.z * 255.0 + value.w;\n  vec3 Xp_Y_XYZp;\n  Xp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n  Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n  Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n  vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n  return vec4( max(vRGB, 0.0), 1.0 );\n}\n",Ti.ShaderChunk.encodings_fragment="  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",Ti.ShaderChunk.envmap_fragment="#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#else\n\t\tfloat flipNormal = 1.0;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",Ti.ShaderChunk.envmap_pars_fragment="#if defined( USE_ENVMAP ) || defined( STANDARD )\n\tuniform float reflectivity;\n\tuniform float envMapIntenstiy;\n#endif\n#ifdef USE_ENVMAP\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( STANDARD )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",Ti.ShaderChunk.envmap_pars_vertex="#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG ) && ! defined( STANDARD )\n\tvarying vec3 vReflect;\n\tuniform float refractionRatio;\n#endif\n",Ti.ShaderChunk.envmap_vertex="#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG ) && ! defined( STANDARD )\n\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t#ifdef ENVMAP_MODE_REFLECTION\n\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t#else\n\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t#endif\n#endif\n",Ti.ShaderChunk.fog_fragment="#ifdef USE_FOG\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\t#else\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\t#endif\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",Ti.ShaderChunk.fog_pars_fragment="#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",Ti.ShaderChunk.lightmap_fragment="#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",Ti.ShaderChunk.lightmap_pars_fragment="#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",Ti.ShaderChunk.lights_lambert_vertex="vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tdirectLight = getPointDirectLightIrradiance( pointLights[ i ], geometry );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tdirectLight = getSpotDirectLightIrradiance( spotLights[ i ], geometry );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectLight = getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",Ti.ShaderChunk.lights_pars="uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tIncidentLight getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry ) {\n\t\tIncidentLight directLight;\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t\treturn directLight;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tIncidentLight getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry ) {\n\t\tIncidentLight directLight;\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tif ( testLightInRange( lightDistance, pointLight.distance ) ) {\n\t\t\tdirectLight.color = pointLight.color;\n\t\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t\treturn directLight;\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tIncidentLight getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry ) {\n\t\tIncidentLight directLight;\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( all( bvec2( angleCos > spotLight.coneCos, testLightInRange( lightDistance, spotLight.distance ) ) ) ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t\treturn directLight;\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( STANDARD )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tfloat flipNormal = 1.0;\n\t\t#endif\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tfloat flipNormal = 1.0;\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t#endif\n\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",Ti.ShaderChunk.lights_phong_fragment="BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",Ti.ShaderChunk.lights_phong_pars_fragment="#ifdef USE_ENVMAP\n\tvarying vec3 vWorldPosition;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",Ti.ShaderChunk.lights_phong_pars_vertex="#ifdef USE_ENVMAP\n\tvarying vec3 vWorldPosition;\n#endif\n",Ti.ShaderChunk.lights_phong_vertex="#ifdef USE_ENVMAP\n\tvWorldPosition = worldPosition.xyz;\n#endif\n",Ti.ShaderChunk.lights_standard_fragment="StandardMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\nmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n",Ti.ShaderChunk.lights_standard_pars_fragment="struct StandardMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n};\nvoid RE_Direct_Standard( const in IncidentLight directLight, const in GeometricContext geometry, const in StandardMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n}\nvoid RE_IndirectDiffuse_Standard( const in vec3 irradiance, const in GeometricContext geometry, const in StandardMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Standard( const in vec3 radiance, const in GeometricContext geometry, const in StandardMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectSpecular += radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Standard\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Standard\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Standard\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",Ti.ShaderChunk.lights_template="\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tdirectLight = getPointDirectLightIrradiance( pointLight, geometry );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tdirectLight = getSpotDirectLightIrradiance( spotLight, geometry );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tdirectLight = getDirectionalDirectLightIrradiance( directionalLight, geometry );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t \tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\tRE_IndirectSpecular( radiance, geometry, material, reflectedLight );\n#endif\n",Ti.ShaderChunk.logdepthbuf_fragment="#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif",Ti.ShaderChunk.logdepthbuf_pars_fragment="#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",Ti.ShaderChunk.logdepthbuf_pars_vertex="#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",Ti.ShaderChunk.logdepthbuf_vertex="#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n",Ti.ShaderChunk.map_fragment="#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",Ti.ShaderChunk.map_pars_fragment="#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",Ti.ShaderChunk.map_particle_fragment="#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",Ti.ShaderChunk.map_particle_pars_fragment="#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n",Ti.ShaderChunk.metalnessmap_fragment="float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.r;\n#endif\n",Ti.ShaderChunk.metalnessmap_pars_fragment="#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",Ti.ShaderChunk.morphnormal_vertex="#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",Ti.ShaderChunk.morphtarget_pars_vertex="#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",Ti.ShaderChunk.morphtarget_vertex="#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",Ti.ShaderChunk.normal_fragment="#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",Ti.ShaderChunk.normalmap_pars_fragment="#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",Ti.ShaderChunk.premultiplied_alpha_fragment="#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",Ti.ShaderChunk.project_vertex="#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n",Ti.ShaderChunk.roughnessmap_fragment="float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.r;\n#endif\n",Ti.ShaderChunk.roughnessmap_pars_fragment="#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",Ti.ShaderChunk.shadowmap_pars_fragment="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat unpackDepth( const in vec4 rgba_depth ) {\n\t\tconst vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\n\t\treturn dot( rgba_depth, bit_shift );\n\t}\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",Ti.ShaderChunk.shadowmap_pars_vertex="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",Ti.ShaderChunk.shadowmap_vertex="#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",Ti.ShaderChunk.shadowmask_pars_fragment="float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",Ti.ShaderChunk.skinbase_vertex="#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",Ti.ShaderChunk.skinning_pars_vertex="#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneGlobalMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneGlobalMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",Ti.ShaderChunk.skinning_vertex="#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n",Ti.ShaderChunk.skinnormal_vertex="#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",Ti.ShaderChunk.specularmap_fragment="float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",Ti.ShaderChunk.specularmap_pars_fragment="#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",Ti.ShaderChunk.tonemapping_fragment="#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",Ti.ShaderChunk.tonemapping_pars_fragment="#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n  return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  color = max( vec3( 0.0 ), color - 0.004 );\n  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",Ti.ShaderChunk.uv2_pars_fragment="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",Ti.ShaderChunk.uv2_pars_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",Ti.ShaderChunk.uv2_vertex="#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",Ti.ShaderChunk.uv_pars_fragment="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",Ti.ShaderChunk.uv_pars_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n",Ti.ShaderChunk.uv_vertex="#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif",Ti.ShaderChunk.worldpos_vertex="#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( STANDARD ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n",Ti.UniformsUtils={merge:function(e){for(var t={},i=0;i<e.length;i++){var n=this.clone(e[i]);for(var r in n)t[r]=n[r]}return t},clone:function(e){var t={};for(var i in e)for(var n in t[i]={},e[i]){var r=e[i][n];r instanceof Ti.Color||r instanceof Ti.Vector2||r instanceof Ti.Vector3||r instanceof Ti.Vector4||r instanceof Ti.Matrix3||r instanceof Ti.Matrix4||r instanceof Ti.Texture?t[i][n]=r.clone():Array.isArray(r)?t[i][n]=r.slice():t[i][n]=r}return t}},Ti.UniformsLib={common:{diffuse:{type:"c",value:new Ti.Color(15658734)},opacity:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new Ti.Vector4(0,0,1,1)},specularMap:{type:"t",value:null},alphaMap:{type:"t",value:null},envMap:{type:"t",value:null},flipEnvMap:{type:"f",value:-1},reflectivity:{type:"f",value:1},refractionRatio:{type:"f",value:.98}},aomap:{aoMap:{type:"t",value:null},aoMapIntensity:{type:"f",value:1}},lightmap:{lightMap:{type:"t",value:null},lightMapIntensity:{type:"f",value:1}},emissivemap:{emissiveMap:{type:"t",value:null}},bumpmap:{bumpMap:{type:"t",value:null},bumpScale:{type:"f",value:1}},normalmap:{normalMap:{type:"t",value:null},normalScale:{type:"v2",value:new Ti.Vector2(1,1)}},displacementmap:{displacementMap:{type:"t",value:null},displacementScale:{type:"f",value:1},displacementBias:{type:"f",value:0}},roughnessmap:{roughnessMap:{type:"t",value:null}},metalnessmap:{metalnessMap:{type:"t",value:null}},fog:{fogDensity:{type:"f",value:25e-5},fogNear:{type:"f",value:1},fogFar:{type:"f",value:2e3},fogColor:{type:"c",value:new Ti.Color(16777215)}},lights:{ambientLightColor:{type:"fv",value:[]},directionalLights:{type:"sa",value:[],properties:{direction:{type:"v3"},color:{type:"c"},shadow:{type:"i"},shadowBias:{type:"f"},shadowRadius:{type:"f"},shadowMapSize:{type:"v2"}}},directionalShadowMap:{type:"tv",value:[]},directionalShadowMatrix:{type:"m4v",value:[]},spotLights:{type:"sa",value:[],properties:{color:{type:"c"},position:{type:"v3"},direction:{type:"v3"},distance:{type:"f"},coneCos:{type:"f"},penumbraCos:{type:"f"},decay:{type:"f"},shadow:{type:"i"},shadowBias:{type:"f"},shadowRadius:{type:"f"},shadowMapSize:{type:"v2"}}},spotShadowMap:{type:"tv",value:[]},spotShadowMatrix:{type:"m4v",value:[]},pointLights:{type:"sa",value:[],properties:{color:{type:"c"},position:{type:"v3"},decay:{type:"f"},distance:{type:"f"},shadow:{type:"i"},shadowBias:{type:"f"},shadowRadius:{type:"f"},shadowMapSize:{type:"v2"}}},pointShadowMap:{type:"tv",value:[]},pointShadowMatrix:{type:"m4v",value:[]},hemisphereLights:{type:"sa",value:[],properties:{direction:{type:"v3"},skyColor:{type:"c"},groundColor:{type:"c"}}}},points:{diffuse:{type:"c",value:new Ti.Color(15658734)},opacity:{type:"f",value:1},size:{type:"f",value:1},scale:{type:"f",value:1},map:{type:"t",value:null},offsetRepeat:{type:"v4",value:new Ti.Vector4(0,0,1,1)}}},Ti.ShaderChunk.cube_frag="uniform samplerCube tCube;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\t#include <logdepthbuf_fragment>\n}\n",Ti.ShaderChunk.cube_vert="varying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t#include <logdepthbuf_vertex>\n}\n",Ti.ShaderChunk.depth_frag="uniform float mNear;\nuniform float mFar;\nuniform float opacity;\n#include <common>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\t#else\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\t#endif\n\tfloat color = 1.0 - smoothstep( mNear, mFar, depth );\n\tgl_FragColor = vec4( vec3( color ), opacity );\n}\n",Ti.ShaderChunk.depth_vert="#include <common>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n}\n",Ti.ShaderChunk.depthRGBA_frag="#include <common>\n#include <logdepthbuf_pars_fragment>\nvec4 pack_depth( const in float depth ) {\n\tconst vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );\n\tconst vec4 bit_mask = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );\n\tvec4 res = mod( depth * bit_shift * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );\n\tres -= res.xxyz * bit_mask;\n\treturn res;\n}\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tgl_FragData[ 0 ] = pack_depth( gl_FragDepthEXT );\n\t#else\n\t\tgl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );\n\t#endif\n}\n",Ti.ShaderChunk.depthRGBA_vert="#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n}\n",Ti.ShaderChunk.distanceRGBA_frag="uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\nvec4 pack1K ( float depth ) {\n\tdepth /= 1000.0;\n\tconst vec4 bitSh = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );\n\tconst vec4 bitMsk = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );\n\tvec4 res = mod( depth * bitSh * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );\n\tres -= res.xxyz * bitMsk;\n\treturn res;\n}\nfloat unpack1K ( vec4 color ) {\n\tconst vec4 bitSh = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\n\treturn dot( color, bitSh ) * 1000.0;\n}\nvoid main () {\n\tgl_FragColor = pack1K( length( vWorldPosition.xyz - lightPos.xyz ) );\n}\n",Ti.ShaderChunk.distanceRGBA_vert="varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\tvWorldPosition = worldPosition;\n}\n",Ti.ShaderChunk.equirect_frag="uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <logdepthbuf_fragment>\n}\n",Ti.ShaderChunk.equirect_vert="varying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t#include <logdepthbuf_vertex>\n}\n",Ti.ShaderChunk.linedashed_frag="uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Ti.ShaderChunk.linedashed_vert="uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n}\n",Ti.ShaderChunk.meshbasic_frag="uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight;\n\treflectedLight.directDiffuse = vec3( 0.0 );\n\treflectedLight.directSpecular = vec3( 0.0 );\n\treflectedLight.indirectDiffuse = diffuseColor.rgb;\n\treflectedLight.indirectSpecular = vec3( 0.0 );\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Ti.ShaderChunk.meshbasic_vert="#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n}\n",Ti.ShaderChunk.meshlambert_frag="uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Ti.ShaderChunk.meshlambert_vert="#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n}\n",Ti.ShaderChunk.meshphong_frag="#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Ti.ShaderChunk.meshphong_vert="#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <lights_phong_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_phong_vertex>\n\t#include <shadowmap_vertex>\n}\n",Ti.ShaderChunk.meshstandard_frag="#define STANDARD\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\nuniform float envMapIntensity;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_standard_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_standard_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Ti.ShaderChunk.meshstandard_vert="#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n}\n",Ti.ShaderChunk.normal_frag="uniform float opacity;\nvarying vec3 vNormal;\n#include <common>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );\n\t#include <logdepthbuf_fragment>\n}\n",Ti.ShaderChunk.normal_vert="varying vec3 vNormal;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\tvNormal = normalize( normalMatrix * normal );\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n}\n",Ti.ShaderChunk.points_frag="uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",Ti.ShaderChunk.points_vert="uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n",Ti.ShaderLib={basic:{uniforms:Ti.UniformsUtils.merge([Ti.UniformsLib.common,Ti.UniformsLib.aomap,Ti.UniformsLib.fog]),vertexShader:Ti.ShaderChunk.meshbasic_vert,fragmentShader:Ti.ShaderChunk.meshbasic_frag},lambert:{uniforms:Ti.UniformsUtils.merge([Ti.UniformsLib.common,Ti.UniformsLib.aomap,Ti.UniformsLib.lightmap,Ti.UniformsLib.emissivemap,Ti.UniformsLib.fog,Ti.UniformsLib.lights,{emissive:{type:"c",value:new Ti.Color(0)}}]),vertexShader:Ti.ShaderChunk.meshlambert_vert,fragmentShader:Ti.ShaderChunk.meshlambert_frag},phong:{uniforms:Ti.UniformsUtils.merge([Ti.UniformsLib.common,Ti.UniformsLib.aomap,Ti.UniformsLib.lightmap,Ti.UniformsLib.emissivemap,Ti.UniformsLib.bumpmap,Ti.UniformsLib.normalmap,Ti.UniformsLib.displacementmap,Ti.UniformsLib.fog,Ti.UniformsLib.lights,{emissive:{type:"c",value:new Ti.Color(0)},specular:{type:"c",value:new Ti.Color(1118481)},shininess:{type:"f",value:30}}]),vertexShader:Ti.ShaderChunk.meshphong_vert,fragmentShader:Ti.ShaderChunk.meshphong_frag},standard:{uniforms:Ti.UniformsUtils.merge([Ti.UniformsLib.common,Ti.UniformsLib.aomap,Ti.UniformsLib.lightmap,Ti.UniformsLib.emissivemap,Ti.UniformsLib.bumpmap,Ti.UniformsLib.normalmap,Ti.UniformsLib.displacementmap,Ti.UniformsLib.roughnessmap,Ti.UniformsLib.metalnessmap,Ti.UniformsLib.fog,Ti.UniformsLib.lights,{emissive:{type:"c",value:new Ti.Color(0)},roughness:{type:"f",value:.5},metalness:{type:"f",value:0},envMapIntensity:{type:"f",value:1}}]),vertexShader:Ti.ShaderChunk.meshstandard_vert,fragmentShader:Ti.ShaderChunk.meshstandard_frag},points:{uniforms:Ti.UniformsUtils.merge([Ti.UniformsLib.points,Ti.UniformsLib.fog]),vertexShader:Ti.ShaderChunk.points_vert,fragmentShader:Ti.ShaderChunk.points_frag},dashed:{uniforms:Ti.UniformsUtils.merge([Ti.UniformsLib.common,Ti.UniformsLib.fog,{scale:{type:"f",value:1},dashSize:{type:"f",value:1},totalSize:{type:"f",value:2}}]),vertexShader:Ti.ShaderChunk.linedashed_vert,fragmentShader:Ti.ShaderChunk.linedashed_frag},depth:{uniforms:{mNear:{type:"f",value:1},mFar:{type:"f",value:2e3},opacity:{type:"f",value:1}},vertexShader:Ti.ShaderChunk.depth_vert,fragmentShader:Ti.ShaderChunk.depth_frag},normal:{uniforms:{opacity:{type:"f",value:1}},vertexShader:Ti.ShaderChunk.normal_vert,fragmentShader:Ti.ShaderChunk.normal_frag},cube:{uniforms:{tCube:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:Ti.ShaderChunk.cube_vert,fragmentShader:Ti.ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{type:"t",value:null},tFlip:{type:"f",value:-1}},vertexShader:Ti.ShaderChunk.equirect_vert,fragmentShader:Ti.ShaderChunk.equirect_frag},depthRGBA:{uniforms:{},vertexShader:Ti.ShaderChunk.depthRGBA_vert,fragmentShader:Ti.ShaderChunk.depthRGBA_frag},distanceRGBA:{uniforms:{lightPos:{type:"v3",value:new Ti.Vector3(0,0,0)}},vertexShader:Ti.ShaderChunk.distanceRGBA_vert,fragmentShader:Ti.ShaderChunk.distanceRGBA_frag}},Ti.WebGLRenderer=function(e){var b=void 0!==(e=e||{}).canvas?e.canvas:document.createElement("canvas"),t=void 0!==e.context?e.context:null,i=void 0!==e.alpha&&e.alpha,n=void 0===e.depth||e.depth,r=void 0===e.stencil||e.stencil,a=void 0!==e.antialias&&e.antialias,o=void 0===e.premultipliedAlpha||e.premultipliedAlpha,s=void 0!==e.preserveDrawingBuffer&&e.preserveDrawingBuffer,d=[],h=[],c=-1,p=[],f=-1,C=new Float32Array(8),m=[],_=[];this.domElement=b,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=Ti.LinearToneMapping,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4,this.autoScaleCubemaps=!0;var A,w=this,x=null,l=null,u=null,T=-1,P="",S=null,g=new Ti.Vector4,v=null,y=new Ti.Vector4,M=0,L=new Ti.Color(0),E=0,D=b.width,R=b.height,k=1,I=new Ti.Vector4(0,0,D,R),O=!1,B=new Ti.Vector4(0,0,D,R),N=new Ti.Frustum,F=new Ti.Matrix4,Y=new Ti.Vector3,U={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],shadows:[],shadowsPointLight:0},j={geometries:0,textures:0},z={calls:0,vertices:0,faces:0,points:0};this.info={render:z,memory:j,programs:null};try{var G={alpha:i,depth:n,stencil:r,antialias:a,premultipliedAlpha:o,preserveDrawingBuffer:s};if(null===(A=t||b.getContext("webgl",G)||b.getContext("experimental-webgl",G)))throw null!==b.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";void 0===A.getShaderPrecisionFormat&&(A.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),b.addEventListener("webglcontextlost",onContextLost,!1)}catch(e){}var H=new Ti.WebGLExtensions(A);H.get("OES_texture_float"),H.get("OES_texture_float_linear"),H.get("OES_texture_half_float"),H.get("OES_texture_half_float_linear"),H.get("OES_standard_derivatives"),H.get("ANGLE_instanced_arrays"),H.get("OES_element_index_uint")&&(Ti.BufferGeometry.MaxIndex=4294967296);var W=new Ti.WebGLCapabilities(A,H,e),V=new Ti.WebGLState(A,H,paramThreeToGL),q=new Ti.WebGLProperties,X=new Ti.WebGLObjects(A,q,this.info),K=new Ti.WebGLPrograms(this,W),J=new Ti.WebGLLights;this.info.programs=K.programs;var Z=new Ti.WebGLBufferRenderer(A,H,z),Q=new Ti.WebGLIndexedBufferRenderer(A,H,z);function getTargetPixelRatio(){return null===l?k:1}function glClearColor(e,t,i,n){!0===o&&(e*=n,t*=n,i*=n),V.clearColor(e,t,i,n)}function setDefaultGLState(){V.init(),V.scissor(g.copy(I).multiplyScalar(k)),V.viewport(y.copy(B).multiplyScalar(k)),glClearColor(L.r,L.g,L.b,E)}function resetGLState(){S=x=null,P="",T=-1,V.reset()}setDefaultGLState(),this.context=A,this.capabilities=W,this.extensions=H,this.properties=q,this.state=V;var $=new Ti.WebGLShadowMap(this,U,X);this.shadowMap=$;var ee,te=new Ti.SpritePlugin(this,m),ie=new Ti.LensFlarePlugin(this,_);function onContextLost(e){e.preventDefault(),resetGLState(),setDefaultGLState(),q.clear()}function onTextureDispose(e){var t=e.target;t.removeEventListener("dispose",onTextureDispose),function(e){var t=q.get(e);if(e.image&&t.__image__webglTextureCube)A.deleteTexture(t.__image__webglTextureCube);else{if(void 0===t.__webglInit)return;A.deleteTexture(t.__webglTexture)}q.delete(e)}(t),j.textures--}function onRenderTargetDispose(e){var t=e.target;t.removeEventListener("dispose",onRenderTargetDispose),function(e){var t=q.get(e),i=q.get(e.texture);if(!e||void 0===i.__webglTexture)return;if(A.deleteTexture(i.__webglTexture),e instanceof Ti.WebGLRenderTargetCube)for(var n=0;n<6;n++)A.deleteFramebuffer(t.__webglFramebuffer[n]),A.deleteRenderbuffer(t.__webglDepthbuffer[n]);else A.deleteFramebuffer(t.__webglFramebuffer),A.deleteRenderbuffer(t.__webglDepthbuffer);q.delete(e.texture),q.delete(e)}(t),j.textures--}function onMaterialDispose(e){var t,i=e.target;i.removeEventListener("dispose",onMaterialDispose),releaseMaterialProgramReference(t=i),q.delete(t)}function releaseMaterialProgramReference(e){var t=q.get(e).program;(e.program=void 0)!==t&&K.releaseProgram(t)}function absNumericalSort(e,t){return Math.abs(t[0])-Math.abs(e[0])}function painterSortStable(e,t){return e.object.renderOrder!==t.object.renderOrder?e.object.renderOrder-t.object.renderOrder:e.material.id!==t.material.id?e.material.id-t.material.id:e.z!==t.z?e.z-t.z:e.id-t.id}function reversePainterSortStable(e,t){return e.object.renderOrder!==t.object.renderOrder?e.object.renderOrder-t.object.renderOrder:e.z!==t.z?t.z-e.z:e.id-t.id}function pushRenderItem(e,t,i,n,r){var a,o;o=i.transparent?(a=p,++f):(a=h,++c);var s=a[o];void 0!==s?(s.id=e.id,s.object=e,s.geometry=t,s.material=i,s.z=Y.z,s.group=r):(s={id:e.id,object:e,geometry:t,material:i,z:Y.z,group:r},a.push(s))}function renderObjects(e,t,i,n){for(var r=0,a=e.length;r<a;r++){var o=e[r],s=o.object,l=o.geometry,u=void 0===n?o.material:n,h=o.group;if(s.modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,s.matrixWorld),s.normalMatrix.getNormalMatrix(s.modelViewMatrix),s instanceof Ti.ImmediateRenderObject){setMaterial(u);var d=setProgram(t,i,u,s);P="",s.render(function(e){w.renderBufferImmediate(e,d,u)})}else w.renderBufferDirect(t,i,l,u,s,h)}}function setMaterial(e){var t;(t=e).side!==Ti.DoubleSide?V.enable(A.CULL_FACE):V.disable(A.CULL_FACE),V.setFlipSided(t.side===Ti.BackSide),!0===e.transparent?V.setBlending(e.blending,e.blendEquation,e.blendSrc,e.blendDst,e.blendEquationAlpha,e.blendSrcAlpha,e.blendDstAlpha,e.premultipliedAlpha):V.setBlending(Ti.NoBlending),V.setDepthFunc(e.depthFunc),V.setDepthTest(e.depthTest),V.setDepthWrite(e.depthWrite),V.setColorWrite(e.colorWrite),V.setPolygonOffset(e.polygonOffset,e.polygonOffsetFactor,e.polygonOffsetUnits)}function setProgram(e,t,i,n){M=0;var r=q.get(i);void 0===r.program&&(i.needsUpdate=!0),void 0!==r.lightsHash&&r.lightsHash!==U.hash&&(i.needsUpdate=!0),i.needsUpdate&&(function(e,t,i){var n=q.get(e),r=K.getParameters(e,U,t,i),a=K.getProgramCode(e,r),o=n.program,s=!0;if(void 0===o)e.addEventListener("dispose",onMaterialDispose);else if(o.code!==a)releaseMaterialProgramReference(e);else{if(void 0!==r.shaderID)return;s=!1}if(s){if(r.shaderID){var l=Ti.ShaderLib[r.shaderID];n.__webglShader={name:e.type,uniforms:Ti.UniformsUtils.clone(l.uniforms),vertexShader:l.vertexShader,fragmentShader:l.fragmentShader}}else n.__webglShader={name:e.type,uniforms:e.uniforms,vertexShader:e.vertexShader,fragmentShader:e.fragmentShader};e.__webglShader=n.__webglShader,o=K.acquireProgram(e,r,a),n.program=o,e.program=o}var u=o.getAttributes();if(e.morphTargets)for(var h=e.numSupportedMorphTargets=0;h<w.maxMorphTargets;h++)0<=u["morphTarget"+h]&&e.numSupportedMorphTargets++;if(e.morphNormals)for(h=e.numSupportedMorphNormals=0;h<w.maxMorphNormals;h++)0<=u["morphNormal"+h]&&e.numSupportedMorphNormals++;n.uniformsList=[];var d=n.__webglShader.uniforms,c=n.program.getUniforms();for(var p in d){var f=c[p];f&&n.uniformsList.push([n.__webglShader.uniforms[p],f])}(e instanceof Ti.MeshPhongMaterial||e instanceof Ti.MeshLambertMaterial||e instanceof Ti.MeshStandardMaterial||e.lights)&&(n.lightsHash=U.hash,d.ambientLightColor.value=U.ambient,d.directionalLights.value=U.directional,d.spotLights.value=U.spot,d.pointLights.value=U.point,d.hemisphereLights.value=U.hemi,d.directionalShadowMap.value=U.directionalShadowMap,d.directionalShadowMatrix.value=U.directionalShadowMatrix,d.spotShadowMap.value=U.spotShadowMap,d.spotShadowMatrix.value=U.spotShadowMatrix,d.pointShadowMap.value=U.pointShadowMap,d.pointShadowMatrix.value=U.pointShadowMatrix),n.hasDynamicUniforms=!1;for(var m=0,_=n.uniformsList.length;m<_;m++){if(!0===n.uniformsList[m][0].dynamic){n.hasDynamicUniforms=!0;break}}}(i,t,n),i.needsUpdate=!1);var a,o,s,l,u,h,d,c,p=!1,f=!1,m=!1,_=r.program,g=_.getUniforms(),v=r.__webglShader.uniforms;if(_.id!==x&&(A.useProgram(_.program),x=_.id,m=f=p=!0),i.id!==T&&(T=i.id,f=!0),!p&&e===S||(A.uniformMatrix4fv(g.projectionMatrix,!1,e.projectionMatrix.elements),W.logarithmicDepthBuffer&&A.uniform1f(g.logDepthBufFC,2/(Math.log(e.far+1)/Math.LN2)),e!==S&&(S=e,m=f=!0),(i instanceof Ti.ShaderMaterial||i instanceof Ti.MeshPhongMaterial||i instanceof Ti.MeshStandardMaterial||i.envMap)&&void 0!==g.cameraPosition&&(Y.setFromMatrixPosition(e.matrixWorld),A.uniform3f(g.cameraPosition,Y.x,Y.y,Y.z)),(i instanceof Ti.MeshPhongMaterial||i instanceof Ti.MeshLambertMaterial||i instanceof Ti.MeshBasicMaterial||i instanceof Ti.MeshStandardMaterial||i instanceof Ti.ShaderMaterial||i.skinning)&&void 0!==g.viewMatrix&&A.uniformMatrix4fv(g.viewMatrix,!1,e.matrixWorldInverse.elements),void 0!==g.toneMappingExposure&&A.uniform1f(g.toneMappingExposure,w.toneMappingExposure),void 0!==g.toneMappingWhitePoint&&A.uniform1f(g.toneMappingWhitePoint,w.toneMappingWhitePoint)),i.skinning)if(n.bindMatrix&&void 0!==g.bindMatrix&&A.uniformMatrix4fv(g.bindMatrix,!1,n.bindMatrix.elements),n.bindMatrixInverse&&void 0!==g.bindMatrixInverse&&A.uniformMatrix4fv(g.bindMatrixInverse,!1,n.bindMatrixInverse.elements),W.floatVertexTextures&&n.skeleton&&n.skeleton.useVertexTexture){if(void 0!==g.boneTexture){var y=getTextureUnit();A.uniform1i(g.boneTexture,y),w.setTexture(n.skeleton.boneTexture,y)}void 0!==g.boneTextureWidth&&A.uniform1i(g.boneTextureWidth,n.skeleton.boneTextureWidth),void 0!==g.boneTextureHeight&&A.uniform1i(g.boneTextureHeight,n.skeleton.boneTextureHeight)}else n.skeleton&&n.skeleton.boneMatrices&&void 0!==g.boneGlobalMatrices&&A.uniformMatrix4fv(g.boneGlobalMatrices,!1,n.skeleton.boneMatrices);return f&&((i instanceof Ti.MeshPhongMaterial||i instanceof Ti.MeshLambertMaterial||i instanceof Ti.MeshStandardMaterial||i.lights)&&(h=m,(u=v).ambientLightColor.needsUpdate=h,u.directionalLights.needsUpdate=h,u.pointLights.needsUpdate=h,u.spotLights.needsUpdate=h,u.hemisphereLights.needsUpdate=h),t&&i.fog&&(l=t,(s=v).fogColor.value=l.color,l instanceof Ti.Fog?(s.fogNear.value=l.near,s.fogFar.value=l.far):l instanceof Ti.FogExp2&&(s.fogDensity.value=l.density)),(i instanceof Ti.MeshBasicMaterial||i instanceof Ti.MeshLambertMaterial||i instanceof Ti.MeshPhongMaterial||i instanceof Ti.MeshStandardMaterial)&&function(e,t){e.opacity.value=t.opacity,e.diffuse.value=t.color,t.emissive&&e.emissive.value.copy(t.emissive).multiplyScalar(t.emissiveIntensity);e.map.value=t.map,e.specularMap.value=t.specularMap,e.alphaMap.value=t.alphaMap,t.aoMap&&(e.aoMap.value=t.aoMap,e.aoMapIntensity.value=t.aoMapIntensity);var i;t.map?i=t.map:t.specularMap?i=t.specularMap:t.displacementMap?i=t.displacementMap:t.normalMap?i=t.normalMap:t.bumpMap?i=t.bumpMap:t.roughnessMap?i=t.roughnessMap:t.metalnessMap?i=t.metalnessMap:t.alphaMap?i=t.alphaMap:t.emissiveMap&&(i=t.emissiveMap);if(void 0!==i){i instanceof Ti.WebGLRenderTarget&&(i=i.texture);var n=i.offset,r=i.repeat;e.offsetRepeat.value.set(n.x,n.y,r.x,r.y)}e.envMap.value=t.envMap,e.flipEnvMap.value=t.envMap instanceof Ti.WebGLRenderTargetCube?1:-1,e.reflectivity.value=t.reflectivity,e.refractionRatio.value=t.refractionRatio}(v,i),i instanceof Ti.LineBasicMaterial?refreshUniformsLine(v,i):i instanceof Ti.LineDashedMaterial?(refreshUniformsLine(v,i),o=i,(a=v).dashSize.value=o.dashSize,a.totalSize.value=o.dashSize+o.gapSize,a.scale.value=o.scale):i instanceof Ti.PointsMaterial?function(e,t){if(e.diffuse.value=t.color,e.opacity.value=t.opacity,e.size.value=t.size*k,e.scale.value=b.clientHeight/2,e.map.value=t.map,null!==t.map){var i=t.map.offset,n=t.map.repeat;e.offsetRepeat.value.set(i.x,i.y,n.x,n.y)}}(v,i):i instanceof Ti.MeshLambertMaterial?function(e,t){t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity);t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap)}(v,i):i instanceof Ti.MeshPhongMaterial?function(e,t){e.specular.value=t.specular,e.shininess.value=Math.max(t.shininess,1e-4),t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity);t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale);t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale));t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias)}(v,i):i instanceof Ti.MeshStandardMaterial?function(e,t){e.roughness.value=t.roughness,e.metalness.value=t.metalness,t.roughnessMap&&(e.roughnessMap.value=t.roughnessMap);t.metalnessMap&&(e.metalnessMap.value=t.metalnessMap);t.lightMap&&(e.lightMap.value=t.lightMap,e.lightMapIntensity.value=t.lightMapIntensity);t.emissiveMap&&(e.emissiveMap.value=t.emissiveMap);t.bumpMap&&(e.bumpMap.value=t.bumpMap,e.bumpScale.value=t.bumpScale);t.normalMap&&(e.normalMap.value=t.normalMap,e.normalScale.value.copy(t.normalScale));t.displacementMap&&(e.displacementMap.value=t.displacementMap,e.displacementScale.value=t.displacementScale,e.displacementBias.value=t.displacementBias);t.envMap&&(e.envMapIntensity.value=t.envMapIntensity)}(v,i):i instanceof Ti.MeshDepthMaterial?(v.mNear.value=e.near,v.mFar.value=e.far,v.opacity.value=i.opacity):i instanceof Ti.MeshNormalMaterial&&(v.opacity.value=i.opacity),loadUniformsGeneric(r.uniformsList)),d=g,c=n,A.uniformMatrix4fv(d.modelViewMatrix,!1,c.modelViewMatrix.elements),d.normalMatrix&&A.uniformMatrix3fv(d.normalMatrix,!1,c.normalMatrix.elements),void 0!==g.modelMatrix&&A.uniformMatrix4fv(g.modelMatrix,!1,n.matrixWorld.elements),!0===r.hasDynamicUniforms&&function(e,t,i){for(var n=[],r=0,a=e.length;r<a;r++){var o=e[r][0],s=o.onUpdateCallback;void 0!==s&&(s.bind(o)(t,i),n.push(e[r]))}loadUniformsGeneric(n)}(r.uniformsList,n,e),_}function refreshUniformsLine(e,t){e.diffuse.value=t.color,e.opacity.value=t.opacity}function getTextureUnit(){var e=M;return W.maxTextures,M+=1,e}function loadUniform(e,t,i,n){var r,a;if("1i"===t)A.uniform1i(i,n);else if("1f"===t)A.uniform1f(i,n);else if("2f"===t)A.uniform2f(i,n[0],n[1]);else if("3f"===t)A.uniform3f(i,n[0],n[1],n[2]);else if("4f"===t)A.uniform4f(i,n[0],n[1],n[2],n[3]);else if("1iv"===t)A.uniform1iv(i,n);else if("3iv"===t)A.uniform3iv(i,n);else if("1fv"===t)A.uniform1fv(i,n);else if("2fv"===t)A.uniform2fv(i,n);else if("3fv"===t)A.uniform3fv(i,n);else if("4fv"===t)A.uniform4fv(i,n);else if("Matrix2fv"===t)A.uniformMatrix2fv(i,!1,n);else if("Matrix3fv"===t)A.uniformMatrix3fv(i,!1,n);else if("Matrix4fv"===t)A.uniformMatrix4fv(i,!1,n);else if("i"===t)A.uniform1i(i,n);else if("f"===t)A.uniform1f(i,n);else if("v2"===t)A.uniform2f(i,n.x,n.y);else if("v3"===t)A.uniform3f(i,n.x,n.y,n.z);else if("v4"===t)A.uniform4f(i,n.x,n.y,n.z,n.w);else if("c"===t)A.uniform3f(i,n.r,n.g,n.b);else if("s"===t){var o=e.properties;for(var s in o){var l=o[s],u=i[s],h=n[s];loadUniform(l,l.type,u,h)}}else if("sa"===t){o=e.properties;for(var d=0,c=n.length;d<c;d++)for(var s in o){l=o[s],u=i[d][s],h=n[d][s];loadUniform(l,l.type,u,h)}}else if("iv1"===t)A.uniform1iv(i,n);else if("iv"===t)A.uniform3iv(i,n);else if("fv1"===t)A.uniform1fv(i,n);else if("fv"===t)A.uniform3fv(i,n);else if("v2v"===t){void 0===e._array&&(e._array=new Float32Array(2*n.length));d=0;for(var p=0,f=n.length;d<f;d++,p+=2)e._array[p+0]=n[d].x,e._array[p+1]=n[d].y;A.uniform2fv(i,e._array)}else if("v3v"===t){void 0===e._array&&(e._array=new Float32Array(3*n.length));d=0;var m=0;for(f=n.length;d<f;d++,m+=3)e._array[m+0]=n[d].x,e._array[m+1]=n[d].y,e._array[m+2]=n[d].z;A.uniform3fv(i,e._array)}else if("v4v"===t){void 0===e._array&&(e._array=new Float32Array(4*n.length));d=0;var _=0;for(f=n.length;d<f;d++,_+=4)e._array[_+0]=n[d].x,e._array[_+1]=n[d].y,e._array[_+2]=n[d].z,e._array[_+3]=n[d].w;A.uniform4fv(i,e._array)}else if("m2"===t)A.uniformMatrix2fv(i,!1,n.elements);else if("m3"===t)A.uniformMatrix3fv(i,!1,n.elements);else if("m3v"===t){void 0===e._array&&(e._array=new Float32Array(9*n.length));for(d=0,f=n.length;d<f;d++)n[d].flattenToArrayOffset(e._array,9*d);A.uniformMatrix3fv(i,!1,e._array)}else if("m4"===t)A.uniformMatrix4fv(i,!1,n.elements);else if("m4v"===t){void 0===e._array&&(e._array=new Float32Array(16*n.length));for(d=0,f=n.length;d<f;d++)n[d].flattenToArrayOffset(e._array,16*d);A.uniformMatrix4fv(i,!1,e._array)}else if("t"===t){if(r=n,a=getTextureUnit(),A.uniform1i(i,a),!r)return;r instanceof Ti.CubeTexture||Array.isArray(r.image)&&6===r.image.length?setCubeTexture(r,a):r instanceof Ti.WebGLRenderTargetCube?setCubeTextureDynamic(r.texture,a):r instanceof Ti.WebGLRenderTarget?w.setTexture(r.texture,a):w.setTexture(r,a)}else if("tv"===t){void 0===e._array&&(e._array=[]);for(d=0,f=e.value.length;d<f;d++)e._array[d]=getTextureUnit();A.uniform1iv(i,e._array);for(d=0,f=e.value.length;d<f;d++)r=e.value[d],a=e._array[d],r&&(r instanceof Ti.CubeTexture||r.image instanceof Array&&6===r.image.length?setCubeTexture(r,a):r instanceof Ti.WebGLRenderTarget?w.setTexture(r.texture,a):r instanceof Ti.WebGLRenderTargetCube?setCubeTextureDynamic(r.texture,a):w.setTexture(r,a))}}function loadUniformsGeneric(e){for(var t=0,i=e.length;t<i;t++){var n=e[t][0];if(!1!==n.needsUpdate)loadUniform(n,n.type,e[t][1],n.value)}}function setTextureParameters(e,t,i){var n;if(i?(A.texParameteri(e,A.TEXTURE_WRAP_S,paramThreeToGL(t.wrapS)),A.texParameteri(e,A.TEXTURE_WRAP_T,paramThreeToGL(t.wrapT)),A.texParameteri(e,A.TEXTURE_MAG_FILTER,paramThreeToGL(t.magFilter)),A.texParameteri(e,A.TEXTURE_MIN_FILTER,paramThreeToGL(t.minFilter))):(A.texParameteri(e,A.TEXTURE_WRAP_S,A.CLAMP_TO_EDGE),A.texParameteri(e,A.TEXTURE_WRAP_T,A.CLAMP_TO_EDGE),t.wrapS!==Ti.ClampToEdgeWrapping||(t.wrapT,Ti.ClampToEdgeWrapping),A.texParameteri(e,A.TEXTURE_MAG_FILTER,filterFallback(t.magFilter)),A.texParameteri(e,A.TEXTURE_MIN_FILTER,filterFallback(t.minFilter)),t.minFilter!==Ti.NearestFilter&&(t.minFilter,Ti.LinearFilter)),n=H.get("EXT_texture_filter_anisotropic")){if(t.type===Ti.FloatType&&null===H.get("OES_texture_float_linear"))return;if(t.type===Ti.HalfFloatType&&null===H.get("OES_texture_half_float_linear"))return;(1<t.anisotropy||q.get(t).__currentAnisotropy)&&(A.texParameterf(e,n.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(t.anisotropy,w.getMaxAnisotropy())),q.get(t).__currentAnisotropy=t.anisotropy)}}function uploadTexture(e,t,i){void 0===e.__webglInit&&(e.__webglInit=!0,t.addEventListener("dispose",onTextureDispose),e.__webglTexture=A.createTexture(),j.textures++),V.activeTexture(A.TEXTURE0+i),V.bindTexture(A.TEXTURE_2D,e.__webglTexture),A.pixelStorei(A.UNPACK_FLIP_Y_WEBGL,t.flipY),A.pixelStorei(A.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.premultiplyAlpha),A.pixelStorei(A.UNPACK_ALIGNMENT,t.unpackAlignment);var n,r=clampToMaxSize(t.image,W.maxTextureSize);(n=t).wrapS===Ti.ClampToEdgeWrapping&&n.wrapT===Ti.ClampToEdgeWrapping||!1!==isPowerOfTwo(r)||(r=function(e){if(e instanceof HTMLImageElement||e instanceof HTMLCanvasElement){var t=document.createElement("canvas");return t.width=Ti.Math.nearestPowerOfTwo(e.width),t.height=Ti.Math.nearestPowerOfTwo(e.height),t.getContext("2d").drawImage(e,0,0,t.width,t.height),t}return e}(r));var a=isPowerOfTwo(r),o=paramThreeToGL(t.format),s=paramThreeToGL(t.type);setTextureParameters(A.TEXTURE_2D,t,a);var l,u=t.mipmaps;if(t instanceof Ti.DataTexture)if(0<u.length&&a){for(var h=0,d=u.length;h<d;h++)l=u[h],V.texImage2D(A.TEXTURE_2D,h,o,l.width,l.height,0,o,s,l.data);t.generateMipmaps=!1}else V.texImage2D(A.TEXTURE_2D,0,o,r.width,r.height,0,o,s,r.data);else if(t instanceof Ti.CompressedTexture)for(h=0,d=u.length;h<d;h++)l=u[h],t.format!==Ti.RGBAFormat&&t.format!==Ti.RGBFormat?-1<V.getCompressedTextureFormats().indexOf(o)&&V.compressedTexImage2D(A.TEXTURE_2D,h,o,l.width,l.height,0,l.data):V.texImage2D(A.TEXTURE_2D,h,o,l.width,l.height,0,o,s,l.data);else if(0<u.length&&a){for(h=0,d=u.length;h<d;h++)l=u[h],V.texImage2D(A.TEXTURE_2D,h,o,o,s,l);t.generateMipmaps=!1}else V.texImage2D(A.TEXTURE_2D,0,o,o,s,r);t.generateMipmaps&&a&&A.generateMipmap(A.TEXTURE_2D),e.__version=t.version,t.onUpdate&&t.onUpdate(t)}function clampToMaxSize(e,t){if(e.width>t||e.height>t){var i=t/Math.max(e.width,e.height),n=document.createElement("canvas");return n.width=Math.floor(e.width*i),n.height=Math.floor(e.height*i),n.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,n.width,n.height),n}return e}function isPowerOfTwo(e){return Ti.Math.isPowerOfTwo(e.width)&&Ti.Math.isPowerOfTwo(e.height)}function setCubeTexture(e,t){var i=q.get(e);if(6===e.image.length)if(0<e.version&&i.__version!==e.version){i.__image__webglTextureCube||(e.addEventListener("dispose",onTextureDispose),i.__image__webglTextureCube=A.createTexture(),j.textures++),V.activeTexture(A.TEXTURE0+t),V.bindTexture(A.TEXTURE_CUBE_MAP,i.__image__webglTextureCube),A.pixelStorei(A.UNPACK_FLIP_Y_WEBGL,e.flipY);for(var n=e instanceof Ti.CompressedTexture,r=e.image[0]instanceof Ti.DataTexture,a=[],o=0;o<6;o++)!w.autoScaleCubemaps||n||r?a[o]=r?e.image[o].image:e.image[o]:a[o]=clampToMaxSize(e.image[o],W.maxCubemapSize);var s=isPowerOfTwo(a[0]),l=paramThreeToGL(e.format),u=paramThreeToGL(e.type);setTextureParameters(A.TEXTURE_CUBE_MAP,e,s);for(o=0;o<6;o++)if(n)for(var h,d=a[o].mipmaps,c=0,p=d.length;c<p;c++)h=d[c],e.format!==Ti.RGBAFormat&&e.format!==Ti.RGBFormat?-1<V.getCompressedTextureFormats().indexOf(l)&&V.compressedTexImage2D(A.TEXTURE_CUBE_MAP_POSITIVE_X+o,c,l,h.width,h.height,0,h.data):V.texImage2D(A.TEXTURE_CUBE_MAP_POSITIVE_X+o,c,l,h.width,h.height,0,l,u,h.data);else r?V.texImage2D(A.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,l,a[o].width,a[o].height,0,l,u,a[o].data):V.texImage2D(A.TEXTURE_CUBE_MAP_POSITIVE_X+o,0,l,l,u,a[o]);e.generateMipmaps&&s&&A.generateMipmap(A.TEXTURE_CUBE_MAP),i.__version=e.version,e.onUpdate&&e.onUpdate(e)}else V.activeTexture(A.TEXTURE0+t),V.bindTexture(A.TEXTURE_CUBE_MAP,i.__image__webglTextureCube)}function setCubeTextureDynamic(e,t){V.activeTexture(A.TEXTURE0+t),V.bindTexture(A.TEXTURE_CUBE_MAP,q.get(e).__webglTexture)}function setupFrameBufferTexture(e,t,i,n){var r=paramThreeToGL(t.texture.format),a=paramThreeToGL(t.texture.type);V.texImage2D(n,0,r,t.width,t.height,0,r,a,null),A.bindFramebuffer(A.FRAMEBUFFER,e),A.framebufferTexture2D(A.FRAMEBUFFER,i,n,q.get(t.texture).__webglTexture,0),A.bindFramebuffer(A.FRAMEBUFFER,null)}function setupRenderBufferStorage(e,t){A.bindRenderbuffer(A.RENDERBUFFER,e),t.depthBuffer&&!t.stencilBuffer?(A.renderbufferStorage(A.RENDERBUFFER,A.DEPTH_COMPONENT16,t.width,t.height),A.framebufferRenderbuffer(A.FRAMEBUFFER,A.DEPTH_ATTACHMENT,A.RENDERBUFFER,e)):t.depthBuffer&&t.stencilBuffer?(A.renderbufferStorage(A.RENDERBUFFER,A.DEPTH_STENCIL,t.width,t.height),A.framebufferRenderbuffer(A.FRAMEBUFFER,A.DEPTH_STENCIL_ATTACHMENT,A.RENDERBUFFER,e)):A.renderbufferStorage(A.RENDERBUFFER,A.RGBA4,t.width,t.height),A.bindRenderbuffer(A.RENDERBUFFER,null)}function setupRenderTarget(e){var t=q.get(e),i=q.get(e.texture);e.addEventListener("dispose",onRenderTargetDispose),i.__webglTexture=A.createTexture(),j.textures++;var n=e instanceof Ti.WebGLRenderTargetCube,r=Ti.Math.isPowerOfTwo(e.width)&&Ti.Math.isPowerOfTwo(e.height);if(n){t.__webglFramebuffer=[];for(var a=0;a<6;a++)t.__webglFramebuffer[a]=A.createFramebuffer()}else t.__webglFramebuffer=A.createFramebuffer();if(n){V.bindTexture(A.TEXTURE_CUBE_MAP,i.__webglTexture),setTextureParameters(A.TEXTURE_CUBE_MAP,e.texture,r);for(a=0;a<6;a++)setupFrameBufferTexture(t.__webglFramebuffer[a],e,A.COLOR_ATTACHMENT0,A.TEXTURE_CUBE_MAP_POSITIVE_X+a);e.texture.generateMipmaps&&r&&A.generateMipmap(A.TEXTURE_CUBE_MAP),V.bindTexture(A.TEXTURE_CUBE_MAP,null)}else V.bindTexture(A.TEXTURE_2D,i.__webglTexture),setTextureParameters(A.TEXTURE_2D,e.texture,r),setupFrameBufferTexture(t.__webglFramebuffer,e,A.COLOR_ATTACHMENT0,A.TEXTURE_2D),e.texture.generateMipmaps&&r&&A.generateMipmap(A.TEXTURE_2D),V.bindTexture(A.TEXTURE_2D,null);e.depthBuffer&&function(e){var t=q.get(e);if(e instanceof Ti.WebGLRenderTargetCube){t.__webglDepthbuffer=[];for(var i=0;i<6;i++)A.bindFramebuffer(A.FRAMEBUFFER,t.__webglFramebuffer[i]),t.__webglDepthbuffer[i]=A.createRenderbuffer(),setupRenderBufferStorage(t.__webglDepthbuffer[i],e)}else A.bindFramebuffer(A.FRAMEBUFFER,t.__webglFramebuffer),t.__webglDepthbuffer=A.createRenderbuffer(),setupRenderBufferStorage(t.__webglDepthbuffer,e);A.bindFramebuffer(A.FRAMEBUFFER,null)}(e)}function filterFallback(e){return e===Ti.NearestFilter||e===Ti.NearestMipMapNearestFilter||e===Ti.NearestMipMapLinearFilter?A.NEAREST:A.LINEAR}function paramThreeToGL(e){var t;if(e===Ti.RepeatWrapping)return A.REPEAT;if(e===Ti.ClampToEdgeWrapping)return A.CLAMP_TO_EDGE;if(e===Ti.MirroredRepeatWrapping)return A.MIRRORED_REPEAT;if(e===Ti.NearestFilter)return A.NEAREST;if(e===Ti.NearestMipMapNearestFilter)return A.NEAREST_MIPMAP_NEAREST;if(e===Ti.NearestMipMapLinearFilter)return A.NEAREST_MIPMAP_LINEAR;if(e===Ti.LinearFilter)return A.LINEAR;if(e===Ti.LinearMipMapNearestFilter)return A.LINEAR_MIPMAP_NEAREST;if(e===Ti.LinearMipMapLinearFilter)return A.LINEAR_MIPMAP_LINEAR;if(e===Ti.UnsignedByteType)return A.UNSIGNED_BYTE;if(e===Ti.UnsignedShort4444Type)return A.UNSIGNED_SHORT_4_4_4_4;if(e===Ti.UnsignedShort5551Type)return A.UNSIGNED_SHORT_5_5_5_1;if(e===Ti.UnsignedShort565Type)return A.UNSIGNED_SHORT_5_6_5;if(e===Ti.ByteType)return A.BYTE;if(e===Ti.ShortType)return A.SHORT;if(e===Ti.UnsignedShortType)return A.UNSIGNED_SHORT;if(e===Ti.IntType)return A.INT;if(e===Ti.UnsignedIntType)return A.UNSIGNED_INT;if(e===Ti.FloatType)return A.FLOAT;if(null!==(t=H.get("OES_texture_half_float"))&&e===Ti.HalfFloatType)return t.HALF_FLOAT_OES;if(e===Ti.AlphaFormat)return A.ALPHA;if(e===Ti.RGBFormat)return A.RGB;if(e===Ti.RGBAFormat)return A.RGBA;if(e===Ti.LuminanceFormat)return A.LUMINANCE;if(e===Ti.LuminanceAlphaFormat)return A.LUMINANCE_ALPHA;if(e===Ti.AddEquation)return A.FUNC_ADD;if(e===Ti.SubtractEquation)return A.FUNC_SUBTRACT;if(e===Ti.ReverseSubtractEquation)return A.FUNC_REVERSE_SUBTRACT;if(e===Ti.ZeroFactor)return A.ZERO;if(e===Ti.OneFactor)return A.ONE;if(e===Ti.SrcColorFactor)return A.SRC_COLOR;if(e===Ti.OneMinusSrcColorFactor)return A.ONE_MINUS_SRC_COLOR;if(e===Ti.SrcAlphaFactor)return A.SRC_ALPHA;if(e===Ti.OneMinusSrcAlphaFactor)return A.ONE_MINUS_SRC_ALPHA;if(e===Ti.DstAlphaFactor)return A.DST_ALPHA;if(e===Ti.OneMinusDstAlphaFactor)return A.ONE_MINUS_DST_ALPHA;if(e===Ti.DstColorFactor)return A.DST_COLOR;if(e===Ti.OneMinusDstColorFactor)return A.ONE_MINUS_DST_COLOR;if(e===Ti.SrcAlphaSaturateFactor)return A.SRC_ALPHA_SATURATE;if(null!==(t=H.get("WEBGL_compressed_texture_s3tc"))){if(e===Ti.RGB_S3TC_DXT1_Format)return t.COMPRESSED_RGB_S3TC_DXT1_EXT;if(e===Ti.RGBA_S3TC_DXT1_Format)return t.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(e===Ti.RGBA_S3TC_DXT3_Format)return t.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(e===Ti.RGBA_S3TC_DXT5_Format)return t.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(null!==(t=H.get("WEBGL_compressed_texture_pvrtc"))){if(e===Ti.RGB_PVRTC_4BPPV1_Format)return t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(e===Ti.RGB_PVRTC_2BPPV1_Format)return t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(e===Ti.RGBA_PVRTC_4BPPV1_Format)return t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(e===Ti.RGBA_PVRTC_2BPPV1_Format)return t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(null!==(t=H.get("WEBGL_compressed_texture_etc1"))&&e===Ti.RGB_ETC1_Format)return t.COMPRESSED_RGB_ETC1_WEBGL;if(null!==(t=H.get("EXT_blend_minmax"))){if(e===Ti.MinEquation)return t.MIN_EXT;if(e===Ti.MaxEquation)return t.MAX_EXT}return 0}this.getContext=function(){return A},this.getContextAttributes=function(){return A.getContextAttributes()},this.forceContextLoss=function(){H.get("WEBGL_lose_context").loseContext()},this.getMaxAnisotropy=function(){if(void 0!==ee)return ee;var e=H.get("EXT_texture_filter_anisotropic");return ee=null!==e?A.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},this.getPrecision=function(){return W.precision},this.getPixelRatio=function(){return k},this.setPixelRatio=function(e){void 0!==e&&(k=e,this.setSize(B.z,B.w,!1))},this.getSize=function(){return{width:D,height:R}},this.setSize=function(e,t,i){D=e,R=t,b.width=e*k,b.height=t*k,!1!==i&&(b.style.width=e+"px",b.style.height=t+"px"),this.setViewport(0,0,e,t)},this.setViewport=function(e,t,i,n){V.viewport(B.set(e,t,i,n))},this.setScissor=function(e,t,i,n){V.scissor(I.set(e,t,i,n))},this.setScissorTest=function(e){V.setScissorTest(O=e)},this.getClearColor=function(){return L},this.setClearColor=function(e,t){L.set(e),E=void 0!==t?t:1,glClearColor(L.r,L.g,L.b,E)},this.getClearAlpha=function(){return E},this.setClearAlpha=function(e){E=e,glClearColor(L.r,L.g,L.b,E)},this.clear=function(e,t,i){var n=0;void 0!==e&&!e||(n|=A.COLOR_BUFFER_BIT),void 0!==t&&!t||(n|=A.DEPTH_BUFFER_BIT),void 0!==i&&!i||(n|=A.STENCIL_BUFFER_BIT),A.clear(n)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(e,t,i,n){this.setRenderTarget(e),this.clear(t,i,n)},this.resetGLState=resetGLState,this.dispose=function(){b.removeEventListener("webglcontextlost",onContextLost,!1)},this.renderBufferImmediate=function(e,t,i){V.initAttributes();var n=q.get(e);e.hasPositions&&!n.position&&(n.position=A.createBuffer()),e.hasNormals&&!n.normal&&(n.normal=A.createBuffer()),e.hasUvs&&!n.uv&&(n.uv=A.createBuffer()),e.hasColors&&!n.color&&(n.color=A.createBuffer());var r=t.getAttributes();if(e.hasPositions&&(A.bindBuffer(A.ARRAY_BUFFER,n.position),A.bufferData(A.ARRAY_BUFFER,e.positionArray,A.DYNAMIC_DRAW),V.enableAttribute(r.position),A.vertexAttribPointer(r.position,3,A.FLOAT,!1,0,0)),e.hasNormals){if(A.bindBuffer(A.ARRAY_BUFFER,n.normal),"MeshPhongMaterial"!==i.type&&"MeshStandardMaterial"!==i.type&&i.shading===Ti.FlatShading)for(var a=0,o=3*e.count;a<o;a+=9){var s=e.normalArray,l=(s[a+0]+s[a+3]+s[a+6])/3,u=(s[a+1]+s[a+4]+s[a+7])/3,h=(s[a+2]+s[a+5]+s[a+8])/3;s[a+0]=l,s[a+1]=u,s[a+2]=h,s[a+3]=l,s[a+4]=u,s[a+5]=h,s[a+6]=l,s[a+7]=u,s[a+8]=h}A.bufferData(A.ARRAY_BUFFER,e.normalArray,A.DYNAMIC_DRAW),V.enableAttribute(r.normal),A.vertexAttribPointer(r.normal,3,A.FLOAT,!1,0,0)}e.hasUvs&&i.map&&(A.bindBuffer(A.ARRAY_BUFFER,n.uv),A.bufferData(A.ARRAY_BUFFER,e.uvArray,A.DYNAMIC_DRAW),V.enableAttribute(r.uv),A.vertexAttribPointer(r.uv,2,A.FLOAT,!1,0,0)),e.hasColors&&i.vertexColors!==Ti.NoColors&&(A.bindBuffer(A.ARRAY_BUFFER,n.color),A.bufferData(A.ARRAY_BUFFER,e.colorArray,A.DYNAMIC_DRAW),V.enableAttribute(r.color),A.vertexAttribPointer(r.color,3,A.FLOAT,!1,0,0)),V.disableUnusedAttributes(),A.drawArrays(A.TRIANGLES,0,e.count),e.count=0},this.renderBufferDirect=function(e,t,i,n,r,a){setMaterial(n);var o=setProgram(e,t,n,r),s=!1,l=i.id+"_"+o.id+"_"+n.wireframe;l!==P&&(P=l,s=!0);var u=r.morphTargetInfluences;if(void 0!==u){for(var h=[],d=0,c=u.length;d<c;d++){var p=u[d];h.push([p,d])}h.sort(absNumericalSort),8<h.length&&(h.length=8);var f=i.morphAttributes;for(d=0,c=h.length;d<c;d++){p=h[d];if(C[d]=p[0],0!==p[0]){var m=p[1];!0===n.morphTargets&&f.position&&i.addAttribute("morphTarget"+d,f.position[m]),!0===n.morphNormals&&f.normal&&i.addAttribute("morphNormal"+d,f.normal[m])}else!0===n.morphTargets&&i.removeAttribute("morphTarget"+d),!0===n.morphNormals&&i.removeAttribute("morphNormal"+d)}var _=o.getUniforms();null!==_.morphTargetInfluences&&A.uniform1fv(_.morphTargetInfluences,C),s=!0}m=i.index;var g,v=i.attributes.position;!0===n.wireframe&&(m=X.getWireframeAttribute(i)),null!==m?(g=Q).setIndex(m):g=Z,s&&(function(e,t,i,n){var r;if(i instanceof Ti.InstancedBufferGeometry&&null===(r=H.get("ANGLE_instanced_arrays")))return;void 0===n&&(n=0);V.initAttributes();var a=i.attributes,o=t.getAttributes(),s=e.defaultAttributeValues;for(var l in o){var u=o[l];if(0<=u){var h=a[l];if(void 0!==h){var d=h.itemSize,c=X.getAttributeBuffer(h);if(h instanceof Ti.InterleavedBufferAttribute){var p=h.data,f=p.stride,m=h.offset;p instanceof Ti.InstancedInterleavedBuffer?(V.enableAttributeAndDivisor(u,p.meshPerAttribute,r),void 0===i.maxInstancedCount&&(i.maxInstancedCount=p.meshPerAttribute*p.count)):V.enableAttribute(u),A.bindBuffer(A.ARRAY_BUFFER,c),A.vertexAttribPointer(u,d,A.FLOAT,!1,f*p.array.BYTES_PER_ELEMENT,(n*f+m)*p.array.BYTES_PER_ELEMENT)}else h instanceof Ti.InstancedBufferAttribute?(V.enableAttributeAndDivisor(u,h.meshPerAttribute,r),void 0===i.maxInstancedCount&&(i.maxInstancedCount=h.meshPerAttribute*h.count)):V.enableAttribute(u),A.bindBuffer(A.ARRAY_BUFFER,c),A.vertexAttribPointer(u,d,A.FLOAT,!1,0,n*d*4)}else if(void 0!==s){var _=s[l];if(void 0!==_)switch(_.length){case 2:A.vertexAttrib2fv(u,_);break;case 3:A.vertexAttrib3fv(u,_);break;case 4:A.vertexAttrib4fv(u,_);break;default:A.vertexAttrib1fv(u,_)}}}}V.disableUnusedAttributes()}(n,o,i),null!==m&&A.bindBuffer(A.ELEMENT_ARRAY_BUFFER,X.getAttributeBuffer(m)));var y=1/0;null!==m?y=m.count:void 0!==v&&(y=v.count);var b=i.drawRange.start,w=i.drawRange.count,x=null!==a?a.start:0,T=null!==a?a.count:1/0,S=Math.max(0,b,x),M=Math.min(0+y,b+w,x+T)-1,L=Math.max(0,M-S+1);if(r instanceof Ti.Mesh)if(!0===n.wireframe)V.setLineWidth(n.wireframeLinewidth*getTargetPixelRatio()),g.setMode(A.LINES);else switch(r.drawMode){case Ti.TrianglesDrawMode:g.setMode(A.TRIANGLES);break;case Ti.TriangleStripDrawMode:g.setMode(A.TRIANGLE_STRIP);break;case Ti.TriangleFanDrawMode:g.setMode(A.TRIANGLE_FAN)}else if(r instanceof Ti.Line){var E=n.linewidth;void 0===E&&(E=1),V.setLineWidth(E*getTargetPixelRatio()),r instanceof Ti.LineSegments?g.setMode(A.LINES):g.setMode(A.LINE_STRIP)}else r instanceof Ti.Points&&g.setMode(A.POINTS);i instanceof Ti.InstancedBufferGeometry?0<i.maxInstancedCount&&g.renderInstances(i,S,L):g.render(S,L)},this.render=function(e,t,i,n){if(t instanceof Ti.Camera!=!1){var r,a,o,s=e.fog;if(P="",T=-1,!(S=null)===e.autoUpdate&&e.updateMatrixWorld(),null===t.parent&&t.updateMatrixWorld(),t.matrixWorldInverse.getInverse(t.matrixWorld),F.multiplyMatrices(t.projectionMatrix,t.matrixWorldInverse),N.setFromMatrix(F),d.length=0,f=c=-1,m.length=0,_.length=0,function projectObject(e,t){if(!1===e.visible)return;if(e.layers.test(t.layers))if(e instanceof Ti.Light)d.push(e);else if(e instanceof Ti.Sprite)!1!==e.frustumCulled&&!0!==N.intersectsObject(e)||m.push(e);else if(e instanceof Ti.LensFlare)_.push(e);else if(e instanceof Ti.ImmediateRenderObject)!0===w.sortObjects&&(Y.setFromMatrixPosition(e.matrixWorld),Y.applyProjection(F)),pushRenderItem(e,null,e.material,Y.z,null);else if((e instanceof Ti.Mesh||e instanceof Ti.Line||e instanceof Ti.Points)&&(e instanceof Ti.SkinnedMesh&&e.skeleton.update(),!1===e.frustumCulled||!0===N.intersectsObject(e))){var i=e.material;if(!0===i.visible){!0===w.sortObjects&&(Y.setFromMatrixPosition(e.matrixWorld),Y.applyProjection(F));var n=X.update(e);if(i instanceof Ti.MultiMaterial)for(var r=n.groups,a=i.materials,o=0,s=r.length;o<s;o++){var l=r[o],u=a[l.materialIndex];!0===u.visible&&pushRenderItem(e,n,u,Y.z,l)}else pushRenderItem(e,n,i,Y.z,null)}}var h=e.children;for(var o=0,s=h.length;o<s;o++)projectObject(h[o],t)}(e,t),h.length=c+1,p.length=f+1,!0===w.sortObjects&&(h.sort(painterSortStable),p.sort(reversePainterSortStable)),function(e,t){var i,n,r,a,o,s,l=0,u=0,h=0,d=t.matrixWorldInverse,c=0,p=0,f=0,m=0,_=0;for(U.shadowsPointLight=0,i=0,n=e.length;i<n;i++)if(r=e[i],a=r.color,o=r.intensity,s=r.distance,r instanceof Ti.AmbientLight)l+=a.r*o,u+=a.g*o,h+=a.b*o;else if(r instanceof Ti.DirectionalLight){(g=J.get(r)).color.copy(r.color).multiplyScalar(r.intensity),g.direction.setFromMatrixPosition(r.matrixWorld),Y.setFromMatrixPosition(r.target.matrixWorld),g.direction.sub(Y),g.direction.transformDirection(d),g.shadow=r.castShadow,r.castShadow&&(g.shadowBias=r.shadow.bias,g.shadowRadius=r.shadow.radius,g.shadowMapSize=r.shadow.mapSize,U.shadows[_++]=r),U.directionalShadowMap[c]=r.shadow.map,U.directionalShadowMatrix[c]=r.shadow.matrix,U.directional[c++]=g}else if(r instanceof Ti.SpotLight){(g=J.get(r)).position.setFromMatrixPosition(r.matrixWorld),g.position.applyMatrix4(d),g.color.copy(a).multiplyScalar(o),g.distance=s,g.direction.setFromMatrixPosition(r.matrixWorld),Y.setFromMatrixPosition(r.target.matrixWorld),g.direction.sub(Y),g.direction.transformDirection(d),g.coneCos=Math.cos(r.angle),g.penumbraCos=Math.cos(r.angle*(1-r.penumbra)),g.decay=0===r.distance?0:r.decay,g.shadow=r.castShadow,r.castShadow&&(g.shadowBias=r.shadow.bias,g.shadowRadius=r.shadow.radius,g.shadowMapSize=r.shadow.mapSize,U.shadows[_++]=r),U.spotShadowMap[f]=r.shadow.map,U.spotShadowMatrix[f]=r.shadow.matrix,U.spot[f++]=g}else if(r instanceof Ti.PointLight){(g=J.get(r)).position.setFromMatrixPosition(r.matrixWorld),g.position.applyMatrix4(d),g.color.copy(r.color).multiplyScalar(r.intensity),g.distance=r.distance,g.decay=0===r.distance?0:r.decay,g.shadow=r.castShadow,r.castShadow&&(g.shadowBias=r.shadow.bias,g.shadowRadius=r.shadow.radius,g.shadowMapSize=r.shadow.mapSize,U.shadows[_++]=r),U.pointShadowMap[p]=r.shadow.map,void 0===U.pointShadowMatrix[p]&&(U.pointShadowMatrix[p]=new Ti.Matrix4),Y.setFromMatrixPosition(r.matrixWorld).negate(),U.pointShadowMatrix[p].identity().setPosition(Y),U.point[p++]=g}else if(r instanceof Ti.HemisphereLight){var g;(g=J.get(r)).direction.setFromMatrixPosition(r.matrixWorld),g.direction.transformDirection(d),g.direction.normalize(),g.skyColor.copy(r.color).multiplyScalar(o),g.groundColor.copy(r.groundColor).multiplyScalar(o),U.hemi[m++]=g}U.ambient[0]=l,U.ambient[1]=u,U.ambient[2]=h,U.directional.length=c,U.spot.length=f,U.point.length=p,U.hemi.length=m,U.shadows.length=_,U.hash=c+","+p+","+f+","+m+","+_}(d,t),$.render(e,t),z.calls=0,z.vertices=0,z.faces=0,void(z.points=0)===i&&(i=null),this.setRenderTarget(i),(this.autoClear||n)&&this.clear(this.autoClearColor,this.autoClearDepth,this.autoClearStencil),e.overrideMaterial){var l=e.overrideMaterial;renderObjects(h,t,s,l),renderObjects(p,t,s,l)}else V.setBlending(Ti.NoBlending),renderObjects(h,t,s),renderObjects(p,t,s);if(te.render(e,t),ie.render(e,t,y),i){var u=i.texture;u.generateMipmaps&&isPowerOfTwo(i)&&u.minFilter!==Ti.NearestFilter&&u.minFilter!==Ti.LinearFilter&&(a=(r=i)instanceof Ti.WebGLRenderTargetCube?A.TEXTURE_CUBE_MAP:A.TEXTURE_2D,o=q.get(r.texture).__webglTexture,V.bindTexture(a,o),A.generateMipmap(a),V.bindTexture(a,null))}V.setDepthTest(!0),V.setDepthWrite(!0),V.setColorWrite(!0)}},this.setFaceCulling=function(e,t){e===Ti.CullFaceNone?V.disable(A.CULL_FACE):(t===Ti.FrontFaceDirectionCW?A.frontFace(A.CW):A.frontFace(A.CCW),e===Ti.CullFaceBack?A.cullFace(A.BACK):e===Ti.CullFaceFront?A.cullFace(A.FRONT):A.cullFace(A.FRONT_AND_BACK),V.enable(A.CULL_FACE))},this.setTexture=function(e,t){var i=q.get(e);if(0<e.version&&i.__version!==e.version){var n=e.image;if(void 0===n)return;if(!1===n.complete)return;uploadTexture(i,e,t)}else V.activeTexture(A.TEXTURE0+t),V.bindTexture(A.TEXTURE_2D,i.__webglTexture)},this.getCurrentRenderTarget=function(){return l},this.setRenderTarget=function(e){(l=e)&&void 0===q.get(e).__webglFramebuffer&&setupRenderTarget(e);var t,i=e instanceof Ti.WebGLRenderTargetCube;if(e){var n=q.get(e);t=i?n.__webglFramebuffer[e.activeCubeFace]:n.__webglFramebuffer,g.copy(e.scissor),v=e.scissorTest,y.copy(e.viewport)}else t=null,g.copy(I).multiplyScalar(k),v=O,y.copy(B).multiplyScalar(k);if(u!==t&&(A.bindFramebuffer(A.FRAMEBUFFER,t),u=t),V.scissor(g),V.setScissorTest(v),V.viewport(y),i){var r=q.get(e.texture);A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_CUBE_MAP_POSITIVE_X+e.activeCubeFace,r.__webglTexture,e.activeMipMapLevel)}},this.readRenderTargetPixels=function(e,t,i,n,r,a){if(e instanceof Ti.WebGLRenderTarget!=!1){var o=q.get(e).__webglFramebuffer;if(o){var s=!1;o!==u&&(A.bindFramebuffer(A.FRAMEBUFFER,o),s=!0);try{var l=e.texture;if(l.format!==Ti.RGBAFormat&&paramThreeToGL(l.format)!==A.getParameter(A.IMPLEMENTATION_COLOR_READ_FORMAT))return;if(!(l.type===Ti.UnsignedByteType||paramThreeToGL(l.type)===A.getParameter(A.IMPLEMENTATION_COLOR_READ_TYPE)||l.type===Ti.FloatType&&H.get("WEBGL_color_buffer_float")||l.type===Ti.HalfFloatType&&H.get("EXT_color_buffer_half_float")))return;A.checkFramebufferStatus(A.FRAMEBUFFER)===A.FRAMEBUFFER_COMPLETE&&A.readPixels(t,i,n,r,paramThreeToGL(l.format),paramThreeToGL(l.type),a)}finally{s&&A.bindFramebuffer(A.FRAMEBUFFER,u)}}}}},Ti.WebGLRenderTarget=function(e,t,i){this.uuid=Ti.Math.generateUUID(),this.width=e,this.height=t,this.scissor=new Ti.Vector4(0,0,e,t),this.scissorTest=!1,this.viewport=new Ti.Vector4(0,0,e,t),void 0===(i=i||{}).minFilter&&(i.minFilter=Ti.LinearFilter),this.texture=new Ti.Texture(void 0,void 0,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy),this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0===i.stencilBuffer||i.stencilBuffer},Ti.WebGLRenderTarget.prototype={constructor:Ti.WebGLRenderTarget,setSize:function(e,t){this.width===e&&this.height===t||(this.width=e,this.height=t,this.dispose()),this.viewport.set(0,0,e,t),this.scissor.set(0,0,e,t)},clone:function(){return(new this.constructor).copy(this)},copy:function(e){return this.width=e.width,this.height=e.height,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this},dispose:function(){this.dispatchEvent({type:"dispose"})}},Ti.EventDispatcher.prototype.apply(Ti.WebGLRenderTarget.prototype),Ti.WebGLRenderTargetCube=function(e,t,i){Ti.WebGLRenderTarget.call(this,e,t,i),this.activeCubeFace=0,this.activeMipMapLevel=0},Ti.WebGLRenderTargetCube.prototype=Object.create(Ti.WebGLRenderTarget.prototype),Ti.WebGLRenderTargetCube.prototype.constructor=Ti.WebGLRenderTargetCube,Ti.WebGLBufferRenderer=function(r,a,o){var s;this.setMode=function(e){s=e},this.render=function(e,t){r.drawArrays(s,e,t),o.calls++,o.vertices+=t,s===r.TRIANGLES&&(o.faces+=t/3)},this.renderInstances=function(e){var t=a.get("ANGLE_instanced_arrays");if(null!==t){var i=e.attributes.position,n=0;n=i instanceof Ti.InterleavedBufferAttribute?i.data.count:i.count,t.drawArraysInstancedANGLE(s,0,n,e.maxInstancedCount),o.calls++,o.vertices+=n*e.maxInstancedCount,s===r.TRIANGLES&&(o.faces+=e.maxInstancedCount*n/3)}}},Ti.WebGLIndexedBufferRenderer=function(r,a,o){var s,l,u;this.setMode=function(e){s=e},this.setIndex=function(e){u=e.array instanceof Uint32Array&&a.get("OES_element_index_uint")?(l=r.UNSIGNED_INT,4):(l=r.UNSIGNED_SHORT,2)},this.render=function(e,t){r.drawElements(s,t,l,e*u),o.calls++,o.vertices+=t,s===r.TRIANGLES&&(o.faces+=t/3)},this.renderInstances=function(e,t,i){var n=a.get("ANGLE_instanced_arrays");null!==n&&(n.drawElementsInstancedANGLE(s,i,l,t*u,e.maxInstancedCount),o.calls++,o.vertices+=i*e.maxInstancedCount,s===r.TRIANGLES&&(o.faces+=e.maxInstancedCount*i/3))}},Ti.WebGLExtensions=function(i){var n={};this.get=function(e){if(void 0!==n[e])return n[e];var t;switch(e){case"EXT_texture_filter_anisotropic":t=i.getExtension("EXT_texture_filter_anisotropic")||i.getExtension("MOZ_EXT_texture_filter_anisotropic")||i.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":t=i.getExtension("WEBGL_compressed_texture_s3tc")||i.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":t=i.getExtension("WEBGL_compressed_texture_pvrtc")||i.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":t=i.getExtension("WEBGL_compressed_texture_etc1");break;default:t=i.getExtension(e)}return n[e]=t}},Ti.WebGLCapabilities=function(t,e,i){function getMaxPrecision(e){if("highp"===e){if(0<t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision&&0<t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision)return"highp";e="mediump"}return"mediump"===e&&0<t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision&&0<t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision?"mediump":"lowp"}this.getMaxPrecision=getMaxPrecision,this.precision=void 0!==i.precision?i.precision:"highp",this.logarithmicDepthBuffer=void 0!==i.logarithmicDepthBuffer&&i.logarithmicDepthBuffer,this.maxTextures=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),this.maxVertexTextures=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),this.maxTextureSize=t.getParameter(t.MAX_TEXTURE_SIZE),this.maxCubemapSize=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),this.maxAttributes=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.maxVertexUniforms=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),this.maxVaryings=t.getParameter(t.MAX_VARYING_VECTORS),this.maxFragmentUniforms=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),this.vertexTextures=0<this.maxVertexTextures,this.floatFragmentTextures=!!e.get("OES_texture_float"),this.floatVertexTextures=this.vertexTextures&&this.floatFragmentTextures;var n=getMaxPrecision(this.precision);n!==this.precision&&(this.precision=n),this.logarithmicDepthBuffer&&(this.logarithmicDepthBuffer=!!e.get("EXT_frag_depth"))},Ti.WebGLGeometries=function(r,a,o){var s={};function onGeometryDispose(e){var t=e.target,i=s[t.id];null!==i.index&&deleteAttribute(i.index),function(e){for(var t in e)deleteAttribute(e[t])}(i.attributes),t.removeEventListener("dispose",onGeometryDispose),delete s[t.id];var n=a.get(t);n.wireframe&&deleteAttribute(n.wireframe),a.delete(t);var r=a.get(i);r.wireframe&&deleteAttribute(r.wireframe),a.delete(i),o.memory.geometries--}function deleteAttribute(e){var t,i,n=(t=e)instanceof Ti.InterleavedBufferAttribute?a.get(t.data).__webglBuffer:a.get(t).__webglBuffer;void 0!==n&&(r.deleteBuffer(n),(i=e)instanceof Ti.InterleavedBufferAttribute?a.delete(i.data):a.delete(i))}this.get=function(e){var t,i=e.geometry;return void 0!==s[i.id]?s[i.id]:(i.addEventListener("dispose",onGeometryDispose),i instanceof Ti.BufferGeometry?t=i:i instanceof Ti.Geometry&&(void 0===i._bufferGeometry&&(i._bufferGeometry=(new Ti.BufferGeometry).setFromObject(e)),t=i._bufferGeometry),s[i.id]=t,o.memory.geometries++,t)}},Ti.WebGLLights=function(){var i={};this.get=function(e){if(void 0!==i[e.id])return i[e.id];var t;switch(e.type){case"DirectionalLight":t={direction:new Ti.Vector3,color:new Ti.Color,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Ti.Vector2};break;case"SpotLight":t={position:new Ti.Vector3,direction:new Ti.Vector3,color:new Ti.Color,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Ti.Vector2};break;case"PointLight":t={position:new Ti.Vector3,color:new Ti.Color,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new Ti.Vector2};break;case"HemisphereLight":t={direction:new Ti.Vector3,skyColor:new Ti.Color,groundColor:new Ti.Color}}return i[e.id]=t}},Ti.WebGLObjects=function(m,_,e){var u=new Ti.WebGLGeometries(m,_,e);function updateAttribute(e,t){var i=e instanceof Ti.InterleavedBufferAttribute?e.data:e,n=_.get(i);void 0===n.__webglBuffer?function(e,t,i){e.__webglBuffer=m.createBuffer(),m.bindBuffer(i,e.__webglBuffer);var n=t.dynamic?m.DYNAMIC_DRAW:m.STATIC_DRAW;m.bufferData(i,t.array,n),e.version=t.version}(n,i,t):n.version!==i.version&&function(e,t,i){m.bindBuffer(i,e.__webglBuffer),!1===t.dynamic||-1===t.updateRange.count?m.bufferSubData(i,0,t.array):0===t.updateRange.count||(m.bufferSubData(i,t.updateRange.offset*t.array.BYTES_PER_ELEMENT,t.array.subarray(t.updateRange.offset,t.updateRange.offset+t.updateRange.count)),t.updateRange.count=0);e.version=t.version}(n,i,t)}function checkEdge(e,t,i){if(i<t){var n=t;t=i,i=n}var r=e[t];return void 0===r?e[t]=[i]:-1===r.indexOf(i)&&(r.push(i),1)}this.getAttributeBuffer=function(e){return e instanceof Ti.InterleavedBufferAttribute?_.get(e.data).__webglBuffer:_.get(e).__webglBuffer},this.getWireframeAttribute=function(e){var t=_.get(e);if(void 0!==t.wireframe)return t.wireframe;var i,n=[],r=e.index,a=e.attributes,o=a.position;if(null!==r)for(var s={},l=0,u=(i=r.array).length;l<u;l+=3){var h=i[l+0],d=i[l+1],c=i[l+2];checkEdge(s,h,d)&&n.push(h,d),checkEdge(s,d,c)&&n.push(d,c),checkEdge(s,c,h)&&n.push(c,h)}else for(l=0,u=(i=a.position.array).length/3-1;l<u;l+=3){h=l+0,d=l+1,c=l+2;n.push(h,d,d,c,c,h)}var p=65535<o.count?Uint32Array:Uint16Array,f=new Ti.BufferAttribute(new p(n),1);return updateAttribute(f,m.ELEMENT_ARRAY_BUFFER),t.wireframe=f},this.update=function(e){var t=u.get(e);e.geometry instanceof Ti.Geometry&&t.updateFromObject(e);var i=t.index,n=t.attributes;for(var r in null!==i&&updateAttribute(i,m.ELEMENT_ARRAY_BUFFER),n)updateAttribute(n[r],m.ARRAY_BUFFER);var a=t.morphAttributes;for(var r in a)for(var o=a[r],s=0,l=o.length;s<l;s++)updateAttribute(o[s],m.ARRAY_BUFFER);return t}},Ti.WebGLProgram=(Jt=0,Zt=/^([\w\d_]+)\.([\w\d_]+)$/,Qt=/^([\w\d_]+)\[(\d+)\]\.([\w\d_]+)$/,$t=/^([\w\d_]+)\[0\]$/,function(e,t,i,n){var r=e.context,a=i.extensions,o=i.defines,s=i.__webglShader.vertexShader,l=i.__webglShader.fragmentShader,u="SHADOWMAP_TYPE_BASIC";n.shadowMapType===Ti.PCFShadowMap?u="SHADOWMAP_TYPE_PCF":n.shadowMapType===Ti.PCFSoftShadowMap&&(u="SHADOWMAP_TYPE_PCF_SOFT");var h="ENVMAP_TYPE_CUBE",d="ENVMAP_MODE_REFLECTION",c="ENVMAP_BLENDING_MULTIPLY";if(n.envMap){switch(i.envMap.mapping){case Ti.CubeReflectionMapping:case Ti.CubeRefractionMapping:h="ENVMAP_TYPE_CUBE";break;case Ti.CubeUVReflectionMapping:case Ti.CubeUVRefractionMapping:h="ENVMAP_TYPE_CUBE_UV";break;case Ti.EquirectangularReflectionMapping:case Ti.EquirectangularRefractionMapping:h="ENVMAP_TYPE_EQUIREC";break;case Ti.SphericalReflectionMapping:h="ENVMAP_TYPE_SPHERE"}switch(i.envMap.mapping){case Ti.CubeRefractionMapping:case Ti.EquirectangularRefractionMapping:d="ENVMAP_MODE_REFRACTION"}switch(i.combine){case Ti.MultiplyOperation:c="ENVMAP_BLENDING_MULTIPLY";break;case Ti.MixOperation:c="ENVMAP_BLENDING_MIX";break;case Ti.AddOperation:c="ENVMAP_BLENDING_ADD"}}var p,f,m,_,g,v,y,b,w=0<e.gammaFactor?e.gammaFactor:1,x=(p=a,f=n,m=e.extensions,[(p=p||{}).derivatives||f.envMapCubeUV||f.bumpMap||f.normalMap||f.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(p.fragDepth||f.logarithmicDepthBuffer)&&m.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",p.drawBuffers&&m.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(p.shaderTextureLOD||f.envMap)&&m.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(filterEmptyLine).join("\n")),T=function(e){var t=[];for(var i in e){var n=e[i];!1!==n&&t.push("#define "+i+" "+n)}return t.join("\n")}(o),S=r.createProgram();g=i instanceof Ti.RawShaderMaterial?_="":(_=["precision "+n.precision+" float;","precision "+n.precision+" int;","#define SHADER_NAME "+i.__webglShader.name,T,n.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+w,"#define MAX_BONES "+n.maxBones,n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+d:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.displacementMap&&n.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.vertexColors?"#define USE_COLOR":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.useVertexTexture?"#define BONE_TEXTURE":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&!1===n.flatShading?"#define USE_MORPHNORMALS":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",0<n.pointLightShadows?"#define POINT_LIGHT_SHADOWS":"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&e.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(filterEmptyLine).join("\n"),[x,"precision "+n.precision+" float;","precision "+n.precision+" int;","#define SHADER_NAME "+i.__webglShader.name,T,n.alphaTest?"#define ALPHATEST "+n.alphaTest:"","#define GAMMA_FACTOR "+w,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+h:"",n.envMap?"#define "+d:"",n.envMap?"#define "+c:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.vertexColors?"#define USE_COLOR":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+u:"",0<n.pointLightShadows?"#define POINT_LIGHT_SHADOWS":"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&e.extensions.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",n.envMap&&e.extensions.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",n.toneMapping!==Ti.NoToneMapping?"#define TONE_MAPPING":"",n.toneMapping!==Ti.NoToneMapping?Ti.ShaderChunk.tonemapping_pars_fragment:"",n.toneMapping!==Ti.NoToneMapping?function(e,t){var i;switch(t){case Ti.LinearToneMapping:i="Linear";break;case Ti.ReinhardToneMapping:i="Reinhard";break;case Ti.Uncharted2ToneMapping:i="Uncharted2";break;case Ti.CineonToneMapping:i="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+t)}return"vec3 "+e+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}("toneMapping",n.toneMapping):"",n.outputEncoding||n.mapEncoding||n.envMapEncoding||n.emissiveMapEncoding?Ti.ShaderChunk.encodings_pars_fragment:"",n.mapEncoding?getTexelDecodingFunction("mapTexelToLinear",n.mapEncoding):"",n.envMapEncoding?getTexelDecodingFunction("envMapTexelToLinear",n.envMapEncoding):"",n.emissiveMapEncoding?getTexelDecodingFunction("emissiveMapTexelToLinear",n.emissiveMapEncoding):"",n.outputEncoding?(v="linearToOutputTexel",y=n.outputEncoding,b=getEncodingComponents(y),"vec4 "+v+"( vec4 value ) { return LinearTo"+b[0]+b[1]+"; }"):"","\n"].filter(filterEmptyLine).join("\n")),s=replaceLightNums(s=parseIncludes(s),n),l=replaceLightNums(l=parseIncludes(l),n),i instanceof Ti.ShaderMaterial==0&&(s=unrollLoops(s),l=unrollLoops(l));var M=_+s,L=g+l,E=Ti.WebGLShader(r,r.VERTEX_SHADER,M),C=Ti.WebGLShader(r,r.FRAGMENT_SHADER,L);r.attachShader(S,E),r.attachShader(S,C),void 0!==i.index0AttributeName?r.bindAttribLocation(S,0,i.index0AttributeName):!0===n.morphTargets&&r.bindAttribLocation(S,0,"position"),r.linkProgram(S);var A,P,D=r.getProgramInfoLog(S),R=r.getShaderInfoLog(E),k=r.getShaderInfoLog(C),I=!0,O=!0;return!1===r.getProgramParameter(S,r.LINK_STATUS)?I=!1:""!==D||""!==R&&""!==k||(O=!1),O&&(this.diagnostics={runnable:I,material:i,programLog:D,vertexShader:{log:R,prefix:_},fragmentShader:{log:k,prefix:g}}),r.deleteShader(E),r.deleteShader(C),this.getUniforms=function(){return void 0===A&&(A=function(e,t){for(var i={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),r=0;r<n;r++){var a=e.getActiveUniform(t,r).name,o=e.getUniformLocation(t,a),s=Zt.exec(a);if(s){var l=s[1],u=s[2],h=i[l];(h=h||(i[l]={}))[u]=o}else if(s=Qt.exec(a)){var d=s[1],c=s[2],p=s[3],f=i[d],m=(f=f||(i[d]=[]))[c];(m=m||(f[c]={}))[p]=o}else(s=$t.exec(a))?i[d=s[1]]=o:i[a]=o}return i}(r,S)),A},this.getAttributes=function(){return void 0===P&&(P=function(e,t){for(var i={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),r=0;r<n;r++){var a=e.getActiveAttrib(t,r).name;i[a]=e.getAttribLocation(t,a)}return i}(r,S)),P},this.destroy=function(){r.deleteProgram(S),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return this.getUniforms()}},attributes:{get:function(){return this.getAttributes()}}}),this.id=Jt++,this.code=t,this.usedTimes=1,this.program=S,this.vertexShader=E,this.fragmentShader=C,this}),Ti.WebGLPrograms=function(s,l){var u=[],h={MeshDepthMaterial:"depth",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshStandardMaterial:"standard",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points"},o=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","shadowMapEnabled","pointLightShadows","toneMapping","physicallyCorrectLights","shadowMapType","alphaTest","doubleSided","flipSided"];function getTextureEncodingFromMap(e,t){var i;return e?e instanceof Ti.Texture?i=e.encoding:e instanceof Ti.WebGLRenderTarget&&(i=e.texture.encoding):i=Ti.LinearEncoding,i===Ti.LinearEncoding&&t&&(i=Ti.GammaEncoding),i}this.getParameters=function(e,t,i,n){var r=h[e.type],a=function(e){if(l.floatVertexTextures&&e&&e.skeleton&&e.skeleton.useVertexTexture)return 1024;var t=l.maxVertexUniforms,i=Math.floor((t-20)/4);return void 0!==e&&e instanceof Ti.SkinnedMesh&&(i=Math.min(e.skeleton.bones.length,i),e.skeleton.bones.length),i}(n),o=s.getPrecision();return null!==e.precision&&(o=l.getMaxPrecision(e.precision),e.precision),{shaderID:r,precision:o,supportsVertexTextures:l.vertexTextures,outputEncoding:getTextureEncodingFromMap(s.getCurrentRenderTarget(),s.gammaOutput),map:!!e.map,mapEncoding:getTextureEncodingFromMap(e.map,s.gammaInput),envMap:!!e.envMap,envMapMode:e.envMap&&e.envMap.mapping,envMapEncoding:getTextureEncodingFromMap(e.envMap,s.gammaInput),envMapCubeUV:!!e.envMap&&(e.envMap.mapping===Ti.CubeUVReflectionMapping||e.envMap.mapping===Ti.CubeUVRefractionMapping),lightMap:!!e.lightMap,aoMap:!!e.aoMap,emissiveMap:!!e.emissiveMap,emissiveMapEncoding:getTextureEncodingFromMap(e.emissiveMap,s.gammaInput),bumpMap:!!e.bumpMap,normalMap:!!e.normalMap,displacementMap:!!e.displacementMap,roughnessMap:!!e.roughnessMap,metalnessMap:!!e.metalnessMap,specularMap:!!e.specularMap,alphaMap:!!e.alphaMap,combine:e.combine,vertexColors:e.vertexColors,fog:i,useFog:e.fog,fogExp:i instanceof Ti.FogExp2,flatShading:e.shading===Ti.FlatShading,sizeAttenuation:e.sizeAttenuation,logarithmicDepthBuffer:l.logarithmicDepthBuffer,skinning:e.skinning,maxBones:a,useVertexTexture:l.floatVertexTextures&&n&&n.skeleton&&n.skeleton.useVertexTexture,morphTargets:e.morphTargets,morphNormals:e.morphNormals,maxMorphTargets:s.maxMorphTargets,maxMorphNormals:s.maxMorphNormals,numDirLights:t.directional.length,numPointLights:t.point.length,numSpotLights:t.spot.length,numHemiLights:t.hemi.length,pointLightShadows:t.shadowsPointLight,shadowMapEnabled:s.shadowMap.enabled&&n.receiveShadow&&0<t.shadows.length,shadowMapType:s.shadowMap.type,toneMapping:s.toneMapping,physicallyCorrectLights:s.physicallyCorrectLights,premultipliedAlpha:e.premultipliedAlpha,alphaTest:e.alphaTest,doubleSided:e.side===Ti.DoubleSide,flipSided:e.side===Ti.BackSide}},this.getProgramCode=function(e,t){var i=[];if(t.shaderID?i.push(t.shaderID):(i.push(e.fragmentShader),i.push(e.vertexShader)),void 0!==e.defines)for(var n in e.defines)i.push(n),i.push(e.defines[n]);for(var r=0;r<o.length;r++){var a=o[r];i.push(a),i.push(t[a])}return i.join()},this.acquireProgram=function(e,t,i){for(var n,r=0,a=u.length;r<a;r++){var o=u[r];if(o.code===i){++(n=o).usedTimes;break}}return void 0===n&&(n=new Ti.WebGLProgram(s,i,e,t),u.push(n)),n},this.releaseProgram=function(e){if(0==--e.usedTimes){var t=u.indexOf(e);u[t]=u[u.length-1],u.pop(),e.destroy()}},this.programs=u},Ti.WebGLProperties=function(){var n={};this.get=function(e){var t=e.uuid,i=n[t];return void 0===i&&(i={},n[t]=i),i},this.delete=function(e){delete n[e.uuid]},this.clear=function(){n={}}},Ti.WebGLShader=function(e,t,i){var n=e.createShader(t);return e.shaderSource(n,i),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS),e.getShaderInfoLog(n),n},Ti.WebGLShadowMap=function(D,R,k){for(var I=D.context,O=D.state,B=new Ti.Frustum,N=new Ti.Matrix4,F=new Ti.Vector2,Y=new Ti.Vector3,U=new Ti.Vector3,j=[],d=1,c=2,e=1+(d|c),p=new Array(e),f=new Array(e),z=[new Ti.Vector3(1,0,0),new Ti.Vector3(-1,0,0),new Ti.Vector3(0,0,1),new Ti.Vector3(0,0,-1),new Ti.Vector3(0,1,0),new Ti.Vector3(0,-1,0)],G=[new Ti.Vector3(0,1,0),new Ti.Vector3(0,1,0),new Ti.Vector3(0,1,0),new Ti.Vector3(0,1,0),new Ti.Vector3(0,0,1),new Ti.Vector3(0,0,-1)],H=[new Ti.Vector4,new Ti.Vector4,new Ti.Vector4,new Ti.Vector4,new Ti.Vector4,new Ti.Vector4],t=Ti.ShaderLib.depthRGBA,i=Ti.UniformsUtils.clone(t.uniforms),n=Ti.ShaderLib.distanceRGBA,r=Ti.UniformsUtils.clone(n.uniforms),a=0;a!==e;++a){var o=0!=(a&d),s=0!=(a&c),l=new Ti.ShaderMaterial({uniforms:i,vertexShader:t.vertexShader,fragmentShader:t.fragmentShader,morphTargets:o,skinning:s});p[a]=l;var u=new Ti.ShaderMaterial({defines:{USE_SHADOWMAP:""},uniforms:r,vertexShader:n.vertexShader,fragmentShader:n.fragmentShader,morphTargets:o,skinning:s});f[a]=u}var W=this;function getDepthMaterial(e,t,i,n){var r=e.geometry,a=null,o=p,s=e.customDepthMaterial;if(i&&(o=f,s=e.customDistanceMaterial),s)a=s;else{var l=void 0!==r.morphTargets&&0<r.morphTargets.length&&t.morphTargets,u=e instanceof Ti.SkinnedMesh&&t.skinning,h=0;l&&(h|=d),u&&(h|=c),a=o[h]}return a.visible=t.visible,a.wireframe=t.wireframe,a.wireframeLinewidth=t.wireframeLinewidth,i&&void 0!==a.uniforms.lightPos&&a.uniforms.lightPos.value.copy(n),a}function projectObject(e,t,i){if(!1!==e.visible){if(e.layers.test(t.layers)&&(e instanceof Ti.Mesh||e instanceof Ti.Line||e instanceof Ti.Points))if(e.castShadow&&(!1===e.frustumCulled||!0===B.intersectsObject(e)))!0===e.material.visible&&(e.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,e.matrixWorld),j.push(e));for(var n=e.children,r=0,a=n.length;r<a;r++)projectObject(n[r],t,i)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=Ti.PCFShadowMap,this.cullFace=Ti.CullFaceFront,this.render=function(e,t){var i,n,r=R.shadows;if(0!==r.length&&!1!==W.enabled&&(!1!==W.autoUpdate||!1!==W.needsUpdate)){O.clearColor(1,1,1,1),O.disable(I.BLEND),O.enable(I.CULL_FACE),I.frontFace(I.CCW),I.cullFace(W.cullFace===Ti.CullFaceFront?I.FRONT:I.BACK),O.setDepthTest(!0),O.setScissorTest(!1);for(var a=0,o=r.length;a<o;a++){var s=r[a],l=s.shadow,u=l.camera;if(F.copy(l.mapSize),s instanceof Ti.PointLight){i=6,n=!0;var h=F.x,d=F.y;H[0].set(2*h,d,h,d),H[1].set(0,d,h,d),H[2].set(3*h,d,h,d),H[3].set(h,d,h,d),H[4].set(3*h,0,h,d),H[5].set(h,0,h,d),F.x*=4,F.y*=2}else n=!(i=1);if(null===l.map){var c={minFilter:Ti.NearestFilter,magFilter:Ti.NearestFilter,format:Ti.RGBAFormat};l.map=new Ti.WebGLRenderTarget(F.x,F.y,c),s instanceof Ti.SpotLight&&(u.aspect=F.x/F.y),u.updateProjectionMatrix()}var p=l.map,f=l.matrix;U.setFromMatrixPosition(s.matrixWorld),u.position.copy(U),D.setRenderTarget(p),D.clear();for(var m=0;m<i;m++){if(n){Y.copy(u.position),Y.add(z[m]),u.up.copy(G[m]),u.lookAt(Y);var _=H[m];O.viewport(_)}else Y.setFromMatrixPosition(s.target.matrixWorld),u.lookAt(Y);u.updateMatrixWorld(),u.matrixWorldInverse.getInverse(u.matrixWorld),f.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),f.multiply(u.projectionMatrix),f.multiply(u.matrixWorldInverse),N.multiplyMatrices(u.projectionMatrix,u.matrixWorldInverse),B.setFromMatrix(N),j.length=0,projectObject(e,t,u);for(var g=0,v=j.length;g<v;g++){var y=j[g],b=k.update(y),w=y.material;if(w instanceof Ti.MultiMaterial)for(var x=b.groups,T=w.materials,S=0,M=x.length;S<M;S++){var L=x[S],E=T[L.materialIndex];if(!0===E.visible){var C=getDepthMaterial(y,E,n,U);D.renderBufferDirect(u,null,b,C,y,L)}}else{C=getDepthMaterial(y,w,n,U);D.renderBufferDirect(u,null,b,C,y,null)}}}}var A=D.getClearColor(),P=D.getClearAlpha();D.setClearColor(A,P),O.enable(I.BLEND),W.cullFace===Ti.CullFaceFront&&I.cullFace(I.BACK),W.needsUpdate=!1}}},Ti.WebGLState=function(l,i,u){var n=this,r=new Ti.Vector4,a=new Uint8Array(16),o=new Uint8Array(16),s=new Uint8Array(16),t={},h=null,d=null,c=null,p=null,f=null,m=null,_=null,g=null,v=!1,y=null,b=null,w=null,x=null,T=null,S=null,M=null,L=null,E=null,C=null,A=null,P=null,D=null,R=null,k=null,I=l.getParameter(l.MAX_TEXTURE_IMAGE_UNITS),O=void 0,B={},N=new Ti.Vector4,F=null,Y=null,U=new Ti.Vector4,j=new Ti.Vector4,z=l.createTexture();l.bindTexture(l.TEXTURE_2D,z),l.texParameteri(l.TEXTURE_2D,l.TEXTURE_MIN_FILTER,l.LINEAR),l.texImage2D(l.TEXTURE_2D,0,l.RGB,1,1,0,l.RGB,l.UNSIGNED_BYTE,new Uint8Array(3)),this.init=function(){this.clearColor(0,0,0,1),this.clearDepth(1),this.clearStencil(0),this.enable(l.DEPTH_TEST),l.depthFunc(l.LEQUAL),l.frontFace(l.CCW),l.cullFace(l.BACK),this.enable(l.CULL_FACE),this.enable(l.BLEND),l.blendEquation(l.FUNC_ADD),l.blendFunc(l.SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA)},this.initAttributes=function(){for(var e=0,t=a.length;e<t;e++)a[e]=0},this.enableAttribute=function(e){a[e]=1,0===o[e]&&(l.enableVertexAttribArray(e),o[e]=1),0!==s[e]&&(i.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(e,0),s[e]=0)},this.enableAttributeAndDivisor=function(e,t,i){a[e]=1,0===o[e]&&(l.enableVertexAttribArray(e),o[e]=1),s[e]!==t&&(i.vertexAttribDivisorANGLE(e,t),s[e]=t)},this.disableUnusedAttributes=function(){for(var e=0,t=o.length;e<t;e++)o[e]!==a[e]&&(l.disableVertexAttribArray(e),o[e]=0)},this.enable=function(e){!0!==t[e]&&(l.enable(e),t[e]=!0)},this.disable=function(e){!1!==t[e]&&(l.disable(e),t[e]=!1)},this.getCompressedTextureFormats=function(){if(null===h&&(h=[],i.get("WEBGL_compressed_texture_pvrtc")||i.get("WEBGL_compressed_texture_s3tc")||i.get("WEBGL_compressed_texture_etc1")))for(var e=l.getParameter(l.COMPRESSED_TEXTURE_FORMATS),t=0;t<e.length;t++)h.push(e[t]);return h},this.setBlending=function(e,t,i,n,r,a,o,s){e===Ti.NoBlending?this.disable(l.BLEND):this.enable(l.BLEND),e===d&&s===v||(e===Ti.AdditiveBlending?s?(l.blendEquationSeparate(l.FUNC_ADD,l.FUNC_ADD),l.blendFuncSeparate(l.ONE,l.ONE,l.ONE,l.ONE)):(l.blendEquation(l.FUNC_ADD),l.blendFunc(l.SRC_ALPHA,l.ONE)):e===Ti.SubtractiveBlending?s?(l.blendEquationSeparate(l.FUNC_ADD,l.FUNC_ADD),l.blendFuncSeparate(l.ZERO,l.ZERO,l.ONE_MINUS_SRC_COLOR,l.ONE_MINUS_SRC_ALPHA)):(l.blendEquation(l.FUNC_ADD),l.blendFunc(l.ZERO,l.ONE_MINUS_SRC_COLOR)):e===Ti.MultiplyBlending?s?(l.blendEquationSeparate(l.FUNC_ADD,l.FUNC_ADD),l.blendFuncSeparate(l.ZERO,l.ZERO,l.SRC_COLOR,l.SRC_ALPHA)):(l.blendEquation(l.FUNC_ADD),l.blendFunc(l.ZERO,l.SRC_COLOR)):s?(l.blendEquationSeparate(l.FUNC_ADD,l.FUNC_ADD),l.blendFuncSeparate(l.ONE,l.ONE_MINUS_SRC_ALPHA,l.ONE,l.ONE_MINUS_SRC_ALPHA)):(l.blendEquationSeparate(l.FUNC_ADD,l.FUNC_ADD),l.blendFuncSeparate(l.SRC_ALPHA,l.ONE_MINUS_SRC_ALPHA,l.ONE,l.ONE_MINUS_SRC_ALPHA)),d=e,v=s),e===Ti.CustomBlending?(r=r||t,a=a||i,o=o||n,t===c&&r===m||(l.blendEquationSeparate(u(t),u(r)),c=t,m=r),i===p&&n===f&&a===_&&o===g||(l.blendFuncSeparate(u(i),u(n),u(a),u(o)),p=i,f=n,_=a,g=o)):g=_=m=f=p=c=null},this.setDepthFunc=function(e){if(y!==e){if(e)switch(e){case Ti.NeverDepth:l.depthFunc(l.NEVER);break;case Ti.AlwaysDepth:l.depthFunc(l.ALWAYS);break;case Ti.LessDepth:l.depthFunc(l.LESS);break;case Ti.LessEqualDepth:l.depthFunc(l.LEQUAL);break;case Ti.EqualDepth:l.depthFunc(l.EQUAL);break;case Ti.GreaterEqualDepth:l.depthFunc(l.GEQUAL);break;case Ti.GreaterDepth:l.depthFunc(l.GREATER);break;case Ti.NotEqualDepth:l.depthFunc(l.NOTEQUAL);break;default:l.depthFunc(l.LEQUAL)}else l.depthFunc(l.LEQUAL);y=e}},this.setDepthTest=function(e){e?this.enable(l.DEPTH_TEST):this.disable(l.DEPTH_TEST)},this.setDepthWrite=function(e){b!==e&&(l.depthMask(e),b=e)},this.setColorWrite=function(e){w!==e&&(l.colorMask(e,e,e,e),w=e)},this.setStencilFunc=function(e,t,i){T===e&&S===t&&M===i||(l.stencilFunc(e,t,i),T=e,S=t,M=i)},this.setStencilOp=function(e,t,i){L===e&&E===t&&C===i||(l.stencilOp(e,t,i),L=e,E=t,C=i)},this.setStencilTest=function(e){e?this.enable(l.STENCIL_TEST):this.disable(l.STENCIL_TEST)},this.setStencilWrite=function(e){x!==e&&(l.stencilMask(e),x=e)},this.setFlipSided=function(e){A!==e&&(e?l.frontFace(l.CW):l.frontFace(l.CCW),A=e)},this.setLineWidth=function(e){e!==P&&(l.lineWidth(e),P=e)},this.setPolygonOffset=function(e,t,i){e?this.enable(l.POLYGON_OFFSET_FILL):this.disable(l.POLYGON_OFFSET_FILL),!e||D===t&&R===i||(l.polygonOffset(t,i),D=t,R=i)},this.getScissorTest=function(){return k},this.setScissorTest=function(e){(k=e)?this.enable(l.SCISSOR_TEST):this.disable(l.SCISSOR_TEST)},this.activeTexture=function(e){void 0===e&&(e=l.TEXTURE0+I-1),O!==e&&(l.activeTexture(e),O=e)},this.bindTexture=function(e,t){void 0===O&&n.activeTexture();var i=B[O];void 0===i&&(i={type:void 0,texture:void 0},B[O]=i),i.type===e&&i.texture===t||(l.bindTexture(e,t||z),i.type=e,i.texture=t)},this.compressedTexImage2D=function(){try{l.compressedTexImage2D.apply(l,arguments)}catch(e){}},this.texImage2D=function(){try{l.texImage2D.apply(l,arguments)}catch(e){}},this.clearColor=function(e,t,i,n){r.set(e,t,i,n),!1===N.equals(r)&&(l.clearColor(e,t,i,n),N.copy(r))},this.clearDepth=function(e){F!==e&&(l.clearDepth(e),F=e)},this.clearStencil=function(e){Y!==e&&(l.clearStencil(e),Y=e)},this.scissor=function(e){!1===U.equals(e)&&(l.scissor(e.x,e.y,e.z,e.w),U.copy(e))},this.viewport=function(e){!1===j.equals(e)&&(l.viewport(e.x,e.y,e.z,e.w),j.copy(e))},this.reset=function(){for(var e=0;e<o.length;e++)1===o[e]&&(l.disableVertexAttribArray(e),o[e]=0);t={},O=void 0,B={},A=x=b=w=d=h=null}},Ti.LensFlarePlugin=function(g,v){var y,b,w,x,T,S,M,L,E=g.context,C=g.state;function init(){var e,t,i,n,r,a,o=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),s=new Uint16Array([0,1,2,0,2,3]);y=E.createBuffer(),b=E.createBuffer(),E.bindBuffer(E.ARRAY_BUFFER,y),E.bufferData(E.ARRAY_BUFFER,o,E.STATIC_DRAW),E.bindBuffer(E.ELEMENT_ARRAY_BUFFER,b),E.bufferData(E.ELEMENT_ARRAY_BUFFER,s,E.STATIC_DRAW),M=E.createTexture(),L=E.createTexture(),C.bindTexture(E.TEXTURE_2D,M),E.texImage2D(E.TEXTURE_2D,0,E.RGB,16,16,0,E.RGB,E.UNSIGNED_BYTE,null),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.NEAREST),C.bindTexture(E.TEXTURE_2D,L),E.texImage2D(E.TEXTURE_2D,0,E.RGBA,16,16,0,E.RGBA,E.UNSIGNED_BYTE,null),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_S,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_WRAP_T,E.CLAMP_TO_EDGE),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MAG_FILTER,E.NEAREST),E.texParameteri(E.TEXTURE_2D,E.TEXTURE_MIN_FILTER,E.NEAREST),e=(S=0<E.getParameter(E.MAX_VERTEX_TEXTURE_IMAGE_UNITS))?{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","vVisibility =        visibility.r / 9.0;","vVisibility *= 1.0 - visibility.g / 9.0;","vVisibility *=       visibility.b / 9.0;","vVisibility *= 1.0 - visibility.a / 9.0;","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * vVisibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")}:{vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uv;","vec2 pos = position;","if ( renderType == 2 ) {","pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","}","gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["precision mediump float;","uniform lowp int renderType;","uniform sampler2D map;","uniform sampler2D occlusionMap;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","void main() {","if ( renderType == 0 ) {","gl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );","} else if ( renderType == 1 ) {","gl_FragColor = texture2D( map, vUV );","} else {","float visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a;","visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;","visibility = ( 1.0 - visibility / 4.0 );","vec4 texture = texture2D( map, vUV );","texture.a *= opacity * visibility;","gl_FragColor = texture;","gl_FragColor.rgb *= color;","}","}"].join("\n")},t=e,i=E.createProgram(),n=E.createShader(E.FRAGMENT_SHADER),r=E.createShader(E.VERTEX_SHADER),a="precision "+g.getPrecision()+" float;\n",E.shaderSource(n,a+t.fragmentShader),E.shaderSource(r,a+t.vertexShader),E.compileShader(n),E.compileShader(r),E.attachShader(i,n),E.attachShader(i,r),E.linkProgram(i),w=i,x={vertex:E.getAttribLocation(w,"position"),uv:E.getAttribLocation(w,"uv")},T={renderType:E.getUniformLocation(w,"renderType"),map:E.getUniformLocation(w,"map"),occlusionMap:E.getUniformLocation(w,"occlusionMap"),opacity:E.getUniformLocation(w,"opacity"),color:E.getUniformLocation(w,"color"),scale:E.getUniformLocation(w,"scale"),rotation:E.getUniformLocation(w,"rotation"),screenPosition:E.getUniformLocation(w,"screenPosition")}}this.render=function(e,t,i){if(0!==v.length){var n=new Ti.Vector3,r=i.w/i.z,a=.5*i.z,o=.5*i.w,s=16/i.w,l=new Ti.Vector2(s*r,s),u=new Ti.Vector3(1,1,0),h=new Ti.Vector2(1,1);void 0===w&&init(),E.useProgram(w),C.initAttributes(),C.enableAttribute(x.vertex),C.enableAttribute(x.uv),C.disableUnusedAttributes(),E.uniform1i(T.occlusionMap,0),E.uniform1i(T.map,1),E.bindBuffer(E.ARRAY_BUFFER,y),E.vertexAttribPointer(x.vertex,2,E.FLOAT,!1,16,0),E.vertexAttribPointer(x.uv,2,E.FLOAT,!1,16,8),E.bindBuffer(E.ELEMENT_ARRAY_BUFFER,b),C.disable(E.CULL_FACE),C.setDepthWrite(!1);for(var d=0,c=v.length;d<c;d++){s=16/i.w,l.set(s*r,s);var p=v[d];if(n.set(p.matrixWorld.elements[12],p.matrixWorld.elements[13],p.matrixWorld.elements[14]),n.applyMatrix4(t.matrixWorldInverse),n.applyProjection(t.projectionMatrix),u.copy(n),h.x=u.x*a+a,h.y=u.y*o+o,S||0<h.x&&h.x<i.z&&0<h.y&&h.y<i.w){C.activeTexture(E.TEXTURE0),C.bindTexture(E.TEXTURE_2D,null),C.activeTexture(E.TEXTURE1),C.bindTexture(E.TEXTURE_2D,M),E.copyTexImage2D(E.TEXTURE_2D,0,E.RGB,i.x+h.x-8,i.y+h.y-8,16,16,0),E.uniform1i(T.renderType,0),E.uniform2f(T.scale,l.x,l.y),E.uniform3f(T.screenPosition,u.x,u.y,u.z),C.disable(E.BLEND),C.enable(E.DEPTH_TEST),E.drawElements(E.TRIANGLES,6,E.UNSIGNED_SHORT,0),C.activeTexture(E.TEXTURE0),C.bindTexture(E.TEXTURE_2D,L),E.copyTexImage2D(E.TEXTURE_2D,0,E.RGBA,i.x+h.x-8,i.y+h.y-8,16,16,0),E.uniform1i(T.renderType,1),C.disable(E.DEPTH_TEST),C.activeTexture(E.TEXTURE1),C.bindTexture(E.TEXTURE_2D,M),E.drawElements(E.TRIANGLES,6,E.UNSIGNED_SHORT,0),p.positionScreen.copy(u),p.customUpdateCallback?p.customUpdateCallback(p):p.updateLensFlares(),E.uniform1i(T.renderType,2),C.enable(E.BLEND);for(var f=0,m=p.lensFlares.length;f<m;f++){var _=p.lensFlares[f];.001<_.opacity&&.001<_.scale&&(u.x=_.x,u.y=_.y,u.z=_.z,s=_.size*_.scale/i.w,l.x=s*r,l.y=s,E.uniform3f(T.screenPosition,u.x,u.y,u.z),E.uniform2f(T.scale,l.x,l.y),E.uniform1f(T.rotation,_.rotation),E.uniform1f(T.opacity,_.opacity),E.uniform3f(T.color,_.color.r,_.color.g,_.color.b),C.setBlending(_.blending,_.blendEquation,_.blendSrc,_.blendDst),g.setTexture(_.texture,1),E.drawElements(E.TRIANGLES,6,E.UNSIGNED_SHORT,0))}}}C.enable(E.CULL_FACE),C.enable(E.DEPTH_TEST),C.setDepthWrite(!0),g.resetGLState()}}},Ti.SpritePlugin=function(d,c){var p,f,m,_,g,v,y=d.context,b=d.state,w=new Ti.Vector3,x=new Ti.Quaternion,T=new Ti.Vector3;function init(){var e,t,i,n=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),r=new Uint16Array([0,1,2,0,2,3]);p=y.createBuffer(),f=y.createBuffer(),y.bindBuffer(y.ARRAY_BUFFER,p),y.bufferData(y.ARRAY_BUFFER,n,y.STATIC_DRAW),y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,f),y.bufferData(y.ELEMENT_ARRAY_BUFFER,r,y.STATIC_DRAW),e=y.createProgram(),t=y.createShader(y.VERTEX_SHADER),i=y.createShader(y.FRAGMENT_SHADER),y.shaderSource(t,["precision "+d.getPrecision()+" float;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","void main() {","vUV = uvOffset + uv * uvScale;","vec2 alignedPosition = position * scale;","vec2 rotatedPosition;","rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","vec4 finalPosition;","finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","finalPosition.xy += rotatedPosition;","finalPosition = projectionMatrix * finalPosition;","gl_Position = finalPosition;","}"].join("\n")),y.shaderSource(i,["precision "+d.getPrecision()+" float;","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","void main() {","vec4 texture = texture2D( map, vUV );","if ( texture.a < alphaTest ) discard;","gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","if ( fogType > 0 ) {","float depth = gl_FragCoord.z / gl_FragCoord.w;","float fogFactor = 0.0;","if ( fogType == 1 ) {","fogFactor = smoothstep( fogNear, fogFar, depth );","} else {","const float LOG2 = 1.442695;","fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );","fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","}","gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );","}","}"].join("\n")),y.compileShader(t),y.compileShader(i),y.attachShader(e,t),y.attachShader(e,i),y.linkProgram(e),m=e,_={position:y.getAttribLocation(m,"position"),uv:y.getAttribLocation(m,"uv")},g={uvOffset:y.getUniformLocation(m,"uvOffset"),uvScale:y.getUniformLocation(m,"uvScale"),rotation:y.getUniformLocation(m,"rotation"),scale:y.getUniformLocation(m,"scale"),color:y.getUniformLocation(m,"color"),map:y.getUniformLocation(m,"map"),opacity:y.getUniformLocation(m,"opacity"),modelViewMatrix:y.getUniformLocation(m,"modelViewMatrix"),projectionMatrix:y.getUniformLocation(m,"projectionMatrix"),fogType:y.getUniformLocation(m,"fogType"),fogDensity:y.getUniformLocation(m,"fogDensity"),fogNear:y.getUniformLocation(m,"fogNear"),fogFar:y.getUniformLocation(m,"fogFar"),fogColor:y.getUniformLocation(m,"fogColor"),alphaTest:y.getUniformLocation(m,"alphaTest")};var a=document.createElement("canvas");a.width=8,a.height=8;var o=a.getContext("2d");o.fillStyle="white",o.fillRect(0,0,8,8),(v=new Ti.Texture(a)).needsUpdate=!0}function painterSortStable(e,t){return e.renderOrder!==t.renderOrder?e.renderOrder-t.renderOrder:e.z!==t.z?t.z-e.z:t.id-e.id}this.render=function(e,t){if(0!==c.length){void 0===m&&init(),y.useProgram(m),b.initAttributes(),b.enableAttribute(_.position),b.enableAttribute(_.uv),b.disableUnusedAttributes(),b.disable(y.CULL_FACE),b.enable(y.BLEND),y.bindBuffer(y.ARRAY_BUFFER,p),y.vertexAttribPointer(_.position,2,y.FLOAT,!1,16,0),y.vertexAttribPointer(_.uv,2,y.FLOAT,!1,16,8),y.bindBuffer(y.ELEMENT_ARRAY_BUFFER,f),y.uniformMatrix4fv(g.projectionMatrix,!1,t.projectionMatrix.elements),b.activeTexture(y.TEXTURE0),y.uniform1i(g.map,0);var i=0,n=0,r=e.fog;r?(y.uniform3f(g.fogColor,r.color.r,r.color.g,r.color.b),r instanceof Ti.Fog?(y.uniform1f(g.fogNear,r.near),y.uniform1f(g.fogFar,r.far),y.uniform1i(g.fogType,1),n=i=1):r instanceof Ti.FogExp2&&(y.uniform1f(g.fogDensity,r.density),y.uniform1i(g.fogType,2),n=i=2)):(y.uniform1i(g.fogType,0),n=i=0);for(var a=0,o=c.length;a<o;a++){(l=c[a]).modelViewMatrix.multiplyMatrices(t.matrixWorldInverse,l.matrixWorld),l.z=-l.modelViewMatrix.elements[14]}c.sort(painterSortStable);var s=[];for(a=0,o=c.length;a<o;a++){var l,u=(l=c[a]).material;y.uniform1f(g.alphaTest,u.alphaTest),y.uniformMatrix4fv(g.modelViewMatrix,!1,l.modelViewMatrix.elements),l.matrixWorld.decompose(w,x,T),s[0]=T.x,s[1]=T.y;var h=0;e.fog&&u.fog&&(h=n),i!==h&&(y.uniform1i(g.fogType,h),i=h),null!==u.map?(y.uniform2f(g.uvOffset,u.map.offset.x,u.map.offset.y),y.uniform2f(g.uvScale,u.map.repeat.x,u.map.repeat.y)):(y.uniform2f(g.uvOffset,0,0),y.uniform2f(g.uvScale,1,1)),y.uniform1f(g.opacity,u.opacity),y.uniform3f(g.color,u.color.r,u.color.g,u.color.b),y.uniform1f(g.rotation,u.rotation),y.uniform2fv(g.scale,s),b.setBlending(u.blending,u.blendEquation,u.blendSrc,u.blendDst),b.setDepthTest(u.depthTest),b.setDepthWrite(u.depthWrite),u.map&&u.map.image&&u.map.image.width?d.setTexture(u.map,0):d.setTexture(v,0),y.drawElements(y.TRIANGLES,6,y.UNSIGNED_SHORT,0)}b.enable(y.CULL_FACE),d.resetGLState()}}},Object.defineProperties(Ti.Box2.prototype,{empty:{value:function(){return this.isEmpty()}},isIntersectionBox:{value:function(e){return this.intersectsBox(e)}}}),Object.defineProperties(Ti.Box3.prototype,{empty:{value:function(){return this.isEmpty()}},isIntersectionBox:{value:function(e){return this.intersectsBox(e)}},isIntersectionSphere:{value:function(e){return this.intersectsSphere(e)}}}),Object.defineProperties(Ti.Matrix3.prototype,{multiplyVector3:{value:function(e){return e.applyMatrix3(this)}},multiplyVector3Array:{value:function(e){return this.applyToVector3Array(e)}}}),Object.defineProperties(Ti.Matrix4.prototype,{extractPosition:{value:function(e){return this.copyPosition(e)}},setRotationFromQuaternion:{value:function(e){return this.makeRotationFromQuaternion(e)}},multiplyVector3:{value:function(e){return e.applyProjection(this)}},multiplyVector4:{value:function(e){return e.applyMatrix4(this)}},multiplyVector3Array:{value:function(e){return this.applyToVector3Array(e)}},rotateAxis:{value:function(e){e.transformDirection(this)}},crossVector:{value:function(e){return e.applyMatrix4(this)}},translate:{value:function(){}},rotateX:{value:function(){}},rotateY:{value:function(){}},rotateZ:{value:function(){}},rotateByAxis:{value:function(){}}}),Object.defineProperties(Ti.Plane.prototype,{isIntersectionLine:{value:function(e){return this.intersectsLine(e)}}}),Object.defineProperties(Ti.Quaternion.prototype,{multiplyVector3:{value:function(e){return e.applyQuaternion(this)}}}),Object.defineProperties(Ti.Ray.prototype,{isIntersectionBox:{value:function(e){return this.intersectsBox(e)}},isIntersectionPlane:{value:function(e){return this.intersectsPlane(e)}},isIntersectionSphere:{value:function(e){return this.intersectsSphere(e)}}}),Object.defineProperties(Ti.Vector3.prototype,{setEulerFromRotationMatrix:{value:function(){}},setEulerFromQuaternion:{value:function(){}},getPositionFromMatrix:{value:function(e){return this.setFromMatrixPosition(e)}},getScaleFromMatrix:{value:function(e){return this.setFromMatrixScale(e)}},getColumnFromMatrix:{value:function(e,t){return this.setFromMatrixColumn(e,t)}}}),Ti.Face4=function(e,t,i,n,r,a,o){return new Ti.Face3(e,t,i,r,a,o)},Ti.Vertex=function(e,t,i){return new Ti.Vector3(e,t,i)},Object.defineProperties(Ti.Object3D.prototype,{eulerOrder:{get:function(){return this.rotation.order},set:function(e){this.rotation.order=e}},getChildByName:{value:function(e){return this.getObjectByName(e)}},renderDepth:{set:function(){}},translate:{value:function(e,t){return this.translateOnAxis(t,e)}},useQuaternion:{get:function(){},set:function(){}}}),Object.defineProperties(Ti,{PointCloud:{value:function(e,t){return new Ti.Points(e,t)}},ParticleSystem:{value:function(e,t){return new Ti.Points(e,t)}}}),Object.defineProperties(Ti.Light.prototype,{onlyShadow:{set:function(){}},shadowCameraFov:{set:function(e){this.shadow.camera.fov=e}},shadowCameraLeft:{set:function(e){this.shadow.camera.left=e}},shadowCameraRight:{set:function(e){this.shadow.camera.right=e}},shadowCameraTop:{set:function(e){this.shadow.camera.top=e}},shadowCameraBottom:{set:function(e){this.shadow.camera.bottom=e}},shadowCameraNear:{set:function(e){this.shadow.camera.near=e}},shadowCameraFar:{set:function(e){this.shadow.camera.far=e}},shadowCameraVisible:{set:function(){}},shadowBias:{set:function(e){this.shadow.bias=e}},shadowDarkness:{set:function(){}},shadowMapWidth:{set:function(e){this.shadow.mapSize.width=e}},shadowMapHeight:{set:function(e){this.shadow.mapSize.height=e}}}),Object.defineProperties(Ti.BufferAttribute.prototype,{length:{get:function(){return this.array.length}}}),Object.defineProperties(Ti.BufferGeometry.prototype,{drawcalls:{get:function(){return this.groups}},offsets:{get:function(){return this.groups}},addIndex:{value:function(e){this.setIndex(e)}},addDrawCall:{value:function(e,t){this.addGroup(e,t)}},clearDrawCalls:{value:function(){this.clearGroups()}},computeTangents:{value:function(){}},computeOffsets:{value:function(){}}}),Object.defineProperties(Ti.Material.prototype,{wrapAround:{get:function(){},set:function(){}},wrapRGB:{get:function(){return new Ti.Color}}}),Object.defineProperties(Ti,{PointCloudMaterial:{value:function(e){return new Ti.PointsMaterial(e)}},ParticleBasicMaterial:{value:function(e){return new Ti.PointsMaterial(e)}},ParticleSystemMaterial:{value:function(e){return new Ti.PointsMaterial(e)}}}),Object.defineProperties(Ti.MeshPhongMaterial.prototype,{metal:{get:function(){return!1},set:function(){}}}),Object.defineProperties(Ti.ShaderMaterial.prototype,{derivatives:{get:function(){return this.extensions.derivatives},set:function(e){this.extensions.derivatives=e}}}),Object.defineProperties(Ti.WebGLRenderer.prototype,{supportsFloatTextures:{value:function(){return this.extensions.get("OES_texture_float")}},supportsHalfFloatTextures:{value:function(){return this.extensions.get("OES_texture_half_float")}},supportsStandardDerivatives:{value:function(){return this.extensions.get("OES_standard_derivatives")}},supportsCompressedTextureS3TC:{value:function(){return this.extensions.get("WEBGL_compressed_texture_s3tc")}},supportsCompressedTexturePVRTC:{value:function(){return this.extensions.get("WEBGL_compressed_texture_pvrtc")}},supportsBlendMinMax:{value:function(){return this.extensions.get("EXT_blend_minmax")}},supportsVertexTextures:{value:function(){return this.capabilities.vertexTextures}},supportsInstancedArrays:{value:function(){return this.extensions.get("ANGLE_instanced_arrays")}},enableScissorTest:{value:function(e){this.setScissorTest(e)}},initMaterial:{value:function(){}},addPrePlugin:{value:function(){}},addPostPlugin:{value:function(){}},updateShadowMap:{value:function(){}},shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(e){this.shadowMap.enabled=e}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(e){this.shadowMap.type=e}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(e){this.shadowMap.cullFace=e}}}),Object.defineProperties(Ti.WebGLRenderTarget.prototype,{wrapS:{get:function(){return this.texture.wrapS},set:function(e){this.texture.wrapS=e}},wrapT:{get:function(){return this.texture.wrapT},set:function(e){this.texture.wrapT=e}},magFilter:{get:function(){return this.texture.magFilter},set:function(e){this.texture.magFilter=e}},minFilter:{get:function(){return this.texture.minFilter},set:function(e){this.texture.minFilter=e}},anisotropy:{get:function(){return this.texture.anisotropy},set:function(e){this.texture.anisotropy=e}},offset:{get:function(){return this.texture.offset},set:function(e){this.texture.offset=e}},repeat:{get:function(){return this.texture.repeat},set:function(e){this.texture.repeat=e}},format:{get:function(){return this.texture.format},set:function(e){this.texture.format=e}},type:{get:function(){return this.texture.type},set:function(e){this.texture.type=e}},generateMipmaps:{get:function(){return this.texture.generateMipmaps},set:function(e){this.texture.generateMipmaps=e}}}),Ti.GeometryUtils={merge:function(e,t,i){var n;t instanceof Ti.Mesh&&(t.matrixAutoUpdate&&t.updateMatrix(),n=t.matrix,t=t.geometry),e.merge(t,n,i)},center:function(e){return e.center()}},Ti.ImageUtils={crossOrigin:void 0,loadTexture:function(e,t,i,n){var r=new Ti.TextureLoader;r.setCrossOrigin(this.crossOrigin);var a=r.load(e,i,void 0,n);return t&&(a.mapping=t),a},loadTextureCube:function(e,t,i,n){var r=new Ti.CubeTextureLoader;r.setCrossOrigin(this.crossOrigin);var a=r.load(e,i,void 0,n);return t&&(a.mapping=t),a},loadCompressedTexture:function(){},loadCompressedTextureCube:function(){}},Ti.Projector=function(){this.projectVector=function(e,t){e.project(t)},this.unprojectVector=function(e,t){e.unproject(t)},this.pickingRay=function(e,t){}},Ti.CanvasRenderer=function(){this.domElement=document.createElement("canvas"),this.clear=function(){},this.render=function(){},this.setClearColor=function(){},this.setSize=function(){}},Ti.MeshFaceMaterial=Ti.MultiMaterial,Ti.CurveUtils={tangentQuadraticBezier:function(e,t,i,n){return 2*(1-e)*(i-t)+2*e*(n-i)},tangentCubicBezier:function(e,t,i,n,r){return-3*t*(1-e)*(1-e)+3*i*(1-e)*(1-e)-6*e*i*(1-e)+6*e*n*(1-e)-3*e*e*n+3*e*e*r},tangentSpline:function(e){return 6*e*e-6*e+(3*e*e-4*e+1)+(-6*e*e+6*e)+(3*e*e-2*e)},interpolate:function(e,t,i,n,r){var a=.5*(i-e),o=.5*(n-t),s=r*r;return(2*t-2*i+a+o)*(r*s)+(-3*t+3*i-2*a-o)*s+a*r+t}},Ti.SceneUtils={createMultiMaterialObject:function(e,t){for(var i=new Ti.Group,n=0,r=t.length;n<r;n++)i.add(new Ti.Mesh(e,t[n]));return i},detach:function(e,t,i){e.applyMatrix(t.matrixWorld),t.remove(e),i.add(e)},attach:function(e,t,i){var n=new Ti.Matrix4;n.getInverse(i.matrixWorld),e.applyMatrix(n),t.remove(e),i.add(e)}},Ti.ShapeUtils={area:function(e){for(var t=e.length,i=0,n=t-1,r=0;r<t;n=r++)i+=e[n].x*e[r].y-e[r].x*e[n].y;return.5*i},triangulate:function(e,t){var i=e.length;if(i<3)return null;var n,r,a,o=[],s=[],l=[];if(0<Ti.ShapeUtils.area(e))for(r=0;r<i;r++)s[r]=r;else for(r=0;r<i;r++)s[r]=i-1-r;var u=i,h=2*u;for(r=u-1;2<u;){if(h--<=0)return t?l:o;if(u<=(n=r)&&(n=0),u<=(r=n+1)&&(r=0),u<=(a=r+1)&&(a=0),snip(e,n,r,a,u,s)){var d,c,p,f,m;for(d=s[n],c=s[r],p=s[a],o.push([e[d],e[c],e[p]]),l.push([s[n],s[r],s[a]]),m=(f=r)+1;m<u;f++,m++)s[f]=s[m];h=2*--u}}return t?l:o},triangulateShape:function(e,t){function point_in_segment_2D_colin(e,t,i){return e.x!==t.x?e.x<t.x?e.x<=i.x&&i.x<=t.x:t.x<=i.x&&i.x<=e.x:e.y<t.y?e.y<=i.y&&i.y<=t.y:t.y<=i.y&&i.y<=e.y}function intersect_segments_2D(e,t,i,n,r){var a=t.x-e.x,o=t.y-e.y,s=n.x-i.x,l=n.y-i.y,u=e.x-i.x,h=e.y-i.y,d=o*s-a*l,c=o*u-a*h;if(Math.abs(d)>Number.EPSILON){var p;if(0<d){if(c<0||d<c)return[];if((p=l*u-s*h)<0||d<p)return[]}else{if(0<c||c<d)return[];if(0<(p=l*u-s*h)||p<d)return[]}if(0===p)return!r||0!=c&&c!=d?[e]:[];if(p===d)return!r||0!=c&&c!=d?[t]:[];if(0==c)return[i];if(c==d)return[n];var f=p/d;return[{x:e.x+f*a,y:e.y+f*o}]}if(0!=c||l*u!=s*h)return[];var m,_,g,v,y,b,w,x,T=0==a&&0==o,S=0==s&&0==l;return T&&S?e.x!==i.x||e.y!==i.y?[]:[e]:T?point_in_segment_2D_colin(i,n,e)?[e]:[]:S?point_in_segment_2D_colin(e,t,i)?[i]:[]:(x=0!=a?(v=e.x<t.x?(g=(m=e).x,(_=t).x):(g=(m=t).x,(_=e).x),i.x<n.x?(w=(y=i).x,(b=n).x):(w=(y=n).x,(b=i).x)):(v=e.y<t.y?(g=(m=e).y,(_=t).y):(g=(m=t).y,(_=e).y),i.y<n.y?(w=(y=i).y,(b=n).y):(w=(y=n).y,(b=i).y)),g<=w?v<w?[]:v===w?r?[]:[y]:v<=x?[y,_]:[y,b]:x<g?[]:g===x?r?[]:[m]:v<=x?[m,_]:[m,b])}function isPointInsideAngle(e,t,i,n){var r=t.x-e.x,a=t.y-e.y,o=i.x-e.x,s=i.y-e.y,l=n.x-e.x,u=n.y-e.y,h=r*s-a*o,d=r*u-a*l;if(Math.abs(h)>Number.EPSILON){var c=l*s-u*o;return 0<h?0<=d&&0<=c:0<=d||0<=c}return 0<d}for(var i,n,r,a,o,s,l={},u=e.concat(),h=0,d=t.length;h<d;h++)Array.prototype.push.apply(u,t[h]);for(i=0,n=u.length;i<n;i++)l[o=u[i].x+":"+u[i].y],l[o]=i;var c=function(e,o){var u,h=e.concat();function isCutLineInsideAngles(e,t){var i=h.length-1,n=e-1;n<0&&(n=i);var r=e+1;i<r&&(r=0);var a=isPointInsideAngle(h[e],h[n],h[r],u[t]);if(a){var o=u.length-1,s=t-1;s<0&&(s=o);var l=t+1;if(o<l&&(l=0),a=isPointInsideAngle(u[t],u[s],u[l],h[e]))return 1}}function intersectsShapeEdge(e,t){var i,n;for(i=0;i<h.length;i++)if(n=i+1,n%=h.length,0<intersect_segments_2D(e,t,h[i],h[n],!0).length)return 1}var s=[];function intersectsHoleEdge(e,t){var i,n,r,a;for(i=0;i<s.length;i++)for(n=o[s[i]],r=0;r<n.length;r++)if(a=r+1,a%=n.length,0<intersect_segments_2D(e,t,n[r],n[a],!0).length)return 1}for(var t,i,n,r,a,l,d,c,p,f,m=[],_=0,g=o.length;_<g;_++)s.push(_);for(var v=0,y=2*s.length;0<s.length&&!(--y<0);)for(i=v;i<h.length;i++){n=h[i],t=-1;for(_=0;_<s.length;_++)if(a=s[_],void 0===m[l=n.x+":"+n.y+":"+a]){u=o[a];for(var b=0;b<u.length;b++)if(r=u[b],isCutLineInsideAngles(i,b)&&!intersectsShapeEdge(n,r)&&!intersectsHoleEdge(n,r)){t=b,s.splice(_,1),d=h.slice(0,i+1),c=h.slice(i),p=u.slice(t),f=u.slice(0,t+1),h=d.concat(p).concat(f).concat(c),v=i;break}if(0<=t)break;m[l]=!0}if(0<=t)break}return h}(e,t),p=Ti.ShapeUtils.triangulate(c,!1);for(i=0,n=p.length;i<n;i++)for(a=p[i],r=0;r<3;r++)void 0!==(s=l[o=a[r].x+":"+a[r].y])&&(a[r]=s);return p.concat()},isClockWise:function(e){return Ti.ShapeUtils.area(e)<0},b2:function(e,t,i,n){return(o=1-e)*o*t+2*(1-(a=e))*a*i+(r=e)*r*n;var r,a,o},b3:function(e,t,i,n,r){return(u=1-e)*u*u*t+3*(l=1-(s=e))*l*s*i+3*(1-(o=e))*o*o*n+(a=e)*a*a*r;var a,o,s,l,u}},Ti.Curve=function(){},Ti.Curve.prototype={constructor:Ti.Curve,getPoint:function(){return null},getPointAt:function(e){var t=this.getUtoTmapping(e);return this.getPoint(t)},getPoints:function(e){e=e||5;var t,i=[];for(t=0;t<=e;t++)i.push(this.getPoint(t/e));return i},getSpacedPoints:function(e){e=e||5;var t,i=[];for(t=0;t<=e;t++)i.push(this.getPointAt(t/e));return i},getLength:function(){var e=this.getLengths();return e[e.length-1]},getLengths:function(e){if(e=e||(this.__arcLengthDivisions?this.__arcLengthDivisions:200),this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var t,i,n=[],r=this.getPoint(0),a=0;for(n.push(0),i=1;i<=e;i++)a+=(t=this.getPoint(i/e)).distanceTo(r),n.push(a),r=t;return this.cacheArcLengths=n},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(e,t){var i,n=this.getLengths(),r=0,a=n.length;i=t||e*n[a-1];for(var o,s=0,l=a-1;s<=l;)if((o=n[r=Math.floor(s+(l-s)/2)]-i)<0)s=r+1;else{if(!(0<o)){l=r;break}l=r-1}if(n[r=l]===i)return r/(a-1);var u=n[r];return(r+(i-u)/(n[r+1]-u))/(a-1)},getTangent:function(e){var t=e-1e-4,i=e+1e-4;t<0&&(t=0),1<i&&(i=1);var n=this.getPoint(t);return this.getPoint(i).clone().sub(n).normalize()},getTangentAt:function(e){var t=this.getUtoTmapping(e);return this.getTangent(t)}},Ti.Curve.create=function(e,t){return e.prototype=Object.create(Ti.Curve.prototype),(e.prototype.constructor=e).prototype.getPoint=t,e},Ti.CurvePath=function(){this.curves=[],this.autoClose=!1},Ti.CurvePath.prototype=Object.create(Ti.Curve.prototype),Ti.CurvePath.prototype.constructor=Ti.CurvePath,Ti.CurvePath.prototype.add=function(e){this.curves.push(e)},Ti.CurvePath.prototype.closePath=function(){var e=this.curves[0].getPoint(0),t=this.curves[this.curves.length-1].getPoint(1);e.equals(t)||this.curves.push(new Ti.LineCurve(t,e))},Ti.CurvePath.prototype.getPoint=function(e){for(var t=e*this.getLength(),i=this.getCurveLengths(),n=0;n<i.length;){if(i[n]>=t){var r=i[n]-t,a=this.curves[n],o=1-r/a.getLength();return a.getPointAt(o)}n++}return null},Ti.CurvePath.prototype.getLength=function(){var e=this.getCurveLengths();return e[e.length-1]},Ti.CurvePath.prototype.getCurveLengths=function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var e=[],t=0,i=0,n=this.curves.length;i<n;i++)t+=this.curves[i].getLength(),e.push(t);return this.cacheLengths=e},Ti.CurvePath.prototype.createPointsGeometry=function(e){var t=this.getPoints(e);return this.createGeometry(t)},Ti.CurvePath.prototype.createSpacedPointsGeometry=function(e){var t=this.getSpacedPoints(e);return this.createGeometry(t)},Ti.CurvePath.prototype.createGeometry=function(e){for(var t=new Ti.Geometry,i=0,n=e.length;i<n;i++){var r=e[i];t.vertices.push(new Ti.Vector3(r.x,r.y,r.z||0))}return t},Ti.Font=function(e){this.data=e},Ti.Font.prototype={constructor:Ti.Font,generateShapes:function(e,s,S){function createPath(e,t,i){var n=M.glyphs[e]||M.glyphs["?"];if(n){var r,a,o,s,l,u,h,d,c,p,f,m=new Ti.Path,_=[],g=Ti.ShapeUtils.b2,v=Ti.ShapeUtils.b3;if(n.o)for(var y=n._cachedOutline||(n._cachedOutline=n.o.split(" ")),b=0,w=y.length;b<w;){switch(y[b++]){case"m":r=y[b++]*t+i,a=y[b++]*t,m.moveTo(r,a);break;case"l":r=y[b++]*t+i,a=y[b++]*t,m.lineTo(r,a);break;case"q":if(o=y[b++]*t+i,s=y[b++]*t,h=y[b++]*t+i,d=y[b++]*t,m.quadraticCurveTo(h,d,o,s),f=_[_.length-1]){l=f.x,u=f.y;for(var x=1;x<=S;x++){g(T=x/S,l,h,o),g(T,u,d,s)}}break;case"b":if(o=y[b++]*t+i,s=y[b++]*t,h=y[b++]*t+i,d=y[b++]*t,c=y[b++]*t+i,p=y[b++]*t,m.bezierCurveTo(h,d,c,p,o,s),f=_[_.length-1]){l=f.x,u=f.y;for(x=1;x<=S;x++){var T;v(T=x/S,l,h,c,o),v(T,u,d,p,s)}}}}return{offset:n.ha*t,path:m}}}void 0===s&&(s=100),void 0===S&&(S=4);for(var M=this.data,t=function(e){for(var t=String(e).split(""),i=s/M.resolution,n=0,r=[],a=0;a<t.length;a++){var o=createPath(t[a],i,n);n+=o.offset,r.push(o.path)}return r}(e),i=[],n=0,r=t.length;n<r;n++)Array.prototype.push.apply(i,t[n].toShapes());return i}},Ti.Path=function(e){Ti.CurvePath.call(this),this.actions=[],e&&this.fromPoints(e)},Ti.Path.prototype=Object.create(Ti.CurvePath.prototype),Ti.Path.prototype.constructor=Ti.Path,Ti.Path.prototype.fromPoints=function(e){this.moveTo(e[0].x,e[0].y);for(var t=1,i=e.length;t<i;t++)this.lineTo(e[t].x,e[t].y)},Ti.Path.prototype.moveTo=function(e,t){this.actions.push({action:"moveTo",args:[e,t]})},Ti.Path.prototype.lineTo=function(e,t){var i=this.actions[this.actions.length-1].args,n=i[i.length-2],r=i[i.length-1],a=new Ti.LineCurve(new Ti.Vector2(n,r),new Ti.Vector2(e,t));this.curves.push(a),this.actions.push({action:"lineTo",args:[e,t]})},Ti.Path.prototype.quadraticCurveTo=function(e,t,i,n){var r=this.actions[this.actions.length-1].args,a=r[r.length-2],o=r[r.length-1],s=new Ti.QuadraticBezierCurve(new Ti.Vector2(a,o),new Ti.Vector2(e,t),new Ti.Vector2(i,n));this.curves.push(s),this.actions.push({action:"quadraticCurveTo",args:[e,t,i,n]})},Ti.Path.prototype.bezierCurveTo=function(e,t,i,n,r,a){var o=this.actions[this.actions.length-1].args,s=o[o.length-2],l=o[o.length-1],u=new Ti.CubicBezierCurve(new Ti.Vector2(s,l),new Ti.Vector2(e,t),new Ti.Vector2(i,n),new Ti.Vector2(r,a));this.curves.push(u),this.actions.push({action:"bezierCurveTo",args:[e,t,i,n,r,a]})},Ti.Path.prototype.splineThru=function(e){var t=Array.prototype.slice.call(arguments),i=this.actions[this.actions.length-1].args,n=i[i.length-2],r=i[i.length-1],a=[new Ti.Vector2(n,r)];Array.prototype.push.apply(a,e);var o=new Ti.SplineCurve(a);this.curves.push(o),this.actions.push({action:"splineThru",args:t})},Ti.Path.prototype.arc=function(e,t,i,n,r,a){var o=this.actions[this.actions.length-1].args,s=o[o.length-2],l=o[o.length-1];this.absarc(e+s,t+l,i,n,r,a)},Ti.Path.prototype.absarc=function(e,t,i,n,r,a){this.absellipse(e,t,i,i,n,r,a)},Ti.Path.prototype.ellipse=function(e,t,i,n,r,a,o,s){var l=this.actions[this.actions.length-1].args,u=l[l.length-2],h=l[l.length-1];this.absellipse(e+u,t+h,i,n,r,a,o,s)},Ti.Path.prototype.absellipse=function(e,t,i,n,r,a,o,s){var l=[e,t,i,n,r,a,o,s||0],u=new Ti.EllipseCurve(e,t,i,n,r,a,o,s);this.curves.push(u);var h=u.getPoint(1);l.push(h.x),l.push(h.y),this.actions.push({action:"ellipse",args:l})},Ti.Path.prototype.getSpacedPoints=function(e){e=e||40;for(var t=[],i=0;i<e;i++)t.push(this.getPoint(i/e));return this.autoClose&&t.push(t[0]),t},Ti.Path.prototype.getPoints=function(e){e=e||12;for(var t,i,n,r,a,o,s,l,u,h,d,c=Ti.ShapeUtils.b2,p=Ti.ShapeUtils.b3,f=[],m=0,_=this.actions.length;m<_;m++){var g=this.actions[m],v=g.action,y=g.args;switch(v){case"moveTo":case"lineTo":f.push(new Ti.Vector2(y[0],y[1]));break;case"quadraticCurveTo":t=y[2],i=y[3],a=y[0],o=y[1],l=0<f.length?(s=(u=f[f.length-1]).x,u.y):(s=(u=this.actions[m-1].args)[u.length-2],u[u.length-1]);for(var b=1;b<=e;b++){h=c(R=b/e,s,a,t),d=c(R,l,o,i),f.push(new Ti.Vector2(h,d))}break;case"bezierCurveTo":t=y[4],i=y[5],a=y[0],o=y[1],n=y[2],r=y[3],l=0<f.length?(s=(u=f[f.length-1]).x,u.y):(s=(u=this.actions[m-1].args)[u.length-2],u[u.length-1]);for(b=1;b<=e;b++){h=p(R=b/e,s,a,n,t),d=p(R,l,o,r,i),f.push(new Ti.Vector2(h,d))}break;case"splineThru":u=this.actions[m-1].args;var w=[new Ti.Vector2(u[u.length-2],u[u.length-1])],x=e*y[0].length;w=w.concat(y[0]);var T=new Ti.SplineCurve(w);for(b=1;b<=x;b++)f.push(T.getPointAt(b/x));break;case"arc":var S=y[0],M=y[1],L=y[2],E=y[3],C=y[4],A=!!y[5],P=C-E,D=2*e;for(b=1;b<=D;b++){var R=b/D;A||(R=1-R),k=E+R*P,h=S+L*Math.cos(k),d=M+L*Math.sin(k),f.push(new Ti.Vector2(h,d))}break;case"ellipse":S=y[0],M=y[1];var k,I,O,B=y[2],N=y[3],F=(E=y[4],C=y[5],A=!!y[6],y[7]);P=C-E,D=2*e;0!==F&&(I=Math.cos(F),O=Math.sin(F));for(b=1;b<=D;b++){R=b/D;if(A||(R=1-R),k=E+R*P,h=S+B*Math.cos(k),d=M+N*Math.sin(k),0!==F){var Y=h;h=(Y-S)*I-(d-M)*O+S,d=(Y-S)*O+(d-M)*I+M}f.push(new Ti.Vector2(h,d))}}}var U=f[f.length-1];return Math.abs(U.x-f[0].x)<Number.EPSILON&&Math.abs(U.y-f[0].y)<Number.EPSILON&&f.splice(f.length-1,1),this.autoClose&&f.push(f[0]),f},Ti.Path.prototype.toShapes=function(e,t){function toShapesNoHoles(e){for(var t=[],i=0,n=e.length;i<n;i++){var r=e[i],a=new Ti.Shape;a.actions=r.actions,a.curves=r.curves,t.push(a)}return t}function isPointInsidePolygon(e,t){for(var i=t.length,n=!1,r=i-1,a=0;a<i;r=a++){var o=t[r],s=t[a],l=s.x-o.x,u=s.y-o.y;if(Math.abs(u)>Number.EPSILON){if(u<0&&(o=t[a],l=-l,s=t[r],u=-u),e.y<o.y||e.y>s.y)continue;if(e.y===o.y){if(e.x===o.x)return 1}else{var h=u*(e.x-o.x)-l*(e.y-o.y);if(0==h)return 1;if(h<0)continue;n=!n}}else{if(e.y!==o.y)continue;if(s.x<=e.x&&e.x<=o.x||o.x<=e.x&&e.x<=s.x)return 1}}return n}var i=Ti.ShapeUtils.isClockWise,n=function(e){for(var t=[],i=new Ti.Path,n=0,r=e.length;n<r;n++){var a=e[n],o=a.args,s=a.action;"moveTo"===s&&0!==i.actions.length&&(t.push(i),i=new Ti.Path),i[s].apply(i,o)}return 0!==i.actions.length&&t.push(i),t}(this.actions);if(0===n.length)return[];if(!0===t)return toShapesNoHoles(n);var r,a,o,s=[];if(1===n.length)return a=n[0],(o=new Ti.Shape).actions=a.actions,o.curves=a.curves,s.push(o),s;var l=!i(n[0].getPoints());l=e?!l:l;var u,h,d=[],c=[],p=[],f=0;c[f]=void 0,p[f]=[];for(var m=0,_=n.length;m<_;m++)r=i(u=(a=n[m]).getPoints()),(r=e?!r:r)?(!l&&c[f]&&f++,c[f]={s:new Ti.Shape,p:u},c[f].s.actions=a.actions,c[f].s.curves=a.curves,l&&f++,p[f]=[]):p[f].push({h:a,p:u[0]});if(!c[0])return toShapesNoHoles(n);if(1<c.length){for(var g=!1,v=[],y=0,b=c.length;y<b;y++)d[y]=[];for(y=0,b=c.length;y<b;y++)for(var w=p[y],x=0;x<w.length;x++){for(var T=w[x],S=!0,M=0;M<c.length;M++)isPointInsidePolygon(T.p,c[M].p)&&(y!==M&&v.push({froms:y,tos:M,hole:x}),S?(S=!1,d[M].push(T)):g=!0);S&&d[y].push(T)}0<v.length&&(g||(p=d))}m=0;for(var L=c.length;m<L;m++){o=c[m].s,s.push(o);for(var E=0,C=(h=p[m]).length;E<C;E++)o.holes.push(h[E].h)}return s},Ti.Shape=function(){Ti.Path.apply(this,arguments),this.holes=[]},Ti.Shape.prototype=Object.create(Ti.Path.prototype),Ti.Shape.prototype.constructor=Ti.Shape,Ti.Shape.prototype.extrude=function(e){return new Ti.ExtrudeGeometry(this,e)},Ti.Shape.prototype.makeGeometry=function(e){return new Ti.ShapeGeometry(this,e)},Ti.Shape.prototype.getPointsHoles=function(e){for(var t=[],i=0,n=this.holes.length;i<n;i++)t[i]=this.holes[i].getPoints(e);return t},Ti.Shape.prototype.extractAllPoints=function(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}},Ti.Shape.prototype.extractPoints=function(e){return this.extractAllPoints(e)},Ti.LineCurve=function(e,t){this.v1=e,this.v2=t},Ti.LineCurve.prototype=Object.create(Ti.Curve.prototype),Ti.LineCurve.prototype.constructor=Ti.LineCurve,Ti.LineCurve.prototype.getPoint=function(e){var t=this.v2.clone().sub(this.v1);return t.multiplyScalar(e).add(this.v1),t},Ti.LineCurve.prototype.getPointAt=function(e){return this.getPoint(e)},Ti.LineCurve.prototype.getTangent=function(e){return this.v2.clone().sub(this.v1).normalize()},Ti.QuadraticBezierCurve=function(e,t,i){this.v0=e,this.v1=t,this.v2=i},Ti.QuadraticBezierCurve.prototype=Object.create(Ti.Curve.prototype),Ti.QuadraticBezierCurve.prototype.constructor=Ti.QuadraticBezierCurve,Ti.QuadraticBezierCurve.prototype.getPoint=function(e){var t=Ti.ShapeUtils.b2;return new Ti.Vector2(t(e,this.v0.x,this.v1.x,this.v2.x),t(e,this.v0.y,this.v1.y,this.v2.y))},Ti.QuadraticBezierCurve.prototype.getTangent=function(e){var t=Ti.CurveUtils.tangentQuadraticBezier;return new Ti.Vector2(t(e,this.v0.x,this.v1.x,this.v2.x),t(e,this.v0.y,this.v1.y,this.v2.y)).normalize()},Ti.CubicBezierCurve=function(e,t,i,n){this.v0=e,this.v1=t,this.v2=i,this.v3=n},Ti.CubicBezierCurve.prototype=Object.create(Ti.Curve.prototype),Ti.CubicBezierCurve.prototype.constructor=Ti.CubicBezierCurve,Ti.CubicBezierCurve.prototype.getPoint=function(e){var t=Ti.ShapeUtils.b3;return new Ti.Vector2(t(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),t(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y))},Ti.CubicBezierCurve.prototype.getTangent=function(e){var t=Ti.CurveUtils.tangentCubicBezier;return new Ti.Vector2(t(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),t(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y)).normalize()},Ti.SplineCurve=function(e){this.points=null==e?[]:e},Ti.SplineCurve.prototype=Object.create(Ti.Curve.prototype),Ti.SplineCurve.prototype.constructor=Ti.SplineCurve,Ti.SplineCurve.prototype.getPoint=function(e){var t=this.points,i=(t.length-1)*e,n=Math.floor(i),r=i-n,a=t[0===n?n:n-1],o=t[n],s=t[n>t.length-2?t.length-1:n+1],l=t[n>t.length-3?t.length-1:n+2],u=Ti.CurveUtils.interpolate;return new Ti.Vector2(u(a.x,o.x,s.x,l.x,r),u(a.y,o.y,s.y,l.y,r))},Ti.EllipseCurve=function(e,t,i,n,r,a,o,s){this.aX=e,this.aY=t,this.xRadius=i,this.yRadius=n,this.aStartAngle=r,this.aEndAngle=a,this.aClockwise=o,this.aRotation=s||0},Ti.EllipseCurve.prototype=Object.create(Ti.Curve.prototype),Ti.EllipseCurve.prototype.constructor=Ti.EllipseCurve,Ti.EllipseCurve.prototype.getPoint=function(e){var t,i=this.aEndAngle-this.aStartAngle;i<0&&(i+=2*Math.PI),i>2*Math.PI&&(i-=2*Math.PI),t=!0===this.aClockwise?this.aEndAngle+(1-e)*(2*Math.PI-i):this.aStartAngle+e*i;var n=this.aX+this.xRadius*Math.cos(t),r=this.aY+this.yRadius*Math.sin(t);if(0!==this.aRotation){var a=Math.cos(this.aRotation),o=Math.sin(this.aRotation),s=n;n=(s-this.aX)*a-(r-this.aY)*o+this.aX,r=(s-this.aX)*o+(r-this.aY)*a+this.aY}return new Ti.Vector2(n,r)},Ti.ArcCurve=function(e,t,i,n,r,a){Ti.EllipseCurve.call(this,e,t,i,i,n,r,a)},Ti.ArcCurve.prototype=Object.create(Ti.EllipseCurve.prototype),Ti.ArcCurve.prototype.constructor=Ti.ArcCurve,Ti.LineCurve3=Ti.Curve.create(function(e,t){this.v1=e,this.v2=t},function(e){var t=new Ti.Vector3;return t.subVectors(this.v2,this.v1),t.multiplyScalar(e),t.add(this.v1),t}),Ti.QuadraticBezierCurve3=Ti.Curve.create(function(e,t,i){this.v0=e,this.v1=t,this.v2=i},function(e){var t=Ti.ShapeUtils.b2;return new Ti.Vector3(t(e,this.v0.x,this.v1.x,this.v2.x),t(e,this.v0.y,this.v1.y,this.v2.y),t(e,this.v0.z,this.v1.z,this.v2.z))}),Ti.CubicBezierCurve3=Ti.Curve.create(function(e,t,i,n){this.v0=e,this.v1=t,this.v2=i,this.v3=n},function(e){var t=Ti.ShapeUtils.b3;return new Ti.Vector3(t(e,this.v0.x,this.v1.x,this.v2.x,this.v3.x),t(e,this.v0.y,this.v1.y,this.v2.y,this.v3.y),t(e,this.v0.z,this.v1.z,this.v2.z,this.v3.z))}),Ti.SplineCurve3=Ti.Curve.create(function(e){this.points=null==e?[]:e},function(e){var t=this.points,i=(t.length-1)*e,n=Math.floor(i),r=i-n,a=t[0==n?n:n-1],o=t[n],s=t[n>t.length-2?t.length-1:n+1],l=t[n>t.length-3?t.length-1:n+2],u=Ti.CurveUtils.interpolate;return new Ti.Vector3(u(a.x,o.x,s.x,l.x,r),u(a.y,o.y,s.y,l.y,r),u(a.z,o.z,s.z,l.z,r))}),Ti.CatmullRomCurve3=(ei=new Ti.Vector3,ti=new CubicPoly,ii=new CubicPoly,ni=new CubicPoly,CubicPoly.prototype.init=function(e,t,i,n){this.c0=e,this.c1=i,this.c2=-3*e+3*t-2*i-n,this.c3=2*e-2*t+i+n},CubicPoly.prototype.initNonuniformCatmullRom=function(e,t,i,n,r,a,o){var s=(t-e)/r-(i-e)/(r+a)+(i-t)/a,l=(i-t)/a-(n-t)/(a+o)+(n-i)/o;s*=a,l*=a,this.init(t,i,s,l)},CubicPoly.prototype.initCatmullRom=function(e,t,i,n,r){this.init(t,i,r*(i-e),r*(n-t))},CubicPoly.prototype.calc=function(e){var t=e*e,i=t*e;return this.c0+this.c1*e+this.c2*t+this.c3*i},Ti.Curve.create(function(e){this.points=e||[],this.closed=!1},function(e){var t,i,n,r,a,o,s,l,u=this.points;if(n=(t=((r=u.length)-(this.closed?0:1))*e)-(i=Math.floor(t)),this.closed?i+=0<i?0:(Math.floor(Math.abs(i)/u.length)+1)*u.length:0===n&&i===r-1&&(i=r-2,n=1),a=this.closed||0<i?u[(i-1)%r]:(ei.subVectors(u[0],u[1]).add(u[0]),ei),o=u[i%r],s=u[(i+1)%r],l=this.closed||i+2<r?u[(i+2)%r]:(ei.subVectors(u[r-1],u[r-2]).add(u[r-1]),ei),void 0===this.type||"centripetal"===this.type||"chordal"===this.type){var h="chordal"===this.type?.5:.25,d=Math.pow(a.distanceToSquared(o),h),c=Math.pow(o.distanceToSquared(s),h),p=Math.pow(s.distanceToSquared(l),h);c<1e-4&&(c=1),d<1e-4&&(d=c),p<1e-4&&(p=c),ti.initNonuniformCatmullRom(a.x,o.x,s.x,l.x,d,c,p),ii.initNonuniformCatmullRom(a.y,o.y,s.y,l.y,d,c,p),ni.initNonuniformCatmullRom(a.z,o.z,s.z,l.z,d,c,p)}else if("catmullrom"===this.type){var f=void 0!==this.tension?this.tension:.5;ti.initCatmullRom(a.x,o.x,s.x,l.x,f),ii.initCatmullRom(a.y,o.y,s.y,l.y,f),ni.initCatmullRom(a.z,o.z,s.z,l.z,f)}return new Ti.Vector3(ti.calc(n),ii.calc(n),ni.calc(n))})),Ti.ClosedSplineCurve3=function(e){Ti.CatmullRomCurve3.call(this,e),this.type="catmullrom",this.closed=!0},Ti.ClosedSplineCurve3.prototype=Object.create(Ti.CatmullRomCurve3.prototype),Ti.BoxGeometry=function(e,t,i,n,r,a){Ti.Geometry.call(this),this.type="BoxGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:n,heightSegments:r,depthSegments:a},this.fromBufferGeometry(new Ti.BoxBufferGeometry(e,t,i,n,r,a)),this.mergeVertices()},Ti.BoxGeometry.prototype=Object.create(Ti.Geometry.prototype),Ti.BoxGeometry.prototype.constructor=Ti.BoxGeometry,Ti.CubeGeometry=Ti.BoxGeometry,Ti.BoxBufferGeometry=function(e,t,i,n,r,a){Ti.BufferGeometry.call(this),this.type="BoxBufferGeometry",this.parameters={width:e,height:t,depth:i,widthSegments:n,heightSegments:r,depthSegments:a};var A=this;n=Math.floor(n)||1,r=Math.floor(r)||1,a=Math.floor(a)||1;var o,s,l,u,h=(u=0,u+=(o=n)*(s=r)*2,u+=o*(l=a)*2,4*(u+=l*s*2)),d=h/4*6,P=new(65535<d?Uint32Array:Uint16Array)(d),D=new Float32Array(3*h),R=new Float32Array(3*h),k=new Float32Array(2*h),I=0,O=0,B=0,N=0,F=0;function buildPlane(e,t,i,n,r,a,o,s,l,u,h){for(var d=a/l,c=o/u,p=a/2,f=o/2,m=s/2,_=l+1,g=u+1,v=0,y=0,b=new Ti.Vector3,w=0;w<g;w++)for(var x=w*c-f,T=0;T<_;T++){var S=T*d-p;b[e]=S*n,b[t]=x*r,b[i]=m,D[I]=b.x,D[I+1]=b.y,D[I+2]=b.z,b[e]=0,b[t]=0,b[i]=0<s?1:-1,R[I]=b.x,R[I+1]=b.y,R[I+2]=b.z,k[O]=T/l,k[O+1]=1-w/u,I+=3,O+=2,v+=1}for(w=0;w<u;w++)for(T=0;T<l;T++){var M=N+T+_*w,L=N+T+_*(w+1),E=N+(T+1)+_*(w+1),C=N+(T+1)+_*w;P[B]=M,P[B+1]=L,P[B+2]=C,P[B+3]=L,P[B+4]=E,P[B+5]=C,B+=6,y+=6}A.addGroup(F,y,h),F+=y,N+=v}buildPlane("z","y","x",-1,-1,i,t,e,a,r,0),buildPlane("z","y","x",1,-1,i,t,-e,a,r,1),buildPlane("x","z","y",1,1,e,i,t,n,a,2),buildPlane("x","z","y",1,-1,e,i,-t,n,a,3),buildPlane("x","y","z",1,-1,e,t,i,n,r,4),buildPlane("x","y","z",-1,-1,e,t,-i,n,r,5),this.setIndex(new Ti.BufferAttribute(P,1)),this.addAttribute("position",new Ti.BufferAttribute(D,3)),this.addAttribute("normal",new Ti.BufferAttribute(R,3)),this.addAttribute("uv",new Ti.BufferAttribute(k,2))},Ti.BoxBufferGeometry.prototype=Object.create(Ti.BufferGeometry.prototype),Ti.BoxBufferGeometry.prototype.constructor=Ti.BoxBufferGeometry,Ti.CircleGeometry=function(e,t,i,n){Ti.Geometry.call(this),this.type="CircleGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:n},this.fromBufferGeometry(new Ti.CircleBufferGeometry(e,t,i,n))},Ti.CircleGeometry.prototype=Object.create(Ti.Geometry.prototype),Ti.CircleGeometry.prototype.constructor=Ti.CircleGeometry,Ti.CircleBufferGeometry=function(e,t,i,n){Ti.BufferGeometry.call(this),this.type="CircleBufferGeometry",this.parameters={radius:e,segments:t,thetaStart:i,thetaLength:n},e=e||50,t=void 0!==t?Math.max(3,t):8,i=void 0!==i?i:0,n=void 0!==n?n:2*Math.PI;var r=t+2,a=new Float32Array(3*r),o=new Float32Array(3*r),s=new Float32Array(2*r);o[2]=1,s[0]=.5,s[1]=.5;for(var l=0,u=3,h=2;l<=t;l++,u+=3,h+=2){var d=i+l/t*n;a[u]=e*Math.cos(d),a[u+1]=e*Math.sin(d),o[u+2]=1,s[h]=(a[u]/e+1)/2,s[h+1]=(a[u+1]/e+1)/2}var c=[];for(u=1;u<=t;u++)c.push(u,u+1,0);this.setIndex(new Ti.BufferAttribute(new Uint16Array(c),1)),this.addAttribute("position",new Ti.BufferAttribute(a,3)),this.addAttribute("normal",new Ti.BufferAttribute(o,3)),this.addAttribute("uv",new Ti.BufferAttribute(s,2)),this.boundingSphere=new Ti.Sphere(new Ti.Vector3,e)},Ti.CircleBufferGeometry.prototype=Object.create(Ti.BufferGeometry.prototype),Ti.CircleBufferGeometry.prototype.constructor=Ti.CircleBufferGeometry,Ti.CylinderBufferGeometry=function(p,f,m,_,g,t,v,y){Ti.BufferGeometry.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:p,radiusBottom:f,height:m,radialSegments:_,heightSegments:g,openEnded:t,thetaStart:v,thetaLength:y},p=void 0!==p?p:20,f=void 0!==f?f:20,m=void 0!==m?m:100,_=Math.floor(_)||8,g=Math.floor(g)||1,t=void 0!==t&&t,v=void 0!==v?v:0,y=void 0!==y?y:2*Math.PI;var e=function(){var e=(_+1)*(g+1);!1===t&&(e+=2*(_+1)+2*_);return e}(),i=function(){var e=_*g*2*3;!1===t&&(e+=2*_*3);return e}(),b=new Ti.BufferAttribute(new(65535<i?Uint32Array:Uint16Array)(i),1),w=new Ti.BufferAttribute(new Float32Array(3*e),3),x=new Ti.BufferAttribute(new Float32Array(3*e),3),T=new Ti.BufferAttribute(new Float32Array(2*e),2),S=0,M=0,L=[],E=m/2;function generateCap(e){var t,i,n,r=new Ti.Vector2,a=new Ti.Vector3,o=!0===e?p:f,s=!0===e?1:-1;for(i=S,t=1;t<=_;t++)w.setXYZ(S,0,E*s,0),x.setXYZ(S,0,s,0),!0===e?(r.x=t/_,r.y=0):(r.x=(t-1)/_,r.y=1),T.setXY(S,r.x,r.y),S++;for(n=S,t=0;t<=_;t++){var l=t/_;a.x=o*Math.sin(l*y+v),a.y=E*s,a.z=o*Math.cos(l*y+v),w.setXYZ(S,a.x,a.y,a.z),x.setXYZ(S,0,s,0),T.setXY(S,l,!0===e?1:0),S++}for(t=0;t<_;t++){var u=i+t,h=n+t;!0===e?(b.setX(M,h),M++,b.setX(M,h+1)):(b.setX(M,h+1),M++,b.setX(M,h)),M++,b.setX(M,u),M++}}!function(){var e,t,i=new Ti.Vector3,n=new Ti.Vector3,r=(f-p)/m;for(t=0;t<=g;t++){var a=[],o=t/g,s=o*(f-p)+p;for(e=0;e<=_;e++){var l=e/_;n.x=s*Math.sin(l*y+v),n.y=-o*m+E,n.z=s*Math.cos(l*y+v),w.setXYZ(S,n.x,n.y,n.z),i.copy(n),(0===p&&0===t||0===f&&t===g)&&(i.x=Math.sin(l*y+v),i.z=Math.cos(l*y+v)),i.setY(Math.sqrt(i.x*i.x+i.z*i.z)*r).normalize(),x.setXYZ(S,i.x,i.y,i.z),T.setXY(S,l,1-o),a.push(S),S++}L.push(a)}for(e=0;e<_;e++)for(t=0;t<g;t++){var u=L[t][e],h=L[t+1][e],d=L[t+1][e+1],c=L[t][e+1];b.setX(M,u),M++,b.setX(M,h),M++,b.setX(M,c),M++,b.setX(M,h),M++,b.setX(M,d),M++,b.setX(M,c),M++}}(),!1===t&&(0<p&&generateCap(!0),0<f&&generateCap(!1)),this.setIndex(b),this.addAttribute("position",w),this.addAttribute("normal",x),this.addAttribute("uv",T)},Ti.CylinderBufferGeometry.prototype=Object.create(Ti.BufferGeometry.prototype),Ti.CylinderBufferGeometry.prototype.constructor=Ti.CylinderBufferGeometry,Ti.CylinderGeometry=function(e,t,i,n,r,a,o,s){Ti.Geometry.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:t,height:i,radialSegments:n,heightSegments:r,openEnded:a,thetaStart:o,thetaLength:s},this.fromBufferGeometry(new Ti.CylinderBufferGeometry(e,t,i,n,r,a,o,s)),this.mergeVertices()},Ti.CylinderGeometry.prototype=Object.create(Ti.Geometry.prototype),Ti.CylinderGeometry.prototype.constructor=Ti.CylinderGeometry,Ti.EdgesGeometry=function(e,t){Ti.BufferGeometry.call(this),t=void 0!==t?t:1;var i=Math.cos(Ti.Math.degToRad(t)),n=[0,0],r={};function sortFunction(e,t){return e-t}var a,o=["a","b","c"];e instanceof Ti.BufferGeometry?(a=new Ti.Geometry).fromBufferGeometry(e):a=e.clone(),a.mergeVertices(),a.computeFaceNormals();for(var s=a.vertices,l=a.faces,u=0,h=l.length;u<h;u++)for(var d=l[u],c=0;c<3;c++){n[0]=d[o[c]],n[1]=d[o[(c+1)%3]],n.sort(sortFunction),void 0===r[f=n.toString()]?r[f]={vert1:n[0],vert2:n[1],face1:u,face2:void 0}:r[f].face2=u}var p=[];for(var f in r){var m=r[f];if(void 0===m.face2||l[m.face1].normal.dot(l[m.face2].normal)<=i){var _=s[m.vert1];p.push(_.x),p.push(_.y),p.push(_.z),_=s[m.vert2],p.push(_.x),p.push(_.y),p.push(_.z)}}this.addAttribute("position",new Ti.BufferAttribute(new Float32Array(p),3))},Ti.EdgesGeometry.prototype=Object.create(Ti.BufferGeometry.prototype),Ti.EdgesGeometry.prototype.constructor=Ti.EdgesGeometry,Ti.ExtrudeGeometry=function(e,t){void 0!==e?(Ti.Geometry.call(this),this.type="ExtrudeGeometry",e=Array.isArray(e)?e:[e],this.addShapeList(e,t),this.computeFaceNormals()):e=[]},Ti.ExtrudeGeometry.prototype=Object.create(Ti.Geometry.prototype),Ti.ExtrudeGeometry.prototype.constructor=Ti.ExtrudeGeometry,Ti.ExtrudeGeometry.prototype.addShapeList=function(e,t){for(var i=e.length,n=0;n<i;n++){var r=e[n];this.addShape(r,t)}},Ti.ExtrudeGeometry.prototype.addShape=function(e,t){var i,n,r,a,o,s,l,u,h=void 0!==t.amount?t.amount:100,d=void 0!==t.bevelThickness?t.bevelThickness:6,c=void 0!==t.bevelSize?t.bevelSize:d-2,p=void 0!==t.bevelSegments?t.bevelSegments:3,f=void 0===t.bevelEnabled||t.bevelEnabled,m=void 0!==t.curveSegments?t.curveSegments:12,_=void 0!==t.steps?t.steps:1,g=t.extrudePath,y=!1,b=void 0!==t.UVGenerator?t.UVGenerator:Ti.ExtrudeGeometry.WorldUVGenerator;g&&(i=g.getSpacedPoints(_),f=!(y=!0),n=void 0!==t.frames?t.frames:new Ti.TubeGeometry.FrenetFrames(g,_,!1),r=new Ti.Vector3,a=new Ti.Vector3,o=new Ti.Vector3),f||(c=d=p=0);var w=this,x=this.vertices.length,T=e.extractPoints(m),S=T.shape,M=T.holes,L=!Ti.ShapeUtils.isClockWise(S);if(L){for(S=S.reverse(),l=0,u=M.length;l<u;l++)s=M[l],Ti.ShapeUtils.isClockWise(s)&&(M[l]=s.reverse());L=!1}var E=Ti.ShapeUtils.triangulateShape(S,M),C=S;for(l=0,u=M.length;l<u;l++)s=M[l],S=S.concat(s);function scalePt2(e,t,i){return t.clone().multiplyScalar(i).add(e)}var A,P,D,R,k,I,O=S.length,B=E.length;function getBevelVec(e,t,i){var n,r,a=1,o=e.x-t.x,s=e.y-t.y,l=i.x-e.x,u=i.y-e.y,h=o*o+s*s,d=o*u-s*l;if(Math.abs(d)>Number.EPSILON){var c=Math.sqrt(h),p=Math.sqrt(l*l+u*u),f=t.x-s/c,m=t.y+o/c,_=((i.x-u/p-f)*u-(i.y+l/p-m)*l)/(o*u-s*l),g=(n=f+o*_-e.x)*n+(r=m+s*_-e.y)*r;if(g<=2)return new Ti.Vector2(n,r);a=Math.sqrt(g/2)}else{var v=!1;o>Number.EPSILON?l>Number.EPSILON&&(v=!0):o<-Number.EPSILON?l<-Number.EPSILON&&(v=!0):Math.sign(s)===Math.sign(u)&&(v=!0),a=v?(n=-s,r=o,Math.sqrt(h)):(n=o,r=s,Math.sqrt(h/2))}return new Ti.Vector2(n/a,r/a)}for(var N=[],F=0,Y=C.length,U=Y-1,j=F+1;F<Y;F++,U++,j++)U===Y&&(U=0),j===Y&&(j=0),N[F]=getBevelVec(C[F],C[U],C[j]);var z,G,H=[],W=N.concat();for(l=0,u=M.length;l<u;l++){for(s=M[l],z=[],F=0,U=(Y=s.length)-1,j=F+1;F<Y;F++,U++,j++)U===Y&&(U=0),j===Y&&(j=0),z[F]=getBevelVec(s[F],s[U],s[j]);H.push(z),W=W.concat(z)}for(A=0;A<p;A++){for(R=d*(1-(D=A/p)),P=c*Math.sin(D*Math.PI/2),F=0,Y=C.length;F<Y;F++)v((k=scalePt2(C[F],N[F],P)).x,k.y,-R);for(l=0,u=M.length;l<u;l++)for(s=M[l],z=H[l],F=0,Y=s.length;F<Y;F++)v((k=scalePt2(s[F],z[F],P)).x,k.y,-R)}for(P=c,F=0;F<O;F++)k=f?scalePt2(S[F],W[F],P):S[F],y?(a.copy(n.normals[0]).multiplyScalar(k.x),r.copy(n.binormals[0]).multiplyScalar(k.y),o.copy(i[0]).add(a).add(r),v(o.x,o.y,o.z)):v(k.x,k.y,0);for(G=1;G<=_;G++)for(F=0;F<O;F++)k=f?scalePt2(S[F],W[F],P):S[F],y?(a.copy(n.normals[G]).multiplyScalar(k.x),r.copy(n.binormals[G]).multiplyScalar(k.y),o.copy(i[G]).add(a).add(r),v(o.x,o.y,o.z)):v(k.x,k.y,h/_*G);for(A=p-1;0<=A;A--){for(R=d*(1-(D=A/p)),P=c*Math.sin(D*Math.PI/2),F=0,Y=C.length;F<Y;F++)v((k=scalePt2(C[F],N[F],P)).x,k.y,h+R);for(l=0,u=M.length;l<u;l++)for(s=M[l],z=H[l],F=0,Y=s.length;F<Y;F++)k=scalePt2(s[F],z[F],P),y?v(k.x,k.y+i[_-1].y,i[_-1].x+R):v(k.x,k.y,h+R)}function sidewalls(e,t){var i,n;for(F=e.length;0<=--F;){(n=(i=F)-1)<0&&(n=e.length-1);var r=0,a=_+2*p;for(r=0;r<a;r++){var o=O*r,s=O*(r+1);f4(t+i+o,t+n+o,t+n+s,t+i+s,e,r,a,i,n)}}}function v(e,t,i){w.vertices.push(new Ti.Vector3(e,t,i))}function f3(e,t,i){e+=x,t+=x,i+=x,w.faces.push(new Ti.Face3(e,t,i,null,null,0));var n=b.generateTopUV(w,e,t,i);w.faceVertexUvs[0].push(n)}function f4(e,t,i,n){e+=x,t+=x,i+=x,n+=x,w.faces.push(new Ti.Face3(e,t,n,null,null,1)),w.faces.push(new Ti.Face3(t,i,n,null,null,1));var r=b.generateSideWallUV(w,e,t,i,n);w.faceVertexUvs[0].push([r[0],r[1],r[3]]),w.faceVertexUvs[0].push([r[1],r[2],r[3]])}!function(){if(f){var e=0,t=O*e;for(F=0;F<B;F++)f3((I=E[F])[2]+t,I[1]+t,I[0]+t);for(t=O*(e=_+2*p),F=0;F<B;F++)f3((I=E[F])[0]+t,I[1]+t,I[2]+t)}else{for(F=0;F<B;F++)f3((I=E[F])[2],I[1],I[0]);for(F=0;F<B;F++)f3((I=E[F])[0]+O*_,I[1]+O*_,I[2]+O*_)}}(),function(){var e=0;for(sidewalls(C,e),e+=C.length,l=0,u=M.length;l<u;l++)sidewalls(s=M[l],e),e+=s.length}()},Ti.ExtrudeGeometry.WorldUVGenerator={generateTopUV:function(e,t,i,n){var r=e.vertices,a=r[t],o=r[i],s=r[n];return[new Ti.Vector2(a.x,a.y),new Ti.Vector2(o.x,o.y),new Ti.Vector2(s.x,s.y)]},generateSideWallUV:function(e,t,i,n,r){var a=e.vertices,o=a[t],s=a[i],l=a[n],u=a[r];return Math.abs(o.y-s.y)<.01?[new Ti.Vector2(o.x,1-o.z),new Ti.Vector2(s.x,1-s.z),new Ti.Vector2(l.x,1-l.z),new Ti.Vector2(u.x,1-u.z)]:[new Ti.Vector2(o.y,1-o.z),new Ti.Vector2(s.y,1-s.z),new Ti.Vector2(l.y,1-l.z),new Ti.Vector2(u.y,1-u.z)]}},Ti.ShapeGeometry=function(e,t){Ti.Geometry.call(this),!(this.type="ShapeGeometry")===Array.isArray(e)&&(e=[e]),this.addShapeList(e,t),this.computeFaceNormals()},Ti.ShapeGeometry.prototype=Object.create(Ti.Geometry.prototype),Ti.ShapeGeometry.prototype.constructor=Ti.ShapeGeometry,Ti.ShapeGeometry.prototype.addShapeList=function(e,t){for(var i=0,n=e.length;i<n;i++)this.addShape(e[i],t);return this},Ti.ShapeGeometry.prototype.addShape=function(e,t){void 0===t&&(t={});var i,n,r,a=void 0!==t.curveSegments?t.curveSegments:12,o=t.material,s=void 0===t.UVGenerator?Ti.ExtrudeGeometry.WorldUVGenerator:t.UVGenerator,l=this.vertices.length,u=e.extractPoints(a),h=u.shape,d=u.holes,c=!Ti.ShapeUtils.isClockWise(h);if(c){for(h=h.reverse(),i=0,n=d.length;i<n;i++)r=d[i],Ti.ShapeUtils.isClockWise(r)&&(d[i]=r.reverse());c=!1}var p=Ti.ShapeUtils.triangulateShape(h,d);for(i=0,n=d.length;i<n;i++)r=d[i],h=h.concat(r);var f,m,_=h.length,g=p.length;for(i=0;i<_;i++)f=h[i],this.vertices.push(new Ti.Vector3(f.x,f.y,0));for(i=0;i<g;i++){var v=(m=p[i])[0]+l,y=m[1]+l,b=m[2]+l;this.faces.push(new Ti.Face3(v,y,b,null,null,o)),this.faceVertexUvs[0].push(s.generateTopUV(this,v,y,b))}},Ti.LatheBufferGeometry=function(e,t,i,n){Ti.BufferGeometry.call(this),this.type="LatheBufferGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:n},t=Math.floor(t)||12,i=i||0,n=n||2*Math.PI,n=Ti.Math.clamp(n,0,2*Math.PI);var r,a,o,s=(t+1)*e.length,l=t*e.length*2*3,u=new Ti.BufferAttribute(new(65535<l?Uint32Array:Uint16Array)(l),1),h=new Ti.BufferAttribute(new Float32Array(3*s),3),d=new Ti.BufferAttribute(new Float32Array(2*s),2),c=0,p=0,f=(e.length,1/t),m=new Ti.Vector3,_=new Ti.Vector2;for(a=0;a<=t;a++){var g=i+a*f*n,v=Math.sin(g),y=Math.cos(g);for(o=0;o<=e.length-1;o++)m.x=e[o].x*v,m.y=e[o].y,m.z=e[o].x*y,h.setXYZ(c,m.x,m.y,m.z),_.x=a/t,_.y=o/(e.length-1),d.setXY(c,_.x,_.y),c++}for(a=0;a<t;a++)for(o=0;o<e.length-1;o++){var b=r=o+a*e.length,w=r+e.length,x=r+e.length+1,T=r+1;u.setX(p,b),p++,u.setX(p,w),p++,u.setX(p,T),p++,u.setX(p,w),p++,u.setX(p,x),p++,u.setX(p,T),p++}if(this.setIndex(u),this.addAttribute("position",h),this.addAttribute("uv",d),this.computeVertexNormals(),n===2*Math.PI){var S=this.attributes.normal.array,M=new Ti.Vector3,L=new Ti.Vector3,E=new Ti.Vector3;for(r=t*e.length*3,o=a=0;a<e.length;a++,o+=3)M.x=S[o+0],M.y=S[o+1],M.z=S[o+2],L.x=S[r+o+0],L.y=S[r+o+1],L.z=S[r+o+2],E.addVectors(M,L).normalize(),S[o+0]=S[r+o+0]=E.x,S[o+1]=S[r+o+1]=E.y,S[o+2]=S[r+o+2]=E.z}},Ti.LatheBufferGeometry.prototype=Object.create(Ti.BufferGeometry.prototype),Ti.LatheBufferGeometry.prototype.constructor=Ti.LatheBufferGeometry,Ti.LatheGeometry=function(e,t,i,n){Ti.Geometry.call(this),this.type="LatheGeometry",this.parameters={points:e,segments:t,phiStart:i,phiLength:n},this.fromBufferGeometry(new Ti.LatheBufferGeometry(e,t,i,n)),this.mergeVertices()},Ti.LatheGeometry.prototype=Object.create(Ti.Geometry.prototype),Ti.LatheGeometry.prototype.constructor=Ti.LatheGeometry,Ti.PlaneGeometry=function(e,t,i,n){Ti.Geometry.call(this),this.type="PlaneGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:n},this.fromBufferGeometry(new Ti.PlaneBufferGeometry(e,t,i,n))},Ti.PlaneGeometry.prototype=Object.create(Ti.Geometry.prototype),Ti.PlaneGeometry.prototype.constructor=Ti.PlaneGeometry,Ti.PlaneBufferGeometry=function(e,t,i,n){Ti.BufferGeometry.call(this),this.type="PlaneBufferGeometry",this.parameters={width:e,height:t,widthSegments:i,heightSegments:n};for(var r=e/2,a=t/2,o=Math.floor(i)||1,s=Math.floor(n)||1,l=o+1,u=s+1,h=e/o,d=t/s,c=new Float32Array(l*u*3),p=new Float32Array(l*u*3),f=new Float32Array(l*u*2),m=0,_=0,g=0;g<u;g++)for(var v=g*d-a,y=0;y<l;y++){var b=y*h-r;c[m]=b,c[m+1]=-v,p[m+2]=1,f[_]=y/o,f[_+1]=1-g/s,m+=3,_+=2}m=0;var w=new(65535<c.length/3?Uint32Array:Uint16Array)(o*s*6);for(g=0;g<s;g++)for(y=0;y<o;y++){var x=y+l*g,T=y+l*(g+1),S=y+1+l*(g+1),M=y+1+l*g;w[m]=x,w[m+1]=T,w[m+2]=M,w[m+3]=T,w[m+4]=S,w[m+5]=M,m+=6}this.setIndex(new Ti.BufferAttribute(w,1)),this.addAttribute("position",new Ti.BufferAttribute(c,3)),this.addAttribute("normal",new Ti.BufferAttribute(p,3)),this.addAttribute("uv",new Ti.BufferAttribute(f,2))},Ti.PlaneBufferGeometry.prototype=Object.create(Ti.BufferGeometry.prototype),Ti.PlaneBufferGeometry.prototype.constructor=Ti.PlaneBufferGeometry,Ti.RingBufferGeometry=function(e,t,i,n,r,a){Ti.BufferGeometry.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:n,thetaStart:r,thetaLength:a},e=e||20,t=t||50,r=void 0!==r?r:0,a=void 0!==a?a:2*Math.PI;var o,s,l,u=((i=void 0!==i?Math.max(3,i):8)+1)*((n=void 0!==n?Math.max(1,n):1)+1),h=i*n*2*3,d=new Ti.BufferAttribute(new(65535<h?Uint32Array:Uint16Array)(h),1),c=new Ti.BufferAttribute(new Float32Array(3*u),3),p=new Ti.BufferAttribute(new Float32Array(3*u),3),f=new Ti.BufferAttribute(new Float32Array(2*u),2),m=0,_=0,g=e,v=(t-e)/n,y=new Ti.Vector3,b=new Ti.Vector2;for(s=0;s<=n;s++){for(l=0;l<=i;l++)o=r+l/i*a,y.x=g*Math.cos(o),y.y=g*Math.sin(o),c.setXYZ(m,y.x,y.y,y.z),p.setXYZ(m,0,0,1),b.x=(y.x/t+1)/2,b.y=(y.y/t+1)/2,f.setXY(m,b.x,b.y),m++;g+=v}for(s=0;s<n;s++){var w=s*(i+1);for(l=0;l<i;l++){var x=o=l+w,T=o+i+1,S=o+i+2,M=o+1;d.setX(_,x),_++,d.setX(_,T),_++,d.setX(_,S),_++,d.setX(_,x),_++,d.setX(_,S),_++,d.setX(_,M),_++}}this.setIndex(d),this.addAttribute("position",c),this.addAttribute("normal",p),this.addAttribute("uv",f)},Ti.RingBufferGeometry.prototype=Object.create(Ti.BufferGeometry.prototype),Ti.RingBufferGeometry.prototype.constructor=Ti.RingBufferGeometry,Ti.RingGeometry=function(e,t,i,n,r,a){Ti.Geometry.call(this),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:t,thetaSegments:i,phiSegments:n,thetaStart:r,thetaLength:a},this.fromBufferGeometry(new Ti.RingBufferGeometry(e,t,i,n,r,a))},Ti.RingGeometry.prototype=Object.create(Ti.Geometry.prototype),Ti.RingGeometry.prototype.constructor=Ti.RingGeometry,Ti.SphereGeometry=function(e,t,i,n,r,a,o){Ti.Geometry.call(this),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:n,phiLength:r,thetaStart:a,thetaLength:o},this.fromBufferGeometry(new Ti.SphereBufferGeometry(e,t,i,n,r,a,o))},Ti.SphereGeometry.prototype=Object.create(Ti.Geometry.prototype),Ti.SphereGeometry.prototype.constructor=Ti.SphereGeometry,Ti.SphereBufferGeometry=function(e,t,i,n,r,a,o){Ti.BufferGeometry.call(this),this.type="SphereBufferGeometry",this.parameters={radius:e,widthSegments:t,heightSegments:i,phiStart:n,phiLength:r,thetaStart:a,thetaLength:o},e=e||50,t=Math.max(3,Math.floor(t)||8),i=Math.max(2,Math.floor(i)||6),n=void 0!==n?n:0,r=void 0!==r?r:2*Math.PI;for(var s=(a=void 0!==a?a:0)+(o=void 0!==o?o:Math.PI),l=(t+1)*(i+1),u=new Ti.BufferAttribute(new Float32Array(3*l),3),h=new Ti.BufferAttribute(new Float32Array(3*l),3),d=new Ti.BufferAttribute(new Float32Array(2*l),2),c=0,p=[],f=new Ti.Vector3,m=0;m<=i;m++){for(var _=[],g=m/i,v=0;v<=t;v++){var y=v/t,b=-e*Math.cos(n+y*r)*Math.sin(a+g*o),w=e*Math.cos(a+g*o),x=e*Math.sin(n+y*r)*Math.sin(a+g*o);f.set(b,w,x).normalize(),u.setXYZ(c,b,w,x),h.setXYZ(c,f.x,f.y,f.z),d.setXY(c,y,1-g),_.push(c),c++}p.push(_)}var T=[];for(m=0;m<i;m++)for(v=0;v<t;v++){var S=p[m][v+1],M=p[m][v],L=p[m+1][v],E=p[m+1][v+1];(0!==m||0<a)&&T.push(S,M,E),(m!==i-1||s<Math.PI)&&T.push(M,L,E)}this.setIndex(new(65535<u.count?Ti.Uint32Attribute:Ti.Uint16Attribute)(T,1)),this.addAttribute("position",u),this.addAttribute("normal",h),this.addAttribute("uv",d),this.boundingSphere=new Ti.Sphere(new Ti.Vector3,e)},Ti.SphereBufferGeometry.prototype=Object.create(Ti.BufferGeometry.prototype),Ti.SphereBufferGeometry.prototype.constructor=Ti.SphereBufferGeometry,Ti.TextGeometry=function(e,t){var i=(t=t||{}).font;if(i instanceof Ti.Font==!1)return new Ti.Geometry;var n=i.generateShapes(e,t.size,t.curveSegments);t.amount=void 0!==t.height?t.height:50,void 0===t.bevelThickness&&(t.bevelThickness=10),void 0===t.bevelSize&&(t.bevelSize=8),void 0===t.bevelEnabled&&(t.bevelEnabled=!1),Ti.ExtrudeGeometry.call(this,n,t),this.type="TextGeometry"},Ti.TextGeometry.prototype=Object.create(Ti.ExtrudeGeometry.prototype),Ti.TextGeometry.prototype.constructor=Ti.TextGeometry,Ti.TorusBufferGeometry=function(e,t,i,n,r){Ti.BufferGeometry.call(this),this.type="TorusBufferGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:n,arc:r},e=e||100,t=t||40,i=Math.floor(i)||8,n=Math.floor(n)||6,r=r||2*Math.PI;var a,o,s=(i+1)*(n+1),l=i*n*2*3,u=new(65535<l?Uint32Array:Uint16Array)(l),h=new Float32Array(3*s),d=new Float32Array(3*s),c=new Float32Array(2*s),p=0,f=0,m=0,_=new Ti.Vector3,g=new Ti.Vector3,v=new Ti.Vector3;for(a=0;a<=i;a++)for(o=0;o<=n;o++){var y=o/n*r,b=a/i*Math.PI*2;g.x=(e+t*Math.cos(b))*Math.cos(y),g.y=(e+t*Math.cos(b))*Math.sin(y),g.z=t*Math.sin(b),h[p]=g.x,h[p+1]=g.y,h[p+2]=g.z,_.x=e*Math.cos(y),_.y=e*Math.sin(y),v.subVectors(g,_).normalize(),d[p]=v.x,d[p+1]=v.y,d[p+2]=v.z,c[f]=o/n,c[f+1]=a/i,p+=3,f+=2}for(a=1;a<=i;a++)for(o=1;o<=n;o++){var w=(n+1)*a+o-1,x=(n+1)*(a-1)+o-1,T=(n+1)*(a-1)+o,S=(n+1)*a+o;u[m]=w,u[m+1]=x,u[m+2]=S,u[m+3]=x,u[m+4]=T,u[m+5]=S,m+=6}this.setIndex(new Ti.BufferAttribute(u,1)),this.addAttribute("position",new Ti.BufferAttribute(h,3)),this.addAttribute("normal",new Ti.BufferAttribute(d,3)),this.addAttribute("uv",new Ti.BufferAttribute(c,2))},Ti.TorusBufferGeometry.prototype=Object.create(Ti.BufferGeometry.prototype),Ti.TorusBufferGeometry.prototype.constructor=Ti.TorusBufferGeometry,Ti.TorusGeometry=function(e,t,i,n,r){Ti.Geometry.call(this),this.type="TorusGeometry",this.parameters={radius:e,tube:t,radialSegments:i,tubularSegments:n,arc:r},this.fromBufferGeometry(new Ti.TorusBufferGeometry(e,t,i,n,r))},Ti.TorusGeometry.prototype=Object.create(Ti.Geometry.prototype),Ti.TorusGeometry.prototype.constructor=Ti.TorusGeometry,Ti.TorusKnotBufferGeometry=function(e,t,i,n,r,a){Ti.BufferGeometry.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:n,p:r,q:a},e=e||100,t=t||40,i=Math.floor(i)||64,r=r||2,a=a||3;var o,s,l=((n=Math.floor(n)||8)+1)*(i+1),u=n*i*2*3,h=new Ti.BufferAttribute(new(65535<u?Uint32Array:Uint16Array)(u),1),d=new Ti.BufferAttribute(new Float32Array(3*l),3),c=new Ti.BufferAttribute(new Float32Array(3*l),3),p=new Ti.BufferAttribute(new Float32Array(2*l),2),f=0,m=0,_=new Ti.Vector3,g=new Ti.Vector3,v=new Ti.Vector2,y=new Ti.Vector3,b=new Ti.Vector3,w=new Ti.Vector3,x=new Ti.Vector3,T=new Ti.Vector3;for(o=0;o<=i;++o){var S=o/i*r*Math.PI*2;for(calculatePositionOnCurve(S,r,a,e,y),calculatePositionOnCurve(.01+S,r,a,e,b),x.subVectors(b,y),T.addVectors(b,y),w.crossVectors(x,T),T.crossVectors(w,x),w.normalize(),T.normalize(),s=0;s<=n;++s){var M=s/n*Math.PI*2,L=-t*Math.cos(M),E=t*Math.sin(M);_.x=y.x+(L*T.x+E*w.x),_.y=y.y+(L*T.y+E*w.y),_.z=y.z+(L*T.z+E*w.z),d.setXYZ(f,_.x,_.y,_.z),g.subVectors(_,y).normalize(),c.setXYZ(f,g.x,g.y,g.z),v.x=o/i,v.y=s/n,p.setXY(f,v.x,v.y),f++}}for(s=1;s<=i;s++)for(o=1;o<=n;o++){var C=(n+1)*(s-1)+(o-1),A=(n+1)*s+(o-1),P=(n+1)*s+o,D=(n+1)*(s-1)+o;h.setX(m,C),m++,h.setX(m,A),m++,h.setX(m,D),m++,h.setX(m,A),m++,h.setX(m,P),m++,h.setX(m,D),m++}function calculatePositionOnCurve(e,t,i,n,r){var a=Math.cos(e),o=Math.sin(e),s=i/t*e,l=Math.cos(s);r.x=n*(2+l)*.5*a,r.y=n*(2+l)*o*.5,r.z=n*Math.sin(s)*.5}this.setIndex(h),this.addAttribute("position",d),this.addAttribute("normal",c),this.addAttribute("uv",p)},Ti.TorusKnotBufferGeometry.prototype=Object.create(Ti.BufferGeometry.prototype),Ti.TorusKnotBufferGeometry.prototype.constructor=Ti.TorusKnotBufferGeometry,Ti.TorusKnotGeometry=function(e,t,i,n,r,a,o){Ti.Geometry.call(this),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:t,tubularSegments:i,radialSegments:n,p:r,q:a},this.fromBufferGeometry(new Ti.TorusKnotBufferGeometry(e,t,i,n,r,a)),this.mergeVertices()},Ti.TorusKnotGeometry.prototype=Object.create(Ti.Geometry.prototype),Ti.TorusKnotGeometry.prototype.constructor=Ti.TorusKnotGeometry,Ti.TubeGeometry=function(e,t,i,n,r,a){Ti.Geometry.call(this),this.type="TubeGeometry",this.parameters={path:e,segments:t,radius:i,radialSegments:n,closed:r,taper:a},t=t||64,i=i||1,n=n||8,r=r||!1,a=a||Ti.TubeGeometry.NoTaper;var o,s,l,u,h,d,c,p,f,m,_,g,v,y,b,w,x,T,S,M,L,E,C,A=[],P=this,D=t+1,R=new Ti.Vector3,k=new Ti.TubeGeometry.FrenetFrames(e,t,r),I=k.tangents,O=k.normals,B=k.binormals;for(this.tangents=I,this.normals=O,this.binormals=B,f=0;f<D;f++)for(A[f]=[],l=f/(D-1),p=e.getPointAt(l),I[f],o=O[f],s=B[f],h=i*a(l),m=0;m<n;m++)u=m/n*2*Math.PI,d=-h*Math.cos(u),c=h*Math.sin(u),R.copy(p),R.x+=d*o.x+c*s.x,R.y+=d*o.y+c*s.y,R.z+=d*o.z+c*s.z,A[f][m]=(L=R.x,E=R.y,C=R.z,P.vertices.push(new Ti.Vector3(L,E,C))-1);for(f=0;f<t;f++)for(m=0;m<n;m++)_=r?(f+1)%t:f+1,g=(m+1)%n,v=A[f][m],y=A[_][m],b=A[_][g],w=A[f][g],x=new Ti.Vector2(f/t,m/n),T=new Ti.Vector2((f+1)/t,m/n),S=new Ti.Vector2((f+1)/t,(m+1)/n),M=new Ti.Vector2(f/t,(m+1)/n),this.faces.push(new Ti.Face3(v,y,w)),this.faceVertexUvs[0].push([x,T,M]),this.faces.push(new Ti.Face3(y,b,w)),this.faceVertexUvs[0].push([T.clone(),S,M.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},Ti.TubeGeometry.prototype=Object.create(Ti.Geometry.prototype),Ti.TubeGeometry.prototype.constructor=Ti.TubeGeometry,Ti.TubeGeometry.NoTaper=function(e){return 1},Ti.TubeGeometry.SinusoidalTaper=function(e){return Math.sin(Math.PI*e)},Ti.TubeGeometry.FrenetFrames=function(e,t,i){var n,r,a,o,s,l,u,h=new Ti.Vector3,d=[],c=[],p=[],f=new Ti.Vector3,m=new Ti.Matrix4,_=t+1;for(this.tangents=d,this.normals=c,this.binormals=p,l=0;l<_;l++)u=l/(_-1),d[l]=e.getTangentAt(u),d[l].normalize();for(!function(){c[0]=new Ti.Vector3,p[0]=new Ti.Vector3,r=Number.MAX_VALUE,a=Math.abs(d[0].x),o=Math.abs(d[0].y),s=Math.abs(d[0].z),a<=r&&(r=a,h.set(1,0,0));o<=r&&(r=o,h.set(0,1,0));s<=r&&h.set(0,0,1);f.crossVectors(d[0],h).normalize(),c[0].crossVectors(d[0],f),p[0].crossVectors(d[0],c[0])}(),l=1;l<_;l++)c[l]=c[l-1].clone(),p[l]=p[l-1].clone(),f.crossVectors(d[l-1],d[l]),f.length()>Number.EPSILON&&(f.normalize(),n=Math.acos(Ti.Math.clamp(d[l-1].dot(d[l]),-1,1)),c[l].applyMatrix4(m.makeRotationAxis(f,n))),p[l].crossVectors(d[l],c[l]);if(i)for(n=Math.acos(Ti.Math.clamp(c[0].dot(c[_-1]),-1,1)),n/=_-1,0<d[0].dot(f.crossVectors(c[0],c[_-1]))&&(n=-n),l=1;l<_;l++)c[l].applyMatrix4(m.makeRotationAxis(d[l],n*l)),p[l].crossVectors(d[l],c[l])},Ti.PolyhedronGeometry=function(e,t,i,n){Ti.Geometry.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:t,radius:i,detail:n},i=i||1,n=n||0;for(var f=this,r=0,a=e.length;r<a;r+=3)prepare(new Ti.Vector3(e[r],e[r+1],e[r+2]));var o=this.vertices,s=[],l=(r=0,0);for(a=t.length;r<a;r+=3,l++){var u=o[t[r]],h=o[t[r+1]],d=o[t[r+2]];s[l]=new Ti.Face3(u.index,h.index,d.index,[u.clone(),h.clone(),d.clone()],void 0,l)}var c=new Ti.Vector3;for(r=0,a=s.length;r<a;r++)subdivide(s[r],n);for(r=0,a=this.faceVertexUvs[0].length;r<a;r++){var p=this.faceVertexUvs[0][r],m=p[0].x,_=p[1].x,g=p[2].x,v=Math.max(m,_,g),y=Math.min(m,_,g);.9<v&&y<.1&&(m<.2&&(p[0].x+=1),_<.2&&(p[1].x+=1),g<.2&&(p[2].x+=1))}for(r=0,a=this.vertices.length;r<a;r++)this.vertices[r].multiplyScalar(i);function prepare(e){var t=e.normalize().clone();t.index=f.vertices.push(t)-1;var i,n=azimuth(e)/2/Math.PI+.5,r=(i=e,Math.atan2(-i.y,Math.sqrt(i.x*i.x+i.z*i.z))/Math.PI+.5);return t.uv=new Ti.Vector2(n,1-r),t}function make(e,t,i,n){var r=new Ti.Face3(e.index,t.index,i.index,[e.clone(),t.clone(),i.clone()],void 0,n);f.faces.push(r),c.copy(e).add(t).add(i).divideScalar(3);var a=azimuth(c);f.faceVertexUvs[0].push([correctUV(e.uv,e,a),correctUV(t.uv,t,a),correctUV(i.uv,i,a)])}function subdivide(e,t){for(var i=Math.pow(2,t),n=prepare(f.vertices[e.a]),r=prepare(f.vertices[e.b]),a=prepare(f.vertices[e.c]),o=[],s=e.materialIndex,l=0;l<=i;l++){o[l]=[];for(var u=prepare(n.clone().lerp(a,l/i)),h=prepare(r.clone().lerp(a,l/i)),d=i-l,c=0;c<=d;c++)o[l][c]=0===c&&l===i?u:prepare(u.clone().lerp(h,c/d))}for(l=0;l<i;l++)for(c=0;c<2*(i-l)-1;c++){var p=Math.floor(c/2);c%2==0?make(o[l][p+1],o[l+1][p],o[l][p],s):make(o[l][p+1],o[l+1][p+1],o[l+1][p],s)}}function azimuth(e){return Math.atan2(e.z,-e.x)}function correctUV(e,t,i){return i<0&&1===e.x&&(e=new Ti.Vector2(e.x-1,e.y)),0===t.x&&0===t.z&&(e=new Ti.Vector2(i/2/Math.PI+.5,e.y)),e.clone()}this.mergeVertices(),this.computeFaceNormals(),this.boundingSphere=new Ti.Sphere(new Ti.Vector3,i)},Ti.PolyhedronGeometry.prototype=Object.create(Ti.Geometry.prototype),Ti.PolyhedronGeometry.prototype.constructor=Ti.PolyhedronGeometry,Ti.DodecahedronGeometry=function(e,t){var i=(1+Math.sqrt(5))/2,n=1/i,r=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-n,-i,0,-n,i,0,n,-i,0,n,i,-n,-i,0,-n,i,0,n,-i,0,n,i,0,-i,0,-n,i,0,-n,-i,0,n,i,0,n];Ti.PolyhedronGeometry.call(this,r,[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],e,t),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:t}},Ti.DodecahedronGeometry.prototype=Object.create(Ti.PolyhedronGeometry.prototype),Ti.DodecahedronGeometry.prototype.constructor=Ti.DodecahedronGeometry,Ti.IcosahedronGeometry=function(e,t){var i=(1+Math.sqrt(5))/2,n=[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1];Ti.PolyhedronGeometry.call(this,n,[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],e,t),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:t}},Ti.IcosahedronGeometry.prototype=Object.create(Ti.PolyhedronGeometry.prototype),Ti.IcosahedronGeometry.prototype.constructor=Ti.IcosahedronGeometry,Ti.OctahedronGeometry=function(e,t){Ti.PolyhedronGeometry.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],e,t),this.type="OctahedronGeometry",this.parameters={radius:e,detail:t}},Ti.OctahedronGeometry.prototype=Object.create(Ti.PolyhedronGeometry.prototype),Ti.OctahedronGeometry.prototype.constructor=Ti.OctahedronGeometry,Ti.TetrahedronGeometry=function(e,t){Ti.PolyhedronGeometry.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],e,t),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:t}},Ti.TetrahedronGeometry.prototype=Object.create(Ti.PolyhedronGeometry.prototype),Ti.TetrahedronGeometry.prototype.constructor=Ti.TetrahedronGeometry,Ti.ParametricGeometry=function(e,t,i){Ti.Geometry.call(this),this.type="ParametricGeometry",this.parameters={func:e,slices:t,stacks:i};var n,r,a,o,s,l,u,h,d,c,p,f,m=this.vertices,_=this.faces,g=this.faceVertexUvs[0],v=t+1;for(n=0;n<=i;n++)for(o=n/i,r=0;r<=t;r++)a=e(r/t,o),m.push(a);for(n=0;n<i;n++)for(r=0;r<t;r++)l=(s=n*v+r)+1,u=(n+1)*v+r+1,h=(n+1)*v+r,d=new Ti.Vector2(r/t,n/i),c=new Ti.Vector2((r+1)/t,n/i),p=new Ti.Vector2((r+1)/t,(n+1)/i),f=new Ti.Vector2(r/t,(n+1)/i),_.push(new Ti.Face3(s,l,h)),g.push([d,c,f]),_.push(new Ti.Face3(l,u,h)),g.push([c.clone(),p,f.clone()]);this.computeFaceNormals(),this.computeVertexNormals()},Ti.ParametricGeometry.prototype=Object.create(Ti.Geometry.prototype),Ti.ParametricGeometry.prototype.constructor=Ti.ParametricGeometry,Ti.WireframeGeometry=function(e){Ti.BufferGeometry.call(this);var t=[0,0],i={};function sortFunction(e,t){return e-t}var n=["a","b","c"];if(e instanceof Ti.Geometry){for(var r=e.vertices,a=e.faces,o=0,s=new Uint32Array(6*a.length),l=0,u=a.length;l<u;l++)for(var h=a[l],d=0;d<3;d++){t[0]=h[n[d]],t[1]=h[n[(d+1)%3]],t.sort(sortFunction),void 0===i[w=t.toString()]&&(s[2*o]=t[0],s[2*o+1]=t[1],i[w]=!0,o++)}var c=new Float32Array(2*o*3);for(l=0,u=o;l<u;l++)for(d=0;d<2;d++){var p=r[s[2*l+d]];c[(x=6*l+3*d)+0]=p.x,c[x+1]=p.y,c[x+2]=p.z}this.addAttribute("position",new Ti.BufferAttribute(c,3))}else if(e instanceof Ti.BufferGeometry)if(null!==e.index){var f=e.index.array,m=(r=e.attributes.position,e.groups);o=0;0===m.length&&e.addGroup(0,f.length);s=new Uint32Array(2*f.length);for(var _=0,g=m.length;_<g;++_)for(var v=m[_],y=v.start,b=(l=y,y+v.count);l<b;l+=3)for(d=0;d<3;d++){var w;t[0]=f[l+d],t[1]=f[l+(d+1)%3],t.sort(sortFunction),void 0===i[w=t.toString()]&&(s[2*o]=t[0],s[2*o+1]=t[1],i[w]=!0,o++)}for(c=new Float32Array(2*o*3),l=0,u=o;l<u;l++)for(d=0;d<2;d++){var x=6*l+3*d,T=s[2*l+d];c[x+0]=r.getX(T),c[x+1]=r.getY(T),c[x+2]=r.getZ(T)}this.addAttribute("position",new Ti.BufferAttribute(c,3))}else{var S=(o=(r=e.attributes.position.array).length/3)/3;for(c=new Float32Array(2*o*3),l=0,u=S;l<u;l++)for(d=0;d<3;d++){var M=9*l+3*d;c[(x=18*l+6*d)+0]=r[M],c[x+1]=r[1+M],c[x+2]=r[2+M];T=9*l+(d+1)%3*3;c[x+3]=r[T],c[x+4]=r[T+1],c[x+5]=r[T+2]}this.addAttribute("position",new Ti.BufferAttribute(c,3))}},Ti.WireframeGeometry.prototype=Object.create(Ti.BufferGeometry.prototype),Ti.WireframeGeometry.prototype.constructor=Ti.WireframeGeometry,Ti.AxisHelper=function(e){e=e||1;var t=new Float32Array([0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e]),i=new Float32Array([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1]),n=new Ti.BufferGeometry;n.addAttribute("position",new Ti.BufferAttribute(t,3)),n.addAttribute("color",new Ti.BufferAttribute(i,3));var r=new Ti.LineBasicMaterial({vertexColors:Ti.VertexColors});Ti.LineSegments.call(this,n,r)},Ti.AxisHelper.prototype=Object.create(Ti.LineSegments.prototype),Ti.AxisHelper.prototype.constructor=Ti.AxisHelper,Ti.ArrowHelper=function(){var o=new Ti.Geometry;o.vertices.push(new Ti.Vector3(0,0,0),new Ti.Vector3(0,1,0));var s=new Ti.CylinderGeometry(0,.5,1,5,1);return s.translate(0,-.5,0),function(e,t,i,n,r,a){Ti.Object3D.call(this),void 0===n&&(n=16776960),void 0===i&&(i=1),void 0===r&&(r=.2*i),void 0===a&&(a=.2*r),this.position.copy(t),this.line=new Ti.Line(o,new Ti.LineBasicMaterial({color:n})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Ti.Mesh(s,new Ti.MeshBasicMaterial({color:n})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(i,r,a)}}(),Ti.ArrowHelper.prototype=Object.create(Ti.Object3D.prototype),Ti.ArrowHelper.prototype.constructor=Ti.ArrowHelper,Ti.ArrowHelper.prototype.setDirection=(ai=new Ti.Vector3,function(e){.99999<e.y?this.quaternion.set(0,0,0,1):e.y<-.99999?this.quaternion.set(1,0,0,0):(ai.set(e.z,0,-e.x).normalize(),ri=Math.acos(e.y),this.quaternion.setFromAxisAngle(ai,ri))}),Ti.ArrowHelper.prototype.setLength=function(e,t,i){void 0===t&&(t=.2*e),void 0===i&&(i=.2*t),this.line.scale.set(1,Math.max(0,e-t),1),this.line.updateMatrix(),this.cone.scale.set(i,t,i),this.cone.position.y=e,this.cone.updateMatrix()},Ti.ArrowHelper.prototype.setColor=function(e){this.line.material.color.set(e),this.cone.material.color.set(e)},Ti.BoxHelper=function(e){var t=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),n=new Ti.BufferGeometry;n.setIndex(new Ti.BufferAttribute(t,1)),n.addAttribute("position",new Ti.BufferAttribute(i,3)),Ti.LineSegments.call(this,n,new Ti.LineBasicMaterial({color:16776960})),void 0!==e&&this.update(e)},Ti.BoxHelper.prototype=Object.create(Ti.LineSegments.prototype),Ti.BoxHelper.prototype.constructor=Ti.BoxHelper,Ti.BoxHelper.prototype.update=(oi=new Ti.Box3,function(e){if(oi.setFromObject(e),!oi.isEmpty()){var t=oi.min,i=oi.max,n=this.geometry.attributes.position,r=n.array;r[0]=i.x,r[1]=i.y,r[2]=i.z,r[3]=t.x,r[4]=i.y,r[5]=i.z,r[6]=t.x,r[7]=t.y,r[8]=i.z,r[9]=i.x,r[10]=t.y,r[11]=i.z,r[12]=i.x,r[13]=i.y,r[14]=t.z,r[15]=t.x,r[16]=i.y,r[17]=t.z,r[18]=t.x,r[19]=t.y,r[20]=t.z,r[21]=i.x,r[22]=t.y,r[23]=t.z,n.needsUpdate=!0,this.geometry.computeBoundingSphere()}}),Ti.BoundingBoxHelper=function(e,t){var i=void 0!==t?t:8947848;this.object=e,this.box=new Ti.Box3,Ti.Mesh.call(this,new Ti.BoxGeometry(1,1,1),new Ti.MeshBasicMaterial({color:i,wireframe:!0}))},Ti.BoundingBoxHelper.prototype=Object.create(Ti.Mesh.prototype),Ti.BoundingBoxHelper.prototype.constructor=Ti.BoundingBoxHelper,Ti.BoundingBoxHelper.prototype.update=function(){this.box.setFromObject(this.object),this.box.size(this.scale),this.box.center(this.position)},Ti.CameraHelper=function(e){var i=new Ti.Geometry,t=new Ti.LineBasicMaterial({color:16777215,vertexColors:Ti.FaceColors}),n={},r=16755200,a=16711680,o=3355443;function addLine(e,t,i){addPoint(e,i),addPoint(t,i)}function addPoint(e,t){i.vertices.push(new Ti.Vector3),i.colors.push(new Ti.Color(t)),void 0===n[e]&&(n[e]=[]),n[e].push(i.vertices.length-1)}addLine("n1","n2",r),addLine("n2","n4",r),addLine("n4","n3",r),addLine("n3","n1",r),addLine("f1","f2",r),addLine("f2","f4",r),addLine("f4","f3",r),addLine("f3","f1",r),addLine("n1","f1",r),addLine("n2","f2",r),addLine("n3","f3",r),addLine("n4","f4",r),addLine("p","n1",a),addLine("p","n2",a),addLine("p","n3",a),addLine("p","n4",a),addLine("u1","u2",43775),addLine("u2","u3",43775),addLine("u3","u1",43775),addLine("c","t",16777215),addLine("p","c",o),addLine("cn1","cn2",o),addLine("cn3","cn4",o),addLine("cf1","cf2",o),addLine("cf3","cf4",o),Ti.LineSegments.call(this,i,t),this.camera=e,this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=n,this.update()},Ti.CameraHelper.prototype=Object.create(Ti.LineSegments.prototype),Ti.CameraHelper.prototype.constructor=Ti.CameraHelper,Ti.CameraHelper.prototype.update=(ui=new Ti.Vector3,hi=new Ti.Camera,function(){si=this.geometry,li=this.pointMap,hi.projectionMatrix.copy(this.camera.projectionMatrix),setPoint("c",0,0,-1),setPoint("t",0,0,1),setPoint("n1",-1,-1,-1),setPoint("n2",1,-1,-1),setPoint("n3",-1,1,-1),setPoint("n4",1,1,-1),setPoint("f1",-1,-1,1),setPoint("f2",1,-1,1),setPoint("f3",-1,1,1),setPoint("f4",1,1,1),setPoint("u1",.7,1.1,-1),setPoint("u2",-.7,1.1,-1),setPoint("u3",0,2,-1),setPoint("cf1",-1,0,1),setPoint("cf2",1,0,1),setPoint("cf3",0,-1,1),setPoint("cf4",0,1,1),setPoint("cn1",-1,0,-1),setPoint("cn2",1,0,-1),setPoint("cn3",0,-1,-1),setPoint("cn4",0,1,-1),si.verticesNeedUpdate=!0}),Ti.DirectionalLightHelper=function(e,t){Ti.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,t=t||1;var i=new Ti.Geometry;i.vertices.push(new Ti.Vector3(-t,t,0),new Ti.Vector3(t,t,0),new Ti.Vector3(t,-t,0),new Ti.Vector3(-t,-t,0),new Ti.Vector3(-t,t,0));var n=new Ti.LineBasicMaterial({fog:!1});n.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.lightPlane=new Ti.Line(i,n),this.add(this.lightPlane),(i=new Ti.Geometry).vertices.push(new Ti.Vector3,new Ti.Vector3),(n=new Ti.LineBasicMaterial({fog:!1})).color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine=new Ti.Line(i,n),this.add(this.targetLine),this.update()},Ti.DirectionalLightHelper.prototype=Object.create(Ti.Object3D.prototype),Ti.DirectionalLightHelper.prototype.constructor=Ti.DirectionalLightHelper,Ti.DirectionalLightHelper.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},Ti.DirectionalLightHelper.prototype.update=(di=new Ti.Vector3,ci=new Ti.Vector3,pi=new Ti.Vector3,function(){di.setFromMatrixPosition(this.light.matrixWorld),ci.setFromMatrixPosition(this.light.target.matrixWorld),pi.subVectors(ci,di),this.lightPlane.lookAt(pi),this.lightPlane.material.color.copy(this.light.color).multiplyScalar(this.light.intensity),this.targetLine.geometry.vertices[1].copy(pi),this.targetLine.geometry.verticesNeedUpdate=!0,this.targetLine.material.color.copy(this.lightPlane.material.color)}),Ti.EdgesHelper=function(e,t,i){var n=void 0!==t?t:16777215;Ti.LineSegments.call(this,new Ti.EdgesGeometry(e.geometry,i),new Ti.LineBasicMaterial({color:n})),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1},Ti.EdgesHelper.prototype=Object.create(Ti.LineSegments.prototype),Ti.EdgesHelper.prototype.constructor=Ti.EdgesHelper,Ti.FaceNormalsHelper=function(e,t,i,n){this.object=e,this.size=void 0!==t?t:1;var r=void 0!==i?i:16776960,a=void 0!==n?n:1,o=0,s=this.object.geometry;s instanceof Ti.Geometry&&(o=s.faces.length);var l=new Ti.BufferGeometry,u=new Ti.Float32Attribute(2*o*3,3);l.addAttribute("position",u),Ti.LineSegments.call(this,l,new Ti.LineBasicMaterial({color:r,linewidth:a})),this.matrixAutoUpdate=!1,this.update()},Ti.FaceNormalsHelper.prototype=Object.create(Ti.LineSegments.prototype),Ti.FaceNormalsHelper.prototype.constructor=Ti.FaceNormalsHelper,Ti.FaceNormalsHelper.prototype.update=(fi=new Ti.Vector3,mi=new Ti.Vector3,_i=new Ti.Matrix3,function(){this.object.updateMatrixWorld(!0),_i.getNormalMatrix(this.object.matrixWorld);for(var e=this.object.matrixWorld,t=this.geometry.attributes.position,i=this.object.geometry,n=i.vertices,r=i.faces,a=0,o=0,s=r.length;o<s;o++){var l=r[o],u=l.normal;fi.copy(n[l.a]).add(n[l.b]).add(n[l.c]).divideScalar(3).applyMatrix4(e),mi.copy(u).applyMatrix3(_i).normalize().multiplyScalar(this.size).add(fi),t.setXYZ(a,fi.x,fi.y,fi.z),a+=1,t.setXYZ(a,mi.x,mi.y,mi.z),a+=1}return t.needsUpdate=!0,this}),Ti.GridHelper=function(e,t){var i=new Ti.Geometry,n=new Ti.LineBasicMaterial({vertexColors:Ti.VertexColors});this.color1=new Ti.Color(4473924),this.color2=new Ti.Color(8947848);for(var r=-e;r<=e;r+=t){i.vertices.push(new Ti.Vector3(-e,0,r),new Ti.Vector3(e,0,r),new Ti.Vector3(r,0,-e),new Ti.Vector3(r,0,e));var a=0===r?this.color1:this.color2;i.colors.push(a,a,a,a)}Ti.LineSegments.call(this,i,n)},Ti.GridHelper.prototype=Object.create(Ti.LineSegments.prototype),Ti.GridHelper.prototype.constructor=Ti.GridHelper,Ti.GridHelper.prototype.setColors=function(e,t){this.color1.set(e),this.color2.set(t),this.geometry.colorsNeedUpdate=!0},Ti.HemisphereLightHelper=function(e,t){Ti.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.colors=[new Ti.Color,new Ti.Color];var i=new Ti.SphereGeometry(t,4,2);i.rotateX(-Math.PI/2);for(var n=0;n<8;n++)i.faces[n].color=this.colors[n<4?0:1];var r=new Ti.MeshBasicMaterial({vertexColors:Ti.FaceColors,wireframe:!0});this.lightSphere=new Ti.Mesh(i,r),this.add(this.lightSphere),this.update()},Ti.HemisphereLightHelper.prototype=Object.create(Ti.Object3D.prototype),Ti.HemisphereLightHelper.prototype.constructor=Ti.HemisphereLightHelper,Ti.HemisphereLightHelper.prototype.dispose=function(){this.lightSphere.geometry.dispose(),this.lightSphere.material.dispose()},Ti.HemisphereLightHelper.prototype.update=(gi=new Ti.Vector3,function(){this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity),this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity),this.lightSphere.lookAt(gi.setFromMatrixPosition(this.light.matrixWorld).negate()),this.lightSphere.geometry.colorsNeedUpdate=!0}),Ti.PointLightHelper=function(e,t){this.light=e,this.light.updateMatrixWorld();var i=new Ti.SphereGeometry(t,4,2),n=new Ti.MeshBasicMaterial({wireframe:!0,fog:!1});n.color.copy(this.light.color).multiplyScalar(this.light.intensity),Ti.Mesh.call(this,i,n),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1},Ti.PointLightHelper.prototype=Object.create(Ti.Mesh.prototype),Ti.PointLightHelper.prototype.constructor=Ti.PointLightHelper,Ti.PointLightHelper.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Ti.PointLightHelper.prototype.update=function(){this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)},Ti.SkeletonHelper=function(e){this.bones=this.getBoneList(e);for(var t=new Ti.Geometry,i=0;i<this.bones.length;i++){this.bones[i].parent instanceof Ti.Bone&&(t.vertices.push(new Ti.Vector3),t.vertices.push(new Ti.Vector3),t.colors.push(new Ti.Color(0,0,1)),t.colors.push(new Ti.Color(0,1,0)))}t.dynamic=!0;var n=new Ti.LineBasicMaterial({vertexColors:Ti.VertexColors,depthTest:!1,depthWrite:!1,transparent:!0});Ti.LineSegments.call(this,t,n),this.root=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.update()},Ti.SkeletonHelper.prototype=Object.create(Ti.LineSegments.prototype),Ti.SkeletonHelper.prototype.constructor=Ti.SkeletonHelper,Ti.SkeletonHelper.prototype.getBoneList=function(e){var t=[];e instanceof Ti.Bone&&t.push(e);for(var i=0;i<e.children.length;i++)t.push.apply(t,this.getBoneList(e.children[i]));return t},Ti.SkeletonHelper.prototype.update=function(){for(var e=this.geometry,t=(new Ti.Matrix4).getInverse(this.root.matrixWorld),i=new Ti.Matrix4,n=0,r=0;r<this.bones.length;r++){var a=this.bones[r];a.parent instanceof Ti.Bone&&(i.multiplyMatrices(t,a.matrixWorld),e.vertices[n].setFromMatrixPosition(i),i.multiplyMatrices(t,a.parent.matrixWorld),e.vertices[n+1].setFromMatrixPosition(i),n+=2)}e.verticesNeedUpdate=!0,e.computeBoundingSphere()},Ti.SpotLightHelper=function(e){Ti.Object3D.call(this),this.light=e,this.light.updateMatrixWorld(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;var t=new Ti.CylinderGeometry(0,1,1,8,1,!0);t.translate(0,-.5,0),t.rotateX(-Math.PI/2);var i=new Ti.MeshBasicMaterial({wireframe:!0,fog:!1});this.cone=new Ti.Mesh(t,i),this.add(this.cone),this.update()},Ti.SpotLightHelper.prototype=Object.create(Ti.Object3D.prototype),Ti.SpotLightHelper.prototype.constructor=Ti.SpotLightHelper,Ti.SpotLightHelper.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Ti.SpotLightHelper.prototype.update=(vi=new Ti.Vector3,yi=new Ti.Vector3,function(){var e=this.light.distance?this.light.distance:1e4,t=e*Math.tan(this.light.angle);this.cone.scale.set(t,t,e),vi.setFromMatrixPosition(this.light.matrixWorld),yi.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(yi.sub(vi)),this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity)}),Ti.VertexNormalsHelper=function(e,t,i,n){this.object=e,this.size=void 0!==t?t:1;var r=void 0!==i?i:16711680,a=void 0!==n?n:1,o=0,s=this.object.geometry;s instanceof Ti.Geometry?o=3*s.faces.length:s instanceof Ti.BufferGeometry&&(o=s.attributes.normal.count);var l=new Ti.BufferGeometry,u=new Ti.Float32Attribute(2*o*3,3);l.addAttribute("position",u),Ti.LineSegments.call(this,l,new Ti.LineBasicMaterial({color:r,linewidth:a})),this.matrixAutoUpdate=!1,this.update()},Ti.VertexNormalsHelper.prototype=Object.create(Ti.LineSegments.prototype),Ti.VertexNormalsHelper.prototype.constructor=Ti.VertexNormalsHelper,Ti.VertexNormalsHelper.prototype.update=(bi=new Ti.Vector3,wi=new Ti.Vector3,xi=new Ti.Matrix3,function(){var e=["a","b","c"];this.object.updateMatrixWorld(!0),xi.getNormalMatrix(this.object.matrixWorld);var t=this.object.matrixWorld,i=this.geometry.attributes.position,n=this.object.geometry;if(n instanceof Ti.Geometry)for(var r=n.vertices,a=n.faces,o=0,s=0,l=a.length;s<l;s++)for(var u=a[s],h=0,d=u.vertexNormals.length;h<d;h++){var c=r[u[e[h]]],p=u.vertexNormals[h];bi.copy(c).applyMatrix4(t),wi.copy(p).applyMatrix3(xi).normalize().multiplyScalar(this.size).add(bi),i.setXYZ(o,bi.x,bi.y,bi.z),o+=1,i.setXYZ(o,wi.x,wi.y,wi.z),o+=1}else if(n instanceof Ti.BufferGeometry){var f=n.attributes.position,m=n.attributes.normal;for(h=o=0,d=f.count;h<d;h++)bi.set(f.getX(h),f.getY(h),f.getZ(h)).applyMatrix4(t),wi.set(m.getX(h),m.getY(h),m.getZ(h)),wi.applyMatrix3(xi).normalize().multiplyScalar(this.size).add(bi),i.setXYZ(o,bi.x,bi.y,bi.z),o+=1,i.setXYZ(o,wi.x,wi.y,wi.z),o+=1}return i.needsUpdate=!0,this}),Ti.WireframeHelper=function(e,t){var i=void 0!==t?t:16777215;Ti.LineSegments.call(this,new Ti.WireframeGeometry(e.geometry),new Ti.LineBasicMaterial({color:i})),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1},Ti.WireframeHelper.prototype=Object.create(Ti.LineSegments.prototype),Ti.WireframeHelper.prototype.constructor=Ti.WireframeHelper,Ti.ImmediateRenderObject=function(e){Ti.Object3D.call(this),this.material=e,this.render=function(e){}},Ti.ImmediateRenderObject.prototype=Object.create(Ti.Object3D.prototype),Ti.ImmediateRenderObject.prototype.constructor=Ti.ImmediateRenderObject,Ti.MorphBlendMesh=function(e,t){Ti.Mesh.call(this,e,t),this.animationsMap={},this.animationsList=[];var i=this.geometry.morphTargets.length,n=i-1,r=+i;this.createAnimation("__default",0,n,r),this.setAnimationWeight("__default",1)},Ti.MorphBlendMesh.prototype=Object.create(Ti.Mesh.prototype),Ti.MorphBlendMesh.prototype.constructor=Ti.MorphBlendMesh,Ti.MorphBlendMesh.prototype.createAnimation=function(e,t,i,n){var r={start:t,end:i,length:i-t+1,fps:n,duration:(i-t)/n,lastFrame:0,currentFrame:0,active:!1,time:0,direction:1,weight:1,directionBackwards:!1,mirroredLoop:!1};this.animationsMap[e]=r,this.animationsList.push(r)},Ti.MorphBlendMesh.prototype.autoCreateAnimations=function(e){for(var t,i=/([a-z]+)_?(\d+)/i,n={},r=this.geometry,a=0,o=r.morphTargets.length;a<o;a++){var s=r.morphTargets[a].name.match(i);if(s&&1<s.length)n[l=s[1]]||(n[l]={start:1/0,end:-1/0}),a<(u=n[l]).start&&(u.start=a),a>u.end&&(u.end=a),t=t||l}for(var l in n){var u=n[l];this.createAnimation(l,u.start,u.end,e)}this.firstAnimation=t},Ti.MorphBlendMesh.prototype.setAnimationDirectionForward=function(e){var t=this.animationsMap[e];t&&(t.direction=1,t.directionBackwards=!1)},Ti.MorphBlendMesh.prototype.setAnimationDirectionBackward=function(e){var t=this.animationsMap[e];t&&(t.direction=-1,t.directionBackwards=!0)},Ti.MorphBlendMesh.prototype.setAnimationFPS=function(e,t){var i=this.animationsMap[e];i&&(i.fps=t,i.duration=(i.end-i.start)/i.fps)},Ti.MorphBlendMesh.prototype.setAnimationDuration=function(e,t){var i=this.animationsMap[e];i&&(i.duration=t,i.fps=(i.end-i.start)/i.duration)},Ti.MorphBlendMesh.prototype.setAnimationWeight=function(e,t){var i=this.animationsMap[e];i&&(i.weight=t)},Ti.MorphBlendMesh.prototype.setAnimationTime=function(e,t){var i=this.animationsMap[e];i&&(i.time=t)},Ti.MorphBlendMesh.prototype.getAnimationTime=function(e){var t=0,i=this.animationsMap[e];return i&&(t=i.time),t},Ti.MorphBlendMesh.prototype.getAnimationDuration=function(e){var t=-1,i=this.animationsMap[e];return i&&(t=i.duration),t},Ti.MorphBlendMesh.prototype.playAnimation=function(e){var t=this.animationsMap[e];t&&(t.time=0,t.active=!0)},Ti.MorphBlendMesh.prototype.stopAnimation=function(e){var t=this.animationsMap[e];t&&(t.active=!1)},Ti.MorphBlendMesh.prototype.update=function(e){for(var t=0,i=this.animationsList.length;t<i;t++){var n=this.animationsList[t];if(n.active){var r=n.duration/n.length;n.time+=n.direction*e,n.mirroredLoop?(n.time>n.duration||n.time<0)&&(n.direction*=-1,n.time>n.duration&&(n.time=n.duration,n.directionBackwards=!0),n.time<0&&(n.time=0,n.directionBackwards=!1)):(n.time=n.time%n.duration,n.time<0&&(n.time+=n.duration));var a=n.start+Ti.Math.clamp(Math.floor(n.time/r),0,n.length-1),o=n.weight;a!==n.currentFrame&&(this.morphTargetInfluences[n.lastFrame]=0,this.morphTargetInfluences[n.currentFrame]=+o,this.morphTargetInfluences[a]=0,n.lastFrame=n.currentFrame,n.currentFrame=a);var s=n.time%r/r;n.directionBackwards&&(s=1-s),n.currentFrame!==n.lastFrame?(this.morphTargetInfluences[n.currentFrame]=s*o,this.morphTargetInfluences[n.lastFrame]=(1-s)*o):this.morphTargetInfluences[n.currentFrame]=o}}}},function(e,t,a){"use strict";var i;void 0===(i=function(e,t,i){function tad(){this.disabled=!1,this.preload=!0,this.currentSound=null,this.sounds={},this.groups={},this.globalVolume=1,this.isMuted=!1,window.onfocus=this._onFocus.bind(this),this.onMuteToggle=new n}var n=a(3),r=a(529);tad.prototype._onFocus=function(){this.isMuted?this.mute():this.unmute()},tad.prototype.addSound=function(e,t,i){if(!this.disabled&&!this.sounds[t]){i=i||{};var n=new Howl({src:[e+".mp3",e+".ogg"],autoplay:i.autoplay||!1,loop:i.loop||!1,volume:i.volume||1});n.realVolume=i.volume||1,this.sounds[t]=n}},tad.prototype.addSounds=function(e,t){for(var i=0;i<e.length;i++){var n=e[i];this.addSound(t+n,n)}},tad.prototype.addGroup=function(e,t){if(!this.disabled&&!this.groups[t]){var i={index:0,type:0,sounds:e};this.groups[t]=i}},tad.prototype.getSoundAtId=function(e){return this.sounds[e]},tad.prototype.getSound=function(e){return this.currentSound},tad.prototype.play=function(e,t){if(!this.disabled&&this.sounds[e])return t&&this.sounds[e].volume(t),this.sounds[e].play(),this.currentSound=this.sounds[e],this.currentSound;this.sounds[e]},tad.prototype.fadeTo=function(e,t,i){if(void 0===i&&(i=2.5),"undefined"==typeof callback&&(callback=null),void 0!==t){var n=this.sounds[e];n&&TweenLite.to(n,i,{_volume:t,onUpdate:this.actuallyChangeVolume.bind(this),onComplete:this.stopAndReset.bind(this),onCompleteParams:[e],onUpdateParams:["{self}",e]})}},tad.prototype.actuallyChangeVolume=function(e,t){this.setVolume(t,e.target._volume)},tad.prototype.stopAndReset=function(e){this.stop(e),this.setVolume(e,1),this.stop(e)},tad.prototype.isPlaying=function(e){if(!this.disabled)return!this.sounds[e]._audioNode[0].paused},tad.prototype.playGroup=function(e){if(!this.disabled&&this.groups[e]){var t=this.groups[e],i=Math.random()*t.sounds.length|0;this.sounds[t.sounds[i]].play(),this.currentSound=this.sounds[t.sounds[i]]}},tad.prototype.setVolume=function(e,t){if(!this.disabled){var i=this.sounds[e];i.realVolume=t,i.volume(t*this.globalVolume)}},tad.prototype.stop=function(e){!this.disabled&&this.sounds[e]&&this.sounds[e].stop()},tad.prototype.stopAll=function(){if(!this.disabled)for(var e in this.sounds)this.sounds[e].stop()},tad.prototype.setPlaybackSpeed=function(e,t){if(!this.disabled){var i=this.sounds[e];i._playbackSpeed=t;var n="music"==e?0:1;i._webAudio&&Howler._howls[n]._audioNode[0]&&(Howler._howls[n]._audioNode[0].bufferSource.playbackRate.value=t)}},tad.prototype.getPlaybackSpeed=function(e){if(!this.disabled)return this.sounds[e]._playbackSpeed||1},tad.prototype.setGlobalVolume=function(e){for(var t in this.globalVolume=e,this.sounds){var i=this.sounds[t];i.volume(i.realVolume*e)}},tad.prototype.mute=function(){this.isMuted=!0,Howler.mute(!0),this.onMuteToggle.dispatch(!0)},tad.prototype.unmute=function(){this.isMuted=!1,Howler.mute(!1),this.onMuteToggle.dispatch(!1)},tad.prototype.check=function(){this.lastSeen=Date.now();!function loop(){lastSeen=Date.now(),setTimeout(loop,50)}(),document.getElementById("music").addEventListener("timeupdate",function(){100<Date.now()-t.lastSeen&&this.pause()},!1)},tad.sfx=new tad,tad.music=new tad,tad.sfx.disabled=!Howler.usingWebAudio,r.onHide.add(function(){Howler.mute(!0)},Howler),r.onShow.add(function(){tad.sfx.isMuted||Howler.mute(!1)},Howler),i.exports=tad}.call(t,a,t,e))||(e.exports=i)},function(e,t,i){"use strict";var n;void 0===(n=function(e,t,i){var n={};n.TWO_PI=2*Math.PI,n.random=function(e,t){return t=void 0===t?1:t,(e=e||0)+Math.random()*(t-e)},n.randomInt=function(e,t){return e+Math.random()*(t-e)|0},n.randomSeed=function(e,t,i){return min=e,max=t,i=(9301*(i=i||1)+49297)%233280,min+i/233280*(max-min)},n.randomChance=function(e,t){return n.randomSeed(0,1,t)>e},n.cap=function(e,t,i){return e<t?t:i<e?i:e},n.sign=function(e){return e<0?-1:0<e?1:0},n.randomSign=function(e){return Math.random()<(e||.5)?-1:1},n.randomChoice=function(e,t){return Math.random()<.5?e:t},n.map=function(e,t,i,n,r){return(e-t)/(i-t)*(r-n)+n},n.smallestAngle=function(e,t){(e%=2*Math.PI)<0&&(e+=2*Math.PI);var i=t-e,n=t+2*Math.PI-e,r=t-2*Math.PI-e,a=Math.abs(i),o=Math.abs(n),s=Math.abs(r),l=i;return o<a&&o<s?l=n:s<a&&s<o&&(l=r),l},n.wrap=function(e,t,i){var n=i-t;return e-=t,(e%=n)<0&&(e+=n),e+=t},n.floor=function(e,t){return(e/t|0)*t},n.round=function(e,t){return Math.round(e/t)*t},n.ceil=function(e,t){return Math.ceil(e/t)*t},i.exports=n}.call(t,i,t,e))||(e.exports=n)},function(e,t,i){"use strict";var n;void 0===(n=function(e,t,i){function lcd(){this.arora=!1,this.chrome=!1,this.epiphany=!1,this.firefox=!1,this.mobileSafari=!1,this.ie=!1,this.ieVersion=0,this.trident=!1,this.tridentVersion=0,this.midori=!1,this.opera=!1,this.safari=!1,this.silk=!1,this.webApp=!1,this.cocoonJS=!1,this.android=!1,this.chromeOS=!1,this.iOS=!1,this.linux=!1,this.macOS=!1,this.windows=!1,this.desktop=!1,this.pixelRatio=0,this.iPhone=!1,this.iPhone4=!1,this.iPad=!1,this.blob=!1,this.canvas=!1,this.localStorage=!1,this.file=!1,this.fileSystem=!1,this.webGL=!1,this.worker=!1,this.audioData=!1,this.webAudio=!1,this.ogg=!1,this.opus=!1,this.mp3=!1,this.wav=!1,this.m4a=!1,this.webm=!1;var e=navigator.userAgent;this._checkBrowser(e),this._checkOS(e),this._checkDevice(e),this._checkAudio(),this._checkFeatures(),this._checkIsMobile(),this._checkIsTouch()}lcd.prototype._checkBrowser=function(e){/Arora/.test(e)?this.arora=!0:/Opera|OPR|op/.test(e)?(this.opera=!0,this.chrome=!1):/Chrome/.test(e)?this.chrome=!0:/Epiphany/.test(e)?this.epiphany=!0:/Firefox/.test(e)?this.firefox=!0:/Mobile Safari/.test(e)?this.mobileSafari=!0:/MSIE (\d+\.\d+);/.test(e)||navigator.userAgent.match(/Trident.*rv[ :]*11\./)?(this.ie=!0,this.ieVersion=parseInt(RegExp.$1,10)):/Midori/.test(e)?this.midori=!0:/Safari/.test(e)?this.safari=!0:/\bSilk\b/.test(e)?this.silk=!0:/Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(e)&&(this.ie=!0,this.trident=!0,this.tridentVersion=parseInt(RegExp.$1,10),this.ieVersion=parseInt(RegExp.$3,10)),navigator.standalone&&(this.webApp=!0),navigator.isCocoonJS&&(this.cocoonJS=!0)},lcd.prototype._checkOS=function(e){/Android/.test(e)?this.android=!0:/CrOS/.test(e)?this.chromeOS=!0:/iP[ao]d|iPhone/i.test(e)?(this.iOS=!0,this.iOS_version=parseFloat(String((/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||!1):/Linux/.test(e)?this.linux=!0:/Mac OS/.test(e)?this.macOS=!0:/Windows/.test(e)&&(this.windows=!0),(this.windows||this.macOS||this.linux||this.chromeOS)&&(this.desktop=!0)},lcd.prototype._checkDevice=function(){this.pixelRatio=window.devicePixelRatio||1,this.iPhone=-1!==navigator.userAgent.toLowerCase().indexOf("iphone"),this.iPhone4=2===this.pixelRatio&&this.iPhone,this.iPhone4&&(this.iPhone4=480==window.screen.height&&320==window.screen.width||480==window.screen.width&&320==window.screen.height),this.iPad=-1!==navigator.userAgent.toLowerCase().indexOf("ipad")},lcd.prototype._checkFeatures=function(){void 0!==window.Blob&&(this.blob=!0),this.canvas=!!window.CanvasRenderingContext2D;try{this.localStorage=!!localStorage.getItem}catch(e){this.localStorage=!1}this.file=!!(window.File&&window.FileReader&&window.FileList&&window.Blob),this.fileSystem=!!window.requestFileSystem,this.webGL=function(){try{var e=document.createElement("canvas");return!!window.WebGLRenderingContext&&(e.getContext("webgl")||e.getContext("experimental-webgl"))}catch(e){return!1}}(),(this.android||this.ie)&&(this.webGL=!1),this.worker=!!window.Worker,("ontouchstart"in document.documentElement||window.navigator.msPointerEnabled)&&(this.touch=!0)},lcd.prototype._checkAudio=function(){this.audioData=!!window.Audio,this.webaudio=!(!window.AudioContext&&!window.webkitAudioContext);var e=document.createElement("audio");try{!!e.canPlayType&&(e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,"")&&(this.ogg=!0),e.canPlayType("audio/mpeg;").replace(/^no$/,"")&&(this.mp3=!0),e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,"")&&(this.wav=!0),(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;").replace(/^no$/,""))&&(this.m4a=!0))}catch(e){}},lcd.prototype._checkIsMobile=function(){var e,t=!1;e=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0,4)))&&(t=!0),this.isMobile=t,this.mobile=t},lcd.prototype._checkIsTouch=function(){this.isTouch="ontouchstart"in window||0<navigator.MaxTouchPoints||0<navigator.msMaxTouchPoints},lcd.prototype.getInfo=function(){var e="DEVICE OUTPUT\n\n";return e+="---\n",e+="Browser Info :: \n",e+="Arora : "+this.arora+"\n",e+="Chrome : "+this.chrome+"\n",e+="Epiphany : "+this.epiphany+"\n",e+="Firefox : "+this.firefox+"\n",e+="Mobile Safari : "+this.mobileSafari+"\n",e+="IE : "+this.ie,this.ie?e+=" (Version "+this.ieVersion+")\n":e+="\n",e+="Midori : "+this.midori+"\n",e+="Opera : "+this.opera+"\n",e+="Safari : "+this.safari+"\n",e+="Web App : "+this.webApp+"\n",e+="CocoonJS : "+this.cocoonJS+"\n",e+="Android : "+this.android+"\n",e+="---\n",e+="Operating System :: \n",e+="Chrome OS : "+this.chromeOS+"\n",e+="iOS : "+this.iOS+"\n",e+="Linux : "+this.linux+"\n",e+="Mac OS : "+this.macOS+"\n",e+="Windows : "+this.windows+"\n",e+="Desktop : "+this.desktop+"\n",e+="---\n",e+="Device Type : \n",e+="Pixel Ratio : "+this.pixelRatio+"\n",e+="iPhone : "+this.iPhone+"\n",e+="iPhone 4 : "+this.iPhone4+"\n",e+="iPad : "+this.iPad+"\n",e+="---\n",e+="Features :: \n",e+="Blob : "+this.blob+"\n",e+="Canvas : "+this.canvas+"\n",e+="LocalStorage : "+this.localStorage+"\n",e+="File : "+this.file+"\n",e+="File System : "+this.fileSystem+"\n",e+="WebGL : "+this.webGL+"\n",e+="Workers : "+this.worker+"\n",e+="---\n",e+="Audio :: \n",e+="AudioData : "+this.audioData+"\n",e+="WebAudio : "+this.webAudio+"\n",e+="Supports .ogg : "+this.ogg+"\n",e+="Supports Opus : "+this.opus+"\n",e+="Supports .mp3 : "+this.mp3+"\n",e+="Supports .wav : "+this.wav+"\n",e+="Supports .m4a : "+this.m4a+"\n",e+="Supports .webm : "+this.webm},Object.defineProperty(lcd.prototype,"ie9",{get:function(){return this.ie&&9===this.ieVersion}}),Object.defineProperty(lcd.prototype,"useSM2",{get:function(){return this.ie||this.opera}}),lcd.instance=new lcd,i.exports=lcd}.call(t,i,t,e))||(e.exports=n)},function(e,t,i){"use strict";var n=i(86)("wks"),r=i(56),a=i(7).Symbol,o="function"==typeof a;(e.exports=function(e){return n[e]||(n[e]=o&&a[e]||(o?a:r)("Symbol."+e))}).store=n},function(e,t,i){"use strict";t.__esModule=!0,t.EventKeys=void 0;t.EventKeys={APP_LOADED:"onAppLoaded",APP_STARTED:"onAppStarted",APP_EXITED:"onAppExited",APP_INITIAL_LANGUAGE_SELECTED:"onInitialLanguageSelected",APP_LANGUAGE_SELECTED:"onLanguageSelected",APP_MAIN_MENU_LOADED:"onMainMenuLoaded",APP_TIME_SPENT_INTERVAL:"onAppTimeSpentInterval",MENU_TOURNAMENT_SELECTED:"onTournamentPressed",MENU_QUICK_MATCH_SELECTED:"onQuickMatchPressed",MENU_UNLOCKABLES_SELECTED:"onUnlockablesPressed",MENU_LEADERBOARD_SELECTED:"onLeaderboardPressed",MENU_CHALLENGES_SELECTED:"onChallengesPressed",TOURNAMENT_COUNTRY_SELECTED:"onCountrySelected",TOURNAMENT_PLAYER_SELECTED:"onPlayerSelected",LEADERBOARD_TOURNAMENT_SELECTED:"onTournamentTabPressed",LEADERBOARD_TODAY_SELECTED:"onTodayTabPressed",LEADERBOARD_THIS_WEEK_SELECTED:"onThisWeekTabPressed",LEADERBOARD_HALL_OF_FAME_SELECTED:"onHallOfFameTabPressed",UNLOCKABLES_CHARACTERS_SCREEN_SELECTED:"onCharactersScreenSelected",UNLOCKABLES_STADIUMS_SCREEN_SELECTED:"onStadiumsScreenSelected",UNLOCKABLES_BALLS_SCREEN_SELECTED:"onBallsScreenSelected",UNLOCKABLES_STATS_SCREEN_SELECTED:"onStatsUpgradeScreenSelected",UNLOCKABLES_CHARACTER_UNLOCKED:"onCharacterUnlocked",UNLOCKABLES_STADIUM_UNLOCKED:"onStadiumUnlocked",UNLOCKABLES_BALL_UNLOCKED:"onBallUnlocked",UNLOCKABLES_CHARACTER_SELECTED_FOR_UPGRADE:"onCharacterSelectedForUpgrade",UNLOCKABLES_STAT_UPGRADED:"onStatUpgraded",UNLOCKABLES_STADIUM_SELECTED:"onStadiumSelected",UNLOCKABLES_BALL_SELECTED:"onBallSelected",MENU_HELP_SELECTED:"onHelpPressed",TUTORIAL_STARTED:"onTutorialStarted",TUTORIAL_STEP_ADVANCED:"onTutorialStepAdvanced",TUTORIAL_ENED:"onTutorialEnded",TUTORIAL_SKIPPED:"onTutorialSkipped",GAME_TOURNAMENT_WON:"onTournamentWon",GAME_TOURNAMENT_EXIT:"onTournamentExit",GAME_MATCH_STARTED:"onMatchStarted",GAME_MATCH_EXITED:"onMatchExited",GAME_MATCH_ENDED:"onMatchEnded",GAME_MATCH_WON:"onMatchWon",GAME_MATCH_LOST:"onMatchLost",GAME_GOAL_SCORED:"onGoalScored",GAME_ITEM_PICKED_UP:"onItemPickedUp",GAME_ACTION_TRIGGERED_ON_OPPONENT:"onActionTriggeredOnOpponent",GAME_BALL_PASSED:"onBallPassed",GAME_BALL_SNATCHED:"onBallSnatched",GAME_SHOT_MISSED:"onShotMissed",GAME_SHOT_PERFECTED:"onShotPerfected",CHALLENGE_COMPLETED:"onChallengeCompleted"}},function(e,t,i){"use strict";i(0);var n,a=(n=i(11))&&n.__esModule?n:{default:n};e.exports={h1:function(e,t,i,n){var r={fill:t||"#493008",fontSize:i||36,fontFamily:window.MAIN_FONT,stroke:!1,strokeThickness:8,lineJoin:"round"};return n&&(r.dropShadow=!0,r.dropShadowAlpha=.5,r.dropShadowAngle=Math.PI/2,r.dropShadowDistance=5),new a.default(e,r)},h2:function(e){return new a.default(e,{fill:"white",fontSize:30,fontFamily:window.MAIN_FONT,stroke:!0,strokeThickness:8,lineJoin:"round"})},h3:function(e){return new a.default(e,{fill:"white",align:"center",fontSize:26,fontFamily:window.MAIN_FONT,stroke:!0,strokeThickness:8,lineJoin:"round"})}}},function(e,t,r){"use strict";var i;void 0===(i=function(e,t,i){function kdd(e,t,i,n,r){o.call(this),this.isOnlyIcon=!0,this.scaleVal=void 0!==r?r:null,this.pressSound="button_press",this.rollSound="button_roll",e&&(this.background=new a.Sprite.fromFrame(e),this.background.anchor.set(.5),this.addChild(this.background),this.isOnlyIcon=!1),this.normalTexture=e,this.downTexture=t||this.normalTexture,this.hoverTexture=i||this.normalTexture,n&&(this.icon=new a.Sprite.fromFrame(n),this.icon.anchor.set(.5),this.addChild(this.icon)),this.onDown.add(this._onDown,this),this.onUp.add(this._onUp,this),this.onHover.add(this._onHover,this),this.onOut.add(this._onMouseOut,this),this.onEnabled.add(this._onEnabled,this),this.onDisabled.add(this._onDisabled,this),this._soundDirty=!0}var a=r(0),o=r(528),n=r(13);(kdd.prototype=Object.create(o.prototype))._onDown=function(){this.isOnlyIcon||(this.background.texture=a.Texture.fromFrame(this.downTexture))},kdd.prototype._onHover=function(){this.isOnlyIcon||(this._soundDirty&&(this._soundDirty=!1,n.sfx.play(this.rollSound)),this.background.texture=a.Texture.fromFrame(this.hoverTexture),null!==this.scaleVal&&TweenLite.to(this.scale,.3,{x:this.scaleVal,y:this.scaleVal,ease:Linear.None}))},kdd.prototype._onMouseOut=function(){this.isOnlyIcon||(this._soundDirty||TweenLite.delayedCall(.4,function(){this._soundDirty=!0}.bind(this)),this.background.texture=a.Texture.fromFrame(this.normalTexture),null!==this.scaleVal&&TweenLite.to(this.scale,.3,{x:this.defaultScale,y:this.defaultScale,ease:Linear.None}))},kdd.prototype._onUp=function(){this.isOnlyIcon||(this.pressSound&&n.sfx.play(this.pressSound),this.background.texture=a.Texture.fromFrame(this.normalTexture))},kdd.prototype._onEnabled=function(){o.prototype.enable.call(this)},kdd.prototype._onDisabled=function(){o.prototype.disable.call(this)},kdd.prototype.setIcon=function(e){this.icon.texture=a.Texture.fromFrame(e)},kdd.prototype.setBackground=function(e,t,i){this.background?this.background.texture=a.Texture.from(e):(this.background=new a.Sprite.fromFrame(e),this.background.anchor.set(.5),this.addChild(this.background),this.isOnlyIcon=!1),this.normalTexture=e,this.downTexture=t||this.normalTexture,this.hoverTexture=i||this.normalTexture},kdd.prototype.setSize=function(e){this.defaultScale=e,this.overScale=1.1*e},kdd.prototype.fromFrames=function(e,t,i,n){return new kdd(a.Texture.fromFrame(e),a.Texture.fromFrame(t),a.Texture.fromFrame(i),n?a.Texture.fromFrame(n):null)},i.exports=kdd}.call(t,r,t,e))||(e.exports=i)},function(e,t,i){"use strict";var n=i(44),r=Math.min;e.exports=function(e){return 0<e?r(n(e),9007199254740991):0}},function(e,t,n){"use strict";var i;void 0===(i=function(e,t,i){var l=n(0),f=n(12),u={},m={},h=new f.Texture;u.getMesh=function(e,t,i,n){var r=new f.MeshBasicMaterial({map:h});r.transparent=!0,r.alphaTest=.25,r.side=f.DoubleSide;var a=new f.PlaneGeometry(200,200),o=new f.Mesh(a,r);if(e){var s=l.Texture.from(e);u.setUvs(o,s,t,i,n)}return o},u.setUvs=function(e,t,i,n,r){var a=t.baseTexture.uid;if(!m[a]){var o=new f.Texture;o.image=t.baseTexture.source,o.flipY=!1,o.needsUpdate=!0,o.wrapS=f.ClampToEdgeWrapping,o.wrapT=f.ClampToEdgeWrapping,o.minFilter=f.LinearFilter,o.maxFilter=f.LinearFilter,m[a]=o}var s=m[a],l=e.geometry;e.material.map=s;var u=l.faceVertexUvs[0],h=u[0],d=u[1];h[0].x=t._uvs.x3,h[0].y=t._uvs.y3,h[1].x=t._uvs.x0,h[1].y=t._uvs.y0,h[2].x=t._uvs.x2,h[2].y=t._uvs.y2,d[0].x=t._uvs.x0,d[0].y=t._uvs.y0,d[1].x=t._uvs.x1,d[1].y=t._uvs.y1,d[2].x=t._uvs.x2,d[2].y=t._uvs.y2,l.uvsNeedUpdate=!0;l.vertices;i=i||.5,n=n||.85;var c=t.orig;if(p=t.trim)e.position.x=p.width+2*p.x,e.position.x-=c.width*i*2,e.position.y=p.height+2*p.y,e.position.y-=c.height*n*2,e.scale.x=p.width/100,e.scale.y=p.height/100;else{var p=t._frame;e.scale.x=p.width/100,e.scale.y=p.height/100,e.position.x=p.width/2-c.width*i*2,e.position.y=p.height/2-c.height*n*2}};var s=new f.Vector3;u.toScreenPosition=function(e,t,i,n,r){var a=.5*t,o=.5*i;return e.updateMatrixWorld(),s.setFromMatrixPosition(e.matrixWorld),s.project(n),s.x=s.x*a+a,s.y=-s.y*o+o,r.x=s.x,r.y=s.y,r},u.getPixiTexture=function(e){var t=window.renderer.extract.image(e),i=new f.Texture;return i.image=t,i.wrapS=f.ClampToEdgeWrapping,i.wrapT=f.ClampToEdgeWrapping,i.minFilter=f.LinearFilter,i.maxFilter=f.LinearFilter,i.needsUpdate=!0,i},i.exports=u}.call(t,n,t,e))||(e.exports=i)},function(e,t,i){"use strict";var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t,i){"use strict";e.exports=!i(8)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,i){"use strict";var n=i(9),r=i(142),a=i(52),o=Object.defineProperty;t.f=i(23)?Object.defineProperty:function(e,t,i){if(n(e),t=a(t,!0),n(i),r)try{return o(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},function(e,t,i){"use strict";var n={playButton:"STR_PLAY_BUTTON",loader:{loading:"STR_LOADER_LOADING"},sponsor:{path:"img/content/banners/banners-default/main-menu-sponsor.jpg",url:"www.google.co.uk"},title_screen:{quick_play:"STR_TITLE_PRACTICE",tournament:"STR_TITLE_TOURNAMENT",leaderboard:"STR_TITLE_LEADERBOARD",updateBrowser:"STR_BROWSER_SUPPORT",unlockables:"STR_TITLE_UNLOCKABLES",challenges:"STR_TITLE_CHALLENGES"},unlockables_screen:{characters:"STR_TITLE_CHARACTERS",stadiums:"STR_TITLE_STADIUMS",stats:"STR_TITLE_STATS",balls:"STR_TITLE_BALLS"},country_select_screen:{title:"STR_COUNTRY_SELECT_TITLE",toolTip:"STR_COUNTRY_RANKING"},captain_select_screen:{title:"STR_CAPTAIN_SELECT_TITLE"},player1_select_screen:{title:"STR_PLAYER1_SELECT_TITLE"},player2_select_screen:{title:"STR_PLAYER2_SELECT_TITLE"},review_screen:{title:"STR_REVIEW_TITLE"},instructions_screen:{title:"STR_INSTRUCTIONS_TITLE",movement:"STR_INSTRUCTIONS_MOVEMENT",tackle:"STR_INSTRUCTIONS_TACKLE",shortPass:"STR_INSTRUCTIONS_PASS",specialShot:"STR_INSTRUCTIONS_SHOT",tackleKey:"Z",specialShotKey:"X"},team_select_screen:{title:"STR_TEAM_SELECT_TITLE",captain:"STR_TEAM_SELECT_CAPTAIN",players:"STR_TEAM_SELECT_PLAYERS"},tournament_screen:{title:"STR_TOURNAMENT_TITLE",playButton:"STR_PLAY_BUTTON",endButton:"STR_TOURNAMENT_END_BUTTON",stages:{quarter:"STR_TOURNAMENT_QUARTERS",semi:"STR_TOURNAMENT_SEMI",final:"STR_TOURNAMENT_FINALS",winner:"STR_TOURNAMENT_WINNER"}},gameover_screen:{title:"STR_GAMEOVER_TITLE"},leaderboard_screen:{title:"STR_LEADERBOARD_TITLE"},game_screen:{goal:"STR_GAME_GOAL",goldenGoal:"STR_GAME_GOLDEN_GOAL"},succeed_screen:{title:"STR_GAME_WIN"},fail_screen:{title:"STR_GAME_FAIL"},pause_overlay:{title:"STR_PAUSED"},quit_overlay:{title:"STR_QUIT"},regions:{WE:{ID:"WE",REGION_ID:1,NAME:"STR_REGION_WESTERNEUROPE",ANALYTICS:"emea",BUTTON:"button_western_europe.png",MAP:"map-western-europe.png",MAP_X:0,MAP_Y:0},EE:{ID:"EE",REGION_ID:4,NAME:"STR_REGION_EASTERNEUROPE",ANALYTICS:"emea",BUTTON:"button_eastern_europe.png",MAP:"map-eastern-europe.png",MAP_X:0,MAP_Y:0},AF:{ID:"AF",REGION_ID:5,NAME:"STR_REGION_AFRICAMIDDLEEAST",ANALYTICS:"emea",BUTTON:"button_africa_middle_east.png",MAP:"map-africa.png",MAP_X:0,MAP_Y:0},AS:{ID:"AS",REGION_ID:6,NAME:"STR_REGION_ASIAPACIFIC",ANALYTICS:"apac",BUTTON:"button_asian_pacific.png",MAP:"map-asia.png",MAP_X:0,MAP_Y:0},AM:{ID:"AM",REGION_ID:2,NAME:"STR_REGION_AMERICAS",ANALYTICS:"latam",BUTTON:"button_americas.png",MAP:"map-americas.png",MAP_X:0,MAP_Y:0}},countries:{SN:{ID:"SN",SCORE_ID:1,NAME:"STR_COUNTRY_SENEGAL",REGION:5,FLAG:"flag_senegal.png"},TN:{ID:"TN",SCORE_ID:2,NAME:"STR_COUNTRY_TUNISIA",REGION:5,FLAG:"flag_tunisia.png"},CG:{ID:"CG",SCORE_ID:3,NAME:"STR_COUNTRY_CONGO",REGION:5,FLAG:"flag_congo.png"},MA:{ID:"MA",SCORE_ID:4,NAME:"STR_COUNTRY_MOROCCO",REGION:5,FLAG:"flag_morocco.png"},BF:{ID:"BF",SCORE_ID:5,NAME:"STR_COUNTRY_BURKINAFASO",REGION:5,FLAG:"flag_burkina_faso.png"},CM:{ID:"CM",SCORE_ID:6,NAME:"STR_COUNTRY_CAMEROON",REGION:5,FLAG:"flag_cameroon.png"},GH:{ID:"GH",SCORE_ID:7,NAME:"STR_COUNTRY_GHANA",REGION:5,FLAG:"flag_ghana.png"},NG:{ID:"NG",SCORE_ID:8,NAME:"STR_COUNTRY_NIGERIA",REGION:5,FLAG:"flag_nigeria.png"},DZ:{ID:"DZ",SCORE_ID:9,NAME:"STR_COUNTRY_ALGERIA",REGION:5,FLAG:"flag_algeria.png"},ZA:{ID:"ZA",SCORE_ID:10,NAME:"STR_COUNTRY_SOUTHAFRICA",REGION:5,FLAG:"flag_south_africa.png"},EG:{ID:"EG",SCORE_ID:11,NAME:"STR_COUNTRY_EGYPT",REGION:5,FLAG:"flag_egypt.png"},IR:{ID:"IR",SCORE_ID:12,NAME:"STR_COUNTRY_IRAN",REGION:5,FLAG:"flag_iran.png"},TR:{ID:"TR",SCORE_ID:13,NAME:"STR_COUNTRY_TURKEY",REGION:4,FLAG:"flag_turkey.png"},SA:{ID:"SA",SCORE_ID:14,NAME:"STR_COUNTRY_SAUDIARABIA",REGION:5,FLAG:"flag_saudi_arabia.png"},AE:{ID:"AE",SCORE_ID:15,NAME:"STR_COUNTRY_UNITEDARABEMIRATES",REGION:5,FLAG:"flag_united_arab_emirates.png"},JP:{ID:"JP",SCORE_ID:16,NAME:"STR_COUNTRY_JAPAN",REGION:6,FLAG:"flag_japan.png"},KR:{ID:"KR",SCORE_ID:17,NAME:"STR_COUNTRY_SOUTHKOREA",REGION:6,FLAG:"flag_south_korea.png"},TH:{ID:"TH",SCORE_ID:18,NAME:"STR_COUNTRY_THAILAND",REGION:6,FLAG:"flag_thailand.png"},CN:{ID:"CN",SCORE_ID:19,NAME:"STR_COUNTRY_CHINA",REGION:6,FLAG:"flag_china.png"},SG:{ID:"SG",SCORE_ID:20,NAME:"STR_COUNTRY_SINGAPORE",REGION:6,FLAG:"flag_singapore.png"},MY:{ID:"MY",SCORE_ID:21,NAME:"STR_COUNTRY_MALAYSIA",REGION:6,FLAG:"flag_malaysia.png"},TW:{ID:"TW",SCORE_ID:22,NAME:"STR_COUNTRY_TAIWAN",REGION:6,FLAG:"flag_taiwan.png"},LA:{ID:"LA",SCORE_ID:23,NAME:"STR_COUNTRY_LAOS",REGION:6,FLAG:"flag_laos.png"},VN:{ID:"VN",SCORE_ID:24,NAME:"STR_COUNTRY_VIETNAM",REGION:6,FLAG:"flag_vietnam.png"},PH:{ID:"PH",SCORE_ID:25,NAME:"STR_COUNTRY_PHILIPPINES",REGION:6,FLAG:"flag_philippines.png"},ID:{ID:"ID",SCORE_ID:26,NAME:"STR_COUNTRY_INDONESIA",REGION:6,FLAG:"indonesia.png"},IN:{ID:"IN",SCORE_ID:27,NAME:"STR_COUNTRY_INDIA",REGION:6,FLAG:"flag_india.png"},PK:{ID:"PK",SCORE_ID:28,NAME:"STR_COUNTRY_PAKISTAN",REGION:6,FLAG:"flag_pakistan.png"},AU:{ID:"AU",SCORE_ID:29,NAME:"STR_COUNTRY_AUSTRALIA",REGION:6,FLAG:"flag_australia.png"},NZ:{ID:"NZ",SCORE_ID:30,NAME:"STR_COUNTRY_NEWZEALAND",REGION:6,FLAG:"flag_new_zealand.png"},PL:{ID:"PL",SCORE_ID:31,NAME:"STR_COUNTRY_POLAND",REGION:4,FLAG:"flag_poland.png"},HR:{ID:"HR",SCORE_ID:32,NAME:"STR_COUNTRY_CROATIA",REGION:4,FLAG:"flag_croatia.png"},SK:{ID:"SK",SCORE_ID:33,NAME:"STR_COUNTRY_SLOVAKIA",REGION:4,FLAG:"flag_slovakia.png"},AT:{ID:"AT",SCORE_ID:34,NAME:"STR_COUNTRY_AUSTRIA",REGION:4,FLAG:"flag_austria.png"},UA:{ID:"UA",SCORE_ID:35,NAME:"STR_COUNTRY_UKRAINE",REGION:4,FLAG:"flag_ukraine.png"},RS:{ID:"RS",SCORE_ID:36,NAME:"STR_COUNTRY_SERBIA",REGION:4,FLAG:"flag_serbia.png"},BA:{ID:"BA",SCORE_ID:37,NAME:"STR_COUNTRY_BOSNIAANDHERZEGOVINA",REGION:4,FLAG:"flag_bosnia_herzegovina.png"},RO:{ID:"RO",SCORE_ID:38,NAME:"STR_COUNTRY_ROMANIA",REGION:4,FLAG:"flag_romania.png"},BG:{ID:"BG",SCORE_ID:39,NAME:"STR_COUNTRY_BULGARIA",REGION:4,FLAG:"flag_bulgaria.png"},ME:{ID:"ME",SCORE_ID:40,NAME:"STR_COUNTRY_MONTENEGRO",REGION:4,FLAG:"flag_montenegro.png"},GR:{ID:"GR",SCORE_ID:41,NAME:"STR_COUNTRY_GREECE",REGION:4,FLAG:"flag_greece.png"},CZ:{ID:"CZ",SCORE_ID:42,NAME:"STR_COUNTRY_CZECHREPUBLIC",REGION:4,FLAG:"flag_czech_republic.png"},HU:{ID:"HU",SCORE_ID:43,NAME:"STR_COUNTRY_HUNGARY",REGION:4,FLAG:"flag_hungary.png"},RU:{ID:"RU",SCORE_ID:44,NAME:"STR_COUNTRY_RUSSIA",REGION:4,FLAG:"flag_russia.png"},US:{ID:"US",SCORE_ID:45,NAME:"STR_COUNTRY_USA",REGION:2,FLAG:"flag_usa.png"},MX:{ID:"MX",SCORE_ID:46,NAME:"STR_COUNTRY_MEXICO",REGION:2,FLAG:"flag_mexico.png"},CR:{ID:"CR",SCORE_ID:47,NAME:"STR_COUNTRY_COSTARICA",REGION:2,FLAG:"flag_costa_rica.png"},PA:{ID:"PA",SCORE_ID:48,NAME:"STR_COUNTRY_PANAMA",REGION:2,FLAG:"flag_panama.png"},BR:{ID:"BR",SCORE_ID:49,NAME:"STR_COUNTRY_BRAZIL",REGION:2,FLAG:"flag_brazil.png"},AR:{ID:"AR",SCORE_ID:50,NAME:"STR_COUNTRY_ARGENTINA",REGION:2,FLAG:"flag_argentina.png"},CL:{ID:"CL",SCORE_ID:51,NAME:"STR_COUNTRY_CHILE",REGION:2,FLAG:"flag_chile.png"},PE:{ID:"PE",SCORE_ID:52,NAME:"STR_COUNTRY_PERU",REGION:2,FLAG:"flag_peru.png"},CO:{ID:"CO",SCORE_ID:53,NAME:"STR_COUNTRY_COLOMBIA",REGION:2,FLAG:"flag_colombia.png"},UY:{ID:"UY",SCORE_ID:54,NAME:"STR_COUNTRY_URUGUAY",REGION:2,FLAG:"flag_uruguay.png"},PY:{ID:"PY",SCORE_ID:55,NAME:"STR_COUNTRY_PARAGUAY",REGION:2,FLAG:"flag_paraguay.png"},BO:{ID:"BO",SCORE_ID:56,NAME:"STR_COUNTRY_BOLIVIA",REGION:2,FLAG:"flag_bolivia.png"},VE:{ID:"VE",SCORE_ID:57,NAME:"STR_COUNTRY_VENEZUELA",REGION:2,FLAG:"flag_venezuela.png"},DE:{ID:"DE",SCORE_ID:58,NAME:"STR_COUNTRY_GERMANY",REGION:1,FLAG:"flag_germany.png"},PT:{ID:"PT",SCORE_ID:59,NAME:"STR_COUNTRY_PORTUGAL",REGION:1,FLAG:"flag_portugal.png"},BE:{ID:"BE",SCORE_ID:60,NAME:"STR_COUNTRY_BELGIUM",REGION:1,FLAG:"flag_belgium.png"},ES:{ID:"ES",SCORE_ID:61,NAME:"STR_COUNTRY_SPAIN",REGION:1,FLAG:"flag_spain.png"},FR:{ID:"FR",SCORE_ID:62,NAME:"STR_COUNTRY_FRANCE",REGION:1,FLAG:"flag_france.png"},DK:{ID:"DK",SCORE_ID:63,NAME:"STR_COUNTRY_DENMARK",REGION:1,FLAG:"flag_denmark.png"},IT:{ID:"IT",SCORE_ID:64,NAME:"STR_COUNTRY_ITALY",REGION:1,FLAG:"flag_italy.png"},GB:{ID:"GB",SCORE_ID:65,NAME:"STR_COUNTRY_ENGLAND",REGION:1,FLAG:"flag_england.png"},SE:{ID:"SE",SCORE_ID:66,NAME:"STR_COUNTRY_SWEDEN",REGION:1,FLAG:"flag_sweden.png"},WA:{ID:"WA",SCORE_ID:67,NAME:"STR_COUNTRY_WALES",REGION:1,FLAG:"flag_wales.png"},NL:{ID:"NL",SCORE_ID:68,NAME:"STR_COUNTRY_NETHERLANDS",REGION:1,FLAG:"flag_netherlands.png"},IX:{ID:"IX",SCORE_ID:69,NAME:"STR_COUNTRY_NORTHERNIRELAND",REGION:1,FLAG:"flag_northern_ireland.png"},IE:{ID:"IE",SCORE_ID:70,NAME:"STR_COUNTRY_REPUBLICOFIRELAND",REGION:1,FLAG:"flag_ireland.png"},SC:{ID:"SC",SCORE_ID:71,NAME:"STR_COUNTRY_SCOTLAND",REGION:1,FLAG:"flag_scotland.png"},NO:{ID:"NO",SCORE_ID:72,NAME:"STR_COUNTRY_NORWAY",REGION:1,FLAG:"flag_norway.png"},WS:{ID:"WS",SCORE_ID:73,NAME:"STR_COUNTRY_WORLDALLSTARS",REGION:0,FLAG:"flag_allstar.png"},QT:{ID:"QT",SCORE_ID:74,NAME:"STR_COUNTRY_QATAR",REGION:5,FLAG:"flag_qatar.png"},EC:{ID:"EC",SCORE_ID:75,NAME:"STR_COUNTRY_ECUADOR",REGION:2,FLAG:"flag_ecuador.png"}},country_codes:{BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BA:"Bosnia and Herzegovina",BB:"Barbados",WF:"Wallis and Futuna",BL:"Saint Barthelemy",BM:"Bermuda",BN:"Brunei",BO:"Bolivia",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BT:"Bhutan",JM:"Jamaica",BV:"Bouvet Island",BW:"Botswana",WS:"Samoa",BQ:"Bonaire, Saint Eustatius and Saba ",BR:"Brazil",BS:"Bahamas",JE:"Jersey",BY:"Belarus",BZ:"Belize",RU:"Russia",RW:"Rwanda",RS:"Serbia",TL:"East Timor",RE:"Reunion",TM:"Turkmenistan",TJ:"Tajikistan",RO:"Romania",TK:"Tokelau",GW:"Guinea-Bissau",GU:"Guam",GT:"Guatemala",GS:"South Georgia and the South Sandwich Islands",GR:"Greece",GQ:"Equatorial Guinea",GP:"Guadeloupe",JP:"Japan",GY:"Guyana",GG:"Guernsey",GF:"French Guiana",GE:"Georgia",GD:"Grenada",GB:"United Kingdom",GA:"Gabon",SV:"El Salvador",GN:"Guinea",GM:"Gambia",GL:"Greenland",GI:"Gibraltar",GH:"Ghana",OM:"Oman",TN:"Tunisia",JO:"Jordan",HR:"Croatia",HT:"Haiti",HU:"Hungary",HK:"Hong Kong",HN:"Honduras",HM:"Heard Island and McDonald Islands",VE:"Venezuela",PR:"Puerto Rico",PS:"Palestinian Territory",PW:"Palau",PT:"Portugal",SJ:"Svalbard and Jan Mayen",PY:"Paraguay",IQ:"Iraq",PA:"Panama",PF:"French Polynesia",PG:"Papua New Guinea",PE:"Peru",PK:"Pakistan",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PM:"Saint Pierre and Miquelon",ZM:"Zambia",EH:"Western Sahara",EE:"Estonia",EG:"Egypt",ZA:"South Africa",EC:"Ecuador",IT:"Italy",VN:"Vietnam",SB:"Solomon Islands",ET:"Ethiopia",SO:"Somalia",ZW:"Zimbabwe",SA:"Saudi Arabia",ES:"Spain",ER:"Eritrea",ME:"Montenegro",MD:"Moldova",MG:"Madagascar",MF:"Saint Martin",MA:"Morocco",MC:"Monaco",UZ:"Uzbekistan",MM:"Myanmar",ML:"Mali",MO:"Macao",MN:"Mongolia",MH:"Marshall Islands",MK:"Macedonia",MU:"Mauritius",MT:"Malta",MW:"Malawi",MV:"Maldives",MQ:"Martinique",MP:"Northern Mariana Islands",MS:"Montserrat",MR:"Mauritania",IM:"Isle of Man",UG:"Uganda",TZ:"Tanzania",MY:"Malaysia",MX:"Mexico",IL:"Israel",FR:"France",IO:"British Indian Ocean Territory",SH:"Saint Helena",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Micronesia",FO:"Faroe Islands",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",NA:"Namibia",VU:"Vanuatu",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NZ:"New Zealand",NP:"Nepal",NR:"Nauru",NU:"Niue",CK:"Cook Islands",XK:"Kosovo",CI:"Ivory Coast",CH:"Switzerland",CO:"Colombia",CN:"China",CM:"Cameroon",CL:"Chile",CC:"Cocos Islands",CA:"Canada",CG:"Republic of the Congo",CF:"Central African Republic",CD:"Democratic Republic of the Congo",CZ:"Czech Republic",CY:"Cyprus",CX:"Christmas Island",CR:"Costa Rica",CW:"Curacao",CV:"Cape Verde",CU:"Cuba",SZ:"Swaziland",SY:"Syria",SX:"Sint Maarten",KG:"Kyrgyzstan",KE:"Kenya",SS:"South Sudan",SR:"Suriname",KI:"Kiribati",KH:"Cambodia",KN:"Saint Kitts and Nevis",KM:"Comoros",ST:"Sao Tome and Principe",SK:"Slovakia",KR:"South Korea",SI:"Slovenia",KP:"North Korea",KW:"Kuwait",SN:"Senegal",SM:"San Marino",SL:"Sierra Leone",SC:"Seychelles",KZ:"Kazakhstan",KY:"Cayman Islands",SG:"Singapore",SE:"Sweden",SD:"Sudan",DO:"Dominican Republic",DM:"Dominica",DJ:"Djibouti",DK:"Denmark",VG:"British Virgin Islands",DE:"Germany",YE:"Yemen",DZ:"Algeria",US:"United States",UY:"Uruguay",YT:"Mayotte",UM:"United States Minor Outlying Islands",LB:"Lebanon",LC:"Saint Lucia",LA:"Laos",TV:"Tuvalu",TW:"Taiwan",TT:"Trinidad and Tobago",TR:"Turkey",LK:"Sri Lanka",LI:"Liechtenstein",LV:"Latvia",TO:"Tonga",LT:"Lithuania",LU:"Luxembourg",LR:"Liberia",LS:"Lesotho",TH:"Thailand",TF:"French Southern Territories",TG:"Togo",TD:"Chad",TC:"Turks and Caicos Islands",LY:"Libya",VA:"Vatican",VC:"Saint Vincent and the Grenadines",AE:"United Arab Emirates",AD:"Andorra",AG:"Antigua and Barbuda",AF:"Afghanistan",AI:"Anguilla",VI:"U.S. Virgin Islands",IS:"Iceland",IR:"Iran",AM:"Armenia",AL:"Albania",AO:"Angola",AQ:"Antarctica",AS:"American Samoa",AR:"Argentina",AU:"Australia",AT:"Austria",AW:"Aruba",IN:"India",AX:"Aland Islands",AZ:"Azerbaijan",IE:"Ireland",ID:"Indonesia",UA:"Ukraine",QA:"Qatar",MZ:"Mozambique"},languages:{en:"STR_LANGUAGE_ENGLISH",fr:"STR_LANGUAGE_FRENCH",it:"STR_LANGUAGE_ITALIAN",de:"STR_LANGUAGE_GERMAN",es:"STR_LANGUAGE_EUSPANISH",pt:"STR_LANGUAGE_EUPORTUGUESE",hu:"STR_LANGUAGE_HUNGARIAN",pl:"STR_LANGUAGE_POLISH",ro:"STR_LANGUAGE_ROMANIAN",nl:"STR_LANGUAGE_DUTCH",bg:"STR_LANGUAGE_BULGARIAN",ru:"STR_LANGUAGE_RUSSIAN",tr:"STR_LANGUAGE_TURKISH",ar:"STR_LANGUAGE_ARABIC",cs:"STR_LANGUAGE_CZECH",no:"STR_LANGUAGE_NORWEGIAN",sv:"STR_LANGUAGE_SWEDISH",da:"STR_LANGUAGE_DANISH",ptbr:"STR_LANGUAGE_BRAZILIANPORTUGUESE",es419:"STR_LANGUAGE_LATAMSPANISH",ja:"STR_LANGUAGE_JAPAN",vi:"STR_LANGUAGE_VIETNAM",ch:"STR_LANGUAGE_CHINESE",th:"STR_LANGUAGE_THAI",id:"STR_LANGUAGE_INDONESIAN",ha:"STR_LANGUAGE_HAUSA",sw:"STR_LANGUAGE_SWAHILI"},logos:{en:"en",ar:"ar",es:"es",es419:"es419",hu:"hu",ja:"jp",pl:"pl",pt:"pt",ptbr:"ptbr",ro:"ro",ru:"ru",tr:"tr",ch:"ch"},language_fonts:{en:"lubalin",fr:"lubalin",it:"lubalin",de:"lubalin",es:"lubalin",pt:"lubalin",hu:"lubalin",pl:"lubalin",ro:"lubalin",nl:"lubalin",bg:"lubalin",ru:"lubalin",tr:"lubalin",ar:"avenir",cs:"lubalin",no:"lubalin",sv:"lubalin",da:"lubalin",ptbr:"lubalin",es419:"lubalin",ja:"lubalin",vi:"avenir",ch:"lubalin",th:"sirichana",id:"lubalin",ha:"ascender",sw:"lubalin"},analytics:{en:"en",fr:"fr",it:"it",de:"de",es:"es",pt:"pt",hu:"hu",pl:"pl",ro:"ro",nl:"nl",bg:"bg",ru:"ru",tr:"tr",ar:"ar",cs:"cs",no:"no",sv:"sv",da:"da",ptbr:"pt-BR",es419:"es-MX",ja:"ja",vi:"vi",ch:"zh",th:"th",id:"id",ha:"ha",sw:"sw"}};e.exports={Translation:n,getCountries:function(){var e=[];for(var t in n.countries)e.push(n.countries[t]);return e},getRegions:function(){var e=[];for(var t in n.regions)e.push(n.regions[t]);return e},getCountriesByRegion:function(e){var t=[];for(var i in n.countries)n.countries[i].REGION===e&&t.push(n.countries[i]);return t.sort(function(e,t){return e.NAME<t.NAME?-1:e.NAME>t.NAME?1:0}),t}}},function(e,t,n){"use strict";var i;void 0===(i=function(e,t,i){function lfd(e,t,i,n,r,a,o,s,l,u,h){p.call(this,e,t,i,null,r);var d={fill:"white",fontSize:28,fontFamily:s||window.MAIN_FONT,stroke:!1,strokeThickness:8,lineJoin:"round"};if(l&&(d.maxWidth=l),u&&(d.maxHeight=u),o&&(d.fontSize=o),this.label=h?new PIXI.Text(n,d):new f(n,d),this.label.anchor.set(.5),a&&(this.label.y=a),this.addChild(this.label),!d.maxWidth&&!d.maxHeight){var c=.9*this.background.width/this.label.width;c=Math.min(1,c),this.label.scale.set(c)}}var p=n(19),f=n(11);lfd.prototype=Object.create(p.prototype),i.exports=lfd}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){"use strict";var i;void 0===(i=function(e,t,i){i.exports={Vector:n(101),CrashData:n(314),CrashBody:n(102),CrashWorld:n(315),CrashTests:n(599)}}.call(t,n,t,e))||(e.exports=i)},function(e,t,o){"use strict";var i;void 0===(i=function(e,t,i){function Qfd(e,t,i,n){this.UID=Qfd._UID++,this.view=i||null,this.body=n||null,this.signals={},this.position=new r.Point,this.view&&(this.view.position=this.position),this.position.x=0|e,this.position.y=0|t,this.world=null,this.canCollide=!0,this.collideWithSelf=!0,this.type=0,this.groups=[],this._TICK=-1,this.keepInBonus=!0,this._gc=!1,this.returnToPool=function(){a.returnObject(this)}.bind(this)}var r=o(0),a=o(48),n=o(67);Qfd.prototype.updateView=function(e){this.view=e},Qfd.prototype.reset=function(e){},Qfd.prototype.destroy=function(){this.world&&(this.world.remove(this),n.wait(this.returnToPool))},Qfd._UID=0,Qfd.mixin=function(e,t){t.call(e),Object.assign(e,t)},i.exports=Qfd}.call(t,o,t,e))||(e.exports=i)},function(e,t,r){"use strict";var i;void 0===(i=function(e,t,i){var l=r(0),n={trimTexture:function(e,t,i,n,r){t=t||0,i=i||0,n=n||0,r=r||0;var a=e._frame;a.x+=t,a.y+=n,a.width-=t+i,a.height-=n+r,e.frame=a,e._updateUvs()},getTexturesFromFrames:function(e){for(var t=[],i=0;i<e.length;i++)t.push(new l.Texture.fromFrame(e[i]));return t},getTexturesFromImages:function(e){for(var t=[],i=0;i<e.length;i++)t.push(new l.Texture.fromImage(e[i]));return t},getTexturesFromFramesWithPrefix:function(e,t,i,n){var r=[];null==i&&(i=0);for(var a=0;a<t;a++){var o=a+i,s=e.replace("%%",o<10?"0"+o:o);if(n)s=e.replace("%%",o);r.push(new l.Texture.fromFrame(s))}return r},formatTime:function(e){if(999999===e)return"00:00:00";var t=(e=e/.06)/60/1e3|0,i=(e-=60*t*1e3)/1e3|0,n=(e-=1e3*i)/10|0;return e-=10*n,(t<10?"0":"")+t+":"+(i<10?"0":"")+i+":"+(n<10?"0":"")+n},formatTimeSeconds:function(e){if(999999===e)return"00:00";var t=(e=e/.06)/60/1e3|0,i=(e-=60*t*1e3)/1e3|0;return e-=1e3*i,(t<10?"0":"")+t+":"+(i<10?"0":"")+i},pad:function(e,t){var i="0000"+e;return i.substr(i.length-t)},shuffle:function(e){for(var t=e.length-1;0<t;t--){var i=Math.floor(Math.random()*(t+1)),n=e[t];e[t]=e[i],e[i]=n}return e},isInArray:function(e,t){for(var i=e.length;i--;)if(e[i]===t)return!0;return!1},uniq:function(e,t){var i=[],n={};for(var r in e)n[e[r][t]]=e[r];for(r in n)i.push(n[r]);return i},formatScore:function(e){for(var t=e.toString().split(""),i="",n=t.length,r=n%3-1,a=0;a<n;a++)i+=t[a],(a-r)%3==0&&a!=n-1&&(i+=",");return i},formatNumber:function(e){if(ones=e%10,tens=Math.floor(e/10)%10,1==tens)return e+"th";switch(ones){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd";default:return e+"th"}},formatName:function(e){for(var t=e.split(" "),i=t.length-1;0<=i;i--)0!==t[i].length&&(wordArray=t[i].split(""),wordArray[0]=wordArray[0].toUpperCase(),t[i]=wordArray.join(""));return word=t.join(" "),word}};window.console||(window.console={log:function(){}}),n.get_query=function(e){for(var t=location.href,i=t.substring(t.indexOf("?")+1).split("&"),n=0,r={};n<i.length;n++)i[n]=i[n].split("="),r[i[n][0]]=decodeURIComponent(i[n][1]);return!!r.hasOwnProperty(e)&&r[e]},n.toCamelCase=function(e){var t=e.trim();return t=(t=t.toLowerCase()).replace(/\s([a-z]|[A-Z])/,function(e,t){return t.toUpperCase()})},n.defaults=function(e,t){for(var i in e=e||{},t)i in e||(e[i]=t[i]);return e},n.fitText=n.resizeText=function(e,t,i,n){n=n||"w",e.scale.set(1),i&&(e.text=i);var r=0;1<(r="w"===n?t/e.width:t/e.height)&&(r=1),e.scale.set(r)},n.resizeMultipleTexts=function(e,t,i){for(var n=0;n<e.length;n++){(a=e[n]).scale.set(1)}var r=0;if(i)for(n=0;n<e.length;n++){(a=e[n]).text=i[n]}for(n=0;n<e.length;n++){var a;(a=e[n]).width>r&&(r=a.width)}var o=t/r;1<o&&(o=1);for(n=0;n<e.length;n++)e[n].scale.set(o)},i.exports=n}.call(t,r,t,e))||(e.exports=i)},function(e,t,i){"use strict";e.exports={GAME:{TIME:90},PLAYER_STATE:{IDLE:0,RUN:1,FREE_RUN:2,WIN:3,LOSE:4,TACKLE:5,FALL:6,KICK_CHARGE:7,KICK:8,HIDE:9,SHOW:10,FREEZE:11,SHRINK:12,FIRE:13},KEEPER_STATE:{IDLE:0,DIVE:1,CLOSING_DOWN:2},TEAM_STATE:{ATTACKING:0,DEFENDING:1,ATTACK_IDLE:2,KICK_OFF:3,DEFEND_IDLE:4,SCORED:5,LOST:6,TUTORIAL_TACKLE:7,TUTORIAL_IDLE:8},END_STATE:{WIN:0,LOSE:1,DRAW:2}}},function(e,t,i){"use strict";var n=i(50);e.exports=function(e){return Object(n(e))}},function(e,t,i){"use strict";var n;t.__esModule=!0,t.setCharacterData=t.getCharacters=t.CharacterData=void 0;var r={raven:{id:"raven",name:"STR_CHAR_RAVEN",available:!0,isCaptain:!0,brandName:"STR_BRAND_TEENTITANSGO",scale:.8,skill:.3,power:.6,speed:1,yourTeam:"raven.png",profile:"card_raven.png",super:"super_shot_raven.png",superSound:"RAVEN_1",icon:"character-profile-raven.jpg",spriteSheet:"raven",brand:"logo_ttg.png",showable:!0,locked:!0,num:131,poster:"character-poster-raven.jpg",shined:!1,unlockedPanels:[],offsetBreadCrumb:{y:-50},anchorReviewX:.53},craig:{id:"craig",name:"STR_CHAR_CRAIG",available:!0,isCaptain:!0,brandName:"STR_BRAND_CRAIGOFTHECREEK",scale:.7,skill:.4,power:.4,speed:.8,yourTeam:"craig.png",profile:"card_craig.png",super:"super_shot_craig.png",superSound:"CRAIG_2",icon:"character-profile-craig.jpg",spriteSheet:"craig",brand:"logo_craigofthecreek.png",locked:!1,num:129,offsetBreadCrumb:{y:-40},offsetPlayerCard:{x:-10},anchorReviewX:.6},blossom:{id:"blossom",name:"STR_CHAR_BLOSSOM",brandName:"STR_BRAND_POWERPUFFGIRLS",available:!0,isCaptain:!0,scale:1,skill:.6,power:.6,speed:.6,yourTeam:"Blossom.png",profile:"card_blossom.png",super:"super_shot_blossom.png",superSound:"Powerpuff_Girls_Blossom",icon:"blossom_78x78.jpg",spriteSheet:"blossom",brand:"logo_ppg.png",offsetBreadCrumb:{y:-50},num:104,anchorReviewX:.53},xlr8:((n={id:"xlr8",name:"STR_CHAR_XLR8",brandName:"STR_BRAND_BEN10",available:!0,isCaptain:!0,scale:1,skill:.5,power:.4,speed:.8,yourTeam:"XLR8.png",super:"super_shot_xlr8.png",superSound:"Ben_10_XLR8",profile:"card_xlr8.png",icon:"xlr8_78x78.jpg",spriteSheet:"xlr8",brand:"logo_b10.png",num:106,offsetBreadCrumb:{y:-10},showable:!0,locked:!0,poster:"character-poster-xlr8.jpg",shined:!1,unlockedPanels:[]}).brandName="STR_BRAND_BEN10",n.anchorReviewX=.35,n),apple:{id:"apple",name:"STR_CHAR_APPLE",available:!0,isCaptain:!0,brandName:"STR_BRAND_APPLEANDONION",scale:.8,skill:.4,power:.2,speed:.5,yourTeam:"apple.png",profile:"card_apple.png",super:"super_shot_apple.png",superSound:"APPLE_5",icon:"character-profile-apple.jpg",spriteSheet:"apple",brand:"logo_appleonion.png",locked:!1,num:128,offsetBreadCrumb:{y:-50},anchorReviewX:.6},cyborg:{id:"cyborg",name:"STR_CHAR_CYBORG",available:!0,isCaptain:!0,brandName:"STR_BRAND_TEENTITANSGO",scale:1,skill:.5,power:.7,speed:.4,yourTeam:"Cyborg.png",profile:"card_cyborg.png",super:"super_shot_cyborg.png",superSound:"Teen_Titans_Go_Cyborg",icon:"cyborg_78x78.jpg",spriteSheet:"cyborg",brand:"logo_ttg.png",offsetPlayerCard:{x:-1},locked:!1,num:124,offsetReviewY:0,anchorReviewX:0},marceline:{id:"marceline",name:"STR_CHAR_MARCELLINE",brandName:"STR_BRAND_ADVENTURETIME",available:!0,isCaptain:!1,scale:1,skill:.5,power:.7,speed:.4,yourTeam:"Marceline.png",profile:"card_marceline.png",icon:"marceline_78x78.jpg",spriteSheet:"marceline",super:"super_shot_marceline.png",superSound:"Adventure_Time_Marcelline",brand:"logo_at.png",num:117,offsetBreadCrumb:{y:-35},anchorReviewX:.53},onion:{id:"onion",name:"STR_CHAR_ONION",available:!0,isCaptain:!0,brandName:"STR_BRAND_APPLEANDONION",scale:.8,skill:1,power:.7,speed:.6,yourTeam:"onion.png",profile:"card_onion.png",super:"super_shot_onion.png",superSound:"ONION_1",icon:"character-profile-onion.jpg",spriteSheet:"onion",brand:"logo_appleonion.png",showable:!0,locked:!0,num:127,poster:"character-poster-onion.jpg",shined:!1,unlockedPanels:[],offsetBreadCrumb:{y:-20},offsetReviewY:5,anchorReviewX:.54},richard:{id:"richard",name:"STR_CHAR_RICHARD",brandName:"STR_BRAND_GUMBALL",available:!0,isCaptain:!0,scale:1.3,skill:.4,power:.4,speed:.5,yourTeam:"Richard.png",profile:"card_richard.png",icon:"richard_78x78.jpg",super:"super_shot_richard.png",superSound:"Gumball_Richard",spriteSheet:"richard",brand:"logo_awog.png",num:123,offsetBreadCrumb:{y:-10},offsetPlayerCard:{x:-20},anchorReviewX:.45},bubbles:{id:"bubbles",name:"STR_CHAR_BUBBLES",brandName:"STR_BRAND_POWERPUFFGIRLS",available:!0,isCaptain:!0,scale:1,skill:.6,power:.4,speed:.5,yourTeam:"Bubbles.png",profile:"card_bubbles.png",icon:"bubbles_78x78.jpg",spriteSheet:"bubbles",super:"super_shot_bubbles.png",superSound:"Powerpuff_Girls_Bubbles",brand:"logo_ppg.png",num:107,offsetBreadCrumb:{y:-40},anchorReviewX:.34},grizz:{id:"grizz",name:"STR_CHAR_GRIZZ",brandName:"STR_BRAND_WEBAREBEARS",available:!0,isCaptain:!1,scale:1.1,skill:.5,power:.3,speed:.4,yourTeam:"grizz.png",profile:"card_grizz.png",icon:"griz_78x78.jpg",spriteSheet:"grizz",super:"super_shot_grizz.png",superSound:"We_Bare_Bears_Grizz",brand:"logo_wbb.png",num:111,offsetBreadCrumb:{y:-10},offsetPlayerCard:{x:-15},offsetReviewY:10,anchorReviewX:.53},darwin:{id:"darwin",name:"STR_CHAR_DARWIN",brandName:"STR_BRAND_GUMBALL",available:!0,isCaptain:!1,scale:.9,skill:.7,power:.3,speed:.5,yourTeam:"darwin.png",profile:"card_darwin.png",icon:"darwin_78x78.jpg",spriteSheet:"darwin",super:"super_shot_darwin.png",superSound:"Gumball_Darwin",brand:"logo_awog.png",num:109,offsetBreadCrumb:{y:-20},anchorReviewX:.55},princess_bubblegum:{id:"princess_bubblegum",name:"STR_CHAR_BUBBLEGUM",available:!0,isCaptain:!0,locked:!1,brandName:"STR_BRAND_ADVENTURETIME",scale:1,skill:.6,power:.3,speed:1,yourTeam:"Bubblegum.png",profile:"card_bubblegum.png",icon:"bubblegum_78x78.jpg",super:"super_shot_bubblegum.png",superSound:"Adventure_Time_Bubblegum",spriteSheet:"princess",brand:"logo_at.png",num:122,offsetBreadCrumb:{x:0,y:-15},offsetPlayerCard:{x:-40},offsetReviewY:4},buttercup:{id:"buttercup",name:"STR_CHAR_BUTTERCUP",brandName:"STR_BRAND_POWERPUFFGIRLS",available:!0,isCaptain:!0,scale:1,skill:.4,power:.7,speed:.5,yourTeam:"buttercup.png",profile:"card_buttercup.png",icon:"buttercup_78x78.jpg",super:"super_shot_buttercup.png",superSound:"Powerpuff_Girls_Buttercup",spriteSheet:"buttercup",brand:"logo_ppg.png",num:108,offsetBreadCrumb:{y:-50}},ice_bear:{id:"ice_bear",name:"STR_CHAR_ICE_BEAR",brandName:"STR_BRAND_WEBAREBEARS",available:!0,isCaptain:!1,scale:1.1,skill:.7,power:.2,speed:.4,yourTeam:"Ice.png",profile:"card_icebear.png",super:"super_shot_ice.png",superSound:"We_Bare_Bears_Ice_Bear",icon:"icebear_78x78.jpg",spriteSheet:"icebear",brand:"logo_wbb.png",num:118,offsetBreadCrumb:{y:-10}},anais:{id:"anais",name:"STR_CHAR_ANAIS",brandName:"STR_BRAND_GUMBALL",available:!0,isCaptain:!0,scale:1,skill:.8,power:.2,speed:.6,yourTeam:"Anais.png",profile:"card_anais.png",icon:"anais_78x78.jpg",spriteSheet:"anais",super:"super_shot_anais.png",superSound:"Gumball_Anais",brand:"logo_awog.png",num:102,offsetBreadCrumb:{y:-30},anchorReviewX:.6},mojo:{id:"mojo",name:"STR_CHAR_MOJO",brandName:"STR_BRAND_POWERPUFFGIRLS",available:!0,isCaptain:!0,scale:.8,skill:.4,power:.7,speed:.3,yourTeam:"Mojo.png",profile:"card_mojo.png",icon:"mojo_78x78.jpg",offsetPlayerCard:{x:0},offsetBreadCrumb:{x:0,y:-50},anchorReviewX:.365,super:"super_shot_mojo.png",superSound:"Powerpuff_Girls_Mojo",spriteSheet:"mojo",brand:"logo_ppg.png",num:119},starfire:{id:"starfire",name:"STR_CHAR_STARFIRE",brandName:"STR_BRAND_TEENTITANSGO",available:!0,isCaptain:!0,scale:1,skill:.8,power:.6,speed:.5,yourTeam:"Starfire.png",profile:"card_starfire.png",icon:"starfire_78x78.jpg",spriteSheet:"starfire",super:"super_shot_starfire.png",superSound:"Teen_Titans_Go_Starfire",brand:"logo_ttg.png",locked:!1,num:126,offsetPlayerCard:{x:-40},offsetBreadCrumb:{x:0,y:-30},anchorReviewX:.6},bmo:{id:"bmo",name:"STR_CHAR_BMO",available:!0,isCaptain:!0,scale:.9,skill:.5,power:.2,speed:.7,yourTeam:"BMO.png",profile:"card_bmo.png",icon:"bmo_78x78.jpg",super:"super_shot_bmo.png",superSound:"Adventure_Time_BMO",spriteSheet:"bmo",brand:"logo_at.png",num:105,offsetBreadCrumb:{y:-35},brandName:"STR_BRAND_ADVENTURETIME",offsetReviewY:-3,anchorReviewX:.48},jake:{id:"jake",name:"STR_CHAR_JAKE",brandName:"STR_BRAND_ADVENTURETIME",available:!0,isCaptain:!1,scale:1,skill:.4,power:.5,speed:.6,yourTeam:"Jake.png",profile:"card_jake.png",icon:"jake_78x78.jpg",spriteSheet:"jake",super:"super_shot_jake.png",superSound:"Adventure_Time_Jake",brand:"logo_at.png",num:114,offsetBreadCrumb:{y:-25},offsetPlayerCard:{x:-10},anchorReviewX:.52},panda:{id:"panda",name:"STR_CHAR_PANDA",brandName:"STR_BRAND_WEBAREBEARS",available:!0,isCaptain:!0,scale:1.1,skill:.6,power:.2,speed:.3,yourTeam:"Panda.png",profile:"card_panda.png",icon:"panda_78x78.jpg",super:"super_shot_panda.png",superSound:"We_Bare_Bears_Panda",spriteSheet:"panda",brand:"logo_wbb.png",num:121,offsetBreadCrumb:{x:0,y:-20},offsetPlayerCard:{x:-20},offsetReviewY:3,anchorReviewX:.58},kelsey:{id:"kelsey",name:"STR_CHAR_KELSEY",available:!0,isCaptain:!0,brandName:"STR_BRAND_CRAIGOFTHECREEK",scale:.8,skill:.3,power:1,speed:.4,yourTeam:"kelsey.png",profile:"card_kelsey.png",super:"super_shot_kelsey.png",superSound:"KELSEY_1",icon:"character-profile-kesley.jpg",spriteSheet:"kelsey",brand:"logo_craigofthecreek.png",showable:!0,locked:!0,num:130,poster:"character-poster-kelsey.jpg",shined:!1,unlockedPanels:[],offsetBreadCrumb:{y:-70},anchorReviewX:.62},wonderwoman:{id:"wonderwoman",name:"STR_CHAR_WONDERWOMAN",available:!0,isCaptain:!0,brandName:"STR_BRAND_DCSUPERHEROGIRLS",scale:1,skill:.6,power:1,speed:1,yourTeam:"wonderwoman.png",profile:"card_wonderwoman.png",super:"super_shot_wonderwoman.png",superSound:"WONDERWOMAN_1",icon:"wonderwoman_78x78.jpg",spriteSheet:"wonderwoman",brand:"logo_dc.png",locked:!1,num:202,offsetBreadCrumb:{y:-25},offsetReviewY:14,anchorReviewX:.52},robin:{id:"robin",name:"STR_CHAR_ROBIN",available:!0,isCaptain:!0,scale:1,brandName:"STR_BRAND_TEENTITANSGO",skill:1,power:.7,speed:.6,yourTeam:"Robin.png",profile:"card_robin.png",icon:"robin_78x78.jpg",spriteSheet:"robin",super:"super_shot_robin.png",superSound:"Teen_Titans_Go_Robin",brand:"logo_ttg.png",locked:!1,num:125,offsetPlayerCard:{x:-40},offsetBreadCrumb:{x:0,y:-35},anchorReviewX:.355},fourarms:{id:"fourarms",name:"STR_CHAR_FOUR_ARMS",available:!0,isCaptain:!1,locked:!1,brandName:"STR_BRAND_BEN10",scale:1,skill:.5,power:1,speed:.3,yourTeam:"fourarms.png",super:"super_shot_fourarms.png",superSound:"Ben_10_Four_Arms",profile:"card_fourarms.png",icon:"fourarms_78x78.jpg",spriteSheet:"fourarms",brand:"logo_b10.png",offsetBreadCrumb:{y:20},offsetReviewY:23,num:115},batgirl:{id:"batgirl",name:"STR_CHAR_BATGIRL",available:!0,isCaptain:!0,brandName:"STR_BRAND_DCSUPERHEROGIRLS",scale:1,skill:.9,power:.7,speed:.6,yourTeam:"batgirl.png",profile:"card_batgirl.png",super:"super_shot_batgirl.png",superSound:"BATGIRL_2",icon:"batgirl_78x78.jpg",spriteSheet:"batgirl",brand:"logo_dc.png",showable:!0,locked:!0,num:201,poster:"character-poster-batgirl.jpg",shined:!1,unlockedPanels:[],offsetBreadCrumb:{y:-25},anchorReviewX:.68},finn:{id:"finn",name:"STR_CHAR_FINN",brandName:"STR_BRAND_ADVENTURETIME",available:!0,isCaptain:!0,scale:.8,skill:.5,power:.7,speed:.6,yourTeam:"finn.png",profile:"card_finn.png",icon:"finn_78x78.jpg",super:"super_shot_finn.png",superSound:"Adventure_Time_Finn",spriteSheet:"finn",brand:"logo_at.png",num:110,offsetBreadCrumb:{y:-10},anchorReviewX:.42},ben10:{id:"ben10",name:"STR_CHAR_BEN",brandName:"STR_BRAND_BEN10",available:!0,isCaptain:!0,scale:1,skill:.6,power:.6,speed:.5,super:"super_shot_ben10.png",superSound:"Ben_10_Ben",yourTeam:"Ben10.png",profile:"card_ben10.png",icon:"ben10_78x78.jpg",spriteSheet:"ben10",brand:"logo_b10.png",num:100,offsetBreadCrumb:{y:-28},anchorReviewX:.55},gumball:{id:"gumball",name:"STR_CHAR_GUMBALL",brandName:"STR_BRAND_GUMBALL",available:!0,isCaptain:!0,scale:1,skill:.5,power:.3,speed:.6,yourTeam:"Gumball.png",profile:"card_gumball.png",icon:"gumball_78x78.jpg",super:"super_shot_gumball.png",superSound:"Gumball_Gumball",spriteSheet:"gumball",brand:"logo_awog.png",num:113,offsetBreadCrumb:{y:-25},anchorReviewX:.4},maomao:{id:"maomao",name:"STR_CHAR_MAOMAO",brandName:"STR_BRAND_MAOMAOHPH",available:!0,isCaptain:!0,scale:.8,skill:.8,power:.5,speed:.8,yourTeam:"Maomao.png",profile:"card_maomao.png",icon:"maomao_78x78.jpg",super:"super_shot_maomao.png",superSound:"MMHPH_Maomao",spriteSheet:"maomao",brand:"logo_mmhph.png",num:141,offsetBreadCrumb:{y:-27},anchorReviewX:.53},badgerclops:{id:"badgerclops",name:"STR_CHAR_BADGERCLOPS",brandName:"STR_BRAND_MAOMAOHPH",available:!0,isCaptain:!0,scale:1,skill:.4,power:.9,speed:.4,yourTeam:"Badgerclops.png",profile:"card_badgerclops.png",icon:"badgerclops_78x78.jpg",super:"super_shot_badgerclops.png",superSound:"MMHPH_Badgerclops",spriteSheet:"badgerclops",brand:"logo_mmhph.png",showable:!0,locked:!0,poster:"character-poster-badgerclops.jpg",num:142,shined:!1,unlockedPanels:[],offsetBreadCrumb:{y:-5},anchorReviewX:.45}};t.CharacterData=r;var a={all:function(){var e=[];for(var t in r)e.push(r[t]);return e},captains:function(){var e=[];for(var t in r)e.push(r[t]);return e},showable:function(){var e=[];for(var t in r)r[t].showable&&e.push(r[t]);return e},unlocked:function(){var e=[];for(var t in r)r[t].locked||e.push(r[t]);return e},locked:function(){var e=[];for(var t in r)r[t].locked&&r[t].poster&&e.push(r[t]);return e},withId:function(e){for(var t in r)if(r[t].id===e)return r[t]},saveFormat:function(){var e={};for(var t in r){var i={locked:r[t].locked,shined:r[t].shined,unlockedPanels:r[t].unlockedPanels,speed:r[t].speed,skill:r[t].skill,power:r[t].power};e[t]=i}return e}};t.getCharacters=a;t.setCharacterData=function(e){for(var t in e)r[t].locked=e[t].locked,r[t].shined=e[t].shined,r[t].unlockedPanels=e[t].unlockedPanels,r[t].speed=e[t].speed,r[t].skill=e[t].skill,r[t].power=e[t].power}},function(e,t,i){"use strict";var n;void 0===(n=function(e,t,i){function oid(){this._json={},this._text={}}oid.prototype.addJson=function(e,t){this._json[t]=e},oid.prototype.addText=function(e,t){this._text[t]=e},oid.prototype.getJson=function(e){return this._json[e]?this._json[e]:null},oid.prototype.getText=function(e){if(this._text[e])return this._text[e]},i.exports=new oid}.call(t,i,t,e))||(e.exports=n)},function(e,t,i){"use strict";var a=i(7),o=i(38),s=i(37),l=i(56)("src"),n=i(332),u=(""+n).split("toString");i(22).inspectSource=function(e){return n.call(e)},(e.exports=function(e,t,i,n){var r="function"==typeof i;r&&(s(i,"name")||o(i,"name",t)),e[t]!==i&&(r&&(s(i,l)||o(i,l,e[t]?""+e[t]:u.join(String(t)))),e===a?e[t]=i:n?e[t]?e[t]=i:o(e,t,i):(delete e[t],o(e,t,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[l]||n.call(this)})},function(e,t,i){"use strict";function Tid(e,t,i,n){var r=String(o(e)),a="<"+t;return""!==i&&(a+=" "+i+'="'+String(n).replace(s,"&quot;")+'"'),a+">"+r+"</"+t+">"}var n=i(2),r=i(8),o=i(50),s=/"/g;e.exports=function(t,e){var i={};i[t]=e(Tid),n(n.P+n.F*r(function(){var e=""[t]('"');return e!==e.toLowerCase()||3<e.split('"').length}),"String",i)}},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t,i){"use strict";var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,i){"use strict";var n=i(24),r=i(55);e.exports=i(23)?function(e,t,i){return n.f(e,t,r(1,i))}:function(e,t,i){return e[t]=i,e}},function(e,t,i){"use strict";var n=i(75),r=i(50);e.exports=function(e){return n(r(e))}},function(e,t,i){"use strict";var n=i(8);e.exports=function(e,t){return!!e&&n(function(){t?e.call(null,function(){},1):e.call(null)})}},function(e,t,a){"use strict";var i;void 0===(i=function(e,t,i){function Qjd(e,t){this.isOn=!1,this.count=0,this.ticker=t||n.instance,this.duration=60*e,this.onComplete=new r}var n=a(4),r=a(3);Qjd.prototype.setDuration=function(e){this.duration=60*e},Qjd.prototype.getDuration=function(){return this.duration/60},Qjd.prototype.start=function(e){this.isOn||(this.ticker.add(this.update,this),this.isOn=!0),e||(this.count=0)},Qjd.prototype.stop=function(){this.isOn=!1,this.ticker.remove(this.update,this)},Qjd.prototype.reset=function(){this.stop(),this.count=0},Qjd.prototype.getRatio=function(){return this.count/this.duration},Qjd.prototype.getSeconds=function(){return this.count/60},Qjd.prototype.getSecondsLeft=function(){return(this.duration-this.count)/60},Qjd.prototype.update=function(){this.count+=this.ticker.deltaTime,this.count>this.duration&&(this.onComplete.dispatch(),this.stop())},i.exports=Qjd}.call(t,a,t,e))||(e.exports=i)},function(e,t,i){"use strict";var a=i(43);e.exports=function(n,r,e){if(a(n),void 0===r)return n;switch(e){case 1:return function(e){return n.call(r,e)};case 2:return function(e,t){return n.call(r,e,t)};case 3:return function(e,t,i){return n.call(r,e,t,i)}}return function(){return n.apply(r,arguments)}}},function(e,t,i){"use strict";e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,i){"use strict";var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(0<e?r:n)(e)}},function(e,t,i){"use strict";var n=i(76),r=i(55),a=i(39),o=i(52),s=i(37),l=i(142),u=Object.getOwnPropertyDescriptor;t.f=i(23)?u:function(e,t){if(e=a(e),t=o(t,!0),l)try{return u(e,t)}catch(e){}if(s(e,t))return r(!n.f.call(e,t),e[t])}},function(e,t,i){"use strict";var r=i(2),a=i(22),o=i(8);e.exports=function(e,t){var i=(a.Object||{})[e]||Object[e],n={};n[e]=t(i),r(r.S+r.F*o(function(){i(1)}),"Object",n)}},function(e,t,i){"use strict";var y=i(42),b=i(75),w=i(31),x=i(20),n=i(158);e.exports=function(d,e){var c=1==d,p=2==d,f=3==d,m=4==d,_=6==d,g=5==d||_,v=e||n;return function(e,t,i){for(var n,r,a=w(e),o=b(a),s=y(t,i,3),l=x(o.length),u=0,h=c?v(e,l):p?v(e,0):void 0;u<l;u++)if((g||u in o)&&(r=s(n=o[u],u,a),d))if(c)h[u]=r;else if(r)switch(d){case 3:return!0;case 5:return n;case 6:return u;case 2:h.push(n)}else if(m)return!1;return _?-1:f||m?m:h}}},function(e,t,i){"use strict";var n;void 0===(n=function(e,t,i){function uld(e){this.classType=e,this.pool=[]}(uld.constructor=uld).prototype.prepopulate=function(e){for(var t=0;t<e;t++)this.pool.push(new this.classType)},uld.prototype.get=uld.prototype.getObject=function(){var e=this.pool.pop();return e=e||new this.classType},uld.prototype.return=uld.prototype.returnObject=function(e){-1!==this.pool.indexOf(e)||this.pool.push(e)},Object.defineProperties(uld.prototype,{total:{get:function(){return this.pool.length}},length:{get:function(){return this.pool.length}}}),uld.pools=[],uld.idGenerator=1,uld.getPool=function(e){return e._CLASS_ID||(e._CLASS_ID=uld.idGenerator++,uld.pools[e._CLASS_ID]=new uld(e)),uld.pools[e._CLASS_ID]},uld.get=uld.getObject=function(e){e._CLASS_ID||(e._CLASS_ID=uld.idGenerator++,uld.pools[e._CLASS_ID]=new uld(e));var t=uld.pools[e._CLASS_ID].getObject();return t._CLASS_ID=e._CLASS_ID,t},uld.return=uld.returnObject=function(e){uld.pools[e._CLASS_ID].returnObject(e)},i.exports=uld}.call(t,i,t,e))||(e.exports=n)},function(e,t,i){"use strict";var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t,i){"use strict";e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,i){"use strict";if(i(23)){var _=i(57),g=i(7),v=i(8),y=i(2),b=i(97),n=i(127),f=i(42),w=i(72),r=i(55),x=i(38),a=i(73),o=i(44),T=i(20),S=i(169),s=i(59),l=i(52),u=i(37),M=i(77),L=i(10),m=i(31),E=i(119),C=i(60),A=i(62),P=i(61).f,D=i(121),h=i(56),d=i(16),c=i(47),p=i(87),R=i(78),k=i(123),I=i(70),O=i(90),B=i(71),N=i(122),F=i(160),Y=i(24),U=i(45),j=Y.f,z=U.f,G=g.RangeError,H=g.TypeError,W=g.Uint8Array,V="ArrayBuffer",q="Shared"+V,X="BYTES_PER_ELEMENT",K="prototype",J=Array[K],Z=n.ArrayBuffer,Q=n.DataView,$=c(0),ee=c(2),te=c(3),ie=c(4),ne=c(5),re=c(6),ae=p(!0),oe=p(!1),se=k.values,le=k.keys,ue=k.entries,he=J.lastIndexOf,de=J.reduce,ce=J.reduceRight,pe=J.join,fe=J.sort,me=J.slice,_e=J.toString,ge=J.toLocaleString,ve=d("iterator"),ye=d("toStringTag"),be=h("typed_constructor"),we=h("def_constructor"),xe=b.CONSTR,Te=b.TYPED,Se=b.VIEW,Me="Wrong length!",Le=c(1,function(e,t){return De(R(e,e[we]),t)}),Ee=v(function(){return 1===new W(new Uint16Array([1]).buffer)[0]}),Ce=!!W&&!!W[K].set&&v(function(){new W(1).set({})}),Ae=function(e,t){var i=o(e);if(i<0||i%t)throw G("Wrong offset!");return i},Pe=function(e){if(L(e)&&Te in e)return e;throw H(e+" is not a typed array!")},De=function(e,t){if(!(L(e)&&be in e))throw H("It is not a typed array constructor!");return new e(t)},Re=function(e,t){return ke(R(e,e[we]),t)},ke=function(e,t){for(var i=0,n=t.length,r=De(e,n);i<n;)r[i]=t[i++];return r},Ie=function(e,t,i){j(e,t,{get:function(){return this._d[i]}})},Oe=function(e,t,i){var n,r,a,o,s,l,u=m(e),h=arguments.length,d=1<h?t:void 0,c=void 0!==d,p=D(u);if(null!=p&&!E(p)){for(l=p.call(u),a=[],n=0;!(s=l.next()).done;n++)a.push(s.value);u=a}for(c&&2<h&&(d=f(d,i,2)),n=0,r=T(u.length),o=De(this,r);n<r;n++)o[n]=c?d(u[n],n):u[n];return o},Be=function(){for(var e=0,t=arguments.length,i=De(this,t);e<t;)i[e]=arguments[e++];return i},Ne=!!W&&v(function(){ge.call(new W(1))}),Fe=function(){return ge.apply(Ne?me.call(Pe(this)):Pe(this),arguments)},Ye={copyWithin:function(e,t,i){return F.call(Pe(this),e,t,2<arguments.length?i:void 0)},every:function(e,t){return ie(Pe(this),e,1<arguments.length?t:void 0)},fill:function(e){return N.apply(Pe(this),arguments)},filter:function(e,t){return Re(this,ee(Pe(this),e,1<arguments.length?t:void 0))},find:function(e,t){return ne(Pe(this),e,1<arguments.length?t:void 0)},findIndex:function(e,t){return re(Pe(this),e,1<arguments.length?t:void 0)},forEach:function(e,t){$(Pe(this),e,1<arguments.length?t:void 0)},indexOf:function(e,t){return oe(Pe(this),e,1<arguments.length?t:void 0)},includes:function(e,t){return ae(Pe(this),e,1<arguments.length?t:void 0)},join:function(e){return pe.apply(Pe(this),arguments)},lastIndexOf:function(e){return he.apply(Pe(this),arguments)},map:function(e,t){return Le(Pe(this),e,1<arguments.length?t:void 0)},reduce:function(e){return de.apply(Pe(this),arguments)},reduceRight:function(e){return ce.apply(Pe(this),arguments)},reverse:function(){for(var e,t=Pe(this).length,i=Math.floor(t/2),n=0;n<i;)e=this[n],this[n++]=this[--t],this[t]=e;return this},some:function(e,t){return te(Pe(this),e,1<arguments.length?t:void 0)},sort:function(e){return fe.call(Pe(this),e)},subarray:function(e,t){var i=Pe(this),n=i.length,r=s(e,n);return new(R(i,i[we]))(i.buffer,i.byteOffset+r*i.BYTES_PER_ELEMENT,T((void 0===t?n:s(t,n))-r))}},Ue=function(e,t){return Re(this,me.call(Pe(this),e,t))},je=function(e,t){Pe(this);var i=Ae(t,1),n=this.length,r=m(e),a=T(r.length),o=0;if(n<a+i)throw G(Me);for(;o<a;)this[i+o]=r[o++]},ze={entries:function(){return ue.call(Pe(this))},keys:function(){return le.call(Pe(this))},values:function(){return se.call(Pe(this))}},Ge=function(e,t){return L(e)&&e[Te]&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},He=function(e,t){return Ge(e,t=l(t,!0))?r(2,e[t]):z(e,t)},We=function(e,t,i){return!(Ge(e,t=l(t,!0))&&L(i)&&u(i,"value"))||u(i,"get")||u(i,"set")||i.configurable||u(i,"writable")&&!i.writable||u(i,"enumerable")&&!i.enumerable?j(e,t,i):(e[t]=i.value,e)};xe||(U.f=He,Y.f=We),y(y.S+y.F*!xe,"Object",{getOwnPropertyDescriptor:He,defineProperty:We}),v(function(){_e.call({})})&&(_e=ge=function(){return pe.call(this)});var Ve=a({},Ye);a(Ve,ze),x(Ve,ve,ze.values),a(Ve,{slice:Ue,set:je,constructor:function(){},toString:_e,toLocaleString:Fe}),Ie(Ve,"buffer","b"),Ie(Ve,"byteOffset","o"),Ie(Ve,"byteLength","l"),Ie(Ve,"length","e"),j(Ve,ye,{get:function(){return this[Te]}}),e.exports=function(e,d,t,a){function qpd(e,r){j(e,r,{get:function(){return e=r,(t=this._d).v[i](e*d+t.o,Ee);var e,t},set:function(e){return t=r,i=e,n=this._d,a&&(i=(i=Math.round(i))<0?0:255<i?255:255&i),void n.v[o](t*d+n.o,i,Ee);var t,i,n},enumerable:!0})}var c=e+((a=!!a)?"Clamped":"")+"Array",i="get"+e,o="set"+e,p=g[c],s=p||{},n=p&&A(p),r=!p||!b.ABV,l={},u=p&&p[K];r?(p=t(function(e,t,i,n){w(e,p,c,"_d");var r,a,o,s,l=0,u=0;if(L(t)){if(!(t instanceof Z||(s=M(t))==V||s==q))return Te in t?ke(p,t):Oe.call(p,t);r=t,u=Ae(i,d);var h=t.byteLength;if(void 0===n){if(h%d)throw G(Me);if((a=h-u)<0)throw G(Me)}else if(h<(a=T(n)*d)+u)throw G(Me);o=a/d}else o=S(t),r=new Z(a=o*d);for(x(e,"_d",{b:r,o:u,l:a,e:o,v:new Q(r)});l<o;)qpd(e,l++)}),u=p[K]=C(Ve),x(u,"constructor",p)):v(function(){p(1)})&&v(function(){new p(-1)})&&O(function(e){new p,new p(null),new p(1.5),new p(e)},!0)||(p=t(function(e,t,i,n){var r;return w(e,p,c),L(t)?t instanceof Z||(r=M(t))==V||r==q?void 0!==n?new s(t,Ae(i,d),n):void 0!==i?new s(t,Ae(i,d)):new s(t):Te in t?ke(p,t):Oe.call(p,t):new s(S(t))}),$(n!==Function.prototype?P(s).concat(P(n)):P(s),function(e){e in p||x(p,e,s[e])}),p[K]=u,_||(u.constructor=p));var h=u[ve],f=!!h&&("values"==h.name||null==h.name),m=ze.values;x(p,be,!0),x(u,Te,c),x(u,Se,!0),x(u,we,p),(a?new p(1)[ye]==c:ye in u)||j(u,ye,{get:function(){return c}}),l[c]=p,y(y.G+y.W+y.F*(p!=s),l),y(y.S,c,{BYTES_PER_ELEMENT:d}),y(y.S+y.F*v(function(){s.of.call(p,1)}),c,{from:Oe,of:Be}),X in u||x(u,X,d),y(y.P,c,Ye),B(c),y(y.P+y.F*Ce,c,{set:je}),y(y.P+y.F*!f,c,ze),_||u.toString==_e||(u.toString=_e),y(y.P+y.F*v(function(){new p(1).slice()}),c,{slice:Ue}),y(y.P+y.F*(v(function(){return[1,2].toLocaleString()!=new p([1,2]).toLocaleString()})||!v(function(){u.toLocaleString.call([1,2])})),c,{toLocaleString:Fe}),I[c]=f?h:m,_||f||x(u,ve,m)}}else e.exports=function(){}},function(e,t,i){"use strict";var r=i(10);e.exports=function(e,t){if(!r(e))return e;var i,n;if(t&&"function"==typeof(i=e.toString)&&!r(n=i.call(e)))return n;if("function"==typeof(i=e.valueOf)&&!r(n=i.call(e)))return n;if(!t&&"function"==typeof(i=e.toString)&&!r(n=i.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},function(e,t,i){"use strict";function mqd(e){o(e,n,{value:{i:"O"+ ++s,w:{}}})}var n=i(56)("meta"),r=i(10),a=i(37),o=i(24).f,s=0,l=Object.isExtensible||function(){return!0},u=!i(8)(function(){return l(Object.preventExtensions({}))}),h=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,n)){if(!l(e))return"F";if(!t)return"E";mqd(e)}return e[n].i},getWeak:function(e,t){if(!a(e,n)){if(!l(e))return!0;if(!t)return!1;mqd(e)}return e[n].w},onFreeze:function(e){return u&&h.NEED&&l(e)&&!a(e,n)&&mqd(e),e}}},function(e,t,s){"use strict";var i;void 0===(i=function(e,t,i){function Iqd(e){this.spring=new n,this.onScrollUpdate=new o;var t=e.scrollbarClass||r;this.target=e.target,this.value=0,this.easingValue=0,this.dragOffset=0,this.dragging=!1,this.speed=0,this.size=1024,this.maxSlots=1,this.capMovement=!0,this.prevPosition=0,this.valueY=0,this.easingValueY=0,this.dragOffsetY=0,this.speedY=0,this.prevPositionY=0,this.didMove=!1,this.didMoveY=!1,this.target.interactive=!0,this.scrollMin=-1/0,this.scrollMax=0,this.scrollMinY=-1/0,this.scrollMaxY=0,!(this.snapTo=!1)===e.scrollbar&&!1===a.instance.mobile&&!1===a.instance.iPad&&(this.scrollBar=new t({target:e.scrollTarget,trackpad:this})),this._onDownBinded=this.onDown.bind(this),this._onUpBinded=this.onUp.bind(this),this._onMoveBinded=this.onMove.bind(this),this.target.on("touchstart",this._onDownBinded).on("mousedown",this._onDownBinded)}var n=s(132),r=s(552),a=s(15),o=s(3);(Iqd.constructor=Iqd).prototype.unlock=function(){this.locked=!1,this.speed=0,this.easingValue=this.value,this.easingValueY=this.valueY,this.speedY=0,this.speedX=0,window.onmousewheel=this.onMouseWheel.bind(this)},Iqd.prototype.lock=function(){this.locked=!0,window.onmousewheel=null},Iqd.prototype.update=function(){if(this.value+=.3*(this.easingValue-this.value),this.valueY+=.3*(this.easingValueY-this.valueY),!this.locked)if(this.dragging){var e=this.easingValue-this.prevPosition;e*=.7,this.speed+=.5*(e-this.speed),this.prevPosition=this.easingValue;var t=this.easingValueY-this.prevPositionY;t*=.7,this.speedY+=.5*(t-this.speedY),this.prevPositionY=this.easingValueY}else this.snapTo?(this.spring.update(),this.easingValue=this.spring.x,this.easingValueY=this.spring.y):(this.speed*=.95,this.easingValue+=this.speed,this.speedY*=.95,this.easingValueY+=this.speedY),this.capMovement&&(this.easingValue>this.scrollMax?this.easingValue+=.3*(this.scrollMax-this.easingValue):this.easingValue<this.scrollMin&&(this.easingValue+=.3*(this.scrollMin-this.easingValue)),this.easingValueY>this.scrollMaxY?this.easingValueY+=.3*(this.scrollMaxY-this.easingValueY):this.easingValueY<this.scrollMinY&&(this.easingValueY+=.3*(this.scrollMinY-this.easingValueY)))},Iqd.prototype.stop=function(){this.speed=0,this.speedY=0,this.value=this.prevPosition=this.easingValue,this.valueY=this.prevPositionY=this.easingValueY},Iqd.prototype.setPosition=function(e,t){this.value=this.easingValue=e,this.valueY=this.easingValueY=t},Iqd.prototype.easeToPosition=function(e,t){this.easingValue=e,this.easingValueY=t},Iqd.prototype.onDown=function(e){this.locked||(this.speed=0,this.speedY=0,this.stop(),this.didMove=!1,this.didMoveY=!1,this.checkX=e.data.global.x,this.checkY=e.data.global.y,this.dragging=!0,this.dragOffset=e.data.global.x-this.value,this.dragOffsetY=e.data.global.y-this.valueY,this.target.on("touchend",this._onUpBinded).on("touchendoutside",this._onUpBinded).on("mouseup",this._onUpBinded).on("mouseupoutside",this._onUpBinded).on("touchmove",this._onMoveBinded).on("mousemove",this._onMoveBinded))},Iqd.prototype.onMouseWheel=function(e){this.target.interactive&&(e.preventDefault?e.preventDefault():e.returnValue=!1,this.locked||(this.speed=.15*e.wheelDeltaX,this.speedY=.15*e.wheelDeltaY))},Iqd.prototype.onUp=function(){if(!this.locked){if(this.dragging=!1,this.snapTo){var e;if(this.didMove)this.spring.dx=this.speed,e=this.speed<0?Math.floor(this.easingValue/this.size):Math.ceil(this.easingValue/this.size),this.capMovement&&(0<e?e=0:e<-this.maxSlots&&(e=-this.maxSlots)),this.spring.tx=e*this.size,this.spring.dy=this.speedY,e=this.speedY<0?Math.floor(this.easingValueY/this.size):Math.ceil(this.easingValueY/this.size),this.capMovement&&(0<e?e=0:e<-this.maxSlots&&(e=-this.maxSlots)),this.spring.ty=e*this.size;this.spring.x=this.easingValue,this.spring.y=this.easingValueY}this.cap(),this.target.off("touchend",this._onUpBinded).off("touchendoutside",this._onUpBinded).off("mouseup",this._onUpBinded).off("mouseupoutside",this._onUpBinded).off("touchmove",this._onMoveBinded).off("mousemove",this._onMoveBinded)}},Iqd.prototype.cap=function(){this.capMovement&&(this.snapTo&&(this.spring.tx>this.scrollMax?this.spring.tx=this.scrollMax:this.spring.tx<this.scrollMin&&(this.spring.tx=this.scrollMin)),this.snapTo&&(this.spring.ty>this.scrollMaxY?this.spring.ty=this.scrollMaxY:this.spring.ty<this.scrollMinY&&(this.spring.ty=this.scrollMinY)))},Iqd.prototype.setSlot=function(e,t){this.spring.tx=e*-this.size,t&&(this.value=this.easingValue=this.spring.x=this.spring.tx),this.cap()},Iqd.prototype.setSlotY=function(e){this.spring.ty=e*-this.size,this.cap()},Iqd.prototype.nextSlot=function(){this.spring.tx-=this.size,this.spring.tx<-(this.maxSlots*this.size)&&(this.spring.tx=-(this.maxSlots*this.size)),this.cap()},Iqd.prototype.nextSlotY=function(){this.spring.ty-=this.size,this.spring.ty<-(this.maxSlots*this.size)&&(this.spring.ty=-(this.maxSlots*this.size)),this.cap()},Iqd.prototype.previousSlot=function(){this.spring.tx+=this.size,this.cap()},Iqd.prototype.previousSlotY=function(){this.spring.ty+=this.size,this.cap()},Iqd.prototype.setSize=function(e){this.size=e,this.scrollbar&&this.scrollBar.setSize(e)},Iqd.prototype.setSlots=function(e){this.maxSlots=e-1},Iqd.prototype.onMove=function(e){this.locked||(10<Math.abs(this.checkX-e.data.global.x)&&(this.didMove=!0),10<Math.abs(this.checkY-e.data.global.y)&&(this.didMove=!0),this.easingValue=e.data.global.x-this.dragOffset,this.easingValueY=e.data.global.y-this.dragOffsetY,this.capMovement&&(this.easingValue>this.scrollMax?this.easingValue=this.scrollMax+.3*(this.easingValue-this.scrollMax):this.easingValue<this.scrollMin&&(this.easingValue=this.scrollMin+.3*(this.easingValue-this.scrollMin)),this.easingValueY>this.scrollMaxY?this.easingValueY=this.scrollMaxY+.3*(this.easingValueY-this.scrollMaxY):this.easingValueY<this.scrollMinY&&(this.easingValueY=this.scrollMinY+.3*(this.easingValueY-this.scrollMinY))))},i.exports=Iqd}.call(t,s,t,e))||(e.exports=i)},function(e,t,i){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,i){"use strict";var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t,i){"use strict";e.exports=!1},function(e,t,i){"use strict";var n=i(144),r=i(106);e.exports=Object.keys||function(e){return n(e,r)}},function(e,t,i){"use strict";var n=i(44),r=Math.max,a=Math.min;e.exports=function(e,t){return(e=n(e))<0?r(e+t,0):a(e,t)}},function(e,t,n){"use strict";function Ird(){}var r=n(9),a=n(145),o=n(106),s=n(105)("IE_PROTO"),l="prototype",u=function(){var e,t=n(103)("iframe"),i=o.length;for(t.style.display="none",n(107).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;i--;)delete u[l][o[i]];return u()};e.exports=Object.create||function(e,t){var i;return null!==e?(Ird[l]=r(e),i=new Ird,Ird[l]=null,i[s]=e):i=u(),void 0===t?i:a(i,t)}},function(e,t,i){"use strict";var n=i(144),r=i(106).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,r)}},function(e,t,i){"use strict";var n=i(37),r=i(31),a=i(105)("IE_PROTO"),o=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),n(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?o:null}},function(e,t,i){"use strict";var n=i(16)("unscopables"),r=Array.prototype;null==r[n]&&i(38)(r,n,{}),e.exports=function(e){r[n][e]=!0}},function(e,t,i){"use strict";var n=i(10);e.exports=function(e,t){if(!n(e)||e._t!==t)throw TypeError("Incompatible receiver, "+t+" required!");return e}},function(e,t,i){"use strict";e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(t,e){(function(e){t.exports=e}).call(this,{})},function(e,t,i){"use strict";var n;void 0===(n=function(e,t,i){function Gsd(){this.updateBind=this.update.bind(this),this.waits=[]}Gsd.prototype.wait=function(e,t){var i={callback:e,count:t||2};this.waits.push(i),requestAnimationFrame(this.updateBind)},Gsd.prototype.update=function(){for(var e=this.waits.length-1;0<=e;e--){var t=this.waits[e];t.count--,t.count<=0&&(t.callback(),this.waits.splice(e,1))}0<this.waits.length&&requestAnimationFrame(this.updateBind)},i.exports=new Gsd}.call(t,i,t,e))||(e.exports=n)},function(e,t,i){"use strict";var n=i(24).f,r=i(37),a=i(16)("toStringTag");e.exports=function(e,t,i){e&&!r(e=i?e:e.prototype,a)&&n(e,a,{configurable:!0,value:t})}},function(e,t,i){"use strict";function etd(e,t,i){var n={},r=s(function(){return!!l[e]()||""!=""[e]()}),a=n[e]=r?t(h):l[e];i&&(n[i]=a),o(o.P+o.F*r,"String",n)}var o=i(2),n=i(50),s=i(8),l=i(109),r="["+l+"]",a=RegExp("^"+r+r+"*"),u=RegExp(r+r+"*$"),h=etd.trim=function(e,t){return e=String(n(e)),1&t&&(e=e.replace(a,"")),2&t&&(e=e.replace(u,"")),e};e.exports=etd},function(e,t,i){"use strict";e.exports={}},function(e,t,i){"use strict";var n=i(7),r=i(24),a=i(23),o=i(16)("species");e.exports=function(e){var t=n[e];a&&t&&!t[o]&&r.f(t,o,{configurable:!0,get:function(){return this}})}},function(e,t,i){"use strict";e.exports=function(e,t,i,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(i+": incorrect invocation!");return e}},function(e,t,i){"use strict";var r=i(34);e.exports=function(e,t,i){for(var n in t)r(e,n,t[n],i);return e}},function(e,t,i){"use strict";t.__esModule=!0,t.setStadiumData=t.getStadiums=t.StadiumData=void 0;var n=_interopRequireDefault(i(542)),r=_interopRequireDefault(i(543)),a=_interopRequireDefault(i(544)),o=_interopRequireDefault(i(545)),s=_interopRequireDefault(i(546)),l=_interopRequireDefault(i(547)),u=_interopRequireDefault(i(549));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var h={beach:{id:"beach",name:"STR_STADIUM_BEACH",show:!0,available:!0,locked:!0,comingSoon:!0,selected:!1,thumb:"thumb-stadium-beach.png",unlockedPanels:[],background:a.default,bleacherFrames:4},tokyo:{id:"tokyo",name:"STR_STADIUM_TOKYO",show:!0,available:!0,locked:!0,comingSoon:!0,selected:!1,thumb:"thumb-stadium-tokyo.png",unlockedPanels:[],background:o.default,gameDecoration:u.default,bleacherFrames:4},urban:{id:"urban",name:"STR_STADIUM_URBAN",show:!0,available:!0,locked:!0,comingSoon:!0,selected:!1,thumb:"thumb-stadium-urban.png",unlockedPanels:[],background:s.default,bleacherFrames:4},default:{id:"default",name:"STR_STADIUM_DEFAULT",show:!0,available:!0,locked:!1,selected:!0,thumb:"thumb-stadium-default.png",background:n.default,bleacherFrames:4},winter:{id:"winter",name:"STR_STADIUM_WINTER",show:!1,available:!1,locked:!1,selected:!1,thumb:"thumb-stadium-winter.png",background:r.default,gameDecoration:l.default,bleacherFrames:4}};t.StadiumData=h;var d={all:function(){var e=[];for(var t in h)e.push(h[t]);return e},showable:function(){var e=[];for(var t in h)h[t].show&&e.push(h[t]);return e},unlocked:function(){var e=[];for(var t in h)h[t].locked||e.push(h[t]);return e},locked:function(){var e=[];for(var t in h)h[t].locked&&e.push(h[t]);return e},selected:function(){var e=null;for(var t in h)h[t].selected&&(e=h[t]);return e},withId:function(e){for(var t in h)if(h[t].id===e)return h[t]},saveFormat:function(){var e={};for(var t in h){var i={locked:h[t].locked,selected:h[t].selected,unlockedPanels:h[t].unlockedPanels};e[t]=i}return e}};t.getStadiums=d;t.setStadiumData=function(e){for(var t in e)h[t].locked=e[t].locked,h[t].selected=e[t].selected,h[t].unlockedPanels=e[t].unlockedPanels}},function(e,t,i){"use strict";var n=i(49);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t,i){"use strict";t.f={}.propertyIsEnumerable},function(e,t,i){"use strict";var r=i(49),a=i(16)("toStringTag"),o="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,i,n;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),a))?i:o?r(t):"Object"==(n=r(t))&&"function"==typeof t.callee?"Arguments":n}},function(e,t,i){"use strict";var r=i(9),a=i(43),o=i(16)("species");e.exports=function(e,t){var i,n=r(e).constructor;return void 0===n||null==(i=r(n)[o])?t:a(i)}},function(e,t,i){"use strict";var n;void 0===(n=function(e,t,i){var n={shuffle:function(e){for(var t,i,n=e.length;0!==n;)i=Math.floor(Math.random()*n),t=e[--n],e[n]=e[i],e[i]=t;return e}};i.exports=n}.call(t,i,t,e))||(e.exports=n)},function(e,t,i){"use strict";t.__esModule=!0,t.setBallData=t.getBalls=t.BallData=void 0;var n={default:{id:"default",show:!0,locked:!1,comingSoon:!1,selected:!0,splash:"01-standard-ball-thumb.png",model:"ball-default.obj",texture:"01-standard-ball-texture.jpg",material:"default",scale:3,price:0},adventure:{id:"adventure",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"brand-adventure-ball-thumb.png",model:"ball-default.obj",texture:"brand-adventure-ball-texture.jpg",material:"default",scale:3,price:100},ben10:{id:"ben10",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"brand-ben10-ball-thumb.png",model:"ball-default.obj",texture:"brand-ben10-ball-texture.jpg",material:"default",scale:3,price:100},rainbow:{id:"rainbow",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"02-rainbow-ball-thumb.png",model:"ball-default.obj",texture:"02-rainbow-ball-texture.jpg",material:"default",scale:3,price:100},beach1:{id:"beach1",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"03-beach1-ball-thumb.png",model:"ball-default.obj",texture:"03-beach1-ball-texture.jpg",material:"default",scale:3,price:100},beach2:{id:"beach2",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"04-beach2-ball-thumb.png",model:"ball-default.obj",texture:"04-beach2-ball-texture.jpg",material:"default",scale:3,price:100},tokyo1:{id:"tokyo1",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"05-tokyo1-ball-thumb.png",model:"ball-default.obj",texture:"05-tokyo1-ball-texture.jpg",material:"default",scale:3,price:150},tokyo2:{id:"tokyo2",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"06-tokyo2-ball-thumb.png",model:"ball-default.obj",texture:"06-tokyo2-ball-texture.jpg",material:"default",scale:3,price:150},urban1:{id:"urban1",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"07-urban1-ball-thumb.png",model:"ball-default.obj",texture:"07-urban1-ball-texture.jpg",material:"default",scale:3,price:100},urban2:{id:"urban2",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"08-urban2-ball-thumb.png",model:"ball-default.obj",texture:"08-urban2-ball-texture.jpg",material:"default",scale:3,price:100},bearbear:{id:"bearbear",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"brand-bearbear-ball-thumb.png",model:"ball-default.obj",texture:"brand-bearbear-ball-texture.jpg",material:"default",scale:3,price:150},gumball:{id:"gumball",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"brand-gumball-ball-thumb.png",model:"ball-default.obj",texture:"brand-gumball-ball-texture.jpg",material:"default",scale:3,price:150},powerpuff:{id:"powerpuff",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"brand-powerpuff-ball-thumb.png",model:"ball-default.obj",texture:"brand-powerpuff-ball-texture.jpg",material:"default",scale:3,price:150},steven:{id:"steven",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"brand-steven-ball-thumb.png",model:"ball-default.obj",texture:"brand-steven-ball-texture.jpg",material:"default",scale:3,price:150},summer:{id:"summer",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"brand-summer-ball-thumb.png",model:"ball-default.obj",texture:"brand-summer-ball-texture.jpg",material:"default",scale:3,price:150},tooncup:{id:"tooncup",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"brand-tooncup-ball-thumb.png",model:"ball-default.obj",texture:"brand-tooncup-ball-texture.jpg",material:"default",scale:3,price:150},bumblebee:{id:"bumblebee",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"general-bumblebee-ball-thumb.png",model:"ball-default.obj",texture:"general-bumblebee-ball-texture.jpg",material:"default",scale:3,price:150},cyber:{id:"cyber",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"general-cyber-ball-thumb.png",model:"ball-default.obj",texture:"general-cyber-ball-texture.jpg",material:"default",scale:3,price:150},fireball:{id:"fireball",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"general-fire-ball-thumb.png",model:"ball-default.obj",texture:"general-fire-ball-texture.jpg",material:"default",scale:3,price:150},monster:{id:"monster",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"general-monster-ball-thumb.png",model:"ball-default.obj",texture:"general-monster-ball-texture.jpg",material:"default",scale:3,price:150},poison:{id:"poison",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"general-poison-ball-thumb.png",model:"ball-default.obj",texture:"general-poison-ball-texture.jpg",material:"default",scale:3,price:150},rock:{id:"rock",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"general-rock-ball-thumb.png",model:"ball-default.obj",texture:"general-rock-ball-texture.jpg",material:"default",scale:3,price:150},stars:{id:"stars",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"general-stars-ball-thumb.png",model:"ball-default.obj",texture:"general-stars-ball-texture.jpg",material:"default",scale:3,price:150},tech:{id:"tech",show:!0,locked:!0,comingSoon:!1,selected:!1,splash:"general-tech-ball-thumb.png",model:"ball-default.obj",texture:"general-tech-ball-texture.jpg",material:"default",scale:3,price:150}};t.BallData=n;var r={all:function(){var e=[];for(var t in n)e.push(n[t]);return e},showable:function(){var e=[];for(var t in n)n[t].show&&e.push(n[t]);return e},showableByPrice:function(){var e=[];for(var t in n)n[t].show&&e.push(n[t]);return e.sort(function(e,t){return e.price-t.price}),e},unlocked:function(){var e=[];for(var t in n)n[t].locked||e.push(n[t]);return e},locked:function(){var e=[];for(var t in n)n[t].locked&&e.push(n[t]);return e},selected:function(){var e=null;for(var t in n)n[t].selected&&(e=n[t]);return e},withId:function(e){for(var t in n)if(n[t].id===e)return n[t]},saveFormat:function(){var e={};for(var t in n){var i={locked:n[t].locked,selected:n[t].selected};e[t]=i}return e}};t.getBalls=r;t.setBallData=function(e){for(var t in e)n[t].locked=e[t].locked,n[t].selected=e[t].selected}},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var s=i(0);function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=function(i){var e,t;function BaseBackground(e){var t;return _defineProperty(_assertThisInitialized(t=i.call(this)||this),"_bg",void 0),_defineProperty(_assertThisInitialized(t),"_fg",void 0),t._bg=s.Sprite.from(RESOLVE_PATH(ASSET_URL+"img/content/stadiums/core-assets/"+e+"-stadium/background-artwork.jpg")),t._fg=new s.Container,t.addChild(t._bg),t._bg.addChild(t._fg),t}t=i,(e=BaseBackground).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n,r,a,o=BaseBackground.prototype;return o.showDecorations=function(){this.fg.visible=!0},o.hideDecorations=function(){this.fg.visible=!1},n=BaseBackground,(r=[{key:"bg",get:function(){return this._bg}},{key:"fg",get:function(){return this._fg}}])&&_defineProperties(n.prototype,r),a&&_defineProperties(n,a),BaseBackground}(s.Container);t.default=n},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n,o=i(0),r=(n=i(4))&&n.__esModule?n:{default:n};function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var a=function(a){var e,t;function SpotLights(e,t){var i;void 0===e&&(e=!1),void 0===t&&(t=null),_defineProperty(_assertThisInitialized(i=a.call(this)||this),"spots",void 0),_defineProperty(_assertThisInitialized(i),"config",void 0),_defineProperty(_assertThisInitialized(i),"tick",void 0),i.spots=[],(i.config=t)||(i.config=e?[{x:960,y:1080,rotation:Math.PI/2-.2},{x:960,y:1080,rotation:Math.PI/2},{x:960,y:1080,rotation:Math.PI/2+.2},{x:0,y:1080,rotation:Math.PI/2+.4},{x:1920,y:1080,rotation:Math.PI/2-.4}]:[{x:200,y:100,rotation:-Math.PI/2-Math.PI/4},{x:1720,y:100,rotation:-Math.PI/4},{x:320,y:190,rotation:-Math.PI/2-Math.PI/4+.4},{x:1600,y:190,rotation:-Math.PI/4-.4}]);for(var n=0;n<i.config.length;n++){var r=o.Sprite.from("home_stadium_light.png");r.blendMode=o.BLEND_MODES.ADD,r.anchor.set(.95,.5),r.position.x=i.config[n].x,r.position.y=i.config[n].y,r.tick=n%2==0?-1:1,r.startTick=1e3*Math.random(),r.alpha=.6,i.spots.push(r),i.addChild(r)}return i.tick=0,i}t=a,(e=SpotLights).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=SpotLights.prototype;return i.updateTransform=function(){a.prototype.updateTransform.call(this),this.tick+=.015*r.default.instance.deltaTime;for(var e=0;e<this.spots.length;e++){var t=Math.PI/180*Math.sin(this.spots[e].startTick+this.tick*this.spots[e].tick)*18;this.spots[e].rotation=this.config[e].rotation-t}},i.show=function(){TweenLite.to(this,.3,{alpha:1})},i.hide=function(){TweenLite.to(this,.5,{alpha:0})},SpotLights}(o.Container);t.default=a},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n,a=i(0),o=(n=i(14))&&n.__esModule?n:{default:n};function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var r=function(r){var e,t;function CameraFlashes(e){var t;_defineProperty(_assertThisInitialized(t=r.call(this)||this),"flashes",void 0),_defineProperty(_assertThisInitialized(t),"active",void 0),_defineProperty(_assertThisInitialized(t),"width",void 0),_defineProperty(_assertThisInitialized(t),"height",void 0),_defineProperty(_assertThisInitialized(t),"heightOffset",void 0),_defineProperty(_assertThisInitialized(t),"maxFlashSize",void 0),t.width=e.width,t.height=e.height,t.heightOffset=0|e.heightOffset,t.maxFlashSize=e.maxFlashSize||2,t.flashes=[],e.debug&&t.debug();for(var i=0;i<20;i++){var n=a.Sprite.from("camera-flash.png");n.anchor.set(.5),t.flashes.push(n),t.addChild(n)}return t.active=!0,t}t=r,(e=CameraFlashes).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=CameraFlashes.prototype;return i.flash=function(){var e=this;TweenLite.delayedCall(1.5*Math.random()+.3,function(){e.active&&e.flash()});for(var t=0;t<this.flashes.length;t++)this.flashes[t].position.x=Math.random()*this.width,this.flashes[t].position.y=Math.random()*this.height+this.heightOffset,this.flashes[t].alpha=1,this.flashes[t].scale.set(o.default.random(.1,this.maxFlashSize)),TweenLite.to(this.flashes[t],Math.random()+.3,{alpha:0})},i.show=function(){this.active=!0,this.flash()},i.hide=function(){this.active=!1},i.debug=function(){var e=new a.Graphics;e.beginFill(0),e.drawRect(0,0,this.width,this.height),e.position.y=this.heightOffset,this.addChild(e)},CameraFlashes}(a.Container);t.default=r},function(e,t,n){"use strict";var i;void 0===(i=function(e,t,i){function gxd(e,t,i){a.Container.call(this),this.particals=[],this.particalPool=new o(l),this.max=a.isWebGL?150:5,this.overallScale=i||1,s.instance.isMobile&&(this.max=a.isWebGL?60:10),this.count=0;for(var n=this.pos=0;n<this.max;n++){var r=this.particalPool.getObject();r.home.x=-1136*Math.random(),r.position.y=r.home.y=110640*Math.random(),r.speed=new a.Point(Math.random()-.5,Math.random()+2),this.particals.push(r),this.addChild(r)}this.w=e||1136,this.h=t||740,this.focalLength=150}var a=n(0),o=n(48),s=n(15),r=n(4);(gxd.prototype=Object.create(a.Container.prototype)).update=function(e){if(this.visible)for(var t=0;t<this.particals.length;t++){var i=this.particals[t],n=(this.focalLength,this.focalLength,i.z);n=this.focalLength/(this.focalLength+i.z);i.scale.x=i.scale.y=.2*n*i.scaleOffset*this.overallScale,i.home.x+=i.speed.x*r.instance.deltaTime,i.home.y+=i.speed.y*r.instance.deltaTime,i.position.y=(i.home.y-e.y)*n*.5,i.position.x=(i.home.x-e.x)*n*.5,i.scale.y*=Math.sin(2*i.rotation),i.position.x%=this.w,i.position.x<0&&(i.position.x+=this.w),i.position.y%=this.h,i.position.y<0&&(i.position.y+=this.h),i.rotation+=i.rotationSpeed*r.instance.deltaTime}},gxd.prototype.resize=function(e){};var l=function ParticalTickerTape(){ParticalTickerTape.globalCount++,a.Sprite.call(this,a.Texture.fromFrame(ParticalTickerTape.frames[ParticalTickerTape.globalCount%6])),this.anchor.x=.5,this.anchor.y=.5,this.scaleOffset=1+Math.random(),this.z=-50*Math.random()-50,this.rotation=Math.random()*Math.PI*2,this.rotationSpeed=.3*(Math.random()-.5),this.home=new a.Point};l.globalCount=0,l.frames=["confetti-yellow.png","confetti-blue.png","confetti-red.png","streamer-blue.png","streamer-red.png","streamer-yellow.png"],l.prototype=Object.create(a.Sprite.prototype),i.exports=gxd}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){"use strict";var i;void 0===(i=function(e,t,i){function Axd(){this.animations={},this.rules={},this.texture=null,this.nextAnimation=null,this.currentAnimation=null}n(0);Axd.prototype.register=function(e,t){t.id=e,t.currentFrame=0,t.speed=t.speed||.4,this.animations[e]=t},Axd.prototype.play=function(e,t){var i=this.animations[e];i!==this.currentAnimation&&(i.currentFrame=0,this.currentAnimation=i,t?(this.nextAnimation=this.animations[t],this.nextAnimation.currentFrame=0):this.nextAnimation=null)},Axd.prototype.update=function(e){e=e||1;var t=this.currentAnimation,i=Math.floor(t.currentFrame);t&&(t.loop?i%=t.frames.length:i>t.frames.length-1&&(i=t.frames.length-1,this.nextAnimation&&(this.currentAnimation=this.nextAnimation,this.nextAnimation=null)),t.currentFrame+=t.speed*e,this.texture=t.frames[i])},i.exports=Axd}.call(t,n,t,e))||(e.exports=i)},function(e,t,i){"use strict";var n=i(22),r=i(7),a="__core-js_shared__",o=r[a]||(r[a]={});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:n.version,mode:i(57)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t,i){"use strict";var l=i(39),u=i(20),h=i(59);e.exports=function(s){return function(e,t,i){var n,r=l(e),a=u(r.length),o=h(i,a);if(s&&t!=t){for(;o<a;)if((n=r[o++])!=n)return!0}else for(;o<a;o++)if((s||o in r)&&r[o]===t)return s||o||0;return!s&&-1}}},function(e,t,i){"use strict";t.f=Object.getOwnPropertySymbols},function(e,t,i){"use strict";var n=i(49);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,i){"use strict";var a=i(16)("iterator"),o=!1;try{var n=[7][a]();n.return=function(){o=!0},Array.from(n,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return!1;var i=!1;try{var n=[7],r=n[a]();r.next=function(){return{done:i=!0}},n[a]=function(){return r},e(n)}catch(e){}return i}},function(e,t,i){"use strict";var n=i(9);e.exports=function(){var e=n(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,i){"use strict";var r=i(77),a=RegExp.prototype.exec;e.exports=function(e,t){var i=e.exec;if("function"==typeof i){var n=i.call(e,t);if("object"!=typeof n)throw new TypeError("RegExp exec method returned something other than an Object or null");return n}if("RegExp"!==r(e))throw new TypeError("RegExp#exec called on incompatible receiver");return a.call(e,t)}},function(e,t,i){"use strict";i(162);var h=i(34),d=i(38),c=i(8),p=i(50),f=i(16),m=i(124),_=f("species"),g=!c(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),v=function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var i="ab".split(e);return 2===i.length&&"a"===i[0]&&"b"===i[1]}();e.exports=function(i,e,t){var n=f(i),a=!c(function(){var e={};return e[n]=function(){return 7},7!=""[i](e)}),r=a?!c(function(){var e=!1,t=/a/;return t.exec=function(){return e=!0,null},"split"===i&&(t.constructor={},t.constructor[_]=function(){return t}),t[n](""),!e}):void 0;if(!a||!r||"replace"===i&&!g||"split"===i&&!v){var o=/./[n],s=t(p,n,""[i],function(e,t,i,n,r){return t.exec===m?a&&!r?{done:!0,value:o.call(t,i,n)}:{done:!0,value:e.call(i,t,n)}:{done:!1}}),l=s[0],u=s[1];h(String.prototype,i,l),d(RegExp.prototype,n,2==e?function(e,t){return u.call(e,this,t)}:function(e){return u.call(e,this)})}}},function(e,t,i){"use strict";var c=i(42),p=i(157),f=i(119),m=i(9),_=i(20),g=i(121),v={},y={},n=e.exports=function(e,t,i,n,r){var a,o,s,l,u=r?function(){return e}:g(e),h=c(i,n,t?2:1),d=0;if("function"!=typeof u)throw TypeError(e+" is not iterable!");if(f(u)){for(a=_(e.length);d<a;d++)if((l=t?h(m(o=e[d])[0],o[1]):h(e[d]))===v||l===y)return l}else for(s=u.call(e);!(o=s.next()).done;)if((l=p(s,h,o.value,t))===v||l===y)return l};n.BREAK=v,n.RETURN=y},function(e,t,i){"use strict";var n=i(7).navigator;e.exports=n&&n.userAgent||""},function(e,t,i){"use strict";var _=i(7),g=i(2),v=i(34),y=i(73),b=i(53),w=i(94),x=i(72),T=i(10),S=i(8),M=i(90),L=i(68),E=i(110);e.exports=function(n,e,t,i,r,a){function zAd(e){var i=u[e];v(u,e,"delete"==e?function(e){return!(a&&!T(e))&&i.call(this,0===e?0:e)}:"has"==e?function(e){return!(a&&!T(e))&&i.call(this,0===e?0:e)}:"get"==e?function(e){return a&&!T(e)?void 0:i.call(this,0===e?0:e)}:"add"==e?function(e){return i.call(this,0===e?0:e),this}:function(e,t){return i.call(this,0===e?0:e,t),this})}var o=_[n],s=o,l=r?"set":"add",u=s&&s.prototype,h={};if("function"==typeof s&&(a||u.forEach&&!S(function(){(new s).entries().next()}))){var d=new s,c=d[l](a?{}:-0,1)!=d,p=S(function(){d.has(1)}),f=M(function(e){new s(e)}),m=!a&&S(function(){for(var e=new s,t=5;t--;)e[l](t,t);return!e.has(-0)});f||(((s=e(function(e,t){x(e,s,n);var i=E(new o,e,s);return null!=t&&w(t,r,i[l],i),i})).prototype=u).constructor=s),(p||m)&&(zAd("delete"),zAd("has"),r&&zAd("get")),(m||c)&&zAd(l),a&&u.clear&&delete u.clear}else s=i.getConstructor(e,n,r,l),y(s.prototype,t),b.NEED=!0;return L(s,n),h[n]=s,g(g.G+g.W+g.F*(s!=o),h),a||i.setStrong(s,n,r),s}},function(e,t,i){"use strict";for(var n,r=i(7),a=i(38),o=i(56),s=o("typed_array"),l=o("view"),u=!(!r.ArrayBuffer||!r.DataView),h=u,d=0,c="Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array".split(",");d<9;)(n=r[c[d++]])?(a(n.prototype,s,!0),a(n.prototype,l,!0)):h=!1;e.exports={ABV:u,CONSTR:h,TYPED:s,VIEW:l}},function(e,t,i){"use strict";t.__esModule=!0,t.set=t.get=t.GameData=void 0;var n=i(32),r=i(74),a=i(80),o={coins:0,characters:n.CharacterData,stadiums:r.StadiumData,balls:a.BallData,challengesProgress:{period:null,challenge_1:{savedAmount:0,completed:!1},challenge_2:{savedAmount:0,completed:!1},challenge_3:{savedAmount:0,completed:!1}},characterSelectionCache:{recentlyUnlocked:null,captain:null,first:null,second:null},encounteredPowerup:["SpeedBoost","Shield","Lightning","Freeze","Shrinkatron","Snowball","Banana"]};t.GameData=o;var s={coins:function(){return o.coins},characters:n.getCharacters,stadiums:r.getStadiums,balls:a.getBalls,challengesProgress:function(){return o.challengesProgress},characterSelectionCache:function(){return o.characterSelectionCache},encounteredPowerup:function(){return o.encounteredPowerup}};t.get=s;var l={coins:function(e){o.coins=e},characters:n.setCharacterData,stadiums:r.setStadiumData,balls:a.setBallData,challengesProgress:function(e){for(var t in e)o.challengesProgress[t]=e[t]},characterSelectionCache:function(e){o.characterSelectionCache=e},encounteredPowerup:function(e){o.encounteredPowerup=e}};t.set=l},function(e,t,o){"use strict";var i;void 0===(i=function(e,t,i){function DBd(e){e=e||{},this.value=0,this._ratio=0,this.dragOffset=0,this.dragPosition=0,this.draggerHeight=e.draggerHeight||30,this.dragLength=e.dragLength||300,r.Container.call(this),this.bar=e.bar||(new r.Graphics).beginFill(16711680).drawRect(0,0,20,this.dragLength),this.dragger=e.dragger||(new r.Graphics).beginFill(16776960).drawRect(0,-this.draggerHeight/2,20,this.draggerHeight),this.addChild(this.bar),this.addChild(this.dragger),this.dragger.position.y=this.draggerHeight/2,this.interactive=!0,this.buttonMode=!0,this.mousedown=this.onDown.bind(this),this.onUp=this.onUp.bind(this),this.onMove=this.onMove.bind(this),this.onUpdate=null}var n=o(14),r=o(0),a=new r.Point;(DBd.prototype=Object.create(r.Container.prototype)).updateTransform=function(){var e=this.draggerHeight/2+this.ratio*(this.dragLength-this.draggerHeight);this.dragger.position.y+=.5*(e-this.dragger.position.y),this.containerUpdateTransform()},Object.defineProperties(DBd.prototype,{ratio:{get:function(){return this._ratio},set:function(e){this._ratio=n.cap(e,0,1)}}}),DBd.prototype.updateRatio=function(e){this._ratio=n.map(e,this.draggerHeight/2,this.dragLength-this.draggerHeight/2,0,1),this._ratio=n.cap(this.ratio,0,1),this.onUpdate()},DBd.prototype.onDown=function(e){var t=e.data.getLocalPosition(this,a).y;this.updateRatio(t),this.isDragging=!0,this.mousemove=this.onMove,this.mouseup=this.mouseupoutside=this.onUp},DBd.prototype.onUp=function(){this.isDragging=!1,this.mousemove=null,this.mouseup=this.mouseupoutside=null},DBd.prototype.onMove=function(e){var t=e.data.getLocalPosition(this,a).y;this.updateRatio(t)},i.exports=DBd}.call(t,o,t,e))||(e.exports=i)},function(e,t,r){"use strict";var i;void 0===(i=function(e,t,i){r(181),r(4),r(54);function XBd(e){this.min=e.min||0,this.max=e.max||500,this.trackpad=e.trackpad,this.trackpad.scrollMinY=-this.max,this.trackpad.scrollMaxY=this.min,this.trackpad.capMovement=!0,this.trackpad.easeToPosition(0,this.min),this.scrollbar=e.scrollbar,Device.instance.desktop||(this.scrollbar.visible=!1),this.scrollbar.onUpdate=this.onScrollUpdate.bind(this),this.value=0}var n=r(14);Object.defineProperties(XBd.prototype,{value:{get:function(){return this._value},set:function(e){this._value=e,this.trackpad.easeToPosition(0,e)}}}),XBd.prototype.update=function(){this.trackpad.update(),this._value=this.trackpad.valueY,this.scrollbar.ratio=n.map(-this.trackpad.valueY,this.min,this.max,0,1)},XBd.prototype.onScrollUpdate=function(){var e=n.map(this.scrollbar.ratio,1,0,-this.max,this.min);this.trackpad.easeToPosition(0,e)},i.exports=XBd}.call(t,r,t,e))||(e.exports=i)},function(e,t,i){"use strict";var n;void 0===(n=function(e,t,i){function gCd(e,t){this.x=e||0,this.y=t||0,this.id=gCd._UID++}gCd._UID=0,gCd.prototype.clone=function(){return new gCd(this.x,this.y)},gCd.prototype.plus=function(e){return this.x+=e.x,this.y+=e.y,this},gCd.prototype.minus=function(e){return this.x-=e.x,this.y-=e.y,this},gCd.prototype.invert=function(e){return this.x*=-1,this.y*=-1,this},gCd.prototype.multiply=gCd.prototype.multiplyScalar=function(e){return this.x*=e,this.y*=e,this},gCd.prototype.divideScalar=function(e){if(0===e)this.x=0,this.y=0;else{var t=1/e;this.x*=t,this.y*=t}return this},gCd.prototype.dot=function(e){return this.x*e.x+this.y*e.y},gCd.prototype.length=function(e){return Math.sqrt(this.x*this.x+this.y*this.y)},gCd.prototype.lengthSq=function(){return this.x*this.x+this.y*this.y},gCd.prototype.normalize=function(){return this.divideScalar(this.length())},gCd.prototype.distanceTo=function(e){return Math.sqrt(this.distanceToSq(e))},gCd.prototype.distanceToSq=function(e){var t=this.x-e.x,i=this.y-e.y;return t*t+i*i},gCd.prototype.set=function(e,t){this.x=e||0,this.y=t||(0!==t?this.x:0)},gCd.prototype.setX=function(e){return this.x=e,this},gCd.prototype.setY=function(e){return this.y=e,this},gCd.prototype.setLength=function(e){var t=this.length();return 0!==t&&e!==t&&this.multiplyScalar(e/t),this},gCd.prototype.invert=function(e){return this.x*=-1,this.y*=-1,this},gCd.prototype.lerp=function(e,t){return this.x+=(e.x-this.x)*t,this.y+=(e.y-this.y)*t,this},gCd.prototype.rad=function(){return Math.atan2(this.x,this.y)},gCd.prototype.deg=function(){return 180*this.rad()/Math.PI},gCd.prototype.equals=function(e){return this.x===e.x&&this.y===e.y},gCd.prototype.rotate=function(e){var t=this.x;return this.x=this.x*Math.cos(e)-this.y*Math.sin(e),this.y=t*Math.sin(e)+this.y*Math.cos(e),this},gCd.projectPoint=function(e,t){var i=new gCd(0,0);return gCd.project(e.clone().minus(i),t).clone().plus(i)},gCd.project=function(e,t){var i=new gCd(0,0),n=e.dot(t);return i.x=n/(t.x*t.x+t.y*t.y)*t.x,i.y=n/(t.x*t.x+t.y*t.y)*t.y,i},gCd.prototype.constructor=gCd,i.exports=gCd}.call(t,i,t,e))||(e.exports=n)},function(e,t,s){"use strict";var i;void 0===(i=function(e,t,i){function ZCd(e){this.type=ZCd.DYNAMIC,this.shape=e,this.passthrough=!1,this.currentSurface=null,this.position=new r.Point,this.timeScale=1,this.velocity=new a,this.acceleration=new a,this.bounce=0,this.maxSpeed=3,this.maxSpeedY=3,this.gravity=0,this.friction=.9,this.sleeping=!1,this.solid=!0,this.active=!0,this.remainder=0,this.flip=1}var r=s(0),n=s(14),a=s(101);ZCd.prototype.setMaxSpeed=function(e){this.maxSpeed=this.maxSpeedY=e},ZCd.prototype.update=function(e){this.active&&(this.velocity.x+=this.acceleration.x*e,this.velocity.y+=this.acceleration.y*e,this.velocity.y*=this.friction,this.velocity.x*=this.friction,this.velocity.y+=this.gravity*this.timeScale,this.velocity.x=n.cap(this.velocity.x,-this.maxSpeed,this.maxSpeed),this.velocity.y=n.cap(this.velocity.y,-this.maxSpeedY,this.maxSpeedY),this.position.x+=this.velocity.x*this.timeScale*e,this.position.y+=this.velocity.y*this.timeScale*e)},ZCd.prototype.reset=function(){this.velocity.x=0,this.velocity.y=0,this.acceleration.x=0,this.acceleration.y=0,this.remainder=0,this.active=!0},ZCd.prototype.getDebugView=function(e){var t=this.shape;e=e||o[this.type];return(new r.Graphics).beginFill(e).drawRect(t.x,t.y,t.width,t.height)},ZCd.fromRect=function(e,t,i,n){return new ZCd(new r.Rectangle(e,t,i,n))},ZCd.STATIC=0,ZCd.KINIMATIC=1,ZCd.DYNAMIC=2,ZCd.NONE=3;var o=[4602488,16776960,16711680,255];i.exports=ZCd}.call(t,s,t,e))||(e.exports=i)},function(e,t,i){"use strict";var n=i(10),r=i(7).document,a=n(r)&&n(r.createElement);e.exports=function(e){return a?r.createElement(e):{}}},function(e,t,i){"use strict";t.f=i(16)},function(e,t,i){"use strict";var n=i(86)("keys"),r=i(56);e.exports=function(e){return n[e]||(n[e]=r(e))}},function(e,t,i){"use strict";e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,i){"use strict";var n=i(7).document;e.exports=n&&n.documentElement},function(e,t,r){"use strict";function KDd(e,t){if(n(e),!i(t)&&null!==t)throw TypeError(t+": can't set as prototype!")}var i=r(10),n=r(9);e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,i,n){try{(n=r(42)(Function.call,r(45).f(Object.prototype,"__proto__").set,2))(e,[]),i=!(e instanceof Array)}catch(e){i=!0}return function(e,t){return KDd(e,t),i?e.__proto__=t:n(e,t),e}}({},!1):void 0),check:KDd}},function(e,t,i){"use strict";e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(e,t,i){"use strict";var a=i(10),o=i(108).set;e.exports=function(e,t,i){var n,r=t.constructor;return r!==i&&"function"==typeof r&&(n=r.prototype)!==i.prototype&&a(n)&&o&&o(e,n),e}},function(e,t,i){"use strict";var r=i(44),a=i(50);e.exports=function(e){var t=String(a(this)),i="",n=r(e);if(n<0||n==1/0)throw RangeError("Count can't be negative");for(;0<n;(n>>>=1)&&(t+=t))1&n&&(i+=t);return i}},function(e,t,i){"use strict";e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t,i){"use strict";var n=Math.expm1;e.exports=!n||22025.465794806718<n(10)||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:-1e-6<e&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t,i){"use strict";var l=i(44),u=i(50);e.exports=function(s){return function(e,t){var i,n,r=String(u(e)),a=l(t),o=r.length;return a<0||o<=a?s?"":void 0:(i=r.charCodeAt(a))<55296||56319<i||a+1===o||(n=r.charCodeAt(a+1))<56320||57343<n?s?r.charAt(a):i:s?r.slice(a,a+2):n-56320+(i-55296<<10)+65536}}},function(e,t,i){"use strict";function ZEd(){return this}var v=i(57),y=i(2),b=i(34),w=i(38),x=i(70),T=i(156),S=i(68),M=i(62),L=i(16)("iterator"),E=!([].keys&&"next"in[].keys()),C="values";e.exports=function(e,t,i,n,r,a,o){T(i,t,n);function fFd(e){if(!E&&e in p)return p[e];switch(e){case"keys":case C:return function(){return new i(this,e)}}return function(){return new i(this,e)}}var s,l,u,h=t+" Iterator",d=r==C,c=!1,p=e.prototype,f=p[L]||p["@@iterator"]||r&&p[r],m=f||fFd(r),_=r?d?fFd("entries"):m:void 0,g="Array"==t&&p.entries||f;if(g&&(u=M(g.call(new e)))!==Object.prototype&&u.next&&(S(u,h,!0),v||"function"==typeof u[L]||w(u,L,ZEd)),d&&f&&f.name!==C&&(c=!0,m=function(){return f.call(this)}),v&&!o||!E&&!c&&p[L]||w(p,L,m),x[t]=m,x[h]=ZEd,r)if(s={values:d?m:fFd(C),keys:a?m:fFd("keys"),entries:_},o)for(l in s)l in p||b(p,l,s[l]);else y(y.P+y.F*(E||c),t,s);return s}},function(e,t,i){"use strict";var n=i(117),r=i(50);e.exports=function(e,t,i){if(n(t))throw TypeError("String#"+i+" doesn't accept regex!");return String(r(e))}},function(e,t,i){"use strict";var n=i(10),r=i(49),a=i(16)("match");e.exports=function(e){var t;return n(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==r(e))}},function(e,t,i){"use strict";var n=i(16)("match");e.exports=function(t){var i=/./;try{"/./"[t](i)}catch(e){try{return i[n]=!1,!"/./"[t](i)}catch(e){}}return!0}},function(e,t,i){"use strict";var n=i(70),r=i(16)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||a[r]===e)}},function(e,t,i){"use strict";var n=i(24),r=i(55);e.exports=function(e,t,i){t in e?n.f(e,t,r(0,i)):e[t]=i}},function(e,t,i){"use strict";var n=i(77),r=i(16)("iterator"),a=i(70);e.exports=i(22).getIteratorMethod=function(e){if(null!=e)return e[r]||e["@@iterator"]||a[n(e)]}},function(e,t,i){"use strict";var u=i(31),h=i(59),d=i(20);e.exports=function(e,t,i){for(var n=u(this),r=d(n.length),a=arguments.length,o=h(1<a?t:void 0,r),s=2<a?i:void 0,l=void 0===s?r:h(s,r);o<l;)n[o++]=e;return n}},function(e,t,i){"use strict";var n=i(63),r=i(161),a=i(70),o=i(39);e.exports=i(115)(Array,"Array",function(e,t){this._t=o(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])},"values"),a.Arguments=a.Array,n("keys"),n("values"),n("entries")},function(e,t,i){"use strict";var n,r,a=i(91),o=RegExp.prototype.exec,s=String.prototype.replace,l=o,u="lastIndex",h=(n=/a/,r=/b*/g,o.call(n,"a"),o.call(r,"a"),0!==n[u]||0!==r[u]),d=void 0!==/()??/.exec("")[1];(h||d)&&(l=function(e){var t,i,n,r;return d&&(i=new RegExp("^"+this.source+"$(?!\\s)",a.call(this))),h&&(t=this[u]),n=o.call(this,e),h&&n&&(this[u]=this.global?n.index+n[0].length:t),d&&n&&1<n.length&&s.call(n[0],i,function(){for(r=1;r<arguments.length-2;r++)void 0===arguments[r]&&(n[r]=void 0)}),n}),e.exports=l},function(e,t,i){"use strict";var n=i(114)(!0);e.exports=function(e,t,i){return t+(i?n(e,t).length:1)}},function(e,t,i){"use strict";function AHd(){var e=+this;if(g.hasOwnProperty(e)){var t=g[e];delete g[e],t()}}function BHd(e){AHd.call(e.data)}var n,r,a,o=i(42),s=i(150),l=i(107),u=i(103),h=i(7),d=h.process,c=h.setImmediate,p=h.clearImmediate,f=h.MessageChannel,m=h.Dispatch,_=0,g={},v="onreadystatechange";c&&p||(c=function(e){for(var t=[],i=1;i<arguments.length;)t.push(arguments[i++]);return g[++_]=function(){s("function"==typeof e?e:Function(e),t)},n(_),_},p=function(e){delete g[e]},"process"==i(49)(d)?n=function(e){d.nextTick(o(AHd,e,1))}:m&&m.now?n=function(e){m.now(o(AHd,e,1))}:f?(a=(r=new f).port2,r.port1.onmessage=BHd,n=o(a.postMessage,a,1)):h.addEventListener&&"function"==typeof postMessage&&!h.importScripts?(n=function(e){h.postMessage(e+"","*")},h.addEventListener("message",BHd,!1)):n=v in u("script")?function(e){l.appendChild(u("script"))[v]=function(){l.removeChild(this),AHd.call(e)}}:function(e){setTimeout(o(AHd,e,1),0)}),e.exports={set:c,clear:p}},function(e,t,i){"use strict";var n=i(7),r=i(23),a=i(57),o=i(97),s=i(38),l=i(73),u=i(8),h=i(72),d=i(44),c=i(20),p=i(169),f=i(61).f,m=i(24).f,_=i(122),g=i(68),v="ArrayBuffer",y="DataView",b="prototype",w="Wrong index!",x=n[v],T=n[y],S=n.Math,M=n.RangeError,L=n.Infinity,E=x,C=S.abs,A=S.pow,P=S.floor,D=S.log,R=S.LN2,k="byteLength",I="byteOffset",O=r?"_b":"buffer",B=r?"_l":k,N=r?"_o":I;function packIEEE754(e,t,i){var n,r,a,o=new Array(i),s=8*i-t-1,l=(1<<s)-1,u=l>>1,h=23===t?A(2,-24)-A(2,-77):0,d=0,c=e<0||0===e&&1/e<0?1:0;for((e=C(e))!=e||e===L?(r=e!=e?1:0,n=l):(n=P(D(e)/R),e*(a=A(2,-n))<1&&(n--,a*=2),2<=(e+=1<=n+u?h/a:h*A(2,1-u))*a&&(n++,a/=2),l<=n+u?(r=0,n=l):1<=n+u?(r=(e*a-1)*A(2,t),n+=u):(r=e*A(2,u-1)*A(2,t),n=0));8<=t;o[d++]=255&r,r/=256,t-=8);for(n=n<<t|r,s+=t;0<s;o[d++]=255&n,n/=256,s-=8);return o[--d]|=128*c,o}function unpackIEEE754(e,t,i){var n,r=8*i-t-1,a=(1<<r)-1,o=a>>1,s=r-7,l=i-1,u=e[l--],h=127&u;for(u>>=7;0<s;h=256*h+e[l],l--,s-=8);for(n=h&(1<<-s)-1,h>>=-s,s+=t;0<s;n=256*n+e[l],l--,s-=8);if(0===h)h=1-o;else{if(h===a)return n?NaN:u?-L:L;n+=A(2,t),h-=o}return(u?-1:1)*n*A(2,h-t)}function unpackI32(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]}function packI8(e){return[255&e]}function packI16(e){return[255&e,e>>8&255]}function packI32(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]}function packF64(e){return packIEEE754(e,52,8)}function packF32(e){return packIEEE754(e,23,4)}function addGetter(e,t,i){m(e[b],t,{get:function(){return this[i]}})}function get(e,t,i,n){var r=p(+i);if(r+t>e[B])throw M(w);var a=e[O]._b,o=r+e[N],s=a.slice(o,o+t);return n?s:s.reverse()}function set(e,t,i,n,r,a){var o=p(+i);if(o+t>e[B])throw M(w);for(var s=e[O]._b,l=o+e[N],u=n(+r),h=0;h<t;h++)s[l+h]=u[a?h:t-h-1]}if(o.ABV){if(!u(function(){x(1)})||!u(function(){new x(-1)})||u(function(){return new x,new x(1.5),new x(NaN),x.name!=v})){for(var F,Y=(x=function(e){return h(this,x),new E(p(e))})[b]=E[b],U=f(E),j=0;U.length>j;)(F=U[j++])in x||s(x,F,E[F]);a||(Y.constructor=x)}var z=new T(new x(2)),G=T[b].setInt8;z.setInt8(0,2147483648),z.setInt8(1,2147483649),!z.getInt8(0)&&z.getInt8(1)||l(T[b],{setInt8:function(e,t){G.call(this,e,t<<24>>24)},setUint8:function(e,t){G.call(this,e,t<<24>>24)}},!0)}else x=function(e){h(this,x,v);var t=p(e);this._b=_.call(new Array(t),0),this[B]=t},T=function(e,t,i){h(this,T,y),h(e,x,y);var n=e[B],r=d(t);if(r<0||n<r)throw M("Wrong offset!");if(n<r+(i=void 0===i?n-r:c(i)))throw M("Wrong length!");this[O]=e,this[N]=r,this[B]=i},r&&(addGetter(x,k,"_l"),addGetter(T,"buffer","_b"),addGetter(T,k,"_l"),addGetter(T,I,"_o")),l(T[b],{getInt8:function(e){return get(this,1,e)[0]<<24>>24},getUint8:function(e){return get(this,1,e)[0]},getInt16:function(e,t){var i=get(this,2,e,t);return(i[1]<<8|i[0])<<16>>16},getUint16:function(e,t){var i=get(this,2,e,t);return i[1]<<8|i[0]},getInt32:function(e,t){return unpackI32(get(this,4,e,t))},getUint32:function(e,t){return unpackI32(get(this,4,e,t))>>>0},getFloat32:function(e,t){return unpackIEEE754(get(this,4,e,t),23,4)},getFloat64:function(e,t){return unpackIEEE754(get(this,8,e,t),52,8)},setInt8:function(e,t){set(this,1,e,packI8,t)},setUint8:function(e,t){set(this,1,e,packI8,t)},setInt16:function(e,t,i){set(this,2,e,packI16,t,i)},setUint16:function(e,t,i){set(this,2,e,packI16,t,i)},setInt32:function(e,t,i){set(this,4,e,packI32,t,i)},setUint32:function(e,t,i){set(this,4,e,packI32,t,i)},setFloat32:function(e,t,i){set(this,4,e,packF32,t,i)},setFloat64:function(e,t,i){set(this,8,e,packF64,t,i)}});g(x,v),g(T,y),s(T[b],o.VIEW,!0),t[v]=x,t[y]=T},function(e,t,i){"use strict";var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},function(e,t,i){"use strict";e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,i){"use strict";e.exports=!i(174)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n=i(0),r=_interopRequireDefault(i(178)),a=_interopRequireDefault(i(540)),o=i(32),h=_interopRequireDefault(i(6)),s=_interopRequireDefault(i(19)),d=_interopRequireDefault(i(15)),c=i(98),p=_interopRequireDefault(i(5)),l=_interopRequireDefault(i(550)),f=_interopRequireDefault(i(3)),m=_interopRequireDefault(i(551)),_=_interopRequireDefault(i(13)),g=_interopRequireDefault(i(4)),v=_interopRequireDefault(i(18)),y=_interopRequireDefault(i(54));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var u=function(u){var e,t;function AbstractCharacterSelectScreen(e,t){var i;return _defineProperty(_assertThisInitialized(i=u.call(this)||this),"app",void 0),_defineProperty(_assertThisInitialized(i),"transition",void 0),_defineProperty(_assertThisInitialized(i),"cardConfig",void 0),_defineProperty(_assertThisInitialized(i),"screenIdentifier",void 0),_defineProperty(_assertThisInitialized(i),"needBackgroundLoading",void 0),_defineProperty(_assertThisInitialized(i),"assetsLoaded",void 0),_defineProperty(_assertThisInitialized(i),"active",void 0),_defineProperty(_assertThisInitialized(i),"cardsContainer",void 0),_defineProperty(_assertThisInitialized(i),"trackpad",void 0),_defineProperty(_assertThisInitialized(i),"title",void 0),_defineProperty(_assertThisInitialized(i),"charactersData",void 0),_defineProperty(_assertThisInitialized(i),"previousButton",void 0),_defineProperty(_assertThisInitialized(i),"nextButton",void 0),_defineProperty(_assertThisInitialized(i),"slider",void 0),_defineProperty(_assertThisInitialized(i),"lockedPopup",void 0),_defineProperty(_assertThisInitialized(i),"selectedCard",void 0),_defineProperty(_assertThisInitialized(i),"cards",void 0),_defineProperty(_assertThisInitialized(i),"loadingWheel",void 0),_defineProperty(_assertThisInitialized(i),"numberOfCards",void 0),_defineProperty(_assertThisInitialized(i),"h",void 0),_defineProperty(_assertThisInitialized(i),"w",void 0),_defineProperty(_assertThisInitialized(i),"offset",void 0),_defineProperty(_assertThisInitialized(i),"pcOffset",void 0),_defineProperty(_assertThisInitialized(i),"breadcrumbActive",void 0),_defineProperty(_assertThisInitialized(i),"_onKeyDown",void 0),_defineProperty(_assertThisInitialized(i),"onCardSelected",void 0),i.app=e,i.cardConfig=t.cardConfig||{lockable:!0,shineable:!0,cta:"button-card-tick.png",ctaOffsetY:0},i.screenIdentifier=t.screenIdentifier||void 0,i.needBackgroundLoading=t.backgroundLoading||!1,i.breadcrumbActive=t.enableBreadcrumb||!1,i.transition=t.transition||new r.default(i.app),i.trackpad=new y.default({target:_assertThisInitialized(i)}),i.trackpad.snapTo=!0,i.trackpad.scrollMax=1/0,i.trackpad.capMovement=!1,i.trackpad.size=h.default.PLAYER_CARD.WIDTH+h.default.PLAYER_CARD.SPACING,i.trackpad.maxSlots=1/0,i.trackpad.spring.springiness=.01,i.title=v.default.h1(t.title,"white"),i.title.anchor.set(.5),i.addChild(i.title),i.charactersData=[],i.cardsContainer=new n.Container,i.addChild(i.cardsContainer),i.cardsContainer.visible=!i.needBackgroundLoading,i.needBackgroundLoading&&(i.loadingWheel=n.Sprite.from("loading-wheel.png"),i.loadingWheel.anchor.set(.5),i.loadingWheel.scale.set(2),i.addChild(i.loadingWheel),i.assetsLoaded=!1),i.active=!1,d.default.instance.isMobile||(i.previousButton=new s.default("button-left-inverted.png"),i.previousButton.position.set(37.5,100),i.previousButton.onPress.add(i.previousCharacter,_assertThisInitialized(i)),i.addChild(i.previousButton),i.nextButton=new s.default("button-right-inverted.png"),i.nextButton.position.set(37.5,100),i.nextButton.onPress.add(i.nextCharacter,_assertThisInitialized(i)),i.addChild(i.nextButton)),t.enableLockedPopup&&(i.lockedPopup=new l.default(e),i.addChild(i.lockedPopup),i.lockedPopup.onShow.add(function(){i.trackpad.locked=!0,i.cardsContainer.interactiveChildren=!1}),i.lockedPopup.onHidden.add(function(){i.trackpad.locked=!1,i.cardsContainer.interactiveChildren=!0})),i._onKeyDown=i.onKeyDown.bind(_assertThisInitialized(i)),i.onCardSelected=new f.default,i}t=u,(e=AbstractCharacterSelectScreen).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=AbstractCharacterSelectScreen.prototype;return i.setPlayers=function(e){this.charactersData=e,this.selectedCard=null,this.updateCards()},i.updateCards=function(){this.cards=[],this.offset=0,this.numberOfCards=8,this.slider=new m.default({itemLength:this.charactersData.length,currentItem:0}),this.slider.previous.add(this.previousCharacter.bind(this)),this.slider.next.add(this.nextCharacter.bind(this));for(var e=0;e<this.numberOfCards;e++){var t=new a.default(this.app,this.cardConfig);t.index=e,t.onDown.add(this.onCardDown,this,t),this.cardsContainer.addChild(t),this.cards.push(t)}this.cardsContainer.position.x=h.default.PLAYER_CARD.WIDTH-h.default.PLAYER_CARD.SPACING-h.default.PLAYER_CARD.OFFSET,this.cardsContainer.position.x+=2*h.default.PLAYER_CARD.PADDING,this.cardsContainer.originalX=this.cardsContainer.position.x;var i=h.default.PLAYER_CARD.WIDTH-h.default.PLAYER_CARD.SPACING;this.pcOffset=0,this.pcOffset=h.default.PLAYER_CARD.OFFSET/2+i/2+i/4+2.5},i.updateTransform=function(){var e;if(u.prototype.updateTransform.call(this),null!==(e=this.loadingWheel)&&void 0!==e&&e.visible&&(this.loadingWheel.rotation+=.1*g.default.instance.deltaTime),!this.needBackgroundLoading||this.assetsLoaded){this.trackpad.update();for(var t=h.default.PLAYER_CARD.WIDTH+h.default.PLAYER_CARD.SPACING,i=this.numberOfCards*t,n=0;n<this.numberOfCards;n++){this.cards[n].position.x=n*t+this.trackpad.value+this.offset;var r=Math.floor((this.cards[n].position.x+t/2)/i);if(r*=this.numberOfCards,r*=-1,(r+=n)!=this.cards[n].id){var a=(this.cards[n].id=r)%this.charactersData.length;a<0&&(a+=this.charactersData.length),this.cards[n].update(this.charactersData[a],a)}this.cards[n].position.x%=i,this.cards[n].position.x<0&&(this.cards[n].position.x+=i),this.cards[n].position.x-=t,this.cards[n].position.x-=t;var o=2*((this.cards[n].position.x+this.pcOffset)/1136-.5);this.cards[n].z=o,this.cards[n].depth=2-Math.abs(o);var s=1-Math.sin(.3*Math.abs(o));s=Math.max(.8,s),this.cards[n].scale.x=s,this.cards[n].scale.y=s;var l=Math.sin(Number(Math.abs(o)));l=Math.min(.5,l),this.cards[n].dimmer&&(this.cards[n].dimmer.alpha=l),this.breadcrumbActive&&!1===this.cards[n].data.shined&&!this.cards[n].data.locked&&this.cards[n].z<.05&&-.05<this.cards[n].z&&(this.cards[n].data.shined=!0,this.app.dataSystem.saveData("characters"))}this.cardsContainer.children.sort(function(e,t){return e.depth-t.depth})}},i.onCardDown=function(e,t){if(void 0===t&&(t=!1),!(this.lockedPopup&&this.lockedPopup.visible||this.trackpad.didMove)){var i=!1;if(e.z<.1&&-.1<e.z&&(i=!0),this.slider.currentItem=this.slider.currentItem+(e.position.x/(h.default.PLAYER_CARD.WIDTH+h.default.PLAYER_CARD.SPACING)-1),t)this.offset=this.offset-(e.position.x/(h.default.PLAYER_CARD.WIDTH+h.default.PLAYER_CARD.SPACING)-1)*(h.default.PLAYER_CARD.WIDTH+h.default.PLAYER_CARD.SPACING);else{if(TweenLite.to(e.container.scale,.2,{x:.9,y:.9,ease:Expo.easeOut}),TweenLite.to(e.container.scale,.8,{x:1,y:1,delay:.2,ease:Elastic.easeOut}),TweenLite.to(this,.3,{offset:this.offset-(e.position.x/(h.default.PLAYER_CARD.WIDTH+h.default.PLAYER_CARD.SPACING)-1)*(h.default.PLAYER_CARD.WIDTH+h.default.PLAYER_CARD.SPACING)}),i)if(e.data.locked)this.lockedPopup.show(e.data.id);else if(e.data.selected){_.default.sfx.play("cantselect");for(var n=1;n<7;n++){var r=n%2==0?-1:1;TweenLite.to(e.container.position,.1,{x:50*r,delay:.1*n})}TweenLite.to(e.container.position,.1,{x:0,delay:.1*7})}else _.default.sfx.play("button_press"),this.breadcrumbActive&&this.app.charactersSystem.setSelectionCache(this.screenIdentifier,e.data.id),this.interactiveChildren=!1,this.breadcrumbActive&&this.app.topMenu.disableButtons(),this.onCardSelected.dispatch(e)}}},i.selectPlayer=function(e){this.selectedCard=e,this.selectedCard.select(),o.CharacterData[this.selectedCard.data.id].selected=!0},i.previousCharacter=function(){for(var e=0;e<this.cards.length;e++){var t=this.cards[e];if(t.z<.1&&-.1<t.z)return void(this.cards[e-1]?this.onCardDown(this.cards[e-1]):this.onCardDown(this.cards[this.cards.length-1]))}},i.nextCharacter=function(){for(var e=0;e<this.cards.length;e++){var t=this.cards[e];if(t.z<.1&&-.1<t.z)return void(this.cards[e+1]?this.onCardDown(this.cards[e+1]):this.onCardDown(this.cards[0]))}},i.onShow=function(){this.active=!0,this.lockedPopup&&this.lockedPopup.hide(),this.needBackgroundLoading||this.showContent(),this.title.scale.set(0),TweenLite.to(this.title.scale,1,{x:1,y:1,ease:Elastic.easeOut,delay:.2})},i.onAssetsLoaded=function(){this.assetsLoaded=!0,this.loadingWheel.visible=!1,this.cardsContainer.visible=!0},i.showContent=function(){if(this.interactiveChildren=!0,this.selectedCard=null,this.trackpad.locked=!1,this.trackpad.onUp(),this.offset=0,this.breadcrumbActive){var e,t,i;this.app.breadcrumb.visible=!0,this.app.breadcrumb.hidden=!1;for(var n=0;n<this.app.stage.children.length;n++){var r=this.app.stage.children[n];"breabcrumb"===r.name&&(e=r),"screenmanager"===r.name&&(t=r)}switch(this.app.stage.children[2]=t,this.app.stage.children[3]=e,this.screenIdentifier){case"captain":i=0;break;case"first":i=1;break;case"second":i=2}for(var a=2;i<=a;a--)if(p.default.teamA[a]){p.default.teamA[a].selected=!1;for(var o=0;o<this.cards.length;o++)this.cards[o].data===p.default.teamA[a]&&this.cards[o].unselect();p.default.teamA[a]=null}if(c.GameData.characterSelectionCache.recentlyUnlocked){var s=this.charactersData.map(function(e){return e.id}).indexOf(c.GameData.characterSelectionCache.recentlyUnlocked)-3;this.trackpad.setSlot(s,!0),this.app.charactersSystem.resetRecentlyUnlockedSelection()}else if(c.GameData.characterSelectionCache[this.screenIdentifier]){for(var l=this.charactersData.map(function(e){return e.id}).indexOf(c.GameData.characterSelectionCache[this.screenIdentifier])-3;this.charactersData[this.capIndexValue(l+3)].selected||this.charactersData[this.capIndexValue(l+3)].locked;)l=Math.round(Math.random()*(this.charactersData.length-1));this.trackpad.setSlot(l,!0)}else{for(var u=Math.round(Math.random()*(this.charactersData.length-1));this.charactersData[this.capIndexValue(u+3)].selected||this.charactersData[this.capIndexValue(u+3)].locked;)u=Math.round(Math.random()*(this.charactersData.length-1));this.trackpad.setSlot(u,!0)}}this.slider.on(),window.addEventListener("keydown",this._onKeyDown);for(var h=0;h<this.cards.length;h++)this.cards[h].ctaElement.isHidden=!0,this.cards[h].container.scale.set(0),TweenLite.to(this.cards[h].container.scale,1,{x:d.default.instance.isMobile?.9:1,y:d.default.instance.isMobile?.9:1,ease:Elastic.easeOut,delay:.2}),this.cards[h].data&&this.cards[h].update(this.cards[h].data)},i.capIndexValue=function(e){return 0<=(e%=this.charactersData.length)?e:this.charactersData.length+e},i.onKeyDown=function(e){if(32===e.keyCode||13===e.keyCode)for(var t=0;t<this.cards.length;t++)0===Math.round(this.cards[t].z)&&this.onCardDown(this.cards[t])},i.onHide=function(){this.active=!1,this.slider.off(),this.app.topMenu.disablePrev=!1,window.removeEventListener("keydown",this._onKeyDown)},i.resize=function(e,t){var i=this.app.screenManager.container.x/this.app.screenManager.container.scale.x;this.w=this.app.w2,this.h=t,this.previousButton&&(this.nextButton.position.x=e+i-this.nextButton.width/2,this.previousButton.position.x=-i+this.nextButton.width/2,this.previousButton.position.y=t/2,this.nextButton.position.y=t/2),this.lockedPopup&&(this.lockedPopup.position.x=e/2,this.lockedPopup.position.y=t/2),this.loadingWheel&&this.loadingWheel.position.set(e/2,t/2),this.cardsContainer.position.y=t/2-20-50,this.title.position.y=t/2-350+h.default.MARGIN.TITLE_TOP-90,this.title.position.x=e/2},AbstractCharacterSelectScreen}(n.Container);t.default=u},function(e,t,i){"use strict";var n;void 0===(n=function(e,t,i){function fMd(){this.x=0,this.ax=0,this.dx=0,this.tx=0,this.y=0,this.ay=0,this.dy=0,this.ty=0,this.max=30,this.damp=.75,this.springiness=.09,this.max=160,this.damp=.85,this.springiness=.29}(fMd.constructor=fMd).prototype.update=function(){this.ax=(this.tx-this.x)*this.springiness,this.dx+=this.ax,this.dx*=this.damp,this.dx<-this.max?this.dx=-this.max:this.dx>this.max&&(this.dx=this.max),this.x+=this.dx,this.ay=(this.ty-this.y)*this.springiness,this.dy+=this.ay,this.dy*=this.damp,this.dy<-this.max?this.dy=-this.max:this.dy>this.max&&(this.dy=this.max),this.y+=this.dy},fMd.prototype.reset=function(){this.x=0,this.ax=0,this.dx=0,this.tx=0,this.y=0,this.ay=0,this.dy=0,this.ty=0},i.exports=fMd}.call(t,i,t,e))||(e.exports=n)},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n,r=(n=i(3))&&n.__esModule?n:{default:n},a=i(17);function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var o=function(){function BaseChallenge(e){_defineProperty(this,"_type",void 0),_defineProperty(this,"_difficulty",void 0),_defineProperty(this,"_completed",void 0),_defineProperty(this,"_goalAmount",void 0),_defineProperty(this,"currentAmount",void 0),_defineProperty(this,"_scope",void 0),_defineProperty(this,"onChallengeCompleted",new r.default),_defineProperty(this,"onPermanentAmountUpdated",new r.default),this._type=e.type,this._difficulty=e.difficulty,this._scope=e.scope||"SCOPE_GLOBAL",this.currentAmount=0|e.savedAmount,this._completed=e.isCompleted||!1,this.setGoal(e.amount,e.randomGenerator)}var e,t,i,n=BaseChallenge.prototype;return n.reset=function(e){void 0===e&&(e=!1),this.completed||"SCOPE_GAME"!==this.scope&&!e||(this.currentAmount=0)},n.setGoal=function(e,t){if("number"==typeof e)this._goalAmount=e;else if(t)if("object"==typeof e){var i=e.max-e.min,n=Math.round(i*t());this._goalAmount=n+e.min}else if(Array.isArray(e)){var r=Math.round((e.length-1)*t());this._goalAmount=e[r]}else e||(this._goalAmount=1);else;},n.addAmount=function(e){void 0===e&&(e=1),this.currentAmount+=e,this.checkCompletion(),"SCOPE_GLOBAL"!==this.scope||this.completed||this.onPermanentAmountUpdated.dispatch()},n.checkCompletion=function(){this.currentAmount>=this._goalAmount&&(this._completed=!0,this.onChallengeCompleted.dispatch(this.difficulty),CES.dispatch(a.EventKeys.CHALLENGE_COMPLETED,{difficulty:this.difficulty}))},e=BaseChallenge,(t=[{key:"type",get:function(){return this._type}},{key:"difficulty",get:function(){return this._difficulty}},{key:"goalAmount",get:function(){return this._goalAmount}},{key:"scope",get:function(){return this._scope}},{key:"progress",get:function(){return this.currentAmount}},{key:"completed",get:function(){return this._completed}},{key:"progressPercentage",get:function(){return Math.round(this.currentAmount/this._goalAmount*100)}}])&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),BaseChallenge}();t.default=o},function(e,t,l){"use strict";var i;void 0===(i=function(e,t,i){function SMd(){this.crossdomain=!1,window.XDomainRequest&&this.crossdomain?(this.ajaxRequest=new window.XDomainRequest,this.ajaxRequest.timeout=3e3,this.ajaxRequest.onerror=function(){},this.ajaxRequest.ontimeout=function(){},this.ajaxRequest.onprogress=function(){}):window.XMLHttpRequest&&(this.ajaxRequest=new window.XMLHttpRequest),this.ajaxRequest.onload=this._onFileLoaded.bind(this),this.ajaxRequest.onreadystatechange=function(e){},this.fileCount=0,this.filesToLoad=[],this.fontsToLoad=[],this.pixiAssetsToLoad=[],this.soundsToLoad=[],this.customToLoad=[],this.onComplete=new r,this.onProgress=new r}var n=l(0),r=l(3),a=l(580),o=l(33),s=l(582);SMd.prototype.addFonts=function(e){return this.fontsToLoad=this.fontsToLoad.concat(e),this},SMd.prototype.addText=function(e,t){var i={url:e,id:t=t||a.basename(e,a.extname(e)),type:SMd.TEXT};return this.filesToLoad.push(i),this},SMd.prototype.addJson=function(e,t){var i={url:e,id:t=t||a.basename(e,a.extname(e)),type:SMd.JSON};return this.filesToLoad.push(i),this},SMd.prototype.addManifest=function(e,t){var i=e.map(function(e){return t+e});return this.addPixiAssets(i),this},SMd.prototype.addPixiAssets=function(e){return this.pixiAssetsToLoad=this.pixiAssetsToLoad.concat(e),this},SMd.prototype.addCSS=function(e){var t=document.createElement("link");return t.type="text/css",t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t),this},SMd.prototype.addCustom=function(e){var t={object:e,type:SMd.CUSTOM};return this.filesToLoad.push(t),this},SMd.prototype.load=function(){this._loadFonts()},SMd.prototype._loadFiles=function(){this.fileCount=0,this.filesToLoad.length?this._loadNextFile():this._loadPixiAssets()},SMd.prototype._loadNextFile=function(){var e=this.filesToLoad[this.fileCount];e.type===SMd.CUSTOM?(e.object.onLoaded.addOnce(this._onFileLoaded,this),e.object.load()):(this.ajaxRequest.open("GET",e.url,!0),this.ajaxRequest.send())},SMd.prototype._onFileLoaded=function(){var e=this.filesToLoad[this.fileCount];if(e.type!==SMd.CUSTOM&&200===this.ajaxRequest.status)switch(e.type){case SMd.TEXT:var t=this.ajaxRequest.responseText;o.addText(t,e.id);break;case SMd.JSON:var i=JSON.parse(this.ajaxRequest.responseText);o.addJson(i,e.id)}this.fileCount++,this._onProgress(),this.fileCount===this.filesToLoad.length?this._loadPixiAssets():this._loadNextFile()},SMd.prototype._loadPixiAssets=function(){0!==this.pixiAssetsToLoad.length?(this.pixiAssetLoader=new n.loaders.Loader,this.pixiAssetLoader.add(this.pixiAssetsToLoad),this.pixiAssetLoader.on("progress",this._onProgress,this),this.pixiAssetLoader.load(this._onComplete.bind(this))):this._onComplete()},SMd.prototype._loadFonts=function(){0!==this.fontsToLoad.length&&s.load({custom:{families:this.fontsToLoad,urls:[ASSET_URL+"./css/fonts.css"]},active:function(){for(var e=0;e<this.fontsToLoad.length;e++){new n.Text("cheeky",{font:"32px "+this.fontsToLoad[e]}).updateText()}}.bind(this)}),this._loadFiles()},SMd.prototype._onComplete=function(e,t){n.loadedResources=t,this.onProgress.dispatch(1),this.onComplete.dispatch()},SMd.prototype._onProgress=function(){this.filesToLoad.length,this.pixiAssetsToLoad.length;var e=this.fileCount;this.pixiAssetLoader&&(e=this.pixiAssetLoader.progress),this.onProgress.dispatch(.01*e)},SMd.TEXT=0,SMd.JSON=1,SMd.CUSTOM=2,i.exports=SMd}.call(t,l,t,e))||(e.exports=i)},function(e,t,n){"use strict";var i;void 0===(i=function(e,t,i){function CNd(e,t,i,n){this.container=e||new r.Container,this.screens={},this.currentScreen,this.fading=!1,this.w=t||400,this.h=i||400,this.history=[],this.defaultTransition=n||new a,this.transition=this.defaultTransition,this.active=!1}var r=n(0),a=(n(136),n(583));(CNd.constructor=CNd).prototype.gotoScreenByID=function(e,t){var i=this.screens[e];if(!i)throw new Error("screen not found with id : "+e);this.gotoScreen(i,t)},CNd.prototype.addScreen=function(e,t){(this.screens[t]=e).id=t,e.screenManager=this},CNd.prototype.goBack=function(){this.history.pop();var e=this.history.pop();e&&this.gotoScreen(e)},CNd.prototype.getScreenId=function(e){for(var t in this.screens)if(this.screens[t]===e)return t;return null},CNd.prototype.gotoScreen=function(e,t){if(this.currentScreen!==e&&(this.history.push(e),this.nextScreen=e,!this.active)){this.active=!0,this.transition=e.transition||this.defaultTransition,this.transition.onResize&&this.transition.onResize(this.w,this.h);var i=this.currentScreen;this.nextScreen&&this.nextScreen.resize&&this.nextScreen.resize(this.w,this.h),this.currentScreen=e,this.transition.begin(this,i,this.nextScreen)}},CNd.prototype.onTransitionComplete=function(){this.active=!1,this.currentScreen!=this.nextScreen&&this.gotoScreen(this.nextScreen)},CNd.prototype.resize=function(e,t){this.w=e,this.h=t,this.transition.onResize&&this.transition.onResize(e,t),this.currentScreen&&this.currentScreen.resize&&this.currentScreen.resize(e,t)},i.exports=CNd}.call(t,n,t,e))||(e.exports=i)},function(e,t,i){"use strict";var n;void 0===(n=function(e,t,i){function _Nd(){}(_Nd.constructor=_Nd).prototype.begin=function(e,t,i){this.screenManager=e,this.currentScreen=t,this.nextScreen=i,this.currentScreen?(this.currentScreen.onHide&&this.currentScreen.onHide(),TweenLite.to(this.currentScreen,.4,{alpha:0,onComplete:this.onFadeout.bind(this)})):this.onFadeout()},_Nd.prototype.onFadeout=function(){this.currentScreen&&(this.currentScreen.onHidden&&this.currentScreen.onHidden(),this.screenManager.container.removeChild(this.currentScreen),this.currentScreen.alpha=1),this.nextScreen.alpha=0,this.nextScreen.onShow&&this.nextScreen.onShow(),this.nextScreen.resize&&this.nextScreen.resize(this.screenManager.w,this.screenManager.h),TweenLite.to(this.nextScreen,.4,{alpha:1,onComplete:this.onFadein.bind(this)}),this.screenManager.container.addChild(this.nextScreen)},_Nd.prototype.onFadein=function(){this.nextScreen.onShown&&this.nextScreen.onShown(),this.screenManager.onTransitionComplete()},_Nd.prototype.resize=function(e,t){this.w=e,this.h=t},i.exports=_Nd}.call(t,i,t,e))||(e.exports=n)},function(e,t,i){"use strict";var n;void 0===(n=function(e,t,i){function mOd(e){this.children=e||[]}mOd.prototype.add=function(e){return this.children.push(e),e},mOd.prototype.remove=function(e){var t=this.children.indexOf(e);return-1===t?null:(this.children.splice(t,1),e)},mOd.prototype.getIndex=function(e){return this.children.indexOf(e)},mOd.prototype.getItem=function(e){return this.children[e]},mOd.prototype.run=function(e,t){if(t)for(var i=0;i<this.children.length;i++)e.call(t,this.children[i]);else for(i=0;i<this.children.length;i++)e(this.children[i])},mOd.prototype.empty=function(){this.children.length=0},i.exports=mOd}.call(t,i,t,e))||(e.exports=n)},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var s=i(0);function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=function(r){var e,t;function CoinSplash(e){var t;_defineProperty(_assertThisInitialized(t=r.call(this)||this),"app",void 0),_defineProperty(_assertThisInitialized(t),"coins",void 0),_defineProperty(_assertThisInitialized(t),"visible",void 0),_defineProperty(_assertThisInitialized(t),"maxCoinCount",void 0),t.app=e,t.coins=[],t.maxCoinCount=100;for(var i=0;i<t.maxCoinCount;i++){var n=s.Sprite.from("coin.png");n.anchor.set(.5),t.coins.push(n)}return t.hide(),t}t=r,(e=CoinSplash).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=CoinSplash.prototype;return i.addCoin=function(e){var t=this,i=e.coin,n=void 0===i?null:i,r=e.isLastCoin,a=void 0!==r&&r,o=e.noTween;void 0!==o&&o?TweenLite.delayedCall(1+1.5*Math.random(),function(){t.app.topMenu.addCoins(1)}):TweenLite.to(n.position,n.speed/6,{x:n.position.x+Math.cos(n.angle)*n.speed*(n.speed/.12),y:n.position.y+Math.sin(n.angle)*n.speed*(n.speed/.12),ease:Power2.easeOut,onComplete:function(){TweenLite.to(n.position,.8,{x:t.app.topMenu.coinBar.x+30,y:44,ease:Quad.easeOut,onComplete:function(){var e=s.Sprite.from("coing-ring.png");e.anchor.set(.5),e.position.x=n.position.x,e.position.y=n.position.y,t.app.topMenu.addChild(e);TweenLite.to(e.scale,.8,{x:1.5,y:1.5,onComplete:function(){t.app.topMenu.removeChild(e),a&&t.hide()}}),TweenLite.to(e,.8,{alpha:0}),t.app.topMenu.removeChild(n),t.app.topMenu.addCoins(1)}})}})},i.start=function(e,t,i){this.app.topMenu.addChild(this),this.show();for(var n=0;n<e;n++)if(n>=this.maxCoinCount)this.addCoin({isLastCoin:!0,noTween:!0});else{var r=this.coins[n];r.visible=!0,r.position.x=t,r.position.y=i,r.angle=-Math.PI+Math.PI/((e>this.maxCoinCount?this.maxCoinCount:e)-1)*n,r.angle=2*Math.PI/((e>this.maxCoinCount?this.maxCoinCount:e)-1)*n,r.speed=.5+3*Math.random(),r.speed+=1,this.app.topMenu.addChild(r),this.addCoin({coin:r})}},i.show=function(){this.visible=!0},i.hide=function(){this.visible=!1},CoinSplash}(s.Container);t.default=n},function(e,t,i){"use strict";function dPd(e){this.ticker=e,this.updateBind=this.update.bind(this),this.waits=[],this.active=!1}dPd.prototype.wait=function(e,t,i){var n={callback:t,scope:i,count:e||2};this.waits.push(n),this.active||(this.active=!0,this.ticker.add(this.update,this))},dPd.prototype.update=function(){for(var e=this.waits.length-1;0<=e;e--){var t=this.waits[e];t.count--,t.count<=0&&(t.callback.call(t.scope),this.waits.splice(e,1))}this.waits.length<0&&(this.active=!1,this.ticker.remove(this.update,this))},e.exports=dPd},function(e,t,a){"use strict";var i;void 0===(i=function(e,t,i){function uPd(){this.disabled=r.music.disabled,this.music=r.music,this.currentSound=null,this.newSound=null,this.onFade=new n,this.globalVolume=1,this.volume=1,this.fadeInDuration=1,this.fadeOutDuration=1,this.music.onMuteToggle.add(this.onMusicToggle,this)}var n=a(3),r=a(13);uPd.prototype.init=function(e){this.volume=e.volume||1,this.fadeInDuration=e.fadeInDuration||3.2,this.fadeOutDuration=e.fadeOutDuration||3.5},uPd.prototype.add=function(e,t){r.music.addSound(e,t,{loop:!0})},uPd.prototype.play=function(e){var t=this.music.sounds[e];!this.disabled&&t&&this.currentSound!==t&&(this.currentSound&&this.currentSound.fade(this.volume,0,1e3*this.fadeOutDuration),this.currentSound=t,this.currentSound.fade(0,this.volume,1e3*this.fadeInDuration,this.currentSound.play()))},uPd.prototype.onMusicToggle=function(e){},uPd.prototype.setVolume=function(e,t){this.disabled||(e.realVolume=t,e.volume(t*this.globalVolume))},uPd.prototype.isPlaying=function(e){if(!this.disabled)return!this.sounds[e]._audioNode[0].paused},i.exports=new uPd}.call(t,a,t,e))||(e.exports=i)},function(e,t,i){"use strict";i(646);function KPd(){this.targetFile="https://tooncup-global.teamgbaws.net/",window.URLParams.testdb&&(this.targetFile="http://tooncup-global-test.teamgbaws.net/"),this.hallOfFameUrl="https://tooncup-global.teamgbaws.net/halloffame",this.sharedKey=null,this.lastEncryption=!1,this.defaultPerPage=20,this.defaultPageNumber=1,this.lastUpdate=null,this.TODAY=0,this.THIS_WEEK=1,this.TOURNAMENT=2,this.HALL_OF_FAME=3,this.clear()}var o=i(647);KPd.prototype.clear=function(){this.cachedResults={0:null,1:null,2:null}},KPd.prototype.setSharedKey=function(e){this.sharedKey=e},KPd.prototype.getScores=function(i,n,e,r){var a=this.getRequest(),t=Date.now();(!this.lastUpdate||6e5<t-this.lastUpdate)&&(this.clear(),this.lastUpdate=t),this.cachedResults[i]&&e?n&&n(this.cachedResults[i]):(a.onload=function(e){if(503!==a.status){try{var t=JSON.parse(a.response)}catch(e){return void(n&&n())}this.cachedResults[i]=t.sort(function(e,t){return t.total_points-e.total_points}),n&&n(this.cachedResults[i])}else"function"==typeof r&&r(a)}.bind(this),a.onerror=function(){"function"==typeof r&&r(a)},a.onreadystatechange=function(e){},(i=i||this.TODAY)===this.HALL_OF_FAME?a.open("GET",this.hallOfFameUrl,!0):a.open("GET",this.targetFile+"getScores?period="+i+"&qatar=true&ecuador=true",!0),a.send())},KPd.prototype.startGame=function(e,t,i){var n=this.getRequest();n.onload=function(e){if(i){try{var t=JSON.parse(n.response)}catch(e){return}i(t)}}.bind(this),n.onreadystatechange=function(e){};var r={userCountryId:e,opponentCountryId:t},a=o.Ctr.encrypt(JSON.stringify(r),"S0Bwt275r192B1rPOokA8hu3EWoUHzNsFaYypUyU0BE",256);n.open("POST",this.targetFile+"start",!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send("val="+a)},KPd.prototype.sendScore=function(e,t,i){var n=this.getRequest();n.onload=function(e){i&&i(JSON.parse(n.response))}.bind(this),n.onreadystatechange=function(e){};var r={key:e,resultMultiplier:t},a=o.Ctr.encrypt(JSON.stringify(r),"S0Bwt275r192B1rPOokA8hu3EWoUHzNsFaYypUyU0BE",256);n.open("POST",this.targetFile+"scrsvc",!0),n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send("val="+a)},KPd.prototype.getRequest=function(){var e;return window.XDomainRequest&&this.crossdomain?((e=new window.XDomainRequest).timeout=3e3,e.onerror=function(){},e.ontimeout=function(){},e.onprogress=function(){}):window.XMLHttpRequest&&(e=new window.XMLHttpRequest),e},e.exports=new KPd},function(e,t,i){"use strict";e.exports=!i(23)&&!i(8)(function(){return 7!=Object.defineProperty(i(103)("div"),"a",{get:function(){return 7}}).a})},function(e,t,i){"use strict";var n=i(7),r=i(22),a=i(57),o=i(104),s=i(24).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=!a&&n.Symbol||{});"_"==e.charAt(0)||e in t||s(t,e,{value:o.f(e)})}},function(e,t,i){"use strict";var o=i(37),s=i(39),l=i(87)(!1),u=i(105)("IE_PROTO");e.exports=function(e,t){var i,n=s(e),r=0,a=[];for(i in n)i!=u&&o(n,i)&&a.push(i);for(;t.length>r;)o(n,i=t[r++])&&(~l(a,i)||a.push(i));return a}},function(e,t,i){"use strict";var o=i(24),s=i(9),l=i(58);e.exports=i(23)?Object.defineProperties:function(e,t){s(e);for(var i,n=l(t),r=n.length,a=0;a<r;)o.f(e,i=n[a++],t[i]);return e}},function(e,t,i){"use strict";var n=i(39),r=i(61).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?function(e){try{return r(e)}catch(e){return o.slice()}}(e):r(n(e))}},function(e,t,i){"use strict";var c=i(23),p=i(58),f=i(88),m=i(76),_=i(31),g=i(75),r=Object.assign;e.exports=!r||i(8)(function(){var e={},t={},i=Symbol(),n="abcdefghijklmnopqrst";return e[i]=7,n.split("").forEach(function(e){t[e]=e}),7!=r({},e)[i]||Object.keys(r({},t)).join("")!=n})?function(e,t){for(var i=_(e),n=arguments.length,r=1,a=f.f,o=m.f;r<n;)for(var s,l=g(arguments[r++]),u=a?p(l).concat(a(l)):p(l),h=u.length,d=0;d<h;)s=u[d++],c&&!o.call(l,s)||(i[s]=l[s]);return i}:r},function(e,t,i){"use strict";e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,i){"use strict";var r=i(43),a=i(10),o=i(150),s=[].slice,l={};e.exports=Function.bind||function(t){function dSd(){var e=n.concat(s.call(arguments));return this instanceof dSd?function(e,t,i){if(!(t in l)){for(var n=[],r=0;r<t;r++)n[r]="a["+r+"]";l[t]=Function("F,a","return new F("+n.join(",")+")")}return l[t](e,i)}(i,e.length,e):o(i,e,t)}var i=r(this),n=s.call(arguments,1);return a(i.prototype)&&(dSd.prototype=i.prototype),dSd}},function(e,t,i){"use strict";e.exports=function(e,t,i){var n=void 0===i;switch(t.length){case 0:return n?e():e.call(i);case 1:return n?e(t[0]):e.call(i,t[0]);case 2:return n?e(t[0],t[1]):e.call(i,t[0],t[1]);case 3:return n?e(t[0],t[1],t[2]):e.call(i,t[0],t[1],t[2]);case 4:return n?e(t[0],t[1],t[2],t[3]):e.call(i,t[0],t[1],t[2],t[3])}return e.apply(i,t)}},function(e,t,i){"use strict";var n=i(7).parseInt,r=i(69).trim,a=i(109),o=/^[-+]?0[xX]/;e.exports=8!==n(a+"08")||22!==n(a+"0x16")?function(e,t){var i=r(String(e),3);return n(i,t>>>0||(o.test(i)?16:10))}:n},function(e,t,i){"use strict";var n=i(7).parseFloat,r=i(69).trim;e.exports=1/n(i(109)+"-0")!=-1/0?function(e){var t=r(String(e),3),i=n(t);return 0===i&&"-"==t.charAt(0)?-0:i}:n},function(e,t,i){"use strict";var n=i(49);e.exports=function(e,t){if("number"!=typeof e&&"Number"!=n(e))throw TypeError(t);return+e}},function(e,t,i){"use strict";var n=i(10),r=Math.floor;e.exports=function(e){return!n(e)&&isFinite(e)&&r(e)===e}},function(e,t,i){"use strict";e.exports=Math.log1p||function(e){return-1e-8<(e=+e)&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,i){"use strict";var n=i(60),r=i(55),a=i(68),o={};i(38)(o,i(16)("iterator"),function(){return this}),e.exports=function(e,t,i){e.prototype=n(o,{next:r(1,i)}),a(e,t+" Iterator")}},function(e,t,i){"use strict";var a=i(9);e.exports=function(t,e,i,n){try{return n?e(a(i)[0],i[1]):e(i)}catch(e){var r=t.return;throw void 0!==r&&a(r.call(t)),e}}},function(e,t,i){"use strict";var n=i(422);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,i){"use strict";var h=i(43),d=i(31),c=i(75),p=i(20);e.exports=function(e,t,i,n,r){h(t);var a=d(e),o=c(a),s=p(a.length),l=r?s-1:0,u=r?-1:1;if(i<2)for(;;){if(l in o){n=o[l],l+=u;break}if(l+=u,r?l<0:s<=l)throw TypeError("Reduce of empty array with no initial value")}for(;r?0<=l:l<s;l+=u)l in o&&(n=t(n,o[l],l,a));return n}},function(e,t,i){"use strict";var h=i(31),d=i(59),c=i(20);e.exports=[].copyWithin||function(e,t,i){var n=h(this),r=c(n.length),a=d(e,r),o=d(t,r),s=2<arguments.length?i:void 0,l=Math.min((void 0===s?r:d(s,r))-o,r-a),u=1;for(o<a&&a<o+l&&(u=-1,o+=l-1,a+=l-1);0<l--;)o in n?n[a]=n[o]:delete n[a],a+=u,o+=u;return n}},function(e,t,i){"use strict";e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,i){"use strict";var n=i(124);i(2)({target:"RegExp",proto:!0,forced:n!==/./.exec},{exec:n})},function(e,t,i){"use strict";i(23)&&"g"!=/./g.flags&&i(24).f(RegExp.prototype,"flags",{configurable:!0,get:i(91)})},function(e,t,i){"use strict";function IUd(){}function PUd(e){var t;return!(!c(e)||"function"!=typeof(t=e.then))&&t}function QUd(h,i){if(!h._n){h._n=!0;var n=h._c;v(function(){for(var l=h._v,u=1==h._s,e=0,t=function(e){var t,i,n,r=u?e.ok:e.fail,a=e.resolve,o=e.reject,s=e.domain;try{r?(u||(2==h._h&&I(h),h._h=1),!0===r?t=l:(s&&s.enter(),t=r(l),s&&(s.exit(),n=!0)),t===e.promise?o(S("Promise-chain cycle")):(i=PUd(t))?i.call(t,a,o):a(t)):o(l)}catch(e){s&&!n&&s.exit(),o(e)}};n.length>e;)t(n[e++]);h._c=[],h._n=!1,i&&!h._h&&R(h)})}}function UUd(e){var t=this;t._d||(t._d=!0,(t=t._w||t)._v=e,t._s=2,t._a||(t._a=t._c.slice()),QUd(t,!0))}function VUd(e){var i,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw S("Promise can't be resolved itself");(i=PUd(e))?v(function(){var t={_w:n,_d:!1};try{i.call(e,u(VUd,t,1),u(UUd,t,1))}catch(e){UUd.call(t,e)}}):(n._v=e,n._s=1,QUd(n,!1))}catch(e){UUd.call({_w:n,_d:!1},e)}}}var n,r,a,o,s=i(57),l=i(7),u=i(42),h=i(77),d=i(2),c=i(10),p=i(43),f=i(72),m=i(94),_=i(78),g=i(126).set,v=i(442)(),y=i(165),b=i(443),w=i(95),x=i(166),T="Promise",S=l.TypeError,M=l.process,L=M&&M.versions,E=L&&L.v8||"",C=l[T],A="process"==h(M),P=r=y.f,D=!!function(){try{var e=C.resolve(1),t=(e.constructor={})[i(16)("species")]=function(e){e(IUd,IUd)};return(A||"function"==typeof PromiseRejectionEvent)&&e.then(IUd)instanceof t&&0!==E.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(e){}}(),R=function(a){g.call(l,function(){var e,t,i,n=a._v,r=k(a);if(r&&(e=b(function(){A?M.emit("unhandledRejection",n,a):(t=l.onunhandledrejection)?t({promise:a,reason:n}):(i=l.console)&&i.error&&i.error("Unhandled promise rejection",n)}),a._h=A||k(a)?2:1),a._a=void 0,r&&e.e)throw e.v})},k=function(e){return 1!==e._h&&0===(e._a||e._c).length},I=function(t){g.call(l,function(){var e;A?M.emit("rejectionHandled",t):(e=l.onrejectionhandled)&&e({promise:t,reason:t._v})})};D||(C=function(e){f(this,C,T,"_h"),p(e),n.call(this);try{e(u(VUd,this,1),u(UUd,this,1))}catch(e){UUd.call(this,e)}},(n=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1}).prototype=i(73)(C.prototype,{then:function(e,t){var i=P(_(this,C));return i.ok="function"!=typeof e||e,i.fail="function"==typeof t&&t,i.domain=A?M.domain:void 0,this._c.push(i),this._a&&this._a.push(i),this._s&&QUd(this,!1),i.promise},catch:function(e){return this.then(void 0,e)}}),a=function(){var e=new n;this.promise=e,this.resolve=u(VUd,e,1),this.reject=u(UUd,e,1)},y.f=P=function(e){return e===C||e===o?new a(e):r(e)}),d(d.G+d.W+d.F*!D,{Promise:C}),i(68)(C,T),i(71)(T),o=i(22)[T],d(d.S+d.F*!D,T,{reject:function(e){var t=P(this);return(0,t.reject)(e),t.promise}}),d(d.S+d.F*(s||!D),T,{resolve:function(e){return x(s&&this===o?C:this,e)}}),d(d.S+d.F*!(D&&i(90)(function(e){C.all(e).catch(IUd)})),T,{all:function(e){var o=this,t=P(o),s=t.resolve,l=t.reject,i=b(function(){var n=[],r=0,a=1;m(e,!1,function(e){var t=r++,i=!1;n.push(void 0),a++,o.resolve(e).then(function(e){i||(i=!0,n[t]=e,--a||s(n))},l)}),--a||s(n)});return i.e&&l(i.v),t.promise},race:function(e){var t=this,i=P(t),n=i.reject,r=b(function(){m(e,!1,function(e){t.resolve(e).then(i.resolve,n)})});return r.e&&n(r.v),i.promise}})},function(e,t,i){"use strict";var r=i(43);function PromiseCapability(e){var i,n;this.promise=new e(function(e,t){if(void 0!==i||void 0!==n)throw TypeError("Bad Promise constructor");i=e,n=t}),this.resolve=r(i),this.reject=r(n)}e.exports.f=function(e){return new PromiseCapability(e)}},function(e,t,i){"use strict";var n=i(9),r=i(10),a=i(165);e.exports=function(e,t){if(n(e),r(t)&&t.constructor===e)return t;var i=a.f(e);return(0,i.resolve)(t),i.promise}},function(e,t,i){"use strict";function WWd(e,t){var i,n=p(t);if("F"!==n)return e._i[n];for(i=e._f;i;i=i.n)if(i.k==t)return i}var o=i(24).f,s=i(60),l=i(73),u=i(42),h=i(72),d=i(94),n=i(115),r=i(161),a=i(71),c=i(23),p=i(53).fastKey,f=i(64),m=c?"_s":"size";e.exports={getConstructor:function(e,a,i,n){var r=e(function(e,t){h(e,r,a,"_i"),e._t=a,e._i=s(null),e._f=void 0,e._l=void 0,e[m]=0,null!=t&&d(t,i,e[n],e)});return l(r.prototype,{clear:function(){for(var e=f(this,a),t=e._i,i=e._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete t[i.i];e._f=e._l=void 0,e[m]=0},delete:function(e){var t=f(this,a),i=WWd(t,e);if(i){var n=i.n,r=i.p;delete t._i[i.i],i.r=!0,r&&(r.n=n),n&&(n.p=r),t._f==i&&(t._f=n),t._l==i&&(t._l=r),t[m]--}return!!i},forEach:function(e,t){f(this,a);for(var i,n=u(e,1<arguments.length?t:void 0,3);i=i?i.n:this._f;)for(n(i.v,i.k,this);i&&i.r;)i=i.p},has:function(e){return!!WWd(f(this,a),e)}}),c&&o(r.prototype,"size",{get:function(){return f(this,a)[m]}}),r},def:function(e,t,i){var n,r,a=WWd(e,t);return a?a.v=i:(e._l=a={i:r=p(t,!0),k:t,v:i,p:n=e._l,n:void 0,r:!1},e._f||(e._f=a),n&&(n.n=a),e[m]++,"F"!==r&&(e._i[r]=a)),e},getEntry:WWd,setStrong:function(e,i,t){n(e,i,function(e,t){this._t=f(e,i),this._k=t,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?r(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,r(1))},t?"entries":"values",!t,!0),a(i)}}},function(e,t,i){"use strict";function VXd(e){return e._l||(e._l=new m)}function XXd(e,t){return a(e.a,function(e){return e[0]===t})}var o=i(73),s=i(53).getWeak,r=i(9),l=i(10),u=i(72),h=i(94),n=i(47),d=i(37),c=i(64),a=n(5),p=n(6),f=0,m=function(){this.a=[]};m.prototype={get:function(e){var t=XXd(this,e);if(t)return t[1]},has:function(e){return!!XXd(this,e)},set:function(e,t){var i=XXd(this,e);i?i[1]=t:this.a.push([e,t])},delete:function(t){var e=p(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}},e.exports={getConstructor:function(e,i,n,r){var a=e(function(e,t){u(e,a,i,"_i"),e._t=i,e._i=f++,e._l=void 0,null!=t&&h(t,n,e[r],e)});return o(a.prototype,{delete:function(e){if(!l(e))return!1;var t=s(e);return!0===t?VXd(c(this,i)).delete(e):t&&d(t,this._i)&&delete t[this._i]},has:function(e){if(!l(e))return!1;var t=s(e);return!0===t?VXd(c(this,i)).has(e):t&&d(t,this._i)}}),a},def:function(e,t,i){var n=s(r(t),!0);return!0===n?VXd(e).set(t,i):n[e._i]=i,e},ufstore:VXd}},function(e,t,i){"use strict";var n=i(44),r=i(20);e.exports=function(e){if(void 0===e)return 0;var t=n(e),i=r(t);if(t!==i)throw RangeError("Wrong length!");return i}},function(e,t,i){"use strict";var n=i(61),r=i(88),a=i(9),o=i(7).Reflect;e.exports=o&&o.ownKeys||function(e){var t=n.f(a(e)),i=r.f;return i?t.concat(i(e)):t}},function(e,t,i){"use strict";var h=i(20),d=i(111),c=i(50);e.exports=function(e,t,i,n){var r=String(c(e)),a=r.length,o=void 0===i?" ":String(i),s=h(t);if(s<=a||""==o)return r;var l=s-a,u=d.call(o,Math.ceil(l/o.length));return u.length>l&&(u=u.slice(0,l)),n?u+r:r+u}},function(e,t,i){"use strict";var l=i(23),u=i(58),h=i(39),d=i(76).f;e.exports=function(s){return function(e){for(var t,i=h(e),n=u(i),r=n.length,a=0,o=[];a<r;)t=n[a++],l&&!d.call(i,t)||o.push(s?[t,i[t]]:i[t]);return o}}},function(e,t,i){"use strict";var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},function(e,t,i){"use strict";e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,i){"use strict";var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,s){"use strict";var i;void 0===(i=function(e,t,i){function SZd(e){n.Container.call(this);var t=e.camera3d||new r.PerspectiveCamera(40,4,1,3e3);t.position.z=800;var i=new r.Scene;this.scene=i,this.camera=t,this.camera.position.x=0,this.camera.position.y=0,this.threeRenderer=null,this.w=-1,this.h=-1}var n=s(0),r=s(12),a=s(21);s(177);(SZd.prototype=Object.create(n.Container.prototype))._renderWebGL=function(e){e.reset(),this.camera.update(),this.threeRenderer||(this.threeRenderer=new r.WebGLRenderer({context:e.gl}),this.threeRenderer.setSize(800,600),this.threeRenderer.autoClear=!1,this.threeRenderer.autoClearColor=!1),this.threeRenderer.resetGLState(),this.threeRenderer.render(this.scene,this.camera),e.reset()},SZd.prototype.init=function(e){},SZd.prototype.preupdate=function(e){},SZd.prototype.update=function(){},SZd.prototype.postupdate=function(e){},SZd.prototype.add=function(e){e.view3d&&this.scene.add(e.view3d)},SZd.prototype.remove=function(e){e.view3d&&this.scene.remove(e.view3d)},SZd.prototype.clear=function(){for(var e in this.layers)this.layers[e].removeChildren()},SZd.prototype.addLayer=function(e){this.layers[e]=new n.Container,this.activeItemsContainer.addChild(this.layers[e])},SZd.prototype.bringToFront=function(e){var t=this.layers[e.view.layer],i=t.children.indexOf(e.view);-1!=i&&(t.children.splice(i,1),t.children.push(e.view))};var o=new n.Point;SZd.prototype.toScreenPosition=function(e){return a.toScreenPosition(e.view3d,this.w,this.h,this.camera,o)},SZd.prototype.resize=function(e,t){this.w===e&&this.h===t||(this.w=e,this.h=t,this.threeRenderer,this.camera.aspect=e/t,this.camera.updateProjectionMatrix())},i.exports=SZd}.call(t,s,t,e))||(e.exports=i)},function(e,t,i){"use strict";e.exports=i(532),e.exports.color=i(533)},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;i(0);var n=function(){function AdvertisingTransition(e){this.app=e}var e=AdvertisingTransition.prototype;return e.begin=function(e,t,i){var n=this;this.screenManager=e,this.currentScreen=t,this.nextScreen=i,this.currentScreen.interactiveChildren=!1,this.nextScreen.interactiveChildren=!1,this.app.breadcrumb.interactiveChildren=!1,this.app.topMenu.disableButtons(),this.currentScreen?(this.currentScreen.onHide&&this.currentScreen.onHide(),this.app.brand.center.scale.set(8),this.app.brand.logo.scale.x=-this.app.brand.logo.defaultScale,TweenLite.to(this.app.brand,.2,{ease:Quad.easeOut,alpha:1}),TweenLite.to(this.app.brand.center.scale,.3,{delay:0,x:1,y:1,ease:Quad.easeOut}),TweenLite.to(this.app.brand.bg,.3,{delay:.1,alpha:.4,ease:Quad.easeOut}),TweenLite.to(this.app.brand.logo.scale,.3,{delay:.2,x:this.app.brand.logo.defaultScale,onComplete:function(){setTimeout(function(){n.onFadeout()},150)}}),this.nextScreen.position.x=0):this.onFadeout()},e.onFadeout=function(){var e=this;this.nextScreen.resize&&this.nextScreen.resize(this.screenManager.w,this.screenManager.h),TweenLite.to(this.app.brand.bg,.7,{alpha:0,ease:Quad.easeOut}),TweenLite.to(this.app.brand.center.scale,.3,{ease:Quad.easeOut,x:10,y:10,onComplete:function(){e.onFadein()}}),setTimeout(function(){e.nextScreen.onShow&&e.nextScreen.onShow(),e.screenManager.container.addChildAt(e.nextScreen,0),e.screenManager.container.removeChild(e.currentScreen),e.currentScreen&&e.currentScreen.onHidden&&e.currentScreen.onHidden()},100),TweenLite.to(this.app.brand,.2,{ease:Quad.easeOut,delay:.15,alpha:0})},e.onFadein=function(){this.nextScreen.onShown&&this.nextScreen.onShown(),this.screenManager.onTransitionComplete(),this.app.topMenu.enableButtons(),this.currentScreen.interactiveChildren=!0,this.nextScreen.interactiveChildren=!0,this.app.breadcrumb.interactiveChildren=!0},e.resize=function(e,t){this.w=e,this.h=t},AdvertisingTransition}();t.default=n,e.exports=t.default},function(e,t,i){"use strict";t.__esModule=!0,t.ProfileBar=void 0;var n,r=(n=i(541))&&n.__esModule?n:{default:n};var a={skill:function(e){return new r.default("bar-accuracy-bit.png",e||0)},power:function(e){return new r.default("bar-power-bit.png",e||0)},speed:function(e){return new r.default("bar-speed-bit.png",e||0)}};t.ProfileBar=a},function(e,t,i){"use strict";
/*!
 * pixi-graphics-format - v1.0.0
 * https://github.com/bigtimebuddy/pixi-graphics-format
 * Compiled Thu, 10 Aug 2017 21:35:03 UTC
 *
 * pixi-graphics-format is licensed under the MIT license.
 * http://www.opensource.org/licenses/mit-license
 */
if(t.__esModule=!0,t.GraphicsFormat=void 0,"undefined"==typeof PIXI)throw"PixiJS required";var n=(Object.defineProperty(r,"EXTENSION",{get:function(){return"pgf"},enumerable:!0,configurable:!0}),r.parse=function(e,t){if(void 0===t&&(t=new PIXI.Graphics),e=e.replace(/\n/g," "),!this.FORMAT.test(e))throw new SyntaxError("Supplied content is invalid GraphicsFormat");for(var i=e.split(" "),n=0;n<i.length;n++){var a=i[n];"#"===a[0]?i[n]=r.hexToUint(a):this.VALID_KEYS.test(a)||(i[n]=parseFloat(a))}for(var o,s=[],l=0;l<=i.length;){var u=i[l++],h=void 0;"string"==typeof u&&(h=this.COMMANDS[u]||u),void 0===u||t[h]?(o&&(t[o].apply(t,s),s.length=0),o=h):s.push(u)}return t},r.stringify=function(e){for(var t=e.graphicsData,i="",n=0,a=1,o=0,s=0,l=1,u=0;u<t.length;u++){var h=t[u];h.fillColor===n&&h.fillAlpha===a||(n=h.fillColor,a=h.fillAlpha,i+="f #"+r.uintToHex(n)+" ",1!==a&&(i+=r.toPrecision(a)+" ")),0<h.lineWidth&&(h.lineWidth!==o||h.lineColor!==s||h.lineAlpha!==l)&&(o=h.lineWidth,s=h.lineColor,l=h.lineAlpha,i+="s "+r.toPrecision(o)+" ",(0<s||1!==l)&&(i+="#"+r.uintToHex(s)+" "),1!==l&&(i+=r.toPrecision(l)+" "));var d=h.shape,c=h.holes;if(d instanceof PIXI.Rectangle)i+="dr "+(p=r.toPrecision(d.x))+" "+(f=r.toPrecision(d.y))+" "+(m=r.toPrecision(d.width))+" "+(_=r.toPrecision(d.height))+" c ";else if(d instanceof PIXI.Ellipse){var p=r.toPrecision(d.x),f=r.toPrecision(d.y),m=r.toPrecision(d.width),_=r.toPrecision(d.height);i+="de "+p+" "+f+" "+m+" "+_+" c "}else if(d instanceof PIXI.Circle)i+="dc "+(p=r.toPrecision(d.x))+" "+(f=r.toPrecision(d.y))+" "+r.toPrecision(d.radius)+" c ";else if(d instanceof PIXI.Polygon){for(var g=d.points,v=g.length,y=g[0]===g[v-2]&&g[1]===g[v-1],b=y&&0===c.length?v/2-1:v/2,w=0;w<b;w++)i+=(0===w?"m":"l")+" "+(p=r.toPrecision(d.points[2*w]))+" "+(f=r.toPrecision(d.points[2*w+1]))+" ";for(var x=0;x<c.length;x++){for(var T=c[x],S=T.points.length/2,M=0;M<S;M++)i+=(0===M?"m":"l")+" "+(p=r.toPrecision(T.points[2*M]))+" "+(f=r.toPrecision(T.points[2*M+1]))+" ";i+="h "}y&&(i+="c ")}}return i.trim()},r.uintToHex=function(e){for(var t=e.toString(16);t.length<6;)t="0"+t;return t.replace(/([a-f0-9])\1([a-f0-9])\2([a-f0-9])\3/,"$1$2$3")},r.middleware=function(){return function(e,t){"pgf"===e.extension&&(e.graphics=r.parse(e.data)),t()}},r.hexToUint=function(e){return 3===(e=e.substr(1)).length&&(e=e.replace(/([a-f0-9])/g,"$1$1")),parseInt(e,16)},r.toPrecision=function(e,t){void 0===t&&(t=2);var i=Math.pow(10,t);return Math.round(e*i)/i},r.COMMANDS={c:"closePath",h:"addHole",m:"moveTo",l:"lineTo",q:"quadraticCurveTo",b:"bezierCurveTo",f:"beginFill",s:"lineStyle",dr:"drawRect",rr:"drawRoundedRect",rc:"drawRoundedRect",dc:"drawCircle",ar:"arc",at:"arcTo",de:"drawEllipse"},r.FORMAT=/^((\s)?(c|h|m|l|q|b|f|s|dr|rr|rc|dc|ar|at|de)(\s[0-9\.#\-a-f]+)*(\s)?)*$/,r.VALID_KEYS=/^(c|h|m|l|q|b|f|s|dr|rr|rc|dc|ar|at|de)$/,r);function r(){}t.GraphicsFormat=n,PIXI.loader.use(n.middleware()),PIXI.loaders.Loader.addPixiMiddleware(n.middleware),PIXI.loaders.Resource.setExtensionXhrType(n.EXTENSION,PIXI.loaders.Resource.XHR_RESPONSE_TYPE.TEXT),PIXI.GraphicsFormat||Object.defineProperty(PIXI,"GraphicsFormat",{get:function(){return n}})},function(e,t,i){"use strict";var n;void 0===(n=function(e,t,i){function M_d(){this.x=0,this.ax=0,this.dx=0,this.tx=0,this.max=160,this.damp=.8,this.springiness=.1}M_d.prototype.update=function(){this.ax=(this.tx-this.x)*this.springiness,this.dx+=this.ax,this.dx*=this.damp,this.dx<-this.max?this.dx=-this.max:this.dx>this.max&&(this.dx=this.max),this.x+=this.dx},M_d.prototype.reset=function(){this.x=0,this.ax=0,this.dx=0,this.tx=0},i.exports=M_d}.call(t,i,t,e))||(e.exports=n)},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var s=i(0),l=_interopRequireDefault(i(11)),u=_interopRequireDefault(i(33)),h=_interopRequireDefault(i(554));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(i),!0).forEach(function(e){_defineProperty(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=function(r){var e,t;function ChallengePanel(){var e;_defineProperty(_assertThisInitialized(e=r.call(this)||this),"bg",void 0),_defineProperty(_assertThisInitialized(e),"difficultyBadge",void 0),_defineProperty(_assertThisInitialized(e),"infoContainer",void 0),_defineProperty(_assertThisInitialized(e),"tick",void 0),_defineProperty(_assertThisInitialized(e),"message",void 0),_defineProperty(_assertThisInitialized(e),"targetChallenge",void 0),_defineProperty(_assertThisInitialized(e),"_width",void 0),_defineProperty(_assertThisInitialized(e),"_height",void 0),e.bg=s.Sprite.from("challenges-panel-bg.png"),e._width=e.bg.texture.width,e._height=e.bg.texture.height,e.infoContainer=s.Sprite.from("reward-percentage.png"),e.infoContainer.anchor.set(1,.5);var t={fontSize:37,fontFamily:"avenir",maxWidth:200},i=new l.default("percent",_objectSpread({},t,{fill:"#fff"})),n=new l.default("reward",_objectSpread({},t,{fill:"#000"}));return i.anchor.set(.5),n.anchor.set(.5),e.infoContainer.addChild(i),e.infoContainer.addChild(n),e.infoContainer.percentage=i,e.infoContainer.reward=n,e.tick=s.Sprite.from("tick.png"),e.tick.anchor.set(1,.5),e.message=new h.default("message"),e.message.style={fill:"#000",fontSize:24,fontFamily:"avenir",wordWrap:!0,wordWrapWidth:420,breakWords:!0,padding:10,lineHeight:30},e.message.anchor.set(0,.5),e.addChild(e.bg),e.addChild(e.infoContainer),e.addChild(e.tick),e.addChild(e.message),e}t=r,(e=ChallengePanel).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i,n,a,o=ChallengePanel.prototype;return o.extractData=function(){var e;switch(this.targetChallenge.type){case"TYPE_SCORE_GOALS":e={goalAmount:this.targetChallenge.goalAmount,character:this.targetChallenge.conditionCharacterId,scope:this.targetChallenge.scope,onlyCharacter:!0};break;case"TYPE_WIN_GAMES":e={gameAmount:this.targetChallenge.goalAmount,character:this.targetChallenge.conditionCharacterId,scope:this.targetChallenge.scope,onlyCharacter:!0};break;case"TYPE_PLAY_WITH_CHARACTER":e={gameAmount:this.targetChallenge.goalAmount,character:this.targetChallenge.conditionCharacterId,scope:this.targetChallenge.scope};break;case"TYPE_USE_POWERUPS":e={powerupAmount:this.targetChallenge.goalAmount,powerup:this.targetChallenge.conditionPowerupId,scope:this.targetChallenge.scope};break;case"TYPE_WIN_TOURNAMENT":e={character:this.targetChallenge.conditionCharacterId,scope:this.targetChallenge.scope};break;case"TYPE_GOALS_BEFORE_TIME":e={goalAmount:this.targetChallenge.goalAmount,duration:this.targetChallenge.conditionDuration,scope:this.targetChallenge.scope}}return e},o.setContent=function(e){this.targetChallenge=e,this.message.setData("STR_CHALLENGES_"+e.type,this.extractData()),this.setDifficultyBadge(),this.infoContainer.reward.setText(""+u.default.getJson("config").config.CHALLENGES.REWARDS["DIFFICULTY_"+e.difficulty]),this.refresh()},o.setDifficultyBadge=function(){this.difficultyBadge=s.Sprite.from("medal-"+this.targetChallenge.difficulty+".png"),this.difficultyBadge.anchor.set(0,.5),this.addChild(this.difficultyBadge)},o.refresh=function(){this.tick.visible=this.targetChallenge.completed,this.infoContainer.visible=!this.targetChallenge.completed;var e="tr"===window.LANGUAGE?"%"+this.targetChallenge.progressPercentage+("no"===window.LANGUAGE?" ":""):this.targetChallenge.progressPercentage+("no"===window.LANGUAGE?" ":"")+"%";this.infoContainer.percentage.setText(e),this.resize()},o.resize=function(){this.infoContainer.position.x=this.bg.texture.width-8,this.infoContainer.position.y=this.bg.texture.height/2,this.infoContainer.reward.position.x=-153,this.infoContainer.percentage.position.x=-55,this.tick.position.x=this.bg.texture.width-15,this.tick.position.y=this.bg.texture.height/2,this.difficultyBadge.position.x=8,this.difficultyBadge.position.y=this.bg.texture.height/2,this.message.position.x=146,this.message.position.y=this.bg.texture.height/2},i=ChallengePanel,(n=[{key:"width",get:function(){return this._width}},{key:"height",get:function(){return this._height}}])&&_defineProperties(i.prototype,n),a&&_defineProperties(i,a),ChallengePanel}(s.Container);t.default=n},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("af",{months:"Januarie_Februarie_Maart_April_Mei_Junie_Julie_Augustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mrt_Apr_Mei_Jun_Jul_Aug_Sep_Okt_Nov_Des".split("_"),weekdays:"Sondag_Maandag_Dinsdag_Woensdag_Donderdag_Vrydag_Saterdag".split("_"),weekdaysShort:"Son_Maa_Din_Woe_Don_Vry_Sat".split("_"),weekdaysMin:"So_Ma_Di_Wo_Do_Vr_Sa".split("_"),meridiemParse:/vm|nm/i,isPM:function isPM(e){return/^nm$/i.test(e)},meridiem:function meridiem(e,t,i){if(e<12){return i?"vm":"VM"}else{return i?"nm":"NM"}},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Vandag om] LT",nextDay:"[Mre om] LT",nextWeek:"dddd [om] LT",lastDay:"[Gister om] LT",lastWeek:"[Laas] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oor %s",past:"%s gelede",s:"'n paar sekondes",ss:"%d sekondes",m:"'n minuut",mm:"%d minute",h:"'n uur",hh:"%d ure",d:"'n dag",dd:"%d dae",M:"'n maand",MM:"%d maande",y:"'n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function ordinal(e){return e+(e===1||e===8||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},s=function pluralForm(e){return e===0?0:e===1?1:e===2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},l={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},n=function pluralize(o){return function(e,t,i,n){var r=s(e),a=l[o][s(e)];if(r===2){a=a[t?0:1]}return a.replace(/%d/i,e)}},r=["","","","","","","","","","","",""],a;e.defineLocale("ar",{months:r,monthsShort:r,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function isPM(e){return""===e},meridiem:function meridiem(e,t,i){if(e<12){return""}else{return""}},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:n("s"),ss:n("s"),m:n("m"),mm:n("m"),h:n("h"),hh:n("h"),d:n("d"),dd:n("d"),M:n("M"),MM:n("M"),y:n("y"),yy:n("y")},preparse:function preparse(e){return e.replace(/[]/g,function(e){return i[e]}).replace(//g,",")},postformat:function postformat(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:6,doy:12}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("ar-dz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("ar-kw",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:0,doy:12}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t={1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9",0:"0"},s=function pluralForm(e){return e===0?0:e===1?1:e===2?2:e%100>=3&&e%100<=10?3:e%100>=11?4:5},l={s:["  "," ",["",""],"%d ","%d ","%d "],m:["  "," ",["",""],"%d ","%d ","%d "],h:["  "," ",["",""],"%d ","%d ","%d "],d:["  "," ",["",""],"%d ","%d ","%d "],M:["  "," ",["",""],"%d ","%d ","%d "],y:["  "," ",["",""],"%d ","%d ","%d "]},i=function pluralize(o){return function(e,t,i,n){var r=s(e),a=l[o][s(e)];if(r===2){a=a[t?0:1]}return a.replace(/%d/i,e)}},n=["","","","","","","","","","","",""],r;e.defineLocale("ar-ly",{months:n,monthsShort:n,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function isPM(e){return""===e},meridiem:function meridiem(e,t,i){if(e<12){return""}else{return""}},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:i("s"),ss:i("s"),m:i("m"),mm:i("m"),h:i("h"),hh:i("h"),d:i("d"),dd:i("d"),M:i("M"),MM:i("M"),y:i("y"),yy:i("y")},preparse:function preparse(e){return e.replace(//g,",")},postformat:function postformat(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:6,doy:12}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("ar-ma",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n;e.defineLocale("ar-sa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function isPM(e){return""===e},meridiem:function meridiem(e,t,i){if(e<12){return""}else{return""}},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function preparse(e){return e.replace(/[]/g,function(e){return i[e]}).replace(//g,",")},postformat:function postformat(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:0,doy:6}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("ar-tn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[  ] LT",nextDay:"[  ] LT",nextWeek:"dddd [ ] LT",lastDay:"[  ] LT",lastWeek:"dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var r={1:"-inci",5:"-inci",8:"-inci",70:"-inci",80:"-inci",2:"-nci",7:"-nci",20:"-nci",50:"-nci",3:"-nc",4:"-nc",100:"-nc",6:"-nc",9:"-uncu",10:"-uncu",30:"-uncu",60:"-nc",90:"-nc"},t;e.defineLocale("az",{months:"yanvar_fevral_mart_aprel_may_iyun_iyul_avqust_sentyabr_oktyabr_noyabr_dekabr".split("_"),monthsShort:"yan_fev_mar_apr_may_iyn_iyl_avq_sen_okt_noy_dek".split("_"),weekdays:"Bazar_Bazar ertsi_rnb axam_rnb_Cm axam_Cm_nb".split("_"),weekdaysShort:"Baz_BzE_Ax_r_CAx_Cm_n".split("_"),weekdaysMin:"Bz_BE_A__CA_C_".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[sabah saat] LT",nextWeek:"[gln hft] dddd [saat] LT",lastDay:"[dnn] LT",lastWeek:"[ken hft] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s vvl",s:"birne saniy",ss:"%d saniy",m:"bir dqiq",mm:"%d dqiq",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir il",yy:"%d il"},meridiemParse:/gec|shr|gndz|axam/,isPM:function isPM(e){return/^(gndz|axam)$/.test(e)},meridiem:function meridiem(e,t,i){if(e<4){return"gec"}else if(e<12){return"shr"}else if(e<17){return"gndz"}else{return"axam"}},dayOfMonthOrdinalParse:/\d{1,2}-(nc|inci|nci|nc|nc|uncu)/,ordinal:function ordinal(e){if(e===0){return e+"-nc"}var t=e%10,i=e%100-t,n=e>=100?100:null;return e+(r[t]||r[i]||r[n])},week:{dow:1,doy:7}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";function plural(e,t){var i=e.split("_");return t%10===1&&t%100!==11?i[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?i[1]:i[2]}function relativeTimeWithPlural(e,t,i){var n={ss:t?"__":"__",mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"};if(i==="m"){return t?"":""}else if(i==="h"){return t?"":""}else{return e+" "+plural(n[i],+e)}}var t;e.defineLocale("be",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{format:"______".split("_"),standalone:"______".split("_"),isFormat:/\[ ?[] ?(?:|)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:function nextWeek(){return"[] dddd [] LT"},lastWeek:function lastWeek(){switch(this.day()){case 0:case 3:case 5:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:relativeTimeWithPlural,mm:relativeTimeWithPlural,h:relativeTimeWithPlural,hh:relativeTimeWithPlural,d:"",dd:relativeTimeWithPlural,M:"",MM:relativeTimeWithPlural,y:"",yy:relativeTimeWithPlural},meridiemParse:/|||/,isPM:function isPM(e){return/^(|)$/.test(e)},meridiem:function meridiem(e,t,i){if(e<4){return""}else if(e<12){return""}else if(e<17){return""}else{return""}},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function ordinal(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return(e%10===2||e%10===3)&&e%100!==12&&e%100!==13?e+"-":e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("bg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:function lastWeek(){switch(this.day()){case 0:case 3:case 6:return"[ ] dddd [] LT";case 1:case 2:case 4:case 5:return"[ ] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function ordinal(e){var t=e%10,i=e%100;if(e===0){return e+"-"}else if(i===0){return e+"-"}else if(i>10&&i<20){return e+"-"}else if(t===1){return e+"-"}else if(t===2){return e+"-"}else if(t===7||t===8){return e+"-"}else{return e+"-"}},week:{dow:1,doy:7}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("bm",{months:"Zanwuyekalo_Fewuruyekalo_Marisikalo_Awirilikalo_Mkalo_Zuwnkalo_Zuluyekalo_Utikalo_Stanburukalo_kutburukalo_Nowanburukalo_Desanburukalo".split("_"),monthsShort:"Zan_Few_Mar_Awi_M_Zuw_Zul_Uti_St_ku_Now_Des".split("_"),weekdays:"Kari_Ntnn_Tarata_Araba_Alamisa_Juma_Sibiri".split("_"),weekdaysShort:"Kar_Nt_Tar_Ara_Ala_Jum_Sib".split("_"),weekdaysMin:"Ka_Nt_Ta_Ar_Al_Ju_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"MMMM [tile] D [san] YYYY",LLL:"MMMM [tile] D [san] YYYY [lr] HH:mm",LLLL:"dddd MMMM [tile] D [san] YYYY [lr] HH:mm"},calendar:{sameDay:"[Bi lr] LT",nextDay:"[Sini lr] LT",nextWeek:"dddd [don lr] LT",lastDay:"[Kunu lr] LT",lastWeek:"dddd [tmnen lr] LT",sameElse:"L"},relativeTime:{future:"%s kn",past:"a b %s b",s:"sanga dama dama",ss:"sekondi %d",m:"miniti kelen",mm:"miniti %d",h:"lr kelen",hh:"lr %d",d:"tile kelen",dd:"tile %d",M:"kalo kelen",MM:"kalo %d",y:"san kelen",yy:"san %d"},week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n;e.defineLocale("bn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function preparse(e){return e.replace(/[]/g,function(e){return i[e]})},postformat:function postformat(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/||||/,meridiemHour:function meridiemHour(e,t){if(e===12){e=0}if(t===""&&e>=4||t===""&&e<5||t===""){return e+12}else{return e}},meridiem:function meridiem(e,t,i){if(e<4){return""}else if(e<10){return""}else if(e<17){return""}else if(e<20){return""}else{return""}},week:{dow:0,doy:6}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n;e.defineLocale("bo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[], LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function preparse(e){return e.replace(/[]/g,function(e){return i[e]})},postformat:function postformat(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/||||/,meridiemHour:function meridiemHour(e,t){if(e===12){e=0}if(t===""&&e>=4||t===""&&e<5||t===""){return e+12}else{return e}},meridiem:function meridiem(e,t,i){if(e<4){return""}else if(e<10){return""}else if(e<17){return""}else if(e<20){return""}else{return""}},week:{dow:0,doy:6}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";function relativeTimeWithMutation(e,t,i){var n={mm:"munutenn",MM:"miz",dd:"devezh"};return e+" "+mutation(n[i],e)}function specialMutationForYears(e){switch(lastNumber(e)){case 1:case 3:case 4:case 5:case 9:return e+" bloaz";default:return e+" vloaz"}}function lastNumber(e){if(e>9){return lastNumber(e%10)}return e}function mutation(e,t){if(t===2){return softMutation(e)}return e}function softMutation(e){var t={m:"v",b:"v",d:"z"};if(t[e.charAt(0)]===undefined){return e}return t[e.charAt(0)]+e.substring(1)}var t;e.defineLocale("br",{months:"Genver_C'hwevrer_Meurzh_Ebrel_Mae_Mezheven_Gouere_Eost_Gwengolo_Here_Du_Kerzu".split("_"),monthsShort:"Gen_C'hwe_Meu_Ebr_Mae_Eve_Gou_Eos_Gwe_Her_Du_Ker".split("_"),weekdays:"Sul_Lun_Meurzh_Merc'her_Yaou_Gwener_Sadorn".split("_"),weekdaysShort:"Sul_Lun_Meu_Mer_Yao_Gwe_Sad".split("_"),weekdaysMin:"Su_Lu_Me_Mer_Ya_Gw_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"h[e]mm A",LTS:"h[e]mm:ss A",L:"DD/MM/YYYY",LL:"D [a viz] MMMM YYYY",LLL:"D [a viz] MMMM YYYY h[e]mm A",LLLL:"dddd, D [a viz] MMMM YYYY h[e]mm A"},calendar:{sameDay:"[Hiziv da] LT",nextDay:"[Warc'hoazh da] LT",nextWeek:"dddd [da] LT",lastDay:"[Dec'h da] LT",lastWeek:"dddd [paset da] LT",sameElse:"L"},relativeTime:{future:"a-benn %s",past:"%s 'zo",s:"un nebeud segondenno",ss:"%d eilenn",m:"ur vunutenn",mm:relativeTimeWithMutation,h:"un eur",hh:"%d eur",d:"un devezh",dd:relativeTimeWithMutation,M:"ur miz",MM:relativeTimeWithMutation,y:"ur bloaz",yy:specialMutationForYears},dayOfMonthOrdinalParse:/\d{1,2}(a|vet)/,ordinal:function ordinal(e){var t=e===1?"a":"vet";return e+t},week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";function translate(e,t,i){var n=e+" ";switch(i){case"ss":if(e===1){n+="sekunda"}else if(e===2||e===3||e===4){n+="sekunde"}else{n+="sekundi"}return n;case"m":return t?"jedna minuta":"jedne minute";case"mm":if(e===1){n+="minuta"}else if(e===2||e===3||e===4){n+="minute"}else{n+="minuta"}return n;case"h":return t?"jedan sat":"jednog sata";case"hh":if(e===1){n+="sat"}else if(e===2||e===3||e===4){n+="sata"}else{n+="sati"}return n;case"dd":if(e===1){n+="dan"}else{n+="dana"}return n;case"MM":if(e===1){n+="mjesec"}else if(e===2||e===3||e===4){n+="mjeseca"}else{n+="mjeseci"}return n;case"yy":if(e===1){n+="godina"}else if(e===2||e===3||e===4){n+="godine"}else{n+="godina"}return n}}var t;e.defineLocale("bs",{months:"januar_februar_mart_april_maj_juni_juli_august_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._aug._sep._okt._nov._dec.".split("_"),monthsParseExact:true,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function nextWeek(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function lastWeek(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:translate,m:translate,mm:translate,h:translate,hh:translate,d:"dan",dd:translate,M:"mjesec",MM:translate,y:"godinu",yy:translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("ca",{months:{standalone:"gener_febrer_mar_abril_maig_juny_juliol_agost_setembre_octubre_novembre_desembre".split("_"),format:"de gener_de febrer_de mar_d'abril_de maig_de juny_de juliol_d'agost_de setembre_d'octubre_de novembre_de desembre".split("_"),isFormat:/D[oD]?(\s)+MMMM/},monthsShort:"gen._febr._mar_abr._maig_juny_jul._ag._set._oct._nov._des.".split("_"),monthsParseExact:true,weekdays:"diumenge_dilluns_dimarts_dimecres_dijous_divendres_dissabte".split("_"),weekdaysShort:"dg._dl._dt._dc._dj._dv._ds.".split("_"),weekdaysMin:"dg_dl_dt_dc_dj_dv_ds".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [de] YYYY",ll:"D MMM YYYY",LLL:"D MMMM [de] YYYY [a les] H:mm",lll:"D MMM YYYY, H:mm",LLLL:"dddd D MMMM [de] YYYY [a les] H:mm",llll:"ddd D MMM YYYY, H:mm"},calendar:{sameDay:function sameDay(){return"[avui a "+(this.hours()!==1?"les":"la")+"] LT"},nextDay:function nextDay(){return"[dem a "+(this.hours()!==1?"les":"la")+"] LT"},nextWeek:function nextWeek(){return"dddd [a "+(this.hours()!==1?"les":"la")+"] LT"},lastDay:function lastDay(){return"[ahir a "+(this.hours()!==1?"les":"la")+"] LT"},lastWeek:function lastWeek(){return"[el] dddd [passat a "+(this.hours()!==1?"les":"la")+"] LT"},sameElse:"L"},relativeTime:{future:"d'aqu %s",past:"fa %s",s:"uns segons",ss:"%d segons",m:"un minut",mm:"%d minuts",h:"una hora",hh:"%d hores",d:"un dia",dd:"%d dies",M:"un mes",MM:"%d mesos",y:"un any",yy:"%d anys"},dayOfMonthOrdinalParse:/\d{1,2}(r|n|t||a)/,ordinal:function ordinal(e,t){var i=e===1?"r":e===2?"n":e===3?"r":e===4?"t":"";if(t==="w"||t==="W"){i="a"}return e+i},week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t="leden_nor_bezen_duben_kvten_erven_ervenec_srpen_z_jen_listopad_prosinec".split("_"),i="led_no_be_dub_kv_vn_vc_srp_z_j_lis_pro".split("_"),n=[/^led/i,/^no/i,/^be/i,/^dub/i,/^kv/i,/^(vn|erven$|ervna)/i,/^(vc|ervenec|ervence)/i,/^srp/i,/^z/i,/^j/i,/^lis/i,/^pro/i],r=/^(leden|nor|bezen|duben|kvten|ervenec|ervence|erven|ervna|srpen|z|jen|listopad|prosinec|led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i,a;function plural(e){return e>1&&e<5&&~~(e/10)!==1}function translate(e,t,i,n){var r=e+" ";switch(i){case"s":return t||n?"pr sekund":"pr sekundami";case"ss":if(t||n){return r+(plural(e)?"sekundy":"sekund")}else{return r+"sekundami"}break;case"m":return t?"minuta":n?"minutu":"minutou";case"mm":if(t||n){return r+(plural(e)?"minuty":"minut")}else{return r+"minutami"}break;case"h":return t?"hodina":n?"hodinu":"hodinou";case"hh":if(t||n){return r+(plural(e)?"hodiny":"hodin")}else{return r+"hodinami"}break;case"d":return t||n?"den":"dnem";case"dd":if(t||n){return r+(plural(e)?"dny":"dn")}else{return r+"dny"}break;case"M":return t||n?"msc":"mscem";case"MM":if(t||n){return r+(plural(e)?"msce":"msc")}else{return r+"msci"}break;case"y":return t||n?"rok":"rokem";case"yy":if(t||n){return r+(plural(e)?"roky":"let")}else{return r+"lety"}break}}e.defineLocale("cs",{months:t,monthsShort:i,monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(leden|ledna|nora|nor|bezen|bezna|duben|dubna|kvten|kvtna|ervenec|ervence|erven|ervna|srpen|srpna|z|jen|jna|listopadu|listopad|prosinec|prosince)/i,monthsShortStrictRegex:/^(led|no|be|dub|kv|vn|vc|srp|z|j|lis|pro)/i,monthsParse:n,longMonthsParse:n,shortMonthsParse:n,weekdays:"nedle_pondl_ter_steda_tvrtek_ptek_sobota".split("_"),weekdaysShort:"ne_po_t_st_t_p_so".split("_"),weekdaysMin:"ne_po_t_st_t_p_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm",l:"D. M. YYYY"},calendar:{sameDay:"[dnes v] LT",nextDay:"[ztra v] LT",nextWeek:function nextWeek(){switch(this.day()){case 0:return"[v nedli v] LT";case 1:case 2:return"[v] dddd [v] LT";case 3:return"[ve stedu v] LT";case 4:return"[ve tvrtek v] LT";case 5:return"[v ptek v] LT";case 6:return"[v sobotu v] LT"}},lastDay:"[vera v] LT",lastWeek:function lastWeek(){switch(this.day()){case 0:return"[minulou nedli v] LT";case 1:case 2:return"[minul] dddd [v] LT";case 3:return"[minulou stedu v] LT";case 4:case 5:return"[minul] dddd [v] LT";case 6:return"[minulou sobotu v] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"ped %s",s:translate,ss:translate,m:translate,mm:translate,h:translate,hh:translate,d:translate,dd:translate,M:translate,MM:translate,y:translate,yy:translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("cv",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"YYYY [] MMMM [] D[-]",LLL:"YYYY [] MMMM [] D[-], HH:mm",LLLL:"dddd, YYYY [] MMMM [] D[-], HH:mm"},calendar:{sameDay:"[] LT []",nextDay:"[] LT []",lastDay:"[] LT []",nextWeek:"[] dddd LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:function future(e){var t=/$/i.exec(e)?"":/$/i.exec(e)?"":"";return e+t},past:"%s ",s:"- ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-/,ordinal:"%d-",week:{dow:1,doy:7}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("cy",{months:"Ionawr_Chwefror_Mawrth_Ebrill_Mai_Mehefin_Gorffennaf_Awst_Medi_Hydref_Tachwedd_Rhagfyr".split("_"),monthsShort:"Ion_Chwe_Maw_Ebr_Mai_Meh_Gor_Aws_Med_Hyd_Tach_Rhag".split("_"),weekdays:"Dydd Sul_Dydd Llun_Dydd Mawrth_Dydd Mercher_Dydd Iau_Dydd Gwener_Dydd Sadwrn".split("_"),weekdaysShort:"Sul_Llun_Maw_Mer_Iau_Gwe_Sad".split("_"),weekdaysMin:"Su_Ll_Ma_Me_Ia_Gw_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Heddiw am] LT",nextDay:"[Yfory am] LT",nextWeek:"dddd [am] LT",lastDay:"[Ddoe am] LT",lastWeek:"dddd [diwethaf am] LT",sameElse:"L"},relativeTime:{future:"mewn %s",past:"%s yn l",s:"ychydig eiliadau",ss:"%d eiliad",m:"munud",mm:"%d munud",h:"awr",hh:"%d awr",d:"diwrnod",dd:"%d diwrnod",M:"mis",MM:"%d mis",y:"blwyddyn",yy:"%d flynedd"},dayOfMonthOrdinalParse:/\d{1,2}(fed|ain|af|il|ydd|ed|eg)/,ordinal:function ordinal(e){var t=e,i="",n=["","af","il","ydd","ydd","ed","ed","ed","fed","fed","fed","eg","fed","eg","eg","fed","eg","eg","fed","eg","fed"];if(t>20){if(t===40||t===50||t===60||t===80||t===100){i="fed"}else{i="ain"}}else if(t>0){i=n[t]}return e+i},week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("da",{months:"januar_februar_marts_april_maj_juni_juli_august_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_man_tir_ons_tor_fre_lr".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd [d.] D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"p dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[i] dddd[s kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"f sekunder",ss:"%d sekunder",m:"et minut",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dage",M:"en mned",MM:"%d mneder",y:"et r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";function processRelativeTime(e,t,i,n){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[i][0]:r[i][1]}var t;e.defineLocale("de",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:true,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:processRelativeTime,mm:"%d Minuten",h:processRelativeTime,hh:"%d Stunden",d:processRelativeTime,dd:processRelativeTime,M:processRelativeTime,MM:processRelativeTime,y:processRelativeTime,yy:processRelativeTime},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";function processRelativeTime(e,t,i,n){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[i][0]:r[i][1]}var t;e.defineLocale("de-at",{months:"Jnner_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jn._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:true,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So._Mo._Di._Mi._Do._Fr._Sa.".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:processRelativeTime,mm:"%d Minuten",h:processRelativeTime,hh:"%d Stunden",d:processRelativeTime,dd:processRelativeTime,M:processRelativeTime,MM:processRelativeTime,y:processRelativeTime,yy:processRelativeTime},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";function processRelativeTime(e,t,i,n){var r={m:["eine Minute","einer Minute"],h:["eine Stunde","einer Stunde"],d:["ein Tag","einem Tag"],dd:[e+" Tage",e+" Tagen"],M:["ein Monat","einem Monat"],MM:[e+" Monate",e+" Monaten"],y:["ein Jahr","einem Jahr"],yy:[e+" Jahre",e+" Jahren"]};return t?r[i][0]:r[i][1]}var t;e.defineLocale("de-ch",{months:"Januar_Februar_Mrz_April_Mai_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Feb._Mrz_Apr._Mai_Juni_Juli_Aug._Sep._Okt._Nov._Dez.".split("_"),monthsParseExact:true,weekdays:"Sonntag_Montag_Dienstag_Mittwoch_Donnerstag_Freitag_Samstag".split("_"),weekdaysShort:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysMin:"So_Mo_Di_Mi_Do_Fr_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY HH:mm",LLLL:"dddd, D. MMMM YYYY HH:mm"},calendar:{sameDay:"[heute um] LT [Uhr]",sameElse:"L",nextDay:"[morgen um] LT [Uhr]",nextWeek:"dddd [um] LT [Uhr]",lastDay:"[gestern um] LT [Uhr]",lastWeek:"[letzten] dddd [um] LT [Uhr]"},relativeTime:{future:"in %s",past:"vor %s",s:"ein paar Sekunden",ss:"%d Sekunden",m:processRelativeTime,mm:"%d Minuten",h:processRelativeTime,hh:"%d Stunden",d:processRelativeTime,dd:processRelativeTime,M:processRelativeTime,MM:processRelativeTime,y:processRelativeTime,yy:processRelativeTime},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t=["","","","","","","","","","","",""],i=["","","","","","",""],n;e.defineLocale("dv",{months:t,monthsShort:t,weekdays:i,weekdaysShort:i,weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"D/M/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function isPM(e){return""===e},meridiem:function meridiem(e,t,i){if(e<12){return""}else{return""}},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:"",ss:"d% ",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},preparse:function preparse(e){return e.replace(//g,",")},postformat:function postformat(e){return e.replace(/,/g,"")},week:{dow:7,doy:12}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";function isFunction(e){return e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}var t;e.defineLocale("el",{monthsNominativeEl:"___________".split("_"),monthsGenitiveEl:"___________".split("_"),months:function months(e,t){if(!e){return this._monthsNominativeEl}else if(typeof t==="string"&&/D/.test(t.substring(0,t.indexOf("MMMM")))){return this._monthsGenitiveEl[e.month()]}else{return this._monthsNominativeEl[e.month()]}},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),meridiem:function meridiem(e,t,i){if(e>11){return i?"":""}else{return i?"":""}},isPM:function isPM(e){return(e+"").toLowerCase()[0]===""},meridiemParse:/[]\.??\.?/i,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendarEl:{sameDay:"[ {}] LT",nextDay:"[ {}] LT",nextWeek:"dddd [{}] LT",lastDay:"[ {}] LT",lastWeek:function lastWeek(){switch(this.day()){case 6:return"[ ] dddd [{}] LT";default:return"[ ] dddd [{}] LT"}},sameElse:"L"},calendar:function calendar(e,t){var i=this._calendarEl[e],n=t&&t.hours();if(isFunction(i)){i=i.apply(t)}return i.replace("{}",n%12===1?"":"")},relativeTime:{future:" %s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("en-SG",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function ordinal(e){var t=e%10,i=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+i},week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("en-au",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function ordinal(e){var t=e%10,i=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+i},week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("en-ca",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"YYYY-MM-DD",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function ordinal(e){var t=e%10,i=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+i}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("en-gb",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function ordinal(e){var t=e%10,i=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+i},week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("en-ie",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function ordinal(e){var t=e%10,i=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+i},week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("en-il",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function ordinal(e){var t=e%10,i=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+i}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("en-nz",{months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function ordinal(e){var t=e%10,i=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+i},week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("eo",{months:"januaro_februaro_marto_aprilo_majo_junio_julio_agusto_septembro_oktobro_novembro_decembro".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_ag_sep_okt_nov_dec".split("_"),weekdays:"dimano_lundo_mardo_merkredo_ado_vendredo_sabato".split("_"),weekdaysShort:"dim_lun_mard_merk_a_ven_sab".split("_"),weekdaysMin:"di_lu_ma_me_a_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D[-a de] MMMM, YYYY",LLL:"D[-a de] MMMM, YYYY HH:mm",LLLL:"dddd, [la] D[-a de] MMMM, YYYY HH:mm"},meridiemParse:/[ap]\.t\.m/i,isPM:function isPM(e){return e.charAt(0).toLowerCase()==="p"},meridiem:function meridiem(e,t,i){if(e>11){return i?"p.t.m.":"P.T.M."}else{return i?"a.t.m.":"A.T.M."}},calendar:{sameDay:"[Hodia je] LT",nextDay:"[Morga je] LT",nextWeek:"dddd [je] LT",lastDay:"[Hiera je] LT",lastWeek:"[pasinta] dddd [je] LT",sameElse:"L"},relativeTime:{future:"post %s",past:"anta %s",s:"sekundoj",ss:"%d sekundoj",m:"minuto",mm:"%d minutoj",h:"horo",hh:"%d horoj",d:"tago",dd:"%d tagoj",M:"monato",MM:"%d monatoj",y:"jaro",yy:"%d jaroj"},dayOfMonthOrdinalParse:/\d{1,2}a/,ordinal:"%da",week:{dow:1,doy:7}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var i="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),t=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,a;e.defineLocale("es",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function monthsShort(e,t){if(!e){return i}else if(/-MMM-/.test(t)){return n[e.month()]}else{return i[e.month()]}},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:t,longMonthsParse:t,shortMonthsParse:t,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function sameDay(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function nextDay(){return"[maana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function nextWeek(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function lastDay(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function lastWeek(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var i="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),t=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,a;e.defineLocale("es-do",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function monthsShort(e,t){if(!e){return i}else if(/-MMM-/.test(t)){return n[e.month()]}else{return i[e.month()]}},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:t,longMonthsParse:t,shortMonthsParse:t,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function sameDay(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function nextDay(){return"[maana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function nextWeek(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function lastDay(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function lastWeek(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var i="ene._feb._mar._abr._may._jun._jul._ago._sep._oct._nov._dic.".split("_"),n="ene_feb_mar_abr_may_jun_jul_ago_sep_oct_nov_dic".split("_"),t=[/^ene/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i],r=/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre|ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,a;e.defineLocale("es-us",{months:"enero_febrero_marzo_abril_mayo_junio_julio_agosto_septiembre_octubre_noviembre_diciembre".split("_"),monthsShort:function monthsShort(e,t){if(!e){return i}else if(/-MMM-/.test(t)){return n[e.month()]}else{return i[e.month()]}},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i,monthsShortStrictRegex:/^(ene\.?|feb\.?|mar\.?|abr\.?|may\.?|jun\.?|jul\.?|ago\.?|sep\.?|oct\.?|nov\.?|dic\.?)/i,monthsParse:t,longMonthsParse:t,shortMonthsParse:t,weekdays:"domingo_lunes_martes_mircoles_jueves_viernes_sbado".split("_"),weekdaysShort:"dom._lun._mar._mi._jue._vie._sb.".split("_"),weekdaysMin:"do_lu_ma_mi_ju_vi_s".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"MM/DD/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY h:mm A",LLLL:"dddd, D [de] MMMM [de] YYYY h:mm A"},calendar:{sameDay:function sameDay(){return"[hoy a la"+(this.hours()!==1?"s":"")+"] LT"},nextDay:function nextDay(){return"[maana a la"+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function nextWeek(){return"dddd [a la"+(this.hours()!==1?"s":"")+"] LT"},lastDay:function lastDay(){return"[ayer a la"+(this.hours()!==1?"s":"")+"] LT"},lastWeek:function lastWeek(){return"[el] dddd [pasado a la"+(this.hours()!==1?"s":"")+"] LT"},sameElse:"L"},relativeTime:{future:"en %s",past:"hace %s",s:"unos segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"una hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ao",yy:"%d aos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:0,doy:6}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";function processRelativeTime(e,t,i,n){var r={s:["mne sekundi","mni sekund","paar sekundit"],ss:[e+"sekundi",e+"sekundit"],m:["he minuti","ks minut"],mm:[e+" minuti",e+" minutit"],h:["he tunni","tund aega","ks tund"],hh:[e+" tunni",e+" tundi"],d:["he peva","ks pev"],M:["kuu aja","kuu aega","ks kuu"],MM:[e+" kuu",e+" kuud"],y:["he aasta","aasta","ks aasta"],yy:[e+" aasta",e+" aastat"]};if(t){return r[i][2]?r[i][2]:r[i][1]}return n?r[i][0]:r[i][1]}var t;e.defineLocale("et",{months:"jaanuar_veebruar_mrts_aprill_mai_juuni_juuli_august_september_oktoober_november_detsember".split("_"),monthsShort:"jaan_veebr_mrts_apr_mai_juuni_juuli_aug_sept_okt_nov_dets".split("_"),weekdays:"phapev_esmaspev_teisipev_kolmapev_neljapev_reede_laupev".split("_"),weekdaysShort:"P_E_T_K_N_R_L".split("_"),weekdaysMin:"P_E_T_K_N_R_L".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[Tna,] LT",nextDay:"[Homme,] LT",nextWeek:"[Jrgmine] dddd LT",lastDay:"[Eile,] LT",lastWeek:"[Eelmine] dddd LT",sameElse:"L"},relativeTime:{future:"%s prast",past:"%s tagasi",s:processRelativeTime,ss:processRelativeTime,m:processRelativeTime,mm:processRelativeTime,h:processRelativeTime,hh:processRelativeTime,d:processRelativeTime,dd:"%d peva",M:processRelativeTime,MM:processRelativeTime,y:processRelativeTime,yy:processRelativeTime},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("eu",{months:"urtarrila_otsaila_martxoa_apirila_maiatza_ekaina_uztaila_abuztua_iraila_urria_azaroa_abendua".split("_"),monthsShort:"urt._ots._mar._api._mai._eka._uzt._abu._ira._urr._aza._abe.".split("_"),monthsParseExact:true,weekdays:"igandea_astelehena_asteartea_asteazkena_osteguna_ostirala_larunbata".split("_"),weekdaysShort:"ig._al._ar._az._og._ol._lr.".split("_"),weekdaysMin:"ig_al_ar_az_og_ol_lr".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY[ko] MMMM[ren] D[a]",LLL:"YYYY[ko] MMMM[ren] D[a] HH:mm",LLLL:"dddd, YYYY[ko] MMMM[ren] D[a] HH:mm",l:"YYYY-M-D",ll:"YYYY[ko] MMM D[a]",lll:"YYYY[ko] MMM D[a] HH:mm",llll:"ddd, YYYY[ko] MMM D[a] HH:mm"},calendar:{sameDay:"[gaur] LT[etan]",nextDay:"[bihar] LT[etan]",nextWeek:"dddd LT[etan]",lastDay:"[atzo] LT[etan]",lastWeek:"[aurreko] dddd LT[etan]",sameElse:"L"},relativeTime:{future:"%s barru",past:"duela %s",s:"segundo batzuk",ss:"%d segundo",m:"minutu bat",mm:"%d minutu",h:"ordu bat",hh:"%d ordu",d:"egun bat",dd:"%d egun",M:"hilabete bat",MM:"%d hilabete",y:"urte bat",yy:"%d urte"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n;e.defineLocale("fa",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/  |  /,isPM:function isPM(e){return/  /.test(e)},meridiem:function meridiem(e,t,i){if(e<12){return"  "}else{return"  "}},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:" d%",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function preparse(e){return e.replace(/[-]/g,function(e){return i[e]}).replace(//g,",")},postformat:function postformat(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:6,doy:12}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var i="nolla yksi kaksi kolme nelj viisi kuusi seitsemn kahdeksan yhdeksn".split(" "),n=["nolla","yhden","kahden","kolmen","neljn","viiden","kuuden",i[7],i[8],i[9]],t;function translate(e,t,i,n){var r="";switch(i){case"s":return n?"muutaman sekunnin":"muutama sekunti";case"ss":return n?"sekunnin":"sekuntia";case"m":return n?"minuutin":"minuutti";case"mm":r=n?"minuutin":"minuuttia";break;case"h":return n?"tunnin":"tunti";case"hh":r=n?"tunnin":"tuntia";break;case"d":return n?"pivn":"piv";case"dd":r=n?"pivn":"piv";break;case"M":return n?"kuukauden":"kuukausi";case"MM":r=n?"kuukauden":"kuukautta";break;case"y":return n?"vuoden":"vuosi";case"yy":r=n?"vuoden":"vuotta";break}r=verbalNumber(e,n)+" "+r;return r}function verbalNumber(e,t){return e<10?t?n[e]:i[e]:e}e.defineLocale("fi",{months:"tammikuu_helmikuu_maaliskuu_huhtikuu_toukokuu_keskuu_heinkuu_elokuu_syyskuu_lokakuu_marraskuu_joulukuu".split("_"),monthsShort:"tammi_helmi_maalis_huhti_touko_kes_hein_elo_syys_loka_marras_joulu".split("_"),weekdays:"sunnuntai_maanantai_tiistai_keskiviikko_torstai_perjantai_lauantai".split("_"),weekdaysShort:"su_ma_ti_ke_to_pe_la".split("_"),weekdaysMin:"su_ma_ti_ke_to_pe_la".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"Do MMMM[ta] YYYY",LLL:"Do MMMM[ta] YYYY, [klo] HH.mm",LLLL:"dddd, Do MMMM[ta] YYYY, [klo] HH.mm",l:"D.M.YYYY",ll:"Do MMM YYYY",lll:"Do MMM YYYY, [klo] HH.mm",llll:"ddd, Do MMM YYYY, [klo] HH.mm"},calendar:{sameDay:"[tnn] [klo] LT",nextDay:"[huomenna] [klo] LT",nextWeek:"dddd [klo] LT",lastDay:"[eilen] [klo] LT",lastWeek:"[viime] dddd[na] [klo] LT",sameElse:"L"},relativeTime:{future:"%s pst",past:"%s sitten",s:translate,ss:translate,m:translate,mm:translate,h:translate,hh:translate,d:translate,dd:translate,M:translate,MM:translate,y:translate,yy:translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("fo",{months:"januar_februar_mars_aprl_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sunnudagur_mnadagur_tsdagur_mikudagur_hsdagur_frggjadagur_leygardagur".split("_"),weekdaysShort:"sun_mn_ts_mik_hs_fr_ley".split("_"),weekdaysMin:"su_m_t_mi_h_fr_le".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D. MMMM, YYYY HH:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgin kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gjr kl.] LT",lastWeek:"[sstu] dddd [kl] LT",sameElse:"L"},relativeTime:{future:"um %s",past:"%s sani",s:"f sekund",ss:"%d sekundir",m:"ein minuttur",mm:"%d minuttir",h:"ein tmi",hh:"%d tmar",d:"ein dagur",dd:"%d dagar",M:"ein mnaur",MM:"%d mnair",y:"eitt r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("fr",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:true,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|)/,ordinal:function ordinal(e,t){switch(t){case"D":return e+(e===1?"er":"");default:case"M":case"Q":case"DDD":case"d":return e+(e===1?"er":"e");case"w":case"W":return e+(e===1?"re":"e")}},week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("fr-ca",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:true,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function ordinal(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(e===1?"er":"e");case"w":case"W":return e+(e===1?"re":"e")}}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("fr-ch",{months:"janvier_fvrier_mars_avril_mai_juin_juillet_aot_septembre_octobre_novembre_dcembre".split("_"),monthsShort:"janv._fvr._mars_avr._mai_juin_juil._aot_sept._oct._nov._dc.".split("_"),monthsParseExact:true,weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Aujourdhui ] LT",nextDay:"[Demain ] LT",nextWeek:"dddd [] LT",lastDay:"[Hier ] LT",lastWeek:"dddd [dernier ] LT",sameElse:"L"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",ss:"%d secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},dayOfMonthOrdinalParse:/\d{1,2}(er|e)/,ordinal:function ordinal(e,t){switch(t){default:case"M":case"Q":case"D":case"DDD":case"d":return e+(e===1?"er":"e");case"w":case"W":return e+(e===1?"re":"e")}},week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var i="jan._feb._mrt._apr._mai_jun._jul._aug._sep._okt._nov._des.".split("_"),n="jan_feb_mrt_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),t;e.defineLocale("fy",{months:"jannewaris_febrewaris_maart_april_maaie_juny_july_augustus_septimber_oktober_novimber_desimber".split("_"),monthsShort:function monthsShort(e,t){if(!e){return i}else if(/-MMM-/.test(t)){return n[e.month()]}else{return i[e.month()]}},monthsParseExact:true,weekdays:"snein_moandei_tiisdei_woansdei_tongersdei_freed_sneon".split("_"),weekdaysShort:"si._mo._ti._wo._to._fr._so.".split("_"),weekdaysMin:"Si_Mo_Ti_Wo_To_Fr_So".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[hjoed om] LT",nextDay:"[moarn om] LT",nextWeek:"dddd [om] LT",lastDay:"[juster om] LT",lastWeek:"[frne] dddd [om] LT",sameElse:"L"},relativeTime:{future:"oer %s",past:"%s lyn",s:"in pear sekonden",ss:"%d sekonden",m:"ien mint",mm:"%d minuten",h:"ien oere",hh:"%d oeren",d:"ien dei",dd:"%d dagen",M:"ien moanne",MM:"%d moannen",y:"ien jier",yy:"%d jierren"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function ordinal(e){return e+(e===1||e===8||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t=["Eanir","Feabhra","Mrta","Aibren","Bealtaine","Mitheamh","Iil","Lnasa","Men Fmhair","Deaireadh Fmhair","Samhain","Nollaig"],i=["Ean","Feab","Mrt","Aibr","Beal","Mit","Iil","Lna","Men","Deai","Samh","Noll"],n=["D Domhnaigh","D Luain","D Mirt","D Cadaoin","Dardaoin","D hAoine","D Satharn"],r=["Dom","Lua","Mi","Ca","Da","hAo","Sat"],a=["Do","Lu","M","Ce","D","hA","Sa"],o;e.defineLocale("ga",{months:t,monthsShort:i,monthsParseExact:true,weekdays:n,weekdaysShort:r,weekdaysMin:a,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Inniu ag] LT",nextDay:"[Amrach ag] LT",nextWeek:"dddd [ag] LT",lastDay:"[Inn aig] LT",lastWeek:"dddd [seo caite] [ag] LT",sameElse:"L"},relativeTime:{future:"i %s",past:"%s  shin",s:"cpla soicind",ss:"%d soicind",m:"nimad",mm:"%d nimad",h:"uair an chloig",hh:"%d uair an chloig",d:"l",dd:"%d l",M:"m",MM:"%d m",y:"bliain",yy:"%d bliain"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function ordinal(e){var t=e===1?"d":e%10===2?"na":"mh";return e+t},week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t=["Am Faoilleach","An Gearran","Am Mrt","An Giblean","An Citean","An t-gmhios","An t-Iuchar","An Lnastal","An t-Sultain","An Dmhair","An t-Samhain","An Dbhlachd"],i=["Faoi","Gear","Mrt","Gibl","Cit","gmh","Iuch","Ln","Sult","Dmh","Samh","Dbh"],n=["Didmhnaich","Diluain","Dimirt","Diciadain","Diardaoin","Dihaoine","Disathairne"],r=["Did","Dil","Dim","Dic","Dia","Dih","Dis"],a=["D","Lu","M","Ci","Ar","Ha","Sa"],o;e.defineLocale("gd",{months:t,monthsShort:i,monthsParseExact:true,weekdays:n,weekdaysShort:r,weekdaysMin:a,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[An-diugh aig] LT",nextDay:"[A-mireach aig] LT",nextWeek:"dddd [aig] LT",lastDay:"[An-d aig] LT",lastWeek:"dddd [seo chaidh] [aig] LT",sameElse:"L"},relativeTime:{future:"ann an %s",past:"bho chionn %s",s:"beagan diogan",ss:"%d diogan",m:"mionaid",mm:"%d mionaidean",h:"uair",hh:"%d uairean",d:"latha",dd:"%d latha",M:"mos",MM:"%d mosan",y:"bliadhna",yy:"%d bliadhna"},dayOfMonthOrdinalParse:/\d{1,2}(d|na|mh)/,ordinal:function ordinal(e){var t=e===1?"d":e%10===2?"na":"mh";return e+t},week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("gl",{months:"xaneiro_febreiro_marzo_abril_maio_xuo_xullo_agosto_setembro_outubro_novembro_decembro".split("_"),monthsShort:"xan._feb._mar._abr._mai._xu._xul._ago._set._out._nov._dec.".split("_"),monthsParseExact:true,weekdays:"domingo_luns_martes_mrcores_xoves_venres_sbado".split("_"),weekdaysShort:"dom._lun._mar._mr._xov._ven._sb.".split("_"),weekdaysMin:"do_lu_ma_m_xo_ve_s".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY H:mm",LLLL:"dddd, D [de] MMMM [de] YYYY H:mm"},calendar:{sameDay:function sameDay(){return"[hoxe "+(this.hours()!==1?"s":"")+"] LT"},nextDay:function nextDay(){return"[ma "+(this.hours()!==1?"s":"")+"] LT"},nextWeek:function nextWeek(){return"dddd ["+(this.hours()!==1?"s":"a")+"] LT"},lastDay:function lastDay(){return"[onte "+(this.hours()!==1?"":"a")+"] LT"},lastWeek:function lastWeek(){return"[o] dddd [pasado "+(this.hours()!==1?"s":"a")+"] LT"},sameElse:"L"},relativeTime:{future:function future(e){if(e.indexOf("un")===0){return"n"+e}return"en "+e},past:"hai %s",s:"uns segundos",ss:"%d segundos",m:"un minuto",mm:"%d minutos",h:"unha hora",hh:"%d horas",d:"un da",dd:"%d das",M:"un mes",MM:"%d meses",y:"un ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";function processRelativeTime(e,t,i,n){var r={s:["thodde secondanim","thodde second"],ss:[e+" secondanim",e+" second"],m:["eka mintan","ek minute"],mm:[e+" mintanim",e+" mintam"],h:["eka voran","ek vor"],hh:[e+" voranim",e+" voram"],d:["eka disan","ek dis"],dd:[e+" disanim",e+" dis"],M:["eka mhoinean","ek mhoino"],MM:[e+" mhoineanim",e+" mhoine"],y:["eka vorsan","ek voros"],yy:[e+" vorsanim",e+" vorsam"]};return t?r[i][0]:r[i][1]}var t;e.defineLocale("gom-latn",{months:"Janer_Febrer_Mars_Abril_Mai_Jun_Julai_Agost_Setembr_Otubr_Novembr_Dezembr".split("_"),monthsShort:"Jan._Feb._Mars_Abr._Mai_Jun_Jul._Ago._Set._Otu._Nov._Dez.".split("_"),monthsParseExact:true,weekdays:"Aitar_Somar_Mongllar_Budvar_Brestar_Sukrar_Son'var".split("_"),weekdaysShort:"Ait._Som._Mon._Bud._Bre._Suk._Son.".split("_"),weekdaysMin:"Ai_Sm_Mo_Bu_Br_Su_Sn".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"A h:mm [vazta]",LTS:"A h:mm:ss [vazta]",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY A h:mm [vazta]",LLLL:"dddd, MMMM[achea] Do, YYYY, A h:mm [vazta]",llll:"ddd, D MMM YYYY, A h:mm [vazta]"},calendar:{sameDay:"[Aiz] LT",nextDay:"[Faleam] LT",nextWeek:"[Ieta to] dddd[,] LT",lastDay:"[Kal] LT",lastWeek:"[Fatlo] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s adim",s:processRelativeTime,ss:processRelativeTime,m:processRelativeTime,mm:processRelativeTime,h:processRelativeTime,hh:processRelativeTime,d:processRelativeTime,dd:processRelativeTime,M:processRelativeTime,MM:processRelativeTime,y:processRelativeTime,yy:processRelativeTime},dayOfMonthOrdinalParse:/\d{1,2}(er)/,ordinal:function ordinal(e,t){switch(t){case"D":return e+"er";default:case"M":case"Q":case"DDD":case"d":case"w":case"W":return e}},week:{dow:1,doy:4},meridiemParse:/rati|sokalli|donparam|sanje/,meridiemHour:function meridiemHour(e,t){if(e===12){e=0}if(t==="rati"){return e<4?e:e+12}else if(t==="sokalli"){return e}else if(t==="donparam"){return e>12?e:e+12}else if(t==="sanje"){return e+12}},meridiem:function meridiem(e,t,i){if(e<4){return"rati"}else if(e<12){return"sokalli"}else if(e<16){return"donparam"}else if(e<20){return"sanje"}else{return"rati"}}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n;e.defineLocale("gu",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function preparse(e){return e.replace(/[]/g,function(e){return i[e]})},postformat:function postformat(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function meridiemHour(e,t){if(e===12){e=0}if(t===""){return e<4?e:e+12}else if(t===""){return e}else if(t===""){return e>=10?e:e+12}else if(t===""){return e+12}},meridiem:function meridiem(e,t,i){if(e<4){return""}else if(e<10){return""}else if(e<17){return""}else if(e<20){return""}else{return""}},week:{dow:0,doy:6}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("he",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D []MMMM YYYY",LLL:"D []MMMM YYYY HH:mm",LLLL:"dddd, D []MMMM YYYY HH:mm",l:"D/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[ ]LT",nextDay:"[ ]LT",nextWeek:"dddd [] LT",lastDay:"[ ]LT",lastWeek:"[] dddd [ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:function hh(e){if(e===2){return""}return e+" "},d:"",dd:function dd(e){if(e===2){return""}return e+" "},M:"",MM:function MM(e){if(e===2){return""}return e+" "},y:"",yy:function yy(e){if(e===2){return""}else if(e%10===0&&e!==10){return e+" "}return e+" "}},meridiemParse:/"|"| | | ||/i,isPM:function isPM(e){return/^("| |)$/.test(e)},meridiem:function meridiem(e,t,i){if(e<5){return" "}else if(e<10){return""}else if(e<12){return i?'"':" "}else if(e<18){return i?'"':" "}else{return""}}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n;e.defineLocale("hi",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function preparse(e){return e.replace(/[]/g,function(e){return i[e]})},postformat:function postformat(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function meridiemHour(e,t){if(e===12){e=0}if(t===""){return e<4?e:e+12}else if(t===""){return e}else if(t===""){return e>=10?e:e+12}else if(t===""){return e+12}},meridiem:function meridiem(e,t,i){if(e<4){return""}else if(e<10){return""}else if(e<17){return""}else if(e<20){return""}else{return""}},week:{dow:0,doy:6}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";function translate(e,t,i){var n=e+" ";switch(i){case"ss":if(e===1){n+="sekunda"}else if(e===2||e===3||e===4){n+="sekunde"}else{n+="sekundi"}return n;case"m":return t?"jedna minuta":"jedne minute";case"mm":if(e===1){n+="minuta"}else if(e===2||e===3||e===4){n+="minute"}else{n+="minuta"}return n;case"h":return t?"jedan sat":"jednog sata";case"hh":if(e===1){n+="sat"}else if(e===2||e===3||e===4){n+="sata"}else{n+="sati"}return n;case"dd":if(e===1){n+="dan"}else{n+="dana"}return n;case"MM":if(e===1){n+="mjesec"}else if(e===2||e===3||e===4){n+="mjeseca"}else{n+="mjeseci"}return n;case"yy":if(e===1){n+="godina"}else if(e===2||e===3||e===4){n+="godine"}else{n+="godina"}return n}}var t;e.defineLocale("hr",{months:{format:"sijenja_veljae_oujka_travnja_svibnja_lipnja_srpnja_kolovoza_rujna_listopada_studenoga_prosinca".split("_"),standalone:"sijeanj_veljaa_oujak_travanj_svibanj_lipanj_srpanj_kolovoz_rujan_listopad_studeni_prosinac".split("_")},monthsShort:"sij._velj._ou._tra._svi._lip._srp._kol._ruj._lis._stu._pro.".split("_"),monthsParseExact:true,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function nextWeek(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[juer u] LT",lastWeek:function lastWeek(){switch(this.day()){case 0:case 3:return"[prolu] dddd [u] LT";case 6:return"[prole] [subote] [u] LT";case 1:case 2:case 4:case 5:return"[proli] dddd [u] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"par sekundi",ss:translate,m:translate,mm:translate,h:translate,hh:translate,d:"dan",dd:translate,M:"mjesec",MM:translate,y:"godinu",yy:translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t="vasrnap htfn kedden szerdn cstrtkn pnteken szombaton".split(" "),i;function translate(e,t,i,n){var r=e;switch(i){case"s":return n||t?"nhny msodperc":"nhny msodperce";case"ss":return r+(n||t)?" msodperc":" msodperce";case"m":return"egy"+(n||t?" perc":" perce");case"mm":return r+(n||t?" perc":" perce");case"h":return"egy"+(n||t?" ra":" rja");case"hh":return r+(n||t?" ra":" rja");case"d":return"egy"+(n||t?" nap":" napja");case"dd":return r+(n||t?" nap":" napja");case"M":return"egy"+(n||t?" hnap":" hnapja");case"MM":return r+(n||t?" hnap":" hnapja");case"y":return"egy"+(n||t?" v":" ve");case"yy":return r+(n||t?" v":" ve")}return""}function week(e){return(e?"":"[mlt] ")+"["+t[this.day()]+"] LT[-kor]"}e.defineLocale("hu",{months:"janur_februr_mrcius_prilis_mjus_jnius_jlius_augusztus_szeptember_oktber_november_december".split("_"),monthsShort:"jan_feb_mrc_pr_mj_jn_jl_aug_szept_okt_nov_dec".split("_"),weekdays:"vasrnap_htf_kedd_szerda_cstrtk_pntek_szombat".split("_"),weekdaysShort:"vas_ht_kedd_sze_cst_pn_szo".split("_"),weekdaysMin:"v_h_k_sze_cs_p_szo".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY. MMMM D.",LLL:"YYYY. MMMM D. H:mm",LLLL:"YYYY. MMMM D., dddd H:mm"},meridiemParse:/de|du/i,isPM:function isPM(e){return e.charAt(1).toLowerCase()==="u"},meridiem:function meridiem(e,t,i){if(e<12){return i===true?"de":"DE"}else{return i===true?"du":"DU"}},calendar:{sameDay:"[ma] LT[-kor]",nextDay:"[holnap] LT[-kor]",nextWeek:function nextWeek(){return week.call(this,true)},lastDay:"[tegnap] LT[-kor]",lastWeek:function lastWeek(){return week.call(this,false)},sameElse:"L"},relativeTime:{future:"%s mlva",past:"%s",s:translate,ss:translate,m:translate,mm:translate,h:translate,hh:translate,d:translate,dd:translate,M:translate,MM:translate,y:translate,yy:translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("hy-am",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",lastDay:"[] LT",nextWeek:function nextWeek(){return"dddd [ ] LT"},lastWeek:function lastWeek(){return"[] dddd [ ] LT"},sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},meridiemParse:/|||/,isPM:function isPM(e){return/^(|)$/.test(e)},meridiem:function meridiem(e){if(e<4){return""}else if(e<12){return""}else if(e<17){return""}else{return""}},dayOfMonthOrdinalParse:/\d{1,2}|\d{1,2}-(|)/,ordinal:function ordinal(e,t){switch(t){case"DDD":case"w":case"W":case"DDDo":if(e===1){return e+"-"}return e+"-";default:return e}},week:{dow:1,doy:7}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("id",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_November_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Agt_Sep_Okt_Nov_Des".split("_"),weekdays:"Minggu_Senin_Selasa_Rabu_Kamis_Jumat_Sabtu".split("_"),weekdaysShort:"Min_Sen_Sel_Rab_Kam_Jum_Sab".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|siang|sore|malam/,meridiemHour:function meridiemHour(e,t){if(e===12){e=0}if(t==="pagi"){return e}else if(t==="siang"){return e>=11?e:e+12}else if(t==="sore"||t==="malam"){return e+12}},meridiem:function meridiem(e,t,i){if(e<11){return"pagi"}else if(e<15){return"siang"}else if(e<19){return"sore"}else{return"malam"}},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Besok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kemarin pukul] LT",lastWeek:"dddd [lalu pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lalu",s:"beberapa detik",ss:"%d detik",m:"semenit",mm:"%d menit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";function plural(e){if(e%100===11){return true}else if(e%10===1){return false}return true}function translate(e,t,i,n){var r=e+" ";switch(i){case"s":return t||n?"nokkrar sekndur":"nokkrum sekndum";case"ss":if(plural(e)){return r+(t||n?"sekndur":"sekndum")}return r+"seknda";case"m":return t?"mnta":"mntu";case"mm":if(plural(e)){return r+(t||n?"mntur":"mntum")}else if(t){return r+"mnta"}return r+"mntu";case"hh":if(plural(e)){return r+(t||n?"klukkustundir":"klukkustundum")}return r+"klukkustund";case"d":if(t){return"dagur"}return n?"dag":"degi";case"dd":if(plural(e)){if(t){return r+"dagar"}return r+(n?"daga":"dgum")}else if(t){return r+"dagur"}return r+(n?"dag":"degi");case"M":if(t){return"mnuur"}return n?"mnu":"mnui";case"MM":if(plural(e)){if(t){return r+"mnuir"}return r+(n?"mnui":"mnuum")}else if(t){return r+"mnuur"}return r+(n?"mnu":"mnui");case"y":return t||n?"r":"ri";case"yy":if(plural(e)){return r+(t||n?"r":"rum")}return r+(t||n?"r":"ri")}}var t;e.defineLocale("is",{months:"janar_febrar_mars_aprl_ma_jn_jl_gst_september_oktber_nvember_desember".split("_"),monthsShort:"jan_feb_mar_apr_ma_jn_jl_g_sep_okt_nv_des".split("_"),weekdays:"sunnudagur_mnudagur_rijudagur_mivikudagur_fimmtudagur_fstudagur_laugardagur".split("_"),weekdaysShort:"sun_mn_ri_mi_fim_fs_lau".split("_"),weekdaysMin:"Su_M_r_Mi_Fi_F_La".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd, D. MMMM YYYY [kl.] H:mm"},calendar:{sameDay:"[ dag kl.] LT",nextDay:"[ morgun kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[ gr kl.] LT",lastWeek:"[sasta] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"eftir %s",past:"fyrir %s san",s:translate,ss:translate,m:translate,mm:translate,h:"klukkustund",hh:translate,d:translate,dd:translate,M:translate,MM:translate,y:translate,yy:translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("it",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function lastWeek(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function future(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("it-ch",{months:"gennaio_febbraio_marzo_aprile_maggio_giugno_luglio_agosto_settembre_ottobre_novembre_dicembre".split("_"),monthsShort:"gen_feb_mar_apr_mag_giu_lug_ago_set_ott_nov_dic".split("_"),weekdays:"domenica_luned_marted_mercoled_gioved_venerd_sabato".split("_"),weekdaysShort:"dom_lun_mar_mer_gio_ven_sab".split("_"),weekdaysMin:"do_lu_ma_me_gi_ve_sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[Oggi alle] LT",nextDay:"[Domani alle] LT",nextWeek:"dddd [alle] LT",lastDay:"[Ieri alle] LT",lastWeek:function lastWeek(){switch(this.day()){case 0:return"[la scorsa] dddd [alle] LT";default:return"[lo scorso] dddd [alle] LT"}},sameElse:"L"},relativeTime:{future:function future(e){return(/^[0-9].+$/.test(e)?"tra":"in")+" "+e},past:"%s fa",s:"alcuni secondi",ss:"%d secondi",m:"un minuto",mm:"%d minuti",h:"un'ora",hh:"%d ore",d:"un giorno",dd:"%d giorni",M:"un mese",MM:"%d mesi",y:"un anno",yy:"%d anni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("ja",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMD dddd HH:mm",l:"YYYY/MM/DD",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMD(ddd) HH:mm"},meridiemParse:/|/i,isPM:function isPM(e){return e===""},meridiem:function meridiem(e,t,i){if(e<12){return""}else{return""}},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:function nextWeek(e){if(e.week()<this.week()){return"[]dddd LT"}else{return"dddd LT"}},lastDay:"[] LT",lastWeek:function lastWeek(e){if(this.week()<e.week()){return"[]dddd LT"}else{return"dddd LT"}},sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function ordinal(e,t){switch(t){case"d":case"D":case"DDD":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d",m:"1",mm:"%d",h:"1",hh:"%d",d:"1",dd:"%d",M:"1",MM:"%d",y:"1",yy:"%d"}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("jv",{months:"Januari_Februari_Maret_April_Mei_Juni_Juli_Agustus_September_Oktober_Nopember_Desember".split("_"),monthsShort:"Jan_Feb_Mar_Apr_Mei_Jun_Jul_Ags_Sep_Okt_Nop_Des".split("_"),weekdays:"Minggu_Senen_Seloso_Rebu_Kemis_Jemuwah_Septu".split("_"),weekdaysShort:"Min_Sen_Sel_Reb_Kem_Jem_Sep".split("_"),weekdaysMin:"Mg_Sn_Sl_Rb_Km_Jm_Sp".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/enjing|siyang|sonten|ndalu/,meridiemHour:function meridiemHour(e,t){if(e===12){e=0}if(t==="enjing"){return e}else if(t==="siyang"){return e>=11?e:e+12}else if(t==="sonten"||t==="ndalu"){return e+12}},meridiem:function meridiem(e,t,i){if(e<11){return"enjing"}else if(e<15){return"siyang"}else if(e<19){return"sonten"}else{return"ndalu"}},calendar:{sameDay:"[Dinten puniko pukul] LT",nextDay:"[Mbenjang pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kala wingi pukul] LT",lastWeek:"dddd [kepengker pukul] LT",sameElse:"L"},relativeTime:{future:"wonten ing %s",past:"%s ingkang kepengker",s:"sawetawis detik",ss:"%d detik",m:"setunggal menit",mm:"%d menit",h:"setunggal jam",hh:"%d jam",d:"sedinten",dd:"%d dinten",M:"sewulan",MM:"%d wulan",y:"setaun",yy:"%d taun"},week:{dow:1,doy:7}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("ka",{months:{standalone:"___________".split("_"),format:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/(|)/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[] LT[-]",nextDay:"[] LT[-]",lastDay:"[] LT[-]",nextWeek:"[] dddd LT[-]",lastWeek:"[] dddd LT-",sameElse:"L"},relativeTime:{future:function future(e){return/(|||)/.test(e)?e.replace(/$/,""):e+""},past:function past(e){if(/(||||)/.test(e)){return e.replace(/(|)$/," ")}if(//.test(e)){return e.replace(/$/," ")}},s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/0|1-|-\d{1,2}|\d{1,2}-/,ordinal:function ordinal(e){if(e===0){return e}if(e===1){return e+"-"}if(e<20||e<=100&&e%20===0||e%100===0){return"-"+e}return e+"-"},week:{dow:1,doy:7}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var n={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"},t;e.defineLocale("kk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function ordinal(e){var t=e%10,i=e>=100?100:null;return e+(n[e]||n[t]||n[i])},week:{dow:1,doy:7}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n;e.defineLocale("km",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function isPM(e){return e===""},meridiem:function meridiem(e,t,i){if(e<12){return""}else{return""}},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",preparse:function preparse(e){return e.replace(/[]/g,function(e){return i[e]})},postformat:function postformat(e){return e.replace(/\d/g,function(e){return t[e]})},week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n;e.defineLocale("kn",{months:"___________".split("_"),monthsShort:"___________".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function preparse(e){return e.replace(/[]/g,function(e){return i[e]})},postformat:function postformat(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function meridiemHour(e,t){if(e===12){e=0}if(t===""){return e<4?e:e+12}else if(t===""){return e}else if(t===""){return e>=10?e:e+12}else if(t===""){return e+12}},meridiem:function meridiem(e,t,i){if(e<4){return""}else if(e<10){return""}else if(e<17){return""}else if(e<20){return""}else{return""}},dayOfMonthOrdinalParse:/\d{1,2}()/,ordinal:function ordinal(e){return e+""},week:{dow:0,doy:6}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("ko",{months:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"YYYY.MM.DD.",LL:"YYYY MMMM D",LLL:"YYYY MMMM D A h:mm",LLLL:"YYYY MMMM D dddd A h:mm",l:"YYYY.MM.DD.",ll:"YYYY MMMM D",lll:"YYYY MMMM D A h:mm",llll:"YYYY MMMM D dddd A h:mm"},calendar:{sameDay:" LT",nextDay:" LT",nextWeek:"dddd LT",lastDay:" LT",lastWeek:" dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d",m:"1",mm:"%d",h:" ",hh:"%d",d:"",dd:"%d",M:" ",MM:"%d",y:" ",yy:"%d"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function ordinal(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},meridiemParse:/|/,isPM:function isPM(e){return e===""},meridiem:function meridiem(e,t,i){return e<12?"":""}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n=[" ","","","","","","","",""," "," "," "],r;e.defineLocale("ku",{months:n,monthsShort:n,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function isPM(e){return//.test(e)},meridiem:function meridiem(e,t,i){if(e<12){return""}else{return""}},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:" ",ss:" %d",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function preparse(e){return e.replace(/[]/g,function(e){return i[e]}).replace(//g,",")},postformat:function postformat(e){return e.replace(/\d/g,function(e){return t[e]}).replace(/,/g,"")},week:{dow:6,doy:12}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var n={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"},t;e.defineLocale("ky",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"[ ] dddd [] [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||)/,ordinal:function ordinal(e){var t=e%10,i=e>=100?100:null;return e+(n[e]||n[t]||n[i])},week:{dow:1,doy:7}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";function processRelativeTime(e,t,i,n){var r={m:["eng Minutt","enger Minutt"],h:["eng Stonn","enger Stonn"],d:["een Dag","engem Dag"],M:["ee Mount","engem Mount"],y:["ee Joer","engem Joer"]};return t?r[i][0]:r[i][1]}function processFutureTime(e){var t=e.substr(0,e.indexOf(" "));if(eifelerRegelAppliesToNumber(t)){return"a "+e}return"an "+e}function processPastTime(e){var t=e.substr(0,e.indexOf(" "));if(eifelerRegelAppliesToNumber(t)){return"viru "+e}return"virun "+e}function eifelerRegelAppliesToNumber(e){e=parseInt(e,10);if(isNaN(e)){return false}if(e<0){return true}else if(e<10){if(4<=e&&e<=7){return true}return false}else if(e<100){var t=e%10,i=e/10;if(t===0){return eifelerRegelAppliesToNumber(i)}return eifelerRegelAppliesToNumber(t)}else if(e<1e4){while(e>=10){e=e/10}return eifelerRegelAppliesToNumber(e)}else{e=e/1e3;return eifelerRegelAppliesToNumber(e)}}var t;e.defineLocale("lb",{months:"Januar_Februar_Merz_Abrll_Mee_Juni_Juli_August_September_Oktober_November_Dezember".split("_"),monthsShort:"Jan._Febr._Mrz._Abr._Mee_Jun._Jul._Aug._Sept._Okt._Nov._Dez.".split("_"),monthsParseExact:true,weekdays:"Sonndeg_Mindeg_Dnschdeg_Mttwoch_Donneschdeg_Freideg_Samschdeg".split("_"),weekdaysShort:"So._M._D._M._Do._Fr._Sa.".split("_"),weekdaysMin:"So_M_D_M_Do_Fr_Sa".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm [Auer]",LTS:"H:mm:ss [Auer]",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm [Auer]",LLLL:"dddd, D. MMMM YYYY H:mm [Auer]"},calendar:{sameDay:"[Haut um] LT",sameElse:"L",nextDay:"[Muer um] LT",nextWeek:"dddd [um] LT",lastDay:"[Gschter um] LT",lastWeek:function lastWeek(){switch(this.day()){case 2:case 4:return"[Leschten] dddd [um] LT";default:return"[Leschte] dddd [um] LT"}}},relativeTime:{future:processFutureTime,past:processPastTime,s:"e puer Sekonnen",ss:"%d Sekonnen",m:processRelativeTime,mm:"%d Minutten",h:processRelativeTime,hh:"%d Stonnen",d:processRelativeTime,dd:"%d Deeg",M:processRelativeTime,MM:"%d Mint",y:processRelativeTime,yy:"%d Joer"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("lo",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function isPM(e){return e===""},meridiem:function meridiem(e,t,i){if(e<12){return""}else{return""}},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd[] LT",lastDay:"[] LT",lastWeek:"[]dddd[] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},dayOfMonthOrdinalParse:/()\d{1,2}/,ordinal:function ordinal(e){return""+e}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t={ss:"sekund_sekundi_sekundes",m:"minut_minuts_minut",mm:"minuts_minui_minutes",h:"valanda_valandos_valand",hh:"valandos_valand_valandas",d:"diena_dienos_dien",dd:"dienos_dien_dienas",M:"mnuo_mnesio_mnes",MM:"mnesiai_mnesi_mnesius",y:"metai_met_metus",yy:"metai_met_metus"},i;function translateSeconds(e,t,i,n){if(t){return"kelios sekunds"}else{return n?"keli sekundi":"kelias sekundes"}}function translateSingular(e,t,i,n){return t?forms(i)[0]:n?forms(i)[1]:forms(i)[2]}function special(e){return e%10===0||e>10&&e<20}function forms(e){return t[e].split("_")}function translate(e,t,i,n){var r=e+" ";if(e===1){return r+translateSingular(e,t,i[0],n)}else if(t){return r+(special(e)?forms(i)[1]:forms(i)[0])}else{if(n){return r+forms(i)[1]}else{return r+(special(e)?forms(i)[1]:forms(i)[2])}}}e.defineLocale("lt",{months:{format:"sausio_vasario_kovo_balandio_gegus_birelio_liepos_rugpjio_rugsjo_spalio_lapkriio_gruodio".split("_"),standalone:"sausis_vasaris_kovas_balandis_gegu_birelis_liepa_rugpjtis_rugsjis_spalis_lapkritis_gruodis".split("_"),isFormat:/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?|MMMM?(\[[^\[\]]*\]|\s)+D[oD]?/},monthsShort:"sau_vas_kov_bal_geg_bir_lie_rgp_rgs_spa_lap_grd".split("_"),weekdays:{format:"sekmadien_pirmadien_antradien_treiadien_ketvirtadien_penktadien_etadien".split("_"),standalone:"sekmadienis_pirmadienis_antradienis_treiadienis_ketvirtadienis_penktadienis_etadienis".split("_"),isFormat:/dddd HH:mm/},weekdaysShort:"Sek_Pir_Ant_Tre_Ket_Pen_e".split("_"),weekdaysMin:"S_P_A_T_K_Pn_".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY [m.] MMMM D [d.]",LLL:"YYYY [m.] MMMM D [d.], HH:mm [val.]",LLLL:"YYYY [m.] MMMM D [d.], dddd, HH:mm [val.]",l:"YYYY-MM-DD",ll:"YYYY [m.] MMMM D [d.]",lll:"YYYY [m.] MMMM D [d.], HH:mm [val.]",llll:"YYYY [m.] MMMM D [d.], ddd, HH:mm [val.]"},calendar:{sameDay:"[iandien] LT",nextDay:"[Rytoj] LT",nextWeek:"dddd LT",lastDay:"[Vakar] LT",lastWeek:"[Prajus] dddd LT",sameElse:"L"},relativeTime:{future:"po %s",past:"prie %s",s:translateSeconds,ss:translate,m:translateSingular,mm:translate,h:translateSingular,hh:translate,d:translateSingular,dd:translate,M:translateSingular,MM:translate,y:translateSingular,yy:translate},dayOfMonthOrdinalParse:/\d{1,2}-oji/,ordinal:function ordinal(e){return e+"-oji"},week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var n={ss:"sekundes_sekundm_sekunde_sekundes".split("_"),m:"mintes_mintm_minte_mintes".split("_"),mm:"mintes_mintm_minte_mintes".split("_"),h:"stundas_stundm_stunda_stundas".split("_"),hh:"stundas_stundm_stunda_stundas".split("_"),d:"dienas_dienm_diena_dienas".split("_"),dd:"dienas_dienm_diena_dienas".split("_"),M:"mnea_mneiem_mnesis_mnei".split("_"),MM:"mnea_mneiem_mnesis_mnei".split("_"),y:"gada_gadiem_gads_gadi".split("_"),yy:"gada_gadiem_gads_gadi".split("_")},t;function format(e,t,i){if(i){return t%10===1&&t%100!==11?e[2]:e[3]}else{return t%10===1&&t%100!==11?e[0]:e[1]}}function relativeTimeWithPlural(e,t,i){return e+" "+format(n[i],e,t)}function relativeTimeWithSingular(e,t,i){return format(n[i],e,t)}function relativeSeconds(e,t){return t?"daas sekundes":"dam sekundm"}e.defineLocale("lv",{months:"janvris_februris_marts_aprlis_maijs_jnijs_jlijs_augusts_septembris_oktobris_novembris_decembris".split("_"),monthsShort:"jan_feb_mar_apr_mai_jn_jl_aug_sep_okt_nov_dec".split("_"),weekdays:"svtdiena_pirmdiena_otrdiena_trediena_ceturtdiena_piektdiena_sestdiena".split("_"),weekdaysShort:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysMin:"Sv_P_O_T_C_Pk_S".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY.",LL:"YYYY. [gada] D. MMMM",LLL:"YYYY. [gada] D. MMMM, HH:mm",LLLL:"YYYY. [gada] D. MMMM, dddd, HH:mm"},calendar:{sameDay:"[odien pulksten] LT",nextDay:"[Rt pulksten] LT",nextWeek:"dddd [pulksten] LT",lastDay:"[Vakar pulksten] LT",lastWeek:"[Pagju] dddd [pulksten] LT",sameElse:"L"},relativeTime:{future:"pc %s",past:"pirms %s",s:relativeSeconds,ss:relativeTimeWithPlural,m:relativeTimeWithSingular,mm:relativeTimeWithPlural,h:relativeTimeWithSingular,hh:relativeTimeWithPlural,d:relativeTimeWithSingular,dd:relativeTimeWithPlural,M:relativeTimeWithSingular,MM:relativeTimeWithPlural,y:relativeTimeWithSingular,yy:relativeTimeWithPlural},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var r={words:{ss:["sekund","sekunda","sekundi"],m:["jedan minut","jednog minuta"],mm:["minut","minuta","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mjesec","mjeseca","mjeseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function correctGrammaticalCase(e,t){return e===1?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function translate(e,t,i){var n=r.words[i];if(i.length===1){return t?n[0]:n[1]}else{return e+" "+r.correctGrammaticalCase(e,n)}}},t;e.defineLocale("me",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:true,weekdays:"nedjelja_ponedjeljak_utorak_srijeda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sri._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sjutra u] LT",nextWeek:function nextWeek(){switch(this.day()){case 0:return"[u] [nedjelju] [u] LT";case 3:return"[u] [srijedu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function lastWeek(){var e=["[prole] [nedjelje] [u] LT","[prolog] [ponedjeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srijede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"prije %s",s:"nekoliko sekundi",ss:r.translate,m:r.translate,mm:r.translate,h:r.translate,hh:r.translate,d:"dan",dd:r.translate,M:"mjesec",MM:r.translate,y:"godinu",yy:r.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("mi",{months:"Kohi-tte_Hui-tanguru_Pout-te-rangi_Paenga-whwh_Haratua_Pipiri_Hngoingoi_Here-turi-kk_Mahuru_Whiringa--nuku_Whiringa--rangi_Hakihea".split("_"),monthsShort:"Kohi_Hui_Pou_Pae_Hara_Pipi_Hngoi_Here_Mahu_Whi-nu_Whi-ra_Haki".split("_"),monthsRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,3}/i,monthsShortStrictRegex:/(?:['a-z\u0101\u014D\u016B]+\-?){1,2}/i,weekdays:"Rtapu_Mane_Trei_Wenerei_Tite_Paraire_Htarei".split("_"),weekdaysShort:"Ta_Ma_T_We_Ti_Pa_H".split("_"),weekdaysMin:"Ta_Ma_T_We_Ti_Pa_H".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [i] HH:mm",LLLL:"dddd, D MMMM YYYY [i] HH:mm"},calendar:{sameDay:"[i teie mahana, i] LT",nextDay:"[apopo i] LT",nextWeek:"dddd [i] LT",lastDay:"[inanahi i] LT",lastWeek:"dddd [whakamutunga i] LT",sameElse:"L"},relativeTime:{future:"i roto i %s",past:"%s i mua",s:"te hkona ruarua",ss:"%d hkona",m:"he meneti",mm:"%d meneti",h:"te haora",hh:"%d haora",d:"he ra",dd:"%d ra",M:"he marama",MM:"%d marama",y:"he tau",yy:"%d tau"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("mk",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"e_o_____a".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"D.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[ ] LT",lastWeek:function lastWeek(){switch(this.day()){case 0:case 3:case 6:return"[] dddd [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}-(|||||)/,ordinal:function ordinal(e){var t=e%10,i=e%100;if(e===0){return e+"-"}else if(i===0){return e+"-"}else if(i>10&&i<20){return e+"-"}else if(t===1){return e+"-"}else if(t===2){return e+"-"}else if(t===7||t===8){return e+"-"}else{return e+"-"}},week:{dow:1,doy:7}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("ml",{months:"___________".split("_"),monthsShort:"._._._.___._._._._._.".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm -",LTS:"A h:mm:ss -",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm -",LLLL:"dddd, D MMMM YYYY, A h:mm -"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|| ||/i,meridiemHour:function meridiemHour(e,t){if(e===12){e=0}if(t===""&&e>=4||t===" "||t===""){return e+12}else{return e}},meridiem:function meridiem(e,t,i){if(e<4){return""}else if(e<12){return""}else if(e<17){return" "}else if(e<20){return""}else{return""}}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";function translate(e,t,i,n){switch(i){case"s":return t?" ":" ";case"ss":return e+(t?" ":" ");case"m":case"mm":return e+(t?" ":" ");case"h":case"hh":return e+(t?" ":" ");case"d":case"dd":return e+(t?" ":" ");case"M":case"MM":return e+(t?" ":" ");case"y":case"yy":return e+(t?" ":" ");default:return e}}var t;e.defineLocale("mn",{months:" _ _ _ _ _ _ _ _ _ _  _  ".split("_"),monthsShort:"1 _2 _3 _4 _5 _6 _7 _8 _9 _10 _11 _12 ".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY  MMMM D",LLL:"YYYY  MMMM D HH:mm",LLLL:"dddd, YYYY  MMMM D HH:mm"},meridiemParse:/|/i,isPM:function isPM(e){return e===""},meridiem:function meridiem(e,t,i){if(e<12){return""}else{return""}},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd LT",lastDay:"[] LT",lastWeek:"[] dddd LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:translate,ss:translate,m:translate,mm:translate,h:translate,hh:translate,d:translate,dd:translate,M:translate,MM:translate,y:translate,yy:translate},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function ordinal(e,t){switch(t){case"d":case"D":case"DDD":return e+" ";default:return e}}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n;function relativeTimeMr(e,t,i,n){var r="";if(t){switch(i){case"s":r=" ";break;case"ss":r="%d ";break;case"m":r=" ";break;case"mm":r="%d ";break;case"h":r=" ";break;case"hh":r="%d ";break;case"d":r=" ";break;case"dd":r="%d ";break;case"M":r=" ";break;case"MM":r="%d ";break;case"y":r=" ";break;case"yy":r="%d ";break}}else{switch(i){case"s":r=" ";break;case"ss":r="%d ";break;case"m":r=" ";break;case"mm":r="%d ";break;case"h":r=" ";break;case"hh":r="%d ";break;case"d":r=" ";break;case"dd":r="%d ";break;case"M":r=" ";break;case"MM":r="%d ";break;case"y":r=" ";break;case"yy":r="%d ";break}}return r.replace(/%d/i,e)}e.defineLocale("mr",{months:"___________".split("_"),monthsShort:"._._._._._._._._._._._.".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s",s:relativeTimeMr,ss:relativeTimeMr,m:relativeTimeMr,mm:relativeTimeMr,h:relativeTimeMr,hh:relativeTimeMr,d:relativeTimeMr,dd:relativeTimeMr,M:relativeTimeMr,MM:relativeTimeMr,y:relativeTimeMr,yy:relativeTimeMr},preparse:function preparse(e){return e.replace(/[]/g,function(e){return i[e]})},postformat:function postformat(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function meridiemHour(e,t){if(e===12){e=0}if(t===""){return e<4?e:e+12}else if(t===""){return e}else if(t===""){return e>=10?e:e+12}else if(t===""){return e+12}},meridiem:function meridiem(e,t,i){if(e<4){return""}else if(e<10){return""}else if(e<17){return""}else if(e<20){return""}else{return""}},week:{dow:0,doy:6}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("ms",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function meridiemHour(e,t){if(e===12){e=0}if(t==="pagi"){return e}else if(t==="tengahari"){return e>=11?e:e+12}else if(t==="petang"||t==="malam"){return e+12}},meridiem:function meridiem(e,t,i){if(e<11){return"pagi"}else if(e<15){return"tengahari"}else if(e<19){return"petang"}else{return"malam"}},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("ms-my",{months:"Januari_Februari_Mac_April_Mei_Jun_Julai_Ogos_September_Oktober_November_Disember".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ogs_Sep_Okt_Nov_Dis".split("_"),weekdays:"Ahad_Isnin_Selasa_Rabu_Khamis_Jumaat_Sabtu".split("_"),weekdaysShort:"Ahd_Isn_Sel_Rab_Kha_Jum_Sab".split("_"),weekdaysMin:"Ah_Is_Sl_Rb_Km_Jm_Sb".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [pukul] HH.mm",LLLL:"dddd, D MMMM YYYY [pukul] HH.mm"},meridiemParse:/pagi|tengahari|petang|malam/,meridiemHour:function meridiemHour(e,t){if(e===12){e=0}if(t==="pagi"){return e}else if(t==="tengahari"){return e>=11?e:e+12}else if(t==="petang"||t==="malam"){return e+12}},meridiem:function meridiem(e,t,i){if(e<11){return"pagi"}else if(e<15){return"tengahari"}else if(e<19){return"petang"}else{return"malam"}},calendar:{sameDay:"[Hari ini pukul] LT",nextDay:"[Esok pukul] LT",nextWeek:"dddd [pukul] LT",lastDay:"[Kelmarin pukul] LT",lastWeek:"dddd [lepas pukul] LT",sameElse:"L"},relativeTime:{future:"dalam %s",past:"%s yang lepas",s:"beberapa saat",ss:"%d saat",m:"seminit",mm:"%d minit",h:"sejam",hh:"%d jam",d:"sehari",dd:"%d hari",M:"sebulan",MM:"%d bulan",y:"setahun",yy:"%d tahun"},week:{dow:1,doy:7}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("mt",{months:"Jannar_Frar_Marzu_April_Mejju_unju_Lulju_Awwissu_Settembru_Ottubru_Novembru_Diembru".split("_"),monthsShort:"Jan_Fra_Mar_Apr_Mej_un_Lul_Aww_Set_Ott_Nov_Di".split("_"),weekdays:"Il-add_It-Tnejn_It-Tlieta_L-Erbga_Il-amis_Il-imga_Is-Sibt".split("_"),weekdaysShort:"ad_Tne_Tli_Erb_am_im_Sib".split("_"),weekdaysMin:"a_Tn_Tl_Er_a_i_Si".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Illum fil-]LT",nextDay:"[Gada fil-]LT",nextWeek:"dddd [fil-]LT",lastDay:"[Il-biera fil-]LT",lastWeek:"dddd [li gadda] [fil-]LT",sameElse:"L"},relativeTime:{future:"f %s",past:"%s ilu",s:"ftit sekondi",ss:"%d sekondi",m:"minuta",mm:"%d minuti",h:"siega",hh:"%d siegat",d:"urnata",dd:"%d ranet",M:"xahar",MM:"%d xhur",y:"sena",yy:"%d sni"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n;e.defineLocale("my",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[.] LT []",nextDay:"[] LT []",nextWeek:"dddd LT []",lastDay:"[.] LT []",lastWeek:"[] dddd LT []",sameElse:"L"},relativeTime:{future:" %s ",past:" %s ",s:".",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d ",M:"",MM:"%d ",y:"",yy:"%d "},preparse:function preparse(e){return e.replace(/[]/g,function(e){return i[e]})},postformat:function postformat(e){return e.replace(/\d/g,function(e){return t[e]})},week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("nb",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan._feb._mars_april_mai_juni_juli_aug._sep._okt._nov._des.".split("_"),monthsParseExact:true,weekdays:"sndag_mandag_tirsdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"s._ma._ti._on._to._fr._l.".split("_"),weekdaysMin:"s_ma_ti_on_to_fr_l".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] HH:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[i dag kl.] LT",nextDay:"[i morgen kl.] LT",nextWeek:"dddd [kl.] LT",lastDay:"[i gr kl.] LT",lastWeek:"[forrige] dddd [kl.] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s siden",s:"noen sekunder",ss:"%d sekunder",m:"ett minutt",mm:"%d minutter",h:"en time",hh:"%d timer",d:"en dag",dd:"%d dager",M:"en mned",MM:"%d mneder",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n;e.defineLocale("ne",{months:"___________".split("_"),monthsShort:"._.__.___._._._._._.".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},preparse:function preparse(e){return e.replace(/[]/g,function(e){return i[e]})},postformat:function postformat(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function meridiemHour(e,t){if(e===12){e=0}if(t===""){return e<4?e:e+12}else if(t===""){return e}else if(t===""){return e>=10?e:e+12}else if(t===""){return e+12}},meridiem:function meridiem(e,t,i){if(e<3){return""}else if(e<12){return""}else if(e<16){return""}else if(e<20){return""}else{return""}},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd[,] LT",lastDay:"[] LT",lastWeek:"[] dddd[,] LT",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:0,doy:6}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var i="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),t=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,a;e.defineLocale("nl",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function monthsShort(e,t){if(!e){return i}else if(/-MMM-/.test(t)){return n[e.month()]}else{return i[e.month()]}},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:t,longMonthsParse:t,shortMonthsParse:t,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD-MM-YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function ordinal(e){return e+(e===1||e===8||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var i="jan._feb._mrt._apr._mei_jun._jul._aug._sep._okt._nov._dec.".split("_"),n="jan_feb_mrt_apr_mei_jun_jul_aug_sep_okt_nov_dec".split("_"),t=[/^jan/i,/^feb/i,/^maart|mrt.?$/i,/^apr/i,/^mei$/i,/^jun[i.]?$/i,/^jul[i.]?$/i,/^aug/i,/^sep/i,/^okt/i,/^nov/i,/^dec/i],r=/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december|jan\.?|feb\.?|mrt\.?|apr\.?|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,a;e.defineLocale("nl-be",{months:"januari_februari_maart_april_mei_juni_juli_augustus_september_oktober_november_december".split("_"),monthsShort:function monthsShort(e,t){if(!e){return i}else if(/-MMM-/.test(t)){return n[e.month()]}else{return i[e.month()]}},monthsRegex:r,monthsShortRegex:r,monthsStrictRegex:/^(januari|februari|maart|april|mei|ju[nl]i|augustus|september|oktober|november|december)/i,monthsShortStrictRegex:/^(jan\.?|feb\.?|mrt\.?|apr\.?|mei|ju[nl]\.?|aug\.?|sep\.?|okt\.?|nov\.?|dec\.?)/i,monthsParse:t,longMonthsParse:t,shortMonthsParse:t,weekdays:"zondag_maandag_dinsdag_woensdag_donderdag_vrijdag_zaterdag".split("_"),weekdaysShort:"zo._ma._di._wo._do._vr._za.".split("_"),weekdaysMin:"zo_ma_di_wo_do_vr_za".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[vandaag om] LT",nextDay:"[morgen om] LT",nextWeek:"dddd [om] LT",lastDay:"[gisteren om] LT",lastWeek:"[afgelopen] dddd [om] LT",sameElse:"L"},relativeTime:{future:"over %s",past:"%s geleden",s:"een paar seconden",ss:"%d seconden",m:"n minuut",mm:"%d minuten",h:"n uur",hh:"%d uur",d:"n dag",dd:"%d dagen",M:"n maand",MM:"%d maanden",y:"n jaar",yy:"%d jaar"},dayOfMonthOrdinalParse:/\d{1,2}(ste|de)/,ordinal:function ordinal(e){return e+(e===1||e===8||e>=20?"ste":"de")},week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("nn",{months:"januar_februar_mars_april_mai_juni_juli_august_september_oktober_november_desember".split("_"),monthsShort:"jan_feb_mar_apr_mai_jun_jul_aug_sep_okt_nov_des".split("_"),weekdays:"sundag_mndag_tysdag_onsdag_torsdag_fredag_laurdag".split("_"),weekdaysShort:"sun_mn_tys_ons_tor_fre_lau".split("_"),weekdaysMin:"su_m_ty_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY [kl.] H:mm",LLLL:"dddd D. MMMM YYYY [kl.] HH:mm"},calendar:{sameDay:"[I dag klokka] LT",nextDay:"[I morgon klokka] LT",nextWeek:"dddd [klokka] LT",lastDay:"[I gr klokka] LT",lastWeek:"[Fregande] dddd [klokka] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"%s sidan",s:"nokre sekund",ss:"%d sekund",m:"eit minutt",mm:"%d minutt",h:"ein time",hh:"%d timar",d:"ein dag",dd:"%d dagar",M:"ein mnad",MM:"%d mnader",y:"eit r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n;e.defineLocale("pa-in",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm ",LTS:"A h:mm:ss ",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm ",LLLL:"dddd, D MMMM YYYY, A h:mm "},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[] dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function preparse(e){return e.replace(/[]/g,function(e){return i[e]})},postformat:function postformat(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||/,meridiemHour:function meridiemHour(e,t){if(e===12){e=0}if(t===""){return e<4?e:e+12}else if(t===""){return e}else if(t===""){return e>=10?e:e+12}else if(t===""){return e+12}},meridiem:function meridiem(e,t,i){if(e<4){return""}else if(e<10){return""}else if(e<17){return""}else if(e<20){return""}else{return""}},week:{dow:0,doy:6}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var i="stycze_luty_marzec_kwiecie_maj_czerwiec_lipiec_sierpie_wrzesie_padziernik_listopad_grudzie".split("_"),n="stycznia_lutego_marca_kwietnia_maja_czerwca_lipca_sierpnia_wrzenia_padziernika_listopada_grudnia".split("_"),t;function plural(e){return e%10<5&&e%10>1&&~~(e/10)%10!==1}function translate(e,t,i){var n=e+" ";switch(i){case"ss":return n+(plural(e)?"sekundy":"sekund");case"m":return t?"minuta":"minut";case"mm":return n+(plural(e)?"minuty":"minut");case"h":return t?"godzina":"godzin";case"hh":return n+(plural(e)?"godziny":"godzin");case"MM":return n+(plural(e)?"miesice":"miesicy");case"yy":return n+(plural(e)?"lata":"lat")}}e.defineLocale("pl",{months:function months(e,t){if(!e){return i}else if(t===""){return"("+n[e.month()]+"|"+i[e.month()]+")"}else if(/D MMMM/.test(t)){return n[e.month()]}else{return i[e.month()]}},monthsShort:"sty_lut_mar_kwi_maj_cze_lip_sie_wrz_pa_lis_gru".split("_"),weekdays:"niedziela_poniedziaek_wtorek_roda_czwartek_pitek_sobota".split("_"),weekdaysShort:"ndz_pon_wt_r_czw_pt_sob".split("_"),weekdaysMin:"Nd_Pn_Wt_r_Cz_Pt_So".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Dzi o] LT",nextDay:"[Jutro o] LT",nextWeek:function nextWeek(){switch(this.day()){case 0:return"[W niedziel o] LT";case 2:return"[We wtorek o] LT";case 3:return"[W rod o] LT";case 6:return"[W sobot o] LT";default:return"[W] dddd [o] LT"}},lastDay:"[Wczoraj o] LT",lastWeek:function lastWeek(){switch(this.day()){case 0:return"[W zesz niedziel o] LT";case 3:return"[W zesz rod o] LT";case 6:return"[W zesz sobot o] LT";default:return"[W zeszy] dddd [o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"%s temu",s:"kilka sekund",ss:translate,m:translate,mm:translate,h:translate,hh:translate,d:"1 dzie",dd:"%d dni",M:"miesic",MM:translate,y:"rok",yy:translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("pt",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function lastWeek(){return this.day()===0||this.day()===6?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("pt-br",{months:"Janeiro_Fevereiro_Maro_Abril_Maio_Junho_Julho_Agosto_Setembro_Outubro_Novembro_Dezembro".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingo_Segunda-feira_Tera-feira_Quarta-feira_Quinta-feira_Sexta-feira_Sbado".split("_"),weekdaysShort:"Dom_Seg_Ter_Qua_Qui_Sex_Sb".split("_"),weekdaysMin:"Do_2_3_4_5_6_S".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D [de] MMMM [de] YYYY",LLL:"D [de] MMMM [de] YYYY [s] HH:mm",LLLL:"dddd, D [de] MMMM [de] YYYY [s] HH:mm"},calendar:{sameDay:"[Hoje s] LT",nextDay:"[Amanh s] LT",nextWeek:"dddd [s] LT",lastDay:"[Ontem s] LT",lastWeek:function lastWeek(){return this.day()===0||this.day()===6?"[ltimo] dddd [s] LT":"[ltima] dddd [s] LT"},sameElse:"L"},relativeTime:{future:"em %s",past:"h %s",s:"poucos segundos",ss:"%d segundos",m:"um minuto",mm:"%d minutos",h:"uma hora",hh:"%d horas",d:"um dia",dd:"%d dias",M:"um ms",MM:"%d meses",y:"um ano",yy:"%d anos"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d"})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";function relativeTimeWithPlural(e,t,i){var n={ss:"secunde",mm:"minute",hh:"ore",dd:"zile",MM:"luni",yy:"ani"},r=" ";if(e%100>=20||e>=100&&e%100===0){r=" de "}return e+r+n[i]}var t;e.defineLocale("ro",{months:"ianuarie_februarie_martie_aprilie_mai_iunie_iulie_august_septembrie_octombrie_noiembrie_decembrie".split("_"),monthsShort:"ian._febr._mart._apr._mai_iun._iul._aug._sept._oct._nov._dec.".split("_"),monthsParseExact:true,weekdays:"duminic_luni_mari_miercuri_joi_vineri_smbt".split("_"),weekdaysShort:"Dum_Lun_Mar_Mie_Joi_Vin_Sm".split("_"),weekdaysMin:"Du_Lu_Ma_Mi_Jo_Vi_S".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY H:mm",LLLL:"dddd, D MMMM YYYY H:mm"},calendar:{sameDay:"[azi la] LT",nextDay:"[mine la] LT",nextWeek:"dddd [la] LT",lastDay:"[ieri la] LT",lastWeek:"[fosta] dddd [la] LT",sameElse:"L"},relativeTime:{future:"peste %s",past:"%s n urm",s:"cteva secunde",ss:relativeTimeWithPlural,m:"un minut",mm:relativeTimeWithPlural,h:"o or",hh:relativeTimeWithPlural,d:"o zi",dd:relativeTimeWithPlural,M:"o lun",MM:relativeTimeWithPlural,y:"un an",yy:relativeTimeWithPlural},week:{dow:1,doy:7}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";function plural(e,t){var i=e.split("_");return t%10===1&&t%100!==11?i[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?i[1]:i[2]}function relativeTimeWithPlural(e,t,i){var n={ss:t?"__":"__",mm:t?"__":"__",hh:"__",dd:"__",MM:"__",yy:"__"};if(i==="m"){return t?"":""}else{return e+" "+plural(n[i],+e)}}var t=[/^/i,/^/i,/^/i,/^/i,/^[]/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i,/^/i],i;e.defineLocale("ru",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:{format:"._._._.____._._._._.".split("_"),standalone:"._.__.____._._._._.".split("_")},weekdays:{standalone:"______".split("_"),format:"______".split("_"),isFormat:/\[ ?[] ?(?:||)? ?\] ?dddd/},weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),monthsParse:t,longMonthsParse:t,shortMonthsParse:t,monthsRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsShortRegex:/^([]|\.?|[]|?\.?|?|\.?|[]|\.?|[]|[]|\.?|[]|\.?|?|\.?|[]|?\.?|[]|\.?|[]|?\.?|[]|\.?)/i,monthsStrictRegex:/^([]|[]|?|[]|[]|[]|[]|?|[]|[]|[]|[])/i,monthsShortStrictRegex:/^(\.|?\.|[.]|\.|[]|[.]|[.]|\.|?\.|\.|?\.|\.)/i,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., H:mm",LLLL:"dddd, D MMMM YYYY ., H:mm"},calendar:{sameDay:"[, ] LT",nextDay:"[, ] LT",lastDay:"[, ] LT",nextWeek:function nextWeek(e){if(e.week()!==this.week()){switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}}else{if(this.day()===2){return"[] dddd, [] LT"}else{return"[] dddd, [] LT"}}},lastWeek:function lastWeek(e){if(e.week()!==this.week()){switch(this.day()){case 0:return"[ ] dddd, [] LT";case 1:case 2:case 4:return"[ ] dddd, [] LT";case 3:case 5:case 6:return"[ ] dddd, [] LT"}}else{if(this.day()===2){return"[] dddd, [] LT"}else{return"[] dddd, [] LT"}}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:relativeTimeWithPlural,m:relativeTimeWithPlural,mm:relativeTimeWithPlural,h:"",hh:relativeTimeWithPlural,d:"",dd:relativeTimeWithPlural,M:"",MM:relativeTimeWithPlural,y:"",yy:relativeTimeWithPlural},meridiemParse:/|||/i,isPM:function isPM(e){return/^(|)$/.test(e)},meridiem:function meridiem(e,t,i){if(e<4){return""}else if(e<12){return""}else if(e<17){return""}else{return""}},dayOfMonthOrdinalParse:/\d{1,2}-(||)/,ordinal:function ordinal(e,t){switch(t){case"M":case"d":case"DDD":return e+"-";case"D":return e+"-";case"w":case"W":return e+"-";default:return e}},week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t=["","","","","","","","","","","",""],i=["","","","","","",""],n;e.defineLocale("sd",{months:t,monthsShort:t,weekdays:i,weekdaysShort:i,weekdaysMin:i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function isPM(e){return""===e},meridiem:function meridiem(e,t,i){if(e<12){return""}return""},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd [  ] LT",lastDay:"[] LT",lastWeek:"[ ] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function preparse(e){return e.replace(//g,",")},postformat:function postformat(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("se",{months:"oajagemnnu_guovvamnnu_njukamnnu_cuoomnnu_miessemnnu_geassemnnu_suoidnemnnu_borgemnnu_akamnnu_golggotmnnu_skbmamnnu_juovlamnnu".split("_"),monthsShort:"oj_guov_njuk_cuo_mies_geas_suoi_borg_ak_golg_skb_juov".split("_"),weekdays:"sotnabeaivi_vuossrga_maebrga_gaskavahkku_duorastat_bearjadat_lvvardat".split("_"),weekdaysShort:"sotn_vuos_ma_gask_duor_bear_lv".split("_"),weekdaysMin:"s_v_m_g_d_b_L".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"MMMM D. [b.] YYYY",LLL:"MMMM D. [b.] YYYY [ti.] HH:mm",LLLL:"dddd, MMMM D. [b.] YYYY [ti.] HH:mm"},calendar:{sameDay:"[otne ti] LT",nextDay:"[ihttin ti] LT",nextWeek:"dddd [ti] LT",lastDay:"[ikte ti] LT",lastWeek:"[ovddit] dddd [ti] LT",sameElse:"L"},relativeTime:{future:"%s geaes",past:"mait %s",s:"moadde sekunddat",ss:"%d sekunddat",m:"okta minuhta",mm:"%d minuhtat",h:"okta diimmu",hh:"%d diimmut",d:"okta beaivi",dd:"%d beaivvit",M:"okta mnnu",MM:"%d mnut",y:"okta jahki",yy:"%d jagit"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("si",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"a h:mm",LTS:"a h:mm:ss",L:"YYYY/MM/DD",LL:"YYYY MMMM D",LLL:"YYYY MMMM D, a h:mm",LLLL:"YYYY MMMM D [] dddd, a h:mm:ss"},calendar:{sameDay:"[] LT[]",nextDay:"[] LT[]",nextWeek:"dddd LT[]",lastDay:"[] LT[]",lastWeek:"[] dddd LT[]",sameElse:"L"},relativeTime:{future:"%s",past:"%s ",s:" ",ss:" %d",m:"",mm:" %d",h:"",hh:" %d",d:"",dd:" %d",M:"",MM:" %d",y:"",yy:" %d"},dayOfMonthOrdinalParse:/\d{1,2} /,ordinal:function ordinal(e){return e+" "},meridiemParse:/ | |.|../,isPM:function isPM(e){return e===".."||e===" "},meridiem:function meridiem(e,t,i){if(e>11){return i?"..":" "}else{return i?"..":" "}}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t="janur_februr_marec_aprl_mj_jn_jl_august_september_oktber_november_december".split("_"),i="jan_feb_mar_apr_mj_jn_jl_aug_sep_okt_nov_dec".split("_"),n;function plural(e){return e>1&&e<5}function translate(e,t,i,n){var r=e+" ";switch(i){case"s":return t||n?"pr seknd":"pr sekundami";case"ss":if(t||n){return r+(plural(e)?"sekundy":"seknd")}else{return r+"sekundami"}break;case"m":return t?"minta":n?"mintu":"mintou";case"mm":if(t||n){return r+(plural(e)?"minty":"mint")}else{return r+"mintami"}break;case"h":return t?"hodina":n?"hodinu":"hodinou";case"hh":if(t||n){return r+(plural(e)?"hodiny":"hodn")}else{return r+"hodinami"}break;case"d":return t||n?"de":"dom";case"dd":if(t||n){return r+(plural(e)?"dni":"dn")}else{return r+"dami"}break;case"M":return t||n?"mesiac":"mesiacom";case"MM":if(t||n){return r+(plural(e)?"mesiace":"mesiacov")}else{return r+"mesiacmi"}break;case"y":return t||n?"rok":"rokom";case"yy":if(t||n){return r+(plural(e)?"roky":"rokov")}else{return r+"rokmi"}break}}e.defineLocale("sk",{months:t,monthsShort:i,weekdays:"nedea_pondelok_utorok_streda_tvrtok_piatok_sobota".split("_"),weekdaysShort:"ne_po_ut_st_t_pi_so".split("_"),weekdaysMin:"ne_po_ut_st_t_pi_so".split("_"),longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd D. MMMM YYYY H:mm"},calendar:{sameDay:"[dnes o] LT",nextDay:"[zajtra o] LT",nextWeek:function nextWeek(){switch(this.day()){case 0:return"[v nedeu o] LT";case 1:case 2:return"[v] dddd [o] LT";case 3:return"[v stredu o] LT";case 4:return"[vo tvrtok o] LT";case 5:return"[v piatok o] LT";case 6:return"[v sobotu o] LT"}},lastDay:"[vera o] LT",lastWeek:function lastWeek(){switch(this.day()){case 0:return"[minul nedeu o] LT";case 1:case 2:return"[minul] dddd [o] LT";case 3:return"[minul stredu o] LT";case 4:case 5:return"[minul] dddd [o] LT";case 6:return"[minul sobotu o] LT"}},sameElse:"L"},relativeTime:{future:"za %s",past:"pred %s",s:translate,ss:translate,m:translate,mm:translate,h:translate,hh:translate,d:translate,dd:translate,M:translate,MM:translate,y:translate,yy:translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";function processRelativeTime(e,t,i,n){var r=e+" ";switch(i){case"s":return t||n?"nekaj sekund":"nekaj sekundami";case"ss":if(e===1){r+=t?"sekundo":"sekundi"}else if(e===2){r+=t||n?"sekundi":"sekundah"}else if(e<5){r+=t||n?"sekunde":"sekundah"}else{r+="sekund"}return r;case"m":return t?"ena minuta":"eno minuto";case"mm":if(e===1){r+=t?"minuta":"minuto"}else if(e===2){r+=t||n?"minuti":"minutama"}else if(e<5){r+=t||n?"minute":"minutami"}else{r+=t||n?"minut":"minutami"}return r;case"h":return t?"ena ura":"eno uro";case"hh":if(e===1){r+=t?"ura":"uro"}else if(e===2){r+=t||n?"uri":"urama"}else if(e<5){r+=t||n?"ure":"urami"}else{r+=t||n?"ur":"urami"}return r;case"d":return t||n?"en dan":"enim dnem";case"dd":if(e===1){r+=t||n?"dan":"dnem"}else if(e===2){r+=t||n?"dni":"dnevoma"}else{r+=t||n?"dni":"dnevi"}return r;case"M":return t||n?"en mesec":"enim mesecem";case"MM":if(e===1){r+=t||n?"mesec":"mesecem"}else if(e===2){r+=t||n?"meseca":"mesecema"}else if(e<5){r+=t||n?"mesece":"meseci"}else{r+=t||n?"mesecev":"meseci"}return r;case"y":return t||n?"eno leto":"enim letom";case"yy":if(e===1){r+=t||n?"leto":"letom"}else if(e===2){r+=t||n?"leti":"letoma"}else if(e<5){r+=t||n?"leta":"leti"}else{r+=t||n?"let":"leti"}return r}}var t;e.defineLocale("sl",{months:"januar_februar_marec_april_maj_junij_julij_avgust_september_oktober_november_december".split("_"),monthsShort:"jan._feb._mar._apr._maj._jun._jul._avg._sep._okt._nov._dec.".split("_"),monthsParseExact:true,weekdays:"nedelja_ponedeljek_torek_sreda_etrtek_petek_sobota".split("_"),weekdaysShort:"ned._pon._tor._sre._et._pet._sob.".split("_"),weekdaysMin:"ne_po_to_sr_e_pe_so".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danes ob] LT",nextDay:"[jutri ob] LT",nextWeek:function nextWeek(){switch(this.day()){case 0:return"[v] [nedeljo] [ob] LT";case 3:return"[v] [sredo] [ob] LT";case 6:return"[v] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[v] dddd [ob] LT"}},lastDay:"[veraj ob] LT",lastWeek:function lastWeek(){switch(this.day()){case 0:return"[prejnjo] [nedeljo] [ob] LT";case 3:return"[prejnjo] [sredo] [ob] LT";case 6:return"[prejnjo] [soboto] [ob] LT";case 1:case 2:case 4:case 5:return"[prejnji] dddd [ob] LT"}},sameElse:"L"},relativeTime:{future:"ez %s",past:"pred %s",s:processRelativeTime,ss:processRelativeTime,m:processRelativeTime,mm:processRelativeTime,h:processRelativeTime,hh:processRelativeTime,d:processRelativeTime,dd:processRelativeTime,M:processRelativeTime,MM:processRelativeTime,y:processRelativeTime,yy:processRelativeTime},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("sq",{months:"Janar_Shkurt_Mars_Prill_Maj_Qershor_Korrik_Gusht_Shtator_Tetor_Nntor_Dhjetor".split("_"),monthsShort:"Jan_Shk_Mar_Pri_Maj_Qer_Kor_Gus_Sht_Tet_Nn_Dhj".split("_"),weekdays:"E Diel_E Hn_E Mart_E Mrkur_E Enjte_E Premte_E Shtun".split("_"),weekdaysShort:"Die_Hn_Mar_Mr_Enj_Pre_Sht".split("_"),weekdaysMin:"D_H_Ma_M_E_P_Sh".split("_"),weekdaysParseExact:true,meridiemParse:/PD|MD/,isPM:function isPM(e){return e.charAt(0)==="M"},meridiem:function meridiem(e,t,i){return e<12?"PD":"MD"},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Sot n] LT",nextDay:"[Nesr n] LT",nextWeek:"dddd [n] LT",lastDay:"[Dje n] LT",lastWeek:"dddd [e kaluar n] LT",sameElse:"L"},relativeTime:{future:"n %s",past:"%s m par",s:"disa sekonda",ss:"%d sekonda",m:"nj minut",mm:"%d minuta",h:"nj or",hh:"%d or",d:"nj dit",dd:"%d dit",M:"nj muaj",MM:"%d muaj",y:"nj vit",yy:"%d vite"},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var r={words:{ss:["sekunda","sekunde","sekundi"],m:["jedan minut","jedne minute"],mm:["minut","minute","minuta"],h:["jedan sat","jednog sata"],hh:["sat","sata","sati"],dd:["dan","dana","dana"],MM:["mesec","meseca","meseci"],yy:["godina","godine","godina"]},correctGrammaticalCase:function correctGrammaticalCase(e,t){return e===1?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function translate(e,t,i){var n=r.words[i];if(i.length===1){return t?n[0]:n[1]}else{return e+" "+r.correctGrammaticalCase(e,n)}}},t;e.defineLocale("sr",{months:"januar_februar_mart_april_maj_jun_jul_avgust_septembar_oktobar_novembar_decembar".split("_"),monthsShort:"jan._feb._mar._apr._maj_jun_jul_avg._sep._okt._nov._dec.".split("_"),monthsParseExact:true,weekdays:"nedelja_ponedeljak_utorak_sreda_etvrtak_petak_subota".split("_"),weekdaysShort:"ned._pon._uto._sre._et._pet._sub.".split("_"),weekdaysMin:"ne_po_ut_sr_e_pe_su".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[danas u] LT",nextDay:"[sutra u] LT",nextWeek:function nextWeek(){switch(this.day()){case 0:return"[u] [nedelju] [u] LT";case 3:return"[u] [sredu] [u] LT";case 6:return"[u] [subotu] [u] LT";case 1:case 2:case 4:case 5:return"[u] dddd [u] LT"}},lastDay:"[jue u] LT",lastWeek:function lastWeek(){var e=["[prole] [nedelje] [u] LT","[prolog] [ponedeljka] [u] LT","[prolog] [utorka] [u] LT","[prole] [srede] [u] LT","[prolog] [etvrtka] [u] LT","[prolog] [petka] [u] LT","[prole] [subote] [u] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:"za %s",past:"pre %s",s:"nekoliko sekundi",ss:r.translate,m:r.translate,mm:r.translate,h:r.translate,hh:r.translate,d:"dan",dd:r.translate,M:"mesec",MM:r.translate,y:"godinu",yy:r.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var r={words:{ss:["","",""],m:[" "," "],mm:["","",""],h:[" "," "],hh:["","",""],dd:["","",""],MM:["","",""],yy:["","",""]},correctGrammaticalCase:function correctGrammaticalCase(e,t){return e===1?t[0]:e>=2&&e<=4?t[1]:t[2]},translate:function translate(e,t,i){var n=r.words[i];if(i.length===1){return t?n[0]:n[1]}else{return e+" "+r.correctGrammaticalCase(e,n)}}},t;e.defineLocale("sr-cyrl",{months:"___________".split("_"),monthsShort:"._._._.____._._._._.".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"._._._._._._.".split("_"),weekdaysMin:"______".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD.MM.YYYY",LL:"D. MMMM YYYY",LLL:"D. MMMM YYYY H:mm",LLLL:"dddd, D. MMMM YYYY H:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:function nextWeek(){switch(this.day()){case 0:return"[] [] [] LT";case 3:return"[] [] [] LT";case 6:return"[] [] [] LT";case 1:case 2:case 4:case 5:return"[] dddd [] LT"}},lastDay:"[ ] LT",lastWeek:function lastWeek(){var e=["[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT","[] [] [] LT"];return e[this.day()]},sameElse:"L"},relativeTime:{future:" %s",past:" %s",s:" ",ss:r.translate,m:r.translate,mm:r.translate,h:r.translate,hh:r.translate,d:"",dd:r.translate,M:"",MM:r.translate,y:"",yy:r.translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:7}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("ss",{months:"Bhimbidvwane_Indlovana_Indlov'lenkhulu_Mabasa_Inkhwekhweti_Inhlaba_Kholwane_Ingci_Inyoni_Imphala_Lweti_Ingongoni".split("_"),monthsShort:"Bhi_Ina_Inu_Mab_Ink_Inh_Kho_Igc_Iny_Imp_Lwe_Igo".split("_"),weekdays:"Lisontfo_Umsombuluko_Lesibili_Lesitsatfu_Lesine_Lesihlanu_Umgcibelo".split("_"),weekdaysShort:"Lis_Umb_Lsb_Les_Lsi_Lsh_Umg".split("_"),weekdaysMin:"Li_Us_Lb_Lt_Ls_Lh_Ug".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Namuhla nga] LT",nextDay:"[Kusasa nga] LT",nextWeek:"dddd [nga] LT",lastDay:"[Itolo nga] LT",lastWeek:"dddd [leliphelile] [nga] LT",sameElse:"L"},relativeTime:{future:"nga %s",past:"wenteka nga %s",s:"emizuzwana lomcane",ss:"%d mzuzwana",m:"umzuzu",mm:"%d emizuzu",h:"lihora",hh:"%d emahora",d:"lilanga",dd:"%d emalanga",M:"inyanga",MM:"%d tinyanga",y:"umnyaka",yy:"%d iminyaka"},meridiemParse:/ekuseni|emini|entsambama|ebusuku/,meridiem:function meridiem(e,t,i){if(e<11){return"ekuseni"}else if(e<15){return"emini"}else if(e<19){return"entsambama"}else{return"ebusuku"}},meridiemHour:function meridiemHour(e,t){if(e===12){e=0}if(t==="ekuseni"){return e}else if(t==="emini"){return e>=11?e:e+12}else if(t==="entsambama"||t==="ebusuku"){if(e===0){return 0}return e+12}},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("sv",{months:"januari_februari_mars_april_maj_juni_juli_augusti_september_oktober_november_december".split("_"),monthsShort:"jan_feb_mar_apr_maj_jun_jul_aug_sep_okt_nov_dec".split("_"),weekdays:"sndag_mndag_tisdag_onsdag_torsdag_fredag_lrdag".split("_"),weekdaysShort:"sn_mn_tis_ons_tor_fre_lr".split("_"),weekdaysMin:"s_m_ti_on_to_fr_l".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"D MMMM YYYY",LLL:"D MMMM YYYY [kl.] HH:mm",LLLL:"dddd D MMMM YYYY [kl.] HH:mm",lll:"D MMM YYYY HH:mm",llll:"ddd D MMM YYYY HH:mm"},calendar:{sameDay:"[Idag] LT",nextDay:"[Imorgon] LT",lastDay:"[Igr] LT",nextWeek:"[P] dddd LT",lastWeek:"[I] dddd[s] LT",sameElse:"L"},relativeTime:{future:"om %s",past:"fr %s sedan",s:"ngra sekunder",ss:"%d sekunder",m:"en minut",mm:"%d minuter",h:"en timme",hh:"%d timmar",d:"en dag",dd:"%d dagar",M:"en mnad",MM:"%d mnader",y:"ett r",yy:"%d r"},dayOfMonthOrdinalParse:/\d{1,2}(e|a)/,ordinal:function ordinal(e){var t=e%10,i=~~(e%100/10)===1?"e":t===1?"a":t===2?"a":t===3?"e":"e";return e+i},week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("sw",{months:"Januari_Februari_Machi_Aprili_Mei_Juni_Julai_Agosti_Septemba_Oktoba_Novemba_Desemba".split("_"),monthsShort:"Jan_Feb_Mac_Apr_Mei_Jun_Jul_Ago_Sep_Okt_Nov_Des".split("_"),weekdays:"Jumapili_Jumatatu_Jumanne_Jumatano_Alhamisi_Ijumaa_Jumamosi".split("_"),weekdaysShort:"Jpl_Jtat_Jnne_Jtan_Alh_Ijm_Jmos".split("_"),weekdaysMin:"J2_J3_J4_J5_Al_Ij_J1".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[leo saa] LT",nextDay:"[kesho saa] LT",nextWeek:"[wiki ijayo] dddd [saat] LT",lastDay:"[jana] LT",lastWeek:"[wiki iliyopita] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s baadaye",past:"tokea %s",s:"hivi punde",ss:"sekunde %d",m:"dakika moja",mm:"dakika %d",h:"saa limoja",hh:"masaa %d",d:"siku moja",dd:"masiku %d",M:"mwezi mmoja",MM:"miezi %d",y:"mwaka mmoja",yy:"miaka %d"},week:{dow:1,doy:7}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t={1:"",2:"",3:"",4:"",5:"",6:"",7:"",8:"",9:"",0:""},i={"":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0"},n;e.defineLocale("ta",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, HH:mm",LLLL:"dddd, D MMMM YYYY, HH:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[ ] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:"  ",ss:"%d ",m:" ",mm:"%d ",h:"  ",hh:"%d  ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function ordinal(e){return e+""},preparse:function preparse(e){return e.replace(/[]/g,function(e){return i[e]})},postformat:function postformat(e){return e.replace(/\d/g,function(e){return t[e]})},meridiemParse:/|||||/,meridiem:function meridiem(e,t,i){if(e<2){return" "}else if(e<6){return" "}else if(e<10){return" "}else if(e<14){return" "}else if(e<18){return" "}else if(e<22){return" "}else{return" "}},meridiemHour:function meridiemHour(e,t){if(e===12){e=0}if(t===""){return e<2?e:e+12}else if(t===""||t===""){return e}else if(t===""){return e>=10?e:e+12}else{return e+12}},week:{dow:0,doy:6}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("te",{months:"___________".split("_"),monthsShort:"._.__.____._._._._.".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"A h:mm",LTS:"A h:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY, A h:mm",LLLL:"dddd, D MMMM YYYY, A h:mm"},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"dddd, LT",lastDay:"[] LT",lastWeek:"[] dddd, LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:"%d",meridiemParse:/|||/,meridiemHour:function meridiemHour(e,t){if(e===12){e=0}if(t===""){return e<4?e:e+12}else if(t===""){return e}else if(t===""){return e>=10?e:e+12}else if(t===""){return e+12}},meridiem:function meridiem(e,t,i){if(e<4){return""}else if(e<10){return""}else if(e<17){return""}else if(e<20){return""}else{return""}},week:{dow:0,doy:6}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("tet",{months:"Janeiru_Fevereiru_Marsu_Abril_Maiu_Juu_Jullu_Agustu_Setembru_Outubru_Novembru_Dezembru".split("_"),monthsShort:"Jan_Fev_Mar_Abr_Mai_Jun_Jul_Ago_Set_Out_Nov_Dez".split("_"),weekdays:"Domingu_Segunda_Tersa_Kuarta_Kinta_Sesta_Sabadu".split("_"),weekdaysShort:"Dom_Seg_Ters_Kua_Kint_Sest_Sab".split("_"),weekdaysMin:"Do_Seg_Te_Ku_Ki_Ses_Sa".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[Ohin iha] LT",nextDay:"[Aban iha] LT",nextWeek:"dddd [iha] LT",lastDay:"[Horiseik iha] LT",lastWeek:"dddd [semana kotuk] [iha] LT",sameElse:"L"},relativeTime:{future:"iha %s",past:"%s liuba",s:"minutu balun",ss:"minutu %d",m:"minutu ida",mm:"minutu %d",h:"oras ida",hh:"oras %d",d:"loron ida",dd:"loron %d",M:"fulan ida",MM:"fulan %d",y:"tinan ida",yy:"tinan %d"},dayOfMonthOrdinalParse:/\d{1,2}(st|nd|rd|th)/,ordinal:function ordinal(e){var t=e%10,i=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+i},week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var n={0:"-",1:"-",2:"-",3:"-",4:"-",5:"-",6:"-",7:"-",8:"-",9:"-",10:"-",12:"-",13:"-",20:"-",30:"-",40:"-",50:"-",60:"-",70:"-",80:"-",90:"-",100:"-"},t;e.defineLocale("tg",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",lastDay:"[ ] LT",nextWeek:"dddd[] [  ] LT",lastWeek:"dddd[] [  ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},meridiemParse:/|||/,meridiemHour:function meridiemHour(e,t){if(e===12){e=0}if(t===""){return e<4?e:e+12}else if(t===""){return e}else if(t===""){return e>=11?e:e+12}else if(t===""){return e+12}},meridiem:function meridiem(e,t,i){if(e<4){return""}else if(e<11){return""}else if(e<16){return""}else if(e<19){return""}else{return""}},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function ordinal(e){var t=e%10,i=e>=100?100:null;return e+(n[e]||n[t]||n[i])},week:{dow:1,doy:7}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("th",{months:"___________".split("_"),monthsShort:".._.._.._.._.._.._.._.._.._.._.._..".split("_"),monthsParseExact:true,weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"._._._._._._.".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"H:mm",LTS:"H:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY  H:mm",LLLL:"dddd D MMMM YYYY  H:mm"},meridiemParse:/|/,isPM:function isPM(e){return e===""},meridiem:function meridiem(e,t,i){if(e<12){return""}else{return""}},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd[ ] LT",lastDay:"[ ] LT",lastWeek:"[]dddd[ ] LT",sameElse:"L"},relativeTime:{future:" %s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("tl-ph",{months:"Enero_Pebrero_Marso_Abril_Mayo_Hunyo_Hulyo_Agosto_Setyembre_Oktubre_Nobyembre_Disyembre".split("_"),monthsShort:"Ene_Peb_Mar_Abr_May_Hun_Hul_Ago_Set_Okt_Nob_Dis".split("_"),weekdays:"Linggo_Lunes_Martes_Miyerkules_Huwebes_Biyernes_Sabado".split("_"),weekdaysShort:"Lin_Lun_Mar_Miy_Huw_Biy_Sab".split("_"),weekdaysMin:"Li_Lu_Ma_Mi_Hu_Bi_Sab".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"MM/D/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY HH:mm",LLLL:"dddd, MMMM DD, YYYY HH:mm"},calendar:{sameDay:"LT [ngayong araw]",nextDay:"[Bukas ng] LT",nextWeek:"LT [sa susunod na] dddd",lastDay:"LT [kahapon]",lastWeek:"LT [noong nakaraang] dddd",sameElse:"L"},relativeTime:{future:"sa loob ng %s",past:"%s ang nakalipas",s:"ilang segundo",ss:"%d segundo",m:"isang minuto",mm:"%d minuto",h:"isang oras",hh:"%d oras",d:"isang araw",dd:"%d araw",M:"isang buwan",MM:"%d buwan",y:"isang taon",yy:"%d taon"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function ordinal(e){return e},week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var a="pagh_wa_cha_wej_loS_vagh_jav_Soch_chorgh_Hut".split("_"),t;function translateFuture(e){var t=e;t=e.indexOf("jaj")!==-1?t.slice(0,-3)+"leS":e.indexOf("jar")!==-1?t.slice(0,-3)+"waQ":e.indexOf("DIS")!==-1?t.slice(0,-3)+"nem":t+" pIq";return t}function translatePast(e){var t=e;t=e.indexOf("jaj")!==-1?t.slice(0,-3)+"Hu":e.indexOf("jar")!==-1?t.slice(0,-3)+"wen":e.indexOf("DIS")!==-1?t.slice(0,-3)+"ben":t+" ret";return t}function translate(e,t,i,n){var r=numberAsNoun(e);switch(i){case"ss":return r+" lup";case"mm":return r+" tup";case"hh":return r+" rep";case"dd":return r+" jaj";case"MM":return r+" jar";case"yy":return r+" DIS"}}function numberAsNoun(e){var t=Math.floor(e%1e3/100),i=Math.floor(e%100/10),n=e%10,r="";if(t>0){r+=a[t]+"vatlh"}if(i>0){r+=(r!==""?" ":"")+a[i]+"maH"}if(n>0){r+=(r!==""?" ":"")+a[n]}return r===""?"pagh":r}e.defineLocale("tlh",{months:"tera jar wa_tera jar cha_tera jar wej_tera jar loS_tera jar vagh_tera jar jav_tera jar Soch_tera jar chorgh_tera jar Hut_tera jar wamaH_tera jar wamaH wa_tera jar wamaH cha".split("_"),monthsShort:"jar wa_jar cha_jar wej_jar loS_jar vagh_jar jav_jar Soch_jar chorgh_jar Hut_jar wamaH_jar wamaH wa_jar wamaH cha".split("_"),monthsParseExact:true,weekdays:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysShort:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),weekdaysMin:"lojmItjaj_DaSjaj_povjaj_ghItlhjaj_loghjaj_buqjaj_ghInjaj".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[DaHjaj] LT",nextDay:"[waleS] LT",nextWeek:"LLL",lastDay:"[waHu] LT",lastWeek:"LLL",sameElse:"L"},relativeTime:{future:translateFuture,past:translatePast,s:"puS lup",ss:translate,m:"wa tup",mm:translate,h:"wa rep",hh:translate,d:"wa jaj",dd:translate,M:"wa jar",MM:translate,y:"wa DIS",yy:translate},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";!function(e){"use strict";var a={1:"'inci",5:"'inci",8:"'inci",70:"'inci",80:"'inci",2:"'nci",7:"'nci",20:"'nci",50:"'nci",3:"'nc",4:"'nc",100:"'nc",6:"'nc",9:"'uncu",10:"'uncu",30:"'uncu",60:"'nc",90:"'nc"},t;e.defineLocale("tr",{months:"Ocak_ubat_Mart_Nisan_Mays_Haziran_Temmuz_Austos_Eyll_Ekim_Kasm_Aralk".split("_"),monthsShort:"Oca_ub_Mar_Nis_May_Haz_Tem_Au_Eyl_Eki_Kas_Ara".split("_"),weekdays:"Pazar_Pazartesi_Sal_aramba_Perembe_Cuma_Cumartesi".split("_"),weekdaysShort:"Paz_Pts_Sal_ar_Per_Cum_Cts".split("_"),weekdaysMin:"Pz_Pt_Sa_a_Pe_Cu_Ct".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[bugn saat] LT",nextDay:"[yarn saat] LT",nextWeek:"[gelecek] dddd [saat] LT",lastDay:"[dn] LT",lastWeek:"[geen] dddd [saat] LT",sameElse:"L"},relativeTime:{future:"%s sonra",past:"%s nce",s:"birka saniye",ss:"%d saniye",m:"bir dakika",mm:"%d dakika",h:"bir saat",hh:"%d saat",d:"bir gn",dd:"%d gn",M:"bir ay",MM:"%d ay",y:"bir yl",yy:"%d yl"},ordinal:function ordinal(e,t){switch(t){case"d":case"D":case"Do":case"DD":return e;default:if(e===0){return e+"'nc"}var i=e%10,n=e%100-i,r=e>=100?100:null;return e+(a[i]||a[n]||a[r])}},week:{dow:1,doy:7}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;function processRelativeTime(e,t,i,n){var r={s:["viensas secunds","'iensas secunds"],ss:[e+" secunds",""+e+" secunds"],m:["'n mut","'iens mut"],mm:[e+" muts",""+e+" muts"],h:["'n ora","'iensa ora"],hh:[e+" oras",""+e+" oras"],d:["'n ziua","'iensa ziua"],dd:[e+" ziuas",""+e+" ziuas"],M:["'n mes","'iens mes"],MM:[e+" mesen",""+e+" mesen"],y:["'n ar","'iens ar"],yy:[e+" ars",""+e+" ars"]};return n?r[i][0]:t?r[i][0]:r[i][1]}e.defineLocale("tzl",{months:"Januar_Fevraglh_Mar_Avru_Mai_Gn_Julia_Guscht_Setemvar_Listopts_Noemvar_Zecemvar".split("_"),monthsShort:"Jan_Fev_Mar_Avr_Mai_Gn_Jul_Gus_Set_Lis_Noe_Zec".split("_"),weekdays:"Sladi_Lnei_Maitzi_Mrcuri_Xhadi_Vineri_Sturi".split("_"),weekdaysShort:"Sl_Ln_Mai_Mr_Xh_Vi_St".split("_"),weekdaysMin:"S_L_Ma_M_Xh_Vi_S".split("_"),longDateFormat:{LT:"HH.mm",LTS:"HH.mm.ss",L:"DD.MM.YYYY",LL:"D. MMMM [dallas] YYYY",LLL:"D. MMMM [dallas] YYYY HH.mm",LLLL:"dddd, [li] D. MMMM [dallas] YYYY HH.mm"},meridiemParse:/d\'o|d\'a/i,isPM:function isPM(e){return"d'o"===e.toLowerCase()},meridiem:function meridiem(e,t,i){if(e>11){return i?"d'o":"D'O"}else{return i?"d'a":"D'A"}},calendar:{sameDay:"[oxhi ] LT",nextDay:"[dem ] LT",nextWeek:"dddd [] LT",lastDay:"[ieiri ] LT",lastWeek:"[sr el] dddd [lasteu ] LT",sameElse:"L"},relativeTime:{future:"osprei %s",past:"ja%s",s:processRelativeTime,ss:processRelativeTime,m:processRelativeTime,mm:processRelativeTime,h:processRelativeTime,hh:processRelativeTime,d:processRelativeTime,dd:processRelativeTime,M:processRelativeTime,MM:processRelativeTime,y:processRelativeTime,yy:processRelativeTime},dayOfMonthOrdinalParse:/\d{1,2}\./,ordinal:"%d.",week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("tzm",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[ ] LT",lastWeek:"dddd [] LT",sameElse:"L"},relativeTime:{future:"   %s",past:" %s",s:"",ss:"%d ",m:"",mm:"%d ",h:"",hh:"%d ",d:"",dd:"%d o",M:"o",MM:"%d ",y:"",yy:"%d "},week:{dow:6,doy:12}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("tzm-latn",{months:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),monthsShort:"innayr_brayr_mars_ibrir_mayyw_ywnyw_ywlywz_wt_wtanbir_ktwbr_nwwanbir_dwjnbir".split("_"),weekdays:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysShort:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),weekdaysMin:"asamas_aynas_asinas_akras_akwas_asimwas_asiyas".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},calendar:{sameDay:"[asdkh g] LT",nextDay:"[aska g] LT",nextWeek:"dddd [g] LT",lastDay:"[assant g] LT",lastWeek:"dddd [g] LT",sameElse:"L"},relativeTime:{future:"dadkh s yan %s",past:"yan %s",s:"imik",ss:"%d imik",m:"minu",mm:"%d minu",h:"saa",hh:"%d tassain",d:"ass",dd:"%d ossan",M:"ayowr",MM:"%d iyyirn",y:"asgas",yy:"%d isgasn"},week:{dow:6,doy:12}})}(i(1))},function(e,t,i){"use strict";
//! moment.js language configuration
!function(e){"use strict";var t;e.defineLocale("ug-cn",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY-MM-DD",LL:"YYYY-M-D-",LLL:"YYYY-M-D- HH:mm",LLLL:"dddd YYYY-M-D- HH:mm"},meridiemParse:/ || || |/,meridiemHour:function meridiemHour(e,t){if(e===12){e=0}if(t===" "||t===""||t===" "){return e}else if(t===" "||t===""){return e+12}else{return e>=11?e:e+12}},meridiem:function meridiem(e,t,i){var n=e*100+t;if(n<600){return" "}else if(n<900){return""}else if(n<1130){return" "}else if(n<1230){return""}else if(n<1800){return" "}else{return""}},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"[] dddd [] LT",lastDay:"[] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},dayOfMonthOrdinalParse:/\d{1,2}(-|-|-)/,ordinal:function ordinal(e,t){switch(t){case"d":case"D":case"DDD":return e+"-";case"w":case"W":return e+"-";default:return e}},preparse:function preparse(e){return e.replace(//g,",")},postformat:function postformat(e){return e.replace(/,/g,"")},week:{dow:1,doy:7}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";function plural(e,t){var i=e.split("_");return t%10===1&&t%100!==11?i[0]:t%10>=2&&t%10<=4&&(t%100<10||t%100>=20)?i[1]:i[2]}function relativeTimeWithPlural(e,t,i){var n={ss:t?"__":"__",mm:t?"__":"__",hh:t?"__":"__",dd:"__",MM:"__",yy:"__"};if(i==="m"){return t?"":""}else if(i==="h"){return t?"":""}else{return e+" "+plural(n[i],+e)}}function weekdaysCaseReplace(e,t){var i={nominative:"______".split("_"),accusative:"______".split("_"),genitive:"______".split("_")};if(e===true){return i["nominative"].slice(1,7).concat(i["nominative"].slice(0,1))}if(!e){return i["nominative"]}var n=/(\[[]\]) ?dddd/.test(t)?"accusative":/\[?(?:|)? ?\] ?dddd/.test(t)?"genitive":"nominative";return i[n][e.day()]}function processHoursFunction(e){return function(){return e+""+(this.hours()===11?"":"")+"] LT"}}var t;e.defineLocale("uk",{months:{format:"___________".split("_"),standalone:"___________".split("_")},monthsShort:"___________".split("_"),weekdays:weekdaysCaseReplace,weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD.MM.YYYY",LL:"D MMMM YYYY .",LLL:"D MMMM YYYY ., HH:mm",LLLL:"dddd, D MMMM YYYY ., HH:mm"},calendar:{sameDay:processHoursFunction("[ "),nextDay:processHoursFunction("[ "),lastDay:processHoursFunction("[ "),nextWeek:processHoursFunction("[] dddd ["),lastWeek:function lastWeek(){switch(this.day()){case 0:case 3:case 5:case 6:return processHoursFunction("[] dddd [").call(this);case 1:case 2:case 4:return processHoursFunction("[] dddd [").call(this)}},sameElse:"L"},relativeTime:{future:" %s",past:"%s ",s:" ",ss:relativeTimeWithPlural,m:relativeTimeWithPlural,mm:relativeTimeWithPlural,h:"",hh:relativeTimeWithPlural,d:"",dd:relativeTimeWithPlural,M:"",MM:relativeTimeWithPlural,y:"",yy:relativeTimeWithPlural},meridiemParse:/|||/,isPM:function isPM(e){return/^(|)$/.test(e)},meridiem:function meridiem(e,t,i){if(e<4){return""}else if(e<12){return""}else if(e<17){return""}else{return""}},dayOfMonthOrdinalParse:/\d{1,2}-(|)/,ordinal:function ordinal(e,t){switch(t){case"M":case"d":case"DDD":case"w":case"W":return e+"-";case"D":return e+"-";default:return e}},week:{dow:1,doy:7}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t=["","","","","","","","","","","",""],i=["","","","","","",""],n;e.defineLocale("ur",{months:t,monthsShort:t,weekdays:i,weekdaysShort:i,weekdaysMin:i,longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},meridiemParse:/|/,isPM:function isPM(e){return""===e},meridiem:function meridiem(e,t,i){if(e<12){return""}return""},calendar:{sameDay:"[ ] LT",nextDay:"[ ] LT",nextWeek:"dddd [] LT",lastDay:"[  ] LT",lastWeek:"[] dddd [] LT",sameElse:"L"},relativeTime:{future:"%s ",past:"%s ",s:" ",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},preparse:function preparse(e){return e.replace(//g,",")},postformat:function postformat(e){return e.replace(/,/g,"")},week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("uz",{months:"___________".split("_"),monthsShort:"___________".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[ ] LT []",nextDay:"[] LT []",nextWeek:"dddd [ ] LT []",lastDay:"[ ] LT []",lastWeek:"[] dddd [ ] LT []",sameElse:"L"},relativeTime:{future:" %s ",past:"  %s ",s:"",ss:"%d ",m:" ",mm:"%d ",h:" ",hh:"%d ",d:" ",dd:"%d ",M:" ",MM:"%d ",y:" ",yy:"%d "},week:{dow:1,doy:7}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("uz-latn",{months:"Yanvar_Fevral_Mart_Aprel_May_Iyun_Iyul_Avgust_Sentabr_Oktabr_Noyabr_Dekabr".split("_"),monthsShort:"Yan_Fev_Mar_Apr_May_Iyun_Iyul_Avg_Sen_Okt_Noy_Dek".split("_"),weekdays:"Yakshanba_Dushanba_Seshanba_Chorshanba_Payshanba_Juma_Shanba".split("_"),weekdaysShort:"Yak_Dush_Sesh_Chor_Pay_Jum_Shan".split("_"),weekdaysMin:"Ya_Du_Se_Cho_Pa_Ju_Sha".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"D MMMM YYYY, dddd HH:mm"},calendar:{sameDay:"[Bugun soat] LT [da]",nextDay:"[Ertaga] LT [da]",nextWeek:"dddd [kuni soat] LT [da]",lastDay:"[Kecha soat] LT [da]",lastWeek:"[O'tgan] dddd [kuni soat] LT [da]",sameElse:"L"},relativeTime:{future:"Yaqin %s ichida",past:"Bir necha %s oldin",s:"soniya",ss:"%d soniya",m:"bir daqiqa",mm:"%d daqiqa",h:"bir soat",hh:"%d soat",d:"bir kun",dd:"%d kun",M:"bir oy",MM:"%d oy",y:"bir yil",yy:"%d yil"},week:{dow:1,doy:7}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("vi",{months:"thng 1_thng 2_thng 3_thng 4_thng 5_thng 6_thng 7_thng 8_thng 9_thng 10_thng 11_thng 12".split("_"),monthsShort:"Th01_Th02_Th03_Th04_Th05_Th06_Th07_Th08_Th09_Th10_Th11_Th12".split("_"),monthsParseExact:true,weekdays:"ch nht_th hai_th ba_th t_th nm_th su_th by".split("_"),weekdaysShort:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysMin:"CN_T2_T3_T4_T5_T6_T7".split("_"),weekdaysParseExact:true,meridiemParse:/sa|ch/i,isPM:function isPM(e){return/^ch$/i.test(e)},meridiem:function meridiem(e,t,i){if(e<12){return i?"sa":"SA"}else{return i?"ch":"CH"}},longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM [nm] YYYY",LLL:"D MMMM [nm] YYYY HH:mm",LLLL:"dddd, D MMMM [nm] YYYY HH:mm",l:"DD/M/YYYY",ll:"D MMM YYYY",lll:"D MMM YYYY HH:mm",llll:"ddd, D MMM YYYY HH:mm"},calendar:{sameDay:"[Hm nay lc] LT",nextDay:"[Ngy mai lc] LT",nextWeek:"dddd [tun ti lc] LT",lastDay:"[Hm qua lc] LT",lastWeek:"dddd [tun ri lc] LT",sameElse:"L"},relativeTime:{future:"%s ti",past:"%s trc",s:"vi giy",ss:"%d giy",m:"mt pht",mm:"%d pht",h:"mt gi",hh:"%d gi",d:"mt ngy",dd:"%d ngy",M:"mt thng",MM:"%d thng",y:"mt nm",yy:"%d nm"},dayOfMonthOrdinalParse:/\d{1,2}/,ordinal:function ordinal(e){return e},week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("x-pseudo",{months:"J~~r_F~br~r_~Mrc~h_p~rl_~M_~J~_Jl~_~gst~_Sp~tmb~r_~ctb~r_~vm~br_~Dc~mbr".split("_"),monthsShort:"J~_~Fb_~Mr_~pr_~M_~J_~Jl_~g_~Sp_~ct_~v_~Dc".split("_"),monthsParseExact:true,weekdays:"S~d~_M~d~_T~sd~_Wd~sd~_T~hrs~d_~Frd~_S~tr~d".split("_"),weekdaysShort:"S~_~M_~T_~Wd_~Th_~Fr_~St".split("_"),weekdaysMin:"S~_M~_T_~W_T~h_Fr~_S".split("_"),weekdaysParseExact:true,longDateFormat:{LT:"HH:mm",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd, D MMMM YYYY HH:mm"},calendar:{sameDay:"[T~d~ t] LT",nextDay:"[T~m~rr~w t] LT",nextWeek:"dddd [t] LT",lastDay:"[~st~rd~ t] LT",lastWeek:"[L~st] dddd [t] LT",sameElse:"L"},relativeTime:{future:"~ %s",past:"%s ~g",s:" ~fw ~sc~ds",ss:"%d s~c~ds",m:" ~m~t",mm:"%d m~~ts",h:"~ h~r",hh:"%d h~rs",d:" ~d",dd:"%d d~s",M:" ~m~th",MM:"%d m~t~hs",y:" ~r",yy:"%d ~rs"},dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function ordinal(e){var t=e%10,i=~~(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+i},week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("yo",{months:"Sr_Erele_rna_Igbe_Ebibi_Okudu_Agmo_Ogun_Owewe_wara_Belu_p".split("_"),monthsShort:"Sr_Erl_rn_Igb_Ebi_Oku_Ag_Ogu_Owe_wa_Bel_p".split("_"),weekdays:"Aiku_Aje_Isgun_jru_jb_ti_Abamta".split("_"),weekdaysShort:"Aik_Aje_Is_jr_jb_ti_Aba".split("_"),weekdaysMin:"Ai_Aj_Is_r_b_t_Ab".split("_"),longDateFormat:{LT:"h:mm A",LTS:"h:mm:ss A",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY h:mm A",LLLL:"dddd, D MMMM YYYY h:mm A"},calendar:{sameDay:"[Oni ni] LT",nextDay:"[la ni] LT",nextWeek:"dddd [s ton'b] [ni] LT",lastDay:"[Ana ni] LT",lastWeek:"dddd [s tol] [ni] LT",sameElse:"L"},relativeTime:{future:"ni %s",past:"%s kja",s:"isju aaya die",ss:"aaya %d",m:"isju kan",mm:"isju %d",h:"wakati kan",hh:"wakati %d",d:"j kan",dd:"j %d",M:"osu kan",MM:"osu %d",y:"dun kan",yy:"dun %d"},dayOfMonthOrdinalParse:/j\s\d{1,2}/,ordinal:"j %d",week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("zh-cn",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMDAhmm",LLLL:"YYYYMDddddAhmm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function meridiemHour(e,t){if(e===12){e=0}if(t===""||t===""||t===""){return e}else if(t===""||t===""){return e+12}else{return e>=11?e:e+12}},meridiem:function meridiem(e,t,i){var n=e*100+t;if(n<600){return""}else if(n<900){return""}else if(n<1130){return""}else if(n<1230){return""}else if(n<1800){return""}else{return""}},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function ordinal(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "},week:{dow:1,doy:4}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("zh-hk",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function meridiemHour(e,t){if(e===12){e=0}if(t===""||t===""||t===""){return e}else if(t===""){return e>=11?e:e+12}else if(t===""||t===""){return e+12}},meridiem:function meridiem(e,t,i){var n=e*100+t;if(n<600){return""}else if(n<900){return""}else if(n<1130){return""}else if(n<1230){return""}else if(n<1800){return""}else{return""}},calendar:{sameDay:"[]LT",nextDay:"[]LT",nextWeek:"[]ddddLT",lastDay:"[]LT",lastWeek:"[]ddddLT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function ordinal(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(i(1))},function(e,t,i){"use strict";
//! moment.js locale configuration
!function(e){"use strict";var t;e.defineLocale("zh-tw",{months:"___________".split("_"),monthsShort:"1_2_3_4_5_6_7_8_9_10_11_12".split("_"),weekdays:"______".split("_"),weekdaysShort:"______".split("_"),weekdaysMin:"______".split("_"),longDateFormat:{LT:"HH:mm",LTS:"HH:mm:ss",L:"YYYY/MM/DD",LL:"YYYYMD",LLL:"YYYYMD HH:mm",LLLL:"YYYYMDdddd HH:mm",l:"YYYY/M/D",ll:"YYYYMD",lll:"YYYYMD HH:mm",llll:"YYYYMDdddd HH:mm"},meridiemParse:/|||||/,meridiemHour:function meridiemHour(e,t){if(e===12){e=0}if(t===""||t===""||t===""){return e}else if(t===""){return e>=11?e:e+12}else if(t===""||t===""){return e+12}},meridiem:function meridiem(e,t,i){var n=e*100+t;if(n<600){return""}else if(n<900){return""}else if(n<1130){return""}else if(n<1230){return""}else if(n<1800){return""}else{return""}},calendar:{sameDay:"[] LT",nextDay:"[] LT",nextWeek:"[]dddd LT",lastDay:"[] LT",lastWeek:"[]dddd LT",sameElse:"L"},dayOfMonthOrdinalParse:/\d{1,2}(||)/,ordinal:function ordinal(e,t){switch(t){case"d":case"D":case"DDD":return e+"";case"M":return e+"";case"w":case"W":return e+"";default:return e}},relativeTime:{future:"%s",past:"%s",s:"",ss:"%d ",m:"1 ",mm:"%d ",h:"1 ",hh:"%d ",d:"1 ",dd:"%d ",M:"1 ",MM:"%d ",y:"1 ",yy:"%d "}})}(i(1))},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var f=i(0),m=_interopRequireDefault(i(6)),_=_interopRequireDefault(i(19)),o=_interopRequireDefault(i(5)),g=_interopRequireDefault(i(11)),v=i(3),s=_interopRequireDefault(i(13)),y=_interopRequireDefault(i(4)),b=_interopRequireDefault(i(18));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=function(p){var e,t;function AbstractUnlockScreen(e){var n;_defineProperty(_assertThisInitialized(n=p.call(this)||this),"app",void 0),_defineProperty(_assertThisInitialized(n),"ticker",void 0),_defineProperty(_assertThisInitialized(n),"title",void 0),_defineProperty(_assertThisInitialized(n),"bg",void 0),_defineProperty(_assertThisInitialized(n),"assetsLoaded",void 0),_defineProperty(_assertThisInitialized(n),"active",void 0),_defineProperty(_assertThisInitialized(n),"previousButton",void 0),_defineProperty(_assertThisInitialized(n),"nextButton",void 0),_defineProperty(_assertThisInitialized(n),"infoText",void 0),_defineProperty(_assertThisInitialized(n),"statusText",void 0),_defineProperty(_assertThisInitialized(n),"costPanel",void 0),_defineProperty(_assertThisInitialized(n),"poster",void 0),_defineProperty(_assertThisInitialized(n),"darkOverlay",void 0),_defineProperty(_assertThisInitialized(n),"gridOverlay",void 0),_defineProperty(_assertThisInitialized(n),"panelGlow",void 0),_defineProperty(_assertThisInitialized(n),"panels",void 0),_defineProperty(_assertThisInitialized(n),"pointer",void 0),_defineProperty(_assertThisInitialized(n),"coin",void 0),_defineProperty(_assertThisInitialized(n),"coins",void 0),_defineProperty(_assertThisInitialized(n),"lock",void 0),_defineProperty(_assertThisInitialized(n),"loadingWheel",void 0),_defineProperty(_assertThisInitialized(n),"contentContainer",void 0),_defineProperty(_assertThisInitialized(n),"panelContainer",void 0),_defineProperty(_assertThisInitialized(n),"sliderBar",void 0),_defineProperty(_assertThisInitialized(n),"coinMask",void 0),_defineProperty(_assertThisInitialized(n),"unlockables",void 0),_defineProperty(_assertThisInitialized(n),"currentIndex",void 0),_defineProperty(_assertThisInitialized(n),"count",void 0),_defineProperty(_assertThisInitialized(n),"width",void 0),_defineProperty(_assertThisInitialized(n),"height",void 0),_defineProperty(_assertThisInitialized(n),"_previousScreenId",void 0),_defineProperty(_assertThisInitialized(n),"animating",void 0),_defineProperty(_assertThisInitialized(n),"looping",void 0),_defineProperty(_assertThisInitialized(n),"timer",void 0),_defineProperty(_assertThisInitialized(n),"insertedAmount",void 0),_defineProperty(_assertThisInitialized(n),"panelsToHide",void 0),_defineProperty(_assertThisInitialized(n),"saveDataName",void 0),_defineProperty(_assertThisInitialized(n),"onUnlockableUnlocked",void 0),_defineProperty(_assertThisInitialized(n),"onDataUpdated",void 0),n.app=e,n.ticker=new y.default,n.ticker.add(n.updateTimer,_assertThisInitialized(n)),n._previousScreenId=m.default.SCREEN_ID.UNLOCKABLES,n.bg=f.Sprite.from("panel-stickerbook.png"),n.bg.anchor.set(.5),n.addChild(n.bg),n.title=b.default.h1(""),n.title.maxWidth=n.bg.width-50,n.title.anchor.set(.5),n.title.y=-310,n.bg.addChild(n.title),n.previousButton=new _.default("button-left.png"),n.previousButton.position.set(-n.bg.width/2-n.previousButton.width/2+1,0),n.previousButton.onPress.add(n.previous,_assertThisInitialized(n)),n.bg.addChild(n.previousButton),n.nextButton=new _.default("button-right.png"),n.nextButton.position.set(n.bg.width/2+n.nextButton.width/2-2,0),n.nextButton.onPress.add(n.next,_assertThisInitialized(n)),n.bg.addChild(n.nextButton);var t={fill:"black",fontSize:20,fontFamily:"avenir",wordWrap:!0,wordWrapWidth:250,align:"center",breakWords:!0};n.infoText=new g.default("",t),n.infoText.anchor.set(.5),n.infoText.position.set(-300,291),n.bg.addChild(n.infoText),t.fontSize=22,n.costPanel=f.Sprite.from("graphic-unlock-cost.png");var i=new g.default("STR_UNLOCKABLES_UNLOCKCOST",function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(i),!0).forEach(function(e){_defineProperty(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}({},t,{maxHeight:32}));t.fontSize=40;var r=new g.default("450",t);n.costPanel.anchor.set(.5),i.anchor.set(.5),r.anchor.set(.5),n.costPanel.position.set(315,295),i.position.y=-26,r.position.y=3,n.costPanel.addChild(i),n.costPanel.addChild(r),n.bg.addChild(n.costPanel),n.costPanel.cost=r;n.statusText=new g.default("",{fill:"black",fontSize:35,fontFamily:"avenir",align:"center"}),n.statusText.anchor.set(.5),n.statusText.position.set(0,290),n.bg.addChild(n.statusText),n.contentContainer=new f.Container,n.poster=f.Sprite.from(""),n.poster.anchor.set(.5),n.contentContainer.addChild(n.poster),n.gridOverlay=f.Sprite.from("grid-small.png"),n.gridOverlay.anchor.set(.5),n.contentContainer.addChild(n.gridOverlay),n.darkOverlay=f.Sprite.from(RESOLVE_PATH(ASSET_URL+"img/ui/app/base-menu-ui/overlays/dark-overlay.png")),n.darkOverlay.anchor.set(.5),n.contentContainer.addChild(n.darkOverlay),n.panelContainer=new f.Container,n.contentContainer.addChild(n.panelContainer);var a=0,o=0;n.panels=new Array(9).fill(null).map(function(e,t){(e=f.Sprite.from("graphic-unlock-panel.png")).anchor.set(.5),e.position.set(a,o),a+=e.width+4.5,(t+1)%3==0&&(a=0,o+=e.height+1.2);var i=f.Sprite.from("glow-large.png");return i.blendMode=f.BLEND_MODES.ADD,i.anchor.set(.5),i.defaultAlpha=.7,e.addChild(i),n.panelContainer.addChild(e),e.glow=i,e.index=t,e});var s=n.panels[0].texture.width,l=n.panels[0].texture.height;n.panelContainer.x=-(3*s+9)/2+s/2+1.2,n.panelContainer.y=-(3*l+2.4)/2+l/2+2,n.lock=f.Sprite.from("graphic-lock-large.png"),n.lock.anchor.set(.5),n.contentContainer.addChild(n.lock),n.contentContainer.position.y=0,n.bg.addChild(n.contentContainer);for(var u=[],h=1;h<=5;h++)u.push(f.Texture.from("coin-spend-bar-"+h+".png"));n.sliderBar=new f.extras.MovieClip(u),n.sliderBar.anchor.set(.5),n.sliderBar.y=300,n.sliderBar.animationSpeed=.2,n.sliderBar.play(),n.sliderBar.interactive=!0,n.sliderBar.buttonMode=!0,n.sliderBar.click=n.sliderBar.tap=n.insertCoin.bind(_assertThisInitialized(n),!0),n.bg.addChild(n.sliderBar),n.pointer=f.Sprite.from("pointer.png"),n.pointer.anchor.set(.5),n.sliderBar.addChild(n.pointer);var d=f.Sprite.from("coin-spend-slot.png");d.anchor.set(.5),d.position.x=120,n.sliderBar.addChild(d);var c=new f.Graphics;return c.fillAlpha=0,c.drawRect(0,0,280,100),c.position.x=-150,c.position.y=-50,n.sliderBar.addChild(c),n.coinMask=c,n.currentIndex=0,n.count=0,n.insertedAmount=0,n.coins=new Array(9).fill(null).map(function(e){return(e=f.Sprite.from("coin-spend-coin.png")).anchor.set(.5),e.position.x=-92,e.scale.set(0),e.visible=!1,e.mask=n.coinMask,n.sliderBar.addChild(e),e}),n.loadingWheel=f.Sprite.from("loading-wheel.png"),n.loadingWheel.anchor.set(.5),n.loadingWheel.scale.set(1.5),n.bg.addChild(n.loadingWheel),n.onUnlockableUnlocked=new v.Signal,n.onDataUpdated=new v.Signal,n.assetsLoaded=!1,n.active=!1,n.app.onLanguageChange.add(n.updateState,_assertThisInitialized(n)),n}t=p,(e=AbstractUnlockScreen).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i,n,r,a=AbstractUnlockScreen.prototype;return a.resetTimer=function(){this.timer=1e3},a.insertCoin=function(){var e=this;if(!(o.default.coins<m.default.UNLOCKABLES.PRICE)){this.app.topMenu.buttons.prev.disable(),this.insertedAmount++,this.app.updateCoins(-m.default.UNLOCKABLES.PRICE),s.default.sfx.play("sfx_coin_01"),this.costPanel.cost.text=(this.panels.length-(this.getUnlockedPanels().length+this.insertedAmount))*m.default.UNLOCKABLES.PRICE;var t=this.coins[this.insertedAmount-1];TweenLite.to(t.position,.5,{x:150,ease:Power1.easeIn,onComplete:function(){t.scale.set(0),t.visible=!1,t.position.x=-92,e.panelsToHide++,e.panelsToHide===e.panelsLocked&&(e.looping=!1,e.panelsToHide=e.insertedAmount,e.sliderBar.stop())}}),this.resetTimer(),this.insertedAmount<this.panelsLocked?this.showNextCoin():(this.sliderBar.interactive=!1,this.ticker.stop()),this.animating||(this.panelsToHide=0,this.animating=!0,this.looping=!0,this.loopPanels(),this.ticker.start())}},a.showNextCoin=function(){if(this.getUnlockedPanels().length+this.insertedAmount<=this.panels.length&&o.default.coins>=m.default.UNLOCKABLES.PRICE){var e=this.coins[this.insertedAmount];e&&(e.visible=!0,TweenLite.to(e.scale,.2,{x:1,y:1,delay:.2}))}},a.loopPanels=function(e){var i=this;if(void 0===e&&(e=null),this.looping){var t=this.getLockedPanels(),n=Math.floor(Math.random()*t.length);if(null===e)for(;n===e;)n=Math.floor(Math.random()*t.length);s.default.sfx.play("cantselect");var r=t[n];r.glow.alpha=r.defaultAlpha,TweenLite.delayedCall(.1,function(e,t){t.glow.alpha=0,i.looping?i.loopPanels(e):i.unlockPanels()},[n,r])}},a.updateTimer=function(){var e=this;this.timer-=15,this.timer<=0&&(this.ticker.stop(),this.coins[Math.max(this.insertedAmount-1,0)].alpha=.7,this.sliderBar.interactive=!1,TweenLite.delayedCall(.5,function(){e.looping=!1}))},a.unlockPanels=function(){var e=this,t=this.getLockedPanels(),i=Math.floor(Math.random()*t.length),n=t[i];this.unlockables[this.currentIndex].unlockedPanels.push(n.index),this.app.dataSystem.saveData(this.saveDataName),n.glow.alpha=n.defaultAlpha,s.default.sfx.play("sfx_reveal"),TweenLite.to(n.scale,.3,{x:0,y:0,ease:Power1.easeIn,onComplete:function(){e.panelsToHide--,n.visible=!1,1===t.length?(e.onUnlockableUnlocked.dispatch(),e.animating=!1):0===e.panelsToHide&&(e.resetCoins(),e.showNextCoin(),e.updateState(),e.sliderBar.interactive=!0,e.animating=!1,e.app.topMenu.buttons.prev.enable())}}),this.insertedAmount--,0<this.insertedAmount&&TweenLite.delayedCall(.2,function(){e.unlockPanels()})},a.resetCoins=function(){this.coins.forEach(function(e){e.alpha=1,e.scale.set(0),e.visible=!1,e.position.x=-92}),this.coins[0].visible=!0,this.coins[0].scale.set(1)},a.getUnlockedPanels=function(){var i=this.unlockables[this.currentIndex],n=[];return this.panels.forEach(function(e,t){-1!==i.unlockedPanels.indexOf(t)&&n.push(e)}),n},a.getLockedPanels=function(){var i=this.unlockables[this.currentIndex],n=[];return this.panels.forEach(function(e,t){-1===i.unlockedPanels.indexOf(t)&&n.push(e)}),n},a.updateTransform=function(){p.prototype.updateTransform.call(this),this.loadingWheel.visible&&(this.loadingWheel.rotation+=.1*y.default.instance.deltaTime),this.count+=.1*y.default.instance.deltaTime,this.pointer.x=30*Math.abs(Math.sin(this.count))},a.previous=function(){this.animating||(this.currentIndex--,this.currentIndex<0&&(this.currentIndex=this.unlockables.length-1),this.refresh())},a.next=function(){this.animating||(this.currentIndex++,this.unlockables[this.currentIndex]||(this.currentIndex=0),this.refresh())},a.updatePanels=function(){var i=this.unlockables[this.currentIndex];this.panels.forEach(function(e,t){e.glow.alpha=0,-1!==i.unlockedPanels.indexOf(t)?(e.scale.set(0),e.visible=!1):(e.texture=f.Texture.from("graphic-unlock-panel.png"),e.scale.set(1),e.visible=!0)})},a.showDummyPanels=function(){this.panels.forEach(function(e){e.texture=f.Texture.from("graphic-unlock-panel-coming-soon.png"),e.glow.alpha=0,e.scale.set(1)})},a.resetElementsVisibility=function(){this.gridOverlay.visible=!1,this.costPanel.visible=!1,this.infoText.visible=!1,this.sliderBar.visible=!1,this.statusText.visible=!1,this.panelContainer.visible=!1,this.darkOverlay.visible=!1,this.lock.visible=!1,this.nextButton.visible=!1,this.previousButton.visible=!1},a.updateState=function(){var e=this.unlockables[this.currentIndex],t=o.default.coins>=m.default.UNLOCKABLES.PRICE;if(this.resetElementsVisibility(),this.nextButton.visible=e.id!==this.unlockables[this.unlockables.length-1].id,this.previousButton.visible=e.id!==this.unlockables[0].id,e.available){if(e.available&&e.unlockedPanels){this.updatePanels();var i=this.getUnlockedPanels();i.length!==this.panels.length&&(this.gridOverlay.visible=!0,this.costPanel.visible=!0,this.infoText.visible=!0,this.sliderBar.visible=!0,this.panelContainer.visible=!0,this.costPanel.cost.text=(this.panels.length-i.length)*m.default.UNLOCKABLES.PRICE,t?(this.coins[0].visible=!0,this.insertedAmount=0,this.resetCoins(),this.pointer.visible=!0,this.infoText.style.fontSize=20,this.sliderBar.interactive=!0,this.sliderBar.play()):(this.coins[0].visible=!1,this.pointer.visible=!1,this.infoText.setText("STR_UNLOCKABLES_NOCOINS"),this.infoText.style.fontSize=23,this.sliderBar.stop()))}}else this.statusText.visible=!0,this.lock.visible=!0,e.comingSoon?(this.panelContainer.visible=!0,this.gridOverlay.visible=!0,this.showDummyPanels()):this.darkOverlay.visible=!0},a.refresh=function(){this.onDataUpdated.dispatch(),this.updateState(),this.animating=!1},a.onHide=function(){this.active=!1},a.onShow=function(){this.active=!0,this.resetElementsVisibility(),this.app.topMenu.setState("prevsettings"),this.resize(this.width,this.height),this.bg.scale.set(0),TweenLite.to(this.bg.scale,1,{x:1,y:1,ease:Elastic.easeOut,delay:.2})},a.onAssetsLoaded=function(){this.assetsLoaded=!0,this.loadingWheel.visible=!1},a.showContent=function(){this.refresh()},a.resize=function(e,t){this.width=e,this.height=t,this.bg.position.set(e/2,t/2)},i=AbstractUnlockScreen,(n=[{key:"panelsUnlocked",get:function(){var t=0;return this.panels.forEach(function(e){0===e.scale.x&&t++}),t}},{key:"panelsLocked",get:function(){var t=0;return this.panels.forEach(function(e){0<e.scale.x&&t++}),t}},{key:"previousScreenId",get:function(){return this._previousScreenId}}])&&_defineProperties(i.prototype,n),r&&_defineProperties(i,r),AbstractUnlockScreen}(f.Container);t.default=n},function(e,t,l){"use strict";var i;void 0===(i=function(e,t,i){l(0);var n=l(19),r=l(26),a=l(575),o=l(576),s={big:function(e){var t=new n("big-button-up.png","big-button-over.png","big-button-over.png",e||null,1.1);return t.defaultScale=1,t},select:function(e){var t=new n("button-select-normal.png","button-select-hover.png","button-select-hover.png",e||null,null);return t.defaultScale=1,t},validate:function(e){var t=new n("big-button-yes.png","big-button-yes.png","big-button-yes.png",e||null,1.1);return t.defaultScale=1,t},cancel:function(e){var t=new n("big-button-no.png","big-button-no.png","big-button-no.png",e||null,1.1);return t.defaultScale=1,t},label:function(e){var t=new r("big-button-up.png","big-button-over.png","big-button-over.png",e);return t.defaultScale=1,t.pressSound="button_press2",t},country:function(e){return new a("country-backer-1.png",null,null,e,null,"transparent-pixel.png","flag-white-border.png")},character:function(e){return new o(null,null,null,e.profile,null,e.isCaptain?"blue-pixel.png":"orange-pixel.png",null,null,e.available)},sponsor:function(){var e=new n("sponsor-background.png",null,null,null);return e.defaultScale=1,e.interactive=!1,e},close:function(e){var t=new n("big-button-up.png","big-button-over.png","big-button-over.png",e||null);return t.defaultScale=1,t}};i.exports=s}.call(t,l,t,e))||(e.exports=i)},function(e,t,a){"use strict";var i;void 0===(i=function(e,t,i){function Pxe(e,t,i,n,r,a,o){s.call(this,e,t,i,n),this.iconTexture=n,this.iconTextureSelected,void 0!==r&&(this.iconTextureSelected=r),this.selected=!0===a,this.enabled=this.enabledInit=!1!==o,this.onSelected=new l,this.onHover2=new l,this.onMouseOut=new l,this.toggleIcon(this.selected),this.setEnabled(this.enabled)}var n=a(0),s=a(19),l=a(3),r=a(13);(Pxe.prototype=Object.create(s.prototype)).setEnabled=function(e){this.enabled=!1!==e,this.enabled?s.prototype._onEnabled.call(this):s.prototype._onDisabled.call(this)},Pxe.prototype.toggleIcon=function(e){var t=!0===e;this.iconTextureSelected&&(this.icon.texture=n.Texture.fromFrame(t?this.iconTextureSelected:this.iconTexture))},Pxe.prototype._onDown=function(){this.selected=!this.selected,this.onSelected.dispatch(this),this.toggleIcon(this.selected),this.silent||r.sfx.play("button_press"),s.prototype._onDown.call(this)},Pxe.prototype.select=function(){this.selected=!0,this.toggleIcon(this.selected)},Pxe.prototype.unselect=function(){this.selected=!1,this.toggleIcon(this.selected)},Pxe.prototype._onHover=function(){this.toggleIcon(!0),this._soundDirty=!0,r.sfx.play("button_roll"),this.onHover2.dispatch(this)},Pxe.prototype._onMouseOut=function(){this.onMouseOut.dispatch(this),this.toggleIcon(this.selected),s.prototype._onMouseOut.call(this)},i.exports=Pxe}.call(t,a,t,e))||(e.exports=i)},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n=i(0),r=i(134),a=i(135),o=i(4),s=i(15),l=i(584),u=i(585),h=i(586),d=i(3),c=(i(587),function(){function App(e){for(var t in this.resizeModes={DEFUALT:0,CSS_RESIZE_PRESERVE_RATIO:1,CSS_RESIZE:2},this.orientationModes={LANDSCAPE:0,PORTRAIT:1,BOTH:2},this.defaultOptions={width:800,height:600,forceCanvas:!1,backgroundColor:0,resizeMode:this.resizeModes.DEFUALT,orientationMode:this.orientationModes.LANDSCAPE,loaderScreen:l,transparent:!1,config:null},e=e||this.defaultOptions,this.options={},this.defaultOptions)this.options[t]=e[t]||this.defaultOptions[t];this.setupPixi(),o.instance.start(),o.instance.add(this.update,this),this.screenManager=new a(null,300,300),this.preloader=new r,this.loader=new r,this.onReady=new d,this.options.orientationMode!==this.orientationModes.BOTH&&(this.orientationManager=new u(this.options.orientationMode)),this.stage.addChild(this.screenManager.container)}var e=App.prototype;return e.setupPixi=function(){var e=this.options;if(e.forceCanvas||s.instance.android&&!s.instance.chrome)this.renderer=new n.CanvasRenderer(e.width,e.height),this.renderer.clearBeforeRender=!0;else{var t={resolution:1,backgroundColor:e.backgroundColor,transparent:!!e.transparent};this.renderer=n.autoDetectRenderer(e.width,e.height,t)}window.WEBGL=n.isWebGL=this.renderer instanceof n.WebGLRenderer,window.renderer=this.renderer,this.view=this.renderer.view,this.stage=new n.Container,this.view.style.position="absolute",this.view.addEventListener("mousedown",function(){window.focus()},!0),n.stage=this.stage},e.update=function(e){(!s.instance.iOS||.8<e)&&this.renderer.render(this.stage)},e.startup=function(){this.options.config&&this.preloader.addJson(this.options.config,"config"),this.preloader.onComplete.addOnce(this.onPreloadComplete,this),this.preloader.load()},e.onPreloadComplete=function(){this.translation=new h(this,this.options),this.loaderScreen=new this.options.loaderScreen(this),this.loaderScreen.onReady.addOnce(this.onLoaderScreenReady,this),this.loaderScreen.onComplete.addOnce(this.onLoaderScreenComplete,this),this.onPreload&&this.onPreload(),this.screenManager.addScreen(this.loaderScreen,"loader"),this.screenManager.gotoScreenByID("loader")},e.onLoaderScreenReady=function(){this.loader.onComplete.addOnce(this.onAssetsLoaded,this),this.loader.onProgress.add(this.onProgresss,this),this.loader.load()},e.onAssetsLoaded=function(){},e.onProgresss=function(e){this.loaderScreen.updateProgress(e)},e.onLoaderScreenComplete=function(){this.onReady.dispatch()},e.resize=function(e,t){this.orientationManager&&this.orientationManager.check(e,t),this.options.resizeMode===this.resizeModes.DEFUALT?(this.renderer.resize(e,t),this.view.style.width="auto",this.view.style.height="auto"):this.this.options.resizeMode===this.resizeModes.CSS_RESIZE_PRESERVE_RATIO||this.options.resizeMode===this.resizeModes.CSS_RESIZE&&(this.view.style.width=e+"px",this.view.style.height=t+"px")},App}());t.default=c},function(e,t,i){"use strict";var n;void 0===(n=function(e,t,i){function Cye(e,t,i,n,r){this.object1=e,this.object2=t,this.penetration=i,this.projection=n,this.ignore=r||!1,this._key=null,this._tickId=null}Cye.prototype.getOtherObject=function(e){return e===this.object1?this.object2:this.object1},Cye.pool=[],i.exports=Cye}.call(t,i,t,e))||(e.exports=n)},function(e,t,s){"use strict";var i;void 0===(i=function(e,t,i){function Uye(){this.staticItems=new o,this.kinimaticItems=new n,this.dynamicItems=new n,this.collisions=[],this.narrowPhase=new r,this.dt=1,this.collisionKeys={},this.DEBUG=!1}var n=s(137),r=s(596),a=s(102),o=s(598);Uye.prototype.init=function(e){},Uye.prototype.preupdate=function(){},Uye.prototype.add=function(e){e.body&&(this.DEBUG&&(e._debugView||(e._debugView=e.body.getDebugView(),e._debugView.alpha=.5,e.view&&e.view.addChild(e._debugView))),e.body.type===a.STATIC?this.staticItems.add(e):e.body.type===a.KINIMATIC?this.kinimaticItems.add(e):e.body.type===a.DYNAMIC&&this.dynamicItems.add(e))},Uye.prototype.remove=function(e){e.body&&(e.body.type===a.STATIC?this.staticItems.remove(e):e.body.type===a.KINIMATIC?this.kinimaticItems.remove(e):e.body.type===a.DYNAMIC&&this.dynamicItems.remove(e))},Uye.prototype.update=function(){for(var e=this.getCollisions(),t=0;t<this.dynamicItems.children.length;t++)this.dynamicItems.children[t].body.update(this.dt);this.narrowPhase.hitTest(e)},Uye.prototype.postupdate=function(e){},Uye.prototype.reset=function(){this.staticItems.empty(),this.kinimaticItems.empty(),this.dynamicItems.empty(),this.collisions.length=0,this.narrowPhase.reset()},Uye.prototype.onCollision=function(e,t){},Uye.prototype.getKey=function(e,t){return(e<<12)+t},Uye.prototype.registerCollison=function(e,t){this.collisionKeys[this.getKey(e,t)]=!0,this.collisionKeys[this.getKey(t,e)]=!0},Uye.prototype.getCollisions=function(){this.collisions.length=0;var e=this.dynamicItems.children;this.sortAxisList(e);for(var t=0;t<e.length;t++)for(var i=e[t],n=i.body.position.x+i.body.shape.x+i.body.shape.width+5,r=t+1;r<e.length;r++){var a=e[r];if(n<=a.body.position.x+a.body.shape.x-5)break;var o=!0,s=this.getKey(a.type,i.type);this.collisionKeys[s]&&a.canCollide&&i.canCollide||(o=!1),o&&this.collisions.push(i,a)}for(t=0;t<this.dynamicItems.children.length;t++){var l=this.dynamicItems.children[t],u=this.staticItems.retrieveArea(l);for(r=0;r<u.length;r++){(h=u[r]).canCollide&&l.canCollide&&this.collisions.push(l,h)}}for(t=0;t<this.dynamicItems.children.length;t++)for(r=0;r<this.kinimaticItems.children.length;r++){l=this.dynamicItems.children[t];var h=this.kinimaticItems.children[r];o=!0,s=this.getKey(h.type,l.type);this.collisionKeys[s]&&l.canCollide&&h.canCollide||(o=!1),o&&(l.debug,this.collisions.push(l,h))}return this.collisions},Uye.prototype.sortAxisList=function(e){for(var t=1,i=e.length;t<i;t++){for(var n=e[t],r=t-1;0<=r;r--){var a=e[r];if(a.body.shape.x+a.body.position.x<=n.body.shape.x+n.body.position.x)break;e[r+1]=e[r]}e[r+1]=n}return e},Uye.prototype.castRay=function(e,t){},Uye.prototype.constrainToBounds=function(){for(var e=this.bounds,t=0;t<this.dynamicItems.children.length;t++){var i=this.dynamicItems.children[t].body;i.position.x+i.shape.x<e.x?i.position.x=e.x+i.shape.x:i.position.x+i.shape.x+i.shape.width>e.x+e.width&&(i.position.x=e.x+e.width-(i.shape.x+i.shape.width)),i.position.y+i.shape.y<e.y?i.position.y=e.y+i.shape.y:i.position.y+i.shape.y+i.shape.height>e.y+e.height&&(i.position.y=e.y+e.height-(i.shape.y+i.shape.height),this.dynamicItems.children[t].onGround=!0)}},Uye.prototype.setBounds=function(e){this.bounds.x=e.x,this.bounds.y=e.y,this.bounds.width=e.width,this.bounds.height=e.height},i.exports=Uye}.call(t,s,t,e))||(e.exports=i)},function(e,t,o){"use strict";var i;void 0===(i=function(e,t,i){function Oze(e){this.item=e,this.ball=null,e.signals.onBallRecieved=new r(this),e.signals.onBallLost=new r(this),e.signals.onBallShot=new r(this),this.easeX=.1,this.offset=new n.Point,this.offset.z=0,this.speedRange=35}var n=o(0),r=o(3),a=o(14);Oze.prototype.pickupBall=function(e){(this.ball=e).pickUp(this.item),this.item.signals.onBallRecieved.dispatch(this.item)},Oze.prototype.update=function(){if(this.ball){var e=this.item.body.velocity.x/3;e*=40,e=a.cap(e,-this.speedRange,this.speedRange),this.ball.position.x+=(this.item.position.x+this.offset.x+e-this.ball.position.x)*this.easeX,0<this.item.body.velocity.y?this.ball.position.y+=.5*(this.item.position.y+0-this.ball.position.y):this.ball.position.y+=.5*(this.item.position.y-10-this.ball.position.y),this.ball.position.z=this.offset.z,this.ball.body.velocity.z=0}},Oze.prototype.releaseBall=function(){this.ball.released(),this.ball=null,this.item.signals.onBallLost.dispatch(this.item)},Oze.prototype.passTo=function(e){this.ball&&(this.ball.passTo(e),this.releaseBall())},Oze.prototype.pass=function(e,t,i,n){this.ball&&(this.ball.pass(e,t,i,n),this.releaseBall())},i.exports=Oze}.call(t,o,t,e))||(e.exports=i)},function(e,t,o){"use strict";var i;void 0===(i=function(e,t,i){o(0);function gAe(e){this.item=e,this.direction=new n.Vector(1,0),this.targetDirection=new n.Vector(1,0),this.targetPosition=new n.Vector(1,0),e.signals.onArrive=new r(this),e.signals.onMoveTo=new r(this),this.callback=null,this.scope=null,this.active=!0,this.turnMultiplier=1,this.accel=1,this.lookingForTarget=!1}var n=o(27),r=o(3),a=o(14);gAe.prototype.update=function(){if(this.lookingForTarget){this.target&&(this.targetPosition.x=this.target.position.x,this.targetPosition.y=this.target.position.y);var e=this.targetPosition.x-this.item.position.x,t=this.targetPosition.y-this.item.position.y,i=Math.sqrt(e*e+t*t);e/=i,t/=i,10<i?this.moveInDirection(e,t):(this.callback&&(this.callback.call(this.scope),this.callback=null),this.stop())}},gAe.prototype.follow=function(e,t){this.target=e,this.lookingForTarget=!0},gAe.prototype.moveTo=function(e,t){this.target=null,this.callback=null,this.lookingForTarget=!0,this.targetPosition.x=e,this.targetPosition.y=t},gAe.prototype.then=function(e,t){this.callback=e,this.scope=t},gAe.prototype.moveInDirection=function(e,t){if(this.targetDirection=e,this.targetDirection=t,this.item.auto){var i=Math.atan2(this.direction.y,this.direction.x),n=Math.atan2(t,e);i+=a.smallestAngle(i,n)*this.turnMultiplier,this.direction.x=Math.cos(i),this.direction.y=Math.sin(i)}else this.direction.x=e,this.direction.y=t;this.item.body.acceleration.x=.6*this.direction.x*this.accel,this.item.body.acceleration.y=.6*this.direction.y*this.accel},gAe.prototype.stop=function(){this.target=null,this.lookingForTarget=!1,this.item.body.acceleration.x=1e-4,this.item.body.acceleration.y=0,this.item.body.velocity.x=.001,this.item.body.velocity.y=0},i.exports=gAe}.call(t,o,t,e))||(e.exports=i)},function(e,t,i){"use strict";var f=i(30).PLAYER_STATE,m={dx:0,dy:0,player:null};e.exports=function(e,t){var i,n=t.children,r=e.movement.direction.x,a=e.movement.direction.y;0===r&&0===a&&(r=1);for(var o=1/0,s=null,l=r,u=a,h=0;h<n.length;h++)if((i=n[h])!==e&&i.state!==f.FALL){var d=i.position.x-e.position.x,c=i.position.y-e.position.y,p=Math.sqrt(d*d+c*c);.6<(d/=p)*r+(c/=p)*a&&p<o&&(l=d,u=c,s=i,o=p)}return m.dx=l,m.dy=u,m.player=s,m}},function(e,t,a){"use strict";var i;void 0===(i=function(e,t,i){function _Ae(){n.Container.call(this),this.bg=(new n.Graphics).beginFill(16777215).drawRect(0,-10,100,20),this.bar=(new n.Graphics).beginFill(16711680).drawRect(0,-10,100,20),this.sweetSpot=(new n.Graphics).beginFill(255).drawRect(0,-10,15,20),this.bg2=new n.Sprite.from("shoot-charge-bg.png"),this.bar2=new n.Sprite.from("shoot-charge-fill.png"),this.frame=new n.Sprite.from("shoot-charge-frame.png"),this.addChild(this.bg2),this.addChild(this.bar2),this.addChild(this.frame),this.sweetSpot.position.x=75,this.min=0,this.max=0,this.hidden=!0,this.scale.y=0,this.visible=!1;var e=(new n.Graphics).beginFill(16711680).moveTo(10,14).lineTo(217,7).lineTo(212,62).lineTo(5,55);this.addChild(e),this.bar2.mask=e,this.setRatio(0),this.pivot.y=21,this.pivot.x=111;var t={fill:"#fff",fontSize:40,fontFamily:"avenir",dropShadow:!0,dropShadowAlpha:.5,dropShadowAngle:Math.PI/2};this.text=new r("STR_SUPERSHOT_WEAK",t),this.text.anchor.set(.5),this.text.x=111,this.text.y=100,this.text.visible=!1,this.addChild(this.text),this.blinkTimer=0,this.setSize(2)}var n=a(0),r=a(11);(_Ae.prototype=Object.create(n.Container.prototype)).setRatio=function(e){this.bar2.alpha=1,this.bar.scale.x=e,this.bar2.anchor.x=1-e},_Ae.prototype.setSize=function(e){0===e?(this.bg2.texture=n.Texture.from("shoot-charge-bg-small.png"),this.min=148/222,this.max=164/222):1===e?(this.bg2.texture=n.Texture.from("shoot-charge-bg-med.png"),this.min=135/222,this.max=174/222):2===e&&(this.bg2.texture=n.Texture.from("shoot-charge-bg-large.png"),this.min=125/222,this.max=185/222)},_Ae.prototype.showText=function(e){this.text.setText(e),this.text.visible=!0,this.blinkTimer=0},_Ae.prototype.update=function(){this.text.visible&&(this.blinkTimer++,8<=this.blinkTimer&&(this.blinkTimer=0,this.text.alpha=1===this.text.alpha?0:1,this.bar2.alpha=1===this.bar2.alpha?0:1))},_Ae.prototype.show=function(){this.hidden&&(this.text.visible=!1,this.hidden=!1,this.visible=!0,this.bar2.alpha=1,this.text.alpha=1,this.rotation=Math.random(),this.frame.texture=n.Texture.fromFrame("shoot-charge-frame.png"),TweenLite.to(this.scale,.3,{y:1,ease:Back.easeOut}),TweenLite.to(this,.5,{rotation:0,ease:Elastic.easeOut}))},_Ae.prototype.hide=function(){this.hidden||(this.hidden=!0,TweenLite.to(this.scale,.3,{y:0,ease:Back.easeIn,onComplete:this.onHidden,onCompleteScope:this}))},_Ae.prototype.onHidden=function(){this.visible=!1},i.exports=_Ae}.call(t,a,t,e))||(e.exports=i)},function(e,t,n){"use strict";var i;void 0===(i=function(e,t,i){n(0),n(3),n(14);function tBe(){this.ratio=0,this.totalDust=20;var e=[];this.count=0;for(var t=this.targetCount=0;t<this.totalDust;t++)e.push(140*Math.random(),0,0);var i=new Float32Array(e),n=new h.BufferGeometry;n.addAttribute("position",new h.BufferAttribute(i,3));var r=new Float32Array(n.attributes.position.count);for(t=0;t<r.length;t++)r[t]=0;var a=new Float32Array(n.attributes.position.count);for(t=0;t<a.length;t++)a[t]=Math.random();n.addAttribute("alpha",new h.BufferAttribute(r,1)),n.addAttribute("random",new h.BufferAttribute(a,1)),this.geometry=n;var o=h.ImageUtils.loadTexture(ASSET_URL+"img/game/fx/particles/smoke-mixed.png"),s={ucolor:{type:"c",value:new h.Color(0)},tick:{type:"f",value:0},power:{type:"f",value:0},circle:{type:"t",value:o}},l=new h.ShaderMaterial({uniforms:s,vertexShader:d,fragmentShader:c,transparent:!0,depthTest:!1}),u=new h.Points(n,l);u.frustumCulled=!1,this.cloud=u,this.ratio=99,this.tick=0}var h=n(12),d=(n(21),["attribute float alpha;","attribute float random;","uniform float tick;","uniform float power;","varying float valpha;","void main() {","    vec3 pos = position;","    pos.z = alpha * 250.0 * mix(0.5, 1.0, random);","    float scaleOff = mix(0.5, 1.0, random);","    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );","    valpha = 1.0-(alpha * 3.0);","    gl_PointSize = (40.0 + (103.0 * (alpha * 3.0) ) )* 2.0 * scaleOff;","    gl_Position = projectionMatrix * mvPosition;","}"].join("\n")),c=["uniform vec3 ucolor;","uniform sampler2D circle;","varying float valpha;","void main() {","    vec4 color = texture2D(circle, gl_PointCoord);","    gl_FragColor = vec4(color.rgb, color.a * valpha * 0.5);","}"].join("\n");tBe.prototype.update=function(e){var t=this.cloud.geometry.getAttribute("position"),i=this.cloud.geometry.getAttribute("alpha"),n=t.array,r=i.array;this.count+=.5,this.count%=this.totalDust,this.targetCount;var a=e.body.velocity.length();if(!(this.count%1)&&3<a){var o=e.position.x;0<e.body.velocity.x?o-=20:o+=20,n[3*this.count]=o+10*(Math.random()-.5),n[3*this.count+1]=e.position.y,r[this.count]=0}for(var s=0;s<this.totalDust;s++)r[s]+=.01;t.needsUpdate=!0,i.needsUpdate=!0},i.exports=tBe}.call(t,n,t,e))||(e.exports=i)},function(e,t,h){"use strict";var i;void 0===(i=function(e,t,i){function $Be(){this.id="Banana",this.item=null,this.timer=new r(10,a.game),this.timer.onComplete.add(this.stop,this),this.tick=0,this.bananas=[],this.bananaSplats=[],this.bananaCount=0,this.bananaAnimTextures=s.getTexturesFromFrames(["banana_peel_01.png","banana_peel_02.png","banana_peel_03.png","banana_peel_04.png"]);for(var e=0;e<3;e++){var t=new u.Object3D;t.position.x=0,t.position.y=0,t.position.z=0,t.rotation.x=window.test-Math.PI,t.scale.x=t.scale.y=t.scale.z=.5,t.tick=2*Math.PI/3*e;var i=o.getMesh("banana_peel_shadow.png",.5,.5);i.material.opacity=.5,i.geometry.translate(0,0,20),t.add(i);var n=o.getMesh("banana_peel_01.png",.5,.5);t.add(n),t.anim=n,this.bananas.push(t)}this.bananaCount=3}var r=h(41),a=h(4),o=h(21),s=h(29),n=h(48),l=h(636),u=h(12);$Be.displayName="STR_POWERUP_BANANA",$Be.prototype.reset=function(e){this.item=e,this.item.canBeTackled=!1,this.item.setBananaHitbox(),this.dead=!1,this.timer.start();for(var t=0;t<this.bananas.length;t++)e.view3d.add(this.bananas[t]);this.bananaCount=this.bananas.length},$Be.prototype.update=function(){this.tick+=.2;for(var e=0;e<this.bananas.length;e++){var t=this.bananas[e];t.tick+=.06,t.position.x=150*Math.sin(t.tick),t.position.y=150*Math.cos(t.tick),o.setUvs(t.anim,this.bananaAnimTextures[this.tick%this.bananaAnimTextures.length|0],.5,.5)}for(e=0;e<this.bananaSplats.length;e++)this.bananaSplats[e].update()},$Be.prototype.stop=function(){if(this.dead=!0,!(this.bananaCount<=0)){for(var e=0;e<this.bananaCount;e++)this.item.view3d.remove(this.bananas[e]);this.item.canBeTackled=!0}},$Be.prototype.splatPlayer=function(e){this.item.view3d.remove(this.bananas[this.bananaCount-1]),this.bananaCount--,this.bananaCount<=0&&(this.item.canBeTackled=!0);var t=n.get(l);t.banana=this,t.reset(e),e.view3d.add(t.view3d),this.bananaSplats.push(t)},i.exports=$Be}.call(t,h,t,e))||(e.exports=i)},function(e,t,i){"use strict";function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _inheritsLoose(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}
/*!
 * GSAP 3.1.1
 * https://greensock.com
 *
 * @license Copyright 2008-2020, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/t.__esModule=!0,t._getCache=t._getSetter=t._missingPlugin=t._round=t._roundModifier=t._config=t._ticker=t._plugins=t._checkPlugin=t._replaceRandom=t._colorStringFilter=t._sortPropTweensByPriority=t._forEachName=t._removeLinkedListItem=t._setDefaults=t._relExp=t._renderComplexString=t._isUndefined=t._isString=t._numExp=t._getProperty=t.shuffle=t.interpolate=t.unitize=t.pipe=t.mapRange=t.toArray=t.splitColor=t.clamp=t.getUnit=t.normalize=t.snap=t.random=t.distribute=t.wrapYoyo=t.wrap=t.Circ=t.Expo=t.Sine=t.Bounce=t.SteppedEase=t.Back=t.Elastic=t.Strong=t.Quint=t.Quart=t.Cubic=t.Quad=t.Linear=t.Power4=t.Power3=t.Power2=t.Power1=t.Power0=t.default=t.gsap=t.PropTween=t.TweenLite=t.TweenMax=t.Tween=t.TimelineLite=t.TimelineMax=t.Timeline=t.Animation=t.GSCache=void 0;function zCe(e){return"string"==typeof e}function ACe(e){return"function"==typeof e}function BCe(e){return"number"==typeof e}function CCe(e){return void 0===e}function DCe(e){return"object"==typeof e}function ECe(e){return!1!==e}function FCe(){return"undefined"!=typeof window}function GCe(e){return ACe(e)||zCe(e)}function VCe(e){return(j=J(e,U))&&Ne}function WCe(){}function XCe(e,t){return!t&&void 0}function YCe(e,t){return e&&(U[e]=t)&&j&&(j[e]=t)||U}function ZCe(){return 0}function hDe(e){var t,i,n=e[0];if(DCe(n)||ACe(n)||(e=[e]),!(t=(n._gsap||{}).harness)){for(i=X.length;i--&&!X[i].targetTest(n););t=X[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new fe(e[i],t)))||e.splice(i,1);return e}function iDe(e){return e._gsap||hDe(te(e))[0]._gsap}function jDe(e,t){var i=e[t];return ACe(i)?e[t]():CCe(i)&&e.getAttribute(t)||i}function kDe(e,t){return(e=e.split(",")).forEach(t)||e}function lDe(e){return Math.round(1e4*e)/1e4}function mDe(e,t){for(var i=t.length,n=0;e.indexOf(t[n])<0&&++n<i;);return n<i}function nDe(e,t,i){var n,r=BCe(e[1]),a=(r?2:1)+(t<2?0:1),o=e[a];if(r&&(o.duration=e[1]),o.parent=i,t){for(n=o;i&&!("immediateRender"in n);)n=i.vars.defaults||{},i=ECe(i.vars.inherit)&&i.parent;o.immediateRender=ECe(n.immediateRender),t<2?o.runBackwards=1:o.startAt=e[a-1]}return o}function oDe(){var e,t,i=G.length,n=G.slice(0);for(H={},e=G.length=0;e<i;e++)(t=n[e])&&t._lazy&&(t.render(t._lazy[0],t._lazy[1],!0)._lazy=0)}function pDe(e,t,i,n){G.length&&oDe(),e.render(t,i,n),G.length&&oDe()}function qDe(e){var t=parseFloat(e);return(t||0===t)&&(e+"").match(Y).length<2?t:e}function rDe(e){return e}function sDe(e,t){for(var i in t)i in e||(e[i]=t[i]);return e}function tDe(e,t){for(var i in t)i in e||"duration"===i||"ease"===i||(e[i]=t[i])}function vDe(e,t){for(var i in t)e[i]=DCe(t[i])?vDe(e[i]||(e[i]={}),t[i]):t[i];return e}function wDe(e,t){var i,n={};for(i in e)i in t||(n[i]=e[i]);return n}function ADe(e,t,i,n){void 0===i&&(i="_first"),void 0===n&&(n="_last");var r=t._prev,a=t._next;r?r._next=a:e[i]===t&&(e[i]=a),a?a._prev=r:e[n]===t&&(e[n]=r),t._dp=e,t._next=t._prev=t.parent=null}function BDe(e,t){!e.parent||t&&!e.parent.autoRemoveChildren||e.parent.remove(e),e._act=0}function CDe(e){for(var t=e;t;)t._dirty=1,t=t.parent;return e}function FDe(e){return e._repeat?Z(e._tTime,e=e.duration()+e._rDelay)*e:0}function HDe(e,t){return(e-t._start)*t._ts+(0<=t._ts?0:t._dirty?t.totalDuration():t._tDur)}function IDe(e,t,i){if(t.parent&&BDe(t),t._start=i+t._delay,t._end=t._start+(t.totalDuration()/Math.abs(t.timeScale())||0),function(e,t,i,n,r){void 0===i&&(i="_first"),void 0===n&&(n="_last");var a,o=e[n];if(r)for(a=t[r];o&&o[r]>a;)o=o._prev;o?(t._next=o._next,o._next=t):(t._next=e[i],e[i]=t),t._next?t._next._prev=t:e[n]=t,t._prev=o,t.parent=e}(e,t,"_first","_last",e._sort?"_start":0),(e._recent=t)._time||!t._dur&&t._initted){var n=(e.rawTime()-t._start)*t._ts;(!t._dur||$(0,t.totalDuration(),n)-t._tTime>O)&&t.render(n,!0)}if(CDe(e),e._dp&&e._time>=e._dur&&e._ts&&e._dur<e.duration())for(var r=e;r._dp;)r.totalTime(r._tTime,!0),r=r._dp;return e}function JDe(e,t,i,n){return ye(e,t),e._initted?!i&&e._pt&&(e._dur&&!1!==e.vars.lazy||!e._dur&&e.vars.lazy)&&s!==se.frame?(G.push(e),e._lazy=[t,n]):void 0:1}function MDe(e){if(e instanceof _e)return CDe(e);var t=e._repeat;return e._tDur=t?t<0?1e12:lDe(e._dur*(t+1)+e._rDelay*t):e._dur,CDe(e.parent),e}function ODe(e,t){var i,n,r=e.labels,a=e._recent||Q,o=1e8<=e.duration()?a.endTime(!1):e._dur;return zCe(t)&&(isNaN(t)||t in r)?"<"===(i=t.charAt(0))||">"===i?("<"===i?a._start:a.endTime(0<=a._repeat))+(parseFloat(t.substr(1))||0):(i=t.indexOf("="))<0?(t in r||(r[t]=o),r[t]):(n=+(t.charAt(i-1)+t.substr(i+1)),1<i?ODe(e,t.substr(0,i-1))+n:o+n):null==t?o:+t}function PDe(e,t){return e||0===e?t(e):t}function RDe(e){return(e+"").substr((parseFloat(e)+"").length)}function SDe(t,i,e){return PDe(e,function(e){return $(t,i,e)})}function UDe(e,t){return e&&DCe(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&DCe(e[0]))&&!e.nodeType&&e!==n}function XDe(e){return e.sort(function(){return.5-Math.random()})}function YDe(e){if(ACe(e))return e;var f=DCe(e)?e:{each:e},m=pe(f.ease),_=f.from||0,g=parseFloat(f.base)||0,v={},t=0<_&&_<1,y=isNaN(_)||t,b=f.axis,w=_,x=_;return zCe(_)?w=x={center:.5,edges:.5,end:1}[_]||0:!t&&y&&(w=_[0],x=_[1]),function(e,t,i){var n,r,a,o,s,l,u,h,d,c=(i||f).length,p=v[c];if(!p){if(!(d="auto"===f.grid?0:(f.grid||[1,1e8])[1])){for(u=-1e8;u<(u=i[d++].getBoundingClientRect().left)&&d<c;);d--}for(p=v[c]=[],n=y?Math.min(d,c)*w-.5:_%d,r=y?c*x/d-.5:_/d|0,h=1e8,l=u=0;l<c;l++)a=l%d-n,o=r-(l/d|0),p[l]=s=b?Math.abs("y"===b?o:a):E(a*a+o*o),u<s&&(u=s),s<h&&(h=s);"random"===_&&XDe(p),p.max=u-h,p.min=h,p.v=c=(parseFloat(f.amount)||parseFloat(f.each)*(c<d?c-1:b?"y"===b?c/d:d:Math.max(d,c/d))||0)*("edges"===_?-1:1),p.b=c<0?g-c:g,p.u=RDe(f.amount||f.each)||0,m=m&&c<0?ce(m):m}return c=(p[e]-p.min)/p.max||0,lDe(p.b+(m?m(c):c)*p.v)+p.u}}function ZDe(t){var i=t<1?Math.pow(10,(t+"").length-2):1;return function(e){return~~(Math.round(parseFloat(e)/t)*t*i)/i+(BCe(e)?0:RDe(e))}}function $De(l,e){var u,h,t=P(l);return!t&&DCe(l)&&(u=t=l.radius||1e8,l.values?(l=te(l.values),(h=!BCe(l[0]))&&(u*=u)):l=ZDe(l.increment)),PDe(e,t?ACe(l)?function(e){return h=l(e),Math.abs(h-e)<=u?h:e}:function(e){for(var t,i,n=parseFloat(h?e.x:e),r=parseFloat(h?e.y:0),a=1e8,o=0,s=l.length;s--;)(t=h?(t=l[s].x-n)*t+(i=l[s].y-r)*i:Math.abs(l[s]-n))<a&&(a=t,o=s);return o=!u||a<=u?l[o]:e,h||o===e||BCe(e)?o:o+RDe(e)}:ZDe(l))}function _De(e,t,i,n){return PDe(P(e)?!t:!0===i?!!(i=0):!n,function(){return P(e)?e[~~(Math.random()*e.length)]:(i=i||1e-5)&&(n=i<1?Math.pow(10,(i+"").length-2):1)&&~~(Math.round((e+Math.random()*(t-e))/i)*i*n)/n})}function aEe(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];return function(e){return t.reduce(function(e,t){return t(e)},e)}}function bEe(t,i){return function(e){return t(parseFloat(e))+(i||RDe(e))}}function cEe(e,t,i){return ie(e,t,0,1,i)}function dEe(t,i,e){return PDe(e,function(e){return t[~~i(e)]})}function eEe(t,e,i){var n=e-t;return P(t)?dEe(t,eEe(0,t.length),e):PDe(i,function(e){return(n+(e-t)%n)%n+t})}function fEe(t,e,i){var n=e-t,r=2*n;return P(t)?dEe(t,fEe(0,t.length-1),e):PDe(i,function(e){return t+(n<(e=(r+(e-t)%r)%r)?r-e:e)})}function gEe(e){for(var t,i,n,r,a=0,o="";~(t=e.indexOf("random(",a));)n=e.indexOf(")",t),r="["===e.charAt(t+7),i=e.substr(t+7,n-t-7).match(r?Y:D),o+=e.substr(a,t-a)+_De(r?i:+i[0],+i[1],+i[2]||1e-5),a=n+1;return o+e.substr(a,e.length-a)}function iEe(t,i,e,n){var r=isNaN(t+i)?0:function(e){return(1-e)*t+e*i};if(!r){var a,o,s,l,u,h=zCe(t),d={};if(!0===e&&(n=1)&&(e=null),h)t={p:t},i={p:i};else if(P(t)&&!P(i)){for(s=[],l=t.length,u=l-2,o=1;o<l;o++)s.push(iEe(t[o-1],t[o]));l--,r=function(e){e*=l;var t=Math.min(u,~~e);return s[t](e-t)},e=i}else n||(t=J(P(t)?[]:{},t));if(!s){for(a in i)ve.call(d,t,a,"get",i[a]);r=function(e){return De(e,d)||(h?t.p:t)}}}return PDe(e,r)}function jEe(e,t,i){var n,r,a,o=e.labels,s=1e8;for(n in o)(r=o[n]-t)<0==!!i&&r&&s>(r=Math.abs(r))&&(a=n,s=r);return a}function lEe(e){return BDe(e),e.progress()<1&&ne(e,"onInterrupt"),e}function qEe(e,t,i){return 255*(6*(e=e<0?e+1:1<e?e-1:e)<1?t+(i-t)*e*6:e<.5?i:3*e<2?t+(i-t)*(2/3-e)*6:t)+.5|0}function rEe(e,t){var i,n,r,a,o,s,l,u,h,d,c=e?BCe(e)?[e>>16,e>>8&255,255&e]:0:re.black;if(!c){if(","===e.substr(-1)&&(e=e.substr(0,e.length-1)),re[e])c=re[e];else if("#"===e.charAt(0))4===e.length&&(e="#"+(i=e.charAt(1))+i+(n=e.charAt(2))+n+(r=e.charAt(3))+r),c=[(e=parseInt(e.substr(1),16))>>16,e>>8&255,255&e];else if("hsl"===e.substr(0,3))if(c=d=e.match(D),t){if(~e.indexOf("="))return e.match(R)}else a=+c[0]%360/360,o=c[1]/100,i=2*(s=c[2]/100)-(n=s<=.5?s*(o+1):s+o-s*o),3<c.length&&(c[3]*=1),c[0]=qEe(a+1/3,i,n),c[1]=qEe(a,i,n),c[2]=qEe(a-1/3,i,n);else c=e.match(D)||re.transparent;c=c.map(Number)}return t&&!d&&(i=c[0]/255,n=c[1]/255,r=c[2]/255,s=((l=Math.max(i,n,r))+(u=Math.min(i,n,r)))/2,l===u?a=o=0:(h=l-u,o=.5<s?h/(2-l-u):h/(l+u),a=l===i?(n-r)/h+(n<r?6:0):l===n?(r-i)/h+2:(i-n)/h+4,a*=60),c[0]=a+.5|0,c[1]=100*o+.5|0,c[2]=100*s+.5|0),c}function sEe(e,t){var i,n,r,a=(e+"").match(ae),o=0,s="";if(!a)return e;for(i=0;i<a.length;i++)n=a[i],o+=(r=e.substr(o,e.indexOf(n,o)-o)).length+n.length,3===(n=rEe(n,t)).length&&n.push(1),s+=r+(t?"hsla("+n[0]+","+n[1]+"%,"+n[2]+"%,"+n[3]:"rgba("+n.join(","))+")";return s+e.substr(o)}function vEe(e){var t,i=e.join(" ");ae.lastIndex=0,ae.test(i)&&(t=oe.test(i),e[0]=sEe(e[0],t),e[1]=sEe(e[1],t))}function DEe(e){var t=(e+"").split("("),i=ue[t[0]];return i&&1<t.length&&i.config?i.config.apply(null,~e.indexOf("{")?[function(e){for(var t,i,n,r={},a=e.substr(1,e.length-3).split(":"),o=a[0],s=1,l=a.length;s<l;s++)i=a[s],t=s!==l-1?i.lastIndexOf(","):i.length,n=i.substr(0,t),r[o]=isNaN(n)?n.replace(de,"").trim():+n,o=i.substr(t+1).trim();return r}(t[1])]:N.exec(e)[1].split(",").map(qDe)):ue._CE&&he.test(e)?ue._CE("",e):i}function GEe(e,t,i,n){void 0===i&&(i=function(e){return 1-t(1-e)}),void 0===n&&(n=function(e){return e<.5?t(2*e)/2:1-t(2*(1-e))/2});var r,a={easeIn:t,easeOut:i,easeInOut:n};return kDe(e,function(e){for(var t in ue[e]=U[e]=a,ue[r=e.toLowerCase()]=i,a)ue[r+("easeIn"===t?".in":"easeOut"===t?".out":".inOut")]=ue[e+"."+t]=a[t]}),1}function HEe(t){return function(e){return e<.5?(1-t(1-2*e))/2:.5+t(2*(e-.5))/2}}function IEe(i,e,t){function wMe(e){return 1===e?1:n*Math.pow(2,-10*e)*A((e-a)*r)+1}var n=1<=e?e:1,r=(t||(i?.3:.45))/(e<1?e:1),a=r/S*(Math.asin(1/n)||0),o="out"===i?wMe:"in"===i?function(e){return 1-wMe(1-e)}:HEe(wMe);return r=S/r,o.config=function(e,t){return IEe(i,e,t)},o}function JEe(t,i){function EMe(e){return--e*e*((i+1)*e+i)+1}void 0===i&&(i=1.70158);var e="out"===t?EMe:"in"===t?function(e){return 1-EMe(1-e)}:HEe(EMe);return e.config=function(e){return JEe(t,e)},e}var k,n,r,a,o,s,h,l,u,d,c,p,f,m,_,g,v,y,b,w,x,T={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},I={duration:.5,overwrite:!1,delay:0},O=1e-8,S=2*Math.PI,M=S/4,L=0,E=Math.sqrt,C=Math.cos,A=Math.sin,P=Array.isArray,D=/(?:-?\.?\d|\.)+/gi,R=/[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/g,B=/[-+=\.]*\d+(?:\.|e-|e)*\d*/gi,N=/\(([^()]+)\)/i,F=/[\+-]=-?[\.\d]+/,Y=/[#\-+\.]*\b[a-z\d-=+%.]+/gi,U={},j={},z={},G=[],H={},W={},V={},q=30,X=[],K="onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",J=function(e,t){for(var i in t)e[i]=t[i];return e},Z=function(e,t){return(e/=t)&&~~e===e?~~e-1:~~e},Q={_start:0,endTime:ZCe},$=function(e,t,i){return i<e?e:t<i?t:i},ee=[].slice,te=function(e,t){return!zCe(e)||t||!r&&le()?P(e)?(i=t,void 0===n&&(n=[]),e.forEach(function(e){return zCe(e)&&!i||UDe(e,1)?n.push.apply(n,te(e)):n.push(e)})||n):UDe(e)?ee.call(e,0):e?[e]:[]:ee.call(a.querySelectorAll(e),0);var i,n},ie=function(t,e,i,n,r){var a=e-t,o=n-i;return PDe(r,function(e){return i+(e-t)/a*o})},ne=function(e,t,i){var n,r,a=e.vars,o=a[t];if(o)return n=a[t+"Params"],r=a.callbackScope||e,i&&G.length&&oDe(),n?o.apply(r,n):o.call(r)},re={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},ae=function(){var e,t="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b";for(e in re)t+="|"+e+"\\b";return new RegExp(t+")","gi")}(),oe=/hsl[a]?\(/,se=(f=Date.now,m=500,_=33,g=f(),v=g,b=y=1/60,p={time:0,frame:0,tick:function(){CLe(!0)},wake:function(){o&&(!r&&FCe()&&(n=r=window,a=n.document||{},U.gsap=Ne,(n.gsapVersions||(n.gsapVersions=[])).push(Ne.version),VCe(j||n.GreenSockGlobals||!n.gsap&&n||{}),c=n.requestAnimationFrame),u&&p.sleep(),d=c||function(e){return setTimeout(e,1e3*(b-p.time)+1|0)},l=1,CLe(2))},sleep:function(){(c?n.cancelAnimationFrame:clearTimeout)(u),l=0,d=ZCe},lagSmoothing:function(e,t){m=e||1e8,_=Math.min(t,m,0)},fps:function(e){y=1/(e||60),b=p.time+y},add:function(e){w.indexOf(e)<0&&w.push(e),le()},remove:function(e){var t;~(t=w.indexOf(e))&&w.splice(t,1)},_listeners:w=[]}),le=function(){return!l&&se.wake()},ue={},he=/^[\d.\-M][\d.\-,\s]/,de=/["']/g,ce=function(t){return function(e){return 1-t(1-e)}},pe=function(e,t){return e&&(ACe(e)?e:ue[e]||DEe(e))||t};function CLe(t){var e,i,n=f()-v,r=!0===t;m<n&&(g+=n-_),v+=n,p.time=(v-g)/1e3,(0<(e=p.time-b)||r)&&(p.frame++,b+=e+(y<=e?.004:y-e),i=1),r||(u=d(CLe)),i&&w.forEach(function(e){return e(p.time,n,p.frame,t)})}function VMe(e){return e<1/2.75?x*e*e:e<1/2.75*2?x*Math.pow(e-1.5/2.75,2)+.75:e<1/2.75*2.5?x*(e-=2.25/2.75)*e+.9375:x*Math.pow(e-2.625/2.75,2)+.984375}t._ticker=se,t._colorStringFilter=vEe,t.splitColor=rEe,t.interpolate=iEe,t.mapRange=ie,t._replaceRandom=gEe,t.wrapYoyo=fEe,t.wrap=eEe,t.normalize=cEe,t.unitize=bEe,t.pipe=aEe,t.random=_De,t.snap=$De,t._roundModifier=ZDe,t.distribute=YDe,t.shuffle=XDe,t.toArray=te,t.clamp=SDe,t.getUnit=RDe,t._removeLinkedListItem=ADe,t._setDefaults=sDe,t._round=lDe,t._forEachName=kDe,t._getProperty=jDe,t._getCache=iDe,t._plugins=W,t._missingPlugin=WCe,t._relExp=F,t._numExp=R,t._isUndefined=CCe,t._isString=zCe,t._config=T,kDe("Linear,Quad,Cubic,Quart,Quint,Strong",function(e,t){var i=t<5?t+1:t;GEe(e+",Power"+(i-1),t?function(e){return Math.pow(e,i)}:function(e){return e},function(e){return 1-Math.pow(1-e,i)},function(e){return e<.5?Math.pow(2*e,i)/2:1-Math.pow(2*(1-e),i)/2})}),ue.Linear.easeNone=ue.none=ue.Linear.easeIn,GEe("Elastic",IEe("in"),IEe("out"),IEe()),x=7.5625,GEe("Bounce",function(e){return 1-VMe(1-e)},VMe),GEe("Expo",function(e){return e?Math.pow(2,10*(e-1)):0}),GEe("Circ",function(e){return-(E(1-e*e)-1)}),GEe("Sine",function(e){return 1-C(e*M)}),GEe("Back",JEe("in"),JEe("out"),JEe()),ue.SteppedEase=ue.steps=U.SteppedEase={config:function(e,t){void 0===e&&(e=1);var i=1/e,n=e+(t?0:1),r=t?1:0;return function(e){return((n*$(0,.99999999,e)|0)+r)*i}}},I.ease=ue["quad.out"];var fe=function(e,t){this.id=L++,(e._gsap=this).target=e,this.harness=t,this.get=t?t.get:jDe,this.set=t?t.getSetter:Ee};t.GSCache=fe;var me=function(){function Animation(e,t){var i=e.parent||k;this.vars=e,this._dur=this._tDur=+e.duration||0,this._delay=+e.delay||0,(this._repeat=e.repeat||0)&&(this._rDelay=e.repeatDelay||0,this._yoyo=!!e.yoyo||!!e.yoyoEase,MDe(this)),this._ts=1,this.data=e.data,l||se.wake(),i&&IDe(i,this,t||0===t?t:i._time),e.reversed&&this.reversed(!0),e.paused&&this.paused(!0)}var e=Animation.prototype;return e.delay=function(e){return e||0===e?(this._delay=e,this):this._delay},e.duration=function(e){var t=arguments.length,i=this._repeat,n=0<i?i*((t?e:this._dur)+this._rDelay):0;return t?this.totalDuration(i<0?e:e+n):this.totalDuration()&&this._dur},e.totalDuration=function(e){if(!arguments.length)return this._tDur;var t=this._repeat,i=(e||this._rDelay)&&t<0;return this._tDur=i?1e12:e,this._dur=i?e:(e-t*this._rDelay)/(t+1),this._dirty=0,CDe(this.parent),this},e.totalTime=function(e,t){if(le(),!arguments.length)return this._tTime;var i,n=this.parent||this._dp;if(n&&n.smoothChildTiming&&this._ts){for(i=this._start,this._start=n._time-(0<this._ts?e/this._ts:((this._dirty?this.totalDuration():this._tDur)-e)/-this._ts),this._end+=this._start-i,n._dirty||CDe(n);n.parent;)n.parent._time!==n._start+(0<n._ts?n._tTime/n._ts:(n.totalDuration()-n._tTime)/-n._ts)&&n.totalTime(n._tTime,!0),n=n.parent;!this.parent&&n.autoRemoveChildren&&IDe(n,this,this._start-this._delay)}return this._tTime===e&&(this._dur||t)||(this._ts||(this._pTime=e),pDe(this,e,t)),this},e.time=function(e,t){return arguments.length?this.totalTime(Math.min(this.totalDuration(),e+FDe(this))%this._dur||(e?this._dur:0),t):this._time},e.totalProgress=function(e,t){return arguments.length?this.totalTime(this.totalDuration()*e,t):this._tTime/this.totalDuration()},e.progress=function(e,t){return arguments.length?this.totalTime(this.duration()*(!this._yoyo||1&this.iteration()?e:1-e)+FDe(this),t):this.duration()?this._time/this._dur:this.ratio},e.iteration=function(e,t){var i=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(e-1)*i,t):this._repeat?Z(this._tTime,i)+1:1},e.timeScale=function(e){if(!arguments.length)return this._ts||this._pauseTS||0;if(null!==this._pauseTS)return this._pauseTS=e,this;var t=this.parent&&this._ts?HDe(this.parent._time,this):this._tTime;return this._ts=e,function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e}(this.totalTime(t,!0))},e.paused=function(e){var t=!this._ts;return arguments.length?(t!==e&&(e?(this._pauseTS=this._ts,this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(this._ts=this._pauseTS||1,this._pauseTS=null,e=this._tTime||this._pTime,1===this.progress()&&(this._tTime-=O),this.totalTime(e,!0))),this):t},e.startTime=function(e){return arguments.length?(this.parent&&this.parent._sort&&IDe(this.parent,this,e-this._delay),this):this._start},e.endTime=function(e){return this._start+(ECe(e)?this.totalDuration():this.duration())/Math.abs(this._ts)},e.rawTime=function(e){var t=this.parent||this._dp;return t?e&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?HDe(t.rawTime(e),this):this._tTime:this._tTime},e.repeat=function(e){return arguments.length?(this._repeat=e,MDe(this)):this._repeat},e.repeatDelay=function(e){return arguments.length?(this._rDelay=e,MDe(this)):this._rDelay},e.yoyo=function(e){return arguments.length?(this._yoyo=e,this):this._yoyo},e.seek=function(e,t){return this.totalTime(ODe(this,e),ECe(t))},e.restart=function(e,t){return this.play().totalTime(e?-this._delay:0,ECe(t))},e.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},e.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},e.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(e){var t=this._ts||this._pauseTS||0;return arguments.length?(e!==this.reversed()&&(this[null===this._pauseTS?"_ts":"_pauseTS"]=Math.abs(t)*(e?-1:1),this.totalTime(this._tTime,!0)),this):t<0},e.invalidate=function(){return this._initted=0,this},e.isActive=function(e){var t,i=this.parent||this._dp,n=this._start;return!(i&&!(this._ts&&(this._initted||!e)&&i.isActive(e)&&(t=i.rawTime(!0))>=n&&t<this.endTime(!0)-O))},e.eventCallback=function(e,t,i){var n=this.vars;return 1<arguments.length?(t?(n[e]=t,i&&(n[e+"Params"]=i),"onUpdate"===e&&(this._onUpdate=t)):delete n[e],this):n[e]},e.then=function(e){var n=this;return new Promise(function(t){function oOe(){var e=n.then;n.then=null,(i=i(n))&&(i.then||i===n?n.then=e:ACe(i)||(i=rDe)),t(i),n.then=e}var i=ACe(e)?e:rDe;n._initted&&1===n.totalProgress()&&0<=n._ts||!n._tTime&&n._ts<0?oOe():n._prom=oOe})},e.kill=function(){lEe(this)},Animation}();t.Animation=me,sDe(me.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:0,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-O,_prom:0,_pauseTS:null});var _e=function(n){function Timeline(e,t){var i;return void 0===e&&(e={}),(i=n.call(this,e,t)||this).labels={},i.smoothChildTiming=ECe(e.smoothChildTiming),i.autoRemoveChildren=!!e.autoRemoveChildren,i._sort=ECe(e.sortChildren),i}_inheritsLoose(Timeline,n);var e=Timeline.prototype;return e.to=function(e,t,i,n){return new Te(e,nDe(arguments,0,this),ODe(this,BCe(t)?n:i)),this},e.from=function(e,t,i,n){return new Te(e,nDe(arguments,1,this),ODe(this,BCe(t)?n:i)),this},e.fromTo=function(e,t,i,n,r){return new Te(e,nDe(arguments,2,this),ODe(this,BCe(t)?r:n)),this},e.set=function(e,t,i){return t.duration=0,t.parent=this,t.repeatDelay||(t.repeat=0),t.immediateRender=!!t.immediateRender,new Te(e,t,ODe(this,i)),this},e.call=function(e,t,i){return IDe(this,Te.delayedCall(0,e,t),ODe(this,i))},e.staggerTo=function(e,t,i,n,r,a,o){return i.duration=t,i.stagger=i.stagger||n,i.onComplete=a,i.onCompleteParams=o,i.parent=this,new Te(e,i,ODe(this,r)),this},e.staggerFrom=function(e,t,i,n,r,a,o){return i.runBackwards=1,i.immediateRender=ECe(i.immediateRender),this.staggerTo(e,t,i,n,r,a,o)},e.staggerFromTo=function(e,t,i,n,r,a,o,s){return n.startAt=i,n.immediateRender=ECe(n.immediateRender),this.staggerTo(e,t,n,r,a,o,s)},e.render=function(e,t,i){var n,r,a,o,s,l,u,h,d,c,p,f,m=this._time,_=this._dirty?this.totalDuration():this._tDur,g=this._dur,v=_-O<e&&0<=e&&this!==k?_:e<O?0:e,y=this._zTime<0!=e<0&&(this._initted||!g);if(v!==this._tTime||i||y){if(y&&(g||(m=this._zTime),!e&&t||(this._zTime=e)),n=v,d=this._start,l=0===(h=this._ts),m!==this._time&&g&&(n+=this._time-m),this._repeat&&(p=this._yoyo,s=g+this._rDelay,(g<(n=lDe(v%s))||_===v)&&(n=g),(o=~~(v/s))&&o===v/s&&(n=g,o--),p&&1&o&&(n=g-n,f=1),o!==(c=Z(this._tTime,s))&&!this._lock)){var b=p&&1&c,w=b===(p&&1&o);if(o<c&&(b=!b),m=b?0:g,this._lock=1,this.render(m,t,!g)._lock=0,!t&&this.parent&&ne(this,"onRepeat"),this.vars.repeatRefresh&&!f&&this.getChildren().forEach(function(e){return e.invalidate()}),m!==this._time||l!=!this._ts)return this;if(w&&(this._lock=2,m=b?g+1e-4:-1e-4,this.render(m,!0)),this._lock=0,!this._ts&&!l)return this}if(this._hasPause&&!this._forcing&&this._lock<2&&(u=function(e,t,i){var n;if(t<i)for(n=e._first;n&&n._start<=i;){if(!n._dur&&"isPause"===n.data&&n._start>t)return n;n=n._next}else for(n=e._last;n&&n._start>=i;){if(!n._dur&&"isPause"===n.data&&n._start<t)return n;n=n._prev}}(this,lDe(m),lDe(n)))&&(v-=n-(n=u._start)),this._tTime=v,this._time=n,this._act=!h,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1),m||!n||t||ne(this,"onStart"),m<=n&&0<=e)for(r=this._first;r;){if(a=r._next,(r._act||n>=r._start)&&r._ts&&u!==r){if(r.parent!==this)return this.render(e,t,i);if(r.render(0<r._ts?(n-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(n-r._start)*r._ts,t,i),n!==this._time||!this._ts&&!l){u=0;break}}r=a}else{r=this._last;for(var x=e<0?e:n;r;){if(a=r._prev,(r._act||x<=r._end)&&r._ts&&u!==r){if(r.parent!==this)return this.render(e,t,i);if(r.render(0<r._ts?(x-r._start)*r._ts:(r._dirty?r.totalDuration():r._tDur)+(x-r._start)*r._ts,t,i),n!==this._time||!this._ts&&!l){u=0;break}}r=a}}if(u&&!t&&(this.pause(),u.render(m<=n?0:-O)._zTime=m<=n?1:-1,this._ts))return this._start=d,this.render(e,t,i);this._onUpdate&&!t&&ne(this,"onUpdate",!0),(v===_&&_>=this.totalDuration()||!v&&this._ts<0)&&(d!==this._start&&Math.abs(h)===Math.abs(this._ts)||(!e&&g||!(e&&0<this._ts||!v&&this._ts<0)||BDe(this,1),t||e<0&&!m||(ne(this,v===_?"onComplete":"onReverseComplete",!0),this._prom&&this._prom())))}return this},e.add=function(e,t){var i=this;if(BCe(t)||(t=ODe(this,t)),!(e instanceof me)){if(P(e))return e.forEach(function(e){return i.add(e,t)}),CDe(this);if(zCe(e))return this.addLabel(e,t);if(!ACe(e))return this;e=Te.delayedCall(0,e)}return this!==e?IDe(this,e,t):this},e.getChildren=function(e,t,i,n){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===i&&(i=!0),void 0===n&&(n=-1e8);for(var r=[],a=this._first;a;)a._start>=n&&(a instanceof Te?t&&r.push(a):(i&&r.push(a),e&&r.push.apply(r,a.getChildren(!0,t,i)))),a=a._next;return r},e.getById=function(e){for(var t=this.getChildren(1,1,1),i=t.length;i--;)if(t[i].vars.id===e)return t[i]},e.remove=function(e){return zCe(e)?this.removeLabel(e):ACe(e)?this.killTweensOf(e):(ADe(this,e),e===this._recent&&(this._recent=this._last),CDe(this))},e.totalTime=function(e,t){return arguments.length?(this._forcing=1,this.parent||this._dp||!this._ts||(this._start=se.time-(0<this._ts?e/this._ts:(this.totalDuration()-e)/-this._ts)),n.prototype.totalTime.call(this,e,t),this._forcing=0,this):this._tTime},e.addLabel=function(e,t){return this.labels[e]=ODe(this,t),this},e.removeLabel=function(e){return delete this.labels[e],this},e.addPause=function(e,t,i){var n=Te.delayedCall(0,t||ZCe,i);return n.data="isPause",this._hasPause=1,IDe(this,n,ODe(this,e))},e.removePause=function(e){var t=this._first;for(e=ODe(this,e);t;)t._start===e&&"isPause"===t.data&&BDe(t),t=t._next},e.killTweensOf=function(e,t,i){for(var n=this.getTweensOf(e,i),r=n.length;r--;)ge!==n[r]&&n[r].kill(e,t);return this},e.getTweensOf=function(e,t){for(var i,n=[],r=te(e),a=this._first;a;)a instanceof Te?!mDe(a._targets,r)||t&&!a.isActive("started"===t)||n.push(a):(i=a.getTweensOf(r,t)).length&&n.push.apply(n,i),a=a._next;return n},e.tweenTo=function(e,t){var i=this,n=ODe(i,e),r=t&&t.startAt,a=Te.to(i,sDe({ease:"none",lazy:!1,time:n,duration:Math.abs(n-(r&&"time"in r?r.time:i._time))/i.timeScale()||O,onStart:function(){i.pause();var e=Math.abs(n-i._time)/i.timeScale();a._dur!==e&&(a._dur=e,a.render(a._time,!0,!0)),t&&t.onStart&&t.onStart.apply(a,t.onStartParams||[])}},t));return a},e.tweenFromTo=function(e,t,i){return this.tweenTo(t,sDe({startAt:{time:ODe(this,e)}},i))},e.recent=function(){return this._recent},e.nextLabel=function(e){return void 0===e&&(e=this._time),jEe(this,ODe(this,e))},e.previousLabel=function(e){return void 0===e&&(e=this._time),jEe(this,ODe(this,e),1)},e.currentLabel=function(e){return arguments.length?this.seek(e,!0):this.previousLabel(this._time+O)},e.shiftChildren=function(e,t,i){void 0===i&&(i=0);for(var n,r=this._first,a=this.labels;r;)r._start>=i&&(r._start+=e),r=r._next;if(t)for(n in a)a[n]>=i&&(a[n]+=e);return CDe(this)},e.invalidate=function(){var e=this._first;for(this._lock=0;e;)e.invalidate(),e=e._next;return n.prototype.invalidate.call(this)},e.clear=function(e){void 0===e&&(e=!0);for(var t,i=this._first;i;)t=i._next,this.remove(i),i=t;return this._time=this._tTime=0,e&&(this.labels={}),CDe(this)},e.totalDuration=function(e){var t,i,n=0,r=this,a=r._last,o=1e8,s=r._repeat,l=s*r._rDelay||0,u=s<0;if(arguments.length)return u?r:r.timeScale(r.totalDuration()/e);if(r._dirty){for(;a;)t=a._prev,a._dirty&&a.totalDuration(),a._start>o&&r._sort&&a._ts&&!r._lock?(r._lock=1,IDe(r,a,a._start-a._delay),r._lock=0):o=a._start,a._start<0&&a._ts&&(n-=a._start,(!r.parent&&!r._dp||r.parent&&r.parent.smoothChildTiming)&&(r._start+=a._start/r._ts,r._time-=a._start,r._tTime-=a._start),r.shiftChildren(-a._start,!1,-1e20),o=0),n<(i=a._end=a._start+a._tDur/Math.abs(a._ts||a._pauseTS||O))&&a._ts&&(n=lDe(i)),a=t;r._dur=r===k&&r._time>n?r._time:Math.min(1e8,n),r._tDur=u&&(r._dur||l)?1e12:Math.min(1e8,n*(s+1)+l),r._end=r._start+(r._tDur/Math.abs(r._ts||r._pauseTS||O)||0),r._dirty=0}return r._tDur},Timeline.updateRoot=function(e){if(k._ts&&(pDe(k,HDe(e,k)),s=se.frame),se.frame>=q){q+=T.autoSleep||120;var t=k._first;if((!t||!t._ts)&&T.autoSleep&&se._listeners.length<2){for(;t&&!t._ts;)t=t._next;t||se.sleep()}}},Timeline}(me);t.TimelineLite=t.TimelineMax=t.Timeline=_e,sDe(_e.prototype,{_lock:0,_hasPause:0,_forcing:0});function QEe(e,t,i,n,r,a){var o,s,l,u;if(W[e]&&!1!==(o=new W[e]).init(r,o.rawVars?t[e]:function(e,t,i,n,r){if(ACe(e)&&(e=be(e,r,t,i,n)),!DCe(e)||e.style&&e.nodeType||P(e))return zCe(e)?be(e,r,t,i,n):e;var a,o={};for(a in e)o[a]=be(e[a],r,t,i,n);return o}(t[e],n,r,a,i),i,n,a)&&(i._pt=s=new Oe(i._pt,r,e,0,1,o.render,o,0,o.priority),i!==h))for(l=i._ptLookup[i._targets.indexOf(r)],u=o._props.length;u--;)l[o._props[u]]=s;return o}var ge,ve=function(e,t,i,n,r,a,o,s,l){ACe(n)&&(n=n(r||0,e,a));var u,h=e[t],d="get"!==i?i:ACe(h)?l?e[t.indexOf("set")||!ACe(e["get"+t.substr(3)])?t:"get"+t.substr(3)](l):e[t]():h,c=ACe(h)?l?Le:Me:Se;if(zCe(n)&&(~n.indexOf("random(")&&(n=gEe(n)),"="===n.charAt(1)&&(n=parseFloat(d)+parseFloat(n.substr(2))*("-"===n.charAt(0)?-1:1)+(RDe(d)||0))),d!==n)return isNaN(d+n)?function(e,t,i,n,r,a,o){var s,l,u,h,d,c,p,f,m=new Oe(this._pt,e,t,0,1,Pe,null,r),_=0,g=0;for(m.b=i,m.e=n,i+="",(p=~(n+="").indexOf("random("))&&(n=gEe(n)),a&&(a(f=[i,n],e,t),i=f[0],n=f[1]),l=i.match(B)||[];s=B.exec(n);)h=s[0],d=n.substring(_,s.index),u?u=(u+1)%5:"rgba("===d.substr(-5)&&(u=1),h!==l[g++]&&(c=parseFloat(l[g-1])||0,m._pt={_next:m._pt,p:d||1===g?d:",",s:c,c:"="===h.charAt(1)?parseFloat(h.substr(2))*("-"===h.charAt(0)?-1:1):parseFloat(h)-c,m:u&&u<4?Math.round:0},_=B.lastIndex);return m.c=_<n.length?n.substring(_,n.length):"",m.fp=o,(F.test(n)||p)&&(m.e=0),this._pt=m}.call(this,e,t,d,n,c,s||T.stringFilter,l):(u=new Oe(this._pt,e,t,+d||0,n-(d||0),"boolean"==typeof h?Ae:Ce,0,c),l&&(u.fp=l),o&&u.modifier(o,this,e),this._pt=u)},ye=function _initTween(e,t){var i,n,r,a,o,s,l,u,h,d,c,p,f=e.vars,m=f.ease,_=f.startAt,g=f.immediateRender,v=f.lazy,y=f.onUpdate,b=f.onUpdateParams,w=f.callbackScope,x=f.runBackwards,T=f.yoyoEase,S=f.keyframes,M=f.autoRevert,L=e._dur,E=e._startAt,C=e._targets,A=e.parent,P=A&&"nested"===A.data?A.parent._targets:C,D="auto"===e._overwrite,R=e.timeline;if(!R||S&&m||(m="none"),e._ease=pe(m,I.ease),e._yEase=T?ce(pe(!0===T?m:T,I.ease)):0,T&&e._yoyo&&!e._repeat&&(T=e._yEase,e._yEase=e._ease,e._ease=T),!R){if(E&&E.render(-1,!0).kill(),_){if(BDe(e._startAt=Te.set(C,sDe({data:"isStart",overwrite:!1,parent:A,immediateRender:!0,lazy:ECe(v),startAt:null,delay:0,onUpdate:y,onUpdateParams:b,callbackScope:w,stagger:0},_))),g)if(0<t)M||(e._startAt=0);else if(L)return}else if(x&&L)if(E)M||(e._startAt=0);else if(t&&(g=!1),BDe(e._startAt=Te.set(C,J(wDe(f,z),{overwrite:!1,data:"isFromStart",lazy:g&&ECe(v),immediateRender:g,stagger:0,parent:A}))),g){if(!t)return}else _initTween(e._startAt,O);for(i=wDe(f,z),p=(u=C[e._pt=0]?iDe(C[0]).harness:0)&&f[u.prop],v=L&&ECe(v)||v&&!L,n=0;n<C.length;n++){if(l=(o=C[n])._gsap||hDe(C)[n]._gsap,e._ptLookup[n]=d={},H[l.id]&&oDe(),c=P===C?n:P.indexOf(o),u&&!1!==(h=new u).init(o,p||i,e,c,P)&&(e._pt=a=new Oe(e._pt,o,h.name,0,1,h.render,h,0,h.priority),h._props.forEach(function(e){d[e]=a}),h.priority&&(s=1)),!u||p)for(r in i)W[r]&&(h=QEe(r,i,e,c,o,P))?h.priority&&(s=1):d[r]=a=ve.call(e,o,r,"get",i[r],c,P,0,f.stringFilter);e._op&&e._op[n]&&e.kill(o,e._op[n]),D&&e._pt&&(ge=e,k.killTweensOf(o,d,"started"),ge=0),e._pt&&v&&(H[l.id]=1)}s&&Ie(e),e._onInit&&e._onInit(e)}e._from=!R&&!!f.runBackwards,e._onUpdate=y,e._initted=1},be=function(e,t,i,n,r){return ACe(e)?e.call(t,i,n,r):zCe(e)&&~e.indexOf("random(")?gEe(e):e},we=K+",repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase",xe=(we+",id,stagger,delay,duration,paused").split(",");t._checkPlugin=QEe;var Te=function(w){function Tween(e,t,i){var n;"number"==typeof t&&(i.duration=t,t=i,i=null);var r,a,o,s,l,u,h,d,c=(n=w.call(this,function(e){var t=e.parent||k,i=e.keyframes?tDe:sDe;if(ECe(e.inherit))for(;t;)i(e,t.vars.defaults),t=t.parent;return e}(t),i)||this).vars,p=c.duration,f=c.delay,m=c.immediateRender,_=c.stagger,g=c.overwrite,v=c.keyframes,y=c.defaults,b=P(e)&&BCe(e[0])?[e]:te(e);if(n._targets=b.length?hDe(b):XCe(0,!T.nullTargetWarn)||[],n._ptLookup=[],n._overwrite=g,v||_||GCe(p)||GCe(f)){if(t=n.vars,(r=n.timeline=new _e({data:"nested",defaults:y||{}})).kill(),r.parent=_assertThisInitialized(n),v)sDe(r.vars.defaults,{ease:"none"}),v.forEach(function(e){return r.to(b,e,">")});else{if(s=b.length,h=_?YDe(_):ZCe,DCe(_))for(l in _)~we.indexOf(l)&&((d=d||{})[l]=_[l]);for(a=0;a<s;a++){for(l in o={},t)xe.indexOf(l)<0&&(o[l]=t[l]);o.stagger=0,d&&J(o,d),t.yoyoEase&&!t.repeat&&(o.yoyoEase=t.yoyoEase),u=b[a],o.duration=+be(p,_assertThisInitialized(n),a,u,b),o.delay=(+be(f,_assertThisInitialized(n),a,u,b)||0)-n._delay,!_&&1===s&&o.delay&&(n._delay=f=o.delay,n._start+=f,o.delay=0),r.to(u,o,h(a,u,b))}p=f=0}p||n.duration(p=r.duration())}else n.timeline=0;return!0===g&&(ge=_assertThisInitialized(n),k.killTweensOf(b),ge=0),(m||!p&&!v&&n._start===n.parent._time&&ECe(m)&&function _hasNoPausedAncestors(e){return!e||e._ts&&_hasNoPausedAncestors(e.parent)}(_assertThisInitialized(n))&&"nested"!==n.parent.data)&&(n._tTime=-O,n.render(Math.max(0,-f))),n}_inheritsLoose(Tween,w);var e=Tween.prototype;return e.render=function(e,t,i){var n,r,a,o,s,l,u,h,d,c=this._time,p=this._tDur,f=this._dur,m=p-O<e&&0<=e?p:e<O?0:e;if(f){if(m!==this._tTime||!e||i||this._startAt&&this._zTime<0!=e<0){if(n=m,h=this.timeline,this._repeat){if(o=f+this._rDelay,f<(n=lDe(m%o))&&(n=f),(a=~~(m/o))&&a===m/o&&(n=f,a--),(l=this._yoyo&&1&a)&&(d=this._yEase,n=f-n),s=Z(this._tTime,o),n===c&&!i&&this._initted)return this;a!==s&&(!this.vars.repeatRefresh||l||this._lock||(this._lock=i=1,this.render(o*a,!0).invalidate()._lock=0))}if(!this._initted&&JDe(this,n,i,t))return this._tTime=0,this;for(this._tTime=m,this._time=n,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=u=(d||this._ease)(n/f),this._from&&(this.ratio=u=1-u),c||!n||t||ne(this,"onStart"),r=this._pt;r;)r.r(u,r.d),r=r._next;h&&h.render(e<0?e:!n&&l?-O:h._dur*u,t,i)||this._startAt&&(this._zTime=e),this._onUpdate&&!t&&(e<0&&this._startAt&&this._startAt.render(e,!0,i),ne(this,"onUpdate")),this._repeat&&a!==s&&this.vars.onRepeat&&!t&&this.parent&&ne(this,"onRepeat"),m!==this._tDur&&m||this._tTime!==m||(e<0&&this._startAt&&!this._onUpdate&&this._startAt.render(e,!0,i),!e&&f||!(e&&0<this._ts||!m&&this._ts<0)||BDe(this,1),t||e<0&&!c||(ne(this,m===p?"onComplete":"onReverseComplete",!0),this._prom&&this._prom()))}}else!function(e,t,i,n){var r,a=e._zTime<0?0:1,o=t<0?0:1,s=e._rDelay,l=0;if(s&&e._repeat&&(l=$(0,e._tDur,t),Z(l,s)!==Z(e._tTime,s)&&(a=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),(e._initted||!JDe(e,t,n,i))&&(o!==a||n||e._zTime===O||!t&&e._zTime)){for(e._zTime=t||(i?O:0),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=l,i||ne(e,"onStart"),r=e._pt;r;)r.r(o,r.d),r=r._next;!o&&e._startAt&&!e._onUpdate&&e._start&&e._startAt.render(t,!0,n),e._onUpdate&&!i&&ne(e,"onUpdate"),l&&e._repeat&&!i&&e.parent&&ne(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(e.ratio&&BDe(e,1),i||(ne(e,e.ratio?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}}(this,e,t,i);return this},e.targets=function(){return this._targets},e.invalidate=function(){return this._pt=this._op=this._startAt=this._onUpdate=this._act=this._lazy=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(),w.prototype.invalidate.call(this)},e.kill=function(e,t){if(void 0===t&&(t="all"),!(e||t&&"all"!==t)&&(this._lazy=0,this.parent))return lEe(this);if(this.timeline)return this.timeline.killTweensOf(e,t,ge&&!0!==ge.vars.overwrite),this;var i,n,r,a,o,s,l,u=this._targets,h=e?te(e):u,d=this._ptLookup,c=this._pt;if((!t||"all"===t)&&function(e,t){for(var i=e.length,n=i===t.length;n&&i--&&e[i]===t[i];);return i<0}(u,h))return lEe(this);for(i=this._op=this._op||[],"all"!==t&&(zCe(t)&&(o={},kDe(t,function(e){return o[e]=1}),t=o),t=function(e,t){var i,n,r,a,o=e[0]?iDe(e[0]).harness:0,s=o&&o.aliases;if(!s)return t;for(n in i=J({},t),s)if(n in i)for(r=(a=s[n].split(",")).length;r--;)i[a[r]]=i[n];return i}(u,t)),l=u.length;l--;)if(~h.indexOf(u[l]))for(o in n=d[l],"all"===t?(i[l]=t,a=n,r={}):(r=i[l]=i[l]||{},a=t),a)(s=n&&n[o])&&("kill"in s.d&&!0!==s.d.kill(o)||ADe(this,s,"_pt"),delete n[o]),"all"!==r&&(r[o]=1);return this._initted&&!this._pt&&c&&lEe(this),this},Tween.to=function(e,t,i){return new Tween(e,t,i)},Tween.from=function(e,t){return new Tween(e,nDe(arguments,1))},Tween.delayedCall=function(e,t,i,n){return new Tween(t,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:e,onComplete:t,onReverseComplete:t,onCompleteParams:i,onReverseCompleteParams:i,callbackScope:n})},Tween.fromTo=function(e,t,i){return new Tween(e,nDe(arguments,2))},Tween.set=function(e,t){return t.duration=0,t.repeatDelay||(t.repeat=0),new Tween(e,t)},Tween.killTweensOf=function(e,t,i){return k.killTweensOf(e,t,i)},Tween}(me);t.TweenLite=t.TweenMax=t.Tween=Te,sDe(Te.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0}),kDe("staggerTo,staggerFrom,staggerFromTo",function(i){Te[i]=function(){var e=new _e,t=ee.call(arguments,0);return t.splice("staggerFromTo"===i?5:4,0,0),e[i].apply(e,t)}});function _Ee(e,t,i){return e.setAttribute(t,i)}function hFe(e,t,i,n){n.mSet(e,t,n.m.call(n.tween,i,n.mt),n)}var Se=function(e,t,i){return e[t]=i},Me=function(e,t,i){return e[t](i)},Le=function(e,t,i,n){return e[t](n.fp,i)},Ee=function(e,t){return ACe(e[t])?Me:CCe(e[t])&&e.setAttribute?_Ee:Se},Ce=function(e,t){return t.set(t.t,t.p,Math.round(1e4*(t.s+t.c*e))/1e4,t)},Ae=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},Pe=function(e,t){var i=t._pt,n="";if(!e&&t.b)n=t.b;else if(1===e&&t.e)n=t.e;else{for(;i;)n=i.p+(i.m?i.m(i.s+i.c*e):Math.round(1e4*(i.s+i.c*e))/1e4)+n,i=i._next;n+=t.c}t.set(t.t,t.p,n,t)},De=function(e,t){for(var i=t._pt;i;)i.r(e,i.d),i=i._next},Re=function(e,t,i,n){for(var r,a=this._pt;a;)r=a._next,a.p===n&&a.modifier(e,t,i),a=r},ke=function(e){for(var t,i,n=this._pt;n;)i=n._next,n.p===e&&!n.op||n.op===e?ADe(this,n,"_pt"):n.dep||(t=1),n=i;return!t},Ie=function(e){for(var t,i,n,r,a=e._pt;a;){for(t=a._next,i=n;i&&i.pr>a.pr;)i=i._next;(a._prev=i?i._prev:r)?a._prev._next=a:n=a,(a._next=i)?i._prev=a:r=a,a=t}e._pt=n};t._sortPropTweensByPriority=Ie,t._renderComplexString=Pe,t._getSetter=Ee;var Oe=function(){function PropTween(e,t,i,n,r,a,o,s,l){this.t=t,this.s=n,this.c=r,this.p=i,this.r=a||Ce,this.d=o||this,this.set=s||Se,this.pr=l||0,(this._next=e)&&(e._prev=this)}return PropTween.prototype.modifier=function(e,t,i){this.mSet=this.mSet||this.set,this.set=hFe,this.m=e,this.mt=i,this.tween=t},PropTween}();t.PropTween=Oe,kDe(K+",parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert",function(e){z[e]=1,"on"===e.substr(0,2)&&(z[e+"Params"]=1)}),U.TweenMax=U.TweenLite=Te,U.TimelineLite=U.TimelineMax=_e,k=new _e({sortChildren:!1,defaults:I,autoRemoveChildren:!0,id:"root"}),T.stringFilter=vEe;var Be={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];t.forEach(function(e){return function(e){var t=(e=!e.name&&e.default||e).name,i=ACe(e),n=t&&!i&&e.init?function(){this._props=[]}:e,r={init:ZCe,render:De,add:ve,kill:ke,modifier:Re,rawVars:0},a={targetTest:0,get:0,getSetter:Ee,aliases:{},register:0};if(le(),e!==n){if(W[t])return;sDe(n,sDe(wDe(e,r),a)),J(n.prototype,J(r,wDe(e,a))),W[n.prop=t]=n,e.targetTest&&(X.push(n),z[t]=1),t=("css"===t?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}YCe(t,n),e.register&&e.register(Ne,n,Oe)}(e)})},timeline:function(e){return new _e(e)},getTweensOf:function(e,t){return k.getTweensOf(e,t)},getProperty:function(n,e,t,i){zCe(n)&&(n=te(n)[0]);var r=iDe(n||{}).get,a=t?rDe:qDe;return"native"===t&&(t=""),n?e?a((W[e]&&W[e].get||r)(n,e,t,i)):function(e,t,i){return a((W[e]&&W[e].get||r)(n,e,t,i))}:n},quickSetter:function(i,t,n){if(1<(i=te(i)).length){var r=i.map(function(e){return Ne.quickSetter(e,t,n)}),a=r.length;return function(e){for(var t=a;t--;)r[t](e)}}i=i[0]||{};var o=W[t],s=iDe(i),l=o?function(e){var t=new o;h._pt=0,t.init(i,n?e+n:e,h,0,[i]),t.render(1,t),h._pt&&De(1,h)}:s.set(i,t);return o?l:function(e){return l(i,t,n?e+n:e,s,1)}},isTweening:function(e){return 0<k.getTweensOf(e,!0).length},defaults:function(e){return e&&e.ease&&(e.ease=pe(e.ease,I.ease)),vDe(I,e||{})},config:function(e){return vDe(T,e||{})},registerEffect:function(e){var n=e.name,i=e.effect,t=e.plugins,r=e.defaults,a=e.extendTimeline;(t||"").split(",").forEach(function(e){return e&&!W[e]&&!U[e]&&XCe()}),V[n]=function(e,t){return i(te(e),sDe(t||{},r))},a&&(_e.prototype[n]=function(e,t,i){return this.add(V[n](e,DCe(t)?t:(i=t)&&{}),i)})},registerEase:function(e,t){ue[e]=pe(t)},parseEase:function(e,t){return arguments.length?pe(e,t):ue},getById:function(e){return k.getById(e)},exportRoot:function(e,t){void 0===e&&(e={});var i,n,r=new _e(e);for(r.smoothChildTiming=ECe(e.smoothChildTiming),k.remove(r),r._dp=0,r._time=r._tTime=k._time,i=k._first;i;)n=i._next,!t&&!i._dur&&i instanceof Te&&i.vars.onComplete===i._targets[0]||IDe(r,i,i._start-i._delay),i=n;return IDe(k,r,0),r},utils:{wrap:eEe,wrapYoyo:fEe,distribute:YDe,random:_De,snap:$De,normalize:cEe,getUnit:RDe,clamp:SDe,splitColor:rEe,toArray:te,mapRange:ie,pipe:aEe,unitize:bEe,interpolate:iEe,shuffle:XDe},install:VCe,effects:V,ticker:se,updateRoot:_e.updateRoot,plugins:W,globalTimeline:k,core:{PropTween:Oe,globals:YCe,Tween:Te,Timeline:_e,Animation:me,getCache:iDe}};kDe("to,from,fromTo,delayedCall,set,killTweensOf",function(e){return Be[e]=Te[e]}),se.add(_e.updateRoot),h=Be.to({},{duration:0});function lFe(e,t){for(var i=e._pt;i&&i.p!==t&&i.op!==t&&i.fp!==t;)i=i._next;return i}function nFe(e,r){return{name:e,rawVars:1,init:function(e,n,t){t._onInit=function(e){var t,i;if(zCe(n)&&(t={},kDe(n,function(e){return t[e]=1}),n=t),r){for(i in t={},n)t[i]=r(n[i]);n=t}!function(e,t){var i,n,r,a=e._targets;for(i in t)for(n=a.length;n--;)(r=(r=e._ptLookup[n][i])&&r.d)&&(r._pt&&(r=lFe(r,i)),r&&r.modifier&&r.modifier(t[i],e,a[n],i))}(e,n)}}}}var Ne=Be.registerPlugin({name:"attr",init:function(e,t,i,n,r){for(var a in t)this.add(e,"setAttribute",(e.getAttribute(a)||0)+"",t[a],n,r,0,0,a),this._props.push(a)}},{name:"endArray",init:function(e,t){for(var i=t.length;i--;)this.add(e,i,e[i]||0,t[i])}},nFe("roundProps",ZDe),nFe("modifiers"),nFe("snap",$De))||Be;t.default=t.gsap=Ne,Te.version=_e.version=Ne.version="3.1.1",o=1,FCe()&&le();var Fe=ue.Power0,Ye=ue.Power1,Ue=ue.Power2,je=ue.Power3,ze=ue.Power4,Ge=ue.Linear,He=ue.Quad,We=ue.Cubic,Ve=ue.Quart,qe=ue.Quint,Xe=ue.Strong,Ke=ue.Elastic,Je=ue.Back,Ze=ue.SteppedEase,Qe=ue.Bounce,$e=ue.Sine,et=ue.Expo,tt=ue.Circ;t.Circ=tt,t.Expo=et,t.Sine=$e,t.Bounce=Qe,t.SteppedEase=Ze,t.Back=Je,t.Elastic=Ke,t.Strong=Xe,t.Quint=qe,t.Quart=Ve,t.Cubic=We,t.Quad=He,t.Linear=Ge,t.Power4=ze,t.Power3=je,t.Power2=Ue,t.Power1=Ye,t.Power0=Fe},function(e){e.exports=JSON.parse('{"default":["fonts/day_count_green.png","fonts/day_count_red.png","img/banner_android.png","img/banner_ios.png","img/content/logos/titles/logo_ar.png","img/content/logos/titles/logo_ch.png","img/content/logos/titles/logo_en.png","img/content/logos/titles/logo_es.png","img/content/logos/titles/logo_es419.png","img/content/logos/titles/logo_hu.png","img/content/logos/titles/logo_jp.png","img/content/logos/titles/logo_pl.png","img/content/logos/titles/logo_pt.png","img/content/logos/titles/logo_ptbr.png","img/content/logos/titles/logo_ro.png","img/content/logos/titles/logo_ru.png","img/content/logos/titles/logo_tr.png","img/content/stadiums/core-assets/beach-stadium/background-artwork.jpg","img/content/stadiums/core-assets/beach-stadium/bleacher/crowd_01.png","img/content/stadiums/core-assets/beach-stadium/bleacher/crowd_02.png","img/content/stadiums/core-assets/beach-stadium/bleacher/crowd_03.png","img/content/stadiums/core-assets/beach-stadium/bleacher/crowd_04.png","img/content/stadiums/core-assets/beach-stadium/front-crowd.png","img/content/stadiums/core-assets/beach-stadium/goal-texture.png","img/content/stadiums/core-assets/beach-stadium/pitch-full.jpg","img/content/stadiums/core-assets/beach-stadium/run-off.jpg","img/content/stadiums/core-assets/default-stadium/background-artwork.jpg","img/content/stadiums/core-assets/default-stadium/bleacher/crowd_01.png","img/content/stadiums/core-assets/default-stadium/bleacher/crowd_02.png","img/content/stadiums/core-assets/default-stadium/bleacher/crowd_03.png","img/content/stadiums/core-assets/default-stadium/bleacher/crowd_04.png","img/content/stadiums/core-assets/default-stadium/front-crowd.png","img/content/stadiums/core-assets/default-stadium/goal-texture.png","img/content/stadiums/core-assets/default-stadium/pitch-full.jpg","img/content/stadiums/core-assets/default-stadium/run-off.jpg","img/content/stadiums/core-assets/tokyo-stadium/background-artwork.jpg","img/content/stadiums/core-assets/tokyo-stadium/bleacher/crowd_01.png","img/content/stadiums/core-assets/tokyo-stadium/bleacher/crowd_02.png","img/content/stadiums/core-assets/tokyo-stadium/bleacher/crowd_03.png","img/content/stadiums/core-assets/tokyo-stadium/bleacher/crowd_04.png","img/content/stadiums/core-assets/tokyo-stadium/front-crowd.png","img/content/stadiums/core-assets/tokyo-stadium/goal-texture.png","img/content/stadiums/core-assets/tokyo-stadium/pitch-full.jpg","img/content/stadiums/core-assets/tokyo-stadium/run-off.jpg","img/content/stadiums/core-assets/urban-stadium/background-artwork.jpg","img/content/stadiums/core-assets/urban-stadium/bleacher/crowd_01.png","img/content/stadiums/core-assets/urban-stadium/bleacher/crowd_02.png","img/content/stadiums/core-assets/urban-stadium/bleacher/crowd_03.png","img/content/stadiums/core-assets/urban-stadium/bleacher/crowd_04.png","img/content/stadiums/core-assets/urban-stadium/front-crowd.png","img/content/stadiums/core-assets/urban-stadium/goal-texture.png","img/content/stadiums/core-assets/urban-stadium/pitch-full.jpg","img/content/stadiums/core-assets/urban-stadium/run-off.jpg","img/content/stadiums/core-assets/winter-stadium/background-artwork.jpg","img/content/stadiums/core-assets/winter-stadium/bleacher/crowd_01.png","img/content/stadiums/core-assets/winter-stadium/bleacher/crowd_02.png","img/content/stadiums/core-assets/winter-stadium/bleacher/crowd_03.png","img/content/stadiums/core-assets/winter-stadium/bleacher/crowd_04.png","img/content/stadiums/core-assets/winter-stadium/front-crowd.png","img/content/stadiums/core-assets/winter-stadium/goal-texture.png","img/content/stadiums/core-assets/winter-stadium/pitch-full.jpg","img/content/stadiums/core-assets/winter-stadium/run-off.jpg","img/orientation_ipad.jpg","img/orientation_iphone.jpg","models/GOAL.obj","models/balls/powerups/ball-snowball.obj","models/balls/skins/ball-default.obj"],"ball-textures":["img/content/balls/ball-textures/01-standard-ball-texture.jpg","img/content/balls/ball-textures/02-rainbow-ball-texture.jpg","img/content/balls/ball-textures/03-beach1-ball-texture.jpg","img/content/balls/ball-textures/04-beach2-ball-texture.jpg","img/content/balls/ball-textures/05-tokyo1-ball-texture.jpg","img/content/balls/ball-textures/06-tokyo2-ball-texture.jpg","img/content/balls/ball-textures/07-urban1-ball-texture.jpg","img/content/balls/ball-textures/08-urban2-ball-texture.jpg","img/content/balls/ball-textures/brand-adventure-ball-texture.jpg","img/content/balls/ball-textures/brand-bearbear-ball-texture.jpg","img/content/balls/ball-textures/brand-ben10-ball-texture.jpg","img/content/balls/ball-textures/brand-gumball-ball-texture.jpg","img/content/balls/ball-textures/brand-powerpuff-ball-texture.jpg","img/content/balls/ball-textures/brand-steven-ball-texture.jpg","img/content/balls/ball-textures/brand-summer-ball-texture.jpg","img/content/balls/ball-textures/brand-tooncup-ball-texture.jpg","img/content/balls/ball-textures/general-bumblebee-ball-texture.jpg","img/content/balls/ball-textures/general-cyber-ball-texture.jpg","img/content/balls/ball-textures/general-fire-ball-texture.jpg","img/content/balls/ball-textures/general-monster-ball-texture.jpg","img/content/balls/ball-textures/general-poison-ball-texture.jpg","img/content/balls/ball-textures/general-rock-ball-texture.jpg","img/content/balls/ball-textures/general-stars-ball-texture.jpg","img/content/balls/ball-textures/general-tech-ball-texture.jpg"],"ball-thumbs":["img/content/balls/ball-thumbs/ball-thumbs.json"],"banners-default":["img/content/banners/banners-default/main-menu-sponsor.jpg","img/content/banners/banners-default/pitch-banner.jpg","img/content/banners/banners-default/pitch-circle-banner.png"],"banners-winter":["img/content/banners/banners-winter/pitch-banner-winter.jpg"],"anais-blue":["img/content/characters/animations/anais/anais-blue/anais-blue.json"],"anais-red":["img/content/characters/animations/anais/anais-red/anais-red.json"],"apple-blue":["img/content/characters/animations/apple/apple-blue/apple-blue.json"],"apple-red":["img/content/characters/animations/apple/apple-red/apple-red.json"],"badgerclops-blue":["img/content/characters/animations/badgerclops/badgerclops-blue/badgerclops-blue.json"],"badgerclops-red":["img/content/characters/animations/badgerclops/badgerclops-red/badgerclops-red.json"],"batgirl-blue":["img/content/characters/animations/batgirl/batgirl-blue/batgirl-blue.json"],"batgirl-red":["img/content/characters/animations/batgirl/batgirl-red/batgirl-red.json"],"ben10-blue":["img/content/characters/animations/ben10/ben10-blue/ben10-blue.json"],"ben10-red":["img/content/characters/animations/ben10/ben10-red/ben10-red.json"],"blossom-blue":["img/content/characters/animations/blossom/blossom-blue/blossom-blue.json"],"blossom-red":["img/content/characters/animations/blossom/blossom-red/blossom-red.json"],"bmo-blue":["img/content/characters/animations/bmo/bmo-blue/bmo-blue.json"],"bmo-red":["img/content/characters/animations/bmo/bmo-red/bmo-red.json"],"bubbles-blue":["img/content/characters/animations/bubbles/bubbles-blue/bubbles-blue.json"],"bubbles-red":["img/content/characters/animations/bubbles/bubbles-red/bubbles-red.json"],"buttercup-blue":["img/content/characters/animations/buttercup/buttercup-blue/buttercup-blue.json"],"buttercup-red":["img/content/characters/animations/buttercup/buttercup-red/buttercup-red.json"],"craig-blue":["img/content/characters/animations/craig/craig-blue/craig-blue.json"],"craig-red":["img/content/characters/animations/craig/craig-red/craig-red.json"],"cyborg-blue":["img/content/characters/animations/cyborg/cyborg-blue/cyborg-blue.json"],"cyborg-red":["img/content/characters/animations/cyborg/cyborg-red/cyborg-red.json"],"darwin-blue":["img/content/characters/animations/darwin/darwin-blue/darwin-blue.json"],"darwin-red":["img/content/characters/animations/darwin/darwin-red/darwin-red.json"],"finn-blue":["img/content/characters/animations/finn/finn-blue/finn-blue.json"],"finn-red":["img/content/characters/animations/finn/finn-red/finn-red.json"],"fourarms-blue":["img/content/characters/animations/fourarms/fourarms-blue/fourarms-blue.json"],"fourarms-red":["img/content/characters/animations/fourarms/fourarms-red/fourarms-red.json"],"goalkeeper":["img/content/characters/animations/goalkeeper/goalkeeper-blue/goalkeeper-blue.json","img/content/characters/animations/goalkeeper/goalkeeper-red/goalkeeper-red.json"],"grizz-blue":["img/content/characters/animations/grizz/grizz-blue/grizz-blue.json"],"grizz-red":["img/content/characters/animations/grizz/grizz-red/grizz-red.json"],"gumball-blue":["img/content/characters/animations/gumball/gumball-blue/gumball-blue.json"],"gumball-red":["img/content/characters/animations/gumball/gumball-red/gumball-red.json"],"icebear-blue":["img/content/characters/animations/icebear/icebear-blue/icebear-blue.json"],"icebear-red":["img/content/characters/animations/icebear/icebear-red/icebear-red.json"],"jake-blue":["img/content/characters/animations/jake/jake-blue/jake-blue.json"],"jake-red":["img/content/characters/animations/jake/jake-red/jake-red.json"],"kelsey-blue":["img/content/characters/animations/kelsey/kelsey-blue/kelsey-blue.json"],"kelsey-red":["img/content/characters/animations/kelsey/kelsey-red/kelsey-red.json"],"maomao-blue":["img/content/characters/animations/maomao/maomao-blue/maomao-blue.json"],"maomao-red":["img/content/characters/animations/maomao/maomao-red/maomao-red.json"],"marceline-blue":["img/content/characters/animations/marceline/marceline-blue/marceline-blue.json"],"marceline-red":["img/content/characters/animations/marceline/marceline-red/marceline-red.json"],"mojo-blue":["img/content/characters/animations/mojo/mojo-blue/mojo-blue.json"],"mojo-red":["img/content/characters/animations/mojo/mojo-red/mojo-red.json"],"onion-blue":["img/content/characters/animations/onion/onion-blue/onion-blue.json"],"onion-red":["img/content/characters/animations/onion/onion-red/onion-red.json"],"panda-blue":["img/content/characters/animations/panda/panda-blue/panda-blue.json"],"panda-red":["img/content/characters/animations/panda/panda-red/panda-red.json"],"princess-blue":["img/content/characters/animations/princess/princess-blue/princess-blue.json"],"princess-red":["img/content/characters/animations/princess/princess-red/princess-red.json"],"raven-blue":["img/content/characters/animations/raven/raven-blue/raven-blue.json"],"raven-red":["img/content/characters/animations/raven/raven-red/raven-red.json"],"richard-blue":["img/content/characters/animations/richard/richard-blue/richard-blue.json"],"richard-red":["img/content/characters/animations/richard/richard-red/richard-red.json"],"robin-blue":["img/content/characters/animations/robin/robin-blue/robin-blue.json"],"robin-red":["img/content/characters/animations/robin/robin-red/robin-red.json"],"starfire-blue":["img/content/characters/animations/starfire/starfire-blue/starfire-blue.json"],"starfire-red":["img/content/characters/animations/starfire/starfire-red/starfire-red.json"],"wonderwoman-blue":["img/content/characters/animations/wonderwoman/wonderwoman-blue/wonderwoman-blue.json"],"wonderwoman-red":["img/content/characters/animations/wonderwoman/wonderwoman-red/wonderwoman-red.json"],"xlr8-blue":["img/content/characters/animations/xlr8/xlr8-blue/xlr8-blue.json"],"xlr8-red":["img/content/characters/animations/xlr8/xlr8-red/xlr8-red.json"],"character-photoshoots":["img/content/characters/character-photoshoots/character-photoshoots.json"],"character-posters":["img/content/characters/character-posters/character-poster-badgerclops.jpg","img/content/characters/character-posters/character-poster-batgirl.jpg","img/content/characters/character-posters/character-poster-kelsey.jpg","img/content/characters/character-posters/character-poster-onion.jpg","img/content/characters/character-posters/character-poster-raven.jpg","img/content/characters/character-posters/character-poster-xlr8.jpg"],"character-profiles":["img/content/characters/character-profiles/character-profiles.json"],"character-splashes":["img/content/characters/character-splashes/character-splashes.json"],"character-supershots":["img/content/characters/character-supershots/character-supershots-1.json","img/content/characters/character-supershots/character-supershots-0.json"],"flag-logos":["img/content/logos/flag-logos/flag-logos.json"],"show-logos":["img/content/logos/show-logos/show-logos.json"],"tokyo-decorations":["img/content/stadiums/core-assets/tokyo-stadium/tokyo-decorations/petal1_01.png","img/content/stadiums/core-assets/tokyo-stadium/tokyo-decorations/petal2_01.png","img/content/stadiums/core-assets/tokyo-stadium/tokyo-decorations/petal3_01.png","img/content/stadiums/core-assets/tokyo-stadium/tokyo-decorations/petal4_01.png"],"stadium-shared-decorations":["img/content/stadiums/stadium-shared-decorations/fx/fx.json"],"stadium-thumbs":["img/content/stadiums/stadium-thumbs/stadium-thumbs.json"],"game":["img/game/fx/misc/game-ball-shadow.png","img/game/fx/overlays/vignette.png","img/game/fx/particles/dot.png","img/game/fx/particles/smoke-mixed.png","img/game/fx/particles/snowParticle.png","img/game/fx/powerups/raw/shield_00.png","img/game/fx/powerups/raw/shield_01.png","img/game/fx/powerups/raw/shield_02.png","img/game/fx/powerups/raw/shield_03.png","img/game/fx/powerups/raw/shield_04.png","img/game/fx/powerups/raw/shield_05.png","img/game/fx/powerups/raw/shield_06.png","img/game/fx/powerups/raw/shield_07.png","img/game/fx/powerups/raw/shield_08.png","img/game/fx/powerups/raw/shield_09.png","img/game/fx/powerups/raw/shield_10.png","img/game/fx/powerups/raw/shield_11.png","img/game/fx/powerups/raw/shield_12.png","img/game/fx/powerups/raw/shield_13.png","img/game/fx/powerups/raw/shield_14.png","img/game/fx/powerups/raw/shield_15.png","img/game/fx/powerups/raw/shield_16.png","img/game/fx/powerups/raw/shield_17.png","img/game/fx/powerups/raw/shield_18.png","img/game/fx/powerups/raw/shield_19.png","img/game/fx/powerups/raw/shield_20.png","img/game/fx/powerups/raw/shield_21.png","img/game/fx/powerups/raw/shield_22.png","img/game/fx/powerups/raw/shield_23.png","img/game/fx/powerups/raw/shield_24.png","img/game/fx/powerups/raw/shield_25.png","img/game/fx/powerups/raw/shield_26.png","img/game/fx/powerups/raw/shield_27.png","img/game/fx/powerups/raw/shield_28.png","img/game/fx/powerups/raw/shield_29.png","img/game/fx/powerups/raw/shield_30.png","img/game/fx/powerups/raw/shield_31.png","img/game/fx/powerups/raw/shield_32.png","img/game/fx/powerups/raw/shield_33.png","img/game/fx/powerups/raw/shield_34.png","img/game/fx/powerups/raw/shield_35.png","img/game/fx/powerups/raw/shield_36.png","img/game/fx/powerups/raw/shield_37.png","img/game/fx/powerups/raw/shield_38.png","img/game/fx/powerups/raw/shield_39.png","img/game/fx/powerups/raw/shield_bubble.png","img/game/fx/powerups/spritesheet/spritesheet.json","img/game/fx/spritesheet/spritesheet.json","img/game/indicators/indicators.json","img/game/misc/tutorial-arrow.png","img/game/objects/objects.json","img/game/referee/referee.json"],"preload":["img/preload/preload.json"],"base-menu-ui":["img/ui/app/base-menu-ui/breadcrumb/breadcrumb.json","img/ui/app/base-menu-ui/challenges/challenges.json","img/ui/app/base-menu-ui/country-select/country-select.json","img/ui/app/base-menu-ui/gdpr/gdpr.json","img/ui/app/base-menu-ui/home/home.json","img/ui/app/base-menu-ui/languages/languages.json","img/ui/app/base-menu-ui/leaderboard/leaderboard.json","img/ui/app/base-menu-ui/notifications/notifications.json","img/ui/app/base-menu-ui/overlays/dark-overlay.png","img/ui/app/base-menu-ui/shared-elements/shared-elements.json","img/ui/app/base-menu-ui/shared-panels/shared-panels-1.json","img/ui/app/base-menu-ui/shared-panels/shared-panels-0.json","img/ui/app/base-menu-ui/team-review/team-review.json","img/ui/app/base-menu-ui/top-menut/top-menut.json","img/ui/app/base-menu-ui/tournament/tournament.json","img/ui/app/base-menu-ui/unlockables/unlockables.json"],"winter-menu-ui":["img/ui/app/winter-menu-ui/winter-menu-ui.json"],"base-game-ui":["img/ui/game/base-game-ui/ball-picker/ball-picker.json","img/ui/game/base-game-ui/instructions/instructions.json","img/ui/game/base-game-ui/jumbotron/jumbotron-1.json","img/ui/game/base-game-ui/jumbotron/jumbotron-0.json","img/ui/game/base-game-ui/supershot-panel/supershot-panel.json"],"tutorial-game-ui":["img/ui/game/tutorial-game-ui/tutorial-game-ui.json"],"audio":["snd/ .mp3","snd/applause_extra2.mp3","snd/applause_loop.mp3","snd/ball_pickup.mp3","snd/ballkick_pass.mp3","snd/ballkick_post.mp3","snd/ballkick_shoot.mp3","snd/ballkick_shoot_hard.mp3","snd/big_kick.mp3","snd/button_deselect.mp3","snd/button_press.mp3","snd/button_press2.mp3","snd/button_press_bad.mp3","snd/button_roll.mp3","snd/button_roll_a.mp3","snd/character_unlock.mp3","snd/cn-sfx-banana_01.mp3","snd/cn-sfx-banana_02.mp3","snd/cn-sfx-banana_03.mp3","snd/cn-sfx-banana_04.mp3","snd/cn-sfx-banana_05.mp3","snd/cn-sfx-snowball.mp3","snd/crowd_goal_3.mp3","snd/crowd_normal_1.mp3","snd/crowd_normal_2.mp3","snd/crowd_normal_3.mp3","snd/electro_cute.mp3","snd/football_loop_mixdown.mp3","snd/goal_coins.mp3","snd/pause_screen.mp3","snd/power_up_charge.mp3","snd/sfx_banana_01.mp3","snd/sfx_banana_02.mp3","snd/sfx_banana_03.mp3","snd/sfx_banana_04.mp3","snd/sfx_banana_05.mp3","snd/sfx_coin_01.mp3","snd/sfx_fireball.mp3","snd/sfx_freeze.mp3","snd/sfx_getcoins.mp3","snd/sfx_homing.mp3","snd/sfx_reveal.mp3","snd/sfx_shrink.mp3","snd/sfx_snowball.mp3","snd/sfx_squares.mp3","snd/slide_1.mp3","snd/slide_2.mp3","snd/slide_3.mp3","snd/squash.mp3","snd/super/APPLE_5.mp3","snd/super/Adventure_Time_BMO.mp3","snd/super/Adventure_Time_Bubblegum.mp3","snd/super/Adventure_Time_Finn.mp3","snd/super/Adventure_Time_Jake.mp3","snd/super/Adventure_Time_Marcelline.mp3","snd/super/BATGIRL_2.mp3","snd/super/Ben_10_Ben.mp3","snd/super/Ben_10_Four_Arms.mp3","snd/super/Ben_10_XLR8.mp3","snd/super/CRAIG_2.mp3","snd/super/Gumball_Anais.mp3","snd/super/Gumball_Darwin.mp3","snd/super/Gumball_Gumball.mp3","snd/super/Gumball_Richard.mp3","snd/super/KELSEY_1.mp3","snd/super/Magiswords_Grup.mp3","snd/super/Magiswords_Prohyas.mp3","snd/super/Magiswords_Vanbre.mp3","snd/super/ONION_1.mp3","snd/super/Powerpuff_Girls_Blossom.mp3","snd/super/Powerpuff_Girls_Bubbles.mp3","snd/super/Powerpuff_Girls_Buttercup.mp3","snd/super/Powerpuff_Girls_Mojo.mp3","snd/super/RAVEN_1.mp3","snd/super/Regular_Show_Mordecai.mp3","snd/super/Regular_Show_Rigby.mp3","snd/super/Teen_Titans_Go_Cyborg.mp3","snd/super/Teen_Titans_Go_Robin.mp3","snd/super/Teen_Titans_Go_Starfire.mp3","snd/super/WONDERWOMAN_1.mp3","snd/super/We_Bare_Bears_Grizz.mp3","snd/super/We_Bare_Bears_Ice_Bear.mp3","snd/super/We_Bare_Bears_Panda.mp3","snd/super/badgerclops-power.mp3","snd/super/maomao-power.mp3","snd/tackle_hit_deck.mp3","snd/tournament_screen.mp3","snd/whistle_full_time.mp3"]}')},function(e,t,r){"use strict";var i;void 0===(i=function(e,t,i){function QWe(e,t){n.Container.call(this),this.bg=n.Sprite.from(t),this.bg.anchor.set(.5,.5),this.addChild(this.bg),this.label=new n.Text("",{fill:"white",fontSize:28,fontFamily:window.MAIN_FONT,stroke:!0,strokeThickness:8,lineJoin:"round"}),this.label.anchor.set(.5,.5),this.addChild(this.label),this.setText(e)}var n=r(0);(QWe.prototype=Object.create(n.Container.prototype)).setText=function(e){this.label.scale.set(1),this.label.text=void 0!==e?e:"",this.label.updateText();var t=.9*this.bg.width/this.label.width;t=Math.min(t,1),this.label.scale.set(t)},i.exports=QWe}.call(t,r,t,e))||(e.exports=i)},function(e,t,i){"use strict";var n;void 0===(n=function(e,t,i){function aXe(){}(aXe.constructor=aXe).prototype.begin=function(e,t,i){t.onHide&&t.onHide(),t.onHidden&&t.onHidden(),e.container.addChildAt(i,0),e.container.removeChild(t),i.onShow&&i.onShow(),i.onShown&&i.onShown(),e.onTransitionComplete()},aXe.prototype.resize=function(e,t){this.width=e,this.height=t},i.exports=aXe}.call(t,i,t,e))||(e.exports=n)},function(e,t,i){"use strict";var n;void 0===(n=function(e,t,i){function nXe(){this.reverse=!1}(nXe.constructor=nXe).prototype.begin=function(e,t,i){this.screenManager=e,this.currentScreen=t,this.nextScreen=i,this.currentScreen.interactiveChildren=!1,window.app.breadcrumb.interactiveChildren=!1,app.topMenu.disableButtons(),this.currentScreen&&(this.currentScreen.previousScreenId===e.getScreenId(this.nextScreen)?this.reverse=!0:this.reverse=!1,this.currentScreen.onHide&&this.currentScreen.onHide(),TweenLite.to(this.currentScreen,.45,{ease:Sine.easeInOut,x:this.reverse?1224:-1224})),this.onFadeout()},nXe.prototype.onFadeout=function(){var e=this;this.nextScreen.onShow&&this.nextScreen.onShow(),this.nextScreen.resize&&this.nextScreen.resize(this.screenManager.w,this.screenManager.h),this.nextScreen.position.x=this.reverse?-1224:1224,TweenLite.to(this.nextScreen,.45,{x:0,ease:Sine.easeInOut,onComplete:function(){e.onFadein()}}),this.screenManager.container.addChild(this.nextScreen)},nXe.prototype.onFadein=function(){this.currentScreen&&(this.currentScreen.onHidden&&this.currentScreen.onHidden(),this.screenManager.container.removeChild(this.currentScreen)),this.nextScreen.onShown&&this.nextScreen.onShown(),this.screenManager.onTransitionComplete(),this.nextScreen.interactiveChildren=!0,window.app.breadcrumb.interactiveChildren=!0,window.app.topMenu.enableButtons()},nXe.prototype.resize=function(e,t){this.w=e,this.h=t},i.exports=nXe}.call(t,i,t,e))||(e.exports=n)},function(e,t,i){i(328),e.exports=i(514)},function(e,t,i){"use strict";i(329);var n,r=(n=i(501))&&n.__esModule?n:{default:n};r.default._babelPolyfill,r.default._babelPolyfill=!0},function(e,t,i){"use strict";i(330),i(473),i(475),i(478),i(480),i(482),i(484),i(486),i(488),i(490),i(492),i(494),i(496),i(500)},function(e,t,i){"use strict";i(331),i(334),i(335),i(336),i(337),i(338),i(339),i(340),i(341),i(342),i(343),i(344),i(345),i(346),i(347),i(348),i(349),i(350),i(351),i(352),i(353),i(354),i(355),i(356),i(357),i(358),i(359),i(360),i(361),i(362),i(363),i(364),i(365),i(366),i(367),i(368),i(369),i(370),i(371),i(372),i(373),i(374),i(375),i(377),i(378),i(379),i(380),i(381),i(382),i(383),i(384),i(385),i(386),i(387),i(388),i(389),i(390),i(391),i(392),i(393),i(394),i(395),i(396),i(397),i(398),i(399),i(400),i(401),i(402),i(403),i(404),i(405),i(406),i(407),i(408),i(409),i(410),i(412),i(413),i(415),i(416),i(417),i(418),i(419),i(420),i(421),i(423),i(424),i(425),i(426),i(427),i(428),i(429),i(430),i(431),i(432),i(433),i(434),i(435),i(123),i(436),i(162),i(437),i(163),i(438),i(439),i(440),i(441),i(164),i(444),i(445),i(446),i(447),i(448),i(449),i(450),i(451),i(452),i(453),i(454),i(455),i(456),i(457),i(458),i(459),i(460),i(461),i(462),i(463),i(464),i(465),i(466),i(467),i(468),i(469),i(470),i(471),i(472),e.exports=i(22)},function(e,t,i){"use strict";function CYe(e){var t=j[e]=S(k[B]);return t._k=e,t}function FYe(e,t){v(e);for(var i,n=_(t=w(t)),r=0,a=n.length;r<a;)K(e,i=n[r++],t[i]);return e}function HYe(e){var t=Y.call(this,e=x(e,!0));return!(this===G&&o(j,e)&&!o(z,e))&&(!(t||!o(this,e)||!o(j,e)||o(this,N)&&this[N][e])||t)}function IYe(e,t){if(e=w(e),t=x(t,!0),e!==G||!o(j,t)||o(z,t)){var i=P(e,t);return!i||!o(j,t)||o(e,N)&&e[N][t]||(i.enumerable=!0),i}}function JYe(e){for(var t,i=R(w(e)),n=[],r=0;i.length>r;)o(j,t=i[r++])||t==N||t==l||n.push(t);return n}function KYe(e){for(var t,i=e===G,n=R(i?z:w(e)),r=[],a=0;n.length>a;)!o(j,t=n[a++])||i&&!o(G,t)||r.push(j[t]);return r}var n=i(7),o=i(37),r=i(23),a=i(2),s=i(34),l=i(53).KEY,u=i(8),h=i(86),d=i(68),c=i(56),p=i(16),f=i(104),m=i(143),_=i(333),g=i(89),v=i(9),y=i(10),b=i(31),w=i(39),x=i(52),T=i(55),S=i(60),M=i(146),L=i(45),E=i(88),C=i(24),A=i(58),P=L.f,D=C.f,R=M.f,k=n.Symbol,I=n.JSON,O=I&&I.stringify,B="prototype",N=p("_hidden"),F=p("toPrimitive"),Y={}.propertyIsEnumerable,U=h("symbol-registry"),j=h("symbols"),z=h("op-symbols"),G=Object[B],H="function"==typeof k&&!!E.f,W=n.QObject,V=!W||!W[B]||!W[B].findChild,q=r&&u(function(){return 7!=S(D({},"a",{get:function(){return D(this,"a",{value:7}).a}})).a})?function(e,t,i){var n=P(G,t);n&&delete G[t],D(e,t,i),n&&e!==G&&D(G,t,n)}:D,X=H&&"symbol"==typeof k.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof k},K=function(e,t,i){return e===G&&K(z,t,i),v(e),t=x(t,!0),v(i),o(j,t)?(i.enumerable?(o(e,N)&&e[N][t]&&(e[N][t]=!1),i=S(i,{enumerable:T(0,!1)})):(o(e,N)||D(e,N,T(1,{})),e[N][t]=!0),q(e,t,i)):D(e,t,i)};H||(s((k=function(e){if(this instanceof k)throw TypeError("Symbol is not a constructor!");var t=c(0<arguments.length?e:void 0);return r&&V&&q(G,t,{configurable:!0,set:function $set(e){this===G&&$set.call(z,e),o(this,N)&&o(this[N],t)&&(this[N][t]=!1),q(this,t,T(1,e))}}),CYe(t)})[B],"toString",function(){return this._k}),L.f=IYe,C.f=K,i(61).f=M.f=JYe,i(76).f=HYe,E.f=KYe,r&&!i(57)&&s(G,"propertyIsEnumerable",HYe,!0),f.f=function(e){return CYe(p(e))}),a(a.G+a.W+a.F*!H,{Symbol:k});for(var J="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Z=0;J.length>Z;)p(J[Z++]);for(var Q=A(p.store),$=0;Q.length>$;)m(Q[$++]);a(a.S+a.F*!H,"Symbol",{for:function(e){return o(U,e+="")?U[e]:U[e]=k(e)},keyFor:function(e){if(!X(e))throw TypeError(e+" is not a symbol!");for(var t in U)if(U[t]===e)return t},useSetter:function(){V=!0},useSimple:function(){V=!1}}),a(a.S+a.F*!H,"Object",{create:function(e,t){return void 0===t?S(e):FYe(S(e),t)},defineProperty:K,defineProperties:FYe,getOwnPropertyDescriptor:IYe,getOwnPropertyNames:JYe,getOwnPropertySymbols:KYe});var ee=u(function(){E.f(1)});a(a.S+a.F*ee,"Object",{getOwnPropertySymbols:function(e){return E.f(b(e))}}),I&&a(a.S+a.F*(!H||u(function(){var e=k();return"[null]"!=O([e])||"{}"!=O({a:e})||"{}"!=O(Object(e))})),"JSON",{stringify:function(e){for(var t,i,n=[e],r=1;r<arguments.length;)n.push(arguments[r++]);if(i=t=n[1],(y(t)||void 0!==e)&&!X(e))return g(t)||(t=function(e,t){if("function"==typeof i&&(t=i.call(this,e,t)),!X(t))return t}),n[1]=t,O.apply(I,n)}}),k[B][F]||i(38)(k[B],F,k[B].valueOf),d(k,"Symbol"),d(Math,"Math",!0),d(n.JSON,"JSON",!0)},function(e,t,i){"use strict";e.exports=i(86)("native-function-to-string",Function.toString)},function(e,t,i){"use strict";var s=i(58),l=i(88),u=i(76);e.exports=function(e){var t=s(e),i=l.f;if(i)for(var n,r=i(e),a=u.f,o=0;r.length>o;)a.call(e,n=r[o++])&&t.push(n);return t}},function(e,t,i){"use strict";var n=i(2);n(n.S,"Object",{create:i(60)})},function(e,t,i){"use strict";var n=i(2);n(n.S+n.F*!i(23),"Object",{defineProperty:i(24).f})},function(e,t,i){"use strict";var n=i(2);n(n.S+n.F*!i(23),"Object",{defineProperties:i(145)})},function(e,t,i){"use strict";var n=i(39),r=i(45).f;i(46)("getOwnPropertyDescriptor",function(){return function(e,t){return r(n(e),t)}})},function(e,t,i){"use strict";var n=i(31),r=i(62);i(46)("getPrototypeOf",function(){return function(e){return r(n(e))}})},function(e,t,i){"use strict";var n=i(31),r=i(58);i(46)("keys",function(){return function(e){return r(n(e))}})},function(e,t,i){"use strict";i(46)("getOwnPropertyNames",function(){return i(146).f})},function(e,t,i){"use strict";var n=i(10),r=i(53).onFreeze;i(46)("freeze",function(t){return function(e){return t&&n(e)?t(r(e)):e}})},function(e,t,i){"use strict";var n=i(10),r=i(53).onFreeze;i(46)("seal",function(t){return function(e){return t&&n(e)?t(r(e)):e}})},function(e,t,i){"use strict";var n=i(10),r=i(53).onFreeze;i(46)("preventExtensions",function(t){return function(e){return t&&n(e)?t(r(e)):e}})},function(e,t,i){"use strict";var n=i(10);i(46)("isFrozen",function(t){return function(e){return!n(e)||!!t&&t(e)}})},function(e,t,i){"use strict";var n=i(10);i(46)("isSealed",function(t){return function(e){return!n(e)||!!t&&t(e)}})},function(e,t,i){"use strict";var n=i(10);i(46)("isExtensible",function(t){return function(e){return!!n(e)&&(!t||t(e))}})},function(e,t,i){"use strict";var n=i(2);n(n.S+n.F,"Object",{assign:i(147)})},function(e,t,i){"use strict";var n=i(2);n(n.S,"Object",{is:i(148)})},function(e,t,i){"use strict";var n=i(2);n(n.S,"Object",{setPrototypeOf:i(108).set})},function(e,t,i){"use strict";var n=i(77),r={};r[i(16)("toStringTag")]="z",r+""!="[object z]"&&i(34)(Object.prototype,"toString",function(){return"[object "+n(this)+"]"},!0)},function(e,t,i){"use strict";var n=i(2);n(n.P,"Function",{bind:i(149)})},function(e,t,i){"use strict";var n=i(24).f,r=Function.prototype,a=/^\s*function ([^ (]*)/;"name"in r||i(23)&&n(r,"name",{configurable:!0,get:function(){try{return(""+this).match(a)[1]}catch(e){return""}}})},function(e,t,i){"use strict";var n=i(10),r=i(62),a=i(16)("hasInstance"),o=Function.prototype;a in o||i(24).f(o,a,{value:function(e){if("function"!=typeof this||!n(e))return!1;if(!n(this.prototype))return e instanceof this;for(;e=r(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,i){"use strict";var n=i(2),r=i(151);n(n.G+n.F*(parseInt!=r),{parseInt:r})},function(e,t,i){"use strict";var n=i(2),r=i(152);n(n.G+n.F*(parseFloat!=r),{parseFloat:r})},function(e,t,i){"use strict";function H0e(e){var t=h(e,!1);if("string"==typeof t&&2<t.length){var i,n,r,a=(t=v?t.trim():c(t,3)).charCodeAt(0);if(43===a||45===a){if(88===(i=t.charCodeAt(2))||120===i)return NaN}else if(48===a){switch(t.charCodeAt(1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+t}for(var o,s=t.slice(2),l=0,u=s.length;l<u;l++)if((o=s.charCodeAt(l))<48||r<o)return NaN;return parseInt(s,n)}}return+t}var n=i(7),r=i(37),a=i(49),o=i(110),h=i(52),s=i(8),l=i(61).f,u=i(45).f,d=i(24).f,c=i(69).trim,p="Number",f=n[p],m=f,_=f.prototype,g=a(i(60)(_))==p,v="trim"in String.prototype;if(!f(" 0o1")||!f("0b1")||f("+0x1")){f=function(e){var t=arguments.length<1?0:e,i=this;return i instanceof f&&(g?s(function(){_.valueOf.call(i)}):a(i)!=p)?o(new m(H0e(t)),i,f):H0e(t)};for(var y,b=i(23)?l(m):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),w=0;b.length>w;w++)r(m,y=b[w])&&!r(f,y)&&d(f,y,u(m,y));(f.prototype=_).constructor=f,i(34)(n,p,f)}},function(e,t,i){"use strict";function i1e(e,t){for(var i=-1,n=t;++i<6;)n+=e*o[i],o[i]=n%1e7,n=a(n/1e7)}function j1e(e){for(var t=6,i=0;0<=--t;)i+=o[t],o[t]=a(i/e),i=i%e*1e7}function k1e(){for(var e=6,t="";0<=--e;)if(""!==t||0===e||0!==o[e]){var i=String(o[e]);t=""===t?i:t+d.call("0",7-i.length)+i}return t}function l1e(e,t,i){return 0===t?i:t%2==1?l1e(e,t-1,i*e):l1e(e*e,t/2,i)}var n=i(2),u=i(44),h=i(153),d=i(111),r=1..toFixed,a=Math.floor,o=[0,0,0,0,0,0],c="Number.toFixed: incorrect invocation!";n(n.P+n.F*(!!r&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i(8)(function(){r.call({})})),"Number",{toFixed:function(e){var t,i,n,r,a=h(this,c),o=u(e),s="",l="0";if(o<0||20<o)throw RangeError(c);if(a!=a)return"NaN";if(a<=-1e21||1e21<=a)return String(a);if(a<0&&(s="-",a=-a),1e-21<a)if(i=(t=function(e){for(var t=0,i=e;4096<=i;)t+=12,i/=4096;for(;2<=i;)t+=1,i/=2;return t}(a*l1e(2,69,1))-69)<0?a*l1e(2,-t,1):a/l1e(2,t,1),i*=4503599627370496,0<(t=52-t)){for(i1e(0,i),n=o;7<=n;)i1e(1e7,0),n-=7;for(i1e(l1e(10,n,1),0),n=t-1;23<=n;)j1e(1<<23),n-=23;j1e(1<<n),i1e(1,1),j1e(2),l=k1e()}else i1e(0,i),i1e(1<<-t,0),l=k1e()+d.call("0",o);return l=0<o?s+((r=l.length)<=o?"0."+d.call("0",o-r)+l:l.slice(0,r-o)+"."+l.slice(r-o)):s+l}})},function(e,t,i){"use strict";var n=i(2),r=i(8),a=i(153),o=1..toPrecision;n(n.P+n.F*(r(function(){return"1"!==o.call(1,void 0)})||!r(function(){o.call({})})),"Number",{toPrecision:function(e){var t=a(this,"Number#toPrecision: incorrect invocation!");return void 0===e?o.call(t):o.call(t,e)}})},function(e,t,i){"use strict";var n=i(2);n(n.S,"Number",{EPSILON:Math.pow(2,-52)})},function(e,t,i){"use strict";var n=i(2),r=i(7).isFinite;n(n.S,"Number",{isFinite:function(e){return"number"==typeof e&&r(e)}})},function(e,t,i){"use strict";var n=i(2);n(n.S,"Number",{isInteger:i(154)})},function(e,t,i){"use strict";var n=i(2);n(n.S,"Number",{isNaN:function(e){return e!=e}})},function(e,t,i){"use strict";var n=i(2),r=i(154),a=Math.abs;n(n.S,"Number",{isSafeInteger:function(e){return r(e)&&a(e)<=9007199254740991}})},function(e,t,i){"use strict";var n=i(2);n(n.S,"Number",{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,i){"use strict";var n=i(2);n(n.S,"Number",{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,i){"use strict";var n=i(2),r=i(152);n(n.S+n.F*(Number.parseFloat!=r),"Number",{parseFloat:r})},function(e,t,i){"use strict";var n=i(2),r=i(151);n(n.S+n.F*(Number.parseInt!=r),"Number",{parseInt:r})},function(e,t,i){"use strict";var n=i(2),r=i(155),a=Math.sqrt,o=Math.acosh;n(n.S+n.F*!(o&&710==Math.floor(o(Number.MAX_VALUE))&&o(1/0)==1/0),"Math",{acosh:function(e){return(e=+e)<1?NaN:94906265.62425156<e?Math.log(e)+Math.LN2:r(e-1+a(e-1)*a(e+1))}})},function(e,t,i){"use strict";var n=i(2),r=Math.asinh;n(n.S+n.F*!(r&&0<1/r(0)),"Math",{asinh:function asinh(e){return isFinite(e=+e)&&0!=e?e<0?-asinh(-e):Math.log(e+Math.sqrt(e*e+1)):e}})},function(e,t,i){"use strict";var n=i(2),r=Math.atanh;n(n.S+n.F*!(r&&1/r(-0)<0),"Math",{atanh:function(e){return 0==(e=+e)?e:Math.log((1+e)/(1-e))/2}})},function(e,t,i){"use strict";var n=i(2),r=i(112);n(n.S,"Math",{cbrt:function(e){return r(e=+e)*Math.pow(Math.abs(e),1/3)}})},function(e,t,i){"use strict";var n=i(2);n(n.S,"Math",{clz32:function(e){return(e>>>=0)?31-Math.floor(Math.log(e+.5)*Math.LOG2E):32}})},function(e,t,i){"use strict";var n=i(2),r=Math.exp;n(n.S,"Math",{cosh:function(e){return(r(e=+e)+r(-e))/2}})},function(e,t,i){"use strict";var n=i(2),r=i(113);n(n.S+n.F*(r!=Math.expm1),"Math",{expm1:r})},function(e,t,i){"use strict";var n=i(2);n(n.S,"Math",{fround:i(376)})},function(e,t,i){"use strict";var a=i(112),n=Math.pow,o=n(2,-52),s=n(2,-23),l=n(2,127)*(2-s),u=n(2,-126);e.exports=Math.fround||function(e){var t,i,n=Math.abs(e),r=a(e);return n<u?r*(n/u/s+1/o-1/o)*u*s:l<(i=(t=(1+s/o)*n)-(t-n))||i!=i?r*(1/0):r*i}},function(e,t,i){"use strict";var n=i(2),l=Math.abs;n(n.S,"Math",{hypot:function(e,t){for(var i,n,r=0,a=0,o=arguments.length,s=0;a<o;)s<(i=l(arguments[a++]))?(r=r*(n=s/i)*n+1,s=i):r+=0<i?(n=i/s)*n:i;return s===1/0?1/0:s*Math.sqrt(r)}})},function(e,t,i){"use strict";var n=i(2),r=Math.imul;n(n.S+n.F*i(8)(function(){return-5!=r(4294967295,5)||2!=r.length}),"Math",{imul:function(e,t){var i=+e,n=+t,r=65535&i,a=65535&n;return 0|r*a+((65535&i>>>16)*a+r*(65535&n>>>16)<<16>>>0)}})},function(e,t,i){"use strict";var n=i(2);n(n.S,"Math",{log10:function(e){return Math.log(e)*Math.LOG10E}})},function(e,t,i){"use strict";var n=i(2);n(n.S,"Math",{log1p:i(155)})},function(e,t,i){"use strict";var n=i(2);n(n.S,"Math",{log2:function(e){return Math.log(e)/Math.LN2}})},function(e,t,i){"use strict";var n=i(2);n(n.S,"Math",{sign:i(112)})},function(e,t,i){"use strict";var n=i(2),r=i(113),a=Math.exp;n(n.S+n.F*i(8)(function(){return-2e-17!=!Math.sinh(-2e-17)}),"Math",{sinh:function(e){return Math.abs(e=+e)<1?(r(e)-r(-e))/2:(a(e-1)-a(-e-1))*(Math.E/2)}})},function(e,t,i){"use strict";var n=i(2),r=i(113),a=Math.exp;n(n.S,"Math",{tanh:function(e){var t=r(e=+e),i=r(-e);return t==1/0?1:i==1/0?-1:(t-i)/(a(e)+a(-e))}})},function(e,t,i){"use strict";var n=i(2);n(n.S,"Math",{trunc:function(e){return(0<e?Math.floor:Math.ceil)(e)}})},function(e,t,i){"use strict";var n=i(2),a=i(59),o=String.fromCharCode,r=String.fromCodePoint;n(n.S+n.F*(!!r&&1!=r.length),"String",{fromCodePoint:function(e){for(var t,i=[],n=arguments.length,r=0;r<n;){if(t=+arguments[r++],a(t,1114111)!==t)throw RangeError(t+" is not a valid code point");i.push(t<65536?o(t):o(55296+((t-=65536)>>10),t%1024+56320))}return i.join("")}})},function(e,t,i){"use strict";var n=i(2),o=i(39),s=i(20);n(n.S,"String",{raw:function(e){for(var t=o(e.raw),i=s(t.length),n=arguments.length,r=[],a=0;a<i;)r.push(String(t[a++])),a<n&&r.push(String(arguments[a]));return r.join("")}})},function(e,t,i){"use strict";i(69)("trim",function(e){return function(){return e(this,3)}})},function(e,t,i){"use strict";var n=i(114)(!0);i(115)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,i=this._i;return i>=t.length?{value:void 0,done:!0}:(e=n(t,i),this._i+=e.length,{value:e,done:!1})})},function(e,t,i){"use strict";var n=i(2),r=i(114)(!1);n(n.P,"String",{codePointAt:function(e){return r(this,e)}})},function(e,t,i){"use strict";var n=i(2),s=i(20),l=i(116),u="endsWith",h=""[u];n(n.P+n.F*i(118)(u),"String",{endsWith:function(e,t){var i=l(this,e,u),n=1<arguments.length?t:void 0,r=s(i.length),a=void 0===n?r:Math.min(s(n),r),o=String(e);return h?h.call(i,o,a):i.slice(a-o.length,a)===o}})},function(e,t,i){"use strict";var n=i(2),r=i(116);n(n.P+n.F*i(118)("includes"),"String",{includes:function(e,t){return!!~r(this,e,"includes").indexOf(e,1<arguments.length?t:void 0)}})},function(e,t,i){"use strict";var n=i(2);n(n.P,"String",{repeat:i(111)})},function(e,t,i){"use strict";var n=i(2),a=i(20),o=i(116),s="startsWith",l=""[s];n(n.P+n.F*i(118)(s),"String",{startsWith:function(e,t){var i=o(this,e,s),n=a(Math.min(1<arguments.length?t:void 0,i.length)),r=String(e);return l?l.call(i,r,n):i.slice(n,n+r.length)===r}})},function(e,t,i){"use strict";i(35)("anchor",function(t){return function(e){return t(this,"a","name",e)}})},function(e,t,i){"use strict";i(35)("big",function(e){return function(){return e(this,"big","","")}})},function(e,t,i){"use strict";i(35)("blink",function(e){return function(){return e(this,"blink","","")}})},function(e,t,i){"use strict";i(35)("bold",function(e){return function(){return e(this,"b","","")}})},function(e,t,i){"use strict";i(35)("fixed",function(e){return function(){return e(this,"tt","","")}})},function(e,t,i){"use strict";i(35)("fontcolor",function(t){return function(e){return t(this,"font","color",e)}})},function(e,t,i){"use strict";i(35)("fontsize",function(t){return function(e){return t(this,"font","size",e)}})},function(e,t,i){"use strict";i(35)("italics",function(e){return function(){return e(this,"i","","")}})},function(e,t,i){"use strict";i(35)("link",function(t){return function(e){return t(this,"a","href",e)}})},function(e,t,i){"use strict";i(35)("small",function(e){return function(){return e(this,"small","","")}})},function(e,t,i){"use strict";i(35)("strike",function(e){return function(){return e(this,"strike","","")}})},function(e,t,i){"use strict";i(35)("sub",function(e){return function(){return e(this,"sub","","")}})},function(e,t,i){"use strict";i(35)("sup",function(e){return function(){return e(this,"sup","","")}})},function(e,t,i){"use strict";var n=i(2);n(n.S,"Date",{now:function(){return(new Date).getTime()}})},function(e,t,i){"use strict";var n=i(2),r=i(31),a=i(52);n(n.P+n.F*i(8)(function(){return null!==new Date(NaN).toJSON()||1!==Date.prototype.toJSON.call({toISOString:function(){return 1}})}),"Date",{toJSON:function(){var e=r(this),t=a(e);return"number"!=typeof t||isFinite(t)?e.toISOString():null}})},function(e,t,i){"use strict";var n=i(2),r=i(411);n(n.P+n.F*(Date.prototype.toISOString!==r),"Date",{toISOString:r})},function(e,t,i){"use strict";function $7e(e){return 9<e?e:"0"+e}var n=i(8),r=Date.prototype.getTime,a=Date.prototype.toISOString;e.exports=n(function(){return"0385-07-25T07:06:39.999Z"!=a.call(new Date(-5e13-1))})||!n(function(){a.call(new Date(NaN))})?function(){if(!isFinite(r.call(this)))throw RangeError("Invalid time value");var e=this.getUTCFullYear(),t=this.getUTCMilliseconds(),i=e<0?"-":9999<e?"+":"";return i+("00000"+Math.abs(e)).slice(i?-6:-4)+"-"+$7e(this.getUTCMonth()+1)+"-"+$7e(this.getUTCDate())+"T"+$7e(this.getUTCHours())+":"+$7e(this.getUTCMinutes())+":"+$7e(this.getUTCSeconds())+"."+(99<t?t:"0"+$7e(t))+"Z"}:a},function(e,t,i){"use strict";var n=Date.prototype,r="Invalid Date",a=n.toString,o=n.getTime;new Date(NaN)+""!=r&&i(34)(n,"toString",function(){var e=o.call(this);return e==e?a.call(this):r})},function(e,t,i){"use strict";var n=i(16)("toPrimitive"),r=Date.prototype;n in r||i(38)(r,n,i(414))},function(e,t,i){"use strict";var n=i(9),r=i(52);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return r(n(this),"number"!=e)}},function(e,t,i){"use strict";var n=i(2);n(n.S,"Array",{isArray:i(89)})},function(e,t,i){"use strict";var f=i(42),n=i(2),m=i(31),_=i(157),g=i(119),v=i(20),y=i(120),b=i(121);n(n.S+n.F*!i(90)(function(e){Array.from(e)}),"Array",{from:function(e,t,i){var n,r,a,o,s=m(e),l="function"==typeof this?this:Array,u=arguments.length,h=1<u?t:void 0,d=void 0!==h,c=0,p=b(s);if(d&&(h=f(h,2<u?i:void 0,2)),null==p||l==Array&&g(p))for(r=new l(n=v(s.length));c<n;c++)y(r,c,d?h(s[c],c):s[c]);else for(o=p.call(s),r=new l;!(a=o.next()).done;c++)y(r,c,d?_(o,h,[a.value,c],!0):a.value);return r.length=c,r}})},function(e,t,i){"use strict";var n=i(2),r=i(120);n(n.S+n.F*i(8)(function(){function F(){}return!(Array.of.call(F)instanceof F)}),"Array",{of:function(){for(var e=0,t=arguments.length,i=new("function"==typeof this?this:Array)(t);e<t;)r(i,e,arguments[e++]);return i.length=t,i}})},function(e,t,i){"use strict";var n=i(2),r=i(39),a=[].join;n(n.P+n.F*(i(75)!=Object||!i(40)(a)),"Array",{join:function(e){return a.call(r(this),void 0===e?",":e)}})},function(e,t,i){"use strict";var n=i(2),r=i(107),u=i(49),h=i(59),d=i(20),c=[].slice;n(n.P+n.F*i(8)(function(){r&&c.call(r)}),"Array",{slice:function(e,t){var i=d(this.length),n=u(this);if(t=void 0===t?i:t,"Array"==n)return c.call(this,e,t);for(var r=h(e,i),a=h(t,i),o=d(a-r),s=new Array(o),l=0;l<o;l++)s[l]="String"==n?this.charAt(r+l):this[r+l];return s}})},function(e,t,i){"use strict";var n=i(2),r=i(43),a=i(31),o=i(8),s=[].sort,l=[1,2,3];n(n.P+n.F*(o(function(){l.sort(void 0)})||!o(function(){l.sort(null)})||!i(40)(s)),"Array",{sort:function(e){return void 0===e?s.call(a(this)):s.call(a(this),r(e))}})},function(e,t,i){"use strict";var n=i(2),r=i(47)(0),a=i(40)([].forEach,!0);n(n.P+n.F*!a,"Array",{forEach:function(e,t){return r(this,e,t)}})},function(e,t,i){"use strict";var n=i(10),r=i(89),a=i(16)("species");e.exports=function(e){var t;return r(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!r(t.prototype)||(t=void 0),n(t)&&null===(t=t[a])&&(t=void 0)),void 0===t?Array:t}},function(e,t,i){"use strict";var n=i(2),r=i(47)(1);n(n.P+n.F*!i(40)([].map,!0),"Array",{map:function(e,t){return r(this,e,t)}})},function(e,t,i){"use strict";var n=i(2),r=i(47)(2);n(n.P+n.F*!i(40)([].filter,!0),"Array",{filter:function(e,t){return r(this,e,t)}})},function(e,t,i){"use strict";var n=i(2),r=i(47)(3);n(n.P+n.F*!i(40)([].some,!0),"Array",{some:function(e,t){return r(this,e,t)}})},function(e,t,i){"use strict";var n=i(2),r=i(47)(4);n(n.P+n.F*!i(40)([].every,!0),"Array",{every:function(e,t){return r(this,e,t)}})},function(e,t,i){"use strict";var n=i(2),r=i(159);n(n.P+n.F*!i(40)([].reduce,!0),"Array",{reduce:function(e,t){return r(this,e,arguments.length,t,!1)}})},function(e,t,i){"use strict";var n=i(2),r=i(159);n(n.P+n.F*!i(40)([].reduceRight,!0),"Array",{reduceRight:function(e,t){return r(this,e,arguments.length,t,!0)}})},function(e,t,i){"use strict";var n=i(2),r=i(87)(!1),a=[].indexOf,o=!!a&&1/[1].indexOf(1,-0)<0;n(n.P+n.F*(o||!i(40)(a)),"Array",{indexOf:function(e,t){return o?a.apply(this,arguments)||0:r(this,e,t)}})},function(e,t,i){"use strict";var n=i(2),a=i(39),o=i(44),s=i(20),l=[].lastIndexOf,u=!!l&&1/[1].lastIndexOf(1,-0)<0;n(n.P+n.F*(u||!i(40)(l)),"Array",{lastIndexOf:function(e,t){if(u)return l.apply(this,arguments)||0;var i=a(this),n=s(i.length),r=n-1;for(1<arguments.length&&(r=Math.min(r,o(t))),r<0&&(r=n+r);0<=r;r--)if(r in i&&i[r]===e)return r||0;return-1}})},function(e,t,i){"use strict";var n=i(2);n(n.P,"Array",{copyWithin:i(160)}),i(63)("copyWithin")},function(e,t,i){"use strict";var n=i(2);n(n.P,"Array",{fill:i(122)}),i(63)("fill")},function(e,t,i){"use strict";var n=i(2),r=i(47)(5),a=!0;"find"in[]&&Array(1).find(function(){a=!1}),n(n.P+n.F*a,"Array",{find:function(e,t){return r(this,e,1<arguments.length?t:void 0)}}),i(63)("find")},function(e,t,i){"use strict";var n=i(2),r=i(47)(6),a="findIndex",o=!0;a in[]&&Array(1)[a](function(){o=!1}),n(n.P+n.F*o,"Array",{findIndex:function(e,t){return r(this,e,1<arguments.length?t:void 0)}}),i(63)(a)},function(e,t,i){"use strict";i(71)("Array")},function(e,t,i){"use strict";var n=i(7),a=i(110),r=i(24).f,o=i(61).f,s=i(117),l=i(91),u=n.RegExp,h=u,d=u.prototype,c=/a/g,p=/a/g,f=new u(c)!==c;if(i(23)&&(!f||i(8)(function(){return p[i(16)("match")]=!1,u(c)!=c||u(p)==p||"/a/i"!=u(c,"i")}))){u=function(e,t){var i=this instanceof u,n=s(e),r=void 0===t;return!i&&n&&e.constructor===u&&r?e:a(f?new h(n&&!r?e.source:e,t):h((n=e instanceof u)?e.source:e,n&&r?l.call(e):t),i?this:d,u)};for(var m=function(t){t in u||r(u,t,{configurable:!0,get:function(){return h[t]},set:function(e){h[t]=e}})},_=o(h),g=0;_.length>g;)m(_[g++]);(d.constructor=u).prototype=d,i(34)(n,"RegExp",u)}i(71)("RegExp")},function(e,t,i){"use strict";i(163);function mcf(e){i(34)(RegExp.prototype,o,e,!0)}var n=i(9),r=i(91),a=i(23),o="toString",s=/./[o];i(8)(function(){return"/a/b"!=s.call({source:"a",flags:"b"})})?mcf(function(){var e=n(this);return"/".concat(e.source,"/","flags"in e?e.flags:!a&&e instanceof RegExp?r.call(e):void 0)}):s.name!=o&&mcf(function(){return s.call(this)})},function(e,t,i){"use strict";var d=i(9),c=i(20),p=i(125),f=i(92);i(93)("match",1,function(n,r,u,h){return[function(e){var t=n(this),i=null==e?void 0:e[r];return void 0!==i?i.call(e,t):new RegExp(e)[r](String(t))},function(e){var t=h(u,e,this);if(t.done)return t.value;var i=d(e),n=String(this);if(!i.global)return f(i,n);for(var r,a=i.unicode,o=[],s=i.lastIndex=0;null!==(r=f(i,n));){var l=String(r[0]);""===(o[s]=l)&&(i.lastIndex=p(n,c(i.lastIndex),a)),s++}return 0===s?null:o}]})},function(e,t,i){"use strict";var T=i(9),n=i(31),S=i(20),M=i(44),L=i(125),E=i(92),C=Math.max,A=Math.min,c=Math.floor,p=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g;i(93)("replace",2,function(r,a,w,x){return[function(e,t){var i=r(this),n=null==e?void 0:e[a];return void 0!==n?n.call(e,i,t):w.call(String(i),e,t)},function(e,t){var i=x(w,e,this,t);if(i.done)return i.value;var n=T(e),r=String(this),a="function"==typeof t;a||(t=String(t));var o=n.global;if(o){var s=n.unicode;n.lastIndex=0}for(var l=[];;){var u=E(n,r);if(null===u)break;if(l.push(u),!o)break;""===String(u[0])&&(n.lastIndex=L(r,S(n.lastIndex),s))}for(var h,d="",c=0,p=0;p<l.length;p++){u=l[p];for(var f=String(u[0]),m=C(A(M(u.index),r.length),0),_=[],g=1;g<u.length;g++)_.push(void 0===(h=u[g])?h:String(h));var v=u.groups;if(a){var y=[f].concat(_,m,r);void 0!==v&&y.push(v);var b=String(t.apply(void 0,y))}else b=getSubstitution(f,r,m,_,v,t);c<=m&&(d+=r.slice(c,m)+b,c=m+f.length)}return d+r.slice(c)}];function getSubstitution(a,o,s,l,u,e){var h=s+a.length,d=l.length,t=f;return void 0!==u&&(u=n(u),t=p),w.call(e,t,function(e,t){var i;switch(t.charAt(0)){case"$":return"$";case"&":return a;case"`":return o.slice(0,s);case"'":return o.slice(h);case"<":i=u[t.slice(1,-1)];break;default:var n=+t;if(0==n)return e;if(d<n){var r=c(n/10);return 0===r?e:r<=d?void 0===l[r-1]?t.charAt(1):l[r-1]+t.charAt(1):e}i=l[n-1]}return void 0===i?"":i})}})},function(e,t,i){"use strict";var l=i(9),u=i(148),h=i(92);i(93)("search",1,function(n,r,o,s){return[function(e){var t=n(this),i=null==e?void 0:e[r];return void 0!==i?i.call(e,t):new RegExp(e)[r](String(t))},function(e){var t=s(o,e,this);if(t.done)return t.value;var i=l(e),n=String(this),r=i.lastIndex;u(r,0)||(i.lastIndex=0);var a=h(i,n);return u(i.lastIndex,r)||(i.lastIndex=r),null===a?-1:a.index}]})},function(e,t,i){"use strict";var d=i(117),y=i(9),b=i(78),w=i(125),x=i(20),T=i(92),c=i(124),n=i(8),S=Math.min,p=[].push,o="split",f="length",m="lastIndex",M=4294967295,L=!n(function(){RegExp(M,"y")});i(93)("split",2,function(r,a,_,g){var v;return v="c"=="abbc"[o](/(b)*/)[1]||4!="test"[o](/(?:)/,-1)[f]||2!="ab"[o](/(?:ab)*/)[f]||4!="."[o](/(.?)(.?)/)[f]||1<"."[o](/()()/)[f]||""[o](/.?/)[f]?function(e,t){var i=String(this);if(void 0===e&&0===t)return[];if(!d(e))return _.call(i,e,t);for(var n,r,a,o=[],s=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),l=0,u=void 0===t?M:t>>>0,h=new RegExp(e.source,s+"g");(n=c.call(h,i))&&!(l<(r=h[m])&&(o.push(i.slice(l,n.index)),1<n[f]&&n.index<i[f]&&p.apply(o,n.slice(1)),a=n[0][f],l=r,o[f]>=u));)h[m]===n.index&&h[m]++;return l===i[f]?!a&&h.test("")||o.push(""):o.push(i.slice(l)),o[f]>u?o.slice(0,u):o}:"0"[o](void 0,0)[f]?function(e,t){return void 0===e&&0===t?[]:_.call(this,e,t)}:_,[function(e,t){var i=r(this),n=null==e?void 0:e[a];return void 0!==n?n.call(e,i,t):v.call(String(i),e,t)},function(e,t){var i=g(v,e,this,t,v!==_);if(i.done)return i.value;var n=y(e),r=String(this),a=b(n,RegExp),o=n.unicode,s=(n.ignoreCase?"i":"")+(n.multiline?"m":"")+(n.unicode?"u":"")+(L?"y":"g"),l=new a(L?n:"^(?:"+n.source+")",s),u=void 0===t?M:t>>>0;if(0==u)return[];if(0===r.length)return null===T(l,r)?[r]:[];for(var h=0,d=0,c=[];d<r.length;){l.lastIndex=L?d:0;var p,f=T(l,L?r:r.slice(d));if(null===f||(p=S(x(l.lastIndex+(L?0:d)),r.length))===h)d=w(r,d,o);else{if(c.push(r.slice(h,d)),c.length===u)return c;for(var m=1;m<=f.length-1;m++)if(c.push(f[m]),c.length===u)return c;d=h=p}}return c.push(r.slice(h)),c}]})},function(e,t,i){"use strict";var o=i(7),s=i(126).set,l=o.MutationObserver||o.WebKitMutationObserver,u=o.process,h=o.Promise,d="process"==i(49)(u);e.exports=function(){function yff(){var e,t;for(d&&(e=u.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?r():n=void 0,e}}n=void 0,e&&e.enter()}var i,n,r;if(d)r=function(){u.nextTick(yff)};else if(!l||o.navigator&&o.navigator.standalone)if(h&&h.resolve){var e=h.resolve(void 0);r=function(){e.then(yff)}}else r=function(){s.call(o,yff)};else{var t=!0,a=document.createTextNode("");new l(yff).observe(a,{characterData:!0}),r=function(){a.data=t=!t}}return function(e){var t={fn:e,next:void 0};n&&(n.next=t),i||(i=t,r()),n=t}}},function(e,t,i){"use strict";e.exports=function(e){try{return{e:!1,v:e()}}catch(e){return{e:!0,v:e}}}},function(e,t,i){"use strict";var n=i(167),r=i(64);e.exports=i(96)("Map",function(t){return function(e){return t(this,0<arguments.length?e:void 0)}},{get:function(e){var t=n.getEntry(r(this,"Map"),e);return t&&t.v},set:function(e,t){return n.def(r(this,"Map"),0===e?0:e,t)}},n,!0)},function(e,t,i){"use strict";var n=i(167),r=i(64);e.exports=i(96)("Set",function(t){return function(e){return t(this,0<arguments.length?e:void 0)}},{add:function(e){return n.def(r(this,"Set"),e=0===e?0:e,e)}},n)},function(e,t,i){"use strict";function vgf(t){return function(e){return t(this,0<arguments.length?e:void 0)}}var a,n=i(7),r=i(47)(0),o=i(34),s=i(53),l=i(147),u=i(168),h=i(10),d=i(64),c=i(64),p=!n.ActiveXObject&&"ActiveXObject"in n,f="WeakMap",m=s.getWeak,_=Object.isExtensible,g=u.ufstore,v={get:function(e){if(h(e)){var t=m(e);return!0===t?g(d(this,f)).get(e):t?t[this._i]:void 0}},set:function(e,t){return u.def(d(this,f),e,t)}},y=e.exports=i(96)(f,vgf,v,u,!0,!0);c&&p&&(l((a=u.getConstructor(vgf,f)).prototype,v),s.NEED=!0,r(["delete","has","get","set"],function(n){var e=y.prototype,r=e[n];o(e,n,function(e,t){if(!h(e)||_(e))return r.call(this,e,t);this._f||(this._f=new a);var i=this._f[n](e,t);return"set"==n?this:i})}))},function(e,t,i){"use strict";var n=i(168),r=i(64);i(96)("WeakSet",function(t){return function(e){return t(this,0<arguments.length?e:void 0)}},{add:function(e){return n.def(r(this,"WeakSet"),e,!0)}},n,!1,!0)},function(e,t,i){"use strict";var n=i(2),r=i(97),a=i(127),u=i(9),h=i(59),d=i(20),o=i(10),s=i(7).ArrayBuffer,c=i(78),p=a.ArrayBuffer,f=a.DataView,l=r.ABV&&s.isView,m=p.prototype.slice,_=r.VIEW,g="ArrayBuffer";n(n.G+n.W+n.F*(s!==p),{ArrayBuffer:p}),n(n.S+n.F*!r.CONSTR,g,{isView:function(e){return l&&l(e)||o(e)&&_ in e}}),n(n.P+n.U+n.F*i(8)(function(){return!new p(2).slice(1,void 0).byteLength}),g,{slice:function(e,t){if(void 0!==m&&void 0===t)return m.call(u(this),e);for(var i=u(this).byteLength,n=h(e,i),r=h(void 0===t?i:t,i),a=new(c(this,p))(d(r-n)),o=new f(this),s=new f(a),l=0;n<r;)s.setUint8(l++,o.getUint8(n++));return a}}),i(71)(g)},function(e,t,i){"use strict";var n=i(2);n(n.G+n.W+n.F*!i(97).ABV,{DataView:i(127).DataView})},function(e,t,i){"use strict";i(51)("Int8",1,function(n){return function(e,t,i){return n(this,e,t,i)}})},function(e,t,i){"use strict";i(51)("Uint8",1,function(n){return function(e,t,i){return n(this,e,t,i)}})},function(e,t,i){"use strict";i(51)("Uint8",1,function(n){return function(e,t,i){return n(this,e,t,i)}},!0)},function(e,t,i){"use strict";i(51)("Int16",2,function(n){return function(e,t,i){return n(this,e,t,i)}})},function(e,t,i){"use strict";i(51)("Uint16",2,function(n){return function(e,t,i){return n(this,e,t,i)}})},function(e,t,i){"use strict";i(51)("Int32",4,function(n){return function(e,t,i){return n(this,e,t,i)}})},function(e,t,i){"use strict";i(51)("Uint32",4,function(n){return function(e,t,i){return n(this,e,t,i)}})},function(e,t,i){"use strict";i(51)("Float32",4,function(n){return function(e,t,i){return n(this,e,t,i)}})},function(e,t,i){"use strict";i(51)("Float64",8,function(n){return function(e,t,i){return n(this,e,t,i)}})},function(e,t,i){"use strict";var n=i(2),a=i(43),o=i(9),s=(i(7).Reflect||{}).apply,l=Function.apply;n(n.S+n.F*!i(8)(function(){s(function(){})}),"Reflect",{apply:function(e,t,i){var n=a(e),r=o(i);return s?s(n,t,r):l.call(n,t,r)}})},function(e,t,i){"use strict";var n=i(2),l=i(60),u=i(43),h=i(9),d=i(10),r=i(8),c=i(149),p=(i(7).Reflect||{}).construct,f=r(function(){function F(){}return!(p(function(){},[],F)instanceof F)}),m=!r(function(){p(function(){})});n(n.S+n.F*(f||m),"Reflect",{construct:function(e,t,i){u(e),h(t);var n=arguments.length<3?e:u(i);if(m&&!f)return p(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return r.push.apply(r,t),new(c.apply(e,r))}var a=n.prototype,o=l(d(a)?a:Object.prototype),s=Function.apply.call(e,o,t);return d(s)?s:o}})},function(e,t,i){"use strict";var n=i(24),r=i(2),a=i(9),o=i(52);r(r.S+r.F*i(8)(function(){Reflect.defineProperty(n.f({},1,{value:1}),1,{value:2})}),"Reflect",{defineProperty:function(e,t,i){a(e),t=o(t,!0),a(i);try{return n.f(e,t,i),!0}catch(e){return!1}}})},function(e,t,i){"use strict";var n=i(2),r=i(45).f,a=i(9);n(n.S,"Reflect",{deleteProperty:function(e,t){var i=r(a(e),t);return!(i&&!i.configurable)&&delete e[t]}})},function(e,t,i){"use strict";function Ijf(e){this._t=r(e),this._i=0;var t,i=this._k=[];for(t in e)i.push(t)}var n=i(2),r=i(9);i(156)(Ijf,"Object",function(){var e,t=this._k;do{if(this._i>=t.length)return{value:void 0,done:!0}}while(!((e=t[this._i++])in this._t));return{value:e,done:!1}}),n(n.S,"Reflect",{enumerate:function(e){return new Ijf(e)}})},function(e,t,i){"use strict";var a=i(45),o=i(62),s=i(37),n=i(2),l=i(10),u=i(9);n(n.S,"Reflect",{get:function get(e,t){var i,n,r=arguments.length<3?e:arguments[2];return u(e)===r?e[t]:(i=a.f(e,t))?s(i,"value")?i.value:void 0!==i.get?i.get.call(r):void 0:l(n=o(e))?get(n,t,r):void 0}})},function(e,t,i){"use strict";var n=i(45),r=i(2),a=i(9);r(r.S,"Reflect",{getOwnPropertyDescriptor:function(e,t){return n.f(a(e),t)}})},function(e,t,i){"use strict";var n=i(2),r=i(62),a=i(9);n(n.S,"Reflect",{getPrototypeOf:function(e){return r(a(e))}})},function(e,t,i){"use strict";var n=i(2);n(n.S,"Reflect",{has:function(e,t){return t in e}})},function(e,t,i){"use strict";var n=i(2),r=i(9),a=Object.isExtensible;n(n.S,"Reflect",{isExtensible:function(e){return r(e),!a||a(e)}})},function(e,t,i){"use strict";var n=i(2);n(n.S,"Reflect",{ownKeys:i(170)})},function(e,t,i){"use strict";var n=i(2),r=i(9),a=Object.preventExtensions;n(n.S,"Reflect",{preventExtensions:function(e){r(e);try{return a&&a(e),!0}catch(e){return!1}}})},function(e,t,i){"use strict";var s=i(24),l=i(45),u=i(62),h=i(37),n=i(2),d=i(55),c=i(9),p=i(10);n(n.S,"Reflect",{set:function set(e,t,i){var n,r,a=arguments.length<4?e:arguments[3],o=l.f(c(e),t);if(!o){if(p(r=u(e)))return set(r,t,i,a);o=d(0)}if(h(o,"value")){if(!1===o.writable||!p(a))return!1;if(n=l.f(a,t)){if(n.get||n.set||!1===n.writable)return!1;n.value=i,s.f(a,t,n)}else s.f(a,t,d(0,i));return!0}return void 0!==o.set&&(o.set.call(a,i),!0)}})},function(e,t,i){"use strict";var n=i(2),r=i(108);r&&n(n.S,"Reflect",{setPrototypeOf:function(e,t){r.check(e,t);try{return r.set(e,t),!0}catch(e){return!1}}})},function(e,t,i){"use strict";i(474),e.exports=i(22).Array.includes},function(e,t,i){"use strict";var n=i(2),r=i(87)(!0);n(n.P,"Array",{includes:function(e,t){return r(this,e,1<arguments.length?t:void 0)}}),i(63)("includes")},function(e,t,i){"use strict";i(476),e.exports=i(22).Array.flatMap},function(e,t,i){"use strict";var n=i(2),a=i(477),o=i(31),s=i(20),l=i(43),u=i(158);n(n.P,"Array",{flatMap:function(e,t){var i,n,r=o(this);return l(e),i=s(r.length),n=u(r,0),a(n,r,r,i,0,1,e,t),n}}),i(63)("flatMap")},function(e,t,i){"use strict";var p=i(89),f=i(10),m=i(20),_=i(42),g=i(16)("isConcatSpreadable");e.exports=function flattenIntoArray(e,t,i,n,r,a,o,s){for(var l,u,h=r,d=0,c=!!o&&_(o,s,3);d<n;){if(d in i){if(l=c?c(i[d],d,t):i[d],u=!1,f(l)&&(u=void 0!==(u=l[g])?!!u:p(l)),u&&0<a)h=flattenIntoArray(e,t,l,m(l.length),h,a-1)-1;else{if(9007199254740991<=h)throw TypeError();e[h]=l}h++}d++}return h}},function(e,t,i){"use strict";i(479),e.exports=i(22).String.padStart},function(e,t,i){"use strict";var n=i(2),r=i(171),a=i(95),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);n(n.P+n.F*o,"String",{padStart:function(e,t){return r(this,e,1<arguments.length?t:void 0,!0)}})},function(e,t,i){"use strict";i(481),e.exports=i(22).String.padEnd},function(e,t,i){"use strict";var n=i(2),r=i(171),a=i(95),o=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(a);n(n.P+n.F*o,"String",{padEnd:function(e,t){return r(this,e,1<arguments.length?t:void 0,!1)}})},function(e,t,i){"use strict";i(483),e.exports=i(22).String.trimLeft},function(e,t,i){"use strict";i(69)("trimLeft",function(e){return function(){return e(this,1)}},"trimStart")},function(e,t,i){"use strict";i(485),e.exports=i(22).String.trimRight},function(e,t,i){"use strict";i(69)("trimRight",function(e){return function(){return e(this,2)}},"trimEnd")},function(e,t,i){"use strict";i(487),e.exports=i(104).f("asyncIterator")},function(e,t,i){"use strict";i(143)("asyncIterator")},function(e,t,i){"use strict";i(489),e.exports=i(22).Object.getOwnPropertyDescriptors},function(e,t,i){"use strict";var n=i(2),l=i(170),u=i(39),h=i(45),d=i(120);n(n.S,"Object",{getOwnPropertyDescriptors:function(e){for(var t,i,n=u(e),r=h.f,a=l(n),o={},s=0;a.length>s;)void 0!==(i=r(n,t=a[s++]))&&d(o,t,i);return o}})},function(e,t,i){"use strict";i(491),e.exports=i(22).Object.values},function(e,t,i){"use strict";var n=i(2),r=i(172)(!1);n(n.S,"Object",{values:function(e){return r(e)}})},function(e,t,i){"use strict";i(493),e.exports=i(22).Object.entries},function(e,t,i){"use strict";var n=i(2),r=i(172)(!0);n(n.S,"Object",{entries:function(e){return r(e)}})},function(e,t,i){"use strict";i(164),i(495),e.exports=i(22).Promise.finally},function(e,t,i){"use strict";var n=i(2),r=i(22),a=i(7),o=i(78),s=i(166);n(n.P+n.R,"Promise",{finally:function(t){var i=o(this,r.Promise||a.Promise),e="function"==typeof t;return this.then(e?function(e){return s(i,t()).then(function(){return e})}:t,e?function(e){return s(i,t()).then(function(){throw e})}:t)}})},function(e,t,i){"use strict";i(497),i(498),i(499),e.exports=i(22)},function(e,t,i){"use strict";function eof(r){return function(e,t){var i=2<arguments.length,n=i&&o.call(arguments,2);return r(i?function(){("function"==typeof e?e:Function(e)).apply(this,n)}:e,t)}}var n=i(7),r=i(2),a=i(95),o=[].slice,s=/MSIE .\./.test(a);r(r.G+r.B+r.F*s,{setTimeout:eof(n.setTimeout),setInterval:eof(n.setInterval)})},function(e,t,i){"use strict";var n=i(2),r=i(126);n(n.G+n.B,{setImmediate:r.set,clearImmediate:r.clear})},function(e,t,i){"use strict";for(var n=i(123),r=i(58),a=i(34),o=i(7),s=i(38),l=i(70),u=i(16),h=u("iterator"),d=u("toStringTag"),c=l.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},f=r(p),m=0;m<f.length;m++){var _,g=f[m],v=p[g],y=o[g],b=y&&y.prototype;if(b&&(b[h]||s(b,h,c),b[d]||s(b,d,g),l[g]=c,v))for(_ in n)b[_]||a(b,_,n[_],!0)}},function(e,t,i){"use strict";var n=function(a){var s,e=Object.prototype,l=e.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",i=t.asyncIterator||"@@asyncIterator",n=t.toStringTag||"@@toStringTag";function wrap(e,t,i,n){var a,o,s,l,r=t&&t.prototype instanceof Generator?t:Generator,u=Object.create(r.prototype),h=new Context(n||[]);return u._invoke=(a=e,o=i,s=h,l=d,function(e,t){if(l===p)throw new Error("Generator is already running");if(l===f){if("throw"===e)throw t;return doneResult()}for(s.method=e,s.arg=t;;){var i=s.delegate;if(i){var n=maybeInvokeDelegate(i,s);if(n){if(n===m)continue;return n}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(l===d)throw l=f,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);l=p;var r=tryCatch(a,o,s);if("normal"===r.type){if(l=s.done?f:c,r.arg===m)continue;return{value:r.arg,done:s.done}}"throw"===r.type&&(l=f,s.method="throw",s.arg=r.arg)}}),u}function tryCatch(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}a.wrap=wrap;var d="suspendedStart",c="suspendedYield",p="executing",f="completed",m={};function Generator(){}function GeneratorFunction(){}function GeneratorFunctionPrototype(){}var o={};o[r]=function(){return this};var u=Object.getPrototypeOf,h=u&&u(u(values([])));h&&h!==e&&l.call(h,r)&&(o=h);var _=GeneratorFunctionPrototype.prototype=Generator.prototype=Object.create(o);function defineIteratorMethods(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function AsyncIterator(s){var e;this._invoke=function(i,n){function callInvokeWithMethodAndArg(){return new Promise(function(e,t){!function invoke(e,t,i,n){var r=tryCatch(s[e],s,t);if("throw"!==r.type){var a=r.arg,o=a.value;return o&&"object"==typeof o&&l.call(o,"__await")?Promise.resolve(o.__await).then(function(e){invoke("next",e,i,n)},function(e){invoke("throw",e,i,n)}):Promise.resolve(o).then(function(e){a.value=e,i(a)},function(e){return invoke("throw",e,i,n)})}n(r.arg)}(i,n,e,t)})}return e=e?e.then(callInvokeWithMethodAndArg,callInvokeWithMethodAndArg):callInvokeWithMethodAndArg()}}function maybeInvokeDelegate(e,t){var i=e.iterator[t.method];if(i===s){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=s,maybeInvokeDelegate(e,t),"throw"===t.method))return m;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var n=tryCatch(i,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,m;var r=n.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=s),t.delegate=null,m):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,m)}function pushTryEntry(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function resetTryEntry(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function Context(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(pushTryEntry,this),this.reset(!0)}function values(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var i=-1,n=function next(){for(;++i<e.length;)if(l.call(e,i))return next.value=e[i],next.done=!1,next;return next.value=s,next.done=!0,next};return n.next=n}}return{next:doneResult}}function doneResult(){return{value:s,done:!0}}return GeneratorFunction.prototype=_.constructor=GeneratorFunctionPrototype,GeneratorFunctionPrototype.constructor=GeneratorFunction,GeneratorFunctionPrototype[n]=GeneratorFunction.displayName="GeneratorFunction",a.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===GeneratorFunction||"GeneratorFunction"===(t.displayName||t.name))},a.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,GeneratorFunctionPrototype):(e.__proto__=GeneratorFunctionPrototype,n in e||(e[n]="GeneratorFunction")),e.prototype=Object.create(_),e},a.awrap=function(e){return{__await:e}},defineIteratorMethods(AsyncIterator.prototype),AsyncIterator.prototype[i]=function(){return this},a.AsyncIterator=AsyncIterator,a.async=function(e,t,i,n){var r=new AsyncIterator(wrap(e,t,i,n));return a.isGeneratorFunction(t)?r:r.next().then(function(e){return e.done?e.value:r.next()})},defineIteratorMethods(_),_[n]="Generator",_[r]=function(){return this},_.toString=function(){return"[object Generator]"},a.keys=function(t){var i=[];for(var e in t)i.push(e);return i.reverse(),function next(){for(;i.length;){var e=i.pop();if(e in t)return next.value=e,next.done=!1,next}return next.done=!0,next}},a.values=values,Context.prototype={constructor:Context,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=s,this.done=!1,this.delegate=null,this.method="next",this.arg=s,this.tryEntries.forEach(resetTryEntry),!e)for(var t in this)"t"===t.charAt(0)&&l.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=s)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(i){if(this.done)throw i;var n=this;function handle(e,t){return r.type="throw",r.arg=i,n.next=e,t&&(n.method="next",n.arg=s),!!t}for(var e=this.tryEntries.length-1;0<=e;--e){var t=this.tryEntries[e],r=t.completion;if("root"===t.tryLoc)return handle("end");if(t.tryLoc<=this.prev){var a=l.call(t,"catchLoc"),o=l.call(t,"finallyLoc");if(a&&o){if(this.prev<t.catchLoc)return handle(t.catchLoc,!0);if(this.prev<t.finallyLoc)return handle(t.finallyLoc)}else if(a){if(this.prev<t.catchLoc)return handle(t.catchLoc,!0)}else{if(!o)throw new Error("try statement without catch or finally");if(this.prev<t.finallyLoc)return handle(t.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;0<=i;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&l.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var r=n;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,m):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),resetTryEntry(i),m}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var r=n.arg;resetTryEntry(i)}return r}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,i){return this.delegate={iterator:values(e),resultName:t,nextLoc:i},"next"===this.method&&(this.arg=s),m}},a}(e.exports);try{regeneratorRuntime=n}catch(e){Function("r","regeneratorRuntime = r")(n)}},function(e,t,i){"use strict";i(502),e.exports=i(173).global},function(e,t,i){"use strict";var n=i(503);n(n.G,{global:i(128)})},function(e,t,i){"use strict";function mrf(e,t,i){var n,r,a,o=e&mrf.F,s=e&mrf.G,l=e&mrf.S,u=e&mrf.P,h=e&mrf.B,d=e&mrf.W,c=s?_:_[t]||(_[t]={}),p=c[b],f=s?m:l?m[t]:(m[t]||{})[b];for(n in s&&(i=t),i)(r=!o&&f&&void 0!==f[n])&&y(c,n)||(a=r?f[n]:i[n],c[n]=s&&"function"!=typeof f[n]?i[n]:h&&r?g(a,m):d&&f[n]==a?function(n){function Drf(e,t,i){if(this instanceof n){switch(arguments.length){case 0:return new n;case 1:return new n(e);case 2:return new n(e,t)}return new n(e,t,i)}return n.apply(this,arguments)}return Drf[b]=n[b],Drf}(a):u&&"function"==typeof a?g(Function.call,a):a,u&&((c.virtual||(c.virtual={}))[n]=a,e&mrf.R&&p&&!p[n]&&v(p,n,a)))}var m=i(128),_=i(173),g=i(504),v=i(506),y=i(513),b="prototype";mrf.F=1,mrf.G=2,mrf.S=4,mrf.P=8,mrf.B=16,mrf.W=32,mrf.U=64,mrf.R=128,e.exports=mrf},function(e,t,i){"use strict";var a=i(505);e.exports=function(n,r,e){if(a(n),void 0===r)return n;switch(e){case 1:return function(e){return n.call(r,e)};case 2:return function(e,t){return n.call(r,e,t)};case 3:return function(e,t,i){return n.call(r,e,t,i)}}return function(){return n.apply(r,arguments)}}},function(e,t,i){"use strict";e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,i){"use strict";var n=i(507),r=i(512);e.exports=i(130)?function(e,t,i){return n.f(e,t,r(1,i))}:function(e,t,i){return e[t]=i,e}},function(e,t,i){"use strict";var n=i(508),r=i(509),a=i(511),o=Object.defineProperty;t.f=i(130)?Object.defineProperty:function(e,t,i){if(n(e),t=a(t,!0),n(i),r)try{return o(e,t,i)}catch(e){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},function(e,t,i){"use strict";var n=i(129);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,i){"use strict";e.exports=!i(130)&&!i(174)(function(){return 7!=Object.defineProperty(i(510)("div"),"a",{get:function(){return 7}}).a})},function(e,t,i){"use strict";var n=i(129),r=i(128).document,a=n(r)&&n(r.createElement);e.exports=function(e){return a?r.createElement(e):{}}},function(e,t,i){"use strict";var r=i(129);e.exports=function(e,t){if(!r(e))return e;var i,n;if(t&&"function"==typeof(i=e.toString)&&!r(n=i.call(e)))return n;if("function"==typeof(i=e.valueOf)&&!r(n=i.call(e)))return n;if(!t&&"function"==typeof(i=e.toString)&&!r(n=i.call(e)))return n;throw TypeError("Can't convert object to primitive value")}},function(e,t,i){"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,i){"use strict";var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,o){"use strict";if(window.ASSET_URL="assets/",window.URLParams=window.URLParams||{},window.DEVICE_SCALE=window.devicePixelRatio||1,window.console||(window.console={log:function(){}}),window.console.log||(window.console.log=function(e){}),location.search&&("localhost"===location.hostname||"dev.goodboydigital.com"===location.hostname||0===location.hostname.indexOf("192.168.")||0===location.hostname.indexOf("134.122.98.")))for(var i=location.search.substr(1).split("&"),n=0;n<i.length;n++){var r=i[n].split("=");window.URLParams[r[0]]=r[1]}function onDeviceReady(){if((a=document.createElement("canvas")).getContext&&a.getContext("2d")){var e=function(){window.scrollTo(0,0);var e=window.innerHeight;90===Math.abs(window.orientation)&&t.instance.iPhone&&t.instance.safari&&e++,n.resize(window.innerWidth,e)},t=(o(516),o(517),o(518),o(519),o(15)),i=o(520).default;window.CES=new i;var n=new(o(523).default);window.Device=t,window.app=n,window.cordova&&window.navigator&&window.navigator.app&&window.navigator.app.clearHistory&&window.navigator.app.clearHistory();var r=document.getElementById("container");document.body.appendChild(n.view),r.style.background="black",n.view.style.position="absolute",n.view.style.top=0,n.view.style.left=0,window.addEventListener("resize",function(){e(),window.cordova||setTimeout(function(){e()},400)}),!window.cordova&&t.instance.iOS&&setTimeout(function(){e()},1e3),window.addEventListener("orientationchange",function(){!function orientationchange(){t.instance.android&&!window.cordova&&(0===window.orientation&&window.innerWidth>window.innerHeight||0!==window.orientation&&window.innerWidth<window.innerHeight)?setTimeout(function(){orientationchange()},200):e()}()}),e()}else new(o(515))(document.body);var a}window.cordova?document.addEventListener("deviceready",onDeviceReady,!1):onDeviceReady()},function(e,t,i){"use strict";var n;void 0===(n=function(e,t,i){function Ctf(e){this.domElement=e||document.body;var t="http://www.someurl.tld/",i="http://www.someurl.tld/",n='<p>Uh-oh! It looks like you need to update your browser before you\'ll be able to play this game</p><p>In the meantime, check out <a href="#brand_url">this</a> or <a href="#cbeebies_games_url">this</a>.';n=(n=n.replace("#brand_url",t)).replace("#games_url",i),this.active=!1,this.checkDevice(navigator.userAgent),this.checkCanvas(),this.checkCookies()}(Ctf.prototype.constructor=Ctf).prototype={checkDevice:function(e){for(var t=[/(Mobile\/8C148)/,/(Mobile\/8C148a)/,/(Mobile\/8A293)/,/(Mobile\/8A306)/,/(Mobile\/8A400)/,/(Mobile\/8B117)/,/(Mobile\/8E128)/,/(Mobile\/8E200)/,/(Mobile\/8E303)/,/(Mobile\/8E401)/,/(Mobile\/8E600)/,/(Mobile\/8E501)/,/(Mobile\/8G4)/,/(Mobile\/8H7)/,/(Mobile\/8J2)/,/(Mobile\/8K2)/,/(Mobile\/8L1)/,/(Mobile\/9A334)/,/(Mobile\/10A523)/,/(Mobile\/9A405)/],i=0;i<t.length;i++)if(e.match(t[i])){var n=ASSET_URL+"img/unsupported.jpg";return this.createBigImage(n),!1}if(/iP[ao]d|iPhone/i.test(e)){if((parseFloat(String((/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent)||[0,""])[1]).replace("undefined","3_2").replace("_",".").replace("_",""))||!1)<6){n=ASSET_URL+"img/unsupported.jpg";return this.createBigImage(n),!1}}},checkCanvas:function(){if(this.hasCanvasSupport())return!0;var e=ASSET_URL+"img/unsupported.jpg";return this.createBigImage(e),!1},hasCanvasSupport:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))},checkCookies:function(){if(!this.cookiesEnabled()){var e=ASSET_URL+"img/cookies.jpg";this.createBigImage(e)}},cookiesEnabled:function(){var e=!!navigator.cookieEnabled;return void 0!==navigator.cookieEnabled||e||(document.cookie="testcookie",e=-1!=document.cookie.indexOf("testcookie")),e},createBigImage2:function(e){var t=document.createElement("div");t.style.backgroundPosition="50% 50%",t.style.backgroundColor="#3b3b3b",t.style.backgroundRepeat="no-repeat",t.style.position="absolute",t.style.top="0",t.style.left="0",t.style.bottom="0",t.style.right="0",t.style.zIndex=1e5,t.height="100%",t.width="100%",t.style.backgroundImage="url("+e+")",this.domElement.appendChild(t),this.active=!0},createBigImage:function(e){var n=new Image;n.style.backgroundPosition="50% 50%",n.style.backgroundColor="#3b3b3b",n.style.backgroundRepeat="no-repeat",n.style.position="absolute",n.style.top="0",n.style.left="0",n.style.bottom="0",n.style.right="0",n.style.zIndex=1e5,n.src=e,this.domElement.appendChild(n),window.onresize=function(){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,t=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight,i=e/750;1<i&&(i=1),n.width=750*i,n.height=500*i,n.style.left=e/2-750*i/2+"px",n.style.top=t/2-500*i/2+"px"},window.onresize(),this.active=!0}},i.exports=Ctf}.call(t,i,t,e))||(e.exports=n)},function(F,Y,e){"use strict";var U;
/*!
 * VERSION: beta 1.10.2
 * DATE: 2013-08-05
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * @license Copyright (c) 2008-2013, GreenSock. All rights reserved.
 * This work is subject to the terms at http://www.greensock.com/terms_of_use.html or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
!function(h){function huf(e){var t,i=e.split("."),n=p;for(t=0;i.length>t;t++)n[i[t]]=n=n[i[t]]||{};return n}function kuf(){}function muf(s,l,u,h){this.sc=m[s]?m[s].sc:[],(m[s]=this).gsClass=null,this.func=u;var d=[];this.check=function(e){for(var t,i,n,r,a=l.length,o=a;-1<--a;)(t=m[l[a]]||new muf(l[a],[])).gsClass?(d[a]=t.gsClass,o--):e&&t.sc.push(this);if(0===o&&u)for(n=(i=("com.greensock."+s).split(".")).pop(),r=huf(i.join("."))[n]=this.gsClass=u.apply(u,d),h&&(p[n]=r,void 0===(U=function(){return r}.apply(Y,[]))||(F.exports=U)),a=0;this.sc.length>a;a++)this.sc[a].check()},this.check(!0)}var e,t,i,d,c,p=h.GreenSockGlobals||h,f=huf("com.greensock"),l=[].slice,m={},n=h._gsDefine=function(e,t,i,n){return new muf(e,t,i,n)},_=f._class=function(e,t,i){return t=t||function(){},n(e,[],function(){return t},i),t};n.globals=p;var r=[0,0,1,1],g=[],u=_("easing.Ease",function(e,t,i,n){this._func=e,this._type=i||0,this._power=n||0,this._params=t?r.concat(t):r},!0),v=u.map={},a=u.register=function(e,t,i,n){for(var r,a,o,s,l=t.split(","),u=l.length,h=(i||"easeIn,easeOut,easeInOut").split(",");-1<--u;)for(a=l[u],r=n?_("easing."+a,null,!0):f.easing[a]||{},o=h.length;-1<--o;)s=h[o],v[a+"."+s]=v[s+a]=r[s]=e.getRatio?e:e[s]||new e};for((i=u.prototype)._calcEnd=!1,i.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,i=this._power,n=1===t?1-e:2===t?e:e<.5?2*e:2*(1-e);return 1===i?n*=n:2===i?n*=n*n:3===i?n*=n*n*n:4===i&&(n*=n*n*n*n),1===t?1-n:2===t?n:e<.5?n/2:1-n/2},t=(e=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;-1<--t;)i=e[t]+",Power"+t,a(new u(null,null,1,t),i,"easeOut",!0),a(new u(null,null,2,t),i,"easeIn"+(0===t?",easeNone":"")),a(new u(null,null,3,t),i,"easeInOut");v.linear=f.easing.Linear.easeIn,v.swing=f.easing.Quad.easeInOut;var y=_("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});(i=y.prototype).addEventListener=function(e,t,i,n,r){r=r||0;var a,o,s=this._listeners[e],l=0;for(null==s&&(this._listeners[e]=s=[]),o=s.length;-1<--o;)(a=s[o]).c===t&&a.s===i?s.splice(o,1):0===l&&r>a.pr&&(l=o+1);s.splice(l,0,{c:t,s:i,up:n,pr:r}),this!==d||c||d.wake()},i.removeEventListener=function(e,t){var i,n=this._listeners[e];if(n)for(i=n.length;-1<--i;)if(n[i].c===t)return void n.splice(i,1)},i.dispatchEvent=function(e){var t,i,n,r=this._listeners[e];if(r)for(t=r.length,i=this._eventTarget;-1<--t;)(n=r[t]).up?n.c.call(n.s||i,{type:e,target:i}):n.c.call(n.s||i)};var b=h.requestAnimationFrame,w=h.cancelAnimationFrame,x=Date.now||function(){return(new Date).getTime()},T=x();for(t=(e=["ms","moz","webkit","o"]).length;-1<--t&&!b;)b=h[e[t]+"RequestAnimationFrame"],w=h[e[t]+"CancelAnimationFrame"]||h[e[t]+"CancelRequestAnimationFrame"];_("Ticker",function(e,t){function gwf(e){T=x(),l.time=(T-u)/1e3;var t,i=l.time-s;(!n||0<i||!0===e)&&(l.frame++,s+=i+(o<=i?.004:o-i),t=!0),!0!==e&&(a=r(gwf)),t&&l.dispatchEvent("tick")}var n,r,a,o,s,l=this,u=x(),i=!1!==t&&b;y.call(l),this.time=this.frame=0,this.tick=function(){gwf(!0)},this.sleep=function(){null!=a&&((i&&w?w:clearTimeout)(a),r=kuf,a=null,l===d&&(c=!1))},this.wake=function(){null!==a&&l.sleep(),r=0===n?kuf:i&&b?b:function(e){return setTimeout(e,0|1e3*(s-l.time)+1)},l===d&&(c=!0),gwf(2)},this.fps=function(e){return arguments.length?(o=1/((n=e)||60),s=this.time+o,void l.wake()):n},this.useRAF=function(e){return arguments.length?(l.sleep(),i=e,void l.fps(n)):i},l.fps(e),setTimeout(function(){i&&(!a||l.frame<5)&&l.useRAF(!1)},1500)}),(i=f.Ticker.prototype=new f.events.EventDispatcher).constructor=f.Ticker;var M=_("core.Animation",function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=!0===t.immediateRender,this.data=t.data,this._reversed=!0===t.reversed,k){c||d.wake();var i=this.vars.useFrames?R:k;i.add(this,i._time),this.vars.paused&&this.paused(!0)}});d=M.ticker=new f.Ticker,(i=M.prototype)._dirty=i._gc=i._initted=i._paused=!1,i._totalTime=i._time=0,i._rawPrevTime=-1,i._next=i._last=i._onUpdate=i._timeline=i.timeline=null,i._paused=!1;(function S(){2e3<x()-T&&d.wake(),setTimeout(S,2e3)})(),i.play=function(e,t){return arguments.length&&this.seek(e,t),this.reversed(!1).paused(!1)},i.pause=function(e,t){return arguments.length&&this.seek(e,t),this.paused(!0)},i.resume=function(e,t){return arguments.length&&this.seek(e,t),this.paused(!1)},i.seek=function(e,t){return this.totalTime(Number(e),!1!==t)},i.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,!1!==t,!0)},i.reverse=function(e,t){return arguments.length&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},i.render=function(){},i.invalidate=function(){return this},i._enabled=function(e,t){return c||d.wake(),this._gc=!e,this._active=e&&!this._paused&&0<this._totalTime&&this._totalTime<this._totalDuration,!0!==t&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},i._kill=function(){return this._enabled(!1,!1)},i.kill=function(e,t){return this._kill(e,t),this},i._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},i._swapSelfInParams=function(e){for(var t=e.length,i=e.concat();-1<--t;)"{self}"===e[t]&&(i[t]=this);return i},i.eventCallback=function(e,t,i,n){if("on"===(e||"").substr(0,2)){var r=this.vars;if(1===arguments.length)return r[e];null==t?delete r[e]:(r[e]=t,r[e+"Params"]=i instanceof Array&&-1!==i.join("").indexOf("{self}")?this._swapSelfInParams(i):i,r[e+"Scope"]=n),"onUpdate"===e&&(this._onUpdate=t)}return this},i.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},i.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&0<this._time&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},i.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},i.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},i.totalTime=function(e,t,i){if(c||d.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(e<0&&!i&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var n=this._totalDuration,r=this._timeline;if(n<e&&!i&&(e=n),this._startTime=(this._paused?this._pauseTime:r._time)-(this._reversed?n-e:e)/this._timeScale,r._dirty||this._uncache(!1),r._timeline)for(;r._timeline;)r._timeline._time!==(r._startTime+r._totalTime)/r._timeScale&&r.totalTime(r._totalTime,!0),r=r._timeline}this._gc&&this._enabled(!0,!1),this._totalTime!==e&&this.render(e,t,!1)}return this},i.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},i.timeScale=function(e){if(!arguments.length)return this._timeScale;if(e=e||1e-6,this._timeline&&this._timeline.smoothChildTiming){var t=this._pauseTime,i=t||0===t?t:this._timeline.totalTime();this._startTime=i-(i-this._startTime)*this._timeScale/e}return this._timeScale=e,this._uncache(!1)},i.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._totalTime,!0)),this):this._reversed},i.paused=function(e){if(!arguments.length)return this._paused;if(e!=this._paused&&this._timeline){c||e||d.wake();var t=this._timeline,i=t.rawTime(),n=i-this._pauseTime;!e&&t.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=e?i:null,this._paused=e,this._active=!e&&0<this._totalTime&&this._totalTime<this._totalDuration,e||0==n||0===this._duration||this.render(t.smoothChildTiming?this._totalTime:(i-this._startTime)/this._timeScale,!0,!0)}return this._gc&&!e&&this._enabled(!0,!1),this};var o=_("core.SimpleTimeline",function(e){M.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});(i=o.prototype=new M).constructor=o,i.kill()._gc=!1,i._first=i._last=null,i._sortChildren=!1,i.add=i.insert=function(e,t){var i,n;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=e._startTime+(this.rawTime()-e._startTime)/e._timeScale),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),i=this._last,this._sortChildren)for(n=e._startTime;i&&i._startTime>n;)i=i._prev;return i?(e._next=i._next,i._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=i,this._timeline&&this._uncache(!0),this},i._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e.timeline=null,e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),this._timeline&&this._uncache(!0)),this},i.render=function(e,t,i){var n,r=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;r;)n=r._next,(r._active||e>=r._startTime&&!r._paused)&&(r._reversed?r.render((r._dirty?r.totalDuration():r._totalDuration)-(e-r._startTime)*r._timeScale,t,i):r.render((e-r._startTime)*r._timeScale,t,i)),r=n},i.rawTime=function(){return c||d.wake(),this._totalTime};function Duf(e){return e.length&&e!==h&&e[0]&&(e[0]===h||e[0].nodeType&&e[0].style&&!e.nodeType)}var L=_("TweenLite",function(e,t,i){if(M.call(this,t,i),this.render=L.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"==typeof e&&L.selector(e)||e;var n,r,a,o=e.jquery||e.length&&e!==h&&e[0]&&(e[0]===h||e[0].nodeType&&e[0].style&&!e.nodeType),s=this.vars.overwrite;if(this._overwrite=s=null==s?D[L.defaultOverwrite]:"number"==typeof s?s>>0:D[s],(o||e instanceof Array)&&"number"!=typeof e[0])for(this._targets=a=l.call(e,0),this._propLookup=[],this._siblings=[],n=0;a.length>n;n++)(r=a[n])?"string"!=typeof r?r.length&&r!==h&&r[0]&&(r[0]===h||r[0].nodeType&&r[0].style&&!r.nodeType)?(a.splice(n--,1),this._targets=a=a.concat(l.call(r,0))):(this._siblings[n]=I(r,this,!1),1===s&&1<this._siblings[n].length&&O(r,this,null,1,this._siblings[n])):"string"==typeof(r=a[n--]=L.selector(r))&&a.splice(n+1,1):a.splice(n--,1);else this._propLookup={},this._siblings=I(e,this,!1),1===s&&1<this._siblings.length&&O(e,this,null,1,this._siblings);(this.vars.immediateRender||0===t&&0===this._delay&&!1!==this.vars.immediateRender)&&this.render(-this._delay,!1,!0)},!0);(i=L.prototype=new M).constructor=L,i.kill()._gc=!1,i.ratio=0,i._firstPT=i._targets=i._overwrittenProps=i._startAt=null,i._notifyPluginsOfEnabled=!1,L.version="1.10.2",L.defaultEase=i._ease=new u(null,null,1,1),L.defaultOverwrite="auto",L.ticker=d,L.autoSleep=!0,L.selector=h.$||h.jQuery||function(e){return h.$?(L.selector=h.$,h.$(e)):h.document?h.document.getElementById("#"===e.charAt(0)?e.substr(1):e):e};var s=L._internals={},E=L._plugins={},C=L._tweenLookup={},A=0,P=s.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1},D={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},R=M._rootFramesTimeline=new o,k=M._rootTimeline=new o;k._startTime=d.time,R._startTime=d.frame,k._active=R._active=!0,M._updateRoot=function(){if(k.render((d.time-k._startTime)*k._timeScale,!1,!1),R.render((d.frame-R._startTime)*R._timeScale,!1,!1),!(d.frame%120)){var e,t,i;for(i in C){for(e=(t=C[i].tweens).length;-1<--e;)t[e]._gc&&t.splice(e,1);0===t.length&&delete C[i]}if((!(i=k._first)||i._paused)&&L.autoSleep&&!R._first&&1===d._listeners.tick.length){for(;i&&i._paused;)i=i._next;i||d.sleep()}}},d.addEventListener("tick",M._updateRoot);var I=function(e,t,i){var n,r,a=e._gsTweenID;if(C[a||(e._gsTweenID=a="t"+A++)]||(C[a]={target:e,tweens:[]}),t&&((n=C[a].tweens)[r=n.length]=t,i))for(;-1<--r;)n[r]===t&&n.splice(r,1);return C[a].tweens},O=function(e,t,i,n,r){var a,o,s,l;if(1===n||4<=n){for(l=r.length,a=0;a<l;a++)if((s=r[a])!==t)s._gc||s._enabled(!1,!1)&&(o=!0);else if(5===n)break;return o}var u,h=t._startTime+1e-10,d=[],c=0,p=0===t._duration;for(a=r.length;-1<--a;)(s=r[a])===t||s._gc||s._paused||(s._timeline!==t._timeline?(u=u||B(t,0,p),0===B(s,u,p)&&(d[c++]=s)):h>=s._startTime&&s._startTime+s.totalDuration()/s._timeScale+1e-10>h&&((p||!s._initted)&&h-s._startTime<=2e-10||(d[c++]=s)));for(a=c;-1<--a;)s=d[a],2===n&&s._kill(i,e)&&(o=!0),(2!==n||!s._firstPT&&s._initted)&&s._enabled(!1,!1)&&(o=!0);return o},B=function(e,t,i){for(var n=e._timeline,r=n._timeScale,a=e._startTime;n._timeline;){if(a+=n._startTime,r*=n._timeScale,n._paused)return-100;n=n._timeline}return t<(a/=r)?a-t:i&&a===t||!e._initted&&a-t<2e-10?1e-10:(a+=e.totalDuration()/e._timeScale/r)>t+1e-10?0:a-t-1e-10};i._init=function(){var e,t,i,n,r=this.vars,a=this._overwrittenProps,o=this._duration,s=r.immediateRender,l=r.ease;if(r.startAt){if(this._startAt&&this._startAt.render(-1,!0),r.startAt.overwrite=0,r.startAt.immediateRender=!0,this._startAt=L.to(this.target,0,r.startAt),s)if(0<this._time)this._startAt=null;else if(0!==o)return}else if(r.runBackwards&&r.immediateRender&&0!==o)if(this._startAt)this._startAt.render(-1,!0),this._startAt=null;else if(0===this._time){for(n in i={},r)P[n]&&"autoCSS"!==n||(i[n]=r[n]);return i.overwrite=0,void(this._startAt=L.to(this.target,0,i))}if(this._ease=l?l instanceof u?r.easeParams instanceof Array?l.config.apply(l,r.easeParams):l:"function"==typeof l?new u(l,r.easeParams):v[l]||L.defaultEase:L.defaultEase,this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(e=this._targets.length;-1<--e;)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],a?a[e]:null)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,a);if(t&&L._onPluginEvent("_onInitAllProps",this),a&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),r.runBackwards)for(i=this._firstPT;i;)i.s+=i.c,i.c=-i.c,i=i._next;this._onUpdate=r.onUpdate,this._initted=!0},i._initProps=function(e,t,i,n){var r,a,o,s,l,u;if(null==e)return!1;for(r in this.vars.css||e.style&&e!==h&&e.nodeType&&E.css&&!1!==this.vars.autoCSS&&function(e,t){var i,n={};for(i in e)P[i]||i in t&&"x"!==i&&"y"!==i&&"width"!==i&&"height"!==i&&"className"!==i&&"border"!==i||!(!E[i]||E[i]&&E[i]._autoCSS)||(n[i]=e[i],delete e[i]);e.css=n}(this.vars,e),this.vars){if(u=this.vars[r],P[r])u instanceof Array&&-1!==u.join("").indexOf("{self}")&&(this.vars[r]=u=this._swapSelfInParams(u,this));else if(E[r]&&(s=new E[r])._onInitTween(e,this.vars[r],this)){for(this._firstPT=l={_next:this._firstPT,t:s,p:"setRatio",s:0,c:1,f:!0,n:r,pg:!0,pr:s._priority},a=s._overwriteProps.length;-1<--a;)t[s._overwriteProps[a]]=this._firstPT;(s._priority||s._onInitAllProps)&&(o=!0),(s._onDisable||s._onEnable)&&(this._notifyPluginsOfEnabled=!0)}else this._firstPT=t[r]=l={_next:this._firstPT,t:e,p:r,f:"function"==typeof e[r],n:r,pg:!1,pr:0},l.s=l.f?e[r.indexOf("set")||"function"!=typeof e["get"+r.substr(3)]?r:"get"+r.substr(3)]():parseFloat(e[r]),l.c="string"==typeof u&&"="===u.charAt(1)?parseInt(u.charAt(0)+"1",10)*Number(u.substr(2)):Number(u)-l.s||0;l&&l._next&&(l._next._prev=l)}return n&&this._kill(n,e)?this._initProps(e,t,i,n):1<this._overwrite&&this._firstPT&&1<i.length&&O(e,this,t,this._overwrite,i)?(this._kill(t,e),this._initProps(e,t,i,n)):o},i.render=function(e,t,i){var n,r,a,o=this._time;if(e>=this._duration)this._totalTime=this._time=this._duration,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(n=!0,r="onComplete"),0===this._duration&&((0===e||this._rawPrevTime<0)&&this._rawPrevTime!==e&&(i=!0,0<this._rawPrevTime&&(r="onReverseComplete",t&&(e=-1))),this._rawPrevTime=e);else if(e<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==o||0===this._duration&&0<this._rawPrevTime)&&(r="onReverseComplete",n=this._reversed),e<0?(this._active=!1,0===this._duration&&(0<=this._rawPrevTime&&(i=!0),this._rawPrevTime=e)):this._initted||(i=!0);else if(this._totalTime=this._time=e,this._easeType){var s=e/this._duration,l=this._easeType,u=this._easePower;(1===l||3===l&&.5<=s)&&(s=1-s),3===l&&(s*=2),1===u?s*=s:2===u?s*=s*s:3===u?s*=s*s*s:4===u&&(s*=s*s*s*s),this.ratio=1===l?1-s:2===l?s:e/this._duration<.5?s/2:1-s/2}else this.ratio=this._ease.getRatio(e/this._duration);if(this._time!==o||i){if(!this._initted){if(this._init(),!this._initted)return;this._time&&!n?this.ratio=this._ease.getRatio(this._time/this._duration):n&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(this._active||!this._paused&&this._time!==o&&0<=e&&(this._active=!0),0===o&&(this._startAt&&(0<=e?this._startAt.render(e,t,i):r=r||"_dummyGS"),!this.vars.onStart||0===this._time&&0!==this._duration||(t||this.vars.onStart.apply(this.vars.onStartScope||this,this.vars.onStartParams||g))),a=this._firstPT;a;)a.f?a.t[a.p](a.c*this.ratio+a.s):a.t[a.p]=a.c*this.ratio+a.s,a=a._next;this._onUpdate&&(e<0&&this._startAt&&this._startAt.render(e,t,i),t||this._onUpdate.apply(this.vars.onUpdateScope||this,this.vars.onUpdateParams||g)),r&&(this._gc||(e<0&&this._startAt&&!this._onUpdate&&this._startAt.render(e,t,i),n&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[r]&&this.vars[r].apply(this.vars[r+"Scope"]||this,this.vars[r+"Params"]||g)))}},i._kill=function(e,t){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._enabled(!1,!1);var i,n,r,a,o,s,l,u;if(((t="string"!=typeof t?t||this._targets||this.target:L.selector(t)||t)instanceof Array||Duf(t))&&"number"!=typeof t[0])for(i=t.length;-1<--i;)this._kill(e,t[i])&&(s=!0);else{if(this._targets){for(i=this._targets.length;-1<--i;)if(t===this._targets[i]){o=this._propLookup[i]||{},this._overwrittenProps=this._overwrittenProps||[],n=this._overwrittenProps[i]=e?this._overwrittenProps[i]||{}:"all";break}}else{if(t!==this.target)return!1;o=this._propLookup,n=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(o){for(r in l=e||o,u=e!==n&&"all"!==n&&e!==o&&(null==e||!0!==e._tempKill),l)(a=o[r])&&(a.pg&&a.t._kill(l)&&(s=!0),a.pg&&0!==a.t._overwriteProps.length||(a._prev?a._prev._next=a._next:a===this._firstPT&&(this._firstPT=a._next),a._next&&(a._next._prev=a._prev),a._next=a._prev=null),delete o[r]),u&&(n[r]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return s},i.invalidate=function(){return this._notifyPluginsOfEnabled&&L._onPluginEvent("_onDisable",this),this._firstPT=null,this._overwrittenProps=null,this._onUpdate=null,this._startAt=null,this._initted=this._active=this._notifyPluginsOfEnabled=!1,this._propLookup=this._targets?{}:[],this},i._enabled=function(e,t){if(c||d.wake(),e&&this._gc){var i,n=this._targets;if(n)for(i=n.length;-1<--i;)this._siblings[i]=I(n[i],this,!0);else this._siblings=I(this.target,this,!0)}return M.prototype._enabled.call(this,e,t),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&L._onPluginEvent(e?"_onEnable":"_onDisable",this)},L.to=function(e,t,i){return new L(e,t,i)},L.from=function(e,t,i){return i.runBackwards=!0,i.immediateRender=0!=i.immediateRender,new L(e,t,i)},L.fromTo=function(e,t,i,n){return n.startAt=i,n.immediateRender=0!=n.immediateRender&&0!=i.immediateRender,new L(e,t,n)},L.delayedCall=function(e,t,i,n,r){return new L(t,0,{delay:e,onComplete:t,onCompleteParams:i,onCompleteScope:n,onReverseComplete:t,onReverseCompleteParams:i,onReverseCompleteScope:n,immediateRender:!1,useFrames:r,overwrite:0})},L.set=function(e,t){return new L(e,0,t)},L.killTweensOf=L.killDelayedCallsTo=function(e,t){for(var i=L.getTweensOf(e),n=i.length;-1<--n;)i[n]._kill(t,e)},L.getTweensOf=function(e){if(null==e)return[];var t,i,n,r;if(((e="string"==typeof e&&L.selector(e)||e)instanceof Array||Duf(e))&&"number"!=typeof e[0]){for(t=e.length,i=[];-1<--t;)i=i.concat(L.getTweensOf(e[t]));for(t=i.length;-1<--t;)for(r=i[t],n=t;-1<--n;)r===i[n]&&i.splice(t,1)}else for(t=(i=I(e).concat()).length;-1<--t;)i[t]._gc&&i.splice(t,1);return i};var N=_("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=N.prototype},!0);if(i=N.prototype,N.version="1.10.1",N.API=2,i._firstPT=null,i._addTween=function(e,t,i,n,r,a){var o,s;return null!=n&&(o="number"==typeof n||"="!==n.charAt(1)?Number(n)-i:parseInt(n.charAt(0)+"1",10)*Number(n.substr(2)))?(this._firstPT=s={_next:this._firstPT,t:e,p:t,s:i,c:o,f:"function"==typeof e[t],n:r||t,r:a},s._next&&(s._next._prev=s),s):void 0},i.setRatio=function(e){for(var t,i=this._firstPT;i;)t=i.c*e+i.s,i.r?t=0|t+(0<t?.5:-.5):t<1e-6&&-1e-6<t&&(t=0),i.f?i.t[i.p](t):i.t[i.p]=t,i=i._next},i._kill=function(e){var t,i=this._overwriteProps,n=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=i.length;-1<--t;)null!=e[i[t]]&&i.splice(t,1);for(;n;)null!=e[n.n]&&(n._next&&(n._next._prev=n._prev),n._prev?(n._prev._next=n._next,n._prev=null):this._firstPT===n&&(this._firstPT=n._next)),n=n._next;return!1},i._roundProps=function(e,t){for(var i=this._firstPT;i;)(e[this._propName]||null!=i.n&&e[i.n.split(this._propName+"_").join("")])&&(i.r=t),i=i._next},L._onPluginEvent=function(e,t){var i,n,r,a,o,s=t._firstPT;if("_onInitAllProps"===e){for(;s;){for(o=s._next,n=r;n&&n.pr>s.pr;)n=n._next;(s._prev=n?n._prev:a)?s._prev._next=s:r=s,(s._next=n)?n._prev=s:a=s,s=o}s=t._firstPT=r}for(;s;)s.pg&&"function"==typeof s.t[e]&&s.t[e]()&&(i=!0),s=s._next;return i},N.activate=function(e){for(var t=e.length;-1<--t;)e[t].API===N.API&&(E[(new e[t])._propName]=e[t]);return!0},n.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,i=e.propName,n=e.priority||0,r=e.overwriteProps,a={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_roundProps",initAll:"_onInitAllProps"},o=_("plugins."+i.charAt(0).toUpperCase()+i.substr(1)+"Plugin",function(){N.call(this,i,n),this._overwriteProps=r||[]},!0===e.global),s=o.prototype=new N(i);for(t in(s.constructor=o).API=e.API,a)"function"==typeof e[t]&&(s[a[t]]=e[t]);return o.version=e.version,N.activate([o]),o},e=h._gsQueue){for(t=0;e.length>t;t++)e[t]();for(i in m)m[i].func||h.console.log("GSAP encountered missing dependency: com.greensock."+i)}c=!1}(window)},function(e,t,i){"use strict";
/*!
 * VERSION: beta 1.9.3
 * DATE: 2013-04-02
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * @license Copyright (c) 2008-2013, GreenSock. All rights reserved.
 * This work is subject to the terms at http://www.greensock.com/terms_of_use.html or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/
(window._gsQueue||(window._gsQueue=[])).push(function(){window._gsDefine("easing.Back",["easing.Ease"],function(_){function vAf(e,t){var i=s("easing."+e,function(){},!0),n=i.prototype=new _;return n.constructor=i,n.getRatio=t,i}function xAf(e,t,i,n){var r=s("easing."+e,{easeOut:new t,easeIn:new i,easeInOut:new n},!0);return l(r,e),r}function yAf(e,t,i){this.t=e,this.v=t,i&&(((this.next=i).prev=this).c=i.v-t,this.gap=i.t-e)}function zAf(e,t){var i=s("easing."+e,function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1},!0),n=i.prototype=new _;return n.constructor=i,n.getRatio=t,n.config=function(e){return new i(e)},i}var t,i,e,n=window.GreenSockGlobals||window,r=n.com.greensock,a=2*Math.PI,o=Math.PI/2,s=r._class,l=_.register||function(){},u=xAf("Back",zAf("BackOut",function(e){return--e*e*((this._p1+1)*e+this._p1)+1}),zAf("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),zAf("BackInOut",function(e){return(e*=2)<1?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)})),h=s("easing.SlowMo",function(e,t,i){t=t||0===t?t:.7,null==e?e=.7:1<e&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=!0===i},!0),d=h.prototype=new _;return d.constructor=h,d.getRatio=function(e){var t=e+(.5-e)*this._p;return this._p1>e?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},h.ease=new h(.7,.7),d.config=h.config=function(e,t,i){return new h(e,t,i)},(d=(t=s("easing.SteppedEase",function(e){e=e||1,this._p1=1/e,this._p2=e+1},!0)).prototype=new _).constructor=t,d.getRatio=function(e){return e<0?e=0:1<=e&&(e=.999999999),(this._p2*e>>0)*this._p1},d.config=t.config=function(e){return new t(e)},(d=(i=s("easing.RoughEase",function(e){for(var t,i,n,r,a,o,s=(e=e||{}).taper||"none",l=[],u=0,h=0|(e.points||20),d=h,c=!1!==e.randomize,p=!0===e.clamp,f=e.template instanceof _?e.template:null,m="number"==typeof e.strength?.4*e.strength:.4;-1<--d;)t=c?Math.random():1/h*d,i=f?f.getRatio(t):t,n="none"===s?m:"out"===s?(r=1-t)*r*m:"in"===s?t*t*m:.5*(r=t<.5?2*t:2*(1-t))*r*m,c?i+=Math.random()*n-.5*n:d%2?i+=.5*n:i-=.5*n,p&&(1<i?i=1:i<0&&(i=0)),l[u++]={x:t,y:i};for(l.sort(function(e,t){return e.x-t.x}),o=new yAf(1,1,null),d=h;-1<--d;)a=l[d],o=new yAf(a.x,a.y,o);this._prev=new yAf(0,0,0!==o.t?o:o.next)},!0)).prototype=new _).constructor=i,d.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&t.t>=e;)t=t.prev;return(this._prev=t).v+(e-t.t)/t.gap*t.c},d.config=function(e){return new i(e)},i.ease=new i,xAf("Bounce",vAf("BounceOut",function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}),vAf("BounceIn",function(e){return 1/2.75>(e=1-e)?1-7.5625*e*e:e<2/2.75?1-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}),vAf("BounceInOut",function(e){var t=e<.5;return e=(e=t?1-2*e:2*e-1)<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5})),xAf("Circ",vAf("CircOut",function(e){return Math.sqrt(1- --e*e)}),vAf("CircIn",function(e){return-(Math.sqrt(1-e*e)-1)}),vAf("CircInOut",function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)})),xAf("Elastic",(e=function(e,t,i){var n=s("easing."+e,function(e,t){this._p1=e||1,this._p2=t||i,this._p3=this._p2/a*(Math.asin(1/this._p1)||0)},!0),r=n.prototype=new _;return r.constructor=n,r.getRatio=t,r.config=function(e,t){return new n(e,t)},n})("ElasticOut",function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*a/this._p2)+1},.3),e("ElasticIn",function(e){return-(this._p1*Math.pow(2,10*--e)*Math.sin((e-this._p3)*a/this._p2))},.3),e("ElasticInOut",function(e){return(e*=2)<1?-.5*this._p1*Math.pow(2,10*--e)*Math.sin((e-this._p3)*a/this._p2):.5*this._p1*Math.pow(2,-10*--e)*Math.sin((e-this._p3)*a/this._p2)+1},.45)),xAf("Expo",vAf("ExpoOut",function(e){return 1-Math.pow(2,-10*e)}),vAf("ExpoIn",function(e){return Math.pow(2,10*(e-1))-.001}),vAf("ExpoInOut",function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))})),xAf("Sine",vAf("SineOut",function(e){return Math.sin(e*o)}),vAf("SineIn",function(e){return 1-Math.cos(e*o)}),vAf("SineInOut",function(e){return-.5*(Math.cos(Math.PI*e)-1)})),s("easing.EaseLookup",{find:function(e){return _.map[e]}},!0),l(n.SlowMo,"SlowMo","ease,"),l(i,"RoughEase","ease,"),l(t,"SteppedEase","ease,"),u},!0)}),window._gsDefine&&window._gsQueue.pop()()},function(e,t,i){"use strict";
/*!
 * VERSION: beta 1.9.6
 * DATE: 2013-05-07
 * UPDATES AND DOCS AT: http://www.greensock.com
 *
 * @license Copyright (c) 2008-2013, GreenSock. All rights reserved.
 * This work is subject to the terms at http://www.greensock.com/terms_of_use.html or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
(window._gsQueue||(window._gsQueue=[])).push(function(){window._gsDefine("plugins.CSSPlugin",["plugins.TweenPlugin","TweenLite"],function(a,c){function jCf(){a.call(this,"css"),this._overwriteProps.length=0}var f,T,S,p,m={},e=jCf.prototype=new a("css");(e.constructor=jCf).version="1.9.6",jCf.API=2,jCf.defaultTransformPerspective=0,jCf.suffixMap={top:e="px",right:e,bottom:e,left:e,width:e,height:e,fontSize:e,padding:e,margin:e,perspective:e};function ECf(e,t){return t.toUpperCase()}function SCf(e){return D.test("string"==typeof e?e:(e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?parseFloat(RegExp.$1)/100:1}function TCf(){window.console}function WCf(e,t){var i,n,r=(t=t||N).style;if(void 0!==r[e])return e;for(e=e.charAt(0).toUpperCase()+e.substr(1),i=["O","Moz","ms","Ms","Webkit"],n=5;-1<--n&&void 0===r[i[n]+e];);return 0<=n?(j="-"+(z=3===n?"ms":i[n]).toLowerCase()+"-",z+e):null}function ZCf(e,t,i,n,r){if("px"===n||!n)return i;if("auto"===n||!i)return 0;var a,o=d.test(t),s=e,l=N.style,u=i<0;return u&&(i=-i),"%"===n&&-1!==t.indexOf("border")?a=i/100*(o?e.clientWidth:e.clientHeight):(l.cssText="border-style:solid; border-width:0; position:absolute; line-height:0;","%"!==n&&s.appendChild?l[o?"borderLeftWidth":"borderTopWidth"]=i+n:(s=e.parentNode||B.body,l[o?"width":"height"]=i+n),s.appendChild(N),a=parseFloat(N[o?"offsetWidth":"offsetHeight"]),s.removeChild(N),0!==a||r||(a=ZCf(e,t,i,n,!0))),u?-a:a}function $Cf(e,t,i){if("absolute"!==Z(e,"position",i))return 0;var n="left"===t?"Left":"Top",r=Z(e,"margin"+n,i);return e["offset"+n]-(ZCf(e,t,parseFloat(r),r.replace(P,""))||0)}function _Cf(e,t){var i,n,r={};if(t=t||G(e,null))if(i=t.length)for(;-1<--i;)r[t[i].replace(l,ECf)]=t.getPropertyValue(t[i]);else for(i in t)r[i]=t[i];else if(t=e.currentStyle||e.style)for(i in t)r[i.replace(l,ECf)]=t[i];return U||(r.opacity=SCf(e)),n=oe(e,t,!1),r.rotation=n.rotation*x,r.skewX=n.skewX*x,r.scaleX=n.scaleX,r.scaleY=n.scaleY,r.x=n.x,r.y=n.y,ae&&(r.z=n.z,r.rotationX=n.rotationX*x,r.rotationY=n.rotationY*x,r.scaleZ=n.scaleZ),r.filters&&delete r.filters,r}function aDf(e,t,i,n,r){var a,o,s,l={},u=e.style;for(o in i)"cssText"!==o&&"length"!==o&&isNaN(o)&&(t[o]!==(a=i[o])||r&&r[o])&&-1===o.indexOf("Origin")&&("number"==typeof a||"string"==typeof a)&&(l[o]="auto"!==a||"left"!==o&&"top"!==o?""!==a&&"auto"!==a&&"none"!==a||"string"!=typeof t[o]||""===t[o].replace(h,"")?a:0:$Cf(e,o),void 0!==u[o]&&(s=new X(u,o,u[o],s)));if(n)for(o in n)"className"!==o&&(l[o]=n[o]);return{difs:l,firstMPT:s}}function dDf(e,t,i){var n=parseFloat("width"===t?e.offsetWidth:e.offsetHeight),r=H[t],a=r.length;for(i=i||G(e,null);-1<--a;)n-=parseFloat(Z(e,"padding"+r[a],i,!0))||0,n-=parseFloat(Z(e,"border"+r[a]+"Width",i,!0))||0;return n}function eDf(e,t){null!=e&&""!==e&&"auto"!==e&&"auto auto"!==e||(e="0 0");var i=e.split(" "),n=-1!==e.indexOf("left")?"0%":-1!==e.indexOf("right")?"100%":i[0],r=-1!==e.indexOf("top")?"0%":-1!==e.indexOf("bottom")?"100%":i[1];return null==r?r="0":"center"===r&&(r="50%"),"center"!==n&&!isNaN(parseFloat(n))||(n="50%"),t&&(t.oxp=-1!==n.indexOf("%"),t.oyp=-1!==r.indexOf("%"),t.oxr="="===n.charAt(1),t.oyr="="===r.charAt(1),t.ox=parseFloat(n.replace(h,"")),t.oy=parseFloat(r.replace(h,""))),n+" "+r+(2<i.length?" "+i[2]:"")}function fDf(e,t){return"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*parseFloat(e.substr(2)):parseFloat(e)-parseFloat(t)}function gDf(e,t){return null==e?t:"string"==typeof e&&"="===e.charAt(1)?parseInt(e.charAt(0)+"1",10)*Number(e.substr(2))+t:parseFloat(e)}function hDf(e,t,i,n){var r,a,o,s;return(s=null==e?t:"number"==typeof e?e*u:(r=2*Math.PI,a=e.split("_"),o=Number(a[0].replace(h,""))*(-1===e.indexOf("rad")?u:1)-("="===e.charAt(1)?0:t),a.length&&(n&&(n[i]=t+o),-1!==e.indexOf("short")&&((o%=r)!==o%(r/2)&&(o=o<0?o+r:o-r)),-1!==e.indexOf("_cw")&&o<0?o=(o+9999999999*r)%r-(0|o/r)*r:-1!==e.indexOf("ccw")&&0<o&&(o=(o-9999999999*r)%r-(0|o/r)*r)),t+o))<1e-6&&-1e-6<s&&(s=0),s}function jDf(e,t,i){return 0|255*(6*(e=e<0?e+1:1<e?e-1:e)<1?t+6*(i-t)*e:e<.5?i:3*e<2?t+6*(i-t)*(2/3-e):t)+.5}function kDf(e){var t,i,n,r,a,o;return e&&""!==e?"number"==typeof e?[e>>16,255&e>>8,255&e]:(","===e.charAt(e.length-1)&&(e=e.substr(0,e.length-1)),V[e]?V[e]:"#"===e.charAt(0)?(4===e.length&&(e="#"+(t=e.charAt(1))+t+(i=e.charAt(2))+i+(n=e.charAt(3))+n),[(e=parseInt(e.substr(1),16))>>16,255&e>>8,255&e]):("hsl"===e.substr(0,3)?(e=e.match(E),r=Number(e[0])%360/360,a=Number(e[1])/100,t=2*(o=Number(e[2])/100)-(i=o<=.5?o*(1+a):o+a-o*a),3<e.length&&(e[3]=Number(e[3])),e[0]=jDf(r+1/3,t,i),e[1]=jDf(r,t,i),e[2]=jDf(r-1/3,t,i)):((e=e.match(E)||V.transparent)[0]=Number(e[0]),e[1]=Number(e[1]),e[2]=Number(e[2]),3<e.length&&(e[3]=Number(e[3]))),e)):V.black}var L,_,g,A,v,M,t,i,n,E=/(?:\d|\-\d|\.\d|\-\.\d)+/g,C=/(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,y=/(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,h=/[^\d\-\.]/g,P=/(?:\d|\-|\+|=|#|\.)*/g,D=/opacity *= *([^)]*)/,b=/opacity:([^;]*)/,o=/alpha\(opacity *=.+?\)/i,R=/^(rgb|hsl)/,s=/([A-Z])/g,l=/-([a-z])/gi,w=/(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,d=/(?:Left|Right|Width)/i,J=/(M11|M12|M21|M22)=[\d\-\.e]+/gi,k=/progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,I=/,(?=[^\)]*(?:\(|$))/gi,u=Math.PI/180,x=180/Math.PI,O={},B=document,N=B.createElement("div"),F=B.createElement("img"),r=jCf._internals={_specialProps:m},Y=navigator.userAgent,U=(i=Y.indexOf("Android"),n=B.createElement("div"),g=-1!==Y.indexOf("Safari")&&-1===Y.indexOf("Chrome")&&(-1===i||3<Number(Y.substr(i+8,1))),v=g&&Number(Y.substr(Y.indexOf("Version/")+8,1))<6,A=-1!==Y.indexOf("Firefox"),/MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(Y),M=parseFloat(RegExp.$1),n.innerHTML="<a style='top:1px;opacity:.55;'>a</a>",!!(t=n.getElementsByTagName("a")[0])&&/^0.55/.test(t.style.opacity)),j="",z="",G=B.defaultView?B.defaultView.getComputedStyle:function(){},Z=jCf.getStyle=function(e,t,i,n,r){var a;return U||"opacity"!==t?(!n&&e.style[t]?a=e.style[t]:(i=i||G(e,null))?a=(e=i.getPropertyValue(t.replace(s,"-$1").toLowerCase()))||i.length?e:i[t]:e.currentStyle&&(a=(i=e.currentStyle)[t]),null==r||a&&"none"!==a&&"auto"!==a&&"auto auto"!==a?a:r):SCf(e)},H={width:["Left","Right"],height:["Top","Bottom"]},W=["marginLeft","marginRight","marginTop","marginBottom"],V={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},q="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";for(e in V)q+="|"+e+"\\b";q=RegExp(q+")","gi");function mDf(e,t,a,o){if(null==e)return function(e){return e};var s,l=t?(e.match(q)||[""])[0]:"",u=e.split(l).join("").match(y)||[],h=e.substr(0,e.indexOf(u[0])),d=")"===e.charAt(e.length-1)?")":"",c=-1!==e.indexOf(" ")?" ":",",p=u.length,f=0<p?u[0].replace(E,""):"";return p?s=t?function(e){var t,i,n,r;if("number"==typeof e)e+=f;else if(o&&I.test(e)){for(r=e.replace(I,"|").split("|"),n=0;r.length>n;n++)r[n]=s(r[n]);return r.join(",")}if(t=(e.match(q)||[l])[0],n=(i=e.split(t).join("").match(y)||[]).length,p>n--)for(;p>++n;)i[n]=a?i[0|(n-1)/2]:u[n];return h+i.join(c)+c+t+d+(-1!==e.indexOf("inset")?" inset":"")}:function(e){var t,i,n;if("number"==typeof e)e+=f;else if(o&&I.test(e)){for(i=e.replace(I,"|").split("|"),n=0;i.length>n;n++)i[n]=s(i[n]);return i.join(",")}if(n=(t=e.match(y)||[]).length,p>n--)for(;p>++n;)t[n]=a?t[0|(n-1)/2]:u[n];return h+t.join(c)+d}:function(e){return e}}function nDf(u){return u=u.split(","),function(e,t,i,n,r,a,o){var s,l=(t+"").split(" ");for(o={},s=0;s<4;s++)o[u[s]]=l[s]=l[s]||l[(s-1)/2>>0];return n.parse(e,o,r,a)}}var X=(r._setPluginRatio=function(e){this.plugin.setRatio(e);for(var t,i,n,r,a=this.data,o=a.proxy,s=a.firstMPT;s;)t=o[s.v],s.r?t=0<t?0|t+.5:0|t-.5:t<1e-6&&-1e-6<t&&(t=0),s.t[s.p]=t,s=s._next;if(a.autoRotate&&(a.autoRotate.rotation=o.rotation),1===e)for(s=a.firstMPT;s;){if((i=s.t).type){if(1===i.type){for(r=i.xs0+i.s+i.xs1,n=1;i.l>n;n++)r+=i["xn"+n]+i["xs"+(n+1)];i.e=r}}else i.e=i.s+i.xs0;s=s._next}},function(e,t,i,n,r){this.t=e,this.p=t,this.v=i,this.r=r,n&&((n._prev=this)._next=n)}),K=(r._parseToProxy=function(e,t,i,n,r,a){var o,s,l,u,h,d=n,c={},p={},f=i._transform,m=O;for(i._transform=null,O=t,n=h=i.parse(e,t,n,r),O=m,a&&(i._transform=f,d&&(d._prev=null,d._prev&&(d._prev._next=null)));n&&n!==d;){if(n.type<=1&&(p[s=n.p]=n.s+n.c,c[s]=n.s,a||(u=new X(n,"s",s,u,n.r),n.c=0),1===n.type))for(o=n.l;0<--o;)l="xn"+o,p[s=n.p+"_"+l]=n.data[l],c[s]=n[l],a||(u=new X(n,l,s,u,n.rxp[l]));n=n._next}return{proxy:c,end:p,firstMPT:u,pt:h}},r.CSSPropTween=function(e,t,i,n,r,a,o,s,l,u,h){this.t=e,this.p=t,this.s=i,this.c=n,this.n=o||"css_"+t,e instanceof K||p.push(this.n),this.r=s,this.type=a||0,l&&(this.pr=l,f=!0),this.b=void 0===u?i:u,this.e=void 0===h?i+n:h,r&&((this._next=r)._prev=this)}),Q=jCf.parseComplex=function(e,t,i,n,r,a,o,s,l,u){o=new K(e,t,0,0,o,u?2:1,null,!1,s,i,n),n+="";var h,d,c,p,f,m,_,g,v,y,b,w,x=i.split(", ").join(",").split(" "),T=n.split(", ").join(",").split(" "),S=x.length,M=!1!==L;for(-1===n.indexOf(",")&&-1===i.indexOf(",")||(x=x.join(" ").replace(I,", ").split(" "),T=T.join(" ").replace(I,", ").split(" "),S=x.length),S!==T.length&&(S=(x=(a||"").split(" ")).length),o.plugin=l,o.setRatio=u,h=0;h<S;h++)if(p=x[h],f=T[h],(g=parseFloat(p))||0===g)o.appendXtra("",g,fDf(f,g),f.replace(C,""),M&&-1!==f.indexOf("px"),!0);else if(r&&("#"===p.charAt(0)||V[p]||R.test(p)))w=","===f.charAt(f.length-1)?"),":")",p=kDf(p),f=kDf(f),(v=6<p.length+f.length)&&!U&&0===f[3]?(o["xs"+o.l]+=o.l?" transparent":"transparent",o.e=o.e.split(T[h]).join("transparent")):(U||(v=!1),o.appendXtra(v?"rgba(":"rgb(",p[0],f[0]-p[0],",",!0,!0).appendXtra("",p[1],f[1]-p[1],",",!0).appendXtra("",p[2],f[2]-p[2],v?",":w,!0),v&&(p=p.length<4?1:p[3],o.appendXtra("",p,(f.length<4?1:f[3])-p,w,!1)));else if(m=p.match(E)){if(!(_=f.match(C))||_.length!==m.length)return o;for(d=c=0;m.length>d;d++)b=m[d],y=p.indexOf(b,c),o.appendXtra(p.substr(c,y-c),Number(b),fDf(_[d],b),"",M&&"px"===p.substr(y+b.length,2),0===d),c=y+b.length;o["xs"+o.l]+=p.substr(c)}else o["xs"+o.l]+=o.l?" "+p:p;if(-1!==n.indexOf("=")&&o.data){for(w=o.xs0+o.data.s,h=1;o.l>h;h++)w+=o["xs"+h]+o.data["xn"+h];o.e=w+o["xs"+h]}return o.l||(o.type=-1,o.xs0=o.e),o.xfirst||o},$=9;for((e=K.prototype).l=e.pr=0;0<--$;)e["xn"+$]=0,e["xs"+$]="";e.xs0="",e._next=e._prev=e.xfirst=e.data=e.plugin=e.setRatio=e.rxp=null,e.appendXtra=function(e,t,i,n,r,a){var o=this,s=o.l;return o["xs"+s]+=a&&s?" "+e:e||"",i||0===s||o.plugin?(o.l++,o.type=o.setRatio?2:1,o["xs"+o.l]=n||"",0<s?(o.data["xn"+s]=t+i,o.rxp["xn"+s]=r,o["xn"+s]=t,o.plugin||(o.xfirst=new K(o,"xn"+s,t,i,o.xfirst||o,0,o.n,r,o.pr),o.xfirst.xs0=0)):(o.data={s:t+i},o.rxp={},o.s=t,o.c=i,o.r=r)):o["xs"+s]+=t+(n||""),o};function sDf(e,t){t=t||{},this.p=t.prefix&&WCf(e)||e,m[e]=m[this.p]=this,this.format=t.formatter||mDf(t.defaultValue,t.color,t.collapsible,t.multi),t.parser&&(this.parse=t.parser),this.clrs=t.color,this.multi=t.multi,this.keyword=t.keyword,this.dflt=t.defaultValue,this.pr=t.priority||0}function uDf(e){if(!m[e]){var l=e.charAt(0).toUpperCase()+e.substr(1)+"Plugin";ee(e,{parser:function(e,t,i,n,r,a,o){var s=(window.GreenSockGlobals||window).com.greensock.plugins[l];return s?(s._cssRegister(),m[i].parse(e,t,i,n,r,a,o)):(TCf(),r)}})}}var ee=r._registerComplexSpecialProp=function(e,t,i){"object"!=typeof t&&(t={parser:i});var n,r=e.split(","),a=t.defaultValue;for(i=i||[a],n=0;r.length>n;n++)t.prefix=0===n&&t.prefix,t.defaultValue=i[n]||a,new sDf(r[n],t)};(e=sDf.prototype).parseComplex=function(e,t,i,n,r,a){var o,s,l,u,h,d=this.keyword;if(this.multi&&(I.test(i)||I.test(t)?(s=t.replace(I,"|").split("|"),l=i.replace(I,"|").split("|")):d&&(s=[t],l=[i])),l){for(u=l.length>s.length?l.length:s.length,o=0;o<u;o++)t=s[o]=s[o]||this.dflt,i=l[o]=l[o]||this.dflt,d&&(t.indexOf(d)!==(h=i.indexOf(d))&&((i=-1===h?l:s)[o]+=" "+d));t=s.join(", "),i=l.join(", ")}return Q(e,this.p,t,i,this.clrs,this.dflt,n,this.pr,r,a)},e.parse=function(e,t,i,n,r,a){return this.parseComplex(e.style,this.format(Z(e,this.p,S,!1,this.dflt)),this.format(t),r,a)},jCf.registerSpecialProp=function(e,s,l){ee(e,{parser:function(e,t,i,n,r,a){var o=new K(e,i,0,0,r,2,i,!1,l);return o.plugin=a,o.setRatio=s(e,t,n._tween,i),o},priority:l})};function BDf(e){var t,i,n=this.data,r=-n.rotation,a=r+n.skewX,o=(0|Math.cos(r)*n.scaleX*1e5)/1e5,s=(0|Math.sin(r)*n.scaleX*1e5)/1e5,l=(0|Math.sin(a)*-n.scaleY*1e5)/1e5,u=(0|Math.cos(a)*n.scaleY*1e5)/1e5,h=this.t.style,d=this.t.currentStyle;if(d){i=s,s=-l,l=-i,t=d.filter,h.filter="";var c,p,f=this.t.offsetWidth,m=this.t.offsetHeight,_="absolute"!==d.position,g="progid:DXImageTransform.Microsoft.Matrix(M11="+o+", M12="+s+", M21="+l+", M22="+u,v=n.x,y=n.y;if(null!=n.ox&&(v+=(c=(n.oxp?.01*f*n.ox:n.ox)-f/2)-(c*o+(p=(n.oyp?.01*m*n.oy:n.oy)-m/2)*s),y+=p-(c*l+p*u)),_)g+=", Dx="+((c=f/2)-(c*o+(p=m/2)*s)+v)+", Dy="+(p-(c*l+p*u)+y)+")";else{var b,w,x,T=M<8?1:-1;for(c=n.ieOffsetX||0,p=n.ieOffsetY||0,n.ieOffsetX=Math.round((f-((o<0?-o:o)*f+(s<0?-s:s)*m))/2+v),n.ieOffsetY=Math.round((m-((u<0?-u:u)*m+(l<0?-l:l)*f))/2+y),$=0;$<4;$++)x=(i=-1!==(b=d[w=W[$]]).indexOf("px")?parseFloat(b):ZCf(this.t,w,parseFloat(b),b.replace(P,""))||0)!==n[w]?$<2?-n.ieOffsetX:-n.ieOffsetY:$<2?c-n.ieOffsetX:p-n.ieOffsetY,h[w]=(n[w]=Math.round(i-x*(0===$||2===$?1:T)))+"px";g+=", sizingMethod='auto expand')"}h.filter=-1!==t.indexOf("DXImageTransform.Microsoft.Matrix(")?t.replace(k,g):g+" "+t,0!==e&&1!==e||1!=o||0!==s||0!==l||1!=u||_&&-1===g.indexOf("Dx=0, Dy=0")||D.test(t)&&100!==parseFloat(RegExp.$1)||-1===t.indexOf("gradient(")&&h.removeAttribute("filter")}}function CDf(){var e,t,i,n,r,a,o,s,l,u=this.data,h=this.t.style,d=u.perspective,c=u.scaleX,p=0,f=0,m=0,_=0,g=u.scaleY,v=0,y=0,b=0,w=0,x=u.scaleZ,T=0,S=0,M=0,L=d?-1/d:0,E=u.rotation,C=u.zOrigin;A&&(o=!h.top&&(h.bottom||parseFloat(Z(this.t,"top",null,!1)))?"bottom":"top",i=Z(this.t,o,null,!1),s=parseFloat(i)||0,l=i.substr((s+"").length)||"px",u._ffFix=!u._ffFix,h[o]=(u._ffFix?s+.05:s-.05)+l),(E||u.skewX)&&(i=c*Math.cos(E),n=g*Math.sin(E),E-=u.skewX,p=c*-Math.sin(E),g*=Math.cos(E),c=i,_=n),(E=u.rotationY)&&(e=Math.cos(E),r=x*-(t=Math.sin(E)),a=L*-t,f=c*t,v=_*t,x*=e,L*=e,c=i=c*e,_=n=_*e,b=r,S=a),(E=u.rotationX)&&(i=p*(e=Math.cos(E))+f*(t=Math.sin(E)),n=g*e+v*t,r=w*e+x*t,a=M*e+L*t,f=p*-t+f*e,v=g*-t+v*e,x=w*-t+x*e,L=M*-t+L*e,p=i,g=n,w=r,M=a),C&&(m=f*(T-=C),y=v*T,T=x*T+C),m=(i=(m+=u.x)-(m|=0))?(0|1e5*i+(i<0?-.5:.5))/1e5+m:m,y=(i=(y+=u.y)-(y|=0))?(0|1e5*i+(i<0?-.5:.5))/1e5+y:y,T=(i=(T+=u.z)-(T|=0))?(0|1e5*i+(i<0?-.5:.5))/1e5+T:T,h[ie]="matrix3d("+[(0|1e5*c)/1e5,(0|1e5*_)/1e5,(0|1e5*b)/1e5,(0|1e5*S)/1e5,(0|1e5*p)/1e5,(0|1e5*g)/1e5,(0|1e5*w)/1e5,(0|1e5*M)/1e5,(0|1e5*f)/1e5,(0|1e5*v)/1e5,(0|1e5*x)/1e5,(0|1e5*L)/1e5,m,y,T,d?1+-T/d:1].join(",")+")"}function DDf(){var e,t,i,n,r,a,o,s,l=this.data,u=this.t,h=u.style;A&&(e=!h.top&&(h.bottom||parseFloat(Z(u,"top",null,!1)))?"bottom":"top",t=Z(u,e,null,!1),i=parseFloat(t)||0,n=t.substr((i+"").length)||"px",l._ffFix=!l._ffFix,h[e]=(l._ffFix?i+.05:i-.05)+n),l.rotation||l.skewX?(a=(r=l.rotation)-l.skewX,o=1e5*l.scaleX,s=1e5*l.scaleY,h[ie]="matrix("+(0|Math.cos(r)*o)/1e5+","+(0|Math.sin(r)*o)/1e5+","+(0|Math.sin(a)*-s)/1e5+","+(0|Math.cos(a)*s)/1e5+","+l.x+","+l.y+")"):h[ie]="matrix("+l.scaleX+",0,0,"+l.scaleY+","+l.x+","+l.y+")"}var te="scaleX,scaleY,scaleZ,x,y,z,skewX,rotation,rotationX,rotationY,perspective".split(","),ie=WCf("transform"),ne=j+"transform",re=WCf("transformOrigin"),ae=null!==WCf("perspective"),oe=function(e,t,i){var n,r,a,o,s,l,u,h,d,c,p,f,m,_=i&&e._gsTransform||{skewY:0},g=_.scaleX<0,v=1e-4-Math.PI,y=Math.PI-1e-4,b=ae&&(parseFloat(Z(e,re,t,!1,"0 0 0").split(" ")[2])||_.zOrigin)||0;if(ie)n=Z(e,ne,t,!0);else if(e.currentStyle)if((n=e.currentStyle.filter.match(J))&&4===n.length)n=[n[0].substr(4),Number(n[2].substr(4)),Number(n[1].substr(4)),n[3].substr(4),_.x||0,_.y||0].join(",");else{if(null!=_.x)return _;n=""}for(a=(r=(n||"").match(/(?:\-|\b)[\d\-\.e]+\b/gi)||[]).length;-1<--a;)o=Number(r[a]),r[a]=(s=o-(o|=0))?(0|1e5*s+(s<0?-.5:.5))/1e5+o:o;if(16===r.length){var w=r[8],x=r[9],T=r[10],S=r[12],M=r[13],L=r[14];if(_.zOrigin&&(S=w*(L=-_.zOrigin)-r[12],M=x*L-r[13],L=T*L+_.zOrigin-r[14]),!i||null==_.rotationX){var E,C,A,P,D,R,k,I=r[0],O=r[1],B=r[2],N=r[3],F=r[4],Y=r[5],U=r[6],j=r[7],z=r[11],G=_.rotationX=Math.atan2(U,T),H=G<v||y<G;G&&(E=F*(P=Math.cos(-G))+w*(D=Math.sin(-G)),C=Y*P+x*D,A=U*P+T*D,w=F*-D+w*P,x=Y*-D+x*P,T=U*-D+T*P,z=j*-D+z*P,F=E,Y=C,U=A),(G=_.rotationY=Math.atan2(w,I))&&(R=G<v||y<G,C=O*(P=Math.cos(-G))-x*(D=Math.sin(-G)),A=B*P-T*D,x=O*D+x*P,T=B*D+T*P,z=N*D+z*P,I=E=I*P-w*D,O=C,B=A),(G=_.rotation=Math.atan2(O,Y))&&(k=G<v||y<G,I=I*(P=Math.cos(-G))+F*(D=Math.sin(-G)),C=O*P+Y*D,Y=O*-D+Y*P,U=B*-D+U*P,O=C),k&&H?_.rotation=_.rotationX=0:k&&R?_.rotation=_.rotationY=0:R&&H&&(_.rotationY=_.rotationX=0),_.scaleX=(0|1e5*Math.sqrt(I*I+O*O)+.5)/1e5,_.scaleY=(0|1e5*Math.sqrt(Y*Y+x*x)+.5)/1e5,_.scaleZ=(0|1e5*Math.sqrt(U*U+T*T)+.5)/1e5,_.skewX=0,_.perspective=z?1/(z<0?-z:z):0,_.x=S,_.y=M,_.z=L}}else if(!(ae&&0!==r.length&&_.x===r[4]&&_.y===r[5]&&(_.rotationX||_.rotationY)||void 0!==_.x&&"none"===Z(e,"display",t))){var W=6<=r.length,V=W?r[0]:1,q=r[1]||0,X=r[2]||0,K=W?r[3]:1;_.x=r[4]||0,_.y=r[5]||0,l=Math.sqrt(V*V+q*q),u=Math.sqrt(K*K+X*X),h=V||q?Math.atan2(q,V):_.rotation||0,d=X||K?Math.atan2(X,K)+h:_.skewX||0,c=l-Math.abs(_.scaleX||0),p=u-Math.abs(_.scaleY||0),Math.abs(d)>Math.PI/2&&Math.abs(d)<1.5*Math.PI&&(g?(l*=-1,d+=h<=0?Math.PI:-Math.PI,h+=h<=0?Math.PI:-Math.PI):(u*=-1,d+=d<=0?Math.PI:-Math.PI)),f=(h-_.rotation)%Math.PI,m=(d-_.skewX)%Math.PI,(void 0===_.skewX||2e-5<c||c<-2e-5||2e-5<p||p<-2e-5||v<f&&f<y&&!1|1e5*f||v<m&&m<y&&!1|1e5*m)&&(_.scaleX=l,_.scaleY=u,_.rotation=h,_.skewX=d),ae&&(_.rotationX=_.rotationY=_.z=0,_.perspective=parseFloat(jCf.defaultTransformPerspective)||0,_.scaleZ=1)}for(a in _.zOrigin=b,_)_[a]<2e-5&&-2e-5<_[a]&&(_[a]=0);return i&&(e._gsTransform=_),_};ee("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation",{parser:function(e,t,i,n,r,a,o){if(n._transform)return r;var s,l,u,h,d,c,p,f=n._transform=oe(e,S,!0),m=e.style,_=te.length,g=o,v={};if("string"==typeof g.transform&&ie)u=m.cssText,m[ie]=g.transform,m.display="block",s=oe(e,null,!1),m.cssText=u;else if("object"==typeof g){if(s={scaleX:gDf(null!=g.scaleX?g.scaleX:g.scale,f.scaleX),scaleY:gDf(null!=g.scaleY?g.scaleY:g.scale,f.scaleY),scaleZ:gDf(null!=g.scaleZ?g.scaleZ:g.scale,f.scaleZ),x:gDf(g.x,f.x),y:gDf(g.y,f.y),z:gDf(g.z,f.z),perspective:gDf(g.transformPerspective,f.perspective)},null!=(p=g.directionalRotation))if("object"==typeof p)for(u in p)g[u]=p[u];else g.rotation=p;s.rotation=hDf("rotation"in g?g.rotation:"shortRotation"in g?g.shortRotation+"_short":"rotationZ"in g?g.rotationZ:f.rotation*x,f.rotation,"rotation",v),ae&&(s.rotationX=hDf("rotationX"in g?g.rotationX:"shortRotationX"in g?g.shortRotationX+"_short":f.rotationX*x||0,f.rotationX,"rotationX",v),s.rotationY=hDf("rotationY"in g?g.rotationY:"shortRotationY"in g?g.shortRotationY+"_short":f.rotationY*x||0,f.rotationY,"rotationY",v)),s.skewX=null==g.skewX?f.skewX:hDf(g.skewX,f.skewX),s.skewY=null==g.skewY?f.skewY:hDf(g.skewY,f.skewY),(l=s.skewY-f.skewY)&&(s.skewX+=l,s.rotation+=l)}for((d=f.z||f.rotationX||f.rotationY||s.z||s.rotationX||s.rotationY||s.perspective)||null==g.scale||(s.scaleZ=1);-1<--_;)(1e-6<(h=s[i=te[_]]-f[i])||h<-1e-6||null!=O[i])&&(c=!0,r=new K(f,i,f[i],h,r),i in v&&(r.e=v[i]),r.xs0=0,r.plugin=a,n._overwriteProps.push(r.n));return((h=g.transformOrigin)||ae&&d&&f.zOrigin)&&(ie?(c=!0,h=(h||Z(e,i,S,!1,"50% 50%"))+"",(r=new K(m,i=re,0,0,r,-1,"css_transformOrigin")).b=m[i],r.plugin=a,ae?(u=f.zOrigin,h=h.split(" "),f.zOrigin=(2<h.length?parseFloat(h[2]):u)||0,r.xs0=r.e=m[i]=h[0]+" "+(h[1]||"50%")+" 0px",(r=new K(f,"zOrigin",0,0,r,-1,r.n)).b=u,r.xs0=r.e=f.zOrigin):r.xs0=r.e=m[i]=h):eDf(h+"",f)),c&&(n._transformType=d||3===this._transformType?3:2),r},prefix:!0}),ee("boxShadow",{defaultValue:"0px 0px 0px 0px #999",prefix:!0,color:!0,multi:!0,keyword:"inset"}),ee("borderRadius",{defaultValue:"0px",parser:function(e,t,i,n,r){t=this.format(t);var a,o,s,l,u,h,d,c,p,f,m,_,g,v,y,b,w=["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],x=e.style;for(p=parseFloat(e.offsetWidth),f=parseFloat(e.offsetHeight),a=t.split(" "),o=0;w.length>o;o++)this.p.indexOf("border")&&(w[o]=WCf(w[o])),-1!==(u=l=Z(e,w[o],S,!1,"0px")).indexOf(" ")&&(u=(l=u.split(" "))[0],l=l[1]),h=s=a[o],d=parseFloat(u),_=u.substr((d+"").length),""===(m=(g="="===h.charAt(1))?(c=parseInt(h.charAt(0)+"1",10),h=h.substr(2),c*=parseFloat(h),h.substr((c+"").length-(c<0?1:0))||""):(c=parseFloat(h),h.substr((c+"").length)))&&(m=T[i]||_),m!==_&&(v=ZCf(e,"borderLeft",d,_),y=ZCf(e,"borderTop",d,_),l="%"===m?(u=v/p*100+"%",y/f*100+"%"):"em"===m?(u=v/(b=ZCf(e,"borderLeft",1,"em"))+"em",y/b+"em"):(u=v+"px",y+"px"),g&&(h=parseFloat(u)+c+m,s=parseFloat(l)+c+m)),r=Q(x,w[o],u+" "+l,h+" "+s,!1,"0px",r);return r},prefix:!0,formatter:mDf("0px 0px 0px 0px",!1,!0)}),ee("backgroundPosition",{defaultValue:"0 0",parser:function(e,t,i,n,r,a){var o,s,l,u,h,d,c="background-position",p=S||G(e,null),f=this.format((p?M?p.getPropertyValue(c+"-x")+" "+p.getPropertyValue(c+"-y"):p.getPropertyValue(c):e.currentStyle.backgroundPositionX+" "+e.currentStyle.backgroundPositionY)||"0 0"),m=this.format(t);if(-1!==f.indexOf("%")!=(-1!==m.indexOf("%"))&&((d=Z(e,"backgroundImage").replace(w,""))&&"none"!==d)){for(o=f.split(" "),s=m.split(" "),F.setAttribute("src",d),l=2;-1<--l;)(u=-1!==(f=o[l]).indexOf("%"))!=(-1!==s[l].indexOf("%"))&&(h=0===l?e.offsetWidth-F.width:e.offsetHeight-F.height,o[l]=u?parseFloat(f)/100*h+"px":parseFloat(f)/h*100+"%");f=o.join(" ")}return this.parseComplex(e.style,f,m,r,a)},formatter:eDf}),ee("backgroundSize",{defaultValue:"0 0",formatter:eDf}),ee("perspective",{defaultValue:"0px",prefix:!0}),ee("perspectiveOrigin",{defaultValue:"50% 50%",prefix:!0}),ee("transformStyle",{prefix:!0}),ee("backfaceVisibility",{prefix:!0}),ee("margin",{parser:nDf("marginTop,marginRight,marginBottom,marginLeft")}),ee("padding",{parser:nDf("paddingTop,paddingRight,paddingBottom,paddingLeft")}),ee("clip",{defaultValue:"rect(0px,0px,0px,0px)",parser:function(e,t,i,n,r,a){var o,s,l;return t=M<9?(s=e.currentStyle,l=M<8?" ":",",o="rect("+s.clipTop+l+s.clipRight+l+s.clipBottom+l+s.clipLeft+")",this.format(t).split(",").join(l)):(o=this.format(Z(e,this.p,S,!1,this.dflt)),this.format(t)),this.parseComplex(e.style,o,t,r,a)}}),ee("textShadow",{defaultValue:"0px 0px 0px #999",color:!0,multi:!0}),ee("autoRound,strictUnits",{parser:function(e,t,i,n,r){return r}}),ee("border",{defaultValue:"0px solid #000",parser:function(e,t,i,n,r,a){return this.parseComplex(e.style,this.format(Z(e,"borderTopWidth",S,!1,"0px")+" "+Z(e,"borderTopStyle",S,!1,"solid")+" "+Z(e,"borderTopColor",S,!1,"#000")),this.format(t),r,a)},color:!0,formatter:function(e){var t=e.split(" ");return t[0]+" "+(t[1]||"solid")+" "+(e.match(q)||["#000"])[0]}}),ee("float,cssFloat,styleFloat",{parser:function(e,t,i,n,r){var a=e.style,o="cssFloat"in a?"cssFloat":"styleFloat";return new K(a,o,0,0,r,-1,i,!1,0,a[o],t)}});function EDf(e){var t,i=this.t,n=i.filter,r=0|this.s+this.c*e;100==r&&(t=-1===n.indexOf("atrix(")&&-1===n.indexOf("radient(")?(i.removeAttribute("filter"),!Z(this.data,"filter")):(i.filter=n.replace(o,""),!0)),t||(this.xn1&&(i.filter=n=n||"alpha(opacity=100)"),-1===n.indexOf("opacity")?i.filter+=" alpha(opacity="+r+")":i.filter=n.replace(D,"opacity="+r))}ee("opacity,alpha,autoAlpha",{defaultValue:"1",parser:function(e,t,i,n,r,a){var o,s=parseFloat(Z(e,"opacity",S,!1,"1")),l=e.style;return t=parseFloat(t),"autoAlpha"===i&&(o=Z(e,"visibility",S),1===s&&"hidden"===o&&0!==t&&(s=0),(r=new K(l,"visibility",0,0,r,-1,null,!1,0,0!==s?"visible":"hidden",0===t?"hidden":"visible")).xs0="visible",n._overwriteProps.push(r.n)),U?r=new K(l,"opacity",s,t-s,r):((r=new K(l,"opacity",100*s,100*(t-s),r)).xn1="autoAlpha"===i?1:0,l.zoom=1,r.type=2,r.b="alpha(opacity="+r.s+")",r.e="alpha(opacity="+(r.s+r.c)+")",r.data=e,r.plugin=a,r.setRatio=EDf),r}});function FDf(e,t){t&&(e.removeProperty?e.removeProperty(t.replace(s,"-$1").toLowerCase()):e.removeAttribute(t))}function GDf(e){if(this.t._gsClassPT=this,1===e||0===e){this.t.className=0===e?this.b:this.e;for(var t=this.data,i=this.t.style;t;)t.v?i[t.p]=t.v:FDf(i,t.p),t=t._next;1===e&&this.t._gsClassPT===this&&(this.t._gsClassPT=null)}else this.t.className!==this.e&&(this.t.className=this.e)}ee("className",{parser:function(e,t,i,n,r,a,o){var s,l,u,h,d,c=e.className,p=e.style.cssText;if((r=n._classNamePT=new K(e,i,0,0,r,2)).setRatio=GDf,r.pr=-11,f=!0,r.b=c,l=_Cf(e,S),u=e._gsClassPT){for(h={},d=u.data;d;)h[d.p]=1,d=d._next;u.setRatio(1)}return(e._gsClassPT=r).e="="!==t.charAt(1)?t:c.replace(RegExp("\\s*\\b"+t.substr(2)+"\\b"),"")+("+"===t.charAt(0)?" "+t.substr(2):""),n._tween._duration&&(e.className=r.e,s=aDf(e,l,_Cf(e),o,h),e.className=c,r.data=s.firstMPT,e.style.cssText=p,r=r.xfirst=n.parse(e,s.difs,r,a)),r}});function HDf(e){if((1===e||0===e)&&this.data._totalTime===this.data._totalDuration)for(var t,i="all"===this.e,n=this.t.style,r=i?n.cssText.split(";"):this.e.split(","),a=r.length,o=m.transform.parse;-1<--a;)t=r[a],i&&(t=t.substr(0,t.indexOf(":")).split(" ").join("")),m[t]&&(t=m[t].parse===o?ie:m[t].p),FDf(n,t)}for(ee("clearProps",{parser:function(e,t,i,n,r){return(r=new K(e,i,0,0,r,2)).setRatio=HDf,r.e=t,r.pr=-10,r.data=n._tween,f=!0,r}}),e="bezier,throwProps,physicsProps,physics2D".split(","),$=e.length;$--;)uDf(e[$]);(e=jCf.prototype)._firstPT=null,e._onInitTween=function(e,t,i){if(!e.nodeType)return!1;this._target=e,this._tween=i,this._vars=t,L=t.autoRound,f=!1,T=t.suffixMap||jCf.suffixMap,S=G(e,""),p=this._overwriteProps;var n,r,a,o,s,l,u,h,d,c=e.style;if(_&&""===c.zIndex&&("auto"!==(n=Z(e,"zIndex",S))&&""!==n||(c.zIndex=0)),"string"==typeof t&&(o=c.cssText,n=_Cf(e,S),c.cssText=o+";"+t,n=aDf(e,n,_Cf(e)).difs,!U&&b.test(t)&&(n.opacity=parseFloat(RegExp.$1)),t=n,c.cssText=o),this._firstPT=r=this.parse(e,t,null),this._transformType){for(d=3===this._transformType,ie?g&&(_=!0,""===c.zIndex&&("auto"!==(u=Z(e,"zIndex",S))&&""!==u||(c.zIndex=0)),v&&(c.WebkitBackfaceVisibility=this._vars.WebkitBackfaceVisibility||(d?"visible":"hidden"))):c.zoom=1,a=r;a&&a._next;)a=a._next;h=new K(e,"transform",0,0,null,2),this._linkCSSP(h,null,a),h.setRatio=d&&ae?CDf:ie?DDf:BDf,h.data=this._transform||oe(e,S,!0),p.pop()}if(f){for(;r;){for(l=r._next,a=o;a&&a.pr>r.pr;)a=a._next;(r._prev=a?a._prev:s)?r._prev._next=r:o=r,(r._next=a)?a._prev=r:s=r,r=l}this._firstPT=o}return!0},e.parse=function(e,t,i,n){var r,a,o,s,l,u,h,d,c,p,f=e.style;for(r in t)u=t[r],(a=m[r])?i=a.parse(e,u,r,this,i,n,t):(l=Z(e,r,S)+"",c="string"==typeof u,"color"===r||"fill"===r||"stroke"===r||-1!==r.indexOf("Color")||c&&R.test(u)?(c||(u=(3<(u=kDf(u)).length?"rgba(":"rgb(")+u.join(",")+")"),i=Q(f,r,l,u,!0,"transparent",i,0,n)):!c||-1===u.indexOf(" ")&&-1===u.indexOf(",")?(h=(o=parseFloat(l))||0===o?l.substr((o+"").length):"",""!==l&&"auto"!==l||(h="width"===r||"height"===r?(o=dDf(e,r,S),"px"):"left"===r||"top"===r?(o=$Cf(e,r,S),"px"):(o="opacity"!==r?0:1,"")),""===(d=(p=c&&"="===u.charAt(1))?(s=parseInt(u.charAt(0)+"1",10),u=u.substr(2),s*=parseFloat(u),u.replace(P,"")):(s=parseFloat(u),c&&u.substr((s+"").length)||""))&&(d=T[r]||h),u=s||0===s?(p?s+o:s)+d:t[r],h===d||""===d||!s&&0!==s||!o&&0!==o||(o=ZCf(e,r,o,h),"%"===d?(100<(o/=ZCf(e,r,100,"%")/100)&&(o=100),!0!==t.strictUnits&&(l=o+"%")):"em"===d?o/=ZCf(e,r,1,"em"):(s=ZCf(e,r,s,d),d="px"),p&&(s||0===s)&&(u=s+o+d)),p&&(s+=o),!o&&0!==o||!s&&0!==s?u||"NaN"!=u+""&&null!=u?(i=new K(f,r,s||o||0,0,i,-1,"css_"+r,!1,0,l,u)).xs0="none"!==u||"display"!==r&&-1===r.indexOf("Style")?u:l:TCf(t[r]):(i=new K(f,r,o,s-o,i,0,"css_"+r,!1!==L&&("px"===d||"zIndex"===r),0,l,u)).xs0=d):i=Q(f,r,l,u,!0,null,i,0,n)),n&&i&&!i.plugin&&(i.plugin=n);return i},e.setRatio=function(e){var t,i,n,r=this._firstPT;if(1!==e||this._tween._time!==this._tween._duration&&0!==this._tween._time)if(e||this._tween._time!==this._tween._duration&&0!==this._tween._time||-1e-6===this._tween._rawPrevTime)for(;r;){if(t=r.c*e+r.s,r.r?t=0<t?0|t+.5:0|t-.5:t<1e-6&&-1e-6<t&&(t=0),r.type)if(1===r.type)if(2===(n=r.l))r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2;else if(3===n)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3;else if(4===n)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4;else if(5===n)r.t[r.p]=r.xs0+t+r.xs1+r.xn1+r.xs2+r.xn2+r.xs3+r.xn3+r.xs4+r.xn4+r.xs5;else{for(i=r.xs0+t+r.xs1,n=1;r.l>n;n++)i+=r["xn"+n]+r["xs"+(n+1)];r.t[r.p]=i}else-1===r.type?r.t[r.p]=r.xs0:r.setRatio&&r.setRatio(e);else r.t[r.p]=t+r.xs0;r=r._next}else for(;r;)2!==r.type?r.t[r.p]=r.b:r.setRatio(e),r=r._next;else for(;r;)2!==r.type?r.t[r.p]=r.e:r.setRatio(e),r=r._next},e._enableTransforms=function(e){this._transformType=e||3===this._transformType?3:2},e._linkCSSP=function(e,t,i,n){return e&&(t&&(t._prev=e),e._next&&(e._next._prev=e._prev),i?i._next=e:n||null!==this._firstPT||(this._firstPT=e),e._prev?e._prev._next=e._next:this._firstPT===e&&(this._firstPT=e._next),e._next=t,e._prev=i),e},e._kill=function(e){var t,i,n,r=e;if(e.css_autoAlpha||e.css_alpha){for(i in r={},e)r[i]=e[i];r.css_opacity=1,r.css_autoAlpha&&(r.css_visibility=1)}return e.css_className&&(t=this._classNamePT)&&((n=t.xfirst)&&n._prev?this._linkCSSP(n._prev,t._next,n._prev._prev):n===this._firstPT&&(this._firstPT=t._next),t._next&&this._linkCSSP(t._next,t._next._next,n._prev),this._classNamePT=null),a.prototype._kill.call(this,r)};function IDf(e,t,i){var n,r,a,o;if(e.slice)for(r=e.length;-1<--r;)IDf(e[r],t,i);else for(r=(n=e.childNodes).length;-1<--r;)o=(a=n[r]).type,a.style&&(t.push(_Cf(a)),i&&i.push(a)),1!==o&&9!==o&&11!==o||!a.childNodes.length||IDf(a,t,i)}return jCf.cascadeTo=function(e,t,i){var n,r,a,o=c.to(e,t,i),s=[o],l=[],u=[],h=[],d=c._internals.reservedProps;for(e=o._targets||o.target,IDf(e,l,h),o.render(t,!0),IDf(e,u),o.render(0,!0),o._enabled(!0),n=h.length;-1<--n;)if((r=aDf(h[n],l[n],u[n])).firstMPT){for(a in r=r.difs,i)d[a]&&(r[a]=i[a]);s.push(c.to(h[n],t,r))}return s},a.activate([jCf]),jCf},!0)}),window._gsDefine&&window._gsQueue.pop()()},function(i,n,e){"use strict";(function(e){var t;
/*! howler.js v2.0.0 | (c) 2013-2016, James Simpson of GoldFire Studios | MIT License | howlerjs.com */!function(){function aOf(){this.init()}aOf.prototype={init:function(){var e=this||f;return e._codecs={},e._howls=[],e._muted=!1,e._volume=1,e._canPlayEvent="canplaythrough",e._navigator="undefined"!=typeof window&&window.navigator?window.navigator:null,e.masterGain=null,e.noAudio=!1,e.usingWebAudio=!0,e.autoSuspend=!0,e.ctx=null,e.mobileAutoEnable=!0,e._setup(),e},volume:function(e){var t=this||f;if(e=parseFloat(e),t.ctx||d(),void 0!==e&&0<=e&&e<=1){if(t._volume=e,t._muted)return t;t.usingWebAudio&&(t.masterGain.gain.value=e);for(var i=0;i<t._howls.length;i++)if(!t._howls[i]._webAudio)for(var n=t._howls[i]._getSoundIds(),r=0;r<n.length;r++){var a=t._howls[i]._soundById(n[r]);a&&a._node&&(a._node.volume=a._volume*e)}return t}return t._volume},mute:function(e){var t=this||f;t.ctx||d(),t._muted=e,t.usingWebAudio&&(t.masterGain.gain.value=e?0:t._volume);for(var i=0;i<t._howls.length;i++)if(!t._howls[i]._webAudio)for(var n=t._howls[i]._getSoundIds(),r=0;r<n.length;r++){var a=t._howls[i]._soundById(n[r]);a&&a._node&&(a._node.muted=!!e||a._muted)}return t},unload:function(){for(var e=this||f,t=e._howls.length-1;0<=t;t--)e._howls[t].unload();return e.usingWebAudio&&void 0!==e.ctx.close&&(e.ctx.close(),e.ctx=null,d()),e},codecs:function(e){return(this||f)._codecs[e]},_setup:function(){var e=this||f;return e.state=e.ctx&&e.ctx.state||"running",e._autoSuspend(),e.noAudio||e._setupCodecs(),e},_setupCodecs:function(){var e=this||f,t="undefined"!=typeof Audio?new Audio:null;if(!t||"function"!=typeof t.canPlayType)return e;var i=t.canPlayType("audio/mpeg;").replace(/^no$/,""),n=e._navigator&&e._navigator.userAgent.match(/OPR\/([0-6].)/g),r=n&&parseInt(n[0].split("/")[1],10)<33;return e._codecs={mp3:!(r||!i&&!t.canPlayType("audio/mp3;").replace(/^no$/,"")),mpeg:!!i,opus:!!t.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!t.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),aac:!!t.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!t.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(t.canPlayType("audio/x-m4a;")||t.canPlayType("audio/m4a;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(t.canPlayType("audio/x-mp4;")||t.canPlayType("audio/mp4;")||t.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),webm:!!t.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,""),dolby:!!t.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,"")},e},_enableMobileAudio:function(){var t=this||f,e=/iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(t._navigator&&t._navigator.userAgent),i=!!("ontouchend"in window||t._navigator&&0<t._navigator.maxTouchPoints||t._navigator&&0<t._navigator.msMaxTouchPoints);if(!t._mobileEnabled&&t.ctx&&(e||i)){t._mobileEnabled=!1,t._mobileUnloaded||44100===t.ctx.sampleRate||(t._mobileUnloaded=!0,t.unload()),t._scratchBuffer=t.ctx.createBuffer(1,1,22050);return document.addEventListener("touchend",function r(){var e=t.ctx.createBufferSource();e.buffer=t._scratchBuffer,e.connect(t.ctx.destination),void 0===e.start?e.noteOn(0):e.start(0),e.onended=function(){e.disconnect(0),t._mobileEnabled=!0,t.mobileAutoEnable=!1,document.removeEventListener("touchend",r,!0)}},!0),t}},_autoSuspend:function(){var e=this;if(e.autoSuspend&&e.ctx&&void 0!==e.ctx.suspend&&f.usingWebAudio){for(var t=0;t<e._howls.length;t++)if(e._howls[t]._webAudio)for(var i=0;i<e._howls[t]._sounds.length;i++)if(!e._howls[t]._sounds[i]._paused)return e;return e._suspendTimer&&clearTimeout(e._suspendTimer),e._suspendTimer=setTimeout(function(){e.autoSuspend&&(e._suspendTimer=null,e.state="suspending",e.ctx.suspend().then(function(){e.state="suspended",e._resumeAfterSuspend&&(delete e._resumeAfterSuspend,e._autoResume())}))},3e4),e}},_autoResume:function(){var e=this;if(e.ctx&&void 0!==e.ctx.resume&&f.usingWebAudio)return"running"===e.state&&e._suspendTimer?(clearTimeout(e._suspendTimer),e._suspendTimer=null):"suspended"===e.state?(e.state="resuming",e.ctx.resume().then(function(){e.state="running"}),e._suspendTimer&&(clearTimeout(e._suspendTimer),e._suspendTimer=null)):"suspending"===e.state&&(e._resumeAfterSuspend=!0),e}};function cOf(e){return e.src&&0!==e.src.length?void this.init(e):void 0}var f=new aOf;cOf.prototype={init:function(e){var t=this;return f.ctx||d(),t._autoplay=e.autoplay||!1,t._format="string"!=typeof e.format?e.format:[e.format],t._html5=e.html5||!1,t._muted=e.mute||!1,t._loop=e.loop||!1,t._pool=e.pool||5,t._preload="boolean"!=typeof e.preload||e.preload,t._rate=e.rate||1,t._sprite=e.sprite||{},t._src="string"!=typeof e.src?e.src:[e.src],t._volume=void 0!==e.volume?e.volume:1,t._duration=0,t._state="unloaded",t._sounds=[],t._endTimers={},t._queue=[],t._onend=e.onend?[{fn:e.onend}]:[],t._onfade=e.onfade?[{fn:e.onfade}]:[],t._onload=e.onload?[{fn:e.onload}]:[],t._onloaderror=e.onloaderror?[{fn:e.onloaderror}]:[],t._onpause=e.onpause?[{fn:e.onpause}]:[],t._onplay=e.onplay?[{fn:e.onplay}]:[],t._onstop=e.onstop?[{fn:e.onstop}]:[],t._onmute=e.onmute?[{fn:e.onmute}]:[],t._onvolume=e.onvolume?[{fn:e.onvolume}]:[],t._onrate=e.onrate?[{fn:e.onrate}]:[],t._onseek=e.onseek?[{fn:e.onseek}]:[],t._webAudio=f.usingWebAudio&&!t._html5,void 0!==f.ctx&&f.ctx&&f.mobileAutoEnable&&f._enableMobileAudio(),f._howls.push(t),t._preload&&t.load(),t},load:function(){var e=this,t=null;if(!f.noAudio){"string"==typeof e._src&&(e._src=[e._src]);for(var i=0;i<e._src.length;i++){var n,r;if(e._format&&e._format[i])n=e._format[i];else{if("string"!=typeof(r=e._src[i])){e._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}n=(n=(n=/^data:audio\/([^;,]+);/i.exec(r))||/\.([^.]+)$/.exec(r.split("?",1)[0]))&&n[1].toLowerCase()}if(f.codecs(n)){t=e._src[i];break}}return t?(e._src=t,e._state="loading","https:"===window.location.protocol&&"http:"===t.slice(0,5)&&(e._html5=!0,e._webAudio=!1),new a(e),e._webAudio&&s(e),e):void e._emit("loaderror",null,"No codec support for selected audio sources.")}e._emit("loaderror",null,"No audio support.")},play:function(e,t){var i=this,n=null;if("number"==typeof e)n=e,e=null;else{if("string"==typeof e&&"loaded"===i._state&&!i._sprite[e])return null;if(void 0===e){e="__default";for(var r=0,a=0;a<i._sounds.length;a++)i._sounds[a]._paused&&!i._sounds[a]._ended&&(r++,n=i._sounds[a]._id);1===r?e=null:n=null}}var o=n?i._soundById(n):i._inactiveSound();if(!o)return null;if(n&&!e&&(e=o._sprite||"__default"),"loaded"!==i._state&&!i._sprite[e])return i._queue.push({event:"play",action:function(){i.play(i._soundById(o._id)?o._id:void 0)}}),o._id;if(n&&!o._paused)return t||setTimeout(function(){i._emit("play",o._id)},0),o._id;i._webAudio&&f._autoResume();var s=0<o._seek?o._seek:i._sprite[e][0]/1e3,l=(i._sprite[e][0]+i._sprite[e][1])/1e3-s,u=1e3*l/Math.abs(o._rate);o._paused=!1,o._ended=!1,o._sprite=e,o._seek=s,o._start=i._sprite[e][0]/1e3,o._stop=(i._sprite[e][0]+i._sprite[e][1])/1e3,o._loop=!(!o._loop&&!i._sprite[e][2]);var h=o._node;if(i._webAudio){var d=function(){i._refreshBuffer(o);var e=o._muted||i._muted?0:o._volume;h.gain.setValueAtTime(e,f.ctx.currentTime),o._playStart=f.ctx.currentTime,void 0===h.bufferSource.start?o._loop?h.bufferSource.noteGrainOn(0,s,86400):h.bufferSource.noteGrainOn(0,s,l):o._loop?h.bufferSource.start(0,s,86400):h.bufferSource.start(0,s,l),u!=1/0&&(i._endTimers[o._id]=setTimeout(i._ended.bind(i,o),u)),t||setTimeout(function(){i._emit("play",o._id)},0)};"loaded"===i._state?d():(i.once("load",d,o._id),i._clearTimer(o._id))}else{var c=function(){h.currentTime=s,h.muted=o._muted||i._muted||f._muted||h.muted,h.volume=o._volume*f.volume(),h.playbackRate=o._rate,setTimeout(function(){h.play(),u!=1/0&&(i._endTimers[o._id]=setTimeout(i._ended.bind(i,o),u)),t||i._emit("play",o._id)},0)},p="loaded"===i._state&&(window&&window.ejecta||!h.readyState&&f._navigator.isCocoonJS);if(4===h.readyState||p)c();else{h.addEventListener(f._canPlayEvent,function m(){c(),h.removeEventListener(f._canPlayEvent,m,!1)},!1),i._clearTimer(o._id)}}return o._id},pause:function(e,t){var i=this;if("loaded"!==i._state)return i._queue.push({event:"pause",action:function(){i.pause(e)}}),i;for(var n=i._getSoundIds(e),r=0;r<n.length;r++){i._clearTimer(n[r]);var a=i._soundById(n[r]);if(a&&!a._paused){if(a._seek=i.seek(n[r]),a._rateSeek=0,a._paused=!0,i._stopFade(n[r]),a._node)if(i._webAudio){if(!a._node.bufferSource)return i;void 0===a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),i._cleanBuffer(a._node)}else isNaN(a._node.duration)&&a._node.duration!==1/0||a._node.pause();t||i._emit("pause",a._id)}}return i},stop:function(e,t){var i=this;if("loaded"!==i._state)return i._queue.push({event:"stop",action:function(){i.stop(e)}}),i;for(var n=i._getSoundIds(e),r=0;r<n.length;r++){i._clearTimer(n[r]);var a=i._soundById(n[r]);if(a&&!a._paused&&(a._seek=a._start||0,a._rateSeek=0,a._paused=!0,a._ended=!0,i._stopFade(n[r]),a._node))if(i._webAudio){if(!a._node.bufferSource)return i;void 0===a._node.bufferSource.stop?a._node.bufferSource.noteOff(0):a._node.bufferSource.stop(0),i._cleanBuffer(a._node)}else isNaN(a._node.duration)&&a._node.duration!==1/0||(a._node.currentTime=a._start||0,a._node.pause());a&&!t&&i._emit("stop",a._id)}return i},mute:function(e,t){var i=this;if("loaded"!==i._state)return i._queue.push({event:"mute",action:function(){i.mute(e,t)}}),i;if(void 0===t){if("boolean"!=typeof e)return i._muted;i._muted=e}for(var n=i._getSoundIds(t),r=0;r<n.length;r++){var a=i._soundById(n[r]);a&&(a._muted=e,i._webAudio&&a._node?a._node.gain.setValueAtTime(e?0:a._volume,f.ctx.currentTime):a._node&&(a._node.muted=!!f._muted||e),i._emit("mute",a._id))}return i},volume:function(){var e,t,i,n=this,r=arguments;if(0===r.length)return n._volume;1===r.length?0<=n._getSoundIds().indexOf(r[0])?t=parseInt(r[0],10):e=parseFloat(r[0]):2<=r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if(!(void 0!==e&&0<=e&&e<=1))return(i=t?n._soundById(t):n._sounds[0])?i._volume:0;if("loaded"!==n._state)return n._queue.push({event:"volume",action:function(){n.volume.apply(n,r)}}),n;void 0===t&&(n._volume=e),t=n._getSoundIds(t);for(var a=0;a<t.length;a++)(i=n._soundById(t[a]))&&(i._volume=e,r[2]||n._stopFade(t[a]),n._webAudio&&i._node&&!i._muted?i._node.gain.setValueAtTime(e,f.ctx.currentTime):i._node&&!i._muted&&(i._node.volume=e*f.volume()),n._emit("volume",i._id));return n},fade:function(e,i,t,n){var r=this,a=Math.abs(e-i),o=i<e?"out":"in",s=t/(a/.01);if("loaded"!==r._state)return r._queue.push({event:"fade",action:function(){r.fade(e,i,t,n)}}),r;r.volume(e,n);for(var l=r._getSoundIds(n),u=0;u<l.length;u++){var h=r._soundById(l[u]);if(h){if(n||r._stopFade(l[u]),r._webAudio&&!h._muted){var d=f.ctx.currentTime,c=d+t/1e3;h._volume=e,h._node.gain.setValueAtTime(e,d),h._node.gain.linearRampToValueAtTime(i,c)}var p=e;h._interval=setInterval(function(e,t){p+="in"==o?.01:-.01,p=Math.max(0,p),p=Math.min(1,p),p=Math.round(100*p)/100,r._webAudio?(void 0===n&&(r._volume=p),t._volume=p):r.volume(p,e,!0),p===i&&(clearInterval(t._interval),t._interval=null,r.volume(p,e),r._emit("fade",e))}.bind(r,l[u],h),s)}}return r},_stopFade:function(e){var t=this._soundById(e);return t&&t._interval&&(this._webAudio&&t._node.gain.cancelScheduledValues(f.ctx.currentTime),clearInterval(t._interval),t._interval=null,this._emit("fade",e)),this},loop:function(){var e,t,i,n=arguments;if(0===n.length)return this._loop;if(1===n.length){if("boolean"!=typeof n[0])return!!(i=this._soundById(parseInt(n[0],10)))&&i._loop;e=n[0],this._loop=e}else 2===n.length&&(e=n[0],t=parseInt(n[1],10));for(var r=this._getSoundIds(t),a=0;a<r.length;a++)(i=this._soundById(r[a]))&&(i._loop=e,this._webAudio&&i._node&&i._node.bufferSource&&(i._node.bufferSource.loop=e));return this},rate:function(){var e,t,i,n=this,r=arguments;if(0===r.length)t=n._sounds[0]._id;else if(1===r.length){0<=n._getSoundIds().indexOf(r[0])?t=parseInt(r[0],10):e=parseFloat(r[0])}else 2===r.length&&(e=parseFloat(r[0]),t=parseInt(r[1],10));if("number"!=typeof e)return(i=n._soundById(t))?i._rate:n._rate;if("loaded"!==n._state)return n._queue.push({event:"rate",action:function(){n.rate.apply(n,r)}}),n;void 0===t&&(n._rate=e),t=n._getSoundIds(t);for(var a=0;a<t.length;a++)if(i=n._soundById(t[a])){i._rateSeek=n.seek(t[a]),i._playStart=n._webAudio?f.ctx.currentTime:i._playStart,i._rate=e,n._webAudio&&i._node&&i._node.bufferSource?i._node.bufferSource.playbackRate.value=e:i._node&&(i._node.playbackRate=e);var o=n.seek(t[a]),s=1e3*((n._sprite[i._sprite][0]+n._sprite[i._sprite][1])/1e3-o)/Math.abs(i._rate);!n._endTimers[t[a]]&&i._paused||(n._clearTimer(t[a]),n._endTimers[t[a]]=setTimeout(n._ended.bind(n,i),s)),n._emit("rate",i._id)}return n},seek:function(){var e,t,i=this,n=arguments;if(0===n.length)t=i._sounds[0]._id;else if(1===n.length){0<=i._getSoundIds().indexOf(n[0])?t=parseInt(n[0],10):(t=i._sounds[0]._id,e=parseFloat(n[0]))}else 2===n.length&&(e=parseFloat(n[0]),t=parseInt(n[1],10));if(void 0===t)return i;if("loaded"!==i._state)return i._queue.push({event:"seek",action:function(){i.seek.apply(i,n)}}),i;var r=i._soundById(t);if(r){if(!("number"==typeof e&&0<=e)){if(i._webAudio){var a=i.playing(t)?f.ctx.currentTime-r._playStart:0,o=r._rateSeek?r._rateSeek-r._seek:0;return r._seek+(o+a*Math.abs(r._rate))}return r._node.currentTime}var s=i.playing(t);s&&i.pause(t,!0),r._seek=e,r._ended=!1,i._clearTimer(t),s&&i.play(t,!0),!i._webAudio&&r._node&&(r._node.currentTime=e),i._emit("seek",t)}return i},playing:function(e){if("number"==typeof e){var t=this._soundById(e);return!!t&&!t._paused}for(var i=0;i<this._sounds.length;i++)if(!this._sounds[i]._paused)return!0;return!1},duration:function(e){var t=this._duration,i=this._soundById(e);return i&&(t=this._sprite[i._sprite][1]/1e3),t},state:function(){return this._state},unload:function(){for(var e=this,t=e._sounds,i=0;i<t.length;i++){t[i]._paused||(e.stop(t[i]._id),e._emit("end",t[i]._id)),e._webAudio||(t[i]._node.src="data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=",t[i]._node.removeEventListener("error",t[i]._errorFn,!1),t[i]._node.removeEventListener(f._canPlayEvent,t[i]._loadFn,!1)),delete t[i]._node,e._clearTimer(t[i]._id);var n=f._howls.indexOf(e);0<=n&&f._howls.splice(n,1)}var r=!0;for(i=0;i<f._howls.length;i++)if(f._howls[i]._src===e._src){r=!1;break}return o&&r&&delete o[e._src],e._state="unloaded",e._sounds=[],e=null},on:function(e,t,i,n){var r=this["_on"+e];return"function"==typeof t&&r.push(n?{id:i,fn:t,once:n}:{id:i,fn:t}),this},off:function(e,t,i){var n=this["_on"+e],r=0;if(t){for(r=0;r<n.length;r++)if(t===n[r].fn&&i===n[r].id){n.splice(r,1);break}}else if(e)this["_on"+e]=[];else{var a=Object.keys(this);for(r=0;r<a.length;r++)0===a[r].indexOf("_on")&&Array.isArray(this[a[r]])&&(this[a[r]]=[])}return this},once:function(e,t,i){return this.on(e,t,i,1),this},_emit:function(e,t,i){for(var n=this["_on"+e],r=n.length-1;0<=r;r--)n[r].id&&n[r].id!==t&&"load"!==e||(setTimeout(function(e){e.call(this,t,i)}.bind(this,n[r].fn),0),n[r].once&&this.off(e,n[r].fn,n[r].id));return this},_loadQueue:function(){var e=this;if(0<e._queue.length){var t=e._queue[0];e.once(t.event,function(){e._queue.shift(),e._loadQueue()}),t.action()}return e},_ended:function(e){var t=this,i=e._sprite,n=!(!e._loop&&!t._sprite[i][2]);if(t._emit("end",e._id),!t._webAudio&&n&&t.stop(e._id,!0).play(e._id),t._webAudio&&n){t._emit("play",e._id),e._seek=e._start||0,e._rateSeek=0,e._playStart=f.ctx.currentTime;var r=1e3*(e._stop-e._start)/Math.abs(e._rate);t._endTimers[e._id]=setTimeout(t._ended.bind(t,e),r)}return t._webAudio&&!n&&(e._paused=!0,e._ended=!0,e._seek=e._start||0,e._rateSeek=0,t._clearTimer(e._id),t._cleanBuffer(e._node),f._autoSuspend()),t._webAudio||n||t.stop(e._id),t},_clearTimer:function(e){return this._endTimers[e]&&(clearTimeout(this._endTimers[e]),delete this._endTimers[e]),this},_soundById:function(e){for(var t=0;t<this._sounds.length;t++)if(e===this._sounds[t]._id)return this._sounds[t];return null},_inactiveSound:function(){this._drain();for(var e=0;e<this._sounds.length;e++)if(this._sounds[e]._ended)return this._sounds[e].reset();return new a(this)},_drain:function(){var e=this,t=e._pool,i=0,n=0;if(!(e._sounds.length<t)){for(n=0;n<e._sounds.length;n++)e._sounds[n]._ended&&i++;for(n=e._sounds.length-1;0<=n;n--){if(i<=t)return;e._sounds[n]._ended&&(e._webAudio&&e._sounds[n]._node&&e._sounds[n]._node.disconnect(0),e._sounds.splice(n,1),i--)}}},_getSoundIds:function(e){if(void 0!==e)return[e];for(var t=[],i=0;i<this._sounds.length;i++)t.push(this._sounds[i]._id);return t},_refreshBuffer:function(e){return e._node.bufferSource=f.ctx.createBufferSource(),e._node.bufferSource.buffer=o[this._src],e._panner?e._node.bufferSource.connect(e._panner):e._node.bufferSource.connect(e._node),e._node.bufferSource.loop=e._loop,e._loop&&(e._node.bufferSource.loopStart=e._start||0,e._node.bufferSource.loopEnd=e._stop),e._node.bufferSource.playbackRate.value=e._rate,this},_cleanBuffer:function(e){if(this._scratchBuffer){e.bufferSource.onended=null,e.bufferSource.disconnect(0);try{e.bufferSource.buffer=this._scratchBuffer}catch(e){}}return e.bufferSource=null,this}};var a=function(e){this._parent=e,this.init()};a.prototype={init:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._muted=t._muted,e._rate=t._rate,e._seek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=Math.round(Date.now()*Math.random()),t._sounds.push(e),e.create(),e},create:function(){var e=this,t=e._parent,i=f._muted||e._muted||e._parent._muted?0:e._volume;return t._webAudio?(e._node=void 0===f.ctx.createGain?f.ctx.createGainNode():f.ctx.createGain(),e._node.gain.setValueAtTime(i,f.ctx.currentTime),e._node.paused=!0,e._node.connect(f.masterGain)):(e._node=new Audio,e._errorFn=e._errorListener.bind(e),e._node.addEventListener("error",e._errorFn,!1),e._loadFn=e._loadListener.bind(e),e._node.addEventListener(f._canPlayEvent,e._loadFn,!1),e._node.src=t._src,e._node.preload="auto",e._node.volume=i*f.volume(),e._node.load()),e},reset:function(){var e=this,t=e._parent;return e._muted=t._muted,e._loop=t._loop,e._volume=t._volume,e._muted=t._muted,e._rate=t._rate,e._seek=0,e._rateSeek=0,e._paused=!0,e._ended=!0,e._sprite="__default",e._id=Math.round(Date.now()*Math.random()),e},_errorListener:function(){this._node.error&&4===this._node.error.code&&(f.noAudio=!0),this._parent._emit("loaderror",this._id,this._node.error?this._node.error.code:0),this._node.removeEventListener("error",this._errorListener,!1)},_loadListener:function(){var e=this._parent;e._duration=Math.ceil(10*this._node.duration)/10,0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),e._autoplay&&e.play(),this._node.removeEventListener(f._canPlayEvent,this._loadFn,!1)}};var o={},s=function(t){var e=t._src;if(o[e])return t._duration=o[e].duration,void h(t);if(/^data:[^;]+;base64,/.test(e)){for(var i=atob(e.split(",")[1]),n=new Uint8Array(i.length),r=0;r<i.length;++r)n[r]=i.charCodeAt(r);u(n.buffer,t)}else{var a=new XMLHttpRequest;a.open("GET",e,!0),a.responseType="arraybuffer",a.onload=function(){var e=(a.status+"")[0];return"0"!==e&&"2"!==e&&"3"!==e?void t._emit("loaderror",null,"Failed loading audio file with status: "+a.status+"."):void u(a.response,t)},a.onerror=function(){t._webAudio&&(t._html5=!0,t._webAudio=!1,t._sounds=[],delete o[e],t.load())},l(a)}},l=function(t){try{t.send()}catch(e){t.onerror()}},u=function(e,t){f.ctx.decodeAudioData(e,function(e){e&&0<t._sounds.length&&(o[t._src]=e,h(t,e))},function(){t._emit("loaderror",null,"Decoding audio data failed.")})},h=function(e,t){t&&!e._duration&&(e._duration=t.duration),0===Object.keys(e._sprite).length&&(e._sprite={__default:[0,1e3*e._duration]}),"loaded"!==e._state&&(e._state="loaded",e._emit("load"),e._loadQueue()),e._autoplay&&e.play()},d=function(){f.noAudio=!1;try{"undefined"!=typeof AudioContext?f.ctx=new AudioContext:"undefined"!=typeof webkitAudioContext?f.ctx=new webkitAudioContext:f.usingWebAudio=!1}catch(e){f.usingWebAudio=!1}if(!f.usingWebAudio)if("undefined"!=typeof Audio)try{void 0===(new Audio).oncanplaythrough&&(f._canPlayEvent="canplay")}catch(e){f.noAudio=!0}else f.noAudio=!0;try{(new Audio).muted&&(f.noAudio=!0)}catch(e){}var e=/iP(hone|od|ad)/.test(f._navigator&&f._navigator.platform),t=f._navigator&&f._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),i=t?parseInt(t[1],10):null;if(e&&i&&i<9){var n=/safari/.test(f._navigator&&f._navigator.userAgent.toLowerCase());(f._navigator&&f._navigator.standalone&&!n||f._navigator&&!f._navigator.standalone&&!n)&&(f.usingWebAudio=!1)}f.usingWebAudio&&(f.masterGain=void 0===f.ctx.createGain?f.ctx.createGainNode():f.ctx.createGain(),f.masterGain.gain.value=1,f.masterGain.connect(f.ctx.destination)),f._setup()};void 0===(t=function(){return{Howler:f,Howl:cOf}}.apply(n,[]))||(i.exports=t),n.Howler=f,n.Howl=cOf,"undefined"!=typeof window?(window.HowlerGlobal=aOf,window.Howler=f,window.Howl=cOf,window.Sound=a):void 0!==e&&(e.HowlerGlobal=aOf,e.Howler=f,e.Howl=cOf,e.Sound=a)}(),function(){var t,i,n;HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){if(!this.ctx||!this.ctx.listener)return this;for(var t=this._howls.length-1;0<=t;t--)this._howls[t].stereo(e);return this},HowlerGlobal.prototype.pos=function(e,t,i){var n=this;return n.ctx&&n.ctx.listener?(t="number"!=typeof t?n._pos[1]:t,i="number"!=typeof i?n._pos[2]:i,"number"!=typeof e?n._pos:(n._pos=[e,t,i],n.ctx.listener.setPosition(n._pos[0],n._pos[1],n._pos[2]),n)):n},HowlerGlobal.prototype.orientation=function(e,t,i,n,r,a){if(!this.ctx||!this.ctx.listener)return this;var o=this._orientation;return t="number"!=typeof t?o[1]:t,i="number"!=typeof i?o[2]:i,n="number"!=typeof n?o[3]:n,r="number"!=typeof r?o[4]:r,a="number"!=typeof a?o[5]:a,"number"!=typeof e?o:(this._orientation=[e,t,i,n,r,a],this.ctx.listener.setOrientation(e,t,i,n,r,a),this)},Howl.prototype.init=(n=Howl.prototype.init,function(e){return this._orientation=e.orientation||[1,0,0],this._stereo=e.stereo||null,this._pos=e.pos||null,this._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:360,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:360,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:0,distanceModel:void 0!==e.distanceModel?e.distanceModel:"inverse",maxDistance:void 0!==e.maxDistance?e.maxDistance:1e4,panningModel:void 0!==e.panningModel?e.panningModel:"HRTF",refDistance:void 0!==e.refDistance?e.refDistance:1,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:1},this._onstereo=e.onstereo?[{fn:e.onstereo}]:[],this._onpos=e.onpos?[{fn:e.onpos}]:[],this._onorientation=e.onorientation?[{fn:e.onorientation}]:[],n.call(this,e)}),Howl.prototype.stereo=function(e,t){var i=this;if(!i._webAudio)return i;if("loaded"!==i._state)return i._queue.push({event:"stereo",action:function(){i.stereo(e,t)}}),i;var n=void 0===Howler.ctx.createStereoPanner?"spatial":"stereo";if(void 0===t){if("number"!=typeof e)return i._stereo;i._stereo=e,i._pos=[e,0,0]}for(var r=i._getSoundIds(t),a=0;a<r.length;a++){var o=i._soundById(r[a]);if(o){if("number"!=typeof e)return o._stereo;o._stereo=e,o._pos=[e,0,0],o._node&&(o._pannerAttr.panningModel="equalpower",o._panner&&o._panner.pan||u(o,n),"spatial"==n?o._panner.setPosition(e,0,0):o._panner.pan.value=e),i._emit("stereo",o._id)}}return i},Howl.prototype.pos=function(e,t,i,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"pos",action:function(){r.pos(e,t,i,n)}}),r;if(t="number"!=typeof t?0:t,i="number"!=typeof i?-.5:i,void 0===n){if("number"!=typeof e)return r._pos;r._pos=[e,t,i]}for(var a=r._getSoundIds(n),o=0;o<a.length;o++){var s=r._soundById(a[o]);if(s){if("number"!=typeof e)return s._pos;s._pos=[e,t,i],s._node&&(s._panner&&!s._panner.pan||u(s,"spatial"),s._panner.setPosition(e,t,i)),r._emit("pos",s._id)}}return r},Howl.prototype.orientation=function(e,t,i,n){var r=this;if(!r._webAudio)return r;if("loaded"!==r._state)return r._queue.push({event:"orientation",action:function(){r.orientation(e,t,i,n)}}),r;if(t="number"!=typeof t?r._orientation[1]:t,i="number"!=typeof i?r._orientation[2]:i,void 0===n){if("number"!=typeof e)return r._orientation;r._orientation=[e,t,i]}for(var a=r._getSoundIds(n),o=0;o<a.length;o++){var s=r._soundById(a[o]);if(s){if("number"!=typeof e)return s._orientation;s._orientation=[e,t,i],s._node&&(s._panner||(s._pos||(s._pos=r._pos||[0,0,-.5]),u(s,"spatial")),s._panner.setOrientation(e,t,i)),r._emit("orientation",s._id)}}return r},Howl.prototype.pannerAttr=function(){var e,t,i,n=this,r=arguments;if(!n._webAudio)return n;if(0===r.length)return n._pannerAttr;if(1===r.length){if("object"!=typeof r[0])return(i=n._soundById(parseInt(r[0],10)))?i._pannerAttr:n._pannerAttr;e=r[0],void 0===t&&(n._pannerAttr={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:n._coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:n._coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:n._coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:n._distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:n._maxDistance,panningModel:void 0!==e.panningModel?e.panningModel:n._panningModel,refDistance:void 0!==e.refDistance?e.refDistance:n._refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:n._rolloffFactor})}else 2===r.length&&(e=r[0],t=parseInt(r[1],10));for(var a=n._getSoundIds(t),o=0;o<a.length;o++)if(i=n._soundById(a[o])){var s=i._pannerAttr;s={coneInnerAngle:void 0!==e.coneInnerAngle?e.coneInnerAngle:s.coneInnerAngle,coneOuterAngle:void 0!==e.coneOuterAngle?e.coneOuterAngle:s.coneOuterAngle,coneOuterGain:void 0!==e.coneOuterGain?e.coneOuterGain:s.coneOuterGain,distanceModel:void 0!==e.distanceModel?e.distanceModel:s.distanceModel,maxDistance:void 0!==e.maxDistance?e.maxDistance:s.maxDistance,panningModel:void 0!==e.panningModel?e.panningModel:s.panningModel,refDistance:void 0!==e.refDistance?e.refDistance:s.refDistance,rolloffFactor:void 0!==e.rolloffFactor?e.rolloffFactor:s.rolloffFactor};var l=i._panner;l?(l.coneInnerAngle=s.coneInnerAngle,l.coneOuterAngle=s.coneOuterAngle,l.coneOuterGain=s.coneOuterGain,l.distanceModel=s.distanceModel,l.maxDistance=s.maxDistance,l.panningModel=s.panningModel,l.refDistance=s.refDistance,l.rolloffFactor=s.rolloffFactor):(i._pos||(i._pos=n._pos||[0,0,-.5]),u(i,"spatial"))}return n},Sound.prototype.init=(i=Sound.prototype.init,function(){var e=this,t=e._parent;e._orientation=t._orientation,e._stereo=t._stereo,e._pos=t._pos,e._pannerAttr=t._pannerAttr,i.call(this),e._stereo?t.stereo(e._stereo):e._pos&&t.pos(e._pos[0],e._pos[1],e._pos[2],e._id)}),Sound.prototype.reset=(t=Sound.prototype.reset,function(){var e=this._parent;return this._orientation=e._orientation,this._pos=e._pos,this._pannerAttr=e._pannerAttr,t.call(this)});var u=function(e,t){"spatial"===(t=t||"spatial")?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.panningModel=e._pannerAttr.panningModel,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.value=e._stereo),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id)}}()}).call(this,e(175))},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n=_interopRequireDefault(i(521)),r=_interopRequireDefault(i(15)),a=i(17),o=_interopRequireDefault(i(3));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var s=function(){function CentralEventSystem(){for(var e in _defineProperty(this,"_signals",void 0),_defineProperty(this,"analyticsPlugin",void 0),this._signals={},a.EventKeys)this._signals[a.EventKeys[e]]=null;(!r.default.instance.desktop||r.default.instance.desktop&&window.turner_metadata)&&(this.analyticsPlugin=new n.default(this)),this.debug()}var e=CentralEventSystem.prototype;return e.debug=function(){var e,t=this;for(var i in this._signals)e=i,t.add(e,function(e){})},e.add=function(e,t,i){try{if(!this._signals[e]&&null!==this._signals[e])throw new Error("Event Not Existed");null===this._signals[e]&&(this._signals[e]=new o.default),null!=i&&i.once?this._signals[e].addOnce(t,null==i?void 0:i.context,null==i?void 0:i.priority):this._signals[e].add(t,null==i?void 0:i.context,null==i?void 0:i.priority)}catch(e){}},e.remove=function(e,t,i){try{if(!this._signals[e])throw null===this._signals[e]?new Error("No listeners on "+e+" event"):new Error("Event Not Existed");if(!this._signals[e].has(t,i))throw new Error("Listener called "+t.name+" does not exist in "+e+" event");this._signals[e].remove(t,i),0===this._signals[e].getNumListeners()&&(this._signals[e]=null)}catch(e){}},e.removeAll=function(e){try{if(this._signals[e])this._signals[e].dispose(),this._signals[e]=null;else if(null!==this._signals[e])throw new Error("Event Not Existed")}catch(e){}},e.dispatch=function(e,t){try{if(this._signals[e])this._signals[e].dispatch(t);else if(null!==this._signals[e])throw new Error("Event Not Existed")}catch(e){}},CentralEventSystem}();t.default=s},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var a=i(522),o=_interopRequireDefault(i(5)),s=i(25),l=i(17),u=_interopRequireDefault(i(15)),n=_interopRequireDefault(i(4));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(i),!0).forEach(function(e){_defineProperty(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var r=function(){function AnalyticsPlugin(e){var t=this;_defineProperty(this,"CES",void 0),_defineProperty(this,"baseData",void 0),_defineProperty(this,"timeReference",void 0),_defineProperty(this,"intervalTrackingActive",void 0),this.timeReference=Date.now(),this.CES=e,this.hookUpAnalyticsListeners(),window.cordova&&e.add(l.EventKeys.APP_STARTED,function(){t.startAppIntervalTracking()},{context:this,once:!0})}var e=AnalyticsPlugin.prototype;return e.initBaseData=function(){var e={gametitle:"Toon Cup 2020",gamecategory:"arcade, football, sports, team",gamecharacter:window.gamelevel="nvs",gamefeature:"nvs",gamemode:"nvs",franchise:"the amazing world of gumball",screenorientation:"landscape",englishname:"toon cup 2020|football games|cartoon network"};if(window.cordova){for(var t,i,n,r=document.getElementsByTagName("meta"),a=0;a<r.length;a++)"build-version"===r[a].getAttribute("name")&&(i=r[a].getAttribute("content")),"build-date"===r[a].getAttribute("name")&&(n=r[a].getAttribute("content"));e.region=null===(t=o.default.region)||void 0===t?void 0:t.ANALYTICS,e.subregion="nvs",e.country="app|"+o.default.userCountry.toLowerCase()+"|"+s.Translation.country_codes[o.default.userCountry].toLowerCase(),e.brand="cartoon network",e.version="app|"+i+"|"+i+"|"+n,e.platform="app",u.default.instance.android?e.appname="app|toon cup 2020|android":u.default.instance.iOS&&(e.appname="app|toon cup 2020|ios")}else window.dataLayer?(e.region=window.dataLayer.region,e.subregion=window.dataLayer.subregion?window.dataLayer.subregion:"nvs",e.country=window.dataLayer.country,e.brand=window.dataLayer.siteBrand,e.domain=window.dataLayer.domain):(e.region="emea",e.subregion="northern europe",e.country="united kingdom",e.brand="cartoon network",e.domain="https://tooncup.cartoonnetwork.co.uk/"),e.platform="web",u.default.instance.desktop?e.presentationtemplate="desktop":e.presentationtemplate="mobile";this.baseData=e},e.hookUpAnalyticsListeners=function(){function GUf(n){"APP_LOADED"===n?r.CES.add(l.EventKeys[n],function(){var e=_objectSpread({},r.baseData,{gameloadduration:Math.round((Date.now()-r.timeReference)/1e3)});if(window.cordova)window.ADB.trackAction(n,e);else{var t={type:"game",data:e};turner_metadata.trackAction.push(t)}},{context:r,once:!0}):"APP_TIME_SPENT_INTERVAL"===n?r.CES.add(l.EventKeys[n],function(e){var t=_objectSpread({},r.baseData,{gametimespent:e.timeSpent,gamelevel:"nvs"});window.cordova&&window.ADB.trackAction(n,t)}):r.CES.add(l.EventKeys[n],function(e){var t=_objectSpread({},r.baseData,{interactionevent:1},a.TrackingEventData[n](e));if(window.cordova)window.ADB.trackAction(n,t);else{var i={type:"game",data:t};turner_metadata.trackAction.push(i)}})}var r=this;for(var e in a.TrackingEventData)GUf(e)},e.startAppIntervalTracking=function(){this.timeReference=Date.now(),n.default.instance.add(this.update,this),this.intervalTrackingActive=!0},e.pauseAppIntervalTracking=function(){if(this.intervalTrackingActive){var e=Math.round((Date.now()-this.timeReference)/1e3);1<e&&this.CES.dispatch(l.EventKeys.APP_TIME_SPENT_INTERVAL,{timeSpent:e})}},e.resumeAppIntervalTracking=function(){this.intervalTrackingActive&&(this.timeReference=Date.now())},e.update=function(){60<=(Date.now()-this.timeReference)/1e3&&(this.CES.dispatch(l.EventKeys.APP_TIME_SPENT_INTERVAL,{timeSpent:60}),this.timeReference=Date.now())},AnalyticsPlugin}();t.default=r},function(e,t,i){"use strict";t.__esModule=!0;var n={APP_LOADED:t.TrackingEventData=void 0,APP_STARTED:function(){return{interaction:"game start",gamestart:1}},APP_EXITED:function(){return{}},APP_INITIAL_LANGUAGE_SELECTED:function(e){return{language_id:e.language_id,interaction:"init language",init_language_selected:1}},APP_LANGUAGE_SELECTED:function(e){return{language_id:e.language_id,interaction:"language selected",language_selected:1}},APP_MAIN_MENU_LOADED:function(){return{interaction:"main menu loaded",main_menu_loaded:1}},APP_TIME_SPENT_INTERVAL:void 0,MENU_TOURNAMENT_SELECTED:function(){return{interaction:"tournament button",tournament_button:1}},MENU_QUICK_MATCH_SELECTED:function(){return{interaction:"practice button",practice_button:1}},MENU_UNLOCKABLES_SELECTED:function(){return{interaction:"unlockables button",unlockables_button:1}},MENU_LEADERBOARD_SELECTED:function(){return{interaction:"leaderboard button",leaderboard_button:1}},MENU_CHALLENGES_SELECTED:function(){return{interaction:"daily challenge",dailychallenge:1}},TOURNAMENT_COUNTRY_SELECTED:function(e){return{country_id:e.country_id,interaction:"country selection",country_selected:1}},TOURNAMENT_PLAYER_SELECTED:function(e){var t={player_id:e.player_id};return e.captain_selected?(t.interaction="captain selection",t.captain_selected=1):e.player_2_selected?(t.interaction="player 2 selection",t.player_2_selected=1):e.player_3_selected&&(t.interaction="player 3 selection",t.player_3_selected=1),t},LEADERBOARD_TOURNAMENT_SELECTED:function(){return{interaction:"tournament tab",tournament_tab:1}},LEADERBOARD_TODAY_SELECTED:function(){return{interaction:"today tab",today_tab:1}},LEADERBOARD_THIS_WEEK_SELECTED:function(){return{interaction:"this week tab",thisweek_tab:1}},LEADERBOARD_HALL_OF_FAME_SELECTED:function(){return{interaction:"hall of fame tab",halloffame_tab:1}},UNLOCKABLES_CHARACTERS_SCREEN_SELECTED:function(){return{interaction:"characters",characters:1}},UNLOCKABLES_STADIUMS_SCREEN_SELECTED:function(){return{interaction:"stadiums",stadiums:1}},UNLOCKABLES_BALLS_SCREEN_SELECTED:function(){return{interaction:"balls",balls:1}},UNLOCKABLES_STATS_SCREEN_SELECTED:function(){return{interaction:"stats",stats:1}},UNLOCKABLES_CHARACTER_UNLOCKED:function(e){return{playerid:e.characterId,interaction:"player unlock",player_unlock:1}},UNLOCKABLES_STADIUM_UNLOCKED:function(e){return{stadiumid:e.stadiumId,interaction:"stadium unlock",stadium_unlocked:1}},UNLOCKABLES_BALL_UNLOCKED:function(e){return{ballid:e.ballId,interaction:"ball_unlocked",ball_unlocked:1}},UNLOCKABLES_CHARACTER_SELECTED_FOR_UPGRADE:function(e){return{playerid:e.characterId,interaction:"stats upgrade",stats_upgrade:1}},UNLOCKABLES_STAT_UPGRADED:function(e){return{playerid:e.characterId,stat_type:e.stat,interaction:"stats upgrade type",stats_upgrade_type:1}},UNLOCKABLES_STADIUM_SELECTED:function(e){return{stadiumid:e.stadiumId,interaction:"stadium select",stadium_select:1}},UNLOCKABLES_BALL_SELECTED:function(e){return{ballid:e.ballId,interaction:"playable ball",playable_ball:1}},MENU_HELP_SELECTED:function(){return{interaction:"how to play",how_to_play:1}},TUTORIAL_STARTED:function(){return{interaction:"tutorial start",tutorial_start:1}},TUTORIAL_STEP_ADVANCED:function(e){return{step:e.step,interaction:"tutorial step",tutorial:1}},TUTORIAL_ENED:function(){return{interaction:"tutorial end",tutorial_end:1}},TUTORIAL_SKIPPED:function(){return{interaction:"tutorial skip",tutorial_skip:1}},GAME_TOURNAMENT_WON:function(){return{interaction:"game complete",gamelevel:"nvs",gamecomplete:1}},GAME_TOURNAMENT_EXIT:function(){return{interaction:"game exit",gamelevel:"nvs",gameexit:1}},GAME_MATCH_STARTED:function(e){return{match_type:e.match_type,interaction:"start match",start_match:1}},GAME_MATCH_EXITED:function(e){return{match_type:e.match_type,score:e.score,gametimetotal:e.gameTime,tackletotal:e.tackleTotal,tacklesuccess:e.tackleSuccess,shoottotal:e.shootTotal,passtotal:e.passTotal,passsuccess:e.passSuccess,opponenttackle:e.opponentTackle,opponenttacklesuccess:e.opponentTackleSuccess,possession:e.possession,interaction:"exit match",exit_match:1}},GAME_MATCH_WON:function(e){return{match_type:e.match_type,score:e.score,gametimetotal:e.gameTime,tackletotal:e.tackleTotal,tacklesuccess:e.tackleSuccess,shoottotal:e.shootTotal,passtotal:e.passTotal,passsuccess:e.passSuccess,opponenttackle:e.opponentTackle,opponenttacklesuccess:e.opponentTackleSuccess,possession:e.possession,interaction:"complete match",complete_match:1}},GAME_MATCH_LOST:function(e){return{match_type:e.match_type,score:e.score,gametimetotal:e.gameTime,tackletotal:e.tackleTotal,tacklesuccess:e.tackleSuccess,shoottotal:e.shootTotal,passtotal:e.passTotal,passsuccess:e.passSuccess,opponenttackle:e.opponentTackle,opponenttacklesuccess:e.opponentTackleSuccess,possession:e.possession,interaction:"lose match",lose_match:1}},CHALLENGE_COMPLETED:function(e){return{interaction:"daily challenge end",difficulty:e.difficulty,dailychallenge_comp:1}}};t.TrackingEventData=n},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=n?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(i,r,a):i[r]=e[r]}i.default=e,t&&t.set(e,i);return i}(i(0)),l=i(25),u=i(524),h=_interopRequireDefault(i(526)),d=_interopRequireDefault(i(79)),c=_interopRequireDefault(i(527)),p=_interopRequireDefault(i(535)),f=_interopRequireDefault(i(536)),m=_interopRequireDefault(i(537)),_=_interopRequireDefault(i(33)),g=_interopRequireDefault(i(539)),v=_interopRequireDefault(i(553)),y=_interopRequireDefault(i(555)),b=_interopRequireDefault(i(571)),w=_interopRequireDefault(i(573)),x=_interopRequireDefault(i(6)),T=_interopRequireDefault(i(574)),S=_interopRequireDefault(i(578)),M=_interopRequireDefault(i(15)),L=i(17),n=_interopRequireDefault(i(313)),E=_interopRequireDefault(i(588)),C=_interopRequireDefault(i(5)),A=_interopRequireDefault(i(666)),P=_interopRequireDefault(i(668)),D=_interopRequireDefault(i(669)),R=_interopRequireDefault(i(134)),k=_interopRequireDefault(i(670)),I=_interopRequireDefault(i(323)),O=_interopRequireDefault(i(671)),B=_interopRequireDefault(i(673)),N=_interopRequireDefault(i(682)),F=_interopRequireDefault(i(141)),Y=_interopRequireDefault(i(3)),U=_interopRequireDefault(i(326)),j=_interopRequireDefault(i(683)),z=_interopRequireDefault(i(684)),G=_interopRequireDefault(i(685)),H=_interopRequireDefault(i(686)),W=_interopRequireDefault(i(688)),V=_interopRequireDefault(i(4)),q=_interopRequireDefault(i(690)),X=_interopRequireDefault(i(691)),K=_interopRequireDefault(i(692)),J=i(74);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function(){return e},e}function asyncGeneratorStep(e,t,i,n,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void i(e)}s.done?t(l):Promise.resolve(l).then(n,r)}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var Z=i(13),Q=i(140);window.MusicManager2={play:function(e){if(Q.currentSound!==Q.music.sounds[e])if(M.default.instance.ie)Q.currentSound&&(Q.currentSound.stop(),Q.currentSound=null),Q.currentSound=Q.music.sounds[e],Q.currentSound.play();else{var t=0;Q.currentSound&&(t=.5,Q.currentSound.fade(Q.currentSound.realVolume,0,1e3*t)),TweenLite.delayedCall(t,function(e){var t;null!==(t=Q.currentSound)&&void 0!==t&&t.stop(),Q.play(e),Q.currentSound._sounds[0]._node.bufferSource&&(Q.currentSound._sounds[0]._node.bufferSource.loopEnd=Q.currentSound._duration-.25)},[e])}}},s.glCore.VertexArrayObject.FORCE_NATIVE=!0;var r=function(i){var e,t;function Application(){var e,t={config:ASSET_URL+"json/config.json",loaderScreen:k.default,backgroundColor:0,transparent:M.default.instance.android};return _defineProperty(_assertThisInitialized(e=i.call(this,t)||this),"_safeSize",void 0),_defineProperty(_assertThisInitialized(e),"_maxSize",void 0),_defineProperty(_assertThisInitialized(e),"_w",void 0),_defineProperty(_assertThisInitialized(e),"_h",void 0),_defineProperty(_assertThisInitialized(e),"_ratio",void 0),_defineProperty(_assertThisInitialized(e),"_w2",void 0),_defineProperty(_assertThisInitialized(e),"_h2",void 0),_defineProperty(_assertThisInitialized(e),"_ratio2",void 0),_defineProperty(_assertThisInitialized(e),"_offsetX",void 0),_defineProperty(_assertThisInitialized(e),"_offsetY",void 0),_defineProperty(_assertThisInitialized(e),"_scale",void 0),_defineProperty(_assertThisInitialized(e),"_scaleRatio",void 0),_defineProperty(_assertThisInitialized(e),"musicLoaded",void 0),_defineProperty(_assertThisInitialized(e),"_winterMode",void 0),_defineProperty(_assertThisInitialized(e),"onLanguageChange",void 0),_defineProperty(_assertThisInitialized(e),"ticker",void 0),_defineProperty(_assertThisInitialized(e),"scoreAPI",void 0),_defineProperty(_assertThisInitialized(e),"dimmer",void 0),_defineProperty(_assertThisInitialized(e),"dataSystem",void 0),_defineProperty(_assertThisInitialized(e),"adsSystem",void 0),_defineProperty(_assertThisInitialized(e),"challengesSystem",void 0),_defineProperty(_assertThisInitialized(e),"charactersSystem",void 0),_defineProperty(_assertThisInitialized(e),"stadiumsSystem",void 0),_defineProperty(_assertThisInitialized(e),"ballsSystem",void 0),_defineProperty(_assertThisInitialized(e),"notificationSystem",void 0),_defineProperty(_assertThisInitialized(e),"overlayManager",void 0),_defineProperty(_assertThisInitialized(e),"topMenu",void 0),_defineProperty(_assertThisInitialized(e),"homeScreen",void 0),_defineProperty(_assertThisInitialized(e),"countrySelectScreen",void 0),_defineProperty(_assertThisInitialized(e),"captainSelectScreen",void 0),_defineProperty(_assertThisInitialized(e),"playerSelectScreen",void 0),_defineProperty(_assertThisInitialized(e),"playerSelectScreen2",void 0),_defineProperty(_assertThisInitialized(e),"teamReviewScreen",void 0),_defineProperty(_assertThisInitialized(e),"tournamentScreen",void 0),_defineProperty(_assertThisInitialized(e),"leaderboardScreen",void 0),_defineProperty(_assertThisInitialized(e),"gameScreen",void 0),_defineProperty(_assertThisInitialized(e),"unlockablesScreen",void 0),_defineProperty(_assertThisInitialized(e),"charactersScreen",void 0),_defineProperty(_assertThisInitialized(e),"stadiumsScreen",void 0),_defineProperty(_assertThisInitialized(e),"statsScreen",void 0),_defineProperty(_assertThisInitialized(e),"ballsScreen",void 0),_defineProperty(_assertThisInitialized(e),"languageScreen",void 0),_defineProperty(_assertThisInitialized(e),"challengesScreen",void 0),_defineProperty(_assertThisInitialized(e),"breadcrumb",void 0),_defineProperty(_assertThisInitialized(e),"brand",void 0),e.ticker=V.default,e.scoreAPI=F.default,e._safeSize={width:1136,height:524},e._maxSize={width:1136,height:852},e.renderer.transparent=!0,e.renderer.roundPixels=!0,(e.musicLoaded=!1,u.setupGlobalUtilities)(),(0,u.setupLanguage)(),e.dataSystem=new S.default,e.onLanguageChange=new Y.default,e.preStartup(),e}t=i,(e=Application).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n,r,a,o=Application.prototype;return o.preStartup=function(){var a,e=(a=regeneratorRuntime.mark(function _callee(){var t,i,n,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=(null===(t=window.URLParams.country)||void 0===t?void 0:t.toUpperCase())||LOCAL_STORAGE.get("userCountry")){e.next=5;break}return e.next=4,(0,u.getIpCountryCode)();case 4:i=e.sent;case 5:if(n=l.Translation.countries[i],i=i||"EN",C.default.userCountry=i,!n){e.next=20;break}e.t0=regeneratorRuntime.keys(l.Translation.regions);case 10:if((e.t1=e.t0()).done){e.next=18;break}if(r=e.t1.value,l.Translation.regions[r].REGION_ID===n.REGION)return C.default.region=l.Translation.regions[r],e.abrupt("break",18);e.next=16;break;case 16:e.next=10;break;case 18:e.next=21;break;case 20:C.default.region=l.Translation.regions.WE;case 21:return LOCAL_STORAGE.store("userCountry",i),e.next=24,(0,u.isWinterMode)(n||i);case 24:this._winterMode=e.sent,this.adsSystem=new h.default(this),this.onStartUp();case 27:case"end":return e.stop()}},_callee,this)}),function(){var e=this,r=arguments;return new Promise(function(t,i){var n=a.apply(e,r);function _next(e){asyncGeneratorStep(n,t,i,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(n,t,i,_next,_throw,"throw",e)}_next(void 0)})});return function(){return e.apply(this,arguments)}}(),o.onStartUp=function(){var e,n=this;null!==(e=CES.analyticsPlugin)&&void 0!==e&&e.initBaseData();var t=LOCAL_STORAGE.get("muted");"true"!==t&&!0!==t||(Z.music.mute(),Z.sfx.mute());var i=LOCAL_STORAGE.get("coins");i&&(C.default.coins=parseInt(i)),window.URLParams.coins&&(C.default.coins=parseInt(window.URLParams.coins)),(window.cordova||M.default.instance.ie)&&(Q.fadeInDuration=0,Q.fadeOutDuration=0),this.preloader.addManifest(RESOLVE_MANIFEST(I.default.preload),ASSET_URL);var r=J.getStadiums.selected().id;"default"===r&&this.winterMode?r="winter":"winter"!==r||this.winterMode||(r="default");var a=ASSET_URL+"img/content/stadiums/core-assets/"+r+"-stadium/background-artwork.jpg";function onPause(){V.default.instance.stop(),V.default.game.stop()}function onResume(){var e=this;V.default.instance.start(),V.default.game.start(),this.app.resize(this.w,this.h),M.default.instance.android&&setTimeout(function(){e.app.resize(e.w,e.h)},1e3)}this.preloader.addPixiAssets([RESOLVE_PATH(a)]).addManifest(RESOLVE_MANIFEST(I.default["stadium-shared-decorations"]),ASSET_URL),this.loader.addPixiAssets([ASSET_URL+"img/content/logos/titles/logo_"+(l.Translation.logos[window.LANGUAGE]||"en")+".png",RESOLVE_PATH(ASSET_URL+"img/content/banners/banners-default/main-menu-sponsor.jpg")]).addManifest(RESOLVE_MANIFEST(I.default["base-menu-ui"]),ASSET_URL).addPixiAssets([ASSET_URL+"fonts/day_count_green.xml"]).addPixiAssets([ASSET_URL+"fonts/day_count_red.xml"]).addCSS(ASSET_URL+"css/fonts.css").addJson(ASSET_URL+"json/strings.json","strings").addJson(ASSET_URL+"json/character-animation.json","character-animation").addCSS(ASSET_URL+"css/fonts.css").addFonts(["lubalin","fredburger","avenir","sirichana"]),this.winterMode&&this.loader.addManifest(RESOLVE_MANIFEST(I.default["winter-menu-ui"]),ASSET_URL),this.preloader.onComplete.addOnce(function(){n.loadSounds(),n.loader.load()}),this.loader.onComplete.addOnce(function(){var e=new R.default;e.addManifest(RESOLVE_MANIFEST(I.default["flag-logos"]),ASSET_URL).addManifest(RESOLVE_MANIFEST(I.default["character-photoshoots"]),ASSET_URL).addManifest(RESOLVE_MANIFEST(I.default["stadium-thumbs"]),ASSET_URL).addManifest(RESOLVE_MANIFEST(I.default["ball-thumbs"]),ASSET_URL).addManifest(RESOLVE_MANIFEST(I.default["character-splashes"]),ASSET_URL).addManifest(RESOLVE_MANIFEST(I.default["show-logos"]),ASSET_URL).addManifest(RESOLVE_MANIFEST(I.default["character-posters"]),ASSET_URL).addManifest(RESOLVE_MANIFEST(I.default["base-menu-ui"]),ASSET_URL).addManifest(RESOLVE_MANIFEST(I.default["ball-textures"]),ASSET_URL);var t=J.getStadiums.showable().map(function(e){return e.id});t.splice(t.indexOf(r),1);var i=t.map(function(e){return RESOLVE_PATH(ASSET_URL+"img/content/stadiums/core-assets/"+e+"-stadium/background-artwork.jpg")});e.addPixiAssets(i),e.onComplete.addOnce(function(){n.gameScreen.loadCoreAssets(),n.teamReviewScreen.onAssetsLoaded(),n.charactersScreen.onAssetsLoaded(),n.stadiumsScreen.onAssetsLoaded(),n.ballsScreen.onAssetsLoaded(),n.statsScreen.onAssetsLoaded(),n.countrySelectScreen.onAssetsLoaded()}),e.load(),CES.dispatch(L.EventKeys.APP_LOADED),window.cordova||n.loaderScreen.showPlayButton(),n.onAppLoaded()}),this.startup(),window.cordova&&(window.open=window.cordova.InAppBrowser.open,document.addEventListener("pause",onPause,!1),document.addEventListener("resume",onResume,!1)),this.adsSystem=new h.default(this)},o.onPreload=function(){var e=_.default.getJson("config").config.LOCALE,t=-1!==["_ru"].indexOf(e);window.MAIN_FONT=window.MAIN_FONT||(t?"fredburger":"lubalin"),this.stadiumsSystem=new G.default(this),this.stage.addChildAt(this.stadiumsSystem.backgroundContainer,0),this.dimmer=new s.Graphics,this.dimmer.beginFill(0),this.dimmer.drawRect(0,0,this.w*this.scale,this.h*this.scale),this.stage.addChildAt(this.dimmer,1)},o.onAppLoaded=function(){var e=this,t=_.default.getJson("strings")[window.LANGUAGE];window.translations=t,this.stadiumsSystem.backgroundContainer.visible=!0;var i=_.default.getJson("config").config.CHALLENGES;this.challengesSystem=new y.default(this,{type:i.TYPE,maxEntities:i.MAX,debug:!0}),this.challengesSystem.init(),this.ballsSystem=new p.default(this),this.charactersSystem=new w.default(this),this.setupScreens(),this.onLanguageChange.dispatch(),this.topMenu=new q.default(this),this.stage.addChild(this.topMenu),this.topMenu.visible=!1,this.breadcrumb=new m.default(this),this.stage.addChildAt(this.breadcrumb,2),this.breadcrumb.visible=!1,this.overlayManager=new B.default(this),this.stage.addChildAt(this.overlayManager.view,4),this.brand=new f.default(this),this.stage.addChild(this.brand),this.notificationSystem=new O.default(this,{}),this.stage.addChild(this.notificationSystem.container),this.resize(this.w,this.h),window.cordova&&M.default.instance.android&&(0,j.default)(),this.challengesSystem.debugChallengesPanel(),this.loaderScreen.onSplashscreenCompletedDispatched?this.redirectToInitialScreen():this.loaderScreen.onSplashscreenCompleted.addOnce(function(){e.redirectToInitialScreen()})},o.redirectToInitialScreen=function(){CES.dispatch(L.EventKeys.APP_STARTED),this.topMenu.visible=!0;var e=LOCAL_STORAGE.get("language");if(window.URLParams.teamA&&window.URLParams.teamB){var t=window.URLParams.teamA.toLocaleUpperCase("tr"===window.LANGUAGE?"TR":"en-US");t=l.Translation.countries[t]?l.Translation.countries[t]:l.Translation.countries.SE;var i=window.URLParams.teamB.toLocaleUpperCase("tr"===window.LANGUAGE?"TR":"en-US");i=l.Translation.countries[i]?l.Translation.countries[i]:l.Translation.countries.US,window.app.game.goalsA=parseInt(window.URLParams.goalsA)||2,window.app.game.goalsB=parseInt(window.URLParams.goalsB)||0,window.URLParams.goldenGoal&&(window.app.game.goldenGoal=!0);var n="quarter";window.URLParams.match&&("semifinal"===(n=window.URLParams.match)&&(C.default.tournamentData.semi=[0,1]),"final"===n&&(C.default.tournamentData.final=[0,1])),F.default.startGame(t.SCORE_ID,i.SCORE_ID,function(e){var t=window.app.game.getResultMultiplier();F.default.sendScore(e.key,t,function(e){})})}if(window.URLParams.game)C.default.countryID=l.Translation.countries.SE,C.default.opponentID=l.Translation.countries.US,this.screenManager.gotoScreenByID(x.default.SCREEN_ID.GAME);else if(window.URLParams.countryselect)this.screenManager.gotoScreenByID(x.default.SCREEN_ID.COUNTRY_SELECT);else if(window.URLParams.gameover)C.default.countryID=l.Translation.countries.SE,C.default.opponentID=l.Translation.countries.US,this.screenManager.gotoScreenByID(x.default.SCREEN_ID.GAMEOVER);else if(window.URLParams.unlockables)this.screenManager.gotoScreenByID(x.default.SCREEN_ID.UNLOCKABLES);else if(window.URLParams.leaderboard)this.screenManager.gotoScreenByID(x.default.SCREEN_ID.LEADERBOARD);else if(window.URLParams.tournament){var r=(0,l.getCountries)();d.default.shuffle(r),r=r.splice(0,7),C.default.isTournament=!0,C.default.tournamentData.quarter=r,C.default.countryID=l.Translation.countries.SE,window.URLParams.userCountry&&l.Translation.countries[window.URLParams.userCountry]&&(C.default.countryID=l.Translation.countries[window.URLParams.userCountry]),r.unshift(C.default.countryID);var a=[];if(window.URLParams.semi||window.URLParams.final||window.URLParams.winner){C.default.matchResult.goalsA=1;for(var o=C.default.matchResult.goalsB=0;o<r.length;o+=2)a.push(r[o]);C.default.tournamentData.semi=a}if(window.URLParams.final||window.URLParams.winner){var s=[a[0],a[2]];C.default.tournamentData.final=s}window.URLParams.winner?("1"===window.URLParams.winner?C.default.tournamentData.winner=[a[0]]:"2"===window.URLParams.winner&&(C.default.tournamentData.winner=[a[2]]),this.screenManager.gotoScreenByID(x.default.SCREEN_ID.TEAM_REVIEW)):this.screenManager.gotoScreenByID(x.default.SCREEN_ID.TOURNAMENT)}else window.URLParams.yourteam?this.screenManager.gotoScreenByID(x.default.SCREEN_ID.TEAM_REVIEW):window.URLParams.captainselect?(this.screenManager.gotoScreenByID(x.default.SCREEN_ID.CAPTAIN_SELECT),this.breadcrumb.show(),this.breadcrumb.next()):window.cordova&&!e||window.URLParams.selectlanguage?this.screenManager.gotoScreenByID(x.default.SCREEN_ID.LANGUAGE):this.screenManager.gotoScreenByID(x.default.SCREEN_ID.TITLE)},o.loadSounds=function(){window.cordova&&M.default.instance.android?(0,j.default)(!0):(0,j.default)(),window.cordova?(document.addEventListener("pause",this.onBlur.bind(this),!1),document.addEventListener("resume",this.onFocus.bind(this),!1)):(window.addEventListener("blur",this.onBlur.bind(this)),window.addEventListener("focus",this.onFocus.bind(this)))},o.setupScreens=function(){this.screenManager.defaultTransition=new U.default,this.screenManager.container.name="screenmanager",this.screenManager.container.defaultCursor="pointer",this.homeScreen=new A.default(this),this.countrySelectScreen=new T.default(this),this.captainSelectScreen=new g.default(this),this.playerSelectScreen=new N.default(this,1),this.playerSelectScreen2=new N.default(this,2),this.teamReviewScreen=new W.default(this),this.tournamentScreen=new X.default(this),this.leaderboardScreen=new D.default(this),this.gameScreen=new E.default(this),this.unlockablesScreen=new K.default(this),this.charactersScreen=new b.default(this),this.stadiumsScreen=new z.default(this),this.statsScreen=new H.default(this),this.ballsScreen=new c.default(this),this.languageScreen=new P.default(this),this.challengesScreen=new v.default(this),this.screenManager.addScreen(this.homeScreen,x.default.SCREEN_ID.TITLE),this.screenManager.addScreen(this.countrySelectScreen,x.default.SCREEN_ID.COUNTRY_SELECT),this.screenManager.addScreen(this.captainSelectScreen,x.default.SCREEN_ID.CAPTAIN_SELECT),this.screenManager.addScreen(this.playerSelectScreen,x.default.SCREEN_ID.PLAYER_SELECT),this.screenManager.addScreen(this.playerSelectScreen2,x.default.SCREEN_ID.PLAYER_SELECT_2),this.screenManager.addScreen(this.teamReviewScreen,x.default.SCREEN_ID.TEAM_REVIEW),this.screenManager.addScreen(this.tournamentScreen,x.default.SCREEN_ID.TOURNAMENT),this.screenManager.addScreen(this.leaderboardScreen,x.default.SCREEN_ID.LEADERBOARD),this.screenManager.addScreen(this.gameScreen,x.default.SCREEN_ID.GAME),this.screenManager.addScreen(this.unlockablesScreen,x.default.SCREEN_ID.UNLOCKABLES),this.screenManager.addScreen(this.charactersScreen,x.default.SCREEN_ID.CHARACTERS),this.screenManager.addScreen(this.stadiumsScreen,x.default.SCREEN_ID.STADIUMS),this.screenManager.addScreen(this.statsScreen,x.default.SCREEN_ID.STATS),this.screenManager.addScreen(this.ballsScreen,x.default.SCREEN_ID.BALLS),this.screenManager.addScreen(this.languageScreen,x.default.SCREEN_ID.LANGUAGE),this.screenManager.addScreen(this.challengesScreen,x.default.SCREEN_ID.CHALLENGES)},o.changeLanguage=function(e){var t=_.default.getJson("strings")[e];t||(e="en"),window.translations=t,window.LANGUAGE=e,window.MAIN_FONT=l.Translation.language_fonts[e]||l.Translation.language_fonts.en,this.onLanguageChange.dispatch()},o.updateCoins=function(e){C.default.coins+=e,this.saveCoins(),this.topMenu.updateCoins()},o.saveCoins=function(){LOCAL_STORAGE.store("coins",C.default.coins)},o.onBlur=function(){var e,t=LOCAL_STORAGE.get("muted");"true"!==t&&!0!==t&&Z.music.mute(),null!==(e=CES.analyticsPlugin)&&void 0!==e&&e.pauseAppIntervalTracking()},o.onFocus=function(){var e,t=LOCAL_STORAGE.get("muted");"true"!==t&&!0!==t&&Z.music.unmute(),null!==(e=CES.analyticsPlugin)&&void 0!==e&&e.resumeAppIntervalTracking()},o.resize=function(e,t){this._w=e||this.w,this._h=t||this.h;var i=1;M.default.instance.isMobile&&(i=window.devicePixelRatio?window.devicePixelRatio:window.screen.deviceXDPI/window.screen.logicalXDPI),2<i&&(i=2),this._scale=i;var n=e/this.safeSize.width<t/this.safeSize.height?e/this.safeSize.width:t/this.safeSize.height,r=Math.min(this.maxSize.width*n,e),a=Math.min(this.maxSize.height*n,t);this._w2=r,this._h2=a,this._ratio=n;var o=e/this.maxSize.width<t/this.maxSize.height?e/this.maxSize.width:t/this.maxSize.height;this._ratio2=o,this.renderer.resize(r*i|0,a*i|0),this.view.style.width=r+"px",this.view.style.height=a+"px",this.view.style.left=e/2-r/2+"px",this.view.style.top=t/2-a/2+"px",this.screenManager.resize(r/n,a/n),this.brand&&(this.brand.resize(r/n,a/n),this.brand.scale.set(n*i)),this.overlayManager&&(this.overlayManager.resize(r/n,a/n),this.overlayManager.view.scale.set(n*i)),this.stadiumsSystem&&this.stadiumsSystem.resize(),this.topMenu&&(this.topMenu.scale.set(o*i),this.topMenu.resize(r/o,a/o)),this.breadcrumb&&(this.breadcrumb.resize(r/n,a/n),this.breadcrumb.scale.set(n*i)),this.screenManager.container.scale.set(o*i);var s=r/a/(this.maxSize.width/this.maxSize.height);this.screenManager.container.x=(r-r/s)/2*i,this.screenManager.container.y=(a-a/s)/2*i,this._offsetX=this.screenManager.container.x/this.screenManager.container.scale.x,this._offsetY=this.screenManager.container.y/this.screenManager.container.scale.y,this._scaleRatio=(r+2*this.offsetX)/r,this.notificationSystem&&(this.notificationSystem.container.scale.set(o*i),this.notificationSystem.resize()),this.dimmer&&(this.dimmer.graphicsData[0].shape.width=e*this.scale,this.dimmer.graphicsData[0].shape.height=t*this.scale)},n=Application,(r=[{key:"maxSize",get:function(){return this._maxSize}},{key:"safeSize",get:function(){return this._safeSize}},{key:"winterMode",get:function(){return this._winterMode}},{key:"w",get:function(){return this._w}},{key:"h",get:function(){return this._h}},{key:"ratio",get:function(){return this._ratio}},{key:"w2",get:function(){return this._w2}},{key:"h2",get:function(){return this._h2}},{key:"ratio2",get:function(){return this._ratio2}},{key:"offsetX",get:function(){return this._offsetX}},{key:"offsetY",get:function(){return this._offsetY}},{key:"scale",get:function(){return this._scale}},{key:"scaleRatio",get:function(){return this._scaleRatio}}])&&_defineProperties(n.prototype,r),a&&_defineProperties(n,a),Application}(n.default);t.default=r},function(e,t,i){"use strict";t.__esModule=!0,t.getIpCountryCode=function(){return _getIpCountryCode.apply(this,arguments)},t.isWinterMode=function(e){return _isWinterMode.apply(this,arguments)},t.setupLanguage=function(){var e;window.cordova?e=LOCAL_STORAGE.get("language")||"en":(window.webLanguage?e=window.webLanguage:(e=(e=(e=window.navigator.userLanguage||window.navigator.language)||"en").split("-")[0],window.URLParams.lang&&(e=window.URLParams.lang)),r.Translation.languages[e.toLowerCase()]||(e="en"));window.LANGUAGE=e,window.MAIN_FONT=r.Translation.language_fonts[e]},t.setupGlobalUtilities=function(){(function(){var t=function(){if(window.URLParams.halfsize)return!0;var e=navigator.userAgent,t=/Kindle/i.test(e)||/Silk/i.test(e)||/KFTT/i.test(e)||/KFOT/i.test(e)||/KFJWA/i.test(e)||/KFJWI/i.test(e)||/KFSOWI/i.test(e)||/KFTHWA/i.test(e)||/KFTHWI/i.test(e)||/KFAPWA/i.test(e)||/KFAPWI/i.test(e)||/KFAUWI/i.test(e),i=/Hudl/i.test(e),n=/G900H/i.test(e),r=/MotoG3/i.test(e),a=/SM-J4/i.test(e),o=/SM-J6/i.test(e),s=/SM-G53/i.test(e),l=/LDN-TL10/i.test(e),u=/iPad4,1/i.test(e);if(t||i||r||a||o||s||l||u)return!0;if(d.default.instance.iPhone&&2<=window.devicePixelRatio&&(320===screen.availHeight||548===screen.availHeight||568===screen.availHeight))return!0;if(d.default.instance.android){var h=parseFloat(e.slice(e.indexOf("Android")+8));if(n||h<6)return!0}return!1}();window.HALF_SIZE=t,window.RESOLVE_PATH=function(e){t&&(e=e.substr(0,e.indexOf("."))+"_mip"+e.substr(e.indexOf("."),4));return e},window.RESOLVE_MANIFEST=function(e){return t&&(e=e.map(function(e){return-1!==e.indexOf(".json")?e.replace(".json","_mip.json"):-1!==e.indexOf(".jpg")?e.replace(".jpg","_mip.jpg"):-1!==e.indexOf(".png")?e.replace(".png","_mip.png"):void 0})),e}})(),window.LOCAL_STORAGE=new n.default,!LOCAL_STORAGE.get("gdprPopup")||window.URLParams.gdpr?window.GDPR=!0:window.GDPR=!1;!LOCAL_STORAGE.get("showTutorial")||window.URLParams.tutorial?window.TUTORIAL=!0:window.TUTORIAL=!1;window.URLParams.showBanner&&(window.iosStore="test",window.androidStore="test")};var d=_interopRequireDefault(i(15)),n=_interopRequireDefault(i(525)),r=i(25);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function asyncGeneratorStep(e,t,i,n,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void i(e)}s.done?t(l):Promise.resolve(l).then(n,r)}function _asyncToGenerator(a){return function(){var e=this,r=arguments;return new Promise(function(t,i){var n=a.apply(e,r);function _next(e){asyncGeneratorStep(n,t,i,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(n,t,i,_next,_throw,"throw",e)}_next(void 0)})}}function _getIpCountryCode(){return(_getIpCountryCode=_asyncToGenerator(regeneratorRuntime.mark(function _callee(){var t,i;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.URLParams.country)return e.abrupt("return",window.URLParams.country);e.next=3;break;case 3:return e.prev=4,e.next=7,fetch("https://geoip.turner-apps.com/api/get_geoip_data");case 7:return t=e.sent,e.next=10,t.json();case 10:return i=e.sent,e.abrupt("return",i.country);case 14:return e.prev=14,e.t0=e.catch(4),e.abrupt("return",null);case 18:case"end":return e.stop()}},_callee,null,[[4,14]])}))).apply(this,arguments)}function _isWinterMode(){return(_isWinterMode=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(t){var i,n,r,a,o,s,l,u,h,d,c,p;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(window.URLParams.forceWinterSkin)return e.abrupt("return",!0);e.next=2;break;case 2:return e.prev=3,e.next=6,fetch(ASSET_URL+"json/config.json");case 6:return n=e.sent,e.next=9,n.json();case 9:r=e.sent,i=r.config.WINTER_SKIN,e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.abrupt("return",!1);case 17:a=!1,e.t1=regeneratorRuntime.keys(i.INCLUDES);case 19:if((e.t2=e.t1()).done){e.next=38;break}if(s=e.t2.value,o=i.INCLUDES[s],t.ID?-1!==o.indexOf("REGION")?t.REGION===parseInt(o.replace("REGION_",""))&&(a=!0):t.ID===o&&(a=!0):-1===o.indexOf("REGION")&&t===o&&(a=!0),!a){e.next=36;break}e.t3=regeneratorRuntime.keys(i.EXCLUDES);case 25:if((e.t4=e.t3()).done){e.next=36;break}if(l=e.t4.value,o=i.EXCLUDES[l],t.ID&&t.ID===o)return e.abrupt("return",!1);e.next=32;break;case 32:if(t===o)return e.abrupt("return",!1);e.next=34;break;case 34:e.next=25;break;case 36:e.next=19;break;case 38:if(a){e.next=40;break}return e.abrupt("return",!1);case 40:if(h=window.URLParams.winterSkinDates?(d=window.URLParams.winterSkinDates.split("_"),u=new Date(d[0].replace(/-/gi," ")),new Date(d[1].replace(/-/gi," "))):(u=new Date(i.START+" 2000"),new Date(i.END+" 2000")),c=new Date,window.URLParams.todayDate&&(c=new Date(window.URLParams.todayDate.replace(/-/gi," "))),p=c.getFullYear(),h.getMonth()<u.getMonth()?c.getMonth()<u.getMonth()?(u.setFullYear(p-1),h.setFullYear(p)):(u.setFullYear(p),h.setFullYear(p+1)):(u.setFullYear(p),h.setFullYear(p)),u<=c&&c<=h)return e.abrupt("return",!0);e.next=47;break;case 47:case"end":return e.stop()}},_callee2,null,[[3,13]])}))).apply(this,arguments)}},function(e,t,i){"use strict";var n;void 0===(n=function(e,t,i){function oZf(e){this.id=e||"com.goodboydigital",this.canSave=!1;try{localStorage.setItem(this.id+".access",!0),localStorage.removeItem(this.id+".access",!0),this.canSave=!0}catch(e){}}oZf.prototype.store=function(e,t){this.canSave&&localStorage.setItem(this.id+"."+e,t)},oZf.prototype.get=function(e){if(this.canSave)return localStorage.getItem(this.id+"."+e)},oZf.prototype.storeObject=function(e,t){this.canSave&&localStorage.setItem(this.id+"."+e,JSON.stringify(t))},oZf.prototype.getObject=function(e){if(this.canSave)return JSON.parse(localStorage.getItem(this.id+"."+e))},oZf.prototype.remove=function(e){this.canSave&&localStorage.removeItem(this.id+"."+e)},oZf.prototype.reset=function(){if(this.canSave)for(var e in localStorage)-1!==e.indexOf(this.id+".")&&localStorage.removeItem(e)},i.exports=oZf}.call(t,i,t,e))||(e.exports=n)},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var o=i(0),r=_interopRequireDefault(i(15)),s=_interopRequireDefault(i(5));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var n=function(){function AdsSystem(e){var t,i,n;n=void 0,(i="app")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,this.app=e,window.cordova?window.nativeads&&this.loadAds():this.loadWebAds()}var e=AdsSystem.prototype;return e.loadAds=function(){var t=this,i=window.URLParams.adUnitId||"/99911224/cn_app/tooncup2018",e=window.URLParams.templateId1||"11778280",n=window.URLParams.templateId2||"11778277";window.nativeads.loadAd(i,e,s.default.userCountry,function(e){r.default.instance.android?s.default.banner1=o.Sprite.fromImage(e.image):t.loadAdImage(e.image,"banner1"),window.nativeads.loadAd(i,n,s.default.userCountry,function(e){r.default.instance.android?s.default.banner2=o.Sprite.fromImage(e.image):t.loadAdImage(e.image,"banner2"),t.loadInterstitial()},function(){})},function(){})},e.loadWebAds=function(){var e=document.createElement("img");e.crossOrigin="anonymous",e.src="https://geoip.turner-apps.com/tooncup2018-centrecircle-final";var t=new o.BaseTexture(e);t.on("loaded",function(){var e=new o.Texture(this),t=new o.Sprite(e);s.default.banner1=t}),(e=document.createElement("img")).crossOrigin="anonymous",e.src="https://geoip.turner-apps.com/tooncup2018-billboard1-final",(t=new o.BaseTexture(e)).on("loaded",function(){var e=new o.Texture(this),t=new o.Sprite(e);s.default.banner2=t}),(e=document.createElement("img")).crossOrigin="anonymous",e.src="https://geoip.turner-apps.com/tooncup2018-billboard2-final",(t=new o.BaseTexture(e)).on("loaded",function(){var e=new o.Texture(this),t=new o.Sprite(e);s.default.banner3=t})},e.loadAdImage=function(e,a){if(window.cordova&&window.cordova.plugin&&window.cordova.plugin.http){window.cordova.plugin.http.sendRequest(e,{method:"get"},function(e){var t=document.createElement("img");t.src="data:image/png;base64,"+btoa(e.data);var i=new o.BaseTexture(t),n=new o.Texture(i),r=new o.Sprite(n);s.default[a]=r},function(e){})}},e.loadInterstitial=function(){var e=window.URLParams.adUnitId||"/99911224/cn_app/tooncup2018";s.default.videoAdLoaded=!1,window.nativeads.loadInterstitial(e,s.default.userCountry,function(){s.default.videoAdLoaded=!0},function(){})},AdsSystem}();t.default=n},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var s=i(0),l=_interopRequireDefault(i(6)),u=_interopRequireDefault(i(18)),h=_interopRequireDefault(i(4)),d=_interopRequireDefault(i(19)),c=i(80),p=_interopRequireDefault(i(530)),f=_interopRequireDefault(i(531));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=function(t){var e,i;function BallsScreen(e){var i;return _defineProperty(_assertThisInitialized(i=t.call(this)||this),"app",void 0),_defineProperty(_assertThisInitialized(i),"title",void 0),_defineProperty(_assertThisInitialized(i),"bg",void 0),_defineProperty(_assertThisInitialized(i),"balls",void 0),_defineProperty(_assertThisInitialized(i),"cardsContainer",void 0),_defineProperty(_assertThisInitialized(i),"ballCards",void 0),_defineProperty(_assertThisInitialized(i),"previousButton",void 0),_defineProperty(_assertThisInitialized(i),"nextButton",void 0),_defineProperty(_assertThisInitialized(i),"loadingWheel",void 0),_defineProperty(_assertThisInitialized(i),"popup",void 0),_defineProperty(_assertThisInitialized(i),"width",void 0),_defineProperty(_assertThisInitialized(i),"height",void 0),_defineProperty(_assertThisInitialized(i),"setIndex",void 0),_defineProperty(_assertThisInitialized(i),"maxSet",void 0),_defineProperty(_assertThisInitialized(i),"cardsPerSet",void 0),_defineProperty(_assertThisInitialized(i),"_previousScreenId",void 0),_defineProperty(_assertThisInitialized(i),"_selectedStadiumIndex",void 0),_defineProperty(_assertThisInitialized(i),"assetsLoaded",void 0),_defineProperty(_assertThisInitialized(i),"active",void 0),i.app=e,i._previousScreenId=l.default.SCREEN_ID.UNLOCKABLES,i.balls=c.getBalls.showableByPrice(),i.ballCards=[],i.cardsPerSet=8,i.maxSet=Math.ceil(i.balls.length/i.cardsPerSet),i.balls.forEach(function(e,t){e.selected&&(i.setIndex=Math.floor(t/8))}),i.bg=s.Sprite.from("panel-stickerbook.png"),i.bg.anchor.set(.5),i.addChild(i.bg),i.title=u.default.h1("STR_TITLE_BALLS"),i.title.anchor.set(.5),i.title.y=-312,i.bg.addChild(i.title),i.cardsContainer=new s.Container,i.bg.addChild(i.cardsContainer),i.cardsContainer.visible=!1,i.previousButton=new d.default("button-left.png"),i.previousButton.position.set(-i.bg.width/2-i.previousButton.width/2+1,0),i.previousButton.onPress.add(i.previousSet,_assertThisInitialized(i)),i.bg.addChild(i.previousButton),i.previousButton.visible=!1,i.nextButton=new d.default("button-right.png"),i.nextButton.position.set(i.bg.width/2+i.nextButton.width/2-2,0),i.nextButton.onPress.add(i.nextSet,_assertThisInitialized(i)),i.bg.addChild(i.nextButton),i.nextButton.visible=!1,i.nextButton.visible=i.setIndex!==i.maxSet,i.previousButton.visible=0!==i.setIndex,i.loadingWheel=s.Sprite.from("loading-wheel.png"),i.loadingWheel.anchor.set(.5),i.loadingWheel.scale.set(2),i.bg.addChild(i.loadingWheel),i.assetsLoaded=!1,i.active=!1,i.popup=new f.default,i.addChild(i.popup),i.popup.onActionButtonPressed.add(function(e,t){"unlock"===e?i.app.ballsSystem.unlockBall(t):"select"===e&&i.app.ballsSystem.selectBall(t,!0),i.balls=c.getBalls.showableByPrice(),i.updateCards()}),i}i=t,(e=BallsScreen).prototype=Object.create(i.prototype),(e.prototype.constructor=e).__proto__=i;var n,r,a,o=BallsScreen.prototype;return o.setupCards=function(){for(var i=this,e=0;e<this.cardsPerSet;e++){var t=this.balls[this.setIndex*this.cardsPerSet+e],n=!1;t||(t=this.balls[0],n=!0);var r=new p.default(t);r.updateState(),r.onActionButtonPressed.add(function(e,t){i.popup.active||i.popup.show(e,t)}),this.ballCards.push(r),this.cardsContainer.addChild(r);r.position.set(e*(r.bg.texture.width+-5)%(4*(r.bg.texture.width+-5))+2,Math.floor(e/4)*r.bg.texture.height+65*Math.floor(e/4)),n&&(r.visible=!1),this.app.onLanguageChange.add(r.updateState,r)}},o.updateCards=function(){for(var e=0;e<this.cardsPerSet;e++){var t=this.balls[this.setIndex*this.cardsPerSet+e];t?(this.ballCards[e].setData(t),this.ballCards[e].visible=!0):this.ballCards[e].visible=!1}this.nextButton.visible=this.setIndex!==this.maxSet-1,this.previousButton.visible=0!==this.setIndex},o.nextSet=function(){this.setIndex++,this.updateCards()},o.previousSet=function(){this.setIndex--,this.updateCards()},o.onHide=function(){this.active=!1,this.popup.reset()},o.onShow=function(){this.active=!0,this.app.topMenu.setState("prevsettings"),this.bg.scale.set(0),TweenLite.to(this.bg.scale,1,{x:1,y:1,ease:Elastic.easeOut,delay:.2}),this.assetsLoaded&&this.showContent()},o.onAssetsLoaded=function(){this.assetsLoaded=!0,this.loadingWheel.visible=!1,this.setupCards(),this.active&&this.showContent()},o.showContent=function(){var i=this;this.cardsContainer.visible=!0,this.balls.forEach(function(e,t){e.selected&&(i.setIndex=Math.floor(t/8))}),this.updateCards(),this.resize(this.width,this.height)},o.updateTransform=function(){t.prototype.updateTransform.call(this),this.loadingWheel.visible&&(this.loadingWheel.rotation+=.1*h.default.instance.deltaTime)},o.resize=function(e,t){this.width=e,this.height=t,this.bg.position.set(e/2,t/2),this.cardsContainer.position.set(-this.bg.texture.width/2+15,-270);var i=this.app.screenManager.container.x/this.app.screenManager.container.scale.x,n=this.app.screenManager.container.y/this.app.screenManager.container.scale.y;this.popup.position.set(e/2,t/2),this.popup.darkShade.width=e+2*i,this.popup.darkShade.height=t+2*n,this.popup.ballPreviewContainer.resize(e+2*i,t+2*n)},n=BallsScreen,(r=[{key:"previousScreenId",get:function(){return this._previousScreenId}},{key:"selectedStadiumIndex",get:function(){return this._selectedStadiumIndex}}])&&_defineProperties(n.prototype,r),a&&_defineProperties(n,a),BallsScreen}(s.Container);t.default=n},function(e,t,a){"use strict";var i;void 0===(i=function(e,t,i){function r_f(){n.Container.call(this),this.onPress=new r,this.onDown=new r,this.onUp=new r,this.onHover=new r,this.onOut=new r,this.onEnabled=new r,this.onDisabled=new r,this.mousedown=this.touchstart=this.onDown.dispatch.bind(this,this),this.mouseup=this.touchend=this.onUp.dispatch.bind(this,this),this.click=this.tap=this.onPress.dispatch.bind(this,this),this.mouseover=this.onHover.dispatch.bind(this,this),this.touchendoutside=this.mouseupoutside=this.mouseout=this.onOut.dispatch.bind(this,this),this.onDown.add(this.down,this),this.onUp.add(this.up,this),this.onHover.add(this.hover,this),this.onOut.add(this.out,this),this.onEnabled.add(this.enable,this),this.onDisabled.add(this.disable,this),this._scale=new n.Point,this.enable(),this.setSize()}var n=a(0),r=a(3);((r_f.prototype=Object.create(n.Container.prototype)).constructor=r_f).prototype.setSize=function(e){switch(e){case"small":this.scale.set(.5);break;case"big":this.scale.set(2);break;default:this.scale.set(1)}},r_f.prototype.enable=function(){this.interactive=!0,this.buttonMode=!0,TweenLite.to(this,.3,{alpha:1,ease:Linear.None})},r_f.prototype.disable=function(){this.interactive=!1,this.buttonMode=!1,TweenLite.to(this,.3,{alpha:.5,ease:Linear.None})},r_f.prototype.down=function(e,t){},r_f.prototype.up=function(e,t){},r_f.prototype.hover=function(e,t){},r_f.prototype.out=function(e,t){},r_f.prototype.show=function(){this.visible=!0,this.enable()},r_f.prototype.hide=function(){this.disable(),this.visible=!1},i.exports=r_f}.call(t,a,t,e))||(e.exports=i)},function(e,t,r){"use strict";var i;void 0===(i=function(e,t,i){function J_f(){void 0!==document.hidden?(this.hidden="hidden",this.visibilityChange="visibilitychange"):void 0!==document.mozHidden?(this.hidden="mozHidden",this.visibilityChange="mozvisibilitychange"):void 0!==document.msHidden?(this.hidden="msHidden",this.visibilityChange="msvisibilitychange"):void 0!==document.webkitHidden&&(this.hidden="webkitHidden",this.visibilityChange="webkitvisibilitychange"),this.onHide=new n,this.onShow=new n,this.init()}var n=r(3);J_f.prototype.handleVisibilityChange=function(){document[this.hidden]?this.onHide.dispatch():this.onShow.dispatch()},J_f.prototype.init=function(){document.addEventListener(this.visibilityChange,this.handleVisibilityChange.bind(this),!1)},i.exports=new J_f}.call(t,r,t,e))||(e.exports=i)},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var s=i(3),l=_interopRequireDefault(i(11)),u=i(0),h=_interopRequireDefault(i(26)),n=_interopRequireDefault(i(5)),r=_interopRequireDefault(i(6));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var a=function(o){var e,t;function BallCard(e){var t;_defineProperty(_assertThisInitialized(t=o.call(this)||this),"ballData",void 0),_defineProperty(_assertThisInitialized(t),"state",void 0),_defineProperty(_assertThisInitialized(t),"card",void 0),_defineProperty(_assertThisInitialized(t),"bg",void 0),_defineProperty(_assertThisInitialized(t),"ball",void 0),_defineProperty(_assertThisInitialized(t),"border",void 0),_defineProperty(_assertThisInitialized(t),"actionButton",void 0),_defineProperty(_assertThisInitialized(t),"selectedText",void 0),_defineProperty(_assertThisInitialized(t),"pricePanel",void 0),_defineProperty(_assertThisInitialized(t),"comingSoonBanner",void 0),_defineProperty(_assertThisInitialized(t),"darkOverlay",void 0),_defineProperty(_assertThisInitialized(t),"lock",void 0),_defineProperty(_assertThisInitialized(t),"onActionButtonPressed",void 0),t.buttonMode=!0,t.ballData=e,t.card=u.Sprite.from("panel-football-holder-white.png"),t.bg=u.Sprite.from("panel-football-pitch-thumbnail.png"),t.ball=u.Sprite.from(e.splash),t.border=u.Sprite.from("graphic-green-selected-stroke.png");var i=u.Sprite.from("tick.png"),n=u.Sprite.from("ball-shadow.png");n.anchor.set(.5),n.position.y=68,n.alpha=.5,t.bg.addChild(n),t.bg.addChild(t.ball),t.ball.position.y=5,t.border.addChild(i),t.bg.anchor.set(.5),t.ball.anchor.set(.5),t.border.anchor.set(.5),i.anchor.set(.5),t.bg.scale.set(.84),i.scale.set(.65),t.bg.position.set(t.card.texture.width/2,115),t.border.position.set(t.card.texture.width/2,115),i.position.set(-t.bg.width/2+15,-t.bg.height/2+15),t.lock=u.Sprite.from("graphic-lock-icon.png"),t.lock.anchor.set(.5),t.lock.scale.set(.95),t.lock.position.set(t.card.texture.width/2,t.card.texture.height/2-30),t.pricePanel=u.Sprite.from("graphic-ball-cost.png");var r=new l.default(t.ballData.price.toString(),{fill:"0x724D05",fontSize:30,fontFamily:"avenir",align:"left"});r.anchor.set(0,.5),r.position.set(60,t.pricePanel.texture.height/2-3),t.pricePanel.addChild(r),t.pricePanel.price=r,t.comingSoonBanner=u.Sprite.from("label-coming-soon.png");var a=new l.default("STR_UNLOCKABLES_COMING_SOON",{fill:"white",fontSize:20,fontFamily:"avenir",wordWrap:!0,wordWrapWidth:245,align:"center",breakWords:!0});return t.comingSoonBanner.anchor.set(.5),a.anchor.set(.5),t.comingSoonBanner.position.set(t.card.texture.width/2,30),a.y=-2,t.comingSoonBanner.addChild(a),t.darkOverlay=u.Sprite.from("overlay-ball-unavailable.png"),t.darkOverlay.anchor.set(.5),t.darkOverlay.position.set(t.card.texture.width/2,115),t.selectedText=new l.default("STR_UNLOCKABLES_SELECTED",{fill:"0x00A81C",fontSize:28,fontFamily:"avenir",align:"left",maxWidth:160}),t.selectedText.anchor.set(.5),t.selectedText.position.set(t.card.texture.width/2,248),t.actionButton=new h.default("button-select-ball.png","button-select-ball-down.png","button-select-ball-over.png","STR_UNLOCKABLES_SELECT",1,-2,28,null,150),t.actionButton.position.set(t.card.texture.width/2,250),t.actionButton.onPress.add(t.buttonPressed,_assertThisInitialized(t)),t.addChild(t.card),t.addChild(t.bg),t.addChild(t.border),t.addChild(t.pricePanel),t.addChild(t.selectedText),t.addChild(t.actionButton),t.addChild(t.darkOverlay),t.addChild(t.comingSoonBanner),t.addChild(t.lock),t.onActionButtonPressed=new s.Signal,t}t=o,(e=BallCard).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=BallCard.prototype;return i.buttonPressed=function(){this.onActionButtonPressed.dispatch(this.state,this.ballData)},i.updateState=function(){var e=n.default.coins>=r.default.UNLOCKABLES.PRICE;this.pricePanel.visible=!1,this.darkOverlay.visible=!1,this.comingSoonBanner.visible=!1,this.lock.visible=!1,this.actionButton.label.alpha=1,this.ballData.locked?(this.actionButton.visible=!0,this.selectedText.visible=!1,this.border.visible=!1,this.actionButton.label.setText("STR_UNLOCKABLES_UNLOCK"),this.actionButton.label.setText(this.actionButton.label.text.toLocaleUpperCase("tr"===window.LANGUAGE?"TR":"en-US")),this.ballData.comingSoon?this.ballData.comingSoon&&(this.state="comingsoon",this.comingSoonBanner.visible=!0,this.lock.visible=!0,this.actionButton.interactive=!1,this.swapButtonTexture("button-buy-ball-disabled.png"),this.actionButton.label.alpha=.7):(this.state=e?"buyable":"nocoins",this.pricePanel.visible=!0,this.actionButton.interactive=!0,this.swapButtonTexture("button-buy-ball.png"))):this.ballData.selected?(this.state="selected",this.selectedText.visible=!0,this.border.visible=!0,this.actionButton.visible=!1):(this.state="selectable",this.selectedText.visible=!1,this.border.visible=!1,this.actionButton.interactive=!0,this.swapButtonTexture("button-select-ball.png"),this.actionButton.visible=!0,this.actionButton.label.setText("STR_UNLOCKABLES_SELECT"))},i.swapButtonTexture=function(e){this.actionButton.background.texture=u.Texture.from(e),this.actionButton.normalTexture=e,this.actionButton.interactive&&(this.actionButton.downTexture=e.replace(".png","-down.png"),this.actionButton.hoverTexture=e.replace(".png","-over.png"))},i.updateData=function(){this.ball.texture=u.Texture.from(this.ballData.splash),this.pricePanel.price.text=this.ballData.price},i.setData=function(e){this.ballData=e,this.updateData(),this.updateState()},BallCard}(u.Container);t.default=a},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var u=i(3),h=_interopRequireDefault(i(11)),d=_interopRequireDefault(i(26)),c=i(0),p=_interopRequireDefault(i(18)),f=_interopRequireDefault(i(19)),m=_interopRequireDefault(i(176)),_=i(12),g=_interopRequireDefault(i(534));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=function(l){var e,t;function BallPopup(){var e;_defineProperty(_assertThisInitialized(e=l.call(this)||this),"darkShade",void 0),_defineProperty(_assertThisInitialized(e),"title",void 0),_defineProperty(_assertThisInitialized(e),"bg",void 0),_defineProperty(_assertThisInitialized(e),"ballPreviewContainer",void 0),_defineProperty(_assertThisInitialized(e),"ball",void 0),_defineProperty(_assertThisInitialized(e),"pricePanel",void 0),_defineProperty(_assertThisInitialized(e),"message",void 0),_defineProperty(_assertThisInitialized(e),"confirmButton",void 0),_defineProperty(_assertThisInitialized(e),"cancelButton",void 0),_defineProperty(_assertThisInitialized(e),"doneButton",void 0),_defineProperty(_assertThisInitialized(e),"_active",void 0),_defineProperty(_assertThisInitialized(e),"state",void 0),_defineProperty(_assertThisInitialized(e),"ballId",void 0),_defineProperty(_assertThisInitialized(e),"onActionButtonPressed",void 0),e.darkShade=new c.Sprite(c.Texture.WHITE),e.darkShade.tint=0,e.darkShade.baseAlpha=.8,e.darkShade.anchor.set(.5),e.addChild(e.darkShade),e.bg=c.Sprite.from("panel-small-wide-panel.png"),e.bg.anchor.set(.5),e.addChild(e.bg),e.title=p.default.h1("STR_UNLOCKABLES_BUY_BALL"),e.title.anchor.set(.5),e.title.y=-227,e.bg.addChild(e.title);var t=c.Sprite.from("panel-popup-white.png"),i=c.Sprite.from("panel-football-pitch-thumbnail.png");t.anchor.set(.5),i.anchor.set(.5),t.position.y=15,i.position.x=-262,t.addChild(i),e.bg.addChild(t);var n=new _.PerspectiveCamera(40,4,1,3e3),r=new _.Object3D,a=new _.AmbientLight(10397865),o=new _.DirectionalLight(16186107,.6);o.position.set(5e3,1e4,1e4),r.add(a),r.add(o),n.update=function(){},e.ballPreviewContainer=new m.default({camera3d:n}),e.ball=new g.default,e.ball.position.x=-179,e.ball.position.y=-12,e.ballPreviewContainer.scene.add(e.ball),e.ballPreviewContainer.scene.add(r),t.addChild(e.ballPreviewContainer),e.pricePanel=c.Sprite.from("graphic-ball-cost.png");var s=new h.default("150",{fill:"0x724D05",fontSize:30,fontFamily:"avenir",align:"left"});return s.anchor.set(0,.5),s.position.set(60,e.pricePanel.texture.height/2-3),e.pricePanel.position.set(-t.texture.width/2,-t.texture.height/2),e.pricePanel.scale.set(1.2),e.pricePanel.addChild(s),e.pricePanel.price=s,t.addChild(e.pricePanel),e.message=new h.default("",{fill:"0x493008",fontSize:30,fontFamily:"avenir",align:"center"}),e.message.anchor.set(.5),e.message.position.set(120,-65),t.addChild(e.message),e.confirmButton=new f.default("button-yes.png",null,null,null,1.05),e.confirmButton.defaultScale=1,e.confirmButton.position.set(53,35),e.confirmButton.onPress.add(e.confirmPressed,_assertThisInitialized(e)),t.addChild(e.confirmButton),e.cancelButton=new f.default("button-no.png",null,null,null,1.05),e.cancelButton.defaultScale=1,e.cancelButton.position.set(183,35),e.cancelButton.onPress.add(e.cancelPressed,_assertThisInitialized(e)),t.addChild(e.cancelButton),e.doneButton=new d.default("button-popup-done.png","button-popup-done.png","button-popup-done.png","STR_UNLOCKABLES_DONE",1.05,-2,28,null,350),e.doneButton.defaultScale=1,e.doneButton.position.set(120,35),e.doneButton.onPress.add(e.cancelPressed,_assertThisInitialized(e)),t.addChild(e.doneButton),e.reset(),e.onActionButtonPressed=new u.Signal,e}t=l,(e=BallPopup).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i,n,r,a=BallPopup.prototype;return a.confirmPressed=function(){this.interactiveChildren=!1,"buyable"===this.state?this.onActionButtonPressed.dispatch("unlock",this.ballId):"selectable"===this.state&&this.onActionButtonPressed.dispatch("select",this.ballId),this.animate(!0)},a.cancelPressed=function(){this.interactiveChildren=!1,this.animate(!0)},a.show=function(e,t){this._active=!0,this.ball.show(t),this.confirmButton.visible=!0,this.cancelButton.visible=!0,this.doneButton.visible="nocoins"===e,this.pricePanel.visible="buyable"===e,"buyable"===e?(this.pricePanel.price.text=t.price,this.title.setText("STR_UNLOCKABLES_BUY_BALL"),this.message.setText("STR_UNLOCKABLES_BUY_THIS_BALL")):"nocoins"===e?(this.confirmButton.visible=!1,this.cancelButton.visible=!1,this.pricePanel.price.text=t.price,this.message.setText("STR_UNLOCKABLES_NEED_MORE_COINS")):"selectable"===e&&(this.title.setText("STR_UNLOCKABLES_SELECT_BALL"),this.message.setText("STR_UNLOCKABLES_SELECT_THIS_BALL")),this.state=e,this.ballId=t.id,this.animate()},a.reset=function(){this.darkShade.alpha=0,this.darkShade.interactive=!1,this.bg.scale.set(0),this.bg.visible=!1,this._active=!1},a.animate=function(e){var t=this;void 0===e&&(e=!1),e?this.ball.animate(!0):(this.darkShade.visible=!0,this.darkShade.interactive=!0,this.bg.visible=!0),TweenLite.to(this.darkShade,.4,{alpha:e?0:this.darkShade.baseAlpha,delay:e?.2:0,onComplete:function(){e?(t.darkShade.interactive=!1,t.darkShade.visible=!1):t.interactiveChildren=!0}}),TweenLite.to(this.bg.scale,e?.2:1,{x:e?0:1,y:e?0:1,ease:e?Linear.easeOut:Elastic.easeOut,delay:e?.2:0,onComplete:function(){e&&(t.bg.visible=!1,t._active=!1)}})},i=BallPopup,(n=[{key:"active",get:function(){return this._active}}])&&_defineProperties(i.prototype,n),r&&_defineProperties(i,r),BallPopup}(c.Container);t.default=n},function(e,t,i){"use strict";var a,n,r,o,s,l,u,h,d,c,p,f,m,_,g,v,y,b,w,x,T,S,M,L,E,C,A,P,D,R,k,I,O,B,N,F,Y,U,j,z,G,H,W,V=e.exports=V||{};function J1f(e,t){this.initialValue=e[t],this.domElement=document.createElement("div"),this.object=e,this.property=t,this.__onChange=void 0,this.__onFinishChange=void 0}function M2f(e,t,i){M2f.superclass.call(this,e,t);var n=this;if(this.__select=document.createElement("select"),s.isArray(i)){var r={};s.each(i,function(e){r[e]=e}),i=r}s.each(i,function(e,t){var i=document.createElement("option");i.innerHTML=t,i.setAttribute("value",e),n.__select.appendChild(i)}),this.updateDisplay(),o.bind(this.__select,"change",function(){var e=this.options[this.selectedIndex].value;n.setValue(e)}),this.domElement.appendChild(this.__select)}function _2f(e,t,i){var n;_2f.superclass.call(this,e,t),i=i||{},this.__min=i.min,this.__max=i.max,this.__step=i.step,u.isUndefined(this.__step)?0==this.initialValue?this.__impliedStep=1:this.__impliedStep=Math.pow(10,Math.floor(Math.log(this.initialValue)/Math.LN10))/10:this.__impliedStep=this.__step,this.__precision=-1<(n=(n=this.__impliedStep).toString()).indexOf(".")?n.length-n.indexOf(".")-1:0}function l3f(e,t,i){this.__truncationSuspended=!1,l3f.superclass.call(this,e,t,i);var n,r=this;function onChange(){var e=parseFloat(r.__input.value);c.isNaN(e)||r.setValue(e)}function onMouseDrag(e){var t=n-e.clientY;r.setValue(r.getValue()+t*r.__impliedStep),n=e.clientY}function onMouseUp(){d.unbind(window,"mousemove",onMouseDrag),d.unbind(window,"mouseup",onMouseUp)}this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),d.bind(this.__input,"change",onChange),d.bind(this.__input,"blur",function(){onChange(),r.__onFinishChange&&r.__onFinishChange.call(r,r.getValue())}),d.bind(this.__input,"mousedown",function(e){d.bind(window,"mousemove",onMouseDrag),d.bind(window,"mouseup",onMouseUp),n=e.clientY}),d.bind(this.__input,"keydown",function(e){13===e.keyCode&&(r.__truncationSuspended=!0,this.blur(),r.__truncationSuspended=!1)}),this.updateDisplay(),this.domElement.appendChild(this.__input)}function E3f(e,t,i,n,r){E3f.superclass.call(this,e,t,{min:i,max:n,step:r});var l=this;function onMouseDrag(e){e.preventDefault();var t,i,n,r,a,o=f.getOffset(l.__background),s=f.getWidth(l.__background);return l.setValue((t=e.clientX,i=o.left,n=o.left+s,r=l.__min,a=l.__max,r+(t-i)/(n-i)*(a-r))),!1}function onMouseUp(){f.unbind(window,"mousemove",onMouseDrag),f.unbind(window,"mouseup",onMouseUp),l.__onFinishChange&&l.__onFinishChange.call(l,l.getValue())}this.__background=document.createElement("div"),this.__foreground=document.createElement("div"),f.bind(this.__background,"mousedown",function(e){f.bind(window,"mousemove",onMouseDrag),f.bind(window,"mouseup",onMouseUp),onMouseDrag(e)}),f.addClass(this.__background,"slider"),f.addClass(this.__foreground,"slider-fg"),this.updateDisplay(),this.__background.appendChild(this.__foreground),this.domElement.appendChild(this.__background)}function Y3f(e,t,i){Y3f.superclass.call(this,e,t);var n=this;this.__button=document.createElement("div"),this.__button.innerHTML=void 0===i?"Fire":i,v.bind(this.__button,"click",function(e){return e.preventDefault(),n.fire(),!1}),v.addClass(this.__button,"button"),this.domElement.appendChild(this.__button)}function f4f(e,t){f4f.superclass.call(this,e,t);var i=this;this.__prev=this.getValue(),this.__checkbox=document.createElement("input"),this.__checkbox.setAttribute("type","checkbox"),w.bind(this.__checkbox,"change",function(){i.setValue(!i.__prev)},!1),this.domElement.appendChild(this.__checkbox),this.updateDisplay()}function G9f(){this.backgroundElement=document.createElement("div"),P.extend(this.backgroundElement.style,{backgroundColor:"rgba(0,0,0,0.8)",top:0,left:0,display:"none",zIndex:"1000",opacity:0,WebkitTransition:"opacity 0.2s linear"}),A.makeFullscreen(this.backgroundElement),this.backgroundElement.style.position="fixed",this.domElement=document.createElement("div"),P.extend(this.domElement.style,{position:"fixed",display:"none",zIndex:"1001",opacity:0,WebkitTransition:"-webkit-transform 0.2s ease-out, opacity 0.2s linear"}),document.body.appendChild(this.backgroundElement),document.body.appendChild(this.domElement);var e=this;A.bind(this.backgroundElement,"click",function(){e.hide()})}function O8f(){if(this.__state=D.apply(this,arguments),!1===this.__state)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1}function defineRGBComponent(e,t,i){Object.defineProperty(e,t,{get:function(){return"RGB"===this.__state.space||recalculateRGB(this,t,i),this.__state[t]},set:function(e){"RGB"!==this.__state.space&&(recalculateRGB(this,t,i),this.__state.space="RGB"),this.__state[t]=e}})}function defineHSVComponent(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"===this.__state.space||recalculateHSV(this),this.__state[t]},set:function(e){"HSV"!==this.__state.space&&(recalculateHSV(this),this.__state.space="HSV"),this.__state[t]=e}})}function recalculateRGB(e,t,i){if("HEX"===e.__state.space)e.__state[t]=R.component_from_hex(e.__state.hex,i);else{if("HSV"!==e.__state.space)throw"Corrupted color state";I.extend(e.__state,R.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}}function recalculateHSV(e){var t=R.rgb_to_hsv(e.r,e.g,e.b);I.extend(e.__state,{s:t.s,v:t.v}),I.isNaN(t.h)?I.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=t.h}function W7f(e,t){W7f.superclass.call(this,e,t);var i=this;function onChange(){i.setValue(i.__input.value)}this.__input=document.createElement("input"),this.__input.setAttribute("type","text"),H.bind(this.__input,"keyup",onChange),H.bind(this.__input,"change",onChange),H.bind(this.__input,"blur",function(){i.__onFinishChange&&i.__onFinishChange.call(i,i.getValue())}),H.bind(this.__input,"keydown",function(e){13===e.keyCode&&this.blur()}),this.updateDisplay(),this.domElement.appendChild(this.__input)}V.gui=V.gui||{},V.utils=V.utils||{},V.controllers=V.controllers||{},V.dom=V.dom||{},V.color=V.color||{},V.utils.css={load:function(e,t){var i=(t=t||document).createElement("link");i.type="text/css",i.rel="stylesheet",i.href=e,t.getElementsByTagName("head")[0].appendChild(i)},inject:function(e,t){t=t||document;var i=document.createElement("style");i.type="text/css",i.innerHTML=e,t.getElementsByTagName("head")[0].appendChild(i)}},V.utils.common=(a=Array.prototype.forEach,n=Array.prototype.slice,{BREAK:{},extend:function(i){return this.each(n.call(arguments,1),function(e){for(var t in e)this.isUndefined(e[t])||(i[t]=e[t])},this),i},defaults:function(i){return this.each(n.call(arguments,1),function(e){for(var t in e)this.isUndefined(i[t])&&(i[t]=e[t])},this),i},compose:function(){var i=n.call(arguments);return function(){for(var e=n.call(arguments),t=i.length-1;0<=t;t--)e=[i[t].apply(this,e)];return e[0]}},each:function(e,t,i){if(a&&e.forEach===a)e.forEach(t,i);else if(e.length===e.length+0){for(var n=0,r=e.length;n<r;n++)if(n in e&&t.call(i,e[n],n)===this.BREAK)return}else for(var n in e)if(t.call(i,e[n],n)===this.BREAK)return},defer:function(e){setTimeout(e,0)},toArray:function(e){return e.toArray?e.toArray():n.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){return e!=e},isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return!1===e||!0===e},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)}}),V.controllers.Controller=(V.utils.common.extend(J1f.prototype,{onChange:function(e){return this.__onChange=e,this},onFinishChange:function(e){return this.__onFinishChange=e,this},setValue:function(e){return this.object[this.property]=e,this.__onChange&&this.__onChange.call(this,e),this.updateDisplay(),this},getValue:function(){return this.object[this.property]},updateDisplay:function(){return this},isModified:function(){return this.initialValue!==this.getValue()}}),J1f),V.dom.dom=function(u){var h={};u.each({HTMLEvents:["change"],MouseEvents:["click","mousemove","mousedown","mouseup","mouseover"],KeyboardEvents:["keydown"]},function(e,t){u.each(e,function(e){h[e]=t})});var i=/(\d+(\.\d+)?)px/;function cssValueToPixels(e){if("0"===e||u.isUndefined(e))return 0;var t=e.match(i);return u.isNull(t)?0:parseFloat(t[1])}var r={makeSelectable:function(e,t){void 0!==e&&void 0!==e.style&&(e.onselectstart=t?function(){return!1}:function(){},e.style.MozUserSelect=t?"auto":"none",e.style.KhtmlUserSelect=t?"auto":"none",e.unselectable=t?"on":"off")},makeFullscreen:function(e,t,i){u.isUndefined(t)&&(t=!0),u.isUndefined(i)&&(i=!0),e.style.position="absolute",t&&(e.style.left=0,e.style.right=0),i&&(e.style.top=0,e.style.bottom=0)},fakeEvent:function(e,t,i,n){i=i||{};var r=h[t];if(!r)throw new Error("Event type "+t+" not supported.");var a=document.createEvent(r);switch(r){case"MouseEvents":var o=i.x||i.clientX||0,s=i.y||i.clientY||0;a.initMouseEvent(t,i.bubbles||!1,i.cancelable||!0,window,i.clickCount||1,0,0,o,s,!1,!1,!1,!1,0,null);break;case"KeyboardEvents":var l=a.initKeyboardEvent||a.initKeyEvent;u.defaults(i,{cancelable:!0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,keyCode:void 0,charCode:void 0}),l(t,i.bubbles||!1,i.cancelable,window,i.ctrlKey,i.altKey,i.shiftKey,i.metaKey,i.keyCode,i.charCode);break;default:a.initEvent(t,i.bubbles||!1,i.cancelable||!0)}u.defaults(a,n),e.dispatchEvent(a)},bind:function(e,t,i,n){return n=n||!1,e.addEventListener?e.addEventListener(t,i,n):e.attachEvent&&e.attachEvent("on"+t,i),r},unbind:function(e,t,i,n){return n=n||!1,e.removeEventListener?e.removeEventListener(t,i,n):e.detachEvent&&e.detachEvent("on"+t,i),r},addClass:function(e,t){if(void 0===e.className)e.className=t;else if(e.className!==t){var i=e.className.split(/ +/);-1==i.indexOf(t)&&(i.push(t),e.className=i.join(" ").replace(/^\s+/,"").replace(/\s+$/,""))}return r},removeClass:function(e,t){if(t){if(void 0!==e.className)if(e.className===t)e.removeAttribute("class");else{var i=e.className.split(/ +/),n=i.indexOf(t);-1!=n&&(i.splice(n,1),e.className=i.join(" "))}}else e.className=void 0;return r},hasClass:function(e,t){return new RegExp("(?:^|\\s+)"+t+"(?:\\s+|$)").test(e.className)||!1},getWidth:function(e){var t=getComputedStyle(e);return cssValueToPixels(t["border-left-width"])+cssValueToPixels(t["border-right-width"])+cssValueToPixels(t["padding-left"])+cssValueToPixels(t["padding-right"])+cssValueToPixels(t.width)},getHeight:function(e){var t=getComputedStyle(e);return cssValueToPixels(t["border-top-width"])+cssValueToPixels(t["border-bottom-width"])+cssValueToPixels(t["padding-top"])+cssValueToPixels(t["padding-bottom"])+cssValueToPixels(t.height)},getOffset:function(e){var t={left:0,top:0};if(e.offsetParent)for(;t.left+=e.offsetLeft,t.top+=e.offsetTop,e=e.offsetParent;);return t},isActive:function(e){return e===document.activeElement&&(e.type||e.href)}};return r}(V.utils.common),V.controllers.OptionController=(r=V.controllers.Controller,o=V.dom.dom,s=V.utils.common,M2f.superclass=r,s.extend(M2f.prototype,r.prototype,{setValue:function(e){var t=M2f.superclass.prototype.setValue.call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),t},updateDisplay:function(){return this.__select.value=this.getValue(),M2f.superclass.prototype.updateDisplay.call(this)}}),M2f),V.controllers.NumberController=(l=V.controllers.Controller,u=V.utils.common,_2f.superclass=l,u.extend(_2f.prototype,l.prototype,{setValue:function(e){return void 0!==this.__min&&e<this.__min?e=this.__min:void 0!==this.__max&&e>this.__max&&(e=this.__max),void 0!==this.__step&&e%this.__step!=0&&(e=Math.round(e/this.__step)*this.__step),_2f.superclass.prototype.setValue.call(this,e)},min:function(e){return this.__min=e,this},max:function(e){return this.__max=e,this},step:function(e){return this.__step=e,this}}),_2f),V.controllers.NumberControllerBox=(h=V.controllers.NumberController,d=V.dom.dom,c=V.utils.common,l3f.superclass=h,c.extend(l3f.prototype,h.prototype,{updateDisplay:function(){var e,t,i;return this.__input.value=this.__truncationSuspended?this.getValue():(e=this.getValue(),t=this.__precision,i=Math.pow(10,t),Math.round(e*i)/i),l3f.superclass.prototype.updateDisplay.call(this)}}),l3f),V.controllers.NumberControllerSlider=(p=V.controllers.NumberController,f=V.dom.dom,m=V.utils.css,_=V.utils.common,E3f.superclass=p,E3f.useDefaultStyles=function(){m.inject(".slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}")},_.extend(E3f.prototype,p.prototype,{updateDisplay:function(){var e=(this.getValue()-this.__min)/(this.__max-this.__min);return this.__foreground.style.width=100*e+"%",E3f.superclass.prototype.updateDisplay.call(this)}}),E3f),V.controllers.FunctionController=(g=V.controllers.Controller,v=V.dom.dom,y=V.utils.common,Y3f.superclass=g,y.extend(Y3f.prototype,g.prototype,{fire:function(){this.__onChange&&this.__onChange.call(this),this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.getValue().call(this.object)}}),Y3f),V.controllers.BooleanController=(b=V.controllers.Controller,w=V.dom.dom,x=V.utils.common,f4f.superclass=b,x.extend(f4f.prototype,b.prototype,{setValue:function(e){var t=f4f.superclass.prototype.setValue.call(this,e);return this.__onFinishChange&&this.__onFinishChange.call(this,this.getValue()),this.__prev=this.getValue(),t},updateDisplay:function(){return!0===this.getValue()?(this.__checkbox.setAttribute("checked","checked"),this.__checkbox.checked=!0):this.__checkbox.checked=!1,f4f.superclass.prototype.updateDisplay.call(this)}}),f4f),V.color.toString=(T=V.utils.common,function(e){if(1==e.a||T.isUndefined(e.a)){for(var t=e.hex.toString(16);t.length<6;)t="0"+t;return"#"+t}return"rgba("+Math.round(e.r)+","+Math.round(e.g)+","+Math.round(e.b)+","+e.a+")"}),V.color.interpret=(S=V.color.toString,M=V.utils.common,C=[{litmus:M.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString())}},write:S},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString())}},write:S},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:S},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:S}}},{litmus:M.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:M.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3==e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4==e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:M.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(M.isNumber(e.r)&&M.isNumber(e.g)&&M.isNumber(e.b)&&M.isNumber(e.a))&&{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(M.isNumber(e.r)&&M.isNumber(e.g)&&M.isNumber(e.b))&&{space:"RGB",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(M.isNumber(e.h)&&M.isNumber(e.s)&&M.isNumber(e.v)&&M.isNumber(e.a))&&{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(M.isNumber(e.h)&&M.isNumber(e.s)&&M.isNumber(e.v))&&{space:"HSV",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],function(e){E=!1;var i=1<arguments.length?M.toArray(arguments):e;return M.each(C,function(e){if(e.litmus(i))return M.each(e.conversions,function(e,t){if(L=e.read(i),!1===E&&!1!==L)return(E=L).conversionName=t,L.conversion=e,M.BREAK}),M.BREAK}),E}),V.GUI=V.gui.GUI=function(e,u,h,d,c,p,f,m,i,n,_,g){e.inject(".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n");var v,y,b="Default",w=function(){try{return"localStorage"in window&&null!==window.localStorage}catch(e){return!1}}(),x=!0,t=!1,T=[],S=function GUI(t){var i=this;this.domElement=document.createElement("div"),this.__ul=document.createElement("ul"),this.domElement.appendChild(this.__ul),_.addClass(this.domElement,"dg"),this.__folders={},this.__controllers=[],this.__rememberedObjects=[],this.__rememberedObjectIndecesToControllers=[],this.__listening=[],t=t||{},t=g.defaults(t,{autoPlace:!0,width:GUI.DEFAULT_WIDTH}),t=g.defaults(t,{resizable:t.autoPlace,hideable:t.autoPlace}),g.isUndefined(t.load)?t.load={preset:b}:t.preset&&(t.load.preset=t.preset),g.isUndefined(t.parent)&&t.hideable&&T.push(this),t.resizable=g.isUndefined(t.parent)&&t.resizable,t.autoPlace&&g.isUndefined(t.scrollable)&&(t.scrollable=!0);var n,r,a=w&&"true"===localStorage.getItem(getLocalStorageHash(this,"isLocal"));if(Object.defineProperties(this,{parent:{get:function(){return t.parent}},scrollable:{get:function(){return t.scrollable}},autoPlace:{get:function(){return t.autoPlace}},preset:{get:function(){return i.parent?i.getRoot().preset:t.load.preset},set:function(e){i.parent?i.getRoot().preset=e:t.load.preset=e,function(e){for(var t=0;t<e.__preset_select.length;t++)e.__preset_select[t].value==e.preset&&(e.__preset_select.selectedIndex=t)}(this),i.revert()}},width:{get:function(){return t.width},set:function(e){t.width=e,setWidth(i,e)}},name:{get:function(){return t.name},set:function(e){t.name=e,o&&(o.innerHTML=t.name)}},closed:{get:function(){return t.closed},set:function(e){t.closed=e,t.closed?_.addClass(i.__ul,GUI.CLASS_CLOSED):_.removeClass(i.__ul,GUI.CLASS_CLOSED),this.onResize(),i.__closeButton&&(i.__closeButton.innerHTML=e?GUI.TEXT_OPEN:GUI.TEXT_CLOSED)}},load:{get:function(){return t.load}},useLocalStorage:{get:function(){return a},set:function(e){w&&((a=e)?_.bind(window,"unload",saveToLocalStorage):_.unbind(window,"unload",saveToLocalStorage),localStorage.setItem(getLocalStorageHash(i,"isLocal"),e))}}}),g.isUndefined(t.parent)){if(t.closed=!1,_.addClass(this.domElement,GUI.CLASS_MAIN),_.makeSelectable(this.domElement,!1),w&&a){i.useLocalStorage=!0;var e=localStorage.getItem(getLocalStorageHash(this,"gui"));e&&(t.load=JSON.parse(e))}this.__closeButton=document.createElement("div"),this.__closeButton.innerHTML=GUI.TEXT_CLOSED,_.addClass(this.__closeButton,GUI.CLASS_CLOSE_BUTTON),this.domElement.appendChild(this.__closeButton),_.bind(this.__closeButton,"click",function(){i.closed=!i.closed})}else{void 0===t.closed&&(t.closed=!0);var o=document.createTextNode(t.name);_.addClass(o,"controller-name");var s=addRow(i,o);_.addClass(this.__ul,GUI.CLASS_CLOSED),_.addClass(s,"title"),_.bind(s,"click",function(e){return e.preventDefault(),i.closed=!i.closed,!1}),t.closed||(this.closed=!1)}function dragStart(e){return e.preventDefault(),r=e.clientX,_.addClass(n.__closeButton,S.CLASS_DRAG),_.bind(window,"mousemove",drag),_.bind(window,"mouseup",dragStop),!1}function drag(e){return e.preventDefault(),n.width+=r-e.clientX,n.onResize(),r=e.clientX,!1}function dragStop(){_.removeClass(n.__closeButton,S.CLASS_DRAG),_.unbind(window,"mousemove",drag),_.unbind(window,"mouseup",dragStop)}function saveToLocalStorage(){localStorage.setItem(getLocalStorageHash(i,"gui"),JSON.stringify(i.getSaveObject()))}t.autoPlace&&(g.isUndefined(t.parent)&&(x&&(y=document.createElement("div"),_.addClass(y,"dg"),_.addClass(y,GUI.CLASS_AUTO_PLACE_CONTAINER),document.body.appendChild(y),x=!1),y.appendChild(this.domElement),_.addClass(this.domElement,GUI.CLASS_AUTO_PLACE)),this.parent||setWidth(i,t.width)),_.bind(window,"resize",function(){i.onResize()}),_.bind(this.__ul,"webkitTransitionEnd",function(){i.onResize()}),_.bind(this.__ul,"transitionend",function(){i.onResize()}),_.bind(this.__ul,"oTransitionEnd",function(){i.onResize()}),this.onResize(),t.resizable&&((n=this).__resize_handle=document.createElement("div"),g.extend(n.__resize_handle.style,{width:"6px",marginLeft:"-3px",height:"200px",cursor:"ew-resize",position:"absolute"}),_.bind(n.__resize_handle,"mousedown",dragStart),_.bind(n.__closeButton,"mousedown",dragStart),n.domElement.insertBefore(n.__resize_handle,n.domElement.firstElementChild));var l;i.getRoot();t.parent||((l=i.getRoot()).width+=1,g.defer(function(){--l.width}))};function _add(e,t,i,n){if(void 0===t[i])throw new Error("Object "+t+' has no property "'+i+'"');var r;if(n.color)r=new m(t,i);else{var a=[t,i].concat(n.factoryArgs);r=u.apply(e,a)}n.before instanceof h&&(n.before=n.before.__li),recallSavedValue(e,r),_.addClass(r.domElement,"c");var o=document.createElement("span");_.addClass(o,"property-name"),o.innerHTML=r.property;var s=document.createElement("div");s.appendChild(o),s.appendChild(r.domElement);var l=addRow(e,s,n.before);return _.addClass(l,S.CLASS_CONTROLLER_ROW),_.addClass(l,typeof r.getValue()),function(t,i,n){if(n.__li=i,n.__gui=t,g.extend(n,{options:function(e){return 1<arguments.length?(n.remove(),_add(t,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[g.toArray(arguments)]})):g.isArray(e)||g.isObject(e)?(n.remove(),_add(t,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[e]})):void 0},name:function(e){return n.__li.firstElementChild.firstElementChild.innerHTML=e,n},listen:function(){return n.__gui.listen(n),n},remove:function(){return n.__gui.remove(n),n}}),n instanceof f){var r=new p(n.object,n.property,{min:n.__min,max:n.__max,step:n.__step});g.each(["updateDisplay","onChange","onFinishChange"],function(e){var t=n[e],i=r[e];n[e]=r[e]=function(){var e=Array.prototype.slice.call(arguments);return t.apply(n,e),i.apply(r,e)}}),_.addClass(i,"has-slider"),n.domElement.insertBefore(r.domElement,n.domElement.firstElementChild)}else if(n instanceof p){var e=function(e){return g.isNumber(n.__min)&&g.isNumber(n.__max)?(n.remove(),_add(t,n.object,n.property,{before:n.__li.nextElementSibling,factoryArgs:[n.__min,n.__max,n.__step]})):e};n.min=g.compose(e,n.min),n.max=g.compose(e,n.max)}else n instanceof d?(_.bind(i,"click",function(){_.fakeEvent(n.__checkbox,"click")}),_.bind(n.__checkbox,"click",function(e){e.stopPropagation()})):n instanceof c?(_.bind(i,"click",function(){_.fakeEvent(n.__button,"click")}),_.bind(i,"mouseover",function(){_.addClass(n.__button,"hover")}),_.bind(i,"mouseout",function(){_.removeClass(n.__button,"hover")})):n instanceof m&&(_.addClass(i,"color"),n.updateDisplay=g.compose(function(e){return i.style.borderLeftColor=n.__color.toString(),e},n.updateDisplay),n.updateDisplay());n.setValue=g.compose(function(e){return t.getRoot().__preset_select&&n.isModified()&&markPresetModified(t.getRoot(),!0),e},n.setValue)}(e,l,r),e.__controllers.push(r),r}function addRow(e,t,i){var n=document.createElement("li");return t&&n.appendChild(t),i?e.__ul.insertBefore(n,params.before):e.__ul.appendChild(n),e.onResize(),n}function recallSavedValue(e,t){var i=e.getRoot(),n=i.__rememberedObjects.indexOf(t.object);if(-1!=n){var r=i.__rememberedObjectIndecesToControllers[n];if(void 0===r&&(r={},i.__rememberedObjectIndecesToControllers[n]=r),r[t.property]=t,i.load&&i.load.remembered){var a,o=i.load.remembered;if(o[e.preset])a=o[e.preset];else{if(!o[b])return;a=o[b]}if(a[n]&&void 0!==a[n][t.property]){var s=a[n][t.property];t.initialValue=s,t.setValue(s)}}}}function getLocalStorageHash(e,t){return document.location.href+"."+t}function setWidth(e,t){e.domElement.style.width=t+"px",e.__save_row&&e.autoPlace&&(e.__save_row.style.width=t+"px"),e.__closeButton&&(e.__closeButton.style.width=t+"px")}function getCurrentPreset(r,a){var o={};return g.each(r.__rememberedObjects,function(e,t){var i={},n=r.__rememberedObjectIndecesToControllers[t];g.each(n,function(e,t){i[t]=a?e.initialValue:e.getValue()}),o[t]=i}),o}function addPresetOption(e,t,i){var n=document.createElement("option");n.innerHTML=t,n.value=t,e.__preset_select.appendChild(n),i&&(e.__preset_select.selectedIndex=e.__preset_select.length-1)}function markPresetModified(e,t){var i=e.__preset_select[e.__preset_select.selectedIndex];i.innerHTML=t?i.value+"*":i.value}return S.toggleHide=function(){t=!t,g.each(T,function(e){e.domElement.style.zIndex=t?-999:999,e.domElement.style.opacity=t?0:1})},S.CLASS_AUTO_PLACE="a",S.CLASS_AUTO_PLACE_CONTAINER="ac",S.CLASS_MAIN="main",S.CLASS_CONTROLLER_ROW="cr",S.CLASS_TOO_TALL="taller-than-window",S.CLASS_CLOSED="closed",S.CLASS_CLOSE_BUTTON="close-button",S.CLASS_DRAG="drag",S.DEFAULT_WIDTH=245,S.TEXT_CLOSED="Close Controls",S.TEXT_OPEN="Open Controls",_.bind(window,"keydown",function(e){"text"===document.activeElement.type||72!==e.which&&72!=e.keyCode||S.toggleHide()},!1),g.extend(S.prototype,{add:function(e,t){return _add(this,e,t,{factoryArgs:Array.prototype.slice.call(arguments,2)})},addColor:function(e,t){return _add(this,e,t,{color:!0})},remove:function(e){this.__ul.removeChild(e.__li),this.__controllers.slice(this.__controllers.indexOf(e),1);var t=this;g.defer(function(){t.onResize()})},destroy:function(){this.autoPlace&&y.removeChild(this.domElement)},addFolder:function(e){if(void 0!==this.__folders[e])throw new Error('You already have a folder in this GUI by the name "'+e+'"');var t={name:e,parent:this};t.autoPlace=this.autoPlace,this.load&&this.load.folders&&this.load.folders[e]&&(t.closed=this.load.folders[e].closed,t.load=this.load.folders[e]);var i=new S(t);this.__folders[e]=i;var n=addRow(this,i.domElement);return _.addClass(n,"folder"),i},open:function(){this.closed=!1},close:function(){this.closed=!0},onResize:function(){var t=this.getRoot();if(t.scrollable){var e=_.getOffset(t.__ul).top,i=0;g.each(t.__ul.childNodes,function(e){t.autoPlace&&e===t.__save_row||(i+=_.getHeight(e))}),window.innerHeight-e-20<i?(_.addClass(t.domElement,S.CLASS_TOO_TALL),t.__ul.style.height=window.innerHeight-e-20+"px"):(_.removeClass(t.domElement,S.CLASS_TOO_TALL),t.__ul.style.height="auto")}t.__resize_handle&&g.defer(function(){t.__resize_handle.style.height=t.__ul.offsetHeight+"px"}),t.__closeButton&&(t.__closeButton.style.width=t.width+"px")},remember:function(){if(g.isUndefined(v)&&((v=new n).domElement.innerHTML='<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>'),this.parent)throw new Error("You can only call remember on a top level GUI.");var t=this;g.each(Array.prototype.slice.call(arguments),function(e){0==t.__rememberedObjects.length&&function(i){var e=i.__save_row=document.createElement("li");_.addClass(i.domElement,"has-save"),i.__ul.insertBefore(e,i.__ul.firstChild),_.addClass(e,"save-row");var t=document.createElement("span");t.innerHTML="&nbsp;",_.addClass(t,"button gears");var n=document.createElement("span");n.innerHTML="Save",_.addClass(n,"button"),_.addClass(n,"save");var r=document.createElement("span");r.innerHTML="New",_.addClass(r,"button"),_.addClass(r,"save-as");var a=document.createElement("span");a.innerHTML="Revert",_.addClass(a,"button"),_.addClass(a,"revert");var o=i.__preset_select=document.createElement("select");i.load&&i.load.remembered?g.each(i.load.remembered,function(e,t){addPresetOption(i,t,t==i.preset)}):addPresetOption(i,b,!1);if(_.bind(o,"change",function(){for(var e=0;e<i.__preset_select.length;e++)i.__preset_select[e].innerHTML=i.__preset_select[e].value;i.preset=this.value}),e.appendChild(o),e.appendChild(t),e.appendChild(n),e.appendChild(r),e.appendChild(a),w){var s=function(){u.style.display=i.useLocalStorage?"block":"none"},l=document.getElementById("dg-save-locally"),u=document.getElementById("dg-local-explain");l.style.display="block";var h=document.getElementById("dg-local-storage");"true"===localStorage.getItem(getLocalStorageHash(i,"isLocal"))&&h.setAttribute("checked","checked"),s(),_.bind(h,"change",function(){i.useLocalStorage=!i.useLocalStorage,s()})}var d=document.getElementById("dg-new-constructor");_.bind(d,"keydown",function(e){!e.metaKey||67!==e.which&&67!=e.keyCode||v.hide()}),_.bind(t,"click",function(){d.innerHTML=JSON.stringify(i.getSaveObject(),void 0,2),v.show(),d.focus(),d.select()}),_.bind(n,"click",function(){i.save()}),_.bind(r,"click",function(){var e=prompt("Enter a new preset name.");e&&i.saveAs(e)}),_.bind(a,"click",function(){i.revert()})}(t),-1==t.__rememberedObjects.indexOf(e)&&t.__rememberedObjects.push(e)}),this.autoPlace&&setWidth(this,this.width)},getRoot:function(){for(var e=this;e.parent;)e=e.parent;return e},getSaveObject:function(){var i=this.load;return i.closed=this.closed,0<this.__rememberedObjects.length&&(i.preset=this.preset,i.remembered||(i.remembered={}),i.remembered[this.preset]=getCurrentPreset(this)),i.folders={},g.each(this.__folders,function(e,t){i.folders[t]=e.getSaveObject()}),i},save:function(){this.load.remembered||(this.load.remembered={}),this.load.remembered[this.preset]=getCurrentPreset(this),markPresetModified(this,!1)},saveAs:function(e){this.load.remembered||(this.load.remembered={},this.load.remembered[b]=getCurrentPreset(this,!0)),this.load.remembered[e]=getCurrentPreset(this),this.preset=e,addPresetOption(this,e,!0)},revert:function(t){g.each(this.__controllers,function(e){this.getRoot().load.remembered?recallSavedValue(t||this.getRoot(),e):e.setValue(e.initialValue)},this),g.each(this.__folders,function(e){e.revert(e)}),t||markPresetModified(this.getRoot(),!1)},listen:function(e){var t=0==this.__listening.length;this.__listening.push(e),t&&function updateDisplays(e){0!=e.length&&i(function(){updateDisplays(e)});g.each(e,function(e){e.updateDisplay()})}(this.__listening)}}),S}(V.utils.css,V.controllers.factory=(B=V.controllers.OptionController,N=V.controllers.NumberControllerBox,F=V.controllers.NumberControllerSlider,Y=V.controllers.StringController=(G=V.controllers.Controller,H=V.dom.dom,W=V.utils.common,W7f.superclass=G,W.extend(W7f.prototype,G.prototype,{updateDisplay:function(){return H.isActive(this.__input)||(this.__input.value=this.getValue()),W7f.superclass.prototype.updateDisplay.call(this)}}),W7f),U=V.controllers.FunctionController,j=V.controllers.BooleanController,z=V.utils.common,function(e,t){var i=e[t];return z.isArray(arguments[2])||z.isObject(arguments[2])?new B(e,t,arguments[2]):z.isNumber(i)?z.isNumber(arguments[2])&&z.isNumber(arguments[3])?new F(e,t,arguments[2],arguments[3]):new N(e,t,{min:arguments[2],max:arguments[3]}):z.isString(i)?new Y(e,t):z.isFunction(i)?new U(e,t,""):z.isBoolean(i)?new j(e,t):void 0}),V.controllers.Controller,V.controllers.BooleanController,V.controllers.FunctionController,V.controllers.NumberControllerBox,V.controllers.NumberControllerSlider,(V.controllers.OptionController,V.controllers.ColorController=function(e,o,r,s,l){function e8f(e,t){e8f.superclass.call(this,e,t),this.__color=new r(this.getValue()),this.__temp=new r(0);var a=this;this.domElement=document.createElement("div"),o.makeSelectable(this.domElement,!1),this.__selector=document.createElement("div"),this.__selector.className="selector",this.__saturation_field=document.createElement("div"),this.__saturation_field.className="saturation-field",this.__field_knob=document.createElement("div"),this.__field_knob.className="field-knob",this.__field_knob_border="2px solid ",this.__hue_knob=document.createElement("div"),this.__hue_knob.className="hue-knob",this.__hue_field=document.createElement("div"),this.__hue_field.className="hue-field",this.__input=document.createElement("input"),this.__input.type="text",this.__input_textShadow="0 1px 1px ",o.bind(this.__input,"keydown",function(e){13===e.keyCode&&onBlur.call(this)}),o.bind(this.__input,"blur",onBlur),o.bind(this.__selector,"mousedown",function(e){o.addClass(this,"drag").bind(window,"mouseup",function(e){o.removeClass(a.__selector,"drag")})});var i,n=document.createElement("div");function fieldDown(e){setSV(e),o.bind(window,"mousemove",setSV),o.bind(window,"mouseup",unbindSV)}function unbindSV(){o.unbind(window,"mousemove",setSV),o.unbind(window,"mouseup",unbindSV)}function onBlur(){var e=s(this.value);!1!==e?(a.__color.__state=e,a.setValue(a.__color.toOriginal())):this.value=a.__color.toString()}function unbindH(){o.unbind(window,"mousemove",setH),o.unbind(window,"mouseup",unbindH)}function setSV(e){e.preventDefault();var t=o.getWidth(a.__saturation_field),i=o.getOffset(a.__saturation_field),n=(e.clientX-i.left+document.body.scrollLeft)/t,r=1-(e.clientY-i.top+document.body.scrollTop)/t;return 1<r?r=1:r<0&&(r=0),1<n?n=1:n<0&&(n=0),a.__color.v=r,a.__color.s=n,a.setValue(a.__color.toOriginal()),!1}function setH(e){e.preventDefault();var t=o.getHeight(a.__hue_field),i=o.getOffset(a.__hue_field),n=1-(e.clientY-i.top+document.body.scrollTop)/t;return 1<n?n=1:n<0&&(n=0),a.__color.h=360*n,a.setValue(a.__color.toOriginal()),!1}l.extend(this.__selector.style,{width:"122px",height:"102px",padding:"3px",backgroundColor:"#222",boxShadow:"0px 1px 3px rgba(0,0,0,0.3)"}),l.extend(this.__field_knob.style,{position:"absolute",width:"12px",height:"12px",border:this.__field_knob_border+(this.__color.v<.5?"#fff":"#000"),boxShadow:"0px 1px 3px rgba(0,0,0,0.5)",borderRadius:"12px",zIndex:1}),l.extend(this.__hue_knob.style,{position:"absolute",width:"15px",height:"2px",borderRight:"4px solid #fff",zIndex:1}),l.extend(this.__saturation_field.style,{width:"100px",height:"100px",border:"1px solid #555",marginRight:"3px",display:"inline-block",cursor:"pointer"}),l.extend(n.style,{width:"100%",height:"100%",background:"none"}),linearGradient(n,"top","rgba(0,0,0,0)","#000"),l.extend(this.__hue_field.style,{width:"15px",height:"100px",display:"inline-block",border:"1px solid #555",cursor:"ns-resize"}),(i=this.__hue_field).style.background="",i.style.cssText+="background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);",i.style.cssText+="background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",i.style.cssText+="background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",i.style.cssText+="background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",i.style.cssText+="background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);",l.extend(this.__input.style,{outline:"none",textAlign:"center",color:"#fff",border:0,fontWeight:"bold",textShadow:this.__input_textShadow+"rgba(0,0,0,0.7)"}),o.bind(this.__saturation_field,"mousedown",fieldDown),o.bind(this.__field_knob,"mousedown",fieldDown),o.bind(this.__hue_field,"mousedown",function(e){setH(e),o.bind(window,"mousemove",setH),o.bind(window,"mouseup",unbindH)}),this.__saturation_field.appendChild(n),this.__selector.appendChild(this.__field_knob),this.__selector.appendChild(this.__saturation_field),this.__selector.appendChild(this.__hue_field),this.__hue_field.appendChild(this.__hue_knob),this.domElement.appendChild(this.__input),this.domElement.appendChild(this.__selector),this.updateDisplay()}e8f.superclass=e,l.extend(e8f.prototype,e.prototype,{updateDisplay:function(){var t=s(this.getValue());if(!1!==t){var i=!1;l.each(r.COMPONENTS,function(e){if(!l.isUndefined(t[e])&&!l.isUndefined(this.__color.__state[e])&&t[e]!==this.__color.__state[e])return i=!0,{}},this),i&&l.extend(this.__color.__state,t)}l.extend(this.__temp.__state,this.__color.__state),this.__temp.a=1;var e=this.__color.v<.5||.5<this.__color.s?255:0,n=255-e;l.extend(this.__field_knob.style,{marginLeft:100*this.__color.s-7+"px",marginTop:100*(1-this.__color.v)-7+"px",backgroundColor:this.__temp.toString(),border:this.__field_knob_border+"rgb("+e+","+e+","+e+")"}),this.__hue_knob.style.marginTop=100*(1-this.__color.h/360)+"px",this.__temp.s=1,this.__temp.v=1,linearGradient(this.__saturation_field,"left","#fff",this.__temp.toString()),l.extend(this.__input.style,{backgroundColor:this.__input.value=this.__color.toString(),color:"rgb("+e+","+e+","+e+")",textShadow:this.__input_textShadow+"rgba("+n+","+n+","+n+",.7)"})}});var a=["-moz-","-o-","-webkit-","-ms-",""];function linearGradient(t,i,n,r){t.style.background="",l.each(a,function(e){t.style.cssText+="background: "+e+"linear-gradient("+i+", "+n+" 0%, "+r+" 100%); "})}return e8f}(V.controllers.Controller,V.dom.dom,V.color.Color=(D=V.color.interpret,R=V.color.math={hsv_to_rgb:function(e,t,i){var n=Math.floor(e/60)%6,r=e/60-Math.floor(e/60),a=i*(1-t),o=i*(1-r*t),s=i*(1-(1-r)*t),l=[[i,s,a],[o,i,a],[a,i,s],[a,o,i],[s,a,i],[i,a,o]][n];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(e,t,i){var n,r=Math.min(e,t,i),a=Math.max(e,t,i),o=a-r;return 0==a?{h:NaN,s:0,v:0}:(n=e==a?(t-i)/o:t==a?2+(i-e)/o:4+(e-t)/o,(n/=6)<0&&(n+=1),{h:360*n,s:o/a,v:a/255})},rgb_to_hex:function(e,t,i){var n=this.hex_with_component(0,2,e);return n=this.hex_with_component(n,1,t),n=this.hex_with_component(n,0,i)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,i){return i<<(O=8*t)|e&~(255<<O)}},k=V.color.toString,I=V.utils.common,O8f.COMPONENTS=["r","g","b","h","s","v","hex","a"],I.extend(O8f.prototype,{toString:function(){return k(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),defineRGBComponent(O8f.prototype,"r",2),defineRGBComponent(O8f.prototype,"g",1),defineRGBComponent(O8f.prototype,"b",0),defineHSVComponent(O8f.prototype,"h"),defineHSVComponent(O8f.prototype,"s"),defineHSVComponent(O8f.prototype,"v"),Object.defineProperty(O8f.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(O8f.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=R.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}}),O8f),V.color.interpret,V.utils.common)),V.utils.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e,t){window.setTimeout(e,1e3/60)},V.dom.CenteredDiv=(A=V.dom.dom,P=V.utils.common,G9f.prototype.show=function(){var e=this;this.backgroundElement.style.display="block",this.domElement.style.display="block",this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)",this.layout(),P.defer(function(){e.backgroundElement.style.opacity=1,e.domElement.style.opacity=1,e.domElement.style.webkitTransform="scale(1)"})},G9f.prototype.hide=function(){function K9f(){e.domElement.style.display="none",e.backgroundElement.style.display="none",A.unbind(e.domElement,"webkitTransitionEnd",K9f),A.unbind(e.domElement,"transitionend",K9f),A.unbind(e.domElement,"oTransitionEnd",K9f)}var e=this;A.bind(this.domElement,"webkitTransitionEnd",K9f),A.bind(this.domElement,"transitionend",K9f),A.bind(this.domElement,"oTransitionEnd",K9f),this.backgroundElement.style.opacity=0,this.domElement.style.opacity=0,this.domElement.style.webkitTransform="scale(1.1)"},G9f.prototype.layout=function(){this.domElement.style.left=window.innerWidth/2-A.getWidth(this.domElement)/2+"px",this.domElement.style.top=window.innerHeight/2-A.getHeight(this.domElement)/2+"px"},G9f),V.dom.dom,V.utils.common)},function(e,t,i){"use strict";var a,n,r,o,s,l,u,h,d,c,p,f,m,_=e.exports=_||{};function wag(){if(this.__state=o.apply(this,arguments),!1===this.__state)throw"Failed to interpret color arguments";this.__state.a=this.__state.a||1}function defineRGBComponent(e,t,i){Object.defineProperty(e,t,{get:function(){return"RGB"===this.__state.space||recalculateRGB(this,t,i),this.__state[t]},set:function(e){"RGB"!==this.__state.space&&(recalculateRGB(this,t,i),this.__state.space="RGB"),this.__state[t]=e}})}function defineHSVComponent(e,t){Object.defineProperty(e,t,{get:function(){return"HSV"===this.__state.space||recalculateHSV(this),this.__state[t]},set:function(e){"HSV"!==this.__state.space&&(recalculateHSV(this),this.__state.space="HSV"),this.__state[t]=e}})}function recalculateRGB(e,t,i){if("HEX"===e.__state.space)e.__state[t]=s.component_from_hex(e.__state.hex,i);else{if("HSV"!==e.__state.space)throw"Corrupted color state";u.extend(e.__state,s.hsv_to_rgb(e.__state.h,e.__state.s,e.__state.v))}}function recalculateHSV(e){var t=s.rgb_to_hsv(e.r,e.g,e.b);u.extend(e.__state,{s:t.s,v:t.v}),u.isNaN(t.h)?u.isUndefined(e.__state.h)&&(e.__state.h=0):e.__state.h=t.h}_.color=_.color||{},_.utils=_.utils||{},_.utils.common=(a=Array.prototype.forEach,n=Array.prototype.slice,{BREAK:{},extend:function(i){return this.each(n.call(arguments,1),function(e){for(var t in e)this.isUndefined(e[t])||(i[t]=e[t])},this),i},defaults:function(i){return this.each(n.call(arguments,1),function(e){for(var t in e)this.isUndefined(i[t])&&(i[t]=e[t])},this),i},compose:function(){var i=n.call(arguments);return function(){for(var e=n.call(arguments),t=i.length-1;0<=t;t--)e=[i[t].apply(this,e)];return e[0]}},each:function(e,t,i){if(a&&e.forEach===a)e.forEach(t,i);else if(e.length===e.length+0){for(var n=0,r=e.length;n<r;n++)if(n in e&&t.call(i,e[n],n)===this.BREAK)return}else for(var n in e)if(t.call(i,e[n],n)===this.BREAK)return},defer:function(e){setTimeout(e,0)},toArray:function(e){return e.toArray?e.toArray():n.call(e)},isUndefined:function(e){return void 0===e},isNull:function(e){return null===e},isNaN:function(e){return e!=e},isArray:Array.isArray||function(e){return e.constructor===Array},isObject:function(e){return e===Object(e)},isNumber:function(e){return e===e+0},isString:function(e){return e===e+""},isBoolean:function(e){return!1===e||!0===e},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)}}),_.color.toString=(r=_.utils.common,function(e){if(1==e.a||r.isUndefined(e.a)){for(var t=e.hex.toString(16);t.length<6;)t="0"+t;return"#"+t}return"rgba("+Math.round(e.r)+","+Math.round(e.g)+","+Math.round(e.b)+","+e.a+")"}),_.Color=_.color.Color=(o=_.color.interpret=(d=_.color.toString,c=_.utils.common,m=[{litmus:c.isString,conversions:{THREE_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString()+t[1].toString()+t[2].toString()+t[2].toString()+t[3].toString()+t[3].toString())}},write:d},SIX_CHAR_HEX:{read:function(e){var t=e.match(/^#([A-F0-9]{6})$/i);return null!==t&&{space:"HEX",hex:parseInt("0x"+t[1].toString())}},write:d},CSS_RGB:{read:function(e){var t=e.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3])}},write:d},CSS_RGBA:{read:function(e){var t=e.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/);return null!==t&&{space:"RGB",r:parseFloat(t[1]),g:parseFloat(t[2]),b:parseFloat(t[3]),a:parseFloat(t[4])}},write:d}}},{litmus:c.isNumber,conversions:{HEX:{read:function(e){return{space:"HEX",hex:e,conversionName:"HEX"}},write:function(e){return e.hex}}}},{litmus:c.isArray,conversions:{RGB_ARRAY:{read:function(e){return 3==e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2]}},write:function(e){return[e.r,e.g,e.b]}},RGBA_ARRAY:{read:function(e){return 4==e.length&&{space:"RGB",r:e[0],g:e[1],b:e[2],a:e[3]}},write:function(e){return[e.r,e.g,e.b,e.a]}}}},{litmus:c.isObject,conversions:{RGBA_OBJ:{read:function(e){return!!(c.isNumber(e.r)&&c.isNumber(e.g)&&c.isNumber(e.b)&&c.isNumber(e.a))&&{space:"RGB",r:e.r,g:e.g,b:e.b,a:e.a}},write:function(e){return{r:e.r,g:e.g,b:e.b,a:e.a}}},RGB_OBJ:{read:function(e){return!!(c.isNumber(e.r)&&c.isNumber(e.g)&&c.isNumber(e.b))&&{space:"RGB",r:e.r,g:e.g,b:e.b}},write:function(e){return{r:e.r,g:e.g,b:e.b}}},HSVA_OBJ:{read:function(e){return!!(c.isNumber(e.h)&&c.isNumber(e.s)&&c.isNumber(e.v)&&c.isNumber(e.a))&&{space:"HSV",h:e.h,s:e.s,v:e.v,a:e.a}},write:function(e){return{h:e.h,s:e.s,v:e.v,a:e.a}}},HSV_OBJ:{read:function(e){return!!(c.isNumber(e.h)&&c.isNumber(e.s)&&c.isNumber(e.v))&&{space:"HSV",h:e.h,s:e.s,v:e.v}},write:function(e){return{h:e.h,s:e.s,v:e.v}}}}}],function(e){f=!1;var i=1<arguments.length?c.toArray(arguments):e;return c.each(m,function(e){if(e.litmus(i))return c.each(e.conversions,function(e,t){if(p=e.read(i),!1===f&&!1!==p)return(f=p).conversionName=t,p.conversion=e,c.BREAK}),c.BREAK}),f}),s=_.color.math={hsv_to_rgb:function(e,t,i){var n=Math.floor(e/60)%6,r=e/60-Math.floor(e/60),a=i*(1-t),o=i*(1-r*t),s=i*(1-(1-r)*t),l=[[i,s,a],[o,i,a],[a,i,s],[a,o,i],[s,a,i],[i,a,o]][n];return{r:255*l[0],g:255*l[1],b:255*l[2]}},rgb_to_hsv:function(e,t,i){var n,r=Math.min(e,t,i),a=Math.max(e,t,i),o=a-r;return 0==a?{h:NaN,s:0,v:0}:(n=e==a?(t-i)/o:t==a?2+(i-e)/o:4+(e-t)/o,(n/=6)<0&&(n+=1),{h:360*n,s:o/a,v:a/255})},rgb_to_hex:function(e,t,i){var n=this.hex_with_component(0,2,e);return n=this.hex_with_component(n,1,t),n=this.hex_with_component(n,0,i)},component_from_hex:function(e,t){return e>>8*t&255},hex_with_component:function(e,t,i){return i<<(h=8*t)|e&~(255<<h)}},l=_.color.toString,u=_.utils.common,wag.COMPONENTS=["r","g","b","h","s","v","hex","a"],u.extend(wag.prototype,{toString:function(){return l(this)},toOriginal:function(){return this.__state.conversion.write(this)}}),defineRGBComponent(wag.prototype,"r",2),defineRGBComponent(wag.prototype,"g",1),defineRGBComponent(wag.prototype,"b",0),defineHSVComponent(wag.prototype,"h"),defineHSVComponent(wag.prototype,"s"),defineHSVComponent(wag.prototype,"v"),Object.defineProperty(wag.prototype,"a",{get:function(){return this.__state.a},set:function(e){this.__state.a=e}}),Object.defineProperty(wag.prototype,"hex",{get:function(){return"HEX"!==!this.__state.space&&(this.__state.hex=s.rgb_to_hex(this.r,this.g,this.b)),this.__state.hex},set:function(e){this.__state.space="HEX",this.__state.hex=e}}),wag)},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var h=i(12);function asyncGeneratorStep(e,t,i,n,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void i(e)}s.done?t(l):Promise.resolve(l).then(n,r)}function _asyncToGenerator(a){return function(){var e=this,r=arguments;return new Promise(function(t,i){var n=a.apply(e,r);function _next(e){asyncGeneratorStep(n,t,i,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(n,t,i,_next,_throw,"throw",e)}_next(void 0)})}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=function(t){var e,i;function Ball3DPreview(){var e;return _defineProperty(_assertThisInitialized(e=t.call(this)||this),"loader",void 0),_defineProperty(_assertThisInitialized(e),"container",void 0),_defineProperty(_assertThisInitialized(e),"activeBall",void 0),_defineProperty(_assertThisInitialized(e),"shadow",void 0),_defineProperty(_assertThisInitialized(e),"shadowScale",void 0),_defineProperty(_assertThisInitialized(e),"activeBallId",void 0),_defineProperty(_assertThisInitialized(e),"activeBallModel",void 0),e.loader=new h.TextureLoader,e.container=new h.Object3D,e.add(e.container),e.activeBall=null,e.activeBallId=null,e.activeBallModel=null,e.scale.x=0,e.scale.y=0,e}i=t,(e=Ball3DPreview).prototype=Object.create(i.prototype),(e.prototype.constructor=e).__proto__=i;var n=Ball3DPreview.prototype;return n.show=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function _callee(t){var i,n,r,a,o,s,l,u=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t.id,n=t.model,r=t.texture,a=t.material,o=t.scale,i===this.activeBallId)return this.reset(),this.animate(),e.abrupt("return");e.next=5;break;case 5:return this.activeBallId=i,e.next=8,this.getBallMaterial(r,a);case 8:s=e.sent,n===this.activeBallModel?(this.activeBall.traverse(function(e){e instanceof h.Mesh&&(e.material=s)}),this.reset(),this.animate()):(l=new h.OBJLoader,this.activeBall&&this.container.remove(this.activeBall),l.load(ASSET_URL+"models/balls/skins/"+n,function(e){u.activeBall=e,u.activeBall.traverse(function(e){e instanceof h.Mesh&&(e.material=s)}),u.activeBall.scale.x=u.activeBall.scale.y=u.activeBall.scale.z=4.5*o,u.container.add(u.activeBall),u.updateShadow(),u.reset(),u.animate()},function(){},function(){}),this.activeBallModel=n);case 10:case"end":return e.stop()}},_callee,this)}));return function(e){return t.apply(this,arguments)}}(),n.animate=function(e){var t=this;void 0===e&&(e=!1),TweenLite.to(this.scale,.2,{x:e?0:1,y:e?0:1,ease:Linear.easeOut,delay:e?0:.4,onComplete:function(){e?t.killAnimations():t.rotate()}})},n.getBallMaterial=function(){var i=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(t,n){var r=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise(function(i){r.loader.load(RESOLVE_PATH(ASSET_URL+"img/content/balls/ball-textures/"+t),function(e){var t;e.wrapS=e.wrapT=h.UVMapping,e.needsUpdate=!0,"default"===n&&(t=new h.MeshPhongMaterial({map:e})),t.side=h.DoubleSide,i(t)})}));case 1:case"end":return e.stop()}},_callee2)}));return function(e,t){return i.apply(this,arguments)}}(),n.rotate=function(){var e=this,t=TweenLite.to(this.activeBall.rotation,5,{x:2*Math.PI,ease:Linear.easeNone,onComplete:function(){e.activeBall.rotation.x=0,t.restart()}}),i=TweenLite.to(this.activeBall.rotation,10,{y:2*Math.PI+.2,ease:Linear.easeNone,onComplete:function(){e.activeBall.rotation.y=.2,i.restart()}})},n.killAnimations=function(){this.activeBall&&TweenLite.killTweensOf(this.activeBall.rotation)},n.reset=function(){this.killAnimations(),this.scale.x=0,this.scale.y=0,this.activeBall.rotation.x=0,this.activeBall.rotation.y=.2},n.updateShadow=function(){},Ball3DPreview}(h.Object3D);t.default=n},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n,r=i(80),a=(n=i(5))&&n.__esModule?n:{default:n},o=i(17);function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var s=function(){function BallsSystem(e){_defineProperty(this,"app",void 0),_defineProperty(this,"_activeBall",void 0),this.app=e,this._activeBall={id:null,model:null,texture:null},this.setBall(r.getBalls.selected().id)}var e,t,i,n=BallsSystem.prototype;return n.unlockBall=function(e){a.default.coins-=r.BallData[e].price,this.app.saveCoins(),this.app.topMenu.updateCoins(),r.BallData[e].locked=!1,this.selectBall(e,!0),CES.dispatch(o.EventKeys.UNLOCKABLES_BALL_UNLOCKED,{ballId:e})},n.selectBall=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1),r.BallData[this.activeBall.id].selected=!1,this.setBall(e,t),i||CES.dispatch(o.EventKeys.UNLOCKABLES_BALL_SELECTED,{ballId:e})},n.setBall=function(e,t){void 0===t&&(t=!1),e=e||"default",this._activeBall.id=e,t&&(r.BallData[e].selected=!0,this.save())},n.save=function(){this.app.dataSystem.saveData("balls")},e=BallsSystem,(t=[{key:"activeBall",get:function(){return this._activeBall}}])&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),BallsSystem}();t.default=s},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var r=i(0);var n=function(n){var e,t;function Brand(e){var t;t=n.call(this)||this,window.brand=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),t.bg=new r.Graphics,t.bg.beginFill(0),t.bg.drawRect(0,0,e.maxSize.width,e.maxSize.height),t.addChild(t.bg),t.bg.alpha=0,t.center=new r.Container,t.logo=r.Sprite.from(RESOLVE_PATH(ASSET_URL+"img/content/banners/banners-default/main-menu-sponsor.jpg")),t.logo.anchor.set(.5);var i=1272/t.logo.texture.width;return t.logo.scale.set(i),t.logo.defaultScale=i,t.center.position.x=-t.logo.width/2,t.center.position.y=-t.logo.height/2,t.center.addChild(t.logo),t.alpha=0,t.addChild(t.center),t}return t=n,(e=Brand).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,Brand.prototype.resize=function(e,t){this.center.position.set(e/2,t/2)},Brand}(r.Container);t.default=n,e.exports=t.default},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var s=i(0),l=_interopRequireDefault(i(538)),u=_interopRequireDefault(i(6)),h=_interopRequireDefault(i(5));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var d=[u.default.SCREEN_ID.COUNTRY_SELECT,u.default.SCREEN_ID.CAPTAIN_SELECT,u.default.SCREEN_ID.PLAYER_SELECT,u.default.SCREEN_ID.PLAYER_SELECT_2,u.default.SCREEN_ID.TEAM_REVIEW],n=function(r){var e,t;function Breadcrumb(e){var t;t=r.call(this)||this,window.bread=_assertThisInitialized(t),t.app=e,t.currentStep=0,t.previousStep=-1,t.name="breabcrumb",t.steps=[],t.breadCrumbContainer=new s.Container,t.bg=PIXI.Sprite.fromFrame("breadcrumb_back.png"),t.bg.height=t.bg.height+10,t.breadCrumbContainer.addChild(t.bg);for(var i=4;0<=i;i--){var n=new l.default(i,4===i,u.default.BREADCRUMB.HEIGHT);n.onDown.add(t.onItemDown,_assertThisInitialized(t)),n.onHover.add(t.onItemHover,_assertThisInitialized(t)),t.breadCrumbContainer.addChild(n),t.steps[i]=n}return t.addChild(t.breadCrumbContainer),t.steps[0].activate(),t.maxStepIndexRiched=-1,t.hide(!0),t}t=r,(e=Breadcrumb).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i,n,a,o=Breadcrumb.prototype;return o.onItemDown=function(e){e.last||this.currentStep<=e.index||e.hasBeenActivate&&(this.previousStep=this.currentStep,this.currentStep=e.index,e.last&&e.active?(this.currentStep++,h.default.isTournament?this.app.screenManager.gotoScreenByID(u.default.SCREEN_ID.TOURNAMENT):(this.app.spotLights.hide(),this.app.screenManager.gotoScreenByID(u.default.SCREEN_ID.GAME),this.hide())):this.goTo())},o.onItemHover=function(e){this.maxStepIndexRiched<e.index-1||e.hover()},o.reset=function(){this.currentStep=0,this.previousStep=-1},o.show=function(){this.hidden=!1,this.maxStepIndexRiched=-1,TweenLite.to(this,.4,{y:0}),TweenLite.to(this,.2,{alpha:1,delay:.1})},o.hide=function(e){if(this.hidden=!0,e){for(var t=0;t<this.steps.length;t++)this.steps[t].reset();this.y=100}else TweenLite.to(this,.4,{y:100,onComplete:function(){}}),TweenLite.to(this,.2,{alpha:0,delay:.1})},o.resetSteps=function(){for(var e=0;e<this.steps.length;e++)this.steps[e].reset(),this.steps[e].desactivate()},o.next=function(){this.previousStep=this.currentStep,this.currentStep++,this.goTo()},o.prev=function(){this.previousStep=this.currentStep,this.currentStep--,this.goTo()},o.goTo=function(){if(void 0===this.steps[this.currentStep])this.app.screenManager.gotoScreenByID(u.default.SCREEN_ID.TITLE);else{this.app.screenManager.gotoScreenByID(d[this.currentStep]),this.maxStepIndexRiched<this.steps[this.currentStep].index&&(this.maxStepIndexRiched=this.steps[this.currentStep].index);for(var e=0;e<this.steps.length;e++)e<this.currentStep||this.steps[e].desactivate()}void 0!==this.steps[this.currentStep]?(this.steps[this.currentStep].activate(),this.app.screenManager.currentScreen.beforeShow&&this.app.screenManager.currentScreen.beforeShow(this.currentStep)):this.currentStep=0},o.resize=function(e,t){for(var i=0;i<this.steps.length;i++)this.steps[i].resize(e,t);this.bg.position.x=e/2-this.bg.width/2,this.bg.position.y=t-this.bg.height},i=Breadcrumb,(n=[{key:"currentItem",get:function(){return this.steps[this.currentStep]}}])&&_defineProperties(i.prototype,n),a&&_defineProperties(i,a),Breadcrumb}(s.Container);t.default=n,e.exports=t.default},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var d=i(0),c=_interopRequireDefault(i(3)),p=_interopRequireDefault(i(33)),f=_interopRequireDefault(i(11));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var n=function(h){var e,t;function BreadcrumbItem(e,t,i){var n;n=h.call(this)||this;p.default.getJson("config").config.LOCALE,["_pl"].indexOf("_pl");n.tick=0,n.tickSpedd=.05*Math.random()+.05,.5<Math.random()&&(n.tickSpedd=-1*n.tickSpedd),n.index=e,n.height=i,n.oheight=i;var r=e+1;if(1<r&&(r=2),(n.last=t)&&(r=3),n.num=r,n.bg=PIXI.Sprite.fromFrame("breadcrumb_"+r+"_grey.png"),n.bg.position.y=69-n.bg.height,n.addChild(n.bg),1<r&&!t){var a=new d.Graphics;a.beginFill(),a.moveTo(0,2),a.lineStyle(.1,16767232,1),a.lineTo(n.bg.width-26,2),a.lineTo(n.bg.width,n.bg.height/2-2),a.lineTo(n.bg.width-26,n.bg.height-2+2),a.lineTo(0,n.bg.height-2+2),a.lineTo(26,n.bg.height/2-2),a.lineTo(0,2),a.x=n.bg.x,a.y=n.bg.y,a.endFill(),n.addChild(a)}n.graphic=new d.Sprite,n.graphic.o={x:0,y:0},n.graphic.anchor.x=.5,a&&(n.graphic.mask=a),n.addChild(n.graphic),n.active=!1,n.hasBeenActivate=!1,n.interactive=!0,n.buttonMode=!0;var o="",s=35;n.last?(window.itemt=_assertThisInitialized(n),o="STR_BREADCRUMB_READY",s=50):0===n.index?(o="STR_BREADCRUMB_COUNTRY",s=20):1===n.index?o="STR_BREADCRUMB_CAPTAIN":2===n.index?o="STR_BREADCRUMB_PLAYER2":3===n.index&&(o="STR_BREADCRUMB_PLAYER3");var l=20;n.last&&(l=38);var u={fontSize:l,fontFamily:window.MAIN_FONT,fill:"#000",letterSpacing:2,maxWidth:150};return n.text=new f.default(o,u),n.text.anchor.y=.5,n.text.position.x=s,n.text.position.y=i/2+2,n.addChild(n.text),n.desactivate(),n.onDown=new c.default,n.onHover=new c.default,n.mousedown=n.touchstart=n.onDown.dispatch.bind(_assertThisInitialized(n),_assertThisInitialized(n)),n}t=h,(e=BreadcrumbItem).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=BreadcrumbItem.prototype;return i.reset=function(){this.active=!1,this.hasBeenActivate=!1,this.text.alpha=1,this.graphic.texture=PIXI.Texture.EMPTY,this.graphicOverlay&&(this.graphicOverlay.texture=d.Texture.EMPTY),this.moving||(this.bg.texture=new d.Texture.fromFrame("breadcrumb_"+this.num+"_grey.png"))},i.updateTexture=function(e){this.text.alpha=0,this.graphicOverlay?this.graphicOverlay.texture=new d.Texture.fromImage(e):(this.graphicOverlay=new d.Sprite.from(e),this.graphicOverlay.anchor.set(.5),this.graphicOverlay.scale.set(.6),this.addChild(this.graphicOverlay)),this.graphicOverlay.position.y=this.bg.height/2+17,this.graphicOverlay.position.x=this.bg.width/2},i.update=function(e,t){this.text.alpha=0,this.moving=!0,this.bg.texture=new d.Texture.fromFrame(t?"breadcrumb_"+this.num+"_orange.png":"breadcrumb_"+this.num+"_grey.png"),this.graphic.texture=new d.Texture.fromImage(e.profile);var i=0,n=0;e.offsetBreadCrumb&&(i=e.offsetBreadCrumb.x||0,n=e.offsetBreadCrumb.y||0),this.graphic.o.x=this.bg.width/2+i,this.graphic.o.y=-this.bg.height/4+n,this.graphic.position.x=this.graphic.o.x,this.graphic.position.y=this.graphic.o.y,this.graphic.scale.set(.6)},i.activate=function(){this.active=!0,this.hasBeenActivate=!0,this.bg.texture=new d.Texture.fromFrame("breadcrumb_"+this.num+"_orange.png")},i.desactivate=function(){this.active=!1,this.text.alpha=1,this.graphicOverlay&&(this.graphicOverlay.texture=d.Texture.EMPTY),this.graphic.texture=PIXI.Texture.EMPTY,this.bg.texture=new d.Texture.fromFrame("breadcrumb_"+this.num+"_grey.png")},i.hover=function(){},i.updateTransform=function(){h.prototype.updateTransform.call(this),this.tick+=this.tickSpedd,this.active&&this.graphic&&this.moving},i.resize=function(e,t){var i=10*this.index;this.x=e/5*this.index-i,this.y=t-this.oheight+10-7,this.last?this.bg.width=e/3:this.bg.width=e/5,this.graphicOverlay&&(this.graphicOverlay.position.y=this.bg.height/2+17,this.graphicOverlay.position.x=this.bg.width/2),this.moving||(this.graphic.position.y=this.bg.height/2,this.graphic.position.x=this.bg.width/2)},BreadcrumbItem}(d.Container);t.default=n,e.exports=t.default},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n=_interopRequireDefault(i(131)),r=_interopRequireDefault(i(5)),a=i(32),o=_interopRequireDefault(i(6));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var s=function(i){var e,t;function CaptainSelectScreen(e){var t;return(t=i.call(this,e,{title:"STR_CAPTAIN_SELECT_TITLE",enableLockedPopup:!0,enableBreadcrumb:!0,screenIdentifier:"captain"})||this).setPlayers(a.getCharacters.captains()),t.onCardSelected.add(function(e){t.selectPlayer(e),setTimeout(function(){t.app.breadcrumb.currentItem.update(e.data,e.orange),t.app.breadcrumb.next()},300),t.app.topMenu.disablePrev=!0,t.updateCharaterGameSession(e)}),t}t=i,(e=CaptainSelectScreen).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=CaptainSelectScreen.prototype;return n.updateCharaterGameSession=function(e){r.default.teamA[0]=e.data},n.onShow=function(){i.prototype.onShow.call(this),this.app.topMenu.prevScreen=o.default.SCREEN_ID.COUNTRY_SELECT,this.app.topMenu.nextScreen=o.default.SCREEN_ID.PLAYER_SELECT,this.app.topMenu.setState("prevsettings")},CaptainSelectScreen}(n.default);t.default=s},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var s=i(0),l=_interopRequireDefault(i(79)),u=i(179),h=_interopRequireDefault(i(6)),d=i(180),c=_interopRequireDefault(i(11)),p=_interopRequireDefault(i(3)),f=_interopRequireDefault(i(4));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=function(a){var e,t;function CharacterCard(e,t){var i;_defineProperty(_assertThisInitialized(i=a.call(this)||this),"app",void 0),_defineProperty(_assertThisInitialized(i),"active",void 0),_defineProperty(_assertThisInitialized(i),"width",void 0),_defineProperty(_assertThisInitialized(i),"height",void 0),_defineProperty(_assertThisInitialized(i),"padding",void 0),_defineProperty(_assertThisInitialized(i),"container",void 0),_defineProperty(_assertThisInitialized(i),"centerCotainer",void 0),_defineProperty(_assertThisInitialized(i),"filterContainer",void 0),_defineProperty(_assertThisInitialized(i),"contentContainer",void 0),_defineProperty(_assertThisInitialized(i),"bg",void 0),_defineProperty(_assertThisInitialized(i),"splash",void 0),_defineProperty(_assertThisInitialized(i),"brandLogo",void 0),_defineProperty(_assertThisInitialized(i),"_ctaElement",void 0),_defineProperty(_assertThisInitialized(i),"lock",void 0),_defineProperty(_assertThisInitialized(i),"dimmer",void 0),_defineProperty(_assertThisInitialized(i),"glow",void 0),_defineProperty(_assertThisInitialized(i),"stars",void 0),_defineProperty(_assertThisInitialized(i),"starCounts",void 0),_defineProperty(_assertThisInitialized(i),"characterName",void 0),_defineProperty(_assertThisInitialized(i),"speedBar",void 0),_defineProperty(_assertThisInitialized(i),"powerBar",void 0),_defineProperty(_assertThisInitialized(i),"skillBar",void 0),_defineProperty(_assertThisInitialized(i),"cachedTexture",void 0),_defineProperty(_assertThisInitialized(i),"cacheSprite",void 0),_defineProperty(_assertThisInitialized(i),"bwFilter",void 0),_defineProperty(_assertThisInitialized(i),"hitArea",void 0),_defineProperty(_assertThisInitialized(i),"dirty",void 0),_defineProperty(_assertThisInitialized(i),"_data",void 0),_defineProperty(_assertThisInitialized(i),"orange",void 0),_defineProperty(_assertThisInitialized(i),"onDown",void 0),_defineProperty(_assertThisInitialized(i),"onUpdated",void 0),i.app=e,i.buttonMode=!0,i.active=!0,i.container=new s.Container,i.centerCotainer=new s.Container,i.filterContainer=new s.Container,i.contentContainer=new s.Container;i.width=h.default.PLAYER_CARD.WIDTH,i.height=h.default.PLAYER_CARD.HEIGHT,i.padding=h.default.PLAYER_CARD.PADDING,i.centerCotainer.position.x=-i.width/2-17,i.centerCotainer.position.y=-i.height/2,i.bwFilter=new s.filters.ColorMatrixFilter,i.bwFilter.blackAndWhite(),i.bwFilter.padding=0,i.bg=s.Sprite.from(e.winterMode?"card-back-winter.png":"card-back.png"),i.contentContainer.addChild(i.bg),i.splash=new s.Sprite;var n=d.GraphicsFormat.parse("f #c00 1 m 148.85 0.35 l 148.85 0 l 148.55 0.2 l 148.2 0 l 148.2 0.4 q 104.35 25 0 26.7 q 0.4 276.7 0.05 276.7 l 297.1 276.7 q 296.75 276.7 297.05 26.7 q 192.65 24.95 148.85 0.35 c");n.scale.set(.99),n.x+=18,n.y+=14,e.winterMode&&(n.x+=5,n.y+=25),i.contentContainer.addChild(n),i.splash.mask=n,i.contentContainer.addChild(i.splash),i.splash.offset={x:0,y:0},i.brandLogo=s.Sprite.from(s.Texture.WHITE),i.brandLogo.anchor.y=1,i.brandLogo.position.x=3*i.padding,i.brandLogo.position.y=290-i.padding,i.contentContainer.addChild(i.brandLogo),i.characterName=new c.default("",{fill:"#493008",fontSize:30,fontFamily:window.MAIN_FONT}),i.characterName.anchor.x=.5,i.characterName.position.x=i.bg.width/2,i.characterName.position.y=335-i.characterName.height-i.padding,i.contentContainer.addChild(i.characterName),i.buildCtaElement(t.cta,t.ctaOffsetY||0,17),i.mouseup=i.touchend=function(){i.onDown.dispatch(_assertThisInitialized(i))},i.mouseover=function(){.05<i.z||i.z<-.05||(i.data&&!i.data.selected&&(i.ctaElement.filters=null),TweenLite.to(i.container.scale,.5,{x:1.02,y:1.02,ease:Elastic.easeOut}))},i.mouseout=function(){.05<i.z||i.z<-.05||TweenLite.to(i.container.scale,.5,{x:1,y:1,ease:Elastic.easeOut})};var r=i.padding+82;if(i.speedBar=u.ProfileBar.speed(),i.speedBar.position.set(r,337),i.contentContainer.addChild(i.speedBar),i.powerBar=u.ProfileBar.power(),i.powerBar.position.set(r,i.speedBar.position.y+i.speedBar.height+i.padding+36),i.contentContainer.addChild(i.powerBar),i.skillBar=u.ProfileBar.skill(),i.skillBar.position.set(r,i.powerBar.position.y+i.powerBar.height+i.padding+36),i.contentContainer.addChild(i.skillBar),e.winterMode){i.speedBar.position.x+=5,i.powerBar.position.x+=5,i.skillBar.position.x+=5,i.speedBar.position.y+=5,i.powerBar.position.y+=5,i.skillBar.position.y+=5}return i.container.addChild(i.filterContainer),i.container.addChild(i.centerCotainer),i.container.addChild(i.ctaElement),i.addChild(i.container),t.lockable&&(i.lock=s.Sprite.from("button-card-padlock.png"),i.lock.anchor.set(.5),i.lock.position.x=i.bg.width/2,i.lock.position.y=200,i.centerCotainer.addChild(i.lock)),e.winterMode||(i.dimmer=s.Sprite.from("card-black.png"),i.centerCotainer.addChild(i.dimmer)),t.shineable&&(i.glow=s.Sprite.from("card-glow.png"),i.glow.blendMode=s.BLEND_MODES.ADD,i.glow.position.set(-13,-15),i.glow.visible=!1),i.cachedTexture=s.RenderTexture.create(i.bg.width,i.bg.height),i.cacheSprite=new s.Sprite(i.cachedTexture),i.filterContainer.addChild(i.cacheSprite),i.cacheSprite.position.x=-i.width/2-17,i.cacheSprite.position.y=-i.height/2,i.dirty=!1,e.onLanguageChange.add(i.onLanguageChange,_assertThisInitialized(i)),i.interactive=!0,i.onDown=new p.default,i.onUpdated=new p.default,i}t=a,(e=CharacterCard).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i,n,r,o=CharacterCard.prototype;return o.buildCtaElement=function(e,t,i){var n=this;if(e){if("string"==typeof e)this._ctaElement=s.Sprite.from(e);else{this._ctaElement=s.Sprite.from(e.bg);var r=new c.default(e.content,{fill:"white",fontSize:36,fontFamily:window.MAIN_FONT,stroke:!1,strokeThickness:8,lineJoin:"round",maxWidth:285});r.anchor.set(.5),r.position.y=-7,this.ctaElement.addChild(r),this.ctaElement.text=r}this.ctaElement.interactive=!0,this.ctaElement.mouseover=function(){.05<n.z||n.z<-.05||TweenLite.to(n.ctaElement.scale,.5,{x:1.1,y:1.1,ease:Elastic.easeOut})},this.ctaElement.mouseout=function(){.05<n.z||n.z<-.05||TweenLite.to(n.ctaElement.scale,.5,{x:1.03,y:1.03,ease:Elastic.easeOut})},this.ctaElement.anchor.set(.5),this.ctaElement.position.x=this.bg.width/2-this.width/2-i,this.ctaElement.position.y=this.bg.height/2-this.height/2+270+t,this.ctaElement.isHidden=!0}},o.onLanguageChange=function(){this.app.renderer.render(this.contentContainer,this.cachedTexture)},o.shine=function(){if(this.glow&&!this.glow.visible){this.lock&&(this.lock.visible=!1),this.glow.visible=!0,this.stars=[],this.starCounts=[];for(var e=[],t=1;t<=10;t++)e.push(48*t);l.default.shuffle(e);for(var i=0;i<10;i++){var n=s.Sprite.from("flash-big-2.png");n.scale.set(.2+.8*Math.random()),n.anchor.set(.5),n.blendMode=s.BLEND_MODES.ADD,n.position.x=35*i,n.position.y=e[i],this.centerCotainer.addChild(n),this.stars.push(n),this.starCounts.push(1e3*Math.random())}this.parent&&this.updateTransform()}},o.unshine=function(){if(this.glow){this.glow.visible=!1;for(var e=0;e<this.stars.length;e++)this.centerCotainer.removeChild(this.stars[e]);this.stars.length=0}},o.select=function(){this.ctaElement.scale.set(1),Device.instance.android?this.alpha=.15:this.filterContainer.filters=[this.bwFilter],this.active=!0},o.unselect=function(){this.active=!1,this.ctaElement.scale.set(0),Device.instance.android?this.alpha=1:this.filterContainer.filters=null,this.ctaElement.visible=!0},o.updateStats=function(){this.skillBar.setData(this.data.skill),this.powerBar.setData(this.data.power),this.speedBar.setData(this.data.speed),this.app.renderer.render(this.contentContainer,this.cachedTexture)},o.updateTransform=function(){if(this.parent&&a.prototype.updateTransform.call(this),this.stars)for(var e=0;e<this.stars.length;e++)this.starCounts[e]+=.07*f.default.instance.deltaTime,this.stars[e].alpha=Math.abs(Math.sin(this.starCounts[e])),this.stars[e].rotation+=.01*this.stars[e].scale.x*f.default.instance.deltaTime;this.splash&&(this.splash.position.x=this.splash.offset.x-20,this.splash.position.y=this.splash.offset.y+1,this.app.winterMode&&(this.splash.position.y+=3)),this.z<.25&&-.25<this.z?(!this.ctaElement.isHidden||this.lock&&this.lock.visible||TweenLite.to(this.ctaElement.scale,.5,{x:1.04,y:1.04,ease:Elastic.easeOut}),this.ctaElement.isHidden=!1):this.data&&(!0===this.data.selected||this.ctaElement.isHidden||(this.ctaElement.isHidden=!0,TweenLite.to(this.ctaElement.scale,.2,{x:0,y:0,ease:Expo.easeOut})))},o.update=function(e){if((this._data=e).selected?this.select():this.unselect(),this.lock){var t=e.locked;this.lock.visible=!!t,this.ctaElement.visible=!t}e.selected&&(this.ctaElement.visible=!1),this.updateStats(),this.characterName.setText(e.name),this.brandLogo.texture=s.Texture.from(e.brand),this.splash.texture=s.Texture.from(e.profile),e.offsetPlayerCard?(this.splash.offset.x=e.offsetPlayerCard.x||0,this.splash.offset.y=e.offsetPlayerCard.y||0):(this.splash.offset.x=0,this.splash.offset.y=0),this.updateTransform(),this.orange=!0,this.dirty=!0,this.glow&&(!1!==this.data.shined||this.data.locked?this.glow.visible&&this.unshine():this.shine()),this.onUpdated.dispatch(this),this.app.renderer.render(this.contentContainer,this.cachedTexture)},i=CharacterCard,(n=[{key:"data",get:function(){return this._data}},{key:"ctaElement",get:function(){return this._ctaElement}}])&&_defineProperties(i.prototype,n),r&&_defineProperties(i,r),CharacterCard}(s.Container);t.default=n},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var u=i(0);var n=function(l){var e,t;function LevelBar(e,t){var i,n,r,a;i=l.call(this)||this,n=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i),a=void 0,(r="level")in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a;for(var o=0;o<10;o++){var s=u.Sprite.from(e);s.x=21.5*o,i.addChild(s)}return i.setData(t),i}return t=l,(e=LevelBar).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,LevelBar.prototype.setData=function(e){this.level=Math.min(Math.max(10*e,0),10);for(var t=0;t<10;t++)this.children[t].visible=t<this.level},LevelBar}(u.Container);t.default=n},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var r=i(0),n=_interopRequireDefault(i(81)),a=_interopRequireDefault(i(82)),o=_interopRequireDefault(i(83));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var s=function(t){var e,i;function DefaultBackground(){var e;return _defineProperty(_assertThisInitialized(e=t.call(this,"default")||this),"searchlights",void 0),_defineProperty(_assertThisInitialized(e),"spotlights",void 0),_defineProperty(_assertThisInitialized(e),"cameraFlashes",void 0),e}i=t,(e=DefaultBackground).prototype=Object.create(i.prototype),(e.prototype.constructor=e).__proto__=i;var n=DefaultBackground.prototype;return n.init=function(){var e=new r.Container,t=new r.Container;this.spotlights=new a.default,t.addChild(this.spotlights),this.spotlights.scale.set(.591),this.cameraFlashes=new o.default({width:this.bg.texture.width,height:this.bg.texture.height/3,heightOffset:284}),this.searchlights=new a.default(!0),e.addChild(this.searchlights),e.alpha=.2,this.searchlights.scale.set(.591),this.fg.addChild(e),this.fg.addChild(t),this.fg.addChild(this.cameraFlashes),this.showDecorations()},n.showDecorations=function(){t.prototype.showDecorations.call(this),this.cameraFlashes.show(),this.spotlights.show(),this.searchlights.show()},n.hideDecorations=function(){this.cameraFlashes.hide(),this.spotlights.hide(),this.searchlights.hide(),t.prototype.hideDecorations.call(this)},DefaultBackground}(n.default);t.default=s},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var r=i(0),n=_interopRequireDefault(i(81)),a=_interopRequireDefault(i(82)),o=_interopRequireDefault(i(83));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var s=function(t){var e,i;function WinterBackground(){var e;return _defineProperty(_assertThisInitialized(e=t.call(this,"winter")||this),"searchlights",void 0),_defineProperty(_assertThisInitialized(e),"spotlights",void 0),_defineProperty(_assertThisInitialized(e),"cameraFlashes",void 0),e}i=t,(e=WinterBackground).prototype=Object.create(i.prototype),(e.prototype.constructor=e).__proto__=i;var n=WinterBackground.prototype;return n.init=function(){var e=new r.Container,t=new r.Container;this.spotlights=new a.default,t.addChild(this.spotlights),t.alpha=.5,this.spotlights.scale.set(.591),this.cameraFlashes=new o.default({width:this.bg.texture.width,height:this.bg.texture.height/3,heightOffset:248}),this.searchlights=new a.default(!0),e.addChild(this.searchlights),e.alpha=.1,this.searchlights.scale.set(.591),this.fg.addChild(e),this.fg.addChild(t),this.fg.addChild(this.cameraFlashes),this.showDecorations()},n.showDecorations=function(){t.prototype.showDecorations.call(this),this.cameraFlashes.show(),this.spotlights.show(),this.searchlights.show()},n.hideDecorations=function(){this.cameraFlashes.hide(),this.spotlights.hide(),this.searchlights.hide(),t.prototype.hideDecorations.call(this)},WinterBackground}(n.default);t.default=s},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var r=i(0),n=_interopRequireDefault(i(81)),a=_interopRequireDefault(i(82)),o=_interopRequireDefault(i(83));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var s=function(t){var e,i;function BeachBackground(){var e;return _defineProperty(_assertThisInitialized(e=t.call(this,"beach")||this),"searchlights",void 0),_defineProperty(_assertThisInitialized(e),"spotlights",void 0),_defineProperty(_assertThisInitialized(e),"cameraFlashes",void 0),e}i=t,(e=BeachBackground).prototype=Object.create(i.prototype),(e.prototype.constructor=e).__proto__=i;var n=BeachBackground.prototype;return n.init=function(){var e=new r.Container,t=new r.Container;this.spotlights=new a.default,t.addChild(this.spotlights),t.alpha=.5,this.spotlights.scale.set(.591),this.cameraFlashes=new o.default({width:this.bg.texture.width,height:this.bg.texture.height/5,heightOffset:275,maxFlashSize:1.4}),this.searchlights=new a.default(!0),e.addChild(this.searchlights),e.alpha=.2,this.searchlights.scale.set(.591),this.fg.addChild(e),this.fg.addChild(t),this.fg.addChild(this.cameraFlashes),this.showDecorations()},n.showDecorations=function(){t.prototype.showDecorations.call(this),this.cameraFlashes.show(),this.spotlights.show(),this.searchlights.show()},n.hideDecorations=function(){this.cameraFlashes.hide(),this.spotlights.hide(),this.searchlights.hide(),t.prototype.hideDecorations.call(this)},BeachBackground}(n.default);t.default=s},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var r=i(0),n=_interopRequireDefault(i(81)),a=_interopRequireDefault(i(82)),o=_interopRequireDefault(i(83));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var s=function(t){var e,i;function TokyoBackground(){var e;return _defineProperty(_assertThisInitialized(e=t.call(this,"tokyo")||this),"searchlights",void 0),_defineProperty(_assertThisInitialized(e),"spotlights",void 0),_defineProperty(_assertThisInitialized(e),"cameraFlashes",void 0),e}i=t,(e=TokyoBackground).prototype=Object.create(i.prototype),(e.prototype.constructor=e).__proto__=i;var n=TokyoBackground.prototype;return n.init=function(){var e=new r.Container,t=new r.Container;this.spotlights=new a.default,t.addChild(this.spotlights),this.spotlights.scale.set(.591),this.cameraFlashes=new o.default({width:this.bg.texture.width,height:this.bg.texture.height/5,heightOffset:275,maxFlashSize:1.4}),this.searchlights=new a.default(!0),e.addChild(this.searchlights),e.alpha=.5,this.searchlights.scale.set(.591),this.fg.addChild(e),this.fg.addChild(t),this.fg.addChild(this.cameraFlashes),this.showDecorations()},n.showDecorations=function(){t.prototype.showDecorations.call(this),this.cameraFlashes.show(),this.spotlights.show(),this.searchlights.show()},n.hideDecorations=function(){this.cameraFlashes.hide(),this.spotlights.hide(),this.searchlights.hide(),t.prototype.hideDecorations.call(this)},TokyoBackground}(n.default);t.default=s},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var r=i(0),n=_interopRequireDefault(i(81)),a=_interopRequireDefault(i(82)),o=_interopRequireDefault(i(83));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var s=function(t){var e,i;function UrbanBackground(){var e;return _defineProperty(_assertThisInitialized(e=t.call(this,"urban")||this),"searchlights",void 0),_defineProperty(_assertThisInitialized(e),"spotlights",void 0),_defineProperty(_assertThisInitialized(e),"cameraFlashes",void 0),e}i=t,(e=UrbanBackground).prototype=Object.create(i.prototype),(e.prototype.constructor=e).__proto__=i;var n=UrbanBackground.prototype;return n.init=function(){var e=new r.Container,t=new r.Container;this.spotlights=new a.default,t.addChild(this.spotlights),t.alpha=.5,this.spotlights.scale.set(.591),this.cameraFlashes=new o.default({width:this.bg.texture.width,height:this.bg.texture.height/5,heightOffset:275,maxFlashSize:1.4}),this.searchlights=new a.default(!0),e.addChild(this.searchlights),e.alpha=.2,this.searchlights.scale.set(.591),this.fg.addChild(e),this.fg.addChild(t),this.fg.addChild(this.cameraFlashes),this.showDecorations()},n.showDecorations=function(){t.prototype.showDecorations.call(this),this.cameraFlashes.show(),this.spotlights.show(),this.searchlights.show()},n.hideDecorations=function(){this.cameraFlashes.hide(),this.spotlights.hide(),this.searchlights.hide(),t.prototype.hideDecorations.call(this)},UrbanBackground}(n.default);t.default=s},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n,h=(n=i(548))&&n.__esModule?n:{default:n},d=i(12);function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var r=function(u){var e,t;function Snowfall(){var e;_defineProperty(_assertThisInitialized(e=u.call(this)||this),"mesh",void 0),_defineProperty(_assertThisInitialized(e),"geometry",void 0),_defineProperty(_assertThisInitialized(e),"time",void 0);for(var t=new Float32Array(6912),i=new Float32Array(2304),n=new Float32Array(6912),r=new Float32Array(6912),a=["ffffff"],o=e.time=0,s=0;s<6912;s+=3){t[3*o+0]=1600*Math.random()-800,t[3*o+1]=1600*Math.random()-800,t[3*o+2]=400*Math.random(),i[o]=5+10*Math.random(),n[3*o+0]=Math.random()/2,n[3*o+1]=Math.random()/2,n[3*o+2]=Math.random()/2;var l=(0,h.default)(a[Math.floor(Math.random()*a.length)]);r[3*o+0]=l[0]/255,r[3*o+1]=l[1]/255,r[3*o+2]=l[2]/255,o++}return e.geometry=new d.BufferGeometry,e.geometry.addAttribute("position",new d.BufferAttribute(t,3)),e.geometry.addAttribute("size",new d.BufferAttribute(i,1)),e.geometry.addAttribute("info",new d.BufferAttribute(n,3)),e.geometry.addAttribute("color",new d.BufferAttribute(r,3)),e.mesh=new d.Points(e.geometry,new d.ShaderMaterial({vertexShader:"\n                attribute float size;\n                attribute vec3 info;\n                attribute vec3 color;\n                uniform float time;\n                varying vec3 vColor;\n                varying float posZ;\n\n                void main()\n                {\n                    vColor = color;\n                    vec4 p = vec4(position, 1.0);\n                    p.x += cos(time * info.x) * size;\n                    p.y += sin(time * info.y) * size;\n                    p.z -= time * 20.0;\n\n                    if (p.z < -0.0)\n                    {\n                        float over = p.z * -1.0;\n                        p.z = 400.0 - (over - (400.0 * floor(over / 400.0)));\n                    }\n\n                    posZ = p.z;\n\n                    gl_PointSize = size;\n                    gl_Position = projectionMatrix * modelViewMatrix * p;\n                }\n            ",fragmentShader:"\n                varying vec3 vColor;\n                varying float posZ;\n\n                void main()\n                {\n                    if ( length(vec2(0.5) - gl_PointCoord) > 0.5 )\n                    {\n                        discard;\n                    }\n\n                    // gl_FragColor = vec4(vColor, 0.8);\n                    gl_FragColor = vec4(1.0, 1.0, 1.0, 0.8);\n\n                    if(posZ < 20.0)\n                    {\n                        gl_FragColor.a = posZ / 20.0;\n                    }\n                }\n            ",uniforms:{time:{type:"f",value:0}},transparent:!0})),e.position.x=800,e.position.y=450,e.add(e.mesh),e}return t=u,(e=Snowfall).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,Snowfall.prototype.update=function(){this.time+=.055,this.mesh.material.uniforms.time.value=this.time},Snowfall}(d.Object3D);t.default=r},function(e,t,i){"use strict";var s=new RegExp("[^#a-f\\d]","gi"),l=new RegExp("^#?[a-f\\d]{3}[a-f\\d]?$|^#?[a-f\\d]{6}([a-f\\d]{2})?$","i");e.exports=function(e,t){if(void 0===t&&(t={}),"string"!=typeof e||s.test(e)||!l.test(e))throw new TypeError("Expected a valid hex string");var i=1;8===(e=e.replace(/^#/,"")).length&&(i=parseInt(e.slice(6,8),16)/255,e=e.slice(0,6)),4===e.length&&(i=parseInt(e.slice(3,4).repeat(2),16)/255,e=e.slice(0,3)),3===e.length&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);var n=parseInt(e,16),r=n>>16,a=n>>8&255,o=255&n;return"array"===t.format?[r,a,o,i]:{red:r,green:a,blue:o,alpha:i}}},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var d=i(12);function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=function(h){var e,t;function Petalfall(){var e;_defineProperty(_assertThisInitialized(e=h.call(this)||this),"mesh",void 0),_defineProperty(_assertThisInitialized(e),"geometry",void 0),_defineProperty(_assertThisInitialized(e),"time",void 0);var t=new Float32Array(1200),i=new Float32Array(400),n=new Float32Array(1200),r=new Float32Array(400);e.time=0;for(var a=new d.TextureLoader,o=ASSET_URL+"img/content/stadiums/core-assets/tokyo-stadium/tokyo-decorations/",s=[a.load(RESOLVE_PATH(o+"petal1_01.png")),a.load(RESOLVE_PATH(o+"petal2_01.png")),a.load(RESOLVE_PATH(o+"petal3_01.png")),a.load(RESOLVE_PATH(o+"petal4_01.png"))],l=0,u=0;u<600;u+=3)t[3*l+0]=1600*Math.random()-800,t[3*l+1]=1600*Math.random()-800,t[3*l+2]=400*Math.random(),i[l]=32+15*Math.random(),n[3*l+0]=Math.random()/2,n[3*l+1]=Math.random()/2,n[3*l+2]=Math.random()/2,r[l]=Math.round(Math.random()*(s.length-1)),l++;return e.geometry=new d.BufferGeometry,e.geometry.addAttribute("position",new d.BufferAttribute(t,3)),e.geometry.addAttribute("size",new d.BufferAttribute(i,1)),e.geometry.addAttribute("info",new d.BufferAttribute(n,3)),e.geometry.addAttribute("texIndex",new d.BufferAttribute(r,1)),e.mesh=new d.Points(e.geometry,new d.ShaderMaterial({vertexShader:"\n                attribute float size;\n                attribute vec3 info;\n                attribute float texIndex;\n                uniform float time;\n                varying float posZ;\n                varying float cosX;\n                varying float textureIndex;\n\n                void main()\n                {\n                    vec4 p = vec4(position, 1.0);\n                    cosX = cos(time * info.x * 2.0);\n                    p.x += cosX * size;\n                    p.y += sin(time * info.y) * size * 0.25;\n                    p.z -= time * 20.0;\n\n                    if (p.z < -0.0)\n                    {\n                        float over = p.z * -1.0;\n                        p.z = 400.0 - (over - (400.0 * floor(over / 400.0)));\n                    }\n\n                    posZ = p.z;\n                    textureIndex = texIndex;\n\n                    gl_PointSize = size;\n                    gl_Position = projectionMatrix * modelViewMatrix * p;\n                }\n            ",fragmentShader:"\n                uniform sampler2D inputTextures[4];\n                varying float posZ;\n                varying float cosX;\n                varying float textureIndex;\n\n                void main()\n                {\n                    vec2 uv = gl_PointCoord;\n                    uv.y = 1.0 - uv.y;\n\n                    float mid = 0.5; \n                    float PI = 3.1415926535897932384626433832795;\n                    float angleRange = PI / 5.0;\n                    float angle = cosX * angleRange;\n\n                    float newX = cos(angle) * (uv.x - mid) + sin(angle) * (uv.y - mid) + mid;\n                    float newY = cos(angle) * (uv.y - mid) - sin(angle) * (uv.x - mid) + mid;\n                    vec2 rotatedUv = vec2(newX, newY);\n\n                    float index = floor(textureIndex + 0.1);\n                    vec4 texture = vec4(0);\n                    if (index == 0.0) texture = texture2D(inputTextures[0], rotatedUv);\n                    else if (index == 1.0) texture = texture2D(inputTextures[1], rotatedUv);\n                    else if (index == 2.0) texture = texture2D(inputTextures[2], rotatedUv);\n                    else if (index == 3.0) texture = texture2D(inputTextures[3], rotatedUv);\n\n                    float texAlpha = texture.a;\n\n                    gl_FragColor = texture;\n\n                    if ( texAlpha < 0.1 )\n                    {\n                        discard;\n                    }\n\n                    if(posZ < 20.0)\n                    {\n                        gl_FragColor.a = posZ / 20.0;\n                    }\n                }\n            ",uniforms:{inputTextures:{type:"tv",value:s},time:{type:"f",value:0}},transparent:!0})),e.position.x=800,e.position.y=450,e.add(e.mesh),e}return t=h,(e=Petalfall).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,Petalfall.prototype.update=function(){this.time+=.055,this.mesh.material.uniforms.time.value=this.time},Petalfall}(d.Object3D);t.default=n},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var l=i(0),u=_interopRequireDefault(i(11)),h=_interopRequireDefault(i(26)),d=_interopRequireDefault(i(19)),c=_interopRequireDefault(i(3)),n=_interopRequireDefault(i(6));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var r=function(s){var e,t;function LockedPopup(e){var t;_defineProperty(_assertThisInitialized(t=s.call(this)||this),"app",void 0),_defineProperty(_assertThisInitialized(t),"currentCharacterId",void 0),_defineProperty(_assertThisInitialized(t),"onHidden",void 0),_defineProperty(_assertThisInitialized(t),"onShow",void 0),t.app=e;var i=l.Sprite.from("panel-language-popup.png");i.anchor.set(.5),t.addChild(i);var n=new u.default("STR_PLAYER_LOCKED_TITLE",{fill:"#493008",fontSize:36,fontFamily:window.MAIN_FONT,maxWidth:400});n.anchor.set(.5),n.x=0,n.y=-158,t.addChild(n);var r=new u.default("STR_PLAYER_LOCKED_TEXT",{fill:"#493008",fontSize:32,fontFamily:"avenir",wordWrap:!0,wordWrapWidth:360,align:"center",breakWords:!0});r.anchor.set(.5),r.y=-20,t.addChild(r);var a=new h.default("button-blue-long.png",null,null,"STR_TITLE_UNLOCKABLES",1.1,null,null,null,320);a.defaultScale=1,a.y=120,a.onPress.add(t.gotoUnlockables,_assertThisInitialized(t)),t.addChild(a);var o=new d.default("button-close.png",null,null,null,1.1);return o.defaultScale=1,o.x=i.width/2-o.width/2,o.y=-i.height/2+o.height/2,o.onPress.add(t.hide,_assertThisInitialized(t)),t.addChild(o),t.visible=!1,t.onShow=new c.default,t.onHidden=new c.default,t}t=s,(e=LockedPopup).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=LockedPopup.prototype;return i.gotoUnlockables=function(){this.app.charactersScreen.forceShowCharacter(this.currentCharacterId),this.app.topMenu.prevScreen=n.default.SCREEN_ID[this.app.screenManager.currentScreen.id],this.app.screenManager.gotoScreenByID(n.default.SCREEN_ID.CHARACTERS),this.app.breadcrumb.visible=!1,this.app.breadcrumb.hidden=!0,this.hide()},i.show=function(e){this.visible||(this.app.breadcrumb.interactiveChildren=!1,this.app.topMenu.disableButtons(),this.currentCharacterId=e,this.visible=!0,this.scale.set(.8),TweenLite.to(this.scale,.8,{x:1,y:1,ease:Elastic.easeOut}),this.onShow.dispatch())},i.hide=function(){this.app.breadcrumb.interactiveChildren=!0,this.app.topMenu.enableButtons(),this.currentCharacterId=null,this.visible=!1,this.onHidden.dispatch()},LockedPopup}(l.Container);t.default=r},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n,o=(n=i(3))&&n.__esModule?n:{default:n};function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var r=function(){function SliderController(e){var t=void 0===e?{}:e,i=t.currentItem,n=void 0===i?0:i,r=t.itemLength,a=void 0===r?0:r;_defineProperty(this,"start",void 0),_defineProperty(this,"last",void 0),_defineProperty(this,"mouseNormalized",void 0),_defineProperty(this,"lastCall",void 0),_defineProperty(this,"currentItem",void 0),_defineProperty(this,"itemLength",void 0),_defineProperty(this,"deltas",void 0),_defineProperty(this,"lock",void 0),_defineProperty(this,"distance",void 0),_defineProperty(this,"lastMouseMove",void 0),_defineProperty(this,"delta",void 0),_defineProperty(this,"dragging",void 0),_defineProperty(this,"idle",void 0),_defineProperty(this,"_onKeyDown",void 0),_defineProperty(this,"_onMouseMove",void 0),_defineProperty(this,"_onMouseDown",void 0),_defineProperty(this,"_onMouseUp",void 0),_defineProperty(this,"_onMouseWheel",void 0),_defineProperty(this,"previous",void 0),_defineProperty(this,"next",void 0),_defineProperty(this,"releaseItems",void 0),_defineProperty(this,"translateItems",void 0),this.lastCall=0,this.currentItem=n,this.itemLength=a,this.mouseNormalized={x:0,y:0},this._onKeyDown=this.onKeyDown.bind(this),this._onMouseMove=this.onMouseMove.bind(this),this._onMouseDown=this.onMouseDown.bind(this),this._onMouseUp=this.onMouseUp.bind(this),this._onMouseWheel=this.onMouseWheel.bind(this),this.previous=new o.default,this.next=new o.default,this.releaseItems=new o.default,this.translateItems=new o.default,this.deltas=[0,0,0,0,0],this.off()}var e=SliderController.prototype;return e.on=function(){window.addEventListener("keydown",this._onKeyDown),window.addEventListener("mousewheel",this._onMouseWheel)},e.off=function(){window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("mousewheel",this._onMouseWheel)},e.onKeyDown=function(e){switch(e.keyCode){case 37:this.onPrevious();break;case 39:this.onNext()}},e.peak=function(){return 0<this.lock?(this.lock--,!1):this.deltas[0]<this.deltas[2]&&this.deltas[1]<this.deltas[2]&&this.deltas[3]>this.deltas[2]&&this.deltas[4]>this.deltas[2]},e.onMouseWheel=function(e){this.peak()&&(this.lock=15,0<e.deltaY?this.onNext():this.onPrevious()),this.deltas.shift(),this.deltas.push(Math.abs(e.deltaY)),e.preventDefault()},e.onMouseDown=function(e){this.dragging=!0,this.distance=0,this.start={x:e.clientX||e.touches[0].clientX,y:e.clientY||e.touches[0].clientY},this.last=this.start},e.onMouseUp=function(){this.dragging=!1,Math.abs(this.distance)>.1*window.innerWidth?this.delta<0?this.onNext():this.onPrevious():this.itemReleased(),this.distance=0,this.start={x:0,y:0}},e.onMouseMove=function(e){this.lastMouseMove=Date.now(),this.idle=!1;var t=e.clientX||e.touches[0].clientX,i=e.clientY||e.touches[0].clientY;if(this.mouseNormalized.x=2*(t/window.innerWidth-.5),this.mouseNormalized.y=2*(i/window.innerHeight-.5),this.dragging){var n={x:t,y:i};this.distance=n.x-this.start.x,this.delta=0<n.x-this.last.x?1:-1,this.last=n,this.translateItems.dispatch(.2*this.distance)}},e.itemReleased=function(){this.distance=0,this.start={x:0,y:0},this.releaseItems.dispatch()},e.onPrevious=function(){this.currentItem--,this.previous.dispatch(this.currentItem)},e.onNext=function(){this.currentItem++,this.next.dispatch(this.currentItem)},SliderController}();t.default=r},function(e,t,r){"use strict";var i;void 0===(i=function(e,t,i){r(181);function Xkg(e){this.topMargin=15,this.bottomMargin=15,this.yTouchOffset=0,this.dragging=!1,this.trackpad=e.trackpad,this.targetPosition={x:0,y:0},this.container=e.target,this.guideLine=new PIXI.Sprite,this.guideLine.anchor.set(1,0),this.guideLine.position.x=630,this.guideLine.position.y=1,this.guideLine.height=229,this.guideLine.hitArea=new PIXI.Rectangle(-10,0,40,300),this.guideLine.interactive=!1,this.guideLine.buttonMode=!1,this.guideButton=new PIXI.Sprite,this.guideButton.anchor.set(1,.5),this.guideButton.position.x=642,this.guideButton.hitArea=new PIXI.Rectangle(-100,-100,400,300),this.guideButton.position.y=this.topMargin+.5*this.guideButton.height,this.guideButton.interactive=!0,this.guideButton.buttonMode=!0,this.container.addChild(this.guideLine),this.container.addChild(this.guideButton),this.guideButton.touchstart=this.guideButton.mousedown=this.onDown.bind(this),this.guideButton.touchend=this.guideButton.touchendoutside=this.guideButton.mouseup=this.guideButton.mouseupoutside=this.onUp.bind(this),this.guideButton.mousemove=this.guideButton.touchmove=this.onMove.bind(this),this.panelHeight=this.container.viewHeight,this.scrollHeight=this.container.scrollHeight-this.panelHeight,this.scrollableDistance=this.panelHeight-this.topMargin-this.bottomMargin-this.guideButton.height,this.scrollBarRatio=this.scrollHeight/this.scrollableDistance,n.instance.add(this.update,this)}var n=r(4);r(54);Xkg.prototype.onDown=function(e){alert(2),this.dragging=!0,this.yTouchOffset=e.data.getLocalPosition(this.guideButton).y,this.onMove(e)},Xkg.prototype.onUp=function(){alert(2434),this.dragging=!1,this.yTouchOffset=0},Xkg.prototype.onMove=function(e){!0===this.dragging&&(this.targetPosition=e.data.getLocalPosition(this.container),this.targetPosition.y<this.topMargin+.5*this.guideButton.height&&(this.targetPosition.y=this.topMargin+.5*this.guideButton.height),this.targetPosition.y>this.scrollableDistance+this.topMargin+.5*this.guideButton.height&&(this.targetPosition.y=this.scrollableDistance+this.topMargin+.5*this.guideButton.height))},Xkg.prototype.update=function(){if(this.dragging){var e=-((this.guideButton.position.y-this.topMargin-.5*this.guideButton.height)*this.scrollBarRatio);this.trackpad.easeToPosition(0,e),this.guideButton.position.y=this.targetPosition.y}else this.guideButton.position.y=-1*this.trackpad.valueY/this.scrollBarRatio+this.topMargin+.5*this.guideButton.height},i.exports=Xkg}.call(t,r,t,e))||(e.exports=i)},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var d=i(0),c=_interopRequireDefault(i(6)),p=_interopRequireDefault(i(18)),f=_interopRequireDefault(i(99)),m=_interopRequireDefault(i(100)),_=_interopRequireDefault(i(54)),g=_interopRequireDefault(i(11)),v=_interopRequireDefault(i(182));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=function(h){var e,t;function ChallengesScreen(e){var i;_defineProperty(_assertThisInitialized(i=h.call(this)||this),"app",void 0),_defineProperty(_assertThisInitialized(i),"challengesContent",void 0),_defineProperty(_assertThisInitialized(i),"title",void 0),_defineProperty(_assertThisInitialized(i),"brief",void 0),_defineProperty(_assertThisInitialized(i),"bg",void 0),_defineProperty(_assertThisInitialized(i),"scrollCombo",void 0),_defineProperty(_assertThisInitialized(i),"challengePanels",[]),_defineProperty(_assertThisInitialized(i),"width",void 0),_defineProperty(_assertThisInitialized(i),"height",void 0),_defineProperty(_assertThisInitialized(i),"_previousScreenId",void 0),i.app=e,i._previousScreenId=c.default.SCREEN_ID.TITLE,i.bg=d.Sprite.from("panel-stickerbook.png"),i.bg.anchor.set(.5),i.addChild(i.bg),i.title=p.default.h1("STR_TITLE_CHALLENGES"),i.title.anchor.set(.5),i.title.y=-312,i.bg.addChild(i.title),i.brief=new g.default("STR_CHALLENGES_BRIEF",{fill:"#000",fontSize:26,fontFamily:"avenir",wordWrap:!0,wordWrapWidth:750,maxHeight:200,align:"center"}),i.brief.anchor.set(.5),i.brief.y=-225,i.bg.addChild(i.brief),i.challengesContent=new d.Container,i.challengesContent.x=-990,i.challengesContent.y=-160,i.bg.addChild(i.challengesContent),i.app.challengesSystem.challenges.forEach(function(e){var t=new v.default;t.setContent(e),i.challengesContent.addChild(t),i.challengePanels.push(t)});var t=new d.Graphics;if(t.drawRect(0,0,850,480),t.x-=t.width/2,t.y-=t.height/2-60,i.bg.addChild(t),i.challengesContent.mask=t,3<i.challengePanels.length){var n=new d.Graphics;n.drawRect(0,0,850,480),n.x-=n.width/2,n.y-=n.height/2-60,n.alpha=0,n.hitArea=new d.Rectangle(0,0,850,480),i.bg.addChild(n);var r={target:n},a=new _.default(r),o=d.Sprite.from("scroll-bar-bit.png");o.anchor.set(0,.5);var s=d.Sprite.from("scroll-bar.png"),l=new f.default({draggerHeight:40,dragLength:253,bar:s,dragger:o});l.position.set(438,-80),i.bg.addChild(l);var u=new m.default({scrollbar:l,trackpad:a,min:0,max:3410});i.scrollCombo=u,i.scrollCombo.scrollbar.visible=!0}return i}t=h,(e=ChallengesScreen).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i,n,r,a=ChallengesScreen.prototype;return a.refresh=function(){this.challengePanels.forEach(function(e){e.refresh()})},a.updateTransform=function(){h.prototype.updateTransform.call(this),this.scrollCombo&&(this.scrollCombo.update(),this.challengesContent.y=this.scrollCombo.value-160)},a.onHide=function(){},a.onShow=function(){this.app.topMenu.prevScreen=c.default.SCREEN_ID.TITLE,this.app.topMenu.setState("prevsettings"),this.refresh(),this.resize(this.width,this.height),this.bg.scale.set(0),TweenLite.to(this.bg.scale,1,{x:1,y:1,ease:Elastic.easeOut,delay:.2})},a.onShown=function(){this.app.topMenu.prevScreen||(this.app.topMenu.prevScreen=c.default.SCREEN_ID.TITLE)},a.resize=function(i,e){this.width=i,this.height=e,this.bg.position.set(i/2,e/2),this.challengePanels.forEach(function(e,t){e.position.set(i/2,160*t)}),this.scrollCombo&&(this.scrollCombo.max=this.challengesContent.height-450,this.scrollCombo.trackpad.scrollMinY=-this.scrollCombo.max)},i=ChallengesScreen,(n=[{key:"previousScreenId",get:function(){return this._previousScreenId}}])&&_defineProperties(i.prototype,n),r&&_defineProperties(i,r),ChallengesScreen}(d.Container);t.default=n},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n,o=i(32);var r=function(a){var e,t;function ChallengeText(e){var t,i,n,r;return t=a.call(this,e)||this,i=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),r=void 0,(n="data")in i?Object.defineProperty(i,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[n]=r,t.onTextRetrieved.add(function(e){e=t.replaceVariableContent(e),t.applyText(e)}),t}t=a,(e=ChallengeText).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=ChallengeText.prototype;return i.replaceVariableContent=function(e){for(var t in this.data)if(t.includes("Amount")||"duration"===t){e=e.replace("["+t+"]",this.data[t]);var i=t.replace("Amount","");e.includes("<"+i+">")&&(e="powerup"===i&&"tr"===window.LANGUAGE?"ANY"===this.data.powerup?e.replace("<"+i+">",translations["STR_CHALLENGES_"+i.toUpperCase()+"_UNSPECIFIED"]):e.replace("<"+i+">",translations["STR_CHALLENGES_"+i.toUpperCase()]):e.replace("<"+i+">",1<this.data[t]?translations["STR_CHALLENGES_"+i.toUpperCase()+"_PLURAL"]:translations["STR_CHALLENGES_"+i.toUpperCase()]))}else if("character"===t)if("ANY"===this.data[t])e=e.replace("[character]",translations.STR_CHALLENGES_ANY_CHARACTER);else if(o.CharacterData[this.data[t]]){var n=o.CharacterData[this.data[t]].name;if(this.data.onlyCharacter)e=e.replace("[character]",translations[n]);else{var r=translations.STR_CHALLENGES_TEAM_FEATURING_CHARACTER;r=r.replace("[character]",translations[n]),e=e.replace("[character]",r)}}else e=e.replace("[character]","ERROR");else"powerup"===t&&("ANY"===this.data[t]?e=e.replace("ru"===window.LANGUAGE?" [powerup]":" [powerup]",""):translations["STR_POWERUP_"+this.data[t].toUpperCase()]?(e=e.replace("[powerup]",translations["STR_POWERUP_"+this.data[t].toUpperCase()])).includes("<action>")&&(e=e.replace("<action>",translations["STR_CHALLENGES_"+this.data[t].toUpperCase()+"_ACTION"])):e=e.replace("[powerup]","ERROR"));return this.data&&"SCOPE_GAME"===this.data.scope?-1!==e.indexOf("[inAGame]")?e=e.replace("[inAGame]",translations.STR_CHALLENGES_IN_A_GAME):e+=translations.STR_CHALLENGES_IN_A_GAME:"SCOPE_GAME"!==this.data.scope&&e.indexOf("[inAGame]")&&(e=e.replace("[inAGame]","")),e},i.setData=function(e,t){this.data=t,this.setText(e)},ChallengeText}(((n=i(11))&&n.__esModule?n:{default:n}).default);t.default=r},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var h=i(556),r=i(98),a=_interopRequireDefault(i(1)),o=_interopRequireDefault(i(561)),s=_interopRequireDefault(i(3)),l=i(570),u=_interopRequireDefault(i(33));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(i),!0).forEach(function(e){_defineProperty(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=function(){function ChallengesSystem(e,t){var i=this;_defineProperty(this,"refreshType",void 0),_defineProperty(this,"maxEntities",void 0),_defineProperty(this,"completedEntities",void 0),_defineProperty(this,"active",void 0),_defineProperty(this,"_challenges",void 0),_defineProperty(this,"app",void 0),_defineProperty(this,"save",void 0),_defineProperty(this,"today",void 0),_defineProperty(this,"debug",void 0),_defineProperty(this,"onGameEnd",new s.default),this.app=e,this.refreshType=t.type,this.maxEntities=3|t.maxEntities,this.debug=t.debug||!1,this._challenges=[],this.completedEntities=0,this.active=!0,this.save=this.getSave(),this.today=window.URLParams.todayDate?(0,a.default)(window.URLParams.todayDate,"DD-MM-YYYY"):(0,a.default)(),this.onGameEnd.add(function(){i.resetSession()})}var e,t,i,n=ChallengesSystem.prototype;return n.init=function(){this.generateChallenges(this.save),this.resetSession()},n.validate=function(e){var t=!1,i=(0,a.default)(e,"DD-MM-YYYY"),n=this.today;return"WEEKLY"===this.refreshType?t=i.isSame(n,"week"):"DAILY"===this.refreshType&&(t=i.isSame(n,"day")),t},n.generateChallenges=function(e){e&&!this.validate(e.period)&&(e=null);for(var t=this.today.format("DD-MM-YYYY"),i=0;i<this.maxEntities;i++){var n=(0,o.default)(t+"_"+(i+1)),r=l.pool["difficulty_"+(i+1)],a=Math.round(n()*(r.length-1));this.buildChallenge(i+1,r[a],n,e?e["challenge_"+(i+1)]:null)}},n.buildChallenge=function(e,t,i,n){var r=this,a=t.type,o=_objectSpread({type:a,difficulty:e},t.attributes,{randomGenerator:i});if(null!==n){var s=n.savedAmount,l=n.completed;o=_objectSpread({},o,{savedAmount:s,isCompleted:l}),l&&this.completedEntities++}var u=new h.challengesData[a].class(o);CES.add(h.challengesData[a].eventKey,function(e){u.updateChallenge(e)}),u.onChallengeCompleted.add(function(e){r.writeSave(),r.rewardCompletion(e)}),u.onPermanentAmountUpdated.add(function(){r.writeSave()}),this._challenges.push(u)},n.resetChallenges=function(){this._challenges=[]},n.resetSession=function(){this._challenges.forEach(function(e){e.reset()}),this.writeSave()},n.challengesRemaining=function(){return this.maxEntities-this.completedEntities},n.getSave=function(){return r.GameData.challengesProgress},n.writeSave=function(){var n={period:this.today.format("DD-MM-YYYY")};this.challenges.forEach(function(e,t){var i={savedAmount:e.progress,completed:e.completed};n["challenge_"+(t+1)]=i}),r.GameData.challengesProgress=n,this.app.dataSystem.saveData("challengesProgress")},n.rewardCompletion=function(e){var t=this;this.completedEntities++;var i=u.default.getJson("config").config.CHALLENGES.REWARDS["DIFFICULTY_"+e],n=translations.STR_CHALLENGES_CHALLENGE,r=translations.STR_CHALLENGES_COMPLETED;this.app.notificationSystem.addToQueue({icon:"medal-"+e+".png",message:n+" "+e+"\n"+r+"!",callback:function(){t.app.game.rewardCoins(i)}})},n.debugChallengesPanel=function(){var a=[];this.challenges.forEach(function(e){var t,i=e.difficulty,n=e.type,r=e.goalAmount;"CharacterBasedChallenge"===e.constructor.name?t=e.conditionCharacterId:"PowerupBasedChallenge"===e.constructor.name?t=e.conditionPowerupId:"TimeBasedChallenge"===e.constructor.name&&(t=e.conditionDuration),a.push({difficulty:i,type:n,condition:t,goalAmount:r})})},e=ChallengesSystem,(t=[{key:"challenges",get:function(){return this._challenges}}])&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),ChallengesSystem}();t.default=n},function(e,t,i){"use strict";t.__esModule=!0,t.challengesData=void 0;var n=_interopRequireDefault(i(557)),r=_interopRequireDefault(i(558)),a=_interopRequireDefault(i(559)),o=i(17);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var s={TYPE_SCORE_GOALS:{class:n.default,eventKey:o.EventKeys.GAME_GOAL_SCORED},TYPE_WIN_GAMES:{class:n.default,eventKey:o.EventKeys.GAME_MATCH_WON},TYPE_PLAY_WITH_CHARACTER:{class:n.default,eventKey:o.EventKeys.GAME_MATCH_ENDED},TYPE_WIN_TOURNAMENT:{class:n.default,eventKey:o.EventKeys.GAME_TOURNAMENT_WON},TYPE_GOALS_BEFORE_TIME:{class:a.default,eventKey:o.EventKeys.GAME_GOAL_SCORED},TYPE_USE_POWERUPS:{class:r.default,eventKey:o.EventKeys.GAME_ITEM_PICKED_UP}};t.challengesData=s},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n,s=i(32);function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var r=function(a){var e,t;function CharacterBasedChallenge(e){var t,i,n,r;return t=a.call(this,e)||this,i=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),r=void 0,(n="_conditionCharacterId")in i?Object.defineProperty(i,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[n]=r,t.setCharacter(e.character,e.randomGenerator),t}t=a,(e=CharacterBasedChallenge).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i,n,r,o=CharacterBasedChallenge.prototype;return o.setCharacter=function(e,t){"ANY"===e?this._conditionCharacterId=e:t&&"RANDOM"===e&&this.randomCharacter(t)},o.randomCharacter=function(e){var t=Object.values(s.CharacterData);t=t.filter(function(e){return e.available&&!e.locked});var i=Math.round((t.length-1)*e());this._conditionCharacterId=t[i].id},o.updateChallenge=function(e){var t=this;this._completed||("TYPE_SCORE_GOALS"===this.type?"ANY"!==this.conditionCharacterId&&e.characterId!==this.conditionCharacterId||this.addAmount():"TYPE_WIN_GAMES"===this.type?"ANY"===this.conditionCharacterId?this.addAmount():e.team.forEach(function(e){e===t.conditionCharacterId&&t.addAmount()}):"TYPE_PLAY_WITH_CHARACTER"===this.type?"ANY"===this.conditionCharacterId?this.addAmount():e.team.forEach(function(e){e===t.conditionCharacterId&&t.addAmount()}):"TYPE_WIN_TOURNAMENT"===this.type&&("ANY"===this.conditionCharacterId?this.addAmount():e.team.forEach(function(e){e===t.conditionCharacterId&&t.addAmount()})))},i=CharacterBasedChallenge,(n=[{key:"conditionCharacterId",get:function(){return this._conditionCharacterId}}])&&_defineProperties(i.prototype,n),r&&_defineProperties(i,r),CharacterBasedChallenge}(((n=i(133))&&n.__esModule?n:{default:n}).default);t.default=r},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n,r=(n=i(133))&&n.__esModule?n:{default:n};var o=["SpeedBoost","Shield","Lightning","Freeze","Shrinkatron","Snowball","Banana"],s=["Snowball","Banana"],a=function(a){var e,t;function PowerupBasedChallenge(e){var t,i,n,r;return t=a.call(this,e)||this,i=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),r=void 0,(n="conditionPowerupId")in i?Object.defineProperty(i,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[n]=r,t.setPowerup(e.powerup,e.randomGenerator),t}t=a,(e=PowerupBasedChallenge).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=PowerupBasedChallenge.prototype;return i.setPowerup=function(e,t){"ANY"===e?this.conditionPowerupId=e:t&&("RANDOM"===e?this.randomPowerup(t):"RANDOM_ACTIONABLE"===e&&this.randomPowerup(t,!0))},i.randomPowerup=function(e,t){void 0===t&&(t=!1);var i=t?s:o,n=Math.round((i.length-1)*e());this.conditionPowerupId=i[n]},i.updateChallenge=function(e){this._completed||"TYPE_USE_POWERUPS"===this.type&&(!e.powerup||"ANY"!==this.conditionPowerupId&&e.powerup!==this.conditionPowerupId||this.addAmount())},PowerupBasedChallenge}(r.default);t.default=a},function(e,t,i){"use strict";var n;t.__esModule=!0,t.default=void 0;var r=function(a){var e,t;function TimeBasedChallenge(e){var t,i,n,r;return t=a.call(this,e)||this,i=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),r=void 0,(n="conditionDuration")in i?Object.defineProperty(i,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[n]=r,t.setDuration(e.duration,e.randomGenerator),t}t=a,(e=TimeBasedChallenge).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=TimeBasedChallenge.prototype;return i.setDuration=function(e,t){1===e.length?this.conditionDuration=e[0]:t&&1<e.length&&this.randomDuration(e,t)},i.randomDuration=function(e,t){var i=Math.round((e.length-1)*t());this.conditionDuration=e[i]},i.updateChallenge=function(e){this._completed||"TYPE_GOALS_BEFORE_TIME"===this.type&&e.time<=this.conditionDuration&&this.addAmount()},TimeBasedChallenge}(((n=i(133))&&n.__esModule?n:{default:n}).default);t.default=r},function(e,t,i){var n={"./af":183,"./af.js":183,"./ar":184,"./ar-dz":185,"./ar-dz.js":185,"./ar-kw":186,"./ar-kw.js":186,"./ar-ly":187,"./ar-ly.js":187,"./ar-ma":188,"./ar-ma.js":188,"./ar-sa":189,"./ar-sa.js":189,"./ar-tn":190,"./ar-tn.js":190,"./ar.js":184,"./az":191,"./az.js":191,"./be":192,"./be.js":192,"./bg":193,"./bg.js":193,"./bm":194,"./bm.js":194,"./bn":195,"./bn.js":195,"./bo":196,"./bo.js":196,"./br":197,"./br.js":197,"./bs":198,"./bs.js":198,"./ca":199,"./ca.js":199,"./cs":200,"./cs.js":200,"./cv":201,"./cv.js":201,"./cy":202,"./cy.js":202,"./da":203,"./da.js":203,"./de":204,"./de-at":205,"./de-at.js":205,"./de-ch":206,"./de-ch.js":206,"./de.js":204,"./dv":207,"./dv.js":207,"./el":208,"./el.js":208,"./en-SG":209,"./en-SG.js":209,"./en-au":210,"./en-au.js":210,"./en-ca":211,"./en-ca.js":211,"./en-gb":212,"./en-gb.js":212,"./en-ie":213,"./en-ie.js":213,"./en-il":214,"./en-il.js":214,"./en-nz":215,"./en-nz.js":215,"./eo":216,"./eo.js":216,"./es":217,"./es-do":218,"./es-do.js":218,"./es-us":219,"./es-us.js":219,"./es.js":217,"./et":220,"./et.js":220,"./eu":221,"./eu.js":221,"./fa":222,"./fa.js":222,"./fi":223,"./fi.js":223,"./fo":224,"./fo.js":224,"./fr":225,"./fr-ca":226,"./fr-ca.js":226,"./fr-ch":227,"./fr-ch.js":227,"./fr.js":225,"./fy":228,"./fy.js":228,"./ga":229,"./ga.js":229,"./gd":230,"./gd.js":230,"./gl":231,"./gl.js":231,"./gom-latn":232,"./gom-latn.js":232,"./gu":233,"./gu.js":233,"./he":234,"./he.js":234,"./hi":235,"./hi.js":235,"./hr":236,"./hr.js":236,"./hu":237,"./hu.js":237,"./hy-am":238,"./hy-am.js":238,"./id":239,"./id.js":239,"./is":240,"./is.js":240,"./it":241,"./it-ch":242,"./it-ch.js":242,"./it.js":241,"./ja":243,"./ja.js":243,"./jv":244,"./jv.js":244,"./ka":245,"./ka.js":245,"./kk":246,"./kk.js":246,"./km":247,"./km.js":247,"./kn":248,"./kn.js":248,"./ko":249,"./ko.js":249,"./ku":250,"./ku.js":250,"./ky":251,"./ky.js":251,"./lb":252,"./lb.js":252,"./lo":253,"./lo.js":253,"./lt":254,"./lt.js":254,"./lv":255,"./lv.js":255,"./me":256,"./me.js":256,"./mi":257,"./mi.js":257,"./mk":258,"./mk.js":258,"./ml":259,"./ml.js":259,"./mn":260,"./mn.js":260,"./mr":261,"./mr.js":261,"./ms":262,"./ms-my":263,"./ms-my.js":263,"./ms.js":262,"./mt":264,"./mt.js":264,"./my":265,"./my.js":265,"./nb":266,"./nb.js":266,"./ne":267,"./ne.js":267,"./nl":268,"./nl-be":269,"./nl-be.js":269,"./nl.js":268,"./nn":270,"./nn.js":270,"./pa-in":271,"./pa-in.js":271,"./pl":272,"./pl.js":272,"./pt":273,"./pt-br":274,"./pt-br.js":274,"./pt.js":273,"./ro":275,"./ro.js":275,"./ru":276,"./ru.js":276,"./sd":277,"./sd.js":277,"./se":278,"./se.js":278,"./si":279,"./si.js":279,"./sk":280,"./sk.js":280,"./sl":281,"./sl.js":281,"./sq":282,"./sq.js":282,"./sr":283,"./sr-cyrl":284,"./sr-cyrl.js":284,"./sr.js":283,"./ss":285,"./ss.js":285,"./sv":286,"./sv.js":286,"./sw":287,"./sw.js":287,"./ta":288,"./ta.js":288,"./te":289,"./te.js":289,"./tet":290,"./tet.js":290,"./tg":291,"./tg.js":291,"./th":292,"./th.js":292,"./tl-ph":293,"./tl-ph.js":293,"./tlh":294,"./tlh.js":294,"./tr":295,"./tr.js":295,"./tzl":296,"./tzl.js":296,"./tzm":297,"./tzm-latn":298,"./tzm-latn.js":298,"./tzm.js":297,"./ug-cn":299,"./ug-cn.js":299,"./uk":300,"./uk.js":300,"./ur":301,"./ur.js":301,"./uz":302,"./uz-latn":303,"./uz-latn.js":303,"./uz.js":302,"./vi":304,"./vi.js":304,"./x-pseudo":305,"./x-pseudo.js":305,"./yo":306,"./yo.js":306,"./zh-cn":307,"./zh-cn.js":307,"./zh-hk":308,"./zh-hk.js":308,"./zh-tw":309,"./zh-tw.js":309};function webpackContext(e){var t=webpackContextResolve(e);return i(t)}function webpackContextResolve(e){if(i.o(n,e))return n[e];var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}webpackContext.keys=function(){return Object.keys(n)},webpackContext.resolve=webpackContextResolve,(e.exports=webpackContext).id=560},function(e,t,i){"use strict";var n=i(562),r=i(563),a=i(564),o=i(565),s=i(566),l=i(567),u=i(568);u.alea=n,u.xor128=r,u.xorwow=a,u.xorshift7=o,u.xor4096=s,u.tychei=l,e.exports=u},function(e,i,n){"use strict";(function(e){var t;!function(e){function Alea(e){var n,t=this,i=(n=4022871197,function(e){e=String(e);for(var t=0;t<e.length;t++){var i=.02519603282416938*(n+=e.charCodeAt(t));i-=n=i>>>0,n=(i*=n)>>>0,n+=4294967296*(i-=n)}return 2.3283064365386963e-10*(n>>>0)});t.next=function(){var e=2091639*t.s0+2.3283064365386963e-10*t.c;return t.s0=t.s1,t.s1=t.s2,t.s2=e-(t.c=0|e)},t.c=1,t.s0=i(" "),t.s1=i(" "),t.s2=i(" "),t.s0-=i(e),t.s0<0&&(t.s0+=1),t.s1-=i(e),t.s1<0&&(t.s1+=1),t.s2-=i(e),t.s2<0&&(t.s2+=1),i=null}function copy(e,t){return t.c=e.c,t.s0=e.s0,t.s1=e.s1,t.s2=e.s2,t}function impl(e,t){var i=new Alea(e),n=t&&t.state,r=i.next;return r.int32=function(){return 4294967296*i.next()|0},r.double=function(){return r()+11102230246251565e-32*(2097152*r()|0)},r.quick=r,n&&("object"==typeof n&&copy(n,i),r.state=function(){return copy(i,{})}),r}e&&e.exports?e.exports=impl:n(36)&&n(66)?void 0===(t=function(){return impl}.call(i,n,i,e))||(e.exports=t):this.alea=impl}(e,n(36))}).call(this,n(65)(e))},function(e,i,n){"use strict";(function(e){var t;!function(e){function XorGen(e){var t=this,i="";t.x=0,t.y=0,t.z=0,t.w=0,t.next=function(){var e=t.x^t.x<<11;return t.x=t.y,t.y=t.z,t.z=t.w,t.w^=t.w>>>19^e^e>>>8},e===(0|e)?t.x=e:i+=e;for(var n=0;n<i.length+64;n++)t.x^=0|i.charCodeAt(n),t.next()}function copy(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t}function impl(e,t){function Gqg(){return(i.next()>>>0)/4294967296}var i=new XorGen(e),n=t&&t.state;return Gqg.double=function(){do{var e=((i.next()>>>11)+(i.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},Gqg.int32=i.next,Gqg.quick=Gqg,n&&("object"==typeof n&&copy(n,i),Gqg.state=function(){return copy(i,{})}),Gqg}e&&e.exports?e.exports=impl:n(36)&&n(66)?void 0===(t=function(){return impl}.call(i,n,i,e))||(e.exports=t):this.xor128=impl}(e,n(36))}).call(this,n(65)(e))},function(e,i,n){"use strict";(function(e){var t;!function(e){function XorGen(e){var t=this,i="";t.next=function(){var e=t.x^t.x>>>2;return t.x=t.y,t.y=t.z,t.z=t.w,t.w=t.v,(t.d=t.d+362437|0)+(t.v=t.v^t.v<<4^e^e<<1)|0},t.x=0,t.y=0,t.z=0,t.w=0,e===((t.v=0)|e)?t.x=e:i+=e;for(var n=0;n<i.length+64;n++)t.x^=0|i.charCodeAt(n),n==i.length&&(t.d=t.x<<10^t.x>>>4),t.next()}function copy(e,t){return t.x=e.x,t.y=e.y,t.z=e.z,t.w=e.w,t.v=e.v,t.d=e.d,t}function impl(e,t){function brg(){return(i.next()>>>0)/4294967296}var i=new XorGen(e),n=t&&t.state;return brg.double=function(){do{var e=((i.next()>>>11)+(i.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},brg.int32=i.next,brg.quick=brg,n&&("object"==typeof n&&copy(n,i),brg.state=function(){return copy(i,{})}),brg}e&&e.exports?e.exports=impl:n(36)&&n(66)?void 0===(t=function(){return impl}.call(i,n,i,e))||(e.exports=t):this.xorwow=impl}(e,n(36))}).call(this,n(65)(e))},function(e,i,n){"use strict";(function(e){var t;!function(e){function XorGen(e){var r=this;r.next=function(){var e,t,i=r.x,n=r.i;return e=i[n],t=(e^=e>>>7)^e<<24,t^=(e=i[n+1&7])^e>>>10,t^=(e=i[n+3&7])^e>>>3,t^=(e=i[n+4&7])^e<<7,e=i[n+7&7],t^=(e^=e<<13)^e<<9,i[n]=t,r.i=n+1&7,t},function(e,t){var i,n=[];if(t===(0|t))n[0]=t;else for(t=""+t,i=0;i<t.length;++i)n[7&i]=n[7&i]<<15^t.charCodeAt(i)+n[i+1&7]<<13;for(;n.length<8;)n.push(0);for(i=0;i<8&&0===n[i];++i);for(8==i?n[7]=-1:n[i],e.x=n,e.i=0,i=256;0<i;--i)e.next()}(r,e)}function copy(e,t){return t.x=e.x.slice(),t.i=e.i,t}function impl(e,t){null==e&&(e=+new Date);function Frg(){return(i.next()>>>0)/4294967296}var i=new XorGen(e),n=t&&t.state;return Frg.double=function(){do{var e=((i.next()>>>11)+(i.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},Frg.int32=i.next,Frg.quick=Frg,n&&(n.x&&copy(n,i),Frg.state=function(){return copy(i,{})}),Frg}e&&e.exports?e.exports=impl:n(36)&&n(66)?void 0===(t=function(){return impl}.call(i,n,i,e))||(e.exports=t):this.xorshift7=impl}(e,n(36))}).call(this,n(65)(e))},function(e,i,n){"use strict";(function(e){var t;!function(e){function XorGen(e){var a=this;a.next=function(){var e,t,i=a.w,n=a.X,r=a.i;return a.w=i=i+1640531527|0,t=n[r+34&127],e=n[r=r+1&127],t^=t<<13,e^=e<<17,t^=t>>>15,e^=e>>>12,t=n[r]=t^e,a.i=r,t+(i^i>>>16)|0},function(e,t){var i,n,r,a,o,s=[],l=128;for(t===(0|t)?(n=t,t=null):(t+="\0",n=0,l=Math.max(l,t.length)),r=0,a=-32;a<l;++a)t&&(n^=t.charCodeAt((a+32)%t.length)),0===a&&(o=n),n^=n<<10,n^=n>>>15,n^=n<<4,n^=n>>>13,0<=a&&(o=o+1640531527|0,r=0==(i=s[127&a]^=n+o)?r+1:0);for(128<=r&&(s[127&(t&&t.length||0)]=-1),r=127,a=512;0<a;--a)n=s[r+34&127],i=s[r=r+1&127],n^=n<<13,i^=i<<17,n^=n>>>15,i^=i>>>12,s[r]=n^i;e.w=o,e.X=s,e.i=r}(a,e)}function copy(e,t){return t.i=e.i,t.w=e.w,t.X=e.X.slice(),t}function impl(e,t){null==e&&(e=+new Date);function lsg(){return(i.next()>>>0)/4294967296}var i=new XorGen(e),n=t&&t.state;return lsg.double=function(){do{var e=((i.next()>>>11)+(i.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},lsg.int32=i.next,lsg.quick=lsg,n&&(n.X&&copy(n,i),lsg.state=function(){return copy(i,{})}),lsg}e&&e.exports?e.exports=impl:n(36)&&n(66)?void 0===(t=function(){return impl}.call(i,n,i,e))||(e.exports=t):this.xor4096=impl}(e,n(36))}).call(this,n(65)(e))},function(e,i,n){"use strict";(function(e){var t;!function(e){function XorGen(e){var r=this,t="";r.next=function(){var e=r.b,t=r.c,i=r.d,n=r.a;return e=e<<25^e>>>7^t,t=t-i|0,i=i<<24^i>>>8^n,n=n-e|0,r.b=e=e<<20^e>>>12^t,r.c=t=t-i|0,r.d=i<<16^t>>>16^n,r.a=n-e|0},r.a=0,r.b=0,r.c=-1640531527,r.d=1367130551,e===Math.floor(e)?(r.a=e/4294967296|0,r.b=0|e):t+=e;for(var i=0;i<t.length+20;i++)r.b^=0|t.charCodeAt(i),r.next()}function copy(e,t){return t.a=e.a,t.b=e.b,t.c=e.c,t.d=e.d,t}function impl(e,t){function Lsg(){return(i.next()>>>0)/4294967296}var i=new XorGen(e),n=t&&t.state;return Lsg.double=function(){do{var e=((i.next()>>>11)+(i.next()>>>0)/4294967296)/(1<<21)}while(0===e);return e},Lsg.int32=i.next,Lsg.quick=Lsg,n&&("object"==typeof n&&copy(n,i),Lsg.state=function(){return copy(i,{})}),Lsg}e&&e.exports?e.exports=impl:n(36)&&n(66)?void 0===(t=function(){return impl}.call(i,n,i,e))||(e.exports=t):this.tychei=impl}(e,n(36))}).call(this,n(65)(e))},function(e,t,i){"use strict";var n;!function(o,s,l){var u,h=256,d=l.pow(h,6),c=l.pow(2,52),p=2*c,f=h-1;function seedrandom(e,t,i){function jtg(){for(var e=a.g(6),t=d,i=0;e<c;)e=(e+i)*h,t*=h,i=a.g(1);for(;p<=e;)e/=2,t/=2,i>>>=1;return(e+i)/t}var n=[],r=mixkey(function flatten(e,t){var i,n=[],r=typeof e;if(t&&"object"==r)for(i in e)try{n.push(flatten(e[i],t-1))}catch(e){}return n.length?n:"string"==r?e:e+"\0"}((t=1==t?{entropy:!0}:t||{}).entropy?[e,tostring(s)]:null==e?function(){try{var e;return u&&(e=u.randomBytes)?e=e(h):(e=new Uint8Array(h),(o.crypto||o.msCrypto).getRandomValues(e)),tostring(e)}catch(e){var t=o.navigator,i=t&&t.plugins;return[+new Date,o,i,o.screen,tostring(s)]}}():e,3),n),a=new ARC4(n);return jtg.int32=function(){return 0|a.g(4)},jtg.quick=function(){return a.g(4)/4294967296},jtg.double=jtg,mixkey(tostring(a.S),s),(t.pass||i||function(e,t,i,n){return n&&(n.S&&copy(n,a),e.state=function(){return copy(a,{})}),i?(l.random=e,t):e})(jtg,r,"global"in t?t.global:this==l,t.state)}function ARC4(e){var t,i=e.length,o=this,n=0,r=o.i=o.j=0,a=o.S=[];for(i||(e=[i++]);n<h;)a[n]=n++;for(n=0;n<h;n++)a[n]=a[r=f&r+e[n%i]+(t=a[n])],a[r]=t;(o.g=function(e){for(var t,i=0,n=o.i,r=o.j,a=o.S;e--;)t=a[n=f&n+1],i=i*h+a[f&(a[n]=a[r=f&r+t])+(a[r]=t)];return o.i=n,o.j=r,i})(h)}function copy(e,t){return t.i=e.i,t.j=e.j,t.S=e.S.slice(),t}function mixkey(e,t){for(var i,n=e+"",r=0;r<n.length;)t[f&r]=f&(i^=19*t[f&r])+n.charCodeAt(r++);return tostring(t)}function tostring(e){return String.fromCharCode.apply(0,e)}if(mixkey(l.random(),s),e.exports){e.exports=seedrandom;try{u=i(569)}catch(e){}}else void 0===(n=function(){return seedrandom}.call(t,i,t,e))||(e.exports=n)}("undefined"!=typeof self?self:void 0,[],Math)},function(e,t){},function(e,t,i){"use strict";t.__esModule=!0,t.pool=void 0;t.pool={difficulty_1:[{type:"TYPE_SCORE_GOALS",attributes:{amount:{min:1,max:3},scope:"SCOPE_GLOBAL",character:"RANDOM"}},{type:"TYPE_WIN_GAMES",attributes:{amount:1,character:"ANY"}},{type:"TYPE_PLAY_WITH_CHARACTER",attributes:{amount:1,character:"RANDOM"}},{type:"TYPE_GOALS_BEFORE_TIME",attributes:{amount:1,duration:[30]}}],difficulty_2:[{type:"TYPE_WIN_GAMES",attributes:{amount:{min:2,max:3},character:"ANY"}},{type:"TYPE_USE_POWERUPS",attributes:{amount:{min:1,max:2},scope:"SCOPE_GLOBAL",powerup:"ANY"}},{type:"TYPE_SCORE_GOALS",attributes:{amount:{min:4,max:6},scope:"SCOPE_GAME",character:"ANY"}},{type:"TYPE_GOALS_BEFORE_TIME",attributes:{amount:2,duration:[35]}}],difficulty_3:[{type:"TYPE_WIN_GAMES",attributes:{amount:{min:4,max:6},character:"ANY"}},{type:"TYPE_USE_POWERUPS",attributes:{amount:{min:3,max:4},scope:"SCOPE_GLOBAL",powerup:"RANDOM"}},{type:"TYPE_WIN_TOURNAMENT",attributes:{character:"RANDOM"}},{type:"TYPE_GOALS_BEFORE_TIME",attributes:{amount:3,duration:[40]}}]}},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var u=i(0),n=_interopRequireDefault(i(310)),a=_interopRequireDefault(i(6)),r=_interopRequireDefault(i(5)),h=_interopRequireDefault(i(11)),d=_interopRequireDefault(i(84)),o=_interopRequireDefault(i(572)),s=_interopRequireDefault(i(13)),c=i(32);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var l=function(l){var e,t;function CharactersScreen(e){var t;_defineProperty(_assertThisInitialized(t=l.call(this,e)||this),"characterUnlockedText",void 0),_defineProperty(_assertThisInitialized(t),"speedBar",void 0),_defineProperty(_assertThisInitialized(t),"powerBar",void 0),_defineProperty(_assertThisInitialized(t),"accuracyBar",void 0),_defineProperty(_assertThisInitialized(t),"playerCardContainer",void 0),_defineProperty(_assertThisInitialized(t),"shadow",void 0),_defineProperty(_assertThisInitialized(t),"party",void 0),_defineProperty(_assertThisInitialized(t),"forceShowCharacterId",void 0),_defineProperty(_assertThisInitialized(t),"width",void 0),_defineProperty(_assertThisInitialized(t),"height",void 0),t.saveDataName="characters";t.characterUnlockedText=new h.default("STR_UNLOCKABLES_CHARACTER_UNLOCKED",{fill:"black",fontSize:35,fontFamily:"avenir",align:"center"}),t.characterUnlockedText.anchor.set(.5),t.characterUnlockedText.position.set(0,290),t.bg.addChild(t.characterUnlockedText),t.characterUnlockedText.visible=!1;t.speedBar=u.Sprite.from("bar-speed.png"),t.speedBar.position.x=-455,t.speedBar.position.y=-275,t.bg.addChild(t.speedBar);for(var i=0;i<10;i++){var n=u.Sprite.from("bar-speed-bit.png");n.position.x=70+21*i,n.position.y=6,t.speedBar.addChild(n)}t.powerBar=u.Sprite.from("bar-power.png"),t.powerBar.position.x=-145,t.powerBar.position.y=-275,t.bg.addChild(t.powerBar);for(var r=0;r<10;r++){var a=u.Sprite.from("bar-power-bit.png");a.position.x=70+21*r,a.position.y=6,t.powerBar.addChild(a)}t.accuracyBar=u.Sprite.from("bar-accuracy.png"),t.accuracyBar.position.x=163,t.accuracyBar.position.y=-275,t.bg.addChild(t.accuracyBar);for(var o=0;o<10;o++){var s=u.Sprite.from("bar-accuracy-bit.png");s.position.x=70+21*o,s.position.y=6,t.accuracyBar.addChild(s)}return t.speedBar.visible=!1,t.powerBar.visible=!1,t.accuracyBar.visible=!1,t.contentContainer.position.y=5,t.unlockables=c.getCharacters.showable(),t.migrateCharacterUnlockData(),t.playerCardContainer=new u.Container,t.shadow=new u.Graphics,t.shadow.beginFill(0),t.shadow.interactive=!0,t.shadow.drawRect(0,0,500,500),t.party=new d.default(1136,800,1),t.onUnlockableUnlocked.add(t.characterUnlocked,_assertThisInitialized(t)),t.onDataUpdated.add(t.updateCharacterData,_assertThisInitialized(t)),t}t=l,(e=CharactersScreen).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=CharactersScreen.prototype;return i.migrateCharacterUnlockData=function(){var i=this;if(!(Number(window.LOCAL_STORAGE.get("dataVersion"))>=a.default.DATA_MIGRATION_VERSION)){var n=!1,r=JSON.parse(window.LOCAL_STORAGE.get("unlocked"))||[];this.unlockables.forEach(function(e){if(-1!==r.indexOf(e.id))i.app.charactersSystem.unlockCharacter(e.id),e.unlockedPanels=new Array(9).fill(null).map(function(e,t){return t});else{var t=JSON.parse(window.LOCAL_STORAGE.get("unlockedPanels_"+e.id));t&&(9<=t.length?(i.app.charactersSystem.unlockCharacter(e.id),e.unlockedPanels=new Array(9).fill(null).map(function(e,t){return t})):t.some(function(e){return 8<e})?e.unlockedPanels=new Array(t.length).fill(null).map(function(e,t){return t}):e.unlockedPanels=t,n=!0)}window.LOCAL_STORAGE.remove("unlockedPanels_"+e.id)}),window.LOCAL_STORAGE.remove("unlocked"),n&&this.app.dataSystem.saveData(this.saveDataName),window.LOCAL_STORAGE.store("dataVersion",a.default.DATA_MIGRATION_VERSION)}},i.characterUnlocked=function(){var e=this.unlockables[this.currentIndex];if(this.app.charactersSystem.unlockCharacter(e.id),this.parent){TweenLite.to(this.gridOverlay,1,{alpha:0}),TweenLite.to(this.costPanel,1,{alpha:0}),TweenLite.to(this.infoText,1,{alpha:0}),TweenLite.to(this.sliderBar,1,{alpha:0}),this.addChild(this.shadow),this.shadow.alpha=0,this.addChild(this.party),TweenLite.to(this.shadow,1,{alpha:.5,delay:1}),this.playerCardContainer.children.length=0,this.addChild(this.playerCardContainer);var t=new o.default(this.app);t.update(e),t.check.visible=!1,t.dimmer.visible=!1,t.interactive=!1,t.shine();var i=u.Sprite.fromFrame("card-back.png");i.x=t.bg.x,i.y=t.bg.y,t.centerCotainer.addChild(i),this.playerCardContainer.addChild(t),t.position.y=2*-this.height,TweenLite.to(t.position,1,{y:-50,ease:Back.easeOut,delay:2}),TweenLite.to(i,2,{alpha:0,delay:3,onStart:function(){s.default.sfx.play("character_unlock")}});var n={fill:"white",fontSize:40,fontFamily:window.MAIN_FONT,stroke:!0,strokeThickness:8,lineJoin:"round",letterSpacing:3},r=new h.default("STR_UNLOCKABLES_NEWCHARACTER",n);r.anchor.set(.5),r.position.set(0,300),r.alpha=0,this.playerCardContainer.addChild(r),TweenLite.to(r,2,{alpha:1,delay:3}),this.party.alpha=0,TweenLite.to(this.party,1,{alpha:1,delay:2}),TweenLite.to(t.position,1,{y:2*-this.height,ease:Back.easeIn,delay:7}),TweenLite.to(r,1,{alpha:0,delay:7}),TweenLite.to(this.party,1,{alpha:0,delay:7}),TweenLite.to(this.shadow,1,{alpha:0,delay:7,onComplete:function(){this.removeChild(this.shadow),this.removeChild(this.playerCardContainer),this.removeChild(this.party),this.gridOverlay.alpha=1,this.costPanel.alpha=1,this.infoText.alpha=1,this.sliderBar.alpha=1,this.updateState(),this.previousButton.enable(),this.nextButton.enable(),this.app.topMenu.buttons.prev.enable()}.bind(this)})}},i.updateTransform=function(){l.prototype.updateTransform.call(this),this.party&&this.party.update(this.position)},i.updateCharacterData=function(){var e=this.unlockables[this.currentIndex];this.refreshPosterTexture();for(var t=0;t<this.speedBar.children.length;t++){var i=this.speedBar.children[t];10*e.speed<t+1?i.visible=!1:i.visible=!0}for(var n=0;n<this.powerBar.children.length;n++){var r=this.powerBar.children[n];10*e.power<n+1?r.visible=!1:r.visible=!0}for(var a=0;a<this.accuracyBar.children.length;a++){var o=this.accuracyBar.children[a];10*e.skill<a+1?o.visible=!1:o.visible=!0}},i.refreshPosterTexture=function(){var e=this.unlockables[this.currentIndex];this.poster.texture=u.Texture.fromImage(RESOLVE_PATH(ASSET_URL+"img/content/characters/character-posters/"+e.poster)),this.poster.scale.set((this.gridOverlay.texture.width-5)/this.poster.texture.width)},i.updateState=function(){l.prototype.updateState.call(this);var e=this.unlockables[this.currentIndex],t=r.default.coins>=a.default.UNLOCKABLES.PRICE;if(e.locked){if(this.characterUnlockedText.visible=!1,this.title.setText(translations.STR_UNLOCKABLES_UNLOCK+": "+translations[e.name]+" ("+translations[e.brandName]+")",!0),t){var i=translations.STR_UNLOCKABLES_COMPLETE.split("\n");this.infoText.setText(i[1])}}else this.characterUnlockedText.visible=!0,this.title.setText(translations.STR_UNLOCKABLES_UNLOCKED+": "+translations[e.name]+" ("+translations[e.brandName]+")",!0)},i.forceShowCharacter=function(e){this.forceShowCharacterId=e},i.onShow=function(){if(this.forceShowCharacterId){for(var e=0;e<this.unlockables.length;e++)if(this.unlockables[e].id===this.forceShowCharacterId){this.currentIndex=e;break}this.forceShowCharacterId=null}this.removeChild(this.party),this.removeChild(this.shadow),this.playerCardContainer.children.length=0,l.prototype.onShow.call(this),this.assetsLoaded&&this.showContent()},i.onAssetsLoaded=function(){l.prototype.onAssetsLoaded.call(this),this.active&&this.showContent()},i.showContent=function(){l.prototype.showContent.call(this),this.speedBar.visible=!0,this.powerBar.visible=!0,this.accuracyBar.visible=!0,this.updateState()},i.resize=function(e,t){l.prototype.resize.call(this,e,t);var i=this.app.screenManager.container.x/this.app.screenManager.container.scale.x,n=this.app.screenManager.container.y/this.app.screenManager.container.scale.y;this.party&&(this.party.w=e+2*i,this.party.h=t+2*n,this.party.x=-i,this.party.y=-n),this.playerCardContainer.position.set(e/2,t/2),this.shadow.position.x=-i,this.shadow.position.y=-n,this.shadow.graphicsData[0].shape.width=e+2*i,this.shadow.graphicsData[0].shape.height=t+2*n},CharactersScreen}(n.default);t.default=l},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var s=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=n?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(i,r,a):i[r]=e[r]}i.default=e,t&&t.set(e,i);return i}(i(0)),n=_interopRequireDefault(i(79)),l=i(179),u=_interopRequireDefault(i(6)),h=_interopRequireDefault(i(15)),d=(_interopRequireDefault(i(5)),i(180)),c=_interopRequireDefault(i(11)),p=_interopRequireDefault(i(3)),r=_interopRequireDefault(i(4)),f=_interopRequireDefault(i(18));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function(){return e},e}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var a=function(o){var e,t;function PlayerCard(e,t){var i;void 0===t&&(t=!1);(i=o.call(this)||this).app=e,i.isStatScreen=t,window.playerCard=_assertThisInitialized(i),i.buttonMode=!0,i.active=!0,i.container=new s.Container,i.centerCotainer=new s.Container,i.filterContainer=new s.Container,i.cacheContainer=new s.Container,i.w=u.default.PLAYER_CARD.WIDTH,i.h=u.default.PLAYER_CARD.HEIGHT,i.padding=u.default.PLAYER_CARD.PADDING,i.centerCotainer.position.x=-i.w/2-17,i.centerCotainer.position.y=-i.h/2,i.bw=new s.filters.ColorMatrixFilter,i.bw.blackAndWhite(),window.bw=i.bw,i.bw.padding=0,i.bg=s.Sprite.from(e.winterMode?"card-back-winter.png":"card-back.png"),i.cacheContainer.addChild(i.bg),i.profile=new s.Sprite;var n=d.GraphicsFormat.parse("f #c00 1 m 148.85 0.35 l 148.85 0 l 148.55 0.2 l 148.2 0 l 148.2 0.4 q 104.35 25 0 26.7 q 0.4 276.7 0.05 276.7 l 297.1 276.7 q 296.75 276.7 297.05 26.7 q 192.65 24.95 148.85 0.35 c");n.scale.set(.99),n.x+=18,n.y+=14,e.winterMode&&(n.x+=5,n.y+=25),i.cacheContainer.addChild(n),i.profile.mask=n,i.cacheContainer.addChild(i.profile),i.profile.offset={x:0,y:0},i.brand=new s.Sprite.fromImage("logo_ppg.png"),i.brand.anchor.y=1,i.brand.position.x=3*i.padding,i.brand.position.y=290-i.padding,i.cacheContainer.addChild(i.brand),i.name=new c.default("",{fill:"#493008",fontSize:30,fontFamily:window.MAIN_FONT}),i.name.anchor.x=.5,i.name.position.x=i.bg.width/2,i.name.position.y=335-i.name.height-i.padding,i.cacheContainer.addChild(i.name),i.num=new s.Text("123",{fill:"white",fontSize:23,fontFamily:"avenir",stroke:!0,strokeThickness:5,lineJoin:"round"}),i.num.position.x=i.padding+300-i.num.width,i.num.position.y=299-i.num.height-i.padding,i.onDown=new p.default,i.interactive=!0;if(i.hitArea=new s.Rectangle(-200,-200,400,600),i.check=new s.Sprite.from(i.isStatScreen?"button-upgrade-large.png":"button-card-tick.png"),i.isStatScreen){var r=f.default.h1("STR_UNLOCKABLES_UPGRADE","white");r.anchor.set(.5),r.position.y=-7,i.check.addChild(r)}h.default.instance.desktop,i.check.interactive=!0,i.check.mouseover=function(){this.active&&TweenLite.to(this.check.scale,.5,{x:1.1,y:1.1,ease:Elastic.easeOut})}.bind(_assertThisInitialized(i)),i.check.mouseout=function(){this.active&&TweenLite.to(this.check.scale,.5,{x:1.03,y:1.03,ease:Elastic.easeOut})}.bind(_assertThisInitialized(i)),i.check.anchor.set(.5),i.check.position.x=i.bg.width/2-i.w/2-17,i.check.position.y=i.bg.height/2-i.h/2+270+(i.isStatScreen?15:0),i.checkHide=!0,i.mouseup=i.touchend=function(){this.onDown.dispatch(this)}.bind(_assertThisInitialized(i)),i.mouseover=function(){this.active&&(this.data&&!this.data.selected&&(this.check.filters=null),TweenLite.to(this.container.scale,.5,{x:1.02,y:1.02,ease:Elastic.easeOut}))}.bind(_assertThisInitialized(i)),i.mouseout=function(){this.active&&TweenLite.to(this.container.scale,.5,{x:1,y:1,ease:Elastic.easeOut})}.bind(_assertThisInitialized(i));var a=i.padding+82;if(i.speedBar=l.ProfileBar.speed(),i.speedBar.position.set(a,337),i.cacheContainer.addChild(i.speedBar),i.powerBar=l.ProfileBar.power(),i.powerBar.position.set(a,i.speedBar.position.y+i.speedBar.height+i.padding+36),i.cacheContainer.addChild(i.powerBar),i.skillBar=l.ProfileBar.skill(),i.skillBar.position.set(a,i.powerBar.position.y+i.powerBar.height+i.padding+36),i.cacheContainer.addChild(i.skillBar),e.winterMode){i.speedBar.position.x+=5,i.powerBar.position.x+=5,i.skillBar.position.x+=5,i.speedBar.position.y+=5,i.powerBar.position.y+=5,i.skillBar.position.y+=5}return i.container.addChild(i.filterContainer),i.container.addChild(i.centerCotainer),i.addChild(i.container),i.container.addChild(i.check),i.lock=s.Sprite.fromFrame("button-card-padlock.png"),i.lock.anchor.set(.5),i.lock.position.x=i.bg.width/2,i.lock.position.y=200,i.centerCotainer.addChild(i.lock),i.dimmer=s.Sprite.from("card-black.png"),e.winterMode||i.centerCotainer.addChild(i.dimmer),i.glow=s.Sprite.fromImage("card-glow.png"),i.glow.blendMode=s.BLEND_MODES.ADD,i.glow.position.set(-13,-15),i.glow.visible=!1,i.cachedTexture=s.RenderTexture.create(i.bg.width,i.bg.height),i.cacheSprite=new s.Sprite(i.cachedTexture),i.filterContainer.addChild(i.cacheSprite),i.cacheSprite.position.x=-i.w/2-17,i.cacheSprite.position.y=-i.h/2,i.dirty=!1,window.app.onLanguageChange.add(i.onLanguageChange,_assertThisInitialized(i)),i}t=o,(e=PlayerCard).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=PlayerCard.prototype;return i.onLanguageChange=function(){this.app.renderer.render(this.cacheContainer,this.cachedTexture)},i.shine=function(){if(!this.glow.visible){this.lock.visible=!1,this.glow.visible=!0,this.stars=[],this.starCounts=[];for(var e=[],t=1;t<=10;t++)e.push(48*t);n.default.shuffle(e);for(t=0;t<10;t++){var i=s.Sprite.fromImage("flash-big-2.png");i.scale.set(.2+.8*Math.random()),i.anchor.set(.5),i.blendMode=s.BLEND_MODES.ADD,i.position.x=35*t,i.position.y=e[t],this.centerCotainer.addChild(i),this.stars.push(i),this.starCounts.push(1e3*Math.random())}this.parent&&this.updateTransform()}},i.unshine=function(){this.glow.visible=!1;for(var e=0;e<this.stars.length;e++)this.centerCotainer.removeChild(this.stars[e]);this.stars.length=0},i.select=function(){this.check.scale.set(1),this.filterContainer.filters=[this.bw]},i.unselect=function(){this.check.scale.set(0),this.filterContainer.filters=null,h.default.instance.desktop,this.check.visible=!0},i.updateTransform=function(){if(this.parent&&o.prototype.updateTransform.call(this),this.stars)for(var e=0;e<this.stars.length;e++)this.starCounts[e]+=.07*r.default.instance.deltaTime,this.stars[e].alpha=Number(Math.abs(Math.sin(this.starCounts[e]))),this.stars[e].rotation+=.01*this.stars[e].scale.x*r.default.instance.deltaTime;this.profile&&(this.profile.position.x=this.profile.offset.x-20,this.profile.position.y=this.profile.offset.y+1,this.app.winterMode&&(this.profile.position.y+=3)),this.z<.3&&-.3<this.z?(this.checkHide&&!this.lock.visible&&TweenLite.to(this.check.scale,.5,{x:1.04,y:1.04,ease:Elastic.easeOut}),this.checkHide=!1):this.data&&(!0===this.data.selected||this.checkHide||(this.checkHide=!0,TweenLite.to(this.check.scale,.2,{x:0,y:0,ease:Expo.easeOut})))},i.update=function(e){(this.data=e).selected?this.select():this.unselect();var t=e.locked;this.lock.visible=!!t,this.check.visible=!t,e.selected&&(this.check.visible=!1),this.skillBar.setData(e.skill),this.powerBar.setData(e.power),this.speedBar.setData(e.speed),this.name.setText(e.name),this.num.text=e.num,this.brand.texture=new s.Texture.fromImage(e.brand),this.profile.texture=new s.Texture.fromImage(e.profile),e.offsetPlayerCard?(this.profile.offset.x=e.offsetPlayerCard.x||0,this.profile.offset.y=e.offsetPlayerCard.y||0):(this.profile.offset.x=0,this.profile.offset.y=0),this.updateTransform(),this.orange=!0,this.dirty=!0,this.shine(),this.app.renderer.render(this.cacheContainer,this.cachedTexture)},PlayerCard}(s.Container);t.default=a,e.exports=t.default},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n=i(98),r=i(32),a=_interopRequireDefault(i(5)),o=_interopRequireDefault(i(6)),s=i(17);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var l=function(){function CharactersSystem(e){var t,i,n;n=void 0,(i="app")in(t=this)?Object.defineProperty(t,i,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[i]=n,this.app=e}var e=CharactersSystem.prototype;return e.unlockCharacter=function(e){r.CharacterData[e].locked=!1,n.GameData.characterSelectionCache.recentlyUnlocked=e,this.save(),CES.dispatch(s.EventKeys.UNLOCKABLES_CHARACTER_UNLOCKED,{characterId:e})},e.upgrade=function(e,t){var i=r.CharacterData[e];i[t]<1&&(a.default.coins-=o.default.UNLOCKABLES.PRICE*(10*i[t]+1),this.app.saveCoins(),this.app.topMenu.updateCoins(),i[t]+=.1,i[t]=Math.round(10*i[t])/10,this.save()),CES.dispatch(s.EventKeys.UNLOCKABLES_STAT_UPGRADED,{characterId:e,stat:"skill"===t?"accuracy":t})},e.save=function(){this.app.dataSystem.saveData("characters")},e.setSelectionCache=function(e,t){n.GameData.characterSelectionCache[e]=t,this.app.dataSystem.saveData("characterSelectionCache")},e.resetRecentlyUnlockedSelection=function(){n.GameData.characterSelectionCache.recentlyUnlocked=null,this.app.dataSystem.saveData("characterSelectionCache")},CharactersSystem}();t.default=l},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var d=i(0),c=_interopRequireDefault(i(311)),s=_interopRequireDefault(i(19)),p=_interopRequireDefault(i(577)),l=_interopRequireDefault(i(18)),f=_interopRequireDefault(i(5)),u=_interopRequireDefault(i(15)),m=_interopRequireDefault(i(6)),_=i(25),g=_interopRequireDefault(i(11)),h=_interopRequireDefault(i(4));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=function(n){var e,t;function CountrySelectScreen(e){var t;_defineProperty(_assertThisInitialized(t=n.call(this)||this),"app",void 0),_defineProperty(_assertThisInitialized(t),"_previousScreenId",void 0),_defineProperty(_assertThisInitialized(t),"countryGroup",void 0),_defineProperty(_assertThisInitialized(t),"prevButton",void 0),_defineProperty(_assertThisInitialized(t),"nextButton",void 0),_defineProperty(_assertThisInitialized(t),"buttonList",void 0),_defineProperty(_assertThisInitialized(t),"currentButton",void 0),_defineProperty(_assertThisInitialized(t),"title",void 0),_defineProperty(_assertThisInitialized(t),"regionTitle",void 0),_defineProperty(_assertThisInitialized(t),"flagsContainer",void 0),_defineProperty(_assertThisInitialized(t),"flagsMaskContainer",void 0),_defineProperty(_assertThisInitialized(t),"mapContainer",void 0),_defineProperty(_assertThisInitialized(t),"bg",void 0),_defineProperty(_assertThisInitialized(t),"loadingWheel",void 0),_defineProperty(_assertThisInitialized(t),"flagsMask",void 0),_defineProperty(_assertThisInitialized(t),"bgc",void 0),_defineProperty(_assertThisInitialized(t),"flagsFilter",void 0),_defineProperty(_assertThisInitialized(t),"tween",void 0),_defineProperty(_assertThisInitialized(t),"hoverDebounce",void 0),_defineProperty(_assertThisInitialized(t),"currentTime",void 0),_defineProperty(_assertThisInitialized(t),"countries",void 0),_defineProperty(_assertThisInitialized(t),"assetsLoaded",void 0),_defineProperty(_assertThisInitialized(t),"active",void 0),t.app=e,t._previousScreenId=m.default.SCREEN_ID.TITLE,t.prevButton=new s.default("button-left.png"),t.prevButton.position.set(37.5,100),t.prevButton.onPress.add(t.prevRegion,_assertThisInitialized(t)),t.addChild(t.prevButton),t.prevButton.visible=!1,t.nextButton=new s.default("button-right.png"),t.nextButton.position.set(37.5,100),t.nextButton.onPress.add(t.nextRegion,_assertThisInitialized(t)),t.addChild(t.nextButton),t.nextButton.visible=!1,t.bg=d.Sprite.from("panel-leaderboard.png"),t.bg.anchor.set(.5,.5),t.addChild(t.bg),t.title=l.default.h1(_.Translation.country_select_screen.title),t.title.anchor.set(.5,.5),t.addChild(t.title),t.regionTitle=l.default.h1(""),t.regionTitle.anchor.set(.5,.5),t.regionTitle.position.set(0,-190),t.flagsMaskContainer=new d.Container;var i=new d.Graphics;return t.bg.addChild(i),i.fillAlpha=0,i.drawRect(-t.bg.width/2+20,-t.bg.height/2+20,t.bg.width-40,t.bg.height-40),t.flagsMask=i,t.bg.addChild(t.flagsMaskContainer),t.flagsFilter=new d.filters.BlurXFilter,t.flagsContainer=new d.Container,t.flagsMaskContainer.addChild(t.flagsContainer),t.mapContainer=new d.Container,t.mapContainer.x=340,t.mapContainer.y=-195,t.bg.addChild(t.mapContainer),t.loadingWheel=d.Sprite.from("loading-wheel.png"),t.loadingWheel.anchor.set(.5),t.loadingWheel.scale.set(2),t.bg.addChild(t.loadingWheel),t.assetsLoaded=!1,t.active=!1,t.bg.addChild(t.regionTitle),t.buttonList=[],t.hoverDebounce=0,t}t=n,(e=CountrySelectScreen).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i,r,a,o=CountrySelectScreen.prototype;return o.prevRegion=function(){var e=this;if(!this.tween){var t,i,n;for(var r in _.Translation.regions){if((n=_.Translation.regions[r]).REGION_ID===f.default.region.REGION_ID){if(t){f.default.region=t;break}i=!0}t=n}i&&(f.default.region=n),this.flagsMaskContainer.mask=this.flagsMask;var a=this.flagsContainer.position.x;this.tween=TweenLite.to(this.flagsContainer.position,.25,{x:a+1e3,onComplete:function(){e.updateCountries(),e.flagsContainer.x=a-1e3,TweenLite.to(e.flagsContainer.position,.25,{x:a,ease:Quad.easeOut,onComplete:function(){e.tween=null,e.flagsMaskContainer.mask=null,e.flagsContainer.filters=[]}})}}),TweenLite.to(this.regionTitle,.25,{alpha:0,onComplete:function(){TweenLite.to(e.regionTitle,.25,{alpha:1})}})}},o.nextRegion=function(){var e=this;if(!this.tween){var t=!1,i=!1;for(var n in _.Translation.regions){var r=_.Translation.regions[n];if(i=i||r,t){f.default.region=r,t=!1;break}r.REGION_ID===f.default.region.REGION_ID&&(t=!0)}t&&(f.default.region=i),this.flagsMaskContainer.mask=this.flagsMask;var a=this.flagsContainer.position.x;this.tween=TweenLite.to(this.flagsContainer.position,.25,{x:a-1e3,onComplete:function(){e.updateCountries(),e.flagsContainer.x=a+1e3,TweenLite.to(e.flagsContainer.position,.25,{x:a,ease:Quad.easeOut,onComplete:function(){e.tween=null,e.flagsMaskContainer.mask=null,e.flagsContainer.filters=[]}})}}),TweenLite.to(this.regionTitle,.25,{alpha:0,onComplete:function(){TweenLite.to(e.regionTitle,.25,{alpha:1})}})}},o.updateCountries=function(){this.flagsContainer.children.length=0,this.countries=(0,_.getCountriesByRegion)(f.default.region.REGION_ID);for(var e=this.buttonList.length=0;e<this.mapContainer.children.length;e++){var t=this.mapContainer.children[e];t.REGION_ID===f.default.region.REGION_ID?(t.scale.set(1.2),t.tint=12747008):(t.scale.set(1),t.tint=16777215),t.alpha=1}for(var i,n,r=0,a=0,o=6,s=0;s<this.countries.length;s++){i=this.countries[s],(n=c.default.country(i.FLAG)).silent=!0,n.icon.scale.set(.65),n.icon.y-=27,n.background.blendMode=d.BLEND_MODES.MULTIPLY,n.background.alpha=.3;var l=d.Sprite.from("country-backer-2.png");l.anchor.set(.5),n.background.addChild(l);var u={fill:"black",fontSize:20,fontFamily:"avenir",wordWrap:!0,wordWrapWidth:130,align:"center",maxWidth:120};"vi"===window.LANGUAGE&&(u.maxHeight=60,u.maxWidth=150,u.wordWrapWidth=150),"th"===window.LANGUAGE&&(u.maxHeight=60,u.maxWidth=180,u.wordWrapWidth=180);var h=new g.default(i.NAME,u,!0);if(h.anchor.set(.5),h.position.set(0,30),n.addChild(h),n.onHover2.add(this.onCountryButtonHover,this),n.onPress.add(this.onCountryButtonPressed,this),n.onMouseOut.add(this.onCountryButtonMouseOut,this),this.buttonList.push(n),(s-0)%(o=5)==(a=0)&&0!==s&&r++,9<s&&this.countries.length<15&&1<this.countries.length)a=(5-this.countries.length%5)*(n.width+m.default.COUNTRY_SELECT.MARGIN)/2;n.position.x=(n.width+m.default.COUNTRY_SELECT.MARGIN)*(s%o)+a,n.position.y=(120+m.default.COUNTRY_SELECT.MARGIN)*r,1===this.countries.length&&(n.position.x=2*(n.width+m.default.COUNTRY_SELECT.MARGIN),n.position.y=-140),n.id=i.ID,this.flagsContainer.addChild(n)}this.bgc=new d.Graphics,this.bgc.beginFill(4095*Math.random()),this.bgc.drawRect(0,0,this.flagsContainer.width,this.flagsContainer.height),this.flagsContainer.position.set(n.width/2-422.5-m.default.COUNTRY_SELECT.MARGIN/2,-this.flagsContainer.height/2+n.height/2-m.default.COUNTRY_SELECT.MARGIN/2),this.flagsContainer.position.y+=80,this.countryGroup=new p.default(this.buttonList,1),this.regionTitle.setText(f.default.region.NAME)},o.onCountryButtonPressed=function(e){var t=_.Translation.countries[e.id||this.currentButton.id];this.interactiveChildren=!1,f.default.countryID=t,this.app.breadcrumb.steps[0].updateTexture(t.FLAG),this.app.breadcrumb.currentStep=0,this.app.breadcrumb.next()},o.updateTransform=function(){n.prototype.updateTransform.call(this),this.loadingWheel.visible&&(this.loadingWheel.rotation+=.1*h.default.instance.deltaTime),this.currentTime=Date.now()},o.onCountryButtonHover=function(e){this.currentButton===e&&this.onCountryButtonPressed(e),u.default.instance.isMobile&&(this.currentButton=e),this.hoverDebounce++},o.onCountryButtonMouseOut=function(){this.hoverDebounce=0},o.onHide=function(){this.active=!1},o.onShow=function(){this.active=!0,this.app.topMenu.setState("homesettings"),this.app.topMenu.prevScreen=m.default.SCREEN_ID.TITLE,this.app.topMenu.nextScreen=m.default.SCREEN_ID.CAPTAIN_SELECT,this.assetsLoaded&&this.showContent()},o.onAssetsLoaded=function(){for(var e in this.assetsLoaded=!0,this.loadingWheel.visible=!1,this.prevButton.visible=!0,this.nextButton.visible=!0,_.Translation.regions){var t=_.Translation.regions[e],i=d.Sprite.from(t.MAP);i.anchor.set(.5),i.position.set(t.MAP_X,t.MAP_Y),i.REGION_ID=t.REGION_ID,this.mapContainer.addChild(i)}this.active&&this.showContent()},o.showContent=function(){var e,t;this.interactiveChildren=!0,this.app.tournamentScreen.contentUpdated=!1,this.app.breadcrumb.visible=!0,f.default.region||(f.default.region=_.Translation.regions.AS),this.updateCountries(),this.currentButton=null,this.app.breadcrumb.hidden&&(this.app.breadcrumb.show(),this.app.breadcrumb.reset()),this.app.breadcrumb.steps[0].hasBeenActivate||(this.countryGroup.reset(),this.app.breadcrumb.steps[0].activate());for(var i=0;i<this.app.stage.children.length;i++){var n=this.app.stage.children[i];"breabcrumb"===n.name&&(e=n),"screenmanager"===n.name&&(t=n)}this.app.stage.children[2]=t,this.app.stage.children[3]=e},o.resize=function(e,t){this.prevButton&&(this.nextButton.x=e/2+515,this.nextButton.y=t/2,this.prevButton.x=e/2-515,this.prevButton.y=t/2),this.bg.position.set(e/2,t/2-20),this.title.position.y=this.bg.position.y-this.bg.height/2+m.default.MARGIN.TITLE_TOP,this.title.position.x=e/2},i=CountrySelectScreen,(r=[{key:"previousScreenId",get:function(){return this._previousScreenId}}])&&_defineProperties(i.prototype,r),a&&_defineProperties(i,a),CountrySelectScreen}(d.Container);t.default=n},function(e,t,n){"use strict";var i;void 0===(i=function(e,t,i){n(0);function kyg(e,t,i,n,r,a,o,s,l){u.call(this,e,t,i,n,r,s,l),this.borderTexture=a,this.borderTextureSelected=o||this.borderTexture}var u=n(312);n(3);(kyg.prototype=Object.create(u.prototype)).toggleIcon=function(e){u.prototype.toggleIcon.call(this),!0===e?TweenLite.to(this.scale,.3,{x:1.1,y:1.1,ease:Linear.None}):TweenLite.to(this.scale,.3,{x:1,y:1,ease:Linear.None})},i.exports=kyg}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){"use strict";var i;void 0===(i=function(e,t,i){function Gyg(e,t,i,n,r,a,o,s,l){this.borderTexture=a,this.borderTextureSelected=o,this.multiplier=Math.pow(-1,Math.floor(2*Math.random())),this.borderSprite=new u.Sprite.fromFrame(a),this.borderSprite.anchor.set(.5),h.call(this,e,t,i,n,r,s,l),this.addChildAt(this.borderSprite,0)}var u=n(0),h=n(312);n(3);(Gyg.prototype=Object.create(h.prototype)).toggleIcon=function(e){h.prototype.toggleIcon.call(this);var t=!0===e;t?(TweenLite.to(this.scale,.3,{x:1.1,y:1.1,ease:Back.easeOut}),TweenLite.to(this,.2,{rotation:5*this.multiplier*Math.PI/180,ease:Back.easeOut})):(TweenLite.to(this.scale,.3,{x:1,y:1,ease:Linear.None}),TweenLite.to(this,.2,{rotation:0,ease:Linear.None})),this.borderTextureSelected?this.borderSprite.texture=u.Texture.fromFrame(t?this.borderTextureSelected:this.borderTexture):t?TweenLite.to(this.borderSprite.scale,.3,{x:1.1,y:1.1,ease:Back.easeOut}):TweenLite.to(this.borderSprite.scale,.3,{x:1,y:1,ease:Back.easeOut})},i.exports=Gyg}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){"use strict";var i;void 0===(i=function(e,t,i){function _yg(e,t,i){for(var n in a.Container.call(this),this.buttonList=e,this.maxSelected=t,this.autoLock=!0===i,this.onUpdate=new o,this.selectedList=[],this.buttonList){var r=this.buttonList[n];r.selected&&this.selectedList.length<t&&this.selectedList.push(r),r.onSelected.add(this.updateButtons,this)}}var a=n(0),o=n(3);(_yg.prototype=Object.create(a.Container.prototype)).setLock=function(e){for(var t in this.buttonList){var i=this.buttonList[t];!1===e&&!0===i.enabledInit?i.enable():!1===i.selected&&i.disable()}},_yg.prototype.reset=function(){for(var e in this.buttonList){var t=this.buttonList[e];!0===t.selected&&t._onDown()}},_yg.prototype.updateButtons=function(e){if(e.selected){if(this.selectedList.length>=this.maxSelected)this.selectedList.shift()._onDown();this.selectedList.push(e)}else{var t=this.selectedList.indexOf(e);-1<t&&this.selectedList.splice(t,1)}this.autoLock&&this.setLock(this.selectedList.length>=this.maxSelected),this.onUpdate.dispatch(this.selectedList.length>=this.maxSelected,e)},i.exports=_yg}.call(t,n,t,e))||(e.exports=i)},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n,r=i(579),o=i(98),a=(n=i(3))&&n.__esModule?n:{default:n};function asyncGeneratorStep(e,t,i,n,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void i(e)}s.done?t(l):Promise.resolve(l).then(n,r)}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var s=function(){function DataSystem(){_defineProperty(this,"dataCollection",void 0),_defineProperty(this,"gettersCollection",void 0),_defineProperty(this,"settersCollection",void 0),_defineProperty(this,"plugins",void 0),_defineProperty(this,"onDataInitialised",void 0),this.dataCollection={},this.gettersCollection={},this.settersCollection={},this.plugins={},this.onDataInitialised=new a.default,this.init()}var e=DataSystem.prototype;return e.init=function(){var a,e=(a=regeneratorRuntime.mark(function _callee(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:this.addDataSet(r.SessionData,r.get,r.set),this.addDataSet(o.GameData,o.get,o.set),this.loadData("all"),this.onDataInitialised.dispatch();case 4:case"end":return e.stop()}},_callee,this)}),function(){var e=this,r=arguments;return new Promise(function(t,i){var n=a.apply(e,r);function _next(e){asyncGeneratorStep(n,t,i,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(n,t,i,_next,_throw,"throw",e)}_next(void 0)})});return function(){return e.apply(this,arguments)}}(),e.addDataSet=function(e,t,i){for(var n in e)this.dataCollection[n]=e[n];for(var r in t)this.gettersCollection[r]=t[r];for(var a in i)this.settersCollection[a]=i[a]},e.loadData=function(e){for(var t in this.settersCollection)if(e===t||"all"===e){var i=JSON.parse(LOCAL_STORAGE.get(t));if(i&&this.settersCollection[t](i),"all"!==e)break}},e.saveData=function(e){for(var t in this.gettersCollection)if(e===t){var i=void 0;i="function"==typeof this.gettersCollection[t]?this.gettersCollection[t]():this.gettersCollection[t].saveFormat(),LOCAL_STORAGE.store(t,JSON.stringify(i));break}},e.get=function(e){return this.dataCollection[e]?this.dataCollection[e]:null},e.getGetters=function(e){return this.gettersCollection[e]?this.gettersCollection[e]:null},e.getSetters=function(e){return this.settersCollection[e]?this.settersCollection[e]:null},e.getPlugin=function(e){return this.plugins[e]?this.plugins[e]:null},DataSystem}();t.default=s},function(e,t,i){"use strict";t.__esModule=!0,t.set=t.get=t.SessionData=void 0;var n={cache:{tutorialCompleted:!1,gdprAccepted:!1,unlockablesVisited:!1,userCountry:"GB",userRegion:"WE"},device:{cordovaMode:!1,widescreen:!1,mipmap:!1},events:{tournamentMode:!1,winterMode:!1},settings:{soundOn:!0,language:"en"}};t.SessionData=n;var r={cache:function(){return n.cache},settings:function(){return n.settings}};t.get=r;var a={cache:function(e){for(var t in e)n.cache[t]=e[t]},settings:function(e){for(var t in e)n.settings[t]=e[t]}};t.set=a},function(e,l,t){"use strict";(function(r){function normalizeArray(e,t){for(var i=0,n=e.length-1;0<=n;n--){var r=e[n];"."===r?e.splice(n,1):".."===r?(e.splice(n,1),i++):i&&(e.splice(n,1),i--)}if(t)for(;i--;)e.unshift("..");return e}function filter(e,t){if(e.filter)return e.filter(t);for(var i=[],n=0;n<e.length;n++)t(e[n],n,e)&&i.push(e[n]);return i}l.resolve=function(){for(var e="",t=!1,i=arguments.length-1;-1<=i&&!t;i--){var n=0<=i?arguments[i]:r.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(e=n+"/"+e,t="/"===n.charAt(0))}return(t?"/":"")+(e=normalizeArray(filter(e.split("/"),function(e){return!!e}),!t).join("/"))||"."},l.normalize=function(e){var t=l.isAbsolute(e),i="/"===n(e,-1);return(e=normalizeArray(filter(e.split("/"),function(e){return!!e}),!t).join("/"))||t||(e="."),e&&i&&(e+="/"),(t?"/":"")+e},l.isAbsolute=function(e){return"/"===e.charAt(0)},l.join=function(){var e=Array.prototype.slice.call(arguments,0);return l.normalize(filter(e,function(e,t){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},l.relative=function(e,t){function trim(e){for(var t=0;t<e.length&&""===e[t];t++);for(var i=e.length-1;0<=i&&""===e[i];i--);return i<t?[]:e.slice(t,i-t+1)}e=l.resolve(e).substr(1),t=l.resolve(t).substr(1);for(var i=trim(e.split("/")),n=trim(t.split("/")),r=Math.min(i.length,n.length),a=r,o=0;o<r;o++)if(i[o]!==n[o]){a=o;break}var s=[];for(o=a;o<i.length;o++)s.push("..");return(s=s.concat(n.slice(a))).join("/")},l.sep="/",l.delimiter=":",l.dirname=function(e){if("string"!=typeof e&&(e+=""),0===e.length)return".";for(var t=e.charCodeAt(0),i=47===t,n=-1,r=!0,a=e.length-1;1<=a;--a)if(47===(t=e.charCodeAt(a))){if(!r){n=a;break}}else r=!1;return-1===n?i?"/":".":i&&1===n?"/":e.slice(0,n)},l.basename=function(e,t){var i=function(e){"string"!=typeof e&&(e+="");var t,i=0,n=-1,r=!0;for(t=e.length-1;0<=t;--t)if(47===e.charCodeAt(t)){if(!r){i=t+1;break}}else-1===n&&(r=!1,n=t+1);return-1===n?"":e.slice(i,n)}(e);return t&&i.substr(-1*t.length)===t&&(i=i.substr(0,i.length-t.length)),i},l.extname=function(e){"string"!=typeof e&&(e+="");for(var t=-1,i=0,n=-1,r=!0,a=0,o=e.length-1;0<=o;--o){var s=e.charCodeAt(o);if(47===s){if(r)continue;i=o+1;break}-1===n&&(r=!1,n=o+1),46===s?-1===t?t=o:1!==a&&(a=1):-1!==t&&(a=-1)}return-1===t||-1===n||0===a||1===a&&t===n-1&&t===i+1?"":e.slice(t,n)};var n="b"==="ab".substr(-1)?function(e,t,i){return e.substr(t,i)}:function(e,t,i){return t<0&&(t=e.length+t),e.substr(t,i)}}).call(this,t(581))},function(e,t,i){"use strict";var n,r,a=e.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(t){if(n===setTimeout)return setTimeout(t,0);if((n===defaultSetTimout||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){n=defaultSetTimout}try{r="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){r=defaultClearTimeout}}();var o,s=[],l=!1,u=-1;function cleanUpNextTick(){l&&o&&(l=!1,o.length?s=o.concat(s):u=-1,s.length&&drainQueue())}function drainQueue(){if(!l){var e=runTimeout(cleanUpNextTick);l=!0;for(var t=s.length;t;){for(o=s,s=[];++u<t;)o&&o[u].run();u=-1,t=s.length}o=null,l=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===defaultClearTimeout||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(e){try{return r.call(null,t)}catch(e){return r.call(this,t)}}}(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}a.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];s.push(new Item(e,t)),1!==s.length||l||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},a.title="browser",a.browser=!0,a.env={},a.argv=[],a.version="",a.versions={},a.on=noop,a.addListener=noop,a.once=noop,a.off=noop,a.removeListener=noop,a.removeAllListeners=noop,a.emit=noop,a.prependListener=noop,a.prependOnceListener=noop,a.listeners=function(e){return[]},a.binding=function(e){throw new Error("process.binding is not supported")},a.cwd=function(){return"/"},a.chdir=function(e){throw new Error("process.chdir is not supported")},a.umask=function(){return 0}},function(a,h,c){"use strict";var T;!function(){function aa(e,t,i){return e.call.apply(e.bind,arguments)}function ba(t,i,e){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(e,n),t.apply(i,e)}}return function(){return t.apply(i,arguments)}}function p(e,t,i){return(p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?aa:ba).apply(null,arguments)}var o=Date.now||function(){return+new Date};function ca(e,t){this.a=e,this.m=t||e,this.c=this.m.document}var s=!!window.FontFace;function t(e,t,i,n){if(t=e.c.createElement(t),i)for(var r in i)i.hasOwnProperty(r)&&("style"==r?t.style.cssText=i[r]:t.setAttribute(r,i[r]));return n&&t.appendChild(e.c.createTextNode(n)),t}function u(e,t,i){(e=(e=e.c.getElementsByTagName(t)[0])||document.documentElement).insertBefore(i,e.lastChild)}function v(e){e.parentNode&&e.parentNode.removeChild(e)}function w(e,t,i){t=t||[],i=i||[];for(var n=e.className.split(/\s+/),r=0;r<t.length;r+=1){for(var a=!1,o=0;o<n.length;o+=1)if(t[r]===n[o]){a=!0;break}a||n.push(t[r])}for(t=[],r=0;r<n.length;r+=1){for(a=!1,o=0;o<i.length;o+=1)if(n[r]===i[o]){a=!0;break}a||t.push(n[r])}e.className=t.join(" ").replace(/\s+/g," ").replace(/^\s+|\s+$/,"")}function y(e,t){for(var i=e.className.split(/\s+/),n=0,r=i.length;n<r;n++)if(i[n]==t)return!0;return!1}function z(e){if("string"==typeof e.f)return e.f;var t=e.m.location.protocol;return"about:"==t&&(t=e.a.location.protocol),"https:"==t?"https:":"http:"}function A(e,i,n){function d(){o&&r&&(o(a),o=null)}i=t(e,"link",{rel:"stylesheet",href:i,media:"all"});var r=!1,a=null,o=n||null;s?(i.onload=function(){r=!0,d()},i.onerror=function(){r=!0,a=Error("Stylesheet failed to load"),d()}):setTimeout(function(){r=!0,d()},0),u(e,"head",i)}function B(e,i,n,r){var a=e.c.getElementsByTagName("head")[0];if(a){var o=t(e,"script",{src:i}),s=!1;return o.onload=o.onreadystatechange=function(){s||this.readyState&&"loaded"!=this.readyState&&"complete"!=this.readyState||(s=!0,n&&n(null),o.onload=o.onreadystatechange=null,"HEAD"==o.parentNode.tagName&&a.removeChild(o))},a.appendChild(o),setTimeout(function(){s||(s=!0,n&&n(Error("Script load timeout")))},r||5e3),o}return null}function C(){this.a=0,this.c=null}function D(e){return e.a++,function(){e.a--,E(e)}}function F(e,t){e.c=t,E(e)}function E(e){0==e.a&&e.c&&(e.c(),e.c=null)}function G(e){this.a=e||"-"}function H(e,t){this.c=e,this.f=4,this.a="n";var i=(t||"n4").match(/^([nio])([1-9])$/i);i&&(this.a=i[1],this.f=parseInt(i[2],10))}function J(e){var t=[];e=e.split(/,\s*/);for(var i=0;i<e.length;i++){var n=e[i].replace(/['"]/g,"");-1!=n.indexOf(" ")||/^\d/.test(n)?t.push("'"+n+"'"):t.push(n)}return t.join(",")}function K(e){return e.a+e.f}function I(e){var t="normal";return"o"===e.a?t="oblique":"i"===e.a&&(t="italic"),t}function ha(e,t){this.c=e,this.f=e.m.document.documentElement,this.h=t,this.a=new G("-"),this.j=!1!==t.events,this.g=!1!==t.classes}function M(e){if(e.g){var t=y(e.f,e.a.c("wf","active")),i=[],n=[e.a.c("wf","loading")];t||i.push(e.a.c("wf","inactive")),w(e.f,i,n)}L(e,"inactive")}function L(e,t,i){e.j&&e.h[t]&&(i?e.h[t](i.c,K(i)):e.h[t]())}function ja(){this.c={}}function N(e,i){this.c=e,this.f=i,this.a=t(this.c,"span",{"aria-hidden":"true"},this.f)}function O(e){u(e.c,"body",e.a)}function P(e){return"display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:"+J(e.c)+";font-style:"+I(e)+";font-weight:"+e.f+"00;"}function Q(e,t,i,n,r,a){this.g=e,this.j=t,this.a=n,this.c=i,this.f=r||3e3,this.h=a||void 0}function R(e,t,i,n,r,a,o){this.v=e,this.B=t,this.c=i,this.a=n,this.s=o||"BESbswy",this.f={},this.w=r||3e3,this.u=a||null,this.o=this.j=this.h=this.g=null,this.g=new N(this.c,this.s),this.h=new N(this.c,this.s),this.j=new N(this.c,this.s),this.o=new N(this.c,this.s),e=P(e=new H(this.a.c+",serif",K(this.a))),this.g.a.style.cssText=e,e=P(e=new H(this.a.c+",sans-serif",K(this.a))),this.h.a.style.cssText=e,e=P(e=new H("serif",K(this.a))),this.j.a.style.cssText=e,e=P(e=new H("sans-serif",K(this.a))),this.o.a.style.cssText=e,O(this.g),O(this.h),O(this.j),O(this.o)}G.prototype.c=function(e){for(var t=[],i=0;i<arguments.length;i++)t.push(arguments[i].replace(/[\W_]+/g,"").toLowerCase());return t.join(this.a)},Q.prototype.start=function(){var n=this.c.m.document,r=this,a=o(),e=new Promise(function(t,i){!function k(){var e;o()-a>=r.f?i():n.fonts.load(I(e=r.a)+" "+e.f+"00 300px "+J(e.c),r.h).then(function(e){1<=e.length?t():setTimeout(k,25)},function(){i()})}()}),t=new Promise(function(e,t){setTimeout(t,r.f)});Promise.race([t,e]).then(function(){r.g(r.a)},function(){r.j(r.a)})};var r={D:"serif",C:"sans-serif"},i=null;function U(){if(null===i){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);i=!!e&&(parseInt(e[1],10)<536||536===parseInt(e[1],10)&&parseInt(e[2],10)<=11)}return i}function ma(e,t,i){for(var n in r)if(r.hasOwnProperty(n)&&t===e.f[r[n]]&&i===e.f[r[n]])return!0;return!1}function la(e){var t,i=e.g.a.offsetWidth,n=e.h.a.offsetWidth;(t=i===e.f.serif&&n===e.f["sans-serif"])||(t=U()&&ma(e,i,n)),t?o()-e.A>=e.w?U()&&ma(e,i,n)&&(null===e.u||e.u.hasOwnProperty(e.a.c))?V(e,e.v):V(e,e.B):setTimeout(p(function(){la(this)},e),50):V(e,e.v)}function V(e,t){setTimeout(p(function(){v(this.g.a),v(this.h.a),v(this.j.a),v(this.o.a),t(this.a)},e),0)}function W(e,t,i){this.c=e,this.a=t,this.f=0,this.o=this.j=!1,this.s=i}R.prototype.start=function(){this.f.serif=this.j.a.offsetWidth,this.f["sans-serif"]=this.o.a.offsetWidth,this.A=o(),la(this)};var f=null;function oa(e){0==--e.f&&e.j&&(e.o?((e=e.a).g&&w(e.f,[e.a.c("wf","active")],[e.a.c("wf","loading"),e.a.c("wf","inactive")]),L(e,"active")):M(e.a))}function pa(e){this.j=e,this.a=new ja,this.h=0,this.f=this.g=!0}function sa(e,t){this.c=e,this.a=t}function ua(e,t){this.c=e,this.a=t}function va(e,t,i){this.c=e||t+"//fonts.googleapis.com/css",this.a=[],this.f=[],this.g=i||""}W.prototype.g=function(e){var t=this.a;t.g&&w(t.f,[t.a.c("wf",e.c,K(e).toString(),"active")],[t.a.c("wf",e.c,K(e).toString(),"loading"),t.a.c("wf",e.c,K(e).toString(),"inactive")]),L(t,"fontactive",e),this.o=!0,oa(this)},W.prototype.h=function(e){var t=this.a;if(t.g){var i=y(t.f,t.a.c("wf",e.c,K(e).toString(),"active")),n=[],r=[t.a.c("wf",e.c,K(e).toString(),"loading")];i||n.push(t.a.c("wf",e.c,K(e).toString(),"inactive")),w(t.f,n,r)}L(t,"fontinactive",e),oa(this)},pa.prototype.load=function(e){this.c=new ca(this.j,e.context||this.j),this.g=!1!==e.events,this.f=!1!==e.classes,function(r,e,t){var i=[],n=t.timeout;!function(e){e.g&&w(e.f,[e.a.c("wf","loading")]),L(e,"loading")}(e);i=function(e,t,i){var n,r=[];for(n in t)if(t.hasOwnProperty(n)){var a=e.c[n];a&&r.push(a(t[n],i))}return r}(r.a,t,r.c);var a=new W(r.c,e,n);for(r.h=i.length,e=0,t=i.length;e<t;e++)i[e].load(function(e,t,i){var n,l,u,h,d,c;l=a,u=e,h=t,d=i,c=0==--(n=r).h,(n.f||n.g)&&setTimeout(function(){var e=d||null,t=h||{};if(0===u.length&&c)M(l.a);else{l.f+=u.length,c&&(l.j=c);var i,n=[];for(i=0;i<u.length;i++){var r=u[i],a=t[r.c],o=l.a,s=r;o.g&&w(o.f,[o.a.c("wf",s.c,K(s).toString(),"loading")]),L(o,"fontloading",s),(o=null)===f&&(f=!!window.FontFace&&(!(s=/Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent))||42<parseInt(s[1],10))),o=f?new Q(p(l.g,l),p(l.h,l),l.c,r,l.s,a):new R(p(l.g,l),p(l.h,l),l.c,r,l.s,e,a),n.push(o)}for(i=0;i<n.length;i++)n[i].start()}},0)})}(this,new ha(this.c,e),e)},sa.prototype.load=function(a){var e,t,i,n=this,o=n.a.projectId,r=n.a.version;if(o){var s=n.c.m;B(this.c,(t=o,i=r,z((e=n).c)+"//"+(e=(e.a.api||"fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/,""))+"/"+t+".js"+(i?"?v="+i:"")),function(e){e?a([]):(s["__MonotypeConfiguration__"+o]=function(){return n.a},function b(){if(s["__mti_fntLst"+o]){var e,t=s["__mti_fntLst"+o](),i=[];if(t)for(var n=0;n<t.length;n++){var r=t[n].fontfamily;null!=t[n].fontStyle&&null!=t[n].fontWeight?(e=t[n].fontStyle+t[n].fontWeight,i.push(new H(r,e))):i.push(new H(r))}a(i)}else setTimeout(function(){b()},50)}())}).id="__MonotypeAPIScript__"+o}else a([])},ua.prototype.load=function(e){var t,i,n=this.a.urls||[],r=this.a.families||[],a=this.a.testStrings||{},o=new C;for(t=0,i=n.length;t<i;t++)A(this.c,n[t],D(o));var s=[];for(t=0,i=r.length;t<i;t++)if((n=r[t].split(":"))[1])for(var l=n[1].split(","),u=0;u<l.length;u+=1)s.push(new H(n[0],l[u]));else s.push(new H(n[0]));F(o,function(){e(s,a)})};function za(e){this.f=e,this.a=[],this.c={}}var m={latin:"BESbswy","latin-ext":"",cyrillic:"",greek:"",khmer:"",Hanuman:""},_={thin:"1",extralight:"2","extra-light":"2",ultralight:"2","ultra-light":"2",light:"3",regular:"4",book:"4",medium:"5","semi-bold":"6",semibold:"6","demi-bold":"6",demibold:"6",bold:"7","extra-bold":"8",extrabold:"8","ultra-bold":"8",ultrabold:"8",black:"9",heavy:"9",l:"3",r:"4",b:"7"},g={i:"i",italic:"i",n:"n",normal:"n"},x=/^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;function Fa(e,t){this.c=e,this.a=t}var l={Arimo:!0,Cousine:!0,Tinos:!0};function Ha(e,t){this.c=e,this.a=t}function Ia(e,t){this.c=e,this.f=t,this.a=[]}Fa.prototype.load=function(e){var t=new C,i=this.c,n=new va(this.a.api,z(i),this.a.text),r=this.a.families;!function(e,t){for(var i=t.length,n=0;n<i;n++){var r=t[n].split(":");3==r.length&&e.f.push(r.pop());var a="";2==r.length&&""!=r[1]&&(a=":"),e.a.push(r.join(a))}}(n,r);var a=new za(r);!function(e){for(var t=e.f.length,i=0;i<t;i++){var n=e.f[i].split(":"),r=n[0].replace(/\+/g," "),a=["n4"];if(2<=n.length){var o;if(o=[],s=n[1])for(var s,l=(s=s.split(",")).length,u=0;u<l;u++){var h;if((h=s[u]).match(/^[\w-]+$/))if(null==(c=x.exec(h.toLowerCase())))h="";else{if(h=null==(h=c[2])||""==h?"n":g[h],null==(c=c[1])||""==c)c="4";else var d=_[c],c=d||(isNaN(c)?"4":c.substr(0,1));h=[h,c].join("")}else h="";h&&o.push(h)}0<o.length&&(a=o),3==n.length&&(o=[],0<(n=(n=n[2])?n.split(","):o).length&&(n=m[n[0]])&&(e.c[r]=n))}for(e.c[r]||(n=m[r])&&(e.c[r]=n),n=0;n<a.length;n+=1)e.a.push(new H(r,a[n]))}}(a),A(i,function(e){if(0==e.a.length)throw Error("No fonts to load!");if(-1!=e.c.indexOf("kit="))return e.c;for(var t=e.a.length,i=[],n=0;n<t;n++)i.push(e.a[n].replace(/ /g,"+"));return t=e.c+"?family="+i.join("%7C"),0<e.f.length&&(t+="&subset="+e.f.join(",")),0<e.g.length&&(t+="&text="+encodeURIComponent(e.g)),t}(n),D(t)),F(t,function(){e(a.a,a.c,l)})},Ha.prototype.load=function(o){var e=this.a.id,s=this.c.m;e?B(this.c,(this.a.api||"https://use.typekit.net")+"/"+e+".js",function(e){if(e)o([]);else if(s.Typekit&&s.Typekit.config&&s.Typekit.config.fn){e=s.Typekit.config.fn;for(var t=[],i=0;i<e.length;i+=2)for(var n=e[i],r=e[i+1],a=0;a<r.length;a++)t.push(new H(n,r[a]));try{s.Typekit.load({events:!1,classes:!1,async:!0})}catch(e){}o(t)}},2e3):o([])},Ia.prototype.load=function(u){var e,t=this.f.id,i=this.c.m,h=this;t?(i.__webfontfontdeckmodule__||(i.__webfontfontdeckmodule__={}),i.__webfontfontdeckmodule__[t]=function(e,t){for(var i=0,n=t.fonts.length;i<n;++i){var r=t.fonts[i];h.a.push(new H(r.name,(a="font-weight:"+r.weight+";font-style:"+r.style,l=s=o=void 0,o=4,s="n",l=null,a&&((l=a.match(/(normal|oblique|italic)/i))&&l[1]&&(s=l[1].substr(0,1).toLowerCase()),(l=a.match(/([1-9]00|normal|bold)/i))&&l[1]&&(/bold/i.test(l[1])?o=7:/[1-9]00/.test(l[1])&&(o=parseInt(l[1].substr(0,1),10)))),s+o)))}var a,o,s,l;u(h.a)},B(this.c,z(this.c)+(this.f.api||"//f.fontdeck.com/s/css/js/")+((e=this.c).m.location.hostname||e.a.location.hostname)+"/"+t+".js",function(e){e&&u([])})):u([])};var e=new pa(window);e.a.c.custom=function(e,t){return new ua(t,e)},e.a.c.fontdeck=function(e,t){return new Ia(t,e)},e.a.c.monotype=function(e,t){return new sa(t,e)},e.a.c.typekit=function(e,t){return new Ha(t,e)},e.a.c.google=function(e,t){return new Fa(t,e)};var n={load:p(e.load,e)};void 0===(T=function(){return n}.call(h,c,h,a))||(a.exports=T)}()},function(e,t,i){"use strict";var n;void 0===(n=function(e,t,i){function uHg(){this.colorRect=(new PIXI.Graphics).beginFill(0).drawRect(0,0,2e3,1e3),this.colorRect.alpha=0}(uHg.constructor=uHg).prototype.begin=function(e,t,i){this.screenManager=e,this.currentScreen=t,this.nextScreen=i,this.screenManager.container.addChild(this.colorRect),this.currentScreen?(this.currentScreen.onHide&&this.currentScreen.onHide(),TweenLite.to(this.colorRect,.4,{alpha:1,onComplete:this.onFadeout.bind(this)})):this.onFadeout()},uHg.prototype.onFadeout=function(){this.currentScreen&&(this.currentScreen.onHidden&&this.currentScreen.onHidden(),this.screenManager.container.removeChild(this.currentScreen),this.currentScreen.alpha=1),this.nextScreen.onShow&&this.nextScreen.onShow(),this.nextScreen.resize&&this.nextScreen.resize(this.screenManager.w,this.screenManager.h),this.screenManager.container.addChild(this.nextScreen),this.screenManager.container.addChild(this.colorRect),TweenLite.to(this.colorRect,.4,{alpha:0,onComplete:this.onFadein.bind(this)})},uHg.prototype.onFadein=function(){this.screenManager.container.removeChild(this.colorRect),this.nextScreen.onShown&&this.nextScreen.onShown(),this.screenManager.onTransitionComplete()},uHg.prototype.resize=function(e,t){this.w===e&&this.h===t||(this.w=e,this.h=t,this.colorRect.scale.x=e/100,this.colorRect.scale.y=t/100)},i.exports=uHg}.call(t,i,t,e))||(e.exports=n)},function(e,t,s){"use strict";var i;void 0===(i=function(e,t,i){function LHg(e){n.Container.call(this),this.app=e,this.easeLoad=0,this.targetLoad=0,this.onReady=new o,this.onComplete=new o,this.initLoader()}var n=s(0),r=s(4),a=s(67),o=s(3);(LHg.prototype=Object.create(n.Container.prototype)).initLoader=function(){r.instance.add(this.update,this),this.resize(this.w,this.h),a.wait(this.showLoader.bind(this))},LHg.prototype.showLoader=function(){this.onReady.dispatch()},LHg.prototype.update=function(){this.easeLoad+=.3*(this.targetLoad-this.easeLoad),.99<this.easeLoad&&(this.easeLoad=1,r.instance.remove(this.update,this),this.onComplete.dispatch())},LHg.prototype.updateProgress=function(e){this.targetLoad=e},LHg.prototype.onHide=function(){r.instance.remove(this.update,this)},LHg.prototype.resize=function(e,t){this.w=e,this.h=t,this.barBg},i.exports=LHg}.call(t,s,t,e))||(e.exports=i)},function(e,t,o){"use strict";var i;void 0===(i=function(e,t,i){function _Hg(e){this.mode=e,this.onRotationChanged=new a,this.rotationWarning=!0,this.orientation,this.rotateScreen=document.createElement("div"),this.rotateScreen.style.backgroundPosition="50% 50%",this.rotateScreen.style.backgroundColor="#3b3b3b",this.rotateScreen.style.backgroundRepeat="no-repeat",this.rotateScreen.style.position="absolute",this.rotateScreen.style.backgroundSize="cover",this.rotateScreen.style.top="0",this.rotateScreen.style.left="0",this.rotateScreen.style.bottom="0",this.rotateScreen.style.right="0",this.rotateScreen.style.zIndex=1e7,this.rotateScreen.style.display="none",this.rotateScreen.height="100%",this.rotateScreen.width="100%",this.changeRotationImage(ASSET_URL+"img/orientation_iphone.jpg"),r.instance.iPad&&this.changeRotationImage(ASSET_URL+"img/orientation_ipad.jpg"),document.body.appendChild(this.rotateScreen),r.instance.firefox&&window.matchMedia("(orientation: portrait)").addListener(this.checkOrientationChangesFirefox.bind(this)),this.supportsOrientationChange="onorientationchange"in window,this.supportsOrientationChange&&(this.orientation=window.orientation,window.addEventListener("orientationchange",this.checkOrientationChanges.bind(this),!1),this.checkOrientationChanges()),this.supportsOrientationEvent="DeviceOrientationEvent"in window}var n=o(4),r=o(15),a=o(3);o(313);(_Hg.prototype.constructor=_Hg).prototype.checkOrientationResize=function(e){},_Hg.prototype.changeRotationImage=function(e){this.rotateScreen.style.backgroundImage="url("+e+")"},_Hg.prototype.checkOrientationChangesFirefox=function(){var e=screen.orientation||screen.mozOrientation||screen.msOrientation;"landscape-primary"===e?this.orientation=90:"landscape-secondary"===e&&(this.orientation=-90),this.onRotationChanged.dispatch(this.orientation)},_Hg.prototype.checkOrientationChanges=function(){this.orientation=window.orientation,this.onRotationChanged.dispatch(window.orientation),0===this.orientation?(n.instance.stop(),n.game.stop(),this.rotateScreen.style.display="block"):(n.instance.start(),n.game.start(),this.rotateScreen.style.display="none")},_Hg.prototype.check=function(e,t){r.instance.desktop||((0===this.mode?e<t:t<e)?(n.instance.stop(),this.rotateScreen.style.display="block"):(n.instance.start(),this.rotateScreen.style.display="none"))},_Hg.prototype.updateDeviceOrientation=function(e){this.alpha=e.alpha,this.beta=e.beta,this.gamma=e.gamma},i.exports=_Hg}.call(t,o,t,e))||(e.exports=i)},function(e,t,r){"use strict";var i;void 0===(i=function(e,t,i){function rIg(e,t){this.debug=t.debug||!1,this.app=e,this.app.loader.addJson(t.stringsUrl||ASSET_URL+"json/strings.json","strings")}var n=r(33);(rIg.prototype.constructor=rIg).prototype.init=function(){if(window.translations=n.getJson("strings").strings,this.debug)for(var e in window.translations)window.translations[e]+=window.translations[e]},i.exports=rIg}.call(t,r,t,e))||(e.exports=i)},function(e,t,i){"use strict";var n,r,a,s,l,u,h,d,c,p,f,m,o;function AIg(e){return this instanceof AIg?AIg.methods.initialize(e):new AIg(e)}r={},a=window.devicePixelRatio||1,s={WIDTH:80*a,HEIGHT:50*a,FRAMES:{WIDTH:74*a,HEIGHT:32*a,X:3*a,Y:15*a},TEXT:{HEIGHT:8*a,X:75*a,Y:10*a}},l={DATAS:"#1AFFFF",FRAMES:"#1B314C",BACKGROUND:"#1A1A38"},u={DATAS:"#1AFF1A",FRAMES:"#1B4C1B",BACKGROUND:"#1A381A"},h={DATAS:"#FF1A94",FRAMES:"#4C1B34",BACKGROUND:"#381A29"},d={DATAS:"#FFFFFF",FRAMES:"#555555",BACKGROUND:"#222222"},c=0,p=1,f=2,m=3,o=null!=window.performance&&null!=window.performance.memory&&null!=window.performance.memory.usedJSHeapSize,(AIg.methods={initialize:function(e){return this.mode=c,this.realTime=e||!1,this.frameTime=0,this.beginTime=0,this.endTime=0,this.isPinging=!1,this.beginPinging=0,this.endPinging=0,this.fps={value:0,current:0,min:1/0,max:-1/0,array:new Array(s.FRAMES.WIDTH)},this.ms={value:0,current:0,min:1/0,max:-1/0,array:new Array(s.FRAMES.WIDTH)},this.mb={value:0,current:0,min:1/0,max:-1/0,array:new Array(s.FRAMES.WIDTH)},this.ping={value:0,current:0,min:1/0,max:-1/0,array:new Array(s.FRAMES.WIDTH)},this.domElement=document.createElement("canvas"),this.domElement.className="statsjs",this.domElement.width=s.WIDTH,this.domElement.height=s.HEIGHT,this.domElement.style.width=s.WIDTH/a+"px",this.domElement.style.height=s.HEIGHT/a+"px",this.domElement.addEventListener("click",function(e){this.switchMode()}.bind(this),!1),this.context=this.domElement.getContext("2d"),this.context.imageSmoothingEnabled=!1,this.context.font="bold "+s.TEXT.HEIGHT+"px sans-serif",this.context.textAlign="right",this},switchMode:function(){this.mode==c?this.mode=p:this.mode==p?this.mode=1==o?f:m:this.mode==f?this.mode=m:this.mode==m&&(this.mode=c),this.draw()},begin:function(){this.beginTime=window.performance.now()},end:function(){var e=window.performance.now(),t=e-this.frameTime;if(this.endTime=e,this.fps.current++,this.fps.max=Math.max(this.fps.current,this.fps.max),this.ms.current=(this.endTime-this.beginTime).toFixed(0),this.ms.min=Math.min(this.ms.current,this.ms.min),this.ms.max=Math.max(this.ms.current,this.ms.max),1==o&&(this.mb.current=Math.round(954e-9*window.performance.memory.usedJSHeapSize),this.mb.min=Math.min(this.mb.current,this.mb.min),this.mb.max=Math.max(this.mb.current,this.mb.max)),1==this.realTime&&(this.fps.value=this.fps.current,this.fps.array[this.fps.array.length-1]=this.fps.value),t<1e3&&1==this.realTime)this.draw();else if(1e3<=t){this.fps.min=Math.min(this.fps.current,this.fps.min),this.frameTime=e,this.fps.value=this.fps.current,this.ms.value=this.ms.current,this.mb.value=this.mb.current,this.ping.value=this.ping.current;for(var i=0,n=s.FRAMES.WIDTH;i<n;i++)this.fps.array[i]=this.fps.array[i+1],this.ms.array[i]=this.ms.array[i+1],this.mb.array[i]=this.mb.array[i+1],this.ping.array[i]=this.ping.array[i+1];this.fps.array[this.fps.array.length-1]=this.fps.value,this.ms.array[this.ms.array.length-1]=this.ms.value,this.mb.array[this.mb.array.length-1]=this.mb.value,this.ping.array[this.ping.array.length-1]=this.ping.value,this.draw(),this.fps.current=0}},beginPing:function(){this.beginPinging=window.performance.now()},endPing:function(){this.endPinging=window.performance.now(),this.ping.current=parseInt(this.endPinging-this.beginPinging),this.ping.min=Math.min(this.ping.current,this.ping.min),this.ping.max=Math.max(this.ping.current,this.ping.max)},draw:function(){if(this.context.clearRect(0,0,s.WIDTH,s.HEIGHT),this.mode==c){this.context.fillStyle=l.BACKGROUND,this.context.fillRect(0,0,s.WIDTH,s.HEIGHT),this.context.fillStyle=l.FRAMES,this.context.fillRect(s.FRAMES.X,s.FRAMES.Y,s.FRAMES.WIDTH,s.FRAMES.HEIGHT),this.context.fillStyle=l.DATAS;var e=this.fps.min==1/0?"":this.fps.min,t=this.fps.max==-1/0?"":this.fps.max;1==this.realTime?this.context.fillText(this.fps.current+" FPS ("+e+"-"+t+")",s.TEXT.X,s.TEXT.Y):this.context.fillText(this.fps.value+" FPS ("+e+"-"+t+")",s.TEXT.X,s.TEXT.Y);for(var i=0,n=this.fps.array.length;i<n;i++){var r=this.fps.array[i]/this.fps.max*s.FRAMES.HEIGHT||0,a=s.FRAMES.X+i,o=s.FRAMES.Y+s.FRAMES.HEIGHT-r;this.context.fillRect(a,o,1,r)}}else if(this.mode==p){this.context.fillStyle=u.BACKGROUND,this.context.fillRect(0,0,s.WIDTH,s.HEIGHT),this.context.fillStyle=u.FRAMES,this.context.fillRect(s.FRAMES.X,s.FRAMES.Y,s.FRAMES.WIDTH,s.FRAMES.HEIGHT),this.context.fillStyle=u.DATAS;e=this.ms.min==1/0?"":this.ms.min,t=this.ms.max==-1/0?"":this.ms.max;1==this.realTime?this.context.fillText(this.ms.current+" MS ("+e+"-"+t+")",s.TEXT.X,s.TEXT.Y):this.context.fillText(this.ms.value+" MS ("+e+"-"+t+")",s.TEXT.X,s.TEXT.Y);for(i=0,n=this.ms.array.length;i<n;i++){r=this.ms.array[i]/this.ms.max*s.FRAMES.HEIGHT||0,a=s.FRAMES.X+i,o=s.FRAMES.Y+s.FRAMES.HEIGHT-r;this.context.fillRect(a,o,1,r)}}else if(this.mode==f){this.context.fillStyle=h.BACKGROUND,this.context.fillRect(0,0,s.WIDTH,s.HEIGHT),this.context.fillStyle=h.FRAMES,this.context.fillRect(s.FRAMES.X,s.FRAMES.Y,s.FRAMES.WIDTH,s.FRAMES.HEIGHT),this.context.fillStyle=h.DATAS;e=this.mb.min==1/0?"":this.mb.min,t=this.mb.max==-1/0?"":this.mb.max;1==this.realTime?this.context.fillText(this.mb.current+" MB ("+e+"-"+t+")",s.TEXT.X,s.TEXT.Y):this.context.fillText(this.mb.value+" MB ("+e+"-"+t+")",s.TEXT.X,s.TEXT.Y);for(i=0,n=this.mb.array.length;i<n;i++){r=this.mb.array[i]/this.mb.max*s.FRAMES.HEIGHT||0,a=s.FRAMES.X+i,o=s.FRAMES.Y+s.FRAMES.HEIGHT-r;this.context.fillRect(a,o,1,r)}}else if(this.mode==m){this.context.fillStyle=d.BACKGROUND,this.context.fillRect(0,0,s.WIDTH,s.HEIGHT),this.context.fillStyle=d.FRAMES,this.context.fillRect(s.FRAMES.X,s.FRAMES.Y,s.FRAMES.WIDTH,s.FRAMES.HEIGHT),this.context.fillStyle=d.DATAS;e=this.ping.min==1/0?"":this.ping.min,t=this.ping.max==-1/0?"":this.ping.max;1==this.realTime?this.context.fillText(this.ping.current+" PING ("+e+"-"+t+")",s.TEXT.X,s.TEXT.Y):this.context.fillText(this.ping.value+" PING ("+e+"-"+t+")",s.TEXT.X,s.TEXT.Y);for(i=0,n=this.ping.array.length;i<n;i++){r=this.ping.array[i]/this.ping.max*s.FRAMES.HEIGHT||0,a=s.FRAMES.X+i,o=s.FRAMES.Y+s.FRAMES.HEIGHT-r;this.context.fillRect(a,o,1,r)}}}}).initialize.prototype=AIg.methods,i(36)instanceof Function&&null!=i(66)?void 0===(n=function(){return AIg}.call(t,i,t,e))||(e.exports=n):e.exports?e.exports=AIg:null!=r&&(r.Stats=AIg)},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var r=i(0),a=_interopRequireDefault(i(589)),o=_interopRequireDefault(i(6)),s=i(17),l=_interopRequireDefault(i(590)),u=_interopRequireDefault(i(5)),h=_interopRequireDefault(i(26)),d=_interopRequireDefault(i(134)),c=_interopRequireDefault(i(323)),p=_interopRequireDefault(i(140));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=function(i){var e,t;function GameScreen(e){var t;return _defineProperty(_assertThisInitialized(t=i.call(this)||this),"app",void 0),_defineProperty(_assertThisInitialized(t),"game",void 0),_defineProperty(_assertThisInitialized(t),"transition",void 0),_defineProperty(_assertThisInitialized(t),"continueButton",void 0),_defineProperty(_assertThisInitialized(t),"coreAssetsLoaded",void 0),_defineProperty(_assertThisInitialized(t),"firstRun",void 0),_defineProperty(_assertThisInitialized(t),"gameCoreLoader",void 0),t.app=e,t.game=new l.default(e),t.game.onGameover.add(t.onGameover,_assertThisInitialized(t)),t.addChild(t.game.view),t.app.game=t.game,t.transition=new a.default,t.continueButton=new h.default("button-green-long.png",null,null,"STR_CONTINUE",1.1),t.continueButton.defaultScale=1,t.continueButton.onPress.add(t.onContinueButtonPressed,_assertThisInitialized(t)),t.continueButton.visible=!1,t.addChild(t.continueButton),t.gameCoreLoader=new d.default,t.coreAssetsLoaded=!1,t.firstRun=!0,t.transition.onTransition=t.onTransition.bind(_assertThisInitialized(t)),t}t=i,(e=GameScreen).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=GameScreen.prototype;return n.onTransition=function(){var e=this;this.app.topMenu.setState("empty"),this.app.topMenu.bar.visible=!0,this.coreAssetsLoaded?this.loadContentAssets():(this.gameCoreLoader.onComplete.addOnce(function(){e.loadContentAssets()}),this.loadCoreAssets())},n.loadCoreAssets=function(){var e=this;this.gameCoreLoader.addManifest(RESOLVE_MANIFEST(c.default.game),ASSET_URL).addManifest(RESOLVE_MANIFEST(c.default.goalkeeper),ASSET_URL).addManifest(RESOLVE_MANIFEST(c.default["base-game-ui"]),ASSET_URL).addManifest(RESOLVE_MANIFEST(c.default["banners-default"]),ASSET_URL).addManifest(RESOLVE_MANIFEST(c.default["character-profiles"]),ASSET_URL).addManifest(RESOLVE_MANIFEST(c.default["character-supershots"]),ASSET_URL).addManifest(RESOLVE_MANIFEST(c.default["finn-blue"]),ASSET_URL).addManifest(RESOLVE_MANIFEST(c.default["tutorial-game-ui"]),ASSET_URL),this.gameCoreLoader.onComplete.addOnce(function(){e.coreAssetsLoaded=!0}),this.gameCoreLoader.load()},n.loadContentAssets=function(){var e=new d.default;this.addCharacterAnimationAssets(e),e.onComplete.addOnce(this.assetsLoaded,this),e.load()},n.addCharacterAnimationAssets=function(i){var t=[],e=this.getCharacters(),n=this.getCharacters(!0);e.forEach(function(e){t.push(RESOLVE_MANIFEST(c.default[e.spriteSheet+"-blue"]))}),n.forEach(function(e){t.push(RESOLVE_MANIFEST(c.default[e.spriteSheet+"-red"]))}),t.forEach(function(e){var t=""+ASSET_URL+e+"_image";r.TextureCache[t]||i.addManifest(e,ASSET_URL)})},n.getCharacters=function(e){void 0===e&&(e=!1);for(var t=[],i=e?u.default.teamB:u.default.teamA,n=0;n<i.length;n++)t.push(i[n]);return t},n.assetsLoaded=function(){var e=this;if(this.app.topMenu.setState("game"),this.app.topMenu.bar.visible=!1,this.game.init(),this.game.refreshStadiumDecoration(),this.game.start(),this.firstRun){this.firstRun=!1;for(var t=0;t<30;t++)this.game.world.view3d.camera.update();TweenLite.delayedCall(.25,function(){e.transition.fadeOut()})}else this.transition.fadeOut()},n.onShow=function(){var e=this;TweenLite.to(this.app.dimmer,.4,{alpha:1,delay:.4,onComplete:function(){e.app.stadiumsSystem.backgroundContainer.visible=!1,e.app.dimmer.visible=!1}}),this.continueButton.visible=!1,this.app.overlayManager.onShow.add(this.onOverlayShow,this),this.app.overlayManager.onHide.add(this.onOverlayHide,this),window.TUTORIAL||CES.dispatch(s.EventKeys.GAME_MATCH_STARTED,{match_type:this.game.getMatchType()})},n.quit=function(){this.screenManager.gotoScreenByID(o.default.SCREEN_ID.TITLE)},n.onGameover=function(){this.app.overlayManager.hide(),u.default.isTournament?this.onTournamentMatchEnd():(this.continueButton.visible=!0,this.continueButton.alpha=0,TweenLite.to(this.continueButton,.4,{alpha:1}))},n.onTournamentMatchEnd=function(){var e=u.default.matchResult.goalsA-u.default.matchResult.goalsB<=0,t=0<u.default.tournamentData.final.length;!e&&u.default.videoAdLoaded?this.showVideoAd():e&&50<=u.default.coins?(this.app.topMenu.prevScreen=o.default.SCREEN_ID.TITLE,MusicManager2.play("menumusic2"),window.unlockablesPrevScreen=o.default.SCREEN_ID.TITLE,this.screenManager.gotoScreenByID(o.default.SCREEN_ID.UNLOCKABLES)):e?(MusicManager2.play("menumusic2"),this.screenManager.gotoScreenByID(o.default.SCREEN_ID.LEADERBOARD)):(MusicManager2.play("tournament_screen"),t&&!e?(u.default.tournamentData.winner=[u.default.countryID],this.screenManager.gotoScreenByID(o.default.SCREEN_ID.TEAM_REVIEW)):this.screenManager.gotoScreenByID(o.default.SCREEN_ID.TOURNAMENT))},n.showVideoAd=function(){var t=this;if(u.default.videoAdLoaded){p.default.currentSound&&p.default.currentSound.stop();var i=u.default.matchResult.goalsA-u.default.matchResult.goalsB<=0,n=0<u.default.tournamentData.final.length;nativeads.playInterstitial(function(){var e=LOCAL_STORAGE.get("muted");"true"!==e&&!0!==e&&SoundManager.music.unmute(),Device.instance.iOS&&("interrupted"===Howler.ctx.state||"suspended"===Howler.ctx.state)?Howler.ctx.resume().then(function(){MusicManager2.play("tournament_screen")}):MusicManager2.play("tournament_screen"),t.app.adsSystem.loadInterstitial(),n&&!i?(u.default.tournamentData.winner=[u.default.countryID],t.screenManager.gotoScreenByID(o.default.SCREEN_ID.TEAM_REVIEW)):t.screenManager.gotoScreenByID(o.default.SCREEN_ID.TOURNAMENT)},function(){var e=LOCAL_STORAGE.get("muted");"true"!==e&&!0!==e&&SoundManager.music.unmute(),MusicManager2.play("tournament_screen"),t.app.adsSystem.loadInterstitial(),n&&!i?(u.default.tournamentData.winner=[u.default.countryID],t.screenManager.gotoScreenByID(o.default.SCREEN_ID.TEAM_REVIEW)):t.screenManager.gotoScreenByID(o.default.SCREEN_ID.TOURNAMENT)})}},n.onContinueButtonPressed=function(){this.screenManager.gotoScreenByID(o.default.SCREEN_ID.TITLE)},n.onShown=function(){},n.onHide=function(){this.app.topMenu.skipButton.visible=!1,this.app.stadiumsSystem.backgroundContainer.visible=!0,this.app.dimmer.visible=!0,this.app.dimmer.alpha=1,TweenLite.to(this.app.dimmer,.4,{alpha:.5}),this.game.pause(!0),this.app.overlayManager.onShow.remove(this.onOverlayShow,this),this.app.overlayManager.onHide.remove(this.onOverlayHide,this),app.view.style["-webkit-filter"]=null},n.onHidden=function(){this.game.pause()},n.onOverlayShow=function(){this.game.pause()},n.onOverlayHide=function(){this.game.isGameover||this.game.resume()},n.resize=function(e,t){var i=this.app.screenManager.container.x/this.app.screenManager.container.scale.x,n=this.app.screenManager.container.y/this.app.screenManager.container.scale.y;this.game.resize(e+2*i,t+2*n),this.position.x=0,this.position.y=0,this.continueButton.x=e/2,this.continueButton.y=t/2+300},GameScreen}(r.Container);t.default=n},function(e,t,i){"use strict";var n;void 0===(n=function(e,t,i){function bKg(){this.circle=(new PIXI.Graphics).beginFill(1044480).drawCircle(0,0,100)}(bKg.constructor=bKg).prototype.begin=function(e,t,i){this.screenManager=e,this.currentScreen=t,this.nextScreen=i,app.topMenu.disableButtons(),this.nextScreen.onShow&&this.nextScreen.onShow(),e.container.addChild(this.circle),e.container.mask=this.circle,this.circle.scale.set(this.targetScale),this.currentScreen?(this.currentScreen.interactiveChildren=!1,this.currentScreen.onHide&&this.currentScreen.onHide(),TweenLite.to(this.circle.scale,1,{x:.001,y:.001,ease:Sine.easeOut,onComplete:this.onFadeout.bind(this)})):this.onFadeout()},bKg.prototype.onFadeout=function(){this.currentScreen&&(this.currentScreen.onHidden&&this.currentScreen.onHidden(),this.screenManager.container.removeChild(this.currentScreen)),this.nextScreen.resize&&this.nextScreen.resize(this.screenManager.w,this.screenManager.h),this.screenManager.container.addChild(this.nextScreen),"function"==typeof this.onTransition?this.onTransition():this.fadeOut(),this.currentScreen.interactiveChildren=!0,this.nextScreen.interactiveChildren=!0},bKg.prototype.fadeOut=function(){TweenLite.to(this.circle.scale,1.2,{delay:.2,x:this.targetScale,y:this.targetScale,ease:Cubic.easeIn,onComplete:this.onFadein.bind(this)})},bKg.prototype.onFadein=function(){this.nextScreen.onShown&&this.nextScreen.onShown(),this.screenManager.container.removeChild(this.circle),this.screenManager.container.mask=null,this.screenManager.onTransitionComplete()},bKg.prototype.onResize=function(e,t){this.w=e,this.h=t,this.targetScale=e/100*1.2,this.circle.x=e/2,this.circle.y=t/2},i.exports=bKg}.call(t,i,t,e))||(e.exports=n)},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var r=i(12),a=i(0),o=_interopRequireDefault(i(591)),s=_interopRequireDefault(i(592)),l=_interopRequireDefault(i(593)),u=_interopRequireDefault(i(600)),h=_interopRequireDefault(i(601)),d=_interopRequireDefault(i(603)),c=_interopRequireDefault(i(138)),p=_interopRequireDefault(i(30)),f=_interopRequireDefault(i(15)),m=_interopRequireDefault(i(604)),_=i(17),g=_interopRequireDefault(i(605)),v=_interopRequireDefault(i(606)),y=_interopRequireDefault(i(5)),b=_interopRequireDefault(i(607)),w=_interopRequireDefault(i(609)),x=_interopRequireDefault(i(610)),T=_interopRequireDefault(i(618)),S=_interopRequireDefault(i(620)),M=_interopRequireDefault(i(621)),L=_interopRequireDefault(i(623)),E=_interopRequireDefault(i(140)),C=_interopRequireDefault(i(624)),A=_interopRequireDefault(i(625)),P=_interopRequireDefault(i(631)),D=_interopRequireDefault(i(141)),R=_interopRequireDefault(i(648)),k=_interopRequireDefault(i(3)),I=_interopRequireDefault(i(13)),O=_interopRequireDefault(i(649)),B=_interopRequireDefault(i(650)),N=_interopRequireDefault(i(652)),F=_interopRequireDefault(i(653)),Y=_interopRequireDefault(i(176)),U=_interopRequireDefault(i(4)),j=_interopRequireDefault(i(41)),z=_interopRequireDefault(i(656)),G=_interopRequireDefault(i(659)),H=_interopRequireDefault(i(139)),W=_interopRequireDefault(i(662)),V=_interopRequireDefault(i(663));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}U.default.game=new U.default;var n=function(){function FootballGame(e){var t=this;_defineProperty(this,"app",void 0),_defineProperty(this,"balanceManager",void 0),_defineProperty(this,"teamManagerA",void 0),_defineProperty(this,"teamManagerB",void 0),_defineProperty(this,"keeperManagerLeft",void 0),_defineProperty(this,"keeperManagerRight",void 0),_defineProperty(this,"powerupManager",void 0),_defineProperty(this,"tutorialManager",void 0),_defineProperty(this,"gameDetails",void 0),_defineProperty(this,"controller",void 0),_defineProperty(this,"wait",void 0),_defineProperty(this,"timer",void 0),_defineProperty(this,"goldenGoalTimeCounter",void 0),_defineProperty(this,"view",void 0),_defineProperty(this,"black",void 0),_defineProperty(this,"vignette",void 0),_defineProperty(this,"world",void 0),_defineProperty(this,"particleSystem",void 0),_defineProperty(this,"arrow",void 0),_defineProperty(this,"hud",void 0),_defineProperty(this,"ballPicker",void 0),_defineProperty(this,"lighting3d",void 0),_defineProperty(this,"flash",void 0),_defineProperty(this,"movieBorders",void 0),_defineProperty(this,"pitch",void 0),_defineProperty(this,"ball",void 0),_defineProperty(this,"goalLeft",void 0),_defineProperty(this,"goalRight",void 0),_defineProperty(this,"keeperLeft",void 0),_defineProperty(this,"keeperRight",void 0),_defineProperty(this,"teamLeft",void 0),_defineProperty(this,"teamRight",void 0),_defineProperty(this,"superMove",void 0),_defineProperty(this,"coinSplash",void 0),_defineProperty(this,"hasInit",void 0),_defineProperty(this,"isGameover",void 0),_defineProperty(this,"goldenGoal",void 0),_defineProperty(this,"paused",void 0),_defineProperty(this,"score",void 0),_defineProperty(this,"points",void 0),_defineProperty(this,"counter",void 0),_defineProperty(this,"speed",void 0),_defineProperty(this,"endState",void 0),_defineProperty(this,"goalsA",void 0),_defineProperty(this,"goalsB",void 0),_defineProperty(this,"pitchWidth",void 0),_defineProperty(this,"pitchHeight",void 0),_defineProperty(this,"stats",void 0),_defineProperty(this,"scripts",void 0),_defineProperty(this,"isBlurring",void 0),_defineProperty(this,"_active",void 0),_defineProperty(this,"w",void 0),_defineProperty(this,"h",void 0),_defineProperty(this,"onGameover",void 0),this.app=e,this.onGameover=new k.default,this.wait=new H.default(U.default.game),this.hasInit=!1,this.isGameover=!1,this.paused=!0,this.score=0,this.counter=0,this.view=new a.Container,this.world=new V.default.World,U.default.game.start();var i={camera:new h.default(this),camera3d:new d.default(this)};this.stats={tackleTotal:0,tackleSuccess:0,shootTotal:0,passTotal:0,passSuccess:0,opponentTackle:0,opponentTackleSuccess:0,possession:0},this.world.install(new V.default.CrashWorld,"crash"),this.world.install(new V.default.PixiView(i),"view"),this.world.install(new Y.default(i),"view3d"),window.cordova?document.addEventListener("pause",function(){!window.TUTORIAL&&"game"===t.app.topMenu.state&&t.active&&t.app.topMenu.pauseGame()},!1):(window.addEventListener("blur",function(){t.isBlurring=!0,!window.TUTORIAL&&"game"===t.app.topMenu.state&&t.active&&t.app.topMenu.pauseGame()}),window.addEventListener("focus",function(){t.isBlurring=!1}))}var e,t,i,n=FootballGame.prototype;return n.init=function(){var t=this;if(!this.hasInit){this.arrow=new o.default,this.world.overlay=new a.Container,this.world.view3d.scene.add(this.arrow),this.view.addChild((new a.Graphics).beginFill(1044480).drawRect(0,0,2,2)),this.view.addChild(this.world.view3d),this.world.crash.registerCollison(0,1),this.world.crash.registerCollison(1,1),this.world.crash.registerCollison(1,4),this.lighting3d=new r.Object3D;var e=new r.AmbientLight(10397865),i=new r.DirectionalLight(16186107,.6);i.position.set(0,0,1e4),this.lighting3d.add(e),this.lighting3d.add(i),this.world.view3d.scene.add(this.lighting3d),(this.world.game=this).balanceManager=new s.default(this),this.pitch=new C.default(this.app),this.world.add(this.pitch),this.goalLeft=new b.default(this.app),this.goalRight=new b.default(this.app,!0),this.keeperLeft=new T.default,this.keeperRight=new T.default(!0),this.ball=new l.default(this.app),this.teamLeft=new V.default.Group([new A.default(!1),new A.default(!1),new A.default(!1)]),this.teamRight=new V.default.Group([new A.default(!0),new A.default(!0),new A.default(!0)]),this.teamLeft.run(function(e){e.setTeam(t.teamLeft)}),this.teamRight.run(function(e){e.setTeam(t.teamRight)}),this.world.addGroup(this.teamLeft),this.world.addGroup(this.teamRight),this.speed=1,this.endState=0,this.setPositions(),this.world.add(this.goalLeft),this.world.add(this.goalRight),this.world.add(this.keeperRight),this.world.add(this.keeperLeft),this.world.add(this.ball),this.gameDetails=new v.default(this),this.teamManagerA=new F.default(this,this.teamLeft,this.teamRight),this.teamManagerA.setSide(!0),this.teamManagerA.human=!0,this.teamManagerB=new F.default(this,this.teamRight,this.teamLeft),this.teamManagerB.setSide(!1),this.keeperManagerRight=new S.default(this.keeperRight,!1,this),this.keeperManagerLeft=new S.default(this.keeperLeft,!0,this),this.powerupManager=new P.default(this),this.world.add(this.powerupManager),this.black=(new a.Graphics).beginFill(0).drawRect(0,0,100,100),this.goalLeft.onGoalScored.add(this.onGoalScored,this),this.goalRight.onGoalScored.add(this.onGoalScored,this),this.scripts={start:new O.default(this),goal:new w.default(this),super:new N.default(this),end:new m.default(this),shoot:new R.default(this)},this.hud=new x.default(this),this.world.view.interactiveChildren=!1,this.ballPicker=new u.default,this.ballPicker.onBallSelected.add(function(e){t.ball.setBall(e)}),this.view.addChild(this.world.overlay),this.view.addChild(this.hud.party),this.view.addChild(this.hud),this.view.addChild(this.ballPicker),this.view.addChild(this.ball.view),this.view.addChild(this.black),this.flash=new g.default,this.movieBorders=new L.default(1,1,.05);var n=p.default.GAME.TIME;window.URLParams.gametime&&(n=parseInt(window.URLParams.gametime)),this.superMove=new B.default,this.timer=new j.default(n,U.default.game),this.timer.onComplete.add(this.onTimeUp,this),this.active=!1,this.goldenGoalTimeCounter=0,this.black.alpha=0,this.goalsA=0,this.goalsB=0,this.view.addChild(this.flash),this.teamManagerB.debug.position.x=400,this.view.addChild(this.superMove),this.vignette=a.Sprite.from(ASSET_URL+"img/game/fx/overlays/vignette.png"),this.vignette.anchor.set(.5),this.view.addChild(this.vignette),this.controller=f.default.instance.desktop?new M.default(this):new z.default(this),this.goldenGoal=!1,window.TUTORIAL&&(this.tutorialManager=new G.default(this),this.view.addChild(this.tutorialManager)),this.coinSplash=new c.default(this.app),this.hasInit=!0,this.resize(this.w,this.h)}},n.refreshStadiumDecoration=function(){var e=this.app.stadiumsSystem.getGameDecoration();this.particleSystem&&this.world.view3d.scene.remove(this.particleSystem),e&&(this.particleSystem=e,this.world.view3d.scene.add(this.particleSystem))},n.setPositions=function(){this.pitchWidth=1600,this.pitchHeight=900,this.pitch.view.width=1600,this.pitch.view.height=900,this.setBounds(new a.Rectangle(0,0,1600,900)),this.ball.position.x=800,this.ball.position.y=450,this.ball.body.velocity.set(0),this.goalLeft.position.x=-100,this.goalLeft.left=!0,this.goalLeft.position.y=450,this.goalRight.position.x=1600,this.goalRight.position.y=450,this.keeperRight.position.x=1570,this.keeperRight.position.y=450,this.keeperLeft.position.x=30,this.keeperLeft.position.y=450,this.teamLeft.run(function(e){e.position.x=800,e.position.y=0},this),this.teamRight.run(function(e){e.position.x=800,e.position.y=0},this)},n.getMatchType=function(){var e=0<y.default.tournamentData.final.length,t=0<y.default.tournamentData.semi.length,i="quarter";return e?i="final":t?i="semi":y.default.isTournament||(i="practice"),i},n.animateCoin=function(e,t){var i=this;y.default.isTournament&&I.default.sfx.play("sfx_getcoins");for(var n=e.x,r=e.y,a=0;a<t;a++)TweenLite.delayedCall(.1*a,function(){i._animateCoin(n,r,1)})},n._animateCoin=function(e,t,i){var n=this;if(y.default.isTournament){var r=a.Sprite.from("coin.png");this.app.topMenu.addChild(r),r.anchor.set(.5),r.position.x=e,r.position.y=t,TweenLite.to(r.position,.8,{x:this.app.topMenu.coinBar.x+30,y:44,ease:Quad.easeOut,onComplete:function(){var e=a.Sprite.from("coing-ring.png");e.anchor.set(.5),e.position.x=r.position.x,e.position.y=r.position.y,n.app.topMenu.addChild(e),TweenLite.to(e.scale,.8,{x:1.5,y:1.5,onComplete:function(){n.app.topMenu.removeChild(e)}}),TweenLite.to(e,.8,{alpha:0}),n.app.topMenu.addCoins(i),n.app.topMenu.removeChild(r)}})}},n.onGoalScored=function(e){var t=this;if(this.powerupManager.clear(),this.world.view.camera.shake(),I.default.sfx.play("crowd_goal_3"),e.left)this.goalsB++;else{var i={x:this.w/2,y:220};!window.TUTORIAL&&y.default.isTournament&&TweenLite.delayedCall(2,function(){t.coinSplash.start(15,i.x,i.y),I.default.sfx.play("goal_coins")}),this.goalsA++,window.TUTORIAL||CES.dispatch(_.EventKeys.GAME_GOAL_SCORED,{characterId:this.teamManagerA.lastShotCharacterId,time:this.timer.getSeconds()})}this.goldenGoal?this.finish():this.scripts.goal.run(e.left)},n.rewardCoins=function(e){this.coinSplash.start(e,400,150),I.default.sfx.play("goal_coins")},n.reset=function(){for(var e in this.app.topMenu.setState("game"),window.TUTORIAL?this.hud.scorePanel.alpha=0:this.hud.scorePanel.alpha=1,this.stats)this.stats[e]=0;if(this.keeperLeft.ballSkills.ball&&this.keeperLeft.ballSkills.releaseBall(),this.keeperRight.ballSkills.ball&&this.keeperRight.ballSkills.releaseBall(),this.setPositions(),this.isGameover=!1,this.goldenGoal=!1,this.scripts.start.reset(),this.scripts.goal.reset(),this.scripts.super.reset(),this.scripts.end.reset(),this.scripts.shoot.reset(),this.powerupManager.clear(),this.teamManagerA.setTeam(y.default.teamA),this.teamManagerB.setTeam(y.default.teamB),this.teamManagerA.resetPositions(!0,!1),this.teamManagerA.showAll(),this.teamManagerB.resetPositions(!1,!1),this.teamManagerB.showAll(),this.keeperManagerRight.show(),this.powerupManager.resume(),this.keeperLeft.show(),this.keeperRight.show(),this.goalLeft.enableGoal(),this.goalRight.enableGoal(),this.teamManagerA.constrainPlayer=!1,this.teamManagerA.enablePass(),this.teamManagerA.enableTackle(),this.teamManagerA.enableShoot(),this.controller.lockRight=!1,this.controller.lockLeft=!1,this.controller.lockUp=!1,this.controller.lockDown=!1,this.controller.lockSpace=!1,this.controller.movementPointer&&(this.controller.movementPointer.alpha=0),this.controller.buttonPointer&&(this.controller.buttonPointer.alpha=0),this.counter=0,this.score=0,this.goalsA=0,this.goalsB=0,this.hud.reset(),this.ball.reset(),this.world.view3d.camera.endMode=!1,this.hud.setData(y.default.countryID,y.default.opponentID),this.timer.reset(),this.goldenGoalTimeCounter=0,y.default.savedGame&&(this.goalsA=y.default.savedGame.goalsA,this.goalsB=y.default.savedGame.goalsB,this.timer.count=y.default.savedGame.gameTime),window.TUTORIAL)this.tutorialManager||(this.tutorialManager=new G.default(this),this.view.addChild(this.tutorialManager));else{var t=!0,i=!0,n=!1;y.default.savedGame&&(n=!(t=!1),y.default.savedGame.lastOwner&&y.default.savedGame.lastOwner.isTeamA&&(i=!1)),this.scripts.start.run(t,i,n),y.default.savedGame=null}},n.start=function(){this.reset(),this.resume(),this.vignette.alpha=0,this.goalLeft.refreshStadium(),this.goalRight.refreshStadium(),this.pitch.refreshStadium(),this.pitch.loadBanners(),y.default.isTournament&&(y.default.scoreKey=null,D.default.startGame(y.default.countryID.SCORE_ID,y.default.opponentID.SCORE_ID,function(e){e&&e.key&&(y.default.scoreKey=e.key)})),window.TUTORIAL?(this.tutorialManager.start(),this.hud.scorePanel.alpha=0):this.hud.scorePanel.alpha=1,window.URLParams.hideOpponent&&this.teamManagerB.hideAll()},n.pause=function(e){this.paused||(E.default.volume=1,e||(I.default.sfx.currentSound&&I.default.sfx.stopAll(),MusicManager2.play("pause_screen")),this.paused=!0,this.view.interactive=!1,U.default.game.stop(),U.default.game.remove(this.update,this))},n.resume=function(){this.paused&&(E.default.volume=.5,MusicManager2.play("applause_loop"),this.paused=!1,this.view.interactive=!0,U.default.game.start(),U.default.game.add(this.update,this,1))},n.update=function(){!window.TUTORIAL&&this.active&&this.isBlurring&&!this.paused&&this.app.topMenu.pauseGame(),window.TUTORIAL&&this.tutorialManager.update(),this.goldenGoal&&(this.goldenGoalTimeCounter+=U.default.game.deltaTime),U.default.game.speed+=.3*(.8*this.speed-U.default.game.speed),this.counter+=U.default.instance.deltaTime,this.world.crash.dt=U.default.game.speed,this.world.update(),this.teamManagerA.activePlayer&&this.teamManagerA.activePlayer.ballSkills.ball&&(this.stats.possession+=U.default.game.deltaTime/60),this.world.view3d.camera.focusMode?(this.vignette.alpha+=.05*(1-this.vignette.alpha)*U.default.instance.deltaTime,this.vignette.scale.x-=.005*U.default.instance.deltaTime,this.vignette.scale.y-=.005*U.default.instance.deltaTime):this.vignette.alpha+=.1*(0-this.vignette.alpha)*U.default.instance.deltaTime,this.balanceManager.update(),this.particleSystem&&this.particleSystem.update(),this.arrow.update(),this.controller.update(),this.keeperManagerRight.update(),this.keeperManagerLeft.update(),this.teamManagerA.update(),this.teamManagerB.update(),this.hud.update()},n.onTimeUp=function(){window.TUTORIAL||(this.goalsA===this.goalsB?(this.goldenGoal||this.hud.message.show("POWERUP",{name:"STR_GAME_GOLDEN_GOAL2",color:"#fcca2e"}),this.goldenGoal=!0):(this.finish(),this.teamManagerA.disableShoot()))},n.getResultMultiplier=function(){var e=this.goalsA-this.goalsB<=0,t=0<y.default.tournamentData.final.length,i=0<y.default.tournamentData.semi.length,n=1,r=5;t?n=4:!t&&i&&(n=2.5),e?r=1.5:this.goldenGoal&&(r=3);var a=r+(this.goalsA-this.goalsB);return a*=n,a=Math.round(a)},n.finish=function(){var t=this;this.active=!1,this.app.topMenu.setState("empty"),this.goldenGoal=!1,this.points=0;var e={match_type:this.getMatchType(),score:this.goalsA+" - "+this.goalsB,gameTime:Math.round((this.timer.count+this.goldenGoalTimeCounter)/60),tackleTotal:this.stats.tackleTotal,tackleSuccess:this.stats.tackleSuccess,shootTotal:this.stats.shootTotal,passTotal:this.stats.passTotal,passSuccess:this.stats.passSuccess,opponentTackle:this.stats.opponentTackle,opponentTackleSuccess:this.stats.opponentTackleSuccess,possession:Math.round(this.stats.possession)};if(this.goalsA>this.goalsB?(this.endState=p.default.END_STATE.WIN,CES.dispatch(_.EventKeys.GAME_MATCH_WON,function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(i),!0).forEach(function(e){_defineProperty(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}({},e,{team:y.default.teamA.map(function(e){return e.id})})),"final"===this.getMatchType()&&CES.dispatch(_.EventKeys.GAME_TOURNAMENT_WON,{team:y.default.teamA.map(function(e){return e.id})})):this.goalsA===this.goalsB?this.endState=p.default.END_STATE.DRAW:(this.endState=p.default.END_STATE.LOSE,CES.dispatch(_.EventKeys.GAME_MATCH_LOST,e)),CES.dispatch(_.EventKeys.GAME_MATCH_ENDED,{state:this.endState,team:y.default.teamA.map(function(e){return e.id})}),y.default.isTournament&&y.default.scoreKey){var i=this.getResultMultiplier();D.default.sendScore(y.default.scoreKey,i,function(e){t.points=e.points.daily})}this.scripts.end.run(this.endState)},n.gameover=function(){this.isGameover||(this.isGameover=!0,this.onGameover.dispatch(),this.app.challengesSystem.onGameEnd.dispatch())},n.setBounds=function(e){var t=new W.default(e.x-100,0,100,e.height/2-100),i=new W.default(e.x-100,e.height/2+100,100,e.height/2-100),n=new W.default(e.x-200+20,-100,100,e.height+200);n.net=!0;var r=new W.default(e.x+e.width,0,100,e.height/2-100),a=new W.default(e.x+e.width,e.height/2+100,100,e.height/2+100),o=new W.default(e.x+e.width+100-20,-100,100,e.height+200);o.net=!0;var s=new W.default(e.x-100,e.y-100,e.width+200,100),l=new W.default(e.x-100,e.y+e.height,e.width+200,100);this.world.add(t),this.world.add(i),this.world.add(n),this.world.add(r),this.world.add(a),this.world.add(o),this.world.add(s),this.world.add(l)},n.resize=function(e,t){this.w=e,this.h=t,this.hasInit&&(this.view.x=-this.app.offsetX,this.view.y=-this.app.offsetY,this.hud.resize(e,t,this.app),this.ballPicker.position.set(e/2,3*t/4-25),this.controller.resize(e,t,this.app),this.world.view3d.resize(e,t),this.black.scale.set(e/100,t/100),this.flash.resize(e,t),this.movieBorders.resize(e,t),this.ball.view.position.set(e/2,t/2),window.TUTORIAL&&this.tutorialManager.resize(e,t),this.vignette.position.set(e/2,t/2),this.superMove.resize(e,t))},e=FootballGame,(t=[{key:"active",set:function(e){(this._active=e)?this.app.topMenu.buttons.pause.enable():this.app.topMenu.buttons.pause.disable()},get:function(){return this._active}}])&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),FootballGame}();t.default=n},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var r=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=n?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(i,r,a):i[r]=e[r]}i.default=e,t&&t.set(e,i);return i}(i(12));_interopRequireDefault(i(21)),_interopRequireDefault(i(28));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function(){return e},e}var n=function(i){var e,t;function Arrow(){var e;e=i.call(this)||this,window.arrow=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e);var t=(new r.TextureLoader).load(ASSET_URL+"img/game/misc/tutorial-arrow.png");return e.mesh=new r.Mesh(new r.PlaneGeometry(40,40),new r.MeshBasicMaterial({map:t,transparent:!0})),e.mesh.rotation.x=Math.PI/180*90,e.mesh.rotation.z=Math.PI/2,e.mesh.material.opacity=0,e.add(e.mesh),e.tick=0,e.opos=new r.Vector3,e}t=i,(e=Arrow).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=Arrow.prototype;return n.place=function(e,t){void 0===t&&(t=100),this.opos.copy(e),this.opos.z+=t},n.show=function(){TweenLite.to(this.mesh.material,.3,{opacity:1})},n.hide=function(){TweenLite.to(this.mesh.material,.3,{opacity:0})},n.update=function(){this.tick+=.1,this.position.x=this.opos.x+5*Math.sin(this.tick),this.position.y=this.opos.y,this.position.z=this.opos.z},Arrow}(r.Object3D);t.default=n,e.exports=t.default},function(e,t,i){"use strict";function lNg(e){this.game=e,this.teamA={lastScored:0,goalScorePercentage:.5,speedMod:1,aggressiveness:0,tackleChance:1,turnMultiplier:1},this.teamB={lastScored:0,goalScorePercentage:.5,speedMod:.95,aggressiveness:20,tackleChance:.5,turnMultiplier:1},this.human=this.teamA,this.ai=this.teamB,this.eb=0}var r=i(5);lNg.prototype.update=function(){var e=this.game.goalsA-this.game.goalsB,t=this.game.getMatchType(),i=1,n=0;"semi"===t?(i=2,n=-70):"final"===t&&(i=4,n=-140),this.ai.goalScorePercentage=.25*i,this.ai.turnMultiplier=1,this.ai.aggressiveness=0+n,this.ai.tackleChance=.75,this.ai.speedMod=1,r.isTournament||(this.ai.aggressiveness=200,this.ai.tackleChance=.3,this.ai.goalScorePercentage=.1),e<=-1?(this.ai.goalScorePercentage=.15,this.ai.turnMultiplier=4):1<=e&&(this.ai.goalScorePercentage=.375*i),e<=-3?(this.ai.aggressiveness=200,this.ai.speedMod=.9,this.ai.tackleChance=.3,this.ai.goalScorePercentage=.1):3<=e&&(this.ai.aggressiveness=-50+n,this.ai.speedMod=1.3,this.ai.tackleChance=1,this.ai.goalScorePercentage=1),this.human.speedMod=1,this.eb++,3600<this.eb&&(0<e?this.human.speedMod=.9:e<0&&(this.human.speedMod=1.1))},e.exports=lNg},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var s=i(80),l=i(0),u=i(12),h=_interopRequireDefault(i(13)),d=_interopRequireDefault(i(21)),c=_interopRequireDefault(i(594)),p=_interopRequireDefault(i(595)),f=_interopRequireDefault(i(29)),n=_interopRequireDefault(i(28)),m=_interopRequireDefault(i(14)),_=_interopRequireDefault(i(27)),g=i(17);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var r=function(r){var e,t;function Ball(e){var t,i=e.ballsSystem.activeBall.id,n=new _.default.CrashBody.fromRect(-10,-10,20,20);return n.maxSpeed=1e4,n.maxSpeedY=1e4,n.bounce=.8,n.friction=.99,_defineProperty(_assertThisInitialized(t=r.call(this,0,0,null,n)||this),"loader",void 0),_defineProperty(_assertThisInitialized(t),"app",void 0),_defineProperty(_assertThisInitialized(t),"view",void 0),_defineProperty(_assertThisInitialized(t),"view3d",void 0),_defineProperty(_assertThisInitialized(t),"container",void 0),_defineProperty(_assertThisInitialized(t),"balls",void 0),_defineProperty(_assertThisInitialized(t),"activeBall",void 0),_defineProperty(_assertThisInitialized(t),"baseBall",void 0),_defineProperty(_assertThisInitialized(t),"snowBall",void 0),_defineProperty(_assertThisInitialized(t),"shootPosition",void 0),_defineProperty(_assertThisInitialized(t),"ballMatrix",void 0),_defineProperty(_assertThisInitialized(t),"activeBallMatrix",void 0),_defineProperty(_assertThisInitialized(t),"shadow",void 0),_defineProperty(_assertThisInitialized(t),"quaternion",void 0),_defineProperty(_assertThisInitialized(t),"quaternion2",void 0),_defineProperty(_assertThisInitialized(t),"chargeEffect",void 0),_defineProperty(_assertThisInitialized(t),"trailEffect",void 0),_defineProperty(_assertThisInitialized(t),"rect",void 0),_defineProperty(_assertThisInitialized(t),"trailFrames",void 0),_defineProperty(_assertThisInitialized(t),"flashFx",void 0),_defineProperty(_assertThisInitialized(t),"_name",void 0),_defineProperty(_assertThisInitialized(t),"tick",void 0),_defineProperty(_assertThisInitialized(t),"count",void 0),_defineProperty(_assertThisInitialized(t),"groups",void 0),_defineProperty(_assertThisInitialized(t),"shot",void 0),_defineProperty(_assertThisInitialized(t),"active",void 0),_defineProperty(_assertThisInitialized(t),"perfect",void 0),_defineProperty(_assertThisInitialized(t),"type",void 0),_defineProperty(_assertThisInitialized(t),"pickedUp",void 0),_defineProperty(_assertThisInitialized(t),"owner",void 0),_defineProperty(_assertThisInitialized(t),"target",void 0),_defineProperty(_assertThisInitialized(t),"lastOwner",void 0),_defineProperty(_assertThisInitialized(t),"activeBallId",void 0),_defineProperty(_assertThisInitialized(t),"activeBallModel",void 0),t.app=e,t.activeBallId=i,t.shootPosition=new l.Point,t.loader=new u.TextureLoader,t.view=new l.Container,t.container=new u.Object3D,t.view3d=new u.Object3D,t.view3d.add(t.container),t.balls={},t.initBalls(),t.activeBallMatrix=new u.Matrix4,t.body.position=t.position,n.position.z=0,n.velocity.z=0,t.groups=["Ball"],t._name="ball",t.shot=!1,t.active=!1,t.perfect=!1,t.type=99,t.pickedUp=!1,t.owner=null,t.target=null,t.lastOwner=null,t.shadow=d.default.getMesh(RESOLVE_PATH(ASSET_URL+"img/game/fx/misc/game-ball-shadow.png"),.5,.5),t.shadow.renderOrder=999,t.shadow.scale.x=t.shadow.scale.y=t.shadow.scale.z=.1,t.shadow.position.z=-6,t.quaternion=new u.Quaternion,t.quaternion2=new u.Quaternion,t.chargeEffect=new c.default(_assertThisInitialized(t)),t.trailEffect=new p.default(_assertThisInitialized(t)),t.rect=new l.Sprite.from("ball_trail_00003.png"),t.trailFrames=f.default.getTexturesFromFramesWithPrefix("ball_trail_000%%.png",15),t.tick=0,t.rect.blendMode=l.BLEND_MODES.ADD,t.rect.scale.set(2),t.rect.anchor.x=.5,t.rect.anchor.y=.75,t.count=0,t.flashFx=new l.extras.MovieClip(f.default.getTexturesFromFrames(["pickup_00000.png","pickup_00001.png","pickup_00002.png","pickup_00003.png","pickup_00004.png","pickup_00005.png","pickup_00006.png"])),t.flashFx.animationSpeed=.2,t.flashFx.loop=!1,t.flashFx.visible=!1,t.flashFx.onComplete=function(){t.flashFx.visible=!1},t.flashFx.anchor.set(.5),t.flashFx.alpha=.4,t.flashFx.position.y=-15,t.view.addChild(t.flashFx),t}t=r,(e=Ball).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i,n,a,o=Ball.prototype;return o.initBalls=function(){var t=this;this.activeBallId=this.app.ballsSystem.activeBall.id;var i=s.BallData[this.activeBallId],e=new u.OBJLoader,n=this.getBallMaterial(i);this.activeBallModel=i.model,e.load(ASSET_URL+"models/balls/skins/"+i.model,function(e){t.baseBall=e,t.baseBall.rotation.x=Math.PI/2,t.baseBall.traverse(function(e){e instanceof u.Mesh&&(e.material=n)}),t.baseBall.scale.x=t.baseBall.scale.y=t.baseBall.scale.z=i.scale,t.balls.base=t.baseBall,t.activeBall=t.balls.base,t.container.add(t.activeBall)},function(){},function(){}),e.load(ASSET_URL+"models/balls/powerups/ball-snowball.obj",function(e){t.snowBall=e,t.snowBall.rotation.x=Math.PI/2,t.snowBall.scale.x=t.snowBall.scale.y=t.snowBall.scale.z=4,t.balls.snow=t.snowBall},function(){},function(){})},o.setBall=function(e,t){var i=this;if(void 0===t&&(t=!1),this.activeBallId!==e){t&&(this.flashFx.visible=!0,this.flashFx.gotoAndPlay(0)),this.activeBallId=e;var n=s.BallData[this.activeBallId],r=this.getBallMaterial(n);if(n.model!==this.activeBallModel)(new u.OBJLoader).load(ASSET_URL+"models/balls/skins/"+n.model,function(e){i.baseBall=e,i.baseBall.rotation.x=Math.PI/2,i.baseBall.traverse(function(e){e instanceof u.Mesh&&(e.material=r)}),i.baseBall.scale.x=i.baseBall.scale.y=i.baseBall.scale.z=n.scale,i.balls.base=i.baseBall,i.container.remove(i.activeBall),i.activeBall=i.balls.base,i.container.add(i.activeBall)},function(){},function(){});else this.balls.base.traverse(function(e){e instanceof u.Mesh&&(e.material=r)})}},o.getBallMaterial=function(e){var t,i=this.loader.load(RESOLVE_PATH(ASSET_URL+"img/content/balls/ball-textures/"+e.texture));return i.wrapS=i.wrapT=u.UVMapping,i.needsUpdate=!0,"default"===e.material&&(t=new u.MeshPhongMaterial({map:i})),t.side=u.DoubleSide,t},o.addedToWorld=function(){this.world.view3d.scene.add(this.shadow),this.world.view3d.scene.add(this.trailEffect.view),this.world.overlay.addChild(this.rect)},o.removedFromWorld=function(){this.world.view3d.scene.remove(this.shadow),this.world.view3d.scene.remove(this.trailEffect.view),this.world.overlay.removeChild(this.rect)},o.setActive=function(e){this.active=e,this.type=e?0:99},o.reset=function(){this.setBall(this.app.ballsSystem.activeBall.id)},o.swapBall=function(e){this.container.remove(this.activeBall),this.activeBall=this.balls[e],this.container.add(this.activeBall)},o.released=function(){this.pickedUp=!1,this.owner=null},o.pickUp=function(e){this.body.friction=.99,this.pickedUp=!0,this.lastOwner=this.owner=e,this.target=null,this.body.velocity.set(0),this.chargeEffect.setRatio(0),h.default.sfx.playGroup("ball_pickup")},o.shoot=function(e,t,i){this.perfect=i,this.shot=!0,this.body.velocity.y=t,this.body.velocity.x=e,this.shootPosition.x=this.position.x,this.shootPosition.y=this.position.y,i?(this.body.velocity.y*=1.5,this.body.velocity.x*=1.5,this.rect.visible=!0,h.default.sfx.playGroup("croudHappy")):(Math.random()<.3&&h.default.sfx.playGroup("croudHappy"),h.default.sfx.play("ballkick_shoot_hard")),this.remoteBall?this.body.velocity.z=0:this.body.velocity.z=13,this.chargeEffect.setRatio(0)},o.pass=function(e,t,i,n){this.body.friction=.99,this.shot=!1,this.body.velocity.x=e*i,this.body.velocity.y=t*i,this.body.velocity.z=n||0,h.default.sfx.play("ballkick_pass")},o.passTo=function(e){if(this.owner!==e){this.body.friction=.99;var t=(this.target=e).position.x-this.position.x,i=e.position.y-this.position.y,n=Math.sqrt(t*t+i*i);t/=n,i/=n;this.body.velocity.x=15*t,this.body.velocity.y=15*i,this.body.velocity.z=1,h.default.sfx.play("ballkick_pass"),window.TUTORIAL||this.owner.isTeamA||CES.dispatch(g.EventKeys.GAME_BALL_PASSED)}},o.update=function(){var e=this.body;e.velocity.z-=.6,e.position.z+=e.velocity.z,e.position.z<0&&(e.position.z=0,e.velocity.z*=-.6,this.rect.visible=!1),this.owner&&(this.rect.visible=!1);var t=this.body.velocity.length();if(this.target){var i=this.target,n=i.body.position.x-this.body.position.x,r=i.body.position.y-this.body.position.y,a=Math.sqrt(n*n+r*r);n/=a,r/=a,this.body.velocity.x=n*t,this.body.velocity.y=r*t}else this.remoteBall&&this.shot&&(this.count+=.1,this.body.velocity.y=Math.sin(this.count)*(t/2));if(this.view3d.position.x=this.position.x,this.view3d.position.y=this.position.y,this.view3d.position.z=.5*this.position.z+10,(window.ball=this).owner){var o=this.owner.body.velocity.x,s=this.owner.body.velocity.y,l=Math.sqrt(o*o+s*s);this.activeBall.rotation.x+=.1*l,this.container.rotation.z=Math.atan2(s,o)+Math.PI/2}else if(this.activeBall){var u=this.body.velocity.x,h=this.body.velocity.y,d=Math.sqrt(u*u+h*h);this.container.rotation.z=Math.atan2(h,u)+Math.PI/2,this.activeBall.rotation.x+=.05*d}this.shadow.position.x=this.view3d.position.x,this.shadow.position.y=this.view3d.position.y+2;var c=m.default.map(this.view3d.position.z,80,0,0,2);c=Math.max(c,.4),this.shadow.material.alphaTest=0,this.shadow.material.opacity=.7*c,this.shadow.scale.x=this.shadow.scale.y=this.shadow.scale.z=.09*c;var p=m.default.cap(m.default.map(t,4,12,1,.2),.3,1);if(this.view3d.scale.z+=.1*(p-this.view3d.scale.z),this.chargeEffect.update(),this.trailEffect.update(),this.rect.visible){var f=this.world.view3d.toScreenPosition(this);this.rect.position.x=f.x,this.rect.position.y=f.y,this.tick+=.5,this.rect._texture=this.trailFrames[(0|this.tick)%this.trailFrames.length],this.owner?this.rect.rotation=-Math.atan2(this.owner.body.velocity.y,this.owner.body.velocity.x)-Math.PI/2:this.rect.rotation=-Math.atan2(this.body.velocity.y,this.body.velocity.x)-Math.PI/2}},o.onCollideBegin=function(e){this.target=null;var t=e.getOtherObject(this);this.body.friction=.99,t.net?(this.body.velocity.x*=.15,this.body.velocity.y*=.15):t.wall&&h.default.sfx.play("ballkick_post")},i=Ball,(n=[{key:"name",get:function(){return this._name}}])&&_defineProperties(i.prototype,n),a&&_defineProperties(i,a),Ball}(n.default);t.default=r},function(e,t,r){"use strict";var i;void 0===(i=function(e,t,i){r(0),r(3);function kPg(e){this.item=e,this.ratio=0;for(var t=new l.SphereBufferGeometry(100,16,8),i=new Float32Array(t.attributes.position.count),n=0;n<i.length;n++)i[n]=Math.random();t.addAttribute("alpha",new l.BufferAttribute(i,1)),this.geometry=t;var r=(new l.TextureLoader).load(ASSET_URL+"img/game/fx/particles/dot.png"),a={color:{type:"c",value:new l.Color(65280)},tick:{type:"f",value:0},power:{type:"f",value:0},circle:{type:"t",value:r}},o=new l.ShaderMaterial({uniforms:a,vertexShader:h,fragmentShader:d,transparent:!0,depthTest:!1});o.blending=l.AdditiveBlending;var s=new l.Points(t,o);e.view3d.add(s),this.cloud=s,this.ring=u.getMesh("powerupGet.png"),this.ring.material.blending=l.AdditiveBlending,e.view3d.add(this.ring),this.ring.rotation.x=-Math.PI/2,this.ring.position.x=0,this.ring.position.y=0,this.ratio=99,this.tick=0,this.setRatio(0)}var n=r(14),l=r(12),u=r(21),h=["attribute float alpha;","uniform float tick;","uniform float power;","void main() {","    float pos = alpha + tick;","    pos = mod(pos, 1.0);","    vec4 mvPosition = modelViewMatrix * vec4( position * pos, 1.0 );","    gl_PointSize = (1.0-pos) * 28.0 * power* 3.0;","    gl_Position = projectionMatrix * mvPosition;","}"].join("\n"),d=["uniform vec3 color;","uniform sampler2D circle;","void main() {","    gl_FragColor = texture2D(circle, gl_PointCoord);","}"].join("\n");kPg.prototype.setRatio=function(e){e!==this.ratio&&(1<e&&(e=1),this.ratio=e,this.tick+=.02+.01*e,this.ring.visible=this.cloud.visible=0!==e,this.ring.material.opacity=n.map(e,0,1,0,10),this.ring.scale.x=this.ring.scale.y=1-e-.1,this.cloud.material.uniforms.tick.value=-this.tick,this.cloud.material.uniforms.power.value=Math.sin(e*Math.PI))},kPg.prototype.update=function(){this.cloud.rotation.x+=.03,this.cloud.rotation.y+=.03},i.exports=kPg}.call(t,r,t,e))||(e.exports=i)},function(e,t,n){"use strict";var i;void 0===(i=function(e,t,i){n(0),n(3);function JPg(e){this.item=e,this.trailLength=40,this.loader=new p.TextureLoader,this.top=14,this.bottom=-14;var t=new p.BufferGeometry,i=new Float32Array(3*this.trailLength);this.realVerticies=new Float32Array(3*this.trailLength);for(var n=new Float32Array(this.trailLength),r=new Uint32Array(this.trailLength),a=0;a<r.length;a++)r[a]=a;for(a=0;a<n.length;a+=2){var o=a/2/this.trailLength;n[a]=o,n[a+1]=o}for(a=0;a<i.length;a+=3);for(a=0;a<i.length;a+=3){var s=a/3,l=s%2,u=Math.floor(s/2);i[a]=30*l,i[a+1]=30*u,i[a+2]=0}t.setIndex(new p.BufferAttribute(r,1)),t.addAttribute("position",new p.BufferAttribute(i,3)),t.addAttribute("alpha",new p.BufferAttribute(n,1)),this.geometry=t,this.loader.load(ASSET_URL+"img/game/fx/particles/dot.png");var h={color:{type:"c",value:new p.Color(16730352)},uAlpha:{type:"f",value:1}},d=new p.ShaderMaterial({uniforms:h,vertexShader:f,fragmentShader:m,transparent:!0});d.side=p.DoubleSide,d.blending=p.AdditiveBlending,d.depthTest=!1;var c=new p.Mesh(t,d);c.drawMode=p.TriangleStripDrawMode,this.cloud=c,this.view=c,this.pos=0}var u=n(14),p=n(12),f=(n(21),["attribute float alpha;","varying float vAlpha;","void main() {","    vAlpha = alpha;","    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );","    gl_Position = projectionMatrix * mvPosition;","}"].join("\n")),m=["uniform vec3 color;","uniform float uAlpha;","uniform sampler2D circle;","varying float vAlpha;","void main() {","    gl_FragColor = vec4(color, vAlpha * uAlpha);","}"].join("\n");JPg.prototype.update=function(){this.pos++,this.pos%=this.trailLength/2;for(var e=this.cloud.geometry.getAttribute("position"),t=2*this.pos,i=2*this.pos+1,n=this.realVerticies,r=0;r<e.array.length;r+=3);var a=this.item.view3d.position;n[3*t]=a.x,n[3*t+1]=a.y+this.top,n[3*t+2]=a.z,n[3*i]=a.x,n[3*i+1]=a.y+this.bottom,n[3*i+2]=a.z;for(r=0;r<e.array.length;r+=3){var o=r+3*(2*this.pos+2);o%=n.length,e.array[r+0]=n[o]-a.x,e.array[r+1]=n[1+o]-a.y,e.array[r+2]=n[2+o]}this.view.position.x=this.item.position.x,this.view.position.y=this.item.position.y,e.needsUpdate=!0;var s=u.cap(u.map(this.item.body.velocity.length(),5,20,0,1),0,1),l=this.cloud.material.uniforms.uAlpha.value;s<l?l+=.2*(s-l):l=s,this.cloud.visible=.1<l,this.cloud.material.uniforms.uAlpha.value=l,this.view.material.needsUpdate=!0},i.exports=JPg}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){"use strict";var i;void 0===(i=function(e,t,i){n(0);function rQg(){this.collisions={},this.pool=[],this.tickId=0,this.currentCollisions=[],this.collisionDatas=[]}var v=n(101),o=n(314),s=n(102);n(597);rQg.prototype.hitTest=function(e){this.tickId++;for(var t=0;t<2;t++)for(var i=0;i<e.length;i+=2){var n=this.hitTestAABBAABB(e[i],e[i+1]);n&&n.object1.body.solid&&n.object2.body.solid&&this.solve(n)}for(i=0;i<this.currentCollisions.length;i++){var r=this.currentCollisions[i];r._tickId!==this.tickId&&(this.endCollision(r),this.currentCollisions.splice(i,1),i--)}},rQg.prototype.hitTestAABBAABB=function(e,t){var i=e.body,n=t.body,r=i.shape,a=n.shape,o=r.x+e.position.x,s=r.y+e.position.y,l=a.x+t.position.x,u=a.y+t.position.y,h=s+r.height-u,d=u+a.height-s,c=o+r.width-l,p=l+a.width-o,f=999999;if(c<f&&(f=c),p<f&&(f=p),h<f&&(f=h),d<f&&(f=d),0<f){var m=new v;f==c?(m.x=-1,m.y=0):f==p?(m.x=1,m.y=0):f==h?(m.x=0,m.y=-1):f==d&&(m.x=0,m.y=1);var _=-f,g=this.startCollision(e,t,_,m);if(!g.ignore)return g}return null},rQg.prototype.solve=function(e){var t=e.object1,i=e.object2,n=e.projection,r=e.penetration;if(i.body.type===s.DYNAMIC){t.position.x-=n.x*r*.5,t.position.y-=n.y*r*.5,i.position.x+=n.x*r*.5,i.position.y+=n.y*r*.5;var a=t.body.velocity.x-i.body.velocity.x,o=t.body.velocity.y-i.body.velocity.y;0!==n.x?a*n.x<=0&&(t.body.velocity.x-=.5*a,i.body.velocity.x+=.5*a):o*n.y<=0&&(t.body.velocity.y-=.5*o,i.body.velocity.y+=.5*o)}else{t.position.x-=n.x*r,t.position.y-=n.y*r;a=t.body.velocity.x-i.body.velocity.x,o=t.body.velocity.y-i.body.velocity.y;0!==n.x?a*n.x<=0&&(t.body.velocity.x*=-t.body.bounce):o*n.y<=0&&(t.body.velocity.y*=-t.body.bounce)}},rQg.prototype.startCollision=function(e,t,i,n){var r;r=e.UID>t.UID?(t.UID<<12)+e.UID:(e.UID<<12)+t.UID;var a=this.collisions[r];return a?(a.penetration=i,a.projection=n,a._tickId=this.tickId,a.ignore||(-1===n.y?0<=e.body.velocity.y&&(e.body.currentSurface=t,e.onGround=!0):1===n.y&&0<=t.body.velocity.y&&(t.body.currentSurface=e,t.onGround=!0))):((a=this.pool.pop())?(a.object1=e,a.object2=t,a.penetration=i,a.projection=n,a.ignore=!1):a=new o(e,t,i,n,!1),a._key=r,a._tickId=this.tickId,n.y===-1*e.body.flip?(e.body.currentSurface=t,e.onGround=!0):n.y===Number(t.body.flip)&&(t.body.currentSurface=e,t.onGround=!0),e.onCollideBegin&&e.onCollideBegin(a),t.onCollideBegin&&t.onCollideBegin(a),this.collisions[r]=a,this.currentCollisions.push(a)),a},rQg.prototype.endCollision=function(e){var t=e._key,i=this.collisions[t];return i&&(this.pool.push(i),this.collisions[t]=null),e.object1.world&&(e.object1.onCollideEnd&&e.object1.onCollideEnd(i),e.object2.onCollideEnd&&e.object2.onCollideEnd(i)),i},rQg.prototype.reset=function(){this.collisions={},this.tickId=0,this.currentCollisions=[]},i.exports=rQg}.call(t,n,t,e))||(e.exports=i)},function(e,t,r){"use strict";var n;void 0===(n=function(e,t,n){function lRg(){}var S=r(102);lRg.solve=function(e,t){for(i=0;i<e.length;i++){var n=e[i],r=n.object1,a=n.object2,o=n.projection,s=n.penetration;if(a.body.type===S.DYNAMIC){r.position.x-=o.x*s*.5,r.position.y-=o.y*s*.5,a.position.x+=o.x*s*.5,a.position.y+=o.y*s*.5;var l=r.body.velocity.x-a.body.velocity.x,u=r.body.velocity.y-a.body.velocity.y;0!==o.x?l*o.x<=0&&(r.body.velocity.x-=.5*l,a.body.velocity.x+=.5*l):u*o.y<=0&&(r.body.velocity.y-=.5*u,a.body.velocity.y+=.5*u)}else{r.position.x-=o.x*s,r.position.y-=o.y*s;l=r.body.velocity.x-a.body.velocity.x,u=r.body.velocity.y-a.body.velocity.y;0!==o.x?l*o.x<=0&&(r.body.velocity.x-=l):(u*o.y<=0&&(r.body.velocity.y-=u),r.body.position.x+=a.body.velocity.x)}}},lRg.solve3=function(e){var t=e.object1,i=e.object2,n=e.projection,r=e.penetration;if(i.body.type===S.DYNAMIC){t.position.x-=n.x*r*.5,t.position.y-=n.y*r*.5,i.position.x+=n.x*r*.5,i.position.y+=n.y*r*.5;var a=t.body.velocity.x-i.body.velocity.x,o=t.body.velocity.y-i.body.velocity.y;0!==n.x?a*n.x<=0&&(t.body.velocity.x-=.5*a,i.body.velocity.x+=.5*a):o*n.y<=0&&(t.body.velocity.y-=.5*o,i.body.velocity.y+=.5*o)}else{t.position.x-=n.x*r,t.position.y-=n.y*r;a=t.body.velocity.x-i.body.velocity.x,o=t.body.velocity.y-i.body.velocity.y;0!==n.x?a*n.x<=0&&(t.body.velocity.x-=a):(o*n.y<=0&&(t.body.velocity.y-=o),t.body.position.x+=i.body.velocity.x)}},lRg.solve2=function(e,t){for(i=0;i<e.length;i++){var n=e[i],r=n.object1,a=n.object2,o=n.object2,s=n.projection,l=n.penetration,u=r.body,h=o.body,d=u.shape,c=h.shape,p=d.x+r.position.x,f=d.y+r.position.y,m=c.x+o.position.x,_=c.y+o.position.y,g=f+d.height-_,v=_+c.height-f,y=p+d.width-m,b=m+c.width-p,w=999999;if(o.passthrough,y<w&&(w=y),b<w&&(w=b),g<w&&(w=g),v<w&&(w=v),0<w)if(w==y?(s.x=-1,s.y=0):w==b?(s.x=1,s.y=0):w==g?(s.x=0,s.y=-1):w==v&&(s.x=0,s.y=1),l=-w,a.body.type===S.DYNAMIC){r.position.x-=s.x*l*.5,r.position.y-=s.y*l*.5,a.position.x+=s.x*l*.5,a.position.y+=s.y*l*.5;var x=r.body.velocity.x-a.body.velocity.x,T=r.body.velocity.y-a.body.velocity.y;0!==s.x?x*s.x<=0&&(r.body.velocity.x-=.5*x,a.body.velocity.x+=.5*x):T*s.y<=0&&(r.body.velocity.y-=.5*T,a.body.velocity.y+=.5*T)}else{r.position.x-=s.x*l,r.position.y-=s.y*l;x=r.body.velocity.x-a.body.velocity.x,T=r.body.velocity.y-a.body.velocity.y;0!==s.x?x*s.x<=0&&(r.body.velocity.x-=x):(T*s.y<=0&&(r.body.velocity.y-=T),r.body.position.x+=a.body.velocity.x)}}},n.exports=lRg}.call(t,r,t,e))||(e.exports=n)},function(e,t,n){"use strict";var i;void 0===(i=function(e,t,i){n(3);function gSg(){this.hash=[],this.width=300,this.height=300,this.size=96,this.buildHash(),this.cache={}}var m=0;gSg.prototype.buildHash=function(){for(var e=this.width*this.height,t=0;t<e;t++)this.hash[t]=[];this.cache={}},gSg.prototype.add=function(e){this.cache={};var t,i,n=e.body.shape,r=(e.position.x+n.x)/this.size|0,a=(e.position.y+n.y)/this.size|0,o=(e.position.x+n.x+n.width)/this.size|0,s=(e.position.y+n.y+n.height)/this.size|0;for(i=a;i<=s;i++)for(t=r;t<=o;t++){var l=i*this.width+t;this.hash[l]&&this.hash[l].push(e)}},gSg.prototype.retrieve=function(e){var t=e.position.x/this.size|0,i=e.position.y/this.size|0,n=this.cache[t+":"+i];return n||(n=[],n=this.addSquare(t-1,i-1,n),n=this.addSquare(t,i-1,n),n=this.addSquare(1+t,i-1,n),n=this.addSquare(t-1,i,n),n=this.addSquare(t,i,n),n=this.addSquare(1+t,i,n),n=this.addSquare(t,1+i,n),n=this.addSquare(t,1+i,n),n=this.addSquare(1+t,1+i,n),n=this.removeDuplicates(n),this.cache[t+":"+i]=n),n},gSg.prototype.addSquare=function(e,t,i){var n=t*this.width+e;return this.hash[n]&&(i=i.concat(this.hash[n])),i};var _=[];gSg.prototype.retrieveArea=function(e){var t,i,n=e.body.shape,r=(e.position.x+n.x)/this.size|0,a=(e.position.y+n.y)/this.size|0,o=(e.position.x+n.x+n.width)/this.size|0,s=(e.position.y+n.y+n.height)/this.size|0,l=_;_.length=0;var u=m++,h=0;for(i=a;i<=s;i++)for(t=r;t<=o;t++){var d=i*this.width+t,c=this.hash[d];if(c)for(var p=0;p<c.length;p++){var f=c[p];f._TICK!==u&&(f._TICK=u,l[h++]=f)}}return l},gSg.prototype.removeDuplicates=function(e){for(var t={},i=[],n=e.length,r=0,a=0;a<n;a++){var o=e[a];1!==t[o.UID]&&(t[o.UID]=1,i[r++]=o)}return i},gSg.prototype.remove=function(e){var t,i,n=e.body.shape,r=(e.position.x+n.x)/this.size|0,a=(e.position.y+n.y)/this.size|0,o=(e.position.x+n.x+n.width)/this.size|0,s=(e.position.y+n.y+n.height)/this.size|0;for(i=a;i<=s;i++)for(t=r;t<=o;t++){var l=i*this.width+t;if(0<l){var u=this.hash[l].indexOf(e);-1!==u&&this.hash[l].splice(u,1)}this.cache={}}},gSg.prototype.empty=function(){this.buildHash()},i.exports=gSg}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){"use strict";var i;void 0===(i=function(e,t,i){n(0);function wTg(){}var v=n(101);wTg.hitTestItemGroup=function(e,t,i,n){for(var r=t.children,a=0;a<r.length;a++)wTg.hitTestAABBAABB(e,r[a],i,n)},wTg.hitTestItemItem=function(e,t,i,n){wTg.hitTestAABBAABB(e,t,i,n)},wTg.hitTestGroup=function(e,t,i){for(var n=e.children,r=0;r<n.length-1;r++)for(var a=r+1;a<n.length;a++)wTg.hitTestAABBAABB(n[r],n[a],t,i)},wTg.hitTestGroupGroup=function(e,t,i,n){for(var r=e.children,a=t.children,o=0;o<r.length;o++)for(var s=0;s<a.length;s++)wTg.hitTestAABBAABB(r[o],a[s],i,n);wTg.hitTestAABBAABB(item,r[o],i,n)},wTg.hitTestAABBAABB=function(e,t,i,n){var r=e.body,a=t.body,o=r.shape,s=a.shape,l=o.x+e.position.x,u=o.y+e.position.y,h=s.x+t.position.x,d=s.y+t.position.y,c=u+o.height-d,p=d+s.height-u,f=l+o.width-h,m=h+s.width-l,_=999999;if(f<_&&(_=f),m<_&&(_=m),c<_&&(_=c),p<_&&(_=p),0<=_){var g=new v;_==f?(g.x=-1,g.y=0):_==m?(g.x=1,g.y=0):_==c?(g.x=0,g.y=-1):_==p&&(g.x=0,g.y=1),i&&i(e,t,-_,g)}else n&&n(e,t)},i.exports=wTg}.call(t,n,t,e))||(e.exports=i)},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var u=i(0),h=_interopRequireDefault(i(6)),o=_interopRequireDefault(i(19)),s=i(3),d=_interopRequireDefault(i(4)),c=_interopRequireDefault(i(54)),p=i(80);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function asyncGeneratorStep(e,t,i,n,r,a,o){try{var s=e[a](o),l=s.value}catch(e){return void i(e)}s.done?t(l):Promise.resolve(l).then(n,r)}function _asyncToGenerator(a){return function(){var e=this,r=arguments;return new Promise(function(t,i){var n=a.apply(e,r);function _next(e){asyncGeneratorStep(n,t,i,_next,_throw,"next",e)}function _throw(e){asyncGeneratorStep(n,t,i,_next,_throw,"throw",e)}_next(void 0)})}}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=function(l){var e,t;function BallPicker(){var e;return _defineProperty(_assertThisInitialized(e=l.call(this)||this),"nextButton",void 0),_defineProperty(_assertThisInitialized(e),"previousButton",void 0),_defineProperty(_assertThisInitialized(e),"trackpad",void 0),_defineProperty(_assertThisInitialized(e),"container",void 0),_defineProperty(_assertThisInitialized(e),"bg",void 0),_defineProperty(_assertThisInitialized(e),"balls",void 0),_defineProperty(_assertThisInitialized(e),"ballHolders",void 0),_defineProperty(_assertThisInitialized(e),"ballsContainer",void 0),_defineProperty(_assertThisInitialized(e),"centerHolder",void 0),_defineProperty(_assertThisInitialized(e),"mask",void 0),_defineProperty(_assertThisInitialized(e),"ringBg",void 0),_defineProperty(_assertThisInitialized(e),"ring",void 0),_defineProperty(_assertThisInitialized(e),"initialSelectedIndex",void 0),_defineProperty(_assertThisInitialized(e),"offset",void 0),_defineProperty(_assertThisInitialized(e),"_displayedBallId",void 0),_defineProperty(_assertThisInitialized(e),"isTweening",void 0),_defineProperty(_assertThisInitialized(e),"isSelected",void 0),_defineProperty(_assertThisInitialized(e),"isActive",void 0),_defineProperty(_assertThisInitialized(e),"timer",void 0),_defineProperty(_assertThisInitialized(e),"onBallSelected",void 0),_defineProperty(_assertThisInitialized(e),"onBallPickerHidden",void 0),e.container=new u.Container,e.bg=u.Sprite.from("panel-black-belt.png"),e.ringBg=u.Sprite.from("graphic-blue-container.png"),e.ring=u.Sprite.from("graphic-green-ring.png"),e.bg.anchor.set(.5),e.ringBg.anchor.set(.5),e.ring.anchor.set(.5,.65),e.bg.position.y=28,e.ring.position.y=18,e.setupBallHolders(),e.previousButton=new o.default("button-arrows-rounded-previous.png"),e.nextButton=new o.default("button-arrows-rounded-next.png"),e.previousButton.onPress.add(e.previousBall,_assertThisInitialized(e)),e.nextButton.onPress.add(e.nextBall,_assertThisInitialized(e)),e.previousButton.background.anchor.set(0,.5),e.nextButton.background.anchor.set(1,.5),e.previousButton.position.x=-e.bg.texture.width/2,e.nextButton.position.x=e.bg.texture.width/2,e.mask=new u.Graphics,e.mask.beginFill(0),e.mask.drawRect(-410,-98,820,139),e.ballsContainer.mask=e.mask,e.bg.addChild(e.mask),e.container.addChild(e.bg),e.container.addChild(e.ringBg),e.container.addChild(e.ballsContainer),e.container.addChild(e.previousButton),e.container.addChild(e.nextButton),e.container.addChild(e.ring),e.addChild(e.container),e.trackpad=new c.default({target:_assertThisInitialized(e)}),e.trackpad.snapTo=!0,e.trackpad.scrollMax=1/0,e.trackpad.capMovement=!1,e.trackpad.size=h.default.BALL_PICKER.BALL_WIDTH+h.default.BALL_PICKER.BALL_SPACING,e.trackpad.maxSlots=1/0,e.trackpad.spring.springiness=.01,e.offset=0,e.isTweening=!1,e.isActive=!1,e.onBallSelected=new s.Signal,e.onBallPickerHidden=new s.Signal,e.container.scale.set(0),e.nextButton.alpha=0,e.previousButton.alpha=0,e}t=l,(e=BallPicker).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i,n,r,a=BallPicker.prototype;return a.setupBallHolders=function(){var n=this;this.ballHolders=[],this.ballsContainer=new u.Container;for(var e=function(){var e=u.Sprite.from("shadow-ball.png"),t=new u.Sprite,i=u.Sprite.from("icon-lock-white.png");e.anchor.set(.5),t.anchor.set(.5),i.anchor.set(.5),t.scale.set(.6),e.addChild(t),e.addChild(i),n.ballsContainer.addChild(e),e.sprite=t,e.lock=i,e.on("touchend",function(){n.onBallDown(e)}),e.on("mouseup",function(){n.onBallDown(e)}),e.interactive=!0,e.buttonMode=!0,n.ballHolders.push(e)},t=0;t<7;t++)e();this.ballsContainer.position.x=h.default.BALL_PICKER.CONTAINER_OFFSET},a.reset=function(){var i=this;this.balls=[],this.isTweening=!1,this.isSelected=!1,this.trackpad.unlock(),this.trackpad.onUp(),this.offset=0,this.trackpad.setSlot(0,!0);var e=[].concat(p.getBalls.unlocked(),p.getBalls.locked()),n=p.getBalls.selected().id;e.forEach(function(e,t){i.balls.push({id:e.id,texture:e.splash,locked:e.locked}),e.id===n&&(i.initialSelectedIndex=t)}),this.centerHolder||(this.centerHolder=this.ballHolders[Math.round(this.ballHolders.length/2)-1],this._displayedBallId=this.balls[this.initialSelectedIndex].id),this.visible=!0,this.nextButton.interactive=!1,this.previousButton.interactive=!1,this.ballsContainer.interactiveChildren=!1,this.container.scale.set(0),this.container.alpha=1,this.bg.scale.x=.15,this.nextButton.position.x=120,this.previousButton.position.x=-120,this.nextButton.alpha=0,this.previousButton.alpha=0,this.resetTimer()},a.resetTimer=function(){this.timer=1500},a.onBallDown=function(e){if(!this.trackpad.didMove&&!this.isTweening)if(this.updateTransform(),e.position.x<10&&-10<e.position.x||!1){if(e.ballData.locked)return SoundManager.sfx.play("cantselect"),void TweenLite.fromTo(e.sprite.position,.4,{x:-3},{x:3,ease:RoughEase.ease.config({strength:6,points:5,template:Linear.easeNone,randomize:!1}),clearProps:"x",onComplete:function(){e.sprite.position.x=0}});SoundManager.sfx.play("button_press"),this.selectBall()}else this.moveTo(e.ballData.id)},a.moveTo=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function _callee(a,o){var s=this;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===o&&(o=!1),e.abrupt("return",new Promise(function(e){a===s.centerHolder.ballData.id&&e();var t=s.balls.map(function(e){return e.id}).indexOf(a),i=s.balls.map(function(e){return e.id}).indexOf(s.centerHolder.ballData.id),n=i-t;Math.abs(n)>s.balls.length/2&&(n=i-t-s.balls.length);var r=n*(h.default.BALL_PICKER.BALL_WIDTH+h.default.BALL_PICKER.BALL_SPACING);if(o)return s.offset+=r,void e();s.isTweening=!0,TweenLite.to(s,.3,{offset:s.offset+r,onComplete:function(){s.isTweening=!1,e()}})}));case 2:case"end":return e.stop()}},_callee)}));return function(e){return t.apply(this,arguments)}}(),a.selectBall=function(){var e=_asyncToGenerator(regeneratorRuntime.mark(function _callee2(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isSelected)return e.abrupt("return");e.next=2;break;case 2:if(this.isSelected=!0,this.nextButton.interactive=!1,this.previousButton.interactive=!1,this.ballsContainer.interactiveChildren=!1,this.trackpad.lock(),this.centerHolder.ballData.locked)return e.next=10,this.moveTo(this.displayedBallId);e.next=10;break;case 10:this.animate(!0);case 11:case"end":return e.stop()}},_callee2,this)}));return function(){return e.apply(this,arguments)}}(),a.animate=function(e){var t=this;if(void 0===e&&(e=!1),!e){if(this.isActive)return;this.isActive=!0,this.reset()}var i=e?.6:.3;TweenLite.to(this.bg.scale,.5,{x:e?.15:1,y:1,ease:Power1.easeInOut,delay:e?0:i,onComplete:function(){e||(t.nextButton.interactive=!0,t.previousButton.interactive=!0,t.ballsContainer.interactiveChildren=!0,d.default.game.add(t.updateTimer,t))}}),TweenLite.to(this.nextButton.position,.5,{x:e?120:this.bg.texture.width/2,ease:Power1.easeInOut,delay:e?0:i}),TweenLite.to(this.nextButton,.4,{alpha:e?0:1,delay:e?0:.1+i}),TweenLite.to(this.previousButton.position,.5,{x:e?-120:-this.bg.texture.width/2,ease:Power1.easeInOut,delay:e?0:i}),TweenLite.to(this.previousButton,.4,{alpha:e?0:1,delay:e?0:.1+i}),TweenLite.to(this.container.scale,.4,{x:e?2.5:1,y:e?2.5:1,ease:Power1.easeIn,delay:e?i:0}),e&&TweenLite.to(this.container,.4,{alpha:0,ease:Power1.easeIn,delay:i,onComplete:function(){t.isActive=!1,t.visible=!1,t.onBallPickerHidden.dispatch()}})},a.previousBall=function(){for(var e=0;e<this.ballHolders.length;e++){var t=this.ballHolders[e];if(t.position.x<10&&-10<t.position.x)return void(this.ballHolders[e-1]?this.onBallDown(this.ballHolders[e-1]):this.onBallDown(this.ballHolders[this.ballHolders.length-1]))}},a.nextBall=function(){for(var e=0;e<this.ballHolders.length;e++){var t=this.ballHolders[e];if(t.position.x<10&&-10<t.position.x)return void(this.ballHolders[e+1]?this.onBallDown(this.ballHolders[e+1]):this.onBallDown(this.ballHolders[0]))}},a.updateTransform=function(){if(l.prototype.updateTransform.call(this),this.balls){this.trackpad.update(),this.trackpad.dragging&&this.resetTimer();for(var e=h.default.BALL_PICKER.BALL_WIDTH+h.default.BALL_PICKER.BALL_SPACING,t=this.ballHolders.length*e,i=0;i<this.ballHolders.length;i++){var n=this.ballHolders[i];n.position.x=i*e+this.trackpad.value+this.offset;var r=Math.floor((n.position.x+e/2)/t);if(r*=this.ballHolders.length,r*=-1,(r+=i+this.initialSelectedIndex-3)!=n.id){var a=(n.id=r)%this.balls.length;a<0&&(a+=this.balls.length),n.ballData=this.balls[a],n.sprite.texture=u.Texture.from(n.ballData.texture),n.lock.visible=n.ballData.locked}n.position.x%=t,n.position.x<0&&(n.position.x+=t),n.position.x-=3*e;var o=2*(n.position.x/t-.5),s=1-2*Math.abs(1-Math.abs(o));s=Math.min(Math.max(s,.75),1),s*=1.35,n.scale.set(s),1.013<n.scale.x&&this.centerHolder!==n&&!this.isSelected&&((this.centerHolder=n).ballData.locked||(this._displayedBallId=n.ballData.id,this.onBallSelected.dispatch(this.displayedBallId)))}}},a.updateTimer=function(){this.timer-=15,this.timer<=0&&(this.selectBall(),d.default.game.remove(this.updateTimer,this))},i=BallPicker,(n=[{key:"displayedBallId",get:function(){return this._displayedBallId}}])&&_defineProperties(i.prototype,n),r&&_defineProperties(i,r),BallPicker}(u.Container);t.default=n},function(e,t,o){"use strict";var i;void 0===(i=function(e,t,i){o(0);function iWg(e){n.call(this),this.game=e,this.padding=(r.instance.isMobile,0),this.idleZoom=1,this.zoom=this.idleZoom,this.zoomWait=0,this.lockToFrame=!0,this.easeX=0,this.easeY=0,this.mobileMode=!1,this.spring=new a,this.canShake=!0}var n=o(602),r=o(15),a=o(132);(iWg.prototype=Object.create(n.prototype)).reset=function(){this.x=this.easeX=this.viewWidth/2},iWg.prototype.shake=function(e,t){this.canShake&&(e=e||Math.random()*Math.PI*2,t=t||20,this.spring.dx=Math.sin(e)*t,this.spring.dy=Math.cos(e)*t)},iWg.prototype.update=function(){this.spring.update();var e=this.game.ball,t=e.position.x,i=e.position.y;this.viewWidth,this.viewHeight;this.easeX+=.1*(t-this.x),this.easeY+=.1*(i-this.y),this.x=this.easeX+this.spring.x,this.y=this.easeY+this.spring.y},iWg.prototype.resize=function(e,t){this.viewWidth=e,this.viewHeight=t},i.exports=iWg}.call(t,o,t,e))||(e.exports=i)},function(e,t,n){"use strict";var i;void 0===(i=function(e,t,i){function BWg(){this.x=0,this.y=0,this.rotation=0,this.zoom=1,this.viewWidth=1130,this.viewHeight=640}n(0);BWg.prototype.update=function(){},BWg.prototype.resize=function(e,t){this.viewWidth=e,this.viewHeight=t},i.exports=BWg}.call(t,n,t,e))||(e.exports=i)},function(e,t,o){"use strict";var i;void 0===(i=function(e,t,i){o(0);function SWg(e){n.PerspectiveCamera.call(this,40,4,1,3e3),this.game=e,this.padding=(r.instance.isMobile,0),this.idleZoom=1,this.targetZoom=1,this.zoom=this.idleZoom,this.zoomWait=0,this.lockToFrame=!0,this.easeX=0,this.easeY=0,this.easeZ=0,this.mobileMode=!1,this.spring=new a,this.canShake=!0,this.focusMode=!1,this.celebrateMode=!1,this.endMode=!1,this.rock=0,this.tick=0,this.currentId=0}var n=o(12),c=o(14),r=o(15),a=o(132);o(177),o(30);(SWg.prototype=Object.create(n.PerspectiveCamera.prototype)).reset=function(){this.x=this.easeX=this.viewWidth/2,this.endMode=!1,this.celebrateMode=!1},SWg.prototype.shake=function(e,t){this.canShake&&(e=e||Math.random()*Math.PI*2,t=t||20,this.spring.dx=Math.sin(e)*t,this.spring.dy=Math.cos(e)*t)},SWg.prototype.update=function(){this.spring.update();var e=this.game.ball;this.celebrateMode?e=this.game.ball.lastOwner||this.game.ball:this.endMode&&(100<this.tick&&(this.currentId++,this.tick=0),e=this.game.ball.lastOwner||this.game.ball);var t=e.position.x;t<200?t=200:1400<t&&(t=1400);var i=e.position.y;(this.celebrateMode||this.endMode)&&(i+=100),i<150?i=150:800<i&&(i=800);var n=t,r=i-400,a=500-c.map(i,150,800,150,0);this.focusMode?(a=300,this.targetZoom=1.4,this.shake(null,(this.zoom-1)/.2),this.easeZ+=.1*(a-this.easeZ)):(this.targetZoom=1,this.easeZ+=.3*(a-this.easeZ)),this.easeX+=.2*(n-this.easeX),this.easeY+=.2*(r-this.easeY),this.position.x=this.easeX,this.position.y=this.easeY,this.position.z=this.easeZ;var o=+this.position.z,s=this.position.y-i,l=this.position.x-t,u=Math.atan2(-s,o),h=Math.atan2(-o,l)+Math.PI/2;if(this.rotation.x+=c.smallestAngle(this.rotation.x,u),this.rotation.y+=c.smallestAngle(this.rotation.y,h),window.test=this.rotation.x,this.position.x+=this.spring.x,this.position.z+=this.spring.y,this.celebrateMode){this.rotation.z=.15*Math.sin(.6*this.rock),this.rock+=.1;var d=1.5+.2*Math.sin(.5*this.rock);this.zoom+=.1*(d-this.zoom)}else this.rotation.z*=.9,this.zoom+=.01*(this.targetZoom-this.zoom);this.updateProjectionMatrix()},i.exports=SWg}.call(t,o,t,e))||(e.exports=i)},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n=_interopRequireDefault(i(30)),r=_interopRequireDefault(i(5)),a=_interopRequireDefault(i(6)),o=_interopRequireDefault(i(13));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var s=function(){function EndScript(e){_defineProperty(this,"game",void 0),_defineProperty(this,"active",void 0),_defineProperty(this,"waitForPoints",void 0),this.game=e,this.active=!1}var e=EndScript.prototype;return e.showPoints=function(){var e=this;r.default.isTournament&&r.default.scoreKey&&!this.game.points&&0<this.waitForPoints?TweenLite.delayedCall(.5,function(){e.waitForPoints--,e.showPoints()}):(this.game.hud.showBigScreen("win"),r.default.isTournament&&TweenLite.to(this.game.black,.3,{delay:6,alpha:1,ease:Sine.easeOut,onComplete:this.onFadeOut,onCompleteScope:this}))},e.run=function(e){var t=this;this.waitForPoints=10,this.active=!0,e===n.default.END_STATE.LOSE?(this.game.teamManagerA.sad(),this.game.teamManagerB.happy(),TweenLite.delayedCall(2,function(){t.game.hud.showBigScreen("lose"),r.default.isTournament&&TweenLite.to(t.game.black,.3,{delay:6,alpha:1,ease:Sine.easeOut,onComplete:t.onFadeOut,onCompleteScope:t})})):e===n.default.END_STATE.WIN&&(this.game.teamManagerA.happy(),this.game.teamManagerB.sad(),this.game.flash.flash(),this.game.hud.party.visible=!0,this.game.world.view3d.camera.shake(30),TweenLite.delayedCall(2,function(){t.showPoints()})),r.default.matchResult.goalsA=this.game.goalsA,r.default.matchResult.goalsB=this.game.goalsB,this.game.world.view3d.camera.endMode=!0,this.game.ball.body.velocity.x*=.1,this.game.ball.body.velocity.y*=.1,this.game.ball.setActive(!1),this.game.hud.message.show(a.default.MESSAGE_ID.WHISTLE),TweenLite.delayedCall(.5,function(){t.active&&o.default.sfx.play("whistle_full_time")}),r.default.isTournament||TweenLite.delayedCall(4,function(){t.active&&t.game.gameover()})},e.onFadeOut=function(){TweenLite.to(this.game.black,.3,{alpha:0,ease:Sine.easeOut}),this.game.hud.party.visible=!1,this.game.world.view3d.camera.endMode=!1,this.active&&this.game.gameover()},e.reset=function(){this.active=!1},EndScript}();t.default=s},function(e,t,r){"use strict";var i;void 0===(i=function(e,t,i){function FXg(e,t){n.Graphics.call(this),this.beginFill(16777215).drawRect(0,0,100,100),this.resize(e,t),this.alpha=0}var n=r(0);(FXg.prototype=Object.create(n.Graphics.prototype)).flash=function(e,t){this.alpha=1,TweenLite.to(this,t||.5,{alpha:0,delay:e||0,ease:Expo.easeOut})},FXg.prototype.resize=function(e,t){this.scale.x=e/100,this.scale.y=e/100},i.exports=FXg}.call(t,r,t,e))||(e.exports=i)},function(e,t,i){"use strict";function QXg(){}i(0);QXg.constructor=QXg,e.exports=QXg},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var u=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=n?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(i,r,a):i[r]=e[r]}i.default=e,t&&t.set(e,i);return i}(i(12)),h=_interopRequireDefault(i(3)),n=_interopRequireDefault(i(28)),d=i(27);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function(){return e},e}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}i(608);var r=function(l){var e,t;function Goal(e,t){var i;void 0===t&&(t=!1);var n=e.stadiumsSystem.activeStadium.id,r=new d.CrashBody.fromRect(0,-100,100,200);r.type=d.CrashBody.STATIC,r.solid=!1,_defineProperty(_assertThisInitialized(i=l.call(this,100,100,a,r)||this),"loader",void 0),_defineProperty(_assertThisInitialized(i),"app",void 0),_defineProperty(_assertThisInitialized(i),"lastTimeGoal",void 0),_defineProperty(_assertThisInitialized(i),"currentTimeGoal",void 0),_defineProperty(_assertThisInitialized(i),"groups",void 0),_defineProperty(_assertThisInitialized(i),"type",void 0),_defineProperty(_assertThisInitialized(i),"left",void 0),_defineProperty(_assertThisInitialized(i),"canScore",void 0),_defineProperty(_assertThisInitialized(i),"view3d",void 0),_defineProperty(_assertThisInitialized(i),"activeStadiumId",void 0),_defineProperty(_assertThisInitialized(i),"goal",void 0),_defineProperty(_assertThisInitialized(i),"onGoalScored",void 0),i.app=e,i.activeStadiumId=n,i.lastTimeGoal=0,i.currentTimeGoal=0;var a=r.getDebugView();a.alpha=.5,i.body.position=i.position,i.groups=["Goal"],i.type=1,i.left=!1,i.onGoalScored=new h.default,i.loader=new u.TextureLoader,i.view3d=new u.Object3D;var o=i.loader.load(RESOLVE_PATH(ASSET_URL+"img/content/stadiums/core-assets/"+n+"-stadium/goal-texture.png"));o.wrapS=u.ClampToEdgeWrapping,o.wrapT=u.ClampToEdgeWrapping,o.minFilter=u.LinearFilter,o.maxFilter=u.LinearFilter;var s=new u.MeshBasicMaterial({map:o});return s.side=u.DoubleSide,s.transparent=!0,s.alphaTest=.8,(new u.default.OBJLoader).load(ASSET_URL+"models/GOAL.obj",function(e){e.rotation.x=Math.PI/2,e.traverse(function(e){e instanceof u.Mesh&&(e.material=s,e.material.needsUpdate=!0)}),i.view3d.add(e),e.position.y=-95,e.position.x=100,t&&(e.rotation.y=Math.PI,e.position.x=0,e.position.y=95),e.scale.x=e.scale.y=e.scale.z=.53,i.goal=e},function(){},function(){}),i.enableGoal(),i}t=l,(e=Goal).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=Goal.prototype;return i.refreshStadium=function(){if(this.goal){this.activeStadiumId=this.app.stadiumsSystem.activeStadium.id;var e=this.loader.load(RESOLVE_PATH(ASSET_URL+"img/content/stadiums/core-assets/"+this.activeStadiumId+"-stadium/goal-texture.png"));e.wrapS=u.ClampToEdgeWrapping,e.wrapT=u.ClampToEdgeWrapping,e.minFilter=u.LinearFilter,e.maxFilter=u.LinearFilter;var t=new u.MeshBasicMaterial({map:e});t.side=u.DoubleSide,t.transparent=!0,t.alphaTest=.8,this.goal.traverse(function(e){e instanceof u.Mesh&&(e.material=t,e.material.needsUpdate=!0)})}},i.addedToWorld=function(){},i.reset=function(){},i.update=function(){this.view3d.position.x=this.position.x,this.view3d.position.y=this.position.y,this.currentTimeGoal=Date.now()},i.enableGoal=function(){this.canScore=!0},i.disableGoal=function(){this.canScore=!1},i.onCollideBegin=function(e){"ball"===e.getOtherObject(this).name&&this.canScore&&(e.ignore=!0,1e3<this.currentTimeGoal-this.lastTimeGoal&&(this.lastTimeGoal=Date.now(),this.onGoalScored.dispatch(this)))},Goal}(n.default);t.default=r},function(e,t,i){"use strict";var E=i(12);E.OBJLoader=function(e){this.manager=void 0!==e?e:E.DefaultLoadingManager,this.materials=null},E.OBJLoader.prototype={constructor:E.OBJLoader,load:function(e,t,i,n){var r=this,a=new E.XHRLoader(r.manager);a.setPath(this.path),a.load(e,function(e){t(r.parse(e))},i,n)},setPath:function(e){this.path=e},setMaterials:function(e){this.materials=e},parse:function(e){var n,t=[],i=!1,r=[],a=[],o=[];function addObject(e){n={name:e,geometry:{vertices:[],normals:[],uvs:[]},material:{name:"",smooth:!0}},t.push(n)}function parseVertexIndex(e){var t=parseInt(e);return 3*(0<=t?t-1:t+r.length/3)}function parseNormalIndex(e){var t=parseInt(e);return 3*(0<=t?t-1:t+a.length/3)}function parseUVIndex(e){var t=parseInt(e);return 2*(0<=t?t-1:t+o.length/2)}function addVertex(e,t,i){n.geometry.vertices.push(r[e],r[e+1],r[e+2],r[t],r[t+1],r[t+2],r[i],r[i+1],r[i+2])}function addNormal(e,t,i){n.geometry.normals.push(a[e],a[e+1],a[e+2],a[t],a[t+1],a[t+2],a[i],a[i+1],a[i+2])}function addUV(e,t,i){n.geometry.uvs.push(o[e],o[e+1],o[t],o[t+1],o[i],o[i+1])}function addFace(e,t,i,n,r,a,o,s,l,u,h,d){var c,p=parseVertexIndex(e),f=parseVertexIndex(t),m=parseVertexIndex(i);void 0===n?addVertex(p,f,m):(addVertex(p,f,c=parseVertexIndex(n)),addVertex(f,m,c)),void 0!==r&&(p=parseUVIndex(r),f=parseUVIndex(a),m=parseUVIndex(o),void 0===n?addUV(p,f,m):(addUV(p,f,c=parseUVIndex(s)),addUV(f,m,c))),void 0!==l&&(p=parseNormalIndex(l),f=parseNormalIndex(u),m=parseNormalIndex(h),void 0===n?addNormal(p,f,m):(addNormal(p,f,c=parseNormalIndex(d)),addNormal(f,m,c)))}addObject("");for(var s=/^v\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,l=/^vn\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,u=/^vt\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/,h=/^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/,d=/^f\s+((-?\d+)\/(-?\d+))\s+((-?\d+)\/(-?\d+))\s+((-?\d+)\/(-?\d+))(?:\s+((-?\d+)\/(-?\d+)))?/,c=/^f\s+((-?\d+)\/(-?\d+)\/(-?\d+))\s+((-?\d+)\/(-?\d+)\/(-?\d+))\s+((-?\d+)\/(-?\d+)\/(-?\d+))(?:\s+((-?\d+)\/(-?\d+)\/(-?\d+)))?/,p=/^f\s+((-?\d+)\/\/(-?\d+))\s+((-?\d+)\/\/(-?\d+))\s+((-?\d+)\/\/(-?\d+))(?:\s+((-?\d+)\/\/(-?\d+)))?/,f=/^[og]\s*(.+)?/,m=/^s\s+(\d+|on|off)/,_=e.split("\n"),g=0;g<_.length;g++){var v,y=_[g];if(0!==(y=y.trim()).length&&"#"!==y.charAt(0))if(null!==(v=s.exec(y)))r.push(parseFloat(v[1]),parseFloat(v[2]),parseFloat(v[3]));else if(null!==(v=l.exec(y)))a.push(parseFloat(v[1]),parseFloat(v[2]),parseFloat(v[3]));else if(null!==(v=u.exec(y)))o.push(parseFloat(v[1]),parseFloat(v[2]));else if(null!==(v=h.exec(y)))addFace(v[1],v[2],v[3],v[4]);else if(null!==(v=d.exec(y)))addFace(v[2],v[5],v[8],v[11],v[3],v[6],v[9],v[12]);else if(null!==(v=c.exec(y)))addFace(v[2],v[6],v[10],v[14],v[3],v[7],v[11],v[15],v[4],v[8],v[12],v[16]);else if(null!==(v=p.exec(y)))addFace(v[2],v[5],v[8],v[11],void 0,void 0,void 0,void 0,v[3],v[6],v[9],v[12]);else if(null!==(v=f.exec(y))){var b=v[0].substr(1).trim();!1===i?(i=!0,n.name=b):addObject(b)}else if(/^usemtl /.test(y))n.material.name=y.substring(7).trim();else if(!/^mtllib /.test(y)){if(null===(v=m.exec(y)))throw new Error("Unexpected line: "+y);n.material.smooth="1"===v[1]||"on"===v[1]}}for(var w=new E.Group,x=(g=0,t.length);g<x;g++){var T,S=(n=t[g]).geometry,M=new E.BufferGeometry;M.addAttribute("position",new E.BufferAttribute(new Float32Array(S.vertices),3)),0<S.normals.length?M.addAttribute("normal",new E.BufferAttribute(new Float32Array(S.normals),3)):M.computeVertexNormals(),0<S.uvs.length&&M.addAttribute("uv",new E.BufferAttribute(new Float32Array(S.uvs),2)),null!==this.materials&&(T=this.materials.create(n.material.name)),T||((T=new E.MeshPhongMaterial).name=n.material.name),T.shading=n.material.smooth?E.SmoothShading:E.FlatShading;var L=new E.Mesh(M,T);L.name=n.name,w.add(L)}return w}}},function(e,t,i){"use strict";function e$g(e){this.game=e,this.left=!1,this.active=!1}i(139),i(6);e$g.prototype.run=function(e){this.game.active=!1,this.active=!0,this.left=e,this.game.movieBorders.show(.05,1),this.game.flash.flash(),this.game.hud.party.visible=!0,this.game.world.view3d.camera.shake(30),this.game.world.view3d.camera.celebrateMode=!0,this.game.teamManagerA.left===e?(this.game.teamManagerB.happy(),this.game.teamManagerA.sad()):(this.game.teamManagerA.happy(),this.game.teamManagerB.sad()),this.game.hud.showBigScreen("goal"),this.game.timer.stop(),this.game.ball.setActive(!1),TweenLite.to(this.game.black,.8,{delay:5,alpha:1,ease:Sine.easeOut,onComplete:this.onFadeOut,onCompleteScope:this})},e$g.prototype.onFadeOut=function(){this.game.hud.reset(),TweenLite.to(this.game.black,.8,{alpha:0,ease:Sine.easeOut});var e=this.game.ball;e.body.velocity.x=0,e.body.velocity.y=0,e.body.position.x=.5*this.game.pitchWidth,e.body.position.y=.5*this.game.pitchHeight,this.game.world.view3d.camera.celebrateMode=!1,this.active&&(this.game.active=!0,this.game.scripts.start.run(!1,this.left))},e$g.prototype.update=function(){},e$g.prototype.reset=function(){this.active=!1},e.exports=e$g},function(e,t,a){"use strict";var i;void 0===(i=function(e,t,i){function z$g(e){l.Container.call(this),this.game=e,this.scorePanel=new l.Container,this.addChild(this.scorePanel);for(var t=[],i=1;i<=5;i++)t.push(l.Texture.fromFrame("jumbotron-"+i+".png"));var n=[];for(i=(this.showTextures=t).length-1;0<=i;i--)n.push(t[i]);this.hideTextures=n,this.goldenGoalTexture=[l.Texture.fromFrame("jumbotron-extra-time.png")];var r=new l.extras.MovieClip(t);for(r.animationSpeed=.2,r.loop=!1,r.anchor.set(.5,0),this.hudAnim=r,this.scorePanel.addChild(r),this.anims={},t=[],i=1;i<=5;i++)t.push(l.Texture.fromFrame("jumbotron_goal_0"+i+".png"));for(this.anims.goal=t,t=[],i=1;i<=10;i++)i<10&&(i="0"+i),t.push(l.Texture.fromFrame("jumbotron_match_win_"+i+".png"));for(this.anims.win=t,t=[],i=1;i<=7;i++)t.push(l.Texture.fromFrame("jumbotron_trophy_win_0"+i+".png"));this.anims.trophy=t,this.hudBigContent=new l.Container,this.scorePanel.addChild(this.hudBigContent);var a=l.Sprite.from(ASSET_URL+"img/content/logos/titles/logo_"+(p.logos[window.LANGUAGE]||"en")+".png");a.anchor.set(.5),a.y=55,a.scale.set(.22),this.logo=a,this.hudBigContent.addChild(a),t=[l.Texture.fromFrame("jumbotron-lines-01.png"),l.Texture.fromFrame("jumbotron-lines-02.png")];var o=new l.extras.MovieClip(t);o.anchor.set(.5),o.animationSpeed=.1,o.play(),o.alpha=.3,o.y=180,this.hudBigContent.addChild(o);var s={fill:"#f9d840",fontSize:70,fontFamily:window.MAIN_FONT,stroke:"#000",strokeThickness:4,lineJoin:"round",letterSpacing:10};this.bigScoreA=new l.Text("0",s),this.bigScoreA.anchor.set(.5),this.bigScoreA.x=-130,this.bigScoreA.y=75,this.hudBigContent.addChild(this.bigScoreA),this.bigScoreB=new l.Text("0",s),this.bigScoreB.anchor.set(.5),this.bigScoreB.x=130,this.bigScoreB.y=75,this.hudBigContent.addChild(this.bigScoreB),s.fontSize=100,s.maxWidth=670,this.bigGoalText=new f("STR_TUTORIAL_GOAL",s),this.bigGoalText.anchor.set(.5),this.bigGoalText.y=220,this.bigGoalText.visible=!1,this.hudBigContent.addChild(this.bigGoalText),s.fontSize=68,s.align="center",this.bigWinText=new f("STR_HUD_WIN",s),this.bigWinText.anchor.set(.5),this.bigWinText.y=175,this.bigWinText.visible=!1,this.hudBigContent.addChild(this.bigWinText),s.fontSize=36,s.letterSpacing=2,this.bigPointsText=new f("England: +25 points!",s),this.bigPointsText.anchor.set(.5),this.bigPointsText.y=275,this.bigPointsText.visible=!1,this.hudBigContent.addChild(this.bigPointsText),s.fontSize=40,s.letterSpacing=2,this.bigTimeText=new l.Text("00:00",s),this.bigTimeText.anchor.set(.5),this.bigTimeText.y=120,this.hudBigContent.addChild(this.bigTimeText),this.hudBigAnim=new l.extras.MovieClip(t),this.hudBigAnim.animationSpeed=.08,this.hudBigAnim.loop=!1,this.hudBigAnim.anchor.set(.5),this.hudBigAnim.y=235,this.hudBigContent.addChild(this.hudBigAnim),this.hudContent=new l.Container,this.scorePanel.addChild(this.hudContent),this.score=new l.Text("0 - 0",{fill:"#f9d840",fontSize:50,fontFamily:window.MAIN_FONT,stroke:"#000",strokeThickness:4,lineJoin:"round"}),this.score.anchor.set(.5,.5),this.score.y=40,this.hudContent.addChild(this.score),this.time=new f("00:00",{fill:"#ff3838",fontSize:24,fontFamily:window.MAIN_FONT,stroke:!1,strokeThickness:8,letterSpacing:0,lineJoin:"round",maxWidth:250}),this.time.position.set(0,95),this.time.anchor.x=.5,this.hudContent.addChild(this.time),this.detailPool=new h(u),this.message=new d(this.game),this.addChild(this.message),this.party=new c(null,null,1),this.party.visible=!1,this.pos=new l.Point,window.showGoal=this.showBigScreen.bind(this,"goal"),window.showWin=this.showBigScreen.bind(this,"win"),window.showLose=this.showBigScreen.bind(this,"lose"),window.hideScreen=this.hideBigScreen.bind(this),(window.hud=this).flashTimer=0}var l=a(0),u=a(611),h=a(48),d=a(612),c=a(84),n=a(5),p=a(25).Translation,f=a(11),r=a(4);(z$g.prototype=Object.create(l.Container.prototype)).setData=function(e,t){if(e&&t){this.hudContent.removeChild(this.flag),this.flag=new l.Sprite.fromFrame(e.FLAG),this.flag.anchor.set(.5),this.flag.scale.set(.5),this.flag.position.set(-160,36),this.hudContent.addChild(this.flag),this.hudContent.removeChild(this.flag2),this.flag2=new l.Sprite.fromFrame(t.FLAG),this.flag2.anchor.set(.5),this.flag2.scale.set(.5),this.flag2.position.set(160,36),this.hudContent.addChild(this.flag2),this.hudBigContent.removeChild(this.flagBig),this.flagBig=new l.Sprite.fromFrame(e.FLAG),this.flagBig.anchor.set(.5),this.flagBig.position.set(-270,76),this.hudBigContent.addChild(this.flagBig),this.hudBigContent.removeChild(this.flagBig2),this.flagBig2=new l.Sprite.fromFrame(t.FLAG),this.flagBig2.anchor.set(.5),this.flagBig2.position.set(270,76),this.hudBigContent.addChild(this.flagBig2);var i=ASSET_URL+"img/content/logos/titles/logo_"+(p.logos[window.LANGUAGE]||"en")+".png";"es"===window.LANGUAGE&&(i=ASSET_URL+"img/content/logos/titles/logo_es.png"),l.TextureCache[i]&&(this.logo.texture=l.Texture.from(i))}},z$g.prototype.reset=function(){this.message.reset(),this.game.teamManagerA.team.run(function(e){e.offScreenIcon.visible=!0}),this.party.visible=!1,this.hudContent.visible=!0,this.hudBigContent.visible=!1,this.hudAnim.textures=this.showTextures,this.hudAnim.gotoAndStop(0),this.time.visible=!0},z$g.prototype.update=function(){var e=this.game.goalsA+"       "+this.game.goalsB;this.score.text=e;var t=this.game.goalsA;this.bigScoreA.text=t.toString();var i=this.game.goalsB;if(this.bigScoreB.text=i.toString(),this.pos.x=this.game.world.view3d.camera.position.x,this.party.update(this.pos),this.game.goldenGoal)this.time.setText("STR_GAME_GOLDEN_GOAL"),this.time.visible=!0,this.hudAnim.textures=this.goldenGoalTexture,this.hudAnim.gotoAndStop(0);else{this.hudAnim.textures===this.goldenGoalTexture&&(this.hudAnim.textures=this.showTextures,this.hudAnim.gotoAndStop(0));var n=this.game.timer.getSecondsLeft();this.time.text=this.formatTime(Math.floor(n))}this.bigTimeText.text=this.formatTime(Math.floor(this.game.timer.getSecondsLeft())),this.game.timer.getSecondsLeft()<31&&!this.game.goldenGoal&&(this.flashTimer+=r.instance.deltaTime,30<=this.flashTimer&&(this.flashTimer=0,this.time.visible=!this.time.visible))},z$g.prototype.formatTime=function(e){var t=Math.max(Math.floor(e/60),0),i=Math.max(e%60,0);return(t<10?"0":"")+t+":"+(i<10?"0":"")+i},z$g.prototype.showBigScreen=function(e){this.game.teamManagerA.team.run(function(e){e.offScreenIcon.visible=!1}),this.hudContent.visible=!1,this.hudAnim.textures=this.showTextures,this.hudAnim.gotoAndPlay(0),this.hudAnim.onComplete=this.showBigScreenContent.bind(this,e)},z$g.prototype.hideBigScreen=function(){this.hudBigContent.visible=!1,this.hudAnim.textures=this.hideTextures,this.hudAnim.gotoAndPlay(0),this.hudAnim.onComplete=function(){this.hudContent.visible=!0,this.game.teamManagerA.team.run(function(e){e.offScreenIcon.visible=!0})}.bind(this)},z$g.prototype.showBigScreenContent=function(e){if(this.hudBigContent.visible=!0,this.bigWinText.visible=!1,this.bigGoalText.visible=!1,this.bigTimeText.visible=!1,this.bigPointsText.visible=!1,this.bigWinText.y=175,"goal"===e?(this.bigTimeText.visible=!0,this.logo.y=55,this.bigPointsText.visible=!1):(this.logo.y=75,this.bigTimeText.visible=!1),"lose"===e)this.bigTimeText.visible=!1,this.bigWinText.setText("STR_HUD_LOSE"),this.bigWinText.visible=!0,this.bigPointsText.setText("STR_HUD_LOSE2"),this.bigPointsText.visible=!0;else if("kickoff"===e){var t="STR_TITLE_PRACTICE";n.isTournament&&(t=0<n.tournamentData.final.length?"STR_TOURNAMENT_FINALS":0<n.tournamentData.semi.length?"STR_TOURNAMENT_SEMI2":"STR_TOURNAMENT_QUARTERS2"),this.bigWinText.setText([t,"\n","STR_HUD_KICKOFF"]),this.bigWinText.y=215,this.bigWinText.visible=!0}this.anims[e]?(this.bigGoalText.visible=!1,this.hudBigAnim.visible=!0,this.hudBigAnim.textures=this.anims[e],this.hudBigAnim.gotoAndStop(0),this.hudBigAnim.gotoAndPlay(0),this.hudBigAnim.onComplete=function(){this.hudBigAnim.visible=!1,"goal"===e?this.bigGoalText.visible=!0:"win"===e&&(this.bigWinText.visible=!0,0<n.tournamentData.final.length?this.bigWinText.setText("STR_HUD_WINCUP"):this.bigWinText.setText("STR_HUD_WIN"),n.isTournament&&this.game.points?(this.bigPointsText.setText([n.countryID.NAME+"_UPPERCASE",": +"+this.game.points+" ","STR_HUD_POINTS"]),this.bigPointsText.visible=!0):this.bigPointsText.visible=!1)}.bind(this)):this.hudBigAnim.visible=!1},z$g.prototype.resize=function(e,t){this.message.x=e/2,this.message.y=t/2,this.party.w=e,this.party.h=t+100,this.scorePanel.position.y=0,this.scorePanel.position.x=e/2},i.exports=z$g}.call(t,a,t,e))||(e.exports=i)},function(e,t,o){"use strict";var i;void 0===(i=function(e,t,i){function i_g(){n.Text.call(this,"YAY",{font:"26px chunkfiveroman",fill:"#eaff32",dropShadow:!0}),this.anchor.set(.5),this.count=0,this.multiplierColors=["#eaff32","#ffd300","#ff70df","#00ebff"],this.onFinish=new r}var n=o(0),r=o(3),a=o(4);(i_g.prototype=Object.create(n.Text.prototype)).setup=function(e,t,i,n){this.x=e,this.y=t,this.speed=5,this.alpha=1,this.count=0,this.scale.x=this.scale.y=0,TweenLite.to(this.scale,.5,{x:1+.2*(n-1),y:1+.2*(n-1),ease:Elastic.easeOut}),this.style.fill=this.multiplierColors[(n-1)%4],this.text=i+(1<n?"x"+n:"")},i_g.prototype.updateTransform=function(){n.Text.prototype.updateTransform.call(this),this.speed*=.95*a.instance.deltaTime,this.position.y-=this.speed*a.instance.deltaTime,this.count+=a.instance.deltaTime,20<this.count&&(this.alpha*=.95*a.instance.deltaTime),this.alpha<.3&&this.onFinish.dispatch(this)},i.exports=i_g}.call(t,o,t,e))||(e.exports=i)},function(e,t,h){"use strict";var i;void 0===(i=function(e,t,i){function D_g(e){n.Container.call(this),this.game=e,this.message=null}var n=h(0),r=(h(135),h(6)),a=(h(5),h(613)),o=h(614),s=h(615),l=h(616),u=h(617);(D_g.prototype=Object.create(n.Container.prototype)).show=function(e,t){this.onAnimComplete(this),e===r.MESSAGE_ID.VS?(this.message=new a(this.game),this.animToBottom()):e===r.MESSAGE_ID.WHISTLE?(this.message=new o(this.game),this.animFromBottom(t)):e===r.MESSAGE_ID.GOAL?(this.message=new s(this.game),this.animToBottom()):e===r.MESSAGE_ID.SCORE?(this.message=new l(this.game),this.animToBottom()):e===r.MESSAGE_ID.POWERUP&&(this.message=new u(this.game,t),TweenLite.killTweensOf(this.message),TweenLite.killTweensOf(this.message.scale)),null!==this.message&&this.addChild(this.message)},D_g.prototype.reset=function(){this.onAnimComplete(this)},D_g.prototype.animToBottom=function(){TweenLite.killTweensOf(this.message),TweenLite.killTweensOf(this.message.scale),this.message.alpha=0,this.message.scale.set(2),TweenLite.to(this.message,.2,{alpha:1}),TweenLite.to(this.message.scale,.5,{x:1,y:1})},D_g.prototype.animFromBottom=function(e){TweenLite.killTweensOf(this.message.position),this.message.position.y=this.game.pitchHeight/2,e&&(this.message.position.x=e.x,this.message.scale.x=e.sx),TweenLite.to(this.message.position,.5,{y:this.game.pitchHeight/2-this.message.height}),TweenLite.to(this.message.position,.5,{y:this.game.pitchHeight/2,delay:2,onComplete:this.onAnimComplete,onCompleteScope:this})},D_g.prototype.onAnimComplete=function(){null!==this.message&&(this.removeChild(this.message),TweenLite.killTweensOf(this.message),TweenLite.killTweensOf(this.message.position),TweenLite.killTweensOf(this.message.scale),this.message=null)},i.exports=D_g}.call(t,h,t,e))||(e.exports=i)},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var o=i(25),s=_interopRequireDefault(i(5)),l=function(e){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache();if(t&&t.has(e))return t.get(e);var i={},n=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){var a=n?Object.getOwnPropertyDescriptor(e,r):null;a&&(a.get||a.set)?Object.defineProperty(i,r,a):i[r]=e[r]}i.default=e,t&&t.set(e,i);return i}(i(0)),u=_interopRequireDefault(i(18));function _getRequireWildcardCache(){if("function"!=typeof WeakMap)return null;var e=new WeakMap;return _getRequireWildcardCache=function(){return e},e}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var n=function(a){var e,t;function VsMessage(e){var t;t=a.call(this)||this,l.Container.call(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t)),t.game=e,t.bg=l.Sprite.from(ASSET_URL+"img/ui/panel-various-paused-bg.png"),t.bg.anchor.set(.5,.5),t.addChild(t.bg);var i=s.default.countryID,n=s.default.opponentID;t.title=u.default.h1(window.translations.STR_KICK_OFF),t.title.anchor.set(.5,.5),t.title.position.y=-t.bg.height/2-t.title.height+20,t.addChild(t.title),t.flag=new l.Sprite.fromFrame(i.FLAG),t.flag.anchor.set(.5,.5),t.flag.scale.set(.75),t.flag.position.set(-100,-35),t.addChild(t.flag),t.flag2=new l.Sprite.fromFrame(n.FLAG),t.flag2.anchor.set(.5,.5),t.flag2.scale.set(.75),t.flag2.position.set(100,-35),t.addChild(t.flag2);var r={fill:"white",font:"20px "+window.MAIN_FONT,stroke:!0,strokeThickness:8,lineJoin:"round",align:"center"};return t.labelCountry=new l.Text(o.Translation.countries[i.ID].NAME,r),t.labelCountry.anchor.set(.5,.5),t.labelCountry.position.set(-100,35),t.addChild(t.labelCountry),t.labelVs=new l.Text("vs",r),t.labelVs.anchor.set(.5,.5),t.labelVs.position.set(0,35),t.addChild(t.labelVs),t.labelCountry2=new l.Text(o.Translation.countries[n.ID].NAME,r),t.labelCountry2.anchor.set(.5,.5),t.labelCountry2.position.set(100,35),t.addChild(t.labelCountry2),t}return t=a,(e=VsMessage).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t,VsMessage}(l.Container);t.default=n,e.exports=t.default},function(e,t,a){"use strict";var i;void 0===(i=function(e,t,i){function s0g(e){n.Container.call(this),this.game=e,this.referee=new n.extras.MovieClip(r.getTexturesFromFrames(["ref_01.png","ref_02.png"])),this.referee.anchor.set(.5,0),this.referee.position.set(30,0),this.referee.animationSpeed=.07,this.addChild(this.referee),this.referee.play(),e.scripts.start.left||(this.referee.scale.x=-1,this.referee.position.x=-70)}var n=a(0),r=(a(25).Translation,a(5),a(29));s0g.prototype=Object.create(n.Container.prototype),i.exports=s0g}.call(t,a,t,e))||(e.exports=i)},function(e,t,a){"use strict";var i;void 0===(i=function(e,t,i){function G0g(e){n.Container.call(this),this.game=e;var t={fill:"white",font:"108px "+window.MAIN_FONT,stroke:!0,strokeThickness:30,lineJoin:"round",align:"center",dropShadow:!1};this.message=new n.Text(r.game_screen.goal,t),this.message.anchor.set(.5),this.addChild(this.message)}var n=a(0),r=a(25).Translation;a(5);G0g.prototype=Object.create(n.Container.prototype),i.exports=G0g}.call(t,a,t,e))||(e.exports=i)},function(e,t,o){"use strict";var i;void 0===(i=function(e,t,i){function V0g(e){n.Container.call(this),this.game=e,this.bg=n.Sprite.from(ASSET_URL+"img/ui/panel-various-paused-bg.png"),this.bg.anchor.set(.5,.5),this.addChild(this.bg);var t=r.countryID,i=r.opponentID;this.flag=new n.Sprite.fromFrame(t.FLAG),this.flag.anchor.set(.5,.5),this.flag.position.set(-100,-60),this.addChild(this.flag),this.flag2=new n.Sprite.fromFrame(i.FLAG),this.flag2.anchor.set(.5,.5),this.flag2.position.set(100,-60),this.addChild(this.flag2),window.MAIN_FONT,this.title=a.h3(t.NAME),this.title.anchor.set(.5,0),this.title.scale.set(.65),this.title.position.set(-100,this.flag.position.y+this.flag.height/2+10),this.addChild(this.title),this.title2=a.h3(i.NAME),this.title2.anchor.set(.5,0),this.title2.scale.set(.65),this.title2.position.set(100,this.flag.position.y+this.flag.height/2+10),this.addChild(this.title2),this.labelScore=a.h1(""+this.game.goalsA),this.labelScore.anchor.set(.5,.5),this.labelScore.position.set(-100,65),this.labelScore.scale.set(1.2),this.addChild(this.labelScore),this.labelVs=a.h1("-"),this.labelVs.anchor.set(.5,.5),this.labelVs.position.set(0,65),this.addChild(this.labelVs),this.labelScore2=a.h1(""+this.game.goalsB),this.labelScore2.anchor.set(.5,.5),this.labelScore2.position.set(100,65),this.labelScore2.scale.set(1.2),this.addChild(this.labelScore2)}var n=o(0),r=(o(25).Translation,o(5)),a=o(18);V0g.prototype=Object.create(n.Container.prototype),i.exports=V0g}.call(t,o,t,e))||(e.exports=i)},function(e,t,r){"use strict";var i;void 0===(i=function(e,t,i){function i1g(e,t){l.Container.call(this),this.y=250,this.game=e;var i=l.Sprite.from("power_up_bar_top.png");i.width=e.w,i.anchor.set(.5),i.y=-i.height/2+2,i.x=-i.width,this.addChild(i);var n,r=l.Sprite.from("power_up_bar_bottom.png");r.width=e.w,r.anchor.set(.5),r.y=r.height/2-2,r.x=r.width,this.addChild(r),this.balls=[],(n=l.Sprite.from("power_up_bar_ball.png")).anchor.set(.5),n.x=i.width/2,n.y=-i.height/2,i.addChild(n),this.balls.push(n),(n=l.Sprite.from("power_up_bar_ball.png")).anchor.set(.5),n.x=-r.width/2,n.y=r.height/2,r.addChild(n),this.balls.push(n),TweenLite.to(i.position,.2,{x:0,delay:0,ease:Quad.easeOut}),TweenLite.to(r.position,.2,{x:0,delay:.1,ease:Quad.easeOut});var a={fill:"white",fontSize:80,fontFamily:window.MAIN_FONT,stroke:!0,strokeThickness:8,lineJoin:"round",letterSpacing:3,padding:20},o=(t=t||{}).name||"POWER UP";t.color&&(a.fill=t.color);var s=new u(o.toLocaleUpperCase("tr"===window.LANGUAGE?"TR":"en-US"),a);s.anchor.set(.5),s.position.set(0,0),s.alpha=0,this.addChild(s),TweenLite.to(s,.2,{alpha:1,delay:.2+.1}),TweenLite.to(i.position,.2,{x:i.width,delay:1.6,ease:Quad.easeIn}),TweenLite.to(r.position,.2,{x:-r.width,delay:.1+1.6,ease:Quad.easeIn,onComplete:function(){this.visible=!1}.bind(this)}),TweenLite.to(s,.2,{alpha:0,delay:1.6})}var l=r(0),u=r(11),n=r(4);(i1g.prototype=Object.create(l.Container.prototype)).updateTransform=function(){this.containerUpdateTransform();for(var e=0;e<this.balls.length;e++)this.balls[e].rotation+=.1*n.instance.deltaTime},i.exports=i1g}.call(t,r,t,e))||(e.exports=i)},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;_interopRequireDefault(i(0)),_interopRequireDefault(i(3)),_interopRequireDefault(i(13));var n=_interopRequireDefault(i(28)),s=_interopRequireDefault(i(14)),a=(_interopRequireDefault(i(12)),_interopRequireDefault(i(27))),o=_interopRequireDefault(i(316)),l=_interopRequireDefault(i(317)),u=(_interopRequireDefault(i(21)),_interopRequireDefault(i(619))),h=_interopRequireDefault(i(30));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var r=function(r){var e,t;function GoalKeeper(e){var t,i=new a.default.CrashBody.fromRect(-20,-20,40,40),n=i.getDebugView();return(t=r.call(this,100,100,n,i)||this).right=e,t.view3d=new u.default(_assertThisInitialized(t)),t.view3d.scale.x=t.view3d.scale.y=t.view3d.scale.z=.3,t.type=1,t.active=!0,t.body.position=t.position,t.groups=["GoalKeeper"],t.name="keeper",t.body.setMaxSpeed(2.5),t.ballSkills=new o.default(_assertThisInitialized(t)),t.ballSkills.speedRange=1,t.movement=new l.default(_assertThisInitialized(t)),t.diveTarget=null,t.diving=!1,t.ballSkills.offset.x=e?-24:24,t.ballSkills.offset.z=38,t.balanceData=null,t}t=r,(e=GoalKeeper).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=GoalKeeper.prototype;return i.show=function(){this.hidden=!1,this.view3d.keeperMesh.material.opacity=1},i.hide=function(){this.hidden=!0,this.view3d.keeperMesh.material.opacity=0},i.dive=function(e){if(!this.diving){this.diveTarget=e,this.diving=!0,this.body.friction=.9;var t=e.position.x-this.body.position.x,i=e.position.y-this.body.position.y,n=Math.sqrt(t*t+i*i);t/=n,i/=n,this.body.velocity.x=15*t,this.body.velocity.y=15*i,this.body.acceleration.x=0,this.body.acceleration.y=0,this.body.setMaxSpeed(20)}},i.reset=function(){},i.update=function(){if(this.diving){var e=this.body.velocity.length();if(this.diveTarget){var t=this.diveTarget.position.x-this.body.position.x,i=this.diveTarget.position.y-this.body.position.y,n=Math.sqrt(t*t+i*i);t/=n,i/=n,this.body.velocity.x=t*e,this.body.velocity.y=i*e}e<2&&(this.diving=!1,this.body.friction=.9,this.body.setMaxSpeed(2.5))}else this.movement.update();this.ballSkills.update(),this.view3d.update(),this.view3d.position.x=this.position.x,this.view3d.position.y=this.position.y},i.kickOut=function(e,t){this.ballSkills.pass(e,t,10,20),this.view3d.animation.play("kick","stand")},i.onCollideBegin=function(e){if(!this.hidden){var t=e.getOtherObject(this);if("ball"===t.name){var i=t;if(i.shot){var n=i.shootPosition.x-this.body.position.x,r=i.shootPosition.y-this.body.position.y,a=Math.sqrt(n*n+r*r);i.perfect&&300<a&&(i.perfect=!1)}if(i.perfect&&i.shot||i.shot&&i.remoteBall&&this.right)return void(e.ignore=!0);var o=i.body.velocity.length();15<o?(i.body.velocity.x*=-1,i.body.velocity.y=s.default.randomSign()*s.default.random(3,8),i.body.velocity.setLength(.5*o)):(e.ignore=!0,i.owner&&i.owner.ballSkills.releaseBall(),this.ballSkills.pickupBall(i),this.diveTarget=null,this.diving=!1)}else"player"===t.name&&(t.state===h.default.PLAYER_STATE.KICK_CHARGE&&t.shootRelease(this),e.ignore=!0)}},GoalKeeper}(n.default);t.default=r,e.exports=t.default},function(e,t,l){"use strict";var i;void 0===(i=function(e,t,i){l(0);function B2g(e){n.Object3D.call(this),this.keeper=e,this.scale.x=this.scale.y=this.scale.z=.22,this.flipContainer=new n.Object3D,this.flipContainer.rotation.x=.6-Math.PI,this.add(this.flipContainer),this.keeperMesh=new r.getMesh,this.flipContainer.add(this.keeperMesh),e.right&&(this.flipContainer.scale.x*=-1),this.animation=new s;var t=e.right?"red":"blue";this.animation.register("run",{frames:a.getTexturesFromFramesWithPrefix("goalkeeper-"+t+"-stand00%%.png",3,1),loop:!0}),this.animation.register("stand",{frames:a.getTexturesFromFramesWithPrefix("goalkeeper-"+t+"-stand00%%.png",3,1),loop:!0}),this.animation.register("kick",{frames:a.getTexturesFromFramesWithPrefix("goalkeeper-"+t+"-kick00%%.png",10,1),loop:!1}),this.animation.register("jump",{frames:a.getTexturesFromFramesWithPrefix("goalkeeper-"+t+"-jumpup00%%.png",1,10),loop:!1}),this.animation.play("stand")}var n=l(12),r=l(21),a=l(29),o=(l(28),a=l(29),l(27),l(4)),s=l(85);new n.PlaneGeometry(200,200),l(30).PLAYER_STATE;(B2g.prototype=Object.create(n.Object3D.prototype)).setData=function(e){},B2g.prototype.update=function(){this.animation.update(o.game.deltaTime),this.count++,r.setUvs(this.keeperMesh,this.animation.texture)},i.exports=B2g}.call(t,l,t,e))||(e.exports=i)},function(e,t,i){"use strict";i(0);function N2g(e,t,i){this.game=i,this.left=t,this.keeper=e,t?(this.goal=i.goalLeft,this.teamBad=i.teamLeft,this.team=i.teamRight):(this.goal=i.goalRight,this.team=i.teamLeft,this.teamBad=i.teamRight,window.keeperm=this),this.keeperHome=this.goal.position.clone(),t?this.keeperHome.x=40:this.keeperHome.x-=40,this.keeper.signals.onBallRecieved.add(this.onRecievedBall,this),this.keeper.signals.onBallLost.add(this.onLostBall,this),this.closeDownDistance=300,this.active=!0}var n=i(30),a=i(14),r=i(318);n.TEAM_STATE;(N2g.constructor=N2g).prototype.onRecievedBall=function(){if(!this.keeper.hidden){if(this.left){var e=this.goal.position.x+320;this.keeper.movement.moveTo(e,this.keeper.position.y)}else{e=this.goal.position.x-220;this.keeper.movement.moveTo(e,this.keeper.position.y)}this.active=!1,this.game.wait.wait(120,function(){this.keeper.movement.moveTo(this.keeperHome.x,this.keeperHome.y),this.left?this.keeper.movement.direction.set(1,0):this.keeper.movement.direction.set(-1,0);var e=r(this.keeper,this.teamBad);this.keeper.kickOut(e.dx,e.dy),this.active=!0},this)}},N2g.prototype.show=function(){this.keeper.position.x=this.keeperHome.x,this.keeper.position.y=this.keeperHome.y},N2g.prototype.hide=function(){this.keeper.position.y=-1e3},N2g.prototype.update=function(){if(!this.keeper.hidden&&this.active){var e=this.game.ball,t=Math.abs(e.position.x-this.goal.position.x),i=Math.abs(e.position.y-this.goal.position.y);if(Math.sqrt(t*t+i*i)<220&&e.active&&this.keeper.dive(e),t<this.closeDownDistance&&i<200&&e.active)this.keeper.movement.follow(e);else{var n=this.goal.position.y;t<600&&(n=a.cap(e.position.y,this.goal.position.y-20,this.goal.position.y+20)),this.keeper.movement.moveTo(this.keeperHome.x,n)}var r=this.keeper;r.right?r.body.velocity.x<0&&r.body.position.x<this.goal.position.x-300&&(r.body.velocity.x*=0):0<r.body.velocity.x&&r.body.position.x>this.goal.position.x+300&&(r.body.velocity.x*=0)}},N2g.prototype.onLostBall=function(){},e.exports=N2g},function(e,t,a){"use strict";var i;void 0===(i=function(e,t,i){function g3g(e){this.game=e,this.keyboard=new n,this.keyIsDown=!1,this.enadbled=!0,this.currentActiveItem=null,this.dPad=new PIXI.Point;r.getJson("config").config.LOCALE;this.keyboard.onKeyPress("space",this.onSpacePressed.bind(this)),this.keyboard.onKeyRelease("space",this.onSpaceReleased.bind(this))}var n=a(622),r=a(33);g3g.prototype.reset=function(){this.keyIsDown=!1,window.focus()},g3g.prototype.update=function(e){this.game.paused&&(this.keyIsDown=!1);var t=0,i=0,n=this.game.teamManagerA;if(this.keyboard.isPressed("left")||this.keyboard.isPressed("a")?t=-1:(this.keyboard.isPressed("right")||this.keyboard.isPressed("d"))&&(t=1),this.keyboard.isPressed("up")||this.keyboard.isPressed("w")?i=-1:(this.keyboard.isPressed("down")||this.keyboard.isPressed("s"))&&(i=1),-1===t&&this.lockLeft&&(t=0),1===t&&this.lockRight&&(t=0),-1===i&&this.lockUp&&(i=0),1===i&&this.lockDown&&(i=0),0===t&&0===i)n.stopActivePlayer();else{var r=Math.sqrt(t*t+i*i);t/=r,i/=r,n.moveActivePlayerInDirection(t,-i)}},g3g.prototype.onSpacePressed=function(){this.game.paused||this.game.teamManagerA.actionBegin()},g3g.prototype.onSpaceReleased=function(){this.game.paused||this.game.teamManagerA.actionEnd()},g3g.prototype.resize=function(e,t){},i.exports=g3g}.call(t,a,t,e))||(e.exports=i)},function(e,t,i){"use strict";var n;void 0===(n=function(e,t,i){function y3g(){this._states={up:0,down:1},this._keyCodes={37:{label:"left",state:0,preventBubble:!0},38:{label:"up",state:0,preventBubble:!0},39:{label:"right",state:0,preventBubble:!0},40:{label:"down",state:0,preventBubble:!0},49:{label:"1",state:0,preventBubble:!0},50:{label:"2",state:0,preventBubble:!0},51:{label:"3",state:0,preventBubble:!0},52:{label:"4",state:0,preventBubble:!0},53:{label:"5",state:0,preventBubble:!0},54:{label:"6",state:0,preventBubble:!0},55:{label:"7",state:0,preventBubble:!0},56:{label:"8",state:0,preventBubble:!0},57:{label:"9",state:0,preventBubble:!0},97:{label:"numpad1",state:0,preventBubble:!0},98:{label:"numpad2",state:0,preventBubble:!0},99:{label:"numpad3",state:0,preventBubble:!0},100:{label:"numpad4",state:0,preventBubble:!0},101:{label:"numpad5",state:0,preventBubble:!0},102:{label:"numpad6",state:0,preventBubble:!0},103:{label:"numpad7",state:0,preventBubble:!0},104:{label:"numpad8",state:0,preventBubble:!0},105:{label:"numpad9",state:0,preventBubble:!0},13:{label:"enter",state:0,preventBubble:!0},32:{label:"space",state:0,preventBubble:!0},65:{label:"a",state:0,preventBubble:!0},68:{label:"d",state:0,preventBubble:!0},83:{label:"s",state:0,preventBubble:!0},87:{label:"w",state:0,preventBubble:!0},89:{label:"y",state:0,preventBubble:!0},90:{label:"z",state:0,preventBubble:!0},88:{label:"x",state:0,preventBubble:!0}},this.hash={},this.hashUp={},this.disabled=!1,this.start(),this.dirty=!1}y3g.prototype.start=function(){var t=this;this._onKeyDown=function(e){return t.processKeyDown(e)},this._onKeyUp=function(e){return t.processKeyUp(e)},window.addEventListener("keydown",this._onKeyDown,!1),window.addEventListener("keyup",this._onKeyUp,!1)},y3g.prototype.stop=function(){window.removeEventListener("keydown",this._onKeyDown),window.removeEventListener("keyup",this._onKeyUp)},y3g.prototype.processKeyDown=function(e){if(!0!==this.disabled){var t=e.keyCode;if(this.keyCode=t,this._keyCodes.hasOwnProperty(t)){var i=this._keyCodes[t];i.preventBubble&&e.preventDefault(),i.state!=this._states.down&&(i.state=this._states.down,this.dirty=!0,this.hash[i.label]&&this.hash[i.label](i))}}},y3g.prototype.processKeyUp=function(e){if(!0!==this.disabled){var t=e.keyCode;if(this.keyCode=null,this._keyCodes.hasOwnProperty(t)){var i=this._keyCodes[t];i.preventBubble&&e.preventDefault(),i.state!=this._states.up&&(i.state=this._states.up,this.dirty=!0,this.hashUp[i.label]&&this.hashUp[i.label](i))}}},y3g.prototype.isPressed=function(e){var t=this.getCodeFromLabel(e);return!!t&&this._keyCodes[t].state===this._states.down},y3g.prototype.getCodeFromLabel=function(e){for(var t in this._keyCodes)if(this._keyCodes[t].label===e)return t;return!1},y3g.prototype.onKeyPress=function(e,t){this.hash[e]=t},y3g.prototype.onKeyRelease=function(e,t){this.hashUp[e]=t},i.exports=y3g}.call(t,i,t,e))||(e.exports=n)},function(e,t,n){"use strict";var i;void 0===(i=function(e,t,i){function Z3g(e,t,i){r.Container.call(this),this.w=e,this.h=t,this.ratio=i||.1;var n=(new r.Graphics).beginFill(0).drawRect(0,0,32,32).generateTexture();this.topBar=new r.Sprite(n),this.bottomBar=new r.Sprite(n),this.addChild(this.topBar),this.addChild(this.bottomBar),this.resize(e,t),this.shown=!1,this.topBar.anchor.y=1,this.bottomBar.anchor.y=-1}var r=n(0);n(3);(Z3g.prototype=Object.create(r.Container.prototype)).show=function(e){e?(this.topBar.anchor.y=0,this.bottomBar.anchor.y=0):(TweenLite.to(this.topBar.anchor,2,{y:0,ease:Ease.easeIn}),TweenLite.to(this.bottomBar.anchor,2,{y:0,ease:Ease.easeIn}))},Z3g.prototype.hide=function(e){e?(this.topBar.anchor.y=1,this.bottomBar.anchor.y=-1):(TweenLite.to(this.topBar.anchor,2,{y:1,ease:Ease.easeOut}),TweenLite.to(this.bottomBar.anchor,2,{y:-1,ease:Ease.easeOut}))},Z3g.prototype.resize=function(e,t){this.w=e,this.h=t,this.topBar.scale.x=e/32,this.bottomBar.scale.x=e/32;var i=t*this.ratio;this.topBar.scale.y=i/32,this.bottomBar.scale.y=i/32,this.bottomBar.position.y=t-i},i.exports=Z3g}.call(t,n,t,e))||(e.exports=i)},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var p=i(0),f=i(12),a=_interopRequireDefault(i(5)),n=_interopRequireDefault(i(28)),r=i(74),m=_interopRequireDefault(i(21)),o=_interopRequireDefault(i(4));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var s=function(c){var e,t;function Pitch(e){var t,i=e.stadiumsSystem.activeStadium.id,n=p.Sprite.from(RESOLVE_PATH(ASSET_URL+"img/content/stadiums/core-assets/"+i+"-stadium/pitch-full.jpg"));_defineProperty(_assertThisInitialized(t=c.call(this,0,0,n)||this),"loader",void 0),_defineProperty(_assertThisInitialized(t),"logoMesh",void 0),_defineProperty(_assertThisInitialized(t),"boardMesh",void 0),_defineProperty(_assertThisInitialized(t),"crowdMesh",void 0),_defineProperty(_assertThisInitialized(t),"frontCrowdMesh",void 0),_defineProperty(_assertThisInitialized(t),"runoffMeshLeft",void 0),_defineProperty(_assertThisInitialized(t),"runoffMeshRight",void 0),_defineProperty(_assertThisInitialized(t),"banner1",void 0),_defineProperty(_assertThisInitialized(t),"banner2",void 0),_defineProperty(_assertThisInitialized(t),"banner3",void 0),_defineProperty(_assertThisInitialized(t),"crowdAnimTextures",void 0),_defineProperty(_assertThisInitialized(t),"app",void 0),_defineProperty(_assertThisInitialized(t),"activeStadiumId",void 0),_defineProperty(_assertThisInitialized(t),"groups",void 0),_defineProperty(_assertThisInitialized(t),"tick",void 0),t.app=e,t.activeStadiumId=i;var r=new f.PlaneGeometry(1800,1100);t.loader=new f.TextureLoader;var a=t.loader.load(RESOLVE_PATH(ASSET_URL+"img/content/stadiums/core-assets/"+i+"-stadium/pitch-full.jpg")),o=new f.MeshBasicMaterial({map:a});o.side=f.DoubleSide,o.polygonOffset=!0,o.polygonOffsetFactor=40,t.view3d=new f.Mesh(r,o),t.view3d.position.x=800,t.view3d.position.y=450;for(var s,l=new p.Container,u=0;u<8;u++)(s=p.Sprite.from(RESOLVE_PATH(ASSET_URL+"img/content/banners/banners-default/pitch-banner.jpg"))).width=320,s.height=50,s.x=305*u,l.addChild(s);a=m.default.getPixiTexture(l),(o=new f.MeshBasicMaterial({map:a})).side=f.DoubleSide,o.transparent=!0;var h=new f.PlaneGeometry(l.width,s.height);t.boardMesh=new f.Mesh(h,o),t.view3d.add(t.boardMesh),t.boardMesh.rotation.x=Math.PI/2-.8,t.boardMesh.position.z=25,t.boardMesh.position.y=500,t.addCrowd(),t.addRunoff(),t.frontCrowd(),t.groups=["Pitch"],(a=t.loader.load(RESOLVE_PATH(ASSET_URL+"img/content/banners/banners-default/pitch-circle-banner.png"))).needsUpdate=!0,(o=new f.MeshBasicMaterial({map:a})).side=f.DoubleSide,o.transparent=!0,o.opacity=.75;var d=new f.PlaneGeometry(336,336);return t.logoMesh=new f.Mesh(d,o),t.logoMesh=t.logoMesh,t.logoMesh.position.z=-5,t.view3d.add(t.logoMesh),t.tick=0,t}t=c,(e=Pitch).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=Pitch.prototype;return i.refreshStadium=function(){this.activeStadiumId=this.app.stadiumsSystem.activeStadium.id;var e=this.loader.load(RESOLVE_PATH(ASSET_URL+"img/content/stadiums/core-assets/"+this.activeStadiumId+"-stadium/pitch-full.jpg"));this.view3d.material.map=e,(e=this.loader.load(RESOLVE_PATH(ASSET_URL+"img/content/stadiums/core-assets/"+this.activeStadiumId+"-stadium/run-off.jpg"))).repeat.set(1,3),e.wrapS=e.wrapT=f.RepeatWrapping,this.runoffMeshLeft.material.map=e,this.runoffMeshRight.material.map=e,this.setCrowdAnimTextures(),e=this.crowdAnimTextures[0],this.crowdMesh.material.map=e,(e=this.loader.load(RESOLVE_PATH(ASSET_URL+"img/content/stadiums/core-assets/"+this.activeStadiumId+"-stadium/front-crowd.png"))).repeat.set(4,1),e.wrapS=e.wrapT=f.RepeatWrapping,this.frontCrowdMesh.material.map=e,this.tick=0},i.loadBanners=function(){if(a.default.banner1&&!this.banner1){this.banner1=a.default.banner1;var e=new f.Texture;e.image=this.banner1.texture.baseTexture.source,this.logoMesh.material.map=e,this.logoMesh.material.map.needsUpdate=!0,this.logoMesh.material.needsUpdate=!0}if(a.default.banner2&&!this.banner2){this.banner2=a.default.banner2,a.default.banner3&&(this.banner3=a.default.banner3);for(var t,i=new p.Container,n=0;n<8;n++)(t=this.banner3&&n%2==0?new p.Sprite(this.banner3.texture):new p.Sprite(this.banner2.texture)).x=305*n,i.addChild(t);var r=m.default.getPixiTexture(i);this.boardMesh.material.map=r,this.boardMesh.material.map.needsUpdate=!0,this.boardMesh.material.needsUpdate=!0}},i.showLogo=function(){this.logoMesh.visible=!0,this.logoMesh.material.opacity=.4},i.hideLogo=function(){TweenLite.to(this.logoMesh.material,.3,{opacity:0,onComplete:function(){this.logoMesh.visible=!1}.bind(this),delay:0})},i.addCrowd=function(){this.setCrowdAnimTextures();var e=this.crowdAnimTextures[0],t=new f.MeshBasicMaterial({map:e});t.side=f.DoubleSide;var i=new f.PlaneGeometry(2400,-500);this.crowdMesh=new f.Mesh(i,t),this.view3d.add(this.crowdMesh),this.crowdMesh.rotation.x=-Math.PI/2-1.2,this.crowdMesh.position.z=75,this.crowdMesh.position.y=800,this.crowdMesh.scale.z=-1},i.setCrowdAnimTextures=function(){this.crowdAnimTextures=[];for(var e=this.app.stadiumsSystem.activeStadium.id,t=r.StadiumData[e].bleacherFrames,i=0;i<t;i++){var n=this.loader.load(RESOLVE_PATH(ASSET_URL+"img/content/stadiums/core-assets/"+this.activeStadiumId+"-stadium/bleacher/crowd_"+(i+1<10?"0":"")+(i+1)+".png"));n.repeat.set(3,.8),n.wrapS=n.wrapT=f.RepeatWrapping,this.crowdAnimTextures.push(n)}},i.addRunoff=function(){var e=this.loader.load(RESOLVE_PATH(ASSET_URL+"img/content/stadiums/core-assets/"+this.activeStadiumId+"-stadium/run-off.jpg"));e.repeat.set(1,3),e.wrapS=e.wrapT=f.RepeatWrapping;var t=new f.MeshBasicMaterial({map:e});t.side=f.DoubleSide,t.polygonOffset=!0,t.polygonOffsetFactor=40;var i=new f.PlaneGeometry(400,1400);this.runoffMeshLeft=new f.Mesh(i,t),this.runoffMeshRight=new f.Mesh(i,t),this.view3d.add(this.runoffMeshLeft),this.runoffMeshLeft.position.x=-1100,this.runoffMeshLeft.position.y=250,this.view3d.add(this.runoffMeshRight),this.runoffMeshRight.scale.x=-1,this.runoffMeshRight.position.x=1100,this.runoffMeshRight.position.y=250},i.frontCrowd=function(){var e=this.loader.load(RESOLVE_PATH(ASSET_URL+"img/content/stadiums/core-assets/"+this.activeStadiumId+"-stadium/front-crowd.png"));e.repeat.set(4,1),e.wrapS=e.wrapT=f.RepeatWrapping;var t=new f.MeshBasicMaterial({map:e});t.side=f.DoubleSide,t.transparent=!0;var i=new f.PlaneGeometry(1600,112);this.frontCrowdMesh=new f.Mesh(i,t),this.view3d.add(this.frontCrowdMesh),this.frontCrowdMesh.position.z=106,this.frontCrowdMesh.position.y=-586,this.frontCrowdMesh.rotation.x=1},i.reset=function(){},i.update=function(){this.tick+=.2*o.default.instance.deltaTime,this.crowdMesh.material.map=this.crowdAnimTextures[this.tick%this.crowdAnimTextures.length|0]},Pitch}(n.default);t.default=s},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var a=i(0),o=_interopRequireDefault(i(316)),s=_interopRequireDefault(i(319)),n=_interopRequireDefault(i(30)),l=_interopRequireDefault(i(27)),h=i(17),r=_interopRequireDefault(i(28)),d=_interopRequireDefault(i(14)),u=_interopRequireDefault(i(317)),c=_interopRequireDefault(i(626)),p=_interopRequireDefault(i(627)),f=_interopRequireDefault(i(48)),m=_interopRequireDefault(i(630)),_=_interopRequireDefault(i(13)),g=_interopRequireDefault(i(4));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var v=n.default.PLAYER_STATE,y=function(r){var e,t;function Player(e){var t,i=new l.default.CrashBody.fromRect(-10,-10,20,20),n=(new a.Graphics).beginFill(16711680).drawRect(-20,-20,40,40);return e&&(n.tint=65280),_defineProperty(_assertThisInitialized(t=r.call(this,400,50,n,i)||this),"ball",void 0),_defineProperty(_assertThisInitialized(t),"currentTouchingPlayer",void 0),_defineProperty(_assertThisInitialized(t),"ballSkills",void 0),_defineProperty(_assertThisInitialized(t),"chargeBar",void 0),_defineProperty(_assertThisInitialized(t),"movement",void 0),_defineProperty(_assertThisInitialized(t),"shootTarget",void 0),_defineProperty(_assertThisInitialized(t),"powerup",void 0),_defineProperty(_assertThisInitialized(t),"balanceData",void 0),_defineProperty(_assertThisInitialized(t),"data",void 0),_defineProperty(_assertThisInitialized(t),"view3d",void 0),_defineProperty(_assertThisInitialized(t),"startPosition",void 0),_defineProperty(_assertThisInitialized(t),"randomDir",void 0),_defineProperty(_assertThisInitialized(t),"shootDirection",void 0),_defineProperty(_assertThisInitialized(t),"speedBoost",void 0),_defineProperty(_assertThisInitialized(t),"shotPower",void 0),_defineProperty(_assertThisInitialized(t),"tacklePower",void 0),_defineProperty(_assertThisInitialized(t),"_tick",void 0),_defineProperty(_assertThisInitialized(t),"type",void 0),_defineProperty(_assertThisInitialized(t),"state",void 0),_defineProperty(_assertThisInitialized(t),"tackleWait",void 0),_defineProperty(_assertThisInitialized(t),"fallWait",void 0),_defineProperty(_assertThisInitialized(t),"chaseWait",void 0),_defineProperty(_assertThisInitialized(t),"passWait",void 0),_defineProperty(_assertThisInitialized(t),"shotWait",void 0),_defineProperty(_assertThisInitialized(t),"turnCount",void 0),_defineProperty(_assertThisInitialized(t),"canTackleCount",void 0),_defineProperty(_assertThisInitialized(t),"shootAngle",void 0),_defineProperty(_assertThisInitialized(t),"shootOffsetAngle",void 0),_defineProperty(_assertThisInitialized(t),"tackleSize",void 0),_defineProperty(_assertThisInitialized(t),"normalSize",void 0),_defineProperty(_assertThisInitialized(t),"bananaSize",void 0),_defineProperty(_assertThisInitialized(t),"actualSpeed",void 0),_defineProperty(_assertThisInitialized(t),"randomDirCount",void 0),_defineProperty(_assertThisInitialized(t),"count",void 0),_defineProperty(_assertThisInitialized(t),"isTeamA",void 0),_defineProperty(_assertThisInitialized(t),"touchingBall",void 0),_defineProperty(_assertThisInitialized(t),"didModifyShootAngle",void 0),_defineProperty(_assertThisInitialized(t),"canBeTackled",void 0),_defineProperty(_assertThisInitialized(t),"overwriteStopWalk",void 0),_defineProperty(_assertThisInitialized(t),"movingTo",void 0),_defineProperty(_assertThisInitialized(t),"shootReleaseTriggered",void 0),_defineProperty(_assertThisInitialized(t),"forceSuperShot",void 0),_defineProperty(_assertThisInitialized(t),"speedBoosted",void 0),_defineProperty(_assertThisInitialized(t),"helpTackle",void 0),_defineProperty(_assertThisInitialized(t),"DEBUG",void 0),_defineProperty(_assertThisInitialized(t),"auto",void 0),_defineProperty(_assertThisInitialized(t),"name",void 0),_defineProperty(_assertThisInitialized(t),"reticle",void 0),_defineProperty(_assertThisInitialized(t),"shootArrow",void 0),_defineProperty(_assertThisInitialized(t),"offScreenIcon",void 0),(t.isTeamA=e)||(window.player=_assertThisInitialized(t)),t.view3d=new p.default(_assertThisInitialized(t)),t.speedBoost=1,t.shotPower=1,t.tacklePower=1,t._tick=1e3*Math.random(),t.type=1,t.currentTouchingPlayer=null,t.touchingBall=!1,t.ball=window.ball,t.body.position=t.position,t.name="player",t.groups=["Player"],t.state=v.IDLE,t.startPosition=new l.default.Vector,t.ballSkills=new o.default(_assertThisInitialized(t)),t.movement=new u.default(_assertThisInitialized(t)),t.chargeBar=new s.default,t.offScreenIcon=new c.default,t.DEBUG=!1,t.auto=!0,t.shootTarget=null,t.tackleWait=0,t.fallWait=0,t.chaseWait=0,t.passWait=0,t.shotWait=0,t.turnCount=0,t.canTackleCount=0,t.reticle=new m.default(_assertThisInitialized(t)),t.view.addChild(t.reticle),t.reticle.visible=!1,t.shootArrow=(new a.Graphics).beginFill(16776960).drawRect(0,-5,100,10).drawCircle(0,0,20),t.view.addChild(t.shootArrow),t.randomDir=new a.Point(0,0),t.shootDirection=new a.Point(1,0),t.shootAngle=0,t.shootOffsetAngle=0,t.didModifyShootAngle=!1,t.powerup=null,t.speedBoosted=!1,t.canBeTackled=!0,t.overwriteStopWalk=!1,t.balanceData=null,t.helpTackle=!0,t.tackleSize=30,t.normalSize=20,t.bananaSize=70,t.actualSpeed=3,t}t=r,(e=Player).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=Player.prototype;return i.fallOver=function(e){void 0===e&&(e=!1),_.default.sfx.stop("power_up_charge"),_.default.sfx.play("tackle_hit_deck"),this.body.acceleration.x=0,this.body.acceleration.y=0,this.fallWait=0,this.setState(v.FALL),this.ballSkills.ball&&!e&&this.ballSkills.releaseBall()},i.freeze=function(){this.body.acceleration.x=0,this.body.acceleration.y=0,this.setState(v.FREEZE),this.view3d.reticle.visible=!1},i.hidePlayerView=function(){this.view3d.hide()},i.showPlayerView=function(){this.view3d.show()},i.reset=function(e){void 0===e&&(e=!1),this.view3d.reticle.visible=!0,this.setState(v.STOP),e||this.endPowerup(),this.movement.stop(),this.ballSkills.ball&&this.ballSkills.releaseBall()},i.setData=function(e){this.data=e,this.view3d.setData(e),.7<=this.data.power||window.TUTORIAL?this.chargeBar.setSize(2):.4<=this.data.power?this.chargeBar.setSize(1):this.chargeBar.setSize(0),this.offScreenIcon.setData(e)},i.setTeam=function(e){for(var t=[],i=0;i<e.children.length;i++){var n=e.children[i];n!==this&&t.push(n)}this.reticle.setArrows(t),this.view3d.reticle.setArrows(t)},i.setState=function(e){if(this.state!==e&&(this.state!==v.HIDE||e===v.SHOW)){if(this.state===v.KICK_CHARGE&&(this.world.view3d.camera.focusMode=!1),this.canCollide=e!==v.FALL,e===v.FREEZE&&(this.canCollide=!1),!this.powerup||!this.powerup.bananas){var t=this.normalSize;e!==v.TACKLE||this.auto||(t=this.tackleSize),this.body.shape.x=-t/2,this.body.shape.y=-t/2,this.body.shape.width=t,this.body.shape.height=t}e===v.KICK_CHARGE?this.world.view3d.camera.focusMode=!0:e===v.TACKLE?(this.tackleWait=0,this.body.friction=.9,this.actualSpeed=20):this.body.friction=.94,this.state=e,this.overwriteStopWalk=!1,this.state===v.HIDE&&(this.hidePlayerView(),this.movement.stop(),this.overwriteStopWalk=!0,this.offScreenIcon.hide()),this.state===v.SHOW&&(this.view3d.show(),this.overwriteStopWalk=!1,this.movement.update(),this.offScreenIcon.show()),this.state!==v.WIN&&this.state!==v.LOSE||(this.movement.stop(),this.view3d.reticle.visible=!1),this.state===v.FIRE&&(this.randomDirCount=1e4),this.state!==v.LOSE&&this.state!==v.WIN&&this.state!==v.TACKLE&&this.state!==v.FALL&&this.state!==v.KICK_CHARGE&&this.state!==v.FREEZE&&this.state!==v.FIRE||(this.overwriteStopWalk=!0)}},i.moveToRandomDir=function(){this.randomDirCount++,50<this.randomDirCount&&(this.randomDir.x=2*Math.random()-1,this.randomDir.y=2*Math.random()-1,this.randomDirCount=0),this.movement.moveInDirection(this.randomDir.x,this.randomDir.y)},i.setPowerUp=function(e){var t;if(this.setState(v.STOP),e.isCoin)return f.default.get(e).reset(this),void(this.isTeamA||CES.dispatch(h.EventKeys.GAME_ITEM_PICKED_UP,{coinBag:!0}));"Freeze"===e.name&&"Snowball"===(null===(t=this.powerup)||void 0===t?void 0:t.id)&&this.powerup.stopSnowman(),this.endPowerup(),this.powerup=f.default.get(e),this.powerup.reset(this),this.isTeamA||CES.dispatch(h.EventKeys.GAME_ITEM_PICKED_UP,{powerup:this.powerup.id})},i.endPowerup=function(){this.powerup&&(this.powerup.stop(),f.default.return(this.powerup),this.powerup=null)},i.update=function(){this.count+=.3;var e=.25<this.data.speed?1.1:.9;if(this.speedBoosted?this.actualSpeed=4*this.balanceData.speedMod*e:this.actualSpeed=3*this.balanceData.speedMod*e,this.view3d.position.x=this.position.x,this.view3d.position.y=this.position.y,this.view3d.update(),this.powerup&&(this.powerup.update(),this.powerup.dead&&this.endPowerup()),this.canTackleCount++,this.view3d.reticle.chargeArrow.visible=!1,this.ballSkills.update(),this.view3d.reticle.update(),this.state===v.KICK_CHARGE?this.chargeBar.show():this.chargeBar.hide(),this.state===v.RUN)this.movement.update();else if(this.state===v.TACKLE){this.actualSpeed=20,this.body.velocity.length()<2&&(this.tackleWait++,20<this.tackleWait&&(this.setState(v.IDLE),this.stop()))}else if(this.state===v.FALL)this.view.scale.set(.5),this.fallWait++,this.body.velocity.x*=.8,this.body.velocity.y*=.8,140<this.fallWait&&(this.view.scale.set(1),this.setState(v.IDLE),this.stop());else if(this.state===v.FREEZE)this.view.scale.set(.5),this.body.velocity.x*=.8,this.body.velocity.y*=.8;else if(this.state===v.FIRE)this.moveToRandomDir();else if(this.state===v.KICK_CHARGE){if(!this.ballSkills.ball)return void this.setState(v.IDLE);this.chargeBar.show(),this.view3d.reticle.chargeArrow.visible=!0;var t=Math.atan2(this.shootDirection.y,this.shootDirection.x);t+=this.shootOffsetAngle,this.didModifyShootAngle=!1,this.shootAngle=t+Math.PI/2;var i,n=this.data.power<.25?1.1:.9;if(this.speedBoosted&&(n*=1.5),window.URLParams.debugChargeBar){this.world.view3d.camera.focusMode=!1,this.shotWait+=.7/10*n,i=this.shotWait/75,i*=i;var r=this.chargeBar.min,a=this.chargeBar.max;this.chargeBar.bar2.tint=r<i&&i<a?16711680:i<r?65280:255}else this.shotWait+=.7*n,i=this.shotWait/75,i*=i;this.body.velocity.x*=.8,this.body.velocity.y*=.8,this.chargeBar.setRatio(i),this.ballSkills.ball.chargeEffect.setRatio(i),75<this.shotWait&&this.shootRelease(this.shootTarget)}this.movingTo&&(this.actualSpeed*=1.1),this.body.setMaxSpeed(this.actualSpeed);var o=this.world.view3d.toScreenPosition(this);this.chargeBar.position.x=o.x,this.chargeBar.position.y=o.y+40,this.isTeamA||this.offScreenIcon.update(o);var s=this.world.game.ball;this.touchingBall&&!this.ballSkills.ball&&s.body.velocity.z<15&&s.body.position.z<10&&(this.touchingBall=!1,this.ballSkills.pickupBall(s))},i.addedToWorld=function(){this.world.overlay.addChild(this.chargeBar),this.isTeamA||this.world.overlay.addChild(this.offScreenIcon)},i.removedFromWorld=function(){this.world.overlay.removeChild(this.chargeBar),this.isTeamA||this.world.overlay.removeChild(this.offScreenIcon)},i.chaseDown=function(e){if(this.auto&&this.state!==v.TACKLE&&this.state!==v.FALL&&this.state!==v.FREEZE&&this.state!==v.FIRE){this.movingTo=!1,this.alpha=Math.random(),this.movement.follow(e);var t=e.position.x-this.position.x,i=e.position.y-this.position.y,n=Math.sqrt(t*t+i*i);if(t/=n,i/=n,e.owner&&e.owner!==this&&n<100&&(this.chaseWait+=g.default.game.speed,this.chaseWait>70+this.balanceData.aggressiveness||0<e.owner.canTackleCount&&e.owner.body.velocity.length()<2)){var r=Math.atan2(i,t);this.balanceData.tackleChance<Math.random()&&(r=Math.atan2(this.body.velocity.y,this.body.velocity.x)),this.slideTackle(Math.cos(r),Math.sin(r)),this.chaseWait=-80}}},i.chargeGoal=function(){this.auto&&this.moveInDirection(-1,0)},i.shootBegin=function(e){if(this.ballSkills.ball&&this.ballSkills.ball.active){_.default.sfx.playGroup("croudHappy"),this.world.game.active=!1,this.shotWait=0,this.world.game.speed=.1;var t=this.world.game.vignette;t.width=this.world.game.w+500,t.scale.y=t.scale.x,this.shootTarget=e,this.movement.target=null,this.body.acceleration.x=1e-4,this.body.acceleration.y=0;var i=e.position.x-this.position.x,n=e.position.y-this.position.y,r=Math.sqrt(i*i+n*n);i/=r,n/=r,this.shootDirection.x=i,this.shootDirection.y=n,this.shootDirection.visible=!0,this.setState(v.KICK_CHARGE),this.shootReleaseTriggered=!1}},i.shootRelease=function(e){if(this.state!==v.TACKLE&&!this.shootReleaseTriggered){this.world.game.speed=1,this.passWait=0;var t=15;if(this.ballSkills.ball&&this.ballSkills.ball.active){var i;if(this.setState(v.KICK),e)if(this.auto){var n=0;n=this.position.x<e.position.x?0:Math.PI,n+=d.default.random(-.3,.3),(i=Math.random()<this.balanceData.goalScorePercentage)&&_.default.sfx.play("big_kick"),this.ballSkills.ball.shoot(Math.cos(n)*t,Math.sin(n)*t,i)}else{this.shootReleaseTriggered=!0,this.world.game.stats.shootTotal++,_.default.sfx.stop("power_up_charge"),this.signals.onBallShot.dispatch();var r=Math.atan2(this.shootDirection.y,this.shootDirection.x);r+=this.shootOffsetAngle,this.ballSkills.ball.remoteBall||(this.shootDirection.x=Math.cos(r),this.shootDirection.y=Math.sin(r));var a=this.shotWait/75;a*=a;var o=this.chargeBar.min,s=this.chargeBar.max;if(i=!1,o<a&&a<s){var l=this.position.x-this.shootTarget.position.x,u=this.position.y-this.shootTarget.position.y;Math.sqrt(l*l+u*u);this.ballSkills.ball.remoteBall||(i=!0),this.world.game.scripts.shoot.run(this,1),CES.dispatch(h.EventKeys.GAME_SHOT_PERFECTED)}else if(a<o){this.world.game.scripts.shoot.run(this,0),.2<=Math.random()&&(t/=2),CES.dispatch(h.EventKeys.GAME_SHOT_MISSED)}else this.world.game.scripts.shoot.run(this,2),t/=2,this.fallOver(!0),CES.dispatch(h.EventKeys.GAME_SHOT_MISSED);this.ballSkills.ball.remoteBall&&(this.ballSkills.ball.body.friction=1),(!this.forceSuperShot||this.forceSuperShot&&i)&&this.ballSkills.ball.shoot(this.shootDirection.x*t,this.shootDirection.y*t,i)}!this.forceSuperShot||this.forceSuperShot&&i?this.ballSkills.releaseBall():this.forceSuperShot&&!i&&this.ballSkills.ball.chargeEffect.setRatio(0)}}},i.slideTackle=function(e,t){if(!this.overwriteStopWalk){if(_.default.sfx.playGroup("slide"),this.setState(v.TACKLE),this.chaseWait=-80,this.auto)this.world.game.stats.opponentTackle++;else{if(e=this.body.velocity.x,t=this.body.velocity.y,this.world.game.teamManagerB.activePlayer&&this.world.game.teamManagerB.activePlayer.ballSkills.ball){var i=this.world.game.teamManagerB.activePlayer,n=e-(i.position.x-this.position.x),r=t-(i.position.y-this.position.y),a=this.data.skill;window.TUTORIAL&&(a=1),e-=n*a,t-=r*a}var o=Math.sqrt(e*e+t*t);e/=o,t/=o,this.world.game.stats.tackleTotal++}this.movement.direction.x=e,this.movement.direction.y=t;var s=15;!this.auto&&.5<=this.data.skill&&(s+=5*this.data.skill),this.body.velocity.x=e*s,this.body.velocity.y=t*s,this.body.acceleration.x=0,this.body.acceleration.y=0,this.currentTouchingPlayer&&this.runTackle(this.currentTouchingPlayer)}},i.moveTo=function(e,t){this.overwriteStopWalk||this.auto&&(this.setState(v.RUN),this.movement.moveTo(e,t))},i.moveInDirection=function(e,t){this.state===v.KICK_CHARGE&&(this.didModifyShootAngle=!0,this.shootOffsetAngle+=.02*(.4*t-this.shootOffsetAngle)),this.overwriteStopWalk||this.movement.moveInDirection(e,t)},i.show=function(){this.setState(v.SHOW)},i.hide=function(){this.setState(v.HIDE)},i.win=function(){this.setState(v.WIN)},i.lose=function(){this.setState(v.LOSE)},i.stop=function(){this.overwriteStopWalk||(this.setState(v.STOP),this.movement.stop())},i.setBananaHitbox=function(){var e=this.bananaSize;this.body.shape.x=-e/2,this.body.shape.y=-e/2,this.body.shape.width=e,this.body.shape.height=e},i.onCollideBegin=function(e){var t=e.getOtherObject(this);if(this.state!==v.FIRE)if("ball"===t.name)e.ignore=!0,t.body.velocity.z<15&&t.body.position.z<20?(this.canTackleCount=-50,this.passWait=-150*Math.random(),this.onBallCollide(t)):this.touchingBall=!0;else if("player"===t.name&&(e.ignore=!0,t.isTeamA!==this.isTeamA))if((this.currentTouchingPlayer=t).isShrink){t.freeze(),_.default.sfx.play("squash"),t.view3d.scale.x=.216,t.view3d.scale.y=.048,t.view3d.scale.z=.048;for(var i=0;i<t.stars.length;i++)t.stars[i].visible=!0;t.ballSkills.ball&&t.ballSkills.releaseBall()}else if(this.powerup&&this.powerup.bananas){if(this.powerup.bananaCount<=0)return;this.powerup.splatPlayer(t),t.fallOver(),this.world.view3d.camera.shake(),this.isTeamA||CES.dispatch(h.EventKeys.GAME_ACTION_TRIGGERED_ON_OPPONENT,{powerupAction:!0,powerup:"Banana"})}else this.state===v.TACKLE&&(t.ballSkills.ball&&t.ballSkills.ball.onFire?(ball.fireBall.setPlayerOnFire(this),this.setState(v.FIRE)):ball.onSnow&&ball.isTeamA!==this.isTeamA?(ball.snowBall.snowmanPlayer(this),this.setState(v.FREEZE)):this.runTackle(t))},i.runTackle=function(e){4<this.body.velocity.length()&&(this.tackleWait=1e3,e.canBeTackled?(e.ballSkills.ball&&(e.ballSkills.releaseBall(),this.ballSkills.pickupBall(this.world.game.ball),this.auto||window.TUTORIAL||CES.dispatch(h.EventKeys.GAME_BALL_SNATCHED)),e.fallOver(),window.TUTORIAL||(this.auto?this.world.game.stats.opponentTackleSuccess++:(this.world.game.stats.tackleSuccess++,CES.dispatch(h.EventKeys.GAME_ACTION_TRIGGERED_ON_OPPONENT,{tackle:!0})))):this.fallOver(),this.world.view3d.camera.shake())},i.onCollideEnd=function(e){var t=e.getOtherObject(this);"ball"===t.name?this.touchingBall=!1:"player"===t.name&&t.isTeamA!==this.isTeamA&&(this.world.game.speed=1,this.currentTouchingPlayer=null)},i.onBallCollide=function(e){if(this.state!==v.FALL&&this.state!==v.FREEZE&&this.state!==v.FIRE)return e.onFire&&e.isTeamA!==this.isTeamA?(e.fireBall.setPlayerOnFire(this),void this.setState(v.FIRE)):e.onSnow&&e.isTeamA!==this.isTeamA?(e.snowBall.snowmanPlayer(this),this.setState(v.FREEZE),void(this.isTeamA&&CES.dispatch(h.EventKeys.GAME_ACTION_TRIGGERED_ON_OPPONENT,{powerupAction:!0,powerup:"Snowball"}))):void(e.owner||(e.onFire&&e.fireBall.addFireTrail(this),this.ballSkills.pickupBall(e)))},Player}(r.default);t.default=y},function(e,t,r){"use strict";var i;void 0===(i=function(e,t,i){function f7g(){n.Container.call(this),this.circle=(new n.Graphics).beginFill(16711680).drawCircle(0,0,30),this.icon=new n.Sprite,this.icon.anchor.set(.5),this.icon.mask=this.circle,this.ring=new n.Sprite.from("offscreen_marker_ring_blue.png"),this.ring.anchor.set(.5),this.ring.position.y=2,this.addChild(this.circle),this.addChild(this.icon),this.addChild(this.ring)}var n=r(0),o=r(14);(f7g.prototype=Object.create(n.Container.prototype)).setData=function(e){this.cacheAsBitmap=!1,this.icon.texture=n.Texture.from(e.icon),this.cacheAsBitmap=!0},f7g.prototype.hide=function(e){this.hidden=!0,this.alpha=0},f7g.prototype.show=function(e){this.hidden=!1},f7g.prototype.update=function(e){if(!this.hidden){var t=e.x,i=e.y-50,n=!0,r=window.app.game.w,a=window.app.game.h;t<30||r-30<t?(t=o.cap(t,30,r-30),n=!1):(i<30||a-30<i)&&(i=o.cap(i,30,a-30),n=!1),n?(this.alpha-=.1,this.alpha<0&&(this.alpha=0)):(this.alpha+=.1,1<this.alpha&&(this.alpha=1)),this.position.x=t,this.position.y=i}},i.exports=f7g}.call(t,r,t,e))||(e.exports=i)},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;_interopRequireDefault(i(0));var r=_interopRequireDefault(i(12)),a=_interopRequireDefault(i(21)),o=_interopRequireDefault(i(29)),s=(_interopRequireDefault(i(28)),_interopRequireDefault(i(27)),_interopRequireDefault(i(4))),l=_interopRequireDefault(i(85)),u=_interopRequireDefault(i(628)),h=_interopRequireDefault(i(629)),n=_interopRequireDefault(i(30)),d=_interopRequireDefault(i(33));_interopRequireDefault(i(5));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var c=n.default.PLAYER_STATE,p=(new r.default.PlaneGeometry(200,200),function(i){var e,t;function PlayerView3d(e){var t;return(t=i.call(this)||this).player=e,t.scale.x=t.scale.y=t.scale.z=.24,t.flipContainer=new r.default.Object3D,t.flipContainer.rotation.x=.6-Math.PI,t.add(t.flipContainer),t.playerMesh=new a.default.getMesh,t.flipContainer.add(t.playerMesh),t.animation=new l.default,t.animation.register("run",{frames:[],loop:!0}),t.animation.register("dash",{frames:[],loop:!0}),t.animation.register("stand",{frames:[],speed:.1,loop:!0}),t.animation.register("tackle",{frames:[],loop:!1}),t.animation.register("fall",{frames:[],loop:!1}),t.animation.register("kickCharge",{frames:[],loop:!1}),t.animation.register("kickRelease",{frames:[],loop:!1}),t.animation.register("win",{frames:[],loop:!0}),t.animation.register("lose",{frames:[],loop:!1}),t.reticle=new u.default(e),t.reticle.position.z+=10,t.add(t.reticle),t.chargeArrow=new h.default(e),t}t=i,(e=PlayerView3d).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=PlayerView3d.prototype;return n.setData=function(e){this.reticle.setData(e),this.scale.x=this.scale.y=this.scale.z=.24*e.scale;var t=this.player.isTeamA?"red":"blue",i=e.spriteSheet,n=d.default.getJson("character-animation")[i+"-"+t],r=this.animation.animations;n||alert("No animation found for "+i),r.run.frames=o.default.getTexturesFromFrames(n.run),r.dash.frames=o.default.getTexturesFromFrames(n.dash),r.stand.frames=o.default.getTexturesFromFrames(n.stand),r.tackle.frames=o.default.getTexturesFromFrames(n.tackle),r.fall.frames=o.default.getTexturesFromFrames(n.fall),r.kickCharge.frames=o.default.getTexturesFromFrames(n.kickCharge),r.win.frames=o.default.getTexturesFromFrames(n.win),r.lose.frames=o.default.getTexturesFromFrames(n.lose)},n.hide=function(){this.playerMesh.material.opacity=0},n.show=function(){this.playerMesh.material.opacity=1},n.update=function(){if(this.chargeArrow.update(),this.player.state===c.KICK_CHARGE)this.animation.play("kickCharge");else{if(this.player.state===c.FREEZE)return;this.player.state===c.FALL?this.animation.play("fall"):this.player.state===c.TACKLE?this.animation.play("tackle"):this.player.state===c.WIN?this.animation.play("win"):this.player.state===c.LOSE?this.animation.play("lose"):1<this.player.body.velocity.length()?this.player.speedBoosted?this.animation.play("dash"):this.animation.play("run"):this.animation.play("stand")}this.animation.update(s.default.game.deltaTime),this.count++,a.default.setUvs(this.playerMesh,this.animation.texture);var e=0<this.player.body.velocity.x?1:-1;this.player.movement.lookingForTarget||this.player.world.game.ball.active||(e=this.player.world.game.ball.position.x<this.player.position.x?-1:1);this.flipContainer.scale.x=e,this.flipContainer.rotation.x=window.test-Math.PI},PlayerView3d}(r.default.Object3D));t.default=p,e.exports=t.default},function(e,t,s){"use strict";var i;void 0===(i=function(e,t,i){s(0);function l8g(e){n.Object3D.call(this),this.owner=e,this.spin=new n.Object3D,this.chargeArrow=r.getMesh("player_marker_shoot.png",.5,1,!0),this.chargeArrow.material.alphaTest=.8,this.chargeArrow.position.y+=30,this.chargeArrow.position.x+=25,this.spin.add(this.chargeArrow),this.add(this.spin),this.flashing=!1,this.flashCounter=0,this.blinkCounter=0,this.blinkTimer=0}var n=s(12),r=s(21),a=(s(28),s(27),s(85),s(14)),o=s(30);s(5);(l8g.prototype=Object.create(n.Object3D.prototype)).setArrows=function(e){this.team=e},l8g.prototype.blink=function(){this.blinkTimer=120},l8g.prototype.setData=function(e){this.owner.isTeamA||(this.reticle=r.getMesh("player_marker_ring_blue.png",.35,.4,!0),this.reticle2=r.getMesh("player_marker_ring_blue_light.png",.35,.4,!0),this.reticleArrow=r.getMesh("player_marker_ring_arrow_yellow.png",.35,.4,!0),this.reticleArrowBall=r.getMesh("player_marker_ring_arrow_blue_light.png",.35,.4,!0),this.spin.children.length=0,this.spin.add(this.reticle),this.spin.add(this.reticle2),this.spin.add(this.reticleArrow),this.spin.add(this.reticleArrowBall),this.reticle.material.alphaTest=.8,window.reticle2=this.reticle2,this.reticle.scale.x*=1.5,this.reticle.scale.y*=1.5,this.reticle.scale.z*=1.5,this.reticle2.scale.x*=1.5,this.reticle2.scale.y*=1.5,this.reticle2.scale.z*=1.5,this.reticle2.visible=!1,this.reticleArrow.scale.x*=1.5,this.reticleArrow.scale.y*=1.5,this.reticleArrow.scale.z*=1.5,this.reticleArrow.visible=!1,this.reticleArrowBall.scale.x*=1.5,this.reticleArrowBall.scale.y*=1.5,this.reticleArrowBall.scale.z*=1.5,this.reticleArrowBall.visible=!1)},l8g.prototype.update=function(){if(this.visible){if(this.reticle&&(!this.owner.ballSkills.ball&&this.owner.auto?(window.app.game.ball.owner||!window.app.game.ball.active)&&(!window.app.game.ball.owner||window.app.game.ball.owner&&window.app.game.ball.owner.isTeamA===this.owner.isTeamA)?(this.reticleArrowBall.visible=!1,this.reticleArrow.visible=!1,this.reticle.visible=!0):(this.reticleArrowBall.visible=!1,this.reticleArrow.visible=!1,this.reticle.visible=!1):(this.reticleArrowBall.visible=!0,this.reticleArrow.visible=!1,this.reticle.visible=!1)),this.owner.state!==o.PLAYER_STATE.KICK_CHARGE){var e=Math.atan2(this.owner.movement.direction.y,this.owner.movement.direction.x);e+=Math.PI/2}else e=this.owner.shootAngle;this.spin.rotation.z+=.2*a.smallestAngle(this.spin.rotation.z,e),this.reticle&&(this.flashing?(this.flashCounter+=.5,this.reticle2.visible=!0,this.reticle2.material.opacity=.6+.4*Math.sin(this.flashCounter)):(this.flashCounter=1.7,this.reticle2.visible=!1),0<this.blinkTimer&&!this.owner.auto&&!this.owner.ballSkills.ball?(this.blinkCounter++,this.blinkTimer--,5<=this.blinkCounter&&(this.blinkCounter=0,this.spin.visible=!this.spin.visible)):(this.blinkTimer=0,this.spin.visible=!0))}},i.exports=l8g}.call(t,s,t,e))||(e.exports=i)},function(e,t,i){"use strict";i(0);function A8g(e){n.Object3D.call(this),this.owner=e,this.reticle=r.getMesh("player_marker_shoot.png",.5,1),this.add(this.reticle),this.reticle.scale.x*=1.5,this.reticle.scale.y*=1.5,this.reticle.scale.z*=1.5}var n=i(12),r=i(21);i(28),i(27),i(85),i(14);(A8g.prototype=Object.create(n.Object3D.prototype)).setArrows=function(e){this.team=e},A8g.prototype.update=function(){},e.exports=A8g},function(e,t,a){"use strict";var i;void 0===(i=function(e,t,i){function O8g(e){n.Container.call(this),this.arrows=[],this.team=null,this.owner=e;var t=(new n.Graphics).lineStyle(2,16711680).drawCircle(0,0,30);this.addChild(t);for(var i=0;i<2;i++)this.arrows.push((new n.Graphics).beginFill(0,.4).moveTo(30,5).lineTo(30,-5).lineTo(40,0)),this.addChild(this.arrows[i]);this.directionArrow=(new n.Graphics).beginFill(16711680).moveTo(30,15).lineTo(30,-15).lineTo(50,0),this.addChild(this.directionArrow)}var n=a(0),r=(a(28),a(27),a(14));(O8g.prototype=Object.create(n.Container.prototype)).setArrows=function(e){this.team=e},O8g.prototype.update=function(){if(this.visible){for(var e=0;e<this.team.length;e++){var t=this.team[e],i=Math.atan2(t.position.y-this.owner.position.y,t.position.x-this.owner.position.x);this.arrows[e].rotation=i}var n=Math.atan2(this.owner.movement.direction.y,this.owner.movement.direction.x);this.directionArrow.rotation+=.2*r.smallestAngle(this.directionArrow.rotation,n)}},i.exports=O8g}.call(t,a,t,e))||(e.exports=i)},function(e,t,y){"use strict";var i;void 0===(i=function(e,t,i){function s9g(e){this.game=e,this.forcePromotePowerups=[],this.count=0,this.pool=new r(a),this.activePowerups=[],this.maxPowerups=4,this.powerups=[u,h,d,p,m,v,c],"SpeedBoost"===window.URLParams.powerup&&(this.powerups=[u]),"Lightning"===window.URLParams.powerup&&(this.powerups=[d]),"Freeze"===window.URLParams.powerup&&(this.powerups=[p]),"Fireball"===window.URLParams.powerup&&(this.powerups=[f]),"Shrinkatron"===window.URLParams.powerup&&(this.powerups=[m]),"Shield"===window.URLParams.powerup&&(this.powerups=[h]),"Remoteball"===window.URLParams.powerup&&(this.powerups=[_]),"Snowball"===window.URLParams.powerup&&(this.powerups=[v]),"Banana"===window.URLParams.powerup&&(this.powerups=[c]),this.paused=!1,this.firstRun=!0,this.firstRunCount=0,this.powerupTime=10,window.URLParams.powerupDebug&&(this.count=this.powerupTime,this.powerupTime=2),this.powerupStates={},this.world=null,o.call(this,400,50,null,null);var t=JSON.parse(LOCAL_STORAGE.get("encounterPowerups"))||null;if(!t||Object.keys(t).length!==Object.keys(this.powerups).length){var i={SpeedBoost:!0,Shield:!0,Lighting:!0,Freeze:!0,Shrinkatron:!0,Snowball:!1,Banana:!1};LOCAL_STORAGE.store("encounterPowerups",JSON.stringify(i)),t=i}for(var n in t)!1===t[n]&&this.forcePromotePowerups.push(this.powerups[Object.keys(t).indexOf(n)])}var r=y(48),a=y(632),o=y(28),n=y(14),s=y(4),l=y(5),u=y(633),h=y(634),d=y(635),c=y(321),p=y(639),f=y(640),m=y(641),_=y(642),g=y(643),v=y(644);c=y(321);((s9g.constructor=s9g).prototype=Object.create(o.prototype)).pause=function(){this.paused=!0},s9g.prototype.resume=function(){this.paused=!1},s9g.prototype.clear=function(){this.count=0;var e=this.world.groups.pickup;e&&e.run(function(e){e.destroy()},this)},s9g.prototype.update=function(){if(!this.paused&&this.game.active&&(this.count+=s.game.deltaTime/60,this.count>=this.powerupTime)){var e=this.world.groups.pickup;(!e||e.children.length<this.maxPowerups&&0==this.activePowerups.length)&&this.addPickup()}},s9g.prototype.encounterPowerup=function(e){var t=JSON.parse(LOCAL_STORAGE.get("encounterPowerups")),i=this.powerups.indexOf(e);t[Object.keys(t)[i]]=!0,LOCAL_STORAGE.store("encounterPowerups",JSON.stringify(t))},s9g.prototype.addPickup=function(){this.count=0;var e=r.getObject(a);if(e.timer=0,e.position.x=n.random(400,1200),e.position.y=n.random(250,650),l.isTournament&&Math.random()<=.4)e.reset(g);else{var t;if(0!==this.forcePromotePowerups.length)t=this.forcePromotePowerups.shift(),this.encounterPowerup(t);else{var i=Math.random()*this.powerups.length|0;t=this.powerups[i]}e.reset(t)}this.world.add(e)},s9g.prototype.onPickupActivate=function(e){e=e||this.cachePickup},s9g.prototype.reset=function(e){for(var t=0;t<this.pickups.length;t++){var i=this.pickups[t];this.game.world.remove(i),GameObjectPool.returnObject(i)}this.powerups=e.powerups,this.paused=!1},i.exports=s9g}.call(t,y,t,e))||(e.exports=i)},function(e,t,u){"use strict";var i;void 0===(i=function(e,t,i){function X9g(){var e=new PIXI.DisplayObjectContainer,t=new a.CrashBody.fromRect(-20,-20,40,40);r.call(this,0,0,e,t),this.type=4,this.timer=0,this.tick=100*Math.random(),this.onDead=new n,this.onPickedup=new n,t.position=this.position,this.height=300;var i=o.getMesh("pickup-box.png");(this.view3d=i).scale.x=i.scale.y=i.scale.z=.2,i.rotation.x=window.test-Math.PI,this.powerup=null,this.groups=["pickup"],this.shadow=o.getMesh(RESOLVE_PATH(ASSET_URL+"img/game/fx/misc/game-ball-shadow.png"),.5,.5),this.shadow.position.z=10,i.material.depthTest=!1,this.shadow.scale.x=this.shadow.scale.y=this.shadow.scale.z=.1,this.shadow.position.z=-6,this.pickupEffect=PIXI.Sprite.from("pickup_00000.png"),this.pickupEffect.anchor.set(.5),this.pickupEffect.blendMode=PIXI.BLEND_MODES.ADD,this.pickupFrames=l.getTexturesFromFramesWithPrefix("pickup_000%%.png",6),this.frameTick=0,this.pickedUp=!1}var n=u(3),r=u(28),a=u(27),o=u(21),s=u(13),l=u(29);(X9g.prototype=Object.create(r.prototype)).setType=function(e){this.powerup&&this.view.removeChild(this.powerup.icon),this.powerup=e,this.view3d.position.x=this.position.x,this.view3d.position.y=this.position.y},X9g.prototype.addedToWorld=function(){this.world.view3d.scene.add(this.shadow),this.world.overlay.addChild(this.pickupEffect)},X9g.prototype.removedFromWorld=function(){this.world.view3d.scene.remove(this.shadow),this.world.overlay.removeChild(this.pickupEffect)},X9g.prototype.reset=function(e){this.view3d.visible=!0,this.height=300,this.powerup=e,this.landed=!1,this.view3d.position.z=300,this.canCollide=!0,this.pickupEffect.visible=!1,this.shadow.visible=!0,this.pickedUp=!1,null!=e&&e.customIcon?o.setUvs(this.view3d,PIXI.Texture.from(RESOLVE_PATH(e.customIcon)),.5,.85):o.setUvs(this.view3d,PIXI.Texture.from("pickup-box.png"),.5,.85),this.view3d.scale.x=this.view3d.scale.y=this.view3d.scale.z=.2,this.shadow.scale.x=this.shadow.scale.y=this.shadow.scale.z=0,TweenLite.to(this.view3d.position,1.5,{z:2,ease:Bounce.easeOut}),TweenLite.to(this.shadow.scale,1.5,{x:.32,y:.32,z:.32,ease:Bounce.easeOut})},X9g.prototype.update=function(){if(this.timer++,1e4<=this.timer&&this.destroy(),this.view3d.position.x=this.position.x,this.view3d.position.y=this.position.y,this.shadow.position.x=this.view3d.position.x,this.shadow.position.y=this.view3d.position.y-5,this.view3d.rotation.x=window.test-Math.PI,this.tick+=.1,this.view3d.rotation.z=.1*Math.sin(1.6*this.tick),this.view3d.scale.x=.2+.01*Math.sin(this.tick),this.view3d.scale.y=.2+.01*Math.cos(this.tick),this.pickedUp){var e=this.world.view3d.toScreenPosition(this);if(this.pickupEffect.position.x=e.x,this.pickupEffect.position.y=e.y,this.frameTick>this.pickupFrames.length||this.powerup.noAnimation)this.destroy();else{var t=this.pickupFrames[0|this.frameTick];this.pickupEffect._texture=t,this.frameTick+=.4}}},X9g.prototype.activate=function(){this.onPickedup.dispatch(this)},X9g.prototype.onCollideBegin=function(e){var t=e.getOtherObject(this);if(e.ignore=!0,"player"===t.name){if(this.powerup.onlyPlayer&&t.isTeamA)return;if(this.powerup.onlyPlayer&&!t.isTeamA&&this.world.game.teamManagerA.activePlayer!==t)return;if(!t.isTeamA&&this.world.game.teamManagerA.activePlayer!==t)return;if(t.isTeamA&&this.world.game.teamManagerB.activePlayer!==t)return;if(t.isTeamA&&!t.ballSkills.ball)return;var i=this.world.view3d.toScreenPosition(this);s.sfx.playGroup("croudHappy");var n=i.x,r=i.y-50,a=!1;(n<30||1106<n||r<30||715<r)&&(a=!0),a||(this.pickedUp=!0,this.canCollide=!1,this.view3d.visible=!1,this.shadow.visible=!1,this.frameTick=0,this.pickupEffect.visible=!0,t.setPowerUp(this.powerup),t.isTeamA||this.world.game.teamManagerA.activePlayer!==t||this.powerup.noMessage||this.world.game.hud.message.show("POWERUP",{name:this.powerup.displayName}))}},i.exports=X9g}.call(t,u,t,e))||(e.exports=i)},function(e,t,o){"use strict";var i;void 0===(i=function(e,t,i){o(0),o(27),o(3),o(14);function yah(){this.id="SpeedBoost",this.item=null,this.timer=new n(10,r.game),this.timer.onComplete.add(this.stop,this),this.trailEffect=new a,this.dead=!1}var n=o(41),r=o(4),a=o(320);yah.displayName="STR_POWERUP_SPEEDBOOST",yah.prototype.reset=function(e){this.trailEffect.item=e,this.item=e,this.dead=!1,this.timer.start(),this.item.speedBoosted=!0,this.item.body.setMaxSpeed(4),e.world.view3d.scene.add(this.trailEffect.cloud)},yah.prototype.update=function(){this.trailEffect.update(this.item)},yah.prototype.stop=function(){this.item.speedBoosted=!1,this.dead=!0,this.item.body.setMaxSpeed(3),this.item.world.view3d.scene.remove(this.trailEffect.cloud)},i.exports=yah}.call(t,o,t,e))||(e.exports=i)},function(e,t,n){"use strict";var i;void 0===(i=function(e,t,i){function Qah(){if(this.id="Shield",this.item=null,this.timer=new d(8,c.game),this.timer.onComplete.add(this.stop,this),!p){p=[];for(var e=0;e<40;e++){var t=e;t<10&&(t="0"+t);var i=u.Texture.from(ASSET_URL+"img/game/fx/powerups/raw/shield_"+t+".png");(a=new h.Texture).image=i.baseTexture.source,a.needsUpdate=!0,p.push(a)}}var n=new h.SphereGeometry(20,32,32),r=p[0];(o=new h.MeshBasicMaterial({map:r})).side=h.DoubleSide,o.blending=h.AdditiveBlending,o.transparent=!0,o.alphaTest=.25;var a,o,s=new h.Mesh(n,o);this.shieldView=new h.Object3D,this.shieldView.position.y=30,this.shieldView.position.z=100,this.ball=s,this.count=0,this.dead=!1,i=u.Texture.from(ASSET_URL+"img/game/fx/powerups/raw/shield_bubble.png"),(a=new h.Texture).image=i.baseTexture.source,a.needsUpdate=!0,(o=new h.MeshBasicMaterial({map:a})).side=h.DoubleSide,o.blending=h.AdditiveBlending,o.transparent=!0,o.depthTest=!1,o.opacity=.5,n=new h.PlaneGeometry(60,60);var l=new h.Mesh(n,o);l.rotation.x=window.test-Math.PI,this.outline=l,this.shieldView.scale.x=this.shieldView.scale.y=this.shieldView.scale.z=9,this.shieldView.add(s),this.shieldView.add(this.outline)}var u=n(0),h=n(12),d=(n(27),n(3),n(14),n(41)),c=n(4),p=(n(21),null);Qah.displayName="STR_POWERUP_SHIELD",Qah.prototype.reset=function(e){this.item=e,this.dead=!1,this.timer.start(),this.item.canBeTackled=!1,this.item.view3d.add(this.shieldView)},Qah.prototype.update=function(){this.ball.rotation.y+=.02,this.ball.rotation.x+=.02,this.count+=1,this.ball.material.map=p[(0|this.count)%p.length],this.ball.material.opacity=.2+.5*(Math.sin(.1*this.count)+1)*.6,this.ball.material.needsUpdate=!0},Qah.prototype.stop=function(e){this.item.canBeTackled=!0,this.dead=!0,this.item.view3d.remove(this.shieldView)},i.exports=Qah}.call(t,n,t,e))||(e.exports=i)},function(e,t,f){"use strict";var i;void 0===(i=function(e,t,i){f(0),f(27),f(3);function ubh(){this.id="Lightning",this.item=null,this.timer=new a(10,o.game),this.timer.onComplete.add(this.stop,this),this.dead=!1}var n,r=f(14),a=f(41),o=f(4),s=f(12),l=f(21),u=f(28),h=f(29),d=f(48),c=f(13);ubh.displayName="STR_POWERUP_LIGHTNING",ubh.prototype.reset=function(e){var t=e.isTeamA?e.world.game.teamLeft:e.world.game.teamRight;c.sfx.play("electro_cute"),t.run(function(e){if(e.ballSkills.ball){var t=Math.random()*Math.PI*2;e.ballSkills.pass(Math.sin(t),Math.cos(t),5,10)}e.fallOver(),e.fallWait=-30;var i=d.get(p);i.reset(e),e.world.add(i)},this)},ubh.prototype.update=function(){},ubh.prototype.stop=function(){},i.exports=ubh;var p=function(){u.call(this),this.view3d=new s.Object3D;var e=l.getMesh("lightning_03.png",.5,0);this.view3d.scale.x=this.view3d.scale.y=this.view3d.scale.z=.22,(this.light=e).material.blending=s.AdditiveBlending,this.view3d.add(e),this.view3d.rotation.x=-Math.PI/2,this.tick=0,n=n||h.getTexturesFromFrames(["lightning_01.png","lightning_02.png","lightning_03.png","lightning_04.png"]),this.life=0,this.target=null};p.prototype=Object.create(u.prototype),p.prototype.reset=function(e){this.target=e,this.life=0,this.position.x=e.position.x,this.position.y=e.position.y+30},p.prototype.update=function(){this.view3d.position.x=this.position.x,this.view3d.position.y=this.position.y,this.tick+=.5,l.setUvs(this.light,n[this.tick%n.length|0],.5,0),this.target.view3d.rotation.y=r.random(-.3,.3),this.life++,100<this.life&&(this.destroy(),this.target.view3d.rotation.y=0)}}.call(t,f,t,e))||(e.exports=i)},function(e,t,h){"use strict";var i;void 0===(i=function(e,t,i){function Tbh(){o.call(this),this.view3d=new u.Object3D,this.view3d.position.y=-40,this.view3d.rotation.x=window.test-Math.PI,this.bananaSplatAnim=new n.extras.MovieClip(a.getTexturesFromFrames(["banana_splat_01.png","banana_splat_02.png","banana_splat_03.png","banana_splat_04.png","banana_splat_05.png"])),this.bananaSplatAnim.animationSpeed=.15,this.bananaSplatAnim.loop=!1,this.bananaSplatAnim.onComplete=function(){this.bananaSplatAnimMesh.visible=!1}.bind(this),this.bananaFlyingAnim=new n.extras.MovieClip(a.getTexturesFromFrames(["banana_peel_01.png","banana_peel_02.png","banana_peel_03.png","banana_peel_04.png","banana_peel_01.png","banana_peel_02.png","banana_peel_03.png","banana_peel_04.png","banana_peel_01.png","banana_peel_02.png","banana_peel_03.png","banana_peel_04.png","banana_peel_01.png","banana_peel_02.png","banana_peel_03.png","banana_peel_04.png"])),this.bananaFlyingAnim.animationSpeed=.4,this.bananaFlyingAnim.loop=!1,this.bananaFlyingAnim.onComplete=function(){this.bananaFlyingAnimMesh.visible=!1}.bind(this),this.bananaPuddle=r.getMesh("banana_splat.png",0,0),this.bananaPuddle.position.y=-25,this.bananaPuddle.position.x=8,this.bananaPuddle.position.z=60,this.bananaPuddle.rotation.x=40,this.view3d.add(this.bananaPuddle),this.target=null,this.vfxContainer=new u.Object3D,this.vfxContainer.position.x=160,this.vfxContainer.position.y=135,this.vfxContainer.position.z=-180,this.view3d.add(this.vfxContainer),this.bananaSplatAnimMesh=new r.getMesh,this.bananaSplatAnimMesh.visible=!1,this.bananaFlyingAnimMesh=new r.getMesh,this.bananaFlyingAnimMesh.visible=!1,this.vfxContainer.add(this.bananaSplatAnimMesh),this.vfxContainer.add(this.bananaFlyingAnimMesh),this.originalPositionX=this.bananaFlyingAnimMesh.position.x,this.originalPositionY=this.bananaFlyingAnimMesh.position.y}var n=h(0),r=h(21),a=h(29),o=h(28),s=h(67),l=h(637).TweenLite,u=h(12);(Tbh.prototype=Object.create(o.prototype)).reset=function(e){this.target=e,this.target.bananaPowerup=this.banana,this.view3d.position.x=0,this.bananaSplatAnim.gotoAndPlay(0),this.bananaFlyingAnim.gotoAndPlay(0),r.setUvs(this.bananaSplatAnimMesh,this.bananaSplatAnim.texture),r.setUvs(this.bananaFlyingAnimMesh,this.bananaFlyingAnim.texture),this.bananaSplatAnimMesh.visible=!0,this.bananaFlyingAnimMesh.visible=!0,l.killTweensOf(this.bananaFlyingAnimMesh.rotation),l.killTweensOf(this.bananaFlyingAnimMesh.material),l.killTweensOf(this.bananaFlyingAnimMesh.position),l.killTweensOf(this.bananaFlyingAnimMesh.scale),l.killTweensOf(this.bananaPuddle.scale),l.killTweensOf(this.bananaPuddle.material),this.bananaFlyingAnimMesh.rotation.z=0,this.bananaFlyingAnimMesh.material.opacity=1,this.bananaFlyingAnimMesh.scale.x=.6,this.bananaFlyingAnimMesh.scale.y=.6,this.bananaPuddle.scale.x=this.bananaPuddle.scale.y=this.bananaPuddle.scale.z=0,this.bananaPuddle.material.opacity=1;var t=1e3*Math.random()*(.5<Math.random()?-1:1),i=-200*Math.random()-700;l.to(this.bananaFlyingAnimMesh.rotation,1.5,{z:4*Math.PI,ease:Quad.easeOut}),l.to(this.bananaFlyingAnimMesh.material,2,{opacity:0}),l.to(this.bananaFlyingAnimMesh.position,1.5,{x:t,ease:Quad.easeOut}),l.to(this.bananaFlyingAnimMesh.position,1.5,{y:i,ease:"back.out(2.5)"}),l.to(this.bananaFlyingAnimMesh.scale,1.5,{x:6,y:6,ease:Quad.easeOut}),l.to(this.bananaPuddle.scale,.6,{x:1.8,y:1.8,z:1.8,ease:Quad.easeOut}),l.to(this.bananaPuddle.material,.6,{opacity:0,ease:Quad.easeOut,delay:1,onComplete:function(){this.remove(),this.banana.bananaCount<=0&&this.banana.stop()}.bind(this)});var n=Math.ceil(5*Math.random());SoundManager.sfx.play("sfx_banana_0"+n)},Tbh.prototype.remove=function(){this.target.bananaPowerup=null,this.target.view3d.remove(this.view3d),s.wait(this.returnToPool)},Tbh.prototype.complete=function(){this.target.reset(!0)},Tbh.prototype.update=function(){r.setUvs(this.bananaSplatAnimMesh,this.bananaSplatAnim.texture),r.setUvs(this.bananaFlyingAnimMesh,this.bananaFlyingAnim.texture),this.view3d.rotation.x=window.test-Math.PI},i.exports=Tbh}.call(t,h,t,e))||(e.exports=i)},function(e,t,i){"use strict";t.__esModule=!0,t.TweenMax=t.default=t.gsap=void 0;var n=i(322);t.Power0=n.Power0,t.Power1=n.Power1,t.Power2=n.Power2,t.Power3=n.Power3,t.Power4=n.Power4,t.Linear=n.Linear,t.Quad=n.Quad,t.Cubic=n.Cubic,t.Quart=n.Quart,t.Quint=n.Quint,t.Strong=n.Strong,t.Elastic=n.Elastic,t.Back=n.Back,t.SteppedEase=n.SteppedEase,t.Bounce=n.Bounce,t.Sine=n.Sine,t.Expo=n.Expo,t.Circ=n.Circ,t.TweenLite=n.TweenLite,t.TimelineLite=n.TimelineLite,t.TimelineMax=n.TimelineMax;var r=i(638);t.CSSPlugin=r.CSSPlugin;var a=n.gsap.registerPlugin(r.CSSPlugin)||n.gsap,o=a.core.Tween;t.TweenMax=o,t.default=t.gsap=a},function(e,t,i){"use strict";t.__esModule=!0,t.checkPrefix=t._createElement=t._getBBox=t.default=t.CSSPlugin=void 0;function zch(e,t){return t.set(t.t,t.p,~~(1e3*(t.s+t.c*e))/1e3+t.u,t)}function Ach(e,t){return t.set(t.t,t.p,1===e?t.e:~~(1e3*(t.s+t.c*e))/1e3+t.u,t)}function Bch(e,t){return t.set(t.t,t.p,e?~~(1e3*(t.s+t.c*e))/1e3+t.u:t.b,t)}function Cch(e,t){var i=t.s+t.c*e;t.set(t.t,t.p,~~(i+(i<0?-.5:.5))+t.u,t)}function Dch(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)}function Ech(e,t){return t.set(t.t,t.p,1!==e?t.b:t.e,t)}function Fch(e,t,i){return e.style[t]=i}function Gch(e,t,i){return e.style.setProperty(t,i)}function Hch(e,t,i){return e._gsap[t]=i}function Ich(e,t,i){return e._gsap.scaleX=e._gsap.scaleY=i}function Jch(e,t,i,n,r){var a=e._gsap;a.scaleX=a.scaleY=i,a.renderTransform(r,a)}function Kch(e,t,i,n,r){var a=e._gsap;a[t]=i,a.renderTransform(r,a)}function Och(e,t){var i=m.createElementNS?m.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):m.createElement(e);return i.style?i:m.createElement(e)}function Pch(e,t,i){var n=getComputedStyle(e);return n[t]||n.getPropertyValue(t.replace(r,"-$1").toLowerCase())||n.getPropertyValue(t)||!i&&Pch(e,X(t)||t,1)||""}function Sch(){"undefined"!=typeof window&&(u=(m=window.document).documentElement,_=Och("div")||{style:{}},c=Och("div"),V=X(V),q=X(q),_.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",Y=!!X("perspective"),F=1)}function Uch(e,t){for(var i=t.length;i--;)if(e.hasAttribute(t[i]))return e.getAttribute(t[i])}function Vch(t){var i;try{i=t.getBBox()}catch(e){i=function _getBBoxHack(e){var t,i=Och("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),n=this.parentNode,r=this.nextSibling,a=this.style.cssText;if(u.appendChild(i),i.appendChild(this),this.style.display="block",e)try{t=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=_getBBoxHack}catch(e){}else this._gsapBBox&&(t=this._gsapBBox());return r?n.insertBefore(this,r):n.appendChild(this),u.removeChild(i),this.style.cssText=a,t}.call(t,!0)}return!i||i.width||i.x||i.y?i:{x:+Uch(t,["x","cx","x1"])||0,y:+Uch(t,["y","cy","y1"])||0,width:0,height:0}}function Wch(e){return!(!e.getCTM||e.parentNode&&!e.ownerSVGElement||!Vch(e))}function Xch(e,t){if(t){var i=e.style;t in j&&(t=V),i.removeProperty?("ms"!==t.substr(0,2)&&"webkit"!==t.substr(0,6)||(t="-"+t),i.removeProperty(t.replace(r,"-$1").toLowerCase())):i.removeAttribute(t)}}function Ych(e,t,i,n,r,a){var o=new U.PropTween(e._pt,t,i,0,1,a?Ech:Dch);return(e._pt=o).b=n,o.e=r,e._props.push(i),o}function $ch(e,t,i,n){var r,a,o,s,l=parseFloat(i)||0,u=(i+"").trim().substr((l+"").length)||"px",h=_.style,d=g.test(t),c="svg"===e.tagName.toLowerCase(),p=(c?"client":"offset")+(d?"Width":"Height"),f="px"===n;return n===u||!l||v[n]||v[u]?l:(s=e.getCTM&&Wch(e),"%"===n&&(j[t]||~t.indexOf("adius"))?(0,U._round)(l/(s?e.getBBox()[d?"width":"height"]:e[p])*100):(h[d?"width":"height"]=100+(f?u:n),a=~t.indexOf("adius")||"em"===n&&e.appendChild&&!c?e:e.parentNode,s&&(a=(e.ownerSVGElement||{}).parentNode),a&&a!==m&&a.appendChild||(a=m.body),(o=a._gsap)&&"%"===n&&o.width&&d&&o.time===U._ticker.time?(0,U._round)(l/o.width*100):(a===e&&(h.position="static"),a.appendChild(_),r=_[p],a.removeChild(_),h.position="absolute",d&&"%"===n&&((o=(0,U._getCache)(a)).time=U._ticker.time,o.width=a[p]),(0,U._round)(f?r*l/100:100/r*l))))}function _ch(e,t,i,n){var r;return F||Sch(),t in W&&"transform"!==t&&~(t=W[t]).indexOf(",")&&(t=t.split(",")[0]),j[t]&&"transform"!==t?(r=$(e,n),r="transformOrigin"!==t?r[t]:ee(Pch(e,q))+r.zOrigin+"px"):(r=e.style[t])&&"auto"!==r&&!n&&!~(r+"").indexOf("calc(")||(r=J[t]&&J[t](e,t,i)||Pch(e,t)||(0,U._getProperty)(e,t)||("opacity"===t?1:0)),i&&!~(r+"").indexOf(" ")?$ch(e,t,r,i)+i:r}function adh(e,t,i,n){var r,a,o,s,l,u,h,d,c,p,f,m,_=new U.PropTween(this._pt,e.style,t,0,1,U._renderComplexString),g=0,v=0;if(_.b=i,_.e=n,i+="","auto"===(n+="")&&(e.style[t]=n,n=Pch(e,t)||n,e.style[t]=i),r=[i,n],(0,U._colorStringFilter)(r),n=r[1],!!(u=(i=r[0]).indexOf("rgba("))!=!!(h=n.indexOf("rgba("))&&(u?i=i.substr(u)+" "+i.substr(0,u-1):n=n.substr(h)+" "+n.substr(0,h-1)),o=i.match(y)||[],(n.match(y)||[]).length){for(;a=y.exec(n);)h=a[0],c=n.substring(g,a.index),l?l=(l+1)%5:"rgba("!==c.substr(-5)&&"hsla("!==c.substr(-5)||(l=1),h!==(u=o[v++]||"")&&(s=parseFloat(u)||0,f=u.substr((s+"").length),(m="="===h.charAt(1)?+(h.charAt(0)+"1"):0)&&(h=h.substr(2)),d=parseFloat(h),p=h.substr((d+"").length),g=y.lastIndex-p.length,p||(p=p||U._config.units[t]||f,g===n.length&&(n+=p,_.e+=p)),f!==p&&(s=$ch(e,t,u,p)||0),_._pt={_next:_._pt,p:c||1===v?c:",",s:s,c:m?m*d:d-s,m:l&&l<4?Math.round:0});_.c=g<n.length?n.substring(g,n.length):""}else _.r="display"===t&&"none"===n?Ech:Dch;return U._relExp.test(n)&&(_.e=0),this._pt=_}function ddh(e,t){if(t.tween&&t.tween._time===t.tween._dur){var i,n,r,a=t.t,o=a.style,s=t.u;if("all"===s||!0===s)o.cssText="",n=1;else for(r=(s=s.split(",")).length;-1<--r;)i=s[r],j[i]&&(n=1,i="transformOrigin"===i?q:V),Xch(a,i);n&&(Xch(a,V),(n=a._gsap)&&(n.svg&&a.removeAttribute("transform"),$(a,1)))}}function hdh(e){return"matrix(1, 0, 0, 1, 0, 0)"===e||"none"===e||!e}function idh(e){var t=Pch(e,V);return hdh(t)?Z:t.substr(7).match(U._numExp).map(U._round)}function jdh(e,t){var i,n,r,a,o=e._gsap,s=e.style,l=idh(e);return o.svg&&e.getAttribute("transform")?"1,0,0,1,0,0"===(l=[(r=e.transform.baseVal.consolidate().matrix).a,r.b,r.c,r.d,r.e,r.f]).join(",")?Z:l:(l!==Z||e.offsetParent||e===u||o.svg||(r=s.display,s.display="block",(i=e.parentNode)&&e.offsetParent||(a=1,n=e.nextSibling,u.appendChild(e)),l=idh(e),r?s.display=r:Xch(e,"display"),a&&(n?i.insertBefore(e,n):i?i.appendChild(e):u.removeChild(e))),t&&6<l.length?[l[0],l[1],l[4],l[5],l[12],l[13]]:l)}function kdh(e,t,i,n,r,a){var o,s,l,u=e._gsap,h=r||jdh(e,!0),d=u.xOrigin||0,c=u.yOrigin||0,p=u.xOffset||0,f=u.yOffset||0,m=h[0],_=h[1],g=h[2],v=h[3],y=h[4],b=h[5],w=t.split(" "),x=parseFloat(w[0])||0,T=parseFloat(w[1])||0;i?h!==Z&&(s=m*v-_*g)&&(l=x*(-_/s)+T*(m/s)-(m*b-_*y)/s,x=x*(v/s)+T*(-g/s)+(g*b-v*y)/s,T=l):(x=(o=Vch(e)).x+(~w[0].indexOf("%")?x/100*o.width:x),T=o.y+(~(w[1]||w[0]).indexOf("%")?T/100*o.height:T)),n||!1!==n&&u.smooth?(y=x-d,b=T-c,u.xOffset=p+(y*m+b*g)-y,u.yOffset=f+(y*_+b*v)-b):u.xOffset=u.yOffset=0,u.xOrigin=x,u.yOrigin=T,u.smooth=!!n,u.origin=t,u.originIsAbsolute=!!i,e.style[q]="0px 0px",a&&(Ych(a,u,"xOrigin",d,x),Ych(a,u,"yOrigin",c,T),Ych(a,u,"xOffset",p,u.xOffset),Ych(a,u,"yOffset",f,u.yOffset))}function ndh(e,t,i){var n=(0,U.getUnit)(t);return(0,U._round)(parseFloat(t)+parseFloat($ch(e,"x",i+"px",n)))+n}function vdh(e,t,i){var n,r,a,o,s,l,u,h=c.style,d=i._gsap;for(r in h.cssText=getComputedStyle(i).cssText+";position:absolute;display:block;",h[V]=t,m.body.appendChild(c),n=$(c,1),j)(a=d[r])!==(o=n[r])&&"perspective,force3D,transformOrigin,svgOrigin".indexOf(r)<0&&(s=(0,U.getUnit)(a)!==(u=(0,U.getUnit)(o))?$ch(i,r,a,u):parseFloat(a),l=parseFloat(o),e._pt=new U.PropTween(e._pt,d,r,s,l-s,zch),e._pt.u=u||0,e._props.push(r));m.body.removeChild(c)}var m,u,F,_,c,n,Y,U=i(322),j={},z=180/Math.PI,M=Math.PI/180,G=Math.atan2,r=/([A-Z])/g,y=/[-+=\.]*\d+[\.e-]*\d*[a-z%]*/g,g=/(?:left|right|width|margin|padding|x)/i,H=/[\s,\(]\S/,W={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},V="transform",q=V+"Origin",a="O,Moz,ms,Ms,Webkit".split(","),X=function(e,t){var i=(t||_).style,n=5;if(e in i)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);n--&&!(a[n]+e in i););return n<0?null:(3===n?"ms":0<=n?a[n]:"")+e},v={deg:1,rad:1,turn:1},K={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},J={clearProps:function(e,t,i,n,r){if("isFromStart"!==r.data){var a=e._pt=new U.PropTween(e._pt,t,i,0,0,ddh);return a.u=n,a.pr=-10,a.tween=r,e._props.push(i),1}}},Z=[1,0,0,1,0,0],Q={},$=function(e,t){var i=e._gsap||new U.GSCache(e);if("x"in i&&!t&&!i.uncache)return i;var n,r,a,o,s,l,u,h,d,c,p,f,m,_,g,v,y,b,w,x,T,S,M,L,E,C,A,P,D,R,k=e.style,I=i.scaleX<0,O=i.xOrigin||0,B=i.yOrigin||0,N=Pch(e,q)||"0";return n=r=a=l=u=h=d=c=p=0,o=s=1,i.svg=!(!e.getCTM||!Wch(e)),f=jdh(e,i.svg),i.svg&&kdh(e,N,i.originIsAbsolute,!1!==i.smooth,f),f!==Z&&(v=f[0],y=f[1],b=f[2],w=f[3],n=x=f[4],r=T=f[5],6===f.length?(o=Math.sqrt(v*v+y*y),s=Math.sqrt(w*w+b*b),l=v||y?G(y,v)*z:0,d=b||w?G(b,w)*z+l:0,i.svg&&(n-=O-(O*v+B*b),r-=B-(O*y+B*w))):(R=f[6],P=f[7],E=f[8],C=f[9],A=f[10],D=f[11],n=f[12],r=f[13],a=f[14],u=(m=G(R,A))*z,m&&(S=x*(_=Math.cos(-m))+E*(g=Math.sin(-m)),M=T*_+C*g,L=R*_+A*g,E=x*-g+E*_,C=T*-g+C*_,A=R*-g+A*_,D=P*-g+D*_,x=S,T=M,R=L),h=(m=G(-b,A))*z,m&&(_=Math.cos(-m),D=w*(g=Math.sin(-m))+D*_,v=S=v*_-E*g,y=M=y*_-C*g,b=L=b*_-A*g),l=(m=G(y,v))*z,m&&(S=v*(_=Math.cos(m))+y*(g=Math.sin(m)),M=x*_+T*g,y=y*_-v*g,T=T*_-x*g,v=S,x=M),u&&359.9<Math.abs(u)+Math.abs(l)&&(u=l=0,h=180-h),o=(0,U._round)(Math.sqrt(v*v+y*y+b*b)),s=(0,U._round)(Math.sqrt(T*T+R*R)),m=G(x,T),d=2e-4<Math.abs(m)?m*z:0,p=D?1/(D<0?-D:D):0),i.svg&&(f=e.getAttribute("transform"),i.forceCSS=e.setAttribute("transform","")||!hdh(Pch(e,V)),f&&e.setAttribute("transform",f))),90<Math.abs(d)&&Math.abs(d)<270&&(I?(o*=-1,d+=l<=0?180:-180,l+=l<=0?180:-180):(s*=-1,d+=d<=0?180:-180)),i.x=((i.xPercent=n&&Math.round(e.offsetWidth/2)===Math.round(-n)?-50:0)?0:n)+"px",i.y=((i.yPercent=r&&Math.round(e.offsetHeight/2)===Math.round(-r)?-50:0)?0:r)+"px",i.z=a+"px",i.scaleX=(0,U._round)(o),i.scaleY=(0,U._round)(s),i.rotation=(0,U._round)(l)+"deg",i.rotationX=(0,U._round)(u)+"deg",i.rotationY=(0,U._round)(h)+"deg",i.skewX=d+"deg",i.skewY=c+"deg",i.transformPerspective=p+"px",(i.zOrigin=parseFloat(N.split(" ")[2])||0)&&(k[q]=ee(N)),i.xOffset=i.yOffset=0,i.force3D=U._config.force3D,i.renderTransform=i.svg?ne:Y?ie:te,i.uncache=0,i},ee=function(e){return(e=e.split(" "))[0]+" "+e[1]},te=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,ie(e,t)},L="0deg",ie=function(e,t){var i=t||this,n=i.xPercent,r=i.yPercent,a=i.x,o=i.y,s=i.z,l=i.rotation,u=i.rotationY,h=i.rotationX,d=i.skewX,c=i.skewY,p=i.scaleX,f=i.scaleY,m=i.transformPerspective,_=i.force3D,g=i.target,v=i.zOrigin,y="",b="auto"===_&&e&&1!==e||!0===_;if(v&&(h!==L||u!==L)){var w,x=parseFloat(u)*M,T=Math.sin(x),S=Math.cos(x);x=parseFloat(h)*M,w=Math.cos(x),a=ndh(g,a,T*w*-v),o=ndh(g,o,-Math.sin(x)*-v),s=ndh(g,s,S*w*-v+v)}"0px"!==m&&(y+="perspective("+m+") "),(n||r)&&(y+="translate("+n+"%, "+r+"%) "),!b&&"0px"===a&&"0px"===o&&"0px"===s||(y+="0px"!==s||b?"translate3d("+a+", "+o+", "+s+") ":"translate("+a+", "+o+") "),l!==L&&(y+="rotate("+l+") "),u!==L&&(y+="rotateY("+u+") "),h!==L&&(y+="rotateX("+h+") "),d===L&&c===L||(y+="skew("+d+", "+c+") "),1===p&&1===f||(y+="scale("+p+", "+f+") "),g.style[V]=y||"translate(0, 0)"},ne=function(e,t){var i,n,r,a,o,s=t||this,l=s.xPercent,u=s.yPercent,h=s.x,d=s.y,c=s.rotation,p=s.skewX,f=s.skewY,m=s.scaleX,_=s.scaleY,g=s.target,v=s.xOrigin,y=s.yOrigin,b=s.xOffset,w=s.yOffset,x=s.forceCSS,T=parseFloat(h),S=parseFloat(d);c=parseFloat(c),p=parseFloat(p),(f=parseFloat(f))&&(p+=f=parseFloat(f),c+=f),c||p?(c*=M,p*=M,i=Math.cos(c)*m,n=Math.sin(c)*m,r=Math.sin(c-p)*-_,a=Math.cos(c-p)*_,p&&(f*=M,o=Math.tan(p-f),r*=o=Math.sqrt(1+o*o),a*=o,f&&(o=Math.tan(f),i*=o=Math.sqrt(1+o*o),n*=o)),i=(0,U._round)(i),n=(0,U._round)(n),r=(0,U._round)(r),a=(0,U._round)(a)):(i=m,a=_,n=r=0),(T&&!~(h+"").indexOf("px")||S&&!~(d+"").indexOf("px"))&&(T=$ch(g,"x",h,"px"),S=$ch(g,"y",d,"px")),(v||y||b||w)&&(T=(0,U._round)(T+v-(v*i+y*r)+b),S=(0,U._round)(S+y-(v*n+y*a)+w)),(l||u)&&(o=g.getBBox(),T=(0,U._round)(T+l/100*o.width),S=(0,U._round)(S+u/100*o.height)),o="matrix("+i+","+n+","+r+","+a+","+T+","+S+")",g.setAttribute("transform",o),x&&(g.style[V]=o)};
/*!
 * CSSPlugin 3.1.1
 * https://greensock.com
 *
 * Copyright 2008-2020, GreenSock. All rights reserved.
 * Subject to the terms at https://greensock.com/standard-license or for
 * Club GreenSock members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/t._getBBox=Vch,t.checkPrefix=X,t._createElement=Och,(0,U._forEachName)("padding,margin,Width,Radius",function(t,i){var e="Bottom",s=(i<3?["Top","Right",e,"Left"]:["TopLeft","TopRight",e+"Right",e+"Left"]).map(function(e){return i<2?t+e:"border"+e+t});J[1<i?"border"+t:t]=function(t,e,i,n,r){var a,o;if(arguments.length<4)return a=s.map(function(e){return _ch(t,e,i)}),5===(o=a.join(" ")).split(a[0]).length?a[0]:o;a=(n+"").split(" "),o={},s.forEach(function(e,t){return o[e]=a[t]=a[t]||a[(t-1)/2|0]}),t.init(e,o,r)}});var o,s,l,h={name:"css",register:Sch,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,i,n,r){var a,o,s,l,u,h,d,c,p,f,m,_,g,v,y,b,w,x,T,S,M,L,E,C,A,P,D,R,k,I,O,B=this._props,N=e.style;for(d in F||Sch(),t)if("autoRound"!==d&&(o=t[d],!U._plugins[d]||!(0,U._checkPlugin)(d,t,i,n,e,r)))if(u=typeof o,h=J[d],"function"===u&&(u=typeof(o=o.call(i,n,e,r))),"string"===u&&~o.indexOf("random(")&&(o=(0,U._replaceRandom)(o)),h)h(this,e,d,o,i)&&(y=1);else if("--"===d.substr(0,2))this.add(N,"setProperty",getComputedStyle(e).getPropertyValue(d)+"",o+"",n,r,0,0,d);else{if(a=_ch(e,d),l=parseFloat(a),(f="string"===u&&"="===o.charAt(1)?+(o.charAt(0)+"1"):0)&&(o=o.substr(2)),s=parseFloat(o),d in W&&("autoAlpha"===d&&(1===l&&"hidden"===_ch(e,"visibility")&&s&&(l=0),Ych(this,N,"visibility",l?"inherit":"hidden",s?"inherit":"hidden",!s)),"scale"!==d&&"transform"!==d&&~(d=W[d]).indexOf(",")&&(d=d.split(",")[0])),m=d in j)if(_||((g=e._gsap).renderTransform||$(e),v=!1!==t.smoothOrigin&&g.smooth,(_=this._pt=new U.PropTween(this._pt,N,V,0,1,g.renderTransform,g,0,-1)).dep=1),"scale"===d)this._pt=new U.PropTween(this._pt,g,"scaleY",g.scaleY,f?f*s:s-g.scaleY),B.push("scaleY",d),d+="X";else{if("transformOrigin"===d){O=I=k=void 0,k=(R=o).split(" "),I=k[0],O=k[1]||"50%","top"!==I&&"bottom"!==I&&"left"!==O&&"right"!==O||(R=I,I=O,O=R),k[0]=K[I]||I,k[1]=K[O]||O,o=k.join(" "),g.svg?kdh(e,o,0,v,0,this):((p=parseFloat(o.split(" ")[2]))!==g.zOrigin&&Ych(this,g,"zOrigin",g.zOrigin,p),Ych(this,N,d,ee(a),ee(o)));continue}if("svgOrigin"===d){kdh(e,o,1,v,0,this);continue}if(d in Q){b=this,w=g,x=d,T=l,S=o,M=f,C=(P=E=L=void 0,U._isString)(S),A=parseFloat(S)*(C&&~S.indexOf("rad")?z:1),D=T+(P=M?A*M:A-T)+"deg",C&&("short"===(L=S.split("_")[1])&&(P%=360)!=P%180&&(P+=P<0?360:-360),"cw"===L&&P<0?P=(P+36e9)%360-360*~~(P/360):"ccw"===L&&0<P&&(P=(P-36e9)%360-360*~~(P/360))),b._pt=E=new U.PropTween(b._pt,w,x,T,P,Ach),E.e=D,E.u="deg",b._props.push(x);continue}if("smoothOrigin"===d){Ych(this,g,"smooth",g.smooth,o);continue}if("force3D"===d){g[d]=o;continue}if("transform"===d){vdh(this,o,e);continue}}else d in N||(d=X(d)||d);if(m||(s||0===s)&&(l||0===l)&&!H.test(o)&&d in N)(c=(a+"").substr((l+"").length))!==(p=(o+"").substr((s+"").length)||(d in U._config.units?U._config.units[d]:c))&&(l=$ch(e,d,a,p)),this._pt=new U.PropTween(this._pt,m?g:N,d,l,f?f*s:s-l,"px"!==p||!1===t.autoRound||m?zch:Cch),this._pt.u=p||0,c!==p&&(this._pt.b=a,this._pt.r=Bch);else if(d in N)adh.call(this,e,d,a,o);else{if(!(d in e)){(0,U._missingPlugin)(d,o);continue}this.add(e,d,e[d],o,n,r)}B.push(d)}y&&(0,U._sortPropTweensByPriority)(this)},get:_ch,aliases:W,getSetter:function(e,t,i){return(t=W[t]||t)in j&&t!==q&&(e._gsap.x||_ch(e,"x"))?i&&n===i?"scale"===t?Ich:Hch:(n=i||{})&&("scale"===t?Jch:Kch):e.style&&!(0,U._isUndefined)(e.style[t])?Fch:~t.indexOf("-")?Gch:(0,U._getSetter)(e,t)}};t.default=t.CSSPlugin=h,U.gsap.utils.checkPrefix=X,o="x,y,z,scale,scaleX,scaleY,xPercent,yPercent",s="rotation,rotationX,rotationY,skewX,skewY",l=(0,U._forEachName)(o+","+s+",transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective",function(e){j[e]=1}),(0,U._forEachName)(s,function(e){U._config.units[e]="deg",Q[e]=1}),W[l[13]]=o+","+s,(0,U._forEachName)("0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY",function(e){var t=e.split(":");W[t[1]]=l[t[0]]}),(0,U._forEachName)("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(e){U._config.units[e]="px"}),U.gsap.registerPlugin(h)},function(e,t,p){"use strict";var i;void 0===(i=function(e,t,i){function mkh(){this.id="Freeze",this.item=null,this.iceBlocks=[],this.shakeTimer=new r(3,a.game),this.shakeTimer.onComplete.add(this.shake,this),this.doneTimer=new r(2,a.game),this.doneTimer.onComplete.add(this.complete,this)}var n=p(0),r=(p(27),p(3),p(14),p(41)),a=p(4),o=p(28),s=p(48),l=p(21),u=p(29),h=(p(85),p(67)),d=p(12);mkh.displayName="STR_POWERUP_FREEZE",mkh.prototype.reset=function(e){this.completed=!1,this.shakeTimer=new r(3,a.game),this.shakeTimer.onComplete.add(this.shake,this),this.doneTimer=new r(2,a.game),this.doneTimer.onComplete.add(this.complete,this),this.iceBlocks.length=0,(e.isTeamA?e.world.game.teamLeft:e.world.game.teamRight).run(function(e){if(e.ballSkills.ball){var t=Math.random()*Math.PI*2;e.ballSkills.pass(Math.sin(t),Math.cos(t),5,10)}e.freezePowerup&&e.freezePowerup.stop(),e.freeze();var i=s.get(c);i.freeze=this,i.reset(e),e.view3d.add(i.view3d),this.iceBlocks.push(i)},this),this.shakeTimer.start(),SoundManager.sfx.play("sfx_freeze")},mkh.prototype.shake=function(){for(var e=0;e<this.iceBlocks.length;e++){this.iceBlocks[e].shake()}this.doneTimer.start()},mkh.prototype.update=function(){for(var e=0;e<this.iceBlocks.length;e++)this.iceBlocks[e].update()},mkh.prototype.stop=function(){if(!this.completed){this.completed=!0,this.shakeTimer.stop(),this.doneTimer.stop();for(var e=0;e<this.iceBlocks.length;e++){var t=this.iceBlocks[e];t.remove(),t.target.reset(!0)}}},mkh.prototype.complete=function(){if(!this.completed){this.completed=!0;for(var e=0;e<this.iceBlocks.length;e++){var t=this.iceBlocks[e];t.remove(),t.target.reset()}}},i.exports=mkh;var c=function(){o.call(this),this.view3d=new d.Object3D,this.view3d.position.y=-40,this.view3d.rotation.x=window.test-Math.PI,this.mistAnim=new n.extras.MovieClip(u.getTexturesFromFrames(["ice_mist_01.png","ice_mist_02.png","ice_mist_03.png","ice_mist_04.png","ice_mist_05.png","ice_mist_06.png","ice_mist_07.png","ice_mist_08.png","ice_mist_09.png"])),this.mistAnim.animationSpeed=.2,this.mistAnim.loop=!1,this.mistAnim.onComplete=function(){this.animMesh.visible=!1}.bind(this);var e=l.getMesh("ice_block_top.png",0,0);e.material.opacity=.8,this.view3d.add(e),e.position.y=-120,this.ice=e,this.life=0,this.target=null,this.mistContainer=new d.Object3D,this.mistContainer.position.x=130,this.mistContainer.position.y=160,this.mistContainer.position.z=-160,this.view3d.add(this.mistContainer),this.animMesh=new l.getMesh,this.mistContainer.add(this.animMesh)};c.prototype=Object.create(o.prototype),window.iceblocks=[],c.prototype.reset=function(e){this.target=e,this.target.freezePowerup=this.freeze,this.life=0,this.view3d.position.x=0,window.iceblocks.push(this),(window.iceblock=this).ice.position.x=0,this.ice.position.z=0,this.mistAnim.gotoAndStop(0),this.mistAnim.gotoAndPlay(0),l.setUvs(this.animMesh,this.mistAnim.texture),this.animMesh.visible=!0,this.shaking=!1},c.prototype.shake=function(){this.shaking=!0},c.prototype.remove=function(){this.target.freezePowerup=null,this.target.view3d.remove(this.view3d),h.wait(this.returnToPool)},c.prototype.update=function(){if(l.setUvs(this.animMesh,this.mistAnim.texture),this.shaking){this.ice.position.x=10*Math.random()*2-10,this.ice.position.z=10*Math.random()*2-10}this.view3d.rotation.x=window.test-Math.PI}}.call(t,p,t,e))||(e.exports=i)},function(e,t,c){"use strict";var i;void 0===(i=function(e,t,i){c(0),c(27),c(3),c(14);function Xkh(){this.item=null,this.timer=new n(10,r.game),this.timer.onComplete.add(this.stop,this),this.tick=0,this.firetrailTextures=o.getTexturesFromFrames(["fire_trail_01.png","fire_trail_02.png","fire_trail_03.png","fire_trail_04.png"]),this.fireballTextures=o.getTexturesFromFrames(["fireball_01.png","fireball_02.png","fireball_03.png","fireball_04.png","fireball_05.png","fireball_06.png","fireball_07.png","fireball_08.png","fireball_09.png","fireball_10.png"]),this.fireball=new u.Object3D,this.fireball.position.x=10,this.fireball.position.y=-30,this.fireball.position.z=20,this.fireball.rotation.x=window.test-Math.PI,this.fireball.scale.x=this.fireball.scale.y=this.fireball.scale.z=.24,this.fireballAnim=a.getMesh("homing_electric_01.png",.5,.5),this.fireballAnim.material.opacity=.5,this.fireball.add(this.fireballAnim),this.firetrailContainer=new u.Object3D,this.firetrail=new u.Object3D,this.firetrail.position.x=220,this.firetrail.position.y=-20,this.firetrail.position.z=20,this.firetrail.rotation.x=window.test-Math.PI,window.firetrail=this.firetrail,this.firetrailAnim=a.getMesh("fire_trail_01.png",.5,.5),this.firetrail.add(this.firetrailAnim),this.firetrailContainer.add(this.firetrail)}var n=c(41),r=c(4),a=c(21),o=c(29),s=c(320),l=c(30),u=c(12),h=l.PLAYER_STATE,d=[];Xkh.displayName="STR_POWERUP_FIREBALL",Xkh.prototype.reset=function(e){this.item=e,this.dead=!1,this.timer.start();var t=this.item.world.game.ball;t.isTeamA=e.isTeamA,t.onFire=!0,t.fireBall=this;var i=t.owner;if(i&&i.isTeamA!==e.isTeamA){if(i.ballSkills.ball){var n=Math.random()*Math.PI*2;i.ballSkills.pass(Math.sin(n),Math.cos(n),5,10)}}else i&&this.addFireTrail(i);t.view3d.add(this.fireball),SoundManager.sfx.play("sfx_fireball")},Xkh.prototype.setPlayerOnFire=function(e){var t=new s;(t.item=e).world.view3d.scene.add(t.cloud),d.push(t);var i=new n(3,r.game);i.onComplete.add(this.stopPlayerOnFire.bind(this,e)),i.start()},Xkh.prototype.stopPlayerOnFire=function(e){for(var t=d.length-1;0<=t;t--){var i=d[t];if(i.item===e)return i.item.world.view3d.scene.remove(i.cloud),i.item.setState(h.IDLE),void d.splice(t,1)}},Xkh.prototype.addFireTrail=function(e){this.removeFireTrail(),e.view3d.add(this.firetrailContainer),this.firetrailAnim.player=e,this.firetrailContainer.scale.x=-this.firetrailAnim.player.view3d.flipContainer.scale.x},Xkh.prototype.removeFireTrail=function(e){this.firetrailAnim.player&&this.firetrailAnim.player.view3d.remove(this.firetrailContainer)},Xkh.prototype.update=function(){for(var e=0;e<d.length;e++){var t=d[e];t.update(t.item)}this.firetrailAnim.player&&(this.firetrailContainer.scale.x=-this.firetrailAnim.player.view3d.flipContainer.scale.x),this.tick+=.2,a.setUvs(this.fireballAnim,this.fireballTextures[this.tick%this.fireballTextures.length|0],.5,.5),a.setUvs(this.firetrailAnim,this.firetrailTextures[this.tick%this.firetrailTextures.length|0],.5,.5)},Xkh.prototype.stop=function(){this.dead=!0,this.removeFireTrail();var e=this.item.world.game.ball;e.onFire=!1,e.view3d.remove(this.fireball);for(var t=0;t<d.length;t++){var i=d[t];i.item.world.view3d.scene.remove(i.cloud),i.item.setState(h.IDLE)}d.length=0},i.exports=Xkh}.call(t,c,t,e))||(e.exports=i)},function(e,t,s){"use strict";var i;void 0===(i=function(e,t,i){s(0),s(27),s(3),s(14);function Dlh(){this.id="Shrinkatron",this.item=null,this.timer=new n(5,r.game),this.timer.onComplete.add(this.stop,this),this.stars=[],this.starsPerPlayer=3,this.count=0}var n=s(41),r=s(4),a=s(21),o=s(30).PLAYER_STATE;Dlh.displayName="STR_POWERUP_SHRINKATRON",Dlh.prototype.reset=function(e){this.item=e,this.dead=!1,this.timer.start(),(e.isTeamA?e.world.game.teamLeft:e.world.game.teamRight).run(function(e){e.isShrink=!0,e.originalScale=e.view3d.scale.x,e.view3d.scale.x=e.view3d.scale.y=e.view3d.scale.z=.12,e.stars=[];for(var t=0;t<this.starsPerPlayer;t++){var i=a.getMesh("dizzy_star.png",.5,.5);i.visible=!1,e.view3d.add(i),e.stars.push(i),this.stars.push(i)}if(e.ballSkills.ball){var n=Math.random()*Math.PI*2;e.ballSkills.pass(Math.sin(n),Math.cos(n),5,10)}},this),(e.isTeamA?e.world.game.teamRight:e.world.game.teamLeft).run(function(e){e.canBeTackled=!1},this),SoundManager.sfx.play("sfx_shrink")},Dlh.prototype.update=function(){this.count+=.1;for(var e=0;e<this.stars.length;e++){var t=this.stars[e];if(t.visible){var i=2*Math.PI/this.starsPerPlayer;t.rotation.x=window.test-Math.PI,t.rotation.y=1,t.position.x=50*Math.sin(this.count+i*e)+0,t.position.y=50*Math.cos(this.count+i*e)+500}}},Dlh.prototype.stop=function(){this.dead||(this.dead=!0,(this.item.isTeamA?this.item.world.game.teamLeft:this.item.world.game.teamRight).run(function(e){for(var t=0;t<e.stars.length;t++)e.view3d.remove(e.stars[t]);e.isShrink=!1,e.view3d.reticle.visible=!0,e.view3d.scale.x=e.view3d.scale.y=e.view3d.scale.z=e.originalScale,e.state===o.FREEZE&&e.setState(o.IDLE)},this),(this.item.isTeamA?this.item.world.game.teamRight:this.item.world.game.teamLeft).run(function(e){e.canBeTackled=!0},this))},i.exports=Dlh}.call(t,s,t,e))||(e.exports=i)},function(e,t,l){"use strict";var i;void 0===(i=function(e,t,i){l(0),l(27),l(3),l(14);function imh(){this.item=null,this.timer=new n(5,r.game),this.timer.onComplete.add(this.stop,this),this.tick=0,this.electricTextures=o.getTexturesFromFrames(["homing_electric_01.png","homing_electric_02.png","homing_electric_03.png","homing_electric_04.png","homing_electric_05.png","homing_electric_06.png","homing_electric_07.png"]),this.homingTextures=o.getTexturesFromFrames(["homing_01.png","homing_02.png","homing_03.png"]),this.electric=new s.Object3D,this.electric.position.x=6,this.electric.position.y=-30,this.electric.position.z=20,this.electric.rotation.x=window.test-Math.PI,this.electric.scale.x=this.electric.scale.y=this.electric.scale.z=.24,this.electricAnim=a.getMesh("lightning_03.png",.5,.5),this.electric.add(this.electricAnim),this.homing=new s.Object3D,this.homing.position.x=26,this.homing.position.y=-20,this.homing.position.z=20,this.homing.rotation.x=window.test-Math.PI,this.homing.scale.x=this.homing.scale.y=this.homing.scale.z=.24,this.homingAnim=a.getMesh("homing_01.png",.5,.5),this.homing.add(this.homingAnim)}var n=l(41),r=l(4),a=l(21),o=l(29),s=l(12);imh.displayName="STR_POWERUP_REMOTEBALL",imh.prototype.reset=function(e){this.item=e,this.dead=!1,this.timer.start();var t=this.item.world.game.ball;t.remoteBall=!0,t.isTeamA=e.isTeamA,t.view3d.add(this.electric),t.view3d.add(this.homing),window.electric=this.electric,window.homing=this.homing,SoundManager.sfx.play("sfx_homing")},imh.prototype.update=function(){this.tick+=.2,a.setUvs(this.electricAnim,this.electricTextures[this.tick%this.electricTextures.length|0],.5,.5),a.setUvs(this.homingAnim,this.homingTextures[this.tick%this.homingTextures.length|0],.5,.5)},imh.prototype.stop=function(e){this.dead=!0;var t=this.item.world.game.ball;t.remoteBall=!1,t.view3d.remove(this.electric),t.view3d.remove(this.homing)},i.exports=imh}.call(t,l,t,e))||(e.exports=i)},function(e,t,i){"use strict";var n;void 0===(n=function(e,t,i){function umh(){this.item=null}umh.customIcon="pickup-coin.png",umh.noMessage=!0,umh.onlyPlayer=!0,umh.isCoin=!0,umh.prototype.reset=function(e){var t=app.game.world.view3d.toScreenPosition(e);app.game.animateCoin(t,15)},umh.prototype.update=function(){},umh.prototype.stop=function(){},i.exports=umh}.call(t,i,t,e))||(e.exports=n)},function(e,t,s){"use strict";var i;void 0===(i=function(e,t,i){function Imh(){this.id="Snowball",this.item=null,this.snowmans=[],this.timer=new n(6,r.game),this.timer.onComplete.add(this.stop,this)}var n=s(41),r=s(4),a=s(48),o=s(645);Imh.displayName="STR_POWERUP_SNOWBALL",Imh.prototype.reset=function(e){((this.item=e).isTeamA?e.world.game.teamLeft:e.world.game.teamRight).run(function(e){if(e.snowballPowerup&&e.snowballPowerup.stop(),e.ballSkills.ball){var t=Math.random()*Math.PI*2;e.ballSkills.pass(Math.sin(t),Math.cos(t),5,10),this.snowmanPlayer(e)}},this);var t=this.item.world.game.ball;t.isTeamA=e.isTeamA,t.onSnow=!0,t.snowBall=this,t.swapBall("snow"),this.timer.start()},Imh.prototype.snowmanPlayer=function(e){e.freeze();var t=a.get(o);t.snowball=this,t.reset(e),e.view3d.add(t.view3d),this.snowmans.push(t)},Imh.prototype.update=function(){for(var e=0;e<this.snowmans.length;e++)this.snowmans[e].update()},Imh.prototype.stopSnowman=function(){for(var e=0;e<this.snowmans.length;e++)this.snowmans[e].stop()},Imh.prototype.stop=function(){var e=this.item.world.game.ball;e.onSnow=!1,e.swapBall("base")},i.exports=Imh}.call(t,s,t,e))||(e.exports=i)},function(e,t,d){"use strict";var i;void 0===(i=function(e,t,i){function gnh(){l.call(this),this.view3d=new a.Object3D,this.view3d.position.y=-40,this.view3d.rotation.x=window.test-Math.PI,this.mistAnim=new r.extras.MovieClip(h.getTexturesFromFrames(["ice_mist_01.png","ice_mist_02.png","ice_mist_03.png","ice_mist_04.png","ice_mist_05.png","ice_mist_06.png","ice_mist_07.png","ice_mist_08.png","ice_mist_09.png"])),this.mistAnim.animationSpeed=.2,this.mistAnim.loop=!1,this.mistAnim.onComplete=function(){this.mistAnimMesh.visible=!1,this.isEnding&&this.remove()}.bind(this),this.powderAnim=new r.extras.MovieClip(h.getTexturesFromFrames(["smoke_01.png","smoke_02.png","smoke_03.png","smoke_04.png","smoke_05.png","smoke_06.png","smoke_07.png","smoke_08.png","smoke_09.png","smoke_10.png","smoke_11.png","smoke_12.png","smoke_13.png","smoke_14.png","smoke_15.png","smoke_16.png"])),this.powderAnim.animationSpeed=.25,this.powderAnim.loop=!1,this.powderAnim.onComplete=function(){this.powderAnimMesh.visible=!1,this.isEnding&&this.remove()}.bind(this);var e=u.getMesh("banana_peel_shadow.png",0,0),t=u.getMesh("snowman_01.png",0,0),i=u.getMesh("snowman_02.png",0,0),n=u.getMesh("snowman_03.png",0,0);this.snowmanContainer=new a.Object3D,this.snowmanContainer.add(e),this.snowmanContainer.add(t),this.snowmanContainer.add(i),this.snowmanContainer.add(n),this.view3d.add(this.snowmanContainer),e.position.y=-25,e.position.x=8,e.position.z=-10,e.material.opacity=.4,t.position.y=-150,t.position.x=0,t.position.z=-11,i.position.y=-265,i.position.x=0,i.position.z=-12,n.position.y=-353,n.position.x=-45,n.position.z=-13,this.target=null,this.isEnding=!1,this.vfxContainer=new a.Object3D,this.vfxContainer.position.x=160,this.vfxContainer.position.y=135,this.vfxContainer.position.z=-180,this.view3d.add(this.vfxContainer),this.mistAnimMesh=new u.getMesh,this.mistAnimMesh.visible=!1,this.powderAnimMesh=new u.getMesh,this.vfxContainer.add(this.mistAnimMesh),this.vfxContainer.add(this.powderAnimMesh),this.shakeTimer=new o(2,s.game),this.shakeTimer.onComplete.add(this.shake,this),this.shakingTimer=new o(1.5,s.game),this.shakingTimer.onComplete.add(this.complete,this)}var r=d(0),a=d(12),o=d(41),s=d(4),l=d(28),u=d(21),h=d(29),n=d(67);(gnh.prototype=Object.create(l.prototype)).reset=function(e){this.target=e,this.target.snowballPowerup=this.snowball,this.target.hidePlayerView(),this.snowmanContainer.visible=!0,this.view3d.position.x=0,this.powderAnim.gotoAndPlay(0),u.setUvs(this.mistAnimMesh,this.mistAnim.texture),u.setUvs(this.powderAnimMesh,this.powderAnim.texture),this.powderAnimMesh.visible=!0,this.shaking=!1,this.isEnding=!1,this.shakeTimer.start(),SoundManager.sfx.play("sfx_snowball")},gnh.prototype.stop=function(){this.target.showPlayerView(),this.snowmanContainer.visible=!1,this.shakeTimer.stop(),this.shakingTimer.stop()},gnh.prototype.remove=function(){this.target.snowballPowerup=null,this.target.view3d.remove(this.view3d),n.wait(this.returnToPool)},gnh.prototype.shake=function(){this.shaking=!0,this.shakingTimer.start()},gnh.prototype.complete=function(){this.target.showPlayerView(),this.snowmanContainer.visible=!1,this.isEnding=!0,this.powderAnim.gotoAndPlay(0),this.powderAnimMesh.visible=!0,this.target.reset(!0),SoundManager.sfx.play("tackle_hit_deck")},gnh.prototype.update=function(){if(u.setUvs(this.mistAnimMesh,this.mistAnim.texture),u.setUvs(this.powderAnimMesh,this.powderAnim.texture),this.shaking){this.snowmanContainer.position.x=10*Math.random()*2-10,this.snowmanContainer.position.z=10*Math.random()*2-10}this.view3d.rotation.x=window.test-Math.PI},i.exports=gnh}.call(t,d,t,e))||(e.exports=i)},function(module,exports,__webpack_require__){"use strict";var __WEBPACK_AMD_DEFINE_FACTORY__,__WEBPACK_AMD_DEFINE_RESULT__,nnh;nnh=function(){var win=window,_limit=null,requests=0,request_stack=[],getXHR=function(){return win.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP")},version2=""===getXHR().responseType,qwest=function qwest(method,url,data,options,before){data=data||null,options=options||{};var typeSupported=!1,xhr=getXHR(),async=void 0===options.async||!!options.async,cache=options.cache,type=options.type?options.type.toLowerCase():"json",user=options.user||"",password=options.password||"",headers={"X-Requested-With":"XMLHttpRequest"},accepts={xml:"application/xml, text/xml",html:"text/html",json:"application/json, text/javascript",js:"application/javascript, text/javascript"},toUpper=function(e,t,i){return t+i.toUpperCase()},vars="",i,j,parseError="parseError",serialized,success_stack=[],error_stack=[],complete_stack=[],response,_success,_error,func,promises={success:function(e){return async?success_stack.push(e):_success&&e.apply(xhr,[response]),promises},error:function(e){return async?error_stack.push(e):_error&&e.apply(xhr,[response]),promises},complete:function(e){return async?complete_stack.push(e):e.apply(xhr),promises}},promises_limit={success:function(e){return request_stack[request_stack.length-1].success.push(e),promises_limit},error:function(e){return request_stack[request_stack.length-1].error.push(e),promises_limit},complete:function(e){return request_stack[request_stack.length-1].complete.push(e),promises_limit}},handleResponse=function handleResponse(){var i,req,p;if(--requests,request_stack.length){for(req=request_stack.shift(),p=qwest(req.method,req.url,req.data,req.options,req.before),i=0;func=req.success[i];++i)p.success(func);for(i=0;func=req.error[i];++i)p.error(func);for(i=0;func=req.complete[i];++i)p.complete(func)}try{if(!/^2/.test(xhr.status))throw xhr.status+" ("+xhr.statusText+")";var responseText="responseText",responseXML="responseXML";if(typeSupported&&void 0!==xhr.response)response=xhr.response;else switch(type){case"json":try{response=win.JSON?win.JSON.parse(xhr[responseText]):eval("("+xhr[responseText]+")")}catch(e){throw"Error while parsing JSON body"}break;case"js":response=eval(xhr[responseText]);break;case"xml":if(!xhr[responseXML]||xhr[responseXML][parseError]&&xhr[responseXML][parseError].errorCode&&xhr[responseXML][parseError].reason)throw"Error while parsing XML body";response=xhr[responseXML];break;default:response=xhr[responseText]}if(_success=!0,async)for(i=0;func=success_stack[i];++i)func.apply(xhr,[response])}catch(e){if(_error=!0,response="Request to '"+url+"' aborted: "+e,async)for(i=0;func=error_stack[i];++i)func.apply(xhr,[response])}if(async)for(i=0;func=complete_stack[i];++i)func.apply(xhr)};if(_limit&&requests==_limit)return request_stack.push({method:method,url:url,data:data,options:options,before:before,success:[],error:[],complete:[]}),promises_limit;if(++requests,win.ArrayBuffer&&(data instanceof ArrayBuffer||data instanceof Blob||data instanceof Document||data instanceof FormData))"GET"==method&&(data=null);else{var values=[],enc=encodeURIComponent;for(i in data)void 0!==data[i]&&values.push(enc(i)+(data[i].pop?"[]":"")+"="+enc(data[i]));data=values.join("&"),serialized=!0}if("GET"==method&&(vars+=data),null==cache&&(cache="POST"==method),cache||(vars&&(vars+="&"),vars+="__t="+Date.now()),vars&&(url+=(/\?/.test(url)?"&":"?")+vars),xhr.open(method,url,async,user,password),type&&version2)try{xhr.responseType=type,typeSupported=xhr.responseType==type}catch(e){}for(i in version2?xhr.onload=handleResponse:xhr.onreadystatechange=function(){4==xhr.readyState&&handleResponse()},headers)j=i.replace(/(^|-)([^-])/g,toUpper),headers[j]=headers[i],delete headers[i],xhr.setRequestHeader(j,headers[j]);return!headers["Content-Type"]&&serialized&&"POST"==method&&xhr.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),headers.Accept||xhr.setRequestHeader("Accept",accepts[type]),before&&before.apply(xhr),xhr.send("POST"==method?data:null),promises};return{get:function(e,t,i,n){return qwest("GET",e,t,i,n)},post:function(e,t,i,n){return qwest("POST",e,t,i,n)},xhr2:version2,limit:function(e){_limit=e}}}(),void 0===(__WEBPACK_AMD_DEFINE_RESULT__="function"==typeof(__WEBPACK_AMD_DEFINE_FACTORY__=nnh)?__WEBPACK_AMD_DEFINE_FACTORY__.call(exports,__webpack_require__,exports,module):__WEBPACK_AMD_DEFINE_FACTORY__)||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(e,t,i){"use strict";var x={cipher:function(e,t){for(var i=t.length/4-1,n=[[],[],[],[]],r=0;r<16;r++)n[r%4][Math.floor(r/4)]=e[r];n=x.addRoundKey(n,t,0,4);for(var a=1;a<i;a++)n=x.subBytes(n,4),n=x.shiftRows(n,4),n=x.mixColumns(n,4),n=x.addRoundKey(n,t,a,4);n=x.subBytes(n,4),n=x.shiftRows(n,4),n=x.addRoundKey(n,t,i,4);var o=new Array(16);for(r=0;r<16;r++)o[r]=n[r%4][Math.floor(r/4)];return o},keyExpansion:function(e){for(var t=e.length/4,i=6+t,n=new Array(4*(1+i)),r=new Array(4),a=0;a<t;a++){var o=[e[4*a],e[4*a+1],e[4*a+2],e[4*a+3]];n[a]=o}for(a=t;a<4*(1+i);a++){n[a]=new Array(4);for(var s=0;s<4;s++)r[s]=n[a-1][s];if(a%t==0){r=x.subWord(x.rotWord(r));for(s=0;s<4;s++)r[s]^=x.rCon[a/t][s]}else 6<t&&a%t==4&&(r=x.subWord(r));for(s=0;s<4;s++)n[a][s]=n[a-t][s]^r[s]}return n},subBytes:function(e,t){for(var i=0;i<4;i++)for(var n=0;n<t;n++)e[i][n]=x.sBox[e[i][n]];return e},shiftRows:function(e,t){for(var i=new Array(4),n=1;n<4;n++){for(var r=0;r<4;r++)i[r]=e[n][(r+n)%t];for(r=0;r<4;r++)e[n][r]=i[r]}return e},mixColumns:function(e,t){for(var i=0;i<4;i++){for(var n=new Array(4),r=new Array(4),a=0;a<4;a++)n[a]=e[a][i],r[a]=128&e[a][i]?e[a][i]<<1^283:e[a][i]<<1;e[0][i]=r[0]^n[1]^r[1]^n[2]^n[3],e[1][i]=n[0]^r[1]^n[2]^r[2]^n[3],e[2][i]=n[0]^n[1]^r[2]^n[3]^r[3],e[3][i]=n[0]^r[0]^n[1]^n[2]^r[3]}return e},addRoundKey:function(e,t,i,n){for(var r=0;r<4;r++)for(var a=0;a<n;a++)e[r][a]^=t[4*i+a][r];return e},subWord:function(e){for(var t=0;t<4;t++)e[t]=x.sBox[e[t]];return e},rotWord:function(e){for(var t=e[0],i=0;i<3;i++)e[i]=e[i+1];return e[3]=t,e},sBox:[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],rCon:[[0,0,0,0],[1,0,0,0],[2,0,0,0],[4,0,0,0],[8,0,0,0],[16,0,0,0],[32,0,0,0],[64,0,0,0],[128,0,0,0],[27,0,0,0],[54,0,0,0]],Ctr:{}};x.Ctr.encrypt=function(e,t,i){if(128!=i&&192!=i&&256!=i)return"";e=S.encode(e),t=S.encode(t);for(var n=i/8,r=new Array(n),a=0;a<n;a++)r[a]=isNaN(t.charCodeAt(a))?0:t.charCodeAt(a);var o=x.cipher(r,x.keyExpansion(r));o=o.concat(o.slice(0,n-16));var s=new Array(16),l=(new Date).getTime(),u=l%1e3,h=Math.floor(l/1e3),d=Math.floor(65535*Math.random());for(a=0;a<2;a++)s[a]=u>>>8*a&255;for(a=0;a<2;a++)s[a+2]=d>>>8*a&255;for(a=0;a<4;a++)s[a+4]=h>>>8*a&255;var c="";for(a=0;a<8;a++)c+=String.fromCharCode(s[a]);for(var p=x.keyExpansion(o),f=Math.ceil(e.length/16),m=new Array(f),_=0;_<f;_++){for(var g=0;g<4;g++)s[15-g]=_>>>8*g&255;for(g=0;g<4;g++)s[15-g-4]=_/4294967296>>>8*g;var v=x.cipher(s,p),y=_<f-1?16:(e.length-1)%16+1,b=new Array(y);for(a=0;a<y;a++)b[a]=v[a]^e.charCodeAt(16*_+a),b[a]=String.fromCharCode(b[a]);m[_]=b.join("")}var w=c+m.join("");return w=T.encode(w)},x.Ctr.decrypt=function(e,t,i){if(128!=i&&192!=i&&256!=i)return"";e=T.decode(e),t=S.encode(t);for(var n=i/8,r=new Array(n),a=0;a<n;a++)r[a]=isNaN(t.charCodeAt(a))?0:t.charCodeAt(a);var o=x.cipher(r,x.keyExpansion(r));o=o.concat(o.slice(0,n-16));var s=new Array(8);ctrTxt=e.slice(0,8);for(a=0;a<8;a++)s[a]=ctrTxt.charCodeAt(a);for(var l=x.keyExpansion(o),u=Math.ceil((e.length-8)/16),h=new Array(u),d=0;d<u;d++)h[d]=e.slice(8+16*d,8+16*d+16);e=h;var c=new Array(e.length);for(d=0;d<u;d++){for(var p=0;p<4;p++)s[15-p]=d>>>8*p&255;for(p=0;p<4;p++)s[15-p-4]=(d+1)/4294967296-1>>>8*p&255;var f=x.cipher(s,l),m=new Array(e[d].length);for(a=0;a<e[d].length;a++)m[a]=f[a]^e[d].charCodeAt(a),m[a]=String.fromCharCode(m[a]);c[d]=m.join("")}var _=c.join("");return _=S.decode(_)};var T={code:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e,t){t=void 0!==t&&t;var i,n,r,a,o,s,l,u,h=[],d="",c=T.code;if(0<(s=(l=t?e.encodeUTF8():e).length%3))for(;s++<3;)d+="=",l+="\0";for(s=0;s<l.length;s+=3)n=(i=l.charCodeAt(s)<<16|l.charCodeAt(s+1)<<8|l.charCodeAt(s+2))>>18&63,r=i>>12&63,a=i>>6&63,o=63&i,h[s/3]=c.charAt(n)+c.charAt(r)+c.charAt(a)+c.charAt(o);return u=(u=h.join("")).slice(0,u.length-d.length)+d},decode:function(e,t){t=void 0!==t&&t;var i,n,r,a,o,s,l,u,h=[],d=T.code;u=t?e.decodeUTF8():e;for(var c=0;c<u.length;c+=4)i=(s=d.indexOf(u.charAt(c))<<18|d.indexOf(u.charAt(c+1))<<12|(a=d.indexOf(u.charAt(c+2)))<<6|(o=d.indexOf(u.charAt(c+3))))>>>16&255,n=s>>>8&255,r=255&s,h[c/4]=String.fromCharCode(i,n,r),64==o&&(h[c/4]=String.fromCharCode(i,n)),64==a&&(h[c/4]=String.fromCharCode(i));return l=h.join(""),t?l.decodeUTF8():l}},S={encode:function(e){var t=e.replace(/[\u0080-\u07ff]/g,function(e){var t=e.charCodeAt(0);return String.fromCharCode(192|t>>6,128|63&t)});return t=t.replace(/[\u0800-\uffff]/g,function(e){var t=e.charCodeAt(0);return String.fromCharCode(224|t>>12,128|t>>6&63,128|63&t)})},decode:function(e){var t=e.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(e){var t=(15&e.charCodeAt(0))<<12|(63&e.charCodeAt(1))<<6|63&e.charCodeAt(2);return String.fromCharCode(t)});return t=t.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(e){var t=(31&e.charCodeAt(0))<<6|63&e.charCodeAt(1);return String.fromCharCode(t)})}};e.exports=x},function(e,t,i){"use strict";function mqh(e){this.game=e,this.active=!1,this.ticker=new r,this.ticker.add(this.update,this,1)}var n=i(67),r=i(4);i(13);mqh.prototype.run=function(e,t){r.game.stop(),this.ticker.start(),this.active=!0,this.result=t,this.player=e,0===t&&e.chargeBar.showText("STR_SUPERSHOT_WEAK"),1===t&&e.chargeBar.showText("STR_SUPERSHOT_PERFECT"),2===t&&(e.chargeBar.showText("STR_SUPERSHOT_MISS"),e.chargeBar.frame.texture=PIXI.Texture.fromFrame("shoot-charge-frame-miss.png")),n.wait(this.onFinish.bind(this),60)},mqh.prototype.update=function(){this.player.chargeBar.update()},mqh.prototype.onFinish=function(){this.active&&(this.game.active=!0,this.ticker.stop(),1===this.result?this.game.scripts.super.run(this.player):r.game.start())},mqh.prototype.reset=function(){this.active=!1,this.ticker.stop()},e.exports=mqh},function(e,t,i){"use strict";function wqh(e){this.game=e,this.active=!1,this.firstRun=!0,this.runID=0}var r=i(6),a=i(13),o=i(15);wqh.prototype.run=function(e,t,i){var n=this;this.game.pitch.showLogo(),this.game.active=!1,this.active=!0,this.runID++,this.game.movieBorders.show(),this.left=t;var r=this.game.ball;r.setActive(!1),r.body.velocity.x=0,r.body.velocity.y=0,r.body.position.x=.5*this.game.pitchWidth,r.body.position.y=.5*this.game.pitchHeight,e&&this.firstRun?(this.game.ballPicker.onBallPickerHidden.addOnce(function(){o.instance.desktop||(n.game.controller.enable(),n.game.controller.show()),n.game.ballPicker.displayedBallId!==n.game.app.ballsSystem.activeBall.id&&n.game.app.ballsSystem.selectBall(n.game.ballPicker.displayedBallId,!0),n.go()}),this.game.wait.wait(40,function(){o.instance.desktop||(this.game.controller.disable(),this.game.controller.hide()),this.game.ballPicker.animate()},this),t?(this.game.teamManagerA.resetPositions(!0),this.game.teamManagerB.resetPositions(!1)):(this.game.teamManagerA.resetPositions(!1),this.game.teamManagerB.resetPositions(!0))):(t?(this.game.teamManagerA.resetPositions(!0,!0),this.game.teamManagerB.resetPositions(!1,!0)):(this.game.teamManagerA.resetPositions(!1,!0),this.game.teamManagerB.resetPositions(!0,!0)),this.go(i))},wqh.prototype.go=function(e){var t=100;window.URLParams.waitTime&&(t=parseInt(window.URLParams.waitTime));var i=t/4;0===this.game.goalsA&&0===this.game.goalsB&&(this.game.wait.wait(i,function(){this.game.hud.showBigScreen("kickoff")},this),i+=t);var n=this.runID;this.game.wait.wait(i-.2,function(){this.game.hud.hudBigContent.visible&&this.game.hud.hideBigScreen(),this.active&&n===this.runID&&(this.game.hud.message.show(r.MESSAGE_ID.WHISTLE),TweenLite.delayedCall(.3,function(){a.sfx.play("whistle_full_time")}))},this),i+=t,this.game.wait.wait(i,function(){this.active&&n===this.runID&&(this.game.movieBorders.hide(),this.game.ball.setActive(!0),this.game.pitch.hideLogo(),this.left?this.game.teamManagerA.go():this.game.teamManagerB.go(),e&&this.game.hud.message.show("POWERUP",{name:"STR_GAME_RESTART"}),this.active=!1,this.game.active=!0)},this),this.firstRun=!1},wqh.prototype.update=function(){},wqh.prototype.reset=function(){this.active=!1,this.firstRun=!0},e.exports=wqh},function(e,t,s){"use strict";var i;void 0===(i=function(e,t,i){function Sqh(){n.Container.call(this),this.onFinish=new r,this.bg=new n.Graphics,this.bg.beginFill(64767),this.bg.drawRect(0,0,1136,852),this.addChild(this.bg),this.tear1=n.Sprite.from("super-shot-bg-tear-1.png"),this.tear1.anchor.set(.5),this.addChild(this.tear1),this.tear2=n.Sprite.from("super-shot-bg-tear-2.png"),this.tear2.anchor.set(.5),this.tear2.x=2e3,this.addChild(this.tear2),this.rushBackground=new a,this.addChild(this.rushBackground),this.item=new n.Sprite,this.addChild(this.item),this.item.anchor.set(1),this.item.scale.set(1.5),this.visible=!1,this.pos=new n.Point,this.top=n.Sprite.from("super-shot-bg-border-2.png"),this.top.height=20,this.top.anchor.set(.5,0),this.addChild(this.top),this.bottom=n.Sprite.from("super-shot-bg-border-1.png"),this.bottom.height=20,this.bottom.anchor.set(.5,1),this.addChild(this.bottom)}var n=s(0),r=s(3),a=s(651),o=s(4);(Sqh.prototype=Object.create(n.Container.prototype)).show=function(e){e.super?(this.item.texture=n.Texture.from(e.super),this.item.alpha=1):(alert("Super move image missing for "+e.id),this.item.alpha=0),this.visible=!0,this.item.x=0,this.item.y=this.h-20,this.item.height=this.h-40,this.item.scale.x=this.item.scale.y,TweenLite.to(this.item,1.6,{x:this.w+1.5*this.item.width,onComplete:function(){this.onFinish.dispatch(),this.visible=!1},onCompleteScope:this,delay:.2,ease:Power3.easeIn})},Sqh.prototype.updateTransform=function(){this.rushBackground.update(this.pos),this.containerUpdateTransform();this.tear1.x-=60*o.instance.deltaTime,this.tear1.x<-1e3&&(this.tear1.x=this.w+1e3),this.tear2.x-=60,this.tear2.x<-1e3&&(this.tear2.x=this.w+1e3)},Sqh.prototype.resize=function(e,t){this.w=e,this.h=t,this.bg.width=e,this.bg.height=t,this.top.width=e,this.top.x=e/2,this.bottom.x=e/2,this.bottom.width=e,this.bottom.y=t,this.tear1.height=t-40,this.tear1.scale.x=this.tear1.scale.y,this.tear1.y=t/2,this.tear2.height=t-40,this.tear2.scale.x=this.tear2.scale.y,this.tear2.y=t/2,this.rushBackground.w=e,this.rushBackground.h=t},i.exports=Sqh}.call(t,s,t,e))||(e.exports=i)},function(e,t,n){"use strict";var i;void 0===(i=function(e,t,i){function grh(e,t,i){a.Container.call(this),this.particals=[],this.particalPool=new o(u),this.max=a.isWebGL?80:5,this.overallScale=i||1,s.instance.isMobile&&(this.max=a.isWebGL?60:10),this.count=0;for(var n=this.pos=0;n<this.max;n++){var r=this.particalPool.getObject();r.home.x=-1136*Math.random(),r.position.y=r.home.y=110640*Math.random(),r.speed=new a.Point(5+10*Math.random(),0),r.speed.x*=-5,this.particals.push(r),this.addChild(r)}this.w=e||1136,this.h=t||740,this.focalLength=150}var a=n(0),o=n(48),s=n(15),l=n(4);(grh.prototype=Object.create(a.Container.prototype)).update=function(e){if(this.visible)for(var t=0;t<this.particals.length;t++){var i=this.particals[t],n=(this.focalLength,this.focalLength,i.z);n=this.focalLength/(this.focalLength+i.z);i.scale.x=i.scale.y=.5*n*i.scaleOffset*this.overallScale,i.home.x+=i.speed.x*l.instance.deltaTime,i.home.y+=i.speed.y*l.instance.deltaTime,i.position.y=(i.home.y-e.y)*n*.5,i.position.x=(i.home.x-e.x)*n*.5;i.position.x+=300*l.instance.deltaTime;var r=this.w+600;i.position.x%=r,i.position.x<0&&(i.position.x+=r),i.position.x-=300*l.instance.deltaTime,i.position.y%=this.h,i.position.y<0&&(i.position.y+=this.h)}},grh.prototype.resize=function(e){};var u=function ParticalTicker(){var e=Math.round(6*Math.random());a.Sprite.call(this,a.Texture.fromFrame(ParticalTicker.frames[e])),this.anchor.set(.5),this.scaleOffset=1+Math.random(),this.z=-50*Math.random()-50,this.rotation=0,this.home=new a.Point};u.frames=["super-shot-bg-smear-1.png","super-shot-bg-dot-1.png","super-shot-bg-dot-2.png","super-shot-bg-dot-3.png","super-shot-bg-dot-4.png","super-shot-bg-dot-5.png","super-shot-bg-dot-6.png"],u.prototype=Object.create(a.Sprite.prototype),i.exports=grh}.call(t,n,t,e))||(e.exports=i)},function(e,t,i){"use strict";i(139);function Brh(e){this.game=e,this.active=!1}var n=i(4),r=i(13);Brh.prototype.run=function(e){this.game.active=!1,this.active=!0,this.game.movieBorders.show(),this.game.app.topMenu.setState("empty"),n.game.stop(),this.game.superMove.onFinish.addOnce(this.onFinish,this),this.game.superMove.show(e.data),r.sfx.play(e.data.superSound),this.game.vignette.alpha=0},Brh.prototype.onFinish=function(){this.active&&(this.game.app.topMenu.setState("game"),n.game.start(),r.sfx.play("big_kick"))},Brh.prototype.reset=function(){this.game.active=!0,this.active=!1},e.exports=Brh},function(e,t,i){"use strict";function Prh(i,e,t){this.game=i,this.team=e,this.teamBad=t,this.enableShoot(),this.enablePass(),this.enableTackle(),this.enableSignal(),this.state=x.DEFENDING,this.human=!1,(window.team=this).blockMove=!1,this.goal=null,this.firstGo=!1,this.constrainPlayer=!1,this.team.children[0].DEBUG=!0,this.team.run(function(e){var t=this;e.balanceManager=i,e.signals.onBallRecieved.add(this.onPlayerRecievedBall,this),e.signals.onBallLost.add(this.onPlayerLostBall,this),e.signals.onBallShot.add(function(){t.lastShotCharacterId=e.data.id})},this),this.teamBad.run(function(e){e.signals.onBallRecieved.add(this.onPlayerBadRecievedBall,this),e.signals.onBallLost.add(this.onPlayerBadLostBall,this)},this),this.game.keeperLeft.signals.onBallRecieved.add(this.onKeeperRecievedBall,this),this.game.keeperRight.signals.onBallRecieved.add(this.onKeeperRecievedBall,this),this.game.keeperLeft.signals.onBallLost.add(this.onKeeperLostBall,this),this.game.keeperRight.signals.onBallLost.add(this.onKeeperLostBall,this),this.debug=new n.Text("HI MUM"),this.signCount=0}var n=i(0),v=i(30),y=i(318),b=i(654),w=i(655),x=(i(3),v.TEAM_STATE),r=v.PLAYER_STATE;(Prh.constructor=Prh).prototype.setSide=function(e){this.left!==e&&((this.left=e)?(this.team.children[0].startPosition.set(300,100),this.team.children[1].startPosition.set(200,300),this.team.children[2].startPosition.set(100,400),this.goal=this.game.goalRight,this.keeper=this.game.keeperRight,this.balanceData=this.game.balanceManager.teamA):(this.team.children[0].startPosition.set(700,100),this.team.children[1].startPosition.set(600,300),this.team.children[2].startPosition.set(500,400),this.goal=this.game.goalLeft,this.keeper=this.game.keeperLeft,this.balanceData=this.game.balanceManager.teamB),this.keeper.balanceData=this.balanceData,this.team.children[0].balanceData=this.balanceData,this.team.children[1].balanceData=this.balanceData,this.team.children[2].balanceData=this.balanceData)},Prh.prototype.show=function(e,t,i){this.team.children[e].show(),this.resetPlayerAt(this.team.children[e],t,i)},Prh.prototype.hide=function(e,t,i){this.team.children[e].hide(),this.resetPlayerAt(this.team.children[e],t,i)},Prh.prototype.hideAll=function(e){for(var t=0;t<this.team.children.length;t++)this.team.children[t].hide(),this.resetPlayerAt(this.team.children[t],50,50)},Prh.prototype.showAll=function(e){for(var t=0;t<this.team.children.length;t++)this.team.children[t].show()},Prh.prototype.setTeam=function(e){for(var t=0;t<this.team.children.length;t++)this.team.children[t].setData(e[t])},Prh.prototype.resetPositions=function(e,t){var i=this.team.children;this.setState(x.KICK_OFF),this.setPlayer(null),e?t?(this.resetPlayerAt(i[0],.2,.4),this.resetPlayerAt(i[1],.2,.6),this.resetPlayerAt(i[2],.45,.5)):(i[0].reset(),i[1].reset(),i[2].reset(),i[0].position.set(800,50),i[1].position.set(800,50),i[2].position.set(800,50),this.movePlayerTo(i[0],.2,.4),this.movePlayerTo(i[1],.2,.6),this.movePlayerTo(i[2],.45,.5)):t?(this.resetPlayerAt(i[0],.15,.4),this.resetPlayerAt(i[1],.15,.6),this.resetPlayerAt(i[2],.38,.5)):(i[0].reset(),i[1].reset(),i[2].reset(),i[0].position.set(800,50),i[1].position.set(800,50),i[2].position.set(800,50),this.movePlayerTo(i[0],.15,.4),this.movePlayerTo(i[1],.15,.6),this.movePlayerTo(i[2],.38,.5))},Prh.prototype.go=function(){this.firstGo=!0,this.setState(x.DEFENDING),this.team.children[2].movement.direction.x=1,this.team.children[2].movement.direction.y=0},Prh.prototype.happy=function(){this.setState(x.SCORED)},Prh.prototype.sad=function(){this.setState(x.LOST)},Prh.prototype.stopActivePlayer=function(){this.activePlayer&&this.human&&this.activePlayer.stop()},Prh.prototype.moveActivePlayerInDirection=function(e,t){this.activePlayer&&this.human&&(this.blockMove?this.activePlayer.moveInDirection(0,0):this.constrainPlayer?this.ConstrainActivePlayerInDirection(e,t):this.activePlayer.moveInDirection(e,t))},Prh.prototype.ConstrainActivePlayerInDirection=function(e,t){if(this.activePlayer&&this.human){var i=this.activePlayer.position.x/this.game.pitchWidth,n=this.activePlayer.position.y/this.game.pitchHeight;(i<.4&&1!==e||.6<i&&-1!==e)&&(e=-e),(n<.4&&1!==t||.6<n&&-1!==t)&&(t=-t),this.activePlayer.moveInDirection(e,t)}},Prh.prototype.setPlayer=function(e,t){this.activePlayer!==e&&(this.activePlayer&&(this.activePlayer.stop(),this.activePlayer.auto=!0),(this.activePlayer=e)&&this.human&&(e.auto=!1,e.stop(),!e.ballSkills.ball&&t&&e.view3d.reticle.blink()))};var a={};a[x.ATTACKING]="attack",a[x.TUTORIAL_PASS]="t-attack",a[x.TUTORIAL_IDLE]="t-idle",a[x.DEFENDING]="defending",a[x.ATTACK_IDLE]="attack_idle",a[x.KICK_OFF]="kickoff",a[x.DEFEND_IDLE]="defend_idle",a[x.SCORED]="scored",a[x.LOST]="lost",Prh.prototype.setState=function(e){this.state!==e&&(this.debug.text="state "+a[e],this.makeDecision=!0,e===x.SCORED?this.team.run(function(e){e.win()}):e===x.LOST&&this.team.run(function(e){e.lose()}),e===x.ATTACKING||e===x.DEFENDING?this.keeper.active=!0:this.keeper.active=!1,this.state=e)},Prh.prototype.actionBegin=function(){var e=this;if(this.shoot=!1,this.tackle=!1,this.pass=!1,this.didPass=!1,this.activePlayer)if(this.game.ball.owner===this.activePlayer){if(this.game.ball.remoteBall&&this.game.ball.isTeamA===this.activePlayer.isTeamA)return this.activePlayer.shootBegin(this.goal),void this.activePlayer.shootRelease(this.goal);this.timer=setTimeout(function(){e.canShoot&&e.game.ball.owner===e.activePlayer&&(e.shoot=!0,SoundManager.sfx.play("power_up_charge"),e.activePlayer.shootBegin(e.goal))},250)}else{this.tackle=!0;var t=y(this.activePlayer,this.teamBad);this.canTackle&&this.activePlayer.slideTackle(t.dx,t.dy,10)}},Prh.prototype.passControl=function(){if(this.activePlayer.ballSkills.ball.active){var e=y(this.activePlayer,this.team);e.player&&e.player.state!==v.PLAYER_STATE.HIDE?this.activePlayer.ballSkills.passTo(e.player):this.activePlayer.ballSkills.pass(e.dx,e.dy,10),this.game.stats.passTotal++,this.didPass=!0}},Prh.prototype.actionEnd=function(){clearTimeout(this.timer),this.activePlayer&&(this.shoot&&this.canShoot&&this.activePlayer.shootRelease(this.goal),this.shoot||this.tackle||!this.canPass||this.passControl(),this.shoot=!1,this.tackle=!1,this.pass=!1)},Prh.prototype.actionOneShootBegin=function(){this.canShoot&&this.activePlayer.shootBegin(this.goal)},Prh.prototype.actionOneShootEnd=function(){this.canShoot&&this.activePlayer.shootRelease(this.goal)},Prh.prototype.actionTwoPassTackleBegin=function(){this.canPass&&((e=y(this.activePlayer,this.team)).player&&e.player.state!==v.PLAYER_STATE.HIDE?this.activePlayer.ballSkills.passTo(e.player):this.activePlayer.ballSkills.pass(e.dx,e.dy,10));if(this.canTackle&&(!this.activePlayer||!this.activePlayer.ball)){var e=y(this.activePlayer,this.teamBad);this.activePlayer.slideTackle(e.dx,e.dy,10)}},Prh.prototype.update=function(){var e=this.game.pitchWidth,t=(this.game.pitchHeight,this.team),i=this.team.getIndex(this.activePlayer),n=this.activePlayer,r=t.getItem((i+1)%3),a=t.getItem((i+2)%3);if(this.state===x.DEFENDING){this.makeDecision&&(this.makeDecision=!1);var o=this.team.getItem(0),s=this.team.getItem(1),l=this.team.getItem(2);this.game.ball.position.x>.4*e?(this.movePlayerTo(o,.5,.5),this.movePlayerTo(s,.3,.6),this.movePlayerTo(l,.2,.4)):this.game.ball.position.x>.5*e?(this.movePlayerTo(o,.8,.5),this.movePlayerTo(s,.5,.6),this.movePlayerTo(l,.3,.4)):(this.movePlayerTo(o,.8,.5),this.movePlayerTo(s,.7,.4),this.movePlayerTo(l,.5,.4)),(m=b(this.game.ball,this.team)).player.movement.turnMultiplier=.2*this.balanceData.turnMultiplier,m.player.chaseDown(this.game.ball);var u=w(this.game.ball,this.activePlayer,this.team,this.left);this.setPlayer(u.player,!0)}else if(this.state!==x.TUTORIAL_IDLE)if(this.state===x.TUTORIAL_TACKLE)this.human||(this.team.getItem(1).moveTo(n.position.x,n.position.y),this.team.getItem(1).moveTo(this.game.ball.position.x,this.game.ball.position.y),this.team.getItem(1).chaseDown(this.game.ball));else if(this.state===x.ATTACKING){var h=this.team.getItem(0),d=this.team.getItem(1),c=this.team.getItem(2);if(this.human)if(this.game.ball.position.x<.3*e)this.movePlayerTo(h,.5,.4),this.movePlayerTo(c,.2,.75),this.movePlayerTo(d,.2,.25);else{if(this.left)var p=Math.max(n.position.x,.8*e),f=n.position.x-200;else p=Math.min(n.position.x,.2*e),f=n.position.x+200;n.position.y<450?a.moveTo(p,n.position.y+160+100):a.moveTo(p,n.position.y-160-50),r.moveTo(f,n.position.y+160)}else{if(a.moveTo(n.position.x,n.position.y-160-100),r.moveTo(n.position.x+200,n.position.y+160),this.signCount+=.02,this.movePlayerTo(n,.81,.5+.1*Math.sin(this.signCount)),n.passWait++,n.ballSkills.ball){var m=b(this.game.ball,this.teamBad);30<n.passWait&&this.agro<.4&&m.len<100&&this.passToPlayer(a)}if(a.position.x>n.position.x&&r.position.x>n.position.x&&n.position.x<500&&(n.passWait=0),n.position.x<this.percentFromGoal(.2)){var _=this.game.pitchHeight;n.position.y>.25*_&&n.position.y<.75*_?n.shootRelease(this.goal):this.passToPlayer(a)}else 90<n.passWait?this.passToPlayer(.5<Math.random()?a:r):40<n.passWait&&a.position.x<this.activePlayer.position.x&&this.passToPlayer(a);if(!this.game.ball.owner)(m=b(this.game.ball,this.team)).player.movement.turnMultiplier=.2*this.balanceData.turnMultiplier,m.player.chaseDown(this.game.ball)}}else if(this.state===x.DEFEND_IDLE){o=this.team.getItem(0),s=this.team.getItem(1),l=this.team.getItem(2);this.movePlayerTo(o,.2,.5),this.movePlayerTo(s,.3,.3),this.movePlayerTo(l,.6,.4)}else if(this.state===x.ATTACK_IDLE){o=this.team.getItem(0),s=this.team.getItem(1),l=this.team.getItem(2);this.movePlayerTo(o,.4,.5),this.movePlayerTo(s,.6,.3),this.movePlayerTo(l,.6,.2)}if(this.human&&(this.team.run(function(e){e.view3d.reticle.flashing=!1},this),n&&n.ballSkills.ball)){var g=y(this.activePlayer,this.team);g.player&&g.player.state!==v.PLAYER_STATE.HIDE&&(g.player.view3d.reticle.flashing=!0)}},Prh.prototype.passToPlayer=function(e){this.canPass&&e!==this.activePlayer&&e.state!==r.FALL&&this.activePlayer.ballSkills.passTo(e)},Prh.prototype.resetPlayerAtByIndex=function(e,t,i){this.left?(this.team.children[e].position.x=this.game.pitchWidth*t,this.team.children[e].position.y=this.game.pitchHeight*i):(this.team.children[e].position.x=this.game.pitchWidth*(1-t),this.team.children[e].position.y=this.game.pitchHeight*(1-i)),this.team.children[e].reset()},Prh.prototype.resetPlayerAt=function(e,t,i){this.left?(e.position.x=this.game.pitchWidth*t,e.position.y=this.game.pitchHeight*i):(e.position.x=this.game.pitchWidth*(1-t),e.position.y=this.game.pitchHeight*(1-i)),e.reset()},Prh.prototype.movePlayerTo=function(e,t,i){e.movement.turnMultiplier=1,e.movingTo=!1,e.ballSkills.ball||(e.movingTo=!0),this.left?e.moveTo(this.game.pitchWidth*t,this.game.pitchHeight*i):e.moveTo(this.game.pitchWidth*(1-t),this.game.pitchHeight*(1-i))},Prh.prototype.onPlayerRecievedBall=function(e){if(this.game.timer.isOn||this.game.timer.start(!0),(this.state!==x.TUTORIAL_IDLE||this.activePlayer!==e)&&this.state!==x.TUTORIAL_IDLE){if((.5<Math.random()||this.firstGo)&&(this.firstGo=!1,!this.human)){var t=this.team,i=t.getIndex(e),n=t.getItem((i+1)%3),r=t.getItem((i+2)%3),a=Math.random();.25<a&&(.75<a?this.passToPlayer(n):this.passToPlayer(r))}this.agro=Math.random(),this.setPlayer(e),this.setState(x.ATTACKING),this.didPass&&this.game.stats.passSuccess++}},Prh.prototype.onPlayerLostBall=function(e){if(this.didPass=!1,this.state!==x.TUTORIAL_IDLE){var t=.5*this.game.pitchWidth;this.left?this.game.ball.position.x<t&&this.setState(x.DEFENDING):this.game.ball.position.x>t&&this.setState(x.DEFENDING);for(var i=0;i<this.team.children.length;i++)this.team.children[i].chaseWait=0}},Prh.prototype.percentFromGoal=function(e){return this.left&&(e=1-e),this.game.pitchWidth*e},Prh.prototype.onPlayerBadRecievedBall=function(e){this.didPass=!1;var t=b(this.game.ball,this.team);this.setPlayer(t.player,!0),this.state!==x.TUTORIAL_IDLE&&this.setState(x.DEFENDING)},Prh.prototype.onPlayerBadLostBall=function(e){this.state,x.TUTORIAL_IDLE},Prh.prototype.onKeeperRecievedBall=function(e){this.didPass=!1,e===this.keeper?this.setState(x.ATTACK_IDLE):this.setState(x.DEFEND_IDLE)},Prh.prototype.onKeeperLostBall=function(e){this.setState(x.DEFENDING)},Prh.prototype.enableShoot=function(){this.canShoot=!0},Prh.prototype.disableShoot=function(){this.canShoot=!1,this.activePlayer&&this.activePlayer.ballSkills.ball&&(this.activePlayer.ballSkills.ball.chargeEffect.setRatio(0),this.activePlayer.chargeBar.hide(),this.activePlayer.world.game.speed=1,SoundManager.sfx.stop("power_up_charge"))},Prh.prototype.enablePass=function(){this.canPass=!0},Prh.prototype.disablePass=function(){this.canPass=!1},Prh.prototype.enableTackle=function(){this.canTackle=!0},Prh.prototype.disableTackle=function(){this.canTackle=!1},Prh.prototype.enableSignal=function(){this.listenSignal=!0},Prh.prototype.disableSignal=function(){this.listenSignal=!1},e.exports=Prh},function(e,t,i){"use strict";var c=i(30).PLAYER_STATE,p={dx:0,dy:0,player:null};e.exports=function(e,t){for(var i,n=t.children,r=1/0,a=n[0],o=0,s=0,l=0;l<n.length;l++)if((i=n[l])!==e&&i.state!==c.FALL){var u=i.position.x-e.position.x,h=i.position.y-e.position.y,d=Math.sqrt(u*u+h*h);u/=d,h/=d,d<r&&(o=u,s=h,a=i,r=d)}return p.dx=o,p.dy=s,p.len=r,p.player=a,p}},function(e,t,i){"use strict";var p=i(30).PLAYER_STATE,f={dx:0,dy:0,player:null};e.exports=function(e,t,i){for(var n,r=i.children,a=1/0,o=r[0],s=0,l=0,u=0;u<r.length;u++)if((n=r[u]).state!==p.FALL){var h=n.position.x-e.position.x,d=n.position.y-e.position.y,c=Math.sqrt(h*h+d*d);h/=c,d/=c,n===t&&(c-=100),c<a&&(s=h,l=d,o=n,a=c)}return f.dx=s,f.dy=l,f.player=o,f}},function(e,t,o){"use strict";var i;void 0===(i=function(e,t,i){function ouh(e){this.game=e,this.view=this.game.view,this.view.interactive=!0,this.view.buttonMode=!0;var t=PIXI.Sprite.from("joystick-back.png");t.anchor.set(.5);var i=PIXI.Sprite.from("joystick.png");i.anchor.set(.5);var n={background:t,stick:i};this.analogueStick=new r(n),this.analogueStick.view.scale.set(1.5),this.movementPointer=PIXI.Sprite.fromFrame("pointer2.png"),this.movementPointer.anchor.set(.5),this.movementPointer.scale.set(1/this.analogueStick.view.scale.x),this.movementPointer.y=20,this.movementPointer.alpha=0,this.analogueStick.view.addChild(this.movementPointer),this.buttonOne=new ActionButton({downFrame:"touch-button-hit.png",upFrame:"touch-button.png"}),this.buttonOne.view.scale.set(1.5),this.buttonOne.setActionFrame("touch-button.png"),this.buttonOne.addCallbacks(function(){this.lockSpace||this.game.teamManagerA.actionBegin()},function(){this.lockSpace||this.game.teamManagerA.actionEnd()},this),this.buttonPointer=PIXI.Sprite.fromFrame("pointer2.png"),this.buttonPointer.anchor.set(.5),this.buttonPointer.scale.set(1/this.buttonOne.view.scale.x),this.buttonPointer.y=20,this.buttonPointer.alpha=0,this.buttonOne.view.addChild(this.buttonPointer),this.view.addChild(this.analogueStick.view),this.view.addChild(this.buttonOne.view),this.view.on("touchstart",this.moveAnalogueStick,this),this.view.on("touchend",this.resetAnalogueStick,this),this.resetCounter=0}var r=o(657),n=o(658),a=new PIXI.Point;ouh.prototype.hide=function(){var e=this;TweenLite.to(this.analogueStick.view,.2,{alpha:0,onComplete:function(){e.analogueStick.view.visible=!1}}),TweenLite.to(this.buttonOne,.2,{alpha:0,onComplete:function(){e.buttonOne.visible=!1}})},ouh.prototype.show=function(){this.analogueStick.view.visible=!0,this.buttonOne.visible=!0,TweenLite.to(this.analogueStick.view,.2,{alpha:1}),TweenLite.to(this.buttonOne,.2,{alpha:1})},ouh.prototype.disable=function(){this.view.interactive=!1},ouh.prototype.enable=function(){this.view.interactive=!0},ouh.prototype.update=function(){this.analogueStick.update();var e=this.game.teamManagerA,t=this.analogueStick.delta;0<t.x&&this.lockRight&&(t.x=0),t.x<0&&this.lockLeft&&(t.x=0),t.y<0&&this.lockUp&&(t.y=0),0<t.y&&this.lockDown&&(t.y=0),e.moveActivePlayerInDirection(t.x,-t.y),0<this.resetCounter&&(this.resetCounter--,0===this.resetCounter&&this.analogueStick.view.position.set(200,this.h-200))},ouh.prototype.resize=function(e,t){this.w=e,this.h=t,this.analogueStick.view.position.set(200,this.h-200),this.buttonOne.view.position.set(e-200,t-200)},ouh.prototype.resetAnalogueStick=function(e){e.data.identifier===this.analogueStickId&&(this.analogueStick.up.call(this.analogueStick,e),this.resetCounter=60)},ouh.prototype.moveAnalogueStick=function(e){this.resetCounter=-1,this.movementPointer.alpha=0;var t=e.data.getLocalPosition(this.view,a);t.x<this.w/2&&(this.analogueStickId=e.data.identifier,this.analogueStick.view.position.x=parseInt(t.x)||0,this.analogueStick.view.position.y=parseInt(t.y)||0,this.analogueStick.pad._events.touchstart.fn.call(this.analogueStick,e))};function ActionButton(e){e=e||{},n.call(this),this.sprite=PIXI.Sprite.from(e.downFrame),this.sprite.anchor.set(.5),this.addChild(this.sprite),this.interactiveChildren=!1,this.view.hitArea=new PIXI.Circle(0,0,80),this.actionFrame=new PIXI.Sprite,this.actionFrame.anchor.set(.5),this.addChild(this.actionFrame),this.downFrame=PIXI.Sprite.from(e.downFrame),this.downFrame.anchor.set(.5),this.downFrame.alpha=0,this.addChild(this.downFrame),this.isDown=!1,this.onDown.add(function(){this.isDown=!0,this.sprite.texture=PIXI.Texture.fromFrame(e.downFrame)},this),this.onUp.add(function(){this.isDown=!1,this.sprite.texture=PIXI.Texture.fromFrame(e.upFrame)},this)}(ActionButton.prototype=Object.create(n.prototype)).setActionFrame=function(e){this.actionFrame.texture=PIXI.Texture.fromFrame(e)},ActionButton.prototype.addCallbacks=function(e,t,i){this.onDown.add(e,i),this.onUp.add(t,i)},i.exports=ouh}.call(t,o,t,e))||(e.exports=i)},function(e,t,r){"use strict";var i;void 0===(i=function(e,t,i){function Vuh(e){e=e||{},this.view=new n.Container,this.view.hitArea=new n.Rectangle(0,0,1e4,1e4),this.view.interactive=!0,this.dot=e.background||(new n.Graphics).beginFill(16711680,.4).drawCircle(0,0,70),this.view.addChild(this.dot),this.pad=e.stick||(new n.Graphics).beginFill(16711680).drawCircle(0,0,50),this.pad.interactive=!0,e.stick||(this.pad.hitArea=new n.Circle(0,0,60)),this.pad.alpha=.6,this.view.addChild(this.pad),this.range=30,this.pad.on("mousedown",this.down,this),this.view.on("mouseup",this.up,this),this.view.on("mouseupoutside",this.up,this),this.pad.on("touchstart",this.down,this),this.view.on("touchend",this.up,this),this.view.on("touchendoutside",this.up,this),this.delta=new n.Point}var n=r(0),a=(r(14),new n.Point);Vuh.prototype.update=function(e){},Vuh.prototype.down=function(e){this.view.hitArea=this.hit,this.moveId=e.data.identifier,this.isDown=!0;e.data.getLocalPosition(this.view,a);this.pad.alpha=1,this.view.on("mousemove",this.move,this),this.view.on("touchmove",this.move,this)},Vuh.prototype.up=function(e){if(this.view.hitArea=null,this.moveId===e.data.identifier){this.moveId=99999999,this.isDown=!1;e.data.getLocalPosition(this.view,a);this.pad.x=0,this.pad.y=0,this.pad.alpha=.6,this.delta.x=0,this.delta.y=0,this.view.off("mousemove",this.move,this),this.view.off("touchmove",this.move,this)}},Vuh.prototype.move=function(e){if(this.moveId===e.data.identifier){var t=e.data.getLocalPosition(this.view,a);this.pad.x=t.x,this.pad.y=t.y;var i=t.x,n=t.y,r=Math.sqrt(i*i+n*n);i/=r,n/=r,r>this.range&&(r=this.range),this.pad.x=i*r,this.pad.y=n*r,this.delta.x=i*r/30,this.delta.y=n*r/30}},i.exports=Vuh}.call(t,r,t,e))||(e.exports=i)},function(e,t,a){"use strict";var i;void 0===(i=function(e,t,i){function ovh(e){r.Container.call(this),this.view=this,e&&this.addChild(e),this.onPress=new n,this.onDown=new n,this.onUp=new n,this.onHover=new n,this.onOut=new n,this.mousedown=this.touchstart=this.onDown.dispatch.bind(this,this),this.mouseup=this.touchend=this.onUp.dispatch.bind(this,this),this.click=this.tap=this.onPress.dispatch.bind(this,this),this.mouseover=this.onHover.dispatch.bind(this,this),this.touchendoutside=this.mouseupoutside=this.mouseout=this.onOut.dispatch.bind(this,this),this.onDown.add(this.down,this),this.onUp.add(this.up,this),this.onHover.add(this.hover,this),this.onOut.add(this.out,this),this._scale=new r.Point,this.enable()}var n=a(3),r=a(0);((ovh.prototype=Object.create(r.Container.prototype)).constructor=ovh).prototype.setSize=function(e){switch(e){case"small":this.scale.set(.5);break;case"big":this.scale.set(2);break;default:this.scale.set(1)}},ovh.prototype.enable=function(){this.interactive=!0,this.buttonMode=!0},ovh.prototype.disable=function(){this.interactive=!1,this.buttonMode=!1},ovh.prototype.down=function(e,t){},ovh.prototype.up=function(e,t){},ovh.prototype.hover=function(e,t){},ovh.prototype.out=function(e,t){},ovh.prototype.show=function(){this.visible=!0,this.enable()},ovh.prototype.hide=function(){this.disable(),this.visible=!1},i.exports=ovh}.call(t,a,t,e))||(e.exports=i)},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n=i(0),r=_interopRequireDefault(i(660)),a=i(17),o=_interopRequireDefault(i(30));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var s=o.default.TEAM_STATE,l=0,u=1,h=2,d=3,c=4,p=function(i){var e,t;function TutorialManager(e){var t;return _defineProperty(_assertThisInitialized(t=i.call(this)||this),"game",void 0),_defineProperty(_assertThisInitialized(t),"currentStep",void 0),_defineProperty(_assertThisInitialized(t),"shotCount",void 0),_defineProperty(_assertThisInitialized(t),"limitX",void 0),_defineProperty(_assertThisInitialized(t),"controller",void 0),_defineProperty(_assertThisInitialized(t),"instruction",void 0),_defineProperty(_assertThisInitialized(t),"activeShoot",void 0),_defineProperty(_assertThisInitialized(t),"activeRelease",void 0),_defineProperty(_assertThisInitialized(t),"_onGoalScored",void 0),_defineProperty(_assertThisInitialized(t),"_onBallRecievedHUMANTACKLE",void 0),_defineProperty(_assertThisInitialized(t),"_onBallRecievedPass",void 0),_defineProperty(_assertThisInitialized(t),"_onBallRecievedB",void 0),_defineProperty(_assertThisInitialized(t),"_onPickUp",void 0),t.currentStep=0,t.shotCount=0,t.game=e,t.controller=e.controller,t.instruction=new r.default,t.addChild(t.instruction),t.activeShoot=!1,t.activeRelease=!1,t._onGoalScored=t.onGoalScored.bind(_assertThisInitialized(t)),t._onBallRecievedHUMANTACKLE=t.onBallRecievedHUMANTACKLE.bind(_assertThisInitialized(t)),t._onBallRecievedPass=t.onBallRecievedPass.bind(_assertThisInitialized(t)),t._onBallRecievedB=t.onBallRecievedB.bind(_assertThisInitialized(t)),t._onPickUp=t.onPickup.bind(_assertThisInitialized(t)),t}t=i,(e=TutorialManager).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=TutorialManager.prototype;return n.start=function(){var e=this;this.game.reset(),this.instruction.reset(),this.currentStep=0,this.shotCount=0,this.activeShoot=!1,this.activeRelease=!1,this.updateStep(),this.instruction.updateStep(),setTimeout(function(){e.instruction.show()},1900),setTimeout(function(){"GAME"===e.game.app.screenManager.currentScreen.id&&(e.game.app.topMenu.skipButtonActive=!0,"pause"!==e.game.app.topMenu.state&&(e.game.app.topMenu.skipButton.visible=!0))},5e3),CES.dispatch(a.EventKeys.TUTORIAL_STARTED)},n.next=function(){this.currentStep++,this.updateStep()},n.prev=function(){this.currentStep--,this.updateStep()},n.updateStep=function(){var e=this;switch(CES.dispatch(a.EventKeys.TUTORIAL_STEP_ADVANCED,{step:this.currentStep}),this.currentStep){case l:this.game.app.topMenu.skipButton.visible=!1,this.game.powerupManager.pause(),this.game.arrow.show(),this.game.pitch.hideLogo(),this.game.keeperManagerRight.hide(),this.game.keeperRight.hide(),this.game.keeperLeft.hide(),this.game.controller.lockRight=!1,this.game.controller.lockLeft=!0,this.game.controller.lockUp=!0,this.game.controller.lockDown=!0,this.game.goalLeft.disableGoal(),this.game.goalRight.disableGoal(),this.game.teamManagerA.hideAll(),this.game.teamManagerA.setState(s.TUTORIAL_IDLE),this.game.teamManagerA.show(2,.35,.5),this.game.teamManagerA.setPlayer(this.game.teamManagerA.team[2]),this.game.teamManagerA.go(),this.game.teamManagerA.disableTackle(),this.game.teamManagerA.disableShoot(),this.game.teamManagerA.team.children[2].signals.onBallRecieved.addOnce(this._onPickUp),this.game.arrow.opos.x=this.game.teamManagerA.team.children[2].position.x+(this.game.ball.position.x-this.game.teamManagerA.team.children[2].position.x)/2,this.game.arrow.opos.y=this.game.ball.position.y,this.game.arrow.opos.z=this.game.ball.position.z+20,this.instruction.showKeyBoard(),this.instruction.showSpace(),this.instruction.controllerView.highlightRight=!0,this.instruction.controllerView.highlightLeft=!1,this.instruction.controllerView.highlightSpace=!1,this.instruction.controllerView.disableLeft=!0,this.instruction.controllerView.disableRight=!1,this.instruction.controllerView.disableUp=!0,this.instruction.controllerView.disableDown=!0,this.instruction.controllerView.disableSpace=!0,this.game.ball.setActive(!0),this.game.teamManagerB.hideAll(),this.game.teamManagerB.setState(s.TUTORIAL_IDLE);break;case u:this.instruction.controllerView.highlightRight=!1,this.instruction.controllerView.highlightSpace=!0,this.game.controller.lockRight=!0,this.game.teamManagerA.setState(s.TUTORIAL_IDLE),this.game.teamManagerA.show(0,.62,.64),this.game.teamManagerA.show(1,.72,.5),this.game.teamManagerA.team.children[0].movement.direction.x=1,this.game.teamManagerA.team.children[0].movement.direction.y=-1,this.game.arrow.hide(),setTimeout(function(){e.game.arrow.opos.x=e.game.teamManagerA.team.children[1].position.x+(e.game.teamManagerA.team.children[2].position.x-e.game.teamManagerA.team.children[1].position.x)/2,e.game.arrow.opos.y=e.game.ball.position.y,e.game.arrow.opos.z=e.game.ball.position.z+20},100),this.game.teamManagerB.show(1,.4,.5),this.instruction.controllerView.disableLeft=!0,this.instruction.controllerView.disableRight=!0,this.instruction.controllerView.disableUp=!0,this.instruction.controllerView.disableDown=!0,this.instruction.controllerView.disableSpace=!1,this.game.teamManagerA.team.children[0].signals.onBallRecieved.addOnce(function(){e.game.teamManagerA.setPlayer(e.game.teamManagerA.team.children[0]),e.game.teamManagerA.team.children[2].moveTo(.5*e.game.pitchWidth,.3*e.game.pitchHeight)}),this.game.teamManagerA.team.children[1].signals.onBallRecieved.addOnce(this._onBallRecievedPass);break;case h:setTimeout(function(){e.game.teamManagerA.team.children[2].stop()},1300),this.game.teamManagerA.setPlayer(this.game.teamManagerA.team.children[1]),this.instruction.controllerView.highlightSpace=!1,this.game.controller.lockSpace=!0,this.game.teamManagerA.disablePass(),this.game.teamManagerB.disablePass(),this.game.teamManagerB.setState(s.TUTORIAL_TACKLE),this.instruction.controllerView.disableLeft=!0,this.instruction.controllerView.disableRight=!0,this.instruction.controllerView.disableUp=!0,this.instruction.controllerView.disableDown=!0,this.instruction.controllerView.disableSpace=!0,this.game.teamManagerB.team.children[1].signals.onBallRecieved.addOnce(this._onBallRecievedB);break;case d:this.game.teamManagerA.setState(s.TUTORIAL_IDLE),this.game.teamManagerB.setState(s.TUTORIAL_IDLE),this.game.teamManagerA.enableTackle(),this.game.teamManagerA.team.children[0].moveTo(.5*this.game.pitchWidth,.7*this.game.pitchHeight),setTimeout(function(){e.game.teamManagerB.team.children[1].moveTo(.46*e.game.pitchWidth,.5*e.game.pitchHeight)},1e3),setTimeout(function(){e.instruction.next()},2e3),this.instruction.controllerView.highlightLeft=!1,this.instruction.controllerView.highlightSpace=!0,this.instruction.controllerView.highlightMovement=!0,this.instruction.controllerView.highlightMobileLeft=!0,this.instruction.controllerView.disableLeft=!1,this.instruction.controllerView.disableRight=!1,this.instruction.controllerView.disableUp=!0,this.instruction.controllerView.disableDown=!0,this.instruction.controllerView.disableSpace=!1,this.game.controller.lockSpace=!1,this.game.controller.lockLeft=!1,this.game.controller.lockUp=!0,this.game.controller.lockDown=!0,this.game.controller.lockRight=!1,this.game.teamManagerA.team.children[1].signals.onBallRecieved.addOnce(this._onBallRecievedHUMANTACKLE);break;case c:setTimeout(function(){e.game.arrow.show(),e.game.arrow.opos.x=e.game.teamManagerA.team.children[1].position.x+200,e.game.arrow.opos.y=e.game.ball.position.y,e.game.arrow.opos.z=e.game.ball.position.z+20},100),this.instruction.controllerView.highlightLeft=!1,this.instruction.controllerView.highlightSpace=!1,this.instruction.controllerView.highlightRight=!0,this.instruction.controllerView.highlightMovement=!1,this.instruction.controllerView.highlightMobileLeft=!1,this.instruction.controllerView.disableLeft=!0,this.instruction.controllerView.disableRight=!1,this.instruction.controllerView.disableUp=!0,this.instruction.controllerView.disableDown=!0,this.instruction.controllerView.disableSpace=!0,this.game.controller.lockSpace=!0,this.game.controller.lockLeft=!0,this.game.controller.lockUp=!0,this.game.controller.lockDown=!0,this.game.controller.lockRight=!1,this.game.goalRight.onGoalScored.addOnce(this._onGoalScored)}},n.onPickup=function(){this.game.teamManagerA.constrainPlayer=!1,this.game.arrow.hide(),this.next(),this.instruction.next()},n.onBallRecievedB=function(){this.next()},n.onBallRecievedPass=function(){this.next(),this.game.arrow.hide(),this.instruction.next()},n.onBallRecievedHUMANTACKLE=function(){this.instruction.next(),this.next()},n.onGoalScored=function(){var e=this;this.game.app.topMenu.skipButtonActive=!1,this.game.app.topMenu.skipButton.visible=!1,this.instruction.controllerView.highlightSpace=!1,CES.dispatch(a.EventKeys.TUTORIAL_ENED),this.instruction.final(),this.game.arrow.hide(),setTimeout(function(){e.instruction.hide()},5e3),setTimeout(function(){LOCAL_STORAGE.store("showTutorial",!1),window.TUTORIAL=!1,CES.dispatch(a.EventKeys.GAME_MATCH_STARTED,{match_type:e.game.getMatchType()}),e.game.reset()},5600)},n.onTutorialSkipped=function(){CES.dispatch(a.EventKeys.TUTORIAL_SKIPPED),this.game.app.topMenu.skipButtonActive=!1,TweenLite.to(this.game.black,.8,{alpha:1,ease:Sine.easeOut,onComplete:this.onTutorialSkippedFadeOut,onCompleteScope:this}),this.game.arrow.hide(),this.instruction.hide()},n.onTutorialSkippedFadeOut=function(){TweenLite.to(this.game.black,.8,{alpha:0,ease:Sine.easeOut}),this.reset(),this.removeChild(this.instruction),LOCAL_STORAGE.store("showTutorial",!1),window.TUTORIAL=!1,CES.dispatch(a.EventKeys.GAME_MATCH_STARTED,{match_type:this.game.getMatchType()}),this.game.reset()},n.update=function(){if(this.instruction.update(this.controller),this.currentStep===d){var e=this.game.teamManagerA.activePlayer;if(!e)return;this.limitX&&(e.position.x>this.game.pitchWidth/2+this.limitX&&(e.position.x=this.game.pitchWidth/2+this.limitX),e.position.x<this.game.pitchWidth/2-this.limitX&&(e.position.x=this.game.pitchWidth/2-this.limitX)),e.position.y<300&&(e.position.y=300),800<e.position.y&&(e.position.y=800)}else if(this.currentStep===c){var t=this.game.teamManagerA.activePlayer;if(!t)return;.8<t.position.x/this.game.pitchWidth&&!this.activeShoot?(this.instruction.next(),this.activeShoot=!0,this.game.goalRight.enableGoal(),this.instruction.controllerView.highlightLeft=!1,this.instruction.controllerView.highlightSpace=!0,this.instruction.controllerView.highlightRight=!1,this.game.controller.lockSpace=!1,this.game.controller.lockLeft=!0,this.game.controller.lockUp=!0,this.game.controller.lockDown=!0,this.game.controller.lockRight=!0,this.instruction.controllerView.disableLeft=!0,this.instruction.controllerView.disableRight=!0,this.instruction.controllerView.disableUp=!0,this.instruction.controllerView.disableDown=!0,this.instruction.controllerView.disableSpace=!1,this.game.teamManagerA.enableShoot(),t.forceSuperShot=!0):this.activeShoot&&t.state===o.default.PLAYER_STATE.KICK_CHARGE&&!this.activeRelease?(this.activeRelease=!0,this.instruction.setStep(6),this.shotCount++,8<this.shotCount&&(t.forceSuperShot=!1)):this.activeShoot&&t.state===o.default.PLAYER_STATE.KICK_CHARGE&&this.activeRelease||this.activeShoot&&t.state!==o.default.PLAYER_STATE.KICK_CHARGE&&this.activeRelease&&(this.activeRelease=!1,t.ballSkills.ball&&this.shotCount<2?this.instruction.setStep(5):(this.instruction.hideKeyBoard(),this.instruction.hideSpace()))}},n.reset=function(){window.clearTimeout(this.timeOutTackle),this.game.teamManagerA.team.children[2].signals.onBallRecieved.remove(this._onPickUp),this.game.teamManagerA.team.children[1].signals.onBallRecieved.remove(this._onBallRecievedPass),this.game.teamManagerB.team.children[1].signals.onBallRecieved.remove(this._onBallRecievedB),this.game.teamManagerA.team.children[1].signals.onBallRecieved.remove(this._onBallRecievedHUMANTACKLE),this.game.goalRight.onGoalScored.remove(this._onGoalScored),this.currentStep=0,this.addChild(this.instruction)},n.resize=function(e,t){this.limitX=e/5,this.instruction.resize(e,t)},TutorialManager}(n.Container);t.default=p},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var r=i(0),a=_interopRequireDefault(i(661)),o=_interopRequireDefault(i(18)),s=_interopRequireDefault(i(15));_interopRequireDefault(i(11));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var n=function(t){var e,i;function Instruction(){var e;return e=t.call(this)||this,window.inst=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e),e.w=app.safeSize.width,e.h=app.safeSize.height,s.default.instance.desktop?e.data=["STR_TUTORIAL_PICKUPBALL","STR_TUTORIAL_PASS","STR_TUTORIAL_IATACKLE","STR_TUTORIAL_HUMANTACKLE","STR_TUTORIAL_RUN","STR_TUTORIAL_HUMANSHOOT","STR_TUTORIAL_KICK_CHARGE","STR_TUTORIAL_GOAL"]:e.data=["STR_TUTORIAL_PICKUPBALL","STR_MOBILE_TUTORIAL_PASS","STR_TUTORIAL_IATACKLE","STR_MOBILE_TUTORIAL_HUMANTACKLE","STR_TUTORIAL_RUN","STR_MOBILE_TUTORIAL_HUMANSHOOT","STR_MOBILE_TUTORIAL_KICK_CHARGE","STR_TUTORIAL_GOAL"],e.current=0,e.last=e.data.length-1,e.bg=new r.Sprite.from("dialogue.png"),e.bg.anchor.y=1,e.addChild(e.bg),e.controllerView=new a.default,e.controllerView.position.x=e.w/2-e.controllerView.width/2,e.controllerView.position.y=e.bg.position.y-e.controllerView.height-20,e.addChild(e.controllerView),e.text=new o.default.h1(""),e.text.maxWidth=1050,e.text.anchor.set(.5),e.text.position.x=e.w/2,e.text.position.y=40,e.addChild(e.text),e.hide(!0),e}i=t,(e=Instruction).prototype=Object.create(i.prototype),(e.prototype.constructor=e).__proto__=i;var n=Instruction.prototype;return n.resize=function(e,t){this.bg.position.y=t-10,this.bg.position.x=e/2-this.bg.width/2,this.text.position.x=e/2,this.text.position.y=this.bg.position.y-this.bg.height/2,this.controllerView.position.x=e/2,this.controllerView.position.y=this.bg.position.y-this.bg.height-this.controllerView.height+20},n.prev=function(){this.current--,this.updateStep()},n.next=function(){this.current!==this.last&&(this.current++,this.updateStep())},n.final=function(){this.current=this.last,this.updateStep()},n.setStep=function(e){this.current=e,this.updateStep()},n.updateStep=function(){this.text.setText(this.data[this.current])},n.update=function(e){this.controllerView.update(e)},n.empty=function(){this.text.text=""},n.showKeyBoard=function(){this.controllerView.showKeyBoard()},n.hideKeyBoard=function(){this.controllerView.hideKeyBoard()},n.showSpace=function(){this.controllerView.showSpace()},n.hideSpace=function(){this.controllerView.hideSpace()},n.show=function(){TweenLite.to(this.position,.3,{y:0,ease:Quad.easeOut})},n.hide=function(e){TweenLite.to(this.position,e?.001:.3,{y:this.bg.height+this.controllerView.height+20,ease:Quad.easeIn})},n.reset=function(){this.current=0,this.hideSpace(),this.hideKeyBoard(),this.hide(!0)},Instruction}(r.Container);t.default=n,e.exports=t.default},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var d=i(0),c=(_interopRequireDefault(i(311)),_interopRequireDefault(i(15)));_interopRequireDefault(i(26)),_interopRequireDefault(i(6));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var n=function(h){var e,t;function ControllerView(){var e;(e=h.call(this)||this).tick=0,e.movementTick=0,e.movementStep=0,e.mobile=!c.default.instance.desktop,e.keyboard=new d.Container;var t;if(!e.mobile){var i=d.Sprite.from("keyboard-left.png");i.anchor.set(.5),i.position.x=-70,i.position.y=70,e.keyboard.addChild(i),e.keyboard.left=i,e.keyboard.left.enabledTexture=i.texture,e.keyboard.left.disabledTexture=PIXI.Texture.from("keyboard-left-grey.png");var n=d.Sprite.from("keyboard-up.png");n.anchor.set(.5),n.position.x=0,e.keyboard.addChild(n),e.keyboard.up=n,e.keyboard.up.enabledTexture=n.texture,e.keyboard.up.disabledTexture=PIXI.Texture.from("keyboard-up-grey.png");var r=d.Sprite.from("keyboard-right.png");r.anchor.set(.5),r.position.x=70,r.position.y=70,e.keyboard.addChild(r),e.keyboard.right=r,e.keyboard.right.enabledTexture=r.texture,e.keyboard.right.disabledTexture=PIXI.Texture.from("keyboard-right-grey.png");var a=d.Sprite.from("keyboard-down.png");a.anchor.set(.5),a.position.x=0,a.position.y=70,e.keyboard.addChild(a),e.keyboard.down=a,e.keyboard.down.enabledTexture=a.texture,e.keyboard.down.disabledTexture=PIXI.Texture.from("keyboard-down-grey.png");var o=d.Sprite.from("spacebar.png");o.anchor.set(.5),o.position.x=120,o.position.y=70,e.addChild(o),e.space=o,e.space.enabledTexture=o.texture,e.space.disabledTexture=PIXI.Texture.from("spacebar-grey.png"),(l=d.Sprite.from("spacebar-hit.png")).anchor.set(.5),o.addChild(l),l.alpha=0}for(var s=0;s<e.keyboard.children.length;s++){var l,u=e.keyboard.children[s];(l=d.Sprite.from("arrow-key-hit.png")).anchor.set(.5),u.addChild(l),l.alpha=0}e.addChild(e.keyboard),e.keyboard.position.x=-120,e.mobile&&(e.pad=PIXI.Sprite.fromFrame("joystick-back.png"),e.pad.scale.set(.7),e.pad.anchor.set(.5,.5),e.pad.position.set(0,0),(t=PIXI.Sprite.fromFrame("joystick.png")).anchor.set(.5),e.pad.icon=t,e.pad.addChild(t),e.oneTouchButton=PIXI.Sprite.fromFrame("touch-button.png"),e.oneTouchButton.scale.set(.7),e.oneTouchButton.anchor.set(.5,.5),e.oneTouchButton.position.set(40,0),(t=PIXI.Sprite.fromFrame("touch-button-hit.png")).anchor.set(.5),e.oneTouchButton.addChild(t));return e.hideKeyBoard(),e.hideSpace(),e}t=h,(e=ControllerView).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=ControllerView.prototype;return i.show=function(){this.alpha=1},i.hide=function(){this.alpha=0},i.showKeyBoard=function(){this.keyboard.alpha=1},i.hideKeyBoard=function(){this.keyboard.alpha=0},i.showSpace=function(){this.mobile?this.oneTouchButton.alpha=1:this.space.alpha=1},i.hideSpace=function(){this.mobile?this.oneTouchButton.alpha=0:this.space.alpha=0},i.update=function(e){if(this.mobile){this.tick+=.05,this.pad.icon.position.x=20*Math.sin(this.tick);var t=window.app.game.controller;if(this.highlightSpace&&!t.buttonOne.isDown?(t.buttonOne.downFrame.alpha=Math.abs(Math.sin(this.tick)),t.buttonPointer.alpha=1,t.buttonPointer.position.y=20+20*Math.abs(Math.sin(1.8+this.tick))):(t.buttonOne.downFrame.alpha=0,t.buttonPointer.alpha=0),this.highlightRight||this.highlightLeft||this.highlightMovement){if(!t.analogueStick.isDown)if(this.movementTick+=.03,0===this.movementStep)1<this.movementTick&&(this.movementTick=1),t.movementPointer.alpha=this.movementTick,1===this.movementTick&&(this.movementTick=0,this.movementStep++);else if(1===this.movementStep){var i=40;this.highlightMobileLeft&&(i*=-1),t.movementPointer.alpha=1,t.movementPointer.position.x=this.movementTick*i,t.analogueStick.pad.position.x=this.movementTick*i,1.5<this.movementTick&&(this.movementTick=0,this.movementStep=0,t.movementPointer.position.x=0,t.analogueStick.pad.position.x=0,t.movementPointer.alpha=0)}}else t.movementPointer.alpha=0}else this.tick+=.05,this.disableLeft?this.keyboard.left.texture=this.keyboard.left.disabledTexture:this.keyboard.left.texture=this.keyboard.left.enabledTexture,this.disableRight?this.keyboard.right.texture=this.keyboard.right.disabledTexture:this.keyboard.right.texture=this.keyboard.right.enabledTexture,this.disableUp?this.keyboard.up.texture=this.keyboard.up.disabledTexture:this.keyboard.up.texture=this.keyboard.up.enabledTexture,this.disableDown?this.keyboard.down.texture=this.keyboard.down.disabledTexture:this.keyboard.down.texture=this.keyboard.down.enabledTexture,this.disableSpace?this.space.texture=this.space.disabledTexture:this.space.texture=this.space.enabledTexture,e.keyboard.isPressed("space")&&!e.lockSpace?this.space.children[0].alpha=1:this.highlightSpace?this.space.children[0].alpha=Math.abs(Math.sin(this.tick)):this.space.children[0].alpha=0,e.keyboard.isPressed("left")&&!e.lockLeft?this.keyboard.left.children[0].alpha=1:this.highlightLeft?this.keyboard.left.children[0].alpha=Math.abs(Math.sin(this.tick)):this.keyboard.left.children[0].alpha=0,e.keyboard.isPressed("up")&&!e.lockUp?this.keyboard.up.children[0].alpha=1:this.keyboard.up.children[0].alpha=0,e.keyboard.isPressed("right")&&!e.lockRight?this.keyboard.right.children[0].alpha=1:this.highlightRight?this.keyboard.right.children[0].alpha=Math.abs(Math.sin(this.tick)):this.keyboard.right.children[0].alpha=0,e.keyboard.isPressed("down")&&!e.lockDown?this.keyboard.down.children[0].alpha=1:this.keyboard.down.children[0].alpha=0},ControllerView}(d.Container);t.default=n,e.exports=t.default},function(e,t,n){"use strict";var i;void 0===(i=function(e,t,i){n(0);function exh(e,t,i,n){var r=new s.CrashBody.fromRect(0,0,i,n);r.type=s.CrashBody.STATIC;var a=r.getDebugView();this.wall=!0,o.call(this,e,t,a,r),this.body.position=this.position,this.groups=["Wall"]}var o=n(28),s=n(27);(exh.prototype=Object.create(o.prototype)).reset=function(){},exh.prototype.update=function(){},i.exports=exh}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){"use strict";var i;void 0===(i=function(e,t,i){i.exports={World:n(664),Group:n(137),PixiView:n(665),CrashWorld:n(315)}}.call(t,n,t,e))||(e.exports=i)},function(e,t,n){"use strict";var i;void 0===(i=function(e,t,i){n(0);function Cxh(){this.allItems=new a,this.updateItems=new a,this.groups={},this.itemsToRemove=[],this.systems=[]}var a=n(137),r=n(4);(Cxh.constructor=Cxh).prototype.install=function(e,t){this.systems.push(e),e.init(this),this[t]=e},Cxh.prototype.addGroup=function(e){for(var t=0;t<e.children.length;t++)this.add(e.children[t])},Cxh.prototype.initGroups=function(e){for(var t=0;t<e.length;t++){var i=e[t],n=this.groups[i];n=n||(this.groups[i]=new a)}},Cxh.prototype.add=function(e){if(e._gc){var t=this.itemsToRemove.indexOf(e);this.itemsToRemove.splice(t,1),e._gc=!1}e.world&&this.removeItem(e),e.world=this;for(var i=0;i<this.systems.length;i++)this.systems[i].add(e);this.allItems.add(e);for(i=0;i<e.groups.length;i++){var n=e.groups[i],r=this.groups[n];(r=r||(this.groups[n]=new a)).add(e)}e.update&&this.updateItems.add(e),e.addedToWorld&&e.addedToWorld(this)},Cxh.prototype.remove=function(e){!e._gc&&e.world&&(e._gc=!0,this.itemsToRemove.push(e))},Cxh.prototype.update=function(){var e=Math.round(r.game.deltaTime/r.game.speed);2<e&&(e=2);for(var t=0;t<e;t++){this.removeItems();for(var i=0;i<this.systems.length;i++)this.systems[i].preupdate();var n=this.updateItems.children;for(i=0;i<n.length;i++)n[i].update();for(i=0;i<this.systems.length;i++)this.systems[i].update();for(i=0;i<this.systems.length;i++)this.systems[i].postupdate()}},Cxh.prototype.removeItems=function(){this.itemsToRemove.length;for(var e=0;e<this.itemsToRemove.length;e++){var t=this.itemsToRemove[e];this.removeItem(t)}this.itemsToRemove.length=0},Cxh.prototype.removeItem=function(e){e._gc=!1;for(var t=0;t<this.systems.length;t++)this.systems[t].remove(e);e.update&&this.updateItems.remove(e),e.removedFromWorld&&e.removedFromWorld(this),e.world=null,this.allItems.remove(e);for(t=0;t<e.groups.length;t++){var i=e.groups[t];this.groups[i].remove(e)}},Cxh.prototype.clear=function(){for(var e=0;e<this.systems.length;e++)this.systems[e].clear();this.allItems.empty(),this.updateItems.empty(),this.groups={},this.removeItems(),this.collisionHash={}},Cxh.prototype.find=function(e,t){if(!this.groups[e])return null;for(var i=this.groups[e].children,n=0;n<i.length;n++)if(i[n].meta.name===t)return i[n]};var o=[];Cxh.prototype.findAll=function(e,t){if(!this.groups[e])return null;for(var i=this.groups[e].children,n=o.length=0;n<i.length;n++)i[n].meta.name===t&&o.push(i[n]);return o},i.exports=Cxh}.call(t,n,t,e))||(e.exports=i)},function(e,t,r){"use strict";var i;void 0===(i=function(e,t,i){var n=r(0);n.DisplayObject.prototype.layer="default";function ryh(e){n.Container.call(this),this.innerContainer=new n.Container,this.activeItemsContainer=new n.Container,this.addChild(this.innerContainer),this.innerContainer.addChild(this.activeItemsContainer),this.filterArea=new n.Rectangle(0,0,1e6,1e6),this.layers={},this.camera=e.camera||{x:0,y:0,zoom:1},this.addLayer("back"),this.addLayer("default"),this.addLayer("front")}(ryh.prototype=Object.create(n.Container.prototype)).init=function(e){},ryh.prototype.preupdate=function(e){},ryh.prototype.update=function(){this.camera.update();var e=this.camera.zoom;this.scale.set(e),this.position.x=this.camera.viewWidth/2-this.camera.viewWidth/2*e,this.position.y=this.camera.viewHeight/2-this.camera.viewHeight/2*e,this.innerContainer.x=-this.camera.x+this.camera.viewWidth/2,this.innerContainer.y=-this.camera.y+this.camera.viewHeight/2},ryh.prototype.postupdate=function(e){},ryh.prototype.add=function(e){if(e.view){var t=e.view,i=this.layers[t.layer];(t.parent=i).children.push(e.view)}},ryh.prototype.remove=function(e){if(e.view){var t=e.view,i=this.layers[t.layer],n=i.children.indexOf(t);-1!=n&&(t.parent=null,i.children.splice(n,1))}},ryh.prototype.clear=function(){for(var e in this.layers)this.layers[e].removeChildren()},ryh.prototype.addLayer=function(e){this.layers[e]=new n.Container,this.activeItemsContainer.addChild(this.layers[e])},ryh.prototype.bringToFront=function(e){var t=this.layers[e.view.layer],i=t.children.indexOf(e.view);-1!=i&&(t.children.splice(i,1),t.children.push(e.view))},i.exports=ryh}.call(t,r,t,e))||(e.exports=i)},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var w=i(0),x=_interopRequireDefault(i(6)),T=_interopRequireDefault(i(19)),S=_interopRequireDefault(i(15)),o=i(17),M=_interopRequireDefault(i(667)),s=_interopRequireDefault(i(5)),L=_interopRequireDefault(i(26)),E=_interopRequireDefault(i(11)),l=_interopRequireDefault(i(13)),u=_interopRequireDefault(i(4)),C=i(25),h=i(32);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=function(b){var e,t;function HomeScreen(e){var t;_defineProperty(_assertThisInitialized(t=b.call(this)||this),"app",void 0),_defineProperty(_assertThisInitialized(t),"isShown",void 0),_defineProperty(_assertThisInitialized(t),"stop",void 0),_defineProperty(_assertThisInitialized(t),"tick",void 0),_defineProperty(_assertThisInitialized(t),"gdprShown",void 0),_defineProperty(_assertThisInitialized(t),"logoLoading",void 0),_defineProperty(_assertThisInitialized(t),"_previousScreenId",void 0),_defineProperty(_assertThisInitialized(t),"logo",void 0),_defineProperty(_assertThisInitialized(t),"plaque",void 0),_defineProperty(_assertThisInitialized(t),"ball",void 0),_defineProperty(_assertThisInitialized(t),"ballShadow",void 0),_defineProperty(_assertThisInitialized(t),"characters",void 0),_defineProperty(_assertThisInitialized(t),"rightCharacterColumn",void 0),_defineProperty(_assertThisInitialized(t),"leftCharacterColumn",void 0),_defineProperty(_assertThisInitialized(t),"appBanner",void 0),_defineProperty(_assertThisInitialized(t),"appBannerAnim",void 0),_defineProperty(_assertThisInitialized(t),"playButton",void 0),_defineProperty(_assertThisInitialized(t),"tournamentButton",void 0),_defineProperty(_assertThisInitialized(t),"leaderboardButton",void 0),_defineProperty(_assertThisInitialized(t),"unlockablesButton",void 0),_defineProperty(_assertThisInitialized(t),"label",void 0),_defineProperty(_assertThisInitialized(t),"gdprButton",void 0),_defineProperty(_assertThisInitialized(t),"characterBlurFilter",void 0),_defineProperty(_assertThisInitialized(t),"gdprPopup",void 0),t.app=e,t._previousScreenId=x.default.SCREEN_ID.LANGUAGE,t.isShown=!1,t.logoLoading=!1,t.logo=w.Sprite.from(w.Texture.WHITE),t.logo.anchor.set(.5),e.onLanguageChange.add(t.onLanguageChange,_assertThisInitialized(t)),t.characterBlurFilter=new w.filters.BlurXFilter,t.tick=0,t.characters=[],t.rightCharacterColumn=new w.Container;for(var i=[4,5,6],n=0;n<i.length;n++){var r=w.Sprite.from("logo_character_"+i[n]+".png"),a=0;0===n?(a=20,r.anchor.x=0):1===n?(a=165,r.anchor.x=0):2===n&&(a=370,r.anchor.x=0),r.position.y=a,r.origY=a,r.startTick=1e3*n,r.scale.set(.8),t.rightCharacterColumn.addChild(r),t.characters.push(r)}t.addChild(t.rightCharacterColumn),t.leftCharacterColumn=new w.Container,i=[1,2,3];for(var o=0;o<i.length;o++){var s=w.Sprite.from("logo_character_"+i[o]+".png"),l=0;0===o?l=-50:1===o?l=120:2===o&&(l=360),s.position.x=-s.width,l+=80,s.position.y=l,s.anchor.x=0,s.origY=l,s.startTick=2e3+1e3*o,s.scale.set(.8),t.leftCharacterColumn.addChild(s),t.characters.push(s)}if(t.addChild(t.leftCharacterColumn),t.plaque=w.Sprite.from("plaque.png"),t.plaque.anchor.set(.5),t.playButton=new L.default("button-practice.png","button-practice.png","button-practice.png",C.Translation.title_screen.quick_play,1.1,0,20,null,120),t.playButton.defaultScale=1,t.playButton.onPress.add(t.onPlayButtonPressed,_assertThisInitialized(t)),t.addChild(t.playButton),t.addChild(t.plaque),t.tournamentButton=new L.default("button-tournament.png","button-tournament.png","button-tournament.png",C.Translation.title_screen.tournament,1.1,39,null,null,220),t.tournamentButton.defaultScale=1,t.tournamentButton.onPress.add(t.onTournamentButtonPressed,_assertThisInitialized(t)),t.addChild(t.tournamentButton),t.leaderboardButton=new L.default("button-leaderboard.png","button-leaderboard.png","button-leaderboard.png",C.Translation.title_screen.leaderboard,1.1,26,null,null,220),t.leaderboardButton.defaultScale=1,t.leaderboardButton.onPress.add(t.onLeaderboardButtonPressed,_assertThisInitialized(t)),t.addChild(t.leaderboardButton),t.unlockablesButton=new L.default("button-unlockables.png","button-unlockables.png","button-unlockables.png",C.Translation.title_screen.unlockables,1.1,28,null,null,220),t.unlockablesButton.defaultScale=1,t.unlockablesButton.onPress.add(t.onunlockablesButtonPressed,_assertThisInitialized(t)),t.addChild(t.unlockablesButton),!LOCAL_STORAGE.get("seenNewUnlockables")){var u=w.Sprite.from("button-unlockables-under-glow.png"),h=w.Sprite.from("button-unlockables-notification.png");u.anchor.set(.5),h.anchor.set(.5),h.position.x=115,u.blendMode=w.BLEND_MODES.ADD,t.unlockablesButton.addChildAt(u,0),t.unlockablesButton.addChild(h),t.unlockablesButton.glow=u,t.unlockablesButton.notification=h,t.unlockablesButton.onPress.addOnce(function(){t.unlockablesButton.removeChild(u),t.unlockablesButton.removeChild(h),LOCAL_STORAGE.store("seenNewUnlockables",!0)})}t.addChild(t.logo),t.ball=w.Sprite.from("logo_ball.png"),t.ball.anchor.set(.5),t.ball.position.set(-40,-25),t.ballShadow=w.Sprite.from("logo_ball_shadow.png"),t.ballShadow.anchor.set(.5);t.ball.scale.set(1.05),t.ballShadow.scale.set(1.05),t.ballShadow.x=t.ball.x,t.ballShadow.y=t.ball.y,t.logo.addChild(t.ball),t.logo.addChild(t.ballShadow);var d=navigator.userAgent;/SM-T230/i.test(d)||/SM-T530/i.test(d)||/SM-T231/i.test(d);if((window.WEBGL||window.cordova)&&!window.URLParams.nosupport||(t.removeChild(t.playButton),t.removeChild(t.tournamentButton),t.removeChild(t.leaderboardButton),t.removeChild(t.unlockablesButton),t.removeChild(t.plaque),t.label=new E.default(C.Translation.title_screen.updateBrowser,{fill:"white",fontSize:28,fontFamily:window.MAIN_FONT,stroke:!0,strokeThickness:8,lineJoin:"round"}),t.label.anchor.set(.5),t.addChild(t.label)),window.cordova||window.URLParams.gdpr){var c={fill:"white",fontSize:28,fontFamily:window.MAIN_FONT,stroke:!1,strokeThickness:8,lineJoin:"round"};t.gdprButton=new E.default("STR_SETTINGS_PRIVACYPOLICY",c),t.gdprButton.interactive=!0,t.gdprButton.click=t.gdprButton.tap=function(){window.open(window.translations.URL_PRIVACY||"https://www.cartoonnetworkeurope.com/legal/en/#textBox_priv_a","_blank")},t.gdprButton.alpha=.8,t.addChild(t.gdprButton),(GDPR||window.URLParams.gdpr)&&(t.gdprPopup=new M.default(t.app),t.addChild(t.gdprPopup))}var p=!0;!S.default.instance.desktop&&(window.iosStore||window.androidStore)||(p=!1);var f=!!window.hideBanner;if("true"===LOCAL_STORAGE.get("hideBanner")&&(f=!0),p&&!f){t.appBannerAnim=new w.Container,t.appBanner=new w.Container,t.appBanner.scale.set(.7);var m=w.Sprite.from("banner-back.png");m.interactive=!0,m.mousedown=m.touchstart=t.bannerTouchStart.bind(_assertThisInitialized(t)),m.mouseupoutside=m.touchendoutside=t.bannerTouchCancel.bind(_assertThisInitialized(t)),m.click=m.tap=t.bannerClick.bind(_assertThisInitialized(t)),m.alpha=.8,t.appBanner.addChild(m);var _=ASSET_URL+"img/banner_"+(S.default.instance.android?"android.png":"ios.png"),g=w.Sprite.from(_);g.position.x=25,g.position.y=14,t.appBanner.addChild(g);var v=new E.default("STR_MOBILE_WEB_BANNER",{fill:"white",fontSize:34,fontFamily:window.MAIN_FONT,stroke:!0,strokeThickness:8,lineJoin:"round",wordWrap:!0,wordWrapWidth:200,align:"center",maxWidth:210});v.x=300,v.y=100,v.anchor.set(.5),t.appBanner.addChild(v);var y=new T.default("button-close.png",null,null,null,1.1);y.defaultScale=1,y.x=m.width-y.width/2+20,y.y=y.height/2-20,y.onPress.add(t.hideAppBanner,_assertThisInitialized(t)),t.appBanner.addChild(y),t.appBannerAnim.addChild(t.appBanner),t.addChild(t.appBannerAnim)}return t}t=b,(e=HomeScreen).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i,n,r,a=HomeScreen.prototype;return a.bannerTouchStart=function(){LOCAL_STORAGE.store("hideBanner",!0)},a.bannerTouchCancel=function(){LOCAL_STORAGE.store("hideBanner",!1)},a.bannerClick=function(){this.hideAppBanner();var e=S.default.instance.android?window.androidStore:window.iosStore;window.open(e,"_system")},a.hideAppBanner=function(){window.hideBanner=!0,this.removeChild(this.appBannerAnim)},a.showPrivacyPolicy=function(){this.gdprPopup.show()},a.goBackToMainSite=function(){},a.onPlayButtonPressed=function(){CES.dispatch(o.EventKeys.MENU_QUICK_MATCH_SELECTED),this.startGame(!1)},a.onTournamentButtonPressed=function(){CES.dispatch(o.EventKeys.MENU_TOURNAMENT_SELECTED),this.startGame(!0)},a.onLeaderboardButtonPressed=function(){CES.dispatch(o.EventKeys.MENU_LEADERBOARD_SELECTED),this.screenManager.gotoScreenByID(x.default.SCREEN_ID.LEADERBOARD)},a.onunlockablesButtonPressed=function(){CES.dispatch(o.EventKeys.MENU_UNLOCKABLES_SELECTED),this.app.topMenu.prevScreen=x.default.SCREEN_ID.TITLE,this.screenManager.gotoScreenByID(x.default.SCREEN_ID.UNLOCKABLES)},a.startGame=function(e){if(S.default.instance.android&&(document.body.mozRequestFullScreen?document.body.mozRequestFullScreen():document.body.webkitRequestFullScreen&&document.body.webkitRequestFullScreen()),s.default.difficulty=0,s.default.isTournament=!0===e,e){if(this.app.breadcrumb.resetSteps(),this.app.breadcrumb.show(),this.app.breadcrumb.reset(),s.default.countryID){var t=s.default.countryID.REGION;for(var i in C.Translation.regions)if(C.Translation.regions[i].REGION_ID===t){s.default.region=C.Translation.regions[i];break}}this.screenManager.gotoScreenByID(x.default.SCREEN_ID.COUNTRY_SELECT)}else{s.default.countryID||(s.default.countryID=C.Translation.countries.WS);var n=function(e){var t,i,n;for(n=e.length-1;0<n;n--)t=Math.floor(Math.random()*(n+1)),i=e[n],e[n]=e[t],e[t]=i;return e}(h.getCharacters.unlocked());s.default.teamA[0]=n[0],s.default.teamA[1]=n[1],s.default.teamA[2]=n[2],this.screenManager.gotoScreenByID(x.default.SCREEN_ID.TEAM_REVIEW)}},a.onLanguageChange=function(){var e=C.Translation.logos[window.LANGUAGE]||"en";if(this.logo.activeLanguage!==e){this.logoLoading=!0;var t=ASSET_URL+"img/content/logos/titles/logo_"+e+".png";if(this.logo.activeLanguage=e,this.logo.targetScale="ru"===window.LANGUAGE?1.3:1,w.TextureCache[t])this.swapTitleLogo(t);else{var i=new w.loaders.Loader;i.add(t),i.onComplete.add(this.swapTitleLogo.bind(this,t)),i.load()}}},a.swapTitleLogo=function(e){var t=this;TweenLite.to(this.logo.scale,.4,{x:0,y:0,ease:Linear.easeOut,onComplete:function(){t.logo.texture=w.Texture.from(e),t.ball.visible=t.ballShadow.visible="en"===window.LANGUAGE,TweenLite.to(t.logo.scale,1,{x:t.logo.targetScale,y:t.logo.targetScale,ease:Elastic.easeOut,delay:.2,onComplete:function(){t.logoLoading=!1}})}})},a.onHide=function(){this.appBannerAnim&&this.removeChild(this.appBannerAnim),this.stop=!0,TweenLite.to(this.app.dimmer,.4,{alpha:.5,ease:Sine.easeOut}),TweenLite.to(this.rightCharacterColumn,.4,{alpha:0,ease:Sine.easeOut})},a.onShow=function(){var i=this,e=LOCAL_STORAGE.get("muted");"true"!==e&&!0!==e||(l.default.music.mute(),l.default.sfx.mute()),this.isShown||CES.dispatch(o.EventKeys.APP_MAIN_MENU_LOADED),this.isShown=!0,this.appBanner&&!window.hideBanner&&(this.appBannerAnim.y=this.appBanner.height,TweenLite.to(this.appBannerAnim.position,.4,{y:0,delay:1.5,ease:Sine.easeOut}),this.addChild(this.appBannerAnim)),s.default.isTournament||(s.default.countryID=null),this.leftCharacterColumn.visible=!1,this.rightCharacterColumn.visible=!1,this.rightCharacterColumn.alpha=1,TweenLite.to(this.app.dimmer,.4,{alpha:0}),s.default.regionSelected=!1,MusicManager2.play("menumusic2"),this.logo.scale.set(0),this.playButton.scale.set(0),this.tournamentButton.scale.set(0),this.leaderboardButton.scale.set(0),this.unlockablesButton.scale.set(0),this.label?this.app.topMenu.setState("empty"):this.app.topMenu.setState("home"),this.app.breadcrumb.hide(),TweenLite.delayedCall(.4,function(){i.playButton.scale.set(.5),i.tournamentButton.scale.set(.5),i.leaderboardButton.scale.set(.5),i.leftCharacterColumn.visible=!0,i.rightCharacterColumn.visible=!0}),TweenLite.delayedCall(1.4,function(){i.playButton.scale.set(1),i.tournamentButton.scale.set(1),i.leaderboardButton.scale.set(1)}),this.logoLoading||TweenLite.to(this.logo.scale,1,{x:this.logo.targetScale,y:this.logo.targetScale,ease:Elastic.easeOut,delay:.2}),TweenLite.to(this.playButton.scale,1,{x:1,y:1,ease:Elastic.easeOut,delay:.4}),TweenLite.to(this.tournamentButton.scale,1,{x:1,y:1,ease:Elastic.easeOut,delay:.4}),TweenLite.to(this.leaderboardButton.scale,1,{x:1,y:1,ease:Elastic.easeOut,delay:.4}),TweenLite.to(this.unlockablesButton.scale,1,{x:1,y:1,ease:Elastic.easeOut,delay:.4});for(var t=function(e){var t=i.rightCharacterColumn.children[e];t.filters=S.default.instance.android?[]:[i.characterBlurFilter],t.x=0,TweenLite.to(t.position,.2,{x:-t.width,ease:Quad.easeOut,delay:.6+.2*e,onComplete:function(){t.filters=[]}})},n=0;n<this.rightCharacterColumn.children.length;n++)t(n);for(var r=function(e){var t=i.leftCharacterColumn.children[e];t.filters=S.default.instance.android?[]:[i.characterBlurFilter],t.x=-t.width,TweenLite.to(t.position,.2,{x:0,ease:Quad.easeOut,delay:.7+.2*e,onComplete:function(){t.filters=[]}})},a=0;a<this.leftCharacterColumn.children.length;a++)r(a);TweenLite.delayedCall(3,function(){i.pulseTournamentButton()})},a.onShown=function(){window.URLParams.settings&&this.app.overlayManager.show(x.default.OVERLAY_ID.SETTINGS),GDPR&&this.gdprPopup&&(this.showPrivacyPolicy(),this.gdprShown=!0,this.app.topMenu.setState("prev"),this.app.topMenu.prevScreen=x.default.SCREEN_ID.LANGUAGE,this.app.topMenu.coinBarContainer.visible=!1)},a.pulseTournamentButton=function(){var e=this;1===this.tournamentButton.scale.x&&(TweenLite.to(this.tournamentButton.scale,.2,{x:1.1,y:1.1,ease:Quad.easeOut}),TweenLite.to(this.tournamentButton.scale,.2,{x:1,y:1,delay:.2,ease:Quad.easeIn}),TweenLite.to(this.tournamentButton.scale,.2,{x:1.1,y:1.1,delay:.4,ease:Quad.easeOut}),TweenLite.to(this.tournamentButton.scale,.2,{x:1,y:1,delay:.2*3,ease:Quad.easeIn})),TweenLite.delayedCall(3.4,function(){e.pulseTournamentButton()})},a.updateTransform=function(){this.containerUpdateTransform(),this.ball&&(this.ball.rotation+=.02*u.default.instance.deltaTime);if(this.tick+=.08*u.default.instance.deltaTime,!window.URLParams.noHomeMove)for(var e=0;e<this.characters.length;e++){var t=this.characters[e];if(t.y=t.origY+18*Math.sin(t.startTick+this.tick),0<t.children.length){var i=t.children[0],n=t.children[1];i.alpha=.25*Math.sin(this.tick)+.25,n.alpha=.25*Math.sin(this.tick)+.25}}},a.resize=function(e,t){var i=this.app.screenManager.container.x/this.app.screenManager.container.scale.x,n=this.app.screenManager.container.y/this.app.screenManager.container.scale.y;if(this.logo.x=e/2,this.logo.y=t/2-150,this.plaque.position.set(e/2,t/2+600+88-155-300),this.playButton.position.set(e/2,t/2+690+88-155+10-300),this.tournamentButton.position.set(e/2,t/2+570+88-155-25-300),this.leaderboardButton.position.set(e/2-270,t/2+585+88-155-300),this.unlockablesButton.position.set(e/2+270,t/2+582+88-155-300),this.leftCharacterColumn.position.x=-i,this.leftCharacterColumn.position.y=t/2-400,this.rightCharacterColumn.position.x=e+i,this.rightCharacterColumn.position.y=t/2-400,this.appBanner&&(this.appBanner.x=e+i-360,this.appBanner.y=t+n-this.appBanner.height+20),this.label&&this.label.position.set(e/2,t/2+150),this.gdprButton){this.gdprButton.x=30-i,this.gdprButton.y=t+n-this.gdprButton.height-30}this.gdprPopup&&this.gdprPopup.resize(e,t)},i=HomeScreen,(n=[{key:"previousScreenId",get:function(){return this._previousScreenId}}])&&_defineProperties(i.prototype,n),r&&_defineProperties(i,r),HomeScreen}(w.Container);t.default=n},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var r=_interopRequireDefault(i(13)),p=i(0),f=_interopRequireDefault(i(26)),a=_interopRequireDefault(i(18)),m=_interopRequireDefault(i(11));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function ownKeys(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,n)}return i}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(i),!0).forEach(function(e){_defineProperty(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):ownKeys(Object(i)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=function(i){var e,t;function PrivacyScreen(e){var t;return _defineProperty(_assertThisInitialized(t=i.call(this)||this),"app",void 0),_defineProperty(_assertThisInitialized(t),"built",void 0),_defineProperty(_assertThisInitialized(t),"checked",void 0),_defineProperty(_assertThisInitialized(t),"darkShade",void 0),_defineProperty(_assertThisInitialized(t),"bg",void 0),_defineProperty(_assertThisInitialized(t),"checkBoxContainer",void 0),_defineProperty(_assertThisInitialized(t),"textsContainer",void 0),_defineProperty(_assertThisInitialized(t),"title",void 0),_defineProperty(_assertThisInitialized(t),"checkBoxGlow",void 0),_defineProperty(_assertThisInitialized(t),"glowBlurFilter",void 0),_defineProperty(_assertThisInitialized(t),"checkBox",void 0),_defineProperty(_assertThisInitialized(t),"confirmButton",void 0),t.app=e,t.darkShade=new p.Sprite(p.Texture.WHITE),t.darkShade.tint=0,t.darkShade.baseAlpha=.8,t.darkShade.interactive=!0,t.addChild(t.darkShade),t.bg=p.Sprite.from("panel-legal-pop-up.png"),t.bg.anchor.set(.5),t.addChild(t.bg),t.title=new a.default.h1("STR_TOU_TITLE"),t.title.upperCase=!0,t.title.anchor.set(.5),t.title.position.set(0,-310),t.bg.addChild(t.title),t.textsContainer=new p.Container,t.bg.addChild(t.textsContainer),t.checkBoxContainer=new p.Container,t.bg.addChild(t.checkBoxContainer),t.glowBlurFilter=new p.filters.BlurFilter,t.visible=!1,t.checked=!1,t}t=i,(e=PrivacyScreen).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=PrivacyScreen.prototype;return n.build=function(){var i=this;if(!this.built){var e={fill:"#493008",fontSize:20,fontFamily:"avenir",wordWrap:!0,wordWrapWidth:490,breakWords:!0,align:"ar"===window.LANGUAGE?"right":"left"},t=new m.default("STR_TOU_TEXT1",_objectSpread({},e,{fontStyle:"italic"})),n=new m.default("STR_TOU_TEXT2",e),r=new m.default("STR_TOU_TEXT3","pl"===window.LANGUAGE?_objectSpread({},e,{wordWrap:!1,maxWidth:485,fill:3902461}):_objectSpread({},e,{fill:3902461})),a=new m.default("STR_TOU_TEXT4",_objectSpread({},e,{fill:"#493008"})),o=new m.default("STR_TOU_TEXT5","pl"===window.LANGUAGE?_objectSpread({},e,{wordWrap:!1,maxWidth:485,fill:3902461}):_objectSpread({},e,{fill:3902461})),s=new m.default("STR_TOU_TEXT6",_objectSpread({},e,{fill:3902461}));r.interactive=!0,o.interactive=!0,s.interactive=!0,r.click=r.tap=function(){window.open(window.translations.URL_AUDIENCE||"https://www.cartoonnetworkeurope.com/legal/en/#textBox_analytics_a","_blank")},o.click=o.tap=function(){window.open(window.translations.URL_ADS||"https://www.cartoonnetworkeurope.com/legal/en/#textBox_ads_a","_blank")},s.click=s.tap=function(){window.open(window.translations.URL_PRIVACY||"https://www.cartoonnetworkeurope.com/legal/en/#textBox_priv_a","_blank")},this.textsContainer.addChild(t),this.textsContainer.addChild(n),this.textsContainer.addChild(r),this.textsContainer.addChild(a),this.textsContainer.addChild(o),this.textsContainer.addChild(s),this.checkBoxGlow=p.Sprite.from("gdpr-glow.png"),this.checkBoxGlow.anchor.set(.5),this.checkBoxGlow.alpha=0,this.checkBoxGlow.defaultAlpha=.6,this.checkBoxContainer.addChild(this.checkBoxGlow),this.checkBoxGlow.filters=Device.instance.android?[]:[this.glowBlurFilter],this.checkBox=p.Sprite.from("gdpr-unchecked.png"),this.checkBox.anchor.set(.5),this.checkBox.interactive=!0,this.checkBox.click=this.checkBox.tap=this.checkBoxToggle.bind(this),this.checkBoxContainer.addChild(this.checkBox),this.checkBoxContainer.position.set(-160,170),e.wordWrapWidth=320,e.fill="0x3b8bfd";var l=new m.default("STR_TOU_TEXT7",e);l.anchor.set(0,.5),l.position.set(-85,170),l.interactive=!0,l.click=l.tap=function(){window.open(window.translations.URL_TERMS||"https://www.cartoonnetworkeurope.com/legal/en/#textBox_tou_a","_blank")},this.bg.addChild(l),this.confirmButton=new f.default("button-green-long.png",null,null,"STR_CONTINUE",1.1),this.confirmButton.defaultScale=1,this.confirmButton.position.set(0,280),this.confirmButton.disable(),this.confirmButton.onPress.add(this.onConfirmButtonPressed,this),this.bg.addChild(this.confirmButton);var u=[t,n,r,a,o,s],h=this.checkBoxContainer.y-this.checkBoxContainer.height/2+265,d=function(){var e="th"===window.LANGUAGE?25:0;n.style.lineHeight=a.style.lineHeight=l.style.lineHeight=e},c=function(){var e=u.reduce(function(e,t){return e+t.height},0),t=.9*(h-e),n=Math.min(Math.max(5,t/(u.length-1)),35);u.forEach(function(e,t){var i;(i=e).x="ar"===window.LANGUAGE?250-i.width:-250,e.y=t?u[t-1].y+u[t-1].height+(5===t?n/2:n):-265}),i.textsContainer.position.y=325<e?-7:0};d(),c(),this.built=!0,this.app.onLanguageChange.add(function(){d(),c()})}},n.show=function(){this.build(),this.darkShade.alpha=0,this.visible=!0,this.bg.scale.set(0),this.checked&&this.checkBoxToggle(),TweenLite.killTweensOf(this.checkBoxGlow),this.checkBoxGlow.alpha=0,this.pulseCheckBox(),TweenLite.to(this.bg.scale,1,{x:1,y:1,ease:Elastic.easeOut}),TweenLite.to(this.darkShade,.4,{alpha:this.darkShade.baseAlpha})},n.hide=function(){var e=this;this.app.topMenu.coinBarContainer.visible=!0,TweenLite.to(this.darkShade,.2,{alpha:0}),TweenLite.to(this.bg.scale,.2,{x:0,y:0,ease:Back.easeIn,onComplete:function(){e.visible=!1}})},n.pulseCheckBox=function(){var e=this,t=TweenLite.to(this.checkBoxGlow,1,{alpha:this.checkBoxGlow.defaultAlpha,ease:Power1.easeInOut,onComplete:function(){TweenLite.to(e.checkBoxGlow,1,{alpha:0,ease:Power1.easeInOut,onComplete:function(){t.restart()}})}})},n.checkBoxToggle=function(){r.default.sfx.play("button_press"),this.checked=!this.checked,this.checkBox.texture=p.Texture.from(this.checked?"gdpr-checked.png":"gdpr-unchecked.png"),TweenLite.killTweensOf(this.checkBoxGlow),this.checkBoxGlow.alpha=0,TweenLite.to(this.checkBoxContainer.scale,.4,{x:this.checked?1.05:1,y:this.checked?1.05:1,ease:Power2.easeInOut}),this.checked?this.confirmButton.enable():(this.confirmButton.disable(),this.pulseCheckBox())},n.onConfirmButtonPressed=function(){r.default.sfx.play("button_press"),this.hide(),this.app.topMenu.setState("home"),LOCAL_STORAGE.store("gdprPopup",!1),GDPR=!1},n.resize=function(e,t){var i=this.app.screenManager.container.x/this.app.screenManager.container.scale.x,n=this.app.screenManager.container.y/this.app.screenManager.container.scale.y;this.bg.position.set(e/2,t/2),this.darkShade.x=-i,this.darkShade.y=-n,this.darkShade.width=e+2*i,this.darkShade.height=t+2*n},PrivacyScreen}(p.Container);t.default=n},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var g=i(0),n=_interopRequireDefault(i(6)),v=i(25),y=_interopRequireDefault(i(18)),b=_interopRequireDefault(i(19)),w=_interopRequireDefault(i(26)),x=_interopRequireDefault(i(33)),r=i(17);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var a=function(_){var e,t;function LanguageScreen(e){var t;_defineProperty(_assertThisInitialized(t=_.call(this)||this),"app",void 0),_defineProperty(_assertThisInitialized(t),"bg",void 0),_defineProperty(_assertThisInitialized(t),"title",void 0),_defineProperty(_assertThisInitialized(t),"prevButton",void 0),_defineProperty(_assertThisInitialized(t),"nextButton",void 0),_defineProperty(_assertThisInitialized(t),"confirmButton",void 0),_defineProperty(_assertThisInitialized(t),"buttonContainerFirst",void 0),_defineProperty(_assertThisInitialized(t),"buttonContainerSecond",void 0),_defineProperty(_assertThisInitialized(t),"icon",void 0),_defineProperty(_assertThisInitialized(t),"tween",void 0),_defineProperty(_assertThisInitialized(t),"lang",void 0),_defineProperty(_assertThisInitialized(t),"w",void 0),_defineProperty(_assertThisInitialized(t),"h",void 0),t.app=e,t.bg=g.Sprite.from("panel-languages.png"),t.bg.anchor.set(.5),t.addChild(t.bg),t.title=y.default.h1("STR_SETTINGS_LANGUAGE"),t.title.anchor.set(.5),t.title.y=-270,t.bg.addChild(t.title),t.prevButton=new b.default("button-left.png"),t.prevButton.position.set(37.5,100),t.prevButton.onPress.add(t.nextPage,_assertThisInitialized(t)),t.addChild(t.prevButton),t.prevButton.background.alpha=0,t.nextButton=new b.default("button-right.png"),t.nextButton.position.set(37.5,100),t.nextButton.onPress.add(t.nextPage,_assertThisInitialized(t)),t.addChild(t.nextButton);var i=0,n=-340,r=-180;t.buttonContainerFirst=new g.Container,t.buttonContainerSecond=new g.Container,t.bg.addChild(t.buttonContainerFirst),t.bg.addChild(t.buttonContainerSecond),t.buttonContainerSecond.visible=!1;var a,o=0,s=[],l="fredburger";for(a in v.Translation.languages){o++;var u=x.default.getJson("strings")[a][v.Translation.languages[a]];"vi"===a&&(l="avenir"),"ro"===a&&(l="fredburger"),"cs"===a&&(l="fredburger");var h=22;"ar"!==a&&"ja"!==a||(h+=2);var d=new w.default("language-box.png",null,null,u,1.1,null,h,l,300,0,!0);if(d.label.style.align="center",d.label.style.fill=0,d.label.style.wordWrap=!0,d.label.style.wordWrapWidth=120,d.label.style.lineHeight=24,d.defaultScale=1,d.x=n,d.y=r+97,d.onPress.add(t.selectLanguage.bind(_assertThisInitialized(t),d,a)),o<=14?t.buttonContainerFirst.addChild(d):t.buttonContainerSecond.addChild(d),n+=170,i++,s.push(d),14===o){for(var c=5-i,p=s.length-1;p>=s.length-i;p--){s[p].x+=100*c}n=-340,r=-180,i=0}else 5<=i&&(n=-340,r+=100,i=0)}var f=5-i;if(0<f)for(var m=s.length-1;m>=s.length-i;m--){s[m].x+=85*f}return t.icon=g.Sprite.from("language-box-selected.png"),t.icon.scale.set(.97),t.icon.anchor.set(.5),t.confirmButton=new w.default("language-box.png",null,null,"OK",1.1,null,22,l,300,0,!0),t.confirmButton.label.style.fill=0,t.confirmButton.defaultScale=1,t.confirmButton.x=0,t.confirmButton.y=340,t.confirmButton.onPress.add(t.confirmLanguage.bind(_assertThisInitialized(t),t.confirmButton,a)),t.confirmButton.visible=!1,t.bg.addChild(t.confirmButton),t}t=_,(e=LanguageScreen).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=LanguageScreen.prototype;return i.nextPage=function(){var e=this;if(!this.tween){var t=this.buttonContainerFirst.visible?this.buttonContainerFirst:this.buttonContainerSecond,i=this.buttonContainerFirst.visible?this.buttonContainerSecond:this.buttonContainerFirst;this.buttonContainerFirst.visible&&(TweenLite.to(this.nextButton.background,.15,{alpha:0,ease:Quad.easeOut,onComplete:function(){e.nextButton.hide()}}),TweenLite.to(this.prevButton.background,.15,{alpha:1,ease:Quad.easeOut,onComplete:function(){e.prevButton.show()},delay:.075})),this.buttonContainerSecond.visible&&(TweenLite.to(this.prevButton.background,.15,{alpha:0,ease:Quad.easeOut,onComplete:function(){e.prevButton.hide()}}),TweenLite.to(this.nextButton.background,.15,{alpha:1,ease:Quad.easeOut,onComplete:function(){e.nextButton.show()},delay:.075})),this.tween=TweenLite.to(t,.15,{alpha:0,onComplete:function(){i.visible=!0,i.alpha=0,t.visible=!1,t.alpha=1,TweenLite.to(i,.15,{alpha:1,ease:Quad.easeOut,onComplete:function(){e.tween=null}})}})}},i.selectLanguage=function(e,t){if(!this.app.overlayManager.shown){this.lang=t,this.app.overlayManager.languageScreen.setTitle(e.label.text,e.label.style.fontFamily);var i=x.default.getJson("strings");this.app.overlayManager.languageScreen.areyousureText.setText(i[t].STR_AREYOUSURE),this.app.overlayManager.languageScreen.areyousureText.style.fontFamily=e.label.style.fontFamily,this.app.overlayManager.show(n.default.OVERLAY_ID.LANGUAGE,!0)}},i.confirmLanguage=function(){this.lang&&(LOCAL_STORAGE.store("language",this.lang),window.app.changeLanguage(this.lang),CES.dispatch(r.EventKeys.APP_INITIAL_LANGUAGE_SELECTED,{language_id:v.Translation.analytics[this.lang]}),this.app.screenManager.gotoScreenByID(n.default.SCREEN_ID.TITLE))},i.onShow=function(){this.app.breadcrumb.hidden=!0,this.app.breadcrumb.visible=!1,this.app.topMenu.coinBar.visible=!1,this.app.topMenu.setState("empty"),this.resize(this.w,this.h),this.resizeBg();var e=this.bg.scale.x;this.bg.scale.set(0),TweenLite.to(this.bg.scale,1,{x:e,y:e,ease:Elastic.easeOut,delay:.2,onComplete:this.resizeBg.bind(this)})},i.onShown=function(){this.resizeBg()},i.onHide=function(){this.app.topMenu.coinBar.visible=!0},i.resizeBg=function(){this.bg.height=this.app.h/this.app.ratio2*.85,this.bg.scale.x=this.bg.scale.y},i.resize=function(e,t){this.w=e,this.h=t,this.prevButton&&(this.nextButton.x=e/2+515,this.nextButton.y=t/2,this.prevButton.x=e/2-515,this.prevButton.y=t/2),this.bg.position.set(e/2,t/2),this.resizeBg()},LanguageScreen}(g.Container);t.default=a},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var T=i(0),p=_interopRequireDefault(i(5)),S=_interopRequireDefault(i(6)),o=i(25),M=_interopRequireDefault(i(18)),L=_interopRequireDefault(i(99)),E=_interopRequireDefault(i(100)),C=_interopRequireDefault(i(54)),u=_interopRequireDefault(i(141)),A=_interopRequireDefault(i(11)),f=_interopRequireDefault(i(29)),P=_interopRequireDefault(i(33)),s=i(17),l=_interopRequireDefault(i(4));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=function(x){var e,t;function LeaderboardScreen(e){var t;_defineProperty(_assertThisInitialized(t=x.call(this)||this),"app",void 0),_defineProperty(_assertThisInitialized(t),"_previousScreenId",void 0),_defineProperty(_assertThisInitialized(t),"title",void 0),_defineProperty(_assertThisInitialized(t),"bg",void 0),_defineProperty(_assertThisInitialized(t),"loader",void 0),_defineProperty(_assertThisInitialized(t),"board",void 0),_defineProperty(_assertThisInitialized(t),"noInternetImage",void 0),_defineProperty(_assertThisInitialized(t),"boardContent",void 0),_defineProperty(_assertThisInitialized(t),"userCountry",void 0),_defineProperty(_assertThisInitialized(t),"boardOuterWrapper",void 0),_defineProperty(_assertThisInitialized(t),"dayCounter",void 0),_defineProperty(_assertThisInitialized(t),"scrollTextContainer",void 0),_defineProperty(_assertThisInitialized(t),"boardCache",void 0),_defineProperty(_assertThisInitialized(t),"scrollCombo",void 0),_defineProperty(_assertThisInitialized(t),"scrollTexts",void 0),_defineProperty(_assertThisInitialized(t),"w",void 0),_defineProperty(_assertThisInitialized(t),"h",void 0),t.app=e,t._previousScreenId=S.default.SCREEN_ID.TITLE,t.bg=T.Sprite.from("panel-stickerbook.png"),t.bg.anchor.set(.5),t.addChild(t.bg),t.boardOuterWrapper=new T.Container,t.bg.addChild(t.boardOuterWrapper);var i=t.getTournamentDays(),n="STR_TITLE_LEADERBOARD";0<i&&(n=P.default.getJson("config").config.TOURNAMENT.TITLE),t.title=M.default.h1(n),t.title.anchor.set(.5),t.title.y=-312,t.bg.addChild(t.title),t.loader=T.Sprite.from("loading-wheel.png"),t.loader.anchor.set(.5),t.boardOuterWrapper.addChild(t.loader);var r=T.Sprite.from("leaderboard-line.png");r.anchor.x=.5,r.y=215,t.boardOuterWrapper.addChild(r),t.board=T.Sprite.from("board-today.png"),t.board.anchor.set(.5),t.board.y=40,t.boardOuterWrapper.addChild(t.board);var a={fill:"#fff",fontSize:30,fontFamily:"avenir",maxWidth:200};if(0<i){t.dayCounter=T.Sprite.from("days-counter-bg.png"),t.dayCounter.anchor.set(.5),t.dayCounter.x=355,t.dayCounter.y=-230,t.bg.addChild(t.dayCounter);var o=i.toString();1===o.length&&(o="0"+o);var s=new T.BitmapText(o[0],{font:"ClublandRed"});s.anchor.set(.5),s.x=-20,s.y=-2,t.dayCounter.addChild(s),(s=new T.BitmapText(o[1],{font:"ClublandGreen"})).anchor.set(.5),s.x=25,s.y=-2,t.dayCounter.addChild(s),(s=new A.default("STR_LEADERBOARD_TOURNAMENT",a)).anchor.set(.5),s.x=-290,s.y=-206,t.board.addChild(s),(s=new A.default("STR_LEADERBOARD_TODAY",a)).anchor.set(.5),s.x=0,s.y=-206,t.board.addChild(s),(s=new A.default("STR_LEADERBOARD_WEEK",a)).anchor.set(.5),s.x=290,s.y=-206,t.board.addChild(s),a.fill="#000",a.fontSize=22,(s=new A.default("STR_LEADERBOARD_DAYSLEFT",a)).style.align="right",s.anchor.set(1,.5),s.x=-80,s.y=-2,t.dayCounter.addChild(s)}else{var l=new A.default("STR_LEADERBOARD_TODAY",a);l.anchor.set(.5),l.x=-290,l.y=-206,t.board.addChild(l),(l=new A.default("STR_LEADERBOARD_WEEK",a)).anchor.set(.5),l.x=0,l.y=-206,t.board.addChild(l),(l=new A.default("STR_LEADERBOARD_HALLOFFAME",a)).anchor.set(.5),l.x=290,l.y=-206,t.board.addChild(l)}t.noInternetImage=T.Sprite.from("no-database.png"),t.noInternetImage.anchor.set(.5),t.noInternetImage.y=-22,t.noInternetImage.visible=!1,t.boardOuterWrapper.addChild(t.noInternetImage);var u=new T.Container;u.hitArea=new T.Rectangle(-115,-40,230,80),u.interactive=!0,u.buttonMode=!0,u.x=-290,u.y=-206,u.click=u.tap=0<i?t.changeBoard.bind(_assertThisInitialized(t),"tournament"):t.changeBoard.bind(_assertThisInitialized(t),"today"),t.board.addChild(u),(u=new T.Container).hitArea=new T.Rectangle(-115,-40,230,80),u.interactive=!0,u.buttonMode=!0,u.x=0,u.y=-206,u.click=u.tap=0<i?t.changeBoard.bind(_assertThisInitialized(t),"today"):t.changeBoard.bind(_assertThisInitialized(t),"this-week"),t.board.addChild(u),(u=new T.Container).hitArea=new T.Rectangle(-115,-40,230,80),u.interactive=!0,u.buttonMode=!0,u.x=290,u.y=-206,u.click=u.tap=0<i?t.changeBoard.bind(_assertThisInitialized(t),"this-week"):t.changeBoard.bind(_assertThisInitialized(t),"tournament"),t.board.addChild(u),t.boardContent=new T.Container,t.boardContent.x=-407,t.board.addChild(t.boardContent);var h=new T.Graphics;h.drawRect(0,0,840,335),h.x-=h.width/2,h.y-=h.height/2-5,t.board.addChild(h),t.boardContent.mask=h;var d=new T.Graphics;d.drawRect(0,0,840,335),d.x-=d.width/2,d.y-=d.height/2-5,d.alpha=0,d.hitArea=new T.Rectangle(0,0,840,335),t.board.addChild(d);var c={target:d},p=new C.default(c),f=T.Sprite.from("scroll-bar-bit.png");f.anchor.set(0,.5);var m=T.Sprite.from("scroll-bar.png"),_=new L.default({draggerHeight:40,dragLength:253,bar:m,dragger:f});_.position.set(438,-110),t.board.addChild(_);var g=new E.default({scrollbar:_,trackpad:p,min:0,max:3410});t.scrollCombo=g,t.scrollCombo.scrollbar.visible=!0;var v=T.Sprite.from("backer-text.jpg");v.anchor.set(.5),v.y=210,v.alpha=.1,t.board.addChild(v),t.scrollTextContainer=new T.Container,t.scrollTextContainer.x=-390,t.scrollTextContainer.y=190,t.board.addChild(t.scrollTextContainer),t.scrollTexts=[],a={fill:"#000",fontSize:36,fontFamily:"avenir"};for(var y=0,b=0;b<2;b++){var w=new A.default("",a);w.x=y,w.y=0,t.scrollTextContainer.addChild(w),t.scrollTexts.push(w),y+=w.width+10}return(h=new T.Graphics).drawRect(0,0,800,50),h.x=-10,t.scrollTextContainer.addChild(h),t.scrollTextContainer.mask=h,t.boardCache={},t}t=x,(e=LeaderboardScreen).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i,n,r,a=LeaderboardScreen.prototype;return a.changeBoard=function(e){0<this.getTournamentDays()?"tournament"===e?(CES.dispatch(s.EventKeys.LEADERBOARD_TOURNAMENT_SELECTED),this.board.texture=T.Texture.from("board-today.png")):"this-week"===e?(CES.dispatch(s.EventKeys.LEADERBOARD_THIS_WEEK_SELECTED),this.board.texture=T.Texture.from("board-tournament.png")):(CES.dispatch(s.EventKeys.LEADERBOARD_TODAY_SELECTED),this.board.texture=T.Texture.from("board-this-week.png")):("today"===e?CES.dispatch(s.EventKeys.LEADERBOARD_TODAY_SELECTED):"this-week"===e?CES.dispatch(s.EventKeys.LEADERBOARD_THIS_WEEK_SELECTED):"tournament"===e&&CES.dispatch(s.EventKeys.LEADERBOARD_HALL_OF_FAME_SELECTED),this.board.texture=T.Texture.from("board-"+e+".png")),this.updateBoard(e)},a.updateBoard=function(o){var s=this;this.loader.visible=!0;var e=u.default.TODAY;if("this-week"===o)e=u.default.THIS_WEEK;else if("tournament"===o){e=0<this.getTournamentDays()?u.default.TOURNAMENT:u.default.HALL_OF_FAME}this.boardContent.children.length=0,this.userCountry=null,this.scrollTexts[0].visible=!1,this.scrollTexts[1].visible=!1;var l=this.noInternetImage.visible=!1;this.boardCache[o]?l=!0:this.boardCache[o]=new T.Container,this.boardContent.addChild(this.boardCache[o]),u.default.getScores(e,function(e){if(!e)return s.updateScrollText("STR_SERVER_DOWN"),s.noInternetImage.visible=!0,void(s.loader.visible=!1);var t=s.getTournamentDays();if("tournament"===o&&t<=0){s.scrollCombo.max=247*e.length-310;for(var i=0;i<e.length;i++)l||s.addHallOfFame(e[e.length-i-1],i,o);s.updateScrollText(["STR_LEADERBOARD_SCROLL_HALLOFFAME"])}else{var n=0;s.scrollCombo.max=50*(e.length+1)-390;for(var r=0;r<e.length;r++)l||s.addEntry(e[r],r,o),n+=parseInt(e[r].games_played);n=s.formatNumber(n),s.userCountry&&(s.scrollCombo.value=-s.userCountry.y);var a=["STR_LEADERBOARD_SCROLL"];"today"===o?(a.push("STR_LEADERBOARD_SCROLL_TODAY"),a.push(n.toString())):"this-week"===o?(a.push("STR_LEADERBOARD_SCROLL_WEEK"),a.push(n.toString())):"tournament"===o&&(a.push("STR_LEADERBOARD_SCROLL_TOURNAMENT1"),a.push(n.toString()),a.push("STR_LEADERBOARD_SCROLL_TOURNAMENT2"),a.push(s.getTournamentDays())),s.updateScrollText(a)}s.loader.visible=!1,s.scrollCombo.trackpad.scrollMinY=-s.scrollCombo.max,s.scrollCombo.trackpad.speedY=0,s.scrollCombo.value=0},!0,function(e){var t=["STR_NO_INTERNET","STR_NO_INTERNET"];503!==e.status&&!navigator.onLine||(t="STR_SERVER_DOWN"),s.updateScrollText(t),s.noInternetImage.visible=!0,s.loader.visible=!1})},a.getTournamentDays=function(){var e,t;if(window.URLParams.tournamentDates){var i=window.URLParams.tournamentDates.split("-");e=new Date(i[0].replace(/_/gi," ")),t=new Date(i[1].replace(/_/gi," "))}else{var n=P.default.getJson("config").config.TOURNAMENT;e=new Date(n.START),t=new Date(n.END)}var r=new Date;window.URLParams.todayDate&&(r=new Date(window.URLParams.todayDate.replace(/-/gi," ")));var a=Math.ceil((t.getTime()-r.getTime())/864e5);return r.getTime()<e.getTime()&&(a=0),window.URLParams.days&&(a=parseInt(window.URLParams.days)),a},a.updateScrollText=function(e){this.scrollTexts[0].visible=!0,this.scrollTexts[1].visible=!0,this.scrollTexts[0].setText(e),this.scrollTexts[0].x=0,this.scrollTexts[1].setText(e),this.scrollTexts[1].x=this.scrollTexts[0].width+10},a.getCountryDataForId=function(e){var t=(0,o.getCountries)();for(var i in t)if(t[i].SCORE_ID===e)return t[i];return null},a.addHallOfFame=function(e,t,i){var n={fill:"#000",fontSize:25,fontFamily:"avenir",align:"center"},r=new T.Container;r.x=10,r.y=250*t+10,this.boardCache[i].addChild(r);var a=T.Sprite.from(t%2==0?"panel-summer-slam.png":"panel-winter-warriors.png");r.addChild(a),n.wordWrap=!0,n.wordWrapWidth=400,n.lineHeight=20;var o=new A.default(e.tournament_name,n);o.x=a.width/2-o.width/2,o.y=28-o.height/2,r.addChild(o);function yEh(e){return 107-e.height/2}n.wordWrapWidth=200,n.lineHeight=18;var s=T.Sprite.from("ar"===window.LANGUAGE?"panel-third.png":"panel-first.png");s.x=20,s.y=70,r.addChild(s),(o=new A.default("STR_LEADERBOARD_HALLOFFAME_1ST",n)).x=s.width/2-o.width/2,o.y=6,s.addChild(o),e.first_id||(e.first_id=73);var l=this.getCountryDataForId(parseInt("ar"===window.LANGUAGE?e.third_id:e.first_id)),u=T.Sprite.from(l.FLAG);u.scale.set(.6),u.x=s.width/2-u.width/2,u.y=36,s.addChild(u),n.fontSize=21,n.maxWidth=200,(o=new A.default(l.NAME+"_UPPERCASE",n)).x=s.width/2-o.width/2,o.y=yEh(o),s.addChild(o),n.fontSize=19;var h=new A.default(["STR_LEADERBOARD_POINTS",this.formatNumber("ar"===window.LANGUAGE?e.third_total_points:e.first_total_points)],n);h.x=s.width/2-h.width/2,h.y=128,s.addChild(h),n.fontSize=25;var d=T.Sprite.from("panel-second.png");d.x=s.x+s.width+40,d.y=70,r.addChild(d),(o=new A.default("STR_LEADERBOARD_HALLOFFAME_2ND",n)).x=d.width/2-o.width/2,o.y=6,d.addChild(o),e.second_id||(e.second_id=60),l=this.getCountryDataForId(parseInt(e.second_id)),(u=T.Sprite.from(l.FLAG)).scale.set(.6),u.x=d.width/2-u.width/2,u.y=36,d.addChild(u),n.fontSize=21,n.maxWidth=200,(o=new A.default(l.NAME+"_UPPERCASE",n)).x=d.width/2-o.width/2,o.y=yEh(o),d.addChild(o),n.fontSize=19,(h=new A.default(["STR_LEADERBOARD_POINTS",this.formatNumber(e.second_total_points)],n)).x=d.width/2-h.width/2,h.y=128,d.addChild(h),n.fontSize=25;var c=T.Sprite.from("ar"===window.LANGUAGE?"panel-first.png":"panel-third.png");c.x=d.x+d.width+40,c.y=70,r.addChild(c),(o=new A.default("STR_LEADERBOARD_HALLOFFAME_3RD",n)).x=c.width/2-o.width/2,o.y=6,c.addChild(o),e.third_id||(e.third_id=30),l=this.getCountryDataForId(parseInt("ar"===window.LANGUAGE?e.first_id:e.third_id)),(u=T.Sprite.from(l.FLAG)).scale.set(.6),u.x=c.width/2-u.width/2,u.y=36,c.addChild(u),n.fontSize=21,n.maxWidth=200,(o=new A.default(l.NAME+"_UPPERCASE",n)).x=c.width/2-o.width/2,o.y=yEh(o),c.addChild(o),n.fontSize=19,(h=new A.default(["STR_LEADERBOARD_POINTS",this.formatNumber("ar"===window.LANGUAGE?e.first_total_points:e.third_total_points)],n)).x=c.width/2-h.width/2,h.y=128,c.addChild(h)},a.addEntry=function(e,t,i){var n={fill:"#000",fontSize:20,fontFamily:"avenir"},r=new T.Container;r.y=50*t,this.boardCache[i].addChild(r);var a=t+1,o=T.Sprite.from("backer.jpg");o.alpha=t%2==0?.18:.08,p.default.countryID&&e.id===p.default.countryID.SCORE_ID&&(o.texture=T.Texture.from("backer-gold.jpg"),o.alpha=1,this.userCountry=r),r.addChild(o);var s=new T.Text(a+".",n);s.x=60,s.y=10,r.addChild(s);var l=this.getCountryDataForId(e.id),u=T.Sprite.from(l.FLAG);u.x=160,u.y=3,u.scale.set(.5),r.addChild(u),n.maxWidth=300,(s=new A.default(l.NAME+"_UPPERCASE",n)).x=270,s.y=21-s.height/2,r.addChild(s);var h=this.formatNumber(e.total_points);s=new T.Text(h,n),f.default.fitText(s,140,h,"w"),s.x=680-s.width,s.y=10,r.addChild(s);var d="down";"0"===e.change?d="stay":"1"===e.change&&(d="up"),"0"===e.total_points&&(d="stay");var c=T.Sprite.from("chevron-"+d+".png");c.anchor.set(.5),c.alpha=.5,c.x=770,c.y=22,r.addChild(c)},a.formatNumber=function(e){if(e<("tr"===window.LANGUAGE?1e5:1e3))return e;e=e.toString();for(var t=Math.ceil(e.length/3)-1,i="",n=0;n<t;n++)i=translations.STR_SEPARATOR+e.substr(-3)+i,e=e.substr(0,e.length-3);return i=e+i},a.updateTransform=function(){x.prototype.updateTransform.call(this),this.scrollCombo.update(),this.boardContent.y=this.scrollCombo.value-160,this.loader.visible&&(this.loader.rotation+=.1*l.default.instance.deltaTime);for(var e=0;e<this.scrollTexts.length;e++){var t=this.scrollTexts[e];"ar"===window.LANGUAGE?(t.x+=l.default.instance.deltaTime,0===e&&1e3<t.x&&(t.x=this.scrollTexts[1].x-t.width-10),1===e&&1e3<t.x&&(t.x=this.scrollTexts[0].x-t.width-10)):(t.x-=l.default.instance.deltaTime,0===e&&t.x+t.width<0&&(t.x=this.scrollTexts[1].x+this.scrollTexts[1].width+10),1===e&&t.x+t.width<0&&(t.x=this.scrollTexts[0].x+this.scrollTexts[0].width+10))}},a.onShow=function(){this.boardCache={},this.app.topMenu.prevScreen=S.default.SCREEN_ID.TITLE,this.app.topMenu.setState("homesettings"),this.resize(this.w,this.h),this.bg.scale.set(0),TweenLite.to(this.bg.scale,1,{x:1,y:1,ease:Elastic.easeOut,delay:.2}),0<this.getTournamentDays()?this.changeBoard("tournament"):this.changeBoard("today")},a.onShown=function(){this.app.topMenu.prevScreen||(this.app.topMenu.prevScreen=S.default.SCREEN_ID.TITLE)},a.resize=function(e,t){this.w=e,this.h=t,this.bg.position.set(e/2,t/2);var i=0<this.getTournamentDays();this.boardOuterWrapper.position.y=i?30:0},i=LeaderboardScreen,(n=[{key:"previousScreenId",get:function(){return this._previousScreenId}}])&&_defineProperties(i.prototype,n),r&&_defineProperties(i,r),LeaderboardScreen}(T.Container);t.default=n},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var s=i(0),l=_interopRequireDefault(i(4)),u=_interopRequireDefault(i(15)),h=_interopRequireDefault(i(67)),d=_interopRequireDefault(i(3)),c=_interopRequireDefault(i(136)),p=_interopRequireDefault(i(19));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=function(i){var e,t;function LoaderScreen(e){var t;return _defineProperty(_assertThisInitialized(t=i.call(this)||this),"app",void 0),_defineProperty(_assertThisInitialized(t),"transition",void 0),_defineProperty(_assertThisInitialized(t),"container",void 0),_defineProperty(_assertThisInitialized(t),"video",void 0),_defineProperty(_assertThisInitialized(t),"black",void 0),_defineProperty(_assertThisInitialized(t),"goodboyLogo",void 0),_defineProperty(_assertThisInitialized(t),"cnLogo",void 0),_defineProperty(_assertThisInitialized(t),"barTop",void 0),_defineProperty(_assertThisInitialized(t),"bar",void 0),_defineProperty(_assertThisInitialized(t),"count",void 0),_defineProperty(_assertThisInitialized(t),"easeLoad",void 0),_defineProperty(_assertThisInitialized(t),"targetLoad",void 0),_defineProperty(_assertThisInitialized(t),"_onSplashscreenCompletedDispatched",void 0),_defineProperty(_assertThisInitialized(t),"onSplashscreenCompleted",void 0),_defineProperty(_assertThisInitialized(t),"onReady",void 0),_defineProperty(_assertThisInitialized(t),"onComplete",void 0),(t.app=e).loader.onProgress.add(t.onProgress,_assertThisInitialized(t)),t.count=0,t.easeLoad=0,t.targetLoad=0,t.onReady=new d.default,t.onComplete=new d.default,t.onSplashscreenCompleted=new d.default,t._onSplashscreenCompletedDispatched=!1,t.transition=new c.default,t.container=new s.Container,t.addChild(t.container),window.cordova?t.showVideo():t.setupLoader(),t}t=i,(e=LoaderScreen).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n,r,a,o=LoaderScreen.prototype;return o.showVideo=function(){var t=this;if(u.default.instance.android||u.default.instance.iOS_version<10)TweenLite.delayedCall(1.5,function(){var e;null!==(e=navigator.splashscreen)&&void 0!==e&&e.hide(),t.showGoodboyLogo()});else{var i=s.Texture.fromVideoUrl(ASSET_URL+"video/cn_intro.mp4");i.baseTexture.source.addEventListener("canplay",function(){var e;null!==(e=navigator.splashscreen)&&void 0!==e&&e.hide(),12<=u.default.instance.iOS_version&&TweenLite.delayedCall(4,function(){i.baseTexture.source.paused&&t.showGoodboyLogo()})},!1),i.baseTexture.source.addEventListener("ended",function(){t.showGoodboyLogo()},!1);var e=new s.Sprite(i);e.anchor.set(.5),this.container.addChild(e),this.video=e}},o.showGoodboyLogo=function(){var e=this;this.video&&this.container.removeChild(this.video),this.setupBlackBackground(),this.goodboyLogo=s.Sprite.from("intro-logo-goodboy.png"),this.goodboyLogo.scale.set(.5),this.goodboyLogo.anchor.set(.5),this.container.addChild(this.goodboyLogo),TweenLite.delayedCall(2,function(){e.setupLoader(),e.showBackground(),e.onSplashscreenCompleted.dispatch(),e._onSplashscreenCompletedDispatched=!0})},o.setupBlackBackground=function(){var e=new s.Graphics;e.beginFill(0),e.drawRect(0,0,this.w+2*this.app.offsetX,this.h+2*this.app.offsetY),this.container.addChild(e),this.black=e},o.setupLoader=function(){this.goodboyLogo&&(this.container.removeChild(this.goodboyLogo),this.container.removeChild(this.black)),this.cnLogo=s.Sprite.from("logo-cn.png"),this.cnLogo.anchor.set(.5),this.cnLogo.y=-50,this.container.addChild(this.cnLogo);for(var e=[],t=1;t<=6;t++)e.push(s.Texture.from("bar-"+t+".png"));this.bar=new s.extras.MovieClip(e),this.bar.anchor.set(.5),this.bar.y=70,this.bar.animationSpeed=.2,this.bar.play(),this.container.addChild(this.bar),this.barTop=s.Sprite.from("bar-top.png"),this.barTop.anchor.set(.5),this.barTop.y=this.bar.y,this.container.addChild(this.barTop),l.default.instance.add(this.update,this),this.resize(this.w,this.h),window.cordova||h.default.wait(this.showBackground.bind(this))},o.showBackground=function(){TweenLite.to(this.app.dimmer,.6,{alpha:.5,ease:Sine.easeOut}),this.app.resize(this.app.w,this.app.h)},o.showPlayButton=function(){var e=this;this.container.removeChild(this.bar),this.container.removeChild(this.barTop),TweenLite.to(this.cnLogo.scale,.8,{x:1.3,y:1.3,ease:Sine.easeOut}),TweenLite.to(this.cnLogo,.8,{y:-200,ease:Sine.easeOut});var t=s.Sprite.from("cn-games-logo.png");t.anchor.set(.5),t.scale.set(.3),t.alpha=0,t.y=-70,this.container.addChild(t);TweenLite.to(t,.5,{alpha:1,ease:Sine.easeOut,delay:.3}),TweenLite.to(t.scale,.5,{x:.4,y:.4,ease:Sine.easeOut,delay:.3});var i=new p.default("play-button.png",null,null,null,1.08);i.defaultScale=1,i.y=140,i.scale.set(1.8,0),TweenLite.to(i.scale,1.1,{x:1,y:1,ease:Elastic.easeOut.config(1,.6),delay:.8}),i.onPress.addOnce(function(){i.disable(),e.app.redirectToInitialScreen()},this),this.container.addChild(i)},o.update=function(){this.count+=.02},o.onProgress=function(e){this.targetLoad=e},o.onHide=function(){l.default.instance.remove(this.update,this)},o.resize=function(e,t){this.w=e,this.h=t,this.container.position.x=e/2,this.container.position.y=t/2,this.black&&(this.black.graphicsData[0].shape.width=e+2*this.app.offsetX,this.black.graphicsData[0].shape.height=t+2*this.app.offsetY,this.black.position.set(-e/2-this.app.offsetX,-t/2-this.app.offsetY))},n=LoaderScreen,(r=[{key:"onSplashscreenCompletedDispatched",get:function(){return this._onSplashscreenCompletedDispatched}}])&&_defineProperties(n.prototype,r),a&&_defineProperties(n,a),LoaderScreen}(s.Container);t.default=n},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n,r=(n=i(672))&&n.__esModule?n:{default:n},a=i(0);function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var o=function(){function NotificationSystem(e,t){_defineProperty(this,"app",void 0),_defineProperty(this,"notificationPanel",void 0),_defineProperty(this,"queue",void 0),_defineProperty(this,"transitionDuration",void 0),_defineProperty(this,"showDuration",void 0),_defineProperty(this,"delayDuration",void 0),_defineProperty(this,"_notificationContainer",void 0),_defineProperty(this,"_occupied",void 0),this.app=e,this.queue=[],this.transitionDuration=(null==t?void 0:t.transitionDuration)||.5,this.showDuration=(null==t?void 0:t.showDuration)||1.5,this.delayDuration=(null==t?void 0:t.delayDuration)||.6,this._occupied=!1,this._notificationContainer=new a.Container,this.notificationPanel=new r.default,this.container.addChild(this.notificationPanel),this.notificationPanel.position.x=-this.notificationPanel.width}var e,t,i,n=NotificationSystem.prototype;return n.addToQueue=function(e){this.queue.push(e),this.dispatchNotification()},n.dispatchNotification=function(){var e=this;if(0!==this.queue.length&&!this.occupied){this._occupied=!0;var t=this.queue.shift(),i=t.callback;this.notificationPanel.setData(t),TweenLite.to(this.notificationPanel.position,this.transitionDuration,{x:70,ease:Power2.easeOut,delay:this.delayDuration,onComplete:function(){i(),TweenLite.to(e.notificationPanel.position,e.transitionDuration,{x:-e.notificationPanel.width,ease:Power2.easeOut,delay:e.showDuration,onComplete:function(){e._occupied=!1,0<e.queue.length&&e.dispatchNotification()}})}})}},n.resize=function(){this.notificationPanel.scale.set(.9),this.notificationPanel.position.y=95},e=NotificationSystem,(t=[{key:"container",get:function(){return this._notificationContainer}},{key:"occupied",get:function(){return this._occupied}}])&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),NotificationSystem}();t.default=o},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n,r=i(0),a=(n=i(11))&&n.__esModule?n:{default:n};function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var o=function(t){var e,i;function NotificationPanel(){var e;return _defineProperty(_assertThisInitialized(e=t.call(this)||this),"bg",void 0),_defineProperty(_assertThisInitialized(e),"icon",void 0),_defineProperty(_assertThisInitialized(e),"message",void 0),_defineProperty(_assertThisInitialized(e),"_width",void 0),_defineProperty(_assertThisInitialized(e),"_height",void 0),e.bg=r.Sprite.from("challenge-complete-panel.png"),e._width=e.bg.texture.width,e._height=e.bg.texture.height,e.icon=r.Sprite.from("tick.png"),e.icon.anchor.set(.5),e.message=new a.default("Notification\nTest Message",{fill:"#fff",fontSize:42,fontFamily:"avenir",wordWrap:!0,wordWrapWidth:420,padding:10,lineHeight:48,letterSpacing:1.5,align:"center"}),e.message.anchor.set(.5),e.addChild(e.bg),e.addChild(e.icon),e.addChild(e.message),e}i=t,(e=NotificationPanel).prototype=Object.create(i.prototype),(e.prototype.constructor=e).__proto__=i;var n=NotificationPanel.prototype;return n.setData=function(e){this.icon.texture=e.icon?r.Texture.from(e.icon):r.Texture.from("tick.png"),this.message.setText(e.message),this.resize()},n.resize=function(){var e=(this.bg.texture.height+10)/this.icon.texture.height;this.icon.scale.set(e),this.icon.position.y=this.bg.texture.height/2,this.message.position.x=this.bg.texture.width/2+20,this.message.position.y=this.bg.texture.height/2-2},NotificationPanel}(r.Container);t.default=o},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var r=i(0),a=_interopRequireDefault(i(3)),n=_interopRequireDefault(i(135)),o=_interopRequireDefault(i(674)),s=_interopRequireDefault(i(675)),l=_interopRequireDefault(i(676)),u=_interopRequireDefault(i(677)),h=_interopRequireDefault(i(19)),d=_interopRequireDefault(i(678)),c=_interopRequireDefault(i(680)),p=_interopRequireDefault(i(6)),f=_interopRequireDefault(i(136)),m=_interopRequireDefault(i(325));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var _=function(i){var e,t;function OverlayManager(e){var t;return _defineProperty(_assertThisInitialized(t=i.call(this)||this),"app",void 0),_defineProperty(_assertThisInitialized(t),"defaultTransition",void 0),_defineProperty(_assertThisInitialized(t),"noTransition",void 0),_defineProperty(_assertThisInitialized(t),"view",void 0),_defineProperty(_assertThisInitialized(t),"closeButton",void 0),_defineProperty(_assertThisInitialized(t),"pausedScreen",void 0),_defineProperty(_assertThisInitialized(t),"quitScreen",void 0),_defineProperty(_assertThisInitialized(t),"instructionsScreen",void 0),_defineProperty(_assertThisInitialized(t),"settingsScreen",void 0),_defineProperty(_assertThisInitialized(t),"languageScreen",void 0),_defineProperty(_assertThisInitialized(t),"skipScreen",void 0),_defineProperty(_assertThisInitialized(t),"history",void 0),_defineProperty(_assertThisInitialized(t),"currentScreen",void 0),_defineProperty(_assertThisInitialized(t),"nextScreen",void 0),_defineProperty(_assertThisInitialized(t),"shown",void 0),_defineProperty(_assertThisInitialized(t),"onShow",void 0),_defineProperty(_assertThisInitialized(t),"onHide",void 0),t.defaultTransition=new f.default,t.noTransition=new m.default,t.app=e,t.view=new r.Container,t.view.visible=!1,t.shown=!1,t.pausedScreen=new o.default(e),t.quitScreen=new s.default(e),t.languageScreen=new l.default(e),t.skipScreen=new u.default(e),t.instructionsScreen=new d.default(e),t.settingsScreen=new c.default(e),t.addScreen(t.pausedScreen,p.default.OVERLAY_ID.PAUSE),t.addScreen(t.quitScreen,p.default.OVERLAY_ID.QUIT),t.addScreen(t.languageScreen,p.default.OVERLAY_ID.LANGUAGE),t.addScreen(t.skipScreen,p.default.OVERLAY_ID.SKIP),t.addScreen(t.instructionsScreen,p.default.OVERLAY_ID.INSTRUCTIONS),t.addScreen(t.settingsScreen,p.default.OVERLAY_ID.SETTINGS),t.addScreen(new r.Container,p.default.OVERLAY_ID.EMPTY),t.onShow=new a.default,t.onHide=new a.default,t.closeButton=new h.default("icon-back.png"),t.closeButton.onPress.add(t.goBack,_assertThisInitialized(t)),t.closeButton.x=1e4,t.closeButton.y=120,t.view.addChild(t.container),t.view.addChild(t.closeButton),t.app.screenManager.container.filterArea=new r.Rectangle(0,0,1e4,1e4),t}t=i,(e=OverlayManager).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=OverlayManager.prototype;return n.goBack=function(){this.history.pop();var e=this.history.pop();e?this.gotoScreen(e):this.hide()},n.show=function(e,t){this.shown?this.gotoScreenByID(e,!0):(this.shown=!0,this.history=[],this.onShow.dispatch(),this.view.alpha=0,this.view.visible=!0,t?(this.currentScreen||(this.currentScreen=this.quitScreen),this.view.alpha=1,this.transition=this.noTransition):(this.transition=this.defaultTransition,TweenLite.to(this.view,.3,{alpha:1})),this.gotoScreenByID(e,!0),this.closeButton.scale.set(0))},n.gotoScreen=function(e){void 0===e.hasClose||!0===e.hasClose?(this.closeButton.interactive=!0,TweenLite.to(this.closeButton.scale,.3,{x:this.closeButton.defaultScale,y:this.closeButton.defaultScale,ease:Back.easeOut,delay:.4})):(this.closeButton.interactive=!1,TweenLite.to(this.closeButton.scale,.3,{x:0,y:0,ease:Back.easeOut})),i.prototype.gotoScreen.call(this,e)},n.hide=function(e){var t=this;void 0===e&&(e=!1),this.shown&&(this.shown=!1,this.history=[],this.closeButton.interactive=!1,this.gotoScreenByID(p.default.OVERLAY_ID.EMPTY),e&&(this.view.alpha=0),TweenLite.to(this.closeButton.scale,.3,{x:0,y:0,ease:Back.easeOut}),TweenLite.to(this.view,.3,{alpha:0,onComplete:function(){t.view.visible=!1,t.onHide.dispatch()}}))},n.onFadeout=function(){this.currentScreen&&(this.currentScreen.onHidden&&this.currentScreen.onHidden(),this.container.removeChild(this.currentScreen)),this.currentScreen=this.nextScreen,this.currentScreen.alpha=0,this.currentScreen.onShow&&this.currentScreen.onShow(),this.currentScreen.resize&&this.currentScreen.resize(this.w,this.h),this.container.addChild(this.currentScreen),TweenLite.to(this.currentScreen,.4,{alpha:1,onComplete:this.onFadein.bind(this)})},n.resize=function(e,t){this.closeButton.x=e/2+320-5,this.closeButton.y=t/2-180-12,i.prototype.resize.call(this,e,t)},OverlayManager}(n.default);t.default=_},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var d=_interopRequireDefault(i(182)),c=i(100),p=i(99),f=i(54),m=i(0),n=_interopRequireDefault(i(13)),_=_interopRequireDefault(i(19)),g=_interopRequireDefault(i(18)),r=_interopRequireDefault(i(6)),a=_interopRequireDefault(i(15));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var o=function(h){var e,t;function PauseScreen(e){var i;_defineProperty(_assertThisInitialized(i=h.call(this)||this),"app",void 0),_defineProperty(_assertThisInitialized(i),"hasClose",void 0),_defineProperty(_assertThisInitialized(i),"bg",void 0),_defineProperty(_assertThisInitialized(i),"title",void 0),_defineProperty(_assertThisInitialized(i),"helpButton",void 0),_defineProperty(_assertThisInitialized(i),"resumeButton",void 0),_defineProperty(_assertThisInitialized(i),"HomeButton",void 0),_defineProperty(_assertThisInitialized(i),"soundButton",void 0),_defineProperty(_assertThisInitialized(i),"challengesContainer",void 0),_defineProperty(_assertThisInitialized(i),"challengesContent",void 0),_defineProperty(_assertThisInitialized(i),"scrollCombo",void 0),_defineProperty(_assertThisInitialized(i),"challengePanels",[]),_defineProperty(_assertThisInitialized(i),"width",void 0),_defineProperty(_assertThisInitialized(i),"height",void 0),_defineProperty(_assertThisInitialized(i),"isIphoneX",void 0),i.app=e,i.hasClose=!1,i.bg=m.Sprite.from("panel-small-wide-panel.png"),i.bg.anchor.set(.5,.5),i.addChild(i.bg),i.title=new g.default.h1("STR_PAUSE_TITLE"),i.title.anchor.set(.5),i.title.position.set(0,-232),i.bg.addChild(i.title),i.HomeButton=new _.default("button-home.png",null,null,null,1.1),i.HomeButton.defaultScale=1,i.HomeButton.position.set(-370,-110),i.HomeButton.onPress.add(i.onHomeButtonPressed,_assertThisInitialized(i)),i.bg.addChild(i.HomeButton),i.soundButton=new _.default("button-blue-blank.png",null,null,"icon-sound-on.png",1.1),i.soundButton.defaultScale=1,i.soundButton.position.set(-370,15),i.soundButton.onPress.add(i.toggleSound,_assertThisInitialized(i)),i.bg.addChild(i.soundButton),i.helpButton=new _.default("button-help.png",null,null,null,1.1),i.helpButton.defaultScale=1,i.helpButton.position.set(-370,140),i.helpButton.onPress.add(i.onHelpButtonPressed,_assertThisInitialized(i)),i.bg.addChild(i.helpButton),i.resumeButton=new _.default("button-play-big.png",null,null,"icon-play.png",1),i.resumeButton.scale.set(.9),i.resumeButton.icon.scale.x=-1,i.resumeButton.position.set(0,280),i.resumeButton.defaultScale=.9,i.resumeButton.icon.rotation=Math.PI,i.resumeButton.onPress.add(i.onResumeButtonPressed,_assertThisInitialized(i)),i.bg.addChild(i.resumeButton),i.challengesContainer=new m.Container,i.bg.addChild(i.challengesContainer),i.challengesContent=new m.Container,i.challengesContent.x=-990,i.challengesContent.y=-160,i.challengesContainer.addChild(i.challengesContent),i.app.challengesSystem.challenges.forEach(function(e){var t=new d.default;t.setContent(e),i.challengesContent.addChild(t),i.challengePanels.push(t)});var t=new m.Graphics;if(t.drawRect(0,0,850,480),t.x-=t.width/2,t.y-=t.height/2-60,i.challengesContainer.addChild(t),i.challengesContent.mask=t,3<i.challengePanels.length){var n=new m.Graphics;n.drawRect(0,0,850,480),n.x-=n.width/2,n.y-=n.height/2-60,n.alpha=0,n.hitArea=new m.Rectangle(0,0,850,480),i.challengesContainer.addChild(n);var r={target:n},a=new f.PixiTrackpad(r),o=m.Sprite.from("scroll-bar-bit.png");o.anchor.set(0,.5);var s=m.Sprite.from("scroll-bar.png"),l=new p.ScrollBar({draggerHeight:40,dragLength:253,bar:s,dragger:o});l.position.set(438,-80),i.challengesContainer.addChild(l);var u=new c.PixiCombo({scrollbar:l,trackpad:a,min:0,max:3410});i.scrollCombo=u,i.scrollCombo.scrollbar.visible=!0}return i}t=h,(e=PauseScreen).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=PauseScreen.prototype;return i.refresh=function(){this.challengePanels.forEach(function(e){e.refresh()})},i.onShow=function(){this.refresh(),this.updateSoundButtons(),this.resize(this.width,this.height)},i.onShown=function(){this.app.topMenu.buttons.pause.enable()},i.onHidden=function(){this.app.topMenu.buttons.pause.enable()},i.toggleSound=function(){n.default.sfx.isMuted?(n.default.sfx.unmute(),n.default.music.unmute()):(n.default.sfx.mute(),n.default.music.mute()),this.updateSoundButtons()},i.updateSoundButtons=function(){var e=n.default.sfx.isMuted?"icon-sound-off.png":"icon-sound-on.png";this.soundButton.icon.texture=m.Texture.from(e),LOCAL_STORAGE.store("muted",n.default.sfx.isMuted)},i.updateTransform=function(){h.prototype.updateTransform.call(this),this.scrollCombo&&(this.scrollCombo.update(),this.challengesContent.y=this.scrollCombo.value-160)},i.onHelpButtonPressed=function(){this.app.overlayManager.show(r.default.OVERLAY_ID.INSTRUCTIONS)},i.onResumeButtonPressed=function(){this.app.overlayManager.hide(),this.app.gameScreen.game.resume(),this.app.topMenu.setState("game"),this.app.topMenu.showSkipButton()},i.onHomeButtonPressed=function(){this.app.overlayManager.show(r.default.OVERLAY_ID.QUIT)},i.resize=function(i,e){this.position.set(i/2,e/2),this.challengePanels.forEach(function(e,t){e.position.set(i/2,160*t)}),this.scrollCombo&&(this.scrollCombo.max=this.challengesContent.height-450,this.scrollCombo.trackpad.scrollMinY=-this.scrollCombo.max),this.challengesContainer.scale.set(.82),this.challengesContainer.position.set(70,-35),a.default.instance.desktop?this.bg.height=e-200:this.bg.height=2.1<i/e?e-120:Math.min(e-165,550),this.bg.scale.x=this.bg.scale.y,this.bg.position.y=20},PauseScreen}(m.Container);t.default=o},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var r=i(0),a=_interopRequireDefault(i(19)),o=_interopRequireDefault(i(18)),s=_interopRequireDefault(i(6)),l=_interopRequireDefault(i(5)),u=i(17);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=function(i){var e,t;function QuitScreen(e){var t;return _defineProperty(_assertThisInitialized(t=i.call(this)||this),"app",void 0),_defineProperty(_assertThisInitialized(t),"hasClose",void 0),_defineProperty(_assertThisInitialized(t),"bg",void 0),_defineProperty(_assertThisInitialized(t),"title",void 0),_defineProperty(_assertThisInitialized(t),"yesButton",void 0),_defineProperty(_assertThisInitialized(t),"noButton",void 0),t.app=e,t.hasClose=!1,t.bg=r.Sprite.from("panel-quit.png"),t.bg.anchor.set(.5),t.addChild(t.bg),t.title=new o.default.h1("STR_QUIT_TITLE"),t.title.anchor.set(.5),t.title.position.set(0,-150),t.addChild(t.title),t.yesButton=new a.default("button-yes.png",null,null,null,1.1),t.yesButton.defaultScale=1,t.yesButton.position.set(-65,25),t.yesButton.onPress.add(t.onYesButtonPressed,_assertThisInitialized(t)),t.addChild(t.yesButton),t.noButton=new a.default("button-no.png",null,null,null,1.1),t.noButton.defaultScale=1,t.noButton.position.set(65,25),t.noButton.onPress.add(t.onNoButtonPressed,_assertThisInitialized(t)),t.addChild(t.noButton),t}t=i,(e=QuitScreen).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=QuitScreen.prototype;return n.onYesButtonPressed=function(){if(this.app.topMenu.confirmPrev)return this.app.overlayManager.hide(),this.app.topMenu.confirmPrev=!1,this.app.screenManager.gotoScreenByID(this.app.topMenu.prevScreen),this.app.topMenu.prevScreen=null,void CES.dispatch(u.EventKeys.GAME_TOURNAMENT_EXIT);var e={match_type:this.app.gameScreen.game.getMatchType(),score:this.app.gameScreen.game.goalsA+" - "+this.app.gameScreen.game.goalsB,gameTime:Math.round(this.app.gameScreen.game.timer.count/60),tackleTotal:this.app.gameScreen.game.stats.tackleTotal,tackleSuccess:this.app.gameScreen.game.stats.tackleSuccess,shootTotal:this.app.gameScreen.game.stats.shootTotal,passTotal:this.app.gameScreen.game.stats.passTotal,passSuccess:this.app.gameScreen.game.stats.passSuccess,opponentTackle:this.app.gameScreen.game.stats.opponentTackle,opponentTackleSuccess:this.app.gameScreen.game.stats.opponentTackleSuccess,possession:Math.round(this.app.gameScreen.game.stats.possession)};CES.dispatch(u.EventKeys.GAME_MATCH_EXITED,e),l.default.isTournament&&CES.dispatch(u.EventKeys.GAME_TOURNAMENT_EXIT),this.app.gameScreen.game.reset(),l.default.reset(),window.TUTORIAL&&this.app.gameScreen.game.tutorialManager.reset(),this.app.overlayManager.hide(),this.app.challengesSystem.onGameEnd.dispatch(),this.app.screenManager.gotoScreenByID(s.default.SCREEN_ID.TITLE)},n.onHidden=function(){this.app.topMenu.buttons.pause.enable()},n.onNoButtonPressed=function(){this.app.topMenu.confirmPrev?this.app.overlayManager.hide():this.app.overlayManager.show(s.default.OVERLAY_ID.PAUSE)},n.resize=function(e,t){this.x=e/2,this.y=t/2},QuitScreen}(r.Container);t.default=n},function(e,t,l){"use strict";var i;void 0===(i=function(e,t,i){function ZIh(e){n.Container.call(this),this.transition=new s,this.app=e,this.hasClose=!1,this.bg=n.Sprite.from("panel-quit.png"),this.bg.anchor.set(.5),this.addChild(this.bg),this.title=new a.h1("STR_QUIT_TITLE"),this.title.anchor.set(.5),this.title.position.set(0,-150),this.addChild(this.title),this.areyousureText=new o("STR_AREYOUSURE"),this.areyousureText.anchor.set(.5),this.areyousureText.position.set(0,-30),this.addChild(this.areyousureText),this.yesButton=new r("button-yes.png",null,null,null,1.1),this.yesButton.defaultScale=1,this.yesButton.position.set(-65,80),this.yesButton.onPress.add(this.onYesButtonPressed,this),this.addChild(this.yesButton),this.noButton=new r("button-no.png",null,null,null,1.1),this.noButton.defaultScale=1,this.noButton.position.set(65,80),this.noButton.onPress.add(this.onNoButtonPressed,this),this.addChild(this.noButton)}var n=l(0),r=(l(13),l(19)),a=(l(33),l(324),l(18)),o=l(11),s=(l(6),l(25).Translation,l(5),l(32),l(325));(ZIh.prototype=Object.create(n.Container.prototype)).setTitle=function(e,t){this.title.setText(e),this.title.style.fontFamily=t},ZIh.prototype.onYesButtonPressed=function(){this.app.overlayManager.hide(),this.app.languageScreen.confirmLanguage()},ZIh.prototype.onNoButtonPressed=function(){this.app.overlayManager.hide(!0)},ZIh.prototype.resize=function(e,t){this.x=e/2,this.y=t/2},i.exports=ZIh}.call(t,l,t,e))||(e.exports=i)},function(e,t,s){"use strict";var i;void 0===(i=function(e,t,i){function wJh(e){n.Container.call(this),this.app=e,this.hasClose=!1,this.bg=n.Sprite.from("panel-quit.png"),this.bg.anchor.set(.5),this.addChild(this.bg),this.title=new a.h1("STR_TITLE_SKIP"),this.title.anchor.set(.5),this.title.position.set(0,-150),this.addChild(this.title);var t=new o("STR_TITLE_SKIP_MESSAGE",{fill:"#493008",fontSize:24,fontFamily:"avenir",maxWidth:500});t.anchor.set(.5),t.x=0,t.y=-20,this.addChild(t),this.yesButton=new r("button-yes.png",null,null,null,1.1),this.yesButton.defaultScale=1,this.yesButton.position.set(-65,110),this.yesButton.onPress.add(this.onYesButtonPressed,this),this.addChild(this.yesButton),this.noButton=new r("button-no.png",null,null,null,1.1),this.noButton.defaultScale=1,this.noButton.position.set(65,110),this.noButton.onPress.add(this.onNoButtonPressed,this),this.addChild(this.noButton)}var n=s(0),r=(s(13),s(19)),a=(s(33),s(324),s(18)),o=(s(6),s(25).Translation,s(5),s(32),s(11));(wJh.prototype=Object.create(n.Container.prototype)).onYesButtonPressed=function(){this.app.topMenu.skipButton.visible=!1,this.app.overlayManager.hide(),this.app.game.tutorialManager.onTutorialSkipped()},wJh.prototype.onNoButtonPressed=function(){this.app.overlayManager.hide()},wJh.prototype.resize=function(e,t){this.x=e/2,this.y=t/2},i.exports=wJh}.call(t,s,t,e))||(e.exports=i)},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n=i(0),r=_interopRequireDefault(i(679)),a=_interopRequireDefault(i(6)),o=_interopRequireDefault(i(15)),s=i(17),l=_interopRequireDefault(i(5));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var u=function(i){var e,t;function InstructionsScreen(e){var t;return _defineProperty(_assertThisInitialized(t=i.call(this)||this),"app",void 0),_defineProperty(_assertThisInitialized(t),"hasClose",void 0),_defineProperty(_assertThisInitialized(t),"content",void 0),t.app=e,t.hasClose=!1,t}t=i,(e=InstructionsScreen).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=InstructionsScreen.prototype;return n.init=function(){this.content=new r.default,this.content.onNextButton.add(this.onNextButtonPressed,this),this.content.onPreviousButton.add(this.onPreviousButtonPressed,this),this.content.onTutorialButton.add(this.onTutorialButtonPressed,this),this.addChild(this.content),this.content.nextButton.visible=!1},n.onShow=function(){this.content||this.init(),CES.dispatch(s.EventKeys.MENU_HELP_SELECTED),window.TUTORIAL?this.content.tutorialButton.visible=!1:this.content.tutorialButton.visible=!0},n.onHidden=function(){this.app.topMenu.buttons.pause.enable()},n.onPreviousButtonPressed=function(){this.app.overlayManager.show(a.default.OVERLAY_ID.PAUSE)},n.onNextButtonPressed=function(){this.app.overlayManager.show(a.default.OVERLAY_ID.PAUSE)},n.onTutorialButtonPressed=function(){TweenLite.to(this.app.game.black,.8,{alpha:1,ease:Sine.easeOut,onComplete:this.onTutorialButtonPressedFadeOut,onCompleteScope:this}),this.app.overlayManager.hide();var e=this.app.game.ball.lastOwner;this.app.game.scripts.start.active&&(e={isTeamA:!this.app.game.scripts.start.left}),l.default.savedGame={gameTime:this.app.game.timer.count,goalsA:this.app.game.goalsA,goalsB:this.app.game.goalsB,lastOwner:e}},n.onTutorialButtonPressedFadeOut=function(){TweenLite.to(this.app.game.black,.8,{alpha:0,ease:Sine.easeOut}),window.TUTORIAL=!0,this.app.game.reset(),this.app.game.tutorialManager.reset(),this.app.game.tutorialManager.start(),this.app.game.tutorialManager.resize(this.app.game.w,this.app.game.h)},n.resize=function(e,t){this.x=e/2,this.y=t/2,this.content&&(o.default.instance.desktop?this.content.bg.height=t-150:this.content.bg.height=t-20,this.content.bg.scale.x=this.content.bg.scale.y)},InstructionsScreen}(n.Container);t.default=u},function(e,t,r){"use strict";var i;void 0===(i=function(e,t,i){function qKh(e){var t;a.Container.call(this),this.hasNextButton=!1!==e,this.mobile=!c.instance.desktop,this.bg=a.Sprite.from("panel-leaderboard.png"),this.mobile&&this.bg.scale.set(.8),this.bg.anchor.set(.5),this.addChild(this.bg),(t=a.Sprite.from("panel-1.png")).anchor.x=.5,t.scale.set(.9),t.position.set(-280,-180),this.bg.addChild(t),(t=a.Sprite.from("panel-2.png")).anchor.x=.5,t.scale.set(.9),t.position.set(0,-180),this.bg.addChild(t),(t=a.Sprite.from("panel-1.png")).anchor.x=.5,t.scale.set(.9),t.position.set(280,-180),this.bg.addChild(t),this.title=new l.h1("STR_INSTRUCTIONS_TITLE"),this.title.upperCase=!0,this.title.anchor.set(.5,1),this.title.position.set(0,-270),this.bg.addChild(this.title),this.onNextButton=new u,this.onPreviousButton=new u,this.onTutorialButton=new u;var i,n={fill:"#493008",fontSize:18,fontFamily:window.MAIN_FONT,upperCase:!0,maxWidth:200};this.movementLabel=new p("STR_INSTRUCTIONS_MOVEMENT",n),this.movementLabel.anchor.set(.5),this.movementLabel.position.set(-275,-137),this.bg.addChild(this.movementLabel),n.maxWidth=250,this.tackleLabel=new p(["STR_INSTRUCTIONS_TACKLE","no"===window.LANGUAGE?"/":" / ","STR_INSTRUCTIONS_PASS"],n),this.tackleLabel.anchor.set(.5),this.tackleLabel.position.set(0,-137),this.bg.addChild(this.tackleLabel),n.maxWidth=200,this.specialShotLabel=new p("STR_INSTRUCTIONS_POWERSHOT",n),this.specialShotLabel.anchor.set(.5),this.specialShotLabel.position.set(275,-137),this.bg.addChild(this.specialShotLabel),this.line=new a.Graphics,this.line.lineStyle(4,4796424).moveTo(0,0).lineTo(40,-82),this.line.x=-15,this.line.y=-10,this.mobile&&(this.line.y+=20),this.bg.addChild(this.line),this.movementKey=a.Sprite.fromFrame(this.mobile?"joystick-back.png":"arrow-keys.png"),this.movementKey.anchor.set(.5,.5),this.movementKey.position.set(-280,80),this.bg.addChild(this.movementKey),this.mobile&&((i=a.Sprite.fromFrame("joystick.png")).anchor.set(.5),this.movementKey.icon=i,this.movementKey.addChild(i),this.movementPointer=a.Sprite.fromFrame("pointer2.png"),this.movementPointer.anchor.set(.5),this.movementPointer.position.set(-280,120),this.movementPointer.alpha=0,this.bg.addChild(this.movementPointer)),this.tackleKey=a.Sprite.fromFrame(this.mobile?"touch-button.png":"spacebar.png"),this.tackleKey.scale.set(.75),this.tackleKey.anchor.set(.5,.5),this.tackleKey.position.set(0,this.mobile?90:110),this.bg.addChild(this.tackleKey),this.mobile&&((i=a.Sprite.fromFrame("touch-button-hit.png")).anchor.set(.5),this.tackleKey.addChild(i),this.tackleKeyIcon=i,this.tackleKeyIcon.visible=!1,this.tacklePointer=a.Sprite.fromFrame("pointer2.png"),this.tacklePointer.anchor.set(.5),this.tacklePointer.position.set(0,150),this.tacklePointer.alpha=0,this.bg.addChild(this.tacklePointer)),n={fill:"black",fontSize:20,fontFamily:"lubalin",align:"center"},this.specialShotKey=a.Sprite.fromFrame(this.mobile?"touch-button.png":"spacebar.png"),this.specialShotKey.scale.set(.75),this.specialShotKey.anchor.set(.5,.5),this.specialShotKey.position.set(285,this.mobile?90:110),this.bg.addChild(this.specialShotKey),this.mobile&&((i=a.Sprite.fromFrame("touch-button-hit.png")).anchor.set(.5),this.specialShotKey.icon=i,this.specialShotKey.icon.visible=!1,this.specialShotKey.addChild(i),this.specialShotKey.y+=15,this.specialShotPointer=a.Sprite.fromFrame("pointer2.png"),this.specialShotPointer.anchor.set(.5),this.specialShotPointer.position.set(285,150),this.specialShotPointer.alpha=0,this.bg.addChild(this.specialShotPointer));var r=s.getJson("character-animation")["finn-blue"];this.movementAnim=new a.extras.MovieClip(h.getTexturesFromFrames(r.run)),this.movementAnim.anchor.set(.5,.5),this.movementAnim.scale.set(.6),this.movementAnim.position.set(-275,-60),this.movementAnim.animationSpeed=.3,this.mobile||this.movementAnim.play(),this.bg.addChild(this.movementAnim),this.tackleAnim=new a.extras.MovieClip(h.getTexturesFromFrames(r.tackle)),this.tackleAnim.anchor.set(.5,.5),this.tackleAnim.scale.set(.6),this.tackleAnim.position.set(-55,-60),this.tackleAnim.animationSpeed=.3,this.mobile||this.tackleAnim.play(),this.bg.addChild(this.tackleAnim),this.shortPassAnim=new a.extras.MovieClip(h.getTexturesFromFrames(r.kickCharge)),this.shortPassAnim.anchor.set(.5,.5),this.shortPassAnim.scale.set(.6),this.shortPassAnim.position.set(55,-60),this.shortPassAnim.animationSpeed=.3,this.mobile||this.shortPassAnim.play(),this.bg.addChild(this.shortPassAnim),this.specialShotAnim=new a.extras.MovieClip(h.getTexturesFromFrames(r.kickCharge)),this.specialShotAnim.anchor.set(.5,.5),this.specialShotAnim.scale.set(.6),this.specialShotAnim.position.set(275,-60),this.specialShotAnim.animationSpeed=.3,this.specialShotAnim.loop=!1,this.specialShotAnim.play(),this.bg.addChild(this.specialShotAnim),this.previousButton=new o("button-back.png",null,null,null,1.1),this.previousButton.scaleVal=.6,this.previousButton.defaultScale=.5,this.previousButton.position.set(-442,-294),this.previousButton.scale.set(.5),this.previousButton.onPress.add(this.onPreviousButtonPressed,this),window.prevButton=this.previousButton,this.bg.addChild(this.previousButton),this.tutorialButton=new f("button-green-longer.png",null,null,"STR_PLAYTUTORIAL",1.1),this.tutorialButton.defaultScale=1,this.tutorialButton.position.set(0,230),this.tutorialButton.onPress.add(this.onTutorialButtonPressed,this),this.bg.addChild(this.tutorialButton),this.nextButton=new o("icon-back.png"),this.nextButton.position.set(380,200),this.nextButton.onPress.add(this.onNextButtonPressed,this),this.hasNextButton&&this.bg.addChild(this.nextButton),this.chargeBar=new d,this.ratio=0,this.chargeBar.setSize(1),this.bg.addChild(this.chargeBar),this.chargeBar.scale.set(.9),this.chargeBar.show(),this.chargeBar.position.set(280,30),this.count=0,this.step=0,this.tick=0,this.movementStep=0,this.tackleStep=0,this.tackleTick=0,this.specialShotStep=0,this.specialShotTick=0,this.specialShotAnim.gotoAndStop(1)}var a=r(0),o=r(19),s=r(33),l=r(18),u=r(3),h=r(29),d=r(319),c=r(15),p=r(11),f=r(26),n=r(4);(qKh.prototype=Object.create(a.Container.prototype)).updateTransform=function(){if(this.containerUpdateTransform(),this.mobile){if(this.tick+=.03*n.instance.deltaTime,0===this.movementStep)1<this.tick&&(this.tick=1),this.movementPointer.alpha=this.tick,1===this.tick&&(this.tick=0,this.movementStep++,this.movementAnim.play());else if(1===this.movementStep){var e=40;this.movementPointer.position.x=this.tick*e-280,this.movementKey.icon.position.x=this.tick*e,1.5<this.tick&&(this.tick=0,this.movementStep=0,this.movementPointer.position.x=-280,this.movementKey.icon.position.x=0,this.movementAnim.gotoAndStop(1),this.movementPointer.alpha=0)}if(this.tackleTick+=.03*n.instance.deltaTime,0===this.tackleStep)1<this.tackleTick&&(this.tackleTick=1),this.tacklePointer.alpha=this.tackleTick,1===this.tackleTick&&(this.tackleTick=0,this.tackleStep++);else if(1===this.tackleStep){e=40;this.tacklePointer.position.y=150-this.tackleTick*e,.8<this.tackleTick&&(this.tackleTick=0,this.tackleStep++,this.tackleKeyIcon.visible=!0,this.tackleAnim.play(),this.shortPassAnim.play())}else 2===this.tackleStep&&1.2<this.tackleTick&&(this.tackleTick=0,this.tackleStep=0,this.tackleKeyIcon.visible=!1,this.tackleAnim.gotoAndStop(1),this.shortPassAnim.gotoAndStop(1),this.tacklePointer.position.y=150,this.tacklePointer.alpha=0)}if(this.mobile)if(0===this.step)this.ratio+=.03*n.instance.deltaTime,1<this.ratio&&(this.ratio=1),this.specialShotPointer.position.y=160,this.specialShotPointer.alpha=this.ratio,1===this.ratio&&(this.ratio=0,this.step++);else if(1===this.step){this.ratio+=.03*n.instance.deltaTime;e=40;this.specialShotPointer.position.y=160-this.ratio*e,.8<this.ratio&&(this.ratio=0,this.step++)}else 2===this.step?(this.ratio+=.01*n.instance.deltaTime,this.chargeBar.setRatio(this.ratio),this.specialShotKey.texture=a.Texture.fromFrame(this.mobile?"touch-button.png":"spacebar-hit.png"),this.specialShotKey.icon.visible=!0,.75<this.ratio&&(this.step=3,this.count=0,this.specialShotAnim.play(),this.specialShotKey.texture=a.Texture.fromFrame(this.mobile?"touch-button.png":"spacebar.png"),this.specialShotKey.icon.visible=!1,this.specialShotPointer.alpha=0)):3===this.step&&(this.count+=n.instance.deltaTime,30<this.count&&(this.step=0,this.ratio=0,this.specialShotAnim.gotoAndStop(1),this.specialShotPointer.position.y=160,this.specialShotPointer.alpha=0));else 0===this.step?(this.ratio+=.01*n.instance.deltaTime,this.chargeBar.setRatio(this.ratio),this.specialShotKey.texture=a.Texture.fromFrame("spacebar-hit.png"),.75<this.ratio&&(this.step=1,this.count=0,this.specialShotAnim.play(),this.specialShotKey.texture=a.Texture.fromFrame("spacebar.png"))):1===this.step&&(this.count+=n.instance.deltaTime,30<this.count&&(this.step=0,this.ratio=0,this.specialShotAnim.gotoAndStop(1)))},qKh.prototype.onPreviousButtonPressed=function(){this.onPreviousButton.dispatch()},qKh.prototype.onTutorialButtonPressed=function(){this.onTutorialButton.dispatch()},qKh.prototype.onNextButtonPressed=function(){this.onNextButton.dispatch()},i.exports=qKh}.call(t,r,t,e))||(e.exports=i)},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var r=i(0),a=_interopRequireDefault(i(18)),o=_interopRequireDefault(i(13)),s=_interopRequireDefault(i(19)),l=_interopRequireDefault(i(26)),u=_interopRequireDefault(i(15)),h=_interopRequireDefault(i(681));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=function(i){var e,t;function SettingsScreen(e){var t;_defineProperty(_assertThisInitialized(t=i.call(this)||this),"app",void 0),_defineProperty(_assertThisInitialized(t),"darkShade",void 0),_defineProperty(_assertThisInitialized(t),"bg",void 0),_defineProperty(_assertThisInitialized(t),"title",void 0),_defineProperty(_assertThisInitialized(t),"languageButton",void 0),_defineProperty(_assertThisInitialized(t),"rateButton",void 0),_defineProperty(_assertThisInitialized(t),"termsButton",void 0),_defineProperty(_assertThisInitialized(t),"privacyButton",void 0),_defineProperty(_assertThisInitialized(t),"soundButton",void 0),_defineProperty(_assertThisInitialized(t),"languagePopup",void 0),_defineProperty(_assertThisInitialized(t),"w",void 0),_defineProperty(_assertThisInitialized(t),"h",void 0),t.app=e,t.darkShade=new r.Sprite(r.Texture.WHITE),t.darkShade.tint=0,t.darkShade.alpha=.7,t.darkShade.anchor.set(.5),t.darkShade.interactive=!0,t.addChild(t.darkShade),t.bg=r.Sprite.from("panel-small-wide-panel.png"),t.bg.anchor.set(.5),t.addChild(t.bg),t.title=a.default.h1("STR_SETTINGS_TITLE"),t.title.anchor.set(.5),t.title.y=-230,t.bg.addChild(t.title);return t.languageButton=new l.default("button-pink-languages.png",null,null,"STR_SETTINGS_LANGUAGE",1.05,null,32,"avenir"),t.languageButton.label.maxWidth=250,t.languageButton.onPress.add(function(){t.languagePopup.show()}),t.languageButton.defaultScale=1,t.languageButton.x=-215,t.languageButton.y=30,t.bg.addChild(t.languageButton),t.rateButton=new l.default("button-blue-settings.png",null,null,"STR_SETTINGS_RATE",1.05,null,32,"avenir",350),t.rateButton.defaultScale=1,t.rateButton.x=215,t.rateButton.y=30,t.rateButton.onPress.add(function(){u.default.instance.android?window.open("market://details?id=com.turner.tooncup","_system"):window.open("itms-apps://itunes.apple.com/gb/app/toon-cup-2018-football-game/id1338227911","_system")}),t.bg.addChild(t.rateButton),t.privacyButton=new l.default("button-blue-settings.png",null,null,"STR_SETTINGS_PRIVACYPOLICY",1.05,null,32,"avenir",350),t.privacyButton.defaultScale=1,t.privacyButton.x=-215,t.privacyButton.y=150,t.privacyButton.onPress.add(function(){window.open(window.translations.URL_PRIVACY||"https://www.cartoonnetworkeurope.com/legal/en/#textBox_priv_a","_blank")}),t.bg.addChild(t.privacyButton),t.termsButton=new l.default("button-blue-settings.png",null,null,"STR_SETTINGS_TERMS",1.05,null,32,"avenir",350),t.termsButton.defaultScale=1,t.termsButton.x=215,t.termsButton.y=150,t.termsButton.onPress.add(function(){window.open(window.translations.URL_TERMS||"https://www.cartoonnetworkeurope.com/legal/en/#textBox_tou_a","_blank")}),t.bg.addChild(t.termsButton),t.soundButton=new s.default("button-blue-blank.png",null,null,"icon-sound-on.png",1.05),t.soundButton.defaultScale=1,t.soundButton.position.y=-105,t.soundButton.onPress.add(t.toggleSound,_assertThisInitialized(t)),t.bg.addChild(t.soundButton),t.languagePopup=new h.default(e),t.addChild(t.languagePopup),t}t=i,(e=SettingsScreen).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=SettingsScreen.prototype;return n.toggleSound=function(){o.default.sfx.isMuted?(o.default.sfx.unmute(),o.default.music.unmute()):(o.default.sfx.mute(),o.default.music.mute()),this.updateSoundButtons()},n.updateSoundButtons=function(){var e=o.default.sfx.isMuted?"icon-sound-off.png":"icon-sound-on.png";this.soundButton.icon.texture=r.Texture.from(e),LOCAL_STORAGE.store("muted",o.default.sfx.isMuted)},n.onHide=function(){this.languagePopup.hide(),this.app.topMenu.disableButtons()},n.onHidden=function(){this.app.topMenu.enableButtons()},n.onShow=function(){this.updateSoundButtons(),this.resize(this.w,this.h),this.app.topMenu.setState("homeclose")},n.onShown=function(){this.app.topMenu.enableButtons(),this.app.screenManager.currentScreen.interactiveChildren=!0},n.resize=function(e,t){this.w=e,this.h=t,u.default.instance.desktop?this.bg.height=t-200:this.bg.height=2.1<e/t?t-120:Math.min(t-165,550),this.bg.scale.x=this.bg.scale.y,this.bg.position.set(e/2,t/2),this.languagePopup.resize(e,t),this.languagePopup.position.set(e/2,t/2);var i=this.app.screenManager.container.x/this.app.screenManager.container.scale.x,n=this.app.screenManager.container.y/this.app.screenManager.container.scale.y;this.darkShade.position.set(e/2,t/2),this.darkShade.width=e+2*i,this.darkShade.height=t+2*n},SettingsScreen}(r.Container);t.default=n},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var m=i(0),_=i(25),n=_interopRequireDefault(i(13)),g=_interopRequireDefault(i(19)),v=_interopRequireDefault(i(26)),y=_interopRequireDefault(i(99)),b=_interopRequireDefault(i(100)),w=_interopRequireDefault(i(54)),x=_interopRequireDefault(i(11)),T=_interopRequireDefault(i(33)),r=_interopRequireDefault(i(15)),a=i(17);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var o=function(f){var e,t;function LanguagePopup(e){var r;_defineProperty(_assertThisInitialized(r=f.call(this)||this),"darkShade",void 0),_defineProperty(_assertThisInitialized(r),"bg",void 0),_defineProperty(_assertThisInitialized(r),"buttonsContainer",void 0),_defineProperty(_assertThisInitialized(r),"scrollCombo",void 0),_defineProperty(_assertThisInitialized(r),"app",void 0),_defineProperty(_assertThisInitialized(r),"defaultScale",void 0),r.app=e,r.darkShade=new m.Sprite(m.Texture.WHITE),r.darkShade.tint=0,r.darkShade.baseAlpha=.8,r.darkShade.anchor.set(.5),r.darkShade.interactive=!0,r.darkShade.touchstart=r.darkShade.mousedown=function(){r.hide()},r.addChild(r.darkShade),r.bg=m.Sprite.from("panel-language-popup.png"),r.bg.anchor.set(.5),r.bg.interactive=!0,r.addChild(r.bg);var t=new x.default("STR_SETTINGS_LANGUAGE",{fill:"#493008",fontSize:36,fontFamily:window.MAIN_FONT});t.anchor.set(.5),t.x=0,t.y=-158,r.bg.addChild(t);var i=new g.default("button-cross.png",null,null,null,.8);i.defaultScale=.75,i.scale.set(i.defaultScale),i.x=r.bg.width/2-i.width/2-8,i.y=-r.bg.height/2+i.height/2+8,i.onPress.add(function(){r.hide()}),r.bg.addChild(i),r.buttonsContainer=new m.Container,r.bg.addChild(r.buttonsContainer);var n=new m.Graphics;n.beginFill(0),n.drawRect(0,0,400,280),n.position.set(-200,-120),r.bg.addChild(n),r.buttonsContainer.mask=n;function ILh(e){var t=T.default.getJson("strings")[e][_.Translation.languages[e]],i="avenir";"vi"!==e&&"ro"!==e&&"cs"!==e||(i="fredburger");var n=new v.default("button-blue-settings.png",null,null,t,1.05,null,null,i,200,0,!0);n.pressSound=null,n.defaultScale=1,n.x=0,n.y=110*a-65,n.onPress.add(function(){r.selectLanguage(e)}),r.buttonsContainer.addChild(n),a++}var a=0;for(var o in _.Translation.languages)ILh(o);var s={target:r.buttonsContainer},l=new w.default(s),u=m.Sprite.from("scroll-bar-bit.png");u.anchor.set(0,.5);var h=m.Sprite.from("scroll-bar.png"),d=new y.default({draggerHeight:40,dragLength:253,bar:h,dragger:u});d.position.set(225,-100),r.bg.addChild(d);var c=99.5*Object.keys(_.Translation.languages).length,p=new b.default({scrollbar:d,trackpad:l,min:0,max:c});return r.scrollCombo=p,r.visible=!1,r}t=f,(e=LanguagePopup).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=LanguagePopup.prototype;return i.selectLanguage=function(e){this.scrollCombo.trackpad.didMove||(n.default.sfx.play("button_press"),CES.dispatch(a.EventKeys.APP_LANGUAGE_SELECTED,{language_id:_.Translation.analytics[e]}),LOCAL_STORAGE.store("language",e),window.app.changeLanguage(e),this.hide())},i.show=function(){this.app.topMenu.buttons.prev.disable(),this.visible=!0,this.bg.scale.set(this.defaultScale-.2),this.bg.alpha=1,TweenLite.to(this.darkShade,.4,{alpha:this.darkShade.baseAlpha,ease:Power1.easeOut}),TweenLite.to(this.bg.scale,.8,{x:this.defaultScale,y:this.defaultScale,ease:Elastic.easeOut})},i.hide=function(){var e=this;TweenLite.to(this.darkShade,.1,{alpha:0,ease:Power1.easeOut}),TweenLite.to(this.bg.scale,.1,{x:this.defaultScale-.2,y:this.defaultScale-.2,ease:Power1.easeOut}),TweenLite.to(this.bg,.1,{alpha:0,ease:Power1.easeOut,onComplete:function(){e.app.topMenu.buttons.prev.enable(),e.visible=!1}})},i.updateTransform=function(){f.prototype.updateTransform.call(this),this.scrollCombo.update(),this.buttonsContainer.y=this.scrollCombo.value},i.resize=function(e,t){r.default.instance.desktop?this.bg.height=t-350:this.bg.height=2.1<e/t?t-270:Math.min(t-315,550),this.defaultScale=this.bg.scale.x=this.bg.scale.y;var i=this.app.screenManager.container.x/this.app.screenManager.container.scale.x,n=this.app.screenManager.container.y/this.app.screenManager.container.scale.y;this.darkShade.x=0,this.darkShade.y=0,this.darkShade.width=e+2*i,this.darkShade.height=t+2*n},LanguagePopup}(m.Container);t.default=o},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n=_interopRequireDefault(i(131)),r=_interopRequireDefault(i(5)),s=i(32),a=_interopRequireDefault(i(6));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var o=function(o){var e,t;function PlayerSelectScreen(e,t){var i,n,r,a;return i=o.call(this,e,{title:["STR_PLAYER_SELECT_TITLE",1===t?"2":"3"],enableLockedPopup:!0,enableBreadcrumb:!0,screenIdentifier:1===t?"first":"second"})||this,n=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(i),a=void 0,(r="playerIndex")in n?Object.defineProperty(n,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[r]=a,i.playerIndex=t,i.setPlayers(s.getCharacters.all()),i.onCardSelected.add(function(e){i.selectPlayer(e),setTimeout(function(){i.app.breadcrumb.currentItem.update(e.data,e.orange),i.app.breadcrumb.next()},300),i.app.topMenu.disablePrev=!0,i.updateCharaterGameSession(e)}),i}t=o,(e=PlayerSelectScreen).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=PlayerSelectScreen.prototype;return i.updateCharaterGameSession=function(e){r.default.teamA[this.playerIndex]=e.data},i.onShow=function(){o.prototype.onShow.call(this),this.app.topMenu.prevScreen=1===this.playerIndex?a.default.SCREEN_ID.CAPTAIN_SELECT:a.default.SCREEN_ID.PLAYER_SELECT,this.app.topMenu.nextScreen=1===this.playerIndex?a.default.SCREEN_ID.PLAYER_SELECT_2:a.default.SCREEN_ID.TEAM_REVIEW,this.app.topMenu.setState("prevsettings")},PlayerSelectScreen}(n.default);t.default=o},function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e){if(e)return r.default.music.addSound(ASSET_URL+"snd/football_loop_mixdown","menumusic2",{loop:!0}),r.default.music.sounds.menumusic2.load(),void r.default.music.sounds.menumusic2.once("load",function(){window.app.musicLoaded=!0,window.app.loaderScreen.onSplashscreenCompletedDispatched&&window.app.redirectToInitialScreen()});window.cordova&&(!window.cordova||Device.instance.android)||r.default.music.addSound(ASSET_URL+"snd/football_loop_mixdown","menumusic2",{loop:!0});r.default.sfx.addSound(ASSET_URL+"snd/super/badgerclops-power","MMHPH_Badgerclops",{volume:1.8}),r.default.sfx.addSound(ASSET_URL+"snd/super/maomao-power","MMHPH_Maomao",{volume:1.8}),r.default.sfx.addSound(ASSET_URL+"snd/super/BATGIRL_2","BATGIRL_2"),r.default.sfx.addSound(ASSET_URL+"snd/super/WONDERWOMAN_1","WONDERWOMAN_1"),r.default.sfx.addSound(ASSET_URL+"snd/super/ONION_1","ONION_1"),r.default.sfx.addSound(ASSET_URL+"snd/super/RAVEN_1","RAVEN_1"),r.default.sfx.addSound(ASSET_URL+"snd/super/APPLE_5","APPLE_5"),r.default.sfx.addSound(ASSET_URL+"snd/super/CRAIG_2","CRAIG_2"),r.default.sfx.addSound(ASSET_URL+"snd/super/KELSEY_1","KELSEY_1"),r.default.sfx.addSound(ASSET_URL+"snd/super/Adventure_Time_BMO","Adventure_Time_BMO"),r.default.sfx.addSound(ASSET_URL+"snd/super/Adventure_Time_Bubblegum","Adventure_Time_Bubblegum"),r.default.sfx.addSound(ASSET_URL+"snd/super/Adventure_Time_Finn","Adventure_Time_Finn"),r.default.sfx.addSound(ASSET_URL+"snd/super/Adventure_Time_Jake","Adventure_Time_Jake"),r.default.sfx.addSound(ASSET_URL+"snd/super/Adventure_Time_Marcelline","Adventure_Time_Marcelline"),r.default.sfx.addSound(ASSET_URL+"snd/super/Ben_10_Ben","Ben_10_Ben"),r.default.sfx.addSound(ASSET_URL+"snd/super/Ben_10_Four_Arms","Ben_10_Four_Arms"),r.default.sfx.addSound(ASSET_URL+"snd/super/Ben_10_XLR8","Ben_10_XLR8"),r.default.sfx.addSound(ASSET_URL+"snd/super/Gumball_Anais","Gumball_Anais"),r.default.sfx.addSound(ASSET_URL+"snd/super/Gumball_Darwin","Gumball_Darwin"),r.default.sfx.addSound(ASSET_URL+"snd/super/Gumball_Gumball","Gumball_Gumball"),r.default.sfx.addSound(ASSET_URL+"snd/super/Gumball_Richard","Gumball_Richard"),r.default.sfx.addSound(ASSET_URL+"snd/super/Magiswords_Grup","Magiswords_Grup"),r.default.sfx.addSound(ASSET_URL+"snd/super/Magiswords_Prohyas","Magiswords_Prohyas"),r.default.sfx.addSound(ASSET_URL+"snd/super/Magiswords_Vanbre","Magiswords_Vanbre"),r.default.sfx.addSound(ASSET_URL+"snd/super/Powerpuff_Girls_Blossom","Powerpuff_Girls_Blossom"),r.default.sfx.addSound(ASSET_URL+"snd/super/Powerpuff_Girls_Bubbles","Powerpuff_Girls_Bubbles"),r.default.sfx.addSound(ASSET_URL+"snd/super/Powerpuff_Girls_Buttercup","Powerpuff_Girls_Buttercup"),r.default.sfx.addSound(ASSET_URL+"snd/super/Powerpuff_Girls_Mojo","Powerpuff_Girls_Mojo"),r.default.sfx.addSound(ASSET_URL+"snd/super/Regular_Show_Mordecai","Regular_Show_Mordecai"),r.default.sfx.addSound(ASSET_URL+"snd/super/Regular_Show_Rigby","Regular_Show_Rigby"),r.default.sfx.addSound(ASSET_URL+"snd/super/Teen_Titans_Go_Cyborg","Teen_Titans_Go_Cyborg"),r.default.sfx.addSound(ASSET_URL+"snd/super/Teen_Titans_Go_Robin","Teen_Titans_Go_Robin"),r.default.sfx.addSound(ASSET_URL+"snd/super/Teen_Titans_Go_Starfire","Teen_Titans_Go_Starfire"),r.default.sfx.addSound(ASSET_URL+"snd/super/We_Bare_Bears_Grizz","We_Bare_Bears_Grizz"),r.default.sfx.addSound(ASSET_URL+"snd/super/We_Bare_Bears_Ice_Bear","We_Bare_Bears_Ice_Bear"),r.default.sfx.addSound(ASSET_URL+"snd/super/We_Bare_Bears_Panda","We_Bare_Bears_Panda"),r.default.sfx.addSound(ASSET_URL+"snd/applause_extra2","applause_extra2"),r.default.sfx.addSound(ASSET_URL+"snd/button_deselect","cantselect"),r.default.sfx.addSound(ASSET_URL+"snd/ballkick_pass","ballkick_pass"),r.default.sfx.addSound(ASSET_URL+"snd/ball_pickup","ball_pickup"),r.default.sfx.addSound(ASSET_URL+"snd/ballkick_post","ballkick_post"),r.default.sfx.addSound(ASSET_URL+"snd/ballkick_shoot","ballkick_shoot"),r.default.sfx.addSound(ASSET_URL+"snd/ballkick_shoot_hard","ballkick_shoot_hard"),r.default.sfx.addSound(ASSET_URL+"snd/button_press","button_press"),r.default.sfx.addSound(ASSET_URL+"snd/button_press2","button_press2"),r.default.sfx.addSound(ASSET_URL+"snd/button_roll","button_roll"),r.default.sfx.addSound(ASSET_URL+"snd/electro_cute","electro_cute"),r.default.sfx.addSound(ASSET_URL+"snd/tackle_hit_deck","tackle_hit_deck",{volume:1}),r.default.sfx.addSound(ASSET_URL+"snd/whistle_full_time","whistle_full_time"),r.default.sfx.addSound(ASSET_URL+"snd/big_kick","big_kick"),r.default.sfx.addSound(ASSET_URL+"snd/slide_1","slide_1"),r.default.sfx.addSound(ASSET_URL+"snd/slide_2","slide_2"),r.default.sfx.addSound(ASSET_URL+"snd/slide_3","slide_3"),r.default.sfx.addSound(ASSET_URL+"snd/power_up_charge","power_up_charge"),r.default.sfx.addSound(ASSET_URL+"snd/crowd_normal_1","crowd_normal_1"),r.default.sfx.addSound(ASSET_URL+"snd/crowd_normal_2","crowd_normal_2"),r.default.sfx.addSound(ASSET_URL+"snd/crowd_normal_3","crowd_normal_3"),r.default.sfx.addSound(ASSET_URL+"snd/crowd_goal_3","crowd_goal_3"),r.default.sfx.addSound(ASSET_URL+"snd/character_unlock","character_unlock"),r.default.sfx.addSound(ASSET_URL+"snd/goal_coins","goal_coins"),r.default.sfx.addSound(ASSET_URL+"snd/squash","squash"),r.default.sfx.addSound(ASSET_URL+"snd/sfx_coin_01","sfx_coin_01"),r.default.sfx.addSound(ASSET_URL+"snd/sfx_fireball","sfx_fireball"),r.default.sfx.addSound(ASSET_URL+"snd/sfx_freeze","sfx_freeze"),r.default.sfx.addSound(ASSET_URL+"snd/sfx_getcoins","sfx_getcoins"),r.default.sfx.addSound(ASSET_URL+"snd/sfx_homing","sfx_homing"),r.default.sfx.addSound(ASSET_URL+"snd/sfx_reveal","sfx_reveal"),r.default.sfx.addSound(ASSET_URL+"snd/sfx_shrink","sfx_shrink"),r.default.sfx.addSound(ASSET_URL+"snd/sfx_squares","sfx_squares"),r.default.sfx.addSound(ASSET_URL+"snd/sfx_banana_01","sfx_banana_01",{volume:1}),r.default.sfx.addSound(ASSET_URL+"snd/sfx_banana_02","sfx_banana_02",{volume:1}),r.default.sfx.addSound(ASSET_URL+"snd/sfx_banana_03","sfx_banana_03",{volume:1}),r.default.sfx.addSound(ASSET_URL+"snd/sfx_banana_04","sfx_banana_04",{volume:1}),r.default.sfx.addSound(ASSET_URL+"snd/sfx_banana_05","sfx_banana_05",{volume:1}),r.default.sfx.addSound(ASSET_URL+"snd/sfx_snowball","sfx_snowball",{volume:1}),r.default.sfx.addGroup(["crowd_normal_1","crowd_normal_2","crowd_normal_3"],"croudHappy"),r.default.sfx.addGroup(["slide_1","slide_2","slide_3"],"slide"),r.default.music.addSound(ASSET_URL+"snd/pause_screen","pause_screen",{loop:!0}),r.default.music.addSound(ASSET_URL+"snd/tournament_screen","tournament_screen",{loop:!0}),r.default.music.addSound(ASSET_URL+"snd/applause_loop","applause_loop",{loop:!0,volume:.1}),window.SoundManager=r.default};var n,r=(n=i(13))&&n.__esModule?n:{default:n};e.exports=t.default},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var h=i(0),r=_interopRequireDefault(i(5)),a=_interopRequireDefault(i(6)),d=i(74),o=_interopRequireDefault(i(13)),c=_interopRequireDefault(i(84)),p=_interopRequireDefault(i(11)),f=_interopRequireDefault(i(26));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=function(u){var e,t;function StadiumsScreen(e){var t;_defineProperty(_assertThisInitialized(t=u.call(this,e)||this),"selectStadiumButton",void 0),_defineProperty(_assertThisInitialized(t),"stadiumSelectedMessage",void 0),_defineProperty(_assertThisInitialized(t),"stadiumCardContainer",void 0),_defineProperty(_assertThisInitialized(t),"shadow",void 0),_defineProperty(_assertThisInitialized(t),"party",void 0),_defineProperty(_assertThisInitialized(t),"dummySprite",void 0),_defineProperty(_assertThisInitialized(t),"dummyText",void 0),_defineProperty(_assertThisInitialized(t),"width",void 0),_defineProperty(_assertThisInitialized(t),"height",void 0),t.saveDataName="stadiums",t.selectStadiumButton=new f.default("button-select-stadium.png","button-select-stadium.png","button-select-stadium.png","STR_UNLOCKABLES_SELECT_STADIUM",1.05,-3,35,null,350),t.selectStadiumButton.position.y=290,t.selectStadiumButton.defaultScale=1,t.selectStadiumButton.onPress.add(function(){t.app.stadiumsSystem.selectStadium(t.unlockables[t.currentIndex].id,!0),t.updateSelectable()}),t.bg.addChild(t.selectStadiumButton),t.selectStadiumButton.visible=!1;var i=new p.default("STR_UNLOCKABLES_STADIUM_SELECTED",{fill:"green",fontSize:36,fontFamily:"avenir",align:"left"}),n=h.Sprite.from("tick.png");n.anchor.set(0,.5),n.scale.set(.9),i.position.set(n.texture.width+10,-i.height/2),t.stadiumSelectedMessage=new h.Container,t.stadiumSelectedMessage.addChild(n),t.stadiumSelectedMessage.addChild(i),t.bg.addChild(t.stadiumSelectedMessage),t.stadiumSelectedMessage.visible=!1,t.unlockables=d.getStadiums.showable();var r=h.Sprite.from(h.Texture.WHITE);r.anchor.set(.5),r.width=t.gridOverlay.texture.width,r.height=t.gridOverlay.texture.height-5,t.bg.addChild(r),t.poster.mask=r;var a=new h.Graphics,o=new c.default(t.width,t.height,1),s=new h.Sprite,l=new p.default("STR_UNLOCKABLES_NEWSTADIUM",{fill:"white",fontSize:40,fontFamily:window.MAIN_FONT,stroke:!0,strokeThickness:8,lineJoin:"round",letterSpacing:3});return a.beginFill(0),a.drawRect(0,0,500,500),s.anchor.set(.5),l.anchor.set(.5),s.position.set(t.width/2,t.height/2),l.position.set(0,300),a.interactive=!0,t.shadow=a,t.party=o,t.dummySprite=s,t.dummyText=l,t.onUnlockableUnlocked.add(t.stadiumUnlocked,_assertThisInitialized(t)),t.onDataUpdated.add(t.updatePoster,_assertThisInitialized(t)),t}t=u,(e=StadiumsScreen).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=StadiumsScreen.prototype;return i.stadiumUnlocked=function(){var e=this,t=this.unlockables[this.currentIndex];this.app.stadiumsSystem.unlockStadium(t.id);var i=this.dummySprite,n=this.dummyText,r=this.party,a=this.shadow;i.texture=h.Texture.from(RESOLVE_PATH(ASSET_URL+"img/content/stadiums/core-assets/"+t.id+"-stadium/background-artwork.jpg")),i.scale.set((this.gridOverlay.texture.width-5)/this.poster.texture.width),i.alpha=0,n.alpha=0,r.alpha=0,a.alpha=0,this.addCongratulationsElements(),TweenLite.to(this.gridOverlay,1,{alpha:0}),TweenLite.to(this.costPanel,1,{alpha:0}),TweenLite.to(this.infoText,1,{alpha:0}),TweenLite.to(this.sliderBar,1,{alpha:0}),TweenLite.to(a,1,{alpha:.5}),TweenLite.to(i,1,{alpha:1,onComplete:function(){o.default.sfx.play("character_unlock")}}),TweenLite.to(n,2,{alpha:1,delay:1.2}),TweenLite.to(r,1,{alpha:1,delay:1.2}),TweenLite.to(n,1,{alpha:0,delay:4}),TweenLite.to(r,1,{alpha:0,delay:4}),TweenLite.to(a,1,{alpha:0,delay:4,onComplete:function(){e.removeCongratulationsElements(),e.gridOverlay.alpha=1,e.costPanel.alpha=1,e.infoText.alpha=1,e.sliderBar.alpha=1,e.updateState(),e.selectStadiumButton.interactive=!1,e.selectStadiumButton.alpha=0,e.app.topMenu.buttons.prev.enable(),TweenLite.to(e.selectStadiumButton,1,{alpha:1,delay:.1,onComplete:function(){e.selectStadiumButton.interactive=!0,e.previousButton.enable(),e.nextButton.enable()}})}})},i.updateTransform=function(){u.prototype.updateTransform.call(this),this.party&&this.party.update(this.position)},i.updateState=function(){u.prototype.updateState.call(this);var e=this.unlockables[this.currentIndex],t=r.default.coins>=a.default.UNLOCKABLES.PRICE;if(this.stadiumSelectedMessage.visible=!1,this.selectStadiumButton.visible=!1,e.available&&!e.unlockedPanels)this.title.setText(translations[e.name],!0),this.updateSelectable();else if(e.available){if(e.available){var i=this.getUnlockedPanels();if(i.length===this.panels.length)this.title.setText(translations.STR_UNLOCKABLES_UNLOCKED+": "+translations[e.name],!0),this.updateSelectable();else if(i.length!==this.panels.length&&(this.title.setText(translations.STR_UNLOCKABLES_UNLOCK+": "+translations[e.name],!0),t)){var n=translations.STR_UNLOCKABLES_COMPLETE.split("\n");this.infoText.setText(n[0])}}}else this.title.setText(translations[e.name],!0),e.comingSoon?this.statusText.setText("STR_UNLOCKABLES_COMING_SOON"):this.statusText.setText("STR_UNLOCKABLES_UNAVAILABLE")},i.updatePoster=function(){var e=this.unlockables[this.currentIndex];this.poster.texture=h.Texture.from(RESOLVE_PATH(ASSET_URL+"img/content/stadiums/core-assets/"+e.id+"-stadium/background-artwork.jpg")),this.poster.scale.set((this.gridOverlay.texture.width-5)/this.poster.texture.width)},i.updateSelectable=function(){this.unlockables[this.currentIndex].id===this.app.stadiumsSystem.activeStadium.id?(this.stadiumSelectedMessage.visible=!0,this.selectStadiumButton.visible=!1):(this.stadiumSelectedMessage.visible=!1,this.selectStadiumButton.visible=!0)},i.addCongratulationsElements=function(){this.addChild(this.shadow),this.addChild(this.dummySprite),this.addChild(this.party),this.addChild(this.dummyText)},i.removeCongratulationsElements=function(){this.removeChild(this.shadow),this.removeChild(this.dummySprite),this.removeChild(this.party),this.removeChild(this.dummyText)},i.onShow=function(){u.prototype.onShow.call(this),this.assetsLoaded&&this.showContent()},i.onAssetsLoaded=function(){u.prototype.onAssetsLoaded.call(this),this.active&&this.showContent()},i.showContent=function(){u.prototype.showContent.call(this),this.updateState()},i.resize=function(e,t){u.prototype.resize.call(this,e,t);var i=this.app.screenManager.container.x/this.app.screenManager.container.scale.x,n=this.app.screenManager.container.y/this.app.screenManager.container.scale.y;this.shadow.graphicsData[0].shape.width=e+2*i,this.shadow.graphicsData[0].shape.height=t+2*n,this.party.w=e+2*i,this.party.h=t+2*n,this.shadow.position.set(-i,-n),this.party.position.set(-i,-n),this.dummySprite.position.set(e/2,t/2),this.dummyText.position.set(e/2,t/2+285),this.stadiumSelectedMessage.position.set(-this.stadiumSelectedMessage.width/2,290)},StadiumsScreen}(_interopRequireDefault(i(310)).default);t.default=n},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var r=i(0),a=i(74),o=i(17);function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=function(){function StadiumsSystem(e){_defineProperty(this,"app",void 0),_defineProperty(this,"_backgroundContainer",void 0),_defineProperty(this,"_activeStadium",void 0),_defineProperty(this,"_inGameDecorationsCache",void 0),_defineProperty(this,"animationOn",void 0),this.app=e,this._backgroundContainer=new r.Container,this._backgroundContainer.current=null,this._activeStadium={id:null,background:null},this._inGameDecorationsCache={},this.animationOn=!1,this.app.winterMode&&this.toggleWinterStadium(),this.setStadium(a.getStadiums.selected().id)}var e,t,i,n=StadiumsSystem.prototype;return n.toggleWinterStadium=function(){a.StadiumData.default.show=!1,a.StadiumData.default.available=!1,a.StadiumData.winter.show=!0,a.StadiumData.winter.available=!0},n.unlockStadium=function(e){a.StadiumData[e].locked=!1,this.selectStadium(e,!0),CES.dispatch(o.EventKeys.UNLOCKABLES_STADIUM_UNLOCKED,{stadiumId:e})},n.selectStadium=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1),a.StadiumData[this.activeStadium.id].selected=!1,this.setStadium(e,t),i||CES.dispatch(o.EventKeys.UNLOCKABLES_STADIUM_SELECTED,{stadiumId:e})},n.setStadium=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i=!1),"default"===(e=e||"default")&&this.app.winterMode?(e="winter",t=!(a.StadiumData.default.selected=!1)):"winter"!==e||this.app.winterMode||(e="default",t=!(a.StadiumData.winter.selected=!1)),this._activeStadium.id=e,this._activeStadium.background=this.createBackground(e),this.setBackground(i),t&&(a.StadiumData[e].selected=!0,this.save())},n.save=function(){this.app.dataSystem.saveData("stadiums")},n.createBackground=function(e){return new a.StadiumData[e].background},n.setBackground=function(e){var t=this;void 0===e&&(e=!1),e?(this.backgroundContainer.current&&this.backgroundContainer.removeChild(this.backgroundContainer.current),this.backgroundContainer.current=this._activeStadium.background,this.init(),this.backgroundContainer.addChild(this.backgroundContainer.current)):this.backgroundContainer.current?TweenLite.to(this.backgroundContainer.current,.5,{alpha:0,onComplete:function(){t.backgroundContainer.removeChild(t.backgroundContainer.current),t.backgroundContainer.current=t._activeStadium.background,t.init(),t.backgroundContainer.current.alpha=0,t.backgroundContainer.addChild(t.backgroundContainer.current),TweenLite.to(t.backgroundContainer.current,.5,{alpha:1})}}):(this.backgroundContainer.current=this._activeStadium.background,this.init(),this.backgroundContainer.current.alpha=0,this.backgroundContainer.addChild(this.backgroundContainer.current),TweenLite.to(this.backgroundContainer.current,.8,{alpha:1}))},n.getGameDecoration=function(){if(this._inGameDecorationsCache[this.activeStadium.id])return this._inGameDecorationsCache[this.activeStadium.id];var e=a.StadiumData[this.activeStadium.id],t=null;return e.gameDecoration&&(t=new e.gameDecoration,this._inGameDecorationsCache[this.activeStadium.id]=t),t},n.init=function(){this.backgroundContainer.current.init(),this.resize()},n.update=function(){this.animationOn&&this.backgroundContainer.current.update()},n.resize=function(){var e=this.app.scale,t=this.app.w2,i=this.app.h2,n=this.app.ratio2*e*1.35,r=this.backgroundContainer.current.bg;if(HALF_SIZE&&(n*=2),r.scale.set(n),r.width<t*e){var a=r.width/r.height;r.width=t*e,r.height=t*e/a}r.x=t/2-r.width/2/e,r.y=i-r.height/e},e=StadiumsSystem,(t=[{key:"backgroundContainer",get:function(){return this._backgroundContainer}},{key:"activeStadium",get:function(){return this._activeStadium}}])&&_defineProperties(e.prototype,t),i&&_defineProperties(e,i),StadiumsSystem}();t.default=n},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var n=_interopRequireDefault(i(131)),s=_interopRequireDefault(i(326)),l=i(32),u=_interopRequireDefault(i(6)),h=_interopRequireDefault(i(26)),d=_interopRequireDefault(i(687));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var r=function(i){var e,t;function StatsScreen(e){var t;return _defineProperty(_assertThisInitialized(t=i.call(this,e,{title:"STR_UNLOCKABLES_SELECT_CHARACTER",transition:new s.default(e),cardConfig:{cta:{bg:"button-upgrade-large.png",content:"STR_UNLOCKABLES_UPGRADE"},ctaOffsetY:15},backgroundLoading:!0})||this),"_previousScreenId",void 0),_defineProperty(_assertThisInitialized(t),"doneButton",void 0),_defineProperty(_assertThisInitialized(t),"statsupgradeCard",void 0),t._previousScreenId=u.default.SCREEN_ID.UNLOCKABLES,t.setPlayers(l.getCharacters.unlocked()),t.statsupgradeCard=new d.default,t.addChildAt(t.statsupgradeCard,0),t.doneButton=new h.default("button-done.png",null,null,"STR_UNLOCKABLES_DONE",1.05,-6,null,null,220),t.doneButton.defaultScale=1,t.doneButton.onPress.add(function(){t.interactiveChildren=!1,t.hideStatsUpgradeCard()}),t.addChild(t.doneButton),t.doneButton.alpha=0,t.doneButton.visible=!1,t.statsupgradeCard.onStatUpgraded.add(function(e){t.app.charactersSystem.upgrade(t.selectedCard.data.id,e),t.selectedCard.updateStats()}),t.onCardSelected.add(function(e){t.selectPlayer(e)}),t.cards.forEach(function(e){e.onUpdated.add(function(e){t.updateCardCtaText(e)})}),t}t=i,(e=StatsScreen).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n,r,a,o=StatsScreen.prototype;return o.selectPlayer=function(t){var e=this;this.app.topMenu.buttons.prev.disable(),this.selectedCard=t,this.cardsContainer.interactiveChildren=!1,this.trackpad.locked=!0,this.doneButton.visible=!0,this.previousButton&&(this.previousButton.visible=!1,this.nextButton.visible=!1),this.cards.forEach(function(e){e!==t&&TweenLite.to(e,.2,{alpha:0,ease:Power1.easeOut,onComplete:function(){e.visible=!1}})}),TweenLite.to(t.ctaElement,.2,{alpha:0,ease:Power1.easeOut}),TweenLite.to(this.cardsContainer.position,.5,{x:-100,ease:Power1.easeOut,delay:.5,onComplete:function(){e.statsupgradeCard.show(t.data),e.interactiveChildren=!0}}),TweenLite.to(this.doneButton,.2,{alpha:1,ease:Power1.easeOut,delay:.8})},o.hideStatsUpgradeCard=function(){var t=this;this.statsupgradeCard.hide(),this.updateCardCtaText(this.selectedCard),TweenLite.to(this.cardsContainer.position,.5,{x:this.cardsContainer.originalX,ease:Power1.easeOut,delay:.3}),TweenLite.to(this.doneButton,.2,{alpha:0,ease:Power1.easeOut,onComplete:function(){t.doneButton.visible=!1}}),this.cards.forEach(function(e){e.visible=!0,e!==t.selectedCard&&TweenLite.to(e,.2,{alpha:1,ease:Power1.easeIn,delay:.5})}),TweenLite.to(this.selectedCard.ctaElement,.2,{alpha:1,ease:Power1.easeOut,delay:.5,onComplete:function(){t.cardsContainer.interactiveChildren=!0,t.interactiveChildren=!0,t.trackpad.locked=!1,t.trackpad.onUp(),t.previousButton&&(t.previousButton.visible=!0,t.nextButton.visible=!0),t.app.topMenu.buttons.prev.enable()}})},o.updateCardCtaText=function(e){1===e.data.speed&&1===e.data.power&&1===e.data.skill?e.ctaElement.text.setText("STR_UNLOCKABLES_MAXED"):e.ctaElement.text.setText("STR_UNLOCKABLES_UPGRADE")},o.reset=function(){this.cardsContainer.position.x=this.cardsContainer.originalX,this.doneButton.alpha=0,this.interactiveChildren=!0,this.cardsContainer.interactiveChildren=!0,this.trackpad.locked=!1,this.trackpad.onUp(),this.cards.forEach(function(e){e.visible=!0,e.alpha=1}),this.selectedCard&&(this.selectedCard.ctaElement.alpha=1),this.previousButton&&(this.previousButton.visible=!0,this.nextButton.visible=!0),this.statsupgradeCard.reset()},o.onShow=function(){this.charactersData=l.getCharacters.unlocked(),i.prototype.onShow.call(this),this.previousButton&&(this.nextButton.alpha=0,this.previousButton.alpha=0),this.app.topMenu.prevScreen=u.default.SCREEN_ID.UNLOCKABLES,this.app.topMenu.setState("prevsettings"),this.assetsLoaded&&this.showContent()},o.onAssetsLoaded=function(){i.prototype.onAssetsLoaded.call(this),this.active&&this.showContent(),this.onShown()},o.showContent=function(){this.reset(),i.prototype.showContent.call(this)},o.onShown=function(){this.previousButton&&this.assetsLoaded&&(TweenLite.to(this.nextButton,.3,{alpha:1,ease:Power1.easeOut}),TweenLite.to(this.previousButton,.3,{alpha:1,ease:Power1.easeOut}))},o.resize=function(e,t){i.prototype.resize.call(this,e,t),this.statsupgradeCard.position.y=t/2,this.doneButton.position.set(e/2,t/2+this.statsupgradeCard.height/2+50)},n=StatsScreen,(r=[{key:"previousScreenId",get:function(){return this._previousScreenId}}])&&_defineProperties(n.prototype,r),a&&_defineProperties(n,a),StatsScreen}(n.default);t.default=r},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var d=i(0),r=_interopRequireDefault(i(6)),a=i(17),o=_interopRequireDefault(i(5)),c=_interopRequireDefault(i(26)),p=_interopRequireDefault(i(11)),s=_interopRequireDefault(i(3)),f=_interopRequireDefault(i(18));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=function(n){var e,t;function StatsUpgradeCard(){var e;_defineProperty(_assertThisInitialized(e=n.call(this)||this),"currentCharacterData",void 0),_defineProperty(_assertThisInitialized(e),"bg",void 0),_defineProperty(_assertThisInitialized(e),"statBarContainers",void 0),_defineProperty(_assertThisInitialized(e),"onStatUpgraded",void 0),e.bg=d.Sprite.from("panel-black-background.png"),e.bg.anchor.set(0,.5),e.addChild(e.bg),e.statBarContainers={},e.buildStatBars("speed","graphic-upgrade-speed.png","STR_UNLOCKABLES_SPEED"),e.buildStatBars("power","graphic-upgrade-power.png","STR_UNLOCKABLES_POWER"),e.buildStatBars("skill","graphic-upgrade-accuracy.png","STR_UNLOCKABLES_ACCURACY");var t=-135;for(var i in e.statBarContainers){e.statBarContainers[i].position.set(225,t),t+=150}return e.position.x=150,e.alpha=0,e.visible=!1,e.onStatUpgraded=new s.default,e}t=n,(e=StatsUpgradeCard).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=StatsUpgradeCard.prototype;return i.buildStatBars=function(e,t,i){var n,r=this,a=new d.Container,o=f.default.h2(i,"white"),s=d.Sprite.from(t),l=new p.default("150",{fill:"0x724D05",fontSize:30,fontFamily:"avenir",align:"left"}),u=new c.default("button-upgrade-stats.png",null,null,"STR_UNLOCKABLES_UPGRADE",1.05,-6,null,null,205),h=d.Sprite.from("graphic-upgrade-cost.png");u.defaultScale=1,u.onPress.add((n=e,function(){r.upgrade(n)})),o.anchor.set(0,.5),s.anchor.set(0,.5),l.anchor.set(0,.5),h.anchor.set(0,.5),o.position.y=5-s.texture.height,u.position.x=h.texture.width+85,l.position.set(h.texture.width/2-17,-3),h.position.x=s.texture.width+15,h.addChild(l),h.addChild(u),a.addChild(o),a.addChild(s),a.addChild(h),this.bg.addChild(a),h.button=u,h.price=l,a.upgradeBar=h,this.statBarContainers[e]=a},i.upgrade=function(e){this.onStatUpgraded.dispatch(e),this.updateState()},i.updateState=function(){for(var e in this.statBarContainers){var t=this.statBarContainers[e].upgradeBar;if(1===this.currentCharacterData[e]&&t.price.visible&&(t.button.interactive=!1,t.button.setBackground("graphic-stats-maxed-container.png"),t.button.label.setText("STR_UNLOCKABLES_MAXED"),t.button.label.position.y=0,t.price.visible=!1,t.texture=d.Texture.from("tick.png")),1!==this.currentCharacterData[e])t.price.visible||(t.button.label.setText("STR_UNLOCKABLES_UPGRADE"),t.button.label.position.y=-6,t.texture=d.Texture.from("graphic-upgrade-cost.png"),t.price.visible=!0),t.price.text=r.default.UNLOCKABLES.PRICE*(10*this.currentCharacterData[e]+1),o.default.coins>=parseInt(t.price.text)?(t.button.setBackground("button-upgrade-stats.png"),t.button.label.alpha=1,t.button.interactive=!0):(t.button.setBackground("button-upgrade-stats-disabled.png"),t.button.label.alpha=.7,t.button.interactive=!1)}},i.show=function(e){CES.dispatch(a.EventKeys.UNLOCKABLES_CHARACTER_SELECTED_FOR_UPGRADE,{characterId:e.id}),this.currentCharacterData=e,this.visible=!0,this.updateState(),TweenLite.to(this,.5,{alpha:1,ease:Power1.easeOut}),TweenLite.to(this.position,.5,{x:220,ease:Power1.easeOut,onComplete:function(){window.app.topMenu.buttons.prev.enable()}})},i.hide=function(){var e=this;window.app.topMenu.buttons.prev.disable(),TweenLite.to(this,.5,{alpha:0,ease:Power1.easeOut,onComplete:function(){e.visible=!1}}),TweenLite.to(this.position,.5,{x:150,ease:Power1.easeOut})},i.reset=function(){this.position.x=150,this.alpha=0},StatsUpgradeCard}(d.Container);t.default=n},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var c=i(0),s=_interopRequireDefault(i(178)),u=_interopRequireDefault(i(79)),h=i(32),l=_interopRequireDefault(i(138)),p=_interopRequireDefault(i(6)),n=i(17),f=_interopRequireDefault(i(5)),m=_interopRequireDefault(i(26)),d=_interopRequireDefault(i(14)),_=_interopRequireDefault(i(84)),g=_interopRequireDefault(i(13)),v=_interopRequireDefault(i(689)),r=_interopRequireDefault(i(4)),y=_interopRequireDefault(i(18)),b=i(25);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var a=function(o){var e,t;function TeamReviewScreen(e){var t;_defineProperty(_assertThisInitialized(t=o.call(this)||this),"app",void 0),_defineProperty(_assertThisInitialized(t),"transition",void 0),_defineProperty(_assertThisInitialized(t),"title",void 0),_defineProperty(_assertThisInitialized(t),"winnerTitle",void 0),_defineProperty(_assertThisInitialized(t),"stage",void 0),_defineProperty(_assertThisInitialized(t),"shadows",void 0),_defineProperty(_assertThisInitialized(t),"captain",void 0),_defineProperty(_assertThisInitialized(t),"firstTeamMember",void 0),_defineProperty(_assertThisInitialized(t),"secondTeamMember",void 0),_defineProperty(_assertThisInitialized(t),"playButton",void 0),_defineProperty(_assertThisInitialized(t),"winnerFlagContainer",void 0),_defineProperty(_assertThisInitialized(t),"winnerContainer",void 0),_defineProperty(_assertThisInitialized(t),"coinSplash",void 0),_defineProperty(_assertThisInitialized(t),"party",void 0),_defineProperty(_assertThisInitialized(t),"winnerFlag",void 0),_defineProperty(_assertThisInitialized(t),"trophyLight",void 0),_defineProperty(_assertThisInitialized(t),"trophyLight2",void 0),_defineProperty(_assertThisInitialized(t),"loadingWheel",void 0),_defineProperty(_assertThisInitialized(t),"continueButton",void 0),_defineProperty(_assertThisInitialized(t),"stadiumPicker",void 0),_defineProperty(_assertThisInitialized(t),"tick",void 0),_defineProperty(_assertThisInitialized(t),"w",void 0),_defineProperty(_assertThisInitialized(t),"h",void 0),_defineProperty(_assertThisInitialized(t),"offsetX",void 0),_defineProperty(_assertThisInitialized(t),"offsetY",void 0),_defineProperty(_assertThisInitialized(t),"rand",void 0),_defineProperty(_assertThisInitialized(t),"stop",void 0),_defineProperty(_assertThisInitialized(t),"assetsLoaded",void 0),_defineProperty(_assertThisInitialized(t),"active",void 0),t.app=e,t.transition=new s.default(t.app),t.title=y.default.h1("STR_REVIEW_TITLE","white",45),t.title.anchor.set(.5),t.winnerTitle=y.default.h1("STR_TOURNAMENT_WINNER","white",60,!0),t.winnerTitle.anchor.set(.5),t.winnerFlagContainer=new c.Container,t.addChild(t.winnerFlagContainer);var i=e.winterMode?"stage-winter":"stage";t.stage=c.Sprite.from(i+".png"),t.stage.anchor.set(.5,1),t.addChild(t.stage),t.shadows=[];for(var n=0;n<3;n++){var r=f.default.teamA[n].shadowSize||"medium",a=c.Sprite.fromFrame("shadow-"+r+".png");a.anchor.set(.5),a.alpha=1,t.addChild(a),t.shadows.push(a)}return t.captain=new c.Sprite,t.captain.anchor.set(.5,1),t.captain.offset={x:0,y:0},t.firstTeamMember=new c.Sprite,t.firstTeamMember.anchor.set(.5,1),t.firstTeamMember.offset={x:0,y:0},t.secondTeamMember=new c.Sprite,t.secondTeamMember.anchor.set(.5,1),t.secondTeamMember.offset={x:0,y:0},t.addChild(t.secondTeamMember),t.addChild(t.firstTeamMember),t.addChild(t.captain),t.tick=0,t.rand={c:d.default.random(-.6,.6),f:d.default.random(-.6,.6),s:d.default.random(-.6,.6)},t.playButton=c.Sprite.from("button-play-big.png"),t.playButton.interactive=!0,t.playButton.buttonMode=!0,t.playButton.anchor.x=.5,t.playButton.anchor.y=.5,t.playButton.mouseover=function(){TweenLite.to(t.playButton.scale,.3,{x:1.1,y:1.1})},t.playButton.mouseout=function(){TweenLite.to(t.playButton.scale,.3,{x:1,y:1})},t.playButton.mouseup=t.playButton.touchend=function(){t.app.topMenu.disableButtons(),g.default.sfx.play("button_press"),TweenLite.to(t.playButton.scale,.3,{x:.7,y:.7,ease:Expo.easeOut}),TweenLite.to(t.playButton,.4,{alpha:0,ease:Expo.easeOut}),f.default.isTournament?t.app.screenManager.gotoScreenByID(p.default.SCREEN_ID.TOURNAMENT):(t.app.screenManager.gotoScreenByID(p.default.SCREEN_ID.GAME),t.app.breadcrumb.hide())},t.addChild(t.playButton),t.playButton.scale.set(0),t.addChild(t.title),t.winnerContainer=new c.Container,t.addChild(t.winnerContainer),t.addChild(t.winnerTitle),t.stadiumPicker=new v.default(t.app.stadiumsSystem),t.addChild(t.stadiumPicker),t.stadiumPicker.alpha=0,t.coinSplash=new l.default(t.app),t.party=new _.default(1136,800,1),t.loadingWheel=c.Sprite.from("loading-wheel.png"),t.loadingWheel.anchor.set(.5),t.loadingWheel.scale.set(2),t.addChild(t.loadingWheel),t.assetsLoaded=!1,t.active=!1,t}t=o,(e=TeamReviewScreen).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=TeamReviewScreen.prototype;return i.updateTransform=function(){if(o.prototype.updateTransform.call(this),this.loadingWheel.visible&&(this.loadingWheel.rotation+=.1*r.default.instance.deltaTime),this.tick+=.1*r.default.instance.deltaTime,this.winnerFlag){for(var e=0;e<this.winnerFlag.points.length;e++){this.winnerFlag.points[e].y=this.winnerFlag.texture.height/2+.5*Math.sin(this.tick+e)}this.trophyLight.rotation-=.01*r.default.instance.deltaTime,this.trophyLight2.rotation+=.01*r.default.instance.deltaTime,this.party&&this.party.update(this.position)}},i.onHide=function(){this.active=!1,f.default.tournamentData.winner.length=0,this.stop=!0,this.app.stadiumsSystem.activeStadium.id!==this.stadiumPicker.initialStadiumId&&CES.dispatch(n.EventKeys.UNLOCKABLES_STADIUM_SELECTED,{stadiumId:this.app.stadiumsSystem.activeStadium.id})},i.showWinner=function(){var i=this;this.app.topMenu.prevScreen=p.default.SCREEN_ID.UNLOCKABLES,this.app.topMenu.setState("empty"),this.stadiumPicker.visible=!1,this.captain.texture=c.Texture.fromImage(f.default.teamA[0].yourTeam.toLowerCase()),this.firstTeamMember.texture=c.Texture.fromImage(f.default.teamA[1].yourTeam.toLowerCase()),this.secondTeamMember.texture=c.Texture.fromImage(f.default.teamA[2].yourTeam.toLowerCase()),this.captain.anchor.x=f.default.teamA[0].anchorReviewX?f.default.teamA[0].anchorReviewX:.5,this.firstTeamMember.anchor.x=f.default.teamA[1].anchorReviewX?f.default.teamA[1].anchorReviewX:.5,this.secondTeamMember.anchor.x=f.default.teamA[2].anchorReviewX?f.default.teamA[2].anchorReviewX:.5,this.captain.offset.y=f.default.teamA[0].offsetReviewY?f.default.teamA[0].offsetReviewY:0,this.firstTeamMember.offset.y=f.default.teamA[1].offsetReviewY?f.default.teamA[1].offsetReviewY:0,this.secondTeamMember.offset.y=f.default.teamA[2].offsetReviewY?f.default.teamA[2].offsetReviewY:0,this.captain.scale.set(0),TweenLite.to(this.captain.scale,1,{x:Device.instance.isMobile?.9:1.2,y:Device.instance.isMobile?.9:1.2,ease:Elastic.easeOut,delay:.2}),this.playButton.alpha=0,this.firstTeamMember.scale.set(0),TweenLite.to(this.firstTeamMember.scale,1,{x:Device.instance.isMobile?.9:1.2,y:Device.instance.isMobile?.9:1.2,ease:Elastic.easeOut,delay:.2}),this.secondTeamMember.scale.set(0),TweenLite.to(this.secondTeamMember.scale,1,{x:Device.instance.isMobile?.9:1.2,y:Device.instance.isMobile?.9:1.2,ease:Elastic.easeOut,delay:.2}),this.title.scale.set(0);for(var e=f.default.tournamentData.winner[0],t=c.Texture.from(e.FLAG),n=[],r=t.width/20,a=0;a<20;a++)n.push(new c.Point(a*r,t.height/2));this.winnerFlag=new c.Rope(t,n),"SA"===e.ID||"TR"===e.ID?this.winnerFlag.alpha=0:this.winnerFlag.alpha=.5,window.URLParams.flagAlpha&&(this.winnerFlag.alpha=parseInt(window.URLParams.flagAlpha)/100),this.updateWinnerFlag();for(var o=0;o<this.winnerFlagContainer.children.length;o++)this.winnerFlagContainer.removeChild(this.winnerFlagContainer.children[o]);this.winnerFlagContainer.addChild(this.winnerFlag),this.winnerContainer.removeChildren();var s=y.default.h1([e.NAME+"_UPPERCASE","+56","STR_HUD_POINTS"],"white",30,!0);s.y=-320,s.anchor.set(.5),this.winnerContainer.addChild(s);var l=new c.Container;l.x=65,l.y=-40,this.winnerContainer.addChild(l);var u=c.Sprite.fromFrame("celebrate-light.png");u.blendMode=1,u.anchor.set(.5),u.position.set(76),u.scale.set(.5),u.alpha=.5,l.addChild(u),this.trophyLight=u;var h=c.Sprite.fromFrame("celebrate-trophy.png");l.addChild(h),(u=c.Sprite.fromFrame("celebrate-light.png")).blendMode=1,u.anchor.set(.5),u.position.set(76),u.alpha=.5,l.addChild(u),this.trophyLight2=u;var d=c.Sprite.fromFrame("celebrate-flare.png");d.anchor.set(.5),d.position.set(76),d.blendMode=1,l.addChild(d),TweenLite.delayedCall(.3,function(){var e=i.w/2+60,t=i.h/2+40;e+=i.app.screenManager.container.x/i.app.screenManager.container.scale.x,t+=i.app.screenManager.container.y/i.app.screenManager.container.scale.y,i.coinSplash.start(100,e,t),g.default.sfx.play("sfx_getcoins")}),this.addChild(this.party),this.continueButton=new m.default("button-green-long.png",null,null,"STR_CONTINUE",1.1),this.continueButton.defaultScale=1,this.continueButton.position.x=this.w/2,this.continueButton.position.y=this.h/2+300,this.continueButton.onPress.add(this.onContinueButtonPressed,this),this.addChild(this.continueButton),this.winnerContainer.visible=!0,this.winnerFlagContainer.visible=!0,this.winnerTitle.visible=!0},i.onContinueButtonPressed=function(){f.default.reset(),this.app.topMenu.prevScreen=p.default.SCREEN_ID.TITLE,this.app.screenManager.gotoScreenByID(p.default.SCREEN_ID.UNLOCKABLES)},i.updateWinnerFlag=function(){var e=this.w+2*this.offsetX,t=this.h+2*this.offsetY;this.winnerFlag.width=e+180,this.winnerFlag.scale.y=this.winnerFlag.scale.x,this.winnerFlag.height<t&&(this.winnerFlag.height=t+180,this.winnerFlag.scale.x=this.winnerFlag.scale.y),this.winnerFlag.position.x=-(this.winnerFlag.width-this.w)/2,this.winnerFlag.position.y=-(this.winnerFlag.height-this.h)/2},i.onShow=function(){var e,t;this.active=!0;for(var i=0;i<this.app.stage.children.length;i++){var n=this.app.stage.children[i];"breabcrumb"===n.name&&(e=n),"screenmanager"===n.name&&(t=n)}this.app.stage.children[2]=t,this.app.stage.children[3]=e,this.stop=!1,this.winnerFlag&&(this.removeChild(this.winnerFlag),this.winnerFlag=null),this.continueButton&&(this.removeChild(this.continueButton),this.continueButton=null),0<f.default.tournamentData.winner.length?this.showWinner():(this.winnerContainer.visible=!1,this.winnerFlagContainer.visible=!1,this.winnerTitle.visible=!1,this.removeChild(this.party),f.default.isTournament?(this.app.breadcrumb.show(!0),this.app.breadcrumb.visible=!0,this.app.breadcrumb.currentStep=4,this.app.topMenu.prevScreen=p.default.SCREEN_ID.PLAYER_SELECT_2):this.app.topMenu.prevScreen=p.default.SCREEN_ID.TITLE,this.app.topMenu.setState("prevsettings"),this.assetsLoaded&&this.showContent())},i.onAssetsLoaded=function(){this.assetsLoaded=!0,this.loadingWheel.visible=!1,this.active&&this.showContent()},i.showContent=function(){this.captain.texture=c.Texture.fromImage(f.default.teamA[0].yourTeam.toLowerCase()),this.firstTeamMember.texture=c.Texture.fromImage(f.default.teamA[1].yourTeam.toLowerCase()),this.secondTeamMember.texture=c.Texture.fromImage(f.default.teamA[2].yourTeam.toLowerCase()),this.captain.anchor.x=f.default.teamA[0].anchorReviewX?f.default.teamA[0].anchorReviewX:.5,this.firstTeamMember.anchor.x=f.default.teamA[1].anchorReviewX?f.default.teamA[1].anchorReviewX:.5,this.secondTeamMember.anchor.x=f.default.teamA[2].anchorReviewX?f.default.teamA[2].anchorReviewX:.5,this.captain.offset.y=f.default.teamA[0].offsetReviewY?f.default.teamA[0].offsetReviewY:0,this.firstTeamMember.offset.y=f.default.teamA[1].offsetReviewY?f.default.teamA[1].offsetReviewY:0,this.secondTeamMember.offset.y=f.default.teamA[2].offsetReviewY?f.default.teamA[2].offsetReviewY:0,this.buildTeam(),this.stadiumPicker.reset(),this.stadiumPicker.alpha=0,TweenLite.to(this.stadiumPicker,.4,{alpha:1,ease:Linear.easeOut,delay:.5}),this.captain.scale.set(0),TweenLite.to(this.captain.scale,1,{x:Device.instance.isMobile?.9:1.2,y:Device.instance.isMobile?.9:1.2,ease:Elastic.easeOut,delay:.2}),this.playButton.alpha=1,this.playButton.scale.set(0),TweenLite.to(this.playButton.scale,1,{x:Device.instance.isMobile?.9:1,y:Device.instance.isMobile?.9:1,ease:Elastic.easeOut,delay:.3}),this.firstTeamMember.scale.set(0),TweenLite.to(this.firstTeamMember.scale,1,{x:Device.instance.isMobile?.9:1.2,y:Device.instance.isMobile?.9:1.2,ease:Elastic.easeOut,delay:.2}),this.secondTeamMember.scale.set(0),TweenLite.to(this.secondTeamMember.scale,1,{x:Device.instance.isMobile?.9:1.2,y:Device.instance.isMobile?.9:1.2,ease:Elastic.easeOut,delay:.2}),this.title.scale.set(0),TweenLite.to(this.title.scale,1,{x:1,y:1,ease:Elastic.easeOut,delay:.2}),this.resize(this.w,this.h)},i.buildTeam=function(){f.default.tournamentData.quarter=[],f.default.tournamentData.semi=[],f.default.tournamentData.final=[],f.default.tournamentData.winner=[],f.default.matchResult.goalsA=f.default.matchResult.goalsB=-1;var e=[];for(var t in h.CharacterData)h.CharacterData[t].locked||e.push(h.CharacterData[t]);for(var i=0;i<f.default.teamA.length;i++){var n=e.indexOf(f.default.teamA[i]);-1!==n&&e.splice(n,1)}u.default.shuffle(e),f.default.teamB=e.slice(0,3);var r=[];for(var a in b.Translation.countries){var o=b.Translation.countries[a];f.default.countryID!==o&&r.push(o)}if(u.default.shuffle(r),r=r.slice(0,7),f.default.isTournament){r.push(f.default.countryID),u.default.shuffle(r);for(var s=[],l=0;l<r.length;l+=2)s.push(r.slice(l,l+2));f.default.tournamentData.quarter=s.slice()}else f.default.opponentID=r[0]},i.resize=function(e,t){var i=this.app.screenManager.container.x/this.app.screenManager.container.scale.x,n=this.app.screenManager.container.y/this.app.screenManager.container.scale.y;this.offsetX=i,this.offsetY=n,this.w=e,this.h=t,this.title.position.y=t/2-375,this.title.position.x=e/2,this.winnerTitle.position.y=t/2-375,this.winnerTitle.position.x=e/2,this.winnerFlag&&this.updateWinnerFlag(),this.stage.position.x=e/2,this.stage.position.y=t+n,this.playButton.position.x=e/2,this.playButton.position.y=t/2+245;for(var r=-300,a=0;a<this.shadows.length;a++){var o=this.shadows[a];o.position.y=t/2+175,o.position.x=e/2+r+(f.default.teamA[a].shadowOffsetX||0),r+=300}this.winnerContainer.position.x=e/2,this.winnerContainer.position.y=t/2,this.continueButton&&(this.continueButton.position.x=e/2,this.continueButton.position.y=t/2+300),this.loadingWheel&&this.loadingWheel.position.set(e/2,t/2),this.firstTeamMember.position.x=e/2-300+this.firstTeamMember.offset.x,this.firstTeamMember.position.y=t/2+180+this.firstTeamMember.offset.y,this.captain.position.x=e/2+this.captain.offset.x,this.captain.position.y=t/2+180+this.captain.offset.y,this.secondTeamMember.position.x=e/2+300+this.secondTeamMember.offset.x,this.secondTeamMember.position.y=t/2+180+this.secondTeamMember.offset.y;var s=this.app.h2/this.app.ratio2-this.app.offsetY;this.stadiumPicker.position.set(250-i,f.default.isTournament?s-this.app.breadcrumb.height-this.stadiumPicker.bg.texture.height/2:t/2+245),this.party&&(this.party.x=-i,this.party.y=-n,this.party.w=e+2*i,this.party.h=t+2*n+100)},TeamReviewScreen}(c.Container);t.default=a},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var s=_interopRequireDefault(i(19)),l=i(0),u=i(74),h=_interopRequireDefault(i(18));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=function(i){var e,t;function StadiumPicker(e){var t;_defineProperty(_assertThisInitialized(t=i.call(this)||this),"nextButton",void 0),_defineProperty(_assertThisInitialized(t),"previousButton",void 0),_defineProperty(_assertThisInitialized(t),"title",void 0),_defineProperty(_assertThisInitialized(t),"bg",void 0),_defineProperty(_assertThisInitialized(t),"stadiumThumb",void 0),_defineProperty(_assertThisInitialized(t),"stadiumsSystem",void 0),_defineProperty(_assertThisInitialized(t),"stadiums",void 0),_defineProperty(_assertThisInitialized(t),"currentIndex",void 0),_defineProperty(_assertThisInitialized(t),"_initialStadiumId",void 0),t.stadiumsSystem=e,t.title=h.default.h1("STR_TITLE_STADIUMS"),t.title.style.fontSize=25,t.title.anchor.set(.5),t.bg=l.Sprite.from("panel-stadium-picker.png"),t.stadiumThumb=new l.Sprite,t.bg.anchor.set(.5),t.stadiumThumb.anchor.set(.5),t.stadiumThumb.position.y=20,t.title.position.y=-68,t.addChild(t.bg),t.bg.addChild(t.title),t.bg.addChild(t.stadiumThumb),t.previousButton=new s.default("button-arrows-small.png"),t.nextButton=new s.default("button-arrows-small.png"),t.nextButton.background.scale.x=-1,t.previousButton.onPress.add(t.previousStadium,_assertThisInitialized(t)),t.nextButton.onPress.add(t.nextStadium,_assertThisInitialized(t));return t.previousButton.position.x=-t.bg.texture.width/2+15,t.nextButton.position.x=t.bg.texture.width/2-15,t.bg.addChild(t.previousButton),t.bg.addChild(t.nextButton),t}t=i,(e=StadiumPicker).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n,r,a,o=StadiumPicker.prototype;return o.reset=function(){var i=this,n=this.stadiumsSystem.activeStadium.id;this._initialStadiumId=n,this.stadiums=u.getStadiums.unlocked().filter(function(e){return e.available}),this.stadiums.length<=1?this.visible=!1:(this.visible=!0,this.stadiums.forEach(function(e,t){e.id===n&&(i.currentIndex=t)}),this.stadiumThumb.texture=l.Texture.from(this.stadiums[this.currentIndex].thumb))},o.animate=function(){},o.getSelectStadiumId=function(){return this.stadiums[this.currentIndex].id},o.previousStadium=function(){this.currentIndex--,this.currentIndex<0&&(this.currentIndex=this.stadiums.length-1),this.stadiumThumb.texture=l.Texture.from(this.stadiums[this.currentIndex].thumb),this.stadiumsSystem.selectStadium(this.stadiums[this.currentIndex].id,!0,!0)},o.nextStadium=function(){this.currentIndex++,this.currentIndex===this.stadiums.length&&(this.currentIndex=0),this.stadiumThumb.texture=l.Texture.from(this.stadiums[this.currentIndex].thumb),this.stadiumsSystem.selectStadium(this.stadiums[this.currentIndex].id,!0,!0)},n=StadiumPicker,(r=[{key:"initialStadiumId",get:function(){return this._initialStadiumId}}])&&_defineProperties(n.prototype,r),a&&_defineProperties(n,a),StadiumPicker}(l.Container);t.default=n},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var m=i(0),n=_interopRequireDefault(i(6)),_=_interopRequireDefault(i(19)),r=i(17),g=_interopRequireDefault(i(5)),v=_interopRequireDefault(i(26)),y=_interopRequireDefault(i(13)),b=i(25);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var a=function(h){var e,t;function TopMenu(e){var t;_defineProperty(_assertThisInitialized(t=h.call(this)||this),"app",void 0),_defineProperty(_assertThisInitialized(t),"state",void 0),_defineProperty(_assertThisInitialized(t),"previousState",void 0),_defineProperty(_assertThisInitialized(t),"nextScreen",void 0),_defineProperty(_assertThisInitialized(t),"prevScreen",void 0),_defineProperty(_assertThisInitialized(t),"states",void 0),_defineProperty(_assertThisInitialized(t),"buttons",void 0),_defineProperty(_assertThisInitialized(t),"bar",void 0),_defineProperty(_assertThisInitialized(t),"coinBarContainer",void 0),_defineProperty(_assertThisInitialized(t),"skipButton",void 0),_defineProperty(_assertThisInitialized(t),"coinBar",void 0),_defineProperty(_assertThisInitialized(t),"confirmPrev",void 0),_defineProperty(_assertThisInitialized(t),"disablePrev",void 0),_defineProperty(_assertThisInitialized(t),"iPhoneX",void 0),_defineProperty(_assertThisInitialized(t),"skipButtonActive",void 0),t.app=e,t.state="home",t.previousState=t.state,t.nextScreen=null,t.prevScreen=null,t.states={home:["challenges","settings"],empty:[],game:["pause"],prev:["prev"],next:["next"],prevnext:["prev","mute"],prevsettings:["prev","settings"],settings:["settings"],pause:["pause"],homeclose:["home","close"],homesettings:["home","settings"]},t.buildButtons(),t.hideButtons(),t.setState("prevsettings");var i=/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,n=window.devicePixelRatio||1,r=window.screen.width*n,a=window.screen.height*n;i&&1125==r&&2436===a&&(t.iPhoneX=!0),t.bar=new m.Container,t.bar.visible=!1,t.addChild(t.bar);for(var o=[],s=1;s<=6;s++)o.push(m.Texture.fromFrame("bar-"+s+".png"));var l=new m.extras.MovieClip(o);l.anchor.set(.5),l.animationSpeed=.2,l.play(),t.bar.addChild(l);var u=m.Sprite.fromFrame("bar-top.png");return u.anchor.set(.5),t.bar.addChild(u),t.skipButtonActive=!1,t}t=h,(e=TopMenu).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var i=TopMenu.prototype;return i.buildButtons=function(){this.buttons={};var e=new _.default("button-pause.png");this.addChild(e),this.buttons.pause=e;var t=new _.default("icon-sound-on.png");this.addChild(t),this.buttons.mute=t;var i=new _.default("button-back.png");this.addChild(i),this.buttons.prev=i;var n=new _.default("icon-forward.png");this.addChild(n),this.buttons.next=n;var r=new _.default("icon-exit.png");this.addChild(r),this.buttons.exit=r;var a=new _.default("button-home.png");this.addChild(a),this.buttons.home=a;var o=new _.default("button-no.png");this.addChild(o),this.buttons.close=o;var s=new v.default("button-daily-challenges.png","button-daily-challenges.png","button-daily-challenges.png",b.Translation.title_screen.challenges,1.1,null,24,null,175);s.label.y=-2,s.label.x=24,s.defaultScale=1,this.addChild(s),this.buttons.challenges=s;var l,u={fill:"#fff",fontSize:30,fontFamily:window.MAIN_FONT,letterSpacing:3,padding:10},h=m.Sprite.from("notify-dot-red.png"),d=new m.Text(0,u);if(h.anchor.set(.5),h.scale.set(1.1),d.anchor.set(.5),h.position.set(115,-28),h.addChild(d),s.addChild(h),s.notificationCount=h,s.count=d,this.skipButton=new v.default("button-skip.png",null,null,"STR_TITLE_SKIP",1.1,null,null,"avenir",280),this.skipButton.defaultScale=1,this.skipButton.visible=!1,this.skipButton.onPress.add(this.skipTutorial,this),this.addChild(this.skipButton),window.cordova)l=new _.default("button-settings.png");else{var c=y.default.sfx.isMuted?"icon-sound-off.png":"icon-sound-on.png";l=new _.default("button-blue-blank.png",null,null,c)}this.addChild(l),this.buttons.settings=l,this.coinBarContainer=new m.Container,this.addChild(this.coinBarContainer),this.coinBar=m.Sprite.from("coin-bar.png"),this.coinBarContainer.addChild(this.coinBar),u={fill:"#fff",fontSize:30,fontFamily:window.MAIN_FONT,letterSpacing:3,padding:10};var p=new m.Text(g.default.coins,u);for(var f in this.coinBar.addChild(p),this.updateCoins(),this.buttons)this.buttons[f].onPress.add(this.onButtonPressed,this)},i.skipTutorial=function(){this.app.overlayManager.show(n.default.OVERLAY_ID.SKIP)},i.hideButtons=function(){for(var e in this.buttons)this.buttons[e].visible=!1,this.buttons[e].alpha=0},i.disableButtons=function(){for(var e in this.buttons)this.buttons[e].disable()},i.enableButtons=function(){for(var e in this.buttons)this.buttons[e].enable()},i.setState=function(e){for(var t in this.hideButtons(),this.states)if(e===t)for(var i=this.states[t],n=0;n<i.length;n++){var r=i[n];this.buttons[r].visible=!0,this.buttons[r].alpha=1}this.previousState=this.state,this.state=e,"home"===this.state&&this.updateChallengesCount(),"game"===this.state||"pause"===this.state?TweenLite.to(this.coinBar.position,.3,{x:0}):"prev"!==this.state&&"prevnext"!==this.state&&"prevsettings"!==this.state&&"homeclose"!==this.state&&"homesettings"!==this.state||TweenLite.to(this.coinBar.position,.3,{x:this.buttons.prev.x+70}),window.cordova||this.updateMuteButton()},i.show=function(){this.visible=!0},i.hide=function(e){this.visible=!e},i.hideSkipButton=function(){this.skipButtonActive&&(this.skipButton.visible=!1)},i.showSkipButton=function(){this.skipButtonActive&&(this.skipButton.visible=!0)},i.onButtonPressed=function(e){switch(e){case this.buttons.mute:g.default.isMuted?(y.default.music.unmute(),y.default.sfx.unmute()):(y.default.music.mute(),y.default.sfx.mute()),g.default.isMuted=!g.default.isMuted;break;case this.buttons.pause:"pause"!==this.state?(this.hideSkipButton(),this.buttons.pause.disable(),this.pauseGame()):(this.showSkipButton(),this.buttons.pause.disable(),this.app.overlayManager.hide(),this.app.gameScreen.game.resume(),this.setState("game"));break;case this.buttons.settings:window.cordova?(this.confirmPrev=!1,this.disableButtons(),this.app.screenManager.currentScreen.interactiveChildren=!1,this.app.overlayManager.show(n.default.OVERLAY_ID.SETTINGS)):(y.default.sfx.isMuted?(y.default.sfx.unmute(),y.default.music.unmute()):(y.default.sfx.mute(),y.default.music.mute()),this.updateMuteButton(),LOCAL_STORAGE.store("muted",y.default.sfx.isMuted));break;case this.buttons.prev:if(this.disablePrev)return;if(this.confirmPrev)return void this.app.overlayManager.show(n.default.OVERLAY_ID.QUIT);if(this.app.breadcrumb.hidden){if(this.app.screenManager.currentScreen.statsupgradeCard&&this.app.screenManager.currentScreen.statsupgradeCard.visible)return void this.app.screenManager.currentScreen.hideStatsUpgradeCard();if(this.prevScreen){var t;if(GDPR)null!==(t=this.app.screenManager.currentScreen.gdprPopup)&&void 0!==t&&t.hide();this.app.screenManager.gotoScreenByID(this.prevScreen),this.prevScreen=null}else this.app.screenManager.goBack()}else this.app.breadcrumb.prev();break;case this.buttons.next:this.app.breadcrumb.hidden?this.nextScreen&&this.app.screenManager.gotoScreenByID(this.nextScreen):this.app.breadcrumb.next();break;case this.buttons.exit:CES.dispatch(r.EventKeys.APP_EXITED);break;case this.buttons.challenges:CES.dispatch(r.EventKeys.MENU_CHALLENGES_SELECTED),this.prevScreen=n.default.SCREEN_ID.TITLE,window.challengesPrevScreen=n.default.SCREEN_ID.TITLE,this.app.screenManager.gotoScreenByID(n.default.SCREEN_ID.CHALLENGES,!0);break;case this.buttons.home:this.app.overlayManager.hide(),this.app.screenManager.gotoScreenByID(n.default.SCREEN_ID.TITLE),this.setState("home");break;case this.buttons.close:this.app.overlayManager.hide(),this.setState(this.previousState)}},i.pauseGame=function(){this.setState("pause"),this.app.overlayManager.show(n.default.OVERLAY_ID.PAUSE)},i.updateMuteButton=function(){var e=y.default.sfx.isMuted?"icon-sound-off.png":"icon-sound-on.png";this.buttons.settings.icon.texture=m.Texture.from(e)},i.updateCoins=function(){var e=g.default.coins;e>=("tr"===window.LANGUAGE?1e5:1e3)&&(e=""+(e=e.toString()).substr(0,e.length-3)+translations.STR_SEPARATOR+e.substr(-3)),0===e&&(e=e.toString());var t=this.coinBar.children[0];t.text=e,t.x=115-t.width/2,t.y=14},i.updateChallengesCount=function(){this.buttons.challenges.count.text=this.app.challengesSystem.challengesRemaining(),0===this.buttons.challenges.count&&(this.buttons.challenges.notificationCount.visible=!1)},i.addCoins=function(e){g.default.coins+=e,this.updateCoins(),this.app.saveCoins()},i.resize=function(e,t){var i=0;this.iPhoneX&&(i=20),this.buttons.mute.position.set(e-54-i,i+54),this.buttons.challenges.position.set(e-260,i+54+3),this.buttons.settings.position.set(e-54-i,i+54),this.buttons.pause.position.set(e-54-i,i+54),this.buttons.prev.position.set(54+i,i+54),this.buttons.next.position.set(e-54-i,i+54),this.buttons.home.position.set(54+i,i+54),this.buttons.close.position.set(e-54-i,i+54),this.bar.position.set(e/2,t/2),this.skipButton.position.set(e/2,i+54),"game"===this.state||"pause"===this.state?this.coinBar.x=0:this.coinBar.x=this.buttons.prev.x+70,this.coinBar.y=13},TopMenu}(m.Container);t.default=a},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var w=i(0),r=_interopRequireDefault(i(18)),x=_interopRequireDefault(i(5)),a=i(32),o=_interopRequireDefault(i(6)),s=i(25),l=_interopRequireDefault(i(79)),u=_interopRequireDefault(i(26)),h=_interopRequireDefault(i(84)),d=_interopRequireDefault(i(138)),T=_interopRequireDefault(i(11)),c=i(17),p=_interopRequireDefault(i(4));function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=function(i){var e,t;function TournamentScreen(e){var t;return _defineProperty(_assertThisInitialized(t=i.call(this)||this),"app",void 0),_defineProperty(_assertThisInitialized(t),"title",void 0),_defineProperty(_assertThisInitialized(t),"scaleRatio",void 0),_defineProperty(_assertThisInitialized(t),"stage",void 0),_defineProperty(_assertThisInitialized(t),"playButton",void 0),_defineProperty(_assertThisInitialized(t),"itemContainer",void 0),_defineProperty(_assertThisInitialized(t),"bg",void 0),_defineProperty(_assertThisInitialized(t),"trophy",void 0),_defineProperty(_assertThisInitialized(t),"highlight",void 0),_defineProperty(_assertThisInitialized(t),"blueBacker",void 0),_defineProperty(_assertThisInitialized(t),"desaturateFilter",void 0),_defineProperty(_assertThisInitialized(t),"party",void 0),_defineProperty(_assertThisInitialized(t),"coinSplash",void 0),_defineProperty(_assertThisInitialized(t),"coinAnimations",void 0),_defineProperty(_assertThisInitialized(t),"stageInfo",void 0),_defineProperty(_assertThisInitialized(t),"emptyFlag",void 0),_defineProperty(_assertThisInitialized(t),"blackFlag",void 0),_defineProperty(_assertThisInitialized(t),"winnerEmptyFlag",void 0),_defineProperty(_assertThisInitialized(t),"blueBackerTick",void 0),_defineProperty(_assertThisInitialized(t),"contentUpdated",void 0),_defineProperty(_assertThisInitialized(t),"_hack",void 0),t.app=e,t.scaleRatio=.75,t.bg=w.Sprite.from("panel-tournament.png"),t.bg.anchor.set(.5,.5),t.addChild(t.bg),t.title=r.default.h1(""),t.title.anchor.set(.5),t.title.y=-275,t.bg.addChild(t.title),t.trophy=w.Sprite.from("trophy-empty.png"),t.trophy.anchor.set(.5),t.trophy.y=-20,t.trophy.x=-4,t.coinAnimations={},t.contentUpdated=!1,t.desaturateFilter=new w.filters.ColorMatrixFilter,t.desaturateFilter.saturate(-.7),t.stageInfo={quarter:{id:"quarter",pos:[{x:-390,y:0},{x:-390,y:125},{x:-390,y:250},{x:-390,y:375},{x:390,y:0},{x:390,y:125},{x:390,y:250},{x:390,y:375}]},semi:{id:"semi",pos:[{x:-248,y:63},{x:-248,y:313},{x:248,y:63},{x:248,y:313}]},final:{id:"final",pos:[{x:-120,y:188},{x:120,y:188}]},winner:{id:"winner",pos:[{x:0,y:325}]}},t.emptyFlag={ID:"",FLAG:"flag_black.png"},t.blackFlag={ID:"",FLAG:"flag_black.png"},t.winnerEmptyFlag={ID:"",FLAG:"flag-winner-empty.png"},t.playButton=new u.default("button-green-long.png",null,null,s.Translation.tournament_screen.playButton,1.1,null,null,"avenir"),t.playButton.defaultScale=1,t.playButton.position.y=t.bg.height/2-t.playButton.height/2-30,t.playButton.onPress.add(function(){t.onPlayButtonPressed()}),t.bg.addChild(t.playButton),t.itemContainer=new w.Container,t.itemContainer.position.set(0,-172),t.bg.addChild(t.itemContainer),t.bg.addChild(t.trophy),t.party=new h.default(1136,800,1),t.coinSplash=new d.default(t.app),t}t=i,(e=TournamentScreen).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n=TournamentScreen.prototype;return n.setContent=function(){(this.itemContainer.children.length=0)<x.default.tournamentData.winner.length?this.stage=this.stageInfo.winner.id:0<x.default.tournamentData.final.length?this.stage=this.stageInfo.final.id:0<x.default.tournamentData.semi.length?this.stage=this.stageInfo.semi.id:0<x.default.tournamentData.quarter.length&&(this.stage=this.stageInfo.quarter.id);"winner"===this.stage?(this.trophy.texture=w.Texture.from("trophy-full.png"),this.addChild(this.party)):(this.trophy.texture=w.Texture.from("trophy-empty.png"),this.removeChild(this.party)),this.app.topMenu.setState("prevsettings"),x.default.difficulty={quarter:0,semi:0,final:1}[this.stage],this.title.setText(s.Translation.tournament_screen.stages[this.stage]),this.arrangeItems(this.stage,!0)},n.chooseOpponent=function(){for(var e in x.default.leftOverPlayers=[],a.CharacterData){var t=a.CharacterData[e];-1!==x.default.teamA.indexOf(t)||t.locked||x.default.leftOverPlayers.push(t)}l.default.shuffle(x.default.leftOverPlayers),x.default.teamB=[x.default.leftOverPlayers[0],x.default.leftOverPlayers[1],x.default.leftOverPlayers[2]];var i=this.flattenArray(x.default.tournamentData[this.stage]),n=i.indexOf(x.default.countryID);x.default.opponentID=i[n%2==0?++n:--n]},n.chooseRivals=function(e,t){for(var i,n,r,a=[],o=[],s=x.default.tournamentData[e],l=0;l<s.length;l++)r=-1<(n=(i=s[l]).indexOf(x.default.countryID))?i[t?n:(n+1)%2]:i[Math.floor(2*Math.random())],a.push(r),2==a.length&&(o.push(a),a=[]);return o},n.updateRivals=function(e,t){e===this.stageInfo.final.id?x.default.tournamentData.winner=[t?x.default.countryID:x.default.tournamentData.final[Math.floor(2*Math.random())]]:e===this.stageInfo.semi.id?(x.default.tournamentData.final=this.flattenArray(this.chooseRivals(e,t)),t||this.updateRivals(this.stageInfo.final.id,!1)):e===this.stageInfo.quarter.id&&(x.default.tournamentData.semi=this.chooseRivals(e,t),t||this.updateRivals(this.stageInfo.semi.id,!1))},n.arrangeItems=function(e,t){e===this.stageInfo.winner.id?(this.placeItems(this.stageInfo.winner.id,[this.emptyFlag]),this.placeItems(e,x.default.tournamentData.winner),this.arrangeItems(this.stageInfo.final.id,!1)):e===this.stageInfo.final.id?(t&&(this.placeItems(this.stageInfo.winner.id,[this.emptyFlag]),this.placeItems(this.stageInfo.final.id,[this.emptyFlag,this.emptyFlag])),this.placeItems(e,x.default.tournamentData.final),this.arrangeItems(this.stageInfo.semi.id,!1)):e===this.stageInfo.semi.id?(t&&(this.placeItems(this.stageInfo.winner.id,[this.emptyFlag]),this.placeItems(this.stageInfo.final.id,[this.emptyFlag,this.emptyFlag]),this.placeItems(this.stageInfo.semi.id,[this.emptyFlag,this.emptyFlag,this.emptyFlag,this.emptyFlag])),this.placeItems(e,this.flattenArray(x.default.tournamentData.semi)),this.arrangeItems(this.stageInfo.quarter.id,!1)):e===this.stageInfo.quarter.id&&(t&&(this.placeItems(this.stageInfo.winner.id,[this.emptyFlag]),this.placeItems(this.stageInfo.final.id,[this.emptyFlag,this.emptyFlag]),this.placeItems(this.stageInfo.semi.id,[this.emptyFlag,this.emptyFlag,this.emptyFlag,this.emptyFlag])),this.placeItems(e,this.flattenArray(x.default.tournamentData.quarter)))},n.placeItems=function(e,t){var i,n,r,a,o,s=[];0<x.default.tournamentData.winner.length?s=x.default.tournamentData.winner:0<x.default.tournamentData.final.length?s=x.default.tournamentData.final:0<x.default.tournamentData.semi.length&&(s=this.flattenArray(x.default.tournamentData.semi));for(var l=0;l<t.length;l++){r=this.stageInfo[e].pos[l],(i=t[l])===x.default.countryID&&e===this.stage&&"winner"!==e&&((o=w.Sprite.from("halo.png")).position.x=r.x,o.position.y=r.y,o.anchor.set(.5),this.highlight=o,this.itemContainer.addChild(o));var u=w.Sprite.from("backer-1.png");u.anchor.set(.5),u.blendMode=w.BLEND_MODES.MULTIPLY,u.alpha=.3,u.x=r.x,u.y=r.y;var h=w.Sprite.from("backer-2.png");if(h.anchor.set(.5),h.blendMode=w.BLEND_MODES.MULTIPLY,h.alpha=.5,u.addChild(h),"quarter"===e){var d="empty";"quarter"!==this.stage&&i===x.default.countryID&&(d="full");var c=w.Sprite.from("line-1-"+d+".png");c.anchor.set(0,.5),c.y=r.y,l%2==0?(c.y-=10,c.scale.y=-1):c.y+=10,l<=3?c.x=r.x+u.width/2:(c.x=r.x-u.width/2,c.scale.x=-1),this.itemContainer.addChild(c)}else if("semi"===e){var p="empty";"final"!==this.stage&&"winner"!==this.stage||i===x.default.countryID&&(p="full");var f=w.Sprite.from("line-2-"+p+".png");f.anchor.set(0,.5),f.y=r.y,l%2==0?(f.scale.y=-1,f.y+=27):f.y-=27,l<=1?(f.x=r.x+u.width/2,--f.x):(f.x=r.x-u.width/2,f.scale.x=-1),this.itemContainer.addChild(f)}else if("final"===e){var m="empty";"final"!==this.stage&&"winner"!==this.stage||i===x.default.countryID&&(m="full");var _=w.Sprite.from("line-3-"+m+".png");_.anchor.set(0,.5),_.y=r.y,_.width=50,_.x=0===l?r.x+u.width/2:r.x-u.width/2-_.width,this.itemContainer.addChild(_)}else if("winner"===e){var g="empty";"winner"===this.stage&&i===x.default.countryID&&(g="full");var v=w.Sprite.from("line-4-"+g+".png");v.anchor.set(.5,0),v.x=r.x,v.y=r.y-59-72,v.height=72,this.itemContainer.addChild(v)}this.itemContainer.addChild(u);var y=new T.default(i.NAME,{fill:"black",fontSize:16,fontFamily:"avenir",wordWrap:!0,wordWrapWidth:100,align:"center",lineHeight:14,maxWidth:120});if(y.maxWidth=120,y.maxHeight=35,y.anchor.set(.5),y.x=r.x,y.y=r.y+34,this.itemContainer.addChild(y),"winner"===e&&"winner"!==this.stage&&(i=this.winnerEmptyFlag),n=w.Sprite.from(i.FLAG),"winner"===e&&"winner"!==this.stage||n.scale.set(this.scaleRatio),n.id=i.ID,i.NAME||"winner"===e||(n.alpha=.3,n.width=97.5,n.height=57),n.anchor.set(.5),n.x=r.x,n.y=r.y-15,i===x.default.countryID&&e===this.stage&&"winner"!==e){var b=w.Sprite.from("your-place-1.png");b.anchor.set(.5),b.x=r.x,b.y=r.y,this.itemContainer.addChild(b),this.blueBacker=b,this.blueBacker.alpha=.2,this.blueBackerTick=0}this.itemContainer.addChild(n),0<s.length&&s.indexOf(i)<0&&"winner"!==e&&((a=w.Sprite.from(this.blackFlag.FLAG)).anchor.set(.5),a.alpha=.85,n.addChild(a))}},n.flattenArray=function(e){for(var t=[],i=0;i<e.length;i++)t=t.concat(e[i]);return t},n.onPlayButtonPressed=function(){this.app.topMenu.confirmPrev=!1,this.contentUpdated=!1,void 0===x.default.tournamentData.winner[0]?("quarter"===this.stage&&(CES.dispatch(c.EventKeys.TOURNAMENT_COUNTRY_SELECTED,{country_id:x.default.countryID.ID.toLowerCase()}),CES.dispatch(c.EventKeys.TOURNAMENT_PLAYER_SELECTED,{player_id:x.default.teamA[0].id,captain_selected:1}),CES.dispatch(c.EventKeys.TOURNAMENT_PLAYER_SELECTED,{player_id:x.default.teamA[1].id,player_2_selected:1}),CES.dispatch(c.EventKeys.TOURNAMENT_PLAYER_SELECTED,{player_id:x.default.teamA[2].id,player_3_selected:1})),this.chooseOpponent(),this.app.screenManager.gotoScreenByID(o.default.SCREEN_ID.GAME)):(x.default.reset(),this.app.screenManager.gotoScreenByID(o.default.SCREEN_ID.TITLE))},n.onHide=function(){this.app.topMenu.buttons.prev.onPress.remove(this._hack),this.contentUpdated&&this.app.topMenu.prevScreen!==o.default.SCREEN_ID.TEAM_REVIEW&&this.app.topMenu.prevScreen!==o.default.SCREEN_ID.TOURNAMENT&&(this.contentUpdated=!1,x.default.reset())},n.updateTransform=function(){i.prototype.updateTransform.call(this),this.highlight&&(this.highlight.rotation+=.01*p.default.instance.deltaTime),this.blueBacker&&(this.blueBackerTick+=.1*p.default.instance.deltaTime,this.blueBacker.alpha=.2+.4*Math.sin(this.blueBackerTick)+.4),this.party&&this.party.update(this.position)},n.onShow=function(){if(this.app.breadcrumb.hide(),this.contentUpdated)return"quarter"!==this.stage?(this.app.topMenu.confirmPrev=!0,this.app.topMenu.prevScreen=o.default.SCREEN_ID.TITLE):this.app.topMenu.prevScreen=o.default.SCREEN_ID.TEAM_REVIEW,void this.app.topMenu.setState("prevsettings");-1<x.default.matchResult.goalsA&&this.updateRivals(this.stage,x.default.matchResult.goalsA>x.default.matchResult.goalsB),void 0!==x.default.tournamentData.winner[0]&&this.playButton.label.setText(s.Translation.tournament_screen.endButton),this.setContent(),this.app.topMenu.prevScreen===o.default.SCREEN_ID.TEAM_REVIEW||this.app.topMenu.prevScreen===o.default.SCREEN_ID.TITLE?(this.app.topMenu.confirmPrev=!0,this.app.topMenu.prevScreen=o.default.SCREEN_ID.TITLE):this.app.topMenu.prevScreen=o.default.SCREEN_ID.TEAM_REVIEW,this._hack=this.hack.bind(this),this.app.topMenu.buttons.prev.onPress.add(this._hack),this.bg.scale.set(0),TweenLite.to(this.bg.scale,1,{x:1,y:1,ease:Elastic.easeOut,delay:.2}),this.playButton.scale.set(0),TweenLite.to(this.playButton.scale,1,{x:1,y:1,ease:Elastic.easeOut,delay:.5}),this.contentUpdated=!0},n.hack=function(){this.app.breadcrumb.currentStep--,this.app.topMenu.buttons.prev.onPress.remove(this._hack)},n.onShown=function(){this.app.topMenu.prevScreen||(this.contentUpdated&&"quarter"!==this.stage?this.app.topMenu.prevScreen=o.default.SCREEN_ID.TITLE:this.app.topMenu.prevScreen=o.default.SCREEN_ID.TEAM_REVIEW),"quarter"!==this.stage&&this.showCoinAnimation()},n.showCoinAnimation=function(){var n=this;this.coinAnimations[this.stage]||(this.coinAnimations[this.stage]=!0,TweenLite.delayedCall(.3,function(){var e,t,i=75;"winner"===n.stage&&(i*=2),t="winner"===n.stage?(e=n.bg.position.x,n.bg.position.y+150):(e=n.bg.position.x+n.highlight.x,n.bg.position.y+n.highlight.y-140),e+=n.app.screenManager.container.x/n.app.screenManager.container.scale.x,t+=n.app.screenManager.container.y/n.app.screenManager.container.scale.y,n.coinSplash.start(i,e,t),SoundManager.sfx.play("sfx_getcoins")}))},n.resize=function(e,t){var i=this.app.screenManager.container.x/this.app.screenManager.container.scale.x,n=this.app.screenManager.container.y/this.app.screenManager.container.scale.y;this.bg.position.set(e/2,t/2),this.party&&(this.party.x=-i,this.party.y=-n,this.party.w=e+2*i,this.party.h=t+2*n+100)},TournamentScreen}(w.Container);t.default=n},function(e,t,i){"use strict";t.__esModule=!0,t.default=void 0;var s=i(0),l=i(25),u=_interopRequireDefault(i(6)),h=_interopRequireDefault(i(18)),d=_interopRequireDefault(i(26)),c=i(17);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _defineProperties(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var n=function(i){var e,t;function UnlockablesScreen(e){var t;return _defineProperty(_assertThisInitialized(t=i.call(this)||this),"app",void 0),_defineProperty(_assertThisInitialized(t),"title",void 0),_defineProperty(_assertThisInitialized(t),"bg",void 0),_defineProperty(_assertThisInitialized(t),"charactersButton",void 0),_defineProperty(_assertThisInitialized(t),"stadiumsButton",void 0),_defineProperty(_assertThisInitialized(t),"statsButton",void 0),_defineProperty(_assertThisInitialized(t),"ballsButton",void 0),_defineProperty(_assertThisInitialized(t),"width",void 0),_defineProperty(_assertThisInitialized(t),"height",void 0),_defineProperty(_assertThisInitialized(t),"_previousScreenId",void 0),t.app=e,t._previousScreenId=u.default.SCREEN_ID.TITLE,t.bg=s.Sprite.from("panel-stickerbook.png"),t.bg.anchor.set(.5),t.addChild(t.bg),t.title=h.default.h1("STR_TITLE_UNLOCKABLES"),t.title.anchor.set(.5),t.title.y=-312,t.bg.addChild(t.title),t.charactersButton=t.buildButton(l.Translation.unlockables_screen.characters,"image-shop-characters.png"),t.stadiumsButton=t.buildButton(l.Translation.unlockables_screen.stadiums,"image-shop-stadiums.png"),t.statsButton=t.buildButton(l.Translation.unlockables_screen.stats,"image-shop-stats.png"),t.ballsButton=t.buildButton(l.Translation.unlockables_screen.balls,"image-shop-balls.png"),t.bg.addChild(t.charactersButton),t.bg.addChild(t.stadiumsButton),t.bg.addChild(t.statsButton),t.bg.addChild(t.ballsButton),t.charactersButton.onPress.add(function(){CES.dispatch(c.EventKeys.UNLOCKABLES_CHARACTERS_SCREEN_SELECTED),t.app.topMenu.prevScreen=u.default.SCREEN_ID.UNLOCKABLES,t.app.screenManager.gotoScreenByID(u.default.SCREEN_ID.CHARACTERS)}),t.stadiumsButton.onPress.add(function(){CES.dispatch(c.EventKeys.UNLOCKABLES_STADIUMS_SCREEN_SELECTED),t.app.topMenu.prevScreen=u.default.SCREEN_ID.UNLOCKABLES,t.app.screenManager.gotoScreenByID(u.default.SCREEN_ID.STADIUMS)}),t.statsButton.onPress.add(function(){CES.dispatch(c.EventKeys.UNLOCKABLES_STATS_SCREEN_SELECTED),t.app.topMenu.prevScreen=u.default.SCREEN_ID.UNLOCKABLES,t.app.screenManager.gotoScreenByID(u.default.SCREEN_ID.STATS)}),t.ballsButton.onPress.add(function(){CES.dispatch(c.EventKeys.UNLOCKABLES_BALLS_SCREEN_SELECTED),t.app.topMenu.prevScreen=u.default.SCREEN_ID.UNLOCKABLES,t.app.screenManager.gotoScreenByID(u.default.SCREEN_ID.BALLS)}),t}t=i,(e=UnlockablesScreen).prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t;var n,r,a,o=UnlockablesScreen.prototype;return o.buildButton=function(e,t){var i=new d.default("panel-shop-background-white.png","panel-shop-background-white.png","panel-shop-background-white.png",e,1.02,95,32,null,350),n=s.Sprite.from(t),r=s.Sprite.from("button-background-pink.png");return i.defaultScale=1,n.anchor.set(.5),r.anchor.set(.5),n.position.y=-40,r.position.y=97,i.addChildAt(n,1),i.addChildAt(r,1),i},o.onShow=function(){this.app.topMenu.prevScreen=u.default.SCREEN_ID.TITLE,this.app.topMenu.setState("homesettings"),this.resize(this.width,this.height),this.bg.scale.set(0),TweenLite.to(this.bg.scale,1,{x:1,y:1,ease:Elastic.easeOut,delay:.2})},o.onShown=function(){this.app.topMenu.prevScreen||(this.app.topMenu.prevScreen=u.default.SCREEN_ID.TITLE)},o.resize=function(e,t){this.width=e,this.height=t,this.bg.position.set(e/2,t/2);this.charactersButton.position.set(-230,-125),this.stadiumsButton.position.set(230,-125),this.statsButton.position.set(-230,180),this.ballsButton.position.set(230,180)},n=UnlockablesScreen,(r=[{key:"previousScreenId",get:function(){return this._previousScreenId}}])&&_defineProperties(n.prototype,r),a&&_defineProperties(n,a),UnlockablesScreen}(s.Container);t.default=n}]);