! function(t) {
    function e(t) { var e = document.getElementsByTagName("head")[0],
            i = document.createElement("script");
        i.type = "text/javascript", i.charset = "utf-8", i.src = d.p + "" + t + "." + b + ".hot-update.js", e.appendChild(i) }

    function i(t) { if ("undefined" == typeof XMLHttpRequest) return t(new Error("No browser support")); try { var e = new XMLHttpRequest,
                i = d.p + "" + b + ".hot-update.json";
            e.open("GET", i, !0), e.timeout = 1e4, e.send(null) } catch (n) { return t(n) } e.onreadystatechange = function() { if (4 === e.readyState)
                if (0 === e.status) t(new Error("Manifest request to " + i + " timed out."));
                else if (404 === e.status) t();
            else if (200 !== e.status && 304 !== e.status) t(new Error("Manifest request to " + i + " failed."));
            else { try { var n = JSON.parse(e.responseText) } catch (r) { return void t(r) } t(null, n) } } }

    function n(t) {
        function e(t, e) { "ready" === S && o("prepare"), E++, d.e(t, function() {
                function i() { E--, "prepare" === S && (A[t] || l(t), 0 === E && 0 === M && u()) } try { e.call(null, n) } finally { i() } }) } var i = P[t]; if (!i) return d; var n = function(e) { return i.hot.active ? P[e] ? (P[e].parents.indexOf(t) < 0 && P[e].parents.push(t), i.children.indexOf(e) < 0 && i.children.push(e)) : w = [t] : w = [], d(e) }; for (var r in d) Object.prototype.hasOwnProperty.call(d, r) && (f ? Object.defineProperty(n, r, function(t) { return { configurable: !0, enumerable: !0, get: function() { return d[t] }, set: function(e) { d[t] = e } } }(r)) : n[r] = d[r]); return f ? Object.defineProperty(n, "e", { enumerable: !0, value: e }) : n.e = e, n }

    function r(t) { var e = { _acceptedDependencies: {}, _declinedDependencies: {}, _selfAccepted: !1, _selfDeclined: !1, _disposeHandlers: [], active: !0, accept: function(t, i) { if ("undefined" == typeof t) e._selfAccepted = !0;
                else if ("function" == typeof t) e._selfAccepted = t;
                else if ("object" == typeof t)
                    for (var n = 0; n < t.length; n++) e._acceptedDependencies[t[n]] = i;
                else e._acceptedDependencies[t] = i }, decline: function(t) { if ("undefined" == typeof t) e._selfDeclined = !0;
                else if ("number" == typeof t) e._declinedDependencies[t] = !0;
                else
                    for (var i = 0; i < t.length; i++) e._declinedDependencies[t[i]] = !0 }, dispose: function(t) { e._disposeHandlers.push(t) }, addDisposeHandler: function(t) { e._disposeHandlers.push(t) }, removeDisposeHandler: function(t) { var i = e._disposeHandlers.indexOf(t);
                i >= 0 && e._disposeHandlers.splice(i, 1) }, check: s, apply: c, status: function(t) { return t ? void T.push(t) : S }, addStatusHandler: function(t) { T.push(t) }, removeStatusHandler: function(t) { var e = T.indexOf(t);
                e >= 0 && T.splice(e, 1) }, data: x[t] }; return e }

    function o(t) { S = t; for (var e = 0; e < T.length; e++) T[e].call(null, t) }

    function a(t) { var e = +t + "" === t; return e ? +t : t }

    function s(t, e) { if ("idle" !== S) throw new Error("check() is only allowed in idle status"); "function" == typeof t ? (_ = !1, e = t) : (_ = t, e = e || function(t) { if (t) throw t }), o("check"), i(function(t, i) { if (t) return e(t); if (!i) return o("idle"), void e(null, null);
            C = {}, R = {}, A = {}; for (var n = 0; n < i.c.length; n++) R[i.c[n]] = !0;
            y = i.h, o("prepare"), g = e, v = {}; var r = 0;
            l(r), "prepare" === S && 0 === E && 0 === M && u() }) }

    function h(t, e) { if (R[t] && C[t]) { C[t] = !1; for (var i in e) Object.prototype.hasOwnProperty.call(e, i) && (v[i] = e[i]);
            0 === --M && 0 === E && u() } }

    function l(t) { R[t] ? (C[t] = !0, M++, e(t)) : A[t] = !0 }

    function u() { o("ready"); var t = g; if (g = null, t)
            if (_) c(_, t);
            else { var e = []; for (var i in v) Object.prototype.hasOwnProperty.call(v, i) && e.push(a(i));
                t(null, e) } }

    function c(e, i) {
        function n(t) { for (var e = [t], i = {}, n = e.slice(); n.length > 0;) { var o = n.pop(),
                    t = P[o]; if (t && !t.hot._selfAccepted) { if (t.hot._selfDeclined) return new Error("Aborted because of self decline: " + o); if (0 === o) return; for (var a = 0; a < t.parents.length; a++) { var s = t.parents[a],
                            h = P[s]; if (h.hot._declinedDependencies[o]) return new Error("Aborted because of declined dependency: " + o + " in " + s);
                        e.indexOf(s) >= 0 || (h.hot._acceptedDependencies[o] ? (i[s] || (i[s] = []), r(i[s], [o])) : (delete i[s], e.push(s), n.push(s))) } } } return [e, i] }

        function r(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                t.indexOf(n) < 0 && t.push(n) } } if ("ready" !== S) throw new Error("apply() is only allowed in ready status"); "function" == typeof e ? (i = e, e = {}) : e && "object" == typeof e ? i = i || function(t) { if (t) throw t } : (e = {}, i = i || function(t) { if (t) throw t }); var s = {},
            h = [],
            l = {}; for (var u in v)
            if (Object.prototype.hasOwnProperty.call(v, u)) { var c = a(u),
                    p = n(c); if (!p) { if (e.ignoreUnaccepted) continue; return o("abort"), i(new Error("Aborted because " + c + " is not accepted")) } if (p instanceof Error) return o("abort"), i(p);
                l[c] = v[c], r(h, p[0]); for (var c in p[1]) Object.prototype.hasOwnProperty.call(p[1], c) && (s[c] || (s[c] = []), r(s[c], p[1][c])) } for (var f = [], m = 0; m < h.length; m++) { var c = h[m];
            P[c] && P[c].hot._selfAccepted && f.push({ module: c, errorHandler: P[c].hot._selfAccepted }) } o("dispose"); for (var g = h.slice(); g.length > 0;) { var c = g.pop(),
                _ = P[c]; if (_) { for (var T = {}, M = _.hot._disposeHandlers, E = 0; E < M.length; E++) { var A = M[E];
                    A(T) } x[c] = T, _.hot.active = !1, delete P[c]; for (var E = 0; E < _.children.length; E++) { var C = P[_.children[E]]; if (C) { var R = C.parents.indexOf(c);
                        R >= 0 && C.parents.splice(R, 1) } } } } for (var c in s)
            if (Object.prototype.hasOwnProperty.call(s, c))
                for (var _ = P[c], O = s[c], E = 0; E < O.length; E++) { var L = O[E],
                        R = _.children.indexOf(L);
                    R >= 0 && _.children.splice(R, 1) } o("apply"), b = y; for (var c in l) Object.prototype.hasOwnProperty.call(l, c) && (t[c] = l[c]); var I = null; for (var c in s)
            if (Object.prototype.hasOwnProperty.call(s, c)) { for (var _ = P[c], O = s[c], D = [], m = 0; m < O.length; m++) { var L = O[m],
                        A = _.hot._acceptedDependencies[L];
                    D.indexOf(A) >= 0 || D.push(A) } for (var m = 0; m < D.length; m++) { var A = D[m]; try { A(s) } catch (k) { I || (I = k) } } } for (var m = 0; m < f.length; m++) { var B = f[m],
                c = B.module;
            w = [c]; try { d(c) } catch (k) { if ("function" == typeof B.errorHandler) try { B.errorHandler(k) } catch (k) { I || (I = k) } else I || (I = k) } } return I ? (o("fail"), i(I)) : (o("idle"), void i(null, h)) }

    function d(e) { if (P[e]) return P[e].exports; var i = P[e] = { exports: {}, id: e, loaded: !1, hot: r(e), parents: w, children: [] }; return t[e].call(i.exports, i, i.exports, n(e)), i.loaded = !0, i.exports } var p = this.webpackHotUpdate;
    this.webpackHotUpdate = function(t, e) { h(t, e), p && p(t, e) }; var f = !1; try { Object.defineProperty({}, "x", { get: function() {} }), f = !0 } catch (m) {} var g, v, y, _ = !0,
        b = "fb9ccdc96587e1dc42d2",
        x = {},
        w = [],
        T = [],
        S = "idle",
        M = 0,
        E = 0,
        A = {},
        C = {},
        R = {},
        P = {}; return d.m = t, d.c = P, d.p = "", d.h = function() { return b }, n(0)(0) }([function(t, e, i) { t.exports = i(1) }, function(t, e, i) { "use strict";

    function n() { var t = document.createElement("canvas"); return !(!t.getContext || !t.getContext("2d")) } if (window.ASSET_URL = "assets/", window.URLParams = window.URLParams || {}, location.search && ("localhost" === location.hostname || "dev.goodboydigital.com" === location.hostname || 0 === location.hostname.indexOf("192.168.")))
        for (var r = location.search.substr(1).split("&"), o = 0; o < r.length; o++) { var a = r[o].split("=");
            window.URLParams[a[0]] = a[1] }
    if (window.config = { app: "com/football/app/FootballApp" }, window.console || (window.console = { log: function(t) {} }), window.console.log || (window.console.log = function(t) {}), window.DEVICE_SCALE = window.devicePixelRatio || 1, n()) { var s = function() { window.scrollTo(0, 0); var t = window.innerHeight;
                90 === Math.abs(window.orientation) && c.instance.iPhone && c.instance.safari && t++, d.resize(window.innerWidth, t) },
            h = function m() { return c.instance.android && !window.cordova && (0 === window.orientation && window.innerWidth > window.innerHeight || 0 !== window.orientation && window.innerWidth < window.innerHeight) ? void setTimeout(function() { m() }, 200) : void s() },
            l = (i(3), i(4), i(5), i(6), i(8), i(9));
        window.THREE = l; var u = i(10),
            c = i(22),
            d = new u;
        window.app = d; var p = document.getElementById("container");
        document.body.appendChild(d.view), p.style.background = "black", d.view.style.position = "absolute", d.view.style.top = 0, d.view.style.left = 0, window.addEventListener("resize", function() { s(), window.cordova || setTimeout(function() { s() }, 400) }), !window.cordova && c.instance.iOS && setTimeout(function() { s() }, 1e3), window.addEventListener("orientationchange", function() { h() }), s() } else { var f = i(2);
        new f(document.body) } }, function(t, e, i) { var n;
    n = function(t, e, i) { var n = function(t) { this.domElement = t || document.body; var e = { message: '<p>Uh-oh! It looks like you need to update your browser before you\'ll be able to play this game</p><p>In the meantime, check out <a href="#brand_url">this</a> or <a href="#cbeebies_games_url">this</a>.', brand_url: "http://www.someurl.tld/", games_url: "http://www.someurl.tld/", enabled: !0 },
                i = e.message;
            i = i.replace("#brand_url", e.brand_url), i = i.replace("#games_url", e.games_url), this.active = !1, this.checkDevice(navigator.userAgent), this.checkCanvas(), this.checkCookies() };
        n.prototype.constructor = n, n.prototype = { checkDevice: function(t) { for (var e = [/(Mobile\/8C148)/, /(Mobile\/8C148a)/, /(Mobile\/8A293)/, /(Mobile\/8A306)/, /(Mobile\/8A400)/, /(Mobile\/8B117)/, /(Mobile\/8E128)/, /(Mobile\/8E200)/, /(Mobile\/8E303)/, /(Mobile\/8E401)/, /(Mobile\/8E600)/, /(Mobile\/8E501)/, /(Mobile\/8G4)/, /(Mobile\/8H7)/, /(Mobile\/8J2)/, /(Mobile\/8K2)/, /(Mobile\/8L1)/, /(Mobile\/9A334)/, /(Mobile\/10A523)/, /(Mobile\/9A405)/], i = 0; i < e.length; i++)
                    if (t.match(e[i])) { var n = ASSET_URL + "img/unsupported.jpg"; return this.createBigImage(n), !1 } if (/iP[ao]d|iPhone/i.test(t)) { var r = parseFloat(("" + (/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent) || [0, ""])[1]).replace("undefined", "3_2").replace("_", ".").replace("_", "")) || !1; if (r < 6) { var n = ASSET_URL + "img/unsupported.jpg"; return this.createBigImage(n), !1 } } }, checkCanvas: function() { if (!this.hasCanvasSupport()) { var t = ASSET_URL + "img/unsupported.jpg"; return this.createBigImage(t), !1 } return !0 }, hasCanvasSupport: function() { var t = document.createElement("canvas"); return !(!t.getContext || !t.getContext("2d")) }, checkCookies: function() { if (!this.cookiesEnabled()) { var t = ASSET_URL + "img/cookies.jpg";
                    this.createBigImage(t) } }, cookiesEnabled: function() { var t = !!navigator.cookieEnabled; return "undefined" != typeof navigator.cookieEnabled || t || (document.cookie = "testcookie", t = document.cookie.indexOf("testcookie") != -1), t }, createBigImage2: function(t) { var e = document.createElement("div");
                e.style.backgroundPosition = "50% 50%", e.style.backgroundColor = "#3b3b3b", e.style.backgroundRepeat = "no-repeat", e.style.position = "absolute", e.style.top = "0", e.style.left = "0", e.style.bottom = "0", e.style.right = "0", e.style.zIndex = 1e5, e.height = "100%", e.width = "100%", e.style.backgroundImage = "url(" + t + ")", this.domElement.appendChild(e), this.active = !0 }, createBigImage: function(t) { var e = new Image;
                e.style.backgroundPosition = "50% 50%", e.style.backgroundColor = "#3b3b3b", e.style.backgroundRepeat = "no-repeat", e.style.position = "absolute", e.style.top = "0", e.style.left = "0", e.style.bottom = "0", e.style.right = "0", e.style.zIndex = 1e5, e.src = t, this.domElement.appendChild(e), window.onresize = function() { var t = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth,
                        i = window.innerHeight || document.documentElement.clientHeight || document.body.clientHeight,
                        n = t / 750;
                    n > 1 && (n = 1), e.width = 750 * n, e.height = 500 * n, e.style.left = t / 2 - 750 * n / 2 + "px", e.style.top = i / 2 - 500 * n / 2 + "px" }, window.onresize(), this.active = !0 } }, i.exports = n }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) {
    var n, r;
    ! function(i) {
        "use strict";
        var o, a, s, h, l, u = i.GreenSockGlobals || i,
            c = function(t) { var e, i = t.split("."),
                    n = u; for (e = 0; i.length > e; e++) n[i[e]] = n = n[i[e]] || {}; return n },
            d = c("com.greensock"),
            p = [].slice,
            f = function() {},
            m = {},
            g = function(i, o, a, s) { this.sc = m[i] ? m[i].sc : [], m[i] = this, this.gsClass = null, this.func = a; var h = [];
                this.check = function(l) { for (var d, p, f, v, y = o.length, _ = y; --y > -1;)(d = m[o[y]] || new g(o[y], [])).gsClass ? (h[y] = d.gsClass, _--) : l && d.sc.push(this); if (0 === _ && a)
                        for (p = ("com.greensock." + i).split("."), f = p.pop(), v = c(p.join("."))[f] = this.gsClass = a.apply(a, h), s && (u[f] = v, n = [], r = function() { return v }.apply(e, n), !(void 0 !== r && (t.exports = r))), y = 0; this.sc.length > y; y++) this.sc[y].check() }, this.check(!0) },
            v = i._gsDefine = function(t, e, i, n) { return new g(t, e, i, n) },
            y = d._class = function(t, e, i) { return e = e || function() {}, v(t, [], function() { return e }, i), e };
        v.globals = u;
        var _ = [0, 0, 1, 1],
            b = [],
            x = y("easing.Ease", function(t, e, i, n) { this._func = t, this._type = i || 0, this._power = n || 0, this._params = e ? _.concat(e) : _ }, !0),
            w = x.map = {},
            T = x.register = function(t, e, i, n) { for (var r, o, a, s, h = e.split(","), l = h.length, u = (i || "easeIn,easeOut,easeInOut").split(","); --l > -1;)
                    for (o = h[l], r = n ? y("easing." + o, null, !0) : d.easing[o] || {}, a = u.length; --a > -1;) s = u[a], w[o + "." + s] = w[s + o] = r[s] = t.getRatio ? t : t[s] || new t };
        for (s = x.prototype, s._calcEnd = !1, s.getRatio = function(t) { if (this._func) return this._params[0] = t, this._func.apply(null, this._params); var e = this._type,
                    i = this._power,
                    n = 1 === e ? 1 - t : 2 === e ? t : .5 > t ? 2 * t : 2 * (1 - t); return 1 === i ? n *= n : 2 === i ? n *= n * n : 3 === i ? n *= n * n * n : 4 === i && (n *= n * n * n * n), 1 === e ? 1 - n : 2 === e ? n : .5 > t ? n / 2 : 1 - n / 2 }, o = ["Linear", "Quad", "Cubic", "Quart", "Quint,Strong"], a = o.length; --a > -1;) s = o[a] + ",Power" + a, T(new x(null, null, 1, a), s, "easeOut", !0), T(new x(null, null, 2, a), s, "easeIn" + (0 === a ? ",easeNone" : "")), T(new x(null, null, 3, a), s, "easeInOut");
        w.linear = d.easing.Linear.easeIn, w.swing = d.easing.Quad.easeInOut;
        var S = y("events.EventDispatcher", function(t) { this._listeners = {}, this._eventTarget = t || this });
        s = S.prototype, s.addEventListener = function(t, e, i, n, r) { r = r || 0; var o, a, s = this._listeners[t],
                u = 0; for (null == s && (this._listeners[t] = s = []), a = s.length; --a > -1;) o = s[a], o.c === e && o.s === i ? s.splice(a, 1) : 0 === u && r > o.pr && (u = a + 1);
            s.splice(u, 0, { c: e, s: i, up: n, pr: r }), this !== h || l || h.wake() }, s.removeEventListener = function(t, e) { var i, n = this._listeners[t]; if (n)
                for (i = n.length; --i > -1;)
                    if (n[i].c === e) return void n.splice(i, 1) }, s.dispatchEvent = function(t) { var e, i, n, r = this._listeners[t]; if (r)
                for (e = r.length, i = this._eventTarget; --e > -1;) n = r[e], n.up ? n.c.call(n.s || i, { type: t, target: i }) : n.c.call(n.s || i) };
        var M = i.requestAnimationFrame,
            E = i.cancelAnimationFrame,
            A = Date.now || function() { return (new Date).getTime() },
            C = A();
        for (o = ["ms", "moz", "webkit", "o"], a = o.length; --a > -1 && !M;) M = i[o[a] + "RequestAnimationFrame"], E = i[o[a] + "CancelAnimationFrame"] || i[o[a] + "CancelRequestAnimationFrame"];
        y("Ticker", function(t, e) { var i, n, r, o, a, s = this,
                u = A(),
                c = e !== !1 && M,
                d = function(t) { C = A(), s.time = (C - u) / 1e3; var e, h = s.time - a;
                    (!i || h > 0 || t === !0) && (s.frame++, a += h + (h >= o ? .004 : o - h), e = !0), t !== !0 && (r = n(d)), e && s.dispatchEvent("tick") };
            S.call(s), this.time = this.frame = 0, this.tick = function() { d(!0) }, this.sleep = function() { null != r && (c && E ? E(r) : clearTimeout(r), n = f, r = null, s === h && (l = !1)) }, this.wake = function() { null !== r && s.sleep(), n = 0 === i ? f : c && M ? M : function(t) { return setTimeout(t, 0 | 1e3 * (a - s.time) + 1) }, s === h && (l = !0), d(2) }, this.fps = function(t) { return arguments.length ? (i = t, o = 1 / (i || 60), a = this.time + o, void s.wake()) : i }, this.useRAF = function(t) { return arguments.length ? (s.sleep(), c = t, void s.fps(i)) : c }, s.fps(t), setTimeout(function() { c && (!r || 5 > s.frame) && s.useRAF(!1) }, 1500) }), s = d.Ticker.prototype = new d.events.EventDispatcher, s.constructor = d.Ticker;
        var R = y("core.Animation", function(t, e) { if (this.vars = e = e || {}, this._duration = this._totalDuration = t || 0, this._delay = Number(e.delay) || 0, this._timeScale = 1, this._active = e.immediateRender === !0, this.data = e.data, this._reversed = e.reversed === !0, z) { l || h.wake(); var i = this.vars.useFrames ? j : z;
                i.add(this, i._time), this.vars.paused && this.paused(!0) } });
        h = R.ticker = new d.Ticker, s = R.prototype, s._dirty = s._gc = s._initted = s._paused = !1, s._totalTime = s._time = 0, s._rawPrevTime = -1, s._next = s._last = s._onUpdate = s._timeline = s.timeline = null, s._paused = !1;
        var P = function() { A() - C > 2e3 && h.wake(), setTimeout(P, 2e3) };
        P(), s.play = function(t, e) { return arguments.length && this.seek(t, e), this.reversed(!1).paused(!1) }, s.pause = function(t, e) { return arguments.length && this.seek(t, e), this.paused(!0) }, s.resume = function(t, e) { return arguments.length && this.seek(t, e), this.paused(!1) }, s.seek = function(t, e) { return this.totalTime(Number(t), e !== !1) }, s.restart = function(t, e) { return this.reversed(!1).paused(!1).totalTime(t ? -this._delay : 0, e !== !1, !0) }, s.reverse = function(t, e) { return arguments.length && this.seek(t || this.totalDuration(), e), this.reversed(!0).paused(!1) }, s.render = function() {}, s.invalidate = function() { return this }, s._enabled = function(t, e) { return l || h.wake(), this._gc = !t, this._active = t && !this._paused && this._totalTime > 0 && this._totalTime < this._totalDuration, e !== !0 && (t && !this.timeline ? this._timeline.add(this, this._startTime - this._delay) : !t && this.timeline && this._timeline._remove(this, !0)), !1 }, s._kill = function() { return this._enabled(!1, !1) }, s.kill = function(t, e) { return this._kill(t, e), this }, s._uncache = function(t) { for (var e = t ? this : this.timeline; e;) e._dirty = !0, e = e.timeline; return this }, s._swapSelfInParams = function(t) { for (var e = t.length, i = t.concat(); --e > -1;) "{self}" === t[e] && (i[e] = this); return i }, s.eventCallback = function(t, e, i, n) { if ("on" === (t || "").substr(0, 2)) { var r = this.vars; if (1 === arguments.length) return r[t];
                null == e ? delete r[t] : (r[t] = e, r[t + "Params"] = i instanceof Array && -1 !== i.join("").indexOf("{self}") ? this._swapSelfInParams(i) : i, r[t + "Scope"] = n), "onUpdate" === t && (this._onUpdate = e) } return this }, s.delay = function(t) { return arguments.length ? (this._timeline.smoothChildTiming && this.startTime(this._startTime + t - this._delay), this._delay = t, this) : this._delay }, s.duration = function(t) { return arguments.length ? (this._duration = this._totalDuration = t, this._uncache(!0), this._timeline.smoothChildTiming && this._time > 0 && this._time < this._duration && 0 !== t && this.totalTime(this._totalTime * (t / this._duration), !0), this) : (this._dirty = !1, this._duration) }, s.totalDuration = function(t) { return this._dirty = !1, arguments.length ? this.duration(t) : this._totalDuration }, s.time = function(t, e) { return arguments.length ? (this._dirty && this.totalDuration(), this.totalTime(t > this._duration ? this._duration : t, e)) : this._time }, s.totalTime = function(t, e, i) { if (l || h.wake(), !arguments.length) return this._totalTime; if (this._timeline) { if (0 > t && !i && (t += this.totalDuration()), this._timeline.smoothChildTiming) { this._dirty && this.totalDuration(); var n = this._totalDuration,
                        r = this._timeline; if (t > n && !i && (t = n), this._startTime = (this._paused ? this._pauseTime : r._time) - (this._reversed ? n - t : t) / this._timeScale, r._dirty || this._uncache(!1), r._timeline)
                        for (; r._timeline;) r._timeline._time !== (r._startTime + r._totalTime) / r._timeScale && r.totalTime(r._totalTime, !0), r = r._timeline } this._gc && this._enabled(!0, !1), this._totalTime !== t && this.render(t, e, !1) } return this }, s.startTime = function(t) { return arguments.length ? (t !== this._startTime && (this._startTime = t, this.timeline && this.timeline._sortChildren && this.timeline.add(this, t - this._delay)), this) : this._startTime }, s.timeScale = function(t) { if (!arguments.length) return this._timeScale; if (t = t || 1e-6, this._timeline && this._timeline.smoothChildTiming) { var e = this._pauseTime,
                    i = e || 0 === e ? e : this._timeline.totalTime();
                this._startTime = i - (i - this._startTime) * this._timeScale / t } return this._timeScale = t, this._uncache(!1) }, s.reversed = function(t) { return arguments.length ? (t != this._reversed && (this._reversed = t, this.totalTime(this._totalTime, !0)), this) : this._reversed }, s.paused = function(t) { if (!arguments.length) return this._paused; if (t != this._paused && this._timeline) { l || t || h.wake(); var e = this._timeline,
                    i = e.rawTime(),
                    n = i - this._pauseTime;!t && e.smoothChildTiming && (this._startTime += n, this._uncache(!1)), this._pauseTime = t ? i : null, this._paused = t, this._active = !t && this._totalTime > 0 && this._totalTime < this._totalDuration, t || 0 === n || 0 === this._duration || this.render(e.smoothChildTiming ? this._totalTime : (i - this._startTime) / this._timeScale, !0, !0) } return this._gc && !t && this._enabled(!0, !1), this };
        var O = y("core.SimpleTimeline", function(t) { R.call(this, 0, t), this.autoRemoveChildren = this.smoothChildTiming = !0 });
        s = O.prototype = new R, s.constructor = O, s.kill()._gc = !1, s._first = s._last = null, s._sortChildren = !1, s.add = s.insert = function(t, e) { var i, n; if (t._startTime = Number(e || 0) + t._delay, t._paused && this !== t._timeline && (t._pauseTime = t._startTime + (this.rawTime() - t._startTime) / t._timeScale), t.timeline && t.timeline._remove(t, !0), t.timeline = t._timeline = this, t._gc && t._enabled(!0, !0), i = this._last, this._sortChildren)
                for (n = t._startTime; i && i._startTime > n;) i = i._prev; return i ? (t._next = i._next, i._next = t) : (t._next = this._first, this._first = t), t._next ? t._next._prev = t : this._last = t, t._prev = i, this._timeline && this._uncache(!0), this }, s._remove = function(t, e) { return t.timeline === this && (e || t._enabled(!1, !0), t.timeline = null, t._prev ? t._prev._next = t._next : this._first === t && (this._first = t._next), t._next ? t._next._prev = t._prev : this._last === t && (this._last = t._prev), this._timeline && this._uncache(!0)), this }, s.render = function(t, e, i) { var n, r = this._first; for (this._totalTime = this._time = this._rawPrevTime = t; r;) n = r._next, (r._active || t >= r._startTime && !r._paused) && (r._reversed ? r.render((r._dirty ? r.totalDuration() : r._totalDuration) - (t - r._startTime) * r._timeScale, e, i) : r.render((t - r._startTime) * r._timeScale, e, i)), r = n }, s.rawTime = function() { return l || h.wake(), this._totalTime };
        var L = y("TweenLite", function(t, e, n) { if (R.call(this, e, n), this.render = L.prototype.render, null == t) throw "Cannot tween a null target.";
                this.target = t = "string" != typeof t ? t : L.selector(t) || t; var r, o, a, s = t.jquery || t.length && t !== i && t[0] && (t[0] === i || t[0].nodeType && t[0].style && !t.nodeType),
                    h = this.vars.overwrite; if (this._overwrite = h = null == h ? G[L.defaultOverwrite] : "number" == typeof h ? h >> 0 : G[h], (s || t instanceof Array) && "number" != typeof t[0])
                    for (this._targets = a = p.call(t, 0), this._propLookup = [], this._siblings = [], r = 0; a.length > r; r++) o = a[r], o ? "string" != typeof o ? o.length && o !== i && o[0] && (o[0] === i || o[0].nodeType && o[0].style && !o.nodeType) ? (a.splice(r--, 1), this._targets = a = a.concat(p.call(o, 0))) : (this._siblings[r] = V(o, this, !1), 1 === h && this._siblings[r].length > 1 && H(o, this, null, 1, this._siblings[r])) : (o = a[r--] = L.selector(o), "string" == typeof o && a.splice(r + 1, 1)) : a.splice(r--, 1);
                else this._propLookup = {}, this._siblings = V(t, this, !1), 1 === h && this._siblings.length > 1 && H(t, this, null, 1, this._siblings);
                (this.vars.immediateRender || 0 === e && 0 === this._delay && this.vars.immediateRender !== !1) && this.render(-this._delay, !1, !0) }, !0),
            I = function(t) { return t.length && t !== i && t[0] && (t[0] === i || t[0].nodeType && t[0].style && !t.nodeType) },
            D = function(t, e) { var i, n = {}; for (i in t) U[i] || i in e && "x" !== i && "y" !== i && "width" !== i && "height" !== i && "className" !== i && "border" !== i || !(!B[i] || B[i] && B[i]._autoCSS) || (n[i] = t[i], delete t[i]);
                t.css = n };
        s = L.prototype = new R, s.constructor = L, s.kill()._gc = !1, s.ratio = 0, s._firstPT = s._targets = s._overwrittenProps = s._startAt = null, s._notifyPluginsOfEnabled = !1, L.version = "1.10.2", L.defaultEase = s._ease = new x(null, null, 1, 1), L.defaultOverwrite = "auto", L.ticker = h, L.autoSleep = !0, L.selector = i.$ || i.jQuery || function(t) { return i.$ ? (L.selector = i.$, i.$(t)) : i.document ? i.document.getElementById("#" === t.charAt(0) ? t.substr(1) : t) : t };
        var k = L._internals = {},
            B = L._plugins = {},
            N = L._tweenLookup = {},
            F = 0,
            U = k.reservedProps = { ease: 1, delay: 1, overwrite: 1, onComplete: 1, onCompleteParams: 1, onCompleteScope: 1, useFrames: 1, runBackwards: 1, startAt: 1, onUpdate: 1, onUpdateParams: 1, onUpdateScope: 1, onStart: 1, onStartParams: 1, onStartScope: 1, onReverseComplete: 1, onReverseCompleteParams: 1, onReverseCompleteScope: 1, onRepeat: 1, onRepeatParams: 1, onRepeatScope: 1, easeParams: 1, yoyo: 1, immediateRender: 1, repeat: 1, repeatDelay: 1, data: 1, paused: 1, reversed: 1, autoCSS: 1 },
            G = { none: 0, all: 1, auto: 2, concurrent: 3, allOnStart: 4, preexisting: 5, "true": 1, "false": 0 },
            j = R._rootFramesTimeline = new O,
            z = R._rootTimeline = new O;
        z._startTime = h.time, j._startTime = h.frame, z._active = j._active = !0, R._updateRoot = function() { if (z.render((h.time - z._startTime) * z._timeScale, !1, !1), j.render((h.frame - j._startTime) * j._timeScale, !1, !1), !(h.frame % 120)) { var t, e, i; for (i in N) { for (e = N[i].tweens, t = e.length; --t > -1;) e[t]._gc && e.splice(t, 1);
                    0 === e.length && delete N[i] } if (i = z._first, (!i || i._paused) && L.autoSleep && !j._first && 1 === h._listeners.tick.length) { for (; i && i._paused;) i = i._next;
                    i || h.sleep() } } }, h.addEventListener("tick", R._updateRoot);
        var V = function(t, e, i) { var n, r, o = t._gsTweenID; if (N[o || (t._gsTweenID = o = "t" + F++)] || (N[o] = { target: t, tweens: [] }), e && (n = N[o].tweens, n[r = n.length] = e, i))
                    for (; --r > -1;) n[r] === e && n.splice(r, 1); return N[o].tweens },
            H = function(t, e, i, n, r) { var o, a, s, h; if (1 === n || n >= 4) { for (h = r.length, o = 0; h > o; o++)
                        if ((s = r[o]) !== e) s._gc || s._enabled(!1, !1) && (a = !0);
                        else if (5 === n) break; return a } var l, u = e._startTime + 1e-10,
                    c = [],
                    d = 0,
                    p = 0 === e._duration; for (o = r.length; --o > -1;)(s = r[o]) === e || s._gc || s._paused || (s._timeline !== e._timeline ? (l = l || W(e, 0, p), 0 === W(s, l, p) && (c[d++] = s)) : u >= s._startTime && s._startTime + s.totalDuration() / s._timeScale + 1e-10 > u && ((p || !s._initted) && 2e-10 >= u - s._startTime || (c[d++] = s))); for (o = d; --o > -1;) s = c[o], 2 === n && s._kill(i, t) && (a = !0), (2 !== n || !s._firstPT && s._initted) && s._enabled(!1, !1) && (a = !0); return a },
            W = function(t, e, i) { for (var n = t._timeline, r = n._timeScale, o = t._startTime, a = 1e-10; n._timeline;) { if (o += n._startTime, r *= n._timeScale, n._paused) return -100;
                    n = n._timeline } return o /= r, o > e ? o - e : i && o === e || !t._initted && 2 * a > o - e ? a : (o += t.totalDuration() / t._timeScale / r) > e + a ? 0 : o - e - a };
        s._init = function() { var t, e, i, n, r = this.vars,
                o = this._overwrittenProps,
                a = this._duration,
                s = r.immediateRender,
                h = r.ease; if (r.startAt) { if (this._startAt && this._startAt.render(-1, !0), r.startAt.overwrite = 0, r.startAt.immediateRender = !0, this._startAt = L.to(this.target, 0, r.startAt), s)
                    if (this._time > 0) this._startAt = null;
                    else if (0 !== a) return } else if (r.runBackwards && r.immediateRender && 0 !== a)
                if (this._startAt) this._startAt.render(-1, !0), this._startAt = null;
                else if (0 === this._time) { i = {}; for (n in r) U[n] && "autoCSS" !== n || (i[n] = r[n]); return i.overwrite = 0, void(this._startAt = L.to(this.target, 0, i)) } if (this._ease = h ? h instanceof x ? r.easeParams instanceof Array ? h.config.apply(h, r.easeParams) : h : "function" == typeof h ? new x(h, r.easeParams) : w[h] || L.defaultEase : L.defaultEase, this._easeType = this._ease._type, this._easePower = this._ease._power, this._firstPT = null, this._targets)
                for (t = this._targets.length; --t > -1;) this._initProps(this._targets[t], this._propLookup[t] = {}, this._siblings[t], o ? o[t] : null) && (e = !0);
            else e = this._initProps(this.target, this._propLookup, this._siblings, o); if (e && L._onPluginEvent("_onInitAllProps", this), o && (this._firstPT || "function" != typeof this.target && this._enabled(!1, !1)), r.runBackwards)
                for (i = this._firstPT; i;) i.s += i.c, i.c = -i.c, i = i._next;
            this._onUpdate = r.onUpdate, this._initted = !0 }, s._initProps = function(t, e, n, r) { var o, a, s, h, l, u; if (null == t) return !1;
            this.vars.css || t.style && t !== i && t.nodeType && B.css && this.vars.autoCSS !== !1 && D(this.vars, t); for (o in this.vars) { if (u = this.vars[o], U[o]) u instanceof Array && -1 !== u.join("").indexOf("{self}") && (this.vars[o] = u = this._swapSelfInParams(u, this));
                else if (B[o] && (h = new B[o])._onInitTween(t, this.vars[o], this)) { for (this._firstPT = l = { _next: this._firstPT, t: h, p: "setRatio", s: 0, c: 1, f: !0, n: o, pg: !0, pr: h._priority }, a = h._overwriteProps.length; --a > -1;) e[h._overwriteProps[a]] = this._firstPT;
                    (h._priority || h._onInitAllProps) && (s = !0), (h._onDisable || h._onEnable) && (this._notifyPluginsOfEnabled = !0) } else this._firstPT = e[o] = l = { _next: this._firstPT, t: t, p: o, f: "function" == typeof t[o], n: o, pg: !1, pr: 0 }, l.s = l.f ? t[o.indexOf("set") || "function" != typeof t["get" + o.substr(3)] ? o : "get" + o.substr(3)]() : parseFloat(t[o]), l.c = "string" == typeof u && "=" === u.charAt(1) ? parseInt(u.charAt(0) + "1", 10) * Number(u.substr(2)) : Number(u) - l.s || 0;
                l && l._next && (l._next._prev = l) } return r && this._kill(r, t) ? this._initProps(t, e, n, r) : this._overwrite > 1 && this._firstPT && n.length > 1 && H(t, this, e, this._overwrite, n) ? (this._kill(e, t), this._initProps(t, e, n, r)) : s }, s.render = function(t, e, i) { var n, r, o, a = this._time; if (t >= this._duration) this._totalTime = this._time = this._duration, this.ratio = this._ease._calcEnd ? this._ease.getRatio(1) : 1, this._reversed || (n = !0, r = "onComplete"), 0 === this._duration && ((0 === t || 0 > this._rawPrevTime) && this._rawPrevTime !== t && (i = !0, this._rawPrevTime > 0 && (r = "onReverseComplete", e && (t = -1))), this._rawPrevTime = t);
            else if (1e-7 > t) this._totalTime = this._time = 0, this.ratio = this._ease._calcEnd ? this._ease.getRatio(0) : 0, (0 !== a || 0 === this._duration && this._rawPrevTime > 0) && (r = "onReverseComplete", n = this._reversed), 0 > t ? (this._active = !1, 0 === this._duration && (this._rawPrevTime >= 0 && (i = !0), this._rawPrevTime = t)) : this._initted || (i = !0);
            else if (this._totalTime = this._time = t, this._easeType) { var s = t / this._duration,
                    h = this._easeType,
                    l = this._easePower;
                (1 === h || 3 === h && s >= .5) && (s = 1 - s), 3 === h && (s *= 2), 1 === l ? s *= s : 2 === l ? s *= s * s : 3 === l ? s *= s * s * s : 4 === l && (s *= s * s * s * s), this.ratio = 1 === h ? 1 - s : 2 === h ? s : .5 > t / this._duration ? s / 2 : 1 - s / 2 } else this.ratio = this._ease.getRatio(t / this._duration); if (this._time !== a || i) { if (!this._initted) { if (this._init(), !this._initted) return;
                    this._time && !n ? this.ratio = this._ease.getRatio(this._time / this._duration) : n && this._ease._calcEnd && (this.ratio = this._ease.getRatio(0 === this._time ? 0 : 1)) } for (this._active || !this._paused && this._time !== a && t >= 0 && (this._active = !0), 0 === a && (this._startAt && (t >= 0 ? this._startAt.render(t, e, i) : r || (r = "_dummyGS")), this.vars.onStart && (0 !== this._time || 0 === this._duration) && (e || this.vars.onStart.apply(this.vars.onStartScope || this, this.vars.onStartParams || b))), o = this._firstPT; o;) o.f ? o.t[o.p](o.c * this.ratio + o.s) : o.t[o.p] = o.c * this.ratio + o.s, o = o._next;
                this._onUpdate && (0 > t && this._startAt && this._startAt.render(t, e, i), e || this._onUpdate.apply(this.vars.onUpdateScope || this, this.vars.onUpdateParams || b)), r && (this._gc || (0 > t && this._startAt && !this._onUpdate && this._startAt.render(t, e, i), n && (this._timeline.autoRemoveChildren && this._enabled(!1, !1), this._active = !1), !e && this.vars[r] && this.vars[r].apply(this.vars[r + "Scope"] || this, this.vars[r + "Params"] || b))) } }, s._kill = function(t, e) { if ("all" === t && (t = null), null == t && (null == e || e === this.target)) return this._enabled(!1, !1);
            e = "string" != typeof e ? e || this._targets || this.target : L.selector(e) || e; var i, n, r, o, a, s, h, l; if ((e instanceof Array || I(e)) && "number" != typeof e[0])
                for (i = e.length; --i > -1;) this._kill(t, e[i]) && (s = !0);
            else { if (this._targets) { for (i = this._targets.length; --i > -1;)
                        if (e === this._targets[i]) { a = this._propLookup[i] || {}, this._overwrittenProps = this._overwrittenProps || [], n = this._overwrittenProps[i] = t ? this._overwrittenProps[i] || {} : "all"; break } } else { if (e !== this.target) return !1;
                    a = this._propLookup, n = this._overwrittenProps = t ? this._overwrittenProps || {} : "all" } if (a) { h = t || a, l = t !== n && "all" !== n && t !== a && (null == t || t._tempKill !== !0); for (r in h)(o = a[r]) && (o.pg && o.t._kill(h) && (s = !0), o.pg && 0 !== o.t._overwriteProps.length || (o._prev ? o._prev._next = o._next : o === this._firstPT && (this._firstPT = o._next), o._next && (o._next._prev = o._prev), o._next = o._prev = null), delete a[r]), l && (n[r] = 1);!this._firstPT && this._initted && this._enabled(!1, !1) } } return s }, s.invalidate = function() { return this._notifyPluginsOfEnabled && L._onPluginEvent("_onDisable", this), this._firstPT = null, this._overwrittenProps = null, this._onUpdate = null, this._startAt = null, this._initted = this._active = this._notifyPluginsOfEnabled = !1, this._propLookup = this._targets ? {} : [], this }, s._enabled = function(t, e) { if (l || h.wake(), t && this._gc) { var i, n = this._targets; if (n)
                    for (i = n.length; --i > -1;) this._siblings[i] = V(n[i], this, !0);
                else this._siblings = V(this.target, this, !0) } return R.prototype._enabled.call(this, t, e), !(!this._notifyPluginsOfEnabled || !this._firstPT) && L._onPluginEvent(t ? "_onEnable" : "_onDisable", this) }, L.to = function(t, e, i) { return new L(t, e, i) }, L.from = function(t, e, i) { return i.runBackwards = !0, i.immediateRender = 0 != i.immediateRender, new L(t, e, i) }, L.fromTo = function(t, e, i, n) { return n.startAt = i, n.immediateRender = 0 != n.immediateRender && 0 != i.immediateRender, new L(t, e, n) }, L.delayedCall = function(t, e, i, n, r) { return new L(e, 0, { delay: t, onComplete: e, onCompleteParams: i, onCompleteScope: n, onReverseComplete: e, onReverseCompleteParams: i, onReverseCompleteScope: n, immediateRender: !1, useFrames: r, overwrite: 0 }) }, L.set = function(t, e) { return new L(t, 0, e) }, L.killTweensOf = L.killDelayedCallsTo = function(t, e) { for (var i = L.getTweensOf(t), n = i.length; --n > -1;) i[n]._kill(e, t) }, L.getTweensOf = function(t) { if (null == t) return [];
            t = "string" != typeof t ? t : L.selector(t) || t; var e, i, n, r; if ((t instanceof Array || I(t)) && "number" != typeof t[0]) { for (e = t.length, i = []; --e > -1;) i = i.concat(L.getTweensOf(t[e])); for (e = i.length; --e > -1;)
                    for (r = i[e], n = e; --n > -1;) r === i[n] && i.splice(e, 1) } else
                for (i = V(t).concat(), e = i.length; --e > -1;) i[e]._gc && i.splice(e, 1); return i };
        var X = y("plugins.TweenPlugin", function(t, e) { this._overwriteProps = (t || "").split(","), this._propName = this._overwriteProps[0], this._priority = e || 0, this._super = X.prototype }, !0);
        if (s = X.prototype, X.version = "1.10.1", X.API = 2, s._firstPT = null, s._addTween = function(t, e, i, n, r, o) { var a, s; return null != n && (a = "number" == typeof n || "=" !== n.charAt(1) ? Number(n) - i : parseInt(n.charAt(0) + "1", 10) * Number(n.substr(2))) ? (this._firstPT = s = { _next: this._firstPT, t: t, p: e, s: i, c: a, f: "function" == typeof t[e], n: r || e, r: o }, s._next && (s._next._prev = s), s) : void 0 }, s.setRatio = function(t) { for (var e, i = this._firstPT, n = 1e-6; i;) e = i.c * t + i.s, i.r ? e = 0 | e + (e > 0 ? .5 : -.5) : n > e && e > -n && (e = 0), i.f ? i.t[i.p](e) : i.t[i.p] = e, i = i._next }, s._kill = function(t) {
                var e, i = this._overwriteProps,
                    n = this._firstPT;
                if (null != t[this._propName]) this._overwriteProps = [];
                else
                    for (e = i.length; --e > -1;) null != t[i[e]] && i.splice(e, 1);
                for (; n;) null != t[n.n] && (n._next && (n._next._prev = n._prev),
                    n._prev ? (n._prev._next = n._next, n._prev = null) : this._firstPT === n && (this._firstPT = n._next)), n = n._next;
                return !1
            }, s._roundProps = function(t, e) { for (var i = this._firstPT; i;)(t[this._propName] || null != i.n && t[i.n.split(this._propName + "_").join("")]) && (i.r = e), i = i._next }, L._onPluginEvent = function(t, e) { var i, n, r, o, a, s = e._firstPT; if ("_onInitAllProps" === t) { for (; s;) { for (a = s._next, n = r; n && n.pr > s.pr;) n = n._next;
                        (s._prev = n ? n._prev : o) ? s._prev._next = s: r = s, (s._next = n) ? n._prev = s : o = s, s = a } s = e._firstPT = r } for (; s;) s.pg && "function" == typeof s.t[t] && s.t[t]() && (i = !0), s = s._next; return i }, X.activate = function(t) { for (var e = t.length; --e > -1;) t[e].API === X.API && (B[(new t[e])._propName] = t[e]); return !0 }, v.plugin = function(t) { if (!(t && t.propName && t.init && t.API)) throw "illegal plugin definition."; var e, i = t.propName,
                    n = t.priority || 0,
                    r = t.overwriteProps,
                    o = { init: "_onInitTween", set: "setRatio", kill: "_kill", round: "_roundProps", initAll: "_onInitAllProps" },
                    a = y("plugins." + i.charAt(0).toUpperCase() + i.substr(1) + "Plugin", function() { X.call(this, i, n), this._overwriteProps = r || [] }, t.global === !0),
                    s = a.prototype = new X(i);
                s.constructor = a, a.API = t.API; for (e in o) "function" == typeof t[e] && (s[o[e]] = t[e]); return a.version = t.version, X.activate([a]), a }, o = i._gsQueue) { for (a = 0; o.length > a; a++) o[a](); for (s in m) m[s].func || i.console.log("GSAP encountered missing dependency: com.greensock." + s) } l = !1
    }(window)
}, function(t, e) {
    (window._gsQueue || (window._gsQueue = [])).push(function() { "use strict";
        window._gsDefine("easing.Back", ["easing.Ease"], function(t) { var e, i, n, r = window.GreenSockGlobals || window,
                o = r.com.greensock,
                a = 2 * Math.PI,
                s = Math.PI / 2,
                h = o._class,
                l = function(e, i) { var n = h("easing." + e, function() {}, !0),
                        r = n.prototype = new t; return r.constructor = n, r.getRatio = i, n },
                u = t.register || function() {},
                c = function(t, e, i, n) { var r = h("easing." + t, { easeOut: new e, easeIn: new i, easeInOut: new n }, !0); return u(r, t), r },
                d = function(t, e, i) { this.t = t, this.v = e, i && (this.next = i, i.prev = this, this.c = i.v - e, this.gap = i.t - t) },
                p = function(e, i) { var n = h("easing." + e, function(t) { this._p1 = t || 0 === t ? t : 1.70158, this._p2 = 1.525 * this._p1 }, !0),
                        r = n.prototype = new t; return r.constructor = n, r.getRatio = i, r.config = function(t) { return new n(t) }, n },
                f = c("Back", p("BackOut", function(t) { return (t -= 1) * t * ((this._p1 + 1) * t + this._p1) + 1 }), p("BackIn", function(t) { return t * t * ((this._p1 + 1) * t - this._p1) }), p("BackInOut", function(t) { return 1 > (t *= 2) ? .5 * t * t * ((this._p2 + 1) * t - this._p2) : .5 * ((t -= 2) * t * ((this._p2 + 1) * t + this._p2) + 2) })),
                m = h("easing.SlowMo", function(t, e, i) { e = e || 0 === e ? e : .7, null == t ? t = .7 : t > 1 && (t = 1), this._p = 1 !== t ? e : 0, this._p1 = (1 - t) / 2, this._p2 = t, this._p3 = this._p1 + this._p2, this._calcEnd = i === !0 }, !0),
                g = m.prototype = new t; return g.constructor = m, g.getRatio = function(t) { var e = t + (.5 - t) * this._p; return this._p1 > t ? this._calcEnd ? 1 - (t = 1 - t / this._p1) * t : e - (t = 1 - t / this._p1) * t * t * t * e : t > this._p3 ? this._calcEnd ? 1 - (t = (t - this._p3) / this._p1) * t : e + (t - e) * (t = (t - this._p3) / this._p1) * t * t * t : this._calcEnd ? 1 : e }, m.ease = new m(.7, .7), g.config = m.config = function(t, e, i) { return new m(t, e, i) }, e = h("easing.SteppedEase", function(t) { t = t || 1, this._p1 = 1 / t, this._p2 = t + 1 }, !0), g = e.prototype = new t, g.constructor = e, g.getRatio = function(t) { return 0 > t ? t = 0 : t >= 1 && (t = .999999999), (this._p2 * t >> 0) * this._p1 }, g.config = e.config = function(t) { return new e(t) }, i = h("easing.RoughEase", function(e) { e = e || {}; for (var i, n, r, o, a, s, h = e.taper || "none", l = [], u = 0, c = 0 | (e.points || 20), p = c, f = e.randomize !== !1, m = e.clamp === !0, g = e.template instanceof t ? e.template : null, v = "number" == typeof e.strength ? .4 * e.strength : .4; --p > -1;) i = f ? Math.random() : 1 / c * p, n = g ? g.getRatio(i) : i, "none" === h ? r = v : "out" === h ? (o = 1 - i, r = o * o * v) : "in" === h ? r = i * i * v : .5 > i ? (o = 2 * i, r = .5 * o * o * v) : (o = 2 * (1 - i), r = .5 * o * o * v), f ? n += Math.random() * r - .5 * r : p % 2 ? n += .5 * r : n -= .5 * r, m && (n > 1 ? n = 1 : 0 > n && (n = 0)), l[u++] = { x: i, y: n }; for (l.sort(function(t, e) { return t.x - e.x }), s = new d(1, 1, null), p = c; --p > -1;) a = l[p], s = new d(a.x, a.y, s);
                this._prev = new d(0, 0, 0 !== s.t ? s : s.next) }, !0), g = i.prototype = new t, g.constructor = i, g.getRatio = function(t) { var e = this._prev; if (t > e.t) { for (; e.next && t >= e.t;) e = e.next;
                    e = e.prev } else
                    for (; e.prev && e.t >= t;) e = e.prev; return this._prev = e, e.v + (t - e.t) / e.gap * e.c }, g.config = function(t) { return new i(t) }, i.ease = new i, c("Bounce", l("BounceOut", function(t) { return 1 / 2.75 > t ? 7.5625 * t * t : 2 / 2.75 > t ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : 2.5 / 2.75 > t ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375 }), l("BounceIn", function(t) { return 1 / 2.75 > (t = 1 - t) ? 1 - 7.5625 * t * t : 2 / 2.75 > t ? 1 - (7.5625 * (t -= 1.5 / 2.75) * t + .75) : 2.5 / 2.75 > t ? 1 - (7.5625 * (t -= 2.25 / 2.75) * t + .9375) : 1 - (7.5625 * (t -= 2.625 / 2.75) * t + .984375) }), l("BounceInOut", function(t) { var e = .5 > t; return t = e ? 1 - 2 * t : 2 * t - 1, t = 1 / 2.75 > t ? 7.5625 * t * t : 2 / 2.75 > t ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : 2.5 / 2.75 > t ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375, e ? .5 * (1 - t) : .5 * t + .5 })), c("Circ", l("CircOut", function(t) { return Math.sqrt(1 - (t -= 1) * t) }), l("CircIn", function(t) { return -(Math.sqrt(1 - t * t) - 1) }), l("CircInOut", function(t) { return 1 > (t *= 2) ? -.5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (t -= 2) * t) + 1) })), n = function(e, i, n) { var r = h("easing." + e, function(t, e) { this._p1 = t || 1, this._p2 = e || n, this._p3 = this._p2 / a * (Math.asin(1 / this._p1) || 0) }, !0),
                    o = r.prototype = new t; return o.constructor = r, o.getRatio = i, o.config = function(t, e) { return new r(t, e) }, r }, c("Elastic", n("ElasticOut", function(t) { return this._p1 * Math.pow(2, -10 * t) * Math.sin((t - this._p3) * a / this._p2) + 1 }, .3), n("ElasticIn", function(t) { return -(this._p1 * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - this._p3) * a / this._p2)) }, .3), n("ElasticInOut", function(t) { return 1 > (t *= 2) ? -.5 * this._p1 * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - this._p3) * a / this._p2) : .5 * this._p1 * Math.pow(2, -10 * (t -= 1)) * Math.sin((t - this._p3) * a / this._p2) + 1 }, .45)), c("Expo", l("ExpoOut", function(t) { return 1 - Math.pow(2, -10 * t) }), l("ExpoIn", function(t) { return Math.pow(2, 10 * (t - 1)) - .001 }), l("ExpoInOut", function(t) { return 1 > (t *= 2) ? .5 * Math.pow(2, 10 * (t - 1)) : .5 * (2 - Math.pow(2, -10 * (t - 1))) })), c("Sine", l("SineOut", function(t) { return Math.sin(t * s) }), l("SineIn", function(t) { return -Math.cos(t * s) + 1 }), l("SineInOut", function(t) { return -.5 * (Math.cos(Math.PI * t) - 1) })), h("easing.EaseLookup", { find: function(e) { return t.map[e] } }, !0), u(r.SlowMo, "SlowMo", "ease,"), u(i, "RoughEase", "ease,"), u(e, "SteppedEase", "ease,"), f }, !0) }), window._gsDefine && window._gsQueue.pop()() }, function(t, e) {
    (window._gsQueue || (window._gsQueue = [])).push(function() {
        "use strict";
        window._gsDefine("plugins.CSSPlugin", ["plugins.TweenPlugin", "TweenLite"], function(t, e) {
            var i, n, r, o, a = function() { t.call(this, "css"), this._overwriteProps.length = 0 },
                s = {},
                h = a.prototype = new t("css");
            h.constructor = a, a.version = "1.9.6", a.API = 2, a.defaultTransformPerspective = 0, h = "px", a.suffixMap = { top: h, right: h, bottom: h, left: h, width: h, height: h, fontSize: h, padding: h, margin: h, perspective: h };
            var l, u, c, d, p, f, m = /(?:\d|\-\d|\.\d|\-\.\d)+/g,
                g = /(?:\d|\-\d|\.\d|\-\.\d|\+=\d|\-=\d|\+=.\d|\-=\.\d)+/g,
                v = /(?:\+=|\-=|\-|\b)[\d\-\.]+[a-zA-Z0-9]*(?:%|\b)/gi,
                y = /[^\d\-\.]/g,
                _ = /(?:\d|\-|\+|=|#|\.)*/g,
                b = /opacity *= *([^)]*)/,
                x = /opacity:([^;]*)/,
                w = /alpha\(opacity *=.+?\)/i,
                T = /^(rgb|hsl)/,
                S = /([A-Z])/g,
                M = /-([a-z])/gi,
                E = /(^(?:url\(\"|url\())|(?:(\"\))$|\)$)/gi,
                A = function(t, e) { return e.toUpperCase() },
                C = /(?:Left|Right|Width)/i,
                R = /(M11|M12|M21|M22)=[\d\-\.e]+/gi,
                P = /progid\:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,
                O = /,(?=[^\)]*(?:\(|$))/gi,
                L = Math.PI / 180,
                I = 180 / Math.PI,
                D = {},
                k = document,
                B = k.createElement("div"),
                N = k.createElement("img"),
                F = a._internals = { _specialProps: s },
                U = navigator.userAgent,
                G = function() { var t, e = U.indexOf("Android"),
                        i = k.createElement("div"); return c = -1 !== U.indexOf("Safari") && -1 === U.indexOf("Chrome") && (-1 === e || Number(U.substr(e + 8, 1)) > 3), p = c && 6 > Number(U.substr(U.indexOf("Version/") + 8, 1)), d = -1 !== U.indexOf("Firefox"), /MSIE ([0-9]{1,}[\.0-9]{0,})/.exec(U), f = parseFloat(RegExp.$1), i.innerHTML = "<a style='top:1px;opacity:.55;'>a</a>", t = i.getElementsByTagName("a")[0], !!t && /^0.55/.test(t.style.opacity) }(),
                j = function(t) { return b.test("string" == typeof t ? t : (t.currentStyle ? t.currentStyle.filter : t.style.filter) || "") ? parseFloat(RegExp.$1) / 100 : 1 },
                z = function(t) { window.console && void 0 },
                V = "",
                H = "",
                W = function(t, e) { e = e || B; var i, n, r = e.style; if (void 0 !== r[t]) return t; for (t = t.charAt(0).toUpperCase() + t.substr(1), i = ["O", "Moz", "ms", "Ms", "Webkit"], n = 5; --n > -1 && void 0 === r[i[n] + t];); return n >= 0 ? (H = 3 === n ? "ms" : i[n], V = "-" + H.toLowerCase() + "-", H + t) : null },
                X = k.defaultView ? k.defaultView.getComputedStyle : function() {},
                Y = a.getStyle = function(t, e, i, n, r) { var o; return G || "opacity" !== e ? (!n && t.style[e] ? o = t.style[e] : (i = i || X(t, null)) ? (t = i.getPropertyValue(e.replace(S, "-$1").toLowerCase()), o = t || i.length ? t : i[e]) : t.currentStyle && (i = t.currentStyle, o = i[e]), null == r || o && "none" !== o && "auto" !== o && "auto auto" !== o ? o : r) : j(t) },
                q = function(t, e, i, n, r) { if ("px" === n || !n) return i; if ("auto" === n || !i) return 0; var o, a = C.test(e),
                        s = t,
                        h = B.style,
                        l = 0 > i; return l && (i = -i), "%" === n && -1 !== e.indexOf("border") ? o = i / 100 * (a ? t.clientWidth : t.clientHeight) : (h.cssText = "border-style:solid; border-width:0; position:absolute; line-height:0;", "%" !== n && s.appendChild ? h[a ? "borderLeftWidth" : "borderTopWidth"] = i + n : (s = t.parentNode || k.body, h[a ? "width" : "height"] = i + n), s.appendChild(B), o = parseFloat(B[a ? "offsetWidth" : "offsetHeight"]), s.removeChild(B), 0 !== o || r || (o = q(t, e, i, n, !0))), l ? -o : o },
                K = function(t, e, i) { if ("absolute" !== Y(t, "position", i)) return 0; var n = "left" === e ? "Left" : "Top",
                        r = Y(t, "margin" + n, i); return t["offset" + n] - (q(t, e, parseFloat(r), r.replace(_, "")) || 0) },
                Z = function(t, e) { var i, n, r = {}; if (e = e || X(t, null))
                        if (i = e.length)
                            for (; --i > -1;) r[e[i].replace(M, A)] = e.getPropertyValue(e[i]);
                        else
                            for (i in e) r[i] = e[i];
                    else if (e = t.currentStyle || t.style)
                        for (i in e) r[i.replace(M, A)] = e[i]; return G || (r.opacity = j(t)), n = Tt(t, e, !1), r.rotation = n.rotation * I, r.skewX = n.skewX * I, r.scaleX = n.scaleX, r.scaleY = n.scaleY, r.x = n.x, r.y = n.y, wt && (r.z = n.z, r.rotationX = n.rotationX * I, r.rotationY = n.rotationY * I, r.scaleZ = n.scaleZ), r.filters && delete r.filters, r },
                J = function(t, e, i, n, r) { var o, a, s, h = {},
                        l = t.style; for (a in i) "cssText" !== a && "length" !== a && isNaN(a) && (e[a] !== (o = i[a]) || r && r[a]) && -1 === a.indexOf("Origin") && ("number" == typeof o || "string" == typeof o) && (h[a] = "auto" !== o || "left" !== a && "top" !== a ? "" !== o && "auto" !== o && "none" !== o || "string" != typeof e[a] || "" === e[a].replace(y, "") ? o : 0 : K(t, a), void 0 !== l[a] && (s = new ct(l, a, l[a], s))); if (n)
                        for (a in n) "className" !== a && (h[a] = n[a]); return { difs: h, firstMPT: s } },
                Q = { width: ["Left", "Right"], height: ["Top", "Bottom"] },
                $ = ["marginLeft", "marginRight", "marginTop", "marginBottom"],
                tt = function(t, e, i) { var n = parseFloat("width" === e ? t.offsetWidth : t.offsetHeight),
                        r = Q[e],
                        o = r.length; for (i = i || X(t, null); --o > -1;) n -= parseFloat(Y(t, "padding" + r[o], i, !0)) || 0, n -= parseFloat(Y(t, "border" + r[o] + "Width", i, !0)) || 0; return n },
                et = function(t, e) {
                    (null == t || "" === t || "auto" === t || "auto auto" === t) && (t = "0 0"); var i = t.split(" "),
                        n = -1 !== t.indexOf("left") ? "0%" : -1 !== t.indexOf("right") ? "100%" : i[0],
                        r = -1 !== t.indexOf("top") ? "0%" : -1 !== t.indexOf("bottom") ? "100%" : i[1]; return null == r ? r = "0" : "center" === r && (r = "50%"), ("center" === n || isNaN(parseFloat(n))) && (n = "50%"), e && (e.oxp = -1 !== n.indexOf("%"), e.oyp = -1 !== r.indexOf("%"), e.oxr = "=" === n.charAt(1), e.oyr = "=" === r.charAt(1), e.ox = parseFloat(n.replace(y, "")), e.oy = parseFloat(r.replace(y, ""))), n + " " + r + (i.length > 2 ? " " + i[2] : "") },
                it = function(t, e) { return "string" == typeof t && "=" === t.charAt(1) ? parseInt(t.charAt(0) + "1", 10) * parseFloat(t.substr(2)) : parseFloat(t) - parseFloat(e) },
                nt = function(t, e) { return null == t ? e : "string" == typeof t && "=" === t.charAt(1) ? parseInt(t.charAt(0) + "1", 10) * Number(t.substr(2)) + e : parseFloat(t) },
                rt = function(t, e, i, n) { var r, o, a, s, h = 1e-6; return null == t ? s = e : "number" == typeof t ? s = t * L : (r = 2 * Math.PI, o = t.split("_"), a = Number(o[0].replace(y, "")) * (-1 === t.indexOf("rad") ? L : 1) - ("=" === t.charAt(1) ? 0 : e), o.length && (n && (n[i] = e + a), -1 !== t.indexOf("short") && (a %= r, a !== a % (r / 2) && (a = 0 > a ? a + r : a - r)), -1 !== t.indexOf("_cw") && 0 > a ? a = (a + 9999999999 * r) % r - (0 | a / r) * r : -1 !== t.indexOf("ccw") && a > 0 && (a = (a - 9999999999 * r) % r - (0 | a / r) * r)), s = e + a), h > s && s > -h && (s = 0), s },
                ot = { aqua: [0, 255, 255], lime: [0, 255, 0], silver: [192, 192, 192], black: [0, 0, 0], maroon: [128, 0, 0], teal: [0, 128, 128], blue: [0, 0, 255], navy: [0, 0, 128], white: [255, 255, 255], fuchsia: [255, 0, 255], olive: [128, 128, 0], yellow: [255, 255, 0], orange: [255, 165, 0], gray: [128, 128, 128], purple: [128, 0, 128], green: [0, 128, 0], red: [255, 0, 0], pink: [255, 192, 203], cyan: [0, 255, 255], transparent: [255, 255, 255, 0] },
                at = function(t, e, i) { return t = 0 > t ? t + 1 : t > 1 ? t - 1 : t, 0 | 255 * (1 > 6 * t ? e + 6 * (i - e) * t : .5 > t ? i : 2 > 3 * t ? e + 6 * (i - e) * (2 / 3 - t) : e) + .5 },
                st = function(t) { var e, i, n, r, o, a; return t && "" !== t ? "number" == typeof t ? [t >> 16, 255 & t >> 8, 255 & t] : ("," === t.charAt(t.length - 1) && (t = t.substr(0, t.length - 1)), ot[t] ? ot[t] : "#" === t.charAt(0) ? (4 === t.length && (e = t.charAt(1), i = t.charAt(2), n = t.charAt(3), t = "#" + e + e + i + i + n + n), t = parseInt(t.substr(1), 16), [t >> 16, 255 & t >> 8, 255 & t]) : "hsl" === t.substr(0, 3) ? (t = t.match(m), r = Number(t[0]) % 360 / 360, o = Number(t[1]) / 100, a = Number(t[2]) / 100, i = .5 >= a ? a * (o + 1) : a + o - a * o, e = 2 * a - i, t.length > 3 && (t[3] = Number(t[3])), t[0] = at(r + 1 / 3, e, i), t[1] = at(r, e, i), t[2] = at(r - 1 / 3, e, i), t) : (t = t.match(m) || ot.transparent, t[0] = Number(t[0]), t[1] = Number(t[1]), t[2] = Number(t[2]), t.length > 3 && (t[3] = Number(t[3])), t)) : ot.black },
                ht = "(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#.+?\\b";
            for (h in ot) ht += "|" + h + "\\b";
            ht = RegExp(ht + ")", "gi");
            var lt = function(t, e, i, n) { if (null == t) return function(t) { return t }; var r, o = e ? (t.match(ht) || [""])[0] : "",
                        a = t.split(o).join("").match(v) || [],
                        s = t.substr(0, t.indexOf(a[0])),
                        h = ")" === t.charAt(t.length - 1) ? ")" : "",
                        l = -1 !== t.indexOf(" ") ? " " : ",",
                        u = a.length,
                        c = u > 0 ? a[0].replace(m, "") : ""; return u ? r = e ? function(t) { var e, d, p, f; if ("number" == typeof t) t += c;
                        else if (n && O.test(t)) { for (f = t.replace(O, "|").split("|"), p = 0; f.length > p; p++) f[p] = r(f[p]); return f.join(",") } if (e = (t.match(ht) || [o])[0], d = t.split(e).join("").match(v) || [], p = d.length, u > p--)
                            for (; u > ++p;) d[p] = i ? d[0 | (p - 1) / 2] : a[p]; return s + d.join(l) + l + e + h + (-1 !== t.indexOf("inset") ? " inset" : "") } : function(t) { var e, o, d; if ("number" == typeof t) t += c;
                        else if (n && O.test(t)) { for (o = t.replace(O, "|").split("|"), d = 0; o.length > d; d++) o[d] = r(o[d]); return o.join(",") } if (e = t.match(v) || [], d = e.length, u > d--)
                            for (; u > ++d;) e[d] = i ? e[0 | (d - 1) / 2] : a[d]; return s + e.join(l) + h } : function(t) { return t } },
                ut = function(t) { return t = t.split(","),
                        function(e, i, n, r, o, a, s) { var h, l = (i + "").split(" "); for (s = {}, h = 0; 4 > h; h++) s[t[h]] = l[h] = l[h] || l[(h - 1) / 2 >> 0]; return r.parse(e, s, o, a) } },
                ct = (F._setPluginRatio = function(t) { this.plugin.setRatio(t); for (var e, i, n, r, o = this.data, a = o.proxy, s = o.firstMPT, h = 1e-6; s;) e = a[s.v], s.r ? e = e > 0 ? 0 | e + .5 : 0 | e - .5 : h > e && e > -h && (e = 0), s.t[s.p] = e, s = s._next; if (o.autoRotate && (o.autoRotate.rotation = a.rotation), 1 === t)
                        for (s = o.firstMPT; s;) { if (i = s.t, i.type) { if (1 === i.type) { for (r = i.xs0 + i.s + i.xs1, n = 1; i.l > n; n++) r += i["xn" + n] + i["xs" + (n + 1)];
                                    i.e = r } } else i.e = i.s + i.xs0;
                            s = s._next } }, function(t, e, i, n, r) { this.t = t, this.p = e, this.v = i, this.r = r, n && (n._prev = this, this._next = n) }),
                dt = (F._parseToProxy = function(t, e, i, n, r, o) { var a, s, h, l, u, c = n,
                        d = {},
                        p = {},
                        f = i._transform,
                        m = D; for (i._transform = null, D = e, n = u = i.parse(t, e, n, r), D = m, o && (i._transform = f, c && (c._prev = null, c._prev && (c._prev._next = null))); n && n !== c;) { if (1 >= n.type && (s = n.p, p[s] = n.s + n.c, d[s] = n.s, o || (l = new ct(n, "s", s, l, n.r), n.c = 0), 1 === n.type))
                            for (a = n.l; --a > 0;) h = "xn" + a, s = n.p + "_" + h, p[s] = n.data[h], d[s] = n[h], o || (l = new ct(n, h, s, l, n.rxp[h]));
                        n = n._next } return { proxy: d, end: p, firstMPT: l, pt: u } }, F.CSSPropTween = function(t, e, n, r, a, s, h, l, u, c, d) { this.t = t, this.p = e, this.s = n, this.c = r, this.n = h || "css_" + e, t instanceof dt || o.push(this.n), this.r = l, this.type = s || 0, u && (this.pr = u, i = !0), this.b = void 0 === c ? n : c, this.e = void 0 === d ? n + r : d, a && (this._next = a, a._prev = this) }),
                pt = a.parseComplex = function(t, e, i, n, r, o, a, s, h, u) { a = new dt(t, e, 0, 0, a, u ? 2 : 1, null, (!1), s, i, n), n += ""; var c, d, p, f, v, y, _, b, x, w, S, M, E = i.split(", ").join(",").split(" "),
                        A = n.split(", ").join(",").split(" "),
                        C = E.length,
                        R = l !== !1; for ((-1 !== n.indexOf(",") || -1 !== i.indexOf(",")) && (E = E.join(" ").replace(O, ", ").split(" "), A = A.join(" ").replace(O, ", ").split(" "), C = E.length), C !== A.length && (E = (o || "").split(" "), C = E.length), a.plugin = h, a.setRatio = u, c = 0; C > c; c++)
                        if (f = E[c], v = A[c], b = parseFloat(f), b || 0 === b) a.appendXtra("", b, it(v, b), v.replace(g, ""), R && -1 !== v.indexOf("px"), !0);
                        else if (r && ("#" === f.charAt(0) || ot[f] || T.test(f))) M = "," === v.charAt(v.length - 1) ? ")," : ")", f = st(f), v = st(v), x = f.length + v.length > 6, x && !G && 0 === v[3] ? (a["xs" + a.l] += a.l ? " transparent" : "transparent", a.e = a.e.split(A[c]).join("transparent")) : (G || (x = !1), a.appendXtra(x ? "rgba(" : "rgb(", f[0], v[0] - f[0], ",", !0, !0).appendXtra("", f[1], v[1] - f[1], ",", !0).appendXtra("", f[2], v[2] - f[2], x ? "," : M, !0), x && (f = 4 > f.length ? 1 : f[3], a.appendXtra("", f, (4 > v.length ? 1 : v[3]) - f, M, !1)));
                    else if (y = f.match(m)) { if (_ = v.match(g), !_ || _.length !== y.length) return a; for (p = 0, d = 0; y.length > d; d++) S = y[d], w = f.indexOf(S, p), a.appendXtra(f.substr(p, w - p), Number(S), it(_[d], S), "", R && "px" === f.substr(w + S.length, 2), 0 === d), p = w + S.length;
                        a["xs" + a.l] += f.substr(p) } else a["xs" + a.l] += a.l ? " " + f : f; if (-1 !== n.indexOf("=") && a.data) { for (M = a.xs0 + a.data.s, c = 1; a.l > c; c++) M += a["xs" + c] + a.data["xn" + c];
                        a.e = M + a["xs" + c] } return a.l || (a.type = -1, a.xs0 = a.e), a.xfirst || a },
                ft = 9;
            for (h = dt.prototype, h.l = h.pr = 0; --ft > 0;) h["xn" + ft] = 0, h["xs" + ft] = "";
            h.xs0 = "", h._next = h._prev = h.xfirst = h.data = h.plugin = h.setRatio = h.rxp = null, h.appendXtra = function(t, e, i, n, r, o) { var a = this,
                    s = a.l; return a["xs" + s] += o && s ? " " + t : t || "", i || 0 === s || a.plugin ? (a.l++, a.type = a.setRatio ? 2 : 1, a["xs" + a.l] = n || "", s > 0 ? (a.data["xn" + s] = e + i, a.rxp["xn" + s] = r, a["xn" + s] = e, a.plugin || (a.xfirst = new dt(a, "xn" + s, e, i, a.xfirst || a, 0, a.n, r, a.pr), a.xfirst.xs0 = 0), a) : (a.data = { s: e + i }, a.rxp = {}, a.s = e, a.c = i, a.r = r, a)) : (a["xs" + s] += e + (n || ""), a) };
            var mt = function(t, e) { e = e || {}, this.p = e.prefix ? W(t) || t : t, s[t] = s[this.p] = this, this.format = e.formatter || lt(e.defaultValue, e.color, e.collapsible, e.multi), e.parser && (this.parse = e.parser), this.clrs = e.color, this.multi = e.multi, this.keyword = e.keyword, this.dflt = e.defaultValue, this.pr = e.priority || 0 },
                gt = F._registerComplexSpecialProp = function(t, e, i) { "object" != typeof e && (e = { parser: i }); var n, r, o = t.split(","),
                        a = e.defaultValue; for (i = i || [a], n = 0; o.length > n; n++) e.prefix = 0 === n && e.prefix, e.defaultValue = i[n] || a, r = new mt(o[n], e) },
                vt = function(t) { if (!s[t]) { var e = t.charAt(0).toUpperCase() + t.substr(1) + "Plugin";
                        gt(t, { parser: function(t, i, n, r, o, a, h) { var l = (window.GreenSockGlobals || window).com.greensock.plugins[e]; return l ? (l._cssRegister(), s[n].parse(t, i, n, r, o, a, h)) : (z("Error: " + e + " js file not loaded."), o) } }) } };
            h = mt.prototype, h.parseComplex = function(t, e, i, n, r, o) { var a, s, h, l, u, c, d = this.keyword; if (this.multi && (O.test(i) || O.test(e) ? (s = e.replace(O, "|").split("|"), h = i.replace(O, "|").split("|")) : d && (s = [e], h = [i])), h) { for (l = h.length > s.length ? h.length : s.length, a = 0; l > a; a++) e = s[a] = s[a] || this.dflt, i = h[a] = h[a] || this.dflt, d && (u = e.indexOf(d), c = i.indexOf(d), u !== c && (i = -1 === c ? h : s, i[a] += " " + d));
                    e = s.join(", "), i = h.join(", ") } return pt(t, this.p, e, i, this.clrs, this.dflt, n, this.pr, r, o) }, h.parse = function(t, e, i, n, o, a) { return this.parseComplex(t.style, this.format(Y(t, this.p, r, !1, this.dflt)), this.format(e), o, a) }, a.registerSpecialProp = function(t, e, i) { gt(t, { parser: function(t, n, r, o, a, s) { var h = new dt(t, r, 0, 0, a, 2, r, (!1), i); return h.plugin = s, h.setRatio = e(t, n, o._tween, r), h }, priority: i }) };
            var yt = "scaleX,scaleY,scaleZ,x,y,z,skewX,rotation,rotationX,rotationY,perspective".split(","),
                _t = W("transform"),
                bt = V + "transform",
                xt = W("transformOrigin"),
                wt = null !== W("perspective"),
                Tt = function(t, e, i) { var n, r, o, s, h, l, u, c, d, p, f, m, g, v = i ? t._gsTransform || { skewY: 0 } : { skewY: 0 },
                        y = 0 > v.scaleX,
                        _ = 2e-5,
                        b = 1e5,
                        x = -Math.PI + 1e-4,
                        w = Math.PI - 1e-4,
                        T = wt ? parseFloat(Y(t, xt, e, !1, "0 0 0").split(" ")[2]) || v.zOrigin || 0 : 0; if (_t) n = Y(t, bt, e, !0);
                    else if (t.currentStyle)
                        if (n = t.currentStyle.filter.match(R), n && 4 === n.length) n = [n[0].substr(4), Number(n[2].substr(4)), Number(n[1].substr(4)), n[3].substr(4), v.x || 0, v.y || 0].join(",");
                        else { if (null != v.x) return v;
                            n = "" } for (r = (n || "").match(/(?:\-|\b)[\d\-\.e]+\b/gi) || [], o = r.length; --o > -1;) s = Number(r[o]), r[o] = (h = s - (s |= 0)) ? (0 | h * b + (0 > h ? -.5 : .5)) / b + s : s; if (16 === r.length) { var S = r[8],
                            M = r[9],
                            E = r[10],
                            A = r[12],
                            C = r[13],
                            P = r[14]; if (v.zOrigin && (P = -v.zOrigin, A = S * P - r[12], C = M * P - r[13], P = E * P + v.zOrigin - r[14]), !i || null == v.rotationX) { var O, L, I, D, k, B, N, F = r[0],
                                U = r[1],
                                G = r[2],
                                j = r[3],
                                z = r[4],
                                V = r[5],
                                H = r[6],
                                W = r[7],
                                X = r[11],
                                q = v.rotationX = Math.atan2(H, E),
                                K = x > q || q > w;
                            q && (D = Math.cos(-q), k = Math.sin(-q), O = z * D + S * k, L = V * D + M * k, I = H * D + E * k, S = z * -k + S * D, M = V * -k + M * D, E = H * -k + E * D, X = W * -k + X * D, z = O, V = L, H = I), q = v.rotationY = Math.atan2(S, F), q && (B = x > q || q > w, D = Math.cos(-q), k = Math.sin(-q), O = F * D - S * k, L = U * D - M * k, I = G * D - E * k, M = U * k + M * D, E = G * k + E * D, X = j * k + X * D, F = O, U = L, G = I), q = v.rotation = Math.atan2(U, V), q && (N = x > q || q > w, D = Math.cos(-q), k = Math.sin(-q), F = F * D + z * k, L = U * D + V * k, V = U * -k + V * D, H = G * -k + H * D, U = L), N && K ? v.rotation = v.rotationX = 0 : N && B ? v.rotation = v.rotationY = 0 : B && K && (v.rotationY = v.rotationX = 0), v.scaleX = (0 | Math.sqrt(F * F + U * U) * b + .5) / b, v.scaleY = (0 | Math.sqrt(V * V + M * M) * b + .5) / b, v.scaleZ = (0 | Math.sqrt(H * H + E * E) * b + .5) / b, v.skewX = 0, v.perspective = X ? 1 / (0 > X ? -X : X) : 0, v.x = A, v.y = C, v.z = P } } else if (!(wt && 0 !== r.length && v.x === r[4] && v.y === r[5] && (v.rotationX || v.rotationY) || void 0 !== v.x && "none" === Y(t, "display", e))) { var Z = r.length >= 6,
                            J = Z ? r[0] : 1,
                            Q = r[1] || 0,
                            $ = r[2] || 0,
                            tt = Z ? r[3] : 1;
                        v.x = r[4] || 0, v.y = r[5] || 0, l = Math.sqrt(J * J + Q * Q), u = Math.sqrt(tt * tt + $ * $), c = J || Q ? Math.atan2(Q, J) : v.rotation || 0, d = $ || tt ? Math.atan2($, tt) + c : v.skewX || 0, p = l - Math.abs(v.scaleX || 0), f = u - Math.abs(v.scaleY || 0), Math.abs(d) > Math.PI / 2 && Math.abs(d) < 1.5 * Math.PI && (y ? (l *= -1, d += 0 >= c ? Math.PI : -Math.PI, c += 0 >= c ? Math.PI : -Math.PI) : (u *= -1, d += 0 >= d ? Math.PI : -Math.PI)), m = (c - v.rotation) % Math.PI, g = (d - v.skewX) % Math.PI, (void 0 === v.skewX || p > _ || -_ > p || f > _ || -_ > f || m > x && w > m && !1 | m * b || g > x && w > g && !1 | g * b) && (v.scaleX = l, v.scaleY = u, v.rotation = c, v.skewX = d), wt && (v.rotationX = v.rotationY = v.z = 0, v.perspective = parseFloat(a.defaultTransformPerspective) || 0, v.scaleZ = 1) } v.zOrigin = T; for (o in v) _ > v[o] && v[o] > -_ && (v[o] = 0); return i && (t._gsTransform = v), v },
                St = function(t) { var e, i, n = this.data,
                        r = -n.rotation,
                        o = r + n.skewX,
                        a = 1e5,
                        s = (0 | Math.cos(r) * n.scaleX * a) / a,
                        h = (0 | Math.sin(r) * n.scaleX * a) / a,
                        l = (0 | Math.sin(o) * -n.scaleY * a) / a,
                        u = (0 | Math.cos(o) * n.scaleY * a) / a,
                        c = this.t.style,
                        d = this.t.currentStyle; if (d) { i = h, h = -l, l = -i, e = d.filter, c.filter = ""; var p, m, g = this.t.offsetWidth,
                            v = this.t.offsetHeight,
                            y = "absolute" !== d.position,
                            x = "progid:DXImageTransform.Microsoft.Matrix(M11=" + s + ", M12=" + h + ", M21=" + l + ", M22=" + u,
                            w = n.x,
                            T = n.y; if (null != n.ox && (p = (n.oxp ? .01 * g * n.ox : n.ox) - g / 2, m = (n.oyp ? .01 * v * n.oy : n.oy) - v / 2, w += p - (p * s + m * h), T += m - (p * l + m * u)), y) p = g / 2, m = v / 2, x += ", Dx=" + (p - (p * s + m * h) + w) + ", Dy=" + (m - (p * l + m * u) + T) + ")";
                        else { var S, M, E, A = 8 > f ? 1 : -1; for (p = n.ieOffsetX || 0, m = n.ieOffsetY || 0, n.ieOffsetX = Math.round((g - ((0 > s ? -s : s) * g + (0 > h ? -h : h) * v)) / 2 + w), n.ieOffsetY = Math.round((v - ((0 > u ? -u : u) * v + (0 > l ? -l : l) * g)) / 2 + T), ft = 0; 4 > ft; ft++) M = $[ft], S = d[M], i = -1 !== S.indexOf("px") ? parseFloat(S) : q(this.t, M, parseFloat(S), S.replace(_, "")) || 0, E = i !== n[M] ? 2 > ft ? -n.ieOffsetX : -n.ieOffsetY : 2 > ft ? p - n.ieOffsetX : m - n.ieOffsetY, c[M] = (n[M] = Math.round(i - E * (0 === ft || 2 === ft ? 1 : A))) + "px";
                            x += ", sizingMethod='auto expand')" } c.filter = -1 !== e.indexOf("DXImageTransform.Microsoft.Matrix(") ? e.replace(P, x) : x + " " + e, (0 === t || 1 === t) && 1 === s && 0 === h && 0 === l && 1 === u && (y && -1 === x.indexOf("Dx=0, Dy=0") || b.test(e) && 100 !== parseFloat(RegExp.$1) || -1 === e.indexOf("gradient(") && c.removeAttribute("filter")) } },
                Mt = function() { var t, e, i, n, r, o, a, s, h, l = this.data,
                        u = this.t.style,
                        c = l.perspective,
                        p = l.scaleX,
                        f = 0,
                        m = 0,
                        g = 0,
                        v = 0,
                        y = l.scaleY,
                        _ = 0,
                        b = 0,
                        x = 0,
                        w = 0,
                        T = l.scaleZ,
                        S = 0,
                        M = 0,
                        E = 0,
                        A = c ? -1 / c : 0,
                        C = l.rotation,
                        R = l.zOrigin,
                        P = 1e5;
                    d && (a = u.top ? "top" : u.bottom ? "bottom" : parseFloat(Y(this.t, "top", null, !1)) ? "bottom" : "top", i = Y(this.t, a, null, !1), s = parseFloat(i) || 0, h = i.substr((s + "").length) || "px", l._ffFix = !l._ffFix, u[a] = (l._ffFix ? s + .05 : s - .05) + h), (C || l.skewX) && (i = p * Math.cos(C), n = y * Math.sin(C), C -= l.skewX, f = p * -Math.sin(C), y *= Math.cos(C), p = i, v = n), C = l.rotationY, C && (t = Math.cos(C), e = Math.sin(C), i = p * t, n = v * t, r = T * -e, o = A * -e, m = p * e, _ = v * e, T *= t, A *= t, p = i, v = n, x = r, M = o), C = l.rotationX, C && (t = Math.cos(C), e = Math.sin(C), i = f * t + m * e, n = y * t + _ * e, r = w * t + T * e, o = E * t + A * e, m = f * -e + m * t, _ = y * -e + _ * t, T = w * -e + T * t, A = E * -e + A * t, f = i, y = n, w = r, E = o), R && (S -= R, g = m * S, b = _ * S, S = T * S + R), g = (i = (g += l.x) - (g |= 0)) ? (0 | i * P + (0 > i ? -.5 : .5)) / P + g : g, b = (i = (b += l.y) - (b |= 0)) ? (0 | i * P + (0 > i ? -.5 : .5)) / P + b : b, S = (i = (S += l.z) - (S |= 0)) ? (0 | i * P + (0 > i ? -.5 : .5)) / P + S : S, u[_t] = "matrix3d(" + [(0 | p * P) / P, (0 | v * P) / P, (0 | x * P) / P, (0 | M * P) / P, (0 | f * P) / P, (0 | y * P) / P, (0 | w * P) / P, (0 | E * P) / P, (0 | m * P) / P, (0 | _ * P) / P, (0 | T * P) / P, (0 | A * P) / P, g, b, S, c ? 1 + -S / c : 1].join(",") + ")" },
                Et = function() { var t, e, i, n, r, o, a, s, h, l = this.data,
                        u = this.t,
                        c = u.style;
                    d && (t = c.top ? "top" : c.bottom ? "bottom" : parseFloat(Y(u, "top", null, !1)) ? "bottom" : "top", e = Y(u, t, null, !1), i = parseFloat(e) || 0, n = e.substr((i + "").length) || "px", l._ffFix = !l._ffFix, c[t] = (l._ffFix ? i + .05 : i - .05) + n), l.rotation || l.skewX ? (r = l.rotation, o = r - l.skewX, a = 1e5, s = l.scaleX * a, h = l.scaleY * a, c[_t] = "matrix(" + (0 | Math.cos(r) * s) / a + "," + (0 | Math.sin(r) * s) / a + "," + (0 | Math.sin(o) * -h) / a + "," + (0 | Math.cos(o) * h) / a + "," + l.x + "," + l.y + ")") : c[_t] = "matrix(" + l.scaleX + ",0,0," + l.scaleY + "," + l.x + "," + l.y + ")" };
            gt("transform,scale,scaleX,scaleY,scaleZ,x,y,z,rotation,rotationX,rotationY,rotationZ,skewX,skewY,shortRotation,shortRotationX,shortRotationY,shortRotationZ,transformOrigin,transformPerspective,directionalRotation", { parser: function(t, e, i, n, o, a, s) { if (n._transform) return o; var h, l, u, c, d, p, f, m = n._transform = Tt(t, r, !0),
                        g = t.style,
                        v = 1e-6,
                        y = yt.length,
                        _ = s,
                        b = {}; if ("string" == typeof _.transform && _t) u = g.cssText, g[_t] = _.transform, g.display = "block", h = Tt(t, null, !1), g.cssText = u;
                    else if ("object" == typeof _) { if (h = { scaleX: nt(null != _.scaleX ? _.scaleX : _.scale, m.scaleX), scaleY: nt(null != _.scaleY ? _.scaleY : _.scale, m.scaleY), scaleZ: nt(null != _.scaleZ ? _.scaleZ : _.scale, m.scaleZ), x: nt(_.x, m.x), y: nt(_.y, m.y), z: nt(_.z, m.z), perspective: nt(_.transformPerspective, m.perspective) }, f = _.directionalRotation, null != f)
                            if ("object" == typeof f)
                                for (u in f) _[u] = f[u];
                            else _.rotation = f;
                        h.rotation = rt("rotation" in _ ? _.rotation : "shortRotation" in _ ? _.shortRotation + "_short" : "rotationZ" in _ ? _.rotationZ : m.rotation * I, m.rotation, "rotation", b), wt && (h.rotationX = rt("rotationX" in _ ? _.rotationX : "shortRotationX" in _ ? _.shortRotationX + "_short" : m.rotationX * I || 0, m.rotationX, "rotationX", b), h.rotationY = rt("rotationY" in _ ? _.rotationY : "shortRotationY" in _ ? _.shortRotationY + "_short" : m.rotationY * I || 0, m.rotationY, "rotationY", b)), h.skewX = null == _.skewX ? m.skewX : rt(_.skewX, m.skewX), h.skewY = null == _.skewY ? m.skewY : rt(_.skewY, m.skewY), (l = h.skewY - m.skewY) && (h.skewX += l, h.rotation += l) } for (d = m.z || m.rotationX || m.rotationY || h.z || h.rotationX || h.rotationY || h.perspective, d || null == _.scale || (h.scaleZ = 1); --y > -1;) i = yt[y], c = h[i] - m[i], (c > v || -v > c || null != D[i]) && (p = !0, o = new dt(m, i, m[i], c, o), i in b && (o.e = b[i]), o.xs0 = 0, o.plugin = a, n._overwriteProps.push(o.n)); return c = _.transformOrigin, (c || wt && d && m.zOrigin) && (_t ? (p = !0, c = (c || Y(t, i, r, !1, "50% 50%")) + "", i = xt, o = new dt(g, i, 0, 0, o, (-1), "css_transformOrigin"), o.b = g[i], o.plugin = a, wt ? (u = m.zOrigin, c = c.split(" "), m.zOrigin = (c.length > 2 ? parseFloat(c[2]) : u) || 0, o.xs0 = o.e = g[i] = c[0] + " " + (c[1] || "50%") + " 0px", o = new dt(m, "zOrigin", 0, 0, o, (-1), o.n), o.b = u, o.xs0 = o.e = m.zOrigin) : o.xs0 = o.e = g[i] = c) : et(c + "", m)), p && (n._transformType = d || 3 === this._transformType ? 3 : 2), o }, prefix: !0 }), gt("boxShadow", { defaultValue: "0px 0px 0px 0px #999", prefix: !0, color: !0, multi: !0, keyword: "inset" }), gt("borderRadius", { defaultValue: "0px", parser: function(t, e, i, o, a) { e = this.format(e); var s, h, l, u, c, d, p, f, m, g, v, y, _, b, x, w, T = ["borderTopLeftRadius", "borderTopRightRadius", "borderBottomRightRadius", "borderBottomLeftRadius"],
                        S = t.style; for (m = parseFloat(t.offsetWidth), g = parseFloat(t.offsetHeight), s = e.split(" "), h = 0; T.length > h; h++) this.p.indexOf("border") && (T[h] = W(T[h])), c = u = Y(t, T[h], r, !1, "0px"), -1 !== c.indexOf(" ") && (u = c.split(" "), c = u[0], u = u[1]), d = l = s[h], p = parseFloat(c), y = c.substr((p + "").length), _ = "=" === d.charAt(1), _ ? (f = parseInt(d.charAt(0) + "1", 10), d = d.substr(2), f *= parseFloat(d), v = d.substr((f + "").length - (0 > f ? 1 : 0)) || "") : (f = parseFloat(d), v = d.substr((f + "").length)), "" === v && (v = n[i] || y), v !== y && (b = q(t, "borderLeft", p, y), x = q(t, "borderTop", p, y), "%" === v ? (c = 100 * (b / m) + "%", u = 100 * (x / g) + "%") : "em" === v ? (w = q(t, "borderLeft", 1, "em"), c = b / w + "em", u = x / w + "em") : (c = b + "px", u = x + "px"), _ && (d = parseFloat(c) + f + v, l = parseFloat(u) + f + v)), a = pt(S, T[h], c + " " + u, d + " " + l, !1, "0px", a); return a }, prefix: !0, formatter: lt("0px 0px 0px 0px", !1, !0) }), gt("backgroundPosition", { defaultValue: "0 0", parser: function(t, e, i, n, o, a) { var s, h, l, u, c, d, p = "background-position",
                        m = r || X(t, null),
                        g = this.format((m ? f ? m.getPropertyValue(p + "-x") + " " + m.getPropertyValue(p + "-y") : m.getPropertyValue(p) : t.currentStyle.backgroundPositionX + " " + t.currentStyle.backgroundPositionY) || "0 0"),
                        v = this.format(e); if (-1 !== g.indexOf("%") != (-1 !== v.indexOf("%")) && (d = Y(t, "backgroundImage").replace(E, ""), d && "none" !== d)) { for (s = g.split(" "), h = v.split(" "), N.setAttribute("src", d), l = 2; --l > -1;) g = s[l], u = -1 !== g.indexOf("%"), u !== (-1 !== h[l].indexOf("%")) && (c = 0 === l ? t.offsetWidth - N.width : t.offsetHeight - N.height, s[l] = u ? parseFloat(g) / 100 * c + "px" : 100 * (parseFloat(g) / c) + "%");
                        g = s.join(" ") } return this.parseComplex(t.style, g, v, o, a) }, formatter: et }), gt("backgroundSize", { defaultValue: "0 0", formatter: et }), gt("perspective", { defaultValue: "0px", prefix: !0 }), gt("perspectiveOrigin", { defaultValue: "50% 50%", prefix: !0 }), gt("transformStyle", { prefix: !0 }), gt("backfaceVisibility", { prefix: !0 }), gt("margin", { parser: ut("marginTop,marginRight,marginBottom,marginLeft") }), gt("padding", { parser: ut("paddingTop,paddingRight,paddingBottom,paddingLeft") }), gt("clip", { defaultValue: "rect(0px,0px,0px,0px)", parser: function(t, e, i, n, o, a) { var s, h, l; return 9 > f ? (h = t.currentStyle, l = 8 > f ? " " : ",", s = "rect(" + h.clipTop + l + h.clipRight + l + h.clipBottom + l + h.clipLeft + ")", e = this.format(e).split(",").join(l)) : (s = this.format(Y(t, this.p, r, !1, this.dflt)), e = this.format(e)), this.parseComplex(t.style, s, e, o, a) } }), gt("textShadow", { defaultValue: "0px 0px 0px #999", color: !0, multi: !0 }), gt("autoRound,strictUnits", { parser: function(t, e, i, n, r) { return r } }), gt("border", { defaultValue: "0px solid #000", parser: function(t, e, i, n, o, a) { return this.parseComplex(t.style, this.format(Y(t, "borderTopWidth", r, !1, "0px") + " " + Y(t, "borderTopStyle", r, !1, "solid") + " " + Y(t, "borderTopColor", r, !1, "#000")), this.format(e), o, a) }, color: !0, formatter: function(t) { var e = t.split(" "); return e[0] + " " + (e[1] || "solid") + " " + (t.match(ht) || ["#000"])[0] } }), gt("float,cssFloat,styleFloat", { parser: function(t, e, i, n, r) { var o = t.style,
                        a = "cssFloat" in o ? "cssFloat" : "styleFloat"; return new dt(o, a, 0, 0, r, (-1), i, (!1), 0, o[a], e) } });
            var At = function(t) { var e, i = this.t,
                    n = i.filter,
                    r = 0 | this.s + this.c * t;
                100 === r && (-1 === n.indexOf("atrix(") && -1 === n.indexOf("radient(") ? (i.removeAttribute("filter"), e = !Y(this.data, "filter")) : (i.filter = n.replace(w, ""), e = !0)), e || (this.xn1 && (i.filter = n = n || "alpha(opacity=100)"), -1 === n.indexOf("opacity") ? i.filter += " alpha(opacity=" + r + ")" : i.filter = n.replace(b, "opacity=" + r)) };
            gt("opacity,alpha,autoAlpha", { defaultValue: "1", parser: function(t, e, i, n, o, a) { var s, h = parseFloat(Y(t, "opacity", r, !1, "1")),
                        l = t.style; return e = parseFloat(e), "autoAlpha" === i && (s = Y(t, "visibility", r), 1 === h && "hidden" === s && 0 !== e && (h = 0), o = new dt(l, "visibility", 0, 0, o, (-1), null, (!1), 0, 0 !== h ? "visible" : "hidden", 0 === e ? "hidden" : "visible"), o.xs0 = "visible", n._overwriteProps.push(o.n)), G ? o = new dt(l, "opacity", h, e - h, o) : (o = new dt(l, "opacity", 100 * h, 100 * (e - h), o), o.xn1 = "autoAlpha" === i ? 1 : 0, l.zoom = 1, o.type = 2, o.b = "alpha(opacity=" + o.s + ")", o.e = "alpha(opacity=" + (o.s + o.c) + ")", o.data = t, o.plugin = a, o.setRatio = At), o } });
            var Ct = function(t, e) { e && (t.removeProperty ? t.removeProperty(e.replace(S, "-$1").toLowerCase()) : t.removeAttribute(e)) },
                Rt = function(t) { if (this.t._gsClassPT = this, 1 === t || 0 === t) { this.t.className = 0 === t ? this.b : this.e; for (var e = this.data, i = this.t.style; e;) e.v ? i[e.p] = e.v : Ct(i, e.p), e = e._next;
                        1 === t && this.t._gsClassPT === this && (this.t._gsClassPT = null) } else this.t.className !== this.e && (this.t.className = this.e) };
            gt("className", { parser: function(t, e, n, o, a, s, h) { var l, u, c, d, p, f = t.className,
                        m = t.style.cssText; if (a = o._classNamePT = new dt(t, n, 0, 0, a, 2), a.setRatio = Rt, a.pr = -11, i = !0, a.b = f, u = Z(t, r), c = t._gsClassPT) { for (d = {}, p = c.data; p;) d[p.p] = 1, p = p._next;
                        c.setRatio(1) } return t._gsClassPT = a, a.e = "=" !== e.charAt(1) ? e : f.replace(RegExp("\\s*\\b" + e.substr(2) + "\\b"), "") + ("+" === e.charAt(0) ? " " + e.substr(2) : ""), o._tween._duration && (t.className = a.e, l = J(t, u, Z(t), h, d), t.className = f, a.data = l.firstMPT, t.style.cssText = m, a = a.xfirst = o.parse(t, l.difs, a, s)), a } });
            var Pt = function(t) { if ((1 === t || 0 === t) && this.data._totalTime === this.data._totalDuration)
                    for (var e, i = "all" === this.e, n = this.t.style, r = i ? n.cssText.split(";") : this.e.split(","), o = r.length, a = s.transform.parse; --o > -1;) e = r[o], i && (e = e.substr(0, e.indexOf(":")).split(" ").join("")), s[e] && (e = s[e].parse === a ? _t : s[e].p), Ct(n, e) };
            for (gt("clearProps", { parser: function(t, e, n, r, o) { return o = new dt(t, n, 0, 0, o, 2), o.setRatio = Pt, o.e = e, o.pr = -10, o.data = r._tween, i = !0, o } }), h = "bezier,throwProps,physicsProps,physics2D".split(","), ft = h.length; ft--;) vt(h[ft]);
            h = a.prototype, h._firstPT = null, h._onInitTween = function(t, e, s) {
                if (!t.nodeType) return !1;
                this._target = t, this._tween = s, this._vars = e, l = e.autoRound, i = !1, n = e.suffixMap || a.suffixMap, r = X(t, ""), o = this._overwriteProps;
                var h, d, f, m, g, v, y, _, b, w = t.style;
                if (u && "" === w.zIndex && (h = Y(t, "zIndex", r), ("auto" === h || "" === h) && (w.zIndex = 0)), "string" == typeof e && (m = w.cssText, h = Z(t, r), w.cssText = m + ";" + e, h = J(t, h, Z(t)).difs, !G && x.test(e) && (h.opacity = parseFloat(RegExp.$1)), e = h, w.cssText = m), this._firstPT = d = this.parse(t, e, null), this._transformType) { for (b = 3 === this._transformType, _t ? c && (u = !0, "" === w.zIndex && (y = Y(t, "zIndex", r), ("auto" === y || "" === y) && (w.zIndex = 0)), p && (w.WebkitBackfaceVisibility = this._vars.WebkitBackfaceVisibility || (b ? "visible" : "hidden"))) : w.zoom = 1, f = d; f && f._next;) f = f._next;
                    _ = new dt(t, "transform", 0, 0, null, 2), this._linkCSSP(_, null, f), _.setRatio = b && wt ? Mt : _t ? Et : St, _.data = this._transform || Tt(t, r, !0), o.pop() }
                if (i) { for (; d;) { for (v = d._next, f = m; f && f.pr > d.pr;) f = f._next;
                        (d._prev = f ? f._prev : g) ? d._prev._next = d: m = d, (d._next = f) ? f._prev = d : g = d, d = v } this._firstPT = m }
                return !0
            }, h.parse = function(t, e, i, o) { var a, h, u, c, d, p, f, m, g, v, y = t.style; for (a in e) p = e[a], h = s[a], h ? i = h.parse(t, p, a, this, i, o, e) : (d = Y(t, a, r) + "", g = "string" == typeof p, "color" === a || "fill" === a || "stroke" === a || -1 !== a.indexOf("Color") || g && T.test(p) ? (g || (p = st(p), p = (p.length > 3 ? "rgba(" : "rgb(") + p.join(",") + ")"), i = pt(y, a, d, p, !0, "transparent", i, 0, o)) : !g || -1 === p.indexOf(" ") && -1 === p.indexOf(",") ? (u = parseFloat(d), f = u || 0 === u ? d.substr((u + "").length) : "", ("" === d || "auto" === d) && ("width" === a || "height" === a ? (u = tt(t, a, r), f = "px") : "left" === a || "top" === a ? (u = K(t, a, r), f = "px") : (u = "opacity" !== a ? 0 : 1, f = "")), v = g && "=" === p.charAt(1), v ? (c = parseInt(p.charAt(0) + "1", 10), p = p.substr(2), c *= parseFloat(p), m = p.replace(_, "")) : (c = parseFloat(p), m = g ? p.substr((c + "").length) || "" : ""), "" === m && (m = n[a] || f), p = c || 0 === c ? (v ? c + u : c) + m : e[a], f !== m && "" !== m && (c || 0 === c) && (u || 0 === u) && (u = q(t, a, u, f), "%" === m ? (u /= q(t, a, 100, "%") / 100, u > 100 && (u = 100), e.strictUnits !== !0 && (d = u + "%")) : "em" === m ? u /= q(t, a, 1, "em") : (c = q(t, a, c, m), m = "px"), v && (c || 0 === c) && (p = c + u + m)), v && (c += u), !u && 0 !== u || !c && 0 !== c ? p || "NaN" != p + "" && null != p ? (i = new dt(y, a, c || u || 0, 0, i, (-1), "css_" + a, (!1), 0, d, p), i.xs0 = "none" !== p || "display" !== a && -1 === a.indexOf("Style") ? p : d) : z("invalid " + a + " tween value: " + e[a]) : (i = new dt(y, a, u, c - u, i, 0, "css_" + a, l !== !1 && ("px" === m || "zIndex" === a), 0, d, p), i.xs0 = m)) : i = pt(y, a, d, p, !0, null, i, 0, o)), o && i && !i.plugin && (i.plugin = o); return i }, h.setRatio = function(t) { var e, i, n, r = this._firstPT,
                    o = 1e-6; if (1 !== t || this._tween._time !== this._tween._duration && 0 !== this._tween._time)
                    if (t || this._tween._time !== this._tween._duration && 0 !== this._tween._time || this._tween._rawPrevTime === -1e-6)
                        for (; r;) { if (e = r.c * t + r.s, r.r ? e = e > 0 ? 0 | e + .5 : 0 | e - .5 : o > e && e > -o && (e = 0), r.type)
                                if (1 === r.type)
                                    if (n = r.l, 2 === n) r.t[r.p] = r.xs0 + e + r.xs1 + r.xn1 + r.xs2;
                                    else if (3 === n) r.t[r.p] = r.xs0 + e + r.xs1 + r.xn1 + r.xs2 + r.xn2 + r.xs3;
                            else if (4 === n) r.t[r.p] = r.xs0 + e + r.xs1 + r.xn1 + r.xs2 + r.xn2 + r.xs3 + r.xn3 + r.xs4;
                            else if (5 === n) r.t[r.p] = r.xs0 + e + r.xs1 + r.xn1 + r.xs2 + r.xn2 + r.xs3 + r.xn3 + r.xs4 + r.xn4 + r.xs5;
                            else { for (i = r.xs0 + e + r.xs1, n = 1; r.l > n; n++) i += r["xn" + n] + r["xs" + (n + 1)];
                                r.t[r.p] = i } else -1 === r.type ? r.t[r.p] = r.xs0 : r.setRatio && r.setRatio(t);
                            else r.t[r.p] = e + r.xs0;
                            r = r._next } else
                            for (; r;) 2 !== r.type ? r.t[r.p] = r.b : r.setRatio(t), r = r._next;
                    else
                        for (; r;) 2 !== r.type ? r.t[r.p] = r.e : r.setRatio(t), r = r._next }, h._enableTransforms = function(t) { this._transformType = t || 3 === this._transformType ? 3 : 2 }, h._linkCSSP = function(t, e, i, n) { return t && (e && (e._prev = t), t._next && (t._next._prev = t._prev), i ? i._next = t : n || null !== this._firstPT || (this._firstPT = t), t._prev ? t._prev._next = t._next : this._firstPT === t && (this._firstPT = t._next), t._next = e, t._prev = i), t }, h._kill = function(e) { var i, n, r, o = e; if (e.css_autoAlpha || e.css_alpha) { o = {}; for (n in e) o[n] = e[n];
                    o.css_opacity = 1, o.css_autoAlpha && (o.css_visibility = 1) } return e.css_className && (i = this._classNamePT) && (r = i.xfirst, r && r._prev ? this._linkCSSP(r._prev, i._next, r._prev._prev) : r === this._firstPT && (this._firstPT = i._next), i._next && this._linkCSSP(i._next, i._next._next, r._prev), this._classNamePT = null), t.prototype._kill.call(this, o) };
            var Ot = function(t, e, i) { var n, r, o, a; if (t.slice)
                    for (r = t.length; --r > -1;) Ot(t[r], e, i);
                else
                    for (n = t.childNodes, r = n.length; --r > -1;) o = n[r], a = o.type, o.style && (e.push(Z(o)), i && i.push(o)), 1 !== a && 9 !== a && 11 !== a || !o.childNodes.length || Ot(o, e, i) };
            return a.cascadeTo = function(t, i, n) { var r, o, a, s = e.to(t, i, n),
                    h = [s],
                    l = [],
                    u = [],
                    c = [],
                    d = e._internals.reservedProps; for (t = s._targets || s.target, Ot(t, l, c), s.render(i, !0), Ot(t, u), s.render(0, !0), s._enabled(!0), r = c.length; --r > -1;)
                    if (o = J(c[r], l[r], u[r]), o.firstMPT) { o = o.difs; for (a in n) d[a] && (o[a] = n[a]);
                        h.push(e.to(c[r], i, o)) } return h }, t.activate([a]), a
        }, !0)
    }), window._gsDefine && window._gsQueue.pop()()
}, function(t, e, i) {
    var n, r;
    (function(o) {
        ! function() { "use strict"; var a = function() { this.init() };
            a.prototype = { init: function() { var t = this || s; return t._codecs = {}, t._howls = [], t._muted = !1, t._volume = 1, t._canPlayEvent = "canplaythrough", t._navigator = "undefined" != typeof window && window.navigator ? window.navigator : null, t.masterGain = null, t.noAudio = !1, t.usingWebAudio = !0, t.autoSuspend = !0, t.ctx = null, t.mobileAutoEnable = !0, t._setup(), t }, volume: function(t) { var e = this || s; if (t = parseFloat(t), e.ctx || m(), "undefined" != typeof t && t >= 0 && t <= 1) { if (e._volume = t, e._muted) return e;
                        e.usingWebAudio && (e.masterGain.gain.value = t); for (var i = 0; i < e._howls.length; i++)
                            if (!e._howls[i]._webAudio)
                                for (var n = e._howls[i]._getSoundIds(), r = 0; r < n.length; r++) { var o = e._howls[i]._soundById(n[r]);
                                    o && o._node && (o._node.volume = o._volume * t) }
                        return e } return e._volume }, mute: function(t) { var e = this || s;
                    e.ctx || m(), e._muted = t, e.usingWebAudio && (e.masterGain.gain.value = t ? 0 : e._volume); for (var i = 0; i < e._howls.length; i++)
                        if (!e._howls[i]._webAudio)
                            for (var n = e._howls[i]._getSoundIds(), r = 0; r < n.length; r++) { var o = e._howls[i]._soundById(n[r]);
                                o && o._node && (o._node.muted = !!t || o._muted) }
                    return e }, unload: function() { for (var t = this || s, e = t._howls.length - 1; e >= 0; e--) t._howls[e].unload(); return t.usingWebAudio && "undefined" != typeof t.ctx.close && (t.ctx.close(), t.ctx = null, m()), t }, codecs: function(t) { return (this || s)._codecs[t] }, _setup: function() { var t = this || s; return t.state = t.ctx ? t.ctx.state || "running" : "running", t._autoSuspend(), t.noAudio || t._setupCodecs(), t }, _setupCodecs: function() { var t = this || s,
                        e = "undefined" != typeof Audio ? new Audio : null; if (!e || "function" != typeof e.canPlayType) return t; var i = e.canPlayType("audio/mpeg;").replace(/^no$/, ""),
                        n = t._navigator && t._navigator.userAgent.match(/OPR\/([0-6].)/g),
                        r = n && parseInt(n[0].split("/")[1], 10) < 33; return t._codecs = { mp3: !(r || !i && !e.canPlayType("audio/mp3;").replace(/^no$/, "")), mpeg: !!i, opus: !!e.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/, ""), ogg: !!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""), oga: !!e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, ""), wav: !!e.canPlayType('audio/wav; codecs="1"').replace(/^no$/, ""), aac: !!e.canPlayType("audio/aac;").replace(/^no$/, ""), caf: !!e.canPlayType("audio/x-caf;").replace(/^no$/, ""), m4a: !!(e.canPlayType("audio/x-m4a;") || e.canPlayType("audio/m4a;") || e.canPlayType("audio/aac;")).replace(/^no$/, ""), mp4: !!(e.canPlayType("audio/x-mp4;") || e.canPlayType("audio/mp4;") || e.canPlayType("audio/aac;")).replace(/^no$/, ""), weba: !!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, ""), webm: !!e.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/, ""), dolby: !!e.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/, "") }, t }, _enableMobileAudio: function() { var t = this || s,
                        e = /iPhone|iPad|iPod|Android|BlackBerry|BB10|Silk|Mobi/i.test(t._navigator && t._navigator.userAgent),
                        i = !!("ontouchend" in window || t._navigator && t._navigator.maxTouchPoints > 0 || t._navigator && t._navigator.msMaxTouchPoints > 0); if (!t._mobileEnabled && t.ctx && (e || i)) { t._mobileEnabled = !1, t._mobileUnloaded || 44100 === t.ctx.sampleRate || (t._mobileUnloaded = !0, t.unload()), t._scratchBuffer = t.ctx.createBuffer(1, 1, 22050); var n = function() { var e = t.ctx.createBufferSource();
                            e.buffer = t._scratchBuffer, e.connect(t.ctx.destination), "undefined" == typeof e.start ? e.noteOn(0) : e.start(0), e.onended = function() { e.disconnect(0), t._mobileEnabled = !0, t.mobileAutoEnable = !1, document.removeEventListener("touchend", n, !0) } }; return document.addEventListener("touchend", n, !0), t } }, _autoSuspend: function() { var t = this; if (t.autoSuspend && t.ctx && "undefined" != typeof t.ctx.suspend && s.usingWebAudio) { for (var e = 0; e < t._howls.length; e++)
                            if (t._howls[e]._webAudio)
                                for (var i = 0; i < t._howls[e]._sounds.length; i++)
                                    if (!t._howls[e]._sounds[i]._paused) return t; return t._suspendTimer && clearTimeout(t._suspendTimer), t._suspendTimer = setTimeout(function() { t.autoSuspend && (t._suspendTimer = null, t.state = "suspending", t.ctx.suspend().then(function() { t.state = "suspended", t._resumeAfterSuspend && (delete t._resumeAfterSuspend, t._autoResume()) })) }, 3e4), t } }, _autoResume: function() { var t = this; if (t.ctx && "undefined" != typeof t.ctx.resume && s.usingWebAudio) return "running" === t.state && t._suspendTimer ? (clearTimeout(t._suspendTimer), t._suspendTimer = null) : "suspended" === t.state ? (t.state = "resuming", t.ctx.resume().then(function() { t.state = "running" }), t._suspendTimer && (clearTimeout(t._suspendTimer), t._suspendTimer = null)) : "suspending" === t.state && (t._resumeAfterSuspend = !0), t } }; var s = new a,
                h = function(t) { var e = this; return t.src && 0 !== t.src.length ? void e.init(t) : void 0 };
            h.prototype = { init: function(t) { var e = this; return s.ctx || m(), e._autoplay = t.autoplay || !1, e._format = "string" != typeof t.format ? t.format : [t.format], e._html5 = t.html5 || !1, e._muted = t.mute || !1, e._loop = t.loop || !1, e._pool = t.pool || 5, e._preload = "boolean" != typeof t.preload || t.preload, e._rate = t.rate || 1, e._sprite = t.sprite || {}, e._src = "string" != typeof t.src ? t.src : [t.src], e._volume = void 0 !== t.volume ? t.volume : 1, e._duration = 0, e._state = "unloaded", e._sounds = [], e._endTimers = {}, e._queue = [], e._onend = t.onend ? [{ fn: t.onend }] : [], e._onfade = t.onfade ? [{ fn: t.onfade }] : [], e._onload = t.onload ? [{ fn: t.onload }] : [], e._onloaderror = t.onloaderror ? [{ fn: t.onloaderror }] : [], e._onpause = t.onpause ? [{ fn: t.onpause }] : [], e._onplay = t.onplay ? [{ fn: t.onplay }] : [], e._onstop = t.onstop ? [{ fn: t.onstop }] : [], e._onmute = t.onmute ? [{ fn: t.onmute }] : [], e._onvolume = t.onvolume ? [{ fn: t.onvolume }] : [], e._onrate = t.onrate ? [{ fn: t.onrate }] : [], e._onseek = t.onseek ? [{ fn: t.onseek }] : [], e._webAudio = s.usingWebAudio && !e._html5, "undefined" != typeof s.ctx && s.ctx && s.mobileAutoEnable && s._enableMobileAudio(), s._howls.push(e), e._preload && e.load(), e }, load: function() { var t = this,
                        e = null; if (s.noAudio) return void t._emit("loaderror", null, "No audio support."); "string" == typeof t._src && (t._src = [t._src]); for (var i = 0; i < t._src.length; i++) { var n, r; if (t._format && t._format[i]) n = t._format[i];
                        else { if (r = t._src[i], "string" != typeof r) { t._emit("loaderror", null, "Non-string found in selected audio sources - ignoring."); continue } n = /^data:audio\/([^;,]+);/i.exec(r), n || (n = /\.([^.]+)$/.exec(r.split("?", 1)[0])), n && (n = n[1].toLowerCase()) } if (s.codecs(n)) { e = t._src[i]; break } } return e ? (t._src = e, t._state = "loading", "https:" === window.location.protocol && "http:" === e.slice(0, 5) && (t._html5 = !0, t._webAudio = !1), new l(t), t._webAudio && c(t), t) : void t._emit("loaderror", null, "No codec support for selected audio sources.") }, play: function(t, e) { var i = this,
                        n = null; if ("number" == typeof t) n = t, t = null;
                    else { if ("string" == typeof t && "loaded" === i._state && !i._sprite[t]) return null; if ("undefined" == typeof t) { t = "__default"; for (var r = 0, o = 0; o < i._sounds.length; o++) i._sounds[o]._paused && !i._sounds[o]._ended && (r++, n = i._sounds[o]._id);
                            1 === r ? t = null : n = null } } var a = n ? i._soundById(n) : i._inactiveSound(); if (!a) return null; if (n && !t && (t = a._sprite || "__default"), "loaded" !== i._state && !i._sprite[t]) return i._queue.push({ event: "play", action: function() { i.play(i._soundById(a._id) ? a._id : void 0) } }), a._id; if (n && !a._paused) return e || setTimeout(function() { i._emit("play", a._id) }, 0), a._id;
                    i._webAudio && s._autoResume(); var h = a._seek > 0 ? a._seek : i._sprite[t][0] / 1e3,
                        l = (i._sprite[t][0] + i._sprite[t][1]) / 1e3 - h,
                        u = 1e3 * l / Math.abs(a._rate);
                    a._paused = !1, a._ended = !1, a._sprite = t, a._seek = h, a._start = i._sprite[t][0] / 1e3, a._stop = (i._sprite[t][0] + i._sprite[t][1]) / 1e3, a._loop = !(!a._loop && !i._sprite[t][2]); var c = a._node; if (i._webAudio) { var d = function() { i._refreshBuffer(a); var t = a._muted || i._muted ? 0 : a._volume;
                            c.gain.setValueAtTime(t, s.ctx.currentTime), a._playStart = s.ctx.currentTime, "undefined" == typeof c.bufferSource.start ? a._loop ? c.bufferSource.noteGrainOn(0, h, 86400) : c.bufferSource.noteGrainOn(0, h, l) : a._loop ? c.bufferSource.start(0, h, 86400) : c.bufferSource.start(0, h, l), u !== 1 / 0 && (i._endTimers[a._id] = setTimeout(i._ended.bind(i, a), u)), e || setTimeout(function() { i._emit("play", a._id) }, 0) }; "loaded" === i._state ? d() : (i.once("load", d, a._id), i._clearTimer(a._id)) } else { var p = function() { c.currentTime = h, c.muted = a._muted || i._muted || s._muted || c.muted, c.volume = a._volume * s.volume(), c.playbackRate = a._rate, setTimeout(function() { c.play(), u !== 1 / 0 && (i._endTimers[a._id] = setTimeout(i._ended.bind(i, a), u)), e || i._emit("play", a._id) }, 0) },
                            f = "loaded" === i._state && (window && window.ejecta || !c.readyState && s._navigator.isCocoonJS); if (4 === c.readyState || f) p();
                        else { var m = function() { p(), c.removeEventListener(s._canPlayEvent, m, !1) };
                            c.addEventListener(s._canPlayEvent, m, !1), i._clearTimer(a._id) } } return a._id }, pause: function(t) { var e = this; if ("loaded" !== e._state) return e._queue.push({ event: "pause", action: function() { e.pause(t) } }), e; for (var i = e._getSoundIds(t), n = 0; n < i.length; n++) { e._clearTimer(i[n]); var r = e._soundById(i[n]); if (r && !r._paused) { if (r._seek = e.seek(i[n]), r._rateSeek = 0, r._paused = !0, e._stopFade(i[n]), r._node)
                                if (e._webAudio) { if (!r._node.bufferSource) return e; "undefined" == typeof r._node.bufferSource.stop ? r._node.bufferSource.noteOff(0) : r._node.bufferSource.stop(0), e._cleanBuffer(r._node) } else isNaN(r._node.duration) && r._node.duration !== 1 / 0 || r._node.pause();
                            arguments[1] || e._emit("pause", r._id) } } return e }, stop: function(t, e) { var i = this; if ("loaded" !== i._state) return i._queue.push({ event: "stop", action: function() { i.stop(t) } }), i; for (var n = i._getSoundIds(t), r = 0; r < n.length; r++) { i._clearTimer(n[r]); var o = i._soundById(n[r]); if (o && !o._paused && (o._seek = o._start || 0, o._rateSeek = 0, o._paused = !0, o._ended = !0, i._stopFade(n[r]), o._node))
                            if (i._webAudio) { if (!o._node.bufferSource) return i; "undefined" == typeof o._node.bufferSource.stop ? o._node.bufferSource.noteOff(0) : o._node.bufferSource.stop(0), i._cleanBuffer(o._node) } else isNaN(o._node.duration) && o._node.duration !== 1 / 0 || (o._node.currentTime = o._start || 0, o._node.pause());
                        o && !e && i._emit("stop", o._id) } return i }, mute: function(t, e) { var i = this; if ("loaded" !== i._state) return i._queue.push({ event: "mute", action: function() { i.mute(t, e) } }), i; if ("undefined" == typeof e) { if ("boolean" != typeof t) return i._muted;
                        i._muted = t } for (var n = i._getSoundIds(e), r = 0; r < n.length; r++) { var o = i._soundById(n[r]);
                        o && (o._muted = t, i._webAudio && o._node ? o._node.gain.setValueAtTime(t ? 0 : o._volume, s.ctx.currentTime) : o._node && (o._node.muted = !!s._muted || t), i._emit("mute", o._id)) } return i }, volume: function() { var t, e, i = this,
                        n = arguments; if (0 === n.length) return i._volume; if (1 === n.length) { var r = i._getSoundIds(),
                            o = r.indexOf(n[0]);
                        o >= 0 ? e = parseInt(n[0], 10) : t = parseFloat(n[0]) } else n.length >= 2 && (t = parseFloat(n[0]), e = parseInt(n[1], 10)); var a; if (!("undefined" != typeof t && t >= 0 && t <= 1)) return a = e ? i._soundById(e) : i._sounds[0], a ? a._volume : 0; if ("loaded" !== i._state) return i._queue.push({ event: "volume", action: function() { i.volume.apply(i, n) } }), i; "undefined" == typeof e && (i._volume = t), e = i._getSoundIds(e); for (var h = 0; h < e.length; h++) a = i._soundById(e[h]), a && (a._volume = t, n[2] || i._stopFade(e[h]), i._webAudio && a._node && !a._muted ? a._node.gain.setValueAtTime(t, s.ctx.currentTime) : a._node && !a._muted && (a._node.volume = t * s.volume()), i._emit("volume", a._id)); return i }, fade: function(t, e, i, n) { var r = this,
                        o = Math.abs(t - e),
                        a = t > e ? "out" : "in",
                        h = o / .01,
                        l = i / h; if ("loaded" !== r._state) return r._queue.push({ event: "fade", action: function() { r.fade(t, e, i, n) } }), r;
                    r.volume(t, n); for (var u = r._getSoundIds(n), c = 0; c < u.length; c++) { var d = r._soundById(u[c]); if (d) { if (n || r._stopFade(u[c]), r._webAudio && !d._muted) { var p = s.ctx.currentTime,
                                    f = p + i / 1e3;
                                d._volume = t, d._node.gain.setValueAtTime(t, p), d._node.gain.linearRampToValueAtTime(e, f) } var m = t;
                            d._interval = setInterval(function(t, i) { m += "in" === a ? .01 : -.01, m = Math.max(0, m), m = Math.min(1, m), m = Math.round(100 * m) / 100, r._webAudio ? ("undefined" == typeof n && (r._volume = m), i._volume = m) : r.volume(m, t, !0), m === e && (clearInterval(i._interval), i._interval = null, r.volume(m, t), r._emit("fade", t)) }.bind(r, u[c], d), l) } } return r }, _stopFade: function(t) { var e = this,
                        i = e._soundById(t); return i && i._interval && (e._webAudio && i._node.gain.cancelScheduledValues(s.ctx.currentTime), clearInterval(i._interval), i._interval = null, e._emit("fade", t)), e }, loop: function() { var t, e, i, n = this,
                        r = arguments; if (0 === r.length) return n._loop; if (1 === r.length) { if ("boolean" != typeof r[0]) return i = n._soundById(parseInt(r[0], 10)), !!i && i._loop;
                        t = r[0], n._loop = t } else 2 === r.length && (t = r[0], e = parseInt(r[1], 10)); for (var o = n._getSoundIds(e), a = 0; a < o.length; a++) i = n._soundById(o[a]), i && (i._loop = t, n._webAudio && i._node && i._node.bufferSource && (i._node.bufferSource.loop = t)); return n }, rate: function() { var t, e, i = this,
                        n = arguments; if (0 === n.length) e = i._sounds[0]._id;
                    else if (1 === n.length) { var r = i._getSoundIds(),
                            o = r.indexOf(n[0]);
                        o >= 0 ? e = parseInt(n[0], 10) : t = parseFloat(n[0]) } else 2 === n.length && (t = parseFloat(n[0]), e = parseInt(n[1], 10)); var a; if ("number" != typeof t) return a = i._soundById(e), a ? a._rate : i._rate; if ("loaded" !== i._state) return i._queue.push({ event: "rate", action: function() { i.rate.apply(i, n) } }), i; "undefined" == typeof e && (i._rate = t), e = i._getSoundIds(e); for (var h = 0; h < e.length; h++)
                        if (a = i._soundById(e[h])) { a._rateSeek = i.seek(e[h]), a._playStart = i._webAudio ? s.ctx.currentTime : a._playStart, a._rate = t, i._webAudio && a._node && a._node.bufferSource ? a._node.bufferSource.playbackRate.value = t : a._node && (a._node.playbackRate = t); var l = i.seek(e[h]),
                                u = (i._sprite[a._sprite][0] + i._sprite[a._sprite][1]) / 1e3 - l,
                                c = 1e3 * u / Math.abs(a._rate);!i._endTimers[e[h]] && a._paused || (i._clearTimer(e[h]), i._endTimers[e[h]] = setTimeout(i._ended.bind(i, a), c)), i._emit("rate", a._id) } return i }, seek: function() { var t, e, i = this,
                        n = arguments; if (0 === n.length) e = i._sounds[0]._id;
                    else if (1 === n.length) { var r = i._getSoundIds(),
                            o = r.indexOf(n[0]);
                        o >= 0 ? e = parseInt(n[0], 10) : (e = i._sounds[0]._id, t = parseFloat(n[0])) } else 2 === n.length && (t = parseFloat(n[0]), e = parseInt(n[1], 10)); if ("undefined" == typeof e) return i; if ("loaded" !== i._state) return i._queue.push({ event: "seek", action: function() { i.seek.apply(i, n) } }), i; var a = i._soundById(e); if (a) { if (!("number" == typeof t && t >= 0)) { if (i._webAudio) { var h = i.playing(e) ? s.ctx.currentTime - a._playStart : 0,
                                    l = a._rateSeek ? a._rateSeek - a._seek : 0; return a._seek + (l + h * Math.abs(a._rate)) } return a._node.currentTime } var u = i.playing(e);
                        u && i.pause(e, !0), a._seek = t, a._ended = !1, i._clearTimer(e), u && i.play(e, !0), !i._webAudio && a._node && (a._node.currentTime = t), i._emit("seek", e) } return i }, playing: function(t) { var e = this; if ("number" == typeof t) { var i = e._soundById(t); return !!i && !i._paused } for (var n = 0; n < e._sounds.length; n++)
                        if (!e._sounds[n]._paused) return !0; return !1 }, duration: function(t) { var e = this,
                        i = e._duration,
                        n = e._soundById(t); return n && (i = e._sprite[n._sprite][1] / 1e3), i }, state: function() { return this._state }, unload: function() { for (var t = this, e = t._sounds, i = 0; i < e.length; i++) { e[i]._paused || (t.stop(e[i]._id), t._emit("end", e[i]._id)), t._webAudio || (e[i]._node.src = "data:audio/wav;base64,UklGRiQAAABXQVZFZm10IBAAAAABAAEARKwAAIhYAQACABAAZGF0YQAAAAA=", e[i]._node.removeEventListener("error", e[i]._errorFn, !1), e[i]._node.removeEventListener(s._canPlayEvent, e[i]._loadFn, !1)), delete e[i]._node, t._clearTimer(e[i]._id); var n = s._howls.indexOf(t);
                        n >= 0 && s._howls.splice(n, 1) } var r = !0; for (i = 0; i < s._howls.length; i++)
                        if (s._howls[i]._src === t._src) { r = !1; break } return u && r && delete u[t._src], t._state = "unloaded", t._sounds = [], t = null, null }, on: function(t, e, i, n) { var r = this,
                        o = r["_on" + t]; return "function" == typeof e && o.push(n ? { id: i, fn: e, once: n } : { id: i, fn: e }), r }, off: function(t, e, i) { var n = this,
                        r = n["_on" + t],
                        o = 0; if (e) { for (o = 0; o < r.length; o++)
                            if (e === r[o].fn && i === r[o].id) { r.splice(o, 1); break } } else if (t) n["_on" + t] = [];
                    else { var a = Object.keys(n); for (o = 0; o < a.length; o++) 0 === a[o].indexOf("_on") && Array.isArray(n[a[o]]) && (n[a[o]] = []) } return n }, once: function(t, e, i) { var n = this; return n.on(t, e, i, 1), n }, _emit: function(t, e, i) { for (var n = this, r = n["_on" + t], o = r.length - 1; o >= 0; o--) r[o].id && r[o].id !== e && "load" !== t || (setTimeout(function(t) { t.call(this, e, i) }.bind(n, r[o].fn), 0), r[o].once && n.off(t, r[o].fn, r[o].id)); return n }, _loadQueue: function() { var t = this; if (t._queue.length > 0) { var e = t._queue[0];
                        t.once(e.event, function() { t._queue.shift(), t._loadQueue() }), e.action() } return t }, _ended: function(t) { var e = this,
                        i = t._sprite,
                        n = !(!t._loop && !e._sprite[i][2]); if (e._emit("end", t._id), !e._webAudio && n && e.stop(t._id, !0).play(t._id), e._webAudio && n) { e._emit("play", t._id), t._seek = t._start || 0, t._rateSeek = 0, t._playStart = s.ctx.currentTime; var r = 1e3 * (t._stop - t._start) / Math.abs(t._rate);
                        e._endTimers[t._id] = setTimeout(e._ended.bind(e, t), r) } return e._webAudio && !n && (t._paused = !0, t._ended = !0, t._seek = t._start || 0, t._rateSeek = 0, e._clearTimer(t._id), e._cleanBuffer(t._node), s._autoSuspend()), e._webAudio || n || e.stop(t._id), e }, _clearTimer: function(t) { var e = this; return e._endTimers[t] && (clearTimeout(e._endTimers[t]), delete e._endTimers[t]), e }, _soundById: function(t) { for (var e = this, i = 0; i < e._sounds.length; i++)
                        if (t === e._sounds[i]._id) return e._sounds[i]; return null }, _inactiveSound: function() { var t = this;
                    t._drain(); for (var e = 0; e < t._sounds.length; e++)
                        if (t._sounds[e]._ended) return t._sounds[e].reset(); return new l(t) }, _drain: function() { var t = this,
                        e = t._pool,
                        i = 0,
                        n = 0; if (!(t._sounds.length < e)) { for (n = 0; n < t._sounds.length; n++) t._sounds[n]._ended && i++; for (n = t._sounds.length - 1; n >= 0; n--) { if (i <= e) return;
                            t._sounds[n]._ended && (t._webAudio && t._sounds[n]._node && t._sounds[n]._node.disconnect(0), t._sounds.splice(n, 1), i--) } } }, _getSoundIds: function(t) { var e = this; if ("undefined" == typeof t) { for (var i = [], n = 0; n < e._sounds.length; n++) i.push(e._sounds[n]._id); return i } return [t] }, _refreshBuffer: function(t) { var e = this; return t._node.bufferSource = s.ctx.createBufferSource(), t._node.bufferSource.buffer = u[e._src], t._panner ? t._node.bufferSource.connect(t._panner) : t._node.bufferSource.connect(t._node), t._node.bufferSource.loop = t._loop, t._loop && (t._node.bufferSource.loopStart = t._start || 0, t._node.bufferSource.loopEnd = t._stop), t._node.bufferSource.playbackRate.value = t._rate, e }, _cleanBuffer: function(t) { var e = this; if (e._scratchBuffer) { t.bufferSource.onended = null, t.bufferSource.disconnect(0); try { t.bufferSource.buffer = e._scratchBuffer } catch (t) {} } return t.bufferSource = null, e } }; var l = function(t) { this._parent = t, this.init() };
            l.prototype = { init: function() { var t = this,
                        e = t._parent; return t._muted = e._muted, t._loop = e._loop, t._volume = e._volume, t._muted = e._muted, t._rate = e._rate, t._seek = 0, t._paused = !0, t._ended = !0, t._sprite = "__default", t._id = Math.round(Date.now() * Math.random()), e._sounds.push(t), t.create(), t }, create: function() { var t = this,
                        e = t._parent,
                        i = s._muted || t._muted || t._parent._muted ? 0 : t._volume; return e._webAudio ? (t._node = "undefined" == typeof s.ctx.createGain ? s.ctx.createGainNode() : s.ctx.createGain(), t._node.gain.setValueAtTime(i, s.ctx.currentTime), t._node.paused = !0, t._node.connect(s.masterGain)) : (t._node = new Audio, t._errorFn = t._errorListener.bind(t), t._node.addEventListener("error", t._errorFn, !1), t._loadFn = t._loadListener.bind(t), t._node.addEventListener(s._canPlayEvent, t._loadFn, !1), t._node.src = e._src, t._node.preload = "auto", t._node.volume = i * s.volume(), t._node.load()), t }, reset: function() { var t = this,
                        e = t._parent; return t._muted = e._muted, t._loop = e._loop, t._volume = e._volume, t._muted = e._muted, t._rate = e._rate, t._seek = 0, t._rateSeek = 0, t._paused = !0, t._ended = !0, t._sprite = "__default", t._id = Math.round(Date.now() * Math.random()), t }, _errorListener: function() { var t = this;
                    t._node.error && 4 === t._node.error.code && (s.noAudio = !0), t._parent._emit("loaderror", t._id, t._node.error ? t._node.error.code : 0), t._node.removeEventListener("error", t._errorListener, !1) }, _loadListener: function() { var t = this,
                        e = t._parent;
                    e._duration = Math.ceil(10 * t._node.duration) / 10, 0 === Object.keys(e._sprite).length && (e._sprite = { __default: [0, 1e3 * e._duration] }), "loaded" !== e._state && (e._state = "loaded", e._emit("load"), e._loadQueue()), e._autoplay && e.play(), t._node.removeEventListener(s._canPlayEvent, t._loadFn, !1) } }; var u = {},
                c = function(t) { var e = t._src; if (u[e]) return t._duration = u[e].duration, void f(t); if (/^data:[^;]+;base64,/.test(e)) { for (var i = atob(e.split(",")[1]), n = new Uint8Array(i.length), r = 0; r < i.length; ++r) n[r] = i.charCodeAt(r);
                        p(n.buffer, t) } else { var o = new XMLHttpRequest;
                        o.open("GET", e, !0), o.responseType = "arraybuffer", o.onload = function() { var e = (o.status + "")[0]; return "0" !== e && "2" !== e && "3" !== e ? void t._emit("loaderror", null, "Failed loading audio file with status: " + o.status + ".") : void p(o.response, t) }, o.onerror = function() { t._webAudio && (t._html5 = !0, t._webAudio = !1, t._sounds = [], delete u[e], t.load()) }, d(o) } },
                d = function(t) { try { t.send() } catch (e) { t.onerror() } },
                p = function(t, e) { s.ctx.decodeAudioData(t, function(t) { t && e._sounds.length > 0 && (u[e._src] = t, f(e, t)) }, function() { e._emit("loaderror", null, "Decoding audio data failed.") }) },
                f = function(t, e) { e && !t._duration && (t._duration = e.duration), 0 === Object.keys(t._sprite).length && (t._sprite = { __default: [0, 1e3 * t._duration] }), "loaded" !== t._state && (t._state = "loaded", t._emit("load"), t._loadQueue()), t._autoplay && t.play() },
                m = function() { s.noAudio = !1; try { "undefined" != typeof AudioContext ? s.ctx = new AudioContext : "undefined" != typeof webkitAudioContext ? s.ctx = new webkitAudioContext : s.usingWebAudio = !1 } catch (t) { s.usingWebAudio = !1 } if (!s.usingWebAudio)
                        if ("undefined" != typeof Audio) try { var t = new Audio; "undefined" == typeof t.oncanplaythrough && (s._canPlayEvent = "canplay") } catch (t) { s.noAudio = !0 } else s.noAudio = !0; try { var t = new Audio;
                        t.muted && (s.noAudio = !0) } catch (t) {} var e = /iP(hone|od|ad)/.test(s._navigator && s._navigator.platform),
                        i = s._navigator && s._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),
                        n = i ? parseInt(i[1], 10) : null; if (e && n && n < 9) { var r = /safari/.test(s._navigator && s._navigator.userAgent.toLowerCase());
                        (s._navigator && s._navigator.standalone && !r || s._navigator && !s._navigator.standalone && !r) && (s.usingWebAudio = !1) } s.usingWebAudio && (s.masterGain = "undefined" == typeof s.ctx.createGain ? s.ctx.createGainNode() : s.ctx.createGain(), s.masterGain.gain.value = 1, s.masterGain.connect(s.ctx.destination)), s._setup() };
            i(7) && (n = [], r = function() { return { Howler: s, Howl: h } }.apply(e, n), !(void 0 !== r && (t.exports = r))), "undefined" != typeof e && (e.Howler = s, e.Howl = h), "undefined" != typeof window ? (window.HowlerGlobal = a, window.Howler = s, window.Howl = h, window.Sound = l) : "undefined" != typeof o && (o.HowlerGlobal = a, o.Howler = s, o.Howl = h, o.Sound = l) }(), ! function() {
            "use strict";
            HowlerGlobal.prototype._pos = [0, 0, 0], HowlerGlobal.prototype._orientation = [0, 0, -1, 0, 1, 0], HowlerGlobal.prototype.stereo = function(t) { var e = this; if (!e.ctx || !e.ctx.listener) return e; for (var i = e._howls.length - 1; i >= 0; i--) e._howls[i].stereo(t); return e }, HowlerGlobal.prototype.pos = function(t, e, i) { var n = this; return n.ctx && n.ctx.listener ? (e = "number" != typeof e ? n._pos[1] : e, i = "number" != typeof i ? n._pos[2] : i, "number" != typeof t ? n._pos : (n._pos = [t, e, i], n.ctx.listener.setPosition(n._pos[0], n._pos[1], n._pos[2]), n)) : n }, HowlerGlobal.prototype.orientation = function(t, e, i, n, r, o) { var a = this; if (!a.ctx || !a.ctx.listener) return a; var s = a._orientation; return e = "number" != typeof e ? s[1] : e, i = "number" != typeof i ? s[2] : i, n = "number" != typeof n ? s[3] : n, r = "number" != typeof r ? s[4] : r, o = "number" != typeof o ? s[5] : o, "number" != typeof t ? s : (a._orientation = [t, e, i, n, r, o], a.ctx.listener.setOrientation(t, e, i, n, r, o), a) }, Howl.prototype.init = function(t) { return function(e) { var i = this; return i._orientation = e.orientation || [1, 0, 0], i._stereo = e.stereo || null, i._pos = e.pos || null, i._pannerAttr = { coneInnerAngle: "undefined" != typeof e.coneInnerAngle ? e.coneInnerAngle : 360, coneOuterAngle: "undefined" != typeof e.coneOuterAngle ? e.coneOuterAngle : 360, coneOuterGain: "undefined" != typeof e.coneOuterGain ? e.coneOuterGain : 0, distanceModel: "undefined" != typeof e.distanceModel ? e.distanceModel : "inverse", maxDistance: "undefined" != typeof e.maxDistance ? e.maxDistance : 1e4, panningModel: "undefined" != typeof e.panningModel ? e.panningModel : "HRTF", refDistance: "undefined" != typeof e.refDistance ? e.refDistance : 1, rolloffFactor: "undefined" != typeof e.rolloffFactor ? e.rolloffFactor : 1 }, i._onstereo = e.onstereo ? [{ fn: e.onstereo }] : [], i._onpos = e.onpos ? [{ fn: e.onpos }] : [], i._onorientation = e.onorientation ? [{ fn: e.onorientation }] : [], t.call(this, e) } }(Howl.prototype.init), Howl.prototype.stereo = function(e, i) { var n = this; if (!n._webAudio) return n; if ("loaded" !== n._state) return n._queue.push({ event: "stereo", action: function() { n.stereo(e, i) } }), n; var r = "undefined" == typeof Howler.ctx.createStereoPanner ? "spatial" : "stereo"; if ("undefined" == typeof i) { if ("number" != typeof e) return n._stereo;
                    n._stereo = e, n._pos = [e, 0, 0] } for (var o = n._getSoundIds(i), a = 0; a < o.length; a++) { var s = n._soundById(o[a]); if (s) { if ("number" != typeof e) return s._stereo;
                        s._stereo = e, s._pos = [e, 0, 0], s._node && (s._pannerAttr.panningModel = "equalpower", s._panner && s._panner.pan || t(s, r), "spatial" === r ? s._panner.setPosition(e, 0, 0) : s._panner.pan.value = e), n._emit("stereo", s._id) } } return n }, Howl.prototype.pos = function(e, i, n, r) { var o = this; if (!o._webAudio) return o; if ("loaded" !== o._state) return o._queue.push({ event: "pos", action: function() { o.pos(e, i, n, r) } }), o; if (i = "number" != typeof i ? 0 : i, n = "number" != typeof n ? -.5 : n, "undefined" == typeof r) { if ("number" != typeof e) return o._pos;
                    o._pos = [e, i, n] } for (var a = o._getSoundIds(r), s = 0; s < a.length; s++) { var h = o._soundById(a[s]); if (h) { if ("number" != typeof e) return h._pos;
                        h._pos = [e, i, n], h._node && (h._panner && !h._panner.pan || t(h, "spatial"), h._panner.setPosition(e, i, n)), o._emit("pos", h._id) } } return o }, Howl.prototype.orientation = function(e, i, n, r) { var o = this; if (!o._webAudio) return o; if ("loaded" !== o._state) return o._queue.push({ event: "orientation", action: function() { o.orientation(e, i, n, r) } }), o; if (i = "number" != typeof i ? o._orientation[1] : i, n = "number" != typeof n ? o._orientation[2] : n, "undefined" == typeof r) { if ("number" != typeof e) return o._orientation;
                    o._orientation = [e, i, n] } for (var a = o._getSoundIds(r), s = 0; s < a.length; s++) { var h = o._soundById(a[s]); if (h) { if ("number" != typeof e) return h._orientation;
                        h._orientation = [e, i, n], h._node && (h._panner || (h._pos || (h._pos = o._pos || [0, 0, -.5]), t(h, "spatial")), h._panner.setOrientation(e, i, n)), o._emit("orientation", h._id) } } return o }, Howl.prototype.pannerAttr = function() { var e, i, n, r = this,
                    o = arguments; if (!r._webAudio) return r; if (0 === o.length) return r._pannerAttr; if (1 === o.length) { if ("object" != typeof o[0]) return n = r._soundById(parseInt(o[0], 10)), n ? n._pannerAttr : r._pannerAttr;
                    e = o[0], "undefined" == typeof i && (r._pannerAttr = { coneInnerAngle: "undefined" != typeof e.coneInnerAngle ? e.coneInnerAngle : r._coneInnerAngle, coneOuterAngle: "undefined" != typeof e.coneOuterAngle ? e.coneOuterAngle : r._coneOuterAngle, coneOuterGain: "undefined" != typeof e.coneOuterGain ? e.coneOuterGain : r._coneOuterGain, distanceModel: "undefined" != typeof e.distanceModel ? e.distanceModel : r._distanceModel, maxDistance: "undefined" != typeof e.maxDistance ? e.maxDistance : r._maxDistance, panningModel: "undefined" != typeof e.panningModel ? e.panningModel : r._panningModel, refDistance: "undefined" != typeof e.refDistance ? e.refDistance : r._refDistance, rolloffFactor: "undefined" != typeof e.rolloffFactor ? e.rolloffFactor : r._rolloffFactor }) } else 2 === o.length && (e = o[0], i = parseInt(o[1], 10)); for (var a = r._getSoundIds(i), s = 0; s < a.length; s++)
                    if (n = r._soundById(a[s])) { var h = n._pannerAttr;
                        h = { coneInnerAngle: "undefined" != typeof e.coneInnerAngle ? e.coneInnerAngle : h.coneInnerAngle, coneOuterAngle: "undefined" != typeof e.coneOuterAngle ? e.coneOuterAngle : h.coneOuterAngle, coneOuterGain: "undefined" != typeof e.coneOuterGain ? e.coneOuterGain : h.coneOuterGain, distanceModel: "undefined" != typeof e.distanceModel ? e.distanceModel : h.distanceModel, maxDistance: "undefined" != typeof e.maxDistance ? e.maxDistance : h.maxDistance, panningModel: "undefined" != typeof e.panningModel ? e.panningModel : h.panningModel, refDistance: "undefined" != typeof e.refDistance ? e.refDistance : h.refDistance, rolloffFactor: "undefined" != typeof e.rolloffFactor ? e.rolloffFactor : h.rolloffFactor }; var l = n._panner;
                        l ? (l.coneInnerAngle = h.coneInnerAngle, l.coneOuterAngle = h.coneOuterAngle, l.coneOuterGain = h.coneOuterGain, l.distanceModel = h.distanceModel, l.maxDistance = h.maxDistance, l.panningModel = h.panningModel, l.refDistance = h.refDistance, l.rolloffFactor = h.rolloffFactor) : (n._pos || (n._pos = r._pos || [0, 0, -.5]), t(n, "spatial")) } return r }, Sound.prototype.init = function(t) {
                return function() {
                    var e = this,
                        i = e._parent;
                    e._orientation = i._orientation,
                        e._stereo = i._stereo, e._pos = i._pos, e._pannerAttr = i._pannerAttr, t.call(this), e._stereo ? i.stereo(e._stereo) : e._pos && i.pos(e._pos[0], e._pos[1], e._pos[2], e._id)
                }
            }(Sound.prototype.init), Sound.prototype.reset = function(t) { return function() { var e = this,
                        i = e._parent; return e._orientation = i._orientation, e._pos = i._pos, e._pannerAttr = i._pannerAttr, t.call(this) } }(Sound.prototype.reset);
            var t = function(t, e) { e = e || "spatial", "spatial" === e ? (t._panner = Howler.ctx.createPanner(), t._panner.coneInnerAngle = t._pannerAttr.coneInnerAngle, t._panner.coneOuterAngle = t._pannerAttr.coneOuterAngle, t._panner.coneOuterGain = t._pannerAttr.coneOuterGain, t._panner.distanceModel = t._pannerAttr.distanceModel, t._panner.maxDistance = t._pannerAttr.maxDistance, t._panner.panningModel = t._pannerAttr.panningModel, t._panner.refDistance = t._pannerAttr.refDistance, t._panner.rolloffFactor = t._pannerAttr.rolloffFactor, t._panner.setPosition(t._pos[0], t._pos[1], t._pos[2]), t._panner.setOrientation(t._orientation[0], t._orientation[1], t._orientation[2])) : (t._panner = Howler.ctx.createStereoPanner(), t._panner.pan.value = t._stereo), t._panner.connect(t._node), t._paused || t._parent.pause(t._id, !0).play(t._id) }
        }()
    }).call(e, function() { return this }())
}, function(t, e) {
    (function(e) { t.exports = e }).call(e, {}) }, function(t, e, i) {
    var n, n;
    (function(e) {
        ! function(e) { t.exports = e() }(function() {
            var t;
            return function() {
                function t(e, i, r) {
                    function o(s, h) { if (!i[s]) { if (!e[s]) { var l = "function" == typeof n && n; if (!h && l) return n(s, !0); if (a) return a(s, !0); var u = new Error("Cannot find module '" + s + "'"); throw u.code = "MODULE_NOT_FOUND", u } var c = i[s] = { exports: {} };
                            e[s][0].call(c.exports, function(t) { var i = e[s][1][t]; return o(i ? i : t) }, c, c.exports, t, e, i, r) } return i[s].exports } for (var a = "function" == typeof n && n, s = 0; s < r.length; s++) o(r[s]); return o } return t }()({
                1: [function(t, e, i) { "use strict"; "use restrict";

                    function n(t) { var e = 32; return t &= -t, t && e--, 65535 & t && (e -= 16), 16711935 & t && (e -= 8), 252645135 & t && (e -= 4), 858993459 & t && (e -= 2), 1431655765 & t && (e -= 1), e } var r = 32;
                    i.INT_BITS = r, i.INT_MAX = 2147483647, i.INT_MIN = -1 << r - 1, i.sign = function(t) { return (t > 0) - (t < 0) }, i.abs = function(t) { var e = t >> r - 1; return (t ^ e) - e }, i.min = function(t, e) { return e ^ (t ^ e) & -(t < e) }, i.max = function(t, e) { return t ^ (t ^ e) & -(t < e) }, i.isPow2 = function(t) { return !(t & t - 1 || !t) }, i.log2 = function(t) { var e, i; return e = (t > 65535) << 4, t >>>= e, i = (t > 255) << 3, t >>>= i, e |= i, i = (t > 15) << 2, t >>>= i, e |= i, i = (t > 3) << 1, t >>>= i, e |= i, e | t >> 1 }, i.log10 = function(t) { return t >= 1e9 ? 9 : t >= 1e8 ? 8 : t >= 1e7 ? 7 : t >= 1e6 ? 6 : t >= 1e5 ? 5 : t >= 1e4 ? 4 : t >= 1e3 ? 3 : t >= 100 ? 2 : t >= 10 ? 1 : 0 }, i.popCount = function(t) { return t -= t >>> 1 & 1431655765, t = (858993459 & t) + (t >>> 2 & 858993459), 16843009 * (t + (t >>> 4) & 252645135) >>> 24 }, i.countTrailingZeros = n, i.nextPow2 = function(t) { return t += 0 === t, --t, t |= t >>> 1, t |= t >>> 2, t |= t >>> 4, t |= t >>> 8, t |= t >>> 16, t + 1 }, i.prevPow2 = function(t) { return t |= t >>> 1, t |= t >>> 2, t |= t >>> 4, t |= t >>> 8, t |= t >>> 16, t - (t >>> 1) }, i.parity = function(t) { return t ^= t >>> 16, t ^= t >>> 8, t ^= t >>> 4, t &= 15, 27030 >>> t & 1 }; var o = new Array(256);! function(t) { for (var e = 0; e < 256; ++e) { var i = e,
                                n = e,
                                r = 7; for (i >>>= 1; i; i >>>= 1) n <<= 1, n |= 1 & i, --r;
                            t[e] = n << r & 255 } }(o), i.reverse = function(t) { return o[255 & t] << 24 | o[t >>> 8 & 255] << 16 | o[t >>> 16 & 255] << 8 | o[t >>> 24 & 255] }, i.interleave2 = function(t, e) { return t &= 65535, t = 16711935 & (t | t << 8), t = 252645135 & (t | t << 4), t = 858993459 & (t | t << 2), t = 1431655765 & (t | t << 1), e &= 65535, e = 16711935 & (e | e << 8), e = 252645135 & (e | e << 4), e = 858993459 & (e | e << 2), e = 1431655765 & (e | e << 1), t | e << 1 }, i.deinterleave2 = function(t, e) { return t = t >>> e & 1431655765, t = 858993459 & (t | t >>> 1), t = 252645135 & (t | t >>> 2), t = 16711935 & (t | t >>> 4), t = 65535 & (t | t >>> 16), t << 16 >> 16 }, i.interleave3 = function(t, e, i) { return t &= 1023, t = 4278190335 & (t | t << 16), t = 251719695 & (t | t << 8), t = 3272356035 & (t | t << 4), t = 1227133513 & (t | t << 2), e &= 1023, e = 4278190335 & (e | e << 16), e = 251719695 & (e | e << 8), e = 3272356035 & (e | e << 4), e = 1227133513 & (e | e << 2), t |= e << 1, i &= 1023, i = 4278190335 & (i | i << 16), i = 251719695 & (i | i << 8), i = 3272356035 & (i | i << 4), i = 1227133513 & (i | i << 2), t | i << 2 }, i.deinterleave3 = function(t, e) { return t = t >>> e & 1227133513, t = 3272356035 & (t | t >>> 2), t = 251719695 & (t | t >>> 4), t = 4278190335 & (t | t >>> 8), t = 1023 & (t | t >>> 16), t << 22 >> 22 }, i.nextCombination = function(t) { var e = t | t - 1; return e + 1 | (~e & -~e) - 1 >>> n(t) + 1 } }, {}],
                2: [function(t, e, i) { "use strict";

                    function n(t, e, i) { i = i || 2; var n = e && e.length,
                            o = n ? e[0] * i : t.length,
                            s = r(t, 0, o, i, !0),
                            h = []; if (!s) return h; var l, u, d, p, f, m, g; if (n && (s = c(t, e, s, i)), t.length > 80 * i) { l = d = t[0], u = p = t[1]; for (var v = i; v < o; v += i) f = t[v], m = t[v + 1], f < l && (l = f), m < u && (u = m), f > d && (d = f), m > p && (p = m);
                            g = Math.max(d - l, p - u), g = 0 !== g ? 1 / g : 0 } return a(s, h, i, l, u, g), h }

                    function r(t, e, i, n, r) { var o, a; if (r === O(t, e, i, n) > 0)
                            for (o = e; o < i; o += n) a = C(o, t[o], t[o + 1], a);
                        else
                            for (o = i - n; o >= e; o -= n) a = C(o, t[o], t[o + 1], a); return a && w(a, a.next) && (R(a), a = a.next), a }

                    function o(t, e) { if (!t) return t;
                        e || (e = t); var i, n = t;
                        do
                            if (i = !1, n.steiner || !w(n, n.next) && 0 !== x(n.prev, n, n.next)) n = n.next;
                            else { if (R(n), n = e = n.prev, n === n.next) break;
                                i = !0 } while (i || n !== e);
                        return e }

                    function a(t, e, i, n, r, c, d) { if (t) {!d && c && m(t, n, r, c); for (var p, f, g = t; t.prev !== t.next;)
                                if (p = t.prev, f = t.next, c ? h(t, n, r, c) : s(t)) e.push(p.i / i), e.push(t.i / i), e.push(f.i / i), R(t), t = f.next, g = f.next;
                                else if (t = f, t === g) { d ? 1 === d ? (t = l(t, e, i), a(t, e, i, n, r, c, 2)) : 2 === d && u(t, e, i, n, r, c) : a(o(t), e, i, n, r, c, 1); break } } }

                    function s(t) { var e = t.prev,
                            i = t,
                            n = t.next; if (x(e, i, n) >= 0) return !1; for (var r = t.next.next; r !== t.prev;) { if (_(e.x, e.y, i.x, i.y, n.x, n.y, r.x, r.y) && x(r.prev, r, r.next) >= 0) return !1;
                            r = r.next } return !0 }

                    function h(t, e, i, n) { var r = t.prev,
                            o = t,
                            a = t.next; if (x(r, o, a) >= 0) return !1; for (var s = r.x < o.x ? r.x < a.x ? r.x : a.x : o.x < a.x ? o.x : a.x, h = r.y < o.y ? r.y < a.y ? r.y : a.y : o.y < a.y ? o.y : a.y, l = r.x > o.x ? r.x > a.x ? r.x : a.x : o.x > a.x ? o.x : a.x, u = r.y > o.y ? r.y > a.y ? r.y : a.y : o.y > a.y ? o.y : a.y, c = v(s, h, e, i, n), d = v(l, u, e, i, n), p = t.prevZ, f = t.nextZ; p && p.z >= c && f && f.z <= d;) { if (p !== t.prev && p !== t.next && _(r.x, r.y, o.x, o.y, a.x, a.y, p.x, p.y) && x(p.prev, p, p.next) >= 0) return !1; if (p = p.prevZ, f !== t.prev && f !== t.next && _(r.x, r.y, o.x, o.y, a.x, a.y, f.x, f.y) && x(f.prev, f, f.next) >= 0) return !1;
                            f = f.nextZ } for (; p && p.z >= c;) { if (p !== t.prev && p !== t.next && _(r.x, r.y, o.x, o.y, a.x, a.y, p.x, p.y) && x(p.prev, p, p.next) >= 0) return !1;
                            p = p.prevZ } for (; f && f.z <= d;) { if (f !== t.prev && f !== t.next && _(r.x, r.y, o.x, o.y, a.x, a.y, f.x, f.y) && x(f.prev, f, f.next) >= 0) return !1;
                            f = f.nextZ } return !0 }

                    function l(t, e, i) { var n = t;
                        do { var r = n.prev,
                                o = n.next.next;!w(r, o) && T(r, n, n.next, o) && M(r, o) && M(o, r) && (e.push(r.i / i), e.push(n.i / i), e.push(o.i / i), R(n), R(n.next), n = t = o), n = n.next } while (n !== t); return n }

                    function u(t, e, i, n, r, s) { var h = t;
                        do { for (var l = h.next.next; l !== h.prev;) { if (h.i !== l.i && b(h, l)) { var u = A(h, l); return h = o(h, h.next), u = o(u, u.next), a(h, e, i, n, r, s), void a(u, e, i, n, r, s) } l = l.next } h = h.next } while (h !== t) }

                    function c(t, e, i, n) { var a, s, h, l, u, c = []; for (a = 0, s = e.length; a < s; a++) h = e[a] * n, l = a < s - 1 ? e[a + 1] * n : t.length, u = r(t, h, l, n, !1), u === u.next && (u.steiner = !0), c.push(y(u)); for (c.sort(d), a = 0; a < c.length; a++) p(c[a], i), i = o(i, i.next); return i }

                    function d(t, e) { return t.x - e.x }

                    function p(t, e) { if (e = f(t, e)) { var i = A(e, t);
                            o(i, i.next) } }

                    function f(t, e) { var i, n = e,
                            r = t.x,
                            o = t.y,
                            a = -(1 / 0);
                        do { if (o <= n.y && o >= n.next.y && n.next.y !== n.y) { var s = n.x + (o - n.y) * (n.next.x - n.x) / (n.next.y - n.y); if (s <= r && s > a) { if (a = s, s === r) { if (o === n.y) return n; if (o === n.next.y) return n.next } i = n.x < n.next.x ? n : n.next } } n = n.next } while (n !== e); if (!i) return null; if (r === a) return i.prev; var h, l = i,
                            u = i.x,
                            c = i.y,
                            d = 1 / 0; for (n = i.next; n !== l;) r >= n.x && n.x >= u && r !== n.x && _(o < c ? r : a, o, u, c, o < c ? a : r, o, n.x, n.y) && (h = Math.abs(o - n.y) / (r - n.x), (h < d || h === d && n.x > i.x) && M(n, t) && (i = n, d = h)), n = n.next; return i }

                    function m(t, e, i, n) { var r = t;
                        do null === r.z && (r.z = v(r.x, r.y, e, i, n)), r.prevZ = r.prev, r.nextZ = r.next, r = r.next; while (r !== t);
                        r.prevZ.nextZ = null, r.prevZ = null, g(r) }

                    function g(t) { var e, i, n, r, o, a, s, h, l = 1;
                        do { for (i = t, t = null, o = null, a = 0; i;) { for (a++, n = i, s = 0, e = 0; e < l && (s++, n = n.nextZ, n); e++); for (h = l; s > 0 || h > 0 && n;) 0 !== s && (0 === h || !n || i.z <= n.z) ? (r = i, i = i.nextZ, s--) : (r = n, n = n.nextZ, h--), o ? o.nextZ = r : t = r, r.prevZ = o, o = r;
                                i = n } o.nextZ = null, l *= 2 } while (a > 1); return t }

                    function v(t, e, i, n, r) { return t = 32767 * (t - i) * r, e = 32767 * (e - n) * r, t = 16711935 & (t | t << 8), t = 252645135 & (t | t << 4), t = 858993459 & (t | t << 2), t = 1431655765 & (t | t << 1), e = 16711935 & (e | e << 8), e = 252645135 & (e | e << 4), e = 858993459 & (e | e << 2), e = 1431655765 & (e | e << 1), t | e << 1 }

                    function y(t) { var e = t,
                            i = t;
                        do e.x < i.x && (i = e), e = e.next; while (e !== t); return i }

                    function _(t, e, i, n, r, o, a, s) { return (r - a) * (e - s) - (t - a) * (o - s) >= 0 && (t - a) * (n - s) - (i - a) * (e - s) >= 0 && (i - a) * (o - s) - (r - a) * (n - s) >= 0 }

                    function b(t, e) { return t.next.i !== e.i && t.prev.i !== e.i && !S(t, e) && M(t, e) && M(e, t) && E(t, e) }

                    function x(t, e, i) { return (e.y - t.y) * (i.x - e.x) - (e.x - t.x) * (i.y - e.y) }

                    function w(t, e) { return t.x === e.x && t.y === e.y }

                    function T(t, e, i, n) { return !!(w(t, e) && w(i, n) || w(t, n) && w(i, e)) || x(t, e, i) > 0 != x(t, e, n) > 0 && x(i, n, t) > 0 != x(i, n, e) > 0 }

                    function S(t, e) { var i = t;
                        do { if (i.i !== t.i && i.next.i !== t.i && i.i !== e.i && i.next.i !== e.i && T(i, i.next, t, e)) return !0;
                            i = i.next } while (i !== t); return !1 }

                    function M(t, e) { return x(t.prev, t, t.next) < 0 ? x(t, e, t.next) >= 0 && x(t, t.prev, e) >= 0 : x(t, e, t.prev) < 0 || x(t, t.next, e) < 0 }

                    function E(t, e) { var i = t,
                            n = !1,
                            r = (t.x + e.x) / 2,
                            o = (t.y + e.y) / 2;
                        do i.y > o != i.next.y > o && i.next.y !== i.y && r < (i.next.x - i.x) * (o - i.y) / (i.next.y - i.y) + i.x && (n = !n), i = i.next; while (i !== t); return n }

                    function A(t, e) { var i = new P(t.i, t.x, t.y),
                            n = new P(e.i, e.x, e.y),
                            r = t.next,
                            o = e.prev; return t.next = e, e.prev = t, i.next = r, r.prev = i, n.next = i, i.prev = n, o.next = n, n.prev = o, n }

                    function C(t, e, i, n) { var r = new P(t, e, i); return n ? (r.next = n.next, r.prev = n, n.next.prev = r, n.next = r) : (r.prev = r, r.next = r), r }

                    function R(t) { t.next.prev = t.prev, t.prev.next = t.next, t.prevZ && (t.prevZ.nextZ = t.nextZ), t.nextZ && (t.nextZ.prevZ = t.prevZ) }

                    function P(t, e, i) { this.i = t, this.x = e, this.y = i, this.prev = null, this.next = null, this.z = null, this.prevZ = null, this.nextZ = null, this.steiner = !1 }

                    function O(t, e, i, n) { for (var r = 0, o = e, a = i - n; o < i; o += n) r += (t[a] - t[o]) * (t[o + 1] + t[a + 1]), a = o; return r } e.exports = n, e.exports["default"] = n, n.deviation = function(t, e, i, n) { var r = e && e.length,
                            o = r ? e[0] * i : t.length,
                            a = Math.abs(O(t, 0, o, i)); if (r)
                            for (var s = 0, h = e.length; s < h; s++) { var l = e[s] * i,
                                    u = s < h - 1 ? e[s + 1] * i : t.length;
                                a -= Math.abs(O(t, l, u, i)) }
                        var c = 0; for (s = 0; s < n.length; s += 3) { var d = n[s] * i,
                                p = n[s + 1] * i,
                                f = n[s + 2] * i;
                            c += Math.abs((t[d] - t[f]) * (t[p + 1] - t[d + 1]) - (t[d] - t[p]) * (t[f + 1] - t[d + 1])) } return 0 === a && 0 === c ? 0 : Math.abs((c - a) / a) }, n.flatten = function(t) { for (var e = t[0][0].length, i = { vertices: [], holes: [], dimensions: e }, n = 0, r = 0; r < t.length; r++) { for (var o = 0; o < t[r].length; o++)
                                for (var a = 0; a < e; a++) i.vertices.push(t[r][o][a]);
                            r > 0 && (n += t[r - 1].length, i.holes.push(n)) } return i } }, {}],
                3: [function(t, e, i) { "use strict";

                    function n() {}

                    function r(t, e, i) { this.fn = t, this.context = e, this.once = i || !1 }

                    function o() { this._events = new n, this._eventsCount = 0 } var a = Object.prototype.hasOwnProperty,
                        s = "~";
                    Object.create && (n.prototype = Object.create(null), (new n).__proto__ || (s = !1)), o.prototype.eventNames = function() { var t, e, i = []; if (0 === this._eventsCount) return i; for (e in t = this._events) a.call(t, e) && i.push(s ? e.slice(1) : e); return Object.getOwnPropertySymbols ? i.concat(Object.getOwnPropertySymbols(t)) : i }, o.prototype.listeners = function(t, e) { var i = s ? s + t : t,
                            n = this._events[i]; if (e) return !!n; if (!n) return []; if (n.fn) return [n.fn]; for (var r = 0, o = n.length, a = new Array(o); r < o; r++) a[r] = n[r].fn; return a }, o.prototype.emit = function(t, e, i, n, r, o) { var a = s ? s + t : t; if (!this._events[a]) return !1; var h, l, u = this._events[a],
                            c = arguments.length; if (u.fn) { switch (u.once && this.removeListener(t, u.fn, void 0, !0), c) {
                                case 1:
                                    return u.fn.call(u.context), !0;
                                case 2:
                                    return u.fn.call(u.context, e), !0;
                                case 3:
                                    return u.fn.call(u.context, e, i), !0;
                                case 4:
                                    return u.fn.call(u.context, e, i, n), !0;
                                case 5:
                                    return u.fn.call(u.context, e, i, n, r), !0;
                                case 6:
                                    return u.fn.call(u.context, e, i, n, r, o), !0 } for (l = 1, h = new Array(c - 1); l < c; l++) h[l - 1] = arguments[l];
                            u.fn.apply(u.context, h) } else { var d, p = u.length; for (l = 0; l < p; l++) switch (u[l].once && this.removeListener(t, u[l].fn, void 0, !0), c) {
                                case 1:
                                    u[l].fn.call(u[l].context); break;
                                case 2:
                                    u[l].fn.call(u[l].context, e); break;
                                case 3:
                                    u[l].fn.call(u[l].context, e, i); break;
                                case 4:
                                    u[l].fn.call(u[l].context, e, i, n); break;
                                default:
                                    if (!h)
                                        for (d = 1, h = new Array(c - 1); d < c; d++) h[d - 1] = arguments[d];
                                    u[l].fn.apply(u[l].context, h) } } return !0 }, o.prototype.on = function(t, e, i) { var n = new r(e, i || this),
                            o = s ? s + t : t; return this._events[o] ? this._events[o].fn ? this._events[o] = [this._events[o], n] : this._events[o].push(n) : (this._events[o] = n, this._eventsCount++), this }, o.prototype.once = function(t, e, i) { var n = new r(e, i || this, (!0)),
                            o = s ? s + t : t; return this._events[o] ? this._events[o].fn ? this._events[o] = [this._events[o], n] : this._events[o].push(n) : (this._events[o] = n, this._eventsCount++), this }, o.prototype.removeListener = function(t, e, i, r) { var o = s ? s + t : t; if (!this._events[o]) return this; if (!e) return 0 === --this._eventsCount ? this._events = new n : delete this._events[o], this; var a = this._events[o]; if (a.fn) a.fn !== e || r && !a.once || i && a.context !== i || (0 === --this._eventsCount ? this._events = new n : delete this._events[o]);
                        else { for (var h = 0, l = [], u = a.length; h < u; h++)(a[h].fn !== e || r && !a[h].once || i && a[h].context !== i) && l.push(a[h]);
                            l.length ? this._events[o] = 1 === l.length ? l[0] : l : 0 === --this._eventsCount ? this._events = new n : delete this._events[o] } return this }, o.prototype.removeAllListeners = function(t) { var e; return t ? (e = s ? s + t : t, this._events[e] && (0 === --this._eventsCount ? this._events = new n : delete this._events[e])) : (this._events = new n, this._eventsCount = 0), this }, o.prototype.off = o.prototype.removeListener, o.prototype.addListener = o.prototype.on, o.prototype.setMaxListeners = function() { return this }, o.prefixed = s, o.EventEmitter = o, "undefined" != typeof e && (e.exports = o) }, {}],
                4: [function(e, i, n) {! function(e) { var n = /iPhone/i,
                            r = /iPod/i,
                            o = /iPad/i,
                            a = /(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,
                            s = /Android/i,
                            h = /(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,
                            l = /(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,
                            u = /Windows Phone/i,
                            c = /(?=.*\bWindows\b)(?=.*\bARM\b)/i,
                            d = /BlackBerry/i,
                            p = /BB10/i,
                            f = /Opera Mini/i,
                            m = /(CriOS|Chrome)(?=.*\bMobile\b)/i,
                            g = /(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,
                            v = new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)", "i"),
                            y = function(t, e) { return t.test(e) },
                            _ = function(t) { var e = t || navigator.userAgent,
                                    i = e.split("[FBAN"); if ("undefined" != typeof i[1] && (e = i[0]), i = e.split("Twitter"), "undefined" != typeof i[1] && (e = i[0]), this.apple = { phone: y(n, e), ipod: y(r, e), tablet: !y(n, e) && y(o, e), device: y(n, e) || y(r, e) || y(o, e) }, this.amazon = { phone: y(h, e), tablet: !y(h, e) && y(l, e), device: y(h, e) || y(l, e) }, this.android = { phone: y(h, e) || y(a, e), tablet: !y(h, e) && !y(a, e) && (y(l, e) || y(s, e)), device: y(h, e) || y(l, e) || y(a, e) || y(s, e) }, this.windows = { phone: y(u, e), tablet: y(c, e), device: y(u, e) || y(c, e) }, this.other = { blackberry: y(d, e), blackberry10: y(p, e), opera: y(f, e), firefox: y(g, e), chrome: y(m, e), device: y(d, e) || y(p, e) || y(f, e) || y(g, e) || y(m, e) }, this.seven_inch = y(v, e), this.any = this.apple.device || this.android.device || this.windows.device || this.other.device || this.seven_inch, this.phone = this.apple.phone || this.android.phone || this.windows.phone, this.tablet = this.apple.tablet || this.android.tablet || this.windows.tablet, "undefined" == typeof window) return this },
                            b = function() { var t = new _; return t.Class = _, t }; "undefined" != typeof i && i.exports && "undefined" == typeof window ? i.exports = _ : "undefined" != typeof i && i.exports && "undefined" != typeof window ? i.exports = b() : "function" == typeof t && t.amd ? t("isMobile", [], e.isMobile = b()) : e.isMobile = b() }(this) }, {}],
                5: [function(t, e, i) { "use strict";

                    function n(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function r(t, e) { return t._head ? (t._tail._next = e, e._prev = t._tail, t._tail = e) : (t._head = e, t._tail = e), e._owner = t, e } Object.defineProperty(i, "__esModule", { value: !0 }); var o = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        a = function() {
                            function t(e, i, r) { void 0 === i && (i = !1), n(this, t), this._fn = e, this._once = i, this._thisArg = r, this._next = this._prev = this._owner = null } return o(t, [{ key: "detach", value: function() { return null !== this._owner && (this._owner.detach(this), !0) } }]), t }(),
                        s = function() {
                            function t() { n(this, t), this._head = this._tail = void 0 } return o(t, [{ key: "handlers", value: function() { var t = !(arguments.length <= 0 || void 0 === arguments[0]) && arguments[0],
                                        e = this._head; if (t) return !!e; for (var i = []; e;) i.push(e), e = e._next; return i } }, { key: "has", value: function(t) { if (!(t instanceof a)) throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object."); return t._owner === this } }, { key: "dispatch", value: function() { var t = this._head; if (!t) return !1; for (; t;) t._once && this.detach(t), t._fn.apply(t._thisArg, arguments), t = t._next; return !0 } }, { key: "add", value: function(t) { var e = arguments.length <= 1 || void 0 === arguments[1] ? null : arguments[1]; if ("function" != typeof t) throw new Error("MiniSignal#add(): First arg must be a Function."); return r(this, new a(t, (!1), e)) } }, { key: "once", value: function(t) { var e = arguments.length <= 1 || void 0 === arguments[1] ? null : arguments[1]; if ("function" != typeof t) throw new Error("MiniSignal#once(): First arg must be a Function."); return r(this, new a(t, (!0), e)) } }, { key: "detach", value: function(t) { if (!(t instanceof a)) throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object."); return t._owner !== this ? this : (t._prev && (t._prev._next = t._next), t._next && (t._next._prev = t._prev), t === this._head ? (this._head = t._next, null === t._next && (this._tail = null)) : t === this._tail && (this._tail = t._prev, this._tail._next = null), t._owner = null, this) } }, { key: "detachAll", value: function() { var t = this._head; if (!t) return this; for (this._head = this._tail = null; t;) t._owner = null, t = t._next; return this } }]), t }();
                    s.MiniSignalBinding = a, i["default"] = s, e.exports = i["default"] }, {}],
                6: [function(t, e, i) { "use strict";

                    function n(t) { if (null === t || void 0 === t) throw new TypeError("Object.assign cannot be called with null or undefined"); return Object(t) }

                    function r() { try { if (!Object.assign) return !1; var t = new String("abc"); if (t[5] = "de", "5" === Object.getOwnPropertyNames(t)[0]) return !1; for (var e = {}, i = 0; i < 10; i++) e["_" + String.fromCharCode(i)] = i; var n = Object.getOwnPropertyNames(e).map(function(t) { return e[t] }); if ("0123456789" !== n.join("")) return !1; var r = {}; return "abcdefghijklmnopqrst".split("").forEach(function(t) { r[t] = t }), "abcdefghijklmnopqrst" === Object.keys(Object.assign({}, r)).join("") } catch (o) { return !1 } } var o = Object.getOwnPropertySymbols,
                        a = Object.prototype.hasOwnProperty,
                        s = Object.prototype.propertyIsEnumerable;
                    e.exports = r() ? Object.assign : function(t, e) { for (var i, r, h = n(t), l = 1; l < arguments.length; l++) { i = Object(arguments[l]); for (var u in i) a.call(i, u) && (h[u] = i[u]); if (o) { r = o(i); for (var c = 0; c < r.length; c++) s.call(i, r[c]) && (h[r[c]] = i[r[c]]) } } return h } }, {}],
                7: [function(t, e, i) { "use strict";
                    e.exports = function(t, e) { e = e || {}; for (var i = { key: ["source", "protocol", "authority", "userInfo", "user", "password", "host", "port", "relative", "path", "directory", "file", "query", "anchor"], q: { name: "queryKey", parser: /(?:^|&)([^&=]*)=?([^&]*)/g }, parser: { strict: /^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/, loose: /^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/ } }, n = i.parser[e.strictMode ? "strict" : "loose"].exec(t), r = {}, o = 14; o--;) r[i.key[o]] = n[o] || ""; return r[i.q.name] = {}, r[i.key[12]].replace(i.q.parser, function(t, e, n) { e && (r[i.q.name][e] = n) }), r } }, {}],
                8: [function(t, e, i) {
                    (function(t) {
                        function e(t, e) { for (var i = 0, n = t.length - 1; n >= 0; n--) { var r = t[n]; "." === r ? t.splice(n, 1) : ".." === r ? (t.splice(n, 1), i++) : i && (t.splice(n, 1), i--) } if (e)
                                for (; i--; i) t.unshift(".."); return t }

                        function n(t, e) { if (t.filter) return t.filter(e); for (var i = [], n = 0; n < t.length; n++) e(t[n], n, t) && i.push(t[n]); return i } var r = /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,
                            o = function(t) { return r.exec(t).slice(1) };
                        i.resolve = function() { for (var i = "", r = !1, o = arguments.length - 1; o >= -1 && !r; o--) { var a = o >= 0 ? arguments[o] : t.cwd(); if ("string" != typeof a) throw new TypeError("Arguments to path.resolve must be strings");
                                a && (i = a + "/" + i, r = "/" === a.charAt(0)) } return i = e(n(i.split("/"), function(t) { return !!t }), !r).join("/"), (r ? "/" : "") + i || "." }, i.normalize = function(t) { var r = i.isAbsolute(t),
                                o = "/" === a(t, -1); return t = e(n(t.split("/"), function(t) { return !!t }), !r).join("/"), t || r || (t = "."), t && o && (t += "/"), (r ? "/" : "") + t }, i.isAbsolute = function(t) { return "/" === t.charAt(0) }, i.join = function() { var t = Array.prototype.slice.call(arguments, 0); return i.normalize(n(t, function(t, e) { if ("string" != typeof t) throw new TypeError("Arguments to path.join must be strings"); return t }).join("/")) }, i.relative = function(t, e) {
                            function n(t) { for (var e = 0; e < t.length && "" === t[e]; e++); for (var i = t.length - 1; i >= 0 && "" === t[i]; i--); return e > i ? [] : t.slice(e, i - e + 1) } t = i.resolve(t).substr(1), e = i.resolve(e).substr(1); for (var r = n(t.split("/")), o = n(e.split("/")), a = Math.min(r.length, o.length), s = a, h = 0; h < a; h++)
                                if (r[h] !== o[h]) { s = h; break } for (var l = [], h = s; h < r.length; h++) l.push(".."); return l = l.concat(o.slice(s)), l.join("/") }, i.sep = "/", i.delimiter = ":", i.dirname = function(t) { var e = o(t),
                                i = e[0],
                                n = e[1]; return i || n ? (n && (n = n.substr(0, n.length - 1)), i + n) : "." }, i.basename = function(t, e) { var i = o(t)[2]; return e && i.substr(-1 * e.length) === e && (i = i.substr(0, i.length - e.length)), i }, i.extname = function(t) { return o(t)[3] }; var a = "b" === "ab".substr(-1) ? function(t, e, i) { return t.substr(e, i) } : function(t, e, i) { return e < 0 && (e = t.length + e), t.substr(e, i) } }).call(this, t("_process")) }, { _process: 26 }],
                9: [function(t, e, i) { var n = new ArrayBuffer(0),
                        r = function(t, e, i, r) { this.gl = t, this.buffer = t.createBuffer(), this.type = e || t.ARRAY_BUFFER, this.drawType = r || t.STATIC_DRAW, this.data = n, i && this.upload(i), this._updateID = 0 };
                    r.prototype.upload = function(t, e, i) { i || this.bind(); var n = this.gl;
                        t = t || this.data, e = e || 0, this.data.byteLength >= t.byteLength ? n.bufferSubData(this.type, e, t) : n.bufferData(this.type, t, this.drawType), this.data = t }, r.prototype.bind = function() { var t = this.gl;
                        t.bindBuffer(this.type, this.buffer) }, r.createVertexBuffer = function(t, e, i) { return new r(t, t.ARRAY_BUFFER, e, i) }, r.createIndexBuffer = function(t, e, i) { return new r(t, t.ELEMENT_ARRAY_BUFFER, e, i) }, r.create = function(t, e, i, n) { return new r(t, e, i, n) }, r.prototype.destroy = function() { this.gl.deleteBuffer(this.buffer) }, e.exports = r }, {}],
                10: [function(t, e, i) { var n = t("./GLTexture"),
                        r = function(t, e, i) { this.gl = t, this.framebuffer = t.createFramebuffer(), this.stencil = null, this.texture = null, this.width = e || 100, this.height = i || 100 };
                    r.prototype.enableTexture = function(t) { var e = this.gl;
                        this.texture = t || new n(e), this.texture.bind(), this.bind(), e.framebufferTexture2D(e.FRAMEBUFFER, e.COLOR_ATTACHMENT0, e.TEXTURE_2D, this.texture.texture, 0) }, r.prototype.enableStencil = function() { if (!this.stencil) { var t = this.gl;
                            this.stencil = t.createRenderbuffer(), t.bindRenderbuffer(t.RENDERBUFFER, this.stencil), t.framebufferRenderbuffer(t.FRAMEBUFFER, t.DEPTH_STENCIL_ATTACHMENT, t.RENDERBUFFER, this.stencil), t.renderbufferStorage(t.RENDERBUFFER, t.DEPTH_STENCIL, this.width, this.height) } }, r.prototype.clear = function(t, e, i, n) { this.bind(); var r = this.gl;
                        r.clearColor(t, e, i, n), r.clear(r.COLOR_BUFFER_BIT | r.DEPTH_BUFFER_BIT) }, r.prototype.bind = function() { var t = this.gl;
                        t.bindFramebuffer(t.FRAMEBUFFER, this.framebuffer) }, r.prototype.unbind = function() { var t = this.gl;
                        t.bindFramebuffer(t.FRAMEBUFFER, null) }, r.prototype.resize = function(t, e) { var i = this.gl;
                        this.width = t, this.height = e, this.texture && this.texture.uploadData(null, t, e), this.stencil && (i.bindRenderbuffer(i.RENDERBUFFER, this.stencil), i.renderbufferStorage(i.RENDERBUFFER, i.DEPTH_STENCIL, t, e)) }, r.prototype.destroy = function() { var t = this.gl;
                        this.texture && this.texture.destroy(), t.deleteFramebuffer(this.framebuffer), this.gl = null, this.stencil = null, this.texture = null }, r.createRGBA = function(t, e, i, o) { var a = n.fromData(t, null, e, i);
                        a.enableNearestScaling(), a.enableWrapClamp(); var s = new r(t, e, i); return s.enableTexture(a), s.unbind(), s }, r.createFloat32 = function(t, e, i, o) { var a = new n.fromData(t, o, e, i);
                        a.enableNearestScaling(), a.enableWrapClamp(); var s = new r(t, e, i); return s.enableTexture(a), s.unbind(), s }, e.exports = r }, { "./GLTexture": 12 }],
                11: [function(t, e, i) { var n = t("./shader/compileProgram"),
                        r = t("./shader/extractAttributes"),
                        o = t("./shader/extractUniforms"),
                        a = t("./shader/setPrecision"),
                        s = t("./shader/generateUniformAccessObject"),
                        h = function(t, e, i, h, l) { this.gl = t, h && (e = a(e, h), i = a(i, h)), this.program = n(t, e, i, l), this.attributes = r(t, this.program), this.uniformData = o(t, this.program), this.uniforms = s(t, this.uniformData) };
                    h.prototype.bind = function() { return this.gl.useProgram(this.program), this }, h.prototype.destroy = function() { this.attributes = null, this.uniformData = null, this.uniforms = null; var t = this.gl;
                        t.deleteProgram(this.program) }, e.exports = h }, { "./shader/compileProgram": 17, "./shader/extractAttributes": 19, "./shader/extractUniforms": 20, "./shader/generateUniformAccessObject": 21, "./shader/setPrecision": 25 }],
                12: [function(t, e, i) { var n = function(t, e, i, n, r) { this.gl = t, this.texture = t.createTexture(), this.mipmap = !1, this.premultiplyAlpha = !1, this.width = e || -1, this.height = i || -1, this.format = n || t.RGBA, this.type = r || t.UNSIGNED_BYTE };
                    n.prototype.upload = function(t) { this.bind(); var e = this.gl;
                        e.pixelStorei(e.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha); var i = t.videoWidth || t.width,
                            n = t.videoHeight || t.height;
                        n !== this.height || i !== this.width ? e.texImage2D(e.TEXTURE_2D, 0, this.format, this.format, this.type, t) : e.texSubImage2D(e.TEXTURE_2D, 0, 0, 0, this.format, this.type, t), this.width = i, this.height = n }; var r = !1;
                    n.prototype.uploadData = function(t, e, i) { this.bind(); var n = this.gl; if (t instanceof Float32Array) { if (!r) { var o = n.getExtension("OES_texture_float"); if (!o) throw new Error("floating point textures not available");
                                r = !0 } this.type = n.FLOAT } else this.type = this.type || n.UNSIGNED_BYTE;
                        n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this.premultiplyAlpha), e !== this.width || i !== this.height ? n.texImage2D(n.TEXTURE_2D, 0, this.format, e, i, 0, this.format, this.type, t || null) : n.texSubImage2D(n.TEXTURE_2D, 0, 0, 0, e, i, this.format, this.type, t || null), this.width = e, this.height = i }, n.prototype.bind = function(t) { var e = this.gl;
                        void 0 !== t && e.activeTexture(e.TEXTURE0 + t), e.bindTexture(e.TEXTURE_2D, this.texture) }, n.prototype.unbind = function() { var t = this.gl;
                        t.bindTexture(t.TEXTURE_2D, null) }, n.prototype.minFilter = function(t) { var e = this.gl;
                        this.bind(), this.mipmap ? e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, t ? e.LINEAR_MIPMAP_LINEAR : e.NEAREST_MIPMAP_NEAREST) : e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MIN_FILTER, t ? e.LINEAR : e.NEAREST) }, n.prototype.magFilter = function(t) { var e = this.gl;
                        this.bind(), e.texParameteri(e.TEXTURE_2D, e.TEXTURE_MAG_FILTER, t ? e.LINEAR : e.NEAREST) }, n.prototype.enableMipmap = function() { var t = this.gl;
                        this.bind(), this.mipmap = !0, t.generateMipmap(t.TEXTURE_2D) }, n.prototype.enableLinearScaling = function() { this.minFilter(!0), this.magFilter(!0) }, n.prototype.enableNearestScaling = function() { this.minFilter(!1), this.magFilter(!1) }, n.prototype.enableWrapClamp = function() { var t = this.gl;
                        this.bind(), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.CLAMP_TO_EDGE), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.CLAMP_TO_EDGE) }, n.prototype.enableWrapRepeat = function() { var t = this.gl;
                        this.bind(), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.REPEAT), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.REPEAT) }, n.prototype.enableWrapMirrorRepeat = function() { var t = this.gl;
                        this.bind(), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_S, t.MIRRORED_REPEAT), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_WRAP_T, t.MIRRORED_REPEAT) }, n.prototype.destroy = function() { var t = this.gl;
                        t.deleteTexture(this.texture) }, n.fromSource = function(t, e, i) { var r = new n(t); return r.premultiplyAlpha = i || !1, r.upload(e), r }, n.fromData = function(t, e, i, r) { var o = new n(t); return o.uploadData(e, i, r), o }, e.exports = n }, {}],
                13: [function(t, e, i) {
                    function n(t, e) { if (this.nativeVaoExtension = null, n.FORCE_NATIVE || (this.nativeVaoExtension = t.getExtension("OES_vertex_array_object") || t.getExtension("MOZ_OES_vertex_array_object") || t.getExtension("WEBKIT_OES_vertex_array_object")), this.nativeState = e, this.nativeVaoExtension) { this.nativeVao = this.nativeVaoExtension.createVertexArrayOES(); var i = t.getParameter(t.MAX_VERTEX_ATTRIBS);
                            this.nativeState = { tempAttribState: new Array(i), attribState: new Array(i) } } this.gl = t, this.attributes = [], this.indexBuffer = null, this.dirty = !1 } var r = t("./setVertexAttribArrays");
                    n.prototype.constructor = n, e.exports = n, n.FORCE_NATIVE = !1, n.prototype.bind = function() { if (this.nativeVao) { if (this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao), this.dirty) return this.dirty = !1, this.activate(), this;
                            this.indexBuffer && this.indexBuffer.bind() } else this.activate(); return this }, n.prototype.unbind = function() { return this.nativeVao && this.nativeVaoExtension.bindVertexArrayOES(null), this }, n.prototype.activate = function() { for (var t = this.gl, e = null, i = 0; i < this.attributes.length; i++) { var n = this.attributes[i];
                            e !== n.buffer && (n.buffer.bind(), e = n.buffer), t.vertexAttribPointer(n.attribute.location, n.attribute.size, n.type || t.FLOAT, n.normalized || !1, n.stride || 0, n.start || 0) } return r(t, this.attributes, this.nativeState), this.indexBuffer && this.indexBuffer.bind(), this }, n.prototype.addAttribute = function(t, e, i, n, r, o) { return this.attributes.push({ buffer: t, attribute: e, location: e.location, type: i || this.gl.FLOAT, normalized: n || !1, stride: r || 0, start: o || 0 }), this.dirty = !0, this }, n.prototype.addIndex = function(t) { return this.indexBuffer = t, this.dirty = !0, this }, n.prototype.clear = function() { return this.nativeVao && this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao), this.attributes.length = 0, this.indexBuffer = null, this }, n.prototype.draw = function(t, e, i) { var n = this.gl; return this.indexBuffer ? n.drawElements(t, e || this.indexBuffer.data.length, n.UNSIGNED_SHORT, 2 * (i || 0)) : n.drawArrays(t, i, e || this.getSize()), this }, n.prototype.destroy = function() { this.gl = null, this.indexBuffer = null, this.attributes = null, this.nativeState = null, this.nativeVao && this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao), this.nativeVaoExtension = null, this.nativeVao = null }, n.prototype.getSize = function() { var t = this.attributes[0]; return t.buffer.data.length / (t.stride / 4 || t.attribute.size) } }, { "./setVertexAttribArrays": 16 }],
                14: [function(t, e, i) { var n = function(t, e) { var i = t.getContext("webgl", e) || t.getContext("experimental-webgl", e); if (!i) throw new Error("This browser does not support webGL. Try using the canvas renderer"); return i };
                    e.exports = n }, {}],
                15: [function(t, e, i) { var n = { createContext: t("./createContext"), setVertexAttribArrays: t("./setVertexAttribArrays"), GLBuffer: t("./GLBuffer"), GLFramebuffer: t("./GLFramebuffer"), GLShader: t("./GLShader"), GLTexture: t("./GLTexture"), VertexArrayObject: t("./VertexArrayObject"), shader: t("./shader") }; "undefined" != typeof e && e.exports && (e.exports = n), "undefined" != typeof window && (window.PIXI = window.PIXI || {}, window.PIXI.glCore = n) }, { "./GLBuffer": 9, "./GLFramebuffer": 10, "./GLShader": 11, "./GLTexture": 12, "./VertexArrayObject": 13, "./createContext": 14, "./setVertexAttribArrays": 16, "./shader": 22 }],
                16: [function(t, e, i) { var n = function(t, e, i) { var n; if (i) { var r = i.tempAttribState,
                                o = i.attribState; for (n = 0; n < r.length; n++) r[n] = !1; for (n = 0; n < e.length; n++) r[e[n].attribute.location] = !0; for (n = 0; n < o.length; n++) o[n] !== r[n] && (o[n] = r[n], i.attribState[n] ? t.enableVertexAttribArray(n) : t.disableVertexAttribArray(n)) } else
                            for (n = 0; n < e.length; n++) { var a = e[n];
                                t.enableVertexAttribArray(a.attribute.location) } };
                    e.exports = n }, {}],
                17: [function(t, e, i) { var n = function(t, e, i, n) { var o = r(t, t.VERTEX_SHADER, e),
                                a = r(t, t.FRAGMENT_SHADER, i),
                                s = t.createProgram(); if (t.attachShader(s, o), t.attachShader(s, a), n)
                                for (var h in n) t.bindAttribLocation(s, n[h], h); return t.linkProgram(s), t.getProgramParameter(s, t.LINK_STATUS) || ("" !== t.getProgramInfoLog(s), t.deleteProgram(s), s = null), t.deleteShader(o), t.deleteShader(a), s },
                        r = function(t, e, i) { var n = t.createShader(e); return t.shaderSource(n, i), t.compileShader(n), t.getShaderParameter(n, t.COMPILE_STATUS) ? n : null };
                    e.exports = n }, {}],
                18: [function(t, e, i) {
                    var n = function(t, e) { switch (t) {
                                case "float":
                                    return 0;
                                case "vec2":
                                    return new Float32Array(2 * e);
                                case "vec3":
                                    return new Float32Array(3 * e);
                                case "vec4":
                                    return new Float32Array(4 * e);
                                case "int":
                                case "sampler2D":
                                    return 0;
                                case "ivec2":
                                    return new Int32Array(2 * e);
                                case "ivec3":
                                    return new Int32Array(3 * e);
                                case "ivec4":
                                    return new Int32Array(4 * e);
                                case "bool":
                                    return !1;
                                case "bvec2":
                                    return r(2 * e);
                                case "bvec3":
                                    return r(3 * e);
                                case "bvec4":
                                    return r(4 * e);
                                case "mat2":
                                    return new Float32Array([1, 0, 0, 1]);
                                case "mat3":
                                    return new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]);
                                case "mat4":
                                    return new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]) } },
                        r = function(t) { for (var e = new Array(t), i = 0; i < e.length; i++) e[i] = !1; return e };
                    e.exports = n;
                }, {}],
                19: [function(t, e, i) { var n = t("./mapType"),
                        r = t("./mapSize"),
                        o = function(t, e) { for (var i = {}, o = t.getProgramParameter(e, t.ACTIVE_ATTRIBUTES), s = 0; s < o; s++) { var h = t.getActiveAttrib(e, s),
                                    l = n(t, h.type);
                                i[h.name] = { type: l, size: r(l), location: t.getAttribLocation(e, h.name), pointer: a } } return i },
                        a = function(t, e, i, n) { gl.vertexAttribPointer(this.location, this.size, t || gl.FLOAT, e || !1, i || 0, n || 0) };
                    e.exports = o }, { "./mapSize": 23, "./mapType": 24 }],
                20: [function(t, e, i) { var n = t("./mapType"),
                        r = t("./defaultValue"),
                        o = function(t, e) { for (var i = {}, o = t.getProgramParameter(e, t.ACTIVE_UNIFORMS), a = 0; a < o; a++) { var s = t.getActiveUniform(e, a),
                                    h = s.name.replace(/\[.*?\]/, ""),
                                    l = n(t, s.type);
                                i[h] = { type: l, size: s.size, location: t.getUniformLocation(e, h), value: r(l, s.size) } } return i };
                    e.exports = o }, { "./defaultValue": 18, "./mapType": 24 }],
                21: [function(t, e, i) {
                    function n(t, e) { return function(i) { this.data[t].value = i; var n = this.data[t].location;
                            1 === e.size ? s[e.type](this.gl, n, i) : h[e.type](this.gl, n, i) } }

                    function r(t, e) { for (var i = e, n = 0; n < t.length - 1; n++) { var r = i[t[n]] || { data: {} };
                            i[t[n]] = r, i = r } return i } var o = function(t, e) { var i = { data: {} };
                            i.gl = t; for (var o = Object.keys(e), s = 0; s < o.length; s++) { var h = o[s],
                                    l = h.split("."),
                                    u = l[l.length - 1],
                                    c = r(l, i),
                                    d = e[h];
                                c.data[u] = d, c.gl = t, Object.defineProperty(c, u, { get: a(u), set: n(u, d) }) } return i },
                        a = function(t) { return function() { return this.data[t].value } },
                        s = { "float": function(t, e, i) { t.uniform1f(e, i) }, vec2: function(t, e, i) { t.uniform2f(e, i[0], i[1]) }, vec3: function(t, e, i) { t.uniform3f(e, i[0], i[1], i[2]) }, vec4: function(t, e, i) { t.uniform4f(e, i[0], i[1], i[2], i[3]) }, "int": function(t, e, i) { t.uniform1i(e, i) }, ivec2: function(t, e, i) { t.uniform2i(e, i[0], i[1]) }, ivec3: function(t, e, i) { t.uniform3i(e, i[0], i[1], i[2]) }, ivec4: function(t, e, i) { t.uniform4i(e, i[0], i[1], i[2], i[3]) }, bool: function(t, e, i) { t.uniform1i(e, i) }, bvec2: function(t, e, i) { t.uniform2i(e, i[0], i[1]) }, bvec3: function(t, e, i) { t.uniform3i(e, i[0], i[1], i[2]) }, bvec4: function(t, e, i) { t.uniform4i(e, i[0], i[1], i[2], i[3]) }, mat2: function(t, e, i) { t.uniformMatrix2fv(e, !1, i) }, mat3: function(t, e, i) { t.uniformMatrix3fv(e, !1, i) }, mat4: function(t, e, i) { t.uniformMatrix4fv(e, !1, i) }, sampler2D: function(t, e, i) { t.uniform1i(e, i) } },
                        h = { "float": function(t, e, i) { t.uniform1fv(e, i) }, vec2: function(t, e, i) { t.uniform2fv(e, i) }, vec3: function(t, e, i) { t.uniform3fv(e, i) }, vec4: function(t, e, i) { t.uniform4fv(e, i) }, "int": function(t, e, i) { t.uniform1iv(e, i) }, ivec2: function(t, e, i) { t.uniform2iv(e, i) }, ivec3: function(t, e, i) { t.uniform3iv(e, i) }, ivec4: function(t, e, i) { t.uniform4iv(e, i) }, bool: function(t, e, i) { t.uniform1iv(e, i) }, bvec2: function(t, e, i) { t.uniform2iv(e, i) }, bvec3: function(t, e, i) { t.uniform3iv(e, i) }, bvec4: function(t, e, i) { t.uniform4iv(e, i) }, sampler2D: function(t, e, i) { t.uniform1iv(e, i) } };
                    e.exports = o }, {}],
                22: [function(t, e, i) { e.exports = { compileProgram: t("./compileProgram"), defaultValue: t("./defaultValue"), extractAttributes: t("./extractAttributes"), extractUniforms: t("./extractUniforms"), generateUniformAccessObject: t("./generateUniformAccessObject"), setPrecision: t("./setPrecision"), mapSize: t("./mapSize"), mapType: t("./mapType") } }, { "./compileProgram": 17, "./defaultValue": 18, "./extractAttributes": 19, "./extractUniforms": 20, "./generateUniformAccessObject": 21, "./mapSize": 23, "./mapType": 24, "./setPrecision": 25 }],
                23: [function(t, e, i) { var n = function(t) { return r[t] },
                        r = { "float": 1, vec2: 2, vec3: 3, vec4: 4, "int": 1, ivec2: 2, ivec3: 3, ivec4: 4, bool: 1, bvec2: 2, bvec3: 3, bvec4: 4, mat2: 4, mat3: 9, mat4: 16, sampler2D: 1 };
                    e.exports = n }, {}],
                24: [function(t, e, i) { var n = function(t, e) { if (!r) { var i = Object.keys(o);
                                r = {}; for (var n = 0; n < i.length; ++n) { var a = i[n];
                                    r[t[a]] = o[a] } } return r[e] },
                        r = null,
                        o = { FLOAT: "float", FLOAT_VEC2: "vec2", FLOAT_VEC3: "vec3", FLOAT_VEC4: "vec4", INT: "int", INT_VEC2: "ivec2", INT_VEC3: "ivec3", INT_VEC4: "ivec4", BOOL: "bool", BOOL_VEC2: "bvec2", BOOL_VEC3: "bvec3", BOOL_VEC4: "bvec4", FLOAT_MAT2: "mat2", FLOAT_MAT3: "mat3", FLOAT_MAT4: "mat4", SAMPLER_2D: "sampler2D" };
                    e.exports = n }, {}],
                25: [function(t, e, i) { var n = function(t, e) { return "precision" !== t.substring(0, 9) ? "precision " + e + " float;\n" + t : t };
                    e.exports = n }, {}],
                26: [function(t, e, i) {
                    function n() { throw new Error("setTimeout has not been defined") }

                    function r() { throw new Error("clearTimeout has not been defined") }

                    function o(t) { if (c === setTimeout) return setTimeout(t, 0); if ((c === n || !c) && setTimeout) return c = setTimeout, setTimeout(t, 0); try { return c(t, 0) } catch (e) { try { return c.call(null, t, 0) } catch (e) { return c.call(this, t, 0) } } }

                    function a(t) { if (d === clearTimeout) return clearTimeout(t); if ((d === r || !d) && clearTimeout) return d = clearTimeout, clearTimeout(t); try { return d(t) } catch (e) { try { return d.call(null, t) } catch (e) { return d.call(this, t) } } }

                    function s() { g && f && (g = !1, f.length ? m = f.concat(m) : v = -1, m.length && h()) }

                    function h() { if (!g) { var t = o(s);
                            g = !0; for (var e = m.length; e;) { for (f = m, m = []; ++v < e;) f && f[v].run();
                                v = -1, e = m.length } f = null, g = !1, a(t) } }

                    function l(t, e) { this.fun = t, this.array = e }

                    function u() {} var c, d, p = e.exports = {};! function() { try { c = "function" == typeof setTimeout ? setTimeout : n } catch (t) { c = n } try { d = "function" == typeof clearTimeout ? clearTimeout : r } catch (t) { d = r } }(); var f, m = [],
                        g = !1,
                        v = -1;
                    p.nextTick = function(t) { var e = new Array(arguments.length - 1); if (arguments.length > 1)
                            for (var i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
                        m.push(new l(t, e)), 1 !== m.length || g || o(h) }, l.prototype.run = function() { this.fun.apply(null, this.array) }, p.title = "browser", p.browser = !0, p.env = {}, p.argv = [], p.version = "", p.versions = {}, p.on = u, p.addListener = u, p.once = u, p.off = u, p.removeListener = u, p.removeAllListeners = u, p.emit = u, p.prependListener = u, p.prependOnceListener = u, p.listeners = function(t) { return [] }, p.binding = function(t) { throw new Error("process.binding is not supported") }, p.cwd = function() { return "/" }, p.chdir = function(t) { throw new Error("process.chdir is not supported") }, p.umask = function() { return 0 } }, {}],
                27: [function(i, n, r) {
                    (function(e) {! function(i) {
                            function o(t) { throw new RangeError(D[t]) }

                            function a(t, e) { for (var i = t.length, n = []; i--;) n[i] = e(t[i]); return n }

                            function s(t, e) { var i = t.split("@"),
                                    n = "";
                                i.length > 1 && (n = i[0] + "@", t = i[1]), t = t.replace(I, "."); var r = t.split("."),
                                    o = a(r, e).join("."); return n + o }

                            function h(t) { for (var e, i, n = [], r = 0, o = t.length; r < o;) e = t.charCodeAt(r++), e >= 55296 && e <= 56319 && r < o ? (i = t.charCodeAt(r++), 56320 == (64512 & i) ? n.push(((1023 & e) << 10) + (1023 & i) + 65536) : (n.push(e), r--)) : n.push(e); return n }

                            function l(t) { return a(t, function(t) { var e = ""; return t > 65535 && (t -= 65536, e += N(t >>> 10 & 1023 | 55296), t = 56320 | 1023 & t), e += N(t) }).join("") }

                            function u(t) { return t - 48 < 10 ? t - 22 : t - 65 < 26 ? t - 65 : t - 97 < 26 ? t - 97 : T }

                            function c(t, e) { return t + 22 + 75 * (t < 26) - ((0 != e) << 5) }

                            function d(t, e, i) { var n = 0; for (t = i ? B(t / A) : t >> 1, t += B(t / e); t > k * M >> 1; n += T) t = B(t / k); return B(n + (k + 1) * t / (t + E)) }

                            function p(t) { var e, i, n, r, a, s, h, c, p, f, m = [],
                                    g = t.length,
                                    v = 0,
                                    y = R,
                                    _ = C; for (i = t.lastIndexOf(P), i < 0 && (i = 0), n = 0; n < i; ++n) t.charCodeAt(n) >= 128 && o("not-basic"), m.push(t.charCodeAt(n)); for (r = i > 0 ? i + 1 : 0; r < g;) { for (a = v, s = 1, h = T; r >= g && o("invalid-input"), c = u(t.charCodeAt(r++)), (c >= T || c > B((w - v) / s)) && o("overflow"), v += c * s, p = h <= _ ? S : h >= _ + M ? M : h - _, !(c < p); h += T) f = T - p, s > B(w / f) && o("overflow"), s *= f;
                                    e = m.length + 1, _ = d(v - a, e, 0 == a), B(v / e) > w - y && o("overflow"), y += B(v / e), v %= e, m.splice(v++, 0, y) } return l(m) }

                            function f(t) { var e, i, n, r, a, s, l, u, p, f, m, g, v, y, _, b = []; for (t = h(t), g = t.length, e = R, i = 0, a = C, s = 0; s < g; ++s) m = t[s], m < 128 && b.push(N(m)); for (n = r = b.length, r && b.push(P); n < g;) { for (l = w, s = 0; s < g; ++s) m = t[s], m >= e && m < l && (l = m); for (v = n + 1, l - e > B((w - i) / v) && o("overflow"), i += (l - e) * v, e = l, s = 0; s < g; ++s)
                                        if (m = t[s], m < e && ++i > w && o("overflow"), m == e) { for (u = i, p = T; f = p <= a ? S : p >= a + M ? M : p - a, !(u < f); p += T) _ = u - f, y = T - f, b.push(N(c(f + _ % y, 0))), u = B(_ / y);
                                            b.push(N(c(u, 0))), a = d(i, v, n == r), i = 0, ++n }++ i, ++e } return b.join("") }

                            function m(t) { return s(t, function(t) { return O.test(t) ? p(t.slice(4).toLowerCase()) : t }) }

                            function g(t) { return s(t, function(t) { return L.test(t) ? "xn--" + f(t) : t }) } var v = "object" == typeof r && r && !r.nodeType && r,
                                y = "object" == typeof n && n && !n.nodeType && n,
                                _ = "object" == typeof e && e;
                            _.global !== _ && _.window !== _ && _.self !== _ || (i = _); var b, x, w = 2147483647,
                                T = 36,
                                S = 1,
                                M = 26,
                                E = 38,
                                A = 700,
                                C = 72,
                                R = 128,
                                P = "-",
                                O = /^xn--/,
                                L = /[^\x20-\x7E]/,
                                I = /[\x2E\u3002\uFF0E\uFF61]/g,
                                D = { overflow: "Overflow: input needs wider integers to process", "not-basic": "Illegal input >= 0x80 (not a basic code point)", "invalid-input": "Invalid input" },
                                k = T - S,
                                B = Math.floor,
                                N = String.fromCharCode; if (b = { version: "1.4.1", ucs2: { decode: h, encode: l }, decode: p, encode: f, toASCII: g, toUnicode: m }, "function" == typeof t && "object" == typeof t.amd && t.amd) t("punycode", function() { return b });
                            else if (v && y)
                                if (n.exports == v) y.exports = b;
                                else
                                    for (x in b) b.hasOwnProperty(x) && (v[x] = b[x]);
                            else i.punycode = b }(this) }).call(this, "undefined" != typeof e ? e : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}) }, {}],
                28: [function(t, e, i) { "use strict";

                    function n(t, e) { return Object.prototype.hasOwnProperty.call(t, e) } e.exports = function(t, e, i, o) { e = e || "&", i = i || "="; var a = {}; if ("string" != typeof t || 0 === t.length) return a; var s = /\+/g;
                        t = t.split(e); var h = 1e3;
                        o && "number" == typeof o.maxKeys && (h = o.maxKeys); var l = t.length;
                        h > 0 && l > h && (l = h); for (var u = 0; u < l; ++u) { var c, d, p, f, m = t[u].replace(s, "%20"),
                                g = m.indexOf(i);
                            g >= 0 ? (c = m.substr(0, g), d = m.substr(g + 1)) : (c = m, d = ""), p = decodeURIComponent(c), f = decodeURIComponent(d), n(a, p) ? r(a[p]) ? a[p].push(f) : a[p] = [a[p], f] : a[p] = f } return a }; var r = Array.isArray || function(t) { return "[object Array]" === Object.prototype.toString.call(t) } }, {}],
                29: [function(t, e, i) { "use strict";

                    function n(t, e) { if (t.map) return t.map(e); for (var i = [], n = 0; n < t.length; n++) i.push(e(t[n], n)); return i } var r = function(t) { switch (typeof t) {
                            case "string":
                                return t;
                            case "boolean":
                                return t ? "true" : "false";
                            case "number":
                                return isFinite(t) ? t : "";
                            default:
                                return "" } };
                    e.exports = function(t, e, i, s) { return e = e || "&", i = i || "=", null === t && (t = void 0), "object" == typeof t ? n(a(t), function(a) { var s = encodeURIComponent(r(a)) + i; return o(t[a]) ? n(t[a], function(t) { return s + encodeURIComponent(r(t)) }).join(e) : s + encodeURIComponent(r(t[a])) }).join(e) : s ? encodeURIComponent(r(s)) + i + encodeURIComponent(r(t)) : "" }; var o = Array.isArray || function(t) { return "[object Array]" === Object.prototype.toString.call(t) },
                        a = Object.keys || function(t) { var e = []; for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && e.push(i); return e } }, {}],
                30: [function(t, e, i) { "use strict";
                    i.decode = i.parse = t("./decode"), i.encode = i.stringify = t("./encode") }, { "./decode": 28, "./encode": 29 }],
                31: [function(t, e, i) { "use strict";
                    e.exports = function(t, e, i) { var n, r = t.length; if (!(e >= r || 0 === i)) { i = e + i > r ? r - e : i; var o = r - i; for (n = e; n < o; ++n) t[n] = t[n + i];
                            t.length = o } } }, {}],
                32: [function(t, e, i) { "use strict";

                    function n(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function r(t) { return t && t.__esModule ? t : { "default": t } }

                    function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) { return typeof t } : function(t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t },
                        s = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        h = t("mini-signals"),
                        l = r(h),
                        u = t("parse-uri"),
                        c = r(u),
                        d = t("./async"),
                        p = n(d),
                        f = t("./Resource"),
                        m = r(f),
                        g = 100,
                        v = /(#[\w-]+)?$/,
                        y = function() {
                            function t() { var e = this,
                                    i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : "",
                                    n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 10;
                                o(this, t), this.baseUrl = i, this.progress = 0, this.loading = !1, this.defaultQueryString = "", this._beforeMiddleware = [], this._afterMiddleware = [], this._resourcesParsing = [], this._boundLoadResource = function(t, i) { return e._loadResource(t, i) }, this._queue = p.queue(this._boundLoadResource, n), this._queue.pause(), this.resources = {}, this.onProgress = new l["default"], this.onError = new l["default"], this.onLoad = new l["default"], this.onStart = new l["default"], this.onComplete = new l["default"] } return t.prototype.add = function(t, e, i, n) { if (Array.isArray(t)) { for (var r = 0; r < t.length; ++r) this.add(t[r]); return this } if ("object" === ("undefined" == typeof t ? "undefined" : a(t)) && (n = e || t.callback || t.onComplete, i = t, e = t.url, t = t.name || t.key || t.url), "string" != typeof e && (n = i, i = e, e = t), "string" != typeof e) throw new Error("No url passed to add resource to loader."); if ("function" == typeof i && (n = i, i = null), this.loading && (!i || !i.parentResource)) throw new Error("Cannot add resources while the loader is running."); if (this.resources[t]) throw new Error('Resource named "' + t + '" already exists.'); if (e = this._prepareUrl(e), this.resources[t] = new m["default"](t, e, i), "function" == typeof n && this.resources[t].onAfterMiddleware.once(n), this.loading) { for (var o = i.parentResource, s = [], h = 0; h < o.children.length; ++h) o.children[h].isComplete || s.push(o.children[h]); var l = o.progressChunk * (s.length + 1),
                                        u = l / (s.length + 2);
                                    o.children.push(this.resources[t]), o.progressChunk = u; for (var c = 0; c < s.length; ++c) s[c].progressChunk = u;
                                    this.resources[t].progressChunk = u } return this._queue.push(this.resources[t]), this }, t.prototype.pre = function(t) { return this._beforeMiddleware.push(t), this }, t.prototype.use = function(t) { return this._afterMiddleware.push(t), this }, t.prototype.reset = function() { this.progress = 0, this.loading = !1, this._queue.kill(), this._queue.pause(); for (var t in this.resources) { var e = this.resources[t];
                                    e._onLoadBinding && e._onLoadBinding.detach(), e.isLoading && e.abort() } return this.resources = {}, this }, t.prototype.load = function(t) { if ("function" == typeof t && this.onComplete.once(t), this.loading) return this; if (this._queue.idle()) this._onStart(), this._onComplete();
                                else { for (var e = this._queue._tasks.length, i = 100 / e, n = 0; n < this._queue._tasks.length; ++n) this._queue._tasks[n].data.progressChunk = i;
                                    this._onStart(), this._queue.resume() } return this }, t.prototype._prepareUrl = function(t) { var e = (0, c["default"])(t, { strictMode: !0 }),
                                    i = void 0; if (i = e.protocol || !e.path || 0 === t.indexOf("//") ? t : this.baseUrl.length && this.baseUrl.lastIndexOf("/") !== this.baseUrl.length - 1 && "/" !== t.charAt(0) ? this.baseUrl + "/" + t : this.baseUrl + t, this.defaultQueryString) { var n = v.exec(i)[0];
                                    i = i.substr(0, i.length - n.length), i += i.indexOf("?") !== -1 ? "&" + this.defaultQueryString : "?" + this.defaultQueryString, i += n } return i }, t.prototype._loadResource = function(t, e) { var i = this;
                                t._dequeue = e, p.eachSeries(this._beforeMiddleware, function(e, n) { e.call(i, t, function() { n(t.isComplete ? {} : null) }) }, function() { t.isComplete ? i._onLoad(t) : (t._onLoadBinding = t.onComplete.once(i._onLoad, i), t.load()) }, !0) }, t.prototype._onStart = function() { this.progress = 0, this.loading = !0, this.onStart.dispatch(this) }, t.prototype._onComplete = function() { this.progress = g, this.loading = !1, this.onComplete.dispatch(this, this.resources) }, t.prototype._onLoad = function(t) { var e = this;
                                t._onLoadBinding = null, this._resourcesParsing.push(t), t._dequeue(), p.eachSeries(this._afterMiddleware, function(i, n) { i.call(e, t, n) }, function() { t.onAfterMiddleware.dispatch(t), e.progress += t.progressChunk, e.onProgress.dispatch(e, t), t.error ? e.onError.dispatch(t.error, e, t) : e.onLoad.dispatch(e, t), e._resourcesParsing.splice(e._resourcesParsing.indexOf(t), 1), e._queue.idle() && 0 === e._resourcesParsing.length && e._onComplete() }, !0) }, s(t, [{ key: "concurrency", get: function() { return this._queue.concurrency }, set: function(t) { this._queue.concurrency = t } }]), t }();
                    i["default"] = y }, { "./Resource": 33, "./async": 34, "mini-signals": 5, "parse-uri": 7 }],
                33: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o() {}

                    function a(t, e, i) { e && 0 === e.indexOf(".") && (e = e.substring(1)), e && (t[e] = i) }

                    function s(t) { return t.toString().replace("object ", "") } i.__esModule = !0; var h = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        l = t("parse-uri"),
                        u = n(l),
                        c = t("mini-signals"),
                        d = n(c),
                        p = !(!window.XDomainRequest || "withCredentials" in new XMLHttpRequest),
                        f = null,
                        m = 0,
                        g = 200,
                        v = 204,
                        y = 1223,
                        _ = 2,
                        b = function() {
                            function t(e, i, n) { if (r(this, t), "string" != typeof e || "string" != typeof i) throw new Error("Both name and url are required for constructing a resource.");
                                n = n || {}, this._flags = 0, this._setFlag(t.STATUS_FLAGS.DATA_URL, 0 === i.indexOf("data:")), this.name = e, this.url = i, this.extension = this._getExtension(), this.data = null, this.crossOrigin = n.crossOrigin === !0 ? "anonymous" : n.crossOrigin, this.loadType = n.loadType || this._determineLoadType(), this.xhrType = n.xhrType, this.metadata = n.metadata || {}, this.error = null, this.xhr = null, this.children = [], this.type = t.TYPE.UNKNOWN, this.progressChunk = 0, this._dequeue = o, this._onLoadBinding = null, this._boundComplete = this.complete.bind(this), this._boundOnError = this._onError.bind(this), this._boundOnProgress = this._onProgress.bind(this), this._boundXhrOnError = this._xhrOnError.bind(this), this._boundXhrOnAbort = this._xhrOnAbort.bind(this), this._boundXhrOnLoad = this._xhrOnLoad.bind(this), this._boundXdrOnTimeout = this._xdrOnTimeout.bind(this), this.onStart = new d["default"], this.onProgress = new d["default"], this.onComplete = new d["default"], this.onAfterMiddleware = new d["default"] } return t.setExtensionLoadType = function(e, i) { a(t._loadTypeMap, e, i) }, t.setExtensionXhrType = function(e, i) { a(t._xhrTypeMap, e, i) }, t.prototype.complete = function() { if (this.data && this.data.removeEventListener && (this.data.removeEventListener("error", this._boundOnError, !1), this.data.removeEventListener("load", this._boundComplete, !1), this.data.removeEventListener("progress", this._boundOnProgress, !1), this.data.removeEventListener("canplaythrough", this._boundComplete, !1)), this.xhr && (this.xhr.removeEventListener ? (this.xhr.removeEventListener("error", this._boundXhrOnError, !1), this.xhr.removeEventListener("abort", this._boundXhrOnAbort, !1), this.xhr.removeEventListener("progress", this._boundOnProgress, !1), this.xhr.removeEventListener("load", this._boundXhrOnLoad, !1)) : (this.xhr.onerror = null, this.xhr.ontimeout = null, this.xhr.onprogress = null, this.xhr.onload = null)), this.isComplete) throw new Error("Complete called again for an already completed resource.");
                                this._setFlag(t.STATUS_FLAGS.COMPLETE, !0), this._setFlag(t.STATUS_FLAGS.LOADING, !1), this.onComplete.dispatch(this) }, t.prototype.abort = function(e) { if (!this.error) { if (this.error = new Error(e), this.xhr) this.xhr.abort();
                                    else if (this.xdr) this.xdr.abort();
                                    else if (this.data)
                                        if (this.data.src) this.data.src = t.EMPTY_GIF;
                                        else
                                            for (; this.data.firstChild;) this.data.removeChild(this.data.firstChild);
                                    this.complete() } }, t.prototype.load = function(e) { var i = this; if (!this.isLoading) { if (this.isComplete) return void(e && setTimeout(function() { return e(i) }, 1)); switch (e && this.onComplete.once(e), this._setFlag(t.STATUS_FLAGS.LOADING, !0), this.onStart.dispatch(this), this.crossOrigin !== !1 && "string" == typeof this.crossOrigin || (this.crossOrigin = this._determineCrossOrigin(this.url)), this.loadType) {
                                        case t.LOAD_TYPE.IMAGE:
                                            this.type = t.TYPE.IMAGE, this._loadElement("image"); break;
                                        case t.LOAD_TYPE.AUDIO:
                                            this.type = t.TYPE.AUDIO, this._loadSourceElement("audio"); break;
                                        case t.LOAD_TYPE.VIDEO:
                                            this.type = t.TYPE.VIDEO, this._loadSourceElement("video"); break;
                                        case t.LOAD_TYPE.XHR:
                                        default:
                                            p && this.crossOrigin ? this._loadXdr() : this._loadXhr() } } }, t.prototype._hasFlag = function(t) { return !!(this._flags & t) }, t.prototype._setFlag = function(t, e) { this._flags = e ? this._flags | t : this._flags & ~t }, t.prototype._loadElement = function(t) { this.metadata.loadElement ? this.data = this.metadata.loadElement : "image" === t && "undefined" != typeof window.Image ? this.data = new Image : this.data = document.createElement(t), this.crossOrigin && (this.data.crossOrigin = this.crossOrigin), this.metadata.skipSource || (this.data.src = this.url), this.data.addEventListener("error", this._boundOnError, !1), this.data.addEventListener("load", this._boundComplete, !1), this.data.addEventListener("progress", this._boundOnProgress, !1) }, t.prototype._loadSourceElement = function(t) { if (this.metadata.loadElement ? this.data = this.metadata.loadElement : "audio" === t && "undefined" != typeof window.Audio ? this.data = new Audio : this.data = document.createElement(t), null === this.data) return void this.abort("Unsupported element: " + t); if (!this.metadata.skipSource)
                                    if (navigator.isCocoonJS) this.data.src = Array.isArray(this.url) ? this.url[0] : this.url;
                                    else if (Array.isArray(this.url))
                                    for (var e = this.metadata.mimeType, i = 0; i < this.url.length; ++i) this.data.appendChild(this._createSource(t, this.url[i], Array.isArray(e) ? e[i] : e));
                                else { var n = this.metadata.mimeType;
                                    this.data.appendChild(this._createSource(t, this.url, Array.isArray(n) ? n[0] : n)) } this.data.addEventListener("error", this._boundOnError, !1), this.data.addEventListener("load", this._boundComplete, !1), this.data.addEventListener("progress", this._boundOnProgress, !1), this.data.addEventListener("canplaythrough", this._boundComplete, !1), this.data.load() }, t.prototype._loadXhr = function() { "string" != typeof this.xhrType && (this.xhrType = this._determineXhrType()); var e = this.xhr = new XMLHttpRequest;
                                e.open("GET", this.url, !0), this.xhrType === t.XHR_RESPONSE_TYPE.JSON || this.xhrType === t.XHR_RESPONSE_TYPE.DOCUMENT ? e.responseType = t.XHR_RESPONSE_TYPE.TEXT : e.responseType = this.xhrType, e.addEventListener("error", this._boundXhrOnError, !1), e.addEventListener("abort", this._boundXhrOnAbort, !1), e.addEventListener("progress", this._boundOnProgress, !1), e.addEventListener("load", this._boundXhrOnLoad, !1), e.send() }, t.prototype._loadXdr = function() { "string" != typeof this.xhrType && (this.xhrType = this._determineXhrType()); var t = this.xhr = new XDomainRequest;
                                t.timeout = 5e3, t.onerror = this._boundXhrOnError, t.ontimeout = this._boundXdrOnTimeout, t.onprogress = this._boundOnProgress, t.onload = this._boundXhrOnLoad, t.open("GET", this.url, !0), setTimeout(function() { return t.send() }, 1) }, t.prototype._createSource = function(t, e, i) { i || (i = t + "/" + this._getExtension(e)); var n = document.createElement("source"); return n.src = e, n.type = i, n }, t.prototype._onError = function(t) { this.abort("Failed to load element using: " + t.target.nodeName) }, t.prototype._onProgress = function(t) { t && t.lengthComputable && this.onProgress.dispatch(this, t.loaded / t.total) }, t.prototype._xhrOnError = function() { var t = this.xhr;
                                this.abort(s(t) + " Request failed. Status: " + t.status + ', text: "' + t.statusText + '"') }, t.prototype._xhrOnAbort = function() { this.abort(s(this.xhr) + " Request was aborted by the user.") }, t.prototype._xdrOnTimeout = function() { this.abort(s(this.xhr) + " Request timed out.") }, t.prototype._xhrOnLoad = function() { var e = this.xhr,
                                    i = "",
                                    n = "undefined" == typeof e.status ? g : e.status; "" !== e.responseType && "text" !== e.responseType && "undefined" != typeof e.responseType || (i = e.responseText), n === m && (i.length > 0 || e.responseType === t.XHR_RESPONSE_TYPE.BUFFER) ? n = g : n === y && (n = v); var r = n / 100 | 0; if (r !== _) return void this.abort("[" + e.status + "] " + e.statusText + ": " + e.responseURL); if (this.xhrType === t.XHR_RESPONSE_TYPE.TEXT) this.data = i, this.type = t.TYPE.TEXT;
                                else if (this.xhrType === t.XHR_RESPONSE_TYPE.JSON) try { this.data = JSON.parse(i), this.type = t.TYPE.JSON } catch (o) { return void this.abort("Error trying to parse loaded json: " + o) } else if (this.xhrType === t.XHR_RESPONSE_TYPE.DOCUMENT) try { if (window.DOMParser) { var a = new DOMParser;
                                        this.data = a.parseFromString(i, "text/xml") } else { var s = document.createElement("div");
                                        s.innerHTML = i, this.data = s } this.type = t.TYPE.XML } catch (o) { return void this.abort("Error trying to parse loaded xml: " + o) } else this.data = e.response || i;
                                this.complete() }, t.prototype._determineCrossOrigin = function(t, e) { if (0 === t.indexOf("data:")) return "";
                                e = e || window.location, f || (f = document.createElement("a")), f.href = t, t = (0, u["default"])(f.href, { strictMode: !0 }); var i = !t.port && "" === e.port || t.port === e.port,
                                    n = t.protocol ? t.protocol + ":" : ""; return t.host === e.hostname && i && n === e.protocol ? "" : "anonymous" }, t.prototype._determineXhrType = function() { return t._xhrTypeMap[this.extension] || t.XHR_RESPONSE_TYPE.TEXT }, t.prototype._determineLoadType = function() { return t._loadTypeMap[this.extension] || t.LOAD_TYPE.XHR }, t.prototype._getExtension = function() { var t = this.url,
                                    e = ""; if (this.isDataUrl) { var i = t.indexOf("/");
                                    e = t.substring(i + 1, t.indexOf(";", i)) } else { var n = t.indexOf("?"),
                                        r = t.indexOf("#"),
                                        o = Math.min(n > -1 ? n : t.length, r > -1 ? r : t.length);
                                    t = t.substring(0, o), e = t.substring(t.lastIndexOf(".") + 1) } return e.toLowerCase() }, t.prototype._getMimeFromXhrType = function(e) { switch (e) {
                                    case t.XHR_RESPONSE_TYPE.BUFFER:
                                        return "application/octet-binary";
                                    case t.XHR_RESPONSE_TYPE.BLOB:
                                        return "application/blob";
                                    case t.XHR_RESPONSE_TYPE.DOCUMENT:
                                        return "application/xml";
                                    case t.XHR_RESPONSE_TYPE.JSON:
                                        return "application/json";
                                    case t.XHR_RESPONSE_TYPE.DEFAULT:
                                    case t.XHR_RESPONSE_TYPE.TEXT:
                                    default:
                                        return "text/plain" } }, h(t, [{ key: "isDataUrl", get: function() { return this._hasFlag(t.STATUS_FLAGS.DATA_URL) } }, { key: "isComplete", get: function() { return this._hasFlag(t.STATUS_FLAGS.COMPLETE) } }, { key: "isLoading", get: function() { return this._hasFlag(t.STATUS_FLAGS.LOADING) } }]), t }();
                    i["default"] = b, b.STATUS_FLAGS = { NONE: 0, DATA_URL: 1, COMPLETE: 2, LOADING: 4 }, b.TYPE = { UNKNOWN: 0, JSON: 1, XML: 2, IMAGE: 3, AUDIO: 4, VIDEO: 5, TEXT: 6 }, b.LOAD_TYPE = { XHR: 1, IMAGE: 2, AUDIO: 3, VIDEO: 4 }, b.XHR_RESPONSE_TYPE = { DEFAULT: "text", BUFFER: "arraybuffer", BLOB: "blob", DOCUMENT: "document", JSON: "json", TEXT: "text" }, b._loadTypeMap = { gif: b.LOAD_TYPE.IMAGE, png: b.LOAD_TYPE.IMAGE, bmp: b.LOAD_TYPE.IMAGE, jpg: b.LOAD_TYPE.IMAGE, jpeg: b.LOAD_TYPE.IMAGE, tif: b.LOAD_TYPE.IMAGE, tiff: b.LOAD_TYPE.IMAGE, webp: b.LOAD_TYPE.IMAGE, tga: b.LOAD_TYPE.IMAGE, svg: b.LOAD_TYPE.IMAGE, "svg+xml": b.LOAD_TYPE.IMAGE, mp3: b.LOAD_TYPE.AUDIO, ogg: b.LOAD_TYPE.AUDIO, wav: b.LOAD_TYPE.AUDIO, mp4: b.LOAD_TYPE.VIDEO, webm: b.LOAD_TYPE.VIDEO }, b._xhrTypeMap = { xhtml: b.XHR_RESPONSE_TYPE.DOCUMENT, html: b.XHR_RESPONSE_TYPE.DOCUMENT, htm: b.XHR_RESPONSE_TYPE.DOCUMENT, xml: b.XHR_RESPONSE_TYPE.DOCUMENT, tmx: b.XHR_RESPONSE_TYPE.DOCUMENT, svg: b.XHR_RESPONSE_TYPE.DOCUMENT, tsx: b.XHR_RESPONSE_TYPE.DOCUMENT, gif: b.XHR_RESPONSE_TYPE.BLOB, png: b.XHR_RESPONSE_TYPE.BLOB, bmp: b.XHR_RESPONSE_TYPE.BLOB, jpg: b.XHR_RESPONSE_TYPE.BLOB, jpeg: b.XHR_RESPONSE_TYPE.BLOB, tif: b.XHR_RESPONSE_TYPE.BLOB, tiff: b.XHR_RESPONSE_TYPE.BLOB, webp: b.XHR_RESPONSE_TYPE.BLOB, tga: b.XHR_RESPONSE_TYPE.BLOB, json: b.XHR_RESPONSE_TYPE.JSON, text: b.XHR_RESPONSE_TYPE.TEXT, txt: b.XHR_RESPONSE_TYPE.TEXT, ttf: b.XHR_RESPONSE_TYPE.BUFFER, otf: b.XHR_RESPONSE_TYPE.BUFFER }, b.EMPTY_GIF = "data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==" }, { "mini-signals": 5, "parse-uri": 7 }],
                34: [function(t, e, i) { "use strict";

                    function n() {}

                    function r(t, e, i, n) { var r = 0,
                            o = t.length;! function a(s) { return s || r === o ? void(i && i(s)) : void(n ? setTimeout(function() { e(t[r++], a) }, 1) : e(t[r++], a)) }() }

                    function o(t) { return function() { if (null === t) throw new Error("Callback was already called."); var e = t;
                            t = null, e.apply(this, arguments) } }

                    function a(t, e) {
                        function i(t, e, i) { if (null != i && "function" != typeof i) throw new Error("task callback must be a function"); if (s.started = !0, null == t && s.idle()) return void setTimeout(function() { return s.drain() }, 1); var r = { data: t, callback: "function" == typeof i ? i : n };
                            e ? s._tasks.unshift(r) : s._tasks.push(r), setTimeout(function() { return s.process() }, 1) }

                        function r(t) { return function() { a -= 1, t.callback.apply(t, arguments), null != arguments[0] && s.error(arguments[0], t.data), a <= s.concurrency - s.buffer && s.unsaturated(), s.idle() && s.drain(), s.process() } } if (null == e) e = 1;
                        else if (0 === e) throw new Error("Concurrency must not be zero"); var a = 0,
                            s = { _tasks: [], concurrency: e, saturated: n, unsaturated: n, buffer: e / 4, empty: n, drain: n, error: n, started: !1, paused: !1, push: function(t, e) { i(t, !1, e) }, kill: function() { a = 0, s.drain = n, s.started = !1, s._tasks = [] }, unshift: function(t, e) { i(t, !0, e) }, process: function() { for (; !s.paused && a < s.concurrency && s._tasks.length;) { var e = s._tasks.shift();
                                        0 === s._tasks.length && s.empty(), a += 1, a === s.concurrency && s.saturated(), t(e.data, o(r(e))) } }, length: function() { return s._tasks.length }, running: function() { return a }, idle: function() { return s._tasks.length + a === 0 }, pause: function() { s.paused !== !0 && (s.paused = !0) }, resume: function() { if (s.paused !== !1) { s.paused = !1; for (var t = 1; t <= s.concurrency; t++) s.process() } } }; return s } i.__esModule = !0, i.eachSeries = r, i.queue = a }, {}],
                35: [function(t, e, i) { "use strict";

                    function n(t) { for (var e = "", i = 0; i < t.length;) { for (var n = [0, 0, 0], o = [0, 0, 0, 0], a = 0; a < n.length; ++a) i < t.length ? n[a] = 255 & t.charCodeAt(i++) : n[a] = 0;
                            o[0] = n[0] >> 2, o[1] = (3 & n[0]) << 4 | n[1] >> 4, o[2] = (15 & n[1]) << 2 | n[2] >> 6, o[3] = 63 & n[2]; var s = i - (t.length - 1); switch (s) {
                                case 2:
                                    o[3] = 64, o[2] = 64; break;
                                case 1:
                                    o[3] = 64 } for (var h = 0; h < o.length; ++h) e += r.charAt(o[h]) } return e } i.__esModule = !0, i.encodeBinary = n; var r = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=" }, {}],
                36: [function(t, e, i) { "use strict"; var n = t("./Loader")["default"],
                        r = t("./Resource")["default"],
                        o = t("./async"),
                        a = t("./b64");
                    n.Resource = r, n.async = o, n.base64 = a, e.exports = n, e.exports["default"] = n }, { "./Loader": 32, "./Resource": 33, "./async": 34, "./b64": 35 }],
                37: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r() { return function(t, e) { if (!t.data) return void e(); if (t.xhr && t.xhrType === s["default"].XHR_RESPONSE_TYPE.BLOB)
                                if (window.Blob && "string" != typeof t.data) { if (0 === t.data.type.indexOf("image")) { var i = function() { var i = u.createObjectURL(t.data); return t.blob = t.data, t.data = new Image, t.data.src = i, t.type = s["default"].TYPE.IMAGE, t.data.onload = function() { u.revokeObjectURL(i), t.data.onload = null, e() }, { v: void 0 } }(); if ("object" === ("undefined" == typeof i ? "undefined" : o(i))) return i.v } } else { var n = t.xhr.getResponseHeader("content-type"); if (n && 0 === n.indexOf("image")) return t.data = new Image, t.data.src = "data:" + n + ";base64," + l["default"].encodeBinary(t.xhr.responseText), t.type = s["default"].TYPE.IMAGE, void(t.data.onload = function() { t.data.onload = null, e() }) } e() } } i.__esModule = !0; var o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) { return typeof t } : function(t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t };
                    i.blobMiddlewareFactory = r; var a = t("../../Resource"),
                        s = n(a),
                        h = t("../../b64"),
                        l = n(h),
                        u = window.URL || window.webkitURL }, { "../../Resource": 33, "../../b64": 35 }],
                38: [function(t, e, i) {
                    "use strict";

                    function n() { this.protocol = null, this.slashes = null, this.auth = null, this.host = null, this.port = null, this.hostname = null, this.hash = null, this.search = null, this.query = null, this.pathname = null, this.path = null, this.href = null }

                    function r(t, e, i) { if (t && l.isObject(t) && t instanceof n) return t; var r = new n; return r.parse(t, e, i), r }

                    function o(t) { return l.isString(t) && (t = r(t)), t instanceof n ? t.format() : n.prototype.format.call(t) }

                    function a(t, e) { return r(t, !1, !0).resolve(e) }

                    function s(t, e) { return t ? r(t, !1, !0).resolveObject(e) : e }
                    var h = t("punycode"),
                        l = t("./util");
                    i.parse = r, i.resolve = a, i.resolveObject = s, i.format = o, i.Url = n;
                    var u = /^([a-z0-9.+-]+:)/i,
                        c = /:[0-9]*$/,
                        d = /^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,
                        p = ["<", ">", '"', "`", " ", "\r", "\n", "\t"],
                        f = ["{", "}", "|", "\\", "^", "`"].concat(p),
                        m = ["'"].concat(f),
                        g = ["%", "/", "?", ";", "#"].concat(m),
                        v = ["/", "?", "#"],
                        y = 255,
                        _ = /^[+a-z0-9A-Z_-]{0,63}$/,
                        b = /^([+a-z0-9A-Z_-]{0,63})(.*)$/,
                        x = { javascript: !0, "javascript:": !0 },
                        w = { javascript: !0, "javascript:": !0 },
                        T = { http: !0, https: !0, ftp: !0, gopher: !0, file: !0, "http:": !0, "https:": !0, "ftp:": !0, "gopher:": !0, "file:": !0 },
                        S = t("querystring");
                    n.prototype.parse = function(t, e, i) {
                        if (!l.isString(t)) throw new TypeError("Parameter 'url' must be a string, not " + typeof t);
                        var n = t.indexOf("?"),
                            r = n !== -1 && n < t.indexOf("#") ? "?" : "#",
                            o = t.split(r),
                            a = /\\/g;
                        o[0] = o[0].replace(a, "/"), t = o.join(r);
                        var s = t;
                        if (s = s.trim(), !i && 1 === t.split("#").length) { var c = d.exec(s); if (c) return this.path = s, this.href = s, this.pathname = c[1], c[2] ? (this.search = c[2], e ? this.query = S.parse(this.search.substr(1)) : this.query = this.search.substr(1)) : e && (this.search = "", this.query = {}), this }
                        var p = u.exec(s);
                        if (p) { p = p[0]; var f = p.toLowerCase();
                            this.protocol = f, s = s.substr(p.length) }
                        if (i || p || s.match(/^\/\/[^@\/]+@[^@\/]+/)) { var M = "//" === s.substr(0, 2);!M || p && w[p] || (s = s.substr(2), this.slashes = !0) }
                        if (!w[p] && (M || p && !T[p])) {
                            for (var E = -1, A = 0; A < v.length; A++) { var C = s.indexOf(v[A]);
                                C !== -1 && (E === -1 || C < E) && (E = C) }
                            var R, P;
                            P = E === -1 ? s.lastIndexOf("@") : s.lastIndexOf("@", E), P !== -1 && (R = s.slice(0, P), s = s.slice(P + 1), this.auth = decodeURIComponent(R)), E = -1;
                            for (var A = 0; A < g.length; A++) { var C = s.indexOf(g[A]);
                                C !== -1 && (E === -1 || C < E) && (E = C) } E === -1 && (E = s.length), this.host = s.slice(0, E), s = s.slice(E), this.parseHost(), this.hostname = this.hostname || "";
                            var O = "[" === this.hostname[0] && "]" === this.hostname[this.hostname.length - 1];
                            if (!O)
                                for (var L = this.hostname.split(/\./), A = 0, I = L.length; A < I; A++) {
                                    var D = L[A];
                                    if (D && !D.match(_)) { for (var k = "", B = 0, N = D.length; B < N; B++) k += D.charCodeAt(B) > 127 ? "x" : D[B]; if (!k.match(_)) { var F = L.slice(0, A),
                                                U = L.slice(A + 1),
                                                G = D.match(b);
                                            G && (F.push(G[1]), U.unshift(G[2])), U.length && (s = "/" + U.join(".") + s), this.hostname = F.join("."); break } }
                                }
                            this.hostname.length > y ? this.hostname = "" : this.hostname = this.hostname.toLowerCase(), O || (this.hostname = h.toASCII(this.hostname));
                            var j = this.port ? ":" + this.port : "",
                                z = this.hostname || "";
                            this.host = z + j, this.href += this.host, O && (this.hostname = this.hostname.substr(1, this.hostname.length - 2), "/" !== s[0] && (s = "/" + s))
                        }
                        if (!x[f])
                            for (var A = 0, I = m.length; A < I; A++) { var V = m[A]; if (s.indexOf(V) !== -1) { var H = encodeURIComponent(V);
                                    H === V && (H = escape(V)), s = s.split(V).join(H) } }
                        var W = s.indexOf("#");
                        W !== -1 && (this.hash = s.substr(W), s = s.slice(0, W));
                        var X = s.indexOf("?");
                        if (X !== -1 ? (this.search = s.substr(X), this.query = s.substr(X + 1), e && (this.query = S.parse(this.query)), s = s.slice(0, X)) : e && (this.search = "", this.query = {}), s && (this.pathname = s), T[f] && this.hostname && !this.pathname && (this.pathname = "/"), this.pathname || this.search) { var j = this.pathname || "",
                                Y = this.search || "";
                            this.path = j + Y }
                        return this.href = this.format(), this
                    }, n.prototype.format = function() { var t = this.auth || "";
                        t && (t = encodeURIComponent(t), t = t.replace(/%3A/i, ":"), t += "@"); var e = this.protocol || "",
                            i = this.pathname || "",
                            n = this.hash || "",
                            r = !1,
                            o = "";
                        this.host ? r = t + this.host : this.hostname && (r = t + (this.hostname.indexOf(":") === -1 ? this.hostname : "[" + this.hostname + "]"), this.port && (r += ":" + this.port)), this.query && l.isObject(this.query) && Object.keys(this.query).length && (o = S.stringify(this.query)); var a = this.search || o && "?" + o || ""; return e && ":" !== e.substr(-1) && (e += ":"), this.slashes || (!e || T[e]) && r !== !1 ? (r = "//" + (r || ""), i && "/" !== i.charAt(0) && (i = "/" + i)) : r || (r = ""), n && "#" !== n.charAt(0) && (n = "#" + n), a && "?" !== a.charAt(0) && (a = "?" + a), i = i.replace(/[?#]/g, function(t) { return encodeURIComponent(t) }), a = a.replace("#", "%23"), e + r + i + a + n }, n.prototype.resolve = function(t) { return this.resolveObject(r(t, !1, !0)).format() }, n.prototype.resolveObject = function(t) { if (l.isString(t)) { var e = new n;
                            e.parse(t, !1, !0), t = e } for (var i = new n, r = Object.keys(this), o = 0; o < r.length; o++) { var a = r[o];
                            i[a] = this[a] } if (i.hash = t.hash, "" === t.href) return i.href = i.format(), i; if (t.slashes && !t.protocol) { for (var s = Object.keys(t), h = 0; h < s.length; h++) { var u = s[h]; "protocol" !== u && (i[u] = t[u]) } return T[i.protocol] && i.hostname && !i.pathname && (i.path = i.pathname = "/"), i.href = i.format(), i } if (t.protocol && t.protocol !== i.protocol) { if (!T[t.protocol]) { for (var c = Object.keys(t), d = 0; d < c.length; d++) { var p = c[d];
                                    i[p] = t[p] } return i.href = i.format(), i } if (i.protocol = t.protocol, t.host || w[t.protocol]) i.pathname = t.pathname;
                            else { for (var f = (t.pathname || "").split("/"); f.length && !(t.host = f.shift()););
                                t.host || (t.host = ""), t.hostname || (t.hostname = ""), "" !== f[0] && f.unshift(""), f.length < 2 && f.unshift(""), i.pathname = f.join("/") } if (i.search = t.search, i.query = t.query, i.host = t.host || "", i.auth = t.auth, i.hostname = t.hostname || t.host, i.port = t.port, i.pathname || i.search) { var m = i.pathname || "",
                                    g = i.search || "";
                                i.path = m + g } return i.slashes = i.slashes || t.slashes, i.href = i.format(), i } var v = i.pathname && "/" === i.pathname.charAt(0),
                            y = t.host || t.pathname && "/" === t.pathname.charAt(0),
                            _ = y || v || i.host && t.pathname,
                            b = _,
                            x = i.pathname && i.pathname.split("/") || [],
                            f = t.pathname && t.pathname.split("/") || [],
                            S = i.protocol && !T[i.protocol]; if (S && (i.hostname = "", i.port = null, i.host && ("" === x[0] ? x[0] = i.host : x.unshift(i.host)), i.host = "", t.protocol && (t.hostname = null, t.port = null, t.host && ("" === f[0] ? f[0] = t.host : f.unshift(t.host)), t.host = null), _ = _ && ("" === f[0] || "" === x[0])), y) i.host = t.host || "" === t.host ? t.host : i.host, i.hostname = t.hostname || "" === t.hostname ? t.hostname : i.hostname, i.search = t.search, i.query = t.query, x = f;
                        else if (f.length) x || (x = []), x.pop(), x = x.concat(f), i.search = t.search, i.query = t.query;
                        else if (!l.isNullOrUndefined(t.search)) { if (S) { i.hostname = i.host = x.shift(); var M = !!(i.host && i.host.indexOf("@") > 0) && i.host.split("@");
                                M && (i.auth = M.shift(), i.host = i.hostname = M.shift()) } return i.search = t.search, i.query = t.query, l.isNull(i.pathname) && l.isNull(i.search) || (i.path = (i.pathname ? i.pathname : "") + (i.search ? i.search : "")), i.href = i.format(), i } if (!x.length) return i.pathname = null, i.search ? i.path = "/" + i.search : i.path = null, i.href = i.format(), i; for (var E = x.slice(-1)[0], A = (i.host || t.host || x.length > 1) && ("." === E || ".." === E) || "" === E, C = 0, R = x.length; R >= 0; R--) E = x[R], "." === E ? x.splice(R, 1) : ".." === E ? (x.splice(R, 1), C++) : C && (x.splice(R, 1), C--); if (!_ && !b)
                            for (; C--; C) x.unshift("..");!_ || "" === x[0] || x[0] && "/" === x[0].charAt(0) || x.unshift(""), A && "/" !== x.join("/").substr(-1) && x.push(""); var P = "" === x[0] || x[0] && "/" === x[0].charAt(0); if (S) { i.hostname = i.host = P ? "" : x.length ? x.shift() : ""; var M = !!(i.host && i.host.indexOf("@") > 0) && i.host.split("@");
                            M && (i.auth = M.shift(), i.host = i.hostname = M.shift()) } return _ = _ || i.host && x.length, _ && !P && x.unshift(""), x.length ? i.pathname = x.join("/") : (i.pathname = null, i.path = null), l.isNull(i.pathname) && l.isNull(i.search) || (i.path = (i.pathname ? i.pathname : "") + (i.search ? i.search : "")), i.auth = t.auth || i.auth, i.slashes = i.slashes || t.slashes, i.href = i.format(), i }, n.prototype.parseHost = function() { var t = this.host,
                            e = c.exec(t);
                        e && (e = e[0], ":" !== e && (this.port = e.substr(1)), t = t.substr(0, t.length - e.length)), t && (this.hostname = t) }
                }, { "./util": 39, punycode: 27, querystring: 30 }],
                39: [function(t, e, i) { "use strict";
                    e.exports = { isString: function(t) { return "string" == typeof t }, isObject: function(t) { return "object" == typeof t && null !== t }, isNull: function(t) { return null === t }, isNullOrUndefined: function(t) { return null == t } } }, {}],
                40: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var a = t("../core"),
                        s = r(a),
                        h = t("ismobilejs"),
                        l = n(h),
                        u = t("./accessibleTarget"),
                        c = n(u);
                    s.utils.mixins.delayMixin(s.DisplayObject.prototype, c["default"]); var d = 9,
                        p = 100,
                        f = 0,
                        m = 0,
                        g = 2,
                        v = 1,
                        y = -1e3,
                        _ = -1e3,
                        b = 2,
                        x = function() {
                            function t(e) { o(this, t), !l["default"].tablet && !l["default"].phone || navigator.isCocoonJS || this.createTouchHook(); var i = document.createElement("div");
                                i.style.width = p + "px", i.style.height = p + "px", i.style.position = "absolute", i.style.top = f + "px", i.style.left = m + "px", i.style.zIndex = g, this.div = i, this.pool = [], this.renderId = 0, this.debug = !1, this.renderer = e, this.children = [], this._onKeyDown = this._onKeyDown.bind(this), this._onMouseMove = this._onMouseMove.bind(this), this.isActive = !1, this.isMobileAccessabillity = !1, window.addEventListener("keydown", this._onKeyDown, !1) } return t.prototype.createTouchHook = function() { var t = this,
                                    e = document.createElement("button");
                                e.style.width = v + "px", e.style.height = v + "px", e.style.position = "absolute", e.style.top = y + "px", e.style.left = _ + "px", e.style.zIndex = b, e.style.backgroundColor = "#FF0000", e.title = "HOOK DIV", e.addEventListener("focus", function() { t.isMobileAccessabillity = !0, t.activate(), document.body.removeChild(e) }), document.body.appendChild(e) }, t.prototype.activate = function() { this.isActive || (this.isActive = !0, window.document.addEventListener("mousemove", this._onMouseMove, !0), window.removeEventListener("keydown", this._onKeyDown, !1), this.renderer.on("postrender", this.update, this), this.renderer.view.parentNode && this.renderer.view.parentNode.appendChild(this.div)) }, t.prototype.deactivate = function() { this.isActive && !this.isMobileAccessabillity && (this.isActive = !1, window.document.removeEventListener("mousemove", this._onMouseMove), window.addEventListener("keydown", this._onKeyDown, !1), this.renderer.off("postrender", this.update), this.div.parentNode && this.div.parentNode.removeChild(this.div)) }, t.prototype.updateAccessibleObjects = function(t) { if (t.visible) { t.accessible && t.interactive && (t._accessibleActive || this.addChild(t), t.renderId = this.renderId); for (var e = t.children, i = e.length - 1; i >= 0; i--) this.updateAccessibleObjects(e[i]) } }, t.prototype.update = function() { if (this.renderer.renderingToScreen) { this.updateAccessibleObjects(this.renderer._lastObjectRendered); var t = this.renderer.view.getBoundingClientRect(),
                                        e = t.width / this.renderer.width,
                                        i = t.height / this.renderer.height,
                                        n = this.div;
                                    n.style.left = t.left + "px", n.style.top = t.top + "px", n.style.width = this.renderer.width + "px", n.style.height = this.renderer.height + "px"; for (var r = 0; r < this.children.length; r++) { var o = this.children[r]; if (o.renderId !== this.renderId) o._accessibleActive = !1, s.utils.removeItems(this.children, r, 1), this.div.removeChild(o._accessibleDiv), this.pool.push(o._accessibleDiv), o._accessibleDiv = null, r--, 0 === this.children.length && this.deactivate();
                                        else { n = o._accessibleDiv; var a = o.hitArea,
                                                h = o.worldTransform;
                                            o.hitArea ? (n.style.left = (h.tx + a.x * h.a) * e + "px", n.style.top = (h.ty + a.y * h.d) * i + "px", n.style.width = a.width * h.a * e + "px", n.style.height = a.height * h.d * i + "px") : (a = o.getBounds(), this.capHitArea(a), n.style.left = a.x * e + "px", n.style.top = a.y * i + "px", n.style.width = a.width * e + "px", n.style.height = a.height * i + "px") } } this.renderId++ } }, t.prototype.capHitArea = function(t) { t.x < 0 && (t.width += t.x, t.x = 0), t.y < 0 && (t.height += t.y, t.y = 0), t.x + t.width > this.renderer.width && (t.width = this.renderer.width - t.x), t.y + t.height > this.renderer.height && (t.height = this.renderer.height - t.y) }, t.prototype.addChild = function(t) { var e = this.pool.pop();
                                e || (e = document.createElement("button"), e.style.width = p + "px", e.style.height = p + "px", e.style.backgroundColor = this.debug ? "rgba(255,0,0,0.5)" : "transparent", e.style.position = "absolute", e.style.zIndex = g, e.style.borderStyle = "none", e.addEventListener("click", this._onClick.bind(this)), e.addEventListener("focus", this._onFocus.bind(this)), e.addEventListener("focusout", this._onFocusOut.bind(this))), t.accessibleTitle ? e.title = t.accessibleTitle : t.accessibleTitle || t.accessibleHint || (e.title = "displayObject " + this.tabIndex), t.accessibleHint && e.setAttribute("aria-label", t.accessibleHint), t._accessibleActive = !0, t._accessibleDiv = e, e.displayObject = t, this.children.push(t), this.div.appendChild(t._accessibleDiv), t._accessibleDiv.tabIndex = t.tabIndex }, t.prototype._onClick = function(t) { var e = this.renderer.plugins.interaction;
                                e.dispatchEvent(t.target.displayObject, "click", e.eventData) }, t.prototype._onFocus = function(t) { var e = this.renderer.plugins.interaction;
                                e.dispatchEvent(t.target.displayObject, "mouseover", e.eventData) }, t.prototype._onFocusOut = function(t) { var e = this.renderer.plugins.interaction;
                                e.dispatchEvent(t.target.displayObject, "mouseout", e.eventData) }, t.prototype._onKeyDown = function(t) { t.keyCode === d && this.activate() }, t.prototype._onMouseMove = function() { this.deactivate() }, t.prototype.destroy = function() { this.div = null; for (var t = 0; t < this.children.length; t++) this.children[t].div = null;
                                window.document.removeEventListener("mousemove", this._onMouseMove), window.removeEventListener("keydown", this._onKeyDown), this.pool = null, this.children = null, this.renderer = null }, t }();
                    i["default"] = x, s.WebGLRenderer.registerPlugin("accessibility", x), s.CanvasRenderer.registerPlugin("accessibility", x) }, { "../core": 65, "./accessibleTarget": 41, ismobilejs: 4 }],
                41: [function(t, e, i) { "use strict";
                    i.__esModule = !0, i["default"] = { accessible: !1, accessibleTitle: null, accessibleHint: null, tabIndex: 0, _accessibleActive: !1, _accessibleDiv: !1 } }, {}],
                42: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } } i.__esModule = !0; var r = t("./accessibleTarget");
                    Object.defineProperty(i, "accessibleTarget", { enumerable: !0, get: function() { return n(r)["default"] } }); var o = t("./AccessibilityManager");
                    Object.defineProperty(i, "AccessibilityManager", { enumerable: !0, get: function() { return n(o)["default"] } }) }, { "./AccessibilityManager": 40, "./accessibleTarget": 41 }],
                43: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var o = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        a = t("./autoDetectRenderer"),
                        s = t("./display/Container"),
                        h = n(s),
                        l = t("./ticker"),
                        u = t("./settings"),
                        c = n(u),
                        d = t("./const"),
                        p = function() {
                            function t(e, i, n, o, s) { r(this, t), "number" == typeof e && (e = Object.assign({ width: e, height: i || c["default"].RENDER_OPTIONS.height, forceCanvas: !!o, sharedTicker: !!s }, n)), this._options = e = Object.assign({ autoStart: !0, sharedTicker: !1, forceCanvas: !1, sharedLoader: !1 }, e), this.renderer = (0, a.autoDetectRenderer)(e), this.stage = new h["default"], this._ticker = null, this.ticker = e.sharedTicker ? l.shared : new l.Ticker, e.autoStart && this.start() } return t.prototype.render = function() { this.renderer.render(this.stage) }, t.prototype.stop = function() { this._ticker.stop() }, t.prototype.start = function() { this._ticker.start() }, t.prototype.destroy = function(t) { if (this._ticker) { var e = this._ticker;
                                    this.ticker = null, e.destroy() } this.stage.destroy(), this.stage = null, this.renderer.destroy(t), this.renderer = null, this._options = null }, o(t, [{ key: "ticker", set: function(t) { this._ticker && this._ticker.remove(this.render, this), this._ticker = t, t && t.add(this.render, this, d.UPDATE_PRIORITY.LOW) }, get: function() { return this._ticker } }, { key: "view", get: function() { return this.renderer.view } }, { key: "screen", get: function() { return this.renderer.screen } }]), t }();
                    i["default"] = p }, { "./autoDetectRenderer": 45, "./const": 46, "./display/Container": 48, "./settings": 101, "./ticker": 121 }],
                44: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }

                    function s(t, e) { if (t instanceof Array) { if ("precision" !== t[0].substring(0, 9)) { var i = t.slice(0); return i.unshift("precision " + e + " float;"), i } } else if ("precision" !== t.trim().substring(0, 9)) return "precision " + e + " float;\n" + t; return t } i.__esModule = !0; var h = t("pixi-gl-core"),
                        l = t("./settings"),
                        u = n(l),
                        c = function(t) {
                            function e(i, n, a, h, l) { return r(this, e), o(this, t.call(this, i, s(n, l || u["default"].PRECISION_VERTEX), s(a, l || u["default"].PRECISION_FRAGMENT), void 0, h)) } return a(e, t), e }(h.GLShader);
                    i["default"] = c }, { "./settings": 101, "pixi-gl-core": 15 }],
                45: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function o(t, e, i, n) { var r = t && t.forceCanvas; return void 0 !== n && (r = n), !r && s.isWebGLSupported() ? new c["default"](t, e, i) : new l["default"](t, e, i) } i.__esModule = !0, i.autoDetectRenderer = o; var a = t("./utils"),
                        s = r(a),
                        h = t("./renderers/canvas/CanvasRenderer"),
                        l = n(h),
                        u = t("./renderers/webgl/WebGLRenderer"),
                        c = n(u) }, { "./renderers/canvas/CanvasRenderer": 77, "./renderers/webgl/WebGLRenderer": 84, "./utils": 125 }],
                46: [function(t, e, i) { "use strict";
                    i.__esModule = !0;
                    i.VERSION = "4.7.3", i.PI_2 = 2 * Math.PI, i.RAD_TO_DEG = 180 / Math.PI, i.DEG_TO_RAD = Math.PI / 180, i.RENDERER_TYPE = { UNKNOWN: 0, WEBGL: 1, CANVAS: 2 }, i.BLEND_MODES = { NORMAL: 0, ADD: 1, MULTIPLY: 2, SCREEN: 3, OVERLAY: 4, DARKEN: 5, LIGHTEN: 6, COLOR_DODGE: 7, COLOR_BURN: 8, HARD_LIGHT: 9, SOFT_LIGHT: 10, DIFFERENCE: 11, EXCLUSION: 12, HUE: 13, SATURATION: 14, COLOR: 15, LUMINOSITY: 16, NORMAL_NPM: 17, ADD_NPM: 18, SCREEN_NPM: 19 }, i.DRAW_MODES = { POINTS: 0, LINES: 1, LINE_LOOP: 2, LINE_STRIP: 3, TRIANGLES: 4, TRIANGLE_STRIP: 5, TRIANGLE_FAN: 6 }, i.SCALE_MODES = { LINEAR: 0, NEAREST: 1 }, i.WRAP_MODES = { CLAMP: 0, REPEAT: 1, MIRRORED_REPEAT: 2 }, i.GC_MODES = { AUTO: 0, MANUAL: 1 }, i.URL_FILE_EXTENSION = /\.(\w{3,4})(?:$|\?|#)/i, i.DATA_URI = /^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i, i.SVG_SIZE = /<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i, i.SHAPES = { POLY: 0, RECT: 1, CIRC: 2, ELIP: 3, RREC: 4 }, i.PRECISION = { LOW: "lowp", MEDIUM: "mediump", HIGH: "highp" }, i.TRANSFORM_MODE = { STATIC: 0, DYNAMIC: 1 }, i.TEXT_GRADIENT = { LINEAR_VERTICAL: 0, LINEAR_HORIZONTAL: 1 }, i.UPDATE_PRIORITY = { INTERACTION: 50, HIGH: 25, NORMAL: 0, LOW: -25, UTILITY: -50 } }, {}],
                47: [function(t, e, i) { "use strict";

                    function n(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var r = t("../math"),
                        o = function() {
                            function t() { n(this, t), this.minX = 1 / 0, this.minY = 1 / 0, this.maxX = -(1 / 0), this.maxY = -(1 / 0), this.rect = null } return t.prototype.isEmpty = function() { return this.minX > this.maxX || this.minY > this.maxY }, t.prototype.clear = function() { this.updateID++, this.minX = 1 / 0, this.minY = 1 / 0, this.maxX = -(1 / 0), this.maxY = -(1 / 0) }, t.prototype.getRectangle = function(t) { return this.minX > this.maxX || this.minY > this.maxY ? r.Rectangle.EMPTY : (t = t || new r.Rectangle(0, 0, 1, 1), t.x = this.minX, t.y = this.minY, t.width = this.maxX - this.minX, t.height = this.maxY - this.minY, t) }, t.prototype.addPoint = function(t) { this.minX = Math.min(this.minX, t.x), this.maxX = Math.max(this.maxX, t.x), this.minY = Math.min(this.minY, t.y), this.maxY = Math.max(this.maxY, t.y) }, t.prototype.addQuad = function(t) { var e = this.minX,
                                    i = this.minY,
                                    n = this.maxX,
                                    r = this.maxY,
                                    o = t[0],
                                    a = t[1];
                                e = o < e ? o : e, i = a < i ? a : i, n = o > n ? o : n, r = a > r ? a : r, o = t[2], a = t[3], e = o < e ? o : e, i = a < i ? a : i, n = o > n ? o : n, r = a > r ? a : r, o = t[4], a = t[5], e = o < e ? o : e, i = a < i ? a : i, n = o > n ? o : n, r = a > r ? a : r, o = t[6], a = t[7], e = o < e ? o : e, i = a < i ? a : i, n = o > n ? o : n, r = a > r ? a : r, this.minX = e, this.minY = i, this.maxX = n, this.maxY = r }, t.prototype.addFrame = function(t, e, i, n, r) { var o = t.worldTransform,
                                    a = o.a,
                                    s = o.b,
                                    h = o.c,
                                    l = o.d,
                                    u = o.tx,
                                    c = o.ty,
                                    d = this.minX,
                                    p = this.minY,
                                    f = this.maxX,
                                    m = this.maxY,
                                    g = a * e + h * i + u,
                                    v = s * e + l * i + c;
                                d = g < d ? g : d, p = v < p ? v : p, f = g > f ? g : f, m = v > m ? v : m, g = a * n + h * i + u, v = s * n + l * i + c, d = g < d ? g : d, p = v < p ? v : p, f = g > f ? g : f, m = v > m ? v : m, g = a * e + h * r + u, v = s * e + l * r + c, d = g < d ? g : d, p = v < p ? v : p, f = g > f ? g : f, m = v > m ? v : m, g = a * n + h * r + u, v = s * n + l * r + c, d = g < d ? g : d, p = v < p ? v : p, f = g > f ? g : f, m = v > m ? v : m, this.minX = d, this.minY = p, this.maxX = f, this.maxY = m }, t.prototype.addVertices = function(t, e, i, n) { for (var r = t.worldTransform, o = r.a, a = r.b, s = r.c, h = r.d, l = r.tx, u = r.ty, c = this.minX, d = this.minY, p = this.maxX, f = this.maxY, m = i; m < n; m += 2) { var g = e[m],
                                        v = e[m + 1],
                                        y = o * g + s * v + l,
                                        _ = h * v + a * g + u;
                                    c = y < c ? y : c, d = _ < d ? _ : d, p = y > p ? y : p, f = _ > f ? _ : f } this.minX = c, this.minY = d, this.maxX = p, this.maxY = f }, t.prototype.addBounds = function(t) { var e = this.minX,
                                    i = this.minY,
                                    n = this.maxX,
                                    r = this.maxY;
                                this.minX = t.minX < e ? t.minX : e, this.minY = t.minY < i ? t.minY : i, this.maxX = t.maxX > n ? t.maxX : n, this.maxY = t.maxY > r ? t.maxY : r }, t.prototype.addBoundsMask = function(t, e) { var i = t.minX > e.minX ? t.minX : e.minX,
                                    n = t.minY > e.minY ? t.minY : e.minY,
                                    r = t.maxX < e.maxX ? t.maxX : e.maxX,
                                    o = t.maxY < e.maxY ? t.maxY : e.maxY; if (i <= r && n <= o) { var a = this.minX,
                                        s = this.minY,
                                        h = this.maxX,
                                        l = this.maxY;
                                    this.minX = i < a ? i : a, this.minY = n < s ? n : s, this.maxX = r > h ? r : h, this.maxY = o > l ? o : l } }, t.prototype.addBoundsArea = function(t, e) { var i = t.minX > e.x ? t.minX : e.x,
                                    n = t.minY > e.y ? t.minY : e.y,
                                    r = t.maxX < e.x + e.width ? t.maxX : e.x + e.width,
                                    o = t.maxY < e.y + e.height ? t.maxY : e.y + e.height; if (i <= r && n <= o) { var a = this.minX,
                                        s = this.minY,
                                        h = this.maxX,
                                        l = this.maxY;
                                    this.minX = i < a ? i : a, this.minY = n < s ? n : s, this.maxX = r > h ? r : h, this.maxY = o > l ? o : l } }, t }();
                    i["default"] = o }, { "../math": 70 }],
                48: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var s = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        h = t("../utils"),
                        l = t("./DisplayObject"),
                        u = n(l),
                        c = function(t) {
                            function e() { r(this, e); var i = o(this, t.call(this)); return i.children = [], i } return a(e, t), e.prototype.onChildrenChange = function() {}, e.prototype.addChild = function(t) { var e = arguments.length; if (e > 1)
                                    for (var i = 0; i < e; i++) this.addChild(arguments[i]);
                                else t.parent && t.parent.removeChild(t), t.parent = this, t.transform._parentID = -1, this.children.push(t), this._boundsID++, this.onChildrenChange(this.children.length - 1), t.emit("added", this); return t }, e.prototype.addChildAt = function(t, e) { if (e < 0 || e > this.children.length) throw new Error(t + "addChildAt: The index " + e + " supplied is out of bounds " + this.children.length); return t.parent && t.parent.removeChild(t), t.parent = this, t.transform._parentID = -1, this.children.splice(e, 0, t), this._boundsID++, this.onChildrenChange(e), t.emit("added", this), t }, e.prototype.swapChildren = function(t, e) { if (t !== e) { var i = this.getChildIndex(t),
                                        n = this.getChildIndex(e);
                                    this.children[i] = e, this.children[n] = t, this.onChildrenChange(i < n ? i : n) } }, e.prototype.getChildIndex = function(t) { var e = this.children.indexOf(t); if (e === -1) throw new Error("The supplied DisplayObject must be a child of the caller"); return e }, e.prototype.setChildIndex = function(t, e) { if (e < 0 || e >= this.children.length) throw new Error("The index " + e + " supplied is out of bounds " + this.children.length); var i = this.getChildIndex(t);
                                (0, h.removeItems)(this.children, i, 1), this.children.splice(e, 0, t), this.onChildrenChange(e) }, e.prototype.getChildAt = function(t) { if (t < 0 || t >= this.children.length) throw new Error("getChildAt: Index (" + t + ") does not exist."); return this.children[t] }, e.prototype.removeChild = function(t) { var e = arguments.length; if (e > 1)
                                    for (var i = 0; i < e; i++) this.removeChild(arguments[i]);
                                else { var n = this.children.indexOf(t); if (n === -1) return null;
                                    t.parent = null, t.transform._parentID = -1, (0, h.removeItems)(this.children, n, 1), this._boundsID++, this.onChildrenChange(n), t.emit("removed", this) } return t }, e.prototype.removeChildAt = function(t) { var e = this.getChildAt(t); return e.parent = null, e.transform._parentID = -1, (0, h.removeItems)(this.children, t, 1), this._boundsID++, this.onChildrenChange(t), e.emit("removed", this), e }, e.prototype.removeChildren = function() { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                                    e = arguments[1],
                                    i = t,
                                    n = "number" == typeof e ? e : this.children.length,
                                    r = n - i,
                                    o = void 0; if (r > 0 && r <= n) { o = this.children.splice(i, r); for (var a = 0; a < o.length; ++a) o[a].parent = null, o[a].transform && (o[a].transform._parentID = -1);
                                    this._boundsID++, this.onChildrenChange(t); for (var s = 0; s < o.length; ++s) o[s].emit("removed", this); return o } if (0 === r && 0 === this.children.length) return []; throw new RangeError("removeChildren: numeric values are outside the acceptable range.") }, e.prototype.updateTransform = function() { this._boundsID++, this.transform.updateTransform(this.parent.transform), this.worldAlpha = this.alpha * this.parent.worldAlpha; for (var t = 0, e = this.children.length; t < e; ++t) { var i = this.children[t];
                                    i.visible && i.updateTransform() } }, e.prototype.calculateBounds = function() { this._bounds.clear(), this._calculateBounds(); for (var t = 0; t < this.children.length; t++) { var e = this.children[t];
                                    e.visible && e.renderable && (e.calculateBounds(), e._mask ? (e._mask.calculateBounds(), this._bounds.addBoundsMask(e._bounds, e._mask._bounds)) : e.filterArea ? this._bounds.addBoundsArea(e._bounds, e.filterArea) : this._bounds.addBounds(e._bounds)) } this._lastBoundsID = this._boundsID }, e.prototype._calculateBounds = function() {}, e.prototype.renderWebGL = function(t) { if (this.visible && !(this.worldAlpha <= 0) && this.renderable)
                                    if (this._mask || this._filters) this.renderAdvancedWebGL(t);
                                    else { this._renderWebGL(t); for (var e = 0, i = this.children.length; e < i; ++e) this.children[e].renderWebGL(t) } }, e.prototype.renderAdvancedWebGL = function(t) { t.flush(); var e = this._filters,
                                    i = this._mask; if (e) { this._enabledFilters || (this._enabledFilters = []), this._enabledFilters.length = 0; for (var n = 0; n < e.length; n++) e[n].enabled && this._enabledFilters.push(e[n]);
                                    this._enabledFilters.length && t.filterManager.pushFilter(this, this._enabledFilters) } i && t.maskManager.pushMask(this, this._mask), this._renderWebGL(t); for (var r = 0, o = this.children.length; r < o; r++) this.children[r].renderWebGL(t);
                                t.flush(), i && t.maskManager.popMask(this, this._mask), e && this._enabledFilters && this._enabledFilters.length && t.filterManager.popFilter() }, e.prototype._renderWebGL = function(t) {}, e.prototype._renderCanvas = function(t) {}, e.prototype.renderCanvas = function(t) { if (this.visible && !(this.worldAlpha <= 0) && this.renderable) { this._mask && t.maskManager.pushMask(this._mask), this._renderCanvas(t); for (var e = 0, i = this.children.length; e < i; ++e) this.children[e].renderCanvas(t);
                                    this._mask && t.maskManager.popMask(t) } }, e.prototype.destroy = function(e) { t.prototype.destroy.call(this); var i = "boolean" == typeof e ? e : e && e.children,
                                    n = this.removeChildren(0, this.children.length); if (i)
                                    for (var r = 0; r < n.length; ++r) n[r].destroy(e) }, s(e, [{ key: "width", get: function() { return this.scale.x * this.getLocalBounds().width }, set: function(t) { var e = this.getLocalBounds().width;
                                    0 !== e ? this.scale.x = t / e : this.scale.x = 1, this._width = t } }, { key: "height", get: function() { return this.scale.y * this.getLocalBounds().height }, set: function(t) { var e = this.getLocalBounds().height;
                                    0 !== e ? this.scale.y = t / e : this.scale.y = 1, this._height = t } }]), e }(u["default"]);
                    i["default"] = c, c.prototype.containerUpdateTransform = c.prototype.updateTransform }, { "../utils": 125, "./DisplayObject": 49 }],
                49: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var s = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        h = t("eventemitter3"),
                        l = n(h),
                        u = t("../const"),
                        c = t("../settings"),
                        d = n(c),
                        p = t("./TransformStatic"),
                        f = n(p),
                        m = t("./Transform"),
                        g = n(m),
                        v = t("./Bounds"),
                        y = n(v),
                        _ = t("../math"),
                        b = function(t) {
                            function e() { r(this, e); var i = o(this, t.call(this)),
                                    n = d["default"].TRANSFORM_MODE === u.TRANSFORM_MODE.STATIC ? f["default"] : g["default"]; return i.tempDisplayObjectParent = null, i.transform = new n, i.alpha = 1, i.visible = !0, i.renderable = !0, i.parent = null, i.worldAlpha = 1, i.filterArea = null, i._filters = null, i._enabledFilters = null, i._bounds = new y["default"], i._boundsID = 0, i._lastBoundsID = -1, i._boundsRect = null, i._localBoundsRect = null, i._mask = null, i._destroyed = !1, i } return a(e, t), e.prototype.updateTransform = function() { this.transform.updateTransform(this.parent.transform), this.worldAlpha = this.alpha * this.parent.worldAlpha, this._bounds.updateID++ }, e.prototype._recursivePostUpdateTransform = function() { this.parent ? (this.parent._recursivePostUpdateTransform(), this.transform.updateTransform(this.parent.transform)) : this.transform.updateTransform(this._tempDisplayObjectParent.transform) }, e.prototype.getBounds = function(t, e) { return t || (this.parent ? (this._recursivePostUpdateTransform(), this.updateTransform()) : (this.parent = this._tempDisplayObjectParent, this.updateTransform(), this.parent = null)), this._boundsID !== this._lastBoundsID && this.calculateBounds(), e || (this._boundsRect || (this._boundsRect = new _.Rectangle), e = this._boundsRect), this._bounds.getRectangle(e) }, e.prototype.getLocalBounds = function(t) { var e = this.transform,
                                    i = this.parent;
                                this.parent = null, this.transform = this._tempDisplayObjectParent.transform, t || (this._localBoundsRect || (this._localBoundsRect = new _.Rectangle), t = this._localBoundsRect); var n = this.getBounds(!1, t); return this.parent = i, this.transform = e, n }, e.prototype.toGlobal = function(t, e) { var i = arguments.length > 2 && void 0 !== arguments[2] && arguments[2]; return i || (this._recursivePostUpdateTransform(), this.parent ? this.displayObjectUpdateTransform() : (this.parent = this._tempDisplayObjectParent, this.displayObjectUpdateTransform(), this.parent = null)), this.worldTransform.apply(t, e) }, e.prototype.toLocal = function(t, e, i, n) { return e && (t = e.toGlobal(t, i, n)), n || (this._recursivePostUpdateTransform(), this.parent ? this.displayObjectUpdateTransform() : (this.parent = this._tempDisplayObjectParent, this.displayObjectUpdateTransform(), this.parent = null)), this.worldTransform.applyInverse(t, i) }, e.prototype.renderWebGL = function(t) {}, e.prototype.renderCanvas = function(t) {}, e.prototype.setParent = function(t) { if (!t || !t.addChild) throw new Error("setParent: Argument must be a Container"); return t.addChild(this), t }, e.prototype.setTransform = function() { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                                    e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                                    i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1,
                                    n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1,
                                    r = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0,
                                    o = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 0,
                                    a = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : 0,
                                    s = arguments.length > 7 && void 0 !== arguments[7] ? arguments[7] : 0,
                                    h = arguments.length > 8 && void 0 !== arguments[8] ? arguments[8] : 0; return this.position.x = t, this.position.y = e, this.scale.x = i ? i : 1, this.scale.y = n ? n : 1, this.rotation = r, this.skew.x = o, this.skew.y = a, this.pivot.x = s, this.pivot.y = h, this }, e.prototype.destroy = function() { this.removeAllListeners(), this.parent && this.parent.removeChild(this), this.transform = null, this.parent = null, this._bounds = null, this._currentBounds = null, this._mask = null, this.filterArea = null, this.interactive = !1, this.interactiveChildren = !1, this._destroyed = !0 }, s(e, [{ key: "_tempDisplayObjectParent", get: function() { return null === this.tempDisplayObjectParent && (this.tempDisplayObjectParent = new e), this.tempDisplayObjectParent } }, { key: "x", get: function() { return this.position.x }, set: function(t) { this.transform.position.x = t } }, { key: "y", get: function() { return this.position.y }, set: function(t) { this.transform.position.y = t } }, { key: "worldTransform", get: function() { return this.transform.worldTransform } }, { key: "localTransform", get: function() { return this.transform.localTransform } }, { key: "position", get: function() { return this.transform.position }, set: function(t) { this.transform.position.copy(t) } }, { key: "scale", get: function() { return this.transform.scale }, set: function(t) { this.transform.scale.copy(t) } }, { key: "pivot", get: function() { return this.transform.pivot }, set: function(t) { this.transform.pivot.copy(t) } }, { key: "skew", get: function() { return this.transform.skew }, set: function(t) { this.transform.skew.copy(t) } }, { key: "rotation", get: function() { return this.transform.rotation }, set: function(t) { this.transform.rotation = t } }, { key: "worldVisible", get: function() { var t = this;
                                    do { if (!t.visible) return !1;
                                        t = t.parent } while (t); return !0 } }, { key: "mask", get: function() { return this._mask }, set: function(t) { this._mask && (this._mask.renderable = !0, this._mask.isMask = !1), this._mask = t, this._mask && (this._mask.renderable = !1, this._mask.isMask = !0) } }, { key: "filters", get: function() { return this._filters && this._filters.slice() }, set: function(t) { this._filters = t && t.slice() } }]), e }(l["default"]);
                    i["default"] = b, b.prototype.displayObjectUpdateTransform = b.prototype.updateTransform }, { "../const": 46, "../math": 70, "../settings": 101, "./Bounds": 47, "./Transform": 50, "./TransformStatic": 52, eventemitter3: 3 }],
                50: [function(t, e, i) {
                    "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) {
                        if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e)
                    }
                    i.__esModule = !0;
                    var s = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        h = t("../math"),
                        l = t("./TransformBase"),
                        u = n(l),
                        c = function(t) {
                            function e() { r(this, e); var i = o(this, t.call(this)); return i.position = new h.Point(0, 0), i.scale = new h.Point(1, 1), i.skew = new h.ObservablePoint(i.updateSkew, i, 0, 0), i.pivot = new h.Point(0, 0), i._rotation = 0, i._cx = 1, i._sx = 0, i._cy = 0, i._sy = 1, i } return a(e, t), e.prototype.updateSkew = function() { this._cx = Math.cos(this._rotation + this.skew._y), this._sx = Math.sin(this._rotation + this.skew._y), this._cy = -Math.sin(this._rotation - this.skew._x), this._sy = Math.cos(this._rotation - this.skew._x) }, e.prototype.updateLocalTransform = function() { var t = this.localTransform;
                                t.a = this._cx * this.scale.x, t.b = this._sx * this.scale.x, t.c = this._cy * this.scale.y, t.d = this._sy * this.scale.y, t.tx = this.position.x - (this.pivot.x * t.a + this.pivot.y * t.c), t.ty = this.position.y - (this.pivot.x * t.b + this.pivot.y * t.d) }, e.prototype.updateTransform = function(t) { var e = this.localTransform;
                                e.a = this._cx * this.scale.x, e.b = this._sx * this.scale.x, e.c = this._cy * this.scale.y, e.d = this._sy * this.scale.y, e.tx = this.position.x - (this.pivot.x * e.a + this.pivot.y * e.c), e.ty = this.position.y - (this.pivot.x * e.b + this.pivot.y * e.d); var i = t.worldTransform,
                                    n = this.worldTransform;
                                n.a = e.a * i.a + e.b * i.c, n.b = e.a * i.b + e.b * i.d, n.c = e.c * i.a + e.d * i.c, n.d = e.c * i.b + e.d * i.d, n.tx = e.tx * i.a + e.ty * i.c + i.tx, n.ty = e.tx * i.b + e.ty * i.d + i.ty, this._worldID++ }, e.prototype.setFromMatrix = function(t) { t.decompose(this) }, s(e, [{ key: "rotation", get: function() { return this._rotation }, set: function(t) { this._rotation = t, this.updateSkew() } }]), e }(u["default"]);
                    i["default"] = c
                }, { "../math": 70, "./TransformBase": 51 }],
                51: [function(t, e, i) { "use strict";

                    function n(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var r = t("../math"),
                        o = function() {
                            function t() { n(this, t), this.worldTransform = new r.Matrix, this.localTransform = new r.Matrix, this._worldID = 0, this._parentID = 0 } return t.prototype.updateLocalTransform = function() {}, t.prototype.updateTransform = function(t) { var e = t.worldTransform,
                                    i = this.worldTransform,
                                    n = this.localTransform;
                                i.a = n.a * e.a + n.b * e.c, i.b = n.a * e.b + n.b * e.d, i.c = n.c * e.a + n.d * e.c, i.d = n.c * e.b + n.d * e.d, i.tx = n.tx * e.a + n.ty * e.c + e.tx, i.ty = n.tx * e.b + n.ty * e.d + e.ty, this._worldID++ }, t }();
                    i["default"] = o, o.prototype.updateWorldTransform = o.prototype.updateTransform, o.IDENTITY = new o }, { "../math": 70 }],
                52: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var s = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        h = t("../math"),
                        l = t("./TransformBase"),
                        u = n(l),
                        c = function(t) {
                            function e() { r(this, e); var i = o(this, t.call(this)); return i.position = new h.ObservablePoint(i.onChange, i, 0, 0), i.scale = new h.ObservablePoint(i.onChange, i, 1, 1), i.pivot = new h.ObservablePoint(i.onChange, i, 0, 0), i.skew = new h.ObservablePoint(i.updateSkew, i, 0, 0), i._rotation = 0, i._cx = 1, i._sx = 0, i._cy = 0, i._sy = 1, i._localID = 0, i._currentLocalID = 0, i } return a(e, t), e.prototype.onChange = function() { this._localID++ }, e.prototype.updateSkew = function() { this._cx = Math.cos(this._rotation + this.skew._y), this._sx = Math.sin(this._rotation + this.skew._y), this._cy = -Math.sin(this._rotation - this.skew._x), this._sy = Math.cos(this._rotation - this.skew._x), this._localID++ }, e.prototype.updateLocalTransform = function() { var t = this.localTransform;
                                this._localID !== this._currentLocalID && (t.a = this._cx * this.scale._x, t.b = this._sx * this.scale._x, t.c = this._cy * this.scale._y, t.d = this._sy * this.scale._y, t.tx = this.position._x - (this.pivot._x * t.a + this.pivot._y * t.c), t.ty = this.position._y - (this.pivot._x * t.b + this.pivot._y * t.d), this._currentLocalID = this._localID, this._parentID = -1) }, e.prototype.updateTransform = function(t) { var e = this.localTransform; if (this._localID !== this._currentLocalID && (e.a = this._cx * this.scale._x, e.b = this._sx * this.scale._x, e.c = this._cy * this.scale._y, e.d = this._sy * this.scale._y, e.tx = this.position._x - (this.pivot._x * e.a + this.pivot._y * e.c), e.ty = this.position._y - (this.pivot._x * e.b + this.pivot._y * e.d), this._currentLocalID = this._localID, this._parentID = -1), this._parentID !== t._worldID) { var i = t.worldTransform,
                                        n = this.worldTransform;
                                    n.a = e.a * i.a + e.b * i.c, n.b = e.a * i.b + e.b * i.d, n.c = e.c * i.a + e.d * i.c, n.d = e.c * i.b + e.d * i.d, n.tx = e.tx * i.a + e.ty * i.c + i.tx, n.ty = e.tx * i.b + e.ty * i.d + i.ty, this._parentID = t._worldID, this._worldID++ } }, e.prototype.setFromMatrix = function(t) { t.decompose(this), this._localID++ }, s(e, [{ key: "rotation", get: function() { return this._rotation }, set: function(t) { this._rotation = t, this.updateSkew() } }]), e }(u["default"]);
                    i["default"] = c }, { "../math": 70, "./TransformBase": 51 }],
                53: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var s = t("../display/Container"),
                        h = n(s),
                        l = t("../textures/RenderTexture"),
                        u = n(l),
                        c = t("../textures/Texture"),
                        d = n(c),
                        p = t("./GraphicsData"),
                        f = n(p),
                        m = t("../sprites/Sprite"),
                        g = n(m),
                        v = t("../math"),
                        y = t("../utils"),
                        _ = t("../const"),
                        b = t("../display/Bounds"),
                        x = n(b),
                        w = t("./utils/bezierCurveTo"),
                        T = n(w),
                        S = t("../renderers/canvas/CanvasRenderer"),
                        M = n(S),
                        E = void 0,
                        A = new v.Matrix,
                        C = new v.Point,
                        R = new Float32Array(4),
                        P = new Float32Array(4),
                        O = function(t) {
                            function e() { var i = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                                r(this, e); var n = o(this, t.call(this)); return n.fillAlpha = 1, n.lineWidth = 0, n.nativeLines = i, n.lineColor = 0, n.graphicsData = [], n.tint = 16777215, n._prevTint = 16777215, n.blendMode = _.BLEND_MODES.NORMAL, n.currentPath = null, n._webGL = {}, n.isMask = !1, n.boundsPadding = 0, n._localBounds = new x["default"], n.dirty = 0, n.fastRectDirty = -1, n.clearDirty = 0, n.boundsDirty = -1, n.cachedSpriteDirty = !1, n._spriteRect = null, n._fastRect = !1, n } return a(e, t), e.prototype.clone = function i() { var i = new e;
                                i.renderable = this.renderable, i.fillAlpha = this.fillAlpha, i.lineWidth = this.lineWidth, i.lineColor = this.lineColor, i.tint = this.tint, i.blendMode = this.blendMode, i.isMask = this.isMask, i.boundsPadding = this.boundsPadding, i.dirty = 0, i.cachedSpriteDirty = this.cachedSpriteDirty; for (var t = 0; t < this.graphicsData.length; ++t) i.graphicsData.push(this.graphicsData[t].clone()); return i.currentPath = i.graphicsData[i.graphicsData.length - 1], i.updateLocalBounds(), i }, e.prototype.lineStyle = function() { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                                    e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                                    i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 1; if (this.lineWidth = t, this.lineColor = e, this.lineAlpha = i, this.currentPath)
                                    if (this.currentPath.shape.points.length) { var n = new v.Polygon(this.currentPath.shape.points.slice(-2));
                                        n.closed = !1, this.drawShape(n) } else this.currentPath.lineWidth = this.lineWidth, this.currentPath.lineColor = this.lineColor, this.currentPath.lineAlpha = this.lineAlpha; return this }, e.prototype.moveTo = function(t, e) { var i = new v.Polygon([t, e]); return i.closed = !1, this.drawShape(i), this }, e.prototype.lineTo = function(t, e) { return this.currentPath.shape.points.push(t, e), this.dirty++, this }, e.prototype.quadraticCurveTo = function(t, e, i, n) { this.currentPath ? 0 === this.currentPath.shape.points.length && (this.currentPath.shape.points = [0, 0]) : this.moveTo(0, 0); var r = 20,
                                    o = this.currentPath.shape.points,
                                    a = 0,
                                    s = 0;
                                0 === o.length && this.moveTo(0, 0); for (var h = o[o.length - 2], l = o[o.length - 1], u = 1; u <= r; ++u) { var c = u / r;
                                    a = h + (t - h) * c, s = l + (e - l) * c, o.push(a + (t + (i - t) * c - a) * c, s + (e + (n - e) * c - s) * c) } return this.dirty++, this }, e.prototype.bezierCurveTo = function(t, e, i, n, r, o) { this.currentPath ? 0 === this.currentPath.shape.points.length && (this.currentPath.shape.points = [0, 0]) : this.moveTo(0, 0); var a = this.currentPath.shape.points,
                                    s = a[a.length - 2],
                                    h = a[a.length - 1]; return a.length -= 2, (0, T["default"])(s, h, t, e, i, n, r, o, a), this.dirty++, this }, e.prototype.arcTo = function(t, e, i, n, r) { this.currentPath ? 0 === this.currentPath.shape.points.length && this.currentPath.shape.points.push(t, e) : this.moveTo(t, e); var o = this.currentPath.shape.points,
                                    a = o[o.length - 2],
                                    s = o[o.length - 1],
                                    h = s - e,
                                    l = a - t,
                                    u = n - e,
                                    c = i - t,
                                    d = Math.abs(h * c - l * u); if (d < 1e-8 || 0 === r) o[o.length - 2] === t && o[o.length - 1] === e || o.push(t, e);
                                else { var p = h * h + l * l,
                                        f = u * u + c * c,
                                        m = h * u + l * c,
                                        g = r * Math.sqrt(p) / d,
                                        v = r * Math.sqrt(f) / d,
                                        y = g * m / p,
                                        _ = v * m / f,
                                        b = g * c + v * l,
                                        x = g * u + v * h,
                                        w = l * (v + y),
                                        T = h * (v + y),
                                        S = c * (g + _),
                                        M = u * (g + _),
                                        E = Math.atan2(T - x, w - b),
                                        A = Math.atan2(M - x, S - b);
                                    this.arc(b + t, x + e, r, E, A, l * u > c * h) } return this.dirty++, this }, e.prototype.arc = function(t, e, i, n, r) { var o = arguments.length > 5 && void 0 !== arguments[5] && arguments[5]; if (n === r) return this;!o && r <= n ? r += _.PI_2 : o && n <= r && (n += _.PI_2); var a = r - n,
                                    s = 40 * Math.ceil(Math.abs(a) / _.PI_2); if (0 === a) return this; var h = t + Math.cos(n) * i,
                                    l = e + Math.sin(n) * i,
                                    u = this.currentPath ? this.currentPath.shape.points : null;
                                u ? u[u.length - 2] === h && u[u.length - 1] === l || u.push(h, l) : (this.moveTo(h, l), u = this.currentPath.shape.points); for (var c = a / (2 * s), d = 2 * c, p = Math.cos(c), f = Math.sin(c), m = s - 1, g = m % 1 / m, v = 0; v <= m; ++v) { var y = v + g * v,
                                        b = c + n + d * y,
                                        x = Math.cos(b),
                                        w = -Math.sin(b);
                                    u.push((p * x + f * w) * i + t, (p * -w + f * x) * i + e) } return this.dirty++, this }, e.prototype.beginFill = function() { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                                    e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1; return this.filling = !0, this.fillColor = t, this.fillAlpha = e, this.currentPath && this.currentPath.shape.points.length <= 2 && (this.currentPath.fill = this.filling, this.currentPath.fillColor = this.fillColor, this.currentPath.fillAlpha = this.fillAlpha), this }, e.prototype.endFill = function() { return this.filling = !1, this.fillColor = null, this.fillAlpha = 1, this }, e.prototype.drawRect = function(t, e, i, n) { return this.drawShape(new v.Rectangle(t, e, i, n)), this }, e.prototype.drawRoundedRect = function(t, e, i, n, r) { return this.drawShape(new v.RoundedRectangle(t, e, i, n, r)), this }, e.prototype.drawCircle = function(t, e, i) { return this.drawShape(new v.Circle(t, e, i)), this }, e.prototype.drawEllipse = function(t, e, i, n) { return this.drawShape(new v.Ellipse(t, e, i, n)), this }, e.prototype.drawPolygon = function(t) { var e = t,
                                    i = !0; if (e instanceof v.Polygon && (i = e.closed, e = e.points), !Array.isArray(e)) { e = new Array(arguments.length); for (var n = 0; n < e.length; ++n) e[n] = arguments[n] } var r = new v.Polygon(e); return r.closed = i, this.drawShape(r), this }, e.prototype.drawStar = function(t, e, i, n, r) { var o = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 0;
                                r = r || n / 2; for (var a = -1 * Math.PI / 2 + o, s = 2 * i, h = _.PI_2 / s, l = [], u = 0; u < s; u++) { var c = u % 2 ? r : n,
                                        d = u * h + a;
                                    l.push(t + c * Math.cos(d), e + c * Math.sin(d)) } return this.drawPolygon(l) }, e.prototype.clear = function() { return (this.lineWidth || this.filling || this.graphicsData.length > 0) && (this.lineWidth = 0, this.filling = !1, this.boundsDirty = -1, this.dirty++, this.clearDirty++, this.graphicsData.length = 0), this.currentPath = null, this._spriteRect = null, this }, e.prototype.isFastRect = function() { return 1 === this.graphicsData.length && this.graphicsData[0].shape.type === _.SHAPES.RECT && !this.graphicsData[0].lineWidth }, e.prototype._renderWebGL = function(t) { this.dirty !== this.fastRectDirty && (this.fastRectDirty = this.dirty, this._fastRect = this.isFastRect()), this._fastRect ? this._renderSpriteRect(t) : (t.setObjectRenderer(t.plugins.graphics), t.plugins.graphics.render(this)) }, e.prototype._renderSpriteRect = function(t) { var e = this.graphicsData[0].shape;
                                this._spriteRect || (this._spriteRect = new g["default"](new d["default"](d["default"].WHITE))); var i = this._spriteRect; if (16777215 === this.tint) i.tint = this.graphicsData[0].fillColor;
                                else { var n = R,
                                        r = P;
                                    (0, y.hex2rgb)(this.graphicsData[0].fillColor, n), (0, y.hex2rgb)(this.tint, r), n[0] *= r[0], n[1] *= r[1], n[2] *= r[2], i.tint = (0, y.rgb2hex)(n) } i.alpha = this.graphicsData[0].fillAlpha, i.worldAlpha = this.worldAlpha * i.alpha, i.blendMode = this.blendMode, i._texture._frame.width = e.width, i._texture._frame.height = e.height, i.transform.worldTransform = this.transform.worldTransform, i.anchor.set(-e.x / e.width, -e.y / e.height), i._onAnchorUpdate(), i._renderWebGL(t) }, e.prototype._renderCanvas = function(t) { this.isMask !== !0 && t.plugins.graphics.render(this) }, e.prototype._calculateBounds = function() { this.boundsDirty !== this.dirty && (this.boundsDirty = this.dirty, this.updateLocalBounds(), this.cachedSpriteDirty = !0); var t = this._localBounds;
                                this._bounds.addFrame(this.transform, t.minX, t.minY, t.maxX, t.maxY) }, e.prototype.containsPoint = function(t) { this.worldTransform.applyInverse(t, C); for (var e = this.graphicsData, i = 0; i < e.length; ++i) { var n = e[i]; if (n.fill && n.shape && n.shape.contains(C.x, C.y)) { if (n.holes)
                                            for (var r = 0; r < n.holes.length; r++) { var o = n.holes[r]; if (o.contains(C.x, C.y)) return !1 }
                                        return !0 } } return !1 }, e.prototype.updateLocalBounds = function() { var t = 1 / 0,
                                    e = -(1 / 0),
                                    i = 1 / 0,
                                    n = -(1 / 0); if (this.graphicsData.length)
                                    for (var r = 0, o = 0, a = 0, s = 0, h = 0, l = 0; l < this.graphicsData.length; l++) { var u = this.graphicsData[l],
                                            c = u.type,
                                            d = u.lineWidth; if (r = u.shape, c === _.SHAPES.RECT || c === _.SHAPES.RREC) o = r.x - d / 2, a = r.y - d / 2, s = r.width + d, h = r.height + d, t = o < t ? o : t, e = o + s > e ? o + s : e, i = a < i ? a : i, n = a + h > n ? a + h : n;
                                        else if (c === _.SHAPES.CIRC) o = r.x, a = r.y, s = r.radius + d / 2, h = r.radius + d / 2, t = o - s < t ? o - s : t, e = o + s > e ? o + s : e, i = a - h < i ? a - h : i, n = a + h > n ? a + h : n;
                                        else if (c === _.SHAPES.ELIP) o = r.x, a = r.y, s = r.width + d / 2, h = r.height + d / 2, t = o - s < t ? o - s : t, e = o + s > e ? o + s : e, i = a - h < i ? a - h : i, n = a + h > n ? a + h : n;
                                        else
                                            for (var p = r.points, f = 0, m = 0, g = 0, v = 0, y = 0, b = 0, x = 0, w = 0, T = 0; T + 2 < p.length; T += 2) o = p[T], a = p[T + 1], f = p[T + 2], m = p[T + 3], g = Math.abs(f - o), v = Math.abs(m - a), h = d, s = Math.sqrt(g * g + v * v), s < 1e-9 || (y = (h / s * v + g) / 2, b = (h / s * g + v) / 2, x = (f + o) / 2, w = (m + a) / 2, t = x - y < t ? x - y : t, e = x + y > e ? x + y : e, i = w - b < i ? w - b : i, n = w + b > n ? w + b : n) } else t = 0, e = 0, i = 0, n = 0; var S = this.boundsPadding;
                                this._localBounds.minX = t - S, this._localBounds.maxX = e + S, this._localBounds.minY = i - S, this._localBounds.maxY = n + S }, e.prototype.drawShape = function(t) { this.currentPath && this.currentPath.shape.points.length <= 2 && this.graphicsData.pop(), this.currentPath = null; var e = new f["default"](this.lineWidth, this.lineColor, this.lineAlpha, this.fillColor, this.fillAlpha, this.filling, this.nativeLines, t); return this.graphicsData.push(e), e.type === _.SHAPES.POLY && (e.shape.closed = e.shape.closed || this.filling, this.currentPath = e), this.dirty++, e }, e.prototype.generateCanvasTexture = function(t) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1,
                                    i = this.getLocalBounds(),
                                    n = u["default"].create(i.width, i.height, t, e);
                                E || (E = new M["default"]), this.transform.updateLocalTransform(), this.transform.localTransform.copy(A), A.invert(), A.tx -= i.x, A.ty -= i.y, E.render(this, n, !0, A); var r = d["default"].fromCanvas(n.baseTexture._canvasRenderTarget.canvas, t, "graphics"); return r.baseTexture.resolution = e, r.baseTexture.update(), r }, e.prototype.closePath = function() { var t = this.currentPath; return t && t.shape && t.shape.close(), this }, e.prototype.addHole = function() { var t = this.graphicsData.pop(); return this.currentPath = this.graphicsData[this.graphicsData.length - 1], this.currentPath.addHole(t.shape), this.currentPath = null, this }, e.prototype.destroy = function(e) { t.prototype.destroy.call(this, e); for (var i = 0; i < this.graphicsData.length; ++i) this.graphicsData[i].destroy(); for (var n in this._webgl)
                                    for (var r = 0; r < this._webgl[n].data.length; ++r) this._webgl[n].data[r].destroy();
                                this._spriteRect && this._spriteRect.destroy(), this.graphicsData = null, this.currentPath = null, this._webgl = null, this._localBounds = null }, e }(h["default"]);
                    i["default"] = O, O._SPRITE_TEXTURE = null }, { "../const": 46, "../display/Bounds": 47, "../display/Container": 48, "../math": 70, "../renderers/canvas/CanvasRenderer": 77, "../sprites/Sprite": 102, "../textures/RenderTexture": 113, "../textures/Texture": 115, "../utils": 125, "./GraphicsData": 54, "./utils/bezierCurveTo": 56 }],
                54: [function(t, e, i) { "use strict";

                    function n(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var r = function() {
                        function t(e, i, r, o, a, s, h, l) { n(this, t), this.lineWidth = e, this.nativeLines = h, this.lineColor = i, this.lineAlpha = r, this._lineTint = i, this.fillColor = o, this.fillAlpha = a, this._fillTint = o, this.fill = s, this.holes = [], this.shape = l, this.type = l.type } return t.prototype.clone = function() { return new t(this.lineWidth, this.lineColor, this.lineAlpha, this.fillColor, this.fillAlpha, this.fill, this.nativeLines, this.shape) }, t.prototype.addHole = function(t) { this.holes.push(t) }, t.prototype.destroy = function() { this.shape = null, this.holes = null }, t }();
                    i["default"] = r }, {}],
                55: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var o = t("../../renderers/canvas/CanvasRenderer"),
                        a = n(o),
                        s = t("../../const"),
                        h = function() {
                            function t(e) { r(this, t), this.renderer = e } return t.prototype.render = function(t) { var e = this.renderer,
                                    i = e.context,
                                    n = t.worldAlpha,
                                    r = t.transform.worldTransform,
                                    o = e.resolution;
                                this._prevTint !== this.tint && (this.dirty = !0), i.setTransform(r.a * o, r.b * o, r.c * o, r.d * o, r.tx * o, r.ty * o), t.dirty && (this.updateGraphicsTint(t), t.dirty = !1), e.setBlendMode(t.blendMode); for (var a = 0; a < t.graphicsData.length; a++) { var h = t.graphicsData[a],
                                        l = h.shape,
                                        u = h._fillTint,
                                        c = h._lineTint; if (i.lineWidth = h.lineWidth, h.type === s.SHAPES.POLY) { i.beginPath(), this.renderPolygon(l.points, l.closed, i); for (var d = 0; d < h.holes.length; d++) this.renderPolygon(h.holes[d].points, !0, i);
                                        h.fill && (i.globalAlpha = h.fillAlpha * n, i.fillStyle = "#" + ("00000" + (0 | u).toString(16)).substr(-6), i.fill()), h.lineWidth && (i.globalAlpha = h.lineAlpha * n, i.strokeStyle = "#" + ("00000" + (0 | c).toString(16)).substr(-6), i.stroke()) } else if (h.type === s.SHAPES.RECT)(h.fillColor || 0 === h.fillColor) && (i.globalAlpha = h.fillAlpha * n, i.fillStyle = "#" + ("00000" + (0 | u).toString(16)).substr(-6), i.fillRect(l.x, l.y, l.width, l.height)), h.lineWidth && (i.globalAlpha = h.lineAlpha * n, i.strokeStyle = "#" + ("00000" + (0 | c).toString(16)).substr(-6), i.strokeRect(l.x, l.y, l.width, l.height));
                                    else if (h.type === s.SHAPES.CIRC) i.beginPath(), i.arc(l.x, l.y, l.radius, 0, 2 * Math.PI), i.closePath(), h.fill && (i.globalAlpha = h.fillAlpha * n, i.fillStyle = "#" + ("00000" + (0 | u).toString(16)).substr(-6), i.fill()), h.lineWidth && (i.globalAlpha = h.lineAlpha * n, i.strokeStyle = "#" + ("00000" + (0 | c).toString(16)).substr(-6), i.stroke());
                                    else if (h.type === s.SHAPES.ELIP) { var p = 2 * l.width,
                                            f = 2 * l.height,
                                            m = l.x - p / 2,
                                            g = l.y - f / 2;
                                        i.beginPath(); var v = .5522848,
                                            y = p / 2 * v,
                                            _ = f / 2 * v,
                                            b = m + p,
                                            x = g + f,
                                            w = m + p / 2,
                                            T = g + f / 2;
                                        i.moveTo(m, T), i.bezierCurveTo(m, T - _, w - y, g, w, g), i.bezierCurveTo(w + y, g, b, T - _, b, T), i.bezierCurveTo(b, T + _, w + y, x, w, x), i.bezierCurveTo(w - y, x, m, T + _, m, T), i.closePath(), h.fill && (i.globalAlpha = h.fillAlpha * n, i.fillStyle = "#" + ("00000" + (0 | u).toString(16)).substr(-6), i.fill()), h.lineWidth && (i.globalAlpha = h.lineAlpha * n, i.strokeStyle = "#" + ("00000" + (0 | c).toString(16)).substr(-6), i.stroke()) } else if (h.type === s.SHAPES.RREC) { var S = l.x,
                                            M = l.y,
                                            E = l.width,
                                            A = l.height,
                                            C = l.radius,
                                            R = Math.min(E, A) / 2 | 0;
                                        C = C > R ? R : C, i.beginPath(), i.moveTo(S, M + C), i.lineTo(S, M + A - C), i.quadraticCurveTo(S, M + A, S + C, M + A), i.lineTo(S + E - C, M + A), i.quadraticCurveTo(S + E, M + A, S + E, M + A - C), i.lineTo(S + E, M + C), i.quadraticCurveTo(S + E, M, S + E - C, M), i.lineTo(S + C, M), i.quadraticCurveTo(S, M, S, M + C), i.closePath(), (h.fillColor || 0 === h.fillColor) && (i.globalAlpha = h.fillAlpha * n, i.fillStyle = "#" + ("00000" + (0 | u).toString(16)).substr(-6), i.fill()), h.lineWidth && (i.globalAlpha = h.lineAlpha * n, i.strokeStyle = "#" + ("00000" + (0 | c).toString(16)).substr(-6), i.stroke()) } } }, t.prototype.updateGraphicsTint = function(t) { t._prevTint = t.tint; for (var e = (t.tint >> 16 & 255) / 255, i = (t.tint >> 8 & 255) / 255, n = (255 & t.tint) / 255, r = 0; r < t.graphicsData.length; ++r) { var o = t.graphicsData[r],
                                        a = 0 | o.fillColor,
                                        s = 0 | o.lineColor;
                                    o._fillTint = ((a >> 16 & 255) / 255 * e * 255 << 16) + ((a >> 8 & 255) / 255 * i * 255 << 8) + (255 & a) / 255 * n * 255, o._lineTint = ((s >> 16 & 255) / 255 * e * 255 << 16) + ((s >> 8 & 255) / 255 * i * 255 << 8) + (255 & s) / 255 * n * 255 } }, t.prototype.renderPolygon = function(t, e, i) { i.moveTo(t[0], t[1]); for (var n = 1; n < t.length / 2; ++n) i.lineTo(t[2 * n], t[2 * n + 1]);
                                e && i.closePath() }, t.prototype.destroy = function() { this.renderer = null }, t }();
                    i["default"] = h, a["default"].registerPlugin("graphics", h) }, { "../../const": 46, "../../renderers/canvas/CanvasRenderer": 77 }],
                56: [function(t, e, i) { "use strict";

                    function n(t, e, i, n, r, o, a, s) { var h = arguments.length > 8 && void 0 !== arguments[8] ? arguments[8] : [],
                            l = 20,
                            u = 0,
                            c = 0,
                            d = 0,
                            p = 0,
                            f = 0;
                        h.push(t, e); for (var m = 1, g = 0; m <= l; ++m) g = m / l, u = 1 - g, c = u * u, d = c * u, p = g * g, f = p * g, h.push(d * t + 3 * c * g * i + 3 * u * p * r + f * a, d * e + 3 * c * g * n + 3 * u * p * o + f * s); return h } i.__esModule = !0, i["default"] = n }, {}],
                57: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var s = t("../../utils"),
                        h = t("../../const"),
                        l = t("../../renderers/webgl/utils/ObjectRenderer"),
                        u = n(l),
                        c = t("../../renderers/webgl/WebGLRenderer"),
                        d = n(c),
                        p = t("./WebGLGraphicsData"),
                        f = n(p),
                        m = t("./shaders/PrimitiveShader"),
                        g = n(m),
                        v = t("./utils/buildPoly"),
                        y = n(v),
                        _ = t("./utils/buildRectangle"),
                        b = n(_),
                        x = t("./utils/buildRoundedRectangle"),
                        w = n(x),
                        T = t("./utils/buildCircle"),
                        S = n(T),
                        M = function(t) {
                            function e(i) { r(this, e); var n = o(this, t.call(this, i)); return n.graphicsDataPool = [], n.primitiveShader = null, n.gl = i.gl, n.CONTEXT_UID = 0, n } return a(e, t), e.prototype.onContextChange = function() { this.gl = this.renderer.gl, this.CONTEXT_UID = this.renderer.CONTEXT_UID, this.primitiveShader = new g["default"](this.gl) }, e.prototype.destroy = function() { u["default"].prototype.destroy.call(this); for (var t = 0; t < this.graphicsDataPool.length; ++t) this.graphicsDataPool[t].destroy();
                                this.graphicsDataPool = null }, e.prototype.render = function(t) { var e = this.renderer,
                                    i = e.gl,
                                    n = void 0,
                                    r = t._webGL[this.CONTEXT_UID];
                                r && t.dirty === r.dirty || (this.updateGraphics(t), r = t._webGL[this.CONTEXT_UID]); var o = this.primitiveShader;
                                e.bindShader(o), e.state.setBlendMode(t.blendMode); for (var a = 0, h = r.data.length; a < h; a++) { n = r.data[a]; var l = n.shader;
                                    e.bindShader(l), l.uniforms.translationMatrix = t.transform.worldTransform.toArray(!0), l.uniforms.tint = (0, s.hex2rgb)(t.tint), l.uniforms.alpha = t.worldAlpha, e.bindVao(n.vao), n.nativeLines ? i.drawArrays(i.LINES, 0, n.points.length / 6) : n.vao.draw(i.TRIANGLE_STRIP, n.indices.length) } }, e.prototype.updateGraphics = function(t) { var e = this.renderer.gl,
                                    i = t._webGL[this.CONTEXT_UID]; if (i || (i = t._webGL[this.CONTEXT_UID] = { lastIndex: 0, data: [], gl: e, clearDirty: -1, dirty: -1 }), i.dirty = t.dirty, t.clearDirty !== i.clearDirty) { i.clearDirty = t.clearDirty; for (var n = 0; n < i.data.length; n++) this.graphicsDataPool.push(i.data[n]);
                                    i.data.length = 0, i.lastIndex = 0 } for (var r = void 0, o = void 0, a = i.lastIndex; a < t.graphicsData.length; a++) { var s = t.graphicsData[a];
                                    r = this.getWebGLData(i, 0), s.nativeLines && s.lineWidth && (o = this.getWebGLData(i, 0, !0), i.lastIndex++), s.type === h.SHAPES.POLY && (0, y["default"])(s, r, o), s.type === h.SHAPES.RECT ? (0, b["default"])(s, r, o) : s.type === h.SHAPES.CIRC || s.type === h.SHAPES.ELIP ? (0, S["default"])(s, r, o) : s.type === h.SHAPES.RREC && (0, w["default"])(s, r, o), i.lastIndex++ } this.renderer.bindVao(null); for (var l = 0; l < i.data.length; l++) r = i.data[l], r.dirty && r.upload() }, e.prototype.getWebGLData = function(t, e, i) { var n = t.data[t.data.length - 1]; return (!n || n.nativeLines !== i || n.points.length > 32e4) && (n = this.graphicsDataPool.pop() || new f["default"](this.renderer.gl, this.primitiveShader, this.renderer.state.attribsState), n.nativeLines = i, n.reset(e), t.data.push(n)), n.dirty = !0, n }, e }(u["default"]);
                    i["default"] = M, d["default"].registerPlugin("graphics", M) }, { "../../const": 46, "../../renderers/webgl/WebGLRenderer": 84, "../../renderers/webgl/utils/ObjectRenderer": 94, "../../utils": 125, "./WebGLGraphicsData": 58, "./shaders/PrimitiveShader": 59, "./utils/buildCircle": 60, "./utils/buildPoly": 62, "./utils/buildRectangle": 63, "./utils/buildRoundedRectangle": 64 }],
                58: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var o = t("pixi-gl-core"),
                        a = n(o),
                        s = function() {
                            function t(e, i, n) { r(this, t), this.gl = e, this.color = [0, 0, 0], this.points = [], this.indices = [], this.buffer = a["default"].GLBuffer.createVertexBuffer(e), this.indexBuffer = a["default"].GLBuffer.createIndexBuffer(e), this.dirty = !0, this.nativeLines = !1, this.glPoints = null, this.glIndices = null, this.shader = i, this.vao = new a["default"].VertexArrayObject(e, n).addIndex(this.indexBuffer).addAttribute(this.buffer, i.attributes.aVertexPosition, e.FLOAT, !1, 24, 0).addAttribute(this.buffer, i.attributes.aColor, e.FLOAT, !1, 24, 8) } return t.prototype.reset = function() { this.points.length = 0, this.indices.length = 0 }, t.prototype.upload = function() { this.glPoints = new Float32Array(this.points), this.buffer.upload(this.glPoints), this.glIndices = new Uint16Array(this.indices), this.indexBuffer.upload(this.glIndices), this.dirty = !1 }, t.prototype.destroy = function() { this.color = null, this.points = null, this.indices = null, this.vao.destroy(), this.buffer.destroy(), this.indexBuffer.destroy(), this.gl = null, this.buffer = null, this.indexBuffer = null, this.glPoints = null, this.glIndices = null }, t }();
                    i["default"] = s }, { "pixi-gl-core": 15 }],
                59: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var s = t("../../../Shader"),
                        h = n(s),
                        l = function(t) {
                            function e(i) { return r(this, e), o(this, t.call(this, i, ["attribute vec2 aVertexPosition;", "attribute vec4 aColor;", "uniform mat3 translationMatrix;", "uniform mat3 projectionMatrix;", "uniform float alpha;", "uniform vec3 tint;", "varying vec4 vColor;", "void main(void){", "   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);", "   vColor = aColor * vec4(tint * alpha, alpha);", "}"].join("\n"), ["varying vec4 vColor;", "void main(void){", "   gl_FragColor = vColor;", "}"].join("\n"))) } return a(e, t), e }(h["default"]);
                    i["default"] = l }, { "../../../Shader": 44 }],
                60: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e, i) { var n = t.shape,
                            r = n.x,
                            o = n.y,
                            l = void 0,
                            u = void 0; if (t.type === s.SHAPES.CIRC ? (l = n.radius, u = n.radius) : (l = n.width, u = n.height), 0 !== l && 0 !== u) { var c = Math.floor(30 * Math.sqrt(n.radius)) || Math.floor(15 * Math.sqrt(n.width + n.height)),
                                d = 2 * Math.PI / c; if (t.fill) { var p = (0, h.hex2rgb)(t.fillColor),
                                    f = t.fillAlpha,
                                    m = p[0] * f,
                                    g = p[1] * f,
                                    v = p[2] * f,
                                    y = e.points,
                                    _ = e.indices,
                                    b = y.length / 6;
                                _.push(b); for (var x = 0; x < c + 1; x++) y.push(r, o, m, g, v, f), y.push(r + Math.sin(d * x) * l, o + Math.cos(d * x) * u, m, g, v, f), _.push(b++, b++);
                                _.push(b - 1) } if (t.lineWidth) { var w = t.points;
                                t.points = []; for (var T = 0; T < c + 1; T++) t.points.push(r + Math.sin(d * T) * l, o + Math.cos(d * T) * u);
                                (0, a["default"])(t, e, i), t.points = w } } } i.__esModule = !0, i["default"] = r; var o = t("./buildLine"),
                        a = n(o),
                        s = t("../../../const"),
                        h = t("../../../utils") }, { "../../../const": 46, "../../../utils": 125, "./buildLine": 61 }],
                61: [function(t, e, i) { "use strict";

                    function n(t, e) { var i = t.points; if (0 !== i.length) { var n = new o.Point(i[0], i[1]),
                                r = new o.Point(i[i.length - 2], i[i.length - 1]); if (n.x === r.x && n.y === r.y) { i = i.slice(), i.pop(), i.pop(), r = new o.Point(i[i.length - 2], i[i.length - 1]); var s = r.x + .5 * (n.x - r.x),
                                    h = r.y + .5 * (n.y - r.y);
                                i.unshift(s, h), i.push(s, h) } var l = e.points,
                                u = e.indices,
                                c = i.length / 2,
                                d = i.length,
                                p = l.length / 6,
                                f = t.lineWidth / 2,
                                m = (0, a.hex2rgb)(t.lineColor),
                                g = t.lineAlpha,
                                v = m[0] * g,
                                y = m[1] * g,
                                _ = m[2] * g,
                                b = i[0],
                                x = i[1],
                                w = i[2],
                                T = i[3],
                                S = 0,
                                M = 0,
                                E = -(x - T),
                                A = b - w,
                                C = 0,
                                R = 0,
                                P = 0,
                                O = 0,
                                L = Math.sqrt(E * E + A * A);
                            E /= L, A /= L, E *= f, A *= f, l.push(b - E, x - A, v, y, _, g), l.push(b + E, x + A, v, y, _, g); for (var I = 1; I < c - 1; ++I) { b = i[2 * (I - 1)], x = i[2 * (I - 1) + 1], w = i[2 * I], T = i[2 * I + 1], S = i[2 * (I + 1)], M = i[2 * (I + 1) + 1], E = -(x - T), A = b - w, L = Math.sqrt(E * E + A * A), E /= L, A /= L, E *= f, A *= f, C = -(T - M), R = w - S, L = Math.sqrt(C * C + R * R), C /= L, R /= L, C *= f, R *= f; var D = -A + x - (-A + T),
                                    k = -E + w - (-E + b),
                                    B = (-E + b) * (-A + T) - (-E + w) * (-A + x),
                                    N = -R + M - (-R + T),
                                    F = -C + w - (-C + S),
                                    U = (-C + S) * (-R + T) - (-C + w) * (-R + M),
                                    G = D * F - N * k; if (Math.abs(G) < .1) G += 10.1, l.push(w - E, T - A, v, y, _, g), l.push(w + E, T + A, v, y, _, g);
                                else { var j = (k * U - F * B) / G,
                                        z = (N * B - D * U) / G,
                                        V = (j - w) * (j - w) + (z - T) * (z - T);
                                    V > 196 * f * f ? (P = E - C, O = A - R, L = Math.sqrt(P * P + O * O), P /= L, O /= L, P *= f, O *= f, l.push(w - P, T - O), l.push(v, y, _, g), l.push(w + P, T + O), l.push(v, y, _, g), l.push(w - P, T - O), l.push(v, y, _, g), d++) : (l.push(j, z), l.push(v, y, _, g), l.push(w - (j - w), T - (z - T)), l.push(v, y, _, g)) } } b = i[2 * (c - 2)], x = i[2 * (c - 2) + 1], w = i[2 * (c - 1)], T = i[2 * (c - 1) + 1], E = -(x - T), A = b - w, L = Math.sqrt(E * E + A * A), E /= L, A /= L, E *= f, A *= f, l.push(w - E, T - A), l.push(v, y, _, g), l.push(w + E, T + A), l.push(v, y, _, g), u.push(p); for (var H = 0; H < d; ++H) u.push(p++);
                            u.push(p - 1) } }

                    function r(t, e) { var i = 0,
                            n = t.points; if (0 !== n.length) { var r = e.points,
                                o = n.length / 2,
                                s = (0, a.hex2rgb)(t.lineColor),
                                h = t.lineAlpha,
                                l = s[0] * h,
                                u = s[1] * h,
                                c = s[2] * h; for (i = 1; i < o; i++) { var d = n[2 * (i - 1)],
                                    p = n[2 * (i - 1) + 1],
                                    f = n[2 * i],
                                    m = n[2 * i + 1];
                                r.push(d, p), r.push(l, u, c, h), r.push(f, m), r.push(l, u, c, h) } } } i.__esModule = !0, i["default"] = function(t, e, i) { t.nativeLines ? r(t, i) : n(t, e) }; var o = t("../../../math"),
                        a = t("../../../utils") }, { "../../../math": 70, "../../../utils": 125 }],
                62: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e, i) { t.points = t.shape.points.slice(); var n = t.points; if (t.fill && n.length >= 6) { for (var r = [], o = t.holes, h = 0; h < o.length; h++) { var u = o[h];
                                r.push(n.length / 2), n = n.concat(u.points) } var c = e.points,
                                d = e.indices,
                                p = n.length / 2,
                                f = (0, s.hex2rgb)(t.fillColor),
                                m = t.fillAlpha,
                                g = f[0] * m,
                                v = f[1] * m,
                                y = f[2] * m,
                                _ = (0, l["default"])(n, r, 2); if (!_) return; for (var b = c.length / 6, x = 0; x < _.length; x += 3) d.push(_[x] + b), d.push(_[x] + b), d.push(_[x + 1] + b), d.push(_[x + 2] + b), d.push(_[x + 2] + b); for (var w = 0; w < p; w++) c.push(n[2 * w], n[2 * w + 1], g, v, y, m) } t.lineWidth > 0 && (0, a["default"])(t, e, i) } i.__esModule = !0, i["default"] = r; var o = t("./buildLine"),
                        a = n(o),
                        s = t("../../../utils"),
                        h = t("earcut"),
                        l = n(h) }, { "../../../utils": 125, "./buildLine": 61, earcut: 2 }],
                63: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e, i) { var n = t.shape,
                            r = n.x,
                            o = n.y,
                            h = n.width,
                            l = n.height; if (t.fill) { var u = (0, s.hex2rgb)(t.fillColor),
                                c = t.fillAlpha,
                                d = u[0] * c,
                                p = u[1] * c,
                                f = u[2] * c,
                                m = e.points,
                                g = e.indices,
                                v = m.length / 6;
                            m.push(r, o), m.push(d, p, f, c), m.push(r + h, o), m.push(d, p, f, c), m.push(r, o + l), m.push(d, p, f, c), m.push(r + h, o + l), m.push(d, p, f, c), g.push(v, v, v + 1, v + 2, v + 3, v + 3) } if (t.lineWidth) { var y = t.points;
                            t.points = [r, o, r + h, o, r + h, o + l, r, o + l, r, o], (0, a["default"])(t, e, i), t.points = y } } i.__esModule = !0, i["default"] = r; var o = t("./buildLine"),
                        a = n(o),
                        s = t("../../../utils") }, { "../../../utils": 125, "./buildLine": 61 }],
                64: [function(t, e, i) {
                    "use strict";

                    function n(t) {
                        return t && t.__esModule ? t : {
                            "default": t
                        }
                    }

                    function r(t, e, i) { var n = t.shape,
                            r = n.x,
                            o = n.y,
                            s = n.width,
                            l = n.height,
                            d = n.radius,
                            p = []; if (p.push(r, o + d), a(r, o + l - d, r, o + l, r + d, o + l, p), a(r + s - d, o + l, r + s, o + l, r + s, o + l - d, p), a(r + s, o + d, r + s, o, r + s - d, o, p), a(r + d, o, r, o, r, o + d + 1e-10, p), t.fill) { for (var f = (0, c.hex2rgb)(t.fillColor), m = t.fillAlpha, g = f[0] * m, v = f[1] * m, y = f[2] * m, _ = e.points, b = e.indices, x = _.length / 6, w = (0, h["default"])(p, null, 2), T = 0, S = w.length; T < S; T += 3) b.push(w[T] + x), b.push(w[T] + x), b.push(w[T + 1] + x), b.push(w[T + 2] + x), b.push(w[T + 2] + x); for (var M = 0, E = p.length; M < E; M++) _.push(p[M], p[++M], g, v, y, m) } if (t.lineWidth) { var A = t.points;
                            t.points = p, (0, u["default"])(t, e, i), t.points = A } }

                    function o(t, e, i) { var n = e - t; return t + n * i }

                    function a(t, e, i, n, r, a) { for (var s = arguments.length > 6 && void 0 !== arguments[6] ? arguments[6] : [], h = 20, l = s, u = 0, c = 0, d = 0, p = 0, f = 0, m = 0, g = 0, v = 0; g <= h; ++g) v = g / h, u = o(t, i, v), c = o(e, n, v), d = o(i, r, v), p = o(n, a, v), f = o(u, d, v), m = o(c, p, v), l.push(f, m); return l } i.__esModule = !0, i["default"] = r;
                    var s = t("earcut"),
                        h = n(s),
                        l = t("./buildLine"),
                        u = n(l),
                        c = t("../../../utils")
                }, { "../../../utils": 125, "./buildLine": 61, earcut: 2 }],
                65: [function(t, e, i) { "use strict";

                    function n(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function r(t) { return t && t.__esModule ? t : { "default": t } } i.__esModule = !0, i.autoDetectRenderer = i.Application = i.Filter = i.SpriteMaskFilter = i.Quad = i.RenderTarget = i.ObjectRenderer = i.WebGLManager = i.Shader = i.CanvasRenderTarget = i.TextureUvs = i.VideoBaseTexture = i.BaseRenderTexture = i.RenderTexture = i.BaseTexture = i.TextureMatrix = i.Texture = i.Spritesheet = i.CanvasGraphicsRenderer = i.GraphicsRenderer = i.GraphicsData = i.Graphics = i.TextMetrics = i.TextStyle = i.Text = i.SpriteRenderer = i.CanvasTinter = i.CanvasSpriteRenderer = i.Sprite = i.TransformBase = i.TransformStatic = i.Transform = i.Container = i.DisplayObject = i.Bounds = i.glCore = i.WebGLRenderer = i.CanvasRenderer = i.ticker = i.utils = i.settings = void 0; var o = t("./const");
                    Object.keys(o).forEach(function(t) { "default" !== t && "__esModule" !== t && Object.defineProperty(i, t, { enumerable: !0, get: function() { return o[t] } }) }); var a = t("./math");
                    Object.keys(a).forEach(function(t) { "default" !== t && "__esModule" !== t && Object.defineProperty(i, t, { enumerable: !0, get: function() { return a[t] } }) }); var s = t("pixi-gl-core");
                    Object.defineProperty(i, "glCore", { enumerable: !0, get: function() { return r(s)["default"] } }); var h = t("./display/Bounds");
                    Object.defineProperty(i, "Bounds", { enumerable: !0, get: function() { return r(h)["default"] } }); var l = t("./display/DisplayObject");
                    Object.defineProperty(i, "DisplayObject", { enumerable: !0, get: function() { return r(l)["default"] } }); var u = t("./display/Container");
                    Object.defineProperty(i, "Container", { enumerable: !0, get: function() { return r(u)["default"] } }); var c = t("./display/Transform");
                    Object.defineProperty(i, "Transform", { enumerable: !0, get: function() { return r(c)["default"] } }); var d = t("./display/TransformStatic");
                    Object.defineProperty(i, "TransformStatic", { enumerable: !0, get: function() { return r(d)["default"] } }); var p = t("./display/TransformBase");
                    Object.defineProperty(i, "TransformBase", { enumerable: !0, get: function() { return r(p)["default"] } }); var f = t("./sprites/Sprite");
                    Object.defineProperty(i, "Sprite", { enumerable: !0, get: function() { return r(f)["default"] } }); var m = t("./sprites/canvas/CanvasSpriteRenderer");
                    Object.defineProperty(i, "CanvasSpriteRenderer", { enumerable: !0, get: function() { return r(m)["default"] } }); var g = t("./sprites/canvas/CanvasTinter");
                    Object.defineProperty(i, "CanvasTinter", { enumerable: !0, get: function() { return r(g)["default"] } }); var v = t("./sprites/webgl/SpriteRenderer");
                    Object.defineProperty(i, "SpriteRenderer", { enumerable: !0, get: function() { return r(v)["default"] } }); var y = t("./text/Text");
                    Object.defineProperty(i, "Text", { enumerable: !0, get: function() { return r(y)["default"] } }); var _ = t("./text/TextStyle");
                    Object.defineProperty(i, "TextStyle", { enumerable: !0, get: function() { return r(_)["default"] } }); var b = t("./text/TextMetrics");
                    Object.defineProperty(i, "TextMetrics", { enumerable: !0, get: function() { return r(b)["default"] } }); var x = t("./graphics/Graphics");
                    Object.defineProperty(i, "Graphics", { enumerable: !0, get: function() { return r(x)["default"] } }); var w = t("./graphics/GraphicsData");
                    Object.defineProperty(i, "GraphicsData", { enumerable: !0, get: function() { return r(w)["default"] } }); var T = t("./graphics/webgl/GraphicsRenderer");
                    Object.defineProperty(i, "GraphicsRenderer", { enumerable: !0, get: function() { return r(T)["default"] } }); var S = t("./graphics/canvas/CanvasGraphicsRenderer");
                    Object.defineProperty(i, "CanvasGraphicsRenderer", { enumerable: !0, get: function() { return r(S)["default"] } }); var M = t("./textures/Spritesheet");
                    Object.defineProperty(i, "Spritesheet", { enumerable: !0, get: function() { return r(M)["default"] } }); var E = t("./textures/Texture");
                    Object.defineProperty(i, "Texture", { enumerable: !0, get: function() { return r(E)["default"] } }); var A = t("./textures/TextureMatrix");
                    Object.defineProperty(i, "TextureMatrix", { enumerable: !0, get: function() { return r(A)["default"] } }); var C = t("./textures/BaseTexture");
                    Object.defineProperty(i, "BaseTexture", { enumerable: !0, get: function() { return r(C)["default"] } }); var R = t("./textures/RenderTexture");
                    Object.defineProperty(i, "RenderTexture", { enumerable: !0, get: function() { return r(R)["default"] } }); var P = t("./textures/BaseRenderTexture");
                    Object.defineProperty(i, "BaseRenderTexture", { enumerable: !0, get: function() { return r(P)["default"] } }); var O = t("./textures/VideoBaseTexture");
                    Object.defineProperty(i, "VideoBaseTexture", { enumerable: !0, get: function() { return r(O)["default"] } }); var L = t("./textures/TextureUvs");
                    Object.defineProperty(i, "TextureUvs", { enumerable: !0, get: function() { return r(L)["default"] } }); var I = t("./renderers/canvas/utils/CanvasRenderTarget");
                    Object.defineProperty(i, "CanvasRenderTarget", { enumerable: !0, get: function() { return r(I)["default"] } }); var D = t("./Shader");
                    Object.defineProperty(i, "Shader", { enumerable: !0, get: function() { return r(D)["default"] } }); var k = t("./renderers/webgl/managers/WebGLManager");
                    Object.defineProperty(i, "WebGLManager", { enumerable: !0, get: function() { return r(k)["default"] } }); var B = t("./renderers/webgl/utils/ObjectRenderer");
                    Object.defineProperty(i, "ObjectRenderer", { enumerable: !0, get: function() { return r(B)["default"] } }); var N = t("./renderers/webgl/utils/RenderTarget");
                    Object.defineProperty(i, "RenderTarget", { enumerable: !0, get: function() { return r(N)["default"] } }); var F = t("./renderers/webgl/utils/Quad");
                    Object.defineProperty(i, "Quad", { enumerable: !0, get: function() { return r(F)["default"] } }); var U = t("./renderers/webgl/filters/spriteMask/SpriteMaskFilter");
                    Object.defineProperty(i, "SpriteMaskFilter", { enumerable: !0, get: function() { return r(U)["default"] } }); var G = t("./renderers/webgl/filters/Filter");
                    Object.defineProperty(i, "Filter", { enumerable: !0, get: function() { return r(G)["default"] } }); var j = t("./Application");
                    Object.defineProperty(i, "Application", { enumerable: !0, get: function() { return r(j)["default"] } }); var z = t("./autoDetectRenderer");
                    Object.defineProperty(i, "autoDetectRenderer", { enumerable: !0, get: function() { return z.autoDetectRenderer } }); var V = t("./utils"),
                        H = n(V),
                        W = t("./ticker"),
                        X = n(W),
                        Y = t("./settings"),
                        q = r(Y),
                        K = t("./renderers/canvas/CanvasRenderer"),
                        Z = r(K),
                        J = t("./renderers/webgl/WebGLRenderer"),
                        Q = r(J);
                    i.settings = q["default"], i.utils = H, i.ticker = X, i.CanvasRenderer = Z["default"], i.WebGLRenderer = Q["default"] }, { "./Application": 43, "./Shader": 44, "./autoDetectRenderer": 45, "./const": 46, "./display/Bounds": 47, "./display/Container": 48, "./display/DisplayObject": 49, "./display/Transform": 50, "./display/TransformBase": 51, "./display/TransformStatic": 52, "./graphics/Graphics": 53, "./graphics/GraphicsData": 54, "./graphics/canvas/CanvasGraphicsRenderer": 55, "./graphics/webgl/GraphicsRenderer": 57, "./math": 70, "./renderers/canvas/CanvasRenderer": 77, "./renderers/canvas/utils/CanvasRenderTarget": 79, "./renderers/webgl/WebGLRenderer": 84, "./renderers/webgl/filters/Filter": 86, "./renderers/webgl/filters/spriteMask/SpriteMaskFilter": 89, "./renderers/webgl/managers/WebGLManager": 93, "./renderers/webgl/utils/ObjectRenderer": 94, "./renderers/webgl/utils/Quad": 95, "./renderers/webgl/utils/RenderTarget": 96, "./settings": 101, "./sprites/Sprite": 102, "./sprites/canvas/CanvasSpriteRenderer": 103, "./sprites/canvas/CanvasTinter": 104, "./sprites/webgl/SpriteRenderer": 106, "./text/Text": 108, "./text/TextMetrics": 109, "./text/TextStyle": 110, "./textures/BaseRenderTexture": 111, "./textures/BaseTexture": 112, "./textures/RenderTexture": 113, "./textures/Spritesheet": 114, "./textures/Texture": 115, "./textures/TextureMatrix": 116, "./textures/TextureUvs": 117, "./textures/VideoBaseTexture": 118, "./ticker": 121, "./utils": 125, "pixi-gl-core": 15 }],
                66: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t) { return t < 0 ? -1 : t > 0 ? 1 : 0 }

                    function o() { for (var t = 0; t < 16; t++) { var e = [];
                            p.push(e); for (var i = 0; i < 16; i++)
                                for (var n = r(h[t] * h[i] + u[t] * l[i]), o = r(l[t] * h[i] + c[t] * l[i]), a = r(h[t] * u[i] + u[t] * c[i]), f = r(l[t] * u[i] + c[t] * c[i]), m = 0; m < 16; m++)
                                    if (h[m] === n && l[m] === o && u[m] === a && c[m] === f) { e.push(m); break } } for (var g = 0; g < 16; g++) { var v = new s["default"];
                            v.set(h[g], l[g], u[g], c[g], 0, 0), d.push(v) } } i.__esModule = !0; var a = t("./Matrix"),
                        s = n(a),
                        h = [1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1, 0, 1],
                        l = [0, 1, 1, 1, 0, -1, -1, -1, 0, 1, 1, 1, 0, -1, -1, -1],
                        u = [0, -1, -1, -1, 0, 1, 1, 1, 0, 1, 1, 1, 0, -1, -1, -1],
                        c = [1, 1, 0, -1, -1, -1, 0, 1, -1, -1, 0, 1, 1, 1, 0, -1],
                        d = [],
                        p = [];
                    o(); var f = { E: 0, SE: 1, S: 2, SW: 3, W: 4, NW: 5, N: 6, NE: 7, MIRROR_VERTICAL: 8, MIRROR_HORIZONTAL: 12, uX: function(t) { return h[t] }, uY: function(t) { return l[t] }, vX: function(t) { return u[t] }, vY: function(t) { return c[t] }, inv: function(t) { return 8 & t ? 15 & t : 7 & -t }, add: function(t, e) { return p[t][e] }, sub: function(t, e) { return p[t][f.inv(e)] }, rotate180: function(t) { return 4 ^ t }, isVertical: function(t) { return 2 === (3 & t) }, byDirection: function(t, e) { return 2 * Math.abs(t) <= Math.abs(e) ? e >= 0 ? f.S : f.N : 2 * Math.abs(e) <= Math.abs(t) ? t > 0 ? f.E : f.W : e > 0 ? t > 0 ? f.SE : f.SW : t > 0 ? f.NE : f.NW }, matrixAppendRotationInv: function(t, e) { var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                                n = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0,
                                r = d[f.inv(e)];
                            r.tx = i, r.ty = n, t.append(r) } };
                    i["default"] = f }, { "./Matrix": 67 }],
                67: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var o = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        a = t("./Point"),
                        s = n(a),
                        h = t("../const"),
                        l = function() {
                            function t() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1,
                                    i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                                    n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                                    o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 1,
                                    a = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 0,
                                    s = arguments.length > 5 && void 0 !== arguments[5] ? arguments[5] : 0;
                                r(this, t), this.a = e, this.b = i, this.c = n, this.d = o, this.tx = a, this.ty = s, this.array = null } return t.prototype.fromArray = function(t) { this.a = t[0], this.b = t[1], this.c = t[3], this.d = t[4], this.tx = t[2], this.ty = t[5] }, t.prototype.set = function(t, e, i, n, r, o) { return this.a = t, this.b = e, this.c = i, this.d = n, this.tx = r, this.ty = o, this }, t.prototype.toArray = function(t, e) { this.array || (this.array = new Float32Array(9)); var i = e || this.array; return t ? (i[0] = this.a, i[1] = this.b, i[2] = 0, i[3] = this.c, i[4] = this.d, i[5] = 0, i[6] = this.tx, i[7] = this.ty, i[8] = 1) : (i[0] = this.a, i[1] = this.c, i[2] = this.tx, i[3] = this.b, i[4] = this.d, i[5] = this.ty, i[6] = 0, i[7] = 0, i[8] = 1), i }, t.prototype.apply = function(t, e) { e = e || new s["default"]; var i = t.x,
                                    n = t.y; return e.x = this.a * i + this.c * n + this.tx, e.y = this.b * i + this.d * n + this.ty, e }, t.prototype.applyInverse = function(t, e) { e = e || new s["default"]; var i = 1 / (this.a * this.d + this.c * -this.b),
                                    n = t.x,
                                    r = t.y; return e.x = this.d * i * n + -this.c * i * r + (this.ty * this.c - this.tx * this.d) * i, e.y = this.a * i * r + -this.b * i * n + (-this.ty * this.a + this.tx * this.b) * i, e }, t.prototype.translate = function(t, e) { return this.tx += t, this.ty += e, this }, t.prototype.scale = function(t, e) { return this.a *= t, this.d *= e, this.c *= t, this.b *= e, this.tx *= t, this.ty *= e, this }, t.prototype.rotate = function(t) { var e = Math.cos(t),
                                    i = Math.sin(t),
                                    n = this.a,
                                    r = this.c,
                                    o = this.tx; return this.a = n * e - this.b * i, this.b = n * i + this.b * e, this.c = r * e - this.d * i, this.d = r * i + this.d * e, this.tx = o * e - this.ty * i, this.ty = o * i + this.ty * e, this }, t.prototype.append = function(t) { var e = this.a,
                                    i = this.b,
                                    n = this.c,
                                    r = this.d; return this.a = t.a * e + t.b * n, this.b = t.a * i + t.b * r, this.c = t.c * e + t.d * n, this.d = t.c * i + t.d * r, this.tx = t.tx * e + t.ty * n + this.tx, this.ty = t.tx * i + t.ty * r + this.ty, this }, t.prototype.setTransform = function(t, e, i, n, r, o, a, s, h) { return this.a = Math.cos(a + h) * r, this.b = Math.sin(a + h) * r, this.c = -Math.sin(a - s) * o, this.d = Math.cos(a - s) * o, this.tx = t - (i * this.a + n * this.c), this.ty = e - (i * this.b + n * this.d), this }, t.prototype.prepend = function(t) { var e = this.tx; if (1 !== t.a || 0 !== t.b || 0 !== t.c || 1 !== t.d) { var i = this.a,
                                        n = this.c;
                                    this.a = i * t.a + this.b * t.c, this.b = i * t.b + this.b * t.d, this.c = n * t.a + this.d * t.c, this.d = n * t.b + this.d * t.d } return this.tx = e * t.a + this.ty * t.c + t.tx, this.ty = e * t.b + this.ty * t.d + t.ty, this }, t.prototype.decompose = function(t) { var e = this.a,
                                    i = this.b,
                                    n = this.c,
                                    r = this.d,
                                    o = -Math.atan2(-n, r),
                                    a = Math.atan2(i, e),
                                    s = Math.abs(o + a); return s < 1e-5 || Math.abs(h.PI_2 - s) < 1e-5 ? (t.rotation = a, e < 0 && r >= 0 && (t.rotation += t.rotation <= 0 ? Math.PI : -Math.PI), t.skew.x = t.skew.y = 0) : (t.rotation = 0, t.skew.x = o, t.skew.y = a), t.scale.x = Math.sqrt(e * e + i * i), t.scale.y = Math.sqrt(n * n + r * r), t.position.x = this.tx, t.position.y = this.ty, t }, t.prototype.invert = function() { var t = this.a,
                                    e = this.b,
                                    i = this.c,
                                    n = this.d,
                                    r = this.tx,
                                    o = t * n - e * i; return this.a = n / o, this.b = -e / o, this.c = -i / o, this.d = t / o, this.tx = (i * this.ty - n * r) / o, this.ty = -(t * this.ty - e * r) / o, this }, t.prototype.identity = function() { return this.a = 1, this.b = 0, this.c = 0, this.d = 1, this.tx = 0, this.ty = 0, this }, t.prototype.clone = function() { var e = new t; return e.a = this.a, e.b = this.b, e.c = this.c, e.d = this.d, e.tx = this.tx, e.ty = this.ty, e }, t.prototype.copy = function(t) { return t.a = this.a, t.b = this.b, t.c = this.c, t.d = this.d, t.tx = this.tx, t.ty = this.ty, t }, o(t, null, [{ key: "IDENTITY", get: function() { return new t } }, { key: "TEMP_MATRIX", get: function() { return new t } }]), t }();
                    i["default"] = l }, { "../const": 46, "./Point": 69 }],
                68: [function(t, e, i) { "use strict";

                    function n(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var r = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        o = function() {
                            function t(e, i) { var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                                    o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
                                n(this, t), this._x = r, this._y = o, this.cb = e, this.scope = i } return t.prototype.set = function(t, e) { var i = t || 0,
                                    n = e || (0 !== e ? i : 0);
                                this._x === i && this._y === n || (this._x = i, this._y = n, this.cb.call(this.scope)) }, t.prototype.copy = function(t) { this._x === t.x && this._y === t.y || (this._x = t.x, this._y = t.y, this.cb.call(this.scope)) }, r(t, [{ key: "x", get: function() { return this._x }, set: function(t) { this._x !== t && (this._x = t, this.cb.call(this.scope)) } }, { key: "y", get: function() { return this._y }, set: function(t) { this._y !== t && (this._y = t, this.cb.call(this.scope)) } }]), t }();
                    i["default"] = o }, {}],
                69: [function(t, e, i) { "use strict";

                    function n(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var r = function() {
                        function t() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                                i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0;
                            n(this, t), this.x = e, this.y = i } return t.prototype.clone = function() { return new t(this.x, this.y) }, t.prototype.copy = function(t) { this.set(t.x, t.y) }, t.prototype.equals = function(t) { return t.x === this.x && t.y === this.y }, t.prototype.set = function(t, e) { this.x = t || 0, this.y = e || (0 !== e ? this.x : 0) }, t }();
                    i["default"] = r }, {}],
                70: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } } i.__esModule = !0; var r = t("./Point");
                    Object.defineProperty(i, "Point", { enumerable: !0, get: function() { return n(r)["default"] } }); var o = t("./ObservablePoint");
                    Object.defineProperty(i, "ObservablePoint", { enumerable: !0, get: function() { return n(o)["default"] } }); var a = t("./Matrix");
                    Object.defineProperty(i, "Matrix", { enumerable: !0, get: function() { return n(a)["default"] } }); var s = t("./GroupD8");
                    Object.defineProperty(i, "GroupD8", { enumerable: !0, get: function() { return n(s)["default"] } }); var h = t("./shapes/Circle");
                    Object.defineProperty(i, "Circle", { enumerable: !0, get: function() { return n(h)["default"] } }); var l = t("./shapes/Ellipse");
                    Object.defineProperty(i, "Ellipse", { enumerable: !0, get: function() { return n(l)["default"] } }); var u = t("./shapes/Polygon");
                    Object.defineProperty(i, "Polygon", { enumerable: !0, get: function() { return n(u)["default"] } }); var c = t("./shapes/Rectangle");
                    Object.defineProperty(i, "Rectangle", { enumerable: !0, get: function() { return n(c)["default"] } }); var d = t("./shapes/RoundedRectangle");
                    Object.defineProperty(i, "RoundedRectangle", { enumerable: !0, get: function() { return n(d)["default"] } }) }, { "./GroupD8": 66, "./Matrix": 67, "./ObservablePoint": 68, "./Point": 69, "./shapes/Circle": 71, "./shapes/Ellipse": 72, "./shapes/Polygon": 73, "./shapes/Rectangle": 74, "./shapes/RoundedRectangle": 75 }],
                71: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var o = t("./Rectangle"),
                        a = n(o),
                        s = t("../../const"),
                        h = function() {
                            function t() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                                    i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                                    n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0;
                                r(this, t), this.x = e, this.y = i, this.radius = n, this.type = s.SHAPES.CIRC } return t.prototype.clone = function() { return new t(this.x, this.y, this.radius) }, t.prototype.contains = function(t, e) { if (this.radius <= 0) return !1; var i = this.radius * this.radius,
                                    n = this.x - t,
                                    r = this.y - e; return n *= n, r *= r, n + r <= i }, t.prototype.getBounds = function() { return new a["default"](this.x - this.radius, this.y - this.radius, 2 * this.radius, 2 * this.radius) }, t }();
                    i["default"] = h }, { "../../const": 46, "./Rectangle": 74 }],
                72: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var o = t("./Rectangle"),
                        a = n(o),
                        s = t("../../const"),
                        h = function() {
                            function t() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                                    i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                                    n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                                    o = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
                                r(this, t), this.x = e, this.y = i, this.width = n, this.height = o, this.type = s.SHAPES.ELIP } return t.prototype.clone = function() { return new t(this.x, this.y, this.width, this.height) }, t.prototype.contains = function(t, e) { if (this.width <= 0 || this.height <= 0) return !1; var i = (t - this.x) / this.width,
                                    n = (e - this.y) / this.height; return i *= i, n *= n, i + n <= 1 }, t.prototype.getBounds = function() { return new a["default"](this.x - this.width, this.y - this.height, this.width, this.height) }, t }();
                    i["default"] = h }, { "../../const": 46, "./Rectangle": 74 }],
                73: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var o = t("../Point"),
                        a = n(o),
                        s = t("../../const"),
                        h = function() {
                            function t() { for (var e = arguments.length, i = Array(e), n = 0; n < e; n++) i[n] = arguments[n]; if (r(this, t), Array.isArray(i[0]) && (i = i[0]), i[0] instanceof a["default"]) { for (var o = [], h = 0, l = i.length; h < l; h++) o.push(i[h].x, i[h].y);
                                    i = o } this.closed = !0, this.points = i, this.type = s.SHAPES.POLY } return t.prototype.clone = function() { return new t(this.points.slice()) }, t.prototype.close = function() { var t = this.points;
                                t[0] === t[t.length - 2] && t[1] === t[t.length - 1] || t.push(t[0], t[1]) }, t.prototype.contains = function(t, e) { for (var i = !1, n = this.points.length / 2, r = 0, o = n - 1; r < n; o = r++) { var a = this.points[2 * r],
                                        s = this.points[2 * r + 1],
                                        h = this.points[2 * o],
                                        l = this.points[2 * o + 1],
                                        u = s > e != l > e && t < (h - a) * ((e - s) / (l - s)) + a;
                                    u && (i = !i) } return i }, t }();
                    i["default"] = h }, { "../../const": 46, "../Point": 69 }],
                74: [function(t, e, i) { "use strict";

                    function n(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var r = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        o = t("../../const"),
                        a = function() {
                            function t() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                                    i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                                    r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                                    a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0;
                                n(this, t), this.x = Number(e), this.y = Number(i), this.width = Number(r), this.height = Number(a), this.type = o.SHAPES.RECT } return t.prototype.clone = function() { return new t(this.x, this.y, this.width, this.height) }, t.prototype.copy = function(t) { return this.x = t.x, this.y = t.y, this.width = t.width, this.height = t.height, this }, t.prototype.contains = function(t, e) { return !(this.width <= 0 || this.height <= 0) && (t >= this.x && t < this.x + this.width && e >= this.y && e < this.y + this.height) }, t.prototype.pad = function(t, e) { t = t || 0, e = e || (0 !== e ? t : 0), this.x -= t, this.y -= e, this.width += 2 * t, this.height += 2 * e }, t.prototype.fit = function(t) { this.x < t.x && (this.width += this.x, this.width < 0 && (this.width = 0), this.x = t.x), this.y < t.y && (this.height += this.y, this.height < 0 && (this.height = 0), this.y = t.y), this.x + this.width > t.x + t.width && (this.width = t.width - this.x, this.width < 0 && (this.width = 0)), this.y + this.height > t.y + t.height && (this.height = t.height - this.y, this.height < 0 && (this.height = 0)) }, t.prototype.enlarge = function(t) { var e = Math.min(this.x, t.x),
                                    i = Math.max(this.x + this.width, t.x + t.width),
                                    n = Math.min(this.y, t.y),
                                    r = Math.max(this.y + this.height, t.y + t.height);
                                this.x = e, this.width = i - e, this.y = n, this.height = r - n }, r(t, [{ key: "left", get: function() { return this.x } }, { key: "right", get: function() { return this.x + this.width } }, { key: "top", get: function() { return this.y } }, { key: "bottom", get: function() { return this.y + this.height } }], [{ key: "EMPTY", get: function() { return new t(0, 0, 0, 0) } }]), t }();
                    i["default"] = a }, { "../../const": 46 }],
                75: [function(t, e, i) { "use strict";

                    function n(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var r = t("../../const"),
                        o = function() {
                            function t() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                                    i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 0,
                                    o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                                    a = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : 0,
                                    s = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 20;
                                n(this, t), this.x = e, this.y = i, this.width = o, this.height = a, this.radius = s, this.type = r.SHAPES.RREC } return t.prototype.clone = function() { return new t(this.x, this.y, this.width, this.height, this.radius) }, t.prototype.contains = function(t, e) { if (this.width <= 0 || this.height <= 0) return !1; if (t >= this.x && t <= this.x + this.width && e >= this.y && e <= this.y + this.height) { if (e >= this.y + this.radius && e <= this.y + this.height - this.radius || t >= this.x + this.radius && t <= this.x + this.width - this.radius) return !0; var i = t - (this.x + this.radius),
                                        n = e - (this.y + this.radius),
                                        r = this.radius * this.radius; if (i * i + n * n <= r) return !0; if (i = t - (this.x + this.width - this.radius), i * i + n * n <= r) return !0; if (n = e - (this.y + this.height - this.radius), i * i + n * n <= r) return !0; if (i = t - (this.x + this.radius), i * i + n * n <= r) return !0 } return !1 }, t }();
                    i["default"] = o }, { "../../const": 46 }],
                76: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var s = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        h = t("../utils"),
                        l = t("../math"),
                        u = t("../const"),
                        c = t("../settings"),
                        d = n(c),
                        p = t("../display/Container"),
                        f = n(p),
                        m = t("../textures/RenderTexture"),
                        g = n(m),
                        v = t("eventemitter3"),
                        y = n(v),
                        _ = new l.Matrix,
                        b = function(t) {
                            function e(i, n, a, s) { r(this, e); var c = o(this, t.call(this)); return (0, h.sayHello)(i), "number" == typeof n && (n = Object.assign({ width: n, height: a || d["default"].RENDER_OPTIONS.height }, s)), n = Object.assign({}, d["default"].RENDER_OPTIONS, n), c.options = n, c.type = u.RENDERER_TYPE.UNKNOWN, c.screen = new l.Rectangle(0, 0, n.width, n.height), c.view = n.view || document.createElement("canvas"), c.resolution = n.resolution || d["default"].RESOLUTION, c.transparent = n.transparent, c.autoResize = n.autoResize || !1, c.blendModes = null, c.preserveDrawingBuffer = n.preserveDrawingBuffer, c.clearBeforeRender = n.clearBeforeRender, c.roundPixels = n.roundPixels, c._backgroundColor = 0, c._backgroundColorRgba = [0, 0, 0, 0], c._backgroundColorString = "#000000", c.backgroundColor = n.backgroundColor || c._backgroundColor, c._tempDisplayObjectParent = new f["default"], c._lastObjectRendered = c._tempDisplayObjectParent, c } return a(e, t), e.prototype.resize = function(t, e) { this.screen.width = t, this.screen.height = e, this.view.width = t * this.resolution, this.view.height = e * this.resolution, this.autoResize && (this.view.style.width = t + "px", this.view.style.height = e + "px") }, e.prototype.generateTexture = function(t, e, i, n) { n = n || t.getLocalBounds(); var r = g["default"].create(0 | n.width, 0 | n.height, e, i); return _.tx = -n.x, _.ty = -n.y, this.render(t, r, !1, _, !0), r }, e.prototype.destroy = function(t) { t && this.view.parentNode && this.view.parentNode.removeChild(this.view), this.type = u.RENDERER_TYPE.UNKNOWN, this.view = null, this.screen = null, this.resolution = 0, this.transparent = !1, this.autoResize = !1, this.blendModes = null, this.options = null, this.preserveDrawingBuffer = !1, this.clearBeforeRender = !1, this.roundPixels = !1, this._backgroundColor = 0, this._backgroundColorRgba = null, this._backgroundColorString = null, this._tempDisplayObjectParent = null, this._lastObjectRendered = null }, s(e, [{ key: "width", get: function() { return this.view.width } }, { key: "height", get: function() { return this.view.height } }, { key: "backgroundColor", get: function() { return this._backgroundColor }, set: function(t) { this._backgroundColor = t, this._backgroundColorString = (0, h.hex2string)(t), (0, h.hex2rgb)(t, this._backgroundColorRgba) } }]), e }(y["default"]);
                    i["default"] = b }, { "../const": 46, "../display/Container": 48, "../math": 70, "../settings": 101, "../textures/RenderTexture": 113, "../utils": 125, eventemitter3: 3 }],
                77: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var s = t("../SystemRenderer"),
                        h = n(s),
                        l = t("./utils/CanvasMaskManager"),
                        u = n(l),
                        c = t("./utils/CanvasRenderTarget"),
                        d = n(c),
                        p = t("./utils/mapCanvasBlendModesToPixi"),
                        f = n(p),
                        m = t("../../utils"),
                        g = t("../../const"),
                        v = t("../../settings"),
                        y = n(v),
                        _ = function(t) {
                            function e(i, n, a) { r(this, e); var s = o(this, t.call(this, "Canvas", i, n, a)); return s.type = g.RENDERER_TYPE.CANVAS, s.rootContext = s.view.getContext("2d", { alpha: s.transparent }), s.context = s.rootContext, s.refresh = !0, s.maskManager = new u["default"](s), s.smoothProperty = "imageSmoothingEnabled", s.rootContext.imageSmoothingEnabled || (s.rootContext.webkitImageSmoothingEnabled ? s.smoothProperty = "webkitImageSmoothingEnabled" : s.rootContext.mozImageSmoothingEnabled ? s.smoothProperty = "mozImageSmoothingEnabled" : s.rootContext.oImageSmoothingEnabled ? s.smoothProperty = "oImageSmoothingEnabled" : s.rootContext.msImageSmoothingEnabled && (s.smoothProperty = "msImageSmoothingEnabled")), s.initPlugins(), s.blendModes = (0, f["default"])(), s._activeBlendMode = null, s.renderingToScreen = !1, s.resize(s.options.width, s.options.height), s } return a(e, t), e.prototype.render = function(t, e, i, n, r) { if (this.view) { this.renderingToScreen = !e, this.emit("prerender"); var o = this.resolution;
                                    e ? (e = e.baseTexture || e, e._canvasRenderTarget || (e._canvasRenderTarget = new d["default"](e.width, e.height, e.resolution), e.source = e._canvasRenderTarget.canvas, e.valid = !0), this.context = e._canvasRenderTarget.context, this.resolution = e._canvasRenderTarget.resolution) : this.context = this.rootContext; var a = this.context; if (e || (this._lastObjectRendered = t), !r) { var s = t.parent,
                                            h = this._tempDisplayObjectParent.transform.worldTransform;
                                        n ? (n.copy(h), this._tempDisplayObjectParent.transform._worldID = -1) : h.identity(), t.parent = this._tempDisplayObjectParent, t.updateTransform(), t.parent = s } a.save(), a.setTransform(1, 0, 0, 1, 0, 0), a.globalAlpha = 1, this._activeBlendMode = g.BLEND_MODES.NORMAL, a.globalCompositeOperation = this.blendModes[g.BLEND_MODES.NORMAL], navigator.isCocoonJS && this.view.screencanvas && (a.fillStyle = "black", a.clear()), (void 0 !== i ? i : this.clearBeforeRender) && this.renderingToScreen && (this.transparent ? a.clearRect(0, 0, this.width, this.height) : (a.fillStyle = this._backgroundColorString, a.fillRect(0, 0, this.width, this.height))); var l = this.context;
                                    this.context = a, t.renderCanvas(this), this.context = l, a.restore(), this.resolution = o, this.emit("postrender") } }, e.prototype.clear = function(t) { var e = this.context;
                                t = t || this._backgroundColorString, !this.transparent && t ? (e.fillStyle = t, e.fillRect(0, 0, this.width, this.height)) : e.clearRect(0, 0, this.width, this.height) }, e.prototype.setBlendMode = function(t) { this._activeBlendMode !== t && (this._activeBlendMode = t, this.context.globalCompositeOperation = this.blendModes[t]) }, e.prototype.destroy = function(e) { this.destroyPlugins(), t.prototype.destroy.call(this, e), this.context = null, this.refresh = !0, this.maskManager.destroy(), this.maskManager = null, this.smoothProperty = null }, e.prototype.resize = function(e, i) { t.prototype.resize.call(this, e, i), this.smoothProperty && (this.rootContext[this.smoothProperty] = y["default"].SCALE_MODE === g.SCALE_MODES.LINEAR) }, e.prototype.invalidateBlendMode = function() { this._activeBlendMode = this.blendModes.indexOf(this.context.globalCompositeOperation) }, e }(h["default"]);
                    i["default"] = _, m.pluginTarget.mixin(_) }, { "../../const": 46, "../../settings": 101, "../../utils": 125, "../SystemRenderer": 76, "./utils/CanvasMaskManager": 78, "./utils/CanvasRenderTarget": 79, "./utils/mapCanvasBlendModesToPixi": 81 }],
                78: [function(t, e, i) {
                    "use strict";

                    function n(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0;
                    var r = t("../../../const"),
                        o = function() {
                            function t(e) { n(this, t), this.renderer = e }
                            return t.prototype.pushMask = function(t) { var e = this.renderer;
                                e.context.save(); var i = t.alpha,
                                    n = t.transform.worldTransform,
                                    r = e.resolution;
                                e.context.setTransform(n.a * r, n.b * r, n.c * r, n.d * r, n.tx * r, n.ty * r), t._texture || (this.renderGraphicsShape(t), e.context.clip()), t.worldAlpha = i }, t.prototype.renderGraphicsShape = function(t) {
                                var e = this.renderer.context,
                                    i = t.graphicsData.length;
                                if (0 !== i) {
                                    e.beginPath();
                                    for (var n = 0; n < i; n++) {
                                        var o = t.graphicsData[n],
                                            a = o.shape;
                                        if (o.type === r.SHAPES.POLY) { var s = a.points;
                                            e.moveTo(s[0], s[1]); for (var h = 1; h < s.length / 2; h++) e.lineTo(s[2 * h], s[2 * h + 1]);
                                            s[0] === s[s.length - 2] && s[1] === s[s.length - 1] && e.closePath() } else if (o.type === r.SHAPES.RECT) e.rect(a.x, a.y, a.width, a.height), e.closePath();
                                        else if (o.type === r.SHAPES.CIRC) e.arc(a.x, a.y, a.radius, 0, 2 * Math.PI), e.closePath();
                                        else if (o.type === r.SHAPES.ELIP) {
                                            var l = 2 * a.width,
                                                u = 2 * a.height,
                                                c = a.x - l / 2,
                                                d = a.y - u / 2,
                                                p = .5522848,
                                                f = l / 2 * p,
                                                m = u / 2 * p,
                                                g = c + l,
                                                v = d + u,
                                                y = c + l / 2,
                                                _ = d + u / 2;
                                            e.moveTo(c, _),
                                                e.bezierCurveTo(c, _ - m, y - f, d, y, d), e.bezierCurveTo(y + f, d, g, _ - m, g, _), e.bezierCurveTo(g, _ + m, y + f, v, y, v), e.bezierCurveTo(y - f, v, c, _ + m, c, _), e.closePath()
                                        } else if (o.type === r.SHAPES.RREC) { var b = a.x,
                                                x = a.y,
                                                w = a.width,
                                                T = a.height,
                                                S = a.radius,
                                                M = Math.min(w, T) / 2 | 0;
                                            S = S > M ? M : S, e.moveTo(b, x + S), e.lineTo(b, x + T - S), e.quadraticCurveTo(b, x + T, b + S, x + T), e.lineTo(b + w - S, x + T), e.quadraticCurveTo(b + w, x + T, b + w, x + T - S), e.lineTo(b + w, x + S), e.quadraticCurveTo(b + w, x, b + w - S, x), e.lineTo(b + S, x), e.quadraticCurveTo(b, x, b, x + S), e.closePath() }
                                    }
                                }
                            }, t.prototype.popMask = function(t) { t.context.restore(), t.invalidateBlendMode() }, t.prototype.destroy = function() {}, t
                        }();
                    i["default"] = o
                }, { "../../../const": 46 }],
                79: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var o = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        a = t("../../../settings"),
                        s = n(a),
                        h = function() {
                            function t(e, i, n) { r(this, t), this.canvas = document.createElement("canvas"), this.context = this.canvas.getContext("2d"), this.resolution = n || s["default"].RESOLUTION, this.resize(e, i) } return t.prototype.clear = function() { this.context.setTransform(1, 0, 0, 1, 0, 0), this.context.clearRect(0, 0, this.canvas.width, this.canvas.height) }, t.prototype.resize = function(t, e) { this.canvas.width = t * this.resolution, this.canvas.height = e * this.resolution }, t.prototype.destroy = function() { this.context = null, this.canvas = null }, o(t, [{ key: "width", get: function() { return this.canvas.width }, set: function(t) { this.canvas.width = t } }, { key: "height", get: function() { return this.canvas.height }, set: function(t) { this.canvas.height = t } }]), t }();
                    i["default"] = h }, { "../../../settings": 101 }],
                80: [function(t, e, i) { "use strict";

                    function n(t) { var e = document.createElement("canvas");
                        e.width = 6, e.height = 1; var i = e.getContext("2d"); return i.fillStyle = t, i.fillRect(0, 0, 6, 1), e }

                    function r() { if ("undefined" == typeof document) return !1; var t = n("#ff00ff"),
                            e = n("#ffff00"),
                            i = document.createElement("canvas");
                        i.width = 6, i.height = 1; var r = i.getContext("2d");
                        r.globalCompositeOperation = "multiply", r.drawImage(t, 0, 0), r.drawImage(e, 2, 0); var o = r.getImageData(2, 0, 1, 1); if (!o) return !1; var a = o.data; return 255 === a[0] && 0 === a[1] && 0 === a[2] } i.__esModule = !0, i["default"] = r }, {}],
                81: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r() { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : []; return (0, s["default"])() ? (t[o.BLEND_MODES.NORMAL] = "source-over", t[o.BLEND_MODES.ADD] = "lighter", t[o.BLEND_MODES.MULTIPLY] = "multiply", t[o.BLEND_MODES.SCREEN] = "screen", t[o.BLEND_MODES.OVERLAY] = "overlay", t[o.BLEND_MODES.DARKEN] = "darken", t[o.BLEND_MODES.LIGHTEN] = "lighten", t[o.BLEND_MODES.COLOR_DODGE] = "color-dodge", t[o.BLEND_MODES.COLOR_BURN] = "color-burn", t[o.BLEND_MODES.HARD_LIGHT] = "hard-light", t[o.BLEND_MODES.SOFT_LIGHT] = "soft-light", t[o.BLEND_MODES.DIFFERENCE] = "difference", t[o.BLEND_MODES.EXCLUSION] = "exclusion", t[o.BLEND_MODES.HUE] = "hue", t[o.BLEND_MODES.SATURATION] = "saturate", t[o.BLEND_MODES.COLOR] = "color", t[o.BLEND_MODES.LUMINOSITY] = "luminosity") : (t[o.BLEND_MODES.NORMAL] = "source-over", t[o.BLEND_MODES.ADD] = "lighter", t[o.BLEND_MODES.MULTIPLY] = "source-over", t[o.BLEND_MODES.SCREEN] = "source-over", t[o.BLEND_MODES.OVERLAY] = "source-over", t[o.BLEND_MODES.DARKEN] = "source-over", t[o.BLEND_MODES.LIGHTEN] = "source-over", t[o.BLEND_MODES.COLOR_DODGE] = "source-over", t[o.BLEND_MODES.COLOR_BURN] = "source-over", t[o.BLEND_MODES.HARD_LIGHT] = "source-over", t[o.BLEND_MODES.SOFT_LIGHT] = "source-over", t[o.BLEND_MODES.DIFFERENCE] = "source-over", t[o.BLEND_MODES.EXCLUSION] = "source-over", t[o.BLEND_MODES.HUE] = "source-over", t[o.BLEND_MODES.SATURATION] = "source-over", t[o.BLEND_MODES.COLOR] = "source-over", t[o.BLEND_MODES.LUMINOSITY] = "source-over"), t[o.BLEND_MODES.NORMAL_NPM] = t[o.BLEND_MODES.NORMAL], t[o.BLEND_MODES.ADD_NPM] = t[o.BLEND_MODES.ADD], t[o.BLEND_MODES.SCREEN_NPM] = t[o.BLEND_MODES.SCREEN], t } i.__esModule = !0, i["default"] = r; var o = t("../../../const"),
                        a = t("./canUseNewCanvasBlendModes"),
                        s = n(a) }, { "../../../const": 46, "./canUseNewCanvasBlendModes": 80 }],
                82: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var o = t("../../const"),
                        a = t("../../settings"),
                        s = n(a),
                        h = function() {
                            function t(e) { r(this, t), this.renderer = e, this.count = 0, this.checkCount = 0, this.maxIdle = s["default"].GC_MAX_IDLE, this.checkCountMax = s["default"].GC_MAX_CHECK_COUNT, this.mode = s["default"].GC_MODE } return t.prototype.update = function() { this.count++, this.mode !== o.GC_MODES.MANUAL && (this.checkCount++, this.checkCount > this.checkCountMax && (this.checkCount = 0, this.run())) }, t.prototype.run = function() { for (var t = this.renderer.textureManager, e = t._managedTextures, i = !1, n = 0; n < e.length; n++) { var r = e[n];!r._glRenderTargets && this.count - r.touched > this.maxIdle && (t.destroyTexture(r, !0), e[n] = null, i = !0) } if (i) { for (var o = 0, a = 0; a < e.length; a++) null !== e[a] && (e[o++] = e[a]);
                                    e.length = o } }, t.prototype.unload = function(t) { var e = this.renderer.textureManager;
                                t._texture && t._texture._glRenderTargets && e.destroyTexture(t._texture, !0); for (var i = t.children.length - 1; i >= 0; i--) this.unload(t.children[i]) }, t }();
                    i["default"] = h }, { "../../const": 46, "../../settings": 101 }],
                83: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var o = t("pixi-gl-core"),
                        a = t("../../const"),
                        s = t("./utils/RenderTarget"),
                        h = n(s),
                        l = t("../../utils"),
                        u = function() {
                            function t(e) { r(this, t), this.renderer = e, this.gl = e.gl, this._managedTextures = [] } return t.prototype.bindTexture = function() {}, t.prototype.getTexture = function() {}, t.prototype.updateTexture = function(t, e) { var i = this.gl,
                                    n = !!t._glRenderTargets; if (!t.hasLoaded) return null; var r = this.renderer.boundTextures; if (void 0 === e) { e = 0; for (var s = 0; s < r.length; ++s)
                                        if (r[s] === t) { e = s; break } } r[e] = t, i.activeTexture(i.TEXTURE0 + e); var l = t._glTextures[this.renderer.CONTEXT_UID]; if (l) n ? t._glRenderTargets[this.renderer.CONTEXT_UID].resize(t.width, t.height) : l.upload(t.source);
                                else { if (n) { var u = new h["default"](this.gl, t.width, t.height, t.scaleMode, t.resolution);
                                        u.resize(t.width, t.height), t._glRenderTargets[this.renderer.CONTEXT_UID] = u, l = u.texture } else l = new o.GLTexture(this.gl, null, null, null, null), l.bind(e), l.premultiplyAlpha = !0, l.upload(t.source);
                                    t._glTextures[this.renderer.CONTEXT_UID] = l, t.on("update", this.updateTexture, this), t.on("dispose", this.destroyTexture, this), this._managedTextures.push(t), t.isPowerOfTwo ? (t.mipmap && l.enableMipmap(), t.wrapMode === a.WRAP_MODES.CLAMP ? l.enableWrapClamp() : t.wrapMode === a.WRAP_MODES.REPEAT ? l.enableWrapRepeat() : l.enableWrapMirrorRepeat()) : l.enableWrapClamp(), t.scaleMode === a.SCALE_MODES.NEAREST ? l.enableNearestScaling() : l.enableLinearScaling() } return l }, t.prototype.destroyTexture = function(t, e) { if (t = t.baseTexture || t, t.hasLoaded) { var i = this.renderer.CONTEXT_UID,
                                        n = t._glTextures,
                                        r = t._glRenderTargets; if (n[i] && (this.renderer.unbindTexture(t), n[i].destroy(), t.off("update", this.updateTexture, this), t.off("dispose", this.destroyTexture, this), delete n[i], !e)) { var o = this._managedTextures.indexOf(t);
                                        o !== -1 && (0, l.removeItems)(this._managedTextures, o, 1) } r && r[i] && (r[i].destroy(), delete r[i]) } }, t.prototype.removeAll = function() { for (var t = 0; t < this._managedTextures.length; ++t) { var e = this._managedTextures[t];
                                    e._glTextures[this.renderer.CONTEXT_UID] && delete e._glTextures[this.renderer.CONTEXT_UID] } }, t.prototype.destroy = function() { for (var t = 0; t < this._managedTextures.length; ++t) { var e = this._managedTextures[t];
                                    this.destroyTexture(e, !0), e.off("update", this.updateTexture, this), e.off("dispose", this.destroyTexture, this) } this._managedTextures = null }, t }();
                    i["default"] = u }, { "../../const": 46, "../../utils": 125, "./utils/RenderTarget": 96, "pixi-gl-core": 15 }],
                84: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var s = t("../SystemRenderer"),
                        h = n(s),
                        l = t("./managers/MaskManager"),
                        u = n(l),
                        c = t("./managers/StencilManager"),
                        d = n(c),
                        p = t("./managers/FilterManager"),
                        f = n(p),
                        m = t("./utils/RenderTarget"),
                        g = n(m),
                        v = t("./utils/ObjectRenderer"),
                        y = n(v),
                        _ = t("./TextureManager"),
                        b = n(_),
                        x = t("../../textures/BaseTexture"),
                        w = n(x),
                        T = t("./TextureGarbageCollector"),
                        S = n(T),
                        M = t("./WebGLState"),
                        E = n(M),
                        A = t("./utils/mapWebGLDrawModesToPixi"),
                        C = n(A),
                        R = t("./utils/validateContext"),
                        P = n(R),
                        O = t("../../utils"),
                        L = t("pixi-gl-core"),
                        I = n(L),
                        D = t("../../const"),
                        k = 0,
                        B = function(t) {
                            function e(i, n, a) { r(this, e); var s = o(this, t.call(this, "WebGL", i, n, a)); return s.legacy = s.options.legacy, s.legacy && (I["default"].VertexArrayObject.FORCE_NATIVE = !0), s.type = D.RENDERER_TYPE.WEBGL, s.handleContextLost = s.handleContextLost.bind(s), s.handleContextRestored = s.handleContextRestored.bind(s), s.view.addEventListener("webglcontextlost", s.handleContextLost, !1), s.view.addEventListener("webglcontextrestored", s.handleContextRestored, !1), s._contextOptions = { alpha: s.transparent, antialias: s.options.antialias, premultipliedAlpha: s.transparent && "notMultiplied" !== s.transparent, stencil: !0, preserveDrawingBuffer: s.options.preserveDrawingBuffer, powerPreference: s.options.powerPreference }, s._backgroundColorRgba[3] = s.transparent ? 0 : 1, s.maskManager = new u["default"](s), s.stencilManager = new d["default"](s), s.emptyRenderer = new y["default"](s), s.currentRenderer = s.emptyRenderer, s.textureManager = null, s.filterManager = null, s.initPlugins(), s.options.context && (0, P["default"])(s.options.context), s.gl = s.options.context || I["default"].createContext(s.view, s._contextOptions), s.CONTEXT_UID = k++, s.state = new E["default"](s.gl), s.renderingToScreen = !0, s.boundTextures = null, s._activeShader = null, s._activeVao = null, s._activeRenderTarget = null, s._initContext(), s.drawModes = (0, C["default"])(s.gl), s._nextTextureLocation = 0, s.setBlendMode(0), s } return a(e, t), e.prototype._initContext = function() { var t = this.gl;
                                t.isContextLost() && t.getExtension("WEBGL_lose_context") && t.getExtension("WEBGL_lose_context").restoreContext(); var e = t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS);
                                this._activeShader = null, this._activeVao = null, this.boundTextures = new Array(e), this.emptyTextures = new Array(e), this.textureManager = new b["default"](this), this.filterManager = new f["default"](this), this.textureGC = new S["default"](this), this.state.resetToDefault(), this.rootRenderTarget = new g["default"](t, this.width, this.height, null, this.resolution, (!0)), this.rootRenderTarget.clearColor = this._backgroundColorRgba, this.bindRenderTarget(this.rootRenderTarget); var i = new I["default"].GLTexture.fromData(t, null, 1, 1),
                                    n = { _glTextures: {} };
                                n._glTextures[this.CONTEXT_UID] = {}; for (var r = 0; r < e; r++) { var o = new w["default"];
                                    o._glTextures[this.CONTEXT_UID] = i, this.boundTextures[r] = n, this.emptyTextures[r] = o, this.bindTexture(null, r) } this.emit("context", t), this.resize(this.screen.width, this.screen.height) }, e.prototype.render = function(t, e, i, n, r) { if (this.renderingToScreen = !e, this.emit("prerender"), this.gl && !this.gl.isContextLost()) { if (this._nextTextureLocation = 0, e || (this._lastObjectRendered = t), !r) { var o = t.parent;
                                        t.parent = this._tempDisplayObjectParent, t.updateTransform(), t.parent = o } this.bindRenderTexture(e, n), this.currentRenderer.start(), (void 0 !== i ? i : this.clearBeforeRender) && this._activeRenderTarget.clear(), t.renderWebGL(this), this.currentRenderer.flush(), this.textureGC.update(), this.emit("postrender") } }, e.prototype.setObjectRenderer = function(t) { this.currentRenderer !== t && (this.currentRenderer.stop(), this.currentRenderer = t, this.currentRenderer.start()) }, e.prototype.flush = function() { this.setObjectRenderer(this.emptyRenderer) }, e.prototype.resize = function(t, e) { h["default"].prototype.resize.call(this, t, e), this.rootRenderTarget.resize(t, e), this._activeRenderTarget === this.rootRenderTarget && (this.rootRenderTarget.activate(), this._activeShader && (this._activeShader.uniforms.projectionMatrix = this.rootRenderTarget.projectionMatrix.toArray(!0))) }, e.prototype.setBlendMode = function(t) { this.state.setBlendMode(t) }, e.prototype.clear = function(t) { this._activeRenderTarget.clear(t) }, e.prototype.setTransform = function(t) { this._activeRenderTarget.transform = t }, e.prototype.clearRenderTexture = function(t, e) { var i = t.baseTexture,
                                    n = i._glRenderTargets[this.CONTEXT_UID]; return n && n.clear(e), this }, e.prototype.bindRenderTexture = function(t, e) { var i = void 0; if (t) { var n = t.baseTexture;
                                    n._glRenderTargets[this.CONTEXT_UID] || this.textureManager.updateTexture(n, 0), this.unbindTexture(n), i = n._glRenderTargets[this.CONTEXT_UID], i.setFrame(t.frame) } else i = this.rootRenderTarget; return i.transform = e, this.bindRenderTarget(i), this }, e.prototype.bindRenderTarget = function(t) { return t !== this._activeRenderTarget && (this._activeRenderTarget = t, t.activate(), this._activeShader && (this._activeShader.uniforms.projectionMatrix = t.projectionMatrix.toArray(!0)), this.stencilManager.setMaskStack(t.stencilMaskStack)), this }, e.prototype.bindShader = function(t, e) { return this._activeShader !== t && (this._activeShader = t, t.bind(), e !== !1 && (t.uniforms.projectionMatrix = this._activeRenderTarget.projectionMatrix.toArray(!0))), this }, e.prototype.bindTexture = function(t, e, i) { if (t = t || this.emptyTextures[e], t = t.baseTexture || t, t.touched = this.textureGC.count, i) e = e || 0;
                                else { for (var n = 0; n < this.boundTextures.length; n++)
                                        if (this.boundTextures[n] === t) return n;
                                    void 0 === e && (this._nextTextureLocation++, this._nextTextureLocation %= this.boundTextures.length, e = this.boundTextures.length - this._nextTextureLocation - 1) } var r = this.gl,
                                    o = t._glTextures[this.CONTEXT_UID]; return o ? (this.boundTextures[e] = t, r.activeTexture(r.TEXTURE0 + e), r.bindTexture(r.TEXTURE_2D, o.texture)) : this.textureManager.updateTexture(t, e), e }, e.prototype.unbindTexture = function(t) { var e = this.gl;
                                t = t.baseTexture || t; for (var i = 0; i < this.boundTextures.length; i++) this.boundTextures[i] === t && (this.boundTextures[i] = this.emptyTextures[i], e.activeTexture(e.TEXTURE0 + i), e.bindTexture(e.TEXTURE_2D, this.emptyTextures[i]._glTextures[this.CONTEXT_UID].texture)); return this }, e.prototype.createVao = function() { return new I["default"].VertexArrayObject(this.gl, this.state.attribState) }, e.prototype.bindVao = function(t) { return this._activeVao === t ? this : (t ? t.bind() : this._activeVao && this._activeVao.unbind(), this._activeVao = t, this) }, e.prototype.reset = function() { this.setObjectRenderer(this.emptyRenderer), this.bindVao(null), this._activeShader = null, this._activeRenderTarget = this.rootRenderTarget; for (var t = 0; t < this.boundTextures.length; t++) this.boundTextures[t] = this.emptyTextures[t]; return this.rootRenderTarget.activate(), this.state.resetToDefault(), this }, e.prototype.handleContextLost = function(t) { t.preventDefault() }, e.prototype.handleContextRestored = function() { this.textureManager.removeAll(), this.filterManager.destroy(!0), this._initContext() }, e.prototype.destroy = function(e) { this.destroyPlugins(), this.view.removeEventListener("webglcontextlost", this.handleContextLost), this.view.removeEventListener("webglcontextrestored", this.handleContextRestored), this.textureManager.destroy(), t.prototype.destroy.call(this, e), this.uid = 0, this.maskManager.destroy(), this.stencilManager.destroy(), this.filterManager.destroy(), this.maskManager = null, this.filterManager = null, this.textureManager = null, this.currentRenderer = null, this.handleContextLost = null, this.handleContextRestored = null, this._contextOptions = null, this.gl.useProgram(null), this.gl.getExtension("WEBGL_lose_context") && this.gl.getExtension("WEBGL_lose_context").loseContext(), this.gl = null }, e }(h["default"]);
                    i["default"] = B, O.pluginTarget.mixin(B) }, { "../../const": 46, "../../textures/BaseTexture": 112, "../../utils": 125, "../SystemRenderer": 76, "./TextureGarbageCollector": 82, "./TextureManager": 83, "./WebGLState": 85, "./managers/FilterManager": 90, "./managers/MaskManager": 91, "./managers/StencilManager": 92, "./utils/ObjectRenderer": 94, "./utils/RenderTarget": 96, "./utils/mapWebGLDrawModesToPixi": 99, "./utils/validateContext": 100, "pixi-gl-core": 15 }],
                85: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var o = t("./utils/mapWebGLBlendModesToPixi"),
                        a = n(o),
                        s = 0,
                        h = 1,
                        l = 2,
                        u = 3,
                        c = 4,
                        d = function() {
                            function t(e) { r(this, t), this.activeState = new Uint8Array(16), this.defaultState = new Uint8Array(16), this.defaultState[0] = 1, this.stackIndex = 0, this.stack = [], this.gl = e, this.maxAttribs = e.getParameter(e.MAX_VERTEX_ATTRIBS), this.attribState = { tempAttribState: new Array(this.maxAttribs), attribState: new Array(this.maxAttribs) }, this.blendModes = (0, a["default"])(e), this.nativeVaoExtension = e.getExtension("OES_vertex_array_object") || e.getExtension("MOZ_OES_vertex_array_object") || e.getExtension("WEBKIT_OES_vertex_array_object") } return t.prototype.push = function() { var t = this.stack[this.stackIndex];
                                t || (t = this.stack[this.stackIndex] = new Uint8Array(16)), ++this.stackIndex; for (var e = 0; e < this.activeState.length; e++) t[e] = this.activeState[e] }, t.prototype.pop = function() { var t = this.stack[--this.stackIndex];
                                this.setState(t) }, t.prototype.setState = function(t) { this.setBlend(t[s]), this.setDepthTest(t[h]), this.setFrontFace(t[l]), this.setCullFace(t[u]), this.setBlendMode(t[c]) }, t.prototype.setBlend = function(t) { t = t ? 1 : 0, this.activeState[s] !== t && (this.activeState[s] = t, this.gl[t ? "enable" : "disable"](this.gl.BLEND)) }, t.prototype.setBlendMode = function(t) { if (t !== this.activeState[c]) { this.activeState[c] = t; var e = this.blendModes[t];
                                    2 === e.length ? this.gl.blendFunc(e[0], e[1]) : this.gl.blendFuncSeparate(e[0], e[1], e[2], e[3]) } }, t.prototype.setDepthTest = function(t) { t = t ? 1 : 0, this.activeState[h] !== t && (this.activeState[h] = t, this.gl[t ? "enable" : "disable"](this.gl.DEPTH_TEST)) }, t.prototype.setCullFace = function(t) { t = t ? 1 : 0, this.activeState[u] !== t && (this.activeState[u] = t, this.gl[t ? "enable" : "disable"](this.gl.CULL_FACE)) }, t.prototype.setFrontFace = function(t) { t = t ? 1 : 0, this.activeState[l] !== t && (this.activeState[l] = t, this.gl.frontFace(this.gl[t ? "CW" : "CCW"])) }, t.prototype.resetAttributes = function() { for (var t = 0; t < this.attribState.tempAttribState.length; t++) this.attribState.tempAttribState[t] = 0; for (var e = 0; e < this.attribState.attribState.length; e++) this.attribState.attribState[e] = 0; for (var i = 1; i < this.maxAttribs; i++) this.gl.disableVertexAttribArray(i) }, t.prototype.resetToDefault = function() { this.nativeVaoExtension && this.nativeVaoExtension.bindVertexArrayOES(null), this.resetAttributes(); for (var t = 0; t < this.activeState.length; ++t) this.activeState[t] = 32;
                                this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, !1), this.setState(this.defaultState) }, t }();
                    i["default"] = d }, { "./utils/mapWebGLBlendModesToPixi": 98 }],
                86: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var o = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        a = t("./extractUniformsFromSrc"),
                        s = n(a),
                        h = t("../../../utils"),
                        l = t("../../../const"),
                        u = t("../../../settings"),
                        c = n(u),
                        d = {},
                        p = function() {
                            function t(e, i, n) { r(this, t), this.vertexSrc = e || t.defaultVertexSrc, this.fragmentSrc = i || t.defaultFragmentSrc, this._blendMode = l.BLEND_MODES.NORMAL, this.uniformData = n || (0, s["default"])(this.vertexSrc, this.fragmentSrc, "projectionMatrix|uSampler"), this.uniforms = {}; for (var o in this.uniformData) this.uniforms[o] = this.uniformData[o].value, this.uniformData[o].type && (this.uniformData[o].type = this.uniformData[o].type.toLowerCase());
                                this.glShaders = {}, d[this.vertexSrc + this.fragmentSrc] || (d[this.vertexSrc + this.fragmentSrc] = (0, h.uid)()), this.glShaderKey = d[this.vertexSrc + this.fragmentSrc], this.padding = 4, this.resolution = c["default"].FILTER_RESOLUTION, this.enabled = !0, this.autoFit = !0 } return t.prototype.apply = function(t, e, i, n, r) { t.applyFilter(this, e, i, n) }, o(t, [{ key: "blendMode", get: function() { return this._blendMode }, set: function(t) { this._blendMode = t } }], [{ key: "defaultVertexSrc", get: function() { return ["attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "uniform mat3 projectionMatrix;", "uniform mat3 filterMatrix;", "varying vec2 vTextureCoord;", "varying vec2 vFilterCoord;", "void main(void){", "   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);", "   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;", "   vTextureCoord = aTextureCoord ;", "}"].join("\n") } }, { key: "defaultFragmentSrc", get: function() { return ["varying vec2 vTextureCoord;", "varying vec2 vFilterCoord;", "uniform sampler2D uSampler;", "uniform sampler2D filterSampler;", "void main(void){", "   vec4 masky = texture2D(filterSampler, vFilterCoord);", "   vec4 sample = texture2D(uSampler, vTextureCoord);", "   vec4 color;", "   if(mod(vFilterCoord.x, 1.0) > 0.5)", "   {", "     color = vec4(1.0, 0.0, 0.0, 1.0);", "   }", "   else", "   {", "     color = vec4(0.0, 1.0, 0.0, 1.0);", "   }", "   gl_FragColor = mix(sample, masky, 0.5);", "   gl_FragColor *= sample.a;", "}"].join("\n") } }]), t }();
                    i["default"] = p }, { "../../../const": 46, "../../../settings": 101, "../../../utils": 125, "./extractUniformsFromSrc": 87 }],
                87: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e, i) { var n = o(t, i),
                            r = o(e, i); return Object.assign(n, r) }

                    function o(t) { for (var e = new RegExp("^(projectionMatrix|uSampler|filterArea|filterClamp)$"), i = {}, n = void 0, r = t.replace(/\s+/g, " ").split(/\s*;\s*/), o = 0; o < r.length; o++) { var a = r[o].trim(); if (a.indexOf("uniform") > -1) { var s = a.split(" "),
                                    l = s[1],
                                    u = s[2],
                                    c = 1;
                                u.indexOf("[") > -1 && (n = u.split(/\[|]/), u = n[0], c *= Number(n[1])), u.match(e) || (i[u] = { value: h(l, c), name: u, type: l }) } } return i } i.__esModule = !0, i["default"] = r; var a = t("pixi-gl-core"),
                        s = n(a),
                        h = s["default"].shader.defaultValue }, { "pixi-gl-core": 15 }],
                88: [function(t, e, i) { "use strict";

                    function n(t, e, i) { var n = t.identity(); return n.translate(e.x / i.width, e.y / i.height), n.scale(i.width, i.height), n }

                    function r(t, e, i) { var n = t.identity();
                        n.translate(e.x / i.width, e.y / i.height); var r = i.width / e.width,
                            o = i.height / e.height; return n.scale(r, o), n }

                    function o(t, e, i, n) { var r = n._texture.orig,
                            o = t.set(i.width, 0, 0, i.height, e.x, e.y),
                            s = n.worldTransform.copy(a.Matrix.TEMP_MATRIX); return s.invert(), o.prepend(s), o.scale(1 / r.width, 1 / r.height), o.translate(n.anchor.x, n.anchor.y), o } i.__esModule = !0, i.calculateScreenSpaceMatrix = n, i.calculateNormalizedScreenSpaceMatrix = r, i.calculateSpriteMatrix = o; var a = t("../../../math") }, { "../../../math": 70 }],
                89: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var s = t("../Filter"),
                        h = n(s),
                        l = t("../../../../math"),
                        u = (t("path"), t("../../../../textures/TextureMatrix")),
                        c = n(u),
                        d = function(t) {
                            function e(i) { r(this, e); var n = new l.Matrix,
                                    a = o(this, t.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 otherMatrix;\n\nvarying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n}\n", "varying vec2 vMaskCoord;\nvarying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform sampler2D mask;\nuniform float alpha;\nuniform vec4 maskClamp;\n\nvoid main(void)\n{\n    float clip = step(3.5,\n        step(maskClamp.x, vMaskCoord.x) +\n        step(maskClamp.y, vMaskCoord.y) +\n        step(vMaskCoord.x, maskClamp.z) +\n        step(vMaskCoord.y, maskClamp.w));\n\n    vec4 original = texture2D(uSampler, vTextureCoord);\n    vec4 masky = texture2D(mask, vMaskCoord);\n\n    original *= (masky.r * masky.a * alpha * clip);\n\n    gl_FragColor = original;\n}\n")); return i.renderable = !1, a.maskSprite = i, a.maskMatrix = n, a } return a(e, t), e.prototype.apply = function(t, e, i) { var n = this.maskSprite,
                                    r = this.maskSprite.texture;
                                r.valid && (r.transform || (r.transform = new c["default"](r, 0)), r.transform.update(), this.uniforms.mask = r, this.uniforms.otherMatrix = t.calculateSpriteMatrix(this.maskMatrix, n).prepend(r.transform.mapCoord), this.uniforms.alpha = n.worldAlpha, this.uniforms.maskClamp = r.transform.uClampFrame, t.applyFilter(this, e, i)) }, e }(h["default"]);
                    i["default"] = d }, { "../../../../math": 70, "../../../../textures/TextureMatrix": 116, "../Filter": 86, path: 8 }],
                90: [function(t, e, i) {
                    "use strict";

                    function n(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function r(t) { return t && t.__esModule ? t : { "default": t } }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }

                    function s(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0;
                    var h = t("./WebGLManager"),
                        l = r(h),
                        u = t("../utils/RenderTarget"),
                        c = r(u),
                        d = t("../utils/Quad"),
                        p = r(d),
                        f = t("../../../math"),
                        m = t("../../../Shader"),
                        g = r(m),
                        v = t("../filters/filterTransforms"),
                        y = n(v),
                        _ = t("bit-twiddle"),
                        b = r(_),
                        x = function S() { s(this, S), this.renderTarget = null, this.sourceFrame = new f.Rectangle, this.destinationFrame = new f.Rectangle, this.filters = [], this.target = null, this.resolution = 1 },
                        w = "screen",
                        T = function(t) {
                            function e(i) { s(this, e); var n = o(this, t.call(this, i)); return n.gl = n.renderer.gl, n.quad = new p["default"](n.gl, i.state.attribState), n.shaderCache = {}, n.pool = {}, n.filterData = null, n.managedFilters = [], n.renderer.on("prerender", n.onPrerender, n), n._screenWidth = i.view.width, n._screenHeight = i.view.height, n }
                            return a(e, t), e.prototype.pushFilter = function(t, e) { var i = this.renderer,
                                    n = this.filterData; if (!n) { n = this.renderer._activeRenderTarget.filterStack; var r = new x;
                                    r.sourceFrame = r.destinationFrame = this.renderer._activeRenderTarget.size, r.renderTarget = i._activeRenderTarget, this.renderer._activeRenderTarget.filterData = n = { index: 0, stack: [r] }, this.filterData = n } var o = n.stack[++n.index],
                                    a = n.stack[0].destinationFrame;
                                o || (o = n.stack[n.index] = new x); var s = t.filterArea && 0 === t.filterArea.x && 0 === t.filterArea.y && t.filterArea.width === i.screen.width && t.filterArea.height === i.screen.height,
                                    h = e[0].resolution,
                                    l = 0 | e[0].padding,
                                    u = s ? i.screen : t.filterArea || t.getBounds(!0),
                                    c = o.sourceFrame,
                                    d = o.destinationFrame;
                                c.x = (u.x * h | 0) / h, c.y = (u.y * h | 0) / h, c.width = (u.width * h | 0) / h, c.height = (u.height * h | 0) / h, s || (n.stack[0].renderTarget.transform || e[0].autoFit && c.fit(a), c.pad(l)), d.width = c.width, d.height = c.height; var p = this.getPotRenderTarget(i.gl, c.width, c.height, h);
                                o.target = t, o.filters = e, o.resolution = h, o.renderTarget = p, p.setFrame(d, c), i.bindRenderTarget(p), p.clear() }, e.prototype.popFilter = function() { var t = this.filterData,
                                    e = t.stack[t.index - 1],
                                    i = t.stack[t.index];
                                this.quad.map(i.renderTarget.size, i.sourceFrame).upload(); var n = i.filters; if (1 === n.length) n[0].apply(this, i.renderTarget, e.renderTarget, !1, i), this.freePotRenderTarget(i.renderTarget);
                                else { var r = i.renderTarget,
                                        o = this.getPotRenderTarget(this.renderer.gl, i.sourceFrame.width, i.sourceFrame.height, i.resolution);
                                    o.setFrame(i.destinationFrame, i.sourceFrame), o.clear(); var a = 0; for (a = 0; a < n.length - 1; ++a) { n[a].apply(this, r, o, !0, i); var s = r;
                                        r = o, o = s } n[a].apply(this, r, e.renderTarget, !1, i), this.freePotRenderTarget(r), this.freePotRenderTarget(o) } t.index--, 0 === t.index && (this.filterData = null) }, e.prototype.applyFilter = function(t, e, i, n) { var r = this.renderer,
                                    o = r.gl,
                                    a = t.glShaders[r.CONTEXT_UID];
                                a || (t.glShaderKey ? (a = this.shaderCache[t.glShaderKey], a || (a = new g["default"](this.gl, t.vertexSrc, t.fragmentSrc), t.glShaders[r.CONTEXT_UID] = this.shaderCache[t.glShaderKey] = a, this.managedFilters.push(t))) : (a = t.glShaders[r.CONTEXT_UID] = new g["default"](this.gl, t.vertexSrc, t.fragmentSrc), this.managedFilters.push(t)), r.bindVao(null), this.quad.initVao(a)), r.bindVao(this.quad.vao), r.bindRenderTarget(i), n && (o.disable(o.SCISSOR_TEST), r.clear(), o.enable(o.SCISSOR_TEST)), i === r.maskManager.scissorRenderTarget && r.maskManager.pushScissorMask(null, r.maskManager.scissorData), r.bindShader(a); var s = this.renderer.emptyTextures[0];
                                this.renderer.boundTextures[0] = s, this.syncUniforms(a, t), r.state.setBlendMode(t.blendMode), o.activeTexture(o.TEXTURE0), o.bindTexture(o.TEXTURE_2D, e.texture.texture), this.quad.vao.draw(this.renderer.gl.TRIANGLES, 6, 0), o.bindTexture(o.TEXTURE_2D, s._glTextures[this.renderer.CONTEXT_UID].texture) }, e.prototype.syncUniforms = function(t, e) { var i = e.uniformData,
                                    n = e.uniforms,
                                    r = 1,
                                    o = void 0; if (t.uniforms.filterArea) { o = this.filterData.stack[this.filterData.index]; var a = t.uniforms.filterArea;
                                    a[0] = o.renderTarget.size.width, a[1] = o.renderTarget.size.height, a[2] = o.sourceFrame.x, a[3] = o.sourceFrame.y, t.uniforms.filterArea = a } if (t.uniforms.filterClamp) { o = o || this.filterData.stack[this.filterData.index]; var s = t.uniforms.filterClamp;
                                    s[0] = 0, s[1] = 0, s[2] = (o.sourceFrame.width - 1) / o.renderTarget.size.width, s[3] = (o.sourceFrame.height - 1) / o.renderTarget.size.height, t.uniforms.filterClamp = s } for (var h in i) { var l = i[h].type; if ("sampler2d" === l && 0 !== n[h]) { if (n[h].baseTexture) t.uniforms[h] = this.renderer.bindTexture(n[h].baseTexture, r);
                                        else { t.uniforms[h] = r; var u = this.renderer.gl;
                                            this.renderer.boundTextures[r] = this.renderer.emptyTextures[r], u.activeTexture(u.TEXTURE0 + r), n[h].texture.bind() } r++ } else if ("mat3" === l) void 0 !== n[h].a ? t.uniforms[h] = n[h].toArray(!0) : t.uniforms[h] = n[h];
                                    else if ("vec2" === l)
                                        if (void 0 !== n[h].x) { var c = t.uniforms[h] || new Float32Array(2);
                                            c[0] = n[h].x, c[1] = n[h].y, t.uniforms[h] = c } else t.uniforms[h] = n[h];
                                    else "float" === l ? t.uniforms.data[h].value !== i[h] && (t.uniforms[h] = n[h]) : t.uniforms[h] = n[h] } }, e.prototype.getRenderTarget = function(t, e) { var i = this.filterData.stack[this.filterData.index],
                                    n = this.getPotRenderTarget(this.renderer.gl, i.sourceFrame.width, i.sourceFrame.height, e || i.resolution); return n.setFrame(i.destinationFrame, i.sourceFrame), n }, e.prototype.returnRenderTarget = function(t) { this.freePotRenderTarget(t) }, e.prototype.calculateScreenSpaceMatrix = function(t) { var e = this.filterData.stack[this.filterData.index]; return y.calculateScreenSpaceMatrix(t, e.sourceFrame, e.renderTarget.size) }, e.prototype.calculateNormalizedScreenSpaceMatrix = function(t) { var e = this.filterData.stack[this.filterData.index]; return y.calculateNormalizedScreenSpaceMatrix(t, e.sourceFrame, e.renderTarget.size, e.destinationFrame) }, e.prototype.calculateSpriteMatrix = function(t, e) { var i = this.filterData.stack[this.filterData.index]; return y.calculateSpriteMatrix(t, i.sourceFrame, i.renderTarget.size, e) }, e.prototype.destroy = function() {
                                var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0],
                                    e = this.renderer,
                                    i = this.managedFilters;
                                e.off("prerender", this.onPrerender, this);
                                for (var n = 0; n < i.length; n++) t || i[n].glShaders[e.CONTEXT_UID].destroy(), delete i[n].glShaders[e.CONTEXT_UID];
                                this.shaderCache = {}, t ? this.pool = {} : this.emptyPool()
                            }, e.prototype.getPotRenderTarget = function(t, e, i, n) { var r = w;
                                e *= n, i *= n, e === this._screenWidth && i === this._screenHeight || (e = b["default"].nextPow2(e), i = b["default"].nextPow2(i), r = (65535 & e) << 16 | 65535 & i), this.pool[r] || (this.pool[r] = []); var o = this.pool[r].pop(); if (!o) { var a = this.renderer.boundTextures[0];
                                    t.activeTexture(t.TEXTURE0), o = new c["default"](t, e, i, null, 1), t.bindTexture(t.TEXTURE_2D, a._glTextures[this.renderer.CONTEXT_UID].texture) } return o.resolution = n, o.defaultFrame.width = o.size.width = e / n, o.defaultFrame.height = o.size.height = i / n, o }, e.prototype.emptyPool = function() { for (var t in this.pool) { var e = this.pool[t]; if (e)
                                        for (var i = 0; i < e.length; i++) e[i].destroy(!0) } this.pool = {} }, e.prototype.freePotRenderTarget = function(t) { var e = t.size.width * t.resolution,
                                    i = t.size.height * t.resolution,
                                    n = w;
                                e === this._screenWidth && i === this._screenHeight || (n = (65535 & e) << 16 | 65535 & i), this.pool[n].push(t) }, e.prototype.onPrerender = function() { if (this._screenWidth !== this.renderer.view.width || this._screenHeight !== this.renderer.view.height) { this._screenWidth = this.renderer.view.width, this._screenHeight = this.renderer.view.height; var t = this.pool[w]; if (t)
                                        for (var e = 0; e < t.length; e++) t[e].destroy(!0);
                                    this.pool[w] = [] } }, e
                        }(l["default"]);
                    i["default"] = T
                }, { "../../../Shader": 44, "../../../math": 70, "../filters/filterTransforms": 88, "../utils/Quad": 95, "../utils/RenderTarget": 96, "./WebGLManager": 93, "bit-twiddle": 1 }],
                91: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var s = t("./WebGLManager"),
                        h = n(s),
                        l = t("../filters/spriteMask/SpriteMaskFilter"),
                        u = n(l),
                        c = function(t) {
                            function e(i) { r(this, e); var n = o(this, t.call(this, i)); return n.scissor = !1, n.scissorData = null, n.scissorRenderTarget = null, n.enableScissor = !0, n.alphaMaskPool = [], n.alphaMaskIndex = 0, n } return a(e, t), e.prototype.pushMask = function(t, e) { if (e.texture) this.pushSpriteMask(t, e);
                                else if (this.enableScissor && !this.scissor && this.renderer._activeRenderTarget.root && !this.renderer.stencilManager.stencilMaskStack.length && e.isFastRect()) { var i = e.worldTransform,
                                        n = Math.atan2(i.b, i.a);
                                    n = Math.round(n * (180 / Math.PI)), n % 90 ? this.pushStencilMask(e) : this.pushScissorMask(t, e) } else this.pushStencilMask(e) }, e.prototype.popMask = function(t, e) { e.texture ? this.popSpriteMask(t, e) : this.enableScissor && !this.renderer.stencilManager.stencilMaskStack.length ? this.popScissorMask(t, e) : this.popStencilMask(t, e) }, e.prototype.pushSpriteMask = function(t, e) { var i = this.alphaMaskPool[this.alphaMaskIndex];
                                i || (i = this.alphaMaskPool[this.alphaMaskIndex] = [new u["default"](e)]), i[0].resolution = this.renderer.resolution, i[0].maskSprite = e, t.filterArea = e.getBounds(!0), this.renderer.filterManager.pushFilter(t, i), this.alphaMaskIndex++ }, e.prototype.popSpriteMask = function() { this.renderer.filterManager.popFilter(), this.alphaMaskIndex-- }, e.prototype.pushStencilMask = function(t) { this.renderer.currentRenderer.stop(), this.renderer.stencilManager.pushStencil(t) }, e.prototype.popStencilMask = function() { this.renderer.currentRenderer.stop(), this.renderer.stencilManager.popStencil() }, e.prototype.pushScissorMask = function(t, e) { e.renderable = !0; var i = this.renderer._activeRenderTarget,
                                    n = e.getBounds();
                                n.fit(i.size), e.renderable = !1, this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST); var r = this.renderer.resolution;
                                this.renderer.gl.scissor(n.x * r, (i.root ? i.size.height - n.y - n.height : n.y) * r, n.width * r, n.height * r), this.scissorRenderTarget = i, this.scissorData = e, this.scissor = !0 }, e.prototype.popScissorMask = function() { this.scissorRenderTarget = null, this.scissorData = null, this.scissor = !1; var t = this.renderer.gl;
                                t.disable(t.SCISSOR_TEST) }, e }(h["default"]);
                    i["default"] = c }, { "../filters/spriteMask/SpriteMaskFilter": 89, "./WebGLManager": 93 }],
                92: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var s = t("./WebGLManager"),
                        h = n(s),
                        l = function(t) {
                            function e(i) { r(this, e); var n = o(this, t.call(this, i)); return n.stencilMaskStack = null, n } return a(e, t), e.prototype.setMaskStack = function(t) { this.stencilMaskStack = t; var e = this.renderer.gl;
                                0 === t.length ? e.disable(e.STENCIL_TEST) : e.enable(e.STENCIL_TEST) }, e.prototype.pushStencil = function(t) { this.renderer.setObjectRenderer(this.renderer.plugins.graphics), this.renderer._activeRenderTarget.attachStencilBuffer(); var e = this.renderer.gl,
                                    i = this.stencilMaskStack.length;
                                0 === i && e.enable(e.STENCIL_TEST), this.stencilMaskStack.push(t), e.colorMask(!1, !1, !1, !1), e.stencilFunc(e.EQUAL, i, this._getBitwiseMask()), e.stencilOp(e.KEEP, e.KEEP, e.INCR), this.renderer.plugins.graphics.render(t), this._useCurrent() }, e.prototype.popStencil = function() { this.renderer.setObjectRenderer(this.renderer.plugins.graphics); var t = this.renderer.gl,
                                    e = this.stencilMaskStack.pop();
                                0 === this.stencilMaskStack.length ? (t.disable(t.STENCIL_TEST), t.clear(t.STENCIL_BUFFER_BIT), t.clearStencil(0)) : (t.colorMask(!1, !1, !1, !1), t.stencilOp(t.KEEP, t.KEEP, t.DECR), this.renderer.plugins.graphics.render(e), this._useCurrent()) }, e.prototype._useCurrent = function() { var t = this.renderer.gl;
                                t.colorMask(!0, !0, !0, !0), t.stencilFunc(t.EQUAL, this.stencilMaskStack.length, this._getBitwiseMask()), t.stencilOp(t.KEEP, t.KEEP, t.KEEP) }, e.prototype._getBitwiseMask = function() { return (1 << this.stencilMaskStack.length) - 1 }, e.prototype.destroy = function() { h["default"].prototype.destroy.call(this), this.stencilMaskStack.stencilStack = null }, e }(h["default"]);
                    i["default"] = l }, { "./WebGLManager": 93 }],
                93: [function(t, e, i) { "use strict";

                    function n(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var r = function() {
                        function t(e) { n(this, t), this.renderer = e, this.renderer.on("context", this.onContextChange, this) } return t.prototype.onContextChange = function() {}, t.prototype.destroy = function() { this.renderer.off("context", this.onContextChange, this), this.renderer = null }, t }();
                    i["default"] = r }, {}],
                94: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var s = t("../managers/WebGLManager"),
                        h = n(s),
                        l = function(t) {
                            function e() { return r(this, e), o(this, t.apply(this, arguments)) } return a(e, t), e.prototype.start = function() {}, e.prototype.stop = function() { this.flush() }, e.prototype.flush = function() {}, e.prototype.render = function(t) {}, e }(h["default"]);
                    i["default"] = l }, { "../managers/WebGLManager": 93 }],
                95: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var o = t("pixi-gl-core"),
                        a = n(o),
                        s = t("../../../utils/createIndicesForQuads"),
                        h = n(s),
                        l = function() {
                            function t(e, i) { r(this, t), this.gl = e, this.vertices = new Float32Array([-1, -1, 1, -1, 1, 1, -1, 1]), this.uvs = new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]), this.interleaved = new Float32Array(16); for (var n = 0; n < 4; n++) this.interleaved[4 * n] = this.vertices[2 * n], this.interleaved[4 * n + 1] = this.vertices[2 * n + 1], this.interleaved[4 * n + 2] = this.uvs[2 * n], this.interleaved[4 * n + 3] = this.uvs[2 * n + 1];
                                this.indices = (0, h["default"])(1), this.vertexBuffer = a["default"].GLBuffer.createVertexBuffer(e, this.interleaved, e.STATIC_DRAW), this.indexBuffer = a["default"].GLBuffer.createIndexBuffer(e, this.indices, e.STATIC_DRAW), this.vao = new a["default"].VertexArrayObject(e, i) } return t.prototype.initVao = function(t) { this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer, t.attributes.aVertexPosition, this.gl.FLOAT, !1, 16, 0).addAttribute(this.vertexBuffer, t.attributes.aTextureCoord, this.gl.FLOAT, !1, 16, 8) }, t.prototype.map = function(t, e) { var i = 0,
                                    n = 0; return this.uvs[0] = i, this.uvs[1] = n, this.uvs[2] = i + e.width / t.width, this.uvs[3] = n, this.uvs[4] = i + e.width / t.width, this.uvs[5] = n + e.height / t.height, this.uvs[6] = i, this.uvs[7] = n + e.height / t.height, i = e.x, n = e.y, this.vertices[0] = i, this.vertices[1] = n, this.vertices[2] = i + e.width, this.vertices[3] = n, this.vertices[4] = i + e.width, this.vertices[5] = n + e.height, this.vertices[6] = i, this.vertices[7] = n + e.height, this }, t.prototype.upload = function() { for (var t = 0; t < 4; t++) this.interleaved[4 * t] = this.vertices[2 * t], this.interleaved[4 * t + 1] = this.vertices[2 * t + 1], this.interleaved[4 * t + 2] = this.uvs[2 * t], this.interleaved[4 * t + 3] = this.uvs[2 * t + 1]; return this.vertexBuffer.upload(this.interleaved), this }, t.prototype.destroy = function() { var t = this.gl;
                                t.deleteBuffer(this.vertexBuffer), t.deleteBuffer(this.indexBuffer) }, t }();
                    i["default"] = l }, { "../../../utils/createIndicesForQuads": 123, "pixi-gl-core": 15 }],
                96: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var o = t("../../../math"),
                        a = t("../../../const"),
                        s = t("../../../settings"),
                        h = n(s),
                        l = t("pixi-gl-core"),
                        u = function() {
                            function t(e, i, n, s, u, c) { r(this, t), this.gl = e, this.frameBuffer = null, this.texture = null, this.clearColor = [0, 0, 0, 0], this.size = new o.Rectangle(0, 0, 1, 1), this.resolution = u || h["default"].RESOLUTION, this.projectionMatrix = new o.Matrix, this.transform = null, this.frame = null, this.defaultFrame = new o.Rectangle, this.destinationFrame = null, this.sourceFrame = null, this.stencilBuffer = null, this.stencilMaskStack = [], this.filterData = null, this.scaleMode = void 0 !== s ? s : h["default"].SCALE_MODE, this.root = c, this.root ? (this.frameBuffer = new l.GLFramebuffer(e, 100, 100), this.frameBuffer.framebuffer = null) : (this.frameBuffer = l.GLFramebuffer.createRGBA(e, 100, 100), this.scaleMode === a.SCALE_MODES.NEAREST ? this.frameBuffer.texture.enableNearestScaling() : this.frameBuffer.texture.enableLinearScaling(), this.texture = this.frameBuffer.texture), this.setFrame(), this.resize(i, n) } return t.prototype.clear = function(t) { var e = t || this.clearColor;
                                this.frameBuffer.clear(e[0], e[1], e[2], e[3]) }, t.prototype.attachStencilBuffer = function() { this.root || this.frameBuffer.enableStencil() }, t.prototype.setFrame = function(t, e) { this.destinationFrame = t || this.destinationFrame || this.defaultFrame, this.sourceFrame = e || this.sourceFrame || this.destinationFrame }, t.prototype.activate = function() { var t = this.gl;
                                this.frameBuffer.bind(), this.calculateProjection(this.destinationFrame, this.sourceFrame), this.transform && this.projectionMatrix.append(this.transform), this.destinationFrame !== this.sourceFrame ? (t.enable(t.SCISSOR_TEST), t.scissor(0 | this.destinationFrame.x, 0 | this.destinationFrame.y, this.destinationFrame.width * this.resolution | 0, this.destinationFrame.height * this.resolution | 0)) : t.disable(t.SCISSOR_TEST), t.viewport(0 | this.destinationFrame.x, 0 | this.destinationFrame.y, this.destinationFrame.width * this.resolution | 0, this.destinationFrame.height * this.resolution | 0) }, t.prototype.calculateProjection = function(t, e) { var i = this.projectionMatrix;
                                e = e || t, i.identity(), this.root ? (i.a = 1 / t.width * 2, i.d = -1 / t.height * 2, i.tx = -1 - e.x * i.a, i.ty = 1 - e.y * i.d) : (i.a = 1 / t.width * 2, i.d = 1 / t.height * 2, i.tx = -1 - e.x * i.a, i.ty = -1 - e.y * i.d) }, t.prototype.resize = function(t, e) { if (t = 0 | t, e = 0 | e, this.size.width !== t || this.size.height !== e) { this.size.width = t, this.size.height = e, this.defaultFrame.width = t, this.defaultFrame.height = e, this.frameBuffer.resize(t * this.resolution, e * this.resolution); var i = this.frame || this.size;
                                    this.calculateProjection(i) } }, t.prototype.destroy = function() { this.frameBuffer.destroy(), this.frameBuffer = null, this.texture = null }, t }();
                    i["default"] = u }, { "../../../const": 46, "../../../math": 70, "../../../settings": 101, "pixi-gl-core": 15 }],
                97: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { var i = !e; if (0 === t) throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`"); if (i) { var n = document.createElement("canvas");
                            n.width = 1, n.height = 1, e = s["default"].createContext(n) } for (var r = e.createShader(e.FRAGMENT_SHADER);;) { var a = h.replace(/%forloop%/gi, o(t)); if (e.shaderSource(r, a), e.compileShader(r), e.getShaderParameter(r, e.COMPILE_STATUS)) break;
                            t = t / 2 | 0 } return i && e.getExtension("WEBGL_lose_context") && e.getExtension("WEBGL_lose_context").loseContext(), t }

                    function o(t) { for (var e = "", i = 0; i < t; ++i) i > 0 && (e += "\nelse "), i < t - 1 && (e += "if(test == " + i + ".0){}"); return e } i.__esModule = !0, i["default"] = r; var a = t("pixi-gl-core"),
                        s = n(a),
                        h = ["precision mediump float;", "void main(void){", "float test = 0.1;", "%forloop%", "gl_FragColor = vec4(0.0);", "}"].join("\n") }, { "pixi-gl-core": 15 }],
                98: [function(t, e, i) { "use strict";

                    function n(t) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : []; return e[r.BLEND_MODES.NORMAL] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[r.BLEND_MODES.ADD] = [t.ONE, t.DST_ALPHA], e[r.BLEND_MODES.MULTIPLY] = [t.DST_COLOR, t.ONE_MINUS_SRC_ALPHA], e[r.BLEND_MODES.SCREEN] = [t.ONE, t.ONE_MINUS_SRC_COLOR], e[r.BLEND_MODES.OVERLAY] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[r.BLEND_MODES.DARKEN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[r.BLEND_MODES.LIGHTEN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[r.BLEND_MODES.COLOR_DODGE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[r.BLEND_MODES.COLOR_BURN] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[r.BLEND_MODES.HARD_LIGHT] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[r.BLEND_MODES.SOFT_LIGHT] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[r.BLEND_MODES.DIFFERENCE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[r.BLEND_MODES.EXCLUSION] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[r.BLEND_MODES.HUE] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[r.BLEND_MODES.SATURATION] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[r.BLEND_MODES.COLOR] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[r.BLEND_MODES.LUMINOSITY] = [t.ONE, t.ONE_MINUS_SRC_ALPHA], e[r.BLEND_MODES.NORMAL_NPM] = [t.SRC_ALPHA, t.ONE_MINUS_SRC_ALPHA, t.ONE, t.ONE_MINUS_SRC_ALPHA], e[r.BLEND_MODES.ADD_NPM] = [t.SRC_ALPHA, t.DST_ALPHA, t.ONE, t.DST_ALPHA], e[r.BLEND_MODES.SCREEN_NPM] = [t.SRC_ALPHA, t.ONE_MINUS_SRC_COLOR, t.ONE, t.ONE_MINUS_SRC_COLOR], e } i.__esModule = !0, i["default"] = n; var r = t("../../../const") }, { "../../../const": 46 }],
                99: [function(t, e, i) { "use strict";

                    function n(t) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {}; return e[r.DRAW_MODES.POINTS] = t.POINTS, e[r.DRAW_MODES.LINES] = t.LINES, e[r.DRAW_MODES.LINE_LOOP] = t.LINE_LOOP, e[r.DRAW_MODES.LINE_STRIP] = t.LINE_STRIP, e[r.DRAW_MODES.TRIANGLES] = t.TRIANGLES, e[r.DRAW_MODES.TRIANGLE_STRIP] = t.TRIANGLE_STRIP, e[r.DRAW_MODES.TRIANGLE_FAN] = t.TRIANGLE_FAN, e } i.__esModule = !0, i["default"] = n; var r = t("../../../const") }, { "../../../const": 46 }],
                100: [function(t, e, i) { "use strict";

                    function n(t) { var e = t.getContextAttributes();!e.stencil } i.__esModule = !0, i["default"] = n }, {}],
                101: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } } i.__esModule = !0; var r = t("./utils/maxRecommendedTextures"),
                        o = n(r),
                        a = t("./utils/canUploadSameBuffer"),
                        s = n(a);
                    i["default"] = { TARGET_FPMS: .06, MIPMAP_TEXTURES: !0, RESOLUTION: 1, FILTER_RESOLUTION: 1, SPRITE_MAX_TEXTURES: (0, o["default"])(32), SPRITE_BATCH_SIZE: 4096, RETINA_PREFIX: /@([0-9\.]+)x/, RENDER_OPTIONS: { view: null, antialias: !1, forceFXAA: !1, autoResize: !1, transparent: !1, backgroundColor: 0, clearBeforeRender: !0, preserveDrawingBuffer: !1, roundPixels: !1, width: 800, height: 600, legacy: !1 }, TRANSFORM_MODE: 0, GC_MODE: 0, GC_MAX_IDLE: 3600, GC_MAX_CHECK_COUNT: 600, WRAP_MODE: 0, SCALE_MODE: 0, PRECISION_VERTEX: "highp", PRECISION_FRAGMENT: "mediump", CAN_UPLOAD_SAME_BUFFER: (0, s["default"])(), MESH_CANVAS_PADDING: 0 } }, { "./utils/canUploadSameBuffer": 122, "./utils/maxRecommendedTextures": 127 }],
                102: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var s = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        h = t("../math"),
                        l = t("../utils"),
                        u = t("../const"),
                        c = t("../textures/Texture"),
                        d = n(c),
                        p = t("../display/Container"),
                        f = n(p),
                        m = new h.Point,
                        g = function(t) {
                            function e(i) { r(this, e); var n = o(this, t.call(this)); return n._anchor = new h.ObservablePoint(n._onAnchorUpdate, n), n._texture = null, n._width = 0, n._height = 0, n._tint = null, n._tintRGB = null, n.tint = 16777215, n.blendMode = u.BLEND_MODES.NORMAL, n.shader = null, n.cachedTint = 16777215, n.texture = i || d["default"].EMPTY, n.vertexData = new Float32Array(8), n.vertexTrimmedData = null, n._transformID = -1, n._textureID = -1, n._transformTrimmedID = -1, n._textureTrimmedID = -1, n.pluginName = "sprite", n } return a(e, t), e.prototype._onTextureUpdate = function() { this._textureID = -1, this._textureTrimmedID = -1, this.cachedTint = 16777215, this._width && (this.scale.x = (0, l.sign)(this.scale.x) * this._width / this._texture.orig.width), this._height && (this.scale.y = (0, l.sign)(this.scale.y) * this._height / this._texture.orig.height) }, e.prototype._onAnchorUpdate = function() { this._transformID = -1, this._transformTrimmedID = -1 }, e.prototype.calculateVertices = function() { if (this._transformID !== this.transform._worldID || this._textureID !== this._texture._updateID) { this._transformID = this.transform._worldID, this._textureID = this._texture._updateID; var t = this._texture,
                                        e = this.transform.worldTransform,
                                        i = e.a,
                                        n = e.b,
                                        r = e.c,
                                        o = e.d,
                                        a = e.tx,
                                        s = e.ty,
                                        h = this.vertexData,
                                        l = t.trim,
                                        u = t.orig,
                                        c = this._anchor,
                                        d = 0,
                                        p = 0,
                                        f = 0,
                                        m = 0;
                                    l ? (p = l.x - c._x * u.width, d = p + l.width, m = l.y - c._y * u.height, f = m + l.height) : (p = -c._x * u.width, d = p + u.width, m = -c._y * u.height, f = m + u.height), h[0] = i * p + r * m + a, h[1] = o * m + n * p + s, h[2] = i * d + r * m + a, h[3] = o * m + n * d + s, h[4] = i * d + r * f + a, h[5] = o * f + n * d + s, h[6] = i * p + r * f + a, h[7] = o * f + n * p + s } }, e.prototype.calculateTrimmedVertices = function() { if (this.vertexTrimmedData) { if (this._transformTrimmedID === this.transform._worldID && this._textureTrimmedID === this._texture._updateID) return } else this.vertexTrimmedData = new Float32Array(8);
                                this._transformTrimmedID = this.transform._worldID, this._textureTrimmedID = this._texture._updateID; var t = this._texture,
                                    e = this.vertexTrimmedData,
                                    i = t.orig,
                                    n = this._anchor,
                                    r = this.transform.worldTransform,
                                    o = r.a,
                                    a = r.b,
                                    s = r.c,
                                    h = r.d,
                                    l = r.tx,
                                    u = r.ty,
                                    c = -n._x * i.width,
                                    d = c + i.width,
                                    p = -n._y * i.height,
                                    f = p + i.height;
                                e[0] = o * c + s * p + l, e[1] = h * p + a * c + u, e[2] = o * d + s * p + l, e[3] = h * p + a * d + u, e[4] = o * d + s * f + l, e[5] = h * f + a * d + u, e[6] = o * c + s * f + l, e[7] = h * f + a * c + u }, e.prototype._renderWebGL = function(t) { this.calculateVertices(), t.setObjectRenderer(t.plugins[this.pluginName]), t.plugins[this.pluginName].render(this) }, e.prototype._renderCanvas = function(t) { t.plugins[this.pluginName].render(this) }, e.prototype._calculateBounds = function() { var t = this._texture.trim,
                                    e = this._texture.orig;!t || t.width === e.width && t.height === e.height ? (this.calculateVertices(), this._bounds.addQuad(this.vertexData)) : (this.calculateTrimmedVertices(), this._bounds.addQuad(this.vertexTrimmedData)) }, e.prototype.getLocalBounds = function(e) { return 0 === this.children.length ? (this._bounds.minX = this._texture.orig.width * -this._anchor._x, this._bounds.minY = this._texture.orig.height * -this._anchor._y, this._bounds.maxX = this._texture.orig.width * (1 - this._anchor._x), this._bounds.maxY = this._texture.orig.height * (1 - this._anchor._y), e || (this._localBoundsRect || (this._localBoundsRect = new h.Rectangle), e = this._localBoundsRect), this._bounds.getRectangle(e)) : t.prototype.getLocalBounds.call(this, e) }, e.prototype.containsPoint = function(t) { this.worldTransform.applyInverse(t, m); var e = this._texture.orig.width,
                                    i = this._texture.orig.height,
                                    n = -e * this.anchor.x,
                                    r = 0; return m.x >= n && m.x < n + e && (r = -i * this.anchor.y, m.y >= r && m.y < r + i) }, e.prototype.destroy = function(e) { t.prototype.destroy.call(this, e), this._anchor = null; var i = "boolean" == typeof e ? e : e && e.texture; if (i) { var n = "boolean" == typeof e ? e : e && e.baseTexture;
                                    this._texture.destroy(!!n) } this._texture = null, this.shader = null }, e.from = function(t) { return new e(d["default"].from(t)) }, e.fromFrame = function(t) { var i = l.TextureCache[t]; if (!i) throw new Error('The frameId "' + t + '" does not exist in the texture cache'); return new e(i) }, e.fromImage = function(t, i, n) { return new e(d["default"].fromImage(t, i, n)) }, s(e, [{ key: "width", get: function() { return Math.abs(this.scale.x) * this._texture.orig.width }, set: function(t) { var e = (0, l.sign)(this.scale.x) || 1;
                                    this.scale.x = e * t / this._texture.orig.width, this._width = t } }, { key: "height", get: function() { return Math.abs(this.scale.y) * this._texture.orig.height }, set: function(t) { var e = (0, l.sign)(this.scale.y) || 1;
                                    this.scale.y = e * t / this._texture.orig.height, this._height = t } }, { key: "anchor", get: function() { return this._anchor }, set: function(t) { this._anchor.copy(t) } }, { key: "tint", get: function() { return this._tint }, set: function(t) { this._tint = t, this._tintRGB = (t >> 16) + (65280 & t) + ((255 & t) << 16) } }, { key: "texture", get: function() { return this._texture }, set: function(t) { this._texture !== t && (this._texture = t, this.cachedTint = 16777215, this._textureID = -1, this._textureTrimmedID = -1, t && (t.baseTexture.hasLoaded ? this._onTextureUpdate() : t.once("update", this._onTextureUpdate, this))) } }]), e }(f["default"]);
                    i["default"] = g }, { "../const": 46, "../display/Container": 48, "../math": 70, "../textures/Texture": 115, "../utils": 125 }],
                103: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var o = t("../../renderers/canvas/CanvasRenderer"),
                        a = n(o),
                        s = t("../../const"),
                        h = t("../../math"),
                        l = t("./CanvasTinter"),
                        u = n(l),
                        c = new h.Matrix,
                        d = function() {
                            function t(e) { r(this, t), this.renderer = e } return t.prototype.render = function(t) { var e = t._texture,
                                    i = this.renderer,
                                    n = e._frame.width,
                                    r = e._frame.height,
                                    o = t.transform.worldTransform,
                                    a = 0,
                                    l = 0; if (!(e.orig.width <= 0 || e.orig.height <= 0) && e.baseTexture.source && (i.setBlendMode(t.blendMode), e.valid)) { i.context.globalAlpha = t.worldAlpha; var d = e.baseTexture.scaleMode === s.SCALE_MODES.LINEAR;
                                    i.smoothProperty && i.context[i.smoothProperty] !== d && (i.context[i.smoothProperty] = d), e.trim ? (a = e.trim.width / 2 + e.trim.x - t.anchor.x * e.orig.width, l = e.trim.height / 2 + e.trim.y - t.anchor.y * e.orig.height) : (a = (.5 - t.anchor.x) * e.orig.width, l = (.5 - t.anchor.y) * e.orig.height), e.rotate && (o.copy(c), o = c, h.GroupD8.matrixAppendRotationInv(o, e.rotate, a, l), a = 0, l = 0), a -= n / 2, l -= r / 2, i.roundPixels ? (i.context.setTransform(o.a, o.b, o.c, o.d, o.tx * i.resolution | 0, o.ty * i.resolution | 0), a = 0 | a, l = 0 | l) : i.context.setTransform(o.a, o.b, o.c, o.d, o.tx * i.resolution, o.ty * i.resolution); var p = e.baseTexture.resolution;
                                    16777215 !== t.tint ? (t.cachedTint === t.tint && t.tintedTexture.tintId === t._texture._updateID || (t.cachedTint = t.tint, t.tintedTexture = u["default"].getTintedTexture(t, t.tint)), i.context.drawImage(t.tintedTexture, 0, 0, n * p, r * p, a * i.resolution, l * i.resolution, n * i.resolution, r * i.resolution)) : i.context.drawImage(e.baseTexture.source, e._frame.x * p, e._frame.y * p, n * p, r * p, a * i.resolution, l * i.resolution, n * i.resolution, r * i.resolution) } }, t.prototype.destroy = function() { this.renderer = null }, t }();
                    i["default"] = d, a["default"].registerPlugin("sprite", d) }, { "../../const": 46, "../../math": 70, "../../renderers/canvas/CanvasRenderer": 77, "./CanvasTinter": 104 }],
                104: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } } i.__esModule = !0; var r = t("../../utils"),
                        o = t("../../renderers/canvas/utils/canUseNewCanvasBlendModes"),
                        a = n(o),
                        s = { getTintedTexture: function(t, e) { var i = t._texture;
                                e = s.roundColor(e); var n = "#" + ("00000" + (0 | e).toString(16)).substr(-6);
                                i.tintCache = i.tintCache || {}; var r = i.tintCache[n],
                                    o = void 0; if (r) { if (r.tintId === i._updateID) return i.tintCache[n];
                                    o = i.tintCache[n] } else o = s.canvas || document.createElement("canvas"); if (s.tintMethod(i, e, o), o.tintId = i._updateID, s.convertTintToImage) { var a = new Image;
                                    a.src = o.toDataURL(), i.tintCache[n] = a } else i.tintCache[n] = o, s.canvas = null; return o }, tintWithMultiply: function(t, e, i) { var n = i.getContext("2d"),
                                    r = t._frame.clone(),
                                    o = t.baseTexture.resolution;
                                r.x *= o, r.y *= o, r.width *= o, r.height *= o, i.width = Math.ceil(r.width), i.height = Math.ceil(r.height), n.save(), n.fillStyle = "#" + ("00000" + (0 | e).toString(16)).substr(-6), n.fillRect(0, 0, r.width, r.height), n.globalCompositeOperation = "multiply", n.drawImage(t.baseTexture.source, r.x, r.y, r.width, r.height, 0, 0, r.width, r.height), n.globalCompositeOperation = "destination-atop", n.drawImage(t.baseTexture.source, r.x, r.y, r.width, r.height, 0, 0, r.width, r.height), n.restore() }, tintWithOverlay: function(t, e, i) { var n = i.getContext("2d"),
                                    r = t._frame.clone(),
                                    o = t.baseTexture.resolution;
                                r.x *= o, r.y *= o, r.width *= o, r.height *= o, i.width = Math.ceil(r.width), i.height = Math.ceil(r.height), n.save(), n.globalCompositeOperation = "copy", n.fillStyle = "#" + ("00000" + (0 | e).toString(16)).substr(-6), n.fillRect(0, 0, r.width, r.height), n.globalCompositeOperation = "destination-atop", n.drawImage(t.baseTexture.source, r.x, r.y, r.width, r.height, 0, 0, r.width, r.height), n.restore() }, tintWithPerPixel: function(t, e, i) { var n = i.getContext("2d"),
                                    o = t._frame.clone(),
                                    a = t.baseTexture.resolution;
                                o.x *= a, o.y *= a, o.width *= a, o.height *= a, i.width = Math.ceil(o.width), i.height = Math.ceil(o.height), n.save(), n.globalCompositeOperation = "copy", n.drawImage(t.baseTexture.source, o.x, o.y, o.width, o.height, 0, 0, o.width, o.height), n.restore(); for (var s = (0, r.hex2rgb)(e), h = s[0], l = s[1], u = s[2], c = n.getImageData(0, 0, o.width, o.height), d = c.data, p = 0; p < d.length; p += 4) d[p + 0] *= h, d[p + 1] *= l, d[p + 2] *= u;
                                n.putImageData(c, 0, 0) }, roundColor: function(t) { var e = s.cacheStepsPerColorChannel,
                                    i = (0, r.hex2rgb)(t); return i[0] = Math.min(255, i[0] / e * e), i[1] = Math.min(255, i[1] / e * e), i[2] = Math.min(255, i[2] / e * e), (0, r.rgb2hex)(i) }, cacheStepsPerColorChannel: 8, convertTintToImage: !1, canUseMultiply: (0, a["default"])(), tintMethod: 0 };
                    s.tintMethod = s.canUseMultiply ? s.tintWithMultiply : s.tintWithPerPixel, i["default"] = s }, { "../../renderers/canvas/utils/canUseNewCanvasBlendModes": 80, "../../utils": 125 }],
                105: [function(t, e, i) { "use strict";

                    function n(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var r = function() {
                        function t(e) { n(this, t), this.vertices = new ArrayBuffer(e), this.float32View = new Float32Array(this.vertices), this.uint32View = new Uint32Array(this.vertices) } return t.prototype.destroy = function() { this.vertices = null, this.positions = null, this.uvs = null, this.colors = null }, t }();
                    i["default"] = r }, {}],
                106: [function(t, e, i) {
                    "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0;
                    var s = t("../../renderers/webgl/utils/ObjectRenderer"),
                        h = n(s),
                        l = t("../../renderers/webgl/WebGLRenderer"),
                        u = n(l),
                        c = t("../../utils/createIndicesForQuads"),
                        d = n(c),
                        p = t("./generateMultiTextureShader"),
                        f = n(p),
                        m = t("../../renderers/webgl/utils/checkMaxIfStatmentsInShader"),
                        g = n(m),
                        v = t("./BatchBuffer"),
                        y = n(v),
                        _ = t("../../settings"),
                        b = n(_),
                        x = t("../../utils"),
                        w = t("pixi-gl-core"),
                        T = n(w),
                        S = t("bit-twiddle"),
                        M = n(S),
                        E = 0,
                        A = 0,
                        C = function(t) {
                            function e(i) { r(this, e); var n = o(this, t.call(this, i));
                                n.vertSize = 5, n.vertByteSize = 4 * n.vertSize, n.size = b["default"].SPRITE_BATCH_SIZE, n.buffers = []; for (var a = 1; a <= M["default"].nextPow2(n.size); a *= 2) n.buffers.push(new y["default"](4 * a * n.vertByteSize));
                                n.indices = (0, d["default"])(n.size), n.shader = null, n.currentIndex = 0, n.groups = []; for (var s = 0; s < n.size; s++) n.groups[s] = { textures: [], textureCount: 0, ids: [], size: 0, start: 0, blend: 0 }; return n.sprites = [], n.vertexBuffers = [], n.vaos = [], n.vaoMax = 2, n.vertexCount = 0, n.renderer.on("prerender", n.onPrerender, n), n }
                            return a(e, t), e.prototype.onContextChange = function() { var t = this.renderer.gl;
                                this.renderer.legacy ? this.MAX_TEXTURES = 1 : (this.MAX_TEXTURES = Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS), b["default"].SPRITE_MAX_TEXTURES), this.MAX_TEXTURES = (0, g["default"])(this.MAX_TEXTURES, t)), this.shader = (0, f["default"])(t, this.MAX_TEXTURES), this.indexBuffer = T["default"].GLBuffer.createIndexBuffer(t, this.indices, t.STATIC_DRAW), this.renderer.bindVao(null); for (var e = this.shader.attributes, i = 0; i < this.vaoMax; i++) { var n = this.vertexBuffers[i] = T["default"].GLBuffer.createVertexBuffer(t, null, t.STREAM_DRAW),
                                        r = this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(n, e.aVertexPosition, t.FLOAT, !1, this.vertByteSize, 0).addAttribute(n, e.aTextureCoord, t.UNSIGNED_SHORT, !0, this.vertByteSize, 8).addAttribute(n, e.aColor, t.UNSIGNED_BYTE, !0, this.vertByteSize, 12);
                                    e.aTextureId && r.addAttribute(n, e.aTextureId, t.FLOAT, !1, this.vertByteSize, 16), this.vaos[i] = r } this.vao = this.vaos[0], this.currentBlendMode = 99999, this.boundTextures = new Array(this.MAX_TEXTURES) }, e.prototype.onPrerender = function() { this.vertexCount = 0 }, e.prototype.render = function(t) { this.currentIndex >= this.size && this.flush(), t._texture._uvs && (this.sprites[this.currentIndex++] = t) }, e.prototype.flush = function() {
                                if (0 !== this.currentIndex) {
                                    var t = this.renderer.gl,
                                        e = this.MAX_TEXTURES,
                                        i = M["default"].nextPow2(this.currentIndex),
                                        n = M["default"].log2(i),
                                        r = this.buffers[n],
                                        o = this.sprites,
                                        a = this.groups,
                                        s = r.float32View,
                                        h = r.uint32View,
                                        l = this.boundTextures,
                                        u = this.renderer.boundTextures,
                                        c = this.renderer.textureGC.count,
                                        d = 0,
                                        p = void 0,
                                        f = void 0,
                                        m = 1,
                                        g = 0,
                                        v = a[0],
                                        y = void 0,
                                        _ = void 0,
                                        w = x.premultiplyBlendMode[o[0]._texture.baseTexture.premultipliedAlpha ? 1 : 0][o[0].blendMode];
                                    v.textureCount = 0, v.start = 0, v.blend = w, E++;
                                    var S = void 0;
                                    for (S = 0; S < e; ++S) { var C = u[S];
                                        C._enabled !== E ? (l[S] = C, C._virtalBoundId = S, C._enabled = E) : l[S] = this.renderer.emptyTextures[S] }
                                    for (E++, S = 0; S < this.currentIndex; ++S) {
                                        var R = o[S];
                                        p = R._texture.baseTexture;
                                        var P = x.premultiplyBlendMode[Number(p.premultipliedAlpha)][R.blendMode];
                                        if (w !== P && (w = P, f = null, g = e, E++), f !== p && (f = p, p._enabled !== E)) { if (g === e && (E++, v.size = S - v.start, g = 0, v = a[m++], v.blend = w, v.textureCount = 0, v.start = S), p.touched = c, p._virtalBoundId === -1)
                                                for (var O = 0; O < e; ++O) { var L = (O + A) % e,
                                                        I = l[L]; if (I._enabled !== E) { A++, I._virtalBoundId = -1, p._virtalBoundId = L, l[L] = p; break } } p._enabled = E, v.textureCount++, v.ids[g] = p._virtalBoundId, v.textures[g++] = p }
                                        if (y = R.vertexData, _ = R._texture._uvs.uvsUint32, this.renderer.roundPixels) { var D = this.renderer.resolution;
                                            s[d] = (y[0] * D | 0) / D, s[d + 1] = (y[1] * D | 0) / D, s[d + 5] = (y[2] * D | 0) / D, s[d + 6] = (y[3] * D | 0) / D, s[d + 10] = (y[4] * D | 0) / D, s[d + 11] = (y[5] * D | 0) / D, s[d + 15] = (y[6] * D | 0) / D, s[d + 16] = (y[7] * D | 0) / D } else s[d] = y[0], s[d + 1] = y[1], s[d + 5] = y[2], s[d + 6] = y[3], s[d + 10] = y[4], s[d + 11] = y[5], s[d + 15] = y[6], s[d + 16] = y[7];
                                        h[d + 2] = _[0], h[d + 7] = _[1], h[d + 12] = _[2], h[d + 17] = _[3];
                                        var k = Math.min(R.worldAlpha, 1),
                                            B = k < 1 && p.premultipliedAlpha ? (0,
                                                x.premultiplyTint)(R._tintRGB, k) : R._tintRGB + (255 * k << 24);
                                        h[d + 3] = h[d + 8] = h[d + 13] = h[d + 18] = B, s[d + 4] = s[d + 9] = s[d + 14] = s[d + 19] = p._virtalBoundId, d += 20
                                    }
                                    if (v.size = S - v.start, b["default"].CAN_UPLOAD_SAME_BUFFER) this.vertexBuffers[this.vertexCount].upload(r.vertices, 0, !0);
                                    else { if (this.vaoMax <= this.vertexCount) { this.vaoMax++; var N = this.shader.attributes,
                                                F = this.vertexBuffers[this.vertexCount] = T["default"].GLBuffer.createVertexBuffer(t, null, t.STREAM_DRAW),
                                                U = this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(F, N.aVertexPosition, t.FLOAT, !1, this.vertByteSize, 0).addAttribute(F, N.aTextureCoord, t.UNSIGNED_SHORT, !0, this.vertByteSize, 8).addAttribute(F, N.aColor, t.UNSIGNED_BYTE, !0, this.vertByteSize, 12);
                                            N.aTextureId && U.addAttribute(F, N.aTextureId, t.FLOAT, !1, this.vertByteSize, 16), this.vaos[this.vertexCount] = U } this.renderer.bindVao(this.vaos[this.vertexCount]), this.vertexBuffers[this.vertexCount].upload(r.vertices, 0, !1), this.vertexCount++ }
                                    for (S = 0; S < e; ++S) u[S]._virtalBoundId = -1;
                                    for (S = 0; S < m; ++S) { for (var G = a[S], j = G.textureCount, z = 0; z < j; z++) f = G.textures[z], u[G.ids[z]] !== f && this.renderer.bindTexture(f, G.ids[z], !0), f._virtalBoundId = -1;
                                        this.renderer.state.setBlendMode(G.blend), t.drawElements(t.TRIANGLES, 6 * G.size, t.UNSIGNED_SHORT, 6 * G.start * 2) } this.currentIndex = 0
                                }
                            }, e.prototype.start = function() { this.renderer.bindShader(this.shader), b["default"].CAN_UPLOAD_SAME_BUFFER && (this.renderer.bindVao(this.vaos[this.vertexCount]), this.vertexBuffers[this.vertexCount].bind()) }, e.prototype.stop = function() { this.flush() }, e.prototype.destroy = function() { for (var e = 0; e < this.vaoMax; e++) this.vertexBuffers[e] && this.vertexBuffers[e].destroy(), this.vaos[e] && this.vaos[e].destroy();
                                this.indexBuffer && this.indexBuffer.destroy(), this.renderer.off("prerender", this.onPrerender, this), t.prototype.destroy.call(this), this.shader && (this.shader.destroy(), this.shader = null), this.vertexBuffers = null, this.vaos = null, this.indexBuffer = null, this.indices = null, this.sprites = null; for (var i = 0; i < this.buffers.length; ++i) this.buffers[i].destroy() }, e
                        }(h["default"]);
                    i["default"] = C, u["default"].registerPlugin("sprite", C)
                }, { "../../renderers/webgl/WebGLRenderer": 84, "../../renderers/webgl/utils/ObjectRenderer": 94, "../../renderers/webgl/utils/checkMaxIfStatmentsInShader": 97, "../../settings": 101, "../../utils": 125, "../../utils/createIndicesForQuads": 123, "./BatchBuffer": 105, "./generateMultiTextureShader": 107, "bit-twiddle": 1, "pixi-gl-core": 15 }],
                107: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { var i = "precision highp float;\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\nattribute vec4 aColor;\nattribute float aTextureId;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\nvarying float vTextureId;\n\nvoid main(void){\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = aTextureCoord;\n    vTextureId = aTextureId;\n    vColor = aColor;\n}\n",
                            n = h;
                        n = n.replace(/%count%/gi, e), n = n.replace(/%forloop%/gi, o(e)); for (var r = new s["default"](t, i, n), a = [], l = 0; l < e; l++) a[l] = l; return r.bind(), r.uniforms.uSamplers = a, r }

                    function o(t) { var e = "";
                        e += "\n", e += "\n"; for (var i = 0; i < t; i++) i > 0 && (e += "\nelse "), i < t - 1 && (e += "if(textureId == " + i + ".0)"), e += "\n{", e += "\n\tcolor = texture2D(uSamplers[" + i + "], vTextureCoord);", e += "\n}"; return e += "\n", e += "\n" } i.__esModule = !0, i["default"] = r; var a = t("../../Shader"),
                        s = n(a),
                        h = (t("path"), ["varying vec2 vTextureCoord;", "varying vec4 vColor;", "varying float vTextureId;", "uniform sampler2D uSamplers[%count%];", "void main(void){", "vec4 color;", "float textureId = floor(vTextureId+0.5);", "%forloop%", "gl_FragColor = color * vColor;", "}"].join("\n")) }, { "../../Shader": 44, path: 8 }],
                108: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var s = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        h = t("../sprites/Sprite"),
                        l = n(h),
                        u = t("../textures/Texture"),
                        c = n(u),
                        d = t("../math"),
                        p = t("../utils"),
                        f = t("../const"),
                        m = t("../settings"),
                        g = n(m),
                        v = t("./TextStyle"),
                        y = n(v),
                        _ = t("./TextMetrics"),
                        b = n(_),
                        x = t("../utils/trimCanvas"),
                        w = n(x),
                        T = { texture: !0, children: !1, baseTexture: !0 },
                        S = function(t) {
                            function e(i, n, a) { r(this, e), a = a || document.createElement("canvas"), a.width = 3, a.height = 3; var s = c["default"].fromCanvas(a, g["default"].SCALE_MODE, "text");
                                s.orig = new d.Rectangle, s.trim = new d.Rectangle; var h = o(this, t.call(this, s)); return c["default"].addToCache(h._texture, h._texture.baseTexture.textureCacheIds[0]), h.canvas = a, h.context = h.canvas.getContext("2d"), h.resolution = g["default"].RESOLUTION, h._text = null, h._style = null, h._styleListener = null, h._font = "", h.text = i, h.style = n, h.localStyleID = -1, h } return a(e, t), e.prototype.updateText = function(t) { var e = this._style; if (this.localStyleID !== e.styleID && (this.dirty = !0, this.localStyleID = e.styleID), this.dirty || !t) { this._font = this._style.toFontString(); var i = this.context,
                                        n = b["default"].measureText(this._text, this._style, this._style.wordWrap, this.canvas),
                                        r = n.width,
                                        o = n.height,
                                        a = n.lines,
                                        s = n.lineHeight,
                                        h = n.lineWidths,
                                        l = n.maxLineWidth,
                                        u = n.fontProperties;
                                    this.canvas.width = Math.ceil((Math.max(1, r) + 2 * e.padding) * this.resolution), this.canvas.height = Math.ceil((Math.max(1, o) + 2 * e.padding) * this.resolution), i.scale(this.resolution, this.resolution), i.clearRect(0, 0, this.canvas.width, this.canvas.height), i.font = this._font, i.strokeStyle = e.stroke, i.lineWidth = e.strokeThickness, i.textBaseline = e.textBaseline, i.lineJoin = e.lineJoin, i.miterLimit = e.miterLimit; var c = void 0,
                                        d = void 0; if (e.dropShadow) { i.fillStyle = e.dropShadowColor, i.globalAlpha = e.dropShadowAlpha, i.shadowBlur = e.dropShadowBlur, e.dropShadowBlur > 0 && (i.shadowColor = e.dropShadowColor); for (var p = Math.cos(e.dropShadowAngle) * e.dropShadowDistance, f = Math.sin(e.dropShadowAngle) * e.dropShadowDistance, m = 0; m < a.length; m++) c = e.strokeThickness / 2, d = e.strokeThickness / 2 + m * s + u.ascent, "right" === e.align ? c += l - h[m] : "center" === e.align && (c += (l - h[m]) / 2), e.fill && (this.drawLetterSpacing(a[m], c + p + e.padding, d + f + e.padding), e.stroke && e.strokeThickness && (i.strokeStyle = e.dropShadowColor, this.drawLetterSpacing(a[m], c + p + e.padding, d + f + e.padding, !0), i.strokeStyle = e.stroke)) } i.shadowBlur = 0, i.globalAlpha = 1, i.fillStyle = this._generateFillStyle(e, a); for (var g = 0; g < a.length; g++) c = e.strokeThickness / 2, d = e.strokeThickness / 2 + g * s + u.ascent, "right" === e.align ? c += l - h[g] : "center" === e.align && (c += (l - h[g]) / 2), e.stroke && e.strokeThickness && this.drawLetterSpacing(a[g], c + e.padding, d + e.padding, !0), e.fill && this.drawLetterSpacing(a[g], c + e.padding, d + e.padding);
                                    this.updateTexture() } }, e.prototype.drawLetterSpacing = function(t, e, i) { var n = arguments.length > 3 && void 0 !== arguments[3] && arguments[3],
                                    r = this._style,
                                    o = r.letterSpacing; if (0 === o) return void(n ? this.context.strokeText(t, e, i) : this.context.fillText(t, e, i)); for (var a = String.prototype.split.call(t, ""), s = e, h = 0, l = ""; h < t.length;) l = a[h++], n ? this.context.strokeText(l, s, i) : this.context.fillText(l, s, i), s += this.context.measureText(l).width + o }, e.prototype.updateTexture = function() { var t = this.canvas; if (this._style.trim) { var e = (0, w["default"])(t);
                                    t.width = e.width, t.height = e.height, this.context.putImageData(e.data, 0, 0) } var i = this._texture,
                                    n = this._style,
                                    r = n.trim ? 0 : n.padding,
                                    o = i.baseTexture;
                                o.hasLoaded = !0, o.resolution = this.resolution, o.realWidth = t.width, o.realHeight = t.height, o.width = t.width / this.resolution, o.height = t.height / this.resolution, i.trim.width = i._frame.width = t.width / this.resolution, i.trim.height = i._frame.height = t.height / this.resolution, i.trim.x = -r, i.trim.y = -r, i.orig.width = i._frame.width - 2 * r, i.orig.height = i._frame.height - 2 * r, this._onTextureUpdate(), o.emit("update", o), this.dirty = !1 }, e.prototype.renderWebGL = function(e) { this.resolution !== e.resolution && (this.resolution = e.resolution, this.dirty = !0), this.updateText(!0), t.prototype.renderWebGL.call(this, e) }, e.prototype._renderCanvas = function(e) { this.resolution !== e.resolution && (this.resolution = e.resolution, this.dirty = !0), this.updateText(!0), t.prototype._renderCanvas.call(this, e) }, e.prototype.getLocalBounds = function(e) { return this.updateText(!0), t.prototype.getLocalBounds.call(this, e) }, e.prototype._calculateBounds = function() { this.updateText(!0), this.calculateVertices(), this._bounds.addQuad(this.vertexData) }, e.prototype._onStyleChange = function() { this.dirty = !0 }, e.prototype._generateFillStyle = function(t, e) { if (!Array.isArray(t.fill)) return t.fill; if (navigator.isCocoonJS) return t.fill[0]; var i = void 0,
                                    n = void 0,
                                    r = void 0,
                                    o = void 0,
                                    a = this.canvas.width / this.resolution,
                                    s = this.canvas.height / this.resolution,
                                    h = t.fill.slice(),
                                    l = t.fillGradientStops.slice(); if (!l.length)
                                    for (var u = h.length + 1, c = 1; c < u; ++c) l.push(c / u); if (h.unshift(t.fill[0]), l.unshift(0), h.push(t.fill[t.fill.length - 1]), l.push(1), t.fillGradientType === f.TEXT_GRADIENT.LINEAR_VERTICAL) { i = this.context.createLinearGradient(a / 2, 0, a / 2, s), n = (h.length + 1) * e.length, r = 0; for (var d = 0; d < e.length; d++) { r += 1; for (var p = 0; p < h.length; p++) o = "number" == typeof l[p] ? l[p] / e.length + d / e.length : r / n, i.addColorStop(o, h[p]), r++ } } else { i = this.context.createLinearGradient(0, s / 2, a, s / 2), n = h.length + 1, r = 1; for (var m = 0; m < h.length; m++) o = "number" == typeof l[m] ? l[m] : r / n, i.addColorStop(o, h[m]), r++ } return i }, e.prototype.destroy = function(e) { "boolean" == typeof e && (e = { children: e }), e = Object.assign({}, T, e), t.prototype.destroy.call(this, e), this.context = null, this.canvas = null, this._style = null }, s(e, [{ key: "width", get: function() { return this.updateText(!0), Math.abs(this.scale.x) * this._texture.orig.width }, set: function(t) { this.updateText(!0); var e = (0, p.sign)(this.scale.x) || 1;
                                    this.scale.x = e * t / this._texture.orig.width, this._width = t } }, { key: "height", get: function() { return this.updateText(!0), Math.abs(this.scale.y) * this._texture.orig.height }, set: function(t) { this.updateText(!0); var e = (0, p.sign)(this.scale.y) || 1;
                                    this.scale.y = e * t / this._texture.orig.height, this._height = t } }, { key: "style", get: function() { return this._style }, set: function(t) { t = t || {}, t instanceof y["default"] ? this._style = t : this._style = new y["default"](t), this.localStyleID = -1, this.dirty = !0 } }, { key: "text", get: function() { return this._text }, set: function(t) { t = String("" === t || null === t || void 0 === t ? " " : t), this._text !== t && (this._text = t, this.dirty = !0) } }]), e }(l["default"]);
                    i["default"] = S }, { "../const": 46, "../math": 70, "../settings": 101, "../sprites/Sprite": 102, "../textures/Texture": 115, "../utils": 125, "../utils/trimCanvas": 130, "./TextMetrics": 109, "./TextStyle": 110 }],
                109: [function(t, e, i) { "use strict";

                    function n(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var r = function() {
                        function t(e, i, r, o, a, s, h, l, u) { n(this, t), this.text = e, this.style = i, this.width = r, this.height = o, this.lines = a, this.lineWidths = s, this.lineHeight = h, this.maxLineWidth = l, this.fontProperties = u } return t.measureText = function(e, i, n) { var r = arguments.length > 3 && void 0 !== arguments[3] ? arguments[3] : t._canvas;
                            n = n || i.wordWrap; var o = i.toFontString(),
                                a = t.measureFont(o),
                                s = r.getContext("2d");
                            s.font = o; for (var h = n ? t.wordWrap(e, i, r) : e, l = h.split(/(?:\r\n|\r|\n)/), u = new Array(l.length), c = 0, d = 0; d < l.length; d++) { var p = s.measureText(l[d]).width + (l[d].length - 1) * i.letterSpacing;
                                u[d] = p, c = Math.max(c, p) } var f = c + i.strokeThickness;
                            i.dropShadow && (f += i.dropShadowDistance); var m = i.lineHeight || a.fontSize + i.strokeThickness,
                                g = Math.max(m, a.fontSize + i.strokeThickness) + (l.length - 1) * (m + i.leading); return i.dropShadow && (g += i.dropShadowDistance), new t(e, i, f, g, l, u, m + i.leading, c, a) }, t.wordWrap = function(e, i) { for (var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : t._canvas, r = n.getContext("2d"), o = "", a = 0, s = "", h = {}, l = i.letterSpacing, u = i.wordWrapWidth + i.letterSpacing, c = t.getFromCache(" ", l, h, r), d = e.split(" "), p = 0; p < d.length; p++) { var f = d[p],
                                    m = t.getFromCache(f, l, h, r); if (m > u)
                                    if (i.breakWords)
                                        for (var g = o.length > 0 ? " " + f : f, v = g.split(""), y = 0; y < v.length; y++) { var _ = v[y],
                                                b = t.getFromCache(_, l, h, r);
                                            b + a > u && (s += t.addLine(o), o = "", a = 0), o += _, a += b } else o.length > 0 && (s += t.addLine(o), o = "", a = 0), s += t.addLine(f), o = "", a = 0;
                                    else m + a > u && (s += t.addLine(o), o = "", a = 0), o += o.length > 0 ? " " + f : f, a += m + c } return s += t.addLine(o, !1) }, t.addLine = function(t) { var e = !(arguments.length > 1 && void 0 !== arguments[1]) || arguments[1]; return t = e ? t + "\n" : t }, t.getFromCache = function(t, e, i, n) { var r = i[t]; if (void 0 === r) { var o = t.length * e;
                                r = n.measureText(t).width + o, i[t] = r } return r }, t.measureFont = function(e) { if (t._fonts[e]) return t._fonts[e]; var i = {},
                                n = t._canvas,
                                r = t._context;
                            r.font = e; var o = Math.ceil(r.measureText("|Mq").width),
                                a = Math.ceil(r.measureText("M").width),
                                s = 2 * a;
                            a = 1.4 * a | 0, n.width = o, n.height = s, r.fillStyle = "#f00", r.fillRect(0, 0, o, s), r.font = e, r.textBaseline = "alphabetic", r.fillStyle = "#000", r.fillText("|Mq", 0, a); var h = r.getImageData(0, 0, o, s).data,
                                l = h.length,
                                u = 4 * o,
                                c = 0,
                                d = 0,
                                p = !1; for (c = 0; c < a; ++c) { for (var f = 0; f < u; f += 4)
                                    if (255 !== h[d + f]) { p = !0; break } if (p) break;
                                d += u } for (i.ascent = a - c, d = l - u, p = !1, c = s; c > a; --c) { for (var m = 0; m < u; m += 4)
                                    if (255 !== h[d + m]) { p = !0; break } if (p) break;
                                d -= u } return i.descent = c - a, i.fontSize = i.ascent + i.descent, t._fonts[e] = i, i }, t }();
                    i["default"] = r; var o = document.createElement("canvas");
                    o.width = o.height = 10, r._canvas = o, r._context = o.getContext("2d"), r._fonts = {} }, {}],
                110: [function(t, e, i) { "use strict";

                    function n(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function r(t) { return "number" == typeof t ? (0, u.hex2string)(t) : ("string" == typeof t && 0 === t.indexOf("0x") && (t = t.replace("0x", "#")), t) }

                    function o(t) { if (Array.isArray(t)) { for (var e = 0; e < t.length; ++e) t[e] = r(t[e]); return t } return r(t) }

                    function a(t, e) { if (!Array.isArray(t) || !Array.isArray(e)) return !1; if (t.length !== e.length) return !1; for (var i = 0; i < t.length; ++i)
                            if (t[i] !== e[i]) return !1; return !0 }

                    function s(t, e, i) { for (var n in i) Array.isArray(e[n]) ? t[n] = e[n].slice() : t[n] = e[n] } i.__esModule = !0; var h = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        l = t("../const"),
                        u = t("../utils"),
                        c = { align: "left", breakWords: !1, dropShadow: !1, dropShadowAlpha: 1, dropShadowAngle: Math.PI / 6, dropShadowBlur: 0, dropShadowColor: "black", dropShadowDistance: 5, fill: "black", fillGradientType: l.TEXT_GRADIENT.LINEAR_VERTICAL, fillGradientStops: [], fontFamily: "Arial", fontSize: 26, fontStyle: "normal", fontVariant: "normal", fontWeight: "normal", letterSpacing: 0, lineHeight: 0, lineJoin: "miter", miterLimit: 10, padding: 0, stroke: "black", strokeThickness: 0, textBaseline: "alphabetic", trim: !1, wordWrap: !1, wordWrapWidth: 100, leading: 0 },
                        d = function() {
                            function t(e) { n(this, t), this.styleID = 0, this.reset(), s(this, e, e) } return t.prototype.clone = function() { var e = {}; return s(e, this, c), new t(e) }, t.prototype.reset = function() { s(this, c, c) }, t.prototype.toFontString = function() { var t = "number" == typeof this.fontSize ? this.fontSize + "px" : this.fontSize,
                                    e = this.fontFamily;
                                Array.isArray(this.fontFamily) || (e = this.fontFamily.split(",")); for (var i = e.length - 1; i >= 0; i--) { var n = e[i].trim(); /([\"\'])[^\'\"]+\1/.test(n) || (n = '"' + n + '"'), e[i] = n } return this.fontStyle + " " + this.fontVariant + " " + this.fontWeight + " " + t + " " + e.join(",") }, h(t, [{ key: "align", get: function() { return this._align }, set: function(t) { this._align !== t && (this._align = t, this.styleID++) } }, { key: "breakWords", get: function() { return this._breakWords }, set: function(t) { this._breakWords !== t && (this._breakWords = t, this.styleID++) } }, { key: "dropShadow", get: function() { return this._dropShadow }, set: function(t) { this._dropShadow !== t && (this._dropShadow = t, this.styleID++) } }, { key: "dropShadowAlpha", get: function() { return this._dropShadowAlpha }, set: function(t) { this._dropShadowAlpha !== t && (this._dropShadowAlpha = t, this.styleID++) } }, { key: "dropShadowAngle", get: function() { return this._dropShadowAngle }, set: function(t) { this._dropShadowAngle !== t && (this._dropShadowAngle = t, this.styleID++) } }, { key: "dropShadowBlur", get: function() { return this._dropShadowBlur }, set: function(t) { this._dropShadowBlur !== t && (this._dropShadowBlur = t, this.styleID++) } }, { key: "dropShadowColor", get: function() { return this._dropShadowColor }, set: function(t) { var e = o(t);
                                    this._dropShadowColor !== e && (this._dropShadowColor = e, this.styleID++) } }, { key: "dropShadowDistance", get: function() { return this._dropShadowDistance }, set: function(t) { this._dropShadowDistance !== t && (this._dropShadowDistance = t, this.styleID++) } }, { key: "fill", get: function() { return this._fill }, set: function(t) { var e = o(t);
                                    this._fill !== e && (this._fill = e, this.styleID++) } }, { key: "fillGradientType", get: function() { return this._fillGradientType }, set: function(t) { this._fillGradientType !== t && (this._fillGradientType = t, this.styleID++) } }, { key: "fillGradientStops", get: function() { return this._fillGradientStops }, set: function(t) { a(this._fillGradientStops, t) || (this._fillGradientStops = t, this.styleID++) } }, { key: "fontFamily", get: function() { return this._fontFamily }, set: function(t) { this.fontFamily !== t && (this._fontFamily = t, this.styleID++) } }, { key: "fontSize", get: function() { return this._fontSize }, set: function(t) { this._fontSize !== t && (this._fontSize = t, this.styleID++) } }, { key: "fontStyle", get: function() { return this._fontStyle }, set: function(t) { this._fontStyle !== t && (this._fontStyle = t, this.styleID++) } }, { key: "fontVariant", get: function() { return this._fontVariant }, set: function(t) { this._fontVariant !== t && (this._fontVariant = t, this.styleID++) } }, { key: "fontWeight", get: function() { return this._fontWeight }, set: function(t) { this._fontWeight !== t && (this._fontWeight = t, this.styleID++) } }, { key: "letterSpacing", get: function() { return this._letterSpacing }, set: function(t) { this._letterSpacing !== t && (this._letterSpacing = t, this.styleID++) } }, { key: "lineHeight", get: function() { return this._lineHeight }, set: function(t) { this._lineHeight !== t && (this._lineHeight = t, this.styleID++) } }, { key: "leading", get: function() { return this._leading }, set: function(t) { this._leading !== t && (this._leading = t, this.styleID++) } }, { key: "lineJoin", get: function() { return this._lineJoin }, set: function(t) { this._lineJoin !== t && (this._lineJoin = t, this.styleID++) } }, { key: "miterLimit", get: function() { return this._miterLimit }, set: function(t) { this._miterLimit !== t && (this._miterLimit = t, this.styleID++) } }, { key: "padding", get: function() { return this._padding }, set: function(t) { this._padding !== t && (this._padding = t, this.styleID++) } }, { key: "stroke", get: function() { return this._stroke }, set: function(t) { var e = o(t);
                                    this._stroke !== e && (this._stroke = e, this.styleID++) } }, { key: "strokeThickness", get: function() { return this._strokeThickness }, set: function(t) { this._strokeThickness !== t && (this._strokeThickness = t, this.styleID++) } }, { key: "textBaseline", get: function() { return this._textBaseline }, set: function(t) { this._textBaseline !== t && (this._textBaseline = t, this.styleID++) } }, { key: "trim", get: function() { return this._trim }, set: function(t) { this._trim !== t && (this._trim = t, this.styleID++) } }, { key: "wordWrap", get: function() { return this._wordWrap }, set: function(t) { this._wordWrap !== t && (this._wordWrap = t, this.styleID++) } }, { key: "wordWrapWidth", get: function() { return this._wordWrapWidth }, set: function(t) { this._wordWrapWidth !== t && (this._wordWrapWidth = t, this.styleID++) } }]), t }();
                    i["default"] = d }, { "../const": 46, "../utils": 125 }],
                111: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var s = t("./BaseTexture"),
                        h = n(s),
                        l = t("../settings"),
                        u = n(l),
                        c = function(t) {
                            function e() { var i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 100,
                                    n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 100,
                                    a = arguments[2],
                                    s = arguments[3];
                                r(this, e); var h = o(this, t.call(this, null, a)); return h.resolution = s || u["default"].RESOLUTION, h.width = Math.ceil(i), h.height = Math.ceil(n), h.realWidth = h.width * h.resolution, h.realHeight = h.height * h.resolution, h.scaleMode = void 0 !== a ? a : u["default"].SCALE_MODE, h.hasLoaded = !0, h._glRenderTargets = {}, h._canvasRenderTarget = null, h.valid = !1, h } return a(e, t), e.prototype.resize = function(t, e) { t = Math.ceil(t), e = Math.ceil(e), t === this.width && e === this.height || (this.valid = t > 0 && e > 0, this.width = t, this.height = e, this.realWidth = this.width * this.resolution, this.realHeight = this.height * this.resolution, this.valid && this.emit("update", this)) }, e.prototype.destroy = function() { t.prototype.destroy.call(this, !0), this.renderer = null }, e }(h["default"]);
                    i["default"] = c }, { "../settings": 101, "./BaseTexture": 112 }],
                112: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var s = t("../utils"),
                        h = t("../settings"),
                        l = n(h),
                        u = t("eventemitter3"),
                        c = n(u),
                        d = t("../utils/determineCrossOrigin"),
                        p = n(d),
                        f = t("bit-twiddle"),
                        m = n(f),
                        g = function(t) {
                            function e(i, n, a) { r(this, e); var h = o(this, t.call(this)); return h.uid = (0, s.uid)(), h.touched = 0, h.resolution = a || l["default"].RESOLUTION, h.width = 100, h.height = 100, h.realWidth = 100, h.realHeight = 100, h.scaleMode = void 0 !== n ? n : l["default"].SCALE_MODE, h.hasLoaded = !1, h.isLoading = !1, h.source = null, h.origSource = null, h.imageType = null, h.sourceScale = 1, h.premultipliedAlpha = !0, h.imageUrl = null, h.isPowerOfTwo = !1, h.mipmap = l["default"].MIPMAP_TEXTURES, h.wrapMode = l["default"].WRAP_MODE, h._glTextures = {}, h._enabled = 0, h._virtalBoundId = -1, h._destroyed = !1, h.textureCacheIds = [], i && h.loadSource(i), h } return a(e, t), e.prototype.update = function() { "svg" !== this.imageType && (this.realWidth = this.source.naturalWidth || this.source.videoWidth || this.source.width, this.realHeight = this.source.naturalHeight || this.source.videoHeight || this.source.height, this._updateDimensions()), this.emit("update", this) }, e.prototype._updateDimensions = function() { this.width = this.realWidth / this.resolution, this.height = this.realHeight / this.resolution, this.isPowerOfTwo = m["default"].isPow2(this.realWidth) && m["default"].isPow2(this.realHeight) }, e.prototype.loadSource = function(t) { var e = this.isLoading;
                                this.hasLoaded = !1, this.isLoading = !1, e && this.source && (this.source.onload = null, this.source.onerror = null); var i = !this.source; if (this.source = t, (t.src && t.complete || t.getContext) && t.width && t.height) this._updateImageType(), "svg" === this.imageType ? this._loadSvgSource() : this._sourceLoaded(), i && this.emit("loaded", this);
                                else if (!t.getContext) { this.isLoading = !0; var n = this; if (t.onload = function() { if (n._updateImageType(), t.onload = null, t.onerror = null, n.isLoading) return n.isLoading = !1, n._sourceLoaded(), "svg" === n.imageType ? void n._loadSvgSource() : void n.emit("loaded", n) }, t.onerror = function() { t.onload = null, t.onerror = null, n.isLoading && (n.isLoading = !1, n.emit("error", n)) }, t.complete && t.src) { if (t.onload = null, t.onerror = null, "svg" === n.imageType) return void n._loadSvgSource();
                                        this.isLoading = !1, t.width && t.height ? (this._sourceLoaded(), e && this.emit("loaded", this)) : e && this.emit("error", this) } } }, e.prototype._updateImageType = function() { if (this.imageUrl) { var t = (0, s.decomposeDataUri)(this.imageUrl),
                                        e = void 0; if (t && "image" === t.mediaType) { var i = t.subType.split("+")[0]; if (e = (0, s.getUrlFileExtension)("." + i), !e) throw new Error("Invalid image type in data URI.") } else e = (0, s.getUrlFileExtension)(this.imageUrl), e || (e = "png");
                                    this.imageType = e } }, e.prototype._loadSvgSource = function() { if ("svg" === this.imageType) { var t = (0, s.decomposeDataUri)(this.imageUrl);
                                    t ? this._loadSvgSourceUsingDataUri(t) : this._loadSvgSourceUsingXhr() } }, e.prototype._loadSvgSourceUsingDataUri = function(t) { var e = void 0; if ("base64" === t.encoding) { if (!atob) throw new Error("Your browser doesn't support base64 conversions.");
                                    e = atob(t.data) } else e = t.data;
                                this._loadSvgSourceUsingString(e) }, e.prototype._loadSvgSourceUsingXhr = function() { var t = this,
                                    e = new XMLHttpRequest;
                                e.onload = function() { if (e.readyState !== e.DONE || 200 !== e.status) throw new Error("Failed to load SVG using XHR.");
                                    t._loadSvgSourceUsingString(e.response) }, e.onerror = function() { return t.emit("error", t) }, e.open("GET", this.imageUrl, !0), e.send() }, e.prototype._loadSvgSourceUsingString = function(t) { var i = (0, s.getSvgSize)(t),
                                    n = i.width,
                                    r = i.height; if (!n || !r) throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");
                                this.realWidth = Math.round(n * this.sourceScale), this.realHeight = Math.round(r * this.sourceScale), this._updateDimensions(); var o = document.createElement("canvas");
                                o.width = this.realWidth, o.height = this.realHeight, o._pixiId = "canvas_" + (0, s.uid)(), o.getContext("2d").drawImage(this.source, 0, 0, n, r, 0, 0, this.realWidth, this.realHeight), this.origSource = this.source, this.source = o, e.addToCache(this, o._pixiId), this.isLoading = !1, this._sourceLoaded(), this.emit("loaded", this) }, e.prototype._sourceLoaded = function() { this.hasLoaded = !0, this.update() }, e.prototype.destroy = function() { this.imageUrl && (delete s.TextureCache[this.imageUrl], this.imageUrl = null, navigator.isCocoonJS || (this.source.src = "")), this.source = null, this.dispose(), e.removeFromCache(this), this.textureCacheIds = null, this._destroyed = !0 }, e.prototype.dispose = function() { this.emit("dispose", this) }, e.prototype.updateSourceImage = function(t) { this.source.src = t, this.loadSource(this.source) }, e.fromImage = function(t, i, n, r) { var o = s.BaseTextureCache[t]; if (!o) { var a = new Image;
                                    void 0 === i && 0 !== t.indexOf("data:") ? a.crossOrigin = (0, p["default"])(t) : i && (a.crossOrigin = "string" == typeof i ? i : "anonymous"), o = new e(a, n), o.imageUrl = t, r && (o.sourceScale = r), o.resolution = (0, s.getResolutionOfUrl)(t), a.src = t, e.addToCache(o, t) } return o }, e.fromCanvas = function(t, i) { var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "canvas";
                                t._pixiId || (t._pixiId = n + "_" + (0, s.uid)()); var r = s.BaseTextureCache[t._pixiId]; return r || (r = new e(t, i), e.addToCache(r, t._pixiId)), r }, e.from = function(t, i, n) { if ("string" == typeof t) return e.fromImage(t, void 0, i, n); if (t instanceof HTMLImageElement) { var r = t.src,
                                        o = s.BaseTextureCache[r]; return o || (o = new e(t, i), o.imageUrl = r, n && (o.sourceScale = n), o.resolution = (0, s.getResolutionOfUrl)(r), e.addToCache(o, r)), o } return t instanceof HTMLCanvasElement ? e.fromCanvas(t, i) : t }, e.addToCache = function(t, e) { e && (t.textureCacheIds.indexOf(e) === -1 && t.textureCacheIds.push(e), s.BaseTextureCache[e], s.BaseTextureCache[e] = t) }, e.removeFromCache = function(t) { if ("string" == typeof t) { var e = s.BaseTextureCache[t]; if (e) { var i = e.textureCacheIds.indexOf(t); return i > -1 && e.textureCacheIds.splice(i, 1), delete s.BaseTextureCache[t], e } } else if (t && t.textureCacheIds) { for (var n = 0; n < t.textureCacheIds.length; ++n) delete s.BaseTextureCache[t.textureCacheIds[n]]; return t.textureCacheIds.length = 0, t } return null }, e }(c["default"]);
                    i["default"] = g }, { "../settings": 101, "../utils": 125, "../utils/determineCrossOrigin": 124, "bit-twiddle": 1, eventemitter3: 3 }],
                113: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var s = t("./BaseRenderTexture"),
                        h = n(s),
                        l = t("./Texture"),
                        u = n(l),
                        c = function(t) {
                            function e(i, n) { r(this, e); var a = null; if (!(i instanceof h["default"])) { var s = arguments[1],
                                        l = arguments[2],
                                        u = arguments[3],
                                        c = arguments[4];
                                    a = arguments[0], n = null, i = new h["default"](s, l, u, c) } var d = o(this, t.call(this, i, n)); return d.legacyRenderer = a, d.valid = !0, d._updateUvs(), d } return a(e, t), e.prototype.resize = function(t, e, i) { t = Math.ceil(t), e = Math.ceil(e), this.valid = t > 0 && e > 0, this._frame.width = this.orig.width = t, this._frame.height = this.orig.height = e, i || this.baseTexture.resize(t, e), this._updateUvs() }, e.create = function(t, i, n, r) { return new e(new h["default"](t, i, n, r)) }, e }(u["default"]);
                    i["default"] = c }, { "./BaseRenderTexture": 111, "./Texture": 115 }],
                114: [function(t, e, i) {
                    "use strict";

                    function n(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0;
                    var r = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        o = t("../"),
                        a = t("../utils"),
                        s = function() {
                            function t(e, i) { var r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : null;
                                n(this, t), this.baseTexture = e, this.textures = {}, this.data = i, this.resolution = this._updateResolution(r || this.baseTexture.imageUrl), this._frames = this.data.frames, this._frameKeys = Object.keys(this._frames), this._batchIndex = 0, this._callback = null }
                            return r(t, null, [{ key: "BATCH_SIZE", get: function() { return 1e3 } }]), t.prototype._updateResolution = function(t) { var e = this.data.meta.scale,
                                    i = (0, a.getResolutionOfUrl)(t, null); return null === i && (i = void 0 !== e ? parseFloat(e) : 1), 1 !== i && (this.baseTexture.resolution = i, this.baseTexture.update()), i }, t.prototype.parse = function(e) { this._batchIndex = 0, this._callback = e, this._frameKeys.length <= t.BATCH_SIZE ? (this._processFrames(0), this._parseComplete()) : this._nextBatch() }, t.prototype._processFrames = function(e) { for (var i = e, n = t.BATCH_SIZE, r = this.baseTexture.sourceScale; i - e < n && i < this._frameKeys.length;) { var a = this._frameKeys[i],
                                        s = this._frames[a],
                                        h = s.frame; if (h) { var l = null,
                                            u = null,
                                            c = s.trimmed !== !1 && s.sourceSize ? s.sourceSize : s.frame,
                                            d = new o.Rectangle(0, 0, Math.floor(c.w * r) / this.resolution, Math.floor(c.h * r) / this.resolution);
                                        l = s.rotated ? new o.Rectangle(Math.floor(h.x * r) / this.resolution, Math.floor(h.y * r) / this.resolution, Math.floor(h.h * r) / this.resolution, Math.floor(h.w * r) / this.resolution) : new o.Rectangle(Math.floor(h.x * r) / this.resolution, Math.floor(h.y * r) / this.resolution, Math.floor(h.w * r) / this.resolution, Math.floor(h.h * r) / this.resolution), s.trimmed !== !1 && s.spriteSourceSize && (u = new o.Rectangle(Math.floor(s.spriteSourceSize.x * r) / this.resolution, Math.floor(s.spriteSourceSize.y * r) / this.resolution, Math.floor(h.w * r) / this.resolution, Math.floor(h.h * r) / this.resolution)), this.textures[a] = new o.Texture(this.baseTexture, l, d, u, s.rotated ? 2 : 0), o.Texture.addToCache(this.textures[a], a) } i++ } }, t.prototype._parseComplete = function() { var t = this._callback;
                                this._callback = null, this._batchIndex = 0, t.call(this, this.textures) }, t.prototype._nextBatch = function() { var e = this;
                                this._processFrames(this._batchIndex * t.BATCH_SIZE), this._batchIndex++, setTimeout(function() { e._batchIndex * t.BATCH_SIZE < e._frameKeys.length ? e._nextBatch() : e._parseComplete() }, 0) }, t.prototype.destroy = function() {
                                var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                                for (var e in this.textures) this.textures[e].destroy();
                                this._frames = null, this._frameKeys = null, this.data = null, this.textures = null, t && this.baseTexture.destroy(), this.baseTexture = null;
                            }, t
                        }();
                    i["default"] = s
                }, { "../": 65, "../utils": 125 }],
                115: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }

                    function s() { var t = document.createElement("canvas");
                        t.width = 10, t.height = 10; var e = t.getContext("2d"); return e.fillStyle = "white", e.fillRect(0, 0, 10, 10), new w(new c["default"](t)) }

                    function h(t) { t.destroy = function() {}, t.on = function() {}, t.once = function() {}, t.emit = function() {} } i.__esModule = !0; var l = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        u = t("./BaseTexture"),
                        c = n(u),
                        d = t("./VideoBaseTexture"),
                        p = n(d),
                        f = t("./TextureUvs"),
                        m = n(f),
                        g = t("eventemitter3"),
                        v = n(g),
                        y = t("../math"),
                        _ = t("../utils"),
                        b = t("../settings"),
                        x = n(b),
                        w = function(t) {
                            function e(i, n, a, s, h) { r(this, e); var l = o(this, t.call(this)); if (l.noFrame = !1, n || (l.noFrame = !0, n = new y.Rectangle(0, 0, 1, 1)), i instanceof e && (i = i.baseTexture), l.baseTexture = i, l._frame = n, l.trim = s, l.valid = !1, l.requiresUpdate = !1, l._uvs = null, l.orig = a || n, l._rotate = Number(h || 0), h === !0) l._rotate = 2;
                                else if (l._rotate % 2 !== 0) throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually"); return i.hasLoaded ? (l.noFrame && (n = new y.Rectangle(0, 0, i.width, i.height), i.on("update", l.onBaseTextureUpdated, l)), l.frame = n) : i.once("loaded", l.onBaseTextureLoaded, l), l._updateID = 0, l.transform = null, l.textureCacheIds = [], l } return a(e, t), e.prototype.update = function() { this.baseTexture.update() }, e.prototype.onBaseTextureLoaded = function(t) { this._updateID++, this.noFrame ? this.frame = new y.Rectangle(0, 0, t.width, t.height) : this.frame = this._frame, this.baseTexture.on("update", this.onBaseTextureUpdated, this), this.emit("update", this) }, e.prototype.onBaseTextureUpdated = function(t) { this._updateID++, this._frame.width = t.width, this._frame.height = t.height, this.emit("update", this) }, e.prototype.destroy = function(t) { this.baseTexture && (t && (_.TextureCache[this.baseTexture.imageUrl] && e.removeFromCache(this.baseTexture.imageUrl), this.baseTexture.destroy()), this.baseTexture.off("update", this.onBaseTextureUpdated, this), this.baseTexture.off("loaded", this.onBaseTextureLoaded, this), this.baseTexture = null), this._frame = null, this._uvs = null, this.trim = null, this.orig = null, this.valid = !1, e.removeFromCache(this), this.textureCacheIds = null }, e.prototype.clone = function() { return new e(this.baseTexture, this.frame, this.orig, this.trim, this.rotate) }, e.prototype._updateUvs = function() { this._uvs || (this._uvs = new m["default"]), this._uvs.set(this._frame, this.baseTexture, this.rotate), this._updateID++ }, e.fromImage = function(t, i, n, r) { var o = _.TextureCache[t]; return o || (o = new e(c["default"].fromImage(t, i, n, r)), e.addToCache(o, t)), o }, e.fromFrame = function(t) { var e = _.TextureCache[t]; if (!e) throw new Error('The frameId "' + t + '" does not exist in the texture cache'); return e }, e.fromCanvas = function(t, i) { var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : "canvas"; return new e(c["default"].fromCanvas(t, i, n)) }, e.fromVideo = function(t, i) { return "string" == typeof t ? e.fromVideoUrl(t, i) : new e(p["default"].fromVideo(t, i)) }, e.fromVideoUrl = function(t, i) { return new e(p["default"].fromUrl(t, i)) }, e.from = function(t) { if ("string" == typeof t) { var i = _.TextureCache[t]; if (!i) { var n = null !== t.match(/\.(mp4|webm|ogg|h264|avi|mov)$/); return n ? e.fromVideoUrl(t) : e.fromImage(t) } return i } return t instanceof HTMLImageElement ? new e(c["default"].from(t)) : t instanceof HTMLCanvasElement ? e.fromCanvas(t, x["default"].SCALE_MODE, "HTMLCanvasElement") : t instanceof HTMLVideoElement ? e.fromVideo(t) : t instanceof c["default"] ? new e(t) : t }, e.fromLoader = function(t, i, n) { var r = new c["default"](t, (void 0), (0, _.getResolutionOfUrl)(i)),
                                    o = new e(r); return r.imageUrl = i, n || (n = i), c["default"].addToCache(o.baseTexture, n), e.addToCache(o, n), n !== i && (c["default"].addToCache(o.baseTexture, i), e.addToCache(o, i)), o }, e.addToCache = function(t, e) { e && (t.textureCacheIds.indexOf(e) === -1 && t.textureCacheIds.push(e), _.TextureCache[e], _.TextureCache[e] = t) }, e.removeFromCache = function(t) { if ("string" == typeof t) { var e = _.TextureCache[t]; if (e) { var i = e.textureCacheIds.indexOf(t); return i > -1 && e.textureCacheIds.splice(i, 1), delete _.TextureCache[t], e } } else if (t && t.textureCacheIds) { for (var n = 0; n < t.textureCacheIds.length; ++n) _.TextureCache[t.textureCacheIds[n]] === t && delete _.TextureCache[t.textureCacheIds[n]]; return t.textureCacheIds.length = 0, t } return null }, l(e, [{ key: "frame", get: function() { return this._frame }, set: function(t) { this._frame = t, this.noFrame = !1; var e = t.x,
                                        i = t.y,
                                        n = t.width,
                                        r = t.height,
                                        o = e + n > this.baseTexture.width,
                                        a = i + r > this.baseTexture.height; if (o || a) { var s = o && a ? "and" : "or",
                                            h = "X: " + e + " + " + n + " = " + (e + n) + " > " + this.baseTexture.width,
                                            l = "Y: " + i + " + " + r + " = " + (i + r) + " > " + this.baseTexture.height; throw new Error("Texture Error: frame does not fit inside the base Texture dimensions: " + (h + " " + s + " " + l)) } this.valid = n && r && this.baseTexture.hasLoaded, this.trim || this.rotate || (this.orig = t), this.valid && this._updateUvs() } }, { key: "rotate", get: function() { return this._rotate }, set: function(t) { this._rotate = t, this.valid && this._updateUvs() } }, { key: "width", get: function() { return this.orig.width } }, { key: "height", get: function() { return this.orig.height } }]), e }(v["default"]);
                    i["default"] = w, w.EMPTY = new w(new c["default"]), h(w.EMPTY), h(w.EMPTY.baseTexture), w.WHITE = s(), h(w.WHITE), h(w.WHITE.baseTexture) }, { "../math": 70, "../settings": 101, "../utils": 125, "./BaseTexture": 112, "./TextureUvs": 117, "./VideoBaseTexture": 118, eventemitter3: 3 }],
                116: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var o = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        a = t("../math/Matrix"),
                        s = n(a),
                        h = new s["default"],
                        l = function() {
                            function t(e, i) { r(this, t), this._texture = e, this.mapCoord = new s["default"], this.uClampFrame = new Float32Array(4), this.uClampOffset = new Float32Array(2), this._lastTextureID = -1, this.clampOffset = 0, this.clampMargin = "undefined" == typeof i ? .5 : i } return t.prototype.multiplyUvs = function(t, e) { void 0 === e && (e = t); for (var i = this.mapCoord, n = 0; n < t.length; n += 2) { var r = t[n],
                                        o = t[n + 1];
                                    e[n] = r * i.a + o * i.c + i.tx, e[n + 1] = r * i.b + o * i.d + i.ty } return e }, t.prototype.update = function(t) { var e = this._texture; if (!e || !e.valid) return !1; if (!t && this._lastTextureID === e._updateID) return !1;
                                this._lastTextureID = e._updateID; var i = e._uvs;
                                this.mapCoord.set(i.x1 - i.x0, i.y1 - i.y0, i.x3 - i.x0, i.y3 - i.y0, i.x0, i.y0); var n = e.orig,
                                    r = e.trim;
                                r && (h.set(n.width / r.width, 0, 0, n.height / r.height, -r.x / r.width, -r.y / r.height), this.mapCoord.append(h)); var o = e.baseTexture,
                                    a = this.uClampFrame,
                                    s = this.clampMargin / o.resolution,
                                    l = this.clampOffset; return a[0] = (e._frame.x + s + l) / o.width, a[1] = (e._frame.y + s + l) / o.height, a[2] = (e._frame.x + e._frame.width - s + l) / o.width, a[3] = (e._frame.y + e._frame.height - s + l) / o.height, this.uClampOffset[0] = l / o.realWidth, this.uClampOffset[1] = l / o.realHeight, !0 }, o(t, [{ key: "texture", get: function() { return this._texture }, set: function(t) { this._texture = t, this._lastTextureID = -1 } }]), t }();
                    i["default"] = l }, { "../math/Matrix": 67 }],
                117: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var o = t("../math/GroupD8"),
                        a = n(o),
                        s = function() {
                            function t() { r(this, t), this.x0 = 0, this.y0 = 0, this.x1 = 1, this.y1 = 0, this.x2 = 1, this.y2 = 1, this.x3 = 0, this.y3 = 1, this.uvsUint32 = new Uint32Array(4) } return t.prototype.set = function(t, e, i) { var n = e.width,
                                    r = e.height; if (i) { var o = t.width / 2 / n,
                                        s = t.height / 2 / r,
                                        h = t.x / n + o,
                                        l = t.y / r + s;
                                    i = a["default"].add(i, a["default"].NW), this.x0 = h + o * a["default"].uX(i), this.y0 = l + s * a["default"].uY(i), i = a["default"].add(i, 2), this.x1 = h + o * a["default"].uX(i), this.y1 = l + s * a["default"].uY(i), i = a["default"].add(i, 2), this.x2 = h + o * a["default"].uX(i), this.y2 = l + s * a["default"].uY(i), i = a["default"].add(i, 2), this.x3 = h + o * a["default"].uX(i), this.y3 = l + s * a["default"].uY(i) } else this.x0 = t.x / n, this.y0 = t.y / r, this.x1 = (t.x + t.width) / n, this.y1 = t.y / r, this.x2 = (t.x + t.width) / n, this.y2 = (t.y + t.height) / r, this.x3 = t.x / n, this.y3 = (t.y + t.height) / r;
                                this.uvsUint32[0] = (65535 * this.y0 & 65535) << 16 | 65535 * this.x0 & 65535, this.uvsUint32[1] = (65535 * this.y1 & 65535) << 16 | 65535 * this.x1 & 65535, this.uvsUint32[2] = (65535 * this.y2 & 65535) << 16 | 65535 * this.x2 & 65535, this.uvsUint32[3] = (65535 * this.y3 & 65535) << 16 | 65535 * this.x3 & 65535 }, t }();
                    i["default"] = s }, { "../math/GroupD8": 66 }],
                118: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }

                    function s(t, e) { e || (e = "video/" + t.substr(t.lastIndexOf(".") + 1)); var i = document.createElement("source"); return i.src = t, i.type = e, i } i.__esModule = !0; var h = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        l = t("./BaseTexture"),
                        u = n(l),
                        c = t("../utils"),
                        d = t("../ticker"),
                        p = t("../const"),
                        f = t("../utils/determineCrossOrigin"),
                        m = n(f),
                        g = function(t) {
                            function e(i, n) { if (r(this, e), !i) throw new Error("No video source element specified.");
                                (i.readyState === i.HAVE_ENOUGH_DATA || i.readyState === i.HAVE_FUTURE_DATA) && i.width && i.height && (i.complete = !0); var a = o(this, t.call(this, i, n)); return a.width = i.videoWidth, a.height = i.videoHeight, a._autoUpdate = !0, a._isAutoUpdating = !1, a.autoPlay = !0, a.update = a.update.bind(a), a._onCanPlay = a._onCanPlay.bind(a), i.addEventListener("play", a._onPlayStart.bind(a)), i.addEventListener("pause", a._onPlayStop.bind(a)), a.hasLoaded = !1, a.__loaded = !1, a._isSourceReady() ? a._onCanPlay() : (i.addEventListener("canplay", a._onCanPlay), i.addEventListener("canplaythrough", a._onCanPlay)), a } return a(e, t), e.prototype._isSourcePlaying = function() { var t = this.source; return t.currentTime > 0 && t.paused === !1 && t.ended === !1 && t.readyState > 2 }, e.prototype._isSourceReady = function() { return 3 === this.source.readyState || 4 === this.source.readyState }, e.prototype._onPlayStart = function() { this.hasLoaded || this._onCanPlay(), !this._isAutoUpdating && this.autoUpdate && (d.shared.add(this.update, this, p.UPDATE_PRIORITY.HIGH), this._isAutoUpdating = !0) }, e.prototype._onPlayStop = function() { this._isAutoUpdating && (d.shared.remove(this.update, this), this._isAutoUpdating = !1) }, e.prototype._onCanPlay = function() { this.hasLoaded = !0, this.source && (this.source.removeEventListener("canplay", this._onCanPlay), this.source.removeEventListener("canplaythrough", this._onCanPlay), this.width = this.source.videoWidth, this.height = this.source.videoHeight, this.__loaded || (this.__loaded = !0, this.emit("loaded", this)), this._isSourcePlaying() ? this._onPlayStart() : this.autoPlay && this.source.play()) }, e.prototype.destroy = function() { this._isAutoUpdating && d.shared.remove(this.update, this), this.source && this.source._pixiId && (u["default"].removeFromCache(this.source._pixiId), delete this.source._pixiId, this.source.pause(), this.source.src = "", this.source.load()), t.prototype.destroy.call(this) }, e.fromVideo = function(t, i) { t._pixiId || (t._pixiId = "video_" + (0, c.uid)()); var n = c.BaseTextureCache[t._pixiId]; return n || (n = new e(t, i), u["default"].addToCache(n, t._pixiId)), n }, e.fromUrl = function(t, i, n) { var r = document.createElement("video");
                                r.setAttribute("webkit-playsinline", ""), r.setAttribute("playsinline", ""); var o = Array.isArray(t) ? t[0].src || t[0] : t.src || t; if (void 0 === n && 0 !== o.indexOf("data:") ? r.crossOrigin = (0, m["default"])(o) : n && (r.crossOrigin = "string" == typeof n ? n : "anonymous"), Array.isArray(t))
                                    for (var a = 0; a < t.length; ++a) r.appendChild(s(t[a].src || t[a], t[a].mime));
                                else r.appendChild(s(o, t.mime)); return r.load(), e.fromVideo(r, i) }, h(e, [{ key: "autoUpdate", get: function() { return this._autoUpdate }, set: function(t) { t !== this._autoUpdate && (this._autoUpdate = t, !this._autoUpdate && this._isAutoUpdating ? (d.shared.remove(this.update, this), this._isAutoUpdating = !1) : this._autoUpdate && !this._isAutoUpdating && (d.shared.add(this.update, this, p.UPDATE_PRIORITY.HIGH), this._isAutoUpdating = !0)) } }]), e }(u["default"]);
                    i["default"] = g, g.fromUrls = g.fromUrl }, { "../const": 46, "../ticker": 121, "../utils": 125, "../utils/determineCrossOrigin": 124, "./BaseTexture": 112 }],
                119: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var o = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        a = t("../settings"),
                        s = n(a),
                        h = t("../const"),
                        l = t("./TickerListener"),
                        u = n(l),
                        c = function() {
                            function t() { var e = this;
                                r(this, t), this._head = new u["default"](null, null, 1 / 0), this._requestId = null, this._maxElapsedMS = 100, this.autoStart = !1, this.deltaTime = 1, this.elapsedMS = 1 / s["default"].TARGET_FPMS, this.lastTime = -1, this.speed = 1, this.started = !1, this._tick = function(t) { e._requestId = null, e.started && (e.update(t), e.started && null === e._requestId && e._head.next && (e._requestId = requestAnimationFrame(e._tick))) } } return t.prototype._requestIfNeeded = function() { null === this._requestId && this._head.next && (this.lastTime = performance.now(), this._requestId = requestAnimationFrame(this._tick)) }, t.prototype._cancelIfNeeded = function() { null !== this._requestId && (cancelAnimationFrame(this._requestId), this._requestId = null) }, t.prototype._startIfPossible = function() { this.started ? this._requestIfNeeded() : this.autoStart && this.start() }, t.prototype.add = function(t, e) { var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : h.UPDATE_PRIORITY.NORMAL; return this._addListener(new u["default"](t, e, i)) }, t.prototype.addOnce = function(t, e) { var i = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : h.UPDATE_PRIORITY.NORMAL; return this._addListener(new u["default"](t, e, i, (!0))) }, t.prototype._addListener = function(t) { var e = this._head.next,
                                    i = this._head; if (e) { for (; e;) { if (t.priority > e.priority) { t.connect(i); break } i = e, e = e.next } t.previous || t.connect(i) } else t.connect(i); return this._startIfPossible(), this }, t.prototype.remove = function(t, e) { for (var i = this._head.next; i;) i = i.match(t, e) ? i.destroy() : i.next; return this._head.next || this._cancelIfNeeded(), this }, t.prototype.start = function() { this.started || (this.started = !0, this._requestIfNeeded()) }, t.prototype.stop = function() { this.started && (this.started = !1, this._cancelIfNeeded()) }, t.prototype.destroy = function() { this.stop(); for (var t = this._head.next; t;) t = t.destroy(!0);
                                this._head.destroy(), this._head = null }, t.prototype.update = function() { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : performance.now(),
                                    e = void 0; if (t > this.lastTime) { e = this.elapsedMS = t - this.lastTime, e > this._maxElapsedMS && (e = this._maxElapsedMS), this.deltaTime = e * s["default"].TARGET_FPMS * this.speed; for (var i = this._head, n = i.next; n;) n = n.emit(this.deltaTime);
                                    i.next || this._cancelIfNeeded() } else this.deltaTime = this.elapsedMS = 0;
                                this.lastTime = t }, o(t, [{ key: "FPS", get: function() { return 1e3 / this.elapsedMS } }, { key: "minFPS", get: function() { return 1e3 / this._maxElapsedMS }, set: function(t) { var e = Math.min(Math.max(0, t) / 1e3, s["default"].TARGET_FPMS);
                                    this._maxElapsedMS = 1 / e } }]), t }();
                    i["default"] = c }, { "../const": 46, "../settings": 101, "./TickerListener": 120 }],
                120: [function(t, e, i) { "use strict";

                    function n(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var r = function() {
                        function t(e) { var i = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : null,
                                r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                                o = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
                            n(this, t), this.fn = e, this.context = i, this.priority = r, this.once = o, this.next = null, this.previous = null, this._destroyed = !1 } return t.prototype.match = function(t, e) { return e = e || null, this.fn === t && this.context === e }, t.prototype.emit = function(t) { this.fn && (this.context ? this.fn.call(this.context, t) : this.fn(t)); var e = this.next; return this.once && this.destroy(!0), this._destroyed && (this.next = null), e }, t.prototype.connect = function(t) { this.previous = t, t.next && (t.next.previous = this), this.next = t.next, t.next = this }, t.prototype.destroy = function() { var t = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                            this._destroyed = !0, this.fn = null, this.context = null, this.previous && (this.previous.next = this.next), this.next && (this.next.previous = this.previous); var e = this.previous; return this.next = t ? null : e, this.previous = null, e }, t }();
                    i["default"] = r }, {}],
                121: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } } i.__esModule = !0, i.Ticker = i.shared = void 0; var r = t("./Ticker"),
                        o = n(r),
                        a = new o["default"];
                    a.autoStart = !0, a.destroy = function() {}, i.shared = a, i.Ticker = o["default"] }, { "./Ticker": 119 }],
                122: [function(t, e, i) { "use strict";

                    function n() { var t = !!navigator.platform && /iPad|iPhone|iPod/.test(navigator.platform); return !t } i.__esModule = !0, i["default"] = n }, {}],
                123: [function(t, e, i) { "use strict";

                    function n(t) { for (var e = 6 * t, i = new Uint16Array(e), n = 0, r = 0; n < e; n += 6, r += 4) i[n + 0] = r + 0, i[n + 1] = r + 1, i[n + 2] = r + 2, i[n + 3] = r + 0, i[n + 4] = r + 2, i[n + 5] = r + 3; return i } i.__esModule = !0, i["default"] = n }, {}],
                124: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : window.location; if (0 === t.indexOf("data:")) return "";
                        e = e || window.location, s || (s = document.createElement("a")), s.href = t, t = a["default"].parse(s.href); var i = !t.port && "" === e.port || t.port === e.port; return t.hostname === e.hostname && i && t.protocol === e.protocol ? "" : "anonymous" } i.__esModule = !0, i["default"] = r; var o = t("url"),
                        a = n(o),
                        s = void 0 }, { url: 38 }],
                125: [function(t, e, i) { "use strict";

                    function n(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function r(t) { return t && t.__esModule ? t : { "default": t } }

                    function o() { return ++G }

                    function a(t, e) { return e = e || [], e[0] = (t >> 16 & 255) / 255, e[1] = (t >> 8 & 255) / 255, e[2] = (255 & t) / 255, e }

                    function s(t) { return t = t.toString(16), t = "000000".substr(0, 6 - t.length) + t, "#" + t }

                    function h(t) { return (255 * t[0] << 16) + (255 * t[1] << 8) + (255 * t[2] | 0) }

                    function l(t, e) { var i = M["default"].RETINA_PREFIX.exec(t); return i ? parseFloat(i[1]) : void 0 !== e ? e : 1 }

                    function u(t) { var e = T.DATA_URI.exec(t); if (e) return { mediaType: e[1] ? e[1].toLowerCase() : void 0, subType: e[2] ? e[2].toLowerCase() : void 0, encoding: e[3] ? e[3].toLowerCase() : void 0, data: e[4] } }

                    function c(t) { var e = T.URL_FILE_EXTENSION.exec(t); if (e) return e[1].toLowerCase() }

                    function d(t) { var e = T.SVG_SIZE.exec(t),
                            i = {}; return e && (i[e[1]] = Math.round(parseFloat(e[3])), i[e[5]] = Math.round(parseFloat(e[7]))), i }

                    function p() { j = !0 }

                    function f(t) { if (!j) { if (navigator.userAgent.toLowerCase().indexOf("chrome") > -1) { var e = ["\n %c %c %c PixiJS " + T.VERSION + " -  " + t + "   %c  %c  http://www.pixijs.com/  %c %c %c%c \n\n", "background: #ff66a5; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "color: #ff66a5; background: #030307; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "background: #ffc3dc; padding:5px 0;", "background: #ff66a5; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;", "color: #ff2424; background: #fff; padding:5px 0;"];
                                window.console.log.apply(console, e) } else window.console && window.console.log("PixiJS " + T.VERSION + " - " + t + " - http://www.pixijs.com/");
                            j = !0 } }

                    function m() { var t = { stencil: !0, failIfMajorPerformanceCaveat: !0 }; try { if (!window.WebGLRenderingContext) return !1; var e = document.createElement("canvas"),
                                i = e.getContext("webgl", t) || e.getContext("experimental-webgl", t),
                                n = !(!i || !i.getContextAttributes().stencil); if (i) { var r = i.getExtension("WEBGL_lose_context");
                                r && r.loseContext() } return i = null, n } catch (o) { return !1 } }

                    function g(t) { return 0 === t ? 0 : t < 0 ? -1 : 1 }

                    function v() { var t = void 0; for (t in z) z[t].destroy(); for (t in V) V[t].destroy() }

                    function y() { var t = void 0; for (t in z) delete z[t]; for (t in V) delete V[t] }

                    function _(t, e) { return H[e ? 1 : 0][t] }

                    function b(t, e) { if (1 === e) return (255 * e << 24) + t; if (0 === e) return 0; var i = t >> 16 & 255,
                            n = t >> 8 & 255,
                            r = 255 & t; return i = i * e + .5 | 0, n = n * e + .5 | 0, r = r * e + .5 | 0, (255 * e << 24) + (i << 16) + (n << 8) + r }

                    function x(t, e, i, n) { return i = i || new Float32Array(4), n || void 0 === n ? (i[0] = t[0] * e, i[1] = t[1] * e, i[2] = t[2] * e) : (i[0] = t[0], i[1] = t[1], i[2] = t[2]), i[3] = e, i }

                    function w(t, e, i, n) { return i = i || new Float32Array(4), i[0] = (t >> 16 & 255) / 255, i[1] = (t >> 8 & 255) / 255, i[2] = (255 & t) / 255, (n || void 0 === n) && (i[0] *= e, i[1] *= e, i[2] *= e), i[3] = e, i } i.__esModule = !0, i.premultiplyBlendMode = i.BaseTextureCache = i.TextureCache = i.earcut = i.mixins = i.pluginTarget = i.EventEmitter = i.removeItems = i.isMobile = void 0, i.uid = o, i.hex2rgb = a, i.hex2string = s, i.rgb2hex = h, i.getResolutionOfUrl = l, i.decomposeDataUri = u, i.getUrlFileExtension = c, i.getSvgSize = d, i.skipHello = p, i.sayHello = f, i.isWebGLSupported = m, i.sign = g, i.destroyTextureCache = v, i.clearTextureCache = y, i.correctBlendMode = _, i.premultiplyTint = b, i.premultiplyRgba = x, i.premultiplyTintToRgba = w; var T = t("../const"),
                        S = t("../settings"),
                        M = r(S),
                        E = t("eventemitter3"),
                        A = r(E),
                        C = t("./pluginTarget"),
                        R = r(C),
                        P = t("./mixin"),
                        O = n(P),
                        L = t("ismobilejs"),
                        I = n(L),
                        D = t("remove-array-items"),
                        k = r(D),
                        B = t("./mapPremultipliedBlendModes"),
                        N = r(B),
                        F = t("earcut"),
                        U = r(F),
                        G = 0,
                        j = !1;
                    i.isMobile = I, i.removeItems = k["default"], i.EventEmitter = A["default"], i.pluginTarget = R["default"], i.mixins = O, i.earcut = U["default"]; var z = i.TextureCache = Object.create(null),
                        V = i.BaseTextureCache = Object.create(null),
                        H = i.premultiplyBlendMode = (0, N["default"])() }, { "../const": 46, "../settings": 101, "./mapPremultipliedBlendModes": 126, "./mixin": 128, "./pluginTarget": 129, earcut: 2, eventemitter3: 3, ismobilejs: 4, "remove-array-items": 31 }],
                126: [function(t, e, i) { "use strict";

                    function n() { for (var t = [], e = [], i = 0; i < 32; i++) t[i] = i, e[i] = i;
                        t[r.BLEND_MODES.NORMAL_NPM] = r.BLEND_MODES.NORMAL, t[r.BLEND_MODES.ADD_NPM] = r.BLEND_MODES.ADD, t[r.BLEND_MODES.SCREEN_NPM] = r.BLEND_MODES.SCREEN, e[r.BLEND_MODES.NORMAL] = r.BLEND_MODES.NORMAL_NPM, e[r.BLEND_MODES.ADD] = r.BLEND_MODES.ADD_NPM, e[r.BLEND_MODES.SCREEN] = r.BLEND_MODES.SCREEN_NPM; var n = []; return n.push(e), n.push(t), n } i.__esModule = !0, i["default"] = n; var r = t("../const") }, { "../const": 46 }],
                127: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t) { return a["default"].tablet || a["default"].phone ? 4 : t } i.__esModule = !0, i["default"] = r; var o = t("ismobilejs"),
                        a = n(o) }, { ismobilejs: 4 }],
                128: [function(t, e, i) { "use strict";

                    function n(t, e) { if (t && e)
                            for (var i = Object.keys(e), n = 0; n < i.length; ++n) { var r = i[n];
                                Object.defineProperty(t, r, Object.getOwnPropertyDescriptor(e, r)) } }

                    function r(t, e) { a.push(t, e) }

                    function o() { for (var t = 0; t < a.length; t += 2) n(a[t], a[t + 1]);
                        a.length = 0 } i.__esModule = !0, i.mixin = n, i.delayMixin = r, i.performMixins = o; var a = [] }, {}],
                129: [function(t, e, i) { "use strict";

                    function n(t) { t.__plugins = {}, t.registerPlugin = function(e, i) { t.__plugins[e] = i }, t.prototype.initPlugins = function() { this.plugins = this.plugins || {}; for (var e in t.__plugins) this.plugins[e] = new t.__plugins[e](this) }, t.prototype.destroyPlugins = function() { for (var t in this.plugins) this.plugins[t].destroy(), this.plugins[t] = null;
                            this.plugins = null } } i.__esModule = !0, i["default"] = { mixin: function(t) { n(t) } } }, {}],
                130: [function(t, e, i) { "use strict";

                    function n(t) { var e = t.width,
                            i = t.height,
                            n = t.getContext("2d"),
                            r = n.getImageData(0, 0, e, i),
                            o = r.data,
                            a = o.length,
                            s = { top: null, left: null, right: null, bottom: null },
                            h = void 0,
                            l = void 0,
                            u = void 0; for (h = 0; h < a; h += 4) 0 !== o[h + 3] && (l = h / 4 % e, u = ~~(h / 4 / e), null === s.top && (s.top = u), null === s.left ? s.left = l : l < s.left && (s.left = l), null === s.right ? s.right = l + 1 : s.right < l && (s.right = l + 1), null === s.bottom ? s.bottom = u : s.bottom < u && (s.bottom = u));
                        e = s.right - s.left, i = s.bottom - s.top + 1; var c = n.getImageData(s.left, s.top, e, i); return { height: i, width: e, data: c } } i.__esModule = !0, i["default"] = n }, {}],
                131: [function(t, e, i) {
                    "use strict";

                    function n(t) { if (!o[t]) { var e = (new Error).stack; "undefined" == typeof e || (e = e.split("\n").splice(3).join("\n"), console.groupCollapsed), o[t] = !0 } }

                    function r(t) {
                        var e = t.mesh,
                            i = t.particles,
                            r = t.extras,
                            o = t.filters,
                            a = t.prepare,
                            s = t.loaders,
                            h = t.interaction;
                        Object.defineProperties(t, { SpriteBatch: { get: function() { throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.") } }, AssetLoader: { get: function() { throw new ReferenceError("The loader system was overhauled in PixiJS v3, please see the new PIXI.loaders.Loader class.") } }, Stage: { get: function() { return n("You do not need to use a PIXI Stage any more, you can simply render any container."), t.Container } }, DisplayObjectContainer: { get: function() { return n("DisplayObjectContainer has been shortened to Container, please use Container from now on."), t.Container } }, Strip: { get: function() { return n("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."), e.Mesh } }, Rope: { get: function() { return n("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."), e.Rope } }, ParticleContainer: { get: function() { return n("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."), i.ParticleContainer } }, MovieClip: { get: function() { return n("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."), r.AnimatedSprite } }, TilingSprite: { get: function() { return n("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."), r.TilingSprite } }, BitmapText: { get: function() { return n("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."), r.BitmapText } }, blendModes: { get: function() { return n("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."), t.BLEND_MODES } }, scaleModes: { get: function() { return n("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."), t.SCALE_MODES } }, BaseTextureCache: { get: function() { return n("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."), t.utils.BaseTextureCache } }, TextureCache: { get: function() { return n("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."), t.utils.TextureCache } }, math: { get: function() { return n("The math namespace is deprecated, please access members already accessible on PIXI."), t } }, AbstractFilter: { get: function() { return n("AstractFilter has been renamed to Filter, please use PIXI.Filter"), t.Filter } }, TransformManual: { get: function() { return n("TransformManual has been renamed to TransformBase, please update your pixi-spine"), t.TransformBase } }, TARGET_FPMS: { get: function() { return n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"), t.settings.TARGET_FPMS }, set: function(e) { n("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"), t.settings.TARGET_FPMS = e } }, FILTER_RESOLUTION: { get: function() { return n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"), t.settings.FILTER_RESOLUTION }, set: function(e) { n("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"), t.settings.FILTER_RESOLUTION = e } }, RESOLUTION: { get: function() { return n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"), t.settings.RESOLUTION }, set: function(e) { n("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"), t.settings.RESOLUTION = e } }, MIPMAP_TEXTURES: { get: function() { return n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"), t.settings.MIPMAP_TEXTURES }, set: function(e) { n("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"), t.settings.MIPMAP_TEXTURES = e } }, SPRITE_BATCH_SIZE: { get: function() { return n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"), t.settings.SPRITE_BATCH_SIZE }, set: function(e) { n("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"), t.settings.SPRITE_BATCH_SIZE = e } }, SPRITE_MAX_TEXTURES: { get: function() { return n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"), t.settings.SPRITE_MAX_TEXTURES }, set: function(e) { n("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"), t.settings.SPRITE_MAX_TEXTURES = e } }, RETINA_PREFIX: { get: function() { return n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"), t.settings.RETINA_PREFIX }, set: function(e) { n("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"), t.settings.RETINA_PREFIX = e } }, DEFAULT_RENDER_OPTIONS: { get: function() { return n("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"), t.settings.RENDER_OPTIONS } } });
                        for (var l = [{ parent: "TRANSFORM_MODE", target: "TRANSFORM_MODE" }, { parent: "GC_MODES", target: "GC_MODE" }, { parent: "WRAP_MODES", target: "WRAP_MODE" }, { parent: "SCALE_MODES", target: "SCALE_MODE" }, { parent: "PRECISION", target: "PRECISION_FRAGMENT" }], u = function(e) { var i = l[e];
                                Object.defineProperty(t[i.parent], "DEFAULT", { get: function() { return n("PIXI." + i.parent + ".DEFAULT has been deprecated, please use PIXI.settings." + i.target), t.settings[i.target] }, set: function(e) { n("PIXI." + i.parent + ".DEFAULT has been deprecated, please use PIXI.settings." + i.target), t.settings[i.target] = e } }) }, c = 0; c < l.length; c++) u(c);
                        Object.defineProperties(t.settings, { PRECISION: { get: function() { return n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"), t.settings.PRECISION_FRAGMENT }, set: function(e) { n("PIXI.settings.PRECISION has been deprecated, please use PIXI.settings.PRECISION_FRAGMENT"), t.settings.PRECISION_FRAGMENT = e } } }), r.AnimatedSprite && Object.defineProperties(r, { MovieClip: { get: function() { return n("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."), r.AnimatedSprite } } }), r && Object.defineProperties(r, { TextureTransform: { get: function() { return n("The TextureTransform class has been renamed to TextureMatrix, please use PIXI.TextureMatrix from now on."), t.TextureMatrix } } }), t.DisplayObject.prototype.generateTexture = function(t, e, i) { return n("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"), t.generateTexture(this, e, i) }, t.Graphics.prototype.generateTexture = function(t, e) { return n("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"), this.generateCanvasTexture(t, e) }, t.GroupD8.isSwapWidthHeight = function(e) { return n("GroupD8.isSwapWidthHeight was renamed to GroupD8.isVertical"), t.GroupD8.isVertical(e) }, t.RenderTexture.prototype.render = function(t, e, i, r) { this.legacyRenderer.render(t, this, i, e, !r), n("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)") }, t.RenderTexture.prototype.getImage = function(t) {
                            return n("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"), this.legacyRenderer.extract.image(t);
                        }, t.RenderTexture.prototype.getBase64 = function(t) { return n("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"), this.legacyRenderer.extract.base64(t) }, t.RenderTexture.prototype.getCanvas = function(t) { return n("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"), this.legacyRenderer.extract.canvas(t) }, t.RenderTexture.prototype.getPixels = function(t) { return n("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"), this.legacyRenderer.pixels(t) }, t.Sprite.prototype.setTexture = function(t) { this.texture = t, n("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;") }, r.BitmapText && (r.BitmapText.prototype.setText = function(t) { this.text = t, n("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';") }), t.Text.prototype.setText = function(t) { this.text = t, n("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';") }, t.Text.calculateFontProperties = function(e) { return n("Text.calculateFontProperties is now deprecated, please use the TextMetrics.measureFont"), t.TextMetrics.measureFont(e) }, Object.defineProperties(t.Text, { fontPropertiesCache: { get: function() { return n("Text.fontPropertiesCache is deprecated"), t.TextMetrics._fonts } }, fontPropertiesCanvas: { get: function() { return n("Text.fontPropertiesCanvas is deprecated"), t.TextMetrics._canvas } }, fontPropertiesContext: { get: function() { return n("Text.fontPropertiesContext is deprecated"), t.TextMetrics._context } } }), t.Text.prototype.setStyle = function(t) { this.style = t, n("setStyle is now deprecated, please use the style property, e.g : myText.style = style;") }, t.Text.prototype.determineFontProperties = function(e) { return n("determineFontProperties is now deprecated, please use TextMetrics.measureFont method"), t.TextMetrics.measureFont(e) }, t.Text.getFontStyle = function(e) { return n("getFontStyle is now deprecated, please use TextStyle.toFontString() instead"), e = e || {}, e instanceof t.TextStyle || (e = new t.TextStyle(e)), e.toFontString() }, Object.defineProperties(t.TextStyle.prototype, { font: { get: function() { n("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on"); var t = "number" == typeof this._fontSize ? this._fontSize + "px" : this._fontSize; return this._fontStyle + " " + this._fontVariant + " " + this._fontWeight + " " + t + " " + this._fontFamily }, set: function(t) { n("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"), t.indexOf("italic") > 1 ? this._fontStyle = "italic" : t.indexOf("oblique") > -1 ? this._fontStyle = "oblique" : this._fontStyle = "normal", t.indexOf("small-caps") > -1 ? this._fontVariant = "small-caps" : this._fontVariant = "normal"; var e = t.split(" "),
                                        i = -1;
                                    this._fontSize = 26; for (var r = 0; r < e.length; ++r)
                                        if (e[r].match(/(px|pt|em|%)/)) { i = r, this._fontSize = e[r]; break } this._fontWeight = "normal"; for (var o = 0; o < i; ++o)
                                        if (e[o].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)) { this._fontWeight = e[o]; break } if (i > -1 && i < e.length - 1) { this._fontFamily = ""; for (var a = i + 1; a < e.length; ++a) this._fontFamily += e[a] + " ";
                                        this._fontFamily = this._fontFamily.slice(0, -1) } else this._fontFamily = "Arial";
                                    this.styleID++ } } }), t.Texture.prototype.setFrame = function(t) { this.frame = t, n("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;") }, t.Texture.addTextureToCache = function(e, i) { t.Texture.addToCache(e, i), n("Texture.addTextureToCache is deprecated, please use Texture.addToCache from now on.") }, t.Texture.removeTextureFromCache = function(e) { return n("Texture.removeTextureFromCache is deprecated, please use Texture.removeFromCache from now on. Be aware that Texture.removeFromCache does not automatically its BaseTexture from the BaseTextureCache. For that, use BaseTexture.removeFromCache"), t.BaseTexture.removeFromCache(e), t.Texture.removeFromCache(e) }, Object.defineProperties(o, { AbstractFilter: { get: function() { return n("AstractFilter has been renamed to Filter, please use PIXI.Filter"), t.AbstractFilter } }, SpriteMaskFilter: { get: function() { return n("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."), t.SpriteMaskFilter } }, VoidFilter: { get: function() { return n("VoidFilter has been renamed to AlphaFilter, please use PIXI.filters.AlphaFilter"), o.AlphaFilter } } }), t.utils.uuid = function() { return n("utils.uuid() is deprecated, please use utils.uid() from now on."), t.utils.uid() }, t.utils.canUseNewCanvasBlendModes = function() { return n("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"), t.CanvasTinter.canUseMultiply };
                        var d = !0;
                        if (Object.defineProperty(t.utils, "_saidHello", { set: function(t) { t && (n("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"), this.skipHello()), d = t }, get: function() { return d } }), a.BasePrepare && (a.BasePrepare.prototype.register = function(t, e) { return n("renderer.plugins.prepare.register is now deprecated, please use renderer.plugins.prepare.registerFindHook & renderer.plugins.prepare.registerUploadHook"), t && this.registerFindHook(t), e && this.registerUploadHook(e), this }), a.canvas && Object.defineProperty(a.canvas, "UPLOADS_PER_FRAME", { set: function() { n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer") }, get: function() { return n("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"), NaN } }), a.webgl && Object.defineProperty(a.webgl, "UPLOADS_PER_FRAME", { set: function() { n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer") }, get: function() { return n("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"), NaN } }), s.Loader) { var p = s.Resource,
                                f = s.Loader;
                            Object.defineProperties(p.prototype, { isJson: { get: function() { return n("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."), this.type === p.TYPE.JSON } }, isXml: { get: function() { return n("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."), this.type === p.TYPE.XML } }, isImage: { get: function() { return n("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."), this.type === p.TYPE.IMAGE } }, isAudio: { get: function() { return n("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."), this.type === p.TYPE.AUDIO } }, isVideo: { get: function() { return n("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."), this.type === p.TYPE.VIDEO } } }), Object.defineProperties(f.prototype, { before: { get: function() { return n("The before() method is deprecated, please use pre()."), this.pre } }, after: { get: function() { return n("The after() method is deprecated, please use use()."), this.use } } }) } h.interactiveTarget && Object.defineProperty(h.interactiveTarget, "defaultCursor", { set: function(t) { n("Property defaultCursor has been replaced with 'cursor'. "), this.cursor = t }, get: function() { return n("Property defaultCursor has been replaced with 'cursor'. "), this.cursor } }), h.InteractionManager && (Object.defineProperty(h.InteractionManager, "defaultCursorStyle", { set: function(t) { n("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "), this.cursorStyles["default"] = t }, get: function() { return n("Property defaultCursorStyle has been replaced with 'cursorStyles.default'. "), this.cursorStyles["default"] } }), Object.defineProperty(h.InteractionManager, "currentCursorStyle", { set: function(t) { n("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."), this.currentCursorMode = t }, get: function() { return n("Property currentCursorStyle has been removed.See the currentCursorMode property, which works differently."), this.currentCursorMode } }))
                    }
                    i.__esModule = !0, i["default"] = r;
                    var o = {}
                }, {}],
                132: [function(t, e, i) { "use strict";

                    function n(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var o = t("../../core"),
                        a = n(o),
                        s = new a.Rectangle,
                        h = function() {
                            function t(e) { r(this, t), this.renderer = e, e.extract = this } return t.prototype.image = function e(t) { var e = new Image; return e.src = this.base64(t), e }, t.prototype.base64 = function(t) { return this.canvas(t).toDataURL() }, t.prototype.canvas = function(t) { var e = this.renderer,
                                    i = void 0,
                                    n = void 0,
                                    r = void 0,
                                    o = void 0;
                                t && (o = t instanceof a.RenderTexture ? t : e.generateTexture(t)), o ? (i = o.baseTexture._canvasRenderTarget.context, n = o.baseTexture._canvasRenderTarget.resolution, r = o.frame) : (i = e.rootContext, r = s, r.width = this.renderer.width, r.height = this.renderer.height); var h = r.width * n,
                                    l = r.height * n,
                                    u = new a.CanvasRenderTarget(h, l),
                                    c = i.getImageData(r.x * n, r.y * n, h, l); return u.context.putImageData(c, 0, 0), u.canvas }, t.prototype.pixels = function(t) { var e = this.renderer,
                                    i = void 0,
                                    n = void 0,
                                    r = void 0,
                                    o = void 0; return t && (o = t instanceof a.RenderTexture ? t : e.generateTexture(t)), o ? (i = o.baseTexture._canvasRenderTarget.context, n = o.baseTexture._canvasRenderTarget.resolution, r = o.frame) : (i = e.rootContext, r = s, r.width = e.width, r.height = e.height), i.getImageData(0, 0, r.width * n, r.height * n).data }, t.prototype.destroy = function() { this.renderer.extract = null, this.renderer = null }, t }();
                    i["default"] = h, a.CanvasRenderer.registerPlugin("extract", h) }, { "../../core": 65 }],
                133: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } } i.__esModule = !0; var r = t("./webgl/WebGLExtract");
                    Object.defineProperty(i, "webgl", { enumerable: !0, get: function() { return n(r)["default"] } }); var o = t("./canvas/CanvasExtract");
                    Object.defineProperty(i, "canvas", { enumerable: !0, get: function() { return n(o)["default"] } }) }, { "./canvas/CanvasExtract": 132, "./webgl/WebGLExtract": 134 }],
                134: [function(t, e, i) { "use strict";

                    function n(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var o = t("../../core"),
                        a = n(o),
                        s = new a.Rectangle,
                        h = 4,
                        l = function() {
                            function t(e) { r(this, t), this.renderer = e, e.extract = this } return t.prototype.image = function e(t) { var e = new Image; return e.src = this.base64(t), e }, t.prototype.base64 = function(t) { return this.canvas(t).toDataURL() }, t.prototype.canvas = function(t) { var e = this.renderer,
                                    i = void 0,
                                    n = void 0,
                                    r = void 0,
                                    o = !1,
                                    l = void 0,
                                    u = !1;
                                t && (t instanceof a.RenderTexture ? l = t : (l = this.renderer.generateTexture(t), u = !0)), l ? (i = l.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID], n = i.resolution, r = l.frame, o = !1) : (i = this.renderer.rootRenderTarget, n = i.resolution, o = !0, r = s, r.width = i.size.width, r.height = i.size.height); var c = r.width * n,
                                    d = r.height * n,
                                    p = new a.CanvasRenderTarget(c, d); if (i) { e.bindRenderTarget(i); var f = new Uint8Array(h * c * d),
                                        m = e.gl;
                                    m.readPixels(r.x * n, r.y * n, c, d, m.RGBA, m.UNSIGNED_BYTE, f); var g = p.context.getImageData(0, 0, c, d);
                                    g.data.set(f), p.context.putImageData(g, 0, 0), o && (p.context.scale(1, -1), p.context.drawImage(p.canvas, 0, -d)) } return u && l.destroy(!0), p.canvas }, t.prototype.pixels = function(t) { var e = this.renderer,
                                    i = void 0,
                                    n = void 0,
                                    r = void 0,
                                    o = void 0,
                                    l = !1;
                                t && (t instanceof a.RenderTexture ? o = t : (o = this.renderer.generateTexture(t), l = !0)), o ? (i = o.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID], n = i.resolution, r = o.frame) : (i = this.renderer.rootRenderTarget, n = i.resolution, r = s, r.width = i.size.width, r.height = i.size.height); var u = r.width * n,
                                    c = r.height * n,
                                    d = new Uint8Array(h * u * c); if (i) { e.bindRenderTarget(i); var p = e.gl;
                                    p.readPixels(r.x * n, r.y * n, u, c, p.RGBA, p.UNSIGNED_BYTE, d) } return l && o.destroy(!0), d }, t.prototype.destroy = function() { this.renderer.extract = null, this.renderer = null }, t }();
                    i["default"] = l, a.WebGLRenderer.registerPlugin("extract", l) }, { "../../core": 65 }],
                135: [function(t, e, i) { "use strict";

                    function n(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var s = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        h = t("../core"),
                        l = n(h),
                        u = function(t) {
                            function e(i, n) { r(this, e); var a = o(this, t.call(this, i[0] instanceof l.Texture ? i[0] : i[0].texture)); return a._textures = null, a._durations = null, a.textures = i, a._autoUpdate = n !== !1, a.animationSpeed = 1, a.loop = !0, a.onComplete = null, a.onFrameChange = null, a.onLoop = null, a._currentTime = 0, a.playing = !1, a } return a(e, t), e.prototype.stop = function() { this.playing && (this.playing = !1, this._autoUpdate && l.ticker.shared.remove(this.update, this)) }, e.prototype.play = function() { this.playing || (this.playing = !0, this._autoUpdate && l.ticker.shared.add(this.update, this, l.UPDATE_PRIORITY.HIGH)) }, e.prototype.gotoAndStop = function(t) { this.stop(); var e = this.currentFrame;
                                this._currentTime = t, e !== this.currentFrame && this.updateTexture() }, e.prototype.gotoAndPlay = function(t) { var e = this.currentFrame;
                                this._currentTime = t, e !== this.currentFrame && this.updateTexture(), this.play() }, e.prototype.update = function(t) { var e = this.animationSpeed * t,
                                    i = this.currentFrame; if (null !== this._durations) { var n = this._currentTime % 1 * this._durations[this.currentFrame]; for (n += e / 60 * 1e3; n < 0;) this._currentTime--, n += this._durations[this.currentFrame]; var r = Math.sign(this.animationSpeed * t); for (this._currentTime = Math.floor(this._currentTime); n >= this._durations[this.currentFrame];) n -= this._durations[this.currentFrame] * r, this._currentTime += r;
                                    this._currentTime += n / this._durations[this.currentFrame] } else this._currentTime += e;
                                this._currentTime < 0 && !this.loop ? (this.gotoAndStop(0), this.onComplete && this.onComplete()) : this._currentTime >= this._textures.length && !this.loop ? (this.gotoAndStop(this._textures.length - 1), this.onComplete && this.onComplete()) : i !== this.currentFrame && (this.loop && this.onLoop && (this.animationSpeed > 0 && this.currentFrame < i ? this.onLoop() : this.animationSpeed < 0 && this.currentFrame > i && this.onLoop()), this.updateTexture()) }, e.prototype.updateTexture = function() { this._texture = this._textures[this.currentFrame], this._textureID = -1, this.cachedTint = 16777215, this.onFrameChange && this.onFrameChange(this.currentFrame) }, e.prototype.destroy = function(e) { this.stop(), t.prototype.destroy.call(this, e) }, e.fromFrames = function(t) { for (var i = [], n = 0; n < t.length; ++n) i.push(l.Texture.fromFrame(t[n])); return new e(i) }, e.fromImages = function(t) { for (var i = [], n = 0; n < t.length; ++n) i.push(l.Texture.fromImage(t[n])); return new e(i) }, s(e, [{ key: "totalFrames", get: function() { return this._textures.length } }, { key: "textures", get: function() { return this._textures }, set: function(t) { if (t[0] instanceof l.Texture) this._textures = t, this._durations = null;
                                    else { this._textures = [], this._durations = []; for (var e = 0; e < t.length; e++) this._textures.push(t[e].texture), this._durations.push(t[e].time) } this.gotoAndStop(0), this.updateTexture() } }, { key: "currentFrame", get: function() { var t = Math.floor(this._currentTime) % this._textures.length; return t < 0 && (t += this._textures.length), t } }]), e }(l.Sprite);
                    i["default"] = u }, { "../core": 65 }],
                136: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function a(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function s(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var h = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        l = t("../core"),
                        u = r(l),
                        c = t("../core/math/ObservablePoint"),
                        d = n(c),
                        p = t("../core/utils"),
                        f = t("../core/settings"),
                        m = n(f),
                        g = function(t) {
                            function e(i) { var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
                                o(this, e); var r = a(this, t.call(this)); return r._textWidth = 0, r._textHeight = 0, r._glyphs = [], r._font = { tint: void 0 !== n.tint ? n.tint : 16777215, align: n.align || "left", name: null, size: 0 }, r.font = n.font, r._text = i, r._maxWidth = 0, r._maxLineHeight = 0, r._anchor = new d["default"](function() { r.dirty = !0 }, r, 0, 0), r.dirty = !1, r.updateText(), r } return s(e, t), e.prototype.updateText = function() { for (var t = e.fonts[this._font.name], i = this._font.size / t.size, n = new u.Point, r = [], o = [], a = null, s = 0, h = 0, l = 0, c = -1, d = 0, p = 0, f = 0, m = 0; m < this.text.length; m++) { var g = this.text.charCodeAt(m); if (/(\s)/.test(this.text.charAt(m)) && (c = m, d = s), /(?:\r\n|\r|\n)/.test(this.text.charAt(m))) o.push(s), h = Math.max(h, s), l++, n.x = 0, n.y += t.lineHeight, a = null;
                                    else if (c !== -1 && this._maxWidth > 0 && n.x * i > this._maxWidth) u.utils.removeItems(r, c - p, m - c), m = c, c = -1, ++p, o.push(d), h = Math.max(h, d), l++, n.x = 0, n.y += t.lineHeight, a = null;
                                    else { var v = t.chars[g];
                                        v && (a && v.kerning[a] && (n.x += v.kerning[a]), r.push({ texture: v.texture, line: l, charCode: g, position: new u.Point(n.x + v.xOffset, n.y + v.yOffset) }), s = n.x + (v.texture.width + v.xOffset), n.x += v.xAdvance, f = Math.max(f, v.yOffset + v.texture.height), a = g) } } o.push(s), h = Math.max(h, s); for (var y = [], _ = 0; _ <= l; _++) { var b = 0; "right" === this._font.align ? b = h - o[_] : "center" === this._font.align && (b = (h - o[_]) / 2), y.push(b) } for (var x = r.length, w = this.tint, T = 0; T < x; T++) { var S = this._glyphs[T];
                                    S ? S.texture = r[T].texture : (S = new u.Sprite(r[T].texture), this._glyphs.push(S)), S.position.x = (r[T].position.x + y[r[T].line]) * i, S.position.y = r[T].position.y * i, S.scale.x = S.scale.y = i, S.tint = w, S.parent || this.addChild(S) } for (var M = x; M < this._glyphs.length; ++M) this.removeChild(this._glyphs[M]); if (this._textWidth = h * i, this._textHeight = (n.y + t.lineHeight) * i, 0 !== this.anchor.x || 0 !== this.anchor.y)
                                    for (var E = 0; E < x; E++) this._glyphs[E].x -= this._textWidth * this.anchor.x, this._glyphs[E].y -= this._textHeight * this.anchor.y;
                                this._maxLineHeight = f * i }, e.prototype.updateTransform = function() { this.validate(), this.containerUpdateTransform() }, e.prototype.getLocalBounds = function() { return this.validate(), t.prototype.getLocalBounds.call(this) }, e.prototype.validate = function() { this.dirty && (this.updateText(), this.dirty = !1) }, e.registerFont = function(t, i) { var n = {},
                                    r = t.getElementsByTagName("info")[0],
                                    o = t.getElementsByTagName("common")[0],
                                    a = t.getElementsByTagName("page")[0].getAttribute("file"),
                                    s = (0, p.getResolutionOfUrl)(a, m["default"].RESOLUTION);
                                n.font = r.getAttribute("face"), n.size = parseInt(r.getAttribute("size"), 10), n.lineHeight = parseInt(o.getAttribute("lineHeight"), 10) / s, n.chars = {}; for (var h = t.getElementsByTagName("char"), l = 0; l < h.length; l++) { var c = h[l],
                                        d = parseInt(c.getAttribute("id"), 10),
                                        f = new u.Rectangle(parseInt(c.getAttribute("x"), 10) / s + i.frame.x / s, parseInt(c.getAttribute("y"), 10) / s + i.frame.y / s, parseInt(c.getAttribute("width"), 10) / s, parseInt(c.getAttribute("height"), 10) / s);
                                    n.chars[d] = { xOffset: parseInt(c.getAttribute("xoffset"), 10) / s, yOffset: parseInt(c.getAttribute("yoffset"), 10) / s, xAdvance: parseInt(c.getAttribute("xadvance"), 10) / s, kerning: {}, texture: new u.Texture(i.baseTexture, f) } } for (var g = t.getElementsByTagName("kerning"), v = 0; v < g.length; v++) { var y = g[v],
                                        _ = parseInt(y.getAttribute("first"), 10) / s,
                                        b = parseInt(y.getAttribute("second"), 10) / s,
                                        x = parseInt(y.getAttribute("amount"), 10) / s;
                                    n.chars[b] && (n.chars[b].kerning[_] = x) } return e.fonts[n.font] = n, n }, h(e, [{ key: "tint", get: function() { return this._font.tint }, set: function(t) { this._font.tint = "number" == typeof t && t >= 0 ? t : 16777215, this.dirty = !0 } }, { key: "align", get: function() { return this._font.align }, set: function(t) { this._font.align = t || "left", this.dirty = !0 } }, { key: "anchor", get: function() { return this._anchor }, set: function(t) { "number" == typeof t ? this._anchor.set(t) : this._anchor.copy(t) } }, { key: "font", get: function() { return this._font }, set: function(t) { t && ("string" == typeof t ? (t = t.split(" "), this._font.name = 1 === t.length ? t[0] : t.slice(1).join(" "), this._font.size = t.length >= 2 ? parseInt(t[0], 10) : e.fonts[this._font.name].size) : (this._font.name = t.name, this._font.size = "number" == typeof t.size ? t.size : parseInt(t.size, 10)), this.dirty = !0) } }, { key: "text", get: function() { return this._text }, set: function(t) { t = t.toString() || " ", this._text !== t && (this._text = t, this.dirty = !0) } }, { key: "maxWidth", get: function() { return this._maxWidth }, set: function(t) { this._maxWidth !== t && (this._maxWidth = t, this.dirty = !0) } }, { key: "maxLineHeight", get: function() { return this.validate(), this._maxLineHeight } }, { key: "textWidth", get: function() { return this.validate(), this._textWidth } }, { key: "textHeight", get: function() { return this.validate(), this._textHeight } }]), e }(u.Container);
                    i["default"] = g, g.fonts = {} }, { "../core": 65, "../core/math/ObservablePoint": 68, "../core/settings": 101, "../core/utils": 125 }],
                137: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function a(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function s(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var h = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        l = t("../core"),
                        u = r(l),
                        c = t("../core/sprites/canvas/CanvasTinter"),
                        d = n(c),
                        p = new u.Point,
                        f = function(t) {
                            function e(i) { var n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 100,
                                    r = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 100;
                                o(this, e); var s = a(this, t.call(this, i)); return s.tileTransform = new u.TransformStatic, s._width = n, s._height = r, s._canvasPattern = null, s.uvTransform = i.transform || new u.TextureMatrix(i), s.pluginName = "tilingSprite", s.uvRespectAnchor = !1, s } return s(e, t), e.prototype._onTextureUpdate = function() { this.uvTransform && (this.uvTransform.texture = this._texture), this.cachedTint = 16777215 }, e.prototype._renderWebGL = function(t) { var e = this._texture;
                                e && e.valid && (this.tileTransform.updateLocalTransform(), this.uvTransform.update(), t.setObjectRenderer(t.plugins[this.pluginName]), t.plugins[this.pluginName].render(this)) }, e.prototype._renderCanvas = function(t) { var e = this._texture; if (e.baseTexture.hasLoaded) { var i = t.context,
                                        n = this.worldTransform,
                                        r = t.resolution,
                                        o = e.baseTexture,
                                        a = o.resolution,
                                        s = this.tilePosition.x / this.tileScale.x % e._frame.width * a,
                                        h = this.tilePosition.y / this.tileScale.y % e._frame.height * a; if (this._textureID !== this._texture._updateID || this.cachedTint !== this.tint) { this._textureID = this._texture._updateID; var l = new u.CanvasRenderTarget(e._frame.width, e._frame.height, a);
                                        16777215 !== this.tint ? (this.tintedTexture = d["default"].getTintedTexture(this, this.tint), l.context.drawImage(this.tintedTexture, 0, 0)) : l.context.drawImage(o.source, -e._frame.x * a, -e._frame.y * a), this.cachedTint = this.tint, this._canvasPattern = l.context.createPattern(l.canvas, "repeat") } i.globalAlpha = this.worldAlpha, i.setTransform(n.a * r, n.b * r, n.c * r, n.d * r, n.tx * r, n.ty * r), t.setBlendMode(this.blendMode), i.fillStyle = this._canvasPattern, i.scale(this.tileScale.x / a, this.tileScale.y / a); var c = this.anchor.x * -this._width,
                                        p = this.anchor.y * -this._height;
                                    this.uvRespectAnchor ? (i.translate(s, h), i.fillRect(-s + c, -h + p, this._width / this.tileScale.x * a, this._height / this.tileScale.y * a)) : (i.translate(s + c, h + p), i.fillRect(-s, -h, this._width / this.tileScale.x * a, this._height / this.tileScale.y * a)) } }, e.prototype._calculateBounds = function() { var t = this._width * -this._anchor._x,
                                    e = this._height * -this._anchor._y,
                                    i = this._width * (1 - this._anchor._x),
                                    n = this._height * (1 - this._anchor._y);
                                this._bounds.addFrame(this.transform, t, e, i, n) }, e.prototype.getLocalBounds = function(e) { return 0 === this.children.length ? (this._bounds.minX = this._width * -this._anchor._x, this._bounds.minY = this._height * -this._anchor._y, this._bounds.maxX = this._width * (1 - this._anchor._x), this._bounds.maxY = this._height * (1 - this._anchor._x), e || (this._localBoundsRect || (this._localBoundsRect = new u.Rectangle), e = this._localBoundsRect), this._bounds.getRectangle(e)) : t.prototype.getLocalBounds.call(this, e) }, e.prototype.containsPoint = function(t) { this.worldTransform.applyInverse(t, p); var e = this._width,
                                    i = this._height,
                                    n = -e * this.anchor._x; if (p.x >= n && p.x < n + e) { var r = -i * this.anchor._y; if (p.y >= r && p.y < r + i) return !0 } return !1 }, e.prototype.destroy = function(e) { t.prototype.destroy.call(this, e), this.tileTransform = null, this.uvTransform = null }, e.from = function(t, i, n) { return new e(u.Texture.from(t), i, n) }, e.fromFrame = function(t, i, n) { var r = u.utils.TextureCache[t]; if (!r) throw new Error('The frameId "' + t + '" does not exist in the texture cache ' + this); return new e(r, i, n) }, e.fromImage = function(t, i, n, r, o) { return new e(u.Texture.fromImage(t, r, o), i, n) }, h(e, [{ key: "clampMargin", get: function() { return this.uvTransform.clampMargin }, set: function(t) { this.uvTransform.clampMargin = t, this.uvTransform.update(!0) } }, { key: "tileScale", get: function() { return this.tileTransform.scale }, set: function(t) { this.tileTransform.scale.copy(t) } }, { key: "tilePosition", get: function() { return this.tileTransform.position }, set: function(t) { this.tileTransform.position.copy(t) } }, { key: "width", get: function() { return this._width }, set: function(t) { this._width = t } }, { key: "height", get: function() { return this._height }, set: function(t) { this._height = t } }]), e }(u.Sprite);
                    i["default"] = f }, { "../core": 65, "../core/sprites/canvas/CanvasTinter": 104 }],
                138: [function(t, e, i) {
                    "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }
                    var a = t("../core"),
                        s = r(a),
                        h = t("../core/textures/Texture"),
                        l = n(h),
                        u = t("../core/textures/BaseTexture"),
                        c = n(u),
                        d = t("../core/utils"),
                        p = s.DisplayObject,
                        f = new s.Matrix;
                    p.prototype._cacheAsBitmap = !1, p.prototype._cacheData = !1;
                    var m = function g() { o(this, g), this.textureCacheId = null, this.originalRenderWebGL = null, this.originalRenderCanvas = null, this.originalCalculateBounds = null, this.originalGetLocalBounds = null, this.originalUpdateTransform = null, this.originalHitTest = null, this.originalDestroy = null, this.originalMask = null, this.originalFilterArea = null, this.sprite = null };
                    Object.defineProperties(p.prototype, { cacheAsBitmap: { get: function() { return this._cacheAsBitmap }, set: function(t) { if (this._cacheAsBitmap !== t) { this._cacheAsBitmap = t; var e = void 0;
                                    t ? (this._cacheData || (this._cacheData = new m), e = this._cacheData, e.originalRenderWebGL = this.renderWebGL, e.originalRenderCanvas = this.renderCanvas, e.originalUpdateTransform = this.updateTransform, e.originalCalculateBounds = this._calculateBounds, e.originalGetLocalBounds = this.getLocalBounds, e.originalDestroy = this.destroy, e.originalContainsPoint = this.containsPoint, e.originalMask = this._mask, e.originalFilterArea = this.filterArea, this.renderWebGL = this._renderCachedWebGL, this.renderCanvas = this._renderCachedCanvas, this.destroy = this._cacheAsBitmapDestroy) : (e = this._cacheData, e.sprite && this._destroyCachedDisplayObject(), this.renderWebGL = e.originalRenderWebGL, this.renderCanvas = e.originalRenderCanvas, this._calculateBounds = e.originalCalculateBounds, this.getLocalBounds = e.originalGetLocalBounds, this.destroy = e.originalDestroy, this.updateTransform = e.originalUpdateTransform, this.containsPoint = e.originalContainsPoint, this._mask = e.originalMask, this.filterArea = e.originalFilterArea) } } } }), p.prototype._renderCachedWebGL = function(t) {!this.visible || this.worldAlpha <= 0 || !this.renderable || (this._initCachedDisplayObject(t), this._cacheData.sprite._transformID = -1, this._cacheData.sprite.worldAlpha = this.worldAlpha, this._cacheData.sprite._renderWebGL(t)) }, p.prototype._initCachedDisplayObject = function(t) { if (!this._cacheData || !this._cacheData.sprite) { var e = this.alpha;
                            this.alpha = 1, t.currentRenderer.flush(); var i = this.getLocalBounds().clone(); if (this._filters) { var n = this._filters[0].padding;
                                i.pad(n) } var r = t._activeRenderTarget,
                                o = t.filterManager.filterStack,
                                a = s.RenderTexture.create(0 | i.width, 0 | i.height),
                                h = "cacheAsBitmap_" + (0, d.uid)();
                            this._cacheData.textureCacheId = h, c["default"].addToCache(a.baseTexture, h), l["default"].addToCache(a, h); var u = f;
                            u.tx = -i.x, u.ty = -i.y, this.transform.worldTransform.identity(), this.renderWebGL = this._cacheData.originalRenderWebGL, t.render(this, a, !0, u, !0), t.bindRenderTarget(r), t.filterManager.filterStack = o, this.renderWebGL = this._renderCachedWebGL, this.updateTransform = this.displayObjectUpdateTransform, this._mask = null, this.filterArea = null; var p = new s.Sprite(a);
                            p.transform.worldTransform = this.transform.worldTransform, p.anchor.x = -(i.x / i.width), p.anchor.y = -(i.y / i.height), p.alpha = e, p._bounds = this._bounds, this._calculateBounds = this._calculateCachedBounds, this.getLocalBounds = this._getCachedLocalBounds, this._cacheData.sprite = p, this.transform._parentID = -1, this.parent ? this.updateTransform() : (this.parent = t._tempDisplayObjectParent, this.updateTransform(), this.parent = null), this.containsPoint = p.containsPoint.bind(p) } }, p.prototype._renderCachedCanvas = function(t) {!this.visible || this.worldAlpha <= 0 || !this.renderable || (this._initCachedDisplayObjectCanvas(t), this._cacheData.sprite.worldAlpha = this.worldAlpha, this._cacheData.sprite.renderCanvas(t)) }, p.prototype._initCachedDisplayObjectCanvas = function(t) { if (!this._cacheData || !this._cacheData.sprite) { var e = this.getLocalBounds(),
                                i = this.alpha;
                            this.alpha = 1; var n = t.context,
                                r = s.RenderTexture.create(0 | e.width, 0 | e.height),
                                o = "cacheAsBitmap_" + (0, d.uid)();
                            this._cacheData.textureCacheId = o, c["default"].addToCache(r.baseTexture, o), l["default"].addToCache(r, o); var a = f;
                            this.transform.localTransform.copy(a), a.invert(), a.tx -= e.x, a.ty -= e.y, this.renderCanvas = this._cacheData.originalRenderCanvas, t.render(this, r, !0, a, !1), t.context = n, this.renderCanvas = this._renderCachedCanvas, this._calculateBounds = this._calculateCachedBounds, this._mask = null, this.filterArea = null; var h = new s.Sprite(r);
                            h.transform.worldTransform = this.transform.worldTransform, h.anchor.x = -(e.x / e.width), h.anchor.y = -(e.y / e.height), h._bounds = this._bounds, h.alpha = i, this.parent ? this.updateTransform() : (this.parent = t._tempDisplayObjectParent, this.updateTransform(), this.parent = null), this.updateTransform = this.displayObjectUpdateTransform, this._cacheData.sprite = h, this.containsPoint = h.containsPoint.bind(h) } }, p.prototype._calculateCachedBounds = function() { this._cacheData.sprite._calculateBounds() }, p.prototype._getCachedLocalBounds = function() { return this._cacheData.sprite.getLocalBounds() }, p.prototype._destroyCachedDisplayObject = function() {
                        this._cacheData.sprite._texture.destroy(!0), this._cacheData.sprite = null,
                            c["default"].removeFromCache(this._cacheData.textureCacheId), l["default"].removeFromCache(this._cacheData.textureCacheId), this._cacheData.textureCacheId = null
                    }, p.prototype._cacheAsBitmapDestroy = function(t) { this.cacheAsBitmap = !1, this.destroy(t) }
                }, { "../core": 65, "../core/textures/BaseTexture": 112, "../core/textures/Texture": 115, "../core/utils": 125 }],
                139: [function(t, e, i) { "use strict";

                    function n(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e } var r = t("../core"),
                        o = n(r);
                    o.DisplayObject.prototype.name = null, o.Container.prototype.getChildByName = function(t) { for (var e = 0; e < this.children.length; e++)
                            if (this.children[e].name === t) return this.children[e]; return null } }, { "../core": 65 }],
                140: [function(t, e, i) { "use strict";

                    function n(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e } var r = t("../core"),
                        o = n(r);
                    o.DisplayObject.prototype.getGlobalPosition = function() { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : new o.Point,
                            e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1]; return this.parent ? this.parent.toGlobal(this.position, t, e) : (t.x = this.position.x, t.y = this.position.y), t } }, { "../core": 65 }],
                141: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } } i.__esModule = !0, i.BitmapText = i.TilingSpriteRenderer = i.TilingSprite = i.AnimatedSprite = void 0; var r = t("./AnimatedSprite");
                    Object.defineProperty(i, "AnimatedSprite", { enumerable: !0, get: function() { return n(r)["default"] } }); var o = t("./TilingSprite");
                    Object.defineProperty(i, "TilingSprite", { enumerable: !0, get: function() { return n(o)["default"] } }); var a = t("./webgl/TilingSpriteRenderer");
                    Object.defineProperty(i, "TilingSpriteRenderer", { enumerable: !0, get: function() { return n(a)["default"] } }); var s = t("./BitmapText");
                    Object.defineProperty(i, "BitmapText", { enumerable: !0, get: function() { return n(s)["default"] } }), t("./cacheAsBitmap"), t("./getChildByName"), t("./getGlobalPosition") }, { "./AnimatedSprite": 135, "./BitmapText": 136, "./TilingSprite": 137, "./cacheAsBitmap": 138, "./getChildByName": 139, "./getGlobalPosition": 140, "./webgl/TilingSpriteRenderer": 142 }],
                142: [function(t, e, i) { "use strict";

                    function n(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var s = t("../../core"),
                        h = n(s),
                        l = t("../../core/const"),
                        u = (t("path"), new h.Matrix),
                        c = function(t) {
                            function e(i) { r(this, e); var n = o(this, t.call(this, i)); return n.shader = null, n.simpleShader = null, n.quad = null, n } return a(e, t), e.prototype.onContextChange = function() { var t = this.renderer.gl;
                                this.shader = new h.Shader(t, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n", "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\nuniform mat3 uMapCoord;\nuniform vec4 uClampFrame;\nuniform vec2 uClampOffset;\n\nvoid main(void)\n{\n    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;\n    coord = (uMapCoord * vec3(coord, 1.0)).xy;\n    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);\n\n    vec4 sample = texture2D(uSampler, coord);\n    gl_FragColor = sample * uColor;\n}\n"), this.simpleShader = new h.Shader(t, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n", "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform vec4 uColor;\n\nvoid main(void)\n{\n    vec4 sample = texture2D(uSampler, vTextureCoord);\n    gl_FragColor = sample * uColor;\n}\n"), this.renderer.bindVao(null), this.quad = new h.Quad(t, this.renderer.state.attribState), this.quad.initVao(this.shader) }, e.prototype.render = function(t) { var e = this.renderer,
                                    i = this.quad;
                                e.bindVao(i.vao); var n = i.vertices;
                                n[0] = n[6] = t._width * -t.anchor.x, n[1] = n[3] = t._height * -t.anchor.y, n[2] = n[4] = t._width * (1 - t.anchor.x), n[5] = n[7] = t._height * (1 - t.anchor.y), t.uvRespectAnchor && (n = i.uvs, n[0] = n[6] = -t.anchor.x, n[1] = n[3] = -t.anchor.y, n[2] = n[4] = 1 - t.anchor.x, n[5] = n[7] = 1 - t.anchor.y), i.upload(); var r = t._texture,
                                    o = r.baseTexture,
                                    a = t.tileTransform.localTransform,
                                    s = t.uvTransform,
                                    c = o.isPowerOfTwo && r.frame.width === o.width && r.frame.height === o.height;
                                c && (o._glTextures[e.CONTEXT_UID] ? c = o.wrapMode !== l.WRAP_MODES.CLAMP : o.wrapMode === l.WRAP_MODES.CLAMP && (o.wrapMode = l.WRAP_MODES.REPEAT)); var d = c ? this.simpleShader : this.shader;
                                e.bindShader(d); var p = r.width,
                                    f = r.height,
                                    m = t._width,
                                    g = t._height;
                                u.set(a.a * p / m, a.b * p / g, a.c * f / m, a.d * f / g, a.tx / m, a.ty / g), u.invert(), c ? u.prepend(s.mapCoord) : (d.uniforms.uMapCoord = s.mapCoord.toArray(!0), d.uniforms.uClampFrame = s.uClampFrame, d.uniforms.uClampOffset = s.uClampOffset), d.uniforms.uTransform = u.toArray(!0), d.uniforms.uColor = h.utils.premultiplyTintToRgba(t.tint, t.worldAlpha, d.uniforms.uColor, o.premultipliedAlpha), d.uniforms.translationMatrix = t.transform.worldTransform.toArray(!0), d.uniforms.uSampler = e.bindTexture(r), e.setBlendMode(h.utils.correctBlendMode(t.blendMode, o.premultipliedAlpha)), i.vao.draw(this.renderer.gl.TRIANGLES, 6, 0) }, e }(h.ObjectRenderer);
                    i["default"] = c, h.WebGLRenderer.registerPlugin("tilingSprite", c) }, { "../../core": 65, "../../core/const": 46, path: 8 }],
                143: [function(t, e, i) { "use strict";

                    function n(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var s = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        h = t("../../core"),
                        l = n(h),
                        u = (t("path"), function(t) {
                            function e() { var i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1;
                                r(this, e); var n = o(this, t.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}", "varying vec2 vTextureCoord;\n\nuniform sampler2D uSampler;\nuniform float uAlpha;\n\nvoid main(void)\n{\n   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;\n}\n")); return n.alpha = i, n.glShaderKey = "alpha", n } return a(e, t), s(e, [{ key: "alpha", get: function() { return this.uniforms.uAlpha }, set: function(t) { this.uniforms.uAlpha = t } }]), e }(l.Filter));
                    i["default"] = u }, { "../../core": 65, path: 8 }],
                144: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function a(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function s(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var h = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        l = t("../../core"),
                        u = r(l),
                        c = t("./BlurXFilter"),
                        d = n(c),
                        p = t("./BlurYFilter"),
                        f = n(p),
                        m = function(t) {
                            function e(i, n, r, s) { o(this, e); var h = a(this, t.call(this)); return h.blurXFilter = new d["default"](i, n, r, s), h.blurYFilter = new f["default"](i, n, r, s), h.padding = 0, h.resolution = r || u.settings.RESOLUTION, h.quality = n || 4, h.blur = i || 8, h } return s(e, t), e.prototype.apply = function(t, e, i) { var n = t.getRenderTarget(!0);
                                this.blurXFilter.apply(t, e, n, !0), this.blurYFilter.apply(t, n, i, !1), t.returnRenderTarget(n) }, h(e, [{ key: "blur", get: function() { return this.blurXFilter.blur }, set: function(t) { this.blurXFilter.blur = this.blurYFilter.blur = t, this.padding = 2 * Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength)) } }, { key: "quality", get: function() { return this.blurXFilter.quality }, set: function(t) { this.blurXFilter.quality = this.blurYFilter.quality = t } }, { key: "blurX", get: function() { return this.blurXFilter.blur }, set: function(t) { this.blurXFilter.blur = t, this.padding = 2 * Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength)) } }, { key: "blurY", get: function() { return this.blurYFilter.blur }, set: function(t) { this.blurYFilter.blur = t, this.padding = 2 * Math.max(Math.abs(this.blurXFilter.strength), Math.abs(this.blurYFilter.strength)) } }, { key: "blendMode", get: function() { return this.blurYFilter._blendMode }, set: function(t) { this.blurYFilter._blendMode = t } }]), e }(u.Filter);
                    i["default"] = m }, { "../../core": 65, "./BlurXFilter": 145, "./BlurYFilter": 146 }],
                145: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function a(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function s(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var h = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        l = t("../../core"),
                        u = r(l),
                        c = t("./generateBlurVertSource"),
                        d = n(c),
                        p = t("./generateBlurFragSource"),
                        f = n(p),
                        m = t("./getMaxBlurKernelSize"),
                        g = n(m),
                        v = function(t) {
                            function e(i, n, r, s) { o(this, e), s = s || 5; var h = (0, d["default"])(s, !0),
                                    l = (0, f["default"])(s),
                                    c = a(this, t.call(this, h, l)); return c.resolution = r || u.settings.RESOLUTION, c._quality = 0, c.quality = n || 4, c.strength = i || 8, c.firstRun = !0, c } return s(e, t), e.prototype.apply = function(t, e, i, n) { if (this.firstRun) { var r = t.renderer.gl,
                                        o = (0, g["default"])(r);
                                    this.vertexSrc = (0, d["default"])(o, !0), this.fragmentSrc = (0, f["default"])(o), this.firstRun = !1 } if (this.uniforms.strength = 1 / i.size.width * (i.size.width / e.size.width), this.uniforms.strength *= this.strength, this.uniforms.strength /= this.passes, 1 === this.passes) t.applyFilter(this, e, i, n);
                                else { for (var a = t.getRenderTarget(!0), s = e, h = a, l = 0; l < this.passes - 1; l++) { t.applyFilter(this, s, h, !0); var u = h;
                                        h = s, s = u } t.applyFilter(this, s, i, n), t.returnRenderTarget(a) } }, h(e, [{ key: "blur", get: function() { return this.strength }, set: function(t) { this.padding = 2 * Math.abs(t), this.strength = t } }, { key: "quality", get: function() { return this._quality }, set: function(t) { this._quality = t, this.passes = t } }]), e }(u.Filter);
                    i["default"] = v }, { "../../core": 65, "./generateBlurFragSource": 147, "./generateBlurVertSource": 148, "./getMaxBlurKernelSize": 149 }],
                146: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function a(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function s(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var h = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        l = t("../../core"),
                        u = r(l),
                        c = t("./generateBlurVertSource"),
                        d = n(c),
                        p = t("./generateBlurFragSource"),
                        f = n(p),
                        m = t("./getMaxBlurKernelSize"),
                        g = n(m),
                        v = function(t) {
                            function e(i, n, r, s) { o(this, e), s = s || 5; var h = (0, d["default"])(s, !1),
                                    l = (0, f["default"])(s),
                                    c = a(this, t.call(this, h, l)); return c.resolution = r || u.settings.RESOLUTION, c._quality = 0, c.quality = n || 4, c.strength = i || 8, c.firstRun = !0, c } return s(e, t), e.prototype.apply = function(t, e, i, n) { if (this.firstRun) { var r = t.renderer.gl,
                                        o = (0, g["default"])(r);
                                    this.vertexSrc = (0, d["default"])(o, !1), this.fragmentSrc = (0, f["default"])(o), this.firstRun = !1 } if (this.uniforms.strength = 1 / i.size.height * (i.size.height / e.size.height), this.uniforms.strength *= this.strength, this.uniforms.strength /= this.passes, 1 === this.passes) t.applyFilter(this, e, i, n);
                                else { for (var a = t.getRenderTarget(!0), s = e, h = a, l = 0; l < this.passes - 1; l++) { t.applyFilter(this, s, h, !0); var u = h;
                                        h = s, s = u } t.applyFilter(this, s, i, n), t.returnRenderTarget(a) } }, h(e, [{ key: "blur", get: function() { return this.strength }, set: function(t) { this.padding = 2 * Math.abs(t), this.strength = t } }, { key: "quality", get: function() { return this._quality }, set: function(t) { this._quality = t, this.passes = t } }]), e }(u.Filter);
                    i["default"] = v }, { "../../core": 65, "./generateBlurFragSource": 147, "./generateBlurVertSource": 148, "./getMaxBlurKernelSize": 149 }],
                147: [function(t, e, i) { "use strict";

                    function n(t) { for (var e = r[t], i = e.length, n = o, a = "", s = "gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;", h = void 0, l = 0; l < t; l++) { var u = s.replace("%index%", l);
                            h = l, l >= i && (h = t - l - 1), u = u.replace("%value%", e[h]), a += u, a += "\n" } return n = n.replace("%blur%", a), n = n.replace("%size%", t) } i.__esModule = !0, i["default"] = n; var r = { 5: [.153388, .221461, .250301], 7: [.071303, .131514, .189879, .214607], 9: [.028532, .067234, .124009, .179044, .20236], 11: [.0093, .028002, .065984, .121703, .175713, .198596], 13: [.002406, .009255, .027867, .065666, .121117, .174868, .197641], 15: [489e-6, .002403, .009246, .02784, .065602, .120999, .174697, .197448] },
                        o = ["varying vec2 vBlurTexCoords[%size%];", "uniform sampler2D uSampler;", "void main(void)", "{", "    gl_FragColor = vec4(0.0);", "    %blur%", "}"].join("\n") }, {}],
                148: [function(t, e, i) { "use strict";

                    function n(t, e) { var i = Math.ceil(t / 2),
                            n = r,
                            o = "",
                            a = void 0;
                        a = e ? "vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);" : "vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);"; for (var s = 0; s < t; s++) { var h = a.replace("%index%", s);
                            h = h.replace("%sampleIndex%", s - (i - 1) + ".0"), o += h, o += "\n" } return n = n.replace("%blur%", o), n = n.replace("%size%", t) } i.__esModule = !0, i["default"] = n; var r = ["attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "uniform float strength;", "uniform mat3 projectionMatrix;", "varying vec2 vBlurTexCoords[%size%];", "void main(void)", "{", "gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);", "%blur%", "}"].join("\n") }, {}],
                149: [function(t, e, i) { "use strict";

                    function n(t) { for (var e = t.getParameter(t.MAX_VARYING_VECTORS), i = 15; i > e;) i -= 2; return i } i.__esModule = !0, i["default"] = n }, {}],
                150: [function(t, e, i) { "use strict";

                    function n(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var s = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        h = t("../../core"),
                        l = n(h),
                        u = (t("path"), function(t) {
                            function e() { r(this, e); var i = o(this, t.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}", "varying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform float m[20];\nuniform float uAlpha;\n\nvoid main(void)\n{\n    vec4 c = texture2D(uSampler, vTextureCoord);\n\n    if (uAlpha == 0.0) {\n        gl_FragColor = c;\n        return;\n    }\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (c.a > 0.0) {\n      c.rgb /= c.a;\n    }\n\n    vec4 result;\n\n    result.r = (m[0] * c.r);\n        result.r += (m[1] * c.g);\n        result.r += (m[2] * c.b);\n        result.r += (m[3] * c.a);\n        result.r += m[4];\n\n    result.g = (m[5] * c.r);\n        result.g += (m[6] * c.g);\n        result.g += (m[7] * c.b);\n        result.g += (m[8] * c.a);\n        result.g += m[9];\n\n    result.b = (m[10] * c.r);\n       result.b += (m[11] * c.g);\n       result.b += (m[12] * c.b);\n       result.b += (m[13] * c.a);\n       result.b += m[14];\n\n    result.a = (m[15] * c.r);\n       result.a += (m[16] * c.g);\n       result.a += (m[17] * c.b);\n       result.a += (m[18] * c.a);\n       result.a += m[19];\n\n    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);\n\n    // Premultiply alpha again.\n    rgb *= result.a;\n\n    gl_FragColor = vec4(rgb, result.a);\n}\n")); return i.uniforms.m = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0], i.alpha = 1, i } return a(e, t), e.prototype._loadMatrix = function(t) { var e = arguments.length > 1 && void 0 !== arguments[1] && arguments[1],
                                    i = t;
                                e && (this._multiply(i, this.uniforms.m, t), i = this._colorMatrix(i)), this.uniforms.m = i }, e.prototype._multiply = function(t, e, i) { return t[0] = e[0] * i[0] + e[1] * i[5] + e[2] * i[10] + e[3] * i[15], t[1] = e[0] * i[1] + e[1] * i[6] + e[2] * i[11] + e[3] * i[16], t[2] = e[0] * i[2] + e[1] * i[7] + e[2] * i[12] + e[3] * i[17], t[3] = e[0] * i[3] + e[1] * i[8] + e[2] * i[13] + e[3] * i[18], t[4] = e[0] * i[4] + e[1] * i[9] + e[2] * i[14] + e[3] * i[19] + e[4], t[5] = e[5] * i[0] + e[6] * i[5] + e[7] * i[10] + e[8] * i[15], t[6] = e[5] * i[1] + e[6] * i[6] + e[7] * i[11] + e[8] * i[16], t[7] = e[5] * i[2] + e[6] * i[7] + e[7] * i[12] + e[8] * i[17], t[8] = e[5] * i[3] + e[6] * i[8] + e[7] * i[13] + e[8] * i[18], t[9] = e[5] * i[4] + e[6] * i[9] + e[7] * i[14] + e[8] * i[19] + e[9], t[10] = e[10] * i[0] + e[11] * i[5] + e[12] * i[10] + e[13] * i[15], t[11] = e[10] * i[1] + e[11] * i[6] + e[12] * i[11] + e[13] * i[16], t[12] = e[10] * i[2] + e[11] * i[7] + e[12] * i[12] + e[13] * i[17], t[13] = e[10] * i[3] + e[11] * i[8] + e[12] * i[13] + e[13] * i[18], t[14] = e[10] * i[4] + e[11] * i[9] + e[12] * i[14] + e[13] * i[19] + e[14], t[15] = e[15] * i[0] + e[16] * i[5] + e[17] * i[10] + e[18] * i[15], t[16] = e[15] * i[1] + e[16] * i[6] + e[17] * i[11] + e[18] * i[16], t[17] = e[15] * i[2] + e[16] * i[7] + e[17] * i[12] + e[18] * i[17], t[18] = e[15] * i[3] + e[16] * i[8] + e[17] * i[13] + e[18] * i[18], t[19] = e[15] * i[4] + e[16] * i[9] + e[17] * i[14] + e[18] * i[19] + e[19], t }, e.prototype._colorMatrix = function(t) { var e = new Float32Array(t); return e[4] /= 255, e[9] /= 255, e[14] /= 255, e[19] /= 255, e }, e.prototype.brightness = function(t, e) { var i = [t, 0, 0, 0, 0, 0, t, 0, 0, 0, 0, 0, t, 0, 0, 0, 0, 0, 1, 0];
                                this._loadMatrix(i, e) }, e.prototype.greyscale = function(t, e) { var i = [t, t, t, 0, 0, t, t, t, 0, 0, t, t, t, 0, 0, 0, 0, 0, 1, 0];
                                this._loadMatrix(i, e) }, e.prototype.blackAndWhite = function(t) { var e = [.3, .6, .1, 0, 0, .3, .6, .1, 0, 0, .3, .6, .1, 0, 0, 0, 0, 0, 1, 0];
                                this._loadMatrix(e, t) }, e.prototype.hue = function(t, e) { t = (t || 0) / 180 * Math.PI; var i = Math.cos(t),
                                    n = Math.sin(t),
                                    r = Math.sqrt,
                                    o = 1 / 3,
                                    a = r(o),
                                    s = i + (1 - i) * o,
                                    h = o * (1 - i) - a * n,
                                    l = o * (1 - i) + a * n,
                                    u = o * (1 - i) + a * n,
                                    c = i + o * (1 - i),
                                    d = o * (1 - i) - a * n,
                                    p = o * (1 - i) - a * n,
                                    f = o * (1 - i) + a * n,
                                    m = i + o * (1 - i),
                                    g = [s, h, l, 0, 0, u, c, d, 0, 0, p, f, m, 0, 0, 0, 0, 0, 1, 0];
                                this._loadMatrix(g, e) }, e.prototype.contrast = function(t, e) { var i = (t || 0) + 1,
                                    n = -.5 * (i - 1),
                                    r = [i, 0, 0, 0, n, 0, i, 0, 0, n, 0, 0, i, 0, n, 0, 0, 0, 1, 0];
                                this._loadMatrix(r, e) }, e.prototype.saturate = function() { var t = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,
                                    e = arguments[1],
                                    i = 2 * t / 3 + 1,
                                    n = (i - 1) * -.5,
                                    r = [i, n, n, 0, 0, n, i, n, 0, 0, n, n, i, 0, 0, 0, 0, 0, 1, 0];
                                this._loadMatrix(r, e) }, e.prototype.desaturate = function() { this.saturate(-1) }, e.prototype.negative = function(t) { var e = [-1, 0, 0, 1, 0, 0, -1, 0, 1, 0, 0, 0, -1, 1, 0, 0, 0, 0, 1, 0];
                                this._loadMatrix(e, t) }, e.prototype.sepia = function(t) { var e = [.393, .7689999, .18899999, 0, 0, .349, .6859999, .16799999, 0, 0, .272, .5339999, .13099999, 0, 0, 0, 0, 0, 1, 0];
                                this._loadMatrix(e, t) }, e.prototype.technicolor = function(t) { var e = [1.9125277891456083, -.8545344976951645, -.09155508482755585, 0, 11.793603434377337, -.3087833385928097, 1.7658908555458428, -.10601743074722245, 0, -70.35205161461398, -.231103377548616, -.7501899197440212, 1.847597816108189, 0, 30.950940869491138, 0, 0, 0, 1, 0];
                                this._loadMatrix(e, t) }, e.prototype.polaroid = function(t) { var e = [1.438, -.062, -.062, 0, 0, -.122, 1.378, -.122, 0, 0, -.016, -.016, 1.483, 0, 0, 0, 0, 0, 1, 0];
                                this._loadMatrix(e, t) }, e.prototype.toBGR = function(t) { var e = [0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 0, 0, 0, 0, 0, 1, 0];
                                this._loadMatrix(e, t) }, e.prototype.kodachrome = function(t) { var e = [1.1285582396593525, -.3967382283601348, -.03992559172921793, 0, 63.72958762196502, -.16404339962244616, 1.0835251566291304, -.05498805115633132, 0, 24.732407896706203, -.16786010706155763, -.5603416277695248, 1.6014850761964943, 0, 35.62982807460946, 0, 0, 0, 1, 0];
                                this._loadMatrix(e, t) }, e.prototype.browni = function(t) { var e = [.5997023498159715, .34553243048391263, -.2708298674538042, 0, 47.43192855600873, -.037703249837783157, .8609577587992641, .15059552388459913, 0, -36.96841498319127, .24113635128153335, -.07441037908422492, .44972182064877153, 0, -7.562075277591283, 0, 0, 0, 1, 0];
                                this._loadMatrix(e, t) }, e.prototype.vintage = function(t) { var e = [.6279345635605994, .3202183420819367, -.03965408211312453, 0, 9.651285835294123, .02578397704808868, .6441188644374771, .03259127616149294, 0, 7.462829176470591, .0466055556782719, -.0851232987247891, .5241648018700465, 0, 5.159190588235296, 0, 0, 0, 1, 0];
                                this._loadMatrix(e, t) }, e.prototype.colorTone = function(t, e, i, n, r) { t = t || .2, e = e || .15, i = i || 16770432, n = n || 3375104; var o = (i >> 16 & 255) / 255,
                                    a = (i >> 8 & 255) / 255,
                                    s = (255 & i) / 255,
                                    h = (n >> 16 & 255) / 255,
                                    l = (n >> 8 & 255) / 255,
                                    u = (255 & n) / 255,
                                    c = [.3, .59, .11, 0, 0, o, a, s, t, 0, h, l, u, e, 0, o - h, a - l, s - u, 0, 0];
                                this._loadMatrix(c, r) }, e.prototype.night = function(t, e) { t = t || .1; var i = [t * -2, -t, 0, 0, 0, -t, 0, t, 0, 0, 0, t, 2 * t, 0, 0, 0, 0, 0, 1, 0];
                                this._loadMatrix(i, e) }, e.prototype.predator = function(t, e) { var i = [11.224130630493164 * t, -4.794486999511719 * t, -2.8746118545532227 * t, 0 * t, .40342438220977783 * t, -3.6330697536468506 * t, 9.193157196044922 * t, -2.951810836791992 * t, 0 * t, -1.316135048866272 * t, -3.2184197902679443 * t, -4.2375030517578125 * t, 7.476448059082031 * t, 0 * t, .8044459223747253 * t, 0, 0, 0, 1, 0];
                                this._loadMatrix(i, e) }, e.prototype.lsd = function(t) { var e = [2, -.4, .5, 0, 0, -.5, 2, -.4, 0, 0, -.4, -.5, 3, 0, 0, 0, 0, 0, 1, 0];
                                this._loadMatrix(e, t) }, e.prototype.reset = function() { var t = [1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0, 0, 0, 0, 0, 1, 0];
                                this._loadMatrix(t, !1) }, s(e, [{ key: "matrix", get: function() { return this.uniforms.m }, set: function(t) { this.uniforms.m = t } }, { key: "alpha", get: function() { return this.uniforms.uAlpha }, set: function(t) { this.uniforms.uAlpha = t } }]), e }(l.Filter));
                    i["default"] = u, u.prototype.grayscale = u.prototype.greyscale }, { "../../core": 65, path: 8 }],
                151: [function(t, e, i) { "use strict";

                    function n(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var s = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        h = t("../../core"),
                        l = n(h),
                        u = (t("path"), function(t) {
                            function e(i, n) { r(this, e); var a = new l.Matrix;
                                i.renderable = !1; var s = o(this, t.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 filterMatrix;\n\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\n\nvoid main(void)\n{\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;\n   vTextureCoord = aTextureCoord;\n}", "varying vec2 vFilterCoord;\nvarying vec2 vTextureCoord;\n\nuniform vec2 scale;\n\nuniform sampler2D uSampler;\nuniform sampler2D mapSampler;\n\nuniform vec4 filterArea;\nuniform vec4 filterClamp;\n\nvoid main(void)\n{\n  vec4 map =  texture2D(mapSampler, vFilterCoord);\n\n  map -= 0.5;\n  map.xy *= scale / filterArea.xy;\n\n  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));\n}\n")); return s.maskSprite = i, s.maskMatrix = a, s.uniforms.mapSampler = i._texture, s.uniforms.filterMatrix = a, s.uniforms.scale = { x: 1, y: 1 }, null !== n && void 0 !== n || (n = 20), s.scale = new l.Point(n, n), s } return a(e, t), e.prototype.apply = function(t, e, i) { this.uniforms.filterMatrix = t.calculateSpriteMatrix(this.maskMatrix, this.maskSprite), this.uniforms.scale.x = this.scale.x, this.uniforms.scale.y = this.scale.y, t.applyFilter(this, e, i) }, s(e, [{ key: "map", get: function() { return this.uniforms.mapSampler }, set: function(t) { this.uniforms.mapSampler = t } }]), e }(l.Filter));
                    i["default"] = u }, { "../../core": 65, path: 8 }],
                152: [function(t, e, i) {
                    "use strict";

                    function n(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0;
                    var s = t("../../core"),
                        h = n(s),
                        l = (t("path"), function(t) {
                            function e() {
                                return r(this, e), o(this, t.call(this, "\nattribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nuniform vec4 filterArea;\n\nvarying vec2 vTextureCoord;\n\nvec2 mapCoord( vec2 coord )\n{\n    coord *= filterArea.xy;\n    coord += filterArea.zw;\n\n    return coord;\n}\n\nvec2 unmapCoord( vec2 coord )\n{\n    coord -= filterArea.zw;\n    coord /= filterArea.xy;\n\n    return coord;\n}\n\nvoid texcoords(vec2 fragCoord, vec2 resolution,\n               out vec2 v_rgbNW, out vec2 v_rgbNE,\n               out vec2 v_rgbSW, out vec2 v_rgbSE,\n               out vec2 v_rgbM) {\n    vec2 inverseVP = 1.0 / resolution.xy;\n    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;\n    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;\n    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;\n    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;\n    v_rgbM = vec2(fragCoord * inverseVP);\n}\n\nvoid main(void) {\n\n   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n   vTextureCoord = aTextureCoord;\n\n   vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n}", 'varying vec2 v_rgbNW;\nvarying vec2 v_rgbNE;\nvarying vec2 v_rgbSW;\nvarying vec2 v_rgbSE;\nvarying vec2 v_rgbM;\n\nvarying vec2 vTextureCoord;\nuniform sampler2D uSampler;\nuniform vec4 filterArea;\n\n/**\n Basic FXAA implementation based on the code on geeks3d.com with the\n modification that the texture2DLod stuff was removed since it\'s\n unsupported by WebGL.\n \n --\n \n From:\n https://github.com/mitsuhiko/webgl-meincraft\n \n Copyright (c) 2011 by Armin Ronacher.\n \n Some rights reserved.\n \n Redistribution and use in source and binary forms, with or without\n modification, are permitted provided that the following conditions are\n met:\n \n * Redistributions of source code must retain the above copyright\n notice, this list of conditions and the following disclaimer.\n \n * Redistributions in binary form must reproduce the above\n copyright notice, this list of conditions and the following\n disclaimer in the documentation and/or other materials provided\n with the distribution.\n \n * The names of the contributors may not be used to endorse or\n promote products derived from this software without specific\n prior written permission.\n \n THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\n#ifndef FXAA_REDUCE_MIN\n#define FXAA_REDUCE_MIN   (1.0/ 128.0)\n#endif\n#ifndef FXAA_REDUCE_MUL\n#define FXAA_REDUCE_MUL   (1.0 / 8.0)\n#endif\n#ifndef FXAA_SPAN_MAX\n#define FXAA_SPAN_MAX     8.0\n#endif\n\n//optimized version for mobile, where dependent\n//texture reads can be a bottleneck\nvec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,\n          vec2 v_rgbNW, vec2 v_rgbNE,\n          vec2 v_rgbSW, vec2 v_rgbSE,\n          vec2 v_rgbM) {\n    vec4 color;\n    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);\n    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;\n    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;\n    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;\n    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;\n    vec4 texColor = texture2D(tex, v_rgbM);\n    vec3 rgbM  = texColor.xyz;\n    vec3 luma = vec3(0.299, 0.587, 0.114);\n    float lumaNW = dot(rgbNW, luma);\n    float lumaNE = dot(rgbNE, luma);\n    float lumaSW = dot(rgbSW, luma);\n    float lumaSE = dot(rgbSE, luma);\n    float lumaM  = dot(rgbM,  luma);\n    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));\n    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));\n    \n    mediump vec2 dir;\n    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));\n    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));\n    \n    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *\n                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);\n    \n    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);\n    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),\n              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),\n                  dir * rcpDirMin)) * inverseVP;\n    \n    vec3 rgbA = 0.5 * (\n                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +\n                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);\n    vec3 rgbB = rgbA * 0.5 + 0.25 * (\n                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +\n                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);\n    \n    float lumaB = dot(rgbB, luma);\n    if ((lumaB < lumaMin) || (lumaB > lumaMax))\n        color = vec4(rgbA, texColor.a);\n    else\n        color = vec4(rgbB, texColor.a);\n    return color;\n}\n\nvoid main() {\n\n      vec2 fragCoord = vTextureCoord * filterArea.xy;\n\n      vec4 color;\n\n    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);\n\n      gl_FragColor = color;\n}\n'));
                            }
                            return a(e, t), e
                        }(h.Filter));
                    i["default"] = l
                }, { "../../core": 65, path: 8 }],
                153: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } } i.__esModule = !0; var r = t("./fxaa/FXAAFilter");
                    Object.defineProperty(i, "FXAAFilter", { enumerable: !0, get: function() { return n(r)["default"] } }); var o = t("./noise/NoiseFilter");
                    Object.defineProperty(i, "NoiseFilter", { enumerable: !0, get: function() { return n(o)["default"] } }); var a = t("./displacement/DisplacementFilter");
                    Object.defineProperty(i, "DisplacementFilter", { enumerable: !0, get: function() { return n(a)["default"] } }); var s = t("./blur/BlurFilter");
                    Object.defineProperty(i, "BlurFilter", { enumerable: !0, get: function() { return n(s)["default"] } }); var h = t("./blur/BlurXFilter");
                    Object.defineProperty(i, "BlurXFilter", { enumerable: !0, get: function() { return n(h)["default"] } }); var l = t("./blur/BlurYFilter");
                    Object.defineProperty(i, "BlurYFilter", { enumerable: !0, get: function() { return n(l)["default"] } }); var u = t("./colormatrix/ColorMatrixFilter");
                    Object.defineProperty(i, "ColorMatrixFilter", { enumerable: !0, get: function() { return n(u)["default"] } }); var c = t("./alpha/AlphaFilter");
                    Object.defineProperty(i, "AlphaFilter", { enumerable: !0, get: function() { return n(c)["default"] } }) }, { "./alpha/AlphaFilter": 143, "./blur/BlurFilter": 144, "./blur/BlurXFilter": 145, "./blur/BlurYFilter": 146, "./colormatrix/ColorMatrixFilter": 150, "./displacement/DisplacementFilter": 151, "./fxaa/FXAAFilter": 152, "./noise/NoiseFilter": 154 }],
                154: [function(t, e, i) { "use strict";

                    function n(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var s = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        h = t("../../core"),
                        l = n(h),
                        u = (t("path"), function(t) {
                            function e() { var i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : .5,
                                    n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : Math.random();
                                r(this, e); var a = o(this, t.call(this, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n    vTextureCoord = aTextureCoord;\n}", "precision highp float;\n\nvarying vec2 vTextureCoord;\nvarying vec4 vColor;\n\nuniform float uNoise;\nuniform float uSeed;\nuniform sampler2D uSampler;\n\nfloat rand(vec2 co)\n{\n    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvoid main()\n{\n    vec4 color = texture2D(uSampler, vTextureCoord);\n    float randomValue = rand(gl_FragCoord.xy * uSeed);\n    float diff = (randomValue - 0.5) * uNoise;\n\n    // Un-premultiply alpha before applying the color matrix. See issue #3539.\n    if (color.a > 0.0) {\n        color.rgb /= color.a;\n    }\n\n    color.r += diff;\n    color.g += diff;\n    color.b += diff;\n\n    // Premultiply alpha again.\n    color.rgb *= color.a;\n\n    gl_FragColor = color;\n}\n")); return a.noise = i, a.seed = n, a } return a(e, t), s(e, [{ key: "noise", get: function() { return this.uniforms.uNoise }, set: function(t) { this.uniforms.uNoise = t } }, { key: "seed", get: function() { return this.uniforms.uSeed }, set: function(t) { this.uniforms.uSeed = t } }]), e }(l.Filter));
                    i["default"] = u }, { "../../core": 65, path: 8 }],
                155: [function(t, e, i) { "use strict";

                    function n(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var o = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        a = t("../core"),
                        s = n(a),
                        h = function() {
                            function t() { r(this, t), this.global = new s.Point, this.target = null, this.originalEvent = null, this.identifier = null, this.isPrimary = !1, this.button = 0, this.buttons = 0, this.width = 0, this.height = 0, this.tiltX = 0, this.tiltY = 0, this.pointerType = null, this.pressure = 0, this.rotationAngle = 0, this.twist = 0, this.tangentialPressure = 0 } return t.prototype.getLocalPosition = function(t, e, i) { return t.worldTransform.applyInverse(i || this.global, e) }, t.prototype.copyEvent = function(t) { t.isPrimary && (this.isPrimary = !0), this.button = t.button, this.buttons = Number.isInteger(t.buttons) ? t.buttons : t.which, this.width = t.width, this.height = t.height, this.tiltX = t.tiltX, this.tiltY = t.tiltY, this.pointerType = t.pointerType, this.pressure = t.pressure, this.rotationAngle = t.rotationAngle, this.twist = t.twist || 0, this.tangentialPressure = t.tangentialPressure || 0 }, t.prototype.reset = function() { this.isPrimary = !1 }, o(t, [{ key: "pointerId", get: function() { return this.identifier } }]), t }();
                    i["default"] = h }, { "../core": 65 }],
                156: [function(t, e, i) { "use strict";

                    function n(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var r = function() {
                        function t() { n(this, t), this.stopped = !1, this.target = null, this.currentTarget = null, this.type = null, this.data = null } return t.prototype.stopPropagation = function() { this.stopped = !0 }, t.prototype.reset = function() { this.stopped = !1, this.currentTarget = null, this.target = null }, t }();
                    i["default"] = r }, {}],
                157: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function a(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function s(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var h = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) { return typeof t } : function(t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t },
                        l = t("../core"),
                        u = r(l),
                        c = t("./InteractionData"),
                        d = n(c),
                        p = t("./InteractionEvent"),
                        f = n(p),
                        m = t("./InteractionTrackingData"),
                        g = n(m),
                        v = t("eventemitter3"),
                        y = n(v),
                        _ = t("./interactiveTarget"),
                        b = n(_);
                    u.utils.mixins.delayMixin(u.DisplayObject.prototype, b["default"]); var x = 1,
                        w = { target: null, data: { global: null } },
                        T = function(t) {
                            function e(i, n) { o(this, e); var r = a(this, t.call(this)); return n = n || {}, r.renderer = i, r.autoPreventDefault = void 0 === n.autoPreventDefault || n.autoPreventDefault, r.interactionFrequency = n.interactionFrequency || 10, r.mouse = new d["default"], r.mouse.identifier = x, r.mouse.global.set(-999999), r.activeInteractionData = {}, r.activeInteractionData[x] = r.mouse, r.interactionDataPool = [], r.eventData = new f["default"], r.interactionDOMElement = null, r.moveWhenInside = !1, r.eventsAdded = !1, r.mouseOverRenderer = !1, r.supportsTouchEvents = "ontouchstart" in window, r.supportsPointerEvents = !!window.PointerEvent, r.onPointerUp = r.onPointerUp.bind(r), r.processPointerUp = r.processPointerUp.bind(r), r.onPointerCancel = r.onPointerCancel.bind(r), r.processPointerCancel = r.processPointerCancel.bind(r), r.onPointerDown = r.onPointerDown.bind(r), r.processPointerDown = r.processPointerDown.bind(r), r.onPointerMove = r.onPointerMove.bind(r), r.processPointerMove = r.processPointerMove.bind(r), r.onPointerOut = r.onPointerOut.bind(r), r.processPointerOverOut = r.processPointerOverOut.bind(r), r.onPointerOver = r.onPointerOver.bind(r), r.cursorStyles = { "default": "inherit", pointer: "pointer" }, r.currentCursorMode = null, r.cursor = null, r._tempPoint = new u.Point, r.resolution = 1, r.setTargetElement(r.renderer.view, r.renderer.resolution), r } return s(e, t), e.prototype.hitTest = function(t, e) { return w.target = null, w.data.global = t, e || (e = this.renderer._lastObjectRendered), this.processInteractive(w, e, null, !0), w.target }, e.prototype.setTargetElement = function(t) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
                                this.removeEvents(), this.interactionDOMElement = t, this.resolution = e, this.addEvents() }, e.prototype.addEvents = function() { this.interactionDOMElement && (u.ticker.shared.add(this.update, this, u.UPDATE_PRIORITY.INTERACTION), window.navigator.msPointerEnabled ? (this.interactionDOMElement.style["-ms-content-zooming"] = "none", this.interactionDOMElement.style["-ms-touch-action"] = "none") : this.supportsPointerEvents && (this.interactionDOMElement.style["touch-action"] = "none"), this.supportsPointerEvents ? (window.document.addEventListener("pointermove", this.onPointerMove, !0), this.interactionDOMElement.addEventListener("pointerdown", this.onPointerDown, !0), this.interactionDOMElement.addEventListener("pointerleave", this.onPointerOut, !0), this.interactionDOMElement.addEventListener("pointerover", this.onPointerOver, !0), window.addEventListener("pointercancel", this.onPointerCancel, !0), window.addEventListener("pointerup", this.onPointerUp, !0)) : (window.document.addEventListener("mousemove", this.onPointerMove, !0), this.interactionDOMElement.addEventListener("mousedown", this.onPointerDown, !0), this.interactionDOMElement.addEventListener("mouseout", this.onPointerOut, !0), this.interactionDOMElement.addEventListener("mouseover", this.onPointerOver, !0), window.addEventListener("mouseup", this.onPointerUp, !0)), this.supportsTouchEvents && (this.interactionDOMElement.addEventListener("touchstart", this.onPointerDown, !0), this.interactionDOMElement.addEventListener("touchcancel", this.onPointerCancel, !0), this.interactionDOMElement.addEventListener("touchend", this.onPointerUp, !0), this.interactionDOMElement.addEventListener("touchmove", this.onPointerMove, !0)), this.eventsAdded = !0) }, e.prototype.removeEvents = function() { this.interactionDOMElement && (u.ticker.shared.remove(this.update, this), window.navigator.msPointerEnabled ? (this.interactionDOMElement.style["-ms-content-zooming"] = "", this.interactionDOMElement.style["-ms-touch-action"] = "") : this.supportsPointerEvents && (this.interactionDOMElement.style["touch-action"] = ""), this.supportsPointerEvents ? (window.document.removeEventListener("pointermove", this.onPointerMove, !0), this.interactionDOMElement.removeEventListener("pointerdown", this.onPointerDown, !0), this.interactionDOMElement.removeEventListener("pointerleave", this.onPointerOut, !0), this.interactionDOMElement.removeEventListener("pointerover", this.onPointerOver, !0), window.removeEventListener("pointercancel", this.onPointerCancel, !0), window.removeEventListener("pointerup", this.onPointerUp, !0)) : (window.document.removeEventListener("mousemove", this.onPointerMove, !0), this.interactionDOMElement.removeEventListener("mousedown", this.onPointerDown, !0), this.interactionDOMElement.removeEventListener("mouseout", this.onPointerOut, !0), this.interactionDOMElement.removeEventListener("mouseover", this.onPointerOver, !0), window.removeEventListener("mouseup", this.onPointerUp, !0)), this.supportsTouchEvents && (this.interactionDOMElement.removeEventListener("touchstart", this.onPointerDown, !0), this.interactionDOMElement.removeEventListener("touchcancel", this.onPointerCancel, !0), this.interactionDOMElement.removeEventListener("touchend", this.onPointerUp, !0), this.interactionDOMElement.removeEventListener("touchmove", this.onPointerMove, !0)), this.interactionDOMElement = null, this.eventsAdded = !1) }, e.prototype.update = function(t) { if (this._deltaTime += t, !(this._deltaTime < this.interactionFrequency) && (this._deltaTime = 0, this.interactionDOMElement)) { if (this.didMove) return void(this.didMove = !1);
                                    this.cursor = null; for (var e in this.activeInteractionData)
                                        if (this.activeInteractionData.hasOwnProperty(e)) { var i = this.activeInteractionData[e]; if (i.originalEvent && "touch" !== i.pointerType) { var n = this.configureInteractionEventForDOMEvent(this.eventData, i.originalEvent, i);
                                                this.processInteractive(n, this.renderer._lastObjectRendered, this.processPointerOverOut, !0) } } this.setCursorMode(this.cursor) } }, e.prototype.setCursorMode = function(t) { if (t = t || "default", this.currentCursorMode !== t) { this.currentCursorMode = t; var e = this.cursorStyles[t]; if (e) switch ("undefined" == typeof e ? "undefined" : h(e)) {
                                        case "string":
                                            this.interactionDOMElement.style.cursor = e; break;
                                        case "function":
                                            e(t); break;
                                        case "object":
                                            Object.assign(this.interactionDOMElement.style, e) } else "string" != typeof t || Object.prototype.hasOwnProperty.call(this.cursorStyles, t) || (this.interactionDOMElement.style.cursor = t) } }, e.prototype.dispatchEvent = function(t, e, i) { i.stopped || (i.currentTarget = t, i.type = e, t.emit(e, i), t[e] && t[e](i)) }, e.prototype.mapPositionToPoint = function(t, e, i) { var n = void 0;
                                n = this.interactionDOMElement.parentElement ? this.interactionDOMElement.getBoundingClientRect() : { x: 0, y: 0, width: 0, height: 0 }; var r = navigator.isCocoonJS ? this.resolution : 1 / this.resolution;
                                t.x = (e - n.left) * (this.interactionDOMElement.width / n.width) * r, t.y = (i - n.top) * (this.interactionDOMElement.height / n.height) * r }, e.prototype.processInteractive = function(t, e, i, n, r) { if (!e || !e.visible) return !1; var o = t.data.global;
                                r = e.interactive || r; var a = !1,
                                    s = r,
                                    h = !0; if (e.hitArea ? (n && (e.worldTransform.applyInverse(o, this._tempPoint), e.hitArea.contains(this._tempPoint.x, this._tempPoint.y) ? a = !0 : (n = !1, h = !1)), s = !1) : e._mask && n && (e._mask.containsPoint(o) || (n = !1, h = !1)), h && e.interactiveChildren && e.children)
                                    for (var l = e.children, u = l.length - 1; u >= 0; u--) { var c = l[u],
                                            d = this.processInteractive(t, c, i, n, s); if (d) { if (!c.parent) continue;
                                            s = !1, d && (t.target && (n = !1), a = !0) } }
                                return r && (n && !t.target && !e.hitArea && e.containsPoint && e.containsPoint(o) && (a = !0), e.interactive && (a && !t.target && (t.target = e), i && i(t, e, !!a))), a }, e.prototype.onPointerDown = function(t) { if (!this.supportsTouchEvents || "touch" !== t.pointerType) { var e = this.normalizeToPointerData(t);
                                    this.autoPreventDefault && e[0].isNormalized && t.preventDefault(); for (var i = e.length, n = 0; n < i; n++) { var r = e[n],
                                            o = this.getInteractionDataForPointerId(r),
                                            a = this.configureInteractionEventForDOMEvent(this.eventData, r, o); if (a.data.originalEvent = t, this.processInteractive(a, this.renderer._lastObjectRendered, this.processPointerDown, !0), this.emit("pointerdown", a), "touch" === r.pointerType) this.emit("touchstart", a);
                                        else if ("mouse" === r.pointerType || "pen" === r.pointerType) { var s = 2 === r.button;
                                            this.emit(s ? "rightdown" : "mousedown", this.eventData) } } } }, e.prototype.processPointerDown = function(t, e, i) { var n = t.data,
                                    r = t.data.identifier; if (i)
                                    if (e.trackedPointers[r] || (e.trackedPointers[r] = new g["default"](r)), this.dispatchEvent(e, "pointerdown", t), "touch" === n.pointerType) this.dispatchEvent(e, "touchstart", t);
                                    else if ("mouse" === n.pointerType || "pen" === n.pointerType) { var o = 2 === n.button;
                                    o ? e.trackedPointers[r].rightDown = !0 : e.trackedPointers[r].leftDown = !0, this.dispatchEvent(e, o ? "rightdown" : "mousedown", t) } }, e.prototype.onPointerComplete = function(t, e, i) { for (var n = this.normalizeToPointerData(t), r = n.length, o = t.target !== this.interactionDOMElement ? "outside" : "", a = 0; a < r; a++) { var s = n[a],
                                        h = this.getInteractionDataForPointerId(s),
                                        l = this.configureInteractionEventForDOMEvent(this.eventData, s, h); if (l.data.originalEvent = t, this.processInteractive(l, this.renderer._lastObjectRendered, i, e || !o), this.emit(e ? "pointercancel" : "pointerup" + o, l), "mouse" === s.pointerType || "pen" === s.pointerType) { var u = 2 === s.button;
                                        this.emit(u ? "rightup" + o : "mouseup" + o, l) } else "touch" === s.pointerType && (this.emit(e ? "touchcancel" : "touchend" + o, l), this.releaseInteractionDataForPointerId(s.pointerId, h)) } }, e.prototype.onPointerCancel = function(t) { this.supportsTouchEvents && "touch" === t.pointerType || this.onPointerComplete(t, !0, this.processPointerCancel) }, e.prototype.processPointerCancel = function(t, e) { var i = t.data,
                                    n = t.data.identifier;
                                void 0 !== e.trackedPointers[n] && (delete e.trackedPointers[n], this.dispatchEvent(e, "pointercancel", t), "touch" === i.pointerType && this.dispatchEvent(e, "touchcancel", t)) }, e.prototype.onPointerUp = function(t) { this.supportsTouchEvents && "touch" === t.pointerType || this.onPointerComplete(t, !1, this.processPointerUp) }, e.prototype.processPointerUp = function(t, e, i) { var n = t.data,
                                    r = t.data.identifier,
                                    o = e.trackedPointers[r],
                                    a = "touch" === n.pointerType,
                                    s = "mouse" === n.pointerType || "pen" === n.pointerType; if (s) { var h = 2 === n.button,
                                        l = g["default"].FLAGS,
                                        u = h ? l.RIGHT_DOWN : l.LEFT_DOWN,
                                        c = void 0 !== o && o.flags & u;
                                    i ? (this.dispatchEvent(e, h ? "rightup" : "mouseup", t), c && this.dispatchEvent(e, h ? "rightclick" : "click", t)) : c && this.dispatchEvent(e, h ? "rightupoutside" : "mouseupoutside", t), o && (h ? o.rightDown = !1 : o.leftDown = !1) } i ? (this.dispatchEvent(e, "pointerup", t), a && this.dispatchEvent(e, "touchend", t), o && (this.dispatchEvent(e, "pointertap", t), a && (this.dispatchEvent(e, "tap", t), o.over = !1))) : o && (this.dispatchEvent(e, "pointerupoutside", t), a && this.dispatchEvent(e, "touchendoutside", t)), o && o.none && delete e.trackedPointers[r] }, e.prototype.onPointerMove = function(t) { if (!this.supportsTouchEvents || "touch" !== t.pointerType) { var e = this.normalizeToPointerData(t); "mouse" !== e[0].pointerType && "pen" !== e[0].pointerType || (this.didMove = !0, this.cursor = null); for (var i = e.length, n = 0; n < i; n++) { var r = e[n],
                                            o = this.getInteractionDataForPointerId(r),
                                            a = this.configureInteractionEventForDOMEvent(this.eventData, r, o);
                                        a.data.originalEvent = t; var s = "touch" !== r.pointerType || this.moveWhenInside;
                                        this.processInteractive(a, this.renderer._lastObjectRendered, this.processPointerMove, s), this.emit("pointermove", a), "touch" === r.pointerType && this.emit("touchmove", a), "mouse" !== r.pointerType && "pen" !== r.pointerType || this.emit("mousemove", a) } "mouse" === e[0].pointerType && this.setCursorMode(this.cursor) } }, e.prototype.processPointerMove = function(t, e, i) { var n = t.data,
                                    r = "touch" === n.pointerType,
                                    o = "mouse" === n.pointerType || "pen" === n.pointerType;
                                o && this.processPointerOverOut(t, e, i), this.moveWhenInside && !i || (this.dispatchEvent(e, "pointermove", t), r && this.dispatchEvent(e, "touchmove", t), o && this.dispatchEvent(e, "mousemove", t)) }, e.prototype.onPointerOut = function(t) { if (!this.supportsTouchEvents || "touch" !== t.pointerType) { var e = this.normalizeToPointerData(t),
                                        i = e[0]; "mouse" === i.pointerType && (this.mouseOverRenderer = !1, this.setCursorMode(null)); var n = this.getInteractionDataForPointerId(i),
                                        r = this.configureInteractionEventForDOMEvent(this.eventData, i, n);
                                    r.data.originalEvent = i, this.processInteractive(r, this.renderer._lastObjectRendered, this.processPointerOverOut, !1), this.emit("pointerout", r), "mouse" === i.pointerType || "pen" === i.pointerType ? this.emit("mouseout", r) : this.releaseInteractionDataForPointerId(n.identifier) } }, e.prototype.processPointerOverOut = function(t, e, i) { var n = t.data,
                                    r = t.data.identifier,
                                    o = "mouse" === n.pointerType || "pen" === n.pointerType,
                                    a = e.trackedPointers[r];
                                i && !a && (a = e.trackedPointers[r] = new g["default"](r)), void 0 !== a && (i && this.mouseOverRenderer ? (a.over || (a.over = !0, this.dispatchEvent(e, "pointerover", t), o && this.dispatchEvent(e, "mouseover", t)), o && null === this.cursor && (this.cursor = e.cursor)) : a.over && (a.over = !1, this.dispatchEvent(e, "pointerout", this.eventData), o && this.dispatchEvent(e, "mouseout", t), a.none && delete e.trackedPointers[r])) }, e.prototype.onPointerOver = function(t) { var e = this.normalizeToPointerData(t),
                                    i = e[0],
                                    n = this.getInteractionDataForPointerId(i),
                                    r = this.configureInteractionEventForDOMEvent(this.eventData, i, n);
                                r.data.originalEvent = i, "mouse" === i.pointerType && (this.mouseOverRenderer = !0), this.emit("pointerover", r), "mouse" !== i.pointerType && "pen" !== i.pointerType || this.emit("mouseover", r) }, e.prototype.getInteractionDataForPointerId = function(t) { var e = t.pointerId,
                                    i = void 0; return e === x || "mouse" === t.pointerType ? i = this.mouse : this.activeInteractionData[e] ? i = this.activeInteractionData[e] : (i = this.interactionDataPool.pop() || new d["default"], i.identifier = e, this.activeInteractionData[e] = i), i.copyEvent(t), i }, e.prototype.releaseInteractionDataForPointerId = function(t) { var e = this.activeInteractionData[t];
                                e && (delete this.activeInteractionData[t], e.reset(), this.interactionDataPool.push(e)) }, e.prototype.configureInteractionEventForDOMEvent = function(t, e, i) { return t.data = i, this.mapPositionToPoint(i.global, e.clientX, e.clientY), navigator.isCocoonJS && "touch" === e.pointerType && (i.global.x = i.global.x / this.resolution, i.global.y = i.global.y / this.resolution), "touch" === e.pointerType && (e.globalX = i.global.x, e.globalY = i.global.y), i.originalEvent = e, t.reset(), t }, e.prototype.normalizeToPointerData = function(t) { var e = []; if (this.supportsTouchEvents && t instanceof TouchEvent)
                                    for (var i = 0, n = t.changedTouches.length; i < n; i++) { var r = t.changedTouches[i]; "undefined" == typeof r.button && (r.button = t.touches.length ? 1 : 0), "undefined" == typeof r.buttons && (r.buttons = t.touches.length ? 1 : 0), "undefined" == typeof r.isPrimary && (r.isPrimary = 1 === t.touches.length && "touchstart" === t.type), "undefined" == typeof r.width && (r.width = r.radiusX || 1), "undefined" == typeof r.height && (r.height = r.radiusY || 1), "undefined" == typeof r.tiltX && (r.tiltX = 0), "undefined" == typeof r.tiltY && (r.tiltY = 0), "undefined" == typeof r.pointerType && (r.pointerType = "touch"), "undefined" == typeof r.pointerId && (r.pointerId = r.identifier || 0), "undefined" == typeof r.pressure && (r.pressure = r.force || .5), r.twist = 0, r.tangentialPressure = 0, "undefined" == typeof r.layerX && (r.layerX = r.offsetX = r.clientX), "undefined" == typeof r.layerY && (r.layerY = r.offsetY = r.clientY), r.isNormalized = !0, e.push(r) } else !(t instanceof MouseEvent) || this.supportsPointerEvents && t instanceof window.PointerEvent ? e.push(t) : ("undefined" == typeof t.isPrimary && (t.isPrimary = !0), "undefined" == typeof t.width && (t.width = 1), "undefined" == typeof t.height && (t.height = 1), "undefined" == typeof t.tiltX && (t.tiltX = 0), "undefined" == typeof t.tiltY && (t.tiltY = 0), "undefined" == typeof t.pointerType && (t.pointerType = "mouse"), "undefined" == typeof t.pointerId && (t.pointerId = x), "undefined" == typeof t.pressure && (t.pressure = .5), t.twist = 0, t.tangentialPressure = 0, t.isNormalized = !0, e.push(t)); return e }, e.prototype.destroy = function() { this.removeEvents(), this.removeAllListeners(), this.renderer = null, this.mouse = null, this.eventData = null, this.interactionDOMElement = null, this.onPointerDown = null, this.processPointerDown = null, this.onPointerUp = null, this.processPointerUp = null, this.onPointerCancel = null, this.processPointerCancel = null, this.onPointerMove = null, this.processPointerMove = null, this.onPointerOut = null, this.processPointerOverOut = null, this.onPointerOver = null, this._tempPoint = null }, e }(y["default"]);
                    i["default"] = T, u.WebGLRenderer.registerPlugin("interaction", T), u.CanvasRenderer.registerPlugin("interaction", T) }, { "../core": 65, "./InteractionData": 155, "./InteractionEvent": 156, "./InteractionTrackingData": 158, "./interactiveTarget": 160, eventemitter3: 3 }],
                158: [function(t, e, i) { "use strict";

                    function n(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var r = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        o = function() {
                            function t(e) { n(this, t), this._pointerId = e, this._flags = t.FLAGS.NONE } return t.prototype._doSet = function(t, e) { e ? this._flags = this._flags | t : this._flags = this._flags & ~t }, r(t, [{ key: "pointerId", get: function() { return this._pointerId } }, { key: "flags", get: function() { return this._flags }, set: function(t) { this._flags = t } }, { key: "none", get: function() { return this._flags === this.constructor.FLAGS.NONE } }, { key: "over", get: function() { return 0 !== (this._flags & this.constructor.FLAGS.OVER) }, set: function(t) { this._doSet(this.constructor.FLAGS.OVER, t) } }, { key: "rightDown", get: function() { return 0 !== (this._flags & this.constructor.FLAGS.RIGHT_DOWN) }, set: function(t) { this._doSet(this.constructor.FLAGS.RIGHT_DOWN, t) } }, { key: "leftDown", get: function() { return 0 !== (this._flags & this.constructor.FLAGS.LEFT_DOWN) }, set: function(t) { this._doSet(this.constructor.FLAGS.LEFT_DOWN, t) } }]), t }();
                    i["default"] = o, o.FLAGS = Object.freeze({ NONE: 0, OVER: 1, LEFT_DOWN: 2, RIGHT_DOWN: 4 }) }, {}],
                159: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } } i.__esModule = !0; var r = t("./InteractionData");
                    Object.defineProperty(i, "InteractionData", { enumerable: !0, get: function() { return n(r)["default"] } }); var o = t("./InteractionManager");
                    Object.defineProperty(i, "InteractionManager", { enumerable: !0, get: function() { return n(o)["default"] } }); var a = t("./interactiveTarget");
                    Object.defineProperty(i, "interactiveTarget", { enumerable: !0, get: function() { return n(a)["default"] } }); var s = t("./InteractionTrackingData");
                    Object.defineProperty(i, "InteractionTrackingData", { enumerable: !0, get: function() { return n(s)["default"] } }); var h = t("./InteractionEvent");
                    Object.defineProperty(i, "InteractionEvent", { enumerable: !0, get: function() { return n(h)["default"] } }) }, { "./InteractionData": 155, "./InteractionEvent": 156, "./InteractionManager": 157, "./InteractionTrackingData": 158, "./interactiveTarget": 160 }],
                160: [function(t, e, i) { "use strict";
                    i.__esModule = !0, i["default"] = { interactive: !1, interactiveChildren: !0, hitArea: null, get buttonMode() { return "pointer" === this.cursor }, set buttonMode(t) { t ? this.cursor = "pointer" : "pointer" === this.cursor && (this.cursor = null) }, cursor: null, get trackedPointers() { return void 0 === this._trackedPointers && (this._trackedPointers = {}), this._trackedPointers }, _trackedPointers: void 0 } }, {}],
                161: [function(t, e, i) { "use strict";

                    function n(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function r(t, e) { t.bitmapFont = l.BitmapText.registerFont(t.data, e) } i.__esModule = !0, i.parse = r, i["default"] = function() { return function(t, e) { if (!t.data || t.type !== h.Resource.TYPE.XML) return void e(); if (0 === t.data.getElementsByTagName("page").length || 0 === t.data.getElementsByTagName("info").length || null === t.data.getElementsByTagName("info")[0].getAttribute("face")) return void e(); var i = t.isDataUrl ? "" : a.dirname(t.url);
                            t.isDataUrl && ("." === i && (i = ""), this.baseUrl && i && "/" === this.baseUrl.charAt(this.baseUrl.length - 1) && (i += "/")), i = i.replace(this.baseUrl, ""), i && "/" !== i.charAt(i.length - 1) && (i += "/"); var n = i + t.data.getElementsByTagName("page")[0].getAttribute("file"); if (s.utils.TextureCache[n]) r(t, s.utils.TextureCache[n]), e();
                            else { var o = { crossOrigin: t.crossOrigin, loadType: h.Resource.LOAD_TYPE.IMAGE, metadata: t.metadata.imageMetadata, parentResource: t };
                                this.add(t.name + "_image", n, o, function(i) { r(t, i.texture), e() }) } } }; var o = t("path"),
                        a = n(o),
                        s = t("../core"),
                        h = t("resource-loader"),
                        l = t("../extras") }, { "../core": 65, "../extras": 141, path: 8, "resource-loader": 36 }],
                162: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } } i.__esModule = !0, i.shared = i.Resource = i.textureParser = i.getResourcePath = i.spritesheetParser = i.parseBitmapFontData = i.bitmapFontParser = i.Loader = void 0; var r = t("./bitmapFontParser");
                    Object.defineProperty(i, "bitmapFontParser", { enumerable: !0, get: function() { return n(r)["default"] } }), Object.defineProperty(i, "parseBitmapFontData", { enumerable: !0, get: function() { return r.parse } }); var o = t("./spritesheetParser");
                    Object.defineProperty(i, "spritesheetParser", { enumerable: !0, get: function() { return n(o)["default"] } }), Object.defineProperty(i, "getResourcePath", { enumerable: !0, get: function() { return o.getResourcePath } }); var a = t("./textureParser");
                    Object.defineProperty(i, "textureParser", { enumerable: !0, get: function() { return n(a)["default"] } }); var s = t("resource-loader");
                    Object.defineProperty(i, "Resource", { enumerable: !0, get: function() { return s.Resource } }); var h = t("../core/Application"),
                        l = n(h),
                        u = t("./loader"),
                        c = n(u);
                    i.Loader = c["default"]; var d = new c["default"];
                    d.destroy = function() {}, i.shared = d; var p = l["default"].prototype;
                    p._loader = null, Object.defineProperty(p, "loader", { get: function() { if (!this._loader) { var t = this._options.sharedLoader;
                                this._loader = t ? d : new c["default"] } return this._loader } }), p._parentDestroy = p.destroy, p.destroy = function(t) { this._loader && (this._loader.destroy(), this._loader = null), this._parentDestroy(t) } }, { "../core/Application": 43, "./bitmapFontParser": 161, "./loader": 163, "./spritesheetParser": 164, "./textureParser": 165, "resource-loader": 36 }],
                163: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var s = t("resource-loader"),
                        h = n(s),
                        l = t("resource-loader/lib/middlewares/parsing/blob"),
                        u = t("eventemitter3"),
                        c = n(u),
                        d = t("./textureParser"),
                        p = n(d),
                        f = t("./spritesheetParser"),
                        m = n(f),
                        g = t("./bitmapFontParser"),
                        v = n(g),
                        y = function(t) {
                            function e(i, n) { r(this, e); var a = o(this, t.call(this, i, n));
                                c["default"].call(a); for (var s = 0; s < e._pixiMiddleware.length; ++s) a.use(e._pixiMiddleware[s]()); return a.onStart.add(function(t) { return a.emit("start", t) }), a.onProgress.add(function(t, e) { return a.emit("progress", t, e) }), a.onError.add(function(t, e, i) { return a.emit("error", t, e, i) }), a.onLoad.add(function(t, e) { return a.emit("load", t, e) }), a.onComplete.add(function(t, e) { return a.emit("complete", t, e) }), a } return a(e, t), e.addPixiMiddleware = function(t) { e._pixiMiddleware.push(t) }, e.prototype.destroy = function() { this.removeAllListeners(), this.reset() }, e }(h["default"]);
                    i["default"] = y; for (var _ in c["default"].prototype) y.prototype[_] = c["default"].prototype[_];
                    y._pixiMiddleware = [l.blobMiddlewareFactory, p["default"], m["default"], v["default"]]; var b = h["default"].Resource;
                    b.setExtensionXhrType("fnt", b.XHR_RESPONSE_TYPE.DOCUMENT) }, { "./bitmapFontParser": 161, "./spritesheetParser": 164, "./textureParser": 165, eventemitter3: 3, "resource-loader": 36, "resource-loader/lib/middlewares/parsing/blob": 37 }],
                164: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { return t.isDataUrl ? t.data.meta.image : s["default"].resolve(t.url.replace(e, ""), t.data.meta.image) } i.__esModule = !0, i["default"] = function() { return function(t, e) { var i = t.name + "_image"; if (!t.data || t.type !== o.Resource.TYPE.JSON || !t.data.frames || this.resources[i]) return void e(); var n = { crossOrigin: t.crossOrigin, metadata: t.metadata.imageMetadata, parentResource: t },
                                a = r(t, this.baseUrl);
                            this.add(i, a, n, function(i) { if (i.error) return void e(i.error); var n = new h.Spritesheet(i.texture.baseTexture, t.data, t.url);
                                n.parse(function() { t.spritesheet = n, t.textures = n.textures, e() }) }) } }, i.getResourcePath = r; var o = t("resource-loader"),
                        a = t("url"),
                        s = n(a),
                        h = t("../core") }, { "../core": 65, "resource-loader": 36, url: 38 }],
                165: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } } i.__esModule = !0, i["default"] = function() { return function(t, e) { t.data && t.type === r.Resource.TYPE.IMAGE && (t.texture = a["default"].fromLoader(t.data, t.url, t.name)), e() } }; var r = t("resource-loader"),
                        o = t("../core/textures/Texture"),
                        a = n(o) }, { "../core/textures/Texture": 115, "resource-loader": 36 }],
                166: [function(t, e, i) {
                    "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function a(t, e) {
                        if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
                        return !e || "object" != typeof e && "function" != typeof e ? t : e
                    }

                    function s(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0;
                    var h = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        l = t("../core"),
                        u = r(l),
                        c = t("../core/textures/Texture"),
                        d = n(c),
                        p = new u.Point,
                        f = new u.Polygon,
                        m = function(t) {
                            function e(i, n, r, s, h) { o(this, e); var l = a(this, t.call(this)); return l._texture = i || d["default"].EMPTY, l.uvs = r || new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]), l.vertices = n || new Float32Array([0, 0, 100, 0, 100, 100, 0, 100]), l.indices = s || new Uint16Array([0, 1, 3, 2]), l.dirty = 0, l.indexDirty = 0, l.blendMode = u.BLEND_MODES.NORMAL, l.canvasPadding = u.settings.MESH_CANVAS_PADDING, l.drawMode = h || e.DRAW_MODES.TRIANGLE_MESH, l.shader = null, l.tintRgb = new Float32Array([1, 1, 1]), l._glDatas = {}, l._uvTransform = new u.TextureMatrix(l._texture), l.uploadUvTransform = !1, l.pluginName = "mesh", l } return s(e, t), e.prototype._renderWebGL = function(t) { this.refresh(), t.setObjectRenderer(t.plugins[this.pluginName]), t.plugins[this.pluginName].render(this) }, e.prototype._renderCanvas = function(t) { this.refresh(), t.plugins[this.pluginName].render(this) }, e.prototype._onTextureUpdate = function() { this._uvTransform.texture = this._texture, this.refresh() }, e.prototype.multiplyUvs = function() { this.uploadUvTransform || this._uvTransform.multiplyUvs(this.uvs) }, e.prototype.refresh = function(t) { this._uvTransform.update(t) && this._refresh() }, e.prototype._refresh = function() {}, e.prototype._calculateBounds = function() { this._bounds.addVertices(this.transform, this.vertices, 0, this.vertices.length) }, e.prototype.containsPoint = function(t) { if (!this.getBounds().contains(t.x, t.y)) return !1;
                                this.worldTransform.applyInverse(t, p); for (var i = this.vertices, n = f.points, r = this.indices, o = this.indices.length, a = this.drawMode === e.DRAW_MODES.TRIANGLES ? 3 : 1, s = 0; s + 2 < o; s += a) { var h = 2 * r[s],
                                        l = 2 * r[s + 1],
                                        u = 2 * r[s + 2]; if (n[0] = i[h], n[1] = i[h + 1], n[2] = i[l], n[3] = i[l + 1], n[4] = i[u], n[5] = i[u + 1], f.contains(p.x, p.y)) return !0 } return !1 }, h(e, [{ key: "texture", get: function() { return this._texture }, set: function(t) { this._texture !== t && (this._texture = t, t && (t.baseTexture.hasLoaded ? this._onTextureUpdate() : t.once("update", this._onTextureUpdate, this))) } }, { key: "tint", get: function() { return u.utils.rgb2hex(this.tintRgb) }, set: function(t) { this.tintRgb = u.utils.hex2rgb(t, this.tintRgb) } }]), e }(u.Container);
                    i["default"] = m, m.DRAW_MODES = { TRIANGLE_MESH: 0, TRIANGLES: 1 }
                }, { "../core": 65, "../core/textures/Texture": 115 }],
                167: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var s = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        h = t("./Plane"),
                        l = n(h),
                        u = 10,
                        c = function(t) {
                            function e(i, n, a, s, h) { r(this, e); var l = o(this, t.call(this, i, 4, 4)); return l._origWidth = i.orig.width, l._origHeight = i.orig.height, l._width = l._origWidth, l._height = l._origHeight, l.leftWidth = "undefined" != typeof n ? n : u, l.rightWidth = "undefined" != typeof s ? s : u, l.topHeight = "undefined" != typeof a ? a : u, l.bottomHeight = "undefined" != typeof h ? h : u, l.refresh(!0), l } return a(e, t), e.prototype.updateHorizontalVertices = function() { var t = this.vertices;
                                t[9] = t[11] = t[13] = t[15] = this._topHeight, t[17] = t[19] = t[21] = t[23] = this._height - this._bottomHeight, t[25] = t[27] = t[29] = t[31] = this._height }, e.prototype.updateVerticalVertices = function() { var t = this.vertices;
                                t[2] = t[10] = t[18] = t[26] = this._leftWidth, t[4] = t[12] = t[20] = t[28] = this._width - this._rightWidth, t[6] = t[14] = t[22] = t[30] = this._width }, e.prototype._renderCanvas = function(t) { var e = t.context;
                                e.globalAlpha = this.worldAlpha, t.setBlendMode(this.blendMode); var i = this.worldTransform,
                                    n = t.resolution;
                                t.roundPixels ? e.setTransform(i.a * n, i.b * n, i.c * n, i.d * n, i.tx * n | 0, i.ty * n | 0) : e.setTransform(i.a * n, i.b * n, i.c * n, i.d * n, i.tx * n, i.ty * n); var r = this._texture.baseTexture,
                                    o = r.source,
                                    a = r.width * r.resolution,
                                    s = r.height * r.resolution;
                                this.drawSegment(e, o, a, s, 0, 1, 10, 11), this.drawSegment(e, o, a, s, 2, 3, 12, 13), this.drawSegment(e, o, a, s, 4, 5, 14, 15), this.drawSegment(e, o, a, s, 8, 9, 18, 19), this.drawSegment(e, o, a, s, 10, 11, 20, 21), this.drawSegment(e, o, a, s, 12, 13, 22, 23), this.drawSegment(e, o, a, s, 16, 17, 26, 27), this.drawSegment(e, o, a, s, 18, 19, 28, 29), this.drawSegment(e, o, a, s, 20, 21, 30, 31) }, e.prototype.drawSegment = function(t, e, i, n, r, o, a, s) { var h = this.uvs,
                                    l = this.vertices,
                                    u = (h[a] - h[r]) * i,
                                    c = (h[s] - h[o]) * n,
                                    d = l[a] - l[r],
                                    p = l[s] - l[o];
                                u < 1 && (u = 1), c < 1 && (c = 1), d < 1 && (d = 1), p < 1 && (p = 1), t.drawImage(e, h[r] * i, h[o] * n, u, c, l[r], l[o], d, p) }, e.prototype._refresh = function() { t.prototype._refresh.call(this); var e = this.uvs,
                                    i = this._texture;
                                this._origWidth = i.orig.width, this._origHeight = i.orig.height; var n = 1 / this._origWidth,
                                    r = 1 / this._origHeight;
                                e[0] = e[8] = e[16] = e[24] = 0, e[1] = e[3] = e[5] = e[7] = 0, e[6] = e[14] = e[22] = e[30] = 1, e[25] = e[27] = e[29] = e[31] = 1, e[2] = e[10] = e[18] = e[26] = n * this._leftWidth, e[4] = e[12] = e[20] = e[28] = 1 - n * this._rightWidth, e[9] = e[11] = e[13] = e[15] = r * this._topHeight, e[17] = e[19] = e[21] = e[23] = 1 - r * this._bottomHeight, this.updateHorizontalVertices(), this.updateVerticalVertices(), this.dirty++, this.multiplyUvs() }, s(e, [{ key: "width", get: function() { return this._width }, set: function(t) { this._width = t, this._refresh() } }, { key: "height", get: function() { return this._height }, set: function(t) { this._height = t, this._refresh() } }, { key: "leftWidth", get: function() { return this._leftWidth }, set: function(t) { this._leftWidth = t, this._refresh() } }, { key: "rightWidth", get: function() { return this._rightWidth }, set: function(t) { this._rightWidth = t, this._refresh() } }, { key: "topHeight", get: function() { return this._topHeight }, set: function(t) { this._topHeight = t, this._refresh() } }, { key: "bottomHeight", get: function() { return this._bottomHeight }, set: function(t) { this._bottomHeight = t, this._refresh() } }]), e }(l["default"]);
                    i["default"] = c }, { "./Plane": 168 }],
                168: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var s = t("./Mesh"),
                        h = n(s),
                        l = function(t) {
                            function e(i, n, a) { r(this, e); var s = o(this, t.call(this, i)); return s._ready = !0, s.verticesX = n || 10, s.verticesY = a || 10, s.drawMode = h["default"].DRAW_MODES.TRIANGLES, s.refresh(), s } return a(e, t), e.prototype._refresh = function() { for (var t = this._texture, e = this.verticesX * this.verticesY, i = [], n = [], r = [], o = [], a = this.verticesX - 1, s = this.verticesY - 1, h = t.width / a, l = t.height / s, u = 0; u < e; u++) { var c = u % this.verticesX,
                                        d = u / this.verticesX | 0;
                                    i.push(c * h, d * l), r.push(c / a, d / s) } for (var p = a * s, f = 0; f < p; f++) { var m = f % a,
                                        g = f / a | 0,
                                        v = g * this.verticesX + m,
                                        y = g * this.verticesX + m + 1,
                                        _ = (g + 1) * this.verticesX + m,
                                        b = (g + 1) * this.verticesX + m + 1;
                                    o.push(v, y, _), o.push(y, b, _) } this.vertices = new Float32Array(i), this.uvs = new Float32Array(r), this.colors = new Float32Array(n), this.indices = new Uint16Array(o), this.dirty++, this.indexDirty++, this.multiplyUvs() }, e.prototype._onTextureUpdate = function() { h["default"].prototype._onTextureUpdate.call(this), this._ready && this.refresh() }, e }(h["default"]);
                    i["default"] = l }, { "./Mesh": 166 }],
                169: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var s = t("./Mesh"),
                        h = n(s),
                        l = function(t) {
                            function e(i, n) { r(this, e); var a = o(this, t.call(this, i)); return a.points = n, a.vertices = new Float32Array(4 * n.length), a.uvs = new Float32Array(4 * n.length), a.colors = new Float32Array(2 * n.length), a.indices = new Uint16Array(2 * n.length), a.autoUpdate = !0, a.refresh(), a } return a(e, t), e.prototype._refresh = function() { var t = this.points; if (!(t.length < 1) && this._texture._uvs) { this.vertices.length / 4 !== t.length && (this.vertices = new Float32Array(4 * t.length), this.uvs = new Float32Array(4 * t.length), this.colors = new Float32Array(2 * t.length), this.indices = new Uint16Array(2 * t.length)); var e = this.uvs,
                                        i = this.indices,
                                        n = this.colors;
                                    e[0] = 0, e[1] = 0, e[2] = 0, e[3] = 1, n[0] = 1, n[1] = 1, i[0] = 0, i[1] = 1; for (var r = t.length, o = 1; o < r; o++) { var a = 4 * o,
                                            s = o / (r - 1);
                                        e[a] = s, e[a + 1] = 0, e[a + 2] = s, e[a + 3] = 1, a = 2 * o, n[a] = 1, n[a + 1] = 1, a = 2 * o, i[a] = a, i[a + 1] = a + 1 } this.dirty++, this.indexDirty++, this.multiplyUvs(), this.refreshVertices() } }, e.prototype.refreshVertices = function() { var t = this.points; if (!(t.length < 1))
                                    for (var e = t[0], i = void 0, n = 0, r = 0, o = this.vertices, a = t.length, s = 0; s < a; s++) { var h = t[s],
                                            l = 4 * s;
                                        i = s < t.length - 1 ? t[s + 1] : h, r = -(i.x - e.x), n = i.y - e.y; var u = 10 * (1 - s / (a - 1));
                                        u > 1 && (u = 1); var c = Math.sqrt(n * n + r * r),
                                            d = this._texture.height / 2;
                                        n /= c, r /= c, n *= d, r *= d, o[l] = h.x + n, o[l + 1] = h.y + r, o[l + 2] = h.x - n, o[l + 3] = h.y - r, e = h } }, e.prototype.updateTransform = function() { this.autoUpdate && this.refreshVertices(), this.containerUpdateTransform() }, e }(h["default"]);
                    i["default"] = l }, { "./Mesh": 166 }],
                170: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var a = t("../../core"),
                        s = r(a),
                        h = t("../Mesh"),
                        l = n(h),
                        u = function() {
                            function t(e) { o(this, t), this.renderer = e } return t.prototype.render = function(t) { var e = this.renderer,
                                    i = e.context,
                                    n = t.worldTransform,
                                    r = e.resolution;
                                e.roundPixels ? i.setTransform(n.a * r, n.b * r, n.c * r, n.d * r, n.tx * r | 0, n.ty * r | 0) : i.setTransform(n.a * r, n.b * r, n.c * r, n.d * r, n.tx * r, n.ty * r), e.context.globalAlpha = t.worldAlpha, e.setBlendMode(t.blendMode), t.drawMode === l["default"].DRAW_MODES.TRIANGLE_MESH ? this._renderTriangleMesh(t) : this._renderTriangles(t) }, t.prototype._renderTriangleMesh = function(t) { for (var e = t.vertices.length / 2, i = 0; i < e - 2; i++) { var n = 2 * i;
                                    this._renderDrawTriangle(t, n, n + 2, n + 4) } }, t.prototype._renderTriangles = function(t) { for (var e = t.indices, i = e.length, n = 0; n < i; n += 3) { var r = 2 * e[n],
                                        o = 2 * e[n + 1],
                                        a = 2 * e[n + 2];
                                    this._renderDrawTriangle(t, r, o, a) } }, t.prototype._renderDrawTriangle = function(t, e, i, n) { var r = this.renderer.context,
                                    o = t.uvs,
                                    a = t.vertices,
                                    s = t._texture; if (s.valid) { var h = s.baseTexture,
                                        l = h.source,
                                        u = h.width,
                                        c = h.height,
                                        d = void 0,
                                        p = void 0,
                                        f = void 0,
                                        m = void 0,
                                        g = void 0,
                                        v = void 0; if (t.uploadUvTransform) { var y = t._uvTransform.mapCoord;
                                        d = (o[e] * y.a + o[e + 1] * y.c + y.tx) * h.width, p = (o[i] * y.a + o[i + 1] * y.c + y.tx) * h.width, f = (o[n] * y.a + o[n + 1] * y.c + y.tx) * h.width, m = (o[e] * y.b + o[e + 1] * y.d + y.ty) * h.height, g = (o[i] * y.b + o[i + 1] * y.d + y.ty) * h.height, v = (o[n] * y.b + o[n + 1] * y.d + y.ty) * h.height } else d = o[e] * h.width, p = o[i] * h.width, f = o[n] * h.width, m = o[e + 1] * h.height, g = o[i + 1] * h.height, v = o[n + 1] * h.height; var _ = a[e],
                                        b = a[i],
                                        x = a[n],
                                        w = a[e + 1],
                                        T = a[i + 1],
                                        S = a[n + 1],
                                        M = t.canvasPadding / this.renderer.resolution; if (M > 0) { var E = M / Math.abs(t.worldTransform.a),
                                            A = M / Math.abs(t.worldTransform.d),
                                            C = (_ + b + x) / 3,
                                            R = (w + T + S) / 3,
                                            P = _ - C,
                                            O = w - R,
                                            L = Math.sqrt(P * P + O * O);
                                        _ = C + P / L * (L + E), w = R + O / L * (L + A), P = b - C, O = T - R, L = Math.sqrt(P * P + O * O), b = C + P / L * (L + E), T = R + O / L * (L + A), P = x - C, O = S - R, L = Math.sqrt(P * P + O * O), x = C + P / L * (L + E), S = R + O / L * (L + A) } r.save(), r.beginPath(), r.moveTo(_, w), r.lineTo(b, T), r.lineTo(x, S), r.closePath(), r.clip(); var I = d * g + m * f + p * v - g * f - m * p - d * v,
                                        D = _ * g + m * x + b * v - g * x - m * b - _ * v,
                                        k = d * b + _ * f + p * x - b * f - _ * p - d * x,
                                        B = d * g * x + m * b * f + _ * p * v - _ * g * f - m * p * x - d * b * v,
                                        N = w * g + m * S + T * v - g * S - m * T - w * v,
                                        F = d * T + w * f + p * S - T * f - w * p - d * S,
                                        U = d * g * S + m * T * f + w * p * v - w * g * f - m * p * S - d * T * v;
                                    r.transform(D / I, N / I, k / I, F / I, B / I, U / I), r.drawImage(l, 0, 0, u * h.resolution, c * h.resolution, 0, 0, u, c), r.restore(), this.renderer.invalidateBlendMode() } }, t.prototype.renderMeshFlat = function(t) { var e = this.renderer.context,
                                    i = t.vertices,
                                    n = i.length / 2;
                                e.beginPath(); for (var r = 1; r < n - 2; ++r) { var o = 2 * r,
                                        a = i[o],
                                        s = i[o + 1],
                                        h = i[o + 2],
                                        l = i[o + 3],
                                        u = i[o + 4],
                                        c = i[o + 5];
                                    e.moveTo(a, s), e.lineTo(h, l), e.lineTo(u, c) } e.fillStyle = "#FF0000", e.fill(), e.closePath() }, t.prototype.destroy = function() { this.renderer = null }, t }();
                    i["default"] = u, s.CanvasRenderer.registerPlugin("mesh", u) }, { "../../core": 65, "../Mesh": 166 }],
                171: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } } i.__esModule = !0; var r = t("./Mesh");
                    Object.defineProperty(i, "Mesh", { enumerable: !0, get: function() { return n(r)["default"] } }); var o = t("./webgl/MeshRenderer");
                    Object.defineProperty(i, "MeshRenderer", { enumerable: !0, get: function() { return n(o)["default"] } }); var a = t("./canvas/CanvasMeshRenderer");
                    Object.defineProperty(i, "CanvasMeshRenderer", { enumerable: !0, get: function() { return n(a)["default"] } }); var s = t("./Plane");
                    Object.defineProperty(i, "Plane", { enumerable: !0, get: function() { return n(s)["default"] } }); var h = t("./NineSlicePlane");
                    Object.defineProperty(i, "NineSlicePlane", { enumerable: !0, get: function() { return n(h)["default"] } }); var l = t("./Rope");
                    Object.defineProperty(i, "Rope", { enumerable: !0, get: function() { return n(l)["default"] } }) }, { "./Mesh": 166, "./NineSlicePlane": 167, "./Plane": 168, "./Rope": 169, "./canvas/CanvasMeshRenderer": 170, "./webgl/MeshRenderer": 172 }],
                172: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function a(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function s(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var h = t("../../core"),
                        l = r(h),
                        u = t("pixi-gl-core"),
                        c = n(u),
                        d = t("../Mesh"),
                        p = n(d),
                        f = (t("path"), l.Matrix.IDENTITY),
                        m = function(t) {
                            function e(i) { o(this, e); var n = a(this, t.call(this, i)); return n.shader = null, n } return s(e, t), e.prototype.onContextChange = function() { var t = this.renderer.gl;
                                this.shader = new l.Shader(t, "attribute vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n\nuniform mat3 projectionMatrix;\nuniform mat3 translationMatrix;\nuniform mat3 uTransform;\n\nvarying vec2 vTextureCoord;\n\nvoid main(void)\n{\n    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\n\n    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;\n}\n", "varying vec2 vTextureCoord;\nuniform vec4 uColor;\n\nuniform sampler2D uSampler;\n\nvoid main(void)\n{\n    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;\n}\n") }, e.prototype.render = function(t) { var e = this.renderer,
                                    i = e.gl,
                                    n = t._texture; if (n.valid) { var r = t._glDatas[e.CONTEXT_UID];
                                    r || (e.bindVao(null), r = { shader: this.shader, vertexBuffer: c["default"].GLBuffer.createVertexBuffer(i, t.vertices, i.STREAM_DRAW), uvBuffer: c["default"].GLBuffer.createVertexBuffer(i, t.uvs, i.STREAM_DRAW), indexBuffer: c["default"].GLBuffer.createIndexBuffer(i, t.indices, i.STATIC_DRAW), vao: null, dirty: t.dirty, indexDirty: t.indexDirty }, r.vao = new c["default"].VertexArrayObject(i).addIndex(r.indexBuffer).addAttribute(r.vertexBuffer, r.shader.attributes.aVertexPosition, i.FLOAT, !1, 8, 0).addAttribute(r.uvBuffer, r.shader.attributes.aTextureCoord, i.FLOAT, !1, 8, 0), t._glDatas[e.CONTEXT_UID] = r), e.bindVao(r.vao), t.dirty !== r.dirty && (r.dirty = t.dirty, r.uvBuffer.upload(t.uvs)), t.indexDirty !== r.indexDirty && (r.indexDirty = t.indexDirty, r.indexBuffer.upload(t.indices)), r.vertexBuffer.upload(t.vertices), e.bindShader(r.shader), r.shader.uniforms.uSampler = e.bindTexture(n), e.state.setBlendMode(l.utils.correctBlendMode(t.blendMode, n.baseTexture.premultipliedAlpha)), r.shader.uniforms.uTransform && (t.uploadUvTransform ? r.shader.uniforms.uTransform = t._uvTransform.mapCoord.toArray(!0) : r.shader.uniforms.uTransform = f.toArray(!0)), r.shader.uniforms.translationMatrix = t.worldTransform.toArray(!0), r.shader.uniforms.uColor = l.utils.premultiplyRgba(t.tintRgb, t.worldAlpha, r.shader.uniforms.uColor, n.baseTexture.premultipliedAlpha); var o = t.drawMode === p["default"].DRAW_MODES.TRIANGLE_MESH ? i.TRIANGLE_STRIP : i.TRIANGLES;
                                    r.vao.draw(o, t.indices.length, 0) } }, e }(l.ObjectRenderer);
                    i["default"] = m, l.WebGLRenderer.registerPlugin("mesh", m) }, { "../../core": 65, "../Mesh": 166, path: 8, "pixi-gl-core": 15 }],
                173: [function(t, e, i) { "use strict";

                    function n(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var s = function() {
                            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
                        h = t("../core"),
                        l = n(h),
                        u = t("../core/utils"),
                        c = function(t) {
                            function e() { var i = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 1500,
                                    n = arguments[1],
                                    a = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 16384,
                                    s = arguments.length > 3 && void 0 !== arguments[3] && arguments[3];
                                r(this, e); var h = o(this, t.call(this)),
                                    u = 16384; return a > u && (a = u), a > i && (a = i), h._properties = [!1, !0, !1, !1, !1], h._maxSize = i, h._batchSize = a, h._glBuffers = {}, h._bufferUpdateIDs = [], h._updateID = 0, h.interactiveChildren = !1, h.blendMode = l.BLEND_MODES.NORMAL, h.autoResize = s, h.roundPixels = !0, h.baseTexture = null, h.setProperties(n), h._tint = 0, h.tintRgb = new Float32Array(4), h.tint = 16777215, h } return a(e, t), e.prototype.setProperties = function(t) { t && (this._properties[0] = "vertices" in t || "scale" in t ? !!t.vertices || !!t.scale : this._properties[0], this._properties[1] = "position" in t ? !!t.position : this._properties[1], this._properties[2] = "rotation" in t ? !!t.rotation : this._properties[2], this._properties[3] = "uvs" in t ? !!t.uvs : this._properties[3], this._properties[4] = "tint" in t || "alpha" in t ? !!t.tint || !!t.alpha : this._properties[4]) }, e.prototype.updateTransform = function() { this.displayObjectUpdateTransform() }, e.prototype.renderWebGL = function(t) { var e = this;
                                this.visible && !(this.worldAlpha <= 0) && this.children.length && this.renderable && (this.baseTexture || (this.baseTexture = this.children[0]._texture.baseTexture, this.baseTexture.hasLoaded || this.baseTexture.once("update", function() { return e.onChildrenChange(0) })), t.setObjectRenderer(t.plugins.particle), t.plugins.particle.render(this)) }, e.prototype.onChildrenChange = function(t) { for (var e = Math.floor(t / this._batchSize); this._bufferUpdateIDs.length < e;) this._bufferUpdateIDs.push(0);
                                this._bufferUpdateIDs[e] = ++this._updateID }, e.prototype.renderCanvas = function(t) { if (this.visible && !(this.worldAlpha <= 0) && this.children.length && this.renderable) { var e = t.context,
                                        i = this.worldTransform,
                                        n = !0,
                                        r = 0,
                                        o = 0,
                                        a = 0,
                                        s = 0;
                                    t.setBlendMode(this.blendMode), e.globalAlpha = this.worldAlpha, this.displayObjectUpdateTransform(); for (var h = 0; h < this.children.length; ++h) { var l = this.children[h]; if (l.visible) { var u = l._texture.frame; if (e.globalAlpha = this.worldAlpha * l.alpha, l.rotation % (2 * Math.PI) === 0) n && (e.setTransform(i.a, i.b, i.c, i.d, i.tx * t.resolution, i.ty * t.resolution), n = !1), r = l.anchor.x * (-u.width * l.scale.x) + l.position.x + .5, o = l.anchor.y * (-u.height * l.scale.y) + l.position.y + .5, a = u.width * l.scale.x, s = u.height * l.scale.y;
                                            else { n || (n = !0), l.displayObjectUpdateTransform(); var c = l.worldTransform;
                                                t.roundPixels ? e.setTransform(c.a, c.b, c.c, c.d, c.tx * t.resolution | 0, c.ty * t.resolution | 0) : e.setTransform(c.a, c.b, c.c, c.d, c.tx * t.resolution, c.ty * t.resolution), r = l.anchor.x * -u.width + .5, o = l.anchor.y * -u.height + .5, a = u.width, s = u.height } var d = l._texture.baseTexture.resolution;
                                            e.drawImage(l._texture.baseTexture.source, u.x * d, u.y * d, u.width * d, u.height * d, r * t.resolution, o * t.resolution, a * t.resolution, s * t.resolution) } } } }, e.prototype.destroy = function(e) { if (t.prototype.destroy.call(this, e), this._buffers)
                                    for (var i = 0; i < this._buffers.length; ++i) this._buffers[i].destroy();
                                this._properties = null, this._buffers = null, this._bufferUpdateIDs = null }, s(e, [{ key: "tint", get: function() { return this._tint }, set: function(t) { this._tint = t, (0, u.hex2rgb)(t, this.tintRgb) } }]), e }(l.Container);
                    i["default"] = c }, { "../core": 65, "../core/utils": 125 }],
                174: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } } i.__esModule = !0; var r = t("./ParticleContainer");
                    Object.defineProperty(i, "ParticleContainer", { enumerable: !0, get: function() { return n(r)["default"] } }); var o = t("./webgl/ParticleRenderer");
                    Object.defineProperty(i, "ParticleRenderer", { enumerable: !0, get: function() { return n(o)["default"] } }) }, { "./ParticleContainer": 173, "./webgl/ParticleRenderer": 176 }],
                175: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var o = t("pixi-gl-core"),
                        a = n(o),
                        s = t("../../core/utils/createIndicesForQuads"),
                        h = n(s),
                        l = function() {
                            function t(e, i, n, o) { r(this, t), this.gl = e, this.size = o, this.dynamicProperties = [], this.staticProperties = []; for (var a = 0; a < i.length; ++a) { var s = i[a];
                                    s = { attribute: s.attribute, size: s.size, uploadFunction: s.uploadFunction, unsignedByte: s.unsignedByte, offset: s.offset }, n[a] ? this.dynamicProperties.push(s) : this.staticProperties.push(s) } this.staticStride = 0, this.staticBuffer = null, this.staticData = null, this.staticDataUint32 = null, this.dynamicStride = 0, this.dynamicBuffer = null, this.dynamicData = null, this.dynamicDataUint32 = null, this._updateID = 0, this.initBuffers() } return t.prototype.initBuffers = function() { var t = this.gl,
                                    e = 0;
                                this.indices = (0, h["default"])(this.size), this.indexBuffer = a["default"].GLBuffer.createIndexBuffer(t, this.indices, t.STATIC_DRAW), this.dynamicStride = 0; for (var i = 0; i < this.dynamicProperties.length; ++i) { var n = this.dynamicProperties[i];
                                    n.offset = e, e += n.size, this.dynamicStride += n.size } var r = new ArrayBuffer(this.size * this.dynamicStride * 4 * 4);
                                this.dynamicData = new Float32Array(r), this.dynamicDataUint32 = new Uint32Array(r), this.dynamicBuffer = a["default"].GLBuffer.createVertexBuffer(t, r, t.STREAM_DRAW); var o = 0;
                                this.staticStride = 0; for (var s = 0; s < this.staticProperties.length; ++s) { var l = this.staticProperties[s];
                                    l.offset = o, o += l.size, this.staticStride += l.size } var u = new ArrayBuffer(this.size * this.staticStride * 4 * 4);
                                this.staticData = new Float32Array(u), this.staticDataUint32 = new Uint32Array(u), this.staticBuffer = a["default"].GLBuffer.createVertexBuffer(t, u, t.STATIC_DRAW), this.vao = new a["default"].VertexArrayObject(t).addIndex(this.indexBuffer); for (var c = 0; c < this.dynamicProperties.length; ++c) { var d = this.dynamicProperties[c];
                                    d.unsignedByte ? this.vao.addAttribute(this.dynamicBuffer, d.attribute, t.UNSIGNED_BYTE, !0, 4 * this.dynamicStride, 4 * d.offset) : this.vao.addAttribute(this.dynamicBuffer, d.attribute, t.FLOAT, !1, 4 * this.dynamicStride, 4 * d.offset) } for (var p = 0; p < this.staticProperties.length; ++p) { var f = this.staticProperties[p];
                                    f.unsignedByte ? this.vao.addAttribute(this.staticBuffer, f.attribute, t.UNSIGNED_BYTE, !0, 4 * this.staticStride, 4 * f.offset) : this.vao.addAttribute(this.staticBuffer, f.attribute, t.FLOAT, !1, 4 * this.staticStride, 4 * f.offset) } }, t.prototype.uploadDynamic = function(t, e, i) { for (var n = 0; n < this.dynamicProperties.length; n++) { var r = this.dynamicProperties[n];
                                    r.uploadFunction(t, e, i, r.unsignedByte ? this.dynamicDataUint32 : this.dynamicData, this.dynamicStride, r.offset) } this.dynamicBuffer.upload() }, t.prototype.uploadStatic = function(t, e, i) { for (var n = 0; n < this.staticProperties.length; n++) { var r = this.staticProperties[n];
                                    r.uploadFunction(t, e, i, r.unsignedByte ? this.staticDataUint32 : this.staticData, this.staticStride, r.offset) } this.staticBuffer.upload() }, t.prototype.destroy = function() { this.dynamicProperties = null, this.dynamicBuffer.destroy(), this.dynamicBuffer = null, this.dynamicData = null, this.dynamicDataUint32 = null, this.staticProperties = null, this.staticBuffer.destroy(), this.staticBuffer = null, this.staticData = null, this.staticDataUint32 = null }, t }();
                    i["default"] = l }, { "../../core/utils/createIndicesForQuads": 123, "pixi-gl-core": 15 }],
                176: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function a(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function s(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0; var h = t("../../core"),
                        l = r(h),
                        u = t("./ParticleShader"),
                        c = n(u),
                        d = t("./ParticleBuffer"),
                        p = n(d),
                        f = t("../../core/utils"),
                        m = function(t) {
                            function e(i) { o(this, e); var n = a(this, t.call(this, i)); return n.shader = null, n.indexBuffer = null, n.properties = null, n.tempMatrix = new l.Matrix, n.CONTEXT_UID = 0, n } return s(e, t), e.prototype.onContextChange = function() { var t = this.renderer.gl;
                                this.CONTEXT_UID = this.renderer.CONTEXT_UID, this.shader = new c["default"](t), this.properties = [{ attribute: this.shader.attributes.aVertexPosition, size: 2, uploadFunction: this.uploadVertices, offset: 0 }, { attribute: this.shader.attributes.aPositionCoord, size: 2, uploadFunction: this.uploadPosition, offset: 0 }, { attribute: this.shader.attributes.aRotation, size: 1, uploadFunction: this.uploadRotation, offset: 0 }, { attribute: this.shader.attributes.aTextureCoord, size: 2, uploadFunction: this.uploadUvs, offset: 0 }, { attribute: this.shader.attributes.aColor, size: 1, unsignedByte: !0, uploadFunction: this.uploadTint, offset: 0 }] }, e.prototype.start = function() { this.renderer.bindShader(this.shader) }, e.prototype.render = function(t) { var e = t.children,
                                    i = t._maxSize,
                                    n = t._batchSize,
                                    r = this.renderer,
                                    o = e.length; if (0 !== o) { o > i && (o = i); var a = t._glBuffers[r.CONTEXT_UID];
                                    a || (a = t._glBuffers[r.CONTEXT_UID] = this.generateBuffers(t)); var s = e[0]._texture.baseTexture;
                                    this.renderer.setBlendMode(l.utils.correctBlendMode(t.blendMode, s.premultipliedAlpha)); var h = r.gl,
                                        u = t.worldTransform.copy(this.tempMatrix);
                                    u.prepend(r._activeRenderTarget.projectionMatrix), this.shader.uniforms.projectionMatrix = u.toArray(!0), this.shader.uniforms.uColor = l.utils.premultiplyRgba(t.tintRgb, t.worldAlpha, this.shader.uniforms.uColor, s.premultipliedAlpha), this.shader.uniforms.uSampler = r.bindTexture(s); for (var c = !1, d = 0, p = 0; d < o; d += n, p += 1) { var f = o - d; if (f > n && (f = n), p >= a.length) { if (!t.autoResize) break;
                                            a.push(this._generateOneMoreBuffer(t)) } var m = a[p];
                                        m.uploadDynamic(e, d, f); var g = t._bufferUpdateIDs[d] || 0;
                                        c = c || m._updateID < g, c && (m._updateID = t._updateID, m.uploadStatic(e, d, f)), r.bindVao(m.vao), m.vao.draw(h.TRIANGLES, 6 * f) } } }, e.prototype.generateBuffers = function(t) { for (var e = this.renderer.gl, i = [], n = t._maxSize, r = t._batchSize, o = t._properties, a = 0; a < n; a += r) i.push(new p["default"](e, this.properties, o, r)); return i }, e.prototype._generateOneMoreBuffer = function(t) { var e = this.renderer.gl,
                                    i = t._batchSize,
                                    n = t._properties; return new p["default"](e, this.properties, n, i) }, e.prototype.uploadVertices = function(t, e, i, n, r, o) { for (var a = 0, s = 0, h = 0, l = 0, u = 0; u < i; ++u) { var c = t[e + u],
                                        d = c._texture,
                                        p = c.scale.x,
                                        f = c.scale.y,
                                        m = d.trim,
                                        g = d.orig;
                                    m ? (s = m.x - c.anchor.x * g.width, a = s + m.width, l = m.y - c.anchor.y * g.height, h = l + m.height) : (a = g.width * (1 - c.anchor.x), s = g.width * -c.anchor.x, h = g.height * (1 - c.anchor.y), l = g.height * -c.anchor.y), n[o] = s * p, n[o + 1] = l * f, n[o + r] = a * p, n[o + r + 1] = l * f, n[o + 2 * r] = a * p, n[o + 2 * r + 1] = h * f, n[o + 3 * r] = s * p, n[o + 3 * r + 1] = h * f, o += 4 * r } }, e.prototype.uploadPosition = function(t, e, i, n, r, o) { for (var a = 0; a < i; a++) { var s = t[e + a].position;
                                    n[o] = s.x, n[o + 1] = s.y, n[o + r] = s.x, n[o + r + 1] = s.y, n[o + 2 * r] = s.x, n[o + 2 * r + 1] = s.y, n[o + 3 * r] = s.x, n[o + 3 * r + 1] = s.y, o += 4 * r } }, e.prototype.uploadRotation = function(t, e, i, n, r, o) { for (var a = 0; a < i; a++) { var s = t[e + a].rotation;
                                    n[o] = s, n[o + r] = s, n[o + 2 * r] = s, n[o + 3 * r] = s, o += 4 * r } }, e.prototype.uploadUvs = function(t, e, i, n, r, o) { for (var a = 0; a < i; ++a) { var s = t[e + a]._texture._uvs;
                                    s ? (n[o] = s.x0, n[o + 1] = s.y0, n[o + r] = s.x1, n[o + r + 1] = s.y1, n[o + 2 * r] = s.x2, n[o + 2 * r + 1] = s.y2, n[o + 3 * r] = s.x3, n[o + 3 * r + 1] = s.y3, o += 4 * r) : (n[o] = 0, n[o + 1] = 0, n[o + r] = 0, n[o + r + 1] = 0, n[o + 2 * r] = 0, n[o + 2 * r + 1] = 0, n[o + 3 * r] = 0, n[o + 3 * r + 1] = 0, o += 4 * r) } }, e.prototype.uploadTint = function(t, e, i, n, r, o) { for (var a = 0; a < i; ++a) { var s = t[e + a],
                                        h = s._texture.baseTexture.premultipliedAlpha,
                                        l = s.alpha,
                                        u = l < 1 && h ? (0, f.premultiplyTint)(s._tintRGB, l) : s._tintRGB + (255 * l << 24);
                                    n[o] = u, n[o + r] = u, n[o + 2 * r] = u, n[o + 3 * r] = u, o += 4 * r } }, e.prototype.destroy = function() { this.renderer.gl && this.renderer.gl.deleteBuffer(this.indexBuffer), t.prototype.destroy.call(this), this.shader.destroy(), this.indices = null, this.tempMatrix = null }, e }(l.ObjectRenderer);
                    i["default"] = m, l.WebGLRenderer.registerPlugin("particle", m) }, { "../../core": 65, "../../core/utils": 125, "./ParticleBuffer": 175, "./ParticleShader": 177 }],
                177: [function(t, e, i) {
                    "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } i.__esModule = !0;
                    var s = t("../../core/Shader"),
                        h = n(s),
                        l = function(t) {
                            function e(i) {
                                return r(this, e), o(this, t.call(this, i, ["attribute vec2 aVertexPosition;", "attribute vec2 aTextureCoord;", "attribute vec4 aColor;", "attribute vec2 aPositionCoord;", "attribute float aRotation;", "uniform mat3 projectionMatrix;", "uniform vec4 uColor;", "varying vec2 vTextureCoord;", "varying vec4 vColor;", "void main(void){", "   float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);", "   float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);", "   vec2 v = vec2(x, y);", "   v = v + aPositionCoord;", "   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);", "   vTextureCoord = aTextureCoord;", "   vColor = aColor * uColor;", "}"].join("\n"), ["varying vec2 vTextureCoord;", "varying vec4 vColor;", "uniform sampler2D uSampler;", "void main(void){", "  vec4 color = texture2D(uSampler, vTextureCoord) * vColor;", "  gl_FragColor = color;", "}"].join("\n")));
                            }
                            return a(e, t), e
                        }(h["default"]);
                    i["default"] = l
                }, { "../../core/Shader": 44 }],
                178: [function(t, e, i) { "use strict";
                    Math.sign || (Math.sign = function(t) { return t = Number(t), 0 === t || isNaN(t) ? t : t > 0 ? 1 : -1 }) }, {}],
                179: [function(t, e, i) { "use strict";
                    Number.isInteger || (Number.isInteger = function(t) { return "number" == typeof t && isFinite(t) && Math.floor(t) === t }) }, {}],
                180: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } } var r = t("object-assign"),
                        o = n(r);
                    Object.assign || (Object.assign = o["default"]) }, { "object-assign": 6 }],
                181: [function(t, e, i) { "use strict";
                    t("./Object.assign"), t("./requestAnimationFrame"), t("./Math.sign"), t("./Number.isInteger"), window.ArrayBuffer || (window.ArrayBuffer = Array), window.Float32Array || (window.Float32Array = Array), window.Uint32Array || (window.Uint32Array = Array), window.Uint16Array || (window.Uint16Array = Array) }, { "./Math.sign": 178, "./Number.isInteger": 179, "./Object.assign": 180, "./requestAnimationFrame": 182 }],
                182: [function(t, i, n) {
                    (function(t) { "use strict"; var e = 16; if (Date.now && Date.prototype.getTime || (Date.now = function() { return (new Date).getTime() }), !t.performance || !t.performance.now) { var i = Date.now();
                            t.performance || (t.performance = {}), t.performance.now = function() { return Date.now() - i } } for (var n = Date.now(), r = ["ms", "moz", "webkit", "o"], o = 0; o < r.length && !t.requestAnimationFrame; ++o) { var a = r[o];
                            t.requestAnimationFrame = t[a + "RequestAnimationFrame"], t.cancelAnimationFrame = t[a + "CancelAnimationFrame"] || t[a + "CancelRequestAnimationFrame"] } t.requestAnimationFrame || (t.requestAnimationFrame = function(t) { if ("function" != typeof t) throw new TypeError(t + "is not a function"); var i = Date.now(),
                                r = e + n - i; return r < 0 && (r = 0), n = i, setTimeout(function() { n = Date.now(), t(performance.now()) }, r) }), t.cancelAnimationFrame || (t.cancelAnimationFrame = function(t) { return clearTimeout(t) }) }).call(this, "undefined" != typeof e ? e : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}) }, {}],
                183: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function a(t, e) { var i = !1; if (t && t._textures && t._textures.length)
                            for (var n = 0; n < t._textures.length; n++)
                                if (t._textures[n] instanceof f.Texture) { var r = t._textures[n].baseTexture;
                                    e.indexOf(r) === -1 && (e.push(r), i = !0) } return i }

                    function s(t, e) { return t instanceof f.BaseTexture && (e.indexOf(t) === -1 && e.push(t), !0) }

                    function h(t, e) { if (t._texture && t._texture instanceof f.Texture) { var i = t._texture.baseTexture; return e.indexOf(i) === -1 && e.push(i), !0 } return !1 }

                    function l(t, e) { return e instanceof f.Text && (e.updateText(!0), !0) }

                    function u(t, e) { if (e instanceof f.TextStyle) { var i = e.toFontString(); return f.TextMetrics.measureFont(i), !0 } return !1 }

                    function c(t, e) { if (t instanceof f.Text) { e.indexOf(t.style) === -1 && e.push(t.style), e.indexOf(t) === -1 && e.push(t); var i = t._texture.baseTexture; return e.indexOf(i) === -1 && e.push(i), !0 } return !1 }

                    function d(t, e) { return t instanceof f.TextStyle && (e.indexOf(t) === -1 && e.push(t), !0) } i.__esModule = !0; var p = t("../core"),
                        f = r(p),
                        m = t("./limiters/CountLimiter"),
                        g = n(m),
                        v = f.ticker.shared;
                    f.settings.UPLOADS_PER_FRAME = 4; var y = function() {
                        function t(e) { var i = this;
                            o(this, t), this.limiter = new g["default"](f.settings.UPLOADS_PER_FRAME), this.renderer = e, this.uploadHookHelper = null, this.queue = [], this.addHooks = [], this.uploadHooks = [], this.completes = [], this.ticking = !1, this.delayedTick = function() { i.queue && i.prepareItems() }, this.registerFindHook(c), this.registerFindHook(d), this.registerFindHook(a), this.registerFindHook(s), this.registerFindHook(h), this.registerUploadHook(l), this.registerUploadHook(u) } return t.prototype.upload = function(t, e) { "function" == typeof t && (e = t, t = null), t && this.add(t), this.queue.length ? (e && this.completes.push(e), this.ticking || (this.ticking = !0, v.addOnce(this.tick, this, f.UPDATE_PRIORITY.UTILITY))) : e && e() }, t.prototype.tick = function() { setTimeout(this.delayedTick, 0) }, t.prototype.prepareItems = function() { for (this.limiter.beginFrame(); this.queue.length && this.limiter.allowedToUpload();) { var t = this.queue[0],
                                    e = !1; if (t && !t._destroyed)
                                    for (var i = 0, n = this.uploadHooks.length; i < n; i++)
                                        if (this.uploadHooks[i](this.uploadHookHelper, t)) { this.queue.shift(), e = !0; break } e || this.queue.shift() } if (this.queue.length) v.addOnce(this.tick, this, f.UPDATE_PRIORITY.UTILITY);
                            else { this.ticking = !1; var r = this.completes.slice(0);
                                this.completes.length = 0; for (var o = 0, a = r.length; o < a; o++) r[o]() } }, t.prototype.registerFindHook = function(t) { return t && this.addHooks.push(t), this }, t.prototype.registerUploadHook = function(t) { return t && this.uploadHooks.push(t), this }, t.prototype.add = function(t) { for (var e = 0, i = this.addHooks.length; e < i && !this.addHooks[e](t, this.queue); e++); if (t instanceof f.Container)
                                for (var n = t.children.length - 1; n >= 0; n--) this.add(t.children[n]); return this }, t.prototype.destroy = function() { this.ticking && v.remove(this.tick, this), this.ticking = !1, this.addHooks = null, this.uploadHooks = null, this.renderer = null, this.completes = null, this.queue = null, this.limiter = null, this.uploadHookHelper = null }, t }();
                    i["default"] = y }, { "../core": 65, "./limiters/CountLimiter": 186 }],
                184: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function a(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function s(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }

                    function h(t, e) { if (e instanceof u.BaseTexture) { var i = e.source,
                                n = 0 === i.width ? t.canvas.width : Math.min(t.canvas.width, i.width),
                                r = 0 === i.height ? t.canvas.height : Math.min(t.canvas.height, i.height); return t.ctx.drawImage(i, 0, 0, n, r, 0, 0, t.canvas.width, t.canvas.height), !0 } return !1 } i.__esModule = !0; var l = t("../../core"),
                        u = r(l),
                        c = t("../BasePrepare"),
                        d = n(c),
                        p = 16,
                        f = function(t) {
                            function e(i) { o(this, e); var n = a(this, t.call(this, i)); return n.uploadHookHelper = n, n.canvas = document.createElement("canvas"), n.canvas.width = p, n.canvas.height = p, n.ctx = n.canvas.getContext("2d"), n.registerUploadHook(h), n } return s(e, t), e.prototype.destroy = function() { t.prototype.destroy.call(this), this.ctx = null, this.canvas = null }, e }(d["default"]);
                    i["default"] = f, u.CanvasRenderer.registerPlugin("prepare", f) }, { "../../core": 65, "../BasePrepare": 183 }],
                185: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } } i.__esModule = !0; var r = t("./webgl/WebGLPrepare");
                    Object.defineProperty(i, "webgl", { enumerable: !0, get: function() { return n(r)["default"] } }); var o = t("./canvas/CanvasPrepare");
                    Object.defineProperty(i, "canvas", { enumerable: !0, get: function() { return n(o)["default"] } }); var a = t("./BasePrepare");
                    Object.defineProperty(i, "BasePrepare", { enumerable: !0, get: function() { return n(a)["default"] } }); var s = t("./limiters/CountLimiter");
                    Object.defineProperty(i, "CountLimiter", { enumerable: !0, get: function() { return n(s)["default"] } }); var h = t("./limiters/TimeLimiter");
                    Object.defineProperty(i, "TimeLimiter", { enumerable: !0, get: function() { return n(h)["default"] } }) }, { "./BasePrepare": 183, "./canvas/CanvasPrepare": 184, "./limiters/CountLimiter": 186, "./limiters/TimeLimiter": 187, "./webgl/WebGLPrepare": 188 }],
                186: [function(t, e, i) { "use strict";

                    function n(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var r = function() {
                        function t(e) { n(this, t), this.maxItemsPerFrame = e, this.itemsLeft = 0 } return t.prototype.beginFrame = function() { this.itemsLeft = this.maxItemsPerFrame }, t.prototype.allowedToUpload = function() { return this.itemsLeft-- > 0 }, t }();
                    i["default"] = r }, {}],
                187: [function(t, e, i) { "use strict";

                    function n(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } i.__esModule = !0; var r = function() {
                        function t(e) { n(this, t), this.maxMilliseconds = e, this.frameStart = 0 } return t.prototype.beginFrame = function() { this.frameStart = Date.now() }, t.prototype.allowedToUpload = function() { return Date.now() - this.frameStart < this.maxMilliseconds }, t }();
                    i["default"] = r }, {}],
                188: [function(t, e, i) { "use strict";

                    function n(t) { return t && t.__esModule ? t : { "default": t } }

                    function r(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                    function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

                    function a(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

                    function s(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
                        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }

                    function h(t, e) { return e instanceof d.BaseTexture && (e._glTextures[t.CONTEXT_UID] || t.textureManager.updateTexture(e), !0) }

                    function l(t, e) { return e instanceof d.Graphics && ((e.dirty || e.clearDirty || !e._webGL[t.plugins.graphics.CONTEXT_UID]) && t.plugins.graphics.updateGraphics(e), !0) }

                    function u(t, e) { return t instanceof d.Graphics && (e.push(t), !0) } i.__esModule = !0; var c = t("../../core"),
                        d = r(c),
                        p = t("../BasePrepare"),
                        f = n(p),
                        m = function(t) {
                            function e(i) { o(this, e); var n = a(this, t.call(this, i)); return n.uploadHookHelper = n.renderer, n.registerFindHook(u), n.registerUploadHook(h), n.registerUploadHook(l), n } return s(e, t), e }(f["default"]);
                    i["default"] = m, d.WebGLRenderer.registerPlugin("prepare", m) }, { "../../core": 65, "../BasePrepare": 183 }],
                189: [function(t, i, n) {
                    (function(e) { "use strict";

                        function i(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
                                for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

                        function r(t) { return t && t.__esModule ? t : { "default": t } } n.__esModule = !0, n.loader = n.prepare = n.particles = n.mesh = n.loaders = n.interaction = n.filters = n.extras = n.extract = n.accessibility = void 0; var o = t("./polyfill");
                        Object.keys(o).forEach(function(t) { "default" !== t && "__esModule" !== t && Object.defineProperty(n, t, { enumerable: !0, get: function() { return o[t] } }) }); var a = t("./core");
                        Object.keys(a).forEach(function(t) { "default" !== t && "__esModule" !== t && Object.defineProperty(n, t, { enumerable: !0, get: function() { return a[t] } }) }); var s = t("./deprecation"),
                            h = r(s),
                            l = t("./accessibility"),
                            u = i(l),
                            c = t("./extract"),
                            d = i(c),
                            p = t("./extras"),
                            f = i(p),
                            m = t("./filters"),
                            g = i(m),
                            v = t("./interaction"),
                            y = i(v),
                            _ = t("./loaders"),
                            b = i(_),
                            x = t("./mesh"),
                            w = i(x),
                            T = t("./particles"),
                            S = i(T),
                            M = t("./prepare"),
                            E = i(M);
                        a.utils.mixins.performMixins(); var A = b.shared || null;
                        n.accessibility = u, n.extract = d, n.extras = f, n.filters = g, n.interaction = y, n.loaders = b, n.mesh = w, n.particles = S, n.prepare = E, n.loader = A, "function" == typeof h["default"] && (0, h["default"])(n), e.PIXI = n }).call(this, "undefined" != typeof e ? e : "undefined" != typeof self ? self : "undefined" != typeof window ? window : {}) }, { "./accessibility": 42, "./core": 65, "./deprecation": 131, "./extract": 133, "./extras": 141, "./filters": 153, "./interaction": 159, "./loaders": 162, "./mesh": 171, "./particles": 174, "./polyfill": 181, "./prepare": 185 }]
            }, {}, [189])(189)
        })
    }).call(e, function() { return this }())
}, function(t, e, i) {
    var n, r, o = { REVISION: "75" };
    n = o, r = "function" == typeof n ? n.call(e, i, e, t) : n, !(void 0 !== r && (t.exports = r)), void 0 === Number.EPSILON && (Number.EPSILON = Math.pow(2, -52)), void 0 === Math.sign && (Math.sign = function(t) { return t < 0 ? -1 : t > 0 ? 1 : +t }), void 0 === Function.prototype.name && void 0 !== Object.defineProperty && Object.defineProperty(Function.prototype, "name", { get: function() { return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1] } }), void 0 === Object.assign && Object.defineProperty(Object, "assign", { writable: !0, configurable: !0, value: function(t) { "use strict"; if (void 0 === t || null === t) throw new TypeError("Cannot convert first argument to object"); for (var e = Object(t), i = 1, n = arguments.length; i !== n; ++i) { var r = arguments[i]; if (void 0 !== r && null !== r) { r = Object(r); for (var o = Object.keys(r), a = 0, s = o.length; a !== s; ++a) { var h = o[a],
                                l = Object.getOwnPropertyDescriptor(r, h);
                            void 0 !== l && l.enumerable && (e[h] = r[h]) } } } return e } }), o.MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2 }, o.CullFaceNone = 0, o.CullFaceBack = 1, o.CullFaceFront = 2, o.CullFaceFrontBack = 3, o.FrontFaceDirectionCW = 0, o.FrontFaceDirectionCCW = 1, o.BasicShadowMap = 0, o.PCFShadowMap = 1, o.PCFSoftShadowMap = 2, o.FrontSide = 0, o.BackSide = 1, o.DoubleSide = 2, o.FlatShading = 1, o.SmoothShading = 2, o.NoColors = 0, o.FaceColors = 1, o.VertexColors = 2, o.NoBlending = 0, o.NormalBlending = 1, o.AdditiveBlending = 2, o.SubtractiveBlending = 3, o.MultiplyBlending = 4, o.CustomBlending = 5, o.AddEquation = 100, o.SubtractEquation = 101, o.ReverseSubtractEquation = 102, o.MinEquation = 103, o.MaxEquation = 104, o.ZeroFactor = 200, o.OneFactor = 201, o.SrcColorFactor = 202, o.OneMinusSrcColorFactor = 203, o.SrcAlphaFactor = 204, o.OneMinusSrcAlphaFactor = 205, o.DstAlphaFactor = 206, o.OneMinusDstAlphaFactor = 207, o.DstColorFactor = 208, o.OneMinusDstColorFactor = 209, o.SrcAlphaSaturateFactor = 210, o.NeverDepth = 0, o.AlwaysDepth = 1, o.LessDepth = 2, o.LessEqualDepth = 3, o.EqualDepth = 4, o.GreaterEqualDepth = 5, o.GreaterDepth = 6, o.NotEqualDepth = 7, o.MultiplyOperation = 0, o.MixOperation = 1, o.AddOperation = 2, o.NoToneMapping = 0, o.LinearToneMapping = 1, o.ReinhardToneMapping = 2, o.Uncharted2ToneMapping = 3, o.CineonToneMapping = 4, o.UVMapping = 300, o.CubeReflectionMapping = 301, o.CubeRefractionMapping = 302, o.EquirectangularReflectionMapping = 303, o.EquirectangularRefractionMapping = 304, o.SphericalReflectionMapping = 305, o.CubeUVReflectionMapping = 306, o.CubeUVRefractionMapping = 307, o.RepeatWrapping = 1e3, o.ClampToEdgeWrapping = 1001, o.MirroredRepeatWrapping = 1002, o.NearestFilter = 1003, o.NearestMipMapNearestFilter = 1004, o.NearestMipMapLinearFilter = 1005, o.LinearFilter = 1006, o.LinearMipMapNearestFilter = 1007, o.LinearMipMapLinearFilter = 1008, o.UnsignedByteType = 1009, o.ByteType = 1010, o.ShortType = 1011, o.UnsignedShortType = 1012, o.IntType = 1013, o.UnsignedIntType = 1014, o.FloatType = 1015, o.HalfFloatType = 1025, o.UnsignedShort4444Type = 1016, o.UnsignedShort5551Type = 1017, o.UnsignedShort565Type = 1018, o.AlphaFormat = 1019, o.RGBFormat = 1020, o.RGBAFormat = 1021, o.LuminanceFormat = 1022, o.LuminanceAlphaFormat = 1023, o.RGBEFormat = o.RGBAFormat, o.RGB_S3TC_DXT1_Format = 2001, o.RGBA_S3TC_DXT1_Format = 2002, o.RGBA_S3TC_DXT3_Format = 2003, o.RGBA_S3TC_DXT5_Format = 2004, o.RGB_PVRTC_4BPPV1_Format = 2100, o.RGB_PVRTC_2BPPV1_Format = 2101, o.RGBA_PVRTC_4BPPV1_Format = 2102, o.RGBA_PVRTC_2BPPV1_Format = 2103, o.RGB_ETC1_Format = 2151, o.LoopOnce = 2200, o.LoopRepeat = 2201, o.LoopPingPong = 2202, o.InterpolateDiscrete = 2300, o.InterpolateLinear = 2301, o.InterpolateSmooth = 2302, o.ZeroCurvatureEnding = 2400, o.ZeroSlopeEnding = 2401, o.WrapAroundEnding = 2402, o.TrianglesDrawMode = 0, o.TriangleStripDrawMode = 1, o.TriangleFanDrawMode = 2, o.LinearEncoding = 3e3, o.sRGBEncoding = 3001, o.GammaEncoding = 3007, o.RGBEEncoding = 3002, o.LogLuvEncoding = 3003, o.RGBM7Encoding = 3004, o.RGBM16Encoding = 3005, o.RGBDEncoding = 3006, o.Color = function(t) { return 3 === arguments.length ? this.fromArray(arguments) : this.set(t) }, o.Color.prototype = { constructor: o.Color, r: 1, g: 1, b: 1, set: function(t) { return t instanceof o.Color ? this.copy(t) : "number" == typeof t ? this.setHex(t) : "string" == typeof t && this.setStyle(t), this }, setScalar: function(t) { this.r = t, this.g = t, this.b = t }, setHex: function(t) { return t = Math.floor(t), this.r = (t >> 16 & 255) / 255, this.g = (t >> 8 & 255) / 255, this.b = (255 & t) / 255, this }, setRGB: function(t, e, i) { return this.r = t, this.g = e, this.b = i, this }, setHSL: function() {
                function t(t, e, i) { return i < 0 && (i += 1), i > 1 && (i -= 1), i < 1 / 6 ? t + 6 * (e - t) * i : i < .5 ? e : i < 2 / 3 ? t + 6 * (e - t) * (2 / 3 - i) : t } return function(e, i, n) { if (e = o.Math.euclideanModulo(e, 1), i = o.Math.clamp(i, 0, 1), n = o.Math.clamp(n, 0, 1), 0 === i) this.r = this.g = this.b = n;
                    else { var r = n <= .5 ? n * (1 + i) : n + i - n * i,
                            a = 2 * n - r;
                        this.r = t(a, r, e + 1 / 3), this.g = t(a, r, e), this.b = t(a, r, e - 1 / 3) } return this } }(), setStyle: function(t) {
                function e(t) { void 0 !== t && parseFloat(t) < 1 } var i; if (i = /^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(t)) { var n, r = i[1],
                        a = i[2]; switch (r) {
                        case "rgb":
                        case "rgba":
                            if (n = /^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)) return this.r = Math.min(255, parseInt(n[1], 10)) / 255, this.g = Math.min(255, parseInt(n[2], 10)) / 255, this.b = Math.min(255, parseInt(n[3], 10)) / 255, e(n[5]), this; if (n = /^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)) return this.r = Math.min(100, parseInt(n[1], 10)) / 100, this.g = Math.min(100, parseInt(n[2], 10)) / 100, this.b = Math.min(100, parseInt(n[3], 10)) / 100, e(n[5]), this; break;
                        case "hsl":
                        case "hsla":
                            if (n = /^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(a)) { var s = parseFloat(n[1]) / 360,
                                    h = parseInt(n[2], 10) / 100,
                                    l = parseInt(n[3], 10) / 100; return e(n[5]), this.setHSL(s, h, l) } } } else if (i = /^\#([A-Fa-f0-9]+)$/.exec(t)) { var u = i[1],
                        c = u.length; if (3 === c) return this.r = parseInt(u.charAt(0) + u.charAt(0), 16) / 255, this.g = parseInt(u.charAt(1) + u.charAt(1), 16) / 255, this.b = parseInt(u.charAt(2) + u.charAt(2), 16) / 255, this; if (6 === c) return this.r = parseInt(u.charAt(0) + u.charAt(1), 16) / 255, this.g = parseInt(u.charAt(2) + u.charAt(3), 16) / 255, this.b = parseInt(u.charAt(4) + u.charAt(5), 16) / 255, this } if (t && t.length > 0) { var u = o.ColorKeywords[t];
                    void 0 !== u && this.setHex(u) } return this }, clone: function() { return new this.constructor(this.r, this.g, this.b) }, copy: function(t) { return this.r = t.r, this.g = t.g, this.b = t.b, this }, copyGammaToLinear: function(t, e) { return void 0 === e && (e = 2), this.r = Math.pow(t.r, e), this.g = Math.pow(t.g, e), this.b = Math.pow(t.b, e), this }, copyLinearToGamma: function(t, e) { void 0 === e && (e = 2); var i = e > 0 ? 1 / e : 1; return this.r = Math.pow(t.r, i), this.g = Math.pow(t.g, i), this.b = Math.pow(t.b, i), this }, convertGammaToLinear: function() { var t = this.r,
                    e = this.g,
                    i = this.b; return this.r = t * t, this.g = e * e, this.b = i * i, this }, convertLinearToGamma: function() { return this.r = Math.sqrt(this.r), this.g = Math.sqrt(this.g), this.b = Math.sqrt(this.b), this }, getHex: function() { return 255 * this.r << 16 ^ 255 * this.g << 8 ^ 255 * this.b << 0 }, getHexString: function() { return ("000000" + this.getHex().toString(16)).slice(-6) }, getHSL: function(t) { var e, i, n = t || { h: 0, s: 0, l: 0 },
                    r = this.r,
                    o = this.g,
                    a = this.b,
                    s = Math.max(r, o, a),
                    h = Math.min(r, o, a),
                    l = (h + s) / 2; if (h === s) e = 0, i = 0;
                else { var u = s - h; switch (i = l <= .5 ? u / (s + h) : u / (2 - s - h), s) {
                        case r:
                            e = (o - a) / u + (o < a ? 6 : 0); break;
                        case o:
                            e = (a - r) / u + 2; break;
                        case a:
                            e = (r - o) / u + 4 } e /= 6 } return n.h = e, n.s = i, n.l = l, n }, getStyle: function() { return "rgb(" + (255 * this.r | 0) + "," + (255 * this.g | 0) + "," + (255 * this.b | 0) + ")" }, offsetHSL: function(t, e, i) { var n = this.getHSL(); return n.h += t, n.s += e, n.l += i, this.setHSL(n.h, n.s, n.l), this }, add: function(t) { return this.r += t.r, this.g += t.g, this.b += t.b, this }, addColors: function(t, e) { return this.r = t.r + e.r, this.g = t.g + e.g, this.b = t.b + e.b, this }, addScalar: function(t) { return this.r += t, this.g += t, this.b += t, this }, multiply: function(t) { return this.r *= t.r, this.g *= t.g, this.b *= t.b, this }, multiplyScalar: function(t) { return this.r *= t, this.g *= t, this.b *= t, this }, lerp: function(t, e) { return this.r += (t.r - this.r) * e, this.g += (t.g - this.g) * e, this.b += (t.b - this.b) * e, this }, equals: function(t) { return t.r === this.r && t.g === this.g && t.b === this.b }, fromArray: function(t, e) { return void 0 === e && (e = 0), this.r = t[e], this.g = t[e + 1], this.b = t[e + 2], this }, toArray: function(t, e) { return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.r, t[e + 1] = this.g, t[e + 2] = this.b, t } }, o.ColorKeywords = { aliceblue: 15792383, antiquewhite: 16444375, aqua: 65535, aquamarine: 8388564, azure: 15794175, beige: 16119260, bisque: 16770244, black: 0, blanchedalmond: 16772045, blue: 255, blueviolet: 9055202, brown: 10824234, burlywood: 14596231, cadetblue: 6266528, chartreuse: 8388352, chocolate: 13789470, coral: 16744272, cornflowerblue: 6591981, cornsilk: 16775388, crimson: 14423100, cyan: 65535, darkblue: 139, darkcyan: 35723, darkgoldenrod: 12092939, darkgray: 11119017, darkgreen: 25600, darkgrey: 11119017, darkkhaki: 12433259, darkmagenta: 9109643, darkolivegreen: 5597999, darkorange: 16747520, darkorchid: 10040012, darkred: 9109504, darksalmon: 15308410, darkseagreen: 9419919, darkslateblue: 4734347, darkslategray: 3100495, darkslategrey: 3100495, darkturquoise: 52945, darkviolet: 9699539, deeppink: 16716947, deepskyblue: 49151, dimgray: 6908265, dimgrey: 6908265, dodgerblue: 2003199, firebrick: 11674146, floralwhite: 16775920, forestgreen: 2263842, fuchsia: 16711935, gainsboro: 14474460, ghostwhite: 16316671, gold: 16766720, goldenrod: 14329120, gray: 8421504, green: 32768, greenyellow: 11403055, grey: 8421504, honeydew: 15794160, hotpink: 16738740, indianred: 13458524, indigo: 4915330, ivory: 16777200, khaki: 15787660, lavender: 15132410, lavenderblush: 16773365, lawngreen: 8190976, lemonchiffon: 16775885, lightblue: 11393254, lightcoral: 15761536, lightcyan: 14745599, lightgoldenrodyellow: 16448210, lightgray: 13882323, lightgreen: 9498256, lightgrey: 13882323, lightpink: 16758465, lightsalmon: 16752762, lightseagreen: 2142890, lightskyblue: 8900346, lightslategray: 7833753, lightslategrey: 7833753, lightsteelblue: 11584734, lightyellow: 16777184, lime: 65280, limegreen: 3329330, linen: 16445670, magenta: 16711935, maroon: 8388608, mediumaquamarine: 6737322, mediumblue: 205, mediumorchid: 12211667, mediumpurple: 9662683, mediumseagreen: 3978097, mediumslateblue: 8087790, mediumspringgreen: 64154, mediumturquoise: 4772300, mediumvioletred: 13047173, midnightblue: 1644912, mintcream: 16121850, mistyrose: 16770273, moccasin: 16770229, navajowhite: 16768685, navy: 128, oldlace: 16643558, olive: 8421376, olivedrab: 7048739, orange: 16753920, orangered: 16729344, orchid: 14315734, palegoldenrod: 15657130, palegreen: 10025880, paleturquoise: 11529966, palevioletred: 14381203, papayawhip: 16773077, peachpuff: 16767673, peru: 13468991, pink: 16761035, plum: 14524637, powderblue: 11591910, purple: 8388736, red: 16711680, rosybrown: 12357519, royalblue: 4286945, saddlebrown: 9127187, salmon: 16416882, sandybrown: 16032864, seagreen: 3050327, seashell: 16774638, sienna: 10506797, silver: 12632256, skyblue: 8900331, slateblue: 6970061, slategray: 7372944, slategrey: 7372944, snow: 16775930, springgreen: 65407, steelblue: 4620980, tan: 13808780, teal: 32896, thistle: 14204888, tomato: 16737095, turquoise: 4251856, violet: 15631086, wheat: 16113331, white: 16777215, whitesmoke: 16119285, yellow: 16776960, yellowgreen: 10145074 }, o.Quaternion = function(t, e, i, n) { this._x = t || 0, this._y = e || 0, this._z = i || 0, this._w = void 0 !== n ? n : 1 }, o.Quaternion.prototype = { constructor: o.Quaternion, get x() { return this._x }, set x(t) { this._x = t, this.onChangeCallback() }, get y() { return this._y }, set y(t) { this._y = t, this.onChangeCallback() }, get z() { return this._z }, set z(t) { this._z = t, this.onChangeCallback() }, get w() { return this._w }, set w(t) { this._w = t, this.onChangeCallback() }, set: function(t, e, i, n) { return this._x = t, this._y = e, this._z = i, this._w = n, this.onChangeCallback(), this }, clone: function() { return new this.constructor(this._x, this._y, this._z, this._w) }, copy: function(t) { return this._x = t.x, this._y = t.y, this._z = t.z, this._w = t.w, this.onChangeCallback(), this }, setFromEuler: function(t, e) { if (t instanceof o.Euler == !1) throw new Error("THREE.Quaternion: .setFromEuler() now expects a Euler rotation rather than a Vector3 and order."); var i = Math.cos(t._x / 2),
                    n = Math.cos(t._y / 2),
                    r = Math.cos(t._z / 2),
                    a = Math.sin(t._x / 2),
                    s = Math.sin(t._y / 2),
                    h = Math.sin(t._z / 2),
                    l = t.order; return "XYZ" === l ? (this._x = a * n * r + i * s * h, this._y = i * s * r - a * n * h, this._z = i * n * h + a * s * r, this._w = i * n * r - a * s * h) : "YXZ" === l ? (this._x = a * n * r + i * s * h, this._y = i * s * r - a * n * h, this._z = i * n * h - a * s * r, this._w = i * n * r + a * s * h) : "ZXY" === l ? (this._x = a * n * r - i * s * h, this._y = i * s * r + a * n * h, this._z = i * n * h + a * s * r, this._w = i * n * r - a * s * h) : "ZYX" === l ? (this._x = a * n * r - i * s * h, this._y = i * s * r + a * n * h, this._z = i * n * h - a * s * r, this._w = i * n * r + a * s * h) : "YZX" === l ? (this._x = a * n * r + i * s * h, this._y = i * s * r + a * n * h, this._z = i * n * h - a * s * r, this._w = i * n * r - a * s * h) : "XZY" === l && (this._x = a * n * r - i * s * h, this._y = i * s * r - a * n * h, this._z = i * n * h + a * s * r, this._w = i * n * r + a * s * h), e !== !1 && this.onChangeCallback(), this }, setFromAxisAngle: function(t, e) { var i = e / 2,
                    n = Math.sin(i); return this._x = t.x * n, this._y = t.y * n, this._z = t.z * n, this._w = Math.cos(i), this.onChangeCallback(), this }, setFromRotationMatrix: function(t) { var e, i = t.elements,
                    n = i[0],
                    r = i[4],
                    o = i[8],
                    a = i[1],
                    s = i[5],
                    h = i[9],
                    l = i[2],
                    u = i[6],
                    c = i[10],
                    d = n + s + c; return d > 0 ? (e = .5 / Math.sqrt(d + 1), this._w = .25 / e, this._x = (u - h) * e, this._y = (o - l) * e, this._z = (a - r) * e) : n > s && n > c ? (e = 2 * Math.sqrt(1 + n - s - c), this._w = (u - h) / e, this._x = .25 * e, this._y = (r + a) / e, this._z = (o + l) / e) : s > c ? (e = 2 * Math.sqrt(1 + s - n - c), this._w = (o - l) / e, this._x = (r + a) / e, this._y = .25 * e, this._z = (h + u) / e) : (e = 2 * Math.sqrt(1 + c - n - s), this._w = (a - r) / e, this._x = (o + l) / e, this._y = (h + u) / e, this._z = .25 * e), this.onChangeCallback(), this }, setFromUnitVectors: function() { var t, e, i = 1e-6; return function(n, r) { return void 0 === t && (t = new o.Vector3), e = n.dot(r) + 1, e < i ? (e = 0, Math.abs(n.x) > Math.abs(n.z) ? t.set(-n.y, n.x, 0) : t.set(0, -n.z, n.y)) : t.crossVectors(n, r), this._x = t.x, this._y = t.y, this._z = t.z, this._w = e, this.normalize(), this } }(), inverse: function() { return this.conjugate().normalize(), this }, conjugate: function() { return this._x *= -1, this._y *= -1, this._z *= -1, this.onChangeCallback(), this }, dot: function(t) { return this._x * t._x + this._y * t._y + this._z * t._z + this._w * t._w }, lengthSq: function() { return this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w }, length: function() { return Math.sqrt(this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w) }, normalize: function() { var t = this.length(); return 0 === t ? (this._x = 0, this._y = 0, this._z = 0, this._w = 1) : (t = 1 / t, this._x = this._x * t, this._y = this._y * t, this._z = this._z * t, this._w = this._w * t), this.onChangeCallback(), this }, multiply: function(t, e) { return void 0 !== e ? this.multiplyQuaternions(t, e) : this.multiplyQuaternions(this, t) }, multiplyQuaternions: function(t, e) { var i = t._x,
                    n = t._y,
                    r = t._z,
                    o = t._w,
                    a = e._x,
                    s = e._y,
                    h = e._z,
                    l = e._w; return this._x = i * l + o * a + n * h - r * s, this._y = n * l + o * s + r * a - i * h, this._z = r * l + o * h + i * s - n * a, this._w = o * l - i * a - n * s - r * h, this.onChangeCallback(), this }, slerp: function(t, e) { if (0 === e) return this; if (1 === e) return this.copy(t); var i = this._x,
                    n = this._y,
                    r = this._z,
                    o = this._w,
                    a = o * t._w + i * t._x + n * t._y + r * t._z; if (a < 0 ? (this._w = -t._w, this._x = -t._x, this._y = -t._y, this._z = -t._z, a = -a) : this.copy(t), a >= 1) return this._w = o, this._x = i, this._y = n, this._z = r, this; var s = Math.sqrt(1 - a * a); if (Math.abs(s) < .001) return this._w = .5 * (o + this._w), this._x = .5 * (i + this._x), this._y = .5 * (n + this._y), this._z = .5 * (r + this._z), this; var h = Math.atan2(s, a),
                    l = Math.sin((1 - e) * h) / s,
                    u = Math.sin(e * h) / s; return this._w = o * l + this._w * u, this._x = i * l + this._x * u, this._y = n * l + this._y * u, this._z = r * l + this._z * u, this.onChangeCallback(), this }, equals: function(t) { return t._x === this._x && t._y === this._y && t._z === this._z && t._w === this._w }, fromArray: function(t, e) { return void 0 === e && (e = 0), this._x = t[e], this._y = t[e + 1], this._z = t[e + 2], this._w = t[e + 3], this.onChangeCallback(), this }, toArray: function(t, e) { return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this._x, t[e + 1] = this._y, t[e + 2] = this._z, t[e + 3] = this._w, t }, onChange: function(t) { return this.onChangeCallback = t, this }, onChangeCallback: function() {} }, Object.assign(o.Quaternion, { slerp: function(t, e, i, n) { return i.copy(t).slerp(e, n) }, slerpFlat: function(t, e, i, n, r, o, a) { var s = i[n + 0],
                    h = i[n + 1],
                    l = i[n + 2],
                    u = i[n + 3],
                    c = r[o + 0],
                    d = r[o + 1],
                    p = r[o + 2],
                    f = r[o + 3]; if (u !== f || s !== c || h !== d || l !== p) { var m = 1 - a,
                        g = s * c + h * d + l * p + u * f,
                        v = g >= 0 ? 1 : -1,
                        y = 1 - g * g; if (y > Number.EPSILON) { var _ = Math.sqrt(y),
                            b = Math.atan2(_, g * v);
                        m = Math.sin(m * b) / _, a = Math.sin(a * b) / _ } var x = a * v; if (s = s * m + c * x, h = h * m + d * x, l = l * m + p * x, u = u * m + f * x, m === 1 - a) { var w = 1 / Math.sqrt(s * s + h * h + l * l + u * u);
                        s *= w, h *= w, l *= w, u *= w } } t[e] = s, t[e + 1] = h, t[e + 2] = l, t[e + 3] = u } }), o.Vector2 = function(t, e) { this.x = t || 0, this.y = e || 0 }, o.Vector2.prototype = { constructor: o.Vector2, get width() { return this.x }, set width(t) { this.x = t }, get height() { return this.y }, set height(t) { this.y = t }, set: function(t, e) { return this.x = t, this.y = e, this }, setScalar: function(t) { return this.x = t, this.y = t, this }, setX: function(t) { return this.x = t, this }, setY: function(t) { return this.y = t, this }, setComponent: function(t, e) { switch (t) {
                    case 0:
                        this.x = e; break;
                    case 1:
                        this.y = e; break;
                    default:
                        throw new Error("index is out of range: " + t) } }, getComponent: function(t) { switch (t) {
                    case 0:
                        return this.x;
                    case 1:
                        return this.y;
                    default:
                        throw new Error("index is out of range: " + t) } }, clone: function() { return new this.constructor(this.x, this.y) }, copy: function(t) { return this.x = t.x, this.y = t.y, this }, add: function(t, e) { return void 0 !== e ? this.addVectors(t, e) : (this.x += t.x, this.y += t.y, this) }, addScalar: function(t) { return this.x += t, this.y += t, this }, addVectors: function(t, e) { return this.x = t.x + e.x, this.y = t.y + e.y, this }, addScaledVector: function(t, e) { return this.x += t.x * e, this.y += t.y * e, this }, sub: function(t, e) { return void 0 !== e ? this.subVectors(t, e) : (this.x -= t.x, this.y -= t.y, this) }, subScalar: function(t) { return this.x -= t, this.y -= t, this }, subVectors: function(t, e) { return this.x = t.x - e.x, this.y = t.y - e.y, this }, multiply: function(t) { return this.x *= t.x, this.y *= t.y, this }, multiplyScalar: function(t) { return isFinite(t) ? (this.x *= t, this.y *= t) : (this.x = 0, this.y = 0), this }, divide: function(t) { return this.x /= t.x, this.y /= t.y, this }, divideScalar: function(t) { return this.multiplyScalar(1 / t) }, min: function(t) { return this.x = Math.min(this.x, t.x), this.y = Math.min(this.y, t.y), this }, max: function(t) { return this.x = Math.max(this.x, t.x), this.y = Math.max(this.y, t.y), this }, clamp: function(t, e) { return this.x = Math.max(t.x, Math.min(e.x, this.x)), this.y = Math.max(t.y, Math.min(e.y, this.y)), this }, clampScalar: function() { var t, e; return function(i, n) { return void 0 === t && (t = new o.Vector2, e = new o.Vector2), t.set(i, i), e.set(n, n), this.clamp(t, e) } }(), clampLength: function(t, e) { var i = this.length(); return this.multiplyScalar(Math.max(t, Math.min(e, i)) / i), this }, floor: function() { return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this }, ceil: function() { return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this }, round: function() { return this.x = Math.round(this.x), this.y = Math.round(this.y), this }, roundToZero: function() { return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this }, negate: function() { return this.x = -this.x, this.y = -this.y, this }, dot: function(t) { return this.x * t.x + this.y * t.y }, lengthSq: function() { return this.x * this.x + this.y * this.y }, length: function() { return Math.sqrt(this.x * this.x + this.y * this.y) }, lengthManhattan: function() { return Math.abs(this.x) + Math.abs(this.y) }, normalize: function() { return this.divideScalar(this.length()) }, angle: function() { var t = Math.atan2(this.y, this.x); return t < 0 && (t += 2 * Math.PI), t }, distanceTo: function(t) { return Math.sqrt(this.distanceToSquared(t)) }, distanceToSquared: function(t) { var e = this.x - t.x,
                    i = this.y - t.y; return e * e + i * i }, setLength: function(t) { return this.multiplyScalar(t / this.length()) }, lerp: function(t, e) { return this.x += (t.x - this.x) * e, this.y += (t.y - this.y) * e, this }, lerpVectors: function(t, e, i) { return this.subVectors(e, t).multiplyScalar(i).add(t), this }, equals: function(t) { return t.x === this.x && t.y === this.y }, fromArray: function(t, e) { return void 0 === e && (e = 0), this.x = t[e], this.y = t[e + 1], this }, toArray: function(t, e) { return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.x, t[e + 1] = this.y, t }, fromAttribute: function(t, e, i) { return void 0 === i && (i = 0), e = e * t.itemSize + i, this.x = t.array[e], this.y = t.array[e + 1], this }, rotateAround: function(t, e) { var i = Math.cos(e),
                    n = Math.sin(e),
                    r = this.x - t.x,
                    o = this.y - t.y; return this.x = r * i - o * n + t.x, this.y = r * n + o * i + t.y, this } }, o.Vector3 = function(t, e, i) { this.x = t || 0, this.y = e || 0, this.z = i || 0 }, o.Vector3.prototype = {
            constructor: o.Vector3,
            set: function(t, e, i) { return this.x = t, this.y = e, this.z = i, this },
            setScalar: function(t) { return this.x = t, this.y = t, this.z = t, this },
            setX: function(t) { return this.x = t, this },
            setY: function(t) { return this.y = t, this },
            setZ: function(t) { return this.z = t, this },
            setComponent: function(t, e) { switch (t) {
                    case 0:
                        this.x = e; break;
                    case 1:
                        this.y = e; break;
                    case 2:
                        this.z = e; break;
                    default:
                        throw new Error("index is out of range: " + t) } },
            getComponent: function(t) { switch (t) {
                    case 0:
                        return this.x;
                    case 1:
                        return this.y;
                    case 2:
                        return this.z;
                    default:
                        throw new Error("index is out of range: " + t) } },
            clone: function() { return new this.constructor(this.x, this.y, this.z) },
            copy: function(t) { return this.x = t.x, this.y = t.y, this.z = t.z, this },
            add: function(t, e) { return void 0 !== e ? this.addVectors(t, e) : (this.x += t.x, this.y += t.y, this.z += t.z, this) },
            addScalar: function(t) { return this.x += t, this.y += t, this.z += t, this },
            addVectors: function(t, e) { return this.x = t.x + e.x, this.y = t.y + e.y, this.z = t.z + e.z, this },
            addScaledVector: function(t, e) {
                return this.x += t.x * e,
                    this.y += t.y * e, this.z += t.z * e, this
            },
            sub: function(t, e) { return void 0 !== e ? this.subVectors(t, e) : (this.x -= t.x, this.y -= t.y, this.z -= t.z, this) },
            subScalar: function(t) { return this.x -= t, this.y -= t, this.z -= t, this },
            subVectors: function(t, e) { return this.x = t.x - e.x, this.y = t.y - e.y, this.z = t.z - e.z, this },
            multiply: function(t, e) { return void 0 !== e ? this.multiplyVectors(t, e) : (this.x *= t.x, this.y *= t.y, this.z *= t.z, this) },
            multiplyScalar: function(t) { return isFinite(t) ? (this.x *= t, this.y *= t, this.z *= t) : (this.x = 0, this.y = 0, this.z = 0), this },
            multiplyVectors: function(t, e) { return this.x = t.x * e.x, this.y = t.y * e.y, this.z = t.z * e.z, this },
            applyEuler: function() { var t; return function(e) { return e instanceof o.Euler == !1, void 0 === t && (t = new o.Quaternion), this.applyQuaternion(t.setFromEuler(e)), this } }(),
            applyAxisAngle: function() { var t; return function(e, i) { return void 0 === t && (t = new o.Quaternion), this.applyQuaternion(t.setFromAxisAngle(e, i)), this } }(),
            applyMatrix3: function(t) { var e = this.x,
                    i = this.y,
                    n = this.z,
                    r = t.elements; return this.x = r[0] * e + r[3] * i + r[6] * n, this.y = r[1] * e + r[4] * i + r[7] * n, this.z = r[2] * e + r[5] * i + r[8] * n, this },
            applyMatrix4: function(t) { var e = this.x,
                    i = this.y,
                    n = this.z,
                    r = t.elements; return this.x = r[0] * e + r[4] * i + r[8] * n + r[12], this.y = r[1] * e + r[5] * i + r[9] * n + r[13], this.z = r[2] * e + r[6] * i + r[10] * n + r[14], this },
            applyProjection: function(t) { var e = this.x,
                    i = this.y,
                    n = this.z,
                    r = t.elements,
                    o = 1 / (r[3] * e + r[7] * i + r[11] * n + r[15]); return this.x = (r[0] * e + r[4] * i + r[8] * n + r[12]) * o, this.y = (r[1] * e + r[5] * i + r[9] * n + r[13]) * o, this.z = (r[2] * e + r[6] * i + r[10] * n + r[14]) * o, this },
            applyQuaternion: function(t) { var e = this.x,
                    i = this.y,
                    n = this.z,
                    r = t.x,
                    o = t.y,
                    a = t.z,
                    s = t.w,
                    h = s * e + o * n - a * i,
                    l = s * i + a * e - r * n,
                    u = s * n + r * i - o * e,
                    c = -r * e - o * i - a * n; return this.x = h * s + c * -r + l * -a - u * -o, this.y = l * s + c * -o + u * -r - h * -a, this.z = u * s + c * -a + h * -o - l * -r, this },
            project: function() { var t; return function(e) { return void 0 === t && (t = new o.Matrix4), t.multiplyMatrices(e.projectionMatrix, t.getInverse(e.matrixWorld)), this.applyProjection(t) } }(),
            unproject: function() { var t; return function(e) { return void 0 === t && (t = new o.Matrix4), t.multiplyMatrices(e.matrixWorld, t.getInverse(e.projectionMatrix)), this.applyProjection(t) } }(),
            transformDirection: function(t) { var e = this.x,
                    i = this.y,
                    n = this.z,
                    r = t.elements; return this.x = r[0] * e + r[4] * i + r[8] * n, this.y = r[1] * e + r[5] * i + r[9] * n, this.z = r[2] * e + r[6] * i + r[10] * n, this.normalize(), this },
            divide: function(t) { return this.x /= t.x, this.y /= t.y, this.z /= t.z, this },
            divideScalar: function(t) { return this.multiplyScalar(1 / t) },
            min: function(t) { return this.x = Math.min(this.x, t.x), this.y = Math.min(this.y, t.y), this.z = Math.min(this.z, t.z), this },
            max: function(t) { return this.x = Math.max(this.x, t.x), this.y = Math.max(this.y, t.y), this.z = Math.max(this.z, t.z), this },
            clamp: function(t, e) { return this.x = Math.max(t.x, Math.min(e.x, this.x)), this.y = Math.max(t.y, Math.min(e.y, this.y)), this.z = Math.max(t.z, Math.min(e.z, this.z)), this },
            clampScalar: function() { var t, e; return function(i, n) { return void 0 === t && (t = new o.Vector3, e = new o.Vector3), t.set(i, i, i), e.set(n, n, n), this.clamp(t, e) } }(),
            clampLength: function(t, e) { var i = this.length(); return this.multiplyScalar(Math.max(t, Math.min(e, i)) / i), this },
            floor: function() { return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this.z = Math.floor(this.z), this },
            ceil: function() { return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this.z = Math.ceil(this.z), this },
            round: function() { return this.x = Math.round(this.x), this.y = Math.round(this.y), this.z = Math.round(this.z), this },
            roundToZero: function() { return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z), this },
            negate: function() { return this.x = -this.x, this.y = -this.y, this.z = -this.z, this },
            dot: function(t) { return this.x * t.x + this.y * t.y + this.z * t.z },
            lengthSq: function() { return this.x * this.x + this.y * this.y + this.z * this.z },
            length: function() { return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z) },
            lengthManhattan: function() { return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) },
            normalize: function() { return this.divideScalar(this.length()) },
            setLength: function(t) { return this.multiplyScalar(t / this.length()) },
            lerp: function(t, e) { return this.x += (t.x - this.x) * e, this.y += (t.y - this.y) * e, this.z += (t.z - this.z) * e, this },
            lerpVectors: function(t, e, i) { return this.subVectors(e, t).multiplyScalar(i).add(t), this },
            cross: function(t, e) { if (void 0 !== e) return this.crossVectors(t, e); var i = this.x,
                    n = this.y,
                    r = this.z; return this.x = n * t.z - r * t.y, this.y = r * t.x - i * t.z, this.z = i * t.y - n * t.x, this },
            crossVectors: function(t, e) { var i = t.x,
                    n = t.y,
                    r = t.z,
                    o = e.x,
                    a = e.y,
                    s = e.z; return this.x = n * s - r * a, this.y = r * o - i * s, this.z = i * a - n * o, this },
            projectOnVector: function() { var t, e; return function(i) { return void 0 === t && (t = new o.Vector3), t.copy(i).normalize(), e = this.dot(t), this.copy(t).multiplyScalar(e) } }(),
            projectOnPlane: function() { var t; return function(e) { return void 0 === t && (t = new o.Vector3), t.copy(this).projectOnVector(e), this.sub(t) } }(),
            reflect: function() { var t; return function(e) { return void 0 === t && (t = new o.Vector3), this.sub(t.copy(e).multiplyScalar(2 * this.dot(e))) } }(),
            angleTo: function(t) { var e = this.dot(t) / Math.sqrt(this.lengthSq() * t.lengthSq()); return Math.acos(o.Math.clamp(e, -1, 1)) },
            distanceTo: function(t) { return Math.sqrt(this.distanceToSquared(t)) },
            distanceToSquared: function(t) { var e = this.x - t.x,
                    i = this.y - t.y,
                    n = this.z - t.z; return e * e + i * i + n * n },
            setFromSpherical: function(t) { var e = Math.sin(t.phi) * t.radius; return this.x = e * Math.sin(t.theta), this.y = Math.cos(t.phi) * t.radius, this.z = e * Math.cos(t.theta), this },
            setFromMatrixPosition: function(t) { return this.setFromMatrixColumn(t, 3) },
            setFromMatrixScale: function(t) { var e = this.setFromMatrixColumn(t, 0).length(),
                    i = this.setFromMatrixColumn(t, 1).length(),
                    n = this.setFromMatrixColumn(t, 2).length(); return this.x = e, this.y = i, this.z = n, this },
            setFromMatrixColumn: function(t, e) { return "number" == typeof t && (t = arguments[1], e = arguments[0]), this.fromArray(t.elements, 4 * e) },
            equals: function(t) { return t.x === this.x && t.y === this.y && t.z === this.z },
            fromArray: function(t, e) { return void 0 === e && (e = 0), this.x = t[e], this.y = t[e + 1], this.z = t[e + 2], this },
            toArray: function(t, e) { return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.x, t[e + 1] = this.y, t[e + 2] = this.z, t },
            fromAttribute: function(t, e, i) { return void 0 === i && (i = 0), e = e * t.itemSize + i, this.x = t.array[e], this.y = t.array[e + 1], this.z = t.array[e + 2], this }
        }, o.Vector4 = function(t, e, i, n) { this.x = t || 0, this.y = e || 0, this.z = i || 0, this.w = void 0 !== n ? n : 1 }, o.Vector4.prototype = { constructor: o.Vector4, set: function(t, e, i, n) { return this.x = t, this.y = e, this.z = i, this.w = n, this }, setScalar: function(t) { return this.x = t, this.y = t, this.z = t, this.w = t, this }, setX: function(t) { return this.x = t, this }, setY: function(t) { return this.y = t, this }, setZ: function(t) { return this.z = t, this }, setW: function(t) { return this.w = t, this }, setComponent: function(t, e) { switch (t) {
                    case 0:
                        this.x = e; break;
                    case 1:
                        this.y = e; break;
                    case 2:
                        this.z = e; break;
                    case 3:
                        this.w = e; break;
                    default:
                        throw new Error("index is out of range: " + t) } }, getComponent: function(t) { switch (t) {
                    case 0:
                        return this.x;
                    case 1:
                        return this.y;
                    case 2:
                        return this.z;
                    case 3:
                        return this.w;
                    default:
                        throw new Error("index is out of range: " + t) } }, clone: function() { return new this.constructor(this.x, this.y, this.z, this.w) }, copy: function(t) { return this.x = t.x, this.y = t.y, this.z = t.z, this.w = void 0 !== t.w ? t.w : 1, this }, add: function(t, e) { return void 0 !== e ? this.addVectors(t, e) : (this.x += t.x, this.y += t.y, this.z += t.z, this.w += t.w, this) }, addScalar: function(t) { return this.x += t, this.y += t, this.z += t, this.w += t, this }, addVectors: function(t, e) { return this.x = t.x + e.x, this.y = t.y + e.y, this.z = t.z + e.z, this.w = t.w + e.w, this }, addScaledVector: function(t, e) { return this.x += t.x * e, this.y += t.y * e, this.z += t.z * e, this.w += t.w * e, this }, sub: function(t, e) { return void 0 !== e ? this.subVectors(t, e) : (this.x -= t.x, this.y -= t.y, this.z -= t.z, this.w -= t.w, this) }, subScalar: function(t) { return this.x -= t, this.y -= t, this.z -= t, this.w -= t, this }, subVectors: function(t, e) { return this.x = t.x - e.x, this.y = t.y - e.y, this.z = t.z - e.z, this.w = t.w - e.w, this }, multiplyScalar: function(t) { return isFinite(t) ? (this.x *= t, this.y *= t, this.z *= t, this.w *= t) : (this.x = 0, this.y = 0, this.z = 0, this.w = 0), this }, applyMatrix4: function(t) { var e = this.x,
                    i = this.y,
                    n = this.z,
                    r = this.w,
                    o = t.elements; return this.x = o[0] * e + o[4] * i + o[8] * n + o[12] * r, this.y = o[1] * e + o[5] * i + o[9] * n + o[13] * r, this.z = o[2] * e + o[6] * i + o[10] * n + o[14] * r, this.w = o[3] * e + o[7] * i + o[11] * n + o[15] * r, this }, divideScalar: function(t) { return this.multiplyScalar(1 / t) }, setAxisAngleFromQuaternion: function(t) { this.w = 2 * Math.acos(t.w); var e = Math.sqrt(1 - t.w * t.w); return e < 1e-4 ? (this.x = 1, this.y = 0, this.z = 0) : (this.x = t.x / e, this.y = t.y / e, this.z = t.z / e), this }, setAxisAngleFromRotationMatrix: function(t) { var e, i, n, r, o = .01,
                    a = .1,
                    s = t.elements,
                    h = s[0],
                    l = s[4],
                    u = s[8],
                    c = s[1],
                    d = s[5],
                    p = s[9],
                    f = s[2],
                    m = s[6],
                    g = s[10]; if (Math.abs(l - c) < o && Math.abs(u - f) < o && Math.abs(p - m) < o) { if (Math.abs(l + c) < a && Math.abs(u + f) < a && Math.abs(p + m) < a && Math.abs(h + d + g - 3) < a) return this.set(1, 0, 0, 0), this;
                    e = Math.PI; var v = (h + 1) / 2,
                        y = (d + 1) / 2,
                        _ = (g + 1) / 2,
                        b = (l + c) / 4,
                        x = (u + f) / 4,
                        w = (p + m) / 4; return v > y && v > _ ? v < o ? (i = 0, n = .707106781, r = .707106781) : (i = Math.sqrt(v), n = b / i, r = x / i) : y > _ ? y < o ? (i = .707106781, n = 0, r = .707106781) : (n = Math.sqrt(y), i = b / n, r = w / n) : _ < o ? (i = .707106781, n = .707106781, r = 0) : (r = Math.sqrt(_), i = x / r, n = w / r), this.set(i, n, r, e), this } var T = Math.sqrt((m - p) * (m - p) + (u - f) * (u - f) + (c - l) * (c - l)); return Math.abs(T) < .001 && (T = 1), this.x = (m - p) / T, this.y = (u - f) / T, this.z = (c - l) / T, this.w = Math.acos((h + d + g - 1) / 2), this }, min: function(t) { return this.x = Math.min(this.x, t.x), this.y = Math.min(this.y, t.y), this.z = Math.min(this.z, t.z), this.w = Math.min(this.w, t.w), this }, max: function(t) { return this.x = Math.max(this.x, t.x), this.y = Math.max(this.y, t.y), this.z = Math.max(this.z, t.z), this.w = Math.max(this.w, t.w), this }, clamp: function(t, e) { return this.x = Math.max(t.x, Math.min(e.x, this.x)), this.y = Math.max(t.y, Math.min(e.y, this.y)), this.z = Math.max(t.z, Math.min(e.z, this.z)), this.w = Math.max(t.w, Math.min(e.w, this.w)), this }, clampScalar: function() { var t, e; return function(i, n) { return void 0 === t && (t = new o.Vector4, e = new o.Vector4), t.set(i, i, i, i), e.set(n, n, n, n), this.clamp(t, e) } }(), floor: function() { return this.x = Math.floor(this.x), this.y = Math.floor(this.y), this.z = Math.floor(this.z), this.w = Math.floor(this.w), this }, ceil: function() { return this.x = Math.ceil(this.x), this.y = Math.ceil(this.y), this.z = Math.ceil(this.z), this.w = Math.ceil(this.w), this }, round: function() { return this.x = Math.round(this.x), this.y = Math.round(this.y), this.z = Math.round(this.z), this.w = Math.round(this.w), this }, roundToZero: function() { return this.x = this.x < 0 ? Math.ceil(this.x) : Math.floor(this.x), this.y = this.y < 0 ? Math.ceil(this.y) : Math.floor(this.y), this.z = this.z < 0 ? Math.ceil(this.z) : Math.floor(this.z), this.w = this.w < 0 ? Math.ceil(this.w) : Math.floor(this.w), this }, negate: function() { return this.x = -this.x, this.y = -this.y, this.z = -this.z, this.w = -this.w, this }, dot: function(t) { return this.x * t.x + this.y * t.y + this.z * t.z + this.w * t.w }, lengthSq: function() { return this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w }, length: function() { return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w) }, lengthManhattan: function() { return Math.abs(this.x) + Math.abs(this.y) + Math.abs(this.z) + Math.abs(this.w) }, normalize: function() { return this.divideScalar(this.length()) }, setLength: function(t) { return this.multiplyScalar(t / this.length()) }, lerp: function(t, e) { return this.x += (t.x - this.x) * e, this.y += (t.y - this.y) * e, this.z += (t.z - this.z) * e, this.w += (t.w - this.w) * e, this }, lerpVectors: function(t, e, i) { return this.subVectors(e, t).multiplyScalar(i).add(t), this }, equals: function(t) { return t.x === this.x && t.y === this.y && t.z === this.z && t.w === this.w }, fromArray: function(t, e) { return void 0 === e && (e = 0), this.x = t[e], this.y = t[e + 1], this.z = t[e + 2], this.w = t[e + 3], this }, toArray: function(t, e) { return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this.x, t[e + 1] = this.y, t[e + 2] = this.z, t[e + 3] = this.w, t }, fromAttribute: function(t, e, i) { return void 0 === i && (i = 0), e = e * t.itemSize + i, this.x = t.array[e], this.y = t.array[e + 1], this.z = t.array[e + 2], this.w = t.array[e + 3], this } }, o.Euler = function(t, e, i, n) { this._x = t || 0, this._y = e || 0, this._z = i || 0, this._order = n || o.Euler.DefaultOrder }, o.Euler.RotationOrders = ["XYZ", "YZX", "ZXY", "XZY", "YXZ", "ZYX"], o.Euler.DefaultOrder = "XYZ", o.Euler.prototype = { constructor: o.Euler, get x() { return this._x }, set x(t) { this._x = t, this.onChangeCallback() }, get y() { return this._y }, set y(t) { this._y = t, this.onChangeCallback() }, get z() { return this._z }, set z(t) { this._z = t, this.onChangeCallback() }, get order() { return this._order }, set order(t) { this._order = t, this.onChangeCallback() }, set: function(t, e, i, n) { return this._x = t, this._y = e, this._z = i, this._order = n || this._order, this.onChangeCallback(), this }, clone: function() { return new this.constructor(this._x, this._y, this._z, this._order) }, copy: function(t) { return this._x = t._x, this._y = t._y, this._z = t._z, this._order = t._order, this.onChangeCallback(), this }, setFromRotationMatrix: function(t, e, i) { var n = o.Math.clamp,
                    r = t.elements,
                    a = r[0],
                    s = r[4],
                    h = r[8],
                    l = r[1],
                    u = r[5],
                    c = r[9],
                    d = r[2],
                    p = r[6],
                    f = r[10]; return e = e || this._order, "XYZ" === e ? (this._y = Math.asin(n(h, -1, 1)), Math.abs(h) < .99999 ? (this._x = Math.atan2(-c, f), this._z = Math.atan2(-s, a)) : (this._x = Math.atan2(p, u), this._z = 0)) : "YXZ" === e ? (this._x = Math.asin(-n(c, -1, 1)), Math.abs(c) < .99999 ? (this._y = Math.atan2(h, f), this._z = Math.atan2(l, u)) : (this._y = Math.atan2(-d, a), this._z = 0)) : "ZXY" === e ? (this._x = Math.asin(n(p, -1, 1)), Math.abs(p) < .99999 ? (this._y = Math.atan2(-d, f), this._z = Math.atan2(-s, u)) : (this._y = 0, this._z = Math.atan2(l, a))) : "ZYX" === e ? (this._y = Math.asin(-n(d, -1, 1)), Math.abs(d) < .99999 ? (this._x = Math.atan2(p, f), this._z = Math.atan2(l, a)) : (this._x = 0, this._z = Math.atan2(-s, u))) : "YZX" === e ? (this._z = Math.asin(n(l, -1, 1)), Math.abs(l) < .99999 ? (this._x = Math.atan2(-c, u), this._y = Math.atan2(-d, a)) : (this._x = 0, this._y = Math.atan2(h, f))) : "XZY" === e && (this._z = Math.asin(-n(s, -1, 1)), Math.abs(s) < .99999 ? (this._x = Math.atan2(p, u), this._y = Math.atan2(h, a)) : (this._x = Math.atan2(-c, f), this._y = 0)), this._order = e, i !== !1 && this.onChangeCallback(), this }, setFromQuaternion: function() { var t; return function(e, i, n) { return void 0 === t && (t = new o.Matrix4), t.makeRotationFromQuaternion(e), this.setFromRotationMatrix(t, i, n), this } }(), setFromVector3: function(t, e) { return this.set(t.x, t.y, t.z, e || this._order) }, reorder: function() { var t = new o.Quaternion; return function(e) { t.setFromEuler(this), this.setFromQuaternion(t, e) } }(), equals: function(t) { return t._x === this._x && t._y === this._y && t._z === this._z && t._order === this._order }, fromArray: function(t) { return this._x = t[0], this._y = t[1], this._z = t[2], void 0 !== t[3] && (this._order = t[3]), this.onChangeCallback(), this }, toArray: function(t, e) { return void 0 === t && (t = []), void 0 === e && (e = 0), t[e] = this._x, t[e + 1] = this._y, t[e + 2] = this._z, t[e + 3] = this._order, t }, toVector3: function(t) { return t ? t.set(this._x, this._y, this._z) : new o.Vector3(this._x, this._y, this._z) }, onChange: function(t) { return this.onChangeCallback = t, this }, onChangeCallback: function() {} }, o.Line3 = function(t, e) { this.start = void 0 !== t ? t : new o.Vector3, this.end = void 0 !== e ? e : new o.Vector3 }, o.Line3.prototype = { constructor: o.Line3, set: function(t, e) { return this.start.copy(t), this.end.copy(e), this }, clone: function() { return (new this.constructor).copy(this) }, copy: function(t) { return this.start.copy(t.start), this.end.copy(t.end), this }, center: function(t) { var e = t || new o.Vector3; return e.addVectors(this.start, this.end).multiplyScalar(.5) }, delta: function(t) { var e = t || new o.Vector3; return e.subVectors(this.end, this.start) }, distanceSq: function() { return this.start.distanceToSquared(this.end) }, distance: function() { return this.start.distanceTo(this.end) }, at: function(t, e) { var i = e || new o.Vector3; return this.delta(i).multiplyScalar(t).add(this.start) }, closestPointToPointParameter: function() { var t = new o.Vector3,
                    e = new o.Vector3; return function(i, n) { t.subVectors(i, this.start), e.subVectors(this.end, this.start); var r = e.dot(e),
                        a = e.dot(t),
                        s = a / r; return n && (s = o.Math.clamp(s, 0, 1)), s } }(), closestPointToPoint: function(t, e, i) { var n = this.closestPointToPointParameter(t, e),
                    r = i || new o.Vector3; return this.delta(r).multiplyScalar(n).add(this.start) }, applyMatrix4: function(t) { return this.start.applyMatrix4(t), this.end.applyMatrix4(t), this }, equals: function(t) { return t.start.equals(this.start) && t.end.equals(this.end) } }, o.Box2 = function(t, e) { this.min = void 0 !== t ? t : new o.Vector2((+(1 / 0)), (+(1 / 0))), this.max = void 0 !== e ? e : new o.Vector2((-(1 / 0)), (-(1 / 0))) }, o.Box2.prototype = { constructor: o.Box2, set: function(t, e) { return this.min.copy(t), this.max.copy(e), this }, setFromPoints: function(t) { this.makeEmpty(); for (var e = 0, i = t.length; e < i; e++) this.expandByPoint(t[e]); return this }, setFromCenterAndSize: function() { var t = new o.Vector2; return function(e, i) { var n = t.copy(i).multiplyScalar(.5); return this.min.copy(e).sub(n), this.max.copy(e).add(n), this } }(), clone: function() { return (new this.constructor).copy(this) }, copy: function(t) { return this.min.copy(t.min), this.max.copy(t.max), this }, makeEmpty: function() { return this.min.x = this.min.y = +(1 / 0), this.max.x = this.max.y = -(1 / 0), this }, isEmpty: function() { return this.max.x < this.min.x || this.max.y < this.min.y }, center: function(t) { var e = t || new o.Vector2; return e.addVectors(this.min, this.max).multiplyScalar(.5) }, size: function(t) { var e = t || new o.Vector2; return e.subVectors(this.max, this.min) }, expandByPoint: function(t) { return this.min.min(t), this.max.max(t), this }, expandByVector: function(t) { return this.min.sub(t), this.max.add(t), this }, expandByScalar: function(t) { return this.min.addScalar(-t), this.max.addScalar(t), this }, containsPoint: function(t) { return !(t.x < this.min.x || t.x > this.max.x || t.y < this.min.y || t.y > this.max.y) }, containsBox: function(t) { return this.min.x <= t.min.x && t.max.x <= this.max.x && this.min.y <= t.min.y && t.max.y <= this.max.y }, getParameter: function(t, e) { var i = e || new o.Vector2; return i.set((t.x - this.min.x) / (this.max.x - this.min.x), (t.y - this.min.y) / (this.max.y - this.min.y)) }, intersectsBox: function(t) { return !(t.max.x < this.min.x || t.min.x > this.max.x || t.max.y < this.min.y || t.min.y > this.max.y) }, clampPoint: function(t, e) { var i = e || new o.Vector2; return i.copy(t).clamp(this.min, this.max) }, distanceToPoint: function() { var t = new o.Vector2; return function(e) { var i = t.copy(e).clamp(this.min, this.max); return i.sub(e).length() } }(), intersect: function(t) { return this.min.max(t.min), this.max.min(t.max), this }, union: function(t) { return this.min.min(t.min), this.max.max(t.max), this }, translate: function(t) { return this.min.add(t), this.max.add(t), this }, equals: function(t) { return t.min.equals(this.min) && t.max.equals(this.max) } }, o.Box3 = function(t, e) { this.min = void 0 !== t ? t : new o.Vector3((+(1 / 0)), (+(1 / 0)), (+(1 / 0))), this.max = void 0 !== e ? e : new o.Vector3((-(1 / 0)), (-(1 / 0)), (-(1 / 0))) }, o.Box3.prototype = { constructor: o.Box3, set: function(t, e) { return this.min.copy(t), this.max.copy(e), this }, setFromArray: function(t) { this.makeEmpty(); for (var e = +(1 / 0), i = +(1 / 0), n = +(1 / 0), r = -(1 / 0), o = -(1 / 0), a = -(1 / 0), s = 0, h = t.length; s < h; s += 3) { var l = t[s],
                        u = t[s + 1],
                        c = t[s + 2];
                    l < e && (e = l), u < i && (i = u), c < n && (n = c), l > r && (r = l), u > o && (o = u), c > a && (a = c) } this.min.set(e, i, n), this.max.set(r, o, a) }, setFromPoints: function(t) { this.makeEmpty(); for (var e = 0, i = t.length; e < i; e++) this.expandByPoint(t[e]); return this }, setFromCenterAndSize: function() { var t = new o.Vector3; return function(e, i) { var n = t.copy(i).multiplyScalar(.5); return this.min.copy(e).sub(n), this.max.copy(e).add(n), this } }(), setFromObject: function() { var t; return function(e) { void 0 === t && (t = new o.Box3); var i = this; return this.makeEmpty(), e.updateMatrixWorld(!0), e.traverse(function(e) { var n = e.geometry;
                        void 0 !== n && (null === n.boundingBox && n.computeBoundingBox(), n.boundingBox.isEmpty() === !1 && (t.copy(n.boundingBox), t.applyMatrix4(e.matrixWorld), i.union(t))) }), this } }(), clone: function() { return (new this.constructor).copy(this) }, copy: function(t) { return this.min.copy(t.min), this.max.copy(t.max), this }, makeEmpty: function() { return this.min.x = this.min.y = this.min.z = +(1 / 0), this.max.x = this.max.y = this.max.z = -(1 / 0), this }, isEmpty: function() { return this.max.x < this.min.x || this.max.y < this.min.y || this.max.z < this.min.z }, center: function(t) { var e = t || new o.Vector3; return e.addVectors(this.min, this.max).multiplyScalar(.5) }, size: function(t) { var e = t || new o.Vector3; return e.subVectors(this.max, this.min) }, expandByPoint: function(t) { return this.min.min(t), this.max.max(t), this }, expandByVector: function(t) { return this.min.sub(t), this.max.add(t), this }, expandByScalar: function(t) { return this.min.addScalar(-t), this.max.addScalar(t), this }, containsPoint: function(t) { return !(t.x < this.min.x || t.x > this.max.x || t.y < this.min.y || t.y > this.max.y || t.z < this.min.z || t.z > this.max.z) }, containsBox: function(t) { return this.min.x <= t.min.x && t.max.x <= this.max.x && this.min.y <= t.min.y && t.max.y <= this.max.y && this.min.z <= t.min.z && t.max.z <= this.max.z }, getParameter: function(t, e) { var i = e || new o.Vector3; return i.set((t.x - this.min.x) / (this.max.x - this.min.x), (t.y - this.min.y) / (this.max.y - this.min.y), (t.z - this.min.z) / (this.max.z - this.min.z)) }, intersectsBox: function(t) { return !(t.max.x < this.min.x || t.min.x > this.max.x || t.max.y < this.min.y || t.min.y > this.max.y || t.max.z < this.min.z || t.min.z > this.max.z) }, intersectsSphere: function() { var t; return function(e) { return void 0 === t && (t = new o.Vector3), this.clampPoint(e.center, t), t.distanceToSquared(e.center) <= e.radius * e.radius } }(), intersectsPlane: function(t) { var e, i; return t.normal.x > 0 ? (e = t.normal.x * this.min.x, i = t.normal.x * this.max.x) : (e = t.normal.x * this.max.x, i = t.normal.x * this.min.x), t.normal.y > 0 ? (e += t.normal.y * this.min.y, i += t.normal.y * this.max.y) : (e += t.normal.y * this.max.y, i += t.normal.y * this.min.y), t.normal.z > 0 ? (e += t.normal.z * this.min.z, i += t.normal.z * this.max.z) : (e += t.normal.z * this.max.z, i += t.normal.z * this.min.z), e <= t.constant && i >= t.constant }, clampPoint: function(t, e) { var i = e || new o.Vector3; return i.copy(t).clamp(this.min, this.max) }, distanceToPoint: function() { var t = new o.Vector3; return function(e) { var i = t.copy(e).clamp(this.min, this.max); return i.sub(e).length() } }(), getBoundingSphere: function() { var t = new o.Vector3; return function(e) { var i = e || new o.Sphere; return i.center = this.center(), i.radius = .5 * this.size(t).length(), i } }(), intersect: function(t) { return this.min.max(t.min), this.max.min(t.max), this }, union: function(t) { return this.min.min(t.min), this.max.max(t.max), this }, applyMatrix4: function() { var t = [new o.Vector3, new o.Vector3, new o.Vector3, new o.Vector3, new o.Vector3, new o.Vector3, new o.Vector3, new o.Vector3]; return function(e) { return t[0].set(this.min.x, this.min.y, this.min.z).applyMatrix4(e), t[1].set(this.min.x, this.min.y, this.max.z).applyMatrix4(e), t[2].set(this.min.x, this.max.y, this.min.z).applyMatrix4(e), t[3].set(this.min.x, this.max.y, this.max.z).applyMatrix4(e), t[4].set(this.max.x, this.min.y, this.min.z).applyMatrix4(e), t[5].set(this.max.x, this.min.y, this.max.z).applyMatrix4(e), t[6].set(this.max.x, this.max.y, this.min.z).applyMatrix4(e), t[7].set(this.max.x, this.max.y, this.max.z).applyMatrix4(e), this.makeEmpty(), this.setFromPoints(t), this } }(), translate: function(t) { return this.min.add(t), this.max.add(t), this }, equals: function(t) { return t.min.equals(this.min) && t.max.equals(this.max) } }, o.Matrix3 = function() { this.elements = new Float32Array([1, 0, 0, 0, 1, 0, 0, 0, 1]), arguments.length > 0 }, o.Matrix3.prototype = { constructor: o.Matrix3, set: function(t, e, i, n, r, o, a, s, h) { var l = this.elements; return l[0] = t, l[1] = n, l[2] = a, l[3] = e, l[4] = r, l[5] = s, l[6] = i, l[7] = o, l[8] = h, this }, identity: function() { return this.set(1, 0, 0, 0, 1, 0, 0, 0, 1), this }, clone: function() { return (new this.constructor).fromArray(this.elements) }, copy: function(t) { var e = t.elements; return this.set(e[0], e[3], e[6], e[1], e[4], e[7], e[2], e[5], e[8]), this }, setFromMatrix4: function(t) { var e = t.elements; return this.set(e[0], e[4], e[8], e[1], e[5], e[9], e[2], e[6], e[10]), this }, applyToVector3Array: function() { var t; return function(e, i, n) { void 0 === t && (t = new o.Vector3), void 0 === i && (i = 0), void 0 === n && (n = e.length); for (var r = 0, a = i; r < n; r += 3, a += 3) t.fromArray(e, a), t.applyMatrix3(this), t.toArray(e, a); return e } }(), applyToBuffer: function() { var t; return function(e, i, n) { void 0 === t && (t = new o.Vector3), void 0 === i && (i = 0), void 0 === n && (n = e.length / e.itemSize); for (var r = 0, a = i; r < n; r++, a++) t.x = e.getX(a), t.y = e.getY(a), t.z = e.getZ(a), t.applyMatrix3(this), e.setXYZ(t.x, t.y, t.z); return e } }(), multiplyScalar: function(t) { var e = this.elements; return e[0] *= t, e[3] *= t, e[6] *= t, e[1] *= t, e[4] *= t, e[7] *= t, e[2] *= t, e[5] *= t, e[8] *= t, this }, determinant: function() { var t = this.elements,
                    e = t[0],
                    i = t[1],
                    n = t[2],
                    r = t[3],
                    o = t[4],
                    a = t[5],
                    s = t[6],
                    h = t[7],
                    l = t[8]; return e * o * l - e * a * h - i * r * l + i * a * s + n * r * h - n * o * s }, getInverse: function(t, e) { t instanceof o.Matrix4; var i = t.elements,
                    n = this.elements,
                    r = i[0],
                    a = i[1],
                    s = i[2],
                    h = i[3],
                    l = i[4],
                    u = i[5],
                    c = i[6],
                    d = i[7],
                    p = i[8],
                    f = p * l - u * d,
                    m = u * c - p * h,
                    g = d * h - l * c,
                    v = r * f + a * m + s * g; if (0 === v) { var y = "THREE.Matrix3.getInverse(): can't invert matrix, determinant is 0"; if (e) throw new Error(y); return this.identity() } return n[0] = f, n[1] = s * d - p * a, n[2] = u * a - s * l, n[3] = m, n[4] = p * r - s * c, n[5] = s * h - u * r, n[6] = g, n[7] = a * c - d * r, n[8] = l * r - a * h, this.multiplyScalar(1 / v) }, transpose: function() { var t, e = this.elements; return t = e[1], e[1] = e[3], e[3] = t, t = e[2], e[2] = e[6], e[6] = t, t = e[5], e[5] = e[7], e[7] = t, this }, flattenToArrayOffset: function(t, e) { var i = this.elements; return t[e] = i[0], t[e + 1] = i[1], t[e + 2] = i[2], t[e + 3] = i[3], t[e + 4] = i[4], t[e + 5] = i[5], t[e + 6] = i[6], t[e + 7] = i[7], t[e + 8] = i[8], t }, getNormalMatrix: function(t) { return this.setFromMatrix4(t).getInverse(this).transpose() }, transposeIntoArray: function(t) { var e = this.elements; return t[0] = e[0], t[1] = e[3], t[2] = e[6], t[3] = e[1], t[4] = e[4], t[5] = e[7], t[6] = e[2], t[7] = e[5], t[8] = e[8], this }, fromArray: function(t) { return this.elements.set(t), this }, toArray: function() { var t = this.elements; return [t[0], t[1], t[2], t[3], t[4], t[5], t[6], t[7], t[8]] } }, o.Matrix4 = function() { this.elements = new Float32Array([1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1]), arguments.length > 0 }, o.Matrix4.prototype = {
            constructor: o.Matrix4,
            set: function(t, e, i, n, r, o, a, s, h, l, u, c, d, p, f, m) { var g = this.elements; return g[0] = t, g[4] = e, g[8] = i, g[12] = n, g[1] = r, g[5] = o, g[9] = a, g[13] = s, g[2] = h, g[6] = l, g[10] = u, g[14] = c, g[3] = d, g[7] = p, g[11] = f, g[15] = m, this },
            identity: function() { return this.set(1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this },
            clone: function() { return (new o.Matrix4).fromArray(this.elements) },
            copy: function(t) { return this.elements.set(t.elements), this },
            copyPosition: function(t) { var e = this.elements,
                    i = t.elements; return e[12] = i[12], e[13] = i[13], e[14] = i[14], this },
            extractBasis: function(t, e, i) { return t.setFromMatrixColumn(this, 0), e.setFromMatrixColumn(this, 1), i.setFromMatrixColumn(this, 2), this },
            makeBasis: function(t, e, i) { return this.set(t.x, e.x, i.x, 0, t.y, e.y, i.y, 0, t.z, e.z, i.z, 0, 0, 0, 0, 1), this },
            extractRotation: function() { var t; return function(e) { void 0 === t && (t = new o.Vector3); var i = this.elements,
                        n = e.elements,
                        r = 1 / t.setFromMatrixColumn(e, 0).length(),
                        a = 1 / t.setFromMatrixColumn(e, 1).length(),
                        s = 1 / t.setFromMatrixColumn(e, 2).length(); return i[0] = n[0] * r, i[1] = n[1] * r, i[2] = n[2] * r, i[4] = n[4] * a, i[5] = n[5] * a, i[6] = n[6] * a, i[8] = n[8] * s, i[9] = n[9] * s, i[10] = n[10] * s, this } }(),
            makeRotationFromEuler: function(t) { t instanceof o.Euler == !1; var e = this.elements,
                    i = t.x,
                    n = t.y,
                    r = t.z,
                    a = Math.cos(i),
                    s = Math.sin(i),
                    h = Math.cos(n),
                    l = Math.sin(n),
                    u = Math.cos(r),
                    c = Math.sin(r); if ("XYZ" === t.order) { var d = a * u,
                        p = a * c,
                        f = s * u,
                        m = s * c;
                    e[0] = h * u, e[4] = -h * c, e[8] = l, e[1] = p + f * l, e[5] = d - m * l, e[9] = -s * h, e[2] = m - d * l, e[6] = f + p * l, e[10] = a * h } else if ("YXZ" === t.order) { var g = h * u,
                        v = h * c,
                        y = l * u,
                        _ = l * c;
                    e[0] = g + _ * s, e[4] = y * s - v, e[8] = a * l, e[1] = a * c, e[5] = a * u, e[9] = -s, e[2] = v * s - y, e[6] = _ + g * s, e[10] = a * h } else if ("ZXY" === t.order) { var g = h * u,
                        v = h * c,
                        y = l * u,
                        _ = l * c;
                    e[0] = g - _ * s, e[4] = -a * c, e[8] = y + v * s, e[1] = v + y * s, e[5] = a * u, e[9] = _ - g * s, e[2] = -a * l, e[6] = s, e[10] = a * h } else if ("ZYX" === t.order) { var d = a * u,
                        p = a * c,
                        f = s * u,
                        m = s * c;
                    e[0] = h * u, e[4] = f * l - p, e[8] = d * l + m, e[1] = h * c, e[5] = m * l + d, e[9] = p * l - f, e[2] = -l, e[6] = s * h, e[10] = a * h } else if ("YZX" === t.order) { var b = a * h,
                        x = a * l,
                        w = s * h,
                        T = s * l;
                    e[0] = h * u, e[4] = T - b * c, e[8] = w * c + x, e[1] = c, e[5] = a * u, e[9] = -s * u, e[2] = -l * u, e[6] = x * c + w, e[10] = b - T * c } else if ("XZY" === t.order) { var b = a * h,
                        x = a * l,
                        w = s * h,
                        T = s * l;
                    e[0] = h * u, e[4] = -c, e[8] = l * u, e[1] = b * c + T, e[5] = a * u, e[9] = x * c - w, e[2] = w * c - x, e[6] = s * u, e[10] = T * c + b } return e[3] = 0, e[7] = 0, e[11] = 0, e[12] = 0, e[13] = 0, e[14] = 0, e[15] = 1, this },
            makeRotationFromQuaternion: function(t) { var e = this.elements,
                    i = t.x,
                    n = t.y,
                    r = t.z,
                    o = t.w,
                    a = i + i,
                    s = n + n,
                    h = r + r,
                    l = i * a,
                    u = i * s,
                    c = i * h,
                    d = n * s,
                    p = n * h,
                    f = r * h,
                    m = o * a,
                    g = o * s,
                    v = o * h; return e[0] = 1 - (d + f), e[4] = u - v, e[8] = c + g, e[1] = u + v, e[5] = 1 - (l + f), e[9] = p - m, e[2] = c - g, e[6] = p + m, e[10] = 1 - (l + d), e[3] = 0, e[7] = 0, e[11] = 0, e[12] = 0, e[13] = 0, e[14] = 0, e[15] = 1, this },
            lookAt: function() { var t, e, i; return function(n, r, a) { void 0 === t && (t = new o.Vector3), void 0 === e && (e = new o.Vector3), void 0 === i && (i = new o.Vector3); var s = this.elements; return i.subVectors(n, r).normalize(), 0 === i.lengthSq() && (i.z = 1), t.crossVectors(a, i).normalize(), 0 === t.lengthSq() && (i.x += 1e-4, t.crossVectors(a, i).normalize()), e.crossVectors(i, t), s[0] = t.x, s[4] = e.x, s[8] = i.x, s[1] = t.y, s[5] = e.y, s[9] = i.y, s[2] = t.z, s[6] = e.z, s[10] = i.z, this } }(),
            multiply: function(t, e) { return void 0 !== e ? this.multiplyMatrices(t, e) : this.multiplyMatrices(this, t) },
            multiplyMatrices: function(t, e) { var i = t.elements,
                    n = e.elements,
                    r = this.elements,
                    o = i[0],
                    a = i[4],
                    s = i[8],
                    h = i[12],
                    l = i[1],
                    u = i[5],
                    c = i[9],
                    d = i[13],
                    p = i[2],
                    f = i[6],
                    m = i[10],
                    g = i[14],
                    v = i[3],
                    y = i[7],
                    _ = i[11],
                    b = i[15],
                    x = n[0],
                    w = n[4],
                    T = n[8],
                    S = n[12],
                    M = n[1],
                    E = n[5],
                    A = n[9],
                    C = n[13],
                    R = n[2],
                    P = n[6],
                    O = n[10],
                    L = n[14],
                    I = n[3],
                    D = n[7],
                    k = n[11],
                    B = n[15]; return r[0] = o * x + a * M + s * R + h * I, r[4] = o * w + a * E + s * P + h * D, r[8] = o * T + a * A + s * O + h * k, r[12] = o * S + a * C + s * L + h * B, r[1] = l * x + u * M + c * R + d * I, r[5] = l * w + u * E + c * P + d * D, r[9] = l * T + u * A + c * O + d * k, r[13] = l * S + u * C + c * L + d * B, r[2] = p * x + f * M + m * R + g * I, r[6] = p * w + f * E + m * P + g * D, r[10] = p * T + f * A + m * O + g * k, r[14] = p * S + f * C + m * L + g * B, r[3] = v * x + y * M + _ * R + b * I, r[7] = v * w + y * E + _ * P + b * D, r[11] = v * T + y * A + _ * O + b * k, r[15] = v * S + y * C + _ * L + b * B, this },
            multiplyToArray: function(t, e, i) { var n = this.elements; return this.multiplyMatrices(t, e), i[0] = n[0], i[1] = n[1], i[2] = n[2], i[3] = n[3], i[4] = n[4], i[5] = n[5], i[6] = n[6], i[7] = n[7], i[8] = n[8], i[9] = n[9], i[10] = n[10], i[11] = n[11], i[12] = n[12], i[13] = n[13], i[14] = n[14], i[15] = n[15], this },
            multiplyScalar: function(t) { var e = this.elements; return e[0] *= t, e[4] *= t, e[8] *= t, e[12] *= t, e[1] *= t, e[5] *= t, e[9] *= t, e[13] *= t, e[2] *= t, e[6] *= t, e[10] *= t, e[14] *= t, e[3] *= t, e[7] *= t, e[11] *= t, e[15] *= t, this },
            applyToVector3Array: function() { var t; return function(e, i, n) { void 0 === t && (t = new o.Vector3), void 0 === i && (i = 0), void 0 === n && (n = e.length); for (var r = 0, a = i; r < n; r += 3, a += 3) t.fromArray(e, a), t.applyMatrix4(this), t.toArray(e, a); return e } }(),
            applyToBuffer: function() { var t; return function(e, i, n) { void 0 === t && (t = new o.Vector3), void 0 === i && (i = 0), void 0 === n && (n = e.length / e.itemSize); for (var r = 0, a = i; r < n; r++, a++) t.x = e.getX(a), t.y = e.getY(a), t.z = e.getZ(a), t.applyMatrix4(this), e.setXYZ(t.x, t.y, t.z); return e } }(),
            determinant: function() { var t = this.elements,
                    e = t[0],
                    i = t[4],
                    n = t[8],
                    r = t[12],
                    o = t[1],
                    a = t[5],
                    s = t[9],
                    h = t[13],
                    l = t[2],
                    u = t[6],
                    c = t[10],
                    d = t[14],
                    p = t[3],
                    f = t[7],
                    m = t[11],
                    g = t[15]; return p * (+r * s * u - n * h * u - r * a * c + i * h * c + n * a * d - i * s * d) + f * (+e * s * d - e * h * c + r * o * c - n * o * d + n * h * l - r * s * l) + m * (+e * h * u - e * a * d - r * o * u + i * o * d + r * a * l - i * h * l) + g * (-n * a * l - e * s * u + e * a * c + n * o * u - i * o * c + i * s * l) },
            transpose: function() { var t, e = this.elements; return t = e[1], e[1] = e[4], e[4] = t, t = e[2], e[2] = e[8], e[8] = t, t = e[6], e[6] = e[9], e[9] = t, t = e[3], e[3] = e[12], e[12] = t, t = e[7], e[7] = e[13], e[13] = t, t = e[11], e[11] = e[14], e[14] = t, this },
            flattenToArrayOffset: function(t, e) { var i = this.elements; return t[e] = i[0], t[e + 1] = i[1], t[e + 2] = i[2], t[e + 3] = i[3], t[e + 4] = i[4], t[e + 5] = i[5], t[e + 6] = i[6], t[e + 7] = i[7], t[e + 8] = i[8], t[e + 9] = i[9], t[e + 10] = i[10], t[e + 11] = i[11], t[e + 12] = i[12], t[e + 13] = i[13], t[e + 14] = i[14], t[e + 15] = i[15], t },
            getPosition: function() { var t; return function() { return void 0 === t && (t = new o.Vector3), t.setFromMatrixColumn(this, 3) } }(),
            setPosition: function(t) { var e = this.elements; return e[12] = t.x, e[13] = t.y, e[14] = t.z, this },
            getInverse: function(t, e) { var i = this.elements,
                    n = t.elements,
                    r = n[0],
                    o = n[1],
                    a = n[2],
                    s = n[3],
                    h = n[4],
                    l = n[5],
                    u = n[6],
                    c = n[7],
                    d = n[8],
                    p = n[9],
                    f = n[10],
                    m = n[11],
                    g = n[12],
                    v = n[13],
                    y = n[14],
                    _ = n[15],
                    b = p * y * c - v * f * c + v * u * m - l * y * m - p * u * _ + l * f * _,
                    x = g * f * c - d * y * c - g * u * m + h * y * m + d * u * _ - h * f * _,
                    w = d * v * c - g * p * c + g * l * m - h * v * m - d * l * _ + h * p * _,
                    T = g * p * u - d * v * u - g * l * f + h * v * f + d * l * y - h * p * y,
                    S = r * b + o * x + a * w + s * T; if (0 === S) { var M = "THREE.Matrix4.getInverse(): can't invert matrix, determinant is 0"; if (e) throw new Error(M); return this.identity() } return i[0] = b, i[1] = v * f * s - p * y * s - v * a * m + o * y * m + p * a * _ - o * f * _, i[2] = l * y * s - v * u * s + v * a * c - o * y * c - l * a * _ + o * u * _, i[3] = p * u * s - l * f * s - p * a * c + o * f * c + l * a * m - o * u * m, i[4] = x, i[5] = d * y * s - g * f * s + g * a * m - r * y * m - d * a * _ + r * f * _, i[6] = g * u * s - h * y * s - g * a * c + r * y * c + h * a * _ - r * u * _, i[7] = h * f * s - d * u * s + d * a * c - r * f * c - h * a * m + r * u * m, i[8] = w, i[9] = g * p * s - d * v * s - g * o * m + r * v * m + d * o * _ - r * p * _, i[10] = h * v * s - g * l * s + g * o * c - r * v * c - h * o * _ + r * l * _, i[11] = d * l * s - h * p * s - d * o * c + r * p * c + h * o * m - r * l * m, i[12] = T, i[13] = d * v * a - g * p * a + g * o * f - r * v * f - d * o * y + r * p * y, i[14] = g * l * a - h * v * a - g * o * u + r * v * u + h * o * y - r * l * y, i[15] = h * p * a - d * l * a + d * o * u - r * p * u - h * o * f + r * l * f, this.multiplyScalar(1 / S) },
            scale: function(t) {
                var e = this.elements,
                    i = t.x,
                    n = t.y,
                    r = t.z;
                return e[0] *= i, e[4] *= n, e[8] *= r, e[1] *= i, e[5] *= n, e[9] *= r, e[2] *= i, e[6] *= n, e[10] *= r, e[3] *= i, e[7] *= n, e[11] *= r, this
            },
            getMaxScaleOnAxis: function() { var t = this.elements,
                    e = t[0] * t[0] + t[1] * t[1] + t[2] * t[2],
                    i = t[4] * t[4] + t[5] * t[5] + t[6] * t[6],
                    n = t[8] * t[8] + t[9] * t[9] + t[10] * t[10]; return Math.sqrt(Math.max(e, i, n)) },
            makeTranslation: function(t, e, i) { return this.set(1, 0, 0, t, 0, 1, 0, e, 0, 0, 1, i, 0, 0, 0, 1), this },
            makeRotationX: function(t) { var e = Math.cos(t),
                    i = Math.sin(t); return this.set(1, 0, 0, 0, 0, e, -i, 0, 0, i, e, 0, 0, 0, 0, 1), this },
            makeRotationY: function(t) { var e = Math.cos(t),
                    i = Math.sin(t); return this.set(e, 0, i, 0, 0, 1, 0, 0, -i, 0, e, 0, 0, 0, 0, 1), this },
            makeRotationZ: function(t) { var e = Math.cos(t),
                    i = Math.sin(t); return this.set(e, -i, 0, 0, i, e, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1), this },
            makeRotationAxis: function(t, e) { var i = Math.cos(e),
                    n = Math.sin(e),
                    r = 1 - i,
                    o = t.x,
                    a = t.y,
                    s = t.z,
                    h = r * o,
                    l = r * a; return this.set(h * o + i, h * a - n * s, h * s + n * a, 0, h * a + n * s, l * a + i, l * s - n * o, 0, h * s - n * a, l * s + n * o, r * s * s + i, 0, 0, 0, 0, 1), this },
            makeScale: function(t, e, i) { return this.set(t, 0, 0, 0, 0, e, 0, 0, 0, 0, i, 0, 0, 0, 0, 1), this },
            compose: function(t, e, i) { return this.makeRotationFromQuaternion(e), this.scale(i), this.setPosition(t), this },
            decompose: function() { var t, e; return function(i, n, r) { void 0 === t && (t = new o.Vector3), void 0 === e && (e = new o.Matrix4); var a = this.elements,
                        s = t.set(a[0], a[1], a[2]).length(),
                        h = t.set(a[4], a[5], a[6]).length(),
                        l = t.set(a[8], a[9], a[10]).length(),
                        u = this.determinant();
                    u < 0 && (s = -s), i.x = a[12], i.y = a[13], i.z = a[14], e.elements.set(this.elements); var c = 1 / s,
                        d = 1 / h,
                        p = 1 / l; return e.elements[0] *= c, e.elements[1] *= c, e.elements[2] *= c, e.elements[4] *= d, e.elements[5] *= d, e.elements[6] *= d, e.elements[8] *= p, e.elements[9] *= p, e.elements[10] *= p, n.setFromRotationMatrix(e), r.x = s, r.y = h, r.z = l, this } }(),
            makeFrustum: function(t, e, i, n, r, o) { var a = this.elements,
                    s = 2 * r / (e - t),
                    h = 2 * r / (n - i),
                    l = (e + t) / (e - t),
                    u = (n + i) / (n - i),
                    c = -(o + r) / (o - r),
                    d = -2 * o * r / (o - r); return a[0] = s, a[4] = 0, a[8] = l, a[12] = 0, a[1] = 0, a[5] = h, a[9] = u, a[13] = 0, a[2] = 0, a[6] = 0, a[10] = c, a[14] = d, a[3] = 0, a[7] = 0, a[11] = -1, a[15] = 0, this },
            makePerspective: function(t, e, i, n) { var r = i * Math.tan(o.Math.degToRad(.5 * t)),
                    a = -r,
                    s = a * e,
                    h = r * e; return this.makeFrustum(s, h, a, r, i, n) },
            makeOrthographic: function(t, e, i, n, r, o) { var a = this.elements,
                    s = 1 / (e - t),
                    h = 1 / (i - n),
                    l = 1 / (o - r),
                    u = (e + t) * s,
                    c = (i + n) * h,
                    d = (o + r) * l; return a[0] = 2 * s, a[4] = 0, a[8] = 0, a[12] = -u, a[1] = 0, a[5] = 2 * h, a[9] = 0, a[13] = -c, a[2] = 0, a[6] = 0, a[10] = -2 * l, a[14] = -d, a[3] = 0, a[7] = 0, a[11] = 0, a[15] = 1, this },
            equals: function(t) { for (var e = this.elements, i = t.elements, n = 0; n < 16; n++)
                    if (e[n] !== i[n]) return !1; return !0 },
            fromArray: function(t) { return this.elements.set(t), this },
            toArray: function() { var t = this.elements; return [t[0], t[1], t[2], t[3], t[4], t[5], t[6], t[7], t[8], t[9], t[10], t[11], t[12], t[13], t[14], t[15]] }
        }, o.Ray = function(t, e) { this.origin = void 0 !== t ? t : new o.Vector3, this.direction = void 0 !== e ? e : new o.Vector3 }, o.Ray.prototype = { constructor: o.Ray, set: function(t, e) { return this.origin.copy(t), this.direction.copy(e), this }, clone: function() { return (new this.constructor).copy(this) }, copy: function(t) { return this.origin.copy(t.origin), this.direction.copy(t.direction), this }, at: function(t, e) { var i = e || new o.Vector3; return i.copy(this.direction).multiplyScalar(t).add(this.origin) }, lookAt: function(t) { this.direction.copy(t).sub(this.origin).normalize() }, recast: function() { var t = new o.Vector3; return function(e) { return this.origin.copy(this.at(e, t)), this } }(), closestPointToPoint: function(t, e) { var i = e || new o.Vector3;
                i.subVectors(t, this.origin); var n = i.dot(this.direction); return n < 0 ? i.copy(this.origin) : i.copy(this.direction).multiplyScalar(n).add(this.origin) }, distanceToPoint: function(t) { return Math.sqrt(this.distanceSqToPoint(t)) }, distanceSqToPoint: function() { var t = new o.Vector3; return function(e) { var i = t.subVectors(e, this.origin).dot(this.direction); return i < 0 ? this.origin.distanceToSquared(e) : (t.copy(this.direction).multiplyScalar(i).add(this.origin), t.distanceToSquared(e)) } }(), distanceSqToSegment: function() { var t = new o.Vector3,
                    e = new o.Vector3,
                    i = new o.Vector3; return function(n, r, o, a) { t.copy(n).add(r).multiplyScalar(.5), e.copy(r).sub(n).normalize(), i.copy(this.origin).sub(t); var s, h, l, u, c = .5 * n.distanceTo(r),
                        d = -this.direction.dot(e),
                        p = i.dot(this.direction),
                        f = -i.dot(e),
                        m = i.lengthSq(),
                        g = Math.abs(1 - d * d); if (g > 0)
                        if (s = d * f - p, h = d * p - f, u = c * g, s >= 0)
                            if (h >= -u)
                                if (h <= u) { var v = 1 / g;
                                    s *= v, h *= v, l = s * (s + d * h + 2 * p) + h * (d * s + h + 2 * f) + m } else h = c, s = Math.max(0, -(d * h + p)), l = -s * s + h * (h + 2 * f) + m;
                    else h = -c, s = Math.max(0, -(d * h + p)), l = -s * s + h * (h + 2 * f) + m;
                    else h <= -u ? (s = Math.max(0, -(-d * c + p)), h = s > 0 ? -c : Math.min(Math.max(-c, -f), c), l = -s * s + h * (h + 2 * f) + m) : h <= u ? (s = 0, h = Math.min(Math.max(-c, -f), c), l = h * (h + 2 * f) + m) : (s = Math.max(0, -(d * c + p)), h = s > 0 ? c : Math.min(Math.max(-c, -f), c), l = -s * s + h * (h + 2 * f) + m);
                    else h = d > 0 ? -c : c, s = Math.max(0, -(d * h + p)), l = -s * s + h * (h + 2 * f) + m; return o && o.copy(this.direction).multiplyScalar(s).add(this.origin), a && a.copy(e).multiplyScalar(h).add(t), l } }(), intersectSphere: function() { var t = new o.Vector3; return function(e, i) { t.subVectors(e.center, this.origin); var n = t.dot(this.direction),
                        r = t.dot(t) - n * n,
                        o = e.radius * e.radius; if (r > o) return null; var a = Math.sqrt(o - r),
                        s = n - a,
                        h = n + a; return s < 0 && h < 0 ? null : s < 0 ? this.at(h, i) : this.at(s, i) } }(), intersectsSphere: function(t) { return this.distanceToPoint(t.center) <= t.radius }, distanceToPlane: function(t) { var e = t.normal.dot(this.direction); if (0 === e) return 0 === t.distanceToPoint(this.origin) ? 0 : null; var i = -(this.origin.dot(t.normal) + t.constant) / e; return i >= 0 ? i : null }, intersectPlane: function(t, e) { var i = this.distanceToPlane(t); return null === i ? null : this.at(i, e) }, intersectsPlane: function(t) { var e = t.distanceToPoint(this.origin); if (0 === e) return !0; var i = t.normal.dot(this.direction); return i * e < 0 }, intersectBox: function(t, e) { var i, n, r, o, a, s, h = 1 / this.direction.x,
                    l = 1 / this.direction.y,
                    u = 1 / this.direction.z,
                    c = this.origin; return h >= 0 ? (i = (t.min.x - c.x) * h, n = (t.max.x - c.x) * h) : (i = (t.max.x - c.x) * h, n = (t.min.x - c.x) * h), l >= 0 ? (r = (t.min.y - c.y) * l, o = (t.max.y - c.y) * l) : (r = (t.max.y - c.y) * l, o = (t.min.y - c.y) * l), i > o || r > n ? null : ((r > i || i !== i) && (i = r), (o < n || n !== n) && (n = o), u >= 0 ? (a = (t.min.z - c.z) * u, s = (t.max.z - c.z) * u) : (a = (t.max.z - c.z) * u, s = (t.min.z - c.z) * u), i > s || a > n ? null : ((a > i || i !== i) && (i = a), (s < n || n !== n) && (n = s), n < 0 ? null : this.at(i >= 0 ? i : n, e))) }, intersectsBox: function() { var t = new o.Vector3; return function(e) { return null !== this.intersectBox(e, t) } }(), intersectTriangle: function() { var t = new o.Vector3,
                    e = new o.Vector3,
                    i = new o.Vector3,
                    n = new o.Vector3; return function(r, o, a, s, h) { e.subVectors(o, r), i.subVectors(a, r), n.crossVectors(e, i); var l, u = this.direction.dot(n); if (u > 0) { if (s) return null;
                        l = 1 } else { if (!(u < 0)) return null;
                        l = -1, u = -u } t.subVectors(this.origin, r); var c = l * this.direction.dot(i.crossVectors(t, i)); if (c < 0) return null; var d = l * this.direction.dot(e.cross(t)); if (d < 0) return null; if (c + d > u) return null; var p = -l * t.dot(n); return p < 0 ? null : this.at(p / u, h) } }(), applyMatrix4: function(t) { return this.direction.add(this.origin).applyMatrix4(t), this.origin.applyMatrix4(t), this.direction.sub(this.origin), this.direction.normalize(), this }, equals: function(t) { return t.origin.equals(this.origin) && t.direction.equals(this.direction) } }, o.Sphere = function(t, e) { this.center = void 0 !== t ? t : new o.Vector3, this.radius = void 0 !== e ? e : 0 }, o.Sphere.prototype = { constructor: o.Sphere, set: function(t, e) { return this.center.copy(t), this.radius = e, this }, setFromPoints: function() { var t = new o.Box3; return function(e, i) { var n = this.center;
                    void 0 !== i ? n.copy(i) : t.setFromPoints(e).center(n); for (var r = 0, o = 0, a = e.length; o < a; o++) r = Math.max(r, n.distanceToSquared(e[o])); return this.radius = Math.sqrt(r), this } }(), clone: function() { return (new this.constructor).copy(this) }, copy: function(t) { return this.center.copy(t.center), this.radius = t.radius, this }, empty: function() { return this.radius <= 0 }, containsPoint: function(t) { return t.distanceToSquared(this.center) <= this.radius * this.radius }, distanceToPoint: function(t) { return t.distanceTo(this.center) - this.radius }, intersectsSphere: function(t) { var e = this.radius + t.radius; return t.center.distanceToSquared(this.center) <= e * e }, intersectsBox: function(t) { return t.intersectsSphere(this) }, intersectsPlane: function(t) { return Math.abs(this.center.dot(t.normal) - t.constant) <= this.radius }, clampPoint: function(t, e) { var i = this.center.distanceToSquared(t),
                    n = e || new o.Vector3; return n.copy(t), i > this.radius * this.radius && (n.sub(this.center).normalize(), n.multiplyScalar(this.radius).add(this.center)), n }, getBoundingBox: function(t) { var e = t || new o.Box3; return e.set(this.center, this.center), e.expandByScalar(this.radius), e }, applyMatrix4: function(t) { return this.center.applyMatrix4(t), this.radius = this.radius * t.getMaxScaleOnAxis(), this }, translate: function(t) { return this.center.add(t), this }, equals: function(t) { return t.center.equals(this.center) && t.radius === this.radius } }, o.Frustum = function(t, e, i, n, r, a) { this.planes = [void 0 !== t ? t : new o.Plane, void 0 !== e ? e : new o.Plane, void 0 !== i ? i : new o.Plane, void 0 !== n ? n : new o.Plane, void 0 !== r ? r : new o.Plane, void 0 !== a ? a : new o.Plane] }, o.Frustum.prototype = { constructor: o.Frustum, set: function(t, e, i, n, r, o) { var a = this.planes; return a[0].copy(t), a[1].copy(e), a[2].copy(i), a[3].copy(n), a[4].copy(r), a[5].copy(o), this }, clone: function() { return (new this.constructor).copy(this) }, copy: function(t) { for (var e = this.planes, i = 0; i < 6; i++) e[i].copy(t.planes[i]); return this }, setFromMatrix: function(t) { var e = this.planes,
                    i = t.elements,
                    n = i[0],
                    r = i[1],
                    o = i[2],
                    a = i[3],
                    s = i[4],
                    h = i[5],
                    l = i[6],
                    u = i[7],
                    c = i[8],
                    d = i[9],
                    p = i[10],
                    f = i[11],
                    m = i[12],
                    g = i[13],
                    v = i[14],
                    y = i[15]; return e[0].setComponents(a - n, u - s, f - c, y - m).normalize(), e[1].setComponents(a + n, u + s, f + c, y + m).normalize(), e[2].setComponents(a + r, u + h, f + d, y + g).normalize(), e[3].setComponents(a - r, u - h, f - d, y - g).normalize(), e[4].setComponents(a - o, u - l, f - p, y - v).normalize(), e[5].setComponents(a + o, u + l, f + p, y + v).normalize(), this }, intersectsObject: function() { var t = new o.Sphere; return function(e) { var i = e.geometry; return null === i.boundingSphere && i.computeBoundingSphere(), t.copy(i.boundingSphere), t.applyMatrix4(e.matrixWorld), this.intersectsSphere(t) } }(), intersectsSphere: function(t) { for (var e = this.planes, i = t.center, n = -t.radius, r = 0; r < 6; r++) { var o = e[r].distanceToPoint(i); if (o < n) return !1 } return !0 }, intersectsBox: function() { var t = new o.Vector3,
                    e = new o.Vector3; return function(i) { for (var n = this.planes, r = 0; r < 6; r++) { var o = n[r];
                        t.x = o.normal.x > 0 ? i.min.x : i.max.x, e.x = o.normal.x > 0 ? i.max.x : i.min.x, t.y = o.normal.y > 0 ? i.min.y : i.max.y, e.y = o.normal.y > 0 ? i.max.y : i.min.y, t.z = o.normal.z > 0 ? i.min.z : i.max.z, e.z = o.normal.z > 0 ? i.max.z : i.min.z; var a = o.distanceToPoint(t),
                            s = o.distanceToPoint(e); if (a < 0 && s < 0) return !1 } return !0 } }(), containsPoint: function(t) { for (var e = this.planes, i = 0; i < 6; i++)
                    if (e[i].distanceToPoint(t) < 0) return !1; return !0 } }, o.Plane = function(t, e) { this.normal = void 0 !== t ? t : new o.Vector3(1, 0, 0), this.constant = void 0 !== e ? e : 0 }, o.Plane.prototype = { constructor: o.Plane, set: function(t, e) { return this.normal.copy(t), this.constant = e, this }, setComponents: function(t, e, i, n) { return this.normal.set(t, e, i), this.constant = n, this }, setFromNormalAndCoplanarPoint: function(t, e) { return this.normal.copy(t), this.constant = -e.dot(this.normal), this }, setFromCoplanarPoints: function() { var t = new o.Vector3,
                    e = new o.Vector3; return function(i, n, r) { var o = t.subVectors(r, n).cross(e.subVectors(i, n)).normalize(); return this.setFromNormalAndCoplanarPoint(o, i), this } }(), clone: function() { return (new this.constructor).copy(this) }, copy: function(t) { return this.normal.copy(t.normal), this.constant = t.constant, this }, normalize: function() { var t = 1 / this.normal.length(); return this.normal.multiplyScalar(t), this.constant *= t, this }, negate: function() { return this.constant *= -1, this.normal.negate(), this }, distanceToPoint: function(t) { return this.normal.dot(t) + this.constant }, distanceToSphere: function(t) { return this.distanceToPoint(t.center) - t.radius }, projectPoint: function(t, e) { return this.orthoPoint(t, e).sub(t).negate() }, orthoPoint: function(t, e) { var i = this.distanceToPoint(t),
                    n = e || new o.Vector3; return n.copy(this.normal).multiplyScalar(i) }, intersectLine: function() { var t = new o.Vector3; return function(e, i) { var n = i || new o.Vector3,
                        r = e.delta(t),
                        a = this.normal.dot(r); if (0 !== a) { var s = -(e.start.dot(this.normal) + this.constant) / a; if (!(s < 0 || s > 1)) return n.copy(r).multiplyScalar(s).add(e.start) } else if (0 === this.distanceToPoint(e.start)) return n.copy(e.start) } }(), intersectsLine: function(t) { var e = this.distanceToPoint(t.start),
                    i = this.distanceToPoint(t.end); return e < 0 && i > 0 || i < 0 && e > 0 }, intersectsBox: function(t) { return t.intersectsPlane(this) }, intersectsSphere: function(t) { return t.intersectsPlane(this) }, coplanarPoint: function(t) { var e = t || new o.Vector3; return e.copy(this.normal).multiplyScalar(-this.constant) }, applyMatrix4: function() { var t = new o.Vector3,
                    e = new o.Vector3,
                    i = new o.Matrix3; return function(n, r) { var o = r || i.getNormalMatrix(n),
                        a = t.copy(this.normal).applyMatrix3(o),
                        s = this.coplanarPoint(e); return s.applyMatrix4(n), this.setFromNormalAndCoplanarPoint(a, s), this } }(), translate: function(t) { return this.constant = this.constant - t.dot(this.normal), this }, equals: function(t) { return t.normal.equals(this.normal) && t.constant === this.constant } }, o.Spherical = function(t, e, i) { return this.radius = void 0 !== t ? t : 1, this.phi = void 0 !== e ? e : 0, this.theta = void 0 !== i ? i : 0, this }, o.Spherical.prototype = { constructor: o.Spherical, set: function(t, e, i) { this.radius = t, this.phi = e, this.theta = i }, clone: function() { return (new this.constructor).copy(this) }, copy: function(t) { return this.radius.copy(t.radius), this.phi.copy(t.phi), this.theta.copy(t.theta), this }, makeSafe: function() { var t = 1e-6;
                this.phi = Math.max(t, Math.min(Math.PI - t, this.phi)) }, setFromVector3: function(t) { return this.radius = t.length(), 0 === this.radius ? (this.theta = 0, this.phi = 0) : (this.theta = Math.atan2(t.x, t.z), this.phi = Math.acos(o.Math.clamp(t.y / this.radius, -1, 1))), this } }, o.Math = { generateUUID: function() { var t, e = "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),
                    i = new Array(36),
                    n = 0; return function() { for (var r = 0; r < 36; r++) 8 === r || 13 === r || 18 === r || 23 === r ? i[r] = "-" : 14 === r ? i[r] = "4" : (n <= 2 && (n = 33554432 + 16777216 * Math.random() | 0), t = 15 & n, n >>= 4, i[r] = e[19 === r ? 3 & t | 8 : t]); return i.join("") } }(), clamp: function(t, e, i) { return Math.max(e, Math.min(i, t)) }, euclideanModulo: function(t, e) { return (t % e + e) % e }, mapLinear: function(t, e, i, n, r) { return n + (t - e) * (r - n) / (i - e) }, smoothstep: function(t, e, i) { return t <= e ? 0 : t >= i ? 1 : (t = (t - e) / (i - e), t * t * (3 - 2 * t)) }, smootherstep: function(t, e, i) { return t <= e ? 0 : t >= i ? 1 : (t = (t - e) / (i - e), t * t * t * (t * (6 * t - 15) + 10)) }, random16: function() { return Math.random() }, randInt: function(t, e) { return t + Math.floor(Math.random() * (e - t + 1)) }, randFloat: function(t, e) { return t + Math.random() * (e - t) }, randFloatSpread: function(t) { return t * (.5 - Math.random()) }, degToRad: function() { var t = Math.PI / 180; return function(e) { return e * t } }(), radToDeg: function() { var t = 180 / Math.PI; return function(e) { return e * t } }(), isPowerOfTwo: function(t) { return 0 === (t & t - 1) && 0 !== t }, nearestPowerOfTwo: function(t) { return Math.pow(2, Math.round(Math.log(t) / Math.LN2)) }, nextPowerOfTwo: function(t) { return t--, t |= t >> 1, t |= t >> 2, t |= t >> 4, t |= t >> 8, t |= t >> 16, t++, t } }, o.Spline = function(t) {
            function e(t, e, i, n, r, o, a) { var s = .5 * (i - t),
                    h = .5 * (n - e); return (2 * (e - i) + s + h) * a + (-3 * (e - i) - 2 * s - h) * o + s * r + e } this.points = t; var i, n, r, a, s, h, l, u, c, d = [],
                p = { x: 0, y: 0, z: 0 };
            this.initFromArray = function(t) { this.points = []; for (var e = 0; e < t.length; e++) this.points[e] = { x: t[e][0], y: t[e][1], z: t[e][2] } }, this.getPoint = function(t) { return i = (this.points.length - 1) * t, n = Math.floor(i), r = i - n, d[0] = 0 === n ? n : n - 1, d[1] = n, d[2] = n > this.points.length - 2 ? this.points.length - 1 : n + 1, d[3] = n > this.points.length - 3 ? this.points.length - 1 : n + 2, h = this.points[d[0]], l = this.points[d[1]], u = this.points[d[2]], c = this.points[d[3]], a = r * r, s = r * a, p.x = e(h.x, l.x, u.x, c.x, r, a, s), p.y = e(h.y, l.y, u.y, c.y, r, a, s), p.z = e(h.z, l.z, u.z, c.z, r, a, s), p }, this.getControlPointsArray = function() { var t, e, i = this.points.length,
                    n = []; for (t = 0; t < i; t++) e = this.points[t], n[t] = [e.x, e.y, e.z]; return n }, this.getLength = function(t) { var e, i, n, r, a = 0,
                    s = 0,
                    h = 0,
                    l = new o.Vector3,
                    u = new o.Vector3,
                    c = [],
                    d = 0; for (c[0] = 0, t || (t = 100), n = this.points.length * t, l.copy(this.points[0]), e = 1; e < n; e++) i = e / n, r = this.getPoint(i), u.copy(r), d += u.distanceTo(l), l.copy(r), a = (this.points.length - 1) * i, s = Math.floor(a), s !== h && (c[s] = d, h = s); return c[c.length] = d, { chunks: c, total: d } }, this.reparametrizeByArcLength = function(t) { var e, i, n, r, a, s, h, l, u = [],
                    c = new o.Vector3,
                    d = this.getLength(); for (u.push(c.copy(this.points[0]).clone()), e = 1; e < this.points.length; e++) { for (s = d.chunks[e] - d.chunks[e - 1], h = Math.ceil(t * s / d.total), r = (e - 1) / (this.points.length - 1), a = e / (this.points.length - 1), i = 1; i < h - 1; i++) n = r + i * (1 / h) * (a - r), l = this.getPoint(n), u.push(c.copy(l).clone());
                    u.push(c.copy(this.points[e]).clone()) } this.points = u } }, o.Triangle = function(t, e, i) { this.a = void 0 !== t ? t : new o.Vector3, this.b = void 0 !== e ? e : new o.Vector3, this.c = void 0 !== i ? i : new o.Vector3 }, o.Triangle.normal = function() { var t = new o.Vector3; return function(e, i, n, r) { var a = r || new o.Vector3;
                a.subVectors(n, i), t.subVectors(e, i), a.cross(t); var s = a.lengthSq(); return s > 0 ? a.multiplyScalar(1 / Math.sqrt(s)) : a.set(0, 0, 0) } }(), o.Triangle.barycoordFromPoint = function() { var t = new o.Vector3,
                e = new o.Vector3,
                i = new o.Vector3; return function(n, r, a, s, h) { t.subVectors(s, r), e.subVectors(a, r), i.subVectors(n, r); var l = t.dot(t),
                    u = t.dot(e),
                    c = t.dot(i),
                    d = e.dot(e),
                    p = e.dot(i),
                    f = l * d - u * u,
                    m = h || new o.Vector3; if (0 === f) return m.set(-2, -1, -1); var g = 1 / f,
                    v = (d * c - u * p) * g,
                    y = (l * p - u * c) * g; return m.set(1 - v - y, y, v) } }(), o.Triangle.containsPoint = function() { var t = new o.Vector3; return function(e, i, n, r) { var a = o.Triangle.barycoordFromPoint(e, i, n, r, t); return a.x >= 0 && a.y >= 0 && a.x + a.y <= 1 } }(), o.Triangle.prototype = { constructor: o.Triangle, set: function(t, e, i) { return this.a.copy(t), this.b.copy(e), this.c.copy(i), this }, setFromPointsAndIndices: function(t, e, i, n) { return this.a.copy(t[e]), this.b.copy(t[i]), this.c.copy(t[n]), this }, clone: function() { return (new this.constructor).copy(this) }, copy: function(t) { return this.a.copy(t.a), this.b.copy(t.b), this.c.copy(t.c), this }, area: function() { var t = new o.Vector3,
                    e = new o.Vector3; return function() { return t.subVectors(this.c, this.b), e.subVectors(this.a, this.b), .5 * t.cross(e).length() } }(), midpoint: function(t) { var e = t || new o.Vector3; return e.addVectors(this.a, this.b).add(this.c).multiplyScalar(1 / 3) }, normal: function(t) { return o.Triangle.normal(this.a, this.b, this.c, t) }, plane: function(t) { var e = t || new o.Plane; return e.setFromCoplanarPoints(this.a, this.b, this.c) }, barycoordFromPoint: function(t, e) { return o.Triangle.barycoordFromPoint(t, this.a, this.b, this.c, e) }, containsPoint: function(t) { return o.Triangle.containsPoint(t, this.a, this.b, this.c) }, equals: function(t) { return t.a.equals(this.a) && t.b.equals(this.b) && t.c.equals(this.c) } }, o.Interpolant = function(t, e, i, n) { this.parameterPositions = t, this._cachedIndex = 0, this.resultBuffer = void 0 !== n ? n : new e.constructor(i), this.sampleValues = e, this.valueSize = i }, o.Interpolant.prototype = { constructor: o.Interpolant, evaluate: function(t) { var e = this.parameterPositions,
                    i = this._cachedIndex,
                    n = e[i],
                    r = e[i - 1];
                t: { e: { var o;i: { n: if (!(t < n)) { for (var a = i + 2;;) { if (void 0 === n) { if (t < r) break n; return i = e.length, this._cachedIndex = i, this.afterEnd_(i - 1, t, r) } if (i === a) break; if (r = n, n = e[++i], t < n) break e } o = e.length; break i } { if (t >= r) break t; var s = e[1];
                                t < s && (i = 2, r = s); for (var a = i - 2;;) { if (void 0 === r) return this._cachedIndex = 0, this.beforeStart_(0, t, n); if (i === a) break; if (n = r, r = e[--i - 1], t >= r) break e } o = i, i = 0 } } for (; i < o;) { var h = i + o >>> 1;
                            t < e[h] ? o = h : i = h + 1 } if (n = e[i], r = e[i - 1], void 0 === r) return this._cachedIndex = 0, this.beforeStart_(0, t, n); if (void 0 === n) return i = e.length, this._cachedIndex = i, this.afterEnd_(i - 1, r, t) } this._cachedIndex = i, this.intervalChanged_(i, r, n) }
                return this.interpolate_(i, r, t, n) }, settings: null, DefaultSettings_: {}, getSettings_: function() { return this.settings || this.DefaultSettings_ }, copySampleValue_: function(t) { for (var e = this.resultBuffer, i = this.sampleValues, n = this.valueSize, r = t * n, o = 0; o !== n; ++o) e[o] = i[r + o]; return e }, interpolate_: function(t, e, i, n) { throw new Error("call to abstract method") }, intervalChanged_: function(t, e, i) {} }, Object.assign(o.Interpolant.prototype, { beforeStart_: o.Interpolant.prototype.copySampleValue_, afterEnd_: o.Interpolant.prototype.copySampleValue_ }), o.CubicInterpolant = function(t, e, i, n) { o.Interpolant.call(this, t, e, i, n), this._weightPrev = -0, this._offsetPrev = -0, this._weightNext = -0, this._offsetNext = -0 }, o.CubicInterpolant.prototype = Object.assign(Object.create(o.Interpolant.prototype), { constructor: o.CubicInterpolant, DefaultSettings_: { endingStart: o.ZeroCurvatureEnding, endingEnd: o.ZeroCurvatureEnding }, intervalChanged_: function(t, e, i) { var n = this.parameterPositions,
                    r = t - 2,
                    a = t + 1,
                    s = n[r],
                    h = n[a]; if (void 0 === s) switch (this.getSettings_().endingStart) {
                    case o.ZeroSlopeEnding:
                        r = t, s = 2 * e - i; break;
                    case o.WrapAroundEnding:
                        r = n.length - 2, s = e + n[r] - n[r + 1]; break;
                    default:
                        r = t, s = i }
                if (void 0 === h) switch (this.getSettings_().endingEnd) {
                    case o.ZeroSlopeEnding:
                        a = t, h = 2 * i - e; break;
                    case o.WrapAroundEnding:
                        a = 1, h = i + n[1] - n[0]; break;
                    default:
                        a = t - 1, h = e }
                var l = .5 * (i - e),
                    u = this.valueSize;
                this._weightPrev = l / (e - s), this._weightNext = l / (h - i), this._offsetPrev = r * u, this._offsetNext = a * u }, interpolate_: function(t, e, i, n) { for (var r = this.resultBuffer, o = this.sampleValues, a = this.valueSize, s = t * a, h = s - a, l = this._offsetPrev, u = this._offsetNext, c = this._weightPrev, d = this._weightNext, p = (i - e) / (n - e), f = p * p, m = f * p, g = -c * m + 2 * c * f - c * p, v = (1 + c) * m + (-1.5 - 2 * c) * f + (-.5 + c) * p + 1, y = (-1 - d) * m + (1.5 + d) * f + .5 * p, _ = d * m - d * f, b = 0; b !== a; ++b) r[b] = g * o[l + b] + v * o[h + b] + y * o[s + b] + _ * o[u + b]; return r } }), o.DiscreteInterpolant = function(t, e, i, n) { o.Interpolant.call(this, t, e, i, n) }, o.DiscreteInterpolant.prototype = Object.assign(Object.create(o.Interpolant.prototype), { constructor: o.DiscreteInterpolant, interpolate_: function(t, e, i, n) { return this.copySampleValue_(t - 1) } }), o.LinearInterpolant = function(t, e, i, n) { o.Interpolant.call(this, t, e, i, n) }, o.LinearInterpolant.prototype = Object.assign(Object.create(o.Interpolant.prototype), { constructor: o.LinearInterpolant, interpolate_: function(t, e, i, n) { for (var r = this.resultBuffer, o = this.sampleValues, a = this.valueSize, s = t * a, h = s - a, l = (i - e) / (n - e), u = 1 - l, c = 0; c !== a; ++c) r[c] = o[h + c] * u + o[s + c] * l; return r } }), o.QuaternionLinearInterpolant = function(t, e, i, n) { o.Interpolant.call(this, t, e, i, n) }, o.QuaternionLinearInterpolant.prototype = Object.assign(Object.create(o.Interpolant.prototype), { constructor: o.QuaternionLinearInterpolant, interpolate_: function(t, e, i, n) { for (var r = this.resultBuffer, a = this.sampleValues, s = this.valueSize, h = t * s, l = (i - e) / (n - e), u = h + s; h !== u; h += 4) o.Quaternion.slerpFlat(r, 0, a, h - s, a, h, l); return r } }), o.Clock = function(t) { this.autoStart = void 0 === t || t, this.startTime = 0, this.oldTime = 0, this.elapsedTime = 0, this.running = !1 }, o.Clock.prototype = { constructor: o.Clock, start: function() { this.startTime = performance.now(), this.oldTime = this.startTime, this.running = !0 }, stop: function() { this.getElapsedTime(), this.running = !1 }, getElapsedTime: function() { return this.getDelta(), this.elapsedTime }, getDelta: function() { var t = 0; if (this.autoStart && !this.running && this.start(), this.running) { var e = performance.now();
                    t = .001 * (e - this.oldTime), this.oldTime = e, this.elapsedTime += t } return t } }, o.EventDispatcher = function() {}, o.EventDispatcher.prototype = { constructor: o.EventDispatcher, apply: function(t) { t.addEventListener = o.EventDispatcher.prototype.addEventListener, t.hasEventListener = o.EventDispatcher.prototype.hasEventListener, t.removeEventListener = o.EventDispatcher.prototype.removeEventListener, t.dispatchEvent = o.EventDispatcher.prototype.dispatchEvent }, addEventListener: function(t, e) { void 0 === this._listeners && (this._listeners = {}); var i = this._listeners;
                void 0 === i[t] && (i[t] = []), i[t].indexOf(e) === -1 && i[t].push(e) }, hasEventListener: function(t, e) { if (void 0 === this._listeners) return !1; var i = this._listeners; return void 0 !== i[t] && i[t].indexOf(e) !== -1 }, removeEventListener: function(t, e) { if (void 0 !== this._listeners) { var i = this._listeners,
                        n = i[t]; if (void 0 !== n) { var r = n.indexOf(e);
                        r !== -1 && n.splice(r, 1) } } }, dispatchEvent: function(t) { if (void 0 !== this._listeners) { var e = this._listeners,
                        i = e[t.type]; if (void 0 !== i) { t.target = this; for (var n = [], r = i.length, o = 0; o < r; o++) n[o] = i[o]; for (var o = 0; o < r; o++) n[o].call(this, t) } } } }, o.Layers = function() { this.mask = 1 }, o.Layers.prototype = { constructor: o.Layers, set: function(t) { this.mask = 1 << t }, enable: function(t) { this.mask |= 1 << t }, toggle: function(t) { this.mask ^= 1 << t }, disable: function(t) { this.mask &= ~(1 << t) }, test: function(t) { return 0 !== (this.mask & t.mask) } },
        function(t) {
            function e(t, e) { return t.distance - e.distance }

            function i(t, e, n, r) { if (t.visible !== !1 && (t.raycast(e, n), r === !0))
                    for (var o = t.children, a = 0, s = o.length; a < s; a++) i(o[a], e, n, !0) } t.Raycaster = function(e, i, n, r) { this.ray = new t.Ray(e, i), this.near = n || 0, this.far = r || 1 / 0, this.params = { Mesh: {}, Line: {}, LOD: {}, Points: { threshold: 1 }, Sprite: {} }, Object.defineProperties(this.params, { PointCloud: { get: function() { return this.Points } } }) }, t.Raycaster.prototype = { constructor: t.Raycaster, linePrecision: 1, set: function(t, e) { this.ray.set(t, e) }, setFromCamera: function(e, i) { i instanceof t.PerspectiveCamera ? (this.ray.origin.setFromMatrixPosition(i.matrixWorld), this.ray.direction.set(e.x, e.y, .5).unproject(i).sub(this.ray.origin).normalize()) : i instanceof t.OrthographicCamera && (this.ray.origin.set(e.x, e.y, -1).unproject(i), this.ray.direction.set(0, 0, -1).transformDirection(i.matrixWorld)) }, intersectObject: function(t, n) { var r = []; return i(t, this, r, n), r.sort(e), r }, intersectObjects: function(t, n) { var r = []; if (Array.isArray(t) === !1) return r; for (var o = 0, a = t.length; o < a; o++) i(t[o], this, r, n); return r.sort(e), r } } }(o), o.Object3D = function() {
            function t() { r.setFromEuler(n, !1) }

            function e() { n.setFromQuaternion(r, void 0, !1) } Object.defineProperty(this, "id", { value: o.Object3DIdCount++ }), this.uuid = o.Math.generateUUID(), this.name = "", this.type = "Object3D", this.parent = null, this.children = [], this.up = o.Object3D.DefaultUp.clone(); var i = new o.Vector3,
                n = new o.Euler,
                r = new o.Quaternion,
                a = new o.Vector3(1, 1, 1);
            n.onChange(t), r.onChange(e), Object.defineProperties(this, { position: { enumerable: !0, value: i }, rotation: { enumerable: !0, value: n }, quaternion: { enumerable: !0, value: r }, scale: { enumerable: !0, value: a }, modelViewMatrix: { value: new o.Matrix4 }, normalMatrix: { value: new o.Matrix3 } }), this.rotationAutoUpdate = !0, this.matrix = new o.Matrix4, this.matrixWorld = new o.Matrix4, this.matrixAutoUpdate = o.Object3D.DefaultMatrixAutoUpdate, this.matrixWorldNeedsUpdate = !1, this.layers = new o.Layers, this.visible = !0, this.castShadow = !1, this.receiveShadow = !1, this.frustumCulled = !0, this.renderOrder = 0, this.userData = {} }, o.Object3D.DefaultUp = new o.Vector3(0, 1, 0), o.Object3D.DefaultMatrixAutoUpdate = !0, o.Object3D.prototype = { constructor: o.Object3D, applyMatrix: function(t) { this.matrix.multiplyMatrices(t, this.matrix), this.matrix.decompose(this.position, this.quaternion, this.scale) }, setRotationFromAxisAngle: function(t, e) { this.quaternion.setFromAxisAngle(t, e) }, setRotationFromEuler: function(t) { this.quaternion.setFromEuler(t, !0) }, setRotationFromMatrix: function(t) { this.quaternion.setFromRotationMatrix(t) }, setRotationFromQuaternion: function(t) { this.quaternion.copy(t) }, rotateOnAxis: function() { var t = new o.Quaternion; return function(e, i) { return t.setFromAxisAngle(e, i), this.quaternion.multiply(t), this } }(), rotateX: function() { var t = new o.Vector3(1, 0, 0); return function(e) { return this.rotateOnAxis(t, e) } }(), rotateY: function() { var t = new o.Vector3(0, 1, 0); return function(e) { return this.rotateOnAxis(t, e) } }(), rotateZ: function() { var t = new o.Vector3(0, 0, 1); return function(e) { return this.rotateOnAxis(t, e) } }(), translateOnAxis: function() { var t = new o.Vector3; return function(e, i) { return t.copy(e).applyQuaternion(this.quaternion), this.position.add(t.multiplyScalar(i)), this } }(), translateX: function() { var t = new o.Vector3(1, 0, 0); return function(e) { return this.translateOnAxis(t, e) } }(), translateY: function() { var t = new o.Vector3(0, 1, 0); return function(e) { return this.translateOnAxis(t, e) } }(), translateZ: function() { var t = new o.Vector3(0, 0, 1); return function(e) { return this.translateOnAxis(t, e) } }(), localToWorld: function(t) { return t.applyMatrix4(this.matrixWorld) }, worldToLocal: function() { var t = new o.Matrix4; return function(e) { return e.applyMatrix4(t.getInverse(this.matrixWorld)) } }(), lookAt: function() { var t = new o.Matrix4; return function(e) { t.lookAt(e, this.position, this.up), this.quaternion.setFromRotationMatrix(t) } }(), add: function(t) { if (arguments.length > 1) { for (var e = 0; e < arguments.length; e++) this.add(arguments[e]); return this } return t === this ? this : (t instanceof o.Object3D && (null !== t.parent && t.parent.remove(t), t.parent = this, t.dispatchEvent({ type: "added" }), this.children.push(t)), this) }, remove: function(t) { if (arguments.length > 1)
                    for (var e = 0; e < arguments.length; e++) this.remove(arguments[e]); var i = this.children.indexOf(t);
                i !== -1 && (t.parent = null, t.dispatchEvent({ type: "removed" }), this.children.splice(i, 1)) }, getObjectById: function(t) { return this.getObjectByProperty("id", t) }, getObjectByName: function(t) { return this.getObjectByProperty("name", t) }, getObjectByProperty: function(t, e) { if (this[t] === e) return this; for (var i = 0, n = this.children.length; i < n; i++) { var r = this.children[i],
                        o = r.getObjectByProperty(t, e); if (void 0 !== o) return o } }, getWorldPosition: function(t) { var e = t || new o.Vector3; return this.updateMatrixWorld(!0), e.setFromMatrixPosition(this.matrixWorld) }, getWorldQuaternion: function() { var t = new o.Vector3,
                    e = new o.Vector3; return function(i) { var n = i || new o.Quaternion; return this.updateMatrixWorld(!0), this.matrixWorld.decompose(t, n, e), n } }(), getWorldRotation: function() { var t = new o.Quaternion; return function(e) { var i = e || new o.Euler; return this.getWorldQuaternion(t), i.setFromQuaternion(t, this.rotation.order, !1) } }(), getWorldScale: function() { var t = new o.Vector3,
                    e = new o.Quaternion; return function(i) { var n = i || new o.Vector3; return this.updateMatrixWorld(!0), this.matrixWorld.decompose(t, e, n), n } }(), getWorldDirection: function() { var t = new o.Quaternion; return function(e) { var i = e || new o.Vector3; return this.getWorldQuaternion(t), i.set(0, 0, 1).applyQuaternion(t) } }(), raycast: function() {}, traverse: function(t) { t(this); for (var e = this.children, i = 0, n = e.length; i < n; i++) e[i].traverse(t) }, traverseVisible: function(t) { if (this.visible !== !1) { t(this); for (var e = this.children, i = 0, n = e.length; i < n; i++) e[i].traverseVisible(t) } }, traverseAncestors: function(t) { var e = this.parent;
                null !== e && (t(e), e.traverseAncestors(t)) }, updateMatrix: function() { this.matrix.compose(this.position, this.quaternion, this.scale), this.matrixWorldNeedsUpdate = !0 }, updateMatrixWorld: function(t) { this.matrixAutoUpdate === !0 && this.updateMatrix(), this.matrixWorldNeedsUpdate !== !0 && t !== !0 || (null === this.parent ? this.matrixWorld.copy(this.matrix) : this.matrixWorld.multiplyMatrices(this.parent.matrixWorld, this.matrix), this.matrixWorldNeedsUpdate = !1, t = !0); for (var e = 0, i = this.children.length; e < i; e++) this.children[e].updateMatrixWorld(t) }, toJSON: function(t) {
                function e(t) { var e = []; for (var i in t) { var n = t[i];
                        delete n.metadata, e.push(n) } return e } var i = void 0 === t,
                    n = {};
                i && (t = { geometries: {}, materials: {}, textures: {}, images: {} }, n.metadata = { version: 4.4, type: "Object", generator: "Object3D.toJSON" }); var r = {}; if (r.uuid = this.uuid, r.type = this.type, "" !== this.name && (r.name = this.name), "{}" !== JSON.stringify(this.userData) && (r.userData = this.userData), this.castShadow === !0 && (r.castShadow = !0), this.receiveShadow === !0 && (r.receiveShadow = !0), this.visible === !1 && (r.visible = !1), r.matrix = this.matrix.toArray(), void 0 !== this.geometry && (void 0 === t.geometries[this.geometry.uuid] && (t.geometries[this.geometry.uuid] = this.geometry.toJSON(t)), r.geometry = this.geometry.uuid), void 0 !== this.material && (void 0 === t.materials[this.material.uuid] && (t.materials[this.material.uuid] = this.material.toJSON(t)), r.material = this.material.uuid), this.children.length > 0) { r.children = []; for (var o = 0; o < this.children.length; o++) r.children.push(this.children[o].toJSON(t).object) } if (i) { var a = e(t.geometries),
                        s = e(t.materials),
                        h = e(t.textures),
                        l = e(t.images);
                    a.length > 0 && (n.geometries = a), s.length > 0 && (n.materials = s), h.length > 0 && (n.textures = h), l.length > 0 && (n.images = l) } return n.object = r, n }, clone: function(t) { return (new this.constructor).copy(this, t) }, copy: function(t, e) { if (void 0 === e && (e = !0), this.name = t.name, this.up.copy(t.up), this.position.copy(t.position), this.quaternion.copy(t.quaternion), this.scale.copy(t.scale), this.rotationAutoUpdate = t.rotationAutoUpdate, this.matrix.copy(t.matrix), this.matrixWorld.copy(t.matrixWorld), this.matrixAutoUpdate = t.matrixAutoUpdate, this.matrixWorldNeedsUpdate = t.matrixWorldNeedsUpdate, this.visible = t.visible, this.castShadow = t.castShadow, this.receiveShadow = t.receiveShadow, this.frustumCulled = t.frustumCulled, this.renderOrder = t.renderOrder, this.userData = JSON.parse(JSON.stringify(t.userData)), e === !0)
                    for (var i = 0; i < t.children.length; i++) { var n = t.children[i];
                        this.add(n.clone()) }
                return this } }, o.EventDispatcher.prototype.apply(o.Object3D.prototype),
        o.Object3DIdCount = 0, o.Face3 = function(t, e, i, n, r, a) { this.a = t, this.b = e, this.c = i, this.normal = n instanceof o.Vector3 ? n : new o.Vector3, this.vertexNormals = Array.isArray(n) ? n : [], this.color = r instanceof o.Color ? r : new o.Color, this.vertexColors = Array.isArray(r) ? r : [], this.materialIndex = void 0 !== a ? a : 0 }, o.Face3.prototype = { constructor: o.Face3, clone: function() { return (new this.constructor).copy(this) }, copy: function(t) { this.a = t.a, this.b = t.b, this.c = t.c, this.normal.copy(t.normal), this.color.copy(t.color), this.materialIndex = t.materialIndex; for (var e = 0, i = t.vertexNormals.length; e < i; e++) this.vertexNormals[e] = t.vertexNormals[e].clone(); for (var e = 0, i = t.vertexColors.length; e < i; e++) this.vertexColors[e] = t.vertexColors[e].clone(); return this } }, o.BufferAttribute = function(t, e) { this.uuid = o.Math.generateUUID(), this.array = t, this.itemSize = e, this.dynamic = !1, this.updateRange = { offset: 0, count: -1 }, this.version = 0 }, o.BufferAttribute.prototype = { constructor: o.BufferAttribute, get count() { return this.array.length / this.itemSize }, set needsUpdate(t) { t === !0 && this.version++ }, setDynamic: function(t) { return this.dynamic = t, this }, copy: function(t) { return this.array = new t.array.constructor(t.array), this.itemSize = t.itemSize, this.dynamic = t.dynamic, this }, copyAt: function(t, e, i) { t *= this.itemSize, i *= e.itemSize; for (var n = 0, r = this.itemSize; n < r; n++) this.array[t + n] = e.array[i + n]; return this }, copyArray: function(t) { return this.array.set(t), this }, copyColorsArray: function(t) { for (var e = this.array, i = 0, n = 0, r = t.length; n < r; n++) { var a = t[n];
                    void 0 === a && (a = new o.Color), e[i++] = a.r, e[i++] = a.g, e[i++] = a.b } return this }, copyIndicesArray: function(t) { for (var e = this.array, i = 0, n = 0, r = t.length; n < r; n++) { var o = t[n];
                    e[i++] = o.a, e[i++] = o.b, e[i++] = o.c } return this }, copyVector2sArray: function(t) { for (var e = this.array, i = 0, n = 0, r = t.length; n < r; n++) { var a = t[n];
                    void 0 === a && (a = new o.Vector2), e[i++] = a.x, e[i++] = a.y } return this }, copyVector3sArray: function(t) { for (var e = this.array, i = 0, n = 0, r = t.length; n < r; n++) { var a = t[n];
                    void 0 === a && (a = new o.Vector3), e[i++] = a.x, e[i++] = a.y, e[i++] = a.z } return this }, copyVector4sArray: function(t) { for (var e = this.array, i = 0, n = 0, r = t.length; n < r; n++) { var a = t[n];
                    void 0 === a && (a = new o.Vector4), e[i++] = a.x, e[i++] = a.y, e[i++] = a.z, e[i++] = a.w } return this }, set: function(t, e) { return void 0 === e && (e = 0), this.array.set(t, e), this }, getX: function(t) { return this.array[t * this.itemSize] }, setX: function(t, e) { return this.array[t * this.itemSize] = e, this }, getY: function(t) { return this.array[t * this.itemSize + 1] }, setY: function(t, e) { return this.array[t * this.itemSize + 1] = e, this }, getZ: function(t) { return this.array[t * this.itemSize + 2] }, setZ: function(t, e) { return this.array[t * this.itemSize + 2] = e, this }, getW: function(t) { return this.array[t * this.itemSize + 3] }, setW: function(t, e) { return this.array[t * this.itemSize + 3] = e, this }, setXY: function(t, e, i) { return t *= this.itemSize, this.array[t + 0] = e, this.array[t + 1] = i, this }, setXYZ: function(t, e, i, n) { return t *= this.itemSize, this.array[t + 0] = e, this.array[t + 1] = i, this.array[t + 2] = n, this }, setXYZW: function(t, e, i, n, r) { return t *= this.itemSize, this.array[t + 0] = e, this.array[t + 1] = i, this.array[t + 2] = n, this.array[t + 3] = r, this }, clone: function() { return (new this.constructor).copy(this) } }, o.Int8Attribute = function(t, e) { return new o.BufferAttribute(new Int8Array(t), e) }, o.Uint8Attribute = function(t, e) { return new o.BufferAttribute(new Uint8Array(t), e) }, o.Uint8ClampedAttribute = function(t, e) { return new o.BufferAttribute(new Uint8ClampedArray(t), e) }, o.Int16Attribute = function(t, e) { return new o.BufferAttribute(new Int16Array(t), e) }, o.Uint16Attribute = function(t, e) { return new o.BufferAttribute(new Uint16Array(t), e) }, o.Int32Attribute = function(t, e) { return new o.BufferAttribute(new Int32Array(t), e) }, o.Uint32Attribute = function(t, e) { return new o.BufferAttribute(new Uint32Array(t), e) }, o.Float32Attribute = function(t, e) { return new o.BufferAttribute(new Float32Array(t), e) }, o.Float64Attribute = function(t, e) { return new o.BufferAttribute(new Float64Array(t), e) }, o.DynamicBufferAttribute = function(t, e) { return new o.BufferAttribute(t, e).setDynamic(!0) }, o.InstancedBufferAttribute = function(t, e, i) { o.BufferAttribute.call(this, t, e), this.meshPerAttribute = i || 1 }, o.InstancedBufferAttribute.prototype = Object.create(o.BufferAttribute.prototype), o.InstancedBufferAttribute.prototype.constructor = o.InstancedBufferAttribute, o.InstancedBufferAttribute.prototype.copy = function(t) { return o.BufferAttribute.prototype.copy.call(this, t), this.meshPerAttribute = t.meshPerAttribute, this }, o.InterleavedBuffer = function(t, e) { this.uuid = o.Math.generateUUID(), this.array = t, this.stride = e, this.dynamic = !1, this.updateRange = { offset: 0, count: -1 }, this.version = 0 }, o.InterleavedBuffer.prototype = { constructor: o.InterleavedBuffer, get length() { return this.array.length }, get count() { return this.array.length / this.stride }, set needsUpdate(t) { t === !0 && this.version++ }, setDynamic: function(t) { return this.dynamic = t, this }, copy: function(t) { return this.array = new t.array.constructor(t.array), this.stride = t.stride, this.dynamic = t.dynamic, this }, copyAt: function(t, e, i) { t *= this.stride, i *= e.stride; for (var n = 0, r = this.stride; n < r; n++) this.array[t + n] = e.array[i + n]; return this }, set: function(t, e) { return void 0 === e && (e = 0), this.array.set(t, e), this }, clone: function() { return (new this.constructor).copy(this) } }, o.InstancedInterleavedBuffer = function(t, e, i) { o.InterleavedBuffer.call(this, t, e), this.meshPerAttribute = i || 1 }, o.InstancedInterleavedBuffer.prototype = Object.create(o.InterleavedBuffer.prototype), o.InstancedInterleavedBuffer.prototype.constructor = o.InstancedInterleavedBuffer, o.InstancedInterleavedBuffer.prototype.copy = function(t) { return o.InterleavedBuffer.prototype.copy.call(this, t), this.meshPerAttribute = t.meshPerAttribute, this }, o.InterleavedBufferAttribute = function(t, e, i) { this.uuid = o.Math.generateUUID(), this.data = t, this.itemSize = e, this.offset = i }, o.InterleavedBufferAttribute.prototype = { constructor: o.InterleavedBufferAttribute, get length() { return this.array.length }, get count() { return this.data.count }, setX: function(t, e) { return this.data.array[t * this.data.stride + this.offset] = e, this }, setY: function(t, e) { return this.data.array[t * this.data.stride + this.offset + 1] = e, this }, setZ: function(t, e) { return this.data.array[t * this.data.stride + this.offset + 2] = e, this }, setW: function(t, e) { return this.data.array[t * this.data.stride + this.offset + 3] = e, this }, getX: function(t) { return this.data.array[t * this.data.stride + this.offset] }, getY: function(t) { return this.data.array[t * this.data.stride + this.offset + 1] }, getZ: function(t) { return this.data.array[t * this.data.stride + this.offset + 2] }, getW: function(t) { return this.data.array[t * this.data.stride + this.offset + 3] }, setXY: function(t, e, i) { return t = t * this.data.stride + this.offset, this.data.array[t + 0] = e, this.data.array[t + 1] = i, this }, setXYZ: function(t, e, i, n) { return t = t * this.data.stride + this.offset, this.data.array[t + 0] = e, this.data.array[t + 1] = i, this.data.array[t + 2] = n, this }, setXYZW: function(t, e, i, n, r) { return t = t * this.data.stride + this.offset, this.data.array[t + 0] = e, this.data.array[t + 1] = i, this.data.array[t + 2] = n, this.data.array[t + 3] = r, this } }, o.Geometry = function() { Object.defineProperty(this, "id", { value: o.GeometryIdCount++ }), this.uuid = o.Math.generateUUID(), this.name = "", this.type = "Geometry", this.vertices = [], this.colors = [], this.faces = [], this.faceVertexUvs = [
                []
            ], this.morphTargets = [], this.morphNormals = [], this.skinWeights = [], this.skinIndices = [], this.lineDistances = [], this.boundingBox = null, this.boundingSphere = null, this.verticesNeedUpdate = !1, this.elementsNeedUpdate = !1, this.uvsNeedUpdate = !1, this.normalsNeedUpdate = !1, this.colorsNeedUpdate = !1, this.lineDistancesNeedUpdate = !1, this.groupsNeedUpdate = !1 }, o.Geometry.prototype = { constructor: o.Geometry, applyMatrix: function(t) { for (var e = (new o.Matrix3).getNormalMatrix(t), i = 0, n = this.vertices.length; i < n; i++) { var r = this.vertices[i];
                    r.applyMatrix4(t) } for (var i = 0, n = this.faces.length; i < n; i++) { var a = this.faces[i];
                    a.normal.applyMatrix3(e).normalize(); for (var s = 0, h = a.vertexNormals.length; s < h; s++) a.vertexNormals[s].applyMatrix3(e).normalize() } return null !== this.boundingBox && this.computeBoundingBox(), null !== this.boundingSphere && this.computeBoundingSphere(), this.verticesNeedUpdate = !0, this.normalsNeedUpdate = !0, this }, rotateX: function() { var t; return function(e) { return void 0 === t && (t = new o.Matrix4), t.makeRotationX(e), this.applyMatrix(t), this } }(), rotateY: function() { var t; return function(e) { return void 0 === t && (t = new o.Matrix4), t.makeRotationY(e), this.applyMatrix(t), this } }(), rotateZ: function() { var t; return function(e) { return void 0 === t && (t = new o.Matrix4), t.makeRotationZ(e), this.applyMatrix(t), this } }(), translate: function() { var t; return function(e, i, n) { return void 0 === t && (t = new o.Matrix4), t.makeTranslation(e, i, n), this.applyMatrix(t), this } }(), scale: function() { var t; return function(e, i, n) { return void 0 === t && (t = new o.Matrix4), t.makeScale(e, i, n), this.applyMatrix(t), this } }(), lookAt: function() { var t; return function(e) { void 0 === t && (t = new o.Object3D), t.lookAt(e), t.updateMatrix(), this.applyMatrix(t.matrix) } }(), fromBufferGeometry: function(t) {
                function e(t, e, n, r) { var a = void 0 !== s ? [c[t].clone(), c[e].clone(), c[n].clone()] : [],
                        f = void 0 !== h ? [i.colors[t].clone(), i.colors[e].clone(), i.colors[n].clone()] : [],
                        m = new o.Face3(t, e, n, a, f, r);
                    i.faces.push(m), void 0 !== l && i.faceVertexUvs[0].push([d[t].clone(), d[e].clone(), d[n].clone()]), void 0 !== u && i.faceVertexUvs[1].push([p[t].clone(), p[e].clone(), p[n].clone()]) } var i = this,
                    n = null !== t.index ? t.index.array : void 0,
                    r = t.attributes,
                    a = r.position.array,
                    s = void 0 !== r.normal ? r.normal.array : void 0,
                    h = void 0 !== r.color ? r.color.array : void 0,
                    l = void 0 !== r.uv ? r.uv.array : void 0,
                    u = void 0 !== r.uv2 ? r.uv2.array : void 0;
                void 0 !== u && (this.faceVertexUvs[1] = []); for (var c = [], d = [], p = [], f = 0, m = 0; f < a.length; f += 3, m += 2) i.vertices.push(new o.Vector3(a[f], a[f + 1], a[f + 2])), void 0 !== s && c.push(new o.Vector3(s[f], s[f + 1], s[f + 2])), void 0 !== h && i.colors.push(new o.Color(h[f], h[f + 1], h[f + 2])), void 0 !== l && d.push(new o.Vector2(l[m], l[m + 1])), void 0 !== u && p.push(new o.Vector2(u[m], u[m + 1])); if (void 0 !== n) { var g = t.groups; if (g.length > 0)
                        for (var f = 0; f < g.length; f++)
                            for (var v = g[f], y = v.start, _ = v.count, m = y, b = y + _; m < b; m += 3) e(n[m], n[m + 1], n[m + 2], v.materialIndex);
                    else
                        for (var f = 0; f < n.length; f += 3) e(n[f], n[f + 1], n[f + 2]) } else
                    for (var f = 0; f < a.length / 3; f += 3) e(f, f + 1, f + 2); return this.computeFaceNormals(), null !== t.boundingBox && (this.boundingBox = t.boundingBox.clone()), null !== t.boundingSphere && (this.boundingSphere = t.boundingSphere.clone()), this }, center: function() { this.computeBoundingBox(); var t = this.boundingBox.center().negate(); return this.translate(t.x, t.y, t.z), t }, normalize: function() { this.computeBoundingSphere(); var t = this.boundingSphere.center,
                    e = this.boundingSphere.radius,
                    i = 0 === e ? 1 : 1 / e,
                    n = new o.Matrix4; return n.set(i, 0, 0, -i * t.x, 0, i, 0, -i * t.y, 0, 0, i, -i * t.z, 0, 0, 0, 1), this.applyMatrix(n), this }, computeFaceNormals: function() { for (var t = new o.Vector3, e = new o.Vector3, i = 0, n = this.faces.length; i < n; i++) { var r = this.faces[i],
                        a = this.vertices[r.a],
                        s = this.vertices[r.b],
                        h = this.vertices[r.c];
                    t.subVectors(h, s), e.subVectors(a, s), t.cross(e), t.normalize(), r.normal.copy(t) } }, computeVertexNormals: function(t) { void 0 === t && (t = !0); var e, i, n, r, a, s; for (s = new Array(this.vertices.length), e = 0, i = this.vertices.length; e < i; e++) s[e] = new o.Vector3; if (t) { var h, l, u, c = new o.Vector3,
                        d = new o.Vector3; for (n = 0, r = this.faces.length; n < r; n++) a = this.faces[n], h = this.vertices[a.a], l = this.vertices[a.b], u = this.vertices[a.c], c.subVectors(u, l), d.subVectors(h, l), c.cross(d), s[a.a].add(c), s[a.b].add(c), s[a.c].add(c) } else
                    for (n = 0, r = this.faces.length; n < r; n++) a = this.faces[n], s[a.a].add(a.normal), s[a.b].add(a.normal), s[a.c].add(a.normal); for (e = 0, i = this.vertices.length; e < i; e++) s[e].normalize(); for (n = 0, r = this.faces.length; n < r; n++) { a = this.faces[n]; var p = a.vertexNormals;
                    3 === p.length ? (p[0].copy(s[a.a]), p[1].copy(s[a.b]), p[2].copy(s[a.c])) : (p[0] = s[a.a].clone(), p[1] = s[a.b].clone(), p[2] = s[a.c].clone()) } this.faces.length > 0 && (this.normalsNeedUpdate = !0) }, computeMorphNormals: function() { var t, e, i, n, r; for (i = 0, n = this.faces.length; i < n; i++)
                    for (r = this.faces[i], r.__originalFaceNormal ? r.__originalFaceNormal.copy(r.normal) : r.__originalFaceNormal = r.normal.clone(), r.__originalVertexNormals || (r.__originalVertexNormals = []), t = 0, e = r.vertexNormals.length; t < e; t++) r.__originalVertexNormals[t] ? r.__originalVertexNormals[t].copy(r.vertexNormals[t]) : r.__originalVertexNormals[t] = r.vertexNormals[t].clone(); var a = new o.Geometry; for (a.faces = this.faces, t = 0, e = this.morphTargets.length; t < e; t++) { if (!this.morphNormals[t]) { this.morphNormals[t] = {}, this.morphNormals[t].faceNormals = [], this.morphNormals[t].vertexNormals = []; var s, h, l = this.morphNormals[t].faceNormals,
                            u = this.morphNormals[t].vertexNormals; for (i = 0, n = this.faces.length; i < n; i++) s = new o.Vector3, h = { a: new o.Vector3, b: new o.Vector3, c: new o.Vector3 }, l.push(s), u.push(h) } var c = this.morphNormals[t];
                    a.vertices = this.morphTargets[t].vertices, a.computeFaceNormals(), a.computeVertexNormals(); var s, h; for (i = 0, n = this.faces.length; i < n; i++) r = this.faces[i], s = c.faceNormals[i], h = c.vertexNormals[i], s.copy(r.normal), h.a.copy(r.vertexNormals[0]), h.b.copy(r.vertexNormals[1]), h.c.copy(r.vertexNormals[2]) } for (i = 0, n = this.faces.length; i < n; i++) r = this.faces[i], r.normal = r.__originalFaceNormal, r.vertexNormals = r.__originalVertexNormals }, computeTangents: function() {}, computeLineDistances: function() { for (var t = 0, e = this.vertices, i = 0, n = e.length; i < n; i++) i > 0 && (t += e[i].distanceTo(e[i - 1])), this.lineDistances[i] = t }, computeBoundingBox: function() { null === this.boundingBox && (this.boundingBox = new o.Box3), this.boundingBox.setFromPoints(this.vertices) }, computeBoundingSphere: function() { null === this.boundingSphere && (this.boundingSphere = new o.Sphere), this.boundingSphere.setFromPoints(this.vertices) }, merge: function(t, e, i) { if (t instanceof o.Geometry != !1) { var n, r = this.vertices.length,
                        a = this.vertices,
                        s = t.vertices,
                        h = this.faces,
                        l = t.faces,
                        u = this.faceVertexUvs[0],
                        c = t.faceVertexUvs[0];
                    void 0 === i && (i = 0), void 0 !== e && (n = (new o.Matrix3).getNormalMatrix(e)); for (var d = 0, p = s.length; d < p; d++) { var f = s[d],
                            m = f.clone();
                        void 0 !== e && m.applyMatrix4(e), a.push(m) } for (d = 0, p = l.length; d < p; d++) { var g, v, y, _ = l[d],
                            b = _.vertexNormals,
                            x = _.vertexColors;
                        g = new o.Face3(_.a + r, _.b + r, _.c + r), g.normal.copy(_.normal), void 0 !== n && g.normal.applyMatrix3(n).normalize(); for (var w = 0, T = b.length; w < T; w++) v = b[w].clone(), void 0 !== n && v.applyMatrix3(n).normalize(), g.vertexNormals.push(v);
                        g.color.copy(_.color); for (var w = 0, T = x.length; w < T; w++) y = x[w], g.vertexColors.push(y.clone());
                        g.materialIndex = _.materialIndex + i, h.push(g) } for (d = 0, p = c.length; d < p; d++) { var S = c[d],
                            M = []; if (void 0 !== S) { for (var w = 0, T = S.length; w < T; w++) M.push(S[w].clone());
                            u.push(M) } } } }, mergeMesh: function(t) { t instanceof o.Mesh != !1 && (t.matrixAutoUpdate && t.updateMatrix(), this.merge(t.geometry, t.matrix)) }, mergeVertices: function() { var t, e, i, n, r, o, a, s, h = {},
                    l = [],
                    u = [],
                    c = 4,
                    d = Math.pow(10, c); for (i = 0, n = this.vertices.length; i < n; i++) t = this.vertices[i], e = Math.round(t.x * d) + "_" + Math.round(t.y * d) + "_" + Math.round(t.z * d), void 0 === h[e] ? (h[e] = i, l.push(this.vertices[i]), u[i] = l.length - 1) : u[i] = u[h[e]]; var p = []; for (i = 0, n = this.faces.length; i < n; i++) { r = this.faces[i], r.a = u[r.a], r.b = u[r.b], r.c = u[r.c], o = [r.a, r.b, r.c]; for (var f = -1, m = 0; m < 3; m++)
                        if (o[m] === o[(m + 1) % 3]) { f = m, p.push(i); break } } for (i = p.length - 1; i >= 0; i--) { var g = p[i]; for (this.faces.splice(g, 1), a = 0, s = this.faceVertexUvs.length; a < s; a++) this.faceVertexUvs[a].splice(g, 1) } var v = this.vertices.length - l.length; return this.vertices = l, v }, sortFacesByMaterialIndex: function() {
                function t(t, e) { return t.materialIndex - e.materialIndex } for (var e = this.faces, i = e.length, n = 0; n < i; n++) e[n]._id = n;
                e.sort(t); var r, o, a = this.faceVertexUvs[0],
                    s = this.faceVertexUvs[1];
                a && a.length === i && (r = []), s && s.length === i && (o = []); for (var n = 0; n < i; n++) { var h = e[n]._id;
                    r && r.push(a[h]), o && o.push(s[h]) } r && (this.faceVertexUvs[0] = r), o && (this.faceVertexUvs[1] = o) }, toJSON: function() {
                function t(t, e, i) { return i ? t | 1 << e : t & ~(1 << e) }

                function e(t) { var e = t.x.toString() + t.y.toString() + t.z.toString(); return void 0 !== d[e] ? d[e] : (d[e] = c.length / 3, c.push(t.x, t.y, t.z), d[e]) }

                function i(t) { var e = t.r.toString() + t.g.toString() + t.b.toString(); return void 0 !== f[e] ? f[e] : (f[e] = p.length, p.push(t.getHex()), f[e]) }

                function n(t) { var e = t.x.toString() + t.y.toString(); return void 0 !== g[e] ? g[e] : (g[e] = m.length / 2, m.push(t.x, t.y), g[e]) } var r = { metadata: { version: 4.4, type: "Geometry", generator: "Geometry.toJSON" } }; if (r.uuid = this.uuid, r.type = this.type, "" !== this.name && (r.name = this.name), void 0 !== this.parameters) { var o = this.parameters; for (var a in o) void 0 !== o[a] && (r[a] = o[a]); return r } for (var s = [], h = 0; h < this.vertices.length; h++) { var l = this.vertices[h];
                    s.push(l.x, l.y, l.z) } for (var u = [], c = [], d = {}, p = [], f = {}, m = [], g = {}, h = 0; h < this.faces.length; h++) { var v = this.faces[h],
                        y = !0,
                        _ = !1,
                        b = void 0 !== this.faceVertexUvs[0][h],
                        x = v.normal.length() > 0,
                        w = v.vertexNormals.length > 0,
                        T = 1 !== v.color.r || 1 !== v.color.g || 1 !== v.color.b,
                        S = v.vertexColors.length > 0,
                        M = 0; if (M = t(M, 0, 0), M = t(M, 1, y), M = t(M, 2, _), M = t(M, 3, b), M = t(M, 4, x), M = t(M, 5, w), M = t(M, 6, T), M = t(M, 7, S), u.push(M), u.push(v.a, v.b, v.c), u.push(v.materialIndex), b) { var E = this.faceVertexUvs[0][h];
                        u.push(n(E[0]), n(E[1]), n(E[2])) } if (x && u.push(e(v.normal)), w) { var A = v.vertexNormals;
                        u.push(e(A[0]), e(A[1]), e(A[2])) } if (T && u.push(i(v.color)), S) { var C = v.vertexColors;
                        u.push(i(C[0]), i(C[1]), i(C[2])) } } return r.data = {}, r.data.vertices = s, r.data.normals = c, p.length > 0 && (r.data.colors = p), m.length > 0 && (r.data.uvs = [m]), r.data.faces = u, r }, clone: function() { return (new o.Geometry).copy(this) }, copy: function(t) { this.vertices = [], this.faces = [], this.faceVertexUvs = [
                    []
                ]; for (var e = t.vertices, i = 0, n = e.length; i < n; i++) this.vertices.push(e[i].clone()); for (var r = t.faces, i = 0, n = r.length; i < n; i++) this.faces.push(r[i].clone()); for (var i = 0, n = t.faceVertexUvs.length; i < n; i++) { var o = t.faceVertexUvs[i];
                    void 0 === this.faceVertexUvs[i] && (this.faceVertexUvs[i] = []); for (var a = 0, s = o.length; a < s; a++) { for (var h = o[a], l = [], u = 0, c = h.length; u < c; u++) { var d = h[u];
                            l.push(d.clone()) } this.faceVertexUvs[i].push(l) } } return this }, dispose: function() { this.dispatchEvent({ type: "dispose" }) } }, o.EventDispatcher.prototype.apply(o.Geometry.prototype), o.GeometryIdCount = 0, o.DirectGeometry = function() { Object.defineProperty(this, "id", { value: o.GeometryIdCount++ }), this.uuid = o.Math.generateUUID(), this.name = "", this.type = "DirectGeometry", this.indices = [], this.vertices = [], this.normals = [], this.colors = [], this.uvs = [], this.uvs2 = [], this.groups = [], this.morphTargets = {}, this.skinWeights = [], this.skinIndices = [], this.boundingBox = null, this.boundingSphere = null, this.verticesNeedUpdate = !1, this.normalsNeedUpdate = !1, this.colorsNeedUpdate = !1, this.uvsNeedUpdate = !1, this.groupsNeedUpdate = !1 }, o.DirectGeometry.prototype = { constructor: o.DirectGeometry, computeBoundingBox: o.Geometry.prototype.computeBoundingBox, computeBoundingSphere: o.Geometry.prototype.computeBoundingSphere, computeFaceNormals: function() {}, computeVertexNormals: function() {}, computeGroups: function(t) { for (var e, i, n = [], r = t.faces, o = 0; o < r.length; o++) { var a = r[o];
                    a.materialIndex !== i && (i = a.materialIndex, void 0 !== e && (e.count = 3 * o - e.start, n.push(e)), e = { start: 3 * o, materialIndex: i }) } void 0 !== e && (e.count = 3 * o - e.start, n.push(e)), this.groups = n }, fromGeometry: function(t) { var e, i = t.faces,
                    n = t.vertices,
                    r = t.faceVertexUvs,
                    a = r[0] && r[0].length > 0,
                    s = r[1] && r[1].length > 0,
                    h = t.morphTargets,
                    l = h.length; if (l > 0) { e = []; for (var u = 0; u < l; u++) e[u] = [];
                    this.morphTargets.position = e } var c, d = t.morphNormals,
                    p = d.length; if (p > 0) { c = []; for (var u = 0; u < p; u++) c[u] = [];
                    this.morphTargets.normal = c } for (var f = t.skinIndices, m = t.skinWeights, g = f.length === n.length, v = m.length === n.length, u = 0; u < i.length; u++) { var y = i[u];
                    this.vertices.push(n[y.a], n[y.b], n[y.c]); var _ = y.vertexNormals; if (3 === _.length) this.normals.push(_[0], _[1], _[2]);
                    else { var b = y.normal;
                        this.normals.push(b, b, b) } var x = y.vertexColors; if (3 === x.length) this.colors.push(x[0], x[1], x[2]);
                    else { var w = y.color;
                        this.colors.push(w, w, w) } if (a === !0) { var T = r[0][u];
                        void 0 !== T ? this.uvs.push(T[0], T[1], T[2]) : this.uvs.push(new o.Vector2, new o.Vector2, new o.Vector2) } if (s === !0) { var T = r[1][u];
                        void 0 !== T ? this.uvs2.push(T[0], T[1], T[2]) : this.uvs2.push(new o.Vector2, new o.Vector2, new o.Vector2) } for (var S = 0; S < l; S++) { var M = h[S].vertices;
                        e[S].push(M[y.a], M[y.b], M[y.c]) } for (var S = 0; S < p; S++) { var E = d[S].vertexNormals[u];
                        c[S].push(E.a, E.b, E.c) } g && this.skinIndices.push(f[y.a], f[y.b], f[y.c]), v && this.skinWeights.push(m[y.a], m[y.b], m[y.c]) } return this.computeGroups(t), this.verticesNeedUpdate = t.verticesNeedUpdate, this.normalsNeedUpdate = t.normalsNeedUpdate, this.colorsNeedUpdate = t.colorsNeedUpdate, this.uvsNeedUpdate = t.uvsNeedUpdate, this.groupsNeedUpdate = t.groupsNeedUpdate, this }, dispose: function() { this.dispatchEvent({ type: "dispose" }) } }, o.EventDispatcher.prototype.apply(o.DirectGeometry.prototype), o.BufferGeometry = function() { Object.defineProperty(this, "id", { value: o.GeometryIdCount++ }), this.uuid = o.Math.generateUUID(), this.name = "", this.type = "BufferGeometry", this.index = null, this.attributes = {}, this.morphAttributes = {}, this.groups = [], this.boundingBox = null, this.boundingSphere = null, this.drawRange = { start: 0, count: 1 / 0 } }, o.BufferGeometry.prototype = { constructor: o.BufferGeometry, getIndex: function() { return this.index }, setIndex: function(t) { this.index = t }, addAttribute: function(t, e) { return e instanceof o.BufferAttribute == !1 && e instanceof o.InterleavedBufferAttribute == !1 ? void this.addAttribute(t, new o.BufferAttribute(arguments[1], arguments[2])) : "index" === t ? void this.setIndex(e) : (this.attributes[t] = e, this) }, getAttribute: function(t) { return this.attributes[t] }, removeAttribute: function(t) { return delete this.attributes[t], this }, addGroup: function(t, e, i) { this.groups.push({ start: t, count: e, materialIndex: void 0 !== i ? i : 0 }) }, clearGroups: function() { this.groups = [] }, setDrawRange: function(t, e) { this.drawRange.start = t, this.drawRange.count = e }, applyMatrix: function(t) { var e = this.attributes.position;
                void 0 !== e && (t.applyToVector3Array(e.array), e.needsUpdate = !0); var i = this.attributes.normal; if (void 0 !== i) { var n = (new o.Matrix3).getNormalMatrix(t);
                    n.applyToVector3Array(i.array), i.needsUpdate = !0 } return null !== this.boundingBox && this.computeBoundingBox(), null !== this.boundingSphere && this.computeBoundingSphere(), this }, rotateX: function() { var t; return function(e) { return void 0 === t && (t = new o.Matrix4), t.makeRotationX(e), this.applyMatrix(t), this } }(), rotateY: function() { var t; return function(e) { return void 0 === t && (t = new o.Matrix4), t.makeRotationY(e), this.applyMatrix(t), this } }(), rotateZ: function() { var t; return function(e) { return void 0 === t && (t = new o.Matrix4), t.makeRotationZ(e), this.applyMatrix(t), this } }(), translate: function() { var t; return function(e, i, n) { return void 0 === t && (t = new o.Matrix4), t.makeTranslation(e, i, n), this.applyMatrix(t), this } }(), scale: function() { var t; return function(e, i, n) { return void 0 === t && (t = new o.Matrix4), t.makeScale(e, i, n), this.applyMatrix(t), this } }(), lookAt: function() { var t; return function(e) { void 0 === t && (t = new o.Object3D), t.lookAt(e), t.updateMatrix(), this.applyMatrix(t.matrix) } }(), center: function() { this.computeBoundingBox(); var t = this.boundingBox.center().negate(); return this.translate(t.x, t.y, t.z), t }, setFromObject: function(t) { var e = t.geometry; if (t instanceof o.Points || t instanceof o.Line) { var i = new o.Float32Attribute(3 * e.vertices.length, 3),
                        n = new o.Float32Attribute(3 * e.colors.length, 3); if (this.addAttribute("position", i.copyVector3sArray(e.vertices)), this.addAttribute("color", n.copyColorsArray(e.colors)), e.lineDistances && e.lineDistances.length === e.vertices.length) { var r = new o.Float32Attribute(e.lineDistances.length, 1);
                        this.addAttribute("lineDistance", r.copyArray(e.lineDistances)) } null !== e.boundingSphere && (this.boundingSphere = e.boundingSphere.clone()), null !== e.boundingBox && (this.boundingBox = e.boundingBox.clone()) } else t instanceof o.Mesh && e instanceof o.Geometry && this.fromGeometry(e); return this }, updateFromObject: function(t) { var e = t.geometry; if (t instanceof o.Mesh) { var i = e.__directGeometry; if (void 0 === i) return this.fromGeometry(e);
                    i.verticesNeedUpdate = e.verticesNeedUpdate, i.normalsNeedUpdate = e.normalsNeedUpdate, i.colorsNeedUpdate = e.colorsNeedUpdate, i.uvsNeedUpdate = e.uvsNeedUpdate, i.groupsNeedUpdate = e.groupsNeedUpdate, e.verticesNeedUpdate = !1, e.normalsNeedUpdate = !1, e.colorsNeedUpdate = !1, e.uvsNeedUpdate = !1, e.groupsNeedUpdate = !1, e = i } if (e.verticesNeedUpdate === !0) { var n = this.attributes.position;
                    void 0 !== n && (n.copyVector3sArray(e.vertices), n.needsUpdate = !0), e.verticesNeedUpdate = !1 } if (e.normalsNeedUpdate === !0) { var n = this.attributes.normal;
                    void 0 !== n && (n.copyVector3sArray(e.normals), n.needsUpdate = !0), e.normalsNeedUpdate = !1 } if (e.colorsNeedUpdate === !0) { var n = this.attributes.color;
                    void 0 !== n && (n.copyColorsArray(e.colors), n.needsUpdate = !0), e.colorsNeedUpdate = !1 } if (e.uvsNeedUpdate) { var n = this.attributes.uv;
                    void 0 !== n && (n.copyVector2sArray(e.uvs), n.needsUpdate = !0), e.uvsNeedUpdate = !1 } if (e.lineDistancesNeedUpdate) { var n = this.attributes.lineDistance;
                    void 0 !== n && (n.copyArray(e.lineDistances), n.needsUpdate = !0), e.lineDistancesNeedUpdate = !1 } return e.groupsNeedUpdate && (e.computeGroups(t.geometry), this.groups = e.groups, e.groupsNeedUpdate = !1), this }, fromGeometry: function(t) { return t.__directGeometry = (new o.DirectGeometry).fromGeometry(t), this.fromDirectGeometry(t.__directGeometry) }, fromDirectGeometry: function(t) { var e = new Float32Array(3 * t.vertices.length); if (this.addAttribute("position", new o.BufferAttribute(e, 3).copyVector3sArray(t.vertices)), t.normals.length > 0) { var i = new Float32Array(3 * t.normals.length);
                    this.addAttribute("normal", new o.BufferAttribute(i, 3).copyVector3sArray(t.normals)) } if (t.colors.length > 0) { var n = new Float32Array(3 * t.colors.length);
                    this.addAttribute("color", new o.BufferAttribute(n, 3).copyColorsArray(t.colors)) } if (t.uvs.length > 0) { var r = new Float32Array(2 * t.uvs.length);
                    this.addAttribute("uv", new o.BufferAttribute(r, 2).copyVector2sArray(t.uvs)) } if (t.uvs2.length > 0) { var a = new Float32Array(2 * t.uvs2.length);
                    this.addAttribute("uv2", new o.BufferAttribute(a, 2).copyVector2sArray(t.uvs2)) } if (t.indices.length > 0) { var s = t.vertices.length > 65535 ? Uint32Array : Uint16Array,
                        h = new s(3 * t.indices.length);
                    this.setIndex(new o.BufferAttribute(h, 1).copyIndicesArray(t.indices)) } this.groups = t.groups; for (var l in t.morphTargets) { for (var u = [], c = t.morphTargets[l], d = 0, p = c.length; d < p; d++) { var f = c[d],
                            m = new o.Float32Attribute(3 * f.length, 3);
                        u.push(m.copyVector3sArray(f)) } this.morphAttributes[l] = u } if (t.skinIndices.length > 0) { var g = new o.Float32Attribute(4 * t.skinIndices.length, 4);
                    this.addAttribute("skinIndex", g.copyVector4sArray(t.skinIndices)) } if (t.skinWeights.length > 0) { var v = new o.Float32Attribute(4 * t.skinWeights.length, 4);
                    this.addAttribute("skinWeight", v.copyVector4sArray(t.skinWeights)) } return null !== t.boundingSphere && (this.boundingSphere = t.boundingSphere.clone()), null !== t.boundingBox && (this.boundingBox = t.boundingBox.clone()), this }, computeBoundingBox: function() { new o.Vector3; return function() { null === this.boundingBox && (this.boundingBox = new o.Box3); var t = this.attributes.position.array;
                    t && this.boundingBox.setFromArray(t), void 0 !== t && 0 !== t.length || (this.boundingBox.min.set(0, 0, 0), this.boundingBox.max.set(0, 0, 0)), isNaN(this.boundingBox.min.x) || isNaN(this.boundingBox.min.y) || isNaN(this.boundingBox.min.z) } }(), computeBoundingSphere: function() { var t = new o.Box3,
                    e = new o.Vector3; return function() { null === this.boundingSphere && (this.boundingSphere = new o.Sphere); var i = this.attributes.position.array; if (i) { var n = this.boundingSphere.center;
                        t.setFromArray(i), t.center(n); for (var r = 0, a = 0, s = i.length; a < s; a += 3) e.fromArray(i, a), r = Math.max(r, n.distanceToSquared(e));
                        this.boundingSphere.radius = Math.sqrt(r), isNaN(this.boundingSphere.radius) } } }(), computeFaceNormals: function() {}, computeVertexNormals: function() { var t = this.index,
                    e = this.attributes,
                    i = this.groups; if (e.position) { var n = e.position.array; if (void 0 === e.normal) this.addAttribute("normal", new o.BufferAttribute(new Float32Array(n.length), 3));
                    else
                        for (var r = e.normal.array, a = 0, s = r.length; a < s; a++) r[a] = 0; var h, l, u, c = e.normal.array,
                        d = new o.Vector3,
                        p = new o.Vector3,
                        f = new o.Vector3,
                        m = new o.Vector3,
                        g = new o.Vector3; if (t) { var v = t.array;
                        0 === i.length && this.addGroup(0, v.length); for (var y = 0, _ = i.length; y < _; ++y)
                            for (var b = i[y], x = b.start, w = b.count, a = x, s = x + w; a < s; a += 3) h = 3 * v[a + 0], l = 3 * v[a + 1], u = 3 * v[a + 2], d.fromArray(n, h), p.fromArray(n, l), f.fromArray(n, u), m.subVectors(f, p), g.subVectors(d, p), m.cross(g), c[h] += m.x, c[h + 1] += m.y, c[h + 2] += m.z, c[l] += m.x, c[l + 1] += m.y, c[l + 2] += m.z, c[u] += m.x, c[u + 1] += m.y, c[u + 2] += m.z } else
                        for (var a = 0, s = n.length; a < s; a += 9) d.fromArray(n, a), p.fromArray(n, a + 3), f.fromArray(n, a + 6), m.subVectors(f, p), g.subVectors(d, p), m.cross(g), c[a] = m.x, c[a + 1] = m.y, c[a + 2] = m.z, c[a + 3] = m.x, c[a + 4] = m.y, c[a + 5] = m.z, c[a + 6] = m.x, c[a + 7] = m.y, c[a + 8] = m.z;
                    this.normalizeNormals(), e.normal.needsUpdate = !0 } }, merge: function(t, e) { if (t instanceof o.BufferGeometry != !1) { void 0 === e && (e = 0); var i = this.attributes; for (var n in i)
                        if (void 0 !== t.attributes[n])
                            for (var r = i[n], a = r.array, s = t.attributes[n], h = s.array, l = s.itemSize, u = 0, c = l * e; u < h.length; u++, c++) a[c] = h[u]; return this } }, normalizeNormals: function() { for (var t, e, i, n, r = this.attributes.normal.array, o = 0, a = r.length; o < a; o += 3) t = r[o], e = r[o + 1], i = r[o + 2], n = 1 / Math.sqrt(t * t + e * e + i * i), r[o] *= n, r[o + 1] *= n, r[o + 2] *= n }, toNonIndexed: function() { if (null === this.index) return this; var t = new o.BufferGeometry,
                    e = this.index.array,
                    i = this.attributes; for (var n in i) { for (var r = i[n], a = r.array, s = r.itemSize, h = new a.constructor(e.length * s), l = 0, u = 0, c = 0, d = e.length; c < d; c++) { l = e[c] * s; for (var p = 0; p < s; p++) h[u++] = a[l++] } t.addAttribute(n, new o.BufferAttribute(h, s)) } return t }, toJSON: function() { var t = { metadata: { version: 4.4, type: "BufferGeometry", generator: "BufferGeometry.toJSON" } }; if (t.uuid = this.uuid, t.type = this.type, "" !== this.name && (t.name = this.name), void 0 !== this.parameters) { var e = this.parameters; for (var i in e) void 0 !== e[i] && (t[i] = e[i]); return t } t.data = { attributes: {} }; var n = this.index; if (null !== n) { var r = Array.prototype.slice.call(n.array);
                    t.data.index = { type: n.array.constructor.name, array: r } } var o = this.attributes; for (var i in o) { var a = o[i],
                        r = Array.prototype.slice.call(a.array);
                    t.data.attributes[i] = { itemSize: a.itemSize, type: a.array.constructor.name, array: r } } var s = this.groups;
                s.length > 0 && (t.data.groups = JSON.parse(JSON.stringify(s))); var h = this.boundingSphere; return null !== h && (t.data.boundingSphere = { center: h.center.toArray(), radius: h.radius }), t }, clone: function() { return (new o.BufferGeometry).copy(this) }, copy: function(t) { var e = t.index;
                null !== e && this.setIndex(e.clone()); var i = t.attributes; for (var n in i) { var r = i[n];
                    this.addAttribute(n, r.clone()) } for (var o = t.groups, a = 0, s = o.length; a < s; a++) { var h = o[a];
                    this.addGroup(h.start, h.count) } return this }, dispose: function() { this.dispatchEvent({ type: "dispose" }) } }, o.EventDispatcher.prototype.apply(o.BufferGeometry.prototype), o.BufferGeometry.MaxIndex = 65535, o.InstancedBufferGeometry = function() { o.BufferGeometry.call(this), this.type = "InstancedBufferGeometry", this.maxInstancedCount = void 0 }, o.InstancedBufferGeometry.prototype = Object.create(o.BufferGeometry.prototype), o.InstancedBufferGeometry.prototype.constructor = o.InstancedBufferGeometry, o.InstancedBufferGeometry.prototype.addGroup = function(t, e, i) { this.groups.push({ start: t, count: e, instances: i }) }, o.InstancedBufferGeometry.prototype.copy = function(t) { var e = t.index;
            null !== e && this.setIndex(e.clone()); var i = t.attributes; for (var n in i) { var r = i[n];
                this.addAttribute(n, r.clone()) } for (var o = t.groups, a = 0, s = o.length; a < s; a++) { var h = o[a];
                this.addGroup(h.start, h.count, h.instances) } return this }, o.EventDispatcher.prototype.apply(o.InstancedBufferGeometry.prototype), o.Uniform = function(t, e) { this.type = t, this.value = e, this.dynamic = !1 }, o.Uniform.prototype = { constructor: o.Uniform, onUpdate: function(t) { return this.dynamic = !0, this.onUpdateCallback = t, this } }, o.AnimationClip = function(t, e, i) { this.name = t || o.Math.generateUUID(), this.tracks = i, this.duration = void 0 !== e ? e : -1, this.duration < 0 && this.resetDuration(), this.trim(), this.optimize() }, o.AnimationClip.prototype = { constructor: o.AnimationClip, resetDuration: function() { for (var t = this.tracks, e = 0, i = 0, n = t.length; i !== n; ++i) { var r = this.tracks[i];
                    e = Math.max(e, r.times[r.times.length - 1]) } this.duration = e }, trim: function() { for (var t = 0; t < this.tracks.length; t++) this.tracks[t].trim(0, this.duration); return this }, optimize: function() { for (var t = 0; t < this.tracks.length; t++) this.tracks[t].optimize(); return this } }, Object.assign(o.AnimationClip, {
            parse: function(t) { for (var e = [], i = t.tracks, n = 1 / (t.fps || 1), r = 0, a = i.length; r !== a; ++r) e.push(o.KeyframeTrack.parse(i[r]).scale(n)); return new o.AnimationClip(t.name, t.duration, e) },
            toJSON: function(t) {
                for (var e = [], i = t.tracks, n = { name: t.name, duration: t.duration, tracks: e }, r = 0, a = i.length; r !== a; ++r) e.push(o.KeyframeTrack.toJSON(i[r]));
                return n
            },
            CreateFromMorphTargetSequence: function(t, e, i) { for (var n = e.length, r = [], a = 0; a < n; a++) { var s = [],
                        h = [];
                    s.push((a + n - 1) % n, a, (a + 1) % n), h.push(0, 1, 0); var l = o.AnimationUtils.getKeyframeOrder(s);
                    s = o.AnimationUtils.sortedArray(s, 1, l), h = o.AnimationUtils.sortedArray(h, 1, l), 0 === s[0] && (s.push(n), h.push(h[0])), r.push(new o.NumberKeyframeTrack(".morphTargetInfluences[" + e[a].name + "]", s, h).scale(1 / i)) } return new o.AnimationClip(t, (-1), r) },
            findByName: function(t, e) { for (var i = 0; i < t.length; i++)
                    if (t[i].name === e) return t[i]; return null },
            CreateClipsFromMorphTargetSequences: function(t, e) { for (var i = {}, n = /^([\w-]*?)([\d]+)$/, r = 0, a = t.length; r < a; r++) { var s = t[r],
                        h = s.name.match(n); if (h && h.length > 1) { var l = h[1],
                            u = i[l];
                        u || (i[l] = u = []), u.push(s) } } var c = []; for (var l in i) c.push(o.AnimationClip.CreateFromMorphTargetSequence(l, i[l], e)); return c },
            parseAnimation: function(t, e, i) { if (!t) return null; for (var n = function(t, e, i, n, r) { if (0 !== i.length) { var a = [],
                                s = [];
                            o.AnimationUtils.flattenJSON(i, a, s, n), 0 !== a.length && r.push(new t(e, a, s)) } }, r = [], a = t.name || "default", s = t.length || -1, h = t.fps || 30, l = t.hierarchy || [], u = 0; u < l.length; u++) { var c = l[u].keys; if (c && 0 != c.length)
                        if (c[0].morphTargets) { for (var d = {}, p = 0; p < c.length; p++)
                                if (c[p].morphTargets)
                                    for (var f = 0; f < c[p].morphTargets.length; f++) d[c[p].morphTargets[f]] = -1; for (var m in d) { for (var g = [], v = [], f = 0; f !== c[p].morphTargets.length; ++f) { var y = c[p];
                                    g.push(y.time), v.push(y.morphTarget === m ? 1 : 0) } r.push(new o.NumberKeyframeTrack(".morphTargetInfluence[" + m + "]", g, v)) } s = d.length * (h || 1) } else { var _ = ".bones[" + e[u].name + "]";
                            n(o.VectorKeyframeTrack, _ + ".position", c, "pos", r), n(o.QuaternionKeyframeTrack, _ + ".quaternion", c, "rot", r), n(o.VectorKeyframeTrack, _ + ".scale", c, "scl", r) } } if (0 === r.length) return null; var b = new o.AnimationClip(a, s, r); return b }
        }), o.AnimationMixer = function(t) { this._root = t, this._initMemoryManager(), this._accuIndex = 0, this.time = 0, this.timeScale = 1 }, o.AnimationMixer.prototype = { constructor: o.AnimationMixer, clipAction: function(t, e) { var i, n = e || this._root,
                    r = n.uuid,
                    a = "string" == typeof t ? t : t.name,
                    s = t !== a ? t : null,
                    h = this._actionsByClip[a]; if (void 0 !== h) { var l = h.actionByRoot[r]; if (void 0 !== l) return l; if (i = h.knownActions[0], s = i._clip, t !== a && t !== s) throw new Error("Different clips with the same name detected!") } if (null === s) return null; var u = new o.AnimationMixer._Action(this, s, e); return this._bindAction(u, i), this._addInactiveAction(u, a, r), u }, existingAction: function(t, e) { var i = e || this._root,
                    n = i.uuid,
                    r = "string" == typeof t ? t : t.name,
                    o = this._actionsByClip[r]; return void 0 !== o ? o.actionByRoot[n] || null : null }, stopAllAction: function() { var t = this._actions,
                    e = this._nActiveActions,
                    i = this._bindings,
                    n = this._nActiveBindings;
                this._nActiveActions = 0, this._nActiveBindings = 0; for (var r = 0; r !== e; ++r) t[r].reset(); for (var r = 0; r !== n; ++r) i[r].useCount = 0; return this }, update: function(t) { t *= this.timeScale; for (var e = this._actions, i = this._nActiveActions, n = this.time += t, r = Math.sign(t), o = this._accuIndex ^= 1, a = 0; a !== i; ++a) { var s = e[a];
                    s.enabled && s._update(n, t, r, o) } for (var h = this._bindings, l = this._nActiveBindings, a = 0; a !== l; ++a) h[a].apply(o); return this }, getRoot: function() { return this._root }, uncacheClip: function(t) { var e = this._actions,
                    i = t.name,
                    n = this._actionsByClip,
                    r = n[i]; if (void 0 !== r) { for (var o = r.knownActions, a = 0, s = o.length; a !== s; ++a) { var h = o[a];
                        this._deactivateAction(h); var l = h._cacheIndex,
                            u = e[e.length - 1];
                        h._cacheIndex = null, h._byClipCacheIndex = null, u._cacheIndex = l, e[l] = u, e.pop(), this._removeInactiveBindingsForAction(h) } delete n[i] } }, uncacheRoot: function(t) { var e = t.uuid,
                    i = this._actionsByClip; for (var n in i) { var r = i[n].actionByRoot,
                        o = r[e];
                    void 0 !== o && (this._deactivateAction(o), this._removeInactiveAction(o)) } var a = this._bindingsByRootAndName,
                    s = a[e]; if (void 0 !== s)
                    for (var h in s) { var l = s[h];
                        l.restoreOriginalState(), this._removeInactiveBinding(l) } }, uncacheAction: function(t, e) { var i = this.existingAction(t, e);
                null !== i && (this._deactivateAction(i), this._removeInactiveAction(i)) } }, o.EventDispatcher.prototype.apply(o.AnimationMixer.prototype), o.AnimationMixer._Action = function(t, e, i) { this._mixer = t, this._clip = e, this._localRoot = i || null; for (var n = e.tracks, r = n.length, a = new Array(r), s = { endingStart: o.ZeroCurvatureEnding, endingEnd: o.ZeroCurvatureEnding }, h = 0; h !== r; ++h) { var l = n[h].createInterpolant(null);
                a[h] = l, l.settings = s } this._interpolantSettings = s, this._interpolants = a, this._propertyBindings = new Array(r), this._cacheIndex = null, this._byClipCacheIndex = null, this._timeScaleInterpolant = null, this._weightInterpolant = null, this.loop = o.LoopRepeat, this._loopCount = -1, this._startTime = null, this.time = 0, this.timeScale = 1, this._effectiveTimeScale = 1, this.weight = 1, this._effectiveWeight = 1, this.repetitions = 1 / 0, this.paused = !1, this.enabled = !0, this.clampWhenFinished = !1, this.zeroSlopeAtStart = !0, this.zeroSlopeAtEnd = !0 }, o.AnimationMixer._Action.prototype = { constructor: o.AnimationMixer._Action, play: function() { return this._mixer._activateAction(this), this }, stop: function() { return this._mixer._deactivateAction(this), this.reset() }, reset: function() { return this.paused = !1, this.enabled = !0, this.time = 0, this._loopCount = -1, this._startTime = null, this.stopFading().stopWarping() }, isRunning: function() { this._startTime; return this.enabled && !this.paused && 0 !== this.timeScale && null === this._startTime && this._mixer._isActiveAction(this) }, isScheduled: function() { return this._mixer._isActiveAction(this) }, startAt: function(t) { return this._startTime = t, this }, setLoop: function(t, e) { return this.loop = t, this.repetitions = e, this }, setEffectiveWeight: function(t) { return this.weight = t, this._effectiveWeight = this.enabled ? t : 0, this.stopFading() }, getEffectiveWeight: function() { return this._effectiveWeight }, fadeIn: function(t) { return this._scheduleFading(t, 0, 1) }, fadeOut: function(t) { return this._scheduleFading(t, 1, 0) }, crossFadeFrom: function(t, e, i) { this._mixer; if (t.fadeOut(e), this.fadeIn(e), i) { var n = this._clip.duration,
                        r = t._clip.duration,
                        o = r / n,
                        a = n / r;
                    t.warp(1, o, e), this.warp(a, 1, e) } return this }, crossFadeTo: function(t, e, i) { return t.crossFadeFrom(this, e, i) }, stopFading: function() { var t = this._weightInterpolant; return null !== t && (this._weightInterpolant = null, this._mixer._takeBackControlInterpolant(t)), this }, setEffectiveTimeScale: function(t) { return this.timeScale = t, this._effectiveTimeScale = this.paused ? 0 : t, this.stopWarping() }, getEffectiveTimeScale: function() { return this._effectiveTimeScale }, setDuration: function(t) { return this.timeScale = this._clip.duration / t, this.stopWarping() }, syncWith: function(t) { return this.time = t.time, this.timeScale = t.timeScale, this.stopWarping() }, halt: function(t) { return this.warp(this._currentTimeScale, 0, t) }, warp: function(t, e, i) { var n = this._mixer,
                    r = n.time,
                    o = this._timeScaleInterpolant,
                    a = this.timeScale;
                null === o && (o = n._lendControlInterpolant(), this._timeScaleInterpolant = o); var s = o.parameterPositions,
                    h = o.sampleValues; return s[0] = r, s[1] = r + i, h[0] = t / a, h[1] = e / a, this }, stopWarping: function() { var t = this._timeScaleInterpolant; return null !== t && (this._timeScaleInterpolant = null, this._mixer._takeBackControlInterpolant(t)), this }, getMixer: function() { return this._mixer }, getClip: function() { return this._clip }, getRoot: function() { return this._localRoot || this._mixer._root }, _update: function(t, e, i, n) { var r = this._startTime; if (null !== r) { var o = (t - r) * i; if (o < 0 || 0 === i) return;
                    this._startTime = null, e = i * o } e *= this._updateTimeScale(t); var a = this._updateTime(e),
                    s = this._updateWeight(t); if (s > 0)
                    for (var h = this._interpolants, l = this._propertyBindings, u = 0, c = h.length; u !== c; ++u) h[u].evaluate(a), l[u].accumulate(n, s) }, _updateWeight: function(t) { var e = 0; if (this.enabled) { e = this.weight; var i = this._weightInterpolant; if (null !== i) { var n = i.evaluate(t)[0];
                        e *= n, t > i.parameterPositions[1] && (this.stopFading(), 0 === n && (this.enabled = !1)) } } return this._effectiveWeight = e, e }, _updateTimeScale: function(t) { var e = 0; if (!this.paused) { e = this.timeScale; var i = this._timeScaleInterpolant; if (null !== i) { var n = i.evaluate(t)[0];
                        e *= n, t > i.parameterPositions[1] && (this.stopWarping(), 0 === e ? this.pause = !0 : this.timeScale = e) } } return this._effectiveTimeScale = e, e }, _updateTime: function(t) { var e = this.time + t; if (0 === t) return e; var i = this._clip.duration,
                    n = this.loop,
                    r = this._loopCount,
                    a = !1; switch (n) {
                    case o.LoopOnce:
                        if (r === -1 && (this.loopCount = 0, this._setEndings(!0, !0, !1)), e >= i) e = i;
                        else { if (!(e < 0)) break;
                            e = 0 } this.clampWhenFinished ? this.pause = !0 : this.enabled = !1, this._mixer.dispatchEvent({ type: "finished", action: this, direction: t < 0 ? -1 : 1 }); break;
                    case o.LoopPingPong:
                        a = !0;
                    case o.LoopRepeat:
                        if (r === -1 && (t > 0 ? (r = 0, this._setEndings(!0, 0 === this.repetitions, a)) : this._setEndings(0 === this.repetitions, !0, a)), e >= i || e < 0) { var s = Math.floor(e / i);
                            e -= i * s, r += Math.abs(s); var h = this.repetitions - r; if (h < 0) { this.clampWhenFinished ? this.paused = !0 : this.enabled = !1, e = t > 0 ? i : 0, this._mixer.dispatchEvent({ type: "finished", action: this, direction: t > 0 ? 1 : -1 }); break } if (0 === h) { var l = t < 0;
                                this._setEndings(l, !l, a) } else this._setEndings(!1, !1, a);
                            this._loopCount = r, this._mixer.dispatchEvent({ type: "loop", action: this, loopDelta: s }) } if (n === o.LoopPingPong && 1 === (1 & r)) return this.time = e, i - e } return this.time = e, e }, _setEndings: function(t, e, i) { var n = this._interpolantSettings;
                i ? (n.endingStart = o.ZeroSlopeEnding, n.endingEnd = o.ZeroSlopeEnding) : (t ? n.endingStart = this.zeroSlopeAtStart ? o.ZeroSlopeEnding : o.ZeroCurvatureEnding : n.endingStart = o.WrapAroundEnding, e ? n.endingEnd = this.zeroSlopeAtEnd ? o.ZeroSlopeEnding : o.ZeroCurvatureEnding : n.endingEnd = o.WrapAroundEnding) }, _scheduleFading: function(t, e, i) { var n = this._mixer,
                    r = n.time,
                    o = this._weightInterpolant;
                null === o && (o = n._lendControlInterpolant(), this._weightInterpolant = o); var a = o.parameterPositions,
                    s = o.sampleValues; return a[0] = r, s[0] = e, a[1] = r + t, s[1] = i, this } }, Object.assign(o.AnimationMixer.prototype, { _bindAction: function(t, e) { var i = t._localRoot || this._root,
                    n = t._clip.tracks,
                    r = n.length,
                    a = t._propertyBindings,
                    s = t._interpolants,
                    h = i.uuid,
                    l = this._bindingsByRootAndName,
                    u = l[h];
                void 0 === u && (u = {}, l[h] = u); for (var c = 0; c !== r; ++c) { var d = n[c],
                        p = d.name,
                        f = u[p]; if (void 0 !== f) a[c] = f;
                    else { if (f = a[c], void 0 !== f) { null === f._cacheIndex && (++f.referenceCount, this._addInactiveBinding(f, h, p)); continue } var m = e && e._propertyBindings[c].binding.parsedPath;
                        f = new o.PropertyMixer(o.PropertyBinding.create(i, p, m), d.ValueTypeName, d.getValueSize()), ++f.referenceCount, this._addInactiveBinding(f, h, p), a[c] = f } s[c].resultBuffer = f.buffer } }, _activateAction: function(t) { if (!this._isActiveAction(t)) { if (null === t._cacheIndex) { var e = (t._localRoot || this._root).uuid,
                            i = t._clip.name,
                            n = this._actionsByClip[i];
                        this._bindAction(t, n && n.knownActions[0]), this._addInactiveAction(t, i, e) } for (var r = t._propertyBindings, o = 0, a = r.length; o !== a; ++o) { var s = r[o];
                        0 === s.useCount++ && (this._lendBinding(s), s.saveOriginalState()) } this._lendAction(t) } }, _deactivateAction: function(t) { if (this._isActiveAction(t)) { for (var e = t._propertyBindings, i = 0, n = e.length; i !== n; ++i) { var r = e[i];
                        0 === --r.useCount && (r.restoreOriginalState(), this._takeBackBinding(r)) } this._takeBackAction(t) } }, _initMemoryManager: function() { this._actions = [], this._nActiveActions = 0, this._actionsByClip = {}, this._bindings = [], this._nActiveBindings = 0, this._bindingsByRootAndName = {}, this._controlInterpolants = [], this._nActiveControlInterpolants = 0; var t = this;
                this.stats = { actions: { get total() { return t._actions.length }, get inUse() { return t._nActiveActions } }, bindings: { get total() { return t._bindings.length }, get inUse() { return t._nActiveBindings } }, controlInterpolants: { get total() { return t._controlInterpolants.length }, get inUse() { return t._nActiveControlInterpolants } } } }, _isActiveAction: function(t) { var e = t._cacheIndex; return null !== e && e < this._nActiveActions }, _addInactiveAction: function(t, e, i) { var n = this._actions,
                    r = this._actionsByClip,
                    o = r[e]; if (void 0 === o) o = { knownActions: [t], actionByRoot: {} }, t._byClipCacheIndex = 0, r[e] = o;
                else { var a = o.knownActions;
                    t._byClipCacheIndex = a.length, a.push(t) } t._cacheIndex = n.length, n.push(t), o.actionByRoot[i] = t }, _removeInactiveAction: function(t) { var e = this._actions,
                    i = e[e.length - 1],
                    n = t._cacheIndex;
                i._cacheIndex = n, e[n] = i, e.pop(), t._cacheIndex = null; var r = t._clip.name,
                    o = this._actionsByClip,
                    a = o[r],
                    s = a.knownActions,
                    h = s[s.length - 1],
                    l = t._byClipCacheIndex;
                h._byClipCacheIndex = l, s[l] = h, s.pop(), t._byClipCacheIndex = null; var u = a.actionByRoot,
                    c = (e._localRoot || this._root).uuid;
                delete u[c], 0 === s.length && delete o[r], this._removeInactiveBindingsForAction(t) }, _removeInactiveBindingsForAction: function(t) { for (var e = t._propertyBindings, i = 0, n = e.length; i !== n; ++i) { var r = e[i];
                    0 === --r.referenceCount && this._removeInactiveBinding(r) } }, _lendAction: function(t) { var e = this._actions,
                    i = t._cacheIndex,
                    n = this._nActiveActions++,
                    r = e[n];
                t._cacheIndex = n, e[n] = t, r._cacheIndex = i, e[i] = r }, _takeBackAction: function(t) { var e = this._actions,
                    i = t._cacheIndex,
                    n = --this._nActiveActions,
                    r = e[n];
                t._cacheIndex = n, e[n] = t, r._cacheIndex = i, e[i] = r }, _addInactiveBinding: function(t, e, i) { var n = this._bindingsByRootAndName,
                    r = n[e],
                    o = this._bindings;
                void 0 === r && (r = {}, n[e] = r), r[i] = t, t._cacheIndex = o.length, o.push(t) }, _removeInactiveBinding: function(t) { var e = this._bindings,
                    i = t.binding,
                    n = i.rootNode.uuid,
                    r = i.path,
                    o = this._bindingsByRootAndName,
                    a = o[n],
                    s = e[e.length - 1],
                    h = t._cacheIndex;
                s._cacheIndex = h, e[h] = s, e.pop(), delete a[r];
                t: { for (var l in a) break t;delete o[n] } }, _lendBinding: function(t) { var e = this._bindings,
                    i = t._cacheIndex,
                    n = this._nActiveBindings++,
                    r = e[n];
                t._cacheIndex = n, e[n] = t, r._cacheIndex = i, e[i] = r }, _takeBackBinding: function(t) { var e = this._bindings,
                    i = t._cacheIndex,
                    n = --this._nActiveBindings,
                    r = e[n];
                t._cacheIndex = n, e[n] = t, r._cacheIndex = i, e[i] = r }, _lendControlInterpolant: function() { var t = this._controlInterpolants,
                    e = this._nActiveControlInterpolants++,
                    i = t[e]; return void 0 === i && (i = new o.LinearInterpolant(new Float32Array(2), new Float32Array(2), 1, this._controlInterpolantsResultBuffer), i.__cacheIndex = e, t[e] = i), i }, _takeBackControlInterpolant: function(t) { var e = this._controlInterpolants,
                    i = t.__cacheIndex,
                    n = --this._nActiveControlInterpolants,
                    r = e[n];
                t.__cacheIndex = n, e[n] = t, r.__cacheIndex = i, e[i] = r }, _controlInterpolantsResultBuffer: new Float32Array(1) }), o.AnimationObjectGroup = function(t) { this.uuid = o.Math.generateUUID(), this._objects = Array.prototype.slice.call(arguments), this.nCachedObjects_ = 0; var e = {};
            this._indicesByUUID = e; for (var i = 0, n = arguments.length; i !== n; ++i) e[arguments[i].uuid] = i;
            this._paths = [], this._parsedPaths = [], this._bindings = [], this._bindingsIndicesByPath = {}; var r = this;
            this.stats = { objects: { get total() { return r._objects.length }, get inUse() { return this.total - r.nCachedObjects_ } }, get bindingsPerObject() { return r._bindings.length } } }, o.AnimationObjectGroup.prototype = { constructor: o.AnimationObjectGroup, add: function(t) { for (var e = this._objects, i = e.length, n = this.nCachedObjects_, r = this._indicesByUUID, a = this._paths, s = this._parsedPaths, h = this._bindings, l = h.length, u = 0, c = arguments.length; u !== c; ++u) { var d = arguments[u],
                        p = d.uuid,
                        f = r[p]; if (void 0 === f) { f = i++, r[p] = f, e.push(d); for (var m = 0, g = l; m !== g; ++m) h[m].push(new o.PropertyBinding(d, a[m], s[m])) } else if (f < n) { var v = e[f],
                            y = --n,
                            _ = e[y];
                        r[_.uuid] = f, e[f] = _, r[p] = y, e[y] = d; for (var m = 0, g = l; m !== g; ++m) { var b = h[m],
                                x = b[y],
                                w = b[f];
                            b[f] = x, void 0 === w && (w = new o.PropertyBinding(d, a[m], s[m])), b[y] = w } } else e[f] !== v } this.nCachedObjects_ = n }, remove: function(t) { for (var e = this._objects, i = (e.length, this.nCachedObjects_), n = this._indicesByUUID, r = this._bindings, o = r.length, a = 0, s = arguments.length; a !== s; ++a) { var h = arguments[a],
                        l = h.uuid,
                        u = n[l]; if (void 0 !== u && u >= i) { var c = i++,
                            d = e[c];
                        n[d.uuid] = u, e[u] = d, n[l] = c, e[c] = h; for (var p = 0, f = o; p !== f; ++p) { var m = r[p],
                                g = m[c],
                                v = m[u];
                            m[u] = g, m[c] = v } } } this.nCachedObjects_ = i }, uncache: function(t) { for (var e = this._objects, i = e.length, n = this.nCachedObjects_, r = this._indicesByUUID, o = this._bindings, a = o.length, s = 0, h = arguments.length; s !== h; ++s) { var l = arguments[s],
                        u = l.uuid,
                        c = r[u]; if (void 0 !== c)
                        if (delete r[u], c < n) { var d = --n,
                                p = e[d],
                                f = --i,
                                m = e[f];
                            r[p.uuid] = c, e[c] = p, r[m.uuid] = d, e[d] = m, e.pop(); for (var g = 0, v = a; g !== v; ++g) { var y = o[g],
                                    _ = y[d],
                                    b = y[f];
                                y[c] = _, y[d] = b, y.pop() } } else { var f = --i,
                                m = e[f];
                            r[m.uuid] = c, e[c] = m, e.pop(); for (var g = 0, v = a; g !== v; ++g) { var y = o[g];
                                y[c] = y[f], y.pop() } } } this.nCachedObjects_ = n }, subscribe_: function(t, e) { var i = this._bindingsIndicesByPath,
                    n = i[t],
                    r = this._bindings; if (void 0 !== n) return r[n]; var a = this._paths,
                    s = this._parsedPaths,
                    h = this._objects,
                    l = h.length,
                    u = this.nCachedObjects_,
                    c = new Array(l);
                n = r.length, i[t] = n, a.push(t), s.push(e), r.push(c); for (var d = u, p = h.length; d !== p; ++d) { var f = h[d];
                    c[d] = new o.PropertyBinding(f, t, e) } return c }, unsubscribe_: function(t) { var e = this._bindingsIndicesByPath,
                    i = e[t]; if (void 0 !== i) { var n = this._paths,
                        r = this._parsedPaths,
                        o = this._bindings,
                        a = o.length - 1,
                        s = o[a],
                        h = t[a];
                    e[h] = i, o[i] = s, o.pop(), r[i] = r[a], r.pop(), n[i] = n[a], n.pop() } } }, o.AnimationUtils = { arraySlice: function(t, e, i) { return o.AnimationUtils.isTypedArray(t) ? new t.constructor(t.subarray(e, i)) : t.slice(e, i) }, convertArray: function(t, e, i) { return !t || !i && t.constructor === e ? t : "number" == typeof e.BYTES_PER_ELEMENT ? new e(t) : Array.prototype.slice.call(t) }, isTypedArray: function(t) { return ArrayBuffer.isView(t) && !(t instanceof DataView) }, getKeyframeOrder: function(t) {
                function e(e, i) { return t[e] - t[i] } for (var i = t.length, n = new Array(i), r = 0; r !== i; ++r) n[r] = r; return n.sort(e), n }, sortedArray: function(t, e, i) { for (var n = t.length, r = new t.constructor(n), o = 0, a = 0; a !== n; ++o)
                    for (var s = i[o] * e, h = 0; h !== e; ++h) r[a++] = t[s + h]; return r }, flattenJSON: function(t, e, i, n) { for (var r = 1, o = t[0]; void 0 !== o && void 0 === o[n];) o = t[r++]; if (void 0 !== o) { var a = o[n]; if (void 0 !== a)
                        if (Array.isArray(a)) { do a = o[n], void 0 !== a && (e.push(o.time), i.push.apply(i, a)), o = t[r++]; while (void 0 !== o) } else if (void 0 !== a.toArray) { do a = o[n], void 0 !== a && (e.push(o.time), a.toArray(i, i.length)), o = t[r++]; while (void 0 !== o) } else
                        do a = o[n], void 0 !== a && (e.push(o.time), i.push(a)), o = t[r++]; while (void 0 !== o) } } }, o.KeyframeTrack = function(t, e, i, n) { if (void 0 === t) throw new Error("track name is undefined"); if (void 0 === e || 0 === e.length) throw new Error("no keyframes in track named " + t);
            this.name = t, this.times = o.AnimationUtils.convertArray(e, this.TimeBufferType), this.values = o.AnimationUtils.convertArray(i, this.ValueBufferType), this.setInterpolation(n || this.DefaultInterpolation), this.validate(), this.optimize() }, o.KeyframeTrack.prototype = { constructor: o.KeyframeTrack, TimeBufferType: Float32Array, ValueBufferType: Float32Array, DefaultInterpolation: o.InterpolateLinear, InterpolantFactoryMethodDiscrete: function(t) { return new o.DiscreteInterpolant(this.times, this.values, this.getValueSize(), t) }, InterpolantFactoryMethodLinear: function(t) { return new o.LinearInterpolant(this.times, this.values, this.getValueSize(), t) }, InterpolantFactoryMethodSmooth: function(t) { return new o.CubicInterpolant(this.times, this.values, this.getValueSize(), t) }, setInterpolation: function(t) { var e = void 0; switch (t) {
                    case o.InterpolateDiscrete:
                        e = this.InterpolantFactoryMethodDiscrete; break;
                    case o.InterpolateLinear:
                        e = this.InterpolantFactoryMethodLinear; break;
                    case o.InterpolateSmooth:
                        e = this.InterpolantFactoryMethodSmooth } if (void 0 !== e) this.createInterpolant = e;
                else { var i = "unsupported interpolation for " + this.ValueTypeName + " keyframe track named " + this.name; if (void 0 === this.createInterpolant) { if (t === this.DefaultInterpolation) throw new Error(i);
                        this.setInterpolation(this.DefaultInterpolation) } } }, getInterpolation: function() { switch (this.createInterpolant) {
                    case this.InterpolantFactoryMethodDiscrete:
                        return o.InterpolateDiscrete;
                    case this.InterpolantFactoryMethodLinear:
                        return o.InterpolateLinear;
                    case this.InterpolantFactoryMethodSmooth:
                        return o.InterpolateSmooth } }, getValueSize: function() { return this.values.length / this.times.length }, shift: function(t) { if (0 !== t)
                    for (var e = this.times, i = 0, n = e.length; i !== n; ++i) e[i] += t; return this }, scale: function(t) { if (1 !== t)
                    for (var e = this.times, i = 0, n = e.length; i !== n; ++i) e[i] *= t; return this }, trim: function(t, e) { for (var i = this.times, n = i.length, r = 0, a = n - 1; r !== n && i[r] < t;) ++r; for (; a !== -1 && i[a] > e;) --a; if (++a, 0 !== r || a !== n) { r >= a && (a = Math.max(a, 1), r = a - 1); var s = this.getValueSize();
                    this.times = o.AnimationUtils.arraySlice(i, r, a), this.values = o.AnimationUtils.arraySlice(this.values, r * s, a * s) } return this }, validate: function() { var t = !0,
                    e = this.getValueSize();
                e - Math.floor(e) !== 0 && (t = !1); var i = this.times,
                    n = this.values,
                    r = i.length;
                0 === r && (t = !1); for (var a = null, s = 0; s !== r; s++) { var h = i[s]; if ("number" == typeof h && isNaN(h)) { t = !1; break } if (null !== a && a > h) { t = !1; break } a = h } if (void 0 !== n && o.AnimationUtils.isTypedArray(n))
                    for (var s = 0, l = n.length; s !== l; ++s) { var u = n[s]; if (isNaN(u)) { t = !1; break } }
                return t }, optimize: function() { for (var t = this.times, e = this.values, i = this.getValueSize(), n = 1, r = 1, a = t.length - 1; r <= a; ++r) { var s = !1,
                        h = t[r],
                        l = t[r + 1]; if (h !== l && (1 !== r || h !== h[0]))
                        for (var u = r * i, c = u - i, d = u + i, p = 0; p !== i; ++p) { var f = e[u + p]; if (f !== e[c + p] || f !== e[d + p]) { s = !0; break } }
                    if (s) { if (r !== n) { t[n] = t[r]; for (var m = r * i, g = n * i, p = 0; p !== i; ++p) e[g + p] = e[m + p] }++n } } return n !== t.length && (this.times = o.AnimationUtils.arraySlice(t, 0, n), this.values = o.AnimationUtils.arraySlice(e, 0, n * i)), this } }, Object.assign(o.KeyframeTrack, { parse: function(t) { if (void 0 === t.type) throw new Error("track type undefined, can not parse"); var e = o.KeyframeTrack._getTrackTypeForValueTypeName(t.type); if (void 0 === t.times) { var i = [],
                        n = [];
                    o.AnimationUtils.flattenJSON(t.keys, i, n, "value"), t.times = i, t.values = n } return void 0 !== e.parse ? e.parse(t) : new e(t.name, t.times, t.values, t.interpolation) }, toJSON: function(t) { var e, i = t.constructor; if (void 0 !== i.toJSON) e = i.toJSON(t);
                else { e = { name: t.name, times: o.AnimationUtils.convertArray(t.times, Array), values: o.AnimationUtils.convertArray(t.values, Array) }; var n = t.getInterpolation();
                    n !== t.DefaultInterpolation && (e.interpolation = n) } return e.type = t.ValueTypeName, e }, _getTrackTypeForValueTypeName: function(t) { switch (t.toLowerCase()) {
                    case "scalar":
                    case "double":
                    case "float":
                    case "number":
                    case "integer":
                        return o.NumberKeyframeTrack;
                    case "vector":
                    case "vector2":
                    case "vector3":
                    case "vector4":
                        return o.VectorKeyframeTrack;
                    case "color":
                        return o.ColorKeyframeTrack;
                    case "quaternion":
                        return o.QuaternionKeyframeTrack;
                    case "bool":
                    case "boolean":
                        return o.BooleanKeyframeTrack;
                    case "string":
                        return o.StringKeyframeTrack } throw new Error("Unsupported typeName: " + t) } }), o.PropertyBinding = function(t, e, i) { this.path = e, this.parsedPath = i || o.PropertyBinding.parseTrackName(e), this.node = o.PropertyBinding.findNode(t, this.parsedPath.nodeName) || t, this.rootNode = t }, o.PropertyBinding.prototype = { constructor: o.PropertyBinding, getValue: function(t, e) { this.bind(), this.getValue(t, e) }, setValue: function(t, e) { this.bind(), this.setValue(t, e) }, bind: function() { var t = this.node,
                    e = this.parsedPath,
                    i = e.objectName,
                    n = e.propertyName,
                    r = e.propertyIndex; if (t || (t = o.PropertyBinding.findNode(this.rootNode, e.nodeName) || this.rootNode, this.node = t), this.getValue = this._getValue_unavailable, this.setValue = this._setValue_unavailable, t) { if (i) { var a = e.objectIndex; switch (i) {
                            case "materials":
                                if (!t.material) return; if (!t.material.materials) return;
                                t = t.material.materials; break;
                            case "bones":
                                if (!t.skeleton) return;
                                t = t.skeleton.bones; for (var s = 0; s < t.length; s++)
                                    if (t[s].name === a) { a = s; break } break;
                            default:
                                if (void 0 === t[i]) return;
                                t = t[i] } if (void 0 !== a) { if (void 0 === t[a]) return;
                            t = t[a] } } var h = t[n]; if (h) { var l = this.Versioning.None;
                        void 0 !== t.needsUpdate ? (l = this.Versioning.NeedsUpdate, this.targetObject = t) : void 0 !== t.matrixWorldNeedsUpdate && (l = this.Versioning.MatrixWorldNeedsUpdate, this.targetObject = t); var u = this.BindingType.Direct; if (void 0 !== r) { if ("morphTargetInfluences" === n) { if (!t.geometry) return; if (!t.geometry.morphTargets) return; for (var s = 0; s < this.node.geometry.morphTargets.length; s++)
                                    if (t.geometry.morphTargets[s].name === r) { r = s; break } } u = this.BindingType.ArrayElement, this.resolvedProperty = h, this.propertyIndex = r } else void 0 !== h.fromArray && void 0 !== h.toArray ? (u = this.BindingType.HasFromToArray, this.resolvedProperty = h) : void 0 !== h.length ? (u = this.BindingType.EntireArray, this.resolvedProperty = h) : this.propertyName = n;
                        this.getValue = this.GetterByBindingType[u], this.setValue = this.SetterByBindingTypeAndVersioning[u][l] } else { e.nodeName } } }, unbind: function() { this.node = null, this.getValue = this._getValue_unbound, this.setValue = this._setValue_unbound } }, Object.assign(o.PropertyBinding.prototype, { _getValue_unavailable: function() {}, _setValue_unavailable: function() {}, _getValue_unbound: o.PropertyBinding.prototype.getValue, _setValue_unbound: o.PropertyBinding.prototype.setValue, BindingType: { Direct: 0, EntireArray: 1, ArrayElement: 2, HasFromToArray: 3 }, Versioning: { None: 0, NeedsUpdate: 1, MatrixWorldNeedsUpdate: 2 }, GetterByBindingType: [function(t, e) { t[e] = this.node[this.propertyName] }, function(t, e) { for (var i = this.resolvedProperty, n = 0, r = i.length; n !== r; ++n) t[e++] = i[n] }, function(t, e) { t[e] = this.resolvedProperty[this.propertyIndex] }, function(t, e) { this.resolvedProperty.toArray(t, e) }], SetterByBindingTypeAndVersioning: [
                [function(t, e) { this.node[this.propertyName] = t[e] }, function(t, e) { this.node[this.propertyName] = t[e], this.targetObject.needsUpdate = !0 }, function(t, e) { this.node[this.propertyName] = t[e], this.targetObject.matrixWorldNeedsUpdate = !0 }],
                [function(t, e) { for (var i = this.resolvedProperty, n = 0, r = i.length; n !== r; ++n) i[n] = t[e++] }, function(t, e) { for (var i = this.resolvedProperty, n = 0, r = i.length; n !== r; ++n) i[n] = t[e++];
                    this.targetObject.needsUpdate = !0 }, function(t, e) { for (var i = this.resolvedProperty, n = 0, r = i.length; n !== r; ++n) i[n] = t[e++];
                    this.targetObject.matrixWorldNeedsUpdate = !0 }],
                [function(t, e) { this.resolvedProperty[this.propertyIndex] = t[e] }, function(t, e) { this.resolvedProperty[this.propertyIndex] = t[e], this.targetObject.needsUpdate = !0 }, function(t, e) { this.resolvedProperty[this.propertyIndex] = t[e], this.targetObject.matrixWorldNeedsUpdate = !0 }],
                [function(t, e) { this.resolvedProperty.fromArray(t, e) }, function(t, e) { this.resolvedProperty.fromArray(t, e), this.targetObject.needsUpdate = !0 }, function(t, e) { this.resolvedProperty.fromArray(t, e), this.targetObject.matrixWorldNeedsUpdate = !0 }]
            ] }), o.PropertyBinding.Composite = function(t, e, i) { var n = i || o.PropertyBinding.parseTrackName(e);
            this._targetGroup = t, this._bindings = t.subscribe_(e, n) }, o.PropertyBinding.Composite.prototype = { constructor: o.PropertyBinding.Composite, getValue: function(t, e) { this.bind(); var i = this._targetGroup.nCachedObjects_,
                    n = this._bindings[i];
                void 0 !== n && n.getValue(t, e) }, setValue: function(t, e) { for (var i = this._bindings, n = this._targetGroup.nCachedObjects_, r = i.length; n !== r; ++n) i[n].setValue(t, e) }, bind: function() { for (var t = this._bindings, e = this._targetGroup.nCachedObjects_, i = t.length; e !== i; ++e) t[e].bind() }, unbind: function() { for (var t = this._bindings, e = this._targetGroup.nCachedObjects_, i = t.length; e !== i; ++e) t[e].unbind() } }, o.PropertyBinding.create = function(t, e, i) { return t instanceof o.AnimationObjectGroup ? new o.PropertyBinding.Composite(t, e, i) : new o.PropertyBinding(t, e, i) }, o.PropertyBinding.parseTrackName = function(t) { var e = /^(([\w]+\/)*)([\w-\d]+)?(\.([\w]+)(\[([\w\d\[\]\_.:\- ]+)\])?)?(\.([\w.]+)(\[([\w\d\[\]\_. ]+)\])?)$/,
                i = e.exec(t); if (!i) throw new Error("cannot parse trackName at all: " + t);
            i.index === e.lastIndex && e.lastIndex++; var n = { nodeName: i[3], objectName: i[5], objectIndex: i[7], propertyName: i[9], propertyIndex: i[11] }; if (null === n.propertyName || 0 === n.propertyName.length) throw new Error("can not parse propertyName from trackName: " + t); return n }, o.PropertyBinding.findNode = function(t, e) { if (!e || "" === e || "root" === e || "." === e || e === -1 || e === t.name || e === t.uuid) return t; if (t.skeleton) { var i = function(t) { for (var i = 0; i < t.bones.length; i++) { var n = t.bones[i]; if (n.name === e) return n } return null },
                    n = i(t.skeleton); if (n) return n } if (t.children) { var r = function(t) { for (var i = 0; i < t.length; i++) { var n = t[i]; if (n.name === e || n.uuid === e) return n; var o = r(n.children); if (o) return o } return null },
                    o = r(t.children); if (o) return o } return null }, o.PropertyMixer = function(t, e, i) { this.binding = t, this.valueSize = i; var n, r = Float64Array; switch (e) {
                case "quaternion":
                    n = this._slerp; break;
                case "string":
                case "bool":
                    r = Array, n = this._select; break;
                default:
                    n = this._lerp } this.buffer = new r(4 * i), this._mixBufferRegion = n, this.cumulativeWeight = 0, this.useCount = 0, this.referenceCount = 0 }, o.PropertyMixer.prototype = { constructor: o.PropertyMixer, accumulate: function(t, e) { var i = this.buffer,
                    n = this.valueSize,
                    r = t * n + n,
                    o = this.cumulativeWeight; if (0 === o) { for (var a = 0; a !== n; ++a) i[r + a] = i[a];
                    o = e } else { o += e; var s = e / o;
                    this._mixBufferRegion(i, r, 0, s, n) } this.cumulativeWeight = o }, apply: function(t) { var e = this.valueSize,
                    i = this.buffer,
                    n = t * e + e,
                    r = this.cumulativeWeight,
                    o = this.binding; if (this.cumulativeWeight = 0, r < 1) { var a = 3 * e;
                    this._mixBufferRegion(i, n, a, 1 - r, e) } for (var s = e, h = e + e; s !== h; ++s)
                    if (i[s] !== i[s + e]) { o.setValue(i, n); break } }, saveOriginalState: function() { var t = this.binding,
                    e = this.buffer,
                    i = this.valueSize,
                    n = 3 * i;
                t.getValue(e, n); for (var r = i, o = n; r !== o; ++r) e[r] = e[n + r % i];
                this.cumulativeWeight = 0 }, restoreOriginalState: function() { var t = 3 * this.valueSize;
                this.binding.setValue(this.buffer, t) }, _select: function(t, e, i, n, r) { if (n >= .5)
                    for (var o = 0; o !== r; ++o) t[e + o] = t[i + o] }, _slerp: function(t, e, i, n, r) { o.Quaternion.slerpFlat(t, e, t, e, t, i, n) }, _lerp: function(t, e, i, n, r) { for (var o = 1 - n, a = 0; a !== r; ++a) { var s = e + a;
                    t[s] = t[s] * o + t[i + a] * n } } }, o.BooleanKeyframeTrack = function(t, e, i) { o.KeyframeTrack.call(this, t, e, i) }, o.BooleanKeyframeTrack.prototype = Object.assign(Object.create(o.KeyframeTrack.prototype), { constructor: o.BooleanKeyframeTrack, ValueTypeName: "bool", ValueBufferType: Array, DefaultInterpolation: o.IntepolateDiscrete, InterpolantFactoryMethodLinear: void 0, InterpolantFactoryMethodSmooth: void 0 }), o.NumberKeyframeTrack = function(t, e, i, n) { o.KeyframeTrack.call(this, t, e, i, n) }, o.NumberKeyframeTrack.prototype = Object.assign(Object.create(o.KeyframeTrack.prototype), { constructor: o.NumberKeyframeTrack, ValueTypeName: "number" }), o.QuaternionKeyframeTrack = function(t, e, i, n) { o.KeyframeTrack.call(this, t, e, i, n) }, o.QuaternionKeyframeTrack.prototype = Object.assign(Object.create(o.KeyframeTrack.prototype), { constructor: o.QuaternionKeyframeTrack, ValueTypeName: "quaternion", DefaultInterpolation: o.InterpolateLinear, InterpolantFactoryMethodLinear: function(t) { return new o.QuaternionLinearInterpolant(this.times, this.values, this.getValueSize(), t) }, InterpolantFactoryMethodSmooth: void 0 }), o.StringKeyframeTrack = function(t, e, i, n) { o.KeyframeTrack.call(this, t, e, i, n) }, o.StringKeyframeTrack.prototype = Object.assign(Object.create(o.KeyframeTrack.prototype), { constructor: o.StringKeyframeTrack, ValueTypeName: "string", ValueBufferType: Array, DefaultInterpolation: o.IntepolateDiscrete, InterpolantFactoryMethodLinear: void 0, InterpolantFactoryMethodSmooth: void 0 }), o.VectorKeyframeTrack = function(t, e, i, n) { o.KeyframeTrack.call(this, t, e, i, n) }, o.VectorKeyframeTrack.prototype = Object.assign(Object.create(o.KeyframeTrack.prototype), { constructor: o.VectorKeyframeTrack, ValueTypeName: "vector" }), o.Audio = function(t) { o.Object3D.call(this), this.type = "Audio", this.context = t.context, this.source = this.context.createBufferSource(), this.source.onended = this.onEnded.bind(this), this.gain = this.context.createGain(), this.gain.connect(t.getInput()), this.autoplay = !1, this.startTime = 0, this.playbackRate = 1, this.isPlaying = !1, this.hasPlaybackControl = !0, this.sourceType = "empty", this.filter = null }, o.Audio.prototype = Object.create(o.Object3D.prototype), o.Audio.prototype.constructor = o.Audio, o.Audio.prototype.getOutput = function() { return this.gain }, o.Audio.prototype.load = function(t) { var e = new o.AudioBuffer(this.context); return e.load(t), this.setBuffer(e), this }, o.Audio.prototype.setNodeSource = function(t) { return this.hasPlaybackControl = !1, this.sourceType = "audioNode", this.source = t, this.connect(), this }, o.Audio.prototype.setBuffer = function(t) { var e = this; return t.onReady(function(t) { e.source.buffer = t, e.sourceType = "buffer", e.autoplay && e.play() }), this }, o.Audio.prototype.play = function() { if (this.isPlaying !== !0 && this.hasPlaybackControl !== !1) { var t = this.context.createBufferSource();
                t.buffer = this.source.buffer, t.loop = this.source.loop, t.onended = this.source.onended, t.start(0, this.startTime), t.playbackRate.value = this.playbackRate, this.isPlaying = !0, this.source = t, this.connect() } }, o.Audio.prototype.pause = function() { this.hasPlaybackControl !== !1 && (this.source.stop(), this.startTime = this.context.currentTime) }, o.Audio.prototype.stop = function() { this.hasPlaybackControl !== !1 && (this.source.stop(), this.startTime = 0) }, o.Audio.prototype.connect = function() { null !== this.filter ? (this.source.connect(this.filter), this.filter.connect(this.getOutput())) : this.source.connect(this.getOutput()) }, o.Audio.prototype.disconnect = function() { null !== this.filter ? (this.source.disconnect(this.filter), this.filter.disconnect(this.getOutput())) : this.source.disconnect(this.getOutput()) }, o.Audio.prototype.getFilter = function() { return this.filter }, o.Audio.prototype.setFilter = function(t) {
            void 0 === t && (t = null), this.isPlaying === !0 ? (this.disconnect(), this.filter = t,
                this.connect()) : this.filter = t
        }, o.Audio.prototype.setPlaybackRate = function(t) { this.hasPlaybackControl !== !1 && (this.playbackRate = t, this.isPlaying === !0 && (this.source.playbackRate.value = this.playbackRate)) }, o.Audio.prototype.getPlaybackRate = function() { return this.playbackRate }, o.Audio.prototype.onEnded = function() { this.isPlaying = !1 }, o.Audio.prototype.setLoop = function(t) { this.hasPlaybackControl !== !1 && (this.source.loop = t) }, o.Audio.prototype.getLoop = function() { return this.hasPlaybackControl !== !1 && this.source.loop }, o.Audio.prototype.setVolume = function(t) { this.gain.gain.value = t }, o.Audio.prototype.getVolume = function() { return this.gain.gain.value }, o.AudioAnalyser = function(t, e) { this.analyser = t.context.createAnalyser(), this.analyser.fftSize = void 0 !== e ? e : 2048, this.data = new Uint8Array(this.analyser.frequencyBinCount), t.getOutput().connect(this.analyser) }, o.AudioAnalyser.prototype = { constructor: o.AudioAnalyser, getData: function() { return this.analyser.getByteFrequencyData(this.data), this.data } }, o.AudioBuffer = function(t) { this.context = t, this.ready = !1, this.readyCallbacks = [] }, o.AudioBuffer.prototype.load = function(t) { var e = this,
                i = new XMLHttpRequest; return i.open("GET", t, !0), i.responseType = "arraybuffer", i.onload = function(t) { e.context.decodeAudioData(this.response, function(t) { e.buffer = t, e.ready = !0; for (var i = 0; i < e.readyCallbacks.length; i++) e.readyCallbacks[i](e.buffer);
                    e.readyCallbacks = [] }) }, i.send(), this }, o.AudioBuffer.prototype.onReady = function(t) { this.ready ? t(this.buffer) : this.readyCallbacks.push(t) }, o.PositionalAudio = function(t) { o.Audio.call(this, t), this.panner = this.context.createPanner(), this.panner.connect(this.gain) }, o.PositionalAudio.prototype = Object.create(o.Audio.prototype), o.PositionalAudio.prototype.constructor = o.PositionalAudio, o.PositionalAudio.prototype.getOutput = function() { return this.panner }, o.PositionalAudio.prototype.setRefDistance = function(t) { this.panner.refDistance = t }, o.PositionalAudio.prototype.getRefDistance = function() { return this.panner.refDistance }, o.PositionalAudio.prototype.setRolloffFactor = function(t) { this.panner.rolloffFactor = t }, o.PositionalAudio.prototype.getRolloffFactor = function() { return this.panner.rolloffFactor }, o.PositionalAudio.prototype.setDistanceModel = function(t) { this.panner.distanceModel = t }, o.PositionalAudio.prototype.getDistanceModel = function() { return this.panner.distanceModel }, o.PositionalAudio.prototype.setMaxDistance = function(t) { this.panner.maxDistance = t }, o.PositionalAudio.prototype.getMaxDistance = function() { return this.panner.maxDistance }, o.PositionalAudio.prototype.updateMatrixWorld = function() { var t = new o.Vector3; return function(e) { o.Object3D.prototype.updateMatrixWorld.call(this, e), t.setFromMatrixPosition(this.matrixWorld), this.panner.setPosition(t.x, t.y, t.z) } }(), o.AudioListener = function() { o.Object3D.call(this), this.type = "AudioListener", this.context = new(window.AudioContext || window.webkitAudioContext), this.gain = this.context.createGain(), this.gain.connect(this.context.destination), this.filter = null }, o.AudioListener.prototype = Object.create(o.Object3D.prototype), o.AudioListener.prototype.constructor = o.AudioListener, o.AudioListener.prototype.getInput = function() { return this.gain }, o.AudioListener.prototype.removeFilter = function() { null !== this.filter && (this.gain.disconnect(this.filter), this.filter.disconnect(this.context.destination), this.gain.connect(this.context.destination), this.filter = null) }, o.AudioListener.prototype.setFilter = function(t) { null !== this.filter ? (this.gain.disconnect(this.filter), this.filter.disconnect(this.context.destination)) : this.gain.disconnect(this.context.destination), this.filter = t, this.gain.connect(this.filter), this.filter.connect(this.context.destination) }, o.AudioListener.prototype.getFilter = function() { return this.filter }, o.AudioListener.prototype.setMasterVolume = function(t) { this.gain.gain.value = t }, o.AudioListener.prototype.getMasterVolume = function() { return this.gain.gain.value }, o.AudioListener.prototype.updateMatrixWorld = function() { var t = new o.Vector3,
                e = new o.Quaternion,
                i = new o.Vector3,
                n = new o.Vector3; return function(r) { o.Object3D.prototype.updateMatrixWorld.call(this, r); var a = this.context.listener,
                    s = this.up;
                this.matrixWorld.decompose(t, e, i), n.set(0, 0, -1).applyQuaternion(e), a.setPosition(t.x, t.y, t.z), a.setOrientation(n.x, n.y, n.z, s.x, s.y, s.z) } }(), o.Camera = function() { o.Object3D.call(this), this.type = "Camera", this.matrixWorldInverse = new o.Matrix4, this.projectionMatrix = new o.Matrix4 }, o.Camera.prototype = Object.create(o.Object3D.prototype), o.Camera.prototype.constructor = o.Camera, o.Camera.prototype.getWorldDirection = function() { var t = new o.Quaternion; return function(e) { var i = e || new o.Vector3; return this.getWorldQuaternion(t), i.set(0, 0, -1).applyQuaternion(t) } }(), o.Camera.prototype.lookAt = function() { var t = new o.Matrix4; return function(e) { t.lookAt(this.position, e, this.up), this.quaternion.setFromRotationMatrix(t) } }(), o.Camera.prototype.clone = function() { return (new this.constructor).copy(this) }, o.Camera.prototype.copy = function(t) { return o.Object3D.prototype.copy.call(this, t), this.matrixWorldInverse.copy(t.matrixWorldInverse), this.projectionMatrix.copy(t.projectionMatrix), this }, o.CubeCamera = function(t, e, i) { o.Object3D.call(this), this.type = "CubeCamera"; var n = 90,
                r = 1,
                a = new o.PerspectiveCamera(n, r, t, e);
            a.up.set(0, -1, 0), a.lookAt(new o.Vector3(1, 0, 0)), this.add(a); var s = new o.PerspectiveCamera(n, r, t, e);
            s.up.set(0, -1, 0), s.lookAt(new o.Vector3((-1), 0, 0)), this.add(s); var h = new o.PerspectiveCamera(n, r, t, e);
            h.up.set(0, 0, 1), h.lookAt(new o.Vector3(0, 1, 0)), this.add(h); var l = new o.PerspectiveCamera(n, r, t, e);
            l.up.set(0, 0, -1), l.lookAt(new o.Vector3(0, (-1), 0)), this.add(l); var u = new o.PerspectiveCamera(n, r, t, e);
            u.up.set(0, -1, 0), u.lookAt(new o.Vector3(0, 0, 1)), this.add(u); var c = new o.PerspectiveCamera(n, r, t, e);
            c.up.set(0, -1, 0), c.lookAt(new o.Vector3(0, 0, (-1))), this.add(c); var d = { format: o.RGBFormat, magFilter: o.LinearFilter, minFilter: o.LinearFilter };
            this.renderTarget = new o.WebGLRenderTargetCube(i, i, d), this.updateCubeMap = function(t, e) { null === this.parent && this.updateMatrixWorld(); var i = this.renderTarget,
                    n = i.texture.generateMipmaps;
                i.texture.generateMipmaps = !1, i.activeCubeFace = 0, t.render(e, a, i), i.activeCubeFace = 1, t.render(e, s, i), i.activeCubeFace = 2, t.render(e, h, i), i.activeCubeFace = 3, t.render(e, l, i), i.activeCubeFace = 4, t.render(e, u, i), i.texture.generateMipmaps = n, i.activeCubeFace = 5, t.render(e, c, i), t.setRenderTarget(null) } }, o.CubeCamera.prototype = Object.create(o.Object3D.prototype), o.CubeCamera.prototype.constructor = o.CubeCamera, o.OrthographicCamera = function(t, e, i, n, r, a) { o.Camera.call(this), this.type = "OrthographicCamera", this.zoom = 1, this.left = t, this.right = e, this.top = i, this.bottom = n, this.near = void 0 !== r ? r : .1, this.far = void 0 !== a ? a : 2e3, this.updateProjectionMatrix() }, o.OrthographicCamera.prototype = Object.create(o.Camera.prototype), o.OrthographicCamera.prototype.constructor = o.OrthographicCamera, o.OrthographicCamera.prototype.updateProjectionMatrix = function() { var t = (this.right - this.left) / (2 * this.zoom),
                e = (this.top - this.bottom) / (2 * this.zoom),
                i = (this.right + this.left) / 2,
                n = (this.top + this.bottom) / 2;
            this.projectionMatrix.makeOrthographic(i - t, i + t, n + e, n - e, this.near, this.far) }, o.OrthographicCamera.prototype.copy = function(t) { return o.Camera.prototype.copy.call(this, t), this.left = t.left, this.right = t.right, this.top = t.top, this.bottom = t.bottom, this.near = t.near, this.far = t.far, this.zoom = t.zoom, this }, o.OrthographicCamera.prototype.toJSON = function(t) { var e = o.Object3D.prototype.toJSON.call(this, t); return e.object.zoom = this.zoom, e.object.left = this.left, e.object.right = this.right, e.object.top = this.top, e.object.bottom = this.bottom, e.object.near = this.near, e.object.far = this.far, e }, o.PerspectiveCamera = function(t, e, i, n) { o.Camera.call(this), this.type = "PerspectiveCamera", this.focalLength = 10, this.zoom = 1, this.fov = void 0 !== t ? t : 50, this.aspect = void 0 !== e ? e : 1, this.near = void 0 !== i ? i : .1, this.far = void 0 !== n ? n : 2e3, this.updateProjectionMatrix() }, o.PerspectiveCamera.prototype = Object.create(o.Camera.prototype), o.PerspectiveCamera.prototype.constructor = o.PerspectiveCamera, o.PerspectiveCamera.prototype.setLens = function(t, e) { void 0 === e && (e = 24), this.fov = 2 * o.Math.radToDeg(Math.atan(e / (2 * t))), this.updateProjectionMatrix() }, o.PerspectiveCamera.prototype.setViewOffset = function(t, e, i, n, r, o) { this.fullWidth = t, this.fullHeight = e, this.x = i, this.y = n, this.width = r, this.height = o, this.updateProjectionMatrix() }, o.PerspectiveCamera.prototype.updateProjectionMatrix = function() { var t = o.Math.radToDeg(2 * Math.atan(Math.tan(.5 * o.Math.degToRad(this.fov)) / this.zoom)); if (this.fullWidth) { var e = this.fullWidth / this.fullHeight,
                    i = Math.tan(o.Math.degToRad(.5 * t)) * this.near,
                    n = -i,
                    r = e * n,
                    a = e * i,
                    s = Math.abs(a - r),
                    h = Math.abs(i - n);
                this.projectionMatrix.makeFrustum(r + this.x * s / this.fullWidth, r + (this.x + this.width) * s / this.fullWidth, i - (this.y + this.height) * h / this.fullHeight, i - this.y * h / this.fullHeight, this.near, this.far) } else this.projectionMatrix.makePerspective(t, this.aspect, this.near, this.far) }, o.PerspectiveCamera.prototype.copy = function(t) { return o.Camera.prototype.copy.call(this, t), this.focalLength = t.focalLength, this.zoom = t.zoom, this.fov = t.fov, this.aspect = t.aspect, this.near = t.near, this.far = t.far, this }, o.PerspectiveCamera.prototype.toJSON = function(t) { var e = o.Object3D.prototype.toJSON.call(this, t); return e.object.focalLength = this.focalLength, e.object.zoom = this.zoom, e.object.fov = this.fov, e.object.aspect = this.aspect, e.object.near = this.near, e.object.far = this.far, e }, o.StereoCamera = function() { this.type = "StereoCamera", this.aspect = 1, this.cameraL = new o.PerspectiveCamera, this.cameraL.layers.enable(1), this.cameraL.matrixAutoUpdate = !1, this.cameraR = new o.PerspectiveCamera, this.cameraR.layers.enable(2), this.cameraR.matrixAutoUpdate = !1 }, o.StereoCamera.prototype = { constructor: o.StereoCamera, update: function() { var t, e, i, n, r, a = new o.Matrix4,
                    s = new o.Matrix4; return function(h) { var l = t !== h.focalLength || e !== h.fov || i !== h.aspect * this.aspect || n !== h.near || r !== h.far; if (l) { t = h.focalLength, e = h.fov, i = h.aspect * this.aspect, n = h.near, r = h.far; var u, c, d = h.projectionMatrix.clone(),
                            p = .032,
                            f = p * n / t,
                            m = n * Math.tan(o.Math.degToRad(.5 * e));
                        s.elements[12] = -p, a.elements[12] = p, u = -m * i + f, c = m * i + f, d.elements[0] = 2 * n / (c - u), d.elements[8] = (c + u) / (c - u), this.cameraL.projectionMatrix.copy(d), u = -m * i - f, c = m * i - f, d.elements[0] = 2 * n / (c - u), d.elements[8] = (c + u) / (c - u), this.cameraR.projectionMatrix.copy(d) } this.cameraL.matrixWorld.copy(h.matrixWorld).multiply(s), this.cameraR.matrixWorld.copy(h.matrixWorld).multiply(a) } }() }, o.Light = function(t, e) { o.Object3D.call(this), this.type = "Light", this.color = new o.Color(t), this.intensity = void 0 !== e ? e : 1, this.receiveShadow = void 0 }, o.Light.prototype = Object.create(o.Object3D.prototype), o.Light.prototype.constructor = o.Light, o.Light.prototype.copy = function(t) { return o.Object3D.prototype.copy.call(this, t), this.color.copy(t.color), this.intensity = t.intensity, this }, o.Light.prototype.toJSON = function(t) { var e = o.Object3D.prototype.toJSON.call(this, t); return e.object.color = this.color.getHex(), e.object.intensity = this.intensity, void 0 !== this.groundColor && (e.object.groundColor = this.groundColor.getHex()), void 0 !== this.distance && (e.object.distance = this.distance), void 0 !== this.angle && (e.object.angle = this.angle), void 0 !== this.decay && (e.object.decay = this.decay), void 0 !== this.penumbra && (e.object.penumbra = this.penumbra), e }, o.LightShadow = function(t) { this.camera = t, this.bias = 0, this.radius = 1, this.mapSize = new o.Vector2(512, 512), this.map = null, this.matrix = new o.Matrix4 }, o.LightShadow.prototype = { constructor: o.LightShadow, copy: function(t) { return this.camera = t.camera.clone(), this.bias = t.bias, this.radius = t.radius, this.mapSize.copy(t.mapSize), this }, clone: function() { return (new this.constructor).copy(this) } }, o.AmbientLight = function(t, e) { o.Light.call(this, t, e), this.type = "AmbientLight", this.castShadow = void 0 }, o.AmbientLight.prototype = Object.create(o.Light.prototype), o.AmbientLight.prototype.constructor = o.AmbientLight, o.DirectionalLight = function(t, e) { o.Light.call(this, t, e), this.type = "DirectionalLight", this.position.set(0, 1, 0), this.updateMatrix(), this.target = new o.Object3D, this.shadow = new o.LightShadow(new o.OrthographicCamera((-5), 5, 5, (-5), .5, 500)) }, o.DirectionalLight.prototype = Object.create(o.Light.prototype), o.DirectionalLight.prototype.constructor = o.DirectionalLight, o.DirectionalLight.prototype.copy = function(t) { return o.Light.prototype.copy.call(this, t), this.target = t.target.clone(), this.shadow = t.shadow.clone(), this }, o.HemisphereLight = function(t, e, i) { o.Light.call(this, t, i), this.type = "HemisphereLight", this.castShadow = void 0, this.position.set(0, 1, 0), this.updateMatrix(), this.groundColor = new o.Color(e) }, o.HemisphereLight.prototype = Object.create(o.Light.prototype), o.HemisphereLight.prototype.constructor = o.HemisphereLight, o.HemisphereLight.prototype.copy = function(t) { return o.Light.prototype.copy.call(this, t), this.groundColor.copy(t.groundColor), this }, o.PointLight = function(t, e, i, n) { o.Light.call(this, t, e), this.type = "PointLight", this.distance = void 0 !== i ? i : 0, this.decay = void 0 !== n ? n : 1, this.shadow = new o.LightShadow(new o.PerspectiveCamera(90, 1, .5, 500)) }, o.PointLight.prototype = Object.create(o.Light.prototype), o.PointLight.prototype.constructor = o.PointLight, Object.defineProperty(o.PointLight.prototype, "power", { get: function() { return 4 * this.intensity * Math.PI }, set: function(t) { this.intensity = t / (4 * Math.PI) } }), o.PointLight.prototype.copy = function(t) { return o.Light.prototype.copy.call(this, t), this.distance = t.distance, this.decay = t.decay, this.shadow = t.shadow.clone(), this }, o.SpotLight = function(t, e, i, n, r, a) { o.Light.call(this, t, e), this.type = "SpotLight", this.position.set(0, 1, 0), this.updateMatrix(), this.target = new o.Object3D, this.distance = void 0 !== i ? i : 0, this.angle = void 0 !== n ? n : Math.PI / 3, this.penumbra = void 0 !== r ? r : 0, this.decay = void 0 !== a ? a : 1, this.shadow = new o.LightShadow(new o.PerspectiveCamera(50, 1, .5, 500)) }, o.SpotLight.prototype = Object.create(o.Light.prototype), o.SpotLight.prototype.constructor = o.SpotLight, Object.defineProperty(o.SpotLight.prototype, "power", { get: function() { return this.intensity * Math.PI }, set: function(t) { this.intensity = t / Math.PI } }), o.SpotLight.prototype.copy = function(t) { return o.Light.prototype.copy.call(this, t), this.distance = t.distance, this.angle = t.angle, this.penumbra = t.penumbra, this.decay = t.decay, this.target = t.target.clone(), this.shadow = t.shadow.clone(), this }, o.Cache = { enabled: !1, files: {}, add: function(t, e) { this.enabled !== !1 && (this.files[t] = e) }, get: function(t) { if (this.enabled !== !1) return this.files[t] }, remove: function(t) { delete this.files[t] }, clear: function() { this.files = {} } }, o.Loader = function() { this.onLoadStart = function() {}, this.onLoadProgress = function() {}, this.onLoadComplete = function() {} }, o.Loader.prototype = { constructor: o.Loader, crossOrigin: void 0, extractUrlBase: function(t) { var e = t.split("/"); return 1 === e.length ? "./" : (e.pop(), e.join("/") + "/") }, initMaterials: function(t, e, i) { for (var n = [], r = 0; r < t.length; ++r) n[r] = this.createMaterial(t[r], e, i); return n }, createMaterial: function() { var t, e, i; return function(n, r, a) {
                    function s(t, i, n, s, l) { var u, c = r + t,
                            d = o.Loader.Handlers.get(c);
                        null !== d ? u = d.load(c) : (e.setCrossOrigin(a), u = e.load(c)), void 0 !== i && (u.repeat.fromArray(i), 1 !== i[0] && (u.wrapS = o.RepeatWrapping), 1 !== i[1] && (u.wrapT = o.RepeatWrapping)), void 0 !== n && u.offset.fromArray(n), void 0 !== s && ("repeat" === s[0] && (u.wrapS = o.RepeatWrapping), "mirror" === s[0] && (u.wrapS = o.MirroredRepeatWrapping), "repeat" === s[1] && (u.wrapT = o.RepeatWrapping), "mirror" === s[1] && (u.wrapT = o.MirroredRepeatWrapping)), void 0 !== l && (u.anisotropy = l); var p = o.Math.generateUUID(); return h[p] = u, p } void 0 === t && (t = new o.Color), void 0 === e && (e = new o.TextureLoader), void 0 === i && (i = new o.MaterialLoader); var h = {},
                        l = { uuid: o.Math.generateUUID(), type: "MeshLambertMaterial" }; for (var u in n) { var c = n[u]; switch (u) {
                            case "DbgColor":
                            case "DbgIndex":
                            case "opticalDensity":
                            case "illumination":
                                break;
                            case "DbgName":
                                l.name = c; break;
                            case "blending":
                                l.blending = o[c]; break;
                            case "colorAmbient":
                            case "mapAmbient":
                                break;
                            case "colorDiffuse":
                                l.color = t.fromArray(c).getHex(); break;
                            case "colorSpecular":
                                l.specular = t.fromArray(c).getHex(); break;
                            case "colorEmissive":
                                l.emissive = t.fromArray(c).getHex(); break;
                            case "specularCoef":
                                l.shininess = c; break;
                            case "shading":
                                "basic" === c.toLowerCase() && (l.type = "MeshBasicMaterial"), "phong" === c.toLowerCase() && (l.type = "MeshPhongMaterial"); break;
                            case "mapDiffuse":
                                l.map = s(c, n.mapDiffuseRepeat, n.mapDiffuseOffset, n.mapDiffuseWrap, n.mapDiffuseAnisotropy); break;
                            case "mapDiffuseRepeat":
                            case "mapDiffuseOffset":
                            case "mapDiffuseWrap":
                            case "mapDiffuseAnisotropy":
                                break;
                            case "mapLight":
                                l.lightMap = s(c, n.mapLightRepeat, n.mapLightOffset, n.mapLightWrap, n.mapLightAnisotropy); break;
                            case "mapLightRepeat":
                            case "mapLightOffset":
                            case "mapLightWrap":
                            case "mapLightAnisotropy":
                                break;
                            case "mapAO":
                                l.aoMap = s(c, n.mapAORepeat, n.mapAOOffset, n.mapAOWrap, n.mapAOAnisotropy); break;
                            case "mapAORepeat":
                            case "mapAOOffset":
                            case "mapAOWrap":
                            case "mapAOAnisotropy":
                                break;
                            case "mapBump":
                                l.bumpMap = s(c, n.mapBumpRepeat, n.mapBumpOffset, n.mapBumpWrap, n.mapBumpAnisotropy); break;
                            case "mapBumpScale":
                                l.bumpScale = c; break;
                            case "mapBumpRepeat":
                            case "mapBumpOffset":
                            case "mapBumpWrap":
                            case "mapBumpAnisotropy":
                                break;
                            case "mapNormal":
                                l.normalMap = s(c, n.mapNormalRepeat, n.mapNormalOffset, n.mapNormalWrap, n.mapNormalAnisotropy); break;
                            case "mapNormalFactor":
                                l.normalScale = [c, c]; break;
                            case "mapNormalRepeat":
                            case "mapNormalOffset":
                            case "mapNormalWrap":
                            case "mapNormalAnisotropy":
                                break;
                            case "mapSpecular":
                                l.specularMap = s(c, n.mapSpecularRepeat, n.mapSpecularOffset, n.mapSpecularWrap, n.mapSpecularAnisotropy); break;
                            case "mapSpecularRepeat":
                            case "mapSpecularOffset":
                            case "mapSpecularWrap":
                            case "mapSpecularAnisotropy":
                                break;
                            case "mapAlpha":
                                l.alphaMap = s(c, n.mapAlphaRepeat, n.mapAlphaOffset, n.mapAlphaWrap, n.mapAlphaAnisotropy); break;
                            case "mapAlphaRepeat":
                            case "mapAlphaOffset":
                            case "mapAlphaWrap":
                            case "mapAlphaAnisotropy":
                                break;
                            case "flipSided":
                                l.side = o.BackSide; break;
                            case "doubleSided":
                                l.side = o.DoubleSide; break;
                            case "transparency":
                                l.opacity = c; break;
                            case "depthTest":
                            case "depthWrite":
                            case "colorWrite":
                            case "opacity":
                            case "reflectivity":
                            case "transparent":
                            case "visible":
                            case "wireframe":
                                l[u] = c; break;
                            case "vertexColors":
                                c === !0 && (l.vertexColors = o.VertexColors), "face" === c && (l.vertexColors = o.FaceColors) } } return "MeshBasicMaterial" === l.type && delete l.emissive, "MeshPhongMaterial" !== l.type && delete l.specular, l.opacity < 1 && (l.transparent = !0), i.setTextures(h), i.parse(l) } }() }, o.Loader.Handlers = { handlers: [], add: function(t, e) { this.handlers.push(t, e) }, get: function(t) { for (var e = this.handlers, i = 0, n = e.length; i < n; i += 2) { var r = e[i],
                        o = e[i + 1]; if (r.test(t)) return o } return null } }, o.XHRLoader = function(t) { this.manager = void 0 !== t ? t : o.DefaultLoadingManager }, o.XHRLoader.prototype = { constructor: o.XHRLoader, load: function(t, e, i, n) { void 0 !== this.path && (t = this.path + t); var r = this,
                    a = o.Cache.get(t); if (void 0 !== a) return e && setTimeout(function() { e(a) }, 0), a; var s = new XMLHttpRequest; return s.overrideMimeType("text/plain"), s.open("GET", t, !0), s.addEventListener("load", function(i) { var a = i.target.response;
                    o.Cache.add(t, a), 200 === this.status ? (e && e(a), r.manager.itemEnd(t)) : 0 === this.status ? (e && e(a), r.manager.itemEnd(t)) : (n && n(i), r.manager.itemError(t)) }, !1), void 0 !== i && s.addEventListener("progress", function(t) { i(t) }, !1), s.addEventListener("error", function(e) { n && n(e), r.manager.itemError(t) }, !1), void 0 !== this.responseType && (s.responseType = this.responseType), void 0 !== this.withCredentials && (s.withCredentials = this.withCredentials), s.send(null), r.manager.itemStart(t), s }, setPath: function(t) { this.path = t }, setResponseType: function(t) { this.responseType = t }, setWithCredentials: function(t) { this.withCredentials = t } }, o.FontLoader = function(t) { this.manager = void 0 !== t ? t : o.DefaultLoadingManager }, o.FontLoader.prototype = { constructor: o.FontLoader, load: function(t, e, i, n) { var r = new o.XHRLoader(this.manager);
                r.load(t, function(t) { e(new o.Font(JSON.parse(t.substring(65, t.length - 2)))) }, i, n) } }, o.ImageLoader = function(t) { this.manager = void 0 !== t ? t : o.DefaultLoadingManager }, o.ImageLoader.prototype = { constructor: o.ImageLoader, load: function(t, e, i, n) { void 0 !== this.path && (t = this.path + t); var r = this,
                    a = o.Cache.get(t); if (void 0 !== a) return r.manager.itemStart(t), e ? setTimeout(function() { e(a), r.manager.itemEnd(t) }, 0) : r.manager.itemEnd(t), a; var s = document.createElement("img"); return s.addEventListener("load", function(i) { o.Cache.add(t, this), e && e(this), r.manager.itemEnd(t) }, !1), void 0 !== i && s.addEventListener("progress", function(t) { i(t) }, !1), s.addEventListener("error", function(e) { n && n(e), r.manager.itemError(t) }, !1), void 0 !== this.crossOrigin && (s.crossOrigin = this.crossOrigin), r.manager.itemStart(t), s.src = t, s }, setCrossOrigin: function(t) { this.crossOrigin = t }, setPath: function(t) { this.path = t } }, o.JSONLoader = function(t) { "boolean" == typeof t && (t = void 0), this.manager = void 0 !== t ? t : o.DefaultLoadingManager, this.withCredentials = !1 }, o.JSONLoader.prototype = { constructor: o.JSONLoader, get statusDomElement() { return void 0 === this._statusDomElement && (this._statusDomElement = document.createElement("div")), this._statusDomElement }, load: function(t, e, i, n) { var r = this,
                    a = this.texturePath && "string" == typeof this.texturePath ? this.texturePath : o.Loader.prototype.extractUrlBase(t),
                    s = new o.XHRLoader(this.manager);
                s.setWithCredentials(this.withCredentials), s.load(t, function(t) { var i = JSON.parse(t),
                        n = i.metadata; if (void 0 !== n) { var o = n.type; if (void 0 !== o) { if ("object" === o.toLowerCase()) return; if ("scene" === o.toLowerCase()) return } } var s = r.parse(i, a);
                    e(s.geometry, s.materials) }, i, n) }, setTexturePath: function(t) { this.texturePath = t }, parse: function(t, e) {
                function i(e) {
                    function i(t, e) { return t & 1 << e } var n, r, a, h, l, u, c, d, p, f, m, g, v, y, _, b, x, w, T, S, M, E, A, C, R, P, O, L = t.faces,
                        I = t.vertices,
                        D = t.normals,
                        k = t.colors,
                        B = 0; if (void 0 !== t.uvs) { for (n = 0; n < t.uvs.length; n++) t.uvs[n].length && B++; for (n = 0; n < B; n++) s.faceVertexUvs[n] = [] } for (h = 0, l = I.length; h < l;) w = new o.Vector3, w.x = I[h++] * e, w.y = I[h++] * e, w.z = I[h++] * e, s.vertices.push(w); for (h = 0, l = L.length; h < l;)
                        if (f = L[h++], m = i(f, 0), g = i(f, 1), v = i(f, 3), y = i(f, 4), _ = i(f, 5), b = i(f, 6), x = i(f, 7), m) { if (S = new o.Face3, S.a = L[h], S.b = L[h + 1], S.c = L[h + 3], M = new o.Face3, M.a = L[h + 1], M.b = L[h + 2], M.c = L[h + 3], h += 4, g && (p = L[h++], S.materialIndex = p, M.materialIndex = p), a = s.faces.length, v)
                                for (n = 0; n < B; n++)
                                    for (C = t.uvs[n], s.faceVertexUvs[n][a] = [], s.faceVertexUvs[n][a + 1] = [], r = 0; r < 4; r++) d = L[h++], P = C[2 * d], O = C[2 * d + 1], R = new o.Vector2(P, O), 2 !== r && s.faceVertexUvs[n][a].push(R), 0 !== r && s.faceVertexUvs[n][a + 1].push(R); if (y && (c = 3 * L[h++], S.normal.set(D[c++], D[c++], D[c]), M.normal.copy(S.normal)), _)
                                for (n = 0; n < 4; n++) c = 3 * L[h++], A = new o.Vector3(D[c++], D[c++], D[c]), 2 !== n && S.vertexNormals.push(A), 0 !== n && M.vertexNormals.push(A); if (b && (u = L[h++], E = k[u], S.color.setHex(E), M.color.setHex(E)), x)
                                for (n = 0; n < 4; n++) u = L[h++], E = k[u], 2 !== n && S.vertexColors.push(new o.Color(E)), 0 !== n && M.vertexColors.push(new o.Color(E));
                            s.faces.push(S), s.faces.push(M) } else { if (T = new o.Face3, T.a = L[h++], T.b = L[h++], T.c = L[h++], g && (p = L[h++], T.materialIndex = p), a = s.faces.length, v)
                                for (n = 0; n < B; n++)
                                    for (C = t.uvs[n], s.faceVertexUvs[n][a] = [], r = 0; r < 3; r++) d = L[h++], P = C[2 * d], O = C[2 * d + 1], R = new o.Vector2(P, O), s.faceVertexUvs[n][a].push(R); if (y && (c = 3 * L[h++], T.normal.set(D[c++], D[c++], D[c])), _)
                                for (n = 0; n < 3; n++) c = 3 * L[h++], A = new o.Vector3(D[c++], D[c++], D[c]), T.vertexNormals.push(A); if (b && (u = L[h++], T.color.setHex(k[u])), x)
                                for (n = 0; n < 3; n++) u = L[h++], T.vertexColors.push(new o.Color(k[u]));
                            s.faces.push(T) } }

                function n() { var e = void 0 !== t.influencesPerVertex ? t.influencesPerVertex : 2; if (t.skinWeights)
                        for (var i = 0, n = t.skinWeights.length; i < n; i += e) { var r = t.skinWeights[i],
                                a = e > 1 ? t.skinWeights[i + 1] : 0,
                                h = e > 2 ? t.skinWeights[i + 2] : 0,
                                l = e > 3 ? t.skinWeights[i + 3] : 0;
                            s.skinWeights.push(new o.Vector4(r, a, h, l)) }
                    if (t.skinIndices)
                        for (var i = 0, n = t.skinIndices.length; i < n; i += e) { var u = t.skinIndices[i],
                                c = e > 1 ? t.skinIndices[i + 1] : 0,
                                d = e > 2 ? t.skinIndices[i + 2] : 0,
                                p = e > 3 ? t.skinIndices[i + 3] : 0;
                            s.skinIndices.push(new o.Vector4(u, c, d, p)) } s.bones = t.bones, s.bones && s.bones.length > 0 && (s.skinWeights.length !== s.skinIndices.length || s.skinIndices.length !== s.vertices.length) }

                function r(e) { if (void 0 !== t.morphTargets)
                        for (var i = 0, n = t.morphTargets.length; i < n; i++) { s.morphTargets[i] = {}, s.morphTargets[i].name = t.morphTargets[i].name, s.morphTargets[i].vertices = []; for (var r = s.morphTargets[i].vertices, a = t.morphTargets[i].vertices, h = 0, l = a.length; h < l; h += 3) { var u = new o.Vector3;
                                u.x = a[h] * e, u.y = a[h + 1] * e, u.z = a[h + 2] * e, r.push(u) } }
                    if (void 0 !== t.morphColors && t.morphColors.length > 0)
                        for (var c = s.faces, d = t.morphColors[0].colors, i = 0, n = c.length; i < n; i++) c[i].color.fromArray(d, 3 * i) }

                function a() { var e = [],
                        i = [];
                    void 0 !== t.animation && i.push(t.animation), void 0 !== t.animations && (t.animations.length ? i = i.concat(t.animations) : i.push(t.animations)); for (var n = 0; n < i.length; n++) { var r = o.AnimationClip.parseAnimation(i[n], s.bones);
                        r && e.push(r) } if (s.morphTargets) { var a = o.AnimationClip.CreateClipsFromMorphTargetSequences(s.morphTargets, 10);
                        e = e.concat(a) } e.length > 0 && (s.animations = e) } var s = new o.Geometry,
                    h = void 0 !== t.scale ? 1 / t.scale : 1; if (i(h), n(), r(h), a(), s.computeFaceNormals(), s.computeBoundingSphere(), void 0 === t.materials || 0 === t.materials.length) return { geometry: s }; var l = o.Loader.prototype.initMaterials(t.materials, e, this.crossOrigin); return { geometry: s, materials: l } } }, o.LoadingManager = function(t, e, i) { var n = this,
                r = !1,
                o = 0,
                a = 0;
            this.onStart = void 0, this.onLoad = t, this.onProgress = e, this.onError = i, this.itemStart = function(t) { a++, r === !1 && void 0 !== n.onStart && n.onStart(t, o, a), r = !0 }, this.itemEnd = function(t) { o++, void 0 !== n.onProgress && n.onProgress(t, o, a), o === a && (r = !1, void 0 !== n.onLoad && n.onLoad()) }, this.itemError = function(t) { void 0 !== n.onError && n.onError(t) } }, o.DefaultLoadingManager = new o.LoadingManager, o.BufferGeometryLoader = function(t) { this.manager = void 0 !== t ? t : o.DefaultLoadingManager }, o.BufferGeometryLoader.prototype = { constructor: o.BufferGeometryLoader, load: function(t, e, i, n) { var r = this,
                    a = new o.XHRLoader(r.manager);
                a.load(t, function(t) { e(r.parse(JSON.parse(t))) }, i, n) }, parse: function(t) { var e = new o.BufferGeometry,
                    i = t.data.index,
                    n = { Int8Array: Int8Array, Uint8Array: Uint8Array, Uint8ClampedArray: Uint8ClampedArray, Int16Array: Int16Array, Uint16Array: Uint16Array, Int32Array: Int32Array, Uint32Array: Uint32Array, Float32Array: Float32Array, Float64Array: Float64Array }; if (void 0 !== i) { var r = new n[i.type](i.array);
                    e.setIndex(new o.BufferAttribute(r, 1)) } var a = t.data.attributes; for (var s in a) { var h = a[s],
                        r = new n[h.type](h.array);
                    e.addAttribute(s, new o.BufferAttribute(r, h.itemSize)) } var l = t.data.groups || t.data.drawcalls || t.data.offsets; if (void 0 !== l)
                    for (var u = 0, c = l.length; u !== c; ++u) { var d = l[u];
                        e.addGroup(d.start, d.count, d.materialIndex) }
                var p = t.data.boundingSphere; if (void 0 !== p) { var f = new o.Vector3;
                    void 0 !== p.center && f.fromArray(p.center), e.boundingSphere = new o.Sphere(f, p.radius) } return e } }, o.MaterialLoader = function(t) { this.manager = void 0 !== t ? t : o.DefaultLoadingManager, this.textures = {} }, o.MaterialLoader.prototype = { constructor: o.MaterialLoader, load: function(t, e, i, n) { var r = this,
                    a = new o.XHRLoader(r.manager);
                a.load(t, function(t) { e(r.parse(JSON.parse(t))) }, i, n) }, setTextures: function(t) { this.textures = t }, getTexture: function(t) { var e = this.textures; return void 0 === e[t], e[t] }, parse: function(t) { var e = new o[t.type]; if (void 0 !== t.uuid && (e.uuid = t.uuid), void 0 !== t.name && (e.name = t.name), void 0 !== t.color && e.color.setHex(t.color), void 0 !== t.roughness && (e.roughness = t.roughness), void 0 !== t.metalness && (e.metalness = t.metalness), void 0 !== t.emissive && e.emissive.setHex(t.emissive), void 0 !== t.specular && e.specular.setHex(t.specular), void 0 !== t.shininess && (e.shininess = t.shininess), void 0 !== t.uniforms && (e.uniforms = t.uniforms), void 0 !== t.vertexShader && (e.vertexShader = t.vertexShader), void 0 !== t.fragmentShader && (e.fragmentShader = t.fragmentShader), void 0 !== t.vertexColors && (e.vertexColors = t.vertexColors), void 0 !== t.shading && (e.shading = t.shading), void 0 !== t.blending && (e.blending = t.blending), void 0 !== t.side && (e.side = t.side), void 0 !== t.opacity && (e.opacity = t.opacity), void 0 !== t.transparent && (e.transparent = t.transparent), void 0 !== t.alphaTest && (e.alphaTest = t.alphaTest), void 0 !== t.depthTest && (e.depthTest = t.depthTest), void 0 !== t.depthWrite && (e.depthWrite = t.depthWrite), void 0 !== t.colorWrite && (e.colorWrite = t.colorWrite), void 0 !== t.wireframe && (e.wireframe = t.wireframe), void 0 !== t.wireframeLinewidth && (e.wireframeLinewidth = t.wireframeLinewidth), void 0 !== t.size && (e.size = t.size), void 0 !== t.sizeAttenuation && (e.sizeAttenuation = t.sizeAttenuation), void 0 !== t.map && (e.map = this.getTexture(t.map)), void 0 !== t.alphaMap && (e.alphaMap = this.getTexture(t.alphaMap), e.transparent = !0), void 0 !== t.bumpMap && (e.bumpMap = this.getTexture(t.bumpMap)), void 0 !== t.bumpScale && (e.bumpScale = t.bumpScale), void 0 !== t.normalMap && (e.normalMap = this.getTexture(t.normalMap)), void 0 !== t.normalScale) { var i = t.normalScale;
                    Array.isArray(i) === !1 && (i = [i, i]), e.normalScale = (new o.Vector2).fromArray(i) } if (void 0 !== t.displacementMap && (e.displacementMap = this.getTexture(t.displacementMap)), void 0 !== t.displacementScale && (e.displacementScale = t.displacementScale), void 0 !== t.displacementBias && (e.displacementBias = t.displacementBias), void 0 !== t.roughnessMap && (e.roughnessMap = this.getTexture(t.roughnessMap)), void 0 !== t.metalnessMap && (e.metalnessMap = this.getTexture(t.metalnessMap)), void 0 !== t.emissiveMap && (e.emissiveMap = this.getTexture(t.emissiveMap)), void 0 !== t.emissiveIntensity && (e.emissiveIntensity = t.emissiveIntensity), void 0 !== t.specularMap && (e.specularMap = this.getTexture(t.specularMap)), void 0 !== t.envMap && (e.envMap = this.getTexture(t.envMap), e.combine = o.MultiplyOperation), t.reflectivity && (e.reflectivity = t.reflectivity), void 0 !== t.lightMap && (e.lightMap = this.getTexture(t.lightMap)), void 0 !== t.lightMapIntensity && (e.lightMapIntensity = t.lightMapIntensity), void 0 !== t.aoMap && (e.aoMap = this.getTexture(t.aoMap)), void 0 !== t.aoMapIntensity && (e.aoMapIntensity = t.aoMapIntensity), void 0 !== t.materials)
                    for (var n = 0, r = t.materials.length; n < r; n++) e.materials.push(this.parse(t.materials[n])); return e } }, o.ObjectLoader = function(t) { this.manager = void 0 !== t ? t : o.DefaultLoadingManager, this.texturePath = "" }, o.ObjectLoader.prototype = {
            constructor: o.ObjectLoader,
            load: function(t, e, i, n) { "" === this.texturePath && (this.texturePath = t.substring(0, t.lastIndexOf("/") + 1)); var r = this,
                    a = new o.XHRLoader(r.manager);
                a.load(t, function(t) { r.parse(JSON.parse(t), e) }, i, n) },
            setTexturePath: function(t) { this.texturePath = t },
            setCrossOrigin: function(t) { this.crossOrigin = t },
            parse: function(t, e) { var i = this.parseGeometries(t.geometries),
                    n = this.parseImages(t.images, function() { void 0 !== e && e(a) }),
                    r = this.parseTextures(t.textures, n),
                    o = this.parseMaterials(t.materials, r),
                    a = this.parseObject(t.object, i, o); return t.animations && (a.animations = this.parseAnimations(t.animations)), void 0 !== t.images && 0 !== t.images.length || void 0 !== e && e(a), a },
            parseGeometries: function(t) {
                var e = {};
                if (void 0 !== t)
                    for (var i = new o.JSONLoader, n = new o.BufferGeometryLoader, r = 0, a = t.length; r < a; r++) {
                        var s, h = t[r];
                        switch (h.type) {
                            case "PlaneGeometry":
                            case "PlaneBufferGeometry":
                                s = new o[h.type](h.width, h.height, h.widthSegments, h.heightSegments);
                                break;
                            case "BoxGeometry":
                            case "BoxBufferGeometry":
                            case "CubeGeometry":
                                s = new o[h.type](h.width, h.height, h.depth, h.widthSegments, h.heightSegments, h.depthSegments);
                                break;
                            case "CircleGeometry":
                            case "CircleBufferGeometry":
                                s = new o[h.type](h.radius, h.segments, h.thetaStart, h.thetaLength);
                                break;
                            case "CylinderGeometry":
                            case "CylinderBufferGeometry":
                                s = new o[h.type](h.radiusTop, h.radiusBottom, h.height, h.radialSegments, h.heightSegments, h.openEnded, h.thetaStart, h.thetaLength);
                                break;
                            case "SphereGeometry":
                            case "SphereBufferGeometry":
                                s = new o[h.type](h.radius, h.widthSegments, h.heightSegments, h.phiStart, h.phiLength, h.thetaStart, h.thetaLength);
                                break;
                            case "DodecahedronGeometry":
                                s = new o.DodecahedronGeometry(h.radius, h.detail);
                                break;
                            case "IcosahedronGeometry":
                                s = new o.IcosahedronGeometry(h.radius, h.detail);
                                break;
                            case "OctahedronGeometry":
                                s = new o.OctahedronGeometry(h.radius, h.detail);
                                break;
                            case "TetrahedronGeometry":
                                s = new o.TetrahedronGeometry(h.radius, h.detail);
                                break;
                            case "RingGeometry":
                            case "RingBufferGeometry":
                                s = new o[h.type](h.innerRadius, h.outerRadius, h.thetaSegments, h.phiSegments, h.thetaStart, h.thetaLength);
                                break;
                            case "TorusGeometry":
                            case "TorusBufferGeometry":
                                s = new o[h.type](h.radius, h.tube, h.radialSegments, h.tubularSegments, h.arc);
                                break;
                            case "TorusKnotGeometry":
                            case "TorusKnotBufferGeometry":
                                s = new o[h.type](h.radius, h.tube, h.tubularSegments, h.radialSegments, h.p, h.q);
                                break;
                            case "LatheGeometry":
                                s = new o.LatheGeometry(h.points, h.segments, h.phiStart, h.phiLength);
                                break;
                            case "BufferGeometry":
                                s = n.parse(h);
                                break;
                            case "Geometry":
                                s = i.parse(h.data, this.texturePath).geometry;
                                break;
                            default:
                                continue
                        }
                        s.uuid = h.uuid, void 0 !== h.name && (s.name = h.name), e[h.uuid] = s
                    }
                return e
            },
            parseMaterials: function(t, e) { var i = {}; if (void 0 !== t) { var n = new o.MaterialLoader;
                    n.setTextures(e); for (var r = 0, a = t.length; r < a; r++) { var s = n.parse(t[r]);
                        i[s.uuid] = s } } return i },
            parseAnimations: function(t) { for (var e = [], i = 0; i < t.length; i++) { var n = o.AnimationClip.parse(t[i]);
                    e.push(n) } return e },
            parseImages: function(t, e) {
                function i(t) { return n.manager.itemStart(t), s.load(t, function() { n.manager.itemEnd(t) }) } var n = this,
                    r = {}; if (void 0 !== t && t.length > 0) { var a = new o.LoadingManager(e),
                        s = new o.ImageLoader(a);
                    s.setCrossOrigin(this.crossOrigin); for (var h = 0, l = t.length; h < l; h++) { var u = t[h],
                            c = /^(\/\/)|([a-z]+:(\/\/)?)/i.test(u.url) ? u.url : n.texturePath + u.url;
                        r[u.uuid] = i(c) } } return r },
            parseTextures: function(t, e) {
                function i(t) { return "number" == typeof t ? t : o[t] } var n = {}; if (void 0 !== t)
                    for (var r = 0, a = t.length; r < a; r++) { var s = t[r];
                        void 0 === s.image, void 0 === e[s.image]; var h = new o.Texture(e[s.image]);
                        h.needsUpdate = !0, h.uuid = s.uuid, void 0 !== s.name && (h.name = s.name), void 0 !== s.mapping && (h.mapping = i(s.mapping)), void 0 !== s.offset && (h.offset = new o.Vector2(s.offset[0], s.offset[1])), void 0 !== s.repeat && (h.repeat = new o.Vector2(s.repeat[0], s.repeat[1])), void 0 !== s.minFilter && (h.minFilter = i(s.minFilter)), void 0 !== s.magFilter && (h.magFilter = i(s.magFilter)), void 0 !== s.anisotropy && (h.anisotropy = s.anisotropy), Array.isArray(s.wrap) && (h.wrapS = i(s.wrap[0]), h.wrapT = i(s.wrap[1])), n[s.uuid] = h }
                return n },
            parseObject: function() { var t = new o.Matrix4; return function(e, i, n) {
                    function r(t) { return void 0 === i[t], i[t] }

                    function a(t) { if (void 0 !== t) return void 0 === n[t], n[t] } var s; switch (e.type) {
                        case "Scene":
                            s = new o.Scene; break;
                        case "PerspectiveCamera":
                            s = new o.PerspectiveCamera(e.fov, e.aspect, e.near, e.far); break;
                        case "OrthographicCamera":
                            s = new o.OrthographicCamera(e.left, e.right, e.top, e.bottom, e.near, e.far); break;
                        case "AmbientLight":
                            s = new o.AmbientLight(e.color, e.intensity); break;
                        case "DirectionalLight":
                            s = new o.DirectionalLight(e.color, e.intensity); break;
                        case "PointLight":
                            s = new o.PointLight(e.color, e.intensity, e.distance, e.decay); break;
                        case "SpotLight":
                            s = new o.SpotLight(e.color, e.intensity, e.distance, e.angle, e.penumbra, e.decay); break;
                        case "HemisphereLight":
                            s = new o.HemisphereLight(e.color, e.groundColor, e.intensity); break;
                        case "Mesh":
                            var h = r(e.geometry),
                                l = a(e.material);
                            s = h.bones && h.bones.length > 0 ? new o.SkinnedMesh(h, l) : new o.Mesh(h, l); break;
                        case "LOD":
                            s = new o.LOD; break;
                        case "Line":
                            s = new o.Line(r(e.geometry), a(e.material), e.mode); break;
                        case "PointCloud":
                        case "Points":
                            s = new o.Points(r(e.geometry), a(e.material)); break;
                        case "Sprite":
                            s = new o.Sprite(a(e.material)); break;
                        case "Group":
                            s = new o.Group; break;
                        default:
                            s = new o.Object3D } if (s.uuid = e.uuid, void 0 !== e.name && (s.name = e.name), void 0 !== e.matrix ? (t.fromArray(e.matrix), t.decompose(s.position, s.quaternion, s.scale)) : (void 0 !== e.position && s.position.fromArray(e.position), void 0 !== e.rotation && s.rotation.fromArray(e.rotation), void 0 !== e.scale && s.scale.fromArray(e.scale)), void 0 !== e.castShadow && (s.castShadow = e.castShadow), void 0 !== e.receiveShadow && (s.receiveShadow = e.receiveShadow), void 0 !== e.visible && (s.visible = e.visible), void 0 !== e.userData && (s.userData = e.userData), void 0 !== e.children)
                        for (var u in e.children) s.add(this.parseObject(e.children[u], i, n)); if ("LOD" === e.type)
                        for (var c = e.levels, d = 0; d < c.length; d++) { var p = c[d],
                                u = s.getObjectByProperty("uuid", p.object);
                            void 0 !== u && s.addLevel(u, p.distance) }
                    return s } }()
        }, o.TextureLoader = function(t) { this.manager = void 0 !== t ? t : o.DefaultLoadingManager }, o.TextureLoader.prototype = { constructor: o.TextureLoader, load: function(t, e, i, n) { var r = new o.Texture,
                    a = new o.ImageLoader(this.manager); return a.setCrossOrigin(this.crossOrigin), a.setPath(this.path), a.load(t, function(t) { r.image = t, r.needsUpdate = !0, void 0 !== e && e(r) }, i, n), r }, setCrossOrigin: function(t) { this.crossOrigin = t }, setPath: function(t) { this.path = t } }, o.CubeTextureLoader = function(t) { this.manager = void 0 !== t ? t : o.DefaultLoadingManager }, o.CubeTextureLoader.prototype = { constructor: o.CubeTextureLoader, load: function(t, e, i, n) {
                function r(i) { s.load(t[i], function(t) { a.images[i] = t, h++, 6 === h && (a.needsUpdate = !0, e && e(a)) }, void 0, n) } var a = new o.CubeTexture,
                    s = new o.ImageLoader(this.manager);
                s.setCrossOrigin(this.crossOrigin), s.setPath(this.path); for (var h = 0, l = 0; l < t.length; ++l) r(l); return a }, setCrossOrigin: function(t) { this.crossOrigin = t }, setPath: function(t) { this.path = t } }, o.DataTextureLoader = o.BinaryTextureLoader = function(t) { this.manager = void 0 !== t ? t : o.DefaultLoadingManager, this._parser = null }, o.BinaryTextureLoader.prototype = { constructor: o.BinaryTextureLoader, load: function(t, e, i, n) { var r = this,
                    a = new o.DataTexture,
                    s = new o.XHRLoader(this.manager); return s.setResponseType("arraybuffer"), s.load(t, function(t) { var i = r._parser(t);
                    i && (void 0 !== i.image ? a.image = i.image : void 0 !== i.data && (a.image.width = i.width, a.image.height = i.height, a.image.data = i.data), a.wrapS = void 0 !== i.wrapS ? i.wrapS : o.ClampToEdgeWrapping, a.wrapT = void 0 !== i.wrapT ? i.wrapT : o.ClampToEdgeWrapping, a.magFilter = void 0 !== i.magFilter ? i.magFilter : o.LinearFilter, a.minFilter = void 0 !== i.minFilter ? i.minFilter : o.LinearMipMapLinearFilter, a.anisotropy = void 0 !== i.anisotropy ? i.anisotropy : 1, void 0 !== i.format && (a.format = i.format), void 0 !== i.type && (a.type = i.type), void 0 !== i.mipmaps && (a.mipmaps = i.mipmaps), 1 === i.mipmapCount && (a.minFilter = o.LinearFilter), a.needsUpdate = !0, e && e(a, i)) }, i, n), a } }, o.CompressedTextureLoader = function(t) { this.manager = void 0 !== t ? t : o.DefaultLoadingManager, this._parser = null }, o.CompressedTextureLoader.prototype = { constructor: o.CompressedTextureLoader, load: function(t, e, i, n) {
                function r(r) { l.load(t[r], function(t) { var i = a._parser(t, !0);
                        s[r] = { width: i.width, height: i.height, format: i.format, mipmaps: i.mipmaps }, u += 1, 6 === u && (1 === i.mipmapCount && (h.minFilter = o.LinearFilter), h.format = i.format, h.needsUpdate = !0, e && e(h)) }, i, n) } var a = this,
                    s = [],
                    h = new o.CompressedTexture;
                h.image = s; var l = new o.XHRLoader(this.manager); if (l.setPath(this.path), l.setResponseType("arraybuffer"), Array.isArray(t))
                    for (var u = 0, c = 0, d = t.length; c < d; ++c) r(c);
                else l.load(t, function(t) { var i = a._parser(t, !0); if (i.isCubemap)
                        for (var n = i.mipmaps.length / i.mipmapCount, r = 0; r < n; r++) { s[r] = { mipmaps: [] }; for (var l = 0; l < i.mipmapCount; l++) s[r].mipmaps.push(i.mipmaps[r * i.mipmapCount + l]), s[r].format = i.format, s[r].width = i.width, s[r].height = i.height } else h.image.width = i.width, h.image.height = i.height, h.mipmaps = i.mipmaps;
                    1 === i.mipmapCount && (h.minFilter = o.LinearFilter), h.format = i.format, h.needsUpdate = !0, e && e(h) }, i, n); return h }, setPath: function(t) { this.path = t } }, o.Material = function() { Object.defineProperty(this, "id", { value: o.MaterialIdCount++ }), this.uuid = o.Math.generateUUID(), this.name = "", this.type = "Material", this.side = o.FrontSide, this.opacity = 1, this.transparent = !1, this.blending = o.NormalBlending, this.blendSrc = o.SrcAlphaFactor, this.blendDst = o.OneMinusSrcAlphaFactor, this.blendEquation = o.AddEquation, this.blendSrcAlpha = null, this.blendDstAlpha = null, this.blendEquationAlpha = null, this.depthFunc = o.LessEqualDepth, this.depthTest = !0, this.depthWrite = !0, this.colorWrite = !0, this.precision = null, this.polygonOffset = !1, this.polygonOffsetFactor = 0, this.polygonOffsetUnits = 0, this.alphaTest = 0, this.premultipliedAlpha = !1, this.overdraw = 0, this.visible = !0, this._needsUpdate = !0 }, o.Material.prototype = { constructor: o.Material, get needsUpdate() { return this._needsUpdate }, set needsUpdate(t) { t === !0 && this.update(), this._needsUpdate = t }, setValues: function(t) { if (void 0 !== t)
                    for (var e in t) { var i = t[e]; if (void 0 !== i) { var n = this[e];
                            void 0 !== n && (n instanceof o.Color ? n.set(i) : n instanceof o.Vector3 && i instanceof o.Vector3 ? n.copy(i) : "overdraw" === e ? this[e] = Number(i) : this[e] = i) } } }, toJSON: function(t) {
                function e(t) { var e = []; for (var i in t) { var n = t[i];
                        delete n.metadata, e.push(n) } return e } var i = void 0 === t;
                i && (t = { textures: {}, images: {} }); var n = { metadata: { version: 4.4, type: "Material", generator: "Material.toJSON" } }; if (n.uuid = this.uuid, n.type = this.type, "" !== this.name && (n.name = this.name), this.color instanceof o.Color && (n.color = this.color.getHex()), .5 !== this.roughness && (n.roughness = this.roughness), .5 !== this.metalness && (n.metalness = this.metalness), this.emissive instanceof o.Color && (n.emissive = this.emissive.getHex()), this.specular instanceof o.Color && (n.specular = this.specular.getHex()), void 0 !== this.shininess && (n.shininess = this.shininess), this.map instanceof o.Texture && (n.map = this.map.toJSON(t).uuid), this.alphaMap instanceof o.Texture && (n.alphaMap = this.alphaMap.toJSON(t).uuid), this.lightMap instanceof o.Texture && (n.lightMap = this.lightMap.toJSON(t).uuid), this.bumpMap instanceof o.Texture && (n.bumpMap = this.bumpMap.toJSON(t).uuid, n.bumpScale = this.bumpScale), this.normalMap instanceof o.Texture && (n.normalMap = this.normalMap.toJSON(t).uuid, n.normalScale = this.normalScale.toArray()), this.displacementMap instanceof o.Texture && (n.displacementMap = this.displacementMap.toJSON(t).uuid, n.displacementScale = this.displacementScale, n.displacementBias = this.displacementBias), this.roughnessMap instanceof o.Texture && (n.roughnessMap = this.roughnessMap.toJSON(t).uuid), this.metalnessMap instanceof o.Texture && (n.metalnessMap = this.metalnessMap.toJSON(t).uuid), this.emissiveMap instanceof o.Texture && (n.emissiveMap = this.emissiveMap.toJSON(t).uuid), this.specularMap instanceof o.Texture && (n.specularMap = this.specularMap.toJSON(t).uuid), this.envMap instanceof o.Texture && (n.envMap = this.envMap.toJSON(t).uuid, n.reflectivity = this.reflectivity), void 0 !== this.size && (n.size = this.size), void 0 !== this.sizeAttenuation && (n.sizeAttenuation = this.sizeAttenuation), void 0 !== this.vertexColors && this.vertexColors !== o.NoColors && (n.vertexColors = this.vertexColors), void 0 !== this.shading && this.shading !== o.SmoothShading && (n.shading = this.shading), void 0 !== this.blending && this.blending !== o.NormalBlending && (n.blending = this.blending), void 0 !== this.side && this.side !== o.FrontSide && (n.side = this.side), this.opacity < 1 && (n.opacity = this.opacity), this.transparent === !0 && (n.transparent = this.transparent), this.alphaTest > 0 && (n.alphaTest = this.alphaTest), this.premultipliedAlpha === !0 && (n.premultipliedAlpha = this.premultipliedAlpha), this.wireframe === !0 && (n.wireframe = this.wireframe), this.wireframeLinewidth > 1 && (n.wireframeLinewidth = this.wireframeLinewidth), i) { var r = e(t.textures),
                        a = e(t.images);
                    r.length > 0 && (n.textures = r), a.length > 0 && (n.images = a) } return n }, clone: function() { return (new this.constructor).copy(this) }, copy: function(t) { return this.name = t.name, this.side = t.side, this.opacity = t.opacity, this.transparent = t.transparent, this.blending = t.blending, this.blendSrc = t.blendSrc, this.blendDst = t.blendDst, this.blendEquation = t.blendEquation, this.blendSrcAlpha = t.blendSrcAlpha, this.blendDstAlpha = t.blendDstAlpha, this.blendEquationAlpha = t.blendEquationAlpha, this.depthFunc = t.depthFunc, this.depthTest = t.depthTest, this.depthWrite = t.depthWrite, this.colorWrite = t.colorWrite, this.precision = t.precision, this.polygonOffset = t.polygonOffset, this.polygonOffsetFactor = t.polygonOffsetFactor, this.polygonOffsetUnits = t.polygonOffsetUnits, this.alphaTest = t.alphaTest, this.premultipliedAlpha = t.premultipliedAlpha, this.overdraw = t.overdraw, this.visible = t.visible, this }, update: function() { this.dispatchEvent({ type: "update" }) }, dispose: function() { this.dispatchEvent({ type: "dispose" }) } }, o.EventDispatcher.prototype.apply(o.Material.prototype), o.MaterialIdCount = 0, o.LineBasicMaterial = function(t) { o.Material.call(this), this.type = "LineBasicMaterial", this.color = new o.Color(16777215), this.linewidth = 1, this.linecap = "round", this.linejoin = "round", this.blending = o.NormalBlending, this.vertexColors = o.NoColors, this.fog = !0, this.setValues(t) }, o.LineBasicMaterial.prototype = Object.create(o.Material.prototype), o.LineBasicMaterial.prototype.constructor = o.LineBasicMaterial, o.LineBasicMaterial.prototype.copy = function(t) { return o.Material.prototype.copy.call(this, t), this.color.copy(t.color), this.linewidth = t.linewidth, this.linecap = t.linecap, this.linejoin = t.linejoin, this.vertexColors = t.vertexColors, this.fog = t.fog, this }, o.LineDashedMaterial = function(t) { o.Material.call(this), this.type = "LineDashedMaterial", this.color = new o.Color(16777215), this.linewidth = 1, this.scale = 1, this.dashSize = 3, this.gapSize = 1, this.blending = o.NormalBlending, this.vertexColors = o.NoColors, this.fog = !0, this.setValues(t) }, o.LineDashedMaterial.prototype = Object.create(o.Material.prototype), o.LineDashedMaterial.prototype.constructor = o.LineDashedMaterial, o.LineDashedMaterial.prototype.copy = function(t) { return o.Material.prototype.copy.call(this, t), this.color.copy(t.color), this.linewidth = t.linewidth, this.scale = t.scale, this.dashSize = t.dashSize, this.gapSize = t.gapSize, this.vertexColors = t.vertexColors, this.fog = t.fog, this }, o.MeshBasicMaterial = function(t) { o.Material.call(this), this.type = "MeshBasicMaterial", this.color = new o.Color(16777215), this.map = null, this.aoMap = null, this.aoMapIntensity = 1, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.combine = o.MultiplyOperation, this.reflectivity = 1, this.refractionRatio = .98, this.fog = !0, this.shading = o.SmoothShading, this.blending = o.NormalBlending, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.vertexColors = o.NoColors, this.skinning = !1, this.morphTargets = !1, this.setValues(t) }, o.MeshBasicMaterial.prototype = Object.create(o.Material.prototype), o.MeshBasicMaterial.prototype.constructor = o.MeshBasicMaterial, o.MeshBasicMaterial.prototype.copy = function(t) { return o.Material.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.specularMap = t.specularMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.combine = t.combine, this.reflectivity = t.reflectivity, this.refractionRatio = t.refractionRatio, this.fog = t.fog, this.shading = t.shading, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.vertexColors = t.vertexColors, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this }, o.MeshLambertMaterial = function(t) { o.Material.call(this), this.type = "MeshLambertMaterial", this.color = new o.Color(16777215), this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new o.Color(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.combine = o.MultiplyOperation, this.reflectivity = 1, this.refractionRatio = .98, this.fog = !0, this.blending = o.NormalBlending, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.vertexColors = o.NoColors, this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(t) }, o.MeshLambertMaterial.prototype = Object.create(o.Material.prototype), o.MeshLambertMaterial.prototype.constructor = o.MeshLambertMaterial, o.MeshLambertMaterial.prototype.copy = function(t) { return o.Material.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.emissive.copy(t.emissive), this.emissiveMap = t.emissiveMap, this.emissiveIntensity = t.emissiveIntensity, this.specularMap = t.specularMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.combine = t.combine, this.reflectivity = t.reflectivity, this.refractionRatio = t.refractionRatio, this.fog = t.fog, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.vertexColors = t.vertexColors, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this }, o.MeshPhongMaterial = function(t) { o.Material.call(this), this.type = "MeshPhongMaterial", this.color = new o.Color(16777215), this.specular = new o.Color(1118481), this.shininess = 30, this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new o.Color(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalScale = new o.Vector2(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.specularMap = null, this.alphaMap = null, this.envMap = null, this.combine = o.MultiplyOperation, this.reflectivity = 1, this.refractionRatio = .98, this.fog = !0, this.shading = o.SmoothShading, this.blending = o.NormalBlending, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.vertexColors = o.NoColors, this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(t) }, o.MeshPhongMaterial.prototype = Object.create(o.Material.prototype), o.MeshPhongMaterial.prototype.constructor = o.MeshPhongMaterial, o.MeshPhongMaterial.prototype.copy = function(t) { return o.Material.prototype.copy.call(this, t), this.color.copy(t.color), this.specular.copy(t.specular), this.shininess = t.shininess, this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.emissive.copy(t.emissive), this.emissiveMap = t.emissiveMap, this.emissiveIntensity = t.emissiveIntensity, this.bumpMap = t.bumpMap, this.bumpScale = t.bumpScale, this.normalMap = t.normalMap, this.normalScale.copy(t.normalScale), this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.specularMap = t.specularMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.combine = t.combine, this.reflectivity = t.reflectivity, this.refractionRatio = t.refractionRatio, this.fog = t.fog, this.shading = t.shading, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.vertexColors = t.vertexColors, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this }, o.MeshStandardMaterial = function(t) { o.Material.call(this), this.type = "MeshStandardMaterial", this.color = new o.Color(16777215), this.roughness = .5, this.metalness = .5, this.map = null, this.lightMap = null, this.lightMapIntensity = 1, this.aoMap = null, this.aoMapIntensity = 1, this.emissive = new o.Color(0), this.emissiveIntensity = 1, this.emissiveMap = null, this.bumpMap = null, this.bumpScale = 1, this.normalMap = null, this.normalScale = new o.Vector2(1, 1), this.displacementMap = null, this.displacementScale = 1, this.displacementBias = 0, this.roughnessMap = null, this.metalnessMap = null, this.alphaMap = null, this.envMap = null, this.envMapIntensity = 1, this.refractionRatio = .98, this.fog = !0, this.shading = o.SmoothShading, this.blending = o.NormalBlending, this.wireframe = !1, this.wireframeLinewidth = 1, this.wireframeLinecap = "round", this.wireframeLinejoin = "round", this.vertexColors = o.NoColors, this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.setValues(t) }, o.MeshStandardMaterial.prototype = Object.create(o.Material.prototype), o.MeshStandardMaterial.prototype.constructor = o.MeshStandardMaterial, o.MeshStandardMaterial.prototype.copy = function(t) { return o.Material.prototype.copy.call(this, t), this.color.copy(t.color), this.roughness = t.roughness, this.metalness = t.metalness, this.map = t.map, this.lightMap = t.lightMap, this.lightMapIntensity = t.lightMapIntensity, this.aoMap = t.aoMap, this.aoMapIntensity = t.aoMapIntensity, this.emissive.copy(t.emissive), this.emissiveMap = t.emissiveMap, this.emissiveIntensity = t.emissiveIntensity, this.bumpMap = t.bumpMap, this.bumpScale = t.bumpScale, this.normalMap = t.normalMap, this.normalScale.copy(t.normalScale), this.displacementMap = t.displacementMap, this.displacementScale = t.displacementScale, this.displacementBias = t.displacementBias, this.roughnessMap = t.roughnessMap, this.metalnessMap = t.metalnessMap, this.alphaMap = t.alphaMap, this.envMap = t.envMap, this.envMapIntensity = t.envMapIntensity, this.refractionRatio = t.refractionRatio, this.fog = t.fog, this.shading = t.shading, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.wireframeLinecap = t.wireframeLinecap, this.wireframeLinejoin = t.wireframeLinejoin, this.vertexColors = t.vertexColors, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this }, o.MeshDepthMaterial = function(t) { o.Material.call(this), this.type = "MeshDepthMaterial", this.morphTargets = !1, this.wireframe = !1, this.wireframeLinewidth = 1, this.setValues(t) }, o.MeshDepthMaterial.prototype = Object.create(o.Material.prototype), o.MeshDepthMaterial.prototype.constructor = o.MeshDepthMaterial, o.MeshDepthMaterial.prototype.copy = function(t) { return o.Material.prototype.copy.call(this, t), this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this }, o.MeshNormalMaterial = function(t) { o.Material.call(this, t), this.type = "MeshNormalMaterial", this.wireframe = !1, this.wireframeLinewidth = 1, this.morphTargets = !1, this.setValues(t) }, o.MeshNormalMaterial.prototype = Object.create(o.Material.prototype), o.MeshNormalMaterial.prototype.constructor = o.MeshNormalMaterial, o.MeshNormalMaterial.prototype.copy = function(t) { return o.Material.prototype.copy.call(this, t), this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this }, o.MultiMaterial = function(t) { this.uuid = o.Math.generateUUID(), this.type = "MultiMaterial", this.materials = t instanceof Array ? t : [], this.visible = !0 }, o.MultiMaterial.prototype = { constructor: o.MultiMaterial, toJSON: function(t) { for (var e = { metadata: { version: 4.2, type: "material", generator: "MaterialExporter" }, uuid: this.uuid, type: this.type, materials: [] }, i = this.materials, n = 0, r = i.length; n < r; n++) { var o = i[n].toJSON(t);
                    delete o.metadata, e.materials.push(o) } return e.visible = this.visible, e }, clone: function() { for (var t = new this.constructor, e = 0; e < this.materials.length; e++) t.materials.push(this.materials[e].clone()); return t.visible = this.visible, t } }, o.PointsMaterial = function(t) { o.Material.call(this), this.type = "PointsMaterial", this.color = new o.Color(16777215), this.map = null, this.size = 1, this.sizeAttenuation = !0, this.blending = o.NormalBlending, this.vertexColors = o.NoColors, this.fog = !0, this.setValues(t) }, o.PointsMaterial.prototype = Object.create(o.Material.prototype), o.PointsMaterial.prototype.constructor = o.PointsMaterial, o.PointsMaterial.prototype.copy = function(t) { return o.Material.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.size = t.size, this.sizeAttenuation = t.sizeAttenuation, this.vertexColors = t.vertexColors, this.fog = t.fog, this }, o.ShaderMaterial = function(t) { o.Material.call(this), this.type = "ShaderMaterial", this.defines = {}, this.uniforms = {}, this.vertexShader = "void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}", this.fragmentShader = "void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}", this.shading = o.SmoothShading, this.linewidth = 1, this.wireframe = !1, this.wireframeLinewidth = 1, this.fog = !1, this.lights = !1, this.vertexColors = o.NoColors, this.skinning = !1, this.morphTargets = !1, this.morphNormals = !1, this.extensions = { derivatives: !1, fragDepth: !1, drawBuffers: !1, shaderTextureLOD: !1 }, this.defaultAttributeValues = { color: [1, 1, 1], uv: [0, 0], uv2: [0, 0] }, this.index0AttributeName = void 0, void 0 !== t && (void 0 !== t.attributes, this.setValues(t)) }, o.ShaderMaterial.prototype = Object.create(o.Material.prototype), o.ShaderMaterial.prototype.constructor = o.ShaderMaterial, o.ShaderMaterial.prototype.copy = function(t) { return o.Material.prototype.copy.call(this, t), this.fragmentShader = t.fragmentShader, this.vertexShader = t.vertexShader, this.uniforms = o.UniformsUtils.clone(t.uniforms), this.defines = t.defines, this.shading = t.shading, this.wireframe = t.wireframe, this.wireframeLinewidth = t.wireframeLinewidth, this.fog = t.fog, this.lights = t.lights, this.vertexColors = t.vertexColors, this.skinning = t.skinning, this.morphTargets = t.morphTargets, this.morphNormals = t.morphNormals, this.extensions = t.extensions, this }, o.ShaderMaterial.prototype.toJSON = function(t) { var e = o.Material.prototype.toJSON.call(this, t); return e.uniforms = this.uniforms, e.vertexShader = this.vertexShader, e.fragmentShader = this.fragmentShader, e }, o.RawShaderMaterial = function(t) { o.ShaderMaterial.call(this, t), this.type = "RawShaderMaterial" }, o.RawShaderMaterial.prototype = Object.create(o.ShaderMaterial.prototype), o.RawShaderMaterial.prototype.constructor = o.RawShaderMaterial, o.SpriteMaterial = function(t) { o.Material.call(this), this.type = "SpriteMaterial", this.color = new o.Color(16777215), this.map = null, this.rotation = 0, this.fog = !1, this.setValues(t) }, o.SpriteMaterial.prototype = Object.create(o.Material.prototype), o.SpriteMaterial.prototype.constructor = o.SpriteMaterial, o.SpriteMaterial.prototype.copy = function(t) { return o.Material.prototype.copy.call(this, t), this.color.copy(t.color), this.map = t.map, this.rotation = t.rotation, this.fog = t.fog, this }, o.Texture = function(t, e, i, n, r, a, s, h, l) { Object.defineProperty(this, "id", { value: o.TextureIdCount++ }), this.uuid = o.Math.generateUUID(), this.name = "", this.sourceFile = "", this.image = void 0 !== t ? t : o.Texture.DEFAULT_IMAGE, this.mipmaps = [], this.mapping = void 0 !== e ? e : o.Texture.DEFAULT_MAPPING, this.wrapS = void 0 !== i ? i : o.ClampToEdgeWrapping, this.wrapT = void 0 !== n ? n : o.ClampToEdgeWrapping, this.magFilter = void 0 !== r ? r : o.LinearFilter, this.minFilter = void 0 !== a ? a : o.LinearMipMapLinearFilter, this.anisotropy = void 0 !== l ? l : 1, this.format = void 0 !== s ? s : o.RGBAFormat, this.type = void 0 !== h ? h : o.UnsignedByteType, this.offset = new o.Vector2(0, 0), this.repeat = new o.Vector2(1, 1), this.generateMipmaps = !0, this.premultiplyAlpha = !1, this.flipY = !0, this.unpackAlignment = 4, this.encoding = o.LinearEncoding, this.version = 0, this.onUpdate = null }, o.Texture.DEFAULT_IMAGE = void 0, o.Texture.DEFAULT_MAPPING = o.UVMapping, o.Texture.prototype = { constructor: o.Texture, set needsUpdate(t) { t === !0 && this.version++ }, clone: function() { return (new this.constructor).copy(this) }, copy: function(t) { return this.image = t.image, this.mipmaps = t.mipmaps.slice(0), this.mapping = t.mapping, this.wrapS = t.wrapS, this.wrapT = t.wrapT, this.magFilter = t.magFilter, this.minFilter = t.minFilter, this.anisotropy = t.anisotropy, this.format = t.format, this.type = t.type, this.offset.copy(t.offset), this.repeat.copy(t.repeat), this.generateMipmaps = t.generateMipmaps, this.premultiplyAlpha = t.premultiplyAlpha, this.flipY = t.flipY, this.unpackAlignment = t.unpackAlignment, this.encoding = t.encoding, this }, toJSON: function(t) {
                function e(t) { var e; return void 0 !== t.toDataURL ? e = t : (e = document.createElement("canvas"), e.width = t.width, e.height = t.height, e.getContext("2d").drawImage(t, 0, 0, t.width, t.height)), e.width > 2048 || e.height > 2048 ? e.toDataURL("image/jpeg", .6) : e.toDataURL("image/png") } if (void 0 !== t.textures[this.uuid]) return t.textures[this.uuid]; var i = { metadata: { version: 4.4, type: "Texture", generator: "Texture.toJSON" }, uuid: this.uuid, name: this.name, mapping: this.mapping, repeat: [this.repeat.x, this.repeat.y], offset: [this.offset.x, this.offset.y], wrap: [this.wrapS, this.wrapT], minFilter: this.minFilter, magFilter: this.magFilter, anisotropy: this.anisotropy }; if (void 0 !== this.image) { var n = this.image;
                    void 0 === n.uuid && (n.uuid = o.Math.generateUUID()), void 0 === t.images[n.uuid] && (t.images[n.uuid] = { uuid: n.uuid, url: e(n) }), i.image = n.uuid } return t.textures[this.uuid] = i, i }, dispose: function() { this.dispatchEvent({ type: "dispose" }) }, transformUv: function(t) { if (this.mapping === o.UVMapping) { if (t.multiply(this.repeat), t.add(this.offset), t.x < 0 || t.x > 1) switch (this.wrapS) {
                        case o.RepeatWrapping:
                            t.x = t.x - Math.floor(t.x); break;
                        case o.ClampToEdgeWrapping:
                            t.x = t.x < 0 ? 0 : 1; break;
                        case o.MirroredRepeatWrapping:
                            1 === Math.abs(Math.floor(t.x) % 2) ? t.x = Math.ceil(t.x) - t.x : t.x = t.x - Math.floor(t.x) }
                    if (t.y < 0 || t.y > 1) switch (this.wrapT) {
                        case o.RepeatWrapping:
                            t.y = t.y - Math.floor(t.y); break;
                        case o.ClampToEdgeWrapping:
                            t.y = t.y < 0 ? 0 : 1; break;
                        case o.MirroredRepeatWrapping:
                            1 === Math.abs(Math.floor(t.y) % 2) ? t.y = Math.ceil(t.y) - t.y : t.y = t.y - Math.floor(t.y) } this.flipY && (t.y = 1 - t.y) } } }, o.EventDispatcher.prototype.apply(o.Texture.prototype), o.TextureIdCount = 0, o.CanvasTexture = function(t, e, i, n, r, a, s, h, l) { o.Texture.call(this, t, e, i, n, r, a, s, h, l), this.needsUpdate = !0 }, o.CanvasTexture.prototype = Object.create(o.Texture.prototype), o.CanvasTexture.prototype.constructor = o.CanvasTexture, o.CubeTexture = function(t, e, i, n, r, a, s, h, l) { t = void 0 !== t ? t : [], e = void 0 !== e ? e : o.CubeReflectionMapping, o.Texture.call(this, t, e, i, n, r, a, s, h, l), this.flipY = !1 }, o.CubeTexture.prototype = Object.create(o.Texture.prototype), o.CubeTexture.prototype.constructor = o.CubeTexture, Object.defineProperty(o.CubeTexture.prototype, "images", { get: function() { return this.image }, set: function(t) { this.image = t } }), o.CompressedTexture = function(t, e, i, n, r, a, s, h, l, u, c) { o.Texture.call(this, null, a, s, h, l, u, n, r, c), this.image = { width: e, height: i }, this.mipmaps = t, this.flipY = !1, this.generateMipmaps = !1 }, o.CompressedTexture.prototype = Object.create(o.Texture.prototype), o.CompressedTexture.prototype.constructor = o.CompressedTexture, o.DataTexture = function(t, e, i, n, r, a, s, h, l, u, c) { o.Texture.call(this, null, a, s, h, l, u, n, r, c), this.image = { data: t, width: e, height: i }, this.magFilter = void 0 !== l ? l : o.NearestFilter, this.minFilter = void 0 !== u ? u : o.NearestFilter, this.flipY = !1, this.generateMipmaps = !1 }, o.DataTexture.prototype = Object.create(o.Texture.prototype), o.DataTexture.prototype.constructor = o.DataTexture, o.VideoTexture = function(t, e, i, n, r, a, s, h, l) {
            function u() { requestAnimationFrame(u), t.readyState === t.HAVE_ENOUGH_DATA && (c.needsUpdate = !0) } o.Texture.call(this, t, e, i, n, r, a, s, h, l), this.generateMipmaps = !1; var c = this;
            u() }, o.VideoTexture.prototype = Object.create(o.Texture.prototype), o.VideoTexture.prototype.constructor = o.VideoTexture, o.Group = function() { o.Object3D.call(this), this.type = "Group" }, o.Group.prototype = Object.create(o.Object3D.prototype), o.Group.prototype.constructor = o.Group, o.Points = function(t, e) { o.Object3D.call(this), this.type = "Points", this.geometry = void 0 !== t ? t : new o.Geometry, this.material = void 0 !== e ? e : new o.PointsMaterial({ color: 16777215 * Math.random() }) }, o.Points.prototype = Object.create(o.Object3D.prototype), o.Points.prototype.constructor = o.Points, o.Points.prototype.raycast = function() { var t = new o.Matrix4,
                e = new o.Ray,
                i = new o.Sphere; return function(n, r) {
                function a(t, i) { var o = e.distanceSqToPoint(t); if (o < d) { var a = e.closestPointToPoint(t);
                        a.applyMatrix4(l); var h = n.ray.origin.distanceTo(a); if (h < n.near || h > n.far) return;
                        r.push({ distance: h, distanceToRay: Math.sqrt(o), point: a.clone(), index: i, face: null, object: s }) } } var s = this,
                    h = this.geometry,
                    l = this.matrixWorld,
                    u = n.params.Points.threshold; if (null === h.boundingSphere && h.computeBoundingSphere(), i.copy(h.boundingSphere), i.applyMatrix4(l), n.ray.intersectsSphere(i) !== !1) { t.getInverse(l), e.copy(n.ray).applyMatrix4(t); var c = u / ((this.scale.x + this.scale.y + this.scale.z) / 3),
                        d = c * c,
                        p = new o.Vector3; if (h instanceof o.BufferGeometry) { var f = h.index,
                            m = h.attributes,
                            g = m.position.array; if (null !== f)
                            for (var v = f.array, y = 0, _ = v.length; y < _; y++) { var b = v[y];
                                p.fromArray(g, 3 * b), a(p, b) } else
                                for (var y = 0, x = g.length / 3; y < x; y++) p.fromArray(g, 3 * y), a(p, y) } else
                        for (var w = h.vertices, y = 0, x = w.length; y < x; y++) a(w[y], y) } } }(), o.Points.prototype.clone = function() { return new this.constructor(this.geometry, this.material).copy(this) }, o.Line = function(t, e, i) { return 1 === i ? new o.LineSegments(t, e) : (o.Object3D.call(this), this.type = "Line", this.geometry = void 0 !== t ? t : new o.Geometry, void(this.material = void 0 !== e ? e : new o.LineBasicMaterial({ color: 16777215 * Math.random() }))) }, o.Line.prototype = Object.create(o.Object3D.prototype), o.Line.prototype.constructor = o.Line, o.Line.prototype.raycast = function() {
            var t = new o.Matrix4,
                e = new o.Ray,
                i = new o.Sphere;
            return function(n, r) {
                var a = n.linePrecision,
                    s = a * a,
                    h = this.geometry,
                    l = this.matrixWorld;
                if (null === h.boundingSphere && h.computeBoundingSphere(), i.copy(h.boundingSphere), i.applyMatrix4(l), n.ray.intersectsSphere(i) !== !1) {
                    t.getInverse(l), e.copy(n.ray).applyMatrix4(t);
                    var u = new o.Vector3,
                        c = new o.Vector3,
                        d = new o.Vector3,
                        p = new o.Vector3,
                        f = this instanceof o.LineSegments ? 2 : 1;
                    if (h instanceof o.BufferGeometry) {
                        var m = h.index,
                            g = h.attributes,
                            v = g.position.array;
                        if (null !== m)
                            for (var y = m.array, _ = 0, b = y.length - 1; _ < b; _ += f) { var x = y[_],
                                    w = y[_ + 1];
                                u.fromArray(v, 3 * x), c.fromArray(v, 3 * w); var T = e.distanceSqToSegment(u, c, p, d); if (!(T > s)) { p.applyMatrix4(this.matrixWorld); var S = n.ray.origin.distanceTo(p);
                                    S < n.near || S > n.far || r.push({ distance: S, point: d.clone().applyMatrix4(this.matrixWorld), index: _, face: null, faceIndex: null, object: this }) } } else
                                for (var _ = 0, b = v.length / 3 - 1; _ < b; _ += f) {
                                    u.fromArray(v, 3 * _), c.fromArray(v, 3 * _ + 3);
                                    var T = e.distanceSqToSegment(u, c, p, d);
                                    if (!(T > s)) {
                                        p.applyMatrix4(this.matrixWorld);
                                        var S = n.ray.origin.distanceTo(p);
                                        S < n.near || S > n.far || r.push({
                                            distance: S,
                                            point: d.clone().applyMatrix4(this.matrixWorld),
                                            index: _,
                                            face: null,
                                            faceIndex: null,
                                            object: this
                                        })
                                    }
                                }
                    } else if (h instanceof o.Geometry)
                        for (var M = h.vertices, E = M.length, _ = 0; _ < E - 1; _ += f) { var T = e.distanceSqToSegment(M[_], M[_ + 1], p, d); if (!(T > s)) { p.applyMatrix4(this.matrixWorld); var S = n.ray.origin.distanceTo(p);
                                S < n.near || S > n.far || r.push({ distance: S, point: d.clone().applyMatrix4(this.matrixWorld), index: _, face: null, faceIndex: null, object: this }) } }
                }
            }
        }(), o.Line.prototype.clone = function() { return new this.constructor(this.geometry, this.material).copy(this) }, o.LineStrip = 0, o.LinePieces = 1, o.LineSegments = function(t, e) { o.Line.call(this, t, e), this.type = "LineSegments" }, o.LineSegments.prototype = Object.create(o.Line.prototype), o.LineSegments.prototype.constructor = o.LineSegments, o.Mesh = function(t, e) { o.Object3D.call(this), this.type = "Mesh", this.geometry = void 0 !== t ? t : new o.Geometry, this.material = void 0 !== e ? e : new o.MeshBasicMaterial({ color: 16777215 * Math.random() }), this.drawMode = o.TrianglesDrawMode, this.updateMorphTargets() }, o.Mesh.prototype = Object.create(o.Object3D.prototype), o.Mesh.prototype.constructor = o.Mesh, o.Mesh.prototype.setDrawMode = function(t) { this.drawMode = t }, o.Mesh.prototype.updateMorphTargets = function() { if (void 0 !== this.geometry.morphTargets && this.geometry.morphTargets.length > 0) { this.morphTargetBase = -1, this.morphTargetInfluences = [], this.morphTargetDictionary = {}; for (var t = 0, e = this.geometry.morphTargets.length; t < e; t++) this.morphTargetInfluences.push(0), this.morphTargetDictionary[this.geometry.morphTargets[t].name] = t } }, o.Mesh.prototype.getMorphTargetIndexByName = function(t) { return void 0 !== this.morphTargetDictionary[t] ? this.morphTargetDictionary[t] : 0 }, o.Mesh.prototype.raycast = function() {
            function t(t, e, i, n, r, a, s) { return o.Triangle.barycoordFromPoint(t, e, i, n, g), r.multiplyScalar(g.x), a.multiplyScalar(g.y), s.multiplyScalar(g.z), r.add(a).add(s), r.clone() }

            function e(t, e, i, n, r, a, s) { var h, l = t.material; if (h = l.side === o.BackSide ? i.intersectTriangle(a, r, n, !0, s) : i.intersectTriangle(n, r, a, l.side !== o.DoubleSide, s), null === h) return null;
                y.copy(s), y.applyMatrix4(t.matrixWorld); var u = e.ray.origin.distanceTo(y); return u < e.near || u > e.far ? null : { distance: u, point: y.clone(), object: t } }

            function i(i, n, r, a, u, c, d, g) { s.fromArray(a, 3 * c), h.fromArray(a, 3 * d), l.fromArray(a, 3 * g); var y = e(i, n, r, s, h, l, v); return y && (u && (p.fromArray(u, 2 * c), f.fromArray(u, 2 * d), m.fromArray(u, 2 * g), y.uv = t(v, s, h, l, p, f, m)), y.face = new o.Face3(c, d, g, o.Triangle.normal(s, h, l)), y.faceIndex = c), y } var n = new o.Matrix4,
                r = new o.Ray,
                a = new o.Sphere,
                s = new o.Vector3,
                h = new o.Vector3,
                l = new o.Vector3,
                u = new o.Vector3,
                c = new o.Vector3,
                d = new o.Vector3,
                p = new o.Vector2,
                f = new o.Vector2,
                m = new o.Vector2,
                g = new o.Vector3,
                v = new o.Vector3,
                y = new o.Vector3; return function(g, y) { var _ = this.geometry,
                    b = this.material,
                    x = this.matrixWorld; if (void 0 !== b && (null === _.boundingSphere && _.computeBoundingSphere(), a.copy(_.boundingSphere), a.applyMatrix4(x), g.ray.intersectsSphere(a) !== !1 && (n.getInverse(x), r.copy(g.ray).applyMatrix4(n), null === _.boundingBox || r.intersectsBox(_.boundingBox) !== !1))) { var w, T; if (_ instanceof o.BufferGeometry) { var S, M, E, A = _.index,
                            C = _.attributes,
                            R = C.position.array; if (void 0 !== C.uv && (w = C.uv.array), null !== A)
                            for (var P = A.array, O = 0, L = P.length; O < L; O += 3) S = P[O], M = P[O + 1], E = P[O + 2], T = i(this, g, r, R, w, S, M, E), T && (T.faceIndex = Math.floor(O / 3), y.push(T));
                        else
                            for (var O = 0, L = R.length; O < L; O += 9) S = O / 3, M = S + 1, E = S + 2, T = i(this, g, r, R, w, S, M, E), T && (T.index = S, y.push(T)) } else if (_ instanceof o.Geometry) { var I, D, k, B = b instanceof o.MultiMaterial,
                            N = B === !0 ? b.materials : null,
                            F = _.vertices,
                            U = _.faces,
                            G = _.faceVertexUvs[0];
                        G.length > 0 && (w = G); for (var j = 0, z = U.length; j < z; j++) { var V = U[j],
                                H = B === !0 ? N[V.materialIndex] : b; if (void 0 !== H) { if (I = F[V.a], D = F[V.b], k = F[V.c], H.morphTargets === !0) { var W = _.morphTargets,
                                        X = this.morphTargetInfluences;
                                    s.set(0, 0, 0), h.set(0, 0, 0), l.set(0, 0, 0); for (var Y = 0, q = W.length; Y < q; Y++) { var K = X[Y]; if (0 !== K) { var Z = W[Y].vertices;
                                            s.addScaledVector(u.subVectors(Z[V.a], I), K), h.addScaledVector(c.subVectors(Z[V.b], D), K), l.addScaledVector(d.subVectors(Z[V.c], k), K) } } s.add(I), h.add(D), l.add(k), I = s, D = h, k = l } if (T = e(this, g, r, I, D, k, v)) { if (w) { var J = w[j];
                                        p.copy(J[0]), f.copy(J[1]), m.copy(J[2]), T.uv = t(v, I, D, k, p, f, m) } T.face = V, T.faceIndex = j, y.push(T) } } } } } } }(), o.Mesh.prototype.clone = function() { return new this.constructor(this.geometry, this.material).copy(this) }, o.Bone = function(t) { o.Object3D.call(this), this.type = "Bone", this.skin = t }, o.Bone.prototype = Object.create(o.Object3D.prototype), o.Bone.prototype.constructor = o.Bone, o.Bone.prototype.copy = function(t) { return o.Object3D.prototype.copy.call(this, t), this.skin = t.skin, this }, o.Skeleton = function(t, e, i) { if (this.useVertexTexture = void 0 === i || i, this.identityMatrix = new o.Matrix4, t = t || [], this.bones = t.slice(0), this.useVertexTexture) { var n = Math.sqrt(4 * this.bones.length);
                n = o.Math.nextPowerOfTwo(Math.ceil(n)), n = Math.max(n, 4), this.boneTextureWidth = n, this.boneTextureHeight = n, this.boneMatrices = new Float32Array(this.boneTextureWidth * this.boneTextureHeight * 4), this.boneTexture = new o.DataTexture(this.boneMatrices, this.boneTextureWidth, this.boneTextureHeight, o.RGBAFormat, o.FloatType) } else this.boneMatrices = new Float32Array(16 * this.bones.length); if (void 0 === e) this.calculateInverses();
            else if (this.bones.length === e.length) this.boneInverses = e.slice(0);
            else { this.boneInverses = []; for (var r = 0, a = this.bones.length; r < a; r++) this.boneInverses.push(new o.Matrix4) } }, o.Skeleton.prototype.calculateInverses = function() { this.boneInverses = []; for (var t = 0, e = this.bones.length; t < e; t++) { var i = new o.Matrix4;
                this.bones[t] && i.getInverse(this.bones[t].matrixWorld), this.boneInverses.push(i) } }, o.Skeleton.prototype.pose = function() { for (var t, e = 0, i = this.bones.length; e < i; e++) t = this.bones[e], t && t.matrixWorld.getInverse(this.boneInverses[e]); for (var e = 0, i = this.bones.length; e < i; e++) t = this.bones[e], t && (t.parent ? (t.matrix.getInverse(t.parent.matrixWorld), t.matrix.multiply(t.matrixWorld)) : t.matrix.copy(t.matrixWorld), t.matrix.decompose(t.position, t.quaternion, t.scale)) }, o.Skeleton.prototype.update = function() { var t = new o.Matrix4; return function() { for (var e = 0, i = this.bones.length; e < i; e++) { var n = this.bones[e] ? this.bones[e].matrixWorld : this.identityMatrix;
                    t.multiplyMatrices(n, this.boneInverses[e]), t.flattenToArrayOffset(this.boneMatrices, 16 * e) } this.useVertexTexture && (this.boneTexture.needsUpdate = !0) } }(), o.Skeleton.prototype.clone = function() { return new o.Skeleton(this.bones, this.boneInverses, this.useVertexTexture) }, o.SkinnedMesh = function(t, e, i) { o.Mesh.call(this, t, e), this.type = "SkinnedMesh", this.bindMode = "attached", this.bindMatrix = new o.Matrix4, this.bindMatrixInverse = new o.Matrix4; var n = []; if (this.geometry && void 0 !== this.geometry.bones) { for (var r, a, s = 0, h = this.geometry.bones.length; s < h; ++s) a = this.geometry.bones[s], r = new o.Bone(this), n.push(r), r.name = a.name, r.position.fromArray(a.pos), r.quaternion.fromArray(a.rotq), void 0 !== a.scl && r.scale.fromArray(a.scl); for (var s = 0, h = this.geometry.bones.length; s < h; ++s) a = this.geometry.bones[s], a.parent !== -1 && null !== a.parent ? n[a.parent].add(n[s]) : this.add(n[s]) } this.normalizeSkinWeights(), this.updateMatrixWorld(!0), this.bind(new o.Skeleton(n, (void 0), i), this.matrixWorld) }, o.SkinnedMesh.prototype = Object.create(o.Mesh.prototype), o.SkinnedMesh.prototype.constructor = o.SkinnedMesh, o.SkinnedMesh.prototype.bind = function(t, e) { this.skeleton = t, void 0 === e && (this.updateMatrixWorld(!0), this.skeleton.calculateInverses(), e = this.matrixWorld), this.bindMatrix.copy(e), this.bindMatrixInverse.getInverse(e) }, o.SkinnedMesh.prototype.pose = function() { this.skeleton.pose() }, o.SkinnedMesh.prototype.normalizeSkinWeights = function() { if (this.geometry instanceof o.Geometry)
                for (var t = 0; t < this.geometry.skinWeights.length; t++) { var e = this.geometry.skinWeights[t],
                        i = 1 / e.lengthManhattan();
                    i !== 1 / 0 ? e.multiplyScalar(i) : e.set(1, 0, 0, 0) } else if (this.geometry instanceof o.BufferGeometry)
                    for (var n = new o.Vector4, r = this.geometry.attributes.skinWeight, t = 0; t < r.count; t++) { n.x = r.getX(t), n.y = r.getY(t), n.z = r.getZ(t), n.w = r.getW(t); var i = 1 / n.lengthManhattan();
                        i !== 1 / 0 ? n.multiplyScalar(i) : n.set(1, 0, 0, 0), r.setXYZW(t, n.x, n.y, n.z, n.w) } }, o.SkinnedMesh.prototype.updateMatrixWorld = function(t) { o.Mesh.prototype.updateMatrixWorld.call(this, !0), "attached" === this.bindMode ? this.bindMatrixInverse.getInverse(this.matrixWorld) : "detached" === this.bindMode && this.bindMatrixInverse.getInverse(this.bindMatrix) }, o.SkinnedMesh.prototype.clone = function() { return new this.constructor(this.geometry, this.material, this.useVertexTexture).copy(this) }, o.LOD = function() { o.Object3D.call(this), this.type = "LOD", Object.defineProperties(this, { levels: { enumerable: !0, value: [] }, objects: { get: function() { return this.levels } } }) }, o.LOD.prototype = Object.create(o.Object3D.prototype), o.LOD.prototype.constructor = o.LOD, o.LOD.prototype.addLevel = function(t, e) { void 0 === e && (e = 0), e = Math.abs(e); for (var i = this.levels, n = 0; n < i.length && !(e < i[n].distance); n++);
            i.splice(n, 0, { distance: e, object: t }), this.add(t) }, o.LOD.prototype.getObjectForDistance = function(t) { for (var e = this.levels, i = 1, n = e.length; i < n && !(t < e[i].distance); i++); return e[i - 1].object }, o.LOD.prototype.raycast = function() { var t = new o.Vector3; return function(e, i) { t.setFromMatrixPosition(this.matrixWorld); var n = e.ray.origin.distanceTo(t);
                this.getObjectForDistance(n).raycast(e, i) } }(), o.LOD.prototype.update = function() { var t = new o.Vector3,
                e = new o.Vector3; return function(i) { var n = this.levels; if (n.length > 1) { t.setFromMatrixPosition(i.matrixWorld), e.setFromMatrixPosition(this.matrixWorld); var r = t.distanceTo(e);
                    n[0].object.visible = !0; for (var o = 1, a = n.length; o < a && r >= n[o].distance; o++) n[o - 1].object.visible = !1, n[o].object.visible = !0; for (; o < a; o++) n[o].object.visible = !1 } } }(), o.LOD.prototype.copy = function(t) { o.Object3D.prototype.copy.call(this, t, !1); for (var e = t.levels, i = 0, n = e.length; i < n; i++) { var r = e[i];
                this.addLevel(r.object.clone(), r.distance) } return this }, o.LOD.prototype.toJSON = function(t) { var e = o.Object3D.prototype.toJSON.call(this, t);
            e.object.levels = []; for (var i = this.levels, n = 0, r = i.length; n < r; n++) { var a = i[n];
                e.object.levels.push({ object: a.object.uuid, distance: a.distance }) } return e }, o.Sprite = function() { var t = new Uint16Array([0, 1, 2, 0, 2, 3]),
                e = new Float32Array([-.5, -.5, 0, .5, -.5, 0, .5, .5, 0, -.5, .5, 0]),
                i = new Float32Array([0, 0, 1, 0, 1, 1, 0, 1]),
                n = new o.BufferGeometry; return n.setIndex(new o.BufferAttribute(t, 1)), n.addAttribute("position", new o.BufferAttribute(e, 3)), n.addAttribute("uv", new o.BufferAttribute(i, 2)),
                function(t) { o.Object3D.call(this), this.type = "Sprite", this.geometry = n, this.material = void 0 !== t ? t : new o.SpriteMaterial } }(), o.Sprite.prototype = Object.create(o.Object3D.prototype), o.Sprite.prototype.constructor = o.Sprite, o.Sprite.prototype.raycast = function() { var t = new o.Vector3; return function(e, i) { t.setFromMatrixPosition(this.matrixWorld); var n = e.ray.distanceSqToPoint(t),
                    r = this.scale.x * this.scale.y;
                n > r || i.push({ distance: Math.sqrt(n), point: this.position, face: null, object: this }) } }(), o.Sprite.prototype.clone = function() { return new this.constructor(this.material).copy(this) }, o.Particle = o.Sprite, o.LensFlare = function(t, e, i, n, r) { o.Object3D.call(this), this.lensFlares = [], this.positionScreen = new o.Vector3, this.customUpdateCallback = void 0, void 0 !== t && this.add(t, e, i, n, r) }, o.LensFlare.prototype = Object.create(o.Object3D.prototype), o.LensFlare.prototype.constructor = o.LensFlare, o.LensFlare.prototype.add = function(t, e, i, n, r, a) { void 0 === e && (e = -1), void 0 === i && (i = 0), void 0 === a && (a = 1), void 0 === r && (r = new o.Color(16777215)), void 0 === n && (n = o.NormalBlending), i = Math.min(i, Math.max(0, i)), this.lensFlares.push({ texture: t, size: e, distance: i, x: 0, y: 0, z: 0, scale: 1, rotation: 0, opacity: a, color: r, blending: n }) }, o.LensFlare.prototype.updateLensFlares = function() { var t, e, i = this.lensFlares.length,
                n = 2 * -this.positionScreen.x,
                r = 2 * -this.positionScreen.y; for (t = 0; t < i; t++) e = this.lensFlares[t], e.x = this.positionScreen.x + n * e.distance, e.y = this.positionScreen.y + r * e.distance, e.wantedRotation = e.x * Math.PI * .25, e.rotation += .25 * (e.wantedRotation - e.rotation) }, o.LensFlare.prototype.copy = function(t) { o.Object3D.prototype.copy.call(this, t), this.positionScreen.copy(t.positionScreen), this.customUpdateCallback = t.customUpdateCallback; for (var e = 0, i = t.lensFlares.length; e < i; e++) this.lensFlares.push(t.lensFlares[e]); return this }, o.Scene = function() { o.Object3D.call(this), this.type = "Scene", this.fog = null, this.overrideMaterial = null, this.autoUpdate = !0 }, o.Scene.prototype = Object.create(o.Object3D.prototype), o.Scene.prototype.constructor = o.Scene, o.Scene.prototype.copy = function(t, e) { return o.Object3D.prototype.copy.call(this, t, e), null !== t.fog && (this.fog = t.fog.clone()), null !== t.overrideMaterial && (this.overrideMaterial = t.overrideMaterial.clone()), this.autoUpdate = t.autoUpdate, this.matrixAutoUpdate = t.matrixAutoUpdate, this }, o.Fog = function(t, e, i) { this.name = "", this.color = new o.Color(t), this.near = void 0 !== e ? e : 1, this.far = void 0 !== i ? i : 1e3 }, o.Fog.prototype.clone = function() { return new o.Fog(this.color.getHex(), this.near, this.far) }, o.FogExp2 = function(t, e) { this.name = "", this.color = new o.Color(t), this.density = void 0 !== e ? e : 25e-5 }, o.FogExp2.prototype.clone = function() { return new o.FogExp2(this.color.getHex(), this.density) }, o.ShaderChunk = {}, o.ShaderChunk.alphamap_fragment = "#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n", o.ShaderChunk.alphamap_pars_fragment = "#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n", o.ShaderChunk.alphatest_fragment = "#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n", o.ShaderChunk.aomap_fragment = "#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n", o.ShaderChunk.aomap_pars_fragment = "#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif", o.ShaderChunk.begin_vertex = "\nvec3 transformed = vec3( position );\n", o.ShaderChunk.beginnormal_vertex = "\nvec3 objectNormal = vec3( normal );\n", o.ShaderChunk.bsdfs = "bool testLightInRange( const in float lightDistance, const in float cutoffDistance ) {\n\treturn any( bvec2( cutoffDistance == 0.0, lightDistance < cutoffDistance ) );\n}\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t\t}\n\t\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_Smith( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n", o.ShaderChunk.bumpmap_pars_fragment = "#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = dFdx( surf_pos );\n\t\tvec3 vSigmaY = dFdy( surf_pos );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n", o.ShaderChunk.color_fragment = "#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif", o.ShaderChunk.color_pars_fragment = "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n", o.ShaderChunk.color_pars_vertex = "#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif", o.ShaderChunk.color_vertex = "#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif", o.ShaderChunk.common = "#define PI 3.14159\n#define PI2 6.28318\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\n", o.ShaderChunk.cube_uv_reflection_fragment = "#ifdef ENVMAP_TYPE_CUBE_UV\nconst float cubeUV_textureSize = 1024.0;\nint getFaceFromDirection(vec3 direction) {\n    vec3 absDirection = abs(direction);\n    int face = -1;\n    if( absDirection.x > absDirection.z ) {\n        if(absDirection.x > absDirection.y )\n            face = direction.x > 0.0 ? 0 : 3;\n        else\n            face = direction.y > 0.0 ? 1 : 4;\n    }\n    else {\n        if(absDirection.z > absDirection.y )\n            face = direction.z > 0.0 ? 2 : 5;\n        else\n            face = direction.y > 0.0 ? 1 : 4;\n    }\n    return face;\n}\nconst float cubeUV_maxLods1 = log2(cubeUV_textureSize*0.25) - 1.0;\nconst float cubeUV_rangeClamp = exp2((6.0 - 1.0) * 2.0);\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n    float scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n    float dxRoughness = dFdx(roughness);\n    float dyRoughness = dFdy(roughness);\n    vec3 dx = dFdx( vec * scale * dxRoughness );\n    vec3 dy = dFdy( vec * scale * dyRoughness );\n    float d = max( dot( dx, dx ), dot( dy, dy ) );\n    d = clamp(d, 1.0, cubeUV_rangeClamp);\n    float mipLevel = 0.5 * log2(d);\n    return vec2(floor(mipLevel), fract(mipLevel));\n}\nconst float cubeUV_maxLods2 = log2(cubeUV_textureSize*0.25) - 2.0;\nconst float cubeUV_rcpTextureSize = 1.0 / cubeUV_textureSize;\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n    mipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n    float a = 16.0 * cubeUV_rcpTextureSize;\n    vec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n    vec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n    float powScale = exp2_packed.x * exp2_packed.y;\n    float scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n    float mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n    bool bRes = mipLevel == 0.0;\n    scale =  bRes && (scale < a) ? a : scale;\n    vec3 r;\n    vec2 offset;\n    int face = getFaceFromDirection(direction);\n    float rcpPowScale = 1.0 / powScale;\n    if( face == 0) {\n        r = vec3(direction.x, -direction.z, direction.y);\n        offset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n        offset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n    }\n    else if( face == 1) {\n        r = vec3(direction.y, direction.x, direction.z);\n        offset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n        offset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n    }\n    else if( face == 2) {\n        r = vec3(direction.z, direction.x, direction.y);\n        offset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n        offset.y = bRes && (offset.y < 2.0*a) ?  a : offset.y;\n    }\n    else if( face == 3) {\n        r = vec3(direction.x, direction.z, direction.y);\n        offset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n        offset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n    }\n    else if( face == 4) {\n        r = vec3(direction.y, direction.x, -direction.z);\n        offset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n        offset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n    }\n    else {\n        r = vec3(direction.z, -direction.x, direction.y);\n        offset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n        offset.y = bRes && (offset.y < 2.0*a) ?  0.0 : offset.y;\n    }\n    r = normalize(r);\n    float texelOffset = 0.5 * cubeUV_rcpTextureSize;\n    vec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n    vec2 base = offset + vec2( texelOffset );\n    return base + s * ( scale - 2.0 * texelOffset );\n}\nconst float cubeUV_maxLods3 = log2(cubeUV_textureSize*0.25) - 3.0;\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n    float roughnessVal = roughness* cubeUV_maxLods3;\n    float r1 = floor(roughnessVal);\n    float r2 = r1 + 1.0;\n    float t = fract(roughnessVal);\n    vec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n    float s = mipInfo.y;\n    float level0 = mipInfo.x;\n    float level1 = level0 + 1.0;\n    level1 = level1 > 5.0 ? 5.0 : level1;\n    level0 += min( floor( s + 0.5 ), 5.0 );\n    vec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n    vec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n    vec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n    vec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n    vec4 result = mix(color10, color20, t);\n    return vec4(result.rgb, 1.0);\n}\n#endif\n", o.ShaderChunk.defaultnormal_vertex = "#ifdef FLIP_SIDED\n\tobjectNormal = -objectNormal;\n#endif\nvec3 transformedNormal = normalMatrix * objectNormal;\n", o.ShaderChunk.displacementmap_vertex = "#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normal * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n", o.ShaderChunk.displacementmap_pars_vertex = "#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n", o.ShaderChunk.emissivemap_fragment = "#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n", o.ShaderChunk.emissivemap_pars_fragment = "#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n", o.ShaderChunk.encodings_pars_fragment = "\nvec4 LinearToLinear( in vec4 value ) {\n  return value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n  return vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n  return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n  return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n  return vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n  float maxComponent = max( max( value.r, value.g ), value.b );\n  float fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n  return vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n  return vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n  float maxRGB = max( value.x, max( value.g, value.b ) );\n  float M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n  M            = ceil( M * 255.0 ) / 255.0;\n  return vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n    return vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n    float maxRGB = max( value.x, max( value.g, value.b ) );\n    float D      = max( maxRange / maxRGB, 1.0 );\n    D            = min( floor( D ) / 255.0, 1.0 );\n    return vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n  vec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n  Xp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n  vec4 vResult;\n  vResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n  float Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n  vResult.w = fract(Le);\n  vResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n  return vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n  float Le = value.z * 255.0 + value.w;\n  vec3 Xp_Y_XYZp;\n  Xp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n  Xp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n  Xp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n  vec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n  return vec4( max(vRGB, 0.0), 1.0 );\n}\n", o.ShaderChunk.encodings_fragment = "  gl_FragColor = linearToOutputTexel( gl_FragColor );\n", o.ShaderChunk.envmap_fragment = "#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#else\n\t\tfloat flipNormal = 1.0;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\tvec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n", o.ShaderChunk.envmap_pars_fragment = "#if defined( USE_ENVMAP ) || defined( STANDARD )\n\tuniform float reflectivity;\n\tuniform float envMapIntenstiy;\n#endif\n#ifdef USE_ENVMAP\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( STANDARD )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n", o.ShaderChunk.envmap_pars_vertex = "#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG ) && ! defined( STANDARD )\n\tvarying vec3 vReflect;\n\tuniform float refractionRatio;\n#endif\n", o.ShaderChunk.envmap_vertex = "#if defined( USE_ENVMAP ) && ! defined( USE_BUMPMAP ) && ! defined( USE_NORMALMAP ) && ! defined( PHONG ) && ! defined( STANDARD )\n\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t#ifdef ENVMAP_MODE_REFLECTION\n\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t#else\n\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t#endif\n#endif\n", o.ShaderChunk.fog_fragment = "#ifdef USE_FOG\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\t#else\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\t#endif\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",
        o.ShaderChunk.fog_pars_fragment = "#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif", o.ShaderChunk.lightmap_fragment = "#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n", o.ShaderChunk.lightmap_pars_fragment = "#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif", o.ShaderChunk.lights_lambert_vertex = "vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tdirectLight = getPointDirectLightIrradiance( pointLights[ i ], geometry );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tdirectLight = getSpotDirectLightIrradiance( spotLights[ i ], geometry );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectLight = getDirectionalDirectLightIrradiance( directionalLights[ i ], geometry );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n", o.ShaderChunk.lights_pars = "uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tIncidentLight getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry ) {\n\t\tIncidentLight directLight;\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t\treturn directLight;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tIncidentLight getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry ) {\n\t\tIncidentLight directLight;\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tif ( testLightInRange( lightDistance, pointLight.distance ) ) {\n\t\t\tdirectLight.color = pointLight.color;\n\t\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t\treturn directLight;\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tIncidentLight getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry ) {\n\t\tIncidentLight directLight;\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( all( bvec2( angleCos > spotLight.coneCos, testLightInRange( lightDistance, spotLight.distance ) ) ) ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t\treturn directLight;\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( STANDARD )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tfloat flipNormal = 1.0;\n\t\t#endif\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = flipNormal * vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar - 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tfloat flipNormal = ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t\t#else\n\t\t\tfloat flipNormal = 1.0;\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = flipNormal * vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = saturate( flipNormal * reflectVec.y * 0.5 + 0.5 );\n\t\t\tsampleUV.x = atan( flipNormal * reflectVec.z, flipNormal * reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = flipNormal * normalize((viewMatrix * vec4( reflectVec, 0.0 )).xyz + vec3(0.0,0.0,1.0));\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t#endif\n\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n", o.ShaderChunk.lights_phong_fragment = "BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n", o.ShaderChunk.lights_phong_pars_fragment = "#ifdef USE_ENVMAP\n\tvarying vec3 vWorldPosition;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n", o.ShaderChunk.lights_phong_pars_vertex = "#ifdef USE_ENVMAP\n\tvarying vec3 vWorldPosition;\n#endif\n", o.ShaderChunk.lights_phong_vertex = "#ifdef USE_ENVMAP\n\tvWorldPosition = worldPosition.xyz;\n#endif\n", o.ShaderChunk.lights_standard_fragment = "StandardMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\nmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n", o.ShaderChunk.lights_standard_pars_fragment = "struct StandardMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n};\nvoid RE_Direct_Standard( const in IncidentLight directLight, const in GeometricContext geometry, const in StandardMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n}\nvoid RE_IndirectDiffuse_Standard( const in vec3 irradiance, const in GeometricContext geometry, const in StandardMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Standard( const in vec3 radiance, const in GeometricContext geometry, const in StandardMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectSpecular += radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Standard\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Standard\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Standard\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n", o.ShaderChunk.lights_template = "\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tdirectLight = getPointDirectLightIrradiance( pointLight, geometry );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tdirectLight = getSpotDirectLightIrradiance( spotLight, geometry );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tdirectLight = getDirectionalDirectLightIrradiance( directionalLight, geometry );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t \tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\tRE_IndirectSpecular( radiance, geometry, material, reflectedLight );\n#endif\n", o.ShaderChunk.logdepthbuf_fragment = "#if defined(USE_LOGDEPTHBUF) && defined(USE_LOGDEPTHBUF_EXT)\n\tgl_FragDepthEXT = log2(vFragDepth) * logDepthBufFC * 0.5;\n#endif", o.ShaderChunk.logdepthbuf_pars_fragment = "#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n", o.ShaderChunk.logdepthbuf_pars_vertex = "#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif", o.ShaderChunk.logdepthbuf_vertex = "#ifdef USE_LOGDEPTHBUF\n\tgl_Position.z = log2(max( EPSILON, gl_Position.w + 1.0 )) * logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = (gl_Position.z - 1.0) * gl_Position.w;\n\t#endif\n#endif\n", o.ShaderChunk.map_fragment = "#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n", o.ShaderChunk.map_pars_fragment = "#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n", o.ShaderChunk.map_particle_fragment = "#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) * offsetRepeat.zw + offsetRepeat.xy );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n", o.ShaderChunk.map_particle_pars_fragment = "#ifdef USE_MAP\n\tuniform vec4 offsetRepeat;\n\tuniform sampler2D map;\n#endif\n", o.ShaderChunk.metalnessmap_fragment = "float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.r;\n#endif\n", o.ShaderChunk.metalnessmap_pars_fragment = "#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif", o.ShaderChunk.morphnormal_vertex = "#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n", o.ShaderChunk.morphtarget_pars_vertex = "#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif", o.ShaderChunk.morphtarget_vertex = "#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n", o.ShaderChunk.normal_fragment = "#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( -1.0 + 2.0 * float( gl_FrontFacing ) );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n", o.ShaderChunk.normalmap_pars_fragment = "#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = dFdx( eye_pos.xyz );\n\t\tvec3 q1 = dFdy( eye_pos.xyz );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n", o.ShaderChunk.premultiplied_alpha_fragment = "#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n", o.ShaderChunk.project_vertex = "#ifdef USE_SKINNING\n\tvec4 mvPosition = modelViewMatrix * skinned;\n#else\n\tvec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\n#endif\ngl_Position = projectionMatrix * mvPosition;\n", o.ShaderChunk.roughnessmap_fragment = "float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.r;\n#endif\n", o.ShaderChunk.roughnessmap_pars_fragment = "#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif", o.ShaderChunk.shadowmap_pars_fragment = "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat unpackDepth( const in vec4 rgba_depth ) {\n\t\tconst vec4 bit_shift = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\n\t\treturn dot( rgba_depth, bit_shift );\n\t}\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\treturn (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn 1.0;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\tfloat dp = ( length( lightToPosition ) - shadowBias ) / 1000.0;\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n", o.ShaderChunk.shadowmap_pars_vertex = "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n", o.ShaderChunk.shadowmap_vertex = "#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n", o.ShaderChunk.shadowmask_pars_fragment = "float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n", o.ShaderChunk.skinbase_vertex = "#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif", o.ShaderChunk.skinning_pars_vertex = "#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureWidth;\n\t\tuniform int boneTextureHeight;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureWidth ) );\n\t\t\tfloat y = floor( j / float( boneTextureWidth ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureWidth );\n\t\t\tfloat dy = 1.0 / float( boneTextureHeight );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneGlobalMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneGlobalMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",
        o.ShaderChunk.skinning_vertex = "#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\tskinned  = bindMatrixInverse * skinned;\n#endif\n", o.ShaderChunk.skinnormal_vertex = "#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n", o.ShaderChunk.specularmap_fragment = "float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif", o.ShaderChunk.specularmap_pars_fragment = "#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif", o.ShaderChunk.tonemapping_fragment = "#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n", o.ShaderChunk.tonemapping_pars_fragment = "#define saturate(a) clamp( a, 0.0, 1.0 )\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n  return toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  return saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n  color *= toneMappingExposure;\n  color = max( vec3( 0.0 ), color - 0.004 );\n  return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n", o.ShaderChunk.uv2_pars_fragment = "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif", o.ShaderChunk.uv2_pars_vertex = "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif", o.ShaderChunk.uv2_vertex = "#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif", o.ShaderChunk.uv_pars_fragment = "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif", o.ShaderChunk.uv_pars_vertex = "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform vec4 offsetRepeat;\n#endif\n", o.ShaderChunk.uv_vertex = "#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = uv * offsetRepeat.zw + offsetRepeat.xy;\n#endif", o.ShaderChunk.worldpos_vertex = "#if defined( USE_ENVMAP ) || defined( PHONG ) || defined( STANDARD ) || defined( LAMBERT ) || defined ( USE_SHADOWMAP )\n\t#ifdef USE_SKINNING\n\t\tvec4 worldPosition = modelMatrix * skinned;\n\t#else\n\t\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n\t#endif\n#endif\n", o.UniformsUtils = { merge: function(t) { for (var e = {}, i = 0; i < t.length; i++) { var n = this.clone(t[i]); for (var r in n) e[r] = n[r] } return e }, clone: function(t) { var e = {}; for (var i in t) { e[i] = {}; for (var n in t[i]) { var r = t[i][n];
                        r instanceof o.Color || r instanceof o.Vector2 || r instanceof o.Vector3 || r instanceof o.Vector4 || r instanceof o.Matrix3 || r instanceof o.Matrix4 || r instanceof o.Texture ? e[i][n] = r.clone() : Array.isArray(r) ? e[i][n] = r.slice() : e[i][n] = r } } return e } }, o.UniformsLib = { common: { diffuse: { type: "c", value: new o.Color(15658734) }, opacity: { type: "f", value: 1 }, map: { type: "t", value: null }, offsetRepeat: { type: "v4", value: new o.Vector4(0, 0, 1, 1) }, specularMap: { type: "t", value: null }, alphaMap: { type: "t", value: null }, envMap: { type: "t", value: null }, flipEnvMap: { type: "f", value: -1 }, reflectivity: { type: "f", value: 1 }, refractionRatio: { type: "f", value: .98 } }, aomap: { aoMap: { type: "t", value: null }, aoMapIntensity: { type: "f", value: 1 } }, lightmap: { lightMap: { type: "t", value: null }, lightMapIntensity: { type: "f", value: 1 } }, emissivemap: { emissiveMap: { type: "t", value: null } }, bumpmap: { bumpMap: { type: "t", value: null }, bumpScale: { type: "f", value: 1 } }, normalmap: { normalMap: { type: "t", value: null }, normalScale: { type: "v2", value: new o.Vector2(1, 1) } }, displacementmap: { displacementMap: { type: "t", value: null }, displacementScale: { type: "f", value: 1 }, displacementBias: { type: "f", value: 0 } }, roughnessmap: { roughnessMap: { type: "t", value: null } }, metalnessmap: { metalnessMap: { type: "t", value: null } }, fog: { fogDensity: { type: "f", value: 25e-5 }, fogNear: { type: "f", value: 1 }, fogFar: { type: "f", value: 2e3 }, fogColor: { type: "c", value: new o.Color(16777215) } }, lights: { ambientLightColor: { type: "fv", value: [] }, directionalLights: { type: "sa", value: [], properties: { direction: { type: "v3" }, color: { type: "c" }, shadow: { type: "i" }, shadowBias: { type: "f" }, shadowRadius: { type: "f" }, shadowMapSize: { type: "v2" } } }, directionalShadowMap: { type: "tv", value: [] }, directionalShadowMatrix: { type: "m4v", value: [] }, spotLights: { type: "sa", value: [], properties: { color: { type: "c" }, position: { type: "v3" }, direction: { type: "v3" }, distance: { type: "f" }, coneCos: { type: "f" }, penumbraCos: { type: "f" }, decay: { type: "f" }, shadow: { type: "i" }, shadowBias: { type: "f" }, shadowRadius: { type: "f" }, shadowMapSize: { type: "v2" } } }, spotShadowMap: { type: "tv", value: [] }, spotShadowMatrix: { type: "m4v", value: [] }, pointLights: { type: "sa", value: [], properties: { color: { type: "c" }, position: { type: "v3" }, decay: { type: "f" }, distance: { type: "f" }, shadow: { type: "i" }, shadowBias: { type: "f" }, shadowRadius: { type: "f" }, shadowMapSize: { type: "v2" } } }, pointShadowMap: { type: "tv", value: [] }, pointShadowMatrix: { type: "m4v", value: [] }, hemisphereLights: { type: "sa", value: [], properties: { direction: { type: "v3" }, skyColor: { type: "c" }, groundColor: { type: "c" } } } }, points: { diffuse: { type: "c", value: new o.Color(15658734) }, opacity: { type: "f", value: 1 }, size: { type: "f", value: 1 }, scale: { type: "f", value: 1 }, map: { type: "t", value: null }, offsetRepeat: { type: "v4", value: new o.Vector4(0, 0, 1, 1) } } }, o.ShaderChunk.cube_frag = "uniform samplerCube tCube;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\t#include <logdepthbuf_fragment>\n}\n", o.ShaderChunk.cube_vert = "varying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t#include <logdepthbuf_vertex>\n}\n", o.ShaderChunk.depth_frag = "uniform float mNear;\nuniform float mFar;\nuniform float opacity;\n#include <common>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tfloat depth = gl_FragDepthEXT / gl_FragCoord.w;\n\t#else\n\t\tfloat depth = gl_FragCoord.z / gl_FragCoord.w;\n\t#endif\n\tfloat color = 1.0 - smoothstep( mNear, mFar, depth );\n\tgl_FragColor = vec4( vec3( color ), opacity );\n}\n", o.ShaderChunk.depth_vert = "#include <common>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n}\n", o.ShaderChunk.depthRGBA_frag = "#include <common>\n#include <logdepthbuf_pars_fragment>\nvec4 pack_depth( const in float depth ) {\n\tconst vec4 bit_shift = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );\n\tconst vec4 bit_mask = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );\n\tvec4 res = mod( depth * bit_shift * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );\n\tres -= res.xxyz * bit_mask;\n\treturn res;\n}\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tgl_FragData[ 0 ] = pack_depth( gl_FragDepthEXT );\n\t#else\n\t\tgl_FragData[ 0 ] = pack_depth( gl_FragCoord.z );\n\t#endif\n}\n", o.ShaderChunk.depthRGBA_vert = "#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n}\n", o.ShaderChunk.distanceRGBA_frag = "uniform vec3 lightPos;\nvarying vec4 vWorldPosition;\n#include <common>\nvec4 pack1K ( float depth ) {\n\tdepth /= 1000.0;\n\tconst vec4 bitSh = vec4( 256.0 * 256.0 * 256.0, 256.0 * 256.0, 256.0, 1.0 );\n\tconst vec4 bitMsk = vec4( 0.0, 1.0 / 256.0, 1.0 / 256.0, 1.0 / 256.0 );\n\tvec4 res = mod( depth * bitSh * vec4( 255 ), vec4( 256 ) ) / vec4( 255 );\n\tres -= res.xxyz * bitMsk;\n\treturn res;\n}\nfloat unpack1K ( vec4 color ) {\n\tconst vec4 bitSh = vec4( 1.0 / ( 256.0 * 256.0 * 256.0 ), 1.0 / ( 256.0 * 256.0 ), 1.0 / 256.0, 1.0 );\n\treturn dot( color, bitSh ) * 1000.0;\n}\nvoid main () {\n\tgl_FragColor = pack1K( length( vWorldPosition.xyz - lightPos.xyz ) );\n}\n", o.ShaderChunk.distanceRGBA_vert = "varying vec4 vWorldPosition;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\nvoid main() {\n\t#include <skinbase_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\tvWorldPosition = worldPosition;\n}\n", o.ShaderChunk.equirect_frag = "uniform sampler2D tEquirect;\nuniform float tFlip;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = saturate( tFlip * direction.y * -0.5 + 0.5 );\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\t#include <logdepthbuf_fragment>\n}\n", o.ShaderChunk.equirect_vert = "varying vec3 vWorldPosition;\n#include <common>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n\t#include <logdepthbuf_vertex>\n}\n", o.ShaderChunk.linedashed_frag = "uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n", o.ShaderChunk.linedashed_vert = "uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n}\n", o.ShaderChunk.meshbasic_frag = "uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight;\n\treflectedLight.directDiffuse = vec3( 0.0 );\n\treflectedLight.directSpecular = vec3( 0.0 );\n\treflectedLight.indirectDiffuse = diffuseColor.rgb;\n\treflectedLight.indirectSpecular = vec3( 0.0 );\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n", o.ShaderChunk.meshbasic_vert = "#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n}\n", o.ShaderChunk.meshlambert_frag = "uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n", o.ShaderChunk.meshlambert_vert = "#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n}\n", o.ShaderChunk.meshphong_frag = "#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n", o.ShaderChunk.meshphong_vert = "#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <lights_phong_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_phong_vertex>\n\t#include <shadowmap_vertex>\n}\n", o.ShaderChunk.meshstandard_frag = "#define STANDARD\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\nuniform float envMapIntensity;\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_standard_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_standard_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n", o.ShaderChunk.meshstandard_vert = "#define STANDARD\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <displacementmap_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n}\n", o.ShaderChunk.normal_frag = "uniform float opacity;\nvarying vec3 vNormal;\n#include <common>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( 0.5 * normalize( vNormal ) + 0.5, opacity );\n\t#include <logdepthbuf_fragment>\n}\n", o.ShaderChunk.normal_vert = "varying vec3 vNormal;\n#include <common>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\tvNormal = normalize( normalMatrix * normal );\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n}\n", o.ShaderChunk.points_frag = "uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n", o.ShaderChunk.points_vert = "uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n}\n", o.ShaderLib = { basic: { uniforms: o.UniformsUtils.merge([o.UniformsLib.common, o.UniformsLib.aomap, o.UniformsLib.fog]), vertexShader: o.ShaderChunk.meshbasic_vert, fragmentShader: o.ShaderChunk.meshbasic_frag }, lambert: { uniforms: o.UniformsUtils.merge([o.UniformsLib.common, o.UniformsLib.aomap, o.UniformsLib.lightmap, o.UniformsLib.emissivemap, o.UniformsLib.fog, o.UniformsLib.lights, { emissive: { type: "c", value: new o.Color(0) } }]), vertexShader: o.ShaderChunk.meshlambert_vert, fragmentShader: o.ShaderChunk.meshlambert_frag }, phong: { uniforms: o.UniformsUtils.merge([o.UniformsLib.common, o.UniformsLib.aomap, o.UniformsLib.lightmap, o.UniformsLib.emissivemap, o.UniformsLib.bumpmap, o.UniformsLib.normalmap, o.UniformsLib.displacementmap, o.UniformsLib.fog, o.UniformsLib.lights, { emissive: { type: "c", value: new o.Color(0) }, specular: { type: "c", value: new o.Color(1118481) }, shininess: { type: "f", value: 30 } }]), vertexShader: o.ShaderChunk.meshphong_vert, fragmentShader: o.ShaderChunk.meshphong_frag }, standard: { uniforms: o.UniformsUtils.merge([o.UniformsLib.common, o.UniformsLib.aomap, o.UniformsLib.lightmap, o.UniformsLib.emissivemap, o.UniformsLib.bumpmap, o.UniformsLib.normalmap, o.UniformsLib.displacementmap, o.UniformsLib.roughnessmap, o.UniformsLib.metalnessmap, o.UniformsLib.fog, o.UniformsLib.lights, { emissive: { type: "c", value: new o.Color(0) }, roughness: { type: "f", value: .5 }, metalness: { type: "f", value: 0 }, envMapIntensity: { type: "f", value: 1 } }]), vertexShader: o.ShaderChunk.meshstandard_vert, fragmentShader: o.ShaderChunk.meshstandard_frag }, points: { uniforms: o.UniformsUtils.merge([o.UniformsLib.points, o.UniformsLib.fog]), vertexShader: o.ShaderChunk.points_vert, fragmentShader: o.ShaderChunk.points_frag }, dashed: { uniforms: o.UniformsUtils.merge([o.UniformsLib.common, o.UniformsLib.fog, { scale: { type: "f", value: 1 }, dashSize: { type: "f", value: 1 }, totalSize: { type: "f", value: 2 } }]), vertexShader: o.ShaderChunk.linedashed_vert, fragmentShader: o.ShaderChunk.linedashed_frag }, depth: { uniforms: { mNear: { type: "f", value: 1 }, mFar: { type: "f", value: 2e3 }, opacity: { type: "f", value: 1 } }, vertexShader: o.ShaderChunk.depth_vert, fragmentShader: o.ShaderChunk.depth_frag }, normal: { uniforms: { opacity: { type: "f", value: 1 } }, vertexShader: o.ShaderChunk.normal_vert, fragmentShader: o.ShaderChunk.normal_frag }, cube: { uniforms: { tCube: { type: "t", value: null }, tFlip: { type: "f", value: -1 } }, vertexShader: o.ShaderChunk.cube_vert, fragmentShader: o.ShaderChunk.cube_frag }, equirect: { uniforms: { tEquirect: { type: "t", value: null }, tFlip: { type: "f", value: -1 } }, vertexShader: o.ShaderChunk.equirect_vert, fragmentShader: o.ShaderChunk.equirect_frag }, depthRGBA: { uniforms: {}, vertexShader: o.ShaderChunk.depthRGBA_vert, fragmentShader: o.ShaderChunk.depthRGBA_frag }, distanceRGBA: { uniforms: { lightPos: { type: "v3", value: new o.Vector3(0, 0, 0) } }, vertexShader: o.ShaderChunk.distanceRGBA_vert, fragmentShader: o.ShaderChunk.distanceRGBA_frag } }, o.WebGLRenderer = function(t) {
            function e() { return null === _t ? Lt : 1 }

            function i(t, e, i, n) { st === !0 && (t *= n, e *= n, i *= n), Yt.clearColor(t, e, i, n) }

            function n() { Yt.init(), Yt.scissor(St.copy(It).multiplyScalar(Lt)), Yt.viewport(Et.copy(kt).multiplyScalar(Lt)), i(Ct.r, Ct.g, Ct.b, Rt) }

            function r() { yt = null, Tt = null, wt = "", xt = -1, Yt.reset() }

            function a(t) { t.preventDefault(), r(), n(), qt.clear() }

            function s(t) { var e = t.target;
                e.removeEventListener("dispose", s), u(e), Gt.textures-- }

            function h(t) { var e = t.target;
                e.removeEventListener("dispose", h), c(e), Gt.textures-- }

            function l(t) { var e = t.target;
                e.removeEventListener("dispose", l), d(e) }

            function u(t) { var e = qt.get(t); if (t.image && e.__image__webglTextureCube) zt.deleteTexture(e.__image__webglTextureCube);
                else { if (void 0 === e.__webglInit) return;
                    zt.deleteTexture(e.__webglTexture) } qt["delete"](t) }

            function c(t) { var e = qt.get(t),
                    i = qt.get(t.texture); if (t && void 0 !== i.__webglTexture) { if (zt.deleteTexture(i.__webglTexture), t instanceof o.WebGLRenderTargetCube)
                        for (var n = 0; n < 6; n++) zt.deleteFramebuffer(e.__webglFramebuffer[n]), zt.deleteRenderbuffer(e.__webglDepthbuffer[n]);
                    else zt.deleteFramebuffer(e.__webglFramebuffer), zt.deleteRenderbuffer(e.__webglDepthbuffer);
                    qt["delete"](t.texture), qt["delete"](t) } }

            function d(t) { p(t), qt["delete"](t) }

            function p(t) { var e = qt.get(t).program;
                t.program = void 0, void 0 !== e && Zt.releaseProgram(e) }

            function f(t, e, i, n) { var r; if (!(i instanceof o.InstancedBufferGeometry && (r = Wt.get("ANGLE_instanced_arrays"), null === r))) { void 0 === n && (n = 0), Yt.initAttributes(); var a = i.attributes,
                        s = e.getAttributes(),
                        h = t.defaultAttributeValues; for (var l in s) { var u = s[l]; if (u >= 0) { var c = a[l]; if (void 0 !== c) { var d = c.itemSize,
                                    p = Kt.getAttributeBuffer(c); if (c instanceof o.InterleavedBufferAttribute) { var f = c.data,
                                        m = f.stride,
                                        g = c.offset;
                                    f instanceof o.InstancedInterleavedBuffer ? (Yt.enableAttributeAndDivisor(u, f.meshPerAttribute, r), void 0 === i.maxInstancedCount && (i.maxInstancedCount = f.meshPerAttribute * f.count)) : Yt.enableAttribute(u), zt.bindBuffer(zt.ARRAY_BUFFER, p), zt.vertexAttribPointer(u, d, zt.FLOAT, !1, m * f.array.BYTES_PER_ELEMENT, (n * m + g) * f.array.BYTES_PER_ELEMENT) } else c instanceof o.InstancedBufferAttribute ? (Yt.enableAttributeAndDivisor(u, c.meshPerAttribute, r), void 0 === i.maxInstancedCount && (i.maxInstancedCount = c.meshPerAttribute * c.count)) : Yt.enableAttribute(u), zt.bindBuffer(zt.ARRAY_BUFFER, p), zt.vertexAttribPointer(u, d, zt.FLOAT, !1, 0, n * d * 4) } else if (void 0 !== h) { var v = h[l]; if (void 0 !== v) switch (v.length) {
                                    case 2:
                                        zt.vertexAttrib2fv(u, v); break;
                                    case 3:
                                        zt.vertexAttrib3fv(u, v); break;
                                    case 4:
                                        zt.vertexAttrib4fv(u, v); break;
                                    default:
                                        zt.vertexAttrib1fv(u, v) } } } } Yt.disableUnusedAttributes() } }

            function m(t, e) { return Math.abs(e[0]) - Math.abs(t[0]) }

            function g(t, e) { return t.object.renderOrder !== e.object.renderOrder ? t.object.renderOrder - e.object.renderOrder : t.material.id !== e.material.id ? t.material.id - e.material.id : t.z !== e.z ? t.z - e.z : t.id - e.id }

            function v(t, e) { return t.object.renderOrder !== e.object.renderOrder ? t.object.renderOrder - e.object.renderOrder : t.z !== e.z ? e.z - t.z : t.id - e.id }

            function y(t, e, i, n, r) { var o, a;
                i.transparent ? (o = dt, a = ++pt) : (o = ut, a = ++ct); var s = o[a];
                void 0 !== s ? (s.id = t.id, s.object = t, s.geometry = e, s.material = i, s.z = Ft.z, s.group = r) : (s = { id: t.id, object: t, geometry: e, material: i, z: Ft.z, group: r }, o.push(s)) }

            function _(t, e) { if (t.visible !== !1) { if (t.layers.test(e.layers))
                        if (t instanceof o.Light) lt.push(t);
                        else if (t instanceof o.Sprite) t.frustumCulled !== !1 && Bt.intersectsObject(t) !== !0 || mt.push(t);
                    else if (t instanceof o.LensFlare) gt.push(t);
                    else if (t instanceof o.ImmediateRenderObject) vt.sortObjects === !0 && (Ft.setFromMatrixPosition(t.matrixWorld), Ft.applyProjection(Nt)), y(t, null, t.material, Ft.z, null);
                    else if ((t instanceof o.Mesh || t instanceof o.Line || t instanceof o.Points) && (t instanceof o.SkinnedMesh && t.skeleton.update(), t.frustumCulled === !1 || Bt.intersectsObject(t) === !0)) { var i = t.material; if (i.visible === !0) { vt.sortObjects === !0 && (Ft.setFromMatrixPosition(t.matrixWorld), Ft.applyProjection(Nt)); var n = Kt.update(t); if (i instanceof o.MultiMaterial)
                                for (var r = n.groups, a = i.materials, s = 0, h = r.length; s < h; s++) { var l = r[s],
                                        u = a[l.materialIndex];
                                    u.visible === !0 && y(t, n, u, Ft.z, l) } else y(t, n, i, Ft.z, null) } } for (var c = t.children, s = 0, h = c.length; s < h; s++) _(c[s], e) } }

            function b(t, e, i, n) {
                for (var r = 0, a = t.length; r < a; r++) {
                    var s = t[r],
                        h = s.object,
                        l = s.geometry,
                        u = void 0 === n ? s.material : n,
                        c = s.group;
                    if (h.modelViewMatrix.multiplyMatrices(e.matrixWorldInverse, h.matrixWorld), h.normalMatrix.getNormalMatrix(h.modelViewMatrix), h instanceof o.ImmediateRenderObject) { w(u); var d = S(e, i, u, h);
                        wt = "", h.render(function(t) { vt.renderBufferImmediate(t, d, u) }) } else vt.renderBufferDirect(e, i, l, u, h, c)
                }
            }

            function x(t, e, i) { var n = qt.get(t),
                    r = Zt.getParameters(t, Ut, e, i),
                    a = Zt.getProgramCode(t, r),
                    s = n.program,
                    h = !0; if (void 0 === s) t.addEventListener("dispose", l);
                else if (s.code !== a) p(t);
                else { if (void 0 !== r.shaderID) return;
                    h = !1 } if (h) { if (r.shaderID) { var u = o.ShaderLib[r.shaderID];
                        n.__webglShader = { name: t.type, uniforms: o.UniformsUtils.clone(u.uniforms), vertexShader: u.vertexShader, fragmentShader: u.fragmentShader } } else n.__webglShader = { name: t.type, uniforms: t.uniforms, vertexShader: t.vertexShader, fragmentShader: t.fragmentShader };
                    t.__webglShader = n.__webglShader, s = Zt.acquireProgram(t, r, a), n.program = s, t.program = s } var c = s.getAttributes(); if (t.morphTargets) { t.numSupportedMorphTargets = 0; for (var d = 0; d < vt.maxMorphTargets; d++) c["morphTarget" + d] >= 0 && t.numSupportedMorphTargets++ } if (t.morphNormals) { t.numSupportedMorphNormals = 0; for (var d = 0; d < vt.maxMorphNormals; d++) c["morphNormal" + d] >= 0 && t.numSupportedMorphNormals++ } n.uniformsList = []; var f = n.__webglShader.uniforms,
                    m = n.program.getUniforms(); for (var g in f) { var v = m[g];
                    v && n.uniformsList.push([n.__webglShader.uniforms[g], v]) }(t instanceof o.MeshPhongMaterial || t instanceof o.MeshLambertMaterial || t instanceof o.MeshStandardMaterial || t.lights) && (n.lightsHash = Ut.hash, f.ambientLightColor.value = Ut.ambient, f.directionalLights.value = Ut.directional, f.spotLights.value = Ut.spot, f.pointLights.value = Ut.point, f.hemisphereLights.value = Ut.hemi, f.directionalShadowMap.value = Ut.directionalShadowMap, f.directionalShadowMatrix.value = Ut.directionalShadowMatrix, f.spotShadowMap.value = Ut.spotShadowMap, f.spotShadowMatrix.value = Ut.spotShadowMatrix, f.pointShadowMap.value = Ut.pointShadowMap, f.pointShadowMatrix.value = Ut.pointShadowMatrix), n.hasDynamicUniforms = !1; for (var y = 0, _ = n.uniformsList.length; y < _; y++) { var b = n.uniformsList[y][0]; if (b.dynamic === !0) { n.hasDynamicUniforms = !0; break } } }

            function w(t) { T(t), t.transparent === !0 ? Yt.setBlending(t.blending, t.blendEquation, t.blendSrc, t.blendDst, t.blendEquationAlpha, t.blendSrcAlpha, t.blendDstAlpha, t.premultipliedAlpha) : Yt.setBlending(o.NoBlending), Yt.setDepthFunc(t.depthFunc), Yt.setDepthTest(t.depthTest), Yt.setDepthWrite(t.depthWrite), Yt.setColorWrite(t.colorWrite), Yt.setPolygonOffset(t.polygonOffset, t.polygonOffsetFactor, t.polygonOffsetUnits) }

            function T(t) { t.side !== o.DoubleSide ? Yt.enable(zt.CULL_FACE) : Yt.disable(zt.CULL_FACE), Yt.setFlipSided(t.side === o.BackSide) }

            function S(t, e, i, n) { At = 0; var r = qt.get(i);
                void 0 === r.program && (i.needsUpdate = !0), void 0 !== r.lightsHash && r.lightsHash !== Ut.hash && (i.needsUpdate = !0), i.needsUpdate && (x(i, e, n), i.needsUpdate = !1); var a = !1,
                    s = !1,
                    h = !1,
                    l = r.program,
                    u = l.getUniforms(),
                    c = r.__webglShader.uniforms; if (l.id !== yt && (zt.useProgram(l.program), yt = l.id, a = !0, s = !0, h = !0), i.id !== xt && (xt = i.id, s = !0), (a || t !== Tt) && (zt.uniformMatrix4fv(u.projectionMatrix, !1, t.projectionMatrix.elements), Xt.logarithmicDepthBuffer && zt.uniform1f(u.logDepthBufFC, 2 / (Math.log(t.far + 1) / Math.LN2)), t !== Tt && (Tt = t, s = !0, h = !0), (i instanceof o.ShaderMaterial || i instanceof o.MeshPhongMaterial || i instanceof o.MeshStandardMaterial || i.envMap) && void 0 !== u.cameraPosition && (Ft.setFromMatrixPosition(t.matrixWorld), zt.uniform3f(u.cameraPosition, Ft.x, Ft.y, Ft.z)), (i instanceof o.MeshPhongMaterial || i instanceof o.MeshLambertMaterial || i instanceof o.MeshBasicMaterial || i instanceof o.MeshStandardMaterial || i instanceof o.ShaderMaterial || i.skinning) && void 0 !== u.viewMatrix && zt.uniformMatrix4fv(u.viewMatrix, !1, t.matrixWorldInverse.elements), void 0 !== u.toneMappingExposure && zt.uniform1f(u.toneMappingExposure, vt.toneMappingExposure), void 0 !== u.toneMappingWhitePoint && zt.uniform1f(u.toneMappingWhitePoint, vt.toneMappingWhitePoint)), i.skinning)
                    if (n.bindMatrix && void 0 !== u.bindMatrix && zt.uniformMatrix4fv(u.bindMatrix, !1, n.bindMatrix.elements), n.bindMatrixInverse && void 0 !== u.bindMatrixInverse && zt.uniformMatrix4fv(u.bindMatrixInverse, !1, n.bindMatrixInverse.elements), Xt.floatVertexTextures && n.skeleton && n.skeleton.useVertexTexture) { if (void 0 !== u.boneTexture) { var d = B();
                            zt.uniform1i(u.boneTexture, d), vt.setTexture(n.skeleton.boneTexture, d) } void 0 !== u.boneTextureWidth && zt.uniform1i(u.boneTextureWidth, n.skeleton.boneTextureWidth), void 0 !== u.boneTextureHeight && zt.uniform1i(u.boneTextureHeight, n.skeleton.boneTextureHeight) } else n.skeleton && n.skeleton.boneMatrices && void 0 !== u.boneGlobalMatrices && zt.uniformMatrix4fv(u.boneGlobalMatrices, !1, n.skeleton.boneMatrices); return s && ((i instanceof o.MeshPhongMaterial || i instanceof o.MeshLambertMaterial || i instanceof o.MeshStandardMaterial || i.lights) && D(c, h), e && i.fog && P(c, e), (i instanceof o.MeshBasicMaterial || i instanceof o.MeshLambertMaterial || i instanceof o.MeshPhongMaterial || i instanceof o.MeshStandardMaterial) && E(c, i), i instanceof o.LineBasicMaterial ? A(c, i) : i instanceof o.LineDashedMaterial ? (A(c, i), C(c, i)) : i instanceof o.PointsMaterial ? R(c, i) : i instanceof o.MeshLambertMaterial ? O(c, i) : i instanceof o.MeshPhongMaterial ? L(c, i) : i instanceof o.MeshStandardMaterial ? I(c, i) : i instanceof o.MeshDepthMaterial ? (c.mNear.value = t.near, c.mFar.value = t.far, c.opacity.value = i.opacity) : i instanceof o.MeshNormalMaterial && (c.opacity.value = i.opacity), F(r.uniformsList)), k(u, n), void 0 !== u.modelMatrix && zt.uniformMatrix4fv(u.modelMatrix, !1, n.matrixWorld.elements), r.hasDynamicUniforms === !0 && M(r.uniformsList, n, t), l }

            function M(t, e, i) { for (var n = [], r = 0, o = t.length; r < o; r++) { var a = t[r][0],
                        s = a.onUpdateCallback;
                    void 0 !== s && (s.bind(a)(e, i), n.push(t[r])) } F(n) }

            function E(t, e) { t.opacity.value = e.opacity, t.diffuse.value = e.color, e.emissive && t.emissive.value.copy(e.emissive).multiplyScalar(e.emissiveIntensity), t.map.value = e.map, t.specularMap.value = e.specularMap, t.alphaMap.value = e.alphaMap, e.aoMap && (t.aoMap.value = e.aoMap, t.aoMapIntensity.value = e.aoMapIntensity); var i; if (e.map ? i = e.map : e.specularMap ? i = e.specularMap : e.displacementMap ? i = e.displacementMap : e.normalMap ? i = e.normalMap : e.bumpMap ? i = e.bumpMap : e.roughnessMap ? i = e.roughnessMap : e.metalnessMap ? i = e.metalnessMap : e.alphaMap ? i = e.alphaMap : e.emissiveMap && (i = e.emissiveMap), void 0 !== i) { i instanceof o.WebGLRenderTarget && (i = i.texture); var n = i.offset,
                        r = i.repeat;
                    t.offsetRepeat.value.set(n.x, n.y, r.x, r.y) } t.envMap.value = e.envMap, t.flipEnvMap.value = e.envMap instanceof o.WebGLRenderTargetCube ? 1 : -1, t.reflectivity.value = e.reflectivity, t.refractionRatio.value = e.refractionRatio }

            function A(t, e) { t.diffuse.value = e.color, t.opacity.value = e.opacity }

            function C(t, e) { t.dashSize.value = e.dashSize, t.totalSize.value = e.dashSize + e.gapSize, t.scale.value = e.scale }

            function R(t, e) { if (t.diffuse.value = e.color, t.opacity.value = e.opacity, t.size.value = e.size * Lt, t.scale.value = et.clientHeight / 2, t.map.value = e.map, null !== e.map) { var i = e.map.offset,
                        n = e.map.repeat;
                    t.offsetRepeat.value.set(i.x, i.y, n.x, n.y) } }

            function P(t, e) { t.fogColor.value = e.color, e instanceof o.Fog ? (t.fogNear.value = e.near, t.fogFar.value = e.far) : e instanceof o.FogExp2 && (t.fogDensity.value = e.density) }

            function O(t, e) { e.lightMap && (t.lightMap.value = e.lightMap, t.lightMapIntensity.value = e.lightMapIntensity), e.emissiveMap && (t.emissiveMap.value = e.emissiveMap) }

            function L(t, e) { t.specular.value = e.specular, t.shininess.value = Math.max(e.shininess, 1e-4), e.lightMap && (t.lightMap.value = e.lightMap, t.lightMapIntensity.value = e.lightMapIntensity), e.emissiveMap && (t.emissiveMap.value = e.emissiveMap), e.bumpMap && (t.bumpMap.value = e.bumpMap, t.bumpScale.value = e.bumpScale), e.normalMap && (t.normalMap.value = e.normalMap, t.normalScale.value.copy(e.normalScale)), e.displacementMap && (t.displacementMap.value = e.displacementMap, t.displacementScale.value = e.displacementScale, t.displacementBias.value = e.displacementBias) }

            function I(t, e) { t.roughness.value = e.roughness, t.metalness.value = e.metalness, e.roughnessMap && (t.roughnessMap.value = e.roughnessMap), e.metalnessMap && (t.metalnessMap.value = e.metalnessMap), e.lightMap && (t.lightMap.value = e.lightMap, t.lightMapIntensity.value = e.lightMapIntensity), e.emissiveMap && (t.emissiveMap.value = e.emissiveMap), e.bumpMap && (t.bumpMap.value = e.bumpMap, t.bumpScale.value = e.bumpScale), e.normalMap && (t.normalMap.value = e.normalMap, t.normalScale.value.copy(e.normalScale)), e.displacementMap && (t.displacementMap.value = e.displacementMap, t.displacementScale.value = e.displacementScale, t.displacementBias.value = e.displacementBias), e.envMap && (t.envMapIntensity.value = e.envMapIntensity) }

            function D(t, e) { t.ambientLightColor.needsUpdate = e, t.directionalLights.needsUpdate = e, t.pointLights.needsUpdate = e, t.spotLights.needsUpdate = e, t.hemisphereLights.needsUpdate = e }

            function k(t, e) { zt.uniformMatrix4fv(t.modelViewMatrix, !1, e.modelViewMatrix.elements), t.normalMatrix && zt.uniformMatrix3fv(t.normalMatrix, !1, e.normalMatrix.elements) }

            function B() { var t = At; return t >= Xt.maxTextures, At += 1, t }

            function N(t, e, i, n) { var r, a; if ("1i" === e) zt.uniform1i(i, n);
                else if ("1f" === e) zt.uniform1f(i, n);
                else if ("2f" === e) zt.uniform2f(i, n[0], n[1]);
                else if ("3f" === e) zt.uniform3f(i, n[0], n[1], n[2]);
                else if ("4f" === e) zt.uniform4f(i, n[0], n[1], n[2], n[3]);
                else if ("1iv" === e) zt.uniform1iv(i, n);
                else if ("3iv" === e) zt.uniform3iv(i, n);
                else if ("1fv" === e) zt.uniform1fv(i, n);
                else if ("2fv" === e) zt.uniform2fv(i, n);
                else if ("3fv" === e) zt.uniform3fv(i, n);
                else if ("4fv" === e) zt.uniform4fv(i, n);
                else if ("Matrix2fv" === e) zt.uniformMatrix2fv(i, !1, n);
                else if ("Matrix3fv" === e) zt.uniformMatrix3fv(i, !1, n);
                else if ("Matrix4fv" === e) zt.uniformMatrix4fv(i, !1, n);
                else if ("i" === e) zt.uniform1i(i, n);
                else if ("f" === e) zt.uniform1f(i, n);
                else if ("v2" === e) zt.uniform2f(i, n.x, n.y);
                else if ("v3" === e) zt.uniform3f(i, n.x, n.y, n.z);
                else if ("v4" === e) zt.uniform4f(i, n.x, n.y, n.z, n.w);
                else if ("c" === e) zt.uniform3f(i, n.r, n.g, n.b);
                else if ("s" === e) { var s = t.properties; for (var h in s) { var l = s[h],
                            u = i[h],
                            c = n[h];
                        N(l, l.type, u, c) } } else if ("sa" === e)
                    for (var s = t.properties, d = 0, p = n.length; d < p; d++)
                        for (var h in s) { var l = s[h],
                                u = i[d][h],
                                c = n[d][h];
                            N(l, l.type, u, c) } else if ("iv1" === e) zt.uniform1iv(i, n);
                        else if ("iv" === e) zt.uniform3iv(i, n);
                else if ("fv1" === e) zt.uniform1fv(i, n);
                else if ("fv" === e) zt.uniform3fv(i, n);
                else if ("v2v" === e) { void 0 === t._array && (t._array = new Float32Array(2 * n.length)); for (var d = 0, f = 0, m = n.length; d < m; d++, f += 2) t._array[f + 0] = n[d].x, t._array[f + 1] = n[d].y;
                    zt.uniform2fv(i, t._array) } else if ("v3v" === e) { void 0 === t._array && (t._array = new Float32Array(3 * n.length)); for (var d = 0, g = 0, m = n.length; d < m; d++, g += 3) t._array[g + 0] = n[d].x, t._array[g + 1] = n[d].y, t._array[g + 2] = n[d].z;
                    zt.uniform3fv(i, t._array) } else if ("v4v" === e) { void 0 === t._array && (t._array = new Float32Array(4 * n.length)); for (var d = 0, v = 0, m = n.length; d < m; d++, v += 4) t._array[v + 0] = n[d].x, t._array[v + 1] = n[d].y, t._array[v + 2] = n[d].z, t._array[v + 3] = n[d].w;
                    zt.uniform4fv(i, t._array) } else if ("m2" === e) zt.uniformMatrix2fv(i, !1, n.elements);
                else if ("m3" === e) zt.uniformMatrix3fv(i, !1, n.elements);
                else if ("m3v" === e) { void 0 === t._array && (t._array = new Float32Array(9 * n.length)); for (var d = 0, m = n.length; d < m; d++) n[d].flattenToArrayOffset(t._array, 9 * d);
                    zt.uniformMatrix3fv(i, !1, t._array) } else if ("m4" === e) zt.uniformMatrix4fv(i, !1, n.elements);
                else if ("m4v" === e) { void 0 === t._array && (t._array = new Float32Array(16 * n.length)); for (var d = 0, m = n.length; d < m; d++) n[d].flattenToArrayOffset(t._array, 16 * d);
                    zt.uniformMatrix4fv(i, !1, t._array) } else if ("t" === e) { if (r = n, a = B(), zt.uniform1i(i, a), !r) return;
                    r instanceof o.CubeTexture || Array.isArray(r.image) && 6 === r.image.length ? X(r, a) : r instanceof o.WebGLRenderTargetCube ? Y(r.texture, a) : r instanceof o.WebGLRenderTarget ? vt.setTexture(r.texture, a) : vt.setTexture(r, a) } else if ("tv" === e) { void 0 === t._array && (t._array = []); for (var d = 0, m = t.value.length; d < m; d++) t._array[d] = B();
                    zt.uniform1iv(i, t._array); for (var d = 0, m = t.value.length; d < m; d++) r = t.value[d], a = t._array[d], r && (r instanceof o.CubeTexture || r.image instanceof Array && 6 === r.image.length ? X(r, a) : r instanceof o.WebGLRenderTarget ? vt.setTexture(r.texture, a) : r instanceof o.WebGLRenderTargetCube ? Y(r.texture, a) : vt.setTexture(r, a)) } }

            function F(t) { for (var e = 0, i = t.length; e < i; e++) { var n = t[e][0]; if (n.needsUpdate !== !1) { var r = n.type,
                            o = t[e][1],
                            a = n.value;
                        N(n, r, o, a) } } }

            function U(t, e) { var i, n, r, a, s, h, l = 0,
                    u = 0,
                    c = 0,
                    d = e.matrixWorldInverse,
                    p = 0,
                    f = 0,
                    m = 0,
                    g = 0,
                    v = 0; for (Ut.shadowsPointLight = 0, i = 0, n = t.length; i < n; i++)
                    if (r = t[i], a = r.color, s = r.intensity, h = r.distance, r instanceof o.AmbientLight) l += a.r * s, u += a.g * s, c += a.b * s;
                    else if (r instanceof o.DirectionalLight) { var y = Jt.get(r);
                    y.color.copy(r.color).multiplyScalar(r.intensity), y.direction.setFromMatrixPosition(r.matrixWorld), Ft.setFromMatrixPosition(r.target.matrixWorld), y.direction.sub(Ft), y.direction.transformDirection(d), y.shadow = r.castShadow, r.castShadow && (y.shadowBias = r.shadow.bias, y.shadowRadius = r.shadow.radius, y.shadowMapSize = r.shadow.mapSize, Ut.shadows[v++] = r), Ut.directionalShadowMap[p] = r.shadow.map, Ut.directionalShadowMatrix[p] = r.shadow.matrix, Ut.directional[p++] = y } else if (r instanceof o.SpotLight) { var y = Jt.get(r);
                    y.position.setFromMatrixPosition(r.matrixWorld), y.position.applyMatrix4(d), y.color.copy(a).multiplyScalar(s), y.distance = h, y.direction.setFromMatrixPosition(r.matrixWorld), Ft.setFromMatrixPosition(r.target.matrixWorld), y.direction.sub(Ft), y.direction.transformDirection(d), y.coneCos = Math.cos(r.angle), y.penumbraCos = Math.cos(r.angle * (1 - r.penumbra)), y.decay = 0 === r.distance ? 0 : r.decay, y.shadow = r.castShadow, r.castShadow && (y.shadowBias = r.shadow.bias, y.shadowRadius = r.shadow.radius, y.shadowMapSize = r.shadow.mapSize, Ut.shadows[v++] = r), Ut.spotShadowMap[m] = r.shadow.map, Ut.spotShadowMatrix[m] = r.shadow.matrix, Ut.spot[m++] = y } else if (r instanceof o.PointLight) { var y = Jt.get(r);
                    y.position.setFromMatrixPosition(r.matrixWorld), y.position.applyMatrix4(d), y.color.copy(r.color).multiplyScalar(r.intensity), y.distance = r.distance, y.decay = 0 === r.distance ? 0 : r.decay, y.shadow = r.castShadow, r.castShadow && (y.shadowBias = r.shadow.bias, y.shadowRadius = r.shadow.radius, y.shadowMapSize = r.shadow.mapSize, Ut.shadows[v++] = r), Ut.pointShadowMap[f] = r.shadow.map, void 0 === Ut.pointShadowMatrix[f] && (Ut.pointShadowMatrix[f] = new o.Matrix4), Ft.setFromMatrixPosition(r.matrixWorld).negate(), Ut.pointShadowMatrix[f].identity().setPosition(Ft), Ut.point[f++] = y } else if (r instanceof o.HemisphereLight) { var y = Jt.get(r);
                    y.direction.setFromMatrixPosition(r.matrixWorld), y.direction.transformDirection(d), y.direction.normalize(), y.skyColor.copy(r.color).multiplyScalar(s), y.groundColor.copy(r.groundColor).multiplyScalar(s), Ut.hemi[g++] = y } Ut.ambient[0] = l, Ut.ambient[1] = u, Ut.ambient[2] = c, Ut.directional.length = p, Ut.spot.length = m, Ut.point.length = f, Ut.hemi.length = g, Ut.shadows.length = v, Ut.hash = p + "," + f + "," + m + "," + g + "," + v }

            function G(t, e, i) { var n; if (i ? (zt.texParameteri(t, zt.TEXTURE_WRAP_S, tt(e.wrapS)), zt.texParameteri(t, zt.TEXTURE_WRAP_T, tt(e.wrapT)), zt.texParameteri(t, zt.TEXTURE_MAG_FILTER, tt(e.magFilter)), zt.texParameteri(t, zt.TEXTURE_MIN_FILTER, tt(e.minFilter))) : (zt.texParameteri(t, zt.TEXTURE_WRAP_S, zt.CLAMP_TO_EDGE), zt.texParameteri(t, zt.TEXTURE_WRAP_T, zt.CLAMP_TO_EDGE), e.wrapS !== o.ClampToEdgeWrapping || e.wrapT !== o.ClampToEdgeWrapping, zt.texParameteri(t, zt.TEXTURE_MAG_FILTER, $(e.magFilter)), zt.texParameteri(t, zt.TEXTURE_MIN_FILTER, $(e.minFilter)), e.minFilter !== o.NearestFilter && e.minFilter !== o.LinearFilter), n = Wt.get("EXT_texture_filter_anisotropic")) { if (e.type === o.FloatType && null === Wt.get("OES_texture_float_linear")) return; if (e.type === o.HalfFloatType && null === Wt.get("OES_texture_half_float_linear")) return;
                    (e.anisotropy > 1 || qt.get(e).__currentAnisotropy) && (zt.texParameterf(t, n.TEXTURE_MAX_ANISOTROPY_EXT, Math.min(e.anisotropy, vt.getMaxAnisotropy())), qt.get(e).__currentAnisotropy = e.anisotropy) } }

            function j(t, e, i) { void 0 === t.__webglInit && (t.__webglInit = !0, e.addEventListener("dispose", s), t.__webglTexture = zt.createTexture(), Gt.textures++), Yt.activeTexture(zt.TEXTURE0 + i), Yt.bindTexture(zt.TEXTURE_2D, t.__webglTexture), zt.pixelStorei(zt.UNPACK_FLIP_Y_WEBGL, e.flipY), zt.pixelStorei(zt.UNPACK_PREMULTIPLY_ALPHA_WEBGL, e.premultiplyAlpha), zt.pixelStorei(zt.UNPACK_ALIGNMENT, e.unpackAlignment); var n = z(e.image, Xt.maxTextureSize);
                H(e) && V(n) === !1 && (n = W(n)); var r = V(n),
                    a = tt(e.format),
                    h = tt(e.type);
                G(zt.TEXTURE_2D, e, r); var l, u = e.mipmaps; if (e instanceof o.DataTexture)
                    if (u.length > 0 && r) { for (var c = 0, d = u.length; c < d; c++) l = u[c], Yt.texImage2D(zt.TEXTURE_2D, c, a, l.width, l.height, 0, a, h, l.data);
                        e.generateMipmaps = !1 } else Yt.texImage2D(zt.TEXTURE_2D, 0, a, n.width, n.height, 0, a, h, n.data);
                else if (e instanceof o.CompressedTexture)
                    for (var c = 0, d = u.length; c < d; c++) l = u[c], e.format !== o.RGBAFormat && e.format !== o.RGBFormat ? Yt.getCompressedTextureFormats().indexOf(a) > -1 && Yt.compressedTexImage2D(zt.TEXTURE_2D, c, a, l.width, l.height, 0, l.data) : Yt.texImage2D(zt.TEXTURE_2D, c, a, l.width, l.height, 0, a, h, l.data);
                else if (u.length > 0 && r) { for (var c = 0, d = u.length; c < d; c++) l = u[c], Yt.texImage2D(zt.TEXTURE_2D, c, a, a, h, l);
                    e.generateMipmaps = !1 } else Yt.texImage2D(zt.TEXTURE_2D, 0, a, a, h, n);
                e.generateMipmaps && r && zt.generateMipmap(zt.TEXTURE_2D), t.__version = e.version, e.onUpdate && e.onUpdate(e) }

            function z(t, e) { if (t.width > e || t.height > e) { var i = e / Math.max(t.width, t.height),
                        n = document.createElement("canvas");
                    n.width = Math.floor(t.width * i), n.height = Math.floor(t.height * i); var r = n.getContext("2d"); return r.drawImage(t, 0, 0, t.width, t.height, 0, 0, n.width, n.height), n } return t }

            function V(t) { return o.Math.isPowerOfTwo(t.width) && o.Math.isPowerOfTwo(t.height) }

            function H(t) { return t.wrapS !== o.ClampToEdgeWrapping || t.wrapT !== o.ClampToEdgeWrapping }

            function W(t) { if (t instanceof HTMLImageElement || t instanceof HTMLCanvasElement) { var e = document.createElement("canvas");
                    e.width = o.Math.nearestPowerOfTwo(t.width), e.height = o.Math.nearestPowerOfTwo(t.height); var i = e.getContext("2d"); return i.drawImage(t, 0, 0, e.width, e.height), e } return t }

            function X(t, e) { var i = qt.get(t); if (6 === t.image.length)
                    if (t.version > 0 && i.__version !== t.version) { i.__image__webglTextureCube || (t.addEventListener("dispose", s), i.__image__webglTextureCube = zt.createTexture(), Gt.textures++), Yt.activeTexture(zt.TEXTURE0 + e), Yt.bindTexture(zt.TEXTURE_CUBE_MAP, i.__image__webglTextureCube), zt.pixelStorei(zt.UNPACK_FLIP_Y_WEBGL, t.flipY); for (var n = t instanceof o.CompressedTexture, r = t.image[0] instanceof o.DataTexture, a = [], h = 0; h < 6; h++) !vt.autoScaleCubemaps || n || r ? a[h] = r ? t.image[h].image : t.image[h] : a[h] = z(t.image[h], Xt.maxCubemapSize); var l = a[0],
                            u = V(l),
                            c = tt(t.format),
                            d = tt(t.type);
                        G(zt.TEXTURE_CUBE_MAP, t, u); for (var h = 0; h < 6; h++)
                            if (n)
                                for (var p, f = a[h].mipmaps, m = 0, g = f.length; m < g; m++) p = f[m], t.format !== o.RGBAFormat && t.format !== o.RGBFormat ? Yt.getCompressedTextureFormats().indexOf(c) > -1 && Yt.compressedTexImage2D(zt.TEXTURE_CUBE_MAP_POSITIVE_X + h, m, c, p.width, p.height, 0, p.data) : Yt.texImage2D(zt.TEXTURE_CUBE_MAP_POSITIVE_X + h, m, c, p.width, p.height, 0, c, d, p.data);
                            else r ? Yt.texImage2D(zt.TEXTURE_CUBE_MAP_POSITIVE_X + h, 0, c, a[h].width, a[h].height, 0, c, d, a[h].data) : Yt.texImage2D(zt.TEXTURE_CUBE_MAP_POSITIVE_X + h, 0, c, c, d, a[h]);
                        t.generateMipmaps && u && zt.generateMipmap(zt.TEXTURE_CUBE_MAP), i.__version = t.version, t.onUpdate && t.onUpdate(t) } else Yt.activeTexture(zt.TEXTURE0 + e), Yt.bindTexture(zt.TEXTURE_CUBE_MAP, i.__image__webglTextureCube) }

            function Y(t, e) { Yt.activeTexture(zt.TEXTURE0 + e), Yt.bindTexture(zt.TEXTURE_CUBE_MAP, qt.get(t).__webglTexture) }

            function q(t, e, i, n) { var r = tt(e.texture.format),
                    o = tt(e.texture.type);
                Yt.texImage2D(n, 0, r, e.width, e.height, 0, r, o, null), zt.bindFramebuffer(zt.FRAMEBUFFER, t), zt.framebufferTexture2D(zt.FRAMEBUFFER, i, n, qt.get(e.texture).__webglTexture, 0), zt.bindFramebuffer(zt.FRAMEBUFFER, null) }

            function K(t, e) { zt.bindRenderbuffer(zt.RENDERBUFFER, t), e.depthBuffer && !e.stencilBuffer ? (zt.renderbufferStorage(zt.RENDERBUFFER, zt.DEPTH_COMPONENT16, e.width, e.height), zt.framebufferRenderbuffer(zt.FRAMEBUFFER, zt.DEPTH_ATTACHMENT, zt.RENDERBUFFER, t)) : e.depthBuffer && e.stencilBuffer ? (zt.renderbufferStorage(zt.RENDERBUFFER, zt.DEPTH_STENCIL, e.width, e.height), zt.framebufferRenderbuffer(zt.FRAMEBUFFER, zt.DEPTH_STENCIL_ATTACHMENT, zt.RENDERBUFFER, t)) : zt.renderbufferStorage(zt.RENDERBUFFER, zt.RGBA4, e.width, e.height), zt.bindRenderbuffer(zt.RENDERBUFFER, null) }

            function Z(t) { var e = qt.get(t),
                    i = t instanceof o.WebGLRenderTargetCube; if (i) { e.__webglDepthbuffer = []; for (var n = 0; n < 6; n++) zt.bindFramebuffer(zt.FRAMEBUFFER, e.__webglFramebuffer[n]), e.__webglDepthbuffer[n] = zt.createRenderbuffer(), K(e.__webglDepthbuffer[n], t) } else zt.bindFramebuffer(zt.FRAMEBUFFER, e.__webglFramebuffer), e.__webglDepthbuffer = zt.createRenderbuffer(), K(e.__webglDepthbuffer, t);
                zt.bindFramebuffer(zt.FRAMEBUFFER, null) }

            function J(t) { var e = qt.get(t),
                    i = qt.get(t.texture);
                t.addEventListener("dispose", h), i.__webglTexture = zt.createTexture(), Gt.textures++; var n = t instanceof o.WebGLRenderTargetCube,
                    r = o.Math.isPowerOfTwo(t.width) && o.Math.isPowerOfTwo(t.height); if (n) { e.__webglFramebuffer = []; for (var a = 0; a < 6; a++) e.__webglFramebuffer[a] = zt.createFramebuffer() } else e.__webglFramebuffer = zt.createFramebuffer(); if (n) { Yt.bindTexture(zt.TEXTURE_CUBE_MAP, i.__webglTexture), G(zt.TEXTURE_CUBE_MAP, t.texture, r); for (var a = 0; a < 6; a++) q(e.__webglFramebuffer[a], t, zt.COLOR_ATTACHMENT0, zt.TEXTURE_CUBE_MAP_POSITIVE_X + a);
                    t.texture.generateMipmaps && r && zt.generateMipmap(zt.TEXTURE_CUBE_MAP), Yt.bindTexture(zt.TEXTURE_CUBE_MAP, null) } else Yt.bindTexture(zt.TEXTURE_2D, i.__webglTexture), G(zt.TEXTURE_2D, t.texture, r), q(e.__webglFramebuffer, t, zt.COLOR_ATTACHMENT0, zt.TEXTURE_2D), t.texture.generateMipmaps && r && zt.generateMipmap(zt.TEXTURE_2D), Yt.bindTexture(zt.TEXTURE_2D, null);
                t.depthBuffer && Z(t) }

            function Q(t) { var e = t instanceof o.WebGLRenderTargetCube ? zt.TEXTURE_CUBE_MAP : zt.TEXTURE_2D,
                    i = qt.get(t.texture).__webglTexture;
                Yt.bindTexture(e, i), zt.generateMipmap(e), Yt.bindTexture(e, null) }

            function $(t) { return t === o.NearestFilter || t === o.NearestMipMapNearestFilter || t === o.NearestMipMapLinearFilter ? zt.NEAREST : zt.LINEAR }

            function tt(t) { var e; if (t === o.RepeatWrapping) return zt.REPEAT; if (t === o.ClampToEdgeWrapping) return zt.CLAMP_TO_EDGE; if (t === o.MirroredRepeatWrapping) return zt.MIRRORED_REPEAT; if (t === o.NearestFilter) return zt.NEAREST; if (t === o.NearestMipMapNearestFilter) return zt.NEAREST_MIPMAP_NEAREST; if (t === o.NearestMipMapLinearFilter) return zt.NEAREST_MIPMAP_LINEAR; if (t === o.LinearFilter) return zt.LINEAR; if (t === o.LinearMipMapNearestFilter) return zt.LINEAR_MIPMAP_NEAREST; if (t === o.LinearMipMapLinearFilter) return zt.LINEAR_MIPMAP_LINEAR; if (t === o.UnsignedByteType) return zt.UNSIGNED_BYTE; if (t === o.UnsignedShort4444Type) return zt.UNSIGNED_SHORT_4_4_4_4; if (t === o.UnsignedShort5551Type) return zt.UNSIGNED_SHORT_5_5_5_1; if (t === o.UnsignedShort565Type) return zt.UNSIGNED_SHORT_5_6_5; if (t === o.ByteType) return zt.BYTE; if (t === o.ShortType) return zt.SHORT; if (t === o.UnsignedShortType) return zt.UNSIGNED_SHORT; if (t === o.IntType) return zt.INT; if (t === o.UnsignedIntType) return zt.UNSIGNED_INT; if (t === o.FloatType) return zt.FLOAT; if (e = Wt.get("OES_texture_half_float"), null !== e && t === o.HalfFloatType) return e.HALF_FLOAT_OES; if (t === o.AlphaFormat) return zt.ALPHA; if (t === o.RGBFormat) return zt.RGB; if (t === o.RGBAFormat) return zt.RGBA; if (t === o.LuminanceFormat) return zt.LUMINANCE; if (t === o.LuminanceAlphaFormat) return zt.LUMINANCE_ALPHA; if (t === o.AddEquation) return zt.FUNC_ADD; if (t === o.SubtractEquation) return zt.FUNC_SUBTRACT; if (t === o.ReverseSubtractEquation) return zt.FUNC_REVERSE_SUBTRACT; if (t === o.ZeroFactor) return zt.ZERO; if (t === o.OneFactor) return zt.ONE; if (t === o.SrcColorFactor) return zt.SRC_COLOR; if (t === o.OneMinusSrcColorFactor) return zt.ONE_MINUS_SRC_COLOR; if (t === o.SrcAlphaFactor) return zt.SRC_ALPHA; if (t === o.OneMinusSrcAlphaFactor) return zt.ONE_MINUS_SRC_ALPHA; if (t === o.DstAlphaFactor) return zt.DST_ALPHA; if (t === o.OneMinusDstAlphaFactor) return zt.ONE_MINUS_DST_ALPHA; if (t === o.DstColorFactor) return zt.DST_COLOR; if (t === o.OneMinusDstColorFactor) return zt.ONE_MINUS_DST_COLOR; if (t === o.SrcAlphaSaturateFactor) return zt.SRC_ALPHA_SATURATE; if (e = Wt.get("WEBGL_compressed_texture_s3tc"), null !== e) { if (t === o.RGB_S3TC_DXT1_Format) return e.COMPRESSED_RGB_S3TC_DXT1_EXT; if (t === o.RGBA_S3TC_DXT1_Format) return e.COMPRESSED_RGBA_S3TC_DXT1_EXT; if (t === o.RGBA_S3TC_DXT3_Format) return e.COMPRESSED_RGBA_S3TC_DXT3_EXT; if (t === o.RGBA_S3TC_DXT5_Format) return e.COMPRESSED_RGBA_S3TC_DXT5_EXT } if (e = Wt.get("WEBGL_compressed_texture_pvrtc"), null !== e) { if (t === o.RGB_PVRTC_4BPPV1_Format) return e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG; if (t === o.RGB_PVRTC_2BPPV1_Format) return e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG; if (t === o.RGBA_PVRTC_4BPPV1_Format) return e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG; if (t === o.RGBA_PVRTC_2BPPV1_Format) return e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG } if (e = Wt.get("WEBGL_compressed_texture_etc1"), null !== e && t === o.RGB_ETC1_Format) return e.COMPRESSED_RGB_ETC1_WEBGL; if (e = Wt.get("EXT_blend_minmax"), null !== e) { if (t === o.MinEquation) return e.MIN_EXT; if (t === o.MaxEquation) return e.MAX_EXT } return 0 } t = t || {};
            var et = void 0 !== t.canvas ? t.canvas : document.createElement("canvas"),
                it = void 0 !== t.context ? t.context : null,
                nt = void 0 !== t.alpha && t.alpha,
                rt = void 0 === t.depth || t.depth,
                ot = void 0 === t.stencil || t.stencil,
                at = void 0 !== t.antialias && t.antialias,
                st = void 0 === t.premultipliedAlpha || t.premultipliedAlpha,
                ht = void 0 !== t.preserveDrawingBuffer && t.preserveDrawingBuffer,
                lt = [],
                ut = [],
                ct = -1,
                dt = [],
                pt = -1,
                ft = new Float32Array(8),
                mt = [],
                gt = [];
            this.domElement = et, this.context = null, this.autoClear = !0, this.autoClearColor = !0, this.autoClearDepth = !0, this.autoClearStencil = !0, this.sortObjects = !0, this.gammaFactor = 2, this.gammaInput = !1, this.gammaOutput = !1, this.physicallyCorrectLights = !1, this.toneMapping = o.LinearToneMapping, this.toneMappingExposure = 1, this.toneMappingWhitePoint = 1, this.maxMorphTargets = 8, this.maxMorphNormals = 4, this.autoScaleCubemaps = !0;
            var vt = this,
                yt = null,
                _t = null,
                bt = null,
                xt = -1,
                wt = "",
                Tt = null,
                St = new o.Vector4,
                Mt = null,
                Et = new o.Vector4,
                At = 0,
                Ct = new o.Color(0),
                Rt = 0,
                Pt = et.width,
                Ot = et.height,
                Lt = 1,
                It = new o.Vector4(0, 0, Pt, Ot),
                Dt = !1,
                kt = new o.Vector4(0, 0, Pt, Ot),
                Bt = new o.Frustum,
                Nt = new o.Matrix4,
                Ft = new o.Vector3,
                Ut = { hash: "", ambient: [0, 0, 0], directional: [], directionalShadowMap: [], directionalShadowMatrix: [], spot: [], spotShadowMap: [], spotShadowMatrix: [], point: [], pointShadowMap: [], pointShadowMatrix: [], hemi: [], shadows: [], shadowsPointLight: 0 },
                Gt = { geometries: 0, textures: 0 },
                jt = { calls: 0, vertices: 0, faces: 0, points: 0 };
            this.info = { render: jt, memory: Gt, programs: null };
            var zt;
            try { var Vt = { alpha: nt, depth: rt, stencil: ot, antialias: at, premultipliedAlpha: st, preserveDrawingBuffer: ht }; if (zt = it || et.getContext("webgl", Vt) || et.getContext("experimental-webgl", Vt), null === zt) throw null !== et.getContext("webgl") ? "Error creating WebGL context with your selected attributes." : "Error creating WebGL context.";
                void 0 === zt.getShaderPrecisionFormat && (zt.getShaderPrecisionFormat = function() { return { rangeMin: 1, rangeMax: 1, precision: 1 } }), et.addEventListener("webglcontextlost", a, !1) } catch (Ht) {}
            var Wt = new o.WebGLExtensions(zt);
            Wt.get("OES_texture_float"), Wt.get("OES_texture_float_linear"), Wt.get("OES_texture_half_float"), Wt.get("OES_texture_half_float_linear"), Wt.get("OES_standard_derivatives"), Wt.get("ANGLE_instanced_arrays"), Wt.get("OES_element_index_uint") && (o.BufferGeometry.MaxIndex = 4294967296);
            var Xt = new o.WebGLCapabilities(zt, Wt, t),
                Yt = new o.WebGLState(zt, Wt, tt),
                qt = new o.WebGLProperties,
                Kt = new o.WebGLObjects(zt, qt, this.info),
                Zt = new o.WebGLPrograms(this, Xt),
                Jt = new o.WebGLLights;
            this.info.programs = Zt.programs;
            var Qt = new o.WebGLBufferRenderer(zt, Wt, jt),
                $t = new o.WebGLIndexedBufferRenderer(zt, Wt, jt);
            n(), this.context = zt, this.capabilities = Xt, this.extensions = Wt, this.properties = qt, this.state = Yt;
            var te = new o.WebGLShadowMap(this, Ut, Kt);
            this.shadowMap = te;
            var ee = new o.SpritePlugin(this, mt),
                ie = new o.LensFlarePlugin(this, gt);
            this.getContext = function() { return zt }, this.getContextAttributes = function() { return zt.getContextAttributes() }, this.forceContextLoss = function() { Wt.get("WEBGL_lose_context").loseContext() }, this.getMaxAnisotropy = function() { var t; return function() { if (void 0 !== t) return t; var e = Wt.get("EXT_texture_filter_anisotropic"); return t = null !== e ? zt.getParameter(e.MAX_TEXTURE_MAX_ANISOTROPY_EXT) : 0 } }(), this.getPrecision = function() { return Xt.precision }, this.getPixelRatio = function() { return Lt }, this.setPixelRatio = function(t) { void 0 !== t && (Lt = t, this.setSize(kt.z, kt.w, !1)) }, this.getSize = function() { return { width: Pt, height: Ot } }, this.setSize = function(t, e, i) { Pt = t, Ot = e, et.width = t * Lt, et.height = e * Lt, i !== !1 && (et.style.width = t + "px", et.style.height = e + "px"), this.setViewport(0, 0, t, e) }, this.setViewport = function(t, e, i, n) { Yt.viewport(kt.set(t, e, i, n)) }, this.setScissor = function(t, e, i, n) { Yt.scissor(It.set(t, e, i, n)) }, this.setScissorTest = function(t) { Yt.setScissorTest(Dt = t) }, this.getClearColor = function() { return Ct }, this.setClearColor = function(t, e) { Ct.set(t), Rt = void 0 !== e ? e : 1, i(Ct.r, Ct.g, Ct.b, Rt) }, this.getClearAlpha = function() { return Rt }, this.setClearAlpha = function(t) { Rt = t, i(Ct.r, Ct.g, Ct.b, Rt) }, this.clear = function(t, e, i) { var n = 0;
                (void 0 === t || t) && (n |= zt.COLOR_BUFFER_BIT), (void 0 === e || e) && (n |= zt.DEPTH_BUFFER_BIT), (void 0 === i || i) && (n |= zt.STENCIL_BUFFER_BIT), zt.clear(n) }, this.clearColor = function() { this.clear(!0, !1, !1) }, this.clearDepth = function() { this.clear(!1, !0, !1) }, this.clearStencil = function() { this.clear(!1, !1, !0) }, this.clearTarget = function(t, e, i, n) { this.setRenderTarget(t), this.clear(e, i, n) }, this.resetGLState = r, this.dispose = function() { et.removeEventListener("webglcontextlost", a, !1) }, this.renderBufferImmediate = function(t, e, i) { Yt.initAttributes(); var n = qt.get(t);
                t.hasPositions && !n.position && (n.position = zt.createBuffer()), t.hasNormals && !n.normal && (n.normal = zt.createBuffer()), t.hasUvs && !n.uv && (n.uv = zt.createBuffer()), t.hasColors && !n.color && (n.color = zt.createBuffer()); var r = e.getAttributes(); if (t.hasPositions && (zt.bindBuffer(zt.ARRAY_BUFFER, n.position), zt.bufferData(zt.ARRAY_BUFFER, t.positionArray, zt.DYNAMIC_DRAW), Yt.enableAttribute(r.position), zt.vertexAttribPointer(r.position, 3, zt.FLOAT, !1, 0, 0)), t.hasNormals) { if (zt.bindBuffer(zt.ARRAY_BUFFER, n.normal), "MeshPhongMaterial" !== i.type && "MeshStandardMaterial" !== i.type && i.shading === o.FlatShading)
                        for (var a = 0, s = 3 * t.count; a < s; a += 9) { var h = t.normalArray,
                                l = (h[a + 0] + h[a + 3] + h[a + 6]) / 3,
                                u = (h[a + 1] + h[a + 4] + h[a + 7]) / 3,
                                c = (h[a + 2] + h[a + 5] + h[a + 8]) / 3;
                            h[a + 0] = l, h[a + 1] = u, h[a + 2] = c, h[a + 3] = l, h[a + 4] = u, h[a + 5] = c, h[a + 6] = l, h[a + 7] = u, h[a + 8] = c } zt.bufferData(zt.ARRAY_BUFFER, t.normalArray, zt.DYNAMIC_DRAW), Yt.enableAttribute(r.normal), zt.vertexAttribPointer(r.normal, 3, zt.FLOAT, !1, 0, 0) } t.hasUvs && i.map && (zt.bindBuffer(zt.ARRAY_BUFFER, n.uv), zt.bufferData(zt.ARRAY_BUFFER, t.uvArray, zt.DYNAMIC_DRAW), Yt.enableAttribute(r.uv), zt.vertexAttribPointer(r.uv, 2, zt.FLOAT, !1, 0, 0)), t.hasColors && i.vertexColors !== o.NoColors && (zt.bindBuffer(zt.ARRAY_BUFFER, n.color), zt.bufferData(zt.ARRAY_BUFFER, t.colorArray, zt.DYNAMIC_DRAW), Yt.enableAttribute(r.color), zt.vertexAttribPointer(r.color, 3, zt.FLOAT, !1, 0, 0)), Yt.disableUnusedAttributes(), zt.drawArrays(zt.TRIANGLES, 0, t.count), t.count = 0 }, this.renderBufferDirect = function(t, i, n, r, a, s) {
                w(r);
                var h = S(t, i, r, a),
                    l = !1,
                    u = n.id + "_" + h.id + "_" + r.wireframe;
                u !== wt && (wt = u, l = !0);
                var c = a.morphTargetInfluences;
                if (void 0 !== c) { for (var d = [], p = 0, g = c.length; p < g; p++) { var v = c[p];
                        d.push([v, p]) } d.sort(m), d.length > 8 && (d.length = 8); for (var y = n.morphAttributes, p = 0, g = d.length; p < g; p++) { var v = d[p]; if (ft[p] = v[0], 0 !== v[0]) { var _ = v[1];
                            r.morphTargets === !0 && y.position && n.addAttribute("morphTarget" + p, y.position[_]), r.morphNormals === !0 && y.normal && n.addAttribute("morphNormal" + p, y.normal[_]) } else r.morphTargets === !0 && n.removeAttribute("morphTarget" + p), r.morphNormals === !0 && n.removeAttribute("morphNormal" + p) } var b = h.getUniforms();
                    null !== b.morphTargetInfluences && zt.uniform1fv(b.morphTargetInfluences, ft), l = !0 }
                var _ = n.index,
                    x = n.attributes.position;
                r.wireframe === !0 && (_ = Kt.getWireframeAttribute(n));
                var T;
                null !== _ ? (T = $t, T.setIndex(_)) : T = Qt, l && (f(r, h, n), null !== _ && zt.bindBuffer(zt.ELEMENT_ARRAY_BUFFER, Kt.getAttributeBuffer(_)));
                var M = 0,
                    E = 1 / 0;
                null !== _ ? E = _.count : void 0 !== x && (E = x.count);
                var A = n.drawRange.start,
                    C = n.drawRange.count,
                    R = null !== s ? s.start : 0,
                    P = null !== s ? s.count : 1 / 0,
                    O = Math.max(M, A, R),
                    L = Math.min(M + E, A + C, R + P) - 1,
                    I = Math.max(0, L - O + 1);
                if (a instanceof o.Mesh)
                    if (r.wireframe === !0) Yt.setLineWidth(r.wireframeLinewidth * e()), T.setMode(zt.LINES);
                    else switch (a.drawMode) {
                        case o.TrianglesDrawMode:
                            T.setMode(zt.TRIANGLES); break;
                        case o.TriangleStripDrawMode:
                            T.setMode(zt.TRIANGLE_STRIP); break;
                        case o.TriangleFanDrawMode:
                            T.setMode(zt.TRIANGLE_FAN) } else if (a instanceof o.Line) { var D = r.linewidth;
                        void 0 === D && (D = 1), Yt.setLineWidth(D * e()), a instanceof o.LineSegments ? T.setMode(zt.LINES) : T.setMode(zt.LINE_STRIP) } else a instanceof o.Points && T.setMode(zt.POINTS);
                n instanceof o.InstancedBufferGeometry ? n.maxInstancedCount > 0 && T.renderInstances(n, O, I) : T.render(O, I)
            }, this.render = function(t, e, i, n) { if (e instanceof o.Camera != !1) { var r = t.fog; if (wt = "", xt = -1, Tt = null, t.autoUpdate === !0 && t.updateMatrixWorld(), null === e.parent && e.updateMatrixWorld(), e.matrixWorldInverse.getInverse(e.matrixWorld), Nt.multiplyMatrices(e.projectionMatrix, e.matrixWorldInverse), Bt.setFromMatrix(Nt), lt.length = 0, ct = -1, pt = -1, mt.length = 0, gt.length = 0, _(t, e), ut.length = ct + 1, dt.length = pt + 1, vt.sortObjects === !0 && (ut.sort(g), dt.sort(v)), U(lt, e), te.render(t, e), jt.calls = 0, jt.vertices = 0, jt.faces = 0, jt.points = 0, void 0 === i && (i = null), this.setRenderTarget(i), (this.autoClear || n) && this.clear(this.autoClearColor, this.autoClearDepth, this.autoClearStencil), t.overrideMaterial) { var a = t.overrideMaterial;
                        b(ut, e, r, a), b(dt, e, r, a) } else Yt.setBlending(o.NoBlending), b(ut, e, r), b(dt, e, r); if (ee.render(t, e), ie.render(t, e, Et), i) { var s = i.texture;
                        s.generateMipmaps && V(i) && s.minFilter !== o.NearestFilter && s.minFilter !== o.LinearFilter && Q(i) } Yt.setDepthTest(!0), Yt.setDepthWrite(!0), Yt.setColorWrite(!0) } }, this.setFaceCulling = function(t, e) { t === o.CullFaceNone ? Yt.disable(zt.CULL_FACE) : (e === o.FrontFaceDirectionCW ? zt.frontFace(zt.CW) : zt.frontFace(zt.CCW), t === o.CullFaceBack ? zt.cullFace(zt.BACK) : t === o.CullFaceFront ? zt.cullFace(zt.FRONT) : zt.cullFace(zt.FRONT_AND_BACK), Yt.enable(zt.CULL_FACE)) }, this.setTexture = function(t, e) { var i = qt.get(t); if (t.version > 0 && i.__version !== t.version) { var n = t.image; if (void 0 === n) return; if (n.complete === !1) return; return void j(i, t, e) } Yt.activeTexture(zt.TEXTURE0 + e), Yt.bindTexture(zt.TEXTURE_2D, i.__webglTexture) }, this.getCurrentRenderTarget = function() { return _t }, this.setRenderTarget = function(t) { _t = t, t && void 0 === qt.get(t).__webglFramebuffer && J(t); var e, i = t instanceof o.WebGLRenderTargetCube; if (t) { var n = qt.get(t);
                    e = i ? n.__webglFramebuffer[t.activeCubeFace] : n.__webglFramebuffer, St.copy(t.scissor), Mt = t.scissorTest, Et.copy(t.viewport) } else e = null, St.copy(It).multiplyScalar(Lt), Mt = Dt, Et.copy(kt).multiplyScalar(Lt); if (bt !== e && (zt.bindFramebuffer(zt.FRAMEBUFFER, e), bt = e), Yt.scissor(St), Yt.setScissorTest(Mt), Yt.viewport(Et), i) { var r = qt.get(t.texture);
                    zt.framebufferTexture2D(zt.FRAMEBUFFER, zt.COLOR_ATTACHMENT0, zt.TEXTURE_CUBE_MAP_POSITIVE_X + t.activeCubeFace, r.__webglTexture, t.activeMipMapLevel) } }, this.readRenderTargetPixels = function(t, e, i, n, r, a) { if (t instanceof o.WebGLRenderTarget != !1) { var s = qt.get(t).__webglFramebuffer; if (s) { var h = !1;
                        s !== bt && (zt.bindFramebuffer(zt.FRAMEBUFFER, s), h = !0); try { var l = t.texture; if (l.format !== o.RGBAFormat && tt(l.format) !== zt.getParameter(zt.IMPLEMENTATION_COLOR_READ_FORMAT)) return; if (!(l.type === o.UnsignedByteType || tt(l.type) === zt.getParameter(zt.IMPLEMENTATION_COLOR_READ_TYPE) || l.type === o.FloatType && Wt.get("WEBGL_color_buffer_float") || l.type === o.HalfFloatType && Wt.get("EXT_color_buffer_half_float"))) return;
                            zt.checkFramebufferStatus(zt.FRAMEBUFFER) === zt.FRAMEBUFFER_COMPLETE && zt.readPixels(e, i, n, r, tt(l.format), tt(l.type), a) } finally { h && zt.bindFramebuffer(zt.FRAMEBUFFER, bt) } } } }
        }, o.WebGLRenderTarget = function(t, e, i) { this.uuid = o.Math.generateUUID(), this.width = t, this.height = e, this.scissor = new o.Vector4(0, 0, t, e), this.scissorTest = !1, this.viewport = new o.Vector4(0, 0, t, e), i = i || {}, void 0 === i.minFilter && (i.minFilter = o.LinearFilter), this.texture = new o.Texture((void 0), (void 0), i.wrapS, i.wrapT, i.magFilter, i.minFilter, i.format, i.type, i.anisotropy), this.depthBuffer = void 0 === i.depthBuffer || i.depthBuffer, this.stencilBuffer = void 0 === i.stencilBuffer || i.stencilBuffer }, o.WebGLRenderTarget.prototype = { constructor: o.WebGLRenderTarget, setSize: function(t, e) { this.width === t && this.height === e || (this.width = t, this.height = e, this.dispose()), this.viewport.set(0, 0, t, e), this.scissor.set(0, 0, t, e) }, clone: function() { return (new this.constructor).copy(this) }, copy: function(t) { return this.width = t.width, this.height = t.height, this.viewport.copy(t.viewport), this.texture = t.texture.clone(), this.depthBuffer = t.depthBuffer, this.stencilBuffer = t.stencilBuffer, this }, dispose: function() { this.dispatchEvent({ type: "dispose" }) } }, o.EventDispatcher.prototype.apply(o.WebGLRenderTarget.prototype), o.WebGLRenderTargetCube = function(t, e, i) { o.WebGLRenderTarget.call(this, t, e, i), this.activeCubeFace = 0, this.activeMipMapLevel = 0 }, o.WebGLRenderTargetCube.prototype = Object.create(o.WebGLRenderTarget.prototype), o.WebGLRenderTargetCube.prototype.constructor = o.WebGLRenderTargetCube, o.WebGLBufferRenderer = function(t, e, i) {
            function n(t) { s = t }

            function r(e, n) { t.drawArrays(s, e, n), i.calls++, i.vertices += n, s === t.TRIANGLES && (i.faces += n / 3) }

            function a(n) { var r = e.get("ANGLE_instanced_arrays"); if (null !== r) { var a = n.attributes.position,
                        h = 0;
                    a instanceof o.InterleavedBufferAttribute ? (h = a.data.count, r.drawArraysInstancedANGLE(s, 0, h, n.maxInstancedCount)) : (h = a.count, r.drawArraysInstancedANGLE(s, 0, h, n.maxInstancedCount)), i.calls++, i.vertices += h * n.maxInstancedCount, s === t.TRIANGLES && (i.faces += n.maxInstancedCount * h / 3) } } var s;
            this.setMode = n, this.render = r, this.renderInstances = a }, o.WebGLIndexedBufferRenderer = function(t, e, i) {
            function n(t) { s = t }

            function r(i) { i.array instanceof Uint32Array && e.get("OES_element_index_uint") ? (h = t.UNSIGNED_INT, l = 4) : (h = t.UNSIGNED_SHORT, l = 2) }

            function o(e, n) { t.drawElements(s, n, h, e * l), i.calls++, i.vertices += n, s === t.TRIANGLES && (i.faces += n / 3) }

            function a(n, r, o) { var a = e.get("ANGLE_instanced_arrays");
                null !== a && (a.drawElementsInstancedANGLE(s, o, h, r * l, n.maxInstancedCount), i.calls++, i.vertices += o * n.maxInstancedCount, s === t.TRIANGLES && (i.faces += n.maxInstancedCount * o / 3)) } var s, h, l;
            this.setMode = n, this.setIndex = r, this.render = o, this.renderInstances = a }, o.WebGLExtensions = function(t) { var e = {};
            this.get = function(i) { if (void 0 !== e[i]) return e[i]; var n; switch (i) {
                    case "EXT_texture_filter_anisotropic":
                        n = t.getExtension("EXT_texture_filter_anisotropic") || t.getExtension("MOZ_EXT_texture_filter_anisotropic") || t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"); break;
                    case "WEBGL_compressed_texture_s3tc":
                        n = t.getExtension("WEBGL_compressed_texture_s3tc") || t.getExtension("MOZ_WEBGL_compressed_texture_s3tc") || t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc"); break;
                    case "WEBGL_compressed_texture_pvrtc":
                        n = t.getExtension("WEBGL_compressed_texture_pvrtc") || t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"); break;
                    case "WEBGL_compressed_texture_etc1":
                        n = t.getExtension("WEBGL_compressed_texture_etc1"); break;
                    default:
                        n = t.getExtension(i) } return e[i] = n, n } }, o.WebGLCapabilities = function(t, e, i) {
            function n(e) { if ("highp" === e) { if (t.getShaderPrecisionFormat(t.VERTEX_SHADER, t.HIGH_FLOAT).precision > 0 && t.getShaderPrecisionFormat(t.FRAGMENT_SHADER, t.HIGH_FLOAT).precision > 0) return "highp";
                    e = "mediump" } return "mediump" === e && t.getShaderPrecisionFormat(t.VERTEX_SHADER, t.MEDIUM_FLOAT).precision > 0 && t.getShaderPrecisionFormat(t.FRAGMENT_SHADER, t.MEDIUM_FLOAT).precision > 0 ? "mediump" : "lowp" } this.getMaxPrecision = n, this.precision = void 0 !== i.precision ? i.precision : "highp", this.logarithmicDepthBuffer = void 0 !== i.logarithmicDepthBuffer && i.logarithmicDepthBuffer, this.maxTextures = t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS), this.maxVertexTextures = t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS), this.maxTextureSize = t.getParameter(t.MAX_TEXTURE_SIZE), this.maxCubemapSize = t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE), this.maxAttributes = t.getParameter(t.MAX_VERTEX_ATTRIBS), this.maxVertexUniforms = t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS), this.maxVaryings = t.getParameter(t.MAX_VARYING_VECTORS), this.maxFragmentUniforms = t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS), this.vertexTextures = this.maxVertexTextures > 0, this.floatFragmentTextures = !!e.get("OES_texture_float"), this.floatVertexTextures = this.vertexTextures && this.floatFragmentTextures; var r = n(this.precision);
            r !== this.precision && (this.precision = r), this.logarithmicDepthBuffer && (this.logarithmicDepthBuffer = !!e.get("EXT_frag_depth")) }, o.WebGLGeometries = function(t, e, i) {
            function n(t) { var e = t.geometry; if (void 0 !== u[e.id]) return u[e.id];
                e.addEventListener("dispose", r); var n; return e instanceof o.BufferGeometry ? n = e : e instanceof o.Geometry && (void 0 === e._bufferGeometry && (e._bufferGeometry = (new o.BufferGeometry).setFromObject(t)), n = e._bufferGeometry), u[e.id] = n, i.memory.geometries++, n }

            function r(t) { var n = t.target,
                    o = u[n.id];
                null !== o.index && s(o.index), h(o.attributes), n.removeEventListener("dispose", r), delete u[n.id]; var a = e.get(n);
                a.wireframe && s(a.wireframe), e["delete"](n); var l = e.get(o);
                l.wireframe && s(l.wireframe), e["delete"](o), i.memory.geometries-- }

            function a(t) { return t instanceof o.InterleavedBufferAttribute ? e.get(t.data).__webglBuffer : e.get(t).__webglBuffer }

            function s(e) { var i = a(e);
                void 0 !== i && (t.deleteBuffer(i), l(e)) }

            function h(t) { for (var e in t) s(t[e]) }

            function l(t) { t instanceof o.InterleavedBufferAttribute ? e["delete"](t.data) : e["delete"](t) } var u = {};
            this.get = n }, o.WebGLLights = function() { var t = {};
            this.get = function(e) { if (void 0 !== t[e.id]) return t[e.id]; var i; switch (e.type) {
                    case "DirectionalLight":
                        i = { direction: new o.Vector3, color: new o.Color, shadow: !1, shadowBias: 0, shadowRadius: 1, shadowMapSize: new o.Vector2 }; break;
                    case "SpotLight":
                        i = { position: new o.Vector3, direction: new o.Vector3, color: new o.Color, distance: 0, coneCos: 0, penumbraCos: 0, decay: 0, shadow: !1, shadowBias: 0, shadowRadius: 1, shadowMapSize: new o.Vector2 }; break;
                    case "PointLight":
                        i = { position: new o.Vector3, color: new o.Color, distance: 0, decay: 0, shadow: !1, shadowBias: 0, shadowRadius: 1, shadowMapSize: new o.Vector2 }; break;
                    case "HemisphereLight":
                        i = { direction: new o.Vector3, skyColor: new o.Color, groundColor: new o.Color } } return t[e.id] = i, i } }, o.WebGLObjects = function(t, e, i) {
            function n(e) { var i = c.get(e);
                e.geometry instanceof o.Geometry && i.updateFromObject(e); var n = i.index,
                    a = i.attributes;
                null !== n && r(n, t.ELEMENT_ARRAY_BUFFER); for (var s in a) r(a[s], t.ARRAY_BUFFER); var h = i.morphAttributes; for (var s in h)
                    for (var l = h[s], u = 0, d = l.length; u < d; u++) r(l[u], t.ARRAY_BUFFER); return i }

            function r(t, i) { var n = t instanceof o.InterleavedBufferAttribute ? t.data : t,
                    r = e.get(n);
                void 0 === r.__webglBuffer ? a(r, n, i) : r.version !== n.version && s(r, n, i) }

            function a(e, i, n) { e.__webglBuffer = t.createBuffer(), t.bindBuffer(n, e.__webglBuffer); var r = i.dynamic ? t.DYNAMIC_DRAW : t.STATIC_DRAW;
                t.bufferData(n, i.array, r), e.version = i.version }

            function s(e, i, n) { t.bindBuffer(n, e.__webglBuffer), i.dynamic === !1 || i.updateRange.count === -1 ? t.bufferSubData(n, 0, i.array) : 0 === i.updateRange.count || (t.bufferSubData(n, i.updateRange.offset * i.array.BYTES_PER_ELEMENT, i.array.subarray(i.updateRange.offset, i.updateRange.offset + i.updateRange.count)), i.updateRange.count = 0), e.version = i.version }

            function h(t) { return t instanceof o.InterleavedBufferAttribute ? e.get(t.data).__webglBuffer : e.get(t).__webglBuffer }

            function l(i) { var n = e.get(i); if (void 0 !== n.wireframe) return n.wireframe; var a = [],
                    s = i.index,
                    h = i.attributes,
                    l = h.position; if (null !== s)
                    for (var c = {}, d = s.array, p = 0, f = d.length; p < f; p += 3) { var m = d[p + 0],
                            g = d[p + 1],
                            v = d[p + 2];
                        u(c, m, g) && a.push(m, g), u(c, g, v) && a.push(g, v), u(c, v, m) && a.push(v, m) } else
                        for (var d = h.position.array, p = 0, f = d.length / 3 - 1; p < f; p += 3) { var m = p + 0,
                                g = p + 1,
                                v = p + 2;
                            a.push(m, g, g, v, v, m) }
                var y = l.count > 65535 ? Uint32Array : Uint16Array,
                    _ = new o.BufferAttribute(new y(a), 1); return r(_, t.ELEMENT_ARRAY_BUFFER), n.wireframe = _, _ }

            function u(t, e, i) { if (e > i) { var n = e;
                    e = i, i = n } var r = t[e]; return void 0 === r ? (t[e] = [i], !0) : r.indexOf(i) === -1 && (r.push(i), !0) } var c = new o.WebGLGeometries(t, e, i);
            this.getAttributeBuffer = h, this.getWireframeAttribute = l, this.update = n }, o.WebGLProgram = function() {
            function t(t) { switch (t) {
                    case o.LinearEncoding:
                        return ["Linear", "( value )"];
                    case o.sRGBEncoding:
                        return ["sRGB", "( value )"];
                    case o.RGBEEncoding:
                        return ["RGBE", "( value )"];
                    case o.RGBM7Encoding:
                        return ["RGBM", "( value, 7.0 )"];
                    case o.RGBM16Encoding:
                        return ["RGBM", "( value, 16.0 )"];
                    case o.RGBDEncoding:
                        return ["RGBD", "( value, 256.0 )"];
                    case o.GammaEncoding:
                        return ["Gamma", "( value, float( GAMMA_FACTOR ) )"];
                    default:
                        throw new Error("unsupported encoding: " + t) } }

            function e(e, i) { var n = t(i); return "vec4 " + e + "( vec4 value ) { return " + n[0] + "ToLinear" + n[1] + "; }" }

            function i(e, i) { var n = t(i); return "vec4 " + e + "( vec4 value ) { return LinearTo" + n[0] + n[1] + "; }" }

            function n(t, e) { var i; switch (e) {
                    case o.LinearToneMapping:
                        i = "Linear"; break;
                    case o.ReinhardToneMapping:
                        i = "Reinhard"; break;
                    case o.Uncharted2ToneMapping:
                        i = "Uncharted2"; break;
                    case o.CineonToneMapping:
                        i = "OptimizedCineon"; break;
                    default:
                        throw new Error("unsupported toneMapping: " + e) } return "vec3 " + t + "( vec3 color ) { return " + i + "ToneMapping( color ); }" }

            function r(t, e, i) { t = t || {}; var n = [t.derivatives || e.envMapCubeUV || e.bumpMap || e.normalMap || e.flatShading ? "#extension GL_OES_standard_derivatives : enable" : "", (t.fragDepth || e.logarithmicDepthBuffer) && i.get("EXT_frag_depth") ? "#extension GL_EXT_frag_depth : enable" : "", t.drawBuffers && i.get("WEBGL_draw_buffers") ? "#extension GL_EXT_draw_buffers : require" : "", (t.shaderTextureLOD || e.envMap) && i.get("EXT_shader_texture_lod") ? "#extension GL_EXT_shader_texture_lod : enable" : ""]; return n.filter(l).join("\n") }

            function a(t) { var e = []; for (var i in t) { var n = t[i];
                    n !== !1 && e.push("#define " + i + " " + n) } return e.join("\n") }

            function s(t, e, i) { for (var n = {}, r = t.getProgramParameter(e, t.ACTIVE_UNIFORMS), o = 0; o < r; o++) { var a = t.getActiveUniform(e, o),
                        s = a.name,
                        h = t.getUniformLocation(e, s),
                        l = f.exec(s); if (l) { var u = l[1],
                            c = l[2],
                            d = n[u];
                        d || (d = n[u] = {}), d[c] = h } else if (l = m.exec(s)) { var p = l[1],
                            v = l[2],
                            y = l[3],
                            _ = n[p];
                        _ || (_ = n[p] = []); var b = _[v];
                        b || (b = _[v] = {}), b[y] = h } else if (l = g.exec(s)) { var p = l[1];
                        n[p] = h } else n[s] = h } return n }

            function h(t, e, i) { for (var n = {}, r = t.getProgramParameter(e, t.ACTIVE_ATTRIBUTES), o = 0; o < r; o++) { var a = t.getActiveAttrib(e, o),
                        s = a.name;
                    n[s] = t.getAttribLocation(e, s) } return n }

            function l(t) { return "" !== t }

            function u(t, e) { return t.replace(/NUM_DIR_LIGHTS/g, e.numDirLights).replace(/NUM_SPOT_LIGHTS/g, e.numSpotLights).replace(/NUM_POINT_LIGHTS/g, e.numPointLights).replace(/NUM_HEMI_LIGHTS/g, e.numHemiLights) }

            function c(t) {
                function e(t, e) { var i = o.ShaderChunk[e]; if (void 0 === i) throw new Error("Can not resolve #include <" + e + ">"); return c(i) } var i = /#include +<([\w\d.]+)>/g; return t.replace(i, e) }

            function d(t) {
                function e(t, e, i, n) { for (var r = "", o = parseInt(e); o < parseInt(i); o++) r += n.replace(/\[ i \]/g, "[ " + o + " ]"); return r } var i = /for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g; return t.replace(i, e) } var p = 0,
                f = /^([\w\d_]+)\.([\w\d_]+)$/,
                m = /^([\w\d_]+)\[(\d+)\]\.([\w\d_]+)$/,
                g = /^([\w\d_]+)\[0\]$/; return function(t, f, m, g) { var v = t.context,
                    y = m.extensions,
                    _ = m.defines,
                    b = m.__webglShader.vertexShader,
                    x = m.__webglShader.fragmentShader,
                    w = "SHADOWMAP_TYPE_BASIC";
                g.shadowMapType === o.PCFShadowMap ? w = "SHADOWMAP_TYPE_PCF" : g.shadowMapType === o.PCFSoftShadowMap && (w = "SHADOWMAP_TYPE_PCF_SOFT"); var T = "ENVMAP_TYPE_CUBE",
                    S = "ENVMAP_MODE_REFLECTION",
                    M = "ENVMAP_BLENDING_MULTIPLY"; if (g.envMap) { switch (m.envMap.mapping) {
                        case o.CubeReflectionMapping:
                        case o.CubeRefractionMapping:
                            T = "ENVMAP_TYPE_CUBE"; break;
                        case o.CubeUVReflectionMapping:
                        case o.CubeUVRefractionMapping:
                            T = "ENVMAP_TYPE_CUBE_UV"; break;
                        case o.EquirectangularReflectionMapping:
                        case o.EquirectangularRefractionMapping:
                            T = "ENVMAP_TYPE_EQUIREC"; break;
                        case o.SphericalReflectionMapping:
                            T = "ENVMAP_TYPE_SPHERE" } switch (m.envMap.mapping) {
                        case o.CubeRefractionMapping:
                        case o.EquirectangularRefractionMapping:
                            S = "ENVMAP_MODE_REFRACTION" } switch (m.combine) {
                        case o.MultiplyOperation:
                            M = "ENVMAP_BLENDING_MULTIPLY"; break;
                        case o.MixOperation:
                            M = "ENVMAP_BLENDING_MIX"; break;
                        case o.AddOperation:
                            M = "ENVMAP_BLENDING_ADD" } } var E, A, C = t.gammaFactor > 0 ? t.gammaFactor : 1,
                    R = r(y, g, t.extensions),
                    P = a(_),
                    O = v.createProgram();
                m instanceof o.RawShaderMaterial ? (E = "", A = "") : (E = ["precision " + g.precision + " float;", "precision " + g.precision + " int;", "#define SHADER_NAME " + m.__webglShader.name, P, g.supportsVertexTextures ? "#define VERTEX_TEXTURES" : "", "#define GAMMA_FACTOR " + C, "#define MAX_BONES " + g.maxBones, g.map ? "#define USE_MAP" : "", g.envMap ? "#define USE_ENVMAP" : "", g.envMap ? "#define " + S : "", g.lightMap ? "#define USE_LIGHTMAP" : "", g.aoMap ? "#define USE_AOMAP" : "", g.emissiveMap ? "#define USE_EMISSIVEMAP" : "", g.bumpMap ? "#define USE_BUMPMAP" : "", g.normalMap ? "#define USE_NORMALMAP" : "", g.displacementMap && g.supportsVertexTextures ? "#define USE_DISPLACEMENTMAP" : "", g.specularMap ? "#define USE_SPECULARMAP" : "", g.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", g.metalnessMap ? "#define USE_METALNESSMAP" : "", g.alphaMap ? "#define USE_ALPHAMAP" : "", g.vertexColors ? "#define USE_COLOR" : "", g.flatShading ? "#define FLAT_SHADED" : "", g.skinning ? "#define USE_SKINNING" : "", g.useVertexTexture ? "#define BONE_TEXTURE" : "", g.morphTargets ? "#define USE_MORPHTARGETS" : "", g.morphNormals && g.flatShading === !1 ? "#define USE_MORPHNORMALS" : "", g.doubleSided ? "#define DOUBLE_SIDED" : "", g.flipSided ? "#define FLIP_SIDED" : "", g.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", g.shadowMapEnabled ? "#define " + w : "", g.pointLightShadows > 0 ? "#define POINT_LIGHT_SHADOWS" : "", g.sizeAttenuation ? "#define USE_SIZEATTENUATION" : "", g.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", g.logarithmicDepthBuffer && t.extensions.get("EXT_frag_depth") ? "#define USE_LOGDEPTHBUF_EXT" : "", "uniform mat4 modelMatrix;", "uniform mat4 modelViewMatrix;", "uniform mat4 projectionMatrix;", "uniform mat4 viewMatrix;", "uniform mat3 normalMatrix;", "uniform vec3 cameraPosition;", "attribute vec3 position;", "attribute vec3 normal;", "attribute vec2 uv;", "#ifdef USE_COLOR", "\tattribute vec3 color;", "#endif", "#ifdef USE_MORPHTARGETS", "\tattribute vec3 morphTarget0;", "\tattribute vec3 morphTarget1;", "\tattribute vec3 morphTarget2;", "\tattribute vec3 morphTarget3;", "\t#ifdef USE_MORPHNORMALS", "\t\tattribute vec3 morphNormal0;", "\t\tattribute vec3 morphNormal1;", "\t\tattribute vec3 morphNormal2;", "\t\tattribute vec3 morphNormal3;", "\t#else", "\t\tattribute vec3 morphTarget4;", "\t\tattribute vec3 morphTarget5;", "\t\tattribute vec3 morphTarget6;", "\t\tattribute vec3 morphTarget7;", "\t#endif", "#endif", "#ifdef USE_SKINNING", "\tattribute vec4 skinIndex;", "\tattribute vec4 skinWeight;", "#endif", "\n"].filter(l).join("\n"), A = [R, "precision " + g.precision + " float;", "precision " + g.precision + " int;", "#define SHADER_NAME " + m.__webglShader.name, P, g.alphaTest ? "#define ALPHATEST " + g.alphaTest : "", "#define GAMMA_FACTOR " + C, g.useFog && g.fog ? "#define USE_FOG" : "", g.useFog && g.fogExp ? "#define FOG_EXP2" : "", g.map ? "#define USE_MAP" : "", g.envMap ? "#define USE_ENVMAP" : "", g.envMap ? "#define " + T : "", g.envMap ? "#define " + S : "", g.envMap ? "#define " + M : "", g.lightMap ? "#define USE_LIGHTMAP" : "", g.aoMap ? "#define USE_AOMAP" : "", g.emissiveMap ? "#define USE_EMISSIVEMAP" : "", g.bumpMap ? "#define USE_BUMPMAP" : "", g.normalMap ? "#define USE_NORMALMAP" : "", g.specularMap ? "#define USE_SPECULARMAP" : "", g.roughnessMap ? "#define USE_ROUGHNESSMAP" : "", g.metalnessMap ? "#define USE_METALNESSMAP" : "", g.alphaMap ? "#define USE_ALPHAMAP" : "", g.vertexColors ? "#define USE_COLOR" : "", g.flatShading ? "#define FLAT_SHADED" : "", g.doubleSided ? "#define DOUBLE_SIDED" : "", g.flipSided ? "#define FLIP_SIDED" : "", g.shadowMapEnabled ? "#define USE_SHADOWMAP" : "", g.shadowMapEnabled ? "#define " + w : "", g.pointLightShadows > 0 ? "#define POINT_LIGHT_SHADOWS" : "", g.premultipliedAlpha ? "#define PREMULTIPLIED_ALPHA" : "", g.physicallyCorrectLights ? "#define PHYSICALLY_CORRECT_LIGHTS" : "", g.logarithmicDepthBuffer ? "#define USE_LOGDEPTHBUF" : "", g.logarithmicDepthBuffer && t.extensions.get("EXT_frag_depth") ? "#define USE_LOGDEPTHBUF_EXT" : "", g.envMap && t.extensions.get("EXT_shader_texture_lod") ? "#define TEXTURE_LOD_EXT" : "", "uniform mat4 viewMatrix;", "uniform vec3 cameraPosition;", g.toneMapping !== o.NoToneMapping ? "#define TONE_MAPPING" : "", g.toneMapping !== o.NoToneMapping ? o.ShaderChunk.tonemapping_pars_fragment : "", g.toneMapping !== o.NoToneMapping ? n("toneMapping", g.toneMapping) : "", g.outputEncoding || g.mapEncoding || g.envMapEncoding || g.emissiveMapEncoding ? o.ShaderChunk.encodings_pars_fragment : "", g.mapEncoding ? e("mapTexelToLinear", g.mapEncoding) : "", g.envMapEncoding ? e("envMapTexelToLinear", g.envMapEncoding) : "", g.emissiveMapEncoding ? e("emissiveMapTexelToLinear", g.emissiveMapEncoding) : "", g.outputEncoding ? i("linearToOutputTexel", g.outputEncoding) : "", "\n"].filter(l).join("\n")), b = c(b, g), b = u(b, g), x = c(x, g), x = u(x, g), m instanceof o.ShaderMaterial == !1 && (b = d(b), x = d(x)); var L = E + b,
                    I = A + x,
                    D = o.WebGLShader(v, v.VERTEX_SHADER, L),
                    k = o.WebGLShader(v, v.FRAGMENT_SHADER, I);
                v.attachShader(O, D), v.attachShader(O, k), void 0 !== m.index0AttributeName ? v.bindAttribLocation(O, 0, m.index0AttributeName) : g.morphTargets === !0 && v.bindAttribLocation(O, 0, "position"), v.linkProgram(O); var B = v.getProgramInfoLog(O),
                    N = v.getShaderInfoLog(D),
                    F = v.getShaderInfoLog(k),
                    U = !0,
                    G = !0;
                v.getProgramParameter(O, v.LINK_STATUS) === !1 ? U = !1 : "" !== B || "" !== N && "" !== F || (G = !1), G && (this.diagnostics = { runnable: U, material: m, programLog: B, vertexShader: { log: N, prefix: E }, fragmentShader: { log: F, prefix: A } }), v.deleteShader(D), v.deleteShader(k); var j;
                this.getUniforms = function() { return void 0 === j && (j = s(v, O)), j }; var z; return this.getAttributes = function() { return void 0 === z && (z = h(v, O)), z }, this.destroy = function() { v.deleteProgram(O), this.program = void 0 }, Object.defineProperties(this, { uniforms: { get: function() { return this.getUniforms() } }, attributes: { get: function() { return this.getAttributes() } } }), this.id = p++, this.code = f, this.usedTimes = 1, this.program = O, this.vertexShader = D, this.fragmentShader = k, this } }(), o.WebGLPrograms = function(t, e) {
            function i(t) { if (e.floatVertexTextures && t && t.skeleton && t.skeleton.useVertexTexture) return 1024; var i = e.maxVertexUniforms,
                    n = Math.floor((i - 20) / 4),
                    r = n; return void 0 !== t && t instanceof o.SkinnedMesh && (r = Math.min(t.skeleton.bones.length, r), r < t.skeleton.bones.length), r }

            function n(t, e) { var i; return t ? t instanceof o.Texture ? i = t.encoding : t instanceof o.WebGLRenderTarget && (i = t.texture.encoding) : i = o.LinearEncoding, i === o.LinearEncoding && e && (i = o.GammaEncoding), i } var r = [],
                a = { MeshDepthMaterial: "depth", MeshNormalMaterial: "normal", MeshBasicMaterial: "basic", MeshLambertMaterial: "lambert", MeshPhongMaterial: "phong", MeshStandardMaterial: "standard", LineBasicMaterial: "basic", LineDashedMaterial: "dashed", PointsMaterial: "points" },
                s = ["precision", "supportsVertexTextures", "map", "mapEncoding", "envMap", "envMapMode", "envMapEncoding", "lightMap", "aoMap", "emissiveMap", "emissiveMapEncoding", "bumpMap", "normalMap", "displacementMap", "specularMap", "roughnessMap", "metalnessMap", "alphaMap", "combine", "vertexColors", "fog", "useFog", "fogExp", "flatShading", "sizeAttenuation", "logarithmicDepthBuffer", "skinning", "maxBones", "useVertexTexture", "morphTargets", "morphNormals", "maxMorphTargets", "maxMorphNormals", "premultipliedAlpha", "numDirLights", "numPointLights", "numSpotLights", "numHemiLights", "shadowMapEnabled", "pointLightShadows", "toneMapping", "physicallyCorrectLights", "shadowMapType", "alphaTest", "doubleSided", "flipSided"];
            this.getParameters = function(r, s, h, l) { var u = a[r.type],
                    c = i(l),
                    d = t.getPrecision();
                null !== r.precision && (d = e.getMaxPrecision(r.precision), d !== r.precision); var p = { shaderID: u, precision: d, supportsVertexTextures: e.vertexTextures, outputEncoding: n(t.getCurrentRenderTarget(), t.gammaOutput), map: !!r.map, mapEncoding: n(r.map, t.gammaInput), envMap: !!r.envMap, envMapMode: r.envMap && r.envMap.mapping, envMapEncoding: n(r.envMap, t.gammaInput), envMapCubeUV: !!r.envMap && (r.envMap.mapping === o.CubeUVReflectionMapping || r.envMap.mapping === o.CubeUVRefractionMapping), lightMap: !!r.lightMap, aoMap: !!r.aoMap, emissiveMap: !!r.emissiveMap, emissiveMapEncoding: n(r.emissiveMap, t.gammaInput), bumpMap: !!r.bumpMap, normalMap: !!r.normalMap, displacementMap: !!r.displacementMap, roughnessMap: !!r.roughnessMap, metalnessMap: !!r.metalnessMap, specularMap: !!r.specularMap, alphaMap: !!r.alphaMap, combine: r.combine, vertexColors: r.vertexColors, fog: h, useFog: r.fog, fogExp: h instanceof o.FogExp2, flatShading: r.shading === o.FlatShading, sizeAttenuation: r.sizeAttenuation, logarithmicDepthBuffer: e.logarithmicDepthBuffer, skinning: r.skinning, maxBones: c, useVertexTexture: e.floatVertexTextures && l && l.skeleton && l.skeleton.useVertexTexture, morphTargets: r.morphTargets, morphNormals: r.morphNormals, maxMorphTargets: t.maxMorphTargets, maxMorphNormals: t.maxMorphNormals, numDirLights: s.directional.length, numPointLights: s.point.length, numSpotLights: s.spot.length, numHemiLights: s.hemi.length, pointLightShadows: s.shadowsPointLight, shadowMapEnabled: t.shadowMap.enabled && l.receiveShadow && s.shadows.length > 0, shadowMapType: t.shadowMap.type, toneMapping: t.toneMapping, physicallyCorrectLights: t.physicallyCorrectLights, premultipliedAlpha: r.premultipliedAlpha, alphaTest: r.alphaTest, doubleSided: r.side === o.DoubleSide, flipSided: r.side === o.BackSide }; return p }, this.getProgramCode = function(t, e) { var i = []; if (e.shaderID ? i.push(e.shaderID) : (i.push(t.fragmentShader), i.push(t.vertexShader)), void 0 !== t.defines)
                    for (var n in t.defines) i.push(n), i.push(t.defines[n]); for (var r = 0; r < s.length; r++) { var o = s[r];
                    i.push(o), i.push(e[o]) } return i.join() }, this.acquireProgram = function(e, i, n) { for (var a, s = 0, h = r.length; s < h; s++) { var l = r[s]; if (l.code === n) { a = l, ++a.usedTimes; break } } return void 0 === a && (a = new o.WebGLProgram(t, n, e, i), r.push(a)), a }, this.releaseProgram = function(t) { if (0 === --t.usedTimes) { var e = r.indexOf(t);
                    r[e] = r[r.length - 1], r.pop(), t.destroy() } }, this.programs = r }, o.WebGLProperties = function() { var t = {};
            this.get = function(e) { var i = e.uuid,
                    n = t[i]; return void 0 === n && (n = {}, t[i] = n), n }, this["delete"] = function(e) { delete t[e.uuid] }, this.clear = function() { t = {} } }, o.WebGLShader = function() { return function(t, e, i) { var n = t.createShader(e); return t.shaderSource(n, i), t.compileShader(n), t.getShaderParameter(n, t.COMPILE_STATUS) === !1, "" !== t.getShaderInfoLog(n), n } }(), o.WebGLShadowMap = function(t, e, i) {
            function n(t, e, i, n) { var r = t.geometry,
                    a = null,
                    s = v,
                    h = t.customDepthMaterial; if (i && (s = y, h = t.customDistanceMaterial), h) a = h;
                else { var l = void 0 !== r.morphTargets && r.morphTargets.length > 0 && e.morphTargets,
                        u = t instanceof o.SkinnedMesh && e.skinning,
                        c = 0;
                    l && (c |= f), u && (c |= m), a = s[c] } return a.visible = e.visible, a.wireframe = e.wireframe, a.wireframeLinewidth = e.wireframeLinewidth, i && void 0 !== a.uniforms.lightPos && a.uniforms.lightPos.value.copy(n), a }

            function r(t, e, i) { if (t.visible !== !1) { if (t.layers.test(e.layers) && (t instanceof o.Mesh || t instanceof o.Line || t instanceof o.Points) && t.castShadow && (t.frustumCulled === !1 || h.intersectsObject(t) === !0)) { var n = t.material;
                        n.visible === !0 && (t.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse, t.matrixWorld), p.push(t)) } for (var a = t.children, s = 0, l = a.length; s < l; s++) r(a[s], e, i) } } for (var a = t.context, s = t.state, h = new o.Frustum, l = new o.Matrix4, u = new o.Vector2, c = new o.Vector3, d = new o.Vector3, p = [], f = 1, m = 2, g = (f | m) + 1, v = new Array(g), y = new Array(g), _ = [new o.Vector3(1, 0, 0), new o.Vector3((-1), 0, 0), new o.Vector3(0, 0, 1), new o.Vector3(0, 0, (-1)), new o.Vector3(0, 1, 0), new o.Vector3(0, (-1), 0)], b = [new o.Vector3(0, 1, 0), new o.Vector3(0, 1, 0), new o.Vector3(0, 1, 0), new o.Vector3(0, 1, 0), new o.Vector3(0, 0, 1), new o.Vector3(0, 0, (-1))], x = [new o.Vector4, new o.Vector4, new o.Vector4, new o.Vector4, new o.Vector4, new o.Vector4], w = o.ShaderLib.depthRGBA, T = o.UniformsUtils.clone(w.uniforms), S = o.ShaderLib.distanceRGBA, M = o.UniformsUtils.clone(S.uniforms), E = 0; E !== g; ++E) { var A = 0 !== (E & f),
                    C = 0 !== (E & m),
                    R = new o.ShaderMaterial({ uniforms: T, vertexShader: w.vertexShader, fragmentShader: w.fragmentShader, morphTargets: A, skinning: C });
                v[E] = R; var P = new o.ShaderMaterial({ defines: { USE_SHADOWMAP: "" }, uniforms: M, vertexShader: S.vertexShader, fragmentShader: S.fragmentShader, morphTargets: A, skinning: C });
                y[E] = P } var O = this;
            this.enabled = !1, this.autoUpdate = !0, this.needsUpdate = !1, this.type = o.PCFShadowMap, this.cullFace = o.CullFaceFront, this.render = function(f, m) { var g, v, y = e.shadows; if (0 !== y.length && O.enabled !== !1 && (O.autoUpdate !== !1 || O.needsUpdate !== !1)) { s.clearColor(1, 1, 1, 1), s.disable(a.BLEND), s.enable(a.CULL_FACE), a.frontFace(a.CCW), a.cullFace(O.cullFace === o.CullFaceFront ? a.FRONT : a.BACK), s.setDepthTest(!0), s.setScissorTest(!1); for (var w = 0, T = y.length; w < T; w++) { var S = y[w],
                            M = S.shadow,
                            E = M.camera; if (u.copy(M.mapSize), S instanceof o.PointLight) { g = 6, v = !0; var A = u.x,
                                C = u.y;
                            x[0].set(2 * A, C, A, C), x[1].set(0, C, A, C), x[2].set(3 * A, C, A, C), x[3].set(A, C, A, C), x[4].set(3 * A, 0, A, C), x[5].set(A, 0, A, C), u.x *= 4, u.y *= 2 } else g = 1, v = !1; if (null === M.map) { var R = { minFilter: o.NearestFilter, magFilter: o.NearestFilter, format: o.RGBAFormat };
                            M.map = new o.WebGLRenderTarget(u.x, u.y, R), S instanceof o.SpotLight && (E.aspect = u.x / u.y), E.updateProjectionMatrix() } var P = M.map,
                            L = M.matrix;
                        d.setFromMatrixPosition(S.matrixWorld), E.position.copy(d), t.setRenderTarget(P), t.clear(); for (var I = 0; I < g; I++) { if (v) { c.copy(E.position), c.add(_[I]), E.up.copy(b[I]), E.lookAt(c); var D = x[I];
                                s.viewport(D) } else c.setFromMatrixPosition(S.target.matrixWorld), E.lookAt(c);
                            E.updateMatrixWorld(), E.matrixWorldInverse.getInverse(E.matrixWorld), L.set(.5, 0, 0, .5, 0, .5, 0, .5, 0, 0, .5, .5, 0, 0, 0, 1), L.multiply(E.projectionMatrix), L.multiply(E.matrixWorldInverse), l.multiplyMatrices(E.projectionMatrix, E.matrixWorldInverse), h.setFromMatrix(l), p.length = 0, r(f, m, E); for (var k = 0, B = p.length; k < B; k++) { var N = p[k],
                                    F = i.update(N),
                                    U = N.material; if (U instanceof o.MultiMaterial)
                                    for (var G = F.groups, j = U.materials, z = 0, V = G.length; z < V; z++) { var H = G[z],
                                            W = j[H.materialIndex]; if (W.visible === !0) { var X = n(N, W, v, d);
                                            t.renderBufferDirect(E, null, F, X, N, H) } } else { var X = n(N, U, v, d);
                                        t.renderBufferDirect(E, null, F, X, N, null) } } } } var Y = t.getClearColor(),
                        q = t.getClearAlpha();
                    t.setClearColor(Y, q), s.enable(a.BLEND), O.cullFace === o.CullFaceFront && a.cullFace(a.BACK), O.needsUpdate = !1 } } }, o.WebGLState = function(t, e, i) {
            var n = this,
                r = new o.Vector4,
                a = new Uint8Array(16),
                s = new Uint8Array(16),
                h = new Uint8Array(16),
                l = {},
                u = null,
                c = null,
                d = null,
                p = null,
                f = null,
                m = null,
                g = null,
                v = null,
                y = !1,
                _ = null,
                b = null,
                x = null,
                w = null,
                T = null,
                S = null,
                M = null,
                E = null,
                A = null,
                C = null,
                R = null,
                P = null,
                O = null,
                L = null,
                I = null,
                D = t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),
                k = void 0,
                B = {},
                N = new o.Vector4,
                F = null,
                U = null,
                G = new o.Vector4,
                j = new o.Vector4,
                z = t.createTexture();
            t.bindTexture(t.TEXTURE_2D, z), t.texParameteri(t.TEXTURE_2D, t.TEXTURE_MIN_FILTER, t.LINEAR), t.texImage2D(t.TEXTURE_2D, 0, t.RGB, 1, 1, 0, t.RGB, t.UNSIGNED_BYTE, new Uint8Array(3)), this.init = function() { this.clearColor(0, 0, 0, 1), this.clearDepth(1), this.clearStencil(0), this.enable(t.DEPTH_TEST), t.depthFunc(t.LEQUAL), t.frontFace(t.CCW), t.cullFace(t.BACK), this.enable(t.CULL_FACE), this.enable(t.BLEND), t.blendEquation(t.FUNC_ADD), t.blendFunc(t.SRC_ALPHA, t.ONE_MINUS_SRC_ALPHA) }, this.initAttributes = function() { for (var t = 0, e = a.length; t < e; t++) a[t] = 0 }, this.enableAttribute = function(i) { if (a[i] = 1, 0 === s[i] && (t.enableVertexAttribArray(i), s[i] = 1), 0 !== h[i]) { var n = e.get("ANGLE_instanced_arrays");
                    n.vertexAttribDivisorANGLE(i, 0), h[i] = 0 } }, this.enableAttributeAndDivisor = function(e, i, n) { a[e] = 1, 0 === s[e] && (t.enableVertexAttribArray(e), s[e] = 1), h[e] !== i && (n.vertexAttribDivisorANGLE(e, i), h[e] = i) }, this.disableUnusedAttributes = function() { for (var e = 0, i = s.length; e < i; e++) s[e] !== a[e] && (t.disableVertexAttribArray(e), s[e] = 0) }, this.enable = function(e) { l[e] !== !0 && (t.enable(e), l[e] = !0) }, this.disable = function(e) { l[e] !== !1 && (t.disable(e), l[e] = !1) }, this.getCompressedTextureFormats = function() { if (null === u && (u = [], e.get("WEBGL_compressed_texture_pvrtc") || e.get("WEBGL_compressed_texture_s3tc") || e.get("WEBGL_compressed_texture_etc1")))
                    for (var i = t.getParameter(t.COMPRESSED_TEXTURE_FORMATS), n = 0; n < i.length; n++) u.push(i[n]); return u }, this.setBlending = function(e, n, r, a, s, h, l, u) { e === o.NoBlending ? this.disable(t.BLEND) : this.enable(t.BLEND), e === c && u === y || (e === o.AdditiveBlending ? u ? (t.blendEquationSeparate(t.FUNC_ADD, t.FUNC_ADD), t.blendFuncSeparate(t.ONE, t.ONE, t.ONE, t.ONE)) : (t.blendEquation(t.FUNC_ADD), t.blendFunc(t.SRC_ALPHA, t.ONE)) : e === o.SubtractiveBlending ? u ? (t.blendEquationSeparate(t.FUNC_ADD, t.FUNC_ADD), t.blendFuncSeparate(t.ZERO, t.ZERO, t.ONE_MINUS_SRC_COLOR, t.ONE_MINUS_SRC_ALPHA)) : (t.blendEquation(t.FUNC_ADD), t.blendFunc(t.ZERO, t.ONE_MINUS_SRC_COLOR)) : e === o.MultiplyBlending ? u ? (t.blendEquationSeparate(t.FUNC_ADD, t.FUNC_ADD), t.blendFuncSeparate(t.ZERO, t.ZERO, t.SRC_COLOR, t.SRC_ALPHA)) : (t.blendEquation(t.FUNC_ADD), t.blendFunc(t.ZERO, t.SRC_COLOR)) : u ? (t.blendEquationSeparate(t.FUNC_ADD, t.FUNC_ADD), t.blendFuncSeparate(t.ONE, t.ONE_MINUS_SRC_ALPHA, t.ONE, t.ONE_MINUS_SRC_ALPHA)) : (t.blendEquationSeparate(t.FUNC_ADD, t.FUNC_ADD), t.blendFuncSeparate(t.SRC_ALPHA, t.ONE_MINUS_SRC_ALPHA, t.ONE, t.ONE_MINUS_SRC_ALPHA)), c = e, y = u), e === o.CustomBlending ? (s = s || n, h = h || r, l = l || a, n === d && s === m || (t.blendEquationSeparate(i(n), i(s)), d = n, m = s), r === p && a === f && h === g && l === v || (t.blendFuncSeparate(i(r), i(a), i(h), i(l)), p = r, f = a, g = h, v = l)) : (d = null, p = null, f = null, m = null, g = null, v = null) }, this.setDepthFunc = function(e) {
                if (_ !== e) {
                    if (e) switch (e) {
                        case o.NeverDepth:
                            t.depthFunc(t.NEVER);
                            break;
                        case o.AlwaysDepth:
                            t.depthFunc(t.ALWAYS);
                            break;
                        case o.LessDepth:
                            t.depthFunc(t.LESS);
                            break;
                        case o.LessEqualDepth:
                            t.depthFunc(t.LEQUAL);
                            break;
                        case o.EqualDepth:
                            t.depthFunc(t.EQUAL);
                            break;
                        case o.GreaterEqualDepth:
                            t.depthFunc(t.GEQUAL);
                            break;
                        case o.GreaterDepth:
                            t.depthFunc(t.GREATER);
                            break;
                        case o.NotEqualDepth:
                            t.depthFunc(t.NOTEQUAL);
                            break;
                        default:
                            t.depthFunc(t.LEQUAL)
                    } else t.depthFunc(t.LEQUAL);
                    _ = e
                }
            }, this.setDepthTest = function(e) { e ? this.enable(t.DEPTH_TEST) : this.disable(t.DEPTH_TEST) }, this.setDepthWrite = function(e) { b !== e && (t.depthMask(e), b = e) }, this.setColorWrite = function(e) { x !== e && (t.colorMask(e, e, e, e), x = e) }, this.setStencilFunc = function(e, i, n) { T === e && S === i && M === n || (t.stencilFunc(e, i, n), T = e, S = i, M = n) }, this.setStencilOp = function(e, i, n) { E === e && A === i && C === n || (t.stencilOp(e, i, n), E = e, A = i, C = n) }, this.setStencilTest = function(e) { e ? this.enable(t.STENCIL_TEST) : this.disable(t.STENCIL_TEST) }, this.setStencilWrite = function(e) { w !== e && (t.stencilMask(e), w = e) }, this.setFlipSided = function(e) { R !== e && (e ? t.frontFace(t.CW) : t.frontFace(t.CCW), R = e) }, this.setLineWidth = function(e) { e !== P && (t.lineWidth(e), P = e) }, this.setPolygonOffset = function(e, i, n) { e ? this.enable(t.POLYGON_OFFSET_FILL) : this.disable(t.POLYGON_OFFSET_FILL), !e || O === i && L === n || (t.polygonOffset(i, n), O = i, L = n) }, this.getScissorTest = function() { return I }, this.setScissorTest = function(e) { I = e, e ? this.enable(t.SCISSOR_TEST) : this.disable(t.SCISSOR_TEST) }, this.activeTexture = function(e) { void 0 === e && (e = t.TEXTURE0 + D - 1), k !== e && (t.activeTexture(e), k = e) }, this.bindTexture = function(e, i) { void 0 === k && n.activeTexture(); var r = B[k];
                void 0 === r && (r = { type: void 0, texture: void 0 }, B[k] = r), r.type === e && r.texture === i || (t.bindTexture(e, i || z), r.type = e, r.texture = i) }, this.compressedTexImage2D = function() { try { t.compressedTexImage2D.apply(t, arguments) } catch (e) {} }, this.texImage2D = function() { try { t.texImage2D.apply(t, arguments) } catch (e) {} }, this.clearColor = function(e, i, n, o) { r.set(e, i, n, o), N.equals(r) === !1 && (t.clearColor(e, i, n, o), N.copy(r)) }, this.clearDepth = function(e) { F !== e && (t.clearDepth(e), F = e) }, this.clearStencil = function(e) { U !== e && (t.clearStencil(e), U = e) }, this.scissor = function(e) { G.equals(e) === !1 && (t.scissor(e.x, e.y, e.z, e.w), G.copy(e)) }, this.viewport = function(e) { j.equals(e) === !1 && (t.viewport(e.x, e.y, e.z, e.w), j.copy(e)) }, this.reset = function() { for (var e = 0; e < s.length; e++) 1 === s[e] && (t.disableVertexAttribArray(e), s[e] = 0);
                l = {}, u = null, k = void 0, B = {}, c = null, x = null, b = null, w = null, R = null }
        }, o.LensFlarePlugin = function(t, e) {
            function i() { var t = new Float32Array([-1, -1, 0, 0, 1, -1, 1, 0, 1, 1, 1, 1, -1, 1, 0, 1]),
                    e = new Uint16Array([0, 1, 2, 0, 2, 3]);
                r = p.createBuffer(), a = p.createBuffer(), p.bindBuffer(p.ARRAY_BUFFER, r), p.bufferData(p.ARRAY_BUFFER, t, p.STATIC_DRAW), p.bindBuffer(p.ELEMENT_ARRAY_BUFFER, a), p.bufferData(p.ELEMENT_ARRAY_BUFFER, e, p.STATIC_DRAW), c = p.createTexture(), d = p.createTexture(), f.bindTexture(p.TEXTURE_2D, c), p.texImage2D(p.TEXTURE_2D, 0, p.RGB, 16, 16, 0, p.RGB, p.UNSIGNED_BYTE, null), p.texParameteri(p.TEXTURE_2D, p.TEXTURE_WRAP_S, p.CLAMP_TO_EDGE), p.texParameteri(p.TEXTURE_2D, p.TEXTURE_WRAP_T, p.CLAMP_TO_EDGE), p.texParameteri(p.TEXTURE_2D, p.TEXTURE_MAG_FILTER, p.NEAREST), p.texParameteri(p.TEXTURE_2D, p.TEXTURE_MIN_FILTER, p.NEAREST), f.bindTexture(p.TEXTURE_2D, d), p.texImage2D(p.TEXTURE_2D, 0, p.RGBA, 16, 16, 0, p.RGBA, p.UNSIGNED_BYTE, null), p.texParameteri(p.TEXTURE_2D, p.TEXTURE_WRAP_S, p.CLAMP_TO_EDGE), p.texParameteri(p.TEXTURE_2D, p.TEXTURE_WRAP_T, p.CLAMP_TO_EDGE), p.texParameteri(p.TEXTURE_2D, p.TEXTURE_MAG_FILTER, p.NEAREST), p.texParameteri(p.TEXTURE_2D, p.TEXTURE_MIN_FILTER, p.NEAREST), u = p.getParameter(p.MAX_VERTEX_TEXTURE_IMAGE_UNITS) > 0; var i;
                i = u ? { vertexShader: ["uniform lowp int renderType;", "uniform vec3 screenPosition;", "uniform vec2 scale;", "uniform float rotation;", "uniform sampler2D occlusionMap;", "attribute vec2 position;", "attribute vec2 uv;", "varying vec2 vUV;", "varying float vVisibility;", "void main() {", "vUV = uv;", "vec2 pos = position;", "if ( renderType == 2 ) {", "vec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );", "visibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );", "visibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );", "visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );", "visibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );", "visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );", "visibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );", "visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );", "visibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );", "vVisibility =        visibility.r / 9.0;", "vVisibility *= 1.0 - visibility.g / 9.0;", "vVisibility *=       visibility.b / 9.0;", "vVisibility *= 1.0 - visibility.a / 9.0;", "pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;", "pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;", "}", "gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );", "}"].join("\n"), fragmentShader: ["uniform lowp int renderType;", "uniform sampler2D map;", "uniform float opacity;", "uniform vec3 color;", "varying vec2 vUV;", "varying float vVisibility;", "void main() {", "if ( renderType == 0 ) {", "gl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );", "} else if ( renderType == 1 ) {", "gl_FragColor = texture2D( map, vUV );", "} else {", "vec4 texture = texture2D( map, vUV );", "texture.a *= opacity * vVisibility;", "gl_FragColor = texture;", "gl_FragColor.rgb *= color;", "}", "}"].join("\n") } : { vertexShader: ["uniform lowp int renderType;", "uniform vec3 screenPosition;", "uniform vec2 scale;", "uniform float rotation;", "attribute vec2 position;", "attribute vec2 uv;", "varying vec2 vUV;", "void main() {", "vUV = uv;", "vec2 pos = position;", "if ( renderType == 2 ) {", "pos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;", "pos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;", "}", "gl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );", "}"].join("\n"), fragmentShader: ["precision mediump float;", "uniform lowp int renderType;", "uniform sampler2D map;", "uniform sampler2D occlusionMap;", "uniform float opacity;", "uniform vec3 color;", "varying vec2 vUV;", "void main() {", "if ( renderType == 0 ) {", "gl_FragColor = vec4( texture2D( map, vUV ).rgb, 0.0 );", "} else if ( renderType == 1 ) {", "gl_FragColor = texture2D( map, vUV );", "} else {", "float visibility = texture2D( occlusionMap, vec2( 0.5, 0.1 ) ).a;", "visibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) ).a;", "visibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) ).a;", "visibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) ).a;", "visibility = ( 1.0 - visibility / 4.0 );", "vec4 texture = texture2D( map, vUV );", "texture.a *= opacity * visibility;", "gl_FragColor = texture;", "gl_FragColor.rgb *= color;", "}", "}"].join("\n") }, s = n(i), h = { vertex: p.getAttribLocation(s, "position"), uv: p.getAttribLocation(s, "uv") }, l = { renderType: p.getUniformLocation(s, "renderType"), map: p.getUniformLocation(s, "map"), occlusionMap: p.getUniformLocation(s, "occlusionMap"), opacity: p.getUniformLocation(s, "opacity"), color: p.getUniformLocation(s, "color"), scale: p.getUniformLocation(s, "scale"), rotation: p.getUniformLocation(s, "rotation"), screenPosition: p.getUniformLocation(s, "screenPosition") } }

            function n(e) { var i = p.createProgram(),
                    n = p.createShader(p.FRAGMENT_SHADER),
                    r = p.createShader(p.VERTEX_SHADER),
                    o = "precision " + t.getPrecision() + " float;\n"; return p.shaderSource(n, o + e.fragmentShader), p.shaderSource(r, o + e.vertexShader), p.compileShader(n), p.compileShader(r), p.attachShader(i, n), p.attachShader(i, r), p.linkProgram(i), i } var r, a, s, h, l, u, c, d, p = t.context,
                f = t.state;
            this.render = function(n, m, g) { if (0 !== e.length) { var v = new o.Vector3,
                        y = g.w / g.z,
                        _ = .5 * g.z,
                        b = .5 * g.w,
                        x = 16 / g.w,
                        w = new o.Vector2(x * y, x),
                        T = new o.Vector3(1, 1, 0),
                        S = new o.Vector2(1, 1);
                    void 0 === s && i(), p.useProgram(s), f.initAttributes(), f.enableAttribute(h.vertex), f.enableAttribute(h.uv), f.disableUnusedAttributes(), p.uniform1i(l.occlusionMap, 0), p.uniform1i(l.map, 1), p.bindBuffer(p.ARRAY_BUFFER, r), p.vertexAttribPointer(h.vertex, 2, p.FLOAT, !1, 16, 0), p.vertexAttribPointer(h.uv, 2, p.FLOAT, !1, 16, 8), p.bindBuffer(p.ELEMENT_ARRAY_BUFFER, a), f.disable(p.CULL_FACE), f.setDepthWrite(!1); for (var M = 0, E = e.length; M < E; M++) { x = 16 / g.w, w.set(x * y, x); var A = e[M]; if (v.set(A.matrixWorld.elements[12], A.matrixWorld.elements[13], A.matrixWorld.elements[14]), v.applyMatrix4(m.matrixWorldInverse), v.applyProjection(m.projectionMatrix), T.copy(v), S.x = T.x * _ + _, S.y = T.y * b + b, u || S.x > 0 && S.x < g.z && S.y > 0 && S.y < g.w) { f.activeTexture(p.TEXTURE0), f.bindTexture(p.TEXTURE_2D, null), f.activeTexture(p.TEXTURE1), f.bindTexture(p.TEXTURE_2D, c), p.copyTexImage2D(p.TEXTURE_2D, 0, p.RGB, g.x + S.x - 8, g.y + S.y - 8, 16, 16, 0), p.uniform1i(l.renderType, 0), p.uniform2f(l.scale, w.x, w.y), p.uniform3f(l.screenPosition, T.x, T.y, T.z), f.disable(p.BLEND), f.enable(p.DEPTH_TEST), p.drawElements(p.TRIANGLES, 6, p.UNSIGNED_SHORT, 0), f.activeTexture(p.TEXTURE0), f.bindTexture(p.TEXTURE_2D, d), p.copyTexImage2D(p.TEXTURE_2D, 0, p.RGBA, g.x + S.x - 8, g.y + S.y - 8, 16, 16, 0), p.uniform1i(l.renderType, 1), f.disable(p.DEPTH_TEST), f.activeTexture(p.TEXTURE1), f.bindTexture(p.TEXTURE_2D, c), p.drawElements(p.TRIANGLES, 6, p.UNSIGNED_SHORT, 0), A.positionScreen.copy(T), A.customUpdateCallback ? A.customUpdateCallback(A) : A.updateLensFlares(), p.uniform1i(l.renderType, 2), f.enable(p.BLEND); for (var C = 0, R = A.lensFlares.length; C < R; C++) { var P = A.lensFlares[C];
                                P.opacity > .001 && P.scale > .001 && (T.x = P.x, T.y = P.y, T.z = P.z, x = P.size * P.scale / g.w, w.x = x * y, w.y = x, p.uniform3f(l.screenPosition, T.x, T.y, T.z), p.uniform2f(l.scale, w.x, w.y), p.uniform1f(l.rotation, P.rotation), p.uniform1f(l.opacity, P.opacity), p.uniform3f(l.color, P.color.r, P.color.g, P.color.b), f.setBlending(P.blending, P.blendEquation, P.blendSrc, P.blendDst), t.setTexture(P.texture, 1), p.drawElements(p.TRIANGLES, 6, p.UNSIGNED_SHORT, 0)) } } } f.enable(p.CULL_FACE), f.enable(p.DEPTH_TEST), f.setDepthWrite(!0), t.resetGLState() } } }, o.SpritePlugin = function(t, e) {
            function i() { var t = new Float32Array([-.5, -.5, 0, 0, .5, -.5, 1, 0, .5, .5, 1, 1, -.5, .5, 0, 1]),
                    e = new Uint16Array([0, 1, 2, 0, 2, 3]);
                a = d.createBuffer(), s = d.createBuffer(), d.bindBuffer(d.ARRAY_BUFFER, a), d.bufferData(d.ARRAY_BUFFER, t, d.STATIC_DRAW), d.bindBuffer(d.ELEMENT_ARRAY_BUFFER, s), d.bufferData(d.ELEMENT_ARRAY_BUFFER, e, d.STATIC_DRAW), h = n(), l = { position: d.getAttribLocation(h, "position"), uv: d.getAttribLocation(h, "uv") }, u = { uvOffset: d.getUniformLocation(h, "uvOffset"), uvScale: d.getUniformLocation(h, "uvScale"), rotation: d.getUniformLocation(h, "rotation"), scale: d.getUniformLocation(h, "scale"), color: d.getUniformLocation(h, "color"), map: d.getUniformLocation(h, "map"), opacity: d.getUniformLocation(h, "opacity"), modelViewMatrix: d.getUniformLocation(h, "modelViewMatrix"), projectionMatrix: d.getUniformLocation(h, "projectionMatrix"), fogType: d.getUniformLocation(h, "fogType"), fogDensity: d.getUniformLocation(h, "fogDensity"), fogNear: d.getUniformLocation(h, "fogNear"), fogFar: d.getUniformLocation(h, "fogFar"), fogColor: d.getUniformLocation(h, "fogColor"), alphaTest: d.getUniformLocation(h, "alphaTest") }; var i = document.createElement("canvas");
                i.width = 8, i.height = 8; var r = i.getContext("2d");
                r.fillStyle = "white", r.fillRect(0, 0, 8, 8), c = new o.Texture(i), c.needsUpdate = !0 }

            function n() { var e = d.createProgram(),
                    i = d.createShader(d.VERTEX_SHADER),
                    n = d.createShader(d.FRAGMENT_SHADER); return d.shaderSource(i, ["precision " + t.getPrecision() + " float;", "uniform mat4 modelViewMatrix;", "uniform mat4 projectionMatrix;", "uniform float rotation;", "uniform vec2 scale;", "uniform vec2 uvOffset;", "uniform vec2 uvScale;", "attribute vec2 position;", "attribute vec2 uv;", "varying vec2 vUV;", "void main() {", "vUV = uvOffset + uv * uvScale;", "vec2 alignedPosition = position * scale;", "vec2 rotatedPosition;", "rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;", "rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;", "vec4 finalPosition;", "finalPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );", "finalPosition.xy += rotatedPosition;", "finalPosition = projectionMatrix * finalPosition;", "gl_Position = finalPosition;", "}"].join("\n")), d.shaderSource(n, ["precision " + t.getPrecision() + " float;", "uniform vec3 color;", "uniform sampler2D map;", "uniform float opacity;", "uniform int fogType;", "uniform vec3 fogColor;", "uniform float fogDensity;", "uniform float fogNear;", "uniform float fogFar;", "uniform float alphaTest;", "varying vec2 vUV;", "void main() {", "vec4 texture = texture2D( map, vUV );", "if ( texture.a < alphaTest ) discard;", "gl_FragColor = vec4( color * texture.xyz, texture.a * opacity );", "if ( fogType > 0 ) {", "float depth = gl_FragCoord.z / gl_FragCoord.w;", "float fogFactor = 0.0;", "if ( fogType == 1 ) {", "fogFactor = smoothstep( fogNear, fogFar, depth );", "} else {", "const float LOG2 = 1.442695;", "fogFactor = exp2( - fogDensity * fogDensity * depth * depth * LOG2 );", "fogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );", "}", "gl_FragColor = mix( gl_FragColor, vec4( fogColor, gl_FragColor.w ), fogFactor );", "}", "}"].join("\n")), d.compileShader(i), d.compileShader(n), d.attachShader(e, i), d.attachShader(e, n), d.linkProgram(e), e }

            function r(t, e) { return t.renderOrder !== e.renderOrder ? t.renderOrder - e.renderOrder : t.z !== e.z ? e.z - t.z : e.id - t.id } var a, s, h, l, u, c, d = t.context,
                p = t.state,
                f = new o.Vector3,
                m = new o.Quaternion,
                g = new o.Vector3;
            this.render = function(n, v) { if (0 !== e.length) { void 0 === h && i(), d.useProgram(h), p.initAttributes(), p.enableAttribute(l.position), p.enableAttribute(l.uv), p.disableUnusedAttributes(), p.disable(d.CULL_FACE), p.enable(d.BLEND), d.bindBuffer(d.ARRAY_BUFFER, a), d.vertexAttribPointer(l.position, 2, d.FLOAT, !1, 16, 0), d.vertexAttribPointer(l.uv, 2, d.FLOAT, !1, 16, 8), d.bindBuffer(d.ELEMENT_ARRAY_BUFFER, s), d.uniformMatrix4fv(u.projectionMatrix, !1, v.projectionMatrix.elements), p.activeTexture(d.TEXTURE0), d.uniform1i(u.map, 0); var y = 0,
                        _ = 0,
                        b = n.fog;
                    b ? (d.uniform3f(u.fogColor, b.color.r, b.color.g, b.color.b), b instanceof o.Fog ? (d.uniform1f(u.fogNear, b.near), d.uniform1f(u.fogFar, b.far), d.uniform1i(u.fogType, 1), y = 1, _ = 1) : b instanceof o.FogExp2 && (d.uniform1f(u.fogDensity, b.density), d.uniform1i(u.fogType, 2), y = 2, _ = 2)) : (d.uniform1i(u.fogType, 0), y = 0, _ = 0); for (var x = 0, w = e.length; x < w; x++) { var T = e[x];
                        T.modelViewMatrix.multiplyMatrices(v.matrixWorldInverse, T.matrixWorld), T.z = -T.modelViewMatrix.elements[14] } e.sort(r); for (var S = [], x = 0, w = e.length; x < w; x++) { var T = e[x],
                            M = T.material;
                        d.uniform1f(u.alphaTest, M.alphaTest), d.uniformMatrix4fv(u.modelViewMatrix, !1, T.modelViewMatrix.elements), T.matrixWorld.decompose(f, m, g), S[0] = g.x, S[1] = g.y; var E = 0;
                        n.fog && M.fog && (E = _), y !== E && (d.uniform1i(u.fogType, E), y = E), null !== M.map ? (d.uniform2f(u.uvOffset, M.map.offset.x, M.map.offset.y), d.uniform2f(u.uvScale, M.map.repeat.x, M.map.repeat.y)) : (d.uniform2f(u.uvOffset, 0, 0), d.uniform2f(u.uvScale, 1, 1)), d.uniform1f(u.opacity, M.opacity), d.uniform3f(u.color, M.color.r, M.color.g, M.color.b), d.uniform1f(u.rotation, M.rotation), d.uniform2fv(u.scale, S), p.setBlending(M.blending, M.blendEquation, M.blendSrc, M.blendDst), p.setDepthTest(M.depthTest), p.setDepthWrite(M.depthWrite), M.map && M.map.image && M.map.image.width ? t.setTexture(M.map, 0) : t.setTexture(c, 0), d.drawElements(d.TRIANGLES, 6, d.UNSIGNED_SHORT, 0) } p.enable(d.CULL_FACE), t.resetGLState() } } }, Object.defineProperties(o.Box2.prototype, { empty: { value: function() { return this.isEmpty() } }, isIntersectionBox: { value: function(t) { return this.intersectsBox(t) } } }), Object.defineProperties(o.Box3.prototype, { empty: { value: function() { return this.isEmpty() } }, isIntersectionBox: { value: function(t) { return this.intersectsBox(t) } }, isIntersectionSphere: { value: function(t) { return this.intersectsSphere(t) } } }), Object.defineProperties(o.Matrix3.prototype, { multiplyVector3: { value: function(t) { return t.applyMatrix3(this) } }, multiplyVector3Array: { value: function(t) { return this.applyToVector3Array(t) } } }), Object.defineProperties(o.Matrix4.prototype, { extractPosition: { value: function(t) { return this.copyPosition(t) } }, setRotationFromQuaternion: { value: function(t) { return this.makeRotationFromQuaternion(t) } }, multiplyVector3: { value: function(t) { return t.applyProjection(this) } }, multiplyVector4: { value: function(t) { return t.applyMatrix4(this) } }, multiplyVector3Array: { value: function(t) { return this.applyToVector3Array(t) } }, rotateAxis: { value: function(t) { t.transformDirection(this) } }, crossVector: { value: function(t) { return t.applyMatrix4(this) } }, translate: { value: function(t) {} }, rotateX: { value: function(t) {} }, rotateY: { value: function(t) {} }, rotateZ: { value: function(t) {} }, rotateByAxis: { value: function(t, e) {} } }), Object.defineProperties(o.Plane.prototype, { isIntersectionLine: { value: function(t) { return this.intersectsLine(t) } } }), Object.defineProperties(o.Quaternion.prototype, { multiplyVector3: { value: function(t) { return t.applyQuaternion(this) } } }), Object.defineProperties(o.Ray.prototype, { isIntersectionBox: { value: function(t) { return this.intersectsBox(t) } }, isIntersectionPlane: { value: function(t) { return this.intersectsPlane(t) } }, isIntersectionSphere: { value: function(t) { return this.intersectsSphere(t) } } }), Object.defineProperties(o.Vector3.prototype, { setEulerFromRotationMatrix: { value: function() {} }, setEulerFromQuaternion: { value: function() {} }, getPositionFromMatrix: { value: function(t) { return this.setFromMatrixPosition(t) } }, getScaleFromMatrix: { value: function(t) { return this.setFromMatrixScale(t) } }, getColumnFromMatrix: { value: function(t, e) { return this.setFromMatrixColumn(t, e) } } }), o.Face4 = function(t, e, i, n, r, a, s) { return new o.Face3(t, e, i, r, a, s) }, o.Vertex = function(t, e, i) { return new o.Vector3(t, e, i) }, Object.defineProperties(o.Object3D.prototype, { eulerOrder: { get: function() { return this.rotation.order }, set: function(t) { this.rotation.order = t } }, getChildByName: { value: function(t) { return this.getObjectByName(t) } }, renderDepth: { set: function(t) {} }, translate: { value: function(t, e) { return this.translateOnAxis(e, t) } }, useQuaternion: { get: function() {}, set: function(t) {} } }), Object.defineProperties(o, { PointCloud: { value: function(t, e) { return new o.Points(t, e) } }, ParticleSystem: { value: function(t, e) { return new o.Points(t, e) } } }), Object.defineProperties(o.Light.prototype, { onlyShadow: { set: function(t) {} }, shadowCameraFov: { set: function(t) { this.shadow.camera.fov = t } }, shadowCameraLeft: { set: function(t) { this.shadow.camera.left = t } }, shadowCameraRight: { set: function(t) { this.shadow.camera.right = t } }, shadowCameraTop: { set: function(t) { this.shadow.camera.top = t } }, shadowCameraBottom: { set: function(t) { this.shadow.camera.bottom = t } }, shadowCameraNear: { set: function(t) { this.shadow.camera.near = t } }, shadowCameraFar: { set: function(t) { this.shadow.camera.far = t } }, shadowCameraVisible: { set: function(t) {} }, shadowBias: { set: function(t) { this.shadow.bias = t } }, shadowDarkness: { set: function(t) {} }, shadowMapWidth: { set: function(t) { this.shadow.mapSize.width = t } }, shadowMapHeight: { set: function(t) { this.shadow.mapSize.height = t } } }), Object.defineProperties(o.BufferAttribute.prototype, { length: { get: function() { return this.array.length } } }), Object.defineProperties(o.BufferGeometry.prototype, { drawcalls: { get: function() { return this.groups } }, offsets: { get: function() { return this.groups } }, addIndex: { value: function(t) { this.setIndex(t) } }, addDrawCall: { value: function(t, e, i) { this.addGroup(t, e) } }, clearDrawCalls: { value: function() { this.clearGroups() } }, computeTangents: { value: function() {} }, computeOffsets: { value: function() {} } }), Object.defineProperties(o.Material.prototype, { wrapAround: { get: function() {}, set: function(t) {} }, wrapRGB: { get: function() { return new o.Color } } }), Object.defineProperties(o, { PointCloudMaterial: { value: function(t) { return new o.PointsMaterial(t) } }, ParticleBasicMaterial: { value: function(t) { return new o.PointsMaterial(t) } }, ParticleSystemMaterial: { value: function(t) { return new o.PointsMaterial(t) } } }), Object.defineProperties(o.MeshPhongMaterial.prototype, { metal: { get: function() { return !1 }, set: function(t) {} } }), Object.defineProperties(o.ShaderMaterial.prototype, { derivatives: { get: function() { return this.extensions.derivatives }, set: function(t) { this.extensions.derivatives = t } } }), Object.defineProperties(o.WebGLRenderer.prototype, { supportsFloatTextures: { value: function() { return this.extensions.get("OES_texture_float") } }, supportsHalfFloatTextures: { value: function() { return this.extensions.get("OES_texture_half_float") } }, supportsStandardDerivatives: { value: function() { return this.extensions.get("OES_standard_derivatives") } }, supportsCompressedTextureS3TC: { value: function() { return this.extensions.get("WEBGL_compressed_texture_s3tc") } }, supportsCompressedTexturePVRTC: { value: function() { return this.extensions.get("WEBGL_compressed_texture_pvrtc") } }, supportsBlendMinMax: { value: function() { return this.extensions.get("EXT_blend_minmax") } }, supportsVertexTextures: { value: function() { return this.capabilities.vertexTextures } }, supportsInstancedArrays: { value: function() { return this.extensions.get("ANGLE_instanced_arrays") } }, enableScissorTest: { value: function(t) { this.setScissorTest(t) } }, initMaterial: { value: function() {} }, addPrePlugin: { value: function() {} }, addPostPlugin: { value: function() {} }, updateShadowMap: { value: function() {} }, shadowMapEnabled: { get: function() { return this.shadowMap.enabled }, set: function(t) { this.shadowMap.enabled = t } }, shadowMapType: { get: function() { return this.shadowMap.type }, set: function(t) { this.shadowMap.type = t } }, shadowMapCullFace: { get: function() { return this.shadowMap.cullFace }, set: function(t) { this.shadowMap.cullFace = t } } }), Object.defineProperties(o.WebGLRenderTarget.prototype, { wrapS: { get: function() { return this.texture.wrapS }, set: function(t) { this.texture.wrapS = t } }, wrapT: { get: function() { return this.texture.wrapT }, set: function(t) { this.texture.wrapT = t } }, magFilter: { get: function() { return this.texture.magFilter }, set: function(t) { this.texture.magFilter = t } }, minFilter: { get: function() { return this.texture.minFilter }, set: function(t) { this.texture.minFilter = t } }, anisotropy: { get: function() { return this.texture.anisotropy }, set: function(t) { this.texture.anisotropy = t } }, offset: { get: function() { return this.texture.offset }, set: function(t) { this.texture.offset = t } }, repeat: { get: function() { return this.texture.repeat }, set: function(t) { this.texture.repeat = t } }, format: { get: function() { return this.texture.format }, set: function(t) { this.texture.format = t } }, type: { get: function() { return this.texture.type }, set: function(t) { this.texture.type = t } }, generateMipmaps: { get: function() { return this.texture.generateMipmaps }, set: function(t) { this.texture.generateMipmaps = t } } }), o.GeometryUtils = { merge: function(t, e, i) { var n;
                e instanceof o.Mesh && (e.matrixAutoUpdate && e.updateMatrix(), n = e.matrix, e = e.geometry), t.merge(e, n, i) }, center: function(t) { return t.center() } }, o.ImageUtils = { crossOrigin: void 0, loadTexture: function(t, e, i, n) { var r = new o.TextureLoader;
                r.setCrossOrigin(this.crossOrigin); var a = r.load(t, i, void 0, n); return e && (a.mapping = e), a }, loadTextureCube: function(t, e, i, n) { var r = new o.CubeTextureLoader;
                r.setCrossOrigin(this.crossOrigin); var a = r.load(t, i, void 0, n); return e && (a.mapping = e), a }, loadCompressedTexture: function() {}, loadCompressedTextureCube: function() {} }, o.Projector = function() { this.projectVector = function(t, e) { t.project(e) }, this.unprojectVector = function(t, e) { t.unproject(e) }, this.pickingRay = function(t, e) {} }, o.CanvasRenderer = function() { this.domElement = document.createElement("canvas"), this.clear = function() {}, this.render = function() {}, this.setClearColor = function() {}, this.setSize = function() {} }, o.MeshFaceMaterial = o.MultiMaterial, o.CurveUtils = { tangentQuadraticBezier: function(t, e, i, n) { return 2 * (1 - t) * (i - e) + 2 * t * (n - i) }, tangentCubicBezier: function(t, e, i, n, r) { return -3 * e * (1 - t) * (1 - t) + 3 * i * (1 - t) * (1 - t) - 6 * t * i * (1 - t) + 6 * t * n * (1 - t) - 3 * t * t * n + 3 * t * t * r }, tangentSpline: function(t, e, i, n, r) { var o = 6 * t * t - 6 * t,
                    a = 3 * t * t - 4 * t + 1,
                    s = -6 * t * t + 6 * t,
                    h = 3 * t * t - 2 * t; return o + a + s + h }, interpolate: function(t, e, i, n, r) { var o = .5 * (i - t),
                    a = .5 * (n - e),
                    s = r * r,
                    h = r * s; return (2 * e - 2 * i + o + a) * h + (-3 * e + 3 * i - 2 * o - a) * s + o * r + e } }, o.SceneUtils = { createMultiMaterialObject: function(t, e) { for (var i = new o.Group, n = 0, r = e.length; n < r; n++) i.add(new o.Mesh(t, e[n])); return i }, detach: function(t, e, i) { t.applyMatrix(e.matrixWorld), e.remove(t), i.add(t) }, attach: function(t, e, i) { var n = new o.Matrix4;
                n.getInverse(i.matrixWorld), t.applyMatrix(n), e.remove(t), i.add(t) } }, o.ShapeUtils = { area: function(t) { for (var e = t.length, i = 0, n = e - 1, r = 0; r < e; n = r++) i += t[n].x * t[r].y - t[r].x * t[n].y; return .5 * i }, triangulate: function() {
                function t(t, e, i, n, r, o) { var a, s, h, l, u, c, d, p, f; if (s = t[o[e]].x, h = t[o[e]].y, l = t[o[i]].x, u = t[o[i]].y, c = t[o[n]].x, d = t[o[n]].y, Number.EPSILON > (l - s) * (d - h) - (u - h) * (c - s)) return !1; var m, g, v, y, _, b, x, w, T, S, M, E, A, C, R; for (m = c - l, g = d - u, v = s - c, y = h - d, _ = l - s, b = u - h, a = 0; a < r; a++)
                        if (p = t[o[a]].x, f = t[o[a]].y, !(p === s && f === h || p === l && f === u || p === c && f === d) && (x = p - s, w = f - h, T = p - l, S = f - u, M = p - c, E = f - d, R = m * S - g * T, A = _ * w - b * x, C = v * E - y * M, R >= -Number.EPSILON && C >= -Number.EPSILON && A >= -Number.EPSILON)) return !1; return !0 } return function(e, i) { var n = e.length; if (n < 3) return null; var r, a, s, h = [],
                        l = [],
                        u = []; if (o.ShapeUtils.area(e) > 0)
                        for (a = 0; a < n; a++) l[a] = a;
                    else
                        for (a = 0; a < n; a++) l[a] = n - 1 - a; var c = n,
                        d = 2 * c; for (a = c - 1; c > 2;) { if (d-- <= 0) return i ? u : h; if (r = a, c <= r && (r = 0), a = r + 1, c <= a && (a = 0), s = a + 1, c <= s && (s = 0), t(e, r, a, s, c, l)) { var p, f, m, g, v; for (p = l[r], f = l[a], m = l[s], h.push([e[p], e[f], e[m]]), u.push([l[r], l[a], l[s]]), g = a, v = a + 1; v < c; g++, v++) l[g] = l[v];
                            c--, d = 2 * c } } return i ? u : h } }(), triangulateShape: function(t, e) {
                function i(t, e, i) { return t.x !== e.x ? t.x < e.x ? t.x <= i.x && i.x <= e.x : e.x <= i.x && i.x <= t.x : t.y < e.y ? t.y <= i.y && i.y <= e.y : e.y <= i.y && i.y <= t.y }

                function n(t, e, n, r, o) { var a = e.x - t.x,
                        s = e.y - t.y,
                        h = r.x - n.x,
                        l = r.y - n.y,
                        u = t.x - n.x,
                        c = t.y - n.y,
                        d = s * h - a * l,
                        p = s * u - a * c; if (Math.abs(d) > Number.EPSILON) { var f; if (d > 0) { if (p < 0 || p > d) return []; if (f = l * u - h * c, f < 0 || f > d) return [] } else { if (p > 0 || p < d) return []; if (f = l * u - h * c, f > 0 || f < d) return [] } if (0 === f) return !o || 0 !== p && p !== d ? [t] : []; if (f === d) return !o || 0 !== p && p !== d ? [e] : []; if (0 === p) return [n]; if (p === d) return [r]; var m = f / d; return [{ x: t.x + m * a, y: t.y + m * s }] } if (0 !== p || l * u !== h * c) return []; var g = 0 === a && 0 === s,
                        v = 0 === h && 0 === l; if (g && v) return t.x !== n.x || t.y !== n.y ? [] : [t]; if (g) return i(n, r, t) ? [t] : []; if (v) return i(t, e, n) ? [n] : []; var y, _, b, x, w, T, S, M; return 0 !== a ? (t.x < e.x ? (y = t, b = t.x, _ = e, x = e.x) : (y = e, b = e.x, _ = t, x = t.x), n.x < r.x ? (w = n, S = n.x, T = r, M = r.x) : (w = r, S = r.x, T = n, M = n.x)) : (t.y < e.y ? (y = t, b = t.y, _ = e, x = e.y) : (y = e, b = e.y, _ = t, x = t.y), n.y < r.y ? (w = n, S = n.y, T = r, M = r.y) : (w = r, S = r.y, T = n, M = n.y)), b <= S ? x < S ? [] : x === S ? o ? [] : [w] : x <= M ? [w, _] : [w, T] : b > M ? [] : b === M ? o ? [] : [y] : x <= M ? [y, _] : [y, T] }

                function r(t, e, i, n) { var r = e.x - t.x,
                        o = e.y - t.y,
                        a = i.x - t.x,
                        s = i.y - t.y,
                        h = n.x - t.x,
                        l = n.y - t.y,
                        u = r * s - o * a,
                        c = r * l - o * h; if (Math.abs(u) > Number.EPSILON) { var d = h * s - l * a; return u > 0 ? c >= 0 && d >= 0 : c >= 0 || d >= 0 } return c > 0 }

                function a(t, e) {
                    function i(t, e) { var i = y.length - 1,
                            n = t - 1;
                        n < 0 && (n = i); var o = t + 1;
                        o > i && (o = 0); var a = r(y[t], y[n], y[o], s[e]); if (!a) return !1; var h = s.length - 1,
                            l = e - 1;
                        l < 0 && (l = h); var u = e + 1; return u > h && (u = 0), a = r(s[e], s[l], s[u], y[t]), !!a }

                    function o(t, e) { var i, r, o; for (i = 0; i < y.length; i++)
                            if (r = i + 1, r %= y.length, o = n(t, e, y[i], y[r], !0), o.length > 0) return !0; return !1 }

                    function a(t, i) { var r, o, a, s, h; for (r = 0; r < _.length; r++)
                            for (o = e[_[r]], a = 0; a < o.length; a++)
                                if (s = a + 1, s %= o.length, h = n(t, i, o[a], o[s], !0), h.length > 0) return !0; return !1 } for (var s, h, l, u, c, d, p, f, m, g, v, y = t.concat(), _ = [], b = [], x = 0, w = e.length; x < w; x++) _.push(x); for (var T = 0, S = 2 * _.length; _.length > 0 && (S--, !(S < 0));)
                        for (l = T; l < y.length; l++) { u = y[l], h = -1; for (var x = 0; x < _.length; x++)
                                if (d = _[x], p = u.x + ":" + u.y + ":" + d, void 0 === b[p]) { s = e[d]; for (var M = 0; M < s.length; M++)
                                        if (c = s[M], i(l, M) && !o(u, c) && !a(u, c)) { h = M, _.splice(x, 1), f = y.slice(0, l + 1), m = y.slice(l), g = s.slice(h), v = s.slice(0, h + 1), y = f.concat(g).concat(v).concat(m), T = l; break } if (h >= 0) break;
                                    b[p] = !0 } if (h >= 0) break }
                    return y } for (var s, h, l, u, c, d, p = {}, f = t.concat(), m = 0, g = e.length; m < g; m++) Array.prototype.push.apply(f, e[m]); for (s = 0, h = f.length; s < h; s++) c = f[s].x + ":" + f[s].y, void 0 !== p[c], p[c] = s; var v = a(t, e),
                    y = o.ShapeUtils.triangulate(v, !1); for (s = 0, h = y.length; s < h; s++)
                    for (u = y[s], l = 0; l < 3; l++) c = u[l].x + ":" + u[l].y, d = p[c], void 0 !== d && (u[l] = d); return y.concat() }, isClockWise: function(t) { return o.ShapeUtils.area(t) < 0 }, b2: function() {
                function t(t, e) { var i = 1 - t; return i * i * e }

                function e(t, e) { return 2 * (1 - t) * t * e }

                function i(t, e) { return t * t * e } return function(n, r, o, a) { return t(n, r) + e(n, o) + i(n, a) } }(), b3: function() {
                function t(t, e) { var i = 1 - t; return i * i * i * e }

                function e(t, e) { var i = 1 - t; return 3 * i * i * t * e }

                function i(t, e) { var i = 1 - t; return 3 * i * t * t * e }

                function n(t, e) { return t * t * t * e } return function(r, o, a, s, h) { return t(r, o) + e(r, a) + i(r, s) + n(r, h) } }() }, o.Curve = function() {}, o.Curve.prototype = { constructor: o.Curve, getPoint: function(t) { return null }, getPointAt: function(t) { var e = this.getUtoTmapping(t); return this.getPoint(e) }, getPoints: function(t) { t || (t = 5); var e, i = []; for (e = 0; e <= t; e++) i.push(this.getPoint(e / t)); return i }, getSpacedPoints: function(t) { t || (t = 5); var e, i = []; for (e = 0; e <= t; e++) i.push(this.getPointAt(e / t)); return i }, getLength: function() { var t = this.getLengths(); return t[t.length - 1] }, getLengths: function(t) { if (t || (t = this.__arcLengthDivisions ? this.__arcLengthDivisions : 200), this.cacheArcLengths && this.cacheArcLengths.length === t + 1 && !this.needsUpdate) return this.cacheArcLengths;
                this.needsUpdate = !1; var e, i, n = [],
                    r = this.getPoint(0),
                    o = 0; for (n.push(0), i = 1; i <= t; i++) e = this.getPoint(i / t), o += e.distanceTo(r), n.push(o), r = e; return this.cacheArcLengths = n, n }, updateArcLengths: function() { this.needsUpdate = !0, this.getLengths() }, getUtoTmapping: function(t, e) { var i, n = this.getLengths(),
                    r = 0,
                    o = n.length;
                i = e ? e : t * n[o - 1]; for (var a, s = 0, h = o - 1; s <= h;)
                    if (r = Math.floor(s + (h - s) / 2), a = n[r] - i, a < 0) s = r + 1;
                    else { if (!(a > 0)) { h = r; break } h = r - 1 } if (r = h, n[r] === i) { var l = r / (o - 1); return l } var u = n[r],
                    c = n[r + 1],
                    d = c - u,
                    p = (i - u) / d,
                    l = (r + p) / (o - 1); return l }, getTangent: function(t) { var e = 1e-4,
                    i = t - e,
                    n = t + e;
                i < 0 && (i = 0), n > 1 && (n = 1); var r = this.getPoint(i),
                    o = this.getPoint(n),
                    a = o.clone().sub(r); return a.normalize() }, getTangentAt: function(t) { var e = this.getUtoTmapping(t); return this.getTangent(e) } }, o.Curve.create = function(t, e) { return t.prototype = Object.create(o.Curve.prototype), t.prototype.constructor = t, t.prototype.getPoint = e, t }, o.CurvePath = function() { this.curves = [], this.autoClose = !1 }, o.CurvePath.prototype = Object.create(o.Curve.prototype), o.CurvePath.prototype.constructor = o.CurvePath, o.CurvePath.prototype.add = function(t) { this.curves.push(t) }, o.CurvePath.prototype.closePath = function() { var t = this.curves[0].getPoint(0),
                e = this.curves[this.curves.length - 1].getPoint(1);
            t.equals(e) || this.curves.push(new o.LineCurve(e, t)) }, o.CurvePath.prototype.getPoint = function(t) { for (var e = t * this.getLength(), i = this.getCurveLengths(), n = 0; n < i.length;) { if (i[n] >= e) { var r = i[n] - e,
                        o = this.curves[n],
                        a = 1 - r / o.getLength(); return o.getPointAt(a) } n++ } return null }, o.CurvePath.prototype.getLength = function() { var t = this.getCurveLengths(); return t[t.length - 1] }, o.CurvePath.prototype.getCurveLengths = function() { if (this.cacheLengths && this.cacheLengths.length === this.curves.length) return this.cacheLengths; for (var t = [], e = 0, i = 0, n = this.curves.length; i < n; i++) e += this.curves[i].getLength(), t.push(e); return this.cacheLengths = t, t }, o.CurvePath.prototype.createPointsGeometry = function(t) { var e = this.getPoints(t); return this.createGeometry(e) }, o.CurvePath.prototype.createSpacedPointsGeometry = function(t) { var e = this.getSpacedPoints(t); return this.createGeometry(e) }, o.CurvePath.prototype.createGeometry = function(t) { for (var e = new o.Geometry, i = 0, n = t.length; i < n; i++) { var r = t[i];
                e.vertices.push(new o.Vector3(r.x, r.y, r.z || 0)) } return e }, o.Font = function(t) { this.data = t }, o.Font.prototype = { constructor: o.Font, generateShapes: function(t, e, i) {
                function n(t) { for (var i = String(t).split(""), n = e / a.resolution, o = 0, s = [], h = 0; h < i.length; h++) { var l = r(i[h], n, o);
                        o += l.offset, s.push(l.path) } return s }

                function r(t, e, n) { var r = a.glyphs[t] || a.glyphs["?"]; if (r) { var s, h, l, u, c, d, p, f, m, g, v, y = new o.Path,
                            _ = [],
                            b = o.ShapeUtils.b2,
                            x = o.ShapeUtils.b3; if (r.o)
                            for (var w = r._cachedOutline || (r._cachedOutline = r.o.split(" ")), T = 0, S = w.length; T < S;) { var M = w[T++]; switch (M) {
                                    case "m":
                                        s = w[T++] * e + n, h = w[T++] * e, y.moveTo(s, h); break;
                                    case "l":
                                        s = w[T++] * e + n, h = w[T++] * e, y.lineTo(s, h); break;
                                    case "q":
                                        if (l = w[T++] * e + n, u = w[T++] * e, p = w[T++] * e + n, f = w[T++] * e, y.quadraticCurveTo(p, f, l, u), v = _[_.length - 1]) { c = v.x, d = v.y; for (var E = 1; E <= i; E++) { var A = E / i;
                                                b(A, c, p, l), b(A, d, f, u) } } break;
                                    case "b":
                                        if (l = w[T++] * e + n, u = w[T++] * e, p = w[T++] * e + n, f = w[T++] * e, m = w[T++] * e + n, g = w[T++] * e, y.bezierCurveTo(p, f, m, g, l, u), v = _[_.length - 1]) { c = v.x, d = v.y; for (var E = 1; E <= i; E++) { var A = E / i;
                                                x(A, c, p, m, l), x(A, d, f, g, u) } } } }
                        return { offset: r.ha * e, path: y } } } void 0 === e && (e = 100), void 0 === i && (i = 4); for (var a = this.data, s = n(t), h = [], l = 0, u = s.length; l < u; l++) Array.prototype.push.apply(h, s[l].toShapes()); return h } }, o.Path = function(t) { o.CurvePath.call(this), this.actions = [], t && this.fromPoints(t) }, o.Path.prototype = Object.create(o.CurvePath.prototype),
        o.Path.prototype.constructor = o.Path, o.Path.prototype.fromPoints = function(t) { this.moveTo(t[0].x, t[0].y); for (var e = 1, i = t.length; e < i; e++) this.lineTo(t[e].x, t[e].y) }, o.Path.prototype.moveTo = function(t, e) { this.actions.push({ action: "moveTo", args: [t, e] }) }, o.Path.prototype.lineTo = function(t, e) { var i = this.actions[this.actions.length - 1].args,
                n = i[i.length - 2],
                r = i[i.length - 1],
                a = new o.LineCurve(new o.Vector2(n, r), new o.Vector2(t, e));
            this.curves.push(a), this.actions.push({ action: "lineTo", args: [t, e] }) }, o.Path.prototype.quadraticCurveTo = function(t, e, i, n) { var r = this.actions[this.actions.length - 1].args,
                a = r[r.length - 2],
                s = r[r.length - 1],
                h = new o.QuadraticBezierCurve(new o.Vector2(a, s), new o.Vector2(t, e), new o.Vector2(i, n));
            this.curves.push(h), this.actions.push({ action: "quadraticCurveTo", args: [t, e, i, n] }) }, o.Path.prototype.bezierCurveTo = function(t, e, i, n, r, a) { var s = this.actions[this.actions.length - 1].args,
                h = s[s.length - 2],
                l = s[s.length - 1],
                u = new o.CubicBezierCurve(new o.Vector2(h, l), new o.Vector2(t, e), new o.Vector2(i, n), new o.Vector2(r, a));
            this.curves.push(u), this.actions.push({ action: "bezierCurveTo", args: [t, e, i, n, r, a] }) }, o.Path.prototype.splineThru = function(t) { var e = Array.prototype.slice.call(arguments),
                i = this.actions[this.actions.length - 1].args,
                n = i[i.length - 2],
                r = i[i.length - 1],
                a = [new o.Vector2(n, r)];
            Array.prototype.push.apply(a, t); var s = new o.SplineCurve(a);
            this.curves.push(s), this.actions.push({ action: "splineThru", args: e }) }, o.Path.prototype.arc = function(t, e, i, n, r, o) { var a = this.actions[this.actions.length - 1].args,
                s = a[a.length - 2],
                h = a[a.length - 1];
            this.absarc(t + s, e + h, i, n, r, o) }, o.Path.prototype.absarc = function(t, e, i, n, r, o) { this.absellipse(t, e, i, i, n, r, o) }, o.Path.prototype.ellipse = function(t, e, i, n, r, o, a, s) { var h = this.actions[this.actions.length - 1].args,
                l = h[h.length - 2],
                u = h[h.length - 1];
            this.absellipse(t + l, e + u, i, n, r, o, a, s) }, o.Path.prototype.absellipse = function(t, e, i, n, r, a, s, h) { var l = [t, e, i, n, r, a, s, h || 0],
                u = new o.EllipseCurve(t, e, i, n, r, a, s, h);
            this.curves.push(u); var c = u.getPoint(1);
            l.push(c.x), l.push(c.y), this.actions.push({ action: "ellipse", args: l }) }, o.Path.prototype.getSpacedPoints = function(t) { t || (t = 40); for (var e = [], i = 0; i < t; i++) e.push(this.getPoint(i / t)); return this.autoClose && e.push(e[0]), e }, o.Path.prototype.getPoints = function(t) { t = t || 12; for (var e, i, n, r, a, s, h, l, u, c, d, p = o.ShapeUtils.b2, f = o.ShapeUtils.b3, m = [], g = 0, v = this.actions.length; g < v; g++) { var y = this.actions[g],
                    _ = y.action,
                    b = y.args; switch (_) {
                    case "moveTo":
                        m.push(new o.Vector2(b[0], b[1])); break;
                    case "lineTo":
                        m.push(new o.Vector2(b[0], b[1])); break;
                    case "quadraticCurveTo":
                        e = b[2], i = b[3], a = b[0], s = b[1], m.length > 0 ? (u = m[m.length - 1], h = u.x, l = u.y) : (u = this.actions[g - 1].args, h = u[u.length - 2], l = u[u.length - 1]); for (var x = 1; x <= t; x++) { var w = x / t;
                            c = p(w, h, a, e), d = p(w, l, s, i), m.push(new o.Vector2(c, d)) } break;
                    case "bezierCurveTo":
                        e = b[4], i = b[5], a = b[0], s = b[1], n = b[2], r = b[3], m.length > 0 ? (u = m[m.length - 1], h = u.x, l = u.y) : (u = this.actions[g - 1].args, h = u[u.length - 2], l = u[u.length - 1]); for (var x = 1; x <= t; x++) { var w = x / t;
                            c = f(w, h, a, n, e), d = f(w, l, s, r, i), m.push(new o.Vector2(c, d)) } break;
                    case "splineThru":
                        u = this.actions[g - 1].args; var T = new o.Vector2(u[u.length - 2], u[u.length - 1]),
                            S = [T],
                            M = t * b[0].length;
                        S = S.concat(b[0]); for (var E = new o.SplineCurve(S), x = 1; x <= M; x++) m.push(E.getPointAt(x / M)); break;
                    case "arc":
                        for (var A, C = b[0], R = b[1], P = b[2], O = b[3], L = b[4], I = !!b[5], D = L - O, k = 2 * t, x = 1; x <= k; x++) { var w = x / k;
                            I || (w = 1 - w), A = O + w * D, c = C + P * Math.cos(A), d = R + P * Math.sin(A), m.push(new o.Vector2(c, d)) } break;
                    case "ellipse":
                        var A, B, N, C = b[0],
                            R = b[1],
                            F = b[2],
                            U = b[3],
                            O = b[4],
                            L = b[5],
                            I = !!b[6],
                            G = b[7],
                            D = L - O,
                            k = 2 * t;
                        0 !== G && (B = Math.cos(G), N = Math.sin(G)); for (var x = 1; x <= k; x++) { var w = x / k; if (I || (w = 1 - w), A = O + w * D, c = C + F * Math.cos(A), d = R + U * Math.sin(A), 0 !== G) { var j = c,
                                    z = d;
                                c = (j - C) * B - (z - R) * N + C, d = (j - C) * N + (z - R) * B + R } m.push(new o.Vector2(c, d)) } } } var V = m[m.length - 1]; return Math.abs(V.x - m[0].x) < Number.EPSILON && Math.abs(V.y - m[0].y) < Number.EPSILON && m.splice(m.length - 1, 1), this.autoClose && m.push(m[0]), m }, o.Path.prototype.toShapes = function(t, e) {
            function i(t) { for (var e = [], i = new o.Path, n = 0, r = t.length; n < r; n++) { var a = t[n],
                        s = a.args,
                        h = a.action; "moveTo" === h && 0 !== i.actions.length && (e.push(i), i = new o.Path), i[h].apply(i, s) } return 0 !== i.actions.length && e.push(i), e }

            function n(t) { for (var e = [], i = 0, n = t.length; i < n; i++) { var r = t[i],
                        a = new o.Shape;
                    a.actions = r.actions, a.curves = r.curves, e.push(a) } return e }

            function r(t, e) { for (var i = e.length, n = !1, r = i - 1, o = 0; o < i; r = o++) { var a = e[r],
                        s = e[o],
                        h = s.x - a.x,
                        l = s.y - a.y; if (Math.abs(l) > Number.EPSILON) { if (l < 0 && (a = e[o], h = -h, s = e[r], l = -l), t.y < a.y || t.y > s.y) continue; if (t.y === a.y) { if (t.x === a.x) return !0 } else { var u = l * (t.x - a.x) - h * (t.y - a.y); if (0 === u) return !0; if (u < 0) continue;
                            n = !n } } else { if (t.y !== a.y) continue; if (s.x <= t.x && t.x <= a.x || a.x <= t.x && t.x <= s.x) return !0 } } return n } var a = o.ShapeUtils.isClockWise,
                s = i(this.actions); if (0 === s.length) return []; if (e === !0) return n(s); var h, l, u, c = []; if (1 === s.length) return l = s[0], u = new o.Shape, u.actions = l.actions, u.curves = l.curves, c.push(u), c; var d = !a(s[0].getPoints());
            d = t ? !d : d; var p, f = [],
                m = [],
                g = [],
                v = 0;
            m[v] = void 0, g[v] = []; for (var y = 0, _ = s.length; y < _; y++) l = s[y], p = l.getPoints(), h = a(p), h = t ? !h : h, h ? (!d && m[v] && v++, m[v] = { s: new o.Shape, p: p }, m[v].s.actions = l.actions, m[v].s.curves = l.curves, d && v++, g[v] = []) : g[v].push({ h: l, p: p[0] }); if (!m[0]) return n(s); if (m.length > 1) { for (var b = !1, x = [], w = 0, T = m.length; w < T; w++) f[w] = []; for (var w = 0, T = m.length; w < T; w++)
                    for (var S = g[w], M = 0; M < S.length; M++) { for (var E = S[M], A = !0, C = 0; C < m.length; C++) r(E.p, m[C].p) && (w !== C && x.push({ froms: w, tos: C, hole: M }), A ? (A = !1, f[C].push(E)) : b = !0);
                        A && f[w].push(E) } x.length > 0 && (b || (g = f)) } for (var R, y = 0, P = m.length; y < P; y++) { u = m[y].s, c.push(u), R = g[y]; for (var O = 0, L = R.length; O < L; O++) u.holes.push(R[O].h) } return c }, o.Shape = function() { o.Path.apply(this, arguments), this.holes = [] }, o.Shape.prototype = Object.create(o.Path.prototype), o.Shape.prototype.constructor = o.Shape, o.Shape.prototype.extrude = function(t) { return new o.ExtrudeGeometry(this, t) }, o.Shape.prototype.makeGeometry = function(t) { return new o.ShapeGeometry(this, t) }, o.Shape.prototype.getPointsHoles = function(t) { for (var e = [], i = 0, n = this.holes.length; i < n; i++) e[i] = this.holes[i].getPoints(t); return e }, o.Shape.prototype.extractAllPoints = function(t) { return { shape: this.getPoints(t), holes: this.getPointsHoles(t) } }, o.Shape.prototype.extractPoints = function(t) { return this.extractAllPoints(t) }, o.LineCurve = function(t, e) { this.v1 = t, this.v2 = e }, o.LineCurve.prototype = Object.create(o.Curve.prototype), o.LineCurve.prototype.constructor = o.LineCurve, o.LineCurve.prototype.getPoint = function(t) { var e = this.v2.clone().sub(this.v1); return e.multiplyScalar(t).add(this.v1), e }, o.LineCurve.prototype.getPointAt = function(t) { return this.getPoint(t) }, o.LineCurve.prototype.getTangent = function(t) { var e = this.v2.clone().sub(this.v1); return e.normalize() }, o.QuadraticBezierCurve = function(t, e, i) { this.v0 = t, this.v1 = e, this.v2 = i }, o.QuadraticBezierCurve.prototype = Object.create(o.Curve.prototype), o.QuadraticBezierCurve.prototype.constructor = o.QuadraticBezierCurve, o.QuadraticBezierCurve.prototype.getPoint = function(t) { var e = o.ShapeUtils.b2; return new o.Vector2(e(t, this.v0.x, this.v1.x, this.v2.x), e(t, this.v0.y, this.v1.y, this.v2.y)) }, o.QuadraticBezierCurve.prototype.getTangent = function(t) { var e = o.CurveUtils.tangentQuadraticBezier; return new o.Vector2(e(t, this.v0.x, this.v1.x, this.v2.x), e(t, this.v0.y, this.v1.y, this.v2.y)).normalize() }, o.CubicBezierCurve = function(t, e, i, n) { this.v0 = t, this.v1 = e, this.v2 = i, this.v3 = n }, o.CubicBezierCurve.prototype = Object.create(o.Curve.prototype), o.CubicBezierCurve.prototype.constructor = o.CubicBezierCurve, o.CubicBezierCurve.prototype.getPoint = function(t) { var e = o.ShapeUtils.b3; return new o.Vector2(e(t, this.v0.x, this.v1.x, this.v2.x, this.v3.x), e(t, this.v0.y, this.v1.y, this.v2.y, this.v3.y)) }, o.CubicBezierCurve.prototype.getTangent = function(t) { var e = o.CurveUtils.tangentCubicBezier; return new o.Vector2(e(t, this.v0.x, this.v1.x, this.v2.x, this.v3.x), e(t, this.v0.y, this.v1.y, this.v2.y, this.v3.y)).normalize() }, o.SplineCurve = function(t) { this.points = void 0 == t ? [] : t }, o.SplineCurve.prototype = Object.create(o.Curve.prototype), o.SplineCurve.prototype.constructor = o.SplineCurve, o.SplineCurve.prototype.getPoint = function(t) { var e = this.points,
                i = (e.length - 1) * t,
                n = Math.floor(i),
                r = i - n,
                a = e[0 === n ? n : n - 1],
                s = e[n],
                h = e[n > e.length - 2 ? e.length - 1 : n + 1],
                l = e[n > e.length - 3 ? e.length - 1 : n + 2],
                u = o.CurveUtils.interpolate; return new o.Vector2(u(a.x, s.x, h.x, l.x, r), u(a.y, s.y, h.y, l.y, r)) }, o.EllipseCurve = function(t, e, i, n, r, o, a, s) { this.aX = t, this.aY = e, this.xRadius = i, this.yRadius = n, this.aStartAngle = r, this.aEndAngle = o, this.aClockwise = a, this.aRotation = s || 0 }, o.EllipseCurve.prototype = Object.create(o.Curve.prototype), o.EllipseCurve.prototype.constructor = o.EllipseCurve, o.EllipseCurve.prototype.getPoint = function(t) { var e = this.aEndAngle - this.aStartAngle;
            e < 0 && (e += 2 * Math.PI), e > 2 * Math.PI && (e -= 2 * Math.PI); var i;
            i = this.aClockwise === !0 ? this.aEndAngle + (1 - t) * (2 * Math.PI - e) : this.aStartAngle + t * e; var n = this.aX + this.xRadius * Math.cos(i),
                r = this.aY + this.yRadius * Math.sin(i); if (0 !== this.aRotation) { var a = Math.cos(this.aRotation),
                    s = Math.sin(this.aRotation),
                    h = n,
                    l = r;
                n = (h - this.aX) * a - (l - this.aY) * s + this.aX, r = (h - this.aX) * s + (l - this.aY) * a + this.aY } return new o.Vector2(n, r) }, o.ArcCurve = function(t, e, i, n, r, a) { o.EllipseCurve.call(this, t, e, i, i, n, r, a) }, o.ArcCurve.prototype = Object.create(o.EllipseCurve.prototype), o.ArcCurve.prototype.constructor = o.ArcCurve, o.LineCurve3 = o.Curve.create(function(t, e) { this.v1 = t, this.v2 = e }, function(t) { var e = new o.Vector3; return e.subVectors(this.v2, this.v1), e.multiplyScalar(t), e.add(this.v1), e }), o.QuadraticBezierCurve3 = o.Curve.create(function(t, e, i) { this.v0 = t, this.v1 = e, this.v2 = i }, function(t) { var e = o.ShapeUtils.b2; return new o.Vector3(e(t, this.v0.x, this.v1.x, this.v2.x), e(t, this.v0.y, this.v1.y, this.v2.y), e(t, this.v0.z, this.v1.z, this.v2.z)) }), o.CubicBezierCurve3 = o.Curve.create(function(t, e, i, n) { this.v0 = t, this.v1 = e, this.v2 = i, this.v3 = n }, function(t) { var e = o.ShapeUtils.b3; return new o.Vector3(e(t, this.v0.x, this.v1.x, this.v2.x, this.v3.x), e(t, this.v0.y, this.v1.y, this.v2.y, this.v3.y), e(t, this.v0.z, this.v1.z, this.v2.z, this.v3.z)) }), o.SplineCurve3 = o.Curve.create(function(t) { this.points = void 0 == t ? [] : t }, function(t) { var e = this.points,
                i = (e.length - 1) * t,
                n = Math.floor(i),
                r = i - n,
                a = e[0 == n ? n : n - 1],
                s = e[n],
                h = e[n > e.length - 2 ? e.length - 1 : n + 1],
                l = e[n > e.length - 3 ? e.length - 1 : n + 2],
                u = o.CurveUtils.interpolate; return new o.Vector3(u(a.x, s.x, h.x, l.x, r), u(a.y, s.y, h.y, l.y, r), u(a.z, s.z, h.z, l.z, r)) }), o.CatmullRomCurve3 = function() {
            function t() {} var e = new o.Vector3,
                i = new t,
                n = new t,
                r = new t; return t.prototype.init = function(t, e, i, n) { this.c0 = t, this.c1 = i, this.c2 = -3 * t + 3 * e - 2 * i - n, this.c3 = 2 * t - 2 * e + i + n }, t.prototype.initNonuniformCatmullRom = function(t, e, i, n, r, o, a) { var s = (e - t) / r - (i - t) / (r + o) + (i - e) / o,
                    h = (i - e) / o - (n - e) / (o + a) + (n - i) / a;
                s *= o, h *= o, this.init(e, i, s, h) }, t.prototype.initCatmullRom = function(t, e, i, n, r) { this.init(e, i, r * (i - t), r * (n - e)) }, t.prototype.calc = function(t) { var e = t * t,
                    i = e * t; return this.c0 + this.c1 * t + this.c2 * e + this.c3 * i }, o.Curve.create(function(t) { this.points = t || [], this.closed = !1 }, function(t) { var a, s, h, l, u = this.points;
                l = u.length, a = (l - (this.closed ? 0 : 1)) * t, s = Math.floor(a), h = a - s, this.closed ? s += s > 0 ? 0 : (Math.floor(Math.abs(s) / u.length) + 1) * u.length : 0 === h && s === l - 1 && (s = l - 2, h = 1); var c, d, p, f; if (this.closed || s > 0 ? c = u[(s - 1) % l] : (e.subVectors(u[0], u[1]).add(u[0]), c = e), d = u[s % l], p = u[(s + 1) % l], this.closed || s + 2 < l ? f = u[(s + 2) % l] : (e.subVectors(u[l - 1], u[l - 2]).add(u[l - 1]), f = e), void 0 === this.type || "centripetal" === this.type || "chordal" === this.type) { var m = "chordal" === this.type ? .5 : .25,
                        g = Math.pow(c.distanceToSquared(d), m),
                        v = Math.pow(d.distanceToSquared(p), m),
                        y = Math.pow(p.distanceToSquared(f), m);
                    v < 1e-4 && (v = 1), g < 1e-4 && (g = v), y < 1e-4 && (y = v), i.initNonuniformCatmullRom(c.x, d.x, p.x, f.x, g, v, y), n.initNonuniformCatmullRom(c.y, d.y, p.y, f.y, g, v, y), r.initNonuniformCatmullRom(c.z, d.z, p.z, f.z, g, v, y) } else if ("catmullrom" === this.type) { var _ = void 0 !== this.tension ? this.tension : .5;
                    i.initCatmullRom(c.x, d.x, p.x, f.x, _), n.initCatmullRom(c.y, d.y, p.y, f.y, _), r.initCatmullRom(c.z, d.z, p.z, f.z, _) } var b = new o.Vector3(i.calc(h), n.calc(h), r.calc(h)); return b }) }(), o.ClosedSplineCurve3 = function(t) { o.CatmullRomCurve3.call(this, t), this.type = "catmullrom", this.closed = !0 }, o.ClosedSplineCurve3.prototype = Object.create(o.CatmullRomCurve3.prototype), o.BoxGeometry = function(t, e, i, n, r, a) { o.Geometry.call(this), this.type = "BoxGeometry", this.parameters = { width: t, height: e, depth: i, widthSegments: n, heightSegments: r, depthSegments: a }, this.fromBufferGeometry(new o.BoxBufferGeometry(t, e, i, n, r, a)), this.mergeVertices() }, o.BoxGeometry.prototype = Object.create(o.Geometry.prototype), o.BoxGeometry.prototype.constructor = o.BoxGeometry, o.CubeGeometry = o.BoxGeometry, o.BoxBufferGeometry = function(t, e, i, n, r, a) {
            function s(t, e, i) { var n = 0; return n += t * e * 2, n += t * i * 2, n += i * e * 2, 4 * n }

            function h(t, e, i, n, r, a, s, h, u, c, x) { for (var w = a / u, T = s / c, S = a / 2, M = s / 2, E = h / 2, A = u + 1, C = c + 1, R = 0, P = 0, O = new o.Vector3, L = 0; L < C; L++)
                    for (var I = L * T - M, D = 0; D < A; D++) { var k = D * w - S;
                        O[t] = k * n, O[e] = I * r, O[i] = E, p[g] = O.x, p[g + 1] = O.y, p[g + 2] = O.z, O[t] = 0, O[e] = 0, O[i] = h > 0 ? 1 : -1, f[g] = O.x, f[g + 1] = O.y, f[g + 2] = O.z, m[v] = D / u, m[v + 1] = 1 - L / c, g += 3, v += 2, R += 1 }
                for (L = 0; L < c; L++)
                    for (D = 0; D < u; D++) { var B = _ + D + A * L,
                            N = _ + D + A * (L + 1),
                            F = _ + (D + 1) + A * (L + 1),
                            U = _ + (D + 1) + A * L;
                        d[y] = B, d[y + 1] = N, d[y + 2] = U, d[y + 3] = N, d[y + 4] = F, d[y + 5] = U, y += 6, P += 6 } l.addGroup(b, P, x), b += P, _ += R } o.BufferGeometry.call(this), this.type = "BoxBufferGeometry", this.parameters = { width: t, height: e, depth: i, widthSegments: n, heightSegments: r, depthSegments: a }; var l = this;
            n = Math.floor(n) || 1, r = Math.floor(r) || 1, a = Math.floor(a) || 1; var u = s(n, r, a),
                c = u / 4 * 6,
                d = new(c > 65535 ? Uint32Array : Uint16Array)(c),
                p = new Float32Array(3 * u),
                f = new Float32Array(3 * u),
                m = new Float32Array(2 * u),
                g = 0,
                v = 0,
                y = 0,
                _ = 0,
                b = 0;
            h("z", "y", "x", -1, -1, i, e, t, a, r, 0), h("z", "y", "x", 1, -1, i, e, -t, a, r, 1), h("x", "z", "y", 1, 1, t, i, e, n, a, 2), h("x", "z", "y", 1, -1, t, i, -e, n, a, 3), h("x", "y", "z", 1, -1, t, e, i, n, r, 4), h("x", "y", "z", -1, -1, t, e, -i, n, r, 5), this.setIndex(new o.BufferAttribute(d, 1)), this.addAttribute("position", new o.BufferAttribute(p, 3)), this.addAttribute("normal", new o.BufferAttribute(f, 3)), this.addAttribute("uv", new o.BufferAttribute(m, 2)) }, o.BoxBufferGeometry.prototype = Object.create(o.BufferGeometry.prototype), o.BoxBufferGeometry.prototype.constructor = o.BoxBufferGeometry, o.CircleGeometry = function(t, e, i, n) { o.Geometry.call(this), this.type = "CircleGeometry", this.parameters = { radius: t, segments: e, thetaStart: i, thetaLength: n }, this.fromBufferGeometry(new o.CircleBufferGeometry(t, e, i, n)) }, o.CircleGeometry.prototype = Object.create(o.Geometry.prototype), o.CircleGeometry.prototype.constructor = o.CircleGeometry, o.CircleBufferGeometry = function(t, e, i, n) { o.BufferGeometry.call(this), this.type = "CircleBufferGeometry", this.parameters = { radius: t, segments: e, thetaStart: i, thetaLength: n }, t = t || 50, e = void 0 !== e ? Math.max(3, e) : 8, i = void 0 !== i ? i : 0, n = void 0 !== n ? n : 2 * Math.PI; var r = e + 2,
                a = new Float32Array(3 * r),
                s = new Float32Array(3 * r),
                h = new Float32Array(2 * r);
            s[2] = 1, h[0] = .5, h[1] = .5; for (var l = 0, u = 3, c = 2; l <= e; l++, u += 3, c += 2) { var d = i + l / e * n;
                a[u] = t * Math.cos(d), a[u + 1] = t * Math.sin(d), s[u + 2] = 1, h[c] = (a[u] / t + 1) / 2, h[c + 1] = (a[u + 1] / t + 1) / 2 } for (var p = [], u = 1; u <= e; u++) p.push(u, u + 1, 0);
            this.setIndex(new o.BufferAttribute(new Uint16Array(p), 1)), this.addAttribute("position", new o.BufferAttribute(a, 3)), this.addAttribute("normal", new o.BufferAttribute(s, 3)), this.addAttribute("uv", new o.BufferAttribute(h, 2)), this.boundingSphere = new o.Sphere(new o.Vector3, t) }, o.CircleBufferGeometry.prototype = Object.create(o.BufferGeometry.prototype), o.CircleBufferGeometry.prototype.constructor = o.CircleBufferGeometry, o.CylinderBufferGeometry = function(t, e, i, n, r, a, s, h) {
            function l() { var t = (n + 1) * (r + 1); return a === !1 && (t += 2 * (n + 1) + 2 * n), t }

            function u() { var t = n * r * 2 * 3; return a === !1 && (t += 2 * n * 3), t }

            function c() { var a, l, u = new o.Vector3,
                    c = new o.Vector3,
                    d = (e - t) / i; for (l = 0; l <= r; l++) { var p = [],
                        f = l / r,
                        T = f * (e - t) + t; for (a = 0; a <= n; a++) { var S = a / n;
                        c.x = T * Math.sin(S * h + s), c.y = -f * i + w, c.z = T * Math.cos(S * h + s), g.setXYZ(_, c.x, c.y, c.z), u.copy(c), (0 === t && 0 === l || 0 === e && l === r) && (u.x = Math.sin(S * h + s), u.z = Math.cos(S * h + s)), u.setY(Math.sqrt(u.x * u.x + u.z * u.z) * d).normalize(), v.setXYZ(_, u.x, u.y, u.z), y.setXY(_, S, 1 - f), p.push(_), _++ } x.push(p) } for (a = 0; a < n; a++)
                    for (l = 0; l < r; l++) { var M = x[l][a],
                            E = x[l + 1][a],
                            A = x[l + 1][a + 1],
                            C = x[l][a + 1];
                        m.setX(b, M), b++, m.setX(b, E), b++, m.setX(b, C), b++, m.setX(b, E), b++, m.setX(b, A), b++, m.setX(b, C), b++ } }

            function d(i) { var r, a, l, u = new o.Vector2,
                    c = new o.Vector3,
                    d = i === !0 ? t : e,
                    p = i === !0 ? 1 : -1; for (a = _, r = 1; r <= n; r++) g.setXYZ(_, 0, w * p, 0), v.setXYZ(_, 0, p, 0), i === !0 ? (u.x = r / n, u.y = 0) : (u.x = (r - 1) / n, u.y = 1), y.setXY(_, u.x, u.y), _++; for (l = _, r = 0; r <= n; r++) { var f = r / n;
                    c.x = d * Math.sin(f * h + s), c.y = w * p, c.z = d * Math.cos(f * h + s), g.setXYZ(_, c.x, c.y, c.z), v.setXYZ(_, 0, p, 0), y.setXY(_, f, i === !0 ? 1 : 0), _++ } for (r = 0; r < n; r++) { var x = a + r,
                        T = l + r;
                    i === !0 ? (m.setX(b, T), b++, m.setX(b, T + 1), b++, m.setX(b, x), b++) : (m.setX(b, T + 1), b++, m.setX(b, T), b++, m.setX(b, x), b++) } } o.BufferGeometry.call(this), this.type = "CylinderBufferGeometry", this.parameters = { radiusTop: t, radiusBottom: e, height: i, radialSegments: n, heightSegments: r, openEnded: a, thetaStart: s, thetaLength: h }, t = void 0 !== t ? t : 20, e = void 0 !== e ? e : 20, i = void 0 !== i ? i : 100, n = Math.floor(n) || 8, r = Math.floor(r) || 1, a = void 0 !== a && a, s = void 0 !== s ? s : 0, h = void 0 !== h ? h : 2 * Math.PI; var p = l(),
                f = u(),
                m = new o.BufferAttribute(new(f > 65535 ? Uint32Array : Uint16Array)(f), 1),
                g = new o.BufferAttribute(new Float32Array(3 * p), 3),
                v = new o.BufferAttribute(new Float32Array(3 * p), 3),
                y = new o.BufferAttribute(new Float32Array(2 * p), 2),
                _ = 0,
                b = 0,
                x = [],
                w = i / 2;
            c(), a === !1 && (t > 0 && d(!0), e > 0 && d(!1)), this.setIndex(m), this.addAttribute("position", g), this.addAttribute("normal", v), this.addAttribute("uv", y) }, o.CylinderBufferGeometry.prototype = Object.create(o.BufferGeometry.prototype), o.CylinderBufferGeometry.prototype.constructor = o.CylinderBufferGeometry, o.CylinderGeometry = function(t, e, i, n, r, a, s, h) { o.Geometry.call(this), this.type = "CylinderGeometry", this.parameters = { radiusTop: t, radiusBottom: e, height: i, radialSegments: n, heightSegments: r, openEnded: a, thetaStart: s, thetaLength: h }, this.fromBufferGeometry(new o.CylinderBufferGeometry(t, e, i, n, r, a, s, h)), this.mergeVertices() }, o.CylinderGeometry.prototype = Object.create(o.Geometry.prototype), o.CylinderGeometry.prototype.constructor = o.CylinderGeometry, o.EdgesGeometry = function(t, e) {
            function i(t, e) { return t - e } o.BufferGeometry.call(this), e = void 0 !== e ? e : 1; var n, r = Math.cos(o.Math.degToRad(e)),
                a = [0, 0],
                s = {},
                h = ["a", "b", "c"];
            t instanceof o.BufferGeometry ? (n = new o.Geometry, n.fromBufferGeometry(t)) : n = t.clone(), n.mergeVertices(), n.computeFaceNormals(); for (var l = n.vertices, u = n.faces, c = 0, d = u.length; c < d; c++)
                for (var p = u[c], f = 0; f < 3; f++) { a[0] = p[h[f]], a[1] = p[h[(f + 1) % 3]], a.sort(i); var m = a.toString();
                    void 0 === s[m] ? s[m] = { vert1: a[0], vert2: a[1], face1: c, face2: void 0 } : s[m].face2 = c }
            var g = []; for (var m in s) { var v = s[m]; if (void 0 === v.face2 || u[v.face1].normal.dot(u[v.face2].normal) <= r) { var y = l[v.vert1];
                    g.push(y.x), g.push(y.y), g.push(y.z), y = l[v.vert2], g.push(y.x), g.push(y.y), g.push(y.z) } } this.addAttribute("position", new o.BufferAttribute(new Float32Array(g), 3)) }, o.EdgesGeometry.prototype = Object.create(o.BufferGeometry.prototype), o.EdgesGeometry.prototype.constructor = o.EdgesGeometry, o.ExtrudeGeometry = function(t, e) { return "undefined" == typeof t ? void(t = []) : (o.Geometry.call(this), this.type = "ExtrudeGeometry", t = Array.isArray(t) ? t : [t], this.addShapeList(t, e), void this.computeFaceNormals()) }, o.ExtrudeGeometry.prototype = Object.create(o.Geometry.prototype), o.ExtrudeGeometry.prototype.constructor = o.ExtrudeGeometry, o.ExtrudeGeometry.prototype.addShapeList = function(t, e) { for (var i = t.length, n = 0; n < i; n++) { var r = t[n];
                this.addShape(r, e) } }, o.ExtrudeGeometry.prototype.addShape = function(t, e) {
            function i(t, e, i) { return e.clone().multiplyScalar(i).add(t) }

            function n(t, e, i) { var n, r, a = 1,
                    s = t.x - e.x,
                    h = t.y - e.y,
                    l = i.x - t.x,
                    u = i.y - t.y,
                    c = s * s + h * h,
                    d = s * u - h * l; if (Math.abs(d) > Number.EPSILON) { var p = Math.sqrt(c),
                        f = Math.sqrt(l * l + u * u),
                        m = e.x - h / p,
                        g = e.y + s / p,
                        v = i.x - u / f,
                        y = i.y + l / f,
                        _ = ((v - m) * u - (y - g) * l) / (s * u - h * l);
                    n = m + s * _ - t.x, r = g + h * _ - t.y; var b = n * n + r * r; if (b <= 2) return new o.Vector2(n, r);
                    a = Math.sqrt(b / 2) } else { var x = !1;
                    s > Number.EPSILON ? l > Number.EPSILON && (x = !0) : s < -Number.EPSILON ? l < -Number.EPSILON && (x = !0) : Math.sign(h) === Math.sign(u) && (x = !0), x ? (n = -h, r = s, a = Math.sqrt(c)) : (n = s, r = h, a = Math.sqrt(c / 2)) } return new o.Vector2(n / a, r / a) }

            function r() { if (b) { var t = 0,
                        e = V * t; for (X = 0; X < H; X++) z = k[X], l(z[2] + e, z[1] + e, z[0] + e); for (t = w + 2 * _, e = V * t, X = 0; X < H; X++) z = k[X], l(z[0] + e, z[1] + e, z[2] + e) } else { for (X = 0; X < H; X++) z = k[X], l(z[2], z[1], z[0]); for (X = 0; X < H; X++) z = k[X], l(z[0] + V * w, z[1] + V * w, z[2] + V * w) } }

            function a() { var t = 0; for (s(B, t), t += B.length, A = 0, C = I.length; A < C; A++) E = I[A], s(E, t), t += E.length }

            function s(t, e) { var i, n; for (X = t.length; --X >= 0;) { i = X, n = X - 1, n < 0 && (n = t.length - 1); var r = 0,
                        o = w + 2 * _; for (r = 0; r < o; r++) { var a = V * r,
                            s = V * (r + 1),
                            h = e + i + a,
                            l = e + n + a,
                            c = e + n + s,
                            d = e + i + s;
                        u(h, l, c, d, t, r, o, i, n) } } }

            function h(t, e, i) { R.vertices.push(new o.Vector3(t, e, i)) }

            function l(t, e, i) { t += P, e += P, i += P, R.faces.push(new o.Face3(t, e, i, null, null, 0)); var n = M.generateTopUV(R, t, e, i);
                R.faceVertexUvs[0].push(n) }

            function u(t, e, i, n, r, a, s, h, l) { t += P, e += P, i += P, n += P, R.faces.push(new o.Face3(t, e, n, null, null, 1)), R.faces.push(new o.Face3(e, i, n, null, null, 1)); var u = M.generateSideWallUV(R, t, e, i, n);
                R.faceVertexUvs[0].push([u[0], u[1], u[3]]), R.faceVertexUvs[0].push([u[1], u[2], u[3]]) } var c, d, p, f, m, g = void 0 !== e.amount ? e.amount : 100,
                v = void 0 !== e.bevelThickness ? e.bevelThickness : 6,
                y = void 0 !== e.bevelSize ? e.bevelSize : v - 2,
                _ = void 0 !== e.bevelSegments ? e.bevelSegments : 3,
                b = void 0 === e.bevelEnabled || e.bevelEnabled,
                x = void 0 !== e.curveSegments ? e.curveSegments : 12,
                w = void 0 !== e.steps ? e.steps : 1,
                T = e.extrudePath,
                S = !1,
                M = void 0 !== e.UVGenerator ? e.UVGenerator : o.ExtrudeGeometry.WorldUVGenerator;
            T && (c = T.getSpacedPoints(w), S = !0, b = !1, d = void 0 !== e.frames ? e.frames : new o.TubeGeometry.FrenetFrames(T, w, (!1)), p = new o.Vector3, f = new o.Vector3, m = new o.Vector3), b || (_ = 0, v = 0, y = 0); var E, A, C, R = this,
                P = this.vertices.length,
                O = t.extractPoints(x),
                L = O.shape,
                I = O.holes,
                D = !o.ShapeUtils.isClockWise(L); if (D) { for (L = L.reverse(), A = 0, C = I.length; A < C; A++) E = I[A], o.ShapeUtils.isClockWise(E) && (I[A] = E.reverse());
                D = !1 } var k = o.ShapeUtils.triangulateShape(L, I),
                B = L; for (A = 0, C = I.length; A < C; A++) E = I[A], L = L.concat(E); for (var N, F, U, G, j, z, V = L.length, H = k.length, W = [], X = 0, Y = B.length, q = Y - 1, K = X + 1; X < Y; X++, q++, K++) q === Y && (q = 0), K === Y && (K = 0), W[X] = n(B[X], B[q], B[K]); var Z, J = [],
                Q = W.concat(); for (A = 0, C = I.length; A < C; A++) { for (E = I[A], Z = [], X = 0, Y = E.length, q = Y - 1, K = X + 1; X < Y; X++, q++, K++) q === Y && (q = 0), K === Y && (K = 0), Z[X] = n(E[X], E[q], E[K]);
                J.push(Z), Q = Q.concat(Z) } for (N = 0; N < _; N++) { for (U = N / _, G = v * (1 - U), F = y * Math.sin(U * Math.PI / 2), X = 0, Y = B.length; X < Y; X++) j = i(B[X], W[X], F), h(j.x, j.y, -G); for (A = 0, C = I.length; A < C; A++)
                    for (E = I[A], Z = J[A], X = 0, Y = E.length; X < Y; X++) j = i(E[X], Z[X], F), h(j.x, j.y, -G) } for (F = y, X = 0; X < V; X++) j = b ? i(L[X], Q[X], F) : L[X], S ? (f.copy(d.normals[0]).multiplyScalar(j.x), p.copy(d.binormals[0]).multiplyScalar(j.y), m.copy(c[0]).add(f).add(p), h(m.x, m.y, m.z)) : h(j.x, j.y, 0); var $; for ($ = 1; $ <= w; $++)
                for (X = 0; X < V; X++) j = b ? i(L[X], Q[X], F) : L[X], S ? (f.copy(d.normals[$]).multiplyScalar(j.x), p.copy(d.binormals[$]).multiplyScalar(j.y), m.copy(c[$]).add(f).add(p), h(m.x, m.y, m.z)) : h(j.x, j.y, g / w * $); for (N = _ - 1; N >= 0; N--) { for (U = N / _, G = v * (1 - U), F = y * Math.sin(U * Math.PI / 2), X = 0, Y = B.length; X < Y; X++) j = i(B[X], W[X], F), h(j.x, j.y, g + G); for (A = 0, C = I.length; A < C; A++)
                    for (E = I[A], Z = J[A], X = 0, Y = E.length; X < Y; X++) j = i(E[X], Z[X], F), S ? h(j.x, j.y + c[w - 1].y, c[w - 1].x + G) : h(j.x, j.y, g + G) } r(), a() }, o.ExtrudeGeometry.WorldUVGenerator = { generateTopUV: function(t, e, i, n) { var r = t.vertices,
                    a = r[e],
                    s = r[i],
                    h = r[n]; return [new o.Vector2(a.x, a.y), new o.Vector2(s.x, s.y), new o.Vector2(h.x, h.y)] }, generateSideWallUV: function(t, e, i, n, r) { var a = t.vertices,
                    s = a[e],
                    h = a[i],
                    l = a[n],
                    u = a[r]; return Math.abs(s.y - h.y) < .01 ? [new o.Vector2(s.x, 1 - s.z), new o.Vector2(h.x, 1 - h.z), new o.Vector2(l.x, 1 - l.z), new o.Vector2(u.x, 1 - u.z)] : [new o.Vector2(s.y, 1 - s.z), new o.Vector2(h.y, 1 - h.z), new o.Vector2(l.y, 1 - l.z), new o.Vector2(u.y, 1 - u.z)] } }, o.ShapeGeometry = function(t, e) { o.Geometry.call(this), this.type = "ShapeGeometry", Array.isArray(t) === !1 && (t = [t]), this.addShapeList(t, e), this.computeFaceNormals() }, o.ShapeGeometry.prototype = Object.create(o.Geometry.prototype), o.ShapeGeometry.prototype.constructor = o.ShapeGeometry, o.ShapeGeometry.prototype.addShapeList = function(t, e) { for (var i = 0, n = t.length; i < n; i++) this.addShape(t[i], e); return this }, o.ShapeGeometry.prototype.addShape = function(t, e) { void 0 === e && (e = {}); var i, n, r, a = void 0 !== e.curveSegments ? e.curveSegments : 12,
                s = e.material,
                h = void 0 === e.UVGenerator ? o.ExtrudeGeometry.WorldUVGenerator : e.UVGenerator,
                l = this.vertices.length,
                u = t.extractPoints(a),
                c = u.shape,
                d = u.holes,
                p = !o.ShapeUtils.isClockWise(c); if (p) { for (c = c.reverse(), i = 0, n = d.length; i < n; i++) r = d[i], o.ShapeUtils.isClockWise(r) && (d[i] = r.reverse());
                p = !1 } var f = o.ShapeUtils.triangulateShape(c, d); for (i = 0, n = d.length; i < n; i++) r = d[i], c = c.concat(r); var m, g, v = c.length,
                y = f.length; for (i = 0; i < v; i++) m = c[i], this.vertices.push(new o.Vector3(m.x, m.y, 0)); for (i = 0; i < y; i++) { g = f[i]; var _ = g[0] + l,
                    b = g[1] + l,
                    x = g[2] + l;
                this.faces.push(new o.Face3(_, b, x, null, null, s)), this.faceVertexUvs[0].push(h.generateTopUV(this, _, b, x)) } }, o.LatheBufferGeometry = function(t, e, i, n) { o.BufferGeometry.call(this), this.type = "LatheBufferGeometry", this.parameters = { points: t, segments: e, phiStart: i, phiLength: n }, e = Math.floor(e) || 12, i = i || 0, n = n || 2 * Math.PI, n = o.Math.clamp(n, 0, 2 * Math.PI); var r, a, s, h = (e + 1) * t.length,
                l = e * t.length * 2 * 3,
                u = new o.BufferAttribute(new(l > 65535 ? Uint32Array : Uint16Array)(l), 1),
                c = new o.BufferAttribute(new Float32Array(3 * h), 3),
                d = new o.BufferAttribute(new Float32Array(2 * h), 2),
                p = 0,
                f = 0,
                m = (1 / (t.length - 1), 1 / e),
                g = new o.Vector3,
                v = new o.Vector2; for (a = 0; a <= e; a++) { var y = i + a * m * n,
                    _ = Math.sin(y),
                    b = Math.cos(y); for (s = 0; s <= t.length - 1; s++) g.x = t[s].x * _, g.y = t[s].y, g.z = t[s].x * b, c.setXYZ(p, g.x, g.y, g.z), v.x = a / e, v.y = s / (t.length - 1), d.setXY(p, v.x, v.y), p++ } for (a = 0; a < e; a++)
                for (s = 0; s < t.length - 1; s++) { r = s + a * t.length; var x = r,
                        w = r + t.length,
                        T = r + t.length + 1,
                        S = r + 1;
                    u.setX(f, x), f++, u.setX(f, w), f++, u.setX(f, S), f++, u.setX(f, w), f++, u.setX(f, T), f++, u.setX(f, S), f++ }
            if (this.setIndex(u), this.addAttribute("position", c), this.addAttribute("uv", d), this.computeVertexNormals(), n === 2 * Math.PI) { var M = this.attributes.normal.array,
                    E = new o.Vector3,
                    A = new o.Vector3,
                    C = new o.Vector3; for (r = e * t.length * 3, a = 0, s = 0; a < t.length; a++, s += 3) E.x = M[s + 0], E.y = M[s + 1], E.z = M[s + 2], A.x = M[r + s + 0], A.y = M[r + s + 1], A.z = M[r + s + 2], C.addVectors(E, A).normalize(), M[s + 0] = M[r + s + 0] = C.x, M[s + 1] = M[r + s + 1] = C.y, M[s + 2] = M[r + s + 2] = C.z } }, o.LatheBufferGeometry.prototype = Object.create(o.BufferGeometry.prototype), o.LatheBufferGeometry.prototype.constructor = o.LatheBufferGeometry, o.LatheGeometry = function(t, e, i, n) { o.Geometry.call(this), this.type = "LatheGeometry", this.parameters = { points: t, segments: e, phiStart: i, phiLength: n }, this.fromBufferGeometry(new o.LatheBufferGeometry(t, e, i, n)), this.mergeVertices() }, o.LatheGeometry.prototype = Object.create(o.Geometry.prototype), o.LatheGeometry.prototype.constructor = o.LatheGeometry, o.PlaneGeometry = function(t, e, i, n) { o.Geometry.call(this), this.type = "PlaneGeometry", this.parameters = { width: t, height: e, widthSegments: i, heightSegments: n }, this.fromBufferGeometry(new o.PlaneBufferGeometry(t, e, i, n)) }, o.PlaneGeometry.prototype = Object.create(o.Geometry.prototype), o.PlaneGeometry.prototype.constructor = o.PlaneGeometry, o.PlaneBufferGeometry = function(t, e, i, n) { o.BufferGeometry.call(this), this.type = "PlaneBufferGeometry", this.parameters = { width: t, height: e, widthSegments: i, heightSegments: n }; for (var r = t / 2, a = e / 2, s = Math.floor(i) || 1, h = Math.floor(n) || 1, l = s + 1, u = h + 1, c = t / s, d = e / h, p = new Float32Array(l * u * 3), f = new Float32Array(l * u * 3), m = new Float32Array(l * u * 2), g = 0, v = 0, y = 0; y < u; y++)
                for (var _ = y * d - a, b = 0; b < l; b++) { var x = b * c - r;
                    p[g] = x, p[g + 1] = -_, f[g + 2] = 1, m[v] = b / s, m[v + 1] = 1 - y / h, g += 3, v += 2 } g = 0; for (var w = new(p.length / 3 > 65535 ? Uint32Array : Uint16Array)(s * h * 6), y = 0; y < h; y++)
                for (var b = 0; b < s; b++) { var T = b + l * y,
                        S = b + l * (y + 1),
                        M = b + 1 + l * (y + 1),
                        E = b + 1 + l * y;
                    w[g] = T, w[g + 1] = S, w[g + 2] = E, w[g + 3] = S, w[g + 4] = M, w[g + 5] = E, g += 6 } this.setIndex(new o.BufferAttribute(w, 1)), this.addAttribute("position", new o.BufferAttribute(p, 3)), this.addAttribute("normal", new o.BufferAttribute(f, 3)), this.addAttribute("uv", new o.BufferAttribute(m, 2)) }, o.PlaneBufferGeometry.prototype = Object.create(o.BufferGeometry.prototype), o.PlaneBufferGeometry.prototype.constructor = o.PlaneBufferGeometry, o.RingBufferGeometry = function(t, e, i, n, r, a) { o.BufferGeometry.call(this), this.type = "RingBufferGeometry", this.parameters = { innerRadius: t, outerRadius: e, thetaSegments: i, phiSegments: n, thetaStart: r, thetaLength: a }, t = t || 20, e = e || 50, r = void 0 !== r ? r : 0, a = void 0 !== a ? a : 2 * Math.PI, i = void 0 !== i ? Math.max(3, i) : 8, n = void 0 !== n ? Math.max(1, n) : 1; var s, h, l, u = (i + 1) * (n + 1),
                c = i * n * 2 * 3,
                d = new o.BufferAttribute(new(c > 65535 ? Uint32Array : Uint16Array)(c), 1),
                p = new o.BufferAttribute(new Float32Array(3 * u), 3),
                f = new o.BufferAttribute(new Float32Array(3 * u), 3),
                m = new o.BufferAttribute(new Float32Array(2 * u), 2),
                g = 0,
                v = 0,
                y = t,
                _ = (e - t) / n,
                b = new o.Vector3,
                x = new o.Vector2; for (h = 0; h <= n; h++) { for (l = 0; l <= i; l++) s = r + l / i * a, b.x = y * Math.cos(s), b.y = y * Math.sin(s), p.setXYZ(g, b.x, b.y, b.z), f.setXYZ(g, 0, 0, 1), x.x = (b.x / e + 1) / 2, x.y = (b.y / e + 1) / 2, m.setXY(g, x.x, x.y), g++;
                y += _ } for (h = 0; h < n; h++) { var w = h * (i + 1); for (l = 0; l < i; l++) { s = l + w; var T = s,
                        S = s + i + 1,
                        M = s + i + 2,
                        E = s + 1;
                    d.setX(v, T), v++, d.setX(v, S), v++, d.setX(v, M), v++, d.setX(v, T), v++, d.setX(v, M), v++, d.setX(v, E), v++ } } this.setIndex(d), this.addAttribute("position", p), this.addAttribute("normal", f), this.addAttribute("uv", m) }, o.RingBufferGeometry.prototype = Object.create(o.BufferGeometry.prototype), o.RingBufferGeometry.prototype.constructor = o.RingBufferGeometry, o.RingGeometry = function(t, e, i, n, r, a) { o.Geometry.call(this), this.type = "RingGeometry", this.parameters = { innerRadius: t, outerRadius: e, thetaSegments: i, phiSegments: n, thetaStart: r, thetaLength: a }, this.fromBufferGeometry(new o.RingBufferGeometry(t, e, i, n, r, a)) }, o.RingGeometry.prototype = Object.create(o.Geometry.prototype), o.RingGeometry.prototype.constructor = o.RingGeometry, o.SphereGeometry = function(t, e, i, n, r, a, s) { o.Geometry.call(this), this.type = "SphereGeometry", this.parameters = { radius: t, widthSegments: e, heightSegments: i, phiStart: n, phiLength: r, thetaStart: a, thetaLength: s }, this.fromBufferGeometry(new o.SphereBufferGeometry(t, e, i, n, r, a, s)) }, o.SphereGeometry.prototype = Object.create(o.Geometry.prototype), o.SphereGeometry.prototype.constructor = o.SphereGeometry, o.SphereBufferGeometry = function(t, e, i, n, r, a, s) { o.BufferGeometry.call(this), this.type = "SphereBufferGeometry", this.parameters = { radius: t, widthSegments: e, heightSegments: i, phiStart: n, phiLength: r, thetaStart: a, thetaLength: s }, t = t || 50, e = Math.max(3, Math.floor(e) || 8), i = Math.max(2, Math.floor(i) || 6), n = void 0 !== n ? n : 0, r = void 0 !== r ? r : 2 * Math.PI, a = void 0 !== a ? a : 0, s = void 0 !== s ? s : Math.PI; for (var h = a + s, l = (e + 1) * (i + 1), u = new o.BufferAttribute(new Float32Array(3 * l), 3), c = new o.BufferAttribute(new Float32Array(3 * l), 3), d = new o.BufferAttribute(new Float32Array(2 * l), 2), p = 0, f = [], m = new o.Vector3, g = 0; g <= i; g++) { for (var v = [], y = g / i, _ = 0; _ <= e; _++) { var b = _ / e,
                        x = -t * Math.cos(n + b * r) * Math.sin(a + y * s),
                        w = t * Math.cos(a + y * s),
                        T = t * Math.sin(n + b * r) * Math.sin(a + y * s);
                    m.set(x, w, T).normalize(), u.setXYZ(p, x, w, T), c.setXYZ(p, m.x, m.y, m.z), d.setXY(p, b, 1 - y), v.push(p), p++ } f.push(v) } for (var S = [], g = 0; g < i; g++)
                for (var _ = 0; _ < e; _++) { var M = f[g][_ + 1],
                        E = f[g][_],
                        A = f[g + 1][_],
                        C = f[g + 1][_ + 1];
                    (0 !== g || a > 0) && S.push(M, E, C), (g !== i - 1 || h < Math.PI) && S.push(E, A, C) } this.setIndex(new(u.count > 65535 ? o.Uint32Attribute : o.Uint16Attribute)(S, 1)), this.addAttribute("position", u), this.addAttribute("normal", c), this.addAttribute("uv", d), this.boundingSphere = new o.Sphere(new o.Vector3, t) }, o.SphereBufferGeometry.prototype = Object.create(o.BufferGeometry.prototype), o.SphereBufferGeometry.prototype.constructor = o.SphereBufferGeometry, o.TextGeometry = function(t, e) { e = e || {}; var i = e.font; if (i instanceof o.Font == !1) return new o.Geometry; var n = i.generateShapes(t, e.size, e.curveSegments);
            e.amount = void 0 !== e.height ? e.height : 50, void 0 === e.bevelThickness && (e.bevelThickness = 10), void 0 === e.bevelSize && (e.bevelSize = 8), void 0 === e.bevelEnabled && (e.bevelEnabled = !1), o.ExtrudeGeometry.call(this, n, e), this.type = "TextGeometry" }, o.TextGeometry.prototype = Object.create(o.ExtrudeGeometry.prototype), o.TextGeometry.prototype.constructor = o.TextGeometry, o.TorusBufferGeometry = function(t, e, i, n, r) {
            o.BufferGeometry.call(this), this.type = "TorusBufferGeometry", this.parameters = { radius: t, tube: e, radialSegments: i, tubularSegments: n, arc: r }, t = t || 100, e = e || 40, i = Math.floor(i) || 8, n = Math.floor(n) || 6, r = r || 2 * Math.PI;
            var a, s, h = (i + 1) * (n + 1),
                l = i * n * 2 * 3,
                u = new(l > 65535 ? Uint32Array : Uint16Array)(l),
                c = new Float32Array(3 * h),
                d = new Float32Array(3 * h),
                p = new Float32Array(2 * h),
                f = 0,
                m = 0,
                g = 0,
                v = new o.Vector3,
                y = new o.Vector3,
                _ = new o.Vector3;
            for (a = 0; a <= i; a++)
                for (s = 0; s <= n; s++) {
                    var b = s / n * r,
                        x = a / i * Math.PI * 2;
                    y.x = (t + e * Math.cos(x)) * Math.cos(b),
                        y.y = (t + e * Math.cos(x)) * Math.sin(b), y.z = e * Math.sin(x), c[f] = y.x, c[f + 1] = y.y, c[f + 2] = y.z, v.x = t * Math.cos(b), v.y = t * Math.sin(b), _.subVectors(y, v).normalize(), d[f] = _.x, d[f + 1] = _.y, d[f + 2] = _.z, p[m] = s / n, p[m + 1] = a / i, f += 3, m += 2
                }
            for (a = 1; a <= i; a++)
                for (s = 1; s <= n; s++) { var w = (n + 1) * a + s - 1,
                        T = (n + 1) * (a - 1) + s - 1,
                        S = (n + 1) * (a - 1) + s,
                        M = (n + 1) * a + s;
                    u[g] = w, u[g + 1] = T, u[g + 2] = M, u[g + 3] = T, u[g + 4] = S, u[g + 5] = M, g += 6 } this.setIndex(new o.BufferAttribute(u, 1)), this.addAttribute("position", new o.BufferAttribute(c, 3)), this.addAttribute("normal", new o.BufferAttribute(d, 3)), this.addAttribute("uv", new o.BufferAttribute(p, 2))
        }, o.TorusBufferGeometry.prototype = Object.create(o.BufferGeometry.prototype), o.TorusBufferGeometry.prototype.constructor = o.TorusBufferGeometry, o.TorusGeometry = function(t, e, i, n, r) { o.Geometry.call(this), this.type = "TorusGeometry", this.parameters = { radius: t, tube: e, radialSegments: i, tubularSegments: n, arc: r }, this.fromBufferGeometry(new o.TorusBufferGeometry(t, e, i, n, r)) }, o.TorusGeometry.prototype = Object.create(o.Geometry.prototype), o.TorusGeometry.prototype.constructor = o.TorusGeometry, o.TorusKnotBufferGeometry = function(t, e, i, n, r, a) {
            function s(t, e, i, n, r) { var o = Math.cos(t),
                    a = Math.sin(t),
                    s = i / e * t,
                    h = Math.cos(s);
                r.x = n * (2 + h) * .5 * o, r.y = n * (2 + h) * a * .5, r.z = n * Math.sin(s) * .5 } o.BufferGeometry.call(this), this.type = "TorusKnotBufferGeometry", this.parameters = { radius: t, tube: e, tubularSegments: i, radialSegments: n, p: r, q: a }, t = t || 100, e = e || 40, i = Math.floor(i) || 64, n = Math.floor(n) || 8, r = r || 2, a = a || 3; var h, l, u = (n + 1) * (i + 1),
                c = n * i * 2 * 3,
                d = new o.BufferAttribute(new(c > 65535 ? Uint32Array : Uint16Array)(c), 1),
                p = new o.BufferAttribute(new Float32Array(3 * u), 3),
                f = new o.BufferAttribute(new Float32Array(3 * u), 3),
                m = new o.BufferAttribute(new Float32Array(2 * u), 2),
                g = 0,
                v = 0,
                y = new o.Vector3,
                _ = new o.Vector3,
                b = new o.Vector2,
                x = new o.Vector3,
                w = new o.Vector3,
                T = new o.Vector3,
                S = new o.Vector3,
                M = new o.Vector3; for (h = 0; h <= i; ++h) { var E = h / i * r * Math.PI * 2; for (s(E, r, a, t, x), s(E + .01, r, a, t, w), S.subVectors(w, x), M.addVectors(w, x), T.crossVectors(S, M), M.crossVectors(T, S), T.normalize(), M.normalize(), l = 0; l <= n; ++l) { var A = l / n * Math.PI * 2,
                        C = -e * Math.cos(A),
                        R = e * Math.sin(A);
                    y.x = x.x + (C * M.x + R * T.x), y.y = x.y + (C * M.y + R * T.y), y.z = x.z + (C * M.z + R * T.z), p.setXYZ(g, y.x, y.y, y.z), _.subVectors(y, x).normalize(), f.setXYZ(g, _.x, _.y, _.z), b.x = h / i, b.y = l / n, m.setXY(g, b.x, b.y), g++ } } for (l = 1; l <= i; l++)
                for (h = 1; h <= n; h++) { var P = (n + 1) * (l - 1) + (h - 1),
                        O = (n + 1) * l + (h - 1),
                        L = (n + 1) * l + h,
                        I = (n + 1) * (l - 1) + h;
                    d.setX(v, P), v++, d.setX(v, O), v++, d.setX(v, I), v++, d.setX(v, O), v++, d.setX(v, L), v++, d.setX(v, I), v++ } this.setIndex(d), this.addAttribute("position", p), this.addAttribute("normal", f), this.addAttribute("uv", m) }, o.TorusKnotBufferGeometry.prototype = Object.create(o.BufferGeometry.prototype), o.TorusKnotBufferGeometry.prototype.constructor = o.TorusKnotBufferGeometry, o.TorusKnotGeometry = function(t, e, i, n, r, a, s) { o.Geometry.call(this), this.type = "TorusKnotGeometry", this.parameters = { radius: t, tube: e, tubularSegments: i, radialSegments: n, p: r, q: a }, this.fromBufferGeometry(new o.TorusKnotBufferGeometry(t, e, i, n, r, a)), this.mergeVertices() }, o.TorusKnotGeometry.prototype = Object.create(o.Geometry.prototype), o.TorusKnotGeometry.prototype.constructor = o.TorusKnotGeometry, o.TubeGeometry = function(t, e, i, n, r, a) {
            function s(t, e, i) { return P.vertices.push(new o.Vector3(t, e, i)) - 1 } o.Geometry.call(this), this.type = "TubeGeometry", this.parameters = { path: t, segments: e, radius: i, radialSegments: n, closed: r, taper: a }, e = e || 64, i = i || 1, n = n || 8, r = r || !1, a = a || o.TubeGeometry.NoTaper; var h, l, u, c, d, p, f, m, g, v, y, _, b, x, w, T, S, M, E, A, C, R = [],
                P = this,
                O = e + 1,
                L = new o.Vector3,
                I = new o.TubeGeometry.FrenetFrames(t, e, r),
                D = I.tangents,
                k = I.normals,
                B = I.binormals; for (this.tangents = D, this.normals = k, this.binormals = B, v = 0; v < O; v++)
                for (R[v] = [], c = v / (O - 1), g = t.getPointAt(c), h = D[v], l = k[v], u = B[v], p = i * a(c), y = 0; y < n; y++) d = y / n * 2 * Math.PI, f = -p * Math.cos(d), m = p * Math.sin(d), L.copy(g), L.x += f * l.x + m * u.x, L.y += f * l.y + m * u.y, L.z += f * l.z + m * u.z, R[v][y] = s(L.x, L.y, L.z); for (v = 0; v < e; v++)
                for (y = 0; y < n; y++) _ = r ? (v + 1) % e : v + 1, b = (y + 1) % n, x = R[v][y], w = R[_][y], T = R[_][b], S = R[v][b], M = new o.Vector2(v / e, y / n), E = new o.Vector2((v + 1) / e, y / n), A = new o.Vector2((v + 1) / e, (y + 1) / n), C = new o.Vector2(v / e, (y + 1) / n), this.faces.push(new o.Face3(x, w, S)), this.faceVertexUvs[0].push([M, E, C]), this.faces.push(new o.Face3(w, T, S)), this.faceVertexUvs[0].push([E.clone(), A, C.clone()]);
            this.computeFaceNormals(), this.computeVertexNormals() }, o.TubeGeometry.prototype = Object.create(o.Geometry.prototype), o.TubeGeometry.prototype.constructor = o.TubeGeometry, o.TubeGeometry.NoTaper = function(t) { return 1 }, o.TubeGeometry.SinusoidalTaper = function(t) { return Math.sin(Math.PI * t) }, o.TubeGeometry.FrenetFrames = function(t, e, i) {
            function n() { f[0] = new o.Vector3, m[0] = new o.Vector3, a = Number.MAX_VALUE, s = Math.abs(p[0].x), h = Math.abs(p[0].y), l = Math.abs(p[0].z), s <= a && (a = s, d.set(1, 0, 0)), h <= a && (a = h, d.set(0, 1, 0)), l <= a && d.set(0, 0, 1), g.crossVectors(p[0], d).normalize(), f[0].crossVectors(p[0], g), m[0].crossVectors(p[0], f[0]) } var r, a, s, h, l, u, c, d = new o.Vector3,
                p = [],
                f = [],
                m = [],
                g = new o.Vector3,
                v = new o.Matrix4,
                y = e + 1; for (this.tangents = p, this.normals = f, this.binormals = m, u = 0; u < y; u++) c = u / (y - 1), p[u] = t.getTangentAt(c), p[u].normalize(); for (n(), u = 1; u < y; u++) f[u] = f[u - 1].clone(), m[u] = m[u - 1].clone(), g.crossVectors(p[u - 1], p[u]), g.length() > Number.EPSILON && (g.normalize(), r = Math.acos(o.Math.clamp(p[u - 1].dot(p[u]), -1, 1)), f[u].applyMatrix4(v.makeRotationAxis(g, r))), m[u].crossVectors(p[u], f[u]); if (i)
                for (r = Math.acos(o.Math.clamp(f[0].dot(f[y - 1]), -1, 1)), r /= y - 1, p[0].dot(g.crossVectors(f[0], f[y - 1])) > 0 && (r = -r), u = 1; u < y; u++) f[u].applyMatrix4(v.makeRotationAxis(p[u], r * u)), m[u].crossVectors(p[u], f[u]) }, o.PolyhedronGeometry = function(t, e, i, n) {
            function r(t) { var e = t.normalize().clone();
                e.index = c.vertices.push(e) - 1; var i = h(t) / 2 / Math.PI + .5,
                    n = l(t) / Math.PI + .5; return e.uv = new o.Vector2(i, 1 - n), e }

            function a(t, e, i, n) { var r = new o.Face3(t.index, e.index, i.index, [t.clone(), e.clone(), i.clone()], (void 0), n);
                c.faces.push(r), b.copy(t).add(e).add(i).divideScalar(3); var a = h(b);
                c.faceVertexUvs[0].push([u(t.uv, t, a), u(e.uv, e, a), u(i.uv, i, a)]) }

            function s(t, e) { for (var i = Math.pow(2, e), n = r(c.vertices[t.a]), o = r(c.vertices[t.b]), s = r(c.vertices[t.c]), h = [], l = t.materialIndex, u = 0; u <= i; u++) { h[u] = []; for (var d = r(n.clone().lerp(s, u / i)), p = r(o.clone().lerp(s, u / i)), f = i - u, m = 0; m <= f; m++) 0 === m && u === i ? h[u][m] = d : h[u][m] = r(d.clone().lerp(p, m / f)) } for (var u = 0; u < i; u++)
                    for (var m = 0; m < 2 * (i - u) - 1; m++) { var g = Math.floor(m / 2);
                        m % 2 === 0 ? a(h[u][g + 1], h[u + 1][g], h[u][g], l) : a(h[u][g + 1], h[u + 1][g + 1], h[u + 1][g], l) } }

            function h(t) { return Math.atan2(t.z, -t.x) }

            function l(t) { return Math.atan2(-t.y, Math.sqrt(t.x * t.x + t.z * t.z)) }

            function u(t, e, i) { return i < 0 && 1 === t.x && (t = new o.Vector2(t.x - 1, t.y)), 0 === e.x && 0 === e.z && (t = new o.Vector2(i / 2 / Math.PI + .5, t.y)), t.clone() } o.Geometry.call(this), this.type = "PolyhedronGeometry", this.parameters = { vertices: t, indices: e, radius: i, detail: n }, i = i || 1, n = n || 0; for (var c = this, d = 0, p = t.length; d < p; d += 3) r(new o.Vector3(t[d], t[d + 1], t[d + 2])); for (var f = this.vertices, m = [], d = 0, g = 0, p = e.length; d < p; d += 3, g++) { var v = f[e[d]],
                    y = f[e[d + 1]],
                    _ = f[e[d + 2]];
                m[g] = new o.Face3(v.index, y.index, _.index, [v.clone(), y.clone(), _.clone()], (void 0), g) } for (var b = new o.Vector3, d = 0, p = m.length; d < p; d++) s(m[d], n); for (var d = 0, p = this.faceVertexUvs[0].length; d < p; d++) { var x = this.faceVertexUvs[0][d],
                    w = x[0].x,
                    T = x[1].x,
                    S = x[2].x,
                    M = Math.max(w, T, S),
                    E = Math.min(w, T, S);
                M > .9 && E < .1 && (w < .2 && (x[0].x += 1), T < .2 && (x[1].x += 1), S < .2 && (x[2].x += 1)) } for (var d = 0, p = this.vertices.length; d < p; d++) this.vertices[d].multiplyScalar(i);
            this.mergeVertices(), this.computeFaceNormals(), this.boundingSphere = new o.Sphere(new o.Vector3, i) }, o.PolyhedronGeometry.prototype = Object.create(o.Geometry.prototype), o.PolyhedronGeometry.prototype.constructor = o.PolyhedronGeometry, o.DodecahedronGeometry = function(t, e) { var i = (1 + Math.sqrt(5)) / 2,
                n = 1 / i,
                r = [-1, -1, -1, -1, -1, 1, -1, 1, -1, -1, 1, 1, 1, -1, -1, 1, -1, 1, 1, 1, -1, 1, 1, 1, 0, -n, -i, 0, -n, i, 0, n, -i, 0, n, i, -n, -i, 0, -n, i, 0, n, -i, 0, n, i, 0, -i, 0, -n, i, 0, -n, -i, 0, n, i, 0, n],
                a = [3, 11, 7, 3, 7, 15, 3, 15, 13, 7, 19, 17, 7, 17, 6, 7, 6, 15, 17, 4, 8, 17, 8, 10, 17, 10, 6, 8, 0, 16, 8, 16, 2, 8, 2, 10, 0, 12, 1, 0, 1, 18, 0, 18, 16, 6, 10, 2, 6, 2, 13, 6, 13, 15, 2, 16, 18, 2, 18, 3, 2, 3, 13, 18, 1, 9, 18, 9, 11, 18, 11, 3, 4, 14, 12, 4, 12, 0, 4, 0, 8, 11, 9, 5, 11, 5, 19, 11, 19, 7, 19, 5, 14, 19, 14, 4, 19, 4, 17, 1, 12, 14, 1, 14, 5, 1, 5, 9];
            o.PolyhedronGeometry.call(this, r, a, t, e), this.type = "DodecahedronGeometry", this.parameters = { radius: t, detail: e } }, o.DodecahedronGeometry.prototype = Object.create(o.PolyhedronGeometry.prototype), o.DodecahedronGeometry.prototype.constructor = o.DodecahedronGeometry, o.IcosahedronGeometry = function(t, e) { var i = (1 + Math.sqrt(5)) / 2,
                n = [-1, i, 0, 1, i, 0, -1, -i, 0, 1, -i, 0, 0, -1, i, 0, 1, i, 0, -1, -i, 0, 1, -i, i, 0, -1, i, 0, 1, -i, 0, -1, -i, 0, 1],
                r = [0, 11, 5, 0, 5, 1, 0, 1, 7, 0, 7, 10, 0, 10, 11, 1, 5, 9, 5, 11, 4, 11, 10, 2, 10, 7, 6, 7, 1, 8, 3, 9, 4, 3, 4, 2, 3, 2, 6, 3, 6, 8, 3, 8, 9, 4, 9, 5, 2, 4, 11, 6, 2, 10, 8, 6, 7, 9, 8, 1];
            o.PolyhedronGeometry.call(this, n, r, t, e), this.type = "IcosahedronGeometry", this.parameters = { radius: t, detail: e } }, o.IcosahedronGeometry.prototype = Object.create(o.PolyhedronGeometry.prototype), o.IcosahedronGeometry.prototype.constructor = o.IcosahedronGeometry, o.OctahedronGeometry = function(t, e) { var i = [1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1, 0, 0, 0, 1, 0, 0, -1],
                n = [0, 2, 4, 0, 4, 3, 0, 3, 5, 0, 5, 2, 1, 2, 5, 1, 5, 3, 1, 3, 4, 1, 4, 2];
            o.PolyhedronGeometry.call(this, i, n, t, e), this.type = "OctahedronGeometry", this.parameters = { radius: t, detail: e } }, o.OctahedronGeometry.prototype = Object.create(o.PolyhedronGeometry.prototype), o.OctahedronGeometry.prototype.constructor = o.OctahedronGeometry, o.TetrahedronGeometry = function(t, e) { var i = [1, 1, 1, -1, -1, 1, -1, 1, -1, 1, -1, -1],
                n = [2, 1, 0, 0, 3, 2, 1, 3, 0, 2, 3, 1];
            o.PolyhedronGeometry.call(this, i, n, t, e), this.type = "TetrahedronGeometry", this.parameters = { radius: t, detail: e } }, o.TetrahedronGeometry.prototype = Object.create(o.PolyhedronGeometry.prototype), o.TetrahedronGeometry.prototype.constructor = o.TetrahedronGeometry, o.ParametricGeometry = function(t, e, i) { o.Geometry.call(this), this.type = "ParametricGeometry", this.parameters = { func: t, slices: e, stacks: i }; var n, r, a, s, h, l = this.vertices,
                u = this.faces,
                c = this.faceVertexUvs[0],
                d = e + 1; for (n = 0; n <= i; n++)
                for (h = n / i, r = 0; r <= e; r++) s = r / e, a = t(s, h), l.push(a); var p, f, m, g, v, y, _, b; for (n = 0; n < i; n++)
                for (r = 0; r < e; r++) p = n * d + r, f = n * d + r + 1, m = (n + 1) * d + r + 1, g = (n + 1) * d + r, v = new o.Vector2(r / e, n / i), y = new o.Vector2((r + 1) / e, n / i), _ = new o.Vector2((r + 1) / e, (n + 1) / i), b = new o.Vector2(r / e, (n + 1) / i), u.push(new o.Face3(p, f, g)), c.push([v, y, b]), u.push(new o.Face3(f, m, g)), c.push([y.clone(), _, b.clone()]);
            this.computeFaceNormals(), this.computeVertexNormals() }, o.ParametricGeometry.prototype = Object.create(o.Geometry.prototype), o.ParametricGeometry.prototype.constructor = o.ParametricGeometry, o.WireframeGeometry = function(t) {
            function e(t, e) { return t - e } o.BufferGeometry.call(this); var i = [0, 0],
                n = {},
                r = ["a", "b", "c"]; if (t instanceof o.Geometry) { for (var a = t.vertices, s = t.faces, h = 0, l = new Uint32Array(6 * s.length), u = 0, c = s.length; u < c; u++)
                    for (var d = s[u], p = 0; p < 3; p++) { i[0] = d[r[p]], i[1] = d[r[(p + 1) % 3]], i.sort(e); var f = i.toString();
                        void 0 === n[f] && (l[2 * h] = i[0], l[2 * h + 1] = i[1], n[f] = !0, h++) }
                for (var m = new Float32Array(2 * h * 3), u = 0, c = h; u < c; u++)
                    for (var p = 0; p < 2; p++) { var g = a[l[2 * u + p]],
                            v = 6 * u + 3 * p;
                        m[v + 0] = g.x, m[v + 1] = g.y, m[v + 2] = g.z } this.addAttribute("position", new o.BufferAttribute(m, 3)) } else if (t instanceof o.BufferGeometry)
                if (null !== t.index) { var y = t.index.array,
                        a = t.attributes.position,
                        _ = t.groups,
                        h = 0;
                    0 === _.length && t.addGroup(0, y.length); for (var l = new Uint32Array(2 * y.length), b = 0, x = _.length; b < x; ++b)
                        for (var w = _[b], T = w.start, S = w.count, u = T, M = T + S; u < M; u += 3)
                            for (var p = 0; p < 3; p++) { i[0] = y[u + p], i[1] = y[u + (p + 1) % 3], i.sort(e); var f = i.toString();
                                void 0 === n[f] && (l[2 * h] = i[0], l[2 * h + 1] = i[1], n[f] = !0, h++) }
                    for (var m = new Float32Array(2 * h * 3), u = 0, c = h; u < c; u++)
                        for (var p = 0; p < 2; p++) { var v = 6 * u + 3 * p,
                                E = l[2 * u + p];
                            m[v + 0] = a.getX(E), m[v + 1] = a.getY(E), m[v + 2] = a.getZ(E) } this.addAttribute("position", new o.BufferAttribute(m, 3)) } else { for (var a = t.attributes.position.array, h = a.length / 3, A = h / 3, m = new Float32Array(2 * h * 3), u = 0, c = A; u < c; u++)
                        for (var p = 0; p < 3; p++) { var v = 18 * u + 6 * p,
                                C = 9 * u + 3 * p;
                            m[v + 0] = a[C], m[v + 1] = a[C + 1], m[v + 2] = a[C + 2]; var E = 9 * u + 3 * ((p + 1) % 3);
                            m[v + 3] = a[E], m[v + 4] = a[E + 1], m[v + 5] = a[E + 2] } this.addAttribute("position", new o.BufferAttribute(m, 3)) } }, o.WireframeGeometry.prototype = Object.create(o.BufferGeometry.prototype), o.WireframeGeometry.prototype.constructor = o.WireframeGeometry, o.AxisHelper = function(t) { t = t || 1; var e = new Float32Array([0, 0, 0, t, 0, 0, 0, 0, 0, 0, t, 0, 0, 0, 0, 0, 0, t]),
                i = new Float32Array([1, 0, 0, 1, .6, 0, 0, 1, 0, .6, 1, 0, 0, 0, 1, 0, .6, 1]),
                n = new o.BufferGeometry;
            n.addAttribute("position", new o.BufferAttribute(e, 3)), n.addAttribute("color", new o.BufferAttribute(i, 3)); var r = new o.LineBasicMaterial({ vertexColors: o.VertexColors });
            o.LineSegments.call(this, n, r) }, o.AxisHelper.prototype = Object.create(o.LineSegments.prototype), o.AxisHelper.prototype.constructor = o.AxisHelper, o.ArrowHelper = function() { var t = new o.Geometry;
            t.vertices.push(new o.Vector3(0, 0, 0), new o.Vector3(0, 1, 0)); var e = new o.CylinderGeometry(0, .5, 1, 5, 1); return e.translate(0, -.5, 0),
                function(i, n, r, a, s, h) { o.Object3D.call(this), void 0 === a && (a = 16776960), void 0 === r && (r = 1), void 0 === s && (s = .2 * r), void 0 === h && (h = .2 * s), this.position.copy(n), this.line = new o.Line(t, new o.LineBasicMaterial({ color: a })), this.line.matrixAutoUpdate = !1, this.add(this.line), this.cone = new o.Mesh(e, new o.MeshBasicMaterial({ color: a })), this.cone.matrixAutoUpdate = !1, this.add(this.cone), this.setDirection(i), this.setLength(r, s, h) } }(), o.ArrowHelper.prototype = Object.create(o.Object3D.prototype), o.ArrowHelper.prototype.constructor = o.ArrowHelper, o.ArrowHelper.prototype.setDirection = function() { var t, e = new o.Vector3; return function(i) { i.y > .99999 ? this.quaternion.set(0, 0, 0, 1) : i.y < -.99999 ? this.quaternion.set(1, 0, 0, 0) : (e.set(i.z, 0, -i.x).normalize(), t = Math.acos(i.y), this.quaternion.setFromAxisAngle(e, t)) } }(), o.ArrowHelper.prototype.setLength = function(t, e, i) { void 0 === e && (e = .2 * t), void 0 === i && (i = .2 * e), this.line.scale.set(1, Math.max(0, t - e), 1), this.line.updateMatrix(), this.cone.scale.set(i, e, i), this.cone.position.y = t, this.cone.updateMatrix() }, o.ArrowHelper.prototype.setColor = function(t) { this.line.material.color.set(t), this.cone.material.color.set(t) }, o.BoxHelper = function(t) { var e = new Uint16Array([0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7]),
                i = new Float32Array(24),
                n = new o.BufferGeometry;
            n.setIndex(new o.BufferAttribute(e, 1)), n.addAttribute("position", new o.BufferAttribute(i, 3)), o.LineSegments.call(this, n, new o.LineBasicMaterial({ color: 16776960 })), void 0 !== t && this.update(t) }, o.BoxHelper.prototype = Object.create(o.LineSegments.prototype), o.BoxHelper.prototype.constructor = o.BoxHelper, o.BoxHelper.prototype.update = function() { var t = new o.Box3; return function(e) { if (t.setFromObject(e), !t.isEmpty()) { var i = t.min,
                        n = t.max,
                        r = this.geometry.attributes.position,
                        o = r.array;
                    o[0] = n.x, o[1] = n.y, o[2] = n.z, o[3] = i.x, o[4] = n.y, o[5] = n.z, o[6] = i.x, o[7] = i.y, o[8] = n.z, o[9] = n.x, o[10] = i.y, o[11] = n.z, o[12] = n.x, o[13] = n.y, o[14] = i.z, o[15] = i.x, o[16] = n.y, o[17] = i.z, o[18] = i.x, o[19] = i.y, o[20] = i.z, o[21] = n.x, o[22] = i.y, o[23] = i.z, r.needsUpdate = !0, this.geometry.computeBoundingSphere() } } }(), o.BoundingBoxHelper = function(t, e) { var i = void 0 !== e ? e : 8947848;
            this.object = t, this.box = new o.Box3, o.Mesh.call(this, new o.BoxGeometry(1, 1, 1), new o.MeshBasicMaterial({ color: i, wireframe: !0 })) }, o.BoundingBoxHelper.prototype = Object.create(o.Mesh.prototype), o.BoundingBoxHelper.prototype.constructor = o.BoundingBoxHelper, o.BoundingBoxHelper.prototype.update = function() { this.box.setFromObject(this.object), this.box.size(this.scale), this.box.center(this.position) }, o.CameraHelper = function(t) {
            function e(t, e, n) { i(t, n), i(e, n) }

            function i(t, e) { n.vertices.push(new o.Vector3), n.colors.push(new o.Color(e)), void 0 === a[t] && (a[t] = []), a[t].push(n.vertices.length - 1) } var n = new o.Geometry,
                r = new o.LineBasicMaterial({ color: 16777215, vertexColors: o.FaceColors }),
                a = {},
                s = 16755200,
                h = 16711680,
                l = 43775,
                u = 16777215,
                c = 3355443;
            e("n1", "n2", s), e("n2", "n4", s), e("n4", "n3", s), e("n3", "n1", s), e("f1", "f2", s), e("f2", "f4", s), e("f4", "f3", s), e("f3", "f1", s), e("n1", "f1", s), e("n2", "f2", s), e("n3", "f3", s), e("n4", "f4", s), e("p", "n1", h), e("p", "n2", h), e("p", "n3", h), e("p", "n4", h), e("u1", "u2", l), e("u2", "u3", l), e("u3", "u1", l), e("c", "t", u), e("p", "c", c), e("cn1", "cn2", c), e("cn3", "cn4", c), e("cf1", "cf2", c), e("cf3", "cf4", c), o.LineSegments.call(this, n, r), this.camera = t, this.camera.updateProjectionMatrix(), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, this.pointMap = a, this.update() }, o.CameraHelper.prototype = Object.create(o.LineSegments.prototype), o.CameraHelper.prototype.constructor = o.CameraHelper, o.CameraHelper.prototype.update = function() {
            function t(t, o, a, s) { n.set(o, a, s).unproject(r); var h = i[t]; if (void 0 !== h)
                    for (var l = 0, u = h.length; l < u; l++) e.vertices[h[l]].copy(n) } var e, i, n = new o.Vector3,
                r = new o.Camera; return function() { e = this.geometry, i = this.pointMap; var n = 1,
                    o = 1;
                r.projectionMatrix.copy(this.camera.projectionMatrix), t("c", 0, 0, -1), t("t", 0, 0, 1), t("n1", -n, -o, -1), t("n2", n, -o, -1), t("n3", -n, o, -1), t("n4", n, o, -1), t("f1", -n, -o, 1), t("f2", n, -o, 1), t("f3", -n, o, 1), t("f4", n, o, 1), t("u1", .7 * n, 1.1 * o, -1), t("u2", .7 * -n, 1.1 * o, -1), t("u3", 0, 2 * o, -1), t("cf1", -n, 0, 1), t("cf2", n, 0, 1), t("cf3", 0, -o, 1), t("cf4", 0, o, 1), t("cn1", -n, 0, -1), t("cn2", n, 0, -1), t("cn3", 0, -o, -1), t("cn4", 0, o, -1), e.verticesNeedUpdate = !0 } }(), o.DirectionalLightHelper = function(t, e) { o.Object3D.call(this), this.light = t, this.light.updateMatrixWorld(), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, e = e || 1; var i = new o.Geometry;
            i.vertices.push(new o.Vector3((-e), e, 0), new o.Vector3(e, e, 0), new o.Vector3(e, (-e), 0), new o.Vector3((-e), (-e), 0), new o.Vector3((-e), e, 0)); var n = new o.LineBasicMaterial({ fog: !1 });
            n.color.copy(this.light.color).multiplyScalar(this.light.intensity), this.lightPlane = new o.Line(i, n), this.add(this.lightPlane), i = new o.Geometry, i.vertices.push(new o.Vector3, new o.Vector3), n = new o.LineBasicMaterial({ fog: !1 }), n.color.copy(this.light.color).multiplyScalar(this.light.intensity), this.targetLine = new o.Line(i, n), this.add(this.targetLine), this.update() }, o.DirectionalLightHelper.prototype = Object.create(o.Object3D.prototype), o.DirectionalLightHelper.prototype.constructor = o.DirectionalLightHelper, o.DirectionalLightHelper.prototype.dispose = function() { this.lightPlane.geometry.dispose(), this.lightPlane.material.dispose(), this.targetLine.geometry.dispose(), this.targetLine.material.dispose() }, o.DirectionalLightHelper.prototype.update = function() { var t = new o.Vector3,
                e = new o.Vector3,
                i = new o.Vector3; return function() { t.setFromMatrixPosition(this.light.matrixWorld), e.setFromMatrixPosition(this.light.target.matrixWorld), i.subVectors(e, t), this.lightPlane.lookAt(i), this.lightPlane.material.color.copy(this.light.color).multiplyScalar(this.light.intensity), this.targetLine.geometry.vertices[1].copy(i), this.targetLine.geometry.verticesNeedUpdate = !0, this.targetLine.material.color.copy(this.lightPlane.material.color) } }(), o.EdgesHelper = function(t, e, i) { var n = void 0 !== e ? e : 16777215;
            o.LineSegments.call(this, new o.EdgesGeometry(t.geometry, i), new o.LineBasicMaterial({ color: n })), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1 }, o.EdgesHelper.prototype = Object.create(o.LineSegments.prototype), o.EdgesHelper.prototype.constructor = o.EdgesHelper, o.FaceNormalsHelper = function(t, e, i, n) { this.object = t, this.size = void 0 !== e ? e : 1; var r = void 0 !== i ? i : 16776960,
                a = void 0 !== n ? n : 1,
                s = 0,
                h = this.object.geometry;
            h instanceof o.Geometry && (s = h.faces.length); var l = new o.BufferGeometry,
                u = new o.Float32Attribute(2 * s * 3, 3);
            l.addAttribute("position", u), o.LineSegments.call(this, l, new o.LineBasicMaterial({ color: r, linewidth: a })), this.matrixAutoUpdate = !1, this.update() }, o.FaceNormalsHelper.prototype = Object.create(o.LineSegments.prototype), o.FaceNormalsHelper.prototype.constructor = o.FaceNormalsHelper, o.FaceNormalsHelper.prototype.update = function() { var t = new o.Vector3,
                e = new o.Vector3,
                i = new o.Matrix3; return function() { this.object.updateMatrixWorld(!0), i.getNormalMatrix(this.object.matrixWorld); for (var n = this.object.matrixWorld, r = this.geometry.attributes.position, o = this.object.geometry, a = o.vertices, s = o.faces, h = 0, l = 0, u = s.length; l < u; l++) { var c = s[l],
                        d = c.normal;
                    t.copy(a[c.a]).add(a[c.b]).add(a[c.c]).divideScalar(3).applyMatrix4(n), e.copy(d).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t), r.setXYZ(h, t.x, t.y, t.z), h += 1, r.setXYZ(h, e.x, e.y, e.z), h += 1 } return r.needsUpdate = !0, this } }(), o.GridHelper = function(t, e) { var i = new o.Geometry,
                n = new o.LineBasicMaterial({ vertexColors: o.VertexColors });
            this.color1 = new o.Color(4473924), this.color2 = new o.Color(8947848); for (var r = -t; r <= t; r += e) { i.vertices.push(new o.Vector3((-t), 0, r), new o.Vector3(t, 0, r), new o.Vector3(r, 0, (-t)), new o.Vector3(r, 0, t)); var a = 0 === r ? this.color1 : this.color2;
                i.colors.push(a, a, a, a) } o.LineSegments.call(this, i, n) }, o.GridHelper.prototype = Object.create(o.LineSegments.prototype), o.GridHelper.prototype.constructor = o.GridHelper, o.GridHelper.prototype.setColors = function(t, e) { this.color1.set(t), this.color2.set(e), this.geometry.colorsNeedUpdate = !0 }, o.HemisphereLightHelper = function(t, e) { o.Object3D.call(this), this.light = t, this.light.updateMatrixWorld(), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, this.colors = [new o.Color, new o.Color]; var i = new o.SphereGeometry(e, 4, 2);
            i.rotateX(-Math.PI / 2); for (var n = 0, r = 8; n < r; n++) i.faces[n].color = this.colors[n < 4 ? 0 : 1]; var a = new o.MeshBasicMaterial({ vertexColors: o.FaceColors, wireframe: !0 });
            this.lightSphere = new o.Mesh(i, a), this.add(this.lightSphere), this.update() }, o.HemisphereLightHelper.prototype = Object.create(o.Object3D.prototype), o.HemisphereLightHelper.prototype.constructor = o.HemisphereLightHelper, o.HemisphereLightHelper.prototype.dispose = function() { this.lightSphere.geometry.dispose(), this.lightSphere.material.dispose() }, o.HemisphereLightHelper.prototype.update = function() { var t = new o.Vector3; return function() { this.colors[0].copy(this.light.color).multiplyScalar(this.light.intensity), this.colors[1].copy(this.light.groundColor).multiplyScalar(this.light.intensity), this.lightSphere.lookAt(t.setFromMatrixPosition(this.light.matrixWorld).negate()), this.lightSphere.geometry.colorsNeedUpdate = !0 } }(), o.PointLightHelper = function(t, e) { this.light = t, this.light.updateMatrixWorld(); var i = new o.SphereGeometry(e, 4, 2),
                n = new o.MeshBasicMaterial({ wireframe: !0, fog: !1 });
            n.color.copy(this.light.color).multiplyScalar(this.light.intensity), o.Mesh.call(this, i, n), this.matrix = this.light.matrixWorld, this.matrixAutoUpdate = !1 }, o.PointLightHelper.prototype = Object.create(o.Mesh.prototype), o.PointLightHelper.prototype.constructor = o.PointLightHelper, o.PointLightHelper.prototype.dispose = function() { this.geometry.dispose(), this.material.dispose() }, o.PointLightHelper.prototype.update = function() { this.material.color.copy(this.light.color).multiplyScalar(this.light.intensity) }, o.SkeletonHelper = function(t) { this.bones = this.getBoneList(t); for (var e = new o.Geometry, i = 0; i < this.bones.length; i++) { var n = this.bones[i];
                n.parent instanceof o.Bone && (e.vertices.push(new o.Vector3), e.vertices.push(new o.Vector3), e.colors.push(new o.Color(0, 0, 1)), e.colors.push(new o.Color(0, 1, 0))) } e.dynamic = !0; var r = new o.LineBasicMaterial({ vertexColors: o.VertexColors, depthTest: !1, depthWrite: !1, transparent: !0 });
            o.LineSegments.call(this, e, r), this.root = t, this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1, this.update() }, o.SkeletonHelper.prototype = Object.create(o.LineSegments.prototype), o.SkeletonHelper.prototype.constructor = o.SkeletonHelper, o.SkeletonHelper.prototype.getBoneList = function(t) { var e = [];
            t instanceof o.Bone && e.push(t); for (var i = 0; i < t.children.length; i++) e.push.apply(e, this.getBoneList(t.children[i])); return e }, o.SkeletonHelper.prototype.update = function() { for (var t = this.geometry, e = (new o.Matrix4).getInverse(this.root.matrixWorld), i = new o.Matrix4, n = 0, r = 0; r < this.bones.length; r++) { var a = this.bones[r];
                a.parent instanceof o.Bone && (i.multiplyMatrices(e, a.matrixWorld), t.vertices[n].setFromMatrixPosition(i), i.multiplyMatrices(e, a.parent.matrixWorld), t.vertices[n + 1].setFromMatrixPosition(i), n += 2) } t.verticesNeedUpdate = !0, t.computeBoundingSphere() }, o.SpotLightHelper = function(t) { o.Object3D.call(this), this.light = t, this.light.updateMatrixWorld(), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1; var e = new o.CylinderGeometry(0, 1, 1, 8, 1, (!0));
            e.translate(0, -.5, 0), e.rotateX(-Math.PI / 2); var i = new o.MeshBasicMaterial({ wireframe: !0, fog: !1 });
            this.cone = new o.Mesh(e, i), this.add(this.cone), this.update() }, o.SpotLightHelper.prototype = Object.create(o.Object3D.prototype), o.SpotLightHelper.prototype.constructor = o.SpotLightHelper, o.SpotLightHelper.prototype.dispose = function() { this.cone.geometry.dispose(), this.cone.material.dispose() }, o.SpotLightHelper.prototype.update = function() { var t = new o.Vector3,
                e = new o.Vector3; return function() { var i = this.light.distance ? this.light.distance : 1e4,
                    n = i * Math.tan(this.light.angle);
                this.cone.scale.set(n, n, i), t.setFromMatrixPosition(this.light.matrixWorld), e.setFromMatrixPosition(this.light.target.matrixWorld), this.cone.lookAt(e.sub(t)), this.cone.material.color.copy(this.light.color).multiplyScalar(this.light.intensity) } }(), o.VertexNormalsHelper = function(t, e, i, n) { this.object = t, this.size = void 0 !== e ? e : 1; var r = void 0 !== i ? i : 16711680,
                a = void 0 !== n ? n : 1,
                s = 0,
                h = this.object.geometry;
            h instanceof o.Geometry ? s = 3 * h.faces.length : h instanceof o.BufferGeometry && (s = h.attributes.normal.count); var l = new o.BufferGeometry,
                u = new o.Float32Attribute(2 * s * 3, 3);
            l.addAttribute("position", u), o.LineSegments.call(this, l, new o.LineBasicMaterial({ color: r, linewidth: a })), this.matrixAutoUpdate = !1, this.update() }, o.VertexNormalsHelper.prototype = Object.create(o.LineSegments.prototype), o.VertexNormalsHelper.prototype.constructor = o.VertexNormalsHelper, o.VertexNormalsHelper.prototype.update = function() { var t = new o.Vector3,
                e = new o.Vector3,
                i = new o.Matrix3; return function() { var n = ["a", "b", "c"];
                this.object.updateMatrixWorld(!0), i.getNormalMatrix(this.object.matrixWorld); var r = this.object.matrixWorld,
                    a = this.geometry.attributes.position,
                    s = this.object.geometry; if (s instanceof o.Geometry)
                    for (var h = s.vertices, l = s.faces, u = 0, c = 0, d = l.length; c < d; c++)
                        for (var p = l[c], f = 0, m = p.vertexNormals.length; f < m; f++) { var g = h[p[n[f]]],
                                v = p.vertexNormals[f];
                            t.copy(g).applyMatrix4(r), e.copy(v).applyMatrix3(i).normalize().multiplyScalar(this.size).add(t), a.setXYZ(u, t.x, t.y, t.z), u += 1, a.setXYZ(u, e.x, e.y, e.z), u += 1 } else if (s instanceof o.BufferGeometry)
                            for (var y = s.attributes.position, _ = s.attributes.normal, u = 0, f = 0, m = y.count; f < m; f++) t.set(y.getX(f), y.getY(f), y.getZ(f)).applyMatrix4(r), e.set(_.getX(f), _.getY(f), _.getZ(f)), e.applyMatrix3(i).normalize().multiplyScalar(this.size).add(t), a.setXYZ(u, t.x, t.y, t.z), u += 1, a.setXYZ(u, e.x, e.y, e.z), u += 1; return a.needsUpdate = !0, this } }(), o.WireframeHelper = function(t, e) { var i = void 0 !== e ? e : 16777215;
            o.LineSegments.call(this, new o.WireframeGeometry(t.geometry), new o.LineBasicMaterial({ color: i })), this.matrix = t.matrixWorld, this.matrixAutoUpdate = !1 }, o.WireframeHelper.prototype = Object.create(o.LineSegments.prototype), o.WireframeHelper.prototype.constructor = o.WireframeHelper, o.ImmediateRenderObject = function(t) { o.Object3D.call(this), this.material = t, this.render = function(t) {} }, o.ImmediateRenderObject.prototype = Object.create(o.Object3D.prototype), o.ImmediateRenderObject.prototype.constructor = o.ImmediateRenderObject, o.MorphBlendMesh = function(t, e) { o.Mesh.call(this, t, e), this.animationsMap = {}, this.animationsList = []; var i = this.geometry.morphTargets.length,
                n = "__default",
                r = 0,
                a = i - 1,
                s = i / 1;
            this.createAnimation(n, r, a, s), this.setAnimationWeight(n, 1) }, o.MorphBlendMesh.prototype = Object.create(o.Mesh.prototype), o.MorphBlendMesh.prototype.constructor = o.MorphBlendMesh, o.MorphBlendMesh.prototype.createAnimation = function(t, e, i, n) { var r = { start: e, end: i, length: i - e + 1, fps: n, duration: (i - e) / n, lastFrame: 0, currentFrame: 0, active: !1, time: 0, direction: 1, weight: 1, directionBackwards: !1, mirroredLoop: !1 };
            this.animationsMap[t] = r, this.animationsList.push(r) }, o.MorphBlendMesh.prototype.autoCreateAnimations = function(t) { for (var e, i = /([a-z]+)_?(\d+)/i, n = {}, r = this.geometry, o = 0, a = r.morphTargets.length; o < a; o++) { var s = r.morphTargets[o],
                    h = s.name.match(i); if (h && h.length > 1) { var l = h[1];
                    n[l] || (n[l] = { start: 1 / 0, end: -(1 / 0) }); var u = n[l];
                    o < u.start && (u.start = o), o > u.end && (u.end = o), e || (e = l) } } for (var l in n) { var u = n[l];
                this.createAnimation(l, u.start, u.end, t) } this.firstAnimation = e }, o.MorphBlendMesh.prototype.setAnimationDirectionForward = function(t) { var e = this.animationsMap[t];
            e && (e.direction = 1, e.directionBackwards = !1) }, o.MorphBlendMesh.prototype.setAnimationDirectionBackward = function(t) { var e = this.animationsMap[t];
            e && (e.direction = -1, e.directionBackwards = !0) }, o.MorphBlendMesh.prototype.setAnimationFPS = function(t, e) { var i = this.animationsMap[t];
            i && (i.fps = e, i.duration = (i.end - i.start) / i.fps) }, o.MorphBlendMesh.prototype.setAnimationDuration = function(t, e) { var i = this.animationsMap[t];
            i && (i.duration = e, i.fps = (i.end - i.start) / i.duration) }, o.MorphBlendMesh.prototype.setAnimationWeight = function(t, e) { var i = this.animationsMap[t];
            i && (i.weight = e) }, o.MorphBlendMesh.prototype.setAnimationTime = function(t, e) { var i = this.animationsMap[t];
            i && (i.time = e) }, o.MorphBlendMesh.prototype.getAnimationTime = function(t) { var e = 0,
                i = this.animationsMap[t]; return i && (e = i.time), e }, o.MorphBlendMesh.prototype.getAnimationDuration = function(t) { var e = -1,
                i = this.animationsMap[t]; return i && (e = i.duration), e }, o.MorphBlendMesh.prototype.playAnimation = function(t) { var e = this.animationsMap[t];
            e && (e.time = 0, e.active = !0) }, o.MorphBlendMesh.prototype.stopAnimation = function(t) { var e = this.animationsMap[t];
            e && (e.active = !1) }, o.MorphBlendMesh.prototype.update = function(t) { for (var e = 0, i = this.animationsList.length; e < i; e++) { var n = this.animationsList[e]; if (n.active) { var r = n.duration / n.length;
                    n.time += n.direction * t, n.mirroredLoop ? (n.time > n.duration || n.time < 0) && (n.direction *= -1, n.time > n.duration && (n.time = n.duration, n.directionBackwards = !0), n.time < 0 && (n.time = 0, n.directionBackwards = !1)) : (n.time = n.time % n.duration, n.time < 0 && (n.time += n.duration)); var a = n.start + o.Math.clamp(Math.floor(n.time / r), 0, n.length - 1),
                        s = n.weight;
                    a !== n.currentFrame && (this.morphTargetInfluences[n.lastFrame] = 0, this.morphTargetInfluences[n.currentFrame] = 1 * s, this.morphTargetInfluences[a] = 0, n.lastFrame = n.currentFrame, n.currentFrame = a); var h = n.time % r / r;
                    n.directionBackwards && (h = 1 - h), n.currentFrame !== n.lastFrame ? (this.morphTargetInfluences[n.currentFrame] = h * s, this.morphTargetInfluences[n.lastFrame] = (1 - h) * s) : this.morphTargetInfluences[n.currentFrame] = s } } }
}, function(t, e, i) {
    "use strict";

    function n(t) { return t && t.__esModule ? t : { "default": t } }

    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } e.__esModule = !0;
    var s = i(11),
        h = n(s),
        l = i(21),
        u = n(l),
        c = i(22),
        d = n(c),
        p = i(29),
        f = n(p),
        m = i(32),
        g = n(m),
        v = i(33),
        y = n(v),
        _ = i(39),
        b = n(_),
        x = i(57),
        w = n(x),
        T = i(70),
        S = n(T),
        M = i(75),
        E = n(M),
        A = i(79),
        C = n(A),
        R = i(80),
        P = n(R),
        O = i(82),
        L = n(O),
        I = i(83),
        D = n(I),
        k = i(84),
        B = n(k),
        N = i(184),
        F = n(N),
        U = i(185),
        G = n(U),
        j = i(48),
        z = n(j),
        V = i(186),
        H = n(V),
        W = i(187),
        X = n(W),
        Y = i(16),
        q = n(Y),
        K = i(188),
        Z = n(K),
        J = i(189),
        Q = n(J),
        tt = i(50),
        et = n(tt),
        it = i(191),
        nt = n(it),
        rt = i(49),
        ot = i(72),
        at = n(ot),
        st = i(157),
        ht = n(st),
        lt = i(35),
        ut = i(201),
        ct = n(ut),
        dt = i(58),
        pt = n(dt),
        ft = i(13),
        mt = n(ft),
        gt = i(8);
    window.PIXI = gt;
    var vt = i(30),
        yt = i(40);
    window.sound = vt, window.musicManager = yt, gt.glCore.VertexArrayObject.FORCE_NATIVE = !0, window.MusicManager2 = { play: function(t) { d["default"].instance.ie ? (yt.currentSound && (yt.currentSound.stop(), yt.currentSound = null), yt.currentSound = yt.music.sounds[t], yt.currentSound.play()) : yt.play(t), yt.currentSound._sounds[0]._node.bufferSource && (yt.currentSound._sounds[0]._node.bufferSource.loopEnd = yt.currentSound._duration - .25) } };
    var _t = function(t) {
        function e() {
            r(this, e);
            var i = { config: ASSET_URL + "json/config.json", loaderScreen: y["default"], backgroundColor: 0, transparent: d["default"].instance.android };
            window.cordova && (i.orientationMode = h["default"].orientationModes.BOTH);
            var n = o(this, t.call(this, i));
            window.app = n, window.renderer = n.renderer, window.ScoreAPI = at["default"], window.ticker = u["default"], n.safeSize = { width: 1136, height: 524 }, n.maxSize = { width: 1136, height: 852 }, n.renderer.transparent = !0, n.localStorage = new ht["default"];
            var a = n.localStorage.get("userCountry");
            window.URLParams.country && (a = window.URLParams.country.toUpperCase());
            var s;
            return a ? (s = lt.Translation.countries[a], z["default"].userCountry = a, n.preStartup(i, s)) : $.getJSON("#", function(t) { t.country = t.country.toUpperCase(), s = lt.Translation.countries[t.country], z["default"].userCountry = t.country, this.localStorage.store("userCountry", t.country), this.preStartup(i, s) }.bind(n)).fail(function() { z["default"].userCountry = "EN", this.ipDetectionReady = !0, this.onStartUp(), this.appReady && !this.appReadyCalled && this.onAppReady() }.bind(n)), n
        }
        return a(e, t), e.prototype.preStartup = function(t, e) { $.getJSON(t.config, function(t) { this.applyRegion(e), this.applyWinterSkin(e, t.config.WINTER_SKIN), this.onStartUp(t.config.WINTER_SKIN), this.ipDetectionReady = !0, this.appReady && !this.appReadyCalled && this.onAppReady() }.bind(this)).fail(function() {}) }, e.prototype.applyRegion = function(t) { if (t)
                for (var e in lt.Translation.regions)
                    if (lt.Translation.regions[e].REGION_ID === t.REGION) return void(z["default"].region = lt.Translation.regions[e]) }, e.prototype.applyWinterSkin = function(t, e) { if (window.URLParams.forceWinterSkin) return void(window.winterMode = !0); if (t && e) { var i, n = !1; for (var r in e.INCLUDES)
                    if (i = e.INCLUDES[r], i.indexOf("REGION") !== -1 ? t.REGION === parseInt(i.replace("REGION_", "")) && (n = !0) : t.ID === i && (n = !0), n)
                        for (var r in e.EXCLUDES)
                            if (i = e.EXCLUDES[r], t.ID === i) return; if (n) { if (window.URLParams.winterSkinDates) var o = window.URLParams.winterSkinDates.split("-"),
                        a = new Date(o[0].replace(/_/gi, " ")),
                        s = new Date(o[1].replace(/_/gi, " "));
                    else var a = new Date(e.START),
                        s = new Date(e.END); var h = new Date;
                    window.URLParams.todayDate && (h = new Date(window.URLParams.todayDate.replace(/_/gi, " "))); var l = h.getFullYear();
                    s.getMonth() < a.getMonth() ? h.getMonth() < a.getMonth() ? (a.setFullYear(l - 1), s.setFullYear(l)) : (a.setFullYear(l), s.setFullYear(l + 1)) : (a.setFullYear(l), s.setFullYear(l)), h >= a && h <= s && (window.winterMode = !0) } } }, e.prototype.onStartUp = function() {
            function t() { u["default"].instance.stop(), u["default"].game.stop(), d["default"].instance.android && (Howler._muted || (Howler.masterGain.gain.value = 0)) }

            function e() { u["default"].instance.start(), u["default"].game.start(), app.resize(window.innerWidth, window.innerHeight), d["default"].instance.android && (Howler._muted || (Howler.masterGain.gain.value = 1), setTimeout(function() { app.resize(window.innerWidth, window.innerHeight) }, 1e3)) }

            function i() { window.open = cordova.InAppBrowser.open, document.addEventListener("pause", t, !1), document.addEventListener("resume", e, !1) } this.onLanguageChange = new mt["default"], this.localStorage.get("first-play") ? window.firstPlay = !1 : (window.firstPlay = !0, this.localStorage.store("first-play", !1)), this.localStorage.get("gdprPopup") ? window.gdprPopup = !1 : window.gdprPopup = !0, this.localStorage.get("showTutorial") ? window.showTutorial = !1 : window.showTutorial = !0, window.URLParams.tutorial && (window.showTutorial = !0), "true" === this.localStorage.get("muted") && (vt.music.mute(), vt.sfx.mute()); var n = this.localStorage.get("coins");
            n && (z["default"].coins = parseInt(n)), window.URLParams.coins && (z["default"].coins = parseInt(window.URLParams.coins)), window.URLParams.firstPlay && (window.firstPlay = !0), window.URLParams.showBanner && (window.iosStore = "test", window.androidStore = "test"), this.screenManager.defaultTransition = new H["default"]; var r = !1,
                o = navigator.userAgent,
                a = /Kindle/i.test(o) || /Silk/i.test(o) || /KFTT/i.test(o) || /KFOT/i.test(o) || /KFJWA/i.test(o) || /KFJWI/i.test(o) || /KFSOWI/i.test(o) || /KFTHWA/i.test(o) || /KFTHWI/i.test(o) || /KFAPWA/i.test(o) || /KFAPWI/i.test(o) || /KFAUWI/i.test(o),
                s = /Hudl/i.test(o),
                h = /G900H/i.test(o),
                l = /MotoG3/i.test(o),
                c = /SM-J4/i.test(o),
                p = /SM-J6/i.test(o),
                f = /SM-G53/i.test(o),
                m = /LDN-TL10/i.test(o),
                g = /iPad4,1/i.test(o); if (window.isKindle = a, (a || s || l || c || p || f || m || g) && (r = !0), d["default"].instance.iPhone && window.devicePixelRatio >= 2 && (320 !== screen.availHeight && 548 !== screen.availHeight && 568 !== screen.availHeight || (r = !0)), d["default"].instance.android) { var v = parseFloat(o.slice(o.indexOf("Android") + 8));
                (h || v < 6) && (r = !0) }(window.cordova || d["default"].instance.ie) && (yt.fadeInDuration = 0, yt.fadeOutDuration = 0), window.URLParams.halfsize && (r = !0), window.halfSizeAssets = r; for (var y = [ASSET_URL + "img/ui/loader.json"], _ = [ASSET_URL + "img/ui/home_background" + (window.winterMode ? "_winter" : "") + ".jpg", ASSET_URL + "img/ui/home_stadium" + (window.winterMode ? "_winter" : "") + ".png", ASSET_URL + "img/ui/home_vignette" + (window.winterMode ? "_winter" : "") + ".png"], b = 0; b < _.length; b++) y.push(this.getFilePath(_[b]));
            window.cordova && y.push(ASSET_URL + "img/intro_logo_goodboy.png"), this.preloader.addPixiAssets(y); var x = [ASSET_URL + "img/game/game.json", ASSET_URL + "img/ui/breadcrumb.json", ASSET_URL + "img/ui/banner_back.png"],
                w = [ASSET_URL + "img/ui/flag_black.png", ASSET_URL + "img/pickup-coin.png", ASSET_URL + "img/smoke_mixed.png", ASSET_URL + "img/game/shield_bubble.png", ASSET_URL + "img/ui/overlay-background-2018.png", ASSET_URL + "img/ui/card_black.png", ASSET_URL + "img/ui/character_poster_bmo.jpg", ASSET_URL + "img/ui/character_poster_kelsey.jpg", ASSET_URL + "img/ui/character_poster_onion.jpg", ASSET_URL + "img/ui/character_poster_raven.jpg", ASSET_URL + "img/ui/character_poster_xlr8.jpg", ASSET_URL + "img/ui/character_poster_batgirl.jpg", ASSET_URL + "img/game/game_objects/ball-shadow.png"];
            window.winterMode ? w.push(ASSET_URL + "img/game/toon_pitch_full_winter.jpg") : w.push(ASSET_URL + "img/game/toon_pitch_full.jpg"); for (var b = 0; b < w.length; b++) { if (r) { var T = w[b].substr(0, w[b].indexOf(".")),
                        S = w[b].substr(w[b].indexOf("."), 4);
                    w[b] = T + "_half" + S } x.push(w[b]) } var M = [ASSET_URL + "img/game/game_bits", ASSET_URL + "img/game/referee", ASSET_URL + "img/ui/world_cup_flags", ASSET_URL + "img/ui/home_screen", ASSET_URL + "img/ui/home_logo", ASSET_URL + "img/ui/logo_translations", ASSET_URL + "img/ui/buttons", ASSET_URL + "img/ui/country_select", ASSET_URL + "img/ui/power_ups", ASSET_URL + "img/ui/character_profiles", ASSET_URL + "img/ui/character_select", ASSET_URL + "img/ui/super_shot_1", ASSET_URL + "img/ui/super_shot_2", ASSET_URL + "img/ui/tournament", ASSET_URL + "img/ui/jumbotron", ASSET_URL + "img/ui/instructions", ASSET_URL + "img/ui/jumbotron_animations", ASSET_URL + "img/ui/stickerbook", ASSET_URL + "img/ui/hud", ASSET_URL + "img/ui/your_team", ASSET_URL + "img/ui/leaderboard", ASSET_URL + "img/ui/your_team_characters", ASSET_URL + "img/game/characters/goalkeeper_blue", ASSET_URL + "img/game/characters/goalkeeper_red", ASSET_URL + "img/ui/languages"];
            window.winterMode && M.push(ASSET_URL + "img/winter"); for (var b = 0; b < M.length; b++) r && (M[b] += "_half"), M[b] += ".json", x.push(M[b]); if (this.loader.addPixiAssets(x), this.loader.addCSS(ASSET_URL + "css/fonts.css"), window.LANGUAGE = "en", this.loader.addJson(ASSET_URL + "json/strings.json", "strings"), !window.cordova && !window.webLanguage) { var E = window.navigator.userLanguage || window.navigator.language;
                E || (E = "en"), E = E.split("-")[0], window.URLParams.lang && (E = window.URLParams.lang), E = E.toLowerCase(), lt.Translation.languages[E] || (E = "en"), window.LANGUAGE = E, window.MAIN_FONT = lt.Translation.language_fonts[E] } if (!window.cordova && window.webLanguage) { var E = window.webLanguage;
                lt.Translation.languages[E] || (E = "en"), window.LANGUAGE = E, window.MAIN_FONT = lt.Translation.language_fonts[E] } var A = this.localStorage.get("language");
            window.cordova && A && (window.LANGUAGE = A, window.MAIN_FONT = lt.Translation.language_fonts[A]), this.loader.addJson(ASSET_URL + "json/character-animation.json", "character-animation"), this.loader.addCSS(ASSET_URL + "css/fonts.css"), this.loader.addFonts(["lubalin", "fredburger", "avenir", "sirichana"]); for (var C = [], b = 0; b < 40; b++) { var R = b;
                R < 10 && (R = "0" + R), C[b] = ASSET_URL + "img/game/shield/shield_" + R + ".png" } this.loader.addPixiAssets(C), this.loader.addPixiAssets([ASSET_URL + "fonts/day_count_green.xml"]), this.loader.addPixiAssets([ASSET_URL + "fonts/day_count_red.xml"]); var P = {}; for (var b in rt.CharacterData) { var O = this.localStorage.get("unlockedPanels_" + rt.CharacterData[b].id);
                O && (O = JSON.parse(O), rt.CharacterData[b].unlockedPanels = O, O.length === rt.CharacterData[b].panels && z["default"].unlocked.push(rt.CharacterData[b].id)); var L = rt.CharacterData[b].spriteSheet,
                    I = L.replace("%COLOR%", "blue"),
                    D = L.replace("%COLOR%", "red");
                r && (I = I.replace(".json", "_half.json"), D = D.replace(".json", "_half.json")), P[I] || (P[I] = !0) } var L = "finn_%COLOR%.json",
                I = L.replace("%COLOR%", "blue"),
                D = L.replace("%COLOR%", "red");
            r && (I = I.replace(".json", "_half.json"), D = D.replace(".json", "_half.json")), this.loader.addPixiAssets([ASSET_URL + "img/game/characters/" + D, ASSET_URL + "img/game/characters/" + I]), this.preloader.onComplete.addOnce(function() { this.loadSounds() }.bind(this)), this.loader.onComplete.addOnce(function() { window.cordova ? this.onAppReady() : this.loaderScreen.showPlayButton() }.bind(this)), this.startup(), document.addEventListener("deviceready", i, !1), et["default"].adbTrackAction("app_start"), et["default"].bootstrapEventTrigger("app_start"), window.cordova || this.loadWebAds() }, e.prototype.parseIpInfo = function(t) { window.URLParams.country && (t.country = window.URLParams.country), t.country = t.country.toUpperCase(); var e = lt.Translation.countries[t.country]; if (e)
                for (var i in lt.Translation.regions)
                    if (lt.Translation.regions[i].REGION_ID === e.REGION) { z["default"].region = lt.Translation.regions[i]; break } z["default"].userCountry = t.country, this.ipDetectionReady = !0, this.appReady && !this.appReadyCalled && this.onAppReady() }, e.prototype.getFilePath = function(t) { if (window.halfSizeAssets) { var e = t.substr(0, t.indexOf(".")),
                    i = t.substr(t.indexOf("."), 4);
                t = e + "_half" + i } return t }, e.prototype.changeLanguage = function(t) { var e = q["default"].getJson("strings"),
                i = e[t];
            i || (t = "en"), window.translations = i, window.LANGUAGE = t, window.MAIN_FONT = lt.Translation.language_fonts[t] || lt.Translation.language_fonts.en, this.onLanguageChange.dispatch() }, e.prototype.loadWebAds = function() { var t = document.createElement("img");
            t.crossOrigin = "anonymous", t.src = "assets/img/pitch-logo.png"; var e = new gt.BaseTexture(t);
            e.on("loaded", function() { var t = new gt.Texture(this),
                    e = new gt.Sprite(t);
                z["default"].banner1 = e }); var t = document.createElement("img");
            t.crossOrigin = "anonymous", t.src = "assets/img/tooncup2019-billboard1-final.jpg"; var e = new gt.BaseTexture(t);
            e.on("loaded", function() { var t = new gt.Texture(this),
                    e = new gt.Sprite(t);
                z["default"].banner2 = e }); var t = document.createElement("img");
            t.crossOrigin = "anonymous", t.src = "assets/img/tooncup2019-billboard2-final.png"; var e = new gt.BaseTexture(t);
            e.on("loaded", function() { var t = new gt.Texture(this),
                    e = new gt.Sprite(t);
                z["default"].banner3 = e }) }, e.prototype.loadAdImage = function(t, e) { if (window.cordova && window.cordova.plugin && window.cordova.plugin.http) { var i = { method: "get" };
                cordova.plugin.http.sendRequest(t, i, function(t) { var i = document.createElement("img");
                    i.src = "data:image/png;base64," + btoa(t.data); var n = new gt.BaseTexture(i),
                        r = new gt.Texture(n),
                        o = new gt.Sprite(r);
                    z["default"][e] = o }, function(t) {}) } }, e.prototype.saveCoins = function() { this.localStorage.store("coins", z["default"].coins) }, e.prototype.loadAds = function() { var t = window.URLParams.adUnitId || "#",
                e = window.URLParams.templateId1 || "11778280",
                i = window.URLParams.templateId2 || "11778277";
            nativeads.loadAd(t, e, z["default"].userCountry, function(e) { d["default"].instance.android ? z["default"].banner1 = gt.Sprite.fromImage(e.image) : window.app.loadAdImage(e.image, "banner1"), nativeads.loadAd(t, i, z["default"].userCountry, function(t) { d["default"].instance.android ? z["default"].banner2 = gt.Sprite.fromImage(t.image) : window.app.loadAdImage(t.image, "banner2"), window.app.loadInterstitial() }, function() {}) }, function() {}) }, e.prototype.loadInterstitial = function() { var t = window.URLParams.adUnitId || "#";
            z["default"].videoAdLoaded = !1, nativeads.loadInterstitial(t, z["default"].userCountry, function() { z["default"].videoAdLoaded = !0 }, function() {}) }, e.prototype.onPreload = function() { var t = q["default"].getJson("config").config.LOCALE,
                e = ["_ru"].indexOf(t) !== -1;
            window.MAIN_FONT = window.MAIN_FONT || (e ? "fredburger" : "lubalin"), this.background = gt.Sprite.from(this.getFilePath(ASSET_URL + "img/ui/home_background" + (window.winterMode ? "_winter" : "") + ".jpg")), this.searchLightsContainer = new gt.Container, this.background.addChild(this.searchLightsContainer); var i = gt.Sprite.from(this.getFilePath(ASSET_URL + "img/ui/home_stadium" + (window.winterMode ? "_winter" : "") + ".png"));
            this.background.addChild(i), this.spotLightsContainer = new gt.Container, this.background.addChild(this.spotLightsContainer); var n = gt.Sprite.from(this.getFilePath(ASSET_URL + "img/ui/home_vignette.png"));
            n.alpha = window.winterMode ? .4 : .5, window.winterMode && (n.blendMode = 2), this.background.addChild(n), this.stage.addChildAt(this.background, 0), this.dimmer = new gt.Graphics, this.dimmer.beginFill(0), this.dimmer.drawRect(0, 0, this.maxSize.width, this.maxSize.height), this.stage.addChildAt(this.dimmer, 1) }, e.prototype.loadSounds = function() { window.cordova && d["default"].instance.android ? (0, f["default"])(!0) : (0, f["default"])() }, e.prototype.onAppReady = function() { if (this.appReady = !0, this.ipDetectionReady && (!d["default"].instance.android || !window.cordova || this.musicLoaded) && (!window.cordova || this.goodboyLogoShowed)) { this.appReadyCalled = !0, this.background.visible = !0; var t = q["default"].getJson("strings")[window.LANGUAGE];
                window.translations = t, this.spotLights = new ct["default"](this), window.winterMode && (this.spotLightsContainer.alpha = .5), this.spotLightsContainer.addChild(this.spotLights), this.searchLights = new ct["default"](this, (!0)), window.winterMode && (this.searchLightsContainer.alpha = .5), this.searchLightsContainer.addChild(this.searchLights), this.titleScreen = new b["default"](this), this.countrySelectScreen = new S["default"](this), this.captainSelectScreen = new E["default"](this), this.playerSelectScreen = new C["default"](this, (!0)), this.playerSelectScreen2 = new C["default"](this), this.teamReviewScreen = new P["default"](this), this.tournamentScreen = new L["default"](this), this.leaderboardScreen = new D["default"](this), this.gameScreen = new B["default"](this), this.unlockablesScreen = new F["default"](this), this.settingsScreen = new G["default"](this), this.languageScreen = new w["default"](this), this.screenManager.addScreen(this.titleScreen, g["default"].SCREEN_ID.TITLE), this.screenManager.addScreen(this.countrySelectScreen, g["default"].SCREEN_ID.COUNTRY_SELECT), this.screenManager.addScreen(this.captainSelectScreen, g["default"].SCREEN_ID.CAPTAIN_SELECT), this.screenManager.addScreen(this.playerSelectScreen, g["default"].SCREEN_ID.PLAYER_SELECT), this.screenManager.addScreen(this.playerSelectScreen2, g["default"].SCREEN_ID.PLAYER_SELECT_2), this.screenManager.addScreen(this.teamReviewScreen, g["default"].SCREEN_ID.TEAM_REVIEW), this.screenManager.addScreen(this.tournamentScreen, g["default"].SCREEN_ID.TOURNAMENT), this.screenManager.addScreen(this.leaderboardScreen, g["default"].SCREEN_ID.LEADERBOARD), this.screenManager.addScreen(this.gameScreen, g["default"].SCREEN_ID.GAME), this.screenManager.addScreen(this.unlockablesScreen, g["default"].SCREEN_ID.UNLOCKABLES), this.screenManager.addScreen(this.settingsScreen, g["default"].SCREEN_ID.SETTINGS), this.screenManager.addScreen(this.languageScreen, g["default"].SCREEN_ID.LANGUAGE), this.screenManager.container.name = "screenmanager", this.screenManager.container.defaultCursor = "pointer", this.topMenu = new Z["default"](this), this.stage.addChild(this.topMenu), this.breadcrumb = new Q["default"](this), this.stage.addChildAt(this.breadcrumb, 2), this.overlayManager = new nt["default"](this), this.stage.addChildAt(this.overlayManager.view, 4), this.brand = new X["default"](this), this.stage.addChild(this.brand); var e = this.localStorage.get("language"); if (window.URLParams.teamA && window.URLParams.teamB) { var i = window.URLParams.teamA.toUpperCase();
                    i = lt.Translation.countries[i] ? lt.Translation.countries[i] : lt.Translation.countries.SE; var n = window.URLParams.teamB.toUpperCase();
                    n = lt.Translation.countries[n] ? lt.Translation.countries[n] : lt.Translation.countries.US, window.app.game.goalsA = parseInt(window.URLParams.goalsA) || 2, window.app.game.goalsB = parseInt(window.URLParams.goalsB) || 0, window.URLParams.goldenGoal && (window.app.game.goldenGoal = !0); var r = "quarter";
                    window.URLParams.match && (r = window.URLParams.match, "semifinal" === r && (z["default"].tournamentData.semi = [0, 1]), "final" === r && (z["default"].tournamentData["final"] = [0, 1])), at["default"].startGame(i.SCORE_ID, n.SCORE_ID, function(t) { var e = window.app.game.getResultMultiplier();
                        at["default"].sendScore(t.key, e, function(t) {}.bind(this)) }) } if (window.URLParams.game) z["default"].countryID = lt.Translation.countries.SE, z["default"].opponentID = lt.Translation.countries.US, this.screenManager.gotoScreenByID(g["default"].SCREEN_ID.GAME);
                else if (window.URLParams.countryselect) this.screenManager.gotoScreenByID(g["default"].SCREEN_ID.COUNTRY_SELECT);
                else if (window.URLParams.gameover) z["default"].countryID = lt.Translation.countries.SE, z["default"].opponentID = lt.Translation.countries.US, this.screenManager.gotoScreenByID(g["default"].SCREEN_ID.GAMEOVER);
                else if (window.URLParams.unlockables) this.screenManager.gotoScreenByID(g["default"].SCREEN_ID.UNLOCKABLES);
                else if (window.URLParams.leaderboard) this.screenManager.gotoScreenByID(g["default"].SCREEN_ID.LEADERBOARD);
                else if (window.URLParams.settings) this.topMenu.prevScreen = g["default"].SCREEN_ID.TITLE, this.screenManager.gotoScreenByID(g["default"].SCREEN_ID.SETTINGS);
                else if (window.URLParams.tournament) { var o = (0, lt.getCountries)(); if (pt["default"].shuffle(o), o = o.splice(0, 7), z["default"].isTournament = !0, z["default"].tournamentData.quarter = o, z["default"].countryID = lt.Translation.countries.SE, window.URLParams.userCountry && lt.Translation.countries[window.URLParams.userCountry] && (z["default"].countryID = lt.Translation.countries[window.URLParams.userCountry]), o.unshift(z["default"].countryID), window.URLParams.semi || window.URLParams["final"] || window.URLParams.winner) { z["default"].matchResult.goalsA = 1, z["default"].matchResult.goalsB = 0; for (var a = [], s = 0; s < o.length; s += 2) a.push(o[s]);
                        z["default"].tournamentData.semi = a } if (window.URLParams["final"] || window.URLParams.winner) { var h = [a[0], a[2]];
                        z["default"].tournamentData["final"] = h } window.URLParams.winner ? ("1" === window.URLParams.winner ? z["default"].tournamentData.winner = [a[0]] : "2" === window.URLParams.winner && (z["default"].tournamentData.winner = [a[2]]), this.screenManager.gotoScreenByID(g["default"].SCREEN_ID.TEAM_REVIEW)) : this.screenManager.gotoScreenByID(g["default"].SCREEN_ID.TOURNAMENT) } else window.URLParams.yourteam ? this.screenManager.gotoScreenByID(g["default"].SCREEN_ID.TEAM_REVIEW) : window.URLParams.captainselect ? (this.screenManager.gotoScreenByID(g["default"].SCREEN_ID.CAPTAIN_SELECT), this.breadcrumb.show(), this.breadcrumb.next()) : window.cordova && !e || window.URLParams.selectlanguage ? this.screenManager.gotoScreenByID(g["default"].SCREEN_ID.LANGUAGE) : this.screenManager.gotoScreenByID(g["default"].SCREEN_ID.TITLE);
                window.cordova && d["default"].instance.android && (0, f["default"])(), this.resize(this.w, this.h), window.nativeads && this.loadAds(), this.onLanguageChange.dispatch() } }, e.prototype.resize = function(t, e) { this.w = t || this.w, this.h = e || this.h; var i = 1;
            d["default"].instance.isMobile && (i = window.devicePixelRatio ? window.devicePixelRatio : window.screen.deviceXDPI / window.screen.logicalXDPI), i > 2 && (i = 2), this.scale = i; var n = t / this.safeSize.width < e / this.safeSize.height ? t / this.safeSize.width : e / this.safeSize.height,
                r = Math.min(this.maxSize.width * n, t),
                o = Math.min(this.maxSize.height * n, e);
            this.w2 = r, this.h2 = o, this.ratio = n; var a = t / this.maxSize.width < e / this.maxSize.height ? t / this.maxSize.width : e / this.maxSize.height; if (this.ratio2 = a, this.renderer.resize(r * i | 0, o * i | 0), this.view.style.width = r + "px", this.view.style.height = o + "px", this.view.style.left = t / 2 - r / 2 + "px", this.view.style.top = e / 2 - o / 2 + "px", this.screenManager.resize(r / n, o / n), this.brand && (this.brand.resize(r / n, o / n), this.brand.scale.set(n * i)), this.overlayManager && (this.overlayManager.resize(r / n, o / n), this.overlayManager.view.scale.set(n * i)), this.background) { var s = a * i * .8; if (window.halfSizeAssets && (s *= 2), this.background.scale.set(s), this.background.width < r * i) { var h = this.background.width / this.background.height;
                    this.background.width = r * i, this.background.height = r * i / h } this.background.x = r / 2 - this.background.width / 2 / i, this.background.y = o - this.background.height / i } this.dimmer && this.dimmer.scale.set(n * i), this.topMenu && (this.topMenu.scale.set(a * i), this.topMenu.resize(r / a, o / a)), this.breadcrumb && (this.breadcrumb.resize(r / n, o / n), this.breadcrumb.scale.set(n * i)), this.screenManager.container.scale.set(a * i); var l = r / o,
                u = this.maxSize.width / this.maxSize.height,
                c = l / u;
            this.screenManager.container.x = (r - r / c) / 2 * i, this.screenManager.container.y = (o - o / c) / 2 * i, this.offsetX = this.screenManager.container.x / this.screenManager.container.scale.x, this.offsetY = this.screenManager.container.y / this.screenManager.container.scale.y, this.scaleRatio = (r + 2 * this.offsetX) / r }, e
    }(h["default"]);
    e["default"] = _t, t.exports = e["default"]
}, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(12),
            a = i(18),
            s = i(21),
            h = i(22),
            l = i(23),
            u = i(25),
            c = i(26),
            d = i(13),
            p = (i(27), function(t) { t = t || p.defaultOptions, this.options = {}; for (var e in p.defaultOptions) this.options[e] = t[e] || p.defaultOptions[e];
                this.setupPixi(), s.instance.start(), s.instance.add(this.update, this), this.screenManager = new a(null, 300, 300), this.preloader = new o, this.loader = new o, this.onReady = new d, this.options.orientationMode !== p.orientationModes.BOTH && (this.orientationManager = new u(this.options.orientationMode)), this.stage.addChild(this.screenManager.container) });
        p.prototype.setupPixi = function() { var t = this.options; if (t.forceCanvas || h.instance.android && !h.instance.chrome) this.renderer = new r.CanvasRenderer(t.width, t.height), this.renderer.clearBeforeRender = !0;
            else { var e = { resolution: 1, backgroundColor: t.backgroundColor, transparent: !!t.transparent };
                this.renderer = r.autoDetectRenderer(t.width, t.height, e) } window.WEBGL = r.isWebGL = this.renderer instanceof r.WebGLRenderer, window.renderer = this.renderer, this.view = this.renderer.view, this.stage = new r.Container, this.view.style.position = "absolute", this.view.addEventListener("mousedown", function() { window.focus() }, !0), r.stage = this.stage }, p.prototype.update = function() { this.renderer.render(this.stage) }, p.prototype.startup = function() { this.options.config && this.preloader.addJson(this.options.config, "config"), this.preloader.onComplete.addOnce(this.onPreloadComplete, this), this.preloader.load() }, p.prototype.onPreloadComplete = function() { this.translation = new c(this, this.options), this.loaderScreen = new this.options.loaderScreen(this), this.loaderScreen.onReady.addOnce(this.onLoaderScreenReady, this), this.loaderScreen.onComplete.addOnce(this.onLoaderScreenComplete, this), this.onPreload && this.onPreload(), this.screenManager.addScreen(this.loaderScreen, "loader"), this.screenManager.gotoScreenByID("loader") }, p.prototype.onLoaderScreenReady = function() { this.loader.onComplete.addOnce(this.onAssetsLoaded, this), this.loader.onProgress.add(this.onProgresss, this), this.loader.load() }, p.prototype.onAssetsLoaded = function() {}, p.prototype.onProgresss = function(t) { this.loaderScreen.updateProgress(t) }, p.prototype.onLoaderScreenComplete = function() { this.onReady.dispatch() }, p.prototype.resize = function(t, e) { this.orientationManager && this.orientationManager.check(t, e), this.options.resizeMode === p.resizeModes.DEFUALT ? (this.renderer.resize(t, e), this.view.style.width = "auto", this.view.style.height = "auto") : this["this"].options.resizeMode === p.resizeModes.CSS_RESIZE_PRESERVE_RATIO || this.options.resizeMode === p.resizeModes.CSS_RESIZE && (this.view.style.width = t + "px", this.view.style.height = e + "px") }, p.resizeModes = { DEFUALT: 0, CSS_RESIZE_PRESERVE_RATIO: 1, CSS_RESIZE: 2 }, p.orientationModes = { LANDSCAPE: 0, PORTRAIT: 1, BOTH: 2 }, p.defaultOptions = { width: 800, height: 600, forceCanvas: !1, backgroundColor: 0, resizeMode: p.resizeModes.DEFUALT, orientationMode: p.orientationModes.LANDSCAPE, loaderScreen: l, transparent: !1, config: null }, n.exports = p }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(13),
            a = i(14),
            s = i(16),
            h = (i(17), function() { this.crossdomain = !1, window.XDomainRequest && this.crossdomain ? (this.ajaxRequest = new window.XDomainRequest, this.ajaxRequest.timeout = 3e3, this.ajaxRequest.onerror = function() {}, this.ajaxRequest.ontimeout = function() {}, this.ajaxRequest.onprogress = function() {}) : window.XMLHttpRequest && (this.ajaxRequest = new window.XMLHttpRequest), this.ajaxRequest.onload = this._onFileLoaded.bind(this), this.ajaxRequest.onreadystatechange = function(t) {}, this.fileCount = 0, this.filesToLoad = [], this.fontsToLoad = [], this.pixiAssetsToLoad = [], this.soundsToLoad = [], this.customToLoad = [], this.onComplete = new o, this.onProgress = new o });
        h.prototype.addFonts = function(t) { return this.fontsToLoad = this.fontsToLoad.concat(t), this }, h.prototype.addText = function(t, e) { var e = e || a.basename(t, a.extname(t)),
                i = { url: t, id: e, type: h.TEXT }; return this.filesToLoad.push(i), this }, h.prototype.addJson = function(t, e) { var e = e || a.basename(t, a.extname(t)),
                i = { url: t, id: e, type: h.JSON }; return this.filesToLoad.push(i), this }, h.prototype.addManifest = function(t, e) { var i = t.map(function(t) { return e + t }); return this.addPixiAssets(i), this }, h.prototype.addPixiAssets = function(t) { return this.pixiAssetsToLoad = this.pixiAssetsToLoad.concat(t), this }, h.prototype.addCSS = function(t) { var e = document.createElement("link"); return e.type = "text/css", e.rel = "stylesheet", e.href = t, document.getElementsByTagName("head")[0].appendChild(e), this }, h.prototype.addCustom = function(t) { var e = { object: t, type: h.CUSTOM }; return this.filesToLoad.push(e), this }, h.prototype.load = function() { this._loadFonts() }, h.prototype._loadFiles = function() { this.fileCount = 0, this.filesToLoad.length ? this._loadNextFile() : this._loadPixiAssets() }, h.prototype._loadNextFile = function() { var t = this.filesToLoad[this.fileCount];
            t.type === h.CUSTOM ? (t.object.onLoaded.addOnce(this._onFileLoaded, this), t.object.load()) : (this.ajaxRequest.open("GET", t.url, !0), this.ajaxRequest.send()) }, h.prototype._onFileLoaded = function() { var t = this.filesToLoad[this.fileCount]; if (t.type === h.CUSTOM);
            else if (200 !== this.ajaxRequest.status);
            else switch (t.type) {
                case h.TEXT:
                    var e = this.ajaxRequest.responseText;
                    s.addText(e, t.id); break;
                case h.JSON:
                    var i = JSON.parse(this.ajaxRequest.responseText);
                    s.addJson(i, t.id) } this.fileCount++, this._onProgress(), this.fileCount === this.filesToLoad.length ? this._loadPixiAssets() : this._loadNextFile() }, h.prototype._loadPixiAssets = function() { return 0 === this.pixiAssetsToLoad.length ? void this._onComplete() : (this.pixiAssetLoader = new r.loaders.Loader, this.pixiAssetLoader.add(this.pixiAssetsToLoad), this.pixiAssetLoader.on("progress", this._onProgress, this), void this.pixiAssetLoader.load(this._onComplete.bind(this))) }, h.prototype._loadFonts = function() { return 0 === this.fontsToLoad.length ? void this._loadFiles() : (WebFont.load({ custom: { families: this.fontsToLoad, urls: [ASSET_URL + "./css/fonts.css"] }, active: function() { for (var t = 0; t < this.fontsToLoad.length; t++) { var e = new r.Text("cheeky", { font: "32px " + this.fontsToLoad[t] });
                        e.updateText() } }.bind(this) }), void this._loadFiles()) }, h.prototype._onComplete = function(t, e) { r.loadedResources = e, this.onProgress.dispatch(1), this.onComplete.dispatch() }, h.prototype._onProgress = function() { var t = (this.filesToLoad.length + this.pixiAssetsToLoad.length, this.fileCount);
            this.pixiAssetLoader && (t = this.pixiAssetLoader.progress), this.onProgress.dispatch(.01 * t) }, h.TEXT = 0, h.JSON = 1, h.CUSTOM = 2, n.exports = h }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;! function(r) {
        function o(t, e, i, n, r) { this._listener = e, this._isOnce = i, this.context = n, this._signal = t, this._priority = r || 0 }

        function a(t, e) { if ("function" != typeof t) throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}", e)) }

        function s() { this._bindings = [], this._prevParams = null; var t = this;
            this.dispatch = function() { s.prototype.dispatch.apply(t, arguments) } } o.prototype = { active: !0, params: null, execute: function(t) { var e, i; return this.active && this._listener && (i = this.params ? this.params.concat(t) : t, e = this._listener.apply(this.context, i), this._isOnce && this.detach()), e }, detach: function() { return this.isBound() ? this._signal.remove(this._listener, this.context) : null }, isBound: function() { return !!this._signal && !!this._listener }, isOnce: function() { return this._isOnce }, getListener: function() { return this._listener }, getSignal: function() { return this._signal }, _destroy: function() { delete this._signal, delete this._listener, delete this.context }, toString: function() { return "[SignalBinding isOnce:" + this._isOnce + ", isBound:" + this.isBound() + ", active:" + this.active + "]" } }, s.prototype = { VERSION: "1.0.0", memorize: !1, _shouldPropagate: !0, active: !0, _registerListener: function(t, e, i, n) { var r, a = this._indexOfListener(t, i); if (a !== -1) { if (r = this._bindings[a], r.isOnce() !== e) throw new Error("You cannot add" + (e ? "" : "Once") + "() then add" + (e ? "Once" : "") + "() the same listener without removing the relationship first.") } else r = new o(this, t, e, i, n), this._addBinding(r); return this.memorize && this._prevParams && r.execute(this._prevParams), r }, _addBinding: function(t) { var e = this._bindings.length;
                do --e; while (this._bindings[e] && t._priority <= this._bindings[e]._priority);
                this._bindings.splice(e + 1, 0, t) }, _indexOfListener: function(t, e) { for (var i, n = this._bindings.length; n--;)
                    if (i = this._bindings[n], i._listener === t && i.context === e) return n; return -1 }, has: function(t, e) { return this._indexOfListener(t, e) !== -1 }, add: function(t, e, i) { return a(t, "add"), this._registerListener(t, !1, e, i) }, addOnce: function(t, e, i) { return a(t, "addOnce"), this._registerListener(t, !0, e, i) }, remove: function(t, e) { a(t, "remove"); var i = this._indexOfListener(t, e); return i !== -1 && (this._bindings[i]._destroy(), this._bindings.splice(i, 1)), t }, removeAll: function() { for (var t = this._bindings.length; t--;) this._bindings[t]._destroy();
                this._bindings.length = 0 }, getNumListeners: function() { return this._bindings.length }, halt: function() { this._shouldPropagate = !1 }, dispatch: function(t) { if (this.active) { var e, i = Array.prototype.slice.call(arguments),
                        n = this._bindings.length; if (this.memorize && (this._prevParams = i), n) { e = this._bindings.slice(), this._shouldPropagate = !0;
                        do n--; while (e[n] && this._shouldPropagate && e[n].execute(i) !== !1) } } }, forget: function() { this._prevParams = null }, dispose: function() { this.removeAll(), delete this._bindings, delete this._prevParams }, toString: function() { return "[Signal active:" + this.active + " numListeners:" + this.getNumListeners() + "]" } }; var h = s;
        h.Signal = s, n = function() { return h }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }(this) }, function(t, e, i) {
    (function(t) {
        function i(t, e) { for (var i = 0, n = t.length - 1; n >= 0; n--) { var r = t[n]; "." === r ? t.splice(n, 1) : ".." === r ? (t.splice(n, 1), i++) : i && (t.splice(n, 1), i--) } if (e)
                for (; i--; i) t.unshift(".."); return t }

        function n(t, e) { if (t.filter) return t.filter(e); for (var i = [], n = 0; n < t.length; n++) e(t[n], n, t) && i.push(t[n]); return i }
        var r = /^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,
            o = function(t) { return r.exec(t).slice(1) };
        e.resolve = function() { for (var e = "", r = !1, o = arguments.length - 1; o >= -1 && !r; o--) { var a = o >= 0 ? arguments[o] : t.cwd(); if ("string" != typeof a) throw new TypeError("Arguments to path.resolve must be strings");
                a && (e = a + "/" + e, r = "/" === a.charAt(0)) } return e = i(n(e.split("/"), function(t) { return !!t }), !r).join("/"), (r ? "/" : "") + e || "." }, e.normalize = function(t) { var r = e.isAbsolute(t),
                o = "/" === a(t, -1); return t = i(n(t.split("/"), function(t) { return !!t }), !r).join("/"), t || r || (t = "."), t && o && (t += "/"), (r ? "/" : "") + t }, e.isAbsolute = function(t) { return "/" === t.charAt(0) }, e.join = function() { var t = Array.prototype.slice.call(arguments, 0); return e.normalize(n(t, function(t, e) { if ("string" != typeof t) throw new TypeError("Arguments to path.join must be strings"); return t }).join("/")) }, e.relative = function(t, i) {
            function n(t) { for (var e = 0; e < t.length && "" === t[e]; e++); for (var i = t.length - 1; i >= 0 && "" === t[i]; i--); return e > i ? [] : t.slice(e, i - e + 1) } t = e.resolve(t).substr(1), i = e.resolve(i).substr(1); for (var r = n(t.split("/")), o = n(i.split("/")), a = Math.min(r.length, o.length), s = a, h = 0; h < a; h++)
                if (r[h] !== o[h]) { s = h; break } for (var l = [], h = s; h < r.length; h++) l.push(".."); return l = l.concat(o.slice(s)), l.join("/") }, e.sep = "/", e.delimiter = ":", e.dirname = function(t) { var e = o(t),
                i = e[0],
                n = e[1]; return i || n ? (n && (n = n.substr(0, n.length - 1)), i + n) : "." }, e.basename = function(t, e) { var i = o(t)[2]; return e && i.substr(-1 * e.length) === e && (i = i.substr(0, i.length - e.length)), i }, e.extname = function(t) { return o(t)[3] };
        var a = "b" === "ab".substr(-1) ? function(t, e, i) { return t.substr(e, i) } : function(t, e, i) {
            return e < 0 && (e = t.length + e),
                t.substr(e, i)
        }
    }).call(e, i(15))
}, function(t, e) {
    function i() { throw new Error("setTimeout has not been defined") }

    function n() { throw new Error("clearTimeout has not been defined") }

    function r(t) { if (u === setTimeout) return setTimeout(t, 0); if ((u === i || !u) && setTimeout) return u = setTimeout, setTimeout(t, 0); try { return u(t, 0) } catch (e) { try { return u.call(null, t, 0) } catch (e) { return u.call(this, t, 0) } } }

    function o(t) { if (c === clearTimeout) return clearTimeout(t); if ((c === n || !c) && clearTimeout) return c = clearTimeout, clearTimeout(t); try { return c(t) } catch (e) { try { return c.call(null, t) } catch (e) { return c.call(this, t) } } }

    function a() { m && p && (m = !1, p.length ? f = p.concat(f) : g = -1, f.length && s()) }

    function s() { if (!m) { var t = r(a);
            m = !0; for (var e = f.length; e;) { for (p = f, f = []; ++g < e;) p && p[g].run();
                g = -1, e = f.length } p = null, m = !1, o(t) } }

    function h(t, e) { this.fun = t, this.array = e }

    function l() {} var u, c, d = t.exports = {};! function() { try { u = "function" == typeof setTimeout ? setTimeout : i } catch (t) { u = i } try { c = "function" == typeof clearTimeout ? clearTimeout : n } catch (t) { c = n } }(); var p, f = [],
        m = !1,
        g = -1;
    d.nextTick = function(t) { var e = new Array(arguments.length - 1); if (arguments.length > 1)
            for (var i = 1; i < arguments.length; i++) e[i - 1] = arguments[i];
        f.push(new h(t, e)), 1 !== f.length || m || r(s) }, h.prototype.run = function() { this.fun.apply(null, this.array) }, d.title = "browser", d.browser = !0, d.env = {}, d.argv = [], d.version = "", d.versions = {}, d.on = l, d.addListener = l, d.once = l, d.off = l, d.removeListener = l, d.removeAllListeners = l, d.emit = l, d.prependListener = l, d.prependOnceListener = l, d.listeners = function(t) { return [] }, d.binding = function(t) { throw new Error("process.binding is not supported") }, d.cwd = function() { return "/" }, d.chdir = function(t) { throw new Error("process.chdir is not supported") }, d.umask = function() { return 0 } }, function(t, e, i) { var n;
    n = function(t, e, i) { var n = function() { this._json = {}, this._text = {} };
        n.prototype.addJson = function(t, e) { this._json[e] = t }, n.prototype.addText = function(t, e) { this._text[e] = t }, n.prototype.getJson = function(t) { return this._json[t] ? this._json[t] : null }, n.prototype.getText = function(t) { if (this._text[t]) return this._text[t] }, i.exports = new n }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e) {! function(t, e, i) {
        function n(t, e, i) { return t.call.apply(t.bind, arguments) }

        function r(t, e, i) { if (!t) throw Error(); if (2 < arguments.length) { var n = Array.prototype.slice.call(arguments, 2); return function() { var i = Array.prototype.slice.call(arguments); return Array.prototype.unshift.apply(i, n), t.apply(e, i) } } return function() { return t.apply(e, arguments) } }

        function o(t, e, i) { return o = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? n : r, o.apply(null, arguments) }

        function a(t, e) { this.J = t, this.t = e || t, this.C = this.t.document }

        function s(t, i, n) { t = t.C.getElementsByTagName(i)[0], t || (t = e.documentElement), t && t.lastChild && t.insertBefore(n, t.lastChild) }

        function h(t, e) {
            function i() { t.C.body ? e() : setTimeout(i, 0) } i() }

        function l(t, e, i) { e = e || [], i = i || []; for (var n = t.className.split(/\s+/), r = 0; r < e.length; r += 1) { for (var o = !1, a = 0; a < n.length; a += 1)
                    if (e[r] === n[a]) { o = !0; break } o || n.push(e[r]) } for (e = [], r = 0; r < n.length; r += 1) { for (o = !1, a = 0; a < i.length; a += 1)
                    if (n[r] === i[a]) { o = !0; break } o || e.push(n[r]) } t.className = e.join(" ").replace(/\s+/g, " ").replace(/^\s+|\s+$/, "") }

        function u(t, e) { for (var i = t.className.split(/\s+/), n = 0, r = i.length; n < r; n++)
                if (i[n] == e) return !0; return !1 }

        function c(t) { if ("string" == typeof t.ma) return t.ma; var e = t.t.location.protocol; return "about:" == e && (e = t.J.location.protocol), "https:" == e ? "https:" : "http:" }

        function d(t, e) { var i = t.createElement("link", { rel: "stylesheet", href: e }),
                n = !1;
            i.onload = function() { n || (n = !0) }, i.onerror = function() { n || (n = !0) }, s(t, "head", i) }

        function p(e, i, n, r) { var o = e.C.getElementsByTagName("head")[0]; if (o) { var a = e.createElement("script", { src: i }),
                    s = !1; return a.onload = a.onreadystatechange = function() { s || this.readyState && "loaded" != this.readyState && "complete" != this.readyState || (s = !0, n && n(null), a.onload = a.onreadystatechange = null, "HEAD" == a.parentNode.tagName && o.removeChild(a)) }, o.appendChild(a), t.setTimeout(function() { s || (s = !0, n && n(Error("Script load timeout"))) }, r || 5e3), a } return null }

        function f(t, e) { this.X = t, this.fa = e }

        function m(t, e, i, n) { this.c = null != t ? t : null, this.g = null != e ? e : null, this.A = null != i ? i : null, this.e = null != n ? n : null }

        function g(t) { t = Q.exec(t); var e = null,
                i = null,
                n = null,
                r = null; return t && (null !== t[1] && t[1] && (e = parseInt(t[1], 10)), null !== t[2] && t[2] && (i = parseInt(t[2], 10)), null !== t[3] && t[3] && (n = parseInt(t[3], 10)), null !== t[4] && t[4] && (r = /^[0-9]+$/.test(t[4]) ? parseInt(t[4], 10) : t[4])), new m(e, i, n, r) }

        function v(t, e, i, n, r, o, a, s) { this.M = t, this.k = s }

        function y(t) { this.a = t }

        function _(t) { var e = w(t.a, /(iPod|iPad|iPhone|Android|Windows Phone|BB\d{2}|BlackBerry)/, 1); return "" != e ? (/BB\d{2}/.test(e) && (e = "BlackBerry"), e) : (t = w(t.a, /(Linux|Mac_PowerPC|Macintosh|Windows|CrOS|PlayStation|CrKey)/, 1), "" != t ? ("Mac_PowerPC" == t ? t = "Macintosh" : "PlayStation" == t && (t = "Linux"), t) : "Unknown") }

        function b(t) { var e = w(t.a, /(OS X|Windows NT|Android) ([^;)]+)/, 2); if (e || (e = w(t.a, /Windows Phone( OS)? ([^;)]+)/, 2)) || (e = w(t.a, /(iPhone )?OS ([\d_]+)/, 2))) return e; if (e = w(t.a, /(?:Linux|CrOS|CrKey) ([^;)]+)/, 1))
                for (var e = e.split(/\s/), i = 0; i < e.length; i += 1)
                    if (/^[\d\._]+$/.test(e[i])) return e[i]; return (t = w(t.a, /(BB\d{2}|BlackBerry).*?Version\/([^\s]*)/, 2)) ? t : "Unknown" }

        function x(t) { var e = _(t),
                i = g(b(t)),
                n = g(w(t.a, /AppleWeb(?:K|k)it\/([\d\.\+]+)/, 1)),
                r = "Unknown",
                o = new m,
                o = "Unknown",
                a = !1; return /OPR\/[\d.]+/.test(t.a) ? r = "Opera" : -1 != t.a.indexOf("Chrome") || -1 != t.a.indexOf("CrMo") || -1 != t.a.indexOf("CriOS") ? r = "Chrome" : /Silk\/\d/.test(t.a) ? r = "Silk" : "BlackBerry" == e || "Android" == e ? r = "BuiltinBrowser" : -1 != t.a.indexOf("PhantomJS") ? r = "PhantomJS" : -1 != t.a.indexOf("Safari") ? r = "Safari" : -1 != t.a.indexOf("AdobeAIR") ? r = "AdobeAIR" : -1 != t.a.indexOf("PlayStation") && (r = "BuiltinBrowser"), "BuiltinBrowser" == r ? o = "Unknown" : "Silk" == r ? o = w(t.a, /Silk\/([\d\._]+)/, 1) : "Chrome" == r ? o = w(t.a, /(Chrome|CrMo|CriOS)\/([\d\.]+)/, 2) : -1 != t.a.indexOf("Version/") ? o = w(t.a, /Version\/([\d\.\w]+)/, 1) : "AdobeAIR" == r ? o = w(t.a, /AdobeAIR\/([\d\.]+)/, 1) : "Opera" == r ? o = w(t.a, /OPR\/([\d.]+)/, 1) : "PhantomJS" == r && (o = w(t.a, /PhantomJS\/([\d.]+)/, 1)), o = g(o), a = "AdobeAIR" == r ? 2 < o.c || 2 == o.c && 5 <= o.g : "BlackBerry" == e ? 10 <= i.c : "Android" == e ? 2 < i.c || 2 == i.c && 1 < i.g : 526 <= n.c || 525 <= n.c && 13 <= n.g, new v(r, 0, 0, 0, 0, 0, 0, new f(a, 536 > n.c || 536 == n.c && 11 > n.g)) }

        function w(t, e, i) { return (t = t.match(e)) && t[i] ? t[i] : "" }

        function T(t) { this.la = t || "-" }

        function S(t, e) { this.M = t, this.Y = 4, this.N = "n"; var i = (e || "n4").match(/^([nio])([1-9])$/i);
            i && (this.N = i[1], this.Y = parseInt(i[2], 10)) }

        function M(t) { return t.N + t.Y }

        function E(t) { var e = 4,
                i = "n",
                n = null; return t && ((n = t.match(/(normal|oblique|italic)/i)) && n[1] && (i = n[1].substr(0, 1).toLowerCase()), (n = t.match(/([1-9]00|normal|bold)/i)) && n[1] && (/bold/i.test(n[1]) ? e = 7 : /[1-9]00/.test(n[1]) && (e = parseInt(n[1].substr(0, 1), 10)))), i + e }

        function A(t, e) { this.d = t, this.p = t.t.document.documentElement, this.P = e, this.j = "wf", this.h = new T("-"), this.ga = !1 !== e.events, this.B = !1 !== e.classes }

        function C(t) { if (t.B) { var e = u(t.p, t.h.e(t.j, "active")),
                    i = [],
                    n = [t.h.e(t.j, "loading")];
                e || i.push(t.h.e(t.j, "inactive")), l(t.p, i, n) } R(t, "inactive") }

        function R(t, e, i) { t.ga && t.P[e] && (i ? t.P[e](i.getName(), M(i)) : t.P[e]()) }

        function P() { this.w = {} }

        function O(t, e) { this.d = t, this.G = e, this.m = this.d.createElement("span", { "aria-hidden": "true" }, this.G) }

        function L(t) { s(t.d, "body", t.m) }

        function I(t) { var e;
            e = []; for (var i = t.M.split(/,\s*/), n = 0; n < i.length; n++) { var r = i[n].replace(/['"]/g, ""); - 1 == r.indexOf(" ") ? e.push(r) : e.push("'" + r + "'") } return e = e.join(","), i = "normal", "o" === t.N ? i = "oblique" : "i" === t.N && (i = "italic"), "display:block;position:absolute;top:-999px;left:-999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:" + e + ";" + ("font-style:" + i + ";font-weight:" + (t.Y + "00") + ";") }

        function D(t, e, i, n, r, o, a, s) { this.Z = t, this.ja = e, this.d = i, this.s = n, this.G = s || "BESbswy", this.k = r, this.I = {}, this.W = o || 3e3, this.ba = a || null, this.F = this.D = null, t = new O(this.d, this.G), L(t); for (var h in tt) tt.hasOwnProperty(h) && (e = new S(tt[h], M(this.s)), e = I(e), t.m.style.cssText = e, this.I[tt[h]] = t.m.offsetWidth);
            t.remove() }

        function k(t, e, i) { for (var n in tt)
                if (tt.hasOwnProperty(n) && e === t.I[tt[n]] && i === t.I[tt[n]]) return !0; return !1 }

        function B(t) { var e = t.D.m.offsetWidth,
                i = t.F.m.offsetWidth;
            e === t.I.serif && i === t.I["sans-serif"] || t.k.fa && k(t, e, i) ? J() - t.na >= t.W ? t.k.fa && k(t, e, i) && (null === t.ba || t.ba.hasOwnProperty(t.s.getName())) ? F(t, t.Z) : F(t, t.ja) : N(t) : F(t, t.Z) }

        function N(t) { setTimeout(o(function() { B(this) }, t), 25) }

        function F(t, e) { t.D.remove(), t.F.remove(), e(t.s) }

        function U(t, e, i, n) { this.d = e, this.u = i, this.R = 0, this.da = this.aa = !1, this.W = n, this.k = t.k }

        function G(t, e, i, n, r) { if (i = i || {}, 0 === e.length && r) C(t.u);
            else
                for (t.R += e.length, r && (t.aa = r), r = 0; r < e.length; r++) { var a = e[r],
                        s = i[a.getName()],
                        h = t.u,
                        u = a;
                    h.B && l(h.p, [h.h.e(h.j, u.getName(), M(u).toString(), "loading")]), R(h, "fontloading", u), h = null, h = new D(o(t.ha, t), o(t.ia, t), t.d, a, t.k, t.W, n, s), h.start() } }

        function j(t) { 0 == --t.R && t.aa && (t.da ? (t = t.u, t.B && l(t.p, [t.h.e(t.j, "active")], [t.h.e(t.j, "loading"), t.h.e(t.j, "inactive")]), R(t, "active")) : C(t.u)) }

        function z(t) { this.J = t, this.v = new P, this.oa = new y(t.navigator.userAgent), this.a = this.oa.parse(), this.T = this.U = 0, this.Q = this.S = !0 }

        function V(t, e, i, n, r) { var o = 0 == --t.U;
            (t.Q || t.S) && setTimeout(function() { G(e, i, n || null, r || null, o) }, 0) }

        function H(t, e, i) { this.O = t ? t : e + et, this.q = [], this.V = [], this.ea = i || "" }

        function W(t) { this.q = t, this.ca = [], this.L = {} }

        function X(t, e) { this.a = new y(navigator.userAgent).parse(), this.d = t, this.f = e }

        function Y(t, e) { this.d = t, this.f = e, this.o = [] }

        function q(t, e) { this.d = t, this.f = e, this.o = [] }

        function K(t, e) { this.d = t, this.f = e, this.o = [] }

        function Z(t, e) { this.d = t, this.f = e } var J = Date.now || function() { return +new Date };
        a.prototype.createElement = function(t, e, i) { if (t = this.C.createElement(t), e)
                for (var n in e) e.hasOwnProperty(n) && ("style" == n ? t.style.cssText = e[n] : t.setAttribute(n, e[n])); return i && t.appendChild(this.C.createTextNode(i)), t }; var Q = /^([0-9]+)(?:[\._-]([0-9]+))?(?:[\._-]([0-9]+))?(?:[\._+-]?(.*))?$/;
        m.prototype.compare = function(t) { return this.c > t.c || this.c === t.c && this.g > t.g || this.c === t.c && this.g === t.g && this.A > t.A ? 1 : this.c < t.c || this.c === t.c && this.g < t.g || this.c === t.c && this.g === t.g && this.A < t.A ? -1 : 0 }, m.prototype.toString = function() { return [this.c, this.g || "", this.A || "", this.e || ""].join("") }, v.prototype.getName = function() { return this.M }; var $ = new v("Unknown", 0, 0, 0, 0, 0, 0, new f((!1), (!1)));
        y.prototype.parse = function() { var t; if (-1 != this.a.indexOf("MSIE") || -1 != this.a.indexOf("Trident/")) { t = _(this); var e = g(b(this)),
                    i = null,
                    n = w(this.a, /Trident\/([\d\w\.]+)/, 1),
                    i = g(-1 != this.a.indexOf("MSIE") ? w(this.a, /MSIE ([\d\w\.]+)/, 1) : w(this.a, /rv:([\d\w\.]+)/, 1)); "" != n && g(n), t = new v("MSIE", 0, 0, 0, 0, 0, 0, new f("Windows" == t && 6 <= i.c || "Windows Phone" == t && 8 <= e.c, (!1))) } else if (-1 != this.a.indexOf("Opera")) t: if (t = g(w(this.a, /Presto\/([\d\w\.]+)/, 1)), g(b(this)), null !== t.c || g(w(this.a, /rv:([^\)]+)/, 1)), -1 != this.a.indexOf("Opera Mini/")) t = g(w(this.a, /Opera Mini\/([\d\.]+)/, 1)), t = new v("OperaMini", 0, 0, 0, _(this), 0, 0, new f((!1), (!1)));
                else { if (-1 != this.a.indexOf("Version/") && (t = g(w(this.a, /Version\/([\d\.]+)/, 1)), null !== t.c)) { t = new v("Opera", 0, 0, 0, _(this), 0, 0, new f(10 <= t.c, (!1))); break t } t = g(w(this.a, /Opera[\/ ]([\d\.]+)/, 1)), t = null !== t.c ? new v("Opera", 0, 0, 0, _(this), 0, 0, new f(10 <= t.c, (!1))) : new v("Opera", 0, 0, 0, _(this), 0, 0, new f((!1), (!1))) } else /OPR\/[\d.]+/.test(this.a) ? t = x(this) : /AppleWeb(K|k)it/.test(this.a) ? t = x(this) : -1 != this.a.indexOf("Gecko") ? (t = "Unknown", e = new m, g(b(this)), e = !1, -1 != this.a.indexOf("Firefox") ? (t = "Firefox", e = g(w(this.a, /Firefox\/([\d\w\.]+)/, 1)), e = 3 <= e.c && 5 <= e.g) : -1 != this.a.indexOf("Mozilla") && (t = "Mozilla"), i = g(w(this.a, /rv:([^\)]+)/, 1)), e || (e = 1 < i.c || 1 == i.c && 9 < i.g || 1 == i.c && 9 == i.g && 2 <= i.A), t = new v(t, 0, 0, 0, _(this), 0, 0, new f(e, (!1)))) : t = $; return t }, T.prototype.e = function(t) { for (var e = [], i = 0; i < arguments.length; i++) e.push(arguments[i].replace(/[\W_]+/g, "").toLowerCase()); return e.join(this.la) }, S.prototype.getName = function() { return this.M }, O.prototype.remove = function() { var t = this.m;
            t.parentNode && t.parentNode.removeChild(t) }; var tt = { ra: "serif", qa: "sans-serif", pa: "monospace" };
        D.prototype.start = function() { this.D = new O(this.d, this.G), L(this.D), this.F = new O(this.d, this.G), L(this.F), this.na = J(); var t = new S(this.s.getName() + ",serif", M(this.s)),
                t = I(t);
            this.D.m.style.cssText = t, t = new S(this.s.getName() + ",sans-serif", M(this.s)), t = I(t), this.F.m.style.cssText = t, B(this) }, U.prototype.ha = function(t) { var e = this.u;
            e.B && l(e.p, [e.h.e(e.j, t.getName(), M(t).toString(), "active")], [e.h.e(e.j, t.getName(), M(t).toString(), "loading"), e.h.e(e.j, t.getName(), M(t).toString(), "inactive")]), R(e, "fontactive", t), this.da = !0, j(this) }, U.prototype.ia = function(t) { var e = this.u; if (e.B) { var i = u(e.p, e.h.e(e.j, t.getName(), M(t).toString(), "active")),
                    n = [],
                    r = [e.h.e(e.j, t.getName(), M(t).toString(), "loading")];
                i || n.push(e.h.e(e.j, t.getName(), M(t).toString(), "inactive")), l(e.p, n, r) } R(e, "fontinactive", t), j(this) }, z.prototype.load = function(t) { this.d = new a(this.J, t.context || this.J), this.S = !1 !== t.events, this.Q = !1 !== t.classes; var e = new A(this.d, t),
                i = [],
                n = t.timeout;
            e.B && l(e.p, [e.h.e(e.j, "loading")]), R(e, "loading"); var r, i = this.v,
                s = this.d,
                h = []; for (r in t)
                if (t.hasOwnProperty(r)) { var u = i.w[r];
                    u && h.push(u(t[r], s)) } for (i = h, this.T = this.U = i.length, t = new U(this.a, this.d, e, n), n = 0, r = i.length; n < r; n++) s = i[n], s.K(this.a, o(this.ka, this, s, e, t)) }, z.prototype.ka = function(t, e, i, n) { var r = this;
            n ? t.load(function(t, e, n) { V(r, i, t, e, n) }) : (t = 0 == --this.U, this.T--, t && 0 == this.T ? C(e) : (this.Q || this.S) && G(i, [], {}, null, t)) }; var et = "//fonts.googleapis.com/css";
        H.prototype.e = function() { if (0 == this.q.length) throw Error("No fonts to load!"); if (-1 != this.O.indexOf("kit=")) return this.O; for (var t = this.q.length, e = [], i = 0; i < t; i++) e.push(this.q[i].replace(/ /g, "+")); return t = this.O + "?family=" + e.join("%7C"), 0 < this.V.length && (t += "&subset=" + this.V.join(",")), 0 < this.ea.length && (t += "&text=" + encodeURIComponent(this.ea)), t }; var it = { latin: "BESbswy", cyrillic: "&#1081;&#1103;&#1046;", greek: "&#945;&#946;&#931;", khmer: "&#x1780;&#x1781;&#x1782;", Hanuman: "&#x1780;&#x1781;&#x1782;" },
            nt = { thin: "1", extralight: "2", "extra-light": "2", ultralight: "2", "ultra-light": "2", light: "3", regular: "4", book: "4", medium: "5", "semi-bold": "6", semibold: "6", "demi-bold": "6", demibold: "6", bold: "7", "extra-bold": "8", extrabold: "8", "ultra-bold": "8", ultrabold: "8", black: "9", heavy: "9", l: "3", r: "4", b: "7" },
            rt = { i: "i", italic: "i", n: "n", normal: "n" },
            ot = /^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;
        W.prototype.parse = function() { for (var t = this.q.length, e = 0; e < t; e++) { var i = this.q[e].split(":"),
                    n = i[0].replace(/\+/g, " "),
                    r = ["n4"]; if (2 <= i.length) { var o, a = i[1]; if (o = [], a)
                        for (var a = a.split(","), s = a.length, h = 0; h < s; h++) { var l; if (l = a[h], l.match(/^[\w-]+$/)) { l = ot.exec(l.toLowerCase()); var u = void 0; if (null == l) u = "";
                                else { if (u = void 0, u = l[1], null == u || "" == u) u = "4";
                                    else var c = nt[u],
                                        u = c ? c : isNaN(u) ? "4" : u.substr(0, 1);
                                    l = l[2], u = [null == l || "" == l ? "n" : rt[l], u].join("") } l = u } else l = "";
                            l && o.push(l) } 0 < o.length && (r = o), 3 == i.length && (i = i[2], o = [], i = i ? i.split(",") : o, 0 < i.length && (i = it[i[0]]) && (this.L[n] = i)) } for (this.L[n] || (i = it[n]) && (this.L[n] = i), i = 0; i < r.length; i += 1) this.ca.push(new S(n, r[i])) } }; var at = { Arimo: !0, Cousine: !0, Tinos: !0 };
        X.prototype.K = function(t, e) { e(t.k.X) }, X.prototype.load = function(t) { var e = this.d; "MSIE" == this.a.getName() && 1 != this.f.blocking ? h(e, o(this.$, this, t)) : this.$(t) }, X.prototype.$ = function(t) { for (var e = this.d, i = new H(this.f.api, c(e), this.f.text), n = this.f.families, r = n.length, o = 0; o < r; o++) { var a = n[o].split(":");
                3 == a.length && i.V.push(a.pop()); var s = "";
                2 == a.length && "" != a[1] && (s = ":"), i.q.push(a.join(s)) } n = new W(n), n.parse(), d(e, i.e()), t(n.ca, n.L, at) }, Y.prototype.H = function(t) { var e = this.d; return c(this.d) + (this.f.api || "//f.fontdeck.com/s/css/js/") + (e.t.location.hostname || e.J.location.hostname) + "/" + t + ".js" }, Y.prototype.K = function(t, e) { var i = this.f.id,
                n = this.d.t,
                r = this;
            i ? (n.__webfontfontdeckmodule__ || (n.__webfontfontdeckmodule__ = {}), n.__webfontfontdeckmodule__[i] = function(t, i) { for (var n = 0, o = i.fonts.length; n < o; ++n) { var a = i.fonts[n];
                    r.o.push(new S(a.name, E("font-weight:" + a.weight + ";font-style:" + a.style))) } e(t) }, p(this.d, this.H(i), function(t) { t && e(!1) })) : e(!1) }, Y.prototype.load = function(t) { t(this.o) }, q.prototype.H = function(t) { var e = c(this.d); return (this.f.api || e + "//use.typekit.net") + "/" + t + ".js" }, q.prototype.K = function(t, e) { var i = this.f.id,
                n = this.d.t,
                r = this;
            i ? p(this.d, this.H(i), function(t) { if (t) e(!1);
                else { if (n.Typekit && n.Typekit.config && n.Typekit.config.fn) { t = n.Typekit.config.fn; for (var i = 0; i < t.length; i += 2)
                            for (var o = t[i], a = t[i + 1], s = 0; s < a.length; s++) r.o.push(new S(o, a[s])); try { n.Typekit.load({ events: !1, classes: !1 }) } catch (h) {} } e(!0) } }, 2e3) : e(!1) }, q.prototype.load = function(t) { t(this.o) }, K.prototype.K = function(t, e) { var i = this,
                n = i.f.projectId,
                r = i.f.version; if (n) { var o = i.d.t;
                p(this.d, i.H(n, r), function(r) { if (r) e(!1);
                    else { if (o["__mti_fntLst" + n] && (r = o["__mti_fntLst" + n]()))
                            for (var a = 0; a < r.length; a++) i.o.push(new S(r[a].fontfamily));
                        e(t.k.X) } }).id = "__MonotypeAPIScript__" + n } else e(!1) }, K.prototype.H = function(t, e) { var i = c(this.d),
                n = (this.f.api || "fast.fonts.net/jsapi").replace(/^.*http(s?):(\/\/)?/, ""); return i + "//" + n + "/" + t + ".js" + (e ? "?v=" + e : "") }, K.prototype.load = function(t) { t(this.o) }, Z.prototype.load = function(t) { var e, i, n = this.f.urls || [],
                r = this.f.families || [],
                o = this.f.testStrings || {}; for (e = 0, i = n.length; e < i; e++) d(this.d, n[e]); for (n = [], e = 0, i = r.length; e < i; e++) { var a = r[e].split(":"); if (a[1])
                    for (var s = a[1].split(","), h = 0; h < s.length; h += 1) n.push(new S(a[0], s[h]));
                else n.push(new S(a[0])) } t(n, o) }, Z.prototype.K = function(t, e) { return e(t.k.X) }; var st = new z(this);
        st.v.w.custom = function(t, e) { return new Z(e, t) }, st.v.w.fontdeck = function(t, e) { return new Y(e, t) }, st.v.w.monotype = function(t, e) { return new K(e, t) }, st.v.w.typekit = function(t, e) { return new q(e, t) }, st.v.w.google = function(t, e) { return new X(e, t) }, this.WebFont || (this.WebFont = {}, this.WebFont.load = o(st.load, st), this.WebFontConfig && st.load(this.WebFontConfig)) }(this, document) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = (i(19), i(20)),
            a = function(t, e, i, n) { this.container = t || new r.Container, this.screens = {}, this.currentScreen, this.fading = !1, this.w = e || 400, this.h = i || 400, this.history = [], this.defaultTransition = n || new o, this.transition = this.defaultTransition, this.active = !1 };
        a.constructor = a, a.prototype.gotoScreenByID = function(t, e) { var i = this.screens[t]; if (!i) throw new Error("screen not found with id : " + t);
            this.gotoScreen(i, e) }, a.prototype.addScreen = function(t, e) { this.screens[e] = t, t.id = e, t.screenManager = this }, a.prototype.goBack = function() { this.history.pop(); var t = this.history.pop();
            t && this.gotoScreen(t) }, a.prototype.getScreenId = function(t) { for (var e in this.screens)
                if (this.screens[e] === t) return e; return null }, a.prototype.gotoScreen = function(t, e) { if (this.currentScreen !== t && (this.history.push(t), this.nextScreen = t, !this.active)) { this.active = !0, this.transition = t.transition || this.defaultTransition, this.transition.onResize && this.transition.onResize(this.w, this.h); var i = this.currentScreen;
                this.nextScreen && this.nextScreen.resize && this.nextScreen.resize(this.w, this.h), this.currentScreen = t, this.transition.begin(this, i, this.nextScreen) } }, a.prototype.onTransitionComplete = function() { this.active = !1, this.currentScreen != this.nextScreen && this.gotoScreen(this.nextScreen) }, a.prototype.resize = function(t, e) { this.w = t, this.h = e, this.transition.onResize && this.transition.onResize(t, e), this.currentScreen && this.currentScreen.resize && this.currentScreen.resize(t, e) }, n.exports = a }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, i) { AlphaTransition = function() {}, AlphaTransition.constructor = AlphaTransition, AlphaTransition.prototype.begin = function(t, e, i) { this.screenManager = t, this.currentScreen = e, this.nextScreen = i, this.currentScreen ? (this.currentScreen.onHide && this.currentScreen.onHide(), TweenLite.to(this.currentScreen, .4, { alpha: 0, onComplete: this.onFadeout.bind(this) })) : this.onFadeout() }, AlphaTransition.prototype.onFadeout = function() { this.currentScreen && (this.currentScreen.onHidden && this.currentScreen.onHidden(), this.screenManager.container.removeChild(this.currentScreen), this.currentScreen.alpha = 1), this.nextScreen.alpha = 0, this.nextScreen.onShow && this.nextScreen.onShow(), this.nextScreen.resize && this.nextScreen.resize(this.screenManager.w, this.screenManager.h), TweenLite.to(this.nextScreen, .4, { alpha: 1, onComplete: this.onFadein.bind(this) }), this.screenManager.container.addChild(this.nextScreen) }, AlphaTransition.prototype.onFadein = function() { this.nextScreen.onShown && this.nextScreen.onShown(), this.screenManager.onTransitionComplete() }, AlphaTransition.prototype.resize = function(t, e) { this.w = t, this.h = e }, i.exports = AlphaTransition }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, i) { ColorTransition = function() { this.colorRect = (new PIXI.Graphics).beginFill(0).drawRect(0, 0, 2e3, 1e3), this.colorRect.alpha = 0 }, ColorTransition.constructor = ColorTransition, ColorTransition.prototype.begin = function(t, e, i) { this.screenManager = t, this.currentScreen = e, this.nextScreen = i, this.screenManager.container.addChild(this.colorRect), this.currentScreen ? (this.currentScreen.onHide && this.currentScreen.onHide(), TweenLite.to(this.colorRect, .4, { alpha: 1, onComplete: this.onFadeout.bind(this) })) : this.onFadeout() }, ColorTransition.prototype.onFadeout = function() { this.currentScreen && (this.currentScreen.onHidden && this.currentScreen.onHidden(), this.screenManager.container.removeChild(this.currentScreen), this.currentScreen.alpha = 1), this.nextScreen.onShow && this.nextScreen.onShow(), this.nextScreen.resize && this.nextScreen.resize(this.screenManager.w, this.screenManager.h), this.screenManager.container.addChild(this.nextScreen), this.screenManager.container.addChild(this.colorRect), TweenLite.to(this.colorRect, .4, { alpha: 0, onComplete: this.onFadein.bind(this) }) }, ColorTransition.prototype.onFadein = function() { this.screenManager.container.removeChild(this.colorRect), this.nextScreen.onShown && this.nextScreen.onShown(), this.screenManager.onTransitionComplete() }, ColorTransition.prototype.resize = function(t, e) { this.w === t && this.h === e || (this.w = t, this.h = e, this.colorRect.scale.x = t / 100, this.colorRect.scale.y = e / 100) }, i.exports = ColorTransition }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(13),
            o = function() { this.onUpdate = new r, this.updateBind = this.update.bind(this), this.active = !1, this.deltaTime = 1, this.timeElapsed = 0, this.lastTime = 0, this.speed = 1 };
        o.prototype.start = function() { this.active || (this.active = !0, requestAnimationFrame(this.updateBind)) }, o.prototype.stop = function() { this.active && (this.active = !1) }, o.prototype.update = function() { if (this.active) { requestAnimationFrame(this.updateBind); var t = (new Date).getTime(),
                    e = t - this.lastTime;
                e > 100 && (e = 100), this.deltaTime = .06 * e, this.deltaTime *= this.speed, this.onUpdate.dispatch(this.deltaTime), this.lastTime = t } }, o.prototype.add = function(t, e) { this.onUpdate.add(t, e) }, o.prototype.remove = function(t, e) { this.onUpdate.remove(t, e) }, o.instance = new o, o.game = new o, n.exports = o }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, i) { Device = function() { this.arora = !1, this.chrome = !1, this.epiphany = !1, this.firefox = !1, this.mobileSafari = !1, this.ie = !1, this.ieVersion = 0, this.trident = !1, this.tridentVersion = 0, this.midori = !1, this.opera = !1, this.safari = !1, this.silk = !1, this.webApp = !1, this.cocoonJS = !1, this.android = !1, this.chromeOS = !1, this.iOS = !1, this.linux = !1, this.macOS = !1, this.windows = !1, this.desktop = !1, this.pixelRatio = 0, this.iPhone = !1, this.iPhone4 = !1, this.iPad = !1, this.blob = !1, this.canvas = !1, this.localStorage = !1, this.file = !1, this.fileSystem = !1, this.webGL = !1, this.worker = !1, this.audioData = !1, this.webAudio = !1, this.ogg = !1, this.opus = !1, this.mp3 = !1, this.wav = !1, this.m4a = !1, this.webm = !1; var t = navigator.userAgent;
            this._checkBrowser(t), this._checkOS(t), this._checkDevice(t), this._checkAudio(), this._checkFeatures(), this._checkIsMobile(), this._checkIsTouch() }, Device.prototype._checkBrowser = function(t) { /Arora/.test(t) ? this.arora = !0 : /Opera|OPR|op/.test(t) ? (this.opera = !0, this.chrome = !1) : /Chrome/.test(t) ? this.chrome = !0 : /Epiphany/.test(t) ? this.epiphany = !0 : /Firefox/.test(t) ? this.firefox = !0 : /Mobile Safari/.test(t) ? this.mobileSafari = !0 : /MSIE (\d+\.\d+);/.test(t) || navigator.userAgent.match(/Trident.*rv[ :]*11\./) ? (this.ie = !0, this.ieVersion = parseInt(RegExp.$1, 10)) : /Midori/.test(t) ? this.midori = !0 : /Safari/.test(t) ? this.safari = !0 : /\bSilk\b/.test(t) ? this.silk = !0 : /Trident\/(\d+\.\d+)(.*)rv:(\d+\.\d+)/.test(t) && (this.ie = !0, this.trident = !0, this.tridentVersion = parseInt(RegExp.$1, 10), this.ieVersion = parseInt(RegExp.$3, 10)), navigator.standalone && (this.webApp = !0), navigator.isCocoonJS && (this.cocoonJS = !0) }, Device.prototype._checkOS = function(t) { /Android/.test(t) ? this.android = !0 : /CrOS/.test(t) ? this.chromeOS = !0 : /iP[ao]d|iPhone/i.test(t) ? (this.iOS = !0, this.iOS_version = parseFloat(("" + (/CPU.*OS ([0-9_]{1,5})|(CPU like).*AppleWebKit.*Mobile/i.exec(navigator.userAgent) || [0, ""])[1]).replace("undefined", "3_2").replace("_", ".").replace("_", "")) || !1) : /Linux/.test(t) ? this.linux = !0 : /Mac OS/.test(t) ? this.macOS = !0 : /Windows/.test(t) && (this.windows = !0), (this.windows || this.macOS || this.linux || this.chromeOS) && (this.desktop = !0) }, Device.prototype._checkDevice = function() { this.pixelRatio = window.devicePixelRatio || 1, this.iPhone = navigator.userAgent.toLowerCase().indexOf("iphone") !== -1, this.iPhone4 = 2 === this.pixelRatio && this.iPhone, this.iPhone4 && (this.iPhone4 = 480 == window.screen.height && 320 == window.screen.width || 480 == window.screen.width && 320 == window.screen.height), this.iPad = navigator.userAgent.toLowerCase().indexOf("ipad") !== -1 }, Device.prototype._checkFeatures = function() { "undefined" != typeof window.Blob && (this.blob = !0), this.canvas = !!window.CanvasRenderingContext2D; try { this.localStorage = !!localStorage.getItem } catch (t) { this.localStorage = !1 } this.file = !!(window.File && window.FileReader && window.FileList && window.Blob), this.fileSystem = !!window.requestFileSystem, this.webGL = function() { try { var t = document.createElement("canvas"); return !!window.WebGLRenderingContext && (t.getContext("webgl") || t.getContext("experimental-webgl")) } catch (e) { return !1 } }(), (this.android || this.ie) && (this.webGL = !1), this.worker = !!window.Worker, ("ontouchstart" in document.documentElement || window.navigator.msPointerEnabled) && (this.touch = !0) }, Device.prototype._checkAudio = function() { this.audioData = !!window.Audio, this.webaudio = !(!window.AudioContext && !window.webkitAudioContext); var t = document.createElement("audio"),
                e = !1; try {
                (e = !!t.canPlayType) && (t.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/, "") && (this.ogg = !0), t.canPlayType("audio/mpeg;").replace(/^no$/, "") && (this.mp3 = !0), t.canPlayType('audio/wav; codecs="1"').replace(/^no$/, "") && (this.wav = !0), (t.canPlayType("audio/x-m4a;") || t.canPlayType("audio/aac;").replace(/^no$/, "")) && (this.m4a = !0)) } catch (i) {} }, Device.prototype._checkIsMobile = function() { var t = !1;! function(e) {
                (/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i.test(e) || /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(e.substr(0, 4))) && (t = !0) }(navigator.userAgent || navigator.vendor || window.opera), this.isMobile = t, this.mobile = t }, Device.prototype._checkIsTouch = function() { this.isTouch = "ontouchstart" in window || navigator.MaxTouchPoints > 0 || navigator.msMaxTouchPoints > 0 }, Device.prototype.getInfo = function() { var t = "DEVICE OUTPUT\n\n"; return t += "---\n", t += "Browser Info :: \n", t += "Arora : " + this.arora + "\n", t += "Chrome : " + this.chrome + "\n", t += "Epiphany : " + this.epiphany + "\n", t += "Firefox : " + this.firefox + "\n", t += "Mobile Safari : " + this.mobileSafari + "\n", t += "IE : " + this.ie, t += this.ie ? " (Version " + this.ieVersion + ")\n" : "\n", t += "Midori : " + this.midori + "\n", t += "Opera : " + this.opera + "\n", t += "Safari : " + this.safari + "\n", t += "Web App : " + this.webApp + "\n", t += "CocoonJS : " + this.cocoonJS + "\n", t += "Android : " + this.android + "\n", t += "---\n", t += "Operating System :: \n", t += "Chrome OS : " + this.chromeOS + "\n", t += "iOS : " + this.iOS + "\n", t += "Linux : " + this.linux + "\n", t += "Mac OS : " + this.macOS + "\n", t += "Windows : " + this.windows + "\n", t += "Desktop : " + this.desktop + "\n", t += "---\n", t += "Device Type : \n", t += "Pixel Ratio : " + this.pixelRatio + "\n", t += "iPhone : " + this.iPhone + "\n", t += "iPhone 4 : " + this.iPhone4 + "\n", t += "iPad : " + this.iPad + "\n", t += "---\n", t += "Features :: \n", t += "Blob : " + this.blob + "\n", t += "Canvas : " + this.canvas + "\n", t += "LocalStorage : " + this.localStorage + "\n", t += "File : " + this.file + "\n", t += "File System : " + this.fileSystem + "\n", t += "WebGL : " + this.webGL + "\n", t += "Workers : " + this.worker + "\n", t += "---\n", t += "Audio :: \n", t += "AudioData : " + this.audioData + "\n", t += "WebAudio : " + this.webAudio + "\n", t += "Supports .ogg : " + this.ogg + "\n", t += "Supports Opus : " + this.opus + "\n", t += "Supports .mp3 : " + this.mp3 + "\n", t += "Supports .wav : " + this.wav + "\n", t += "Supports .m4a : " + this.m4a + "\n", t += "Supports .webm : " + this.webm }, Object.defineProperty(Device.prototype, "ie9", { get: function() { return this.ie && 9 === this.ieVersion } }), Object.defineProperty(Device.prototype, "useSM2", { get: function() { return this.ie || this.opera } }), Device.instance = new Device, i.exports = Device }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(21),
            a = i(24),
            s = i(13),
            h = function(t) { r.Container.call(this), this.app = t, this.easeLoad = 0, this.targetLoad = 0, this.onReady = new s, this.onComplete = new s, this.initLoader() };
        h.prototype = Object.create(r.Container.prototype), h.prototype.initLoader = function() { o.instance.add(this.update, this), this.resize(this.w, this.h), a.wait(this.showLoader.bind(this)) }, h.prototype.showLoader = function() { this.onReady.dispatch() }, h.prototype.update = function() { this.easeLoad += .3 * (this.targetLoad - this.easeLoad), this.easeLoad > .99 && (this.easeLoad = 1, o.instance.remove(this.update, this), this.onComplete.dispatch()) }, h.prototype.updateProgress = function(t) { this.targetLoad = t }, h.prototype.onHide = function() { o.instance.remove(this.update, this) }, h.prototype.resize = function(t, e) { this.w = t, this.h = e, this.barBg }, n.exports = h }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) {
    var n;
    n = function(t, e, i) { var n = function() { this.updateBind = this.update.bind(this), this.waits = [] };
        n.prototype.wait = function(t, e) { var i = { callback: t, count: e || 2 };
            this.waits.push(i), requestAnimationFrame(this.updateBind) }, n.prototype.update = function() { for (var t = this.waits.length - 1; t >= 0; t--) { var e = this.waits[t];
                e.count--, e.count <= 0 && (e.callback(), this.waits.splice(t, 1)) } this.waits.length > 0 && requestAnimationFrame(this.updateBind) }, i.exports = new n }.call(e, i, e, t), !(void 0 !== n && (t.exports = n));
}, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(21),
            o = i(22),
            a = i(13),
            s = (i(11), function(t) { if (this.mode = t, this.onRotationChanged = new a, this.rotationWarning = !0, this.orientation, this.rotateScreen = document.createElement("div"), this.rotateScreen.style.backgroundPosition = "50% 50%", this.rotateScreen.style.backgroundColor = "#3b3b3b", this.rotateScreen.style.backgroundRepeat = "no-repeat", this.rotateScreen.style.position = "absolute", this.rotateScreen.style.backgroundSize = "cover", this.rotateScreen.style.top = "0", this.rotateScreen.style.left = "0", this.rotateScreen.style.bottom = "0", this.rotateScreen.style.right = "0", this.rotateScreen.style.zIndex = 1e7, this.rotateScreen.style.display = "none", this.rotateScreen.height = "100%", this.rotateScreen.width = "100%", this.changeRotationImage(ASSET_URL + "img/orientation_iphone.jpg"), o.instance.iPad && this.changeRotationImage(ASSET_URL + "img/orientation_ipad.jpg"), document.body.appendChild(this.rotateScreen), o.instance.firefox) { var e = window.matchMedia("(orientation: portrait)");
                    e.addListener(this.checkOrientationChangesFirefox.bind(this)) } this.supportsOrientationChange = "onorientationchange" in window, this.supportsOrientationChange && (this.orientation = window.orientation, window.addEventListener("orientationchange", this.checkOrientationChanges.bind(this), !1), this.checkOrientationChanges()), this.supportsOrientationEvent = "DeviceOrientationEvent" in window });
        s.prototype.constructor = s, s.prototype.checkOrientationResize = function(t) {}, s.prototype.changeRotationImage = function(t) { this.rotateScreen.style.backgroundImage = "url(" + t + ")" }, s.prototype.checkOrientationChangesFirefox = function() { var t = screen.orientation || screen.mozOrientation || screen.msOrientation; "landscape-primary" === t ? this.orientation = 90 : "landscape-secondary" === t && (this.orientation = -90), this.onRotationChanged.dispatch(this.orientation) }, s.prototype.checkOrientationChanges = function() { this.orientation = window.orientation, this.onRotationChanged.dispatch(window.orientation), 0 === this.orientation ? (r.instance.stop(), r.game.stop(), this.rotateScreen.style.display = "block") : (r.instance.start(), r.game.start(), this.rotateScreen.style.display = "none") }, s.prototype.check = function(t, e) { if (!o.instance.desktop) { var i = 0 === this.mode ? t < e : t > e;
                i ? (r.instance.stop(), this.rotateScreen.style.display = "block") : (r.instance.start(), this.rotateScreen.style.display = "none") } }, s.prototype.updateDeviceOrientation = function(t) { this.alpha = t.alpha, this.beta = t.beta, this.gamma = t.gamma }, n.exports = s }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(16),
            o = function(t, e) { this.debug = e.debug || !1, this.app = t, this.app.loader.addJson(e.stringsUrl || ASSET_URL + "json/strings.json", "strings") };
        o.prototype.constructor = o, o.prototype.init = function() { if (window.translations = r.getJson("strings").strings, this.debug)
                for (var t in window.translations) window.translations[t] += window.translations[t] }, n.exports = o }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;! function(r) { var o = function(t) { return this instanceof o ? o.methods.initialize(t) : new o(t) },
            a = window.devicePixelRatio || 1,
            s = { WIDTH: 80 * a, HEIGHT: 50 * a, FRAMES: { WIDTH: 74 * a, HEIGHT: 32 * a, X: 3 * a, Y: 15 * a }, TEXT: { HEIGHT: 8 * a, X: 75 * a, Y: 10 * a } },
            h = { FPS: { DATAS: "#1AFFFF", FRAMES: "#1B314C", BACKGROUND: "#1A1A38" }, MS: { DATAS: "#1AFF1A", FRAMES: "#1B4C1B", BACKGROUND: "#1A381A" }, MB: { DATAS: "#FF1A94", FRAMES: "#4C1B34", BACKGROUND: "#381A29" }, PING: { DATAS: "#FFFFFF", FRAMES: "#555555", BACKGROUND: "#222222" } },
            l = { FPS: 0, MS: 1, MB: 2, PING: 3 },
            u = void 0 != window.performance && void 0 != window.performance.memory && void 0 != window.performance.memory.usedJSHeapSize;
        o.methods = { initialize: function(t) { return this.mode = l.FPS, this.realTime = t || !1, this.frameTime = 0, this.beginTime = 0, this.endTime = 0, this.isPinging = !1, this.beginPinging = 0, this.endPinging = 0, this.fps = { value: 0, current: 0, min: 1 / 0, max: -(1 / 0), array: new Array(s.FRAMES.WIDTH) }, this.ms = { value: 0, current: 0, min: 1 / 0, max: -(1 / 0), array: new Array(s.FRAMES.WIDTH) }, this.mb = { value: 0, current: 0, min: 1 / 0, max: -(1 / 0), array: new Array(s.FRAMES.WIDTH) }, this.ping = { value: 0, current: 0, min: 1 / 0, max: -(1 / 0), array: new Array(s.FRAMES.WIDTH) }, this.domElement = document.createElement("canvas"), this.domElement.className = "statsjs", this.domElement.width = s.WIDTH, this.domElement.height = s.HEIGHT, this.domElement.style.width = s.WIDTH / a + "px", this.domElement.style.height = s.HEIGHT / a + "px", this.domElement.addEventListener("click", function(t) { this.switchMode() }.bind(this), !1), this.context = this.domElement.getContext("2d"), this.context.imageSmoothingEnabled = !1, this.context.font = "bold " + s.TEXT.HEIGHT + "px sans-serif", this.context.textAlign = "right", this }, switchMode: function() { this.mode == l.FPS ? this.mode = l.MS : this.mode == l.MS ? 1 == u ? this.mode = l.MB : this.mode = l.PING : this.mode == l.MB ? this.mode = l.PING : this.mode == l.PING && (this.mode = l.FPS), this.draw() }, begin: function() { this.beginTime = window.performance.now() }, end: function() { var t = window.performance.now(),
                    e = t - this.frameTime; if (this.endTime = t, this.fps.current++, this.fps.max = Math.max(this.fps.current, this.fps.max), this.ms.current = (this.endTime - this.beginTime).toFixed(0), this.ms.min = Math.min(this.ms.current, this.ms.min), this.ms.max = Math.max(this.ms.current, this.ms.max), 1 == u && (this.mb.current = Math.round(9.54e-7 * window.performance.memory.usedJSHeapSize), this.mb.min = Math.min(this.mb.current, this.mb.min), this.mb.max = Math.max(this.mb.current, this.mb.max)), 1 == this.realTime && (this.fps.value = this.fps.current, this.fps.array[this.fps.array.length - 1] = this.fps.value), e < 1e3 && 1 == this.realTime) this.draw();
                else if (e >= 1e3) { this.fps.min = Math.min(this.fps.current, this.fps.min), this.frameTime = t, this.fps.value = this.fps.current, this.ms.value = this.ms.current, this.mb.value = this.mb.current, this.ping.value = this.ping.current; for (var i = 0, n = s.FRAMES.WIDTH; i < n; i++) this.fps.array[i] = this.fps.array[i + 1], this.ms.array[i] = this.ms.array[i + 1], this.mb.array[i] = this.mb.array[i + 1], this.ping.array[i] = this.ping.array[i + 1];
                    this.fps.array[this.fps.array.length - 1] = this.fps.value, this.ms.array[this.ms.array.length - 1] = this.ms.value, this.mb.array[this.mb.array.length - 1] = this.mb.value, this.ping.array[this.ping.array.length - 1] = this.ping.value, this.draw(), this.fps.current = 0 } }, beginPing: function() { this.beginPinging = window.performance.now() }, endPing: function() { this.endPinging = window.performance.now(), this.ping.current = parseInt(this.endPinging - this.beginPinging), this.ping.min = Math.min(this.ping.current, this.ping.min), this.ping.max = Math.max(this.ping.current, this.ping.max) }, draw: function() { if (this.context.clearRect(0, 0, s.WIDTH, s.HEIGHT), this.mode == l.FPS) { this.context.fillStyle = h.FPS.BACKGROUND, this.context.fillRect(0, 0, s.WIDTH, s.HEIGHT), this.context.fillStyle = h.FPS.FRAMES, this.context.fillRect(s.FRAMES.X, s.FRAMES.Y, s.FRAMES.WIDTH, s.FRAMES.HEIGHT), this.context.fillStyle = h.FPS.DATAS; var t = this.fps.min == 1 / 0 ? "" : this.fps.min,
                        e = this.fps.max == -(1 / 0) ? "" : this.fps.max;
                    1 == this.realTime ? this.context.fillText(this.fps.current + " FPS (" + t + "-" + e + ")", s.TEXT.X, s.TEXT.Y) : this.context.fillText(this.fps.value + " FPS (" + t + "-" + e + ")", s.TEXT.X, s.TEXT.Y); for (var i = 0, n = this.fps.array.length; i < n; i++) { var r = this.fps.array[i] / this.fps.max * s.FRAMES.HEIGHT || 0,
                            o = s.FRAMES.X + i,
                            a = s.FRAMES.Y + s.FRAMES.HEIGHT - r;
                        this.context.fillRect(o, a, 1, r) } } else if (this.mode == l.MS) { this.context.fillStyle = h.MS.BACKGROUND, this.context.fillRect(0, 0, s.WIDTH, s.HEIGHT), this.context.fillStyle = h.MS.FRAMES, this.context.fillRect(s.FRAMES.X, s.FRAMES.Y, s.FRAMES.WIDTH, s.FRAMES.HEIGHT), this.context.fillStyle = h.MS.DATAS; var t = this.ms.min == 1 / 0 ? "" : this.ms.min,
                        e = this.ms.max == -(1 / 0) ? "" : this.ms.max;
                    1 == this.realTime ? this.context.fillText(this.ms.current + " MS (" + t + "-" + e + ")", s.TEXT.X, s.TEXT.Y) : this.context.fillText(this.ms.value + " MS (" + t + "-" + e + ")", s.TEXT.X, s.TEXT.Y); for (var i = 0, n = this.ms.array.length; i < n; i++) { var r = this.ms.array[i] / this.ms.max * s.FRAMES.HEIGHT || 0,
                            o = s.FRAMES.X + i,
                            a = s.FRAMES.Y + s.FRAMES.HEIGHT - r;
                        this.context.fillRect(o, a, 1, r) } } else if (this.mode == l.MB) { this.context.fillStyle = h.MB.BACKGROUND, this.context.fillRect(0, 0, s.WIDTH, s.HEIGHT), this.context.fillStyle = h.MB.FRAMES, this.context.fillRect(s.FRAMES.X, s.FRAMES.Y, s.FRAMES.WIDTH, s.FRAMES.HEIGHT), this.context.fillStyle = h.MB.DATAS; var t = this.mb.min == 1 / 0 ? "" : this.mb.min,
                        e = this.mb.max == -(1 / 0) ? "" : this.mb.max;
                    1 == this.realTime ? this.context.fillText(this.mb.current + " MB (" + t + "-" + e + ")", s.TEXT.X, s.TEXT.Y) : this.context.fillText(this.mb.value + " MB (" + t + "-" + e + ")", s.TEXT.X, s.TEXT.Y); for (var i = 0, n = this.mb.array.length; i < n; i++) { var r = this.mb.array[i] / this.mb.max * s.FRAMES.HEIGHT || 0,
                            o = s.FRAMES.X + i,
                            a = s.FRAMES.Y + s.FRAMES.HEIGHT - r;
                        this.context.fillRect(o, a, 1, r) } } else if (this.mode == l.PING) { this.context.fillStyle = h.PING.BACKGROUND, this.context.fillRect(0, 0, s.WIDTH, s.HEIGHT), this.context.fillStyle = h.PING.FRAMES, this.context.fillRect(s.FRAMES.X, s.FRAMES.Y, s.FRAMES.WIDTH, s.FRAMES.HEIGHT), this.context.fillStyle = h.PING.DATAS; var t = this.ping.min == 1 / 0 ? "" : this.ping.min,
                        e = this.ping.max == -(1 / 0) ? "" : this.ping.max;
                    1 == this.realTime ? this.context.fillText(this.ping.current + " PING (" + t + "-" + e + ")", s.TEXT.X, s.TEXT.Y) : this.context.fillText(this.ping.value + " PING (" + t + "-" + e + ")", s.TEXT.X, s.TEXT.Y); for (var i = 0, n = this.ping.array.length; i < n; i++) { var r = this.ping.array[i] / this.ping.max * s.FRAMES.HEIGHT || 0,
                            o = s.FRAMES.X + i,
                            a = s.FRAMES.Y + s.FRAMES.HEIGHT - r;
                        this.context.fillRect(o, a, 1, r) } } } }, o.methods.initialize.prototype = o.methods, i(28) instanceof Function && void 0 != i(7) ? (n = function() { return o }.call(e, i, e, t), !(void 0 !== n && (t.exports = n))) : "undefined" != typeof t && t.exports ? t.exports = o : void 0 != r && (r.Stats = o) }(this || {}) }, function(t, e) { t.exports = function() { throw new Error("define cannot be used indirect") } }, function(t, e, i) { "use strict";

    function n(t) { return t && t.__esModule ? t : { "default": t } } e.__esModule = !0, e["default"] = function(t) { return t ? (o["default"].music.addSound(ASSET_URL + "snd/football_loop_mixdown", "menumusic2", { loop: !0 }), o["default"].music.sounds.menumusic2.load(), void o["default"].music.sounds.menumusic2.once("load", function() { window.app.musicLoaded = !0, window.app.appReady && !window.app.appReadyCalled && window.app.onAppReady() }.bind(this))) : ((!window.cordova || window.cordova && !Device.instance.android) && o["default"].music.addSound(ASSET_URL + "snd/football_loop_mixdown", "menumusic2", { loop: !0 }), o["default"].sfx.addSound(ASSET_URL + "snd/super/BATGIRL_2", "BATGIRL_2"), o["default"].sfx.addSound(ASSET_URL + "snd/super/WONDERWOMAN_1", "WONDERWOMAN_1"), o["default"].sfx.addSound(ASSET_URL + "snd/super/ONION_1", "ONION_1"), o["default"].sfx.addSound(ASSET_URL + "snd/super/RAVEN_1", "RAVEN_1"), o["default"].sfx.addSound(ASSET_URL + "snd/super/APPLE_5", "APPLE_5"), o["default"].sfx.addSound(ASSET_URL + "snd/super/CRAIG_2", "CRAIG_2"), o["default"].sfx.addSound(ASSET_URL + "snd/super/KELSEY_1", "KELSEY_1"), o["default"].sfx.addSound(ASSET_URL + "snd/super/Adventure_Time_BMO", "Adventure_Time_BMO"), o["default"].sfx.addSound(ASSET_URL + "snd/super/Adventure_Time_Bubblegum", "Adventure_Time_Bubblegum"), o["default"].sfx.addSound(ASSET_URL + "snd/super/Adventure_Time_Finn", "Adventure_Time_Finn"), o["default"].sfx.addSound(ASSET_URL + "snd/super/Adventure_Time_Jake", "Adventure_Time_Jake"), o["default"].sfx.addSound(ASSET_URL + "snd/super/Adventure_Time_Marcelline", "Adventure_Time_Marcelline"), o["default"].sfx.addSound(ASSET_URL + "snd/super/Ben_10_Ben", "Ben_10_Ben"), o["default"].sfx.addSound(ASSET_URL + "snd/super/Ben_10_Four_Arms", "Ben_10_Four_Arms"), o["default"].sfx.addSound(ASSET_URL + "snd/super/Ben_10_XLR8", "Ben_10_XLR8"), o["default"].sfx.addSound(ASSET_URL + "snd/super/Gumball_Anais", "Gumball_Anais"), o["default"].sfx.addSound(ASSET_URL + "snd/super/Gumball_Darwin", "Gumball_Darwin"), o["default"].sfx.addSound(ASSET_URL + "snd/super/Gumball_Gumball", "Gumball_Gumball"), o["default"].sfx.addSound(ASSET_URL + "snd/super/Gumball_Richard", "Gumball_Richard"), o["default"].sfx.addSound(ASSET_URL + "snd/super/Magiswords_Grup", "Magiswords_Grup"), o["default"].sfx.addSound(ASSET_URL + "snd/super/Magiswords_Prohyas", "Magiswords_Prohyas"), o["default"].sfx.addSound(ASSET_URL + "snd/super/Magiswords_Vanbre", "Magiswords_Vanbre"), o["default"].sfx.addSound(ASSET_URL + "snd/super/Powerpuff_Girls_Blossom", "Powerpuff_Girls_Blossom"), o["default"].sfx.addSound(ASSET_URL + "snd/super/Powerpuff_Girls_Bubbles", "Powerpuff_Girls_Bubbles"), o["default"].sfx.addSound(ASSET_URL + "snd/super/Powerpuff_Girls_Buttercup", "Powerpuff_Girls_Buttercup"), o["default"].sfx.addSound(ASSET_URL + "snd/super/Powerpuff_Girls_Mojo", "Powerpuff_Girls_Mojo"), o["default"].sfx.addSound(ASSET_URL + "snd/super/Regular_Show_Mordecai", "Regular_Show_Mordecai"), o["default"].sfx.addSound(ASSET_URL + "snd/super/Regular_Show_Rigby", "Regular_Show_Rigby"), o["default"].sfx.addSound(ASSET_URL + "snd/super/Teen_Titans_Go_Cyborg", "Teen_Titans_Go_Cyborg"), o["default"].sfx.addSound(ASSET_URL + "snd/super/Teen_Titans_Go_Robin", "Teen_Titans_Go_Robin"), o["default"].sfx.addSound(ASSET_URL + "snd/super/Teen_Titans_Go_Starfire", "Teen_Titans_Go_Starfire"), o["default"].sfx.addSound(ASSET_URL + "snd/super/We_Bare_Bears_Grizz", "We_Bare_Bears_Grizz"), o["default"].sfx.addSound(ASSET_URL + "snd/super/We_Bare_Bears_Ice_Bear", "We_Bare_Bears_Ice_Bear"), o["default"].sfx.addSound(ASSET_URL + "snd/super/We_Bare_Bears_Panda", "We_Bare_Bears_Panda"), o["default"].sfx.addSound(ASSET_URL + "snd/applause_extra2", "applause_extra2"), o["default"].sfx.addSound(ASSET_URL + "snd/button_deselect", "cantselect"), o["default"].sfx.addSound(ASSET_URL + "snd/ballkick_pass", "ballkick_pass"), o["default"].sfx.addSound(ASSET_URL + "snd/ball_pickup", "ball_pickup"), o["default"].sfx.addSound(ASSET_URL + "snd/ballkick_post", "ballkick_post"), o["default"].sfx.addSound(ASSET_URL + "snd/ballkick_shoot", "ballkick_shoot"), o["default"].sfx.addSound(ASSET_URL + "snd/ballkick_shoot_hard", "ballkick_shoot_hard"), o["default"].sfx.addSound(ASSET_URL + "snd/button_press", "button_press"), o["default"].sfx.addSound(ASSET_URL + "snd/button_press2", "button_press2"), o["default"].sfx.addSound(ASSET_URL + "snd/button_roll", "button_roll"), o["default"].sfx.addSound(ASSET_URL + "snd/electro_cute", "electro_cute"), o["default"].sfx.addSound(ASSET_URL + "snd/tackle_hit_deck", "tackle_hit_deck", { volume: 1 }), o["default"].sfx.addSound(ASSET_URL + "snd/whistle_full_time", "whistle_full_time"), o["default"].sfx.addSound(ASSET_URL + "snd/big_kick", "big_kick"), o["default"].sfx.addSound(ASSET_URL + "snd/slide_1", "slide_1"), o["default"].sfx.addSound(ASSET_URL + "snd/slide_2", "slide_2"), o["default"].sfx.addSound(ASSET_URL + "snd/slide_3", "slide_3"), o["default"].sfx.addSound(ASSET_URL + "snd/power_up_charge", "power_up_charge"), o["default"].sfx.addSound(ASSET_URL + "snd/crowd_normal_1", "crowd_normal_1"), o["default"].sfx.addSound(ASSET_URL + "snd/crowd_normal_2", "crowd_normal_2"), o["default"].sfx.addSound(ASSET_URL + "snd/crowd_normal_3", "crowd_normal_3"), o["default"].sfx.addSound(ASSET_URL + "snd/crowd_goal_3", "crowd_goal_3"), o["default"].sfx.addSound(ASSET_URL + "snd/character_unlock", "character_unlock"), o["default"].sfx.addSound(ASSET_URL + "snd/goal_coins", "goal_coins"), o["default"].sfx.addSound(ASSET_URL + "snd/squash", "squash"), o["default"].sfx.addSound(ASSET_URL + "snd/sfx_coin_01", "sfx_coin_01"), o["default"].sfx.addSound(ASSET_URL + "snd/sfx_fireball", "sfx_fireball"), o["default"].sfx.addSound(ASSET_URL + "snd/sfx_freeze", "sfx_freeze"), o["default"].sfx.addSound(ASSET_URL + "snd/sfx_getcoins", "sfx_getcoins"), o["default"].sfx.addSound(ASSET_URL + "snd/sfx_homing", "sfx_homing"), o["default"].sfx.addSound(ASSET_URL + "snd/sfx_reveal", "sfx_reveal"), o["default"].sfx.addSound(ASSET_URL + "snd/sfx_shrink", "sfx_shrink"), o["default"].sfx.addSound(ASSET_URL + "snd/sfx_squares", "sfx_squares"), o["default"].sfx.addSound(ASSET_URL + "snd/sfx_banana_01", "sfx_banana_01", { volume: 1 }), o["default"].sfx.addSound(ASSET_URL + "snd/sfx_banana_02", "sfx_banana_02", { volume: 1 }), o["default"].sfx.addSound(ASSET_URL + "snd/sfx_banana_03", "sfx_banana_03", { volume: 1 }), o["default"].sfx.addSound(ASSET_URL + "snd/sfx_banana_04", "sfx_banana_04", { volume: 1 }), o["default"].sfx.addSound(ASSET_URL + "snd/sfx_banana_05", "sfx_banana_05", { volume: 1 }), o["default"].sfx.addSound(ASSET_URL + "snd/sfx_snowball", "sfx_snowball", { volume: 1 }), o["default"].sfx.addGroup(["crowd_normal_1", "crowd_normal_2", "crowd_normal_3"], "croudHappy"), o["default"].sfx.addGroup(["slide_1", "slide_2", "slide_3"], "slide"), o["default"].music.addSound(ASSET_URL + "snd/pause_screen", "pause_screen", { loop: !0 }), o["default"].music.addSound(ASSET_URL + "snd/tournament_screen", "tournament_screen", { loop: !0 }), o["default"].music.addSound(ASSET_URL + "snd/applause_loop", "applause_loop", { loop: !0, volume: .1 }), void(window.SoundManager = o["default"])) }; var r = i(30),
        o = n(r);
    t.exports = e["default"] }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(13),
            o = i(31),
            a = function() { this.disabled = !1, this.preload = !0, this.currentSound = null, this.sounds = {}, this.groups = {}, this.globalVolume = 1, this.isMuted = !1, window.onfocus = this._onFocus.bind(this), this.onMuteToggle = new r };
        a.prototype._onFocus = function() { this.isMuted ? this.mute() : this.unmute() }, a.prototype.addSound = function(t, e, i) { if (!this.disabled && !this.sounds[e]) { i = i || {}; var n = new Howl({ src: [t + ".mp3", t + ".ogg"], autoplay: i.autoplay || !1, loop: i.loop || !1, volume: i.volume || 1 });
                n.realVolume = i.volume || 1, this.sounds[e] = n } }, a.prototype.addSounds = function(t, e) { for (var i = 0; i < t.length; i++) { var n = t[i];
                this.addSound(e + n, n) } }, a.prototype.addGroup = function(t, e) { if (!this.disabled && !this.groups[e]) { var i = { index: 0, type: 0, sounds: t };
                this.groups[e] = i } }, a.prototype.getSoundAtId = function(t) { return this.sounds[t] }, a.prototype.getSound = function(t) { return this.currentSound }, a.prototype.play = function(t, e) { return this.disabled || !this.sounds[t] ? void!this.sounds[t] : (e && this.sounds[t].volume(e), this.sounds[t].play(), this.currentSound = this.sounds[t], this.currentSound) }, a.prototype.fadeTo = function(t, e, i) { if ("undefined" == typeof i && (i = 2.5), "undefined" == typeof callback && (callback = null), "undefined" != typeof e) { var n = this.sounds[t];
                n && TweenLite.to(n, i, { _volume: e, onUpdate: this.actuallyChangeVolume.bind(this), onComplete: this.stopAndReset.bind(this), onCompleteParams: [t], onUpdateParams: ["{self}", t] }) } }, a.prototype.actuallyChangeVolume = function(t, e) { this.setVolume(e, t.target._volume) }, a.prototype.stopAndReset = function(t) { this.stop(t), this.setVolume(t, 1), this.stop(t) }, a.prototype.isPlaying = function(t) { if (!this.disabled) return !this.sounds[t]._audioNode[0].paused }, a.prototype.playGroup = function(t) { if (!this.disabled && this.groups[t]) { var e = this.groups[t],
                    i = Math.random() * e.sounds.length | 0;
                this.sounds[e.sounds[i]].play(), this.currentSound = this.sounds[e.sounds[i]] } }, a.prototype.setVolume = function(t, e) { if (!this.disabled) { var i = this.sounds[t];
                i.realVolume = e, i.volume(e * this.globalVolume) } }, a.prototype.stop = function(t) {!this.disabled && this.sounds[t] && this.sounds[t].stop() }, a.prototype.stopAll = function() { if (!this.disabled)
                for (var t in this.sounds) this.sounds[t].stop() }, a.prototype.setPlaybackSpeed = function(t, e) { if (!this.disabled) { var i = this.sounds[t];
                i._playbackSpeed = e; var n = "music" == t ? 0 : 1;
                i._webAudio && Howler._howls[n]._audioNode[0] && (Howler._howls[n]._audioNode[0].bufferSource.playbackRate.value = e) } }, a.prototype.getPlaybackSpeed = function(t) { if (!this.disabled) { var e = this.sounds[t]; return e._playbackSpeed || 1 } }, a.prototype.setGlobalVolume = function(t) { this.globalVolume = t; for (var e in this.sounds) { var i = this.sounds[e];
                i.volume(i.realVolume * t) } }, a.prototype.mute = function() { this.isMuted = !0, Howler.mute(!0), this.onMuteToggle.dispatch(!0) }, a.prototype.unmute = function() { this.isMuted = !1, Howler.mute(!1), this.onMuteToggle.dispatch(!1) }, a.prototype.check = function() { this.lastSeen = Date.now(); var t = function() { lastSeen = Date.now(), setTimeout(t, 50) };
            t(); var i = document.getElementById("music");
            i.addEventListener("timeupdate", function() { Date.now() - e.lastSeen > 100 && this.pause() }, !1) }, a.sfx = new a, a.music = new a, a.sfx.disabled = !Howler.usingWebAudio, o.onHide.add(function() { Howler.mute(!0) }.bind(this), Howler), o.onShow.add(function() { a.sfx.isMuted || Howler.mute(!1) }.bind(this), Howler), n.exports = a }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(13),
            o = function() { "undefined" != typeof document.hidden ? (this.hidden = "hidden", this.visibilityChange = "visibilitychange") : "undefined" != typeof document.mozHidden ? (this.hidden = "mozHidden", this.visibilityChange = "mozvisibilitychange") : "undefined" != typeof document.msHidden ? (this.hidden = "msHidden", this.visibilityChange = "msvisibilitychange") : "undefined" != typeof document.webkitHidden && (this.hidden = "webkitHidden", this.visibilityChange = "webkitvisibilitychange"), this.onHide = new r, this.onShow = new r, this.init() };
        o.prototype.handleVisibilityChange = function() { document[this.hidden] ? this.onHide.dispatch() : this.onShow.dispatch() }, o.prototype.init = function() { document.addEventListener(this.visibilityChange, this.handleVisibilityChange.bind(this), !1) }, n.exports = new o }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e) { "use strict";
    t.exports = { BREADCRUMB: { HEIGHT: 80 }, COUNTRY_SELECT: { MARGIN: 25 }, PLAYER_CARD: { WIDTH: 306, SPACING: 20, OFFSET: 60, HEIGHT: 400, PADDING: 10 }, MARGIN: { TITLE_TOP: 69 }, UNLOCKABLES: { PRICE: 50 }, SCREEN_ID: { TITLE: "TITLE", INSTRUCTIONS: "INSTRUCTIONS", COUNTRY_SELECT: "COUNTRY_SELECT", REGION_SELECT: "REGION_SELECT", CAPTAIN_SELECT: "CAPTAIN_SELECT", PLAYER_SELECT: "PLAYER_SELECT", PLAYER_SELECT_2: "PLAYER_SELECT_2", TEAM_REVIEW: "TEAM_REVIEW", TEAM_SELECT: "TEAM_SELECT", TOURNAMENT: "TOURNAMENT", GAME: "GAME", GAMEOVER: "GAMEOVER", SUCCEED: "SUCCEED", FAIL: "FAIL", LEADERBOARD: "LEADERBOARD", UNLOCKABLES: "UNLOCKABLES", SETTINGS: "SETTINGS", INTRO: "INTRO", LANGUAGE: "LANGUAGE" }, OVERLAY_ID: { INSTRUCTIONS: "INSTRUCTIONS", PAUSE: "PAUSE", QUIT: "QUIT", EMPTY: "EMPTY", SKIP: "SKIP", LANGUAGE: "LANGUAGE" }, MESSAGE_ID: { VS: "VS", WHISTLE: "WHISTLE", GOAL: "GOAL", SCORE: "SCORE", POWERUP: "POWERUP" } } }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(21),
            a = i(22),
            s = i(24),
            h = (i(34), i(13)),
            l = i(35),
            u = (l.Translation, i(36), i(19)),
            c = i(16),
            d = i(37),
            p = function(t) { r.Container.call(this), this.app = t, this.count = 0, t.loader.onProgress.add(this.onProgress, this), this.easeLoad = 0, this.targetLoad = 0, this.onReady = new h, this.onComplete = new h, this.transition = new u, this.container = new r.Container, this.addChild(this.container), window.cordova ? this.showVideo() : this.onAssetsLoaded() };
        p.prototype = Object.create(r.Container.prototype), p.prototype.constructor = p, p.prototype.onShown = function() {}, p.prototype.showVideo = function() { if (this.app.background && (this.app.background.visible = !1), this.app.loader.load(), a.instance.android) TweenLite.delayedCall(1, function() { this.app.background && (this.app.background.visible = !1), navigator.splashscreen.hide(), this.showGoodboyLogo() }.bind(this));
            else { if (a.instance.iOS_version < 10) return void TweenLite.delayedCall(1, function() { this.app.background && (this.app.background.visible = !1), navigator.splashscreen.hide(), this.showGoodboyLogo() }.bind(this)); var t = r.Texture.fromVideoUrl(ASSET_URL + "video/cn_intro.mp4");
                t.baseTexture.source.addEventListener("canplay", function() { this.app.background && (this.app.background.visible = !1), navigator.splashscreen.hide(), a.instance.iOS_version >= 12 && TweenLite.delayedCall(4, function() { t.baseTexture.source.paused && this.showGoodboyLogo() }.bind(this)) }.bind(this), !1), t.baseTexture.source.addEventListener("ended", function() { this.showGoodboyLogo() }.bind(this), !1); var e = new r.Sprite(t);
                e.anchor.set(.5), this.container.addChild(e), this.video = e } }, p.prototype.showGoodboyLogo = function() { window.videoIsPlaying = !1, this.app.background && (this.app.background.visible = !1), this.app.goodboyLogoShowed = !0, this.video && this.container.removeChild(this.video); var t = new r.Graphics;
            t.beginFill(0), t.drawRect(0, 0, this.w, this.h), this.container.addChild(t), this.black = t, this.goodboyLogo = r.Sprite.from(ASSET_URL + "img/intro_logo_goodboy.png"), this.goodboyLogo.scale.set(.5), this.goodboyLogo.anchor.set(.5), this.container.addChild(this.goodboyLogo), this.showLoader(), TweenLite.delayedCall(2, function() { this.app.appReady && !this.app.appReadyCalled ? this.app.onAppReady() : this.onAssetsLoaded() }.bind(this)) }, p.prototype.onAssetsLoaded = function() { this.app.background && (this.app.background.visible = !0), this.goodboyLogo && this.container.removeChild(this.goodboyLogo), this.black && this.container.removeChild(this.black);
            c.getJson("config").config.LOCALE;
            this.cnLogo = new r.Sprite.fromFrame("logo_2.png"), this.cnLogo.anchor.set(.5), this.cnLogo.y = -50, this.container.addChild(this.cnLogo); for (var t = [], e = 1; e <= 6; e++) t.push(r.Texture.fromFrame("bar_" + e + ".png"));
            this.bar = new r.extras.MovieClip(t), this.bar.anchor.set(.5), this.bar.y = 70, this.bar.animationSpeed = .2, this.bar.play(), this.container.addChild(this.bar), this.barTop = r.Sprite.fromFrame("bar_top.png"), this.barTop.anchor.set(.5), this.barTop.y = this.bar.y, this.container.addChild(this.barTop), o.instance.add(this.update, this), this.resize(this.w, this.h), s.wait(this.showLoader.bind(this)) }, p.prototype.showLoader = function() { TweenLite.to(this.app.dimmer, .6, { alpha: .5, ease: Sine.easeOut }), this.app.resize(this.app.w, this.app.h), this.goodboyLogo || this.app.loader.load() }, p.prototype.showPlayButton = function() { this.container.removeChild(this.bar), this.container.removeChild(this.barTop), TweenLite.to(this.cnLogo.scale, .8, { x: 1.3, y: 1.3, ease: Sine.easeOut }), TweenLite.to(this.cnLogo, .8, { y: -200, ease: Sine.easeOut }); var t = r.Sprite.from(ASSET_URL + "img/cn_games_logo.png");
            t.anchor.set(.5), t.scale.set(.3), t.alpha = 0, t.y = -70, this.container.addChild(t); var e = .3;
            TweenLite.to(t, .5, { alpha: 1, ease: Sine.easeOut, delay: e }), TweenLite.to(t.scale, .5, { x: .4, y: .4, ease: Sine.easeOut, delay: e }); var i = new d("play_button.png", null, null, null, 1.08);
            i.defaultScale = 1, i.y = 140, i.scale.set(1.8, 0), TweenLite.to(i.scale, 1.1, { x: 1, y: 1, ease: Elastic.easeOut.config(1, .6), delay: .8 }), i.onPress.addOnce(function() { i.disable(), this.app.onAppReady() }, this), this.container.addChild(i) }, p.prototype.update = function() { this.count += .02 }, p.prototype.onProgress = function(t) { this.targetLoad = t }, p.prototype.onShow = function() {}, p.prototype.onHide = function() { o.instance.remove(this.update, this) }, p.prototype.resize = function(t, e) { this.w = t, this.h = e, this.container.position.x = t / 2, this.container.position.y = e / 2, this.black && (this.black.width = t, this.black.height = e) }, n.exports = p }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = {};
        o.trimTexture = function(t, e, i, n, r) { e = e || 0, i = i || 0, n = n || 0, r = r || 0; var o = t._frame;
            o.x += e, o.y += n, o.width -= e + i, o.height -= n + r, t.frame = o, t._updateUvs() }, o.getTexturesFromFrames = function(t) { for (var e = [], i = 0; i < t.length; i++) e.push(new r.Texture.fromFrame(t[i])); return e }, o.getTexturesFromImages = function(t) { for (var e = [], i = 0; i < t.length; i++) e.push(new r.Texture.fromImage(t[i])); return e }, o.getTexturesFromFramesWithPrefix = function(t, e, i, n) { var o = [];
            void 0 == i && (i = 0); for (var a = 0; a < e; a++) { var s = a + i,
                    h = t.replace("%%", s < 10 ? "0" + s : s); if (n) var h = t.replace("%%", s);
                o.push(new r.Texture.fromFrame(h)) } return o }, o.formatTime = function(t) { if (999999 === t) return "00:00:00"; var t = t / .06,
                e = t / 60 / 1e3 | 0;
            t -= 60 * e * 1e3; var i = t / 1e3 | 0;
            t -= 1e3 * i; var n = t / 10 | 0; return t -= 10 * n, (e < 10 ? "0" : "") + e + ":" + (i < 10 ? "0" : "") + i + ":" + (n < 10 ? "0" : "") + n }, o.formatTimeSeconds = function(t) { if (999999 === t) return "00:00"; var t = t / .06,
                e = t / 60 / 1e3 | 0;
            t -= 60 * e * 1e3; var i = t / 1e3 | 0; return t -= 1e3 * i, (e < 10 ? "0" : "") + e + ":" + (i < 10 ? "0" : "") + i }, o.pad = function(t, e) { var i = "0000" + t; return i.substr(i.length - e) }, o.shuffle = function(t) { for (var e = t.length - 1; e > 0; e--) { var i = Math.floor(Math.random() * (e + 1)),
                    n = t[e];
                t[e] = t[i], t[i] = n } return t }, o.isInArray = function(t, e) { for (var i = t.length; i--;)
                if (t[i] === e) return !0; return !1 }, o.uniq = function(t, e) { var i = [],
                n = {}; for (var r in t) n[t[r][e]] = t[r]; for (r in n) i.push(n[r]); return i }, o.formatScore = function(t) { for (var e = t.toString().split(""), i = "", n = e.length, r = n % 3 - 1, o = 0; o < n; o++) i += e[o], (o - r) % 3 == 0 && o != n - 1 && (i += ","); return i }, o.formatNumber = function(t) { if (ones = t % 10, tens = Math.floor(t / 10) % 10, 1 == tens) return t + "th"; switch (ones) {
                case 1:
                    return t + "st";
                case 2:
                    return t + "nd";
                case 3:
                    return t + "rd";
                default:
                    return t + "th" } }, o.formatName = function(t) { for (var e = t.split(" "), i = e.length - 1; i >= 0; i--) 0 !== e[i].length && (wordArray = e[i].split(""), wordArray[0] = wordArray[0].toUpperCase(), e[i] = wordArray.join("")); return word = e.join(" "), word }, window.console || (window.console = { log: function(t) {} }), o.get_query = function(t) { for (var e = location.href, i = e.substring(e.indexOf("?") + 1).split("&"), n = 0, r = {}; n < i.length; n++) i[n] = i[n].split("="), r[i[n][0]] = decodeURIComponent(i[n][1]); return !!r.hasOwnProperty(t) && r[t] }, o.toCamelCase = function(t) { var e = /\s([a-z]|[A-Z])/,
                i = t.trim(); return i = i.toLowerCase(), i = i.replace(e, function(t, e) { return e.toUpperCase() }) }, o.defaults = function(t, e) { t = t || {}; for (var i in e) i in t || (t[i] = e[i]); return t }, o.fitText = o.resizeText = function(t, e, i, n) { n = n || "w", t.scale.set(1), i && (t.text = i); var r = 0;
            r = "w" === n ? e / t.width : e / t.height, r > 1 && (r = 1), t.scale.set(r) }, o.resizeMultipleTexts = function(t, e, i) { for (var n = 0; n < t.length; n++) { var r = t[n];
                r.scale.set(1) } var o = 0; if (i)
                for (var n = 0; n < t.length; n++) { var r = t[n];
                    r.text = i[n] }
            for (var n = 0; n < t.length; n++) { var r = t[n];
                r.width > o && (o = r.width) } var a = e / o;
            a > 1 && (a = 1); for (var n = 0; n < t.length; n++) t[n].scale.set(a) }, n.exports = o }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e) {
    "use strict";
    var i = {
        playButton: "STR_PLAY_BUTTON",
        loader: { loading: "STR_LOADER_LOADING" },
        sponsor: { path: "img/sponsor/main-menu-sponsor.jpg", url: "www.google.co.uk" },
        title_screen: { quick_play: "STR_TITLE_PRACTICE", tournament: "STR_TITLE_TOURNAMENT", leaderboard: "STR_TITLE_LEADERBOARD", updateBrowser: "STR_BROWSER_SUPPORT", unlockables: "STR_TITLE_UNLOCKABLES" },
        country_select_screen: { title: "STR_COUNTRY_SELECT_TITLE", toolTip: "STR_COUNTRY_RANKING" },
        captain_select_screen: { title: "STR_CAPTAIN_SELECT_TITLE" },
        player1_select_screen: { title: "STR_PLAYER1_SELECT_TITLE" },
        player2_select_screen: { title: "STR_PLAYER2_SELECT_TITLE" },
        review_screen: { title: "STR_REVIEW_TITLE" },
        instructions_screen: { title: "STR_INSTRUCTIONS_TITLE", movement: "STR_INSTRUCTIONS_MOVEMENT", tackle: "STR_INSTRUCTIONS_TACKLE", shortPass: "STR_INSTRUCTIONS_PASS", specialShot: "STR_INSTRUCTIONS_SHOT", tackleKey: "Z", specialShotKey: "X" },
        team_select_screen: { title: "STR_TEAM_SELECT_TITLE", captain: "STR_TEAM_SELECT_CAPTAIN", players: "STR_TEAM_SELECT_PLAYERS" },
        tournament_screen: { title: "STR_TOURNAMENT_TITLE", playButton: "STR_PLAY_BUTTON", endButton: "STR_TOURNAMENT_END_BUTTON", stages: { quarter: "STR_TOURNAMENT_QUARTERS", semi: "STR_TOURNAMENT_SEMI", "final": "STR_TOURNAMENT_FINALS", winner: "STR_TOURNAMENT_WINNER" } },
        gameover_screen: { title: "STR_GAMEOVER_TITLE" },
        leaderboard_screen: { title: "STR_LEADERBOARD_TITLE" },
        game_screen: { goal: "STR_GAME_GOAL", goldenGoal: "STR_GAME_GOLDEN_GOAL" },
        succeed_screen: { title: "STR_GAME_WIN" },
        fail_screen: { title: "STR_GAME_FAIL" },
        pause_overlay: { title: "STR_PAUSED" },
        quit_overlay: { title: "STR_QUIT" },
        regions: { WE: { ID: "WE", REGION_ID: 1, NAME: "STR_REGION_WESTERNEUROPE", BUTTON: "button_western_europe.png", MAP: "map_western_europe.png", MAP_X: 0, MAP_Y: 0 }, EE: { ID: "EE", REGION_ID: 4, NAME: "STR_REGION_EASTERNEUROPE", BUTTON: "button_eastern_europe.png", MAP: "map_eastern_europe.png", MAP_X: 0, MAP_Y: 0 }, AF: { ID: "AF", REGION_ID: 5, NAME: "STR_REGION_AFRICAMIDDLEEAST", BUTTON: "button_africa_middle_east.png", MAP: "map_africa.png", MAP_X: 0, MAP_Y: 0 }, AS: { ID: "AS", REGION_ID: 6, NAME: "STR_REGION_ASIAPACIFIC", BUTTON: "button_asian_pacific.png", MAP: "map_asia.png", MAP_X: 0, MAP_Y: 0 }, AM: { ID: "AM", REGION_ID: 2, NAME: "STR_REGION_AMERICAS", BUTTON: "button_americas.png", MAP: "map_americas.png", MAP_X: 0, MAP_Y: 0 } },
        countries: {
            SN: { ID: "SN", SCORE_ID: 1, NAME: "STR_COUNTRY_SENEGAL", REGION: 5, FLAG: "flag_senegal.png" },
            TN: { ID: "TN", SCORE_ID: 2, NAME: "STR_COUNTRY_TUNISIA", REGION: 5, FLAG: "flag_tunisia.png" },
            CG: { ID: "CG", SCORE_ID: 3, NAME: "STR_COUNTRY_CONGO", REGION: 5, FLAG: "flag_congo.png" },
            MA: { ID: "MA", SCORE_ID: 4, NAME: "STR_COUNTRY_MOROCCO", REGION: 5, FLAG: "flag_morocco.png" },
            BF: { ID: "BF", SCORE_ID: 5, NAME: "STR_COUNTRY_BURKINAFASO", REGION: 5, FLAG: "flag_burkina_faso.png" },
            CM: { ID: "CM", SCORE_ID: 6, NAME: "STR_COUNTRY_CAMEROON", REGION: 5, FLAG: "flag_cameroon.png" },
            GH: { ID: "GH", SCORE_ID: 7, NAME: "STR_COUNTRY_GHANA", REGION: 5, FLAG: "flag_ghana.png" },
            NG: { ID: "NG", SCORE_ID: 8, NAME: "STR_COUNTRY_NIGERIA", REGION: 5, FLAG: "flag_nigeria.png" },
            DZ: { ID: "DZ", SCORE_ID: 9, NAME: "STR_COUNTRY_ALGERIA", REGION: 5, FLAG: "flag_algeria.png" },
            ZA: { ID: "ZA", SCORE_ID: 10, NAME: "STR_COUNTRY_SOUTHAFRICA", REGION: 5, FLAG: "flag_south_africa.png" },
            EG: { ID: "EG", SCORE_ID: 11, NAME: "STR_COUNTRY_EGYPT", REGION: 5, FLAG: "flag_egypt.png" },
            IR: {
                ID: "IR",
                SCORE_ID: 12,
                NAME: "STR_COUNTRY_IRAN",
                REGION: 5,
                FLAG: "flag_iran.png"
            },
            TR: { ID: "TR", SCORE_ID: 13, NAME: "STR_COUNTRY_TURKEY", REGION: 4, FLAG: "flag_turkey.png" },
            SA: { ID: "SA", SCORE_ID: 14, NAME: "STR_COUNTRY_SAUDIARABIA", REGION: 5, FLAG: "flag_saudi_arabia.png" },
            AE: { ID: "AE", SCORE_ID: 15, NAME: "STR_COUNTRY_UNITEDARABEMIRATES", REGION: 5, FLAG: "flag_united_arab_emirates.png" },
            JP: { ID: "JP", SCORE_ID: 16, NAME: "STR_COUNTRY_JAPAN", REGION: 6, FLAG: "flag_japan.png" },
            KR: { ID: "KR", SCORE_ID: 17, NAME: "STR_COUNTRY_SOUTHKOREA", REGION: 6, FLAG: "flag_south_korea.png" },
            TH: { ID: "TH", SCORE_ID: 18, NAME: "STR_COUNTRY_THAILAND", REGION: 6, FLAG: "flag_thailand.png" },
            CN: { ID: "CN", SCORE_ID: 19, NAME: "STR_COUNTRY_CHINA", REGION: 6, FLAG: "flag_china.png" },
            SG: { ID: "SG", SCORE_ID: 20, NAME: "STR_COUNTRY_SINGAPORE", REGION: 6, FLAG: "flag_singapore.png" },
            MY: { ID: "MY", SCORE_ID: 21, NAME: "STR_COUNTRY_MALAYSIA", REGION: 6, FLAG: "flag_malaysia.png" },
            TW: { ID: "TW", SCORE_ID: 22, NAME: "STR_COUNTRY_TAIWAN", REGION: 6, FLAG: "flag_taiwan.png" },
            LA: { ID: "LA", SCORE_ID: 23, NAME: "STR_COUNTRY_LAOS", REGION: 6, FLAG: "flag_laos.png" },
            VN: { ID: "VN", SCORE_ID: 24, NAME: "STR_COUNTRY_VIETNAM", REGION: 6, FLAG: "flag_vietnam.png" },
            PH: { ID: "PH", SCORE_ID: 25, NAME: "STR_COUNTRY_PHILIPPINES", REGION: 6, FLAG: "flag_philippines.png" },
            ID: { ID: "ID", SCORE_ID: 26, NAME: "STR_COUNTRY_INDONESIA", REGION: 6, FLAG: "indonesia.png" },
            IN: { ID: "IN", SCORE_ID: 27, NAME: "STR_COUNTRY_INDIA", REGION: 6, FLAG: "flag_india.png" },
            PK: { ID: "PK", SCORE_ID: 28, NAME: "STR_COUNTRY_PAKISTAN", REGION: 6, FLAG: "flag_pakistan.png" },
            AU: { ID: "AU", SCORE_ID: 29, NAME: "STR_COUNTRY_AUSTRALIA", REGION: 6, FLAG: "flag_australia.png" },
            NZ: { ID: "NZ", SCORE_ID: 30, NAME: "STR_COUNTRY_NEWZEALAND", REGION: 6, FLAG: "flag_new_zealand.png" },
            PL: { ID: "PL", SCORE_ID: 31, NAME: "STR_COUNTRY_POLAND", REGION: 4, FLAG: "flag_poland.png" },
            HR: { ID: "HR", SCORE_ID: 32, NAME: "STR_COUNTRY_CROATIA", REGION: 4, FLAG: "flag_croatia.png" },
            SK: { ID: "SK", SCORE_ID: 33, NAME: "STR_COUNTRY_SLOVAKIA", REGION: 4, FLAG: "flag_slovakia.png" },
            AT: { ID: "AT", SCORE_ID: 34, NAME: "STR_COUNTRY_AUSTRIA", REGION: 4, FLAG: "flag_austria.png" },
            UA: { ID: "UA", SCORE_ID: 35, NAME: "STR_COUNTRY_UKRAINE", REGION: 4, FLAG: "flag_ukraine.png" },
            RS: { ID: "RS", SCORE_ID: 36, NAME: "STR_COUNTRY_SERBIA", REGION: 4, FLAG: "flag_serbia.png" },
            BA: { ID: "BA", SCORE_ID: 37, NAME: "STR_COUNTRY_BOSNIAANDHERZEGOVINA", REGION: 4, FLAG: "flag_bosnia_herzegovina.png" },
            RO: { ID: "RO", SCORE_ID: 38, NAME: "STR_COUNTRY_ROMANIA", REGION: 4, FLAG: "flag_romania.png" },
            BG: { ID: "BG", SCORE_ID: 39, NAME: "STR_COUNTRY_BULGARIA", REGION: 4, FLAG: "flag_bulgaria.png" },
            ME: { ID: "ME", SCORE_ID: 40, NAME: "STR_COUNTRY_MONTENEGRO", REGION: 4, FLAG: "flag_montenegro.png" },
            GR: { ID: "GR", SCORE_ID: 41, NAME: "STR_COUNTRY_GREECE", REGION: 4, FLAG: "flag_greece.png" },
            CZ: { ID: "CZ", SCORE_ID: 42, NAME: "STR_COUNTRY_CZECHREPUBLIC", REGION: 4, FLAG: "flag_czech_republic.png" },
            HU: { ID: "HU", SCORE_ID: 43, NAME: "STR_COUNTRY_HUNGARY", REGION: 4, FLAG: "flag_hungary.png" },
            RU: { ID: "RU", SCORE_ID: 44, NAME: "STR_COUNTRY_RUSSIA", REGION: 4, FLAG: "flag_russia.png" },
            US: { ID: "US", SCORE_ID: 45, NAME: "STR_COUNTRY_USA", REGION: 2, FLAG: "flag_usa.png" },
            MX: { ID: "MX", SCORE_ID: 46, NAME: "STR_COUNTRY_MEXICO", REGION: 2, FLAG: "flag_mexico.png" },
            CR: { ID: "CR", SCORE_ID: 47, NAME: "STR_COUNTRY_COSTARICA", REGION: 2, FLAG: "flag_costa_rica.png" },
            PA: { ID: "PA", SCORE_ID: 48, NAME: "STR_COUNTRY_PANAMA", REGION: 2, FLAG: "flag_panama.png" },
            BR: { ID: "BR", SCORE_ID: 49, NAME: "STR_COUNTRY_BRAZIL", REGION: 2, FLAG: "flag_brazil.png" },
            AR: { ID: "AR", SCORE_ID: 50, NAME: "STR_COUNTRY_ARGENTINA", REGION: 2, FLAG: "flag_argentina.png" },
            CL: { ID: "CL", SCORE_ID: 51, NAME: "STR_COUNTRY_CHILE", REGION: 2, FLAG: "flag_chile.png" },
            PE: { ID: "PE", SCORE_ID: 52, NAME: "STR_COUNTRY_PERU", REGION: 2, FLAG: "flag_peru.png" },
            CO: { ID: "CO", SCORE_ID: 53, NAME: "STR_COUNTRY_COLOMBIA", REGION: 2, FLAG: "flag_colombia.png" },
            UY: { ID: "UY", SCORE_ID: 54, NAME: "STR_COUNTRY_URUGUAY", REGION: 2, FLAG: "flag_uruguay.png" },
            PY: { ID: "PY", SCORE_ID: 55, NAME: "STR_COUNTRY_PARAGUAY", REGION: 2, FLAG: "flag_paraguay.png" },
            BO: { ID: "BO", SCORE_ID: 56, NAME: "STR_COUNTRY_BOLIVIA", REGION: 2, FLAG: "flag_bolivia.png" },
            VE: { ID: "VE", SCORE_ID: 57, NAME: "STR_COUNTRY_VENEZUELA", REGION: 2, FLAG: "flag_venezuela.png" },
            DE: { ID: "DE", SCORE_ID: 58, NAME: "STR_COUNTRY_GERMANY", REGION: 1, FLAG: "flag_germany.png" },
            PT: { ID: "PT", SCORE_ID: 59, NAME: "STR_COUNTRY_PORTUGAL", REGION: 1, FLAG: "flag_portugal.png" },
            BE: { ID: "BE", SCORE_ID: 60, NAME: "STR_COUNTRY_BELGIUM", REGION: 1, FLAG: "flag_belgium.png" },
            ES: { ID: "ES", SCORE_ID: 61, NAME: "STR_COUNTRY_SPAIN", REGION: 1, FLAG: "flag_spain.png" },
            FR: { ID: "FR", SCORE_ID: 62, NAME: "STR_COUNTRY_FRANCE", REGION: 1, FLAG: "flag_france.png" },
            DK: { ID: "DK", SCORE_ID: 63, NAME: "STR_COUNTRY_DENMARK", REGION: 1, FLAG: "flag_denmark.png" },
            IT: { ID: "IT", SCORE_ID: 64, NAME: "STR_COUNTRY_ITALY", REGION: 1, FLAG: "flag_italy.png" },
            GB: { ID: "GB", SCORE_ID: 65, NAME: "STR_COUNTRY_ENGLAND", REGION: 1, FLAG: "flag_england.png" },
            SE: { ID: "SE", SCORE_ID: 66, NAME: "STR_COUNTRY_SWEDEN", REGION: 1, FLAG: "flag_sweden.png" },
            WA: { ID: "WA", SCORE_ID: 67, NAME: "STR_COUNTRY_WALES", REGION: 1, FLAG: "flag_wales.png" },
            NL: { ID: "NL", SCORE_ID: 68, NAME: "STR_COUNTRY_NETHERLANDS", REGION: 1, FLAG: "flag_netherlands.png" },
            IX: { ID: "IX", SCORE_ID: 69, NAME: "STR_COUNTRY_NORTHERNIRELAND", REGION: 1, FLAG: "flag_northern_ireland.png" },
            IE: { ID: "IE", SCORE_ID: 70, NAME: "STR_COUNTRY_REPUBLICOFIRELAND", REGION: 1, FLAG: "flag_ireland.png" },
            SC: { ID: "SC", SCORE_ID: 71, NAME: "STR_COUNTRY_SCOTLAND", REGION: 1, FLAG: "flag_scotland.png" },
            NO: { ID: "NO", SCORE_ID: 72, NAME: "STR_COUNTRY_NORWAY", REGION: 1, FLAG: "flag_norway.png" },
            WS: { ID: "WS", SCORE_ID: 73, NAME: "STR_COUNTRY_WORLDALLSTARS", REGION: 0, FLAG: "flag_allstar.png" },
            QT: { ID: "QT", SCORE_ID: 74, NAME: "STR_COUNTRY_QATAR", REGION: 5, FLAG: "flag_qatar.png" },
            EC: { ID: "EC", SCORE_ID: 75, NAME: "STR_COUNTRY_ECUADOR", REGION: 2, FLAG: "flag_ecuador.png" }
        },
        country_codes: { BD: "Bangladesh", BE: "Belgium", BF: "Burkina Faso", BG: "Bulgaria", BA: "Bosnia and Herzegovina", BB: "Barbados", WF: "Wallis and Futuna", BL: "Saint Barthelemy", BM: "Bermuda", BN: "Brunei", BO: "Bolivia", BH: "Bahrain", BI: "Burundi", BJ: "Benin", BT: "Bhutan", JM: "Jamaica", BV: "Bouvet Island", BW: "Botswana", WS: "Samoa", BQ: "Bonaire, Saint Eustatius and Saba ", BR: "Brazil", BS: "Bahamas", JE: "Jersey", BY: "Belarus", BZ: "Belize", RU: "Russia", RW: "Rwanda", RS: "Serbia", TL: "East Timor", RE: "Reunion", TM: "Turkmenistan", TJ: "Tajikistan", RO: "Romania", TK: "Tokelau", GW: "Guinea-Bissau", GU: "Guam", GT: "Guatemala", GS: "South Georgia and the South Sandwich Islands", GR: "Greece", GQ: "Equatorial Guinea", GP: "Guadeloupe", JP: "Japan", GY: "Guyana", GG: "Guernsey", GF: "French Guiana", GE: "Georgia", GD: "Grenada", GB: "United Kingdom", GA: "Gabon", SV: "El Salvador", GN: "Guinea", GM: "Gambia", GL: "Greenland", GI: "Gibraltar", GH: "Ghana", OM: "Oman", TN: "Tunisia", JO: "Jordan", HR: "Croatia", HT: "Haiti", HU: "Hungary", HK: "Hong Kong", HN: "Honduras", HM: "Heard Island and McDonald Islands", VE: "Venezuela", PR: "Puerto Rico", PS: "Palestinian Territory", PW: "Palau", PT: "Portugal", SJ: "Svalbard and Jan Mayen", PY: "Paraguay", IQ: "Iraq", PA: "Panama", PF: "French Polynesia", PG: "Papua New Guinea", PE: "Peru", PK: "Pakistan", PH: "Philippines", PN: "Pitcairn", PL: "Poland", PM: "Saint Pierre and Miquelon", ZM: "Zambia", EH: "Western Sahara", EE: "Estonia", EG: "Egypt", ZA: "South Africa", EC: "Ecuador", IT: "Italy", VN: "Vietnam", SB: "Solomon Islands", ET: "Ethiopia", SO: "Somalia", ZW: "Zimbabwe", SA: "Saudi Arabia", ES: "Spain", ER: "Eritrea", ME: "Montenegro", MD: "Moldova", MG: "Madagascar", MF: "Saint Martin", MA: "Morocco", MC: "Monaco", UZ: "Uzbekistan", MM: "Myanmar", ML: "Mali", MO: "Macao", MN: "Mongolia", MH: "Marshall Islands", MK: "Macedonia", MU: "Mauritius", MT: "Malta", MW: "Malawi", MV: "Maldives", MQ: "Martinique", MP: "Northern Mariana Islands", MS: "Montserrat", MR: "Mauritania", IM: "Isle of Man", UG: "Uganda", TZ: "Tanzania", MY: "Malaysia", MX: "Mexico", IL: "Israel", FR: "France", IO: "British Indian Ocean Territory", SH: "Saint Helena", FI: "Finland", FJ: "Fiji", FK: "Falkland Islands", FM: "Micronesia", FO: "Faroe Islands", NI: "Nicaragua", NL: "Netherlands", NO: "Norway", NA: "Namibia", VU: "Vanuatu", NC: "New Caledonia", NE: "Niger", NF: "Norfolk Island", NG: "Nigeria", NZ: "New Zealand", NP: "Nepal", NR: "Nauru", NU: "Niue", CK: "Cook Islands", XK: "Kosovo", CI: "Ivory Coast", CH: "Switzerland", CO: "Colombia", CN: "China", CM: "Cameroon", CL: "Chile", CC: "Cocos Islands", CA: "Canada", CG: "Republic of the Congo", CF: "Central African Republic", CD: "Democratic Republic of the Congo", CZ: "Czech Republic", CY: "Cyprus", CX: "Christmas Island", CR: "Costa Rica", CW: "Curacao", CV: "Cape Verde", CU: "Cuba", SZ: "Swaziland", SY: "Syria", SX: "Sint Maarten", KG: "Kyrgyzstan", KE: "Kenya", SS: "South Sudan", SR: "Suriname", KI: "Kiribati", KH: "Cambodia", KN: "Saint Kitts and Nevis", KM: "Comoros", ST: "Sao Tome and Principe", SK: "Slovakia", KR: "South Korea", SI: "Slovenia", KP: "North Korea", KW: "Kuwait", SN: "Senegal", SM: "San Marino", SL: "Sierra Leone", SC: "Seychelles", KZ: "Kazakhstan", KY: "Cayman Islands", SG: "Singapore", SE: "Sweden", SD: "Sudan", DO: "Dominican Republic", DM: "Dominica", DJ: "Djibouti", DK: "Denmark", VG: "British Virgin Islands", DE: "Germany", YE: "Yemen", DZ: "Algeria", US: "United States", UY: "Uruguay", YT: "Mayotte", UM: "United States Minor Outlying Islands", LB: "Lebanon", LC: "Saint Lucia", LA: "Laos", TV: "Tuvalu", TW: "Taiwan", TT: "Trinidad and Tobago", TR: "Turkey", LK: "Sri Lanka", LI: "Liechtenstein", LV: "Latvia", TO: "Tonga", LT: "Lithuania", LU: "Luxembourg", LR: "Liberia", LS: "Lesotho", TH: "Thailand", TF: "French Southern Territories", TG: "Togo", TD: "Chad", TC: "Turks and Caicos Islands", LY: "Libya", VA: "Vatican", VC: "Saint Vincent and the Grenadines", AE: "United Arab Emirates", AD: "Andorra", AG: "Antigua and Barbuda", AF: "Afghanistan", AI: "Anguilla", VI: "U.S. Virgin Islands", IS: "Iceland", IR: "Iran", AM: "Armenia", AL: "Albania", AO: "Angola", AQ: "Antarctica", AS: "American Samoa", AR: "Argentina", AU: "Australia", AT: "Austria", AW: "Aruba", IN: "India", AX: "Aland Islands", AZ: "Azerbaijan", IE: "Ireland", ID: "Indonesia", UA: "Ukraine", QA: "Qatar", MZ: "Mozambique" },
        languages: { en: "STR_LANGUAGE_ENGLISH", fr: "STR_LANGUAGE_FRENCH", it: "STR_LANGUAGE_ITALIAN", de: "STR_LANGUAGE_GERMAN", es: "STR_LANGUAGE_EUSPANISH", pt: "STR_LANGUAGE_EUPORTUGUESE", hu: "STR_LANGUAGE_HUNGARIAN", pl: "STR_LANGUAGE_POLISH", ro: "STR_LANGUAGE_ROMANIAN", nl: "STR_LANGUAGE_DUTCH", bg: "STR_LANGUAGE_BULGARIAN", ru: "STR_LANGUAGE_RUSSIAN", tr: "STR_LANGUAGE_TURKISH", ar: "STR_LANGUAGE_ARABIC", cs: "STR_LANGUAGE_CZECH", no: "STR_LANGUAGE_NORWEGIAN", sv: "STR_LANGUAGE_SWEDISH", da: "STR_LANGUAGE_DANISH", ptbr: "STR_LANGUAGE_BRAZILIANPORTUGUESE", es419: "STR_LANGUAGE_LATAMSPANISH", ja: "STR_LANGUAGE_JAPAN", vi: "STR_LANGUAGE_VIETNAM", ch: "STR_LANGUAGE_CHINESE", th: "STR_LANGUAGE_THAI", id: "STR_LANGUAGE_INDONESIAN", ha: "STR_LANGUAGE_HAUSA", sw: "STR_LANGUAGE_SWAHILI" },
        logos: { ar: "ar", es: "esp", es419: "es419", hu: "hu", ja: "jp", pl: "pl", pt: "pt", ptbr: "ptbr", ro: "ro", ru: "ru", tr: "tr", ch: "ch" },
        language_fonts: { en: "lubalin", fr: "lubalin", it: "lubalin", de: "lubalin", es: "lubalin", pt: "lubalin", hu: "lubalin", pl: "lubalin", ro: "lubalin", nl: "lubalin", bg: "lubalin", ru: "lubalin", tr: "lubalin", ar: "avenir", cs: "lubalin", no: "lubalin", sv: "lubalin", da: "lubalin", ptbr: "lubalin", es419: "lubalin", ja: "lubalin", vi: "avenir", ch: "lubalin", th: "sirichana", id: "lubalin", ha: "ascender", sw: "lubalin" },
        analytics: { en: "en", fr: "fr", it: "it", de: "de", es: "es", pt: "pt", hu: "hu", pl: "pl", ro: "ro", nl: "nl", bg: "bg", ru: "ru", tr: "tr", ar: "ar", cs: "cs", no: "no", sv: "sv", da: "da", ptbr: "pt-BR", es419: "es-MX", ja: "ja", vi: "vi", ch: "zh", th: "th", id: "id", ha: "ha", sw: "sw" }
    };
    t.exports = { Translation: i, getCountries: function() { var t = []; for (var e in i.countries) t.push(i.countries[e]); return t }, getRegions: function() { var t = []; for (var e in i.regions) t.push(i.regions[e]); return t }, getCountriesByRegion: function(t) { var e = []; for (var n in i.countries) i.countries[n].REGION === t && e.push(i.countries[n]); return e.sort(function(t, e) { return t.NAME < e.NAME ? -1 : t.NAME > e.NAME ? 1 : 0 }), e } }
}, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = function(t, e) { r.Container.call(this), this.bg = r.Sprite.from(e), this.bg.anchor.set(.5, .5), this.addChild(this.bg), this.label = new r.Text("", { fill: "white", fontSize: 28, fontFamily: window.MAIN_FONT, stroke: !0, strokeThickness: 8, lineJoin: "round" }), this.label.anchor.set(.5, .5), this.addChild(this.label), this.setText(t) };
        o.prototype = Object.create(r.Container.prototype), o.prototype.setText = function(t) { this.label.scale.set(1), this.label.text = "undefined" != typeof t ? t : "", this.label.updateText(); var e = .9 * this.bg.width / this.label.width;
            e = Math.min(e, 1), this.label.scale.set(e) }, n.exports = o }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(38),
            a = i(30),
            s = function(t, e, i, n, a) { o.call(this), this.isOnlyIcon = !0, this.scaleVal = "undefined" != typeof a ? a : null, this.pressSound = "button_press", this.rollSound = "button_roll", t && (this.background = new r.Sprite.fromFrame(t), this.background.anchor.set(.5), this.addChild(this.background), this.isOnlyIcon = !1), this.normalTexture = t, this.downTexture = e || this.normalTexture, this.hoverTexture = i || this.normalTexture, n && (this.icon = new r.Sprite.fromFrame(n), this.icon.anchor.set(.5), this.addChild(this.icon)), this.onDown.add(this._onDown, this), this.onUp.add(this._onUp, this), this.onHover.add(this._onHover, this), this.onOut.add(this._onMouseOut, this), this.onEnabled.add(this._onEnabled, this), this.onDisabled.add(this._onDisabled, this), this._soundDirty = !0 };
        s.prototype = Object.create(o.prototype), s.prototype._onDown = function() { this.isOnlyIcon || (this.background.texture = r.Texture.fromFrame(this.downTexture)) }, s.prototype._onHover = function() { this.isOnlyIcon || (this._soundDirty && (this._soundDirty = !1, a.sfx.play(this.rollSound)), this.background.texture = r.Texture.fromFrame(this.hoverTexture), null !== this.scaleVal && TweenLite.to(this.scale, .3, { x: this.scaleVal, y: this.scaleVal, ease: Linear.None })) }, s.prototype._onMouseOut = function() { this.isOnlyIcon || (this._soundDirty || TweenLite.delayedCall(.4, function() { this._soundDirty = !0 }.bind(this)), this.background.texture = r.Texture.fromFrame(this.normalTexture), null !== this.scaleVal && TweenLite.to(this.scale, .3, { x: this.defaultScale, y: this.defaultScale, ease: Linear.None })) }, s.prototype._onUp = function() { this.isOnlyIcon || (this.pressSound && a.sfx.play(this.pressSound), this.background.texture = r.Texture.fromFrame(this.normalTexture)) }, s.prototype._onEnabled = function() { o.prototype.enable.call(this) }, s.prototype._onDisabled = function() { o.prototype.disable.call(this) }, s.prototype.setIcon = function(t) { this.icon.texture = r.Texture.fromFrame(t) }, s.prototype.setSize = function(t) { this.defaultScale = t, this.overScale = 1.1 * t }, s.prototype.fromFrames = function(t, e, i, n) { return new s(r.Texture.fromFrame(t), r.Texture.fromFrame(e), r.Texture.fromFrame(i), n ? r.Texture.fromFrame(n) : null) }, n.exports = s }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(13),
            a = function() { r.Container.call(this), this.onPress = new o, this.onDown = new o, this.onUp = new o, this.onHover = new o, this.onOut = new o, this.onEnabled = new o, this.onDisabled = new o, this.mousedown = this.touchstart = this.onDown.dispatch.bind(this, this), this.mouseup = this.touchend = this.onUp.dispatch.bind(this, this), this.click = this.tap = this.onPress.dispatch.bind(this, this), this.mouseover = this.onHover.dispatch.bind(this, this), this.touchendoutside = this.mouseupoutside = this.mouseout = this.onOut.dispatch.bind(this, this), this.onDown.add(this.down, this), this.onUp.add(this.up, this), this.onHover.add(this.hover, this), this.onOut.add(this.out, this), this.onEnabled.add(this.enable, this), this.onDisabled.add(this.disable, this), this._scale = new r.Point, this.enable(), this.setSize() };
        a.prototype = Object.create(r.Container.prototype), a.prototype.constructor = a, a.prototype.setSize = function(t) { switch (t) {
                case "small":
                    this.scale.set(.5); break;
                case "big":
                    this.scale.set(2); break;
                default:
                    this.scale.set(1) } }, a.prototype.enable = function() { this.interactive = !0, this.buttonMode = !0, TweenLite.to(this, .3, { alpha: 1, ease: Linear.None }) }, a.prototype.disable = function() { this.interactive = !1, this.buttonMode = !1, TweenLite.to(this, .3, { alpha: .5, ease: Linear.None }) }, a.prototype.down = function(t, e) {}, a.prototype.up = function(t, e) {}, a.prototype.hover = function(t, e) {}, a.prototype.out = function(t, e) {}, a.prototype.show = function() { this.visible = !0, this.enable() }, a.prototype.hide = function() { this.disable(), this.visible = !1 }, n.exports = a }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) {
    var n;
    n = function(t, e, n) {
        var r = i(8),
            o = i(30),
            a = (i(40), i(41), i(42)),
            s = i(47),
            h = i(22),
            l = i(48),
            u = i(32),
            c = i(35),
            d = c.Translation,
            p = i(50),
            f = (i(51), i(52), i(49)),
            m = (f.getPlayers, f.CharacterData, f.getUnlockedPlayers),
            g = i(16),
            v = i(54),
            y = i(55),
            _ = (i(34), i(43)),
            b = i(37),
            x = function(t) { r.Container.call(this), this.app = t, this.transition = new v(t), this.cams = []; for (var e = 0; e < 20; e++) { var i = r.Sprite.from("camera-flash.png");
                    this.cams.push(i), this.addChild(i) } var n = g.getJson("config").config.LOCALE;
                this.local = n, this.showed = !1, this.logo = r.Sprite.from("logo_en.png"), this.logo.anchor.set(.5), this.charsFilter = new r.filters.BlurXFilter, this.tick = 0, this.characters = [], this.charsRight = new r.Container; for (var o = [4, 5, 6], e = 0; e < o.length; e++) { var s = o[e],
                        l = r.Sprite.from("logo_character_" + s + ".png"),
                        u = 0;
                    0 === e ? (u = 20, l.anchor.x = 0) : 1 === e ? (u = 165, l.anchor.x = 0) : 2 === e ? (u = 370, l.anchor.x = 0) : 3 === e && (u = 445), l.position.y = u, l.origY = u, l.startTick = 1e3 * e, l.scale.set(.8), 3 === e && l.scale.set(.89), this.charsRight.addChild(l), this.characters.push(l) } this.addChild(this.charsRight), this.charsLeft = new r.Container; for (var o = [1, 2, 3], e = 0; e < o.length; e++) { var s = o[e],
                        l = r.Sprite.from("logo_character_" + s + ".png"),
                        u = 0;
                    0 === e ? u = -50 : 1 === e ? u = 120 : 2 === e && (u = 360), l.position.x = -l.width, u += 80, l.position.y = u, 0 === e && (l.anchor.x = 0), 1 === e && (l.anchor.x = 0), 2 === e && (l.anchor.x = 0), l.origY = u, l.startTick = 2e3 + 1e3 * e, l.scale.set(.8), this.charsLeft.addChild(l), this.characters.push(l) } this.addChild(this.charsLeft), this.plaque = r.Sprite.from("plaque.png"), this.plaque.anchor.set(.5), this.playButton = new a("button_practice.png", "button_practice.png", "button_practice.png", d.title_screen.quick_play, 1.1, 0, 20, null, 120), this.playButton.defaultScale = 1, this.playButton.onPress.add(this.onPlayButtonPressed, this), this.addChild(this.playButton), this.addChild(this.plaque), this.tournamentButton = new a("button_tournament.png", "button_tournament.png", "button_tournament.png", d.title_screen.tournament, 1.1, 40, null, null, 220), this.tournamentButton.defaultScale = 1, this.tournamentButton.onPress.add(this.onTournamentButtonPressed, this), this.addChild(this.tournamentButton), this.leaderboardButton = new a("button_leaderboard.png", "button_leaderboard.png", "button_leaderboard.png", d.title_screen.leaderboard, 1.1, 31, null, null, 220), this.leaderboardButton.defaultScale = 1, this.leaderboardButton.onPress.add(this.onLeaderboardButtonPressed, this), this.addChild(this.leaderboardButton), this.unlockablesButton = new a("button_unlockables.png", "button_unlockables.png", "button_unlockables.png", d.title_screen.unlockables, 1.1, null, null, null, 220), this.unlockablesButton.label.y = 40, this.unlockablesButton.defaultScale = 1, this.unlockablesButton.onPress.add(this.onunlockablesButtonPressed, this), this.addChild(this.unlockablesButton), this.addChild(this.logo), this.ball = r.Sprite.fromFrame("logo_ball.png"), this.ball.anchor.set(.5), this.ball.position.set(-39, -26), this.ballShadow = r.Sprite.fromFrame("logo_ball_shadow.png"), this.ballShadow.anchor.set(.5), this.ballShadow.x = this.ball.x, this.ballShadow.y = this.ball.y, this.logo.addChild(this.ball), this.logo.addChild(this.ballShadow), this.pos = new r.Point; var c = navigator.userAgent; /SM-T230/i.test(c) || /SM-T530/i.test(c) || /SM-T231/i.test(c); if (!window.WEBGL && !window.cordova || window.URLParams.nosupport) { this.removeChild(this.playButton), this.removeChild(this.tournamentButton), this.removeChild(this.leaderboardButton), this.removeChild(this.unlockablesButton), this.removeChild(this.plaque); var p = new _(d.title_screen.updateBrowser, { fill: "white", fontSize: 28, fontFamily: window.MAIN_FONT, stroke: !0, strokeThickness: 8, lineJoin: "round" });
                    p.anchor.set(.5), this.label = p, this.addChild(p) } if (window.cordova || window.URLParams.popup) { var f = { fill: "white", fontSize: 28, fontFamily: window.MAIN_FONT, stroke: !1, strokeThickness: 8, lineJoin: "round" };
                    this.privacyButton = new _("STR_SETTINGS_PRIVACYPOLICY", f), this.privacyButton.interactive = !0, this.privacyButton.click = this.privacyButton.tap = function() { window.open(window.translations.URL_PRIVACY || "https://www.cartoonnetworkeurope.com/legal/en/#textBox_priv_a", "_blank") }, this.privacyButton.alpha = .8, this.addChild(this.privacyButton), this.privacyPopup = new y(this.app), this.addChild(this.privacyPopup) } var m = !0;
                h.instance.desktop && (m = !1), window.iosStore || window.androidStore || (m = !1); var x = !!window.hideBanner; if ("true" === window.app.localStorage.get("hideBanner") && (x = !0), m && !x) { this.appBannerAnim = new r.Container, this.appBanner = new r.Container, this.appBanner.scale.set(.7); var w = r.Sprite.from(ASSET_URL + "img/ui/banner_back.png");
                    w.interactive = !0, w.mousedown = w.touchstart = this.bannerTouchStart.bind(this), w.mouseupoutside = w.touchendoutside = this.bannerTouchCancel.bind(this), w.click = w.tap = this.bannerClick.bind(this), w.alpha = .8, this.appBanner.addChild(w); var T = ASSET_URL + "img/ui/banner_" + (h.instance.android ? "android.png" : "ios.png"),
                        S = r.Sprite.from(T);
                    S.position.x = 25, S.position.y = 14, this.appBanner.addChild(S); var M = new _("STR_MOBILE_WEB_BANNER", { fill: "white", fontSize: 34, fontFamily: window.MAIN_FONT, stroke: !0, strokeThickness: 8, lineJoin: "round", wordWrap: !0, wordWrapWidth: 200, align: "center", maxWidth: 210 });
                    M.x = 300, M.y = 100, M.anchor.set(.5), this.appBanner.addChild(M); var E = new b("button_close.png", null, null, null, 1.1);
                    E.defaultScale = 1, E.x = w.width - E.width / 2 + 20, E.y = -20 + E.height / 2, E.onPress.add(this.hideAppBanner, this), this.appBanner.addChild(E), this.appBannerAnim.addChild(this.appBanner), this.addChild(this.appBannerAnim) } };
        x.prototype = Object.create(r.Container.prototype), x.prototype.bannerTouchStart = function() { window.app.localStorage.store("hideBanner", !0) }, x.prototype.bannerTouchCancel = function() { window.app.localStorage.store("hideBanner", !1) }, x.prototype.bannerClick = function() { this.hideAppBanner(); var t = h.instance.android ? window.androidStore : window.iosStore;
            window.open(t, "_system") }, x.prototype.hideAppBanner = function() { window.hideBanner = !0, this.removeChild(this.appBannerAnim) }, x.prototype.showPrivacyPolicy = function() { this.privacyPopup.show() }, x.prototype.goBackToMainSite = function() {}, x.prototype.onPlayButtonPressed = function() { p.adbTrackAction("practice_button"), p.bootstrapEventTrigger("practice_button"), this.startGame(!1) }, x.prototype.onTournamentButtonPressed = function() { p.adbTrackAction("tournement_button"), p.bootstrapEventTrigger("tournement_button"), this.startGame(!0) }, x.prototype.onLeaderboardButtonPressed = function() { p.adbTrackAction("leaderboard_button"), p.bootstrapEventTrigger("leaderboard_button"), this.screenManager.gotoScreenByID(u.SCREEN_ID.LEADERBOARD), this.transition.reverse = !1 }, x.prototype.onunlockablesButtonPressed = function() { p.adbTrackAction("unlockables_button"), p.bootstrapEventTrigger("unlockables_button"), this.app.topMenu.prevScreen = u.SCREEN_ID.TITLE, window.unlockablesPrevScreen = u.SCREEN_ID.TITLE, this.screenManager.gotoScreenByID(u.SCREEN_ID.UNLOCKABLES, !0) }, x.prototype.epilepsy = function() { var t = this;
            setTimeout(function() { t.stop || t.epilepsy() }, 1500 * Math.random() + 300); for (var e = 0; e < this.cams.length; e++) this.cams[e].position.x = Math.random() * this.app.w, this.cams[e].position.y = this.app.h / 2 + 200 * Math.random() - 100, this.cams[e].alpha = 1, this.cams[e].scale.set(s.random(.1, 2)), TweenLite.to(this.cams[e], Math.random() + .3, { alpha: 0 }) }, x.prototype.startGame = function(t) { if (h.instance.android && (document.body.mozRequestFullScreen ? document.body.mozRequestFullScreen() : document.body.webkitRequestFullScreen && document.body.webkitRequestFullScreen()), l.difficulty = 0, l.isTournament = t === !0, t) { if (this.app.breadcrumb.resetSteps(), this.app.breadcrumb.show(), this.app.breadcrumb.reset(), l.countryID) { var e = l.countryID.REGION; for (var i in d.regions)
                        if (d.regions[i].REGION_ID === e) { l.region = d.regions[i]; break } } this.screenManager.gotoScreenByID(u.SCREEN_ID.COUNTRY_SELECT) } else { var n = function(t) { var e, i, n; for (n = t.length - 1; n > 0; n--) e = Math.floor(Math.random() * (n + 1)), i = t[n], t[n] = t[e], t[e] = i }; if (!l.countryID) { var r = d.countries.WS;
                    l.countryID = r } var o = m();
                n(o), l.teamA[0] = o[0], l.teamA[1] = o[1], l.teamA[2] = o[2], this.screenManager.gotoScreenByID(u.SCREEN_ID.TEAM_REVIEW) } }, x.prototype.onHide = function() { this.appBannerAnim && this.removeChild(this.appBannerAnim), this.stop = !0, TweenLite.to(this.app.dimmer, .4, { alpha: .5, ease: Sine.easeOut }), TweenLite.to(this.charsRight, .4, { alpha: 0, ease: Sine.easeOut }) }, x.prototype.onShow = function() { "true" === window.app.localStorage.get("muted") && (o.music.mute(), o.sfx.mute()), this.showed || (p.adbTrackAction("main_menu_loaded"), p.bootstrapEventTrigger("main_menu_loaded")), this.showed = !0, this.appBanner && !window.hideBanner && (this.appBannerAnim.y = this.appBanner.height, TweenLite.to(this.appBannerAnim.position, .4, { y: 0, delay: 1.5, ease: Sine.easeOut }), this.addChild(this.appBannerAnim)); var t = "logo_" + d.logos[window.LANGUAGE] + ".png";
            r.TextureCache[t] ? (this.logo.texture = r.Texture.from(t), this.ball.visible = !1, this.ballShadow.visible = !1) : (this.logo.texture = r.Texture.from("logo_en.png"), this.ball.visible = !0, this.ballShadow.visible = !0), l.isTournament || (l.countryID = null), this.epilepsy(), this.charsLeft.visible = !1, this.charsRight.visible = !1, this.charsRight.alpha = 1, TweenLite.to(this.app.dimmer, .4, { alpha: 0 }), l.regionSelected = !1, this.app.spotLights.show(), MusicManager2.play("menumusic2"), this.logo.scale.set(0), this.playButton.scale.set(0), this.tournamentButton.scale.set(0), this.leaderboardButton.scale.set(0), this.unlockablesButton.scale.set(0), this.label ? this.app.topMenu.setState("empty") : this.app.topMenu.setState("home"), this.app.breadcrumb.hide(), TweenLite.delayedCall(.4, function() { this.playButton.scale.set(.5), this.tournamentButton.scale.set(.5), this.leaderboardButton.scale.set(.5), this.charsLeft.visible = !0, this.charsRight.visible = !0 }.bind(this)), TweenLite.delayedCall(1.4, function() { this.playButton.scale.set(1), this.tournamentButton.scale.set(1), this.leaderboardButton.scale.set(1) }.bind(this)); var e = "_ru" === this.local ? 1.5 : 1;
            TweenLite.to(this.logo.scale, 1, { x: e, y: e, ease: Elastic.easeOut, delay: .2 }), TweenLite.to(this.playButton.scale, 1, { x: 1, y: 1, ease: Elastic.easeOut, delay: .4 }), TweenLite.to(this.tournamentButton.scale, 1, { x: 1, y: 1, ease: Elastic.easeOut, delay: .4 }), TweenLite.to(this.leaderboardButton.scale, 1, { x: 1, y: 1, ease: Elastic.easeOut, delay: .4 }), TweenLite.to(this.unlockablesButton.scale, 1, { x: 1, y: 1, ease: Elastic.easeOut, delay: .4 }); for (var i = .6, n = 0; n < this.charsRight.children.length; n++) { var a = this.charsRight.children[n];
                a.filters = [this.charsFilter], a.x = 0, TweenLite.to(a.position, .2, { x: -a.width, ease: Quad.easeOut, delay: i + .2 * n, data: { parent: a }, onComplete: function() { this.data.parent.filters = [] } }) } for (var n = 0; n < this.charsLeft.children.length; n++) { var a = this.charsLeft.children[n];
                a.filters = [this.charsFilter], a.x = -a.width, TweenLite.to(a.position, .2, { x: 0, ease: Quad.easeOut, delay: i + .1 + .2 * n, data: { parent: a }, onComplete: function() { this.data.parent.filters = [] } }) } TweenLite.delayedCall(3, function() { this.pulseTournamentButton() }.bind(this)), window.gdprPopup && this.privacyButton && !this.privacyShown && (this.showPrivacyPolicy(), this.privacyShown = !0, this.app.topMenu.setState("empty")) }, x.prototype.pulseTournamentButton = function() { var t = .2;
            1 === this.tournamentButton.scale.x && (TweenLite.to(this.tournamentButton.scale, t, { x: 1.1, y: 1.1, ease: Quad.easeOut }), TweenLite.to(this.tournamentButton.scale, t, { x: 1, y: 1, delay: t, ease: Quad.easeIn }), TweenLite.to(this.tournamentButton.scale, t, { x: 1.1, y: 1.1, delay: 2 * t, ease: Quad.easeOut }), TweenLite.to(this.tournamentButton.scale, t, { x: 1, y: 1, delay: 3 * t, ease: Quad.easeIn })), TweenLite.delayedCall(3 + 2 * t, function() { this.pulseTournamentButton() }.bind(this)) }, x.prototype.updateTransform = function() { this.containerUpdateTransform(), this.ball && (this.ball.rotation += .02); var t = 80,
                e = 18; if (this.tick += t / 1e3, !window.URLParams.noHomeMove)
                for (var i = 0; i < this.characters.length; i++) { var n = this.characters[i]; if (n.y = n.origY + Math.sin(n.startTick + this.tick) * e, n.children.length > 0) { var r = n.children[0],
                            o = n.children[1];
                        r.alpha = .25 * Math.sin(this.tick) + .25, o.alpha = .25 * Math.sin(this.tick) + .25 } } }, x.prototype.resize = function(t, e) { var i = this.app.screenManager.container.x / this.app.screenManager.container.scale.x,
                n = this.app.screenManager.container.y / this.app.screenManager.container.scale.y,
                r = -155; if (this.logo.x = t / 2, this.logo.y = e / 2 - 150, this.plaque.position.set(t / 2, e / 2 + 600 + 88 + r - 300), this.playButton.position.set(t / 2, e / 2 + 690 + 88 + r + 10 - 300), this.tournamentButton.position.set(t / 2, e / 2 + 570 + 88 + r - 25 - 300), this.leaderboardButton.position.set(t / 2 - 280, e / 2 + 570 + 88 + r - 300), this.unlockablesButton.position.set(t / 2 + 280, e / 2 + 560 + 88 + r - 300), this.charsLeft.position.x = -i, this.charsLeft.position.y = e / 2 - 400, this.charsRight.position.x = t + i, this.charsRight.position.y = e / 2 - 400, this.appBanner && (this.appBanner.x = t + i - 360, this.appBanner.y = e + n - this.appBanner.height + 20), this.label && this.label.position.set(t / 2, e / 2 + 150), this.privacyButton) { var o = 30;
                this.privacyButton.x = -i + o, this.privacyButton.y = e + n - this.privacyButton.height - o } this.privacyPopup && this.privacyPopup.resize(t, e, i, n) };
        var w = [{ id: "title_mojo.png", pos: { x: -225, y: -171 }, scaleWobble: .025, yRange: 5 }, { id: "title_xlr8.png", pos: { x: 252, y: -99 }, scaleWobble: .025, yRange: 5 }, { id: "title_grup.png", pos: { x: 27, y: -216 }, scaleWobble: .05, yRange: 10 }, { id: "title_bears.png", pos: { x: -58.5, y: -63 }, scaleWobble: .05, yRange: 10 }, { id: "title_blossom.png", pos: { x: 198, y: -108 }, scaleWobble: .025, yRange: 5 }, { id: "title_ben.png", pos: { x: -399, y: -126 }, scaleWobble: .025, yRange: 5 }, { id: "title_buttercup.png", pos: { x: -337.25, y: -85.5 }, scaleWobble: .025, yRange: 5 }, { id: "title_finn.png", pos: { x: -283.5, y: 90 }, scaleWobble: .015, yRange: 5 }, { id: "title_gumball.png", pos: { x: 247.5, y: 27 }, scaleWobble: .01, yRange: 5 }],
            T = [{ id: "title_mojo.png", pos: { x: -225, y: -171 }, scaleWobble: .025, yRange: 5 }, { id: "title_xlr8.png", pos: { x: 252, y: -99 }, scaleWobble: .025, yRange: 5 }, { id: "title_grup.png", pos: { x: 27, y: -216 }, scaleWobble: .05, yRange: 10 }, { id: "title_bears.png", pos: { x: -58.5, y: -63 }, scaleWobble: .05, yRange: 10 }, { id: "title_blossom.png", pos: { x: 270, y: -108 }, scaleWobble: .025, yRange: 5 }, { id: "title_ben.png", pos: { x: -399, y: -126 }, scaleWobble: .025, yRange: 5 }, { id: "title_buttercup.png", pos: { x: -337.25, y: -85.5 }, scaleWobble: .025, yRange: 5 }, { id: "title_finn.png", pos: { x: -283.5, y: 90 }, scaleWobble: .015, yRange: 5 }, { id: "title_gumball.png", pos: { x: 310.5, y: 27 }, scaleWobble: .01, yRange: 5 }],
            S = [{ id: "title_mojo.png", pos: { x: -225, y: -171 }, scaleWobble: .025, yRange: 5 }, { id: "title_xlr8.png", pos: { x: 252, y: -99 }, scaleWobble: .025, yRange: 5 }, { id: "title_grup.png", pos: { x: 27, y: -216 }, scaleWobble: .05, yRange: 10 }, { id: "title_bears.png", pos: { x: -58.5, y: -81 }, scaleWobble: .05, yRange: 4 }, { id: "title_blossom.png", pos: { x: 207, y: -108 }, scaleWobble: .025, yRange: 5 }, { id: "title_ben.png", pos: { x: -399, y: -126 }, scaleWobble: .025, yRange: 5 }, { id: "title_buttercup.png", pos: { x: -337.25, y: -85.5 }, scaleWobble: .025, yRange: 5 }, { id: "title_finn.png", pos: { x: -283.5, y: 90 }, scaleWobble: .015, yRange: 5 }, { id: "title_gumball.png", pos: { x: 301.5, y: 27 }, scaleWobble: .01, yRange: 5 }],
            M = [{ id: "title_mojo.png", pos: { x: -225, y: -171 }, scaleWobble: .025, yRange: 5 }, { id: "title_xlr8.png", pos: { x: 252, y: -99 }, scaleWobble: .025, yRange: 5 }, { id: "title_grup.png", pos: { x: 27, y: -216 }, scaleWobble: .05, yRange: 10 }, { id: "title_bears.png", pos: { x: 22.5, y: -81 }, scaleWobble: .05, yRange: 4 }, { id: "title_blossom.png", pos: { x: 202.5, y: -63 }, scaleWobble: .025, yRange: 5 }, { id: "title_ben.png", pos: { x: -399, y: -126 }, scaleWobble: .025, yRange: 5 }, { id: "title_buttercup.png", pos: { x: -289.75, y: -85.5 }, scaleWobble: .025, yRange: 5 }, { id: "title_finn.png", pos: { x: -283.5, y: 90 }, scaleWobble: .015, yRange: 5 }, { id: "title_gumball.png", pos: { x: 315, y: 27 }, scaleWobble: .01, yRange: 5 }],
            E = [{ id: "title_mojo.png", pos: { x: -225, y: -171 }, scaleWobble: .025, yRange: 5 }, { id: "title_xlr8.png", pos: { x: 252, y: -99 }, scaleWobble: .025, yRange: 5 }, { id: "title_grup.png", pos: { x: 27, y: -216 }, scaleWobble: .05, yRange: 10 }, { id: "title_bears.png", pos: { x: -76.5, y: -99 }, scaleWobble: .05, yRange: 4 }, { id: "title_blossom.png", pos: { x: 216, y: -63 }, scaleWobble: .025, yRange: 5 }, { id: "title_ben.png", pos: { x: -399, y: -126 }, scaleWobble: .025, yRange: 5 }, { id: "title_buttercup.png", pos: { x: -337.25, y: -85.5 }, scaleWobble: .025, yRange: 5 }, { id: "title_finn.png", pos: { x: -283.5, y: 90 }, scaleWobble: .015, yRange: 5 }, { id: "title_gumball.png", pos: { x: 297, y: 63 }, scaleWobble: .01, yRange: 5 }],
            A = [{ id: "title_mojo.png", pos: { x: -225, y: -171 }, scaleWobble: .025, yRange: 5 }, { id: "title_xlr8.png", pos: { x: 252, y: -99 }, scaleWobble: .025, yRange: 5 }, { id: "title_grup.png", pos: { x: 27, y: -216 }, scaleWobble: .05, yRange: 10 }, { id: "title_bears.png", pos: { x: 58.5, y: -63 }, scaleWobble: .05, yRange: 10 }, { id: "title_blossom.png", pos: { x: 234, y: -72 }, scaleWobble: .025, yRange: 5 }, {
                id: "title_ben.png",
                pos: { x: -399, y: -126 },
                scaleWobble: .025,
                yRange: 5
            }, { id: "title_buttercup.png", pos: { x: -232.75, y: -112.5 }, scaleWobble: .025, yRange: 5 }, { id: "title_finn.png", pos: { x: -283.5, y: 90 }, scaleWobble: .015, yRange: 5 }, { id: "title_gumball.png", pos: { x: 337.5, y: 27 }, scaleWobble: .01, yRange: 5 }],
            C = [{ id: "title_mojo.png", pos: { x: -225, y: -171 }, scaleWobble: .025, yRange: 5 }, { id: "title_xlr8.png", pos: { x: 252, y: -99 }, scaleWobble: .025, yRange: 5 }, { id: "title_grup.png", pos: { x: 27, y: -216 }, scaleWobble: .05, yRange: 10 }, { id: "title_bears.png", pos: { x: -58.5, y: -72 }, scaleWobble: .05, yRange: 4 }, { id: "title_blossom.png", pos: { x: 207, y: -135 }, scaleWobble: .025, yRange: 5 }, { id: "title_ben.png", pos: { x: -399, y: -126 }, scaleWobble: .025, yRange: 5 }, { id: "title_buttercup.png", pos: { x: -337.25, y: -85.5 }, scaleWobble: .025, yRange: 5 }, { id: "title_finn.png", pos: { x: -283.5, y: 90 }, scaleWobble: .015, yRange: 5 }, { id: "title_gumball.png", pos: { x: 310.5, y: 27 }, scaleWobble: .01, yRange: 5 }],
            R = [{ id: "title_mojo.png", pos: { x: -225, y: -171 }, scaleWobble: .025, yRange: 5 }, { id: "title_xlr8.png", pos: { x: 252, y: -99 }, scaleWobble: .025, yRange: 5 }, { id: "title_grup.png", pos: { x: 27, y: -216 }, scaleWobble: .05, yRange: 10 }, { id: "title_bears.png", pos: { x: -58.5, y: -108 }, scaleWobble: .05, yRange: 10 }, { id: "title_blossom.png", pos: { x: 234, y: -108 }, scaleWobble: .025, yRange: 5 }, { id: "title_ben.png", pos: { x: -399, y: -126 }, scaleWobble: .025, yRange: 5 }, { id: "title_buttercup.png", pos: { x: -337.25, y: -85.5 }, scaleWobble: .025, yRange: 5 }, { id: "title_finn.png", pos: { x: -283.5, y: 90 }, scaleWobble: .015, yRange: 5 }, { id: "title_gumball.png", pos: { x: 301.5, y: 27 }, scaleWobble: .01, yRange: 5 }];
        layouts = { defualt: w, _tr: T, _ru: S, _ro: M, _pt: E, _pl: A, _es: R, _hu: C }, n.exports = x
    }.call(e, i, e, t), !(void 0 !== n && (t.exports = n))
}, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(13),
            o = i(30),
            a = function(t) { this.disabled = o.music.disabled, this.music = o.music, this.currentSound = null, this.newSound = null, this.onFade = new r, this.globalVolume = 1, this.volume = 1, this.fadeInDuration = 1, this.fadeOutDuration = 1, this.music.onMuteToggle.add(this.onMusicToggle, this) };
        a.prototype.init = function(t) { this.volume = t.volume || 1, this.fadeInDuration = t.fadeInDuration || 3.2, this.fadeOutDuration = t.fadeOutDuration || 3.5 }, a.prototype.add = function(t, e) { o.music.addSound(t, e, { loop: !0 }) }, a.prototype.play = function(t) { var e = this.music.sounds[t];!this.disabled && e && this.currentSound !== e && (this.currentSound && this.currentSound.fade(this.volume, 0, 1e3 * this.fadeOutDuration), this.currentSound = e, this.currentSound.fade(0, this.volume, 1e3 * this.fadeInDuration, this.currentSound.play())) }, a.prototype.onMusicToggle = function(t) {}, a.prototype.setVolume = function(t, e) { this.disabled || (t.realVolume = e, t.volume(e * this.globalVolume)) }, a.prototype.isPlaying = function(t) { if (!this.disabled) return !this.sounds[t]._audioNode[0].paused }, n.exports = new a }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = (i(8), i(37)),
            o = i(42),
            a = i(44),
            s = i(46),
            h = { big: function(t) { var e = new r("big-button-up.png", "big-button-over.png", "big-button-over.png", t ? t : null, 1.1); return e.defaultScale = 1, e }, select: function(t) { var e = new r("button-select-normal.png", "button-select-hover.png", "button-select-hover.png", t ? t : null, null); return e.defaultScale = 1, e }, validate: function(t) { var e = new r("big-button-yes.png", "big-button-yes.png", "big-button-yes.png", t ? t : null, 1.1); return e.defaultScale = 1, e }, cancel: function(t) { var e = new r("big-button-no.png", "big-button-no.png", "big-button-no.png", t ? t : null, 1.1); return e.defaultScale = 1, e }, label: function(t) { var e = new o("big-button-up.png", "big-button-over.png", "big-button-over.png", t); return e.defaultScale = 1, e.pressSound = "button_press2", e }, country: function(t) { var e = new a("country_backer_1.png", null, null, t, null, "transparent-pixel.png", "flag-white-border.png"); return e }, character: function(t) { var e = new s(null, null, null, t.profile, null, t.isCaptain ? "blue-pixel.png" : "orange-pixel.png", null, null, t.available); return e }, sponsor: function(t, e) { var i = new r("sponsor-background.png", null, null, null); return i.defaultScale = 1, i.interactive = !1, i }, close: function(t) { var e = new r("big-button-up.png", "big-button-over.png", "big-button-over.png", t ? t : null); return e.defaultScale = 1, e } };
        n.exports = h }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(37),
            o = i(43),
            a = function(t, e, i, n, a, s, h, l, u, c, d) { r.call(this, t, e, i, null, a); var p = { fill: "white", fontSize: 28, fontFamily: l || window.MAIN_FONT, stroke: !1, strokeThickness: 8, lineJoin: "round" }; if (u && (p.maxWidth = u), c && (p.maxHeight = c), h && (p.fontSize = h), d ? this.label = new PIXI.Text(n, p) : this.label = new o(n, p), this.label.anchor.set(.5), s && (this.label.y = s), this.addChild(this.label), !p.maxWidth && !p.maxHeight) { var f = .9 * this.background.width / this.label.width;
                    f = Math.min(1, f), this.label.scale.set(f) } };
        a.prototype = Object.create(r.prototype), n.exports = a }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(34),
            a = function(t, e, i) { e = e || {}, i || (e.padding = 20), "ar" === window.LANGUAGE && (e.letterSpacing = 0), r.Text.call(this, "", e), this.maxWidth = e.maxWidth || 0, this.maxHeight = e.maxHeight || 0, this.upperCase = e.upperCase || !1, window.app.onLanguageChange.add(this.onLanguageChange, this), this.setText(t) };
        a.prototype = Object.create(r.Text.prototype), a.prototype.setText = function(t, e) { return this.id = t, this.id ? (this.upperCase = e || this.upperCase, void this.onLanguageChange()) : void(this.text = "") }, a.prototype.onLanguageChange = function() { if (this.id) { if ("ar" === window.LANGUAGE && (this.style.letterSpacing = 0), "th" === window.LANGUAGE ? ("undefined" == typeof this.originalSize && (this.originalSize = this.style.fontSize), this.style.fontSize = this.originalSize + 2) : "number" == typeof this.originalSize && (this.style.fontSize = this.originalSize), "string" == typeof this.id) { var t = translations[this.id];
                    t || (t = this.id) } else
                    for (var t = "", e = 0; e < this.id.length; e++) { var i = this.id[e],
                            n = translations[i],
                            a = n || i; if ("\n" === a) { var s = t.substr(t.length - 1); " " === s && (t = t.substr(0, t.length - 1)) } t += a, e < this.id.length - 1 && "\n" !== a && (t += " ") } this.upperCase && (t = t.toUpperCase()), "ar" === window.LANGUAGE && (t += ""); var h = t.indexOf(" ") !== -1;
                h || (this.style.wordWrap = !1); var l = !1; if (this.maxWidth && (o.fitText(this, this.maxWidth, t, "w"), this.scale.x < 1 && (l = !0)), this.maxHeight && !l ? o.fitText(this, this.maxHeight, t, "h") : this.text = t, this.style.fontFamily = window.MAIN_FONT, window.URLParams.debugLang) { if (!this.maxWidth && !this.maxHeight) return;
                    this.debugRect || (this.debugRect = new r.Graphics, this.maxWidth ? this.debugRect.beginFill(16711680, .5) : this.maxHeight && this.debugRect.beginFill(65280, .5), this.addChild(this.debugRect)), this.debugRect.clear(); var u = this.maxWidth || 200,
                        c = this.maxHeight || 50;
                    this.debugRect.drawRect(0, 0, u, c), this.debugRect.scale.set(1 / this.scale.x), this.debugRect.x = -this.debugRect.width / 2, this.debugRect.y = -this.debugRect.height / 2 } } }, n.exports = a }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = (i(8), i(45)),
            o = (i(13), function(t, e, i, n, o, a, s, h, l) { r.call(this, t, e, i, n, o, h, l), this.borderTexture = a, this.borderTextureSelected = s || this.borderTexture });
        o.prototype = Object.create(r.prototype), o.prototype.toggleIcon = function(t) { r.prototype.toggleIcon.call(this); var e = t === !0;
            e ? TweenLite.to(this.scale, .3, { x: 1.1, y: 1.1, ease: Linear.None }) : TweenLite.to(this.scale, .3, { x: 1, y: 1, ease: Linear.None }) }, n.exports = o }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(37),
            a = i(13),
            s = i(30),
            h = function(t, e, i, n, r, s, h) { o.call(this, t, e, i, n), this.iconTexture = n, this.iconTextureSelected, "undefined" != typeof r && (this.iconTextureSelected = r), this.selected = s === !0, this.enabled = this.enabledInit = h !== !1, this.onSelected = new a, this.onHover2 = new a, this.onMouseOut = new a, this.toggleIcon(this.selected), this.setEnabled(this.enabled) };
        h.prototype = Object.create(o.prototype), h.prototype.setEnabled = function(t) { this.enabled = t !== !1, this.enabled ? o.prototype._onEnabled.call(this) : o.prototype._onDisabled.call(this) }, h.prototype.toggleIcon = function(t) { var e = t === !0;
            this.iconTextureSelected && (this.icon.texture = r.Texture.fromFrame(e ? this.iconTextureSelected : this.iconTexture)) }, h.prototype._onDown = function() { this.selected = !this.selected, this.onSelected.dispatch(this), this.toggleIcon(this.selected), this.silent || s.sfx.play("button_press"), o.prototype._onDown.call(this) }, h.prototype.select = function() { this.selected = !0, this.toggleIcon(this.selected) }, h.prototype.unselect = function() { this.selected = !1, this.toggleIcon(this.selected) }, h.prototype._onHover = function() { this.toggleIcon(!0), this._soundDirty = !0, s.sfx.play("button_roll"), this.onHover2.dispatch(this) }, h.prototype._onMouseOut = function() { this.onMouseOut.dispatch(this), this.toggleIcon(this.selected), o.prototype._onMouseOut.call(this) }, n.exports = h }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(45),
            a = (i(13), function(t, e, i, n, a, s, h, l, u) { this.borderTexture = s, this.borderTextureSelected = h, this.multiplier = Math.pow(-1, Math.floor(2 * Math.random())), this.borderSprite = new r.Sprite.fromFrame(s), this.borderSprite.anchor.set(.5), o.call(this, t, e, i, n, a, l, u), this.addChildAt(this.borderSprite, 0) });
        a.prototype = Object.create(o.prototype), a.prototype.toggleIcon = function(t) { o.prototype.toggleIcon.call(this); var e = t === !0;
            e ? (TweenLite.to(this.scale, .3, { x: 1.1, y: 1.1, ease: Back.easeOut }), TweenLite.to(this, .2, { rotation: 5 * this.multiplier * Math.PI / 180, ease: Back.easeOut })) : (TweenLite.to(this.scale, .3, { x: 1, y: 1, ease: Linear.None }), TweenLite.to(this, .2, { rotation: 0, ease: Linear.None })), this.borderTextureSelected ? this.borderSprite.texture = r.Texture.fromFrame(e ? this.borderTextureSelected : this.borderTexture) : e ? TweenLite.to(this.borderSprite.scale, .3, { x: 1.1, y: 1.1, ease: Back.easeOut }) : TweenLite.to(this.borderSprite.scale, .3, { x: 1, y: 1, ease: Back.easeOut }) }, n.exports = a }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, i) { var n = {};
        n.TWO_PI = 2 * Math.PI, n.random = function(t, e) { return t = t || 0, e = void 0 === e ? 1 : e, t + Math.random() * (e - t) }, n.randomInt = function(t, e) { return t + Math.random() * (e - t) | 0 }, n.randomSeed = function(t, e, i) { min = t, max = e, i = i || 1, i = (9301 * i + 49297) % 233280; var n = i / 233280; return min + n * (max - min) }, n.randomChance = function(t, e) { return n.randomSeed(0, 1, e) > t }, n.cap = function(t, e, i) { return t < e ? e : t > i ? i : t }, n.sign = function(t) { return t < 0 ? -1 : t > 0 ? 1 : 0 }, n.randomSign = function(t) { return Math.random() < (t || .5) ? -1 : 1 }, n.randomChoice = function(t, e) { return Math.random() < .5 ? t : e }, n.map = function(t, e, i, n, r) { return (r - n) * ((t - e) / (i - e)) + n }, n.smallestAngle = function(t, e) { t %= 2 * Math.PI, t < 0 && (t += 2 * Math.PI); var i = e - t,
                n = e + 2 * Math.PI - t,
                r = e - 2 * Math.PI - t,
                o = Math.abs(i),
                a = Math.abs(n),
                s = Math.abs(r),
                h = i; return a < o && a < s ? h = n : s < o && s < a && (h = r), h }, n.wrap = function(t, e, i) { var n = i - e; return t -= e, t %= n, t < 0 && (t += n), t += e }, n.floor = function(t, e) { return (t / e | 0) * e }, n.round = function(t, e) { return Math.round(t / e) * e }, n.ceil = function(t, e) { return Math.ceil(t / e) * e }, i.exports = n }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { "use strict"; var n = i(49),
        r = n.CharacterData,
        o = (i(32), function() { var t = r;
            this.teamA = [t.robin, t.starfire, t.cyborg], window.URLParams.player1 && t[window.URLParams.player1] && (this.teamA[0] = t[window.URLParams.player1]), window.URLParams.player2 && t[window.URLParams.player2] && (this.teamA[1] = t[window.URLParams.player2]), window.URLParams.player3 && t[window.URLParams.player3] && (this.teamA[2] = t[window.URLParams.player3]), this.teamB = [t.mojo, t.bubbles, t.ben10], window.URLParams.opponent && t[window.URLParams.opponent] && (this.teamB[0] = t[window.URLParams.opponent]), this.leftOverPlayers = [], this.coins = 0, this.unlocked = [], this.autoSwitch = !0, this.isMuted = !1, this.isTournament = !1, this.countryID = null, this.opponentID = null, this.tournamentData = { quarter: [], semi: [], "final": [], winner: [] }, this.difficulty = 1, this.matchResult = { goalsA: -1, goalsB: -1 }, this.reset = function() { var t = r;
                this.teamA = [t.robin, t.starfire, t.cyborg], this.teamB = [t.mojo, t.bubbles, t.ben10], this.leftOverPlayers = []; for (var e in t) t[e].selected = !1;
                this.opponentID = null, this.tournamentData = { quarter: [], semi: [], "final": [], winner: [] }, this.matchResult = { goalsA: -1, goalsB: -1 }, this.difficulty = 1 } }),
        a = new o;
    window.gameSession = a, t.exports = a }, function(t, e) { "use strict"; var i = { raven: { id: "raven", name: "STR_CHAR_RAVEN", available: !0, isCaptain: !0, brandName: "STR_BRAND_TEENTITANSGO", scale: .8, skill: .3, power: .6, speed: 1, yourTeam: "raven.png", profile: "card_raven.png", "super": "super_shot_raven.png", superSound: "RAVEN_1", icon: "character-profile-raven.jpg", spriteSheet: "raven_%COLOR%.json", brand: "logo_ttg.png", locked: !0, num: 131, poster: "character_poster_raven.jpg", unlockedPanels: [], panels: 9, offsetBreadCrumb: { y: -50 } }, craig: { id: "craig", name: "STR_CHAR_CRAIG", available: !0, isCaptain: !0, brandName: "STR_BRAND_CRAIGOFTHECREEK", scale: .7, skill: .4, power: .4, speed: .8, yourTeam: "craig.png", profile: "card_craig.png", "super": "super_shot_craig.png", superSound: "CRAIG_2", icon: "character-profile-craig.jpg", spriteSheet: "craig_%COLOR%.json", brand: "logo_craigofthecreek.png", locked: !1, num: 129, offsetBreadCrumb: { y: -40 }, offsetPlayerCard: { x: -10 } }, blossom: { id: "blossom", name: "STR_CHAR_BLOSSOM", available: !0, isCaptain: !0, scale: 1, skill: .6, power: .6, speed: .6, yourTeam: "Blossom.png", profile: "card_blossom.png", "super": "super_shot_blossom.png", superSound: "Powerpuff_Girls_Blossom", icon: "blossom_78x78.jpg", spriteSheet: "blossom_%COLOR%.json", brand: "logo_ppg.png", offsetBreadCrumb: { y: -50 }, num: 104 }, xlr8: { id: "xlr8", name: "STR_CHAR_XLR8", available: !0, isCaptain: !0, scale: 1, skill: .5, power: .4, speed: .8, yourTeam: "XLR8.png", "super": "super_shot_xlr8.png", superSound: "Ben_10_XLR8", profile: "card_xlr8.png", icon: "xlr8_78x78.jpg", spriteSheet: "xlr8_%COLOR%.json", brand: "logo_b10.png", num: 106, offsetBreadCrumb: { y: -10 }, locked: !0, poster: "character_poster_xlr8.jpg", unlockedPanels: [], panels: 9, brandName: "STR_BRAND_BEN10" }, apple: { id: "apple", name: "STR_CHAR_APPLE", available: !0, isCaptain: !0, brandName: "STR_BRAND_APPLEANDONION", scale: .8, skill: .4, power: .2, speed: .5, yourTeam: "apple.png", profile: "card_apple.png", "super": "super_shot_apple.png", superSound: "APPLE_5", icon: "character-profile-apple.jpg", spriteSheet: "apple_%COLOR%.json", brand: "logo_appleonion.png", locked: !1, num: 128, offsetBreadCrumb: { y: -50 } }, cyborg: { id: "cyborg", name: "STR_CHAR_CYBORG", available: !0, isCaptain: !0, brandName: "STR_BRAND_TEENTITANSGO", scale: 1, skill: .5, power: .7, speed: .4, yourTeam: "Cyborg.png", profile: "card_cyborg.png", "super": "super_shot_cyborg.png", superSound: "Teen_Titans_Go_Cyborg", icon: "cyborg_78x78.jpg", spriteSheet: "cyborg_%COLOR%.json", brand: "logo_ttg.png", offsetPlayerCard: { x: -1 }, locked: !1, num: 124 }, marceline: { id: "marceline", name: "STR_CHAR_MARCELLINE", available: !0, isCaptain: !1, scale: 1, skill: .5, power: .7, speed: .4, yourTeam: "Marceline.png", profile: "card_marceline.png", icon: "marceline_78x78.jpg", spriteSheet: "marceline_%COLOR%.json", "super": "super_shot_marceline.png", superSound: "Adventure_Time_Marcelline", brand: "logo_at.png", num: 117, offsetBreadCrumb: { y: -35 } }, onion: { id: "onion", name: "STR_CHAR_ONION", available: !0, isCaptain: !0, brandName: "STR_BRAND_APPLEANDONION", scale: .8, skill: 1, power: .7, speed: .6, yourTeam: "onion.png", profile: "card_onion.png", "super": "super_shot_onion.png", superSound: "ONION_1", icon: "character-profile-onion.jpg", spriteSheet: "onion_%COLOR%.json", brand: "logo_appleonion.png", locked: !0, num: 127, poster: "character_poster_onion.jpg", unlockedPanels: [], panels: 16, offsetBreadCrumb: { y: -20 } }, richard: { id: "richard", name: "STR_CHAR_RICHARD", available: !0, isCaptain: !0, scale: 1.3, skill: .4, power: .4, speed: .5, yourTeam: "Richard.png", profile: "card_richard.png", icon: "richard_78x78.jpg", "super": "super_shot_richard.png", superSound: "Gumball_Richard", spriteSheet: "richard_%COLOR%.json", brand: "logo_awog.png", num: 123, offsetBreadCrumb: { y: -10 }, offsetPlayerCard: { x: -20 } }, bubbles: { id: "bubbles", name: "STR_CHAR_BUBBLES", available: !0, isCaptain: !0, scale: 1, skill: .6, power: .4, speed: .5, yourTeam: "Bubbles.png", profile: "card_bubbles.png", icon: "bubbles_78x78.jpg", spriteSheet: "bubbles_%COLOR%.json", "super": "super_shot_bubbles.png", superSound: "Powerpuff_Girls_Bubbles", brand: "logo_ppg.png", num: 107, offsetBreadCrumb: { y: -40 } }, grizz_bear: { id: "grizz_bear", name: "STR_CHAR_GRIZZ", available: !0, isCaptain: !1, scale: 1.1, skill: .5, power: .3, speed: .4, yourTeam: "grizz.png", profile: "card_grizz.png", icon: "griz_78x78.jpg", spriteSheet: "grizz_%COLOR%.json", "super": "super_shot_grizz.png", superSound: "We_Bare_Bears_Grizz", brand: "logo_wbb.png", num: 111, offsetBreadCrumb: { y: -10 }, offsetPlayerCard: { x: -15 } }, darwin: { id: "darwin", name: "STR_CHAR_DARWIN", available: !0, isCaptain: !1, scale: .9, skill: .7, power: .3, speed: .5, yourTeam: "darwin.png", profile: "card_darwin.png", icon: "darwin_78x78.jpg", spriteSheet: "darwin_%COLOR%.json", "super": "super_shot_darwin.png", superSound: "Gumball_Darwin", brand: "logo_awog.png", num: 109, offsetBreadCrumb: { y: -20 } }, princess_bubblegum: { id: "princess_bubblegum", name: "STR_CHAR_BUBBLEGUM", available: !0, isCaptain: !0, locked: !1, brandName: "STR_BRAND_ADVENTURETIME", scale: 1, skill: .6, power: .3, speed: 1, yourTeam: "Bubblegum.png", profile: "card_bubblegum.png", icon: "bubblegum_78x78.jpg", "super": "super_shot_bubblegum.png", superSound: "Adventure_Time_Bubblegum", spriteSheet: "princess_%COLOR%.json", brand: "logo_at.png", num: 122, offsetBreadCrumb: { x: 0, y: -15 }, offsetPlayerCard: { x: -40 } }, buttercup: { id: "buttercup", name: "STR_CHAR_BUTTERCUP", available: !0, isCaptain: !0, scale: 1, skill: .4, power: .7, speed: .5, yourTeam: "buttercup.png", profile: "card_buttercup.png", icon: "buttercup_78x78.jpg", "super": "super_shot_buttercup.png", superSound: "Powerpuff_Girls_Buttercup", spriteSheet: "buttercup_%COLOR%.json", brand: "logo_ppg.png", num: 108, offsetBreadCrumb: { y: -50 } }, ice_bear: { id: "ice_bear", name: "STR_CHAR_ICE_BEAR", available: !0, isCaptain: !1, scale: 1.1, skill: .7, power: .2, speed: .4, yourTeam: "Ice.png", profile: "card_icebear.png", "super": "super_shot_ice.png", superSound: "We_Bare_Bears_Ice_Bear", icon: "icebear_78x78.jpg", spriteSheet: "ice-bear_%COLOR%.json", brand: "logo_wbb.png", num: 118, offsetBreadCrumb: { y: -10 } }, anais: { id: "anais", name: "STR_CHAR_ANAIS", available: !0, isCaptain: !0, scale: 1, skill: .8, power: .2, speed: .6, yourTeam: "Anais.png", profile: "card_anais.png", icon: "anais_78x78.jpg", spriteSheet: "anais_%COLOR%.json", "super": "super_shot_anais.png", superSound: "Gumball_Anais", brand: "logo_awog.png", num: 102, offsetBreadCrumb: { y: -30 } }, mojo: { id: "mojo", name: "STR_CHAR_MOJO", available: !0, isCaptain: !0, scale: .8, skill: .4, power: .7, speed: .3, yourTeam: "Mojo.png", profile: "card_mojo.png", icon: "mojo_78x78.jpg", offsetPlayerCard: { x: 0 }, offsetBreadCrumb: { x: 0, y: -50 }, offsetReview: { x: 80, y: 10 }, "super": "super_shot_mojo.png", superSound: "Powerpuff_Girls_Mojo", spriteSheet: "mojo_%COLOR%.json", brand: "logo_ppg.png", num: 119 }, starfire: { id: "starfire", name: "STR_CHAR_STARFIRE", brandName: "STR_BRAND_TEENTITANSGO", available: !0, isCaptain: !0, scale: 1, skill: .8, power: .6, speed: .5, yourTeam: "Starfire.png", profile: "card_starfire.png", icon: "starfire_78x78.jpg", spriteSheet: "starfire_%COLOR%.json", "super": "super_shot_starfire.png", superSound: "Teen_Titans_Go_Starfire", brand: "logo_ttg.png", locked: !1, num: 126, offsetPlayerCard: { x: -40 }, offsetBreadCrumb: { x: 0, y: -30 } }, bmo: { id: "bmo", name: "STR_CHAR_BMO", available: !0, isCaptain: !0, scale: .9, skill: .5, power: .2, speed: .7, yourTeam: "BMO.png", profile: "card_bmo.png", icon: "bmo_78x78.jpg", "super": "super_shot_bmo.png", superSound: "Adventure_Time_BMO", spriteSheet: "bmo_%COLOR%.json", brand: "logo_at.png", num: 105, offsetBreadCrumb: { y: -35 }, locked: !0, poster: "character_poster_bmo.jpg", unlockedPanels: [], panels: 16, brandName: "STR_BRAND_ADVENTURETIME" }, jake: { id: "jake", name: "STR_CHAR_JAKE", available: !0, isCaptain: !1, scale: 1, skill: .4, power: .5, speed: .6, yourTeam: "Jake.png", profile: "card_jake.png", icon: "jake_78x78.jpg", spriteSheet: "jake_%COLOR%.json", "super": "super_shot_jake.png", superSound: "Adventure_Time_Jake", brand: "logo_at.png", num: 114, offsetBreadCrumb: { y: -25 }, offsetPlayerCard: { x: -10 } }, panda_bear: { id: "panda_bear", name: "STR_CHAR_PANDA", available: !0, isCaptain: !0, scale: 1.1, skill: .6, power: .2, speed: .3, yourTeam: "Panda.png", profile: "card_panda.png", icon: "panda_78x78.jpg", "super": "super_shot_panda.png", superSound: "We_Bare_Bears_Panda", spriteSheet: "panda_%COLOR%.json", brand: "logo_wbb.png", num: 121, offsetBreadCrumb: { x: 0, y: -20 }, offsetPlayerCard: { x: -20 } }, kelsey: { id: "kelsey", name: "STR_CHAR_KELSEY", available: !0, isCaptain: !0, brandName: "STR_BRAND_CRAIGOFTHECREEK", scale: .8, skill: .3, power: 1, speed: .4, yourTeam: "kelsey.png", profile: "card_kelsey.png", "super": "super_shot_kelsey.png", superSound: "KELSEY_1", icon: "character-profile-kesley.jpg", spriteSheet: "kelsey_%COLOR%.json", brand: "logo_craigofthecreek.png", locked: !0, num: 130, poster: "character_poster_kelsey.jpg", unlockedPanels: [], panels: 25, offsetBreadCrumb: { y: -70 } }, wonderwoman: { id: "wonderwoman", name: "STR_CHAR_WONDERWOMAN", available: !0, isCaptain: !0, brandName: "STR_BRAND_DCSUPERHEROGIRLS", scale: 1, skill: .6, power: 1, speed: 1, yourTeam: "wonderwoman.png", profile: "card_wonderwoman.png", "super": "super_shot_wonderwoman.png", superSound: "WONDERWOMAN_1", icon: "wonderwoman_78x78.jpg", spriteSheet: "wonderwoman_%COLOR%.json", brand: "logo_dc.png", locked: !1, num: 202, offsetBreadCrumb: { y: -25 } }, robin: { id: "robin", name: "STR_CHAR_ROBIN", available: !0, isCaptain: !0, scale: 1, brandName: "STR_BRAND_TEENTITANSGO", skill: 1, power: .7, speed: .6, yourTeam: "Robin.png", profile: "card_robin.png", icon: "robin_78x78.jpg", spriteSheet: "robin_%COLOR%.json", "super": "super_shot_robin.png", superSound: "Teen_Titans_Go_Robin", brand: "logo_ttg.png", locked: !1, num: 125, offsetPlayerCard: { x: -40 }, offsetBreadCrumb: { x: 0, y: -35 } }, fourarms: { id: "fourarms", name: "STR_CHAR_FOUR_ARMS", available: !0, isCaptain: !1, locked: !1, brandName: "STR_BRAND_BEN10", scale: 1, skill: .5, power: 1, speed: .3, yourTeam: "fourarms.png", "super": "super_shot_fourarms.png", superSound: "Ben_10_Four_Arms", profile: "card_fourarms.png", icon: "fourarms_78x78.jpg", spriteSheet: "fourarms_%COLOR%.json", brand: "logo_b10.png", offsetBreadCrumb: { y: 20 }, num: 115 }, batgirl: { id: "batgirl", name: "STR_CHAR_BATGIRL", available: !0, isCaptain: !0, brandName: "STR_BRAND_DCSUPERHEROGIRLS", scale: 1, skill: .9, power: .7, speed: .6, yourTeam: "batgirl.png", profile: "card_batgirl.png", "super": "super_shot_batgirl.png", superSound: "BATGIRL_2", icon: "batgirl_78x78.jpg", spriteSheet: "batgirl_%COLOR%.json", brand: "logo_dc.png", locked: !0, num: 201, poster: "character_poster_batgirl.jpg", unlockedPanels: [], panels: 25, offsetBreadCrumb: { y: -25 } }, finn: { id: "finn", name: "STR_CHAR_FINN", available: !0, isCaptain: !0, scale: .8, skill: .5, power: .7, speed: .6, yourTeam: "finn.png", profile: "card_finn.png", icon: "finn_78x78.jpg", "super": "super_shot_finn.png", superSound: "Adventure_Time_Finn", spriteSheet: "finn_%COLOR%.json", brand: "logo_at.png", num: 110, offsetBreadCrumb: { y: -10 } }, ben10: { id: "ben10", name: "STR_CHAR_BEN", available: !0, isCaptain: !0, scale: 1, skill: .6, power: .6, speed: .5, "super": "super_shot_ben10.png", superSound: "Ben_10_Ben", yourTeam: "Ben10.png", profile: "card_ben10.png", icon: "ben10_78x78.jpg", spriteSheet: "ben10_%COLOR%.json", brand: "logo_b10.png", num: 100, offsetBreadCrumb: { y: -28 } }, gumball: { id: "gumball", name: "STR_CHAR_GUMBALL", available: !0, isCaptain: !0, scale: 1, skill: .5, power: .3, speed: .6, yourTeam: "Gumball.png", profile: "card_gumball.png", icon: "gumball_78x78.jpg", "super": "super_shot_gumball.png", superSound: "Gumball_Gumball", spriteSheet: "gumball_%COLOR%.json", brand: "logo_awog.png", num: 113, offsetBreadCrumb: { y: -25 } } };
    t.exports = { CharacterData: i, getCaptains: function() { var t = []; for (var e in i) t.push(i[e]); return t }, getPlayers: function() { var t = []; for (var e in i) t.push(i[e]); return t }, getUnlockedPlayers: function() { var t = []; for (var e in i) i[e].locked || t.push(i[e]); return t }, getLockedCharacters: function() { var t = []; for (var e in i) i[e].locked && i[e].poster && t.push(i[e]); return t } } }, function(t, e) { "use strict";

    function i(t, e) { window.ADB ? "[ADB]" : "[ADB-MISSING]";
        window.ADB && (e ? window.ADB.trackAction(t, e) : window.ADB.trackAction(t)) }

    function n(t, e) { window.ADB ? "[ADB]" : "[ADB-MISSING]";
        window.ADB && (e ? window.ADB.trackState(t, e) : window.ADB.trackState(t)) }

    function r(t, e) { window.Bootstrapper && window.dataLayer; if (window.dataLayer)
            for (var i in e) window.dataLayer[i] = e[i];
        window.Bootstrapper && window.Bootstrapper.ensEvent.trigger(t) } t.exports = { adbTrackAction: i, adbTrackState: n, bootstrapEventTrigger: r } }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = function(t, e) { r.Graphics.call(this), this.beginFill(16777215).drawRect(0, 0, 100, 100), this.resize(t, e), this.alpha = 0 };
        o.prototype = Object.create(r.Graphics.prototype), o.prototype.flash = function(t, e) { this.alpha = 1, TweenLite.to(this, e || .5, { alpha: 0, delay: t || 0, ease: Expo.easeOut }) }, o.prototype.resize = function(t, e) { this.scale.x = t / 100, this.scale.y = t / 100 }, n.exports = o }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(53),
            a = i(22);
        PixiParty = function(t, e, i) { r.Container.call(this), this.particals = [], this.particalPool = new o(ParticalTickerTape), this.max = r.isWebGL ? 150 : 5, this.overallScale = i || 1, a.instance.isMobile && (this.max = r.isWebGL ? 60 : 10), this.count = 0, this.pos = 0; for (var n = 0; n < this.max; n++) { var s = this.particalPool.getObject();
                s.home.x = Math.random() * -1136, s.position.y = s.home.y = 110640 * Math.random(), s.speed = new r.Point(Math.random() - .5, Math.random() + 2), this.particals.push(s), this.addChild(s) } this.w = t || 1136, this.h = e || 740, this.focalLength = 150 }, PixiParty.prototype = Object.create(r.Container.prototype), PixiParty.prototype.update = function(t) { if (this.visible)
                for (var e = 0; e < this.particals.length; e++) { var i = this.particals[e],
                        n = this.focalLength / (this.focalLength + i.z),
                        n = this.focalLength / (this.focalLength + i.z);
                    i.scale.x = i.scale.y = .2 * n * i.scaleOffset * this.overallScale, i.home.x += i.speed.x, i.home.y += i.speed.y, i.position.y = (i.home.y - t.y) * n * .5, i.position.x = (i.home.x - t.x) * n * .5, i.scale.y *= Math.sin(2 * i.rotation), i.position.x %= this.w, i.position.x < 0 && (i.position.x += this.w), i.position.y %= this.h, i.position.y < 0 && (i.position.y += this.h), i.rotation += i.rotationSpeed } }, PixiParty.prototype.resize = function(t) {}, ParticalTickerTape = function(t) {
            function e() { return t.apply(this, arguments) } return e.toString = function() { return t.toString() }, e }(function() { ParticalTickerTape.globalCount++, r.Sprite.call(this, r.Texture.fromFrame(ParticalTickerTape.frames[ParticalTickerTape.globalCount % 6])), this.anchor.x = .5, this.anchor.y = .5, this.scaleOffset = 1 + Math.random(), this.z = -50 + Math.random() * -50, this.rotation = Math.random() * Math.PI * 2, this.rotationSpeed = .3 * (Math.random() - .5), this.home = new r.Point }), ParticalTickerTape.globalCount = 0, ParticalTickerTape.frames = ["confetti_yellow.png", "confetti-blue.png", "confetti-red.png", "streamer-blue.png", "streamer-red.png", "streamer-yellow.png"], ParticalTickerTape.prototype = Object.create(r.Sprite.prototype), n.exports = PixiParty }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, i) { var n = function(t) { this.classType = t, this.pool = [] };
        n.constructor = n, n.prototype.prepopulate = function(t) { for (var e = 0; e < t; e++) this.pool.push(new this.classType) }, n.prototype.get = n.prototype.getObject = function() { var t = this.pool.pop(); return t || (t = new this.classType), t }, n.prototype["return"] = n.prototype.returnObject = function(t) { this.pool.indexOf(t) !== -1 || this.pool.push(t) }, Object.defineProperties(n.prototype, { total: { get: function() { return this.pool.length } }, length: { get: function() { return this.pool.length } } }), n.pools = [], n.idGenerator = 1, n.getPool = function(t) { return t._CLASS_ID || (t._CLASS_ID = n.idGenerator++, n.pools[t._CLASS_ID] = new n(t)), n.pools[t._CLASS_ID] }, n.get = n.getObject = function(t) { t._CLASS_ID || (t._CLASS_ID = n.idGenerator++, n.pools[t._CLASS_ID] = new n(t)); var e = n.pools[t._CLASS_ID].getObject(); return e._CLASS_ID = t._CLASS_ID, e }, n["return"] = n.returnObject = function(t) { n.pools[t._CLASS_ID].returnObject(t) }, i.exports = n }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, i) { SlideTransition = function() { this.reverse = !1 }, SlideTransition.constructor = SlideTransition, SlideTransition.prototype.begin = function(t, e, i) { this.screenManager = t, this.currentScreen = e, this.nextScreen = i, this.currentScreen ? (this.currentScreen.onHide && this.currentScreen.onHide(), TweenLite.to(this.currentScreen, .45, { ease: Sine.easeInOut, x: this.reverse ? -1224 : 1224 }), this.onFadeout()) : this.onFadeout() }, SlideTransition.prototype.onFadeout = function() { this.nextScreen.onShow && this.nextScreen.onShow(), this.nextScreen.resize && this.nextScreen.resize(this.screenManager.w, this.screenManager.h), this.nextScreen.position.x = this.reverse ? 1224 : -1224, TweenLite.to(this.nextScreen, .45, { x: 0, ease: Sine.easeInOut, onComplete: this.onFadein.bind(this) }), this.screenManager.container.addChild(this.nextScreen) }, SlideTransition.prototype.onFadein = function() { this.currentScreen && (this.currentScreen.onHidden && this.currentScreen.onHidden(), this.screenManager.container.removeChild(this.currentScreen)), this.nextScreen.onShown && this.nextScreen.onShown(), this.screenManager.onTransitionComplete() }, SlideTransition.prototype.resize = function(t, e) { this.w = t, this.h = e }, i.exports = SlideTransition }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) {
    var n;
    n = function(t, e, n) {
        var r = i(8),
            o = (i(30), i(42)),
            a = (i(37), i(16), i(36), i(56)),
            s = (i(32), i(35)),
            h = (s.Translation, i(43));
        PrivacyScreen = function(t) { r.Container.call(this), this.app = t, this.back = r.Sprite.from(ASSET_URL + "img/ui/overlay-background-2018.png"), this.back.interactive = !0, this.addChild(this.back), this.bg = r.Sprite.from("panel_legal_pop_up.png"), this.bg.anchor.set(.5), this.addChild(this.bg), this.title = new a.h1("STR_TOU_TITLE"), this.title.upperCase = !0, this.title.anchor.set(.5), this.title.position.set(0, -310), this.bg.addChild(this.title), this.visible = !1, this.checked = !1 }, PrivacyScreen.prototype = Object.create(r.Container.prototype), PrivacyScreen.prototype.onConfirmButtonPressed = function() { this.hide(), this.app.topMenu.setState("home"), this.app.localStorage.store("gdprPopup", !1), window.gdprPopup = !1 }, PrivacyScreen.prototype.checkBoxToggle = function() { this.checked = !this.checked, this.checkBox.children[0].visible = this.checked, this.checked ? this.confirmButton.enable() : this.confirmButton.disable() }, PrivacyScreen.prototype.build = function() { if (!this.built) { var t = { fill: "#493008", fontSize: 20, fontFamily: "avenir", wordWrap: !0, wordWrapWidth: 500, breakWords: !0 }; "ar" === window.LANGUAGE && (t.align = "right"); var e = 20;
                t.fontStyle = "italic"; var i = new h("STR_TOU_TEXT1", t);
                i.x = -250, i.y = -265, "ar" === window.LANGUAGE && (i.x = 250 - i.width), this.bg.addChild(i), t.fontStyle = "normal"; var n = new h("STR_TOU_TEXT2", t);
                n.x = -250, n.y = i.y + i.height + e, "ar" === window.LANGUAGE && (n.x = 250 - n.width), this.bg.addChild(n), t.fill = 3902461; var a = new h("STR_TOU_TEXT3", t);
                a.x = -250, a.y = n.y + n.height + e, "ar" === window.LANGUAGE && (a.x = 250 - a.width), a.interactive = !0, a.click = a.tap = function() { window.open(window.translations.URL_AUDIENCE || "https://www.cartoonnetworkeurope.com/legal/en/#textBox_analytics_a", "_blank") }, this.bg.addChild(a), t.fill = "#493008"; var s = new h("STR_TOU_TEXT4", t);
                s.x = -250, s.y = a.y + a.height + e, "ar" === window.LANGUAGE && (s.x = 250 - s.width), this.bg.addChild(s), t.fill = 3902461; var l = new h("STR_TOU_TEXT5", t);
                l.x = -250, l.y = s.y + s.height + e, "ar" === window.LANGUAGE && (l.x = 250 - l.width), l.interactive = !0, l.click = l.tap = function() { window.open(window.translations.URL_ADS || "https://www.cartoonnetworkeurope.com/legal/en/#textBox_ads_a", "_blank") }, this.bg.addChild(l), t.fill = 3902461; var u = new h("STR_TOU_TEXT6", t);
                u.x = -250, u.y = l.y + l.height + e, u.interactive = !0, "ar" === window.LANGUAGE && (u.x = 250 - u.width), u.click = u.tap = function() { window.open(window.translations.URL_PRIVACY || "https://www.cartoonnetworkeurope.com/legal/en/#textBox_priv_a", "_blank") }, this.bg.addChild(u), t.wordWrapWidth = 370, t.fill = 3902461; var c = new h("STR_TOU_TEXT7", t);
                c.x = -120, c.y = 170, c.interactive = !0, c.click = c.tap = function() { window.open(window.translations.URL_TERMS || "https://www.cartoonnetworkeurope.com/legal/en/#textBox_tou_a", "_blank") }, this.bg.addChild(c), this.checkBox = r.Sprite.from("tick_box.png"), this.checkBox.y = 170, this.checkBox.x = -180, this.checkBox.interactive = !0, this.checkBox.click = this.checkBox.tap = this.checkBoxToggle.bind(this); var d = r.Sprite.from("icon-tick.png");
                d.scale.set(.7), d.position.set(6), d.tint = 0, d.visible = !1, this.checkBox.addChild(d), this.bg.addChild(this.checkBox), this.confirmButton = new o("button_green_long.png", null, null, "STR_CONTINUE", 1.1), this.confirmButton.defaultScale = 1, this.confirmButton.position.set(0, 280), this.confirmButton.disable(), this.confirmButton.onPress.add(this.onConfirmButtonPressed, this), this.bg.addChild(this.confirmButton), this.built = !0 } }, PrivacyScreen.prototype.show = function() {
            this.build(), this.visible = !0, this.bg.scale.set(0), TweenLite.to(this.bg.scale, 1, {
                x: 1,
                y: 1,
                ease: Elastic.easeOut
            }), TweenLite.to(this.back, .2, { alpha: 1 })
        }, PrivacyScreen.prototype.hide = function() { TweenLite.to(this.back, .2, { alpha: 0 }), TweenLite.to(this.bg.scale, .2, { x: 0, y: 0, ease: Back.easeIn, onComplete: function() { this.visible = !1 }.bind(this) }) }, PrivacyScreen.prototype.resize = function(t, e, i, n) { this.bg.position.set(t / 2, e / 2), this.back.x = -i, this.back.y = -n, this.back.width = t + 2 * i, this.back.height = e + 2 * n }, n.exports = PrivacyScreen
    }.call(e, i, e, t), !(void 0 !== n && (t.exports = n))
}, function(t, e, i) { "use strict";

    function n(t) { return t && t.__esModule ? t : { "default": t } } var r = (i(8), i(43)),
        o = n(r);
    t.exports = { h1: function(t, e, i, n) { var r = { fill: e || "#493008", fontSize: i || 36, fontFamily: window.MAIN_FONT, stroke: !1, strokeThickness: 8, lineJoin: "round" };
            n && (r.dropShadow = !0, r.dropShadowAlpha = .5, r.dropShadowAngle = Math.PI / 2, r.dropShadowDistance = 5); var a = new o["default"](t, r); return a }, h2: function(t) { var e = new o["default"](t, { fill: "white", fontSize: 30, fontFamily: window.MAIN_FONT, stroke: !0, strokeThickness: 8, lineJoin: "round" }); return e }, h3: function(t) { var e = new o["default"](t, { fill: "white", align: "center", fontSize: 26, fontFamily: window.MAIN_FONT, stroke: !0, strokeThickness: 8, lineJoin: "round" }); return e } } }, function(t, e, i) { "use strict";

    function n(t) { return t && t.__esModule ? t : { "default": t } }

    function r(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

    function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

    function a(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

    function s(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } e.__esModule = !0; var h = i(8),
        l = r(h),
        u = i(48),
        c = (n(u), i(32)),
        d = n(c),
        p = i(35),
        f = i(50),
        m = n(f),
        g = (i(49), i(58)),
        v = (n(g), i(56)),
        y = n(v),
        _ = i(59),
        b = (n(_), i(47)),
        x = (n(b), i(30)),
        w = (n(x), i(37)),
        T = n(w),
        S = i(42),
        M = n(S),
        E = i(60),
        A = (n(E), i(52)),
        C = (n(A), i(64)),
        R = (n(C), i(65)),
        P = (n(R), i(67)),
        O = (n(P), i(22)),
        L = (n(O), i(43)),
        I = (n(L), i(16)),
        D = n(I),
        k = function(t) {
            function e(i) { o(this, e); var n = a(this, t.call(this));
                n.app = i, n.bg = l.Sprite.from("panel_languages.png"), n.bg.anchor.set(.5), n.addChild(n.bg), n.title = y["default"].h1("STR_SETTINGS_LANGUAGE"), n.title.anchor.set(.5), n.title.y = -270, n.bg.addChild(n.title), n.prevButton = new T["default"]("button_left.png"), n.prevButton.position.set(37.5, 100), n.prevButton.onPress.add(n.nextPage, n), n.addChild(n.prevButton), n.prevButton.background.alpha = 0, n.nextButton = new T["default"]("button_right.png"), n.nextButton.position.set(37.5, 100), n.nextButton.onPress.add(n.nextPage, n), n.addChild(n.nextButton); var r = 22,
                    s = 170,
                    h = 100,
                    u = 5,
                    c = -340,
                    d = -180,
                    f = 0,
                    m = c,
                    g = d;
                n.buttonContainerFirst = new l.Container, n.buttonContainerSecond = new l.Container, n.bg.addChild(n.buttonContainerFirst), n.bg.addChild(n.buttonContainerSecond), n.buttonContainerSecond.visible = !1; var v = 0,
                    _ = []; for (var b in p.Translation.languages) { v++; var x = D["default"].getJson("strings"),
                        w = x[b][p.Translation.languages[b]],
                        S = "fredburger"; "vi" === b && (S = "avenir"), "ro" === b && (S = "fredburger"), "cs" === b && (S = "fredburger"); var E = r; "ar" !== b && "ja" !== b || (E += 2); var A = new M["default"]("language_box.png", null, null, w, 1.1, null, E, S, 300, 0, (!0)); if (A.label.style.align = "center", A.label.style.fill = 0, A.label.style.wordWrap = !0, A.label.style.wordWrapWidth = 120, A.label.style.lineHeight = 24, A.defaultScale = 1, A.x = m, A.y = g + 97, A.onPress.add(n.selectLanguage.bind(n, A, b)), v <= 14 ? n.buttonContainerFirst.addChild(A) : n.buttonContainerSecond.addChild(A), m += s, f++, _.push(A), 14 === v) { for (var C = u - f, R = _.length - 1; R >= _.length - f; R--) { var A = _[R];
                            A.x += 100 * C } m = c, g = d, f = 0 } else f >= u && (m = c, g += h, f = 0) } var C = u - f; if (C > 0)
                    for (var R = _.length - 1; R >= _.length - f; R--) { var A = _[R];
                        A.x += 85 * C }
                return n.icon = l.Sprite.from("language_box_selected.png"), n.icon.scale.set(.97), n.icon.anchor.set(.5), n.confirmButton = new M["default"]("language_box.png", null, null, "OK", 1.1, null, r, S, 300, 0, (!0)), n.confirmButton.label.style.fill = 0, n.confirmButton.defaultScale = 1, n.confirmButton.x = 0, n.confirmButton.y = 340, n.confirmButton.onPress.add(n.confirmLanguage.bind(n, n.confirmButton, b)), n.confirmButton.visible = !1, n.bg.addChild(n.confirmButton), window.languageScreen = n, n } return s(e, t), e.prototype.nextPage = function() { if (!this.tween) { var t = this.buttonContainerFirst.visible ? this.buttonContainerFirst : this.buttonContainerSecond,
                        e = this.buttonContainerFirst.visible ? this.buttonContainerSecond : this.buttonContainerFirst,
                        i = .15;
                    this.buttonContainerFirst.visible && (TweenLite.to(this.nextButton.background, i, { alpha: 0, ease: Quad.easeOut, onComplete: function() { this.nextButton.hide() }.bind(this) }), TweenLite.to(this.prevButton.background, i, { alpha: 1, ease: Quad.easeOut, onComplete: function() { this.prevButton.show() }.bind(this), delay: i / 2 })), this.buttonContainerSecond.visible && (TweenLite.to(this.prevButton.background, i, { alpha: 0, ease: Quad.easeOut, onComplete: function() { this.prevButton.hide() }.bind(this) }), TweenLite.to(this.nextButton.background, i, { alpha: 1, ease: Quad.easeOut, onComplete: function() { this.nextButton.show() }.bind(this), delay: i / 2 })), this.tween = TweenLite.to(t, i, { alpha: 0, onComplete: function() { e.visible = !0, e.alpha = 0, t.visible = !1, t.alpha = 1, TweenLite.to(e, i, { alpha: 1, ease: Quad.easeOut, onComplete: function() { this.tween = null }.bind(this) }) }.bind(this) }) } }, e.prototype.selectLanguage = function(t, e) { if (!this.app.overlayManager.shown) { this.lang = e, this.app.overlayManager.languageScreen.setTitle(t.label.text, t.label.style.fontFamily); var i = D["default"].getJson("strings");
                    this.app.overlayManager.languageScreen.areyousureText.setText(i[e].STR_AREYOUSURE), this.app.overlayManager.languageScreen.areyousureText.style.fontFamily = t.label.style.fontFamily, this.app.overlayManager.show(d["default"].OVERLAY_ID.LANGUAGE, !0) } }, e.prototype.confirmLanguage = function() { if (this.lang) { this.app.localStorage.store("language", this.lang), window.app.changeLanguage(this.lang); var t = p.Translation.analytics[this.lang];
                    m["default"].adbTrackAction({ initial_language: t }), m["default"].bootstrapEventTrigger("initial_language", { language_id: t }), this.app.screenManager.gotoScreenByID(d["default"].SCREEN_ID.TITLE) } }, e.prototype.onShow = function() { this.app.breadcrumb.hidden = !0, this.app.breadcrumb.visible = !1, this.app.topMenu.coinBar.visible = !1, this.app.topMenu.setState("empty"), this.resize(this.w, this.h), this.resizeBg(); var t = this.bg.scale.x;
                this.bg.scale.set(0), TweenLite.to(this.bg.scale, 1, { x: t, y: t, ease: Elastic.easeOut, delay: .2, onComplete: this.resizeBg.bind(this) }) }, e.prototype.onShown = function() { this.resizeBg() }, e.prototype.onHide = function() { this.app.topMenu.coinBar.visible = !0 }, e.prototype.resizeBg = function() { this.bg.height = this.app.h / this.app.ratio2 * .85, this.bg.scale.x = this.bg.scale.y }, e.prototype.resize = function(t, e) { this.app.screenManager.container.x / this.app.screenManager.container.scale.x, this.app.screenManager.container.y / this.app.screenManager.container.scale.y;
                this.w = t, this.h = e, this.prevButton && (this.nextButton.x = t / 2 + 515, this.nextButton.y = e / 2, this.prevButton.x = t / 2 - 515, this.prevButton.y = e / 2), this.bg.position.set(t / 2, e / 2), this.resizeBg() }, e }(l.Container);
    e["default"] = k, t.exports = e["default"] }, function(t, e, i) { var n;
    n = function(t, e, i) { var n = {};
        n.shuffle = function(t) { for (var e, i, n = t.length; 0 !== n;) i = Math.floor(Math.random() * n), n -= 1, e = t[n], t[n] = t[i], t[i] = e; return t }, i.exports = n }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { "use strict";

    function n(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } e.__esModule = !0; var r = (i(8), function() {
        function t(e) { n(this, t), this.app = e } return t.prototype.begin = function(t, e, i) { var n = this;
            this.screenManager = t, this.currentScreen = e, this.nextScreen = i, this.currentScreen.interactiveChildren = !1, this.app.topMenu.interactiveChildren = !1, this.nextScreen.interactiveChildren = !1, this.currentScreen ? (this.currentScreen.onHide && this.currentScreen.onHide(), this.app.brand.center.scale.set(8), this.app.brand.logo.scale.x = -1, TweenLite.to(this.app.brand, .2, { ease: Quad.easeOut, alpha: 1 }), TweenLite.to(this.app.brand.center.scale, .3, { delay: 0, x: 1, y: 1, ease: Quad.easeOut }), TweenLite.to(this.app.brand.bg, .3, { delay: .1, alpha: .4, ease: Quad.easeOut }), TweenLite.to(this.app.brand.logo.scale, .3, { delay: .2, x: 1, onComplete: function() { setTimeout(function() { n.onFadeout() }, 150) } }), this.nextScreen.position.x = 0) : this.onFadeout() }, t.prototype.onFadeout = function() { var t = this;
            this.nextScreen.resize && this.nextScreen.resize(this.screenManager.w, this.screenManager.h), TweenLite.to(this.app.brand.bg, .7, { alpha: 0, ease: Quad.easeOut }), TweenLite.to(this.app.brand.center.scale, .3, { ease: Quad.easeOut, x: 10, y: 10, onComplete: function() { t.onFadein() } }), setTimeout(function() { t.nextScreen.onShow && t.nextScreen.onShow(), t.screenManager.container.addChildAt(t.nextScreen, 0), t.screenManager.container.removeChild(t.currentScreen), t.currentScreen && t.currentScreen.onHidden && t.currentScreen.onHidden() }, 100), TweenLite.to(this.app.brand, .2, { ease: Quad.easeOut, delay: .15, alpha: 0 }) }, t.prototype.onFadein = function() { this.nextScreen.onShown && this.nextScreen.onShown(), this.nextScreen.interactiveChildren = !0, this.currentScreen.interactiveChildren = !0, this.app.topMenu.interactiveChildren = !0, this.screenManager.onTransitionComplete() }, t.prototype.resize = function(t, e) { this.w = t, this.h = e }, t }());
    e["default"] = r, t.exports = e["default"] }, function(t, e, i) { "use strict";

    function n(t) { return t && t.__esModule ? t : { "default": t } }

    function r(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

    function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

    function a(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

    function s(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } e.__esModule = !0; var h = i(8),
        l = r(h),
        u = i(13),
        c = n(u),
        d = i(61),
        p = n(d),
        f = i(32),
        m = n(f),
        g = i(22),
        v = n(g),
        y = i(48),
        _ = n(y),
        b = i(58),
        x = n(b),
        w = i(63),
        T = i(43),
        S = n(T),
        M = function(t) {
            function e(i, n) { o(this, e); var r = 17,
                    s = a(this, t.call(this));
                s.app = i, window.playerCard = s, s.buttonMode = !0, s.active = !0, s.container = new l.Container, s.centerCotainer = new l.Container, s.filterContainer = new l.Container, s.cacheContainer = new l.Container, s.w = m["default"].PLAYER_CARD.WIDTH, s.h = m["default"].PLAYER_CARD.HEIGHT, s.padding = m["default"].PLAYER_CARD.PADDING, s.centerCotainer.position.x = -s.w / 2 - r, s.centerCotainer.position.y = -s.h / 2, s.bw = new l.filters.ColorMatrixFilter, s.bw.blackAndWhite(), window.bw = s.bw, s.bw.padding = 0, s.bg = l.Sprite.fromFrame(window.winterMode ? "card_back_winter.png" : "card_back.png"), s.cacheContainer.addChild(s.bg), s.profile = new l.Sprite; var h = w.GraphicsFormat.parse("f #c00 1 m 148.85 0.35 l 148.85 0 l 148.55 0.2 l 148.2 0 l 148.2 0.4 q 104.35 25 0 26.7 q 0.4 276.7 0.05 276.7 l 297.1 276.7 q 296.75 276.7 297.05 26.7 q 192.65 24.95 148.85 0.35 c");
                h.scale.set(.99), h.x += 18, h.y += 14, window.winterMode && (h.x += 5, h.y += 25), s.cacheContainer.addChild(h), s.profile.mask = h, s.cacheContainer.addChild(s.profile), s.profile.offset = { x: 0, y: 0 }, s.brand = new l.Sprite.fromImage("logo_ppg.png"), s.brand.anchor.y = 1, s.brand.position.x = 3 * s.padding, s.brand.position.y = 290 - s.padding, s.cacheContainer.addChild(s.brand), s.name = new S["default"]("", { fill: "#493008", fontSize: 30, fontFamily: window.MAIN_FONT }), s.name.anchor.x = .5, s.name.position.x = s.bg.width / 2, s.name.position.y = 335 - s.name.height - s.padding, s.cacheContainer.addChild(s.name), s.num = new l.Text("123", { fill: "white", fontSize: 23, fontFamily: "avenir", stroke: !0, strokeThickness: 5, lineJoin: "round" }), s.num.position.x = s.padding + 300 - s.num.width, s.num.position.y = 299 - s.num.height - s.padding, s.onDown = new c["default"], s.interactive = !0; var u = 400,
                    d = 600,
                    f = 100;
                s.hitArea = new l.Rectangle(-u / 2, -d / 2 + f, u, d), s.check = new l.Sprite.from("button_card_tick.png"), v["default"].instance.desktop, s.check.interactive = !0, s.check.mouseover = function() { this.active && TweenLite.to(this.check.scale, .5, { x: 1.1, y: 1.1, ease: Elastic.easeOut }) }.bind(s), s.check.mouseout = function() { this.active && TweenLite.to(this.check.scale, .5, { x: 1.03, y: 1.03, ease: Elastic.easeOut }) }.bind(s), s.check.anchor.set(.5), s.check.position.x = s.bg.width / 2 - s.w / 2 - r, s.check.position.y = s.bg.height / 2 - s.h / 2 + 270, s.checkHide = !0, s.mouseup = s.touchend = function() { this.onDown.dispatch(this) }.bind(s), s.mouseover = function() { this.active && (this.data && !this.data.selected && (this.check.filters = null), TweenLite.to(this.container.scale, .5, { x: 1.02, y: 1.02, ease: Elastic.easeOut })) }.bind(s), s.mouseout = function() { this.active && TweenLite.to(this.container.scale, .5, { x: 1, y: 1, ease: Elastic.easeOut }) }.bind(s); var g = s.padding + 82,
                    y = 337,
                    _ = 36; if (s.speedBar = new p["default"].speed, s.speedBar.position.set(g, y), s.cacheContainer.addChild(s.speedBar), s.powerBar = new p["default"].power, s.powerBar.position.set(g, s.speedBar.position.y + s.speedBar.height + s.padding + _), s.cacheContainer.addChild(s.powerBar), s.skillBar = new p["default"].skill, s.skillBar.position.set(g, s.powerBar.position.y + s.powerBar.height + s.padding + _), s.cacheContainer.addChild(s.skillBar), window.winterMode) { var b = 5,
                        x = 5;
                    s.speedBar.position.x += b, s.powerBar.position.x += b, s.skillBar.position.x += b, s.speedBar.position.y += x, s.powerBar.position.y += x, s.skillBar.position.y += x } return s.container.addChild(s.filterContainer), s.container.addChild(s.centerCotainer), s.addChild(s.container), s.container.addChild(s.check), s.lock = l.Sprite.fromFrame("button_card_padlock.png"), s.lock.anchor.set(.5), s.lock.position.x = s.bg.width / 2, s.lock.position.y = 200, s.centerCotainer.addChild(s.lock), s.dimmer = l.Sprite.fromImage(ASSET_URL + "img/ui/card_black.png"), window.winterMode || s.centerCotainer.addChild(s.dimmer), s.glow = l.Sprite.fromImage("card_glow.png"), s.glow.blendMode = l.BLEND_MODES.ADD, s.glow.position.set(-13, -15), s.glow.visible = !1, s.cachedTexture = l.RenderTexture.create(s.bg.width, s.bg.height), s.cacheSprite = new l.Sprite(s.cachedTexture), s.filterContainer.addChild(s.cacheSprite), s.cacheSprite.position.x = -s.w / 2 - r, s.cacheSprite.position.y = -s.h / 2, s.dirty = !1, window.app.onLanguageChange.add(s.onLanguageChange, s), s } return s(e, t), e.prototype.onLanguageChange = function() { window.renderer.render(this.cacheContainer, this.cachedTexture) }, e.prototype.shine = function() { if (!this.glow.visible) { this.lock.visible = !1, this.glow.visible = !0, this.stars = [], this.starCounts = []; for (var t = [], e = 1; e <= 10; e++) t.push(48 * e);
                    x["default"].shuffle(t); for (var e = 0; e < 10; e++) { var i = l.Sprite.fromImage("flash-big-2.png");
                        i.scale.set(.2 + .8 * Math.random()), i.anchor.set(.5), i.blendMode = l.BLEND_MODES.ADD, i.position.x = 35 * e, i.position.y = t[e], this.centerCotainer.addChild(i), this.stars.push(i), this.starCounts.push(1e3 * Math.random()) } this.parent && this.updateTransform() } }, e.prototype.unshine = function() { this.glow.visible = !1; for (var t = 0; t < this.stars.length; t++) this.centerCotainer.removeChild(this.stars[t]);
                this.stars.length = 0 }, e.prototype.select = function() { this.check.scale.set(1), this.filterContainer.filters = [this.bw] }, e.prototype.unselect = function() { this.check.scale.set(0), this.filterContainer.filters = null, !v["default"].instance.desktop, this.check.visible = !0 }, e.prototype.updateTransform = function() { if (this.parent && t.prototype.updateTransform.call(this), this.stars)
                    for (var e = 0; e < this.stars.length; e++) this.starCounts[e] += .07, this.stars[e].alpha = 1 * Math.abs(Math.sin(this.starCounts[e])), this.stars[e].rotation += .01 * this.stars[e].scale.x;
                this.profile && (this.profile.position.x = this.profile.offset.x - 20, this.profile.position.y = this.profile.offset.y + 1, window.winterMode && (this.profile.position.y += 3)), this.z < .3 && this.z > -.3 ? (this.checkHide && !this.lock.visible && TweenLite.to(this.check.scale, .5, { x: 1.04, y: 1.04, ease: Elastic.easeOut }), this.checkHide = !1) : this.data && (this.data.selected === !0 || this.checkHide || (this.checkHide = !0, TweenLite.to(this.check.scale, .2, { x: 0, y: 0, ease: Expo.easeOut }))) }, e.prototype.update = function(t, e) { this.data = t, t.selected ? this.select() : this.unselect(); var i = t.locked; if (_["default"].unlocked.indexOf(t.id) !== -1 && (i = !1), this.lock.visible = !!i, this.check.visible = !i, t.selected && (this.check.visible = !1), this.skillBar.setData(t.skill), this.powerBar.setData(t.power), this.speedBar.setData(t.speed), this.name.setText(t.name), this.num.text = t.num, this.brand.texture = new l.Texture.fromImage(t.brand), this.profile.texture = new l.Texture.fromImage(t.profile), t.offsetPlayerCard ? (this.profile.offset.x = t.offsetPlayerCard.x || 0, this.profile.offset.y = t.offsetPlayerCard.y || 0) : (this.profile.offset.x = 0, this.profile.offset.y = 0), this.updateTransform(), this.orange = !0, this.dirty = !0, _["default"].unlocked.length > 0) { var n = _["default"].unlocked[_["default"].unlocked.length - 1];
                    this.data.id === n ? this.shine() : this.glow.visible && this.unshine() } window.renderer.render(this.cacheContainer, this.cachedTexture) }, e }(l.Container);
    e["default"] = M, t.exports = e["default"] }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = (i(8), i(62)),
            o = { skill: function(t) { var e = new r("card_accuracy_bit.png", t); return e }, power: function(t) { var e = new r("card_power_bit.png", t); return e }, speed: function(t) { var e = new r("card_speed_bit.png", t); return e } };
        n.exports = o }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = function(t, e) { r.Container.call(this); for (var i = 0; i < 10; i++) { var n = r.Sprite.fromFrame(t);
                    n.x = 21.5 * i, this.addChild(n) } this.setData(e) };
        o.prototype = Object.create(r.Container.prototype), o.prototype.setData = function(t) { this.level = t || 0; for (var e = 0; e < 10; e++) this.children[e].visible = e < 10 * this.level }, n.exports = o }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) {! function(t, i) { i(e) }(this, function(t) { "use strict"; if ("undefined" == typeof PIXI) throw "PixiJS required"; var e = function() {
            function t() {} return Object.defineProperty(t, "EXTENSION", { get: function() { return "pgf" }, enumerable: !0, configurable: !0 }), t.parse = function(e, i) { if (void 0 === i && (i = new PIXI.Graphics), e = e.replace(/\n/g, " "), !this.FORMAT.test(e)) throw new SyntaxError("Supplied content is invalid GraphicsFormat"); for (var n = e.split(" "), r = 0; r < n.length; r++) { var o = n[r]; "#" === o[0] ? n[r] = t.hexToUint(o) : this.VALID_KEYS.test(o) || (n[r] = parseFloat(o)) } for (var a, s = [], h = 0; h <= n.length;) { var l = n[h++],
                        u = void 0; "string" == typeof l && (u = this.COMMANDS[l] || l), void 0 === l || i[u] ? (a && (i[a].apply(i, s), s.length = 0), a = u) : s.push(l) } return i }, t.stringify = function(e) { for (var i = e.graphicsData, n = "", r = 0, o = 1, a = 0, s = 0, h = 1, l = 0; l < i.length; l++) { var u = i[l];
                    u.fillColor === r && u.fillAlpha === o || (r = u.fillColor, o = u.fillAlpha, n += "f #" + t.uintToHex(r) + " ", 1 !== o && (n += t.toPrecision(o) + " ")), u.lineWidth > 0 && (u.lineWidth !== a || u.lineColor !== s || u.lineAlpha !== h) && (a = u.lineWidth, s = u.lineColor, h = u.lineAlpha, n += "s " + t.toPrecision(a) + " ", (s > 0 || 1 !== h) && (n += "#" + t.uintToHex(s) + " "), 1 !== h && (n += t.toPrecision(h) + " ")); var c = u.shape,
                        d = u.holes; if (c instanceof PIXI.Rectangle) n += "dr " + (p = t.toPrecision(c.x)) + " " + (f = t.toPrecision(c.y)) + " " + (m = t.toPrecision(c.width)) + " " + (g = t.toPrecision(c.height)) + " c ";
                    else if (c instanceof PIXI.Ellipse) { var p = t.toPrecision(c.x),
                            f = t.toPrecision(c.y),
                            m = t.toPrecision(c.width),
                            g = t.toPrecision(c.height);
                        n += "de " + p + " " + f + " " + m + " " + g + " c " } else if (c instanceof PIXI.Circle) n += "dc " + (p = t.toPrecision(c.x)) + " " + (f = t.toPrecision(c.y)) + " " + t.toPrecision(c.radius) + " c ";
                    else if (c instanceof PIXI.Polygon) { for (var v = c.points, y = v.length, _ = v[0] === v[y - 2] && v[1] === v[y - 1], b = _ && 0 === d.length ? y / 2 - 1 : y / 2, x = 0; x < b; x++) { var p = t.toPrecision(c.points[2 * x]),
                                f = t.toPrecision(c.points[2 * x + 1]);
                            n += (0 === x ? "m" : "l") + " " + p + " " + f + " " } for (var w = 0; w < d.length; w++) { for (var T = d[w], S = T.points.length / 2, M = 0; M < S; M++) { var p = t.toPrecision(T.points[2 * M]),
                                    f = t.toPrecision(T.points[2 * M + 1]);
                                n += (0 === M ? "m" : "l") + " " + p + " " + f + " " } n += "h " } _ && (n += "c ") } } return n.trim() }, t.uintToHex = function(t) { for (var e = t.toString(16); e.length < 6;) e = "0" + e; return e.replace(/([a-f0-9])\1([a-f0-9])\2([a-f0-9])\3/, "$1$2$3") }, t.middleware = function() { return function(e, i) { "pgf" === e.extension && (e.graphics = t.parse(e.data)), i() } }, t.hexToUint = function(t) { return 3 === (t = t.substr(1)).length && (t = t.replace(/([a-f0-9])/g, "$1$1")), parseInt(t, 16) }, t.toPrecision = function(t, e) { void 0 === e && (e = 2); var i = Math.pow(10, e); return Math.round(t * i) / i }, t.COMMANDS = { c: "closePath", h: "addHole", m: "moveTo", l: "lineTo", q: "quadraticCurveTo", b: "bezierCurveTo", f: "beginFill", s: "lineStyle", dr: "drawRect", rr: "drawRoundedRect", rc: "drawRoundedRect", dc: "drawCircle", ar: "arc", at: "arcTo", de: "drawEllipse" }, t.FORMAT = /^((\s)?(c|h|m|l|q|b|f|s|dr|rr|rc|dc|ar|at|de)(\s[0-9\.#\-a-f]+)*(\s)?)*$/, t.VALID_KEYS = /^(c|h|m|l|q|b|f|s|dr|rr|rc|dc|ar|at|de)$/, t }();
        PIXI.loader.use(e.middleware()), PIXI.loaders.Loader.addPixiMiddleware(e.middleware), PIXI.loaders.Resource.setExtensionXhrType(e.EXTENSION, PIXI.loaders.Resource.XHR_RESPONSE_TYPE.TEXT), PIXI.GraphicsFormat || Object.defineProperty(PIXI, "GraphicsFormat", { get: function() { return e } }), t.GraphicsFormat = e, Object.defineProperty(t, "__esModule", { value: !0 }) }) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(47),
            o = i(8),
            a = new o.Point,
            s = function(t) { t = t || {}, this.value = 0, this._ratio = 0, this.dragOffset = 0, this.dragPosition = 0, this.draggerHeight = t.draggerHeight || 30, this.dragLength = t.dragLength || 300, o.Container.call(this), this.bar = t.bar || (new o.Graphics).beginFill(16711680).drawRect(0, 0, 20, this.dragLength), this.dragger = t.dragger || (new o.Graphics).beginFill(16776960).drawRect(0, -this.draggerHeight / 2, 20, this.draggerHeight), this.addChild(this.bar), this.addChild(this.dragger), this.dragger.position.y = this.draggerHeight / 2, this.interactive = !0, this.buttonMode = !0, this.mousedown = this.onDown.bind(this), this.onUp = this.onUp.bind(this), this.onMove = this.onMove.bind(this), this.onUpdate = null };
        s.prototype = Object.create(o.Container.prototype), s.prototype.updateTransform = function() { var t = this.draggerHeight / 2 + this.ratio * (this.dragLength - this.draggerHeight);
            this.dragger.position.y += .5 * (t - this.dragger.position.y), this.containerUpdateTransform() }, Object.defineProperties(s.prototype, { ratio: { get: function() { return this._ratio }, set: function(t) { this._ratio = r.cap(t, 0, 1) } } }), s.prototype.updateRatio = function(t) { this._ratio = r.map(t, this.draggerHeight / 2, this.dragLength - this.draggerHeight / 2, 0, 1), this._ratio = r.cap(this.ratio, 0, 1), this.onUpdate() }, s.prototype.onDown = function(t) { var e = t.data.getLocalPosition(this, a).y;
            this.updateRatio(e), this.isDragging = !0, this.mousemove = this.onMove, this.mouseup = this.mouseupoutside = this.onUp }, s.prototype.onUp = function() { this.isDragging = !1, this.mousemove = null, this.mouseup = this.mouseupoutside = null }, s.prototype.onMove = function(t) { var e = t.data.getLocalPosition(this, a).y;
            this.updateRatio(e) }, n.exports = s }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = (i(66), i(21), i(67), i(47));
        PixiScrollCombo = function(t) { this.min = t.min || 0, this.max = t.max || 500, this.trackpad = t.trackpad, this.trackpad.scrollMinY = -this.max, this.trackpad.scrollMaxY = this.min, this.trackpad.capMovement = !0, this.trackpad.easeToPosition(0, this.min), this.scrollbar = t.scrollbar, Device.instance.desktop || (this.scrollbar.visible = !1), this.scrollbar.onUpdate = this.onScrollUpdate.bind(this), this.value = 0 }, Object.defineProperties(PixiScrollCombo.prototype, { value: { get: function() { return this._value }, set: function(t) { this._value = t, this.trackpad.easeToPosition(0, t) } } }), PixiScrollCombo.prototype.update = function() { this.trackpad.update(), this._value = this.trackpad.valueY, this.scrollbar.ratio = r.map(-this.trackpad.valueY, this.min, this.max, 0, 1) }, PixiScrollCombo.prototype.onScrollUpdate = function() { var t = r.map(this.scrollbar.ratio, 1, 0, -this.max, this.min);
            this.trackpad.easeToPosition(0, t) }, n.exports = PixiScrollCombo }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, i) { var n = function() { this.x = 0, this.ax = 0, this.dx = 0, this.tx = 0, this.max = 160, this.damp = .8, this.springiness = .1 };
        n.prototype.update = function() { this.ax = (this.tx - this.x) * this.springiness, this.dx += this.ax, this.dx *= this.damp, this.dx < -this.max ? this.dx = -this.max : this.dx > this.max && (this.dx = this.max), this.x += this.dx }, n.prototype.reset = function() { this.x = 0, this.ax = 0, this.dx = 0, this.tx = 0 }, i.exports = n }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(68),
            o = i(69),
            a = i(22),
            s = i(13);
        PixiTrackpad = function(t) { this.spring = new r, this.onScrollUpdate = new s; var e = t.scrollbarClass || o;
            this.target = t.target, this.value = 0, this.easingValue = 0, this.dragOffset = 0, this.dragging = !1, this.speed = 0, this.size = 1024, this.maxSlots = 1, this.capMovement = !0, this.prevPosition = 0, this.valueY = 0, this.easingValueY = 0, this.dragOffsetY = 0, this.speedY = 0, this.prevPositionY = 0, this.didMove = !1, this.didMoveY = !1, this.target.interactive = !0, this.scrollMin = -(1 / 0), this.scrollMax = 0, this.scrollMinY = -(1 / 0), this.scrollMaxY = 0, this.snapTo = !1, t.scrollbar === !0 && a.instance.mobile === !1 && a.instance.iPad === !1 && (this.scrollBar = new e({ target: t.scrollTarget, trackpad: this })), this._onDownBinded = this.onDown.bind(this), this._onUpBinded = this.onUp.bind(this), this._onMoveBinded = this.onMove.bind(this), this.target.on("touchstart", this._onDownBinded).on("mousedown", this._onDownBinded) }, PixiTrackpad.constructor = PixiTrackpad, PixiTrackpad.prototype.unlock = function() { this.locked = !1, this.speed = 0, this.easingValue = this.value, this.easingValueY = this.valueY, this.speedY = 0, this.speedX = 0, window.onmousewheel = this.onMouseWheel.bind(this) }, PixiTrackpad.prototype.lock = function() { this.locked = !0, window.onmousewheel = null }, PixiTrackpad.prototype.update = function() { if (this.value += .3 * (this.easingValue - this.value), this.valueY += .3 * (this.easingValueY - this.valueY), !this.locked)
                if (this.dragging) { var t = this.easingValue - this.prevPosition;
                    t *= .7, this.speed += .5 * (t - this.speed), this.prevPosition = this.easingValue; var e = this.easingValueY - this.prevPositionY;
                    e *= .7, this.speedY += .5 * (e - this.speedY), this.prevPositionY = this.easingValueY } else this.snapTo ? (this.spring.update(), this.easingValue = this.spring.x, this.easingValueY = this.spring.y, this.capMovement && (this.easingValue > this.scrollMax ? this.easingValue += .3 * (this.scrollMax - this.easingValue) : this.easingValue < this.scrollMin && (this.easingValue += .3 * (this.scrollMin - this.easingValue)), this.easingValueY > this.scrollMaxY ? this.easingValueY += .3 * (this.scrollMaxY - this.easingValueY) : this.easingValueY < this.scrollMinY && (this.easingValueY += .3 * (this.scrollMinY - this.easingValueY)))) : (this.speed *= .95, this.easingValue += this.speed, this.speedY *= .95, this.easingValueY += this.speedY, this.capMovement && (this.easingValue > this.scrollMax ? this.easingValue += .3 * (this.scrollMax - this.easingValue) : this.easingValue < this.scrollMin && (this.easingValue += .3 * (this.scrollMin - this.easingValue)), this.easingValueY > this.scrollMaxY ? this.easingValueY += .3 * (this.scrollMaxY - this.easingValueY) : this.easingValueY < this.scrollMinY && (this.easingValueY += .3 * (this.scrollMinY - this.easingValueY)))) }, PixiTrackpad.prototype.stop = function() { this.speed = 0, this.speedY = 0, this.value = this.prevPosition = this.easingValue, this.valueY = this.prevPositionY = this.easingValueY }, PixiTrackpad.prototype.setPosition = function(t, e) { this.value = this.easingValue = t, this.valueY = this.easingValueY = e }, PixiTrackpad.prototype.easeToPosition = function(t, e) { this.easingValue = t, this.easingValueY = e }, PixiTrackpad.prototype.onDown = function(t) { this.locked || (this.speed = 0, this.speedY = 0, this.stop(), this.didMove = !1, this.didMoveY = !1, this.checkX = t.data.global.x, this.checkY = t.data.global.y, this.dragging = !0, this.dragOffset = t.data.global.x - this.value, this.dragOffsetY = t.data.global.y - this.valueY, this.target.on("touchend", this._onUpBinded).on("touchendoutside", this._onUpBinded).on("mouseup", this._onUpBinded).on("mouseupoutside", this._onUpBinded).on("touchmove", this._onMoveBinded).on("mousemove", this._onMoveBinded)) }, PixiTrackpad.prototype.onMouseWheel = function(t) { this.target.interactive && (t.preventDefault ? t.preventDefault() : t.returnValue = !1, this.locked || (this.speed = .15 * t.wheelDeltaX, this.speedY = .15 * t.wheelDeltaY)) }, PixiTrackpad.prototype.onUp = function() { if (!this.locked) { if (this.dragging = !1, this.snapTo) { if (this.didMove) { this.spring.dx = this.speed; var t;
                        t = this.speed < 0 ? Math.floor(this.easingValue / this.size) : Math.ceil(this.easingValue / this.size), this.capMovement && (t > 0 ? t = 0 : t < -this.maxSlots && (t = -this.maxSlots)), this.spring.tx = t * this.size, this.spring.dy = this.speedY, t = this.speedY < 0 ? Math.floor(this.easingValueY / this.size) : Math.ceil(this.easingValueY / this.size), this.capMovement && (t > 0 ? t = 0 : t < -this.maxSlots && (t = -this.maxSlots)), this.spring.ty = t * this.size } this.spring.x = this.easingValue, this.spring.y = this.easingValueY } this.cap(), this.target.off("touchend", this._onUpBinded).off("touchendoutside", this._onUpBinded).off("mouseup", this._onUpBinded).off("mouseupoutside", this._onUpBinded).off("touchmove", this._onMoveBinded).off("mousemove", this._onMoveBinded) } }, PixiTrackpad.prototype.cap = function() { this.capMovement && (this.snapTo && (this.spring.tx > this.scrollMax ? this.spring.tx = this.scrollMax : this.spring.tx < this.scrollMin && (this.spring.tx = this.scrollMin)), this.snapTo && (this.spring.ty > this.scrollMaxY ? this.spring.ty = this.scrollMaxY : this.spring.ty < this.scrollMinY && (this.spring.ty = this.scrollMinY))) }, PixiTrackpad.prototype.setSlot = function(t, e) { this.spring.tx = t * -this.size, e && (this.value = this.easingValue = this.spring.x = this.spring.tx), this.cap() }, PixiTrackpad.prototype.setSlotY = function(t) { this.spring.ty = t * -this.size, this.cap() }, PixiTrackpad.prototype.nextSlot = function() { this.spring.tx -= this.size, this.spring.tx < -(this.maxSlots * this.size) && (this.spring.tx = -(this.maxSlots * this.size)), this.cap() }, PixiTrackpad.prototype.nextSlotY = function() { this.spring.ty -= this.size, this.spring.ty < -(this.maxSlots * this.size) && (this.spring.ty = -(this.maxSlots * this.size)), this.cap() }, PixiTrackpad.prototype.previousSlot = function() { this.spring.tx += this.size, this.cap() }, PixiTrackpad.prototype.previousSlotY = function() { this.spring.ty += this.size, this.cap() }, PixiTrackpad.prototype.setSize = function(t) { this.size = t, this.scrollbar && this.scrollBar.setSize(t) }, PixiTrackpad.prototype.setSlots = function(t) { this.maxSlots = t - 1 }, PixiTrackpad.prototype.onMove = function(t) { if (!this.locked) { var e;
                e = Math.abs(this.checkX - t.data.global.x), e > 10 && (this.didMove = !0), e = Math.abs(this.checkY - t.data.global.y), e > 10 && (this.didMove = !0), this.easingValue = t.data.global.x - this.dragOffset, this.easingValueY = t.data.global.y - this.dragOffsetY, this.capMovement && (this.easingValue > this.scrollMax ? this.easingValue = this.scrollMax + .3 * (this.easingValue - this.scrollMax) : this.easingValue < this.scrollMin && (this.easingValue = this.scrollMin + .3 * (this.easingValue - this.scrollMin)), this.easingValueY > this.scrollMaxY ? this.easingValueY = this.scrollMaxY + .3 * (this.easingValueY - this.scrollMaxY) : this.easingValueY < this.scrollMinY && (this.easingValueY = this.scrollMinY + .3 * (this.easingValueY - this.scrollMinY))) } }, n.exports = PixiTrackpad }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, i) { var n = function() { this.x = 0, this.ax = 0, this.dx = 0, this.tx = 0, this.y = 0, this.ay = 0, this.dy = 0, this.ty = 0, this.max = 30, this.damp = .75, this.springiness = .09, this.max = 160, this.damp = .85, this.springiness = .29 };
        n.constructor = n, n.prototype.update = function() { this.ax = (this.tx - this.x) * this.springiness, this.dx += this.ax, this.dx *= this.damp, this.dx < -this.max ? this.dx = -this.max : this.dx > this.max && (this.dx = this.max), this.x += this.dx, this.ay = (this.ty - this.y) * this.springiness, this.dy += this.ay, this.dy *= this.damp, this.dy < -this.max ? this.dy = -this.max : this.dy > this.max && (this.dy = this.max), this.y += this.dy }, n.prototype.reset = function() { this.x = 0, this.ax = 0, this.dx = 0, this.tx = 0, this.y = 0, this.ay = 0, this.dy = 0, this.ty = 0 }, i.exports = n }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) {
    var n;
    n = function(t, e, n) {
        var r = (i(66), i(21));
        i(67);
        PixiScrollBar = function(t) {
            this.topMargin = 15, this.bottomMargin = 15, this.yTouchOffset = 0, this.dragging = !1, this.trackpad = t.trackpad, this.targetPosition = { x: 0, y: 0 }, this.container = t.target, this.guideLine = new PIXI.Sprite, this.guideLine.anchor.set(1, 0),
                this.guideLine.position.x = 630, this.guideLine.position.y = 1, this.guideLine.height = 229, this.guideLine.hitArea = new PIXI.Rectangle((-10), 0, 40, 300), this.guideLine.interactive = !1, this.guideLine.buttonMode = !1, this.guideButton = new PIXI.Sprite, this.guideButton.anchor.set(1, .5), this.guideButton.position.x = 642, this.guideButton.hitArea = new PIXI.Rectangle((-100), (-100), 400, 300), this.guideButton.position.y = this.topMargin + .5 * this.guideButton.height, this.guideButton.interactive = !0, this.guideButton.buttonMode = !0, this.container.addChild(this.guideLine), this.container.addChild(this.guideButton), this.guideButton.touchstart = this.guideButton.mousedown = this.onDown.bind(this), this.guideButton.touchend = this.guideButton.touchendoutside = this.guideButton.mouseup = this.guideButton.mouseupoutside = this.onUp.bind(this), this.guideButton.mousemove = this.guideButton.touchmove = this.onMove.bind(this), this.panelHeight = this.container.viewHeight, this.scrollHeight = this.container.scrollHeight - this.panelHeight, this.scrollableDistance = this.panelHeight - this.topMargin - this.bottomMargin - this.guideButton.height, this.scrollBarRatio = this.scrollHeight / this.scrollableDistance, r.instance.add(this.update, this)
        }, PixiScrollBar.prototype.onDown = function(t) { alert(2), this.dragging = !0, this.yTouchOffset = t.data.getLocalPosition(this.guideButton).y, this.onMove(t) }, PixiScrollBar.prototype.onUp = function() { alert(2434), this.dragging = !1, this.yTouchOffset = 0 }, PixiScrollBar.prototype.onMove = function(t) { this.dragging === !0 && (this.targetPosition = t.data.getLocalPosition(this.container), this.targetPosition.y < this.topMargin + .5 * this.guideButton.height && (this.targetPosition.y = this.topMargin + .5 * this.guideButton.height), this.targetPosition.y > this.scrollableDistance + this.topMargin + .5 * this.guideButton.height && (this.targetPosition.y = this.scrollableDistance + this.topMargin + .5 * this.guideButton.height)) }, PixiScrollBar.prototype.update = function() { if (this.dragging) { var t = -((this.guideButton.position.y - this.topMargin - .5 * this.guideButton.height) * this.scrollBarRatio);
                this.trackpad.easeToPosition(0, t), this.guideButton.position.y = this.targetPosition.y } else this.guideButton.position.y = this.trackpad.valueY * -1 / this.scrollBarRatio + this.topMargin + .5 * this.guideButton.height }, n.exports = PixiScrollBar
    }.call(e, i, e, t), !(void 0 !== n && (t.exports = n))
}, function(t, e, i) { "use strict";

    function n(t) { return t && t.__esModule ? t : { "default": t } }

    function r(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

    function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

    function a(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

    function s(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } e.__esModule = !0; var h = i(8),
        l = r(h),
        u = i(41),
        c = n(u),
        d = i(37),
        p = n(d),
        f = i(71),
        m = n(f),
        g = i(56),
        v = n(g),
        y = i(36),
        _ = (n(y), i(48)),
        b = n(_),
        x = i(22),
        w = n(x),
        T = i(32),
        S = n(T),
        M = i(35),
        E = i(72),
        A = (n(E), i(42)),
        C = (n(A), i(59)),
        R = (n(C), i(43)),
        P = n(R),
        O = function(t) {
            function e(i) { o(this, e); var n = a(this, t.call(this));
                n.app = i, n.ranking = [], n.scaleRatio = .8, n.blocked = !1, n.prevButton = new p["default"]("button_left.png"), n.prevButton.position.set(37.5, 100), n.prevButton.onPress.add(n.prevRegion, n), n.addChild(n.prevButton), n.nextButton = new p["default"]("button_right.png"), n.nextButton.position.set(37.5, 100), n.nextButton.onPress.add(n.nextRegion, n), n.addChild(n.nextButton), n.bg = l.Sprite.from("panel_leaderboard.png"), n.bg.anchor.set(.5, .5), n.addChild(n.bg), n.title = v["default"].h1(M.Translation.country_select_screen.title), n.title.anchor.set(.5, .5), n.addChild(n.title), n.regionTitle = v["default"].h1(""), n.regionTitle.anchor.set(.5, .5), n.regionTitle.position.set(0, -190), n.flagsMaskContainer = new l.Container; var r = new l.Graphics;
                n.bg.addChild(r), r.fillAlpha = 0, r.drawRect(-n.bg.width / 2 + 20, -n.bg.height / 2 + 20, n.bg.width - 40, n.bg.height - 40), n.flagsMask = r, n.bg.addChild(n.flagsMaskContainer), n.flagsFilter = new l.filters.BlurXFilter, n.flagsContainer = new l.Container, n.flagsMaskContainer.addChild(n.flagsContainer), n.mapContainer = new l.Container, n.mapContainer.x = 340, n.mapContainer.y = -195, n.bg.addChild(n.mapContainer); for (var s in M.Translation.regions) { var h = M.Translation.regions[s],
                        u = l.Sprite.from(h.MAP);
                    u.anchor.set(.5), u.position.set(h.MAP_X, h.MAP_Y), u.REGION_ID = h.REGION_ID, n.mapContainer.addChild(u) } return n.bg.addChild(n.regionTitle), n.buttonList = [], n.hoverDebounce = 0, n } return s(e, t), e.prototype.prevRegion = function() { if (!this.tween) { var t, e; for (var i in M.Translation.regions) { var n = M.Translation.regions[i]; if (n.REGION_ID === b["default"].region.REGION_ID) { if (t) { b["default"].region = t; break } e = !0 } t = n } e && (b["default"].region = n), this.flagsMaskContainer.mask = this.flagsMask, this.flagsContainer.filters = [this.flagsFilter]; var r = this.flagsContainer.position.x,
                        o = 1e3,
                        a = .25;
                    this.tween = TweenLite.to(this.flagsContainer.position, a, { x: r + o, onComplete: function() { this.updateCountries(), this.flagsContainer.x = r - o, TweenLite.to(this.flagsContainer.position, a, { x: r, ease: Quad.easeOut, onComplete: function() { this.tween = null, this.flagsMaskContainer.mask = null, this.flagsContainer.filters = [] }.bind(this) }) }.bind(this) }), TweenLite.to(this.regionTitle, a, { alpha: 0, onComplete: function() { TweenLite.to(this.regionTitle, a, { alpha: 1 }) }.bind(this) }) } }, e.prototype.nextRegion = function() { if (!this.tween) { var t = !1,
                        e = !1; for (var i in M.Translation.regions) { var n = M.Translation.regions[i]; if (e || (e = n), t) { b["default"].region = n, t = !1; break } n.REGION_ID === b["default"].region.REGION_ID && (t = !0) } t && (b["default"].region = e), this.flagsMaskContainer.mask = this.flagsMask; var r = this.flagsContainer.position.x,
                        o = 1e3,
                        a = .25;
                    this.tween = TweenLite.to(this.flagsContainer.position, a, { x: r - o, onComplete: function() { this.updateCountries(), this.flagsContainer.x = r + o, TweenLite.to(this.flagsContainer.position, a, { x: r, ease: Quad.easeOut, onComplete: function() { this.tween = null, this.flagsMaskContainer.mask = null, this.flagsContainer.filters = [] }.bind(this) }) }.bind(this) }), TweenLite.to(this.regionTitle, a, { alpha: 0, onComplete: function() { TweenLite.to(this.regionTitle, a, { alpha: 1 }) }.bind(this) }) } }, e.prototype.updateCountries = function() { this.flagsContainer.children.length = 0, this.countries = (0, M.getCountriesByRegion)(b["default"].region.REGION_ID), this.buttonList.length = 0; for (var t = 0; t < this.mapContainer.children.length; t++) { var e = this.mapContainer.children[t];
                    e.REGION_ID === b["default"].region.REGION_ID ? (e.scale.set(1.2), e.tint = 12747008, e.alpha = 1) : (e.scale.set(1), e.tint = 16777215, e.alpha = 1) } for (var i, n, r = 0, r = 0, o = 0, a = 6, s = 0, t = 0; t < this.countries.length; t++) { i = this.countries[t], n = c["default"].country(i.FLAG), n.silent = !0, n.icon.scale.set(.65), n.icon.y -= 27, n.background.blendMode = l.BLEND_MODES.MULTIPLY, n.background.alpha = .3; var h = l.Sprite.from("country_backer_2.png");
                    h.anchor.set(.5), n.background.addChild(h); var u = { fill: "black", fontSize: 20, fontFamily: "avenir", wordWrap: !0, wordWrapWidth: 130, align: "center", maxWidth: 120 }; "vi" === window.LANGUAGE && (u.maxHeight = 60, u.maxWidth = 150, u.wordWrapWidth = 150), "th" === window.LANGUAGE && (u.maxHeight = 60, u.maxWidth = 180, u.wordWrapWidth = 180); var d = new P["default"](i.NAME, u, (!0)); if (d.anchor.set(.5), d.position.set(0, 30), n.addChild(d), n.onHover2.add(this.onCountryButtonHover, this), n.onPress.add(this.onCountryButtonPressed, this), n.onMouseOut.add(this.onCountryButtonMouseOut, this), this.buttonList.push(n), s = 0, o = 0, a = 5, (t - s) % a === 0 && 0 !== t && r++, t > 9 && this.countries.length < 15 && this.countries.length > 1) { var p = 5 - this.countries.length % 5;
                        o = p * (n.width + S["default"].COUNTRY_SELECT.MARGIN) / 2 } n.position.x = (n.width + S["default"].COUNTRY_SELECT.MARGIN) * (t % a) + o, n.position.y = (120 + S["default"].COUNTRY_SELECT.MARGIN) * r, 1 === this.countries.length && (n.position.x = 2 * (n.width + S["default"].COUNTRY_SELECT.MARGIN), n.position.y = -140), n.id = i.ID, this.flagsContainer.addChild(n) } this.bgc = new l.Graphics, this.bgc.beginFill(4095 * Math.random()), this.bgc.drawRect(0, 0, this.flagsContainer.width, this.flagsContainer.height), this.flagsContainer.position.set(-422.5 + n.width / 2 - S["default"].COUNTRY_SELECT.MARGIN / 2, -this.flagsContainer.height / 2 + n.height / 2 - S["default"].COUNTRY_SELECT.MARGIN / 2), this.flagsContainer.position.y += 80, this.countryGroup = new m["default"](this.buttonList, 1), this.regionTitle.setText(b["default"].region.NAME) }, e.prototype.onCountryButtonPressed = function(t) { if ((t.selected || this.currentButton) && 0 == this.blocked) { var e = M.Translation.countries[t.id || this.currentButton.id];
                    this.blocked = !0, b["default"].countryID = e, this.app.breadcrumb.steps[0].updateTexture(e.FLAG), this.app.breadcrumb.currentStep = 0, this.app.breadcrumb.next() } }, e.prototype.updateTransform = function() { t.prototype.updateTransform.call(this), this.currentTime = Date.now() }, e.prototype.onCountryButtonHover = function(t) { this.currentButton === t && this.onCountryButtonPressed(t), w["default"].instance.isMobile && (this.currentButton = t), this.hoverDebounce++ }, e.prototype.onCountryButtonMouseOut = function(t) { this.hoverDebounce = 0 }, e.prototype.getRank = function(t) { var e = 0; for (var i in this.ranking)
                    if (Number(this.ranking[i].id) == t) return e = this.ranking[i].rank; return e }, e.prototype.onShow = function() { this.app.tournamentScreen.contentUpdated = !1, this.app.breadcrumb.visible = !0, b["default"].region || (b["default"].region = M.Translation.regions.AS), this.updateCountries(), this.blocked = !1, this.currentButton = null, this.app.breadcrumb.hidden && (this.app.breadcrumb.show(), this.app.breadcrumb.reset()), this.app.topMenu.prevScreen = S["default"].SCREEN_ID.TITLE, this.app.topMenu.nextScreen = S["default"].SCREEN_ID.CAPTAIN_SELECT, this.app.breadcrumb.steps[0].hasBeenActivate || (this.countryGroup.reset(), this.app.breadcrumb.steps[0].activate()), this.app.breadcrumb.maxStepIndexRiched < 1 ? this.app.topMenu.setState("prevsettings") : this.app.topMenu.setState("prevsettings"); for (var t = void 0, e = void 0, i = 0; i < this.app.stage.children.length; i++) { var n = this.app.stage.children[i]; "breabcrumb" === n.name && (t = n), "screenmanager" === n.name && (e = n) } this.app.stage.children[2] = e, this.app.stage.children[3] = t }, e.prototype.resize = function(t, e) { this.prevButton && (this.nextButton.x = t / 2 + 515, this.nextButton.y = e / 2, this.prevButton.x = t / 2 - 515, this.prevButton.y = e / 2), this.bg.position.set(t / 2, e / 2 - 20), this.title.position.y = this.bg.position.y - this.bg.height / 2 + S["default"].MARGIN.TITLE_TOP, this.title.position.x = t / 2 }, e }(l.Container);
    e["default"] = O, t.exports = e["default"] }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(13),
            a = function(t, e, i) { r.Container.call(this), this.buttonList = t, this.maxSelected = e, this.autoLock = i === !0, this.onUpdate = new o, this.selectedList = []; for (var n in this.buttonList) { var a = this.buttonList[n];
                    a.selected && this.selectedList.length < e && this.selectedList.push(a), a.onSelected.add(this.updateButtons, this) } };
        a.prototype = Object.create(r.Container.prototype), a.prototype.setLock = function(t) { for (var e in this.buttonList) { var i = this.buttonList[e];
                t === !1 && i.enabledInit === !0 ? i.enable() : i.selected === !1 && i.disable() } }, a.prototype.reset = function() { for (var t in this.buttonList) { var e = this.buttonList[t];
                e.selected === !0 && e._onDown() } }, a.prototype.updateButtons = function(t) { if (t.selected) { if (this.selectedList.length >= this.maxSelected) { var e = this.selectedList.shift();
                    e._onDown() } this.selectedList.push(t) } else { var i = this.selectedList.indexOf(t);
                i > -1 && this.selectedList.splice(i, 1) } this.autoLock && this.setLock(this.selectedList.length >= this.maxSelected), this.onUpdate.dispatch(this.selectedList.length >= this.maxSelected, t) }, n.exports = a }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n = (i(73), i(74)),
        r = function() { this.targetFile = "https://tooncup-global.teamgbaws.net/", window.URLParams.testdb && (this.targetFile = "http://tooncup-global-test.teamgbaws.net/"), this.hallOfFameUrl = "https://tooncup-global.teamgbaws.net/halloffame", this.sharedKey = null, this.lastEncryption = !1, this.defaultPerPage = 20, this.defaultPageNumber = 1, this.lastUpdate = null, this.TODAY = 0, this.THIS_WEEK = 1, this.TOURNAMENT = 2, this.HALL_OF_FAME = 3, this.clear() };
    r.prototype.clear = function() { this.cachedResults = { 0: null, 1: null, 2: null } }, r.prototype.setSharedKey = function(t) { this.sharedKey = t }, r.prototype.getScores = function(t, e, i, n) { var r = this.getRequest(),
            o = Date.now();
        (!this.lastUpdate || o - this.lastUpdate > 6e5) && (this.clear(), this.lastUpdate = o), this.cachedResults[t] && i ? e && e(this.cachedResults[t]) : (r.onload = function(i) { if (503 === r.status) return void("function" == typeof n && n(r)); try { var o = JSON.parse(r.response) } catch (i) { return void(e && e()) } this.cachedResults[t] = o.sort(function(t, e) { return e.total_points - t.total_points }), e && e(this.cachedResults[t]) }.bind(this), r.onerror = function() { "function" == typeof n && n(r) }, r.onreadystatechange = function(t) {}, t = t || this.TODAY, t === this.HALL_OF_FAME ? r.open("GET", this.hallOfFameUrl, !0) : r.open("GET", this.targetFile + "getScores?period=" + t + "&qatar=true&ecuador=true", !0), r.send()) }, r.prototype.startGame = function(t, e, i) { var r = this.getRequest();
        r.onload = function(t) { if (i) { try { var e = JSON.parse(r.response) } catch (t) { return } i(e) } }.bind(this), r.onreadystatechange = function(t) {}; var o = { userCountryId: t, opponentCountryId: e },
            a = n.Ctr.encrypt(JSON.stringify(o), "S0Bwt275r192B1rPOokA8hu3EWoUHzNsFaYypUyU0BE", 256);
        r.open("POST", this.targetFile + "start", !0), r.setRequestHeader("Content-type", "application/x-www-form-urlencoded"), r.send("val=" + a) }, r.prototype.sendScore = function(t, e, i) { var r = this.getRequest();
        r.onload = function(t) { i && i(JSON.parse(r.response)) }.bind(this), r.onreadystatechange = function(t) {}; var o = { key: t, resultMultiplier: e },
            a = n.Ctr.encrypt(JSON.stringify(o), "S0Bwt275r192B1rPOokA8hu3EWoUHzNsFaYypUyU0BE", 256);
        r.open("POST", this.targetFile + "scrsvc", !0), r.setRequestHeader("Content-type", "application/x-www-form-urlencoded"), r.send("val=" + a) }, r.prototype.getRequest = function() { var t; return window.XDomainRequest && this.crossdomain ? (t = new window.XDomainRequest, t.timeout = 3e3, t.onerror = function() {}, t.ontimeout = function() {}, t.onprogress = function() {}) : window.XMLHttpRequest && (t = new window.XMLHttpRequest), t }, t.exports = new r }, function(module, exports, __webpack_require__) { var __WEBPACK_AMD_DEFINE_FACTORY__, __WEBPACK_AMD_DEFINE_RESULT__;! function(t) { __WEBPACK_AMD_DEFINE_FACTORY__ = t, __WEBPACK_AMD_DEFINE_RESULT__ = "function" == typeof __WEBPACK_AMD_DEFINE_FACTORY__ ? __WEBPACK_AMD_DEFINE_FACTORY__.call(exports, __webpack_require__, exports, module) : __WEBPACK_AMD_DEFINE_FACTORY__, !(void 0 !== __WEBPACK_AMD_DEFINE_RESULT__ && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__)) }(function() { var win = window,
            limit = null,
            requests = 0,
            request_stack = [],
            getXHR = function() { return win.XMLHttpRequest ? new XMLHttpRequest : new ActiveXObject("Microsoft.XMLHTTP") },
            version2 = "" === getXHR().responseType,
            qwest = function(method, url, data, options, before) { data = data || null, options = options || {}; var typeSupported = !1,
                    xhr = getXHR(),
                    async = void 0 === options.async || !!options.async, cache = options.cache, type = options.type ? options.type.toLowerCase() : "json", user = options.user || "", password = options.password || "", headers = { "X-Requested-With": "XMLHttpRequest" }, accepts = { xml: "application/xml, text/xml", html: "text/html", json: "application/json, text/javascript", js: "application/javascript, text/javascript" }, toUpper = function(t, e, i) { return e + i.toUpperCase() }, vars = "", i, j, parseError = "parseError", serialized, success_stack = [], error_stack = [], complete_stack = [], response, success, error, func, promises = { success: function(t) { return async ?success_stack.push(t): success && t.apply(xhr, [response]), promises }, error: function(t) { return async ?error_stack.push(t): error && t.apply(xhr, [response]), promises }, complete: function(t) { return async ?complete_stack.push(t): t.apply(xhr), promises } }, promises_limit = { success: function(t) { return request_stack[request_stack.length - 1].success.push(t), promises_limit }, error: function(t) { return request_stack[request_stack.length - 1].error.push(t), promises_limit }, complete: function(t) { return request_stack[request_stack.length - 1].complete.push(t), promises_limit } }, handleResponse = function() { var i, req, p; if (--requests, request_stack.length) { for (req = request_stack.shift(), p = qwest(req.method, req.url, req.data, req.options, req.before), i = 0; func = req.success[i]; ++i) p.success(func); for (i = 0; func = req.error[i]; ++i) p.error(func); for (i = 0; func = req.complete[i]; ++i) p.complete(func) } try { if (!/^2/.test(xhr.status)) throw xhr.status + " (" + xhr.statusText + ")"; var responseText = "responseText",
                                responseXML = "responseXML"; if (typeSupported && void 0 !== xhr.response) response = xhr.response;
                            else switch (type) {
                                case "json":
                                    try { response = win.JSON ? win.JSON.parse(xhr[responseText]) : eval("(" + xhr[responseText] + ")") } catch (e) { throw "Error while parsing JSON body" } break;
                                case "js":
                                    response = eval(xhr[responseText]); break;
                                case "xml":
                                    if (!xhr[responseXML] || xhr[responseXML][parseError] && xhr[responseXML][parseError].errorCode && xhr[responseXML][parseError].reason) throw "Error while parsing XML body";
                                    response = xhr[responseXML]; break;
                                default:
                                    response = xhr[responseText] }
                            if (success = !0, async)
                                for (i = 0; func = success_stack[i]; ++i) func.apply(xhr, [response]) } catch (e) { if (error = !0, response = "Request to '" + url + "' aborted: " + e, async)
                                for (i = 0; func = error_stack[i]; ++i) func.apply(xhr, [response]) } if (async)
                            for (i = 0; func = complete_stack[i]; ++i) func.apply(xhr) }; if (limit && requests == limit) return request_stack.push({ method: method, url: url, data: data, options: options, before: before, success: [], error: [], complete: [] }), promises_limit; if (++requests, win.ArrayBuffer && (data instanceof ArrayBuffer || data instanceof Blob || data instanceof Document || data instanceof FormData)) "GET" == method && (data = null);
                else { var values = [],
                        enc = encodeURIComponent; for (i in data) void 0 !== data[i] && values.push(enc(i) + (data[i].pop ? "[]" : "") + "=" + enc(data[i]));
                    data = values.join("&"), serialized = !0 } if ("GET" == method && (vars += data), null == cache && (cache = "POST" == method), cache || (vars && (vars += "&"), vars += "__t=" + Date.now()), vars && (url += (/\?/.test(url) ? "&" : "?") + vars), xhr.open(method, url, async, user, password), type && version2) try { xhr.responseType = type, typeSupported = xhr.responseType == type } catch (e) {} version2 ? xhr.onload = handleResponse : xhr.onreadystatechange = function() { 4 == xhr.readyState && handleResponse() }; for (i in headers) j = i.replace(/(^|-)([^-])/g, toUpper), headers[j] = headers[i], delete headers[i], xhr.setRequestHeader(j, headers[j]); return !headers["Content-Type"] && serialized && "POST" == method && xhr.setRequestHeader("Content-Type", "application/x-www-form-urlencoded"), headers.Accept || xhr.setRequestHeader("Accept", accepts[type]), before && before.apply(xhr), xhr.send("POST" == method ? data : null), promises }; return { get: function(t, e, i, n) { return qwest("GET", t, e, i, n) }, post: function(t, e, i, n) { return qwest("POST", t, e, i, n) }, xhr2: version2, limit: function(t) { limit = t } } }()) }, function(t, e) { var i = {};
    i.cipher = function(t, e) { for (var n = 4, r = e.length / n - 1, o = [
                [],
                [],
                [],
                []
            ], a = 0; a < 4 * n; a++) o[a % 4][Math.floor(a / 4)] = t[a];
        o = i.addRoundKey(o, e, 0, n); for (var s = 1; s < r; s++) o = i.subBytes(o, n), o = i.shiftRows(o, n), o = i.mixColumns(o, n), o = i.addRoundKey(o, e, s, n);
        o = i.subBytes(o, n), o = i.shiftRows(o, n), o = i.addRoundKey(o, e, r, n); for (var h = new Array(4 * n), a = 0; a < 4 * n; a++) h[a] = o[a % 4][Math.floor(a / 4)]; return h }, i.keyExpansion = function(t) { for (var e = 4, n = t.length / 4, r = n + 6, o = new Array(e * (r + 1)), a = new Array(4), s = 0; s < n; s++) { var h = [t[4 * s], t[4 * s + 1], t[4 * s + 2], t[4 * s + 3]];
            o[s] = h } for (var s = n; s < e * (r + 1); s++) { o[s] = new Array(4); for (var l = 0; l < 4; l++) a[l] = o[s - 1][l]; if (s % n == 0) { a = i.subWord(i.rotWord(a)); for (var l = 0; l < 4; l++) a[l] ^= i.rCon[s / n][l] } else n > 6 && s % n == 4 && (a = i.subWord(a)); for (var l = 0; l < 4; l++) o[s][l] = o[s - n][l] ^ a[l] } return o }, i.subBytes = function(t, e) { for (var n = 0; n < 4; n++)
            for (var r = 0; r < e; r++) t[n][r] = i.sBox[t[n][r]]; return t }, i.shiftRows = function(t, e) { for (var i = new Array(4), n = 1; n < 4; n++) { for (var r = 0; r < 4; r++) i[r] = t[n][(r + n) % e]; for (var r = 0; r < 4; r++) t[n][r] = i[r] } return t }, i.mixColumns = function(t, e) { for (var i = 0; i < 4; i++) { for (var n = new Array(4), r = new Array(4), o = 0; o < 4; o++) n[o] = t[o][i], r[o] = 128 & t[o][i] ? t[o][i] << 1 ^ 283 : t[o][i] << 1;
            t[0][i] = r[0] ^ n[1] ^ r[1] ^ n[2] ^ n[3], t[1][i] = n[0] ^ r[1] ^ n[2] ^ r[2] ^ n[3], t[2][i] = n[0] ^ n[1] ^ r[2] ^ n[3] ^ r[3], t[3][i] = n[0] ^ r[0] ^ n[1] ^ n[2] ^ r[3] } return t }, i.addRoundKey = function(t, e, i, n) { for (var r = 0; r < 4; r++)
            for (var o = 0; o < n; o++) t[r][o] ^= e[4 * i + o][r]; return t }, i.subWord = function(t) { for (var e = 0; e < 4; e++) t[e] = i.sBox[t[e]]; return t }, i.rotWord = function(t) { for (var e = t[0], i = 0; i < 3; i++) t[i] = t[i + 1]; return t[3] = e, t }, i.sBox = [99, 124, 119, 123, 242, 107, 111, 197, 48, 1, 103, 43, 254, 215, 171, 118, 202, 130, 201, 125, 250, 89, 71, 240, 173, 212, 162, 175, 156, 164, 114, 192, 183, 253, 147, 38, 54, 63, 247, 204, 52, 165, 229, 241, 113, 216, 49, 21, 4, 199, 35, 195, 24, 150, 5, 154, 7, 18, 128, 226, 235, 39, 178, 117, 9, 131, 44, 26, 27, 110, 90, 160, 82, 59, 214, 179, 41, 227, 47, 132, 83, 209, 0, 237, 32, 252, 177, 91, 106, 203, 190, 57, 74, 76, 88, 207, 208, 239, 170, 251, 67, 77, 51, 133, 69, 249, 2, 127, 80, 60, 159, 168, 81, 163, 64, 143, 146, 157, 56, 245, 188, 182, 218, 33, 16, 255, 243, 210, 205, 12, 19, 236, 95, 151, 68, 23, 196, 167, 126, 61, 100, 93, 25, 115, 96, 129, 79, 220, 34, 42, 144, 136, 70, 238, 184, 20, 222, 94, 11, 219, 224, 50, 58, 10, 73, 6, 36, 92, 194, 211, 172, 98, 145, 149, 228, 121, 231, 200, 55, 109, 141, 213, 78, 169, 108, 86, 244, 234, 101, 122, 174, 8, 186, 120, 37, 46, 28, 166, 180, 198, 232, 221, 116, 31, 75, 189, 139, 138, 112, 62, 181, 102, 72, 3, 246, 14, 97, 53, 87, 185, 134, 193, 29, 158, 225, 248, 152, 17, 105, 217, 142, 148, 155, 30, 135, 233, 206, 85, 40, 223, 140, 161, 137, 13, 191, 230, 66, 104, 65, 153, 45, 15, 176, 84, 187, 22], i.rCon = [
        [0, 0, 0, 0],
        [1, 0, 0, 0],
        [2, 0, 0, 0],
        [4, 0, 0, 0],
        [8, 0, 0, 0],
        [16, 0, 0, 0],
        [32, 0, 0, 0],
        [64, 0, 0, 0],
        [128, 0, 0, 0],
        [27, 0, 0, 0],
        [54, 0, 0, 0]
    ], i.Ctr = {}, i.Ctr.encrypt = function(t, e, o) { var a = 16; if (128 != o && 192 != o && 256 != o) return "";
        t = r.encode(t), e = r.encode(e); for (var s = o / 8, h = new Array(s), l = 0; l < s; l++) h[l] = isNaN(e.charCodeAt(l)) ? 0 : e.charCodeAt(l); var u = i.cipher(h, i.keyExpansion(h));
        u = u.concat(u.slice(0, s - 16)); for (var c = new Array(a), d = (new Date).getTime(), p = d % 1e3, f = Math.floor(d / 1e3), m = Math.floor(65535 * Math.random()), l = 0; l < 2; l++) c[l] = p >>> 8 * l & 255; for (var l = 0; l < 2; l++) c[l + 2] = m >>> 8 * l & 255; for (var l = 0; l < 4; l++) c[l + 4] = f >>> 8 * l & 255; for (var g = "", l = 0; l < 8; l++) g += String.fromCharCode(c[l]); for (var v = i.keyExpansion(u), y = Math.ceil(t.length / a), _ = new Array(y), b = 0; b < y; b++) { for (var x = 0; x < 4; x++) c[15 - x] = b >>> 8 * x & 255; for (var x = 0; x < 4; x++) c[15 - x - 4] = b / 4294967296 >>> 8 * x; for (var w = i.cipher(c, v), T = b < y - 1 ? a : (t.length - 1) % a + 1, S = new Array(T), l = 0; l < T; l++) S[l] = w[l] ^ t.charCodeAt(b * a + l), S[l] = String.fromCharCode(S[l]);
            _[b] = S.join("") } var M = g + _.join(""); return M = n.encode(M) }, i.Ctr.decrypt = function(t, e, o) { var a = 16; if (128 != o && 192 != o && 256 != o) return "";
        t = n.decode(t), e = r.encode(e); for (var s = o / 8, h = new Array(s), l = 0; l < s; l++) h[l] = isNaN(e.charCodeAt(l)) ? 0 : e.charCodeAt(l); var u = i.cipher(h, i.keyExpansion(h));
        u = u.concat(u.slice(0, s - 16)); var c = new Array(8);
        ctrTxt = t.slice(0, 8); for (var l = 0; l < 8; l++) c[l] = ctrTxt.charCodeAt(l); for (var d = i.keyExpansion(u), p = Math.ceil((t.length - 8) / a), f = new Array(p), m = 0; m < p; m++) f[m] = t.slice(8 + m * a, 8 + m * a + a);
        t = f; for (var g = new Array(t.length), m = 0; m < p; m++) { for (var v = 0; v < 4; v++) c[15 - v] = m >>> 8 * v & 255; for (var v = 0; v < 4; v++) c[15 - v - 4] = (m + 1) / 4294967296 - 1 >>> 8 * v & 255; for (var y = i.cipher(c, d), _ = new Array(t[m].length), l = 0; l < t[m].length; l++) _[l] = y[l] ^ t[m].charCodeAt(l), _[l] = String.fromCharCode(_[l]);
            g[m] = _.join("") } var b = g.join(""); return b = r.decode(b) }; var n = {};
    n.code = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=", n.encode = function(t, e) { e = "undefined" != typeof e && e; var i, r, o, a, s, h, l, u, c, d, p, f = [],
            m = "",
            g = n.code; if (d = e ? t.encodeUTF8() : t, c = d.length % 3, c > 0)
            for (; c++ < 3;) m += "=", d += "\0"; for (c = 0; c < d.length; c += 3) i = d.charCodeAt(c), r = d.charCodeAt(c + 1), o = d.charCodeAt(c + 2), a = i << 16 | r << 8 | o, s = a >> 18 & 63, h = a >> 12 & 63, l = a >> 6 & 63, u = 63 & a, f[c / 3] = g.charAt(s) + g.charAt(h) + g.charAt(l) + g.charAt(u); return p = f.join(""), p = p.slice(0, p.length - m.length) + m }, n.decode = function(t, e) { e = "undefined" != typeof e && e; var i, r, o, a, s, h, l, u, c, d, p = [],
            f = n.code;
        d = e ? t.decodeUTF8() : t; for (var m = 0; m < d.length; m += 4) a = f.indexOf(d.charAt(m)), s = f.indexOf(d.charAt(m + 1)), h = f.indexOf(d.charAt(m + 2)), l = f.indexOf(d.charAt(m + 3)), u = a << 18 | s << 12 | h << 6 | l, i = u >>> 16 & 255, r = u >>> 8 & 255, o = 255 & u, p[m / 4] = String.fromCharCode(i, r, o), 64 == l && (p[m / 4] = String.fromCharCode(i, r)), 64 == h && (p[m / 4] = String.fromCharCode(i)); return c = p.join(""), e ? c.decodeUTF8() : c }; var r = {};
    r.encode = function(t) { var e = t.replace(/[\u0080-\u07ff]/g, function(t) { var e = t.charCodeAt(0); return String.fromCharCode(192 | e >> 6, 128 | 63 & e) }); return e = e.replace(/[\u0800-\uffff]/g, function(t) { var e = t.charCodeAt(0); return String.fromCharCode(224 | e >> 12, 128 | e >> 6 & 63, 128 | 63 & e) }) }, r.decode = function(t) { var e = t.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g, function(t) { var e = (15 & t.charCodeAt(0)) << 12 | (63 & t.charCodeAt(1)) << 6 | 63 & t.charCodeAt(2); return String.fromCharCode(e) }); return e = e.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g, function(t) { var e = (31 & t.charCodeAt(0)) << 6 | 63 & t.charCodeAt(1); return String.fromCharCode(e) }) }, t.exports = i }, function(t, e, i) { "use strict";

    function n(t) { return t && t.__esModule ? t : { "default": t } }

    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } e.__esModule = !0; var s = i(76),
        h = n(s),
        l = i(48),
        u = n(l),
        c = i(49),
        d = (i(35), i(32)),
        p = n(d),
        f = function(t) {
            function e(i) { r(this, e); var n = o(this, t.call(this, i)); return n.setPlayers((0, c.getCaptains)()), n.gameSessionPlayerToSet = u["default"].teamA[0], n.title.setText("STR_CAPTAIN_SELECT_TITLE", !0), n.captain = !0, n } return a(e, t), e.prototype.updateCharaterGameSession = function(t) { u["default"].teamA[0] = t.data, u["default"].teamA[0].index = t.index }, e.prototype.onShow = function() { t.prototype.onShow.call(this), this.app.captainSelectScreen.playerCardSelected = null, this.app.playerSelectScreen.playerCardSelected = null, this.app.playerSelectScreen2.playerCardSelected = null, this.app.captainSelectScreen.offset = 0, this.app.playerSelectScreen.offset = 0, this.app.playerSelectScreen2.offset = 0; for (var e in c.CharacterData) c.CharacterData[e].selected = !1; for (var i = 0; i < this.cards.length; i++) this.cards[i].unselect(), this.cards[i].data && (this.cards[i].data.selected = !1); for (var i = 0; i < this.app.playerSelectScreen.cards.length; i++) this.app.playerSelectScreen.cards[i].unselect(); for (var i = 0; i < this.app.playerSelectScreen2.cards.length; i++) this.app.playerSelectScreen2.cards[i].unselect();
                this.app.breadcrumb.steps[this.app.breadcrumb.currentStep].hasBeenActivate || (this.playerCardSelected = null, u["default"].teamA[0] && (u["default"].teamA[0].selected = !1)), u["default"].teamA[1] = null, u["default"].teamA[2] = null, this.app.topMenu.prevScreen = p["default"].SCREEN_ID.COUNTRY_SELECT, this.app.topMenu.nextScreen = p["default"].SCREEN_ID.PLAYER_SELECT, this.app.breadcrumb.maxStepIndexRiched < 2 ? this.app.topMenu.setState("prevsettings") : this.app.topMenu.setState("prevsettings") }, e.prototype.onShown = function() { if (u["default"].unlocked.length > 0)
                    for (var t = u["default"].unlocked[u["default"].unlocked.length - 1], e = 0; e < this.cards.length; e++) { var i = this.cards[e]; if (i.data && i.data.id === t) { this.onItemDown(this.cards[e], !0), i.shine(); break } } }, e }(h["default"]);
    e["default"] = f, t.exports = e["default"] }, function(t, e, i) {
    "use strict";

    function n(t) { return t && t.__esModule ? t : { "default": t } }

    function r(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

    function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

    function a(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

    function s(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }

    function h(t, e) { return t.depth - e.depth } e.__esModule = !0;
    var l = i(8),
        u = r(l),
        c = i(41),
        d = (n(c), i(37)),
        p = n(d),
        f = i(42),
        m = n(f),
        g = i(71),
        v = (n(g), i(36)),
        y = (n(v), i(77)),
        _ = (n(y), i(48)),
        b = n(_),
        x = i(22),
        w = n(x),
        T = i(32),
        S = n(T),
        M = (i(35), i(58)),
        E = (n(M), i(78)),
        A = n(E),
        C = i(60),
        R = n(C),
        P = i(49),
        O = i(56),
        L = n(O),
        I = i(59),
        D = n(I),
        k = i(30),
        B = n(k),
        N = i(43),
        F = n(N),
        U = i(67),
        G = function(t) {
            function e(i) { o(this, e); var n = a(this, t.call(this));
                n.app = i, n.trackpad = new U({ target: n }), n.trackpad.snapTo = !0, n.trackpad.scrollMax = 1 / 0, n.trackpad.capMovement = !1, n.trackpad.size = S["default"].PLAYER_CARD.WIDTH + S["default"].PLAYER_CARD.SPACING, n.trackpad.maxSlots = 1 / 0, n.trackpad.spring.springiness = .01, n._onKeyDown = n.onKeyDown.bind(n), n.transition = new D["default"](n.app), n.title = L["default"].h1("", "white"), n.title.anchor.set(.5), n.addChild(n.title), n.playersContainer = new u.Container, n.addChild(n.playersContainer), n.playersData = [], w["default"].instance.isMobile || (n.prevButton = new p["default"]("button_card_left.png"), n.prevButton.position.set(37.5, 100), n.prevButton.onPress.add(n.prev, n), n.addChild(n.prevButton), n.nextButton = new p["default"]("button_card_right.png"), n.nextButton.position.set(37.5, 100), n.nextButton.onPress.add(n.next, n), n.addChild(n.nextButton)), n.lockedPopup = new u.Container; var r = u.Sprite.from("panel_language.png");
                r.anchor.set(.5), n.lockedPopup.addChild(r), n.addChild(n.lockedPopup); var s = new F["default"]("STR_PLAYER_LOCKED_TITLE", { fill: "#493008", fontSize: 36, fontFamily: window.MAIN_FONT, maxWidth: 400 });
                s.anchor.set(.5), s.x = 0, s.y = -158, n.lockedPopup.addChild(s); var h = new F["default"]("STR_PLAYER_LOCKED_TEXT", { fill: "#493008", fontSize: 32, fontFamily: "avenir", wordWrap: !0, wordWrapWidth: 360, align: "center", breakWords: !0 });
                h.anchor.set(.5), h.y = -20, n.lockedPopup.addChild(h); var l = new m["default"]("button_blue_long.png", null, null, "STR_TITLE_UNLOCKABLES", 1.1, null, null, null, 320);
                l.defaultScale = 1, l.y = 120, l.onPress.add(n.gotoUnlockables, n), n.lockedPopup.addChild(l); var c = new p["default"]("button_close.png", null, null, null, 1.1); return c.defaultScale = 1, c.x = r.width / 2 - c.width / 2, c.y = -r.height / 2 + c.height / 2, c.onPress.add(n.hidePopup, n), n.lockedPopup.addChild(c), n.lockedPopup.visible = !1, n }
            return s(e, t), e.prototype.gotoUnlockables = function() { this.hidePopup(), this.app.topMenu.prevScreen = S["default"].SCREEN_ID[this.app.screenManager.currentScreen.id], window.unlockablesPrevScreen = S["default"].SCREEN_ID[this.app.screenManager.currentScreen.id], this.app.screenManager.gotoScreenByID(S["default"].SCREEN_ID.UNLOCKABLES), this.app.breadcrumb.visible = !1, this.app.breadcrumb.hidden = !0 }, e.prototype.showPopup = function(t) { this.lockedPopup.visible || (b["default"].unlockableToShow = t, this.lockedPopup.visible = !0, this.lockedPopup.scale.set(.8), TweenLite.to(this.lockedPopup.scale, .8, { x: 1, y: 1, ease: Elastic.easeOut }), this.trackpad.locked = !0) }, e.prototype.hidePopup = function() { this.trackpad.locked = !1, this.lockedPopup.visible = !1 }, e.prototype.setPlayers = function(t) { this.playersData = t, this.playerCardSelected = null, this.init() }, e.prototype.init = function() { this.cards = [], this.offset = 0, this.numberOfCards = 7, this.slider = new A["default"]({ itemLength: this.playersData.length, currentItem: 0 }), this.slider.prev.add(this.prev.bind(this)), this.slider.next.add(this.next.bind(this)); for (var t = 0; t < this.numberOfCards; t++) { var e = new R["default"](this.app);
                    e.index = t, e.onDown.add(this.onItemDown, this, e), this.playersContainer.addChild(e), this.cards.push(e) } this.playersContainer.position.x = S["default"].PLAYER_CARD.WIDTH - S["default"].PLAYER_CARD.SPACING - S["default"].PLAYER_CARD.OFFSET, this.playersContainer.position.x += 2 * S["default"].PLAYER_CARD.PADDING; var i = S["default"].PLAYER_CARD.WIDTH - S["default"].PLAYER_CARD.SPACING;
                this.pcOffset = S["default"].PLAYER_CARD.OFFSET / 2 + i / 2 + i / 4 + 2.5 }, e.prototype.updateTransform = function() {
                t.prototype.updateTransform.call(this), this.trackpad.update();
                for (var e = S["default"].PLAYER_CARD.WIDTH + S["default"].PLAYER_CARD.SPACING, i = this.numberOfCards * e, n = 0; n < this.numberOfCards; n++) {
                    this.cards[n].position.x = n * e + this.trackpad.value + this.offset;
                    var r = Math.floor((this.cards[n].position.x + e / 2) / i);
                    if (r *= this.numberOfCards, r *= -1, r += n, r != this.cards[n].id) { this.cards[n].id = r; var o = r % this.playersData.length;
                        o < 0 && (o += this.playersData.length), this.cards[n].update(this.playersData[o], o) } this.cards[n].position.x %= i, this.cards[n].position.x < 0 && (this.cards[n].position.x += i), this.cards[n].position.x -= e, this.cards[n].position.x > this.w && (this.cards[n].position.x += i), this.cards[n].position.x -= e;
                    var a = 2 * ((this.cards[n].position.x + this.pcOffset) / 1136 - .5);
                    this.cards[n].z = a, this.cards[n].depth = 2 - Math.abs(a);
                    var s = 1 - Math.sin(.3 * Math.abs(a));
                    s = Math.max(.8, s), this.cards[n].scale.x = s, this.cards[n].scale.y = s;
                    var l = Math.sin(1 * Math.abs(a));
                    l = Math.min(.5, l), this.cards[n].dimmer.alpha = l
                }
                this.playersContainer.children.sort(h)
            }, e.prototype.onItemDown = function(t, e) { var i = this; if (!this.lockedPopup.visible && !this.trackpad.didMove) { var n = !1; if (t.z < .1 && t.z > -.1 && (n = !0), this.slider.currentItem = this.slider.currentItem + (t.position.x / (S["default"].PLAYER_CARD.WIDTH + S["default"].PLAYER_CARD.SPACING) - 1), e) return void(this.offset = this.offset - (t.position.x / (S["default"].PLAYER_CARD.WIDTH + S["default"].PLAYER_CARD.SPACING) - 1) * (S["default"].PLAYER_CARD.WIDTH + S["default"].PLAYER_CARD.SPACING)); var r = .2; if (TweenLite.to(t.container.scale, r, { x: .9, y: .9, ease: Expo.easeOut }), TweenLite.to(t.container.scale, .8, { x: 1, y: 1, delay: r, ease: Elastic.easeOut }), TweenLite.to(this, .3, { offset: this.offset - (t.position.x / (S["default"].PLAYER_CARD.WIDTH + S["default"].PLAYER_CARD.SPACING) - 1) * (S["default"].PLAYER_CARD.WIDTH + S["default"].PLAYER_CARD.SPACING) }), n) { if (t.data.locked && b["default"].unlocked.indexOf(t.data.id) === -1) return void this.showPopup(t.data.id); if (t.data.selected) { B["default"].sfx.play("cantselect"); for (var o = 7, a = .1, s = 1; s < o; s++) { var h = s % 2 == 0 ? -1 : 1;
                                TweenLite.to(t.container.position, a, { x: 50 * h, delay: a * s }) } TweenLite.to(t.container.position, a, { x: 0, delay: a * o, onComplete: function() {} }) } else B["default"].sfx.play("button_press"), this.selectPlayer(t), setTimeout(function() { i.app.breadcrumb.currentItem.update(t.data, t.orange), i.app.breadcrumb.next() }, 300), this.app.topMenu.disablePrev = !0, this.updateCharaterGameSession(t) } } }, e.prototype.selectPlayer = function(t, e) { if (this.playerCardSelected) { for (var i = 0; i < this.cards.length; i++) this.cards[i].unselect();
                    P.CharacterData[this.playerCardSelected.data.id].selected = !1 } this.playerCardSelected = t, this.playerCardSelected.select(), P.CharacterData[this.playerCardSelected.data.id].selected = !0 }, e.prototype.updateCharaterGameSession = function(t) {}, e.prototype.prev = function() { for (var t = 0; t < this.cards.length; t++) { var e = this.cards[t]; if (e.z < .1 && e.z > -.1) return void(this.cards[t - 1] ? this.onItemDown(this.cards[t - 1]) : this.onItemDown(this.cards[this.cards.length - 1])) } }, e.prototype.next = function() { for (var t = 0; t < this.cards.length; t++) { var e = this.cards[t]; if (e.z < .1 && e.z > -.1) return void(this.cards[t + 1] ? this.onItemDown(this.cards[t + 1]) : this.onItemDown(this.cards[0])) } }, e.prototype.beforeShow = function(t) { this.slider.on(); for (var e = 0; e < this.cards.length; e++) this.cards[e].data && this.cards[e].data.selected && this.playerCardSelected !== this.cards[e] ? this.cards[e].select() : this.cards[e].unselect() }, e.prototype.onShow = function() { this.hidePopup(), this.trackpad.locked = !1, this.trackpad.onUp(), this.app.breadcrumb.visible = !0, this.app.breadcrumb.hidden = !1, this.slider.on(), window.addEventListener("keydown", this._onKeyDown); for (var t, e, i = 0; i < this.app.stage.children.length; i++) { var n = this.app.stage.children[i]; "breabcrumb" === n.name && (t = n), "screenmanager" === n.name && (e = n) } for (var i = 0; i < this.cards.length; i++) this.cards[i].checkHide = !0, this.cards[i].container.scale.set(0), TweenLite.to(this.cards[i].container.scale, 1, { x: w["default"].instance.isMobile ? .9 : 1, y: w["default"].instance.isMobile ? .9 : 1, ease: Elastic.easeOut, delay: .2 }), this.cards[i].data && this.cards[i].update(this.cards[i].data); if (this.title.scale.set(0), TweenLite.to(this.title.scale, 1, { x: 1, y: 1, ease: Elastic.easeOut, delay: .2 }), this.app.stage.children[2] = e, this.app.stage.children[3] = t, this.captain) this.trackpad.setSlot(24, !0);
                else
                    for (var i = 0; i < this.numberOfCards; i++) { var r = (this.cards[i], this.first ? 0 : 1); if (i === b["default"].teamA[r].index) { var o = S["default"].PLAYER_CARD.WIDTH + S["default"].PLAYER_CARD.SPACING;
                            this.offset = -(i + this.numberOfCards - 2) * o; break } } }, e.prototype.onKeyDown = function(t) { if (32 === t.keyCode || 13 === t.keyCode)
                    for (var e = 0; e < this.cards.length; e++) 0 === Math.round(this.cards[e].z) && this.onItemDown(this.cards[e]) }, e.prototype.onShown = function() {}, e.prototype.onHide = function() { this.slider.off(), window.removeEventListener("keydown", this._onKeyDown), this.app.topMenu.disablePrev = !1 }, e.prototype.resize = function(t, e) { var i = this.app.screenManager.container.x / this.app.screenManager.container.scale.x;
                this.app.screenManager.container.y / this.app.screenManager.container.scale.y;
                this.prevButton && (this.nextButton.x = t + i - this.nextButton.width / 2, this.prevButton.x = -i + this.nextButton.width / 2, this.prevButton.y = e / 2, this.nextButton.y = e / 2), this.lockedPopup.position.x = t / 2, this.lockedPopup.position.y = e / 2, this.playersContainer.position.y = e / 2 - 20 - 50, this.title.position.y = e / 2 - 350 + S["default"].MARGIN.TITLE_TOP - 90, this.title.position.x = t / 2 }, e
        }(u.Container);
    e["default"] = G, t.exports = e["default"]
}, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(37),
            a = i(61),
            s = i(13),
            h = function() { r.Container.call(this), this.data = null, this.onRemoved = new s, this.bg = r.Sprite.fromFrame("placeholder-player-circle.png"), this.bg.anchor.set(.5, .5), this.addChild(this.bg), this.profile = new r.Container, this.profile.item = null, this.addChild(this.profile); var t = (new r.Graphics).beginFill(16711680).drawCircle(0, 0, 32).endFill();
                this.addChild(t), this.profile.mask = t, this.removeButton = new o("close-player-selected.png"), this.removeButton.alpha = 0, this.removeButton.onPress.add(this.onRemoveButtonPressed, this), this.addChild(this.removeButton); var e = new r.Point(10, 3),
                    i = new r.Point(74, 0);
                this.skillBar = new a.skill, this.skillBar.position.set(i.x + e.x, i.y), this.addChild(this.skillBar), this.powerBar = new a.power, this.powerBar.position.set(i.x + e.x, i.y + e.y + this.skillBar.height + this.skillBar.y), this.addChild(this.powerBar), this.speedBar = new a.speed, this.speedBar.position.set(i.x + e.x, i.y + e.y + this.powerBar.height + this.powerBar.y), this.addChild(this.speedBar), this.bg.position.set(this.bg.width / 2, (this.speedBar.height + this.speedBar.y) / 2), this.profile.position.set(this.bg.position.x, this.bg.position.y), this.removeButton.position.set(this.bg.x + 15, this.bg.y + 30), t.position.set(this.bg.position.x, this.bg.position.y) };
        h.prototype = Object.create(r.Container.prototype), h.prototype.setData = function(t) { this.data = "undefined" != typeof t ? t : null, this.showData(this.data) }, h.prototype.showData = function(t) { "undefined" != typeof t && null !== t ? (this.setProfile(t.profile), this.skillBar.setData(2 * t.skill), this.powerBar.setData(2 * t.power), this.speedBar.setData(2 * t.speed)) : (this.setProfile(), this.skillBar.setData(), this.powerBar.setData(), this.speedBar.setData()) }, h.prototype.setProfile = function(t) { var e = "undefined" != typeof t && null !== t;!e && this.profile.item && (TweenLite.killTweensOf(this.profile.item.scale), this.profile.removeChild(this.profile.item), this.profile.item = null), e && (this.profile.item ? this.profile.item.texture = r.Texture.fromFrame(t) : (this.profile.item = r.Sprite.fromFrame(t), this.profile.item.anchor.set(.5), this.profile.item.scale.set(0), this.profile.addChild(this.profile.item), TweenLite.to(this.profile.item.scale, 1, { x: 1, y: 1, ease: Elastic.easeOut, delay: .2 }))), TweenLite.to(this.removeButton, .25, { alpha: e ? 1 : 0, ease: Linear.None }) }, h.prototype.onRemoveButtonPressed = function() { this.onRemoved.dispatch(this.data) }, n.exports = h }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { "use strict";

    function n(t) { return t && t.__esModule ? t : { "default": t } }

    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } e.__esModule = !0; var o = i(13),
        a = n(o),
        s = function() {
            function t() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                    i = e.currentItem,
                    n = void 0 === i ? 0 : i,
                    o = e.itemLength,
                    s = void 0 === o ? 0 : o;
                r(this, t), this.lastCall = 0, this.currentItem = n, this.itemLength = s, this.mouseNormalized = { x: 0, y: 0 }, this._onKeyDown = this.onKeyDown.bind(this), this._onMouseMove = this.onMouseMove.bind(this), this._onMouseDown = this.onMouseDown.bind(this), this._onMouseUp = this.onMouseUp.bind(this), this._onMouseWheel = this.onMouseWheel.bind(this), this.prev = new a["default"], this.next = new a["default"], this.relaseItems = new a["default"], this.translateItems = new a["default"], this.deltas = [0, 0, 0, 0, 0], this.off() } return t.prototype.on = function() { window.addEventListener("keydown", this._onKeyDown), window.addEventListener("mousewheel", this._onMouseWheel) }, t.prototype.off = function() { window.removeEventListener("keydown", this._onKeyDown), window.removeEventListener("mousewheel", this._onMouseWheel) }, t.prototype.onKeyDown = function(t) { switch (t.keyCode) {
                    case 37:
                        this.onPrevious(); break;
                    case 39:
                        this.onNext() } }, t.prototype.peak = function() { return this.lock > 0 ? (this.lock--, !1) : this.deltas[0] < this.deltas[2] && this.deltas[1] < this.deltas[2] && this.deltas[3] > this.deltas[2] && this.deltas[4] > this.deltas[2] }, t.prototype.onMouseWheel = function(t) { this.peak() && (this.lock = 15, t.deltaY > 0 ? this.onNext() : this.onPrevious()), this.deltas.shift(), this.deltas.push(Math.abs(t.deltaY)), t.preventDefault() }, t.prototype.onMouseDown = function(t) { this.dragging = !0, this.distance = 0, this.start = { x: t.clientX || t.touches[0].clientX, y: t.clientY || t.touches[0].clientY }, this.last = this.start }, t.prototype.onMouseUp = function(t) { this.dragging = !1, Math.abs(this.distance) > .1 * window.innerWidth ? this.delta < 0 ? this.onNext() : this.onPrevious() : this.itemReleased(), this.distance = 0, this.start = { x: 0, y: 0 } }, t.prototype.onMouseMove = function(t) { this.lastMouseMove = Date.now(), this.idle = !1; var e = t.clientX || t.touches[0].clientX,
                    i = t.clientY || t.touches[0].clientY; if (this.mouseNormalized.x = 2 * (e / window.innerWidth - .5), this.mouseNormalized.y = 2 * (i / window.innerHeight - .5), this.dragging) { var n = { x: e, y: i };
                    this.distance = n.x - this.start.x, this.delta = n.x - this.last.x > 0 ? 1 : -1, this.last = n, this.translateItems.dispatch(.2 * this.distance) } }, t.prototype.itemReleased = function() { this.distance = 0, this.start = { x: 0, y: 0 }, this.relaseItems.dispatch() }, t.prototype.onPrevious = function() { this.currentItem--, this.prev.dispatch(this.currentItem) }, t.prototype.onNext = function() { this.currentItem++, this.next.dispatch(this.currentItem) }, t }();
    e["default"] = s, t.exports = e["default"] }, function(t, e, i) { "use strict";

    function n(t) { return t && t.__esModule ? t : { "default": t } }

    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } e.__esModule = !0; var s = i(76),
        h = n(s),
        l = i(48),
        u = n(l),
        c = i(49),
        d = i(32),
        p = n(d),
        f = (i(35), i(60)),
        m = (n(f), function(t) {
            function e(i, n) { r(this, e); var a = o(this, t.call(this, i)); return a.first = n, a.setPlayers((0, c.getPlayers)()), a } return a(e, t), e.prototype.updateCharaterGameSession = function(t) { u["default"].teamA[this.first ? 1 : 2] = t.data, u["default"].teamA[this.first ? 1 : 2].index = t.index }, e.prototype.selectPlayer = function(t) { if (this.playerCardSelected) { for (var e = 0; e < this.cards.length; e++) this.first ? u["default"].teamA[2] && this.cards[e].data.id !== u["default"].teamA[2].id && this.cards[e].unselect() : u["default"].teamA[2] && this.cards[e].data.id !== u["default"].teamA[1].id && this.cards[e].unselect();
                    c.CharacterData[this.playerCardSelected.data.id].selected = !1 } this.playerCardSelected = t, this.playerCardSelected.select(), c.CharacterData[this.playerCardSelected.data.id].selected = !0 }, e.prototype.onShow = function() { t.prototype.onShow.call(this); var e = this.first ? 3 : 4;
                this.title.setText(["STR_PLAYER_SELECT_TITLE", this.first ? "2" : "3"], !0); for (var i in c.CharacterData) u["default"].teamA[this.first ? 1 : 2] === c.CharacterData[i] && (c.CharacterData[i].selected = !1), this.first && u["default"].teamA[2] === c.CharacterData[i] && (c.CharacterData[i].selected = !1);
                this.first && (u["default"].teamA[2] = null); for (var n = 0; n < this.cards.length; n++) this.cards[n].data && !this.cards[n].data.selected && this.cards[n].unselect();
                this.app.topMenu.prevScreen = this.first ? p["default"].SCREEN_ID.CAPTAIN_SELECT : p["default"].SCREEN_ID.PLAYER_SELECT, this.app.topMenu.nextScreen = this.first ? p["default"].SCREEN_ID.PLAYER_SELECT_2 : p["default"].SCREEN_ID.TEAM_REVIEW, this.app.breadcrumb.maxStepIndexRiched < e ? this.app.topMenu.setState("prevsettings") : this.app.topMenu.setState("prevsettings") }, e.prototype.onHide = function() { t.prototype.onHide.call(this); var e = u["default"].teamA[this.first ? 1 : 2];
                e && (e.selected = !0) }, e }(h["default"]));
    e["default"] = m, t.exports = e["default"] }, function(t, e, i) { "use strict";

    function n(t) { return t && t.__esModule ? t : { "default": t } }

    function r(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

    function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

    function a(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

    function s(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } e.__esModule = !0; var h = i(8),
        l = r(h),
        u = i(48),
        c = n(u),
        d = i(32),
        p = n(d),
        f = i(35),
        m = i(49),
        g = i(58),
        v = n(g),
        y = i(56),
        _ = n(y),
        b = i(59),
        x = n(b),
        w = i(47),
        T = n(w),
        S = i(30),
        M = n(S),
        E = i(81),
        A = n(E),
        C = i(52),
        R = n(C),
        P = i(42),
        O = n(P),
        L = function(t) {
            function e(i) { o(this, e); var n = a(this, t.call(this));
                window.teamr = n, n.app = i, n.transition = new x["default"](n.app), n.cams = []; for (var r = 0; r < 20; r++) { var s = l.Sprite.from("camera-flash.png");
                    n.cams.push(s), n.addChild(s) } n.title = _["default"].h1("STR_REVIEW_TITLE", "white", 45), n.title.anchor.set(.5), n.winnerTitle = _["default"].h1("STR_TOURNAMENT_WINNER", "white", 60, !0), window.testWinnerTitle = n.winnerTitle, n.winnerTitle.anchor.set(.5), n.winnerFlagContainer = new l.Container, n.addChild(n.winnerFlagContainer); var h = window.winterMode ? "stage_winter" : "stage";
                n.stage = l.Sprite.fromFrame(h + ".png"), n.stage.anchor.set(.5, 1), n.addChild(n.stage), n.shadows = []; for (var r = 0; r < 3; r++) { var u = c["default"].teamA[r].shadowSize || "medium",
                        d = l.Sprite.fromFrame("shadow_" + u + ".png");
                    d.anchor.set(.5), d.alpha = 1, n.addChild(d), n.shadows.push(d) } n.captain = new l.Sprite, n.captain.anchor.set(.5, 1), n.captain.offset = { x: 0, y: 0 }, n.firstTeamMember = new l.Sprite, n.firstTeamMember.anchor.set(.5, 1), n.firstTeamMember.offset = { x: 0, y: 0 }, n.secondTeamMember = new l.Sprite, n.secondTeamMember.anchor.set(.5, 1), n.secondTeamMember.offset = { x: 0, y: 0 }, n.addChild(n.captain), n.addChild(n.secondTeamMember), n.addChild(n.firstTeamMember), n.flash = new l.Graphics, n.flash.beginFill(16777215), n.flash.drawRect(0, 0, 100, 100), n.flash.alpha = 0, n.tick = 0, n.rand = { c: T["default"].random(-.6, .6), f: T["default"].random(-.6, .6), s: T["default"].random(-.6, .6) }, n.playButton = new l.Sprite.from("button_play_big.png"), n.playButton.interactive = !0, n.playButton.buttonMode = !0, n.playButton.anchor.x = .5, n.playButton.anchor.y = .5, n.playButton.mouseover = function() { TweenLite.to(this.playButton.scale, .3, { x: 1.1, y: 1.1 }) }.bind(n), n.playButton.mouseout = function() { TweenLite.to(this.playButton.scale, .3, { x: 1, y: 1 }) }.bind(n), n.playButton.mouseup = n.playButton.touchend = function() { M["default"].sfx.play("button_press"), TweenLite.to(this.playButton.scale, .3, { x: .7, y: .7, ease: Expo.easeOut }), TweenLite.to(this.playButton, .4, { alpha: 0, ease: Expo.easeOut }), c["default"].isTournament ? this.app.screenManager.gotoScreenByID(p["default"].SCREEN_ID.TOURNAMENT) : (this.app.screenManager.gotoScreenByID(p["default"].SCREEN_ID.GAME), this.app.breadcrumb.hide()), this.app.spotLights.hide() }.bind(n); var f = .35,
                    m = -Math.PI / 2 + f;
                n.spotLights = []; for (var r = 0; r < 3; r++) { var g = l.Sprite.fromFrame("spotlight.png");
                    g.anchor.set(.5, 0), g.rotation = m, g.position.y = -20, g.alpha = .5, g.tick = Math.random(), g.blendMode = l.BLEND_MODES.ADD, n.addChild(g), m -= f, n.spotLights.push(g) } return n.addChild(n.playButton), n.addChild(n.title), n.winnerContainer = new l.Container, n.addChild(n.winnerContainer), n.addChild(n.winnerTitle), n.coinSplash = new A["default"](n.app), n.party = new R["default"](1136, 800, 1), n } return s(e, t), e.prototype.updateTransform = function() { if (t.prototype.updateTransform.call(this), this.tick += .1, this.winnerFlag) { for (var e = 0; e < this.winnerFlag.points.length; e++) { var i = this.winnerFlag.points[e];
                        i.y = this.winnerFlag.texture.height / 2 + .5 * Math.sin(this.tick + e) } this.trophyLight.rotation -= .01, this.trophyLight2.rotation += .01, this.party && this.party.update(this.position) } }, e.prototype.onHide = function() { c["default"].tournamentData.winner.length = 0, this.stop = !0 }, e.prototype.showWinner = function() { this.app.topMenu.prevScreen = p["default"].SCREEN_ID.UNLOCKABLES, this.app.topMenu.setState("empty"), this.captain.texture = new l.Texture.fromImage(c["default"].teamA[0].yourTeam.toLowerCase()), this.firstTeamMember.texture = new l.Texture.fromImage(c["default"].teamA[1].yourTeam.toLowerCase()), this.secondTeamMember.texture = new l.Texture.fromImage(c["default"].teamA[2].yourTeam.toLowerCase()), this.captain.offset.x = c["default"].teamA[0].offsetReview && c["default"].teamA[0].offsetReview.x ? c["default"].teamA[0].offsetReview.x : 0, this.captain.offset.y = c["default"].teamA[0].offsetReview && c["default"].teamA[0].offsetReview.y ? c["default"].teamA[0].offsetReview.y : 0, this.firstTeamMember.offset.x = c["default"].teamA[1].offsetReview && c["default"].teamA[1].offsetReview.x ? c["default"].teamA[1].offsetReview.x : 0, this.firstTeamMember.offset.y = c["default"].teamA[1].offsetReview && c["default"].teamA[1].offsetReview.y ? c["default"].teamA[1].offsetReview.y : 0, this.secondTeamMember.offset.x = c["default"].teamA[2].offsetReview && c["default"].teamA[2].offsetReview.x ? c["default"].teamA[2].offsetReview.x : 0, this.secondTeamMember.offset.y = c["default"].teamA[2].offsetReview && c["default"].teamA[2].offsetReview.y ? c["default"].teamA[2].offsetReview.y : 0, this.captain.scale.set(0), TweenLite.to(this.captain.scale, 1, { x: Device.instance.isMobile ? .9 : 1.2, y: Device.instance.isMobile ? .9 : 1.2, ease: Elastic.easeOut, delay: .2 }), this.playButton.alpha = 0, this.firstTeamMember.scale.set(0), TweenLite.to(this.firstTeamMember.scale, 1, { x: Device.instance.isMobile ? .9 : 1.2, y: Device.instance.isMobile ? .9 : 1.2, ease: Elastic.easeOut, delay: .2 }), this.secondTeamMember.scale.set(0), TweenLite.to(this.secondTeamMember.scale, 1, { x: Device.instance.isMobile ? .9 : 1.2, y: Device.instance.isMobile ? .9 : 1.2, ease: Elastic.easeOut, delay: .2 }), this.title.scale.set(0); for (var t = c["default"].tournamentData.winner[0], e = l.Texture.from(t.FLAG), i = [], n = 20, r = e.width / n, o = 0; o < n; o++) i.push(new l.Point(o * r, e.height / 2));
                this.winnerFlag = new l.Rope(e, i), "SA" === t.ID ? this.winnerFlag.alpha = 0 : "TR" === t.ID ? this.winnerFlag.alpha = 0 : this.winnerFlag.alpha = .5, window.URLParams.flagAlpha && (this.winnerFlag.alpha = parseInt(window.URLParams.flagAlpha) / 100), this.updateWinnerFlag(); for (var o = 0; o < this.winnerFlagContainer.children.length; o++) this.winnerFlagContainer.removeChild(this.winnerFlagContainer.children[o]);
                this.winnerFlagContainer.addChild(this.winnerFlag), this.winnerContainer.removeChildren(); var a = _["default"].h1([t.NAME + "_UPPERCASE", "+56", "STR_HUD_POINTS"], "white", 30, !0);
                a.y = -320, a.anchor.set(.5), this.winnerContainer.addChild(a); var s = new l.Container;
                s.x = 65, s.y = -40, this.winnerContainer.addChild(s); var h = l.Sprite.fromFrame("celebrate_light.png");
                h.blendMode = 1, h.anchor.set(.5), h.position.set(76), h.scale.set(.5), h.alpha = .5, s.addChild(h), this.trophyLight = h; var u = l.Sprite.fromFrame("celebrate_trophy.png");
                s.addChild(u); var h = l.Sprite.fromFrame("celebrate_light.png");
                h.blendMode = 1, h.anchor.set(.5), h.position.set(76), h.alpha = .5, s.addChild(h), this.trophyLight2 = h; var d = l.Sprite.fromFrame("celebrate_flare.png");
                d.anchor.set(.5), d.position.set(76), d.blendMode = 1, s.addChild(d), TweenLite.delayedCall(.3, function() { var t = 100,
                        e = this.w / 2 + 60,
                        i = this.h / 2 + 40,
                        n = app.screenManager.container.x / app.screenManager.container.scale.x,
                        r = app.screenManager.container.y / app.screenManager.container.scale.y;
                    e += n, i += r, this.coinSplash.start(t, e, i), M["default"].sfx.play("sfx_getcoins") }.bind(this)), this.addChild(this.party), this.continueButton = new O["default"]("button_green_long.png", null, null, "STR_CONTINUE", 1.1), this.continueButton.defaultScale = 1, this.continueButton.position.x = this.w / 2, this.continueButton.position.y = this.h / 2 + 300, this.continueButton.onPress.add(this.onContinueButtonPressed, this), this.addChild(this.continueButton), this.winnerContainer.visible = !0, this.winnerFlagContainer.visible = !0, this.winnerTitle.visible = !0 }, e.prototype.onContinueButtonPressed = function() { c["default"].reset(), this.app.topMenu.prevScreen = p["default"].SCREEN_ID.TITLE, this.screenManager.gotoScreenByID(p["default"].SCREEN_ID.UNLOCKABLES) }, e.prototype.updateWinnerFlag = function() { var t = 180,
                    e = this.w + 2 * this.offsetX,
                    i = this.h + 2 * this.offsetY;
                this.winnerFlag.width = e + t, this.winnerFlag.scale.y = this.winnerFlag.scale.x, this.winnerFlag.height < i && (this.winnerFlag.height = i + t, this.winnerFlag.scale.x = this.winnerFlag.scale.y), this.winnerFlag.position.x = -(this.winnerFlag.width - this.w) / 2, this.winnerFlag.position.y = -(this.winnerFlag.height - this.h) / 2 }, e.prototype.onShow = function() { for (var t = void 0, e = void 0, i = 0; i < this.app.stage.children.length; i++) { var n = this.app.stage.children[i]; "breabcrumb" === n.name && (t = n), "screenmanager" === n.name && (e = n) } return this.app.stage.children[2] = e, this.app.stage.children[3] = t, this.stop = !1, this.epilepsy(), this.app.spotLights.show(), this.winnerFlag && (this.removeChild(this.winnerFlag), this.winnerFlag = null), this.continueButton && (this.removeChild(this.continueButton), this.continueButton = null), c["default"].tournamentData.winner.length > 0 ? void this.showWinner() : (this.winnerContainer.visible = !1, this.winnerFlagContainer.visible = !1, this.winnerTitle.visible = !1, this.removeChild(this.party), c["default"].isTournament ? (this.app.breadcrumb.show(!0), this.app.breadcrumb.visible = !0, this.app.breadcrumb.currentStep = 4, this.app.topMenu.prevScreen = p["default"].SCREEN_ID.PLAYER_SELECT_2, this.app.topMenu.setState("prevsettings")) : (this.app.topMenu.prevScreen = p["default"].SCREEN_ID.TITLE, this.app.topMenu.setState("prevsettings")), this.captain.texture = new l.Texture.fromImage(c["default"].teamA[0].yourTeam.toLowerCase()), this.firstTeamMember.texture = new l.Texture.fromImage(c["default"].teamA[1].yourTeam.toLowerCase()), this.secondTeamMember.texture = new l.Texture.fromImage(c["default"].teamA[2].yourTeam.toLowerCase()), this.captain.offset.x = c["default"].teamA[0].offsetReview && c["default"].teamA[0].offsetReview.x ? c["default"].teamA[0].offsetReview.x : 0, this.captain.offset.y = c["default"].teamA[0].offsetReview && c["default"].teamA[0].offsetReview.y ? c["default"].teamA[0].offsetReview.y : 0, this.firstTeamMember.offset.x = c["default"].teamA[1].offsetReview && c["default"].teamA[1].offsetReview.x ? c["default"].teamA[1].offsetReview.x : 0, this.firstTeamMember.offset.y = c["default"].teamA[1].offsetReview && c["default"].teamA[1].offsetReview.y ? c["default"].teamA[1].offsetReview.y : 0, this.secondTeamMember.offset.x = c["default"].teamA[2].offsetReview && c["default"].teamA[2].offsetReview.x ? c["default"].teamA[2].offsetReview.x : 0, this.secondTeamMember.offset.y = c["default"].teamA[2].offsetReview && c["default"].teamA[2].offsetReview.y ? c["default"].teamA[2].offsetReview.y : 0, this.buildTeam(), this.captain.scale.set(0), TweenLite.to(this.captain.scale, 1, { x: Device.instance.isMobile ? .9 : 1.2, y: Device.instance.isMobile ? .9 : 1.2, ease: Elastic.easeOut, delay: .2 }), this.playButton.alpha = 1, this.playButton.scale.set(0), TweenLite.to(this.playButton.scale, 1, { x: Device.instance.isMobile ? .9 : 1, y: Device.instance.isMobile ? .9 : 1, ease: Elastic.easeOut, delay: .3 }), this.firstTeamMember.scale.set(0), TweenLite.to(this.firstTeamMember.scale, 1, { x: Device.instance.isMobile ? .9 : 1.2, y: Device.instance.isMobile ? .9 : 1.2, ease: Elastic.easeOut, delay: .2 }), this.secondTeamMember.scale.set(0), TweenLite.to(this.secondTeamMember.scale, 1, { x: Device.instance.isMobile ? .9 : 1.2, y: Device.instance.isMobile ? .9 : 1.2, ease: Elastic.easeOut, delay: .2 }), this.title.scale.set(0), TweenLite.to(this.title.scale, 1, { x: 1, y: 1, ease: Elastic.easeOut, delay: .2 }), void this.resize(this.w, this.h)) }, e.prototype.buildTeam = function() { c["default"].tournamentData.quarter = [], c["default"].tournamentData.semi = [], c["default"].tournamentData["final"] = [], c["default"].tournamentData.winner = [], c["default"].matchResult.goalsA = c["default"].matchResult.goalsB = -1; var t = []; for (var e in m.CharacterData) m.CharacterData[e].locked || t.push(m.CharacterData[e]); for (var e = 0; e < c["default"].teamA.length; e++) { var i = t.indexOf(c["default"].teamA[e]);
                    i !== -1 && t.splice(i, 1) } v["default"].shuffle(t), c["default"].teamB = t.slice(0, 3); var n = []; for (e in f.Translation.countries) { var r = f.Translation.countries[e];
                    c["default"].countryID !== r && n.push(r) } if (v["default"].shuffle(n), n = n.slice(0, 7), c["default"].isTournament) { n.push(c["default"].countryID), v["default"].shuffle(n); var o = [],
                        a = 2; for (e = 0; e < n.length; e += a) o.push(n.slice(e, e + a));
                    c["default"].tournamentData.quarter = o.slice() } else c["default"].opponentID = n[0] }, e.prototype.onShown = function() {}, e.prototype.epilepsy = function() { var t = this;
                setTimeout(function() { t.stop || t.epilepsy() }, 1500 * Math.random() + 300); for (var e = 0; e < this.cams.length; e++) this.cams[e].position.x = Math.random() * this.w, this.cams[e].position.y = this.h / 2 + 200 * Math.random() - 100, this.cams[e].alpha = 1, this.cams[e].scale.set(T["default"].random(.1, 2)), TweenLite.to(this.cams[e], Math.random() + .3, { alpha: 0 }) }, e.prototype.resize = function(t, e) { var i = this.app.screenManager.container.x / this.app.screenManager.container.scale.x,
                    n = this.app.screenManager.container.y / this.app.screenManager.container.scale.y;
                this.offsetX = i, this.offsetY = n, this.w = t, this.h = e, this.flash.width = t, this.flash.height = e, this.title.position.y = e / 2 - 375, this.title.position.x = t / 2, this.winnerTitle.position.y = e / 2 - 375, this.winnerTitle.position.x = t / 2, this.winnerFlag && this.updateWinnerFlag(), this.stage.position.x = t / 2, this.stage.position.y = e + n, this.playButton.position.x = t / 2, this.playButton.position.y = e / 2 + 245; for (var r = 130, o = -r, a = 0; a < this.spotLights.length; a++) { var s = this.spotLights[a];
                    s.position.x = t / 2 + o - 170, s.position.y = -n - 20, o += r } for (var r = 300, o = -r, a = 0; a < this.shadows.length; a++) { var h = this.shadows[a];
                    h.position.y = e / 2 + 175, h.position.x = t / 2 + o + (c["default"].teamA[a].shadowOffsetX || 0), o += r } var l = 300,
                    u = 180;
                this.winnerContainer.position.x = t / 2, this.winnerContainer.position.y = e / 2, this.continueButton && (this.continueButton.position.x = t / 2, this.continueButton.position.y = e / 2 + 300), this.captain.position.x = t / 2 - l + this.captain.offset.x, this.captain.position.y = e / 2 + u + this.captain.offset.y, this.firstTeamMember.position.x = t / 2 + this.firstTeamMember.offset.x, this.firstTeamMember.position.y = e / 2 + u + this.firstTeamMember.offset.y, this.secondTeamMember.position.x = t / 2 + l + this.secondTeamMember.offset.x, this.secondTeamMember.position.y = e / 2 + u + this.secondTeamMember.offset.y, this.party && (this.party.x = -i, this.party.y = -n, this.party.w = t + 2 * i, this.party.h = e + 2 * n + 100) }, e }(l.Container);
    e["default"] = L, t.exports = e["default"] }, function(t, e, i) { "use strict";

    function n(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } e.__esModule = !0; var s = i(8),
        h = n(s),
        l = function(t) {
            function e(i) { r(this, e); var n = o(this, t.call(this));
                n.app = i; var a = 100;
                n.coins = []; for (var s = 0; s < a; s++) { var l = h.Sprite.from("coin.png");
                    l.anchor.set(.5), n.coins.push(l) } return n.animCoins = [], n.hide(), n } return a(e, t), e.prototype.updateTransform = function() { if (t.prototype.updateTransform.call(this), this.visible)
                    for (var e = !0, i = 0; i < this.animCoins.length; i++) { var n = this.animCoins[i];
                        0 !== n.speed && (n.x += Math.cos(n.angle) * n.speed, n.y += Math.sin(n.angle) * n.speed, n.speed -= .06, n.speed <= 0 && (n.speed = 0, this.tweenCoin(n)), n.alpha > 0 && (e = !1)) } }, e.prototype.tweenCoin = function(t) { TweenLite.to(t.position, .8, { x: this.app.topMenu.coinBar.x + 30, y: 44, ease: Quad.easeOut, onComplete: function() { var e = h.Sprite.from("coing_ring.png");
                        e.anchor.set(.5), e.position.x = t.position.x, e.position.y = t.position.y, this.app.topMenu.addChild(e); var i = .8;
                        TweenLite.to(e.scale, i, { x: 1.5, y: 1.5, onComplete: function() { this.app.topMenu.removeChild(e) }.bind(this) }), TweenLite.to(e, i, { alpha: 0 }), this.app.topMenu.removeChild(t), this.app.topMenu.addCoins(1) }.bind(this) }) }, e.prototype.start = function(t, e, i) { this.app.topMenu.addChild(this), this.animCoins.length = 0; for (var n = 0; n < t; n++) { var r = this.coins[n];
                    r.visible = !0, r.position.x = e, r.position.y = i, this.app.topMenu.addChild(r), this.animCoins.push(r), r.angle = -Math.PI + Math.PI / (t - 1) * n, r.angle = 2 * Math.PI / (t - 1) * n, r.speed = .5 + 3 * Math.random(), r.speed += 1 } this.show() }, e.prototype.show = function() { this.visible = !0 }, e.prototype.hide = function() { this.visible = !1 }, e }(h.Container);
    e["default"] = l, t.exports = e["default"] }, function(t, e, i) {
    "use strict";

    function n(t) { return t && t.__esModule ? t : { "default": t } }

    function r(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

    function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

    function a(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

    function s(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } e.__esModule = !0;
    var h = i(8),
        l = r(h),
        u = i(41),
        c = (n(u), i(36)),
        d = (n(c), i(56)),
        p = n(d),
        f = i(48),
        m = n(f),
        g = i(49),
        v = i(22),
        y = (n(v), i(32)),
        _ = n(y),
        b = i(50),
        x = n(b),
        w = i(35),
        T = i(58),
        S = n(T),
        M = i(42),
        E = n(M),
        A = i(52),
        C = n(A),
        R = i(81),
        P = n(R),
        O = i(40),
        L = (n(O), i(43)),
        I = n(L),
        D = function(t) {
            function e(i) {
                o(this, e);
                var n = a(this, t.call(this));
                n.app = i, window.tour = n, n.scaleRatio = .75, n.bg = l.Sprite.from("panel_tournament.png"), n.bg.anchor.set(.5, .5), n.addChild(n.bg), n.title = p["default"].h1(""), n.title.anchor.set(.5), n.title.y = -290, n.bg.addChild(n.title), n.trophy = l.Sprite.from("trophy_empty.png"), n.trophy.anchor.set(.5), n.trophy.y = -20, n.trophy.x = -4, n.coinAnimations = {}, n.contentUpdated = !1;
                new l.Point(0, 15), new l.Point(10, 15);
                return n.desaturateFilter = new l.filters.ColorMatrixFilter, n.desaturateFilter.saturate(-.7), n.stageInfo = { quarter: { id: "quarter", pos: [{ x: -390, y: 0 }, { x: -390, y: 125 }, { x: -390, y: 250 }, { x: -390, y: 375 }, { x: 390, y: 0 }, { x: 390, y: 125 }, { x: 390, y: 250 }, { x: 390, y: 375 }] }, semi: { id: "semi", pos: [{ x: -248, y: 63 }, { x: -248, y: 313 }, { x: 248, y: 63 }, { x: 248, y: 313 }] }, "final": { id: "final", pos: [{ x: -120, y: 188 }, { x: 120, y: 188 }] }, winner: { id: "winner", pos: [{ x: 0, y: 325 }] } }, n.emptyFlag = { ID: "", FLAG: n.app.getFilePath(ASSET_URL + "img/ui/flag_black.png") }, n.blackFlag = { ID: "", FLAG: n.app.getFilePath(ASSET_URL + "img/ui/flag_black.png") }, n.winnerEmptyFlag = { ID: "", FLAG: "flag_winner_empty.png" }, n.playButton = new E["default"]("button_green_long.png", null, null, w.Translation.tournament_screen.playButton, 1.1, null, null, "avenir"), n.playButton.defaultScale = 1, n.playButton.position.y = n.bg.height / 2 - n.playButton.height / 2 - 43, n.playButton.onPress.add(function() {
                    n.onPlayButtonPressed()
                }), n.bg.addChild(n.playButton), n.itemContainer = new l.Container, n.itemContainer.position.set(0, -165), n.bg.addChild(n.itemContainer), n.bg.addChild(n.trophy), n.party = new C["default"](1136, 800, 1), n.coinSplash = new P["default"](n.app), n
            }
            return s(e, t), e.prototype.setContent = function() { this.itemContainer.children.length = 0, m["default"].tournamentData.winner.length > 0 ? this.stage = this.stageInfo.winner.id : m["default"].tournamentData["final"].length > 0 ? this.stage = this.stageInfo["final"].id : m["default"].tournamentData.semi.length > 0 ? this.stage = this.stageInfo.semi.id : m["default"].tournamentData.quarter.length > 0 && (this.stage = this.stageInfo.quarter.id); var t = { quarter: 0, semi: 0, "final": 1 }; "winner" === this.stage ? (this.trophy.texture = l.Texture.fromFrame("trophy_full.png"), this.addChild(this.party), this.app.topMenu.setState("prevsettings")) : (this.trophy.texture = l.Texture.fromFrame("trophy_empty.png"), this.removeChild(this.party), this.app.topMenu.setState("prevsettings")), m["default"].difficulty = t[this.stage], this.title.setText(w.Translation.tournament_screen.stages[this.stage]), this.arrangeItems(this.stage, !0) }, e.prototype.chooseOpponent = function() { m["default"].leftOverPlayers = []; for (var t in g.CharacterData) { var e = g.CharacterData[t];
                    m["default"].teamA.indexOf(e) !== -1 || e.locked || m["default"].leftOverPlayers.push(e) } S["default"].shuffle(m["default"].leftOverPlayers), m["default"].teamB = [m["default"].leftOverPlayers[0], m["default"].leftOverPlayers[1], m["default"].leftOverPlayers[2]]; var i = this.flattenArray(m["default"].tournamentData[this.stage]),
                    n = i.indexOf(m["default"].countryID);
                m["default"].opponentID = i[n % 2 === 0 ? ++n : --n] }, e.prototype.chooseRivals = function(t, e) { for (var i, n, r, o = [], a = [], s = m["default"].tournamentData[t], h = 0; h < s.length; h++) i = s[h], n = i.indexOf(m["default"].countryID), r = n > -1 ? i[e ? n : (n + 1) % 2] : i[Math.floor(2 * Math.random())], o.push(r), 2 == o.length && (a.push(o), o = []); return a }, e.prototype.updateRivals = function(t, e) { t === this.stageInfo["final"].id ? m["default"].tournamentData.winner = [e ? m["default"].countryID : m["default"].tournamentData["final"][Math.floor(2 * Math.random())]] : t === this.stageInfo.semi.id ? (m["default"].tournamentData["final"] = this.flattenArray(this.chooseRivals(t, e)), e || this.updateRivals(this.stageInfo["final"].id, !1)) : t === this.stageInfo.quarter.id && (m["default"].tournamentData.semi = this.chooseRivals(t, e), e || this.updateRivals(this.stageInfo.semi.id, !1)) }, e.prototype.arrangeItems = function(t, e) { t === this.stageInfo.winner.id ? (this.placeItems(this.stageInfo.winner.id, [this.emptyFlag]), this.placeItems(t, m["default"].tournamentData.winner), this.arrangeItems(this.stageInfo["final"].id, !1)) : t === this.stageInfo["final"].id ? (e ? (this.placeItems(this.stageInfo.winner.id, [this.emptyFlag]), this.placeItems(this.stageInfo["final"].id, [this.emptyFlag, this.emptyFlag]), this.placeItems(t, m["default"].tournamentData["final"])) : this.placeItems(t, m["default"].tournamentData["final"]), this.arrangeItems(this.stageInfo.semi.id, !1)) : t === this.stageInfo.semi.id ? (e ? (this.placeItems(this.stageInfo.winner.id, [this.emptyFlag]), this.placeItems(this.stageInfo["final"].id, [this.emptyFlag, this.emptyFlag]), this.placeItems(this.stageInfo.semi.id, [this.emptyFlag, this.emptyFlag, this.emptyFlag, this.emptyFlag]), this.placeItems(t, this.flattenArray(m["default"].tournamentData.semi))) : this.placeItems(t, this.flattenArray(m["default"].tournamentData.semi)), this.arrangeItems(this.stageInfo.quarter.id, !1)) : t === this.stageInfo.quarter.id && (e && (this.placeItems(this.stageInfo.winner.id, [this.emptyFlag]), this.placeItems(this.stageInfo["final"].id, [this.emptyFlag, this.emptyFlag]), this.placeItems(this.stageInfo.semi.id, [this.emptyFlag, this.emptyFlag, this.emptyFlag, this.emptyFlag])), this.placeItems(t, this.flattenArray(m["default"].tournamentData.quarter))) }, e.prototype.placeItems = function(t, e) { var i = [];
                m["default"].tournamentData.winner.length > 0 ? i = m["default"].tournamentData.winner : m["default"].tournamentData["final"].length > 0 ? i = m["default"].tournamentData["final"] : m["default"].tournamentData.semi.length > 0 && (i = this.flattenArray(m["default"].tournamentData.semi)); for (var n, r, o, a, s, h = 0; h < e.length; h++) { o = this.stageInfo[t].pos[h], n = e[h], n === m["default"].countryID && t === this.stage && "winner" !== t && (s = l.Sprite.fromFrame("halo.png"), s.position.x = o.x, s.position.y = o.y, s.anchor.set(.5), this.hightligh = s, this.itemContainer.addChild(s)); var u = l.Sprite.from("backer_1.png");
                    u.anchor.set(.5), u.blendMode = l.BLEND_MODES.MULTIPLY, u.alpha = .3, u.x = o.x, u.y = o.y; var c = l.Sprite.from("backer_2.png"); if (c.anchor.set(.5), c.blendMode = l.BLEND_MODES.MULTIPLY, c.alpha = .5, u.addChild(c), "quarter" === t) { var d = "empty"; "quarter" !== this.stage && n === m["default"].countryID && (d = "full"); var p = l.Sprite.from("line_1_" + d + ".png");
                        p.anchor.set(0, .5), p.y = o.y, h % 2 === 0 ? (p.y -= 10, p.scale.y = -1) : p.y += 10, h <= 3 ? p.x = o.x + u.width / 2 : (p.x = o.x - u.width / 2, p.scale.x = -1), this.itemContainer.addChild(p) } else if ("semi" === t) { var d = "empty"; "final" !== this.stage && "winner" !== this.stage || n === m["default"].countryID && (d = "full"); var p = l.Sprite.from("line_2_" + d + ".png");
                        p.anchor.set(0, .5), p.y = o.y, h % 2 === 0 ? (p.scale.y = -1, p.y += 27) : p.y -= 27, h <= 1 ? (p.x = o.x + u.width / 2, p.x -= 1) : (p.x = o.x - u.width / 2, p.scale.x = -1), this.itemContainer.addChild(p) } else if ("final" === t) { var f = 72,
                            d = "empty"; "final" !== this.stage && "winner" !== this.stage || n === m["default"].countryID && (d = "full"); var p = l.Sprite.from("line_3_" + d + ".png");
                        p.anchor.set(0, .5), p.y = o.y, p.width = 50, 0 === h ? p.x = o.x + u.width / 2 : p.x = o.x - u.width / 2 - p.width, this.itemContainer.addChild(p) } else if ("winner" === t) { var f = 72,
                            d = "empty"; "winner" === this.stage && n === m["default"].countryID && (d = "full"); var p = l.Sprite.from("line_4_" + d + ".png");
                        p.anchor.set(.5, 0), p.x = o.x, p.y = o.y - 59 - f, p.height = f, this.itemContainer.addChild(p) } this.itemContainer.addChild(u); var g = { fill: "black", fontSize: 16, fontFamily: "avenir", wordWrap: !0, wordWrapWidth: 100, align: "center", lineHeight: 14, maxWidth: 120 },
                        v = (n.NAME, new I["default"](n.NAME, g)); if (v.maxWidth = 120, v.maxHeight = 35, v.anchor.set(.5), v.x = o.x, v.y = o.y + 34, this.itemContainer.addChild(v), "winner" === t && "winner" !== this.stage && (n = this.winnerEmptyFlag), r = l.Sprite.fromFrame(n.FLAG), "winner" === t && "winner" !== this.stage || r.scale.set(this.scaleRatio), r.id = n.ID, n.NAME || "winner" === t || (r.alpha = .3, r.width = 97.5, r.height = 57), r.anchor.set(.5), r.x = o.x, r.y = o.y - 15, n === m["default"].countryID && t === this.stage && "winner" !== t) { var u = l.Sprite.from("your_place_1.png");
                        u.anchor.set(.5), u.x = o.x, u.y = o.y, this.itemContainer.addChild(u), this.blueBacker = u, this.blueBacker.alpha = .2, this.blueBackerTick = 0 } this.itemContainer.addChild(r), i.length > 0 && i.indexOf(n) < 0 && "winner" !== t && (a = l.Sprite.fromFrame(this.blackFlag.FLAG), window.halfSizeAssets && ("quarter" === t && ("semi" === this.stage || "final" === this.stage) || "semi" === t && "final" === this.stage) && a.scale.set(2), a.anchor.set(.5), a.alpha = .85, r.addChild(a)) } }, e.prototype.flattenArray = function(t) { for (var e = [], i = 0; i < t.length; i++) e = e.concat(t[i]); return e }, e.prototype.onPlayButtonPressed = function() { this.app.topMenu.confirmPrev = !1, this.contentUpdated = !1, void 0 === m["default"].tournamentData.winner[0] ? ("quarter" === this.stage && (x["default"].adbTrackAction("country_selected", { country_id: m["default"].countryID.ID }), x["default"].adbTrackAction("captain_selected", { player_id: m["default"].teamA[0].id }), x["default"].adbTrackAction("player_2_selected", { player_id: m["default"].teamA[1].id }), x["default"].adbTrackAction("player_3_selected", { player_id: m["default"].teamA[2].id }), x["default"].bootstrapEventTrigger("country_selected", { country_id: m["default"].countryID.ID }), x["default"].bootstrapEventTrigger("captain_selected", { player_id: m["default"].teamA[0].id }), x["default"].bootstrapEventTrigger("player_2_selected", { player_id: m["default"].teamA[1].id }), x["default"].bootstrapEventTrigger("player_3_selected", { player_id: m["default"].teamA[2].id })), this.chooseOpponent(), this.app.spotLights.hide(), this.screenManager.gotoScreenByID(_["default"].SCREEN_ID.GAME)) : (m["default"].reset(), 3 === m["default"].unlocked.length ? this.screenManager.gotoScreenByID(_["default"].SCREEN_ID.TITLE) : (this.app.topMenu.prevScreen = _["default"].SCREEN_ID.TITLE, this.screenManager.gotoScreenByID(_["default"].SCREEN_ID.UNLOCKABLES))) }, e.prototype.onHide = function() { this.app.topMenu.buttons.prev.onPress.remove(this._hack), this.contentUpdated && this.app.topMenu.prevScreen !== _["default"].SCREEN_ID.TEAM_REVIEW && this.app.topMenu.prevScreen !== _["default"].SCREEN_ID.TOURNAMENT && (this.contentUpdated = !1, m["default"].reset()) }, e.prototype.updateTransform = function() { t.prototype.updateTransform.call(this), this.hightligh && (this.hightligh.rotation += .01), this.blueBacker && (this.blueBackerTick += .1, this.blueBacker.alpha = .2 + .4 * Math.sin(this.blueBackerTick) + .4), this.party && this.party.update(this.position) }, e.prototype.onShow = function() { return this.app.breadcrumb.hide(), this.contentUpdated ? ("quarter" !== this.stage ? (this.app.topMenu.confirmPrev = !0, this.app.topMenu.prevScreen = _["default"].SCREEN_ID.TITLE) : this.app.topMenu.prevScreen = _["default"].SCREEN_ID.TEAM_REVIEW, void this.app.topMenu.setState("prevsettings")) : (m["default"].matchResult.goalsA > -1 && this.updateRivals(this.stage, m["default"].matchResult.goalsA > m["default"].matchResult.goalsB), void 0 !== m["default"].tournamentData.winner[0] && this.playButton.label.setText(w.Translation.tournament_screen.endButton), this.setContent(), this.app.topMenu.prevScreen === _["default"].SCREEN_ID.TEAM_REVIEW || this.app.topMenu.prevScreen === _["default"].SCREEN_ID.TITLE ? (this.app.topMenu.confirmPrev = !0, this.app.topMenu.prevScreen = _["default"].SCREEN_ID.TITLE) : this.app.topMenu.prevScreen = _["default"].SCREEN_ID.TEAM_REVIEW, this._hack = this.hack.bind(this), this.app.topMenu.buttons.prev.onPress.add(this._hack), this.bg.scale.set(0), TweenLite.to(this.bg.scale, 1, { x: 1, y: 1, ease: Elastic.easeOut, delay: .2 }), this.playButton.scale.set(0), TweenLite.to(this.playButton.scale, 1, { x: 1, y: 1, ease: Elastic.easeOut, delay: .5 }), void(this.contentUpdated = !0)) }, e.prototype.hack = function() { this.app.breadcrumb.currentStep--, this.app.topMenu.buttons.prev.onPress.remove(this._hack) }, e.prototype.onShown = function() { this.app.topMenu.prevScreen || (this.contentUpdated && "quarter" !== this.stage ? this.app.topMenu.prevScreen = _["default"].SCREEN_ID.TITLE : this.app.topMenu.prevScreen = _["default"].SCREEN_ID.TEAM_REVIEW), "quarter" !== this.stage && this.showCoinAnimation() }, e.prototype.showCoinAnimation = function() { this.coinAnimations[this.stage] || (this.coinAnimations[this.stage] = !0, TweenLite.delayedCall(.3, function() { var t = 75; if ("winner" === this.stage && (t *= 2), "winner" === this.stage) var e = this.bg.position.x,
                        i = this.bg.position.y + 150;
                    else var e = this.bg.position.x + this.hightligh.x,
                        i = this.bg.position.y + this.hightligh.y - 140; var n = this.app.screenManager.container.x / this.app.screenManager.container.scale.x,
                        r = this.app.screenManager.container.y / this.app.screenManager.container.scale.y;
                    e += n, i += r, this.coinSplash.start(t, e, i), SoundManager.sfx.play("sfx_getcoins") }.bind(this))) }, e.prototype.resize = function(t, e) { var i = this.app.screenManager.container.x / this.app.screenManager.container.scale.x,
                    n = this.app.screenManager.container.y / this.app.screenManager.container.scale.y;
                this.bg.position.set(t / 2, e / 2), this.party && (this.party.x = -i, this.party.y = -n, this.party.w = t + 2 * i, this.party.h = e + 2 * n + 100) }, e
        }(l.Container);
    e["default"] = D, t.exports = e["default"]
}, function(t, e, i) { "use strict";

    function n(t) { return t && t.__esModule ? t : { "default": t } }

    function r(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

    function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

    function a(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

    function s(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } e.__esModule = !0; var h = i(8),
        l = r(h),
        u = i(48),
        c = n(u),
        d = i(32),
        p = n(d),
        f = i(35),
        m = i(56),
        g = n(m),
        v = i(64),
        y = n(v),
        _ = i(65),
        b = n(_),
        x = i(67),
        w = n(x),
        T = i(72),
        S = n(T),
        M = i(43),
        E = n(M),
        A = i(34),
        C = n(A),
        R = i(16),
        P = n(R),
        O = function(t) {
            function e(i) { o(this, e); var n = a(this, t.call(this));
                n.app = i, n.bg = l.Sprite.from("panel_stickerbook.png"), n.bg.anchor.set(.5), n.addChild(n.bg); var r = n.getTournamentDays(),
                    s = "STR_TITLE_LEADERBOARD";
                r > 0 && (s = P["default"].getJson("config").config.TOURNAMENT.TITLE), n.title = g["default"].h1(s), n.title.anchor.set(.5), n.title.y = -312, n.bg.addChild(n.title), n.loader = l.Sprite.from("loading_wheel.png"), n.loader.anchor.set(.5), n.bg.addChild(n.loader); var h = l.Sprite.fromFrame("leaderboard_line.png");
                h.anchor.x = .5, h.y = 215, n.bg.addChild(h), n.board = l.Sprite.from("board_today.png"), n.board.anchor.set(.5), n.board.y = 40, n.bg.addChild(n.board); var u = -206,
                    c = 290,
                    d = { fill: "#fff", fontSize: 30, fontFamily: "avenir" }; if (d.maxWidth = 220, r > 0) { var p = l.Sprite.fromFrame("days_counter_bg.png");
                    p.x = 335, p.y = -370, n.board.addChild(p); var f = r.toString();
                    1 === f.length && (f = "0" + f); var m = new l.BitmapText(f[0], { font: "ClublandRed" });
                    m.x = 20, m.y = -2, p.addChild(m); var m = new l.BitmapText(f[1], { font: "ClublandGreen" });
                    m.x = 65, m.y = -2, p.addChild(m); var m = new E["default"]("STR_LEADERBOARD_TOURNAMENT", d);
                    m.anchor.set(.5), m.x = -c, m.y = u, n.board.addChild(m); var m = new E["default"]("STR_LEADERBOARD_TODAY", d);
                    m.anchor.set(.5), m.x = 0, m.y = u, n.board.addChild(m); var m = new E["default"]("STR_LEADERBOARD_WEEK", d);
                    m.anchor.set(.5), m.x = c, m.y = u, n.board.addChild(m), d.fill = "#000", d.fontSize = 22; var m = new E["default"]("STR_LEADERBOARD_DAYSLEFT", d);
                    m.anchor.set(1, .5), m.x = 455, m.y = -275, n.board.addChild(m), window.testDaysLeft = m } else { var m = new E["default"]("STR_LEADERBOARD_TODAY", d);
                    m.anchor.set(.5), m.x = -c, m.y = u, n.board.addChild(m); var m = new E["default"]("STR_LEADERBOARD_WEEK", d);
                    m.anchor.set(.5), m.x = 0, m.y = u, n.board.addChild(m); var m = new E["default"]("STR_LEADERBOARD_HALLOFFAME", d);
                    m.anchor.set(.5), m.x = c, m.y = u, n.board.addChild(m) } n.noInternetImage = l.Sprite.from("no_database.png"), n.noInternetImage.anchor.set(.5), n.noInternetImage.y = -22, n.noInternetImage.visible = !1, n.bg.addChild(n.noInternetImage); var v = 230,
                    _ = 80,
                    x = new l.Container;
                x.hitArea = new l.Rectangle(-v / 2, -_ / 2, v, _), x.interactive = !0, x.buttonMode = !0, x.x = -c, x.y = u, r > 0 ? x.click = x.tap = n.changeBoard.bind(n, "tournament") : x.click = x.tap = n.changeBoard.bind(n, "today"), n.board.addChild(x); var x = new l.Container;
                x.hitArea = new l.Rectangle(-v / 2, -_ / 2, v, _), x.interactive = !0, x.buttonMode = !0, x.x = 0, x.y = u, r > 0 ? x.click = x.tap = n.changeBoard.bind(n, "today") : x.click = x.tap = n.changeBoard.bind(n, "this_week"), n.board.addChild(x); var x = new l.Container;
                x.hitArea = new l.Rectangle(-v / 2, -_ / 2, v, _), x.interactive = !0, x.buttonMode = !0, x.x = c, x.y = u, r > 0 ? x.click = x.tap = n.changeBoard.bind(n, "this_week") : x.click = x.tap = n.changeBoard.bind(n, "tournament"), n.board.addChild(x), n.boardContent = new l.Container, n.boardContent.x = -407, n.board.addChild(n.boardContent); var T = new l.Graphics;
                T.drawRect(0, 0, 840, 335), T.x -= T.width / 2, T.y -= T.height / 2 - 5, n.board.addChild(T), n.boardContent.mask = T; var S = new l.Graphics;
                S.drawRect(0, 0, 840, 335), S.x -= S.width / 2, S.y -= S.height / 2 - 5, S.alpha = 0, S.hitArea = new l.Rectangle(0, 0, 840, 335), n.board.addChild(S); var M = { target: S },
                    A = new w["default"](M),
                    C = 253,
                    R = 40,
                    O = l.Sprite.from("scroll_bar_bit.png");
                O.anchor.set(0, .5); var L = l.Sprite.from("scroll_bar.png"),
                    I = new y["default"]({ draggerHeight: R, dragLength: C, bar: L, dragger: O });
                I.position.set(438, -110), n.board.addChild(I); var D = new b["default"]({ scrollbar: I, trackpad: A, min: 0, max: 3410 });
                n.scrollCombo = D, n.scrollCombo.scrollbar.visible = !0; var k = l.Sprite.from("backer_text.jpg");
                k.anchor.set(.5), k.y = 210, k.alpha = .1, n.board.addChild(k), n.scrollTextContainer = new l.Container, n.scrollTextContainer.x = -390, n.scrollTextContainer.y = 190, n.board.addChild(n.scrollTextContainer), n.scrollTexts = []; for (var d = { fill: "#000", fontSize: 36, fontFamily: "avenir" }, B = 0, N = 0; N < 2; N++) { var F = new E["default"]("", d);
                    F.x = B, F.y = 0, n.scrollTextContainer.addChild(F), n.scrollTexts.push(F), B += F.width + 10 } var T = new l.Graphics; return T.drawRect(0, 0, 800, 50), T.x = -10, n.scrollTextContainer.addChild(T), n.scrollTextContainer.mask = T, n.boardData = { today: [], this_week: [], tournament: [] }, n.boardCache = {}, n } return s(e, t), e.prototype.changeBoard = function(t) { var e = this.getTournamentDays();
                e > 0 ? "tournament" === t ? this.board.texture = l.Texture.from("board_today.png") : "this_week" === t ? this.board.texture = l.Texture.from("board_tournament.png") : this.board.texture = l.Texture.from("board_this_week.png") : this.board.texture = l.Texture.from("board_" + t + ".png"), this.updateBoard(t) }, e.prototype.updateBoard = function(t) { this.loader.visible = !0; var e = S["default"].TODAY; if ("this_week" === t) e = S["default"].THIS_WEEK;
                else if ("tournament" === t) { var i = this.getTournamentDays();
                    e = i > 0 ? S["default"].TOURNAMENT : S["default"].HALL_OF_FAME } this.boardContent.children.length = 0, this.userCountry = null, this.scrollTexts[0].visible = !1, this.scrollTexts[1].visible = !1, this.noInternetImage.visible = !1; var n = !1;
                this.boardCache[t] ? n = !0 : this.boardCache[t] = new l.Container, this.boardContent.addChild(this.boardCache[t]), S["default"].getScores(e, function(e) { if (!e) return this.updateScrollText("STR_SERVER_DOWN"), this.noInternetImage.visible = !0, void(this.loader.visible = !1); var i = this.getTournamentDays(); if ("tournament" === t && i <= 0) { this.scrollCombo.max = 425; for (var r = 0; r < e.length; r++) n || this.addHallOfFame(e[e.length - r - 1], r, t); var o = ["STR_LEADERBOARD_SCROLL_HALLOFFAME"];
                        this.updateScrollText(o) } else { var a = 0;
                        this.scrollCombo.max = 50 * (e.length + 1) - 390; for (var r = 0; r < e.length; r++) n || this.addEntry(e[r], r, t), a += parseInt(e[r].games_played);
                        a = this.formatNumber(a), this.userCountry && (this.scrollCombo.value = -this.userCountry.y); var o = ["STR_LEADERBOARD_SCROLL"]; "today" === t ? (o.push("STR_LEADERBOARD_SCROLL_TODAY"), o.push(a)) : "this_week" === t ? (o.push("STR_LEADERBOARD_SCROLL_WEEK"), o.push(a)) : "tournament" === t && (o.push("STR_LEADERBOARD_SCROLL_TOURNAMENT1"), o.push(a), o.push("STR_LEADERBOARD_SCROLL_TOURNAMENT2"), o.push(this.getTournamentDays())), this.updateScrollText(o) } this.loader.visible = !1, this.scrollCombo.trackpad.scrollMinY = -this.scrollCombo.max, this.scrollCombo.trackpad.speedY = 0, this.scrollCombo.value = 0 }.bind(this), !0, function(t) { var e = ["STR_NO_INTERNET", "STR_NO_INTERNET"];
                    (503 === t.status || navigator.onLine) && (e = "STR_SERVER_DOWN"), this.updateScrollText(e), this.noInternetImage.visible = !0, this.loader.visible = !1 }.bind(this)) }, e.prototype.getTournamentDays = function() { if (window.URLParams.tournamentDates) var t = window.URLParams.tournamentDates.split("-"),
                    e = new Date(t[0].replace(/_/gi, " ")),
                    i = new Date(t[1].replace(/_/gi, " "));
                else var n = P["default"].getJson("config").config.TOURNAMENT,
                    e = new Date(n.START),
                    i = new Date(n.END); var r = new Date;
                window.URLParams.todayDate && (r = new Date(window.URLParams.todayDate.replace(/_/gi, " "))); var o = 864e5,
                    a = Math.ceil((i.getTime() - r.getTime()) / o); return r.getTime() < e.getTime() && (a = 0), window.URLParams.days && (a = parseInt(window.URLParams.days)), a }, e.prototype.updateScrollText = function(t) { this.scrollTexts[0].visible = !0, this.scrollTexts[1].visible = !0, this.scrollTexts[0].setText(t), this.scrollTexts[0].x = 0, this.scrollTexts[1].setText(t), this.scrollTexts[1].x = this.scrollTexts[0].width + 10 }, e.prototype.getCountryDataForId = function(t) { var e = (0, f.getCountries)(); for (var i in e)
                    if (e[i].SCORE_ID === t) return e[i] }, e.prototype.addHallOfFame = function(t, e, i) { var n = { fill: "#000", fontSize: 25, fontFamily: "avenir", align: "center" },
                    r = new l.Container;
                r.x = 10, r.y = 250 * e + 10, this.boardCache[i].addChild(r); var o = l.Sprite.from(e % 2 === 0 ? "panel_summer_slam.png" : "panel_winter_warriors.png");
                r.addChild(o); var a = new E["default"](t.tournament_name, n);
                a.x = o.width / 2 - a.width / 2, a.y = 12, r.addChild(a); var s = 70,
                    h = 20,
                    u = 40,
                    c = 6,
                    d = 36,
                    p = function(t) { return 107 - t.height / 2 },
                    f = 128;
                n.wordWrap = !0, n.wordWrapWidth = 200, n.lineHeight = 18; var m = l.Sprite.from("ar" === window.LANGUAGE ? "panel_third.png" : "panel_first.png");
                m.x = h, m.y = s, r.addChild(m); var a = new E["default"]("STR_LEADERBOARD_HALLOFFAME_1ST", n);
                a.x = m.width / 2 - a.width / 2, a.y = c, m.addChild(a), t.first_id || (t.first_id = 73); var g = this.getCountryDataForId(parseInt("ar" === window.LANGUAGE ? t.third_id : t.first_id)),
                    v = l.Sprite.from(g.FLAG);
                v.scale.set(.6), v.x = m.width / 2 - v.width / 2, v.y = d, m.addChild(v), n.fontSize = 21, n.maxWidth = 200; var a = new E["default"](g.NAME + "_UPPERCASE", n);
                a.x = m.width / 2 - a.width / 2, a.y = p(a), m.addChild(a), n.fontSize = 19; var y = new E["default"](["STR_LEADERBOARD_POINTS", this.formatNumber("ar" === window.LANGUAGE ? t.third_total_points : t.first_total_points)], n);
                y.x = m.width / 2 - y.width / 2, y.y = f, m.addChild(y), n.fontSize = 25; var _ = l.Sprite.from("panel_second.png");
                _.x = m.x + m.width + u, _.y = s, r.addChild(_); var a = new E["default"]("STR_LEADERBOARD_HALLOFFAME_2ND", n);
                a.x = _.width / 2 - a.width / 2, a.y = c, _.addChild(a), t.second_id || (t.second_id = 60); var g = this.getCountryDataForId(parseInt(t.second_id)),
                    v = l.Sprite.from(g.FLAG);
                v.scale.set(.6), v.x = _.width / 2 - v.width / 2, v.y = d, _.addChild(v), n.fontSize = 21, n.maxWidth = 200; var a = new E["default"](g.NAME + "_UPPERCASE", n);
                a.x = _.width / 2 - a.width / 2, a.y = p(a), _.addChild(a), n.fontSize = 19; var y = new E["default"](["STR_LEADERBOARD_POINTS", this.formatNumber(t.second_total_points)], n);
                y.x = _.width / 2 - y.width / 2, y.y = f, _.addChild(y), n.fontSize = 25; var b = l.Sprite.from("ar" === window.LANGUAGE ? "panel_first.png" : "panel_third.png");
                b.x = _.x + _.width + u, b.y = s, r.addChild(b); var a = new E["default"]("STR_LEADERBOARD_HALLOFFAME_3RD", n);
                a.x = b.width / 2 - a.width / 2, a.y = c, b.addChild(a), t.third_id || (t.third_id = 30); var g = this.getCountryDataForId(parseInt("ar" === window.LANGUAGE ? t.first_id : t.third_id)),
                    v = l.Sprite.from(g.FLAG);
                v.scale.set(.6), v.x = b.width / 2 - v.width / 2, v.y = d, b.addChild(v), n.fontSize = 21, n.maxWidth = 200; var a = new E["default"](g.NAME + "_UPPERCASE", n);
                a.x = b.width / 2 - a.width / 2, a.y = p(a), b.addChild(a), n.fontSize = 19; var y = new E["default"](["STR_LEADERBOARD_POINTS", this.formatNumber("ar" === window.LANGUAGE ? t.first_total_points : t.third_total_points)], n);
                y.x = b.width / 2 - y.width / 2, y.y = f, b.addChild(y) }, e.prototype.addEntry = function(t, e, i) { var n = { fill: "#000", fontSize: 20, fontFamily: "avenir" },
                    r = new l.Container;
                r.y = 50 * e, this.boardCache[i].addChild(r); var o = e + 1,
                    a = l.Sprite.from("backer.jpg");
                a.alpha = e % 2 === 0 ? .18 : .08, c["default"].countryID && t.id === c["default"].countryID.SCORE_ID && (a.texture = l.Texture.from("backer_gold.jpg"), a.alpha = 1, this.userCountry = r), r.addChild(a); var s = new l.Text(o + ".", n);
                s.x = 60, s.y = 10, r.addChild(s); var h = this.getCountryDataForId(t.id),
                    u = l.Sprite.from(h.FLAG);
                u.x = 160, u.y = 3, u.scale.set(.5), r.addChild(u), n.maxWidth = 300; var s = new E["default"](h.NAME + "_UPPERCASE", n);
                s.x = 270, s.y = 21 - s.height / 2, r.addChild(s); var d = this.formatNumber(t.total_points),
                    s = new l.Text(d, n);
                C["default"].fitText(s, 140, d, "w"), s.x = 680 - s.width, s.y = 10, r.addChild(s); var p = "down"; "0" === t.change ? p = "stay" : "1" === t.change && (p = "up"), "0" === t.total_points && (p = "stay"); var f = l.Sprite.from("chevron_" + p + ".png");
                f.anchor.set(.5), f.alpha = .5, f.x = 770, f.y = 22, r.addChild(f) }, e.prototype.formatNumber = function(t) { if (t < 1e3) return t;
                t = t.toString(); for (var e = Math.ceil(t.length / 3) - 1, i = "", n = 0; n < e; n++) i = translations.STR_SEPARATOR + t.substr(-3) + i, t = t.substr(0, t.length - 3); return i = t + i }, e.prototype.updateTransform = function() { t.prototype.updateTransform.call(this), this.scrollCombo.update(), this.boardContent.y = this.scrollCombo.value - 160, this.loader.visible && (this.loader.rotation += .1); for (var e = 0; e < this.scrollTexts.length; e++) { var i = this.scrollTexts[e]; "ar" === window.LANGUAGE ? (i.x += 1, 0 === e && i.x > 1e3 && (i.x = this.scrollTexts[1].x - i.width - 10), 1 === e && i.x > 1e3 && (i.x = this.scrollTexts[0].x - i.width - 10)) : (i.x -= 1, 0 === e && i.x + i.width < 0 && (i.x = this.scrollTexts[1].x + this.scrollTexts[1].width + 10), 1 === e && i.x + i.width < 0 && (i.x = this.scrollTexts[0].x + this.scrollTexts[0].width + 10)) } }, e.prototype.onHide = function() {}, e.prototype.onShow = function() { this.boardCache = {}, this.app.topMenu.prevScreen = p["default"].SCREEN_ID.TITLE, this.app.topMenu.setState("prevsettings"), this.resize(this.w, this.h), this.bg.scale.set(0), TweenLite.to(this.bg.scale, 1, { x: 1, y: 1, ease: Elastic.easeOut, delay: .2 }); var t = this.getTournamentDays();
                t > 0 ? this.changeBoard("tournament") : this.changeBoard("today") }, e.prototype.onShown = function() { this.app.topMenu.prevScreen || (this.app.topMenu.prevScreen = p["default"].SCREEN_ID.TITLE) }, e.prototype.resize = function(t, e) { this.w = t, this.h = e, this.bg.position.set(t / 2, e / 2) }, e }(l.Container);
    e["default"] = O, t.exports = e["default"] }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = (i(30), i(40)),
            a = i(85),
            s = i(50),
            h = (i(182), i(183)),
            l = i(32),
            u = i(48),
            c = i(49),
            d = (c.CharacterData, i(72), i(42)),
            p = i(12),
            f = i(16),
            m = function(t) { r.Container.call(this), this.app = t, this.game = new a(t), this.game.onGameover.add(this.onGameover, this), this.addChild(this.game.view), this.app.game = this.game, this.transition = new h, this.continueButton = new d("button_green_long.png", null, null, "STR_CONTINUE", 1.1), this.continueButton.defaultScale = 1, this.continueButton.onPress.add(this.onContinueButtonPressed, this), this.continueButton.visible = !1, this.addChild(this.continueButton), this.transition.onTransition = this.onTransition.bind(this) };
        m.prototype = Object.create(r.Container.prototype), m.prototype.onTransition = function() { this.app.topMenu.setState("empty"), this.app.topMenu.bar.visible = !0, this.loadMatchAssets() }, m.prototype.loadMatchAssets = function() { var t = new p;
            window.matchLoader = t; for (var e = [], i = [ASSET_URL + "img/game/shield_bubble.png", ASSET_URL + "img/game/runnoff.png", ASSET_URL + "img/game/front_crowd.png", ASSET_URL + "img/game/pitch_circle_banner.png"], n = 0; n < i.length; n++) { if (window.halfSizeAssets) { var r = i[n].substr(0, i[n].indexOf(".")),
                        o = i[n].substr(i[n].indexOf("."), 4);
                    i[n] = r + "_half" + o } e.push(i[n]) } for (var a = [ASSET_URL + "img/game/power_ups"], n = 0; n < a.length; n++) window.halfSizeAssets && (a[n] += "_half"), a[n] += ".json", e.push(a[n]);
            t.addPixiAssets(e); for (var s = this.getCharacters(), n = 0; n < s.length; n++) { var h = s[n].spriteSheet,
                    l = h.replace("%COLOR%", "blue"),
                    u = h.replace("%COLOR%", "red");
                window.halfSizeAssets && (l = l.replace(".json", "_half.json"), u = u.replace(".json", "_half.json")), t.addPixiAssets([ASSET_URL + "img/game/characters/" + u, ASSET_URL + "img/game/characters/" + l]) } t.onComplete.addOnce(this.assetsLoaded.bind(this, t)), t.load() }, m.prototype.getCharacters = function() { for (var t = [], e = 0; e < u.teamA.length; e++) t.push(u.teamA[e]); for (var e = 0; e < u.teamB.length; e++) t.push(u.teamB[e]); return t }, m.prototype.assetsLoaded = function(t) { for (var e = [], i = 0; i < t.pixiAssetsToLoad.length; i++) { var n = t.pixiAssetsToLoad[i],
                    o = !1; for (var a in r.TextureCache)
                    if (a.indexOf(n) !== -1) { o = !0; break } o || e.push(n) } for (var s = this.getCharacters(), i = 0; i < s.length; i++) { var h = s[i],
                    a = h.spriteSheet.replace("%COLOR%", "blue"),
                    l = f.getJson("character-animation")[a],
                    u = l.run[0];
                r.TextureCache[u] || e.push(h.id) } return e.length > 0 ? void this.loadMatchAssets() : (this.app.topMenu.setState("game"), this.app.topMenu.bar.visible = !1, this.game.start(), void this.transition.fadeOut()) }, m.prototype.onShow = function() { TweenLite.to(this.app.dimmer, .4, { alpha: 1, delay: .4, onComplete: function() { this.app.background.visible = !1, this.app.dimmer.visible = !1 }.bind(this) }), this.continueButton.visible = !1, this.app.overlayManager.onShow.add(this.onOverlayShow, this), this.app.overlayManager.onHide.add(this.onOverlayHide, this), window.showTutorial ? (s.adbTrackAction("tutorial_start"), s.bootstrapEventTrigger("tutorial_start")) : u.isTournament && (s.adbTrackAction("start_match", { match_type: this.game.getMatchType() }), s.bootstrapEventTrigger("start_match", { match_type: this.game.getMatchType() })) }, m.prototype.quit = function() { this.screenManager.gotoScreenByID(l.SCREEN_ID.TITLE) }, m.prototype.onGameover = function() { this.app.overlayManager.hide(), u.isTournament ? this.onTournamentMatchEnd() : (this.continueButton.visible = !0, this.continueButton.alpha = 0, TweenLite.to(this.continueButton, .4, { alpha: 1 })) }, m.prototype.onTournamentMatchEnd = function() { var t = u.matchResult.goalsA - u.matchResult.goalsB,
                e = t <= 0,
                i = u.tournamentData["final"].length > 0;!e && u.videoAdLoaded ? this.showVideoAd() : e && u.coins >= 50 ? (this.app.topMenu.prevScreen = l.SCREEN_ID.TITLE, MusicManager2.play("menumusic2"), window.unlockablesPrevScreen = l.SCREEN_ID.TITLE, this.screenManager.gotoScreenByID(l.SCREEN_ID.UNLOCKABLES)) : e ? (MusicManager2.play("menumusic2"), this.screenManager.gotoScreenByID(l.SCREEN_ID.LEADERBOARD)) : (MusicManager2.play("tournament_screen"), i && !e ? (u.tournamentData.winner = [u.countryID], this.screenManager.gotoScreenByID(l.SCREEN_ID.TEAM_REVIEW)) : this.screenManager.gotoScreenByID(l.SCREEN_ID.TOURNAMENT)) }, m.prototype.showVideoAd = function() { if (u.videoAdLoaded) { o.currentSound && o.currentSound.stop(); var t = u.matchResult.goalsA - u.matchResult.goalsB,
                    e = t <= 0,
                    i = u.tournamentData["final"].length > 0;
                nativeads.playInterstitial(function() { Device.instance.iOS && ("interrupted" === Howler.ctx.state || "suspended" === Howler.ctx.state) ? Howler.ctx.resume().then(function() { MusicManager2.play("tournament_screen") }) : MusicManager2.play("tournament_screen"), this.app.loadInterstitial(), i && !e ? (u.tournamentData.winner = [u.countryID], this.screenManager.gotoScreenByID(l.SCREEN_ID.TEAM_REVIEW)) : this.screenManager.gotoScreenByID(l.SCREEN_ID.TOURNAMENT) }.bind(this), function() { MusicManager2.play("tournament_screen"), this.app.loadInterstitial(), i && !e ? (u.tournamentData.winner = [u.countryID], this.screenManager.gotoScreenByID(l.SCREEN_ID.TEAM_REVIEW)) : this.screenManager.gotoScreenByID(l.SCREEN_ID.TOURNAMENT) }.bind(this)) } }, m.prototype.onContinueButtonPressed = function() { this.screenManager.gotoScreenByID(l.SCREEN_ID.TITLE) }, m.prototype.onShown = function() {}, m.prototype.onHide = function() { this.app.topMenu.skipButton.visible = !1, this.app.background.visible = !0, this.app.dimmer.visible = !0, this.app.dimmer.alpha = 1, TweenLite.to(this.app.dimmer, .4, { alpha: .5 }), this.game.pause(!0), this.app.overlayManager.onShow.remove(this.onOverlayShow, this), this.app.overlayManager.onHide.remove(this.onOverlayHide, this), app.view.style["-webkit-filter"] = null }, m.prototype.onHidden = function() { this.game.pause() }, m.prototype.onOverlayShow = function() { this.game.pause() }, m.prototype.onOverlayHide = function() { this.game.isGameover || this.game.resume() }, m.prototype.resize = function(t, e) { var i = this.app.screenManager.container.x / this.app.screenManager.container.scale.x,
                n = this.app.screenManager.container.y / this.app.screenManager.container.scale.y;
            this.game.resize(t + 2 * i, e + 2 * n, this.app), this.position.x = 0, this.position.y = 0, this.continueButton.x = t / 2, this.continueButton.y = e / 2 + 300 }, n.exports = m }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) {
    var n;
    n = function(t, e, n) {
        var r = i(8),
            o = i(13),
            a = i(21),
            s = i(22),
            h = i(30),
            l = i(40),
            u = i(86),
            c = i(88),
            d = i(91),
            p = i(99),
            f = i(110),
            m = i(115),
            g = i(117),
            v = i(119),
            y = i(132),
            _ = i(135),
            b = i(137),
            x = i(139),
            w = i(140),
            T = i(141),
            S = i(142),
            M = i(143),
            E = i(147),
            A = i(148),
            C = i(149),
            R = i(150),
            P = i(151),
            O = i(152),
            L = i(153),
            I = i(118),
            D = i(48),
            k = i(154),
            B = i(51),
            N = i(172),
            F = i(173),
            U = i(174),
            G = i(176),
            j = i(179),
            z = i(181),
            V = i(72),
            H = i(81);
        a.game = new a;
        var W = function(t) {
            this.app = t, this.onGameover = new o, this.wait = new T(a.game), this.isGameover = !1, this.paused = !0, this.score = 0, this.counter = 0, this.view = new r.Container, this.world = new p.World, a.game.start();
            var e = { camera: new m(this), camera3d: new g(this) };
            this.stats = { tackleTotal: 0, tackleSuccess: 0, shootTotal: 0, passTotal: 0, passSuccess: 0, opponentTackle: 0, opponentTackleSuccess: 0, possession: 0 }, window.gameTest = this, this.world.install(new p.CrashWorld, "crash"), this.world.install(new p.PixiView(e), "view"), this.world.install(new f(e), "view3d"), window.winterMode && (this.particleSystem = new j, this.world.view3d.scene.add(this.particleSystem)), this.arrow = new z, this.world.view3d.scene.add(this.arrow), this.world.overlay = new r.Container, this.view.addChild((new r.Graphics).beginFill(1044480).drawRect(0, 0, 2, 2)), this.view.addChild(this.world.view3d), this.world.crash.registerCollison(0, 1), this.world.crash.registerCollison(1, 1), this.world.crash.registerCollison(1, 4), this.lighting3d = new THREE.Object3D;
            var i = new THREE.AmbientLight(10397865),
                n = new THREE.DirectionalLight(16186107, .6);
            n.position.set(0, 0, 1e4), this.lighting3d.add(i), this.lighting3d.add(n), this.world.view3d.scene.add(this.lighting3d), this.world.game = this, this.balanceManager = new F(this), this.pitch = new x, this.world.add(this.pitch), this.goalLeft = new _, this.goalRight = new _((!0)),
                this.keeperLeft = new b, this.keeperRight = new b((!0)), this.ball = new y, this.teamLeft = new p.Group([new v((!1)), new v((!1)), new v((!1))]), this.teamRight = new p.Group([new v((!0)), new v((!0)), new v((!0))]), this.teamLeft.run(function(t) { t.setTeam(this) }, this.teamLeft), this.teamRight.run(function(t) { t.setTeam(this) }, this.teamRight), this.world.addGroup(this.teamLeft), this.world.addGroup(this.teamRight), this.speed = 1, this.endState = 0, this.setPositions(), this.world.add(this.goalLeft), this.world.add(this.goalRight), this.world.add(this.keeperRight), this.world.add(this.keeperLeft), this.world.add(this.ball), this.gameDetails = new S(this), this.teamManagerA = new M(this, this.teamLeft, this.teamRight), this.teamManagerA.setSide(!0), this.teamManagerA.human = !0, this.teamManagerB = new M(this, this.teamRight, this.teamLeft), this.teamManagerB.setSide(!1), this.keeperManagerRight = new E(this.keeperRight, (!1), this), this.keeperManagerLeft = new E(this.keeperLeft, (!0), this), this.powerupManager = new k, this.world.add(this.powerupManager), this.black = (new r.Graphics).beginFill(0).drawRect(0, 0, 100, 100), this.goalLeft.onGoalScored.add(this.onGoalScored, this), this.goalRight.onGoalScored.add(this.onGoalScored, this), this.scripts = { start: new A(this), goal: new C(this), "super": new P(this), end: new R(this), shoot: new O(this) }, this.hud = new d(this), this.world.view.interactiveChildren = !1, this.view.addChild(this.world.overlay), this.view.addChild(this.hud.party), this.view.addChild(this.hud), this.view.addChild(this.black), this.flash = new B, this.movieBorders = new N(1, 1, .05);
            var h = I.GAME.TIME;
            window.URLParams.gametime && (h = parseInt(window.URLParams.gametime)), this.timer = new L(h, a.game), this.timer.onComplete.add(this.onTimeUp, this), this.black.alpha = 0, this.goalsA = 0, this.goalsB = 0, this.view.addChild(this.flash), this.teamManagerB.debug.position.x = 400, this.superMove = new U, this.view.addChild(this.superMove), this.vignette = r.Sprite.from(ASSET_URL + "img/game/vignette.png"), this.vignette.anchor.set(.5), this.view.addChild(this.vignette), this.controller = s.instance.desktop ? new u(this) : new c(this), this.goldenGoal = !1, window.showTutorial && (this.tutorialManager = new G(this), this.view.addChild(this.tutorialManager)), this.coinSplash = new H(this.app), window.addEventListener("blur", function() { window.showTutorial || "game" !== this.app.topMenu.state || this.app.topMenu.pauseGame() }.bind(this))
        };
        W.constructor = W, W.prototype.setPositions = function() { var t = 1600,
                e = 900;
            this.pitchWidth = t, this.pitchHeight = e, this.pitch.view.width = t, this.pitch.view.height = e, this.setBounds(new r.Rectangle(0, 0, t, e)), this.ball.position.x = t / 2, this.ball.position.y = e / 2, this.ball.body.velocity.set(0), this.goalLeft.position.x = -100, this.goalLeft.left = !0, this.goalLeft.position.y = e / 2, this.goalRight.position.x = t, this.goalRight.position.y = e / 2, this.keeperRight.position.x = t - 30, this.keeperRight.position.y = e / 2, this.keeperLeft.position.x = 30, this.keeperLeft.position.y = e / 2, this.teamLeft.run(function(e) { e.position.x = t / 2, e.position.y = 0 }, this), this.teamRight.run(function(e) { e.position.x = t / 2, e.position.y = 0 }, this) }, W.prototype.getMatchType = function() { var t = D.tournamentData["final"].length > 0,
                e = D.tournamentData.semi.length > 0,
                i = "quarter"; return e && (i = "semi"), t && (i = "final"), D.isTournament || (i = "practice"), i }, W.prototype.animateCoin = function(t, e) { D.isTournament && h.sfx.play("sfx_getcoins"); for (var i = t.x, n = t.y, r = 0; r < e; r++) TweenLite.delayedCall(.1 * r, function() { this._animateCoin(i, n, 1) }.bind(this)) }, W.prototype._animateCoin = function(t, e, i) { if (D.isTournament) { var n = r.Sprite.from("coin.png");
                this.app.topMenu.addChild(n), n.anchor.set(.5), n.position.x = t, n.position.y = e, TweenLite.to(n.position, .8, { x: this.app.topMenu.coinBar.x + 30, y: 44, ease: Quad.easeOut, onComplete: function() { var t = r.Sprite.from("coing_ring.png");
                        t.anchor.set(.5), t.position.x = n.position.x, t.position.y = n.position.y, this.app.topMenu.addChild(t); var e = .8;
                        TweenLite.to(t.scale, e, { x: 1.5, y: 1.5, onComplete: function() { this.app.topMenu.removeChild(t) }.bind(this) }), TweenLite.to(t, e, { alpha: 0 }), this.app.topMenu.addCoins(i), this.app.topMenu.removeChild(n) }.bind(this) }) } }, W.prototype.onGoalScored = function(t) { if (this.powerupManager.clear(), this.world.view.camera.shake(), h.sfx.play("crowd_goal_3"), t.left) this.goalsB++;
            else { var e = { x: this.w / 2, y: 220 };!window.showTutorial && D.isTournament && TweenLite.delayedCall(2, function() { this.coinSplash.start(15, e.x, e.y), h.sfx.play("goal_coins") }.bind(this)), this.goalsA++ } this.goldenGoal ? this.finish() : this.scripts.goal.run(t.left) }, W.prototype.reset = function(t) { this.app.topMenu.setState("game"), window.showTutorial ? this.hud.scorePanel.alpha = 0 : this.hud.scorePanel.alpha = 1; for (var e in this.stats) this.stats[e] = 0; if (this.keeperLeft.ballSkills.ball && this.keeperLeft.ballSkills.releaseBall(), this.keeperRight.ballSkills.ball && this.keeperRight.ballSkills.releaseBall(), this.setPositions(), this.isGameover = !1, this.goldenGoal = !1, this.scripts.start.reset(), this.scripts.goal.reset(), this.scripts["super"].reset(), this.scripts.end.reset(), this.scripts.shoot.reset(), this.powerupManager.clear(), this.teamManagerA.setTeam(D.teamA), this.teamManagerB.setTeam(D.teamB), this.teamManagerA.resetPositions(!0, !1), this.teamManagerA.showAll(), this.teamManagerB.resetPositions(!1, !1), this.teamManagerB.showAll(), this.keeperManagerRight.show(), this.powerupManager.resume(), this.keeperLeft.show(), this.keeperRight.show(), this.goalLeft.enableGoal(), this.goalRight.enableGoal(), this.teamManagerA.constrainPlayer = !1, this.teamManagerA.enablePass(), this.teamManagerA.enableTackle(), this.teamManagerA.enableShoot(), this.controller.lockRight = !1, this.controller.lockLeft = !1, this.controller.lockUp = !1, this.controller.lockDown = !1, this.controller.lockSpace = !1, this.controller.movementPointer && (this.controller.movementPointer.alpha = 0), this.controller.buttonPointer && (this.controller.buttonPointer.alpha = 0), this.counter = 0, this.score = 0, this.goalsA = 0, this.goalsB = 0, this.hud.reset(), this.world.view3d.camera.endMode = !1, this.hud.setData(D.countryID, D.opponentID), this.timer.reset(), D.savedGame && (this.goalsA = D.savedGame.goalsA, this.goalsB = D.savedGame.goalsB, this.timer.count = D.savedGame.gameTime), window.showTutorial) this.tutorialManager || (this.tutorialManager = new G(this), this.view.addChild(this.tutorialManager));
            else { var i = !0,
                    n = !0,
                    r = !1;
                D.savedGame && (i = !1, D.savedGame.lastOwner && D.savedGame.lastOwner.isTeamA && (n = !1), r = !0), this.scripts.start.run(i, n, r), D.savedGame = null } }, W.prototype.start = function(t) { this.reset(t), this.resume(), this.vignette.alpha = 0, this.pitch.loadBanners(), this.pitch.showLogo(), D.isTournament && (D.scoreKey = null, V.startGame(D.countryID.SCORE_ID, D.opponentID.SCORE_ID, function(t) { t && t.key && (D.scoreKey = t.key) })), window.showTutorial ? (this.tutorialManager.start(), this.hud.scorePanel.alpha = 0) : this.hud.scorePanel.alpha = 1, window.URLParams.hideOpponent && this.teamManagerB.hideAll() }, W.prototype.pause = function(t) { this.paused || (l.volume = 1, t || MusicManager2.play("pause_screen"), this.paused = !0, this.view.interactive = !1, a.game.stop(), a.game.remove(this.update, this)) }, W.prototype.resume = function() { this.paused && (l.volume = .5, MusicManager2.play("applause_loop"), this.paused = !1, this.view.interactive = !0, a.game.start(), a.game.add(this.update, this, 1)) }, W.prototype.update = function() { window.showTutorial && this.tutorialManager.update(), a.game.speed += .3 * (.8 * this.speed - a.game.speed), this.counter += a.instance.deltaTime, this.world.crash.dt = a.game.speed, this.world.update(), this.teamManagerA.activePlayer && this.teamManagerA.activePlayer.ballSkills.ball && (this.stats.possession += a.game.deltaTime / 60), this.world.view3d.camera.focusMode ? (this.vignette.alpha += .05 * (1 - this.vignette.alpha), this.vignette.scale.x -= .005, this.vignette.scale.y -= .005) : this.vignette.alpha += .1 * (0 - this.vignette.alpha), this.balanceManager.update(), this.particleSystem && this.particleSystem.update(), this.arrow.update(), this.controller.update(), this.keeperManagerRight.update(), this.keeperManagerLeft.update(), this.teamManagerA.update(), this.teamManagerB.update(), this.hud.update() }, W.prototype.onTimeUp = function() { window.showTutorial || (this.goalsA === this.goalsB ? (this.goldenGoal || this.hud.message.show("POWERUP", { name: "STR_GAME_GOLDEN_GOAL2", color: "#fcca2e" }), this.goldenGoal = !0) : (this.finish(), this.teamManagerA.disableShoot())) }, W.prototype.getResultMultiplier = function() { var t = this.goalsA - this.goalsB,
                e = t <= 0,
                i = D.tournamentData["final"].length > 0,
                n = D.tournamentData.semi.length > 0,
                r = 1,
                o = 5;
            i ? r = 4 : !i && n && (r = 2.5), e ? o = 1.5 : this.goldenGoal && (o = 3); var a = o + (this.goalsA - this.goalsB); return a *= r, a = Math.round(a) }, W.prototype.finish = function() { if (this.app.topMenu.setState("empty"), this.goldenGoal = !1, this.points = 0, this.goalsA > this.goalsB ? this.endState = I.END_STATE.WIN : this.goalsA === this.goalsB ? this.endState = I.END_STATE.DRAW : this.endState = I.END_STATE.LOSE, D.isTournament && D.scoreKey) { var t = this.getResultMultiplier();
                V.sendScore(D.scoreKey, t, function(t) { this.points = t.points.daily }.bind(this)) } this.scripts.end.run(this.endState) }, W.prototype.gameover = function() { this.isGameover || (this.isGameover = !0, this.onGameover.dispatch()) }, W.prototype.setBounds = function(t) { var e = 200,
                i = new w(t.x - 100, 0, 100, t.height / 2 - e / 2),
                n = new w(t.x - 100, t.height / 2 + e / 2, 100, t.height / 2 - e / 2),
                r = new w(t.x - 200 + 20, (-100), 100, t.height + 200);
            r.net = !0; var o = new w(t.x + t.width, 0, 100, t.height / 2 - e / 2),
                a = new w(t.x + t.width, t.height / 2 + e / 2, 100, t.height / 2 + e / 2),
                s = new w(t.x + t.width + 100 - 20, (-100), 100, t.height + 200);
            s.net = !0; var h = new w(t.x - 100, t.y - 100, t.width + 200, 100),
                l = new w(t.x - 100, t.y + t.height, t.width + 200, 100);
            this.world.add(i), this.world.add(n), this.world.add(r), this.world.add(o), this.world.add(a), this.world.add(s), this.world.add(h), this.world.add(l) }, W.prototype.resize = function(t, e, i) { this.w = t, this.h = e; var n = i.screenManager.container.x / i.screenManager.container.scale.x,
                r = i.screenManager.container.y / i.screenManager.container.scale.y;
            this.view.x = -n, this.view.y = -r, this.hud.resize(t, e, i), this.controller.resize(t, e), this.world.view3d.resize(t, e), this.black.scale.set(t / 100, e / 100), this.flash.resize(t, e), this.movieBorders.resize(t, e), window.showTutorial && this.tutorialManager.resize(t, e), this.vignette.position.set(t / 2, e / 2), this.superMove.resize(t, e) }, n.exports = W
    }.call(e, i, e, t), !(void 0 !== n && (t.exports = n))
}, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(87),
            o = i(16),
            a = function(t) { this.game = t, this.keyboard = new r, this.keyIsDown = !1, this.enadbled = !0, this.currentActiveItem = null, this.dPad = new PIXI.Point; var e = o.getJson("config").config.LOCALE,
                    i = "z"; "_fr" === e ? i = "w" : "_de" === e && (i = "y"), this.keyboard.onKeyPress("space", this.onSpacePressed.bind(this)), this.keyboard.onKeyRelease("space", this.onSpaceReleased.bind(this)) };
        a.prototype.reset = function() { this.keyIsDown = !1, window.focus() }, a.prototype.update = function(t) { this.game.paused && (this.keyIsDown = !1); var e = 0,
                i = 0,
                n = this.game.teamManagerA; if (this.keyboard.isPressed("left") || this.keyboard.isPressed("a") ? e = -1 : (this.keyboard.isPressed("right") || this.keyboard.isPressed("d")) && (e = 1), this.keyboard.isPressed("up") || this.keyboard.isPressed("w") ? i = -1 : (this.keyboard.isPressed("down") || this.keyboard.isPressed("s")) && (i = 1), e === -1 && this.lockLeft && (e = 0), 1 === e && this.lockRight && (e = 0), i === -1 && this.lockUp && (i = 0), 1 === i && this.lockDown && (i = 0), 0 === e && 0 === i) n.stopActivePlayer();
            else { var r = Math.sqrt(e * e + i * i);
                e /= r, i /= r, n.moveActivePlayerInDirection(e, -i) } }, a.prototype.onSpacePressed = function() { this.game.paused || this.game.teamManagerA.actionBegin() }, a.prototype.onSpaceReleased = function() { this.game.paused || this.game.teamManagerA.actionEnd() }, a.prototype.resize = function(t, e) {}, n.exports = a }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, i) { Keyboard = function() { this._states = { up: 0, down: 1 }, this._keyCodes = { 37: { label: "left", state: 0, preventBubble: !0 }, 38: { label: "up", state: 0, preventBubble: !0 }, 39: { label: "right", state: 0, preventBubble: !0 }, 40: { label: "down", state: 0, preventBubble: !0 }, 49: { label: "1", state: 0, preventBubble: !0 }, 50: { label: "2", state: 0, preventBubble: !0 }, 51: { label: "3", state: 0, preventBubble: !0 }, 52: { label: "4", state: 0, preventBubble: !0 }, 53: { label: "5", state: 0, preventBubble: !0 }, 54: { label: "6", state: 0, preventBubble: !0 }, 55: { label: "7", state: 0, preventBubble: !0 }, 56: { label: "8", state: 0, preventBubble: !0 }, 57: { label: "9", state: 0, preventBubble: !0 }, 97: { label: "numpad1", state: 0, preventBubble: !0 }, 98: { label: "numpad2", state: 0, preventBubble: !0 }, 99: { label: "numpad3", state: 0, preventBubble: !0 }, 100: { label: "numpad4", state: 0, preventBubble: !0 }, 101: { label: "numpad5", state: 0, preventBubble: !0 }, 102: { label: "numpad6", state: 0, preventBubble: !0 }, 103: { label: "numpad7", state: 0, preventBubble: !0 }, 104: { label: "numpad8", state: 0, preventBubble: !0 }, 105: { label: "numpad9", state: 0, preventBubble: !0 }, 13: { label: "enter", state: 0, preventBubble: !0 }, 32: { label: "space", state: 0, preventBubble: !0 }, 65: { label: "a", state: 0, preventBubble: !0 }, 68: { label: "d", state: 0, preventBubble: !0 }, 83: { label: "s", state: 0, preventBubble: !0 }, 87: { label: "w", state: 0, preventBubble: !0 }, 89: { label: "y", state: 0, preventBubble: !0 }, 90: { label: "z", state: 0, preventBubble: !0 }, 88: { label: "x", state: 0, preventBubble: !0 } }, this.hash = {}, this.hashUp = {}, this.disabled = !1, this.start(), this.dirty = !1 }, Keyboard.prototype.start = function() { var t = this;
            this._onKeyDown = function(e) { return t.processKeyDown(e) }, this._onKeyUp = function(e) { return t.processKeyUp(e) }, window.addEventListener("keydown", this._onKeyDown, !1), window.addEventListener("keyup", this._onKeyUp, !1) }, Keyboard.prototype.stop = function() { window.removeEventListener("keydown", this._onKeyDown), window.removeEventListener("keyup", this._onKeyUp) }, Keyboard.prototype.processKeyDown = function(t) { if (this.disabled !== !0) { var e = t.keyCode; if (this.keyCode = e, this._keyCodes.hasOwnProperty(e)) { var i = this._keyCodes[e];
                    i.preventBubble && t.preventDefault(), i.state != this._states.down && (i.state = this._states.down, this.dirty = !0, this.hash[i.label] && this.hash[i.label](i)) } } }, Keyboard.prototype.processKeyUp = function(t) { if (this.disabled !== !0) { var e = t.keyCode; if (this.keyCode = null, this._keyCodes.hasOwnProperty(e)) { var i = this._keyCodes[e];
                    i.preventBubble && t.preventDefault(), i.state != this._states.up && (i.state = this._states.up, this.dirty = !0, this.hashUp[i.label] && this.hashUp[i.label](i)) } } }, Keyboard.prototype.isPressed = function(t) { var e = this.getCodeFromLabel(t); return !!e && this._keyCodes[e].state === this._states.down }, Keyboard.prototype.getCodeFromLabel = function(t) { for (var e in this._keyCodes)
                if (this._keyCodes[e].label === t) return e; return !1 }, Keyboard.prototype.onKeyPress = function(t, e) { this.hash[t] = e }, Keyboard.prototype.onKeyRelease = function(t, e) { this.hashUp[t] = e }, i.exports = Keyboard }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) {
        function r(t) { t = t || {}, a.call(this), this.sprite = PIXI.Sprite.from(t.downFrame), this.sprite.anchor.set(.5), this.addChild(this.sprite), this.interactiveChildren = !1, this.view.hitArea = new PIXI.Circle(0, 0, 80), this.actionFrame = new PIXI.Sprite, this.actionFrame.anchor.set(.5), this.addChild(this.actionFrame), this.downFrame = PIXI.Sprite.from(t.downFrame), this.downFrame.anchor.set(.5), this.downFrame.alpha = 0, this.addChild(this.downFrame), this.isDown = !1, this.onDown.add(function() { this.isDown = !0, this.sprite.texture = PIXI.Texture.fromFrame(t.downFrame) }, this), this.onUp.add(function() { this.isDown = !1, this.sprite.texture = PIXI.Texture.fromFrame(t.upFrame) }, this) } var o = i(89),
            a = i(90),
            s = new PIXI.Point,
            h = function(t) { this.game = t, this.view = this.game.view, this.view.interactive = !0, this.view.buttonMode = !0; var e = PIXI.Sprite.from("joystick_back.png");
                e.anchor.set(.5); var i = PIXI.Sprite.from("joystick.png");
                i.anchor.set(.5); var n = { background: e, stick: i };
                this.analogueStick = new o(n), this.analogueStick.view.scale.set(1.5), this.movementPointer = PIXI.Sprite.fromFrame("pointer2.png"), this.movementPointer.anchor.set(.5), this.movementPointer.scale.set(1 / this.analogueStick.view.scale.x), this.movementPointer.y = 20, this.movementPointer.alpha = 0, this.analogueStick.view.addChild(this.movementPointer), this.buttonOne = new r({ downFrame: "touch_button_hit.png", upFrame: "touch_button.png" }), this.buttonOne.view.scale.set(1.5), this.buttonOne.setActionFrame("touch_button.png"), this.buttonOne.addCallbacks(function() { this.lockSpace || this.game.teamManagerA.actionBegin() }, function() { this.lockSpace || this.game.teamManagerA.actionEnd() }, this), this.buttonPointer = PIXI.Sprite.fromFrame("pointer2.png"), this.buttonPointer.anchor.set(.5), this.buttonPointer.scale.set(1 / this.buttonOne.view.scale.x), this.buttonPointer.y = 20, this.buttonPointer.alpha = 0, this.buttonOne.view.addChild(this.buttonPointer), this.view.addChild(this.analogueStick.view), this.view.addChild(this.buttonOne.view), this.view.on("touchstart", this.moveAnalogueStick, this), this.view.on("touchend", this.resetAnalogueStick, this), this.resetCounter = 0 };
        h.prototype.disable = function() { this.view.interactive = !1 }, h.prototype.enable = function() { this.view.interactive = !0 }, h.prototype.update = function() { this.analogueStick.update(); var t = this.game.teamManagerA,
                e = this.analogueStick.delta;
            e.x > 0 && this.lockRight && (e.x = 0), e.x < 0 && this.lockLeft && (e.x = 0), e.y < 0 && this.lockUp && (e.y = 0), e.y > 0 && this.lockDown && (e.y = 0), t.moveActivePlayerInDirection(e.x, -e.y), this.resetCounter > 0 && (this.resetCounter--, 0 === this.resetCounter && this.analogueStick.view.position.set(200, this.h - 200)) }, h.prototype.resize = function(t, e) { this.w = t, this.h = e, this.analogueStick.view.position.set(200, this.h - 200), this.buttonOne.view.position.set(t - 200, e - 200) }, h.prototype.resetAnalogueStick = function(t) { t.data.identifier === this.analogueStickId && (this.analogueStick.up.call(this.analogueStick, t), this.resetCounter = 60) }, h.prototype.moveAnalogueStick = function(t) { this.resetCounter = -1, this.movementPointer.alpha = 0; var e = t.data.getLocalPosition(this.view, s);
            e.x < this.w / 2 && (this.analogueStickId = t.data.identifier, this.analogueStick.view.position.x = parseInt(e.x) || 0, this.analogueStick.view.position.y = parseInt(e.y) || 0, this.analogueStick.pad._events.touchstart.fn.call(this.analogueStick, t)) };
        r.prototype = Object.create(a.prototype), r.prototype.setActionFrame = function(t) { this.actionFrame.texture = PIXI.Texture.fromFrame(t) }, r.prototype.addCallbacks = function(t, e, i) { this.onDown.add(t, i), this.onUp.add(e, i) }, n.exports = h }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = (i(47), new r.Point),
            a = function(t) { t = t || {}, this.view = new r.Container, this.view.hitArea = new r.Rectangle(0, 0, 1e4, 1e4), this.view.interactive = !0, this.dot = t.background || (new r.Graphics).beginFill(16711680, .4).drawCircle(0, 0, 70), this.view.addChild(this.dot), this.pad = t.stick || (new r.Graphics).beginFill(16711680).drawCircle(0, 0, 50), this.pad.interactive = !0, t.stick || (this.pad.hitArea = new r.Circle(0, 0, 60)), this.pad.alpha = .6, this.view.addChild(this.pad), this.range = 30, this.pad.on("mousedown", this.down, this), this.view.on("mouseup", this.up, this), this.view.on("mouseupoutside", this.up, this), this.pad.on("touchstart", this.down, this), this.view.on("touchend", this.up, this), this.view.on("touchendoutside", this.up, this), this.delta = new r.Point };
        a.prototype.update = function(t) {}, a.prototype.down = function(t) { this.view.hitArea = this.hit, this.moveId = t.data.identifier, this.isDown = !0;
            t.data.getLocalPosition(this.view, o);
            this.pad.alpha = 1, this.view.on("mousemove", this.move, this), this.view.on("touchmove", this.move, this) }, a.prototype.up = function(t) { if (this.view.hitArea = null, this.moveId === t.data.identifier) { this.moveId = 99999999, this.isDown = !1;
                t.data.getLocalPosition(this.view, o);
                this.pad.x = 0, this.pad.y = 0, this.pad.alpha = .6, this.delta.x = 0, this.delta.y = 0, this.view.off("mousemove", this.move, this), this.view.off("touchmove", this.move, this) } }, a.prototype.move = function(t) { if (this.moveId === t.data.identifier) { var e = t.data.getLocalPosition(this.view, o);
                this.pad.x = e.x, this.pad.y = e.y; var i = e.x,
                    n = e.y,
                    r = Math.sqrt(i * i + n * n);
                i /= r, n /= r, r > this.range && (r = this.range), this.pad.x = i * r, this.pad.y = n * r, this.delta.x = i * r / 30, this.delta.y = n * r / 30 } }, n.exports = a }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(13),
            o = i(8),
            a = function(t) { o.Container.call(this), this.view = this, t && this.addChild(t), this.onPress = new r, this.onDown = new r, this.onUp = new r, this.onHover = new r, this.onOut = new r, this.mousedown = this.touchstart = this.onDown.dispatch.bind(this, this), this.mouseup = this.touchend = this.onUp.dispatch.bind(this, this), this.click = this.tap = this.onPress.dispatch.bind(this, this), this.mouseover = this.onHover.dispatch.bind(this, this), this.touchendoutside = this.mouseupoutside = this.mouseout = this.onOut.dispatch.bind(this, this), this.onDown.add(this.down, this), this.onUp.add(this.up, this), this.onHover.add(this.hover, this), this.onOut.add(this.out, this), this._scale = new o.Point, this.enable() };
        a.prototype = Object.create(o.Container.prototype), a.prototype.constructor = a, a.prototype.setSize = function(t) { switch (t) {
                case "small":
                    this.scale.set(.5); break;
                case "big":
                    this.scale.set(2); break;
                default:
                    this.scale.set(1) } }, a.prototype.enable = function() { this.interactive = !0, this.buttonMode = !0 }, a.prototype.disable = function() { this.interactive = !1, this.buttonMode = !1 }, a.prototype.down = function(t, e) {}, a.prototype.up = function(t, e) {}, a.prototype.hover = function(t, e) {}, a.prototype.out = function(t, e) {}, a.prototype.show = function() { this.visible = !0, this.enable() }, a.prototype.hide = function() { this.disable(), this.visible = !1 }, n.exports = a }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(92),
            a = i(53),
            s = (i(34), i(93)),
            h = i(52),
            l = i(48),
            u = (i(32), i(22), i(35)),
            c = u.Translation,
            d = i(43),
            p = function(t) { r.Container.call(this), this.game = t, this.scorePanel = new r.Container, this.addChild(this.scorePanel); for (var e = [], i = 1; i <= 5; i++) e.push(r.Texture.fromFrame("jumbotron_" + i + ".png"));
                this.showTextures = e; for (var n = [], i = e.length - 1; i >= 0; i--) n.push(e[i]);
                this.hideTextures = n, this.goldenGoalTexture = [r.Texture.fromFrame("jumbotron_extra_time.png")]; var l = new r.extras.MovieClip(e);
                l.animationSpeed = .2, l.loop = !1, l.anchor.set(.5, 0), this.hudAnim = l, this.scorePanel.addChild(l), this.anims = {}; for (var e = [], i = 1; i <= 5; i++) e.push(r.Texture.fromFrame("jumbotron_goal_0" + i + ".png"));
                this.anims.goal = e; for (var e = [], i = 1; i <= 10; i++) i < 10 && (i = "0" + i), e.push(r.Texture.fromFrame("jumbotron_match_win_" + i + ".png"));
                this.anims.win = e; for (var e = [], i = 1; i <= 7; i++) e.push(r.Texture.fromFrame("jumbotron_trophy_win_0" + i + ".png"));
                this.anims.trophy = e, this.hudBigContent = new r.Container, this.scorePanel.addChild(this.hudBigContent); var u = r.Sprite.from("logo_small_en.png");
                u.anchor.set(.5), u.y = 55, this.logo = u, this.hudBigContent.addChild(u); var e = [r.Texture.fromFrame("jumbotron_lines_01.png"), r.Texture.fromFrame("jumbotron_lines_02.png")],
                    c = new r.extras.MovieClip(e);
                c.anchor.set(.5), c.animationSpeed = .1, c.play(), c.alpha = .3, c.y = 180, this.hudBigContent.addChild(c); var p = { fill: "#f9d840", fontSize: 70, fontFamily: window.MAIN_FONT, stroke: "#000", strokeThickness: 4, lineJoin: "round", letterSpacing: 10 };
                this.bigScoreA = new r.Text("0", p), this.bigScoreA.anchor.set(.5), this.bigScoreA.x = -130, this.bigScoreA.y = 75, this.hudBigContent.addChild(this.bigScoreA), this.bigScoreB = new r.Text("0", p), this.bigScoreB.anchor.set(.5), this.bigScoreB.x = 130, this.bigScoreB.y = 75, this.hudBigContent.addChild(this.bigScoreB), p.fontSize = 100, p.maxWidth = 670, this.bigGoalText = new d("STR_TUTORIAL_GOAL", p), this.bigGoalText.anchor.set(.5), this.bigGoalText.y = 220, this.bigGoalText.visible = !1, this.hudBigContent.addChild(this.bigGoalText), p.fontSize = 68, p.align = "center", this.bigWinText = new d("STR_HUD_WIN", p), this.bigWinText.anchor.set(.5), this.bigWinText.y = 175, this.bigWinText.visible = !1, this.hudBigContent.addChild(this.bigWinText), p.fontSize = 36, p.letterSpacing = 2, this.bigPointsText = new d("England: +25 points!", p), this.bigPointsText.anchor.set(.5), this.bigPointsText.y = 275, this.bigPointsText.visible = !1, this.hudBigContent.addChild(this.bigPointsText), p.fontSize = 40, p.letterSpacing = 2, this.bigTimeText = new r.Text("00:00", p), this.bigTimeText.anchor.set(.5), this.bigTimeText.y = 120, this.hudBigContent.addChild(this.bigTimeText), this.hudBigAnim = new r.extras.MovieClip(e), this.hudBigAnim.animationSpeed = .08, this.hudBigAnim.loop = !1, this.hudBigAnim.anchor.set(.5), this.hudBigAnim.y = 235, this.hudBigContent.addChild(this.hudBigAnim), this.hudContent = new r.Container, this.scorePanel.addChild(this.hudContent), this.score = new r.Text("0 - 0", { fill: "#f9d840", fontSize: 50, fontFamily: window.MAIN_FONT, stroke: "#000", strokeThickness: 4, lineJoin: "round" }), this.score.anchor.set(.5, .5), this.score.y = 40, this.hudContent.addChild(this.score), this.time = new d("00:00", { fill: "#ff3838", fontSize: 24, fontFamily: window.MAIN_FONT, stroke: !1, strokeThickness: 8, letterSpacing: 0, lineJoin: "round", maxWidth: 250 }), this.time.position.set(0, 95), this.time.anchor.x = .5, this.hudContent.addChild(this.time), this.detailPool = new a(o), this.message = new s(this.game), this.addChild(this.message), this.party = new h(null, null, 1), this.party.visible = !1, this.pos = new r.Point, window.showGoal = this.showBigScreen.bind(this, "goal"), window.showWin = this.showBigScreen.bind(this, "win"), window.showLose = this.showBigScreen.bind(this, "lose"), window.hideScreen = this.hideBigScreen.bind(this), window.hud = this, this.flashTimer = 0 };
        p.prototype = Object.create(r.Container.prototype), p.prototype.setData = function(t, e) { if (t && e) { this.hudContent.removeChild(this.flag), this.flag = new r.Sprite.fromFrame(t.FLAG), this.flag.anchor.set(.5), this.flag.scale.set(.5), this.flag.position.set(-160, 36), this.hudContent.addChild(this.flag), this.hudContent.removeChild(this.flag2), this.flag2 = new r.Sprite.fromFrame(e.FLAG), this.flag2.anchor.set(.5), this.flag2.scale.set(.5), this.flag2.position.set(160, 36), this.hudContent.addChild(this.flag2), this.hudBigContent.removeChild(this.flagBig), this.flagBig = new r.Sprite.fromFrame(t.FLAG), this.flagBig.anchor.set(.5), this.flagBig.position.set(-270, 76), this.hudBigContent.addChild(this.flagBig), this.hudBigContent.removeChild(this.flagBig2), this.flagBig2 = new r.Sprite.fromFrame(e.FLAG), this.flagBig2.anchor.set(.5), this.flagBig2.position.set(270, 76), this.hudBigContent.addChild(this.flagBig2); var i = "logo_small_" + c.logos[window.LANGUAGE] + ".png"; "es" === window.LANGUAGE && (i = "logo_small_es.png"), r.TextureCache[i] ? this.logo.texture = r.Texture.from(i) : this.logo.texture = r.Texture.from("logo_small_en.png") } }, p.prototype.reset = function() { this.message.reset(), this.game.teamManagerA.team.run(function(t) { t.offScreenIcon.visible = !0 }), this.party.visible = !1, this.hudContent.visible = !0, this.hudBigContent.visible = !1, this.hudAnim.textures = this.showTextures, this.hudAnim.gotoAndStop(0), this.time.visible = !0 }, p.prototype.update = function() { var t = this.game.goalsA + "       " + this.game.goalsB;
            this.score.text = t; var e = this.game.goalsA;
            this.bigScoreA.text = e.toString(); var i = this.game.goalsB; if (this.bigScoreB.text = i.toString(), this.pos.x = this.game.world.view3d.camera.position.x, this.party.update(this.pos), this.game.goldenGoal) this.time.setText("STR_GAME_GOLDEN_GOAL"), this.time.visible = !0, this.hudAnim.textures = this.goldenGoalTexture, this.hudAnim.gotoAndStop(0);
            else { this.hudAnim.textures === this.goldenGoalTexture && (this.hudAnim.textures = this.showTextures, this.hudAnim.gotoAndStop(0)); var n = this.game.timer.getSecondsLeft();
                this.time.text = this.formatTime(Math.floor(n)) } this.bigTimeText.text = this.formatTime(Math.floor(this.game.timer.getSecondsLeft())), this.game.timer.getSecondsLeft() < 31 && !this.game.goldenGoal && (this.flashTimer++, this.flashTimer >= 30 && (this.flashTimer = 0, this.time.visible = !this.time.visible)) }, p.prototype.formatTime = function(t) { var e = Math.max(Math.floor(t / 60), 0),
                i = Math.max(t % 60, 0); return (e < 10 ? "0" : "") + e + ":" + (i < 10 ? "0" : "") + i }, p.prototype.showBigScreen = function(t) { this.game.teamManagerA.team.run(function(t) { t.offScreenIcon.visible = !1 }), this.hudContent.visible = !1, this.hudAnim.textures = this.showTextures, this.hudAnim.gotoAndPlay(0), this.hudAnim.onComplete = this.showBigScreenContent.bind(this, t) }, p.prototype.hideBigScreen = function() { this.hudBigContent.visible = !1, this.hudAnim.textures = this.hideTextures, this.hudAnim.gotoAndPlay(0), this.hudAnim.onComplete = function() { this.hudContent.visible = !0, this.game.teamManagerA.team.run(function(t) { t.offScreenIcon.visible = !0 }) }.bind(this) }, p.prototype.showBigScreenContent = function(t) { if (this.hudBigContent.visible = !0, this.bigWinText.visible = !1, this.bigGoalText.visible = !1, this.bigTimeText.visible = !1, this.bigPointsText.visible = !1, this.bigWinText.y = 175, "goal" === t ? (this.bigTimeText.visible = !0, this.logo.y = 55, this.bigPointsText.visible = !1) : (this.logo.y = 75, this.bigTimeText.visible = !1), "lose" === t) this.bigTimeText.visible = !1, this.bigWinText.setText("STR_HUD_LOSE"), this.bigWinText.visible = !0, this.bigPointsText.setText("STR_HUD_LOSE2"), this.bigPointsText.visible = !0;
            else if ("kickoff" === t) { var e = "STR_TITLE_PRACTICE";
                l.isTournament && (e = l.tournamentData["final"].length > 0 ? "STR_TOURNAMENT_FINALS" : l.tournamentData.semi.length > 0 ? "STR_TOURNAMENT_SEMI2" : "STR_TOURNAMENT_QUARTERS2"), this.bigWinText.setText([e, "\n", "STR_HUD_KICKOFF"]), this.bigWinText.y = 215, this.bigWinText.visible = !0 } return this.anims[t] ? (this.bigGoalText.visible = !1, this.hudBigAnim.visible = !0, this.hudBigAnim.textures = this.anims[t], this.hudBigAnim.gotoAndStop(0), this.hudBigAnim.gotoAndPlay(0), void(this.hudBigAnim.onComplete = function() { this.hudBigAnim.visible = !1, "goal" === t ? this.bigGoalText.visible = !0 : "win" === t && (this.bigWinText.visible = !0, l.tournamentData["final"].length > 0 ? this.bigWinText.setText("STR_HUD_WINCUP") : this.bigWinText.setText("STR_HUD_WIN"), l.isTournament && this.game.points ? (this.bigPointsText.setText([l.countryID.NAME + "_UPPERCASE", ": +" + this.game.points + " ", "STR_HUD_POINTS"]), this.bigPointsText.visible = !0) : this.bigPointsText.visible = !1) }.bind(this))) : void(this.hudBigAnim.visible = !1) }, p.prototype.resize = function(t, e) { this.message.x = t / 2, this.message.y = e / 2, this.party.w = t, this.party.h = e + 100, this.scorePanel.position.y = 0, this.scorePanel.position.x = t / 2 }, n.exports = p }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = (i(53), i(13)),
            a = function() { r.Text.call(this, "YAY", { font: "26px chunkfiveroman", fill: "#eaff32", dropShadow: !0 }), this.anchor.set(.5), this.count = 0, this.multiplierColors = ["#eaff32", "#ffd300", "#ff70df", "#00ebff"], this.onFinish = new o };
        a.prototype = Object.create(r.Text.prototype), a.prototype.setup = function(t, e, i, n) { this.x = t, this.y = e, this.speed = 5, this.alpha = 1, this.count = 0, this.scale.x = this.scale.y = 0, TweenLite.to(this.scale, .5, { x: 1 + .2 * (n - 1), y: 1 + .2 * (n - 1), ease: Elastic.easeOut }), this.style.fill = this.multiplierColors[(n - 1) % 4], this.text = i + (n > 1 ? "x" + n : "") }, a.prototype.updateTransform = function() { r.Text.prototype.updateTransform.call(this), this.speed *= .95, this.position.y -= this.speed, this.count++, this.count > 20 && (this.alpha *= .95), this.alpha < .3 && this.onFinish.dispatch(this) }, n.exports = a }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) {
    var n;
    n = function(t, e, n) {
        var r = i(8),
            o = (i(18), i(32)),
            a = (i(48), i(94)),
            s = i(95),
            h = i(96),
            l = i(97),
            u = i(98),
            c = function(t) { r.Container.call(this), this.game = t, this.message = null };
        c.prototype = Object.create(r.Container.prototype), c.prototype.show = function(t, e) { this.onAnimComplete(this), t === o.MESSAGE_ID.VS ? (this.message = new a(this.game), this.animToBottom()) : t === o.MESSAGE_ID.WHISTLE ? (this.message = new s(this.game), this.animFromBottom(e)) : t === o.MESSAGE_ID.GOAL ? (this.message = new h(this.game), this.animToBottom()) : t === o.MESSAGE_ID.SCORE ? (this.message = new l(this.game), this.animToBottom()) : t === o.MESSAGE_ID.POWERUP && (this.message = new u(this.game, e), TweenLite.killTweensOf(this.message), TweenLite.killTweensOf(this.message.scale)), null !== this.message && this.addChild(this.message) }, c.prototype.reset = function() { this.onAnimComplete(this) }, c.prototype.animToBottom = function() { TweenLite.killTweensOf(this.message), TweenLite.killTweensOf(this.message.scale), this.message.alpha = 0, this.message.scale.set(2), TweenLite.to(this.message, .2, { alpha: 1 }), TweenLite.to(this.message.scale, .5, { x: 1, y: 1 }) }, c.prototype.animFromBottom = function(t) { TweenLite.killTweensOf(this.message.position), this.message.position.y = this.game.pitchHeight / 2, t && (this.message.position.x = t.x, this.message.scale.x = t.sx), TweenLite.to(this.message.position, .5, { y: this.game.pitchHeight / 2 - this.message.height }), TweenLite.to(this.message.position, .5, { y: this.game.pitchHeight / 2, delay: 2, onComplete: this.onAnimComplete, onCompleteScope: this }) }, c.prototype.onAnimComplete = function() {
            null !== this.message && (this.removeChild(this.message), TweenLite.killTweensOf(this.message), TweenLite.killTweensOf(this.message.position),
                TweenLite.killTweensOf(this.message.scale), this.message = null)
        }, n.exports = c
    }.call(e, i, e, t), !(void 0 !== n && (t.exports = n))
}, function(t, e, i) { "use strict";

    function n(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

    function r(t) { return t && t.__esModule ? t : { "default": t } }

    function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

    function a(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

    function s(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } e.__esModule = !0; var h = i(35),
        l = i(48),
        u = r(l),
        c = i(8),
        d = n(c),
        p = i(56),
        f = r(p),
        m = function(t) {
            function e(i) { o(this, e); var n = a(this, t.call(this));
                d.Container.call(n), n.game = i, n.bg = d.Sprite.from(ASSET_URL + "img/ui/panel-various-paused-bg.png"), n.bg.anchor.set(.5, .5), n.addChild(n.bg); var r = u["default"].countryID,
                    s = u["default"].opponentID;
                n.title = f["default"].h1(window.translations.STR_KICK_OFF), n.title.anchor.set(.5, .5), n.title.position.y = -n.bg.height / 2 - n.title.height + 20, n.addChild(n.title), n.flag = new d.Sprite.fromFrame(r.FLAG), n.flag.anchor.set(.5, .5), n.flag.scale.set(.75), n.flag.position.set(-100, -35), n.addChild(n.flag), n.flag2 = new d.Sprite.fromFrame(s.FLAG), n.flag2.anchor.set(.5, .5), n.flag2.scale.set(.75), n.flag2.position.set(100, -35), n.addChild(n.flag2); var l = { fill: "white", font: "20px " + window.MAIN_FONT, stroke: !0, strokeThickness: 8, lineJoin: "round", align: "center" }; return n.labelCountry = new d.Text(h.Translation.countries[r.ID].NAME, l), n.labelCountry.anchor.set(.5, .5), n.labelCountry.position.set(-100, 35), n.addChild(n.labelCountry), n.labelVs = new d.Text("vs", l), n.labelVs.anchor.set(.5, .5), n.labelVs.position.set(0, 35), n.addChild(n.labelVs), n.labelCountry2 = new d.Text(h.Translation.countries[s.ID].NAME, l), n.labelCountry2.anchor.set(.5, .5), n.labelCountry2.position.set(100, 35), n.addChild(n.labelCountry2), n } return s(e, t), e }(d.Container);
    e["default"] = m, t.exports = e["default"] }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(35),
            a = (o.Translation, i(48), i(34)),
            s = function(t) { r.Container.call(this), this.game = t; var e = ["ref_01.png", "ref_02.png"];
                this.referee = new r.extras.MovieClip(a.getTexturesFromFrames(e)), this.referee.anchor.set(.5, 0), this.referee.position.set(30, 0), this.referee.animationSpeed = .07, this.addChild(this.referee), this.referee.play(), t.scripts.start.left || (this.referee.scale.x = -1, this.referee.position.x = -70) };
        s.prototype = Object.create(r.Container.prototype), n.exports = s }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(35),
            a = o.Translation,
            s = (i(48), function(t) { r.Container.call(this), this.game = t; var e = { fill: "white", font: "108px " + window.MAIN_FONT, stroke: !0, strokeThickness: 30, lineJoin: "round", align: "center", dropShadow: !1 };
                this.message = new r.Text(a.game_screen.goal, e), this.message.anchor.set(.5), this.addChild(this.message) });
        s.prototype = Object.create(r.Container.prototype), n.exports = s }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(35),
            a = (o.Translation, i(48)),
            s = i(56),
            h = function(t) { r.Container.call(this), this.game = t, this.bg = r.Sprite.from(ASSET_URL + "img/ui/panel-various-paused-bg.png"), this.bg.anchor.set(.5, .5), this.addChild(this.bg); var e = a.countryID,
                    i = a.opponentID;
                this.flag = new r.Sprite.fromFrame(e.FLAG), this.flag.anchor.set(.5, .5), this.flag.position.set(-100, -60), this.addChild(this.flag), this.flag2 = new r.Sprite.fromFrame(i.FLAG), this.flag2.anchor.set(.5, .5), this.flag2.position.set(100, -60), this.addChild(this.flag2);
                ({ fill: "white", font: "30px " + window.MAIN_FONT, stroke: !0, strokeThickness: 8, lineJoin: "round", align: "center" });
                this.title = s.h3(e.NAME), this.title.anchor.set(.5, 0), this.title.scale.set(.65), this.title.position.set(-100, this.flag.position.y + this.flag.height / 2 + 10), this.addChild(this.title), this.title2 = s.h3(i.NAME), this.title2.anchor.set(.5, 0), this.title2.scale.set(.65), this.title2.position.set(100, this.flag.position.y + this.flag.height / 2 + 10), this.addChild(this.title2), this.labelScore = s.h1("" + this.game.goalsA), this.labelScore.anchor.set(.5, .5), this.labelScore.position.set(-100, 65), this.labelScore.scale.set(1.2), this.addChild(this.labelScore), this.labelVs = s.h1("-"), this.labelVs.anchor.set(.5, .5), this.labelVs.position.set(0, 65), this.addChild(this.labelVs), this.labelScore2 = s.h1("" + this.game.goalsB), this.labelScore2.anchor.set(.5, .5), this.labelScore2.position.set(100, 65), this.labelScore2.scale.set(1.2), this.addChild(this.labelScore2) };
        h.prototype = Object.create(r.Container.prototype), n.exports = h }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(35),
            a = (o.Translation, i(48), i(34), i(43)),
            s = function(t, e) { r.Container.call(this), this.y = 250, this.game = t; var i = r.Sprite.from("power_up_bar_top.png");
                i.width = t.w, i.anchor.set(.5), i.y = -i.height / 2, i.x = -i.width, this.addChild(i); var n = r.Sprite.from("power_up_bar_bottom.png");
                n.width = t.w, n.anchor.set(.5), n.y = n.height / 2, n.x = n.width, this.addChild(n), this.balls = []; var o = r.Sprite.from("power_up_bar_ball.png");
                o.anchor.set(.5), o.x = i.width / 2, o.y = -i.height / 2, i.addChild(o), this.balls.push(o); var o = r.Sprite.from("power_up_bar_ball.png");
                o.anchor.set(.5), o.x = -n.width / 2, o.y = n.height / 2, n.addChild(o), this.balls.push(o), TweenLite.to(i.position, .2, { x: 0, delay: 0, ease: Quad.easeOut }), TweenLite.to(n.position, .2, { x: 0, delay: .1, ease: Quad.easeOut }); var s = { fill: "white", fontSize: 80, fontFamily: window.MAIN_FONT, stroke: !0, strokeThickness: 8, lineJoin: "round", letterSpacing: 3, padding: 20 };
                e = e || {}; var h = e.name || "POWER UP";
                e.color && (s.fill = e.color); var l = new a(h.toUpperCase(), s);
                l.anchor.set(.5), l.position.set(0, 0), l.alpha = 0, this.addChild(l), TweenLite.to(l, .2, { alpha: 1, delay: .2 + .1 }); var u = 1.6;
                TweenLite.to(i.position, .2, { x: i.width, delay: 0 + u, ease: Quad.easeIn }), TweenLite.to(n.position, .2, { x: -n.width, delay: .1 + u, ease: Quad.easeIn, onComplete: function() { this.visible = !1 }.bind(this) }), TweenLite.to(l, .2, { alpha: 0, delay: u }) };
        s.prototype = Object.create(r.Container.prototype), s.prototype.updateTransform = function() { this.containerUpdateTransform(); for (var t = 0; t < this.balls.length; t++) this.balls[t].rotation += .1 }, n.exports = s }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { n.exports = { World: i(100), Group: i(101), PixiView: i(102), CrashWorld: i(103) } }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = (i(8), i(101)),
            o = i(21),
            a = function() { this.allItems = new r, this.updateItems = new r, this.groups = {}, this.itemsToRemove = [], this.systems = [] };
        a.constructor = a, a.prototype.install = function(t, e) { this.systems.push(t), t.init(this), this[e] = t }, a.prototype.addGroup = function(t) { for (var e = 0; e < t.children.length; e++) this.add(t.children[e]) }, a.prototype.initGroups = function(t) { for (var e = 0; e < t.length; e++) { var i = t[e],
                    n = this.groups[i];
                n || (n = this.groups[i] = new r) } }, a.prototype.add = function(t) { if (t._gc) { var e = this.itemsToRemove.indexOf(t);
                this.itemsToRemove.splice(e, 1), t._gc = !1 } t.world && this.removeItem(t), t.world = this; for (var i = 0; i < this.systems.length; i++) this.systems[i].add(t);
            this.allItems.add(t); for (var i = 0; i < t.groups.length; i++) { var n = t.groups[i],
                    o = this.groups[n];
                o || (o = this.groups[n] = new r), o.add(t) } t.update && this.updateItems.add(t), t.addedToWorld && t.addedToWorld(this) }, a.prototype.remove = function(t) {!t._gc && t.world && (t._gc = !0, this.itemsToRemove.push(t)) }, a.prototype.update = function() { var t = Math.round(o.game.deltaTime / o.game.speed);
            t > 2 && (t = 2); for (var e = 0; e < t; e++) { this.removeItems(); for (var i = 0; i < this.systems.length; i++) this.systems[i].preupdate(); for (var n = this.updateItems.children, i = 0; i < n.length; i++) n[i].update(); for (var i = 0; i < this.systems.length; i++) this.systems[i].update(); for (var i = 0; i < this.systems.length; i++) this.systems[i].postupdate() } }, a.prototype.removeItems = function() { this.itemsToRemove.length; for (var t = 0; t < this.itemsToRemove.length; t++) { var e = this.itemsToRemove[t];
                this.removeItem(e) } this.itemsToRemove.length = 0 }, a.prototype.removeItem = function(t) { t._gc = !1; for (var e = 0; e < this.systems.length; e++) this.systems[e].remove(t);
            t.update && this.updateItems.remove(t), t.removedFromWorld && t.removedFromWorld(this), t.world = null, this.allItems.remove(t); for (var e = 0; e < t.groups.length; e++) { var i = t.groups[e];
                this.groups[i].remove(t) } }, a.prototype.clear = function() { for (var t = 0; t < this.systems.length; t++) this.systems[t].clear();
            this.allItems.empty(), this.updateItems.empty(), this.groups = {}, this.removeItems(), this.collisionHash = {} }, a.prototype.find = function(t, e) { if (!this.groups[t]) return null; for (var i = this.groups[t].children, n = 0; n < i.length; n++)
                if (i[n].meta.name === e) return i[n] }; var s = [];
        a.prototype.findAll = function(t, e) { if (!this.groups[t]) return null; var i = this.groups[t].children;
            s.length = 0; for (var n = 0; n < i.length; n++) i[n].meta.name === e && s.push(i[n]); return s }, n.exports = a }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, i) { var n = function(t) { this.children = t || [] };
        n.prototype.add = function(t) { return this.children.push(t), t }, n.prototype.remove = function(t) { var e = this.children.indexOf(t); return e === -1 ? null : (this.children.splice(e, 1), t) }, n.prototype.getIndex = function(t) { return this.children.indexOf(t) }, n.prototype.getItem = function(t) { return this.children[t] }, n.prototype.run = function(t, e) { if (e)
                for (var i = 0; i < this.children.length; i++) t.call(e, this.children[i]);
            else
                for (var i = 0; i < this.children.length; i++) t(this.children[i]) }, n.prototype.empty = function() { this.children.length = 0 }, i.exports = n }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8);
        r.DisplayObject.prototype.layer = "default"; var o = function(t) { r.Container.call(this), this.innerContainer = new r.Container, this.activeItemsContainer = new r.Container, this.addChild(this.innerContainer), this.innerContainer.addChild(this.activeItemsContainer), this.filterArea = new r.Rectangle(0, 0, 1e6, 1e6), this.layers = {}, this.camera = t.camera || { x: 0, y: 0, zoom: 1 }, this.addLayer("back"), this.addLayer("default"), this.addLayer("front") };
        o.prototype = Object.create(r.Container.prototype), o.prototype.init = function(t) {}, o.prototype.preupdate = function(t) {}, o.prototype.update = function() { this.camera.update(); var t = this.camera.zoom;
            this.scale.set(t), this.position.x = this.camera.viewWidth / 2 - this.camera.viewWidth / 2 * t, this.position.y = this.camera.viewHeight / 2 - this.camera.viewHeight / 2 * t, this.innerContainer.x = -this.camera.x + this.camera.viewWidth / 2, this.innerContainer.y = -this.camera.y + this.camera.viewHeight / 2 }, o.prototype.postupdate = function(t) {}, o.prototype.add = function(t) { if (t.view) { var e = t.view,
                    i = this.layers[e.layer];
                e.parent = i, i.children.push(t.view) } }, o.prototype.remove = function(t) { if (t.view) { var e = t.view,
                    i = this.layers[e.layer],
                    n = i.children.indexOf(e);
                n != -1 && (e.parent = null, i.children.splice(n, 1)) } }, o.prototype.clear = function() { for (var t in this.layers) this.layers[t].removeChildren() }, o.prototype.addLayer = function(t) { this.layers[t] = new r.Container, this.activeItemsContainer.addChild(this.layers[t]) }, o.prototype.bringToFront = function(t) { var e = this.layers[t.view.layer],
                i = e.children.indexOf(t.view);
            i != -1 && (e.children.splice(i, 1), e.children.push(t.view)) }, n.exports = o }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(101),
            o = i(104),
            a = i(107),
            s = i(109),
            h = function() { this.staticItems = new s, this.kinimaticItems = new r, this.dynamicItems = new r, this.collisions = [], this.narrowPhase = new o, this.dt = 1, this.collisionKeys = {}, this.DEBUG = !1 };
        h.prototype.init = function(t) {}, h.prototype.preupdate = function() {}, h.prototype.add = function(t) { t.body && (this.DEBUG && (t._debugView || (t._debugView = t.body.getDebugView(), t._debugView.alpha = .5, t.view && t.view.addChild(t._debugView))), t.body.type === a.STATIC ? this.staticItems.add(t) : t.body.type === a.KINIMATIC ? this.kinimaticItems.add(t) : t.body.type === a.DYNAMIC && this.dynamicItems.add(t)) }, h.prototype.remove = function(t) { t.body && (t.body.type === a.STATIC ? this.staticItems.remove(t) : t.body.type === a.KINIMATIC ? this.kinimaticItems.remove(t) : t.body.type === a.DYNAMIC && this.dynamicItems.remove(t)) }, h.prototype.update = function() { for (var t = this.getCollisions(), e = 0; e < this.dynamicItems.children.length; e++) this.dynamicItems.children[e].body.update(this.dt);
            this.narrowPhase.hitTest(t) }, h.prototype.postupdate = function(t) {}, h.prototype.reset = function() { this.staticItems.empty(), this.kinimaticItems.empty(), this.dynamicItems.empty(), this.collisions.length = 0, this.narrowPhase.reset() }, h.prototype.onCollision = function(t, e) {}, h.prototype.getKey = function(t, e) { return (t << 12) + e }, h.prototype.registerCollison = function(t, e) { this.collisionKeys[this.getKey(t, e)] = !0, this.collisionKeys[this.getKey(e, t)] = !0 }, h.prototype.getCollisions = function() { this.collisions.length = 0; var t = this.dynamicItems.children;
            this.sortAxisList(t); for (var e = 0; e < t.length; e++)
                for (var i = t[e], n = i.body.position.x + i.body.shape.x + i.body.shape.width + 5, r = e + 1; r < t.length; r++) { var o = t[r],
                        a = o.body.position.x + o.body.shape.x - 5; if (n <= a) break; var s = !0,
                        h = this.getKey(o.type, i.type);
                    this.collisionKeys[h] ? o.canCollide && i.canCollide || (s = !1) : s = !1, s && this.collisions.push(i, o) }
            for (var e = 0; e < this.dynamicItems.children.length; e++)
                for (var l = this.dynamicItems.children[e], u = this.staticItems.retrieveArea(l), r = 0; r < u.length; r++) { var c = u[r];
                    c.canCollide && l.canCollide && this.collisions.push(l, c) }
            for (var e = 0; e < this.dynamicItems.children.length; e++)
                for (var r = 0; r < this.kinimaticItems.children.length; r++) { var l = this.dynamicItems.children[e],
                        c = this.kinimaticItems.children[r],
                        s = !0,
                        h = this.getKey(c.type, l.type);
                    this.collisionKeys[h] ? l.canCollide && c.canCollide || (s = !1) : s = !1, s && (l.debug, this.collisions.push(l, c)) }
            return this.collisions }, h.prototype.sortAxisList = function(t) { for (var e = 1, i = t.length; e < i; e++) { for (var n = t[e], r = e - 1; r >= 0; r--) { var o = t[r]; if (o.body.shape.x + o.body.position.x <= n.body.shape.x + n.body.position.x) break;
                    t[r + 1] = t[r] } t[r + 1] = n } return t }, h.prototype.castRay = function(t, e) {}, h.prototype.constrainToBounds = function() { for (var t = this.bounds, e = 0; e < this.dynamicItems.children.length; e++) { var i = this.dynamicItems.children[e].body;
                i.position.x + i.shape.x < t.x ? i.position.x = t.x + i.shape.x : i.position.x + i.shape.x + i.shape.width > t.x + t.width && (i.position.x = t.x + t.width - (i.shape.x + i.shape.width)), i.position.y + i.shape.y < t.y ? i.position.y = t.y + i.shape.y : i.position.y + i.shape.y + i.shape.height > t.y + t.height && (i.position.y = t.y + t.height - (i.shape.y + i.shape.height), this.dynamicItems.children[e].onGround = !0) } }, h.prototype.setBounds = function(t) { this.bounds.x = t.x, this.bounds.y = t.y, this.bounds.width = t.width, this.bounds.height = t.height }, n.exports = h }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = (i(8), i(105)),
            o = i(106),
            a = i(107),
            s = (i(108), function() { this.collisions = {}, this.pool = [], this.tickId = 0, this.currentCollisions = [], this.collisionDatas = [] });
        s.prototype.hitTest = function(t) { this.tickId++; for (var e = 0; e < 2; e++)
                for (var i = 0; i < t.length; i += 2) { var n = this.hitTestAABBAABB(t[i], t[i + 1]);
                    n && n.object1.body.solid && n.object2.body.solid && this.solve(n) }
            for (var i = 0; i < this.currentCollisions.length; i++) { var r = this.currentCollisions[i];
                r._tickId !== this.tickId && (this.endCollision(r), this.currentCollisions.splice(i, 1), i--) } }, s.prototype.hitTestAABBAABB = function(t, e) { var i = t.body,
                n = e.body,
                o = i.shape,
                a = n.shape,
                s = o.x + t.position.x,
                h = o.y + t.position.y,
                l = a.x + e.position.x,
                u = a.y + e.position.y,
                c = h + o.height - u,
                d = u + a.height - h,
                p = s + o.width - l,
                f = l + a.width - s,
                m = 999999; if (p < m && (m = p), f < m && (m = f), c < m && (m = c), d < m && (m = d), m > 0) { var g = new r;
                m == p ? (g.x = -1, g.y = 0) : m == f ? (g.x = 1, g.y = 0) : m == c ? (g.x = 0, g.y = -1) : m == d && (g.x = 0, g.y = 1); var v = -m,
                    y = this.startCollision(t, e, v, g); if (!y.ignore) return y } return null }, s.prototype.solve = function(t) { var e = t.object1,
                i = t.object2,
                n = t.projection,
                r = t.penetration; if (i.body.type === a.DYNAMIC) { e.position.x -= n.x * r * .5, e.position.y -= n.y * r * .5, i.position.x += n.x * r * .5, i.position.y += n.y * r * .5; var o = e.body.velocity.x - i.body.velocity.x,
                    s = e.body.velocity.y - i.body.velocity.y;
                0 !== n.x ? o * n.x <= 0 && (e.body.velocity.x -= .5 * o, i.body.velocity.x += .5 * o) : s * n.y <= 0 && (e.body.velocity.y -= .5 * s, i.body.velocity.y += .5 * s) } else { e.position.x -= n.x * r, e.position.y -= n.y * r; var o = e.body.velocity.x - i.body.velocity.x,
                    s = e.body.velocity.y - i.body.velocity.y;
                0 !== n.x ? o * n.x <= 0 && (e.body.velocity.x *= -e.body.bounce) : s * n.y <= 0 && (e.body.velocity.y *= -e.body.bounce) } }, s.prototype.startCollision = function(t, e, i, n) { var r;
            r = t.UID > e.UID ? (e.UID << 12) + t.UID : (t.UID << 12) + e.UID; var a = this.collisions[r]; return a ? (a.penetration = i, a.projection = n, a._tickId = this.tickId, a.ignore || (n.y === -1 ? t.body.velocity.y >= 0 && (t.body.currentSurface = e, t.onGround = !0) : 1 === n.y && e.body.velocity.y >= 0 && (e.body.currentSurface = t, e.onGround = !0)), a) : (a = this.pool.pop(), a ? (a.object1 = t, a.object2 = e, a.penetration = i, a.projection = n, a.ignore = !1) : a = new o(t, e, i, n, (!1)), a._key = r, a._tickId = this.tickId, n.y === -1 * t.body.flip ? (t.body.currentSurface = e, t.onGround = !0) : n.y === 1 * e.body.flip && (e.body.currentSurface = t, e.onGround = !0), t.onCollideBegin && t.onCollideBegin(a), e.onCollideBegin && e.onCollideBegin(a), this.collisions[r] = a, this.currentCollisions.push(a), a) }, s.prototype.endCollision = function(t) { var e = t._key,
                i = this.collisions[e]; return i && (this.pool.push(i), this.collisions[e] = null), t.object1.world && (t.object1.onCollideEnd && t.object1.onCollideEnd(i), t.object2.onCollideEnd && t.object2.onCollideEnd(i)), i }, s.prototype.reset = function() { this.collisions = {}, this.tickId = 0, this.currentCollisions = [] }, n.exports = s }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, i) { var n = function(t, e) { this.x = t || 0, this.y = e || 0, this.id = n._UID++ };
        n._UID = 0, n.prototype.clone = function() { return new n(this.x, this.y) }, n.prototype.plus = function(t) { return this.x += t.x, this.y += t.y, this }, n.prototype.minus = function(t) { return this.x -= t.x, this.y -= t.y, this }, n.prototype.invert = function(t) { return this.x *= -1, this.y *= -1, this }, n.prototype.multiply = n.prototype.multiplyScalar = function(t) { return this.x *= t, this.y *= t, this }, n.prototype.divideScalar = function(t) { if (0 === t) this.x = 0, this.y = 0;
            else { var e = 1 / t;
                this.x *= e, this.y *= e } return this }, n.prototype.dot = function(t) { return this.x * t.x + this.y * t.y }, n.prototype.length = function(t) { return Math.sqrt(this.x * this.x + this.y * this.y) }, n.prototype.lengthSq = function() { return this.x * this.x + this.y * this.y }, n.prototype.normalize = function() { return this.divideScalar(this.length()) }, n.prototype.distanceTo = function(t) { return Math.sqrt(this.distanceToSq(t)) }, n.prototype.distanceToSq = function(t) { var e = this.x - t.x,
                i = this.y - t.y; return e * e + i * i }, n.prototype.set = function(t, e) { this.x = t || 0, this.y = e || (0 !== e ? this.x : 0) }, n.prototype.setX = function(t) { return this.x = t, this }, n.prototype.setY = function(t) { return this.y = t, this }, n.prototype.setLength = function(t) { var e = this.length(); return 0 !== e && t !== e && this.multiplyScalar(t / e), this }, n.prototype.invert = function(t) { return this.x *= -1, this.y *= -1, this }, n.prototype.lerp = function(t, e) { return this.x += (t.x - this.x) * e, this.y += (t.y - this.y) * e, this }, n.prototype.rad = function() { return Math.atan2(this.x, this.y) }, n.prototype.deg = function() { return 180 * this.rad() / Math.PI }, n.prototype.equals = function(t) { return this.x === t.x && this.y === t.y }, n.prototype.rotate = function(t) { var e = this.x; return this.x = this.x * Math.cos(t) - this.y * Math.sin(t), this.y = e * Math.sin(t) + this.y * Math.cos(t), this }, n.projectPoint = function(t, e) { var i = new n(0, 0),
                r = n.project(t.clone().minus(i), e); return r.clone().plus(i) }, n.project = function(t, e) { var i = new n(0, 0),
                r = t.dot(e); return i.x = r / (e.x * e.x + e.y * e.y) * e.x, i.y = r / (e.x * e.x + e.y * e.y) * e.y, i }, n.prototype.constructor = n, i.exports = n }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, i) { var n = function(t, e, i, n, r) { this.object1 = t, this.object2 = e, this.penetration = i, this.projection = n, this.ignore = r || !1, this._key = null, this._tickId = null };
        n.prototype.getOtherObject = function(t) { return t === this.object1 ? this.object2 : this.object1 }, n.pool = [], i.exports = n }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(47),
            a = i(105),
            s = function(t) { this.type = s.DYNAMIC, this.shape = t, this.passthrough = !1, this.currentSurface = null, this.position = new r.Point, this.timeScale = 1, this.velocity = new a, this.acceleration = new a, this.bounce = 0, this.maxSpeed = 3, this.maxSpeedY = 3, this.gravity = 0, this.friction = .9, this.sleeping = !1, this.solid = !0, this.active = !0, this.remainder = 0, this.flip = 1 };
        s.prototype.setMaxSpeed = function(t) { this.maxSpeed = this.maxSpeedY = t }, s.prototype.update = function(t) { this.active && (this.velocity.x += this.acceleration.x * t, this.velocity.y += this.acceleration.y * t, this.velocity.y *= this.friction, this.velocity.x *= this.friction, this.velocity.y += this.gravity * this.timeScale, this.velocity.x = o.cap(this.velocity.x, -this.maxSpeed, this.maxSpeed), this.velocity.y = o.cap(this.velocity.y, -this.maxSpeedY, this.maxSpeedY), this.position.x += this.velocity.x * this.timeScale * t, this.position.y += this.velocity.y * this.timeScale * t) }, s.prototype.reset = function() { this.velocity.x = 0, this.velocity.y = 0, this.acceleration.x = 0, this.acceleration.y = 0, this.remainder = 0, this.active = !0 }, s.prototype.getDebugView = function(t) { var e = this.shape,
                t = t || colors[this.type]; return (new r.Graphics).beginFill(t).drawRect(e.x, e.y, e.width, e.height) }, s.fromRect = function(t, e, i, n) { return new s(new r.Rectangle(t, e, i, n)) }, s.STATIC = 0, s.KINIMATIC = 1, s.DYNAMIC = 2, s.NONE = 3, colors = [4602488, 16776960, 16711680, 255], n.exports = s }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, n) { var r;
    r = function(t, e, r) { var o = n(107),
            a = function() {};
        a.solve = function(t, e) { for (i = 0; i < t.length; i++) { var n = t[i],
                    r = n.object1,
                    a = n.object2,
                    s = n.projection,
                    h = n.penetration; if (a.body.type === o.DYNAMIC) { r.position.x -= s.x * h * .5, r.position.y -= s.y * h * .5, a.position.x += s.x * h * .5, a.position.y += s.y * h * .5; var l = r.body.velocity.x - a.body.velocity.x,
                        u = r.body.velocity.y - a.body.velocity.y;
                    0 !== s.x ? l * s.x <= 0 && (r.body.velocity.x -= .5 * l, a.body.velocity.x += .5 * l) : u * s.y <= 0 && (r.body.velocity.y -= .5 * u, a.body.velocity.y += .5 * u) } else { r.position.x -= s.x * h, r.position.y -= s.y * h; var l = r.body.velocity.x - a.body.velocity.x,
                        u = r.body.velocity.y - a.body.velocity.y;
                    0 !== s.x ? l * s.x <= 0 && (r.body.velocity.x -= l) : (u * s.y <= 0 && (r.body.velocity.y -= u), r.body.position.x += a.body.velocity.x) } } }, a.solve3 = function(t) { var e = t.object1,
                i = t.object2,
                n = t.projection,
                r = t.penetration; if (i.body.type === o.DYNAMIC) { e.position.x -= n.x * r * .5, e.position.y -= n.y * r * .5, i.position.x += n.x * r * .5, i.position.y += n.y * r * .5; var a = e.body.velocity.x - i.body.velocity.x,
                    s = e.body.velocity.y - i.body.velocity.y;
                0 !== n.x ? a * n.x <= 0 && (e.body.velocity.x -= .5 * a, i.body.velocity.x += .5 * a) : s * n.y <= 0 && (e.body.velocity.y -= .5 * s, i.body.velocity.y += .5 * s) } else { e.position.x -= n.x * r, e.position.y -= n.y * r; var a = e.body.velocity.x - i.body.velocity.x,
                    s = e.body.velocity.y - i.body.velocity.y;
                0 !== n.x ? a * n.x <= 0 && (e.body.velocity.x -= a) : (s * n.y <= 0 && (e.body.velocity.y -= s), e.body.position.x += i.body.velocity.x) } }, a.solve2 = function(t, e) { for (i = 0; i < t.length; i++) { var n = t[i],
                    r = n.object1,
                    a = n.object2,
                    s = n.object2,
                    h = n.projection,
                    l = n.penetration,
                    u = r.body,
                    c = s.body,
                    d = u.shape,
                    p = c.shape,
                    f = d.x + r.position.x,
                    m = d.y + r.position.y,
                    g = p.x + s.position.x,
                    v = p.y + s.position.y,
                    y = m + d.height - v,
                    _ = v + p.height - m,
                    b = f + d.width - g,
                    x = g + p.width - f,
                    w = 999999; if (s.passthrough, b < w && (w = b), x < w && (w = x), y < w && (w = y), _ < w && (w = _), w > 0)
                    if (w == b ? (h.x = -1, h.y = 0) : w == x ? (h.x = 1, h.y = 0) : w == y ? (h.x = 0, h.y = -1) : w == _ && (h.x = 0, h.y = 1), l = -w, a.body.type === o.DYNAMIC) { r.position.x -= h.x * l * .5, r.position.y -= h.y * l * .5, a.position.x += h.x * l * .5, a.position.y += h.y * l * .5; var T = r.body.velocity.x - a.body.velocity.x,
                            S = r.body.velocity.y - a.body.velocity.y;
                        0 !== h.x ? T * h.x <= 0 && (r.body.velocity.x -= .5 * T, a.body.velocity.x += .5 * T) : S * h.y <= 0 && (r.body.velocity.y -= .5 * S, a.body.velocity.y += .5 * S) } else { r.position.x -= h.x * l, r.position.y -= h.y * l; var T = r.body.velocity.x - a.body.velocity.x,
                            S = r.body.velocity.y - a.body.velocity.y;
                        0 !== h.x ? T * h.x <= 0 && (r.body.velocity.x -= T) : (S * h.y <= 0 && (r.body.velocity.y -= S), r.body.position.x += a.body.velocity.x) } } }, r.exports = a }.call(e, n, e, t), !(void 0 !== r && (t.exports = r)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = (i(13), 0),
            o = function(t, e, i) { this.hash = [], this.width = 300, this.height = 300, this.size = 96, this.buildHash(), this.cache = {} };
        o.prototype.buildHash = function() { for (var t = this.width, e = this.height, i = t * e, n = 0; n < i; n++) this.hash[n] = [];
            this.cache = {} }, o.prototype.add = function(t) { this.cache = {}; var e, i, n = t.body.shape,
                r = (t.position.x + n.x) / this.size | 0,
                o = (t.position.y + n.y) / this.size | 0,
                a = (t.position.x + n.x + n.width) / this.size | 0,
                s = (t.position.y + n.y + n.height) / this.size | 0; for (i = o; i <= s; i++)
                for (e = r; e <= a; e++) { var h = i * this.width + e;
                    this.hash[h] && this.hash[h].push(t) } }, o.prototype.retrieve = function(t) { var e = t.position.x / this.size | 0,
                i = t.position.y / this.size | 0,
                n = this.cache[e + ":" + i]; return n || (n = [], n = this.addSquare(e - 1, i - 1, n), n = this.addSquare(e, i - 1, n), n = this.addSquare(e + 1, i - 1, n), n = this.addSquare(e - 1, i, n), n = this.addSquare(e, i, n), n = this.addSquare(e + 1, i, n), n = this.addSquare(e, i + 1, n), n = this.addSquare(e, i + 1, n), n = this.addSquare(e + 1, i + 1, n), n = this.removeDuplicates(n), this.cache[e + ":" + i] = n), n }, o.prototype.addSquare = function(t, e, i) { var n = e * this.width + t; return this.hash[n] && (i = i.concat(this.hash[n])), i }; var a = [];
        o.prototype.retrieveArea = function(t) { var e, i, n = t.body.shape,
                o = (t.position.x + n.x) / this.size | 0,
                s = (t.position.y + n.y) / this.size | 0,
                h = (t.position.x + n.x + n.width) / this.size | 0,
                l = (t.position.y + n.y + n.height) / this.size | 0,
                u = a;
            a.length = 0; var c = r++,
                d = 0; for (i = s; i <= l; i++)
                for (e = o; e <= h; e++) { var p = i * this.width + e,
                        f = this.hash[p]; if (f)
                        for (var m = 0; m < f.length; m++) { var g = f[m];
                            g._TICK !== c && (g._TICK = c, u[d++] = g) } }
            return u }, o.prototype.removeDuplicates = function(t) { for (var e = {}, i = [], n = t.length, r = 0, o = 0; o < n; o++) { var a = t[o];
                1 !== e[a.UID] && (e[a.UID] = 1, i[r++] = a) } return i }, o.prototype.remove = function(t) { var e, i, n = t.body.shape,
                r = (t.position.x + n.x) / this.size | 0,
                o = (t.position.y + n.y) / this.size | 0,
                a = (t.position.x + n.x + n.width) / this.size | 0,
                s = (t.position.y + n.y + n.height) / this.size | 0; for (i = o; i <= s; i++)
                for (e = r; e <= a; e++) { var h = i * this.width + e; if (h > 0) { var l = this.hash[h].indexOf(t);
                        l !== -1 && this.hash[h].splice(l, 1) } this.cache = {} } }, o.prototype.empty = function() { this.buildHash() }, n.exports = o }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(9),
            a = i(111),
            s = (i(112), function(t) { r.Container.call(this); var e = t.camera3d || new o.PerspectiveCamera(40, 4, 1, 3e3);
                e.position.z = 800; var i = new o.Scene;
                this.scene = i, this.camera = e, this.camera.position.x = 0, this.camera.position.y = 0, this.threeRenderer = null, this.w = -1, this.h = -1 });
        s.prototype = Object.create(r.Container.prototype), s.prototype._renderWebGL = function(t) { t.reset(), this.camera.update(), this.threeRenderer || (this.threeRenderer = new o.WebGLRenderer({ context: t.gl }), this.threeRenderer.setSize(800, 600), this.threeRenderer.autoClear = !1, this.threeRenderer.autoClearColor = !1), this.threeRenderer.resetGLState(), this.threeRenderer.render(this.scene, this.camera), t.reset() }, s.prototype.init = function(t) {}, s.prototype.preupdate = function(t) {}, s.prototype.update = function() {}, s.prototype.postupdate = function(t) {}, s.prototype.add = function(t) { t.view3d && this.scene.add(t.view3d) }, s.prototype.remove = function(t) { t.view3d && this.scene.remove(t.view3d) }, s.prototype.clear = function() { for (var t in this.layers) this.layers[t].removeChildren() }, s.prototype.addLayer = function(t) { this.layers[t] = new r.Container, this.activeItemsContainer.addChild(this.layers[t]) }, s.prototype.bringToFront = function(t) { var e = this.layers[t.view.layer],
                i = e.children.indexOf(t.view);
            i != -1 && (e.children.splice(i, 1), e.children.push(t.view)) }; var h = new r.Point;
        s.prototype.toScreenPosition = function(t) { return a.toScreenPosition(t.view3d, this.w, this.h, this.camera, h) }, s.prototype.resize = function(t, e) { this.w === t && this.h === e || (this.w = t, this.h = e, this.threeRenderer, this.camera.aspect = t / e, this.camera.updateProjectionMatrix()) }, n.exports = s }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(9),
            a = {},
            s = {},
            h = new o.Texture;
        a.getMesh = function(t, e, i, n) { var s = new o.MeshBasicMaterial({ map: h });
            s.transparent = !0, s.alphaTest = .25, s.side = o.DoubleSide; var l = new o.PlaneGeometry(200, 200),
                u = new o.Mesh(l, s); if (t) { var c = r.Texture.from(t);
                a.setUvs(u, c, e, i, n) } return u }, a.setUvs = function(t, e, i, n, r) { var a = e.baseTexture.uid; if (!s[a]) { var h = new o.Texture;
                h.image = e.baseTexture.source, h.flipY = !1, h.needsUpdate = !0, h.wrapS = o.ClampToEdgeWrapping, h.wrapT = o.ClampToEdgeWrapping, h.minFilter = o.LinearFilter, h.maxFilter = o.LinearFilter, s[a] = h } var l = s[a],
                u = t.geometry;
            t.material.map = l; var c = u.faceVertexUvs[0],
                d = c[0],
                p = c[1];
            d[0].x = e._uvs.x3, d[0].y = e._uvs.y3, d[1].x = e._uvs.x0, d[1].y = e._uvs.y0, d[2].x = e._uvs.x2, d[2].y = e._uvs.y2, p[0].x = e._uvs.x0, p[0].y = e._uvs.y0, p[1].x = e._uvs.x1, p[1].y = e._uvs.y1, p[2].x = e._uvs.x2, p[2].y = e._uvs.y2, u.uvsNeedUpdate = !0;
            u.vertices;
            i = i || .5, n = n || .85; var f = e.orig,
                m = e.trim; if (m) t.position.x = m.width + 2 * m.x, t.position.x -= f.width * i * 2, t.position.y = m.height + 2 * m.y, t.position.y -= f.height * n * 2, t.scale.x = m.width / 100, t.scale.y = m.height / 100;
            else { var m = e._frame;
                t.scale.x = m.width / 100, t.scale.y = m.height / 100, t.position.x = m.width / 2 - f.width * i * 2, t.position.y = m.height / 2 - f.height * n * 2 } }; var l = new o.Vector3;
        a.toScreenPosition = function(t, e, i, n, r) { var o = .5 * e,
                a = .5 * i; return t.updateMatrixWorld(), l.setFromMatrixPosition(t.matrixWorld), l.project(n), l.x = l.x * o + o, l.y = -(l.y * a) + a, r.x = l.x, r.y = l.y, r }, a.getPixiTexture = function(t) { var e = window.renderer.extract.image(t),
                i = new o.Texture; return i.image = e, i.wrapS = o.ClampToEdgeWrapping, i.wrapT = o.ClampToEdgeWrapping, i.minFilter = o.LinearFilter, i.maxFilter = o.LinearFilter, i.needsUpdate = !0, i }, n.exports = a }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { t.exports = i(113), t.exports.color = i(114) }, function(t, e) {
    var i = t.exports = i || {};
    i.gui = i.gui || {}, i.utils = i.utils || {}, i.controllers = i.controllers || {}, i.dom = i.dom || {}, i.color = i.color || {}, i.utils.css = function() { return { load: function(t, e) { e = e || document; var i = e.createElement("link");
                i.type = "text/css", i.rel = "stylesheet", i.href = t, e.getElementsByTagName("head")[0].appendChild(i) }, inject: function(t, e) { e = e || document; var i = document.createElement("style");
                i.type = "text/css", i.innerHTML = t, e.getElementsByTagName("head")[0].appendChild(i) } } }(), i.utils.common = function() { var t = Array.prototype.forEach,
            e = Array.prototype.slice; return { BREAK: {}, extend: function(t) { return this.each(e.call(arguments, 1), function(e) { for (var i in e) this.isUndefined(e[i]) || (t[i] = e[i]) }, this), t }, defaults: function(t) { return this.each(e.call(arguments, 1), function(e) { for (var i in e) this.isUndefined(t[i]) && (t[i] = e[i]) }, this), t }, compose: function() { var t = e.call(arguments); return function() { for (var i = e.call(arguments), n = t.length - 1; n >= 0; n--) i = [t[n].apply(this, i)]; return i[0] } }, each: function(e, i, n) { if (t && e.forEach === t) e.forEach(i, n);
                else if (e.length === e.length + 0) { for (var r = 0, o = e.length; r < o; r++)
                        if (r in e && i.call(n, e[r], r) === this.BREAK) return } else
                    for (var r in e)
                        if (i.call(n, e[r], r) === this.BREAK) return }, defer: function(t) { setTimeout(t, 0) }, toArray: function(t) { return t.toArray ? t.toArray() : e.call(t) }, isUndefined: function(t) { return void 0 === t }, isNull: function(t) { return null === t }, isNaN: function(t) { return t !== t }, isArray: Array.isArray || function(t) { return t.constructor === Array }, isObject: function(t) { return t === Object(t) }, isNumber: function(t) { return t === t + 0 }, isString: function(t) { return t === t + "" }, isBoolean: function(t) { return t === !1 || t === !0 }, isFunction: function(t) { return "[object Function]" === Object.prototype.toString.call(t) } } }(), i.controllers.Controller = function(t) { var e = function(t, e) { this.initialValue = t[e], this.domElement = document.createElement("div"), this.object = t, this.property = e, this.__onChange = void 0, this.__onFinishChange = void 0 }; return t.extend(e.prototype, { onChange: function(t) { return this.__onChange = t, this }, onFinishChange: function(t) { return this.__onFinishChange = t, this }, setValue: function(t) { return this.object[this.property] = t, this.__onChange && this.__onChange.call(this, t), this.updateDisplay(), this }, getValue: function() { return this.object[this.property] }, updateDisplay: function() { return this }, isModified: function() { return this.initialValue !== this.getValue() } }), e }(i.utils.common), i.dom.dom = function(t) {
        function e(e) {
            if ("0" === e || t.isUndefined(e)) return 0;
            var i = e.match(r);
            return t.isNull(i) ? 0 : parseFloat(i[1]);
        }
        var i = { HTMLEvents: ["change"], MouseEvents: ["click", "mousemove", "mousedown", "mouseup", "mouseover"], KeyboardEvents: ["keydown"] },
            n = {};
        t.each(i, function(e, i) { t.each(e, function(t) { n[t] = i }) });
        var r = /(\d+(\.\d+)?)px/,
            o = { makeSelectable: function(t, e) { void 0 !== t && void 0 !== t.style && (t.onselectstart = e ? function() { return !1 } : function() {}, t.style.MozUserSelect = e ? "auto" : "none", t.style.KhtmlUserSelect = e ? "auto" : "none", t.unselectable = e ? "on" : "off") }, makeFullscreen: function(e, i, n) { t.isUndefined(i) && (i = !0), t.isUndefined(n) && (n = !0), e.style.position = "absolute", i && (e.style.left = 0, e.style.right = 0), n && (e.style.top = 0, e.style.bottom = 0) }, fakeEvent: function(e, i, r, o) { r = r || {}; var a = n[i]; if (!a) throw new Error("Event type " + i + " not supported."); var s = document.createEvent(a); switch (a) {
                        case "MouseEvents":
                            var h = r.x || r.clientX || 0,
                                l = r.y || r.clientY || 0;
                            s.initMouseEvent(i, r.bubbles || !1, r.cancelable || !0, window, r.clickCount || 1, 0, 0, h, l, !1, !1, !1, !1, 0, null); break;
                        case "KeyboardEvents":
                            var u = s.initKeyboardEvent || s.initKeyEvent;
                            t.defaults(r, { cancelable: !0, ctrlKey: !1, altKey: !1, shiftKey: !1, metaKey: !1, keyCode: void 0, charCode: void 0 }), u(i, r.bubbles || !1, r.cancelable, window, r.ctrlKey, r.altKey, r.shiftKey, r.metaKey, r.keyCode, r.charCode); break;
                        default:
                            s.initEvent(i, r.bubbles || !1, r.cancelable || !0) } t.defaults(s, o), e.dispatchEvent(s) }, bind: function(t, e, i, n) { return n = n || !1, t.addEventListener ? t.addEventListener(e, i, n) : t.attachEvent && t.attachEvent("on" + e, i), o }, unbind: function(t, e, i, n) { return n = n || !1, t.removeEventListener ? t.removeEventListener(e, i, n) : t.detachEvent && t.detachEvent("on" + e, i), o }, addClass: function(t, e) { if (void 0 === t.className) t.className = e;
                    else if (t.className !== e) { var i = t.className.split(/ +/);
                        i.indexOf(e) == -1 && (i.push(e), t.className = i.join(" ").replace(/^\s+/, "").replace(/\s+$/, "")) } return o }, removeClass: function(t, e) { if (e)
                        if (void 0 === t.className);
                        else if (t.className === e) t.removeAttribute("class");
                    else { var i = t.className.split(/ +/),
                            n = i.indexOf(e);
                        n != -1 && (i.splice(n, 1), t.className = i.join(" ")) } else t.className = void 0; return o }, hasClass: function(t, e) { return new RegExp("(?:^|\\s+)" + e + "(?:\\s+|$)").test(t.className) || !1 }, getWidth: function(t) { var i = getComputedStyle(t); return e(i["border-left-width"]) + e(i["border-right-width"]) + e(i["padding-left"]) + e(i["padding-right"]) + e(i.width) }, getHeight: function(t) { var i = getComputedStyle(t); return e(i["border-top-width"]) + e(i["border-bottom-width"]) + e(i["padding-top"]) + e(i["padding-bottom"]) + e(i.height) }, getOffset: function(t) { var e = { left: 0, top: 0 }; if (t.offsetParent)
                        do e.left += t.offsetLeft, e.top += t.offsetTop; while (t = t.offsetParent); return e }, isActive: function(t) { return t === document.activeElement && (t.type || t.href) } };
        return o
    }(i.utils.common), i.controllers.OptionController = function(t, e, i) { var n = function(t, r, o) { n.superclass.call(this, t, r); var a = this; if (this.__select = document.createElement("select"), i.isArray(o)) { var s = {};
                i.each(o, function(t) { s[t] = t }), o = s } i.each(o, function(t, e) { var i = document.createElement("option");
                i.innerHTML = e, i.setAttribute("value", t), a.__select.appendChild(i) }), this.updateDisplay(), e.bind(this.__select, "change", function() { var t = this.options[this.selectedIndex].value;
                a.setValue(t) }), this.domElement.appendChild(this.__select) }; return n.superclass = t, i.extend(n.prototype, t.prototype, { setValue: function(t) { var e = n.superclass.prototype.setValue.call(this, t); return this.__onFinishChange && this.__onFinishChange.call(this, this.getValue()), e }, updateDisplay: function() { return this.__select.value = this.getValue(), n.superclass.prototype.updateDisplay.call(this) } }), n }(i.controllers.Controller, i.dom.dom, i.utils.common), i.controllers.NumberController = function(t, e) {
        function i(t) { return t = t.toString(), t.indexOf(".") > -1 ? t.length - t.indexOf(".") - 1 : 0 } var n = function(t, r, o) { n.superclass.call(this, t, r), o = o || {}, this.__min = o.min, this.__max = o.max, this.__step = o.step, e.isUndefined(this.__step) ? 0 == this.initialValue ? this.__impliedStep = 1 : this.__impliedStep = Math.pow(10, Math.floor(Math.log(this.initialValue) / Math.LN10)) / 10 : this.__impliedStep = this.__step, this.__precision = i(this.__impliedStep) }; return n.superclass = t, e.extend(n.prototype, t.prototype, { setValue: function(t) { return void 0 !== this.__min && t < this.__min ? t = this.__min : void 0 !== this.__max && t > this.__max && (t = this.__max), void 0 !== this.__step && t % this.__step != 0 && (t = Math.round(t / this.__step) * this.__step), n.superclass.prototype.setValue.call(this, t) }, min: function(t) { return this.__min = t, this }, max: function(t) { return this.__max = t, this }, step: function(t) { return this.__step = t, this } }), n }(i.controllers.Controller, i.utils.common), i.controllers.NumberControllerBox = function(t, e, i) {
        function n(t, e) { var i = Math.pow(10, e); return Math.round(t * i) / i } var r = function(t, n, o) {
            function a() { var t = parseFloat(d.__input.value);
                i.isNaN(t) || d.setValue(t) }

            function s() { a(), d.__onFinishChange && d.__onFinishChange.call(d, d.getValue()) }

            function h(t) { e.bind(window, "mousemove", l), e.bind(window, "mouseup", u), c = t.clientY }

            function l(t) { var e = c - t.clientY;
                d.setValue(d.getValue() + e * d.__impliedStep), c = t.clientY }

            function u() { e.unbind(window, "mousemove", l), e.unbind(window, "mouseup", u) } this.__truncationSuspended = !1, r.superclass.call(this, t, n, o); var c, d = this;
            this.__input = document.createElement("input"), this.__input.setAttribute("type", "text"), e.bind(this.__input, "change", a), e.bind(this.__input, "blur", s), e.bind(this.__input, "mousedown", h), e.bind(this.__input, "keydown", function(t) { 13 === t.keyCode && (d.__truncationSuspended = !0, this.blur(), d.__truncationSuspended = !1) }), this.updateDisplay(), this.domElement.appendChild(this.__input) }; return r.superclass = t, i.extend(r.prototype, t.prototype, { updateDisplay: function() { return this.__input.value = this.__truncationSuspended ? this.getValue() : n(this.getValue(), this.__precision), r.superclass.prototype.updateDisplay.call(this) } }), r }(i.controllers.NumberController, i.dom.dom, i.utils.common), i.controllers.NumberControllerSlider = function(t, e, i, n, r) {
        function o(t, e, i, n, r) { return n + (r - n) * ((t - e) / (i - e)) } var a = function(t, i, n, r, s) {
            function h(t) { e.bind(window, "mousemove", l), e.bind(window, "mouseup", u), l(t) }

            function l(t) { t.preventDefault(); var i = e.getOffset(c.__background),
                    n = e.getWidth(c.__background); return c.setValue(o(t.clientX, i.left, i.left + n, c.__min, c.__max)), !1 }

            function u() { e.unbind(window, "mousemove", l), e.unbind(window, "mouseup", u), c.__onFinishChange && c.__onFinishChange.call(c, c.getValue()) } a.superclass.call(this, t, i, { min: n, max: r, step: s }); var c = this;
            this.__background = document.createElement("div"), this.__foreground = document.createElement("div"), e.bind(this.__background, "mousedown", h), e.addClass(this.__background, "slider"), e.addClass(this.__foreground, "slider-fg"), this.updateDisplay(), this.__background.appendChild(this.__foreground), this.domElement.appendChild(this.__background) }; return a.superclass = t, a.useDefaultStyles = function() { i.inject(r) }, n.extend(a.prototype, t.prototype, { updateDisplay: function() { var t = (this.getValue() - this.__min) / (this.__max - this.__min); return this.__foreground.style.width = 100 * t + "%", a.superclass.prototype.updateDisplay.call(this) } }), a }(i.controllers.NumberController, i.dom.dom, i.utils.css, i.utils.common, ".slider {\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\n  height: 1em;\n  border-radius: 1em;\n  background-color: #eee;\n  padding: 0 0.5em;\n  overflow: hidden;\n}\n\n.slider-fg {\n  padding: 1px 0 2px 0;\n  background-color: #aaa;\n  height: 1em;\n  margin-left: -0.5em;\n  padding-right: 0.5em;\n  border-radius: 1em 0 0 1em;\n}\n\n.slider-fg:after {\n  display: inline-block;\n  border-radius: 1em;\n  background-color: #fff;\n  border:  1px solid #aaa;\n  content: '';\n  float: right;\n  margin-right: -1em;\n  margin-top: -1px;\n  height: 0.9em;\n  width: 0.9em;\n}"), i.controllers.FunctionController = function(t, e, i) { var n = function(t, i, r) { n.superclass.call(this, t, i); var o = this;
            this.__button = document.createElement("div"), this.__button.innerHTML = void 0 === r ? "Fire" : r, e.bind(this.__button, "click", function(t) { return t.preventDefault(), o.fire(), !1 }), e.addClass(this.__button, "button"), this.domElement.appendChild(this.__button) }; return n.superclass = t, i.extend(n.prototype, t.prototype, { fire: function() { this.__onChange && this.__onChange.call(this), this.__onFinishChange && this.__onFinishChange.call(this, this.getValue()), this.getValue().call(this.object) } }), n }(i.controllers.Controller, i.dom.dom, i.utils.common), i.controllers.BooleanController = function(t, e, i) { var n = function(t, i) {
            function r() { o.setValue(!o.__prev) } n.superclass.call(this, t, i); var o = this;
            this.__prev = this.getValue(), this.__checkbox = document.createElement("input"), this.__checkbox.setAttribute("type", "checkbox"), e.bind(this.__checkbox, "change", r, !1), this.domElement.appendChild(this.__checkbox), this.updateDisplay() }; return n.superclass = t, i.extend(n.prototype, t.prototype, { setValue: function(t) { var e = n.superclass.prototype.setValue.call(this, t); return this.__onFinishChange && this.__onFinishChange.call(this, this.getValue()), this.__prev = this.getValue(), e }, updateDisplay: function() { return this.getValue() === !0 ? (this.__checkbox.setAttribute("checked", "checked"), this.__checkbox.checked = !0) : this.__checkbox.checked = !1, n.superclass.prototype.updateDisplay.call(this) } }), n }(i.controllers.Controller, i.dom.dom, i.utils.common), i.color.toString = function(t) { return function(e) { if (1 == e.a || t.isUndefined(e.a)) { for (var i = e.hex.toString(16); i.length < 6;) i = "0" + i; return "#" + i } return "rgba(" + Math.round(e.r) + "," + Math.round(e.g) + "," + Math.round(e.b) + "," + e.a + ")" } }(i.utils.common), i.color.interpret = function(t, e) { var i, n, r = function() { n = !1; var t = arguments.length > 1 ? e.toArray(arguments) : arguments[0]; return e.each(o, function(r) { if (r.litmus(t)) return e.each(r.conversions, function(r, o) { if (i = r.read(t), n === !1 && i !== !1) return n = i, i.conversionName = o, i.conversion = r, e.BREAK }), e.BREAK }), n },
            o = [{ litmus: e.isString, conversions: { THREE_CHAR_HEX: { read: function(t) { var e = t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i); return null !== e && { space: "HEX", hex: parseInt("0x" + e[1].toString() + e[1].toString() + e[2].toString() + e[2].toString() + e[3].toString() + e[3].toString()) } }, write: t }, SIX_CHAR_HEX: { read: function(t) { var e = t.match(/^#([A-F0-9]{6})$/i); return null !== e && { space: "HEX", hex: parseInt("0x" + e[1].toString()) } }, write: t }, CSS_RGB: { read: function(t) { var e = t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/); return null !== e && { space: "RGB", r: parseFloat(e[1]), g: parseFloat(e[2]), b: parseFloat(e[3]) } }, write: t }, CSS_RGBA: { read: function(t) { var e = t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/); return null !== e && { space: "RGB", r: parseFloat(e[1]), g: parseFloat(e[2]), b: parseFloat(e[3]), a: parseFloat(e[4]) } }, write: t } } }, { litmus: e.isNumber, conversions: { HEX: { read: function(t) { return { space: "HEX", hex: t, conversionName: "HEX" } }, write: function(t) { return t.hex } } } }, { litmus: e.isArray, conversions: { RGB_ARRAY: { read: function(t) { return 3 == t.length && { space: "RGB", r: t[0], g: t[1], b: t[2] } }, write: function(t) { return [t.r, t.g, t.b] } }, RGBA_ARRAY: { read: function(t) { return 4 == t.length && { space: "RGB", r: t[0], g: t[1], b: t[2], a: t[3] } }, write: function(t) { return [t.r, t.g, t.b, t.a] } } } }, { litmus: e.isObject, conversions: { RGBA_OBJ: { read: function(t) { return !!(e.isNumber(t.r) && e.isNumber(t.g) && e.isNumber(t.b) && e.isNumber(t.a)) && { space: "RGB", r: t.r, g: t.g, b: t.b, a: t.a } }, write: function(t) { return { r: t.r, g: t.g, b: t.b, a: t.a } } }, RGB_OBJ: { read: function(t) { return !!(e.isNumber(t.r) && e.isNumber(t.g) && e.isNumber(t.b)) && { space: "RGB", r: t.r, g: t.g, b: t.b } }, write: function(t) { return { r: t.r, g: t.g, b: t.b } } }, HSVA_OBJ: { read: function(t) { return !!(e.isNumber(t.h) && e.isNumber(t.s) && e.isNumber(t.v) && e.isNumber(t.a)) && { space: "HSV", h: t.h, s: t.s, v: t.v, a: t.a } }, write: function(t) { return { h: t.h, s: t.s, v: t.v, a: t.a } } }, HSV_OBJ: { read: function(t) { return !!(e.isNumber(t.h) && e.isNumber(t.s) && e.isNumber(t.v)) && { space: "HSV", h: t.h, s: t.s, v: t.v } }, write: function(t) { return { h: t.h, s: t.s, v: t.v } } } } }]; return r }(i.color.toString, i.utils.common), i.GUI = i.gui.GUI = function(t, e, i, n, r, o, a, s, h, l, u, c, d, p, f) {
        function m(t, e, i, o) { if (void 0 === e[i]) throw new Error("Object " + e + ' has no property "' + i + '"'); var a; if (o.color) a = new u(e, i);
            else { var s = [e, i].concat(o.factoryArgs);
                a = n.apply(t, s) } o.before instanceof r && (o.before = o.before.__li), y(t, a), p.addClass(a.domElement, "c"); var h = document.createElement("span");
            p.addClass(h, "property-name"), h.innerHTML = a.property; var l = document.createElement("div");
            l.appendChild(h), l.appendChild(a.domElement); var c = g(t, l, o.before); return p.addClass(c, F.CLASS_CONTROLLER_ROW), p.addClass(c, typeof a.getValue()), v(t, c, a), t.__controllers.push(a), a }

        function g(t, e, i) { var n = document.createElement("li"); return e && n.appendChild(e), i ? t.__ul.insertBefore(n, params.before) : t.__ul.appendChild(n), t.onResize(), n }

        function v(t, e, i) { if (i.__li = e, i.__gui = t, f.extend(i, { options: function(e) { return arguments.length > 1 ? (i.remove(), m(t, i.object, i.property, { before: i.__li.nextElementSibling, factoryArgs: [f.toArray(arguments)] })) : f.isArray(e) || f.isObject(e) ? (i.remove(), m(t, i.object, i.property, { before: i.__li.nextElementSibling, factoryArgs: [e] })) : void 0 }, name: function(t) { return i.__li.firstElementChild.firstElementChild.innerHTML = t, i }, listen: function() { return i.__gui.listen(i), i }, remove: function() { return i.__gui.remove(i), i } }), i instanceof h) { var n = new s(i.object, i.property, { min: i.__min, max: i.__max, step: i.__step });
                f.each(["updateDisplay", "onChange", "onFinishChange"], function(t) { var e = i[t],
                        r = n[t];
                    i[t] = n[t] = function() { var t = Array.prototype.slice.call(arguments); return e.apply(i, t), r.apply(n, t) } }), p.addClass(e, "has-slider"), i.domElement.insertBefore(n.domElement, i.domElement.firstElementChild) } else if (i instanceof s) { var r = function(e) { return f.isNumber(i.__min) && f.isNumber(i.__max) ? (i.remove(), m(t, i.object, i.property, { before: i.__li.nextElementSibling, factoryArgs: [i.__min, i.__max, i.__step] })) : e };
                i.min = f.compose(r, i.min), i.max = f.compose(r, i.max) } else i instanceof o ? (p.bind(e, "click", function() { p.fakeEvent(i.__checkbox, "click") }), p.bind(i.__checkbox, "click", function(t) { t.stopPropagation() })) : i instanceof a ? (p.bind(e, "click", function() { p.fakeEvent(i.__button, "click") }), p.bind(e, "mouseover", function() { p.addClass(i.__button, "hover") }), p.bind(e, "mouseout", function() { p.removeClass(i.__button, "hover") })) : i instanceof u && (p.addClass(e, "color"), i.updateDisplay = f.compose(function(t) { return e.style.borderLeftColor = i.__color.toString(), t }, i.updateDisplay), i.updateDisplay());
            i.setValue = f.compose(function(e) { return t.getRoot().__preset_select && i.isModified() && E(t.getRoot(), !0), e }, i.setValue) }

        function y(t, e) { var i = t.getRoot(),
                n = i.__rememberedObjects.indexOf(e.object); if (n != -1) { var r = i.__rememberedObjectIndecesToControllers[n]; if (void 0 === r && (r = {}, i.__rememberedObjectIndecesToControllers[n] = r), r[e.property] = e, i.load && i.load.remembered) { var o, a = i.load.remembered; if (a[t.preset]) o = a[t.preset];
                    else { if (!a[I]) return;
                        o = a[I] } if (o[n] && void 0 !== o[n][e.property]) { var s = o[n][e.property];
                        e.initialValue = s, e.setValue(s) } } } }

        function _(t, e) { return document.location.href + "." + e }

        function b(t) {
            function e() { l.style.display = t.useLocalStorage ? "block" : "none" } var i = t.__save_row = document.createElement("li");
            p.addClass(t.domElement, "has-save"), t.__ul.insertBefore(i, t.__ul.firstChild), p.addClass(i, "save-row"); var n = document.createElement("span");
            n.innerHTML = "&nbsp;", p.addClass(n, "button gears"); var r = document.createElement("span");
            r.innerHTML = "Save", p.addClass(r, "button"), p.addClass(r, "save"); var o = document.createElement("span");
            o.innerHTML = "New", p.addClass(o, "button"), p.addClass(o, "save-as"); var a = document.createElement("span");
            a.innerHTML = "Revert", p.addClass(a, "button"), p.addClass(a, "revert"); var s = t.__preset_select = document.createElement("select"); if (t.load && t.load.remembered ? f.each(t.load.remembered, function(e, i) { S(t, i, i == t.preset) }) : S(t, I, !1), p.bind(s, "change", function() { for (var e = 0; e < t.__preset_select.length; e++) t.__preset_select[e].innerHTML = t.__preset_select[e].value;
                    t.preset = this.value }), i.appendChild(s), i.appendChild(n), i.appendChild(r), i.appendChild(o), i.appendChild(a), D) { var h = document.getElementById("dg-save-locally"),
                    l = document.getElementById("dg-local-explain");
                h.style.display = "block"; var u = document.getElementById("dg-local-storage"); "true" === localStorage.getItem(_(t, "isLocal")) && u.setAttribute("checked", "checked"), e(), p.bind(u, "change", function() { t.useLocalStorage = !t.useLocalStorage, e() }) } var c = document.getElementById("dg-new-constructor");
            p.bind(c, "keydown", function(t) {!t.metaKey || 67 !== t.which && 67 != t.keyCode || C.hide() }), p.bind(n, "click", function() { c.innerHTML = JSON.stringify(t.getSaveObject(), void 0, 2), C.show(), c.focus(), c.select() }), p.bind(r, "click", function() { t.save() }), p.bind(o, "click", function() { var e = prompt("Enter a new preset name.");
                e && t.saveAs(e) }), p.bind(a, "click", function() { t.revert() }) }

        function x(t) {
            function e(e) { return e.preventDefault(), r = e.clientX, p.addClass(t.__closeButton, F.CLASS_DRAG), p.bind(window, "mousemove", i), p.bind(window, "mouseup", n), !1 }

            function i(e) { return e.preventDefault(), t.width += r - e.clientX, t.onResize(), r = e.clientX, !1 }

            function n() { p.removeClass(t.__closeButton, F.CLASS_DRAG), p.unbind(window, "mousemove", i), p.unbind(window, "mouseup", n) } t.__resize_handle = document.createElement("div"), f.extend(t.__resize_handle.style, { width: "6px", marginLeft: "-3px", height: "200px", cursor: "ew-resize", position: "absolute" }); var r;
            p.bind(t.__resize_handle, "mousedown", e), p.bind(t.__closeButton, "mousedown", e), t.domElement.insertBefore(t.__resize_handle, t.domElement.firstElementChild) }

        function w(t, e) { t.domElement.style.width = e + "px", t.__save_row && t.autoPlace && (t.__save_row.style.width = e + "px"), t.__closeButton && (t.__closeButton.style.width = e + "px") }

        function T(t, e) { var i = {}; return f.each(t.__rememberedObjects, function(n, r) { var o = {},
                    a = t.__rememberedObjectIndecesToControllers[r];
                f.each(a, function(t, i) { o[i] = e ? t.initialValue : t.getValue() }), i[r] = o }), i }

        function S(t, e, i) { var n = document.createElement("option");
            n.innerHTML = e, n.value = e, t.__preset_select.appendChild(n), i && (t.__preset_select.selectedIndex = t.__preset_select.length - 1) }

        function M(t) { for (var e = 0; e < t.__preset_select.length; e++) t.__preset_select[e].value == t.preset && (t.__preset_select.selectedIndex = e) }

        function E(t, e) { var i = t.__preset_select[t.__preset_select.selectedIndex];
            e ? i.innerHTML = i.value + "*" : i.innerHTML = i.value }

        function A(t) { 0 != t.length && c(function() { A(t) }), f.each(t, function(t) { t.updateDisplay() }) } t.inject(i); var C, R, P = "dg",
            O = 72,
            L = 20,
            I = "Default",
            D = function() { try { return "localStorage" in window && null !== window.localStorage } catch (t) { return !1 } }(),
            k = !0,
            B = !1,
            N = [],
            F = function(t) {
                function e() { localStorage.setItem(_(n, "gui"), JSON.stringify(n.getSaveObject())) }

                function i() { var t = n.getRoot();
                    t.width += 1, f.defer(function() { t.width -= 1 }) } var n = this;
                this.domElement = document.createElement("div"), this.__ul = document.createElement("ul"), this.domElement.appendChild(this.__ul), p.addClass(this.domElement, P), this.__folders = {}, this.__controllers = [], this.__rememberedObjects = [], this.__rememberedObjectIndecesToControllers = [], this.__listening = [], t = t || {}, t = f.defaults(t, { autoPlace: !0, width: F.DEFAULT_WIDTH }), t = f.defaults(t, { resizable: t.autoPlace, hideable: t.autoPlace }), f.isUndefined(t.load) ? t.load = { preset: I } : t.preset && (t.load.preset = t.preset), f.isUndefined(t.parent) && t.hideable && N.push(this), t.resizable = f.isUndefined(t.parent) && t.resizable, t.autoPlace && f.isUndefined(t.scrollable) && (t.scrollable = !0); var r = D && "true" === localStorage.getItem(_(this, "isLocal")); if (Object.defineProperties(this, { parent: { get: function() { return t.parent } }, scrollable: { get: function() { return t.scrollable } }, autoPlace: { get: function() { return t.autoPlace } }, preset: { get: function() { return n.parent ? n.getRoot().preset : t.load.preset }, set: function(e) { n.parent ? n.getRoot().preset = e : t.load.preset = e, M(this), n.revert() } }, width: { get: function() { return t.width }, set: function(e) { t.width = e, w(n, e) } }, name: { get: function() { return t.name }, set: function(e) { t.name = e, a && (a.innerHTML = t.name) } }, closed: { get: function() { return t.closed }, set: function(e) { t.closed = e, t.closed ? p.addClass(n.__ul, F.CLASS_CLOSED) : p.removeClass(n.__ul, F.CLASS_CLOSED), this.onResize(), n.__closeButton && (n.__closeButton.innerHTML = e ? F.TEXT_OPEN : F.TEXT_CLOSED) } }, load: { get: function() { return t.load } }, useLocalStorage: { get: function() { return r }, set: function(t) { D && (r = t, t ? p.bind(window, "unload", e) : p.unbind(window, "unload", e), localStorage.setItem(_(n, "isLocal"), t)) } } }), f.isUndefined(t.parent)) { if (t.closed = !1, p.addClass(this.domElement, F.CLASS_MAIN), p.makeSelectable(this.domElement, !1), D && r) { n.useLocalStorage = !0; var o = localStorage.getItem(_(this, "gui"));
                        o && (t.load = JSON.parse(o)) } this.__closeButton = document.createElement("div"), this.__closeButton.innerHTML = F.TEXT_CLOSED, p.addClass(this.__closeButton, F.CLASS_CLOSE_BUTTON), this.domElement.appendChild(this.__closeButton), p.bind(this.__closeButton, "click", function() { n.closed = !n.closed }) } else { void 0 === t.closed && (t.closed = !0); var a = document.createTextNode(t.name);
                    p.addClass(a, "controller-name"); var s = g(n, a),
                        h = function(t) { return t.preventDefault(), n.closed = !n.closed, !1 };
                    p.addClass(this.__ul, F.CLASS_CLOSED), p.addClass(s, "title"), p.bind(s, "click", h), t.closed || (this.closed = !1) } t.autoPlace && (f.isUndefined(t.parent) && (k && (R = document.createElement("div"), p.addClass(R, P), p.addClass(R, F.CLASS_AUTO_PLACE_CONTAINER), document.body.appendChild(R), k = !1), R.appendChild(this.domElement), p.addClass(this.domElement, F.CLASS_AUTO_PLACE)), this.parent || w(n, t.width)), p.bind(window, "resize", function() { n.onResize() }), p.bind(this.__ul, "webkitTransitionEnd", function() { n.onResize() }), p.bind(this.__ul, "transitionend", function() { n.onResize() }), p.bind(this.__ul, "oTransitionEnd", function() { n.onResize() }), this.onResize(), t.resizable && x(this);
                n.getRoot();
                t.parent || i() }; return F.toggleHide = function() { B = !B, f.each(N, function(t) { t.domElement.style.zIndex = B ? -999 : 999, t.domElement.style.opacity = B ? 0 : 1 }) }, F.CLASS_AUTO_PLACE = "a", F.CLASS_AUTO_PLACE_CONTAINER = "ac", F.CLASS_MAIN = "main", F.CLASS_CONTROLLER_ROW = "cr", F.CLASS_TOO_TALL = "taller-than-window", F.CLASS_CLOSED = "closed", F.CLASS_CLOSE_BUTTON = "close-button", F.CLASS_DRAG = "drag", F.DEFAULT_WIDTH = 245, F.TEXT_CLOSED = "Close Controls", F.TEXT_OPEN = "Open Controls", p.bind(window, "keydown", function(t) { "text" === document.activeElement.type || t.which !== O && t.keyCode != O || F.toggleHide() }, !1), f.extend(F.prototype, { add: function(t, e) { return m(this, t, e, { factoryArgs: Array.prototype.slice.call(arguments, 2) }) }, addColor: function(t, e) { return m(this, t, e, { color: !0 }) }, remove: function(t) { this.__ul.removeChild(t.__li), this.__controllers.slice(this.__controllers.indexOf(t), 1); var e = this;
                f.defer(function() { e.onResize() }) }, destroy: function() { this.autoPlace && R.removeChild(this.domElement) }, addFolder: function(t) { if (void 0 !== this.__folders[t]) throw new Error('You already have a folder in this GUI by the name "' + t + '"'); var e = { name: t, parent: this };
                e.autoPlace = this.autoPlace, this.load && this.load.folders && this.load.folders[t] && (e.closed = this.load.folders[t].closed, e.load = this.load.folders[t]); var i = new F(e);
                this.__folders[t] = i; var n = g(this, i.domElement); return p.addClass(n, "folder"), i }, open: function() { this.closed = !1 }, close: function() { this.closed = !0 }, onResize: function() { var t = this.getRoot(); if (t.scrollable) { var e = p.getOffset(t.__ul).top,
                        i = 0;
                    f.each(t.__ul.childNodes, function(e) { t.autoPlace && e === t.__save_row || (i += p.getHeight(e)) }), window.innerHeight - e - L < i ? (p.addClass(t.domElement, F.CLASS_TOO_TALL), t.__ul.style.height = window.innerHeight - e - L + "px") : (p.removeClass(t.domElement, F.CLASS_TOO_TALL), t.__ul.style.height = "auto") } t.__resize_handle && f.defer(function() { t.__resize_handle.style.height = t.__ul.offsetHeight + "px" }), t.__closeButton && (t.__closeButton.style.width = t.width + "px") }, remember: function() { if (f.isUndefined(C) && (C = new d, C.domElement.innerHTML = e), this.parent) throw new Error("You can only call remember on a top level GUI."); var t = this;
                f.each(Array.prototype.slice.call(arguments), function(e) { 0 == t.__rememberedObjects.length && b(t), t.__rememberedObjects.indexOf(e) == -1 && t.__rememberedObjects.push(e) }), this.autoPlace && w(this, this.width) }, getRoot: function() { for (var t = this; t.parent;) t = t.parent; return t }, getSaveObject: function() { var t = this.load; return t.closed = this.closed, this.__rememberedObjects.length > 0 && (t.preset = this.preset, t.remembered || (t.remembered = {}), t.remembered[this.preset] = T(this)), t.folders = {}, f.each(this.__folders, function(e, i) { t.folders[i] = e.getSaveObject() }), t }, save: function() { this.load.remembered || (this.load.remembered = {}), this.load.remembered[this.preset] = T(this), E(this, !1) }, saveAs: function(t) { this.load.remembered || (this.load.remembered = {}, this.load.remembered[I] = T(this, !0)), this.load.remembered[t] = T(this), this.preset = t, S(this, t, !0) }, revert: function(t) { f.each(this.__controllers, function(e) { this.getRoot().load.remembered ? y(t || this.getRoot(), e) : e.setValue(e.initialValue) }, this), f.each(this.__folders, function(t) { t.revert(t) }), t || E(this.getRoot(), !1) }, listen: function(t) { var e = 0 == this.__listening.length;
                this.__listening.push(t), e && A(this.__listening) } }), F }(i.utils.css, '<div id="dg-save" class="dg dialogue">\n\n  Here\'s the new load parameter for your <code>GUI</code>\'s constructor:\n\n  <textarea id="dg-new-constructor"></textarea>\n\n  <div id="dg-save-locally">\n\n    <input id="dg-local-storage" type="checkbox"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id="dg-local-explain">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>\'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n      \n    </div>\n    \n  </div>\n\n</div>', ".dg ul{list-style:none;margin:0;padding:0;width:100%;clear:both}.dg.ac{position:fixed;top:0;left:0;right:0;height:0;z-index:0}.dg:not(.ac) .main{overflow:hidden}.dg.main{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear}.dg.main.taller-than-window{overflow-y:auto}.dg.main.taller-than-window .close-button{opacity:1;margin-top:-1px;border-top:1px solid #2c2c2c}.dg.main ul.closed .close-button{opacity:1 !important}.dg.main:hover .close-button,.dg.main .close-button.drag{opacity:1}.dg.main .close-button{-webkit-transition:opacity 0.1s linear;-o-transition:opacity 0.1s linear;-moz-transition:opacity 0.1s linear;transition:opacity 0.1s linear;border:0;position:absolute;line-height:19px;height:20px;cursor:pointer;text-align:center;background-color:#000}.dg.main .close-button:hover{background-color:#111}.dg.a{float:right;margin-right:15px;overflow-x:hidden}.dg.a.has-save ul{margin-top:27px}.dg.a.has-save ul.closed{margin-top:0}.dg.a .save-row{position:fixed;top:0;z-index:1002}.dg li{-webkit-transition:height 0.1s ease-out;-o-transition:height 0.1s ease-out;-moz-transition:height 0.1s ease-out;transition:height 0.1s ease-out}.dg li:not(.folder){cursor:auto;height:27px;line-height:27px;overflow:hidden;padding:0 4px 0 5px}.dg li.folder{padding:0;border-left:4px solid rgba(0,0,0,0)}.dg li.title{cursor:pointer;margin-left:-4px}.dg .closed li:not(.title),.dg .closed ul li,.dg .closed ul li > *{height:0;overflow:hidden;border:0}.dg .cr{clear:both;padding-left:3px;height:27px}.dg .property-name{cursor:default;float:left;clear:left;width:40%;overflow:hidden;text-overflow:ellipsis}.dg .c{float:left;width:60%}.dg .c input[type=text]{border:0;margin-top:4px;padding:3px;width:100%;float:right}.dg .has-slider input[type=text]{width:30%;margin-left:0}.dg .slider{float:left;width:66%;margin-left:-5px;margin-right:0;height:19px;margin-top:4px}.dg .slider-fg{height:100%}.dg .c input[type=checkbox]{margin-top:9px}.dg .c select{margin-top:5px}.dg .cr.function,.dg .cr.function .property-name,.dg .cr.function *,.dg .cr.boolean,.dg .cr.boolean *{cursor:pointer}.dg .selector{display:none;position:absolute;margin-left:-9px;margin-top:23px;z-index:10}.dg .c:hover .selector,.dg .selector.drag{display:block}.dg li.save-row{padding:0}.dg li.save-row .button{display:inline-block;padding:0px 6px}.dg.dialogue{background-color:#222;width:460px;padding:15px;font-size:13px;line-height:15px}#dg-new-constructor{padding:10px;color:#222;font-family:Monaco, monospace;font-size:10px;border:0;resize:none;box-shadow:inset 1px 1px 1px #888;word-wrap:break-word;margin:12px 0;display:block;width:440px;overflow-y:scroll;height:100px;position:relative}#dg-local-explain{display:none;font-size:11px;line-height:17px;border-radius:3px;background-color:#333;padding:8px;margin-top:10px}#dg-local-explain code{font-size:10px}#dat-gui-save-locally{display:none}.dg{color:#eee;font:11px 'Lucida Grande', sans-serif;text-shadow:0 -1px 0 #111}.dg.main::-webkit-scrollbar{width:5px;background:#1a1a1a}.dg.main::-webkit-scrollbar-corner{height:0;display:none}.dg.main::-webkit-scrollbar-thumb{border-radius:5px;background:#676767}.dg li:not(.folder){background:#1a1a1a;border-bottom:1px solid #2c2c2c}.dg li.save-row{line-height:25px;background:#dad5cb;border:0}.dg li.save-row select{margin-left:5px;width:108px}.dg li.save-row .button{margin-left:5px;margin-top:1px;border-radius:2px;font-size:9px;line-height:7px;padding:4px 4px 5px 4px;background:#c5bdad;color:#fff;text-shadow:0 1px 0 #b0a58f;box-shadow:0 -1px 0 #b0a58f;cursor:pointer}.dg li.save-row .button.gears{background:#c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;height:7px;width:8px}.dg li.save-row .button:hover{background-color:#bab19e;box-shadow:0 -1px 0 #b0a58f}.dg li.folder{border-bottom:0}.dg li.title{padding-left:16px;background:#000 url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;cursor:pointer;border-bottom:1px solid rgba(255,255,255,0.2)}.dg .closed li.title{background-image:url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==)}.dg .cr.boolean{border-left:3px solid #806787}.dg .cr.function{border-left:3px solid #e61d5f}.dg .cr.number{border-left:3px solid #2fa1d6}.dg .cr.number input[type=text]{color:#2fa1d6}.dg .cr.string{border-left:3px solid #1ed36f}.dg .cr.string input[type=text]{color:#1ed36f}.dg .cr.function:hover,.dg .cr.boolean:hover{background:#111}.dg .c input[type=text]{background:#303030;outline:none}.dg .c input[type=text]:hover{background:#3c3c3c}.dg .c input[type=text]:focus{background:#494949;color:#fff}.dg .c .slider{background:#303030;cursor:ew-resize}.dg .c .slider-fg{background:#2fa1d6}.dg .c .slider:hover{background:#3c3c3c}.dg .c .slider:hover .slider-fg{background:#44abda}\n", i.controllers.factory = function(t, e, i, n, r, o, a) { return function(s, h) { var l = s[h]; return a.isArray(arguments[2]) || a.isObject(arguments[2]) ? new t(s, h, arguments[2]) : a.isNumber(l) ? a.isNumber(arguments[2]) && a.isNumber(arguments[3]) ? new i(s, h, arguments[2], arguments[3]) : new e(s, h, { min: arguments[2], max: arguments[3] }) : a.isString(l) ? new n(s, h) : a.isFunction(l) ? new r(s, h, "") : a.isBoolean(l) ? new o(s, h) : void 0 } }(i.controllers.OptionController, i.controllers.NumberControllerBox, i.controllers.NumberControllerSlider, i.controllers.StringController = function(t, e, i) { var n = function(t, i) {
            function r() { a.setValue(a.__input.value) }

            function o() { a.__onFinishChange && a.__onFinishChange.call(a, a.getValue()) } n.superclass.call(this, t, i); var a = this;
            this.__input = document.createElement("input"), this.__input.setAttribute("type", "text"), e.bind(this.__input, "keyup", r), e.bind(this.__input, "change", r), e.bind(this.__input, "blur", o), e.bind(this.__input, "keydown", function(t) { 13 === t.keyCode && this.blur() }), this.updateDisplay(), this.domElement.appendChild(this.__input) }; return n.superclass = t, i.extend(n.prototype, t.prototype, { updateDisplay: function() { return e.isActive(this.__input) || (this.__input.value = this.getValue()), n.superclass.prototype.updateDisplay.call(this) } }), n }(i.controllers.Controller, i.dom.dom, i.utils.common), i.controllers.FunctionController, i.controllers.BooleanController, i.utils.common), i.controllers.Controller, i.controllers.BooleanController, i.controllers.FunctionController, i.controllers.NumberControllerBox, i.controllers.NumberControllerSlider, i.controllers.OptionController, i.controllers.ColorController = function(t, e, i, n, r) {
        function o(t, e, i, n) { t.style.background = "", r.each(h, function(r) { t.style.cssText += "background: " + r + "linear-gradient(" + e + ", " + i + " 0%, " + n + " 100%); " }) }

        function a(t) { t.style.background = "", t.style.cssText += "background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);", t.style.cssText += "background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);", t.style.cssText += "background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);", t.style.cssText += "background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);", t.style.cssText += "background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);" }
        var s = function(t, h) {
            function l(t) { p(t), e.bind(window, "mousemove", p), e.bind(window, "mouseup", u) }

            function u() { e.unbind(window, "mousemove", p), e.unbind(window, "mouseup", u) }

            function c() { var t = n(this.value);
                t !== !1 ? (m.__color.__state = t, m.setValue(m.__color.toOriginal())) : this.value = m.__color.toString() }

            function d() { e.unbind(window, "mousemove", f), e.unbind(window, "mouseup", d) }

            function p(t) { t.preventDefault(); var i = e.getWidth(m.__saturation_field),
                    n = e.getOffset(m.__saturation_field),
                    r = (t.clientX - n.left + document.body.scrollLeft) / i,
                    o = 1 - (t.clientY - n.top + document.body.scrollTop) / i; return o > 1 ? o = 1 : o < 0 && (o = 0), r > 1 ? r = 1 : r < 0 && (r = 0), m.__color.v = o, m.__color.s = r, m.setValue(m.__color.toOriginal()), !1 }

            function f(t) { t.preventDefault(); var i = e.getHeight(m.__hue_field),
                    n = e.getOffset(m.__hue_field),
                    r = 1 - (t.clientY - n.top + document.body.scrollTop) / i; return r > 1 ? r = 1 : r < 0 && (r = 0), m.__color.h = 360 * r, m.setValue(m.__color.toOriginal()), !1 } s.superclass.call(this, t, h), this.__color = new i(this.getValue()), this.__temp = new i(0); var m = this;
            this.domElement = document.createElement("div"), e.makeSelectable(this.domElement, !1), this.__selector = document.createElement("div"), this.__selector.className = "selector", this.__saturation_field = document.createElement("div"), this.__saturation_field.className = "saturation-field", this.__field_knob = document.createElement("div"), this.__field_knob.className = "field-knob", this.__field_knob_border = "2px solid ", this.__hue_knob = document.createElement("div"), this.__hue_knob.className = "hue-knob", this.__hue_field = document.createElement("div"), this.__hue_field.className = "hue-field", this.__input = document.createElement("input"), this.__input.type = "text", this.__input_textShadow = "0 1px 1px ", e.bind(this.__input, "keydown", function(t) { 13 === t.keyCode && c.call(this) }), e.bind(this.__input, "blur", c), e.bind(this.__selector, "mousedown", function(t) { e.addClass(this, "drag").bind(window, "mouseup", function(t) { e.removeClass(m.__selector, "drag") }) }); var g = document.createElement("div");
            r.extend(this.__selector.style, { width: "122px", height: "102px", padding: "3px", backgroundColor: "#222", boxShadow: "0px 1px 3px rgba(0,0,0,0.3)" }), r.extend(this.__field_knob.style, { position: "absolute", width: "12px", height: "12px", border: this.__field_knob_border + (this.__color.v < .5 ? "#fff" : "#000"), boxShadow: "0px 1px 3px rgba(0,0,0,0.5)", borderRadius: "12px", zIndex: 1 }), r.extend(this.__hue_knob.style, { position: "absolute", width: "15px", height: "2px", borderRight: "4px solid #fff", zIndex: 1 }), r.extend(this.__saturation_field.style, { width: "100px", height: "100px", border: "1px solid #555", marginRight: "3px", display: "inline-block", cursor: "pointer" }), r.extend(g.style, { width: "100%", height: "100%", background: "none" }), o(g, "top", "rgba(0,0,0,0)", "#000"), r.extend(this.__hue_field.style, { width: "15px", height: "100px", display: "inline-block", border: "1px solid #555", cursor: "ns-resize" }), a(this.__hue_field), r.extend(this.__input.style, { outline: "none", textAlign: "center", color: "#fff", border: 0, fontWeight: "bold", textShadow: this.__input_textShadow + "rgba(0,0,0,0.7)" }), e.bind(this.__saturation_field, "mousedown", l), e.bind(this.__field_knob, "mousedown", l), e.bind(this.__hue_field, "mousedown", function(t) { f(t), e.bind(window, "mousemove", f), e.bind(window, "mouseup", d) }), this.__saturation_field.appendChild(g), this.__selector.appendChild(this.__field_knob), this.__selector.appendChild(this.__saturation_field), this.__selector.appendChild(this.__hue_field), this.__hue_field.appendChild(this.__hue_knob), this.domElement.appendChild(this.__input), this.domElement.appendChild(this.__selector), this.updateDisplay() };
        s.superclass = t, r.extend(s.prototype, t.prototype, { updateDisplay: function() { var t = n(this.getValue()); if (t !== !1) { var e = !1;
                    r.each(i.COMPONENTS, function(i) { if (!r.isUndefined(t[i]) && !r.isUndefined(this.__color.__state[i]) && t[i] !== this.__color.__state[i]) return e = !0, {} }, this), e && r.extend(this.__color.__state, t) } r.extend(this.__temp.__state, this.__color.__state), this.__temp.a = 1; var a = this.__color.v < .5 || this.__color.s > .5 ? 255 : 0,
                    s = 255 - a;
                r.extend(this.__field_knob.style, { marginLeft: 100 * this.__color.s - 7 + "px", marginTop: 100 * (1 - this.__color.v) - 7 + "px", backgroundColor: this.__temp.toString(), border: this.__field_knob_border + "rgb(" + a + "," + a + "," + a + ")" }), this.__hue_knob.style.marginTop = 100 * (1 - this.__color.h / 360) + "px", this.__temp.s = 1, this.__temp.v = 1, o(this.__saturation_field, "left", "#fff", this.__temp.toString()), r.extend(this.__input.style, { backgroundColor: this.__input.value = this.__color.toString(), color: "rgb(" + a + "," + a + "," + a + ")", textShadow: this.__input_textShadow + "rgba(" + s + "," + s + "," + s + ",.7)" }) } });
        var h = ["-moz-", "-o-", "-webkit-", "-ms-", ""];
        return s
    }(i.controllers.Controller, i.dom.dom, i.color.Color = function(t, e, i, n) {
        function r(t, e, i) { Object.defineProperty(t, e, { get: function() { return "RGB" === this.__state.space ? this.__state[e] : (a(this, e, i), this.__state[e]) }, set: function(t) { "RGB" !== this.__state.space && (a(this, e, i), this.__state.space = "RGB"), this.__state[e] = t } }) }

        function o(t, e) { Object.defineProperty(t, e, { get: function() { return "HSV" === this.__state.space ? this.__state[e] : (s(this), this.__state[e]) }, set: function(t) { "HSV" !== this.__state.space && (s(this), this.__state.space = "HSV"), this.__state[e] = t } }) }

        function a(t, i, r) { if ("HEX" === t.__state.space) t.__state[i] = e.component_from_hex(t.__state.hex, r);
            else { if ("HSV" !== t.__state.space) throw "Corrupted color state";
                n.extend(t.__state, e.hsv_to_rgb(t.__state.h, t.__state.s, t.__state.v)) } }

        function s(t) { var i = e.rgb_to_hsv(t.r, t.g, t.b);
            n.extend(t.__state, { s: i.s, v: i.v }), n.isNaN(i.h) ? n.isUndefined(t.__state.h) && (t.__state.h = 0) : t.__state.h = i.h } var h = function() { if (this.__state = t.apply(this, arguments), this.__state === !1) throw "Failed to interpret color arguments";
            this.__state.a = this.__state.a || 1 }; return h.COMPONENTS = ["r", "g", "b", "h", "s", "v", "hex", "a"], n.extend(h.prototype, { toString: function() { return i(this) }, toOriginal: function() { return this.__state.conversion.write(this) } }), r(h.prototype, "r", 2), r(h.prototype, "g", 1), r(h.prototype, "b", 0), o(h.prototype, "h"), o(h.prototype, "s"), o(h.prototype, "v"), Object.defineProperty(h.prototype, "a", { get: function() { return this.__state.a }, set: function(t) { this.__state.a = t } }), Object.defineProperty(h.prototype, "hex", { get: function() { return "HEX" !== !this.__state.space && (this.__state.hex = e.rgb_to_hex(this.r, this.g, this.b)), this.__state.hex }, set: function(t) { this.__state.space = "HEX", this.__state.hex = t } }), h }(i.color.interpret, i.color.math = function() { var t; return { hsv_to_rgb: function(t, e, i) { var n = Math.floor(t / 60) % 6,
                    r = t / 60 - Math.floor(t / 60),
                    o = i * (1 - e),
                    a = i * (1 - r * e),
                    s = i * (1 - (1 - r) * e),
                    h = [
                        [i, s, o],
                        [a, i, o],
                        [o, i, s],
                        [o, a, i],
                        [s, o, i],
                        [i, o, a]
                    ][n]; return { r: 255 * h[0], g: 255 * h[1], b: 255 * h[2] } }, rgb_to_hsv: function(t, e, i) { var n, r, o = Math.min(t, e, i),
                    a = Math.max(t, e, i),
                    s = a - o; return 0 == a ? { h: NaN, s: 0, v: 0 } : (r = s / a, n = t == a ? (e - i) / s : e == a ? 2 + (i - t) / s : 4 + (t - e) / s, n /= 6, n < 0 && (n += 1), { h: 360 * n, s: r, v: a / 255 }) }, rgb_to_hex: function(t, e, i) { var n = this.hex_with_component(0, 2, t); return n = this.hex_with_component(n, 1, e), n = this.hex_with_component(n, 0, i) }, component_from_hex: function(t, e) { return t >> 8 * e & 255 }, hex_with_component: function(e, i, n) { return n << (t = 8 * i) | e & ~(255 << t) } } }(), i.color.toString, i.utils.common), i.color.interpret, i.utils.common), i.utils.requestAnimationFrame = function() { return window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(t, e) { window.setTimeout(t, 1e3 / 60) } }(), i.dom.CenteredDiv = function(t, e) { var i = function() { this.backgroundElement = document.createElement("div"), e.extend(this.backgroundElement.style, { backgroundColor: "rgba(0,0,0,0.8)", top: 0, left: 0, display: "none", zIndex: "1000", opacity: 0, WebkitTransition: "opacity 0.2s linear" }), t.makeFullscreen(this.backgroundElement), this.backgroundElement.style.position = "fixed", this.domElement = document.createElement("div"), e.extend(this.domElement.style, { position: "fixed", display: "none", zIndex: "1001", opacity: 0, WebkitTransition: "-webkit-transform 0.2s ease-out, opacity 0.2s linear" }), document.body.appendChild(this.backgroundElement), document.body.appendChild(this.domElement); var i = this;
            t.bind(this.backgroundElement, "click", function() { i.hide() }) }; return i.prototype.show = function() { var t = this;
            this.backgroundElement.style.display = "block", this.domElement.style.display = "block", this.domElement.style.opacity = 0, this.domElement.style.webkitTransform = "scale(1.1)", this.layout(), e.defer(function() { t.backgroundElement.style.opacity = 1, t.domElement.style.opacity = 1, t.domElement.style.webkitTransform = "scale(1)" }) }, i.prototype.hide = function() { var e = this,
                i = function() { e.domElement.style.display = "none", e.backgroundElement.style.display = "none", t.unbind(e.domElement, "webkitTransitionEnd", i), t.unbind(e.domElement, "transitionend", i), t.unbind(e.domElement, "oTransitionEnd", i) };
            t.bind(this.domElement, "webkitTransitionEnd", i), t.bind(this.domElement, "transitionend", i), t.bind(this.domElement, "oTransitionEnd", i), this.backgroundElement.style.opacity = 0, this.domElement.style.opacity = 0, this.domElement.style.webkitTransform = "scale(1.1)" }, i.prototype.layout = function() { this.domElement.style.left = window.innerWidth / 2 - t.getWidth(this.domElement) / 2 + "px", this.domElement.style.top = window.innerHeight / 2 - t.getHeight(this.domElement) / 2 + "px" }, i }(i.dom.dom, i.utils.common), i.dom.dom, i.utils.common)
}, function(t, e) { var i = t.exports = i || {};
    i.color = i.color || {}, i.utils = i.utils || {}, i.utils.common = function() { var t = Array.prototype.forEach,
            e = Array.prototype.slice; return { BREAK: {}, extend: function(t) { return this.each(e.call(arguments, 1), function(e) { for (var i in e) this.isUndefined(e[i]) || (t[i] = e[i]) }, this), t }, defaults: function(t) { return this.each(e.call(arguments, 1), function(e) { for (var i in e) this.isUndefined(t[i]) && (t[i] = e[i]) }, this), t }, compose: function() { var t = e.call(arguments); return function() { for (var i = e.call(arguments), n = t.length - 1; n >= 0; n--) i = [t[n].apply(this, i)]; return i[0] } }, each: function(e, i, n) { if (t && e.forEach === t) e.forEach(i, n);
                else if (e.length === e.length + 0) { for (var r = 0, o = e.length; r < o; r++)
                        if (r in e && i.call(n, e[r], r) === this.BREAK) return } else
                    for (var r in e)
                        if (i.call(n, e[r], r) === this.BREAK) return }, defer: function(t) { setTimeout(t, 0) }, toArray: function(t) { return t.toArray ? t.toArray() : e.call(t) }, isUndefined: function(t) { return void 0 === t }, isNull: function(t) { return null === t }, isNaN: function(t) { return t !== t }, isArray: Array.isArray || function(t) { return t.constructor === Array }, isObject: function(t) { return t === Object(t) }, isNumber: function(t) { return t === t + 0 }, isString: function(t) { return t === t + "" }, isBoolean: function(t) { return t === !1 || t === !0 }, isFunction: function(t) { return "[object Function]" === Object.prototype.toString.call(t) } } }(), i.color.toString = function(t) { return function(e) { if (1 == e.a || t.isUndefined(e.a)) { for (var i = e.hex.toString(16); i.length < 6;) i = "0" + i; return "#" + i } return "rgba(" + Math.round(e.r) + "," + Math.round(e.g) + "," + Math.round(e.b) + "," + e.a + ")" } }(i.utils.common), i.Color = i.color.Color = function(t, e, i, n) {
        function r(t, e, i) { Object.defineProperty(t, e, { get: function() { return "RGB" === this.__state.space ? this.__state[e] : (a(this, e, i), this.__state[e]) }, set: function(t) { "RGB" !== this.__state.space && (a(this, e, i), this.__state.space = "RGB"), this.__state[e] = t } }) }

        function o(t, e) { Object.defineProperty(t, e, { get: function() { return "HSV" === this.__state.space ? this.__state[e] : (s(this), this.__state[e]) }, set: function(t) { "HSV" !== this.__state.space && (s(this), this.__state.space = "HSV"), this.__state[e] = t } }) }

        function a(t, i, r) { if ("HEX" === t.__state.space) t.__state[i] = e.component_from_hex(t.__state.hex, r);
            else { if ("HSV" !== t.__state.space) throw "Corrupted color state";
                n.extend(t.__state, e.hsv_to_rgb(t.__state.h, t.__state.s, t.__state.v)) } }

        function s(t) { var i = e.rgb_to_hsv(t.r, t.g, t.b);
            n.extend(t.__state, { s: i.s, v: i.v }), n.isNaN(i.h) ? n.isUndefined(t.__state.h) && (t.__state.h = 0) : t.__state.h = i.h } var h = function() { if (this.__state = t.apply(this, arguments), this.__state === !1) throw "Failed to interpret color arguments";
            this.__state.a = this.__state.a || 1 }; return h.COMPONENTS = ["r", "g", "b", "h", "s", "v", "hex", "a"], n.extend(h.prototype, { toString: function() { return i(this) }, toOriginal: function() { return this.__state.conversion.write(this) } }), r(h.prototype, "r", 2), r(h.prototype, "g", 1), r(h.prototype, "b", 0), o(h.prototype, "h"), o(h.prototype, "s"), o(h.prototype, "v"), Object.defineProperty(h.prototype, "a", { get: function() { return this.__state.a }, set: function(t) { this.__state.a = t } }), Object.defineProperty(h.prototype, "hex", { get: function() { return "HEX" !== !this.__state.space && (this.__state.hex = e.rgb_to_hex(this.r, this.g, this.b)), this.__state.hex }, set: function(t) { this.__state.space = "HEX", this.__state.hex = t } }), h }(i.color.interpret = function(t, e) { var i, n, r = function() { n = !1; var t = arguments.length > 1 ? e.toArray(arguments) : arguments[0]; return e.each(o, function(r) { if (r.litmus(t)) return e.each(r.conversions, function(r, o) { if (i = r.read(t), n === !1 && i !== !1) return n = i, i.conversionName = o, i.conversion = r, e.BREAK }), e.BREAK }), n },
            o = [{ litmus: e.isString, conversions: { THREE_CHAR_HEX: { read: function(t) { var e = t.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i); return null !== e && { space: "HEX", hex: parseInt("0x" + e[1].toString() + e[1].toString() + e[2].toString() + e[2].toString() + e[3].toString() + e[3].toString()) } }, write: t }, SIX_CHAR_HEX: { read: function(t) { var e = t.match(/^#([A-F0-9]{6})$/i); return null !== e && { space: "HEX", hex: parseInt("0x" + e[1].toString()) } }, write: t }, CSS_RGB: { read: function(t) { var e = t.match(/^rgb\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\)/); return null !== e && { space: "RGB", r: parseFloat(e[1]), g: parseFloat(e[2]), b: parseFloat(e[3]) } }, write: t }, CSS_RGBA: { read: function(t) { var e = t.match(/^rgba\(\s*(.+)\s*,\s*(.+)\s*,\s*(.+)\s*\,\s*(.+)\s*\)/); return null !== e && { space: "RGB", r: parseFloat(e[1]), g: parseFloat(e[2]), b: parseFloat(e[3]), a: parseFloat(e[4]) } }, write: t } } }, { litmus: e.isNumber, conversions: { HEX: { read: function(t) { return { space: "HEX", hex: t, conversionName: "HEX" } }, write: function(t) { return t.hex } } } }, { litmus: e.isArray, conversions: { RGB_ARRAY: { read: function(t) { return 3 == t.length && { space: "RGB", r: t[0], g: t[1], b: t[2] } }, write: function(t) { return [t.r, t.g, t.b] } }, RGBA_ARRAY: { read: function(t) { return 4 == t.length && { space: "RGB", r: t[0], g: t[1], b: t[2], a: t[3] } }, write: function(t) { return [t.r, t.g, t.b, t.a] } } } }, { litmus: e.isObject, conversions: { RGBA_OBJ: { read: function(t) { return !!(e.isNumber(t.r) && e.isNumber(t.g) && e.isNumber(t.b) && e.isNumber(t.a)) && { space: "RGB", r: t.r, g: t.g, b: t.b, a: t.a } }, write: function(t) { return { r: t.r, g: t.g, b: t.b, a: t.a } } }, RGB_OBJ: { read: function(t) { return !!(e.isNumber(t.r) && e.isNumber(t.g) && e.isNumber(t.b)) && { space: "RGB", r: t.r, g: t.g, b: t.b } }, write: function(t) { return { r: t.r, g: t.g, b: t.b } } }, HSVA_OBJ: { read: function(t) { return !!(e.isNumber(t.h) && e.isNumber(t.s) && e.isNumber(t.v) && e.isNumber(t.a)) && { space: "HSV", h: t.h, s: t.s, v: t.v, a: t.a } }, write: function(t) { return { h: t.h, s: t.s, v: t.v, a: t.a } } }, HSV_OBJ: { read: function(t) { return !!(e.isNumber(t.h) && e.isNumber(t.s) && e.isNumber(t.v)) && { space: "HSV", h: t.h, s: t.s, v: t.v } }, write: function(t) { return { h: t.h, s: t.s, v: t.v } } } } }]; return r }(i.color.toString, i.utils.common), i.color.math = function() { var t; return { hsv_to_rgb: function(t, e, i) { var n = Math.floor(t / 60) % 6,
                    r = t / 60 - Math.floor(t / 60),
                    o = i * (1 - e),
                    a = i * (1 - r * e),
                    s = i * (1 - (1 - r) * e),
                    h = [
                        [i, s, o],
                        [a, i, o],
                        [o, i, s],
                        [o, a, i],
                        [s, o, i],
                        [i, o, a]
                    ][n]; return { r: 255 * h[0], g: 255 * h[1], b: 255 * h[2] } }, rgb_to_hsv: function(t, e, i) { var n, r, o = Math.min(t, e, i),
                    a = Math.max(t, e, i),
                    s = a - o; return 0 == a ? { h: NaN, s: 0, v: 0 } : (r = s / a, n = t == a ? (e - i) / s : e == a ? 2 + (i - t) / s : 4 + (t - e) / s, n /= 6, n < 0 && (n += 1), { h: 360 * n, s: r, v: a / 255 }) }, rgb_to_hex: function(t, e, i) { var n = this.hex_with_component(0, 2, t); return n = this.hex_with_component(n, 1, e), n = this.hex_with_component(n, 0, i) }, component_from_hex: function(t, e) { return t >> 8 * e & 255 }, hex_with_component: function(e, i, n) { return n << (t = 8 * i) | e & ~(255 << t) } } }(), i.color.toString, i.utils.common) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = (i(8), i(116)),
            o = i(22),
            a = i(68),
            s = function(t) { r.call(this), this.game = t, this.padding = (o.instance.isMobile, 0), this.idleZoom = 1, this.zoom = this.idleZoom, this.zoomWait = 0, this.lockToFrame = !0, this.easeX = 0, this.easeY = 0, this.mobileMode = !1, this.spring = new a, this.canShake = !0 };
        s.prototype = Object.create(r.prototype), s.prototype.reset = function() { this.x = this.easeX = this.viewWidth / 2 }, s.prototype.shake = function(t, e) { this.canShake && (t = t || Math.random() * Math.PI * 2, e = e || 20, this.spring.dx = Math.sin(t) * e, this.spring.dy = Math.cos(t) * e) }, s.prototype.update = function() { this.spring.update(); var t = this.game.ball,
                e = t.position.x,
                i = t.position.y;
            this.viewWidth, this.viewHeight;
            this.easeX += .1 * (e - this.x), this.easeY += .1 * (i - this.y), this.x = this.easeX + this.spring.x, this.y = this.easeY + this.spring.y }, s.prototype.resize = function(t, e) { this.viewWidth = t, this.viewHeight = e }, n.exports = s }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = (i(8), function() { this.x = 0, this.y = 0, this.rotation = 0, this.zoom = 1, this.viewWidth = 1130, this.viewHeight = 640 });
        r.prototype.update = function() {}, r.prototype.resize = function(t, e) { this.viewWidth = t, this.viewHeight = e }, n.exports = r }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = (i(8), i(9)),
            o = i(47),
            a = i(22),
            s = i(68),
            h = (i(112), i(118), function(t) { r.PerspectiveCamera.call(this, 40, 4, 1, 3e3), this.game = t, this.padding = (a.instance.isMobile, 0), this.idleZoom = 1, this.targetZoom = 1, this.zoom = this.idleZoom, this.zoomWait = 0, this.lockToFrame = !0, this.easeX = 0, this.easeY = 0, this.easeZ = 0, this.mobileMode = !1, this.spring = new s, this.canShake = !0, this.focusMode = !1, this.celebrateMode = !1, this.endMode = !1, this.rock = 0, this.tick = 0, this.currentId = 0 });
        h.prototype = Object.create(r.PerspectiveCamera.prototype), h.prototype.reset = function() { this.x = this.easeX = this.viewWidth / 2, this.endMode = !1, this.celebrateMode = !1 }, h.prototype.shake = function(t, e) { this.canShake && (t = t || Math.random() * Math.PI * 2, e = e || 20, this.spring.dx = Math.sin(t) * e, this.spring.dy = Math.cos(t) * e) }, h.prototype.update = function() { this.spring.update(); var t = this.game.ball;
            this.celebrateMode ? t = this.game.ball.lastOwner || this.game.ball : this.endMode && (this.tick > 100 && (this.currentId++, this.tick = 0), t = this.game.ball.lastOwner || this.game.ball); var e = t.position.x;
            e < 200 ? e = 200 : e > 1400 && (e = 1400); var i = t.position.y;
            (this.celebrateMode || this.endMode) && (i += 100), i < 150 ? i = 150 : i > 800 && (i = 800); var n = e,
                r = i - 400,
                a = 500 - o.map(i, 150, 800, 150, 0);
            this.focusMode ? (a = 300, this.targetZoom = 1.4, this.shake(null, (this.zoom - 1) / .2), this.easeZ += .1 * (a - this.easeZ)) : (this.targetZoom = 1, this.easeZ += .3 * (a - this.easeZ)), this.easeX += .2 * (n - this.easeX), this.easeY += .2 * (r - this.easeY), this.position.x = this.easeX, this.position.y = this.easeY, this.position.z = this.easeZ; var s = this.position.z - 0,
                h = this.position.y - i,
                l = this.position.x - e,
                u = Math.atan2(-h, s),
                c = Math.atan2(-s, l) + Math.PI / 2; if (this.rotation.x += o.smallestAngle(this.rotation.x, u), this.rotation.y += o.smallestAngle(this.rotation.y, c), window.test = this.rotation.x, this.position.x += this.spring.x, this.position.z += this.spring.y, this.celebrateMode) { this.rotation.z = .15 * Math.sin(.6 * this.rock), this.rock += .1; var d = 1.5 + .2 * Math.sin(.5 * this.rock);
                this.zoom += .1 * (d - this.zoom) } else this.rotation.z *= .9, this.zoom += .01 * (this.targetZoom - this.zoom);
            this.updateProjectionMatrix() }, n.exports = h }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e) { "use strict";
    t.exports = { GAME: { TIME: 90 }, PLAYER_STATE: { IDLE: 0, RUN: 1, FREE_RUN: 2, WIN: 3, LOSE: 4, TACKLE: 5, FALL: 6, KICK_CHARGE: 7, KICK: 8, HIDE: 9, SHOW: 10, FREEZE: 11, SHRINK: 12, FIRE: 13 }, KEEPER_STATE: { IDLE: 0, DIVE: 1, CLOSING_DOWN: 2 }, TEAM_STATE: { ATTACKING: 0, DEFENDING: 1, ATTACK_IDLE: 2, KICK_OFF: 3, DEFEND_IDLE: 4, SCORED: 5, LOST: 6, TUTORIAL_TACKLE: 7, TUTORIAL_IDLE: 8 }, END_STATE: { WIN: 0, LOSE: 1, DRAW: 2 } } }, function(t, e, i) {
    "use strict";

    function n(t) { return t && t.__esModule ? t : { "default": t } }

    function r(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

    function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

    function a(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

    function s(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } e.__esModule = !0;
    var h = i(8),
        l = r(h),
        u = i(30),
        c = n(u),
        d = i(21),
        p = n(d),
        f = i(120),
        m = n(f),
        g = i(121),
        v = n(g),
        y = i(122),
        _ = n(y),
        b = i(118),
        x = n(b),
        w = i(127),
        T = n(w),
        S = i(128),
        M = n(S),
        E = i(129),
        A = n(E),
        C = i(130),
        R = n(C),
        P = i(131),
        O = n(P),
        L = i(47),
        I = n(L),
        D = i(53),
        k = n(D),
        B = x["default"].PLAYER_STATE,
        N = function(t) {
            function e(i) { o(this, e); var n = 20,
                    r = new _["default"].CrashBody.fromRect(-n / 2, -n / 2, n, n),
                    s = (new l.Graphics).beginFill(16711680).drawRect(-20, -20, 40, 40);
                i && (s.tint = 65280); var h = a(this, t.call(this, 400, 50, s, r)); return h.isTeamA = i, i || (window.player = h), h.view3d = new v["default"](h), h.speedBoost = 1, h.shotPower = 1, h.tacklePower = 1, h._tick = 1e3 * Math.random(), h.type = 1, h.currentTouchingPlayer = null, h.touchingBall = !1, h.ball = null, h.body.position = h.position, h.name = "player", h.groups = ["Player"], h.state = B.IDLE, h.startPosition = new _["default"].Vector, h.ballSkills = new T["default"](h), h.movement = new M["default"](h), h.chargeBar = new R["default"], h.offScreenIcon = new O["default"], h.DEBUG = !1, h.auto = !0, h.shootTarget = null, h.tackleWait = 0, h.fallWait = 0, h.chaseWait = 0, h.passWait = 0, h.shotWait = 0, h.turnCount = 0, h.canTackleCount = 0, h.reticle = new A["default"](h), h.view.addChild(h.reticle), h.reticle.visible = !1, h.shootArrow = (new l.Graphics).beginFill(16776960).drawRect(0, -5, 100, 10).drawCircle(0, 0, 20), h.view.addChild(h.shootArrow), h.randomDir = new l.Point(0, 0), h.shootDirection = new l.Point(1, 0), h.shootAngle = 0, h.shootOffsetAngle = 0, h.didModifyShootAngle = !1, h.powerup = null, h.speedBoost = !1, h.canBeTackled = !0, h.overwriteStopWalk = !1, h.balanceData = null, h.helpTackle = !0, h.tackleSize = 30, h.normalSize = 20, h.bananaSize = 70, h.actualSpeed = 3, h }
            return s(e, t), e.prototype.fallOver = function(t) { c["default"].sfx.stop("power_up_charge"), c["default"].sfx.play("tackle_hit_deck"), this.body.acceleration.x = 0, this.body.acceleration.y = 0, this.fallWait = 0, this.setState(B.FALL), this.ballSkills.ball && !t && this.ballSkills.releaseBall() }, e.prototype.freeze = function() { this.body.acceleration.x = 0, this.body.acceleration.y = 0, this.setState(B.FREEZE), this.view3d.reticle.visible = !1 }, e.prototype.hidePlayerView = function() { this.view3d.hide() }, e.prototype.showPlayerView = function() { this.view3d.show() }, e.prototype.reset = function(t) { this.view3d.reticle.visible = !0, this.setState(B.STOP), t || this.endPowerup(), this.movement.stop(), this.ballSkills.ball && this.ballSkills.releaseBall() }, e.prototype.setData = function(t) { this.data = t, this.view3d.setData(t), this.data.power >= .7 || window.showTutorial ? this.chargeBar.setSize(2) : this.data.power >= .4 ? this.chargeBar.setSize(1) : this.chargeBar.setSize(0), this.offScreenIcon.setData(t) }, e.prototype.setTeam = function(t) { for (var e = [], i = 0; i < t.children.length; i++) { var n = t.children[i];
                        n !== this && e.push(n) } this.reticle.setArrows(e), this.view3d.reticle.setArrows(e) }, e.prototype.setReticle = function(t) { this.reticle.visible = t }, e.prototype.setState = function(t) { if (this.state !== t && (this.state !== B.HIDE || t === B.SHOW)) { if (this.state === B.KICK_CHARGE && (this.world.view3d.camera.focusMode = !1), this.canCollide = t !== B.FALL, t === B.FREEZE && (this.canCollide = !1), !this.powerup || !this.powerup.bananas) { var e = this.normalSize;
                            t !== B.TACKLE || this.auto || (e = this.tackleSize), this.body.shape.x = -e / 2, this.body.shape.y = -e / 2, this.body.shape.width = e, this.body.shape.height = e } t === B.KICK_CHARGE ? this.world.view3d.camera.focusMode = !0 : t === B.TACKLE ? (this.tackleWait = 0, this.body.friction = .9, this.actualSpeed = 20) : this.body.friction = .94, this.state = t, this.overwriteStopWalk = !1, this.state === B.HIDE && (this.hidePlayerView(), this.movement.stop(), this.overwriteStopWalk = !0, this.offScreenIcon.hide()), this.state === B.SHOW && (this.view3d.show(), this.overwriteStopWalk = !1, this.movement.update(), this.offScreenIcon.show()), this.state !== B.WIN && this.state !== B.LOSE || (this.movement.stop(), this.view3d.reticle.visible = !1), this.state === B.FIRE && (this.randomDirCount = 1e4), this.state !== B.LOSE && this.state !== B.WIN && this.state !== B.TACKLE && this.state !== B.FALL && this.state !== B.KICK_CHARGE && this.state !== B.FREEZE && this.state !== B.FIRE || (this.overwriteStopWalk = !0) } }, e.prototype.moveToRandomDir = function() { this.randomDirCount++, this.randomDirCount > 50 && (this.randomDir.x = -1 + 2 * Math.random(), this.randomDir.y = -1 + 2 * Math.random(), this.randomDirCount = 0), this.movement.moveInDirection(this.randomDir.x, this.randomDir.y) }, e.prototype.setPowerUp = function(t) { if (this.setState(B.STOP), t.isCoin) { var e = k["default"].get(t); return void e.reset(this) } this.endPowerup(), this.powerup = k["default"].get(t), this.powerup.reset(this) }, e.prototype.endPowerup = function(t) { this.powerup && (this.powerup.stop(), k["default"]["return"](this.powerup), this.powerup = null) }, e.prototype.update = function() { this.count += .3; var t = this.data.speed > .25 ? 1.1 : .9; if (this.speedBoost ? this.actualSpeed = 4 * this.balanceData.speedMod * t : this.actualSpeed = 3 * this.balanceData.speedMod * t, this.view3d.position.x = this.position.x, this.view3d.position.y = this.position.y, this.view3d.update(), this.powerup && (this.powerup.update(), this.powerup.dead && this.endPowerup()), this.canTackleCount++, this.view3d.reticle.chargeArrow.visible = !1, this.ballSkills.update(), this.view3d.reticle.update(), this.state === B.KICK_CHARGE ? this.chargeBar.show() : this.chargeBar.hide(), this.state === B.RUN) this.movement.update();
                    else if (this.state === B.TACKLE) { this.actualSpeed = 20; var e = this.body.velocity.length();
                        e < 2 && (this.tackleWait++, this.tackleWait > 20 && (this.setState(B.IDLE), this.stop())) } else if (this.state === B.FALL) this.view.scale.set(.5), this.fallWait++, this.body.velocity.x *= .8, this.body.velocity.y *= .8, this.fallWait > 140 && (this.view.scale.set(1), this.setState(B.IDLE), this.stop());
                    else if (this.state === B.FREEZE) this.view.scale.set(.5), this.body.velocity.x *= .8, this.body.velocity.y *= .8;
                    else if (this.state === B.FIRE) this.moveToRandomDir();
                    else if (this.state === B.KICK_CHARGE) { if (!this.ballSkills.ball) return void this.setState(B.IDLE);
                        this.chargeBar.show(), this.view3d.reticle.chargeArrow.visible = !0; var i = Math.atan2(this.shootDirection.y, this.shootDirection.x);
                        i += this.shootOffsetAngle, this.didModifyShootAngle = !1, this.shootAngle = i + Math.PI / 2; var n = this.data.power < .25 ? 1.1 : .9; if (this.speedBoost && (n *= 1.5), window.URLParams.debugChargeBar) { this.world.view3d.camera.focusMode = !1, this.shotWait += .7 / 10 * n; var r = this.shotWait / 75;
                            r *= r; var o = this.chargeBar.min,
                                a = this.chargeBar.max;
                            r > o && r < a ? this.chargeBar.bar2.tint = 16711680 : r < o ? this.chargeBar.bar2.tint = 65280 : this.chargeBar.bar2.tint = 255 } else { this.shotWait += .7 * n; var r = this.shotWait / 75;
                            r *= r } this.body.velocity.x *= .8, this.body.velocity.y *= .8, this.chargeBar.setRatio(r), this.ballSkills.ball.chargeEffect.setRatio(r), this.shotWait > 75 && this.shootRelease(this.shootTarget) } this.movingTo && (this.actualSpeed *= 1.1), this.body.setMaxSpeed(this.actualSpeed); var s = this.world.view3d.toScreenPosition(this);
                    this.chargeBar.position.x = s.x, this.chargeBar.position.y = s.y + 40, this.isTeamA || this.offScreenIcon.update(s); var h = this.world.game.ball;
                    this.touchingBall && !this.ballSkills.ball && h.body.velocity.z < 15 && h.body.position.z < 10 && (this.touchingBall = !1, this.ballSkills.pickupBall(h)) }, e.prototype.addedToWorld = function() { this.world.overlay.addChild(this.chargeBar), this.isTeamA || this.world.overlay.addChild(this.offScreenIcon) }, e.prototype.removedFromWorld = function() { this.world.overlay.removeChild(this.chargeBar), this.isTeamA || this.world.overlay.removeChild(this.offScreenIcon) }, e.prototype.chaseDown = function(t) { if (this.auto && this.state !== B.TACKLE && this.state !== B.FALL && this.state !== B.FREEZE && this.state !== B.FIRE) { this.movingTo = !1, this.alpha = Math.random(), this.movement.follow(t); var e = t.position.x - this.position.x,
                            i = t.position.y - this.position.y,
                            n = Math.sqrt(e * e + i * i); if (e /= n, i /= n, t.owner && t.owner !== this && n < 100 && (this.chaseWait += p["default"].game.speed, this.chaseWait > 70 + this.balanceData.aggressiveness || t.owner.canTackleCount > 0 && t.owner.body.velocity.length() < 2)) { var r = Math.atan2(i, e);
                            this.balanceData.tackleChance < Math.random() && (r = Math.atan2(this.body.velocity.y, this.body.velocity.x)), this.slideTackle(Math.cos(r), Math.sin(r)), this.chaseWait = -80 } } }, e.prototype.chargeGoal = function() { this.auto && this.moveInDirection(-1, 0) }, e.prototype.shootBegin = function(t) { if (this.ballSkills.ball && this.ballSkills.ball.active) { c["default"].sfx.playGroup("croudHappy"), this.shotWait = 0, this.world.game.speed = .1; var e = this.world.game.vignette;
                        e.width = this.world.game.w + 500, e.scale.y = e.scale.x, this.shootTarget = t, this.movement.target = null, this.body.acceleration.x = 1e-4, this.body.acceleration.y = 0; var i = t.position.x - this.position.x,
                            n = t.position.y - this.position.y,
                            r = Math.sqrt(i * i + n * n);
                        i /= r, n /= r, this.shootDirection.x = i, this.shootDirection.y = n, this.shootDirection.visible = !0, this.setState(B.KICK_CHARGE) } }, e.prototype.shootRelease = function(t) { if (this.state !== B.TACKLE) { this.world.game.speed = 1, this.passWait = 0; var e = 15; if (this.ballSkills.ball && this.ballSkills.ball.active) { if (this.setState(B.KICK), t)
                                if (this.auto) { var i = 0;
                                    i = this.position.x < t.position.x ? 0 : Math.PI, i += I["default"].random(-.3, .3); var n = Math.random() < this.balanceData.goalScorePercentage;
                                    n && c["default"].sfx.play("big_kick"), this.ballSkills.ball.shoot(Math.cos(i) * e, Math.sin(i) * e, n) } else { this.world.game.stats.shootTotal++, c["default"].sfx.stop("power_up_charge"); var r = Math.atan2(this.shootDirection.y, this.shootDirection.x);
                                    r += this.shootOffsetAngle, this.ballSkills.ball.remoteBall || (this.shootDirection.x = Math.cos(r), this.shootDirection.y = Math.sin(r)); var o = this.shotWait / 75;
                                    o *= o; var a = this.chargeBar.min,
                                        s = this.chargeBar.max,
                                        n = !1; if (o > a && o < s) { var h = this.position.x - this.shootTarget.position.x,
                                            l = this.position.y - this.shootTarget.position.y;
                                        Math.sqrt(h * h + l * l);
                                        this.ballSkills.ball.remoteBall || (n = !0), this.world.game.scripts.shoot.run(this, 1) } else if (o < a) { this.world.game.scripts.shoot.run(this, 0); var u = Math.random();
                                        u >= .2 && (e /= 2) } else this.world.game.scripts.shoot.run(this, 2), e /= 2, this.fallOver(!0);
                                    this.ballSkills.ball.remoteBall && (this.ballSkills.ball.body.friction = 1), (!this.forceSuperShot || this.forceSuperShot && n) && this.ballSkills.ball.shoot(this.shootDirection.x * e, this.shootDirection.y * e, n) }! this.forceSuperShot || this.forceSuperShot && n ? this.ballSkills.releaseBall() : this.forceSuperShot && !n && this.ballSkills.ball.chargeEffect.setRatio(0) } } }, e.prototype.slideTackle = function(t, e) { if (!this.overwriteStopWalk) { if (c["default"].sfx.playGroup("slide"), this.setState(B.TACKLE), this.chaseWait = -80, this.auto) this.world.game.stats.opponentTackle++;
                        else { if (t = this.body.velocity.x, e = this.body.velocity.y, this.world.game.teamManagerB.activePlayer && this.world.game.teamManagerB.activePlayer.ballSkills.ball) { var i = this.world.game.teamManagerB.activePlayer,
                                    n = i.position.x - this.position.x,
                                    r = i.position.y - this.position.y,
                                    o = t - n,
                                    a = e - r,
                                    s = this.data.skill;
                                window.showTutorial && (s = 1), t -= o * s, e -= a * s } var h = Math.sqrt(t * t + e * e);
                            t /= h, e /= h, this.world.game.stats.tackleTotal++ } this.movement.direction.x = t, this.movement.direction.y = e; var l = 15;!this.auto && this.data.skill >= .5 && (l += 5 * this.data.skill), this.body.velocity.x = t * l, this.body.velocity.y = e * l, this.body.acceleration.x = 0, this.body.acceleration.y = 0, this.currentTouchingPlayer && this.runTackle(this.currentTouchingPlayer) } }, e.prototype.moveTo = function(t, e) { this.overwriteStopWalk || this.auto && (this.setState(B.RUN), this.movement.moveTo(t, e)) },
                e.prototype.moveInDirection = function(t, e) { this.state === B.KICK_CHARGE && (this.didModifyShootAngle = !0, this.shootOffsetAngle += .02 * (.4 * e - this.shootOffsetAngle)), this.overwriteStopWalk || this.movement.moveInDirection(t, e) }, e.prototype.show = function() { this.setState(B.SHOW) }, e.prototype.hide = function() { this.setState(B.HIDE) }, e.prototype.win = function() { this.setState(B.WIN) }, e.prototype.lose = function() { this.setState(B.LOSE) }, e.prototype.stop = function() { this.overwriteStopWalk || (this.setState(B.STOP), this.movement.stop()) }, e.prototype.setBananaHitbox = function() { var t = this.bananaSize;
                    this.body.shape.x = -t / 2, this.body.shape.y = -t / 2, this.body.shape.width = t, this.body.shape.height = t }, e.prototype.onCollideBegin = function(t) { var e = t.getOtherObject(this); if (this.state !== B.FIRE)
                        if ("ball" === e.name) t.ignore = !0, e.body.velocity.z < 15 && e.body.position.z < 20 ? (this.canTackleCount = -50, this.passWait = Math.random() * -150, this.onBallCollide(e)) : this.touchingBall = !0;
                        else if ("player" === e.name && (t.ignore = !0, e.isTeamA !== this.isTeamA))
                        if (this.currentTouchingPlayer = e, e.isShrink) { e.freeze(), c["default"].sfx.play("squash"), e.view3d.scale.x = .216, e.view3d.scale.y = .048, e.view3d.scale.z = .048; for (var i = 0; i < e.stars.length; i++) e.stars[i].visible = !0;
                            e.ballSkills.ball && e.ballSkills.releaseBall() } else if (this.powerup && this.powerup.bananas) { if (this.powerup.bananaCount <= 0) return;
                        this.powerup.splatPlayer(e), e.fallOver(), this.world.view3d.camera.shake() } else this.state === B.TACKLE && (e.ballSkills.ball && e.ballSkills.ball.onFire ? (ball.fireBall.setPlayerOnFire(this), this.setState(B.FIRE)) : ball.onSnow && ball.isTeamA !== this.isTeamA ? (ball.snowBall.snowmanPlayer(this), this.setState(B.FREEZE)) : this.runTackle(e)) }, e.prototype.runTackle = function(t) {!this.auto; var e = this.body.velocity.length();
                    e > 4 && (this.tackleWait = 1e3, t.canBeTackled ? (t.ballSkills.ball && (t.ballSkills.releaseBall(), this.ballSkills.pickupBall(this.world.game.ball)), t.fallOver(), this.auto ? this.world.game.stats.opponentTackleSuccess++ : this.world.game.stats.tackleSuccess++) : this.fallOver(), this.world.view3d.camera.shake()) }, e.prototype.onCollideEnd = function(t) { var e = t.getOtherObject(this); "ball" === e.name ? this.touchingBall = !1 : "player" === e.name && e.isTeamA !== this.isTeamA && (this.world.game.speed = 1, this.currentTouchingPlayer = null) }, e.prototype.onBallCollide = function(t) { if (this.state !== B.FALL && this.state !== B.FREEZE && this.state !== B.FIRE) return t.onFire && t.isTeamA !== this.isTeamA ? (t.fireBall.setPlayerOnFire(this), void this.setState(B.FIRE)) : t.onSnow && t.isTeamA !== this.isTeamA ? (t.snowBall.snowmanPlayer(this), void this.setState(B.FREEZE)) : void(t.owner || (t.onFire && t.fireBall.addFireTrail(this), this.ballSkills.pickupBall(t))) }, e
        }(m["default"]);
    e["default"] = N, t.exports = e["default"]
}, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(53),
            a = i(24),
            s = function(t, e, i, n) { this.UID = s._UID++, this.view = i || null, this.body = n || null, this.signals = {}, this.position = new r.Point, this.view && (this.view.position = this.position), this.position.x = 0 | t, this.position.y = 0 | e, this.world = null, this.canCollide = !0, this.collideWithSelf = !0, this.type = 0, this.groups = [], this._TICK = -1, this.keepInBonus = !0, this._gc = !1, this.returnToPool = function() { o.returnObject(this) }.bind(this) };
        s.prototype.updateView = function(t) { this.view = t }, s.prototype.reset = function(t) {}, s.prototype.destroy = function() { this.world && (this.world.remove(this), a.wait(this.returnToPool)) }, s._UID = 0, s.mixin = function(t, e) { e.call(t), Object.assign(t, e) }, n.exports = s }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { "use strict";

    function n(t) { return t && t.__esModule ? t : { "default": t } }

    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } e.__esModule = !0; var s = i(8),
        h = (n(s), i(9)),
        l = n(h),
        u = i(111),
        c = n(u),
        d = i(34),
        p = n(d),
        f = i(120),
        m = (n(f), i(122)),
        g = (n(m), i(21)),
        v = n(g),
        y = i(124),
        _ = n(y),
        b = i(125),
        x = n(b),
        w = i(126),
        T = n(w),
        S = i(118),
        M = n(S),
        E = i(16),
        A = n(E),
        C = i(48),
        R = (n(C), M["default"].PLAYER_STATE),
        P = (new l["default"].PlaneGeometry(200, 200), function(t) {
            function e(i) { r(this, e); var n = o(this, t.call(this)); return n.player = i, n.scale.x = n.scale.y = n.scale.z = .24, n.flipContainer = new l["default"].Object3D, n.flipContainer.rotation.x = -Math.PI + .6, n.add(n.flipContainer), n.playerMesh = new c["default"].getMesh, n.flipContainer.add(n.playerMesh), n.animation = new _["default"], n.animation.register("run", { frames: [], loop: !0 }), n.animation.register("dash", { frames: [], loop: !0 }), n.animation.register("stand", { frames: [], speed: .1, loop: !0 }), n.animation.register("tackle", { frames: [], loop: !1 }), n.animation.register("fall", { frames: [], loop: !1 }), n.animation.register("kickCharge", { frames: [], loop: !1 }), n.animation.register("kickRelease", { frames: [], loop: !1 }), n.animation.register("win", { frames: [], loop: !0 }), n.animation.register("lose", { frames: [], loop: !1 }), n.reticle = new x["default"](i), n.reticle.position.z += 10, n.add(n.reticle), n.chargeArrow = new T["default"](i), n } return a(e, t), e.prototype.setData = function(t) { this.reticle.setData(t), this.scale.x = this.scale.y = this.scale.z = .24 * t.scale; var e = this.player.isTeamA ? "red" : "blue",
                    i = t.spriteSheet.replace("%COLOR%", e),
                    n = A["default"].getJson("character-animation")[i],
                    r = this.animation.animations;
                n || alert("No animation found for " + i), r.run.frames = p["default"].getTexturesFromFrames(n.run), r.dash.frames = p["default"].getTexturesFromFrames(n.dash), r.stand.frames = p["default"].getTexturesFromFrames(n.stand), r.tackle.frames = p["default"].getTexturesFromFrames(n.tackle), r.fall.frames = p["default"].getTexturesFromFrames(n.fall), r.kickCharge.frames = p["default"].getTexturesFromFrames(n.kickCharge), r.win.frames = p["default"].getTexturesFromFrames(n.win), r.lose.frames = p["default"].getTexturesFromFrames(n.lose) }, e.prototype.hide = function() { this.playerMesh.material.opacity = 0 }, e.prototype.show = function() { this.playerMesh.material.opacity = 1 }, e.prototype.update = function() { if (this.chargeArrow.update(), this.player.state === R.KICK_CHARGE) this.animation.play("kickCharge");
                else { if (this.player.state === R.FREEZE) return;
                    this.player.state === R.FALL ? this.animation.play("fall") : this.player.state === R.TACKLE ? this.animation.play("tackle") : this.player.state === R.WIN ? this.animation.play("win") : this.player.state === R.LOSE ? this.animation.play("lose") : this.player.body.velocity.length() > 1 ? this.player.speedBoost ? this.animation.play("dash") : this.animation.play("run") : this.animation.play("stand") } this.animation.update(v["default"].game.deltaTime), this.count++, c["default"].setUvs(this.playerMesh, this.animation.texture); var t = this.player.body.velocity.x > 0 ? 1 : -1; if (!this.player.movement.lookingForTarget && !this.player.world.game.ball.active) { var e = this.player.world.game.ball;
                    t = e.position.x < this.player.position.x ? -1 : 1 } this.flipContainer.scale.x = t, this.flipContainer.rotation.x = window.test - Math.PI }, e }(l["default"].Object3D));
    e["default"] = P, t.exports = e["default"] }, function(t, e, i) { var n;
    n = function(t, e, n) { n.exports = { Vector: i(105), CrashData: i(106), CrashBody: i(107), CrashWorld: i(103), CrashTests: i(123) } }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = (i(8), i(105)),
            o = function() {};
        o.hitTestItemGroup = function(t, e, i, n) { for (var r = e.children, a = 0; a < r.length; a++) o.hitTestAABBAABB(t, r[a], i, n) }, o.hitTestItemItem = function(t, e, i, n) { o.hitTestAABBAABB(t, e, i, n) }, o.hitTestGroup = function(t, e, i) { for (var n = t.children, r = 0; r < n.length - 1; r++)
                for (var a = r + 1; a < n.length; a++) o.hitTestAABBAABB(n[r], n[a], e, i) }, o.hitTestGroupGroup = function(t, e, i, n) { for (var r = t.children, a = e.children, s = 0; s < r.length; s++)
                for (var h = 0; h < a.length; h++) o.hitTestAABBAABB(r[s], a[h], i, n);
            o.hitTestAABBAABB(item, r[s], i, n) }, o.hitTestAABBAABB = function(t, e, i, n) { var o = t.body,
                a = e.body,
                s = o.shape,
                h = a.shape,
                l = s.x + t.position.x,
                u = s.y + t.position.y,
                c = h.x + e.position.x,
                d = h.y + e.position.y,
                p = u + s.height - d,
                f = d + h.height - u,
                m = l + s.width - c,
                g = c + h.width - l,
                v = 999999; if (m < v && (v = m), g < v && (v = g), p < v && (v = p), f < v && (v = f), v >= 0) { var y = new r;
                v == m ? (y.x = -1, y.y = 0) : v == g ? (y.x = 1, y.y = 0) : v == p ? (y.x = 0, y.y = -1) : v == f && (y.x = 0, y.y = 1); var _ = -v;
                i && i(t, e, _, y) } else n && n(t, e) }, n.exports = o }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = (i(8), function() { this.animations = {}, this.rules = {}, this.texture = null, this.nextAnimation = null, this.currentAnimation = null });
        r.prototype.register = function(t, e) { e.id = t, e.currentFrame = 0, e.speed = e.speed || .4, this.animations[t] = e }, r.prototype.play = function(t, e) { var i = this.animations[t];
            i !== this.currentAnimation && (i.currentFrame = 0, this.currentAnimation = i, e ? (this.nextAnimation = this.animations[e], this.nextAnimation.currentFrame = 0) : this.nextAnimation = null) }, r.prototype.update = function(t) { t = t || 1; var e = this.currentAnimation,
                i = Math.floor(e.currentFrame);
            e && (e.loop ? i %= e.frames.length : i > e.frames.length - 1 && (i = e.frames.length - 1, this.nextAnimation && (this.currentAnimation = this.nextAnimation, this.nextAnimation = null)), e.currentFrame += e.speed * t, this.texture = e.frames[i]) }, n.exports = r }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = (i(8), i(9)),
            o = i(111),
            a = (i(120), i(122), i(124), i(47)),
            s = i(118),
            h = (i(48), function(t) { r.Object3D.call(this), this.owner = t, this.spin = new r.Object3D, this.chargeArrow = o.getMesh("player_marker_shoot.png", .5, 1, !0), this.chargeArrow.material.alphaTest = .8, this.chargeArrow.position.y += 30, this.chargeArrow.position.x += 25, this.spin.add(this.chargeArrow), this.add(this.spin), this.flashing = !1, this.flashCounter = 0, this.blinkCounter = 0, this.blinkTimer = 0 });
        h.prototype = Object.create(r.Object3D.prototype), h.prototype.setArrows = function(t) { this.team = t }, h.prototype.blink = function() { this.blinkTimer = 120 }, h.prototype.setData = function(t) { this.owner.isTeamA || (this.reticle = o.getMesh("player_marker_ring_blue.png", .35, .4, !0), this.reticle2 = o.getMesh("player_marker_ring_blue_light.png", .35, .4, !0), this.reticleArrow = o.getMesh("player_marker_ring_arrow_yellow.png", .35, .4, !0), this.reticleArrowBall = o.getMesh("player_marker_ring_arrow_blue_light.png", .35, .4, !0), this.spin.children.length = 0, this.spin.add(this.reticle), this.spin.add(this.reticle2), this.spin.add(this.reticleArrow), this.spin.add(this.reticleArrowBall), this.reticle.material.alphaTest = .8, window.reticle2 = this.reticle2, this.reticle.scale.x *= 1.5, this.reticle.scale.y *= 1.5, this.reticle.scale.z *= 1.5, this.reticle2.scale.x *= 1.5, this.reticle2.scale.y *= 1.5, this.reticle2.scale.z *= 1.5, this.reticle2.visible = !1, this.reticleArrow.scale.x *= 1.5, this.reticleArrow.scale.y *= 1.5, this.reticleArrow.scale.z *= 1.5, this.reticleArrow.visible = !1, this.reticleArrowBall.scale.x *= 1.5, this.reticleArrowBall.scale.y *= 1.5, this.reticleArrowBall.scale.z *= 1.5, this.reticleArrowBall.visible = !1) }, h.prototype.update = function() { if (this.visible) { if (this.reticle && (this.owner.ballSkills.ball ? (this.reticleArrowBall.visible = !0, this.reticleArrow.visible = !1, this.reticle.visible = !1) : this.owner.auto ? !window.app.game.ball.owner && window.app.game.ball.active ? (this.reticleArrowBall.visible = !1, this.reticleArrow.visible = !1, this.reticle.visible = !1) : !window.app.game.ball.owner || window.app.game.ball.owner && window.app.game.ball.owner.isTeamA === this.owner.isTeamA ? (this.reticleArrowBall.visible = !1, this.reticleArrow.visible = !1, this.reticle.visible = !0) : (this.reticleArrowBall.visible = !1, this.reticleArrow.visible = !1, this.reticle.visible = !1) : (this.reticleArrowBall.visible = !0, this.reticleArrow.visible = !1, this.reticle.visible = !1)), this.owner.state !== s.PLAYER_STATE.KICK_CHARGE) { var t = Math.atan2(this.owner.movement.direction.y, this.owner.movement.direction.x);
                    t += Math.PI / 2 } else t = this.owner.shootAngle;
                this.spin.rotation.z += .2 * a.smallestAngle(this.spin.rotation.z, t), this.reticle && (this.flashing ? (this.flashCounter += .5, this.reticle2.visible = !0, this.reticle2.material.opacity = .6 + .4 * Math.sin(this.flashCounter)) : (this.flashCounter = 1.7, this.reticle2.visible = !1), this.blinkTimer > 0 && !this.owner.auto && !this.owner.ballSkills.ball ? (this.blinkCounter++, this.blinkTimer--, this.blinkCounter >= 5 && (this.blinkCounter = 0, this.spin.visible = !this.spin.visible)) : (this.blinkTimer = 0, this.spin.visible = !0)) } }, n.exports = h }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { "use strict"; var n = (i(8), i(9)),
        r = i(111),
        o = (i(120), i(122), i(124), i(47), function(t) { n.Object3D.call(this), this.owner = t, this.reticle = r.getMesh("player_marker_shoot.png", .5, 1), this.add(this.reticle), this.reticle.scale.x *= 1.5, this.reticle.scale.y *= 1.5, this.reticle.scale.z *= 1.5 });
    o.prototype = Object.create(n.Object3D.prototype), o.prototype.setArrows = function(t) { this.team = t }, o.prototype.update = function() {}, t.exports = o }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(13),
            a = i(47),
            s = function(t) { this.item = t, this.ball = null, t.signals.onBallRecieved = new o(this), t.signals.onBallLost = new o(this), this.easeX = .1, this.offset = new r.Point, this.offset.z = 0, this.speedRange = 35 };
        s.prototype.pickupBall = function(t) { this.ball = t, t.pickUp(this.item), this.item.signals.onBallRecieved.dispatch(this.item) }, s.prototype.update = function() { if (this.ball) { var t = this.item.body.velocity.x / 3;
                t *= 40, t = a.cap(t, -this.speedRange, this.speedRange), this.ball.position.x += (this.item.position.x + this.offset.x + t - this.ball.position.x) * this.easeX, this.item.body.velocity.y > 0 ? this.ball.position.y += .5 * (this.item.position.y + 0 - this.ball.position.y) : this.ball.position.y += .5 * (this.item.position.y - 10 - this.ball.position.y), this.ball.position.z = this.offset.z, this.ball.body.velocity.z = 0 } }, s.prototype.releaseBall = function() { this.ball.released(), this.ball = null, this.item.signals.onBallLost.dispatch(this.item) }, s.prototype.passTo = function(t) { this.ball && (this.ball.passTo(t), this.releaseBall()) }, s.prototype.pass = function(t, e, i, n) { this.ball && (this.ball.pass(t, e, i, n), this.releaseBall()) }, n.exports = s }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = (i(8), i(122)),
            o = i(13),
            a = i(47),
            s = function(t) { this.item = t, this.direction = new r.Vector(1, 0), this.targetDirection = new r.Vector(1, 0), this.targetPosition = new r.Vector(1, 0), t.signals.onArrive = new o(this), t.signals.onMoveTo = new o(this), this.callback = null, this.scope = null, this.active = !0, this.turnMultiplier = 1, this.accel = 1, this.lookingForTarget = !1 };
        s.prototype.update = function() { if (this.lookingForTarget) { this.target && (this.targetPosition.x = this.target.position.x, this.targetPosition.y = this.target.position.y); var t = this.targetPosition.x - this.item.position.x,
                    e = this.targetPosition.y - this.item.position.y,
                    i = Math.sqrt(t * t + e * e);
                t /= i, e /= i, i > 10 ? this.moveInDirection(t, e) : (this.callback && (this.callback.call(this.scope), this.callback = null), this.stop()) } }, s.prototype.follow = function(t, e) { this.target = t, this.lookingForTarget = !0 }, s.prototype.moveTo = function(t, e) { this.target = null, this.callback = null, this.lookingForTarget = !0, this.targetPosition.x = t, this.targetPosition.y = e }, s.prototype.then = function(t, e) { this.callback = t, this.scope = e }, s.prototype.moveInDirection = function(t, e) { if (this.targetDirection = t, this.targetDirection = e, this.item.auto) { var i = Math.atan2(this.direction.y, this.direction.x),
                    n = Math.atan2(e, t),
                    r = a.smallestAngle(i, n);
                i += r * this.turnMultiplier, this.direction.x = Math.cos(i), this.direction.y = Math.sin(i) } else this.direction.x = t, this.direction.y = e;
            this.item.body.acceleration.x = .6 * this.direction.x * this.accel, this.item.body.acceleration.y = .6 * this.direction.y * this.accel }, s.prototype.stop = function() { this.target = null, this.lookingForTarget = !1, this.item.body.acceleration.x = 1e-4, this.item.body.acceleration.y = 0, this.item.body.velocity.x = .001, this.item.body.velocity.y = 0 }, n.exports = s }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = (i(120), i(122), i(47)),
            a = function(t) { r.Container.call(this), this.arrows = [], this.team = null, this.owner = t; var e = (new r.Graphics).lineStyle(2, 16711680).drawCircle(0, 0, 30);
                this.addChild(e); for (var i = 0; i < 2; i++) this.arrows.push((new r.Graphics).beginFill(0, .4).moveTo(30, 5).lineTo(30, -5).lineTo(40, 0)), this.addChild(this.arrows[i]);
                this.directionArrow = (new r.Graphics).beginFill(16711680).moveTo(30, 15).lineTo(30, -15).lineTo(50, 0), this.addChild(this.directionArrow) };
        a.prototype = Object.create(r.Container.prototype), a.prototype.setArrows = function(t) { this.team = t }, a.prototype.update = function() { if (this.visible) { for (var t = 0; t < this.team.length; t++) { var e = this.team[t],
                        i = Math.atan2(e.position.y - this.owner.position.y, e.position.x - this.owner.position.x);
                    this.arrows[t].rotation = i } var n = Math.atan2(this.owner.movement.direction.y, this.owner.movement.direction.x);
                this.directionArrow.rotation += .2 * o.smallestAngle(this.directionArrow.rotation, n) } }, n.exports = a }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(43),
            a = function() { r.Container.call(this), this.bg = (new r.Graphics).beginFill(16777215).drawRect(0, -10, 100, 20), this.bar = (new r.Graphics).beginFill(16711680).drawRect(0, -10, 100, 20), this.sweetSpot = (new r.Graphics).beginFill(255).drawRect(0, -10, 15, 20), this.bg2 = new r.Sprite.from("shoot_charge_bg.png"), this.bar2 = new r.Sprite.from("shoot_charge_fill.png"), this.frame = new r.Sprite.from("shoot_charge_frame.png"), this.addChild(this.bg2), this.addChild(this.bar2), this.addChild(this.frame), this.sweetSpot.position.x = 75, this.min = 0, this.max = 0, this.hidden = !0, this.scale.y = 0, this.visible = !1; var t = (new r.Graphics).beginFill(16711680).moveTo(10, 14).lineTo(217, 7).lineTo(212, 62).lineTo(5, 55);
                this.addChild(t), this.bar2.mask = t, this.setRatio(0), this.pivot.y = 21, this.pivot.x = 111; var e = { fill: "#fff", fontSize: 40, fontFamily: "avenir", dropShadow: !0, dropShadowAlpha: .5, dropShadowAngle: Math.PI / 2 };
                this.text = new o("STR_SUPERSHOT_WEAK", e), this.text.anchor.set(.5), this.text.x = 111, this.text.y = 100, this.text.visible = !1, this.addChild(this.text), this.blinkTimer = 0, this.setSize(2) };
        a.prototype = Object.create(r.Container.prototype), a.prototype.setRatio = function(t) { this.bar2.alpha = 1, this.bar.scale.x = t, this.bar2.anchor.x = 1 - t }, a.prototype.setSize = function(t) { 0 === t ? (this.bg2.texture = r.Texture.from("shoot_charge_bg_small.png"), this.min = 148 / 222, this.max = 164 / 222) : 1 === t ? (this.bg2.texture = r.Texture.from("shoot_charge_bg_med.png"), this.min = 135 / 222, this.max = 174 / 222) : 2 === t && (this.bg2.texture = r.Texture.from("shoot_charge_bg_large.png"), this.min = 125 / 222, this.max = 185 / 222) }, a.prototype.showText = function(t) { this.text.setText(t), this.text.visible = !0, this.blinkTimer = 0 }, a.prototype.update = function() { this.text.visible && (this.blinkTimer++, this.blinkTimer >= 8 && (this.blinkTimer = 0, this.text.alpha = 1 === this.text.alpha ? 0 : 1, this.bar2.alpha = 1 === this.bar2.alpha ? 0 : 1)) }, a.prototype.show = function() { this.hidden && (this.text.visible = !1, this.hidden = !1, this.visible = !0, this.bar2.alpha = 1, this.text.alpha = 1, this.rotation = Math.random(), this.frame.texture = r.Texture.fromFrame("shoot_charge_frame.png"), TweenLite.to(this.scale, .3, { y: 1, ease: Back.easeOut }), TweenLite.to(this, .5, { rotation: 0, ease: Elastic.easeOut })) }, a.prototype.hide = function() { this.hidden || (this.hidden = !0, TweenLite.to(this.scale, .3, { y: 0, ease: Back.easeIn, onComplete: this.onHidden, onCompleteScope: this })) }, a.prototype.onHidden = function() { this.visible = !1 }, n.exports = a }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(47),
            a = function() { r.Container.call(this), this.circle = (new r.Graphics).beginFill(16711680).drawCircle(0, 0, 30), this.icon = new r.Sprite, this.icon.anchor.set(.5), this.icon.mask = this.circle, this.ring = new r.Sprite.from(ASSET_URL + "img/offscreen_marker_ring_blue.png"), this.ring.anchor.set(.5), this.ring.position.y = 2, this.addChild(this.circle), this.addChild(this.icon), this.addChild(this.ring) };
        a.prototype = Object.create(r.Container.prototype), a.prototype.setData = function(t) { this.cacheAsBitmap = !1, this.icon.texture = r.Texture.from(t.icon), this.cacheAsBitmap = !0 }, a.prototype.hide = function(t) { this.hidden = !0, this.alpha = 0 }, a.prototype.show = function(t) { this.hidden = !1 }, a.prototype.update = function(t) { if (!this.hidden) { var e = t.x,
                    i = t.y - 50,
                    n = !0,
                    r = 30,
                    a = window.app.game.w,
                    s = window.app.game.h;
                e < r || e > a - r ? (e = o.cap(e, r, a - r), n = !1) : (i < r || i > s - r) && (i = o.cap(i, r, s - r), n = !1), n ? (this.alpha -= .1, this.alpha < 0 && (this.alpha = 0)) : (this.alpha += .1, this.alpha > 1 && (this.alpha = 1)), this.position.x = e, this.position.y = i } }, n.exports = a }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(9),
            a = i(30),
            s = i(111),
            h = i(133),
            l = i(134),
            u = i(34),
            c = i(120),
            d = i(47),
            p = i(122),
            f = function() { var t = new p.CrashBody.fromRect((-10), (-10), 20, 20);
                t.maxSpeed = 1e4, t.maxSpeedY = 1e4, t.bounce = .8, t.friction = .99, c.call(this, 0, 0, null, t), this.view3d = new o.Object3D, this.shootPosition = new r.Point; var e = new o.TextureLoader,
                    i = new o.OBJLoader;
                e.load(ASSET_URL + "models/tc-football-a.jpg", function(t) { t.wrapS = t.wrapT = o.UVMapping, t.needsUpdate = !0; var e = new o.MeshPhongMaterial({ map: t });
                    e.side = o.DoubleSide, i.load(ASSET_URL + "models/tc-football.obj", function(t) { this.football = t, this.football.rotation.x = Math.PI / 2, this.football.traverse(function(t) { t instanceof o.Mesh && (t.material = e) }.bind(this)), this.innerBall = this.football, this.container.add(this.innerBall), this.innerBall.scale.x = this.innerBall.scale.y = this.innerBall.scale.z = 3 }.bind(this), function() {}, function() {}) }.bind(this)), i.load(ASSET_URL + "models/tc-snowball.obj", function(t) { this.snowball = t, this.snowball.rotation.x = Math.PI / 2, this.snowball.scale.x = this.snowball.scale.y = this.snowball.scale.z = 4 }.bind(this), function() {}, function() {}), this.view3d = new o.Object3D, this.container = new o.Object3D, this.view3d.add(this.container), this.ballMatrix = new o.Matrix4, this.body.position = this.position, t.position.z = 0, t.velocity.z = 0, this.groups = ["Ball"], this.name = "ball", this.shot = !1, this.active = !1, this.perfect = !1, this.type = 99, this.pickedUp = !1, this.owner = null, this.target = null, this.lastOwner = null, this.shadow = s.getMesh(window.app.getFilePath(ASSET_URL + "img/game/game_objects/ball-shadow.png"), .5, .5), this.shadow.position.z = 10, this.shadow.renderOrder = 999, this.shadow.scale.x = this.shadow.scale.y = this.shadow.scale.z = .1, this.shadow.position.z = -6, this.quaternion = new o.Quaternion, this.quaternion2 = new o.Quaternion, this.chargeEffect = new h(this), this.trailEffect = new l(this), this.rect = new r.Sprite.from("ball_trail_00003.png"), this.frames = u.getTexturesFromFramesWithPrefix("ball_trail_000%%.png", 15), this.tick = 0, this.rect.blendMode = r.BLEND_MODES.ADD, this.rect.scale.set(2), this.rect.anchor.x = .5, this.rect.anchor.y = .75, this.count = 0 };
        f.prototype = Object.create(c.prototype), f.prototype.addedToWorld = function() { this.world.view3d.scene.add(this.shadow), this.world.view3d.scene.add(this.trailEffect.view), this.world.overlay.addChild(this.rect) }, f.prototype.removedFromWorld = function() { this.world.view3d.scene.remove(this.shadow), this.world.view3d.scene.remove(this.trailEffect.view), this.world.overlay.removeChild(this.rect) }, f.prototype.setActive = function(t) { this.active = t, t ? this.type = 0 : this.type = 99 }, f.prototype.reset = function() {}, f.prototype.swapBall = function(t) { "base" === t && (this.container.remove(this.innerBall), this.innerBall = this.football, this.container.add(this.innerBall)), "snow" === t && (this.container.remove(this.innerBall), this.innerBall = this.snowball, this.container.add(this.innerBall)) }, f.prototype.released = function() { this.pickedUp = !1, this.owner = null }, f.prototype.pickUp = function(t) { this.body.friction = .99, this.pickedUp = !0, this.lastOwner = this.owner = t, this.target = null, this.body.velocity.set(0), this.chargeEffect.setRatio(0), a.sfx.playGroup("ball_pickup") }, f.prototype.shoot = function(t, e, i) { this.perfect = i, this.shot = !0, this.body.velocity.y = e, this.body.velocity.x = t, this.shootPosition.x = this.position.x, this.shootPosition.y = this.position.y, i ? (this.body.velocity.y *= 1.5, this.body.velocity.x *= 1.5, this.rect.visible = !0, a.sfx.playGroup("croudHappy")) : (Math.random() < .3 && a.sfx.playGroup("croudHappy"), a.sfx.play("ballkick_shoot_hard")), this.remoteBall ? this.body.velocity.z = 0 : this.body.velocity.z = 13, this.chargeEffect.setRatio(0) }, f.prototype.pass = function(t, e, i, n) { this.body.friction = .99, this.shot = !1, this.body.velocity.x = t * i, this.body.velocity.y = e * i, this.body.velocity.z = n || 0, a.sfx.play("ballkick_pass") }, f.prototype.passTo = function(t) { if (this.owner !== t) { this.body.friction = .99, this.target = t; var e = t.position.x - this.position.x,
                    i = t.position.y - this.position.y,
                    n = Math.sqrt(e * e + i * i);
                e /= n, i /= n; var r = 15;
                this.body.velocity.x = e * r, this.body.velocity.y = i * r, this.body.velocity.z = 1, a.sfx.play("ballkick_pass") } }, f.prototype.update = function() { var t = this.body;
            t.velocity.z -= .6, t.position.z += t.velocity.z, t.position.z < 0 && (t.position.z = 0, t.velocity.z *= -.6, this.rect.visible = !1), this.owner && (this.rect.visible = !1); var e = this.body.velocity.length(); if (this.target) { var i = this.target,
                    n = i.body.position.x - this.body.position.x,
                    r = i.body.position.y - this.body.position.y,
                    o = Math.sqrt(n * n + r * r);
                n /= o, r /= o, this.body.velocity.x = n * e, this.body.velocity.y = r * e } else this.remoteBall && this.shot && (this.count += .1, this.body.velocity.y = Math.sin(this.count) * (e / 2)); if (this.view3d.position.x = this.position.x, this.view3d.position.y = this.position.y, this.view3d.position.z = .5 * this.position.z + 10, window.ball = this, this.owner) { var n = this.owner.body.velocity.x,
                    r = this.owner.body.velocity.y,
                    o = Math.sqrt(n * n + r * r);
                this.innerBall.rotation.x += .1 * o, this.container.rotation.z = Math.atan2(r, n) + Math.PI / 2 } else this.container.rotation.y += .03 * this.body.velocity.x;
            this.shadow.position.x = this.view3d.position.x, this.shadow.position.y = this.view3d.position.y; var a = d.map(this.view3d.position.z, 80, 0, 0, 2);
            a = Math.max(a, .3), this.shadow.material.alphaTest = 0, this.shadow.material.opacity = .5 * a, this.shadow.scale.x = this.shadow.scale.y = this.shadow.scale.z = .05 * a; var s = d.cap(d.map(e, 4, 12, 1, .2), .3, 1); if (this.view3d.scale.z += .1 * (s - this.view3d.scale.z), this.chargeEffect.update(), this.trailEffect.update(), this.rect.visible) { var h = this.world.view3d.toScreenPosition(this);
                this.rect.position.x = h.x, this.rect.position.y = h.y, this.tick += .5, this.rect._texture = this.frames[(0 | this.tick) % this.frames.length], this.owner ? this.rect.rotation = -Math.atan2(this.owner.body.velocity.y, this.owner.body.velocity.x) - Math.PI / 2 : this.rect.rotation = -Math.atan2(this.body.velocity.y, this.body.velocity.x) - Math.PI / 2 } }, f.prototype.onCollideBegin = function(t) { this.target = null; var e = t.getOtherObject(this);
            this.body.friction = .99, e.net ? (this.body.velocity.x *= .15, this.body.velocity.y *= .15) : e.wall && a.sfx.play("ballkick_post") }, n.exports = f }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = (i(8), i(13), i(47)),
            o = i(9),
            a = i(111),
            s = ["attribute float alpha;", "uniform float tick;", "uniform float power;", "void main() {", "    float pos = alpha + tick;", "    pos = mod(pos, 1.0);", "    vec4 mvPosition = modelViewMatrix * vec4( position * pos, 1.0 );", "    gl_PointSize = (1.0-pos) * 28.0 * power* 3.0;", "    gl_Position = projectionMatrix * mvPosition;", "}"].join("\n"),
            h = ["uniform vec3 color;", "uniform sampler2D circle;", "void main() {", "    gl_FragColor = texture2D(circle, gl_PointCoord);", "}"].join("\n"),
            l = function(t) { this.item = t, this.ratio = 0; for (var e = new o.SphereBufferGeometry(100, 16, 8), i = new Float32Array(e.attributes.position.count), n = 0; n < i.length; n++) i[n] = Math.random();
                e.addAttribute("alpha", new o.BufferAttribute(i, 1)), this.geometry = e; var r = new o.TextureLoader,
                    l = r.load(ASSET_URL + "img/dot.png");
                uniforms = { color: { type: "c", value: new o.Color(65280) }, tick: { type: "f", value: 0 }, power: { type: "f", value: 0 }, circle: { type: "t", value: l } }; var u = new o.ShaderMaterial({ uniforms: uniforms, vertexShader: s, fragmentShader: h, transparent: !0, depthTest: !1 });
                u.blending = o.AdditiveBlending; var c = new o.Points(e, u);
                t.view3d.add(c), this.cloud = c, this.ring = a.getMesh("powerupGet.png"), this.ring.material.blending = o.AdditiveBlending, t.view3d.add(this.ring), this.ring.rotation.x = -Math.PI / 2, this.ring.position.x = 0, this.ring.position.y = 0, this.ratio = 99, this.tick = 0, this.setRatio(0) };
        l.prototype.setRatio = function(t) { t !== this.ratio && (t > 1 && (t = 1), this.ratio = t, this.tick += .02 + .01 * t, this.ring.visible = this.cloud.visible = 0 !== t, this.ring.material.opacity = r.map(t, 0, 1, 0, 10), this.ring.scale.x = this.ring.scale.y = 1 - t - .1, this.cloud.material.uniforms.tick.value = -this.tick, this.cloud.material.uniforms.power.value = Math.sin(t * Math.PI)) }, l.prototype.update = function() { this.cloud.rotation.x += .03, this.cloud.rotation.y += .03 }, n.exports = l }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = (i(8), i(13), i(47)),
            o = i(9),
            a = (i(111), ["attribute float alpha;", "varying float vAlpha;", "void main() {", "    vAlpha = alpha;", "    vec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );", "    gl_Position = projectionMatrix * mvPosition;", "}"].join("\n")),
            s = ["uniform vec3 color;", "uniform float uAlpha;", "uniform sampler2D circle;", "varying float vAlpha;", "void main() {", "    gl_FragColor = vec4(color, vAlpha * uAlpha);", "}"].join("\n"),
            h = function(t) { this.item = t, this.trailLength = 40, this.loader = new o.TextureLoader, this.top = 14, this.bottom = -14; var e = new o.BufferGeometry,
                    i = new Float32Array(3 * this.trailLength);
                this.realVerticies = new Float32Array(3 * this.trailLength); for (var n = new Float32Array(this.trailLength), r = new Uint32Array(this.trailLength), h = 0; h < r.length; h++) r[h] = h; for (var h = 0; h < n.length; h += 2) { var l = h / 2 / this.trailLength;
                    n[h] = l, n[h + 1] = l } for (var h = 0; h < i.length; h += 3); for (var h = 0; h < i.length; h += 3) { var u = h / 3,
                        c = u % 2,
                        d = Math.floor(u / 2);
                    i[h] = 30 * c, i[h + 1] = 30 * d, i[h + 2] = 0 } e.setIndex(new o.BufferAttribute(r, 1)), e.addAttribute("position", new o.BufferAttribute(i, 3)), e.addAttribute("alpha", new o.BufferAttribute(n, 1)), this.geometry = e;
                this.loader.load(ASSET_URL + "img/dot.png");
                uniforms = { color: { type: "c", value: new o.Color(16730352) }, uAlpha: { type: "f", value: 1 } }; var p = new o.ShaderMaterial({ uniforms: uniforms, vertexShader: a, fragmentShader: s, transparent: !0 });
                p.side = o.DoubleSide, p.blending = o.AdditiveBlending, p.depthTest = !1; var f = new o.Mesh(e, p);
                f.drawMode = o.TriangleStripDrawMode, this.cloud = f, this.view = f, this.pos = 0 };
        h.prototype.update = function() { this.pos++, this.pos %= this.trailLength / 2; for (var t = this.cloud.geometry.getAttribute("position"), e = 2 * this.pos, i = 2 * this.pos + 1, n = this.realVerticies, o = 0; o < t.array.length; o += 3); var a = this.item.view3d.position;
            n[3 * e] = a.x, n[3 * e + 1] = a.y + this.top, n[3 * e + 2] = a.z, n[3 * i] = a.x, n[3 * i + 1] = a.y + this.bottom, n[3 * i + 2] = a.z; for (var o = 0; o < t.array.length; o += 3) { var s = o + 3 * (2 * this.pos + 2);
                s %= n.length, t.array[o + 0] = n[s + 0] - a.x, t.array[o + 1] = n[s + 1] - a.y, t.array[o + 2] = n[s + 2] } this.view.position.x = this.item.position.x, this.view.position.y = this.item.position.y, t.needsUpdate = !0; var h = r.cap(r.map(this.item.body.velocity.length(), 5, 20, 0, 1), 0, 1),
                l = this.cloud.material.uniforms.uAlpha.value;
            h < l ? l += .2 * (h - l) : l = h, this.cloud.visible = l > .1, this.cloud.material.uniforms.uAlpha.value = l, this.view.material.needsUpdate = !0 }, n.exports = h }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) {
    var n;
    n = function(t, e, n) {
        var r = (i(8), i(9)),
            o = i(13),
            a = i(120),
            s = i(122),
            h = function(t) { var e = 200,
                    n = new s.CrashBody.fromRect(0, -e / 2, 100, e);
                n.type = s.CrashBody.STATIC, n.solid = !1, this.lastTimeGall = 0, this.currentTimeGall = 0; var h = n.getDebugView();
                h.alpha = .5, a.call(this, 100, 100, h, n), this.body.position = this.position, this.groups = ["Goal"], this.type = 1, this.left = !1, this.onGoalScored = new o; var l = (i(136), new r.SphereGeometry(1, 1, 1), new r.TextureLoader, new r.TextureLoader);
                this.view3d = new r.Object3D, l.load(ASSET_URL + "models/texture_test_goal2.png", function(e) { e.wrapS = r.ClampToEdgeWrapping, e.wrapT = r.ClampToEdgeWrapping, e.minFilter = r.LinearFilter, e.maxFilter = r.LinearFilter; var i = new r.MeshBasicMaterial({ map: e });
                    i.side = r.DoubleSide, i.transparent = !0, i.alphaTest = .8; var n = new r.OBJLoader;
                    n.load(ASSET_URL + "models/GOAL.obj", function(e) { e.rotation.x = Math.PI / 2, e.traverse(function(t) { t instanceof r.Mesh && (t.material = i, t.material.needsUpdate = !0) }), this.view3d.add(e), e.position.y = -95, e.position.x = 100, t && (e.rotation.y = Math.PI, e.position.x = 0, e.position.y = 95), e.scale.x = e.scale.y = e.scale.z = .53 }.bind(this), function() {}, function() {}) }.bind(this)), this.enableGoal() };
        h.prototype = Object.create(a.prototype), h.prototype.addedToWorld = function() {}, h.prototype.reset = function() {}, h.prototype.update = function() {
            this.view3d.position.x = this.position.x,
                this.view3d.position.y = this.position.y, this.currentTimeGall = Date.now()
        }, h.prototype.enableGoal = function() { this.canGoal = !0 }, h.prototype.disableGoal = function() { this.canGoal = !1 }, h.prototype.onCollideBegin = function(t) { var e = t.getOtherObject(this); "ball" === e.name && this.canGoal && (t.ignore = !0, this.currentTimeGall - this.lastTimeGall > 1e3 && (this.lastTimeGall = Date.now(), this.onGoalScored.dispatch(this))) }, n.exports = h
    }.call(e, i, e, t), !(void 0 !== n && (t.exports = n))
}, function(t, e) { THREE.OBJLoader = function(t) { this.manager = void 0 !== t ? t : THREE.DefaultLoadingManager, this.materials = null }, THREE.OBJLoader.prototype = { constructor: THREE.OBJLoader, load: function(t, e, i, n) { var r = this,
                o = new THREE.XHRLoader(r.manager);
            o.setPath(this.path), o.load(t, function(t) { e(r.parse(t)) }, i, n) }, setPath: function(t) { this.path = t }, setMaterials: function(t) { this.materials = t }, parse: function(t) {
            function e(t) { var e = { vertices: [], normals: [], uvs: [] },
                    i = { name: "", smooth: !0 };
                l = { name: t, geometry: e, material: i }, u.push(l) }

            function i(t) { var e = parseInt(t); return 3 * (e >= 0 ? e - 1 : e + d.length / 3) }

            function n(t) { var e = parseInt(t); return 3 * (e >= 0 ? e - 1 : e + p.length / 3) }

            function r(t) { var e = parseInt(t); return 2 * (e >= 0 ? e - 1 : e + f.length / 2) }

            function o(t, e, i) { l.geometry.vertices.push(d[t], d[t + 1], d[t + 2], d[e], d[e + 1], d[e + 2], d[i], d[i + 1], d[i + 2]) }

            function a(t, e, i) { l.geometry.normals.push(p[t], p[t + 1], p[t + 2], p[e], p[e + 1], p[e + 2], p[i], p[i + 1], p[i + 2]) }

            function s(t, e, i) { l.geometry.uvs.push(f[t], f[t + 1], f[e], f[e + 1], f[i], f[i + 1]) }

            function h(t, e, h, l, u, c, d, p, f, m, g, v) { var y, _ = i(t),
                    b = i(e),
                    x = i(h);
                void 0 === l ? o(_, b, x) : (y = i(l), o(_, b, y), o(b, x, y)), void 0 !== u && (_ = r(u), b = r(c), x = r(d), void 0 === l ? s(_, b, x) : (y = r(p), s(_, b, y), s(b, x, y))), void 0 !== f && (_ = n(f), b = n(m), x = n(g), void 0 === l ? a(_, b, x) : (y = n(v), a(_, b, y), a(b, x, y))) } var l, u = [],
                c = !1,
                d = [],
                p = [],
                f = [];
            e(""); for (var m = /^v\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/, g = /^vn\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/, v = /^vt\s+([\d|\.|\+|\-|e|E]+)\s+([\d|\.|\+|\-|e|E]+)/, y = /^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/, _ = /^f\s+((-?\d+)\/(-?\d+))\s+((-?\d+)\/(-?\d+))\s+((-?\d+)\/(-?\d+))(?:\s+((-?\d+)\/(-?\d+)))?/, b = /^f\s+((-?\d+)\/(-?\d+)\/(-?\d+))\s+((-?\d+)\/(-?\d+)\/(-?\d+))\s+((-?\d+)\/(-?\d+)\/(-?\d+))(?:\s+((-?\d+)\/(-?\d+)\/(-?\d+)))?/, x = /^f\s+((-?\d+)\/\/(-?\d+))\s+((-?\d+)\/\/(-?\d+))\s+((-?\d+)\/\/(-?\d+))(?:\s+((-?\d+)\/\/(-?\d+)))?/, w = /^[og]\s*(.+)?/, T = /^s\s+(\d+|on|off)/, S = t.split("\n"), M = 0; M < S.length; M++) { var E = S[M];
                E = E.trim(); var A; if (0 !== E.length && "#" !== E.charAt(0))
                    if (null !== (A = m.exec(E))) d.push(parseFloat(A[1]), parseFloat(A[2]), parseFloat(A[3]));
                    else if (null !== (A = g.exec(E))) p.push(parseFloat(A[1]), parseFloat(A[2]), parseFloat(A[3]));
                else if (null !== (A = v.exec(E))) f.push(parseFloat(A[1]), parseFloat(A[2]));
                else if (null !== (A = y.exec(E))) h(A[1], A[2], A[3], A[4]);
                else if (null !== (A = _.exec(E))) h(A[2], A[5], A[8], A[11], A[3], A[6], A[9], A[12]);
                else if (null !== (A = b.exec(E))) h(A[2], A[6], A[10], A[14], A[3], A[7], A[11], A[15], A[4], A[8], A[12], A[16]);
                else if (null !== (A = x.exec(E))) h(A[2], A[5], A[8], A[11], void 0, void 0, void 0, void 0, A[3], A[6], A[9], A[12]);
                else if (null !== (A = w.exec(E))) { var C = A[0].substr(1).trim();
                    c === !1 ? (c = !0, l.name = C) : e(C) } else if (/^usemtl /.test(E)) l.material.name = E.substring(7).trim();
                else if (/^mtllib /.test(E));
                else { if (null === (A = T.exec(E))) throw new Error("Unexpected line: " + E);
                    l.material.smooth = "1" === A[1] || "on" === A[1] } } for (var R = new THREE.Group, M = 0, P = u.length; M < P; M++) { l = u[M]; var O = l.geometry,
                    L = new THREE.BufferGeometry;
                L.addAttribute("position", new THREE.BufferAttribute(new Float32Array(O.vertices), 3)), O.normals.length > 0 ? L.addAttribute("normal", new THREE.BufferAttribute(new Float32Array(O.normals), 3)) : L.computeVertexNormals(), O.uvs.length > 0 && L.addAttribute("uv", new THREE.BufferAttribute(new Float32Array(O.uvs), 2)); var I;
                null !== this.materials && (I = this.materials.create(l.material.name)), I || (I = new THREE.MeshPhongMaterial, I.name = l.material.name), I.shading = l.material.smooth ? THREE.SmoothShading : THREE.FlatShading; var D = new THREE.Mesh(L, I);
                D.name = l.name, R.add(D) } return R } } }, function(t, e, i) { "use strict";

    function n(t) { return t && t.__esModule ? t : { "default": t } }

    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } e.__esModule = !0; var s = i(8),
        h = (n(s), i(13)),
        l = (n(h), i(30)),
        u = (n(l), i(120)),
        c = n(u),
        d = i(47),
        p = n(d),
        f = i(9),
        m = (n(f), i(122)),
        g = n(m),
        v = i(127),
        y = n(v),
        _ = i(128),
        b = n(_),
        x = i(111),
        w = (n(x), i(138)),
        T = n(w),
        S = i(118),
        M = n(S),
        E = function(t) {
            function e(i) { r(this, e); var n = new g["default"].CrashBody.fromRect((-20), (-20), 40, 40),
                    a = n.getDebugView(),
                    s = o(this, t.call(this, 100, 100, a, n)); return s.right = i, s.view3d = new T["default"](s), s.view3d.scale.x = s.view3d.scale.y = s.view3d.scale.z = .3, s.type = 1, s.active = !0, s.body.position = s.position, s.groups = ["GoalKeeper"], s.name = "keeper", s.body.setMaxSpeed(2.5), s.ballSkills = new y["default"](s), s.ballSkills.speedRange = 1, s.movement = new b["default"](s), s.diveTarget = null, s.diving = !1, s.ballSkills.offset.x = i ? -24 : 24, s.ballSkills.offset.z = 38, s.balanceData = null, s } return a(e, t), e.prototype.show = function() { this.hidden = !1, this.view3d.keeperMesh.material.opacity = 1 }, e.prototype.hide = function() { this.hidden = !0, this.view3d.keeperMesh.material.opacity = 0 }, e.prototype.dive = function(t) { if (!this.diving) { this.diveTarget = t, this.diving = !0, this.body.friction = .9; var e = t.position.x - this.body.position.x,
                        i = t.position.y - this.body.position.y,
                        n = Math.sqrt(e * e + i * i);
                    e /= n, i /= n, this.body.velocity.x = 15 * e, this.body.velocity.y = 15 * i, this.body.acceleration.x = 0, this.body.acceleration.y = 0, this.body.setMaxSpeed(20) } }, e.prototype.reset = function() {}, e.prototype.update = function() { if (this.diving) { var t = this.body.velocity.length(); if (this.diveTarget) { var e = this.diveTarget.position.x - this.body.position.x,
                            i = this.diveTarget.position.y - this.body.position.y,
                            n = Math.sqrt(e * e + i * i);
                        e /= n, i /= n, this.body.velocity.x = e * t, this.body.velocity.y = i * t } t < 2 && (this.diving = !1, this.body.friction = .9, this.body.setMaxSpeed(2.5)) } else this.movement.update();
                this.ballSkills.update(), this.view3d.update(), this.view3d.position.x = this.position.x, this.view3d.position.y = this.position.y }, e.prototype.kickOut = function(t, e) { this.ballSkills.pass(t, e, 10, 20), this.view3d.animation.play("kick", "stand") }, e.prototype.onCollideBegin = function(t) { if (!this.hidden) { var e = t.getOtherObject(this); if ("ball" === e.name) { var i = e; if (i.shot) { var n = i.shootPosition.x - this.body.position.x,
                                r = i.shootPosition.y - this.body.position.y,
                                o = Math.sqrt(n * n + r * r),
                                a = 300;
                            i.perfect && o > a && (i.perfect = !1) } if (i.perfect && i.shot || i.shot && i.remoteBall && this.right) return void(t.ignore = !0); var s = i.body.velocity.length();
                        s > 15 ? (i.body.velocity.x *= -1, i.body.velocity.y = p["default"].randomSign() * p["default"].random(3, 8), i.body.velocity.setLength(.5 * s)) : (t.ignore = !0, i.owner && i.owner.ballSkills.releaseBall(), this.ballSkills.pickupBall(i), this.diveTarget = null, this.diving = !1) } else "player" === e.name && (e.state === M["default"].PLAYER_STATE.KICK_CHARGE && e.shootRelease(this), t.ignore = !0) } }, e }(c["default"]);
    e["default"] = E, t.exports = e["default"] }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = (i(8), i(9)),
            o = i(111),
            a = i(34),
            a = (i(120), i(34)),
            s = (i(122), i(21)),
            h = i(124),
            l = (new r.PlaneGeometry(200, 200), i(118)),
            u = (l.PLAYER_STATE, function(t) { r.Object3D.call(this), this.keeper = t, this.scale.x = this.scale.y = this.scale.z = .22, this.flipContainer = new r.Object3D, this.flipContainer.rotation.x = -Math.PI + .6, this.add(this.flipContainer), this.keeperMesh = new o.getMesh, this.flipContainer.add(this.keeperMesh), t.right && (this.flipContainer.scale.x *= -1), this.animation = new h; var e = t.right ? "red" : "blue";
                this.animation.register("run", { frames: a.getTexturesFromFramesWithPrefix("characters_goalkeeper_stand00%%_" + e + ".png", 3, 1), loop: !0 }), this.animation.register("stand", { frames: a.getTexturesFromFramesWithPrefix("characters_goalkeeper_stand00%%_" + e + ".png", 3, 1), loop: !0 }), this.animation.register("kick", { frames: a.getTexturesFromFramesWithPrefix("characters_goalkeeper_kick00%%_" + e + ".png", 10, 1), loop: !1 }), this.animation.register("jump", { frames: a.getTexturesFromFramesWithPrefix("characters_goalkeeper_jumpup00%%_" + e + ".png", 1, 10), loop: !1 }), this.animation.play("stand") });
        u.prototype = Object.create(r.Object3D.prototype), u.prototype.setData = function(t) {}, u.prototype.update = function() { this.animation.update(s.game.deltaTime), this.count++, o.setUvs(this.keeperMesh, this.animation.texture) }, n.exports = u }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(9),
            a = i(120),
            s = (i(122), i(111)),
            h = (i(112), i(48)),
            l = function() { for (var t = window.winterMode ? "toon_pitch_full_winter" : "toon_pitch_full", e = r.Sprite.from(ASSET_URL + "img/game/" + t + ".jpg"), i = new o.PlaneGeometry(1800, 1100), n = new r.Container, h = 0; h < 8; h++) { var l = window.winterMode ? "pitch_banner_winter" : "pitch_banner",
                        u = r.Sprite.from(l + ".jpg");
                    u.x = 305 * h, n.addChild(u) } this.loader = new o.TextureLoader; var c = this.loader.load(window.app.getFilePath(ASSET_URL + "img/game/" + t + ".jpg")),
                    d = new o.MeshBasicMaterial({ map: c });
                d.side = o.DoubleSide, d.polygonOffset = !0, d.polygonOffsetFactor = 40, this.view3d = new o.Mesh(i, d), this.view3d.position.x = 800, this.view3d.position.y = 450, a.call(this, 0, 0, e); var c = s.getPixiTexture(n),
                    d = new o.MeshBasicMaterial({ map: c });
                d.side = o.DoubleSide, d.transparent = !0, boardGeometry = new o.PlaneGeometry(n.width, u.height), this.boardMesh = new o.Mesh(boardGeometry, d), this.view3d.add(this.boardMesh), this.boardMesh.rotation.x = Math.PI / 2 - .8, this.boardMesh.position.z = 25, this.boardMesh.position.y = 500, this.addCrowd(), this.addRunoff(), this.frontCrowd(), this.groups = ["Pitch"]; var p = r.Texture.from(ASSET_URL + "img/game/pitch_circle_banner.png"),
                    f = new o.Texture;
                f.image = p.baseTexture.source, f.needsUpdate = !0; var d = new o.MeshBasicMaterial({ map: f });
                d.side = o.DoubleSide, d.transparent = !0, d.depthTest = !1, d.opacity = .5, logoGeometry = new o.PlaneGeometry(336, 336), this.logoMesh = new o.Mesh(logoGeometry, d), window.logoMesh = this.logoMesh, this.view3d.add(this.logoMesh) };
        l.prototype = Object.create(a.prototype), l.prototype.loadBanners = function() { if (h.banner1 && !this.banner1) { this.banner1 = h.banner1; var t = new o.Texture;
                t.image = this.banner1.texture.baseTexture.source, this.logoMesh.material.map = t, this.logoMesh.material.map.needsUpdate = !0, this.logoMesh.material.needsUpdate = !0 } if (h.banner2 && !this.banner2) { this.banner2 = h.banner2, h.banner3 && (this.banner3 = h.banner3); for (var e = new r.Container, i = 0; i < 8; i++) { if (this.banner3 && i % 2 === 0) var n = new r.Sprite(this.banner3.texture);
                    else var n = new r.Sprite(this.banner2.texture);
                    n.x = 305 * i, e.addChild(n) } var a = s.getPixiTexture(e);
                this.boardMesh.material.map = a, this.boardMesh.material.map.needsUpdate = !0, this.boardMesh.material.needsUpdate = !0 } }, l.prototype.showLogo = function() { this.logoMesh.visible = !0, this.logoMesh.material.opacity = .4 }, l.prototype.hideLogo = function() { TweenLite.to(this.logoMesh.material, .3, { opacity: 0, onComplete: function() { this.logoMesh.visible = !1 }.bind(this), delay: 0 }) }, l.prototype.addCrowd = function() { var t = window.winterMode ? "stadium-02_winter" : "stadium-02",
                e = this.loader.load(ASSET_URL + "img/game/" + t + ".jpg");
            e.repeat.set(6 * .3, 1.2), e.wrapS = e.wrapT = o.RepeatWrapping; var i = new o.MeshBasicMaterial({ map: e });
            i.side = o.DoubleSide, crowdGeometry = new o.PlaneGeometry(2400, (-500)), this.crowdMesh = new o.Mesh(crowdGeometry, i), this.view3d.add(this.crowdMesh), this.crowdMesh.rotation.x = -Math.PI / 2 - 1.2, this.crowdMesh.position.z = 75, this.crowdMesh.position.y = 780, this.crowdMesh.scale.z = -1 }, l.prototype.addRunoff = function() { var t = window.winterMode ? "runnoff_winter" : "runnoff",
                e = this.loader.load(ASSET_URL + "img/game/" + t + ".png");
            e.repeat.set(1, 3), e.wrapS = e.wrapT = o.RepeatWrapping; var i = new o.MeshBasicMaterial({ map: e });
            i.side = o.DoubleSide, i.polygonOffset = !0, i.polygonOffsetFactor = 40; var n = new o.PlaneGeometry(400, 1400),
                r = new o.Mesh(n, i);
            this.view3d.add(r), r.position.x = -1100, r.position.y = 300; var a = new o.Mesh(n, i);
            this.view3d.add(a), a.scale.x = -1, a.position.x = 1100, a.position.y = 300 }, l.prototype.frontCrowd = function() { var t = window.winterMode ? "front_crowd_winter" : "front_crowd",
                e = this.loader.load(ASSET_URL + "img/game/" + t + ".png");
            e.repeat.set(4, 1), e.wrapS = e.wrapT = o.RepeatWrapping; var i = new o.MeshBasicMaterial({ map: e });
            i.side = o.DoubleSide, i.transparent = !0; var n = new o.PlaneGeometry(1600, 112),
                r = new o.Mesh(n, i);
            this.view3d.add(r), r.position.z = 106, r.position.y = -586, r.rotation.x = 1 }, l.prototype.reset = function() {}, l.prototype.update = function() {}, n.exports = l }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = (i(8), i(120)),
            o = i(122),
            a = function(t, e, i, n) { var a = new o.CrashBody.fromRect(0, 0, i, n);
                a.type = o.CrashBody.STATIC; var s = a.getDebugView();
                this.wall = !0, r.call(this, t, e, s, a), this.body.position = this.position, this.groups = ["Wall"] };
        a.prototype = Object.create(r.prototype), a.prototype.reset = function() {}, a.prototype.update = function() {}, n.exports = a }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e) { "use strict"; var i = function(t) { this.ticker = t, this.updateBind = this.update.bind(this), this.waits = [], this.active = !1 };
    i.prototype.wait = function(t, e, i) { var n = { callback: e, scope: i, count: t || 2 };
        this.waits.push(n), this.active || (this.active = !0, this.ticker.add(this.update, this)) }, i.prototype.update = function() { for (var t = this.waits.length - 1; t >= 0; t--) { var e = this.waits[t];
            e.count--, e.count <= 0 && (e.callback.call(e.scope), this.waits.splice(t, 1)) } this.waits.length < 0 && (this.active = !1, this.ticker.remove(this.update, this)) }, t.exports = i }, function(t, e, i) { "use strict"; var n = (i(8), function(t) {});
    n.constructor = n, n.prototype.get, t.exports = n }, function(t, e, i) { "use strict"; var n = i(8),
        r = i(118),
        o = i(144),
        a = i(145),
        s = i(146),
        h = r.TEAM_STATE,
        l = r.PLAYER_STATE,
        u = function(t, e, i) { this.game = t, this.team = e, this.teamBad = i, this.enableShoot(), this.enablePass(), this.enableTackle(), this.enableSignal(), this.state = h.DEFENDING, this.human = !1, window.team = this, this.blockMove = !1, this.goal = null, this.firstGo = !1, this.constrainPlayer = !1, this.team.children[0].DEBUG = !0, this.team.run(function(e) { e.balanceManager = t, e.signals.onBallRecieved.add(this.onPlayerRecievedBall, this), e.signals.onBallLost.add(this.onPlayerLostBall, this) }, this), this.teamBad.run(function(t) { t.signals.onBallRecieved.add(this.onPlayerBadRecievedBall, this), t.signals.onBallLost.add(this.onPlayerBadLostBall, this) }, this), this.game.keeperLeft.signals.onBallRecieved.add(this.onKeeperRecievedBall, this), this.game.keeperRight.signals.onBallRecieved.add(this.onKeeperRecievedBall, this), this.game.keeperLeft.signals.onBallLost.add(this.onKeeperLostBall, this), this.game.keeperRight.signals.onBallLost.add(this.onKeeperLostBall, this), this.debug = new n.Text("HI MUM"), this.signCount = 0 };
    u.constructor = u, u.prototype.setSide = function(t) { this.left !== t && (this.left = t, t ? (this.team.children[0].startPosition.set(300, 100), this.team.children[1].startPosition.set(200, 300), this.team.children[2].startPosition.set(100, 400), this.goal = this.game.goalRight, this.keeper = this.game.keeperRight, this.balanceData = this.game.balanceManager.teamA) : (this.team.children[0].startPosition.set(700, 100), this.team.children[1].startPosition.set(600, 300), this.team.children[2].startPosition.set(500, 400), this.goal = this.game.goalLeft, this.keeper = this.game.keeperLeft, this.balanceData = this.game.balanceManager.teamB), this.keeper.balanceData = this.balanceData, this.team.children[0].balanceData = this.balanceData, this.team.children[1].balanceData = this.balanceData, this.team.children[2].balanceData = this.balanceData) }, u.prototype.show = function(t, e, i) { this.team.children[t].show(), this.resetPlayerAt(this.team.children[t], e, i) }, u.prototype.hide = function(t, e, i) { this.team.children[t].hide(), this.resetPlayerAt(this.team.children[t], e, i) }, u.prototype.hideAll = function(t) { for (var e = 0; e < this.team.children.length; e++) this.team.children[e].hide(), this.resetPlayerAt(this.team.children[e], 50, 50) }, u.prototype.showAll = function(t) { for (var e = 0; e < this.team.children.length; e++) this.team.children[e].show() }, u.prototype.setTeam = function(t) { for (var e = 0; e < this.team.children.length; e++) this.team.children[e].setData(t[e]) }, u.prototype.resetPositions = function(t, e) { var i = this.team.children;
        this.setState(h.KICK_OFF), this.setPlayer(null), t ? e ? (this.resetPlayerAt(i[0], .2, .4), this.resetPlayerAt(i[1], .2, .6), this.resetPlayerAt(i[2], .45, .5)) : (i[0].reset(), i[1].reset(), i[2].reset(), i[0].position.set(800, 50), i[1].position.set(800, 50), i[2].position.set(800, 50), this.movePlayerTo(i[0], .2, .4), this.movePlayerTo(i[1], .2, .6), this.movePlayerTo(i[2], .45, .5)) : e ? (this.resetPlayerAt(i[0], .15, .4), this.resetPlayerAt(i[1], .15, .6), this.resetPlayerAt(i[2], .38, .5)) : (i[0].reset(), i[1].reset(), i[2].reset(), i[0].position.set(800, 50), i[1].position.set(800, 50), i[2].position.set(800, 50), this.movePlayerTo(i[0], .15, .4), this.movePlayerTo(i[1], .15, .6), this.movePlayerTo(i[2], .38, .5)) }, u.prototype.go = function() { this.firstGo = !0, this.setState(h.DEFENDING), this.team.children[2].movement.direction.x = 1, this.team.children[2].movement.direction.y = 0 }, u.prototype.happy = function() { this.setState(h.SCORED) }, u.prototype.sad = function() { this.setState(h.LOST) }, u.prototype.stopActivePlayer = function() { this.activePlayer && this.human && this.activePlayer.stop() }, u.prototype.moveActivePlayerInDirection = function(t, e) { if (this.activePlayer && this.human) return this.blockMove ? void this.activePlayer.moveInDirection(0, 0) : void(this.constrainPlayer ? this.ConstrainActivePlayerInDirection(t, e) : this.activePlayer.moveInDirection(t, e)) }, u.prototype.ConstrainActivePlayerInDirection = function(t, e) { if (this.activePlayer && this.human) { var i = this.activePlayer.position.x / this.game.pitchWidth,
                n = this.activePlayer.position.y / this.game.pitchHeight;
            (i < .4 && 1 !== t || i > .6 && t !== -1) && (t = -t), (n < .4 && 1 !== e || n > .6 && e !== -1) && (e = -e), this.activePlayer.moveInDirection(t, e) } }, u.prototype.setPlayer = function(t, e) { this.activePlayer !== t && (this.activePlayer && (this.activePlayer.stop(), this.activePlayer.auto = !0), this.activePlayer = t, t && this.human && (t.auto = !1, t.stop(), !t.ballSkills.ball && e && t.view3d.reticle.blink())) }; var c = {};
    c[h.ATTACKING] = "attack", c[h.TUTORIAL_PASS] = "t-attack", c[h.TUTORIAL_IDLE] = "t-idle", c[h.DEFENDING] = "defending", c[h.ATTACK_IDLE] = "attack_idle", c[h.KICK_OFF] = "kickoff", c[h.DEFEND_IDLE] = "defend_idle", c[h.SCORED] = "scored", c[h.LOST] = "lost", u.prototype.setState = function(t) { this.state !== t && (this.debug.text = "state " + c[t], this.makeDecision = !0, t === h.SCORED ? this.team.run(function(t) { t.win() }) : t === h.LOST && this.team.run(function(t) { t.lose() }), t === h.ATTACKING || t === h.DEFENDING ? this.keeper.active = !0 : this.keeper.active = !1, this.state = t) }, u.prototype.actionBegin = function() { var t = this; if (this.shoot = !1, this.tackle = !1, this.pass = !1, this.didPass = !1, this.activePlayer)
            if (this.game.ball.owner === this.activePlayer) { if (this.game.ball.remoteBall && this.game.ball.isTeamA === this.activePlayer.isTeamA) return this.activePlayer.shootBegin(this.goal), void this.activePlayer.shootRelease(this.goal);
                this.timer = setTimeout(function() { t.canShoot && t.game.ball.owner === t.activePlayer && (t.shoot = !0, SoundManager.sfx.play("power_up_charge"), t.activePlayer.shootBegin(t.goal)) }, 250) } else { this.tackle = !0; var e = o(this.activePlayer, this.teamBad);
                this.canTackle && this.activePlayer.slideTackle(e.dx, e.dy, 10) } }, u.prototype.passControl = function() { if (this.activePlayer.ballSkills.ball.active) { var t = o(this.activePlayer, this.team);
            t.player && t.player.state !== r.PLAYER_STATE.HIDE ? this.activePlayer.ballSkills.passTo(t.player) : this.activePlayer.ballSkills.pass(t.dx, t.dy, 10), this.game.stats.passTotal++, this.didPass = !0 } }, u.prototype.actionEnd = function() { clearTimeout(this.timer), this.activePlayer && (this.shoot && this.canShoot && this.activePlayer.shootRelease(this.goal), this.shoot || this.tackle || !this.canPass || this.passControl(), this.shoot = !1, this.tackle = !1, this.pass = !1) }, u.prototype.actionOneShootBegin = function() { this.canShoot && this.activePlayer.shootBegin(this.goal) }, u.prototype.actionOneShootEnd = function() { this.canShoot && this.activePlayer.shootRelease(this.goal) }, u.prototype.actionTwoPassTackleBegin = function() { if (this.canPass) { var t = o(this.activePlayer, this.team);
            t.player && t.player.state !== r.PLAYER_STATE.HIDE ? this.activePlayer.ballSkills.passTo(t.player) : this.activePlayer.ballSkills.pass(t.dx, t.dy, 10) } if (this.canTackle && (!this.activePlayer || !this.activePlayer.ball)) { var t = o(this.activePlayer, this.teamBad);
            this.activePlayer.slideTackle(t.dx, t.dy, 10) } }, u.prototype.update = function() { var t = this.game.pitchWidth,
            e = (this.game.pitchHeight, this.team),
            i = this.team.getIndex(this.activePlayer),
            n = this.activePlayer,
            l = e.getItem((i + 1) % 3),
            u = e.getItem((i + 2) % 3),
            c = 160; if (this.state === h.DEFENDING) { this.makeDecision && (this.makeDecision = !1); var d = this.team.getItem(0),
                p = this.team.getItem(1),
                f = this.team.getItem(2);
            this.game.ball.position.x > .4 * t ? (this.movePlayerTo(d, .5, .5), this.movePlayerTo(p, .3, .6), this.movePlayerTo(f, .2, .4)) : this.game.ball.position.x > .5 * t ? (this.movePlayerTo(d, .8, .5), this.movePlayerTo(p, .5, .6), this.movePlayerTo(f, .3, .4)) : (this.movePlayerTo(d, .8, .5), this.movePlayerTo(p, .7, .4), this.movePlayerTo(f, .5, .4)); var m = a(this.game.ball, this.team);
            m.player.movement.turnMultiplier = .2 * this.balanceData.turnMultiplier, m.player.chaseDown(this.game.ball); var g = s(this.game.ball, this.activePlayer, this.team, this.left);
            this.setPlayer(g.player, !0) } else if (this.state === h.TUTORIAL_IDLE);
        else if (this.state === h.TUTORIAL_TACKLE) this.human || (this.team.getItem(1).moveTo(n.position.x, n.position.y), this.team.getItem(1).moveTo(this.game.ball.position.x, this.game.ball.position.y), this.team.getItem(1).chaseDown(this.game.ball));
        else if (this.state === h.ATTACKING) { var v = this.team.getItem(0),
                y = this.team.getItem(1),
                _ = this.team.getItem(2); if (this.human)
                if (this.game.ball.position.x < .3 * t) this.movePlayerTo(v, .5, .4), this.movePlayerTo(_, .2, .75), this.movePlayerTo(y, .2, .25);
                else { if (this.left) var b = Math.max(n.position.x, .8 * t),
                        x = n.position.x - 200;
                    else var b = Math.min(n.position.x, .2 * t),
                        x = n.position.x + 200;
                    n.position.y < 450 ? u.moveTo(b, n.position.y + c + 100) : u.moveTo(b, n.position.y - c - 50), l.moveTo(x, n.position.y + c) } else { if (u.moveTo(n.position.x, n.position.y - c - 100), l.moveTo(n.position.x + 200, n.position.y + c), this.signCount += .02, this.movePlayerTo(n, .81, .5 + .1 * Math.sin(this.signCount)), n.passWait++, n.ballSkills.ball) { var m = a(this.game.ball, this.teamBad);
                    n.passWait > 30 && this.agro < .4 && m.len < 100 && this.passToPlayer(u) } if (u.position.x > n.position.x && l.position.x > n.position.x && n.position.x < 500 && (n.passWait = 0), n.position.x < this.percentFromGoal(.2)) { var w = this.game.pitchHeight;
                    n.position.y > .25 * w && n.position.y < .75 * w ? n.shootRelease(this.goal) : this.passToPlayer(u) } else n.passWait > 90 ? this.passToPlayer(Math.random() > .5 ? u : l) : n.passWait > 40 && u.position.x < this.activePlayer.position.x && this.passToPlayer(u); if (!this.game.ball.owner) { var m = a(this.game.ball, this.team);
                    m.player.movement.turnMultiplier = .2 * this.balanceData.turnMultiplier, m.player.chaseDown(this.game.ball) } } } else if (this.state === h.DEFEND_IDLE) { var d = this.team.getItem(0),
                p = this.team.getItem(1),
                f = this.team.getItem(2);
            this.movePlayerTo(d, .2, .5), this.movePlayerTo(p, .3, .3), this.movePlayerTo(f, .6, .4) } else if (this.state === h.ATTACK_IDLE) { var d = this.team.getItem(0),
                p = this.team.getItem(1),
                f = this.team.getItem(2);
            this.movePlayerTo(d, .4, .5), this.movePlayerTo(p, .6, .3), this.movePlayerTo(f, .6, .2) } if (this.human && (this.team.run(function(t) { t.view3d.reticle.flashing = !1 }, this), n && n.ballSkills.ball)) { var T = o(this.activePlayer, this.team);
            T.player && T.player.state !== r.PLAYER_STATE.HIDE && (T.player.view3d.reticle.flashing = !0) } }, u.prototype.passToPlayer = function(t) { this.canPass && t !== this.activePlayer && t.state !== l.FALL && this.activePlayer.ballSkills.passTo(t) }, u.prototype.resetPlayerAtByIndex = function(t, e, i) { this.left ? (this.team.children[t].position.x = this.game.pitchWidth * e, this.team.children[t].position.y = this.game.pitchHeight * i) : (this.team.children[t].position.x = this.game.pitchWidth * (1 - e), this.team.children[t].position.y = this.game.pitchHeight * (1 - i)), this.team.children[t].reset() }, u.prototype.resetPlayerAt = function(t, e, i) { this.left ? (t.position.x = this.game.pitchWidth * e, t.position.y = this.game.pitchHeight * i) : (t.position.x = this.game.pitchWidth * (1 - e), t.position.y = this.game.pitchHeight * (1 - i)), t.reset() }, u.prototype.movePlayerTo = function(t, e, i) { t.movement.turnMultiplier = 1, t.movingTo = !1, t.ballSkills.ball || (t.movingTo = !0), this.left ? t.moveTo(this.game.pitchWidth * e, this.game.pitchHeight * i) : t.moveTo(this.game.pitchWidth * (1 - e), this.game.pitchHeight * (1 - i)) }, u.prototype.onPlayerRecievedBall = function(t) { if (this.game.timer.isOn || this.game.timer.start(!0), (this.state !== h.TUTORIAL_IDLE || this.activePlayer !== t) && this.state !== h.TUTORIAL_IDLE) { if ((Math.random() > .5 || this.firstGo) && (this.firstGo = !1, !this.human)) { var e = this.team,
                    i = e.getIndex(t),
                    n = e.getItem((i + 1) % 3),
                    r = e.getItem((i + 2) % 3),
                    o = Math.random();
                o > .25 && (o > .75 ? this.passToPlayer(n) : this.passToPlayer(r)) } this.agro = Math.random(), this.setPlayer(t), this.setState(h.ATTACKING), this.didPass && this.game.stats.passSuccess++ } }, u.prototype.onPlayerLostBall = function(t) { if (this.didPass = !1, this.state !== h.TUTORIAL_IDLE) { var e = .5 * this.game.pitchWidth;
            this.left ? this.game.ball.position.x < e && this.setState(h.DEFENDING) : this.game.ball.position.x > e && this.setState(h.DEFENDING); for (var i = 0; i < this.team.children.length; i++) this.team.children[i].chaseWait = 0 } }, u.prototype.percentFromGoal = function(t) { return this.left && (t = 1 - t), this.game.pitchWidth * t }, u.prototype.onPlayerBadRecievedBall = function(t) { this.didPass = !1; var e = a(this.game.ball, this.team);
        this.setPlayer(e.player, !0), this.state !== h.TUTORIAL_IDLE && this.setState(h.DEFENDING) }, u.prototype.onPlayerBadLostBall = function(t) { this.state === h.TUTORIAL_IDLE }, u.prototype.onKeeperRecievedBall = function(t) { this.didPass = !1, t === this.keeper ? this.setState(h.ATTACK_IDLE) : this.setState(h.DEFEND_IDLE) }, u.prototype.onKeeperLostBall = function(t) { this.setState(h.DEFENDING) }, u.prototype.enableShoot = function() { this.canShoot = !0 }, u.prototype.disableShoot = function() { this.canShoot = !1, this.activePlayer && this.activePlayer.ballSkills.ball && (this.activePlayer.ballSkills.ball.chargeEffect.setRatio(0), this.activePlayer.chargeBar.hide(), this.activePlayer.world.game.speed = 1, SoundManager.sfx.stop("power_up_charge")) }, u.prototype.enablePass = function() { this.canPass = !0 }, u.prototype.disablePass = function() { this.canPass = !1 }, u.prototype.enableTackle = function() { this.canTackle = !0 }, u.prototype.disableTackle = function() { this.canTackle = !1 }, u.prototype.enableSignal = function() { this.listenSignal = !0 }, u.prototype.disableSignal = function() { this.listenSignal = !1 }, t.exports = u }, function(t, e, i) { "use strict"; var n = i(118),
        r = n.PLAYER_STATE,
        o = { dx: 0, dy: 0, player: null },
        a = function(t, e) { var i, n = e.children,
                a = t.movement.direction.x,
                s = t.movement.direction.y;
            0 === a && 0 === s && (a = 1); for (var h = 1 / 0, l = null, u = a, c = s, d = 0; d < n.length; d++)
                if (i = n[d], i !== t && i.state !== r.FALL) { var p = i.position.x - t.position.x,
                        f = i.position.y - t.position.y,
                        m = Math.sqrt(p * p + f * f);
                    p /= m, f /= m; var g = p * a + f * s;
                    g > .6 && m < h && (u = p, c = f, l = i, h = m) } return o.dx = u, o.dy = c, o.player = l, o };
    t.exports = a }, function(t, e, i) { "use strict"; var n = i(118),
        r = n.PLAYER_STATE,
        o = { dx: 0, dy: 0, player: null },
        a = function(t, e) { for (var i, n = e.children, a = 1 / 0, s = n[0], h = 0, l = 0, u = 0; u < n.length; u++)
                if (i = n[u], i !== t && i.state !== r.FALL) { var c = i.position.x - t.position.x,
                        d = i.position.y - t.position.y,
                        p = Math.sqrt(c * c + d * d);
                    c /= p, d /= p, p < a && (h = c, l = d, s = i, a = p) } return o.dx = h, o.dy = l, o.len = a, o.player = s, o };
    t.exports = a }, function(t, e, i) { "use strict"; var n = i(118),
        r = n.PLAYER_STATE,
        o = { dx: 0, dy: 0, player: null },
        a = function(t, e, i, n) { for (var a, s = i.children, h = 1 / 0, l = s[0], u = 0, c = 0, d = 0; d < s.length; d++)
                if (a = s[d], a.state !== r.FALL) { var p = a.position.x - t.position.x,
                        f = a.position.y - t.position.y,
                        m = Math.sqrt(p * p + f * f);
                    p /= m, f /= m, a === e && (m -= 100), m < h && (u = p, c = f, l = a, h = m) } return o.dx = u, o.dy = c, o.player = l, o };
    t.exports = a }, function(t, e, i) { "use strict"; var n = (i(8), i(118)),
        r = i(47),
        o = i(144),
        a = (n.TEAM_STATE, function(t, e, i) { this.game = i, this.left = e, this.keeper = t, e ? (this.goal = i.goalLeft, this.teamBad = i.teamLeft, this.team = i.teamRight) : (this.goal = i.goalRight, this.team = i.teamLeft, this.teamBad = i.teamRight, window.keeperm = this), this.keeperHome = this.goal.position.clone(), e ? this.keeperHome.x = 40 : this.keeperHome.x -= 40, this.keeper.signals.onBallRecieved.add(this.onRecievedBall, this), this.keeper.signals.onBallLost.add(this.onLostBall, this), this.closeDownDistance = 300, this.active = !0 });
    a.constructor = a, a.prototype.onRecievedBall = function() { if (!this.keeper.hidden) { if (this.left) { var t = this.goal.position.x + 320;
                this.keeper.movement.moveTo(t, this.keeper.position.y) } else { var t = this.goal.position.x - 220;
                this.keeper.movement.moveTo(t, this.keeper.position.y) } this.active = !1, this.game.wait.wait(120, function() { this.keeper.movement.moveTo(this.keeperHome.x, this.keeperHome.y), this.left ? this.keeper.movement.direction.set(1, 0) : this.keeper.movement.direction.set(-1, 0); var t = o(this.keeper, this.teamBad);
                this.keeper.kickOut(t.dx, t.dy), this.active = !0 }, this) } }, a.prototype.show = function() { this.keeper.position.x = this.keeperHome.x, this.keeper.position.y = this.keeperHome.y }, a.prototype.hide = function() { this.keeper.position.y = -1e3 }, a.prototype.update = function() { if (!this.keeper.hidden && this.active) { var t = this.game.ball,
                e = Math.abs(t.position.x - this.goal.position.x),
                i = Math.abs(t.position.y - this.goal.position.y),
                n = Math.sqrt(e * e + i * i); if (n < 220 && t.active && this.keeper.dive(t), e < this.closeDownDistance && i < 200 && t.active) this.keeper.movement.follow(t);
            else { var o = this.goal.position.y;
                e < 600 && (o = r.cap(t.position.y, this.goal.position.y - 20, this.goal.position.y + 20)), this.keeper.movement.moveTo(this.keeperHome.x, o) } var a = this.keeper;
            a.right ? a.body.velocity.x < 0 && a.body.position.x < this.goal.position.x - 300 && (a.body.velocity.x *= 0) : a.body.velocity.x > 0 && a.body.position.x > this.goal.position.x + 300 && (a.body.velocity.x *= 0) } }, a.prototype.onLostBall = function() {}, t.exports = a }, function(t, e, i) { "use strict"; var n = i(32),
        r = i(30),
        o = function(t) { this.game = t, this.active = !1, this.firstRun = !0, this.runID = 0 };
    o.prototype.run = function(t, e, i) { this.active = !0, this.runID++, this.game.movieBorders.show(), this.left = e; var o = this.game.ball;
        o.setActive(!1), o.body.velocity.x = 0, o.body.velocity.y = 0, o.body.position.x = .5 * this.game.pitchWidth, o.body.position.y = .5 * this.game.pitchHeight, t && this.firstRun ? e ? (this.game.teamManagerA.resetPositions(!0), this.game.teamManagerB.resetPositions(!1)) : (this.game.teamManagerA.resetPositions(!1), this.game.teamManagerB.resetPositions(!0)) : e ? (this.game.teamManagerA.resetPositions(!0, !0), this.game.teamManagerB.resetPositions(!1, !0)) : (this.game.teamManagerA.resetPositions(!1, !0), this.game.teamManagerB.resetPositions(!0, !0)); var a = 100;
        window.URLParams.waitTime && (a = parseInt(window.URLParams.waitTime)); var s = a;
        0 === this.game.goalsA && 0 === this.game.goalsB && (this.game.wait.wait(s, function() { this.game.hud.showBigScreen("kickoff") }, this), s += a); var h = this.runID;
        this.game.wait.wait(s - .2, function() { this.game.hud.hudBigContent.visible && this.game.hud.hideBigScreen(), this.active && h === this.runID && (this.game.hud.message.show(n.MESSAGE_ID.WHISTLE), TweenLite.delayedCall(.3, function() { r.sfx.play("whistle_full_time") })) }, this), s += a, this.game.wait.wait(s, function() { this.active && h === this.runID && (this.game.movieBorders.hide(), this.game.ball.setActive(!0), this.game.pitch.hideLogo(), this.left ? this.game.teamManagerA.go() : this.game.teamManagerB.go(), i && this.game.hud.message.show("POWERUP", { name: "STR_GAME_RESTART" }), this.active = !1) }, this) }, o.prototype.update = function() {}, o.prototype.reset = function() { this.active = !1 }, t.exports = o }, function(t, e, i) {
    "use strict";
    var n = (i(141), i(32), function(t) { this.game = t, this.left = !1, this.active = !1 });
    n.prototype.run = function(t) {
        this.active = !0, this.left = t, this.game.movieBorders.show(.05, 1), this.game.flash.flash(), this.game.hud.party.visible = !0, this.game.world.view3d.camera.shake(30), this.game.world.view3d.camera.celebrateMode = !0, this.game.teamManagerA.left === t ? (this.game.teamManagerB.happy(), this.game.teamManagerA.sad()) : (this.game.teamManagerA.happy(), this.game.teamManagerB.sad()), this.game.hud.showBigScreen("goal"), this.game.timer.stop(), this.game.ball.setActive(!1), TweenLite.to(this.game.black, .8, {
            delay: 5,
            alpha: 1,
            ease: Sine.easeOut,
            onComplete: this.onFadeOut,
            onCompleteScope: this
        })
    }, n.prototype.onFadeOut = function() { this.game.hud.reset(), TweenLite.to(this.game.black, .8, { alpha: 0, ease: Sine.easeOut }); var t = this.game.ball;
        t.body.velocity.x = 0, t.body.velocity.y = 0, t.body.position.x = .5 * this.game.pitchWidth, t.body.position.y = .5 * this.game.pitchHeight, this.game.world.view3d.camera.celebrateMode = !1, this.active && this.game.scripts.start.run(!1, this.left) }, n.prototype.update = function() {}, n.prototype.reset = function() { this.active = !1 }, t.exports = n
}, function(t, e, i) { "use strict"; var n = (i(141), i(118)),
        r = i(48),
        o = i(32),
        a = i(50),
        s = i(30),
        h = function(t) { this.game = t, this.active = !1 };
    h.prototype.showPoints = function() { return r.isTournament && r.scoreKey && !this.game.points && this.waitForPoints > 0 ? void TweenLite.delayedCall(.5, function() { this.waitForPoints--, this.showPoints() }.bind(this)) : (this.game.hud.showBigScreen("win"), void(r.isTournament && TweenLite.to(this.game.black, .3, { delay: 6, alpha: 1, ease: Sine.easeOut, onComplete: this.onFadeOut, onCompleteScope: this }))) }, h.prototype.run = function(t) { this.waitForPoints = 10, this.active = !0, t === n.END_STATE.LOSE ? (this.game.teamManagerA.sad(), this.game.teamManagerB.happy(), TweenLite.delayedCall(2, function() { this.game.hud.showBigScreen("lose"), r.isTournament && TweenLite.to(this.game.black, .3, { delay: 6, alpha: 1, ease: Sine.easeOut, onComplete: this.onFadeOut, onCompleteScope: this }) }.bind(this))) : t === n.END_STATE.WIN && (this.game.teamManagerA.happy(), this.game.teamManagerB.sad(), this.game.flash.flash(), this.game.hud.party.visible = !0, this.game.world.view3d.camera.shake(30), TweenLite.delayedCall(2, function() { this.showPoints() }.bind(this))), r.matchResult.goalsA = this.game.goalsA, r.matchResult.goalsB = this.game.goalsB, this.game.world.view3d.camera.endMode = !0, this.game.ball.body.velocity.x *= .1, this.game.ball.body.velocity.y *= .1, this.game.ball.setActive(!1), this.game.hud.message.show(o.MESSAGE_ID.WHISTLE), TweenLite.delayedCall(.5, function() { this.active && s.sfx.play("whistle_full_time") }.bind(this)), r.isTournament || TweenLite.delayedCall(4, function() { this.active && this.game.gameover() }.bind(this)); var e = "lose_match";
        this.game.goalsA > this.game.goalsB && (e = "complete_match"); var i = { match_type: this.game.getMatchType(), score: this.game.goalsA + " - " + this.game.goalsB, gameTime: Math.round(this.game.timer.count / 60), tackleTotal: this.game.stats.tackleTotal, tackleSuccess: this.game.stats.tackleSuccess, tackleRatio: this.game.stats.tackleSuccess / this.game.stats.tackleTotal, shootTotal: this.game.stats.shootTotal, passTotal: this.game.stats.passTotal, passSuccess: this.game.stats.passSuccess, passRatio: this.game.stats.passSuccess / this.game.stats.passTotal, opponentTackle: this.game.stats.opponentTackle, opponentTackleSuccess: this.game.stats.opponentTackleSuccess, possession: Math.round(this.game.stats.possession) };
        a.adbTrackAction(e, i), a.bootstrapEventTrigger(e, i) }, h.prototype.onFadeOut = function() { TweenLite.to(this.game.black, .3, { alpha: 0, ease: Sine.easeOut }), this.game.hud.party.visible = !1, this.game.world.view3d.camera.endMode = !1, this.active && this.game.gameover() }, h.prototype.update = function() {}, h.prototype.reset = function() { this.active = !1 }, t.exports = h }, function(t, e, i) { "use strict"; var n = (i(141), i(21)),
        r = i(30),
        o = function(t) { this.game = t, this.active = !1 };
    o.prototype.run = function(t) { this.active = !0, this.game.movieBorders.show(), this.game.app.topMenu.setState("empty"), n.game.stop(), this.game.superMove.onFinish.addOnce(this.onFinish, this), this.game.superMove.show(t.data), r.sfx.play(t.data.superSound), this.game.vignette.alpha = 0 }, o.prototype.onFinish = function() { this.active && (this.game.app.topMenu.setState("game"), n.game.start(), r.sfx.play("big_kick")) }, o.prototype.reset = function() { this.active = !1 }, t.exports = o }, function(t, e, i) { "use strict"; var n = i(24),
        r = i(21),
        o = (i(30), function(t) { this.game = t, this.active = !1, this.ticker = new r, this.ticker.add(this.update, this, 1) });
    o.prototype.run = function(t, e) { r.game.stop(), this.ticker.start(), this.active = !0, this.result = e, this.player = t, 0 === e && t.chargeBar.showText("STR_SUPERSHOT_WEAK"), 1 === e && t.chargeBar.showText("STR_SUPERSHOT_PERFECT"), 2 === e && (t.chargeBar.showText("STR_SUPERSHOT_MISS"), t.chargeBar.frame.texture = PIXI.Texture.fromFrame("shoot_charge_frame_miss.png")), n.wait(this.onFinish.bind(this), 60) }, o.prototype.update = function() { this.player.chargeBar.update() }, o.prototype.onFinish = function() { this.active && (this.ticker.stop(), 1 === this.result ? this.game.scripts["super"].run(this.player) : r.game.start()) }, o.prototype.reset = function() { this.active = !1, this.ticker.stop() }, t.exports = o }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(21),
            o = i(13),
            a = function(t, e) { this.isOn = !1, this.count = 0, this.ticker = e || r.instance, this.duration = 60 * t, this.onComplete = new o };
        a.prototype.setDuration = function(t) { this.duration = 60 * t }, a.prototype.getDuration = function() { return this.duration / 60 }, a.prototype.start = function(t) { this.isOn || (this.ticker.add(this.update, this), this.isOn = !0), t || (this.count = 0) }, a.prototype.stop = function() { this.isOn = !1, this.ticker.remove(this.update, this) }, a.prototype.reset = function() { this.stop(), this.count = 0 }, a.prototype.getRatio = function() { return this.count / this.duration }, a.prototype.getSeconds = function() { return this.count / 60 }, a.prototype.getSecondsLeft = function() { return (this.duration - this.count) / 60 }, a.prototype.update = function() { this.count += this.ticker.deltaTime, this.count > this.duration && (this.onComplete.dispatch(), this.stop()) }, n.exports = a }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(53),
            o = i(155),
            a = i(120),
            s = i(47),
            h = i(21),
            l = i(156),
            u = i(48),
            c = i(157),
            d = i(158),
            p = i(160),
            f = i(161),
            m = i(162),
            g = i(165),
            v = i(166),
            y = i(167),
            _ = i(168),
            b = i(169),
            x = i(170),
            m = i(162);
        window.ticker = h; var w = function(t) { this.game = t, this.localStorage = new c, this.forcePromotePowerups = [], this.count = 0, this.pool = new r(o), this.activePowerups = [], this.maxPowerups = 4, this.powerups = [d, p, f, g, y, x, m], "SpeedBoost" === window.URLParams.powerup && (this.powerups = [d]), "Lightning" === window.URLParams.powerup && (this.powerups = [f]), "Freeze" === window.URLParams.powerup && (this.powerups = [g]), "Fireball" === window.URLParams.powerup && (this.powerups = [v]), "Shrinkatron" === window.URLParams.powerup && (this.powerups = [y]), "Shield" === window.URLParams.powerup && (this.powerups = [p]), "Remoteball" === window.URLParams.powerup && (this.powerups = [_]), "Snowball" === window.URLParams.powerup && (this.powerups = [x]), "Banana" === window.URLParams.powerup && (this.powerups = [m]), this.paused = !1, this.onPowerupActivated = new l, this.firstRun = !0, this.firstRunCount = 0, this.powerupTime = 10, window.URLParams.powerupDebug && (this.count = this.powerupTime, this.powerupTime = 2), this.powerupStates = {}, this.world = null, a.call(this, 400, 50, null, null); var e = JSON.parse(this.localStorage.get("encounterPowerups")) || null;
            e && Object.keys(e).length === Object.keys(this.powerups).length || (defaultEncounterData = { SpeedBoost: !0, Shield: !0, Lighting: !0, Freeze: !0, Shrinkatron: !0, Snowball: !1, Banana: !1 }, this.localStorage.store("encounterPowerups", JSON.stringify(defaultEncounterData)), e = defaultEncounterData); for (var i in e) e[i] === !1 && this.forcePromotePowerups.push(this.powerups[Object.keys(e).indexOf(i)]) };
        w.constructor = w, w.prototype = Object.create(a.prototype), w.prototype.pause = function() { this.paused = !0 }, w.prototype.resume = function() { this.paused = !1 }, w.prototype.clear = function() { this.count = 0; var t = this.world.groups.pickup;
            t && t.run(function(t) { t.destroy() }, this) }, w.prototype.update = function() { if (!this.paused && (this.count += h.game.deltaTime / 60, this.count >= this.powerupTime)) { var t = this.world.groups.pickup;
                t ? t.children.length < this.maxPowerups && 0 == this.activePowerups.length && this.addPickup() : this.addPickup() } }, w.prototype.encounterPowerup = function(t) { var e = JSON.parse(this.localStorage.get("encounterPowerups")),
                i = this.powerups.indexOf(t);
            e[Object.keys(e)[i]] = !0, this.localStorage.store("encounterPowerups", JSON.stringify(e)) }, w.prototype.addPickup = function() { this.count = 0; var t = r.getObject(o); if (t.timer = 0, t.position.x = s.random(400, 1200), t.position.y = s.random(250, 650), u.isTournament && Math.random() <= .4) t.reset(b);
            else { var e; if (0 !== this.forcePromotePowerups.length) e = this.forcePromotePowerups.shift(), this.encounterPowerup(e);
                else { var i = Math.random() * this.powerups.length | 0;
                    e = this.powerups[i] } t.reset(e) } this.world.add(t) }, w.prototype.onPickupActivate = function(t) { t = t || this.cachePickup }, w.prototype.reset = function(t) { for (var e = 0; e < this.pickups.length; e++) { var i = this.pickups[e];
                this.game.world.remove(i), GameObjectPool.returnObject(i) } this.powerups = t.powerups, this.paused = !1 }, n.exports = w }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(13),
            o = i(120),
            a = i(122),
            s = (i(21), i(111)),
            h = (i(124), i(30)),
            l = i(34),
            u = function() { var t = new PIXI.DisplayObjectContainer,
                    e = new a.CrashBody.fromRect((-20), (-20), 40, 40);
                o.call(this, 0, 0, t, e), this.type = 4, this.timer = 0, this.tick = 100 * Math.random(), this.onDead = new r, this.onPickedup = new r, e.position = this.position, this.height = 300; var i = s.getMesh("pickup_box.png");
                this.view3d = i, i.scale.x = i.scale.y = i.scale.z = .2, i.rotation.x = window.test - Math.PI, this.powerup = null, this.groups = ["pickup"], this.shadow = s.getMesh(window.app.getFilePath(ASSET_URL + "img/game/game_objects/ball-shadow.png"), .5, .5), this.shadow.position.z = 10, i.material.depthTest = !1, this.shadow.scale.x = this.shadow.scale.y = this.shadow.scale.z = .1, this.shadow.position.z = -6, this.pickupEffect = PIXI.Sprite.from("pickup_00000.png"), this.pickupEffect.anchor.set(.5), this.pickupEffect.blendMode = PIXI.BLEND_MODES.ADD, this.pickupFrames = l.getTexturesFromFramesWithPrefix("pickup_000%%.png", 6), this.frameTick = 0, this.pickedUp = !1 };
        u.prototype = Object.create(o.prototype), u.prototype.setType = function(t) { this.powerup && this.view.removeChild(this.powerup.icon), this.powerup = t, this.view3d.position.x = this.position.x, this.view3d.position.y = this.position.y }, u.prototype.addedToWorld = function() { this.world.view3d.scene.add(this.shadow), this.world.overlay.addChild(this.pickupEffect) }, u.prototype.removedFromWorld = function() { this.world.view3d.scene.remove(this.shadow), this.world.overlay.removeChild(this.pickupEffect) }, u.prototype.reset = function(t) { this.view3d.visible = !0, this.height = 300, this.powerup = t, this.landed = !1, this.view3d.position.z = 300, this.canCollide = !0, this.pickupEffect.visible = !1, this.shadow.visible = !0, this.pickedUp = !1, t.customIcon ? (s.setUvs(this.view3d, PIXI.Texture.from(window.app.getFilePath(t.customIcon)), .5, .85), this.view3d.scale.x = this.view3d.scale.y = this.view3d.scale.z = .2) : (s.setUvs(this.view3d, PIXI.Texture.from("pickup_box.png"), .5, .85), this.view3d.scale.x = this.view3d.scale.y = this.view3d.scale.z = .2), this.shadow.scale.x = this.shadow.scale.y = this.shadow.scale.z = 0, TweenLite.to(this.view3d.position, 1.5, { z: 2, ease: Bounce.easeOut }), TweenLite.to(this.shadow.scale, 1.5, { x: .32, y: .32, z: .32, ease: Bounce.easeOut }) }, u.prototype.update = function() { if (this.timer++, this.timer >= 1e4 && this.destroy(), this.view3d.position.x = this.position.x, this.view3d.position.y = this.position.y, this.shadow.position.x = this.view3d.position.x, this.shadow.position.y = this.view3d.position.y - 5, this.view3d.rotation.x = window.test - Math.PI, this.tick += .1, this.view3d.rotation.z = .1 * Math.sin(1.6 * this.tick), this.view3d.scale.x = .2 + .01 * Math.sin(this.tick), this.view3d.scale.y = .2 + .01 * Math.cos(this.tick), this.pickedUp) { var t = this.world.view3d.toScreenPosition(this); if (this.pickupEffect.position.x = t.x, this.pickupEffect.position.y = t.y, this.frameTick > this.pickupFrames.length || this.powerup.noAnimation) this.destroy();
                else { var e = this.pickupFrames[0 | this.frameTick];
                    this.pickupEffect._texture = e, this.frameTick += .4 } } }, u.prototype.activate = function() { this.onPickedup.dispatch(this) }, u.prototype.onCollideBegin = function(t) { var e = t.getOtherObject(this); if (t.ignore = !0, "player" === e.name) { if (this.powerup.onlyPlayer && e.isTeamA) return; if (this.powerup.onlyPlayer && !e.isTeamA && this.world.game.teamManagerA.activePlayer !== e) return; if (!e.isTeamA && this.world.game.teamManagerA.activePlayer !== e) return; if (e.isTeamA && this.world.game.teamManagerB.activePlayer !== e) return; if (e.isTeamA && !e.ballSkills.ball) return; var i = this.world.view3d.toScreenPosition(this);
                h.sfx.playGroup("croudHappy"); var n = 30,
                    r = i.x,
                    o = i.y - 50,
                    a = !1;
                r < n || r > 1136 - n ? a = !0 : (o < n || o > 745 - n) && (a = !0), a || (this.pickedUp = !0, this.canCollide = !1, this.view3d.visible = !1, this.shadow.visible = !1, this.frameTick = 0, this.pickupEffect.visible = !0, e.setPowerUp(this.powerup), e.isTeamA || this.world.game.teamManagerA.activePlayer !== e || this.powerup.noMessage || this.world.game.hud.message.show("POWERUP", { name: this.powerup.displayName })) } }, n.exports = u }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;! function(r) {
        function o(t, e, i, n, r) { this._listener = e, this._isOnce = i, this.context = n, this._signal = t, this._priority = r || 0 }

        function a(t, e) { if ("function" != typeof t) throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}", e)) }

        function s() { this._bindings = [], this._prevParams = null; var t = this;
            this.dispatch = function() { s.prototype.dispatch.apply(t, arguments) } } o.prototype = { active: !0, params: null, execute: function(t) { var e, i; return this.active && this._listener && (i = this.params ? this.params.concat(t) : t, e = this._listener.apply(this.context, i), this._isOnce && this.detach()), e }, detach: function() { return this.isBound() ? this._signal.remove(this._listener, this.context) : null }, isBound: function() { return !!this._signal && !!this._listener }, isOnce: function() { return this._isOnce }, getListener: function() { return this._listener }, getSignal: function() { return this._signal }, _destroy: function() { delete this._signal, delete this._listener, delete this.context }, toString: function() { return "[SignalBinding isOnce:" + this._isOnce + ", isBound:" + this.isBound() + ", active:" + this.active + "]" } }, s.prototype = { VERSION: "1.0.0", memorize: !1, _shouldPropagate: !0, active: !0, _registerListener: function(t, e, i, n) { var r, a = this._indexOfListener(t, i); if (a !== -1) { if (r = this._bindings[a], r.isOnce() !== e) throw new Error("You cannot add" + (e ? "" : "Once") + "() then add" + (e ? "Once" : "") + "() the same listener without removing the relationship first.") } else r = new o(this, t, e, i, n), this._addBinding(r); return this.memorize && this._prevParams && r.execute(this._prevParams), r }, _addBinding: function(t) { var e = this._bindings.length;
                do --e; while (this._bindings[e] && t._priority <= this._bindings[e]._priority);
                this._bindings.splice(e + 1, 0, t) }, _indexOfListener: function(t, e) { for (var i, n = this._bindings.length; n--;)
                    if (i = this._bindings[n], i._listener === t && i.context === e) return n; return -1 }, has: function(t, e) { return this._indexOfListener(t, e) !== -1 }, add: function(t, e, i) { return a(t, "add"), this._registerListener(t, !1, e, i) }, addOnce: function(t, e, i) { return a(t, "addOnce"), this._registerListener(t, !0, e, i) }, remove: function(t, e) { a(t, "remove"); var i = this._indexOfListener(t, e); return i !== -1 && (this._bindings[i]._destroy(), this._bindings.splice(i, 1)), t }, removeAll: function() { for (var t = this._bindings.length; t--;) this._bindings[t]._destroy();
                this._bindings.length = 0 }, getNumListeners: function() { return this._bindings.length }, halt: function() { this._shouldPropagate = !1 }, dispatch: function(t) { if (this.active) { var e, i = Array.prototype.slice.call(arguments),
                        n = this._bindings.length; if (this.memorize && (this._prevParams = i), n) { e = this._bindings.slice(), this._shouldPropagate = !0;
                        do n--; while (e[n] && this._shouldPropagate && e[n].execute(i) !== !1) } } }, forget: function() { this._prevParams = null }, dispose: function() { this.removeAll(), delete this._bindings, delete this._prevParams }, toString: function() { return "[Signal active:" + this.active + " numListeners:" + this.getNumListeners() + "]" } }; var h = s;
        h.Signal = s, n = function() { return h }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }(this) }, function(t, e, i) { var n;
    n = function(t, e, i) { var n = function(t) { this.id = t || "com.goodboydigital", this.canSave = !1; try { localStorage.setItem(this.id + ".access", !0), localStorage.removeItem(this.id + ".access", !0), this.canSave = !0 } catch (e) {} };
        n.prototype.store = function(t, e) { this.canSave && localStorage.setItem(this.id + "." + t, e) }, n.prototype.get = function(t) { if (this.canSave) return localStorage.getItem(this.id + "." + t) }, n.prototype.storeObject = function(t, e) { this.canSave && localStorage.setItem(this.id + "." + t, JSON.stringify(e)) }, n.prototype.getObject = function(t) { if (this.canSave) return JSON.parse(localStorage.getItem(this.id + "." + t)) }, n.prototype.remove = function(t) { this.canSave && localStorage.removeItem(this.id + "." + t) }, n.prototype.reset = function() { if (this.canSave)
                for (var t in localStorage) t.indexOf(this.id + ".") !== -1 && localStorage.removeItem(t) }, i.exports = n }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = (i(8), i(122), i(13), i(47), i(153)),
            o = i(21),
            a = i(159),
            s = function() { this.item = null, this.timer = new r(10, o.game), this.timer.onComplete.add(this.stop, this), this.trailEffect = new a, this.dead = !1 };
        s.displayName = "STR_POWERUP_SPEEDBOOST", s.prototype.reset = function(t) { this.trailEffect.item = t, this.item = t, this.dead = !1, this.timer.start(), this.item.speedBoost = !0, this.item.body.setMaxSpeed(4), t.world.view3d.scene.add(this.trailEffect.cloud) }, s.prototype.update = function() { this.trailEffect.update(this.item) }, s.prototype.stop = function() { this.item.speedBoost = !1, this.dead = !0, this.item.body.setMaxSpeed(3), this.item.world.view3d.scene.remove(this.trailEffect.cloud) }, n.exports = s }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = (i(8), i(13), i(47), i(9)),
            o = (i(111), ["attribute float alpha;", "attribute float random;", "uniform float tick;", "uniform float power;", "varying float valpha;", "void main() {", "    vec3 pos = position;", "    pos.z = alpha * 250.0 * mix(0.5, 1.0, random);", "    float scaleOff = mix(0.5, 1.0, random);", "    vec4 mvPosition = modelViewMatrix * vec4( pos, 1.0 );", "    valpha = 1.0-(alpha * 3.0);", "    gl_PointSize = (40.0 + (103.0 * (alpha * 3.0) ) )* 2.0 * scaleOff;", "    gl_Position = projectionMatrix * mvPosition;", "}"].join("\n")),
            a = ["uniform vec3 ucolor;", "uniform sampler2D circle;", "varying float valpha;", "void main() {", "    vec4 color = texture2D(circle, gl_PointCoord);", "    gl_FragColor = vec4(color.rgb, color.a * valpha * 0.5);", "}"].join("\n"),
            s = function() { this.ratio = 0, this.totalDust = 20; var t = [];
                this.count = 0, this.targetCount = 0; for (var e = 0; e < this.totalDust; e++) t.push(140 * Math.random(), 0, 0); var i = new Float32Array(t),
                    n = new r.BufferGeometry;
                n.addAttribute("position", new r.BufferAttribute(i, 3)); for (var s = new Float32Array(n.attributes.position.count), e = 0; e < s.length; e++) s[e] = 0; for (var h = new Float32Array(n.attributes.position.count), e = 0; e < h.length; e++) h[e] = Math.random();
                n.addAttribute("alpha", new r.BufferAttribute(s, 1)), n.addAttribute("random", new r.BufferAttribute(h, 1)), this.geometry = n; var l = r.ImageUtils.loadTexture(ASSET_URL + "img/smoke_mixed.png");
                uniforms = { ucolor: { type: "c", value: new r.Color(0) }, tick: { type: "f", value: 0 }, power: { type: "f", value: 0 }, circle: { type: "t", value: l } }; var u = new r.ShaderMaterial({ uniforms: uniforms, vertexShader: o, fragmentShader: a, transparent: !0, depthTest: !1 }),
                    c = new r.Points(n, u);
                c.frustumCulled = !1, this.cloud = c, this.ratio = 99, this.tick = 0 };
        s.prototype.update = function(t) { var e = this.cloud.geometry.getAttribute("position"),
                i = this.cloud.geometry.getAttribute("alpha"),
                n = e.array,
                r = i.array;
            this.count += .5, this.count %= this.totalDust, this.targetCount; var o = t.body.velocity.length(); if (!(this.count % 1) && o > 3) { var a = t.position.x;
                t.body.velocity.x > 0 ? a -= 20 : a += 20, n[3 * this.count] = a + 10 * (Math.random() - .5), n[3 * this.count + 1] = t.position.y, r[this.count] = 0 } for (var s = 0; s < this.totalDust; s++) r[s] += .01;
            e.needsUpdate = !0, i.needsUpdate = !0 }, n.exports = s }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = (i(122), i(13), i(47), i(153)),
            a = i(21),
            s = (i(111), null),
            h = function() { if (this.item = null, this.timer = new o(8, a.game), this.timer.onComplete.add(this.stop, this), !s) { s = []; for (var t = 0; t < 40; t++) { var e = t;
                        e < 10 && (e = "0" + e); var i = r.Texture.from(ASSET_URL + "img/game/shield/shield_" + e + ".png"),
                            n = new THREE.Texture;
                        n.image = i.baseTexture.source, n.needsUpdate = !0, s.push(n) } } var h = new THREE.SphereGeometry(20, 32, 32),
                    l = s[0],
                    u = new THREE.MeshBasicMaterial({ map: l });
                u.side = THREE.DoubleSide, u.blending = THREE.AdditiveBlending, u.transparent = !0, u.alphaTest = .25; var c = new THREE.Mesh(h, u);
                this.shieldView = new THREE.Object3D, this.shieldView.position.y = 30, this.shieldView.position.z = 100, this.ball = c, this.count = 0, this.dead = !1; var i = r.Texture.from(window.app.getFilePath(ASSET_URL + "img/game/shield_bubble.png")),
                    n = new THREE.Texture;
                n.image = i.baseTexture.source, n.needsUpdate = !0; var u = new THREE.MeshBasicMaterial({ map: n });
                u.side = THREE.DoubleSide, u.blending = THREE.AdditiveBlending, u.transparent = !0, u.depthTest = !1, u.opacity = .5; var h = new THREE.PlaneGeometry(60, 60),
                    d = new THREE.Mesh(h, u);
                d.rotation.x = window.test - Math.PI, this.outline = d, this.shieldView.scale.x = this.shieldView.scale.y = this.shieldView.scale.z = 9, this.shieldView.add(c), this.shieldView.add(this.outline) };
        h.displayName = "STR_POWERUP_SHIELD", h.prototype.reset = function(t) { this.item = t, this.dead = !1, this.timer.start(), this.item.canBeTackled = !1, this.item.view3d.add(this.shieldView) }, h.prototype.update = function() { this.ball.rotation.y += .02, this.ball.rotation.x += .02, this.count += 1, this.ball.material.map = s[(0 | this.count) % s.length], this.ball.material.opacity = .2 + .5 * (Math.sin(.1 * this.count) + 1) * .6, this.ball.material.needsUpdate = !0 }, h.prototype.stop = function(t) { this.item.canBeTackled = !0, this.dead = !0, this.item.view3d.remove(this.shieldView) }, n.exports = h }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = (i(8), i(122), i(13), i(47)),
            o = i(153),
            a = i(21),
            s = i(9),
            h = i(111),
            l = i(120),
            u = i(34),
            c = i(53),
            d = i(30),
            p = function() { this.item = null, this.timer = new o(10, a.game), this.timer.onComplete.add(this.stop, this), this.dead = !1 };
        p.displayName = "STR_POWERUP_LIGHTNING", p.prototype.reset = function(t) { var e = t.isTeamA ? t.world.game.teamLeft : t.world.game.teamRight;
            d.sfx.play("electro_cute"), e.run(function(t) { if (t.ballSkills.ball) { var e = Math.random() * Math.PI * 2;
                    t.ballSkills.pass(Math.sin(e), Math.cos(e), 5, 10) } t.fallOver(), t.fallWait = -30; var i = c.get(m);
                i.reset(t), t.world.add(i) }, this) }, p.prototype.update = function() {}, p.prototype.stop = function() {}, n.exports = p; var f, m = function() { l.call(this), this.view3d = new s.Object3D; var t = h.getMesh("lightning_03.png", .5, 0);
            this.view3d.scale.x = this.view3d.scale.y = this.view3d.scale.z = .22, this.light = t, t.material.blending = s.AdditiveBlending, this.view3d.add(t), this.view3d.rotation.x = -Math.PI / 2, this.tick = 0, f || (f = u.getTexturesFromFrames(["lightning_01.png", "lightning_02.png", "lightning_03.png", "lightning_04.png"])), this.life = 0, this.target = null };
        m.prototype = Object.create(l.prototype), m.prototype.reset = function(t) { this.target = t, this.life = 0, this.position.x = t.position.x, this.position.y = t.position.y + 30 }, m.prototype.update = function() { this.view3d.position.x = this.position.x, this.view3d.position.y = this.position.y, this.tick += .5, h.setUvs(this.light, f[this.tick % f.length | 0], .5, 0), this.target.view3d.rotation.y = r.random(-.3, .3), this.life++, this.life > 100 && (this.destroy(), this.target.view3d.rotation.y = 0) } }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(153),
            o = i(21),
            a = i(111),
            s = i(34),
            h = i(53),
            l = i(163),
            u = function() { this.item = null, this.timer = new r(10, o.game), this.timer.onComplete.add(this.stop, this), this.tick = 0, this.bananas = [], this.bananaSplats = [], this.bananaCount = 0; var t = 3;
                this.bananaAnimTextures = s.getTexturesFromFrames(["banana_peel_01.png", "banana_peel_02.png", "banana_peel_03.png", "banana_peel_04.png"]); for (var e = 0; e < t; e++) { var i = new THREE.Object3D;
                    i.position.x = 0, i.position.y = 0, i.position.z = 0, i.rotation.x = window.test - Math.PI, i.scale.x = i.scale.y = i.scale.z = .5, i.tick = 2 * Math.PI / t * e; var n = a.getMesh("banana_peel_shadow.png", .5, .5);
                    n.material.opacity = .5, i.add(n); var h = a.getMesh("banana_peel_01.png", .5, .5);
                    i.add(h), i.anim = h, this.bananas.push(i) } this.bananaCount = t };
        u.displayName = "STR_POWERUP_BANANA", u.prototype.reset = function(t) { this.item = t, this.item.canBeTackled = !1, this.item.setBananaHitbox(), this.dead = !1, this.timer.start(); for (var e = 0; e < this.bananas.length; e++) t.view3d.add(this.bananas[e]);
            this.bananaCount = this.bananas.length }, u.prototype.update = function() { this.tick += .2; for (var t = 150, e = 0; e < this.bananas.length; e++) { var i = this.bananas[e];
                i.tick += .06, i.position.x = Math.sin(i.tick) * t, i.position.y = Math.cos(i.tick) * t, a.setUvs(i.anim, this.bananaAnimTextures[this.tick % this.bananaAnimTextures.length | 0], .5, .5) } for (var e = 0; e < this.bananaSplats.length; e++) this.bananaSplats[e].update() }, u.prototype.stop = function() { if (this.dead = !0, !(this.bananaCount <= 0))
                for (var t = 0; t < this.bananaCount; t++) this.item.view3d.remove(this.bananas[t]) }, u.prototype.splatPlayer = function(t) { this.item.view3d.remove(this.bananas[this.bananaCount - 1]), this.bananaCount--, this.bananaCount <= 0 && (this.item.canBeTackled = !0); var e = h.get(l);
            e.banana = this, e.reset(t), t.view3d.add(e.view3d), this.bananaSplats.push(e) }, n.exports = u }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(111),
            a = i(34),
            s = i(120),
            h = i(24),
            l = i(164),
            u = l.TweenLite,
            c = function() { s.call(this), this.view3d = new THREE.Object3D, this.view3d.position.y = -40, this.view3d.rotation.x = window.test - Math.PI, this.bananaSplatAnim = new r.extras.MovieClip(a.getTexturesFromFrames(["banana_splat_01.png", "banana_splat_02.png", "banana_splat_03.png", "banana_splat_04.png", "banana_splat_05.png"])), this.bananaSplatAnim.animationSpeed = .15, this.bananaSplatAnim.loop = !1, this.bananaSplatAnim.onComplete = function() { this.bananaSplatAnimMesh.visible = !1 }.bind(this), this.bananaFlyingAnim = new r.extras.MovieClip(a.getTexturesFromFrames(["banana_peel_01.png", "banana_peel_02.png", "banana_peel_03.png", "banana_peel_04.png", "banana_peel_01.png", "banana_peel_02.png", "banana_peel_03.png", "banana_peel_04.png", "banana_peel_01.png", "banana_peel_02.png", "banana_peel_03.png", "banana_peel_04.png", "banana_peel_01.png", "banana_peel_02.png", "banana_peel_03.png", "banana_peel_04.png"])), this.bananaFlyingAnim.animationSpeed = .4, this.bananaFlyingAnim.loop = !1, this.bananaFlyingAnim.onComplete = function() { this.bananaFlyingAnimMesh.visible = !1 }.bind(this), this.bananaPuddle = o.getMesh("banana_splat.png", 0, 0), this.bananaPuddle.position.y = -25, this.bananaPuddle.position.x = 8, this.bananaPuddle.position.z = 60, this.bananaPuddle.rotation.x = 40, this.view3d.add(this.bananaPuddle), this.target = null, this.vfxContainer = new THREE.Object3D, this.vfxContainer.position.x = 160, this.vfxContainer.position.y = 135, this.vfxContainer.position.z = -180, this.view3d.add(this.vfxContainer), this.bananaSplatAnimMesh = new o.getMesh, this.bananaSplatAnimMesh.visible = !1, this.bananaFlyingAnimMesh = new o.getMesh, this.bananaFlyingAnimMesh.visible = !1, this.vfxContainer.add(this.bananaSplatAnimMesh), this.vfxContainer.add(this.bananaFlyingAnimMesh), this.originalPositionX = this.bananaFlyingAnimMesh.position.x, this.originalPositionY = this.bananaFlyingAnimMesh.position.y };
        c.prototype = Object.create(s.prototype), c.prototype.reset = function(t) { this.target = t, this.target.bananaPowerup = this.banana, this.view3d.position.x = 0, this.bananaSplatAnim.gotoAndPlay(0), this.bananaFlyingAnim.gotoAndPlay(0), o.setUvs(this.bananaSplatAnimMesh, this.bananaSplatAnim.texture), o.setUvs(this.bananaFlyingAnimMesh, this.bananaFlyingAnim.texture), this.bananaSplatAnimMesh.visible = !0, this.bananaFlyingAnimMesh.visible = !0, u.killTweensOf(this.bananaFlyingAnimMesh.rotation), u.killTweensOf(this.bananaFlyingAnimMesh.material), u.killTweensOf(this.bananaFlyingAnimMesh.position), u.killTweensOf(this.bananaFlyingAnimMesh.scale), u.killTweensOf(this.bananaPuddle.scale), u.killTweensOf(this.bananaPuddle.material), this.bananaFlyingAnimMesh.rotation.z = 0, this.bananaFlyingAnimMesh.material.opacity = 1, this.bananaFlyingAnimMesh.scale.x = .6, this.bananaFlyingAnimMesh.scale.y = .6, this.bananaPuddle.scale.x = this.bananaPuddle.scale.y = this.bananaPuddle.scale.z = 0, this.bananaPuddle.material.opacity = 1; var e = 1e3 * Math.random() * (Math.random() > .5 ? -1 : 1),
                i = -(200 * Math.random()) - 700;
            u.to(this.bananaFlyingAnimMesh.rotation, 1.5, { z: 4 * Math.PI, ease: Quad.easeOut }), u.to(this.bananaFlyingAnimMesh.material, 2, { opacity: 0 }), u.to(this.bananaFlyingAnimMesh.position, 1.5, { x: e, ease: Quad.easeOut }), u.to(this.bananaFlyingAnimMesh.position, 1.5, { y: i, ease: "back.out(2.5)" }), u.to(this.bananaFlyingAnimMesh.scale, 1.5, { x: 6, y: 6, ease: Quad.easeOut }), u.to(this.bananaPuddle.scale, .6, { x: 1.8, y: 1.8, z: 1.8, ease: Quad.easeOut }), u.to(this.bananaPuddle.material, .6, { opacity: 0, ease: Quad.easeOut, delay: 1, onComplete: function() { this.remove(), this.banana.bananaCount <= 0 && this.banana.stop() }.bind(this) }); var n = Math.ceil(5 * Math.random());
            SoundManager.sfx.play("sfx_banana_0" + n) }, c.prototype.remove = function() { this.target.bananaPowerup = null, this.target.view3d.remove(this.view3d), h.wait(this.returnToPool) }, c.prototype.complete = function() { this.target.reset(!0) }, c.prototype.update = function() { o.setUvs(this.bananaSplatAnimMesh, this.bananaSplatAnim.texture), o.setUvs(this.bananaFlyingAnimMesh, this.bananaFlyingAnim.texture), this.view3d.rotation.x = window.test - Math.PI }, n.exports = c }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) {
    ! function(t, i) { i(e) }(this, function(t) {
        "use strict";

        function e(t, e) { t.prototype = Object.create(e.prototype), t.prototype.constructor = t, t.__proto__ = e }

        function i(t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t }
        var n, r, o, a, s, h, l, u = { autoSleep: 120, force3D: "auto", nullTargetWarn: 1, units: { lineHeight: "" } },
            c = { duration: .5, overwrite: !1, delay: 0 },
            d = 1e8,
            p = 1 / d,
            f = 2 * Math.PI,
            m = f / 4,
            g = 0,
            v = Math.sqrt,
            y = Math.cos,
            _ = Math.sin,
            b = function(t) { return "string" == typeof t },
            x = function(t) { return "function" == typeof t },
            w = function(t) { return "number" == typeof t },
            T = function(t) { return "undefined" == typeof t },
            S = function(t) { return "object" == typeof t },
            M = function(t) { return t !== !1 },
            E = function() { return "undefined" != typeof window },
            A = function(t) { return x(t) || b(t) },
            C = Array.isArray,
            R = /(?:-?\.?\d|\.)+/gi,
            P = /[-+=\.]*\d+[\.e\-\+]*\d*[e\-\+]*\d*/gi,
            O = /[-+=\.]*\d+(?:\.|e-|e)*\d*/gi,
            L = /\(([^()]+)\)/i,
            I = /[\+-]=-?[\.\d]+/,
            D = /[#\-+\.]*\b[a-z\d-=+%.]+/gi,
            k = {},
            B = {},
            N = function(t) { return (B = lt(t, k)) && Ke },
            F = function(t, e) {},
            U = function(t, e) { return !e && void 0 },
            G = function(t, e) { return t && (k[t] = e) && B && (B[t] = e) || k },
            j = function() { return 0 },
            z = {},
            V = [],
            H = {},
            W = {},
            X = {},
            Y = 30,
            q = [],
            K = "onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",
            Z = function(t) { var e, i, n = t[0]; if (!S(n) && !x(n)) return C(t) ? t : [t]; if (!(e = (n._gsap || {}).harness)) { for (i = q.length; i-- && !q[i].targetTest(n););
                    e = q[i] } for (i = t.length; i--;) t[i]._gsap || (t[i]._gsap = new xe(t[i], e)); return t },
            J = function(t) { return t._gsap || Z(Bt(t))[0]._gsap },
            Q = function(t, e) { var i = t[e]; return x(i) ? t[e]() : T(i) && t.getAttribute(e) || i },
            $ = function(t, e) { return (t = t.split(",")).forEach(e) || t },
            tt = function(t) { return Math.round(1e4 * t) / 1e4 },
            et = function(t, e) { for (var i = e.length, n = 0; t.indexOf(e[n]) < 0 && ++n < i;); return n < i },
            it = function(t, e, i) { var n, r = w(t[1]),
                    o = (r ? 2 : 1) + (e < 2 ? 0 : 1),
                    a = t[o]; return r && (a.duration = t[1]), 1 === e ? (a.runBackwards = 1, a.immediateRender = M(a.immediateRender)) : 2 === e && (n = t[o - 1], a.startAt = n, a.immediateRender = M(a.immediateRender)), a.parent = i, a },
            nt = function() { var t, e, i = V.length,
                    n = V.slice(0); for (H = {}, V.length = 0, t = 0; t < i; t++) e = n[t], e && e._lazy && (e.render(e._lazy[0], e._lazy[1], !0)._lazy = 0) },
            rt = function(t, e, i, n) { V.length && nt(), t.render(e, i, n), V.length && nt() },
            ot = function(t) { var e = parseFloat(t); return e || 0 === e ? e : t },
            at = function(t) { return t },
            st = function(t, e) { for (var i in e) i in t || (t[i] = e[i]); return t },
            ht = function(t, e) { for (var i in e) i in t || "duration" === i || "ease" === i || (t[i] = e[i]) },
            lt = function(t, e) { for (var i in e) t[i] = e[i]; return t },
            ut = function In(t, e) { for (var i in e) t[i] = S(e[i]) ? In(t[i] || (t[i] = {}), e[i]) : e[i]; return t },
            ct = function(t, e) { var i, n = {}; for (i in t) i in e || (n[i] = t[i]); return n },
            dt = function(t) { var e = t.parent || n,
                    i = t.keyframes ? ht : st; if (M(t.inherit))
                    for (; e;) i(t, e.vars.defaults), e = e.parent; return t },
            pt = function(t, e) { for (var i = t.length, n = i === e.length; n && i-- && t[i] === e[i];); return i < 0 },
            ft = function(t, e, i, n, r) { void 0 === i && (i = "_first"), void 0 === n && (n = "_last"); var o, a = t[n]; if (r)
                    for (o = e[r]; a && a[r] > o;) a = a._prev; return a ? (e._next = a._next, a._next = e) : (e._next = t[i], t[i] = e), e._next ? e._next._prev = e : t[n] = e, e._prev = a, e.parent = t, e },
            mt = function(t, e, i, n) {
                void 0 === i && (i = "_first"), void 0 === n && (n = "_last");
                var r = e._prev,
                    o = e._next;
                r ? r._next = o : t[i] === e && (t[i] = o), o ? o._prev = r : t[n] === e && (t[n] = r), e._dp = t, e._next = e._prev = e.parent = null;
            },
            gt = function(t, e) {!t.parent || e && !t.parent.autoRemoveChildren || t.parent.remove(t), t._act = 0 },
            vt = function(t) { for (var e = t; e;) e._dirty = 1, e = e.parent; return t },
            yt = function(t) { for (var e = t.parent; e && e.parent;) e._dirty = 1, e.totalDuration(), e = e.parent; return t },
            _t = function Dn(t) { return !t || t._ts && Dn(t.parent) },
            bt = function(t) { var e; return t._repeat ? (e = t.duration() + t._rDelay) * ~~(t._tTime / e) : 0 },
            xt = function(t, e) { return e._ts > 0 ? (t - e._start) * e._ts : (e._dirty ? e.totalDuration() : e._tDur) + (t - e._start) * e._ts },
            wt = function(t, e, i) { if (e.parent && gt(e), e._start = i + e._delay, e._end = e._start + (e.totalDuration() / e._ts || 0), ft(t, e, "_first", "_last", t._sort ? "_start" : 0), t._recent = e, e._time || !e._dur && e._initted) { var n = (t.rawTime() - e._start) * e._ts;
                    (!e._dur || Pt(0, e.totalDuration(), n) - e._tTime > p) && e.render(n, !0) } if (vt(t), t._dp && t._time >= t._dur && t._ts && t._dur < t.duration())
                    for (var r = t; r._dp;) r.totalTime(r._tTime, !0), r = r._dp; return t },
            Tt = function(t, e, i, n) { return Re(t, e), t._initted ? !i && t._pt && t.vars.lazy ? (V.push(t), t._lazy = [e, n], 1) : void 0 : 1 },
            St = function(t, e, i, n) { var r, o, a, s = t._zTime < 0 ? 0 : 1,
                    h = e < 0 ? 0 : 1,
                    l = t._rDelay,
                    u = 0; if (l && t._repeat && (u = Pt(0, t._tDur, e), o = ~~(u / l), o && o === u / l && o--, a = ~~(t._tTime / l), a && a === t._tTime / l && a--, o !== a && (s = 1 - h, t.vars.repeatRefresh && t.invalidate())), (t._initted || !Tt(t, e, n, i)) && (h !== s || n)) { for (i && !e || (t._zTime = e), t.ratio = h, t._from && (h = 1 - h), t._time = 0, t._tTime = u, i || Jt(t, "onStart"), r = t._pt; r;) r.r(h, r.d), r = r._next;!h && t._startAt && !t._onUpdate && t._start && t._startAt.render(e, !0, n), t._onUpdate && !i && Jt(t, "onUpdate"), u && t._repeat && !i && t.parent && Jt(t, "onRepeat"), (e >= t._tDur || e < 0) && t.ratio === h && (t.ratio && gt(t, 1), i || (Jt(t, t.ratio ? "onComplete" : "onReverseComplete", !0), t._prom && t.ratio && t._prom())) } },
            Mt = function(t, e, i) { var n; if (i > e)
                    for (n = t._first; n && n._start <= i;) { if (!n._dur && "isPause" === n.data && n._start > e) return n;
                        n = n._next } else
                        for (n = t._last; n && n._start >= i;) { if (!n._dur && "isPause" === n.data && n._start < e) return n;
                            n = n._prev } },
            Et = function(t) { if (t instanceof Te) return vt(t); var e = t._repeat; return t._tDur = e ? e < 0 ? 1e20 : tt(t._dur * (e + 1) + t._rDelay * e) : t._dur, vt(t.parent), t },
            At = { _start: 0, endTime: j },
            Ct = function kn(t, e, i) { var n, r, o = t.labels,
                    a = t._recent || At,
                    s = t.duration() >= d ? a.endTime(!1) : t._dur; return b(e) && (isNaN(e) || e in o) ? (n = e.charAt(0), "<" === n || ">" === n ? ("<" === n ? a._start : a.endTime(a._repeat >= 0)) + (parseFloat(e.substr(1)) || 0) : (n = e.indexOf("="), n < 0 ? (e in o || (o[e] = s), o[e]) : (r = +(e.charAt(n - 1) + e.substr(n + 1)), n > 1 ? kn(t, e.substr(0, n - 1)) + r : s + r))) : null == e ? s : +e },
            Rt = function(t, e) { return t || 0 === t ? e(t) : e },
            Pt = function(t, e, i) { return i < t ? t : i > e ? e : i },
            Ot = function(t) { return (t + "").substr((parseFloat(t) + "").length) },
            Lt = function(t, e, i) { return Rt(i, function(i) { return Pt(t, e, i) }) },
            It = [].slice,
            Dt = function(t) { return S(t) && "length" in t && t.length - 1 in t && S(t[0]) && t !== r },
            kt = function(t, e, i) { return void 0 === i && (i = []), t.forEach(function(t) { var n; return b(t) && !e || Dt(t) ? (n = i).push.apply(n, Bt(t)) : i.push(t) }) || i },
            Bt = function(t, e) { return !b(t) || e || !o && le() ? C(t) ? kt(t, e) : Dt(t) ? It.call(t, 0) : t ? [t] : [] : It.call(a.querySelectorAll(t), 0) },
            Nt = function(t) { if (x(t)) return t; var e = S(t) ? t : { each: t },
                    i = ge(e.ease),
                    n = e.from || 0,
                    r = parseFloat(e.base) || 0,
                    o = {},
                    a = n > 0 && n < 1,
                    s = isNaN(n) || a,
                    h = e.axis,
                    l = n,
                    u = n; return b(n) ? l = u = { center: .5, edges: .5, end: 1 } [n] || 0 : !a && s && (l = n[0], u = n[1]),
                    function(t, a, c) { var p, f, m, g, y, _, b, x, w, T = (c || e).length,
                            S = o[T]; if (!S) { if (w = "auto" === e.grid ? 0 : (e.grid || [1, d])[1], !w) { for (b = -d; b < (b = c[w++].getBoundingClientRect().left) && w < T;);
                                w-- } for (S = o[T] = [], p = s ? Math.min(w, T) * l - .5 : n % w, f = s ? T * u / w - .5 : n / w | 0, b = 0, x = d, _ = 0; _ < T; _++) m = _ % w - p, g = f - (_ / w | 0), S[_] = y = h ? Math.abs("y" === h ? g : m) : v(m * m + g * g), y > b && (b = y), y < x && (x = y);
                            S.max = b - x, S.min = x, S.v = T = (parseFloat(e.amount) || parseFloat(e.each) * (w > T ? T - 1 : h ? "y" === h ? T / w : w : Math.max(w, T / w)) || 0) * ("edges" === n ? -1 : 1), S.b = T < 0 ? r - T : r, S.u = Ot(e.amount || e.each) || 0, i = i && T < 0 ? me(i) : i } return T = (S[t] - S.min) / S.max || 0, tt(S.b + (i ? i(T) : T) * S.v) + S.u } },
            Ft = function(t) { var e = t < 1 ? Math.pow(10, (t + "").length - 2) : 1; return function(i) { return ~~(Math.round(parseFloat(i) / t) * t * e) / e + (w(i) ? 0 : Ot(i)) } },
            Ut = function(t, e) { var i, n, r = C(t); return !r && S(t) && (i = r = t.radius || d, t = Bt(t.values), (n = !w(t[0])) && (i *= i)), Rt(e, r ? function(e) { for (var r, o, a = parseFloat(n ? e.x : e), s = parseFloat(n ? e.y : 0), h = d, l = 0, u = t.length; u--;) n ? (r = t[u].x - a, o = t[u].y - s, r = r * r + o * o) : r = Math.abs(t[u] - a), r < h && (h = r, l = u); return l = !i || h <= i ? t[l] : e, n || l === e || w(e) ? l : l + Ot(e) } : Ft(t)) },
            Gt = function(t, e, i, n) { return Rt(C(t) ? !e : !n, function() { return C(t) ? t[~~(Math.random() * t.length)] : (i = i || 1e-5) && (n = i < 1 ? Math.pow(10, (i + "").length - 2) : 1) && ~~(Math.round((t + Math.random() * (e - t)) / i) * i * n) / n }) },
            jt = function() { for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] = arguments[i]; return function(t) { return e.reduce(function(t, e) { return e(t) }, t) } },
            zt = function(t, e) { return function(i) { return t(parseFloat(i)) + (e || Ot(i)) } },
            Vt = function(t, e, i) { return qt(t, e, 0, 1, i) },
            Ht = function(t, e, i) { return Rt(i, function(i) { return t[~~e(i)] }) },
            Wt = function Bn(t, e, i) { var n = e - t; return C(t) ? Ht(t, Bn(0, t.length), e) : Rt(i, function(e) { return (n + (e - t) % n) % n + t }) },
            Xt = function Nn(t, e, i) { var n = e - t,
                    r = 2 * n; return C(t) ? Ht(t, Nn(0, t.length - 1), e) : Rt(i, function(e) { return e = (r + (e - t) % r) % r, t + (e > n ? r - e : e) }) },
            Yt = function(t) { for (var e, i, n, r, o = 0, a = ""; ~(e = t.indexOf("random(", o));) n = t.indexOf(")", e), r = "[" === t.charAt(e + 7), i = t.substr(e + 7, n - e - 7).match(r ? D : R), a += t.substr(o, e - o) + Gt(r ? i : +i[0], +i[1], +i[2] || 1e-5), o = n + 1; return a + t.substr(o, t.length - o) },
            qt = function(t, e, i, n, r) { var o = e - t,
                    a = n - i; return Rt(r, function(e) { return i + (e - t) / o * a }) },
            Kt = function Fn(t, e, i, n) { var r = isNaN(t + e) ? 0 : function(i) { return (1 - i) * t + i * e }; if (!r) { var o, a, s, h, l, u = b(t),
                        c = {}; if (i === !0 && (n = 1) && (i = null), u) t = { p: t }, e = { p: e };
                    else if (C(t) && !C(e)) { for (s = [], h = t.length, l = h - 2, a = 1; a < h; a++) s.push(Fn(t[a - 1], t[a]));
                        h--, r = function(t) { t *= h; var e = Math.min(l, ~~t); return s[e](t - e) }, i = e } else n || (t = lt(C(t) ? [] : {}, t)); if (!s) { for (o in e) Ee.call(c, t, o, "get", e[o]);
                        r = function(e) { return Ve(e, c) || (u ? t.p : t) } } } return Rt(i, r) },
            Zt = function(t, e, i) { var n, r, o, a = t.labels,
                    s = d; for (n in a) r = a[n] - e, r < 0 == !!i && r && s > (r = Math.abs(r)) && (o = n, s = r); return o },
            Jt = function(t, e, i) { var n, r, o = t.vars,
                    a = o[e]; if (a) return n = o[e + "Params"], r = o.callbackScope || t, i && V.length && nt(), n ? a.apply(r, n) : a.call(r, t) },
            Qt = function(t) { return gt(t), t.progress() < 1 && Jt(t, "onInterrupt"), t },
            $t = function(t) { t = !t.name && t["default"] || t; var e = t.name,
                    i = x(t),
                    n = e && !i && t.init ? function() { this._props = [] } : t,
                    r = { init: j, render: Ve, add: Ee, kill: We, modifier: He, rawVars: 0 },
                    o = { targetTest: 0, get: 0, getSetter: Ue, aliases: {}, register: 0 }; if (le(), t !== n) { if (W[e]) return;
                    st(n, st(ct(t, r), o)), lt(n.prototype, lt(r, ct(t, o))), W[n.prop = e] = n, t.targetTest && (q.push(n), z[e] = 1), e = ("css" === e ? "CSS" : e.charAt(0).toUpperCase() + e.substr(1)) + "Plugin" } G(e, n), t.register && t.register(Ke, n, qe) },
            te = 255,
            ee = { aqua: [0, te, te], lime: [0, te, 0], silver: [192, 192, 192], black: [0, 0, 0], maroon: [128, 0, 0], teal: [0, 128, 128], blue: [0, 0, te], navy: [0, 0, 128], white: [te, te, te], olive: [128, 128, 0], yellow: [te, te, 0], orange: [te, 165, 0], gray: [128, 128, 128], purple: [128, 0, 128], green: [0, 128, 0], red: [te, 0, 0], pink: [te, 192, 203], cyan: [0, te, te], transparent: [te, te, te, 0] },
            ie = function(t, e, i) { return t = t < 0 ? t + 1 : t > 1 ? t - 1 : t, (6 * t < 1 ? e + (i - e) * t * 6 : t < .5 ? i : 3 * t < 2 ? e + (i - e) * (2 / 3 - t) * 6 : e) * te + .5 | 0 },
            ne = function(t, e) { var i, n, r, o, a, s, h, l, u, c, d = t ? w(t) ? [t >> 16, t >> 8 & te, t & te] : 0 : ee.black; if (!d) { if ("," === t.substr(-1) && (t = t.substr(0, t.length - 1)), ee[t]) d = ee[t];
                    else if ("#" === t.charAt(0)) 4 === t.length && (i = t.charAt(1), n = t.charAt(2), r = t.charAt(3), t = "#" + i + i + n + n + r + r), t = parseInt(t.substr(1), 16), d = [t >> 16, t >> 8 & te, t & te];
                    else if ("hsl" === t.substr(0, 3))
                        if (d = c = t.match(R), e) { if (~t.indexOf("=")) return t.match(P) } else o = +d[0] % 360 / 360, a = +d[1] / 100, s = +d[2] / 100, n = s <= .5 ? s * (a + 1) : s + a - s * a, i = 2 * s - n, d.length > 3 && (d[3] *= 1), d[0] = ie(o + 1 / 3, i, n), d[1] = ie(o, i, n), d[2] = ie(o - 1 / 3, i, n);
                    else d = t.match(R) || ee.transparent;
                    d = d.map(Number) } return e && !c && (i = d[0] / te, n = d[1] / te, r = d[2] / te, h = Math.max(i, n, r), l = Math.min(i, n, r), s = (h + l) / 2, h === l ? o = a = 0 : (u = h - l, a = s > .5 ? u / (2 - h - l) : u / (h + l), o = h === i ? (n - r) / u + (n < r ? 6 : 0) : h === n ? (r - i) / u + 2 : (i - n) / u + 4, o *= 60), d[0] = o + .5 | 0, d[1] = 100 * a + .5 | 0, d[2] = 100 * s + .5 | 0), d },
            re = function(t, e) { var i, n, r, o = (t + "").match(oe),
                    a = 0,
                    s = ""; if (!o) return t; for (i = 0; i < o.length; i++) n = o[i], r = t.substr(a, t.indexOf(n, a) - a), a += r.length + n.length, n = ne(n, e), 3 === n.length && n.push(1), s += r + (e ? "hsla(" + n[0] + "," + n[1] + "%," + n[2] + "%," + n[3] : "rgba(" + n.join(",")) + ")"; return s + t.substr(a) },
            oe = function() { var t, e = "(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3}){1,2}\\b"; for (t in ee) e += "|" + t + "\\b"; return new RegExp(e + ")", "gi") }(),
            ae = /hsl[a]?\(/,
            se = function(t) { var e, i = t.join(" ");
                oe.lastIndex = 0, oe.test(i) && (e = ae.test(i), t[0] = re(t[0], e), t[1] = re(t[1], e)) },
            he = function() { var t, e, i, n, h = Date.now,
                    u = 500,
                    c = 33,
                    d = h(),
                    f = d,
                    m = 1 / 60,
                    g = m,
                    v = [],
                    y = function _(i) { var r, o, a = h() - f,
                            s = i === !0;
                        a > u && (d += a - c), f += a, n.time = (f - d) / 1e3, r = n.time - g, (r > 0 || s) && (n.frame++, g += r + (r >= m ? .004 : m - r), o = 1), s || (t = e(_)), o && v.forEach(function(t) { return t(n.time, a, n.frame, i) }) }; return n = { time: 0, frame: 0, tick: function() { y(!0) }, wake: function() { s && (!o && E() && (r = o = window, a = r.document || {}, k.gsap = Ke, (r.gsapVersions || (r.gsapVersions = [])).push(Ke.version), N(B || r.GreenSockGlobals || !r.gsap && r || {}), i = r.requestAnimationFrame), t && n.sleep(), e = i || function(t) { return setTimeout(t, 1e3 * (g - n.time) + 1 | 0) }, l = 1, y(2)) }, sleep: function() {
                        (i ? r.cancelAnimationFrame : clearTimeout)(t), l = 0, e = j }, lagSmoothing: function(t, e) { u = t || 1 / p, c = Math.min(e, u, 0) }, fps: function(t) { m = 1 / (t || 60), g = n.time + m }, add: function(t) { v.indexOf(t) < 0 && v.push(t), le() }, remove: function(t) { var e;~(e = v.indexOf(t)) && v.splice(e, 1) }, _listeners: v } }(),
            le = function() { return !l && he.wake() },
            ue = {},
            ce = /^[\d.\-M][\d.\-,\s]/,
            de = /["']/g,
            pe = function(t) { for (var e, i, n, r = {}, o = t.substr(1, t.length - 3).split(":"), a = o[0], s = 1, h = o.length; s < h; s++) i = o[s], e = s !== h - 1 ? i.lastIndexOf(",") : i.length, n = i.substr(0, e), r[a] = isNaN(n) ? n.replace(de, "").trim() : +n, a = i.substr(e + 1).trim(); return r },
            fe = function(t) { var e = (t + "").split("("),
                    i = ue[e[0]]; return i && e.length > 1 && i.config ? i.config.apply(null, ~t.indexOf("{") ? [pe(e[1])] : L.exec(t)[1].split(",").map(ot)) : ue._CE && ce.test(t) ? ue._CE("", t) : i },
            me = function(t) { return function(e) { return 1 - t(1 - e) } },
            ge = function(t, e) { return t ? (x(t) ? t : ue[t] || fe(t)) || e : e },
            ve = function(t, e, i, n) { void 0 === i && (i = function(t) { return 1 - e(1 - t) }), void 0 === n && (n = function(t) { return t < .5 ? e(2 * t) / 2 : 1 - e(2 * (1 - t)) / 2 }); var r, o = { easeIn: e, easeOut: i, easeInOut: n }; return $(t, function(t) { ue[t] = k[t] = o, ue[r = t.toLowerCase()] = i; for (var e in o) ue[r + ("easeIn" === e ? ".in" : "easeOut" === e ? ".out" : ".inOut")] = ue[t + "." + e] = o[e] }), o },
            ye = function(t) { return function(e) { return e < .5 ? (1 - t(1 - 2 * e)) / 2 : .5 + t(2 * (e - .5)) / 2 } },
            _e = function Un(t, e, i) { var n = e >= 1 ? e : 1,
                    r = (i || (t ? .3 : .45)) / (e < 1 ? e : 1),
                    o = r / f * (Math.asin(1 / n) || 0),
                    a = function(t) { return 1 === t ? 1 : n * Math.pow(2, -10 * t) * _((t - o) * r) + 1 },
                    s = "out" === t ? a : "in" === t ? function(t) { return 1 - a(1 - t) } : ye(a); return r = f / r, s.config = function(e, i) { return Un(t, e, i) }, s },
            be = function Gn(t, e) { void 0 === e && (e = 1.70158); var i = function(t) { return --t * t * ((e + 1) * t + e) + 1 },
                    n = "out" === t ? i : "in" === t ? function(t) { return 1 - i(1 - t) } : ye(i); return n.config = function(e) { return Gn(t, e) }, n };
        $("Linear,Quad,Cubic,Quart,Quint,Strong", function(t, e) { var i = e < 5 ? e + 1 : e;
                ve(t + ",Power" + (i - 1), e ? function(t) { return Math.pow(t, i) } : function(t) { return t }, function(t) { return 1 - Math.pow(1 - t, i) }, function(t) { return t < .5 ? Math.pow(2 * t, i) / 2 : 1 - Math.pow(2 * (1 - t), i) / 2 }) }), ue.Linear.easeNone = ue.none = ue.Linear.easeIn, ve("Elastic", _e("in"), _e("out"), _e()),
            function(t, e) { var i = 1 / e,
                    n = 2 * i,
                    r = 2.5 * i,
                    o = function(o) { return o < i ? t * o * o : o < n ? t * Math.pow(o - 1.5 / e, 2) + .75 : o < r ? t * (o -= 2.25 / e) * o + .9375 : t * Math.pow(o - 2.625 / e, 2) + .984375 };
                ve("Bounce", function(t) { return 1 - o(1 - t) }, o) }(7.5625, 2.75), ve("Expo", function(t) { return t ? Math.pow(2, 10 * (t - 1)) : 0 }), ve("Circ", function(t) { return -(v(1 - t * t) - 1) }), ve("Sine", function(t) { return -y(t * m) + 1 }), ve("Back", be("in"), be("out"), be()), ue.SteppedEase = ue.steps = k.SteppedEase = { config: function(t, e) { void 0 === t && (t = 1); var i = 1 / t,
                        n = t + (e ? 0 : 1),
                        r = e ? 1 : 0,
                        o = 1 - p; return function(t) { return ((n * Pt(0, o, t) | 0) + r) * i } } }, c.ease = ue["quad.out"];
        var xe = function(t, e) { this.id = g++, t._gsap = this, this.target = t, this.harness = e, this.get = e ? e.get : Q, this.set = e ? e.getSetter : Ue },
            we = function() {
                function t(t, e) { var i = t.parent || n;
                    this.vars = t, this._dur = this._tDur = +t.duration || 0, this._delay = +t.delay || 0, (this._repeat = t.repeat || 0) && (this._rDelay = t.repeatDelay || 0, this._yoyo = !!t.yoyo || !!t.yoyoEase, Et(this)), this._ts = 1, this.data = t.data, l || he.wake(), i && wt(i, this, e || 0 === e ? e : i._time), t.reversed && this.reversed(!0), t.paused && this.paused(!0) } var e = t.prototype; return e.delay = function(t) { return t || 0 === t ? (this._delay = t, this) : this._delay }, e.duration = function(t) { var e = arguments.length,
                        i = this._repeat,
                        n = i > 0 ? i * ((e ? t : this._dur) + this._rDelay) : 0; return e ? this.totalDuration(i < 0 ? t : t + n) : this.totalDuration() && this._dur }, e.totalDuration = function(t) { if (!arguments.length) return this._tDur; var e = this._repeat,
                        i = (t || this._rDelay) && e < 0; return this._tDur = i ? 1e20 : t, this._dur = i ? t : (t - e * this._rDelay) / (e + 1), this._dirty = 0, vt(this.parent), this }, e.totalTime = function(t, e) { if (le(), !arguments.length) return this._tTime; var i, n = this.parent || this._dp; if (n && n.smoothChildTiming && this._ts) { for (i = this._start, this._start = n._time - (this._ts > 0 ? t / this._ts : ((this._dirty ? this.totalDuration() : this._tDur) - t) / -this._ts), this._end += this._start - i, n._dirty || vt(n); n.parent;) n.parent._time !== n._start + (n._ts > 0 ? n._tTime / n._ts : (n.totalDuration() - n._tTime) / -n._ts) && n.totalTime(n._tTime, !0), n = n.parent;
                        this.parent || wt(this._dp, this, this._start - this._delay) } return this._tTime === t && this._dur || rt(this, t, e), this }, e.time = function(t, e) { return arguments.length ? this.totalTime(t + bt(this), e) : this._time }, e.totalProgress = function(t, e) { return arguments.length ? this.totalTime(this.totalDuration() * t, e) : this._tTime / this.totalDuration() }, e.progress = function(t, e) { return arguments.length ? this.totalTime(this.duration() * t + bt(this), e) : this.duration() ? this._time / this._dur : this.ratio }, e.iteration = function(t, e) { var i = this.duration() + this._rDelay; return arguments.length ? this.totalTime(this._time + (t - 1) * i, e) : this._repeat ? ~~(this._tTime / i) + 1 : 1 }, e.timeScale = function(t) { var e = this._ts; return arguments.length ? e ? (this._end = this._start + this._tDur / (this._ts = t || p), yt(this).totalTime(this._tTime, !0)) : (this._pauseTS = t, this) : e || this._pauseTS }, e.paused = function(t) { var e = !this._ts; return arguments.length ? (e !== t && (t ? (this._pauseTS = this._ts, this._pTime = this._tTime || Math.max(-this._delay, this.rawTime()), this._ts = this._act = 0) : (this._ts = this._pauseTS, t = this._tTime || this._pTime, 1 === this.progress() && (this._tTime -= p), this.totalTime(t, !0))), this) : e }, e.startTime = function(t) { return arguments.length ? (this.parent && this.parent._sort && wt(this.parent, this, t - this._delay), this) : this._start }, e.endTime = function(t) { return this._start + (M(t) ? this.totalDuration() : this.duration()) / Math.abs(this._ts) }, e.rawTime = function(t) { var e = this.parent || this._dp; return e ? t && (!this._ts || this._repeat && this._time && this.totalProgress() < 1) ? this._tTime % (this._dur + this._rDelay) : this._ts ? xt(e.rawTime(t), this) : this._tTime : this._tTime }, e.repeat = function(t) { return arguments.length ? (this._repeat = t, Et(this)) : this._repeat }, e.repeatDelay = function(t) { return arguments.length ? (this._rDelay = t, Et(this)) : this._rDelay }, e.yoyo = function(t) { return arguments.length ? (this._yoyo = t, this) : this._yoyo }, e.seek = function(t, e) { return this.totalTime(Ct(this, t), M(e)) }, e.restart = function(t, e) { return this.play().totalTime(t ? -this._delay : 0, M(e)) }, e.play = function(t, e) { return null != t && this.seek(t, e), this.reversed(!1).paused(!1) }, e.reverse = function(t, e) { return null != t && this.seek(t || this.totalDuration(), e), this.reversed(!0).paused(!1) }, e.pause = function(t, e) { return null != t && this.seek(t, e), this.paused(!0) }, e.resume = function() { return this.paused(!1) }, e.reversed = function(t) { var e = this._ts || this._pauseTS; return arguments.length ? (t !== this.reversed() && (this[this._ts ? "_ts" : "_pauseTS"] = Math.abs(e) * (t ? -1 : 1), this.totalTime(this._tTime, !0)), this) : e < 0 }, e.invalidate = function() { return this._initted = 0, this }, e.isActive = function() { var t, e = this.parent || this._dp,
                        i = this._start; return !e || this._ts && this._initted && e.isActive() && (t = e.rawTime(!0)) >= i && t < this.endTime(!0) - p }, e.eventCallback = function(t, e, i) { var n = this.vars; return arguments.length > 1 ? (e ? (n[t] = e, i && (n[t + "Params"] = i), "onUpdate" === t && (this._onUpdate = e)) : delete n[t], this) : n[t] }, e.then = function(t) { var e = this; return void 0 === t && (t = j), new Promise(function(i) { e._prom = function() { t(e), i() } }) }, e.kill = function() { Qt(this) }, t }();
        st(we.prototype, { _time: 0, _start: 0, _end: 0, _tTime: 0, _tDur: 0, _dirty: 0, _repeat: 0, _yoyo: !1, parent: 0, _rDelay: 0, _ts: 1, _dp: 0, ratio: 0, _zTime: -p, _prom: 0 });
        var Te = function(t) {
            function i(e, i) { var n; return void 0 === e && (e = {}), n = t.call(this, e, i) || this, n.labels = {}, n.smoothChildTiming = M(e.smoothChildTiming), n.autoRemoveChildren = !!e.autoRemoveChildren, n._sort = M(e.sortChildren), n } e(i, t); var r = i.prototype; return r.to = function(t, e, i) { return new De(t, it(arguments, 0, this), Ct(this, w(e) ? arguments[3] : i)), this }, r.from = function(t, e, i) { return new De(t, it(arguments, 1, this), Ct(this, w(e) ? arguments[3] : i)), this }, r.fromTo = function(t, e, i, n) { return new De(t, it(arguments, 2, this), Ct(this, w(e) ? arguments[4] : n)), this }, r.set = function(t, e, i) { return e.duration = 0, e.parent = this, e.repeatDelay || (e.repeat = 0), e.immediateRender = !!e.immediateRender, new De(t, e, Ct(this, i)), this }, r.call = function(t, e, i) { return wt(this, De.delayedCall(0, t, e), Ct(this, i)) }, r.staggerTo = function(t, e, i, n, r, o, a) { return i.duration = e, i.stagger = i.stagger || n, i.onComplete = o, i.onCompleteParams = a, i.parent = this, new De(t, i, Ct(this, r)), this }, r.staggerFrom = function(t, e, i, n, r, o, a) { return i.runBackwards = 1, i.immediateRender = M(i.immediateRender), this.staggerTo(t, e, i, n, r, o, a) }, r.staggerFromTo = function(t, e, i, n, r, o, a, s) { return n.startAt = i, n.immediateRender = M(n.immediateRender), this.staggerTo(t, e, n, r, o, a, s) }, r.render = function(t, e, i) { var r, o, a, s, h, l, u, c, d, f, m, g = this._time,
                    v = this._dirty ? this.totalDuration() : this._tDur,
                    y = this._dur,
                    _ = t > v - p && t >= 0 && this !== n ? v : t < p ? 0 : t,
                    b = this._zTime < 0 != t < 0 && this._initted; if (_ !== this._tTime || i || b) { if (b && (y || (g = this._zTime), !t && e || (this._zTime = t)), r = _, d = this._start, c = this._ts, l = 0 === c, g !== this._time && y && (r += this._time - g), this._repeat && (m = this._yoyo, h = y + this._rDelay, r = tt(_ % h), (r > y || v === _) && (r = y), s = ~~(_ / h), s && s === _ / h && (r = y, s--), f = ~~(this._tTime / h), f && f === this._tTime / h && f--, m && 1 & s && (r = y - r), s !== f && !this._lock)) { var x = m && 1 & f,
                            w = x === (m && 1 & s); if (s < f && (x = !x), g = x ? 0 : y, this._lock = 1, this.render(g, e, !y)._lock = 0, !e && this.parent && Jt(this, "onRepeat"), g !== this._time || l !== !this._ts) return this; if (w && (this._lock = 2, g = x ? y + 1e-4 : -1e-4, this.render(g, !0)), this._lock = 0, !this._ts && !l) return this } if (this._hasPause && !this._forcing && this._lock < 2 && (u = Mt(this, tt(g), tt(r)), u && (_ -= r - (r = u._start))), this._tTime = _, this._time = r, this._act = !c, this._initted || (this._onUpdate = this.vars.onUpdate, this._initted = 1), g || !r || e || Jt(this, "onStart"), r >= g && t >= 0)
                        for (o = this._first; o;) { if (a = o._next, (o._act || r >= o._start) && o._ts && u !== o) { if (o.parent !== this) return this.render(t, e, i); if (o.render(o._ts > 0 ? (r - o._start) * o._ts : (o._dirty ? o.totalDuration() : o._tDur) + (r - o._start) * o._ts, e, i), r !== this._time || !this._ts && !l) { u = 0; break } } o = a } else { o = this._last; for (var T = t < 0 ? t : r; o;) { if (a = o._prev, (o._act || T <= o._end) && o._ts && u !== o) { if (o.parent !== this) return this.render(t, e, i); if (o.render(o._ts > 0 ? (T - o._start) * o._ts : (o._dirty ? o.totalDuration() : o._tDur) + (T - o._start) * o._ts, e, i), r !== this._time || !this._ts && !l) { u = 0; break } } o = a } }
                    if (u && !e && (this.pause(), u.render(r >= g ? 0 : -p)._zTime = r >= g ? 1 : -1, this._ts)) return this._start = d, this.render(t, e, i);
                    this._onUpdate && !e && Jt(this, "onUpdate", !0), (_ === v || !_ && this._ts < 0) && (d !== this._start && Math.abs(c) === Math.abs(this._ts) || (!r || v >= this.totalDuration()) && ((t || !y) && gt(this, 1), e || t < 0 && !g || (Jt(this, _ === v ? "onComplete" : "onReverseComplete", !0), this._prom && _ === v && this._prom()))) } return this }, r.add = function(t, e) { var i = this; if (w(e) || (e = Ct(this, e)), !(t instanceof we)) { if (C(t)) return t.forEach(function(t) { return i.add(t, e) }), vt(this); if (b(t)) return this.addLabel(t, e); if (!x(t)) return this;
                    t = De.delayedCall(0, t) } return this !== t ? wt(this, t, e) : this }, r.getChildren = function(t, e, i, n) { void 0 === t && (t = !0), void 0 === e && (e = !0), void 0 === i && (i = !0), void 0 === n && (n = -d); for (var r = [], o = this._first; o;) o._start >= n && (o instanceof De ? e && r.push(o) : (i && r.push(o), t && r.push.apply(r, o.getChildren(!0, e, i)))), o = o._next; return r }, r.getById = function(t) { for (var e = this.getChildren(1, 1, 1), i = e.length; i--;)
                    if (e[i].vars.id === t) return e[i] }, r.remove = function(t) { return b(t) ? this.removeLabel(t) : x(t) ? this.killTweensOf(t) : (mt(this, t), t === this._recent && (this._recent = this._last), vt(this)) }, r.totalTime = function(e, i) { return arguments.length ? (this._forcing = 1, this.parent || this._dp || !this._ts || (this._start = he.time - (this._ts > 0 ? e / this._ts : (this.totalDuration() - e) / -this._ts)), t.prototype.totalTime.call(this, e, i), this._forcing = 0, this) : this._tTime }, r.addLabel = function(t, e) { return this.labels[t] = Ct(this, e), this }, r.removeLabel = function(t) { return delete this.labels[t], this }, r.addPause = function(t, e, i) { var n = De.delayedCall(0, e || j, i); return n.data = "isPause", this._hasPause = 1, wt(this, n, Ct(this, t)) }, r.removePause = function(t) { var e = this._first; for (t = Ct(this, t); e;) e._start === t && "isPause" === e.data && gt(e), e = e._next }, r.killTweensOf = function(t, e, i) { for (var n = this.getTweensOf(t, i), r = n.length; r--;) n[r].kill(t, e); return this }, r.getTweensOf = function(t, e) { for (var i, n = [], r = Bt(t), o = this._first; o;) o instanceof De ? !et(o._targets, r) || e && !o.isActive() || n.push(o) : (i = o.getTweensOf(r, e)).length && n.push.apply(n, i), o = o._next; return n }, r.tweenTo = function(t, e) { var i = this,
                    n = Ct(i, t),
                    r = e && e.startAt,
                    o = De.to(i, st({ ease: "none", lazy: !1, time: n, duration: Math.abs(n - (r && "time" in r ? r.time : i._time)) / i.timeScale() || p, onStart: function() { i.pause(); var t = Math.abs(n - i._time) / i.timeScale();
                            o._dur !== t && (o._dur = t, o.render(o._time, !0, !0)), e && e.onStart && e.onStart.apply(o, e.onStartParams || []) } }, e)); return o }, r.tweenFromTo = function(t, e, i) { return this.tweenTo(e, st({ startAt: { time: Ct(this, t) } }, i)) }, r.recent = function() { return this._recent }, r.nextLabel = function(t) { return void 0 === t && (t = this._time), Zt(this, Ct(this, t)) }, r.previousLabel = function(t) { return void 0 === t && (t = this._time), Zt(this, Ct(this, t), 1) }, r.currentLabel = function(t) { return arguments.length ? this.seek(t, !0) : this.previousLabel(this._time + p) }, r.shiftChildren = function(t, e, i) { void 0 === i && (i = 0); for (var n, r = this._first, o = this.labels; r;) r._start >= i && (r._start += t), r = r._next; if (e)
                    for (n in o) o[n] >= i && (o[n] += t); return vt(this) }, r.invalidate = function() { var e = this._first; for (this._lock = 0; e;) e.invalidate(), e = e._next; return t.prototype.invalidate.call(this) }, r.clear = function(t) { void 0 === t && (t = !0); for (var e, i = this._first; i;) e = i._next, this.remove(i), i = e; return this._time = this._tTime = 0, t && (this.labels = {}), vt(this) }, r.totalDuration = function(t) { var e, i, r = 0,
                    o = this,
                    a = o._last,
                    s = d,
                    h = o._repeat,
                    l = h * o._rDelay || 0,
                    u = h < 0; if (!arguments.length) { if (o._dirty) { for (; a;) e = a._prev, a._dirty && a.totalDuration(), a._start > s && o._sort && a._ts && !o._lock ? (o._lock = 1, wt(o, a, a._start - a._delay), o._lock = 0) : s = a._start, a._start < 0 && a._ts && (r -= a._start, (!o.parent && !o._dp || o.parent && o.parent.smoothChildTiming) && (o._start += a._start / o._ts, o._time -= a._start, o._tTime -= a._start), o.shiftChildren(-a._start, !1, -d), s = 0), i = a._end = a._start + a._tDur / Math.abs(a._ts || a._pauseTS), i > r && a._ts && (r = tt(i)), a = e;
                        o._dur = o === n && o._time > r ? o._time : Math.min(d, r), o._tDur = u && (o._dur || l) ? 1e20 : Math.min(d, r * (h + 1) + l), o._end = o._start + (o._tDur / Math.abs(o._ts || o._pauseTS) || 0), o._dirty = 0 } return o._tDur } return u ? o : o.timeScale(o.totalDuration() / t) }, i.updateRoot = function(t) { if (n._ts && rt(n, xt(t, n)), he.frame >= Y) { Y += u.autoSleep || 120; var e = n._first; if ((!e || !e._ts) && u.autoSleep && he._listeners.length < 2) { for (; e && !e._ts;) e = e._next;
                        e || he.sleep() } } }, i }(we);
        st(Te.prototype, { _lock: 0, _hasPause: 0, _forcing: 0 });
        var Se, Me = function(t, e, i, n, r, o, a) { var s, h, l, u, c, d, p, f, m = new qe(this._pt, t, e, 0, 1, ze, null, r),
                    g = 0,
                    v = 0; for (m.b = i, m.e = n, i += "", n += "", (p = ~n.indexOf("random(")) && (n = Yt(n)), o && (f = [i, n], o(f, t, e), i = f[0], n = f[1]), h = i.match(O) || []; s = O.exec(n);) u = s[0], c = n.substring(g, s.index), l ? l = (l + 1) % 5 : "rgba(" === c.substr(-5) && (l = 1), u !== h[v++] && (d = parseFloat(h[v - 1]), m._pt = { _next: m._pt, p: c || 1 === v ? c : ",", s: d, c: "=" === u.charAt(1) ? parseFloat(u.substr(2)) * ("-" === u.charAt(0) ? -1 : 1) : parseFloat(u) - d, m: l && l < 4 ? Math.round : 0 }, g = O.lastIndex); return m.c = g < n.length ? n.substring(g, n.length) : "", m.fp = a, (I.test(n) || p) && (m.e = 0), this._pt = m, m },
            Ee = function(t, e, i, n, r, o, a, s, h) { x(n) && (n = n(r || 0, t, o)); var l, c = t[e],
                    d = "get" !== i ? i : x(c) ? h ? t[e.indexOf("set") || !x(t["get" + e.substr(3)]) ? e : "get" + e.substr(3)](h) : t[e]() : c,
                    p = x(c) ? h ? Ne : Be : ke; if (b(n) && (~n.indexOf("random(") && (n = Yt(n)), "=" === n.charAt(1) && (n = parseFloat(d) + parseFloat(n.substr(2)) * ("-" === n.charAt(0) ? -1 : 1) + Ot(d))), d !== n) return isNaN(d + n) ? (!c && !(e in t) && F(e, n), Me.call(this, t, e, d, n, p, s || u.stringFilter, h)) : (l = new qe(this._pt, t, e, +d || 0, n - (d || 0), "boolean" == typeof c ? je : Ge, 0, p), h && (l.fp = h), a && l.modifier(a, this, t), this._pt = l) },
            Ae = function(t, e, i, n, r) { if (x(t) && (t = Oe(t, r, e, i, n)), !S(t) || t.style && t.nodeType || C(t)) return b(t) ? Oe(t, r, e, i, n) : t; var o, a = {}; for (o in t) a[o] = Oe(t[o], r, e, i, n); return a },
            Ce = function(t, e, i, n, r, o) { var a, s, l, u; if (W[t] && (a = new W[t]).init(r, a.rawVars ? e[t] : Ae(e[t], n, r, o, i), i, n, o) !== !1 && (i._pt = s = new qe(i._pt, r, t, 0, 1, a.render, a, 0, a.priority), i !== h))
                    for (l = i._ptLookup[i._targets.indexOf(r)], u = a._props.length; u--;) l[a._props[u]] = s; return a },
            Re = function jn(t, e) { var i, r, o, a, s, h, l, u, d, p, f, m, g = t.vars,
                    v = g.ease,
                    y = g.startAt,
                    _ = g.immediateRender,
                    b = g.lazy,
                    x = g.onUpdate,
                    w = g.onUpdateParams,
                    T = g.callbackScope,
                    S = g.runBackwards,
                    E = g.yoyoEase,
                    A = g.keyframes,
                    C = g.autoRevert,
                    R = t._dur,
                    P = t._startAt,
                    O = t._targets,
                    L = t.parent,
                    I = L && "nested" === L.data ? L.parent._targets : O,
                    D = "auto" === t._overwrite,
                    k = t.timeline; if (!k || A && v || (v = "none"), t._ease = ge(v, c.ease), t._yEase = E ? me(ge(E === !0 ? v : E, c.ease)) : 0, E && t._yoyo && !t._repeat && (E = t._yEase, t._yEase = t._ease, t._ease = E), !k) { if (P && P.render(-1, !0).kill(), y) { if (gt(t._startAt = De.set(O, st({ data: "isStart", overwrite: !1, parent: L, immediateRender: !0, lazy: M(b), startAt: null, delay: 0, onUpdate: x, onUpdateParams: w, callbackScope: T, stagger: 0 }, y))), _)
                            if (e > 0) !C && (t._startAt = 0);
                            else if (R) return } else if (S && R)
                        if (P) !C && (t._startAt = 0);
                        else if (e && (_ = !1), gt(t._startAt = De.set(O, lt(ct(g, z), { overwrite: !1, data: "isFromStart", lazy: _ && M(b), immediateRender: _, stagger: 0, parent: L }))), _) { if (!e) return } else jn(t._startAt, e), _ && !C && (t._startAt = 0); for (i = ct(g, z), t._pt = 0, u = O[0] ? J(O[0]).harness : 0, m = u && g[u.prop], r = 0; r < O.length; r++) { if (s = O[r], l = s._gsap || Z(O)[r]._gsap, t._ptLookup[r] = p = {}, H[l.id] && nt(), f = I === O ? r : I.indexOf(s), u && (d = new u).init(s, m || i, t, f, I) !== !1 && (t._pt = a = new qe(t._pt, s, d.name, 0, 1, d.render, d, 0, d.priority), d._props.forEach(function(t) { p[t] = a }), d.priority && (h = 1)), !u || m)
                            for (o in i) W[o] && (d = Ce(o, i, t, f, s, I)) ? d.priority && (h = 1) : p[o] = a = Ee.call(t, s, o, "get", i[o], f, I, 0, g.stringFilter);
                        t._op && t._op[r] && t.kill(s, t._op[r]), D && (Se = t, n.killTweensOf(s, p, !0), Se = 0), t._pt && (M(b) && R || b && !R) && (H[l.id] = 1) } h && Ye(t), t._onInit && t._onInit(t) } t._from = !k && !!g.runBackwards, t._onUpdate = x, t._initted = 1 },
            Pe = function(t, e) { var i, n, r, o, a = t[0] ? J(t[0]).harness : 0,
                    s = a && a.aliases; if (!s) return e;
                i = lt({}, e); for (n in s)
                    if (n in i)
                        for (o = s[n].split(","), r = o.length; r--;) i[o[r]] = i[n]; return i },
            Oe = function(t, e, i, n, r) { return x(t) ? t.call(e, i, n, r) : b(t) && ~t.indexOf("random(") ? Yt(t) : t },
            Le = K + ",repeat,repeatDelay,yoyo,yoyoEase",
            Ie = (Le + ",id,stagger,delay,duration").split(","),
            De = function(t) {
                function r(e, r, o) { var a; "number" == typeof r && (o.duration = r, r = o, o = null), a = t.call(this, dt(r), o) || this; var s, h, l, c, d, f, m, g, v = a.vars,
                        y = v.duration,
                        _ = v.delay,
                        b = v.immediateRender,
                        x = v.stagger,
                        w = v.overwrite,
                        T = v.keyframes,
                        E = v.defaults,
                        C = Bt(e); if (a._targets = C.length ? Z(C) : U("GSAP target " + e + " not found. https://greensock.com", !u.nullTargetWarn) || [{}], a._ptLookup = [], a._overwrite = w, T || x || A(y) || A(_)) { if (r = a.vars, s = a.timeline = new Te({ data: "nested", defaults: E || {} }), s.kill(), s.parent = i(a), T) st(s.vars.defaults, { ease: "none" }), T.forEach(function(t) { return s.to(C, t, ">") });
                        else { if (c = C.length, m = x ? Nt(x) : j, S(x))
                                for (d in x) ~Le.indexOf(d) && (g || (g = {}), g[d] = x[d]); for (h = 0; h < c; h++) { l = {}; for (d in r) Ie.indexOf(d) < 0 && (l[d] = r[d]);
                                l.stagger = 0, g && lt(l, g), r.yoyoEase && !r.repeat && (l.yoyoEase = r.yoyoEase), f = C[h], l.duration = +Oe(y, i(a), h, f, C), l.delay = (+Oe(_, i(a), h, f, C) || 0) - a._delay, !x && 1 === c && l.delay && (a._delay = _ = l.delay, a._start += _, l.delay = 0), s.to(f, l, m(h, f, C)) } y = _ = 0 } y || a.duration(y = s.duration()) } else a.timeline = 0; return w === !0 && (Se = i(a), n.killTweensOf(C), Se = 0), (b || !y && !T && a._start === a.parent._time && M(b) && _t(i(a)) && "nested" !== a.parent.data) && (a._tTime = -p, a.render(Math.max(0, -_))), a } e(r, t); var o = r.prototype; return o.render = function(t, e, i) { var n, r, o, a, s, h, l, u, c, d = this._time,
                        f = this._tDur,
                        m = this._dur,
                        g = t > f - p && t >= 0 ? f : t < p ? 0 : t; if (m) { if (g !== this._tTime || i || this._startAt && this._zTime < 0 != t < 0) { if (n = g, u = this.timeline, this._repeat) { if (a = m + this._rDelay, n = tt(g % a), n > m && (n = m), o = ~~(g / a), o && o === g / a && (n = m, o--), h = this._yoyo && 1 & o, h && (c = this._yEase, n = m - n), s = ~~(this._tTime / a), s && s === this._tTime / a && s--, n === d && !i) return this;
                                o !== s && this.vars.repeatRefresh && !this._lock && (this._lock = 1, this.render(a * o, !0).invalidate()._lock = 0) } if (!this._initted && Tt(this, n, i, e)) return this; for (this._tTime = g, this._time = n, !this._act && this._ts && (this._act = 1, this._lazy = 0), this.ratio = l = (c || this._ease)(n / m), this._from && (this.ratio = l = 1 - l), d || !n || e || Jt(this, "onStart"), r = this._pt; r;) r.r(l, r.d), r = r._next;
                            u && u.render(t < 0 ? t : !n && h ? -p : u._dur * l, e, i) || this._startAt && (this._zTime = t), this._onUpdate && !e && (t < 0 && this._startAt && this._startAt.render(t, !0, i), Jt(this, "onUpdate")), this._repeat && o !== s && this.vars.onRepeat && !e && this.parent && Jt(this, "onRepeat"), g !== f && g || this._tTime !== g || (t < 0 && this._startAt && !this._onUpdate && this._startAt.render(t, !0, i), (t || !m) && (g || this._ts < 0) && gt(this, 1), e || t < 0 && !d || (Jt(this, g === f ? "onComplete" : "onReverseComplete", !0), this._prom && g === f && this._prom())) } } else St(this, t, e, i); return this }, o.targets = function() { return this._targets }, o.invalidate = function() { return this._pt = this._op = this._startAt = this._onUpdate = this._act = this._lazy = 0, this._ptLookup = [], this.timeline && this.timeline.invalidate(), t.prototype.invalidate.call(this) }, o.kill = function(t, e) { if (void 0 === e && (e = "all"), Se === this) return Se; if (!(t || e && "all" !== e) && this.parent) return this._lazy = 0, Qt(this); if (this.timeline) return this.timeline.killTweensOf(t, e), this; var i, n, r, o, a, s, h, l = this._targets,
                        u = t ? Bt(t) : l,
                        c = this._ptLookup,
                        d = this._pt; if ((!e || "all" === e) && pt(l, u)) return Qt(this); for (i = this._op = this._op || [], "all" !== e && (b(e) && (a = {}, $(e, function(t) { return a[t] = 1 }), e = a), e = Pe(l, e)), h = l.length; h--;)
                        if (~u.indexOf(l[h])) { n = c[h], "all" === e ? (i[h] = e, o = n, r = {}) : (r = i[h] = i[h] || {}, o = e); for (a in o) s = n && n[a], s && ("kill" in s.d && s.d.kill(a) !== !0 || (mt(this, s, "_pt"), delete n[a])), "all" !== r && (r[a] = 1) } return this._initted && !this._pt && d && Qt(this), this }, r.to = function(t, e) { return new r(t, e, arguments[2]) }, r.from = function(t, e) { return new r(t, it(arguments, 1)) }, r.delayedCall = function(t, e, i, n) { return new r(e, 0, { immediateRender: !1, lazy: !1, overwrite: !1, delay: t, onComplete: e, onReverseComplete: e, onCompleteParams: i, onReverseCompleteParams: i, callbackScope: n }) }, r.fromTo = function(t, e, i) { return new r(t, it(arguments, 2)) }, r.set = function(t, e) { return e.duration = 0, e.repeatDelay || (e.repeat = 0), new r(t, e) }, r.killTweensOf = function(t, e, i) { return n.killTweensOf(t, e, i) }, r }(we);
        st(De.prototype, { _targets: [], _initted: 0, _lazy: 0, _startAt: 0, _op: 0, _onInit: 0 }), $("staggerTo,staggerFrom,staggerFromTo", function(t) { De[t] = function() { var e = new Te,
                    i = Bt(arguments); return i.splice("staggerFromTo" === t ? 5 : 4, 0, 0), e[t].apply(e, i) } });
        var ke = function(t, e, i) { return t[e] = i },
            Be = function(t, e, i) { return t[e](i) },
            Ne = function(t, e, i, n) { return t[e](n.fp, i) },
            Fe = function(t, e, i) { return t.setAttribute(e, i) },
            Ue = function(t, e) { return x(t[e]) ? Be : T(t[e]) && t.setAttribute ? Fe : ke },
            Ge = function(t, e) { return e.set(e.t, e.p, ~~(1e4 * (e.s + e.c * t)) / 1e4, e) },
            je = function(t, e) { return e.set(e.t, e.p, !!(e.s + e.c * t), e) },
            ze = function(t, e) { var i = e._pt,
                    n = ""; if (!t && e.b) n = e.b;
                else if (1 === t && e.e) n = e.e;
                else { for (; i;) n = i.p + (i.m ? i.m(i.s + i.c * t) : ~~(1e4 * (i.s + i.c * t)) / 1e4) + n, i = i._next;
                    n += e.c } e.set(e.t, e.p, n, e) },
            Ve = function(t, e) { for (var i = e._pt; i;) i.r(t, i.d), i = i._next },
            He = function(t, e, i, n) { for (var r, o = this._pt; o;) r = o._next, o.p === n && o.modifier(t, e, i), o = r },
            We = function(t) { for (var e, i, n = this._pt; n;) i = n._next, n.p === t && !n.op || n.op === t ? mt(this, n, "_pt") : n.dep || (e = 1), n = i; return !e },
            Xe = function(t, e, i, n) { n.mSet(t, e, n.m.call(n.tween, i, n.mt), n) },
            Ye = function(t) { for (var e, i, n, r, o = t._pt; o;) { for (e = o._next, i = n; i && i.pr > o.pr;) i = i._next;
                    (o._prev = i ? i._prev : r) ? o._prev._next = o: n = o, (o._next = i) ? i._prev = o : r = o, o = e } t._pt = n },
            qe = function() {
                function t(t, e, i, n, r, o, a, s, h) {
                    this.t = e, this.s = n, this.c = r, this.p = i, this.r = o || Ge, this.d = a || this, this.set = s || ke, this.pr = h || 0, this._next = t, t && (t._prev = this)
                }
                var e = t.prototype;
                return e.modifier = function(t, e, i) { this.mSet = this.mSet || this.set, this.set = Xe, this.m = t, this.mt = i, this.tween = e }, t
            }();
        $(K + ",parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert", function(t) { z[t] = 1, "on" === t.substr(0, 2) && (z[t + "Params"] = 1) }), k.TweenMax = k.TweenLite = De, k.TimelineLite = k.TimelineMax = Te, n = new Te({ sortChildren: !1, defaults: c, autoRemoveChildren: !0, id: "root" }), u.stringFilter = se;
        var Ke = { registerPlugin: function() { for (var t = arguments.length, e = new Array(t), i = 0; i < t; i++) e[i] = arguments[i];
                e.forEach(function(t) { return $t(t) }) }, timeline: function(t) { return new Te(t) }, getTweensOf: function(t, e) { return n.getTweensOf(t, e) }, getProperty: function(t, e, i, n) { b(t) && (t = Bt(t)[0]); var r = J(t || {}).get,
                    o = i ? at : ot; return "native" === i && (i = ""), t ? e ? o((W[e] && W[e].get || r)(t, e, i, n)) : function(e, i, n) { return o((W[e] && W[e].get || r)(t, e, i, n)) } : t }, quickSetter: function(t, e, i) { if (t = Bt(t), t.length > 1) { var n = t.map(function(t) { return Ke.quickSetter(t, e, i) }),
                        r = n.length; return function(t) { for (var e = r; e--;) n[e](t) } } t = t[0] || {}; var o = W[e],
                    a = J(t),
                    s = o ? function(e) { var n = new o;
                        h._pt = 0, n.init(t, i ? e + i : e, h, 0, [t]), n.render(1, n), h._pt && Ve(1, h) } : a.set(t, e); return o ? s : function(n) { return s(t, e, i ? n + i : n, a, 1) } }, isTweening: function(t) { return n.getTweensOf(t, !0).length > 0 }, defaults: function(t) { return t && t.ease && (t.ease = ge(t.ease, c.ease)), ut(c, t || {}) }, config: function(t) { return ut(u, t || {}) }, registerEffect: function(t) { var e = t.name,
                    i = t.effect,
                    n = t.plugins,
                    r = t.defaults,
                    o = t.extendTimeline;
                (n || "").split(",").forEach(function(t) { return t && !W[t] && !k[t] && U(e + " effect requires " + t + " plugin.") }), X[e] = function(t, e) { return i(Bt(t), st(e || {}, r)) }, o && (Te.prototype[e] = function(t, i, n) { return this.add(X[e](t, S(i) ? i : (n = i) && {}), n) }) }, registerEase: function(t, e) { ue[t] = ge(e) }, parseEase: function(t, e) { return arguments.length ? ge(t, e) : ue }, getById: function(t) { return n.getById(t) }, exportRoot: function(t, e) { void 0 === t && (t = {}); var i, r, o = new Te(t); for (o.smoothChildTiming = M(t.smoothChildTiming), n.remove(o), o._dp = 0, o._time = o._tTime = n._time, i = n._first; i;) r = i._next, !e && !i._dur && i instanceof De && i.vars.onComplete === i._targets[0] || wt(o, i, i._start - i._delay), i = r; return wt(n, o, 0), o }, utils: { wrap: Wt, wrapYoyo: Xt, distribute: Nt, random: Gt, snap: Ut, normalize: Vt, getUnit: Ot, clamp: Lt, splitColor: ne, toArray: Bt, mapRange: qt, pipe: jt, unitize: zt, interpolate: Kt }, install: N, effects: X, ticker: he, updateRoot: Te.updateRoot, plugins: W, globalTimeline: n, core: { PropTween: qe, globals: G, Tween: De, Timeline: Te, Animation: we, getCache: J } };
        $("to,from,fromTo,delayedCall,set,killTweensOf", function(t) { return Ke[t] = De[t] }), he.add(Te.updateRoot), h = Ke.to({}, { duration: 0 });
        var Ze = function(t, e) { var i, n, r, o = t._targets; for (i in e)
                    for (n = o.length; n--;) r = t._ptLookup[n][i], r && r.d.modifier && r.d.modifier(e[i], t, o[n], i) },
            Je = function(t, e) { return { name: t, rawVars: 1, init: function(t, i, n) { n._onInit = function(t) { var n, r; if (b(i) && (n = {}, $(i, function(t) { return n[t] = 1 }), i = n), e) { n = {}; for (r in i) n[r] = e(i[r]);
                                i = n } Ze(t, i) } } } };
        Ke.registerPlugin({ name: "attr", init: function(t, e, i, n, r) { for (var o in e) this.add(t, "setAttribute", (t.getAttribute(o) || 0) + "", e[o], n, r, 0, 0, o), this._props.push(o) } }, { name: "endArray", init: function(t, e) { for (var i = e.length; i--;) this.add(t, i, t[i], e[i]) } }, Je("roundProps", Ft), Je("modifiers"), Je("snap", Ut)), De.version = Te.version = Ke.version = "3.0.1", s = 1, E() && le();
        var Qe, $e, ti, ei, ii, ni, ri, oi, ai = ue.Power0,
            si = ue.Power1,
            hi = ue.Power2,
            li = ue.Power3,
            ui = ue.Power4,
            ci = ue.Linear,
            di = ue.Quad,
            pi = ue.Cubic,
            fi = ue.Quart,
            mi = ue.Quint,
            gi = ue.Strong,
            vi = ue.Elastic,
            yi = ue.Back,
            _i = ue.SteppedEase,
            bi = ue.Bounce,
            xi = ue.Sine,
            wi = ue.Expo,
            Ti = ue.Circ,
            Si = function() { return "undefined" != typeof window },
            Mi = {},
            Ei = 180 / Math.PI,
            Ai = Math.PI / 180,
            Ci = Math.atan2,
            Ri = 1e8,
            Pi = /([A-Z])/g,
            Oi = /[-+=\.]*\d+[\.e-]*\d*[a-z%]*/g,
            Li = /(?:left|right|width|margin|padding|x)/i,
            Ii = /[\s,\(]\S/,
            Di = { autoAlpha: "opacity,visibility", scale: "scaleX,scaleY", alpha: "opacity" },
            ki = function(t, e) { return e.set(e.t, e.p, ~~(1e4 * (e.s + e.c * t)) / 1e4 + e.u, e) },
            Bi = function(t, e) { return e.set(e.t, e.p, 1 === t ? e.e : ~~(1e4 * (e.s + e.c * t)) / 1e4 + e.u, e) },
            Ni = function(t, e) { return e.set(e.t, e.p, t ? ~~(1e4 * (e.s + e.c * t)) / 1e4 + e.u : e.b, e) },
            Fi = function(t, e) { var i = e.s + e.c * t;
                e.set(e.t, e.p, ~~(i + (i < 0 ? -.5 : .5)) + e.u, e) },
            Ui = function(t, e) { return e.set(e.t, e.p, t ? e.e : e.b, e) },
            Gi = function(t, e) { return e.set(e.t, e.p, 1 !== t ? e.b : e.e, e) },
            ji = function(t, e, i) { return t.style[e] = i },
            zi = function(t, e, i) { return t.style.setProperty(e, i) },
            Vi = function(t, e, i) { return t._gsap[e] = i },
            Hi = function(t, e, i) { return t._gsap.scaleX = t._gsap.scaleY = i },
            Wi = function(t, e, i, n, r) { var o = t._gsap;
                o.scaleX = o.scaleY = i, o.renderTransform(r, o) },
            Xi = function(t, e, i, n, r) { var o = t._gsap;
                o[e] = i, o.renderTransform(r, o) },
            Yi = "transform",
            qi = Yi + "Origin",
            Ki = function(t, e) { var i = $e.createElementNS ? $e.createElementNS((e || "http://www.w3.org/1999/xhtml").replace(/^https/, "http"), t) : $e.createElement(t); return i.style ? i : $e.createElement(t) },
            Zi = function(t, e) { var i = getComputedStyle(t); return i[e] || i.getPropertyValue(e.replace(Pi, "-$1").toLowerCase()) || i.getPropertyValue(e) },
            Ji = function(t, e) { var i = e || ii,
                    n = i.style,
                    r = 5,
                    o = "O,Moz,ms,Ms,Webkit".split(","); if (t in n) return t; for (t = t.charAt(0).toUpperCase() + t.substr(1); r-- && !(o[r] + t in n);); return r < 0 ? null : (3 === r ? "ms" : r >= 0 ? o[r] : "") + t },
            Qi = function() { Si() && (Qe = window, $e = Qe.document, ti = $e.documentElement, ii = Ki("div") || { style: {} }, ni = Ki("div"), Yi = Ji(Yi), qi = Ji(qi), ii.style.cssText = "border-width:0;line-height:0;position:absolute;padding:0", oi = !!Ji("perspective"), ei = 1) },
            $i = function zn(t) { var e, i = Ki("svg", this.ownerSVGElement && this.ownerSVGElement.getAttribute("xmlns") || "http://www.w3.org/2000/svg"),
                    n = this.parentNode,
                    r = this.nextSibling,
                    o = this.style.cssText; if (ti.appendChild(i), i.appendChild(this), this.style.display = "block", t) try { e = this.getBBox(), this._gsapBBox = this.getBBox, this.getBBox = zn } catch (a) {} else this._gsapBBox && (e = this._gsapBBox()); return r ? n.insertBefore(this, r) : n.appendChild(this), ti.removeChild(i), this.style.cssText = o, e },
            tn = function(t, e) { for (var i = e.length; i--;)
                    if (t.hasAttribute(e[i])) return t.getAttribute(e[i]) },
            en = function(t) { var e; try { e = t.getBBox() } catch (i) { e = $i.call(t, !0) } return !e || e.width || e.x || e.y ? e : { x: +tn(t, ["x", "cx", "x1"]), y: +tn(t, ["y", "cy", "y1"]), width: 0, height: 0 } },
            nn = function(t) { return !(!t.getCTM || t.parentNode && !t.ownerSVGElement || !en(t)) },
            rn = function(t, e) { if (e) { var i = t.style;
                    e in Mi && (e = Yi), i.removeProperty ? ("ms" !== e.substr(0, 2) && "webkit" !== e.substr(0, 6) || (e = "-" + e), i.removeProperty(e.replace(Pi, "-$1").toLowerCase())) : i.removeAttribute(e) } },
            on = function(t, e, i, n, r, o) { var a = new qe(t._pt, e, i, 0, 1, o ? Gi : Ui); return t._pt = a, a.b = n, a.e = r, t._props.push(i), a },
            an = { deg: 1, rad: 1, turn: 1 },
            sn = function(t, e, i, n) { var r, o, a, s, h = parseFloat(i),
                    l = (i + "").substr((h + "").length) || "px",
                    u = ii.style,
                    c = Li.test(e),
                    d = "svg" === t.tagName.toLowerCase(),
                    p = (d ? "client" : "offset") + (c ? "Width" : "Height"),
                    f = 100,
                    m = "px" === n; return n === l || an[n] || an[l] ? h : (s = t.getCTM && nn(t), "%" === n && Mi[e] ? tt(h / (s ? t.getBBox()[c ? "width" : "height"] : t[p]) * f) : (u[c ? "width" : "height"] = f + (m ? l : n), o = "em" === n && t.appendChild && !d ? t : t.parentNode, s && (o = (t.ownerSVGElement || {}).parentNode), o && o !== $e && o.appendChild || (o = $e.body), a = o._gsap, a && "%" === n && a.width && c && a.time === he.time ? r = a.width * h / f : (o.appendChild(ii), r = ii[p], o.removeChild(ii), c && "%" === n && (a = J(o), a.time = he.time, a.width = r / h * f)), tt(m ? r * h / f : f / r * h))) },
            hn = function(t, e, i, n) { var r; return ei || Qi(), e in Di && (e = Di[e], ~e.indexOf(",") && (e = e.split(",")[0])), Mi[e] ? (r = bn(t, n), r = "transformOrigin" !== e ? r[e] : xn(Zi(t, qi)) + r.zOrigin + "px") : (r = t.style[e], r && "auto" !== r && !n || (r = Zi(t, e) || Q(t, e))), i ? sn(t, e, r, i) + i : r },
            ln = function(t, e, i, n) { var r, o, a, s, h, l, c, d, p, f, m, g, v, y = new qe(this._pt, t.style, e, 0, 1, ze),
                    _ = 0,
                    b = 0; if (y.b = i, y.e = n, i += "", n += "", "auto" === n && (t.style[e] = n, n = Zi(t, e) || n, t.style[e] = i), r = [i, n], se(r), i = r[0], n = r[1], a = i.match(Oi) || [], v = n.match(Oi) || [], v.length) { for (; o = Oi.exec(n);) c = o[0], p = n.substring(_, o.index), h ? h = (h + 1) % 5 : "rgba(" === p.substr(-5) && (h = 1), c !== (l = a[b++] || "") && (s = parseFloat(l) || 0, m = l.substr((s + "").length), g = "=" === c.charAt(1) ? +(c.charAt(0) + "1") : 0, g && (c = c.substr(2)), d = parseFloat(c), f = c.substr((d + "").length), _ = Oi.lastIndex - f.length, f || (f = f || u.units[e] || m, _ === n.length && (n += f, y.e += f)), m !== f && (s = sn(t, e, l, f)), y._pt = { _next: y._pt, p: p || 1 === b ? p : ",", s: s, c: g ? g * d : d - s, m: h && h < 4 ? Math.round : 0 });
                    y.c = _ < n.length ? n.substring(_, n.length) : "" } else y.r = "display" === e ? Gi : Ui; return I.test(n) && (y.e = 0), this._pt = y, y },
            un = { top: "0%", bottom: "100%", left: "0%", right: "100%", center: "50%" },
            cn = function(t) { var e = t.split(" "),
                    i = e[0],
                    n = e[1] || "50%"; return "top" !== i && "bottom" !== i && "left" !== n && "right" !== n || (e = i, i = n, n = e), e[0] = un[i] || i, e[1] = un[n] || n, e.join(" ") },
            dn = function(t, e) { if (e.tween && e.tween._time === e.tween._dur) { var i, n, r, o = e.t,
                        a = o.style,
                        s = e.u; if ("all" === s || s === !0) a.cssText = "", n = 1;
                    else
                        for (s = s.split(","), r = s.length; --r > -1;) i = s[r], Mi[i] && (n = 1, i = "transformOrigin" === i ? qi : Yi), rn(o, i);
                    n && (rn(o, Yi), n = o._gsap, n && (n.svg && o.removeAttribute("transform"), delete n.x)) } },
            pn = { clearProps: function(t, e, i, n, r) { var o = t._pt = new qe(t._pt, e, i, 0, 0, dn); return o.u = n, o.pr = -10, o.tween = r, t._props.push(i), 1 } },
            fn = [1, 0, 0, 1, 0, 0],
            mn = {},
            gn = function(t) { return "matrix(1, 0, 0, 1, 0, 0)" === t || "none" === t || !t },
            vn = function(t) { var e = Zi(t, Yi); return gn(e) ? fn : e.substr(7).match(P).map(tt) },
            yn = function(t, e) { var i, n, r, o, a = t._gsap,
                    s = t.style,
                    h = vn(t); return a.svg && t.getAttribute("transform") ? (r = t.transform.baseVal.consolidate().matrix, h = [r.a, r.b, r.c, r.d, r.e, r.f], "1,0,0,1,0,0" === h.join(",") ? fn : h) : (h !== fn || t.offsetParent || t === ti || a.svg || (r = s.display, s.display = "block", i = t.parentNode, i && t.offsetParent || (o = 1, n = t.nextSibling, ti.appendChild(t)), h = vn(t), r ? s.display = r : rn(t, "display"), o && (n ? i.insertBefore(t, n) : i ? i.appendChild(t) : ti.removeChild(t))), e && h.length > 6 ? [h[0], h[1], h[4], h[5], h[12], h[13]] : h) },
            _n = function(t, e, i, n, r, o) { var a, s, h, l, u = t._gsap,
                    c = r || yn(t, !0),
                    d = u.xOrigin || 0,
                    p = u.yOrigin || 0,
                    f = u.xOffset || 0,
                    m = u.yOffset || 0,
                    g = c[0],
                    v = c[1],
                    y = c[2],
                    _ = c[3],
                    b = c[4],
                    x = c[5],
                    w = e.split(" "),
                    T = parseFloat(w[0]) || 0,
                    S = parseFloat(w[1]) || 0;
                i ? c !== fn && (s = g * _ - v * y) && (h = T * (_ / s) + S * (-y / s) + (y * x - _ * b) / s, l = T * (-v / s) + S * (g / s) - (g * x - v * b) / s, T = h, S = l) : (a = en(t), T = a.x + (~w[0].indexOf("%") ? T / 100 * a.width : T), S = a.y + (~(w[1] || w[0]).indexOf("%") ? S / 100 * a.height : S)), n || n !== !1 && u.smooth ? (b = T - d, x = S - p, u.xOffset += b * g + x * y - b, u.yOffset += b * v + x * _ - x) : u.xOffset = u.yOffset = 0, u.xOrigin = T, u.yOrigin = S, u.smooth = !!n, u.origin = e, u.originIsAbsolute = !!i, o && (on(o, u, "xOrigin", d, T), on(o, u, "yOrigin", p, S), on(o, u, "xOffset", f, u.xOffset), on(o, u, "yOffset", m, u.yOffset)) },
            bn = function(t, e) { var i = t._gsap || new xe(t); if ("x" in i && !e) return i; var n, r, o, a, s, h, l, c, d, p, f, m, g, v, y, _, b, x, w, T, S, M, E, A, C, R, P, O, L, I, D = t.style,
                    k = i.scaleX < 0,
                    B = i.xOrigin || 0,
                    N = i.yOrigin || 0,
                    F = "px",
                    U = "deg",
                    G = Zi(t, qi) || "0"; return n = r = o = h = l = c = d = p = f = 0, a = s = 1, i.svg = !(!t.getCTM || !nn(t)), m = yn(t, i.svg), i.svg && _n(t, G, i.originIsAbsolute, i.smooth !== !1, m), m !== fn && (_ = m[0], b = m[1], x = m[2], w = m[3], n = T = m[4], r = S = m[5], 6 === m.length ? (a = Math.sqrt(_ * _ + b * b), s = Math.sqrt(w * w + x * x), h = _ || b ? Ci(b, _) * Ei : i.rotation || 0, d = x || w ? Ci(x, w) * Ei + h : i.skewX || 0, i.svg && (n -= B - (B * _ + N * x), r -= N - (B * b + N * w))) : (I = m[6], O = m[7], C = m[8], R = m[9], P = m[10], L = m[11], n = m[12], r = m[13], o = m[14], g = Ci(I, P), l = g * Ei, g && (v = Math.cos(-g), y = Math.sin(-g), M = T * v + C * y, E = S * v + R * y, A = I * v + P * y, C = T * -y + C * v, R = S * -y + R * v, P = I * -y + P * v, L = O * -y + L * v, T = M, S = E, I = A), g = Ci(-x, P), c = g * Ei, g && (v = Math.cos(-g), y = Math.sin(-g), M = _ * v - C * y, E = b * v - R * y, A = x * v - P * y, L = w * y + L * v, _ = M, b = E, x = A), g = Ci(b, _), h = g * Ei, g && (v = Math.cos(g), y = Math.sin(g), M = _ * v + b * y, E = T * v + S * y, b = b * v - _ * y, S = S * v - T * y, _ = M, T = E), l && Math.abs(l) + Math.abs(h) > 359.9 && (l = h = 0, c = 180 - c), a = tt(Math.sqrt(_ * _ + b * b + x * x)), s = tt(Math.sqrt(S * S + I * I)), g = Ci(T, S), d = Math.abs(g) > 2e-4 ? g * Ei : 0, f = L ? 1 / (L < 0 ? -L : L) : 0), i.svg && (m = t.getAttribute("transform"), i.forceCSS = t.setAttribute("transform", "") || !gn(Zi(t, Yi)), m && t.setAttribute("transform", m))), Math.abs(d) > 90 && Math.abs(d) < 270 && (k ? (a *= -1, d += h <= 0 ? 180 : -180, h += h <= 0 ? 180 : -180) : (s *= -1, d += d <= 0 ? 180 : -180)), i.x = ((i.xPercent = n && Math.round(t.offsetWidth / 2) === Math.round(-n) ? -50 : 0) ? 0 : n) + F, i.y = ((i.yPercent = r && Math.round(t.offsetHeight / 2) === Math.round(-r) ? -50 : 0) ? 0 : r) + F, i.z = o + F, i.scaleX = tt(a), i.scaleY = tt(s), i.rotation = tt(h) + U, i.rotationX = tt(l) + U, i.rotationY = tt(c) + U, i.skewX = d + U, i.skewY = p + U, i.transformPerspective = f + F, (i.zOrigin = parseFloat(G.split(" ")[2]) || 0) && (D[qi] = xn(G)), i.xOffset = i.yOffset = 0, i.force3D = u.force3D, i.renderTransform = i.svg ? Cn : oi ? An : Tn, i },
            xn = function(t) { return (t = t.split(" "))[0] + " " + t[1] },
            wn = function(t, e, i) { var n = Ot(e); return tt(parseFloat(e) + parseFloat(sn(t, "x", i + "px", n))) + n },
            Tn = function(t, e) { e.z = "0px", e.rotationY = e.rotationX = "0deg", e.force3D = 0, An(t, e) },
            Sn = "0deg",
            Mn = "0px",
            En = ") ",
            An = function(t, e) { var i = e || this,
                    n = i.xPercent,
                    r = i.yPercent,
                    o = i.x,
                    a = i.y,
                    s = i.z,
                    h = i.rotation,
                    l = i.rotationY,
                    u = i.rotationX,
                    c = i.skewX,
                    d = i.skewY,
                    p = i.scaleX,
                    f = i.scaleY,
                    m = i.transformPerspective,
                    g = i.force3D,
                    v = i.target,
                    y = i.zOrigin,
                    _ = "",
                    b = "auto" === g && t && 1 !== t || g === !0; if (y && (u !== Sn || l !== Sn)) { var x, w = parseFloat(l) * Ai,
                        T = Math.sin(w),
                        S = Math.cos(w);
                    w = parseFloat(u) * Ai, x = Math.cos(w), o = wn(v, o, T * x * -y), a = wn(v, a, -Math.sin(w) * -y), s = wn(v, s, S * x * -y + y) }(n || r) && (_ = "translate(" + n + "%, " + r + "%) "), (b || o !== Mn || a !== Mn || s !== Mn) && (_ += s !== Mn || b ? "translate3d(" + o + ", " + a + ", " + s + ") " : "translate(" + o + ", " + a + En), m !== Mn && (_ += "perspective(" + m + En), h !== Sn && (_ += "rotate(" + h + En), l !== Sn && (_ += "rotateY(" + l + En), u !== Sn && (_ += "rotateX(" + u + En), c === Sn && d === Sn || (_ += "skew(" + c + ", " + d + En), 1 === p && 1 === f || (_ += "scale(" + p + ", " + f + En), v.style[Yi] = _ || "translate(0, 0)" },
            Cn = function(t, e) { var i, n, r, o, a, s = e || this,
                    h = s.xPercent,
                    l = s.yPercent,
                    u = s.x,
                    c = s.y,
                    d = s.rotation,
                    p = s.skewX,
                    f = s.skewY,
                    m = s.scaleX,
                    g = s.scaleY,
                    v = s.target,
                    y = s.xOrigin,
                    _ = s.yOrigin,
                    b = s.xOffset,
                    x = s.yOffset,
                    w = s.forceCSS,
                    T = parseFloat(u),
                    S = parseFloat(c);
                d = parseFloat(d), p = parseFloat(p), f = parseFloat(f), f && (f = parseFloat(f), p += f, d += f), d || p ? (d *= Ai, p *= Ai, i = Math.cos(d) * m, n = Math.sin(d) * m, r = Math.sin(d - p) * -g, o = Math.cos(d - p) * g, p && (f *= Ai, a = Math.tan(p - f), a = Math.sqrt(1 + a * a), r *= a, o *= a, f && (a = Math.tan(f), a = Math.sqrt(1 + a * a), i *= a, n *= a)), i = tt(i), n = tt(n), r = tt(r), o = tt(o)) : (i = m, o = g, n = r = 0), (T && !~(u + "").indexOf("px") || S && !~(c + "").indexOf("px")) && (T = sn(v, "x", u, "px"), S = sn(v, "y", c, "px")), (y || _ || b || x) && (T = tt(T + y - (y * i + _ * r) + b), S = tt(S + _ - (y * n + _ * o) + x)), (h || l) && (a = v.getBBox(), T = tt(T + h / 100 * a.width), S = tt(S + l / 100 * a.height)), a = "matrix(" + i + "," + n + "," + r + "," + o + "," + T + "," + S + ")", v.setAttribute("transform", a), w && (v.style[Yi] = a) },
            Rn = function(t, e, i, n, r, o) { var a, s, h = 360,
                    l = b(r),
                    u = parseFloat(r) * (l && ~r.indexOf("rad") ? Ei : 1),
                    c = o ? u * o : u - n,
                    d = n + c + "deg"; return l && (a = r.split("_")[1], "short" === a && (c %= h, c !== c % (h / 2) && (c += c < 0 ? h : -h)), "cw" === a && c < 0 ? c = (c + h * Ri) % h - ~~(c / h) * h : "ccw" === a && c > 0 && (c = (c - h * Ri) % h - ~~(c / h) * h)), t._pt = s = new qe(t._pt, e, i, n, c, Bi), s.e = d, s.u = "deg", t._props.push(i), s },
            Pn = function(t, e, i) { var n, r, o, a, s, h, l, u, c = ni.style,
                    d = i._gsap;
                c.cssText = getComputedStyle(i).cssText + ";position:absolute;display:block;", c[Yi] = e, $e.body.appendChild(ni), n = bn(ni, 1); for (r in Mi) o = d[r], a = n[r], o !== a && "perspective" !== r && (l = Ot(o), u = Ot(a), s = l !== u ? sn(i, r, o, u) : parseFloat(o), h = parseFloat(a), t._pt = new qe(t._pt, d, r, s, h - s, ki), t._pt.u = u, t._props.push(r));
                $e.body.removeChild(ni) },
            On = { name: "css", register: Qi, targetTest: function(t) { return t.style && t.nodeType }, init: function(t, e, i, n, r) { var o, a, s, h, l, c, d, p, f, m, g, v, y, _, b, x = this._props,
                        w = t.style;
                    ei || Qi(); for (d in e)
                        if ("autoRound" !== d && (a = e[d], !W[d] || !Ce(d, e, i, n, t, r)))
                            if (l = typeof a, c = pn[d], "function" === l && (a = a.call(i, n, t, r), l = typeof a), "string" === l && ~a.indexOf("random(") && (a = Yt(a)), c) c(this, t, d, a, i) && (b = 1);
                            else if ("--" === d.substr(0, 2)) this.add(w, "setProperty", getComputedStyle(t).getPropertyValue(d) + "", a + "", n, r, 0, 0, d);
                    else { if (o = hn(t, d), h = parseFloat(o), m = "string" === l && "=" === a.charAt(1) ? +(a.charAt(0) + "1") : 0, m && (a = a.substr(2)), s = parseFloat(a), d in Di && ("autoAlpha" === d && (1 === h && "hidden" === hn(t, "visibility") && s && (h = 0), on(this, w, "visibility", h ? "inherit" : "hidden", s ? "inherit" : "hidden", !s)), "scale" !== d && (d = Di[d], ~d.indexOf(",") && (d = d.split(",")[0]))), g = d in Mi) { if (v || (y = t._gsap, _ = e.smoothOrigin !== !1 && y.smooth, v = this._pt = new qe(this._pt, w, Yi, 0, 1, y.renderTransform, y), v.dep = 1), "scale" === d) { this._pt = new qe(this._pt, t, "scale", h, m ? m * s : s - h, 0, 0, Hi), x.push("scale"); continue } if ("transformOrigin" === d) { a = cn(a), y.svg ? _n(t, a, 0, _, 0, this) : (f = parseFloat(a.split(" ")[2]), f !== y.zOrigin && on(this, y, "zOrigin", y.zOrigin, f), on(this, w, d, xn(o), xn(a))); continue } if ("svgOrigin" === d) { _n(t, a, 1, _, 0, this); continue } if (d in mn) { Rn(this, y, d, h, a, m); continue } if ("smoothOrigin" === d) { on(this, y, "smooth", y.smooth, a); continue } if ("force3D" === d) { y[d] = a; continue } if ("transform" === d) { Pn(this, a, t); continue } } if (g || (s || 0 === s) && (h || 0 === h) && !Ii.test(a) && d in w) p = (o + "").substr((h + "").length), f = (a + "").substr((s + "").length) || (d in u.units ? u.units[d] : p), p !== f && (h = sn(t, d, o, f)), this._pt = new qe(this._pt, g ? y : w, d, h, m ? m * s : s - h, "px" !== f || e.autoRound === !1 || g ? ki : Fi), this._pt.u = f || 0, p !== f && (this._pt.b = o, this._pt.r = Ni);
                        else if (d in w) ln.call(this, t, d, o, a);
                        else { if (!(d in t)) { F("Invalid " + d + " tween " + a + ". Missing plugin? gsap.registerPlugin()"); continue } this.add(t, d, t[d], a, n, r) } x.push(d) } b && Ye(this) }, get: hn, aliases: Di, getSetter: function(t, e, i) { return e in Mi && e !== qi && (t._gsap.x || hn(t, "x")) ? i && ri === i ? "scale" === e ? Hi : Vi : (ri = i || {}) && ("scale" === e ? Wi : Xi) : t.style && !T(t.style[e]) ? ji : ~e.indexOf("-") ? zi : Ue(t, e) } };
        Ke.utils.checkPrefix = Ji,
            function(t, e, i, n) { var r = $(t + "," + e + "," + i, function(t) { Mi[t] = 1 });
                $(e, function(t) { u.units[t] = "deg", mn[t] = 1 }), Di[r[13]] = t + "," + e, $(n, function(t) { var e = t.split(":");
                    Di[e[1]] = r[e[0]] }) }("x,y,z,scale,scaleX,scaleY,xPercent,yPercent", "rotation,rotationX,rotationY,skewX,skewY", "transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective", "0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,9:rotateX,10:rotateY"), $("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective", function(t) { u.units[t] = "px" }), Ke.registerPlugin(On);
        var Ln = Ke.registerPlugin(On) || Ke;
        t.Back = yi, t.Bounce = bi, t.CSSPlugin = On, t.Circ = Ti, t.Cubic = pi, t.Elastic = vi, t.Expo = wi, t.Linear = ci, t.Power0 = ai, t.Power1 = si, t.Power2 = hi, t.Power3 = li, t.Power4 = ui, t.Quad = di, t.Quart = fi, t.Quint = mi, t.Sine = xi, t.SteppedEase = _i, t.Strong = gi, t.TimelineLite = Te, t.TimelineMax = Te, t.TweenLite = De, t.TweenMax = De, t["default"] = Ln, t.gsap = Ln, Object.defineProperty(t, "__esModule", { value: !0 })
    })
}, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = (i(122), i(13), i(47), i(153)),
            a = i(21),
            s = i(120),
            h = i(53),
            l = i(111),
            u = i(34),
            c = (i(124), i(24)),
            d = function() { this.item = null, this.iceBlocks = [], this.shakeTimer = new o(3, a.game), this.shakeTimer.onComplete.add(this.shake, this), this.doneTimer = new o(2, a.game), this.doneTimer.onComplete.add(this.complete, this) };
        d.displayName = "STR_POWERUP_FREEZE", d.prototype.reset = function(t) { this.completed = !1, this.shakeTimer = new o(3, a.game), this.shakeTimer.onComplete.add(this.shake, this), this.doneTimer = new o(2, a.game), this.doneTimer.onComplete.add(this.complete, this), this.iceBlocks.length = 0; var e = t.isTeamA ? t.world.game.teamLeft : t.world.game.teamRight;
            e.run(function(t) { if (t.ballSkills.ball) { var e = Math.random() * Math.PI * 2;
                    t.ballSkills.pass(Math.sin(e), Math.cos(e), 5, 10) } t.freezePowerup && t.freezePowerup.stop(), t.freeze(); var i = h.get(p);
                i.freeze = this, i.reset(t), t.view3d.add(i.view3d), this.iceBlocks.push(i) }, this), this.shakeTimer.start(), SoundManager.sfx.play("sfx_freeze") }, d.prototype.shake = function() { for (var t = 0; t < this.iceBlocks.length; t++) { var e = this.iceBlocks[t];
                e.shake() } this.doneTimer.start() }, d.prototype.update = function() { for (var t = 0; t < this.iceBlocks.length; t++) this.iceBlocks[t].update() }, d.prototype.stop = function() { if (!this.completed) { this.completed = !0, this.shakeTimer.stop(), this.doneTimer.stop(); for (var t = 0; t < this.iceBlocks.length; t++) { var e = this.iceBlocks[t];
                    e.remove(), e.target.reset(!0) } } }, d.prototype.complete = function() { if (!this.completed) { this.completed = !0; for (var t = 0; t < this.iceBlocks.length; t++) { var e = this.iceBlocks[t];
                    e.remove(), e.target.reset() } } }, n.exports = d; var p = function() { s.call(this), this.view3d = new THREE.Object3D, this.view3d.position.y = -40, this.view3d.rotation.x = window.test - Math.PI, this.mistAnim = new r.extras.MovieClip(u.getTexturesFromFrames(["ice_mist_01.png", "ice_mist_02.png", "ice_mist_03.png", "ice_mist_04.png", "ice_mist_05.png", "ice_mist_06.png", "ice_mist_07.png", "ice_mist_08.png", "ice_mist_09.png"])), this.mistAnim.animationSpeed = .2, this.mistAnim.loop = !1, this.mistAnim.onComplete = function() { this.animMesh.visible = !1 }.bind(this); var t = l.getMesh("ice_block_top.png", 0, 0);
            t.material.opacity = .8, this.view3d.add(t), t.position.y = -120, this.ice = t, this.life = 0, this.target = null, this.mistContainer = new THREE.Object3D, this.mistContainer.position.x = 130, this.mistContainer.position.y = 160, this.mistContainer.position.z = -160, this.view3d.add(this.mistContainer), this.animMesh = new l.getMesh, this.mistContainer.add(this.animMesh) };
        p.prototype = Object.create(s.prototype), window.iceblocks = [], p.prototype.reset = function(t) { this.target = t, this.target.freezePowerup = this.freeze, this.life = 0, this.view3d.position.x = 0, window.iceblocks.push(this), window.iceblock = this, this.ice.position.x = 0, this.ice.position.z = 0, this.mistAnim.gotoAndStop(0), this.mistAnim.gotoAndPlay(0), l.setUvs(this.animMesh, this.mistAnim.texture), this.animMesh.visible = !0, this.shaking = !1 }, p.prototype.shake = function() { this.shaking = !0 }, p.prototype.remove = function() { this.target.freezePowerup = null, this.target.view3d.remove(this.view3d), c.wait(this.returnToPool) }, p.prototype.update = function() { if (l.setUvs(this.animMesh, this.mistAnim.texture), this.shaking) { var t = 10;
                this.ice.position.x = -t + Math.random() * t * 2, this.ice.position.z = -t + Math.random() * t * 2 } this.view3d.rotation.x = window.test - Math.PI } }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = (i(8), i(122), i(13), i(47), i(153)),
            o = i(21),
            a = i(111),
            s = i(34),
            h = i(159),
            l = i(118),
            u = l.PLAYER_STATE,
            c = [],
            d = function() { this.item = null, this.timer = new r(10, o.game), this.timer.onComplete.add(this.stop, this), this.tick = 0, this.firetrailTextures = s.getTexturesFromFrames(["fire_trail_01.png", "fire_trail_02.png", "fire_trail_03.png", "fire_trail_04.png"]), this.fireballTextures = s.getTexturesFromFrames(["fireball_01.png", "fireball_02.png", "fireball_03.png", "fireball_04.png", "fireball_05.png", "fireball_06.png", "fireball_07.png", "fireball_08.png", "fireball_09.png", "fireball_10.png"]), this.fireball = new THREE.Object3D, this.fireball.position.x = 10, this.fireball.position.y = -30, this.fireball.position.z = 20, this.fireball.rotation.x = window.test - Math.PI, this.fireball.scale.x = this.fireball.scale.y = this.fireball.scale.z = .24, this.fireballAnim = a.getMesh("homing_electric_01.png", .5, .5), this.fireballAnim.material.opacity = .5, this.fireball.add(this.fireballAnim), this.firetrailContainer = new THREE.Object3D, this.firetrail = new THREE.Object3D, this.firetrail.position.x = 220, this.firetrail.position.y = -20, this.firetrail.position.z = 20, this.firetrail.rotation.x = window.test - Math.PI, window.firetrail = this.firetrail, this.firetrailAnim = a.getMesh("fire_trail_01.png", .5, .5), this.firetrail.add(this.firetrailAnim), this.firetrailContainer.add(this.firetrail) };
        d.displayName = "STR_POWERUP_FIREBALL", d.prototype.reset = function(t) { this.item = t, this.dead = !1, this.timer.start(); var e = this.item.world.game.ball;
            e.isTeamA = t.isTeamA, e.onFire = !0, e.fireBall = this; var i = e.owner; if (i && i.isTeamA !== t.isTeamA) { if (i.ballSkills.ball) { var n = Math.random() * Math.PI * 2;
                    i.ballSkills.pass(Math.sin(n), Math.cos(n), 5, 10) } } else i && this.addFireTrail(i);
            e.view3d.add(this.fireball), SoundManager.sfx.play("sfx_fireball") }, d.prototype.setPlayerOnFire = function(t) { var e = new h;
            e.item = t, t.world.view3d.scene.add(e.cloud), c.push(e); var i = new r(3, o.game);
            i.onComplete.add(this.stopPlayerOnFire.bind(this, t)), i.start() }, d.prototype.stopPlayerOnFire = function(t) { for (var e = c.length - 1; e >= 0; e--) { var i = c[e]; if (i.item === t) return i.item.world.view3d.scene.remove(i.cloud), i.item.setState(u.IDLE), void c.splice(e, 1) } }, d.prototype.addFireTrail = function(t) { this.removeFireTrail(), t.view3d.add(this.firetrailContainer), this.firetrailAnim.player = t, this.firetrailContainer.scale.x = -this.firetrailAnim.player.view3d.flipContainer.scale.x }, d.prototype.removeFireTrail = function(t) { this.firetrailAnim.player && this.firetrailAnim.player.view3d.remove(this.firetrailContainer) }, d.prototype.update = function() { for (var t = 0; t < c.length; t++) { var e = c[t];
                e.update(e.item) } this.firetrailAnim.player && (this.firetrailContainer.scale.x = -this.firetrailAnim.player.view3d.flipContainer.scale.x), this.tick += .2, a.setUvs(this.fireballAnim, this.fireballTextures[this.tick % this.fireballTextures.length | 0], .5, .5), a.setUvs(this.firetrailAnim, this.firetrailTextures[this.tick % this.firetrailTextures.length | 0], .5, .5) }, d.prototype.stop = function() { this.dead = !0, this.removeFireTrail(); var t = this.item.world.game.ball;
            t.onFire = !1, t.view3d.remove(this.fireball); for (var e = 0; e < c.length; e++) { var i = c[e];
                i.item.world.view3d.scene.remove(i.cloud), i.item.setState(u.IDLE) } c.length = 0 }, n.exports = d }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = (i(8), i(122), i(13), i(47), i(153)),
            o = i(21),
            a = i(111),
            s = i(118),
            h = s.PLAYER_STATE,
            l = function() { this.item = null, this.timer = new r(5, o.game), this.timer.onComplete.add(this.stop, this), this.stars = [], this.starsPerPlayer = 3, this.count = 0 };
        l.displayName = "STR_POWERUP_SHRINKATRON", l.prototype.reset = function(t) { this.item = t, this.dead = !1, this.timer.start(); var e = t.isTeamA ? t.world.game.teamLeft : t.world.game.teamRight;
            e.run(function(t) { t.isShrink = !0, t.originalScale = t.view3d.scale.x, t.view3d.scale.x = t.view3d.scale.y = t.view3d.scale.z = .12, t.stars = []; for (var e = 0; e < this.starsPerPlayer; e++) { var i = a.getMesh("dizzy_star.png", .5, .5);
                    i.visible = !1, t.view3d.add(i), t.stars.push(i), this.stars.push(i) } if (t.ballSkills.ball) { var n = Math.random() * Math.PI * 2;
                    t.ballSkills.pass(Math.sin(n), Math.cos(n), 5, 10) } }, this); var i = t.isTeamA ? t.world.game.teamRight : t.world.game.teamLeft;
            i.run(function(t) { t.canBeTackled = !1 }, this), SoundManager.sfx.play("sfx_shrink") }, l.prototype.update = function() { this.count += .1; for (var t = 0; t < this.stars.length; t++) { var e = this.stars[t]; if (e.visible) { var i = 2 * Math.PI / this.starsPerPlayer;
                    e.rotation.x = window.test - Math.PI, e.rotation.y = 1, e.position.x = 50 * Math.sin(this.count + i * t) + 0, e.position.y = 50 * Math.cos(this.count + i * t) + 500 } } }, l.prototype.stop = function() { if (!this.dead) { this.dead = !0; var t = this.item.isTeamA ? this.item.world.game.teamLeft : this.item.world.game.teamRight;
                t.run(function(t) { for (var e = 0; e < t.stars.length; e++) t.view3d.remove(t.stars[e]);
                    t.isShrink = !1, t.view3d.reticle.visible = !0, t.view3d.scale.x = t.view3d.scale.y = t.view3d.scale.z = t.originalScale, t.state === h.FREEZE && t.setState(h.IDLE) }, this); var e = this.item.isTeamA ? this.item.world.game.teamRight : this.item.world.game.teamLeft;
                e.run(function(t) { t.canBeTackled = !0 }, this) } }, n.exports = l }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = (i(8), i(122), i(13), i(47), i(153)),
            o = i(21),
            a = i(111),
            s = i(34),
            h = function() { this.item = null, this.timer = new r(5, o.game), this.timer.onComplete.add(this.stop, this), this.tick = 0, this.electricTextures = s.getTexturesFromFrames(["homing_electric_01.png", "homing_electric_02.png", "homing_electric_03.png", "homing_electric_04.png", "homing_electric_05.png", "homing_electric_06.png", "homing_electric_07.png"]), this.homingTextures = s.getTexturesFromFrames(["homing_01.png", "homing_02.png", "homing_03.png"]), this.electric = new THREE.Object3D, this.electric.position.x = 6, this.electric.position.y = -30, this.electric.position.z = 20, this.electric.rotation.x = window.test - Math.PI, this.electric.scale.x = this.electric.scale.y = this.electric.scale.z = .24, this.electricAnim = a.getMesh("lightning_03.png", .5, .5), this.electric.add(this.electricAnim), this.homing = new THREE.Object3D, this.homing.position.x = 26, this.homing.position.y = -20, this.homing.position.z = 20, this.homing.rotation.x = window.test - Math.PI, this.homing.scale.x = this.homing.scale.y = this.homing.scale.z = .24, this.homingAnim = a.getMesh("homing_01.png", .5, .5), this.homing.add(this.homingAnim) };
        h.displayName = "STR_POWERUP_REMOTEBALL", h.prototype.reset = function(t) { this.item = t, this.dead = !1, this.timer.start(); var e = this.item.world.game.ball;
            e.remoteBall = !0, e.isTeamA = t.isTeamA, e.view3d.add(this.electric), e.view3d.add(this.homing), window.electric = this.electric, window.homing = this.homing, SoundManager.sfx.play("sfx_homing") }, h.prototype.update = function() { this.tick += .2, a.setUvs(this.electricAnim, this.electricTextures[this.tick % this.electricTextures.length | 0], .5, .5), a.setUvs(this.homingAnim, this.homingTextures[this.tick % this.homingTextures.length | 0], .5, .5) }, h.prototype.stop = function(t) { this.dead = !0; var e = this.item.world.game.ball;
            e.remoteBall = !1, e.view3d.remove(this.electric), e.view3d.remove(this.homing) }, n.exports = h }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, i) { var n = function() { this.item = null };
        n.customIcon = ASSET_URL + "img/pickup-coin.png", n.noMessage = !0, n.onlyPlayer = !0, n.isCoin = !0, n.prototype.reset = function(t) { var e = app.game.world.view3d.toScreenPosition(t);
            app.game.animateCoin(e, 15) }, n.prototype.update = function() {}, n.prototype.stop = function() {}, i.exports = n }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(153),
            o = i(21),
            a = i(53),
            s = i(171),
            h = function() { this.item = null, this.snowmans = [], this.timer = new r(6, o.game), this.timer.onComplete.add(this.stop, this) };
        h.displayName = "STR_POWERUP_SNOWBALL", h.prototype.reset = function(t) { this.item = t; var e = t.isTeamA ? t.world.game.teamLeft : t.world.game.teamRight;
            e.run(function(t) { if (t.snowballPowerup && t.snowballPowerup.stop(), t.ballSkills.ball) { var e = Math.random() * Math.PI * 2;
                    t.ballSkills.pass(Math.sin(e), Math.cos(e), 5, 10), this.snowmanPlayer(t) } }, this); var i = this.item.world.game.ball;
            i.isTeamA = t.isTeamA, i.onSnow = !0, i.snowBall = this, i.swapBall("snow"), this.timer.start() }, h.prototype.snowmanPlayer = function(t) { t.freeze(); var e = a.get(s);
            e.snowball = this, e.reset(t), t.view3d.add(e.view3d), this.snowmans.push(e) }, h.prototype.update = function() { for (var t = 0; t < this.snowmans.length; t++) this.snowmans[t].update() }, h.prototype.stop = function() { var t = this.item.world.game.ball;
            t.onSnow = !1, t.swapBall("base") }, n.exports = h }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) {
    var n;
    n = function(t, e, n) {
        var r = i(8),
            o = i(9),
            a = i(153),
            s = i(21),
            h = i(120),
            l = i(111),
            u = i(34),
            c = i(24),
            d = function() {
                h.call(this), this.view3d = new o.Object3D, this.view3d.position.y = -40, this.view3d.rotation.x = window.test - Math.PI, this.mistAnim = new r.extras.MovieClip(u.getTexturesFromFrames(["ice_mist_01.png", "ice_mist_02.png", "ice_mist_03.png", "ice_mist_04.png", "ice_mist_05.png", "ice_mist_06.png", "ice_mist_07.png", "ice_mist_08.png", "ice_mist_09.png"])), this.mistAnim.animationSpeed = .2, this.mistAnim.loop = !1, this.mistAnim.onComplete = function() { this.mistAnimMesh.visible = !1, this.isEnding && this.remove() }.bind(this), this.powderAnim = new r.extras.MovieClip(u.getTexturesFromFrames(["smoke_01.png", "smoke_02.png", "smoke_03.png", "smoke_04.png", "smoke_05.png", "smoke_06.png", "smoke_07.png", "smoke_08.png", "smoke_09.png", "smoke_10.png", "smoke_11.png", "smoke_12.png", "smoke_13.png", "smoke_14.png", "smoke_15.png", "smoke_16.png"])), this.powderAnim.animationSpeed = .25, this.powderAnim.loop = !1, this.powderAnim.onComplete = function() { this.powderAnimMesh.visible = !1, this.isEnding && this.remove() }.bind(this);
                var t = l.getMesh("banana_peel_shadow.png", 0, 0),
                    e = l.getMesh("snowman_01.png", 0, 0),
                    i = l.getMesh("snowman_02.png", 0, 0),
                    n = l.getMesh("snowman_03.png", 0, 0);
                this.snowmanContainer = new o.Object3D, this.snowmanContainer.add(t), this.snowmanContainer.add(e), this.snowmanContainer.add(i), this.snowmanContainer.add(n), this.view3d.add(this.snowmanContainer), t.position.y = -25, t.position.x = 8, t.position.z = -10, t.material.opacity = .4, e.position.y = -150, e.position.x = 0, e.position.z = -11, i.position.y = -165, i.position.x = 0, i.position.z = -12, n.position.y = -170, n.position.x = 0, n.position.z = -13, this.target = null, this.isEnding = !1, this.vfxContainer = new o.Object3D, this.vfxContainer.position.x = 160, this.vfxContainer.position.y = 135, this.vfxContainer.position.z = -180, this.view3d.add(this.vfxContainer), this.mistAnimMesh = new l.getMesh, this.mistAnimMesh.visible = !1, this.powderAnimMesh = new l.getMesh, this.vfxContainer.add(this.mistAnimMesh), this.vfxContainer.add(this.powderAnimMesh), this.shakeTimer = new a(2, s.game), this.shakeTimer.onComplete.add(this.shake, this), this.shakingTimer = new a(1.5, s.game), this.shakingTimer.onComplete.add(this.complete, this);
            };
        d.prototype = Object.create(h.prototype), d.prototype.reset = function(t) { this.target = t, this.target.snowballPowerup = this.snowball, this.target.hidePlayerView(), this.snowmanContainer.visible = !0, this.view3d.position.x = 0, this.powderAnim.gotoAndPlay(0), l.setUvs(this.mistAnimMesh, this.mistAnim.texture), l.setUvs(this.powderAnimMesh, this.powderAnim.texture), this.powderAnimMesh.visible = !0, this.shaking = !1, this.isEnding = !1, this.shakeTimer.start(), SoundManager.sfx.play("sfx_snowball") }, d.prototype.remove = function() { this.target.snowballPowerup = null, this.target.view3d.remove(this.view3d), c.wait(this.returnToPool) }, d.prototype.shake = function() { this.shaking = !0, this.shakingTimer.start() }, d.prototype.complete = function() { this.target.showPlayerView(), this.snowmanContainer.visible = !1, this.isEnding = !0, this.powderAnim.gotoAndPlay(0), this.powderAnimMesh.visible = !0, this.target.reset(!0), SoundManager.sfx.play("tackle_hit_deck") }, d.prototype.update = function() { if (l.setUvs(this.mistAnimMesh, this.mistAnim.texture), l.setUvs(this.powderAnimMesh, this.powderAnim.texture), this.shaking) { var t = 10;
                this.snowmanContainer.position.x = -t + Math.random() * t * 2, this.snowmanContainer.position.z = -t + Math.random() * t * 2 } this.view3d.rotation.x = window.test - Math.PI }, n.exports = d
    }.call(e, i, e, t), !(void 0 !== n && (t.exports = n))
}, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = (i(13), function(t, e, i) { r.Container.call(this), this.w = t, this.h = e, this.ratio = i || .1; var n = (new r.Graphics).beginFill(0).drawRect(0, 0, 32, 32).generateTexture();
                this.topBar = new r.Sprite(n), this.bottomBar = new r.Sprite(n), this.addChild(this.topBar), this.addChild(this.bottomBar), this.resize(t, e), this.shown = !1, this.topBar.anchor.y = 1, this.bottomBar.anchor.y = -1 });
        o.prototype = Object.create(r.Container.prototype), o.prototype.show = function(t) { t ? (this.topBar.anchor.y = 0, this.bottomBar.anchor.y = 0) : (TweenLite.to(this.topBar.anchor, 2, { y: 0, ease: Ease.easeIn }), TweenLite.to(this.bottomBar.anchor, 2, { y: 0, ease: Ease.easeIn })) }, o.prototype.hide = function(t) { t ? (this.topBar.anchor.y = 1, this.bottomBar.anchor.y = -1) : (TweenLite.to(this.topBar.anchor, 2, { y: 1, ease: Ease.easeOut }), TweenLite.to(this.bottomBar.anchor, 2, { y: -1, ease: Ease.easeOut })) }, o.prototype.resize = function(t, e) { this.w = t, this.h = e, this.topBar.scale.x = t / 32, this.bottomBar.scale.x = t / 32; var i = e * this.ratio;
            this.topBar.scale.y = i / 32, this.bottomBar.scale.y = i / 32, this.bottomBar.position.y = e - i }, n.exports = o }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { "use strict"; var n = i(48),
        r = function(t) { this.game = t, this.teamA = { lastScored: 0, goalScorePercentage: .5, speedMod: 1, aggressiveness: 0, tackleChance: 1, turnMultiplier: 1 }, this.teamB = { lastScored: 0, goalScorePercentage: .5, speedMod: .95, aggressiveness: 20, tackleChance: .5, turnMultiplier: 1 }, this.human = this.teamA, this.ai = this.teamB, this.eb = 0 };
    r.prototype.update = function() { var t = this.game.goalsA - this.game.goalsB,
            e = this.game.getMatchType(),
            i = 1,
            r = 0; "semi" === e ? (i = 2, r = -70) : "final" === e && (i = 4, r = -140), this.ai.goalScorePercentage = .25 * i, this.ai.turnMultiplier = 1, this.ai.aggressiveness = 0 + r, this.ai.tackleChance = .75, this.ai.speedMod = 1, n.isTournament || (this.ai.aggressiveness = 200, this.ai.tackleChance = .3, this.ai.goalScorePercentage = .1), t <= -1 ? (this.ai.goalScorePercentage = .15, this.ai.turnMultiplier = 4) : t >= 1 && (this.ai.goalScorePercentage = .375 * i), t <= -3 ? (this.ai.aggressiveness = 200, this.ai.speedMod = .9, this.ai.tackleChance = .3, this.ai.goalScorePercentage = .1) : t >= 3 && (this.ai.aggressiveness = -50 + r, this.ai.speedMod = 1.3, this.ai.tackleChance = 1, this.ai.goalScorePercentage = 1), this.human.speedMod = 1, this.eb++, this.eb > 3600 && (t > 0 ? this.human.speedMod = .9 : t < 0 && (this.human.speedMod = 1.1)) }, t.exports = r }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(13),
            a = i(175),
            s = (i(16), i(30), function() { r.Container.call(this), this.onFinish = new o, this.bg = new r.Graphics, this.bg.beginFill(64767), this.bg.drawRect(0, 0, 1136, 852), this.addChild(this.bg), this.tear1 = r.Sprite.from("super_shot_bg_tear_1.png"), this.tear1.anchor.set(.5), this.addChild(this.tear1), this.tear2 = r.Sprite.from("super_shot_bg_tear_2.png"), this.tear2.anchor.set(.5), this.tear2.x = 2e3, this.addChild(this.tear2), this.rushBackground = new a, this.addChild(this.rushBackground), this.item = new r.Sprite, this.addChild(this.item), this.item.anchor.set(1), this.item.scale.set(1.5), this.visible = !1, this.pos = new r.Point, this.top = r.Sprite.from("super_shot_bg_border_2.png"), this.top.height = 20, this.top.anchor.set(.5, 0), this.addChild(this.top), this.bottom = r.Sprite.from("super_shot_bg_border_1.png"), this.bottom.height = 20, this.bottom.anchor.set(.5, 1), this.addChild(this.bottom) });
        s.prototype = Object.create(r.Container.prototype), s.prototype.show = function(t) { t["super"] ? (this.item.texture = r.Texture.from(t["super"]), this.item.alpha = 1) : (alert("Super move image missing for " + t.id), this.item.alpha = 0), this.visible = !0, this.item.x = 0, this.item.y = this.h - 20, this.item.height = this.h - 40, this.item.scale.x = this.item.scale.y, TweenLite.to(this.item, 1.6, { x: this.w + 1.5 * this.item.width, onComplete: function() { this.onFinish.dispatch(), this.visible = !1 }, onCompleteScope: this, delay: .2, ease: Power3.easeIn }) }, s.prototype.updateTransform = function() { this.rushBackground.update(this.pos), this.containerUpdateTransform(); var t = 60;
            this.tear1.x -= t, this.tear1.x < -1e3 && (this.tear1.x = this.w + 1e3), this.tear2.x -= t, this.tear2.x < -1e3 && (this.tear2.x = this.w + 1e3) }, s.prototype.resize = function(t, e) { this.w = t, this.h = e, this.bg.width = t, this.bg.height = e, this.top.width = t, this.top.x = t / 2, this.bottom.x = t / 2, this.bottom.width = t, this.bottom.y = e, this.tear1.height = e - 40, this.tear1.scale.x = this.tear1.scale.y, this.tear1.y = e / 2, this.tear2.height = e - 40, this.tear2.scale.x = this.tear2.scale.y, this.tear2.y = e / 2, this.rushBackground.w = t, this.rushBackground.h = e }, n.exports = s }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(53),
            a = i(22);
        RushBackground = function(t, e, i) { r.Container.call(this), this.particals = [], this.particalPool = new o(ParticalTicker), this.max = r.isWebGL ? 80 : 5, this.overallScale = i || 1, a.instance.isMobile && (this.max = r.isWebGL ? 60 : 10), this.count = 0, this.pos = 0; for (var n = 0; n < this.max; n++) { var s = this.particalPool.getObject();
                s.home.x = Math.random() * -1136, s.position.y = s.home.y = 110640 * Math.random(), s.speed = new r.Point(5 + 10 * Math.random(), 0), s.speed.x *= -5, this.particals.push(s), this.addChild(s) } this.w = t || 1136, this.h = e || 740, this.focalLength = 150 }, RushBackground.prototype = Object.create(r.Container.prototype), RushBackground.prototype.update = function(t) { if (this.visible)
                for (var e = 0; e < this.particals.length; e++) { var i = this.particals[e],
                        n = this.focalLength / (this.focalLength + i.z),
                        n = this.focalLength / (this.focalLength + i.z);
                    i.scale.x = i.scale.y = .5 * n * i.scaleOffset * this.overallScale, i.home.x += i.speed.x, i.home.y += i.speed.y, i.position.y = (i.home.y - t.y) * n * .5, i.position.x = (i.home.x - t.x) * n * .5; var r = 300;
                    i.position.x += r; var o = this.w + 2 * r;
                    i.position.x %= o, i.position.x < 0 && (i.position.x += o), i.position.x -= r, i.position.y %= this.h, i.position.y < 0 && (i.position.y += this.h) } }, RushBackground.prototype.resize = function(t) {}, ParticalTicker = function(t) {
            function e() { return t.apply(this, arguments) } return e.toString = function() { return t.toString() }, e }(function() { var t = Math.round(6 * Math.random());
            r.Sprite.call(this, r.Texture.fromFrame(ParticalTicker.frames[t])), this.anchor.set(.5), this.scaleOffset = 1 + Math.random(), this.z = -50 + Math.random() * -50, this.rotation = 0, this.home = new r.Point }), ParticalTicker.frames = ["super_shot_bg_smear_1.png", "super_shot_bg_dot_1.png", "super_shot_bg_dot_2.png", "super_shot_bg_dot_3.png", "super_shot_bg_dot_4.png", "super_shot_bg_dot_5.png", "super_shot_bg_dot_6.png"], ParticalTicker.prototype = Object.create(r.Sprite.prototype), n.exports = RushBackground }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { "use strict";

    function n(t) { return t && t.__esModule ? t : { "default": t } }

    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } e.__esModule = !0; var s = i(8),
        h = i(177),
        l = n(h),
        u = i(48),
        c = n(u),
        d = i(50),
        p = n(d),
        f = i(118),
        m = f.TEAM_STATE,
        g = { PICKUPBALL: 0, PASS: 1, IATACKLE: 2, HUMANTACKLE: 3, HUMANSHOOT: 4 },
        v = function(t) {
            function e(i) { r(this, e); var n = o(this, t.call(this)); return n.currentStep = 0, n.shotCount = 0, n.game = i, n.controller = i.controller, n.instruction = new l["default"], n.addChild(n.instruction), n.activeShoot = !1, n.activeRelease = !1, n._onGoalScored = n.onGoalScored.bind(n), n._onBallRecievedHUMANTACKLE = n.onBallRecievedHUMANTACKLE.bind(n), n._onBallRecievedPass = n.onBallRecievedPass.bind(n), n._onBallRecievedB = n.onBallRecievedB.bind(n), n._onPickUp = n.onPickup.bind(n), n } return a(e, t), e.prototype.start = function() { var t = this;
                this.game.reset(), this.instruction.reset(), this.currentStep = 0, this.shotCount = 0, this.activeShoot = !1, this.activeRelease = !1, this.updateStep(), this.instruction.updateStep(), setTimeout(function() { t.instruction.show() }, 1900), setTimeout(function() { "GAME" === t.game.app.screenManager.currentScreen.id && (t.game.app.topMenu.skipButton.visible = !0) }, 5e3) }, e.prototype.next = function() { this.currentStep++, this.updateStep() }, e.prototype.prev = function() { this.currentStep--, this.updateStep() }, e.prototype.updateStep = function() { var t = this; switch (p["default"].adbTrackAction("tutorial", { step: this.currentStep }), p["default"].bootstrapEventTrigger("tutorial", { step: this.currentStep }), this.currentStep) {
                    case g.PICKUPBALL:
                        this.game.app.topMenu.skipButton.visible = !1, this.game.powerupManager.pause(), this.game.arrow.show(), this.game.pitch.hideLogo(), this.game.keeperManagerRight.hide(), this.game.keeperRight.hide(), this.game.keeperLeft.hide(), this.game.controller.lockRight = !1, this.game.controller.lockLeft = !0, this.game.controller.lockUp = !0, this.game.controller.lockDown = !0, this.game.goalLeft.disableGoal(), this.game.goalRight.disableGoal(), this.game.teamManagerA.hideAll(), this.game.teamManagerA.setState(m.TUTORIAL_IDLE), this.game.teamManagerA.show(2, .35, .5), this.game.teamManagerA.setPlayer(this.game.teamManagerA.team[2]), this.game.teamManagerA.go(), this.game.teamManagerA.disableTackle(), this.game.teamManagerA.disableShoot(), this.game.teamManagerA.team.children[2].signals.onBallRecieved.addOnce(this._onPickUp), this.game.arrow.opos.x = this.game.teamManagerA.team.children[2].position.x + (this.game.ball.position.x - this.game.teamManagerA.team.children[2].position.x) / 2, this.game.arrow.opos.y = this.game.ball.position.y, this.game.arrow.opos.z = this.game.ball.position.z + 20, this.instruction.showKeyBoard(), this.instruction.showSpace(), this.instruction.controllerView.highlightRight = !0, this.instruction.controllerView.highlightLeft = !1, this.instruction.controllerView.highlightSpace = !1, this.instruction.controllerView.disableLeft = !0, this.instruction.controllerView.disableRight = !1, this.instruction.controllerView.disableUp = !0, this.instruction.controllerView.disableDown = !0, this.instruction.controllerView.disableSpace = !0, this.game.ball.setActive(!0), this.game.teamManagerB.hideAll(), this.game.teamManagerB.setState(m.TUTORIAL_IDLE); break;
                    case g.PASS:
                        this.instruction.controllerView.highlightRight = !1, this.instruction.controllerView.highlightSpace = !0, this.game.controller.lockRight = !0, this.game.teamManagerA.setState(m.TUTORIAL_IDLE), this.game.teamManagerA.show(0, .62, .64), this.game.teamManagerA.show(1, .72, .5), this.game.teamManagerA.team.children[0].movement.direction.x = 1, this.game.teamManagerA.team.children[0].movement.direction.y = -1, this.game.arrow.hide(), setTimeout(function() { t.game.arrow.opos.x = t.game.teamManagerA.team.children[1].position.x + (t.game.teamManagerA.team.children[2].position.x - t.game.teamManagerA.team.children[1].position.x) / 2, t.game.arrow.opos.y = t.game.ball.position.y, t.game.arrow.opos.z = t.game.ball.position.z + 20 }, 100), this.game.teamManagerB.show(1, .4, .5), this.instruction.controllerView.disableLeft = !0, this.instruction.controllerView.disableRight = !0, this.instruction.controllerView.disableUp = !0, this.instruction.controllerView.disableDown = !0, this.instruction.controllerView.disableSpace = !1, this.game.teamManagerA.team.children[0].signals.onBallRecieved.addOnce(function() { this.game.teamManagerA.setPlayer(this.game.teamManagerA.team.children[0]), this.game.teamManagerA.team.children[2].moveTo(.5 * this.game.pitchWidth, .3 * this.game.pitchHeight) }.bind(this)), this.game.teamManagerA.team.children[1].signals.onBallRecieved.addOnce(this._onBallRecievedPass); break;
                    case g.IATACKLE:
                        setTimeout(function() { t.game.teamManagerA.team.children[2].stop() }, 1300), this.game.teamManagerA.setPlayer(this.game.teamManagerA.team.children[1]), this.instruction.controllerView.highlightSpace = !1, this.game.controller.lockSpace = !0, this.game.teamManagerA.disablePass(), this.game.teamManagerB.disablePass(), this.game.teamManagerB.setState(m.TUTORIAL_TACKLE), this.instruction.controllerView.disableLeft = !0, this.instruction.controllerView.disableRight = !0, this.instruction.controllerView.disableUp = !0, this.instruction.controllerView.disableDown = !0, this.instruction.controllerView.disableSpace = !0, this.game.teamManagerB.team.children[1].signals.onBallRecieved.addOnce(this._onBallRecievedB); break;
                    case g.HUMANTACKLE:
                        this.game.teamManagerA.setState(m.TUTORIAL_IDLE), this.game.teamManagerB.setState(m.TUTORIAL_IDLE), this.game.teamManagerA.enableTackle(), this.game.teamManagerA.team.children[0].moveTo(.5 * this.game.pitchWidth, .7 * this.game.pitchHeight), setTimeout(function() { this.game.teamManagerB.team.children[1].moveTo(.46 * this.game.pitchWidth, .5 * this.game.pitchHeight) }.bind(this), 1e3), setTimeout(function() { this.instruction.next() }.bind(this), 2e3), this.instruction.controllerView.highlightLeft = !1, this.instruction.controllerView.highlightSpace = !0, this.instruction.controllerView.highlightMovement = !0, this.instruction.controllerView.highlightMobileLeft = !0, this.instruction.controllerView.disableLeft = !1, this.instruction.controllerView.disableRight = !1, this.instruction.controllerView.disableUp = !0, this.instruction.controllerView.disableDown = !0, this.instruction.controllerView.disableSpace = !1, this.game.controller.lockSpace = !1, this.game.controller.lockLeft = !1, this.game.controller.lockUp = !0, this.game.controller.lockDown = !0, this.game.controller.lockRight = !1, this.game.teamManagerA.team.children[1].signals.onBallRecieved.addOnce(this._onBallRecievedHUMANTACKLE); break;
                    case g.HUMANSHOOT:
                        setTimeout(function() { t.game.arrow.show(), t.game.arrow.opos.x = t.game.teamManagerA.team.children[1].position.x + 200, t.game.arrow.opos.y = t.game.ball.position.y, t.game.arrow.opos.z = t.game.ball.position.z + 20 }, 100), this.instruction.controllerView.highlightLeft = !1, this.instruction.controllerView.highlightSpace = !1, this.instruction.controllerView.highlightRight = !0, this.instruction.controllerView.highlightMovement = !1, this.instruction.controllerView.highlightMobileLeft = !1, this.instruction.controllerView.disableLeft = !0, this.instruction.controllerView.disableRight = !1, this.instruction.controllerView.disableUp = !0, this.instruction.controllerView.disableDown = !0, this.instruction.controllerView.disableSpace = !0, this.game.controller.lockSpace = !0, this.game.controller.lockLeft = !0, this.game.controller.lockUp = !0, this.game.controller.lockDown = !0, this.game.controller.lockRight = !1, this.game.goalRight.onGoalScored.addOnce(this._onGoalScored) } }, e.prototype.onPickup = function() { this.game.teamManagerA.constrainPlayer = !1, this.game.arrow.hide(), this.next(), this.instruction.next() }, e.prototype.onBallRecievedB = function() { this.next() }, e.prototype.onBallRecievedPass = function() { this.next(), this.game.arrow.hide(), this.instruction.next() }, e.prototype.onBallRecievedHUMANTACKLE = function() { this.instruction.next(), this.next() }, e.prototype.onGoalScored = function() { var t = this;
                this.game.app.topMenu.skipButton.visible = !1, this.instruction.controllerView.highlightSpace = !1, p["default"].adbTrackAction("tutorial_end"), p["default"].bootstrapEventTrigger("tutorial_end"), this.instruction["final"](), this.game.arrow.hide(), setTimeout(function() { t.instruction.hide() }, 5e3), setTimeout(function() { t.game.app.localStorage.store("showTutorial", !1), window.showTutorial = !1, c["default"].isTournament && (p["default"].adbTrackAction("start_match", { match_type: t.game.getMatchType() }), p["default"].bootstrapEventTrigger("start_match", { match_type: t.game.getMatchType() })), t.game.reset() }, 5600) }, e.prototype.onTutorialSkipped = function() { p["default"].adbTrackAction("tutorial_skip"), p["default"].bootstrapEventTrigger("tutorial_skip"), TweenLite.to(this.game.black, .8, { alpha: 1, ease: Sine.easeOut, onComplete: this.onTutorialSkippedFadeOut, onCompleteScope: this }), this.game.arrow.hide(), this.instruction.hide() }, e.prototype.onTutorialSkippedFadeOut = function() { TweenLite.to(this.game.black, .8, { alpha: 0, ease: Sine.easeOut }), this.reset(), this.removeChild(this.instruction), this.game.app.localStorage.store("showTutorial", !1), window.showTutorial = !1, c["default"].isTournament && (p["default"].adbTrackAction("start_match", { match_type: this.game.getMatchType() }), p["default"].bootstrapEventTrigger("start_match", { match_type: this.game.getMatchType() })), this.game.reset() }, e.prototype.resize = function(t, e) { this.limitX = t / 5, this.instruction.resize(t, e) }, e.prototype.update = function() { if (this.instruction.update(this.controller), this.currentStep === g.HUMANTACKLE) { var t = this.game.teamManagerA.activePlayer; if (!t) return;
                    this.limitX && (t.position.x > this.game.pitchWidth / 2 + this.limitX && (t.position.x = this.game.pitchWidth / 2 + this.limitX), t.position.x < this.game.pitchWidth / 2 - this.limitX && (t.position.x = this.game.pitchWidth / 2 - this.limitX)), t.position.y < 300 && (t.position.y = 300), t.position.y > 800 && (t.position.y = 800) } else if (this.currentStep === g.HUMANSHOOT) { var t = this.game.teamManagerA.activePlayer; if (!t) return;
                    t.position.x / this.game.pitchWidth > .8 && !this.activeShoot ? (this.instruction.next(), this.activeShoot = !0, this.game.goalRight.enableGoal(), this.instruction.controllerView.highlightLeft = !1, this.instruction.controllerView.highlightSpace = !0, this.instruction.controllerView.highlightRight = !1, this.game.controller.lockSpace = !1, this.game.controller.lockLeft = !0, this.game.controller.lockUp = !0, this.game.controller.lockDown = !0, this.game.controller.lockRight = !0, this.instruction.controllerView.disableLeft = !0, this.instruction.controllerView.disableRight = !0, this.instruction.controllerView.disableUp = !0, this.instruction.controllerView.disableDown = !0, this.instruction.controllerView.disableSpace = !1, this.game.teamManagerA.enableShoot(), t.forceSuperShot = !0) : this.activeShoot && t.state === f.PLAYER_STATE.KICK_CHARGE && !this.activeRelease ? (this.activeRelease = !0, this.instruction.setStep(6), this.shotCount++, this.shotCount > 8 && (t.forceSuperShot = !1)) : this.activeShoot && t.state === f.PLAYER_STATE.KICK_CHARGE && this.activeRelease || this.activeShoot && t.state !== f.PLAYER_STATE.KICK_CHARGE && this.activeRelease && (this.activeRelease = !1, t.ballSkills.ball && this.shotCount < 2 ? this.instruction.setStep(5) : (this.instruction.hideKeyBoard(), this.instruction.hideSpace())) } }, e.prototype.reset = function() { window.clearTimeout(this.timeOutTackle), this.game.teamManagerA.team.children[2].signals.onBallRecieved.remove(this._onPickUp), this.game.teamManagerA.team.children[1].signals.onBallRecieved.remove(this._onBallRecievedPass), this.game.teamManagerB.team.children[1].signals.onBallRecieved.remove(this._onBallRecievedB), this.game.teamManagerA.team.children[1].signals.onBallRecieved.remove(this._onBallRecievedHUMANTACKLE), this.game.goalRight.onGoalScored.remove(this._onGoalScored), this.currentStep = 0, this.addChild(this.instruction) }, e }(s.Container);
    e["default"] = v, t.exports = e["default"] }, function(t, e, i) { "use strict";

    function n(t) { return t && t.__esModule ? t : { "default": t } }

    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } e.__esModule = !0; var s = i(8),
        h = i(178),
        l = n(h),
        u = i(56),
        c = n(u),
        d = i(22),
        p = n(d),
        f = i(43),
        m = (n(f), function(t) {
            function e() { r(this, e); var i = o(this, t.call(this)); return window.inst = i, i.w = app.safeSize.width, i.h = app.safeSize.height, p["default"].instance.desktop ? i.data = ["STR_TUTORIAL_PICKUPBALL", "STR_TUTORIAL_PASS", "STR_TUTORIAL_IATACKLE", "STR_TUTORIAL_HUMANTACKLE", "STR_TUTORIAL_RUN", "STR_TUTORIAL_HUMANSHOOT", "STR_TUTORIAL_KICK_CHARGE", "STR_TUTORIAL_GOAL"] : i.data = ["STR_TUTORIAL_PICKUPBALL", "STR_MOBILE_TUTORIAL_PASS", "STR_TUTORIAL_IATACKLE", "STR_MOBILE_TUTORIAL_HUMANTACKLE", "STR_TUTORIAL_RUN", "STR_MOBILE_TUTORIAL_HUMANSHOOT", "STR_MOBILE_TUTORIAL_KICK_CHARGE", "STR_TUTORIAL_GOAL"], i.current = 0, i.last = i.data.length - 1, i.bg = new s.Sprite.from("dialogue.png"), i.bg.anchor.y = 1, i.addChild(i.bg), i.controllerView = new l["default"], i.controllerView.position.x = i.w / 2 - i.controllerView.width / 2, i.controllerView.position.y = i.bg.position.y - i.controllerView.height - 20, i.addChild(i.controllerView), i.text = new c["default"].h1(""), i.text.maxWidth = 1050, i.text.anchor.set(.5), i.text.position.x = i.w / 2, i.text.position.y = 40, i.addChild(i.text), i.hide(!0), i } return a(e, t), e.prototype.resize = function(t, e) { this.bg.position.y = e - 10, this.bg.position.x = t / 2 - this.bg.width / 2, this.text.position.x = t / 2, this.text.position.y = this.bg.position.y - this.bg.height / 2, this.controllerView.position.x = t / 2, this.controllerView.position.y = this.bg.position.y - this.bg.height - this.controllerView.height + 20 }, e.prototype.prev = function() { this.current--, this.updateStep() }, e.prototype.next = function() { this.current !== this.last && (this.current++, this.updateStep()) }, e.prototype["final"] = function() { this.current = this.last, this.updateStep() }, e.prototype.setStep = function(t) { this.current = t, this.updateStep() }, e.prototype.updateStep = function() { this.text.setText(this.data[this.current]) }, e.prototype.update = function(t) { this.controllerView.update(t) }, e.prototype.empty = function() { this.text.text = "" }, e.prototype.showKeyBoard = function() { this.controllerView.showKeyBoard() }, e.prototype.hideKeyBoard = function() { this.controllerView.hideKeyBoard() }, e.prototype.showSpace = function() { this.controllerView.showSpace() }, e.prototype.hideSpace = function() { this.controllerView.hideSpace() }, e.prototype.show = function() { TweenLite.to(this.position, .3, { y: 0, ease: Quad.easeOut }) }, e.prototype.hide = function(t) { TweenLite.to(this.position, t ? .001 : .3, { y: this.bg.height + this.controllerView.height + 20, ease: Quad.easeIn }) }, e.prototype.reset = function() { this.current = 0, this.hideSpace(), this.hideKeyBoard(), this.hide(!0) }, e }(s.Container));
    e["default"] = m, t.exports = e["default"] }, function(t, e, i) { "use strict";

    function n(t) { return t && t.__esModule ? t : { "default": t } }

    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } e.__esModule = !0; var s = i(8),
        h = i(41),
        l = (n(h), i(22)),
        u = n(l),
        c = i(42),
        d = (n(c), i(32)),
        p = (n(d), function(t) {
            function e() { r(this, e); var i = o(this, t.call(this));
                i.tick = 0, i.movementTick = 0, i.movementStep = 0, i.mobile = !u["default"].instance.desktop, i.keyboard = new s.Container; var n = 70; if (!i.mobile) { var a = s.Sprite.from("keyboard_left.png");
                    a.anchor.set(.5), a.position.x = -n, a.position.y = n, i.keyboard.addChild(a), i.keyboard.left = a, i.keyboard.left.enabledTexture = a.texture, i.keyboard.left.disabledTexture = PIXI.Texture.from("keyboard_left_grey.png"); var h = s.Sprite.from("keyboard_up.png");
                    h.anchor.set(.5), h.position.x = 0, i.keyboard.addChild(h), i.keyboard.up = h, i.keyboard.up.enabledTexture = h.texture, i.keyboard.up.disabledTexture = PIXI.Texture.from("keyboard_up_grey.png"); var l = s.Sprite.from("keyboard_right.png");
                    l.anchor.set(.5), l.position.x = n, l.position.y = n, i.keyboard.addChild(l), i.keyboard.right = l, i.keyboard.right.enabledTexture = l.texture, i.keyboard.right.disabledTexture = PIXI.Texture.from("keyboard_right_grey.png"); var c = s.Sprite.from("keyboard_down.png");
                    c.anchor.set(.5), c.position.x = 0, c.position.y = n, i.keyboard.addChild(c), i.keyboard.down = c, i.keyboard.down.enabledTexture = c.texture, i.keyboard.down.disabledTexture = PIXI.Texture.from("keyboard_down_grey.png"); var d = s.Sprite.from("spacebar.png");
                    d.anchor.set(.5), d.position.x = 120, d.position.y = n, i.addChild(d), i.space = d, i.space.enabledTexture = d.texture, i.space.disabledTexture = PIXI.Texture.from("spacebar_grey.png"); var p = s.Sprite.from("spacebar_hit.png");
                    p.anchor.set(.5), d.addChild(p), p.alpha = 0 } for (var f = 0; f < i.keyboard.children.length; f++) { var m = i.keyboard.children[f],
                        p = s.Sprite.from("arrow_key_hit.png");
                    p.anchor.set(.5), m.addChild(p), p.alpha = 0 } if (i.addChild(i.keyboard), i.keyboard.position.x = -120, i.mobile) { i.pad = PIXI.Sprite.fromFrame("joystick_back.png"), i.pad.scale.set(.7), i.pad.anchor.set(.5, .5), i.pad.position.set(0, 0); var g = PIXI.Sprite.fromFrame("joystick.png");
                    g.anchor.set(.5), i.pad.icon = g, i.pad.addChild(g), i.oneTouchButton = PIXI.Sprite.fromFrame("touch_button.png"), i.oneTouchButton.scale.set(.7), i.oneTouchButton.anchor.set(.5, .5), i.oneTouchButton.position.set(40, 0); var g = PIXI.Sprite.fromFrame("touch_button_hit.png");
                    g.anchor.set(.5), i.oneTouchButton.addChild(g) } return i.hideKeyBoard(), i.hideSpace(), i } return a(e, t), e.prototype.show = function() { this.alpha = 1 }, e.prototype.hide = function() { this.alpha = 0 }, e.prototype.showKeyBoard = function() { this.keyboard.alpha = 1 }, e.prototype.hideKeyBoard = function() { this.keyboard.alpha = 0 }, e.prototype.showSpace = function() { this.mobile ? this.oneTouchButton.alpha = 1 : this.space.alpha = 1 }, e.prototype.hideSpace = function() { this.mobile ? this.oneTouchButton.alpha = 0 : this.space.alpha = 0 }, e.prototype.update = function(t) { if (this.mobile) { this.tick += .05, this.pad.icon.position.x = 20 * Math.sin(this.tick); var e = window.app.game.controller; if (this.highlightSpace && !e.buttonOne.isDown ? (e.buttonOne.downFrame.alpha = Math.abs(Math.sin(this.tick)), e.buttonPointer.alpha = 1, e.buttonPointer.position.y = 20 + 20 * Math.abs(Math.sin(1.8 + this.tick))) : (e.buttonOne.downFrame.alpha = 0, e.buttonPointer.alpha = 0), this.highlightRight || this.highlightLeft || this.highlightMovement) { if (!e.analogueStick.isDown)
                            if (this.movementTick += .03, 0 === this.movementStep) this.movementTick > 1 && (this.movementTick = 1), e.movementPointer.alpha = this.movementTick, 1 === this.movementTick && (this.movementTick = 0, this.movementStep++);
                            else if (1 === this.movementStep) { var i = 40;
                            this.highlightMobileLeft && (i *= -1), e.movementPointer.alpha = 1, e.movementPointer.position.x = this.movementTick * i, e.analogueStick.pad.position.x = this.movementTick * i, this.movementTick > 1.5 && (this.movementTick = 0, this.movementStep = 0, e.movementPointer.position.x = 0, e.analogueStick.pad.position.x = 0, e.movementPointer.alpha = 0) } } else e.movementPointer.alpha = 0 } else this.tick += .05, this.disableLeft ? this.keyboard.left.texture = this.keyboard.left.disabledTexture : this.keyboard.left.texture = this.keyboard.left.enabledTexture, this.disableRight ? this.keyboard.right.texture = this.keyboard.right.disabledTexture : this.keyboard.right.texture = this.keyboard.right.enabledTexture, this.disableUp ? this.keyboard.up.texture = this.keyboard.up.disabledTexture : this.keyboard.up.texture = this.keyboard.up.enabledTexture, this.disableDown ? this.keyboard.down.texture = this.keyboard.down.disabledTexture : this.keyboard.down.texture = this.keyboard.down.enabledTexture, this.disableSpace ? this.space.texture = this.space.disabledTexture : this.space.texture = this.space.enabledTexture, t.keyboard.isPressed("space") && !t.lockSpace ? this.space.children[0].alpha = 1 : this.highlightSpace ? this.space.children[0].alpha = Math.abs(Math.sin(this.tick)) : this.space.children[0].alpha = 0, t.keyboard.isPressed("left") && !t.lockLeft ? this.keyboard.left.children[0].alpha = 1 : this.highlightLeft ? this.keyboard.left.children[0].alpha = Math.abs(Math.sin(this.tick)) : this.keyboard.left.children[0].alpha = 0, t.keyboard.isPressed("up") && !t.lockUp ? this.keyboard.up.children[0].alpha = 1 : this.keyboard.up.children[0].alpha = 0, t.keyboard.isPressed("right") && !t.lockRight ? this.keyboard.right.children[0].alpha = 1 : this.highlightRight ? this.keyboard.right.children[0].alpha = Math.abs(Math.sin(this.tick)) : this.keyboard.right.children[0].alpha = 0, t.keyboard.isPressed("down") && !t.lockDown ? this.keyboard.down.children[0].alpha = 1 : this.keyboard.down.children[0].alpha = 0 }, e }(s.Container));
    e["default"] = p, t.exports = e["default"] }, function(t, e, i) { "use strict";

    function n(t) { return t && t.__esModule ? t : { "default": t } }

    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } e.__esModule = !0; var s = i(180),
        h = n(s),
        l = function(t) {
            function e() { r(this, e); var i = o(this, t.call(this)),
                    n = 48,
                    a = 48,
                    s = new Float32Array(n * a * 3),
                    l = new Float32Array(n * a * 1),
                    u = new Float32Array(n * a * 3),
                    c = new Float32Array(n * a * 3),
                    d = ["ffffff"];
                i.time = 0; for (var p = 0, f = 0, m = n * a * 3; f < m; f += 3) { s[3 * p + 0] = 1600 * Math.random() - 800, s[3 * p + 1] = 1600 * Math.random() - 800, s[3 * p + 2] = 400 * Math.random(), l[p] = 5 + 10 * Math.random(), u[3 * p + 0] = Math.random() / 2, u[3 * p + 1] = Math.random() / 2, u[3 * p + 2] = Math.random() / 2; var g = (0, h["default"])(d[Math.floor(Math.random() * d.length)]);
                    c[3 * p + 0] = g[0] / 255, c[3 * p + 1] = g[1] / 255, c[3 * p + 2] = g[2] / 255, p++ } return i.geom = new THREE.BufferGeometry, i.geom.addAttribute("position", new THREE.BufferAttribute(s, 3)), i.geom.addAttribute("size", new THREE.BufferAttribute(l, 1)), i.geom.addAttribute("info", new THREE.BufferAttribute(u, 3)), i.geom.addAttribute("color", new THREE.BufferAttribute(c, 3)), i.mesh = new THREE.Points(i.geom, new THREE.ShaderMaterial({ vertexShader: "\n                attribute float size;\n                attribute vec3 info;\n                attribute vec3 color;\n                uniform float time;\n                varying vec3 vColor;\n                void main() {\n                    vColor = color;\n                    vec4 p = vec4(position, 1.0);\n                    p.x += cos(time * info.x) * size;\n                    p.y += sin(time * info.y) * size;\n                    // p.z += cos(time * info.z) * size;\n                    p.z -= time * 20.0;\n                    if (p.z < -0.0) {\n                        float over = p.z * -1.0;\n                        p.z = 400.0 - (over - (400.0 * floor(over / 400.0)));\n                    }\n\n                    gl_PointSize = size;\n                    gl_Position = projectionMatrix * modelViewMatrix * p;\n                }\n            ", fragmentShader: "\n                varying vec3 vColor;\n                void main() {\n                    if ( length(vec2(0.5) - gl_PointCoord) > 0.5 ) {\n                        discard;\n                    }\n                    gl_FragColor = vec4(vColor, 0.8);\n                }\n            ", uniforms: { time: { type: "f", value: 0 } }, transparent: !0 })), i.position.x = 800, i.position.y = 450, i.add(i.mesh), i } return a(e, t), e.prototype.update = function() { this.time += .055, this.mesh.material.uniforms.time.value = this.time }, e }(THREE.Object3D);
    e["default"] = l, t.exports = e["default"] }, function(t, e) {
    "use strict";
    t.exports = function(t) {
        if ("string" != typeof t) throw new TypeError("Expected a string");
        t = t.replace(/^#/, ""),
            3 === t.length && (t = t[0] + t[0] + t[1] + t[1] + t[2] + t[2]);
        var e = parseInt(t, 16);
        return [e >> 16, e >> 8 & 255, 255 & e]
    }
}, function(t, e, i) { "use strict";

    function n(t) { return t && t.__esModule ? t : { "default": t } }

    function r(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

    function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

    function a(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

    function s(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } e.__esModule = !0; var h = i(9),
        l = r(h),
        u = i(120),
        c = (n(u), function(t) {
            function e() { o(this, e); var i = a(this, t.call(this));
                window.arrow = i; var n = new l.TextureLoader,
                    r = n.load(ASSET_URL + "img/game/tutorial_arrow.png"); return i.mesh = new l.Mesh(new l.PlaneGeometry(40, 40), new l.MeshBasicMaterial({ map: r, transparent: !0 })), i.mesh.rotation.x = Math.PI / 180 * 90, i.mesh.rotation.z = Math.PI / 2, i.mesh.material.opacity = 0, i.add(i.mesh), i.tick = 0, i.opos = new l.Vector3, i } return s(e, t), e.prototype.place = function(t) { var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 100;
                this.opos.copy(t), this.opos.z += e }, e.prototype.show = function() { TweenLite.to(this.mesh.material, .3, { opacity: 1 }) }, e.prototype.hide = function() { TweenLite.to(this.mesh.material, .3, { opacity: 0 }) }, e.prototype.update = function() { this.tick += .1, this.position.x = this.opos.x + 5 * Math.sin(this.tick), this.position.y = this.opos.y, this.position.z = this.opos.z }, e }(l.Object3D));
    e["default"] = c, t.exports = e["default"] }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(157),
            o = i(13),
            a = function() { this.onLoaded = new o, this.localStorage = new r("com.oneeyedrhino.filmclub"), this.save = null };
        a.prototype.loadGame = function() { this.loadGameFromLocalStorage() }, a.prototype.loadGameFromLocalStorage = function() { var t = this.localStorage.getObject("save");
            t || (t = new s, this.localStorage.storeObject("save", t)), this.save = t, this.onLoaded.dispatch() }, a.prototype.isPB = function(t, e) { var i = this.save.levelBestScores[t]; return e > i }, a.prototype.getPB = function(t) { var e = this.save.levelBestScores[t]; return e }, a.prototype.unlockLevel = function(t, e) { return this.save.levelBestScores[t - 1] >= e && (0 !== this.save.levelStates[t] || (this.save.levelStates[t] = 1, this.saveToStorage(), !0)) }, a.prototype.saveScore = function(t, e) { var i = this.save.levelBestScores[t]; if (this.save.totalScore = this.save.totalScore || 0, this.save.totalScore += e, e > i) { for (var n = 0; n < this.save.levelBestScores.length; n++) { var r = this.save.levelBestScores[n];
                    e > r && window.Highscores && window.UserDetails.isUserSignedIn() && Highscores.setUserScore(function(t) {}, function(t) {}, ["allatbreak_overall"], [e]) } this.save.levelBestScores[t] = e } window.Highscores && window.UserDetails.isUserSignedIn() && Highscores.setUserScore(function(t) {}, function(t) {}, ["allatbreak_total"], [this.save.totalScore]), this.saveToStorage() }, a.prototype.saveToStorage = function() { window.Data && this.localStorage.storeObject("save", this.save) }; var s = function() { this.levelStates = [1, 0, 0, 0, 0, 0, 0], this.levelBestScores = [0, 0, 0, 0, 0, 0, 0], this.tutorials = [0, 0, 0, 0, 0, 0, 0], this.totalScore = 0 };
        a.instance = new a, n.exports = a }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, i) { CartoonGameTransition = function() { this.circle = (new PIXI.Graphics).beginFill(1044480).drawCircle(0, 0, 100) }, CartoonGameTransition.constructor = CartoonGameTransition, CartoonGameTransition.prototype.begin = function(t, e, i) { this.screenManager = t, this.currentScreen = e, this.nextScreen = i, this.nextScreen.onShow && this.nextScreen.onShow(), t.container.addChild(this.circle), t.container.mask = this.circle, this.circle.scale.set(this.targetScale), this.currentScreen ? (this.currentScreen.onHide && this.currentScreen.onHide(), TweenLite.to(this.circle.scale, 1, { x: .001, y: .001, ease: Sine.easeOut, onComplete: this.onFadeout.bind(this) })) : this.onFadeout() }, CartoonGameTransition.prototype.onFadeout = function() { this.currentScreen && (this.currentScreen.onHidden && this.currentScreen.onHidden(), this.screenManager.container.removeChild(this.currentScreen)), this.nextScreen.resize && this.nextScreen.resize(this.screenManager.w, this.screenManager.h), this.screenManager.container.addChild(this.nextScreen), "function" == typeof this.onTransition ? this.onTransition() : this.fadeOut() }, CartoonGameTransition.prototype.fadeOut = function() { TweenLite.to(this.circle.scale, 1.2, { delay: .2, x: this.targetScale, y: this.targetScale, ease: Cubic.easeIn, onComplete: this.onFadein.bind(this) }) }, CartoonGameTransition.prototype.onFadein = function() { this.nextScreen.onShown && this.nextScreen.onShown(), this.screenManager.container.removeChild(this.circle), this.screenManager.container.mask = null, this.screenManager.onTransitionComplete() }, CartoonGameTransition.prototype.onResize = function(t, e) { this.w = t, this.h = e, this.targetScale = t / 100 * 1.2, this.circle.x = t / 2, this.circle.y = e / 2 }, i.exports = CartoonGameTransition }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { "use strict";

    function n(t) { return t && t.__esModule ? t : { "default": t } }

    function r(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

    function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

    function a(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

    function s(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } e.__esModule = !0; var h = i(8),
        l = r(h),
        u = i(48),
        c = n(u),
        d = i(32),
        p = n(d),
        f = i(50),
        m = n(f),
        g = (i(35), i(49)),
        v = i(58),
        y = (n(v), i(56)),
        _ = n(y),
        b = i(59),
        x = (n(b), i(47)),
        w = (n(x), i(30)),
        T = n(w),
        S = i(37),
        M = n(S),
        E = i(60),
        A = n(E),
        C = i(52),
        R = n(C),
        P = i(43),
        O = n(P),
        L = function(t) {
            function e(i) { o(this, e); var n = a(this, t.call(this));
                n.app = i, n.bg = l.Sprite.from("panel_stickerbook.png"), n.bg.anchor.set(.5), n.addChild(n.bg), n.title = _["default"].h1(""), n.title.maxWidth = n.bg.width - 50, n.title.anchor.set(.5), n.title.y = -310, n.bg.addChild(n.title), n.prevButton = new M["default"]("button_left.png"), n.prevButton.position.set(-n.bg.width / 2 - n.prevButton.width / 2 + 1, 0), n.prevButton.onPress.add(n.prevCharacter, n), n.bg.addChild(n.prevButton), n.nextButton = new M["default"]("button_right.png"), n.nextButton.position.set(n.bg.width / 2 + n.nextButton.width / 2 - 2, 0), n.nextButton.onPress.add(n.nextCharacter, n), n.bg.addChild(n.nextButton); var r = { fill: "black", fontSize: 20, fontFamily: "avenir", wordWrap: !0, wordWrapWidth: 240, align: "center", breakWords: !0 };
                n.infoText = new O["default"]("", r), n.infoText.anchor.set(.5), n.infoText.position.set(-290, 291), n.bg.addChild(n.infoText); var s = new O["default"](["STR_UNLOCKABLES_COST1", "STR_UNLOCKABLES_COST2"], r);
                s.anchor.set(.5), s.position.set(290, 290), n.bg.addChild(s), n.costText = s; var h = { fill: "black", fontSize: 36, fontFamily: "avenir", align: "center" };
                n.moreCoinsText = new O["default"]("STR_UNLOCKABLES_NOCOINS", h), n.moreCoinsText.anchor.set(.5), n.moreCoinsText.position.set(0, 290), n.bg.addChild(n.moreCoinsText); var u = -272;
                n.speedBar = l.Sprite.from("bar_speed.png"), n.speedBar.position.x = -455, n.speedBar.position.y = u, n.bg.addChild(n.speedBar); for (var c = 0; c < 10; c++) { var d = l.Sprite.from("bar_speed_bit.png");
                    d.position.x = 70 + 21 * c, d.position.y = 6, n.speedBar.addChild(d) } n.powerBar = l.Sprite.from("bar_power.png"), n.powerBar.position.x = -145, n.powerBar.position.y = u, n.bg.addChild(n.powerBar); for (var c = 0; c < 10; c++) { var d = l.Sprite.from("bar_power_bit.png");
                    d.position.x = 70 + 21 * c, d.position.y = 6, n.powerBar.addChild(d) } n.accuracyBar = l.Sprite.from("bar_accuracy.png"), n.accuracyBar.position.x = 163, n.accuracyBar.position.y = u, n.bg.addChild(n.accuracyBar); for (var c = 0; c < 10; c++) { var d = l.Sprite.from("bar_accuracy_bit.png");
                    d.position.x = 70 + 21 * c, d.position.y = 6, n.accuracyBar.addChild(d) } n.poster = l.Sprite.from(""), n.poster.anchor.set(.5), n.poster.y = 7, n.bg.addChild(n.poster), n.posterOverlay = l.Sprite.from(""), n.posterOverlay.anchor.set(.5), n.posterOverlay.y = 7, n.bg.addChild(n.posterOverlay), n.panels = [], n.panelContainer = new l.Container, n.bg.addChild(n.panelContainer), n.panelGlow = l.Sprite.from(""), n.panelGlow.blendMode = l.BLEND_MODES.ADD, n.panelGlow.alpha = .7, n.panelGlow.anchor.set(.5); for (var p = [], c = 1; c <= 5; c++) p.push(l.Texture.fromFrame("coin_spend_bar_" + c + ".png")); var f = new l.extras.MovieClip(p);
                f.anchor.set(.5), f.y = 300, f.animationSpeed = .2, f.play(), n.bg.addChild(f), f.interactive = !0, f.mousemove = f.touchmove = n.mousemove.bind(n), f.touchend = n.coinDragEnd.bind(n), n.sliderBar = f, n.pointer = l.Sprite.from("pointer.png"), n.pointer.anchor.set(.5), n.pointer.interactive = !0, n.pointer.buttonMode = !0, n.pointer.click = n.pointer.tap = n.unlockPanel.bind(n, !0), f.addChild(n.pointer); var m = l.Sprite.from("coin_spend_slot.png");
                m.anchor.set(.5), m.position.x = 120, m.interactive = !0, m.buttonMode = !0, m.click = m.tap = n.unlockPanel.bind(n, !0), f.addChild(m), n.coin = l.Sprite.from("coin_spend_coin.png"), n.coin.anchor.set(.5), n.coin.position.x = -92, n.coin.position.y = 0, n.coin.interactive = !0, n.coin.buttonMode = !0, n.coin.mousedown = n.coin.touchstart = n.coinDragStart.bind(n), n.coin.mouseup = n.coin.touchend = n.coin.mouseupoutside = n.touchendoutside = n.coinDragEnd.bind(n), f.addChild(n.coin); var v = new l.Graphics; return v.fillAlpha = 0, v.drawRect(0, 0, 280, 100), v.position.x = -150, v.position.y = -50, f.addChild(v), n.coinMask = v, n.characters = (0, g.getLockedCharacters)(), n.currentChar = 0, n.updatePanel(), n.count = 0, n.playerCardContainer = new l.Container, n.shadow = new l.Graphics, n.shadow.beginFill(0), n.shadow.interactive = !0, n.shadow.drawRect(0, 0, 500, 500), n.party = new R["default"](1136, 800, 1), n } return s(e, t), e.prototype.coinDragStart = function(t) { this.animating || this.unlocking || (this.dragCoin = !0, this.mouseDownX = t.data.global.x, this.coin.mask = this.coinMask) }, e.prototype.coinDragEnd = function() { this.dragCoin = !1, this.animating || (this.unlockPanel(!0), this.coin.updateTransform()) }, e.prototype.setCoinBack = function() { this.coin.scale.set(1), TweenLite.to(this.coin.position, .5, { x: -92, ease: Bounce.easeOut, onComplete: function() { this.coin.mask = null, this.unlocking = !1 }.bind(this) }) }, e.prototype.getUnlockedPanels = function() { for (var t = [], e = 0; e < this.panels.length; e++) 0 === this.panels[e].scale.x && t.push(this.panels[e]); return t }, e.prototype.getLockedPanels = function() { for (var t = [], e = 0; e < this.panels.length; e++) this.panels[e].scale.x > 0 && t.push(this.panels[e]); return t }, e.prototype.unlockPanel = function(t) { if (!this.unlocking) { this.unlocking = !0; var e = this.getUnlockedPanels(); if (e.length === this.panels.length) return void this.setCoinBack(); if (this.animating) return void(this.coin.mask = null); var i = p["default"].UNLOCKABLES.PRICE; if (c["default"].coins < i) return void(this.unlocking = !1); if (c["default"].coins -= i, T["default"].sfx.play("sfx_coin_01"), this.app.saveCoins(), this.app.topMenu.updateCoins(), t) { this.coin.mask = this.coinMask; var n = { x: 165, ease: Quad.easeIn, onComplete: function() { this.coin.mask = null, this.coin.scale.set(0), this.unlocking = !1 }.bind(this) };
                        TweenLite.to(this.coin.position, .5, n) } this.animating = !0, this.prevButton.disable(), this.nextButton.disable(), this.app.topMenu.buttons.prev.disable(); var r = this.characters[this.currentChar],
                        o = r.panels,
                        a = "large";
                    16 === o ? a = "medium" : 25 === o && (a = "small"), this.panelGlow.scale.set(1), this.panelContainer.addChild(this.panelGlow), this.panelGlow.texture = l.Texture.fromFrame("glow_" + a + ".png"), this.panelGlow.x = -99999; var s = 10 * Math.random();
                    e.length === this.panels.length - 1 && (s = 99999), this.selectPanel(s), T["default"].sfx.play("sfx_squares") } }, e.prototype.getRandomPanel = function() { var t = this.getLockedPanels(); if (1 === t.length) return t[0]; for (var e; !e;) { var i = Math.round(Math.random() * (this.panelContainer.children.length - 1)),
                        n = this.panelContainer.children[i];
                    0 !== n.scale.x && (this.panelGlow.x === n.x && this.panelGlow.y === n.y || (e = n)) } return e }, e.prototype.selectPanel = function(t, e) { if (e = this.getRandomPanel(), this.panelGlow.x = e.x, this.panelGlow.y = e.y, this.panelGlow.updateTransform(), t *= 1.2, t >= 250) { var i = this.characters[this.currentChar]; return i.unlockedPanels.push(e.index), this.app.localStorage.store("unlockedPanels_" + i.id, JSON.stringify(i.unlockedPanels)), TweenLite.to(e.scale, 1, { x: 0, y: 0, delay: .2, ease: Quad.easeIn }), void TweenLite.to(this.panelGlow.scale, 1, { x: 0, y: 0, ease: Quad.easeIn, delay: .2, onComplete: this.selectPanelEnd.bind(this) }) } setTimeout(this.selectPanel.bind(this, t), t) }, e.prototype.selectPanelEnd = function() { this.panelContainer.removeChild(this.panelGlow), this.animating = !1; var t = this.getUnlockedPanels(); if (t.length === this.panels.length) { var e = this.characters[this.currentChar]; if (c["default"].unlocked.push(e.id), this.app.localStorage.store("unlocked", JSON.stringify(c["default"].unlocked)), m["default"].adbTrackAction("player_unlocked", { player_id: e.id }), m["default"].bootstrapEventTrigger("player_unlocked", { player_id: e.id }), this.setPanelBottomInfo(e), !this.parent) return; var i = 1;
                    TweenLite.to(this.posterOverlay, i, { alpha: 0 }), this.addChild(this.shadow), this.shadow.alpha = 0, this.addChild(this.party), TweenLite.to(this.shadow, i, { alpha: .5, delay: i }), this.playerCardContainer.children.length = 0, this.addChild(this.playerCardContainer); var n = new A["default"](this.app);
                    n.update(e), n.check.visible = !1, n.dimmer.visible = !1, n.interactive = !1, n.shine(); var r = l.Sprite.fromFrame("card_back.png");
                    r.x = n.bg.x, r.y = n.bg.y, n.centerCotainer.addChild(r), this.playerCardContainer.addChild(n), n.position.y = 2 * -this.h, TweenLite.to(n.position, i, { y: -50, ease: Back.easeOut, delay: 2 * i }), TweenLite.to(r, 2 * i, { alpha: 0, delay: 3 * i, onStart: function() { T["default"].sfx.play("character_unlock") } }); var o = { fill: "white", fontSize: 40, fontFamily: window.MAIN_FONT, stroke: !0, strokeThickness: 8, lineJoin: "round", letterSpacing: 3 },
                        a = new O["default"]("STR_UNLOCKABLES_NEWCHARACTER", o);
                    a.anchor.set(.5), a.position.set(0, 300), a.alpha = 0, this.playerCardContainer.addChild(a), TweenLite.to(a, 2 * i, { alpha: 1, delay: 3 * i }), this.party.alpha = 0, TweenLite.to(this.party, i, { alpha: 1, delay: 2 * i }), TweenLite.to(n.position, i, { y: 2 * -this.h, ease: Back.easeIn, delay: 3 * i + 4 }), TweenLite.to(a, i, { alpha: 0, delay: 3 * i + 4 }), TweenLite.to(this.party, i, { alpha: 0, delay: 3 * i + 4 }), TweenLite.to(this.shadow, i, { alpha: 0, delay: 3 * i + 4, onComplete: function() { this.removeChild(this.shadow), this.removeChild(this.playerCardContainer), this.removeChild(this.party), this.coin.x = -92, TweenLite.to(this.coin.scale, .5, { x: 1, y: 1, ease: Bounce.easeOut, delay: .2 }), this.updateCoinVisibility(), this.setPanelBottomInfo(e), this.prevButton.enable(), this.nextButton.enable(), this.app.topMenu.buttons.prev.enable() }.bind(this) }) } else this.prevButton.enable(), this.nextButton.enable(), this.app.topMenu.buttons.prev.enable(), this.coin.x = -92, TweenLite.to(this.coin.scale, .5, { x: 1, y: 1, ease: Bounce.easeOut, delay: .2, onComplete: function() { this.unlocking = !1 }.bind(this) }), this.updateCoinVisibility() }, e.prototype.updateTransform = function() { t.prototype.updateTransform.call(this), this.party && this.party.update(this.position), this.count += .1, this.pointer.x = 30 * Math.abs(Math.sin(this.count)) }, e.prototype.mousemove = function(t) { if (this.dragCoin) { var e = this.mouseDownX - t.data.global.x;
                    this.coin.x = Math.max(-92, -92 - e), this.coin.x >= 117 && (this.coin.x = 117, this.dragCoin = !1, TweenLite.to(this.coin.position, 1, { x: 165, ease: Quad.easeIn, onComplete: function() { this.coin.mask = null, this.coin.scale.set(0) }.bind(this) }), this.unlockPanel()) } }, e.prototype.onHide = function() {}, e.prototype.prevCharacter = function() { this.animating || (this.currentChar--, this.currentChar < 0 && (this.currentChar = this.characters.length - 1), this.updatePanel()) }, e.prototype.nextCharacter = function() { this.animating || (this.currentChar++, this.characters[this.currentChar] || (this.currentChar = 0), this.updatePanel()) }, e.prototype.setPanelBottomInfo = function(t) { if (c["default"].unlocked.indexOf(t.id) !== -1) this.title.setText(translations.STR_UNLOCKABLES_UNLOCKED + ": " + translations[t.name] + " (" + translations[t.brandName] + ")", !0), this.infoText.text = "", this.sliderBar.visible = !1, this.costText.visible = !1, this.coin.visible = !1, this.pointer.visible = !1, this.moreCoinsText.visible = !1;
                else { this.title.setText(translations.STR_UNLOCKABLES_UNLOCK + ": " + translations[t.name] + " (" + translations[t.brandName] + ")", !0), this.infoText.setText(["STR_UNLOCKABLES_COMPLETE", t.name]); var e = c["default"].coins >= p["default"].UNLOCKABLES.PRICE;
                    this.sliderBar.visible = e, this.costText.visible = e, this.coin.visible = e, this.pointer.visible = e } }, e.prototype.updatePanel = function() { this.unlocking = !1; var t = this.characters[this.currentChar],
                    e = t.panels,
                    i = "large";
                16 === e ? i = "medium" : 25 === e && (i = "small"), t.id === this.characters[0].id ? this.prevButton.visible = !1 : this.prevButton.visible = !0, t.id === this.characters[this.characters.length - 1].id ? this.nextButton.visible = !1 : this.nextButton.visible = !0, this.updateCoinVisibility(), this.setPanelBottomInfo(t), this.poster.texture = l.Texture.fromImage(ASSET_URL + "img/ui/" + t.poster); var n = i; "large" === n ? n = "small" : "small" === n && (n = "large"), this.posterOverlay.texture = l.Texture.fromFrame("grid_" + n + ".png"), t.unlockedPanels.length === e ? this.posterOverlay.alpha = 0 : this.posterOverlay.alpha = 1; for (var r = 0; r < this.speedBar.children.length; r++) { var o = this.speedBar.children[r];
                    10 * t.speed < r + 1 ? o.visible = !1 : o.visible = !0 } for (var r = 0; r < this.powerBar.children.length; r++) { var o = this.powerBar.children[r];
                    10 * t.power < r + 1 ? o.visible = !1 : o.visible = !0 } for (var r = 0; r < this.accuracyBar.children.length; r++) { var o = this.accuracyBar.children[r];
                    10 * t.skill < r + 1 ? o.visible = !1 : o.visible = !0 } for (var r = this.panelContainer.children.length - 1; r >= 0; r--) { var a = this.panelContainer.children[r];
                    this.panelContainer.removeChild(a) } var s = 3;
                16 === e ? s = 4 : 25 === e && (s = 5); var h, u, c = 3,
                    d = 1,
                    p = 0,
                    f = 0; "large" === i && (i = "big"), this.panels.length = 0; for (var r = 0; r < e; r++) { var a = l.Sprite.from("window_" + i + ".png");
                    h || (h = a.width), u || (u = a.height), a.anchor.set(.5), a.position.set(p, f), a.index = r, p += a.width + c, (r + 1) % s === 0 && (p = 0, f += a.height + d), t.unlockedPanels.indexOf(r) !== -1 && a.scale.set(0), this.panels.push(a), this.panelContainer.addChild(a) } var m = 1,
                    g = 9;
                this.panelContainer.x = -(h * s + c * (s - 1)) / 2 + h / 2 + m, this.panelContainer.y = -(u * s + d * (s - 1)) / 2 + u / 2 + g, t.unlockedPanels.length === e ? this.panelContainer.visible = !1 : this.panelContainer.visible = !0 }, e.prototype.onShow = function() { if (c["default"].unlockableToShow) { for (var t = 0; t < this.characters.length; t++)
                        if (this.characters[t].id === c["default"].unlockableToShow) { this.currentChar = t; break } c["default"].unlockableToShow = null } this.removeChild(this.party), this.updateCoinVisibility(); var e = this.characters[this.currentChar];
                this.setPanelBottomInfo(e), this.playerCardContainer.children.length = 0, this.removeChild(this.shadow), this.app.topMenu.setState("prevsettings"), this.resize(this.w, this.h), this.bg.scale.set(0), TweenLite.to(this.bg.scale, 1, { x: 1, y: 1, ease: Elastic.easeOut, delay: .2 }), this.updatePanel(), this.setCoinBack() }, e.prototype.updateCoinVisibility = function() { var t = c["default"].coins >= p["default"].UNLOCKABLES.PRICE;
                this.coin.visible = t, this.pointer.visible = t, this.costText.visible = t, this.infoText.visible = t, this.sliderBar.visible = t, this.moreCoinsText.visible = !t, t ? this.sliderBar.play() : this.sliderBar.stop() }, e.prototype.onShown = function() { this.app.topMenu.prevScreen || (this.app.topMenu.prevScreen = p["default"].SCREEN_ID.TITLE), window.unlockablesPrevScreen && (this.app.topMenu.prevScreen = window.unlockablesPrevScreen), c["default"].coins < p["default"].UNLOCKABLES.PRICE }, e.prototype.resize = function(t, e) { var i = this.app.screenManager.container.x / this.app.screenManager.container.scale.x,
                    n = this.app.screenManager.container.y / this.app.screenManager.container.scale.y;
                this.w = t, this.h = e, this.party && (this.party.w = t, this.party.h = e + 100), this.bg.position.set(t / 2, e / 2), this.playerCardContainer.position.set(t / 2, e / 2), this.shadow.position.x = -i, this.shadow.position.y = -n, this.shadow.graphicsData[0].shape.width = t + 2 * i, this.shadow.graphicsData[0].shape.height = e + 2 * n }, e }(l.Container);
    e["default"] = L, t.exports = e["default"] }, function(t, e, i) { "use strict";

    function n(t) { return t && t.__esModule ? t : { "default": t } }

    function r(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

    function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

    function a(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

    function s(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } e.__esModule = !0; var h = i(8),
        l = r(h),
        u = i(48),
        c = (n(u), i(32)),
        d = (n(c), i(35)),
        p = i(50),
        f = n(p),
        m = (i(49), i(58)),
        g = (n(m), i(56)),
        v = n(g),
        y = i(59),
        _ = (n(y), i(47)),
        b = (n(_), i(30)),
        x = n(b),
        w = i(37),
        T = n(w),
        S = i(42),
        M = n(S),
        E = i(60),
        A = (n(E), i(52)),
        C = (n(A), i(64)),
        R = n(C),
        P = i(65),
        O = n(P),
        L = i(67),
        I = n(L),
        D = i(22),
        k = n(D),
        B = i(43),
        N = n(B),
        F = i(16),
        U = n(F),
        G = function(t) {
            function e(i) { o(this, e); var n = a(this, t.call(this));
                n.app = i, n.bg = l.Sprite.from("panel_leaderboard.png"), n.bg.anchor.set(.5), n.addChild(n.bg), n.title = v["default"].h1("STR_SETTINGS_TITLE"), n.title.anchor.set(.5), n.title.y = -295, n.bg.addChild(n.title); var r = 120,
                    s = 220,
                    h = 30,
                    u = new M["default"]("button_blue_long.png", null, null, "STR_SETTINGS_PRIVACYPOLICY", 1.1, null, null, "avenir", 350);
                u.defaultScale = 1, u.x = s, u.y = -r + h, u.onPress.add(function() { window.open(window.translations.URL_PRIVACY || "#", "_blank") }), window.cordova && n.bg.addChild(u); var c = new M["default"]("button_blue_long.png", null, null, "STR_SETTINGS_TERMS", 1.1, null, null, "avenir", 350);
                c.defaultScale = 1, c.x = s, c.y = h, c.onPress.add(function() { window.open(window.translations.URL_TERMS || "#", "_blank") }), window.cordova && n.bg.addChild(c); var p = new M["default"]("button_blue_long.png", null, null, "STR_SETTINGS_RATE", 1.1, null, null, "avenir", 350);
                p.defaultScale = 1, p.x = s, p.y = r + h, p.onPress.add(function() { k["default"].instance.android ? window.open("#", "_system") : window.open("#", "_system") }), n.bg.addChild(p), n.rateButton = p; var f = v["default"].h1("STR_SETTINGS_SOUND");
                f.anchor.set(.5), f.x = -230, f.y = -125, window.cordova || (f.x += 225, f.y += 50), n.bg.addChild(f); var f = v["default"].h1("STR_SETTINGS_LANGUAGE");
                f.anchor.set(.5), f.x = -230, f.y = 60, n.bg.addChild(f), n.langTitle = f; var m = new M["default"]("button_green_long.png", null, null, "STR_LANGUAGE_ENGLISH", 1.1, null, null, "avenir");
                m.label.maxWidth = 250, window.app.onLanguageChange.add(function() { m.label.id = d.Translation.languages[window.LANGUAGE], m.label.onLanguageChange() }), m.onPress.add(n.showLanguage, n), m.defaultScale = 1, m.x = -222, m.y = 155, n.bg.addChild(m), n.langButton = m, n.soundOnButton = new M["default"]("button_on.png", null, null, "STR_SETTINGS_ON", 1.1, null, null, "avenir", 80), n.soundOnButton.defaultScale = 1, n.soundOnButton.x = -312, n.soundOnButton.y = -55, n.soundOnButton.onPress.add(n.soundOn, n), n.bg.addChild(n.soundOnButton), n.soundOffButton = new M["default"]("button_off.png", null, null, "STR_SETTINGS_OFF", 1.1, null, null, "avenir", 80), n.soundOffButton.defaultScale = 1, n.soundOffButton.x = -142, n.soundOffButton.y = -55, n.soundOffButton.onPress.add(n.soundOff, n), n.bg.addChild(n.soundOffButton), window.cordova || (n.soundOnButton.x += 225, n.soundOffButton.x += 225, n.soundOnButton.y += 50, n.soundOffButton.y += 50), n.back = l.Sprite.from(ASSET_URL + "img/ui/overlay-background-2018.png"), n.back.anchor.set(.5), n.back.interactive = !0, n.back.touchstart = n.back.mousedown = n.hideLanguage.bind(n), n.bg.addChild(n.back), n.back.visible = !1, n.langPanel = l.Sprite.from("panel_language.png"), n.langPanel.anchor.set(.5), n.langPanel.interactive = !0, n.bg.addChild(n.langPanel), n.langPanel.visible = !1; var f = new N["default"]("STR_SETTINGS_LANGUAGE", { fill: "#493008", fontSize: 36, fontFamily: window.MAIN_FONT });
                f.anchor.set(.5), f.x = 0, f.y = -158, n.langPanel.addChild(f); var g = new T["default"]("button_close.png", null, null, null, 1.1);
                g.defaultScale = 1, g.x = n.langPanel.width / 2 - g.width / 2, g.y = -n.langPanel.height / 2 + g.height / 2, g.onPress.add(n.hideLanguage, n), n.langPanel.addChild(g), n.langContainer = new l.Container, n.langPanel.addChild(n.langContainer); var y = new l.Graphics,
                    _ = 400,
                    b = 280,
                    x = 20;
                y.beginFill(0), y.drawRect(0, 0, _, b), y.position.set(-_ / 2, -b / 2 + x), n.langPanel.addChild(y), n.langContainer.mask = y; var w = 0; for (var S in d.Translation.languages) { var E = U["default"].getJson("strings"),
                        A = E[S][d.Translation.languages[S]],
                        C = "avenir"; "vi" === S && (C = "fredburger"), "ro" === S && (C = "fredburger"), "cs" === S && (C = "fredburger"); var P = new M["default"]("button_blue_long.png", null, null, A, 1.1, null, null, C, 200, 0, (!0));
                    P.pressSound = null, P.defaultScale = 1, P.x = 0, P.y = -65 + 110 * w, P.onPress.add(n.selectLanguage.bind(n, S), n), n.langContainer.addChild(P), w++ } var L = { target: n.langContainer },
                    D = new I["default"](L),
                    B = 253,
                    F = 40,
                    G = l.Sprite.from("scroll_bar_bit.png");
                G.anchor.set(0, .5); var j = l.Sprite.from("scroll_bar.png"),
                    z = new R["default"]({ draggerHeight: F, dragLength: B, bar: j, dragger: G });
                z.position.set(225, -100), n.langPanel.addChild(z); var V = 99.5 * Object.keys(d.Translation.languages).length,
                    H = new O["default"]({ scrollbar: z, trackpad: D, min: 0, max: V }); return n.scrollCombo = H, n } return s(e, t), e.prototype.selectLanguage = function(t) { if (!this.scrollCombo.trackpad.didMove) { x["default"].sfx.play("button_press"); var e = d.Translation.analytics[t];
                    f["default"].adbTrackAction({ ingame_language: e }), f["default"].bootstrapEventTrigger("ingame_language", { language_id: e }), this.app.localStorage.store("language", t), window.app.changeLanguage(t), this.hideLanguage() } }, e.prototype.showLanguage = function() { this.langPanel.visible || (this.back.visible = !0, this.app.topMenu.buttons.prev.disable(), this.langPanel.visible = !0, this.langPanel.scale.set(.8), TweenLite.to(this.langPanel.scale, .8, { x: 1, y: 1, ease: Elastic.easeOut })) }, e.prototype.hideLanguage = function() { this.app.topMenu.buttons.prev.enable(), this.back.visible = !1, this.langPanel.visible = !1 }, e.prototype.soundOn = function() { x["default"].sfx.unmute(), x["default"].music.unmute(), this.updateSoundButtons() }, e.prototype.soundOff = function() { x["default"].sfx.mute(), x["default"].music.mute(), this.updateSoundButtons() }, e.prototype.updateSoundButtons = function() { x["default"].sfx.isMuted ? (this.soundOnButton.enable(), this.soundOffButton.disable()) : (this.soundOnButton.disable(), this.soundOffButton.enable()), this.app.localStorage.store("muted", x["default"].sfx.isMuted) }, e.prototype.updateTransform = function() { t.prototype.updateTransform.call(this), this.scrollCombo.update(), this.langContainer.y = this.scrollCombo.value }, e.prototype.onHide = function() {}, e.prototype.onShow = function() { this.rateButton.visible = !!window.cordova, this.langButton.visible = !!window.cordova, this.langTitle.visible = !!window.cordova, window.URLParams.settings && (this.rateButton.visible = !0, this.langButton.visible = !0, this.langTitle.visible = !0), this.updateSoundButtons(), this.app.breadcrumb.hidden = !0, this.app.breadcrumb.visible = !1, this.app.topMenu.setState("prev"), this.resize(this.w, this.h), this.bg.scale.set(0), TweenLite.to(this.bg.scale, 1, { x: 1, y: 1, ease: Elastic.easeOut, delay: .2 }) }, e.prototype.onShown = function() {}, e.prototype.onHide = function() { this.hideLanguage() }, e.prototype.resize = function(t, e) { var i = this.app.screenManager.container.x / this.app.screenManager.container.scale.x,
                    n = this.app.screenManager.container.y / this.app.screenManager.container.scale.y;
                this.w = t, this.h = e, this.bg.position.set(t / 2, e / 2), this.back.x = 0, this.back.y = 0, this.back.width = t + 2 * i, this.back.height = e + 2 * n }, e }(l.Container);
    e["default"] = G, t.exports = e["default"] }, function(t, e, i) { var n;
    n = function(t, e, i) { SlideTransition = function() {}, SlideTransition.constructor = SlideTransition, SlideTransition.prototype.begin = function(t, e, i) { this.screenManager = t, this.currentScreen = e, this.nextScreen = i, this.currentScreen ? (this.currentScreen.onHide && this.currentScreen.onHide(), TweenLite.to(this.currentScreen, .45, { ease: Sine.easeInOut, x: this.reverse ? 1224 : -1224 }), this.onFadeout()) : this.onFadeout() }, SlideTransition.prototype.onFadeout = function() { this.nextScreen.onShow && this.nextScreen.onShow(), this.nextScreen.resize && this.nextScreen.resize(this.screenManager.w, this.screenManager.h), this.nextScreen.position.x = this.reverse ? -1224 : 1224, TweenLite.to(this.nextScreen, .45, { x: 0, ease: Sine.easeInOut, onComplete: this.onFadein.bind(this) }), this.screenManager.container.addChild(this.nextScreen) }, SlideTransition.prototype.onFadein = function() { this.currentScreen && (this.currentScreen.onHidden && this.currentScreen.onHidden(), this.screenManager.container.removeChild(this.currentScreen)), this.nextScreen.onShown && this.nextScreen.onShown(), this.screenManager.onTransitionComplete() }, SlideTransition.prototype.resize = function(t, e) { this.w = t, this.h = e }, i.exports = SlideTransition }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { "use strict";

    function n(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

    function r(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

    function o(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } e.__esModule = !0; var a = i(8),
        s = function(t) {
            function e() { n(this, e); var i = r(this, t.call(this, app)); return window.brand = i, i.bg = new a.Graphics, i.bg.beginFill(0), i.bg.drawRect(0, 0, app.maxSize.width, app.maxSize.height), i.addChild(i.bg), i.bg.alpha = 0, i.center = new a.Container, i.logo = a.Sprite.from("main-menu-sponsor.jpg"), i.logo.anchor.set(.5), i.center.position.x = -i.logo.width / 2, i.center.position.y = -i.logo.height / 2, i.center.addChild(i.logo), i.alpha = 0, i.addChild(i.center), i } return o(e, t), e.prototype.resize = function(t, e) { this.center.position.set(t / 2, e / 2) }, e }(a.Container);
    e["default"] = s, t.exports = e["default"] }, function(t, e, i) {
    "use strict";

    function n(t) { return t && t.__esModule ? t : { "default": t } }

    function r(t) { if (t && t.__esModule) return t; var e = {}; if (null != t)
            for (var i in t) Object.prototype.hasOwnProperty.call(t, i) && (e[i] = t[i]); return e["default"] = t, e }

    function o(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

    function a(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

    function s(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } e.__esModule = !0;
    var h = i(8),
        l = r(h),
        u = i(37),
        c = n(u),
        d = i(42),
        p = n(d),
        f = i(32),
        m = n(f),
        g = i(48),
        v = n(g),
        y = i(30),
        _ = n(y),
        b = i(22),
        x = (n(b), function(t) {
            function e(i) {
                o(this, e);
                var n = a(this, t.call(this));
                window.topMenu = n, n.app = i, n.state = "home", n.previousState = n.state, n.nextScreen = null, n.prevScreen = null, n.states = { home: ["settings"], empty: [], game: ["pause"], prev: ["prev"], next: ["next"], prevnext: ["prev", "mute"], prevsettings: ["prev", "settings"], settings: ["settings"] }, n.buildButtons(), n.hideButtons(), n.setState("prevsettings");
                var r = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream,
                    s = window.devicePixelRatio || 1,
                    h = { width: window.screen.width * s, height: window.screen.height * s };
                r && 1125 == h.width && 2436 === h.height && (n.iPhoneX = !0), n.bar = new l.Container, n.bar.visible = !1, n.addChild(n.bar);
                for (var u = [], c = 1; c <= 6; c++) u.push(l.Texture.fromFrame("bar_" + c + ".png"));
                var d = new l.extras.MovieClip(u);
                d.anchor.set(.5), d.animationSpeed = .2, d.play(), n.bar.addChild(d);
                var p = l.Sprite.fromFrame("bar_top.png");
                return p.anchor.set(.5), n.bar.addChild(p), n
            }
            return s(e, t), e.prototype.buildButtons = function() { var t = this;
                this.buttons = {}; var e = new c["default"]("button_pause.png");
                this.addChild(e), this.buttons.pause = e; var i = new c["default"]("icon-sound-on.png");
                this.addChild(i), this.buttons.mute = i; var n = new c["default"]("button_back.png");
                this.addChild(n), this.buttons.prev = n; var r = new c["default"]("icon-forward.png");
                this.addChild(r), this.buttons.next = r; var o = new c["default"]("icon-exit.png"); if (this.addChild(o), this.buttons.exit = o, this.skipButton = new p["default"]("button_skip.png", null, null, "STR_TITLE_SKIP", 1.1, null, null, "avenir", 280), this.skipButton.defaultScale = 1, this.skipButton.visible = !1, this.skipButton.onPress.add(this.skipTutorial, this), this.addChild(this.skipButton), window.cordova) var a = new c["default"]("button_settings.png");
                else var s = _["default"].sfx.isMuted ? "icon-sound-off.png" : "icon-sound-on.png",
                    a = new c["default"]("button_blue_blank.png", null, null, s);
                this.addChild(a), this.buttons.settings = a, this.coinBarCont = new l.Container, this.addChild(this.coinBarCont), this.coinBar = l.Sprite.from("coin-bar.png"), this.coinBarCont.addChild(this.coinBar); var h = { fill: "#fff", fontSize: 30, fontFamily: window.MAIN_FONT, letterSpacing: 3, padding: 10 },
                    u = new l.Text(v["default"].coins, h);
                this.coinBar.addChild(u), this.updateCoins(); var d = function(e) { t.buttons[e].onPress.add(t.onButtonPressed, t), t[e + "Show"] = function() { t.buttons[e].alpha = 0, t.buttons[e].visible = !0, TweenLite.to(t.buttons[e], .3, { alpha: 1 }) }, t[e + "Hide"] = function() { t.buttons[e].alpha = 1, t.buttons[e].visible = !0, TweenLite.to(t.buttons[e], .3, { alpha: 0 }) } }; for (var f in this.buttons) d(f) }, e.prototype.skipTutorial = function() { this.app.overlayManager.show(m["default"].OVERLAY_ID.SKIP) }, e.prototype.hideButtons = function() { for (var t in this.buttons) this.buttons[t].visible = !1, this.buttons[t].aplha = 0 }, e.prototype.setState = function(t) { this.hideButtons(); for (var e in this.states)
                    if (t === e)
                        for (var i = this.states[e], n = 0; n < i.length; n++) { var r = i[n];
                            this.buttons[r].visible = !0, this.buttons[r].aplha = 1 } this.previousState = this.state, this.state = t, "game" === this.state || "pause" === this.state ? TweenLite.to(this.coinBar.position, .3, { x: 0 }) : "prev" !== this.state && "prevnext" !== this.state && "prevsettings" !== this.state || TweenLite.to(this.coinBar.position, .3, { x: this.buttons.prev.x + 70 }), window.cordova || this.updateMuteButton() }, e.prototype.show = function() { this.visible = !0 }, e.prototype.hide = function(t) { this.visible = !t }, e.prototype.onButtonPressed = function(t) { switch (t) {
                    case this.buttons.mute:
                        v["default"].isMuted ? (_["default"].music.unmute(), _["default"].sfx.unmute()) : (_["default"].music.mute(), _["default"].sfx.mute()), v["default"].isMuted = !v["default"].isMuted; break;
                    case this.buttons.pause:
                        this.pauseGame(); break;
                    case this.buttons.settings:
                        window.cordova ? (this.confirmPrev = !1, this.prevScreen = this.app.screenManager.currentScreen.id, this.app.screenManager.gotoScreenByID(m["default"].SCREEN_ID.SETTINGS)) : (_["default"].sfx.isMuted ? (_["default"].sfx.unmute(), _["default"].music.unmute()) : (_["default"].sfx.mute(), _["default"].music.mute()), this.updateMuteButton(), this.app.localStorage.store("muted", _["default"].sfx.isMuted)); break;
                    case this.buttons.prev:
                        if (this.disablePrev) return; if (this.confirmPrev) return void this.app.overlayManager.show(m["default"].OVERLAY_ID.QUIT);
                        this.app.breadcrumb.hidden ? this.prevScreen ? (this.app.screenManager.gotoScreenByID(this.prevScreen), this.prevScreen = null) : this.app.screenManager.goBack() : this.app.breadcrumb.prev(); break;
                    case this.buttons.next:
                        this.app.breadcrumb.hidden ? this.nextScreen && this.app.screenManager.gotoScreenByID(this.nextScreen) : this.app.breadcrumb.next(); break;
                    case this.buttons.exit:
                } }, e.prototype.pauseGame = function() { this.setState("pause"), this.app.overlayManager.show(m["default"].OVERLAY_ID.PAUSE) }, e.prototype.updateMuteButton = function() { var t = _["default"].sfx.isMuted ? "icon-sound-off.png" : "icon-sound-on.png";
                this.buttons.settings.icon.texture = l.Texture.from(t) }, e.prototype.updateCoins = function() { var t = v["default"].coins;
                t >= 1e3 && (t = t.toString(), t = t.substr(0, t.length - 3) + "," + t.substr(-3)), 0 === t && (t = t.toString()); var e = this.coinBar.children[0];
                e.text = t, e.x = 115 - e.width / 2, e.y = 14 }, e.prototype.addCoins = function(t) { v["default"].coins += t, this.updateCoins(), this.app.saveCoins() }, e.prototype.resize = function(t, e) { var i = 0,
                    n = 108,
                    r = 108;
                this.iPhoneX && (i = 20), this.buttons.mute.position.set(t - n / 2 - i, i + r / 2), this.buttons.settings.position.set(t - n / 2 - i, i + r / 2), this.buttons.pause.position.set(t - n / 2 - i, i + r / 2), this.buttons.prev.position.set(n / 2 + i, i + r / 2), this.buttons.next.position.set(t - n / 2 - i, i + r / 2), this.bar.position.set(t / 2, e / 2), this.skipButton.position.set(t / 2, i + r / 2), "game" === this.state || "pause" === this.state ? this.coinBar.x = 0 : this.coinBar.x = this.buttons.prev.x + 70, this.coinBar.y = 13 }, e
        }(l.Container));
    e["default"] = x, t.exports = e["default"]
}, function(t, e, i) { "use strict";

    function n(t) { return t && t.__esModule ? t : { "default": t } }

    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } e.__esModule = !0; var s = function() {
            function t(t, e) { for (var i = 0; i < e.length; i++) { var n = e[i];
                    n.enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } } return function(e, i, n) { return i && t(e.prototype, i), n && t(e, n), e } }(),
        h = i(8),
        l = i(190),
        u = n(l),
        c = i(32),
        d = n(c),
        p = i(48),
        f = n(p),
        m = [d["default"].SCREEN_ID.COUNTRY_SELECT, d["default"].SCREEN_ID.CAPTAIN_SELECT, d["default"].SCREEN_ID.PLAYER_SELECT, d["default"].SCREEN_ID.PLAYER_SELECT_2, d["default"].SCREEN_ID.TEAM_REVIEW],
        g = function(t) {
            function e(i) { r(this, e); var n = o(this, t.call(this));
                window.bread = n, n.app = i, n.currentStep = 0, n.previousStep = -1, n.name = "breabcrumb", n.steps = [], n.breadCrumbContainer = new h.Container, n.bg = PIXI.Sprite.fromFrame("breadcrumb_back.png"), n.bg.height = n.bg.height + 10, n.breadCrumbContainer.addChild(n.bg); for (var a = 4; a >= 0; a--) { var s = new u["default"](a, 4 === a, d["default"].BREADCRUMB.HEIGHT);
                    s.onDown.add(n.onItemDown, n), s.onHover.add(n.onItemHover, n), n.breadCrumbContainer.addChild(s), n.steps[a] = s } return n.addChild(n.breadCrumbContainer), n.steps[0].activate(), n.maxStepIndexRiched = -1, n.hide(!0), n } return a(e, t), e.prototype.onItemDown = function(t) { t.last || this.currentStep <= t.index || t.hasBeenActivate && (this.previousStep = this.currentStep, this.currentStep = t.index, t.last && t.active ? (this.currentStep++, f["default"].isTournament ? this.app.screenManager.gotoScreenByID(d["default"].SCREEN_ID.TOURNAMENT) : (this.app.spotLights.hide(), this.app.screenManager.gotoScreenByID(d["default"].SCREEN_ID.GAME), this.hide())) : this.goTo()) }, e.prototype.onItemHover = function(t) { this.maxStepIndexRiched < t.index - 1 || t.hover() }, e.prototype.reset = function() { this.currentStep = 0, this.previousStep = -1 }, e.prototype.show = function() { this.hidden = !1, this.maxStepIndexRiched = -1, TweenLite.to(this, .4, { y: 0 }), TweenLite.to(this, .2, { alpha: 1, delay: .1 }) }, e.prototype.hide = function(t) { if (this.hidden = !0, t) { for (var e = 0; e < this.steps.length; e++) this.steps[e].reset();
                    this.y = 100 } else TweenLite.to(this, .4, { y: 100, onComplete: function() {} }), TweenLite.to(this, .2, { alpha: 0, delay: .1 }) }, e.prototype.resetSteps = function() { for (var t = 0; t < this.steps.length; t++) this.steps[t].reset(), this.steps[t].desactivate() }, e.prototype.next = function() { this.previousStep = this.currentStep, this.currentStep++, this.goTo() }, e.prototype.prev = function() { this.previousStep = this.currentStep, this.currentStep--, this.goTo() }, e.prototype.goTo = function() { if (void 0 === this.steps[this.currentStep]) this.app.screenManager.gotoScreenByID(d["default"].SCREEN_ID.TITLE);
                else { this.app.screenManager.gotoScreenByID(m[this.currentStep]), this.maxStepIndexRiched < this.steps[this.currentStep].index && (this.maxStepIndexRiched = this.steps[this.currentStep].index); for (var t = 0; t < this.steps.length; t++) t < this.currentStep || this.steps[t].desactivate() } void 0 !== this.steps[this.currentStep] ? (this.steps[this.currentStep].activate(), this.app.screenManager.currentScreen.beforeShow && this.app.screenManager.currentScreen.beforeShow(this.currentStep)) : this.currentStep = 0 }, e.prototype.resize = function(t, e) { for (var i = 0; i < this.steps.length; i++) this.steps[i].resize(t, e);
                this.bg.position.x = t / 2 - this.bg.width / 2, this.bg.position.y = e - this.bg.height }, s(e, [{ key: "currentItem", get: function() { return this.steps[this.currentStep] } }]), e }(h.Container);
    e["default"] = g, t.exports = e["default"] }, function(t, e, i) { "use strict";

    function n(t) { return t && t.__esModule ? t : { "default": t } }

    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } e.__esModule = !0; var s = i(8),
        h = i(13),
        l = n(h),
        u = i(16),
        c = n(u),
        d = i(43),
        p = n(d),
        f = function(t) {
            function e(i, n, a) { r(this, e); var h = o(this, t.call(this)),
                    u = c["default"].getJson("config").config.LOCALE;
                u = "_pl"; var d = ["_pl"].indexOf(u) !== -1;
                h.tick = 0, h.tickSpedd = .05 * Math.random() + .05, Math.random() > .5 && (h.tickSpedd = h.tickSpedd * -1), h.index = i, h.height = a, h.oheight = a, h.last = n; var f = i + 1; if (f > 1 && (f = 2), n && (f = 3), h.num = f, h.bg = PIXI.Sprite.fromFrame("breadcrumb_" + f + "_grey.png"), h.bg.position.y = 69 - h.bg.height, h.addChild(h.bg), f > 1 && !n) { var m = new s.Graphics,
                        g = 26,
                        v = 2;
                    m.beginFill(), m.moveTo(0, v), m.lineStyle(.1, 16767232, 1), m.lineTo(h.bg.width - g, v), m.lineTo(h.bg.width, h.bg.height / 2 - v), m.lineTo(h.bg.width - g, h.bg.height - v + 2), m.lineTo(0, h.bg.height - v + 2), m.lineTo(g, h.bg.height / 2 - v), m.lineTo(0, v), m.x = h.bg.x, m.y = h.bg.y, m.endFill(), h.addChild(m) } h.graphic = new s.Sprite, h.graphic.o = { x: 0, y: 0 }, h.graphic.anchor.x = .5, m && (h.graphic.mask = m), h.addChild(h.graphic), h.active = !1, h.hasBeenActivate = !1, h.interactive = !0, h.buttonMode = !0; var y = "",
                    _ = 35;
                h.last ? (window.itemt = h, y = "STR_BREADCRUMB_READY", _ = 50, d = !1) : 0 === h.index ? (y = "STR_BREADCRUMB_COUNTRY", _ = 20) : 1 === h.index ? y = "STR_BREADCRUMB_CAPTAIN" : 2 === h.index ? y = "STR_BREADCRUMB_PLAYER2" : 3 === h.index && (y = "STR_BREADCRUMB_PLAYER3"); var b = 20;
                h.last && (b = 38); var x = { fontSize: b, fontFamily: window.MAIN_FONT, fill: "#000", letterSpacing: 2, maxWidth: 150 }; return h.text = new p["default"](y, x), h.text.anchor.y = .5, d ? h.text.position.x = _ : h.text.position.x = _, h.text.position.y = a / 2 + 2, h.addChild(h.text), h.desactivate(), h.onDown = new l["default"], h.onHover = new l["default"], h.mousedown = h.touchstart = h.onDown.dispatch.bind(h, h), h } return a(e, t), e.prototype.reset = function() { this.active = !1, this.hasBeenActivate = !1, this.text.alpha = 1, this.graphic.texture = PIXI.Texture.EMPTY, this.graphicOverlay && (this.graphicOverlay.texture = s.Texture.EMPTY), this.moving || (this.bg.texture = new s.Texture.fromFrame("breadcrumb_" + this.num + "_grey.png")) }, e.prototype.updateTexture = function(t, e) { this.text.alpha = 0, this.graphicOverlay ? this.graphicOverlay.texture = new s.Texture.fromImage(t) : (this.graphicOverlay = new s.Sprite.from(t), this.graphicOverlay.anchor.set(.5), this.graphicOverlay.scale.set(.6), this.addChild(this.graphicOverlay)), this.graphicOverlay.position.y = this.bg.height / 2 + 17, this.graphicOverlay.position.x = this.bg.width / 2 }, e.prototype.update = function(t, e) { this.text.alpha = 0, this.moving = !0, this.bg.texture = new s.Texture.fromFrame(e ? "breadcrumb_" + this.num + "_orange.png" : "breadcrumb_" + this.num + "_grey.png"), this.graphic.texture = new s.Texture.fromImage(t.profile); var i = 0,
                    n = 0;
                t.offsetBreadCrumb && (i = t.offsetBreadCrumb.x || 0, n = t.offsetBreadCrumb.y || 0), this.graphic.o.x = this.bg.width / 2 + i, this.graphic.o.y = -this.bg.height / 4 + n, this.graphic.position.x = this.graphic.o.x, this.graphic.position.y = this.graphic.o.y, this.graphic.scale.set(.6) }, e.prototype.activate = function() { this.active = !0, this.hasBeenActivate = !0, this.bg.texture = new s.Texture.fromFrame("breadcrumb_" + this.num + "_orange.png") }, e.prototype.desactivate = function() { this.active = !1, this.text.alpha = 1, this.graphicOverlay && (this.graphicOverlay.texture = s.Texture.EMPTY), this.graphic.texture = PIXI.Texture.EMPTY, this.bg.texture = new s.Texture.fromFrame("breadcrumb_" + this.num + "_grey.png") }, e.prototype.hover = function() {}, e.prototype.updateTransform = function() { t.prototype.updateTransform.call(this), this.tick += this.tickSpedd, this.active && (!this.graphic || !this.moving) }, e.prototype.resize = function(t, e) { var i = 10 * this.index;
                this.x = t / 5 * this.index - i, this.y = e - this.oheight + 10 - 7, this.last ? this.bg.width = t / 3 : this.bg.width = t / 5, this.graphicOverlay && (this.graphicOverlay.position.y = this.bg.height / 2 + 17, this.graphicOverlay.position.x = this.bg.width / 2), this.moving || (this.graphic.position.y = this.bg.height / 2, this.graphic.position.x = this.bg.width / 2) }, e }(s.Container);
    e["default"] = f, t.exports = e["default"] }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(13),
            a = i(18),
            s = i(192),
            h = i(193),
            l = i(196),
            u = i(198),
            c = i(37),
            d = i(199),
            p = i(32),
            f = i(19),
            m = i(197),
            g = function(t) { a.call(this), this.defaultTransition = new f, this.noTransition = new m, this.app = t, this.view = new r.Container, this.view.visible = !1, this.shown = !1, this.pauseScreen = new s(t), this.quitScreen = new h(t), this.languageScreen = new l(t), this.skipScreen = new u(t), this.instructionsScreen = new d(t), this.addScreen(this.pauseScreen, p.OVERLAY_ID.PAUSE), this.addScreen(this.quitScreen, p.OVERLAY_ID.QUIT), this.addScreen(this.languageScreen, p.OVERLAY_ID.LANGUAGE), this.addScreen(this.skipScreen, p.OVERLAY_ID.SKIP), this.addScreen(this.instructionsScreen, p.OVERLAY_ID.INSTRUCTIONS), this.addScreen(new r.Container, p.OVERLAY_ID.EMPTY), this.onShow = new o, this.onHide = new o, this.closeButton = new c("icon-back.png"), this.closeButton.onPress.add(this.goBack, this), this.closeButton.x = 1e4, this.closeButton.y = 120, this.view.addChild(this.container), this.view.addChild(this.closeButton), this.app.screenManager.container.filterArea = new r.Rectangle(0, 0, 1e4, 1e4) };
        g.prototype = Object.create(a.prototype), g.prototype.goBack = function() { this.history.pop(); var t = this.history.pop();
            t ? this.gotoScreen(t) : this.hide() }, g.prototype.show = function(t, e) { return this.shown ? void this.gotoScreenByID(t, !0) : (this.shown = !0, this.history = [], this.onShow.dispatch(), this.view.alpha = 0, this.view.visible = !0, e ? (this.currentScreen || (this.currentScreen = this.quitScreen), this.view.alpha = 1, this.transition = this.noTransition) : (this.transition = this.defaultTransition, TweenLite.to(this.view, .3, { alpha: 1 })), this.gotoScreenByID(t, !0), void this.closeButton.scale.set(0)) }, g.prototype.gotoScreen = function(t) { void 0 === t.hasClose || t.hasClose === !0 ? (this.closeButton.interactive = !0, TweenLite.to(this.closeButton.scale, .3, { x: this.closeButton.defaultScale, y: this.closeButton.defaultScale, ease: Back.easeOut, delay: .4 })) : (this.closeButton.interactive = !1, TweenLite.to(this.closeButton.scale, .3, { x: 0, y: 0, ease: Back.easeOut })), a.prototype.gotoScreen.call(this, t) }, g.prototype.hide = function(t) { this.shown && (this.shown = !1, this.history = [], this.closeButton.interactive = !1, this.gotoScreenByID(p.OVERLAY_ID.EMPTY), t && (this.view.alpha = 0), TweenLite.to(this.closeButton.scale, .3, { x: 0, y: 0, ease: Back.easeOut }), TweenLite.to(this.view, .3, { alpha: 0, onComplete: function() { this.view.visible = !1, this.onHide.dispatch() }.bind(this) })) }, g.prototype.resize = function(t, e) { this.closeButton.x = t / 2 + 320 - 5, this.closeButton.y = e / 2 - 180 - 12;
            Math.max(t, e);
            a.prototype.resize.call(this, t, e) }, g.prototype.onFadeout = function() { this.currentScreen && (this.currentScreen.onHidden && this.currentScreen.onHidden(), this.container.removeChild(this.currentScreen)), this.currentScreen = this.nextScreen, this.currentScreen.alpha = 0, this.currentScreen.onShow && this.currentScreen.onShow(), this.currentScreen.resize && this.currentScreen.resize(this.w, this.h), this.container.addChild(this.currentScreen), TweenLite.to(this.currentScreen, .4, { alpha: 1, onComplete: this.onFadein.bind(this) }) }, n.exports = g }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(30),
            a = (i(41), i(37)),
            s = i(42),
            h = (i(16), i(36), i(56)),
            l = i(32),
            u = i(35);
        u.Translation;
        PauseScreen = function(t) { r.Container.call(this), this.app = t, this.hasClose = !1, this.bg = r.Sprite.from("panel_small.png"), this.bg.anchor.set(.5, .5), this.addChild(this.bg), this.title = new h.h1("STR_PAUSE_TITLE"), this.title.anchor.set(.5), this.title.position.set(0, -150), this.addChild(this.title), this.helpButton = new a("button_help.png", null, null, null, 1.1), this.helpButton.defaultScale = 1, this.helpButton.position.set(160, -20), this.helpButton.onPress.add(this.onHelpButtonPressed, this), this.addChild(this.helpButton), this.resumeButton = new a("button_play_big.png", null, null, "icon_play.png", 1.1), this.resumeButton.icon.scale.x = -1, this.resumeButton.y = -20, this.resumeButton.defaultScale = 1, this.resumeButton.icon.rotation = Math.PI, this.resumeButton.onPress.add(this.onResumeButtonPressed, this), this.addChild(this.resumeButton), this.quitButton = new a("button_menu.png", null, null, null, 1.1), this.quitButton.defaultScale = 1, this.quitButton.position.set(-160, -20), this.quitButton.onPress.add(this.onQuitButtonPressed, this), this.addChild(this.quitButton); var e = h.h1("STR_SETTINGS_SOUND");
            e.anchor.set(.5), e.x = 0, e.y = 80, this.addChild(e), this.soundOnButton = new s("button_on.png", null, null, "STR_SETTINGS_ON", 1.1, null, null, "avenir", 80), this.soundOnButton.defaultScale = 1, this.soundOnButton.x = -60, this.soundOnButton.y = 145, this.soundOnButton.onPress.add(this.soundOn, this), this.addChild(this.soundOnButton), this.soundOffButton = new s("button_off.png", null, null, "STR_SETTINGS_OFF", 1.1, null, null, "avenir", 80), this.soundOffButton.defaultScale = 1, this.soundOffButton.x = 60, this.soundOffButton.y = 145, this.soundOffButton.onPress.add(this.soundOff, this), this.addChild(this.soundOffButton) }, PauseScreen.prototype = Object.create(r.Container.prototype), PauseScreen.prototype.onShow = function() { this.updateSoundButtons() }, PauseScreen.prototype.soundOn = function() { o.sfx.unmute(), o.music.unmute(), this.updateSoundButtons() }, PauseScreen.prototype.soundOff = function() { o.sfx.mute(), o.music.mute(), this.updateSoundButtons() }, PauseScreen.prototype.updateSoundButtons = function() { o.sfx.isMuted ? (this.soundOnButton.enable(), this.soundOffButton.disable()) : (this.soundOnButton.disable(), this.soundOffButton.enable()), this.app.localStorage.store("muted", o.sfx.isMuted) }, PauseScreen.prototype.onHelpButtonPressed = function() { this.app.overlayManager.show(l.OVERLAY_ID.INSTRUCTIONS) }, PauseScreen.prototype.onResumeButtonPressed = function() { this.app.overlayManager.hide(), this.app.gameScreen.game.resume(), this.app.topMenu.setState("game") }, PauseScreen.prototype.onQuitButtonPressed = function() { this.app.overlayManager.show(l.OVERLAY_ID.QUIT) }, PauseScreen.prototype.resize = function(t, e) { this.x = t / 2, this.y = e / 2 }, n.exports = PauseScreen }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = (i(30), i(194)),
            a = (i(16), i(36), i(56)),
            s = i(32),
            h = i(35),
            l = (h.Translation, i(50)),
            u = i(48);
        i(49);
        QuitScreen = function(t) { r.Container.call(this), this.app = t, this.hasClose = !1, this.bg = r.Sprite.from("panel_quit.png"), this.bg.anchor.set(.5), this.addChild(this.bg), this.title = new a.h1("STR_QUIT_TITLE"), this.title.anchor.set(.5), this.title.position.set(0, -150), this.addChild(this.title), this.yesButton = new o("button_yes.png", null, null, null, 1.1), this.yesButton.defaultScale = 1, this.yesButton.position.set(-65, 0), this.yesButton.onPress.add(this.onYesButtonPressed, this), this.addChild(this.yesButton), this.noButton = new o("button_no.png", null, null, null, 1.1), this.noButton.defaultScale = 1, this.noButton.position.set(65, 0), this.noButton.onPress.add(this.onNoButtonPressed, this), this.addChild(this.noButton) }, QuitScreen.prototype = Object.create(r.Container.prototype), QuitScreen.prototype.onYesButtonPressed = function() { if (this.app.topMenu.confirmPrev) return this.app.overlayManager.hide(), this.app.topMenu.confirmPrev = !1, this.app.screenManager.gotoScreenByID(this.app.topMenu.prevScreen), void(this.app.topMenu.prevScreen = null); var t = { match_type: this.app.gameScreen.game.getMatchType(), score: this.app.gameScreen.game.goalsA + " - " + this.app.gameScreen.game.goalsB, gameTime: Math.round(this.app.gameScreen.game.timer.count / 60), tackleTotal: this.app.gameScreen.game.stats.tackleTotal, tackleSuccess: this.app.gameScreen.game.stats.tackleSuccess, tackleRatio: this.app.gameScreen.game.stats.tackleSuccess / this.app.gameScreen.game.stats.tackleTotal, shootTotal: this.app.gameScreen.game.stats.shootTotal, passTotal: this.app.gameScreen.game.stats.passTotal, passSuccess: this.app.gameScreen.game.stats.passSuccess, passRatio: this.app.gameScreen.game.stats.passSuccess / this.app.gameScreen.game.stats.passTotal, opponentTackle: this.app.gameScreen.game.stats.opponentTackle, opponentTackleSuccess: this.app.gameScreen.game.stats.opponentTackleSuccess, possession: Math.round(this.app.gameScreen.game.stats.possession) };
            l.adbTrackAction("exit_match", t), l.bootstrapEventTrigger("exit_match", t), this.app.gameScreen.game.reset(), u.reset(), window.showTutorial && this.app.gameScreen.game.tutorialManager.reset(), this.app.overlayManager.hide(), this.app.screenManager.gotoScreenByID(s.SCREEN_ID.TITLE) }, QuitScreen.prototype.onNoButtonPressed = function() { return this.app.topMenu.confirmPrev ? void this.app.overlayManager.hide() : void this.app.overlayManager.show(s.OVERLAY_ID.PAUSE) }, QuitScreen.prototype.resize = function(t, e) { this.x = t / 2, this.y = e / 2 }, n.exports = QuitScreen }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(195),
            a = i(30),
            s = function(t, e, i, n, a) { o.call(this), this.isOnlyIcon = !0, this.scaleVal = "undefined" != typeof a ? a : null, this.pressSound = "button_press", this.rollSound = "button_roll", t && (this.background = new r.Sprite.fromFrame(t), this.background.anchor.set(.5), this.addChild(this.background), this.isOnlyIcon = !1), this.normalTexture = t, this.downTexture = e || this.normalTexture, this.hoverTexture = i || this.normalTexture, n && (this.icon = new r.Sprite.fromFrame(n), this.icon.anchor.set(.5), this.addChild(this.icon)), this.onDown.add(this._onDown, this), this.onUp.add(this._onUp, this), this.onHover.add(this._onHover, this), this.onOut.add(this._onMouseOut, this), this.onEnabled.add(this._onEnabled, this), this.onDisabled.add(this._onDisabled, this), this._soundDirty = !0 };
        s.prototype = Object.create(o.prototype), s.prototype._onDown = function() { this.isOnlyIcon || (this.background.texture = r.Texture.fromFrame(this.downTexture)) }, s.prototype._onHover = function() { this.isOnlyIcon || (this._soundDirty && (this._soundDirty = !1, a.sfx.play(this.rollSound)), this.background.texture = r.Texture.fromFrame(this.hoverTexture), null !== this.scaleVal && TweenLite.to(this.scale, .3, { x: this.scaleVal, y: this.scaleVal, ease: Linear.None })) }, s.prototype._onMouseOut = function() { this.isOnlyIcon || (this._soundDirty || TweenLite.delayedCall(.4, function() { this._soundDirty = !0 }.bind(this)), this.background.texture = r.Texture.fromFrame(this.normalTexture), null !== this.scaleVal && TweenLite.to(this.scale, .3, { x: this.defaultScale, y: this.defaultScale, ease: Linear.None })) }, s.prototype._onUp = function() { this.isOnlyIcon || (this.pressSound && a.sfx.play(this.pressSound), this.background.texture = r.Texture.fromFrame(this.normalTexture)) }, s.prototype._onEnabled = function() { o.prototype.enable.call(this) }, s.prototype._onDisabled = function() { o.prototype.disable.call(this) }, s.prototype.setIcon = function(t) { this.icon.texture = r.Texture.fromFrame(t) }, s.prototype.setSize = function(t) { this.defaultScale = t, this.overScale = 1.1 * t }, s.prototype.fromFrames = function(t, e, i, n) { return new s(r.Texture.fromFrame(t), r.Texture.fromFrame(e), r.Texture.fromFrame(i), n ? r.Texture.fromFrame(n) : null) }, n.exports = s }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(13),
            a = function() { r.Container.call(this), this.onPress = new o, this.onDown = new o, this.onUp = new o, this.onHover = new o, this.onOut = new o, this.onEnabled = new o, this.onDisabled = new o, this.mousedown = this.touchstart = this.onDown.dispatch.bind(this, this), this.mouseup = this.touchend = this.onUp.dispatch.bind(this, this), this.click = this.tap = this.onPress.dispatch.bind(this, this), this.mouseover = this.onHover.dispatch.bind(this, this), this.touchendoutside = this.mouseupoutside = this.mouseout = this.onOut.dispatch.bind(this, this), this.onDown.add(this.down, this), this.onUp.add(this.up, this), this.onHover.add(this.hover, this), this.onOut.add(this.out, this), this.onEnabled.add(this.enable, this), this.onDisabled.add(this.disable, this), this._scale = new r.Point, this.enable(), this.setSize() };
        a.prototype = Object.create(r.Container.prototype), a.prototype.constructor = a, a.prototype.setSize = function(t) { switch (t) {
                case "small":
                    this.scale.set(.5); break;
                case "big":
                    this.scale.set(2); break;
                default:
                    this.scale.set(1) } }, a.prototype.enable = function() { this.interactive = !0, this.buttonMode = !0, TweenLite.to(this, .3, { alpha: 1, ease: Linear.None }) }, a.prototype.disable = function() { this.interactive = !1, this.buttonMode = !1, TweenLite.to(this, .3, { alpha: .5, ease: Linear.None }) }, a.prototype.down = function(t, e) {}, a.prototype.up = function(t, e) {}, a.prototype.hover = function(t, e) {}, a.prototype.out = function(t, e) {}, a.prototype.show = function() { this.visible = !0, this.enable() }, a.prototype.hide = function() { this.disable(), this.visible = !1 }, n.exports = a }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = (i(30), i(194)),
            a = (i(16), i(36), i(56)),
            s = i(43),
            h = (i(32), i(35)),
            l = (h.Translation, i(48), i(49), i(197));
        LanguageScreen = function(t) { r.Container.call(this), this.transition = new l, this.app = t, this.hasClose = !1, this.bg = r.Sprite.from("panel_quit.png"), this.bg.anchor.set(.5), this.addChild(this.bg), this.title = new a.h1("STR_QUIT_TITLE"), this.title.anchor.set(.5), this.title.position.set(0, -150), this.addChild(this.title), this.areyousureText = new s("STR_AREYOUSURE"), this.areyousureText.anchor.set(.5), this.areyousureText.position.set(0, -30), this.addChild(this.areyousureText), this.yesButton = new o("button_yes.png", null, null, null, 1.1), this.yesButton.defaultScale = 1, this.yesButton.position.set(-65, 80), this.yesButton.onPress.add(this.onYesButtonPressed, this), this.addChild(this.yesButton), this.noButton = new o("button_no.png", null, null, null, 1.1), this.noButton.defaultScale = 1, this.noButton.position.set(65, 80), this.noButton.onPress.add(this.onNoButtonPressed, this), this.addChild(this.noButton) }, LanguageScreen.prototype = Object.create(r.Container.prototype), LanguageScreen.prototype.setTitle = function(t, e) { this.title.setText(t), this.title.style.fontFamily = e }, LanguageScreen.prototype.onYesButtonPressed = function() { this.app.overlayManager.hide(), this.app.languageScreen.confirmLanguage() }, LanguageScreen.prototype.onNoButtonPressed = function() { this.app.overlayManager.hide(!0) }, LanguageScreen.prototype.resize = function(t, e) { this.x = t / 2, this.y = e / 2 }, n.exports = LanguageScreen }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, i) { var n = function() {};
        n.constructor = n, n.prototype.begin = function(t, e, i) { e.onHide && e.onHide(), e.onHidden && e.onHidden(), t.container.addChildAt(i, 0), t.container.removeChild(e), i.onShow && i.onShow(), i.onShown && i.onShown(), t.onTransitionComplete() }, n.prototype.resize = function(t, e) { this.width = t, this.height = e }, i.exports = n }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = (i(30), i(194)),
            a = (i(16), i(36), i(56)),
            s = (i(32), i(35)),
            h = (s.Translation, i(48), i(49), i(43));
        SkipScreen = function(t) { r.Container.call(this), this.app = t, this.hasClose = !1, this.bg = r.Sprite.from("panel_quit.png"), this.bg.anchor.set(.5), this.addChild(this.bg), this.title = new a.h1("STR_TITLE_SKIP"), this.title.anchor.set(.5), this.title.position.set(0, -150), this.addChild(this.title); var e = { fill: "#493008", fontSize: 24, fontFamily: "avenir", maxWidth: 500 },
                i = new h("STR_TITLE_SKIP_MESSAGE", e);
            i.anchor.set(.5), i.x = 0, i.y = -20, this.addChild(i), this.yesButton = new o("button_yes.png", null, null, null, 1.1), this.yesButton.defaultScale = 1, this.yesButton.position.set(-65, 110), this.yesButton.onPress.add(this.onYesButtonPressed, this), this.addChild(this.yesButton), this.noButton = new o("button_no.png", null, null, null, 1.1), this.noButton.defaultScale = 1, this.noButton.position.set(65, 110), this.noButton.onPress.add(this.onNoButtonPressed, this), this.addChild(this.noButton) }, SkipScreen.prototype = Object.create(r.Container.prototype), SkipScreen.prototype.onYesButtonPressed = function() { this.app.topMenu.skipButton.visible = !1, this.app.overlayManager.hide(), this.app.game.tutorialManager.onTutorialSkipped() }, SkipScreen.prototype.onNoButtonPressed = function() { this.app.overlayManager.hide() }, SkipScreen.prototype.resize = function(t, e) { this.x = t / 2, this.y = e / 2 }, n.exports = SkipScreen }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) { var n;
    n = function(t, e, n) { var r = i(8),
            o = i(200),
            a = i(32),
            s = i(22),
            h = i(50);
        InstructionsScreen = function(t) { r.Container.call(this), this.app = t, this.hasClose = !1, this.content = new o, this.content.onNextButton.add(this.onNextButtonPressed, this), this.content.onPreviousButton.add(this.onPreviousButtonPressed, this), this.addChild(this.content), this.content.nextButton.visible = !1 }, InstructionsScreen.prototype = Object.create(r.Container.prototype), InstructionsScreen.prototype.onShow = function() { h.adbTrackAction("how_to_play"), h.bootstrapEventTrigger("how_to_play") }, InstructionsScreen.prototype.onPreviousButtonPressed = function() { this.app.overlayManager.show(a.OVERLAY_ID.PAUSE) }, InstructionsScreen.prototype.onNextButtonPressed = function() { this.app.overlayManager.show(a.OVERLAY_ID.PAUSE) }, InstructionsScreen.prototype.resize = function(t, e) { this.x = t / 2, this.y = e / 2, s.instance.desktop ? this.content.bg.height = e - 150 : this.content.bg.height = e - 20, this.content.bg.scale.x = this.content.bg.scale.y }, n.exports = InstructionsScreen }.call(e, i, e, t), !(void 0 !== n && (t.exports = n)) }, function(t, e, i) {
    var n;
    n = function(t, e, n) {
        var r = i(8),
            o = i(194),
            a = i(16),
            s = i(56),
            h = i(13),
            l = i(34),
            u = i(130),
            c = i(22),
            d = i(43);
        InstructionsBaseScreen = function(t) {
            r.Container.call(this), this.hasNextButton = t !== !1, this.mobile = !c.instance.desktop, this.bg = r.Sprite.from("panel_leaderboard.png"), this.mobile && this.bg.scale.set(.8), this.bg.anchor.set(.5), this.addChild(this.bg);
            var e = -180,
                i = r.Sprite.from("panel_1.png");
            i.anchor.x = .5, i.scale.set(.9), i.position.set(-280, e), this.bg.addChild(i);
            var i = r.Sprite.from("panel_2.png");
            i.anchor.x = .5, i.scale.set(.9), i.position.set(0, e), this.bg.addChild(i);
            var i = r.Sprite.from("panel_1.png");
            i.anchor.x = .5, i.scale.set(.9), i.position.set(280, e), this.bg.addChild(i), this.title = new s.h1("STR_INSTRUCTIONS_TITLE"), this.title.upperCase = !0, this.title.anchor.set(.5, 1), this.title.position.set(0, -270), this.bg.addChild(this.title), this.onNextButton = new h, this.onPreviousButton = new h;
            var n = { fill: "#493008", fontSize: 18, fontFamily: window.MAIN_FONT, upperCase: !0, maxWidth: 200 };
            if (this.movementLabel = new d("STR_INSTRUCTIONS_MOVEMENT", n), this.movementLabel.anchor.set(.5), this.movementLabel.position.set(-275, -137), this.bg.addChild(this.movementLabel), n.maxWidth = 250, this.tackleLabel = new d(["STR_INSTRUCTIONS_TACKLE", " / ", "STR_INSTRUCTIONS_PASS"], n), this.tackleLabel.anchor.set(.5), this.tackleLabel.position.set(0, -137), this.tackleLabel.alpha = 0, this.bg.addChild(this.tackleLabel), TweenLite.to(this.tackleLabel, .5, { alpha: 1, ease: Linear.None, delay: 2, onCompleteScope: this }), n.maxWidth = 200, this.shortPassLabel = new d("STR_INSTRUCTIONS_POWERSHOT", n), this.shortPassLabel.anchor.set(.5), this.shortPassLabel.position.set(0, -137), this.bg.addChild(this.shortPassLabel), TweenLite.to(this.shortPassLabel, .5, { alpha: 0, ease: Linear.None, delay: 2 }), this.specialShotLabel = new d("STR_INSTRUCTIONS_POWERSHOT", n), this.specialShotLabel.anchor.set(.5), this.specialShotLabel.position.set(275, -137), this.bg.addChild(this.specialShotLabel), this.line = new r.Graphics, this.line.lineStyle(4, 4796424).moveTo(0, 0).lineTo(40, -82),
                this.line.x = -15, this.line.y = -10, this.mobile && (this.line.y += 20), this.bg.addChild(this.line), this.movementKey = r.Sprite.fromFrame(this.mobile ? "joystick_back.png" : "arrow_keys.png"), this.movementKey.anchor.set(.5, .5), this.movementKey.position.set(-280, 80), this.bg.addChild(this.movementKey), this.mobile) { var p = r.Sprite.fromFrame("joystick.png");
                p.anchor.set(.5), this.movementKey.icon = p, this.movementKey.addChild(p), this.movementPointer = r.Sprite.fromFrame("pointer2.png"), this.movementPointer.anchor.set(.5), this.movementPointer.position.set(-280, 120), this.movementPointer.alpha = 0, this.bg.addChild(this.movementPointer) }
            if (this.tackleKey = r.Sprite.fromFrame(this.mobile ? "touch_button.png" : "spacebar.png"), this.tackleKey.scale.set(.75), this.tackleKey.anchor.set(.5, .5), this.tackleKey.position.set(0, this.mobile ? 90 : 110), this.bg.addChild(this.tackleKey), this.mobile) { var p = r.Sprite.fromFrame("touch_button_hit.png");
                p.anchor.set(.5), this.tackleKey.addChild(p), this.tackleKeyIcon = p, this.tackleKeyIcon.visible = !1, this.tacklePointer = r.Sprite.fromFrame("pointer2.png"), this.tacklePointer.anchor.set(.5), this.tacklePointer.position.set(0, 150), this.tacklePointer.alpha = 0, this.bg.addChild(this.tacklePointer) }
            var n = { fill: "black", fontSize: 20, fontFamily: "lubalin", align: "center" };
            if (this.specialShotKey = r.Sprite.fromFrame(this.mobile ? "touch_button.png" : "spacebar.png"), this.specialShotKey.scale.set(.75), this.specialShotKey.anchor.set(.5, .5), this.specialShotKey.position.set(285, this.mobile ? 90 : 110), this.bg.addChild(this.specialShotKey), this.mobile) { var p = r.Sprite.fromFrame("touch_button_hit.png");
                p.anchor.set(.5), this.specialShotKey.icon = p, this.specialShotKey.icon.visible = !1, this.specialShotKey.addChild(p), this.specialShotKey.y += 15, this.specialShotPointer = r.Sprite.fromFrame("pointer2.png"), this.specialShotPointer.anchor.set(.5), this.specialShotPointer.position.set(285, 150), this.specialShotPointer.alpha = 0, this.bg.addChild(this.specialShotPointer) }
            var f = a.getJson("character-animation")["finn_blue.json"];
            this.movementAnim = new r.extras.MovieClip(l.getTexturesFromFrames(f.run)), this.movementAnim.anchor.set(.5, .5), this.movementAnim.scale.set(.6), this.movementAnim.position.set(-275, -60), this.movementAnim.animationSpeed = .3, this.mobile || this.movementAnim.play(), this.bg.addChild(this.movementAnim), this.tackleAnim = new r.extras.MovieClip(l.getTexturesFromFrames(f.tackle)), this.tackleAnim.anchor.set(.5, .5), this.tackleAnim.scale.set(.6), this.tackleAnim.position.set(-55, -60), this.tackleAnim.animationSpeed = .3, this.mobile || this.tackleAnim.play(), this.tackleAnim.alpha = 0, this.bg.addChild(this.tackleAnim), TweenLite.to(this.tackleAnim, .5, { alpha: 1, ease: Linear.None, delay: 2 }), this.shortPassAnim = new r.extras.MovieClip(l.getTexturesFromFrames(f.kickCharge)), this.shortPassAnim.anchor.set(.5, .5), this.shortPassAnim.scale.set(.6), this.shortPassAnim.position.set(55, -60), this.shortPassAnim.animationSpeed = .3, this.shortPassAnim.alpha = 0, this.mobile || this.shortPassAnim.play(), this.bg.addChild(this.shortPassAnim), TweenLite.to(this.shortPassAnim, .5, { alpha: 1, ease: Linear.None, delay: 2 }), this.specialShotAnim = new r.extras.MovieClip(l.getTexturesFromFrames(f.kickCharge)), this.specialShotAnim.anchor.set(.5, .5), this.specialShotAnim.scale.set(.6), this.specialShotAnim.position.set(275, -60), this.specialShotAnim.animationSpeed = .3, this.specialShotAnim.loop = !1, this.specialShotAnim.play(), this.bg.addChild(this.specialShotAnim), this.previousButton = new o("button_back.png", null, null, null, 1.1), this.previousButton.scaleVal = .6, this.previousButton.defaultScale = .5, this.previousButton.position.set(-442, -294), this.previousButton.scale.set(.5), this.previousButton.onPress.add(this.onPreviousButtonPressed, this), window.prevButton = this.previousButton, this.bg.addChild(this.previousButton), this.nextButton = new o("icon-back.png"), this.nextButton.position.set(380, 200), this.nextButton.onPress.add(this.onNextButtonPressed, this), this.hasNextButton && this.bg.addChild(this.nextButton), this.chargeBar = new u, this.ratio = 0, this.chargeBar.setSize(1), this.bg.addChild(this.chargeBar), this.chargeBar.scale.set(.9), this.chargeBar.show(), this.chargeBar.position.set(280, 30), this.count = 0, this.step = 0, this.tick = 0, this.movementStep = 0, this.tackleStep = 0, this.tackleTick = 0, this.specialShotStep = 0, this.specialShotTick = 0, this.specialShotAnim.gotoAndStop(1)
        }, InstructionsBaseScreen.prototype = Object.create(r.Container.prototype), InstructionsBaseScreen.prototype.updateTransform = function() { if (this.containerUpdateTransform(), this.mobile) { if (this.tick += .03, 0 === this.movementStep) this.tick > 1 && (this.tick = 1), this.movementPointer.alpha = this.tick, 1 === this.tick && (this.tick = 0, this.movementStep++, this.movementAnim.play());
                else if (1 === this.movementStep) { var t = 40;
                    this.movementPointer.position.x = -280 + this.tick * t, this.movementKey.icon.position.x = this.tick * t, this.tick > 1.5 && (this.tick = 0, this.movementStep = 0, this.movementPointer.position.x = -280, this.movementKey.icon.position.x = 0, this.movementAnim.gotoAndStop(1), this.movementPointer.alpha = 0) } if (this.tackleTick += .03, 0 === this.tackleStep) this.tackleTick > 1 && (this.tackleTick = 1), this.tacklePointer.alpha = this.tackleTick, 1 === this.tackleTick && (this.tackleTick = 0, this.tackleStep++);
                else if (1 === this.tackleStep) { var t = 40;
                    this.tacklePointer.position.y = 150 - this.tackleTick * t, this.tackleTick > .8 && (this.tackleTick = 0, this.tackleStep++, this.tackleKeyIcon.visible = !0, this.tackleAnim.play(), this.shortPassAnim.play()) } else 2 === this.tackleStep && this.tackleTick > 1.2 && (this.tackleTick = 0, this.tackleStep = 0, this.tackleKeyIcon.visible = !1, this.tackleAnim.gotoAndStop(1), this.shortPassAnim.gotoAndStop(1), this.tacklePointer.position.y = 150, this.tacklePointer.alpha = 0) } if (this.mobile)
                if (0 === this.step) this.ratio += .03, this.ratio > 1 && (this.ratio = 1), this.specialShotPointer.position.y = 160, this.specialShotPointer.alpha = this.ratio, 1 === this.ratio && (this.ratio = 0, this.step++);
                else if (1 === this.step) { this.ratio += .03; var t = 40;
                this.specialShotPointer.position.y = 160 - this.ratio * t, this.ratio > .8 && (this.ratio = 0, this.step++) } else 2 === this.step ? (this.ratio += .01, this.chargeBar.setRatio(this.ratio), this.specialShotKey.texture = r.Texture.fromFrame(this.mobile ? "touch_button.png" : "spacebar_hit.png"), this.specialShotKey.icon.visible = !0, this.ratio > .75 && (this.step = 3, this.count = 0, this.specialShotAnim.play(), this.specialShotKey.texture = r.Texture.fromFrame(this.mobile ? "touch_button.png" : "spacebar.png"), this.specialShotKey.icon.visible = !1, this.specialShotPointer.alpha = 0)) : 3 === this.step && (this.count++, this.count > 30 && (this.step = 0, this.ratio = 0, this.specialShotAnim.gotoAndStop(1), this.specialShotPointer.position.y = 160, this.specialShotPointer.alpha = 0));
            else 0 === this.step ? (this.ratio += .01, this.chargeBar.setRatio(this.ratio), this.specialShotKey.texture = r.Texture.fromFrame("spacebar_hit.png"), this.ratio > .75 && (this.step = 1, this.count = 0, this.specialShotAnim.play(), this.specialShotKey.texture = r.Texture.fromFrame("spacebar.png"))) : 1 === this.step && (this.count++, this.count > 30 && (this.step = 0, this.ratio = 0, this.specialShotAnim.gotoAndStop(1))) }, InstructionsBaseScreen.prototype.onPreviousButtonPressed = function() { this.onPreviousButton.dispatch() }, InstructionsBaseScreen.prototype.onNextButtonPressed = function() { this.onNextButton.dispatch() }, n.exports = InstructionsBaseScreen
    }.call(e, i, e, t), !(void 0 !== n && (t.exports = n))
}, function(t, e, i) { "use strict";

    function n(t) { return t && t.__esModule ? t : { "default": t } }

    function r(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") }

    function o(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }

    function a(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e);
        t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } e.__esModule = !0; var s = i(8),
        h = i(47),
        l = (n(h), function(t) {
            function e(i, n) { r(this, e); var a = o(this, t.call(this));
                window.spot = a, a.app = i, a.spots = [], n ? a.config = [{ x: 960, y: 1080, rotation: Math.PI / 2 - .2 }, { x: 960, y: 1080, rotation: Math.PI / 2 }, { x: 960, y: 1080, rotation: Math.PI / 2 + .2 }, { x: 0, y: 1080, rotation: Math.PI / 2 + .4 }, { x: 1920, y: 1080, rotation: Math.PI / 2 - .4 }] : a.config = [{ x: 200, y: 100, rotation: -Math.PI / 2 - Math.PI / 4 }, { x: 1720, y: 100, rotation: -Math.PI / 4 }, { x: 320, y: 190, rotation: -Math.PI / 2 - Math.PI / 4 + .4 }, { x: 1600, y: 190, rotation: -Math.PI / 4 - .4 }]; for (var h = 0; h < a.config.length; h++) { var l = s.Sprite.from("home_stadium_light.png");
                    l.blendMode = PIXI.BLEND_MODES.ADD, l.anchor.set(.95, .5), l.position.x = a.config[h].x, l.position.y = a.config[h].y, l.tick = h % 2 === 0 ? -1 : 1, l.startTick = 1e3 * Math.random(), l.alpha = .6, a.spots.push(l), a.addChild(l) } return a.tick = 0, a } return a(e, t), e.prototype.updateTransform = function() { t.prototype.updateTransform.call(this), this.tick += .015; for (var e = 18, i = 0; i < this.spots.length; i++) this.spots[i].rotation = this.config[i].rotation, this.spots[i].rotation -= Math.PI / 180 * Math.sin(this.spots[i].startTick + this.tick * this.spots[i].tick) * e }, e.prototype.show = function() { TweenLite.to(this, .3, { alpha: 1 }) }, e.prototype.hide = function() { TweenLite.to(this, .5, { alpha: 0 }) }, e }(s.Container));
    e["default"] = l, t.exports = e["default"] }]);