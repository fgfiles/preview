'use strict';(function(){var N,da,e,o,t,i,g,J,s,m,h,aa,p,R,C,U,Q,T,V,Y,I,v,D,K,j,f,d,L,l,P,w,z,G,Z,A,F,ba;function y(a,b){function c(){}c.prototype=a;var q=new c,d;for(d in b)q[d]=b[d];return q}function ga(a){return a instanceof Array?function(){return B.iter(a)}:"function"==typeof a.iterator?x(a,a.iterator):a.iterator}function x(a,b){var c=function(){return c.method.apply(c.scope,arguments)};c.scope=a;c.method=b;return c}var k={},n=function(){return I.__string_rec(this,"")},X=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};k.EReg=X;X.__name__=["EReg"];X.prototype={matchedPos:function(){if(null==this.r.m)throw"No string matched";return{pos:this.r.m.index,len:this.r.m[0].length}},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)a=this.r.m[a];else throw"EReg::matched";return a},match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},__class__:X};var H=function(){this.h={}};k.Hash=H;H.__name__=["Hash"];H.prototype={iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){return this.ref["$"+this.it.next()]}}},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b.substr(1));return B.iter(a)},remove:function(a){a="$"+a;if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},exists:function(a){return this.h.hasOwnProperty("$"+a)},get:function(a){return this.h["$"+a]},set:function(a,b){this.h["$"+a]=b},__class__:H};var B=function(){};k.HxOverrides=B;B.__name__=["HxOverrides"];B.dateStr=function(a){var b=a.getMonth()+1,c=a.getDate(),q=a.getHours(),d=a.getMinutes(),e=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>q?"0"+q:""+q)+":"+(10>d?"0"+d:""+d)+":"+(10>e?"0"+e:""+e)};B.strDate=function(a){switch(a.length){case 8:var a=a.split(":"),b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return a=a.split(" "),b=a[0].split("-"),a=a[1].split(":"),new Date(b[0],b[1]-1,b[2],a[0],a[1],a[2]);default:throw"Invalid date format : "+a;}};B.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};B.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};B.remove=function(a,b){for(var c=0,q=a.length;c<q;){if(a[c]==b)return a.splice(c,1),!0;c++}return!1};B.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var W=function(){this.h={}};k.IntHash=W;W.__name__=["IntHash"];W.prototype={keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b|0);return B.iter(a)},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},exists:function(a){return this.h.hasOwnProperty(a)},get:function(a){return this.h[a]},set:function(a,b){this.h[a]=b},__class__:W};var ca=function(){};k.Lambda=ca;ca.__name__=["Lambda"];ca.array=function(a){for(var b=[],a=ga(a)();a.hasNext();){var c=a.next();b.push(c)}return b};ca.has=function(a,b,c){if(null==c)for(c=ga(a)();c.hasNext();){if(a=c.next(),a==b)return!0}else for(var q=ga(a)();q.hasNext();)if(a=q.next(),c(a,b))return!0;return!1};ca.count=function(a,b){var c=0;if(null==b)for(var q=ga(a)();q.hasNext();)q.next(),c++;else for(q=ga(a)();q.hasNext();){var d=q.next();b(d)&&c++}return c};var ea=function(){this.length=0};k.List=ea;ea.__name__=["List"];ea.prototype={iterator:function(){return{h:this.h,hasNext:function(){return null!=this.h},next:function(){if(null==this.h)return null;var a=this.h[0];this.h=this.h[1];return a}}},add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},__class__:ea};var M=function(){};k.Reflect=M;M.__name__=["Reflect"];M.field=function(a,b){var c=null;try{c=a[b]}catch(q){}return c};M.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,q;for(q in a)c.call(a,q)&&b.push(q)}return b};M.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};M.compareMethods=function(a,b){return a==b?!0:!M.isFunction(a)||!M.isFunction(b)?!1:a.scope==b.scope&&a.method==b.method&&null!=a.method};var r=function(){};k.Std=r;r.__name__=["Std"];r.string=function(a){return I.__string_rec(a,"")};r.parseInt=function(a){var b=parseInt(a,10);if(0==b&&(120==B.cca(a,1)||88==B.cca(a,1)))b=parseInt(a);return isNaN(b)?null:b};r.parseFloat=function(a){return parseFloat(a)};r.random=function(a){return Math.floor(Math.random()*a)};var $=function(){this.b=""};k.StringBuf=$;$.__name__=["StringBuf"];$.prototype={__class__:$};var S=function(){};k.StringTools=S;S.__name__=["StringTools"];S.urlEncode=function(a){return encodeURIComponent(a)};S.urlDecode=function(a){return decodeURIComponent(a.split("+").join(" "))};S.startsWith=function(a,b){return a.length>=b.length&&B.substr(a,0,b.length)==b};S.isSpace=function(a,b){var c=B.cca(a,b);return 9<=c&&13>=c||32==c};S.ltrim=function(a){for(var b=a.length,c=0;c<b&&S.isSpace(a,c);)c++;return 0<c?B.substr(a,c,b-c):a};S.rtrim=function(a){for(var b=a.length,c=0;c<b&&S.isSpace(a,b-c-1);)c++;return 0<c?B.substr(a,0,b-c):a};S.trim=function(a){return S.ltrim(S.rtrim(a))};var E=k.ValueType={__ename__:["ValueType"],__constructs__:"TNull,TInt,TFloat,TBool,TObject,TFunction,TClass,TEnum,TUnknown".split(",")};E.TNull=["TNull",0];E.TNull.toString=n;E.TNull.__enum__=E;E.TInt=["TInt",1];E.TInt.toString=n;E.TInt.__enum__=E;E.TFloat=["TFloat",2];E.TFloat.toString=n;E.TFloat.__enum__=E;E.TBool=["TBool",3];E.TBool.toString=n;E.TBool.__enum__=E;E.TObject=["TObject",4];E.TObject.toString=n;E.TObject.__enum__=E;E.TFunction=["TFunction",5];E.TFunction.toString=n;E.TFunction.__enum__=E;E.TClass=function(a){a=["TClass",6,a];a.__enum__=E;a.toString=n;return a};E.TEnum=function(a){a=["TEnum",7,a];a.__enum__=E;a.toString=n;return a};E.TUnknown=["TUnknown",8];E.TUnknown.toString=n;E.TUnknown.__enum__=E;var O=function(){};k.Type=O;O.__name__=["Type"];O.getClassName=function(a){return a.__name__.join(".")};O.getEnumName=function(a){return a.__ename__.join(".")};O.resolveClass=function(a){a=k[a];return null==a||!a.__name__?null:a};O.resolveEnum=function(a){a=k[a];return null==a||!a.__ename__?null:a};O.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);default:throw"Too many arguments";}};O.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};O.createEnum=function(a,b,c){var q=M.field(a,b);if(null==q)throw"No such constructor "+b;if(M.isFunction(q)){if(null==c)throw"Constructor "+b+" need parameters";return q.apply(a,c)}if(null!=c&&0!=c.length)throw"Constructor "+b+" does not need parameters";return q};O.getEnumConstructs=function(a){return a.__constructs__.slice()};O["typeof"]=function(a){switch(typeof a){case "boolean":return E.TBool;case "string":return E.TClass(String);case "number":return Math.ceil(a)==a%2147483648?E.TInt:E.TFloat;case "object":if(null==a)return E.TNull;var b=a.__enum__;if(null!=b)return E.TEnum(b);a=a.__class__;return null!=a?E.TClass(a):E.TObject;case "function":return a.__name__||a.__ename__?E.TObject:E.TFunction;case "undefined":return E.TNull;default:return E.TUnknown}};var u=function(){};k.Xml=u;u.__name__=["Xml"];u.parse=function(a){return C.Parser.parse(a)};u.createElement=function(a){var b=new u;b.nodeType=u.Element;b._children=[];b._attributes=new H;b.setNodeName(a);return b};u.createPCData=function(a){var b=new u;b.nodeType=u.PCData;b.setNodeValue(a);return b};u.createCData=function(a){var b=new u;b.nodeType=u.CData;b.setNodeValue(a);return b};u.createComment=function(a){var b=new u;b.nodeType=u.Comment;b.setNodeValue(a);return b};u.createDocType=function(a){var b=new u;b.nodeType=u.DocType;b.setNodeValue(a);return b};u.createProlog=function(a){var b=new u;b.nodeType=u.Prolog;b.setNodeValue(a);return b};u.createDocument=function(){var a=new u;a.nodeType=u.Document;a._children=[];return a};u.prototype={toString:function(){if(this.nodeType==u.PCData)return this._nodeValue;if(this.nodeType==u.CData)return"<![CDATA["+this._nodeValue+"]]\>";if(this.nodeType==u.Comment)return"<\!--"+this._nodeValue+"--\>";if(this.nodeType==u.DocType)return"<!DOCTYPE "+this._nodeValue+">";if(this.nodeType==u.Prolog)return"<?"+this._nodeValue+"?>";var a=new $;if(this.nodeType==u.Element){a.b+=r.string("<");a.b+=r.string(this._nodeName);for(var b=this._attributes.keys();b.hasNext();){var c=b.next();a.b+=r.string(" ");a.b+=r.string(c);a.b+=r.string('="');a.b+=r.string(this._attributes.get(c));a.b+=r.string('"')}if(0==this._children.length)return a.b+=r.string("/>"),a.b;a.b+=r.string(">")}for(b=this.iterator();b.hasNext();)c=b.next(),a.b+=r.string(c.toString());this.nodeType==u.Element&&(a.b+=r.string("</"),a.b+=r.string(this._nodeName),a.b+=r.string(">"));return a.b},addChild:function(a){if(null==this._children)throw"bad nodetype";null!=a._parent&&B.remove(a._parent._children,a);a._parent=this;this._children.push(a)},firstElement:function(){if(null==this._children)throw"bad nodetype";for(var a=0,b=this._children.length;a<b;){var c=this._children[a];if(c.nodeType==u.Element)return c;a++}return null},elementsNamed:function(a){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var b=this.cur,c=this.x.length;b<c;){var q=this.x[b];if(q.nodeType==u.Element&&q._nodeName==a)break;b++}this.cur=b;return b<c},next:function(){for(var b=this.cur,c=this.x.length;b<c;){var q=this.x[b];b++;if(q.nodeType==u.Element&&q._nodeName==a)return this.cur=b,q}return null}}},elements:function(){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){for(var a=this.cur,b=this.x.length;a<b&&!(this.x[a].nodeType==u.Element);)a+=1;this.cur=a;return a<b},next:function(){for(var a=this.cur,b=this.x.length;a<b;){var c=this.x[a],a=a+1;if(c.nodeType==u.Element)return this.cur=a,c}return null}}},iterator:function(){if(null==this._children)throw"bad nodetype";return{cur:0,x:this._children,hasNext:function(){return this.cur<this.x.length},next:function(){return this.x[this.cur++]}}},exists:function(a){if(this.nodeType!=u.Element)throw"bad nodeType";return this._attributes.exists(a)},set:function(a,b){if(this.nodeType!=u.Element)throw"bad nodeType";this._attributes.set(a,b)},get:function(a){if(this.nodeType!=u.Element)throw"bad nodeType";return this._attributes.get(a)},getParent:function(){return this._parent},setNodeValue:function(a){if(this.nodeType==u.Element||this.nodeType==u.Document)throw"bad nodeType";return this._nodeValue=a},getNodeValue:function(){if(this.nodeType==u.Element||this.nodeType==u.Document)throw"bad nodeType";return this._nodeValue},setNodeName:function(a){if(this.nodeType!=u.Element)throw"bad nodeType";return this._nodeName=a},getNodeName:function(){if(this.nodeType!=u.Element)throw"bad nodeType";return this._nodeName},__class__:u};N=function(){};da=void 0;e=void 0;o=void 0;t=void 0;i=void 0;k["com.nick.spongebob.cake_bake.DocumentApp"]=N;N.__name__=["com","nick","spongebob","cake_bake","DocumentApp"];N.main=function(){D.init();N._fillEntity=new K;N._fillSprite=new j.FillSprite(0,960,560);N._fillEntity.add(N._fillSprite);D.root.addChild(N._fillEntity);g.JSEmbedProxy.getIsCrossdomain()?g.WorkinCloud.instance.getAssets().setCrossdomainBaseUrl(N.appendAssetsToUrl(g.JSEmbedProxy.getBase())):g.WorkinCloud.instance.getAssets()._setBaseUrl(N.trimUrl(g.JSEmbedProxy.getBase()));g.WorkinCloud.instance.getDispatcher().addEventListener(J.ConstantsCloud.EVENT_FILES_LOADED,N._onBootstrapLoad);g.WorkinCloud.instance.getAssets().addPackDef("bootstrap");g.WorkinCloud.instance.getAssets().loadPack("bootstrap")};N._onBootstrapLoad=function(){g.WorkinCloud.instance.getDispatcher().removeEventListener(J.ConstantsCloud.EVENT_FILES_LOADED,N._onBootstrapLoad);N._initServices();U.delay(N._initMain,800)};N._initMain=function(){N._main=new da};N._initServices=function(){for(var a=g.WorkinCloud.instance.getAssets().getXML(e.ConstantsApp.CONFIG_XML_PATH).node.resolve("services").nodes.resolve("service").iterator();a.hasNext();){var b=a.next();switch(b.att.resolve("type").toString()){case "analytics":"true"==b.att.resolve("enabled").toString()&&(g.WorkinCloud.instance.log("[DocumentApp](_initServices) initAnalytics"),s.ServiceAnalytics.init(b.att.resolve("id").toString()))}}};N.trimUrl=function(a){if(""==a)return"";if(0>a.indexOf("http"))return"/"==a.charAt(0)&&(a=B.substr(a,1,a.length-1)),a;var b=a.indexOf("http://");0>b?(b=a.indexOf("https://"),b=0>b?0:b+8):b+=7;b=a.indexOf("/",b);a=B.substr(a,b,a.length-b);return a=N.appendAssetsToUrl(a)};N.appendAssetsToUrl=function(a){if(0==a.length)return a;"/"!=a.charAt(a.length-1)&&(a+="/");a.indexOf("/assets")<a.length-9&&(a+="assets/");return a};o=function(){};k["com.nick.spongebob.cake_bake.EulaManager"]=o;o.__name__=["com","nick","spongebob","cake_bake","EulaManager"];o.showEulaLinks=function(){o._flagConstructed||o._constructEula();o._eulaLink.hidden=!1;o._privacyLink.hidden=!1;o._invisLink.hidden=!0};o.hideEulaLinks=function(){o._eulaLink.hidden=!0;o._privacyLink.hidden=!0;o._invisLink.hidden=!1};o._openEula=function(){o._eulaLink.removeEventListener("click",o._onEventShowEulaFrame,!1);o._eulaLink.addEventListener("click",o._onEventHideEulaFrame,!1);o._fillerFrame.hidden=!1;o._eulaFrame.src=o._eulaURL;o._eulaFrame.addEventListener("load",o._onEventEulaFrameLoad,!1);o._eulaLink.innerHTML="EULA [X]";o._privacyLink.hidden=!0};o._closeEula=function(){o._eulaFrame.hidden=!0;o._fillerFrame.hidden=!0;o._eulaLink.removeEventListener("click",o._onEventHideEulaFrame,!1);o._eulaLink.addEventListener("click",o._onEventShowEulaFrame,!1);o._eulaFrame.removeEventListener("load",o._onEventEulaFrameLoad,!1);o._eulaLinkOpened=!0;o._eulaLink.innerHTML="EULA";o._privacyLink.hidden=!1};o._openPrivacyPolicy=function(){o._privacyLink.removeEventListener("click",o._onEventShowPrivacyPolicyFrame,!1);o._privacyLink.addEventListener("click",o._onEventHidePrivacyPolicyFrame,!1);o._fillerFrame.hidden=!1;o._privacyFrame.src=o._privacyURL;o._privacyFrame.addEventListener("load",o._onEventPrivacyPolicyFrameLoad,!1);o._privacyLink.innerHTML="PRIVACY POLICY [X]";o._eulaLink.hidden=!0};o._closePrivacyPolicy=function(){o._privacyFrame.hidden=!0;o._fillerFrame.hidden=!0;o._privacyLink.removeEventListener("click",o._onEventHidePrivacyPolicyFrame,!1);o._privacyLink.addEventListener("click",o._onEventShowPrivacyPolicyFrame,!1);o._privacyFrame.removeEventListener("load",o._onEventPrivacyPolicyFrameLoad,!1);o._privacyLinkOpened=!0;o._privacyLink.innerHTML="PRIVACY POLICY";o._eulaLink.hidden=!1};o._onEventShowEulaFrame=function(){o._openEula()};o._onEventHideEulaFrame=function(){o._closeEula()};o._onEventPrivacyPolicyFrameLoad=function(){o._privacyFrame.hidden=!1};o._onEventEulaFrameLoad=function(){o._eulaFrame.hidden=!1};o._onEventShowPrivacyPolicyFrame=function(){o._openPrivacyPolicy()};o._onEventHidePrivacyPolicyFrame=function(){o._closePrivacyPolicy()};o._constructEula=function(){if(!o._flagConstructed){var a=g.WorkinCloud.instance.getAssets().getXML(e.ConstantsApp.CONFIG_XML_PATH).node.resolve("eula");a.att.resolve("align");r.parseFloat(a.att.resolve("offsetx"));r.parseFloat(a.att.resolve("offsety"));a.att.resolve("eulaurl");o._eulaURL=a.att.resolve("eulaurl");o._privacyURL=a.att.resolve("privacyurl");o._flagConstructed=!0;o._invisLink=v.document.createElement("div");o._invisLink.style.width="100px";o._invisLink.style.height="40px";o._invisLink.style.right="-15px";o._invisLink.style.top="100px";o._invisLink.style.position="absolute";o._invisLink.style.zIndex=2;o._invisLink.style.color="#2A4CFF";o._invisLink.innerHTML="";v.document.getElementById("embedtarget").appendChild(o._invisLink);o._eulaLink=v.document.createElement("div");o._eulaLink.style.width="100px";o._eulaLink.style.height="40px";o._eulaLink.style.right="-15px";o._eulaLink.style.top="5px";o._eulaLink.style.position="absolute";o._eulaLink.style.zIndex=2;o._eulaLink.style.color="#2A4CFF";o._eulaLink.innerHTML="EULA";v.document.getElementById("embedtarget").appendChild(o._eulaLink);o._eulaLink.addEventListener("click",o._onEventShowEulaFrame,!1);o._privacyLink=v.document.createElement("div");o._privacyLink.style.width="150px";o._privacyLink.style.height="40px";o._privacyLink.style.right="15px";o._privacyLink.style.top="35px";o._privacyLink.style.position="absolute";o._privacyLink.style.zIndex=2;o._privacyLink.style.color="#2A4CFF";o._privacyLink.innerHTML="PRIVACY POLICY";a=v.document.getElementById("embedtarget");a.appendChild(o._privacyLink);o._privacyLink.addEventListener("click",o._onEventShowPrivacyPolicyFrame,!1);var b=g.WorkinCloud.instance.getAssets()._getBaseUrl();""==b&&(b="assets/");"200"==eval("\n\t\t\t\ttry{\n\t\t\t\t\tvar testURL = new XMLHttpRequest(true, true);\n\t\t\t\t\ttestURL.open('GET', '"+
o._eulaURL+"', false); \n\t\t\t\t\ttestURL.send();\t\t\n\t\t\t\t\ttestURL;\t\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\tcatch(NetworkError){\n\t\t\t\t\t//alert(NetworkError);\n\t\t\t\t\tfalse;\n\t\t\t\t}").status?null:o._eulaURL="";"200"==eval("\n\t\t\t\ttry{\n\t\t\t\t\tvar testURL = new XMLHttpRequest(true, true);\n\t\t\t\t\ttestURL.open('GET', '"+o._privacyURL+"', false); \n\t\t\t\t\ttestURL.send();\t\t\n\t\t\t\t\ttestURL;\t\t\t\t\t\t\t\n\t\t\t\t\t}\n\t\t\t\tcatch(NetworkError){\n\t\t\t\t\t//alert(NetworkError);\n\t\t\t\t\tfalse;\n\t\t\t\t}").status?null:o._privacyURL="";o._eulaFrame=v.document.createElement("iframe");o._privacyFrame=v.document.createElement("iframe");o._eulaFrame.src=o._eulaURL;o._fillerFrame=v.document.createElement("div");o._fillerFrame.style.cssText=" \n\t\t\t\twidth: 100%; \n\t\t\t\theight: 100%; \n\t\t\t\tleft: 0px; top: 0px;\n\t\t\t\tposition: absolute;\n\t\t\t\tbackground-color: #FFFFFF;\n\t\t\t";o._fillerFrame.hidden=!0;a.appendChild(o._fillerFrame);o._eulaFrame.style.cssText=" \n\t\t\t\twidth: 100%; \n\t\t\t\theight: 100%; \n\t\t\t\tleft: 0px; top: 0px;\n\t\t\t\tposition: absolute;\n\t\t\t\tbackground-color: #FFFFFF;\n\t\t\t";o._eulaFrame.hidden=!0;a.appendChild(o._eulaFrame);o._privacyFrame.src=o._privacyURL;o._privacyFrame.style.cssText=" \n\t\t\t\twidth: 100%; \n\t\t\t\theight: 100%; \n\t\t\t\tleft: 0px; top: 0px;\n\t\t\t\tposition: absolute;\n\t\t\t\tbackground-color: #FFFFFF;\n\t\t\t";o._privacyFrame.hidden=!0;a.appendChild(o._privacyFrame)}};da=function(){this._RATE_REFRESH_SCALE=0.4;this._flagGameplayPaused=this._flagInitialLoadComplete=this._flagJSEmbedPauseState=this._flagJSEmbedExists=!1;this._timerRefreshScale=0.0010;g.WorkinCloud.instance.log("[Main] Constructed");this._timeline=D.root;D.uncaughtError.connect(x(this,this.errorHandler));g.WorkinCloud.instance.getInput().prime();this._scaleSprite=new j.Sprite;this._timeline.add(this._scaleSprite);this._layerWorld=new K;this._layerUI=new K;this._timeline.addChild(this._layerWorld);this._timeline.addChild(this._layerUI);I.__instanceof(D._platform.getStage(),f.html.HtmlStage)&&(e.ConstantsApp.scaleFactor=I.__cast(D._platform.getStage(),f.html.HtmlStage).scaleFactor);this._flagJSEmbedExists=g.JSEmbedProxy.getExists();this._dt=0;this._flagWebAudioUnlocked=this._isUIActive=this._isWorldActive=!1;this._document={canvasScale:1};this._document=eval("document");this._changeActions=[];this._flowstack=[];this._beginEngine();this._addEventListeners()};k["com.nick.spongebob.cake_bake.Main"]=da;da.__name__=["com","nick","spongebob","cake_bake","Main"];da.prototype={_worldDestroy:function(){this._isWorldActive&&(this._isWorldActive=!1,this._world.dispose(),this._world=null)},_onEventInterfaceChange:function(a){this._executeInterfaceChange(a.flowId,a.screenId)},_handleWebAudioUnlock:function(){this._flagWebAudioUnlocked||(this._flagWebAudioUnlocked=!0,g.WorkinCloud.instance._getSound().playSound("audio/silent"))},_onEventInput:function(a){this._handleWebAudioUnlock();g.WorkinCloud.instance.getBool(e.ConstantsApp.BOOL_ORIENTATION_ALERT)||this._ui.handleInput(a)&&this._isWorldActive&&this._world.handleInput(a)},_hideOrientationAlert:function(){g.WorkinCloud.instance.getBool(e.ConstantsApp.BOOL_ORIENTATION_ALERT)&&(g.WorkinCloud.instance.log("[Main](_showOrientationAlert) Back to landscape."),g.WorkinCloud.instance.setBool(e.ConstantsApp.BOOL_ORIENTATION_ALERT,!1),g.JSEmbedProxy.unpause(),g.JSEmbedProxy.alertOff())},_showOrientationAlert:function(){g.WorkinCloud.instance.getBool(e.ConstantsApp.BOOL_ORIENTATION_ALERT)||(g.WorkinCloud.instance.log("[Main](_showOrientationAlert) Portrait mode!"),g.WorkinCloud.instance.setBool(e.ConstantsApp.BOOL_ORIENTATION_ALERT,!0),g.JSEmbedProxy.pause(),g.JSEmbedProxy.alertOn(g.WorkinCloud.instance._getLocalize().getData("orientation_landscape")._getString()))},_onFlowEvent:function(a){this._addFlowEvent(a.flowId)},_unpauseGameplay:function(a){null==a&&(a=!0);a&&(this._flagGameplayPaused=!1);g.WorkinCloud.instance.getDispatcher().dispatchEvent(new m.WMEvent(e.ConstantsApp.EVENT_UNPAUSE))},_pauseGameplay:function(a){null==a&&(a=!0);a&&(this._flagGameplayPaused=!0);g.WorkinCloud.instance.getDispatcher().dispatchEvent(new m.WMEvent(e.ConstantsApp.EVENT_PAUSE))},_onMuteToggle:function(){g.WorkinCloud.instance.setValue(e.ConstantsApp.BOOL_MUTED,!g.WorkinCloud.instance.getBool(e.ConstantsApp.BOOL_MUTED))},_enableInput:function(){g.WorkinCloud.instance.getDispatcher().addEventListener(m.WMEventInput.EVENT_INPUT,x(this,this._onEventInput))},_addEventListeners:function(){g.WorkinCloud.instance.getDispatcher().addEventListener(m.WMEventUpdate.EVENT_UPDATE,x(this,this._onEventUpdate));g.WorkinCloud.instance.getDispatcher().addEventListener(e.ConstantsApp.EVENT_MUTE_TOGGLE,x(this,this._onMuteToggle));g.WorkinCloud.instance.getDispatcher().addEventListener(m.WMEventFlow.EVENT_FLOW,x(this,this._onFlowEvent));this._ui.addEventListener(m.WMEventInterfaceChange.EVENT_INTERFACE_OUTPUT,x(this,this._onEventInterfaceChange))},_executeInterfaceChange:function(a,b){for(var c=this._changeActions.length;0<c;)c--,this._changeActions[c]._getScreenId()==b&&this._changeActions[c]._getChangeEvent()==a&&(this._changeActions[c]._getAction()(),this._changeActions.splice(c,1))},_executeFlowStack:function(a){if(!this._ui._getHasTransition())switch(g.WorkinCloud.instance.setBool(e.ConstantsApp.BOOL_INPUT_LOCK,!1),a){case e.ConstantsScreen.FLOW_SPLASH_PLAY:g.WorkinCloud.instance._getSound().playMusic("audio/Sound_BGM",0.5);this._gotoAndPlayInstructions();s.ServiceAnalytics.start();break;case e.ConstantsScreen.FLOW_HELP_PLAY:this._gotoAndPlayGame();break;case e.ConstantsScreen.FLOW_GAMEPLAY_MENU:g.WorkinCloud.instance.log("[Main] Main Menu Flow Click");this._pauseGameplay();this._ui.openScreen(e.ConstantsScreen.SCREEN_GAMEPLAY_MENU,!1);break;case e.ConstantsScreen.FLOW_GAMEPLAY_MENU_CLOSE:this._unpauseGameplay();this._ui.closeScreen(e.ConstantsScreen.SCREEN_GAMEPLAY_MENU);break;case e.ConstantsScreen.FLOW_END_GAME_PLAY_AGAIN:this._gotoEndGame(!1);break;case e.ConstantsScreen.FLOW_GAMEPLAY_MENU_QUIT:this._ui.openScreen(e.ConstantsScreen.SCREEN_QUIT_CONFIRM,!1);break;case e.ConstantsScreen.FLOW_GAMEPLAY_QUIT_NO:this._ui.closeScreen(e.ConstantsScreen.SCREEN_QUIT_CONFIRM);break;case e.ConstantsScreen.FLOW_GAMEPLAY_MENU_HELP:this._ui.openScreen(e.ConstantsScreen.SCREEN_GAMEPLAY_MENU_HELP,!1);s.ServiceAnalytics.sendMilestone("custom3");break;case e.ConstantsScreen.FLOW_GAMEPLAY_MENU_HELP_CLOSE:this._ui.closeScreen(e.ConstantsScreen.SCREEN_GAMEPLAY_MENU_HELP)}},_runFlowStack:function(){if(0!=this._flowstack.length)for(;0<this._flowstack.length;)this._executeFlowStack(this._flowstack[0]),this._flowstack.shift()},_addFlowEvent:function(a){this._flowstack.push(a)},_onEventUpdate:function(a){g.WorkinCloud.instance._getSound().update(a.getDt());this._dt=a.getDt();0.12<this._dt&&(this._dt=0.12);if(this._flagJSEmbedExists&&(g.JSEmbedProxy.getIsPaused()!=this._flagJSEmbedPauseState&&((this._flagJSEmbedPauseState=g.JSEmbedProxy.getIsPaused())?this._pauseGameplay(!1):this._flagGameplayPaused||this._unpauseGameplay()),this._timerRefreshScale-=this._dt,0>=this._timerRefreshScale)){this._timerRefreshScale=this._RATE_REFRESH_SCALE;if(this._flagInitialLoadComplete&&g.WorkinCloud.instance.getBool(e.ConstantsApp.BOOL_TOUCH_DEVICE)){if(g.JSEmbedProxy.getCanvasHeight()>g.JSEmbedProxy.getCanvasWidth()){this._showOrientationAlert();return}if(g.WorkinCloud.instance.getValue(e.ConstantsApp.BOOL_ORIENTATION_ALERT)){this._hideOrientationAlert();return}}if(this._flagJSEmbedExists){var b=g.JSEmbedProxy.getCanvasScale()*e.ConstantsApp.scaleFactor;b!=this._scaleSprite.scaleX._value&&(this._scaleSprite.scaleX.set__(this._scaleSprite.scaleY.set__(b)),g.WorkinCloud.instance.getInput()._setScale(b))}}h.tween.WorkinTweener._getInstance().update(a.getDt());this._isUIActive&&this._ui.update(a.getDt());this._isWorldActive&&(this._world.update(a.getDt()),this._world.render());g.WorkinCloud.instance.getBool(e.ConstantsApp.BOOL_GAME_LOSE)?this._onFlowEvent(new m.WMEventFlow(e.ConstantsScreen.FLOW_BRANCH_GAME_LOSE)):g.WorkinCloud.instance.getBool(e.ConstantsApp.BOOL_GAME_WIN)?this._onFlowEvent(new m.WMEventFlow(e.ConstantsScreen.FLOW_BRANCH_GAME_WIN)):g.WorkinCloud.instance.getBool(e.ConstantsApp.BOOL_LEVEL_LOSE)?this._onFlowEvent(new m.WMEventFlow(e.ConstantsScreen.FLOW_BRANCH_LEVEL_LOSE)):g.WorkinCloud.instance.getBool(e.ConstantsApp.BOOL_LEVEL_WIN)&&this._onFlowEvent(new m.WMEventFlow(e.ConstantsScreen.FLOW_BRANCH_LEVEL_WIN));this._runFlowStack()},_generateWorld:function(){this._isWorldActive=!0;this._world=new t.World(this._layerWorld)},_resetFlagsResults:function(){},_onGameNew:function(){this._resetFlagsResults()},_gotoEndGame:function(a,b){null==b&&(b=!1);this._worldDestroy();this._flagWonPreviousGame=a;b?(this._ui.changeScreenTo(e.ConstantsScreen.SCREEN_GAMEPLAY_HUD),this._onGameNew()):this._ui.changeScreenTo(e.ConstantsScreen.SCREEN_END_GAME);s.ServiceAnalytics.sendMilestone("custom7")},_onEventDeactivateHandler:function(){g.WorkinCloud.instance._getSound().setSystemMute(!0);this._flagInitialLoadComplete&&(this._flagGameplayPaused||this._pauseGameplay(),this._ui.isScreenOpen(e.ConstantsScreen.SCREEN_GAMEPLAY_HUD)&&!this._ui.isScreenOpen(e.ConstantsScreen.SCREEN_GAMEPLAY_MENU)&&(this._ui.openScreen(e.ConstantsScreen.SCREEN_GAMEPLAY_MENU,!1),null))},_onEventActivateHandler:function(){},_gotoSplash:function(){eval("window").addEventListener("blur",x(this,this._onEventDeactivateHandler),!1);eval("window").addEventListener("focus",x(this,this._onEventActivateHandler),!1);this._enableInput();this._ui.changeScreenTo(e.ConstantsScreen.SCREEN_SPLASH,!1,e.ConstantsScreen.TRANSITION_SCROLL_DOWN);s.ServiceAnalytics.sendMilestone("custom2")},_gotoAndPlayInstructions:function(){this._ui.changeScreenTo(e.ConstantsScreen.SCREEN_HELP);s.ServiceAnalytics.sendMilestone("custom3")},_gotoAndPlayGame:function(){if(J.ConstantsCloud.getIsAndroid()){if(!this._loadChunks(["gameplay_android"],x(this,this._eventLoadCompleteGameplay)))return}else if(!this._loadChunks(["gameplay"],x(this,this._eventLoadCompleteGameplay)))return;this._onGameNew();this._setDefaults();this._generateWorld();this._ui.changeScreenTo(e.ConstantsScreen.SCREEN_GAMEPLAY_HUD,!1);s.ServiceAnalytics.sendMilestone("custom6")},_generateUI:function(){this._isUIActive=!0;this._ui.addScreen(e.ConstantsScreen.SCREEN_LOADING,i.screens.ScreenLoading,"ui/loading_panel");this._ui.addScreen(e.ConstantsScreen.SCREEN_CUTSCENE_BORDERS,i.screens.ScreenGeneric,"ui/cutscene/cutscene_border");this._ui.addScreen(e.ConstantsScreen.SCREEN_SPLASH,i.screens.ScreenSplash,"ui/splash/Splash_Screen");this._ui.addScreen(e.ConstantsScreen.SCREEN_GAMEPLAY_MENU,i.screens.ScreenGameplayMenu,"AssetScreenGameplayHud");this._ui.addScreen(e.ConstantsScreen.SCREEN_GAMEPLAY_HUD,i.screens.ScreenGameplayHUD);this._ui.addScreen(e.ConstantsScreen.SCREEN_HELP,i.screens.ScreenGameplayInstructions);this._ui.addScreen(e.ConstantsScreen.SCREEN_END_GAME,i.screens.ScreenGameOver);this._ui.addScreen(e.ConstantsScreen.SCREEN_QUIT_CONFIRM,i.screens.ScreenQuitConfirm);this._ui.addScreen(e.ConstantsScreen.SCREEN_GAMEPLAY_MENU_HELP,i.screens.ScreenMenuHelp)},_registerInput:function(){g.WorkinCloud.instance.getInput().registerInput(e.ConstantsApp.INPUT_SPACE,[d.Key.Space]);g.WorkinCloud.instance.getInput().registerInput(e.ConstantsApp.INPUT_LEFT,[d.Key.Left,d.Key.A]);g.WorkinCloud.instance.getInput().registerInput(e.ConstantsApp.INPUT_RIGHT,[d.Key.Right,d.Key.D]);g.WorkinCloud.instance.getInput().registerInput(e.ConstantsApp.INPUT_UP,[d.Key.Up,d.Key.W]);g.WorkinCloud.instance.getInput().registerInput(e.ConstantsApp.INPUT_DOWN,[d.Key.Down,d.Key.S]);g.WorkinCloud.instance.getInput().registerInput(e.ConstantsApp.INPUT_Z,[d.Key.Z]);g.WorkinCloud.instance.getInput().registerInput(e.ConstantsApp.INPUT_X,[d.Key.X]);g.WorkinCloud.instance.getInput().registerInput(e.ConstantsApp.INPUT_C,[d.Key.C]);g.WorkinCloud.instance.getInput().registerInput(e.ConstantsApp.INPUT_P,[d.Key.P])},_setDefaults:function(){g.WorkinCloud.instance.setBool(e.ConstantsApp.BOOL_PAUSED,!1);g.WorkinCloud.instance.setBool(e.ConstantsApp.BOOL_MUTED,e.ConstantsApp.DEBUG_SILENCE_AUDIO);g.WorkinCloud.instance.setBool(e.ConstantsApp.BOOL_GAMEOVER,!1);g.WorkinCloud.instance.setBool(e.ConstantsApp.BOOL_GAME_WIN,!1);g.WorkinCloud.instance.setBool(e.ConstantsApp.BOOL_GAME_LOSE,!1);g.WorkinCloud.instance.setBool(e.ConstantsApp.BOOL_LEVEL_WIN,!1);g.WorkinCloud.instance.setBool(e.ConstantsApp.BOOL_LEVEL_LOSE,!1);g.WorkinCloud.instance.setBool(e.ConstantsApp.BOOL_INPUT_LOCK,!1);g.WorkinCloud.instance.setBool(e.ConstantsApp.BOOL_ORIENTATION_ALERT,!1);g.WorkinCloud.instance.setBool(e.ConstantsApp.BOOL_TOUCH_DEVICE,D._platform.getTouch().get_supported());g.WorkinCloud.instance.setFloat(e.ConstantsApp.FLOAT_SCORE,0);g.WorkinCloud.instance.setInt(e.ConstantsApp.INT_HEALTH,3);g.WorkinCloud.instance.setInt(e.ConstantsApp.INT_LIVES,3);g.WorkinCloud.instance.setInt(e.ConstantsApp.INT_SCORE,0)},_beginEngine:function(){g.WorkinCloud.instance.log("[Main](_beginEngine)");this._ui=new i.ScreenManager(this._layerUI);this._timeline.add(new aa.ComponentUpdater);this._parseConfigXML();this._registerInput();this._generateUI();this._setDefaults();this._beginInitialLoad()},_eventLoadCompleteInitial:function(){g.WorkinCloud.instance.getDispatcher().removeEventListener(J.ConstantsCloud.EVENT_FILES_LOADED,this._loadCallbackMethod);this._flagInitialLoadComplete=!0;U.delay(x(this,this._gotoSplash),800)},_eventLoadCompleteGameplay:function(){g.WorkinCloud.instance.getDispatcher().removeEventListener(J.ConstantsCloud.EVENT_FILES_LOADED,this._loadCallbackMethod);U.delay(x(this,this._gotoAndPlayGame),800)},_loadChunksDelayCallback:function(){this._loadChunks(this._loadChunksCurrent,this._loadCallbackMethod,0)},_loadChunks:function(a,b,c){null==c&&(c=0);for(var q=0,d=!0;q<a.length;)g.WorkinCloud.instance.getAssets().isChunkLoaded(a[q])||(d=!1),q++;if(d)return!0;this._loadChunksCurrent=a;this._loadCallbackMethod=b;if(0<c)return U.delay(x(this,this._loadChunksDelayCallback),c),this._ui.changeScreenTo(e.ConstantsScreen.SCREEN_LOADING,!1,e.ConstantsScreen.TRANSITION_SCROLL_UP),!1;g.WorkinCloud.instance.getDispatcher().addEventListener(J.ConstantsCloud.EVENT_FILES_LOADED,this._loadCallbackMethod);for(q=0;q<a.length;)g.WorkinCloud.instance.getAssets().isChunkLoaded(a[q])||g.WorkinCloud.instance.getAssets().loadChunk(a[q]),q++;this._ui.changeScreenTo(e.ConstantsScreen.SCREEN_LOADING,!1,e.ConstantsScreen.TRANSITION_SCROLL_UP);return!1},_beginInitialLoad:function(){this._loadChunks(["initial"],x(this,this._eventLoadCompleteInitial),800)},_parseConfigXML:function(){g.WorkinCloud.instance.log("[Main](_parseConfigXML) Parse Config XML: "+e.ConstantsApp.CONFIG_XML_PATH);for(var a=g.WorkinCloud.instance.getAssets().getXML(e.ConstantsApp.CONFIG_XML_PATH),b=a.node.resolve("packs").nodes.resolve("pack").iterator();b.hasNext();){for(var c=b.next(),q=[],d=c.nodes.resolve("flump").iterator();d.hasNext();){var f=d.next();q.push(f.att.resolve("id").toString())}d=[];for(f=c.nodes.resolve("tiles").iterator();f.hasNext();){var h=f.next();d.push(h.att.resolve("id").toString())}g.WorkinCloud.instance.getAssets().addPackDef(c.att.resolve("id").toString(),q,d)}for(a=a.node.resolve("chunks").nodes.resolve("chunk").iterator();a.hasNext();)b=a.next(),g.WorkinCloud.instance.getAssets().addChunk(b.att.resolve("id").toString(),b)},errorHandler:function(a){g.WorkinCloud.instance.log("Error:"+a)},__class__:da};e={ConstantsApp:function(){}};k["com.nick.spongebob.cake_bake.data.ConstantsApp"]=e.ConstantsApp;e.ConstantsApp.__name__="com,nick,spongebob,cake_bake,data,ConstantsApp".split(",");e.ConstantsScreen=function(){};k["com.nick.spongebob.cake_bake.data.ConstantsScreen"]=e.ConstantsScreen;e.ConstantsScreen.__name__="com,nick,spongebob,cake_bake,data,ConstantsScreen".split(",");m={};g=void 0;J=void 0;s=void 0;h=void 0;aa=void 0;p=void 0;R=void 0;m.WMEventDispatcher=function(){this._signals=new H};k["com.workinman.events.WMEventDispatcher"]=m.WMEventDispatcher;m.WMEventDispatcher.__name__=["com","workinman","events","WMEventDispatcher"];m.WMEventDispatcher.prototype={dispose:function(){for(var a=this._signals.iterator();a.hasNext();)a.next().dispose();this._signals=null},dispatchEvent:function(a){this._signals.exists(a.getEventId())&&this._signals.get(a.getEventId()).dispatchEvent(a)},removeEventListener:function(a,b){this._signals.exists(a)&&(this._signals.get(a).removeEventListener(b),this._signals.get(a).isEmtpy()&&(this._signals.get(a).dispose(),this._signals.remove(a)))},addEventListener:function(a,b){this._signals.exists(a)||this._signals.set(a,new m._WMEventDispatcher.WMEventTracker);this._signals.get(a).addEventListener(b)},__class__:m.WMEventDispatcher};i={ScreenManager:function(a){m.WMEventDispatcher.call(this);this._container=a;this._layerScreen=new K;this._layerTransition=new K;this._container.addChild(this._layerScreen);this._container.addChild(this._layerTransition);this._isPaused=!1;this._screens=[];this._screensOpen=[];this._screensQueue=[];this._transitionType=-1;this._flagCloseAllScreensWhenBottomCloses=this._flagHasScreenshot=this._flagOpenScreenAfterTransition=this._flagCloseScreenAfterTransition=this._flagHasTransition=!1;this._camera=new h.WorkinCamera(e.ConstantsApp.STAGE_CENTER_X,e.ConstantsApp.STAGE_CENTER_Y)}};k["com.nick.spongebob.cake_bake.ui.ScreenManager"]=i.ScreenManager;i.ScreenManager.__name__="com,nick,spongebob,cake_bake,ui,ScreenManager".split(",");i.ScreenManager.__super__=m.WMEventDispatcher;i.ScreenManager.prototype=y(m.WMEventDispatcher.prototype,{_transitionPlay:function(){this._transition.show();this._transition.start()},_removeTransition:function(){this._flagHasTransition&&(this._layerTransition.removeChild(this._transition._getEntity()),this._transition._getDispatcher().removeEventListener(m.WMEventScreenOut.EVENT_SCREEN_OUTPUT,x(this,this._onEventTransitionOutput)),this._transition.dispose(),this._transition=null,this._flagHasTransition=!1)},_addTransition:function(a,b){null==b&&(b=!0);if(this._flagHasTransition){if(!b)return;this._removeTransition()}this._transition=new i.transitions.TransitionBase(a);this._transition.hide();this._transition._getDispatcher().addEventListener(m.WMEventScreenOut.EVENT_SCREEN_OUTPUT,x(this,this._onEventTransitionOutput));this._layerTransition.addChild(this._transition._getEntity());this._flagHasTransition=!0},_updateTransition:function(a){switch(this._transitionType){case e.ConstantsScreen.TRANSITION_SCROLL:this._transitionScreenHeadedOut._getRenderable().x-=2E3*a;this._transitionScreenHeadedIn._getRenderable().x-=2E3*a;0>=this._transitionScreenHeadedIn._getRenderable().x&&(this._transitionScreenHeadedIn._getRenderable().x=0,this._flagHasTransition=!1,this._onQueueConditionMet(e.ConstantsScreen.CONDITION_TRANSITION_COMPLETE));break;case e.ConstantsScreen.TRANSITION_FADE:this._transition.update(a),this._transition.flagDispose&&this._removeTransition()}},_removeScreenDisplay:function(a){this._layerScreen.removeChild(a)},_addScreenDisplay:function(a){this._layerScreen.addChild(a)},_dispatchEventChange:function(a,b){this.dispatchEvent(new m.WMEventInterfaceChange(a,b))},_onQueueConditionMet:function(a,b){null==b&&(b="");for(var c=0;c<this._screensQueue.length;)this._screensQueue[c].validateCondition(a,b)&&(this._generateScreen(this._screensQueue[c].screenData),this._screensQueue.splice(c,1)),c++},dispose:function(){for(var a=0;a<this._screensOpen.length;)this._disposeScreen(this._screensOpen[a].id),a++;this._screens=this._screensQueue=null;this._removeTransition();this._container.removeChild(this._layerScreen);this._container.removeChild(this._layerTransition);this._layerTransition=this._layerScreen=null;m.WMEventDispatcher.prototype.dispose.call(this)},_getScreenData:function(a){for(var b=this._screens.length-1;0<=b;){if(this._screens[b].id==a)return this._screens[b];b--}g.WorkinCloud.instance.log("[ScreenManager](_getScreenData) ERROR: Screen >"+a+"< idoes not exist. getScreenData() returning NULL.");return null},_hasScreenData:function(a){for(var b=this._screens.length-1;0<=b;){if(this._screens[b].id==a)return!0;b--}return!1},_removeScreenshot:function(){this._flagHasScreenshot&&(this._layerScreen.removeChild(this._screenshot._getEntity()),this._screenshot.dispose(),this._screenshot=null,this._flagHasScreenshot=!1)},_addScreenshot:function(){g.WorkinCloud.instance.log("[ScreenManager](_addScreenshot) ERROR: Screenshots not supported in HTML5 yet.")},_onEventTransitionOutput:function(a){a.flowId==e.ConstantsScreen.OUTPUT_OPENED?(g.WorkinCloud.instance.log("[ScreenManager] Transition Midway..."),this._flagCloseScreenAfterTransition&&(this.closeScreen(this._screenIdToCloseAfterTransition,!1),this._flagCloseScreenAfterTransition=!1),this._flagOpenScreenAfterTransition&&(this.openScreen(this._screenIdToOpenDuringTransition,!1),this._flagOpenScreenAfterTransition=!1),this._removeScreenshot(),this._onQueueConditionMet(e.ConstantsScreen.CONDITION_TRANSITION_MIDWAY)):a.flowId==e.ConstantsScreen.OUTPUT_CLOSED&&(g.WorkinCloud.instance.log("[ScreenManager] Transition Complete."),this._removeScreenshot(),this._onQueueConditionMet(e.ConstantsScreen.CONDITION_TRANSITION_COMPLETE))},_onEventScreenOutput:function(a){a.flowId==e.ConstantsScreen.OUTPUT_OPENED?this._dispatchEventChange(e.ConstantsScreen.CHANGE_OPEN_COMPLETE,a.screenId):a.flowId==e.ConstantsScreen.OUTPUT_CLOSED&&(this._dispatchEventChange(e.ConstantsScreen.CHANGE_CLOSE_COMPLETE,a.screenId),this._onQueueConditionMet(e.ConstantsScreen.CONDITION_CLOSED_SPECIFIC,a.screenId),this._flagHasTransition&&this._transitionType==e.ConstantsScreen.TRANSITION_STAGED&&this._transitionPlay())},_disposeScreen:function(a){for(var b=0;b<this._screensOpen.length;){if(this._screensOpen[b].id==a){this._screensOpen[b]._getDispatcher().removeEventListener(m.WMEventScreenOut.EVENT_SCREEN_OUTPUT,x(this,this._onEventScreenOutput));this._removeScreenDisplay(this._screensOpen[b]._getEntity());this._screensOpen[b].dispose();this._screensOpen.splice(b,1);break}b++}},_generateScreen:function(a){if(this.isScreenOpen(a.id))this.getScreen(a.id).reset(),this._dispatchEventChange(e.ConstantsScreen.CHANGE_OPEN_BEGIN,a.id);else{var b=O.createInstance(a.screenClass,[a.id,a.assetClassName,a.data]);g.WorkinCloud.instance.log("[ScreenManager](_generateScreen) success");b.renderPosition(this._camera);if(null==b)g.WorkinCloud.instance.log("[ScreenManager](_generateScreen) ERROR: Screen Class for >"+a.id+"< not found.");else{this._screensOpen.push(b);this._addScreenDisplay(b._getEntity());if(this._flagHasTransition)switch(this._transitionScreenHeadedIn=b,this._transitionType){case e.ConstantsScreen.TRANSITION_SCROLL:b._getRenderable().x=e.ConstantsApp.STAGE_WIDTH}b._getDispatcher().addEventListener(m.WMEventScreenOut.EVENT_SCREEN_OUTPUT,x(this,this._onEventScreenOutput));b.open(!0);this._dispatchEventChange(e.ConstantsScreen.CHANGE_OPEN_BEGIN,a.id)}}},_addScreenToQueue:function(a,b,c){null==c&&(c="");this.hasQueuedScreen(a.id)||this._screensQueue.push(new i.screens.data.ScreenQueueData(a,b,c))},removeAllQueuedScreens:function(){for(var a=this._screensQueue.length-1;0<=a;)this._screensQueue.splice(a,1),a--},removeQueuedScreen:function(a){for(var b=this._screensQueue.length-1;0<=b;){if(this._screensQueue[b].screenData.id==a){this._screensQueue.splice(b,1);break}b--}},hasQueuedScreen:function(a){for(var b=this._screensQueue.length-1;0<=b;){if(this._screensQueue[b].screenData.id==a)return!0;b--}return!1},isScreenOpen:function(a){for(var b=this._screensOpen.length-1;0<=b;){if(this._screensOpen[b].id==a)return!0;b--}return!1},getScreen:function(a){null==a&&(a="");if(0==this._screensOpen.length)return g.WorkinCloud.instance.log("[ScreenManager](getScreen) ERROR: no screens are open. Unable to getScreen()"),null;if(""==a)return this._screensOpen[this._screensOpen.length-1];for(var b=this._screensOpen.length-1;0<=b;){if(this._screensOpen[b].id==a)return this._screensOpen[b];b--}g.WorkinCloud.instance.log("[ScreenManager](getScreen) ERROR: Screen >"+a+"< is not open or does not exist. getScreen() returning NULL.");return null},update:function(a){if(!this._isPaused){0.15<a&&(a=0.15);this._flagHasTransition&&this._updateTransition(a);for(this._loop=this._screensOpen.length-1;0<=this._loop;)this._screensOpen[this._loop].update(a),this._screensOpen[this._loop].renderPosition(this._camera),this._screensOpen[this._loop].flagDispose&&(this._disposeScreen(this._screensOpen[this._loop].id),0==this._screensOpen.length&&this._onQueueConditionMet(e.ConstantsScreen.CONDITION_CLOSED_ALL)),this._loop--}},_getHasTransition:function(){return this._flagHasTransition},changeScreenTo:function(a,b,c,q){null==q&&(q="");null==c&&(c=-1);null==b&&(b=!1);g.WorkinCloud.instance.log("[ScreenManager](changeTo) "+a);this.removeAllQueuedScreens();if(this.isScreenOpen(a)){g.WorkinCloud.instance.log("[ScreenManager](changeTo) Screen is already open.");for(b=this._screensOpen.length-1;0<=b;)this._screensOpen[b].id!=a&&this.closeScreen(this._screensOpen[b].id,!1,b),b--;this._dispatchEventChange(e.ConstantsScreen.CHANGE_OPEN_BEGIN,a);this._dispatchEventChange(e.ConstantsScreen.CHANGE_OPEN_COMPLETE,a)}else if(this._flagOpenScreenAfterTransition=this._flagCloseScreenAfterTransition=!1,0<this._screensOpen.length){g.WorkinCloud.instance.log("[ScreenManager](changeFrom) "+this._screensOpen[0].id);var d=e.ConstantsScreen.CONDITION_CLOSED_ALL;if(-1<c)switch(this._transitionType=c,this._transitionType){case e.ConstantsScreen.TRANSITION_SCREENSHOT:this._flagOpenScreenAfterTransition=!0;b=!1;this._addScreenshot();this._transitionPlay();break;case e.ConstantsScreen.TRANSITION_SCROLL:this._flagHasTransition=!0;this._flagOpenScreenAfterTransition=!1;this._flagCloseScreenAfterTransition=!0;b=!1;this._transitionScreenHeadedOut=this._screensOpen[0];d=e.ConstantsScreen.CONDITION_IMMEDIATE;break;case e.ConstantsScreen.TRANSITION_FADE:this._addTransition(q,this._flagHasTransition?this._transition._getIsOutro()?!0:!1:!1),this._flagCloseScreenAfterTransition=!0,b=!1,this._transitionPlay(),d=e.ConstantsScreen.CONDITION_TRANSITION_MIDWAY}if(0<this._screensOpen.length&&(this._flagCloseScreenAfterTransition?this._screenIdToCloseAfterTransition=this._screensOpen[0].id:this.closeScreen(this._screensOpen[0].id,b,0),1<this._screensOpen.length))for(b=1;b<this._screensOpen.length;)this.closeScreen(this._screensOpen[b].id,!1,this._screensOpen.length),b++;this._flagOpenScreenAfterTransition?(g.WorkinCloud.instance.log("[ScreenManager] Store Screen to open at transition midway: "+
a),this._screenIdToOpenDuringTransition=a):this.openScreen(a,!0,d)}else this.openScreen(a,!1)},_moveScreenToTop:function(a){var b=this.getScreen(a);if(null==b)g.WorkinCloud.instance.log("[ScreenManager](_moveScreenToTop) ERROR: Screen >"+a+"< is not open or does not exist. Cancelling move.");else{b.isClosing()&&b.open(!1);for(var c=this._screensOpen.length-1;0<=c&&!(this._screensOpen[c].id==a);)c--;this._screensOpen.splice(c,1);b.reset();this._removeScreenDisplay(b._getEntity());this._addScreenDisplay(b._getEntity());this._screensOpen.push(b)}},openScreen:function(a,b,c,q){null==q&&(q="");null==c&&(c=0);null==b&&(b=!0);g.WorkinCloud.instance.log("[ScreenManager](openScreen) "+a);if(this._hasScreenData(a))if(this.isScreenOpen(a))this._moveScreenToTop(a);else{if(c!=e.ConstantsScreen.CONDITION_IMMEDIATE&&b){if(0<this._screensOpen.length){this._addScreenToQueue(this._getScreenData(a),c,q);return}if((c==e.ConstantsScreen.CONDITION_TRANSITION_COMPLETE||c==e.ConstantsScreen.CONDITION_TRANSITION_MIDWAY)&&this._flagHasTransition){this._addScreenToQueue(this._getScreenData(a),c,q);return}}this._generateScreen(this._getScreenData(a))}else g.WorkinCloud.instance.log("[ScreenManager](closeScreen) ERROR: Screen >"+a+"< does not exist. Cancelling open().")},closeScreen:function(a,b,c){null==c&&(c=-1);null==b&&(b=!0);null==a&&(a="");if(0==this._screensOpen.length)this.removeQueuedScreen(a);else{if(""==a)c=this._screensOpen[this._screensOpen.length-1];else if(0<=c&&c<this._screensOpen.length)c=this._screensOpen[c];else if(c=this.getScreen(a),null==c){this.removeQueuedScreen(a);return}c.close(b);this._dispatchEventChange(e.ConstantsScreen.CHANGE_CLOSE_BEGIN,a)}},handleInput:function(a){for(var b=!0,c=this._screensOpen.length-1;0<=c;)this._screensOpen[c].handleInput(a)||(b=!1),c--;return b},addScreen:function(a,b,c,q,d){null==q&&(q=0);null==c&&(c="");this._screens.push(new i.screens.data.ScreenData(a,b,c,q,d))},__class__:i.ScreenManager});p={};p.Element=function(a){this._whatAmI="";this._entity=new K;this._display=new j.Sprite;this._entity.add(this._display);this._textureEntity=new K;this._entity.addChild(this._textureEntity);this._texture=new j.Sprite;this._textureEntity.add(this._texture);this._dispatcher=new m.WMEventDispatcher;this._pos=new h.WorkinPoint;this._velocity=new h.WorkinPoint;this._renderOffset=new h.WorkinPoint;this._renderOrigin=new h.WorkinPoint;this._render=new p.Renderable;this._layer=this._assetId="";this._doDelete=!1;a.asset&&(this._assetId=a.asset,this.setTexture(this._assetId));a.layer&&(this._layer=a.layer);a.x&&(this._pos.x=a.x);a.y&&(this._pos.y=a.y);a.rot&&(this._render.rotation=a.rot);a.origin&&this.setOrigin(a.origin);a.scaleFactor&&this.setRenderScale(a.scaleFactor);a.asset&&(this._whatAmI=a.asset);a.itemName&&(this._whatAmI=a.itemName);this._addEventListeners()};k["com.workinman.display.Element"]=p.Element;p.Element.__name__=["com","workinman","display","Element"];p.Element.prototype={_removeEventListeners:function(){},_addEventListeners:function(){},setOrigin:function(a){this._renderOrigin.toPoint(a);this._texture.x.set__(-(this._renderOrigin.x*this._render.width));this._texture.y.set__(-(this._renderOrigin.y*this._render.height))},setRenderScale:function(a){this._render.scaleX=a;this._render.scaleY=a},applyRenderable:function(){this._display.x.set__(this._render.x);this._display.y.set__(this._render.y);this._display.scaleX.set__(this._render.scaleX);this._display.scaleY.set__(this._render.scaleY);this._display.rotation.set__(this._render.rotation);this._display.alpha.set__(this._render.alpha);this._display.set_visible(this._render.visible)},renderPosition:function(a){this._render.x=this._pos.x-a._getPos().x+a._getScreenCenterX()+this._renderOffset.x;this._render.y=this._pos.y-a._getPos().y+a._getScreenCenterY()+this._renderOffset.y;this.applyRenderable()},updatePositionFromVelocity:function(a){this._pos.x+=this._velocity.x*a;this._pos.y+=this._velocity.y*a},update:function(a){this.updatePositionFromVelocity(a)},setTexture:function(a){!1==g.WorkinCloud.instance.getAssets().hasAsset(a)?g.WorkinCloud.instance.log("[Element](setTexture) No asset named "+
a+" exists!"):(this._textureEntity.remove(this._texture),this._texture.dispose(),this._texture=new j.ImageSprite(g.WorkinCloud.instance.getAssets().getTexture(a)),this._render.width=this._texture.getNaturalWidth(),this._render.height=this._texture.getNaturalHeight(),this._texture.x.set__(-(this._renderOrigin.x*this._render.width)),this._texture.y.set__(-(this._renderOrigin.y*this._render.height)),this._textureEntity.add(this._texture))},_setLayer:function(a){return this._layer=a},_getLayer:function(){return this._layer},_getDispatcher:function(){return this._dispatcher},_getEntity:function(){return this._entity},_getRenderable:function(){return this._render},_setDoDelete:function(a){return this._doDelete=a},_getDoDelete:function(){return this._doDelete},_setPos:function(a){this._pos.toPoint(a);return this._pos},_getPos:function(){return this._pos},dispose:function(){this._removeEventListeners();this._dispatcher.dispose();this._dispatcher=null;this._entity.dispose();this._renderOrigin=this._renderOffset=this._render=this._textureEntity=this._display=this._texture=this._velocity=this._pos=this._entity=null},__class__:p.Element};i.buttons={};i.buttons.ButtonBase=function(a,b,c,q,d,e,f,g){null==g&&(g=1);null==f&&(f="");null==e&&(e="");null==d&&(d="");null==q&&(q="");this._DEBUG_SHOW_HITBOX=!1;null==c&&(c=new h.WorkinPoint);p.Element.call(this,{x:a,y:b,asset:this._assetUp,origin:c});this._assetUp=""==q?this._getDefaultAssetUp():q;this._assetOver=""==d?this._getDefaultAssetOver():d;this._assetDown=""==e?this._getDefaultAssetDown():e;this._assetDisabled=""==f?this._getDefaultAssetDisabled():f;this._flagDragged=this._flagClickTransition=this._flagDown=!1;this._scaleBtnFactor=g;this.enable();this._buildHitBox()};k["com.nick.spongebob.cake_bake.ui.buttons.ButtonBase"]=i.buttons.ButtonBase;i.buttons.ButtonBase.__name__="com,nick,spongebob,cake_bake,ui,buttons,ButtonBase".split(",");i.buttons.ButtonBase.__super__=p.Element;i.buttons.ButtonBase.prototype=y(p.Element.prototype,{_renderDisabled:function(){""!=this._assetDisabled&&this.setTexture(this._assetDisabled)},_renderReturnUp:function(){this._flagClickTransition||(h.tween.WorkinTweener._getInstance().tween(this._render,0.15,{scaleX:1/this._scaleBtnFactor,scaleY:1/this._scaleBtnFactor}).ease(h.tween.PennerManager.EASE_QUAD_OUT),this._renderUp())},_renderDown:function(){this._flagClickTransition||(h.tween.WorkinTweener._getInstance().tween(this._render,0.15,{scaleX:1.04/this._scaleBtnFactor,scaleY:1.04/this._scaleBtnFactor}).ease(h.tween.PennerManager.EASE_QUAD_OUT),""!=this._assetDown&&this.setTexture(this._assetDown))},_renderUp:function(){""!=this._assetUp&&this.setTexture(this._assetUp)},update:function(a){p.Element.prototype.update.call(this,a);this._flagDown&&!1==g.WorkinCloud.instance.getInput().getInput(e.ConstantsApp.INPUT_CLICK)&&(this._upConnection.dispose(),this._renderReturnUp())},_onCancelDrag:function(){this._flagDragged=!1;this._dispatch(i.buttons.ButtonBase.CANCEL_DRAG)},_onUp:function(){this._flagDown&&(this._upConnection.dispose(),this._upConnection=null,this._flagDown=!1,this._renderReturnUp(),this._click(),this._flagDragged&&this._onCancelDrag(),this._dispatch(i.buttons.ButtonBase.UP))},_onDown:function(){this._flagDown=!0;this._renderDown();this._upConnection=this._hitBox.get_pointerUp().connect(x(this,this._onUpEvent));this._dispatch(i.buttons.ButtonBase.DOWN)},_click:function(){g.WorkinCloud.instance.getBool(e.ConstantsApp.BOOL_ORIENTATION_ALERT)||(this._dispatch(i.buttons.ButtonBase.CLICK),""!=this._getClickFlow()&&g.WorkinCloud.instance.getDispatcher().dispatchEvent(new m.WMEventFlow(this._getClickFlow())),""!=this._getClickEvent()&&g.WorkinCloud.instance.getDispatcher().dispatchEvent(new m.WMEvent(this._getClickEvent())))},_dispatch:function(a){this._GET_DO_DISPATCH()&&this._dispatcher.dispatchEvent(new m.WMEvent(a))},_onUpEvent:function(a){this._onUp(a.viewX,a.viewY)},_onDownEvent:function(a){this._onDown(a.viewX,a.viewY)},_getClickFlow:function(){return""},_getClickEvent:function(){return""},_GET_DISABLE_FRAME:function(){return 1},_GET_CUSTOM_HIT_BOX:function(){return new L.Point(0,0)},_GET_DO_DISPATCH:function(){return!0},_getDefaultAssetDisabled:function(){return""},_getDefaultAssetDown:function(){return""},_getDefaultAssetOver:function(){return""},_getDefaultAssetUp:function(){return""},dispose:function(){this.disable();this._downConnection.dispose();this._downConnection=null;this._flagDown&&(this._upConnection.dispose(),this._upConnection=null);this._hitBox.dispose();p.Element.prototype.dispose.call(this)},_buildHitBox:function(){this._hitBox=this._DEBUG_SHOW_HITBOX?new j.FillSprite(16711680,this._render.width|0,this._render.height|0):new j.ImageSprite(D.createTexture(this._render.width|0,this._render.height|0));var a=new K;a.add(this._hitBox);this._textureEntity.addChild(a);this._downConnection=this._hitBox.get_pointerDown().connect(x(this,this._onDownEvent))},disable:function(){this._flagEnabled=!1;this._renderDisabled()},enable:function(){this._flagEnabled=!0;this._renderUp()},__class__:i.buttons.ButtonBase});p.Display=function(a,b,c,q,d){null==d&&(d="");null==c&&(c="");p.Element.call(this,{x:a,y:b,asset:c,origin:q,layer:d});this._addEventListeners()};k["com.workinman.display.Display"]=p.Display;p.Display.__name__=["com","workinman","display","Display"];p.Display.__super__=p.Element;p.Display.prototype=y(p.Element.prototype,{dispose:function(){p.Element.prototype.dispose.call(this);this._removeEventListeners()},_updateValue:function(){return""},_refresh:function(){},_onUpdateDisplay:function(a){a._getData().valueID==this._updateValue()&&this._refresh()},_removeEventListeners:function(){p.Element.prototype._removeEventListeners.call(this);g.WorkinCloud.instance.getDispatcher().removeEventListener(p.Display.EVENT_UPDATE_DISPLAY,x(this,this._onUpdateDisplay))},_addEventListeners:function(){p.Element.prototype._addEventListeners.call(this);g.WorkinCloud.instance.getDispatcher().addEventListener(p.Display.EVENT_UPDATE_DISPLAY,x(this,this._onUpdateDisplay))},__class__:p.Display});i.displays={};i.displays.DisplayScore=function(a){this._wordsToAdd="";p.Display.call(this,a.x,a.y);a.textToAdd&&(this._wordsToAdd=a.textToAdd);this._text=new j.TextSprite(g.WorkinCloud.instance.getAssets().getFont(a.asset),this._wordsToAdd+g.WorkinCloud.instance.getFloat(this._updateValue()));this._text.scaleX.set__(0.7);this._text.scaleY.set__(0.7);this._text.x.set__(a.x);this._text.y.set__(a.y);this._entity.add(this._text)};k["com.nick.spongebob.cake_bake.ui.displays.DisplayScore"]=i.displays.DisplayScore;i.displays.DisplayScore.__name__="com,nick,spongebob,cake_bake,ui,displays,DisplayScore".split(",");i.displays.DisplayScore.__super__=p.Display;i.displays.DisplayScore.prototype=y(p.Display.prototype,{_updateValue:function(){return e.ConstantsApp.FLOAT_SCORE},_refresh:function(){this._text.set_text(this._wordsToAdd+g.WorkinCloud.instance.getFloat(this._updateValue()))},__class__:i.displays.DisplayScore});i.displays.DisplayText=function(a){p.Display.call(this,a.x,a.y,"",null,a.layer);this._writtenText=a.text;this._text=new j.TextSprite(g.WorkinCloud.instance.getAssets().getFont(a.font),a.text);this._text.scaleX.set__(0.5);this._text.scaleY.set__(0.5);a.scaleFactor&&(this._text.scaleX.set__(a.scaleFactor),this._text.scaleY.set__(a.scaleFactor));this._text.x.set__(a.x);this._text.y.set__(a.y);this._entity.add(this._text)};k["com.nick.spongebob.cake_bake.ui.displays.DisplayText"]=i.displays.DisplayText;i.displays.DisplayText.__name__="com,nick,spongebob,cake_bake,ui,displays,DisplayText".split(",");i.displays.DisplayText.__super__=p.Display;i.displays.DisplayText.prototype=y(p.Display.prototype,{setAlpha:function(a){this._text.alpha.set__(a)},setText:function(a){this._writtenText=a},_onUpdateDisplay:function(){0<e.ConstantsApp.CURRENT_COMBO.length&&this._refresh()},_refresh:function(){this._text.set_text(this._writtenText)},__class__:i.displays.DisplayText});i.screens={};i.screens.ScreenBase=function(a,b){this._STATE_OPENED="opened";this._STATE_OUT="out";this._STATE_IN="in";this.id=a;p.Element.call(this,{asset:b});this._addEventListeners();this._elements=[];this._buildButtons();this._flagStateAnimationComplete=this._flagStateCompleteTemp=this.flagDispose=!1;this._states=[];this._generateStates();this._stateIndex=this._states.length+2;this._setFirstState()};k["com.nick.spongebob.cake_bake.ui.screens.ScreenBase"]=i.screens.ScreenBase;i.screens.ScreenBase.__name__="com,nick,spongebob,cake_bake,ui,screens,ScreenBase".split(",");i.screens.ScreenBase.__super__=p.Element;i.screens.ScreenBase.prototype=y(p.Element.prototype,{_onStateComplete:function(){this._flagStateCompleteTemp=!1;""!=this._states[this._stateIndex].outFunc&&g.WorkinCloud.instance.log("[ScreenBase](_onStateComplete) Out Func not supported in HTML5 yet");switch(this._states[this._stateIndex].actionOnComplete){case i.screens.data.ScreenStateData.ACTION_OPENED:this._setOpenedState();this._dispatcher.dispatchEvent(new m.WMEventScreenOut(e.ConstantsScreen.OUTPUT_OPENED,this.id));break;case i.screens.data.ScreenStateData.ACTION_CLOSED:this.setFlagDispose();this._dispatcher.dispatchEvent(new m.WMEventScreenOut(e.ConstantsScreen.OUTPUT_CLOSED,this.id));break;case i.screens.data.ScreenStateData.ACTION_NEW_STATE:this._setState(this._states[this._stateIndex].actionData);break;case i.screens.data.ScreenStateData.ACTION_EVENT:this._dispatcher.dispatchEvent(new m.WMEvent(this._states[this._stateIndex].actionData));break;case i.screens.data.ScreenStateData.ACTION_FLOW:this._doFlowEvent(this._states[this._stateIndex].actionData)}},_findStateIndex:function(a){for(var b=this._states.length-1;0<=b;){if(this._states[b].id==a)return b;b--}return-1},getState:function(){return this._states[this._stateIndex].id},_setState:function(a,b){null==b&&(b=!1);var c=this._findStateIndex(a);if(0>c)g.WorkinCloud.instance.log("[ScreenBase](_setState) ERROR : State >"+a+"< not found."),g.WorkinCloud.instance.log("[ScreenBase](_setState) cancelling setState().");else if(b||c!=this._stateIndex)this._flagStateAnimationComplete=this._flagStateCompleteTemp=!1,this._stateIndex=c},_addState:function(a,b,c,q,d,e){null==e&&(e="");null==d&&(d="");null==q&&(q="");null==c&&(c=0);this._states.push(new i.screens.data.ScreenStateData(a,b,c,q,d,e))},isClosing:function(){return this.getState()==this._STATE_OUT},close:function(){this.setFlagDispose();this._dispatcher.dispatchEvent(new m.WMEventScreenOut(e.ConstantsScreen.OUTPUT_CLOSED,this.id))},open:function(){this._setOpenedState();this._dispatcher.dispatchEvent(new m.WMEventScreenOut(e.ConstantsScreen.OUTPUT_OPENED,this.id))},dispose:function(){for(var a=0,b=this._elements;a<b.length;){var c=b[a];++a;c.dispose()}this._elements=null;this._removeEventListeners();this._states=null;p.Element.prototype.dispose.call(this)},reset:function(){this._setFirstState()},handleInput:function(a){var b=!0;switch(a.input){case e.ConstantsApp.INPUT_CLICK:switch(a.phase){case 1:this._onInputDown(a.x,a.y)||(b=!1);break;case 2:this._onInputMove(a.x,a.y)||(b=!1);break;case 0:this._onInputUp(a.x,a.y)||(b=!1)}break;default:this._onInput(a)||(b=!1)}return b},renderPosition:function(a){p.Element.prototype.renderPosition.call(this,a);for(var b=0,c=this._elements;b<c.length;){var q=c[b];++b;q.renderPosition(a)}},update:function(a){p.Element.prototype.update.call(this,a);for(var b=0,c=this._elements;b<c.length;){var q=c[b];++b;q.update(a)}this._flagStateCompleteTemp&&this._onStateComplete()},_doFlowEvent:function(a){g.WorkinCloud.instance.getDispatcher().dispatchEvent(new m.WMEventFlow(a))},_addElement:function(a){this._elements.push(a);this._entity.addChild(a._getEntity());return a},_buildButtons:function(){},_onInput:function(){return!0},_onInputMove:function(){return!0},_onInputUp:function(){return!0},_onInputDown:function(){return!0},_generateStates:function(){this._addState(this._STATE_IN,"in",i.screens.data.ScreenStateData.ACTION_OPENED);this._addState(this._STATE_OUT,"out",i.screens.data.ScreenStateData.ACTION_CLOSED);this._addState(this._STATE_OPENED,"open")},_setOpenedState:function(){this._setState(this._STATE_OPENED)},_setFirstState:function(){this._setState(this._STATE_IN)},setFlagDispose:function(){this.flagDispose=!0},__class__:i.screens.ScreenBase});i.screens.ScreenGameOver=function(a,b,c){null==b&&(b="");i.screens.ScreenBase.call(this,a,b,c);this._addElement(new p.Element({asset:"game_over_screen",x:0,y:0}));this._addElement(new i.displays.DisplayScore({x:e.ConstantsApp.STAGE_CENTER_X-110,y:e.ConstantsApp.STAGE_CENTER_Y-85,textToAdd:"Score: ",layer:e.ConstantsApp.LAYER_FG,asset:"ui/font/spongebobblue",origin:new h.WorkinPoint(0.5,0.5)}));this._addElement(new i.buttons.ButtonBase(e.ConstantsApp.STAGE_CENTER_X,e.ConstantsApp.STAGE_CENTER_Y+130,new h.WorkinPoint(0.5,0.5),"replay_button","replay_button","replay_button"))._getDispatcher().addEventListener(i.buttons.ButtonBase.CLICK,x(this,this._onEventStartClick))};k["com.nick.spongebob.cake_bake.ui.screens.ScreenGameOver"]=i.screens.ScreenGameOver;i.screens.ScreenGameOver.__name__="com,nick,spongebob,cake_bake,ui,screens,ScreenGameOver".split(",");i.screens.ScreenGameOver.__super__=i.screens.ScreenBase;i.screens.ScreenGameOver.prototype=y(i.screens.ScreenBase.prototype,{_onEventStartClick:function(){g.WorkinCloud.instance._getSound().setSystemMute(!1);this._doFlowEvent(e.ConstantsScreen.FLOW_HELP_PLAY)},__class__:i.screens.ScreenGameOver});i.screens.ScreenGameplayHUD=function(a,b,c){null==b&&(b="");i.screens.ScreenBase.call(this,a,b,c);this._addElement(new i.displays.DisplayScore({x:e.ConstantsApp.STAGE_WIDTH-250,y:10,textToAdd:"Score: ",layer:e.ConstantsApp.LAYER_FG,asset:"ui/font/spongebobblue"}));this._addElement(new i.buttons.ButtonBase(e.ConstantsApp.STAGE_WIDTH,e.ConstantsApp.STAGE_HEIGHT-70,new h.WorkinPoint(1,0),"ui/menu/pause_button","ui/menu/pause_button","ui/menu/pause_button"))._getDispatcher().addEventListener(i.buttons.ButtonBase.CLICK,x(this,this._onEventPauseClick))};k["com.nick.spongebob.cake_bake.ui.screens.ScreenGameplayHUD"]=i.screens.ScreenGameplayHUD;i.screens.ScreenGameplayHUD.__name__="com,nick,spongebob,cake_bake,ui,screens,ScreenGameplayHUD".split(",");i.screens.ScreenGameplayHUD.__super__=i.screens.ScreenBase;i.screens.ScreenGameplayHUD.prototype=y(i.screens.ScreenBase.prototype,{dispose:function(){this._buttonSoundOn=null;i.screens.ScreenBase.prototype.dispose.call(this)},_onEventPauseClick:function(){this.getState()==this._STATE_OPENED&&this._doFlowEvent(e.ConstantsScreen.FLOW_GAMEPLAY_MENU)},__class__:i.screens.ScreenGameplayHUD});i.screens.ScreenGameplayInstructions=function(a,b,c){null==b&&(b="");i.screens.ScreenBase.call(this,a,b,c);this._addElement(new p.Element({asset:"ui/menu/help_screen_bg",x:e.ConstantsApp.STAGE_WIDTH/2,y:e.ConstantsApp.STAGE_HEIGHT/2,origin:new h.WorkinPoint(0.5,0.5)}));this._addElement(new i.buttons.ButtonBase(e.ConstantsApp.STAGE_WIDTH-120,e.ConstantsApp.STAGE_HEIGHT-70,new h.WorkinPoint(0.5,0.5),"sponge_Playbutton","sponge_Playbutton","sponge_Playbutton"))._getDispatcher().addEventListener(i.buttons.ButtonBase.CLICK,x(this,this._onEventStartClick))};k["com.nick.spongebob.cake_bake.ui.screens.ScreenGameplayInstructions"]=i.screens.ScreenGameplayInstructions;i.screens.ScreenGameplayInstructions.__name__="com,nick,spongebob,cake_bake,ui,screens,ScreenGameplayInstructions".split(",");i.screens.ScreenGameplayInstructions.__super__=i.screens.ScreenBase;i.screens.ScreenGameplayInstructions.prototype=y(i.screens.ScreenBase.prototype,{_onEventStartClick:function(){g.WorkinCloud.instance._getSound().setSystemMute(!1);this._doFlowEvent(e.ConstantsScreen.FLOW_HELP_PLAY)},__class__:i.screens.ScreenGameplayInstructions});i.screens.ScreenGameplayMenu=function(a,b,c){null==b&&(b="");this._soundIsMuted=!1;this._soundIsMuted=g.WorkinCloud.instance._getSound().getMute();i.screens.ScreenBase.call(this,a,b,c);this._addElement(new p.Element({asset:"ui/menu/pause_menu",x:e.ConstantsApp.STAGE_WIDTH/2,y:e.ConstantsApp.STAGE_HEIGHT/2,origin:new h.WorkinPoint(0.5,0.5)}));this._buttonHelp=new i.buttons.ButtonBase(e.ConstantsApp.STAGE_WIDTH/2+70,230,new h.WorkinPoint(0.5,0),"ui/menu/pause_helpbutton","ui/menu/pause_helpbutton","ui/menu/pause_helpbutton","",1.33);this._buttonHelp.setRenderScale(0.75);this._addElement(this._buttonHelp)._getDispatcher().addEventListener(i.buttons.ButtonBase.CLICK,x(this,this._onEventHelpClick));this._buttonPlay=new i.buttons.ButtonBase(e.ConstantsApp.STAGE_WIDTH/2-70,230,new h.WorkinPoint(0.5,0),"ui/menu/pause_playbutton","ui/menu/pause_playbutton","ui/menu/pause_playbutton","",1.33);this._buttonPlay.setRenderScale(0.75);this._addElement(this._buttonPlay)._getDispatcher().addEventListener(i.buttons.ButtonBase.CLICK,x(this,this._onEventResumeClick));this._soundIsMuted?(this._buttonSoundOff=new i.buttons.ButtonBase(e.ConstantsApp.STAGE_WIDTH/2-70,340,new h.WorkinPoint(0.5,0),"pause_soundoff","pause_soundoff","pause_soundoff","",1.33),this._buttonSoundOff.setRenderScale(0.75),this._addElement(this._buttonSoundOff)._getDispatcher().addEventListener(i.buttons.ButtonBase.CLICK,x(this,this._onEventSoundToggleClick))):(this._buttonSoundOn=new i.buttons.ButtonBase(e.ConstantsApp.STAGE_WIDTH/2-70,340,new h.WorkinPoint(0.5,0),"pause_soundon","pause_soundon","pause_soundon","",1.33),this._buttonSoundOn.setRenderScale(0.75),this._addElement(this._buttonSoundOn)._getDispatcher().addEventListener(i.buttons.ButtonBase.CLICK,x(this,this._onEventSoundToggleClick)));this._buttonQuit=new i.buttons.ButtonBase(e.ConstantsApp.STAGE_WIDTH/2+70,340,new h.WorkinPoint(0.5,0),"ui/menu/pause_quitbutton","ui/menu/pause_quitbutton","ui/menu/pause_quitbutton","",1.33);this._buttonQuit.setRenderScale(0.75);this._addElement(this._buttonQuit)._getDispatcher().addEventListener(i.buttons.ButtonBase.CLICK,x(this,this._onEventQuitClick))};k["com.nick.spongebob.cake_bake.ui.screens.ScreenGameplayMenu"]=i.screens.ScreenGameplayMenu;i.screens.ScreenGameplayMenu.__name__="com,nick,spongebob,cake_bake,ui,screens,ScreenGameplayMenu".split(",");i.screens.ScreenGameplayMenu.__super__=i.screens.ScreenBase;i.screens.ScreenGameplayMenu.prototype=y(i.screens.ScreenBase.prototype,{dispose:function(){this._buttonQuit=this._buttonSoundOff=this._buttonSoundOn=this._buttonHelp=this._buttonPlay=null;i.screens.ScreenBase.prototype.dispose.call(this)},_removeEventListeners:function(){i.screens.ScreenBase.prototype._removeEventListeners.call(this)},_addEventListeners:function(){i.screens.ScreenBase.prototype._addEventListeners.call(this)},_onEventQuitClick:function(){this._doFlowEvent(e.ConstantsScreen.FLOW_GAMEPLAY_MENU_QUIT)},_onEventResumeClick:function(){g.WorkinCloud.instance._getSound().setSystemMute(!1);this._doFlowEvent(e.ConstantsScreen.FLOW_GAMEPLAY_MENU_CLOSE)},_onEventSoundToggleClick:function(){!1==this._soundIsMuted?(this._soundIsMuted=!0,g.WorkinCloud.instance._getSound().setMute(this._soundIsMuted),this._buttonSoundOff=new i.buttons.ButtonBase(e.ConstantsApp.STAGE_WIDTH/2-70,340,new h.WorkinPoint(0.5,0),"pause_soundoff","pause_soundoff","pause_soundoff","",1.33),this._buttonSoundOff.setRenderScale(0.75),this._addElement(this._buttonSoundOff)._getDispatcher().addEventListener(i.buttons.ButtonBase.CLICK,x(this,this._onEventSoundToggleClick)),this._buttonSoundOn._getDispatcher().removeEventListener(i.buttons.ButtonBase.CLICK,x(this,this._onEventSoundToggleClick)),this._entity.removeChild(this._buttonSoundOn._getEntity())):(this._soundIsMuted=!1,g.WorkinCloud.instance._getSound().setMute(this._soundIsMuted),this._buttonSoundOn=new i.buttons.ButtonBase(e.ConstantsApp.STAGE_WIDTH/2-70,340,new h.WorkinPoint(0.5,0),"pause_soundon","pause_soundon","pause_soundon","",1.33),this._buttonSoundOn.setRenderScale(0.75),this._addElement(this._buttonSoundOn)._getDispatcher().addEventListener(i.buttons.ButtonBase.CLICK,x(this,this._onEventSoundToggleClick)),this._buttonSoundOff._getDispatcher().removeEventListener(i.buttons.ButtonBase.CLICK,x(this,this._onEventSoundToggleClick)),this._entity.removeChild(this._buttonSoundOff._getEntity()))},_onEventHelpClick:function(){this._doFlowEvent(e.ConstantsScreen.FLOW_GAMEPLAY_MENU_HELP)},__class__:i.screens.ScreenGameplayMenu});i.screens.ScreenGeneric=function(a,b,c){null==b&&(b="");i.screens.ScreenBase.call(this,a,b,c);this._flagHasSpaceAction=!1};k["com.nick.spongebob.cake_bake.ui.screens.ScreenGeneric"]=i.screens.ScreenGeneric;i.screens.ScreenGeneric.__name__="com,nick,spongebob,cake_bake,ui,screens,ScreenGeneric".split(",");i.screens.ScreenGeneric.__super__=i.screens.ScreenBase;i.screens.ScreenGeneric.prototype=y(i.screens.ScreenBase.prototype,{_onInputMove:function(){return!1},_onInputUp:function(){return!1},_onInputDown:function(){return!1},__class__:i.screens.ScreenGeneric});i.screens.ScreenLoading=function(a,b,c){null==b&&(b="");i.screens.ScreenBase.call(this,a,b,c);this._timerSpin=0.25;this._loadSpinner=this._addElement(new p.Element({x:e.ConstantsApp.STAGE_CENTER_X,y:e.ConstantsApp.STAGE_CENTER_Y+175,origin:new h.WorkinPoint(0.5,0.5),asset:"loading_spinner"}))};k["com.nick.spongebob.cake_bake.ui.screens.ScreenLoading"]=i.screens.ScreenLoading;i.screens.ScreenLoading.__name__="com,nick,spongebob,cake_bake,ui,screens,ScreenLoading".split(",");i.screens.ScreenLoading.__super__=i.screens.ScreenBase;i.screens.ScreenLoading.prototype=y(i.screens.ScreenBase.prototype,{dispose:function(){i.screens.ScreenBase.prototype.dispose.call(this);this._loadSpinner=null},update:function(a){i.screens.ScreenBase.prototype.update.call(this,a);this._timerSpin-=a;0>=this._timerSpin&&(this._timerSpin=0.1,this._loadSpinner._getRenderable().rotation+=45)},__class__:i.screens.ScreenLoading});i.screens.ScreenMenuHelp=function(a,b,c){null==b&&(b="");i.screens.ScreenBase.call(this,a,b,c);this._addElement(new p.Element({asset:"ui/menu/help_screen_bg",x:e.ConstantsApp.STAGE_WIDTH/2,y:e.ConstantsApp.STAGE_HEIGHT/2,origin:new h.WorkinPoint(0.5,0.5)}));this._addElement(new i.buttons.ButtonBase(e.ConstantsApp.STAGE_WIDTH-120,e.ConstantsApp.STAGE_HEIGHT-70,new h.WorkinPoint(0.5,0.5),"pause_quitbutton","pause_quitbutton","pause_quitbutton"))._getDispatcher().addEventListener(i.buttons.ButtonBase.CLICK,x(this,this._onEventResumeClick))};k["com.nick.spongebob.cake_bake.ui.screens.ScreenMenuHelp"]=i.screens.ScreenMenuHelp;i.screens.ScreenMenuHelp.__name__="com,nick,spongebob,cake_bake,ui,screens,ScreenMenuHelp".split(",");i.screens.ScreenMenuHelp.__super__=i.screens.ScreenBase;i.screens.ScreenMenuHelp.prototype=y(i.screens.ScreenBase.prototype,{_onEventResumeClick:function(){this._doFlowEvent(e.ConstantsScreen.FLOW_GAMEPLAY_MENU_HELP_CLOSE)},__class__:i.screens.ScreenMenuHelp});i.screens.ScreenQuitConfirm=function(a,b,c){null==b&&(b="");i.screens.ScreenBase.call(this,a,b,c);this._addElement(new p.Element({asset:"ui/menu/quit_prompt",x:e.ConstantsApp.STAGE_WIDTH/2,y:e.ConstantsApp.STAGE_HEIGHT/2+50,origin:new h.WorkinPoint(0.5,0.5)}));this._buttonYes=new i.buttons.ButtonBase(e.ConstantsApp.STAGE_CENTER_X+100,285,new h.WorkinPoint(1,0),"ui/menu/quit_yes","ui/menu/quit_yes","ui/menu/quit_yes");this._buttonYes._getDispatcher().addEventListener(i.buttons.ButtonBase.CLICK,x(this,this._onYesClick));this._addElement(this._buttonYes);this._buttonNo=new i.buttons.ButtonBase(e.ConstantsApp.STAGE_CENTER_X+100,375,new h.WorkinPoint(1,0),"ui/menu/quit_no","ui/menu/quit_no","ui/menu/quit_no");this._buttonNo._getDispatcher().addEventListener(i.buttons.ButtonBase.CLICK,x(this,this._onNoClick));this._addElement(this._buttonNo)};k["com.nick.spongebob.cake_bake.ui.screens.ScreenQuitConfirm"]=i.screens.ScreenQuitConfirm;i.screens.ScreenQuitConfirm.__name__="com,nick,spongebob,cake_bake,ui,screens,ScreenQuitConfirm".split(",");i.screens.ScreenQuitConfirm.__super__=i.screens.ScreenBase;i.screens.ScreenQuitConfirm.prototype=y(i.screens.ScreenBase.prototype,{dispose:function(){this._buttonNo=this._buttonYes=null;i.screens.ScreenBase.prototype.dispose.call(this)},_onNoClick:function(){this._doFlowEvent(e.ConstantsScreen.FLOW_GAMEPLAY_QUIT_NO)},_onYesClick:function(){this._doFlowEvent(e.ConstantsScreen.FLOW_END_GAME_PLAY_AGAIN)},__class__:i.screens.ScreenQuitConfirm});i.screens.ScreenScreenshot=function(){};k["com.nick.spongebob.cake_bake.ui.screens.ScreenScreenshot"]=i.screens.ScreenScreenshot;i.screens.ScreenScreenshot.__name__="com,nick,spongebob,cake_bake,ui,screens,ScreenScreenshot".split(",");i.screens.ScreenScreenshot.__super__=i.screens.ScreenBase;i.screens.ScreenScreenshot.prototype=y(i.screens.ScreenBase.prototype,{dispose:function(){i.screens.ScreenBase.prototype.dispose.call(this)},__class__:i.screens.ScreenScreenshot});i.screens.ScreenSplash=function(a,b,c){null==b&&(b="");this._BLINK_TIME=0.9;this._soundIsMuted=g.WorkinCloud.instance._getSound().getMute();i.screens.ScreenBase.call(this,a,b,c);this._blinkTimer=this._BLINK_TIME;this._text=new j.TextSprite(g.WorkinCloud.instance.getAssets().getFont("ui/font/spongebobblue"),"TAP ANYWHERE TO PLAY");this._text.x.set__(90);this._text.y.set__(e.ConstantsApp.STAGE_CENTER_Y+120);this._text.scaleX.set__(this._text.scaleY.set__(0.65));this._entity.addChild((new K).add(this._text))};k["com.nick.spongebob.cake_bake.ui.screens.ScreenSplash"]=i.screens.ScreenSplash;i.screens.ScreenSplash.__name__="com,nick,spongebob,cake_bake,ui,screens,ScreenSplash".split(",");i.screens.ScreenSplash.__super__=i.screens.ScreenBase;i.screens.ScreenSplash.prototype=y(i.screens.ScreenBase.prototype,{close:function(a){null==a&&(a=!0);J.ConstantsCloud.getIsNabi()&&o.hideEulaLinks();i.screens.ScreenBase.prototype.close.call(this,a)},open:function(a){null==a&&(a=!0);J.ConstantsCloud.getIsNabi()&&o.showEulaLinks();i.screens.ScreenBase.prototype.open.call(this,a)},_onInputDown:function(){g.WorkinCloud.instance.log("[Splash] State: "+this.getState());if(this.getState()!=this._STATE_OPENED)return!1;g.WorkinCloud.instance._getSound().playMusic("audio/Sound_BGM",0.5);this._doFlowEvent(e.ConstantsScreen.FLOW_SPLASH_PLAY);return!1},update:function(a){i.screens.ScreenBase.prototype.update.call(this,a);this._blinkTimer-=a;0>=this._blinkTimer&&(0==this._text.alpha._value?(this._blinkTimer=this._BLINK_TIME,this._text.alpha.set__(1)):(this._blinkTimer=this._BLINK_TIME/2,this._text.alpha.set__(0)))},dispose:function(){this._buttonSoundOff=this._buttonSoundOn=this._text=null;i.screens.ScreenBase.prototype.dispose.call(this)},__class__:i.screens.ScreenSplash});i.screens.data={};i.screens.data.ChangeActionData=function(){};k["com.nick.spongebob.cake_bake.ui.screens.data.ChangeActionData"]=i.screens.data.ChangeActionData;i.screens.data.ChangeActionData.__name__="com,nick,spongebob,cake_bake,ui,screens,data,ChangeActionData".split(",");i.screens.data.ChangeActionData.prototype={_getAction:function(){return this._action},_getChangeEvent:function(){return this._changeEvent},_getScreenId:function(){return this._screenId},__class__:i.screens.data.ChangeActionData};i.screens.data.ScreenData=function(a,b,c,q,d){null==q&&(q=0);null==c&&(c="");this.id=a;this.screenClass=b;this.assetClassName=c;this.layer=q;this.data=null==d?new H:d};k["com.nick.spongebob.cake_bake.ui.screens.data.ScreenData"]=i.screens.data.ScreenData;i.screens.data.ScreenData.__name__="com,nick,spongebob,cake_bake,ui,screens,data,ScreenData".split(",");i.screens.data.ScreenData.prototype={__class__:i.screens.data.ScreenData};i.screens.data.ScreenQueueData=function(a,b,c){null==c&&(c="");this.screenData=a;this.openCondition=b;this.openTestString=c};k["com.nick.spongebob.cake_bake.ui.screens.data.ScreenQueueData"]=i.screens.data.ScreenQueueData;i.screens.data.ScreenQueueData.__name__="com,nick,spongebob,cake_bake,ui,screens,data,ScreenQueueData".split(",");i.screens.data.ScreenQueueData.prototype={validateCondition:function(a,b){null==b&&(b="");return this.openCondition==a?""==this.openTestString||this.openTestString==b:!1},__class__:i.screens.data.ScreenQueueData};i.screens.data.ScreenStateData=function(a,b,c,q,d,e){this.id=a;this.animation=b;this.actionOnComplete=c;this.actionData=q;this.inFunc=d;this.outFunc=e};k["com.nick.spongebob.cake_bake.ui.screens.data.ScreenStateData"]=i.screens.data.ScreenStateData;i.screens.data.ScreenStateData.__name__="com,nick,spongebob,cake_bake,ui,screens,data,ScreenStateData".split(",");i.screens.data.ScreenStateData.prototype={__class__:i.screens.data.ScreenStateData};i.transitions={};i.transitions.TransitionBase=function(a,b,c,q){null==q&&(q="");null==c&&(c=!1);null==b&&(b=!0);this._STATE_OUT=3;this._STATE_IDLE=2;this._STATE_IN=1;this._STATE_HIDDEN=0;this._transitionId=q;this._flagOutOnly=c;this.flagDispose=!1;p.Element.call(this,{asset:a});b?this._setState(this._STATE_HIDDEN):this._flagOutOnly?this._setState(this._STATE_OUT):this._setState(this._STATE_IN)};k["com.nick.spongebob.cake_bake.ui.transitions.TransitionBase"]=i.transitions.TransitionBase;i.transitions.TransitionBase.__name__="com,nick,spongebob,cake_bake,ui,transitions,TransitionBase".split(",");i.transitions.TransitionBase.__super__=p.Element;i.transitions.TransitionBase.prototype=y(p.Element.prototype,{dispose:function(){p.Element.prototype.dispose.call(this);this._mc=null},_setState:function(a){this._state=a;switch(this._state){case this._STATE_HIDDEN:this.hide()}},show:function(){this._mc.set_visible(!0)},hide:function(){this._mc.set_visible(!1)},start:function(){this.show();this._setState(this._STATE_IN)},update:function(a){p.Element.prototype.update.call(this,a)},_getIsOutro:function(){return this._state==this._STATE_OUT},__class__:i.transitions.TransitionBase});t={};t.World=function(a){this._inGameOver=this._missedItemCountdown=this._patAnxious=!1;this._tries=this._level=1;this._score=0;this._missedItemTime=this._missedItemTimeMax=5;this._levelTime=this._maxLevelTime=60;this._STATE_NEXT_LEVEL=3;this._STATE_FROSTING=2;this._STATE_FLAVOR=1;this._STATE_EGG=0;m.WMEventDispatcher.call(this);this._timeline=a;this._elementManager=new p.ElementManager(this._timeline,e.ConstantsApp.STAGE_CENTER_X,e.ConstantsApp.STAGE_CENTER_Y);this._elementManager.addLayer(e.ConstantsApp.LAYER_BG);this._elementManager.addLayer(e.ConstantsApp.LAYER_PLAYER);this._elementManager.addLayer(e.ConstantsApp.LAYER_FG);this._elementManager.addElement(new p.Element({x:-420,y:-150,layer:e.ConstantsApp.LAYER_BG,asset:"sb_lr_bg",scaleFactor:1.7}));this._windowTime=new t.elements.WindowTimer({x:450,y:-50,levelTimer:this._maxLevelTime,layer:e.ConstantsApp.LAYER_BG,scaleFactor:1.5});this._elementManager.addElement(this._windowTime);this._elementManager.addElement(new p.Element({x:-100,y:0,layer:e.ConstantsApp.LAYER_BG,asset:"bookshelf",scaleFactor:1.5}));this._mixingBowl=new p.Element({x:200,y:400,asset:"mixingBowl",layer:e.ConstantsApp.LAYER_BG});this._spongebob=new t.elements.Spongebob({x:-180,y:60,layer:e.ConstantsApp.LAYER_PLAYER});this._elementManager.addElement(this._spongebob);this._pattrick=new t.elements.Pattrick({x:800,y:350,layer:e.ConstantsApp.LAYER_PLAYER});this._elementManager.addElement(this._pattrick);this._allEggsNames=[];this._allEggsNames.push(e.ConstantsApp.shockingEggs);this._allEggsNames.push(e.ConstantsApp.roundEggs);this._allEggsNames.push(e.ConstantsApp.glowingEggs);this._allEggsNames.push(e.ConstantsApp.smellyEggs);this._allEggsNames.push(e.ConstantsApp.aliveEggs);this._allFlavorsNames=[];this._allFlavorsNames.push(e.ConstantsApp.shockingFlavor);this._allFlavorsNames.push(e.ConstantsApp.moldyFlavor);this._allFlavorsNames.push(e.ConstantsApp.softFlavor);this._allFlavorsNames.push(e.ConstantsApp.smellyFlavor);this._allFlavorsNames.push(e.ConstantsApp.chompingFlavor);this._allFrostingsNames=[];this._allFrostingsNames.push(e.ConstantsApp.shockingFrosting);this._allFrostingsNames.push(e.ConstantsApp.brownFrosting);this._allFrostingsNames.push(e.ConstantsApp.snailyFrosting);this._allFrostingsNames.push(e.ConstantsApp.smellyFrosting);this._allFrostingsNames.push(e.ConstantsApp.gooeyFrosting);e.ConstantsApp.CURRENT_COMBO=[];this._potCombo=[];this.chooseCombo();this._IWant=new i.displays.DisplayText({text:"I Want",x:e.ConstantsApp.STAGE_CENTER_X+50,y:e.ConstantsApp.STAGE_HEIGHT-
200,layer:e.ConstantsApp.LAYER_FG,font:"ui/font/spongeboypink",scaleFactor:0.4});this._Item1=new i.displays.DisplayText({text:e.ConstantsApp.CURRENT_COMBO[0],x:e.ConstantsApp.STAGE_CENTER_X+50,y:e.ConstantsApp.STAGE_HEIGHT-160,layer:e.ConstantsApp.LAYER_FG,font:"ui/font/spongeboygreen"});this._Item2=new i.displays.DisplayText({text:e.ConstantsApp.CURRENT_COMBO[1],x:e.ConstantsApp.STAGE_CENTER_X+50,y:e.ConstantsApp.STAGE_HEIGHT-115,layer:e.ConstantsApp.LAYER_FG,font:"ui/font/spongeboygreen"});this._and=new i.displays.DisplayText({text:"and",x:e.ConstantsApp.STAGE_CENTER_X+50,y:e.ConstantsApp.STAGE_HEIGHT-80,layer:e.ConstantsApp.LAYER_FG,font:"ui/font/spongeboypink",scaleFactor:0.4});this._Item3=new i.displays.DisplayText({text:e.ConstantsApp.CURRENT_COMBO[2],x:e.ConstantsApp.STAGE_CENTER_X+50,y:e.ConstantsApp.STAGE_HEIGHT-45,layer:e.ConstantsApp.LAYER_FG,font:"ui/font/spongeboygreen"});this._elementManager.addElement(this._IWant);this._elementManager.addElement(this._Item1);this._elementManager.addElement(this._Item2);this._elementManager.addElement(this._and);this._elementManager.addElement(this._Item3);this._wrongBubble=[];this._speechBubble=new p.Element({x:e.ConstantsApp.STAGE_CENTER_X-50,y:e.ConstantsApp.STAGE_HEIGHT-230,asset:"bubble",layer:e.ConstantsApp.LAYER_FG,scaleFactor:1.2});this._speechBubble._getRenderable().visible=!1;this._elementManager.addElement(this._speechBubble);this.hideRecipe();this._addEventListeners();this._setState(this._STATE_EGG);this._elementManager.addElement(new t.elements.LevelUpOverlay({x:50,y:-300,layer:e.ConstantsApp.LAYER_FG,currLevel:this._level,font:"ui/font/spongeboygreen"}))};k["com.nick.spongebob.cake_bake.world.World"]=t.World;t.World.__name__="com,nick,spongebob,cake_bake,world,World".split(",");t.World.__super__=m.WMEventDispatcher;t.World.prototype=y(m.WMEventDispatcher.prototype,{render:function(){this._elementManager.renderElements()},handleInput:function(){if(!g.WorkinCloud.instance.getBool(e.ConstantsApp.BOOL_PAUSED))switch(this._state){case this._STATE_EGG:!0==e.ConstantsApp.ITEM_IS_MOVING&&!0==this._missedItemCountdown&&(this.hideBubble(),this._missedItemCountdown=!1,this._missedItemTime=this._missedItemTimeMax);for(var a=0,b=this._allEggs.length;a<b;){var c=a++;this._allEggs[c].handlePointerInput()}break;case this._STATE_FLAVOR:a=0;for(b=this._allFlavors.length;a<b;)c=a++,this._allFlavors[c].handlePointerInput();break;case this._STATE_FROSTING:if(0<this._allFrostings.length){a=0;for(b=this._allFrostings.length;a<b;)c=a++,this._allFrostings[c].handlePointerInput()}}},_unpause:function(){g.WorkinCloud.instance.setBool(e.ConstantsApp.BOOL_PAUSED,!1)},_pause:function(){g.WorkinCloud.instance.setBool(e.ConstantsApp.BOOL_PAUSED,!0)},_onUnpause:function(){this._unpause()},_onPause:function(){this._pause()},_removeEventListeners:function(){g.WorkinCloud.instance.getDispatcher().removeEventListener(e.ConstantsApp.EVENT_PAUSE,x(this,this._onPause));g.WorkinCloud.instance.getDispatcher().removeEventListener(e.ConstantsApp.EVENT_UNPAUSE,x(this,this._onUnpause))},_addEventListeners:function(){g.WorkinCloud.instance.getDispatcher().addEventListener(e.ConstantsApp.EVENT_PAUSE,x(this,this._onPause));g.WorkinCloud.instance.getDispatcher().addEventListener(e.ConstantsApp.EVENT_UNPAUSE,x(this,this._onUnpause))},update:function(a){if(!0!=g.WorkinCloud.instance.getBool(e.ConstantsApp.BOOL_PAUSED)){a=Math.round(1E3*a)/1E3;this._state!=this._STATE_NEXT_LEVEL?(this.levelTimerUpdate(a),this._windowTime.pauseTimer=!1):this._windowTime.pauseTimer=!0;switch(this._state){case this._STATE_EGG:this.eggsAddedToPot();break;case this._STATE_FLAVOR:this.flavorsAddedToPot();break;case this._STATE_FROSTING:this.frostingsAddedToPot();break;case this._STATE_NEXT_LEVEL:!0==e.ConstantsApp.MOVE_TO_LEVEL_CHECK&&(e.ConstantsApp.MOVE_TO_LEVEL_CHECK=!1,this.makeCake(),!0==this.checkCombo()?(this._pattrick.setPassLevel(!0),this.nextLevel(),this._potCombo=[],this._tries=1):(this._pattrick.setPassLevel(!1),this._potCombo=[],this._tries++,this._missedItemCountdown=!0))}g.WorkinCloud.instance.setFloat(e.ConstantsApp.FLOAT_SCORE,this._score);!0==this._missedItemCountdown&&(0<=this._missedItemTime?this._missedItemTime-=a:(this.hideBubble(),this._missedItemCountdown=!1,this._missedItemTime=this._missedItemTimeMax,this.showRecipe()));!0==e.ConstantsApp.pattrickReady&&(e.ConstantsApp.pattrickReady=!1,!0==this._pattrick.passLevel?(this._setState(this._STATE_EGG),this._elementManager.addElement(new t.elements.LevelUpOverlay({x:50,y:-300,layer:e.ConstantsApp.LAYER_FG,currLevel:this._level,font:"ui/font/spongeboygreen"})),this._windowTime.resetTimers(this._maxLevelTime)):(this._patAnxious=!1,this._setState(this._STATE_EGG)));!0==this._pattrick.finishedEating&&(this._pattrick.finishedEating=!1,!1==this._pattrick.passLevel&&this.showBubble());!0==e.ConstantsApp.canShowRecipe&&(e.ConstantsApp.canShowRecipe=!1,this.showRecipe());!0==e.ConstantsApp.startPatrickEating&&(e.ConstantsApp.startPatrickEating=!1,this._pattrick.playAnimation("eating",1));this._elementManager.updateElements(a)}},frostingsAddedToPot:function(){for(var a=0,b=this._allFrostings.length;a<b;){var c=a++;if(!0==this._allFrostings[c].addToPot){g.WorkinCloud.instance._getSound().playSound("audio/Sound_kerplunk");this._potCombo.push(this._allFrostings[c].idType);this.addBubbleItemFrostings(this._allFrostings[c].idType);this._allFrostings[c].idType==e.ConstantsApp.brownFrosting&&g.WorkinCloud.instance._getSound().playSound("audio/Sound_poop");this._allFrostings[c].addToPot=!1;this.removeShelfItems(this._allFrostings);this._spongebob.playAnimation("mix",1);this._setState(this._STATE_NEXT_LEVEL);break}}},flavorsAddedToPot:function(){for(var a=0,b=this._allFlavors.length;a<b;){var c=a++;if(!0==this._allFlavors[c].addToPot){this._spongebob.playAnimation("stir",1);g.WorkinCloud.instance._getSound().playSound("audio/Sound_kerplunk");this._potCombo.push(this._allFlavors[c].idType);this.addBubbleItemFlavors(this._allFlavors[c].idType);this._allFlavors[c].idType==e.ConstantsApp.smellyFlavor&&g.WorkinCloud.instance._getSound().playSound("audio/Sound_rat");this._allFlavors[c].idType==e.ConstantsApp.softFlavor&&g.WorkinCloud.instance._getSound().playSound("audio/Sound_cat");this._allFlavors[c].idType==e.ConstantsApp.chompingFlavor&&g.WorkinCloud.instance._getSound().playSound("audio/Sound_teeth");this._allFlavors[c].addToPot=!1;this.removeShelfItems(this._allFlavors);this._setState(this._STATE_FROSTING);break}}},eggsAddedToPot:function(){for(var a=0,b=this._allEggs.length;a<b;){var c=a++;if(!0==this._allEggs[c].addToPot){this._spongebob.playAnimation("stir",1);g.WorkinCloud.instance._getSound().playSound("audio/Sound_kerplunk");0.5<Math.random()&&g.WorkinCloud.instance._getSound().playSound("audio/Sound_pour");this._potCombo.push(this._allEggs[c].idType);this.addBubbleItemEggs(this._allEggs[c].idType);this._allEggs[c].idType==e.ConstantsApp.shockingEggs&&g.WorkinCloud.instance._getSound().playSound("audio/Sound_jellyEggs");this._allEggs[c].idType==e.ConstantsApp.glowingEggs&&g.WorkinCloud.instance._getSound().playSound("audio/Sound_ghostEggs");this._allEggs[c].addToPot=!1;this.removeShelfItems(this._allEggs);this.hideRecipe();this._setState(this._STATE_FLAVOR);break}}},addBubbleItemFrostings:function(a){switch(a){case e.ConstantsApp.shockingFrosting:this._wrongBubble.push(new p.Element({x:e.ConstantsApp.STAGE_CENTER_X+
165,y:e.ConstantsApp.STAGE_HEIGHT-120,asset:"shocking_frostings_s",layer:e.ConstantsApp.LAYER_FG}));break;case e.ConstantsApp.brownFrosting:this._wrongBubble.push(new p.Element({x:e.ConstantsApp.STAGE_CENTER_X+165,y:e.ConstantsApp.STAGE_HEIGHT-130,asset:"brown_frostings_s",layer:e.ConstantsApp.LAYER_FG}));break;case e.ConstantsApp.snailyFrosting:this._wrongBubble.push(new p.Element({x:e.ConstantsApp.STAGE_CENTER_X+165,y:e.ConstantsApp.STAGE_HEIGHT-130,asset:"snaily_frostings_s",layer:e.ConstantsApp.LAYER_FG}));break;case e.ConstantsApp.smellyFrosting:this._wrongBubble.push(new p.Element({x:e.ConstantsApp.STAGE_CENTER_X+165,y:e.ConstantsApp.STAGE_HEIGHT-120,asset:"smelly_frostings_s",layer:e.ConstantsApp.LAYER_FG}));break;case e.ConstantsApp.gooeyFrosting:this._wrongBubble.push(new p.Element({x:e.ConstantsApp.STAGE_CENTER_X+170,y:e.ConstantsApp.STAGE_HEIGHT-120,asset:"gooey_frostings_s",layer:e.ConstantsApp.LAYER_FG}))}},addBubbleItemFlavors:function(a){switch(a){case e.ConstantsApp.shockingFlavor:this._wrongBubble.push(new p.Element({x:e.ConstantsApp.STAGE_CENTER_X+
20,y:e.ConstantsApp.STAGE_HEIGHT-150,asset:"shocking_flavors_s",layer:e.ConstantsApp.LAYER_FG}));break;case e.ConstantsApp.moldyFlavor:this._wrongBubble.push(new p.Element({x:e.ConstantsApp.STAGE_CENTER_X+20,y:e.ConstantsApp.STAGE_HEIGHT-150,asset:"moldy_flavora_s",layer:e.ConstantsApp.LAYER_FG}));break;case e.ConstantsApp.softFlavor:this._wrongBubble.push(new p.Element({x:e.ConstantsApp.STAGE_CENTER_X+20,y:e.ConstantsApp.STAGE_HEIGHT-150,asset:"soft_flavors_s",layer:e.ConstantsApp.LAYER_FG}));break;case e.ConstantsApp.smellyFlavor:this._wrongBubble.push(new p.Element({x:e.ConstantsApp.STAGE_CENTER_X+15,y:e.ConstantsApp.STAGE_HEIGHT-150,asset:"smelly_flavors_s",layer:e.ConstantsApp.LAYER_FG}));break;case e.ConstantsApp.chompingFlavor:this._wrongBubble.push(new p.Element({x:e.ConstantsApp.STAGE_CENTER_X+20,y:e.ConstantsApp.STAGE_HEIGHT-150,asset:"chomping_flavors_s",layer:e.ConstantsApp.LAYER_FG}))}},addBubbleItemEggs:function(a){switch(a){case e.ConstantsApp.shockingEggs:this._wrongBubble.push(new p.Element({x:e.ConstantsApp.STAGE_CENTER_X-
40,y:e.ConstantsApp.STAGE_HEIGHT-140,asset:"shocking_eggs_s",layer:e.ConstantsApp.LAYER_FG}));break;case e.ConstantsApp.roundEggs:this._wrongBubble.push(new p.Element({x:e.ConstantsApp.STAGE_CENTER_X-40,y:e.ConstantsApp.STAGE_HEIGHT-140,asset:"round_eggs_s",layer:e.ConstantsApp.LAYER_FG}));break;case e.ConstantsApp.glowingEggs:this._wrongBubble.push(new p.Element({x:e.ConstantsApp.STAGE_CENTER_X-40,y:e.ConstantsApp.STAGE_HEIGHT-140,asset:"glowing_eggs_s",layer:e.ConstantsApp.LAYER_FG}));break;case e.ConstantsApp.smellyEggs:this._wrongBubble.push(new p.Element({x:e.ConstantsApp.STAGE_CENTER_X-
40,y:e.ConstantsApp.STAGE_HEIGHT-140,asset:"smelly_eggs_s",layer:e.ConstantsApp.LAYER_FG}));break;case e.ConstantsApp.aliveEggs:this._wrongBubble.push(new p.Element({x:e.ConstantsApp.STAGE_CENTER_X-40,y:e.ConstantsApp.STAGE_HEIGHT-140,asset:"alive_eggs_s",layer:e.ConstantsApp.LAYER_FG}))}},hideBubble:function(){this._speechBubble._getRenderable().visible=!1;if(0<this._wrongBubble.length)for(var a=0,b=this._wrongBubble.length;a<b;)this._elementManager.removeElement(this._wrongBubble[a++]);for(;0<this._wrongBubble.length;)this._wrongBubble.splice(0,1)},showBubble:function(){this._speechBubble._getRenderable().visible=!0;for(var a=0,b=this._wrongBubble.length;a<b;)this._elementManager.addElement(this._wrongBubble[a++])},hideRecipe:function(){this._speechBubble._getRenderable().visible=!1;this._IWant.setAlpha(0);this._Item1.setAlpha(0);this._Item2.setAlpha(0);this._and.setAlpha(0);this._Item3.setAlpha(0);e.ConstantsApp.recipeShowing=!1},showRecipe:function(){this._speechBubble._getRenderable().visible=!0;this._IWant.setAlpha(1);this._Item1.setAlpha(1);this._Item2.setAlpha(1);this._and.setAlpha(1);this._Item3.setAlpha(1);e.ConstantsApp.recipeShowing=!0;this.addItemToText(e.ConstantsApp.CURRENT_COMBO[0],e.ConstantsApp.STAGE_CENTER_X+100,e.ConstantsApp.STAGE_HEIGHT-160);this.addItemToText(e.ConstantsApp.CURRENT_COMBO[1],e.ConstantsApp.STAGE_CENTER_X+100,e.ConstantsApp.STAGE_HEIGHT-115);this.addItemToText(e.ConstantsApp.CURRENT_COMBO[2],e.ConstantsApp.STAGE_CENTER_X+100,e.ConstantsApp.STAGE_HEIGHT-45)},addItemToText:function(a,b,c){null==c&&(c=0);null==b&&(b=0);switch(a){case "Shocking":this._elementManager.addElement(new t.elements.TextAnimations({renderScaleX:1.3,x:b-75,y:c-30,startFrame:3,endFrame:11,itemToAdd:"game_shock_ani",layer:e.ConstantsApp.LAYER_FG}));break;case "Smelly":this._elementManager.addElement(new t.elements.TextAnimations({x:b+10,y:c,endFrame:29,itemToAdd:"game_dialogue_stink_ani",layer:e.ConstantsApp.LAYER_FG}));break;case "Scary":this._elementManager.addElement(new t.elements.TextAnimations({x:b+40,y:c-10,endFrame:6,itemToAdd:"game_dialogue_scary_ani",layer:e.ConstantsApp.LAYER_FG}));break;case "Glowing":this._elementManager.addElement(new t.elements.TextAnimations({renderScaleX:1.3,renderScaleY:1.1,x:b-80,y:c-30,endFrame:29,itemToAdd:"game_glow_ani",layer:e.ConstantsApp.LAYER_FG}));break;case "Slimy":this._elementManager.addElement(new t.elements.TextAnimations({renderScaleX:1,x:b-60,y:c+30,endFrame:0,itemToAdd:"game_dialogue_slime",layer:e.ConstantsApp.LAYER_FG}))}},makeCake:function(){this._elementManager.addElement(new t.elements.Cake({itemName:"CAKEEEEEE",x:100,y:100,layer:e.ConstantsApp.LAYER_FG,egg:this._potCombo[0],flavor:this._potCombo[1],frosting:this._potCombo[2]}))},levelTimerUpdate:function(a){this._levelTime-=a;0.5>=this._levelTime/this._maxLevelTime&&!1==this._patAnxious&&"idle"==this._pattrick.currentAnimation()&&(this._patAnxious=!0,this._pattrick.playAnimation("anxious",0));0>=this._levelTime&&!1==this._inGameOver&&(this._inGameOver=!0,g.WorkinCloud.instance.getDispatcher().dispatchEvent(new m.WMEventFlow(e.ConstantsScreen.FLOW_END_GAME_PLAY_AGAIN)))},nextLevel:function(){var a=this._levelTime/this._maxLevelTime;0.75<a?this._score+=1E3+10*this._level:0.5<a&&(this._score+=500+5*this._level);e.ConstantsApp.CURRENT_COMBO=[];this._levelTime=this._maxLevelTime*=0.95;this._level++;this.chooseCombo()},checkCombo:function(){var a=0;this._potCombo[0]==e.ConstantsApp.CURRENT_COMBO[0]?a++:this._wrongBubble.push(new p.Element({x:e.ConstantsApp.STAGE_CENTER_X-20,y:e.ConstantsApp.STAGE_HEIGHT-120,asset:"redEx",layer:e.ConstantsApp.LAYER_FG}));this._potCombo[1]==e.ConstantsApp.CURRENT_COMBO[1]?a++:this._wrongBubble.push(new p.Element({x:e.ConstantsApp.STAGE_CENTER_X+80,y:e.ConstantsApp.STAGE_HEIGHT-120,asset:"redEx",layer:e.ConstantsApp.LAYER_FG}));this._potCombo[2]==e.ConstantsApp.CURRENT_COMBO[2]?a++:this._wrongBubble.push(new p.Element({x:e.ConstantsApp.STAGE_CENTER_X+170,y:e.ConstantsApp.STAGE_HEIGHT-120,asset:"redEx",layer:e.ConstantsApp.LAYER_FG}));switch(a){case 1:this._score+=Math.round(100/this._tries);break;case 2:this._score+=Math.round(500/this._tries);break;case 3:this._score+=Math.round(1E3/this._tries)}if(3==a){for(;0<this._wrongBubble.length;)this._wrongBubble.splice(0,this._wrongBubble.length);return!0}return!1},chooseCombo:function(){e.ConstantsApp.CURRENT_COMBO.push(this._allEggsNames[r.random(5)]);e.ConstantsApp.CURRENT_COMBO.push(this._allFlavorsNames[r.random(5)]);e.ConstantsApp.CURRENT_COMBO.push(this._allFrostingsNames[r.random(5)]);null},removeShelfItems:function(a){for(var b=0,c=a.length;b<c;){var q=b++;this._elementManager.removeElement(a[q])}},addShelfItems:function(a){for(var b=0,c=a.length;b<c;){var q=b++;this._elementManager.addElement(a[q])}},_setState:function(a){this._state=a;switch(a){case this._STATE_EGG:this._allEggs=[];this._allEggs.push(new t.elements.ShelfItem({x:50,y:150,objW:50,objH:50,idName:e.ConstantsApp.shockingEggs,layer:e.ConstantsApp.LAYER_PLAYER,endFrame:42,shelfItem:"game_eggs_jelly_ani"}));this._allEggs.push(new t.elements.ShelfItem({x:150,y:120,objW:60,objH:60,idName:e.ConstantsApp.roundEggs,layer:e.ConstantsApp.LAYER_PLAYER,endFrame:15,shelfItem:"game_eggs_bowling_balls_ani"}));this._allEggs.push(new t.elements.ShelfItem({x:320,y:120,objW:50,objH:50,idName:e.ConstantsApp.glowingEggs,layer:e.ConstantsApp.LAYER_PLAYER,endFrame:29,shelfItem:"game_eggs_ghost_ani"}));this._allEggs.push(new t.elements.ShelfItem({x:90,y:250,objW:50,objH:50,idName:e.ConstantsApp.smellyEggs,layer:e.ConstantsApp.LAYER_PLAYER,endFrame:29,shelfItem:"game_eggs_skunk_ani"}));this._allEggs.push(new t.elements.ShelfItem({x:210,y:250,objW:60,objH:60,idName:e.ConstantsApp.aliveEggs,layer:e.ConstantsApp.LAYER_PLAYER,endFrame:129,shelfItem:"game_eggs_dinos_ani"}));this.addShelfItems(this._allEggs);this._Item1.setText(e.ConstantsApp.CURRENT_COMBO[0]);this._Item2.setText(e.ConstantsApp.CURRENT_COMBO[1]);this._Item3.setText(e.ConstantsApp.CURRENT_COMBO[2]);break;case this._STATE_FLAVOR:this._allFlavors=[];this._allFlavors.push(new t.elements.ShelfItem({x:50,y:90,objW:60,objH:60,idName:e.ConstantsApp.shockingFlavor,layer:e.ConstantsApp.LAYER_PLAYER,endFrame:149,shelfItem:"game_jellyfish_top"}));this._allFlavors.push(new t.elements.ShelfItem({x:150,y:120,objW:60,objH:60,idName:e.ConstantsApp.moldyFlavor,layer:e.ConstantsApp.LAYER_PLAYER,endFrame:59,shelfItem:"game_cheese_shelf_ani"}));this._allFlavors.push(new t.elements.ShelfItem({x:300,y:120,objW:60,objH:60,idName:e.ConstantsApp.softFlavor,layer:e.ConstantsApp.LAYER_PLAYER,endFrame:144,shelfItem:"game_kitty"}));this._allFlavors.push(new t.elements.ShelfItem({x:70,y:250,objW:60,objH:60,idName:e.ConstantsApp.smellyFlavor,layer:e.ConstantsApp.LAYER_PLAYER,endFrame:29,shelfItem:"game_sb_underwear"}));this._allFlavors.push(new t.elements.ShelfItem({x:220,y:250,objW:60,objH:60,idName:e.ConstantsApp.chompingFlavor,layer:e.ConstantsApp.LAYER_PLAYER,endFrame:12,shelfItem:"game_shelf_dentures_ani"}));this.addShelfItems(this._allFlavors);break;case this._STATE_FROSTING:this._allFrostings=[];this._allFrostings.push(new t.elements.ShelfItem({x:50,y:120,objW:60,objH:60,idName:e.ConstantsApp.shockingFrosting,layer:e.ConstantsApp.LAYER_PLAYER,endFrame:0,shelfItem:"game_shelf_frosting_jelly"}));this._allFrostings.push(new t.elements.ShelfItem({x:160,y:120,objW:60,objH:60,idName:e.ConstantsApp.brownFrosting,layer:e.ConstantsApp.LAYER_PLAYER,endFrame:0,shelfItem:"game_shelf_frosting_pudding"}));this._allFrostings.push(new t.elements.ShelfItem({x:270,y:120,objW:60,objH:60,idName:e.ConstantsApp.snailyFrosting,layer:e.ConstantsApp.LAYER_PLAYER,endFrame:0,shelfItem:"game_shelf_frosting_garyslime"}));this._allFrostings.push(new t.elements.ShelfItem({x:70,y:250,objW:60,objH:60,idName:e.ConstantsApp.smellyFrosting,layer:e.ConstantsApp.LAYER_PLAYER,endFrame:99,shelfItem:"game_shelf_frosting_toejam_ani"}));this._allFrostings.push(new t.elements.ShelfItem({x:220,y:250,objW:60,objH:60,idName:e.ConstantsApp.gooeyFrosting,layer:e.ConstantsApp.LAYER_PLAYER,endFrame:99,shelfItem:"game_shelf_frosting_eyeballs"}));this.addShelfItems(this._allFrostings);break;case this._STATE_NEXT_LEVEL:null}},dispose:function(){this._elementManager.dispose();this._timeline=this._elementManager=null;this._removeEventListeners();this._Item3=this._and=this._Item2=this._Item1=this._IWant=this._allFrostingsNames=this._allFlavorsNames=this._windowTime=this._speechBubble=this._wrongBubble=this._potCombo=this._allEggsNames=this._pattrick=this._spongebob=this._allFrostings=this._allFlavors=this._allEggs=this._mixingBowl=null;m.WMEventDispatcher.prototype.dispose.call(this)},__class__:t.World});t.elements={};t.elements.Cake=function(a){this._calledOnce=!1;this._cakeVelocityY=300;this._cakeVelocityX=1E3;this._tweenScaleFactor=0.35;this._tweenLength=0.65;this._pauseBeforeMoving=1.3;this.eggIng=this.flavorIng=this.frostingIng="";a.origin=new h.WorkinPoint(0.5,0.5);p.Element.call(this,a);this._render.scaleX=1.2;this._render.scaleY=1.2;this.eggIng=a.egg;this.flavorIng=a.flavor;this.frostingIng=a.frosting;this.createCakeEggs(this.eggIng);this.createCakeFlavors(this.flavorIng);this.createCakeFrostings(this.frostingIng);h.tween.WorkinTweener._getInstance().tween(this._render,1,{scaleX:1,scaleY:1}).ease(h.tween.PennerManager.EASE_BOUNCE_OUT)};k["com.nick.spongebob.cake_bake.world.elements.Cake"]=t.elements.Cake;t.elements.Cake.__name__="com,nick,spongebob,cake_bake,world,elements,Cake".split(",");t.elements.Cake.__super__=p.Element;t.elements.Cake.prototype=y(p.Element.prototype,{update:function(a){!1==this._doDelete&&(p.Element.prototype.update.call(this,a),this._pauseBeforeMoving-=a,0>=this._pauseBeforeMoving&&!1==this._calledOnce&&(this._calledOnce=!0,this._velocity.x=this._cakeVelocityX,this._velocity.y=this._cakeVelocityY,h.tween.WorkinTweener._getInstance().tween(this._render,this._tweenLength,{scaleX:this._tweenScaleFactor,scaleY:this._tweenScaleFactor}).ease(h.tween.PennerManager.EASE_QUAD).delay(0.05).onComplete(x(this,this._onScaleComplete))))},_onScaleComplete:function(){this._doDelete=!0},createCakeFrostings:function(a){var b="",c=-15;switch(a){case e.ConstantsApp.shockingFrosting:b="cake/frosting_shocking";break;case e.ConstantsApp.brownFrosting:b="cake/frosting_brown";break;case e.ConstantsApp.snailyFrosting:b="cake/frosting_snaily";c=-10;break;case e.ConstantsApp.smellyFrosting:b="cake/frosting_smelly";c=-25;break;case e.ConstantsApp.gooeyFrosting:b="cake/frosting_gooey"}a=new j.ImageSprite(g.WorkinCloud.instance.getAssets().getTexture(b));a.x.set__(0);a.y.set__(c);c=new K;c.add(a);this._textureEntity.addChild(c)},createCakeFlavors:function(a){var b="",c=5;switch(a){case e.ConstantsApp.shockingFlavor:b="cake/flavor_shocking";break;case e.ConstantsApp.moldyFlavor:b="cake/flavor_moldy";break;case e.ConstantsApp.softFlavor:b="cake/flavor_furry";c=-10;break;case e.ConstantsApp.smellyFlavor:b="cake/flavor_smelly";break;case e.ConstantsApp.chompingFlavor:b="cake/flavor_chomping"}a=new j.ImageSprite(g.WorkinCloud.instance.getAssets().getTexture(b));a.x.set__(c);a.y.set__(50);c=new K;c.add(a);this._textureEntity.addChild(c)},createCakeEggs:function(a){var b="",c=0;switch(a){case e.ConstantsApp.shockingEggs:b="cake/egg_shocking";break;case e.ConstantsApp.roundEggs:b="cake/egg_round";c=-10;break;case e.ConstantsApp.glowingEggs:b="cake/egg_glowing";c=-5;break;case e.ConstantsApp.smellyEggs:b="cake/egg_smelly";break;case e.ConstantsApp.aliveEggs:b="cake/egg_alive"}a=new j.ImageSprite(g.WorkinCloud.instance.getAssets().getTexture(b));a.x.set__(c);a.y.set__(0);c=new K;c.add(a);this._textureEntity.addChild(c)},__class__:t.elements.Cake});p.AnimatedElement=function(a){this._currentAnimation="";this._currentFrame=0;p.Element.call(this,a);this._animations=new H;this._lastFrame=-1;a.library&&(this._textureEntity.remove(this._texture),this._texture.dispose(),a=g.WorkinCloud.instance.getAssets().getLibrary(a.library)._symbols.get(a.movie),this._duration=a.duration,this._frames=a.frames,this._movie=a.createSprite(),this._movie.set_paused(!0),this._render.width=this._movie.getNaturalWidth(),this._render.height=this._movie.getNaturalHeight(),this._texture=this._movie,this._textureEntity.add(this._texture));this.setFPS(30)};k["com.workinman.display.AnimatedElement"]=p.AnimatedElement;p.AnimatedElement.__name__=["com","workinman","display","AnimatedElement"];p.AnimatedElement.__super__=p.Element;p.AnimatedElement.prototype=y(p.Element.prototype,{dispose:function(){this._animations=this._movie=null;p.Element.prototype.dispose.call(this)},_onAnimationComplete:function(){},update:function(a){p.Element.prototype.update.call(this,a);if(""!=this._currentAnimation&&(0<this._currentLoop||this._flagLoop))this._currentFrame+=this._fps*a,this._currentFrame>this._currentFrameList[1]&&(this._currentLoop--,1>this._currentLoop&&!1==this._flagLoop?this._onAnimationComplete(this._currentAnimation):this._currentFrame=this._currentFrameList[0]),null!=this._movie&&(this._currentFrame|0)!=this._lastFrame&&this._movie.set_position(Math.floor(this._currentFrame)/this._frames*this._duration),this._lastFrame=this._currentFrame|0},setFPS:function(a){this._fps=a},playAnimation:function(a,b){null==b&&(b=0);null!=this._animations&&(this._animations.exists(a)?(this._currentFrameList=null,this._currentFrameList=this._animations.get(a).slice(),this._currentFrame=this._currentFrameList[0],this._currentAnimation=a,this._currentLoop=b,this._flagLoop=0==b):g.WorkinCloud.instance.log("Animation not found: "+
a+" "+r.string(this._animations)))},addAnimation:function(a,b,c){this._animations.set(a,[b,c])},currentAnimation:function(){return this._currentAnimation},__class__:p.AnimatedElement});t.elements.LevelUpOverlay=function(a){a.type=e.ConstantsApp.TYPE_LEVEL;a.library="anim_transition";a.movie="LevelScreen";p.AnimatedElement.call(this,a);this.setRenderScale(1.2);this.tText=new j.TextSprite(g.WorkinCloud.instance.getAssets().getFont(a.font),"Level "+r.string(a.currLevel));this.tText.x.set__(e.ConstantsApp.STAGE_CENTER_X/2);this.tText.y.set__(e.ConstantsApp.STAGE_CENTER_Y/2);this.tEntity=new K;this.tEntity.add(this.tText);this._entity.addChild(this.tEntity);this.addAnimation("play",0,48);this.playAnimation("play",1);g.WorkinCloud.instance._getSound().playSound("audio/Sound_levelUp")};k["com.nick.spongebob.cake_bake.world.elements.LevelUpOverlay"]=t.elements.LevelUpOverlay;t.elements.LevelUpOverlay.__name__="com,nick,spongebob,cake_bake,world,elements,LevelUpOverlay".split(",");t.elements.LevelUpOverlay.__super__=p.AnimatedElement;t.elements.LevelUpOverlay.prototype=y(p.AnimatedElement.prototype,{dispose:function(){this.tText=this.tEntity=null;p.AnimatedElement.prototype.dispose.call(this)},update:function(a){p.AnimatedElement.prototype.update.call(this,a);var b=this.tText.y;b.set__(b._value+500*a);400<this.tText.y._value&&this.tText.y.set__(400)},_onAnimationComplete:function(){e.ConstantsApp.canShowRecipe=!0;this._setDoDelete(!0)},__class__:t.elements.LevelUpOverlay});t.elements.Pattrick=function(a){this.passLevel=this.finishedEating=!1;a.type=e.ConstantsApp.TYPE_SPONGEBOB;a.library="anim_patrick";a.movie="pat_anis";p.AnimatedElement.call(this,a);this.setRenderScale(1.5);this.addAnimation("idle",0,15);this.addAnimation("anxious",16,94);this.addAnimation("eating",127,182);this.addAnimation("eatingMouth",183,187);this.addAnimation("happy",188,240);this.addAnimation("sick",241,303);this.addAnimation("timer",304,354);this.playAnimation("idle",0)};k["com.nick.spongebob.cake_bake.world.elements.Pattrick"]=t.elements.Pattrick;t.elements.Pattrick.__name__="com,nick,spongebob,cake_bake,world,elements,Pattrick".split(",");t.elements.Pattrick.__super__=p.AnimatedElement;t.elements.Pattrick.prototype=y(p.AnimatedElement.prototype,{setPassLevel:function(a){this.passLevel=a},_onAnimationComplete:function(a){"eating"==a&&(this.playAnimation("eatingMouth",1),g.WorkinCloud.instance._getSound().playSound("audio/Sound_chomp"));"eatingMouth"==a&&(this.finishedEating=!0,!0==this.passLevel?(this.playAnimation("happy",1),g.WorkinCloud.instance._getSound().playSound("audio/Sound_patHappy"),g.WorkinCloud.instance._getSound().playSound("audio/Sound_clapping")):(this.playAnimation("sick",1),g.WorkinCloud.instance._getSound().playSound("audio/Sound_puke")));"happy"==a&&this.playAnimation("timer",1);if("timer"==a||"sick"==a)e.ConstantsApp.pattrickReady=!0,this.playAnimation("idle",0)},__class__:t.elements.Pattrick});t.elements.ShelfItem=function(a){this.scaleFactor=1.5;this._holdingDown=this.addToPot=!1;a.type=e.ConstantsApp.TYPE_SPONGEBOB;a.library="anim_player";a.origin=new h.WorkinPoint(0.5,0.5);a.movie=a.shelfItem;this.idType=a.idName;p.AnimatedElement.call(this,a);this._render.scaleX=0;this._render.scaleY=0;this.addAnimation("idle",0,a.endFrame);this._setState(1);this._originalXPos=this._pos.x;this._originalYPos=this._pos.y;this._objWidth=a.objW*this.scaleFactor;this._objHeight=a.objH*this.scaleFactor};k["com.nick.spongebob.cake_bake.world.elements.ShelfItem"]=t.elements.ShelfItem;t.elements.ShelfItem.__name__="com,nick,spongebob,cake_bake,world,elements,ShelfItem".split(",");t.elements.ShelfItem.__super__=p.AnimatedElement;t.elements.ShelfItem.prototype=y(p.AnimatedElement.prototype,{handlePointerInput:function(){this._pos.x-10<=g.WorkinCloud.instance.getInput()._getPointer()._getCurrentPos().x&&g.WorkinCloud.instance.getInput()._getPointer()._getCurrentPos().x<=this._pos.x+this._objWidth&&this._pos.y-10<=g.WorkinCloud.instance.getInput()._getPointer()._getCurrentPos().y&&g.WorkinCloud.instance.getInput()._getPointer()._getCurrentPos().y<=this._pos.y+this._objHeight&&1==g.WorkinCloud.instance.getInput()._getPointer()._getPhase()&&(this._holdingDown=!0,e.ConstantsApp.ITEM_IS_MOVING=!0,this._getEntity().parent.addChild(this._getEntity()));!0==this._holdingDown&&(this._pos.x=g.WorkinCloud.instance.getInput()._getPointer()._getCurrentPos().x,this._pos.y=g.WorkinCloud.instance.getInput()._getPointer()._getCurrentPos().y);0==g.WorkinCloud.instance.getInput()._getPointer()._getPhase()&&!0==this._holdingDown&&(this._holdingDown=!1,e.ConstantsApp.ITEM_IS_MOVING=!1,this.hitZoneTest(200,400,400,600)?this.addToPot=!0:(this._pos.x=this._originalXPos,this._pos.y=this._originalYPos))},hitZoneTest:function(a,b,c,q){return a<=g.WorkinCloud.instance.getInput()._getPointer()._getCurrentPos().x&&g.WorkinCloud.instance.getInput()._getPointer()._getCurrentPos().x<=b&&c<=g.WorkinCloud.instance.getInput()._getPointer()._getCurrentPos().y&&g.WorkinCloud.instance.getInput()._getPointer()._getCurrentPos().y<=q?!0:!1},_setState:function(a){switch(a){case 1:h.tween.WorkinTweener._getInstance().tween(this._render,1,{scaleX:1,scaleY:1}).ease(h.tween.PennerManager.EASE_BOUNCE_OUT);this._setState(2);break;case 2:this.playAnimation("idle",0)}},__class__:t.elements.ShelfItem});t.elements.Spongebob=function(a){a.type=e.ConstantsApp.TYPE_SPONGEBOB;a.library="anim_spongebob";a.movie="sb_anis";p.AnimatedElement.call(this,a);this.addAnimation("start",0,8);this.addAnimation("idle",9,52);this.addAnimation("stir",53,63);this.addAnimation("mix",64,111);this.addAnimation("tired",112,136);this.playAnimation("start",1)};k["com.nick.spongebob.cake_bake.world.elements.Spongebob"]=t.elements.Spongebob;t.elements.Spongebob.__name__="com,nick,spongebob,cake_bake,world,elements,Spongebob".split(",");t.elements.Spongebob.__super__=p.AnimatedElement;t.elements.Spongebob.prototype=y(p.AnimatedElement.prototype,{_onAnimationComplete:function(a){"start"==a&&this.playAnimation("idle",0);"mix"==a&&(e.ConstantsApp.MOVE_TO_LEVEL_CHECK=!0,e.ConstantsApp.startPatrickEating=!0,g.WorkinCloud.instance._getSound().playSound("audio/Sound_makeCake"),this.playAnimation("tired",3));"tired"==a&&this.playAnimation("idle",0);"stir"==a&&this.playAnimation("idle",0)},__class__:t.elements.Spongebob});t.elements.TextAnimations=function(a){this.doOnce=!1;a.type=e.ConstantsApp.TYPE_SHELFITEM;a.library="anim_player";a.movie=a.itemToAdd;p.AnimatedElement.call(this,a);a.renderScaleX&&(this._render.scaleX=a.renderScaleX);a.renderScaleY&&(this._render.scaleY=a.renderScaleY);a.startFrame?this.addAnimation("idle",a.startFrame,a.endFrame):this.addAnimation("idle",0,a.endFrame);this.playAnimation("idle",0)};k["com.nick.spongebob.cake_bake.world.elements.TextAnimations"]=t.elements.TextAnimations;t.elements.TextAnimations.__name__="com,nick,spongebob,cake_bake,world,elements,TextAnimations".split(",");t.elements.TextAnimations.__super__=p.AnimatedElement;t.elements.TextAnimations.prototype=y(p.AnimatedElement.prototype,{update:function(a){p.AnimatedElement.prototype.update.call(this,a);!1==e.ConstantsApp.recipeShowing&&!1==this.doOnce&&(this._setDoDelete(!0),this.doOnce=!0)},__class__:t.elements.TextAnimations});t.elements.WindowTimer=function(a){this.pauseTimer=!1;p.Element.call(this,a);this._currentTime=this._levelTime=a.levelTimer;this._darkSky=new j.ImageSprite(g.WorkinCloud.instance.getAssets().getTexture("window_sky_dark"));a=new K;a.add(this._darkSky);this._textureEntity.addChild(a);this._lightSky=new j.ImageSprite(g.WorkinCloud.instance.getAssets().getTexture("window_sky_light"));a=new K;a.add(this._lightSky);this._textureEntity.addChild(a);this._sun=new j.ImageSprite(g.WorkinCloud.instance.getAssets().getTexture("sun"));this._sun.anchorY.set__(this._sun.anchorY._value+
this._sun.getNaturalHeight()/2+6);this._sun.x.set__(100);this._sun.y.set__(250);(new K).add(this._sun);a=new j.ImageSprite(g.WorkinCloud.instance.getAssets().getTexture("testDot"));a.x.set__(this._sun.x._value);a.y.set__(this._sun.y._value);(new K).add(a)};k["com.nick.spongebob.cake_bake.world.elements.WindowTimer"]=t.elements.WindowTimer;t.elements.WindowTimer.__name__="com,nick,spongebob,cake_bake,world,elements,WindowTimer".split(",");t.elements.WindowTimer.__super__=p.Element;t.elements.WindowTimer.prototype=y(p.Element.prototype,{resetTimers:function(a){this._currentTime=this._levelTime=a;this._lightSky.alpha.set__(1)},update:function(a){!1==this.pauseTimer&&(p.Element.prototype.update.call(this,a),0<=this._currentTime/this._levelTime&&(this._lightSky.alpha.set__(this._currentTime/this._levelTime),this._sun.rotation.set__(270+(70-70*this._currentTime/this._levelTime)),this._currentTime-=a))},dispose:function(){this._sun=this._lightSky=this._darkSky=null;p.Element.prototype.dispose.call(this)},__class__:t.elements.WindowTimer});D=void 0;K=void 0;j=void 0;f=void 0;d=void 0;L=void 0;l=void 0;P=void 0;w=void 0;z=void 0;G=void 0;Z=void 0;A=void 0;F=void 0;A=void 0;ba=void 0;A=void 0;A=void 0;l={Disposable:function(){}};k["flambe.util.Disposable"]=l.Disposable;l.Disposable.__name__=["flambe","util","Disposable"];l.Disposable.prototype={__class__:l.Disposable};P=function(){};k["flambe.Component"]=P;P.__name__=["flambe","Component"];P.__interfaces__=[l.Disposable];P.prototype={_internal_init:function(a,b){this.owner=a;this.next=b},get_name:function(){return null},dispose:function(){null!=this.owner&&this.owner.remove(this)},onUpdate:function(){},onRemoved:function(){},onAdded:function(){},__class__:P};aa={ComponentUpdater:function(){this._paused=!1}};k["com.workinman.components.ComponentUpdater"]=aa.ComponentUpdater;aa.ComponentUpdater.__name__=["com","workinman","components","ComponentUpdater"];aa.ComponentUpdater.__super__=P;aa.ComponentUpdater.prototype=y(P.prototype,{setPaused:function(a){return this._paused=a},getPaused:function(){return this._paused},onUpdate:function(a){this._paused||g.WorkinCloud.instance.getDispatcher().dispatchEvent(new m.WMEventUpdate(a))},get_name:function(){return"ComponentUpdater_3"},__class__:aa.ComponentUpdater});J={ConstantsCloud:function(){}};k["com.workinman.data.ConstantsCloud"]=J.ConstantsCloud;J.ConstantsCloud.__name__=["com","workinman","data","ConstantsCloud"];J.ConstantsCloud.getIsAndroid=function(){return 0<=v.window.navigator.userAgent.indexOf("Linux; U; Android 4")};J.ConstantsCloud.getIsNabi=function(){var a=v.window.navigator.userAgent;return-1==a.indexOf("GT-N")&&-1!=a.indexOf("NABI")?!0:!1};p.ElementManager=function(a,b,c){this._timeline=a;this._layers=new H;this._elements=[];this._camera=new h.WorkinCamera(b,c)};k["com.workinman.display.ElementManager"]=p.ElementManager;p.ElementManager.__name__=["com","workinman","display","ElementManager"];p.ElementManager.prototype={renderElements:function(){for(var a=0,b=this._elements;a<b.length;){var c=b[a];++a;c.renderPosition(this._camera)}},updateElements:function(a){for(var b=this._elements.length;0<b;)b--,this._elements[b].update(a),this._elements[b]._getDoDelete()&&this.removeElementAtIndex(b)},removeElement:function(a){for(var b=this._elements.length;0<b;)if(b--,this._elements[b]==a){this.removeElementAtIndex(b);return}null},removeElementAtIndex:function(a){this._elements[a]._getEntity().parent.removeChild(this._elements[a]._getEntity());this._elements[a]._setDoDelete(!0);this._elements[a].dispose();this._elements.splice(a,1)},addElement:function(a){if(!1==this._layers.exists(a._getLayer()))return g.WorkinCloud.instance.log("[ElementManager](addElement) Trying to add element to non-existant layer '"+
a._getLayer()+"'!"),a;this._elements.push(a);this._layers.get(a._getLayer()).addChild(a._getEntity());return a},addLayer:function(a){if(this._layers.exists(a))this._timeline.removeChild(this._layers.get(a)),this._timeline.addChild(this._layers.get(a));else{var b=new K;this._timeline.addChild(b);this._layers.set(a,b)}},_getElements:function(){return this._elements},_getCamera:function(){return this._camera},dispose:function(){for(;0<this._elements.length;)this.removeElementAtIndex(this._elements.length-
1);this._elements=null;this._camera.dispose();this._camera=null;for(var a=this._layers.iterator();a.hasNext();)a.next().dispose();this._timeline=this._layers=null},__class__:p.ElementManager};p.Renderable=function(a,b){null==b&&(b=1);null==a&&(a=1);this.rotation=this.y=this.x=0;this.scaleY=this.scaleX=1;this.width=a;this.height=b;this.alpha=1;this.visible=!0};k["com.workinman.display.Renderable"]=p.Renderable;p.Renderable.__name__=["com","workinman","display","Renderable"];p.Renderable.prototype={__class__:p.Renderable};m.WMEvent=function(a){this._eventId=a};k["com.workinman.events.WMEvent"]=m.WMEvent;m.WMEvent.__name__=["com","workinman","events","WMEvent"];m.WMEvent.prototype={getEventId:function(){return this._eventId},__class__:m.WMEvent};m.WMEventData=function(a,b){m.WMEvent.call(this,a);this._data=b};k["com.workinman.events.WMEventData"]=m.WMEventData;m.WMEventData.__name__=["com","workinman","events","WMEventData"];m.WMEventData.__super__=m.WMEvent;m.WMEventData.prototype=y(m.WMEvent.prototype,{_getData:function(){return this._data},__class__:m.WMEventData});m._WMEventDispatcher={};m._WMEventDispatcher.WMEventTracker=function(){this._signalConnection=[];this._signal=new l.Signal1};k["com.workinman.events._WMEventDispatcher.WMEventTracker"]=m._WMEventDispatcher.WMEventTracker;m._WMEventDispatcher.WMEventTracker.__name__=["com","workinman","events","_WMEventDispatcher","WMEventTracker"];m._WMEventDispatcher.WMEventTracker.prototype={dispose:function(){this._signal=null;for(var a=0,b=this._signalConnection;a<b.length;){var c=b[a];++a;c.dispose()}this._signalConnection=null},isEmtpy:function(){return null==this._signal._head},dispatchEvent:function(a){this._signal.emit1(a)},removeEventListener:function(a){for(var b=this._signalConnection.length;0<b;)b--,M.compareMethods(this._signalConnection[b]._getListener(),a)&&(this._signalConnection[b].dispose(),this._signalConnection.splice(b,1))},addEventListener:function(a){this._signalConnection.push(new m._WMEventDispatcher.SignalTracker(a,this._signal.connect(a)))},__class__:m._WMEventDispatcher.WMEventTracker};m._WMEventDispatcher.SignalTracker=function(a,b){this._function=a;this._connection=b};k["com.workinman.events._WMEventDispatcher.SignalTracker"]=m._WMEventDispatcher.SignalTracker;m._WMEventDispatcher.SignalTracker.__name__=["com","workinman","events","_WMEventDispatcher","SignalTracker"];m._WMEventDispatcher.SignalTracker.prototype={_getListener:function(){return this._function},dispose:function(){this._function=null;this._connection.dispose();this._connection=null},__class__:m._WMEventDispatcher.SignalTracker};m.WMEventFlow=function(a,b){null==b&&(b=!1);this.flowId=a;this.targetScreen=b;m.WMEvent.call(this,m.WMEventFlow.EVENT_FLOW)};k["com.workinman.events.WMEventFlow"]=m.WMEventFlow;m.WMEventFlow.__name__=["com","workinman","events","WMEventFlow"];m.WMEventFlow.__super__=m.WMEvent;m.WMEventFlow.prototype=y(m.WMEvent.prototype,{__class__:m.WMEventFlow});m.WMEventInput=function(a,b,c,q){m.WMEvent.call(this,m.WMEventInput.EVENT_INPUT);this.phase=a;this.input=b;this.x=c;this.y=q};k["com.workinman.events.WMEventInput"]=m.WMEventInput;m.WMEventInput.__name__=["com","workinman","events","WMEventInput"];m.WMEventInput.__super__=m.WMEvent;m.WMEventInput.prototype=y(m.WMEvent.prototype,{__class__:m.WMEventInput});m.WMEventInterfaceChange=function(a,b,c){null==b&&(b="");this.flowId=a;this.screenId=b;null==c&&(c=new H);this.customData=c;m.WMEvent.call(this,m.WMEventInterfaceChange.EVENT_INTERFACE_OUTPUT)};k["com.workinman.events.WMEventInterfaceChange"]=m.WMEventInterfaceChange;m.WMEventInterfaceChange.__name__=["com","workinman","events","WMEventInterfaceChange"];m.WMEventInterfaceChange.__super__=m.WMEvent;m.WMEventInterfaceChange.prototype=y(m.WMEvent.prototype,{__class__:m.WMEventInterfaceChange});m.WMEventScreenOut=function(a,b){this.flowId=a;this.screenId=b;m.WMEvent.call(this,m.WMEventScreenOut.EVENT_SCREEN_OUTPUT)};k["com.workinman.events.WMEventScreenOut"]=m.WMEventScreenOut;m.WMEventScreenOut.__name__=["com","workinman","events","WMEventScreenOut"];m.WMEventScreenOut.__super__=m.WMEvent;m.WMEventScreenOut.prototype=y(m.WMEvent.prototype,{__class__:m.WMEventScreenOut});m.WMEventUpdate=function(a){m.WMEvent.call(this,m.WMEventUpdate.EVENT_UPDATE);this._dt=a};k["com.workinman.events.WMEventUpdate"]=m.WMEventUpdate;m.WMEventUpdate.__name__=["com","workinman","events","WMEventUpdate"];m.WMEventUpdate.__super__=m.WMEvent;m.WMEventUpdate.prototype=y(m.WMEvent.prototype,{getDt:function(){return this._dt},__class__:m.WMEventUpdate});h={};h.WorkinCamera=function(a,b){this._screenCenterX=a;this._screenCenterY=b;this._pos=new h.WorkinPoint(a,b)};k["com.workinman.math.WorkinCamera"]=h.WorkinCamera;h.WorkinCamera.__name__=["com","workinman","math","WorkinCamera"];h.WorkinCamera.prototype={_getScreenCenterY:function(){return this._screenCenterY},_getScreenCenterX:function(){return this._screenCenterX},_getPos:function(){return this._pos},dispose:function(){this._pos=null},__class__:h.WorkinCamera};h.WorkinLine=function(a,b){this._p0=a.copy();this._p1=b.copy();this._calcProperties()};k["com.workinman.math.WorkinLine"]=h.WorkinLine;h.WorkinLine.__name__=["com","workinman","math","WorkinLine"];h.WorkinLine.prototype={_calcProperties:function(){this._length=Math.round(1E3*Math.sqrt((this._p0.x-this._p1.x)*(this._p0.x-this._p1.x)+(this._p0.y-this._p1.y)*(this._p0.y-this._p1.y)))/1E3;this._vector=new h.WorkinPoint(this._getP1().x-this._getP0().x,this._getP1().y-this._getP0().y);this._slope=this._vector.y/this._vector.x;0==this._getVector().x&&(this._slope=1E5);this._yIntercept=this._getP0().y-
this._slope*this._getP0().x;this._parametricDenom=new h.WorkinPoint(this._getP1().x-this._getP0().x,this._getP1().y-this._getP0().y);this._normal=this._vector.pseudoCross();this._normal.normalize()},endToPoint:function(a){this._p1.toPoint(a);this._calcProperties()},to:function(a,b){this._p0.toPoint(a);this._p1.toPoint(b);this._calcProperties()},copy:function(){return new h.WorkinLine(this._p0,this._p1)},_setLength:function(a){if(0==this._getLength())return this._length;this._p1=new h.WorkinPoint(this._p0.x+
this._vector.x*(a/this._getLength()),this._p0.y+this._vector.y*(a/this._getLength()));this._calcProperties();return this._length},_getLength:function(){return this._length},_getParametricDenom:function(){return this._parametricDenom},_getCenterY:function(){return this._p0.y+this._vector.y/2},_getCenterX:function(){return this._p0.x+this._vector.x/2},_getCenter:function(){return new h.WorkinPoint(this._p0.x+this._vector.x/2,this._p0.y+this._vector.y/2)},_getVector:function(){return this._vector},_getNormal:function(){return this._normal},_getYIntercept:function(){return this._yIntercept},_getSlope:function(){return this._slope},_getP1:function(){return this._p1},_getP0:function(){return this._p0},__class__:h.WorkinLine};h.WorkinPoint=function(a,b,c){null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.x=Math.round(1E3*a)/1E3;this.y=Math.round(1E3*b)/1E3;this.z=Math.round(1E3*c)/1E3;this.calculateLength()};k["com.workinman.math.WorkinPoint"]=h.WorkinPoint;h.WorkinPoint.__name__=["com","workinman","math","WorkinPoint"];h.WorkinPoint.prototype={_getNormalizedMagnitude:function(){var a=this.normalizeCopy();return Math.sqrt(a.x*a.x+a.y*a.y)},calculateLength:function(){this._length=Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},pseudoCross:function(){return new h.WorkinPoint(this.y,-this.x,this.z)},normalizeCopy:function(){return 0==this._length?new h.WorkinPoint(0,0,0):new h.WorkinPoint(this.x/this._length,this.y/this._length,this.z/this._length)},normalize:function(){0!=this._length&&(this.x/=this._length,this.y/=this._length,this.z/=this._length,this.calculateLength())},_setLength:function(a){if(0==this._length||0>=a)return this.to(0,0),this._length;this.multiply(a/this._length);return this._length},_getLength:function(){return this._length},copy:function(){return new h.WorkinPoint(this.x,this.y,this.z)},multiply:function(a){this.x*=a;this.y*=a;this.z*=a;this.clean();this.calculateLength()},subtractPoint:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z;this.calculateLength()},toPoint:function(a){this.x=a.x;this.y=a.y;this.z=a.z;this.calculateLength()},to:function(a,b,c){null==c&&(c=0);this.x=a;this.y=b;this.z=c;this.calculateLength()},clean:function(){this.x=Math.round(1E3*this.x)/1E3;this.y=Math.round(1E3*this.y)/1E3;this.z=Math.round(1E3*this.z)/1E3},_getAngle:function(){return 180*Math.atan2(this.y,this.x)/Math.PI},__class__:h.WorkinPoint};h.tween={};h.tween.PennerEasing=function(){};k["com.workinman.math.tween.PennerEasing"]=h.tween.PennerEasing;h.tween.PennerEasing.__name__=["com","workinman","math","tween","PennerEasing"];h.tween.PennerEasing.easeInQuad=function(a,b,c,q){return c*(a/=q)*a+b};h.tween.PennerEasing.easeOutQuad=function(a,b,c,q){return-c*(a/=q)*(a-2)+b};h.tween.PennerEasing.easeInOutQuad=function(a,b,c,q){return 1>(a/=q/2)?c/2*a*a+b:-c/2*(--a*(a-2)-1)+b};h.tween.PennerEasing.easeInExpo=function(a,b,c,q){return 0==a?b:c*Math.pow(2,10*(a/q-1))+b};h.tween.PennerEasing.easeOutExpo=function(a,b,c,q){return a==q?b+c:c*(-Math.pow(2,-10*a/q)+1)+b};h.tween.PennerEasing.easeInOutExpo=function(a,b,c,q){return 0==a?b:a==q?b+c:1>(a/=q/2)?c/2*Math.pow(2,10*(a-1))+b:c/2*(-Math.pow(2,-10*--a)+2)+b};h.tween.PennerEasing.easeInElastic=function(a,b,c,q){return h.tween.PennerEasing.easeInElasticL(a,b,c,q)};h.tween.PennerEasing.easeInElasticL=function(a,b,c,q,d,e){null==e&&(e=-0.123456);null==d&&(d=-0.123456);if(0==a)return b;if(1==(a/=q))return b+c;-0.123456==e&&(e=0.3*q);-0.123456==d||d<Math.abs(c)?(d=c,c=e/4):c=e/(2*Math.PI)*Math.asin(c/d);return-(d*Math.pow(2,10*(a-=1))*Math.sin((a*q-c)*2*Math.PI/e))+b};h.tween.PennerEasing.easeOutElastic=function(a,b,c,d){return h.tween.PennerEasing.easeOutElasticL(a,b,c,d)};h.tween.PennerEasing.easeOutElasticL=function(a,b,c,d,e,f){null==f&&(f=-0.123456);null==e&&(e=-0.123456);var g;if(0==a)return b;if(1==(a/=d))return b+c;-0.123456==f&&(f=0.3*d);-0.123456==e||e<Math.abs(c)?(e=c,g=f/4):g=f/(2*Math.PI)*Math.asin(c/e);return e*Math.pow(2,-10*a)*Math.sin((a*d-g)*2*Math.PI/f)+c+b};h.tween.PennerEasing.easeInOutElastic=function(a,b,c,d){return h.tween.PennerEasing.easeInOutElasticL(a,b,c,d)};h.tween.PennerEasing.easeInOutElasticL=function(a,b,c,d,e,f){null==f&&(f=-0.123456);null==e&&(e=-0.123456);var g;if(0==a)return b;if(2==(a/=d/2))return b+c;-0.123456==f&&(f=d*0.3*1.5);-0.123456==e||e<Math.abs(c)?(e=c,g=f/4):g=f/(2*Math.PI)*Math.asin(c/e);return 1>a?-0.5*e*Math.pow(2,10*(a-=1))*Math.sin((a*d-g)*2*Math.PI/f)+b:0.5*e*Math.pow(2,-10*(a-=1))*Math.sin((a*d-g)*2*Math.PI/f)+c+b};h.tween.PennerEasing.easeInBack=function(a,b,c,d){return h.tween.PennerEasing.easeInBackL(a,b,c,d)};h.tween.PennerEasing.easeInBackL=function(a,b,c,d,e){null==e&&(e=-0.123456);-0.123456==e&&(e=1.70158);return c*(a/=d)*a*((e+1)*a-e)+b};h.tween.PennerEasing.easeInOutBack=function(a,b,c,d){return h.tween.PennerEasing.easeInOutBackL(a,b,c,d)};h.tween.PennerEasing.easeInOutBackL=function(a,b,c,d,e){null==e&&(e=-0.123456);-0.123456==e&&(e=1.70158);return 1>(a/=d/2)?c/2*a*a*(((e*=1.525)+1)*a-e)+b:c/2*((a-=2)*a*(((e*=1.525)+1)*a+e)+2)+b};h.tween.PennerEasing.easeOutBounce=function(a,b,c,d){return(a/=d)<1/2.75?c*7.5625*a*a+b:a<2/2.75?c*(7.5625*(a-=1.5/2.75)*a+0.75)+b:a<2.5/2.75?c*(7.5625*(a-=2.25/2.75)*a+0.9375)+b:c*(7.5625*(a-=2.625/2.75)*a+0.984375)+b};h.tween.PennerEasing.easeInBounce=function(a,b,c,d){return c-h.tween.PennerEasing.easeOutBounce(d-a,0,c,d)+b};h.tween.PennerEasing.easeInOutBounce=function(a,b,c,d){return a<d/2?0.5*h.tween.PennerEasing.easeInBounce(2*a,0,c,d)+b:0.5*h.tween.PennerEasing.easeOutBounce(2*a-d,0,c,d)+0.5*c+b};h.tween.PennerEasing.easeInCubic=function(a,b,c,d){return c*(a/=d)*a*a+b};h.tween.PennerEasing.easeOutCubic=function(a,b,c,d){return c*((a=a/d-1)*a*a+1)+b};h.tween.PennerEasing.easeInOutCubic=function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a+b:c/2*((a-=2)*a*a+2)+b};h.tween.PennerEasing.easeInQuart=function(a,b,c,d){return c*(a/=d)*a*a*a+b};h.tween.PennerEasing.easeOutQuart=function(a,b,c,d){return-c*((a=a/d-1)*a*a*a-1)+b};h.tween.PennerEasing.easeInOutQuart=function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a*a+b:-c/2*((a-=2)*a*a*a-2)+b};h.tween.PennerEasing.easeInQuint=function(a,b,c,d){return c*(a/=d)*a*a*a*a+b};h.tween.PennerEasing.easeOutQuint=function(a,b,c,d){return c*((a=a/d-1)*a*a*a*a+1)+b};h.tween.PennerEasing.easeInOutQuint=function(a,b,c,d){return 1>(a/=d/2)?c/2*a*a*a*a*a+b:c/2*((a-=2)*a*a*a*a+2)+b};h.tween.PennerEasing.easeInSine=function(a,b,c,d){return-c*Math.cos(a/d*(Math.PI/2))+c+b};h.tween.PennerEasing.easeOutSine=function(a,b,c,d){return c*Math.sin(a/d*(Math.PI/2))+b};h.tween.PennerEasing.easeInOutSine=function(a,b,c,d){return-c/2*(Math.cos(Math.PI*a/d)-1)+b};h.tween.PennerEasing.easeInCirc=function(a,b,c,d){return-c*(Math.sqrt(1-(a/=d)*a)-1)+b};h.tween.PennerEasing.easeOutCirc=function(a,b,c,d){return c*Math.sqrt(1-(a=a/d-1)*a)+b};h.tween.PennerEasing.easeInOutCirc=function(a,b,c,d){return 1>(a/=d/2)?-c/2*(Math.sqrt(1-a*a)-1)+b:c/2*(Math.sqrt(1-(a-=2)*a)+1)+b};h.tween.PennerManager=function(){};k["com.workinman.math.tween.PennerManager"]=h.tween.PennerManager;h.tween.PennerManager.__name__=["com","workinman","math","tween","PennerManager"];h.tween.PennerManager.getEaseFunction=function(a){switch(a){case h.tween.PennerManager.EASE_IN:case h.tween.PennerManager.EASE_QUAD_IN:return h.tween.PennerManager._tweenEaseIn;case h.tween.PennerManager.EASE_OUT:case h.tween.PennerManager.EASE_QUAD_OUT:return h.tween.PennerManager._tweenEaseOut;case h.tween.PennerManager.EASE:case h.tween.PennerManager.EASE_QUAD:return h.tween.PennerManager._tweenEaseBoth;case h.tween.PennerManager.EASE_EXPO:return h.tween.PennerManager._tweenExpoBoth;case h.tween.PennerManager.EASE_EXPO_IN:return h.tween.PennerManager._tweenExpoIn;case h.tween.PennerManager.EASE_EXPO_OUT:return h.tween.PennerManager._tweenExpoOut;case h.tween.PennerManager.EASE_ELASTIC:return h.tween.PennerManager._tweenElasticBoth;case h.tween.PennerManager.EASE_ELASTIC_IN:return h.tween.PennerManager._tweenElasticIn;case h.tween.PennerManager.EASE_ELASTIC_OUT:return h.tween.PennerManager._tweenElasticOut;case h.tween.PennerManager.EASE_BUMP:return h.tween.PennerManager._tweenBumpBoth;case h.tween.PennerManager.EASE_BUMP_IN:return h.tween.PennerManager._tweenBumpIn;case h.tween.PennerManager.EASE_BUMP_OUT:return h.tween.PennerManager._tweenBumpBoth;case h.tween.PennerManager.EASE_BOUNCE:return h.tween.PennerManager._tweenBounceBoth;case h.tween.PennerManager.EASE_BOUNCE_IN:return h.tween.PennerManager._tweenBounceIn;case h.tween.PennerManager.EASE_BOUNCE_OUT:return h.tween.PennerManager._tweenBounceOut;case h.tween.PennerManager.EASE_CUBIC:return h.tween.PennerManager._tweenCubicBoth;case h.tween.PennerManager.EASE_CUBIC_IN:return h.tween.PennerManager._tweenCubicIn;case h.tween.PennerManager.EASE_CUBIC_OUT:return h.tween.PennerManager._tweenCubicOut;case h.tween.PennerManager.EASE_SPACE:return h.tween.PennerManager._tweenSpaceBoth;case h.tween.PennerManager.EASE_SPACE_IN:return h.tween.PennerManager._tweenSpaceIn;case h.tween.PennerManager.EASE_SPACE_OUT:return h.tween.PennerManager._tweenSpaceOut;case h.tween.PennerManager.EASE_BLAST:return h.tween.PennerManager._tweenBlastBoth;case h.tween.PennerManager.EASE_BLAST_IN:return h.tween.PennerManager._tweenBlastIn;case h.tween.PennerManager.EASE_BLAST_OUT:return h.tween.PennerManager._tweenBlastOut;case h.tween.PennerManager.EASE_WAVE:return h.tween.PennerManager._tweenWaveBoth;case h.tween.PennerManager.EASE_WAVE_IN:return h.tween.PennerManager._tweenWaveIn;case h.tween.PennerManager.EASE_WAVE_OUT:return h.tween.PennerManager._tweenWaveOut;case h.tween.PennerManager.EASE_CIRCLE:return h.tween.PennerManager._tweenCircleBoth;case h.tween.PennerManager.EASE_CIRCLE_IN:return h.tween.PennerManager._tweenCircleIn;case h.tween.PennerManager.EASE_CIRCLE_OUT:return h.tween.PennerManager._tweenCircleOut;case h.tween.PennerManager.EASE_LINEAR:return h.tween.PennerManager._tweenLinear;default:return h.tween.PennerManager._tweenLinear}};h.tween.PennerManager._tweenLinear=function(a,b,c,d){return a+c/d*b};h.tween.PennerManager._tweenEaseBoth=function(a,b,c,d){return h.tween.PennerEasing.easeInOutQuad(c,a,b,d)};h.tween.PennerManager._tweenEaseIn=function(a,b,c,d){return h.tween.PennerEasing.easeInQuad(c,a,b,d)};h.tween.PennerManager._tweenEaseOut=function(a,b,c,d){return h.tween.PennerEasing.easeOutQuad(c,a,b,d)};h.tween.PennerManager._tweenExpoBoth=function(a,b,c,d){return h.tween.PennerEasing.easeInOutExpo(c,a,b,d)};h.tween.PennerManager._tweenExpoIn=function(a,b,c,d){return h.tween.PennerEasing.easeInExpo(c,a,b,d)};h.tween.PennerManager._tweenExpoOut=function(a,b,c,d){return h.tween.PennerEasing.easeOutExpo(c,a,b,d)};h.tween.PennerManager._tweenElasticBoth=function(a,b,c,d){return h.tween.PennerEasing.easeInOutElastic(c,a,b,d)};h.tween.PennerManager._tweenElasticIn=function(a,b,c,d){return h.tween.PennerEasing.easeInElastic(c,a,b,d)};h.tween.PennerManager._tweenElasticOut=function(a,b,c,d){return h.tween.PennerEasing.easeOutElastic(c,a,b,d)};h.tween.PennerManager._tweenBumpBoth=function(a,b,c,d){return h.tween.PennerEasing.easeInOutBack(c,a,b,d)};h.tween.PennerManager._tweenBumpIn=function(a,b,c,d){return h.tween.PennerEasing.easeInBack(c,a,b,d)};h.tween.PennerManager._tweenBounceBoth=function(a,b,c,d){return h.tween.PennerEasing.easeInOutBounce(c,a,b,d)};h.tween.PennerManager._tweenBounceIn=function(a,b,c,d){return h.tween.PennerEasing.easeInBounce(c,a,b,d)};h.tween.PennerManager._tweenBounceOut=function(a,b,c,d){return h.tween.PennerEasing.easeOutBounce(c,a,b,d)};h.tween.PennerManager._tweenCubicBoth=function(a,b,c,d){return h.tween.PennerEasing.easeInOutCubic(c,a,b,d)};h.tween.PennerManager._tweenCubicIn=function(a,b,c,d){return h.tween.PennerEasing.easeInCubic(c,a,b,d)};h.tween.PennerManager._tweenCubicOut=function(a,b,c,d){return h.tween.PennerEasing.easeOutCubic(c,a,b,d)};h.tween.PennerManager._tweenSpaceBoth=function(a,b,c,d){return h.tween.PennerEasing.easeInOutQuart(c,a,b,d)};h.tween.PennerManager._tweenSpaceIn=function(a,b,c,d){return h.tween.PennerEasing.easeInQuart(c,a,b,d)};h.tween.PennerManager._tweenSpaceOut=function(a,b,c,d){return h.tween.PennerEasing.easeOutQuart(c,a,b,d)};h.tween.PennerManager._tweenBlastBoth=function(a,b,c,d){return h.tween.PennerEasing.easeInOutQuint(c,a,b,d)};h.tween.PennerManager._tweenBlastIn=function(a,b,c,d){return h.tween.PennerEasing.easeInQuint(c,a,b,d)};h.tween.PennerManager._tweenBlastOut=function(a,b,c,d){return h.tween.PennerEasing.easeOutQuint(c,a,b,d)};h.tween.PennerManager._tweenWaveBoth=function(a,b,c,d){return h.tween.PennerEasing.easeInOutSine(c,a,b,d)};h.tween.PennerManager._tweenWaveIn=function(a,b,c,d){return h.tween.PennerEasing.easeInSine(c,a,b,d)};h.tween.PennerManager._tweenWaveOut=function(a,b,c,d){return h.tween.PennerEasing.easeOutSine(c,a,b,d)};h.tween.PennerManager._tweenCircleBoth=function(a,b,c,d){return h.tween.PennerEasing.easeInOutCirc(c,a,b,d)};h.tween.PennerManager._tweenCircleIn=function(a,b,c,d){return h.tween.PennerEasing.easeInCirc(c,a,b,d)};h.tween.PennerManager._tweenCircleOut=function(a,b,c,d){return h.tween.PennerEasing.easeOutCirc(c,a,b,d)};h.tween.WorkinTweener=function(){this._targets=[]};k["com.workinman.math.tween.WorkinTweener"]=h.tween.WorkinTweener;h.tween.WorkinTweener.__name__=["com","workinman","math","tween","WorkinTweener"];h.tween.WorkinTweener._getInstance=function(){null==h.tween.WorkinTweener._instance&&(h.tween.WorkinTweener._instance=new h.tween.WorkinTweener);return h.tween.WorkinTweener._instance};h.tween.WorkinTweener.prototype={tween:function(a,b,c,d){null==d&&(d=!1);for(var b=new h.tween._WorkinTweener.WorkinTweenDef(a,b,c),c=!1,e=0,f=this._targets;e<f.length;){var g=f[e];++e;g._getTarget()==a&&(c=!0,d&&g.clearTweens(),g.addTween(b))}!1==c&&(a=new h.tween._WorkinTweener.WorkinTweenTracker(a),this._targets.push(a),a.addTween(b));return b},update:function(a){for(var b=this._targets.length;0<b;)b--,this._targets[b].update(a),this._targets[b]._getIsComplete()&&(this._targets[b].dispose(),this._targets.splice(b,1))},__class__:h.tween.WorkinTweener};h.tween._WorkinTweener={};h.tween._WorkinTweener.WorkinTweenTracker=function(a){this._target=a;this._tweens=[];this._isComplete=!1};k["com.workinman.math.tween._WorkinTweener.WorkinTweenTracker"]=h.tween._WorkinTweener.WorkinTweenTracker;h.tween._WorkinTweener.WorkinTweenTracker.__name__="com,workinman,math,tween,_WorkinTweener,WorkinTweenTracker".split(",");h.tween._WorkinTweener.WorkinTweenTracker.prototype={addTween:function(a){this._tweens.push(a)},clearTweens:function(){for(var a=0,b=this._tweens;a<b.length;){var c=b[a];++a;c._setIsComplete(!0)}},_setIsComplete:function(a){return this._isComplete=a},_getIsComplete:function(){return this._isComplete},_getTarget:function(){return this._target},update:function(a){for(var b=this._tweens.length;0<b;)b--,this._tweens[b].update(a),this._tweens[b]._getIsComplete()&&(this._tweens[b].dispose(),this._tweens.splice(b,1));1>this._tweens.length&&(this._isComplete=!0)},dispose:function(){this._target=null;for(var a=0,b=this._tweens;a<b.length;){var c=b[a];++a;c.dispose()}this._tweens=null},__class__:h.tween._WorkinTweener.WorkinTweenTracker};h.tween._WorkinTweener.WorkinTweenDef=function(a,b,c){this._target=a;this._duration=b;this._delay=0;this._dest=c;this._easeFunction=h.tween.PennerManager.getEaseFunction(h.tween.PennerManager.EASE_LINEAR);this._isComplete=!1;this._completionArgs=this._completionHandler=null;this._progress=0;this._origin={};a=0;for(b=M.fields(this._dest);a<b.length;)c=b[a],++a,null!=M.field(this._target,c)&&(this._origin[c]=M.field(this._target,c))};k["com.workinman.math.tween._WorkinTweener.WorkinTweenDef"]=h.tween._WorkinTweener.WorkinTweenDef;h.tween._WorkinTweener.WorkinTweenDef.__name__="com,workinman,math,tween,_WorkinTweener,WorkinTweenDef".split(",");h.tween._WorkinTweener.WorkinTweenDef.prototype={onComplete:function(a,b){null==b&&(b=[]);this._completionHandler=a;this._completionArgs=b;return this},ease:function(a){this._easeFunction=h.tween.PennerManager.getEaseFunction(a);return this},delay:function(a){this._delay=a;return this},_setIsComplete:function(a){return this._isComplete=a},_getIsComplete:function(){return this._isComplete},update:function(a){if(0<this._delay&&(this._delay-=a,0<this._delay))return;this._progress+=a;this._progress>this._duration&&(this._progress=this._duration);for(var b=0,c=M.fields(this._dest);b<c.length;){var d=c[b];++b;a=M.field(this._dest,d)-M.field(this._origin,d);this._target[d]=this._easeFunction(M.field(this._origin,d),a,this._progress,this._duration)}this._progress>=this._duration&&(null!=this._completionHandler&&this._completionHandler.apply(this._completionHandler,this._completionArgs),this._isComplete=!0)},dispose:function(){this._dest=this._target=this._origin=null},__class__:h.tween._WorkinTweener.WorkinTweenDef};R={WMSharedObject:function(){m.WMEventDispatcher.call(this);this._data={};this.sharedKey=""}};k["com.workinman.net.WMSharedObject"]=R.WMSharedObject;R.WMSharedObject.__name__=["com","workinman","net","WMSharedObject"];R.WMSharedObject.getLocalStorage=function(){return v.window.localStorage};R.WMSharedObject.getLocal=function(a,b){var c=v.window.location.href;null==b&&(b=c);c=new R.WMSharedObject;c.sharedKey=b+":"+a;var d=R.WMSharedObject.getLocalStorage().getItem(c.sharedKey);c._setData(""==d||null==d?{}:Q.run(d));return c};R.WMSharedObject.__super__=m.WMEventDispatcher;R.WMSharedObject.prototype=y(m.WMEventDispatcher.prototype,{flush:function(){var a=T.run(this._getData());R.WMSharedObject.getLocalStorage().setItem(this.sharedKey,a);return R.SharedObjectFlushedStatus.FLUSHED},_setData:function(a){return this._data=a},_getData:function(){return this._data},dispose:function(){this._data=null;m.WMEventDispatcher.prototype.dispose.call(this)},__class__:R.WMSharedObject});R.SharedObjectFlushedStatus=function(){};k["com.workinman.net.SharedObjectFlushedStatus"]=R.SharedObjectFlushedStatus;R.SharedObjectFlushedStatus.__name__=["com","workinman","net","SharedObjectFlushedStatus"];s={ServiceAnalytics:function(){}};k["com.workinman.services.ServiceAnalytics"]=s.ServiceAnalytics;s.ServiceAnalytics.__name__=["com","workinman","services","ServiceAnalytics"];s.ServiceAnalytics.onAnalyticsLoad=function(){s.ServiceAnalytics._flagLoaded||(g.WorkinCloud.instance.log("[ServiceAnalytics](onAnalyticsLoad) Load complete"),s.ServiceAnalytics._flagLoaded=!0,U.delay(s.ServiceAnalytics._runQueuedCommands,1E3))};s.ServiceAnalytics.init=function(a,b){null==b&&(b="");s.ServiceAnalytics._flagInitted=!0;s.ServiceAnalytics._queuedCommands=[];"x"==a.toLowerCase()&&(s.ServiceAnalytics.OPTION_ENABLE_TRACKING=!1);s.ServiceAnalytics.OPTION_ENABLE_TRACKING&&(""==b&&(b=s.ServiceAnalytics._DEFAULT_SHARED_OBJECT_ID),s.ServiceAnalytics._flagStarted=!1,g.WorkinCloud.instance.log("[ServiceAnalytics](initAnalytics)"),s.ServiceAnalytics._appId=a,s.ServiceAnalytics._sharedObjectId=b,s.ServiceAnalytics._sharedObjectData=g.WorkinCloud.instance.sharedObjectGetData(s.ServiceAnalytics._sharedObjectId),s.ServiceAnalytics._generateSessionID(),null==s.ServiceAnalytics._sharedObjectData.userID||14>r.string(s.ServiceAnalytics._sharedObjectData.userID).length?(s.ServiceAnalytics._generateOfflineIDs(),s.ServiceAnalytics._sharedObjectData.userID=s.ServiceAnalytics._offlineUserId,s.ServiceAnalytics._sharedObjectData.trackingID=s.ServiceAnalytics._offlineTrackingId,g.WorkinCloud.instance.sharedObjectSetData(s.ServiceAnalytics._sharedObjectId,s.ServiceAnalytics._sharedObjectData)):(s.ServiceAnalytics._offlineUserId=s.ServiceAnalytics._sharedObjectData.userID,s.ServiceAnalytics._offlineTrackingId=s.ServiceAnalytics._sharedObjectData.trackingID),eval("\t\t\t\t\n\t\t\t\twindow._pnConfig = new Array();\n\t\t\t\twindow._pnConfig['userId'] = '"+s.ServiceAnalytics._offlineUserId+"';\n\t\t\t\t\n\t\t\t\tvar _pnAPIURL = document.location.protocol + '//js.a.playnomics.net/v1/api?a="+
s.ServiceAnalytics._appId+"';\n\t\t\t\tvar _pnAPI = document.createElement('script');\t\t\t\t\n\t\t\t\t_pnAPI.type = 'text/javascript'; \n\t\t\t\t_pnAPI.async = false; \n\t\t\t\t_pnAPI.src = _pnAPIURL;\n\t\t\t\twindow.pnCallbackReference = _pnAPI;\t\t\t\t\n\t\t\t"),eval("window.pnCallbackReference").addEventListener("load",s.ServiceAnalytics.onAnalyticsLoad,!1),eval("document.body.appendChild(window.pnCallbackReference);"),s.ServiceAnalytics.sendUserInfo(),s.ServiceAnalytics.sendMilestone("custom1"))};s.ServiceAnalytics._runQueuedCommands=function(){for(;0<s.ServiceAnalytics._queuedCommands.length;)s.ServiceAnalytics.sendPlaynomicsEvent(s.ServiceAnalytics._queuedCommands[0].method,s.ServiceAnalytics._queuedCommands[0].params),s.ServiceAnalytics._queuedCommands.shift()};s.ServiceAnalytics.start=function(){};s.ServiceAnalytics.sendUserInfo=function(){s.ServiceAnalytics.sendPlaynomicsEvent("pnUserInfo",["update",null,null,"","","html5"])};s.ServiceAnalytics.sendMilestone=function(a){s.ServiceAnalytics.sendPlaynomicsEvent("pnMilestone",[r.string(Math.floor(6012+999999999*Math.random())),a])};s.ServiceAnalytics.sendPlaynomicsEvent=function(a,b){if(s.ServiceAnalytics.OPTION_ENABLE_TRACKING&&s.ServiceAnalytics._flagInitted)if(s.ServiceAnalytics._flagLoaded){g.WorkinCloud.instance.log("[ServiceAnalytics](sendPlaynomicsEvent) "+a);var c,d="";for(c=0;c<b.length;)d+="'"+b[c]+"'",c++,c<b.length&&(d+=",");eval(a+"("+d+")")}else s.ServiceAnalytics._queuedCommands.push({method:a,params:b})};s.ServiceAnalytics._generateSessionID=function(){for(var a="",b=11;-1<b;)a+=Math.floor(10*Math.random()),b--;s.ServiceAnalytics._sessionId=a};s.ServiceAnalytics._generateOfflineIDs=function(){s.ServiceAnalytics._offlineUserId="";s.ServiceAnalytics._offlineTrackingId="";for(var a=15;-1<a;){if(0.66>Math.random())s.ServiceAnalytics._offlineUserId+=r.string(Math.floor(10*Math.random()));else switch(Math.floor(10*Math.random())){case 0:s.ServiceAnalytics._offlineUserId+="a";break;case 1:s.ServiceAnalytics._offlineUserId+="b";break;case 2:s.ServiceAnalytics._offlineUserId+="c";break;case 3:s.ServiceAnalytics._offlineUserId+="d";break;case 4:s.ServiceAnalytics._offlineUserId+="e";break;case 5:s.ServiceAnalytics._offlineUserId+="f";break;case 6:s.ServiceAnalytics._offlineUserId+="g";break;case 7:s.ServiceAnalytics._offlineUserId+="h";break;case 8:s.ServiceAnalytics._offlineUserId+="i";break;case 9:s.ServiceAnalytics._offlineUserId+="j";break;default:s.ServiceAnalytics._offlineUserId+="z"}a--}s.ServiceAnalytics._offlineTrackingId="";for(a=15;-1<a;)s.ServiceAnalytics._offlineTrackingId+=Math.floor(10*Math.random()),a--};s.ServiceAnalytics.prototype={__class__:s.ServiceAnalytics};g={JSEmbedProxy:function(){}};k["com.workinman.utils.JSEmbedProxy"]=g.JSEmbedProxy;g.JSEmbedProxy.__name__=["com","workinman","utils","JSEmbedProxy"];g.JSEmbedProxy.alertOn=function(a){g.JSEmbedProxy.callJSEmbedMethod("addAlert('"+a+"', '')")};g.JSEmbedProxy.alertOff=function(){g.JSEmbedProxy.callJSEmbedMethod("removeAlert('')")};g.JSEmbedProxy.getExists=function(){return g.JSEmbedProxy.callJSEmbedMethod("exists()")};g.JSEmbedProxy.getParameters=function(){return g.JSEmbedProxy.callJSEmbedMethod("params()")};g.JSEmbedProxy.getAttributes=function(){return g.JSEmbedProxy.callJSEmbedMethod("attr()")};g.JSEmbedProxy.getBase=function(){return g.JSEmbedProxy.callJSEmbedMethod("baseUrl()")};g.JSEmbedProxy.getIsCrossdomain=function(){return g.JSEmbedProxy.callJSEmbedMethod("isBaseCrossdomain()")};g.JSEmbedProxy.getCanvasScale=function(){return r.parseFloat(g.JSEmbedProxy.callJSEmbedMethod("canvasScale()"))};g.JSEmbedProxy.getCanvasWidth=function(){return r.parseFloat(g.JSEmbedProxy.callJSEmbedMethod("canvasWidth()"))};g.JSEmbedProxy.getCanvasHeight=function(){return r.parseFloat(g.JSEmbedProxy.callJSEmbedMethod("canvasHeight()"))};g.JSEmbedProxy.getIsPaused=function(){return g.JSEmbedProxy.callJSEmbedMethod("isPaused()")};g.JSEmbedProxy.pause=function(){g.JSEmbedProxy.callJSEmbedMethod("pause()")};g.JSEmbedProxy.unpause=function(){g.JSEmbedProxy.callJSEmbedMethod("unpause()")};g.JSEmbedProxy.callJSEmbedMethod=function(a){try{var b=eval("jsembed."+a);return null==b?"":b}catch(c){}return""};g.JSEmbedProxy.prototype={__class__:g.JSEmbedProxy};g.WMAssetManager=function(){this._LOADING_CHANCES=3;this._baseUrl="";this._assets=new H;this._defs=new H;this._flump=new H;this._packs=new H;this._chunks=new H;this._manifests=new H;this._flagBaseIsCrossdomain=!1;this._loadingProgress=this._loadingTotal=this._packsLoaded=this._packsMax=this._loadingChances=0;this._loadingPackProgress=new H};k["com.workinman.utils.WMAssetManager"]=g.WMAssetManager;g.WMAssetManager.__name__=["com","workinman","utils","WMAssetManager"];g.WMAssetManager.prototype={getFont:function(a){return!1==this._assets.exists(a)?(g.WorkinCloud.instance.log("[WMAssetManager](getFont) no asset named "+a+" exists! Returning null."),null):new j.Font(this._assets.get(a)._getPack(),a)},getLibrary:function(a){return!1==this._flump.exists(a)?(g.WorkinCloud.instance.log("[WMAssetManager](getLibrary) no library named "+a+" exists! Is it defined in config.xml?"),null):this._flump.get(a)},getSound:function(a){return!1==this._assets.exists(a)?(g.WorkinCloud.instance.log("[AssetManager](getSound) no asset named "+a+" exists! Returning null."),null):this._assets.get(a)._getConstructed()?this._assets.get(a)._getData():this._assets.get(a)._getPack().getSound(this._assets.get(a)._getPath(),!0)},getXML:function(a){if(!1==this._assets.exists(a))return g.WorkinCloud.instance.log("[WMAssetManager](getXML) no asset named "+a+" exists! Returning null."),null;a=u.parse(this.getFile(a));return new C.Fast(a.firstElement())},getFile:function(a){return!1==this._assets.exists(a)?(g.WorkinCloud.instance.log("[WMAssetManager](getFile) no asset named "+a+" exists! Returning empty string."),""):this._assets.get(a)._getConstructed()?this._assets.get(a)._getData():this._assets.get(a)._getPack().getFile(this._assets.get(a)._getPath(),!0)},getTexture:function(a){a=a.split(".")[0];return!1==this._assets.exists(a)?(g.WorkinCloud.instance.log("[WMAssetManager](getTexture) no asset named "+a+" exists! Returning null."),null):!0==this._assets.get(a)._getConstructed()?this._assets.get(a)._getData():this._assets.get(a)._getPack().getTexture(this._assets.get(a)._getPath(),!0)},hasAsset:function(a){return this._assets.exists(a)},_parseSpritesheet:function(a){for(var b=this.getXML(a+".xml"),a=this.getTexture(a),c="",d=new L.Rectangle(0,0,0,0),e,b=b.nodes.resolve("SubTexture").iterator();b.hasNext();)e=b.next(),c=e.att.resolve("name").toString(),d.x=r.parseFloat(e.att.resolve("x").toString()),d.y=r.parseFloat(e.att.resolve("y").toString()),d.width=r.parseFloat(e.att.resolve("width").toString()),d.height=r.parseFloat(e.att.resolve("height").toString()),e=D.createTexture(d.width|0,d.height|0),e.get_graphics().drawSubImage(a,0,0,d.x|0,d.y|0,d.width|0,d.height|0),this.addConstructedAsset(c,e)},_onAllLoadComplete:function(){g.WorkinCloud.instance.log("[WMAssetManager](_onAllLoadComplete) all packs loaded!");g.WorkinCloud.instance.getDispatcher().dispatchEvent(new m.WMEvent(J.ConstantsCloud.EVENT_FILES_LOADED))},addConstructedAsset:function(a,b){new g._WMAssetManager.AssetDef(a,this._assets,b)},addPack:function(a){for(var b=B.iter(a.get_manifest()._entries);b.hasNext();){var c=b.next();new g._WMAssetManager.AssetDef(c.name,this._assets,a)}},isPackLoaded:function(a){return this._packs.exists(a)},_loadManifest:function(a,b,c,d){null==d&&(d=!0);null==c&&(c="");var e=this,f=D._platform.loadAssetPack(a);this._loadingTotal+=f._total;this._loadingPackProgress.set(b,0);f.error.connect(function(a){g.WorkinCloud.instance.log("[WMAssetManager](_onLoadingError) Loading failed with error: "+a);g.WorkinCloud.instance.getDispatcher().dispatchEvent(new m.WMEvent(J.ConstantsCloud.EVENT_FILES_ERROR));e._loadingChances--;!0==d?0<=e._loadingChances?U.delay(function(){g.WorkinCloud.instance.log("[WMAssetManager](_onLoadingError) Retrying. With "+e._loadingChances+" more chances.");e.loadPack(b,c,!1)},500):g.WorkinCloud.instance.log("[WMAssetManager](_onLoadingError) Loading attempts timed out."):g.WorkinCloud.instance.log("[WMAssetManager](_onLoadingError) Loading failed, not attempting to retry.")});f.progressChanged.connect(function(){var a=f._progress-e._loadingPackProgress.get(b);e._loadingPackProgress.set(b,f._progress);e._loadingProgress+=a;a=Math.round(100*(e._loadingProgress/e._loadingTotal));g.WorkinCloud.instance.getDispatcher().dispatchEvent(new m.WMEventData(J.ConstantsCloud.EVENT_FILES_LOADING,{value:a}))});f.get(function(a){e.addPack(a);e._packsLoaded++;for(var c=0,d=e._defs.get(b)._getFlump();c<d.length;){var q=d[c];++c;e._flump.set(q,new w.Library(a,q))}c=0;for(d=e._defs.get(b)._getTiles();c<d.length;)q=d[c],++c,e._parseSpritesheet(q);e._packs.set(b,a);e._packsLoaded>=e._packsMax&&e._onAllLoadComplete()})},loadPack:function(a,b,c){null==c&&(c=!0);null==b&&(b="");!1==this._defs.exists(a)&&g.WorkinCloud.instance.log("[WMAssetManager](loadPack) Can't load pack "+a+" , define the pack in config.xml.");g.WorkinCloud.instance.log("[WMAssetManager](loadPack) "+a);c&&(this._loadingChances=this._LOADING_CHANCES,this._packsMax++);c=z.Manifest.build(a);""!=this._baseUrl&&(this._flagBaseIsCrossdomain?c.set_externalBasePath(this._baseUrl):c.set_relativeBasePath(this._baseUrl));this._loadManifest(c,a,b)},addPackDef:function(a,b,c){null==b&&(b=[]);null==c&&(c=[]);this._defs.set(a,new g._WMAssetManager.PackDef(a,b,c))},_parseChunk:function(a,b){for(var c=[],d=[],e=b.nodes.resolve("chunk").iterator();e.hasNext();){var f=e.next();c.push(f.getInnerData().toString())}for(e=b.nodes.resolve("pack").iterator();e.hasNext();)f=e.next(),d.push(f.getInnerData().toString());return new g._WMAssetManager.ChunkDef(a,d,c)},loadChunk:function(a){!1==this._chunks.exists(a)&&g.WorkinCloud.instance.log("[WMAssetManager](loadChunk) No chunk named "+
a+" defined.");for(var b=0,c=this._chunks.get(a)._getChunks();b<c.length;){var d=c[b];++b;this.loadChunk(d)}this._packsLoaded>=this._packsMax&&(this._loadingProgress=this._loadingTotal=0,g.WorkinCloud.instance.getDispatcher().dispatchEvent(new m.WMEventData(J.ConstantsCloud.EVENT_FILES_LOADING,{value:0})));b=0;for(c=this._chunks.get(a)._getPacks();b<c.length;)d=c[b],++b,!1==this.isPackLoaded(d)&&this.loadPack(d)},isChunkLoaded:function(a){if(!1==this._chunks.exists(a))return g.WorkinCloud.instance.log("[WMAssetManager](isChunkLoaded) No chunk named "+
a+" defined."),!1;for(var b=0,a=this._chunks.get(a)._getPacks();b<a.length;){var c=a[b];++b;if(!1==this.isPackLoaded(c))return!1}return!0},addChunk:function(a,b){var c=this._parseChunk(a,b);this._chunks.set(a,c)},setCrossdomainBaseUrl:function(a){this._flagBaseIsCrossdomain=!0;this._setBaseUrl(a)},_setBaseUrl:function(a){this._baseUrl=a;g.WorkinCloud.instance.log("[WMAssetManager](setBaseUrl) Base Url set to '"+a+"'");return this._baseUrl},_getBaseUrl:function(){return this._baseUrl},__class__:g.WMAssetManager};g._WMAssetManager={};g._WMAssetManager.AssetDef=function(a,b,c){this._path=a;a=a.split("/");this._id=a[a.length-1].split(".")[0];this._constructed=!1;this._data=this._pack=null;I.__instanceof(c,z.AssetPack)?this._pack=c:(this._constructed=!0,this._data=c);this._hash=b;this._hash.set(this._path,this);this._path!=this._path.split(".")[0]&&this._hash.set(this._path.split(".")[0],this);this._path!=this._id&&this._hash.set(this._id,this)};k["com.workinman.utils._WMAssetManager.AssetDef"]=g._WMAssetManager.AssetDef;g._WMAssetManager.AssetDef.__name__=["com","workinman","utils","_WMAssetManager","AssetDef"];g._WMAssetManager.AssetDef.prototype={_getPack:function(){return this._pack},_getPath:function(){return this._path},_getData:function(){return this._data},_getConstructed:function(){return this._constructed},__class__:g._WMAssetManager.AssetDef};g._WMAssetManager.PackDef=function(a,b,c){this._id=a;this._flump=b;this._tiles=c};k["com.workinman.utils._WMAssetManager.PackDef"]=g._WMAssetManager.PackDef;g._WMAssetManager.PackDef.__name__=["com","workinman","utils","_WMAssetManager","PackDef"];g._WMAssetManager.PackDef.prototype={_getTiles:function(){return this._tiles},_getFlump:function(){return this._flump},__class__:g._WMAssetManager.PackDef};g._WMAssetManager.ChunkDef=function(a,b,c){this._id=a;this._packs=b;this._chunks=c};k["com.workinman.utils._WMAssetManager.ChunkDef"]=g._WMAssetManager.ChunkDef;g._WMAssetManager.ChunkDef.__name__=["com","workinman","utils","_WMAssetManager","ChunkDef"];g._WMAssetManager.ChunkDef.prototype={_getChunks:function(){return this._chunks},_getPacks:function(){return this._packs},__class__:g._WMAssetManager.ChunkDef};g.WMInput=function(){this._multiTouchAvail=!1;this._keycodes=new H;this._keydown=new H;this._touchList=new H;this._touchRemoval=[];this._keydown.set("input_click",!1);this._scale=1;this._offset=new h.WorkinPoint;this._pointer=new g.WMPointer("",0)};k["com.workinman.utils.WMInput"]=g.WMInput;g.WMInput.__name__=["com","workinman","utils","WMInput"];g.WMInput.prototype={_onPointerUp:function(a){this._keydown.set("input_click",!1);var b=a.viewX/this._scale,a=a.viewY/this._scale,b=b+this._offset.x,a=a+this._offset.y;this._pointer.end(b,a);g.WorkinCloud.instance.getDispatcher().dispatchEvent(new m.WMEventInput(0,"input_click",b,a))},_onPointerMove:function(a){var b=a.viewX/this._scale,a=a.viewY/this._scale,b=b+this._offset.x,a=a+this._offset.y;this._pointer.move(b,a);g.WorkinCloud.instance.getDispatcher().dispatchEvent(new m.WMEventInput(2,"input_click",b,a))},_onPointerDown:function(a){this._keydown.set("input_click",!0);var b=a.viewX/this._scale,a=a.viewY/this._scale,b=b+this._offset.x,a=a+this._offset.y;this._pointer.begin(b,a);g.WorkinCloud.instance.getDispatcher().dispatchEvent(new m.WMEventInput(1,"input_click",b,a))},_onTouchUp:function(a){var b=a.viewX/this._scale,c=a.viewY/this._scale,b=b+this._offset.x,c=c+this._offset.y;this._touchList.get(r.string(a.id)).end(b,c);g.WorkinCloud.instance.getDispatcher().dispatchEvent(new m.WMEventInput(0,"input_click",b,c))},_onTouchMove:function(a){var b=a.viewX/this._scale,c=a.viewY/this._scale,b=b+this._offset.x,c=c+this._offset.y;this._touchList.get(r.string(a.id)).move(b,c);g.WorkinCloud.instance.getDispatcher().dispatchEvent(new m.WMEventInput(2,"input_click",b,c))},_onTouchDown:function(a){var b=0,c=!1;do for(var c=!0,d=this._touchList.iterator();d.hasNext();){var e=d.next();if(b==e._getIndex()){b++;c=!1;break}}while(!1==c);c=new g.WMPointer(r.string(a.id),b);this._touchList.set(c._getId(),c);d=a.viewX/this._scale;a=a.viewY/this._scale;d+=this._offset.x;a+=this._offset.y;c.begin(d,a);0<b&&g.WorkinCloud.instance.getDispatcher().dispatchEvent(new m.WMEventInput(1,"input_click",d,a))},_onKeyUp:function(a){for(var b,c=this._keycodes.keys();c.hasNext();){var d=c.next();b=this._keycodes.get(d);for(var e=0;e<b.length;){var f=b[e];++e;f==a.key&&(this._keydown.set(d,!1),g.WorkinCloud.instance.getDispatcher().dispatchEvent(new m.WMEventInput(0,d,0,0)))}}},_onKeyDown:function(a){for(var b,c=this._keycodes.keys();c.hasNext();){var d=c.next();b=this._keycodes.get(d);for(var e=0;e<b.length;){var f=b[e];++e;f==a.key&&(this._keydown.set(d,!0),g.WorkinCloud.instance.getDispatcher().dispatchEvent(new m.WMEventInput(1,d,0,0)))}}},getInput:function(a){return this._keydown.get(a)},registerInput:function(a,b){this._keycodes.set(a,b);this._keydown.set(a,!1)},prime:function(){this._multiTouchAvail=D._platform.getTouch().get_supported();D._platform.getKeyboard().down.connect(x(this,this._onKeyDown));D._platform.getKeyboard().up.connect(x(this,this._onKeyUp));this._multiTouchAvail&&(D._platform.getTouch().down.connect(x(this,this._onTouchDown)),D._platform.getTouch().move.connect(x(this,this._onTouchMove)),D._platform.getTouch().up.connect(x(this,this._onTouchUp)));D._platform.getPointer().down.connect(x(this,this._onPointerDown));D._platform.getPointer().move.connect(x(this,this._onPointerMove));D._platform.getPointer().up.connect(x(this,this._onPointerUp))},_getMultiTouch:function(){return this._touchList},_getPointer:function(){return this._pointer},_setOffset:function(a){return this._offset=a},_getOffset:function(){return this._offset},_setScale:function(a){this._scale=a;0==this._scale&&(this._scale=0.01);return this._scale},_getScale:function(){return this._scale},__class__:g.WMInput};g.WMPointer=function(a,b){this.SWIPE_DOWN=4;this.SWIPE_UP=3;this.SWIPE_RIGHT=2;this.SWIPE_LEFT=1;this.SWIPE_NONE=0;this._resetDeltaLine=!0;this._timer=g.WMPointer._DELTA_TIMEOUT;this._id=a;this._index=b;this._origin=new h.WorkinPoint(0,0);this._current=new h.WorkinPoint(0,0);this._last=new h.WorkinPoint(0,0);this._delta=new h.WorkinPoint(0,0);this._line=new h.WorkinLine(new h.WorkinPoint(0,0),new h.WorkinPoint(0,0));this._deltaLine=this._line.copy();this._camera=new h.WorkinCamera(0,0);this._phase=m.WMEventInput.PHASE_UP;this._swipe=this.SWIPE_NONE;this._consumed=!1};k["com.workinman.utils.WMPointer"]=g.WMPointer;g.WMPointer.__name__=["com","workinman","utils","WMPointer"];g.WMPointer.prototype={_updateInfo:function(a,b){this._last.toPoint(this._current);this._current.to(a,b);this._current.x+=this._camera._getPos().x-
this._camera._getScreenCenterX();this._current.y+=this._camera._getPos().y-this._camera._getScreenCenterY();this._delta.toPoint(this._current);this._delta.subtractPoint(this._last)},end:function(a,b){this._phase=m.WMEventInput.PHASE_UP;this._updateInfo(a,b);this._line.endToPoint(this._current);this._swipe=this.SWIPE_NONE;this._consumed=!1},move:function(a,b){this._updateInfo(a,b);if(!1!=g.WorkinCloud.instance.getInput().getInput("input_click")){this._phase=m.WMEventInput.PHASE_MOVE;if(!1==this._consumed){var c=this._origin.x-this._current.x,d=this._origin.y-this._current.y;this._swipe=Math.abs(c)>=g.WMPointer._DELTA_ALLOWANCE&&Math.abs(d)<g.WMPointer._DELTA_ALLOWANCE?0<c?this.SWIPE_LEFT:this.SWIPE_RIGHT:Math.abs(d)>=g.WMPointer._DELTA_ALLOWANCE&&Math.abs(c)<g.WMPointer._DELTA_ALLOWANCE?0<d?this.SWIPE_UP:this.SWIPE_DOWN:this.SWIPE_NONE}else this._swipe=this.SWIPE_NONE;this._line.endToPoint(this._current)}},begin:function(a,b){this._origin.to(a,b);this._origin.x+=this._camera._getPos().x-this._camera._getScreenCenterX();this._origin.y+=this._camera._getPos().y-this._camera._getScreenCenterY();this._current.toPoint(this._origin);this._last.toPoint(this._origin);this._delta.to(0,0);this._line.to(this._origin,this._current);this._deltaLine.to(this._origin,this._current);this._consumed=!1;this._phase=m.WMEventInput.PHASE_DOWN;this._swipe=this.SWIPE_NONE},_getDeltaLine:function(){if(!1==this._resetDeltaLine)return this._deltaLine;this._deltaLine.endToPoint(this._current);this._resetDeltaLine=!1;return this._deltaLine},_setIndex:function(a){return this._index=a},_getIndex:function(){return this._index},_getId:function(){return this._id},_setConsumed:function(a){return this._consumed=a},_getConsumed:function(){return this._consumed},_getSwipe:function(){return this._swipe},_getLine:function(){return this._line},_getDeltaPos:function(){return this._delta},_getLastPos:function(){return this._last},_getCurrentPos:function(){return this._current},_getOriginPos:function(){return this._origin},_getPhase:function(){return this._phase},__class__:g.WMPointer};g.WMLocalize=function(){};k["com.workinman.utils.WMLocalize"]=g.WMLocalize;g.WMLocalize.__name__=["com","workinman","utils","WMLocalize"];g.WMLocalize.prototype={getData:function(a,b){null==b&&(b="");""==b&&(b=J.ConstantsCloud.LOCALIZATION_XML_PATH+"translation_"+g.WorkinCloud.instance.getString(J.ConstantsCloud.STRING_REGION_ID)+".xml");for(var c=g.WorkinCloud.instance.getAssets().getXML(b).nodes.resolve("string").iterator();c.hasNext();){var d=c.next();if(d.att.resolve("id")==a)return new g.WMLocalizedData(d.att.resolve("id"),d.getInnerData(),d.att.resolve("fontName"),r.parseFloat(d.att.resolve("fontScale")),r.parseFloat(d.att.resolve("offsetX")),r.parseFloat(d.att.resolve("offsetX")))}g.WorkinCloud.instance.log("[WMLocalize] ERROR: No localization data for : "+a);return new g.WMLocalizedData(a,"","",1,0,0)},__class__:g.WMLocalize};g.WMLocalizedData=function(a,b,c,d,e,f){this._id=a;this._string=b;this._fontName=c;this._scale=d;this._offsetX=e;this._offsetY=f};k["com.workinman.utils.WMLocalizedData"]=g.WMLocalizedData;g.WMLocalizedData.__name__=["com","workinman","utils","WMLocalizedData"];g.WMLocalizedData.prototype={_getOffsetY:function(){return this._offsetY},_getOffsetX:function(){return this._offsetX},_getScale:function(){return this._scale},_getFontName:function(){return this._fontName},_getString:function(){return this._string},_getId:function(){return this._id},__class__:g.WMLocalizedData};g.WMSound=function(){this._musicId="";this._musicGain=1;this._musicPlaying=null;this._flagSystemMute=this._flagMuted=!1;this._mixer=new G.Mixer;this._sounds=[]};k["com.workinman.utils.WMSound"]=g.WMSound;g.WMSound.__name__=["com","workinman","utils","WMSound"];g.WMSound.prototype={_getMusicPlaying:function(){return this._musicPlaying},update:function(a){for(var b=0;b<this._sounds.length;){if(this._sounds[b]._getFade()==g.WMSound.FADE_OUT){if(0<this._sounds[b]._getPlayback().volume._value){var c=this._sounds[b]._getPlayback().volume;c.set__(c._value-a*this._sounds[b]._getFadeSpeed());0>=this._sounds[b]._getPlayback().volume._value&&(this._sounds[b].setFade(g.WMSound.FADE_NONE),this._sounds[b]._getPlayback().volume.set__(0))}}else this._sounds[b]._getFade()==g.WMSound.FADE_IN&&this._sounds[b]._getPlayback().volume._value<this._sounds[b].volume&&(c=this._sounds[b]._getPlayback().volume,c.set__(c._value+a*this._sounds[b]._getFadeSpeed()),this._sounds[b]._getPlayback().volume._value>=this._sounds[b].volume&&(this._sounds[b].setFade(g.WMSound.FADE_NONE),this._sounds[b]._getPlayback().volume.set__(this._sounds[b].volume)));b++}null!=this._getMusicPlaying()&&(this._getMusicPlaying()._getFade()==g.WMSound.FADE_OUT?0<this._getMusicPlaying()._getPlayback().volume._value&&(c=this._getMusicPlaying()._getPlayback().volume,c.set__(c._value-a*this._getMusicPlaying()._getFadeSpeed()),0>=this._getMusicPlaying()._getPlayback().volume._value&&(this._getMusicPlaying().setFade(g.WMSound.FADE_NONE),this._getMusicPlaying()._getPlayback().volume.set__(0))):this._getMusicPlaying()._getFade()==g.WMSound.FADE_IN&&this._getMusicPlaying()._getPlayback().volume._value<this._getMusicPlaying().volume&&(c=this._getMusicPlaying()._getPlayback().volume,c.set__(c._value+a*this._getMusicPlaying()._getFadeSpeed()),this._getMusicPlaying()._getPlayback().volume._value>=this._getMusicPlaying().volume&&(this._getMusicPlaying().setFade(g.WMSound.FADE_NONE),this._getMusicPlaying()._getPlayback().volume.set__(this._getMusicPlaying().volume))))},_muteMusic:function(a){""!=this._musicId&&(a?this._musicPlaying=null:null==this._musicPlaying&&(this._musicPlaying=a=new g._WMSound.SoundDef(this._musicId,this._mixer.newSound(g.WorkinCloud.instance.getAssets().getSound(this._musicId),1),!0),a.playSound(this._musicGain)))},playMusic:function(a,b){null==b&&(b=1);if(!(J.ConstantsCloud.getIsAndroid()&&null!=this._musicPlaying||this._musicId==a))if(this._musicId=a,this._musicGain=b,!(this.getMute()||""==a)){null!=this._musicPlaying&&this._musicPlaying.dispose();var c=new g._WMSound.SoundDef(a,this._mixer.newSound(g.WorkinCloud.instance.getAssets().getSound(this._musicId),1),!0);this._musicPlaying=c;c.playSound(b)}},_muteAllToggle:function(a){if(a){for(this._mixer.stopAll();0<this._sounds.length;)this._sounds.splice(0,1);this._muteMusic(!0)}else a||this._muteMusic(!1)},playSound:function(a,b){null==b&&(b=1);if(!J.ConstantsCloud.getIsAndroid()&&!this.getMute()){for(var c=0;c<this._sounds.length;){if(this._sounds[c].id==a){this._sounds[c].playSound(b);return}c++}c=new g._WMSound.SoundDef(a,this._mixer.newSound(g.WorkinCloud.instance.getAssets().getSound(a),4),!1);this._sounds.push(c);c.playSound(b)}},setSystemMute:function(a){(this._flagSystemMute=a)?this._muteAllToggle(this._flagSystemMute):this._muteAllToggle(this._flagMuted)},setMute:function(a){this._flagMuted=a;this._flagSystemMute||this._muteAllToggle(this._flagMuted)},getMute:function(){return this._flagSystemMute||this._flagMuted},__class__:g.WMSound};g._WMSound={};g._WMSound.SoundDef=function(a,b,c){null==c&&(c=!1);this.id=a;this.isMusic=c;this.volume=1;this._flagPlayed=this._flagHasSound=!1;this._sound=b;this._fade=g.WMSound.FADE_NONE;this._fadeSpeed=1};k["com.workinman.utils._WMSound.SoundDef"]=g._WMSound.SoundDef;g._WMSound.SoundDef.__name__=["com","workinman","utils","_WMSound","SoundDef"];g._WMSound.SoundDef.prototype={playSound:function(a){null==a&&(a=1);this.volume=a;this._playback=this.isMusic?this._sound.loop(a):this._sound.play(a)},setFade:function(a,b){null==b&&(b=1);this._fade=a;this._fadeSpeed=b},_getFadeSpeed:function(){return this._fadeSpeed},_getFade:function(){return this._fade},_setPlayback:function(a){return this._playback=a},_getPlayback:function(){return this._playback},_getSound:function(){return this._sound},dispose:function(){this._playback.dispose();this._playback=null},__class__:g._WMSound.SoundDef};G={Mixer:function(){this._sounds=[]}};k["flambe.sound.Mixer"]=G.Mixer;G.Mixer.__name__=["flambe","sound","Mixer"];G.Mixer.__super__=P;G.Mixer.prototype=y(P.prototype,{onRemoved:function(){this.stopAll();this._sounds=[]},stopAll:function(){for(var a=0,b=this._sounds;a<b.length;){var c=b[a];++a;c.dispose()}},newSound:function(a,b){null==b&&(b=2147483647);var c=new G._Mixer.MixerSound(a,b);this._sounds.push(c);return c},get_name:function(){return"Mixer_2"},__class__:G.Mixer});g.WorkinCloud=function(){this._values=new H;this._defaults=new H;this._dispatcher=new m.WMEventDispatcher;this._input=new g.WMInput;this._assets=new g.WMAssetManager;this._sound=new g.WMSound;this._localize=new g.WMLocalize;this.setString(J.ConstantsCloud.STRING_REGION_ID,"en")};k["com.workinman.utils.WorkinCloud"]=g.WorkinCloud;g.WorkinCloud.__name__=["com","workinman","utils","WorkinCloud"];g.WorkinCloud.prototype={_updateDisplays:function(a){this._dispatcher.dispatchEvent(new m.WMEventData(p.Display.EVENT_UPDATE_DISPLAY,{valueID:a}))},sharedObjectSetData:function(a,b){var c=R.WMSharedObject.getLocal(a);c._setData(b);c.flush();c.dispose()},sharedObjectGetData:function(a){var a=R.WMSharedObject.getLocal(a),b=a._getData();a.dispose();return b},resetValue:function(a){this._values.set(a,this._defaults.get(a));this._updateDisplays(a)},setValue:function(a,b){this._values.set(a,b);!1==this._defaults.exists(a)&&this.setDefault(a,b);this._updateDisplays(a)},getValue:function(a){return this._values.get(a)},setDefault:function(a,b){this._defaults.set(a,b);this.resetValue(a)},getString:function(a){return this._values.get(a)},setString:function(a,b){this.setValue(a,b)},setInt:function(a,b){this.setValue(a,b)},getFloat:function(a){return this._values.get(a)},setFloat:function(a,b){this.setValue(a,b)},getBool:function(a){return this._values.get(a)},setBool:function(a,b){this.setValue(a,b)},_getLocalize:function(){return this._localize},_getSound:function(){return this._sound},getAssets:function(){return this._assets},getInput:function(){return this._input},getDispatcher:function(){return this._dispatcher},log:function(){null},__class__:g.WorkinCloud};K=function(){this.parent=this.firstChild=this.next=this.firstComponent=null;this._compMap={}};k["flambe.Entity"]=K;K.__name__=["flambe","Entity"];K.__interfaces__=[l.Disposable];K.prototype={dispose:function(){for(null!=this.parent&&this.parent.removeChild(this);null!=this.firstComponent;)this.firstComponent.dispose();this.disposeChildren();this.onDispose()},disposeChildren:function(){for(;null!=this.firstChild;)this.firstChild.dispose()},onDispose:function(){},onRemoved:function(){},onAdded:function(){},removeChild:function(a){for(var b=null,c=this.firstChild;null!=c;){var d=c.next;if(c==a){c.onRemoved();null==b?this.firstChild=d:b.next=d;c.parent=null;c.next=null;break}b=c;c=d}},addChild:function(a,b){null==b&&(b=!0);null!=a.parent&&a.parent.removeChild(a);a.parent=this;if(b){for(var c=null,d=this.firstChild;null!=d;)c=d,d=d.next;null!=c?c.next=a:this.firstChild=a}else a.next=this.firstChild,this.firstChild=a;a.onAdded();return this},remove:function(a){for(var b=null,c=this.firstComponent;null!=c;){var d=c.next;if(c==a){null==b?this.firstComponent=d:b._internal_init(this,d);delete this._compMap[c.get_name()];c.onRemoved();c._internal_init(null,null);break}b=c;c=d}},add:function(a){var b=a.get_name(),c=this._compMap[b];null!=c&&this.remove(c);this._compMap[b]=a;b=null;for(c=this.firstComponent;null!=c;)b=c,c=c.next;null!=b?b.next=a:this.firstComponent=a;a._internal_init(this,null);a.onAdded();return this},__class__:K};l.PackageLog=function(){};k["flambe.util.PackageLog"]=l.PackageLog;l.PackageLog.__name__=["flambe","util","PackageLog"];f={Platform:function(){}};k["flambe.platform.Platform"]=f.Platform;f.Platform.__name__=["flambe","platform","Platform"];f.Platform.prototype={__class__:f.Platform};f.html={};f.html.HtmlPlatform=function(){};k["flambe.platform.html.HtmlPlatform"]=f.html.HtmlPlatform;f.html.HtmlPlatform.__name__=["flambe","platform","html","HtmlPlatform"];f.html.HtmlPlatform.__interfaces__=[f.Platform];f.html.HtmlPlatform.prototype={getY:function(a,b){return this._stage.scaleFactor*(a.clientY-b.top)},getX:function(a,b){return this._stage.scaleFactor*(a.clientX-b.left)},getTempGraphics:function(){return this._tempGraphics},getTempCanvas:function(){return this._tempCanvas},getRenderer:function(){return this._renderer},getExternal:function(){null==this._external&&(this._external=new f.html.HtmlExternal);return this._external},getWeb:function(){null==this._web&&(this._web=new f.html.HtmlWeb(this._container));return this._web},getKeyboard:function(){return this._keyboard},getTouch:function(){return this._touch},getMouse:function(){return this._mouse},getPointer:function(){return this._pointer},update:function(a){var b=(a-this._lastUpdate)/1E3;this._lastUpdate=a;this._skipFrame?this._skipFrame=!1:(this.mainLoop.update(b),this.mainLoop.render(this._renderer))},getTime:function(){return Date.now()/1E3},createLogHandler:function(){return null},getLocale:function(){return v.window.navigator.language},getStorage:function(){if(null==this._storage){var a=null;try{a=v.window.localStorage}catch(b){}this._storage=null!=a?new f.html.HtmlStorage(a):new f.DummyStorage}return this._storage},getStage:function(){return this._stage},loadAssetPack:function(a){return(new f.html.HtmlAssetPackLoader(this,a)).promise},init:function(){var a=this;f.html.HtmlUtil.fixAndroidMath();var b=null;try{b=v.window.flambe.canvas}catch(c){}b.setAttribute("tabindex","0");b.style.outlineStyle="none";b.setAttribute("moz-opaque","true");this._stage=new f.html.HtmlStage(b);this._pointer=new f.BasicPointer;this._mouse=new f.html.HtmlMouse(this._pointer,b);this._keyboard=new f.BasicKeyboard;this._tempCanvas=f.html.HtmlUtil.createCanvas(b);this._tempGraphics=new f.html.CanvasGraphics(this._tempCanvas);this._renderer=new f.html.CanvasRenderer(b);D.hasGPU.set__(!0);this.mainLoop=new f.MainLoop;this._container=b.parentNode;this._container.style.overflow="hidden";this._container.style.position="relative";this._container.style.msTouchAction="none";var d=0,e=function(c){if(!(1E3>c.timeStamp-d)){var e=b.getBoundingClientRect(),f=a.getX(c,e),e=a.getY(c,e);switch(c.type){case "mousedown":c.target==b&&(c.preventDefault(),a._mouse.submitDown(f,e,c.button),c.target.focus());break;case "mousemove":a._mouse.submitMove(f,e);break;case "mouseup":a._mouse.submitUp(f,e,c.button);break;case "mousewheel":case "DOMMouseScroll":a._mouse.submitScroll(f,e,"mousewheel"==c.type?c.wheelDelta/40:-c.detail)&&c.preventDefault()}}};window.addEventListener("mousedown",e,!1);window.addEventListener("mousemove",e,!1);window.addEventListener("mouseup",e,!1);b.addEventListener("mousewheel",e,!1);b.addEventListener("DOMMouseScroll",e,!1);if("ontouchstart"in window){var g=new f.BasicTouch(this._pointer);this._touch=g;e=function(b){var c=b.changedTouches,e=b.target.getBoundingClientRect();d=b.timeStamp;switch(b.type){case "touchstart":b.preventDefault();f.html.HtmlUtil.SHOULD_HIDE_MOBILE_BROWSER&&f.html.HtmlUtil.hideMobileBrowser();for(b=0;b<c.length;){var h=c[b];++b;var fa=a.getX(h,e),i=a.getY(h,e);g.submitDown(h.identifier|0,fa,i)}break;case "touchmove":b.preventDefault();for(b=0;b<c.length;)h=c[b],++b,fa=a.getX(h,e),i=a.getY(h,e),g.submitMove(h.identifier|0,fa,i);break;case "touchend":case "touchcancel":for(b=0;b<c.length;)h=c[b],++b,fa=a.getX(h,e),i=a.getY(h,e),g.submitUp(h.identifier|0,fa,i)}};b.addEventListener("touchstart",e,!1);b.addEventListener("touchmove",e,!1);b.addEventListener("touchend",e,!1);b.addEventListener("touchcancel",e,!1)}else this._touch=new f.DummyTouch;e=function(b){switch(b.type){case "keydown":a._keyboard.submitDown(b.keyCode)&&b.preventDefault();break;case "keyup":a._keyboard.submitUp(b.keyCode)}};b.addEventListener("keydown",e,!1);b.addEventListener("keyup",e,!1);var h=v.window.onerror;v.window.onerror=function(a,b,c){D.uncaughtError.emit1(a);return null!=h?h(a,b,c):!1};var i=f.html.HtmlUtil.loadExtension("hidden",v.document);null!=i.value&&(e=function(){D.hidden.set__(M.field(v.document,i.field))},e(),v.document.addEventListener(i.prefix+"visibilitychange",e,!1),D.hidden.get_changed().connect(function(b){b||(a._skipFrame=!0)}));this._lastUpdate=Date.now();this._skipFrame=!1;var j=f.html.HtmlUtil.loadExtension("requestAnimationFrame").value;if(null!=j){var k=v.window.performance,l=null!=k&&f.html.HtmlUtil.polyfill("now",k);l?this._lastUpdate=k.now():null;var m=null,m=function(c){a.update(l?k.now():c);j(m,b)};j(m,b)}else v.window.setInterval(function(){a.update(Date.now())},1E3/60)},__class__:f.html.HtmlPlatform};l.Value=function(a,b){this._value=a;null!=b&&(this._changed=new l.Signal2(b))};k["flambe.util.Value"]=l.Value;l.Value.__name__=["flambe","util","Value"];l.Value.prototype={get_changed:function(){null==this._changed&&(this._changed=new l.Signal2);return this._changed},set__:function(a){var b=this._value;a!=b&&(this._value=a,null!=this._changed&&this._changed.emit2(a,b));return a},__class__:l.Value};l.SignalConnection=function(a,b){this._internal_next=null;this._signal=a;this._internal_listener=b;this.stayInList=!0};k["flambe.util.SignalConnection"]=l.SignalConnection;l.SignalConnection.__name__=["flambe","util","SignalConnection"];l.SignalConnection.__interfaces__=[l.Disposable];l.SignalConnection.prototype={dispose:function(){null!=this._signal&&(this._signal._internal_disconnect(this),this._signal=null)},once:function(){this.stayInList=!1;return this},__class__:l.SignalConnection};l.SignalBase=function(a){this._head=null!=a?new l.SignalConnection(this,a):null;this._deferredTasks=null};k["flambe.util.SignalBase"]=l.SignalBase;l.SignalBase.__name__=["flambe","util","SignalBase"];l.SignalBase.prototype={listRemove:function(a){for(var b=null,c=this._head;null!=c;){if(c==a){a=c._internal_next;null==b?this._head=a:b._internal_next=a;break}b=c;c=c._internal_next}},listAdd:function(a,b){if(b)a._internal_next=this._head,this._head=a;else{for(var c=null,d=this._head;null!=d;)c=d,d=d._internal_next;null!=c?c._internal_next=a:this._head=a}},didEmit:function(a){for(this._head=a;null!=this._deferredTasks;)this._deferredTasks.fn(),this._deferredTasks=this._deferredTasks.next},willEmit:function(){var a=this._head;this._head=l.SignalBase.DISPATCHING_SENTINEL;return a},defer:function(a){for(var b=null,c=this._deferredTasks;null!=c;)b=c,c=c.next;a=new l._SignalBase.Task(a);null!=b?b.next=a:this._deferredTasks=a},emit2:function(a,b){for(var c=this.willEmit(),d=c;null!=d;)d._internal_listener(a,b),d.stayInList||d.dispose(),d=d._internal_next;this.didEmit(c)},emit1:function(a){for(var b=this.willEmit(),c=b;null!=c;)c._internal_listener(a),c.stayInList||c.dispose(),c=c._internal_next;this.didEmit(b)},emit0:function(){for(var a=this.willEmit(),b=a;null!=b;)b._internal_listener(),b.stayInList||b.dispose(),b=b._internal_next;this.didEmit(a)},_internal_disconnect:function(a){var b=this;this._head==l.SignalBase.DISPATCHING_SENTINEL?this.defer(function(){b.listRemove(a)}):this.listRemove(a)},connectImpl:function(a,b){var c=this,d=new l.SignalConnection(this,a);this._head==l.SignalBase.DISPATCHING_SENTINEL?this.defer(function(){c.listAdd(d,b)}):this.listAdd(d,b);return d},__class__:l.SignalBase};l.Signal2=function(a){l.SignalBase.call(this,a)};k["flambe.util.Signal2"]=l.Signal2;l.Signal2.__name__=["flambe","util","Signal2"];l.Signal2.__super__=l.SignalBase;l.Signal2.prototype=y(l.SignalBase.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},__class__:l.Signal2});l.Signal1=function(a){l.SignalBase.call(this,a)};k["flambe.util.Signal1"]=l.Signal1;l.Signal1.__name__=["flambe","util","Signal1"];l.Signal1.__super__=l.SignalBase;l.Signal1.prototype=y(l.SignalBase.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},__class__:l.Signal1});D=function(){};k["flambe.System"]=D;D.__name__=["flambe","System"];D.init=function(){D._calledInit||(D._platform.init(),D._calledInit=!0)};D.createTexture=function(a,b){return D._platform.getRenderer().createEmptyTexture(a,b)};l.Logger=function(a){this._handler=a};k["flambe.util.Logger"]=l.Logger;l.Logger.__name__=["flambe","util","Logger"];l.Logger.prototype={__class__:l.Logger};Z=function(){};k["flambe.Log"]=Z;Z.__name__=["flambe","Log"];Z.__super__=l.PackageLog;Z.prototype=y(l.PackageLog.prototype,{__class__:Z});A=function(a){null==a&&(a=1);this._internal_realDt=0;this.scale=new F.AnimatedFloat(a)};k["flambe.SpeedAdjuster"]=A;A.__name__=["flambe","SpeedAdjuster"];A.__super__=P;A.prototype=y(P.prototype,{onUpdate:function(a){0<this._internal_realDt&&(a=this._internal_realDt,this._internal_realDt=0);this.scale.update(a)},get_name:function(){return"SpeedAdjuster_5"},__class__:A});F={AnimatedFloat:function(a,b){l.Value.call(this,a,b);this.behaviorComplete=new l.Signal0}};k["flambe.animation.AnimatedFloat"]=F.AnimatedFloat;F.AnimatedFloat.__name__=["flambe","animation","AnimatedFloat"];F.AnimatedFloat.__super__=l.Value;F.AnimatedFloat.prototype=y(l.Value.prototype,{set_behavior:function(a){this._behavior=a;this.update(0);return a},update:function(a){null!=this._behavior&&(l.Value.prototype.set__.call(this,this._behavior.update(a)),this._behavior.isComplete()&&(this._behavior=null,this.behaviorComplete.emit0()))},set__:function(a){this._behavior=null;return l.Value.prototype.set__.call(this,a)},__class__:F.AnimatedFloat});F.Behavior=function(){};k["flambe.animation.Behavior"]=F.Behavior;F.Behavior.__name__=["flambe","animation","Behavior"];F.Behavior.prototype={__class__:F.Behavior};F.Binding=function(){};k["flambe.animation.Binding"]=F.Binding;F.Binding.__name__=["flambe","animation","Binding"];F.Binding.__interfaces__=[F.Behavior];F.Binding.prototype={isComplete:function(){return!1},update:function(){var a=this._target._value;return null!=this._fn?this._fn(a):a},__class__:F.Binding};z={};z.AssetType=k["flambe.asset.AssetType"]={__ename__:["flambe","asset","AssetType"],__constructs__:["Image","Audio","Data"]};z.AssetType.Image=["Image",0];z.AssetType.Image.toString=n;z.AssetType.Image.__enum__=z.AssetType;z.AssetType.Audio=["Audio",1];z.AssetType.Audio.toString=n;z.AssetType.Audio.__enum__=z.AssetType;z.AssetType.Data=["Data",2];z.AssetType.Data.toString=n;z.AssetType.Data.__enum__=z.AssetType;z.AssetEntry=function(a,b,c,d){this.name=a;this.url=b;this.type=c;this.bytes=d};k["flambe.asset.AssetEntry"]=z.AssetEntry;z.AssetEntry.__name__=["flambe","asset","AssetEntry"];z.AssetEntry.prototype={getUrlExtension:function(){return l.Strings.getFileExtension(this.url.split("?")[0]).toLowerCase()},__class__:z.AssetEntry};z.AssetPack=function(){};k["flambe.asset.AssetPack"]=z.AssetPack;z.AssetPack.__name__=["flambe","asset","AssetPack"];z.AssetPack.prototype={__class__:z.AssetPack};I=void 0;v=void 0;I=function(){};k["js.Boot"]=I;I.__name__=["js","Boot"];I.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;if("function"==c&&(a.__name__||a.__ename__))c="object";switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];for(var c=a[0]+"(",b=b+"\t",d=2,e=a.length;d<e;)var f=d++,c=2!=f?c+(","+I.__string_rec(a[f],b)):c+I.__string_rec(a[f],b);return c+")"}d=a.length;c="[";b+="\t";for(e=0;e<d;)f=e++,c+=(0<f?",":"")+I.__string_rec(a[f],b);return c+"]"}try{e=a.toString}catch(g){return"???"}if(null!=e&&e!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;e=null;c="{\n";b+="\t";d=null!=a.hasOwnProperty;for(e in a)if(!d||a.hasOwnProperty(e))"prototype"==e||"__class__"==e||"__super__"==e||"__interfaces__"==e||"__properties__"==e||(2!=c.length&&(c+=", \n"),c+=b+e+" : "+I.__string_rec(a[e],b));b=b.substring(1);return c+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return""+a}};I.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;d<e;){var f=d++,f=c[f];if(f==b||I.__interfLoop(f,b))return!0}return I.__interfLoop(a.__super__,b)};I.__instanceof=function(a,b){try{if(a instanceof b)return b==Array?null==a.__enum__:!0;if(I.__interfLoop(a.__class__,b))return!0}catch(c){if(null==b)return!1}switch(b){case ja:return Math.ceil(a%2147483648)===a;case ha:return"number"==typeof a;case ia:return!0===a||!1===a;case String:return"string"==typeof a;case ka:return!0;default:if(null==a)return!1;if(b==la&&null!=a.__name__)return!0;null;if(b==ma&&null!=a.__ename__)return!0;null;return a.__enum__==b}};I.__cast=function(a,b){if(I.__instanceof(a,b))return a;throw"Cannot cast "+r.string(a)+" to "+r.string(b);};l.Strings=function(){};k["flambe.util.Strings"]=l.Strings;l.Strings.__name__=["flambe","util","Strings"];l.Strings.getFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?B.substr(a,b+1,null):null};l.Strings.removeFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?B.substr(a,0,b):a};l.Strings.joinPath=function(a,b){47!=a.charCodeAt(a.length-1)&&(a+="/");return a+b};l.Strings.withFields=function(a,b){var c=b.length;if(0<c){for(var a=a+(0<a.length?" [":"["),d=0;d<c;){0<d&&(a+=", ");var e=b[d],f=b[d+1];if(I.__instanceof(f,Error)){var g=f.stack;null!=g&&(f=g)}a+=e+"="+r.string(f);d+=2}a+="]"}return a};v=function(){};k["js.Lib"]=v;v.__name__=["js","Lib"];z.Manifest=function(){this._entries=[]};k["flambe.asset.Manifest"]=z.Manifest;z.Manifest.__name__=["flambe","asset","Manifest"];z.Manifest.build=function(a,b){null==b&&(b=!0);var c=z.Manifest._buildManifest.get(a);if(null==c){if(b)throw l.Strings.withFields("Missing asset pack",["name",a]);return null}return c.clone()};z.Manifest.inferType=function(a){a=l.Strings.getFileExtension(a.split("?")[0]);if(null!=a)switch(a.toLowerCase()){case "png":case "jpg":case "gif":return z.AssetType.Image;case "ogg":case "m4a":case "mp3":case "wav":return z.AssetType.Audio}return z.AssetType.Data};z.Manifest.createBuildManifests=function(){var a=new H;a.set("initial_load",[{name:"ui/sponge_Playbutton.png",md5:"e0b78d4e83825f7959e806be6b82477f",bytes:66843},{name:"ui/splash/Splash_Screen.jpg",md5:"14d150c7ed033043c72dcd79bab6c1c4",bytes:153091},{name:"ui/splash/pause_soundon.png",md5:"a103e05bc66faad8c7eb5af57c1cbde8",bytes:14066},{name:"ui/splash/pause_soundoff.png",md5:"cb63b6613eb395edc29bc675969bf299",bytes:11548},{name:"ui/replay_button.png",md5:"c3e02e84450808d6e0a98d9fd86c6e29",bytes:66090},{name:"ui/menu/help_screen_bg.jpg",md5:"8765197dda79ea4be4c1343f547e5775",bytes:131728},{name:"ui/font/spongeboybrown.png",md5:"add54806f749d4069df03a3c51285f2b",bytes:314698},{name:"ui/font/spongeboybrown.fnt",md5:"435c59fd1b853ceeedd125ec524dc894",bytes:9483},{name:"ui/font/spongebobblue.png",md5:"0f863a6e17302a73ecfd6bca989f8473",bytes:222197},{name:"ui/font/spongebobblue.fnt",md5:"8e36544ea0f8230788f5c141b2c7d926",bytes:12022},{name:"ui/AssetScreenGameplayHud.png",md5:"d6b818e40c1294c39cb40d49d1fb231a",bytes:4419},{name:"audio/Sound_BGM.ogg",md5:"e288ee26d58601b5000b82a089f8dfa7",bytes:197386},{name:"audio/Sound_BGM.mp3",md5:"33d71f28eb9753d29b0327aee5a29d90",bytes:146310}]);a.set("gameplay_universal",[{name:"window_sky_light.png",md5:"5aa949e9d92d2a3e8ea1fd30e34cbc72",bytes:36290},{name:"window_sky_dark.png",md5:"4c4f5d7df94098be69336b59778d9326",bytes:33702},{name:"ui/menu/quit_yes.png",md5:"ba816a74b159bbe9fe6eef7600920dd8",bytes:9311},{name:"ui/menu/quit_prompt.png",md5:"94fca246af005bed6cfa88f086e09498",bytes:84269},{name:"ui/menu/quit_no.png",md5:"bbff4063688f6b429487494cf3a68f9d",bytes:8664},{name:"ui/menu/pause_quitbutton.png",md5:"255cb69c43ce21d87d39c0b1fec43725",bytes:12578},{name:"ui/menu/pause_playbutton.png",md5:"c71e075dd6b60613cd92bc8fa3a6dafb",bytes:11825},{name:"ui/menu/pause_menu.png",md5:"b8f7d3df4c91d71cfa0793cb384d7dd8",bytes:226503},{name:"ui/menu/pause_helpbutton.png",md5:"58337de3eacfc75ea3fca51c427d48fd",bytes:11476},{name:"ui/menu/pause_button.png",md5:"395cf3ff064dadd687f510ed30648327",bytes:5974},{name:"ui/game_over_screen.jpg",md5:"f71ab230f0c5402b56ea50b2e5312e07",bytes:142378},{name:"ui/font/spongeboypink.png",md5:"da35cc59c8fccfd46c8f3c11d0384fa0",bytes:223547},{name:"ui/font/spongeboypink.fnt",md5:"210a347ea154ccb943dc8220eea99525",bytes:9482},{name:"ui/font/spongeboygreen.png",md5:"fdbe1fc6b66892fa51e3d09ccc6894f7",bytes:307173},{name:"ui/font/spongeboygreen.fnt",md5:"adb47d6055824df2b1367e8d912bf25e",bytes:9483},{name:"sun.png",md5:"eb082e0ef5c24f965d25af87341a189e",bytes:4110},{name:"soft_flavors_s.png",md5:"88a42bff26c33e39bc776e9f29d8b339",bytes:4171},{name:"snaily_frostings_s.png",md5:"b94c40a3f789ff03422c630b762fe303",bytes:5707},{name:"smelly_frostings_s.png",md5:"15fdc8aa39a782d82131f77484383a36",bytes:7030},{name:"smelly_flavors_s.png",md5:"69ac378271e30ceadd4f179255565615",bytes:3453},{name:"smelly_eggs_s.png",md5:"ecaa07eb5deece0eaf62d63251db80b3",bytes:3772},{name:"shocking_frostings_s.png",md5:"63d72d67441c59c24b59a5eeebd3f5d5",bytes:5863},{name:"shocking_flavors_s.png",md5:"bffa66369cb32de7560515d738e998ba",bytes:3602},{name:"shocking_eggs_s.png",md5:"59d4d7738a104e254ea9c4442abe14f5",bytes:3994},{name:"sb_lr_bg.jpg",md5:"36b3cde6db81af1b8d2e047e5110dba1",bytes:69001},{name:"round_eggs_s.png",md5:"df609a7857125efdd6cf7b57a1c3a5ba",bytes:3757},{name:"redEx.png",md5:"d74b471726179e273f1b555feec8a8f4",bytes:2964},{name:"moldy_flavora_s.png",md5:"f0666c113718c98951f345777560accf",bytes:3716},{name:"mixingBowl.png",md5:"91d52ab56978d0902815e643fda5921d",bytes:12017},{name:"gooey_frostings_s.png",md5:"6ad3ed005cf1c54fb3fd9159ab03bcc0",bytes:3914},{name:"glowing_eggs_s.png",md5:"05f6af853796d6f2a8ddeaa815c7c8a7",bytes:3647},{name:"chomping_flavors_s.png",md5:"3670918d741801235db0e315956116d0",bytes:4448},{name:"cake/frosting_snaily.png",md5:"55d3b0f2f70f92a54afb1d8a184c85b6",bytes:2849},{name:"cake/frosting_smelly.png",md5:"be4e7fc0668a467120d6329e0f41f1eb",bytes:5066},{name:"cake/frosting_shocking.png",md5:"94d25246ab07e93ad8f44efe09091f04",bytes:2985},{name:"cake/frosting_gooey.png",md5:"652600ad375dda3e6cf3bc98507111fa",bytes:4371},{name:"cake/frosting_brown.png",md5:"49c195345980e685800f286a0bd2f0e3",bytes:2513},{name:"cake/flavor_smelly.png",md5:"ccf9de0b4fbd37cee8594f340c9e0093",bytes:2487},{name:"cake/flavor_shocking.png",md5:"35f1eb046f135112c45f3c60ffd269f5",bytes:2608},{name:"cake/flavor_moldy.png",md5:"495eedc6f9acdc32a4f24b53b2e13500",bytes:3979},{name:"cake/flavor_furry.png",md5:"e911de682cf8900ab5ce1964e99ee28e",bytes:4096},{name:"cake/flavor_chomping.png",md5:"c5cac14481ca910b9cfacac3621c2c86",bytes:3198},{name:"cake/egg_smelly.png",md5:"59741fc079f1bce5da7fe7f2764d9291",bytes:6720},{name:"cake/egg_shocking.png",md5:"e9ded93bbc5900eb8d134fa962ce7523",bytes:6615},{name:"cake/egg_round.png",md5:"db65ce2858b40dcd4dba429d511dc92f",bytes:7355},{name:"cake/egg_glowing.png",md5:"8fe63ac45808a72172fa65f7a35d209b",bytes:11006},{name:"cake/egg_alive.png",md5:"60d377764480fff4b6e36dcf3f3d48b2",bytes:7799},{name:"bubble.png",md5:"0308d5713a4d073e6268ef12528c2f42",bytes:7303},{name:"brown_frostings_s.png",md5:"edd3c1b91fa1e0e14664e8a20804ef20",bytes:6220},{name:"bookshelf.png",md5:"afdd7f9e3a022f1c4be4f12f4f13b8cd",bytes:21852},{name:"background.jpg",md5:"f0c969d2759f45bca6a4b7f4055cdd05",bytes:30138},{name:"anim_transition/library.json",md5:"ff81b81f8734ae3ed350c90c8fa35d0a",bytes:847},{name:"anim_transition/atlas0.png",md5:"05e405f53136d4fab84b1eb0372ad521",bytes:22287},{name:"anim_spongebob/library.json",md5:"e299e4264e155baf72feccc9e888ed01",bytes:56588},{name:"anim_spongebob/atlas0.png",md5:"e1e44f9aeb3dc6456e6e2bfb5fcdbdc6",bytes:411755},{name:"anim_player/library.json",md5:"437d062e2094baa2bb76768ce2108296",bytes:162982},{name:"anim_player/atlas3.png",md5:"13f846b79ee8bf004ad073d6ef71c498",bytes:172542},{name:"anim_player/atlas2.png",md5:"13b1d3665a52ae1c186d3b1e98d8b5e4",bytes:200437},{name:"anim_player/atlas1.png",md5:"21fc40faa1472791794f257b86c59330",bytes:202620},{name:"anim_player/atlas0.png",md5:"e120c0b626ffa546e4c07ec3c4ccf0ff",bytes:103419},{name:"anim_patrick/library.json",md5:"5226f25ff2ef25d490e9d80ba95db06f",bytes:100676},{name:"anim_patrick/atlas1.png",md5:"3c1098fb8f3cedabdebcfad38f7c26c9",bytes:24738},{name:"anim_patrick/atlas0.png",md5:"15af7ce58cae8c2c9763bc59c58648b8",bytes:151005},{name:"alive_eggs_s.png",md5:"23bcaad8bdef9e4c561ea29e1e2fc295",bytes:3834}]);a.set("gameplay_audio",[{name:"audio/Sound_teeth.ogg",md5:"cad07cd17a378b90a71c36efa2b27124",bytes:86209},{name:"audio/Sound_teeth.mp3",md5:"bd374525ab7b98f9179cdb5052174875",bytes:100753},{name:"audio/Sound_static.ogg",md5:"83c5e7125b7b1c008d3c845bc499d438",bytes:20247},{name:"audio/Sound_static.mp3",md5:"0a9b7f3f1e5005e2c242a02136fedddc",bytes:11727},{name:"audio/Sound_rat.ogg",md5:"56dc82870eef1795b91cad38593071d3",bytes:12802},{name:"audio/Sound_rat.mp3",md5:"8cb09c4ea9525cbe24db0b6a80e24715",bytes:6712},{name:"audio/Sound_puke.ogg",md5:"d4ee78c1fc866ce9df09f4f30ba40463",bytes:100699},{name:"audio/Sound_puke.mp3",md5:"6d60c9330120b6db04cef88bf5deb066",bytes:119979},{name:"audio/Sound_pour2.ogg",md5:"ba18b8abc6284f376bf7310d6b400a57",bytes:101606},{name:"audio/Sound_pour2.mp3",md5:"376e8dd8ab4bc91d0518e61b9dccfe77",bytes:104932},{name:"audio/Sound_pour.ogg",md5:"59be1006ec33218c6cb2f48e56784b40",bytes:69500},{name:"audio/Sound_pour.mp3",md5:"65944161cc98b550456d107b23191cb7",bytes:65226},{name:"audio/Sound_poop.ogg",md5:"f2ad7b379f47e4b175fc7d376deaaf65",bytes:13896},{name:"audio/Sound_poop.mp3",md5:"1a0a35b6c0de8e255af239c50f01b0ed",bytes:9220},{name:"audio/Sound_patHappy.ogg",md5:"5ae765da2fdf639be7ba856fce10cfbd",bytes:29080},{name:"audio/Sound_patHappy.mp3",md5:"e47c5daa82fa2e6f3aa7027b91c3f48a",bytes:32625},{name:"audio/Sound_makeCake.ogg",md5:"a7df9f31e7d283c5ec0c96103886421f",bytes:106513},{name:"audio/Sound_makeCake.mp3",md5:"610e4a56c5e3062ab5b832ee8b9c9510",bytes:97409},{name:"audio/Sound_levelUp.ogg",md5:"74188df5455c06f0ee0a793ea78a83a1",bytes:30187},{name:"audio/Sound_levelUp.mp3",md5:"e7d6ab33d23244d406563c306d7ad933",bytes:91140},{name:"audio/Sound_kerplunk.ogg",md5:"ba807294a4391248ee2434870cee29c8",bytes:11134},{name:"audio/Sound_kerplunk.mp3",md5:"aaa16e7afa735449aaa71eb5fab294c8",bytes:10056},{name:"audio/Sound_jellyEggs.ogg",md5:"4627d746dce8a0f8ab6545fcbe9f743c",bytes:44310},{name:"audio/Sound_jellyEggs.mp3",md5:"c40a93979e17c925c0826a2fe0bf322f",bytes:49762},{name:"audio/Sound_gross.ogg",md5:"76252657bfaa83a10472fff586ac1706",bytes:76256},{name:"audio/Sound_gross.mp3",md5:"ef17ad2ef793b3a5817499ae3d8fd26e",bytes:39731},{name:"audio/Sound_ghostEggs.ogg",md5:"9dd34ef605f3100039461436aae73db2",bytes:81068},{name:"audio/Sound_ghostEggs.mp3",md5:"3ec3b8d2c6aff01b122c6138ebf02e7f",bytes:97409},{name:"audio/Sound_clapping.ogg",md5:"599d1919e256527b653222c4ec968a8c",bytes:73050},{name:"audio/Sound_clapping.mp3",md5:"ea83e0ede54be5229717c2ff34da1353",bytes:87378},{name:"audio/Sound_chomp.ogg",md5:"70653ed813de0ce0cce2f094633b99db",bytes:16587},{name:"audio/Sound_chomp.mp3",md5:"3ec83ebd56806f00f3e87fea061b912e",bytes:9638},{name:"audio/Sound_cat.ogg",md5:"589ae244723e2c57655f60c5228a32e5",bytes:69256},{name:"audio/Sound_cat.mp3",md5:"bc2df4dda7f12a99b5d4894f862d0e47",bytes:86960}]);a.set("fonts_la",[{name:"Basic.png",md5:"457919de645ff342cc35cff51e6a4416",bytes:288690},{name:"Basic.fnt",md5:"ef2cbb19379deab9c8b63d0873296e75",bytes:31991}]);a.set("fonts_kr",[{name:"Basic.png",md5:"457919de645ff342cc35cff51e6a4416",bytes:288690},{name:"Basic.fnt",md5:"ef2cbb19379deab9c8b63d0873296e75",bytes:31991}]);a.set("fonts_jp",[{name:"Basic.png",md5:"457919de645ff342cc35cff51e6a4416",bytes:288690},{name:"Basic.fnt",md5:"ef2cbb19379deab9c8b63d0873296e75",bytes:31991}]);a.set("fonts_en",[{name:"Basic.png",md5:"cf7a6a09922da8eff284000b0de322e7",bytes:275327},{name:"Basic.fnt",md5:"b8544d3108a0eb3b425441d6598fd234",bytes:12012}]);a.set("fonts_cn",[{name:"Basic.png",md5:"457919de645ff342cc35cff51e6a4416",bytes:288690},{name:"Basic.fnt",md5:"ef2cbb19379deab9c8b63d0873296e75",bytes:31991}]);a.set("eula",[{name:"privacypolicy.html",md5:"425208b48c909bcb337aa8ad7387e91c",bytes:64178},{name:"eula.html",md5:"be2ecdd67700910d2dbbf6f229980470",bytes:19031}]);a.set("bootstrap",[{name:"ui/loading_spinner.png",md5:"4d3d00e1e4ec16e9b3cbb531f6c59dcd",bytes:12504},{name:"ui/loading_panel.jpg",md5:"12a1fff0444c2e8c43f8f7edcd467661",bytes:137182},{name:"config/translation_la.xml",md5:"d0bb03966a8bcdc1f4d2cff0541e8f6b",bytes:6413},{name:"config/translation_kr.xml",md5:"d0bb03966a8bcdc1f4d2cff0541e8f6b",bytes:6413},{name:"config/translation_jp.xml",md5:"d0bb03966a8bcdc1f4d2cff0541e8f6b",bytes:6413},{name:"config/translation_en.xml",md5:"56e72e478c3ba3260e89e81454c8c02f",bytes:6413},{name:"config/translation_cn.xml",md5:"d0bb03966a8bcdc1f4d2cff0541e8f6b",bytes:6413},{name:"config/config.xml",md5:"5837e92f5cd57e023bdd8407ae1f4536",bytes:1675},{name:"audio/silent.ogg",md5:"3526550092a0e091f382852de5ef2315",bytes:5514},{name:"audio/silent.mp3",md5:"ba9e6829ba32e427142251a85cbd4fbb",bytes:2114}]);for(var b=new H,c=a.keys();c.hasNext();){var d=c.next(),e=new z.Manifest;e.set_relativeBasePath("assets");for(var f=0,g=a.get(d);f<g.length;){var h=g[f];++f;var i=h.name,j=d+"/"+i+"?v="+r.string(h.md5),k=z.Manifest.inferType(i);if(k==z.AssetType.Image||k==z.AssetType.Audio)i=l.Strings.removeFileExtension(i);e.add(i,j,h.bytes,k)}b.set(d,e)}return b};z.Manifest.prototype={set_externalBasePath:function(a){this._externalBasePath=a;null!=a&&null;return a},get_externalBasePath:function(){return this._externalBasePath},set_relativeBasePath:function(a){this._relativeBasePath=a;null!=a&&null;return a},get_relativeBasePath:function(){return this._relativeBasePath},getFullURL:function(a){var b=null!=this.get_externalBasePath()&&z.Manifest._supportsCrossOrigin?this.get_externalBasePath():this.get_relativeBasePath(),c=null!=this.get_externalBasePath()?this.get_externalBasePath():this.get_relativeBasePath();a.type==z.AssetType.Data&&(c=b);return null!=c?l.Strings.joinPath(c,a.url):a.url},clone:function(){var a=new z.Manifest;a.set_relativeBasePath(this.get_relativeBasePath());a.set_externalBasePath(this.get_externalBasePath());a._entries=this._entries.slice();return a},iterator:function(){return B.iter(this._entries)},add:function(a,b,c,d){null==c&&(c=0);null==d&&(d=z.Manifest.inferType(b));a=new z.AssetEntry(a,b,d,c);this._entries.push(a);return a},__class__:z.Manifest};j={};j.BlendMode=k["flambe.display.BlendMode"]={__ename__:["flambe","display","BlendMode"],__constructs__:["Normal","Add","CopyExperimental"]};j.BlendMode.Normal=["Normal",0];j.BlendMode.Normal.toString=n;j.BlendMode.Normal.__enum__=j.BlendMode;j.BlendMode.Add=["Add",1];j.BlendMode.Add.toString=n;j.BlendMode.Add.__enum__=j.BlendMode;j.BlendMode.CopyExperimental=["CopyExperimental",2];j.BlendMode.CopyExperimental.toString=n;j.BlendMode.CopyExperimental.__enum__=j.BlendMode;L={Point:function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b}};k["flambe.math.Point"]=L.Point;L.Point.__name__=["flambe","math","Point"];L.Point.prototype={__class__:L.Point};j.Sprite=function(){this.blendMode=this.scissor=null;var a=this;this._flags=11;this._localMatrix=new L.Matrix;var b=function(){a._flags|=12};this.x=new F.AnimatedFloat(0,b);this.y=new F.AnimatedFloat(0,b);this.rotation=new F.AnimatedFloat(0,b);this.scaleX=new F.AnimatedFloat(1,b);this.scaleY=new F.AnimatedFloat(1,b);this.anchorX=new F.AnimatedFloat(0,b);this.anchorY=new F.AnimatedFloat(0,b);this.alpha=new F.AnimatedFloat(1)};k["flambe.display.Sprite"]=j.Sprite;j.Sprite.__name__=["flambe","display","Sprite"];j.Sprite.hitTest=function(a,b,c){var d=a._compMap.Sprite_1;if(null!=d){if(3!=(d._flags&3))return null;d.getLocalMatrix().inverseTransform(b,c,j.Sprite._scratchPoint)&&(b=j.Sprite._scratchPoint.x,c=j.Sprite._scratchPoint.y);var e=d.scissor;if(null!=e&&!e.contains(b,c))return null}a=j.Sprite.hitTestBackwards(a.firstChild,b,c);return null!=a?a:null!=d&&d.containsLocal(b,c)?d:null};j.Sprite.render=function(a,b){var c=a._compMap.Sprite_1;if(null!=c){var d=c.alpha._value;if(0==(c._flags&1)||0>=d)return;b.save();1>d&&b.multiplyAlpha(d);null!=c.blendMode&&b.setBlendMode(c.blendMode);d=c.getLocalMatrix();b.transform(d.m00,d.m10,d.m01,d.m11,d.m02,d.m12);d=c.scissor;null!=d&&b.applyScissor(d.x,d.y,d.width,d.height);c.draw(b)}d=a._compMap.Director_0;if(null!=d)for(var d=d.occludedScenes,e=0;e<d.length;){var f=d[e];++e;j.Sprite.render(f,b)}for(d=a.firstChild;null!=d;)e=d.next,j.Sprite.render(d,b),d=e;null!=c&&b.restore()};j.Sprite.hitTestBackwards=function(a,b,c){if(null!=a){var d=j.Sprite.hitTestBackwards(a.next,b,c);return null!=d?d:j.Sprite.hitTest(a,b,c)}return null};j.Sprite.__super__=P;j.Sprite.prototype=y(P.prototype,{set_pointerEnabled:function(a){this._flags=l.BitSets.set(this._flags,2,a);return a},set_visible:function(a){this._flags=l.BitSets.set(this._flags,1,a);return a},get_pointerUp:function(){null==this._internal_pointerUp&&(this._internal_pointerUp=new l.Signal1);return this._internal_pointerUp},get_pointerMove:function(){null==this._internal_pointerMove&&(this._internal_pointerMove=new l.Signal1);return this._internal_pointerMove},get_pointerDown:function(){null==this._internal_pointerDown&&(this._internal_pointerDown=new l.Signal1);return this._internal_pointerDown},draw:function(){},onUpdate:function(a){this.x.update(a);this.y.update(a);this.rotation.update(a);this.scaleX.update(a);this.scaleY.update(a);this.alpha.update(a);this.anchorX.update(a);this.anchorY.update(a)},getLocalMatrix:function(){0!=(this._flags&4)&&(this._flags&=-5,this._localMatrix.compose(this.x._value,this.y._value,this.scaleX._value,this.scaleY._value,3.141592653589793*this.rotation._value/180),this._localMatrix.translate(-this.anchorX._value,-this.anchorY._value));return this._localMatrix},containsLocal:function(a,b){return 0<=a&&a<this.getNaturalWidth()&&0<=b&&b<this.getNaturalHeight()},getNaturalHeight:function(){return 0},getNaturalWidth:function(){return 0},get_name:function(){return"Sprite_1"},__class__:j.Sprite});j.FillSprite=function(a,b,c){j.Sprite.call(this);this.color=a;this.width=new F.AnimatedFloat(b);this.height=new F.AnimatedFloat(c)};k["flambe.display.FillSprite"]=j.FillSprite;j.FillSprite.__name__=["flambe","display","FillSprite"];j.FillSprite.__super__=j.Sprite;j.FillSprite.prototype=y(j.Sprite.prototype,{onUpdate:function(a){j.Sprite.prototype.onUpdate.call(this,a);this.width.update(a);this.height.update(a)},getNaturalHeight:function(){return this.height._value},getNaturalWidth:function(){return this.width._value},draw:function(a){a.fillRect(this.color,0,0,this.width._value,this.height._value)},__class__:j.FillSprite});j.Font=function(a,b){this.name=b;this._glyphs=new W;for(var c=new j._Font.ConfigParser(a.getFile(b+".fnt")),d=new W,e=b.lastIndexOf("/"),e=0<=e?B.substr(b,0,e+1):"",f=c.keywords();f.hasNext();)switch(f.next()){case "info":for(var g=c.pairs();g.hasNext();){var h=g.next();switch(h.key){case "size":this.size=h.getInt()}}break;case "page":for(var g=0,i=null,k=c.pairs();k.hasNext();)switch(h=k.next(),h.key){case "id":g=h.getInt();break;case "file":i=h.getString()}d.set(g,a.getTexture(e+l.Strings.removeFileExtension(i)));break;case "char":g=null;for(i=c.pairs();i.hasNext();)switch(h=i.next(),h.key){case "id":g=new j.Glyph(h.getInt());break;case "x":g.x=h.getInt();break;case "y":g.y=h.getInt();break;case "width":g.width=h.getInt();break;case "height":g.height=h.getInt();break;case "page":g.page=d.get(h.getInt());break;case "xoffset":g.xOffset=h.getInt();break;case "yoffset":g.yOffset=h.getInt();break;case "xadvance":g.xAdvance=h.getInt()}this._glyphs.set(g.charCode,g);break;case "kerning":g=null;i=-1;for(k=c.pairs();k.hasNext();)switch(h=k.next(),h.key){case "first":g=this._glyphs.get(h.getInt());break;case "second":i=h.getInt();break;case "amount":g._internal_setKerning(i,h.getInt())}}};k["flambe.display.Font"]=j.Font;j.Font.__name__=["flambe","display","Font"];j.Font.prototype={getGlyphs:function(a){for(var b=[],c=0,d=a.length;c<d;){var e=c++,e=this._glyphs.get(a.charCodeAt(e));null!=e?b.push(e):null}return b},__class__:j.Font};j.Glyph=function(a){this.charCode=a};k["flambe.display.Glyph"]=j.Glyph;j.Glyph.__name__=["flambe","display","Glyph"];j.Glyph.prototype={_internal_setKerning:function(a,b){null==this._kernings&&(this._kernings=new W);this._kernings.set(a,b)},getKerning:function(a){return null!=this._kernings?this._kernings.get(a)|0:0},draw:function(a,b,c){0<this.width&&a.drawSubImage(this.page,b+this.xOffset,c+this.yOffset,this.x,this.y,this.width,this.height)},__class__:j.Glyph};j._Font={};j._Font.ConfigParser=function(a){this._configText=a;this._keywordPattern=new X("([a-z]+)(.*)","");this._pairPattern=new X('([a-z]+)=("[^"]*"|[^\\s]+)',"")};k["flambe.display._Font.ConfigParser"]=j._Font.ConfigParser;j._Font.ConfigParser.__name__=["flambe","display","_Font","ConfigParser"];j._Font.ConfigParser.advance=function(a,b){var c=b.matchedPos();return B.substr(a,c.pos+c.len,a.length)};j._Font.ConfigParser.prototype={pairs:function(){var a=this,b=this._pairText;return{next:function(){b=j._Font.ConfigParser.advance(b,a._pairPattern);return new j._Font.ConfigPair(a._pairPattern.matched(1),a._pairPattern.matched(2))},hasNext:function(){return a._pairPattern.match(b)}}},keywords:function(){var a=this,b=this._configText;return{next:function(){b=j._Font.ConfigParser.advance(b,a._keywordPattern);a._pairText=a._keywordPattern.matched(2);return a._keywordPattern.matched(1)},hasNext:function(){return a._keywordPattern.match(b)}}},__class__:j._Font.ConfigParser};j._Font.ConfigPair=function(a,b){this.key=a;this._value=b};k["flambe.display._Font.ConfigPair"]=j._Font.ConfigPair;j._Font.ConfigPair.__name__=["flambe","display","_Font","ConfigPair"];j._Font.ConfigPair.prototype={getString:function(){return 34!=this._value.charCodeAt(0)?null:B.substr(this._value,1,this._value.length-2)},getInt:function(){return r.parseInt(this._value)},__class__:j._Font.ConfigPair};j.Graphics=function(){};k["flambe.display.Graphics"]=j.Graphics;j.Graphics.__name__=["flambe","display","Graphics"];j.Graphics.prototype={__class__:j.Graphics};j.ImageSprite=function(a){j.Sprite.call(this);this.texture=a};k["flambe.display.ImageSprite"]=j.ImageSprite;j.ImageSprite.__name__=["flambe","display","ImageSprite"];j.ImageSprite.__super__=j.Sprite;j.ImageSprite.prototype=y(j.Sprite.prototype,{getNaturalHeight:function(){return this.texture.get_height()},getNaturalWidth:function(){return this.texture.get_width()},draw:function(a){a.drawImage(this.texture,0,0)},__class__:j.ImageSprite});j.MaskSprite=function(a,b){j.Sprite.call(this);this.image=b;this.shape=a;this.flagRefreshMask=!0};k["flambe.display.MaskSprite"]=j.MaskSprite;j.MaskSprite.__name__=["flambe","display","MaskSprite"];j.MaskSprite.__super__=j.Sprite;j.MaskSprite.prototype=y(j.Sprite.prototype,{onUpdate:function(a){j.Sprite.prototype.onUpdate.call(this,a);this.image.onUpdate(a);this.shape.onUpdate(a)},draw:function(a){a.mask(this.shape,this.image)},__class__:j.MaskSprite});j.Orientation=k["flambe.display.Orientation"]={__ename__:["flambe","display","Orientation"],__constructs__:["Portrait","Landscape"]};j.Orientation.Portrait=["Portrait",0];j.Orientation.Portrait.toString=n;j.Orientation.Portrait.__enum__=j.Orientation;j.Orientation.Landscape=["Landscape",1];j.Orientation.Landscape.toString=n;j.Orientation.Landscape.__enum__=j.Orientation;j.SHAPE_METHODS=k["flambe.display.SHAPE_METHODS"]={__ename__:["flambe","display","SHAPE_METHODS"],__constructs__:"MoveTo,LineTo,BeginPath,ClosePath,BeginStroke,EndStroke,BeginFill,EndFill,QuadCurve,BezCurve,Save,Restore,DrawRect,Arc".split(",")};j.SHAPE_METHODS.MoveTo=["MoveTo",0];j.SHAPE_METHODS.MoveTo.toString=n;j.SHAPE_METHODS.MoveTo.__enum__=j.SHAPE_METHODS;j.SHAPE_METHODS.LineTo=["LineTo",1];j.SHAPE_METHODS.LineTo.toString=n;j.SHAPE_METHODS.LineTo.__enum__=j.SHAPE_METHODS;j.SHAPE_METHODS.BeginPath=["BeginPath",2];j.SHAPE_METHODS.BeginPath.toString=n;j.SHAPE_METHODS.BeginPath.__enum__=j.SHAPE_METHODS;j.SHAPE_METHODS.ClosePath=["ClosePath",3];j.SHAPE_METHODS.ClosePath.toString=n;j.SHAPE_METHODS.ClosePath.__enum__=j.SHAPE_METHODS;j.SHAPE_METHODS.BeginStroke=["BeginStroke",4];j.SHAPE_METHODS.BeginStroke.toString=n;j.SHAPE_METHODS.BeginStroke.__enum__=j.SHAPE_METHODS;j.SHAPE_METHODS.EndStroke=["EndStroke",5];j.SHAPE_METHODS.EndStroke.toString=n;j.SHAPE_METHODS.EndStroke.__enum__=j.SHAPE_METHODS;j.SHAPE_METHODS.BeginFill=["BeginFill",6];j.SHAPE_METHODS.BeginFill.toString=n;j.SHAPE_METHODS.BeginFill.__enum__=j.SHAPE_METHODS;j.SHAPE_METHODS.EndFill=["EndFill",7];j.SHAPE_METHODS.EndFill.toString=n;j.SHAPE_METHODS.EndFill.__enum__=j.SHAPE_METHODS;j.SHAPE_METHODS.QuadCurve=["QuadCurve",8];j.SHAPE_METHODS.QuadCurve.toString=n;j.SHAPE_METHODS.QuadCurve.__enum__=j.SHAPE_METHODS;j.SHAPE_METHODS.BezCurve=["BezCurve",9];j.SHAPE_METHODS.BezCurve.toString=n;j.SHAPE_METHODS.BezCurve.__enum__=j.SHAPE_METHODS;j.SHAPE_METHODS.Save=["Save",10];j.SHAPE_METHODS.Save.toString=n;j.SHAPE_METHODS.Save.__enum__=j.SHAPE_METHODS;j.SHAPE_METHODS.Restore=["Restore",11];j.SHAPE_METHODS.Restore.toString=n;j.SHAPE_METHODS.Restore.__enum__=j.SHAPE_METHODS;j.SHAPE_METHODS.DrawRect=["DrawRect",12];j.SHAPE_METHODS.DrawRect.toString=n;j.SHAPE_METHODS.DrawRect.__enum__=j.SHAPE_METHODS;j.SHAPE_METHODS.Arc=["Arc",13];j.SHAPE_METHODS.Arc.toString=n;j.SHAPE_METHODS.Arc.__enum__=j.SHAPE_METHODS;j.ShapeSprite=function(){this.isShape=this.isLine=this.isPath=!1;this.color=0;j.Sprite.call(this);this.points=[]};k["flambe.display.ShapeSprite"]=j.ShapeSprite;j.ShapeSprite.__name__=["flambe","display","ShapeSprite"];j.ShapeSprite.__super__=j.Sprite;j.ShapeSprite.prototype=y(j.Sprite.prototype,{draw:function(a){this.isShape&&a.beginFill(this.color);this.isLine&&a.beginStroke(this.color,1);for(var b=0;b<this.points.length;){switch(this.points[b][0][1]){case 0:a.moveTo(this.points[b][1],this.points[b][2]);break;case 1:a.lineTo(this.points[b][1],this.points[b][2]);break;case 2:a.beginPath();break;case 3:a.closePath();break;case 4:a.beginStroke(this.points[b][1],this.points[b][2]);break;case 5:a.endStroke();break;case 6:a.beginFill(this.points[b][1]);break;case 7:a.endFill();break;case 8:a.quadraticCurveTo(this.points[b][1],this.points[b][2],this.points[b][3],this.points[b][4]);break;case 9:a.bezierCurveTo(this.points[b][1],this.points[b][2],this.points[b][3],this.points[b][4],this.points[b][5],this.points[b][6]);break;case 10:a.save();break;case 11:a.restore();break;case 12:a.fillRect(this.color,this.points[b][1],this.points[b][2],this.points[b][3],this.points[b][4]);break;case 13:a.arc(this.points[b][1],this.points[b][2],this.points[b][3],this.points[b][4],this.points[b][5])}b++}this.isShape&&a.endFill();this.isLine&&a.endStroke();!this.isPath&&(this.isShape||this.isLine)&&a.drawShapeSprite();null==this.graphics&&(this.graphics=a)},__class__:j.ShapeSprite});j.Stage=function(){};k["flambe.display.Stage"]=j.Stage;j.Stage.__name__=["flambe","display","Stage"];j.Stage.prototype={__class__:j.Stage};j.TextSprite=function(a,b){null==b&&(b="");this._width=this._height=0;this._glyphs=this._offsets=this._font=this._text=null;j.Sprite.call(this);this._font=a;this._text=b;this._flags|=32};k["flambe.display.TextSprite"]=j.TextSprite;j.TextSprite.__name__=["flambe","display","TextSprite"];j.TextSprite.__super__=j.Sprite;j.TextSprite.prototype=y(j.Sprite.prototype,{updateGlyphs:function(){if(0!=(this._flags&32)){this._flags&=-33;this._glyphs=this._font.getGlyphs(this._text);this._offsets=[0];for(var a=this._height=this._width=0,b=this._glyphs.length;a<b;){var c=this._glyphs[a];++a;a==b?this._width+=c.width:(this._width+=c.xAdvance+c.getKerning(this._glyphs[a].charCode),this._offsets.push(this._width));this._height=L.FMath.max(this._height,c.height+c.yOffset)}}},set_font:function(a){this._font=a;this._flags|=32;return a},set_text:function(a){this._text=a;this._flags|=32;return a},getNaturalHeight:function(){this.updateGlyphs();return this._height},getNaturalWidth:function(){this.updateGlyphs();return this._width},draw:function(a){this.updateGlyphs();for(var b=0,c=this._glyphs.length;b<c;)this._glyphs[b].draw(a,this._offsets[b],0),++b},__class__:j.TextSprite});j.Texture=function(){};k["flambe.display.Texture"]=j.Texture;j.Texture.__name__=["flambe","display","Texture"];j.Texture.prototype={__class__:j.Texture};A={External:function(){}};k["flambe.external.External"]=A.External;A.External.__name__=["flambe","external","External"];A.External.prototype={__class__:A.External};d={};d.Key=k["flambe.input.Key"]={__ename__:["flambe","input","Key"],__constructs__:"A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,Number0,Number1,Number2,Number3,Number4,Number5,Number6,Number7,Number8,Number9,Numpad0,Numpad1,Numpad2,Numpad3,Numpad4,Numpad5,Numpad6,Numpad7,Numpad8,Numpad9,NumpadAdd,NumpadDecimal,NumpadDivide,NumpadEnter,NumpadMultiply,NumpadSubtract,F1,F2,F3,F4,F5,F6,F7,F8,F9,F10,F11,F12,F13,F14,F15,Left,Up,Right,Down,Alt,Backquote,Backslash,Backspace,CapsLock,Comma,Command,Control,Delete,End,Enter,Equals,Escape,Home,Insert,LeftBracket,Minus,PageDown,PageUp,Period,Quote,RightBracket,Semicolon,Shift,Slash,Space,Tab,Menu,Search,Unknown".split(",")};d.Key.A=["A",0];d.Key.A.toString=n;d.Key.A.__enum__=d.Key;d.Key.B=["B",1];d.Key.B.toString=n;d.Key.B.__enum__=d.Key;d.Key.C=["C",2];d.Key.C.toString=n;d.Key.C.__enum__=d.Key;d.Key.D=["D",3];d.Key.D.toString=n;d.Key.D.__enum__=d.Key;d.Key.E=["E",4];d.Key.E.toString=n;d.Key.E.__enum__=d.Key;d.Key.F=["F",5];d.Key.F.toString=n;d.Key.F.__enum__=d.Key;d.Key.G=["G",6];d.Key.G.toString=n;d.Key.G.__enum__=d.Key;d.Key.H=["H",7];d.Key.H.toString=n;d.Key.H.__enum__=d.Key;d.Key.I=["I",8];d.Key.I.toString=n;d.Key.I.__enum__=d.Key;d.Key.J=["J",9];d.Key.J.toString=n;d.Key.J.__enum__=d.Key;d.Key.K=["K",10];d.Key.K.toString=n;d.Key.K.__enum__=d.Key;d.Key.L=["L",11];d.Key.L.toString=n;d.Key.L.__enum__=d.Key;d.Key.M=["M",12];d.Key.M.toString=n;d.Key.M.__enum__=d.Key;d.Key.N=["N",13];d.Key.N.toString=n;d.Key.N.__enum__=d.Key;d.Key.O=["O",14];d.Key.O.toString=n;d.Key.O.__enum__=d.Key;d.Key.P=["P",15];d.Key.P.toString=n;d.Key.P.__enum__=d.Key;d.Key.Q=["Q",16];d.Key.Q.toString=n;d.Key.Q.__enum__=d.Key;d.Key.R=["R",17];d.Key.R.toString=n;d.Key.R.__enum__=d.Key;d.Key.S=["S",18];d.Key.S.toString=n;d.Key.S.__enum__=d.Key;d.Key.T=["T",19];d.Key.T.toString=n;d.Key.T.__enum__=d.Key;d.Key.U=["U",20];d.Key.U.toString=n;d.Key.U.__enum__=d.Key;d.Key.V=["V",21];d.Key.V.toString=n;d.Key.V.__enum__=d.Key;d.Key.W=["W",22];d.Key.W.toString=n;d.Key.W.__enum__=d.Key;d.Key.X=["X",23];d.Key.X.toString=n;d.Key.X.__enum__=d.Key;d.Key.Y=["Y",24];d.Key.Y.toString=n;d.Key.Y.__enum__=d.Key;d.Key.Z=["Z",25];d.Key.Z.toString=n;d.Key.Z.__enum__=d.Key;d.Key.Number0=["Number0",26];d.Key.Number0.toString=n;d.Key.Number0.__enum__=d.Key;d.Key.Number1=["Number1",27];d.Key.Number1.toString=n;d.Key.Number1.__enum__=d.Key;d.Key.Number2=["Number2",28];d.Key.Number2.toString=n;d.Key.Number2.__enum__=d.Key;d.Key.Number3=["Number3",29];d.Key.Number3.toString=n;d.Key.Number3.__enum__=d.Key;d.Key.Number4=["Number4",30];d.Key.Number4.toString=n;d.Key.Number4.__enum__=d.Key;d.Key.Number5=["Number5",31];d.Key.Number5.toString=n;d.Key.Number5.__enum__=d.Key;d.Key.Number6=["Number6",32];d.Key.Number6.toString=n;d.Key.Number6.__enum__=d.Key;d.Key.Number7=["Number7",33];d.Key.Number7.toString=n;d.Key.Number7.__enum__=d.Key;d.Key.Number8=["Number8",34];d.Key.Number8.toString=n;d.Key.Number8.__enum__=d.Key;d.Key.Number9=["Number9",35];d.Key.Number9.toString=n;d.Key.Number9.__enum__=d.Key;d.Key.Numpad0=["Numpad0",36];d.Key.Numpad0.toString=n;d.Key.Numpad0.__enum__=d.Key;d.Key.Numpad1=["Numpad1",37];d.Key.Numpad1.toString=n;d.Key.Numpad1.__enum__=d.Key;d.Key.Numpad2=["Numpad2",38];d.Key.Numpad2.toString=n;d.Key.Numpad2.__enum__=d.Key;d.Key.Numpad3=["Numpad3",39];d.Key.Numpad3.toString=n;d.Key.Numpad3.__enum__=d.Key;d.Key.Numpad4=["Numpad4",40];d.Key.Numpad4.toString=n;d.Key.Numpad4.__enum__=d.Key;d.Key.Numpad5=["Numpad5",41];d.Key.Numpad5.toString=n;d.Key.Numpad5.__enum__=d.Key;d.Key.Numpad6=["Numpad6",42];d.Key.Numpad6.toString=n;d.Key.Numpad6.__enum__=d.Key;d.Key.Numpad7=["Numpad7",43];d.Key.Numpad7.toString=n;d.Key.Numpad7.__enum__=d.Key;d.Key.Numpad8=["Numpad8",44];d.Key.Numpad8.toString=n;d.Key.Numpad8.__enum__=d.Key;d.Key.Numpad9=["Numpad9",45];d.Key.Numpad9.toString=n;d.Key.Numpad9.__enum__=d.Key;d.Key.NumpadAdd=["NumpadAdd",46];d.Key.NumpadAdd.toString=n;d.Key.NumpadAdd.__enum__=d.Key;d.Key.NumpadDecimal=["NumpadDecimal",47];d.Key.NumpadDecimal.toString=n;d.Key.NumpadDecimal.__enum__=d.Key;d.Key.NumpadDivide=["NumpadDivide",48];d.Key.NumpadDivide.toString=n;d.Key.NumpadDivide.__enum__=d.Key;d.Key.NumpadEnter=["NumpadEnter",49];d.Key.NumpadEnter.toString=n;d.Key.NumpadEnter.__enum__=d.Key;d.Key.NumpadMultiply=["NumpadMultiply",50];d.Key.NumpadMultiply.toString=n;d.Key.NumpadMultiply.__enum__=d.Key;d.Key.NumpadSubtract=["NumpadSubtract",51];d.Key.NumpadSubtract.toString=n;d.Key.NumpadSubtract.__enum__=d.Key;d.Key.F1=["F1",52];d.Key.F1.toString=n;d.Key.F1.__enum__=d.Key;d.Key.F2=["F2",53];d.Key.F2.toString=n;d.Key.F2.__enum__=d.Key;d.Key.F3=["F3",54];d.Key.F3.toString=n;d.Key.F3.__enum__=d.Key;d.Key.F4=["F4",55];d.Key.F4.toString=n;d.Key.F4.__enum__=d.Key;d.Key.F5=["F5",56];d.Key.F5.toString=n;d.Key.F5.__enum__=d.Key;d.Key.F6=["F6",57];d.Key.F6.toString=n;d.Key.F6.__enum__=d.Key;d.Key.F7=["F7",58];d.Key.F7.toString=n;d.Key.F7.__enum__=d.Key;d.Key.F8=["F8",59];d.Key.F8.toString=n;d.Key.F8.__enum__=d.Key;d.Key.F9=["F9",60];d.Key.F9.toString=n;d.Key.F9.__enum__=d.Key;d.Key.F10=["F10",61];d.Key.F10.toString=n;d.Key.F10.__enum__=d.Key;d.Key.F11=["F11",62];d.Key.F11.toString=n;d.Key.F11.__enum__=d.Key;d.Key.F12=["F12",63];d.Key.F12.toString=n;d.Key.F12.__enum__=d.Key;d.Key.F13=["F13",64];d.Key.F13.toString=n;d.Key.F13.__enum__=d.Key;d.Key.F14=["F14",65];d.Key.F14.toString=n;d.Key.F14.__enum__=d.Key;d.Key.F15=["F15",66];d.Key.F15.toString=n;d.Key.F15.__enum__=d.Key;d.Key.Left=["Left",67];d.Key.Left.toString=n;d.Key.Left.__enum__=d.Key;d.Key.Up=["Up",68];d.Key.Up.toString=n;d.Key.Up.__enum__=d.Key;d.Key.Right=["Right",69];d.Key.Right.toString=n;d.Key.Right.__enum__=d.Key;d.Key.Down=["Down",70];d.Key.Down.toString=n;d.Key.Down.__enum__=d.Key;d.Key.Alt=["Alt",71];d.Key.Alt.toString=n;d.Key.Alt.__enum__=d.Key;d.Key.Backquote=["Backquote",72];d.Key.Backquote.toString=n;d.Key.Backquote.__enum__=d.Key;d.Key.Backslash=["Backslash",73];d.Key.Backslash.toString=n;d.Key.Backslash.__enum__=d.Key;d.Key.Backspace=["Backspace",74];d.Key.Backspace.toString=n;d.Key.Backspace.__enum__=d.Key;d.Key.CapsLock=["CapsLock",75];d.Key.CapsLock.toString=n;d.Key.CapsLock.__enum__=d.Key;d.Key.Comma=["Comma",76];d.Key.Comma.toString=n;d.Key.Comma.__enum__=d.Key;d.Key.Command=["Command",77];d.Key.Command.toString=n;d.Key.Command.__enum__=d.Key;d.Key.Control=["Control",78];d.Key.Control.toString=n;d.Key.Control.__enum__=d.Key;d.Key.Delete=["Delete",79];d.Key.Delete.toString=n;d.Key.Delete.__enum__=d.Key;d.Key.End=["End",80];d.Key.End.toString=n;d.Key.End.__enum__=d.Key;d.Key.Enter=["Enter",81];d.Key.Enter.toString=n;d.Key.Enter.__enum__=d.Key;d.Key.Equals=["Equals",82];d.Key.Equals.toString=n;d.Key.Equals.__enum__=d.Key;d.Key.Escape=["Escape",83];d.Key.Escape.toString=n;d.Key.Escape.__enum__=d.Key;d.Key.Home=["Home",84];d.Key.Home.toString=n;d.Key.Home.__enum__=d.Key;d.Key.Insert=["Insert",85];d.Key.Insert.toString=n;d.Key.Insert.__enum__=d.Key;d.Key.LeftBracket=["LeftBracket",86];d.Key.LeftBracket.toString=n;d.Key.LeftBracket.__enum__=d.Key;d.Key.Minus=["Minus",87];d.Key.Minus.toString=n;d.Key.Minus.__enum__=d.Key;d.Key.PageDown=["PageDown",88];d.Key.PageDown.toString=n;d.Key.PageDown.__enum__=d.Key;d.Key.PageUp=["PageUp",89];d.Key.PageUp.toString=n;d.Key.PageUp.__enum__=d.Key;d.Key.Period=["Period",90];d.Key.Period.toString=n;d.Key.Period.__enum__=d.Key;d.Key.Quote=["Quote",91];d.Key.Quote.toString=n;d.Key.Quote.__enum__=d.Key;d.Key.RightBracket=["RightBracket",92];d.Key.RightBracket.toString=n;d.Key.RightBracket.__enum__=d.Key;d.Key.Semicolon=["Semicolon",93];d.Key.Semicolon.toString=n;d.Key.Semicolon.__enum__=d.Key;d.Key.Shift=["Shift",94];d.Key.Shift.toString=n;d.Key.Shift.__enum__=d.Key;d.Key.Slash=["Slash",95];d.Key.Slash.toString=n;d.Key.Slash.__enum__=d.Key;d.Key.Space=["Space",96];d.Key.Space.toString=n;d.Key.Space.__enum__=d.Key;d.Key.Tab=["Tab",97];d.Key.Tab.toString=n;d.Key.Tab.__enum__=d.Key;d.Key.Menu=["Menu",98];d.Key.Menu.toString=n;d.Key.Menu.__enum__=d.Key;d.Key.Search=["Search",99];d.Key.Search.toString=n;d.Key.Search.__enum__=d.Key;d.Key.Unknown=function(a){a=["Unknown",100,a];a.__enum__=d.Key;a.toString=n;return a};d.Keyboard=function(){};k["flambe.input.Keyboard"]=d.Keyboard;d.Keyboard.__name__=["flambe","input","Keyboard"];d.Keyboard.prototype={__class__:d.Keyboard};d.KeyboardEvent=function(){this._internal_init(0,null)};k["flambe.input.KeyboardEvent"]=d.KeyboardEvent;d.KeyboardEvent.__name__=["flambe","input","KeyboardEvent"];d.KeyboardEvent.prototype={_internal_init:function(a,b){this.id=a;this.key=b},__class__:d.KeyboardEvent};d.Mouse=function(){};k["flambe.input.Mouse"]=d.Mouse;d.Mouse.__name__=["flambe","input","Mouse"];d.Mouse.prototype={__class__:d.Mouse};d.MouseButton=k["flambe.input.MouseButton"]={__ename__:["flambe","input","MouseButton"],__constructs__:["Left","Middle","Right","Unknown"]};d.MouseButton.Left=["Left",0];d.MouseButton.Left.toString=n;d.MouseButton.Left.__enum__=d.MouseButton;d.MouseButton.Middle=["Middle",1];d.MouseButton.Middle.toString=n;d.MouseButton.Middle.__enum__=d.MouseButton;d.MouseButton.Right=["Right",2];d.MouseButton.Right.toString=n;d.MouseButton.Right.__enum__=d.MouseButton;d.MouseButton.Unknown=function(a){a=["Unknown",3,a];a.__enum__=d.MouseButton;a.toString=n;return a};d.MouseCursor=k["flambe.input.MouseCursor"]={__ename__:["flambe","input","MouseCursor"],__constructs__:["Default","Button","None"]};d.MouseCursor.Default=["Default",0];d.MouseCursor.Default.toString=n;d.MouseCursor.Default.__enum__=d.MouseCursor;d.MouseCursor.Button=["Button",1];d.MouseCursor.Button.toString=n;d.MouseCursor.Button.__enum__=d.MouseCursor;d.MouseCursor.None=["None",2];d.MouseCursor.None.toString=n;d.MouseCursor.None.__enum__=d.MouseCursor;d.MouseEvent=function(){this._internal_init(0,0,0,null)};k["flambe.input.MouseEvent"]=d.MouseEvent;d.MouseEvent.__name__=["flambe","input","MouseEvent"];d.MouseEvent.prototype={_internal_init:function(a,b,c,d){this.id=a;this.viewX=b;this.viewY=c;this.button=d},__class__:d.MouseEvent};d.Pointer=function(){};k["flambe.input.Pointer"]=d.Pointer;d.Pointer.__name__=["flambe","input","Pointer"];d.Pointer.prototype={__class__:d.Pointer};d.EventSource=k["flambe.input.EventSource"]={__ename__:["flambe","input","EventSource"],__constructs__:["Mouse","Touch"]};d.EventSource.Mouse=function(a){a=["Mouse",0,a];a.__enum__=d.EventSource;a.toString=n;return a};d.EventSource.Touch=function(a){a=["Touch",1,a];a.__enum__=d.EventSource;a.toString=n;return a};d.PointerEvent=function(){this._internal_init(0,0,0,null,null)};k["flambe.input.PointerEvent"]=d.PointerEvent;d.PointerEvent.__name__=["flambe","input","PointerEvent"];d.PointerEvent.prototype={_internal_init:function(a,b,c,d,e){this.id=a;this.viewX=b;this.viewY=c;this.hit=d;this.source=e;this._internal_stopped=!1},__class__:d.PointerEvent};d.Touch=function(){};k["flambe.input.Touch"]=d.Touch;d.Touch.__name__=["flambe","input","Touch"];d.Touch.prototype={__class__:d.Touch};d.TouchPoint=function(a){this.id=a;this._internal_source=d.EventSource.Touch(this)};k["flambe.input.TouchPoint"]=d.TouchPoint;d.TouchPoint.__name__=["flambe","input","TouchPoint"];d.TouchPoint.prototype={_internal_init:function(a,b){this.viewX=a;this.viewY=b},__class__:d.TouchPoint};L.FMath=function(){};k["flambe.math.FMath"]=L.FMath;L.FMath.__name__=["flambe","math","FMath"];L.FMath.max=function(a,b){return a>b?a:b};L.FMath.clamp=function(a,b,c){return a<b?b:a>c?c:a};L.Matrix=function(){this.identity()};k["flambe.math.Matrix"]=L.Matrix;L.Matrix.__name__=["flambe","math","Matrix"];L.Matrix.prototype={inverseTransform:function(a,b,c){var d=this.determinant();if(0==d)return!1;a-=this.m02;b-=this.m12;c.x=(a*this.m11-b*this.m01)/d;c.y=(b*this.m00-a*this.m10)/d;return!0},determinant:function(){return this.m00*this.m11-this.m01*this.m10},translate:function(a,b){this.m02+=this.m00*a+this.m01*b;this.m12+=this.m11*b+this.m10*a},compose:function(a,b,c,d,e){var f=Math.sin(e),e=Math.cos(e);this.set(e*c,f*c,-f*d,e*d,a,b)},identity:function(){this.set(1,0,0,1,0,0)},set:function(a,b,c,d,e,f){this.m00=a;this.m01=c;this.m02=e;this.m10=b;this.m11=d;this.m12=f},__class__:L.Matrix};L.Rectangle=function(a,b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.set(a,b,c,d)};k["flambe.math.Rectangle"]=L.Rectangle;L.Rectangle.__name__=["flambe","math","Rectangle"];L.Rectangle.prototype={contains:function(a,b){a-=this.x;b-=this.y;return 0<=a&&0<=b&&a<=this.width&&b<=this.height},set:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},__class__:L.Rectangle};f.BasicAssetPackLoader=function(a,b){this._platform=a;this.promise=new l.Promise;this._bytesLoaded=new H;this._pack=new f._BasicAssetPackLoader.BasicAssetPack(b);var c=ca.array(b);if(0==c.length)this.handleSuccess();else{for(var d=0,e=new H,g=0;g<c.length;){var h=c[g];++g;var i=e.get(h.name);null==i&&(i=[],e.set(h.name,i));i.push(h)}this._assetsRemaining=ca.count(e);for(c=e.iterator();c.hasNext();)if(i=c.next(),i=1<i.length?this.pickBestEntry(i):i[0],e=this.createPlaceholder(i),null!=e)this.handleLoad(i,e);else{d+=i.bytes;e=b.getFullURL(i);try{this.loadEntry(e,i)}catch(k){this.handleError(i,"Unexpected error: "+r.string(k))}}this.promise.set_total(d)}};k["flambe.platform.BasicAssetPackLoader"]=f.BasicAssetPackLoader;f.BasicAssetPackLoader.__name__=["flambe","platform","BasicAssetPackLoader"];f.BasicAssetPackLoader.prototype={handleTextureError:function(a){this.handleError(a,"Failed to create texture. Is the GPU context unavailable?")},handleError:function(a,b){this.promise.error.emit1(l.Strings.withFields(b,["url",a.url]))},handleSuccess:function(){this.promise.set_result(this._pack)},handleProgress:function(a,b){this._bytesLoaded.set(a.name,b);for(var c=0,d=this._bytesLoaded.iterator();d.hasNext();)var e=d.next(),c=c+e;this.promise.set_progress(c)},handleLoad:function(a,b){this.handleProgress(a,a.bytes);var c=a.name;switch(a.type[1]){case 0:this._pack.textures.set(c,b);break;case 1:this._pack.sounds.set(c,b);break;case 2:this._pack.files.set(c,b)}this._assetsRemaining-=1;0>=this._assetsRemaining&&this.handleSuccess()},getAudioFormats:function(){return[]},loadEntry:function(){},createPlaceholder:function(a){switch(a.type[1]){case 1:if(!ca.has(this.getAudioFormats(),a.getUrlExtension()))return f.DummySound.getInstance()}return null},pickBestEntry:function(a){switch(a[0].type[1]){case 1:for(var b=this.getAudioFormats(),c=0;c<b.length;){var d=b[c];++c;for(var e=0;e<a.length;){var f=a[e];++e;if(f.getUrlExtension()==d)return f}}}return a[0]},__class__:f.BasicAssetPackLoader};f._BasicAssetPackLoader={};f._BasicAssetPackLoader.BasicAssetPack=function(a){this._manifest=a;this.textures=new H;this.sounds=new H;this.files=new H};k["flambe.platform._BasicAssetPackLoader.BasicAssetPack"]=f._BasicAssetPackLoader.BasicAssetPack;f._BasicAssetPackLoader.BasicAssetPack.__name__=["flambe","platform","_BasicAssetPackLoader","BasicAssetPack"];f._BasicAssetPackLoader.BasicAssetPack.__interfaces__=[z.AssetPack];f._BasicAssetPackLoader.BasicAssetPack.prototype={get_manifest:function(){return this._manifest},getFile:function(a,b){null==b&&(b=!0);var c=this.files.get(a);if(null==c&&b)throw l.Strings.withFields("Missing file",["name",a]);return c},getSound:function(a,b){null==b&&(b=!0);var c=this.sounds.get(a);if(null==c&&b)throw l.Strings.withFields("Missing sound",["name",a]);return c},getTexture:function(a,b){null==b&&(b=!0);var c=this.textures.get(a);if(null==c&&b)throw l.Strings.withFields("Missing texture",["name",a]);return c},__class__:f._BasicAssetPackLoader.BasicAssetPack};f.BasicKeyboard=function(){this.down=new l.Signal1;this.up=new l.Signal1;this.backButton=new l.Signal0;this._keyStates=new W};k["flambe.platform.BasicKeyboard"]=f.BasicKeyboard;f.BasicKeyboard.__name__=["flambe","platform","BasicKeyboard"];f.BasicKeyboard.__interfaces__=[d.Keyboard];f.BasicKeyboard.prototype={submitUp:function(a){this._keyStates.exists(a)&&(this._keyStates.remove(a),f.BasicKeyboard._sharedEvent._internal_init(f.BasicKeyboard._sharedEvent.id+1,f.KeyCodes.toKey(a)),this.up.emit1(f.BasicKeyboard._sharedEvent))},submitDown:function(a){if(16777238==a)return null!=this.backButton._head?(this.backButton.emit0(),!0):!1;this._keyStates.exists(a)||(this._keyStates.set(a,!0),f.BasicKeyboard._sharedEvent._internal_init(f.BasicKeyboard._sharedEvent.id+1,f.KeyCodes.toKey(a)),this.down.emit1(f.BasicKeyboard._sharedEvent));return!0},isDown:function(a){return this._keyStates.exists(f.KeyCodes.toKeyCode(a))},get_supported:function(){return!0},__class__:f.BasicKeyboard};f.BasicMouse=function(a){this._pointer=a;this._source=d.EventSource.Mouse(f.BasicMouse._sharedEvent);this.down=new l.Signal1;this.move=new l.Signal1;this.up=new l.Signal1;this.scroll=new l.Signal1;this._y=this._x=0;this._cursor=d.MouseCursor.Default;this._buttonStates=new W};k["flambe.platform.BasicMouse"]=f.BasicMouse;f.BasicMouse.__name__=["flambe","platform","BasicMouse"];f.BasicMouse.__interfaces__=[d.Mouse];f.BasicMouse.prototype={prepare:function(a,b,c){this._x=a;this._y=b;f.BasicMouse._sharedEvent._internal_init(f.BasicMouse._sharedEvent.id+1,a,b,c)},submitScroll:function(a,b,c){this._x=a;this._y=b;if(null==this.scroll._head)return!1;this.scroll.emit1(c);return!0},submitUp:function(a,b,c){this._buttonStates.exists(c)&&(this._buttonStates.remove(c),this.prepare(a,b,f.MouseCodes.toButton(c)),this._pointer.submitUp(a,b,this._source),this.up.emit1(f.BasicMouse._sharedEvent))},submitMove:function(a,b){this.prepare(a,b,null);this._pointer.submitMove(a,b,this._source);this.move.emit1(f.BasicMouse._sharedEvent)},submitDown:function(a,b,c){this._buttonStates.exists(c)||(this._buttonStates.set(c,!0),this.prepare(a,b,f.MouseCodes.toButton(c)),this._pointer.submitDown(a,b,this._source),this.down.emit1(f.BasicMouse._sharedEvent))},isDown:function(a){return this._buttonStates.exists(f.MouseCodes.toButtonCode(a))},set_cursor:function(a){return this._cursor=a},get_cursor:function(){return this._cursor},get_y:function(){return this._y},get_x:function(){return this._x},get_supported:function(){return!0},__class__:f.BasicMouse};f.BasicPointer=function(a,b,c){null==c&&(c=!1);null==b&&(b=0);null==a&&(a=0);this.down=new l.Signal1;this.move=new l.Signal1;this.up=new l.Signal1;this._x=a;this._y=b;this._isDown=c};k["flambe.platform.BasicPointer"]=f.BasicPointer;f.BasicPointer.__name__=["flambe","platform","BasicPointer"];f.BasicPointer.__interfaces__=[d.Pointer];f.BasicPointer.prototype={prepare:function(a,b,c,d){this._x=a;this._y=b;f.BasicPointer._sharedEvent._internal_init(f.BasicPointer._sharedEvent.id+1,a,b,c,d)},submitUp:function(a,b,c){if(this._isDown){this._isDown=!1;var d=[],e=j.Sprite.hitTest(D.root,a,b);if(null!=e){var g=e.owner;do{var h=g._compMap.Sprite_1;null!=h&&d.push(h);g=g.parent}while(null!=g)}this.prepare(a,b,e,c);for(a=0;a<d.length;)if(h=d[a],++a,h=h._internal_pointerUp,null!=h&&(h.emit1(f.BasicPointer._sharedEvent),f.BasicPointer._sharedEvent._internal_stopped))return;this.up.emit1(f.BasicPointer._sharedEvent)}},submitMove:function(a,b,c){var d=[],e=j.Sprite.hitTest(D.root,a,b);if(null!=e){var g=e.owner;do{var h=g._compMap.Sprite_1;null!=h&&d.push(h);g=g.parent}while(null!=g)}this.prepare(a,b,e,c);for(a=0;a<d.length;)if(h=d[a],++a,h=h._internal_pointerMove,null!=h&&(h.emit1(f.BasicPointer._sharedEvent),f.BasicPointer._sharedEvent._internal_stopped))return;this.move.emit1(f.BasicPointer._sharedEvent)},submitDown:function(a,b,c){if(!this._isDown){this._isDown=!0;var d=[],e=j.Sprite.hitTest(D.root,a,b);if(null!=e){var g=e.owner;do{var h=g._compMap.Sprite_1;null!=h&&d.push(h);g=g.parent}while(null!=g)}this.prepare(a,b,e,c);for(a=0;a<d.length;)if(h=d[a],++a,h=h._internal_pointerDown,null!=h&&(h.emit1(f.BasicPointer._sharedEvent),f.BasicPointer._sharedEvent._internal_stopped))return;this.down.emit1(f.BasicPointer._sharedEvent)}},isDown:function(){return this._isDown},get_y:function(){return this._y},get_x:function(){return this._x},get_supported:function(){return!0},__class__:f.BasicPointer};f.BasicTouch=function(a,b){null==b&&(b=4);this._pointer=a;this._maxPoints=b;this._pointMap=new W;this._points=[];this.down=new l.Signal1;this.move=new l.Signal1;this.up=new l.Signal1};k["flambe.platform.BasicTouch"]=f.BasicTouch;f.BasicTouch.__name__=["flambe","platform","BasicTouch"];f.BasicTouch.__interfaces__=[d.Touch];f.BasicTouch.prototype={submitUp:function(a,b,c){var d=this._pointMap.get(a);null!=d&&(d._internal_init(b,c),this._pointMap.remove(a),B.remove(this._points,d),this._pointerTouch==d&&(this._pointerTouch=null,this._pointer.submitUp(b,c,d._internal_source)),this.up.emit1(d))},submitMove:function(a,b,c){a=this._pointMap.get(a);null!=a&&(a._internal_init(b,c),this._pointerTouch==a&&this._pointer.submitMove(b,c,a._internal_source),this.move.emit1(a))},submitDown:function(a,b,c){if(!this._pointMap.exists(a)){var e=new d.TouchPoint(a);e._internal_init(b,c);this._pointMap.set(a,e);this._points.push(e);null==this._pointerTouch&&(this._pointerTouch=e,this._pointer.submitDown(b,c,e._internal_source));this.down.emit1(e)}},get_points:function(){return this._points.slice()},get_maxPoints:function(){return this._maxPoints},get_supported:function(){return!0},__class__:f.BasicTouch};G.Sound=function(){};k["flambe.sound.Sound"]=G.Sound;G.Sound.__name__=["flambe","sound","Sound"];G.Sound.prototype={__class__:G.Sound};f.DummySound=function(){this._playback=new f.DummyPlayback(this)};k["flambe.platform.DummySound"]=f.DummySound;f.DummySound.__name__=["flambe","platform","DummySound"];f.DummySound.__interfaces__=[G.Sound];f.DummySound.getInstance=function(){null==f.DummySound._instance&&(f.DummySound._instance=new f.DummySound);return f.DummySound._instance};f.DummySound.prototype={get_duration:function(){return 0},loop:function(){return this._playback},play:function(){return this._playback},__class__:f.DummySound};G.Playback=function(){};k["flambe.sound.Playback"]=G.Playback;G.Playback.__name__=["flambe","sound","Playback"];G.Playback.__interfaces__=[l.Disposable];G.Playback.prototype={__class__:G.Playback};f.DummyPlayback=function(a){this._sound=a;this.volume=new F.AnimatedFloat(0)};k["flambe.platform.DummyPlayback"]=f.DummyPlayback;f.DummyPlayback.__name__=["flambe","platform","DummyPlayback"];f.DummyPlayback.__interfaces__=[G.Playback];f.DummyPlayback.prototype={dispose:function(){},set_position:function(a){return a},get_position:function(){return 0},get_ended:function(){return!0},set_paused:function(){return!0},get_paused:function(){return!0},get_sound:function(){return this._sound},__class__:f.DummyPlayback};ba={Storage:function(){}};k["flambe.storage.Storage"]=ba.Storage;ba.Storage.__name__=["flambe","storage","Storage"];ba.Storage.prototype={__class__:ba.Storage};f.DummyStorage=function(){this.clear()};k["flambe.platform.DummyStorage"]=f.DummyStorage;f.DummyStorage.__name__=["flambe","platform","DummyStorage"];f.DummyStorage.__interfaces__=[ba.Storage];f.DummyStorage.prototype={clear:function(){this._hash=new H},remove:function(a){this._hash.remove(a)},get:function(a,b){return this._hash.exists(a)?this._hash.get(a):b},set:function(a,b){this._hash.set(a,b);return!0},get_supported:function(){return!1},__class__:f.DummyStorage};f.DummyTouch=function(){this.down=new l.Signal1;this.move=new l.Signal1;this.up=new l.Signal1};k["flambe.platform.DummyTouch"]=f.DummyTouch;f.DummyTouch.__name__=["flambe","platform","DummyTouch"];f.DummyTouch.__interfaces__=[d.Touch];f.DummyTouch.prototype={get_points:function(){return[]},get_maxPoints:function(){return 0},get_supported:function(){return!1},__class__:f.DummyTouch};f.EventGroup=function(){this._entries=[]};k["flambe.platform.EventGroup"]=f.EventGroup;f.EventGroup.__name__=["flambe","platform","EventGroup"];f.EventGroup.__interfaces__=[l.Disposable];f.EventGroup.prototype={dispose:function(){for(var a=0,b=this._entries;a<b.length;){var c=b[a];++a;c.dispatcher.removeEventListener(c.type,c.listener,!1)}this._entries=[]},addDisposingListener:function(a,b,c){var d=this;this.addListener(a,b,function(a){d.dispose();c(a)})},addListener:function(a,b,c){a.addEventListener(b,c,!1);this._entries.push(new f._EventGroup.Entry(a,b,c))},__class__:f.EventGroup};f._EventGroup={};f._EventGroup.Entry=function(a,b,c){this.dispatcher=a;this.type=b;this.listener=c};k["flambe.platform._EventGroup.Entry"]=f._EventGroup.Entry;f._EventGroup.Entry.__name__=["flambe","platform","_EventGroup","Entry"];f._EventGroup.Entry.prototype={__class__:f._EventGroup.Entry};f.KeyCodes=function(){};k["flambe.platform.KeyCodes"]=f.KeyCodes;f.KeyCodes.__name__=["flambe","platform","KeyCodes"];f.KeyCodes.toKey=function(a){switch(a){case 65:return d.Key.A;case 66:return d.Key.B;case 67:return d.Key.C;case 68:return d.Key.D;case 69:return d.Key.E;case 70:return d.Key.F;case 71:return d.Key.G;case 72:return d.Key.H;case 73:return d.Key.I;case 74:return d.Key.J;case 75:return d.Key.K;case 76:return d.Key.L;case 77:return d.Key.M;case 78:return d.Key.N;case 79:return d.Key.O;case 80:return d.Key.P;case 81:return d.Key.Q;case 82:return d.Key.R;case 83:return d.Key.S;case 84:return d.Key.T;case 85:return d.Key.U;case 86:return d.Key.V;case 87:return d.Key.W;case 88:return d.Key.X;case 89:return d.Key.Y;case 90:return d.Key.Z;case 48:return d.Key.Number0;case 49:return d.Key.Number1;case 50:return d.Key.Number2;case 51:return d.Key.Number3;case 52:return d.Key.Number4;case 53:return d.Key.Number5;case 54:return d.Key.Number6;case 55:return d.Key.Number7;case 56:return d.Key.Number8;case 57:return d.Key.Number9;case 96:return d.Key.Numpad0;case 97:return d.Key.Numpad1;case 98:return d.Key.Numpad2;case 99:return d.Key.Numpad3;case 100:return d.Key.Numpad4;case 101:return d.Key.Numpad5;case 102:return d.Key.Numpad6;case 103:return d.Key.Numpad7;case 104:return d.Key.Numpad8;case 105:return d.Key.Numpad9;case 107:return d.Key.NumpadAdd;case 110:return d.Key.NumpadDecimal;case 111:return d.Key.NumpadDivide;case 108:return d.Key.NumpadEnter;case 106:return d.Key.NumpadMultiply;case 109:return d.Key.NumpadSubtract;case 112:return d.Key.F1;case 113:return d.Key.F2;case 114:return d.Key.F3;case 115:return d.Key.F4;case 116:return d.Key.F5;case 117:return d.Key.F6;case 118:return d.Key.F7;case 119:return d.Key.F8;case 120:return d.Key.F9;case 121:return d.Key.F10;case 122:return d.Key.F11;case 123:return d.Key.F12;case 37:return d.Key.Left;case 38:return d.Key.Up;case 39:return d.Key.Right;case 40:return d.Key.Down;case 18:return d.Key.Alt;case 192:return d.Key.Backquote;case 220:return d.Key.Backslash;case 8:return d.Key.Backspace;case 20:return d.Key.CapsLock;case 188:return d.Key.Comma;case 15:return d.Key.Command;case 17:return d.Key.Control;case 46:return d.Key.Delete;case 35:return d.Key.End;case 13:return d.Key.Enter;case 187:return d.Key.Equals;case 27:return d.Key.Escape;case 36:return d.Key.Home;case 45:return d.Key.Insert;case 219:return d.Key.LeftBracket;case 189:return d.Key.Minus;case 34:return d.Key.PageDown;case 33:return d.Key.PageUp;case 190:return d.Key.Period;case 222:return d.Key.Quote;case 221:return d.Key.RightBracket;case 186:return d.Key.Semicolon;case 16:return d.Key.Shift;case 191:return d.Key.Slash;case 32:return d.Key.Space;case 9:return d.Key.Tab;case 16777234:return d.Key.Menu;case 16777247:return d.Key.Search}return d.Key.Unknown(a)};f.KeyCodes.toKeyCode=function(a){switch(a[1]){case 0:return 65;case 1:return 66;case 2:return 67;case 3:return 68;case 4:return 69;case 5:return 70;case 6:return 71;case 7:return 72;case 8:return 73;case 9:return 74;case 10:return 75;case 11:return 76;case 12:return 77;case 13:return 78;case 14:return 79;case 15:return 80;case 16:return 81;case 17:return 82;case 18:return 83;case 19:return 84;case 20:return 85;case 21:return 86;case 22:return 87;case 23:return 88;case 24:return 89;case 25:return 90;case 26:return 48;case 27:return 49;case 28:return 50;case 29:return 51;case 30:return 52;case 31:return 53;case 32:return 54;case 33:return 55;case 34:return 56;case 35:return 57;case 36:return 96;case 37:return 97;case 38:return 98;case 39:return 99;case 40:return 100;case 41:return 101;case 42:return 102;case 43:return 103;case 44:return 104;case 45:return 105;case 46:return 107;case 47:return 110;case 48:return 111;case 49:return 108;case 50:return 106;case 51:return 109;case 52:return 112;case 53:return 113;case 54:return 114;case 55:return 115;case 56:return 116;case 57:return 117;case 58:return 118;case 59:return 119;case 60:return 120;case 61:return 121;case 62:return 122;case 63:return 123;case 64:return 124;case 65:return 125;case 66:return 126;case 67:return 37;case 68:return 38;case 69:return 39;case 70:return 40;case 71:return 18;case 72:return 192;case 73:return 220;case 74:return 8;case 75:return 20;case 76:return 188;case 77:return 15;case 78:return 17;case 79:return 46;case 80:return 35;case 81:return 13;case 82:return 187;case 83:return 27;case 84:return 36;case 85:return 45;case 86:return 219;case 87:return 189;case 88:return 34;case 89:return 33;case 90:return 190;case 91:return 222;case 92:return 221;case 93:return 186;case 94:return 16;case 95:return 191;case 96:return 32;case 97:return 9;case 98:return 16777234;case 99:return 16777247;case 100:return a[2]}};f.MainLoop=function(){this._tickables=[]};k["flambe.platform.MainLoop"]=f.MainLoop;f.MainLoop.__name__=["flambe","platform","MainLoop"];f.MainLoop.updateEntity=function(a,b){var c=a._compMap.SpeedAdjuster_5;if(null!=c&&(c._internal_realDt=b,b*=c.scale._value,0>=b)){c.onUpdate(b);return}for(var d=a.firstComponent;null!=d;)c=d.next,d.onUpdate(b),d=c;for(d=a.firstChild;null!=d;)c=d.next,f.MainLoop.updateEntity(d,b),d=c};f.MainLoop.prototype={addTickable:function(a){this._tickables.push(a)},render:function(a){var b=a.willRender();null!=b&&(j.Sprite.render(D.root,b),a.didRender())},update:function(a){if(!(0>=a)){1<a&&(a=1);for(var b=0;b<this._tickables.length;){var c=this._tickables[b];null==c||c.update(a)?this._tickables.splice(b,1):++b}f.MainLoop.updateEntity(D.root,a)}},__class__:f.MainLoop};f.ManifestBuilder=function(){};k["flambe.platform.ManifestBuilder"]=f.ManifestBuilder;f.ManifestBuilder.__name__=["flambe","platform","ManifestBuilder"];f.MouseCodes=function(){};k["flambe.platform.MouseCodes"]=f.MouseCodes;f.MouseCodes.__name__=["flambe","platform","MouseCodes"];f.MouseCodes.toButton=function(a){switch(a){case 0:return d.MouseButton.Left;case 1:return d.MouseButton.Middle;case 2:return d.MouseButton.Right}return d.MouseButton.Unknown(a)};f.MouseCodes.toButtonCode=function(a){switch(a[1]){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return a[2]}};f.Renderer=function(){};k["flambe.platform.Renderer"]=f.Renderer;f.Renderer.__name__=["flambe","platform","Renderer"];f.Renderer.prototype={__class__:f.Renderer};f.Tickable=function(){};k["flambe.platform.Tickable"]=f.Tickable;f.Tickable.__name__=["flambe","platform","Tickable"];f.Tickable.prototype={__class__:f.Tickable};f.html.CanvasGraphics=function(a){this._firstDraw=this._drawToTemp=!1;this._canvasCtx=a.getContext("2d");this.clear()};k["flambe.platform.html.CanvasGraphics"]=f.html.CanvasGraphics;f.html.CanvasGraphics.__name__=["flambe","platform","html","CanvasGraphics"];f.html.CanvasGraphics.__interfaces__=[j.Graphics];f.html.CanvasGraphics.prototype={erase:function(){this._canvasCtx.clearRect(0,0,this._canvasCtx.canvas.width,this._canvasCtx.canvas.height)},clip2:function(a,b){this._tempGraphics.erase();this._tempGraphics.save();var c=b.getLocalMatrix();this._tempGraphics.transform(c.m00,c.m10,c.m01,c.m11,c.m02,c.m12);this._tempGraphics.setAlpha(b.alpha._value);I.__instanceof(b,j.MaskSprite)?(c=I.__cast(b,j.MaskSprite),I.__instanceof(c.shape,j.FillSprite)&&this.tint(c.shape,c.image,!1)):b.draw(this._tempGraphics);this._tempGraphics.restore();this._tempGraphics.save();this._tempGraphics.setGlobalComposite("destination-in");c=a.getLocalMatrix();this._tempGraphics.transform(c.m00,c.m10,c.m01,c.m11,c.m02,c.m12);this._tempGraphics.setAlpha(a.alpha._value);a.draw(this._tempGraphics);this._tempGraphics.setGlobalComposite("source-over");this.setGlobalComposite("source-over");this._canvasCtx.drawImage(this._tempCanvas,0,0);this._tempGraphics.restore()},clip:function(a,b){this.save();var c=a.getLocalMatrix();this.transform(c.m00,c.m10,c.m01,c.m11,c.m02,c.m12);a.draw(this);this.restore();this.save();this._canvasCtx.clip();c=b.getLocalMatrix();this.transform(c.m00,c.m10,c.m01,c.m11,c.m02,c.m12);b.draw(this);this.restore()},tint:function(a,b,c){null==c&&(c=!0);c&&this._tempGraphics.erase();this._tempGraphics.setAlpha(a.alpha._value);a.draw(this._tempGraphics);this._tempGraphics.setGlobalComposite("destination-atop");this._tempGraphics.setAlpha(b.alpha._value);b.draw(this._tempGraphics);this._tempGraphics.setGlobalComposite("source-over");this.setGlobalComposite("source-over");c&&this._canvasCtx.drawImage(this._tempCanvas,0,0)},mask:function(a,b){I.__instanceof(a,j.FillSprite)?this.tint(a,b):I.__instanceof(a,j.ShapeSprite)?this.clip(a,b):this.clip2(a,b)},arc:function(a,b,c,d,e){(this._drawToTemp?this._tempGraphics._canvasCtx:this._canvasCtx).arc(a,b,c,d,e)},isPointInPath:function(a,b){return this._canvasCtx.isPointInPath(a,b)},bezierCurveTo:function(a,b,c,d,e,f){(this._drawToTemp?this._tempGraphics._canvasCtx:this._canvasCtx).bezierCurveTo(a,b,c,d,e,f)},quadraticCurveTo:function(a,b,c,d){(this._drawToTemp?this._tempGraphics._canvasCtx:this._canvasCtx).quadraticCurveTo(a,b,c,d)},drawShapeSprite:function(){this._canvasCtx.drawImage(this._tempCanvas,0,0);this._tempGraphics.erase()},endFill:function(){(this._drawToTemp?this._tempGraphics._canvasCtx:this._canvasCtx).fill();this._drawToTemp=!1},beginFill:function(a){this._drawToTemp=!0;(this._drawToTemp?this._tempGraphics._canvasCtx:this._canvasCtx).fillStyle="#"+("00000"+a.toString(16)).slice(-6)},endStroke:function(){(this._drawToTemp?this._tempGraphics._canvasCtx:this._canvasCtx).stroke();this._drawToTemp=!1},beginStroke:function(a,b){this._drawToTemp=!0;(this._drawToTemp?this._tempGraphics._canvasCtx:this._canvasCtx).strokeStyle="#"+("00000"+a.toString(16)).slice(-6);(this._drawToTemp?this._tempGraphics._canvasCtx:this._canvasCtx).lineWidth=b},closePath:function(){(this._drawToTemp?this._tempGraphics._canvasCtx:this._canvasCtx).closePath()},beginPath:function(){(this._drawToTemp?this._tempGraphics._canvasCtx:this._canvasCtx).beginPath()},lineTo:function(a,b){(this._drawToTemp?this._tempGraphics._canvasCtx:this._canvasCtx).lineTo(a,b)},moveTo:function(a,b){(this._drawToTemp?this._tempGraphics._canvasCtx:this._canvasCtx).moveTo(a,b)},willRender:function(){this._firstDraw=!0},applyScissor:function(a,b,c,d){this._canvasCtx.beginPath();this._canvasCtx.rect(a|0,b|0,c|0,d|0);this._canvasCtx.clip()},setGlobalComposite:function(a){this._canvasCtx.globalCompositeOperation=a},setBlendMode:function(a){var b;switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";break;case 2:b="source-over"}this._canvasCtx.globalCompositeOperation=b},setAlpha:function(a){this._canvasCtx.globalAlpha=a},multiplyAlpha:function(a){this._canvasCtx.globalAlpha*=a},fillRect:function(a,b,c,d,e){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.fillRect(a,b,c,d,e),this._canvasCtx.globalCompositeOperation="source-over"):(this._canvasCtx.fillStyle="#"+("00000"+a.toString(16)).slice(-6),this._canvasCtx.fillRect(b|0,c|0,d|0,e|0))},drawPattern:function(a,b,c,d,e){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawPattern(a,b,c,d,e),this._canvasCtx.globalCompositeOperation="source-over"):(null==a.pattern&&(a.pattern=this._canvasCtx.createPattern(a.image,"repeat")),this._canvasCtx.fillStyle=a.pattern,this._canvasCtx.fillRect(b|0,c|0,d|0,e|0))},drawSubImage:function(a,b,c,d,e,f,g){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawSubImage(a,b,c,d,e,f,g),this._canvasCtx.globalCompositeOperation="source-over"):this._canvasCtx.drawImage(a.image,d|0,e|0,f|0,g|0,b|0,c|0,f|0,g|0)},drawImage:function(a,b,c){this._firstDraw?(this._firstDraw=!1,this._canvasCtx.globalCompositeOperation="copy",this.drawImage(a,b,c),this._canvasCtx.globalCompositeOperation="source-over"):this._canvasCtx.drawImage(a.image,b|0,c|0)},restore:function(){this._canvasCtx.restore()},transform:function(a,b,c,d,e,f){this._canvasCtx.transform(a,b,c,d,e|0,f|0)},rotate:function(a){this._canvasCtx.rotate(3.141592653589793*a/180)},scale:function(a,b){this._canvasCtx.scale(a,b)},translate:function(a,b){this._canvasCtx.translate(a|0,b|0)},save:function(){this._canvasCtx.save()},clear:function(){this._canvasCtx.fillStyle="rgba(0,0,0,0)";this._canvasCtx.fillRect(0,0,this._canvasCtx.canvas.width,this._canvasCtx.canvas.height)},getTemp:function(){this._tempCanvas=f.html.HtmlPlatform.instance.getTempCanvas();this._tempGraphics=f.html.HtmlPlatform.instance.getTempGraphics()},__class__:f.html.CanvasGraphics};f.html.CanvasRenderer=function(a){this._drawCtx=new f.html.CanvasGraphics(a);this._drawCtx.clear();this._drawCtx.getTemp()};k["flambe.platform.html.CanvasRenderer"]=f.html.CanvasRenderer;f.html.CanvasRenderer.__name__=["flambe","platform","html","CanvasRenderer"];f.html.CanvasRenderer.__interfaces__=[f.Renderer];f.html.CanvasRenderer.prototype={didRender:function(){},willRender:function(){this._drawCtx.willRender();return this._drawCtx},createEmptyTexture:function(a,b){var c=v.document.createElement("canvas");c.width=a;c.height=b;return new f.html.CanvasTexture(c)},createTexture:function(a){return new f.html.CanvasTexture(f.html.CanvasRenderer.CANVAS_TEXTURES?f.html.HtmlUtil.createCanvas(a):a)},__class__:f.html.CanvasRenderer};f.html.CanvasTexture=function(a){this._graphics=null;this.image=a};k["flambe.platform.html.CanvasTexture"]=f.html.CanvasTexture;f.html.CanvasTexture.__name__=["flambe","platform","html","CanvasTexture"];f.html.CanvasTexture.__interfaces__=[j.Texture];f.html.CanvasTexture.prototype={getContext2d:function(){I.__instanceof(this.image,HTMLCanvasElement)||(this.image=f.html.HtmlUtil.createCanvas(this.image));return this.image.getContext("2d")},get_graphics:function(){null==this._graphics&&(this.getContext2d(),this._graphics=new f.html._CanvasTexture.InternalGraphics(this));return this._graphics},get_height:function(){return this.image.height},get_width:function(){return this.image.width},writePixels:function(a,b,c,d,e){var f=this.getContext2d(),g=f.createImageData(d,e),h=g.data;if(null!=h.set)h.set(a.b);else{d=4*d*e;for(e=0;e<d;){var i=e++;h[i]=a.b[i]}}f.putImageData(g,b,c);this.pattern=null},readPixels:function(a,b,c,d){return V.Bytes.ofData(this.getContext2d().getImageData(a,b,c,d).data)},__class__:f.html.CanvasTexture};f.html._CanvasTexture={};f.html._CanvasTexture.InternalGraphics=function(a){f.html.CanvasGraphics.call(this,a.image);this._renderTarget=a};k["flambe.platform.html._CanvasTexture.InternalGraphics"]=f.html._CanvasTexture.InternalGraphics;f.html._CanvasTexture.InternalGraphics.__name__=["flambe","platform","html","_CanvasTexture","InternalGraphics"];f.html._CanvasTexture.InternalGraphics.__super__=f.html.CanvasGraphics;f.html._CanvasTexture.InternalGraphics.prototype=y(f.html.CanvasGraphics.prototype,{fillRect:function(a,b,c,d,e){f.html.CanvasGraphics.prototype.fillRect.call(this,a,b,c,d,e);this._renderTarget.pattern=null},drawPattern:function(a,b,c,d,e){f.html.CanvasGraphics.prototype.drawPattern.call(this,a,b,c,d,e);this._renderTarget.pattern=null},drawSubImage:function(a,b,c,d,e,g,h){f.html.CanvasGraphics.prototype.drawSubImage.call(this,a,b,c,d,e,g,h);this._renderTarget.pattern=null},drawImage:function(a,b,c){f.html.CanvasGraphics.prototype.drawImage.call(this,a,b,c);this._renderTarget.pattern=null},__class__:f.html._CanvasTexture.InternalGraphics});f.html.HtmlAssetPackLoader=function(a,b){f.BasicAssetPackLoader.call(this,a,b)};k["flambe.platform.html.HtmlAssetPackLoader"]=f.html.HtmlAssetPackLoader;f.html.HtmlAssetPackLoader.__name__=["flambe","platform","html","HtmlAssetPackLoader"];f.html.HtmlAssetPackLoader.detectAudioFormats=function(){var a=v.document.createElement("audio");if(null==a||null==a.canPlayType)return[];var b=new X("\\b(iPhone|iPod|iPad)\\b","");if(!f.html.WebAudioSound.get_supported()&&b.match(v.window.navigator.userAgent))return[];for(var b=[{extension:"m4a",type:"audio/mp4; codecs=mp4a"},{extension:"mp3",type:"audio/mpeg"},{extension:"ogg",type:"audio/ogg; codecs=vorbis"},{extension:"wav",type:"audio/wav"}],c=[],d=0;d<b.length;){var e=b[d];++d;var g="";try{g=a.canPlayType(e.type)}catch(h){}""!=g&&c.push(e.extension)}return c};f.html.HtmlAssetPackLoader.supportsBlob=function(){if(f.html.HtmlAssetPackLoader._detectBlobSupport){f.html.HtmlAssetPackLoader._detectBlobSupport=!1;try{(new XMLHttpRequest).responseType="blob"}catch(a){return!1}f.html.HtmlAssetPackLoader._URL=f.html.HtmlUtil.loadExtension("URL").value}return null!=f.html.HtmlAssetPackLoader._URL&&null!=f.html.HtmlAssetPackLoader._URL.createObjectURL};f.html.HtmlAssetPackLoader.__super__=f.BasicAssetPackLoader;f.html.HtmlAssetPackLoader.prototype=y(f.BasicAssetPackLoader.prototype,{handleLoad:function(a,b){this.handleProgress(a,a.bytes);f.BasicAssetPackLoader.prototype.handleLoad.call(this,a,b)},sendRequest:function(a,b,c,d){var e=this,f=new XMLHttpRequest,g=0,h=function(){g=Date.now();f.open("GET",a,!0);f.responseType=c;""==f.responseType&&(f.responseType="arraybuffer");f.send()},i=0;if("undefined"!=typeof f.onprogress){var k=4;f.onprogress=function(a){g=Date.now();e.handleProgress(b,a.loaded)};i=v.window.setInterval(function(){1<=f.readyState&&5E3<Date.now()-g&&(f.abort(),--k,0<k?h():(v.window.clearInterval(i),e.handleError(b,"Failed to load asset: timeout")))},1E3)}f.onload=function(){v.window.clearInterval(i);var a=f.response;null==a?a=f.responseText:"blob"==c&&"arraybuffer"==f.responseType&&(a=new Blob([f.response]));d(a)};f.onerror=function(){v.window.clearInterval(i);e.handleError(b,"Failed to load asset: error #"+r.string(f.status))};h();return f},getAudioFormats:function(){null==f.html.HtmlAssetPackLoader._audioFormats&&(f.html.HtmlAssetPackLoader._audioFormats=f.html.HtmlAssetPackLoader.detectAudioFormats());return f.html.HtmlAssetPackLoader._audioFormats},loadEntry:function(a,b){var c=this;switch(b.type[1]){case 0:var d=new Image,e=new f.EventGroup;e.addDisposingListener(d,"load",function(){f.html.HtmlAssetPackLoader.supportsBlob()&&f.html.HtmlAssetPackLoader._URL.revokeObjectURL(d.src);var a=c._platform.getRenderer().createTexture(d);null!=a?c.handleLoad(b,a):c.handleTextureError(b)});e.addDisposingListener(d,"error",function(){c.handleError(b,"Failed to load image")});f.html.HtmlAssetPackLoader.supportsBlob()?this.sendRequest(a,b,"blob",function(a){d.src=f.html.HtmlAssetPackLoader._URL.createObjectURL(a)}):d.src=a;break;case 1:if(f.html.WebAudioSound.get_supported())this.sendRequest(a,b,"arraybuffer",function(a){f.html.WebAudioSound.ctx.decodeAudioData(a,function(a){c.handleLoad(b,new f.html.WebAudioSound(a))},function(){c.handleLoad(b,f.DummySound.getInstance())})});else{var g=v.document.createElement("audio");g.preload="auto";var h=++f.html.HtmlAssetPackLoader._mediaRefCount;null==f.html.HtmlAssetPackLoader._mediaElements&&(f.html.HtmlAssetPackLoader._mediaElements=new W);f.html.HtmlAssetPackLoader._mediaElements.set(h,g);e=new f.EventGroup;e.addDisposingListener(g,"canplaythrough",function(){f.html.HtmlAssetPackLoader._mediaElements.remove(h);c.handleLoad(b,new f.html.HtmlSound(g))});e.addDisposingListener(g,"error",function(){f.html.HtmlAssetPackLoader._mediaElements.remove(h);var a=g.error.code;3==a||4==a?c.handleLoad(b,f.DummySound.getInstance()):c.handleError(b,"Failed to load audio: "+r.string(g.error.code))});e.addListener(g,"progress",function(){if(0<g.buffered.length&&0<g.duration){var a=g.buffered.end(0)/g.duration;c.handleProgress(b,a*b.bytes|0)}});g.src=a;g.load()}break;case 2:this.sendRequest(a,b,"text",function(a){c.handleLoad(b,a)})}},__class__:f.html.HtmlAssetPackLoader});f.html.HtmlExternal=function(){};k["flambe.platform.html.HtmlExternal"]=f.html.HtmlExternal;f.html.HtmlExternal.__name__=["flambe","platform","html","HtmlExternal"];f.html.HtmlExternal.__interfaces__=[A.External];f.html.HtmlExternal.prototype={bind:function(a,b){v.window[a]=b},call:function(a,b){null==b&&(b=[]);return M.field(v.window,a).apply(null,b)},get_supported:function(){return!0},__class__:f.html.HtmlExternal};f.html.HtmlMouse=function(a,b){f.BasicMouse.call(this,a);this._canvas=b};k["flambe.platform.html.HtmlMouse"]=f.html.HtmlMouse;f.html.HtmlMouse.__name__=["flambe","platform","html","HtmlMouse"];f.html.HtmlMouse.__super__=f.BasicMouse;f.html.HtmlMouse.prototype=y(f.BasicMouse.prototype,{set_cursor:function(a){var b;switch(a[1]){case 0:b="";break;case 1:b="pointer";break;case 2:b="none"}this._canvas.style.cursor=b;return f.BasicMouse.prototype.set_cursor.call(this,a)},__class__:f.html.HtmlMouse});f.html.HtmlSound=function(a){this.audioElement=a};k["flambe.platform.html.HtmlSound"]=f.html.HtmlSound;f.html.HtmlSound.__name__=["flambe","platform","html","HtmlSound"];f.html.HtmlSound.__interfaces__=[G.Sound];f.html.HtmlSound.prototype={get_duration:function(){return this.audioElement.duration},loop:function(a){null==a&&(a=1);return new f.html._HtmlSound.HtmlPlayback(this,a,!0)},play:function(a){null==a&&(a=1);return new f.html._HtmlSound.HtmlPlayback(this,a,!1)},__class__:f.html.HtmlSound};f.html._HtmlSound={};f.html._HtmlSound.HtmlPlayback=function(a,b,c){var d=this;this._sound=a;this._tickableAdded=!1;this.volume=new F.AnimatedFloat(b,function(a){d._clonedElement.volume=a});this._clonedElement=v.document.createElement("audio");this._clonedElement.volume=b;this._clonedElement.loop=c;this._clonedElement.src=a.audioElement.src;this.playAudio()};k["flambe.platform.html._HtmlSound.HtmlPlayback"]=f.html._HtmlSound.HtmlPlayback;f.html._HtmlSound.HtmlPlayback.__name__=["flambe","platform","html","_HtmlSound","HtmlPlayback"];f.html._HtmlSound.HtmlPlayback.__interfaces__=[f.Tickable,G.Playback];f.html._HtmlSound.HtmlPlayback.prototype={playAudio:function(){this._clonedElement.play();this._tickableAdded||(f.html.HtmlPlatform.instance.mainLoop.addTickable(this),this._tickableAdded=!0)},dispose:function(){this.set_paused(!0)},update:function(a){this.volume.update(a);return this._clonedElement.ended||this._clonedElement.paused?(this._tickableAdded=!1,!0):!1},set_position:function(a){return this._clonedElement.currentTime=a},get_position:function(){return this._clonedElement.currentTime},get_ended:function(){return this._clonedElement.ended},set_paused:function(a){this._clonedElement.paused!=a&&(a?this._clonedElement.pause():this.playAudio());return a},get_paused:function(){return this._clonedElement.paused},get_sound:function(){return this._sound},__class__:f.html._HtmlSound.HtmlPlayback};f.html.HtmlStage=function(a){var b=this;this._canvas=a;this.resize=new l.Signal0;this.scaleFactor=f.html.HtmlStage.computeScaleFactor();1!=this.scaleFactor&&(f.html.HtmlUtil.setVendorStyle(this._canvas,"transform-origin","top left"),f.html.HtmlUtil.setVendorStyle(this._canvas,"transform","scale("+1/this.scaleFactor+")"));f.html.HtmlUtil.SHOULD_HIDE_MOBILE_BROWSER&&(window.addEventListener("orientationchange",function(){f.html.HtmlUtil.callLater(x(b,b.hideMobileBrowser),200)},!1),this.hideMobileBrowser());window.addEventListener("resize",x(this,this.onWindowResize),!1);this.onWindowResize();this.orientation=new l.Value(null);null!=window.orientation&&(window.addEventListener("orientationchange",x(this,this.onOrientationChange),!1),this.onOrientationChange());this.fullscreen=new l.Value(!1);f.html.HtmlUtil.addVendorListener(v.document,"fullscreenchange",function(){b.updateFullscreen()},!1);this.updateFullscreen()};k["flambe.platform.html.HtmlStage"]=f.html.HtmlStage;f.html.HtmlStage.__name__=["flambe","platform","html","HtmlStage"];f.html.HtmlStage.__interfaces__=[j.Stage];f.html.HtmlStage.computeScaleFactor=function(){var a=window.devicePixelRatio;null==a&&(a=1);var b=v.document.createElement("canvas").getContext("2d"),b=f.html.HtmlUtil.loadExtension("backingStorePixelRatio",b).value;null==b&&(b=1);a/=b;b=screen.height;return 1136<a*screen.width||1136<a*b?1:a};f.html.HtmlStage.prototype={updateFullscreen:function(){this.fullscreen.set__(!0==f.html.HtmlUtil.loadFirstExtension(["fullscreen","fullScreen","isFullScreen"],v.document).value)},onOrientationChange:function(){this.orientation.set__(f.html.HtmlUtil.orientation(window.orientation))},hideMobileBrowser:function(){var a=this,b=v.document.documentElement.style;b.height=v.window.innerHeight+100+"px";b.width=v.window.innerWidth+"px";b.overflow="visible";f.html.HtmlUtil.callLater(function(){f.html.HtmlUtil.hideMobileBrowser();f.html.HtmlUtil.callLater(function(){b.height=v.window.innerHeight+"px";a.onWindowResize()},100)})},resizeCanvas:function(a,b){var c=this.scaleFactor*a,d=this.scaleFactor*b;if(this._canvas.width==c&&this._canvas.height==d)return!1;this._canvas.width=c;this._canvas.height=d;this.resize.emit0();return!0},onWindowResize:function(){var a=this._canvas.parentNode.getBoundingClientRect();this.resizeCanvas(a.width,a.height)},requestFullscreen:function(a){null==a&&(a=!0);if(a){var a=v.document.documentElement,b=f.html.HtmlUtil.loadFirstExtension(["requestFullscreen","requestFullScreen"],a).value;null!=b&&b.apply(a,[])}else a=f.html.HtmlUtil.loadFirstExtension(["cancelFullscreen","cancelFullScreen"],v.document).value,null!=a&&a.apply(v.document,[])},requestResize:function(a,b){if(this.resizeCanvas(a,b)){var c=this._canvas.parentNode;c.style.width=a+"px";c.style.height=b+"px"}},unlockOrientation:function(){},lockOrientation:function(){},get_fullscreenSupported:function(){return!0==f.html.HtmlUtil.loadFirstExtension(["fullscreenEnabled","fullScreenEnabled"],v.document).value},get_height:function(){return this._canvas.height},get_width:function(){return this._canvas.width},__class__:f.html.HtmlStage};f.html.HtmlStorage=function(a){this._storage=a};k["flambe.platform.html.HtmlStorage"]=f.html.HtmlStorage;f.html.HtmlStorage.__name__=["flambe","platform","html","HtmlStorage"];f.html.HtmlStorage.__interfaces__=[ba.Storage];f.html.HtmlStorage.prototype={clear:function(){try{this._storage.clear()}catch(a){null}},remove:function(a){try{this._storage.removeItem("flambe:"+a)}catch(b){null}},get:function(a,b){var c=null;try{c=this._storage.getItem("flambe:"+a)}catch(d){null}if(null!=c)try{return Q.run(c)}catch(e){null}return b},set:function(a,b){var c;try{var d=new T;d.useCache=!0;d.useEnumIndex=!1;d.serialize(b);c=d.toString()}catch(e){return!1}try{this._storage.setItem("flambe:"+a,c)}catch(f){return!1}return!0},get_supported:function(){return!0},__class__:f.html.HtmlStorage};f.html.HtmlUtil=function(){};k["flambe.platform.html.HtmlUtil"]=f.html.HtmlUtil;f.html.HtmlUtil.__name__=["flambe","platform","html","HtmlUtil"];f.html.HtmlUtil.callLater=function(a,b){null==b&&(b=0);v.window.setTimeout(a,b)};f.html.HtmlUtil.hideMobileBrowser=function(){v.window.scrollTo(1,0)};f.html.HtmlUtil.fixAndroidMath=function(){if(0<=v.window.navigator.userAgent.indexOf("Linux; U; Android 4")){var a=Math.sin,b=Math.cos;Math.sin=function(b){return 0==b?0:a(b)};Math.cos=function(a){return 0==a?1:b(a)}}};f.html.HtmlUtil.loadExtension=function(a,b){null==b&&(b=v.window);var c=M.field(b,a);if(null!=c)return{prefix:null,field:a,value:c};for(var c=a.charAt(0).toUpperCase()+B.substr(a,1,null),d=0,e=f.html.HtmlUtil.VENDOR_PREFIXES;d<e.length;){var g=e[d];++d;var h=g+c,i=M.field(b,h);if(null!=i)return{prefix:g,field:h,value:i}}return{prefix:null,field:null,value:null}};f.html.HtmlUtil.loadFirstExtension=function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;d=f.html.HtmlUtil.loadExtension(d,b);if(null!=d.field)return d}return{prefix:null,field:null,value:null}};f.html.HtmlUtil.polyfill=function(a,b){null==b&&(b=v.window);var c=f.html.HtmlUtil.loadExtension(a,b).value;if(null==c)return!1;b[a]=c;return!0};f.html.HtmlUtil.setVendorStyle=function(a,b,c){for(var a=a.style,d=0,e=f.html.HtmlUtil.VENDOR_PREFIXES;d<e.length;){var g=e[d];++d;a.setProperty("-"+g+"-"+b,c)}a.setProperty(b,c)};f.html.HtmlUtil.addVendorListener=function(a,b,c,d){for(var e=0,g=f.html.HtmlUtil.VENDOR_PREFIXES;e<g.length;){var h=g[e];++e;a.addEventListener(h+b,c,d)}a.addEventListener(b,c,d)};f.html.HtmlUtil.orientation=function(a){switch(a){case-90:case 90:return j.Orientation.Landscape;default:return j.Orientation.Portrait}};f.html.HtmlUtil.createCanvas=function(a){var b=v.document.createElement("canvas");b.width=a.width;b.height=a.height;var c=b.getContext("2d");c.save();c.globalCompositeOperation="copy";c.drawImage(a,0,0);c.restore();return b};A={Web:function(){}};k["flambe.web.Web"]=A.Web;A.Web.__name__=["flambe","web","Web"];A.Web.prototype={__class__:A.Web};f.html.HtmlWeb=function(a){this._container=a};k["flambe.platform.html.HtmlWeb"]=f.html.HtmlWeb;f.html.HtmlWeb.__name__=["flambe","platform","html","HtmlWeb"];f.html.HtmlWeb.__interfaces__=[A.Web];f.html.HtmlWeb.prototype={openBrowser:function(a){v.window.open(a,"_blank")},createView:function(a,b,c,d){var e=v.document.createElement("iframe");e.style.position="absolute";e.style.border="0";e.scrolling="no";this._container.appendChild(e);a=new f.html.HtmlWebView(e,a,b,c,d);f.html.HtmlPlatform.instance.mainLoop.addTickable(a);return a},get_supported:function(){return!0},__class__:f.html.HtmlWeb};A.WebView=function(){};k["flambe.web.WebView"]=A.WebView;A.WebView.__name__=["flambe","web","WebView"];A.WebView.__interfaces__=[l.Disposable];A.WebView.prototype={__class__:A.WebView};f.html.HtmlWebView=function(a,b,c,d,e){var f=this;this.iframe=a;a=function(){f.updateBounds()};this.x=new F.AnimatedFloat(b,a);this.y=new F.AnimatedFloat(c,a);this.width=new F.AnimatedFloat(d,a);this.height=new F.AnimatedFloat(e,a);this.updateBounds();this.url=new l.Value(null,function(a){f.loadUrl(a)});this.error=new l.Signal1};k["flambe.platform.html.HtmlWebView"]=f.html.HtmlWebView;f.html.HtmlWebView.__name__=["flambe","platform","html","HtmlWebView"];f.html.HtmlWebView.__interfaces__=[f.Tickable,A.WebView];f.html.HtmlWebView.prototype={loadUrl:function(a){null!=this.iframe&&(this.iframe.src=a)},updateBounds:function(){null!=this.iframe&&(this.iframe.style.left=this.x._value+"px",this.iframe.style.top=this.y._value+"px",this.iframe.width=this.width._value,this.iframe.height=this.height._value)},update:function(a){this.x.update(a);this.y.update(a);this.width.update(a);this.height.update(a);return null==this.iframe},dispose:function(){null!=this.iframe&&(this.iframe.parentNode.removeChild(this.iframe),this.iframe=null)},__class__:f.html.HtmlWebView};f.html.WebAudioSound=function(a){this.buffer=a};k["flambe.platform.html.WebAudioSound"]=f.html.WebAudioSound;f.html.WebAudioSound.__name__=["flambe","platform","html","WebAudioSound"];f.html.WebAudioSound.__interfaces__=[G.Sound];f.html.WebAudioSound.get_supported=function(){if(f.html.WebAudioSound._detectSupport){f.html.WebAudioSound._detectSupport=!1;var a=f.html.HtmlUtil.loadExtension("AudioContext").value;f.html.WebAudioSound.ctx=null!=a?new a:null}return null!=f.html.WebAudioSound.ctx};f.html.WebAudioSound.prototype={get_duration:function(){return this.buffer.duration},loop:function(a){null==a&&(a=1);return new f.html._WebAudioSound.WebAudioPlayback(this,a,!0)},play:function(a){null==a&&(a=1);return new f.html._WebAudioSound.WebAudioPlayback(this,a,!1)},__class__:f.html.WebAudioSound};f.html._WebAudioSound={};f.html._WebAudioSound.WebAudioPlayback=function(a,b,c){var d=this;this._sound=a;this._head=f.html.WebAudioSound.ctx.destination;this._sourceNode=f.html.WebAudioSound.ctx.createBufferSource();this._sourceNode.buffer=a.buffer;this._sourceNode.loop=c;(this._sourceNode.start)?this._sourceNode.start(0):this._sourceNode.noteOn(0);this.playAudio();this.volume=new F.AnimatedFloat(b,function(a){d.setVolume(a)});1!=b&&this.setVolume(b)};k["flambe.platform.html._WebAudioSound.WebAudioPlayback"]=f.html._WebAudioSound.WebAudioPlayback;f.html._WebAudioSound.WebAudioPlayback.__name__=["flambe","platform","html","_WebAudioSound","WebAudioPlayback"];f.html._WebAudioSound.WebAudioPlayback.__interfaces__=[f.Tickable,G.Playback];f.html._WebAudioSound.WebAudioPlayback.prototype={playAudio:function(){this._sourceNode.connect(this._head);this._startedAt=f.html.WebAudioSound.ctx.currentTime;this._pausedAt=-1;this._tickableAdded||(this._tickableAdded=!0,f.html.HtmlPlatform.instance.mainLoop.addTickable(this))},insertNode:function(a){0<=this._pausedAt||(this._sourceNode.disconnect(),this._sourceNode.connect(a));a.connect(this._head);this._head=a},setVolume:function(a){null==this._gainNode&&(this._gainNode=(f.html.WebAudioSound.ctx.createGain)?f.html.WebAudioSound.ctx.createGain():f.html.WebAudioSound.ctx.createGainNode(),this.insertNode(this._gainNode));this._gainNode.gain.value=a},dispose:function(){this.set_paused(!0)},update:function(a){this.volume.update(a);return 3==this._sourceNode.playbackState||0<=this._pausedAt?(this._tickableAdded=!1,!0):!1},set_position:function(a){return a},get_position:function(){return 3==this._sourceNode.playbackState?this._sound.get_duration():0<=this._pausedAt?this._pausedAt:(f.html.WebAudioSound.ctx.currentTime-this._startedAt)%this._sound.get_duration()},get_ended:function(){return 3==this._sourceNode.playbackState},set_paused:function(a){a!=0<=this._pausedAt&&(a?(this._sourceNode.disconnect(),this._pausedAt=this.get_position()):this.playAudio());return a},get_paused:function(){return 0<=this._pausedAt},get_sound:function(){return this._sound},__class__:f.html._WebAudioSound.WebAudioPlayback};A={Director:function(){this._width=this._height=-1;this._transitor=null;this.scenes=[];this.occludedScenes=[];this._root=new K}};k["flambe.scene.Director"]=A.Director;A.Director.__name__=["flambe","scene","Director"];A.Director.__super__=P;A.Director.prototype=y(P.prototype,{get_height:function(){return 0>this._height?D._platform.getStage().get_height():this._height},get_width:function(){return 0>this._width?D._platform.getStage().get_width():this._width},completeTransition:function(){null!=this._transitor&&(this._transitor.complete(),this._transitor=null,this.invalidateVisibility())},invalidateVisibility:function(){for(var a=this.scenes.length;0<a;){var b=this.scenes[--a],b=b._compMap.Scene_4;if(null==b||b.opaque)break}this.occludedScenes=0<this.scenes.length?this.scenes.slice(a,this.scenes.length-1):[];b=this.get_topScene();null!=b&&this.show(b)},show:function(a){a=a._compMap.Scene_4;null!=a&&a.shown.emit0()},get_topScene:function(){var a=this.scenes.length;return 0<a?this.scenes[a-1]:null},onUpdate:function(a){null!=this._transitor&&this._transitor.update(a)&&this.completeTransition()},onRemoved:function(){this.completeTransition();for(var a=0,b=this.scenes;a<b.length;){var c=b[a];++a;c.dispose()}this.scenes=[];this.occludedScenes=[];this._root.dispose()},onAdded:function(){this.owner.addChild(this._root)},get_name:function(){return"Director_0"},__class__:A.Director});A._Director={};A._Director.Transitor=function(){};k["flambe.scene._Director.Transitor"]=A._Director.Transitor;A._Director.Transitor.__name__=["flambe","scene","_Director","Transitor"];A._Director.Transitor.prototype={complete:function(){this._transition.complete();this._onComplete()},update:function(a){return this._transition.update(a)},__class__:A._Director.Transitor};A.Scene=function(a){null==a&&(a=!0);this.opaque=a;this.shown=new l.Signal0;this.hidden=new l.Signal0};k["flambe.scene.Scene"]=A.Scene;A.Scene.__name__=["flambe","scene","Scene"];A.Scene.__super__=P;A.Scene.prototype=y(P.prototype,{get_name:function(){return"Scene_4"},__class__:A.Scene});A.Transition=function(){};k["flambe.scene.Transition"]=A.Transition;A.Transition.__name__=["flambe","scene","Transition"];A.Transition.prototype={complete:function(){},update:function(){return!0},__class__:A.Transition};G._Mixer={};G._Mixer.MixerSound=function(a,b){this._source=a;this._channels=b;this._playbacks=[]};k["flambe.sound._Mixer.MixerSound"]=G._Mixer.MixerSound;G._Mixer.MixerSound.__name__=["flambe","sound","_Mixer","MixerSound"];G._Mixer.MixerSound.__interfaces__=[l.Disposable,G.Sound];G._Mixer.MixerSound.prototype={dispose:function(){for(var a=0,b=this._playbacks;a<b.length;){var c=b[a];++a;c.dispose()}this._playbacks=[]},get_duration:function(){return this._source.get_duration()},findOpenChannel:function(){for(var a=0,b=this._channels;a<b;){var c=a++,d=this._playbacks[c];if(null==d||d.get_ended())return c}return-1},playOrLoop:function(a,b){var c=this.findOpenChannel();if(0>c)return new f.DummyPlayback(this);var d=b?this._source.loop(a):this._source.play(a);return this._playbacks[c]=d},loop:function(a){null==a&&(a=1);return this.playOrLoop(a,!0)},play:function(a){null==a&&(a=1);return this.playOrLoop(a,!1)},__class__:G._Mixer.MixerSound};w={BitmapSprite:function(a){j.Sprite.call(this);this.symbol=a;this.anchorX.set__(a.anchorX);this.anchorY.set__(a.anchorY)}};k["flambe.swf.BitmapSprite"]=w.BitmapSprite;w.BitmapSprite.__name__=["flambe","swf","BitmapSprite"];w.BitmapSprite.__super__=j.Sprite;w.BitmapSprite.prototype=y(j.Sprite.prototype,{getNaturalHeight:function(){return this.symbol.height},getNaturalWidth:function(){return this.symbol.width},draw:function(a){a.drawSubImage(this.symbol.atlas,0,0,this.symbol.x,this.symbol.y,this.symbol.width,this.symbol.height)},__class__:w.BitmapSprite});w.Symbol=function(){};k["flambe.swf.Symbol"]=w.Symbol;w.Symbol.__name__=["flambe","swf","Symbol"];w.Symbol.prototype={__class__:w.Symbol};w.BitmapSymbol=function(a,b){this._name=a.symbol;this.atlas=b;var c=a.rect;this.x=c[0];this.y=c[1];this.width=c[2];this.height=c[3];c=a.origin;null!=c?(this.anchorX=c[0],this.anchorY=c[1]):(c=a.offset,null!=c?(this.anchorX=-c[0],this.anchorY=-c[1]):this.anchorY=this.anchorX=0)};k["flambe.swf.BitmapSymbol"]=w.BitmapSymbol;w.BitmapSymbol.__name__=["flambe","swf","BitmapSymbol"];w.BitmapSymbol.__interfaces__=[w.Symbol];w.BitmapSymbol.prototype={get_name:function(){return this._name},createSprite:function(){return new w.BitmapSprite(this)},__class__:w.BitmapSymbol};w.Library=function(a,b){this._symbols=new H;var c=Y.parse(a.getFile(b+"/library.json"));this.frameRate=c.frameRate;for(var d=[],e=0,f=c.movies;e<f.length;){var g=f[e];++e;g=new w.MovieSymbol(this,g);d.push(g);this._symbols.set(g.get_name(),g)}null!=c.textureGroups?(e=c.textureGroups,(1!=e[0].scaleFactor||1<e.length)&&null,g=e[0].atlases):g=c.atlases;for(e=0;e<g.length;){c=g[e];++e;for(var h=a.getTexture(b+"/"+l.Strings.removeFileExtension(c.file)),f=0,c=c.textures;f<c.length;){var i=c[f];++f;i=new w.BitmapSymbol(i,h);this._symbols.set(i.get_name(),i)}}for(e=0;e<d.length;){g=d[e];++e;f=0;for(c=g.layers;f<c.length;){g=c[f];++f;h=0;for(i=g.keyframes;h<i.length;){var k=i[h];++h;var j=this._symbols.get(k.symbolName);null!=j&&(null==g.lastSymbol?g.lastSymbol=j:g.lastSymbol!=j&&(g.multipleSymbols=!0),k.symbol=j)}}}};k["flambe.swf.Library"]=w.Library;w.Library.__name__=["flambe","swf","Library"];w.Library.prototype={__class__:w.Library};w.MovieSprite=function(a){this._looped=null;j.Sprite.call(this);this.symbol=a;this.animFinishedPlaying=new l.Signal1;this.speed=new F.AnimatedFloat(1);this.isPlaying=!0;this._animators=[];for(var b=0,a=a.layers;b<a.length;){var c=a[b];++b;this._animators.push(new w._MovieSprite.LayerAnimator(c))}this._position=this._frame=0;this["goto"](1)};k["flambe.swf.MovieSprite"]=w.MovieSprite;w.MovieSprite.__name__=["flambe","swf","MovieSprite"];w.MovieSprite.__super__=j.Sprite;w.MovieSprite.prototype=y(j.Sprite.prototype,{get_looped:function(){null==this._looped&&(this._looped=new l.Signal0);return this._looped},set_paused:function(a){this._flags=l.BitSets.set(this._flags,16,a);return a},set_position:function(a){return this._position=L.FMath.clamp(a,0,this.symbol.duration)},"goto":function(a){if(this._frame!=a){if(a<this._frame)for(var b=0,c=this._animators;b<c.length;){var d=c[b];++b;d.changedKeyframe=!0;d.keyframeIdx=0}b=0;for(c=this._animators;b<c.length;)d=c[b],++b,d.composeFrame(a);this._frame=a}},onUpdate:function(a){j.Sprite.prototype.onUpdate.call(this,a);if(this.isPlaying){this.speed.update(a);var b=!1;0==(this._flags&16)&&(this._position+=this.speed._value*a,this._position>this.symbol.duration&&(this._position%=this.symbol.duration,this.animFinishedPlaying.emit1(this),b=!0));this.isPlaying&&(this["goto"](this._position*this.symbol.frameRate),b&&null!=this._looped&&this._looped.emit0())}},onRemoved:function(){j.Sprite.prototype.onRemoved.call(this);for(var a=0,b=this._animators;a<b.length;){var c=b[a];++a;this.owner.removeChild(c.content)}},onAdded:function(){j.Sprite.prototype.onAdded.call(this);for(var a=0,b=this._animators;a<b.length;){var c=b[a];++a;this.owner.addChild(c.content)}},__class__:w.MovieSprite});w._MovieSprite={};w._MovieSprite.LayerAnimator=function(a){this._sprites=null;this.changedKeyframe=!1;this.keyframeIdx=0;this.layer=a;this.content=new K;var b;if(a.multipleSymbols){this._sprites=[];b=0;for(a=a.keyframes;b<a.length;){var c=a[b];++b;this._sprites.push(c.symbol.createSprite())}b=this._sprites[0]}else b=null!=a.lastSymbol?a.lastSymbol.createSprite():new j.Sprite;this.content.add(b)};k["flambe.swf._MovieSprite.LayerAnimator"]=w._MovieSprite.LayerAnimator;w._MovieSprite.LayerAnimator.__name__=["flambe","swf","_MovieSprite","LayerAnimator"];w._MovieSprite.LayerAnimator.prototype={composeFrame:function(a){for(var b=this.layer.keyframes,c=b.length-1;this.keyframeIdx<c&&b[this.keyframeIdx+
1].index<=a;)++this.keyframeIdx,this.changedKeyframe=!0;var d;this.changedKeyframe&&null!=this._sprites?(this.changedKeyframe=!1,d=this._sprites[this.keyframeIdx],this.content.add(d)):d=this.content._compMap.Sprite_1;var e=b[this.keyframeIdx],f=e.visible;d.set_visible(f);if(f){var f=e.x,g=e.y,h=e.scaleX,i=e.scaleY,k=e.skewX,j=e.skewY,l=e.alpha;if(this.keyframeIdx<c){a=(a-e.index)/e.duration;c=e.ease;if(0!=c){var m;0>c?(m=1-a,m=1-m*m,c=-c):m=a*a;a=c*m+(1-c)*a}b=b[this.keyframeIdx+1];f+=(b.x-f)*a;g+=(b.y-g)*a;h+=(b.scaleX-h)*a;i+=(b.scaleY-i)*a;k+=(b.skewX-k)*a;j+=(b.skewY-j)*a;l+=(b.alpha-l)*a}b=d.getLocalMatrix();a=Math.sin(k);k=Math.cos(k);c=Math.sin(j);j=Math.cos(j);b.set(j*h,c*h,-a*i,k*i,f,g);b.translate(-(e.pivotX+d.anchorX._value),-(e.pivotY+d.anchorY._value));d.alpha.set__(l)}},__class__:w._MovieSprite.LayerAnimator};w.MovieSymbol=function(a,b){this._name=b.id;this.frameRate=a.frameRate;this.frames=0;this.layers=[];for(var c=0,d=b.layers;c<d.length;){var e=d[c];++c;e=new w.MovieLayer(e);this.frames=Math.max(e.get_frames(),this.frames);this.layers.push(e)}this.duration=this.frames/this.frameRate};k["flambe.swf.MovieSymbol"]=w.MovieSymbol;w.MovieSymbol.__name__=["flambe","swf","MovieSymbol"];w.MovieSymbol.__interfaces__=[w.Symbol];w.MovieSymbol.prototype={createSprite:function(){return new w.MovieSprite(this)},get_name:function(){return this._name},__class__:w.MovieSymbol};w.MovieLayer=function(a){this.name=a.name;this.multipleSymbols=!1;this.keyframes=[];for(var b=null,c=0,a=a.keyframes;c<a.length;){var d=a[c];++c;b=new w.MovieKeyframe(d,b);this.keyframes.push(b)}};k["flambe.swf.MovieLayer"]=w.MovieLayer;w.MovieLayer.__name__=["flambe","swf","MovieLayer"];w.MovieLayer.prototype={get_frames:function(){var a=this.keyframes[this.keyframes.length-1];return a.index+(a.duration|0)},__class__:w.MovieLayer};w.MovieKeyframe=function(a,b){this.index=null!=b?b.index+b.duration:0;this.duration=a.duration;this.label=a.label;this.symbolName=a.ref;this.y=this.x=0;this.scaleY=this.scaleX=1;this.pivotY=this.pivotX=this.skewY=this.skewX=0;this.alpha=1;this.visible=!0;this.ease=0;if(null!=this.symbolName){var c=a.loc;null!=c&&(this.x=c[0],this.y=c[1]);c=a.scale;null!=c&&(this.scaleX=c[0],this.scaleY=c[1]);c=a.skew;null!=c&&(this.skewX=c[0],this.skewY=c[1]);c=a.pivot;null!=c&&(this.pivotX=c[0],this.pivotY=c[1]);null!=a.alpha&&(this.alpha=a.alpha);null!=a.visible&&(this.visible=a.visible);null!=a.ease&&(this.ease=a.ease)}};k["flambe.swf.MovieKeyframe"]=w.MovieKeyframe;w.MovieKeyframe.__name__=["flambe","swf","MovieKeyframe"];w.MovieKeyframe.prototype={__class__:w.MovieKeyframe};l.Assert=function(){};k["flambe.util.Assert"]=l.Assert;l.Assert.__name__=["flambe","util","Assert"];l.BitSets=function(){};k["flambe.util.BitSets"]=l.BitSets;l.BitSets.__name__=["flambe","util","BitSets"];l.BitSets.set=function(a,b,c){return c?a|b:a&~b};l.LogHandler=function(){};k["flambe.util.LogHandler"]=l.LogHandler;l.LogHandler.__name__=["flambe","util","LogHandler"];l.LogHandler.prototype={__class__:l.LogHandler};l.Promise=function(){this.success=new l.Signal1;this.error=new l.Signal1;this.progressChanged=new l.Signal0;this.hasResult=!1;this._total=this._progress=0};k["flambe.util.Promise"]=l.Promise;l.Promise.__name__=["flambe","util","Promise"];l.Promise.prototype={set_total:function(a){this._total=a;this.progressChanged.emit0();return a},set_progress:function(a){this._progress=a;this.progressChanged.emit0();return a},get:function(a){return this.hasResult?(a(this._result),null):this.success.connect(a).once()},set_result:function(a){if(this.hasResult)throw"Promise result already assigned";this._result=a;this.hasResult=!0;this.success.emit1(a);return a},get_result:function(){if(!this.hasResult)throw"Promise result not yet available";return this._result},__class__:l.Promise};l.Signal0=function(a){l.SignalBase.call(this,a)};k["flambe.util.Signal0"]=l.Signal0;l.Signal0.__name__=["flambe","util","Signal0"];l.Signal0.__super__=l.SignalBase;l.Signal0.prototype=y(l.SignalBase.prototype,{connect:function(a,b){null==b&&(b=!1);return this.connectImpl(a,b)},__class__:l.Signal0});l._SignalBase={};l._SignalBase.Task=function(a){this.next=null;this.fn=a};k["flambe.util._SignalBase.Task"]=l._SignalBase.Task;l._SignalBase.Task.__name__=["flambe","util","_SignalBase","Task"];l._SignalBase.Task.prototype={__class__:l._SignalBase.Task};C=void 0;U=void 0;Q=void 0;T=void 0;V=void 0;Y=void 0;Y=function(){};k["haxe.Json"]=Y;Y.__name__=["haxe","Json"];Y.parse=function(a){return(new Y).doParse(a)};Y.prototype={parseString:function(){for(var a=this.pos,b=new $;;){var c=this.str.charCodeAt(this.pos++);if(34==c)break;if(92==c){b.b+=B.substr(this.str,a,this.pos-a-1);c=this.str.charCodeAt(this.pos++);switch(c){case 114:b.b+=String.fromCharCode(13);break;case 110:b.b+=String.fromCharCode(10);break;case 116:b.b+=String.fromCharCode(9);break;case 98:b.b+=String.fromCharCode(8);break;case 102:b.b+=String.fromCharCode(12);break;case 47:case 92:case 34:b.b+=String.fromCharCode(c);break;case 117:a=r.parseInt("0x"+B.substr(this.str,this.pos,4));this.pos+=4;b.b+=String.fromCharCode(a);break;default:throw"Invalid escape sequence \\"+
String.fromCharCode(c)+" at position "+(this.pos-1);}a=this.pos}else if(c!=c)throw"Unclosed string";}b.b+=B.substr(this.str,a,this.pos-a-1);return b.b},parseRec:function(){for(;;)switch(this.str.charCodeAt(this.pos++)){case 32:case 13:case 10:case 9:break;case 123:for(var a={},b=null,c=null;;){var d=this.str.charCodeAt(this.pos++);switch(d){case 32:case 13:case 10:case 9:break;case 125:return(null!=b||!1==c)&&this.invalidChar(),a;case 58:null==b&&this.invalidChar();a[b]=this.parseRec();b=null;c=!0;break;case 44:c?c=!1:this.invalidChar();break;case 34:c&&this.invalidChar();b=this.parseString();break;default:this.invalidChar()}}break;case 91:a=[];for(c=null;;)switch(d=this.str.charCodeAt(this.pos++),d){case 32:case 13:case 10:case 9:break;case 93:return!1==c&&this.invalidChar(),a;case 44:c?c=!1:this.invalidChar();break;default:c&&this.invalidChar(),this.pos--,a.push(this.parseRec()),c=!0}break;case 116:c=this.pos;if(114!=this.str.charCodeAt(this.pos++)||117!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=c,this.invalidChar();return!0;case 102:c=this.pos;if(97!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||115!=this.str.charCodeAt(this.pos++)||101!=this.str.charCodeAt(this.pos++))this.pos=c,this.invalidChar();return!1;case 110:c=this.pos;if(117!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++)||108!=this.str.charCodeAt(this.pos++))this.pos=c,this.invalidChar();return null;case 34:return this.parseString();case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 45:this.pos--;if(!this.reg_float.match(B.substr(this.str,this.pos,null)))throw"Invalid float at position "+this.pos;c=this.reg_float.matched(0);this.pos+=c.length;c=r.parseFloat(c);d=c|0;return d==c?d:c;default:this.invalidChar()}},invalidChar:function(){this.pos--;throw"Invalid char "+this.str.charCodeAt(this.pos)+" at position "+this.pos;},doParse:function(a){this.reg_float=new X("^-?(0|[1-9][0-9]*)(\\.[0-9]+)?([eE][+-]?[0-9]+)?","");this.str=a;this.pos=0;return this.parseRec()},__class__:Y};T=function(){this.buf=new $;this.cache=[];this.useCache=T.USE_CACHE;this.useEnumIndex=T.USE_ENUM_INDEX;this.shash=new H;this.scount=0};k["haxe.Serializer"]=T;T.__name__=["haxe","Serializer"];T.run=function(a){var b=new T;b.serialize(a);return b.toString()};T.prototype={serialize:function(a){var b=O["typeof"](a);switch(b[1]){case 0:this.buf.b+=r.string("n");break;case 1:if(0==a){this.buf.b+=r.string("z");break}this.buf.b+=r.string("i");this.buf.b+=r.string(a);break;case 2:Math.isNaN(a)?this.buf.b+=r.string("k"):Math.isFinite(a)?(this.buf.b+=r.string("d"),this.buf.b+=r.string(a)):this.buf.b+=r.string(0>a?"m":"p");break;case 3:this.buf.b+=r.string(a?"t":"f");break;case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:var c=0;this.buf.b+=r.string("a");for(var d=a.length,e=0;e<d;)b=e++,null==a[b]?c++:(0<c&&(1==c?this.buf.b+=r.string("n"):(this.buf.b+=r.string("u"),this.buf.b+=r.string(c)),c=0),this.serialize(a[b]));0<c&&(1==c?this.buf.b+=r.string("n"):(this.buf.b+=r.string("u"),this.buf.b+=r.string(c)));this.buf.b+=r.string("h");break;case ea:this.buf.b+=r.string("l");for(a=a.iterator();a.hasNext();)b=a.next(),this.serialize(b);this.buf.b+=r.string("h");break;case Date:this.buf.b+=r.string("v");this.buf.b+=r.string(B.dateStr(a));break;case H:this.buf.b+=r.string("b");for(c=a.keys();c.hasNext();)b=c.next(),this.serializeString(b),this.serialize(a.get(b));this.buf.b+=r.string("h");break;case W:this.buf.b+=r.string("q");for(c=a.keys();c.hasNext();)b=c.next(),this.buf.b+=r.string(":"),this.buf.b+=r.string(b),this.serialize(a.get(b));this.buf.b+=r.string("h");break;case V.Bytes:b=0;c=a.length-2;d=new $;for(e=T.BASE64;b<c;){var f=a.b[b++],g=a.b[b++],h=a.b[b++];d.b+=r.string(e.charAt(f>>2));d.b+=r.string(e.charAt((f<<4|g>>4)&63));d.b+=r.string(e.charAt((g<<2|h>>6)&63));d.b+=r.string(e.charAt(h&63))}b==c?(f=a.b[b++],g=a.b[b++],d.b+=r.string(e.charAt(f>>2)),d.b+=r.string(e.charAt((f<<4|g>>4)&63)),d.b+=r.string(e.charAt(g<<2&63))):b==c+1&&(f=a.b[b++],d.b+=r.string(e.charAt(f>>2)),d.b+=r.string(e.charAt(f<<4&63)));b=d.b;this.buf.b+=r.string("s");this.buf.b+=r.string(b.length);this.buf.b+=r.string(":");this.buf.b+=r.string(b);break;default:this.cache.pop(),null!=a.hxSerialize?(this.buf.b+=r.string("C"),this.serializeString(O.getClassName(b)),this.cache.push(a),a.hxSerialize(this),this.buf.b+=r.string("g")):(this.buf.b+=r.string("c"),this.serializeString(O.getClassName(b)),this.cache.push(a),this.serializeFields(a))}break;case 4:if(this.useCache&&this.serializeRef(a))break;this.buf.b+=r.string("o");this.serializeFields(a);break;case 7:b=b[2];if(this.useCache&&this.serializeRef(a))break;this.cache.pop();this.buf.b+=r.string(this.useEnumIndex?"j":"w");this.serializeString(O.getEnumName(b));this.useEnumIndex?(this.buf.b+=r.string(":"),this.buf.b+=r.string(a[1])):this.serializeString(a[0]);this.buf.b+=r.string(":");d=a.length;this.buf.b+=r.string(d-2);for(e=2;e<d;)b=e++,this.serialize(a[b]);this.cache.push(a);break;case 5:throw"Cannot serialize function";default:throw"Cannot serialize "+
r.string(a);}},serializeFields:function(a){for(var b=0,c=M.fields(a);b<c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(M.field(a,d))}this.buf.b+=r.string("g")},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var e=c++,f=this.cache[e];if(typeof f==b&&f==a)return this.buf.b+=r.string("r"),this.buf.b+=r.string(e),!0}this.cache.push(a);return!1},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+=r.string("R"),this.buf.b+=r.string(b)):(this.shash.set(a,this.scount++),this.buf.b+=r.string("y"),a=S.urlEncode(a),this.buf.b+=r.string(a.length),this.buf.b+=r.string(":"),this.buf.b+=r.string(a))},toString:function(){return this.buf.b},__class__:T};U=function(a){var b=this;this.id=window.setInterval(function(){b.run()},a)};k["haxe.Timer"]=U;U.__name__=["haxe","Timer"];U.delay=function(a,b){var c=new U(b);c.run=function(){c.stop();a()};return c};U.prototype={run:function(){},stop:function(){null!=this.id&&(window.clearInterval(this.id),this.id=null)},__class__:U};Q=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=Q.DEFAULT_RESOLVER;null==a&&(a=O,Q.DEFAULT_RESOLVER=a);this.setResolver(a)};k["haxe.Unserializer"]=Q;Q.__name__=["haxe","Unserializer"];Q.initCodes=function(){for(var a=[],b=0,c=Q.BASE64.length;b<c;){var d=b++;a[Q.BASE64.charCodeAt(d)]=d}return a};Q.run=function(a){return(new Q(a)).unserialize()};Q.prototype={unserialize:function(){switch(this.buf.charCodeAt(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return r.parseFloat(B.substr(this.buf,a,this.pos-a));case 121:b=this.readDigits();if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid string length";a=B.substr(this.buf,this.pos,b);this.pos+=b;a=S.urlDecode(a);this.scache.push(a);return a;case 107:return Math.NaN;case 109:return Math.NEGATIVE_INFINITY;case 112:return Math.POSITIVE_INFINITY;case 97:var c=this.buf,a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return b={},this.cache.push(b),this.unserializeObject(b),b;case 114:b=this.readDigits();if(0>b||b>=this.cache.length)throw"Invalid reference";return this.cache[b];case 82:b=this.readDigits();if(0>b||b>=this.scache.length)throw"Invalid string reference";return this.scache[b];case 120:throw this.unserialize();case 99:b=this.unserialize();a=this.resolver.resolveClass(b);if(null==a)throw"Class not found "+b;b=O.createEmptyInstance(a);this.cache.push(b);this.unserializeObject(b);return b;case 119:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;b=this.unserializeEnum(a,this.unserialize());this.cache.push(b);return b;case 106:b=this.unserialize();a=this.resolver.resolveEnum(b);if(null==a)throw"Enum not found "+b;this.pos++;var c=this.readDigits(),d=O.getEnumConstructs(a)[c];if(null==d)throw"Unknown enum index "+b+"@"+c;b=this.unserializeEnum(a,d);this.cache.push(b);return b;case 108:b=new ea;for(this.cache.push(b);104!=this.buf.charCodeAt(this.pos);)b.add(this.unserialize());this.pos++;return b;case 98:c=new H;for(this.cache.push(c);104!=this.buf.charCodeAt(this.pos);)a=this.unserialize(),c.set(a,this.unserialize());this.pos++;return c;case 113:c=new W;this.cache.push(c);for(b=this.buf.charCodeAt(this.pos++);58==b;)a=this.readDigits(),c.set(a,this.unserialize()),b=this.buf.charCodeAt(this.pos++);if(104!=b)throw"Invalid IntHash format";return c;case 118:return b=B.strDate(B.substr(this.buf,this.pos,19)),this.cache.push(b),this.pos+=19,b;case 115:b=this.readDigits();c=this.buf;if(58!=this.buf.charCodeAt(this.pos++)||this.length-this.pos<b)throw"Invalid bytes length";d=Q.CODES;null==d&&(d=Q.initCodes(),Q.CODES=d);for(var a=this.pos,e=b&3,f=a+(b-e),g=V.Bytes.alloc(3*(b>>2)+(2<=e?e-1:0)),h=0;a<f;){var i=d[c.charCodeAt(a++)],k=d[c.charCodeAt(a++)];g.b[h++]=(i<<2|k>>4)&255;i=d[c.charCodeAt(a++)];g.b[h++]=(k<<4|i>>2)&255;k=d[c.charCodeAt(a++)];g.b[h++]=(i<<6|k)&255}2<=e&&(i=d[c.charCodeAt(a++)],k=d[c.charCodeAt(a++)],g.b[h++]=(i<<2|k>>4)&255,3==e&&(i=d[c.charCodeAt(a++)],g.b[h++]=(k<<4|i>>2)&255));this.pos+=b;this.cache.push(g);return g;case 67:b=this.unserialize();a=this.resolver.resolveClass(b);if(null==a)throw"Class not found "+b;b=O.createEmptyInstance(a);this.cache.push(b);b.hxUnserialize(this);if(103!=this.buf.charCodeAt(this.pos++))throw"Invalid custom data";return b}this.pos--;throw"Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos;},unserializeEnum:function(a,b){if(58!=this.buf.charCodeAt(this.pos++))throw"Invalid enum format";var c=this.readDigits();if(0==c)return O.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return O.createEnum(a,b,d)},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw"Invalid object";if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if(!I.__instanceof(b,String))throw"Invalid object key";var c=this.unserialize();a[b]=c}this.pos++},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},setResolver:function(a){this.resolver=null==a?{resolveClass:function(){return null},resolveEnum:function(){return null}}:a},__class__:Q};V={Bytes:function(a,b){this.length=a;this.b=b}};k["haxe.io.Bytes"]=V.Bytes;V.Bytes.__name__=["haxe","io","Bytes"];V.Bytes.alloc=function(a){for(var b=[],c=0;c<a;)c++,b.push(0);return new V.Bytes(a,b)};V.Bytes.ofData=function(a){return new V.Bytes(a.length,a)};V.Bytes.prototype={__class__:V.Bytes};C={_Fast:{}};C._Fast.NodeAccess=function(a){this.__x=a};k["haxe.xml._Fast.NodeAccess"]=C._Fast.NodeAccess;C._Fast.NodeAccess.__name__=["haxe","xml","_Fast","NodeAccess"];C._Fast.NodeAccess.prototype={resolve:function(a){var b=this.__x.elementsNamed(a).next();if(null==b)throw(this.__x.nodeType==u.Document?"Document":this.__x.getNodeName())+" is missing element "+a;return new C.Fast(b)},__class__:C._Fast.NodeAccess};C._Fast.AttribAccess=function(a){this.__x=a};k["haxe.xml._Fast.AttribAccess"]=C._Fast.AttribAccess;C._Fast.AttribAccess.__name__=["haxe","xml","_Fast","AttribAccess"];C._Fast.AttribAccess.prototype={resolve:function(a){if(this.__x.nodeType==u.Document)throw"Cannot access document attribute "+a;var b=this.__x.get(a);if(null==b)throw this.__x.getNodeName()+" is missing attribute "+a;return b},__class__:C._Fast.AttribAccess};C._Fast.HasAttribAccess=function(a){this.__x=a};k["haxe.xml._Fast.HasAttribAccess"]=C._Fast.HasAttribAccess;C._Fast.HasAttribAccess.__name__=["haxe","xml","_Fast","HasAttribAccess"];C._Fast.HasAttribAccess.prototype={resolve:function(a){if(this.__x.nodeType==u.Document)throw"Cannot access document attribute "+a;return this.__x.exists(a)},__class__:C._Fast.HasAttribAccess};C._Fast.HasNodeAccess=function(a){this.__x=a};k["haxe.xml._Fast.HasNodeAccess"]=C._Fast.HasNodeAccess;C._Fast.HasNodeAccess.__name__=["haxe","xml","_Fast","HasNodeAccess"];C._Fast.HasNodeAccess.prototype={resolve:function(a){return this.__x.elementsNamed(a).hasNext()},__class__:C._Fast.HasNodeAccess};C._Fast.NodeListAccess=function(a){this.__x=a};k["haxe.xml._Fast.NodeListAccess"]=C._Fast.NodeListAccess;C._Fast.NodeListAccess.__name__=["haxe","xml","_Fast","NodeListAccess"];C._Fast.NodeListAccess.prototype={resolve:function(a){for(var b=new ea,a=this.__x.elementsNamed(a);a.hasNext();){var c=a.next();b.add(new C.Fast(c))}return b},__class__:C._Fast.NodeListAccess};C.Fast=function(a){if(a.nodeType!=u.Document&&a.nodeType!=u.Element)throw"Invalid nodeType "+r.string(a.nodeType);this.x=a;this.node=new C._Fast.NodeAccess(a);this.nodes=new C._Fast.NodeListAccess(a);this.att=new C._Fast.AttribAccess(a);this.has=new C._Fast.HasAttribAccess(a);this.hasNode=new C._Fast.HasNodeAccess(a)};k["haxe.xml.Fast"]=C.Fast;C.Fast.__name__=["haxe","xml","Fast"];C.Fast.prototype={getElements:function(){var a=this.x.elements();return{hasNext:x(a,a.hasNext),next:function(){var b=a.next();return null==b?null:new C.Fast(b)}}},getInnerHTML:function(){for(var a=new $,b=this.x.iterator();b.hasNext();){var c=b.next();a.b+=r.string(c.toString())}return a.b},getInnerData:function(){var a=this.x.iterator();if(!a.hasNext())throw this.getName()+" does not have data";var b=a.next(),c=a.next();if(null!=c){if(b.nodeType==u.PCData&&c.nodeType==u.CData&&""==S.trim(b.getNodeValue())&&(b=a.next(),null==b||b.nodeType==u.PCData&&""==S.trim(b.getNodeValue())&&null==a.next()))return c.getNodeValue();throw this.getName()+" does not only have data";}if(b.nodeType!=u.PCData&&b.nodeType!=u.CData)throw this.getName()+" does not have data";return b.getNodeValue()},getName:function(){return this.x.nodeType==u.Document?"Document":this.x.getNodeName()},__class__:C.Fast};C.Parser=function(){};k["haxe.xml.Parser"]=C.Parser;C.Parser.__name__=["haxe","xml","Parser"];C.Parser.parse=function(a){var b=u.createDocument();C.Parser.doParse(a,0,b);return b};C.Parser.doParse=function(a,b,c){null==b&&(b=0);for(var d=null,e=1,f=1,g=null,h=0,i=0,k=0,j=a.charCodeAt(b);j==j;){switch(e){case 0:switch(j){case 10:case 13:case 9:case 32:break;default:e=f;continue}break;case 1:switch(j){case 60:e=0;f=2;break;default:h=b;e=13;continue}break;case 13:60==j&&(e=u.createPCData(B.substr(a,h,b-h)),c.addChild(e),i++,e=0,f=2);break;case 17:93==j&&93==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(e=u.createCData(B.substr(a,h,b-h)),c.addChild(e),i++,b+=2,e=1);break;case 2:switch(j){case 33:if(91==a.charCodeAt(b+1)){b+=2;if("CDATA["!=B.substr(a,b,6).toUpperCase())throw"Expected <![CDATA[";b+=5;e=17}else if(68==a.charCodeAt(b+1)||100==a.charCodeAt(b+1)){if("OCTYPE"!=B.substr(a,b+2,6).toUpperCase())throw"Expected <!DOCTYPE";b+=8;e=16}else{if(45!=a.charCodeAt(b+1)||45!=a.charCodeAt(b+2))throw"Expected <\!--";b+=2;e=15}h=b+1;break;case 63:e=14;h=b;break;case 47:if(null==c)throw"Expected node name";h=b+1;e=0;f=10;break;default:e=3;h=b;continue}break;case 3:if(!(97<=j&&122>=j||65<=j&&90>=j||48<=j&&57>=j||58==j||46==j||95==j||45==j)){if(b==h)throw"Expected node name";d=u.createElement(B.substr(a,h,b-h));c.addChild(d);e=0;f=4;continue}break;case 4:switch(j){case 47:e=11;i++;break;case 62:e=9;i++;break;default:e=5;h=b;continue}break;case 5:if(!(97<=j&&122>=j||65<=j&&90>=j||48<=j&&57>=j||58==j||46==j||95==j||45==j)){if(h==b)throw"Expected attribute name";g=B.substr(a,h,b-h);if(d.exists(g))throw"Duplicate attribute";e=0;f=6;continue}break;case 6:switch(j){case 61:e=0;f=7;break;default:throw"Expected =";}break;case 7:switch(j){case 34:case 39:e=8;h=b;break;default:throw'Expected "';}break;case 8:j==a.charCodeAt(h)&&(f=B.substr(a,h+1,b-h-1),d.set(g,f),e=0,f=4);break;case 9:h=b=C.Parser.doParse(a,b,d);e=1;break;case 11:switch(j){case 62:e=1;break;default:throw"Expected >";}break;case 12:switch(j){case 62:return 0==i&&c.addChild(u.createPCData("")),b;default:throw"Expected >";}case 10:if(!(97<=j&&122>=j||65<=j&&90>=j||48<=j&&57>=j||58==j||46==j||95==j||45==j)){if(h==b)throw"Expected node name";if(B.substr(a,h,b-h)!=c.getNodeName())throw"Expected </"+c.getNodeName()+">";e=0;f=12;continue}break;case 15:45==j&&45==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2)&&(c.addChild(u.createComment(B.substr(a,h,b-h))),b+=2,e=1);break;case 16:91==j?k++:93==j?k--:62==j&&0==k&&(c.addChild(u.createDocType(B.substr(a,h,b-h))),e=1);break;case 14:63==j&&62==a.charCodeAt(b+1)&&(b++,e=B.substr(a,h+1,b-h-2),c.addChild(u.createProlog(e)),e=1)}j=a.charCodeAt(++b)}1==e&&(h=b,e=13);if(13==e)return(b!=h||0==i)&&c.addChild(u.createPCData(B.substr(a,h,b-h))),b;throw"Unexpected end";};Array.prototype.indexOf?B.remove=function(a,b){var c=a.indexOf(b);if(-1==c)return!1;a.splice(c,1);return!0}:null;Math.__name__=["Math"];Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;k.Math=Math;Math.isFinite=function(a){return isFinite(a)};Math.isNaN=function(a){return isNaN(a)};String.prototype.__class__=k.String=String;String.__name__=["String"];Array.prototype.__class__=k.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=k.Date=Date;Date.__name__=["Date"];var ja=k.Int={__name__:["Int"]},ka=k.Dynamic={__name__:["Dynamic"]},ha=k.Float=Number;ha.__name__=["Float"];var ia=k.Bool=Boolean;ia.__ename__=["Bool"];var la=k.Class={__name__:["Class"]},ma={};u.Element="element";u.PCData="pcdata";u.CData="cdata";u.Comment="comment";u.DocType="doctype";u.Prolog="prolog";u.Document="document";"undefined"!=typeof document&&(v.document=document);"undefined"!=typeof window&&(v.window=window,v.window.onerror=function(a,b,c){var d=v.onerror;return null==d?!1:d(a,[b+":"+c])});"undefined"!=typeof JSON&&(Y=JSON);o._flagConstructed=!1;o._privacyLinkOpened=!1;o._eulaLinkOpened=!1;e.ConstantsApp.STAGE_WIDTH=960;e.ConstantsApp.STAGE_HEIGHT=560;e.ConstantsApp.STAGE_CENTER_X=480;e.ConstantsApp.STAGE_CENTER_Y=280;e.ConstantsApp.LAYER_BG="layer_bg";e.ConstantsApp.LAYER_PLAYER="layer_player";e.ConstantsApp.LAYER_FG="layer_fg";e.ConstantsApp.EVENT_PAUSE="eventPause";e.ConstantsApp.EVENT_UNPAUSE="eventUnpause";e.ConstantsApp.EVENT_MUTE_TOGGLE="EVENT_MUTE_TOGGLE";e.ConstantsApp.BOOL_GAME_LOSE="bool_game_lose";e.ConstantsApp.BOOL_GAME_WIN="bool_game_win";e.ConstantsApp.BOOL_LEVEL_LOSE="bool_level_lose";e.ConstantsApp.BOOL_LEVEL_WIN="bool_level_win";e.ConstantsApp.BOOL_GAMEOVER="bool_gameover";e.ConstantsApp.BOOL_PAUSED="bool_paused";e.ConstantsApp.BOOL_MUTED="bool_muted";e.ConstantsApp.BOOL_INPUT_LOCK="bool_inputlock";e.ConstantsApp.BOOL_ORIENTATION_ALERT="bool_orientation_alert";e.ConstantsApp.BOOL_TOUCH_DEVICE="bool_touch_device";e.ConstantsApp.INT_HEALTH="int_health";e.ConstantsApp.INT_LIVES="int_lives";e.ConstantsApp.INT_SCORE="int_score";e.ConstantsApp.INPUT_CLICK="input_click";e.ConstantsApp.INPUT_SPACE="input_space";e.ConstantsApp.INPUT_Z="input_z";e.ConstantsApp.INPUT_X="input_x";e.ConstantsApp.INPUT_C="input_c";e.ConstantsApp.INPUT_P="input_p";e.ConstantsApp.INPUT_UP="input_up";e.ConstantsApp.INPUT_DOWN="input_down";e.ConstantsApp.INPUT_LEFT="input_left";e.ConstantsApp.INPUT_RIGHT="input_right";e.ConstantsApp.CONFIG_XML_PATH="config/config.xml";e.ConstantsApp.DEBUG_SILENCE_AUDIO=!1;e.ConstantsApp.TYPE_SPONGEBOB="spongebob";e.ConstantsApp.TYPE_SHELFITEM="shelfitem";e.ConstantsApp.TYPE_LEVEL="level_up_screen";e.ConstantsApp.FLOAT_SCORE="float_score";e.ConstantsApp.MOVE_TO_LEVEL_CHECK=!1;e.ConstantsApp.scaleFactor=1;e.ConstantsApp.ITEM_IS_MOVING=!1;e.ConstantsApp.shockingEggs="Shocking";e.ConstantsApp.roundEggs="Round";e.ConstantsApp.glowingEggs="Glowing";e.ConstantsApp.smellyEggs="Smelly";e.ConstantsApp.aliveEggs="Scary";e.ConstantsApp.shockingFlavor="Slimy";e.ConstantsApp.moldyFlavor="Moldy";e.ConstantsApp.softFlavor="Furry";e.ConstantsApp.smellyFlavor="Smelly";e.ConstantsApp.chompingFlavor="Chomping";e.ConstantsApp.shockingFrosting="Slimy";e.ConstantsApp.brownFrosting="Brown";e.ConstantsApp.snailyFrosting="Snaily";e.ConstantsApp.smellyFrosting="Smelly";e.ConstantsApp.gooeyFrosting="Scary";e.ConstantsApp.startPatrickEating=!1;e.ConstantsApp.pattrickReady=!1;e.ConstantsApp.canShowRecipe=!1;e.ConstantsApp.recipeShowing=!1;e.ConstantsScreen.SCREEN_LOADING="loadpanel";e.ConstantsScreen.SCREEN_SPLASH="splash";e.ConstantsScreen.SCREEN_HELP="help";e.ConstantsScreen.SCREEN_GAMEPLAY_HUD="gameplayhud";e.ConstantsScreen.SCREEN_GAMEPLAY_MENU="gameplaymenu";e.ConstantsScreen.SCREEN_GAMEPLAY_MENU_HELP="gameplaymenuhelp";e.ConstantsScreen.SCREEN_QUIT_CONFIRM="quitconfirm";e.ConstantsScreen.SCREEN_END_GAME="endgame";e.ConstantsScreen.SCREEN_CUTSCENE_BORDERS="cutsceneborders";e.ConstantsScreen.TRANSITION_FADE=0;e.ConstantsScreen.TRANSITION_SCROLL=1;e.ConstantsScreen.TRANSITION_SCROLL_DOWN=2;e.ConstantsScreen.TRANSITION_SCROLL_UP=3;e.ConstantsScreen.TRANSITION_STAGED=4;e.ConstantsScreen.TRANSITION_SCREENSHOT=5;e.ConstantsScreen.CHANGE_OPEN_BEGIN=0;e.ConstantsScreen.CHANGE_OPEN_COMPLETE=1;e.ConstantsScreen.CHANGE_CLOSE_BEGIN=2;e.ConstantsScreen.CHANGE_CLOSE_COMPLETE=3;e.ConstantsScreen.OUTPUT_OPENED=0;e.ConstantsScreen.OUTPUT_CLOSED=1;e.ConstantsScreen.CONDITION_CLOSED_ALL=0;e.ConstantsScreen.CONDITION_CLOSED_SPECIFIC=1;e.ConstantsScreen.CONDITION_TRANSITION_MIDWAY=2;e.ConstantsScreen.CONDITION_TRANSITION_COMPLETE=3;e.ConstantsScreen.CONDITION_IMMEDIATE=4;e.ConstantsScreen.FLOW_SPLASH_PLAY="FLOW_SPLASH_PLAY";e.ConstantsScreen.FLOW_HELP_PLAY="FLOW_HELP_PLAY";e.ConstantsScreen.FLOW_GAMEPLAY_MENU="FLOW_GAMEPLAY_MENU";e.ConstantsScreen.FLOW_GAMEPLAY_MENU_CLOSE="FLOW_GAMEPLAY_MENU_CLOSE";e.ConstantsScreen.FLOW_GAMEPLAY_MENU_HELP="FLOW_GAMEPLAY_MENU_HELP";e.ConstantsScreen.FLOW_GAMEPLAY_MENU_QUIT="FLOW_GAMEPLAY_MENU_QUIT";e.ConstantsScreen.FLOW_GAMEPLAY_MENU_HELP_CLOSE="FLOW_GAMEPLAY_MENU_HELP_CLOSE";e.ConstantsScreen.FLOW_GAMEPLAY_QUIT_NO="FLOW_GAMEPLAY_QUIT_NO";e.ConstantsScreen.FLOW_END_GAME_PLAY_AGAIN="FLOW_END_GAME_PLAY_AGAIN";e.ConstantsScreen.FLOW_BRANCH_GAME_WIN="FLOW_BRANCH_GAME_WIN";e.ConstantsScreen.FLOW_BRANCH_GAME_LOSE="FLOW_BRANCH_GAME_LOSE";e.ConstantsScreen.FLOW_BRANCH_LEVEL_WIN="FLOW_BRANCH_LEVEL_WIN";e.ConstantsScreen.FLOW_BRANCH_LEVEL_LOSE="FLOW_BRANCH_LEVEL_LOSE";i.buttons.ButtonBase.UP="workinBtnUp";i.buttons.ButtonBase.DOWN="workinBtnDown";i.buttons.ButtonBase.CLICK="workinBtnClick";i.buttons.ButtonBase.CANCEL_DRAG="workinBtnCancelDrag";p.Display.EVENT_UPDATE_DISPLAY="event_update_display";i.screens.data.ScreenStateData.ACTION_STOP=0;i.screens.data.ScreenStateData.ACTION_OPENED=1;i.screens.data.ScreenStateData.ACTION_EVENT=2;i.screens.data.ScreenStateData.ACTION_NEW_STATE=3;i.screens.data.ScreenStateData.ACTION_CLOSED=4;i.screens.data.ScreenStateData.ACTION_FLOW=5;J.ConstantsCloud.STRING_REGION_ID="cloudregionid";J.ConstantsCloud.LOCALIZATION_XML_PATH="config/";J.ConstantsCloud.EVENT_FILES_LOADED="EVENT_WORKINCLOUD_FILES_LOADED";J.ConstantsCloud.EVENT_FILES_LOADING="EVENT_FILES_LOADING";J.ConstantsCloud.EVENT_FILES_ERROR="EVENT_FILES_ERROR";m.WMEventFlow.EVENT_FLOW="Nflow";m.WMEventInput.EVENT_INPUT="eventinput";m.WMEventInput.PHASE_DOWN=1;m.WMEventInput.PHASE_UP=0;m.WMEventInput.PHASE_MOVE=2;m.WMEventInterfaceChange.EVENT_INTERFACE_OUTPUT="Neio";m.WMEventScreenOut.EVENT_SCREEN_OUTPUT="Neso";m.WMEventUpdate.EVENT_UPDATE="eventupdate";h.tween.PennerManager.EASE_LINEAR="linear";h.tween.PennerManager.EASE="ease";h.tween.PennerManager.EASE_QUAD="quad";h.tween.PennerManager.EASE_IN="easeIn";h.tween.PennerManager.EASE_QUAD_IN="quadIn";h.tween.PennerManager.EASE_OUT="easeOut";h.tween.PennerManager.EASE_QUAD_OUT="quadOut";h.tween.PennerManager.EASE_EXPO="expo";h.tween.PennerManager.EASE_EXPO_IN="expoIn";h.tween.PennerManager.EASE_EXPO_OUT="expoOut";h.tween.PennerManager.EASE_ELASTIC="elastic";h.tween.PennerManager.EASE_ELASTIC_IN="elasticIn";h.tween.PennerManager.EASE_ELASTIC_OUT="elasticOut";h.tween.PennerManager.EASE_BUMP="bump";h.tween.PennerManager.EASE_BUMP_IN="bumpIn";h.tween.PennerManager.EASE_BUMP_OUT="bumpOut";h.tween.PennerManager.EASE_BOUNCE="bounce";h.tween.PennerManager.EASE_BOUNCE_IN="bounceIn";h.tween.PennerManager.EASE_BOUNCE_OUT="bounceOut";h.tween.PennerManager.EASE_CUBIC="cubic";h.tween.PennerManager.EASE_CUBIC_IN="cubicIn";h.tween.PennerManager.EASE_CUBIC_OUT="cubicOut";h.tween.PennerManager.EASE_SPACE="space";h.tween.PennerManager.EASE_SPACE_IN="spaceIn";h.tween.PennerManager.EASE_SPACE_OUT="spaceOut";h.tween.PennerManager.EASE_BLAST="blast";h.tween.PennerManager.EASE_BLAST_IN="blastIn";h.tween.PennerManager.EASE_BLAST_OUT="blastOut";h.tween.PennerManager.EASE_WAVE="wave";h.tween.PennerManager.EASE_WAVE_IN="waveIn";h.tween.PennerManager.EASE_WAVE_OUT="waveOut";h.tween.PennerManager.EASE_CIRCLE="circle";h.tween.PennerManager.EASE_CIRCLE_IN="circleIn";h.tween.PennerManager.EASE_CIRCLE_OUT="circleOut";s.ServiceAnalytics._offlineUserId="";s.ServiceAnalytics._offlineTrackingId="";s.ServiceAnalytics._appId="";s.ServiceAnalytics._sessionId="";s.ServiceAnalytics._flagInitted=!1;s.ServiceAnalytics._flagStarted=!1;s.ServiceAnalytics._flagLoaded=!1;s.ServiceAnalytics._DEFAULT_SHARED_OBJECT_ID="nkcimocuresid";s.ServiceAnalytics.OPTION_ENABLE_TRACKING=!0;g.WMPointer._DELTA_ALLOWANCE=30;g.WMPointer._DELTA_TIMEOUT=0.2;g.WMSound.FADE_NONE=0;g.WMSound.FADE_IN=1;g.WMSound.FADE_OUT=-1;g.WorkinCloud.instance=new g.WorkinCloud;f.html.HtmlPlatform.instance=new f.html.HtmlPlatform;l.SignalBase.DISPATCHING_SENTINEL=new l.SignalConnection(null,null);D.root=new K;D.uncaughtError=new l.Signal1;D.hidden=new l.Value(!1);D.hasGPU=new l.Value(!1);D._platform=f.html.HtmlPlatform.instance;D._calledInit=!1;Z.logger=new l.Logger(D._platform.createLogHandler("flambe"));z.Manifest._buildManifest=z.Manifest.createBuildManifests();P=z.Manifest;Z=(new X("\\b(Android)\\b","")).match(v.window.navigator.userAgent)?!1:null!=(new XMLHttpRequest).withCredentials;P._supportsCrossOrigin=Z;j.Sprite._scratchPoint=new L.Point;f.BasicKeyboard._sharedEvent=new d.KeyboardEvent;f.BasicMouse._sharedEvent=new d.MouseEvent;f.BasicPointer._sharedEvent=new d.PointerEvent;f.html.CanvasRenderer.CANVAS_TEXTURES=(new X("(iPhone|iPod|iPad)","")).match(v.window.navigator.userAgent);f.html.HtmlAssetPackLoader._mediaRefCount=0;f.html.HtmlAssetPackLoader._detectBlobSupport=!0;f.html.HtmlUtil.VENDOR_PREFIXES=["webkit","moz","ms","o","khtml"];f.html.HtmlUtil.SHOULD_HIDE_MOBILE_BROWSER=v.window.top==v.window&&(new X("Mobile(/.*)? Safari","")).match(v.window.navigator.userAgent);f.html.WebAudioSound._detectSupport=!0;T.USE_CACHE=!1;T.USE_ENUM_INDEX=!1;T.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";Q.DEFAULT_RESOLVER=O;Q.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";N.main()})();