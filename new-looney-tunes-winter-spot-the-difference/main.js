! function(n) { var a = {};

    function __webpack_require__(e) { if (a[e]) return a[e].exports; var t = a[e] = { i: e, l: !1, exports: {} }; return n[e].call(t.exports, t, t.exports, __webpack_require__), t.l = !0, t.exports } __webpack_require__.m = n, __webpack_require__.c = a, __webpack_require__.d = function(e, t, n) { __webpack_require__.o(e, t) || Object.defineProperty(e, t, { enumerable: !0, get: n }) }, __webpack_require__.r = function(e) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(e, "__esModule", { value: !0 }) }, __webpack_require__.t = function(t, e) { if (1 & e && (t = __webpack_require__(t)), 8 & e) return t; if (4 & e && "object" == typeof t && t && t.__esModule) return t; var n = Object.create(null); if (__webpack_require__.r(n), Object.defineProperty(n, "default", { enumerable: !0, value: t }), 2 & e && "string" != typeof t)
            for (var a in t) __webpack_require__.d(n, a, function(e) { return t[e] }.bind(null, a)); return n }, __webpack_require__.n = function(e) { var t = e && e.__esModule ? function getDefault() { return e.default } : function getModuleExports() { return e }; return __webpack_require__.d(t, "a", t), t }, __webpack_require__.o = function(e, t) { return Object.prototype.hasOwnProperty.call(e, t) }, __webpack_require__.p = "", __webpack_require__(__webpack_require__.s = 1) }([function(o, c, h) { var x;! function() {
        function aa(e, t, n) { return e.call.apply(e.bind, arguments) }

        function ba(t, n, e) { if (!t) throw Error(); if (2 < arguments.length) { var a = Array.prototype.slice.call(arguments, 2); return function() { var e = Array.prototype.slice.call(arguments); return Array.prototype.unshift.apply(e, a), t.apply(n, e) } } return function() { return t.apply(n, arguments) } }

        function p(e, t, n) { return (p = Function.prototype.bind && -1 != Function.prototype.bind.toString().indexOf("native code") ? aa : ba).apply(null, arguments) } var r = Date.now || function() { return +new Date };

        function ca(e, t) { this.a = e, this.o = t || e, this.c = this.o.document } var s = !!window.FontFace;

        function t(e, t, n, a) { if (t = e.c.createElement(t), n)
                for (var i in n) n.hasOwnProperty(i) && ("style" == i ? t.style.cssText = n[i] : t.setAttribute(i, n[i])); return a && t.appendChild(e.c.createTextNode(a)), t }

        function u(e, t, n) {
            (e = (e = e.c.getElementsByTagName(t)[0]) || document.documentElement).insertBefore(n, e.lastChild) }

        function v(e) { e.parentNode && e.parentNode.removeChild(e) }

        function w(e, t, n) { t = t || [], n = n || []; for (var a = e.className.split(/\s+/), i = 0; i < t.length; i += 1) { for (var o = !1, r = 0; r < a.length; r += 1)
                    if (t[i] === a[r]) { o = !0; break } o || a.push(t[i]) } for (t = [], i = 0; i < a.length; i += 1) { for (o = !1, r = 0; r < n.length; r += 1)
                    if (a[i] === n[r]) { o = !0; break } o || t.push(a[i]) } e.className = t.join(" ").replace(/\s+/g, " ").replace(/^\s+|\s+$/, "") }

        function y(e, t) { for (var n = e.className.split(/\s+/), a = 0, i = n.length; a < i; a++)
                if (n[a] == t) return !0; return !1 }

        function z(e, n, a) {
            function d() { r && i && (r(o), r = null) } n = t(e, "link", { rel: "stylesheet", href: n, media: "all" }); var i = !1,
                o = null,
                r = a || null;
            s ? (n.onload = function() { i = !0, d() }, n.onerror = function() { i = !0, o = Error("Stylesheet failed to load"), d() }) : setTimeout(function() { i = !0, d() }, 0), u(e, "head", n) }

        function A(e, n, a, i) { var o = e.c.getElementsByTagName("head")[0]; if (o) { var r = t(e, "script", { src: n }),
                    s = !1; return r.onload = r.onreadystatechange = function() { s || this.readyState && "loaded" != this.readyState && "complete" != this.readyState || (s = !0, a && a(null), r.onload = r.onreadystatechange = null, "HEAD" == r.parentNode.tagName && o.removeChild(r)) }, o.appendChild(r), setTimeout(function() { s || (s = !0, a && a(Error("Script load timeout"))) }, i || 5e3), r } return null }

        function B() { this.a = 0, this.c = null }

        function C(e) { return e.a++,
                function() { e.a--, D(e) } }

        function E(e, t) { e.c = t, D(e) }

        function D(e) { 0 == e.a && e.c && (e.c(), e.c = null) }

        function F(e) { this.a = e || "-" }

        function G(e, t) { this.c = e, this.f = 4, this.a = "n"; var n = (t || "n4").match(/^([nio])([1-9])$/i);
            n && (this.a = n[1], this.f = parseInt(n[2], 10)) }

        function I(e) { var t = [];
            e = e.split(/,\s*/); for (var n = 0; n < e.length; n++) { var a = e[n].replace(/['"]/g, ""); - 1 != a.indexOf(" ") || /^\d/.test(a) ? t.push("'" + a + "'") : t.push(a) } return t.join(",") }

        function J(e) { return e.a + e.f }

        function H(e) { var t = "normal"; return "o" === e.a ? t = "oblique" : "i" === e.a && (t = "italic"), t }

        function ha(e, t) { this.c = e, this.f = e.o.document.documentElement, this.h = t, this.a = new F("-"), this.j = !1 !== t.events, this.g = !1 !== t.classes }

        function L(e) { if (e.g) { var t = y(e.f, e.a.c("wf", "active")),
                    n = [],
                    a = [e.a.c("wf", "loading")];
                t || n.push(e.a.c("wf", "inactive")), w(e.f, n, a) } K(e, "inactive") }

        function K(e, t, n) { e.j && e.h[t] && (n ? e.h[t](n.c, J(n)) : e.h[t]()) }

        function ja() { this.c = {} }

        function M(e, n) { this.c = e, this.f = n, this.a = t(this.c, "span", { "aria-hidden": "true" }, this.f) }

        function N(e) { u(e.c, "body", e.a) }

        function O(e) { return "display:block;position:absolute;top:-9999px;left:-9999px;font-size:300px;width:auto;height:auto;line-height:normal;margin:0;padding:0;font-variant:normal;white-space:nowrap;font-family:" + I(e.c) + ";font-style:" + H(e) + ";font-weight:" + e.f + "00;" }

        function P(e, t, n, a, i, o) { this.g = e, this.j = t, this.a = a, this.c = n, this.f = i || 3e3, this.h = o || void 0 }

        function Q(e, t, n, a, i, o, r) { this.v = e, this.B = t, this.c = n, this.a = a, this.s = r || "BESbswy", this.f = {}, this.w = i || 3e3, this.u = o || null, this.m = this.j = this.h = this.g = null, this.g = new M(this.c, this.s), this.h = new M(this.c, this.s), this.j = new M(this.c, this.s), this.m = new M(this.c, this.s), e = O(e = new G(this.a.c + ",serif", J(this.a))), this.g.a.style.cssText = e, e = O(e = new G(this.a.c + ",sans-serif", J(this.a))), this.h.a.style.cssText = e, e = O(e = new G("serif", J(this.a))), this.j.a.style.cssText = e, e = O(e = new G("sans-serif", J(this.a))), this.m.a.style.cssText = e, N(this.g), N(this.h), N(this.j), N(this.m) } F.prototype.c = function(e) { for (var t = [], n = 0; n < arguments.length; n++) t.push(arguments[n].replace(/[\W_]+/g, "").toLowerCase()); return t.join(this.a) }, P.prototype.start = function() { var n = this.c.o.document,
                a = this,
                i = r(),
                e = new Promise(function(t, e) {! function f() { r() - i >= a.f ? e() : n.fonts.load(function fa(e) { return H(e) + " " + e.f + "00 300px " + I(e.c) }(a.a), a.h).then(function(e) { 1 <= e.length ? t() : setTimeout(f, 25) }, function() { e() }) }() }),
                o = null,
                t = new Promise(function(e, t) { o = setTimeout(t, a.f) });
            Promise.race([t, e]).then(function() { o && (clearTimeout(o), o = null), a.g(a.a) }, function() { a.j(a.a) }) }; var i = { D: "serif", C: "sans-serif" },
            n = null;

        function T() { if (null === n) { var e = /AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent);
                n = !!e && (parseInt(e[1], 10) < 536 || 536 === parseInt(e[1], 10) && parseInt(e[2], 10) <= 11) } return n }

        function la(e, t, n) { for (var a in i)
                if (i.hasOwnProperty(a) && t === e.f[i[a]] && n === e.f[i[a]]) return !0; return !1 }

        function U(e) { var t, n = e.g.a.offsetWidth,
                a = e.h.a.offsetWidth;
            (t = n === e.f.serif && a === e.f["sans-serif"]) || (t = T() && la(e, n, a)), t ? r() - e.A >= e.w ? T() && la(e, n, a) && (null === e.u || e.u.hasOwnProperty(e.a.c)) ? V(e, e.v) : V(e, e.B) : function ma(e) { setTimeout(p(function() { U(this) }, e), 50) }(e) : V(e, e.v) }

        function V(e, t) { setTimeout(p(function() { v(this.g.a), v(this.h.a), v(this.j.a), v(this.m.a), t(this.a) }, e), 0) }

        function W(e, t, n) { this.c = e, this.a = t, this.f = 0, this.m = this.j = !1, this.s = n } Q.prototype.start = function() { this.f.serif = this.j.a.offsetWidth, this.f["sans-serif"] = this.m.a.offsetWidth, this.A = r(), U(this) }; var g = null;

        function na(e) { 0 == --e.f && e.j && (e.m ? ((e = e.a).g && w(e.f, [e.a.c("wf", "active")], [e.a.c("wf", "loading"), e.a.c("wf", "inactive")]), K(e, "active")) : L(e.a)) }

        function oa(e) { this.j = e, this.a = new ja, this.h = 0, this.f = this.g = !0 }

        function ra(e, t) { this.c = e, this.a = t }

        function sa(e, t) { this.c = e, this.a = t }

        function ta(e, t) { this.c = e || "https://fonts.googleapis.com/css", this.a = [], this.f = [], this.g = t || "" } W.prototype.g = function(e) { var t = this.a;
            t.g && w(t.f, [t.a.c("wf", e.c, J(e).toString(), "active")], [t.a.c("wf", e.c, J(e).toString(), "loading"), t.a.c("wf", e.c, J(e).toString(), "inactive")]), K(t, "fontactive", e), this.m = !0, na(this) }, W.prototype.h = function(e) { var t = this.a; if (t.g) { var n = y(t.f, t.a.c("wf", e.c, J(e).toString(), "active")),
                    a = [],
                    i = [t.a.c("wf", e.c, J(e).toString(), "loading")];
                n || a.push(t.a.c("wf", e.c, J(e).toString(), "inactive")), w(t.f, a, i) } K(t, "fontinactive", e), na(this) }, oa.prototype.load = function(e) { this.c = new ca(this.j, e.context || this.j), this.g = !1 !== e.events, this.f = !1 !== e.classes,
                function pa(i, e, t) { var n = [],
                        a = t.timeout;! function ia(e) { e.g && w(e.f, [e.a.c("wf", "loading")]), K(e, "loading") }(e);
                    n = function ka(e, t, n) { var a, i = []; for (a in t)
                            if (t.hasOwnProperty(a)) { var o = e.c[a];
                                o && i.push(o(t[a], n)) } return i }(i.a, t, i.c); var o = new W(i.c, e, a); for (i.h = n.length, e = 0, t = n.length; e < t; e++) n[e].load(function(e, t, n) { var a, l, c, h, f, d;
                        l = o, c = e, h = t, f = n, d = 0 == --(a = i).h, (a.f || a.g) && setTimeout(function() { var e = f || null,
                                t = h || {}; if (0 === c.length && d) L(l.a);
                            else { l.f += c.length, d && (l.j = d); var n, a = []; for (n = 0; n < c.length; n++) { var i = c[n],
                                        o = t[i.c],
                                        r = l.a,
                                        s = i; if (r.g && w(r.f, [r.a.c("wf", s.c, J(s).toString(), "loading")]), K(r, "fontloading", s), (r = null) === g)
                                        if (window.FontFace) { s = /Gecko.*Firefox\/(\d+)/.exec(window.navigator.userAgent); var u = /OS X.*Version\/10\..*Safari/.exec(window.navigator.userAgent) && /Apple/.exec(window.navigator.vendor);
                                            g = s ? 42 < parseInt(s[1], 10) : !u } else g = !1;
                                    r = g ? new P(p(l.g, l), p(l.h, l), l.c, i, l.s, o) : new Q(p(l.g, l), p(l.h, l), l.c, i, l.s, e, o), a.push(r) } for (n = 0; n < a.length; n++) a[n].start() } }, 0) }) }(this, new ha(this.c, e), e) }, ra.prototype.load = function(o) { var t = this,
                r = t.a.projectId,
                e = t.a.version; if (r) { var s = t.c.o;
                A(this.c, (t.a.api || "https://fast.fonts.net/jsapi") + "/" + r + ".js" + (e ? "?v=" + e : ""), function(e) { e ? o([]) : (s["__MonotypeConfiguration__" + r] = function() { return t.a }, function b() { if (s["__mti_fntLst" + r]) { var e, t = s["__mti_fntLst" + r](),
                                n = []; if (t)
                                for (var a = 0; a < t.length; a++) { var i = t[a].fontfamily;
                                    null != t[a].fontStyle && null != t[a].fontWeight ? (e = t[a].fontStyle + t[a].fontWeight, n.push(new G(i, e))) : n.push(new G(i)) } o(n) } else setTimeout(function() { b() }, 50) }()) }).id = "__MonotypeAPIScript__" + r } else o([]) }, sa.prototype.load = function(e) { var t, n, a = this.a.urls || [],
                i = this.a.families || [],
                o = this.a.testStrings || {},
                r = new B; for (t = 0, n = a.length; t < n; t++) z(this.c, a[t], C(r)); var s = []; for (t = 0, n = i.length; t < n; t++)
                if ((a = i[t].split(":"))[1])
                    for (var u = a[1].split(","), l = 0; l < u.length; l += 1) s.push(new G(a[0], u[l]));
                else s.push(new G(a[0]));
            E(r, function() { e(s, o) }) };

        function ya(e) { this.f = e, this.a = [], this.c = {} } var m = { latin: "BESbswy", "latin-ext": "çöüğş", cyrillic: "йяЖ", greek: "αβΣ", khmer: "កខគ", Hanuman: "កខគ" },
            _ = { thin: "1", extralight: "2", "extra-light": "2", ultralight: "2", "ultra-light": "2", light: "3", regular: "4", book: "4", medium: "5", "semi-bold": "6", semibold: "6", "demi-bold": "6", demibold: "6", bold: "7", "extra-bold": "8", extrabold: "8", "ultra-bold": "8", ultrabold: "8", black: "9", heavy: "9", l: "3", r: "4", b: "7" },
            S = { i: "i", italic: "i", n: "n", normal: "n" },
            k = /^(thin|(?:(?:extra|ultra)-?)?light|regular|book|medium|(?:(?:semi|demi|extra|ultra)-?)?bold|black|heavy|l|r|b|[1-9]00)?(n|i|normal|italic)?$/;

        function Ea(e, t) { this.c = e, this.a = t } var l = { Arimo: !0, Cousine: !0, Tinos: !0 };

        function Ga(e, t) { this.c = e, this.a = t }

        function Ha(e, t) { this.c = e, this.f = t, this.a = [] } Ea.prototype.load = function(e) { var t = new B,
                n = this.c,
                a = new ta(this.a.api, this.a.text),
                i = this.a.families;! function va(e, t) { for (var n = t.length, a = 0; a < n; a++) { var i = t[a].split(":");
                    3 == i.length && e.f.push(i.pop()); var o = "";
                    2 == i.length && "" != i[1] && (o = ":"), e.a.push(i.join(o)) } }(a, i); var o = new ya(i);! function Da(e) { for (var t = e.f.length, n = 0; n < t; n++) { var a = e.f[n].split(":"),
                        i = a[0].replace(/\+/g, " "),
                        o = ["n4"]; if (2 <= a.length) { var r; if (r = [], s = a[1])
                            for (var s, u = (s = s.split(",")).length, l = 0; l < u; l++) { var c; if ((c = s[l]).match(/^[\w-]+$/))
                                    if (null == (h = k.exec(c.toLowerCase()))) c = "";
                                    else { if (c = null == (c = h[2]) || "" == c ? "n" : S[c], null == (h = h[1]) || "" == h) h = "4";
                                        else var p = _[h],
                                            h = p || (isNaN(h) ? "4" : h.substr(0, 1));
                                        c = [c, h].join("") } else c = "";
                                c && r.push(c) } 0 < r.length && (o = r), 3 == a.length && (r = [], 0 < (a = (a = a[2]) ? a.split(",") : r).length && (a = m[a[0]]) && (e.c[i] = a)) } for (e.c[i] || (a = m[i]) && (e.c[i] = a), a = 0; a < o.length; a += 1) e.a.push(new G(i, o[a])) } }(o), z(n, function wa(e) { if (0 == e.a.length) throw Error("No fonts to load!"); if (-1 != e.c.indexOf("kit=")) return e.c; for (var t = e.a.length, n = [], a = 0; a < t; a++) n.push(e.a[a].replace(/ /g, "+")); return t = e.c + "?family=" + n.join("%7C"), 0 < e.f.length && (t += "&subset=" + e.f.join(",")), 0 < e.g.length && (t += "&text=" + encodeURIComponent(e.g)), t }(a), C(t)), E(t, function() { e(o.a, o.c, l) }) }, Ga.prototype.load = function(r) { var e = this.a.id,
                s = this.c.o;
            e ? A(this.c, (this.a.api || "https://use.typekit.net") + "/" + e + ".js", function(e) { if (e) r([]);
                else if (s.Typekit && s.Typekit.config && s.Typekit.config.fn) { e = s.Typekit.config.fn; for (var t = [], n = 0; n < e.length; n += 2)
                        for (var a = e[n], i = e[n + 1], o = 0; o < i.length; o++) t.push(new G(a, i[o])); try { s.Typekit.load({ events: !1, classes: !1, async: !0 }) } catch (e) {} r(t) } }, 2e3) : r([]) }, Ha.prototype.load = function(l) { var e = this.f.id,
                t = this.c.o,
                c = this;
            e ? (t.__webfontfontdeckmodule__ || (t.__webfontfontdeckmodule__ = {}), t.__webfontfontdeckmodule__[e] = function(e, t) { for (var n = 0, a = t.fonts.length; n < a; ++n) { var i = t.fonts[n];
                    c.a.push(new G(i.name, (o = "font-weight:" + i.weight + ";font-style:" + i.style, u = s = r = void 0, r = 4, s = "n", u = null, o && ((u = o.match(/(normal|oblique|italic)/i)) && u[1] && (s = u[1].substr(0, 1).toLowerCase()), (u = o.match(/([1-9]00|normal|bold)/i)) && u[1] && (/bold/i.test(u[1]) ? r = 7 : /[1-9]00/.test(u[1]) && (r = parseInt(u[1].substr(0, 1), 10)))), s + r))) } var o, r, s, u;
                l(c.a) }, A(this.c, (this.f.api || "https://f.fontdeck.com/s/css/js/") + function ea(e) { return e.o.location.hostname || e.a.location.hostname }(this.c) + "/" + e + ".js", function(e) { e && l([]) })) : l([]) }; var e = new oa(window);
        e.a.c.custom = function(e, t) { return new sa(t, e) }, e.a.c.fontdeck = function(e, t) { return new Ha(t, e) }, e.a.c.monotype = function(e, t) { return new ra(t, e) }, e.a.c.typekit = function(e, t) { return new Ga(t, e) }, e.a.c.google = function(e, t) { return new Ea(t, e) }; var a = { load: p(e.load, e) };
        void 0 === (x = function() { return a }.call(c, h, c, o)) || (o.exports = x) }() }, function(e, t, n) { "use strict";

    function _defineProperties(e, t) { for (var n = 0; n < t.length; n++) { var a = t[n];
            a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } } n.r(t); var a = function() {
        function MPUtils() {! function _classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, MPUtils) } return function _createClass(e, t, n) { return t && _defineProperties(e.prototype, t), n && _defineProperties(e, n), e }(MPUtils, null, [{ key: "GetRootElementID", value: function GetRootElementID() { return "local-game-holder" } }, { key: "GetRootElement", value: function GetRootElement() { return document.getElementById(this.GetRootElementID()) } }, { key: "GetAssetURL", value: function GetAssetURL() { return MPUtils.GetServerURL() + "bin/" } }, { key: "GetServerURL", value: function GetServerURL() { return "" } }, { key: "ClassNameToString", value: function ClassNameToString(e) { var t = e.name; if (!e.name) { var n = e.toString();
                    t = n.substring(n.indexOf(" ") + 1, n.indexOf("(")) } return t } }, { key: "ShuffleArray", value: function ShuffleArray(e) { for (var t = e.length - 1; 0 < t; t--) { var n = Math.floor(Math.random() * (t + 1)),
                        a = [e[n], e[t]];
                    e[t] = a[0], e[n] = a[1] } return e } }, { key: "SliceArrayMultipleRandom", value: function SliceArrayMultipleRandom(e, t, n) { for (var a = [], i = 0; i < t; i++) { var o = Phaser.Math.Between(0, e.length - 1);
                    n || a.push(e[o]), e.slice(o) } return n ? e : a } }, { key: "QuickSliceArray", value: function QuickSliceArray(e, t, n) { var a = t || e[n],
                    i = t ? e.indexOf(t) : n; return e.splice(i, 1), { array: e, object: a } } }]), MPUtils }();

    function SceneManager_defineProperties(e, t) { for (var n = 0; n < t.length; n++) { var a = t[n];
            a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } } var i = function() {
        function SceneManager(e) {! function SceneManager_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, SceneManager), (SceneManager.Instance = this).game = e, this.activeScenes = [] } return function SceneManager_createClass(e, t, n) { return t && SceneManager_defineProperties(e.prototype, t), n && SceneManager_defineProperties(e, n), e }(SceneManager, [{ key: "StartScene", value: function StartScene(e, t) { null == t && (t = {}), t.additive = void 0 !== t.additive && t.additive; var n = a.ClassNameToString(e);
                this.activeScenes.push(n), this.game.scene.add(n, e, !0, t) } }, { key: "StopScene", value: function StopScene(e) { var t = this.activeScenes.indexOf(e);
                0 <= t && this.activeScenes.splice(t, 1), this.game.scene.getScene(e).Destroy(), this.game.scene.stop(e), this.game.scene.remove(e) } }, { key: "StartLoadingScene", value: function StartLoadingScene(e, t, n) { null == n && (n = {}), n.sceneToLoad = t, this.StartScene(e, n) } }, { key: "OnSceneInit", value: function OnSceneInit(e) { if (!e.data.additive)
                    for (var t = this.activeScenes.length - 1; 0 <= t; t--) this.activeScenes[t] !== e.key && this.StopScene(this.activeScenes[t]) } }, { key: "PauseAllScenes", value: function PauseAllScenes() { for (var e = 0; e < this.activeScenes.length; e++) this.game.scene.pause(this.activeScenes[e]) } }, { key: "ResumeAllScenes", value: function ResumeAllScenes() { for (var e = 0; e < this.activeScenes.length; e++) this.game.scene.resume(this.activeScenes[e]) } }]), SceneManager }();

    function AssetManager_defineProperties(e, t) { for (var n = 0; n < t.length; n++) { var a = t[n];
            a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } } var o = function() {
        function AssetManager(e) {! function AssetManager_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, AssetManager), (AssetManager.Instance = this).game = e, this.pack = void 0 } return function AssetManager_createClass(e, t, n) { return t && AssetManager_defineProperties(e.prototype, t), n && AssetManager_defineProperties(e, n), e }(AssetManager, [{ key: "LoadAssetPack", value: function LoadAssetPack(e, t) { e.load.pack({ key: t, url: "bin/data/asset_pack.json", dataKey: t }) } }]), AssetManager }();

    function _typeof(e) { return (_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function _typeof(e) { return typeof e } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }

    function MPScene_defineProperties(e, t) { for (var n = 0; n < t.length; n++) { var a = t[n];
            a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } }

    function _possibleConstructorReturn(e, t) { return !t || "object" !== _typeof(t) && "function" != typeof t ? function _assertThisInitialized(e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(e) : t }

    function _get(e, t, n) { return (_get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function _get(e, t, n) { var a = function _superPropBase(e, t) { for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = _getPrototypeOf(e));); return e }(e, t); if (a) { var i = Object.getOwnPropertyDescriptor(a, t); return i.get ? i.get.call(n) : i.value } })(e, t, n || e) }

    function _getPrototypeOf(e) { return (_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }

    function _setPrototypeOf(e, t) { return (_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(e, t) { return e.__proto__ = t, e })(e, t) } var r = function() {
        function MPScene(e) { var t; return function MPScene_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, MPScene), (t = _possibleConstructorReturn(this, _getPrototypeOf(MPScene).call(this))).key = e, t } return function _inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && _setPrototypeOf(e, t) }(MPScene, Phaser.Scene),
            function MPScene_createClass(e, t, n) { return t && MPScene_defineProperties(e.prototype, t), n && MPScene_defineProperties(e, n), e }(MPScene, [{ key: "init", value: function init() { this.displayBounds = new Phaser.Structs.Size(this.scale.width, this.scale.height, Phaser.Structs.Size.HEIGHT_CONTROLS_WIDTH), this.displayBounds.setAspectRatio(this.scale.parentSize.aspectRatio), this.scale.on("resize", this.Resize, this), i.Instance.OnSceneInit(this.sys.settings) } }, { key: "preload", value: function preload() {} }, { key: "create", value: function create() {} }, { key: "update", value: function update(e, t) { _get(_getPrototypeOf(MPScene.prototype), "update", this).call(this, e, t) } }, { key: "Resize", value: function Resize() { this.displayBounds.setAspectRatio(this.scale.parentSize.aspectRatio) } }, { key: "GetScreenTopLeftPosition", value: function GetScreenTopLeftPosition() { var e = .5 * this.scale.width - .5 * this.displayBounds.width; return new Phaser.Math.Vector2(e, 0) } }, { key: "GetScreenTopRightPosition", value: function GetScreenTopRightPosition() { var e = .5 * this.scale.width + .5 * this.displayBounds.width; return new Phaser.Math.Vector2(e, 0) } }, { key: "GetScreenBottomLeftPosition", value: function GetScreenBottomLeftPosition() { var e = .5 * this.scale.width - .5 * this.displayBounds.width,
                        t = this.displayBounds.height; return new Phaser.Math.Vector2(e, t) } }, { key: "GetScreenBottomRightPosition", value: function GetScreenBottomRightPosition() { var e = .5 * this.scale.width + .5 * this.displayBounds.width,
                        t = this.displayBounds.height; return new Phaser.Math.Vector2(e, t) } }, { key: "Destroy", value: function Destroy() { this.scale.off("resize", this.Resize, this) } }]), MPScene }();

    function LoadingScene_typeof(e) { return (LoadingScene_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function _typeof(e) { return typeof e } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }

    function LoadingScene_defineProperties(e, t) { for (var n = 0; n < t.length; n++) { var a = t[n];
            a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } }

    function LoadingScene_possibleConstructorReturn(e, t) { return !t || "object" !== LoadingScene_typeof(t) && "function" != typeof t ? function LoadingScene_assertThisInitialized(e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(e) : t }

    function LoadingScene_get(e, t, n) { return (LoadingScene_get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function _get(e, t, n) { var a = function LoadingScene_superPropBase(e, t) { for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = LoadingScene_getPrototypeOf(e));); return e }(e, t); if (a) { var i = Object.getOwnPropertyDescriptor(a, t); return i.get ? i.get.call(n) : i.value } })(e, t, n || e) }

    function LoadingScene_getPrototypeOf(e) { return (LoadingScene_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }

    function LoadingScene_setPrototypeOf(e, t) { return (LoadingScene_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(e, t) { return e.__proto__ = t, e })(e, t) } var s = function() {
        function LoadingScene() { var e; return function LoadingScene_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, LoadingScene), (e = LoadingScene_possibleConstructorReturn(this, LoadingScene_getPrototypeOf(LoadingScene).call(this, "LoadingScene"))).test = "Loading", e.progress = 0, e.minWaitTime = .75, e.waitTimer = e.minWaitTime, e.hasLoaded = !1, e } return function LoadingScene_inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && LoadingScene_setPrototypeOf(e, t) }(LoadingScene, r),
            function LoadingScene_createClass(e, t, n) { return t && LoadingScene_defineProperties(e.prototype, t), n && LoadingScene_defineProperties(e, n), e }(LoadingScene, [{ key: "preload", value: function preload() { LoadingScene_get(LoadingScene_getPrototypeOf(LoadingScene.prototype), "preload", this).call(this), this.background = this.add.image(.5 * this.scale.width, .5 * this.scale.height, "main_menu_background"), this.background.setOrigin(.5), this.brandLogo = this.add.image(.5 * this.scale.width + 300 * this.game.gameScale, .175 * this.scale.height, "brand_logo"), this.brandLogo.setOrigin(.5), this.brandLogo.setScale(.57), this.spotTheDifferenceLogo = this.add.image(.5 * this.scale.width + 300 * this.game.gameScale, .44 * this.scale.height, "spot_the_difference_logo"), this.spotTheDifferenceLogo.setOrigin(.5), this.backgroundBarImage = this.add.image(.5 * this.scale.width + 300 * this.game.gameScale, .74 * this.scale.height, "load_bar_background"), this.fillImage = this.add.image(.5 * this.scale.width + 300 * this.game.gameScale, .74 * this.scale.height, "load_bar_fill"), this.overlayImage = this.add.image(.5 * this.scale.width + 300 * this.game.gameScale, .74 * this.scale.height, "load_bar_overlay"), this.backgroundBarImage.y += .025 * this.overlayImage.height, this.fillImage.y += .025 * this.overlayImage.height; var e = a.ClassNameToString(this.sys.settings.data.sceneToLoad);
                    o.Instance.LoadAssetPack(this, e), this.load.on("progress", this.UpdateProgress, this) } }, { key: "create", value: function create() { LoadingScene_get(LoadingScene_getPrototypeOf(LoadingScene.prototype), "create", this).call(this) } }, { key: "update", value: function update(e, t) { LoadingScene_get(LoadingScene_getPrototypeOf(LoadingScene.prototype), "update", this).call(this, e, t), 0 == this.load.totalToLoad && (this.progress = 1, this.UpdateProgress(this.progress)), 0 < this.waitTimer ? this.waitTimer -= .001 * t : this.hasLoaded || (this.hasLoaded = !0, i.Instance.StartScene(this.sys.settings.data.sceneToLoad, { additive: this.sys.settings.data.additive })) } }, { key: "UpdateProgress", value: function UpdateProgress(e) { this.progress = e, this.SetFillAmount(this.progress) } }, { key: "SetFillAmount", value: function SetFillAmount(e) { this.fillImage.setCrop(0, 0, this.fillImage.width * e, this.fillImage.height) } }]), LoadingScene }();

    function HiddenTappable_typeof(e) { return (HiddenTappable_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function _typeof(e) { return typeof e } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }

    function HiddenTappable_defineProperties(e, t) { for (var n = 0; n < t.length; n++) { var a = t[n];
            a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } }

    function HiddenTappable_possibleConstructorReturn(e, t) { return !t || "object" !== HiddenTappable_typeof(t) && "function" != typeof t ? function HiddenTappable_assertThisInitialized(e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(e) : t }

    function HiddenTappable_get(e, t, n) { return (HiddenTappable_get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function _get(e, t, n) { var a = function HiddenTappable_superPropBase(e, t) { for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = HiddenTappable_getPrototypeOf(e));); return e }(e, t); if (a) { var i = Object.getOwnPropertyDescriptor(a, t); return i.get ? i.get.call(n) : i.value } })(e, t, n || e) }

    function HiddenTappable_getPrototypeOf(e) { return (HiddenTappable_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }

    function HiddenTappable_setPrototypeOf(e, t) { return (HiddenTappable_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(e, t) { return e.__proto__ = t, e })(e, t) } var u = function() {
        function HiddenTappable(e, t, n, a, i, o, r, s, u, l) { var c; return function HiddenTappable_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, HiddenTappable), (c = HiddenTappable_possibleConstructorReturn(this, HiddenTappable_getPrototypeOf(HiddenTappable).call(this, t, i, o))).game = e, c.scene = t, c.puzzleImage = n, c.tappableIndex = a, c.tappableFound = !1, c.isOnLeftImage = u, c.tappableImage = c.scene.add.image(0, 0, r), c.tappableImage.setOrigin(.5), c.tappableImage.setScale(l, l), c.tappableImage.alpha = s ? 1 : 0, c.add(c.tappableImage), c.setSize(c.tappableImage.displayWidth, c.tappableImage.displayHeight), c.setInteractive(), c.on("pointerup", c.UserTappedObject), c } return function HiddenTappable_inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && HiddenTappable_setPrototypeOf(e, t) }(HiddenTappable, Phaser.GameObjects.Container),
            function HiddenTappable_createClass(e, t, n) { return t && HiddenTappable_defineProperties(e.prototype, t), n && HiddenTappable_defineProperties(e, n), e }(HiddenTappable, [{ key: "create", value: function create() { HiddenTappable_get(HiddenTappable_getPrototypeOf(HiddenTappable.prototype), "create", this).call(this) } }, { key: "update", value: function update(e, t) { HiddenTappable_get(HiddenTappable_getPrototypeOf(HiddenTappable.prototype), "update", this).call(this, e, t) } }, { key: "UserTappedObject", value: function UserTappedObject() { this.tappableFound || this.puzzleImage.puzzle.UserFoundTappable(this.tappableIndex, this.isOnLeftImage, !1) } }, { key: "SetTappableFound", value: function SetTappableFound() { this.tappableFound = !0 } }, { key: "GetTappableFound", value: function GetTappableFound() { return this.tappableFound } }]), HiddenTappable }();

    function PuzzleImage_typeof(e) { return (PuzzleImage_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function _typeof(e) { return typeof e } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }

    function PuzzleImage_defineProperties(e, t) { for (var n = 0; n < t.length; n++) { var a = t[n];
            a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } }

    function PuzzleImage_possibleConstructorReturn(e, t) { return !t || "object" !== PuzzleImage_typeof(t) && "function" != typeof t ? function PuzzleImage_assertThisInitialized(e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(e) : t }

    function PuzzleImage_get(e, t, n) { return (PuzzleImage_get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function _get(e, t, n) { var a = function PuzzleImage_superPropBase(e, t) { for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = PuzzleImage_getPrototypeOf(e));); return e }(e, t); if (a) { var i = Object.getOwnPropertyDescriptor(a, t); return i.get ? i.get.call(n) : i.value } })(e, t, n || e) }

    function PuzzleImage_getPrototypeOf(e) { return (PuzzleImage_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }

    function PuzzleImage_setPrototypeOf(e, t) { return (PuzzleImage_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(e, t) { return e.__proto__ = t, e })(e, t) } var l = function() {
        function PuzzleImage(e, t, n, a, i, o, r) { var s;! function PuzzleImage_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, PuzzleImage), (s = PuzzleImage_possibleConstructorReturn(this, PuzzleImage_getPrototypeOf(PuzzleImage).call(this, t, a, i))).game = e, s.scene = t, s.puzzle = n, s.isLeftImage = r, s.cardBackImage = s.scene.add.image(0, 0, "image_back"), s.cardBackImage.setOrigin(.5), s.puzzleBackgroundImage = s.scene.add.image(0, 0, o), s.puzzleBackgroundImage.setOrigin(.5), s.puzzleBackgroundImage.setInteractive(), s.puzzleBackgroundImage.on("pointerup", s.UserTappedBackgroundImage); var u = s.cardBackImage.width / s.cardBackImage.height,
                l = s.puzzleBackgroundImage.width / s.puzzleBackgroundImage.height; if (s.scene.displayBounds.aspectRatio < 1.34) { var c = .45 * s.scene.displayBounds.width,
                    p = c / l,
                    h = .8 * s.scene.displayBounds.height;
                p <= h ? (s.cardBackImage.setDisplaySize(p * u, p), s.puzzleBackgroundImage.setDisplaySize(c, p)) : (s.cardBackImage.setDisplaySize(c * u, h), s.puzzleBackgroundImage.setDisplaySize(c * l, h)) } else { var f = .8 * s.scene.displayBounds.height,
                    d = f * l,
                    g = .45 * s.scene.displayBounds.width; if (d <= g) s.cardBackImage.setDisplaySize(f * u, f), s.puzzleBackgroundImage.setDisplaySize(d, f);
                else { var y = g / l;
                    s.cardBackImage.setDisplaySize(y * u, y), s.puzzleBackgroundImage.setDisplaySize(g, y) } } return s.puzzleBackgroundImageScaleFactor = s.puzzleBackgroundImage.displayWidth / s.puzzleBackgroundImage.width, s.add(s.cardBackImage), s.add(s.puzzleBackgroundImage), s.puzzleBackgroundImage.visible = !1, s } return function PuzzleImage_inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && PuzzleImage_setPrototypeOf(e, t) }(PuzzleImage, Phaser.GameObjects.Container),
            function PuzzleImage_createClass(e, t, n) { return t && PuzzleImage_defineProperties(e.prototype, t), n && PuzzleImage_defineProperties(e, n), e }(PuzzleImage, [{ key: "update", value: function update(t, n) { PuzzleImage_get(PuzzleImage_getPrototypeOf(PuzzleImage.prototype), "update", this).call(this, t, n), this.hiddenTappables && this.hiddenTappables.forEach(function(e) { e.update(t, n) }) } }, { key: "SetupTappables", value: function SetupTappables(e) { if (this.hiddenTappables = [], e)
                        for (var t = 0; t < e.length; t++) { var n = e[t],
                                a = -.5 * this.puzzleBackgroundImage.displayWidth + this.puzzleBackgroundImage.displayWidth * n.x,
                                i = -.5 * this.puzzleBackgroundImage.displayHeight + this.puzzleBackgroundImage.displayHeight * n.y,
                                o = this.isLeftImage ? n.renderOnLeftImage : !n.renderOnLeftImage,
                                r = new u(this.game, this.scene, this, t, a, i, n.image, o, this.isLeftImage, this.puzzleBackgroundImageScaleFactor);
                            r.visible = !1, this.add(r), this.hiddenTappables[t] = r } this.SetupTappableReveals(e), this.SetupTappableScoreTexts(e) } }, { key: "SetupTappableReveals", value: function SetupTappableReveals(e) { this.puzzleBackgroundImage.width, this.puzzleBackgroundImage.height; if (this.tappableReveals = [], e)
                        for (var t = 0; t < e.length; t++) { var n = e[t],
                                a = -.5 * this.puzzleBackgroundImage.displayWidth + this.puzzleBackgroundImage.displayWidth * n.x + n.revealAssetOffsetX * this.game.gameScale,
                                i = -.5 * this.puzzleBackgroundImage.displayHeight + this.puzzleBackgroundImage.displayHeight * n.y + n.revealAssetOffsetY * this.game.gameScale,
                                o = this.scene.add.image(a, i, n.revealAsset);
                            o.setOrigin(.5), o.setScale(this.puzzleBackgroundImageScaleFactor * n.revealAssetScale, this.puzzleBackgroundImageScaleFactor * n.revealAssetScale), o.angle = n.revealAssetRotation, o.visible = !1, this.add(o), this.tappableReveals[t] = o } } }, { key: "SetupTappableScoreTexts", value: function SetupTappableScoreTexts(e) { if (this.tappableScoreTexts = [], e)
                        for (var t = 0; t < e.length; t++) { var n = e[t],
                                a = -.5 * this.puzzleBackgroundImage.displayWidth + this.puzzleBackgroundImage.displayWidth * n.x,
                                i = -.5 * this.puzzleBackgroundImage.displayHeight + this.puzzleBackgroundImage.displayHeight * n.y,
                                o = this.scene.add.bitmapText(a, i, "fred_burger_font", "");
                            o.setOrigin(.5), o.visible = !1, o.tint = "0xffea5e", this.add(o), this.tappableScoreTexts[t] = o } } }, { key: "ShowCardPuzzleImage", value: function ShowCardPuzzleImage() { this.cardBackImage.visible = !1, this.puzzleBackgroundImage.visible = !0; for (var e = 0; e < this.hiddenTappables.length; e++) this.hiddenTappables[e].visible = !0 } }, { key: "RevealTappable", value: function RevealTappable(e, t, n) { if (!(e < 0)) { if (e < this.tappableReveals.length) { var a = this.tappableReveals[e];
                            a.setScale(0, 0), a.visible = !0, this.scene.tweens.add({ targets: a, scaleX: 1, scaleY: 1, ease: "Elastic.easeOut", easeParams: [1, .5], duration: 750, onComplete: null }), this.hiddenTappables[e].SetTappableFound() } if (t && 0 < n && e < this.tappableScoreTexts.length) { var i = this.tappableScoreTexts[e];
                            i.text = "+" + n, i.visible = !0, this.scene.tweens.add({ targets: i, y: "-=75", ease: "Cubic.easeOut", easeParams: [.5, 3], duration: 1200, onComplete: null }), this.scene.tweens.add({ targets: i, delay: 800, alpha: 0, ease: "Sine.easeOut", duration: 400, onComplete: null }) } } } }, { key: "UserTappedBackgroundImage", value: function UserTappedBackgroundImage() { this.scene.UserTappedNonTappable() } }, { key: "GetTappableImagePosition", value: function GetTappableImagePosition(e) { if (!(e < 0 || e >= this.hiddenTappables.length)) { var t = this.hiddenTappables[e]; return t ? new Phaser.Math.Vector2(t.getWorldTransformMatrix().tx, t.getWorldTransformMatrix().ty) : void 0 } } }]), PuzzleImage }();

    function AudioSound_defineProperties(e, t) { for (var n = 0; n < t.length; n++) { var a = t[n];
            a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } } var c = function() {
        function AudioSound(e) {! function AudioSound_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, AudioSound), this.game = e.game, this.key = e.key, this.sound = this.game.sound.add(this.key) } return function AudioSound_createClass(e, t, n) { return t && AudioSound_defineProperties(e.prototype, t), n && AudioSound_defineProperties(e, n), e }(AudioSound, [{ key: "Play", value: function Play(e) { this.sound.play(e) } }, { key: "Stop", value: function Stop() { this.sound.stop() } }, { key: "Destroy", value: function Destroy() { this.game.sound.remove(this.sound) } }]), AudioSound }();

    function AudioLayer_defineProperties(e, t) { for (var n = 0; n < t.length; n++) { var a = t[n];
            a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } } var p = function() {
        function AudioLayer(e) {! function AudioLayer_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, AudioLayer), this.game = e.game, this.key = e.key, this.sounds = e.sounds } return function AudioLayer_createClass(e, t, n) { return t && AudioLayer_defineProperties(e.prototype, t), n && AudioLayer_defineProperties(e, n), e }(AudioLayer, [{ key: "AddSound", value: function AddSound(e) { var t = new c({ game: this.game, key: e });
                this.sounds.push(t) } }, { key: "GetSound", value: function GetSound(e) { for (var t = 0; t < this.sounds.length; t++)
                    if (this.sounds[t].key == e) return this.sounds[t] } }, { key: "PlaySound", value: function PlaySound(e, t) { this.GetSound(e).Play(t) } }, { key: "StopSound", value: function StopSound(e) { this.GetSound(e).Stop() } }, { key: "Destroy", value: function Destroy() { for (var e = 0; e < this.sounds.length; e++) this.sounds[e].Destroy() } }]), AudioLayer }();

    function AudioManager_defineProperties(e, t) { for (var n = 0; n < t.length; n++) { var a = t[n];
            a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } } var h = function() {
        function AudioManager(e) {! function AudioManager_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, AudioManager), (AudioManager.Instance = this).game = e, this.layers = [], this.audioEnabled = !0 } return function AudioManager_createClass(e, t, n) { return t && AudioManager_defineProperties(e.prototype, t), n && AudioManager_defineProperties(e, n), e }(AudioManager, [{ key: "ToggleAudioEnabled", value: function ToggleAudioEnabled() { this.SetAudioEnabled(!this.audioEnabled) } }, { key: "SetAudioEnabled", value: function SetAudioEnabled(e) { this.audioEnabled = e, this.game.sound.mute = !e } }, { key: "IsAudioEnabled", value: function IsAudioEnabled() { return this.audioEnabled } }, { key: "AddLayer", value: function AddLayer(e, t) { if (!this.GetLayer(e)) { var n = new p({ game: this.game, key: e, sounds: [] }); if (this.layers.push(n), t)
                        for (var a = 0; a < t.length; a++) n.AddSound(t[a]) } } }, { key: "GetLayerIndex", value: function GetLayerIndex(e) { for (var t = 0; t < this.layers.length; t++)
                    if (this.layers[t].key == e) return t } }, { key: "GetLayer", value: function GetLayer(e) { var t = this.GetLayerIndex(e); return this.layers[t] } }, { key: "PlaySoundOnLayer", value: function PlaySoundOnLayer(e, t, n) { this.GetLayer(e).PlaySound(t, n) } }, { key: "StopSoundOnLayer", value: function StopSoundOnLayer(e, t) { this.GetLayer(e).StopSound(t) } }, { key: "DestroyLayer", value: function DestroyLayer(e) { var t = this.GetLayerIndex(e);
                this.GetLayer(e).Destroy(), this.layers.splice(t, 1) } }]), AudioManager }();

    function Puzzle_typeof(e) { return (Puzzle_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function _typeof(e) { return typeof e } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }

    function Puzzle_defineProperties(e, t) { for (var n = 0; n < t.length; n++) { var a = t[n];
            a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } }

    function Puzzle_assertThisInitialized(e) { if (void 0 === e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return e }

    function Puzzle_get(e, t, n) { return (Puzzle_get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function _get(e, t, n) { var a = function Puzzle_superPropBase(e, t) { for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = Puzzle_getPrototypeOf(e));); return e }(e, t); if (a) { var i = Object.getOwnPropertyDescriptor(a, t); return i.get ? i.get.call(n) : i.value } })(e, t, n || e) }

    function Puzzle_getPrototypeOf(e) { return (Puzzle_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }

    function Puzzle_setPrototypeOf(e, t) { return (Puzzle_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(e, t) { return e.__proto__ = t, e })(e, t) } var f = function() {
        function Puzzle(e, t, n, a, i, o) { var r; return function Puzzle_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, Puzzle), (r = function Puzzle_possibleConstructorReturn(e, t) { return !t || "object" !== Puzzle_typeof(t) && "function" != typeof t ? Puzzle_assertThisInitialized(e) : t }(this, Puzzle_getPrototypeOf(Puzzle).call(this, t, n, a))).game = e, r.scene = t, r.puzzleImageLeft = new l(r.game, r.scene, Puzzle_assertThisInitialized(r), 0, 0, i, !0), r.add(r.puzzleImageLeft), r.puzzleImageRight = new l(r.game, r.scene, Puzzle_assertThisInitialized(r), 0, 0, i, !1), r.add(r.puzzleImageRight), r.puzzleImageLeft.SetupTappables(o), r.puzzleImageRight.SetupTappables(o), r.imageGapWidth = 10 * r.game.gameScale, r.puzzleImageLeft.x = 0, r.puzzleImageLeft.y = -1e3, r.puzzleImageRight.x = 0, r.puzzleImageRight.y = -1e3, r.tappablesFoundCount = 0, r.tappablesCount = o.length, r } return function Puzzle_inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && Puzzle_setPrototypeOf(e, t) }(Puzzle, Phaser.GameObjects.Container),
            function Puzzle_createClass(e, t, n) { return t && Puzzle_defineProperties(e.prototype, t), n && Puzzle_defineProperties(e, n), e }(Puzzle, [{ key: "update", value: function update(e, t) { Puzzle_get(Puzzle_getPrototypeOf(Puzzle.prototype), "update", this).call(this, e, t), this.puzzleImageLeft && this.puzzleImageLeft.update(e, t), this.puzzleImageRight && this.puzzleImageRight.update(e, t) } }, { key: "PlaySlideInImagesFromOffScreen", value: function PlaySlideInImagesFromOffScreen() { this.puzzleImageLeft.y = -1e3, this.puzzleImageRight.y = -1e3, this.scene && (this.scene.tweens.add({ targets: [this.puzzleImageLeft, this.puzzleImageRight], x: 0, y: 0, ease: "Sine.easeOut", duration: 500, onComplete: null }), h.Instance.PlaySoundOnLayer("game_sfx_layer", "cards_drop")) } }, { key: "PlaySlideApartImages", value: function PlaySlideApartImages() { var e = -.5 * this.puzzleImageLeft.puzzleBackgroundImage.displayWidth - .5 * this.imageGapWidth,
                        t = .5 * this.puzzleImageRight.puzzleBackgroundImage.displayWidth + .5 * this.imageGapWidth;
                    this.scene && (this.scene.tweens.add({ targets: this.puzzleImageLeft, x: e, y: 0, ease: "Sine.easeOut", duration: 500, onComplete: null }), this.scene.tweens.add({ targets: this.puzzleImageRight, x: t, y: 0, ease: "Sine.easeOut", duration: 500, onComplete: null }), h.Instance.PlaySoundOnLayer("game_sfx_layer", "cards_split")) } }, { key: "PlayFlipImages", value: function PlayFlipImages() { this.scene && (this.scene.tweens.add({ targets: this.puzzleImageLeft, scaleX: 0, scaleY: 1, ease: "Sine.easeOut", duration: 200, onComplete: this.PlayShowLeftImage.bind(this) }), this.scene.tweens.add({ targets: this.puzzleImageRight, scaleX: 0, scaleY: 1, ease: "Sine.easeOut", duration: 200, onComplete: this.PlayShowRightImage.bind(this) }), h.Instance.PlaySoundOnLayer("game_sfx_layer", "cards_rotate")) } }, { key: "PlayShowLeftImage", value: function PlayShowLeftImage() { this.puzzleImageLeft.ShowCardPuzzleImage(), this.scene && this.scene.tweens.add({ targets: this.puzzleImageLeft, scaleX: 1, scaleY: 1, ease: "Sine.easeOut", duration: 200, onComplete: null }) } }, { key: "PlayShowRightImage", value: function PlayShowRightImage() { this.puzzleImageRight.ShowCardPuzzleImage(), this.scene && this.scene.tweens.add({ targets: this.puzzleImageRight, scaleX: 1, scaleY: 1, ease: "Sine.easeOut", duration: 200, onComplete: this.PuzzleFlipRevealComplete.bind(this) }) } }, { key: "PuzzleFlipRevealComplete", value: function PuzzleFlipRevealComplete() { this.scene && this.scene.PuzzleImagesRevealed() } }, { key: "PlaySlideOutImagesToOffScreen", value: function PlaySlideOutImagesToOffScreen(e) { this.scene && this.scene.tweens.add({ targets: [this.puzzleImageLeft, this.puzzleImageRight], y: 1e3, ease: "Sine.easeIn", duration: 300, onComplete: e }) } }, { key: "UserFoundTappable", value: function UserFoundTappable(e, t) { if (this.scene && this.scene.IsPuzzleTimerActive() && !this.scene.isPaused) { var n = !1;
                        this.scene.hintAvailable || this.scene.hintRevealedTappableIndex != e || (n = !0, this.scene.ShowHintParticles(!1)); var a = n ? 0 : this.scene.baseTappableScore,
                            i = this.scene.currentScoreMultiplier;
                        this.scene.AddToCurrentPuzzleScore(a), this.puzzleImageLeft && this.puzzleImageLeft.RevealTappable(e, t, a * i), this.puzzleImageRight && this.puzzleImageRight.RevealTappable(e, !t, a * i), this.tappablesFoundCount++, this.scene.UpdateScoreText(this.tappablesFoundCount, this.tappablesCount), this.scene.UserFoundTappable(), this.tappablesFoundCount >= this.tappablesCount && this.PuzzleComplete() } } }, { key: "PuzzleComplete", value: function PuzzleComplete() { this.scene.UserFinishedActivePuzzle() } }, { key: "GetRandomUnfoundTappableIndex", value: function GetRandomUnfoundTappableIndex() { for (var e = [], t = 0; t < this.puzzleImageLeft.hiddenTappables.length; t++) this.puzzleImageLeft.hiddenTappables[t].GetTappableFound() || e.push(t); return e.length <= 0 ? -1 : a.ShuffleArray(e)[0] } }]), Puzzle }();

    function TimeBar_typeof(e) { return (TimeBar_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function _typeof(e) { return typeof e } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }

    function TimeBar_defineProperties(e, t) { for (var n = 0; n < t.length; n++) { var a = t[n];
            a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } }

    function TimeBar_possibleConstructorReturn(e, t) { return !t || "object" !== TimeBar_typeof(t) && "function" != typeof t ? function TimeBar_assertThisInitialized(e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(e) : t }

    function TimeBar_get(e, t, n) { return (TimeBar_get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function _get(e, t, n) { var a = function TimeBar_superPropBase(e, t) { for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = TimeBar_getPrototypeOf(e));); return e }(e, t); if (a) { var i = Object.getOwnPropertyDescriptor(a, t); return i.get ? i.get.call(n) : i.value } })(e, t, n || e) }

    function TimeBar_getPrototypeOf(e) { return (TimeBar_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }

    function TimeBar_setPrototypeOf(e, t) { return (TimeBar_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(e, t) { return e.__proto__ = t, e })(e, t) } var d = function() {
        function TimeBar(e, t, n, a) { var i; return function TimeBar_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, TimeBar), (i = TimeBar_possibleConstructorReturn(this, TimeBar_getPrototypeOf(TimeBar).call(this, t, n, a))).game = e, i.scene = t, i.overlayImage = i.scene.add.image(0, 0, "time_bar_overlay"), i.overlayImage.y += .5 * i.overlayImage.height, i.backgroundBarImage = i.scene.add.image(0, 0, "time_bar_background"), i.backgroundBarImage.y += .5 * i.overlayImage.height, i.fillImage = i.scene.add.image(0, 0, "time_bar_fill"), i.fillImage.y += .5 * i.overlayImage.height, i.add(i.backgroundBarImage), i.add(i.fillImage), i.add(i.overlayImage), i.timerActive = !1, i } return function TimeBar_inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && TimeBar_setPrototypeOf(e, t) }(TimeBar, Phaser.GameObjects.Container),
            function TimeBar_createClass(e, t, n) { return t && TimeBar_defineProperties(e.prototype, t), n && TimeBar_defineProperties(e, n), e }(TimeBar, [{ key: "StartTimer", value: function StartTimer(e) { this.duration = e, this.timer = this.duration, this.timerActive = !0, this.SetFillAmount(1) } }, { key: "StopTimer", value: function StopTimer() { this.timerActive = !1 } }, { key: "TimerFinished", value: function TimerFinished() { this.timerActive = !1, this.timer = 0, this.SetFillAmount(0), this.scene && this.scene.TimeBarTimerFinished() } }, { key: "SetFillAmount", value: function SetFillAmount(e) { this.fillImage.setCrop(0, 0, this.fillImage.width * e, this.fillImage.height) } }, { key: "update", value: function update(e, t) { if (TimeBar_get(TimeBar_getPrototypeOf(TimeBar.prototype), "update", this).call(this, e, t), this.timerActive) { var n = .001 * t;
                        this.timer -= n; var a = this.timer % 1;
                        this.timer < 3 && (1 <= a + n && h.Instance.PlaySoundOnLayer("game_sfx_layer", "time_running_out"), this.timer <= 0 && this.TimerFinished()), this.SetFillAmount(this.timer / this.duration) } } }, { key: "RemoveRatioOfTimeBar", value: function RemoveRatioOfTimeBar(e) { var t = this.duration * e;
                    this.timer -= t, this.SetFillAmount(this.timer / this.duration) } }]), TimeBar }();

    function ProgressDisplay_typeof(e) { return (ProgressDisplay_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function _typeof(e) { return typeof e } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }

    function ProgressDisplay_defineProperties(e, t) { for (var n = 0; n < t.length; n++) { var a = t[n];
            a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } }

    function ProgressDisplay_possibleConstructorReturn(e, t) { return !t || "object" !== ProgressDisplay_typeof(t) && "function" != typeof t ? function ProgressDisplay_assertThisInitialized(e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(e) : t }

    function ProgressDisplay_get(e, t, n) { return (ProgressDisplay_get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function _get(e, t, n) { var a = function ProgressDisplay_superPropBase(e, t) { for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = ProgressDisplay_getPrototypeOf(e));); return e }(e, t); if (a) { var i = Object.getOwnPropertyDescriptor(a, t); return i.get ? i.get.call(n) : i.value } })(e, t, n || e) }

    function ProgressDisplay_getPrototypeOf(e) { return (ProgressDisplay_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }

    function ProgressDisplay_setPrototypeOf(e, t) { return (ProgressDisplay_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(e, t) { return e.__proto__ = t, e })(e, t) } var g = function() {
        function ProgressDisplay(e, t, n, a) { var i;! function ProgressDisplay_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, ProgressDisplay), (i = ProgressDisplay_possibleConstructorReturn(this, ProgressDisplay_getPrototypeOf(ProgressDisplay).call(this, t, n, a))).game = e, i.scene = t, i.defaultPosX = n;
            i.spacingX = 60, i.backImages = [], i.fillImages = [], i.crossImages = []; for (var o = 0; o < 10; o++) { var r = i.scene.add.image(o * i.spacingX * i.game.gameScale, 0, "star_background");
                r.setOrigin(.5), r.visible = !0, i.add(r), i.backImages.push(r) } for (o = 0; o < 10; o++) { var s = i.scene.add.image(o * i.spacingX * i.game.gameScale, 0, "star_fill");
                s.setOrigin(.5), s.visible = !0, i.add(s), i.fillImages.push(s) } for (o = 0; o < 10; o++) { var u = i.scene.add.image(o * i.spacingX * i.game.gameScale, 0, "fail_cross");
                u.setOrigin(.5), u.setScale(.125), u.visible = !1, i.add(u), i.crossImages.push(u) } return i } return function ProgressDisplay_inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && ProgressDisplay_setPrototypeOf(e, t) }(ProgressDisplay, Phaser.GameObjects.Container),
            function ProgressDisplay_createClass(e, t, n) { return t && ProgressDisplay_defineProperties(e.prototype, t), n && ProgressDisplay_defineProperties(e, n), e }(ProgressDisplay, [{ key: "update", value: function update(e, t) { ProgressDisplay_get(ProgressDisplay_getPrototypeOf(ProgressDisplay.prototype), "update", this).call(this, e, t) } }, { key: "SetupDisplay", value: function SetupDisplay(e) { this.currentObjectCount = e, this.currentAnimIndex = 0; var t = (this.currentObjectCount - 1) * this.spacingX;
                    this.x = this.defaultPosX - .5 * t * this.game.gameScale; for (var n = 0; n < this.backImages.length; n++) this.backImages[n].visible = n < this.currentObjectCount; for (n = 0; n < this.fillImages.length; n++) { var a = this.fillImages[n];
                        a.setScale(0, 0), a.visible = !1 } for (n = 0; n < this.crossImages.length; n++) { var i = this.crossImages[n];
                        i.setScale(0, 0), i.visible = !1 } } }, { key: "UserFoundTappable", value: function UserFoundTappable() { if (!(this.currentAnimIndex >= this.fillImages.length)) { var e = this.fillImages[this.currentAnimIndex];
                        e.setScale(0, 0), e.visible = !0, this.scene.tweens.add({ targets: e, scaleX: 1, scaleY: 1, ease: "Back.easeOut", easeParams: [5, 1], duration: 450 }), this.currentAnimIndex++ } } }, { key: "ShowCrossesForUnfoundTappables", value: function ShowCrossesForUnfoundTappables() { if (!(this.currentAnimIndex >= this.crossImages.length))
                        for (var e = this.currentAnimIndex; e < this.currentObjectCount; e++) { var t = this.crossImages[e];
                            t.setScale(0, 0), t.visible = !0, this.scene.tweens.add({ targets: t, scaleX: .125, scaleY: .125, ease: "Back.easeOut", easeParams: [5, 1], duration: 450 }) } } }]), ProgressDisplay }();

    function SuccessPopup_typeof(e) { return (SuccessPopup_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function _typeof(e) { return typeof e } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }

    function SuccessPopup_defineProperties(e, t) { for (var n = 0; n < t.length; n++) { var a = t[n];
            a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } }

    function SuccessPopup_possibleConstructorReturn(e, t) { return !t || "object" !== SuccessPopup_typeof(t) && "function" != typeof t ? function SuccessPopup_assertThisInitialized(e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(e) : t }

    function SuccessPopup_get(e, t, n) { return (SuccessPopup_get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function _get(e, t, n) { var a = function SuccessPopup_superPropBase(e, t) { for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = SuccessPopup_getPrototypeOf(e));); return e }(e, t); if (a) { var i = Object.getOwnPropertyDescriptor(a, t); return i.get ? i.get.call(n) : i.value } })(e, t, n || e) }

    function SuccessPopup_getPrototypeOf(e) { return (SuccessPopup_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }

    function SuccessPopup_setPrototypeOf(e, t) { return (SuccessPopup_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(e, t) { return e.__proto__ = t, e })(e, t) } var y = function() {
        function SuccessPopup(e, t, n, a) { var i; return function SuccessPopup_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, SuccessPopup), (i = SuccessPopup_possibleConstructorReturn(this, SuccessPopup_getPrototypeOf(SuccessPopup).call(this, t, n, a))).game = e, i.scene = t, i.backgroundOverlayImage = i.scene.add.image(0, 0, "background_overlay"), i.backgroundOverlayImage.setOrigin(.5), i.backgroundOverlayImage.alpha = 0, i.add(i.backgroundOverlayImage), i.popupImage = i.scene.add.image(0, 0, "popup_background"), i.popupImage.setOrigin(.5), i.popupImage.alpha = .75, i.add(i.popupImage), i.successPopupShineImage_1 = i.scene.add.image(0, -.15 * i.scene.scale.height, "success_shine_01"), i.successPopupShineImage_1.setOrigin(.5), i.add(i.successPopupShineImage_1), i.successPopupShineImage_2 = i.scene.add.image(0, -.15 * i.scene.scale.height, "success_shine_02"), i.successPopupShineImage_2.setOrigin(.5), i.add(i.successPopupShineImage_2), i.successTrophyImage = i.scene.add.image(0, -.1 * i.scene.scale.height, "success_trophy"), i.successTrophyImage.setOrigin(.5), i.add(i.successTrophyImage), i.multiplierBaseImage = i.scene.add.image(0, -.0175 * i.scene.scale.height, "multiplier_base"), i.multiplierBaseImage.setOrigin(.5), i.add(i.multiplierBaseImage), i.multiplierScoreText = i.scene.add.bitmapText(0, -.015 * i.scene.scale.height, "fred_burger_font", ""), i.multiplierScoreText.setOrigin(.5), i.multiplierScoreText.tint = "0xffffff", i.multiplierScoreText.setFontSize(48), i.add(i.multiplierScoreText), i.totalScoreText = i.scene.add.bitmapText(0, -.15 * i.scene.scale.height, "fred_burger_font", ""), i.totalScoreText.setOrigin(.5), i.totalScoreText.tint = "0xffffff", i.add(i.totalScoreText), i.nextButton = i.scene.add.image(0, 155 * i.game.gameScale, "button_next").setInteractive({ useHandCursor: !0 }).on("pointerup", function() { i.ContinueButtonPressed() }), i.add(i.nextButton), i.depth = 1, i } return function SuccessPopup_inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && SuccessPopup_setPrototypeOf(e, t) }(SuccessPopup, Phaser.GameObjects.Container),
            function SuccessPopup_createClass(e, t, n) { return t && SuccessPopup_defineProperties(e.prototype, t), n && SuccessPopup_defineProperties(e, n), e }(SuccessPopup, [{ key: "update", value: function update(e, t) { SuccessPopup_get(SuccessPopup_getPrototypeOf(SuccessPopup.prototype), "update", this).call(this, e, t), this.RotateShineImage(this.successPopupShineImage_1, -20, t), this.RotateShineImage(this.successPopupShineImage_2, 20, t), this.scoreCounterTween && (this.totalScoreText.text = Math.round(this.scoreCounterTween.getValue())), 0 < this.scoreCountSFXDelay && (this.scoreCountSFXDelay -= .001 * t, this.scoreCountSFXDelay <= 0 && h.Instance.PlaySoundOnLayer("game_sfx_layer", "score_count_up")), 0 < this.nextButtonShowSFXDelay && (this.nextButtonShowSFXDelay -= .001 * t, this.nextButtonShowSFXDelay <= 0 && h.Instance.PlaySoundOnLayer("game_sfx_layer", "next_button_appear")) } }, { key: "RotateShineImage", value: function RotateShineImage(e, t, n) { e.angle = e.angle + t * n * .001 } }, { key: "ShowPopup", value: function ShowPopup(e, t, n) { this.multiplierForRound = t, this.multiplierScoreText.setScale(1, 1), this.totalScoreText.setScale(1, 1); var a = n - e * t;
                    this.multiplierScoreText.text = "x" + t, this.totalScoreText.text = a, this.backgroundOverlayImage.alpha = 0, this.popupImage.setScale(0, 0), this.successPopupShineImage_1.setScale(0, 0), this.successPopupShineImage_2.setScale(0, 0), this.successTrophyImage.setScale(0, 0), this.multiplierBaseImage.setScale(0, 0), this.nextButton.setScale(0, 0), this.multiplierScoreText.setScale(0, 0), this.totalScoreText.setScale(0, 0), this.setVisible(!0), this.scoreCountSFXDelay = 1.5, this.nextButtonShowSFXDelay = 3.75, h.Instance.PlaySoundOnLayer("game_sfx_layer", "puzzle_beaten"), this.scene.tweens.add({ targets: this.popupImage, scaleX: 1, scaleY: 1, ease: "Elastic.easeOut", easeParams: [1, .5], duration: 1e3, onComplete: null }), this.scene.tweens.add({ delay: 300, targets: [this.successPopupShineImage_1, this.successPopupShineImage_2, this.successTrophyImage], scaleX: 1, scaleY: 1, ease: "Elastic.easeOut", easeParams: [1, .5], duration: 1e3, onComplete: this.TrophyScaleInComplete.bind(this) }), this.scene.tweens.add({ delay: 300, targets: this.totalScoreText, scaleX: 1, scaleY: 1, ease: "Elastic.easeOut", easeParams: [1, .5], duration: 1e3, onComplete: null }), this.scoreCounterTween = this.scene.tweens.addCounter({ delay: 1500, from: a, to: n, ease: "Quart.easeOut", duration: 1500, onComplete: this.ScoreCountUpComplete.bind(this) }), this.scene.tweens.add({ delay: 500, targets: this.multiplierBaseImage, scaleX: 1, scaleY: 1, ease: "Elastic.easeOut", easeParams: [1, .5], duration: 1e3, onComplete: null }), this.scene.tweens.add({ delay: 500, targets: this.multiplierScoreText, scaleX: 1, scaleY: 1, ease: "Elastic.easeOut", easeParams: [1, .5], duration: 1e3, onComplete: null }), this.scene.tweens.add({ delay: 3750, targets: this.nextButton, scaleX: 1, scaleY: 1, ease: "Elastic.easeOut", easeParams: [1, .5], duration: 1e3, onComplete: null }) } }, { key: "TrophyScaleInComplete", value: function TrophyScaleInComplete() { this.scene.ShowTrophyParticles(!0) } }, { key: "ScoreCountUpComplete", value: function ScoreCountUpComplete() { h.Instance.StopSoundOnLayer("game_sfx_layer", "score_count_up");
                    this.scene.tweens.add({ delay: 0, targets: this.multiplierBaseImage, scaleX: 1.25, scaleY: 1.25, ease: "Sine.easeOut", easeParams: [1, .5], duration: 250, onComplete: null }), this.scene.tweens.add({ delay: 0, targets: this.multiplierScoreText, scaleX: 1.25, scaleY: 1.25, ease: "Sine.easeOut", easeParams: [1, .5], duration: 250, onComplete: this.MultiplierBannerScaleUpComplete.bind(this) }), this.scene.tweens.add({ delay: 250, targets: this.multiplierBaseImage, scaleX: 1, scaleY: 1, ease: "Sine.easeIn", easeParams: [1, .5], duration: 250, onComplete: null }), this.scene.tweens.add({ delay: 250, targets: this.multiplierScoreText, scaleX: 1, scaleY: 1, ease: "Sine.easeIn", easeParams: [1, .5], duration: 250, onComplete: null }), h.Instance.PlaySoundOnLayer("game_sfx_layer", "multiplier_count_up") } }, { key: "MultiplierBannerScaleUpComplete", value: function MultiplierBannerScaleUpComplete() { this.multiplierScoreText.setScale(1, 1), this.multiplierScoreText.text = "x" + (this.multiplierForRound + 1), this.multiplierScoreText.setScale(1.25, 1.25) } }, { key: "HidePopup", value: function HidePopup() { this.setVisible(!1), this.scene.ShowTrophyParticles(!1) } }, { key: "ContinueButtonPressed", value: function ContinueButtonPressed() { this.scene && (h.Instance.PlaySoundOnLayer("ui_sfx_layer", "ui_restart"), this.scene.SetupAndStartNextPuzzle()) } }]), SuccessPopup }();

    function FailurePopup_typeof(e) { return (FailurePopup_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function _typeof(e) { return typeof e } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }

    function FailurePopup_defineProperties(e, t) { for (var n = 0; n < t.length; n++) { var a = t[n];
            a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } }

    function FailurePopup_possibleConstructorReturn(e, t) { return !t || "object" !== FailurePopup_typeof(t) && "function" != typeof t ? function FailurePopup_assertThisInitialized(e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(e) : t }

    function FailurePopup_get(e, t, n) { return (FailurePopup_get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function _get(e, t, n) { var a = function FailurePopup_superPropBase(e, t) { for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = FailurePopup_getPrototypeOf(e));); return e }(e, t); if (a) { var i = Object.getOwnPropertyDescriptor(a, t); return i.get ? i.get.call(n) : i.value } })(e, t, n || e) }

    function FailurePopup_getPrototypeOf(e) { return (FailurePopup_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }

    function FailurePopup_setPrototypeOf(e, t) { return (FailurePopup_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(e, t) { return e.__proto__ = t, e })(e, t) } var m = function() {
        function FailurePopup(e, t, n, a) { var i; return function FailurePopup_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, FailurePopup), (i = FailurePopup_possibleConstructorReturn(this, FailurePopup_getPrototypeOf(FailurePopup).call(this, t, n, a))).game = e, i.scene = t, i.backgroundOverlayImage = i.scene.add.image(0, 0, "background_overlay"), i.backgroundOverlayImage.setOrigin(.5), i.backgroundOverlayImage.alpha = .5, i.add(i.backgroundOverlayImage), i.popupImage = i.scene.add.image(0, 0, "popup_background"), i.popupImage.setOrigin(.5), i.popupImage.alpha = .75, i.add(i.popupImage), i.crossImage = i.scene.add.image(0, -80 * i.game.gameScale, "fail_cross"), i.crossImage.setOrigin(.5), i.add(i.crossImage), i.multiplierBaseImage = i.scene.add.image(0, .1 * i.scene.scale.height, "multiplier_base_fail"), i.multiplierBaseImage.setOrigin(.5), i.add(i.multiplierBaseImage), i.multiplierScoreText = i.scene.add.bitmapText(0, .0925 * i.scene.scale.height, "fred_burger_font", ""), i.multiplierScoreText.tint = "0xffffff", i.multiplierScoreText.text = "x1", i.multiplierScoreText.setFontSize(40), i.multiplierScoreText.setOrigin(.5), i.add(i.multiplierScoreText), i.restartButton = i.scene.add.image(-176 * i.game.gameScale, 128 * i.game.gameScale, "button_restart").setInteractive({ useHandCursor: !0 }).on("pointerup", function() { i.RestartButtonPressed() }), i.add(i.restartButton), i.nextButton = i.scene.add.image(176 * i.game.gameScale, 128 * i.game.gameScale, "button_next").setInteractive({ useHandCursor: !0 }).on("pointerup", function() { i.NextButtonPressed() }), i.add(i.nextButton), i.depth = 1, i } return function FailurePopup_inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && FailurePopup_setPrototypeOf(e, t) }(FailurePopup, Phaser.GameObjects.Container),
            function FailurePopup_createClass(e, t, n) { return t && FailurePopup_defineProperties(e.prototype, t), n && FailurePopup_defineProperties(e, n), e }(FailurePopup, [{ key: "update", value: function update(e, t) { FailurePopup_get(FailurePopup_getPrototypeOf(FailurePopup.prototype), "update", this).call(this, e, t), 0 < this.popupSFXDelay && (this.popupSFXDelay -= .001 * t, this.popupSFXDelay <= 0 && this.PlayPopupSFX()) } }, { key: "ShowPopup", value: function ShowPopup(e) { this.multiplierScoreText.setScale(1, 1), this.multiplierScoreText.text = "x" + e, this.backgroundOverlayImage.alpha = 0, this.popupImage.setScale(0, 0), this.crossImage.setScale(0, 0), this.restartButton.setScale(0, 0), this.nextButton.setScale(0, 0), this.multiplierBaseImage.setScale(0, 0), this.multiplierScoreText.setScale(0, 0), this.popupSFXDelay = .6, this.setVisible(!0), this.scene.tweens.add({ targets: this.crossImage, scaleX: 1, scaleY: 1, ease: "Elastic.easeOut", easeParams: [1, .5], duration: 800, onComplete: null }), this.scene.tweens.add({ delay: 600, targets: this.popupImage, scaleX: 1, scaleY: 1, ease: "Elastic.easeOut", easeParams: [1, .5], duration: 1e3, onStart: null, onComplete: this.PlayBannerScaleAnim.bind(this) }), this.scene.tweens.add({ delay: 800, targets: this.multiplierBaseImage, scaleX: 1, scaleY: 1, ease: "Elastic.easeOut", easeParams: [1, .5], duration: 500, onComplete: null }), this.scene.tweens.add({ delay: 800, targets: this.multiplierScoreText, scaleX: 1, scaleY: 1, ease: "Elastic.easeOut", easeParams: [1, .5], duration: 500, onComplete: null }), this.scene.tweens.add({ delay: 1e3, targets: this.restartButton, scaleX: 1, scaleY: 1, ease: "Elastic.easeOut", easeParams: [1, .5], duration: 1e3, onComplete: null }), this.scene.tweens.add({ delay: 1e3, targets: this.nextButton, scaleX: 1, scaleY: 1, ease: "Elastic.easeOut", easeParams: [1, .5], duration: 1e3, onComplete: null }) } }, { key: "PlayPopupSFX", value: function PlayPopupSFX() { h.Instance.PlaySoundOnLayer("game_sfx_layer", "puzzle_failed_buttons_appear") } }, { key: "PlayBannerScaleAnim", value: function PlayBannerScaleAnim() { this.scene.tweens.add({ delay: 0, targets: this.multiplierBaseImage, scaleX: 1.15, scaleY: 1.15, ease: "Sine.easeOut", easeParams: [1, .5], duration: 250, onComplete: null }), this.scene.tweens.add({ delay: 0, targets: this.multiplierScoreText, scaleX: 1.15, scaleY: 1.15, ease: "Sine.easeOut", easeParams: [1, .5], duration: 250, onComplete: this.MultiplierBannerScaleUpComplete.bind(this) }), this.scene.tweens.add({ delay: 250, targets: this.multiplierBaseImage, scaleX: 1, scaleY: 1, ease: "Sine.easeIn", easeParams: [1, .5], duration: 250, onComplete: null }), this.scene.tweens.add({ delay: 250, targets: this.multiplierScoreText, scaleX: 1, scaleY: 1, ease: "Sine.easeIn", easeParams: [1, .5], duration: 250, onComplete: null }) } }, { key: "MultiplierBannerScaleUpComplete", value: function MultiplierBannerScaleUpComplete() { this.multiplierScoreText.setScale(1, 1), this.multiplierScoreText.text = "x1", this.multiplierScoreText.setScale(1.15, 1.15) } }, { key: "HidePopup", value: function HidePopup() { this.setVisible(!1) } }, { key: "RestartButtonPressed", value: function RestartButtonPressed() { this.scene && (h.Instance.PlaySoundOnLayer("ui_sfx_layer", "ui_restart"), this.scene.SetupCurrentPuzzle()) } }, { key: "NextButtonPressed", value: function NextButtonPressed() { this.scene && (h.Instance.PlaySoundOnLayer("ui_sfx_layer", "ui_restart"), this.scene.SetupAndStartNextPuzzle()) } }]), FailurePopup }();

    function GameOverPopup_typeof(e) { return (GameOverPopup_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function _typeof(e) { return typeof e } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }

    function GameOverPopup_defineProperties(e, t) { for (var n = 0; n < t.length; n++) { var a = t[n];
            a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } }

    function GameOverPopup_possibleConstructorReturn(e, t) { return !t || "object" !== GameOverPopup_typeof(t) && "function" != typeof t ? function GameOverPopup_assertThisInitialized(e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(e) : t }

    function GameOverPopup_get(e, t, n) { return (GameOverPopup_get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function _get(e, t, n) { var a = function GameOverPopup_superPropBase(e, t) { for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = GameOverPopup_getPrototypeOf(e));); return e }(e, t); if (a) { var i = Object.getOwnPropertyDescriptor(a, t); return i.get ? i.get.call(n) : i.value } })(e, t, n || e) }

    function GameOverPopup_getPrototypeOf(e) { return (GameOverPopup_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }

    function GameOverPopup_setPrototypeOf(e, t) { return (GameOverPopup_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(e, t) { return e.__proto__ = t, e })(e, t) } var P = function() {
        function GameOverPopup(e, t, n, a) { var i;! function GameOverPopup_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, GameOverPopup), (i = GameOverPopup_possibleConstructorReturn(this, GameOverPopup_getPrototypeOf(GameOverPopup).call(this, t, n, a))).game = e, i.scene = t; var o = i.game.cache.json.get("localisationData"),
                r = i.game.cache.json.get("gameData").spot_the_difference.language,
                s = o.well_done[r]; return i.backgroundOverlayImage = i.scene.add.image(0, 0, "background_overlay"), i.backgroundOverlayImage.setOrigin(.5), i.backgroundOverlayImage.alpha = 0, i.add(i.backgroundOverlayImage), i.popupImage = i.scene.add.image(0, 0, "popup_background"), i.popupImage.setOrigin(.5), i.popupImage.tint = "0xc8dae4", i.add(i.popupImage), i.popupImage2 = i.scene.add.image(0, -.375 * i.scene.scale.height, "popup_background_2"), i.popupImage2.setOrigin(.5), i.popupImage2.tint = "0xe3ecf2", i.add(i.popupImage2), i.wellDoneText = i.scene.add.text(0, -.375 * i.scene.scale.height, s, { fontFamily: '"FredBurger Black"', fontSize: "50px", color: "#ffffff" }), i.wellDoneText.setOrigin(.5), i.wellDoneText.tint = "0x1e0e1f", i.add(i.wellDoneText), i.successPopupShineImage_1 = i.scene.add.image(0, -.15 * i.scene.scale.height, "success_shine_01"), i.successPopupShineImage_1.setOrigin(.5), i.add(i.successPopupShineImage_1), i.successPopupShineImage_2 = i.scene.add.image(0, -.15 * i.scene.scale.height, "success_shine_02"), i.successPopupShineImage_2.setOrigin(.5), i.add(i.successPopupShineImage_2), i.successTrophyImage = i.scene.add.image(0, -.1 * i.scene.scale.height, "success_trophy"), i.successTrophyImage.setOrigin(.5), i.add(i.successTrophyImage), i.totalScoreText = i.scene.add.bitmapText(0, -.15 * i.scene.scale.height, "fred_burger_font", ""), i.totalScoreText.setOrigin(.5), i.totalScoreText.tint = "0xffffff", i.add(i.totalScoreText), i.homeButton = i.scene.add.image(0, 155 * i.game.gameScale, "button_home").setInteractive({ useHandCursor: !0 }).on("pointerup", function() { i.HomeButtonPressed() }), i.add(i.homeButton), i.depth = 1, i } return function GameOverPopup_inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && GameOverPopup_setPrototypeOf(e, t) }(GameOverPopup, Phaser.GameObjects.Container),
            function GameOverPopup_createClass(e, t, n) { return t && GameOverPopup_defineProperties(e.prototype, t), n && GameOverPopup_defineProperties(e, n), e }(GameOverPopup, [{ key: "update", value: function update(e, t) { GameOverPopup_get(GameOverPopup_getPrototypeOf(GameOverPopup.prototype), "update", this).call(this, e, t), this.RotateShineImage(this.successPopupShineImage_1, -20, t), this.RotateShineImage(this.successPopupShineImage_2, 20, t), 0 < this.scoreCountSFXDelay && (this.scoreCountSFXDelay -= .001 * t, this.scoreCountSFXDelay <= 0 && h.Instance.PlaySoundOnLayer("game_sfx_layer", "score_count_up")), 0 < this.homeButtonShowSFXDelay && (this.homeButtonShowSFXDelay -= .001 * t, this.homeButtonShowSFXDelay <= 0 && h.Instance.PlaySoundOnLayer("game_sfx_layer", "next_button_appear")), this.scoreCounterTween && (this.totalScoreText.text = Math.round(this.scoreCounterTween.getValue())) } }, { key: "RotateShineImage", value: function RotateShineImage(e, t, n) { e.angle = e.angle + t * n * .001 } }, { key: "ShowPopup", value: function ShowPopup(e, t, n) { this.totalScoreText.setScale(1, 1); var a = n - e * t;
                    this.totalScoreText.text = a, this.backgroundOverlayImage.alpha = 0, this.popupImage.setScale(0, 0), this.successPopupShineImage_1.setScale(0, 0), this.successPopupShineImage_2.setScale(0, 0), this.successTrophyImage.setScale(0, 0), this.homeButton.setScale(0, 0), this.totalScoreText.setScale(0, 0), this.setVisible(!0), this.scoreCountSFXDelay = 1.5, this.homeButtonShowSFXDelay = 3.75, h.Instance.PlaySoundOnLayer("game_sfx_layer", "game_completed_popup_appear"), this.scene.tweens.add({ targets: this.popupImage, scaleX: 1, scaleY: 1, ease: "Elastic.easeOut", easeParams: [1, .5], duration: 1e3, onComplete: null }), this.scene.tweens.add({ delay: 300, targets: [this.successPopupShineImage_1, this.successPopupShineImage_2, this.successTrophyImage], scaleX: 1, scaleY: 1, ease: "Elastic.easeOut", easeParams: [1, .5], duration: 1e3, onComplete: this.TrophyScaleInComplete.bind(this) }), this.scene.tweens.add({ delay: 300, targets: this.totalScoreText, scaleX: 1, scaleY: 1, ease: "Elastic.easeOut", easeParams: [1, .5], duration: 1e3, onComplete: null }), this.scoreCounterTween = this.scene.tweens.addCounter({ delay: 1500, from: a, to: n, ease: "Quart.easeOut", duration: 1500, onComplete: this.ScoreCountUpComplete.bind(this) }), this.scene.tweens.add({ delay: 3750, targets: this.homeButton, scaleX: 1, scaleY: 1, ease: "Elastic.easeOut", easeParams: [1, .5], duration: 1e3, onComplete: null }) } }, { key: "TrophyScaleInComplete", value: function TrophyScaleInComplete() { this.scene.ShowTrophyParticles(!0) } }, { key: "ScoreCountUpComplete", value: function ScoreCountUpComplete() { h.Instance.StopSoundOnLayer("game_sfx_layer", "score_count_up") } }, { key: "HidePopup", value: function HidePopup() { this.setVisible(!1), this.scene.ShowTrophyParticles(!1) } }, { key: "HomeButtonPressed", value: function HomeButtonPressed() { this.scene && (h.Instance.PlaySoundOnLayer("ui_sfx_layer", "ui_restart"), this.clickTimer && this.clickTimer.destroy(), this.clickTimer = this.scene.time.addEvent({ delay: 1e-4, callback: this.scene.ReturnToMainMenu, callbackScope: this.scene })) } }]), GameOverPopup }();

    function PauseOverlay_typeof(e) { return (PauseOverlay_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function _typeof(e) { return typeof e } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }

    function PauseOverlay_defineProperties(e, t) { for (var n = 0; n < t.length; n++) { var a = t[n];
            a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } }

    function PauseOverlay_possibleConstructorReturn(e, t) { return !t || "object" !== PauseOverlay_typeof(t) && "function" != typeof t ? function PauseOverlay_assertThisInitialized(e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(e) : t }

    function PauseOverlay_get(e, t, n) { return (PauseOverlay_get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function _get(e, t, n) { var a = function PauseOverlay_superPropBase(e, t) { for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = PauseOverlay_getPrototypeOf(e));); return e }(e, t); if (a) { var i = Object.getOwnPropertyDescriptor(a, t); return i.get ? i.get.call(n) : i.value } })(e, t, n || e) }

    function PauseOverlay_getPrototypeOf(e) { return (PauseOverlay_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }

    function PauseOverlay_setPrototypeOf(e, t) { return (PauseOverlay_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(e, t) { return e.__proto__ = t, e })(e, t) } var _ = function() {
        function PauseOverlay(e, t, n, a) { var i;! function PauseOverlay_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, PauseOverlay), (i = PauseOverlay_possibleConstructorReturn(this, PauseOverlay_getPrototypeOf(PauseOverlay).call(this, t, n, a))).game = e, i.scene = t, i.backgroundImage = i.scene.add.image(.5 * i.scene.scale.width, .5 * i.scene.scale.height, "game_background"), i.add(i.backgroundImage); var o = i.scene.GetScreenTopLeftPosition().add(new Phaser.Math.Vector2(75 * i.game.gameScale, 75 * i.game.gameScale));
            i.backButton = i.scene.add.image(o.x, o.y, "button_back").setInteractive({ useHandCursor: !0 }).on("pointerup", function() { i.scene.ResumeGameFromPause() }), i.add(i.backButton); var r = i.scene.GetScreenTopRightPosition().add(new Phaser.Math.Vector2(-75 * i.game.gameScale, 75 * i.game.gameScale));
            i.audioButton = i.scene.add.image(r.x, r.y, h.Instance.IsAudioEnabled() ? "button_audio_on" : "button_audio_off").setInteractive({ useHandCursor: !0 }).on("pointerup", function() { i.ToggleAudioButtonPressed() }), i.add(i.audioButton); var s = new Phaser.Math.Vector2(.5 * i.scene.scale.width, .33 * i.scene.scale.height);
            i.restartButton = i.scene.add.image(s.x, s.y, "button_restart_2").setInteractive({ useHandCursor: !0 }).on("pointerup", function() { i.scene.RestartButtonPressed() }), i.add(i.restartButton); var u = new Phaser.Math.Vector2(.5 * i.scene.scale.width, .66 * i.scene.scale.height); return i.quitButton = i.scene.add.image(u.x, u.y, "button_quit").setInteractive({ useHandCursor: !0 }).on("pointerup", function() { i.scene.QuitButtonPressed() }), i.add(i.quitButton), i } return function PauseOverlay_inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && PauseOverlay_setPrototypeOf(e, t) }(PauseOverlay, Phaser.GameObjects.Container),
            function PauseOverlay_createClass(e, t, n) { return t && PauseOverlay_defineProperties(e.prototype, t), n && PauseOverlay_defineProperties(e, n), e }(PauseOverlay, [{ key: "update", value: function update(e, t) { PauseOverlay_get(PauseOverlay_getPrototypeOf(PauseOverlay.prototype), "update", this).call(this, e, t) } }, { key: "Hide", value: function Hide() { this.visible = !1 } }, { key: "Show", value: function Show() { this.visible = !0 } }, { key: "ToggleAudioButtonPressed", value: function ToggleAudioButtonPressed() { h.Instance.IsAudioEnabled() ? (h.Instance.SetAudioEnabled(!1), this.audioButton.setTexture("button_audio_off")) : (h.Instance.SetAudioEnabled(!0), this.audioButton.setTexture("button_audio_on"), h.Instance.PlaySoundOnLayer("ui_sfx_layer", "ui_click")) } }, { key: "Resize", value: function Resize() { var e = this.scene.GetScreenTopLeftPosition().add(new Phaser.Math.Vector2(75 * this.game.gameScale, 75 * this.game.gameScale));
                    this.backButton.setPosition(e.x, e.y); var t = this.scene.GetScreenTopRightPosition().add(new Phaser.Math.Vector2(-75 * this.game.gameScale, 75 * this.game.gameScale));
                    this.audioButton.setPosition(t.x, t.y) } }]), PauseOverlay }();

    function GameScene_typeof(e) { return (GameScene_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function _typeof(e) { return typeof e } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }

    function GameScene_defineProperties(e, t) { for (var n = 0; n < t.length; n++) { var a = t[n];
            a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } }

    function GameScene_possibleConstructorReturn(e, t) { return !t || "object" !== GameScene_typeof(t) && "function" != typeof t ? function GameScene_assertThisInitialized(e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(e) : t }

    function GameScene_get(e, t, n) { return (GameScene_get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function _get(e, t, n) { var a = function GameScene_superPropBase(e, t) { for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = GameScene_getPrototypeOf(e));); return e }(e, t); if (a) { var i = Object.getOwnPropertyDescriptor(a, t); return i.get ? i.get.call(n) : i.value } })(e, t, n || e) }

    function GameScene_getPrototypeOf(e) { return (GameScene_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }

    function GameScene_setPrototypeOf(e, t) { return (GameScene_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(e, t) { return e.__proto__ = t, e })(e, t) } var S = function() {
        function GameScene() { return function GameScene_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, GameScene), GameScene_possibleConstructorReturn(this, GameScene_getPrototypeOf(GameScene).call(this, "GameScene")) } return function GameScene_inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && GameScene_setPrototypeOf(e, t) }(GameScene, r),
            function GameScene_createClass(e, t, n) { return t && GameScene_defineProperties(e.prototype, t), n && GameScene_defineProperties(e, n), e }(GameScene, [{ key: "create", value: function create() { GameScene_get(GameScene_getPrototypeOf(GameScene.prototype), "create", this).call(this), h.Instance.AddLayer("game_sfx_layer", ["click_correct", "click_wrong", "hint", "countdown_3", "countdown_2", "countdown_1", "cards_drop", "cards_split", "cards_rotate", "start", "time_running_out", "puzzle_failed", "puzzle_failed_buttons_appear", "puzzle_beaten", "game_completed_popup_appear", "score_count_up", "multiplier_count_up", "next_button_appear"]), this.config = this.game.cache.json.get("gameData"), this.debugEnabled = this.config.spot_the_difference.debugEnabled, this.totalPuzzleCount = this.config.spot_the_difference.puzzles.length, this.randomisedPuzzleIndexes = []; for (var e = 0; e < this.totalPuzzleCount; e++) this.randomisedPuzzleIndexes[e] = e;
                    GameScene.PuzzleState = Object.freeze({ READY: 0, COUNTDOWN_STARTED: 1, SLIDE_IN_IMAGES: 2, SLIDE_APART_IMAGES: 3, FLIP_IMAGES: 4, PUZZLE_ACTIVE: 5, PUZZLE_PAUSED: 6, PUZZLE_FINISHED: 7 }), this.currentState = GameScene.PuzzleState.READY, this.backgroundImage = this.add.image(.5 * this.scale.width, .5 * this.scale.height, "game_background"), this.backgroundImage.setOrigin(.5), this.debugEnabled && (this.input.keyboard.on("keydown_ESC", this.QuitButtonPressed, this), this.input.keyboard.on("keydown_D", this.SetupAndStartNextPuzzle, this), this.input.keyboard.on("keydown_A", this.SetupAndStartPreviousPuzzle, this), this.input.keyboard.on("keydown_P", this.PauseKeyPressed, this), this.input.keyboard.on("keydown_F", this.TimeBarTimerFinished, this), this.input.keyboard.on("keydown_S", this.UserFinishedActivePuzzle, this), this.input.keyboard.on("keydown_G", this.DebugShowGameOverPopup, this)), this.startPuzzleCountdownTimer = 0, this.startPuzzleCountdownDuration = 3.5, this.countdownState = 4, this.showSuccessPopupDelayDuration = 1, this.showSuccessPopupTimer = 0, this.currentPuzzleIndex = 0, this.baseTappableScore = 100, this.currentScoreMultiplier = 1, this.currentPuzzleScore = 0, this.currentTotalScore = 0, this.hintAvailable = !0, this.hintRevealedTappableIndex = -1, this.CreateGUI(), this.SetupCurrentPuzzle();
                    h.Instance.PlaySoundOnLayer("music_layer", "game_music", { volume: .35, loop: !0 }) } }, { key: "CreateGUI", value: function CreateGUI() { var e = this;
                    this.timeBar = new d(this.game, this, .5 * this.scale.width, 0), this.add.existing(this.timeBar), this.progressDisplay = new g(this.game, this, .5 * this.scale.width, .105 * this.scale.height), this.add.existing(this.progressDisplay), this.debugEnabled && (this.scoreText = this.add.bitmapText(.5 * this.scale.width, .975 * this.scale.height, "fred_burger_font", ""), this.scoreText.setFontSize(16), this.scoreText.setOrigin(.5)), this.countdownImage = this.add.image(.5 * this.scale.width, .5 * this.scale.height, "countdown_3"), this.countdownImage.visible = !1, this.add.existing(this.countdownImage), this.CreateHintParticleSystem(), this.backgroundOverlayImage = this.add.image(.5 * this.scale.width, .5 * this.scale.height, "background_overlay"), this.backgroundOverlayImage.setOrigin(.5), this.backgroundOverlayImage.alpha = 0, this.add.existing(this.backgroundOverlayImage), this.CreateGameOverParticleSystem(), this.successPopup = new y(this.game, this, .5 * this.scale.width, .5 * this.scale.height), this.add.existing(this.successPopup), this.successPopup.HidePopup(), this.failurePopup = new m(this.game, this, .5 * this.scale.width, .5 * this.scale.height), this.add.existing(this.failurePopup), this.failurePopup.HidePopup(), this.gameOverPopup = new P(this.game, this, .5 * this.scale.width, .55 * this.scale.height), this.add.existing(this.gameOverPopup), this.gameOverPopup.HidePopup(), this.CreateTrophyParticleSystem(); var t = this.GetScreenTopLeftPosition().add(new Phaser.Math.Vector2(75 * this.game.gameScale, 75 * this.game.gameScale));
                    this.pauseButton = this.add.image(t.x, t.y, "button_pause").setInteractive({ useHandCursor: !0 }).on("pointerup", function() { e.PauseButtonPressed() }); var n = this.GetScreenTopRightPosition().add(new Phaser.Math.Vector2(-75 * this.game.gameScale, 75 * this.game.gameScale));
                    this.hintButton = this.add.image(n.x, n.y, "button_hint").setInteractive({ useHandCursor: !0 }).on("pointerup", function() { e.HintButtonPressed() }), this.HideHintButton(!1), this.pauseOverlay = new _(this.game, this, 0, 0), this.add.existing(this.pauseOverlay), this.pauseOverlay.Hide() } }, { key: "SetupAndStartNextPuzzle", value: function SetupAndStartNextPuzzle() { this.currentPuzzleIndex++, this.currentPuzzleIndex = Phaser.Math.Clamp(this.currentPuzzleIndex, 0, this.totalPuzzleCount - 1), this.puzzle ? this.puzzle.PlaySlideOutImagesToOffScreen(this.SetupCurrentPuzzle.bind(this)) : this.SetupCurrentPuzzle() } }, { key: "SetupAndStartPreviousPuzzle", value: function SetupAndStartPreviousPuzzle() { this.currentPuzzleIndex--, this.currentPuzzleIndex = Phaser.Math.Clamp(this.currentPuzzleIndex, 0, this.totalPuzzleCount - 1), this.SetupCurrentPuzzle() } }, { key: "SetupCurrentPuzzle", value: function SetupCurrentPuzzle() { this.HideAllPopups(), this.ShowHintParticles(!1), this.ShowTrophyParticles(!1), this.ShowGameOverParticles(!1), this.SetupPuzzle(this.currentPuzzleIndex), this.progressDisplay.SetupDisplay(this.tappablesCount), this.UpdateScoreText(0, this.tappablesCount), this.timeBar.SetFillAmount(1), this.StartCountdownTimer(), this.puzzle.setDepth(1), this.timeBar.setDepth(2), this.progressDisplay.setDepth(3), this.scoreText && this.scoreText.setDepth(3), this.countdownImage.setDepth(3), this.hintParticles.setDepth(4), this.backgroundOverlayImage.setDepth(5), this.gameOverParticle1.setDepth(6), this.gameOverParticle2.setDepth(6), this.successPopup.setDepth(7), this.failurePopup.setDepth(7), this.gameOverPopup.setDepth(7), this.trophyParticles.setDepth(8), this.pauseButton.setDepth(9), this.hintButton.setDepth(9), this.pauseOverlay.setDepth(10) } }, { key: "SetupPuzzle", value: function SetupPuzzle(e) { var t = "game_background_0" + (e % 5 + 1);
                    this.backgroundImage.setTexture(t), this.currentPuzzleDataIndex = this.randomisedPuzzleIndexes[e]; for (var n = this.config.spot_the_difference.puzzles[this.currentPuzzleDataIndex], a = n.tappables, i = [], o = 0; o < a.length; o++) { var r = { image: a[o].assetKey, x: a[o].posX, y: a[o].posY, renderOnLeftImage: a[o].renderOnLeftImage, revealAsset: a[o].revealAsset, revealAssetScale: a[o].revealAssetScale, revealAssetRotation: a[o].revealAssetRotation, revealAssetOffsetX: a[o].revealAssetOffsetX, revealAssetOffsetY: a[o].revealAssetOffsetY };
                        i.push(r) } this.puzzle && this.puzzle.destroy(); var s = n.imageAssetKey;
                    this.puzzle = new f(this.game, this, .5 * this.scale.width, .55 * this.scale.height, s, i), this.add.existing(this.puzzle), this.puzzleDuration = n.duration, this.tappablesCount = a.length, this.currentPuzzleScore = 0, this.hintAvailable = !0, this.pulseHintButtonTimeStamp = .25 * this.puzzleDuration, this.hintButtonPulseActive = !1, this.hintRevealedTappableIndex = -1, this.HideHintButton(!0), this.currentState = GameScene.PuzzleState.READY } }, { key: "StartCountdownTimer", value: function StartCountdownTimer() { this.currentState = GameScene.PuzzleState.COUNTDOWN_STARTED, this.startPuzzleCountdownTimer = this.startPuzzleCountdownDuration, this.countdownState = 4 } }, { key: "StartPuzzle", value: function StartPuzzle(e) { this.timeBar.StartTimer(e), this.countdownImage.visible = !1, this.hintButton.visible = !0, h.Instance.PlaySoundOnLayer("game_sfx_layer", "start"), this.currentState = GameScene.PuzzleState.PUZZLE_ACTIVE } }, { key: "Resize", value: function Resize() { GameScene_get(GameScene_getPrototypeOf(GameScene.prototype), "Resize", this).call(this); var e = this.GetScreenTopLeftPosition().add(new Phaser.Math.Vector2(75 * this.game.gameScale, 75 * this.game.gameScale));
                    this.pauseButton.setPosition(e.x, e.y); var t = this.GetScreenTopRightPosition().add(new Phaser.Math.Vector2(-75 * this.game.gameScale, 75 * this.game.gameScale));
                    this.hintButton.setPosition(t.x, t.y), this.pauseOverlay.Resize() } }, { key: "update", value: function update(e, t) { if (GameScene_get(GameScene_getPrototypeOf(GameScene.prototype), "update", this).call(this, e, t), this.currentState != GameScene.PuzzleState.PUZZLE_PAUSED) { switch (this.puzzle && this.puzzle.update(e, t), this.successPopup && this.successPopup.update(e, t), this.failurePopup && this.failurePopup.update(e, t), this.gameOverPopup && this.gameOverPopup.update(e, t), this.currentState) {
                            case GameScene.PuzzleState.PUZZLE_ACTIVE:
                                this.timeBar && this.timeBar.update(e, t), this.hintAvailable && !this.hintButtonPulseActive && this.timeBar.timer < this.pulseHintButtonTimeStamp && this.PlayPulseHintButton(); break;
                            case GameScene.PuzzleState.PUZZLE_FINISHED:
                                0 < this.showSuccessPopupTimer && (this.showSuccessPopupTimer -= .001 * t, this.showSuccessPopupTimer <= 0 && (this.currentPuzzleIndex < this.totalPuzzleCount - 1 ? this.successPopup && (this.FadeInBackgroundOverlay(), this.successPopup.ShowPopup(this.currentPuzzleScore, this.currentScoreMultiplier - 1, this.currentTotalScore)) : this.gameOverPopup && (this.FadeInBackgroundOverlay(), this.gameOverPopup.ShowPopup(this.currentPuzzleScore, this.currentScoreMultiplier - 1, this.currentTotalScore), this.ShowGameOverParticles(!0)))) } .4 < this.startPuzzleCountdownTimer && (this.startPuzzleCountdownTimer -= .001 * t, this.startPuzzleCountdownTimer <= .4 ? this.currentState == GameScene.PuzzleState.SLIDE_APART_IMAGES && (this.currentState = GameScene.PuzzleState.FLIP_IMAGES, this.puzzle.PlayFlipImages(), this.countdownImage.visible = !1) : this.startPuzzleCountdownTimer <= 1 ? this.currentState == GameScene.PuzzleState.SLIDE_IN_IMAGES && (this.currentState = GameScene.PuzzleState.SLIDE_APART_IMAGES, this.puzzle.PlaySlideApartImages(), 2 == this.countdownState && (this.countdownState = 1, this.PlayCountdownNumberAnimation(this.countdownState))) : this.startPuzzleCountdownTimer <= 2 ? this.currentState == GameScene.PuzzleState.COUNTDOWN_STARTED && (this.currentState = GameScene.PuzzleState.SLIDE_IN_IMAGES, this.puzzle.PlaySlideInImagesFromOffScreen(), 3 == this.countdownState && (this.countdownState = 2, this.PlayCountdownNumberAnimation(this.countdownState))) : this.startPuzzleCountdownTimer <= 3 && 4 == this.countdownState && (this.countdownState = 3, this.PlayCountdownNumberAnimation(this.countdownState))) } } }, { key: "PuzzleImagesRevealed", value: function PuzzleImagesRevealed() { this.StartPuzzle(this.puzzleDuration) } }, { key: "UpdateScoreText", value: function UpdateScoreText(e, t) { this.scoreText && (this.scoreText.text = this.currentPuzzleIndex + 1 + ") Found " + e + "/" + t + " (puzzleIndex = " + this.currentPuzzleDataIndex + ")") } }, { key: "UserFoundTappable", value: function UserFoundTappable() { this.progressDisplay.UserFoundTappable(), h.Instance.PlaySoundOnLayer("game_sfx_layer", "click_correct") } }, { key: "UserTappedNonTappable", value: function UserTappedNonTappable() { this.currentState == GameScene.PuzzleState.PUZZLE_ACTIVE && (this.timeBar.RemoveRatioOfTimeBar(.1), h.Instance.PlaySoundOnLayer("game_sfx_layer", "click_wrong")) } }, { key: "TimeBarTimerFinished", value: function TimeBarTimerFinished() { this.failurePopup && (this.FadeInBackgroundOverlay(), this.failurePopup.ShowPopup(this.currentScoreMultiplier)), this.progressDisplay.ShowCrossesForUnfoundTappables(), this.puzzle.PlaySlideOutImagesToOffScreen(), this.HideHintButton(!0), this.ShowHintParticles(!1), this.currentState = GameScene.PuzzleState.PUZZLE_FINISHED, this.ResetScoreMultiplier(), h.Instance.PlaySoundOnLayer("game_sfx_layer", "puzzle_failed") } }, { key: "UserFinishedActivePuzzle", value: function UserFinishedActivePuzzle() { this.showSuccessPopupTimer = this.showSuccessPopupDelayDuration, this.timeBar && this.timeBar.StopTimer(), this.HideHintButton(!0), this.currentState = GameScene.PuzzleState.PUZZLE_FINISHED, this.AddToTotalScore(this.currentPuzzleScore * this.currentScoreMultiplier), this.IncreaseScoreMultiplier() } }, { key: "DebugShowGameOverPopup", value: function DebugShowGameOverPopup() { this.showSuccessPopupTimer = this.showSuccessPopupDelayDuration, this.timeBar && this.timeBar.StopTimer(), this.HideHintButton(!0), this.currentState = GameScene.PuzzleState.PUZZLE_FINISHED, this.AddToTotalScore(this.currentPuzzleScore * this.currentScoreMultiplier), this.IncreaseScoreMultiplier(), this.currentPuzzleIndex = this.totalPuzzleCount - 1 } }, { key: "HideAllPopups", value: function HideAllPopups() { this.successPopup && this.successPopup.HidePopup(), this.failurePopup && this.failurePopup.HidePopup(), this.gameOverPopup && this.gameOverPopup.HidePopup(), this.HideBackgroundOverlay() } }, { key: "QuitButtonPressed", value: function QuitButtonPressed() { this.clickTimer && this.clickTimer.destroy(), this.clickTimer = this.time.addEvent({ delay: 1e-4, callback: this.ReturnToMainMenu, callbackScope: this }), h.Instance.PlaySoundOnLayer("ui_sfx_layer", "ui_quit") } }, { key: "ReturnToMainMenu", value: function ReturnToMainMenu() { h.Instance.StopSoundOnLayer("music_layer", "game_music"), i.Instance.StartLoadingScene(s, v) } }, { key: "RestartButtonPressed", value: function RestartButtonPressed() { h.Instance.PlaySoundOnLayer("ui_sfx_layer", "ui_restart"), this.pauseOverlay.Hide(), this.pauseButton.visible = !0, this.SetupCurrentPuzzle() } }, { key: "PauseButtonPressed", value: function PauseButtonPressed() { h.Instance.PlaySoundOnLayer("ui_sfx_layer", "ui_click"), this.stateBeforePause = this.currentState, this.currentState = GameScene.PuzzleState.PUZZLE_PAUSED, this.pauseOverlay.Show(), this.pauseButton.visible = !1, this.HideHintButton(!1), this.tweens.pauseAll() } }, { key: "ResumeGameFromPause", value: function ResumeGameFromPause() { h.Instance.PlaySoundOnLayer("ui_sfx_layer", "ui_click"), this.pauseOverlay.Hide(), this.currentState = this.stateBeforePause, this.pauseButton.visible = !0, this.currentState == GameScene.PuzzleState.PUZZLE_ACTIVE ? this.hintButton.visible = this.hintAvailable : this.HideHintButton(!0), this.tweens.resumeAll() } }, { key: "PlayPulseHintButton", value: function PlayPulseHintButton() { this.pulseHintButtonTween = this.tweens.add({ targets: this.hintButton, scaleX: 1.25, scaleY: 1.25, ease: "Quad.easeInOut", duration: 400, yoyo: !0, repeat: -1 }), this.hintButtonPulseActive = !0 } }, { key: "HideHintButton", value: function HideHintButton(e) { e && this.pulseHintButtonTween && (this.pulseHintButtonTween.stop(), this.hintButton.setScale(1, 1)), this.hintButton.visible = !1 } }, { key: "HintButtonPressed", value: function HintButtonPressed() { if (this.hintAvailable) { h.Instance.PlaySoundOnLayer("game_sfx_layer", "hint"), this.hintAvailable = !1, this.HideHintButton(!0), this.hintRevealedTappableIndex = this.puzzle.GetRandomUnfoundTappableIndex(); var e = this.puzzle.puzzleImageLeft.GetTappableImagePosition(this.hintRevealedTappableIndex),
                            t = this.puzzle.puzzleImageRight.GetTappableImagePosition(this.hintRevealedTappableIndex);
                        this.ShowHintParticles(!0, e, t) } } }, { key: "PauseKeyPressed", value: function PauseKeyPressed() { this.currentState != GameScene.PuzzleState.PUZZLE_PAUSED ? (this.cachedPausedState = this.currentState, this.currentState = GameScene.PuzzleState.PUZZLE_PAUSED, this.tweens.pauseAll()) : (this.currentState = this.cachedPausedState, this.tweens.resumeAll()) } }, { key: "IsPuzzleTimerActive", value: function IsPuzzleTimerActive() { return this.currentState == GameScene.PuzzleState.PUZZLE_ACTIVE } }, { key: "PlayCountdownNumberAnimation", value: function PlayCountdownNumberAnimation(e) { var t = "countdown_" + e;
                    this.countdownImage.setTexture(t), this.countdownImage.setScale(0, 0), this.countdownImage.visible = !0, this.tweens.add({ targets: this.countdownImage, scaleX: 1, scaleY: 1, ease: "Elastic.easeOut", easeParams: [1, .5], duration: 500 }), h.Instance.PlaySoundOnLayer("game_sfx_layer", "countdown_" + e) } }, { key: "GetScoreForTappable", value: function GetScoreForTappable() { return this.baseTappableScore * this.currentScoreMultiplier } }, { key: "AddToCurrentPuzzleScore", value: function AddToCurrentPuzzleScore(e) { this.currentPuzzleScore += e } }, { key: "GetPuzzleScore", value: function GetPuzzleScore() { return this.currentPuzzleScore } }, { key: "AddToTotalScore", value: function AddToTotalScore(e) { this.currentTotalScore += e } }, { key: "GetTotalScore", value: function GetTotalScore() { return this.currentTotalScore } }, { key: "IncreaseScoreMultiplier", value: function IncreaseScoreMultiplier() { this.currentScoreMultiplier++ } }, { key: "ResetScoreMultiplier", value: function ResetScoreMultiplier() { this.currentScoreMultiplier = 1 } }, { key: "CreateHintParticleSystem", value: function CreateHintParticleSystem() { var e = new Phaser.Geom.Circle(0, 0, 75);
                    this.hintParticles = this.add.particles("star_01"), this.hintParticleEmitterLeft = this.hintParticles.createEmitter({ frequency: 100, lifespan: 1e3, gravityY: 0, scale: { start: 0, end: .5, ease: "Quad.easeOut" }, alpha: { start: 1, end: 0, ease: "Quad.easeOut" }, rotate: { min: 180, max: 360 }, blendMode: "ADD", tint: [16777215, 16771678], emitZone: { type: "random", source: e } }), this.hintParticleEmitterLeft.setSpeed(50), this.hintParticleEmitterLeft.setBlendMode(Phaser.BlendModes.ADD), this.hintParticleEmitterRight = this.hintParticles.createEmitter({ frequency: 100, lifespan: 1e3, gravityY: 0, scale: { start: 0, end: .5, ease: "Quad.easeOut" }, alpha: { start: 1, end: 0, ease: "Quad.easeOut" }, rotate: { min: 180, max: 360 }, blendMode: "ADD", tint: [16777215, 16771678], emitZone: { type: "random", source: e } }), this.hintParticleEmitterRight.setSpeed(50), this.hintParticleEmitterRight.setBlendMode(Phaser.BlendModes.ADD), this.ShowHintParticles(!1) } }, { key: "CreateTrophyParticleSystem", value: function CreateTrophyParticleSystem() { var i = this.textures,
                        o = this.successPopup.successTrophyImage.getTopLeft(void 0, !0),
                        e = { getRandomPoint: function(e) { do { var t = Phaser.Math.Between(0, this.successPopup.successTrophyImage.width - 1),
                                        n = Phaser.Math.Between(0, this.successPopup.successTrophyImage.height - 1),
                                        a = i.getPixel(t, n, "success_trophy") } while (a.alpha < 255); return e.setTo(t + o.x, n + o.y) }.bind(this) };
                    this.trophyParticles = this.add.particles("star_01"), this.trophyParticleEmitter = this.trophyParticles.createEmitter({ x: 0, y: 0, lifespan: 1e3, gravityY: 0, scale: { start: 0, end: .25, ease: "Quad.easeOut" }, alpha: { start: 1, end: 0, ease: "Quad.easeOut" }, blendMode: "ADD", emitZone: { type: "random", source: e } }), this.ShowTrophyParticles(!1) } }, { key: "CreateGameOverParticleSystem", value: function CreateGameOverParticleSystem() { for (var e = 220 * this.game.gameScale, t = new Phaser.Math.Vector2(.5 * this.scale.width - e, .75 * this.scale.height), n = new Phaser.Math.Vector2(.5 * this.scale.width - e, .15 * this.scale.height), a = new Phaser.Math.Vector2(.5 * this.scale.width + e, .15 * this.scale.height), i = new Phaser.Math.Vector2(.5 * this.scale.width + e, .75 * this.scale.height), o = new Phaser.Curves.CubicBezier(t, n, a, i), r = [], s = [], u = 0; u <= 28; u++) { var l = o.getUtoTmapping(u / 28);
                        r.push(o.getPoint(l)), s.push(o.getTangent(l)) } var c = new Phaser.Math.Vector2;
                    this.gameOverParticle1 = this.add.particles("star_01"), this.gameOverParticle2 = this.add.particles("star_02"), this.gameOverParticleEmitters = []; for (var p = 0; p < r.length; p++) { var h = r[p];
                        c.copy(s[p]).normalizeRightHand().scale(-32).add(h); var f = Phaser.Math.RadToDeg(Phaser.Math.Angle.BetweenPoints(h, c)),
                            d = (p % 2 == 0 ? this.gameOverParticle1 : this.gameOverParticle2).createEmitter({ x: c.x, y: c.y, angle: f, speed: { min: -100, max: 500 }, gravityY: 200, scale: { start: .4, end: .1 }, lifespan: 800, blendMode: "SCREEN", on: !1 });
                        this.gameOverParticleEmitters.push(d) } this.ShowGameOverParticles(!1) } }, { key: "ShowHintParticles", value: function ShowHintParticles(e, t, n) { this.hintParticleEmitterLeft && this.hintParticleEmitterRight && (this.hintParticleEmitterLeft.on = e, (this.hintParticleEmitterRight.on = e) && (this.hintParticleEmitterLeft.setPosition(t.x, t.y), this.hintParticleEmitterRight.setPosition(n.x, n.y))) } }, { key: "ShowTrophyParticles", value: function ShowTrophyParticles(e) { this.trophyParticleEmitter && (this.trophyParticleEmitter.on = e, this.successPopup.visible ? this.trophyParticleEmitter.setPosition(0, 0) : this.gameOverPopup.visible && this.trophyParticleEmitter.setPosition(0, .05 * this.scale.height), e || this.trophyParticleEmitter.killAll()) } }, { key: "ShowGameOverParticles", value: function ShowGameOverParticles(e) { if (this.gameOverParticleEmitters)
                        for (var t = 0; t < this.gameOverParticleEmitters.length; t++) this.gameOverParticleEmitters[t].on = e } }, { key: "FadeInBackgroundOverlay", value: function FadeInBackgroundOverlay() { this.backgroundOverlayImage.alpha = 0, this.backgroundOverlayImage.visible = !0, this.tweens.add({ targets: this.backgroundOverlayImage, ease: "Linear", alpha: .5, duration: 200, onComplete: null }) } }, { key: "HideBackgroundOverlay", value: function HideBackgroundOverlay() { this.backgroundOverlayImage.visible = !1 } }, { key: "UpdateGameStateDebugText", value: function UpdateGameStateDebugText() { var e = ""; for (var t in GameScene.PuzzleState) GameScene.PuzzleState[t] == this.currentState && (e = t);
                    this.stateDebugText.text = "Game State: " + e } }, { key: "Destroy", value: function Destroy() { GameScene_get(GameScene_getPrototypeOf(GameScene.prototype), "Destroy", this).call(this), h.Instance.DestroyLayer("game_sfx_layer") } }]), GameScene }();

    function InformationOverlay_typeof(e) { return (InformationOverlay_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function _typeof(e) { return typeof e } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }

    function InformationOverlay_defineProperties(e, t) { for (var n = 0; n < t.length; n++) { var a = t[n];
            a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } }

    function InformationOverlay_possibleConstructorReturn(e, t) { return !t || "object" !== InformationOverlay_typeof(t) && "function" != typeof t ? function InformationOverlay_assertThisInitialized(e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(e) : t }

    function InformationOverlay_get(e, t, n) { return (InformationOverlay_get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function _get(e, t, n) { var a = function InformationOverlay_superPropBase(e, t) { for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = InformationOverlay_getPrototypeOf(e));); return e }(e, t); if (a) { var i = Object.getOwnPropertyDescriptor(a, t); return i.get ? i.get.call(n) : i.value } })(e, t, n || e) }

    function InformationOverlay_getPrototypeOf(e) { return (InformationOverlay_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }

    function InformationOverlay_setPrototypeOf(e, t) { return (InformationOverlay_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(e, t) { return e.__proto__ = t, e })(e, t) } var b = function() {
        function InformationOverlay(e, t, n, a) { var i;! function InformationOverlay_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, InformationOverlay), (i = InformationOverlay_possibleConstructorReturn(this, InformationOverlay_getPrototypeOf(InformationOverlay).call(this, t, n, a))).game = e, i.scene = t; var o = i.game.cache.json.get("localisationData"),
                r = i.game.cache.json.get("gameData"),
                s = r.spot_the_difference.version,
                u = r.spot_the_difference.language,
                l = o.produced_for[u],
                c = o.created_by[u];
            i.backgroundImage = i.scene.add.image(.5 * i.scene.scale.width, .5 * i.scene.scale.height, "game_background"), i.add(i.backgroundImage), i.backgroundImage.setInteractive(), i.producedForText = i.scene.add.text(.5 * i.scene.scale.width, .15 * i.scene.scale.height, l, { fontFamily: '"FredBurger Black"', fontSize: "50px", color: "#000000" }), i.producedForText.setFontSize(32), i.producedForText.setOrigin(.5, .5), i.add(i.producedForText), i.boomerangLogo = i.scene.add.image(.5 * i.scene.scale.width, .35 * i.scene.scale.height, "brand_logo"), i.boomerangLogo.setOrigin(.5, .5), i.add(i.boomerangLogo), i.createdByText = i.scene.add.text(.5 * i.scene.scale.width, .575 * i.scene.scale.height, c, { fontFamily: '"FredBurger Black"', fontSize: "50px", color: "#000000" }), i.createdByText.setFontSize(32), i.createdByText.setOrigin(.5, .5), i.add(i.createdByText), i.mobilePieLogo = i.scene.add.image(.5 * i.scene.scale.width, .75 * i.scene.scale.height, "mobile_pie_logo"), i.mobilePieLogo.setOrigin(.5, .5), i.add(i.mobilePieLogo), i.versionText = i.scene.add.text(.5 * i.scene.scale.width, .95 * i.scene.scale.height, "v" + s, { fontFamily: '"FredBurger Black"', fontSize: "50px", color: "#000000" }), i.versionText.setFontSize(16), i.versionText.setOrigin(.5, .5), i.add(i.versionText); var p = i.scene.GetScreenTopLeftPosition().add(new Phaser.Math.Vector2(75 * i.game.gameScale, 75 * i.game.gameScale)); return i.backButton = i.scene.add.image(p.x, p.y, "button_back").setInteractive({ useHandCursor: !0 }).on("pointerup", function() { i.scene.InfoBackButtonPressed() }), i.add(i.backButton), i } return function InformationOverlay_inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && InformationOverlay_setPrototypeOf(e, t) }(InformationOverlay, Phaser.GameObjects.Container),
            function InformationOverlay_createClass(e, t, n) { return t && InformationOverlay_defineProperties(e.prototype, t), n && InformationOverlay_defineProperties(e, n), e }(InformationOverlay, [{ key: "Resize", value: function Resize() { var e = this.scene.GetScreenTopLeftPosition().add(new Phaser.Math.Vector2(75 * this.game.gameScale, 75 * this.game.gameScale));
                    this.backButton.setPosition(e.x, e.y) } }, { key: "update", value: function update(e, t) { InformationOverlay_get(InformationOverlay_getPrototypeOf(InformationOverlay.prototype), "update", this).call(this, e, t) } }, { key: "Hide", value: function Hide() { this.visible = !1 } }, { key: "Show", value: function Show() { this.visible = !0 } }]), InformationOverlay }();

    function MainMenuScene_typeof(e) { return (MainMenuScene_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function _typeof(e) { return typeof e } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }

    function MainMenuScene_defineProperties(e, t) { for (var n = 0; n < t.length; n++) { var a = t[n];
            a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } }

    function MainMenuScene_possibleConstructorReturn(e, t) { return !t || "object" !== MainMenuScene_typeof(t) && "function" != typeof t ? function MainMenuScene_assertThisInitialized(e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(e) : t }

    function MainMenuScene_get(e, t, n) { return (MainMenuScene_get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function _get(e, t, n) { var a = function MainMenuScene_superPropBase(e, t) { for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = MainMenuScene_getPrototypeOf(e));); return e }(e, t); if (a) { var i = Object.getOwnPropertyDescriptor(a, t); return i.get ? i.get.call(n) : i.value } })(e, t, n || e) }

    function MainMenuScene_getPrototypeOf(e) { return (MainMenuScene_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }

    function MainMenuScene_setPrototypeOf(e, t) { return (MainMenuScene_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(e, t) { return e.__proto__ = t, e })(e, t) } var v = function() {
        function MainMenuScene() { return function MainMenuScene_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, MainMenuScene), MainMenuScene_possibleConstructorReturn(this, MainMenuScene_getPrototypeOf(MainMenuScene).call(this, "MainMenuScene")) } return function MainMenuScene_inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && MainMenuScene_setPrototypeOf(e, t) }(MainMenuScene, r),
            function MainMenuScene_createClass(e, t, n) { return t && MainMenuScene_defineProperties(e.prototype, t), n && MainMenuScene_defineProperties(e, n), e }(MainMenuScene, [{ key: "create", value: function create() { var e = this;
                    MainMenuScene_get(MainMenuScene_getPrototypeOf(MainMenuScene.prototype), "create", this).call(this), this.background = this.add.image(.5 * this.scale.width, .5 * this.scale.height, "main_menu_background"), this.background.setOrigin(.5), this.brandLogo = this.add.image(.5 * this.scale.width + 300 * this.game.gameScale, .175 * this.scale.height, "brand_logo"), this.brandLogo.setOrigin(.5), this.brandLogo.setScale(.57), this.spotTheDifferenceLogo = this.add.image(.5 * this.scale.width + 300 * this.game.gameScale, .44 * this.scale.height, "spot_the_difference_logo"), this.spotTheDifferenceLogo.setOrigin(.5), h.Instance.AddLayer("ui_sfx_layer", ["ui_play", "ui_quit", "ui_restart", "ui_click"]), h.Instance.AddLayer("music_layer", ["menu_music", "game_music"]);
                    h.Instance.PlaySoundOnLayer("music_layer", "menu_music", { volume: .35, loop: !0 }), this.playButton = this.add.image(.5 * this.scale.width + 300 * this.game.gameScale, .75 * this.scale.height, "button_start").setInteractive({ useHandCursor: !0 }).on("pointerup", function() { e.clickTimer && e.clickTimer.destroy(), e.clickTimer = e.time.addEvent({ delay: 1e-4, callback: e.PlayButtonPressed, callbackScope: e }) }); var t = this.GetScreenTopLeftPosition().add(new Phaser.Math.Vector2(75 * this.game.gameScale, 75 * this.game.gameScale));
                    this.audioButton = this.add.image(t.x, t.y, h.Instance.IsAudioEnabled() ? "button_audio_on" : "button_audio_off").setInteractive({ useHandCursor: !0 }).on("pointerup", function() { e.ToggleAudioButtonPressed() }); var n = this.GetScreenTopLeftPosition().add(new Phaser.Math.Vector2(210 * this.game.gameScale, 75 * this.game.gameScale));
                    this.infoButton = this.add.image(n.x, n.y, "button_information").setInteractive({ useHandCursor: !0 }).on("pointerup", function() { e.InfoButtonPressed() }), this.infoOverlay = new b(this.game, this, 0, 0), this.add.existing(this.infoOverlay), this.infoOverlay.Hide() } }, { key: "Resize", value: function Resize() { MainMenuScene_get(MainMenuScene_getPrototypeOf(MainMenuScene.prototype), "Resize", this).call(this); var e = this.GetScreenTopLeftPosition().add(new Phaser.Math.Vector2(75 * this.game.gameScale, 75 * this.game.gameScale));
                    this.audioButton.setPosition(e.x, e.y); var t = this.GetScreenTopLeftPosition().add(new Phaser.Math.Vector2(210 * this.game.gameScale, 75 * this.game.gameScale));
                    this.infoButton.setPosition(t.x, t.y), this.infoOverlay.Resize() } }, { key: "PlayButtonPressed", value: function PlayButtonPressed() { h.Instance.PlaySoundOnLayer("ui_sfx_layer", "ui_play"), i.Instance.StartLoadingScene(s, S), L.Instance.deviceManager.android && this.scale.startFullscreen(), h.Instance.StopSoundOnLayer("music_layer", "menu_music") } }, { key: "ToggleAudioButtonPressed", value: function ToggleAudioButtonPressed() { h.Instance.IsAudioEnabled() ? (h.Instance.SetAudioEnabled(!1), this.audioButton.setTexture("button_audio_off")) : (h.Instance.SetAudioEnabled(!0), this.audioButton.setTexture("button_audio_on"), h.Instance.PlaySoundOnLayer("ui_sfx_layer", "ui_click")) } }, { key: "InfoButtonPressed", value: function InfoButtonPressed() { this.infoOverlay.Show(), h.Instance.PlaySoundOnLayer("ui_sfx_layer", "ui_click") } }, { key: "InfoBackButtonPressed", value: function InfoBackButtonPressed() { this.infoOverlay.Hide(), h.Instance.PlaySoundOnLayer("ui_sfx_layer", "ui_click") } }, { key: "update", value: function update(e, t) { MainMenuScene_get(MainMenuScene_getPrototypeOf(MainMenuScene.prototype), "update", this).call(this, e, t) } }, { key: "render", value: function render() { MainMenuScene_get(MainMenuScene_getPrototypeOf(MainMenuScene.prototype), "render", this).call(this, time, delta) } }, { key: "Destroy", value: function Destroy() { MainMenuScene_get(MainMenuScene_getPrototypeOf(MainMenuScene.prototype), "Destroy", this).call(this) } }]), MainMenuScene }();

    function Boot_typeof(e) { return (Boot_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function _typeof(e) { return typeof e } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }

    function Boot_defineProperties(e, t) { for (var n = 0; n < t.length; n++) { var a = t[n];
            a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } }

    function Boot_possibleConstructorReturn(e, t) { return !t || "object" !== Boot_typeof(t) && "function" != typeof t ? function Boot_assertThisInitialized(e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(e) : t }

    function Boot_get(e, t, n) { return (Boot_get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function _get(e, t, n) { var a = function Boot_superPropBase(e, t) { for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = Boot_getPrototypeOf(e));); return e }(e, t); if (a) { var i = Object.getOwnPropertyDescriptor(a, t); return i.get ? i.get.call(n) : i.value } })(e, t, n || e) }

    function Boot_getPrototypeOf(e) { return (Boot_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }

    function Boot_setPrototypeOf(e, t) { return (Boot_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(e, t) { return e.__proto__ = t, e })(e, t) } var O = function() {
        function Boot() { var e; return function Boot_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, Boot), (e = Boot_possibleConstructorReturn(this, Boot_getPrototypeOf(Boot).call(this, "Boot"))).loading = !1, e } return function Boot_inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && Boot_setPrototypeOf(e, t) }(Boot, r),
            function Boot_createClass(e, t, n) { return t && Boot_defineProperties(e.prototype, t), n && Boot_defineProperties(e, n), e }(Boot, [{ key: "init", value: function init() { Boot_get(Boot_getPrototypeOf(Boot.prototype), "init", this).call(this) } }, { key: "preload", value: function preload() { Boot_get(Boot_getPrototypeOf(Boot.prototype), "preload", this).call(this); var e = "spot_the_difference_logo_" + this.game.cache.json.get("gameData").spot_the_difference.language + ".png"; switch (this.load.image("main_menu_background", a.GetAssetURL() + "images/main_menu/main_menu_background.jpg"), this.load.image("brand_logo", a.GetAssetURL() + "images/main_menu/brand_logo.png"), this.load.image("spot_the_difference_logo", a.GetAssetURL() + "images/main_menu/" + e), this.load.image("load_bar_background", a.GetAssetURL() + "images/ui/loader/load_bar_background.png"), this.load.image("load_bar_fill", a.GetAssetURL() + "images/ui/loader/load_bar_fill.png"), this.load.image("load_bar_overlay", a.GetAssetURL() + "images/ui/loader/load_bar_overlay.png"), this.game.cache.json.get("gameData").spot_the_difference.language) {
                        case "ar":
                            this.load.rexWebFont({ custom: { families: ["FredBurger Black"], urls: [a.GetAssetURL() + "fonts/fredburger_arabic.css"] } }); break;
                        default:
                            this.load.rexWebFont({ custom: { families: ["FredBurger Black"], urls: [a.GetAssetURL() + "fonts/fredburger.css"] } }) } this.load.setPath(a.GetAssetURL() + "spines/ident/"), this.load.spine("boomerang_ident_spine", "boomerang_ident.json", "boomerang_ident.atlas") } }, { key: "create", value: function create() { Boot_get(Boot_getPrototypeOf(Boot.prototype), "create", this).call(this), this.identSpine = this.add.spine(.5 * this.scale.width, .5 * this.scale.height, "boomerang_ident_spine", "animation", !1), this.identSpineTimer = 1 } }, { key: "update", value: function update(e, t) { Boot_get(Boot_getPrototypeOf(Boot.prototype), "update", this).call(this, e, t), 0 < this.identSpineTimer && (this.identSpineTimer -= .001 * t, this.identSpineTimer <= 0 && i.Instance.StartLoadingScene(s, v)) } }]), Boot }();

    function InitialScene_typeof(e) { return (InitialScene_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function _typeof(e) { return typeof e } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }

    function InitialScene_defineProperties(e, t) { for (var n = 0; n < t.length; n++) { var a = t[n];
            a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } }

    function InitialScene_possibleConstructorReturn(e, t) { return !t || "object" !== InitialScene_typeof(t) && "function" != typeof t ? function InitialScene_assertThisInitialized(e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(e) : t }

    function InitialScene_get(e, t, n) { return (InitialScene_get = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function _get(e, t, n) { var a = function InitialScene_superPropBase(e, t) { for (; !Object.prototype.hasOwnProperty.call(e, t) && null !== (e = InitialScene_getPrototypeOf(e));); return e }(e, t); if (a) { var i = Object.getOwnPropertyDescriptor(a, t); return i.get ? i.get.call(n) : i.value } })(e, t, n || e) }

    function InitialScene_getPrototypeOf(e) { return (InitialScene_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }

    function InitialScene_setPrototypeOf(e, t) { return (InitialScene_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(e, t) { return e.__proto__ = t, e })(e, t) } var w = function() {
        function InitialScene() { var e; return function InitialScene_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, InitialScene), (e = InitialScene_possibleConstructorReturn(this, InitialScene_getPrototypeOf(InitialScene).call(this, "InitialScene"))).loading = !1, e } return function InitialScene_inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && InitialScene_setPrototypeOf(e, t) }(InitialScene, r),
            function InitialScene_createClass(e, t, n) { return t && InitialScene_defineProperties(e.prototype, t), n && InitialScene_defineProperties(e, n), e }(InitialScene, [{ key: "init", value: function init() { InitialScene_get(InitialScene_getPrototypeOf(InitialScene.prototype), "init", this).call(this) } }, { key: "preload", value: function preload() { InitialScene_get(InitialScene_getPrototypeOf(InitialScene.prototype), "preload", this).call(this), this.load.json("localisationData", a.GetAssetURL() + "data/spot_the_difference_localisation.json"), this.load.json("gameData", a.GetAssetURL() + "data/game_data.json"), this.game.renderer.type == Phaser.WEBGL ? this.load.scenePlugin("SpineWebGLPlugin", a.GetServerURL() + "lib/plugins/SpineWebGLPlugin.js") : this.game.renderer.type == Phaser.CANVAS && this.load.scenePlugin("SpineCanvasPlugin", a.GetServerURL() + "lib/plugins/SpineCanvasPlugin.js") } }, { key: "create", value: function create() { InitialScene_get(InitialScene_getPrototypeOf(InitialScene.prototype), "create", this).call(this), this.targetAR = window.innerWidth / window.innerHeight, this.fallbackTimer = .5 } }, { key: "update", value: function update(e, t) { if (InitialScene_get(InitialScene_getPrototypeOf(InitialScene.prototype), "update", this).call(this, e, t), !this.loading) { var n = this.game.scale.parentSize.aspectRatio; if (!(Math.abs(this.targetAR - n) < .01)) return this.fallbackTimer -= .001 * t, void(this.fallbackTimer <= 0 && this.TransitionToBootScene());
                        this.TransitionToBootScene() } } }, { key: "TransitionToBootScene", value: function TransitionToBootScene() { this.loading = !0, i.Instance.StartScene(O) } }]), InitialScene }();

    function MPGame_typeof(e) { return (MPGame_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function _typeof(e) { return typeof e } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }

    function MPGame_possibleConstructorReturn(e, t) { return !t || "object" !== MPGame_typeof(t) && "function" != typeof t ? function MPGame_assertThisInitialized(e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(e) : t }

    function MPGame_getPrototypeOf(e) { return (MPGame_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }

    function MPGame_setPrototypeOf(e, t) { return (MPGame_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(e, t) { return e.__proto__ = t, e })(e, t) } var I = function() {
        function MPGame(e) { var t; return function MPGame_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, MPGame), (t = MPGame_possibleConstructorReturn(this, MPGame_getPrototypeOf(MPGame).call(this, e))).gameScale = e.gameScale, t } return function MPGame_inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
            e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && MPGame_setPrototypeOf(e, t) }(MPGame, Phaser.Game), MPGame }();

    function Brim_defineProperties(e, t) { for (var n = 0; n < t.length; n++) { var a = t[n];
            a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } } var z = function() {
        function Brim(e, t) { if (! function Brim_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, Brim), this.visible = !1, e) { var n = this.GetSpec();
                n && (this.height = n[0], window.addEventListener("resize", this.OnResize.bind(this)), this.brimElement = document.createElement("div"), this.brimElement.id = "brim", t.appendChild(this.brimElement), this.OnResize()) } } return function Brim_createClass(e, t, n) { return t && Brim_defineProperties(e.prototype, t), n && Brim_defineProperties(e, n), e }(Brim, [{ key: "GetSpec", value: function GetSpec() { for (var e = [
                        [320, 480, 2, "iPhone 4"],
                        [320, 568, 2, "iPhone 5 or 5s"],
                        [375, 667, 2, "iPhone 6"],
                        [414, 736, 3, "iPhone 6 plus"]
                    ], t = 0; t < e.length; t++) { var n = e[t]; if (window.screen.height == n[0] && window.screen.width == n[1] || window.screen.width == n[0] && window.screen.height == n[1]) return n } return [Math.min(window.screen.height, window.screen.width), Math.max(window.screen.height, window.screen.width), 3, "Unknown device"] } }, { key: "ShowBrim", value: function ShowBrim() { this.visible = !0, this.brimElement.style.visibility = "visible", this.brimElement.style.height = "999999px", this.brimElement.style.pointerEvents = "all" } }, { key: "ShowGame", value: function ShowGame() { this.visible = !1, this.brimElement.style.visibility = "hidden", this.brimElement.style.height = this.height + 1 + "px", this.brimElement.style.pointerEvents = "none" } }, { key: "OnResize", value: function OnResize() { window.innerHeight > window.innerWidth || window.innerHeight == this.height ? this.ShowGame() : this.ShowBrim(), window.scrollTo(0, 0) } }]), Brim }();

    function DeviceManager_defineProperties(e, t) { for (var n = 0; n < t.length; n++) { var a = t[n];
            a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } } var T = function() {
        function DeviceManager() {! function DeviceManager_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, DeviceManager), this.kindle = /Kindle/i.test(platform.ua) || /Silk/i.test(platform.ua), this.iOS = "iOS" == platform.os.family, this.android = "Android" == platform.os.family, this.iphone = "iPhone" == platform.product, this.ipad = "iPad" == platform.product, this.ipad2 = this.IsIpad2(), this.mobile = this.iOS || this.android || this.kindle, this.desktop = !this.mobile, this.isWKWebView = this.IsWKWebView(), this.displayBrim = this.ShouldDisplayBrim(), this.renderMode = Phaser.WEBGL } return function DeviceManager_createClass(e, t, n) { return t && DeviceManager_defineProperties(e.prototype, t), n && DeviceManager_defineProperties(e, n), e }(DeviceManager, [{ key: "IsIpad2", value: function IsIpad2() { return "iPad" == platform.product && 1 === window.devicePixelRatio && (768 === window.screen.height && 1024 === window.screen.width || 1024 === window.screen.height && 768 === window.screen.width) } }, { key: "IsWKWebView", value: function IsWKWebView() { return !(!window.webkit || !window.webkit.messageHandlers) } }, { key: "ShouldDisplayBrim", value: function ShouldDisplayBrim() { return "iPad" != platform.product && !this.isWKWebView && ("iOS" == platform.os.family && 8 < parseInt(platform.os.version, 10) || -1 != platform.ua.indexOf("like Mac OS X")) && "standalone" in window.navigator && !window.navigator.standalone } }]), DeviceManager }();

    function DeviceOrientationChecker_defineProperties(e, t) { for (var n = 0; n < t.length; n++) { var a = t[n];
            a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } } var k = function() {
        function DeviceOrientationChecker() {! function DeviceOrientationChecker_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, DeviceOrientationChecker), this.isValidOrientation = !1, this.rotateElement = document.createElement("div"), this.rotateElement.id = "rotate-screen", this.rotateElement.className = "hidden", this.rotateElement.style.textIndent = "-100%", this.rotateElement.innerHTML = "please rotate your device", a.GetRootElement().appendChild(this.rotateElement), this.onValidOrientation = null, window.addEventListener("resize", this.OnResize.bind(this)), window.addEventListener("orientationchange", this.CheckOrientation.bind(this)) } return function DeviceOrientationChecker_createClass(e, t, n) { return t && DeviceOrientationChecker_defineProperties(e.prototype, t), n && DeviceOrientationChecker_defineProperties(e, n), e }(DeviceOrientationChecker, [{ key: "CheckOrientation", value: function CheckOrientation() { var e = this.isValidOrientation;
                this.isValidOrientation = window.innerWidth > window.innerHeight, this.rotateElement.className = this.isValidOrientation ? "hidden" : "visible", this.isValidOrientation && this.onValidOrientation && this.onValidOrientation.call(), e != this.isValidOrientation && (this.isValidOrientation ? L.Instance.Resume() : L.Instance.Pause()) } }, { key: "OnResize", value: function OnResize() { setTimeout(function() { L.Instance.deviceOrientationChecker.Resize() }, 50) } }, { key: "Resize", value: function Resize() { var e = window.innerWidth,
                    t = window.innerHeight;
                this.rotateElement.style.width = e + "px", this.rotateElement.style.height = t + "px", this.CheckOrientation() } }]), DeviceOrientationChecker }();

    function bg(e) {! function ScaleManager_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, bg) }

    function DomUIManager_defineProperties(e, t) { for (var n = 0; n < t.length; n++) { var a = t[n];
            a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } } var C = function() {
            function DomUIManager(e) {! function DomUIManager_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, DomUIManager), DomUIManager.Instance = this } return function DomUIManager_createClass(e, t, n) { return t && DomUIManager_defineProperties(e.prototype, t), n && DomUIManager_defineProperties(e, n), e }(DomUIManager, [{ key: "AppendChild", value: function AppendChild() {} }]), DomUIManager }(),
        B = n(0);

    function webFontFile_typeof(e) { return (webFontFile_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function _typeof(e) { return typeof e } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }

    function webFontFile_defineProperties(e, t) { for (var n = 0; n < t.length; n++) { var a = t[n];
            a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } }

    function webFontFile_possibleConstructorReturn(e, t) { return !t || "object" !== webFontFile_typeof(t) && "function" != typeof t ? function webFontFile_assertThisInitialized(e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(e) : t }

    function webFontFile_getPrototypeOf(e) { return (webFontFile_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }

    function webFontFile_setPrototypeOf(e, t) { return (webFontFile_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(e, t) { return e.__proto__ = t, e })(e, t) }

    function jg(e, t) { return R(e) ? (t = e).hasOwnProperty("config") ? (t.type = "webfont", t.url = "") : t = { key: "webfont", type: "webfont", url: "", config: t } : t = { type: "webfont", url: "", key: e, config: t }, this.addFile(new M(this, t)), this } var x = Phaser.Loader.FILE_POPULATED,
        M = function() {
            function WebFontFile(e, t) { return function webFontFile_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, WebFontFile), webFontFile_possibleConstructorReturn(this, webFontFile_getPrototypeOf(WebFontFile).call(this, e, t)) } return function webFontFile_inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                    e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && webFontFile_setPrototypeOf(e, t) }(WebFontFile, Phaser.Loader.File),
                function webFontFile_createClass(e, t, n) { return t && webFontFile_defineProperties(e.prototype, t), n && webFontFile_defineProperties(e, n), e }(WebFontFile, [{ key: "load", value: function load() { if (this.state === x) this.loader.nextFile(this, !0);
                        else { var e = this.config;
                            e.active = this.onLoad.bind(this), e.inactive = this.onError.bind(this), e.fontactive = this.onFontActive.bind(this), e.fontinactive = this.onFontInactive.bind(this), window.WebFont ? window.WebFont.load(e) : B.load(e) } } }, { key: "onLoad", value: function onLoad() { this.loader.nextFile(this, !0) } }, { key: "onError", value: function onError() { console.log(this), this.loader.nextFile(this, !1) } }, { key: "onFontActive", value: function onFontActive(e) { this.loader.emit("webfontactive", this, e) } }, { key: "onFontInactive", value: function onFontInactive(e) { this.loader.emit("webfontinactive", this, e) } }]), WebFontFile }(),
        R = Phaser.Utils.Objects.IsPlainObject;

    function rexwebfontloaderplugin_typeof(e) { return (rexwebfontloaderplugin_typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function _typeof(e) { return typeof e } : function _typeof(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e })(e) }

    function rexwebfontloaderplugin_defineProperties(e, t) { for (var n = 0; n < t.length; n++) { var a = t[n];
            a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } }

    function rexwebfontloaderplugin_possibleConstructorReturn(e, t) { return !t || "object" !== rexwebfontloaderplugin_typeof(t) && "function" != typeof t ? function rexwebfontloaderplugin_assertThisInitialized(e) { if (void 0 !== e) return e; throw new ReferenceError("this hasn't been initialised - super() hasn't been called") }(e) : t }

    function rexwebfontloaderplugin_getPrototypeOf(e) { return (rexwebfontloaderplugin_getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(e) { return e.__proto__ || Object.getPrototypeOf(e) })(e) }

    function rexwebfontloaderplugin_setPrototypeOf(e, t) { return (rexwebfontloaderplugin_setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(e, t) { return e.__proto__ = t, e })(e, t) } var G = function() {
        function WebFontLoaderPlugin(e) { var t; return function rexwebfontloaderplugin_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, WebFontLoaderPlugin), t = rexwebfontloaderplugin_possibleConstructorReturn(this, rexwebfontloaderplugin_getPrototypeOf(WebFontLoaderPlugin).call(this, e)), e.registerFileType("rexWebFont", jg), t } return function rexwebfontloaderplugin_inherits(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function");
                e.prototype = Object.create(t && t.prototype, { constructor: { value: e, writable: !0, configurable: !0 } }), t && rexwebfontloaderplugin_setPrototypeOf(e, t) }(WebFontLoaderPlugin, Phaser.Plugins.BasePlugin),
            function rexwebfontloaderplugin_createClass(e, t, n) { return t && rexwebfontloaderplugin_defineProperties(e.prototype, t), n && rexwebfontloaderplugin_defineProperties(e, n), e }(WebFontLoaderPlugin, [{ key: "addToScene", value: function addToScene(e) { e.sys.load.rexWebFont = jg } }]), WebFontLoaderPlugin }();

    function GameManager_defineProperties(e, t) { for (var n = 0; n < t.length; n++) { var a = t[n];
            a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } } var L = function() {
        function GameManager() {! function GameManager_classCallCheck(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }(this, GameManager), (GameManager.Instance = this).domUIManager = new C(a.GetRootElement()), this.LoadStylesheets(), this.deviceManager = new T, this.brim = new z(this.deviceManager.displayBrim, a.GetRootElement()), this.deviceOrientationChecker = new k, this.deviceOrientationChecker.onValidOrientation = this.OnValidOrientation.bind(this), this.deviceOrientationChecker.CheckOrientation() } return function GameManager_createClass(e, t, n) { return t && GameManager_defineProperties(e.prototype, t), n && GameManager_defineProperties(e, n), e }(GameManager, [{ key: "LoadStylesheets", value: function LoadStylesheets() { var e = document.getElementsByTagName("head")[0],
                    t = "css/main.css";
                this.cacheBust && (t += "?bust=" + this.dateTime); var n = document.createElement("link");
                n.type = "text/css", n.rel = "stylesheet", n.href = a.GetAssetURL() + t, e.appendChild(n), t = "css/game.css", this.cacheBust && (t += "?bust=" + this.dateTime), (n = document.createElement("link")).type = "text/css", n.rel = "stylesheet", n.href = a.GetAssetURL() + t, e.appendChild(n) } }, { key: "OnValidOrientation", value: function OnValidOrientation() { this.brim.visible || (this.CreateGameInstance(), this.deviceOrientationChecker.onValidOrientation = null) } }, { key: "CreateGameInstance", value: function CreateGameInstance() { var e = document.createElement("div");
                e.id = "stage-container", a.GetRootElement().insertBefore(e, this.domUIManager.domUIRootPanel), this.gameScale = 1; var t = { type: Phaser.AUTO, gameScale: this.gameScale, parent: e.id, fullscreenTarget: a.GetRootElement(), plugins: { global: [{ key: "WebFontLoader", plugin: G, start: !0 }] }, scale: { mode: Phaser.Structs.Size.HEIGHT_CONTROLS_WIDTH, autoCenter: Phaser.Scale.CENTER_BOTH, width: 1800, height: 720 }, scene: [w] };
                this.game = new I(t), this.sceneManager = new i(this.game), this.assetManager = new o(this.game), this.audioManager = new h(this.game), this.scaleManager = new bg(this.game) } }, { key: "Pause", value: function Pause() { this.sceneManager.PauseAllScenes() } }, { key: "Resume", value: function Resume() { this.sceneManager.ResumeAllScenes() } }]), GameManager }();
    new L }]);