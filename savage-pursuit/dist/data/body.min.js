/* Created by Olphabet */
var TProject;!function(a){var b=function(){function b(b){this.mGpx=null,this.mActive=!1,this.mActor=null,this.mzAttackPositions=null,this.mCurrPosition=-1,this.mSubAction=null,this.mTime=0,this.mController=null,this.mActor=b,this.mGpx=this.mActor.gpx,this.mIniX=this.mGpx.getX(),this.mIniY=this.mGpx.getY(),this.mState=a.Global.ST_BEGIN,this.mSubState=a.Global.ST_BEGIN,this.mzAttackPositions=[]}return b.prototype.addAttackPosition=function(a,b){if(this.mzAttackPositions){var c=this.mzAttackPositions.length;this.mzAttackPositions[c]=[a,b]}},b.prototype.subUpdate=function(b){switch(b.mState){case a.Global.ST_FINISH:this.mSubAction.free(),delete this.mSubAction,this.mSubAction=null,this.onSubActionEnd()}},b.prototype.checkCollision=function(a,b){return!1},b.prototype.update=function(){},b.prototype.onSubActionEnd=function(){},b.prototype.onHit=function(a){},b.prototype.onAnimationEnd=function(){},b.prototype.free=function(){},Object.defineProperty(b.prototype,"active",{get:function(){return this.mActive},set:function(a){this.mActive=a},enumerable:!0,configurable:!0}),b}();a.clsAction=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(d){var e=b.call(this,d)||this;return e.mSpeed=c.SPEED_INI,e.mVarTimeRest=c.TIME_REST_INI,e.mTimeRest=0,e.mHamsterSet=null,e.mTemp=0,e.mCountRats=0,e.mIntervalReleaseRat=null,e.mzAttackPositions=[],e.mActor.disableCollision(!0),e.mHamsterSet=new a.clsSimSet("mHamsterSet"),e}return __extends(c,b),c.prototype.update=function(){switch(this.mState){case a.Global.ST_BEGIN:this.mActor.orderLeftSmall(),this.mSubAction=new a.clsAcbMoveTo(this.mActor,this.mzAttackPositions[0],this.mSpeed,!0,this),this.mOldState=a.Global.ST_BEGIN,this.mState=a.Global.ST_SUB_ACTION,this.mNextState=c.ST_01;break;case c.ST_01:break;case c.ST_02:this.mActor.disableCollision(!1),this.mActor.orderLeft(),this.mActor.gpx.setPosition(this.mzAttackPositions[1][0],this.mzAttackPositions[1][1]),this.mSubAction=new a.clsAcbMoveTo(this.mActor,this.mzAttackPositions[2],this.mSpeed,!0,this),this.mOldState=c.ST_02,this.mState=a.Global.ST_SUB_ACTION,this.mNextState=c.ST_D1;break;case c.ST_D1:this.mTimeRest<=a.Global.TIMER&&(this.mOldState=c.ST_D1,this.mState=c.ST_03);break;case c.ST_03:this.mActor.orderRight(),this.mSubAction=new a.clsAcbMoveTo(this.mActor,this.mzAttackPositions[1],this.mSpeed,!0,this),this.mOldState=c.ST_03,this.mState=a.Global.ST_SUB_ACTION,this.mNextState=c.ST_04;break;case c.ST_04:this.mTimeRest<=a.Global.TIMER&&(this.mOldState=c.ST_04,this.mState=c.ST_05);break;case c.ST_05:this.mOldState!=c.ST_05&&(this.mActor.disableCollision(!0),this.mActor.orderShootLiquid(),this.mOldState=c.ST_05);break;case c.ST_06:this.mTimeRest<=a.Global.TIMER&&(this.mOldState=c.ST_06,this.mState=c.ST_07);break;case c.ST_07:this.mOldState!=c.ST_07&&(this.mActor.orderReleaseRat(),this.mOldState=c.ST_07);break;case c.ST_R1:null==this.mIntervalReleaseRat?(this.onReleaseRats(),this.mIntervalReleaseRat=a.Global.TIMER,this.mCountRats++):(a.Global.TIMER-this.mIntervalReleaseRat)/1e3>=c.INTERVAL_RELEASE&&(this.onReleaseRats(),this.mIntervalReleaseRat=a.Global.TIMER,this.mCountRats++),this.mCountRats>=c.RATS_RELEASE&&(this.mCountRats=0,this.mState=c.ST_D2,this.mIntervalReleaseRat=null,this.mActor.orderStandLeft(),this.mTimeRest=this.mVarTimeRest+a.Global.TIMER);break;case c.ST_D2:this.mTimeRest<=a.Global.TIMER&&(this.mOldState=c.ST_D2,this.mState=c.ST_08);break;case c.ST_08:this.mActor.orderLeft(),this.mSubAction=new a.clsAcbMoveTo(this.mActor,this.mzAttackPositions[2],this.mSpeed,!0,this),this.mOldState=c.ST_08,this.mState=a.Global.ST_SUB_ACTION,this.mNextState=c.ST_09;break;case c.ST_09:this.mTimeRest<=a.Global.TIMER&&(this.mOldState=c.ST_09,this.mState=c.ST_10);break;case c.ST_10:this.mOldState!=c.ST_10&&(this.mActor.disableCollision(!0),this.mActor.orderShootLiquid(),this.mOldState=c.ST_10);break;case c.ST_11:this.mTimeRest<=a.Global.TIMER&&(this.mOldState=c.ST_11,this.mState=c.ST_12);break;case c.ST_12:this.mOldState!=c.ST_12&&(this.mActor.orderReleaseRat(),this.mOldState=c.ST_12);break;case c.ST_R2:null==this.mIntervalReleaseRat?(this.onReleaseRats(),this.mIntervalReleaseRat=a.Global.TIMER,this.mCountRats++):(a.Global.TIMER-this.mIntervalReleaseRat)/1e3>=c.INTERVAL_RELEASE&&(this.onReleaseRats(),this.mIntervalReleaseRat=a.Global.TIMER,this.mCountRats++),this.mCountRats>=c.RATS_RELEASE&&(this.mCountRats=0,this.mState=c.ST_D3,this.mIntervalReleaseRat=null,this.mActor.orderStandRight(),this.mTimeRest=this.mVarTimeRest+a.Global.TIMER);break;case c.ST_D3:this.mTimeRest<=a.Global.TIMER&&(this.mOldState=c.ST_D3,this.mState=c.ST_13);break;case c.ST_13:this.mActor.orderRight(),this.mSubAction=new a.clsAcbMoveTo(this.mActor,this.mzAttackPositions[1],this.mSpeed,!0,this),this.mOldState=c.ST_13,this.mState=a.Global.ST_SUB_ACTION,this.mNextState=c.ST_14;break;case c.ST_14:this.mTimeRest<=a.Global.TIMER&&(this.mState=c.ST_02);break;case a.Global.ST_SUB_ACTION:this.mSubAction.update()}a.Global.updateObjectsSet(this.mHamsterSet),a.BaseGame.instance.checkTrueCollisionOverlap(a.Global.player.collisionMain,this.mGpx.collision,!0)&&a.Global.player.hit(),this.checkCollisionPunchPlayer()},c.prototype.onSubActionEnd=function(){switch(this.mOldState){case a.Global.ST_BEGIN:this.mActor.orderMutate();break;case c.ST_02:this.mActor.orderStandRight(),this.mTimeRest=this.mVarTimeRest+a.Global.TIMER;break;case c.ST_03:this.mActor.orderStandLeft(),this.mTimeRest=this.mVarTimeRest+a.Global.TIMER;break;case c.ST_08:this.mActor.orderStandRight(),this.mTimeRest=this.mVarTimeRest+a.Global.TIMER;break;case c.ST_13:this.mActor.orderStandLeft(),this.mTimeRest=this.mVarTimeRest+a.Global.TIMER}this.mState=this.mNextState},c.prototype.onAnimationEnd=function(){switch(this.mState){case c.ST_01:this.mActor.orderStand(),this.mState=c.ST_02;break;case c.ST_05:this.mActor.orderStand(),this.mTimeRest=this.mVarTimeRest+a.Global.TIMER,this.mState=c.ST_06,this.mActor.disableCollision(!1);break;case c.ST_07:this.mActor.orderStandLeft(),this.mState=c.ST_R1;break;case c.ST_10:this.mActor.orderStand(),this.mTimeRest=this.mVarTimeRest+a.Global.TIMER,this.mState=c.ST_11,this.mActor.disableCollision(!1);break;case c.ST_12:this.mActor.orderStandRight(),this.mState=c.ST_R2;break;case a.Global.ST_DIE:this.mActor.state=a.Global.ST_KILL}},c.prototype.onReleaseRats=function(){var b=new a.clsHamster(this.mGpx.getX(),-500);b.setInitHealth(10),b.action=new a.clsActionHamster(b,this.mActor),b.action.active=!0,this.mHamsterSet.add(b)},c.prototype.updateVars=function(){if(!(this.mActor.initHealth<=0)){var a=100*this.mActor.health/this.mActor.initHealth,b=(100-a)/100;this.mSpeed=b*(c.SPEED_END-c.SPEED_INI)+c.SPEED_INI,this.mVarTimeRest=b*(c.TIME_REST_END-c.TIME_REST_INI)+c.TIME_REST_INI}},c.prototype.onHit=function(b){this.mActor.health<=0?(a.Global.playerActiveChange=!1,this.mSubAction&&(this.mSubAction.free(),delete this.mSubAction,this.mSubAction=null),this.mGpx.setVelocity(0,0),this.mActor.orderDie(),this.mState=a.Global.ST_DIE):this.updateVars()},c.prototype.checkCollision=function(b,c){for(var d,e=!1,f=0;f<this.mHamsterSet.getCount();f++)if(d=this.mHamsterSet.getObject(f),a.BaseGame.instance.checkTrueCollisionOverlap(b,d.mGpx.collision,!0)){d.processHit(a.Global.DAMAGE_TOTAL,0,0),e=!0,this.mHamsterSet.remove(d),d.free();break}return!!e||(a.BaseGame.instance.checkTrueCollisionOverlap(b,this.mGpx.collisionPunchBullet,!0)&&(this.mActor.isCollisionActive()&&this.mActor.processHit(a.Global.DAMAGE_FIXED,c,0),e=!0),e)},c.prototype.checkCollisionPunchPlayer=function(){a.Global.activePlayer!=a.Global.PLAYER_CANNONBOLT?this.checkCollision(a.Global.player.collisionPunch,a.Global.DMG_PUNCH):this.checkCollision(a.Global.player.collisionInvincible,a.Global.DMG_PUNCH)},c.prototype.free=function(){delete this.mzAttackPositions,a.Global.clearSimSet(this.mHamsterSet),this.mHamsterSet.free(),delete this.mHamsterSet,this.mHamsterSet=null},c.SPEED_INI=20,c.SPEED_END=40,c.TIME_REST_INI=1e3,c.TIME_REST_END=500,c.RATS_RELEASE=4,c.INTERVAL_RELEASE=.5,c.ST_01=-100,c.ST_02=-101,c.ST_03=-102,c.ST_04=-103,c.ST_05=-104,c.ST_06=-105,c.ST_07=-106,c.ST_08=-107,c.ST_09=-108,c.ST_10=-109,c.ST_11=-110,c.ST_12=-111,c.ST_13=-112,c.ST_14=-113,c.ST_15=-114,c.ST_16=-115,c.ST_17=-116,c.ST_18=-117,c.ST_D1=-118,c.ST_D2=-119,c.ST_D3=-120,c.ST_R1=-121,c.ST_R2=-122,c}(a.clsAction);a.clsActionBoss_01=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(a){var d=b.call(this,a)||this;return d.mTrajectory=null,d.mScale=c.SCALE_INI,d.mVarTimeRest=c.TIME_REST_INI,d.mTimeRest=0,d.mzAttackPositions=[],d.mActor.disableCollision(!0),d}return __extends(c,b),c.prototype.update=function(){switch(this.mState){case a.Global.ST_BEGIN:this.mActor.orderLeftSmall(),this.mSubAction=new a.clsAcbMoveTo(this.mActor,this.mzAttackPositions[0],c.SPEED_LINEAL,!0,this),this.mOldState=a.Global.ST_BEGIN,this.mState=c.ST_MOVE_LINEAL,this.mNextState=c.ST_01,this.mh=(this.mzAttackPositions[0][0]+this.mzAttackPositions[1][0])/2,this.mk=this.mzAttackPositions[0][1],this.ma=(this.mzAttackPositions[0][0]-this.mzAttackPositions[1][0])/2,this.mb=c.MB,this.mX1=this.mzAttackPositions[0][0],this.mX2=this.mzAttackPositions[1][0];break;case c.ST_01:this.mOldState!=this.mState&&(this.mActor.orderMutate(),this.mOldState=this.mState,this.mNextState=c.ST_02);break;case c.ST_02:this.mTimeRest<=a.Global.TIMER&&(this.mOldState=this.mState,this.mState=c.ST_03);break;case c.ST_03:this.mActor.orderLeft(),this.mTrajectory=new a.clsEllipse(this.mh,this.mk,this.ma,this.mb,this.mX1,"down",this.mX2,"down",c.SPEED_CURVE),this.mOldState=this.mState,this.mState=c.ST_MOVE_CURVE,this.mNextState=c.ST_04;break;case c.ST_04:this.mTimeRest<=a.Global.TIMER&&(this.mOldState=this.mState,this.mState=c.ST_05);break;case c.ST_05:this.mOldState!=this.mState&&(this.mActor.disableCollision(!0),this.mActor.orderShootRight(),this.mOldState=this.mState,this.mNextState=c.ST_06);break;case c.ST_06:this.mTimeRest<=a.Global.TIMER&&(this.mOldState=this.mState,this.mState=c.ST_07);break;case c.ST_07:this.mActor.orderRight(),this.mTrajectory=new a.clsEllipse(this.mh,this.mk,this.ma,this.mb,this.mX2,"down",this.mX1,"down",-c.SPEED_CURVE),this.mOldState=this.mState,this.mState=c.ST_MOVE_CURVE,this.mNextState=c.ST_08;break;case c.ST_08:this.mTimeRest<=a.Global.TIMER&&(this.mOldState=this.mState,this.mState=c.ST_09);break;case c.ST_09:this.mOldState!=this.mState&&(this.mActor.disableCollision(!0),this.mActor.orderShootLeft(),this.mOldState=this.mState,this.mNextState=c.ST_10);break;case c.ST_10:this.mTimeRest<=a.Global.TIMER&&(this.mOldState=this.mState,this.mState=c.ST_11);break;case c.ST_11:this.mActor.orderRight(),this.mSubAction=new a.clsAcbMoveTo(this.mActor,[c.F3_X,c.F2_Y],c.SPEED_LINEAL,!0,this),this.mOldState=this.mState,this.mState=c.ST_MOVE_LINEAL,this.mNextState=c.ST_12;break;case c.ST_12:this.mTimeRest<=a.Global.TIMER&&(this.mActor.disableCollision(!1),this.mOldState=this.mState,this.mState=c.ST_13);break;case c.ST_13:this.mActor.orderAttackLeft(),this.mActor.gpx.setPosition(c.F3_X,c.F3_Y),this.mSubAction=new a.clsAcbMoveTo(this.mActor,[c.F1_X,c.F3_Y],c.SPEED_ATTACK,!0,this),this.mOldState=this.mState,this.mState=c.ST_MOVE_LINEAL,this.mNextState=c.ST_14;break;case c.ST_14:this.mTimeRest<=a.Global.TIMER&&(this.mActor.disableCollision(!1),this.mOldState=this.mState,this.mState=c.ST_15);break;case c.ST_15:this.mActor.orderAttackRight(),this.mActor.gpx.setPosition(c.F1_X,c.F2_Y),this.mSubAction=new a.clsAcbMoveTo(this.mActor,[c.F3_X,c.F2_Y],c.SPEED_ATTACK,!0,this),this.mOldState=this.mState,this.mState=c.ST_MOVE_LINEAL,this.mNextState=c.ST_16;break;case c.ST_16:this.mTimeRest<=a.Global.TIMER&&(this.mOldState=this.mState,this.mState=c.ST_17);break;case c.ST_17:this.mActor.gpx.setPosition(c.F2_X,c.F1_Y),this.mSubAction=new a.clsAcbMoveTo(this.mActor,[c.F2_X,c.F4_Y],c.SPEED_ATTACK_CENTER,!0,this),this.mActor.orderAttackCenter(),this.mOldState=this.mState,this.mState=c.ST_MOVE_LINEAL,this.mNextState=c.ST_18;break;case c.ST_18:this.mTimeRest<=a.Global.TIMER&&(this.mActor.disableCollision(!1),this.mOldState=this.mState,this.mState=c.ST_19);break;case c.ST_19:this.mActor.gpx.setPosition(c.F3_X,c.F2_Y),this.mSubAction=new a.clsAcbMoveTo(this.mActor,this.mzAttackPositions[0],c.SPEED_LINEAL,!0,this),this.mActor.orderLeft(),this.mOldState=this.mState,this.mState=c.ST_MOVE_LINEAL,this.mNextState=c.ST_02;break;case c.ST_MOVE_LINEAL:this.mOldState==c.ST_17&&1!=this.mGpx.pause&&(this.mScale+=c.SPEED_GROW,this.mActor.gpx.setScale(this.mScale)),this.mSubAction.update();break;case c.ST_MOVE_CURVE:this.mTrajectory.update(),this.mActor.gpx.setPosition(this.mTrajectory._X,this.mTrajectory._Y),this.mTrajectory._End&&(this.onSubActionEnd(),delete this.mTrajectory,this.mTrajectory=null)}a.BaseGame.instance.checkTrueCollisionOverlap(a.Global.player.collisionMain,this.mGpx.collision,!0)&&a.Global.player.hit(),this.checkCollisionPunchPlayer()},c.prototype.onSubActionEnd=function(){switch(this.mOldState){case a.Global.ST_BEGIN:break;case c.ST_03:this.mActor.orderStandRight(),this.mTimeRest=this.mVarTimeRest+a.Global.TIMER;break;case c.ST_07:this.mActor.orderStandLeft(),this.mTimeRest=this.mVarTimeRest+a.Global.TIMER;break;case c.ST_11:case c.ST_13:case c.ST_15:this.mActor.disableCollision(!0),this.mTimeRest=c.TIME_REST_OUT+a.Global.TIMER;break;case c.ST_17:this.mScale=c.SCALE_INI,this.mActor.gpx.setScale(c.SCALE_INI),this.mTimeRest=c.TIME_REST_OUT+a.Global.TIMER;break;case c.ST_19:this.mActor.orderStandLeft(),this.mTimeRest=this.mVarTimeRest+a.Global.TIMER;break;case c.ST_AGONIZE:this.mActor.orderDie()}this.mState=this.mNextState},c.prototype.onAnimationEnd=function(){switch(this.mState){case c.ST_01:this.mActor.disableCollision(!1),this.mActor.orderStandLeft(),this.mTimeRest=this.mVarTimeRest+a.Global.TIMER,this.mState=this.mNextState;break;case c.ST_05:this.mActor.orderStandRight(),this.mTimeRest=this.mVarTimeRest+a.Global.TIMER,this.mState=this.mNextState,this.mActor.disableCollision(!1);break;case c.ST_09:this.mActor.orderStandLeft(),this.mTimeRest=this.mVarTimeRest+a.Global.TIMER,this.mState=this.mNextState,this.mActor.disableCollision(!1);break;case c.ST_AGONIZE:this.mActor.orderFall(),this.mSubAction=new a.clsAcbMoveTo(this.mActor,[this.mActor.gpx.getX(),c.LIMIT_FALL],c.SPEED_FALL,!0,this),this.mOldState=c.ST_AGONIZE,this.mState=c.ST_MOVE_LINEAL,this.mNextState=c.ST_DIE;break;case c.ST_DIE:this.mActor.state=a.Global.ST_KILL}},c.prototype.onHit=function(b){this.mActor.health<=0&&(a.Global.playerActiveChange=!1,this.mSubAction&&(this.mSubAction.free(),delete this.mSubAction,this.mSubAction=null),this.mTrajectory&&(delete this.mTrajectory,this.mTrajectory=null),this.mGpx.setVelocity(0,0),this.mActor.orderAgonize(),this.mState=c.ST_AGONIZE,this.mActor.disableCollision(!0),this.mGpx.setPause(!1))},c.prototype.checkCollision=function(b,c){var d=!1;return a.BaseGame.instance.checkTrueCollisionOverlap(b,this.mGpx.collisionPunchBullet,!0)&&(this.mActor.isCollisionActive()&&this.mActor.processHit(a.Global.DAMAGE_FIXED,c,0),d=!0),d},c.prototype.checkCollisionPunchPlayer=function(){a.Global.activePlayer!=a.Global.PLAYER_CANNONBOLT?this.checkCollision(a.Global.player.collisionPunch,a.Global.DMG_PUNCH):this.checkCollision(a.Global.player.collisionInvincible,a.Global.DMG_PUNCH)},c.prototype.free=function(){delete this.mzAttackPositions,delete this.mTrajectory},c.SPEED_LINEAL=20,c.SPEED_ATTACK_CENTER=40,c.SPEED_ATTACK=80,c.SPEED_CURVE=3,c.SPEED_FALL=20,c.LIMIT_FALL=280,c.F1_Y=-100,c.F2_Y=100,c.F3_Y=275,c.F4_Y=520,c.F1_X=-100,c.F2_X=300,c.F3_X=700,c.MB=100,c.SPEED_GROW=.06,c.SCALE_INI=1,c.TIME_REST_INI=2e3,c.TIME_REST_OUT=0,c.ST_MOVE_LINEAL=-100,c.ST_MOVE_CURVE=-99,c.ST_01=-101,c.ST_02=-102,c.ST_03=-103,c.ST_04=-104,c.ST_05=-105,c.ST_06=-106,c.ST_07=-107,c.ST_08=-108,c.ST_09=-109,c.ST_10=-110,c.ST_11=-111,c.ST_12=-112,c.ST_13=-113,c.ST_14=-114,c.ST_15=-115,c.ST_16=-116,c.ST_17=-117,c.ST_18=-118,c.ST_19=-119,c.ST_AGONIZE=-120,c.ST_DIE=-121,c}(a.clsAction);a.clsActionBoss_02=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(){a.Global.mode_collision=!1,a.Global.playerActiveChange=!1,a.Global.player.action.shooting=!1,a.Global.player.mGpx.scale.x=1,a.Global.activePlayer!=a.Global.PLAYER_BEN&&a.Global.player.transformToBen(),a.Global.player.changePlayer("PLAYER_"+a.Global.PLAYER_BEN),this.state=b.ST_INI,a.Global.bossReturn.mGpx.x=900,3==a.Global.level?(this.animationShoot="ATTACK_BOSS1",a.Global.bossReturn.mGpx.y=a.Global.player._y-a.Global.world._y+50):6==a.Global.level?(this.animationShoot="ATTACK_BOSS2",a.Global.bossReturn.mGpx.y=a.Global.player._y-a.Global.world._y-20):9==a.Global.level&&(this.animationShoot="ATTACK_BOSS3",a.Global.bossReturn.mGpx.y=a.Global.player._y+60)}return b.prototype.update=function(){switch(this.state){case b.ST_INI:a.Global.bossReturn.mGpx.x-=2.5,a.Global.player.action.activeAnimation("STAND_R"),a.Global.bossReturn.mGpx.x<350&&(a.Global.player.action.activeAnimation(this.animationShoot),this.state=b.ST_WAIT_SHOOT);break;case b.ST_WAIT_SHOOT:break;case b.ST_SHOOT:a.clsGame.getNextDepthSup();this.mGpxShoot=a.BaseGame.instance.game.make.sprite(0,0,"bullet_atlas","mc_ben_shoot_end_10001"),this.mGpxShoot.anchor.set(.5),this.mGpxShoot.animations.add("loop",Phaser.Animation.generateFrameNames("mc_ben_shoot_end_1",1,15,"",4),40,!0),this.mGpxShoot.play("loop"),a.Global.world.mGpx.addChild(this.mGpxShoot),this.zipSound=a.SoundMixer.play("Tenacious-snd-hamster2-2007-02-02",.5,!1,!0),this.mGpxShoot.x=a.Global.player._x+50-a.Global.world._x,this.mGpxShoot.y=a.Global.player._y-30-a.Global.world._y,this.state=b.ST_MOVE_SHOOT;break;case b.ST_MOVE_SHOOT:this.mGpxShoot.x+=3,this.mGpxShoot.x>350&&(this.mGpxShoot.destroy(!0),a.SoundMixer._playMusic&&this.zipSound.stop(),a.Global.bossReturn.changeAnimation("NORMALIZE"),a.Global.player.changePlayerAnimation("STAND_R"),setTimeout(function(){a.Global.player.changePlayerAnimation("WIN")}),this.state=b.ST_EMPTY);break;case b.ST_NORMAL_BOSS:a.Global.bossReturn.mGpx.alpha=1,this.state=b.ST_EMPTY;case b.ST_EMPTY:}},b.ST_INI=1,b.ST_WAIT_SHOOT=2,b.ST_SHOOT=3,b.ST_MOVE_SHOOT=4,b.ST_EMPTY=5,b.ST_NORMAL_BOSS=6,b}();a.clsActionEnd=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(d,e){var f=b.call(this,d)||this;e.left?d.orderLeft():d.orderRight();var g=e.gpx.getY()+e.gpx.clip.height/2;if(e.gpx.getX()>c.LIMIT)var h=c.L_RIGHT;else var h=c.L_LEFT;return f.mGpx.setPosition(h,g),f.mGpx._velX=a.Global.getRandom(a.clsHamster.SPEED_MIN,a.clsHamster.SPEED_MAX)*(f.mActor.left?-1:1),f}return __extends(c,b),c.prototype.update=function(){this.mGpx.state==a.Global.ST_KILL?this.mActor.state=a.Global.ST_KILL:a.BaseGame.instance.checkTrueCollisionOverlap(a.Global.player.collisionMain,this.mGpx.collision)&&a.Global.player.hit()},c.prototype.onHit=function(b){this.mActor.health<=0&&(this.mGpx.setVelocity(0,0),a.Global.game.createEffect("mc_fx_hit",this.mGpx.getX(),this.mGpx.getY()+50),this.mActor.state=a.Global.ST_KILL)},c.prototype.free=function(){},c.LIMIT=300,c.L_RIGHT=700,c.L_LEFT=-100,c}(a.clsAction);a.clsActionHamster=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(b,c,d,e){this.mIniX=0,this.mIniY=0,this.mEndX=0,this.mEndY=0,this.mGpx=null,this.mAction=null,this.mHealth=0,this.mInitHealth=0,this.mInvincible=!1,this.mCollisionOn=!0,this.mDeleted=!1,this.mLeft=!0,this.mTransform=null,this.mInitColor=null,this.onHitFx=0,this.mGpx=new a.clsMCE(b,b+e,e),this.mIniX=c,this.mIniY=d,this.mGpx.setPosition(this.mIniX,this.mIniY),this.mState=a.Global.ST_BEGIN}return b.prototype.setInitHealth=function(a){this.mHealth=a,this.mInitHealth=a},b.prototype.disableCollision=function(a){this.mCollisionOn=!a},b.prototype.isCollisionActive=function(){return this.mCollisionOn},b.prototype.setInvincible=function(a){this.mInvincible=a},b.prototype.isInvincible=function(){return this.mInvincible},b.prototype.orderLeftSmall=function(){},b.prototype.orderStand=function(){},b.prototype.orderStandRight=function(){},b.prototype.orderStandLeft=function(){},b.prototype.orderLeft=function(){},b.prototype.orderRight=function(){},b.prototype.orderMutate=function(){},b.prototype.orderAlert=function(){},b.prototype.orderShootLiquid=function(){},b.prototype.orderReleaseRat=function(){},b.prototype.orderHit=function(){},b.prototype.orderDie=function(){},b.prototype.orderShootLeft=function(){},b.prototype.orderShootRight=function(){},b.prototype.orderAttackLeft=function(){},b.prototype.orderAttackRight=function(){},b.prototype.orderAttackCenter=function(){},b.prototype.orderAgonize=function(){},b.prototype.orderFall=function(){},b.prototype.orderJumpUpSmall=function(){},b.prototype.orderJumpDownSmall=function(){},b.prototype.orderJumpUpLeft=function(){},b.prototype.orderJumpDownLeft=function(){},b.prototype.orderJumpUpRight=function(){},b.prototype.orderJumpDownRight=function(){},b.prototype.orderAttack1Left=function(){},b.prototype.orderAttack1Right=function(){},b.prototype.orderAttack2Left=function(){},b.prototype.orderAttack2Right=function(){},b.prototype.orderAttack3=function(){},b.prototype.orderDieFall=function(){},b.prototype.orderEmpty=function(){},b.prototype.orderAlertLeft=function(){},b.prototype.orderAlertRight=function(){},b.prototype.free=function(){this.mDeleted||(this.mGpx.free(),delete this.mGpx,this.mGpx=null,this.mAction&&(this.mAction.free(),delete this.mAction,this.mAction=null),this.mDeleted=!0)},b.prototype.onAnimationEnd=function(){this.mAction&&this.mAction.active&&this.mAction.onAnimationEnd()},b.prototype.processHit=function(b,c,d){if(!this.mInvincible&&0==this.onHitFx){if(this.mHealth>0)switch(this.processHitFX(),b){case a.Global.DAMAGE_FIXED:this.mHealth-=c;break;case a.Global.DAMAGE_TOTAL:this.mHealth=0}this.mAction&&this.mAction.active&&this.mAction.onHit(d)}},b.prototype.processHitFX=function(){var b=this;this.mGpx.clip.alpha=.5,this.mInvincible=!0,a.BaseGame.instance.add.tween(this.mGpx).to({alpha:1},15,Phaser.Easing.Linear.None,!0,0,10).onComplete.addOnce(function(){b.restoreHitFX()})},b.prototype.restoreHitFX=function(){null!=this.mGpx&&(this.mGpx.clip.alpha=1,this.mInvincible=!1)},b.prototype.checkCollision=function(a,b){return!(!this.mAction||!this.mAction.active)&&this.mAction.checkCollision(a,b)},b.prototype.update=function(){this.mGpx&&this.mGpx.update(),this.mAction&&this.mAction.active&&this.mAction.update()},Object.defineProperty(b.prototype,"action",{get:function(){return this.mAction},set:function(a){this.mAction=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"left",{get:function(){return this.mLeft},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"gpx",{get:function(){return this.mGpx},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"health",{get:function(){return this.mHealth},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"initHealth",{get:function(){return this.mInitHealth},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"state",{get:function(){return this.mState},set:function(a){this.mState=a},enumerable:!0,configurable:!0}),b}();a.clsActor=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(b,c,d,e){this.state=0,this.mParent=b,this.mClip=c;a.clsGame.getNextCreationDepth();switch(c){case"mc_enemy_hamsters02":this.mGpx=a.BaseGame.instance.game.make.sprite(0,0,"enemy_atlas_1","mc_enemy_hamsters02_10001"),this.mGpx.anchor.set(.5,1),this.mGpx.animations.add("STAND",Phaser.Animation.generateFrameNames("mc_enemy_hamsters02_1",1,15,"",4)),this.mGpx.animations.add("WALK",Phaser.Animation.generateFrameNames("mc_enemy_hamsters02_1",16,40,"",4)),this.mGpx.animations.add("ALERT",Phaser.Animation.generateFrameNames("mc_enemy_hamsters02_1",41,55,"",4)),this.mGpx.animations.add("SHOOT",Phaser.Animation.generateFrameNames("mc_enemy_hamsters02_1",56,79,"",4)),this.mGpx.animations.add("HIT",Phaser.Animation.generateFrameNames("mc_enemy_hamsters02_1",81,103,"",4)),this.mGpx.animations.add("DIE",Phaser.Animation.generateFrameNames("mc_enemy_hamsters02_1",104,149,"",4)),this.mParent.addChild(this.mGpx),this._collision=a.BaseGame.instance.game.make.graphics(-32.7,-44.4),this._collision.beginFill(0,0),this._collision.drawRect(0,0,65,30),this._collision.endFill(),this.mGpx.addChild(this._collision);break;case"mc_enemy_bat01":this.mGpx=a.BaseGame.instance.game.make.sprite(0,0,"enemy_atlas_1","mc_enemy_bat01_10001"),this.mGpx.anchor.set(.5,.77),this.mGpx.animations.add("STAND",Phaser.Animation.generateFrameNames("mc_enemy_bat01_1",1,18,"",4)),this.mGpx.animations.add("WALK",Phaser.Animation.generateFrameNames("mc_enemy_bat01_1",19,36,"",4)),this.mGpx.animations.add("SHOOT",Phaser.Animation.generateFrameNames("mc_enemy_bat01_1",37,54,"",4)),this.mGpx.animations.add("HIT",Phaser.Animation.generateFrameNames("mc_enemy_bat01_1",55,101,"",4)),this.mGpx.animations.add("DIE",Phaser.Animation.generateFrameNames("mc_enemy_bat01_1",102,151,"",4)),this.mParent.addChild(this.mGpx),this._collision=a.BaseGame.instance.game.make.graphics(-19.8,-34),this._collision.beginFill(0,0),this._collision.drawRect(0,0,30,30),this._collision.endFill(),this.mGpx.addChild(this._collision);break;case"mc_enemy_bird03":this.mGpx=a.BaseGame.instance.game.make.sprite(0,0,"enemy_atlas_1","mc_enemy_bird03_10001"),this.mGpx.anchor.set(.55,.86),this.mGpx.animations.add("STAND",Phaser.Animation.generateFrameNames("mc_enemy_bird03_1",1,18,"",4)),this.mGpx.animations.add("WALK",Phaser.Animation.generateFrameNames("mc_enemy_bird03_1",19,36,"",4)),this.mGpx.animations.add("ALERT",Phaser.Animation.generateFrameNames("mc_enemy_bird03_1",37,48,"",4)),this.mGpx.animations.add("SHOOT",Phaser.Animation.generateFrameNames("mc_enemy_bird03_1",49,67,"",4)),this.mGpx.animations.add("HIT",Phaser.Animation.generateFrameNames("mc_enemy_bird03_1",68,90,"",4)),this.mGpx.animations.add("DIE",Phaser.Animation.generateFrameNames("mc_enemy_bird03_1",91,145,"",4)),this.mParent.addChild(this.mGpx),this._collision=a.BaseGame.instance.game.make.graphics(-40,-40),this._collision.beginFill(0,0),this._collision.drawRect(0,0,40,40),this._collision.endFill(),this.mGpx.addChild(this._collision);break;case"mc_toxic_gases":this.mGpx=a.BaseGame.instance.game.make.sprite(0,0,"object_atlas_2","mc_toxic_gases_10001"),this.mGpx.anchor.set(.55,.98),this.mGpx.animations.add("STAND",Phaser.Animation.generateFrameNames("mc_toxic_gases_1",1,29,"",4)),this.mGpx.animations.add("ALERT",Phaser.Animation.generateFrameNames("mc_toxic_gases_1",30,61,"",4)),this.mGpx.animations.add("ACTION",Phaser.Animation.generateFrameNames("mc_toxic_gases_1",62,95,"",4)),this.mParent.addChild(this.mGpx),this._collision=a.BaseGame.instance.game.make.graphics(-24,-45),this._collision.beginFill(0,0),this._collision.drawRect(0,0,40,30),this._collision.endFill(),this.mGpx.addChild(this._collision);break;case"mc_enemy_worm02":this.mGpx=a.BaseGame.instance.game.make.sprite(0,0,"enemy_atlas_1","mc_enemy_worm02_10001"),this.mGpx.anchor.set(.51,.57),this.mGpx.animations.add("STAND",Phaser.Animation.generateFrameNames("mc_enemy_worm02_1",1,55,"",4)),this.mGpx.animations.add("WALK",Phaser.Animation.generateFrameNames("mc_enemy_worm02_1",56,86,"",4)),this.mGpx.animations.add("ALERT",Phaser.Animation.generateFrameNames("mc_enemy_worm02_1",87,121,"",4)),this.mGpx.animations.add("SHOOT",Phaser.Animation.generateFrameNames("mc_enemy_worm02_1",122,141,"",4)),this.mGpx.animations.add("HIT",Phaser.Animation.generateFrameNames("mc_enemy_worm02_1",142,172,"",4)),this.mGpx.animations.add("DIE",Phaser.Animation.generateFrameNames("mc_enemy_worm02_1",173,237,"",4)),this.mParent.addChild(this.mGpx),this._collision=a.BaseGame.instance.game.make.graphics(-30,-21),this._collision.beginFill(0,0),this._collision.drawRect(0,0,60,42),this._collision.endFill(),this.mGpx.addChild(this._collision);break;case"mc_enemy_fish05":this.mGpx=a.BaseGame.instance.game.make.sprite(0,0,"object_atlas_1","mc_enemy_fish05_10001"),this.mGpx.anchor.set(.5,.5),this.mGpx.animations.add("STAND",Phaser.Animation.generateFrameNames("mc_enemy_fish05_1",1,60,"",4)),this.mGpx.animations.add("WALK",Phaser.Animation.generateFrameNames("mc_enemy_fish05_1",61,83,"",4)),this.mGpx.animations.add("ALERT",Phaser.Animation.generateFrameNames("mc_enemy_fish05_1",84,109,"",4)),this.mGpx.animations.add("HIT",Phaser.Animation.generateFrameNames("mc_enemy_fish05_1",110,141,"",4)),this.mGpx.animations.add("DIE",Phaser.Animation.generateFrameNames("mc_enemy_fish05_1",142,174,"",4)),this.mParent.addChild(this.mGpx),this._collision=a.BaseGame.instance.game.make.graphics(-17.5,-17.5),this._collision.beginFill(0,0),this._collision.drawRect(0,0,35,35),this._collision.endFill(),this.mGpx.addChild(this._collision);break;case"mc_enemy_fish04":this.mGpx=a.BaseGame.instance.game.make.sprite(0,0,"object_atlas_1","mc_enemy_fish04_10001"),this.mGpx.anchor.set(.5,.5),this.mGpx.animations.add("STAND",Phaser.Animation.generateFrameNames("mc_enemy_fish04_1",1,60,"",4)),this.mGpx.animations.add("WALK",Phaser.Animation.generateFrameNames("mc_enemy_fish04_1",61,83,"",4)),this.mGpx.animations.add("ALERT",Phaser.Animation.generateFrameNames("mc_enemy_fish04_1",84,109,"",4)),this.mGpx.animations.add("HIT",Phaser.Animation.generateFrameNames("mc_enemy_fish04_1",110,141,"",4)),this.mGpx.animations.add("DIE",Phaser.Animation.generateFrameNames("mc_enemy_fish04_1",142,174,"",4)),this.mParent.addChild(this.mGpx),this._collision=a.BaseGame.instance.game.make.graphics(-17.5,-17.5),this._collision.beginFill(0,0),this._collision.drawRect(0,0,35,35),this._collision.endFill(),this.mGpx.addChild(this._collision);break;case"mc_mine":this.mGpx=a.BaseGame.instance.game.make.sprite(0,0,"enemy_atlas_1","mc_mine_10001"),this.mGpx.anchor.set(.5,0),this.mGpx.animations.add("STAND",Phaser.Animation.generateFrameNames("mc_mine_1",1,1,"",4)),this.mGpx.animations.add("ALERT",Phaser.Animation.generateFrameNames("mc_mine_1",2,11,"",4)),this.mGpx.animations.add("ALERT_LOOP",Phaser.Animation.generateFrameNames("mc_mine_1",12,32,"",4)),this.mParent.addChild(this.mGpx),this._collision=a.BaseGame.instance.game.make.graphics(-14,8),this._collision.beginFill(0,0),this._collision.drawRect(0,0,28,8),this._collision.endFill(),this.mGpx.addChild(this._collision);break;case"mc_enemy_bat02":this.mGpx=a.BaseGame.instance.game.make.sprite(0,0,"enemy_atlas_1","mc_enemy_bat02_10001"),this.mGpx.anchor.set(.5,.77),this.mGpx.animations.add("STAND",Phaser.Animation.generateFrameNames("mc_enemy_bat02_1",1,18,"",4)),this.mGpx.animations.add("WALK",Phaser.Animation.generateFrameNames("mc_enemy_bat02_1",19,36,"",4)),this.mGpx.animations.add("SHOOT",Phaser.Animation.generateFrameNames("mc_enemy_bat02_1",37,54,"",4)),this.mGpx.animations.add("HIT",Phaser.Animation.generateFrameNames("mc_enemy_bat02_1",55,101,"",4)),this.mGpx.animations.add("DIE",Phaser.Animation.generateFrameNames("mc_enemy_bat02_1",102,151,"",4)),this.mParent.addChild(this.mGpx),this._collision=a.BaseGame.instance.game.make.graphics(-19.8,-34),
this._collision.beginFill(0,0),this._collision.drawRect(0,0,30,30),this._collision.endFill(),this.mGpx.addChild(this._collision);break;default:this.mGpx=null}this.mGpx.x=d,this.mGpx.y=e+20,this.activeAnimation("STAND")}return b.prototype.changeAnimation=function(b,c,d){var e=this;void 0===d&&(d=!0);var f=null;switch(c){case"STAND":d=!0,"mc_toxic_gases"==this.mClip&&(this._collision.destroy(!0),this._collision=a.BaseGame.instance.game.make.graphics(-24,-45),this._collision.beginFill(0,0),this._collision.drawRect(0,0,40,30),this._collision.endFill(),this.mGpx.addChild(this._collision));break;case"WALK":case"ALERT_LOOP":d=!0;break;case"ALERT":d=!1,"mc_toxic_gases"==this.mClip?f=function(){e.activeAnimation("ACTION")}:"mc_enemy_worm02"==this.mClip?f=function(){e.activeAnimation("SHOOT")}:"mc_mine"==this.mClip&&this.activeAnimation("ALERT_LOOP");break;case"SHOOT":case"HIT":d=!1,f="mc_enemy_worm02"==this.mClip?function(){e.activeAnimation("WALK")}:function(){e.activeAnimation("STAND")};break;case"DIE":d=!1;break;case"ACTION":d=!1,"mc_toxic_gases"==this.mClip&&(this._collision.destroy(!0),this._collision=a.BaseGame.instance.game.make.graphics(-24,-490),this._collision.beginFill(0,0),this._collision.drawRect(0,0,45,488),this._collision.endFill(),this.mGpx.addChild(this._collision),f=function(){e.activeAnimation("STAND")})}b.animations.currentAnim&&b.animations.currentAnim.name==c||(null!=f?b.animations.play(c,60,!1).onComplete.add(function(){f()}):b.animations.play(c,60,d))},b.prototype.activeAnimation=function(a){this.currentString=a,this.changeAnimation(this.mGpx,a)},b.prototype.direction=function(b){b==a.Global.DIR_LEFT?this.mGpx.scale.x=1:b==a.Global.DIR_RIGHT?this.mGpx.scale.x=-1:b==a.Global.DIR_UP?this.mGpx.scale.y=1:b==a.Global.DIR_DOWN&&(this.mGpx.scale.y=-1)},b.prototype.free=function(){this.mGpx.destroy(!0),this.state=a.Global.ST_KILL},Object.defineProperty(b.prototype,"dir",{get:function(){return this.mGpx.scale.x>0?a.Global.DIR_LEFT:a.Global.DIR_RIGHT},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"currentFrame",{get:function(){return this.currentString},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"collision",{get:function(){return this._collision},enumerable:!0,configurable:!0}),b}();a.clsActorEnemy=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(c,d,e,f){this.mParent=c;a.clsGame.getNextCreationDepth();switch(d){case"mc_bonus_sphere":this.mGpx=a.BaseGame.instance.make.sprite(0,0,"object_atlas_1","mc_bonus_sphere_10001"),this.mGpx.animations.add("IDLE",Phaser.Animation.generateFrameNames("mc_bonus_sphere_1",1,119,"",4)),this.mGpx.anchor.set(.5);break;case"mc_bonus_health":this.mGpx=a.BaseGame.instance.make.sprite(0,0,"object_atlas_1","mc_bonus_health_10001"),this.mGpx.animations.add("IDLE",Phaser.Animation.generateFrameNames("mc_bonus_health_1",1,119,"",4)),this.mGpx.anchor.set(.5);break;case"mc_bonus_life":this.mGpx=a.BaseGame.instance.make.sprite(0,0,"object_atlas_1","mc_bonus_life_10001"),this.mGpx.animations.add("IDLE",Phaser.Animation.generateFrameNames("mc_bonus_life_1",1,40,"",4)),this.mGpx.anchor.set(.5)}this.collision=a.BaseGame.instance.game.make.graphics(-8.3,-27.8),this.collision.beginFill(0,0),this.collision.drawRect(0,0,16.6,25.6),this.collision.endFill(),c.addChild(this.mGpx),this.mGpx.addChild(this.collision),this.mGpx.x=e,this.mGpx.y=f,this.mGpx.play("IDLE",60,!0),"mc_bonus_sphere"==d?(this.mType=b.TYPE_ENERGY,this.mPrice=100):"mc_bonus_health"==d?(this.mType=b.TYPE_HEALTH,this.mPrice=150):"mc_bonus_life"==d&&(this.mType=b.TYPE_LIFE,this.mPrice=200),this.state=0}return b.prototype.update=function(){if(!a.Global.pause&&(a.BaseGame.instance.checkTrueCollisionOverlap(this.collision,a.Global.player.collisionMain)||a.BaseGame.instance.checkTrueCollisionOverlap(this.collision,a.Global.player.collisionInvincible))){switch(a.Global.game.createEffect("mc_fx_bonus_glow",this.mParent.x+this.mGpx.x,this.mParent.y+this.mGpx.y),a.SoundMixer.play("Tenacious-snd-item-bonus-2007-02-19",.3),a.Global.game.updateScore(this.mPrice),this.mType){case b.TYPE_ENERGY:this.updateTypeEnergy();break;case b.TYPE_HEALTH:this.updateTypeHealth();break;case b.TYPE_LIFE:this.updateTypeLife()}this.free()}},b.prototype.updateTypeEnergy=function(){a.Global.playerActiveChange||a.Global.panelInfo.removePenalty(),a.Global.panelInfo.updateEnergyTrans(100)},b.prototype.updateTypeHealth=function(){a.Global.game.updateEnergyLife(100)},b.prototype.updateTypeLife=function(){a.Global.game.updateNumLifes(1)},b.prototype.free=function(){this.state=a.Global.ST_KILL,this.mGpx.destroy(!0)},b.TYPE_ENERGY=1,b.TYPE_HEALTH=2,b.TYPE_LIFE=3,b}();a.clsBonus=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(c,d){var e=b.call(this,"mc_boss_01",c,d,a.Global.DEPTH_BOSS)||this;return e.mGpx.setResponseMode(a.clsMCE.RESPONSE_MODE_RIGID),e.mLeft=!0,e}return __extends(c,b),c.prototype.orderStandSmall=function(){this.changeBossAnimation("STAND_SMALL")},c.prototype.orderLeftSmall=function(){this.changeBossAnimation("LEFT_SMALL")},c.prototype.orderStand=function(){this.changeBossAnimation("STAND")},c.prototype.orderStandRight=function(){this.changeBossAnimation("STAND"),this.mLeft&&(this.gpx.clip.scale.x=-1),this.mLeft=!1},c.prototype.orderStandLeft=function(){this.changeBossAnimation("STAND"),this.mGpx.clip.scale.x=1,this.mLeft=!0},c.prototype.orderLeft=function(){setTimeout(function(){a.SoundMixer.play("Tenacious-snd-hamster-walk-2007-2-2",.3)},125),this.changeBossAnimation("WALK"),this.gpx.clip.scale.x=1,this.mLeft=!0},c.prototype.orderRight=function(){this.changeBossAnimation("WALK"),this.mLeft&&(this.gpx.clip.scale.x=-1),this.mLeft=!1},c.prototype.orderMutate=function(){a.SoundMixer.play("Tenacious-snd-hamster2-2007-02-02",.3),this.changeBossAnimation("MUTATE")},c.prototype.orderAlert=function(){setTimeout(function(){a.SoundMixer.play("Tenacious-snd-hamster-call-2007-1-24",.3)},750),this.changeBossAnimation("ALERT")},c.prototype.orderShootLiquid=function(){this.changeBossAnimation("SHOOT"),this.mLeft||(this.gpx.clip.scale.x=-1)},c.prototype.orderReleaseRat=function(){this.changeBossAnimation("RELEASE"),setTimeout(function(){a.SoundMixer.play("Tenacious-snd-hamster-call-2007-1-24",.3)},750),this.mLeft||(this.gpx.clip.scale.x=-1)},c.prototype.orderHit=function(){this.changeBossAnimation("HIT"),this.mLeft||(this.gpx.clip.scale.x=-1)},c.prototype.orderDie=function(){setTimeout(function(){a.SoundMixer.play("Tenacious-snd-hamster-defeated-2007-1-24",.3)},250),setTimeout(function(){a.SoundMixer.play("Tenacious-snd-hamster2-2007-02-02",.3)},3e3),this.changeBossAnimation("DIE"),this.mLeft||(this.gpx.clip.scale.x=-1)},c.prototype.changeBossAnimation=function(a){this.mGpx.startAnimation(a)},c}(a.clsActor);a.clsBoss_01=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(c,d){var e=b.call(this,"mc_boss_02",c,d,a.Global.DEPTH_BOSS)||this;return e.nCountShoot=0,e.mGpx.setResponseMode(a.clsMCE.RESPONSE_MODE_RIGID),e.mLeft=!0,e}return __extends(c,b),c.prototype.shoot=function(){var b=a.Global.SHOOT_NORMAL;if(1==++this.nCountShoot)var c=-15,d=-60;else{var c=195,d=60;this.nCountShoot=0}a.Global.game.createBulletEnemy("mc_bullet_boss2",this.mGpx.getX(),this.mGpx.getY(),8,b,1,c,d,3,500,.7)},c.prototype.orderStandSmall=function(){this.changeBossAnimation("STAND_SMALL")},c.prototype.orderLeftSmall=function(){this.changeBossAnimation("LEFT_SMALL")},c.prototype.orderMutate=function(){this.changeBossAnimation("MUTATE")},c.prototype.orderLeft=function(){this.changeBossAnimation("WALK"),this.gpx.clip.scale.x=1,this.mLeft=!0},c.prototype.orderRight=function(){this.changeBossAnimation("WALK"),this.mLeft&&(this.gpx.clip.scale.x=-1),this.mLeft=!1},c.prototype.orderStandLeft=function(){this.changeBossAnimation("STAND"),this.gpx.clip.scale.x=1,this.mLeft=!0},c.prototype.orderStandRight=function(){this.changeBossAnimation("STAND"),this.mLeft&&(this.gpx.clip.scale.x=-1),this.mLeft=!1},c.prototype.orderShootLeft=function(){this.changeBossAnimation("SHOOT"),this.gpx.clip.scale.x=1,this.mLeft=!0},c.prototype.orderShootRight=function(){this.changeBossAnimation("SHOOT"),this.mLeft&&(this.gpx.clip.scale.x=-1),this.mLeft=!1},c.prototype.orderAttackLeft=function(){this.changeBossAnimation("ATTACK1"),this.gpx.clip.scale.x=1,this.mLeft=!0},c.prototype.orderAttackRight=function(){this.changeBossAnimation("ATTACK1"),this.mLeft&&(this.gpx.clip.scale.x=-1),this.mLeft=!1},c.prototype.orderAttackCenter=function(){this.changeBossAnimation("ATTACK2")},c.prototype.orderHit=function(){this.changeBossAnimation("HIT")},c.prototype.orderAgonize=function(){this.changeBossAnimation("AGONIZE")},c.prototype.orderFall=function(){this.changeBossAnimation("FALL")},c.prototype.orderDie=function(){this.changeBossAnimation("DIE")},c.prototype.changeBossAnimation=function(a){this.mGpx.startAnimation(a)},c}(a.clsActor);a.clsBoss_02=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(b){switch(this.mGpx=a.BaseGame.instance.make.sprite(0,0),a.BaseGame.instance._effectLayer.addChild(this.mGpx),b){case"mc_boss_01":this._dbBossSpr=new a.DBSprite(a.Boot.BOSS1,"_db/boss1/BOSS",a.BaseGame.instance.game),this._dbBossSpr.makeMagic(),this._dbBossSpr.addOffsetXY("STAND_SMALL",-48,-52),this._dbBossSpr.addOffsetXY("MUTATE",-48,-52),this._dbBossSpr.addOffsetXY("LEFT_SMALL",-48,-52),this._dbBossSpr.addOffsetXY("STAND",-25,0),this._dbBossSpr.addOffsetXY("ALERT",-25,0),this._dbBossSpr.addOffsetXY("SHOOT",-25,0),this._dbBossSpr.addOffsetXY("RELEASE",-15,0),this._dbBossSpr.addOffsetXY("RETURN",0,-135),this._dbBossSpr.addOffsetXY("NORMALIZE",-48,-150),this._dbBossSpr.scale.set(.8,.8),this.mGpx.addChild(this._dbBossSpr),this.bossCollision=a.BaseGame.instance.make.graphics(-53.6,-107),this.bossCollision.beginFill(0,0),this.bossCollision.drawRect(0,0,94.4,81),this.bossCollision.endFill(),this.mGpx.addChild(this.bossCollision);break;case"mc_boss_02":this._dbBossSpr=new a.DBSprite(a.Boot.BOSS2,"_db/boss2/BOSS",a.BaseGame.instance.game),this._dbBossSpr.makeMagic(),this.mGpx.addChild(this._dbBossSpr),this.bossCollision=a.BaseGame.instance.make.graphics(-38,-104.45),this.bossCollision.beginFill(0,0),this.bossCollision.drawRect(0,0,76,146),this.bossCollision.endFill(),this.mGpx.addChild(this.bossCollision)}this.mSpeed=a.Global.SPEED_B_RETURN,this._dbBossSpr.play("RETURN"),this.mGpx.x=15e3,this.mGpx.alpha=.7,this.mDetect=!0}return b.prototype.update=function(){a.Global.actionEndEscene||(this.dx=a.Global.player._x-a.Global.world._x-this.mGpx.x,this.dy=a.Global.player._y-a.Global.world._y-this.mGpx.y,this.angle=Math.atan2(this.dy,this.dx),this.mGpx.x+=this.mSpeed*Math.cos(this.angle),this.mGpx.y+=this.mSpeed*Math.sin(this.angle),a.BaseGame.instance.checkTrueCollisionOverlap(a.Global.player.collisionMain,this.bossCollision)&&this.mDetect&&(a.Global.activePlayer!=a.Global.PLAYER_BEN&&(a.Global.player.transformToBen(),this.mDetect=!1),a.Global.game.updateEnergyLife(-200),this.mSpeed=0))},b.prototype.free=function(){this.mGpx.destroy(!0)},b.prototype.changeAnimation=function(a){this._dbBossSpr.play(a)},b}();a.clsBossReturn=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(c,d,e,f,g,h,i,j,k){this.state=0,this.mX=d,this.mY=e,this.mType=g,this.mSpeed=f,this.mDamage=h,this.mLimit=j,this.mScale=k,void 0==this.mLimit&&(this.mLimit=b.LIMIT_DEFAULT),void 0==this.mScale&&(this.mScale=1);var l=(a.clsGame.getNextCreationDepth(),!1);switch(c){case"mc_enemy_worm02_bullet":this.mGpx=a.BaseGame.instance.make.sprite(0,0,"bullet_atlas","mc_enemy_worm02_bullet_10001"),this.mGpx.animations.add("IDLE",Phaser.Animation.generateFrameNames("mc_enemy_worm02_bullet_1",1,9,"",4)),this.mGpx.anchor.set(.5,1.2),this._collision=a.BaseGame.instance.make.graphics(-6,-48),this._collision.beginFill(0,0),this._collision.drawRect(0,0,12,12),l=!0;break;case"mc_player_bullet":this.mGpx=a.BaseGame.instance.make.sprite(0,0,"bullet_atlas","mc_player_bullet_10001"),this.mGpx.animations.add("IDLE",Phaser.Animation.generateFrameNames("mc_player_bullet_1",1,21,"",4)),this.mGpx.anchor.set(.5,.3),this._collision=a.BaseGame.instance.make.graphics(-30,0),this._collision.beginFill(0,0),this._collision.drawRect(0,0,60,20),l=!0;break;case"mc_bullet_player_wildvine":this.mGpx=a.BaseGame.instance.make.sprite(0,0,"bullet_atlas","mc_bullet_player_wildvine_10001"),this.mGpx.animations.add("IDLE",Phaser.Animation.generateFrameNames("mc_bullet_player_wildvine_1",1,10,"",4)),this.mGpx.anchor.set(.5),this._collision=a.BaseGame.instance.make.graphics(-17.5,-17.5),this._collision.beginFill(0,0),this._collision.drawRect(0,0,35,35),l=!0;case"mc_bullet_boss2":this.mGpx=a.BaseGame.instance.make.sprite(0,0,"bullet_atlas","mc_bullet_boss2_10001"),this.mGpx.animations.add("IDLE",Phaser.Animation.generateFrameNames("mc_bullet_boss2_1",1,18,"",4)),this.mGpx.anchor.set(.5),this._collision=a.BaseGame.instance.make.graphics(-10,-40),this._collision.beginFill(0,0),this._collision.drawRect(0,0,20,18),l=!0;break;default:"mc_enemy_bat01_bullet"!=c&&"mc_enemy_bat02_bullet"!=c&&"mc_enemy_bat03_bullet"!=c&&"mc_enemy_bird03_bullet"!=c||(this.mGpx=a.BaseGame.instance.make.sprite(0,0,"bullet_atlas","mc_enemy_bird03_bullet"),this.mGpx.anchor.set(.5,1.2),this._collision=a.BaseGame.instance.make.graphics(-4.5,-40.5),this._collision.beginFill(0,0),this._collision.drawRect(0,0,9,9))}l&&this.mGpx.play("IDLE",60,!0),a.Global.world.mGpx.addChild(this.mGpx),this.mGpx.addChild(this._collision),this.mGpx.x=this.mX,this.mGpx.y=this.mY,this.mGpx.scale.x=this.mScale,this.mGpx.scale.y=this.mScale,this.mLimitMax_x=this.mX+this.mLimit,this.mLimitMin_x=this.mX-this.mLimit,this.mLimitMax_y=this.mY+this.mLimit,this.mLimitMin_y=this.mY-this.mLimit,this.mType==a.Global.SHOOT_NORMAL&&(void 0==i&&(i=180),this.mAngleDir=i,this.mGpx.angle=90-this.mAngleDir),this.dy=a.Global.player._y-this.mGpx.y,this.dx=a.Global.player._x-this.mGpx.x;var m=Math.atan(this.dx/this.dy);if(this.mType==a.Global.SHOOT_SPECIAL&&(this.mGpx.angle=180*Math.atan2(this.mGpx.y-a.Global.player._y,this.mGpx.x-a.Global.player._x)/Math.PI),this.dCos=Math.cos(m),this.dSin=Math.sin(m),this.mType==a.Global.SHOOT_ARC){this.mG=.5,this.dx=100,this.dy=90,this.mPosX=this.mGpx.x,this.mPosY=this.mGpx.y,this.vy=-1*Math.sqrt(2*this.mG*this.dy);var n=Math.abs(this.vy/this.mG);void 0==i&&(i=0),i==a.Global.DIR_RIGHT?this.vx=this.dx/n:i==a.Global.DIR_LEFT&&(this.vx=-this.dx/n)}}return b.prototype.update=function(){switch(this.mType){case a.Global.SHOOT_NORMAL:this.moveNormal();break;case a.Global.SHOOT_DIRECT:this.moveDirect();break;case a.Global.SHOOT_ARC:this.moveArc()}this.state!=a.Global.ST_KILL&&((this.mGpx.x<=this.mLimitMin_x||this.mGpx.x>=this.mLimitMax_x)&&this.free(),(this.mGpx.y<=this.mLimitMin_y||this.mGpx.y>=this.mLimitMax_y)&&this.free())},b.prototype.moveNormal=function(){this.mGpx.x+=this.mSpeed*Math.sin((this.mAngleDir+90)*(Math.PI/180)),this.mGpx.y+=this.mSpeed*Math.cos((this.mAngleDir+90)*(Math.PI/180))},b.prototype.moveDirect=function(){this.dy>0&&(this.mGpx.y+=this.mSpeed*this.dCos,this.mGpx.x+=this.mSpeed*this.dSin),this.dy<0&&(this.mGpx.y-=this.mSpeed*this.dCos,this.mGpx.x-=this.mSpeed*this.dSin)},b.prototype.moveArc=function(){this.vy=this.vy+this.mG,this.mGpx.x+=this.vx,this.mGpx.y+=this.vy},b.prototype.free=function(){this.mGpx.destroy(!0),this.state=a.Global.ST_KILL},Object.defineProperty(b.prototype,"_Y",{get:function(){return this.mGpx.y},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"collision",{get:function(){return this._collision},enumerable:!0,configurable:!0}),b.LIMIT_DEFAULT=300,b}();a.clsBullet=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(a,c,d,e,f,g,h,i,j){return b.call(this,a,c,d,e,f,g,h,i,j)||this}return __extends(c,b),c.prototype.update=function(){b.prototype.update.call(this),a.BaseGame.instance.checkTrueCollisionOverlap(this.collision,a.Global.player.collisionMain,!0)&&(a.Global.player.hit(),this.free()),a.Global.boss&&this.mGpx.y>=c.LIMIT_Y&&(a.Global.game.createEffect("mc_boss02_explosion",this.mGpx.x,this.mGpx.y),this.free())},c.LIMIT_Y=320,c}(a.clsBullet);a.clsBulletEnemy=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(c,d,e,f,g,h,i,j,k){var l=b.call(this,c,d,e,f,g,h,i,j,k)||this;return l.mDamage=a.Global.DMG_SHOOT,l}return __extends(c,b),c.prototype.update=function(){b.prototype.update.call(this),a.Global.boss&&10!=a.Global.level&&a.Global.boss.checkCollision(this.collision,this.mDamage)&&this.free()},c}(a.clsBullet);a.clsBulletPlayer=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function a(a,b,c,d,e,f,g,h,i){this.mEnd=!1,this.mh=a,this.mk=b,this.ma=c,this.mb=d,this.mX=e,this.mAng=Math.acos((e-this.mh)/this.ma),"up"==f&&(this.mAng=-this.mAng),this.mY=this.mk+this.mb*Math.sin(this.mAng),this.mX2=g,this.mVel=i*(Math.PI/180),this.PositionEnd(h)}return a.prototype.PositionEnd=function(a){switch(a){case"up":this.mX2>this.mh?this.n=2:this.mX2<this.mh?this.n=3:this.mX2==this.mh&&(this.n=-1);break;case"down":this.mX2>this.mh?this.n=1:this.mX2<this.mh?this.n=4:this.mX2==this.mh&&(this.n=-2)}},a.prototype.update=function(){switch(this.mAng+=this.mVel,this.mX=this.mh+this.ma*Math.cos(this.mAng),this.mY=this.mk+this.mb*Math.sin(this.mAng),this.checkQuadrant(),this.mQ){case 1:this.checkMoveDown(),this.mQ_Old=this.mQ;break;case 2:case 3:this.checkMoveUp(),this.mQ_Old=this.mQ;break;case 4:this.checkMoveDown(),this.mQ_Old=this.mQ}},a.prototype.checkMoveDown=function(){this.mQ==this.n||-2==this.n?this.mVel>0?this.mX<=this.mX2&&(this.mX=this.mX2,this.mAng=Math.acos((this.mX2-this.mh)/this.ma),this.mY=this.mk+this.mb*Math.sin(this.mAng),this.mQ=5,this.mEnd=!0):this.mX>=this.mX2&&(this.mX=this.mX2,this.mAng=Math.acos((this.mX2-this.mh)/this.ma),this.mY=this.mk+this.mb*Math.sin(this.mAng),this.mQ=5,this.mEnd=!0):(2==this.mQ_Old&&this.mX2==this.mh+this.ma||3==this.mQ_Old&&this.mX2==this.mh-this.ma)&&(this.mX=this.mX2,this.mAng=Math.acos((this.mX2-this.mh)/this.ma),this.mY=this.mk-this.mb*Math.sin(this.mAng),this.mQ=5,this.mEnd=!0)},a.prototype.checkMoveUp=function(){this.mQ==this.n||-1==this.n?this.mVel>0?this.mX>=this.mX2&&(this.mX=this.mX2,this.mAng=Math.acos((this.mX2-this.mh)/this.ma),this.mY=this.mk-this.mb*Math.sin(this.mAng),this.mQ=5,this.mEnd=!0):this.mX<=this.mX2&&(this.mX=this.mX2,this.mAng=Math.acos((this.mX2-this.mh)/this.ma),this.mY=this.mk-this.mb*Math.sin(this.mAng),this.mQ=5,this.mEnd=!0):(1==this.mQ_Old&&this.mX2==this.mh+this.ma||4==this.mQ_Old&&this.mX2==this.mh-this.ma)&&(this.mX=this.mX2,this.mAng=Math.acos((this.mX2-this.mh)/this.ma),this.mY=this.mk+this.mb*Math.sin(this.mAng),this.mQ=5,this.mEnd=!0)},a.prototype.checkQuadrant=function(){this.mX>this.mh&&this.mY>this.mk?this.mQ=1:this.mX>this.mh&&this.mY<this.mk?this.mQ=2:this.mX<this.mh&&this.mY<this.mk?this.mQ=3:this.mX<this.mh&&this.mY>this.mk&&(this.mQ=4)},Object.defineProperty(a.prototype,"_End",{get:function(){return this.mEnd},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"_X",{get:function(){return this.mX},enumerable:!0,configurable:!0}),Object.defineProperty(a.prototype,"_Y",{get:function(){return this.mY},enumerable:!0,configurable:!0}),a}();a.clsEllipse=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(a,c,d,e,f,g){var h=b.call(this,a,c,d,e)||this;return h.mPriceHit=100,h.mPriceDie=200,h.timeShoot=10,h.numLife=g,h.speed=f,h.mShooting=!1,h}return __extends(c,b),c.prototype.update=function(){if(!a.Global.pause){if(null!=this.collision&&null!=a.Global.player.collisionMain&&a.BaseGame.instance.checkTrueCollisionOverlap(this.collision,a.Global.player.collisionMain,!0)&&a.Global.player.hit(),null!=this.collision&&null!=a.Global.player.collisionPunch&&a.BaseGame.instance.checkTrueCollisionOverlap(this.collision,a.Global.player.collisionPunch,!0)&&this.hit(a.Global.DMG_PUNCH_ENEMY),!a.BaseGame.instance.checkTrueCollisionOverlap(this.collision,a.Global.player.collisionAreaAttack,!0)||"FALL_L"!=a.Global.player.currentAnimName&&"FALL_R"!=a.Global.player.currentAnimName||("FALL_L"==a.Global.player.currentAnimName&&a.Global.player.action.activeAnimation("FALL_ATTACK_L"),"FALL_R"==a.Global.player.currentAnimName&&a.Global.player.action.activeAnimation("FALL_ATTACK_R"),this.hit(a.Global.DMG_PUNCH_ENEMY)),0!=a.Global.game.mzBullets.length){a.BaseGame.instance.game.stage.updateTransform();for(var b=0;b<a.Global.game.mzBullets.length;b++)a.BaseGame.instance.checkTrueCollisionOverlap(this.collision,a.Global.game.mzBullets[b].collision,!0)&&(this.hit(a.Global.DMG_SHOOT),a.Global.game.mzBullets[b].free())}a.BaseGame.instance.checkTrueCollisionOverlap(this.collision,a.Global.player.collisionInvincible)&&this.hit(a.Global.DMG_SPIN)}},c.prototype.hit=function(b){this.numLife-=b,this.numLife<=0?(this.activeAnimation("DIE"),a.SoundMixer.play("Tenacious-snd-enemy-destoyed-2007-1-23",.3),a.Global.game.updateScore(this.mPriceDie),this.state=a.Global.ST_KILL,a.Global.game.createPrice(this.mPriceDie,this.mParent.x+this.mGpx.x,this.mParent.y+this.mGpx.y-70),a.Global.enemiesDie++):this.activeAnimation("HIT"),a.Global.game.createEffect("mc_fx_hit",this.mParent.x+this.mGpx.x,this.mParent.y+this.mGpx.y-10)},c.prototype.attack=function(){this.activeAnimation("ALERT"),a.SoundMixer.play("Tenacious-snd-enemy-bite-2007-02-19",.1)},c.prototype.shoot=function(){this.activeAnimation("SHOOT"),a.SoundMixer.play("Tenacious-snd-enemy-projectile-2007-02-19",.3)},c.FRAME_STAND="STAND",c.FRAME_WALK="WALK",c.FRAME_ALERT="ALERT",c.FRAME_SHOOT="SHOOT",c.FRAME_HIT="HIT",c.FRAME_DIE="DIE",c}(a.clsActorEnemy);a.clsEnemy=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(d,e,f,g,h,i,j,k,l){var m=b.call(this,d,e,1==l||void 0==l?h-j:h+j,i,f,g)||this;return m.mTime=0,m.mTrayectory=null,m.mPriceDie=250,1==l||void 0==l?(m.mPointIni=h-j,m.mPointEnd=h+j,m.direction(a.Global.DIR_RIGHT)):(m.mPointIni=h+j,m.mPointEnd=h-j,m.speed=-m.speed,m.direction(a.Global.DIR_LEFT)),m.mH=h,m.mK=i,m.mA=j,m.mB=k,m.mdir=l,m.mTime=a.Global.TIMER,m.state=c.ST_1,m}return __extends(c,b),c.prototype.update=function(){if(!a.Global.pause&&this.state!=a.Global.ST_KILL&&this.currentFrame!=c.FRAME_HIT&&this.currentFrame!=c.FRAME_SHOOT){switch(this.state){case c.ST_1:(a.Global.TIMER-this.mTime)/1e3>=2&&(this.state=c.ST_2);break;case c.ST_2:this.shoot(),this.state=c.ST_3,this.mTime=a.Global.TIMER;break;case c.ST_3:(a.Global.TIMER-this.mTime)/1e3>=3&&(this.state=c.ST_4);break;case c.ST_4:this.mTrayectory=new a.clsEllipse(this.mH,this.mK,this.mA,this.mB,this.mPointIni,"down",this.mPointEnd,"down",-this.speed),this.mGpx.x=this.mTrayectory._X,this.mGpx.y=this.mTrayectory._Y,this.state=c.ST_5;break;case c.ST_5:this.mTrayectory.update(),this.mGpx.x=this.mTrayectory._X,this.mGpx.y=this.mTrayectory._Y,1==this.mTrayectory._End&&(delete this.mTrayectory,this.mTrayectory=null,this.state=c.ST_6,this.mTime=a.Global.TIMER,1==this.mdir||void 0==this.mdir?this.direction(a.Global.DIR_LEFT):0==this.mdir&&this.direction(a.Global.DIR_RIGHT));break;case c.ST_6:(a.Global.TIMER-this.mTime)/1e3>=3&&(this.state=c.ST_7);break;case c.ST_7:this.shoot(),this.state=c.ST_8,this.mTime=a.Global.TIMER;break;case c.ST_8:(a.Global.TIMER-this.mTime)/1e3>=3&&(this.state=c.ST_9);break;case c.ST_9:this.mTrayectory=new a.clsEllipse(this.mH,this.mK,this.mA,this.mB,this.mPointEnd,"down",this.mPointIni,"down",this.speed),this.mGpx.x=this.mTrayectory._X,this.mGpx.y=this.mTrayectory._Y,this.state=c.ST_10;break;case c.ST_10:this.mTrayectory.update(),this.mGpx.x=this.mTrayectory._X,this.mGpx.y=this.mTrayectory._Y,1==this.mTrayectory._End&&(delete this.mTrayectory,this.mTrayectory=null,this.state=c.ST_1,this.mTime=a.Global.TIMER,1==this.mdir||void 0==this.mdir?this.direction(a.Global.DIR_RIGHT):0==this.mdir&&this.direction(a.Global.DIR_LEFT))}b.prototype.update.call(this)}},c.prototype.shoot=function(){b.prototype.shoot.call(this);var c,d,e=this.mGpx.x+this.mParent.x,f=this.mGpx.y+this.mParent.y,g=this.mClip+"_bullet",h=a.Global.SHOOT_NORMAL;this.dir==a.Global.DIR_RIGHT?(c=-30,d=-15):(c=-150,d=15),a.Global.game.createBulletEnemy(g,e,f,5,h,3,c,d,3)},c.ST_1=1,c.ST_2=2,c.ST_3=3,c.ST_4=4,c.ST_5=5,c.ST_6=6,c.ST_7=7,c.ST_8=8,c.ST_9=9,c.ST_10=10,c}(a.clsEnemy);a.clsEnemyAerial=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(d,e,f,g,h,i,j,k,l){var m=b.call(this,d,e,f,g,h,i)||this;return m.mTime=0,m.mTimeAlert=0,m.mTrayJump=null,m.ma=k/2,m.mb=l,m.limitMove=j,m.limit_min=m.mGpx.x-m.limitMove,m.limit_max=m.mGpx.x+m.limitMove,m.mTime=a.Global.TIMER,m.mState=c.ST_1,m.direction(a.Global.DIR_RIGHT),m}return __extends(c,b),c.prototype.update=function(){if(!a.Global.pause&&this.state!=a.Global.ST_KILL&&this.currentFrame!=c.FRAME_HIT)switch(b.prototype.update.call(this),this.mState){case c.ST_1:if(this.swim(),(a.Global.TIMER-this.mTime)/1e3>=2){var d=this.jump();if(null!=d)switch(this.mState=c.ST_2,d){case"left":this.mDir=d;break;case"right":this.mDir=d}}break;case c.ST_2:0==this.mTimeAlert&&(this.activeAnimation("ALERT"),this.mTimeAlert=a.Global.TIMER),(a.Global.TIMER-this.mTimeAlert)/1e3>=c.TIME_ALERT&&(this.mState=c.ST_3,this.mTimeAlert=0);break;case c.ST_3:this.activeAnimation("WALK"),"left"==this.mDir?(this.mTrayJump=new a.clsEllipse(this.mGpx.x-this.ma,this.mGpx.y,this.ma,this.mb,this.mGpx.x,"up",this.mGpx.x-this.ma,"up",-c.VEL_JUMP),this.mGpx.angle=90):(this.mTrayJump=new a.clsEllipse(this.mGpx.x+this.ma,this.mGpx.y,this.ma,this.mb,this.mGpx.x,"up",this.mGpx.x+this.ma,"up",c.VEL_JUMP),this.mGpx.angle=-90),this.mState=c.ST_4;break;case c.ST_4:this.mTrayJump.update(),this.mGpx.x=this.mTrayJump._X,this.mGpx.y=this.mTrayJump._Y,1==this.mTrayJump._End&&(delete this.mTrayJump,this.mTrayJump=null,this.mState=c.ST_5);break;case c.ST_5:"left"==this.mDir?(this.mTrayJump=new a.clsEllipse(this.mGpx.x,this.mGpx.y+this.mb,this.ma,this.mb,this.mGpx.x,"up",this.mGpx.x-this.ma,"up",-c.VEL_JUMP),this.mGpx.angle=-90):(this.mTrayJump=new a.clsEllipse(this.mGpx.x,this.mGpx.y+this.mb,this.ma,this.mb,this.mGpx.x,"up",this.mGpx.x+this.ma,"up",c.VEL_JUMP),this.mGpx.angle=90),this.mState=c.ST_6;break;case c.ST_6:this.mTrayJump.update(),this.mGpx.x=this.mTrayJump._X,this.mGpx.y=this.mTrayJump._Y,1==this.mTrayJump._End&&(delete this.mTrayJump,this.mTrayJump=null,this.mGpx.angle=0,this.activeAnimation("STAND"),this.mTime=a.Global.TIMER,this.mState=c.ST_1)}},c.prototype.swim=function(){(this.mGpx.x<this.limit_min||this.mGpx.x>this.limit_max)&&(this.speed=-this.speed,this.speed>0?this.direction(a.Global.DIR_RIGHT):this.direction(a.Global.DIR_LEFT)),this.mGpx.x+=this.speed},c.prototype.jump=function(){return this.speed<0&&this.mGpx.x-this.limit_min>2*this.ma?"left":this.speed>0&&this.limit_max-this.mGpx.x>2*this.ma?"right":null},c.ST_1=1,c.ST_2=2,c.ST_3=3,c.ST_4=4,c.ST_5=5,c.ST_6=6,c.VEL_JUMP=3,c.TIME_ALERT=1,c}(a.clsEnemy);a.clsEnemyAquatic=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(c,d,e,f,g,h,i){var j=b.call(this,c,d,e,f,g,h)||this;return j.limitMove=i,j.limit_min=j.mGpx.x-j.limitMove,j.limit_max=j.mGpx.x+j.limitMove,j.direction(a.Global.DIR_RIGHT),j}return __extends(c,b),c.prototype.update=function(){a.Global.pause||this.state==a.Global.ST_KILL||this.currentFrame==c.FRAME_HIT||((this.mGpx.x<this.limit_min||this.mGpx.x>this.limit_max)&&(this.speed=-this.speed,this.speed>0?this.direction(a.Global.DIR_RIGHT):this.direction(a.Global.DIR_LEFT)),this.mGpx.x+=this.speed,0!=this.speed?this.activeAnimation("WALK"):this.activeAnimation("STAND"),b.prototype.update.call(this))},c}(a.clsEnemy);a.clsEnemyHorizontal=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(d,e,f,g,h,i,j,k){var l=b.call(this,d,e,f,g-27,h,i)||this;return l.time_wait=200,l.time_shoot=k,l.limitMove=j,l.limit_min=l.mGpx.x-l.limitMove,l.limit_max=l.mGpx.x+l.limitMove,l.state=c.ST_WALK_RIGTH,l.direction(a.Global.DIR_RIGHT),l.speedBase=l.speed,l.initTime=1,l.initTimeShoot=1,l}return __extends(c,b),c.prototype.update=function(){if(!a.Global.pause&&this.state!=a.Global.ST_KILL&&this.currentFrame!=c.FRAME_HIT&&this.currentFrame!=c.FRAME_SHOOT&&this.currentFrame!=c.FRAME_ALERT){switch(this.state){case c.ST_WALK_RIGTH:this.mGpx.x>this.limit_max&&(this.state=c.ST_WAIT_RIGTH,this.direction(a.Global.DIR_LEFT),this.speed=0);break;case c.ST_WAIT_RIGTH:this.initTime++,this.initTime%this.time_wait==0&&(this.speed=-Math.abs(this.speedBase),this.state=c.ST_WALK_LEFT,this.initTime=1);break;case c.ST_WALK_LEFT:this.mGpx.x<this.limit_min&&(this.state=c.ST_WAIT_LEFT,this.direction(a.Global.DIR_RIGHT),this.speed=0);break;case c.ST_WAIT_LEFT:this.initTime++,this.initTime%this.time_wait==0&&(this.speed=Math.abs(this.speedBase),this.state=c.ST_WALK_RIGTH,this.initTime=1)}0!=this.speed?this.activeAnimation("WALK"):this.activeAnimation("STAND"),this.mGpx.x+=this.speed,this.initTimeShoot++,this.initTimeShoot%this.time_shoot==0&&(this.initTimeShoot=1,this.mShooting=!0,this.attack()),
b.prototype.update.call(this)}!a.Global.pause&&this.currentFrame==c.FRAME_SHOOT&&this.mShooting&&(this.shoot(),this.mShooting=!1)},c.prototype.shoot=function(){b.prototype.shoot.call(this);var c,d,e=this.mGpx.x+this.mParent.x,f=this.mGpx.y-5+this.mParent.y,g=this.mClip+"_bullet",h=a.Global.SHOOT_NORMAL;this.dir==a.Global.DIR_RIGHT?(c=0,d=0):(c=180,d=0),a.Global.game.createBulletEnemy(g,e,f,3,h,3,c,d,1)},c.ST_WALK_RIGTH=1,c.ST_WAIT_RIGTH=2,c.ST_WALK_LEFT=3,c.ST_WAIT_LEFT=4,c}(a.clsEnemy);a.clsEnemyHorWait=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(a,c,d,e){var f=b.call(this,a,c,d,e-35,0,1)||this;return f._showVisual=!1,f}return __extends(c,b),c.prototype.update=function(){if(a.BaseGame.instance.checkTrueCollisionOverlap(this.collision,a.Global.player.collisionPlatform))return a.Global.player.hit(),a.Global.game.createEffect("mc_fx_mine_explosion",this.mParent.x+this.mGpx.x,this.mParent.y+this.mGpx.y),a.SoundMixer.play("Tenacious-snd-mine-2007-02-19",.3),void this.free();if(1!=a.Global.panelWilmutt||this._showVisual||(this.activeAnimation("ALERT"),this._showVisual=!0),0!=a.Global.game.mzBullets.length)for(var b=0;b<a.Global.game.mzBullets.length;b++)a.BaseGame.instance.checkTrueCollisionOverlap(this.collision,a.Global.game.mzBullets[b].collision)&&(a.Global.game.createEffect("mc_fx_mine_explosion",this.mParent.x+this.mGpx.x,this.mParent.y+this.mGpx.y),a.SoundMixer.play("Tenacious-snd-mine-2007-02-19",.3),this.free())},c}(a.clsEnemy);a.clsEnemyMine=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(c,d,e,f,g,h){var i=b.call(this,c,d,e,f,0,g)||this;return i.mSpeedY=0,i.mJump=!1,i.mTime=0,i.mTimeAlert=0,i.mTime=a.Global.TIMER-1e3*h,i.mlimit_max=i.mGpx.y,i}return __extends(c,b),c.prototype.update=function(){a.Global.pause||this.state==a.Global.ST_KILL||this.currentFrame==c.FRAME_HIT||(this.attack(),b.prototype.update.call(this))},c.prototype.attack=function(){(a.Global.TIMER-this.mTime)/1e3>=c.TIME_JUMP&&(0==this.mTimeAlert&&(this.activeAnimation("ALERT"),this.mTimeAlert=a.Global.TIMER),(a.Global.TIMER-this.mTimeAlert)/1e3>=c.TIME_ALERT&&(this.mSpeedY=this.mSpeedY+c.GRAVITY,this.mJump||(this.mGpx.y=this.mGpx.y-1,this.mSpeedY=c.IMPULSO,this.mJump=!0,this.activeAnimation("WALK"),this.mGpx.rotation=90),this.mSpeedY>=0&&(this.mGpx.rotation=-90),this.mGpx.y>=this.mlimit_max&&(this.mTime=a.Global.TIMER,this.mTimeAlert=0,this.mJump=!1,this.mSpeedY=0,this.mGpx.y=this.mlimit_max,this.activeAnimation("STAND"),this.mGpx.rotation=0),this.mGpx.y=this.mGpx.y+this.mSpeedY))},c.TIME_JUMP=4,c.TIME_ALERT=1,c.GRAVITY=1,c.IMPULSO=-19,c}(a.clsEnemy);a.clsEnemyPirana=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(c,d,e,f,g){var h=b.call(this,c,d,e,f,0,1)||this;return h.mTimeActive=g,h.mTime=a.Global.TIMER,h}return __extends(c,b),c.prototype.update=function(){if(a.Global.pause||this.currentFrame==c.ACTIVE||(a.Global.TIMER-this.mTime)/1e3>=this.mTimeActive&&(this.activeAnimation("ALERT"),a.SoundMixer.play("Tenacious-snd-crater-2007-02-19",.3),this.mTime=a.Global.TIMER),a.BaseGame.instance.checkTrueCollisionOverlap(this.collision,a.Global.player.collisionMain)&&a.Global.activePlayer!=a.Global.PLAYER_HEATBLAST&&a.Global.player.hit(),0!=a.Global.game.mzBullets.length)for(var b=0;b<a.Global.game.mzBullets.length;b++)a.BaseGame.instance.checkTrueCollisionOverlap(this.collision,a.Global.player.collisionMain)&&a.Global.game.mzBullets[b].free()},c.ACTIVE="ACTION",c}(a.clsEnemy);a.clsEnemyToxicGas=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(){}return b.playerInitChange=function(){a.Global.game.createEffect("mc_fx_glow02",a.Global.player._x-a.Global.world._x,a.Global.player._y-50-a.Global.world._y)},b.endFxChangeToAlien=function(){a.Global.setPause(!1)},b.endChangeToAlien=function(){a.Global.player.activeActionPlayer()},b.endFxChangeToBen=function(){a.Global.playerTemp=a.Global.PLAYER_BEN,a.Global.actionEndEscene||a.Global.player.activeActionPlayer()},b.iniFxChangeAlienToAlien=function(){a.Global.player.activeActionPlayer()},b.endChangeAlienToAlien=function(){a.Global.setPause(!1)},b.iniFade=function(){a.Global.game.freePlayer(),a.Global.boss&&a.Global.game.freeBoss()},b.endFade=function(){a.Global.game.updateNumLifes(-1),a.Global.game.updateEnergyLife(100),a.Global.panelInfo.updateEnergyTrans(100),a.Global.game.createPlayer(a.Global.posX,a.Global.posY),a.Global.setPause(!1),2==a.Global.level?a.Global.game.createBoss_01():5==a.Global.level?a.Global.game.createBoss_02():8==a.Global.level?a.Global.game.createBoss_03():10==a.Global.level&&a.Global.game.createBoss_04(),a.Global.bossReturn&&(a.Global.bossReturn.mGpx.x=a.Global.posX+1800,a.Global.bossReturn.mSpeed=a.Global.SPEED_B_RETURN)},b.beginFadeChangeLevel=function(){a.Global.setPause(!0),a.Global.levelChanging=!0},b.iniFadeChangeLevel=function(){a.Global.game.free(),a.Global.level++,2==a.Global.level||4==a.Global.level?a.Global.game.updateScore(500):5==a.Global.level||7==a.Global.level?a.Global.game.updateScore(1e3):8!=a.Global.level&&10!=a.Global.level||a.Global.game.updateScore(1500);var b=a.Global.iniLevelLife-a.Global.playerNumLife;b<0&&(b=0)},b.endFadeChangeLevel=function(){a.Global.levelChanging=!1,a.Global.game.createPlayer(a.Global.posX,a.Global.posY),a.Global.level<7?(a.Global.createGame(),a.Global.setPause(!1)):a.BaseGame.instance.winGame()},b.mediumFadeChangeLevel=function(){if(4==a.Global.level){var b=a.BaseGame.instance.game.add.sprite(a.BaseGame.instance.game.width/2,a.BaseGame.instance.game.height/2,"ui","bammbooclip");b.anchor.set(.5);var c=a.BaseGame.instance.game.add.sprite(0,-25,"ui","panel_resume");c.anchor.set(.5),b.addChild(c);var d=a.BaseGame.instance.game.make.text(-195,-80,"0000000",{font:"",fontSize:"22px",fontWeight:"normal",fill:"#ffffff",stroke:"#000",strokeThickness:4});d.wordWrap=!0,d.align="left",d.anchor.set(0,.5),b.addChild(d);for(var e=""+a.Global.score,f=7-e.length;f;)e="0"+e,f--;d.text=e;var g=a.BaseGame.instance.game.make.text(-195,-15,"00",{font:"",fontSize:"22px",fontWeight:"normal",fill:"#ffffff",stroke:"#000",strokeThickness:4});for(g.wordWrap=!0,g.align="left",g.anchor.set(0,.5),b.addChild(g),e=""+a.Global.enemiesDie,f=2-e.length;f;)e="0"+e,f--;g.text=e;for(var h=0,i=0,j=0;j<10;j++){var k="card_off";j+1<=a.Global.game.coinsTaken()&&(k="card_on"),j>=5&&(h=1),5==j&&(i=0);var l=a.BaseGame.instance.game.add.sprite(25+25*i,32*h-120,"ui",k);b.addChild(l),i++}var m=a.BaseGame.instance.game.make.text(20,-42,"00",{font:"",fontSize:"22px",fontWeight:"normal",fill:"#ffffff",stroke:"#000",strokeThickness:4});for(m.wordWrap=!0,m.align="left",m.anchor.set(0,.5),b.addChild(m),e=""+a.Global.game.coinsTaken(),f=2-e.length;f;)e="0"+e,f--;m.text=e;var n=new a.OButton(a.BaseGame.instance.game,"ui",["btn_next0001","btn_next0002","btn_next0003"],function(){n.enabled=!1,a.BaseGame.instance.add.tween(b).to({alpha:0},300,Phaser.Easing.Linear.None,!0).onComplete.addOnce(function(){a.Global.game.panelDestroyAndGotoNextLevel()})});n.position.set(0,116),n.setAnimationScale(0),b.addChild(n)}else a.Global.game.panelDestroyAndGotoNextLevel()},b.showCutSceneChangeLevel=function(a){},b.loadDataResume=function(a){},b.endPlayerDie=function(){a.Global.setPause(!0),a.Global.game.createPanel("mc_fade")},b.iniMessageStart=function(){a.Global.setPause(!0)},b.endMessageEnd=function(b){a.Global.setPause(!1),b.destroy(!0)},b.endBossRecover=function(){a.Global.pieceModulator.state=a.clsModulator.ST_FOLLOW},b.endWinShortBen=function(){a.Global.player.changePlayerAnimation("WALK_L"),a.Global.pieceModulator.state=a.clsModulator.ST_RUN},b.endAttackBoss=function(){a.Global.actionEndEscene.state=a.clsActionEnd.ST_SHOOT},b.endNormalizeBoss=function(){a.Global.player.changePlayerAnimation("WIN"),a.Global.actionEndEscene.state=a.clsActionEnd.ST_NORMAL_BOSS},b.endWinLevel=function(){a.Global.game.createPanel("mc_fade_change_level")},b.endAnimationAnimo=function(){},b}();a.clsFla=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(){this.mzPoint=[],this.mzActors=[],this.mzBullets=[],this.mzBulletsEnemy=[],this.mzPosCoins=[]}return b.prototype.init=function(){a.Global.lineTime=new a.clslineTime("mc_lineTime_lvl01"),a.Global.panelInfo=new a.clsPanelInfo,this.updateNumLifes(0),a.Global.playerActiveChange=!0},b.prototype.createBoss_01=function(){a.Global.boss=new a.clsBoss_01(671,322),a.Global.boss.setInitHealth(30);var b=new a.clsActionBoss_01(a.Global.boss);b.addAttackPosition(521,322),b.addAttackPosition(503.5,277),b.addAttackPosition(93,277),a.Global.boss.action=b,a.Global.boss.action.active=!0},b.prototype.createBoss_02=function(){a.Global.boss=new a.clsBoss_02(800,100),a.Global.boss.setInitHealth(30);var b=new a.clsActionBoss_02(a.Global.boss);b.addAttackPosition(500,100),b.addAttackPosition(100,100),a.Global.boss.action=b,a.Global.boss.action.active=!0},b.prototype.createBoss_03=function(){},b.prototype.createBoss_04=function(){},b.prototype.update=function(){a.Global.player.update(),a.Global.world.update(),a.Global.lineTime.update(),a.Global.panelInfo.update(),this.updateBoss();for(var b=0;b<this.mzBullets.length;b++)this.mzBullets[b].update(),this.mzBullets[b].state==a.Global.ST_KILL&&(delete this.mzBullets[b],this.mzBullets.splice(b,1),b--);for(var b=0;b<this.mzBulletsEnemy.length;b++)this.mzBulletsEnemy[b].update(),this.mzBulletsEnemy[b].state==a.Global.ST_KILL&&(delete this.mzBulletsEnemy[b],this.mzBulletsEnemy.splice(b,1),b--);a.Global.pieceModulator&&(a.Global.pieceModulator.update(),a.Global.pieceModulator.state==a.Global.ST_KILL&&(a.Global.pieceModulator.free(),a.Global.pieceModulator=null)),a.Global.actionEndEscene&&a.Global.actionEndEscene.update()},b.prototype.updateBoss=function(){if(a.Global.boss&&(a.Global.boss.update(),a.Global.boss.state==a.Global.ST_KILL)){a.Global.activePlayer!=a.Global.PLAYER_BEN&&(a.Global.player.transformToBen(),a.Global.playerActiveChange=!1),10!=a.Global.level&&(a.Global.pieceModulator=new a.clsModulator("mc_modulator",a.Global.boss.gpx.getX(),null));var b;2==a.Global.level?b=a.Global.priceBoss01:5==a.Global.level?b=a.Global.priceBoss02:8==a.Global.level?b=a.Global.priceBoss03:10==a.Global.level&&(b=a.Global.priceBoss04),this.updateScore(b),a.Global.boss&&a.Global.boss.free(),a.Global.boss=null}},b.prototype.createBulletPlayer=function(b,c,d,e,f,g,h,i,j,k,l){var m=0;void 0==h&&(h=180),0==j||1==j||void 0==j?(j=1,m=0):m=0==i||void 0==i?i:i/(j-1);for(var n=0;n<j;n++){var o=h+m*n,p=new a.clsBulletPlayer(b,c,d,e,f,g,o,k,l);this.mzBullets.push(p)}},b.prototype.createBulletEnemy=function(b,c,d,e,f,g,h,i,j,k,l){var m=0;void 0==h&&(h=180),0==j||1==j||void 0==j?(j=1,m=0):m=0==i||void 0==i?i:i/(j-1);for(var n=0;n<j;n++){var o=h+m*n,p=new a.clsBulletEnemy(b,c,d,e,f,g,o,k,l);this.mzBulletsEnemy.push(p)}},b.prototype.createCoins=function(){if(void 0==a.Global.mzCoins){a.Global.mzCoins=new Array;for(var c=0;c<this.mzPosCoins.length;c++){var d=(b.getNextCreationDepth(),a.BaseGame.instance.game.make.sprite(0,0,"ui","card_on"));d.x=this.mzPosCoins[c][0]-45,d.y=this.mzPosCoins[c][1]-20,d.ang=0,d.by=d.y,d.update=function(){this.y=this.by+6*Math.sin(this.ang+=.06)},a.Global.mzCoins.push([d,this.mzPosCoins[c][0],this.mzPosCoins[c][1],!0]),a.BaseGame.instance._effectLayer.addChild(d)}}else for(var c=0;c<a.Global.mzCoins.length;c++)if(a.Global.mzCoins[c][3]){var d=(b.getNextCreationDepth(),a.BaseGame.instance.game.make.sprite(0,0,"ui","card_on"));d.x=a.Global.mzCoins[c][1]-45,d.y=a.Global.mzCoins[c][2]-20,d.ang=0,d.by=d.y,d.update=function(){this.y=this.by+6*Math.sin(this.ang+=.06)},a.Global.mzCoins[c][0]=d,a.BaseGame.instance._effectLayer.addChild(d)}},b.prototype.clearCoins=function(){},b.prototype.removeCoin=function(b){this.createEffect("mc_fx_bonus_glow",a.Global.mzCoins[b][0].x+18,a.Global.mzCoins[b][0].y+18),a.Global.mzCoins[b][0].destroy(!0),a.Global.mzCoins[b][0]=null,a.Global.mzCoins[b][3]=!1,this.updateScore(a.Global.priceCoin)},b.prototype.coinsTaken=function(){a.Global.sumoCheck=0;for(var b=0;b<a.Global.mzCoins.length;b++)a.Global.mzCoins[b][3]||a.Global.sumoCheck++;return a.Global.sumoCheck},b.prototype.createPrice=function(a,b,c){},b.prototype.createMessage=function(a){},b.prototype.createEffect=function(c,d,e){if(void 0!=d&&void 0!=e){var f=(b.getNextDepthSup(),null);switch(c){case"mc_fx_mine_explosion":var g=a.BaseGame.instance.game.make.sprite(0,0,"object_atlas_1","mc_explosion_10001");g.anchor.set(.5,1),g.animations.add("ACTION",Phaser.Animation.generateFrameNames("mc_explosion_1",1,20,"",4));break;case"mc_fx_bonus_glow":var g=a.BaseGame.instance.game.make.sprite(0,0,"object_atlas_1","mc_fx_bonus_glow_10001");g.anchor.set(.5),g.animations.add("ACTION",Phaser.Animation.generateFrameNames("mc_fx_bonus_glow_1",1,8,"",4));break;case"mc_fx_hit":var g=a.BaseGame.instance.game.make.sprite(0,0,"object_atlas_1","mc_fx_hit_10001");g.anchor.set(.5),g.animations.add("ACTION",Phaser.Animation.generateFrameNames("mc_fx_hit_1",1,8,"",4));break;case"mc_boss02_explosion":var g=a.BaseGame.instance.game.make.sprite(0,0,"big_fx","mc_boss02_explosion_10001");g.anchor.set(.5,.7),g.animations.add("ACTION",Phaser.Animation.generateFrameNames("mc_boss02_explosion_1",1,20,"",4));break;case"mc_fx_glow02":var g=a.BaseGame.instance.game.make.sprite(0,0,"big_fx","mc_fx_glow02_10001");g.anchor.set(.5),g.animations.add("ACTION",Phaser.Animation.generateFrameNames("mc_fx_glow02_1",1,8,"",4)),f=function(){a.clsFla.endFxChangeToAlien()};break;case"mc_fx_glow_AlienToAlien":var g=a.BaseGame.instance.game.make.sprite(0,0,"big_fx","mc_fx_glow02_10001");g.anchor.set(.5),g.animations.add("ACTION",Phaser.Animation.generateFrameNames("mc_fx_glow02_1",1,8,"",4)),setTimeout(function(){a.clsFla.iniFxChangeAlienToAlien()},70),f=function(){a.clsFla.endChangeAlienToAlien()};break;case"mc_fx_glow_AlienToBen":var g=a.BaseGame.instance.game.make.sprite(0,0,"big_fx","mc_fx_glow02_10001");g.anchor.set(.5),g.animations.add("ACTION",Phaser.Animation.generateFrameNames("mc_fx_glow02_1",1,8,"",4)),setTimeout(function(){a.clsFla.endFxChangeToBen()},70)}g.x=d,g.y=e,a.BaseGame.instance._effectLayer.addChild(g),g.play("ACTION",60,!1,!0).onComplete.addOnce(function(){f&&f()})}},b.prototype.createEffectInPlayer=function(c){var d=(b.getNextDepthSup(),a.BaseGame.instance.game.make.sprite(0,0));d.x=0,d.y=0},b.getNextCreationDepth=function(){return b.mDepth>=b.DEPTH_MAX_CREATE?b.mDepth=b.DEPTH_MIN_CREATE:b.mDepth++,b.mDepth},b.getNextDepthSup=function(){return b.mDepthSup>=b.DEPTH_MAX_OBJECT_SUP?b.mDepth=b.DEPTH_MIN_OBJECT_SUP:b.mDepthSup++,b.mDepthSup},b.prototype.createPanelChange=function(){a.Global.player.shooting||a.Global.player.jumping||a.Global.player.state!=a.Global.ST_PLAYER_STAND_RIGHT&&a.Global.player.state!=a.Global.ST_PLAYER_STAND_LEFT&&a.Global.player.state!=a.Global.ST_PLAYER_WALK_RIGHT&&a.Global.player.state!=a.Global.ST_PLAYER_WALK_LEFT&&a.Global.player.state!=a.Global.player.action.ST_STAND||(a.Global.activePlayer!=a.Global.PLAYER_WILDVINE?a.Global.player.dir==a.Global.DIR_RIGHT?(a.Global.player.action.activeAnimation("STAND_R"),a.Global.player.action.state=a.Global.ST_PLAYER_STAND_RIGHT):(a.Global.player.action.activeAnimation("STAND_L"),a.Global.player.action.state=a.Global.ST_PLAYER_STAND_LEFT):(a.Global.player.action.activeAnimation("STAND_R"),a.Global.player.action.state=a.Global.player.action.ST_STAND),a.Global.player.action.toRight=!1,a.Global.player.action.toLeft=!1,a.Global.setPause(!0),a.BaseGame.instance._hud.visibleTransPanel(!0),a.Global.activePanelChange=!0)},b.prototype.removePanelChange=function(){a.BaseGame.instance._hud.visibleTransPanel(!1),a.Global.activePanelChange=!1,a.Global.activePlayer!=a.Global.PLAYER_BEN&&a.SoundMixer.play("Tenacious-snd-transformation-2007-1-24",.3)},b.prototype.createPanelWilmutt=function(){a.Global.panelWilmutt=!0,setTimeout(function(){a.Global.setPause(!0),a.Global.mc_panel_wilmutt=a.BaseGame.instance.game.make.graphics(0,0),a.Global.mc_panel_wilmutt.beginFill(0,.7),a.Global.mc_panel_wilmutt.drawRect(0,0,a.BaseGame.instance.game.width,a.BaseGame.instance.game.height),a.Global.mc_panel_wilmutt.endFill(),a.BaseGame.instance.backLayer.addChild(a.Global.mc_panel_wilmutt)},10)},b.prototype.createPanelCheckMsn=function(){a.Global.setPause(!0),a.Global.panelCheckMsn=a.BaseGame.instance.game.make.sprite(0,0),a.Global.panelCheckMsn.mc_checkValue.gotoAndStop("WORNG")},b.prototype.removePanelCheckMsn=function(){a.Global.setPause(!1),a.Global.panelCheat=!1,a.Global.panelCheckMsn.removeMovieClip(),delete a.Global.panelCheckMsn},b.prototype.checkPointForward=function(){(a.Global.world._x+(a.Global.world.width-200)<=400&&1==a.Global.level||4==a.Global.level)&&a.Global.player._x>470&&this.createPanel("mc_fade_change_level")},b.prototype.checkPointBackward=function(){a.Global.player._x<100&&!a.Global.actionEndEscene&&(a.Global.player.state==a.Global.ST_PLAYER_STAND_RIGHT||a.Global.player.state==a.Global.ST_PLAYER_STAND_LEFT||a.Global.player.state==a.Global.ST_PLAYER_WALK_RIGHT||a.Global.player.state==a.Global.ST_PLAYER_WALK_LEFT||a.Global.player.action.onground)&&(a.Global.actionEndEscene=new a.clsActionEnd)},b.prototype.removePanelWilmutt=function(){a.Global.setPause(!1),a.Global.panelWilmutt=!1,a.Global.mc_panel_wilmutt.destroy(!0)},b.prototype.createPanel=function(b){switch(a.Global.setPause(!0),b){case"mc_fade":a.Global.panel=a.BaseGame.instance.game.make.graphics(0,0),a.Global.panel.beginFill(0,1),a.Global.panel.drawRect(0,0,a.BaseGame.instance.game.width,a.BaseGame.instance.game.height),a.Global.panel.endFill(),a.Global.panel.alpha=0,a.BaseGame.instance.uiLayer.addChild(a.Global.panel),a.BaseGame.instance.game.add.tween(a.Global.panel).to({alpha:1},375,Phaser.Easing.Linear.None,!0).onComplete.addOnce(function(){a.clsFla.iniFade(),setTimeout(function(){a.clsFla.endFade()},975),a.BaseGame.instance.game.add.tween(a.Global.panel).to({alpha:0},375,Phaser.Easing.Linear.None,!0,975).onComplete.addOnce(function(){a.Global.panel.destroy(!0)})});break;case"mc_fade_change_level":a.Global.panel=a.BaseGame.instance.game.make.graphics(0,0),a.Global.panel.beginFill(0,1),a.Global.panel.drawRect(0,0,a.BaseGame.instance.game.width,a.BaseGame.instance.game.height),a.Global.panel.endFill(),a.Global.panel.alpha=0,a.BaseGame.instance.uiLayer.addChild(a.Global.panel),a.clsFla.beginFadeChangeLevel(),a.BaseGame.instance.game.add.tween(a.Global.panel).to({alpha:1},375,Phaser.Easing.Linear.None,!0).onComplete.addOnce(function(){a.clsFla.iniFadeChangeLevel(),setTimeout(function(){a.clsFla.mediumFadeChangeLevel()},975)})}},b.prototype.panelDestroyAndGotoNextLevel=function(){setTimeout(function(){a.clsFla.endFadeChangeLevel()},500),a.BaseGame.instance.game.add.tween(a.Global.panel).to({alpha:0},500,Phaser.Easing.Linear.None,!0,500).onComplete.addOnce(function(){a.Global.panel.destroy(!0)})},b.prototype.updateScore=function(b){a.Global.score+=b,a.Global.score>a.Global.scoreExtraLife&&(this.updateNumLifes(1),a.Global.scoreExtraLife+=a.Global.scoreNextExtraLife),a.Global.panelInfo.updateScore(a.Global.score)},b.prototype.updateEnergyLife=function(b){a.Global.playerEnergyLife+=b,a.Global.playerEnergyLife>100&&(a.Global.playerEnergyLife=100),a.Global.playerEnergyLife<=1&&(a.Global.playerEnergyLife=1,a.Global.player.action.die()),a.Global.panelInfo.updateEnergyLife(a.Global.playerEnergyLife)},b.prototype.updateNumLifes=function(b){a.Global.playerNumLife+=b,a.Global.playerNumLife>9&&(a.Global.playerNumLife=9),a.Global.playerNumLife<0&&a.BaseGame.instance.game.state.start("GameOver",!0),a.Global.panelInfo.updateNumLifes(a.Global.playerNumLife)},b.prototype.removePanel=function(){a.Global.panel&&a.Global.panel.destroy(!0)},b.prototype.createPlayer=function(b,c){a.Global.player&&(this.freePlayer(),a.Global.invincible=!1),a.Global.player=new a.clsPlayer(b,c)},b.prototype.freePlayer=function(){a.Global.player.free()},b.prototype.freeBoss=function(){a.Global.boss&&a.Global.boss.free(),a.Global.boss=null},b.prototype.freeBossReturn=function(){a.Global.bossReturn&&(a.Global.bossReturn.free(),delete a.Global.bossReturn)},b.prototype.free=function(){this.freeBoss(),this.freeBossReturn(),a.Global.player.free(),a.Global.world.free(),a.Global.world_move&&a.Global.world_move.free()},b.DEPTH_MIN_CREATE=1e3,b.DEPTH_MAX_CREATE=1999,b.mDepth=b.DEPTH_MIN_CREATE,b.DEPTH_MIN_OBJECT_SUP=5100,b.DEPTH_MAX_OBJECT_SUP=5999,b.mDepthSup=b.DEPTH_MIN_OBJECT_SUP,b}();a.clsGame=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){var c=b.call(this)||this;return a.Global.N_S=24,a.Global.M_S=4,c.mPlayerX=0,c.mzPoint=[[100,1129],[4022,1130],[9622,930]],a.Global.posX=c.mzPoint[0][0],a.Global.posY=c.mzPoint[0][1],a.Global.world=new a.clsWorld("level_01"),c.createPlayer(a.Global.posX,a.Global.posY),c.init(),a.BaseGame.instance._hud.showStartLvl(1,!1),a.Global.enemiesDie=0,a.Global.iniLevelLife=a.Global.playerNumLife,c}return __extends(c,b),c.prototype.update=function(){b.prototype.update.call(this),this.checkPointForward()},c.prototype.init=function(){b.prototype.init.call(this),delete a.Global.mzCoins,this.mzPosCoins=[[13650,915],[12874.5,1108],[11138.75,1112],[9864,912],[8457,1108],[6600,1518],[4465.5,1512],[2955,1310],[4870.75,411.5],[2152.5,407.5]],this.createCoins()},c}(a.clsGame);a.clsGameLv01=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){var c=b.call(this)||this;return a.Global.N_S=24,a.Global.M_S=4,c.mzPoint=[[14200,935],[9622,930],[4022,1130]],a.Global.posX=c.mzPoint[0][0],a.Global.posY=c.mzPoint[0][1],a.Global.world=new a.clsWorld("level_01"),c.createPlayer(a.Global.posX,a.Global.posY),c.mPlayerX=a.Global.world.width,c.init(),a.Global.bossReturn=new a.clsBossReturn("mc_boss_01"),a.BaseGame.instance._hud.showStartLvl(1,!0),c.createCoins(),c}return __extends(c,b),c.prototype.update=function(){b.prototype.update.call(this),a.Global.bossReturn&&a.Global.bossReturn.update(),this.checkPointBackward()},c}(a.clsGame);a.clsGameLv01Back=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){var c=b.call(this)||this;return a.Global.N_S=1,a.Global.M_S=1,a.Global.posX=100,a.Global.posY=320,a.Global.world=new a.clsWorld("level_01_boss"),c.createPlayer(a.Global.posX,a.Global.posY),c.init(),c.createBoss_01(),c}return __extends(c,b),c}(a.clsGame);a.clsGameLv01Boss=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){var c=b.call(this)||this;return a.Global.N_S=24,a.Global.M_S=4,c.mPlayerX=0,c.mzPoint=[[100,1127],[4160,1030],[9770,933]],a.Global.posX=c.mzPoint[0][0],a.Global.posY=c.mzPoint[0][1],a.Global.world=new a.clsWorld("level_02"),c.createPlayer(a.Global.posX,a.Global.posY),c.init(),a.BaseGame.instance._hud.showStartLvl(2,!1),a.Global.enemiesDie=0,a.Global.iniLevelLife=a.Global.playerNumLife,c}return __extends(c,b),c.prototype.update=function(){b.prototype.update.call(this),this.checkPointForward()},c.prototype.init=function(){b.prototype.init.call(this),delete a.Global.mzCoins,this.mzPosCoins=[[14049,1110],[12039.25,1510],[12654.25,310],[11164.5,310],[9864.5,1515],[8649.5,1015],[6649.75,1210],[5399.75,1515],[3949.75,305],[655,310]],this.createCoins()},c}(a.clsGame);a.clsGameLv02=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){var c=b.call(this)||this;return a.Global.N_S=24,a.Global.M_S=4,c.mzPoint=[[14158,1124],[9770,933],[4160,1030]],a.Global.posX=c.mzPoint[0][0],a.Global.posY=c.mzPoint[0][1],a.Global.world=new a.clsWorld("level_02"),c.createPlayer(a.Global.posX,a.Global.posY),c.mPlayerX=a.Global.world.width,c.init(),a.Global.bossReturn=new a.clsBossReturn("mc_boss_02"),a.BaseGame.instance._hud.showStartLvl(2,!0),c.createCoins(),c}return __extends(c,b),c.prototype.update=function(){b.prototype.update.call(this),a.Global.bossReturn.update(),this.checkPointBackward()},c}(a.clsGame);a.clsGameLv02Back=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){var c=b.call(this)||this;return a.Global.N_S=1,a.Global.M_S=1,a.Global.posX=100,a.Global.posY=320,a.Global.world=new a.clsWorld("level_02_boss"),c.createPlayer(a.Global.posX,a.Global.posY),c.init(),c.createBoss_02(),c}return __extends(c,b),c}(a.clsGame);a.clsGameLv02Boss=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(c,d){var e=b.call(this,"mc_hamster",c,d,a.Global.getRandom(a.Global.DEPTH_HAMSTER_MIN,a.Global.DEPTH_HAMSTER_MAX))||this;return e.mGpx.setResponseMode(a.clsMCE.RESPONSE_MODE_KILL),e.mLeft=!0,e}return __extends(c,b),c.prototype.orderStandLeft=function(){this.changeBossAnimation("STAND"),this.mGpx.clip.scale.x=1,this.mLeft=!0},c.prototype.orderStandRight=function(){this.changeBossAnimation("STAND"),this.mLeft&&(this.gpx.clip.scale.x=-1),this.mLeft=!1},c.prototype.orderLeft=function(){this.changeBossAnimation("RUN"),this.gpx.clip.scale.x=1,this.mLeft=!0},c.prototype.orderRight=function(){this.changeBossAnimation("RUN"),this.mLeft&&(this.gpx.clip.scale.x=-1),this.mLeft=!1},c.prototype.orderDie=function(){this.changeBossAnimation("DIE")},c.prototype.changeBossAnimation=function(a){},c.SPEED_MIN=30,c.SPEED_MAX=40,c}(a.clsActor);a.clsHamster=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(b){switch(a.Global.level){case 1:a.BaseGame.instance._hud.setWayBossIcon(1,!1),this._levelLength=515;break;case 3:a.BaseGame.instance._hud.setWayBossIcon(1,!0),this._levelLength=515;break;case 4:a.BaseGame.instance._hud.setWayBossIcon(2,!1),this._levelLength=515,a.BaseGame.instance._hud.setWayBoss(1);break;case 6:a.BaseGame.instance._hud.setWayBossIcon(2,!0),this._levelLength=515}}return b.prototype.update=function(){if(!a.Global.boss){var c=Math.abs(b.X_END*(a.Global.world._x/(a.Global.world.width-600)))/this._levelLength;if(a.BaseGame.instance._hud.setWay(c),a.Global.bossReturn){var d=b.X_2_BOSS/b.X_END_BOSS*a.Global.bossReturn.mGpx.x/this._levelLength;a.BaseGame.instance._hud.setWayBoss(d)}}},b.prototype.free=function(){},b.X_INI=28,b.X_END=515,b.X_1_BOSS=30,b.X_2_BOSS=550,b.X_INI_BOSS=0,b.X_END_BOSS=14600,b}();a.clslineTime=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(c,d,e){switch(this.mParent=null,this.movieClip=null,this.mGpxMounted=null,this.mMount=!1,this.mzLinkPoints=null,this.mTime=0,this.mDeleted=!1,this.mPause=!1,this._fire=null,this._currentAnim="",this._nameMC=c,this.movieClip=a.BaseGame.instance.game.make.sprite(0,0),a.BaseGame.instance.playerLayer.addChild(this.movieClip),c){case"mc_boss_01":this._dbBoss=new a.DBSprite(a.Boot.BOSS1,"_db/boss1/BOSS",a.BaseGame.instance.game),this._dbBoss.makeMagic(),this._dbBoss.addOffsetXY("STAND_SMALL",-48,-52),this._dbBoss.addOffsetXY("MUTATE",-48,-62),this._dbBoss.addOffsetXY("LEFT_SMALL",-48,-52),this._dbBoss.addOffsetXY("STAND",-25,0),this._dbBoss.addOffsetXY("ALERT",-25,0),this._dbBoss.addOffsetXY("SHOOT",-25,0),this._dbBoss.addOffsetXY("RELEASE",-15,0),this._dbBoss.scale.set(.8,.8),this.movieClip.addChild(this._dbBoss),this._collision=a.BaseGame.instance.make.graphics(-53.6,-31.7),this._collision.beginFill(0,0),this._collision.drawRect(0,0,94.4,81),this._collision.endFill(),this.movieClip.addChild(this._collision),this._collisionPunchBullets=a.BaseGame.instance.make.graphics(-74,-13.5),this._collisionPunchBullets.beginFill(0,0),this._collisionPunchBullets.drawRect(0,0,148,73),this._collisionPunchBullets.endFill(),this.movieClip.addChild(this._collisionPunchBullets),this._fire=new a.Fire(a.BaseGame.instance.game,3,.06,370),this._fire.position.set(400,200),a.BaseGame.instance._effectLayer.addChild(this._fire);break;case"mc_boss_02":this._dbBoss=new a.DBSprite(a.Boot.BOSS2,"_db/boss2/BOSS",a.BaseGame.instance.game),this._dbBoss.makeMagic(),this._dbBoss.scale.set(.8,.8),this.movieClip.addChild(this._dbBoss),this._collision=a.BaseGame.instance.make.graphics(-20.95,28-24.65),this._collision.beginFill(0,0),this._collision.drawRect(0,0,38.6,49.3),this._collision.endFill(),this.movieClip.addChild(this._collision),this._collisionPunchBullets=a.BaseGame.instance.make.graphics(-20.7,-.5),this._collisionPunchBullets.beginFill(0,0),this._collisionPunchBullets.drawRect(0,0,41.4,63),this._collisionPunchBullets.endFill(),this.movieClip.addChild(this._collisionPunchBullets);break;case"mc_hamster":var f=a.BaseGame.instance.make.sprite(20,55.85,"enemy_atlas_1","mc_hamster_run_10001");f.anchor.set(.5),f.animations.add("IDLE",Phaser.Animation.generateFrameNames("mc_hamster_run_1",1,24,"",4)),f.play("IDLE",40,!0),this.movieClip.addChild(f),this._collision=a.BaseGame.instance.make.graphics(-29,27.5),this._collision.beginFill(0,0),this._collision.drawRect(0,0,58,45),this._collision.endFill(),this.movieClip.addChild(this._collision)}
this.setVelocity(0,0),this.setWorldLimit(b.DEF_WORLD_LIMIT_UP,b.DEF_WORLD_LIMIT_DOWN,b.DEF_WORLD_LIMIT_LEFT,b.DEF_WORLD_LIMIT_RIGHT),this.mResponseMode=b.RESPONSE_MODE_KILL,this.mAngle=0,this.mState=a.Global.ST_BEGIN}return b.prototype.startAnimation=function(b){var c=this;if("mc_boss_01"==this._nameMC){var d=null;if(this._currentAnim==b)return;switch(this._currentAnim=b,b){case"MUTATE":d=function(){a.Global.boss.onAnimationEnd()};break;case"SHOOT":var e;a.SoundMixer.play("Tenacious-snd-hamster2-2007-02-02",.3),setTimeout(function(){a.SoundMixer.play("Tenacious-snd-hamster-acid-2007-02-02",.3),e=setInterval(function(){c._fire.addBullet(c.movieClip.scale.x>0),setTimeout(function(){c._fire.addBullet(c.movieClip.scale.x>0)},100),setTimeout(function(){c._fire.addBullet(c.movieClip.scale.x>0)},200)},200),setTimeout(function(){clearInterval(e)},2400)},3400),d=function(){a.Global.boss.onAnimationEnd()};break;case"RELEASE":case"ALERT":d=function(){a.Global.boss.onAnimationEnd()};break;case"DIE":this._collision.destroy(!0),this._collisionPunchBullets.destroy(!0),this._collision=null,this._collisionPunchBullets=null,d=function(){a.Global.boss.onAnimationEnd()};break;case"RECOVER":d=function(){c.startAnimation("RETURN")},setTimeout(function(){a.SoundMixer.play("Tenacious-snd-hamster2-2007-02-02",.3)},175),setTimeout(function(){a.SoundMixer.play("Tenacious-snd-hamster2-2007-02-02",.3)},3325);break;case"RETURN":d=function(){a.clsFla.endBossRecover()};break;case"NORMALIZE":d=function(){a.clsFla.endNormalizeBoss()}}d?this._dbBoss.playEx(b,null,d):this._dbBoss.play(b)}else if("mc_boss_02"==this._nameMC){var d=null;if(this._currentAnim==b)return;switch(this._currentAnim=b,b){case"MUTATE":a.SoundMixer.play("Tenacious-snd-hamster2-2007-02-02",.3),d=function(){a.Global.boss.onAnimationEnd()};break;case"WALK":case"ATTACK1":case"ATTACK2":break;case"SHOOT":;setTimeout(function(){a.SoundMixer.play("Tenacious-snd-hamster-acid-2007-02-02",.3),a.Global.boss.shoot()},450),d=function(){a.Global.boss.onAnimationEnd()};break;case"RELEASE":case"AGONIZE":case"ALERT":d=function(){a.Global.boss.onAnimationEnd()};break;case"DIE":this._collision.destroy(!0),this._collisionPunchBullets.destroy(!0),this._collision=null,this._collisionPunchBullets=null,d=function(){a.Global.boss.onAnimationEnd()};break;case"RECOVER":d=function(){c.startAnimation("RETURN")},setTimeout(function(){a.SoundMixer.play("Tenacious-snd-hamster2-2007-02-02",.3)},175),setTimeout(function(){a.SoundMixer.play("Tenacious-snd-hamster2-2007-02-02",.3)},3325);break;case"RETURN":d=function(){a.clsFla.endBossRecover()};break;case"NORMALIZE":d=function(){a.clsFla.endNormalizeBoss()}}d?this._dbBoss.playEx(b,null,d):this._dbBoss.play(b)}},b.prototype.setVelocity=function(b,c){this.mVelX=b,this.mVelY=c,this.mTime=a.Global.TIMER},b.prototype.setWorldLimit=function(a,b,c,d){this.mWorldLimitUp=a,this.mWorldLimitDown=b,this.mWorldLimitLeft=c,this.mWorldLimitRight=d},b.prototype.setResponseMode=function(a){this.mResponseMode=a},b.prototype.mount=function(a,b,c){this.mMount||(this.mGpxMounted=a,this.mMount_x=b,this.mMount_y=c,this.mMount=!0)},b.prototype.isMounted=function(){return this.mMount},b.prototype.dismount=function(){this.mGpxMounted=null,this.mMount=!1},b.prototype.getX=function(){return this.movieClip.x},b.prototype.getY=function(){return this.movieClip.y},b.prototype.setPosition=function(a,b){this.movieClip.x=a,this.movieClip.y=b},b.prototype.setScale=function(a){this.movieClip.scale.x=a,this.movieClip.scale.y=a},b.prototype.resize=function(a,b){this.movieClip.width=a,this.movieClip.height=b},b.prototype.rotate=function(a){this.mAngle+=a,this.movieClip.angle=this.mAngle},b.prototype.addLinkPoint=function(a,b){null==this.mzLinkPoints&&(this.mzLinkPoints=[]);var c=this.mzLinkPoints.length;return this.mzLinkPoints[c]=[a,b],c},b.prototype.getLinkPoint=function(a){return null==this.mzLinkPoints?null:this.mzLinkPoints[a]},b.prototype.onWordLimit=function(){switch(this.mResponseMode){case b.RESPONSE_MODE_KILL:this.setVelocity(0,0),this.mState=a.Global.ST_KILL;break;case b.RESPONSE_MODE_RIGID:this.movieClip.x<this.mWorldLimitLeft?this.movieClip.x=this.mWorldLimitLeft:this.movieClip.x>this.mWorldLimitRight&&(this.movieClip.x=this.mWorldLimitRight),this.movieClip.y<this.mWorldLimitUp?this.movieClip.y=this.mWorldLimitUp:this.movieClip.y>this.mWorldLimitDown&&(this.movieClip.y=this.mWorldLimitDown)}},b.prototype.checkWorldLimit=function(){this.movieClip.x<this.mWorldLimitLeft||this.movieClip.x>this.mWorldLimitRight?this.onWordLimit():(this.movieClip.y<this.mWorldLimitUp||this.movieClip.y>this.mWorldLimitDown)&&this.onWordLimit()},b.prototype.setPause=function(b){this.mPause=b,this.mPause||(this.mTime=a.Global.TIMER)},b.prototype.update=function(){if(!this.mPause&&this.mState!=a.Global.ST_KILL){if(null!=this._fire&&"SHOOT"==this._currentAnim){this._fire.update(),this._fire.update();var b=this._dbBoss.armature.getSlot("SHOOT").display.position,c=this._dbBoss.armature.getSlot("SHOOT").childArmature.getSlot("redpoint").display.position;this._fire.position.set(b.x+c.x+this.movieClip.x+(this.movieClip.scale.x>0?0:this._dbBoss.width-30),b.y+c.y+this.movieClip.y)}if(this.mMount)this.movieClip.x=this.mGpxMounted.clip.x+this.mMount_x,this.movieClip.y=this.mGpxMounted.clip.y+this.mMount_y;else if(this.mVelX||this.mVelY){var d=(a.Global.TIMER-this.mTime)/100;this.mTime=a.Global.TIMER,this.mVelX&&(this.movieClip.x+=this.mVelX*d),this.mVelY&&(this.movieClip.y+=this.mVelY*d)}this.checkWorldLimit()}},b.prototype.free=function(){this.mDeleted||(this.mState=a.Global.ST_KILL,this.movieClip.destroy(!0),this.movieClip=null,this.dismount(),this.mzLinkPoints&&(delete this.mzLinkPoints,this.mzLinkPoints=null),this.mDeleted=!0)},Object.defineProperty(b.prototype,"_parent",{get:function(){return this.mParent},set:function(a){this.mParent=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"state",{get:function(){return this.mState},set:function(a){this.mState=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"clip",{get:function(){return this.movieClip},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"_velX",{get:function(){return this.mVelX},set:function(a){this.mVelX=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"_velY",{get:function(){return this.mVelY},set:function(a){this.mVelY=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"pause",{get:function(){return this.mPause},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"collision",{get:function(){return this._collision},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"collisionPunchBullet",{get:function(){return this._collisionPunchBullets},enumerable:!0,configurable:!0}),b.DEF_WORLD_LIMIT_UP=-125,b.DEF_WORLD_LIMIT_DOWN=525,b.DEF_WORLD_LIMIT_LEFT=-300,b.DEF_WORLD_LIMIT_RIGHT=900,b.RESPONSE_MODE_KILL=1,b.RESPONSE_MODE_RIGID=2,b}();a.clsMCE=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(c,d,e){a.clsGame.getNextDepthSup();this.mGpx=a.BaseGame.instance.game.make.sprite(0,0,"object_atlas_1","mc_transmodulatorA_stand_10001"),a.BaseGame.instance.playerLayer.addChild(this.mGpx),this.mGpx.x=d,this.mGpx.y=290,2==a.Global.level?this.mGpx.animations.add("IDLE",Phaser.Animation.generateFrameNames("mc_transmodulatorA_stand_1",1,40,"",4)):5==a.Global.level?this.mGpx.animations.add("IDLE",Phaser.Animation.generateFrameNames("mc_transmodulatorB_stand_1",1,40,"",4)):8==a.Global.level&&this.mGpx.animations.add("IDLE",Phaser.Animation.generateFrameNames("mc_transmodulatorC_stand_1",1,40,"",4)),this.mGpx.play("IDLE",40,!0),this.state=b.ST_INI,a.Global.activePlayer!=a.Global.PLAYER_BEN&&a.Global.player.transformToBen()}return b.prototype.update=function(){var c=this;switch(this.state){case b.ST_INI:(a.BaseGame.instance.checkTrueCollisionOverlap(a.Global.player.collisionMain,this.mGpx)||a.BaseGame.instance.checkTrueCollisionOverlap(a.Global.player.collisionInvincible,this.mGpx))&&(a.Global.player.state!=a.Global.ST_PLAYER_STAND_RIGHT&&a.Global.player.state!=a.Global.ST_PLAYER_STAND_LEFT&&a.Global.player.state!=a.Global.ST_PLAYER_WALK_RIGHT&&a.Global.player.state!=a.Global.ST_PLAYER_WALK_LEFT||(a.Global.game.createEffect("mc_fx_bonus_glow",this.mGpx.x,this.mGpx.y+50),this.mGpx.destroy(!0),a.Global.mode_collision=!1,a.Global.panelInfo.speedChange=0,a.Global.player.action.activeAnimation("WIN_SHORT"),this.state=b.ST_WIN));break;case b.ST_WIN:break;case b.ST_RUN:if(a.Global.player.mGpx.x-=4,a.Global.player.mGpx.x<-100){var d;2==a.Global.level?d="mc_boss_01":5==a.Global.level?d="mc_boss_02":8==a.Global.level&&(d="mc_boss_03");a.clsGame.getNextDepthSup();switch(d){case"mc_boss_01":this.mGpxBoss=new a.DBSprite(a.Boot.BOSS1,"_db/boss1/BOSS",a.BaseGame.instance.game),this.mGpxBoss.makeMagic(),this.mGpxBoss.addOffsetXY("STAND_SMALL",-48,-52),this.mGpxBoss.addOffsetXY("MUTATE",-48,-52),this.mGpxBoss.addOffsetXY("LEFT_SMALL",-48,-52),this.mGpxBoss.addOffsetXY("STAND",-25,0),this.mGpxBoss.addOffsetXY("ALERT",-25,0),this.mGpxBoss.addOffsetXY("SHOOT",-25,0),this.mGpxBoss.addOffsetXY("RELEASE",-15,0),this.mGpxBoss.addOffsetXY("RETURN",0,-135),this.mGpxBoss.scale.set(.8,.8),a.BaseGame.instance.playerLayer.addChild(this.mGpxBoss);break;case"mc_boss_02":this.mGpxBoss=new a.DBSprite(a.Boot.BOSS2,"_db/boss2/BOSS",a.BaseGame.instance.game),this.mGpxBoss.makeMagic(),this.mGpxBoss.addOffsetXY("RETURN",0,-135),this.mGpxBoss.scale.set(.8,.8),a.BaseGame.instance.playerLayer.addChild(this.mGpxBoss)}this.mGpxBoss.x=300,"mc_boss_03"==d?this.mGpxBoss.x=400:this.mGpxBoss.y="mc_boss_02"==d?350:300,this.mGpxBoss.alpha=.7,this.mGpxBoss.playEx("RECOVER",null,function(){a.clsFla.endBossRecover(),c.mGpxBoss.play("RETURN")}),this.state=b.ST_REPEAR}break;case b.ST_REPEAR:break;case b.ST_FOLLOW:this.mGpxBoss.x-=4,this.mGpxBoss.x<-150&&(this.state=a.Global.ST_KILL)}},b.prototype.free=function(){this.mGpx.destroy(!0),this.mGpxBoss.free(),a.Global.game.createPanel("mc_fade_change_level",0,0)},b.ST_INI=1,b.ST_RUN=2,b.ST_REPEAR=3,b.ST_FOLLOW=4,b.ST_WIN=5,b}();a.clsModulator=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(){this.speedChange=.2,this.speedRecharge=.025,this.updateScore(a.Global.score),2==a.Global.level?a.BaseGame.instance._hud.showBossHp(1):3==a.Global.level?(a.BaseGame.instance._hud.hideBossHp(),a.BaseGame.instance._hud.showWayPlank()):5==a.Global.level?a.BaseGame.instance._hud.showBossHp(2):6==a.Global.level?(a.BaseGame.instance._hud.hideBossHp(),a.BaseGame.instance._hud.showWayPlank()):8==a.Global.level||a.Global.level,a.BaseGame.instance._hud.setPenalty(!1),this.penaltyPercent=0,this.updateEnergyTrans(0),a.BaseGame.instance._hud.setHeroHP(1),a.BaseGame.instance._hud.setHeroMana(1)}return b.prototype.update=function(){a.Global.playerTemp!=a.Global.PLAYER_BEN&&a.Global.activePlayer!=a.Global.PLAYER_BEN?a.Global.infiniteTransformation||this.updateEnergyTrans(-this.speedChange):a.Global.activePlayer!=a.Global.PLAYER_BEN||a.BaseGame.instance._hud.penaltyStatus||this.updateEnergyTrans(this.speedRecharge),a.Global.boss&&(void 0==this.mLifeBoss&&(this.mLifeBoss=a.Global.boss.health),a.BaseGame.instance._hud.setBossHP(a.Global.boss.health*b.WIDTH_BOSS_ENERGY/this.mLifeBoss/140)),a.BaseGame.instance._hud.penaltyStatus&&(this.penaltyPercent-=b.SPEED_PENALTY,a.BaseGame.instance._hud.setHeroMana(this.penaltyPercent/100),this.penaltyPercent<0&&this.removePenalty())},b.prototype.penalty=function(){a.Global.playerActiveChange=!1,a.BaseGame.instance._hud.setPenalty(!0),a.BaseGame.instance._hud.setHeroMana(1),this.penaltyPercent=100},b.prototype.removePenalty=function(){a.BaseGame.instance._hud.setPenalty(!1),this.penaltyPercent=0,a.Global.panelInfo.updateEnergyTrans(100),a.Global.pieceModulator||a.Global.actionEndEscene||(a.Global.playerActiveChange=!0)},b.prototype.updateEnergyLife=function(b){a.BaseGame.instance._hud.setHeroHP(b/100)},b.prototype.updateEnergyTrans=function(b){a.Global.playerEnergyTrans+=b,a.Global.playerEnergyTrans>100&&(a.Global.playerEnergyTrans=100),a.Global.playerEnergyTrans<0&&(a.Global.playerEnergyTrans=0,a.Global.player.transformToBen(),this.penalty()),a.BaseGame.instance._hud.setHeroMana(a.Global.playerEnergyTrans/100)},b.prototype.updateNumLifes=function(b){a.BaseGame.instance._hud.setLive(b)},b.prototype.updateScore=function(b){a.BaseGame.instance._hud.setScore(b)},b.prototype.free=function(){this.mGpx.destroy(!0)},b.WIDTH_BOSS_ENERGY=140,b.SPEED_PENALTY=.45,b}();a.clsPanelInfo=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(b,c){this.action=null,this.mAnchorPoints=null,this._collisionPunch=null,this._collisionInvincible=null,this._collisionDome=null,this._collisionArea=null,this._collisionAreaAttack=null,this._collisionSaveBug=null,this._currentAnimationName="",a.Global.activePlayer=a.Global.PLAYER_BEN,a.Global.playerAlive=!0,this.mGpx=a.BaseGame.instance.game.make.sprite(0,0),a.BaseGame.instance.playerLayer.addChild(this.mGpx),this.mGpx.x=b,this.mGpx.y=c,this.changePlayer("PLAYER_"+a.Global.activePlayer),this.x_limit_rg=a.Global.world.width-50,this.x_limit_lf=50,a.Global.playerAlive=!0,this.action=new a.TclsActionBen(this,b,c),this.mAnchorPoints=new a.clsSimSet("anchors"),a.Global.mode_collision=!0,3!=a.Global.level&&6!=a.Global.level&&9!=a.Global.level||(this.action.mDir=a.Global.DIR_LEFT)}return b.prototype.changePlayer=function(b){switch(this._playerDBSprite&&(this._playerDBSprite.position,this._playerDBSprite.free()),b){case"PLAYER_1":this._playerDBSprite=new a.DBSprite(a.Boot.PLAYERS,"GAME_ELEMNTS/mc_player_elements/mc_player_ben_elements/mc_player_ben",a.BaseGame.instance.game);break;case"PLAYER_2":this._playerDBSprite=new a.DBSprite(a.Boot.PLAYERS,"GAME_ELEMNTS/mc_player_elements/mc_player_wildmut_elements/mc_player_wildmut",a.BaseGame.instance.game);break;case"PLAYER_3":this._playerDBSprite=new a.DBSprite(a.Boot.PLAYERS,"GAME_ELEMNTS/mc_player_elements/mc_player_cannonball_elements/mc_player_cannonball",a.BaseGame.instance.game);break;case"PLAYER_4":this._playerDBSprite=new a.DBSprite(a.Boot.PLAYERS,"GAME_ELEMNTS/mc_player_elements/mc_player_heatblast_elements/mc_player_heatblast",a.BaseGame.instance.game);break;case"PLAYER_5":this._playerDBSprite=new a.DBSprite(a.Boot.PLAYERS,"GAME_ELEMNTS/mc_player_elements/mc_player_wildvine_elements/mc_player_wildvine",a.BaseGame.instance.game)}this._playerDBSprite.scale.set(1,1),this.mGpx.addChild(this._playerDBSprite),null!=this._collision&&this._collision.destroy(!0),null!=this._collision2&&this._collision2.destroy(!0),null!=this._collisionPlatform&&this._collisionPlatform.destroy(!0),null!=this._collisionPlatform&&this._collisionPlatform.destroy(!0),null!=this._collisionInvincible&&this._collisionInvincible.destroy(!0),null!=this._collisionPunch&&this._collisionPunch.destroy(!0),null!=this._collisionDome&&this._collisionDome.destroy(!0),null!=this._collisionArea&&this._collisionArea.destroy(!0),null!=this._collisionAreaAttack&&this._collisionAreaAttack.destroy(!0),null!=this._collisionSaveBug&&this._collisionSaveBug.destroy(!0);var c=[],d=[],e=[],f=[],g=[],h=[],i=0;switch(b){case"PLAYER_1":c=[-25.05,-30,48.65,20.6],d=[-16.4,-34.2,32.8,34.2],e=[-2.4,-23,4.9,5.1],f=[-23.75,5.3-7.2,34,14.4],g=[-21,-70,42,50],i=-this._playerDBSprite.height;break;case"PLAYER_2":c=[-25.05,-30,48.65,20.6],d=[-16.4,-34.2,32.8,34.2],e=[-2.4,-23,4.9,5.1],f=[-23.75,5.3-7.2,34,14.4],g=[-21,-70,42,50],h=[-28.5,-20,57,72],i=-this._playerDBSprite.height/4-20;break;case"PLAYER_3":c=[-50,-43.8,100,32],d=[-27,-72,54.1,64.1],e=[-3.5,-44.3,7.1,8.45],f=[-17.75,5.3-7.2,34,14.4],g=[-21,-100,42,90],i=20-this._playerDBSprite.height;break;case"PLAYER_4":c=[-35,-40,70,20.6],d=[-16.4,-58.2,32.8,58.2],e=[-2.4,-33,4.9,5.1],f=[-23.75,5.3-7.2,34,14.4],g=[-21,-100,42,90],i=-this._playerDBSprite.height-10;break;case"PLAYER_5":c=[-35,-40,70,20.6],d=[-16.4,-58.2,32.8,58.2],e=[-2.4,-33,4.9,5.1],f=[-23.75,5.3-7.2,34,14.4],g=[-21,-100,42,90],i=-this._playerDBSprite.height-20}this._collisionDome=a.BaseGame.instance.game.make.graphics(c[0],c[1]),this._collisionDome.beginFill(0,0),this._collisionDome.drawRect(0,0,c[2],c[3]),this._collisionDome.endFill(),this.mGpx.addChild(this._collisionDome),this._collision=a.BaseGame.instance.game.make.graphics(d[0],d[1]),this._collision.beginFill(0,0),this._collision.drawRect(0,0,d[2],d[3]),this._collision.endFill(),this.mGpx.addChild(this._collision),this._collision2=a.BaseGame.instance.game.make.graphics(e[0],e[1]),this._collision2.beginFill(0,0),this._collision2.drawRect(0,0,e[2],e[3]),this._collision2.endFill(),this.mGpx.addChild(this._collision2),this._collisionPlatform=a.BaseGame.instance.game.make.graphics(f[0],f[1]),this._collisionPlatform.beginFill(0,0),this._collisionPlatform.drawRect(0,0,f[2],f[3]),this._collisionPlatform.endFill(),this.mGpx.addChild(this._collisionPlatform),this._collisionArea=a.BaseGame.instance.game.make.graphics(g[0],g[1]),this._collisionArea.beginFill(0,0),this._collisionArea.drawRect(0,0,g[2],g[3]),this._collisionArea.endFill(),this.mGpx.addChild(this._collisionArea),this._collisionSaveBug=a.BaseGame.instance.game.make.graphics(0,0),this._collisionSaveBug.beginFill(0,0),this._collisionSaveBug.drawRect(-this._playerDBSprite.width/5,i,this._playerDBSprite.width/2.5,10),this._collisionSaveBug.endFill(),this.mGpx.addChild(this._collisionSaveBug),"PLAYER_3"==b||"PLAYER_2"==b&&(this._collisionAreaAttack=a.BaseGame.instance.game.make.graphics(h[0],h[1]),this._collisionAreaAttack.beginFill(0,0),this._collisionAreaAttack.drawRect(0,0,h[2],h[3]),this._collisionAreaAttack.endFill(),this.mGpx.addChild(this._collisionAreaAttack)),this.changePlayerAnimation("STAND_R",!0)},b.prototype.changePlayerAnimation=function(b,c){var d=this;void 0===c&&(c=!1);var e=new Phaser.Point(0,0);if(this._currentAnimationName!=b||c){switch(null!=this._collisionPunch&&(this._collisionPunch.destroy(!0),this._collisionPunch=null),this._mihailkrug&&this._mihailkrug.isPlaying&&this._mihailkrug.stop(),b){case"STAND_R":a.Global.activePlayer==a.Global.PLAYER_HEATBLAST?(this._playerDBSprite.scale.set(1,1),e.set(53.35,-152.45)):a.Global.activePlayer==a.Global.PLAYER_WILDVINE?(this._playerDBSprite.scale.set(-1,1),e.set(-1.6,44.9)):a.Global.activePlayer==a.Global.PLAYER_WILDMUTT?e.set(19.65,-55.9):a.Global.activePlayer==a.Global.PLAYER_CANNONBOLT?(this._playerDBSprite.scale.set(1,1),e.set(61,-64.6),null!=this._collisionInvincible&&(this._collisionInvincible.destroy(!0),this._collisionInvincible=null,this._collision=a.BaseGame.instance.game.make.graphics(-27,-72),this._collision.beginFill(0,0),this._collision.drawRect(0,0,54.1,64.1),this._collision.endFill(),this.mGpx.addChild(this._collision),this._collision2=a.BaseGame.instance.game.make.graphics(-3.5,-44.3),this._collision2.beginFill(0,0),this._collision2.drawRect(0,0,7.1,8.45),this._collision2.endFill(),this.mGpx.addChild(this._collision2))):e.set(-.95,-27);break;case"STAND_L":a.Global.activePlayer==a.Global.PLAYER_HEATBLAST?(this._playerDBSprite.scale.set(-1,1),e.set(-51.65,-152.45)):a.Global.activePlayer==a.Global.PLAYER_WILDVINE?(this._playerDBSprite.scale.set(1,1),e.set(3.35,44.9)):a.Global.activePlayer==a.Global.PLAYER_WILDMUTT?e.set(20.65,-56.4):a.Global.activePlayer==a.Global.PLAYER_CANNONBOLT?(this._playerDBSprite.scale.set(-1,1),e.set(-60.3,-64.6),null!=this._collisionInvincible&&(this._collisionInvincible.destroy(!0),this._collisionInvincible=null,this._collision=a.BaseGame.instance.game.make.graphics(-27,-72),this._collision.beginFill(0,0),this._collision.drawRect(0,0,54.1,64.1),this._collision.endFill(),this.mGpx.addChild(this._collision),this._collision2=a.BaseGame.instance.game.make.graphics(-3.5,-44.3),this._collision2.beginFill(0,0),this._collision2.drawRect(0,0,7.1,8.45),this._collision2.endFill(),this.mGpx.addChild(this._collision2))):e.set(-1.8,-26.6);break;case"WALK_R":a.Global.activePlayer==a.Global.PLAYER_HEATBLAST?(this._playerDBSprite.scale.set(1,1),e.set(86.4,-150.3)):a.Global.activePlayer==a.Global.PLAYER_WILDVINE?(this._playerDBSprite.scale.set(-1,1),e.set(-1.8,54.85)):a.Global.activePlayer==a.Global.PLAYER_WILDMUTT?e.set(-30.8,5.6):a.Global.activePlayer==a.Global.PLAYER_CANNONBOLT?(this._playerDBSprite.scale.set(1,1),e.set(62.5,-61.25)):e.set(14.5,-46.15);break;case"WALK_L":a.Global.activePlayer==a.Global.PLAYER_HEATBLAST?(this._playerDBSprite.scale.set(-1,1),e.set(-86.4,-150.3)):a.Global.activePlayer==a.Global.PLAYER_WILDVINE?(this._playerDBSprite.scale.set(1,1),e.set(1.8,55.1)):a.Global.activePlayer==a.Global.PLAYER_WILDMUTT?e.set(-24.05,6.1):a.Global.activePlayer==a.Global.PLAYER_CANNONBOLT?(this._playerDBSprite.scale.set(-1,1),e.set(-61.8,-61.25)):e.set(14.5,-46.15);break;case"SHOOT_R":a.Global.activePlayer==a.Global.PLAYER_HEATBLAST?(b="SHOOT_L",this._playerDBSprite.scale.set(1,1),e.set(70.85,-155.2),a.SoundMixer.play("Tenacious-snd-alien-projectile-2007-1-23",.3)):a.Global.activePlayer==a.Global.PLAYER_WILDVINE?(a.SoundMixer.play("Tenacious-snd-ben-punch-2007-1-29",.3),this._playerDBSprite.scale.set(-1,1),e.set(-2.1,50.7)):a.Global.activePlayer==a.Global.PLAYER_WILDMUTT?(e.set(18.1,-69.9),this._mihailkrug=a.SoundMixer.play("Tenacious-snd-wildmutt-radar-2007-1-23",.3,!1,!0)):a.Global.activePlayer==a.Global.PLAYER_CANNONBOLT?(this._mihailkrug=a.SoundMixer.play("Tenacious-snd-ball-mode-2007-02-19",.3,!1,!0),this._playerDBSprite.scale.set(1,1),e.set(40.6,-52.9),null!=this._collision&&null!=this._collision2&&(this._collision.destroy(!0),this._collision=null,this._collision2.destroy(!0),this._collision2=null,this._collisionInvincible=a.BaseGame.instance.game.make.graphics(-30,-68),this._collisionInvincible.beginFill(0,0),this._collisionInvincible.drawRect(0,0,60.5,57.15),this._collisionInvincible.endFill(),this.mGpx.addChild(this._collisionInvincible))):(a.SoundMixer.play("Tenacious-snd-ben-punch-2007-1-29",.3),e.set(-2.55,-20.25),null==this._collisionPunch&&(this._collisionPunch=a.BaseGame.instance.game.make.graphics(0,-40),this._collisionPunch.beginFill(0,0),this._collisionPunch.drawRect(0,0,58,37.1),this._collisionPunch.endFill(),this.mGpx.addChild(this._collisionPunch),this._collisionPunch.x=0));break;case"SHOOT_L":a.Global.activePlayer==a.Global.PLAYER_HEATBLAST?(this._playerDBSprite.scale.set(-1,1),e.set(-69.55,-155.2),a.SoundMixer.play("Tenacious-snd-alien-projectile-2007-1-23",.3)):a.Global.activePlayer==a.Global.PLAYER_WILDVINE?(a.SoundMixer.play("Tenacious-snd-ben-punch-2007-1-29",.3),this._playerDBSprite.scale.set(1,1),e.set(2.1,50.7)):a.Global.activePlayer==a.Global.PLAYER_WILDMUTT?(e.set(-5,-69.9),this._mihailkrug=a.SoundMixer.play("Tenacious-snd-wildmutt-radar-2007-1-23",.3,!1)):a.Global.activePlayer==a.Global.PLAYER_CANNONBOLT?(this._mihailkrug=a.SoundMixer.play("Tenacious-snd-ball-mode-2007-02-19",.3,!1,!0),this._playerDBSprite.scale.set(-1,1),e.set(-45.9,-52.9),null!=this._collision&&null!=this._collision2&&(this._collision.destroy(!0),this._collision=null,this._collision2.destroy(!0),this._collision2=null,this._collisionInvincible=a.BaseGame.instance.game.make.graphics(-30,-68),this._collisionInvincible.beginFill(0,0),this._collisionInvincible.drawRect(0,0,60.5,57.15),this._collisionInvincible.endFill(),this.mGpx.addChild(this._collisionInvincible))):(a.SoundMixer.play("Tenacious-snd-ben-punch-2007-1-29",.3),e.set(-14.6,-20.3),null==this._collisionPunch&&(this._collisionPunch=a.BaseGame.instance.game.make.graphics(0,-40),this._collisionPunch.beginFill(0,0),this._collisionPunch.drawRect(0,0,58,37.1),this._collisionPunch.endFill(),this.mGpx.addChild(this._collisionPunch),this._collisionPunch.x=-this._collisionPunch.width));break;case"SHOOT_JUMP_R":a.Global.activePlayer==a.Global.PLAYER_HEATBLAST?(this._playerDBSprite.scale.set(1,1),e.set(70.55,-148.35),a.SoundMixer.play("Tenacious-snd-alien-projectile-2007-1-23",.3)):(a.SoundMixer.play("Tenacious-snd-ben-punch-2007-1-29",.3),e.set(-.35,-24.45),null==this._collisionPunch&&(this._collisionPunch=a.BaseGame.instance.game.make.graphics(0,-40),this._collisionPunch.beginFill(0,0),this._collisionPunch.drawRect(0,0,58,37.1),this._collisionPunch.endFill(),this.mGpx.addChild(this._collisionPunch),this._collisionPunch.x=0));break;case"SHOOT_JUMP_L":a.Global.activePlayer==a.Global.PLAYER_HEATBLAST?(this._playerDBSprite.scale.set(-1,1),e.set(-69.85,-148.35),a.SoundMixer.play("Tenacious-snd-alien-projectile-2007-1-23",.3)):(a.SoundMixer.play("Tenacious-snd-ben-punch-2007-1-29",.3),e.set(-11.1,-24.45),null==this._collisionPunch&&(this._collisionPunch=a.BaseGame.instance.game.make.graphics(0,-40),this._collisionPunch.beginFill(0,0),this._collisionPunch.drawRect(0,0,58,37.1),this._collisionPunch.endFill(),this.mGpx.addChild(this._collisionPunch),this._collisionPunch.x=-this._collisionPunch.width));break;case"JUMP_R":a.SoundMixer.play(a.Global.activePlayer==a.Global.PLAYER_BEN?"Ben jump":"Alien jump",.3),a.Global.activePlayer==a.Global.PLAYER_HEATBLAST?(this._playerDBSprite.scale.set(1,1),e.set(68.7,-134.85)):a.Global.activePlayer==a.Global.PLAYER_WILDVINE?(this._playerDBSprite.scale.set(-1,1),e.set(-3.1,45.05)):a.Global.activePlayer==a.Global.PLAYER_WILDMUTT?e.set(13.15,-61.25):a.Global.activePlayer==a.Global.PLAYER_CANNONBOLT?(this._playerDBSprite.scale.set(1,1),e.set(61.05,-61.65)):e.set(-.35,-22.65);break;case"JUMP_L":a.SoundMixer.play(a.Global.activePlayer==a.Global.PLAYER_BEN?"Ben jump":"Alien jump",.3),a.Global.activePlayer==a.Global.PLAYER_HEATBLAST?(this._playerDBSprite.scale.set(-1,1),e.set(-68.7,-134.85)):a.Global.activePlayer==a.Global.PLAYER_WILDVINE?(this._playerDBSprite.scale.set(1,1),e.set(4.1,45.05)):a.Global.activePlayer==a.Global.PLAYER_WILDMUTT?e.set(-19.15,-60.6):a.Global.activePlayer==a.Global.PLAYER_CANNONBOLT?(this._playerDBSprite.scale.set(-1,1),e.set(-54.45,-61.65)):e.set(-10.25,-22.4);break;case"FALL_R":a.Global.activePlayer==a.Global.PLAYER_HEATBLAST?(this._playerDBSprite.scale.set(1,1),e.set(69.15,-144.2)):a.Global.activePlayer==a.Global.PLAYER_WILDVINE?(this._playerDBSprite.scale.set(-1,1),e.set(-3.1,45.05)):a.Global.activePlayer==a.Global.PLAYER_WILDMUTT?e.set(-13.9,-41.3):a.Global.activePlayer==a.Global.PLAYER_CANNONBOLT?(this._playerDBSprite.scale.set(1,1),e.set(52.55,-57.95)):e.set(-2.2,-24.4);break;case"FALL_L":a.Global.activePlayer==a.Global.PLAYER_HEATBLAST?(this._playerDBSprite.scale.set(-1,1),e.set(-70.45,-144.2)):a.Global.activePlayer==a.Global.PLAYER_WILDVINE?(this._playerDBSprite.scale.set(1,1),e.set(3.8,45.05)):a.Global.activePlayer==a.Global.PLAYER_WILDMUTT?e.set(-17.6,-41.3):a.Global.activePlayer==a.Global.PLAYER_CANNONBOLT?(this._playerDBSprite.scale.set(-1,1),e.set(-47.55,-57.95)):e.set(-4.85,-24.35);break;case"CHANGE":e.set(1.9,-26.25),setTimeout(function(){a.clsFla.playerInitChange()},150);break;case"HIT_R":e.set(-2.05,-13.45);break;case"HIT_L":e.set(3.6,-13.1);break;case"DIE":e.set(-1.35,-25.95),setTimeout(function(){a.clsFla.endPlayerDie()},600),a.SoundMixer.play("Tenacious-snd-ben-dies-2007-1-24",.3);break;case"WIN":e.set(-4.15,-27.15),setTimeout(function(){a.clsFla.endWinLevel()},2500);break;case"WIN_SHORT":e.set(-4.15,-27.2),setTimeout(function(){a.clsFla.endWinShortBen()},1100);break;case"ATTACK_BOSS1":e.set(14.45,-24.65),setTimeout(function(){a.clsFla.endAttackBoss()},400);break;case"ATTACK_BOSS2":e.set(10.45,-25.7),setTimeout(function(){a.clsFla.endAttackBoss()},400);break;case"ATTACK_BOSS3":e.set(11.45,-25.7);break;case"FALL_ATTACK_R":a.Global.activePlayer==a.Global.PLAYER_WILDMUTT&&e.set(-27.1,-31.8);break;case"FALL_ATTACK_L":a.Global.activePlayer==a.Global.PLAYER_WILDMUTT&&e.set(-8,-32.05)}this._currentAnimationName=b,this._playerDBSprite.setPos(e.x,e.y),this._playerDBSprite.playEx(b,null,function(){d.action.onEndAnimation()})}},b.prototype.invisible=function(){var b=this;this.mGpx.alpha=.5,a.Global.invincible=!0,a.BaseGame.instance.add.tween(this.mGpx).to({alpha:1},200,Phaser.Easing.Linear.None,!0,0,10).onComplete.addOnce(function(){b.deleteInvisible()})},b.prototype.deleteInvisible=function(){this.mGpx.alpha=1,a.Global.invincible=!1,clearInterval(this.idInvisible),this.idInvisible=null},b.prototype.update=function(){if(a.Global.mode_collision&&(this.action.checkState(),this.mGpx.y>a.Global.world.height+100&&(a.Global.game.createPanel("mc_fade"),a.Global.playerAlive=!1),a.Global.mzCoins))for(var b=0;b<a.Global.mzCoins.length;b++)a.Global.mzCoins[b][0]&&(a.Global.mzCoins[b][0].update(),a.BaseGame.instance.checkTrueCollisionOverlap(a.Global.mzCoins[b][0],this._collision)&&a.Global.game.removeCoin(b));this.move_world()},b.prototype.move_world=function(){a.Global.world_move&&(a.Global.world_move.mGpx.x=a.Global.world._x*((-a.Global.world_move.width+a.Global.S_W)/(-a.Global.world.width+a.Global.S_W)),a.Global.world_move.mGpx.y=a.Global.world._y*((-a.Global.world_move.height+a.Global.S_H)/(-a.Global.world.height+a.Global.S_H)))},b.prototype.activeActionPlayer=function(){var b=!1,c=0,d=0;if(this.action){var e=this.action.onground,f=(this.action.shooting,this.action.jumping),g=this.action.mElevation,h=this.action.toRight,i=this.action.toLeft,j=this.action.toAction,k=this.action.toUp,l=this.action.mDir,m=this.action.state;switch(c=this.action.x,d=this.action.y,b=!0,m){case this.action.ST_STAND:m=l==a.Global.DIR_RIGHT?a.Global.ST_PLAYER_STAND_RIGHT:a.Global.ST_PLAYER_STAND_LEFT;break;case this.action.ST_WALK:m=l==a.Global.DIR_RIGHT?a.Global.ST_PLAYER_WALK_RIGHT:a.Global.ST_PLAYER_WALK_LEFT;break;case this.action.ST_SHOOT:m=l==a.Global.DIR_RIGHT?a.Global.ST_PLAYER_SHOOT_RIGHT:a.Global.ST_PLAYER_SHOOT_LEFT;break;case this.action.ST_SWING:case this.action.ST_WAITING_FALL:case this.action.ST_FALL_WAIT:case this.action.ST_FALL:m=l==a.Global.DIR_RIGHT?4:-4,f=!0,e=!1}this.action.free(),delete this.action}a.Global.activePlayer;switch(a.Global.activePlayer=a.Global.playerTemp,0==c&&0==d&&(c=this._x,d=this._y),a.Global.activePlayer){case a.Global.PLAYER_BEN:this.action=new a.TclsActionBen(this,c,d);break;case a.Global.PLAYER_HEATBLAST:this.action=new a.TclsActionHeatblast(this,c,d);break;case a.Global.PLAYER_WILDMUTT:this.action=new a.clsActionWilmutt(this,c,d);break;case a.Global.PLAYER_WILDVINE:this.action=new a.clsActionWildvine(this,c,d);break;case a.Global.PLAYER_CANNONBOLT:this.action=new a.clsActionCannonbolt(this,c,d)}b&&(this.action.onground=e,this.action.jumping=f,this.action.mElevation=g,this.action.toRight=h,this.action.toLeft=i,this.action.toAction=j,this.action.toUp=k,this.action.mDir=l,this.action.state=m,this.action.jumping&&(this.action.mElevation=100)),this.action.mDir=l,this.changePlayer("PLAYER_"+a.Global.activePlayer),this.action.init(),a.Global.playerTemp=0},b.prototype.hit=function(a){this.action.hit(a)},b.prototype.changeBen=function(){this.changePlayerAnimation("CHANGE")},b.prototype.transformToBen=function(){a.Global.playerTemp=a.Global.PLAYER_BEN,a.Global.game.createEffect("mc_fx_glow_AlienToBen",a.Global.player._x-a.Global.world._x,a.Global.player._y-50-a.Global.world._y)},b.prototype.transformAlienToAlien=function(){a.Global.setPause(!0),a.Global.game.createEffect("mc_fx_glow_AlienToAlien",a.Global.player._x-a.Global.world._x,a.Global.player._y-50-a.Global.world._y)},b.prototype.transformToBenHit=function(){a.Global.game.createEffect("mc_fx_glow_AlienToBen",a.Global.player._x-a.Global.world._x,a.Global.player._y-50-a.Global.world._y)},b.prototype.free=function(){this.mGpx.destroy(!0)},b.prototype.setPosition=function(a,b){},Object.defineProperty(b.prototype,"dx",{get:function(){return this.action.dx},set:function(a){this.action.dx=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"currentAnimName",{get:function(){return this._currentAnimationName},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"shooting",{get:function(){return this.action.shooting},set:function(a){this.action.shooting=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"jumping",{get:function(){return this.action.jumping},set:function(a){this.action.jumping=a},enumerable:!0,configurable:!0}),
Object.defineProperty(b.prototype,"_x",{get:function(){return this.mGpx.x},set:function(a){this.mGpx.x=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"_y",{get:function(){return this.mGpx.y},set:function(a){this.mGpx.y=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"state",{get:function(){return this.action.state},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"dir",{get:function(){return this.action.mDir},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"collisionMain",{get:function(){return this._collision},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"collisionPlatform",{get:function(){return this._collisionPlatform},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"collisionPunch",{get:function(){return this._collisionPunch},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"collisionInvincible",{get:function(){return this._collisionInvincible},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"domeCollision",{get:function(){return this._collisionDome},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"areaCollision",{get:function(){return this._collisionArea},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"collisionAreaAttack",{get:function(){return this._collisionAreaAttack},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"collisionSaveBug",{get:function(){return this._collisionSaveBug},enumerable:!0,configurable:!0}),b}();a.clsPlayer=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(b,c,d){this.depth=c+a.Global.N_S*(d-1),this._emenys=[],this._platforms=[],this._bonus=[],this._toxicGases=[],this._mineArray=[],this._detectorSpr=[],this._detAnimSpr=[],this._bossRectangles=[],this._wildmuttDetectors=[],this._thornsDetectors=[],this.offcetX=0,this.offcetY=0;var e,f,g,h,i=0;if(this.xx=c,this.yy=d,"level_01"==b)if(e="level_1_a_",c>=1&&c<=7)e+="1";else if(c>=8&&c<=10)e+="2";else if(c>=11&&c<=14)e+="3";else if(c>=15&&c<=19)e+="4";else if(c>=20&&c<=22)e+="5";else{if(!(c>=23&&c<=24))return;e+="6"}else if("level_01_boss"==b)e="level_1_a_6";else if("level_02"==b)if(e="level_2_a_",c>=1&&c<=5)e+="1";else if(c>=6&&c<=9)e+="2";else if(c>=10&&c<=13)e+="3";else if(c>=14&&c<=17)e+="4";else if(c>=18&&c<=21)e+="5";else{if(!(c>=22&&c<=24))return;e+="6"}else"level_02_boss"==b&&(e="level_2_a_6");switch(f="mc_screen_"+b+"_"+c+"_"+d,this.mGpx=a.BaseGame.instance.game.make.sprite(0,0),h=a.BaseGame.mapDataArray[f],"mc_screen_level_01_24_3"==f&&(i=-38),this.mGpx.x=(this.xx-1)*a.Global.S_W,this.mGpx.y=(this.yy-1)*a.Global.S_H+this.offcetY+i,c>1&&(this.mGpx.x-=2*c),d>1&&(this.mGpx.y-=2*d),b){case"level_01":if(g=a.BaseGame.instance.game.make.sprite(0,0,e,f),g.width>590&&g.width<600&&(g.width=600),g.height>390&&g.height<400&&(g.height=400),this.mGpx.addChild(g),h&&h.checkpoint){var j=a.BaseGame.instance.game.make.sprite(h.checkpoint[0],h.checkpoint[1],"object_atlas_1","checkpoint_10001");j.anchor.set(.5,.7),j.animations.add("CHECK",Phaser.Animation.generateFrameNames("checkpoint_1",1,45,"",4)),this._detAnimSpr.push(j);var k=a.BaseGame.instance.game.make.graphics(-j.width/4,-j.height/4);k.beginFill(0,0),k.drawRect(0,0,j.width/2,j.height/2),k.endFill(),this._detectorSpr.push(k),j.addChild(k),this.mGpx.addChild(j)}if(h&&h.alerts&&!a.Global.alertPanelWildmutt)for(var l=0;l<h.alerts.length;l++){var m=h.alerts[l],n=a.BaseGame.instance.game.make.graphics(m[0]-61,m[1]-107-48);n.beginFill(0,0),n.drawRect(0,0,122,214),n.endFill(),this.mGpx.addChild(n),this._wildmuttDetectors.push(n)}a.Global.world.mGpx.addChild(this.mGpx),this.createRectangleCollides(f);break;case"level_01_boss":if(c>1||d>1)return;if(h=a.BaseGame.mapDataArray[f],g=a.BaseGame.instance.game.make.sprite(0,0,e,f),g.width>590&&g.width<600&&(g.width=600),g.height>390&&g.height<400&&(g.height=400),this.mGpx.addChild(g),a.Global.world.mGpx.addChild(this.mGpx),this.createRectangleCollides(f),h&&h.boss_platform)for(var l=0;l<h.boss_platform.length;l++){var m=h.boss_platform[l],o=a.BaseGame.instance.game.make.graphics(m[0],m[1]);o.beginFill(0,0),o.drawRect(0,0,m[2],m[3]),o.endFill(),o.name="NoHit",this.mGpx.addChild(o),this.hitRectangles.push(o),this._bossRectangles.push(o)}break;case"level_02":if(g=a.BaseGame.instance.game.make.sprite(0,0,e,f),g.width>590&&g.width<600&&(g.width=600),g.height>390&&g.height<400&&(g.height=400),this.mGpx.addChild(g),h&&h.checkpoint){var j=a.BaseGame.instance.game.make.sprite(h.checkpoint[0],h.checkpoint[1],"object_atlas_1","checkpoint_10001");j.anchor.set(.5,.7),j.animations.add("CHECK",Phaser.Animation.generateFrameNames("checkpoint_1",1,45,"",4)),this._detAnimSpr.push(j);var k=a.BaseGame.instance.game.make.graphics(-j.width/4,-j.height/4);k.beginFill(0,0),k.drawRect(0,0,j.width/2,j.height/2),k.endFill(),this._detectorSpr.push(k),j.addChild(k),this.mGpx.addChild(j)}if(h&&h.collision_panus){var k=a.BaseGame.instance.game.make.graphics(h.collision_panus[0],h.collision_panus[1]);k.beginFill(0,0),k.drawRect(0,0,h.collision_panus[2],h.collision_panus[3]),k.endFill(),this._thornsDetectors.push(k),this.mGpx.addChild(k)}a.Global.world.mGpx.addChild(this.mGpx),this.createRectangleCollides(f);break;case"level_02_boss":if(c>1||d>1)return;if(h=a.BaseGame.mapDataArray[f],g=a.BaseGame.instance.game.make.sprite(0,0,e,f),g.width>590&&g.width<600&&(g.width=600),g.height>390&&g.height<400&&(g.height=400),this.mGpx.addChild(g),a.Global.world.mGpx.addChild(this.mGpx),this.createRectangleCollides(f),h&&h.boss_platform)for(var l=0;l<h.boss_platform.length;l++){var m=h.boss_platform[l],o=a.BaseGame.instance.game.make.graphics(m[0],m[1]);o.beginFill(0,0),o.drawRect(0,0,m[2],m[3]),o.endFill(),o.name="NoHit",this.mGpx.addChild(o),this.hitRectangles.push(o),this._bossRectangles.push(o)}}}return b.prototype.createRectangleCollides=function(b){var c=a.BaseGame.mapDataArray[b];if(null!=c){if(null!=c.terrain){this.hitRectangles=[];for(var d=0;d<c.terrain.length;d++){var e=c.terrain[d],f=a.BaseGame.instance.game.make.graphics(e[0],e[1]);f.beginFill(0,0),f.drawRect(0,0,e[2],e[3]),this.hitRectangles.push(f),this.mGpx.addChild(f)}}null!=c.action&&this.switchingCode(c),null!=c.yOffcet&&(this.offcetY=c.yOffcet)}},b.prototype.switchingCode=function(b){switch(b.action){case"lvl01/cel_02_03":var c=new a.clsEnemyHorizontal(this.mGpx,"mc_enemy_hamsters02",300,314,2,1,260);this._emenys.push(c);break;case"lvl01/cel_03_02":var c=new a.clsEnemyHorizontal(this.mGpx,"mc_enemy_hamsters02",250,312,2,1,120);this._emenys.push(c);break;case"lvl01/cel_03_03":var d=new a.clsPlatformFall(this.mGpx,330,105,"mc_plataform_mask_fall_small",40,80,20,this.hitRectangles);this._platforms.push(d);var e=new a.clsPlatformFall(this.mGpx,240,170,"mc_plataform_mask_fall_small",40,80,20,this.hitRectangles);this._platforms.push(e);var f=new a.clsPlatformFall(this.mGpx,145,220,"mc_plataform_mask_fall_small",40,80,20,this.hitRectangles);this._platforms.push(f);break;case"lvl01/cel_04_01":var g=new a.clsEnemyAerial(this.mGpx,"mc_enemy_bat01",3,1,380,300,180,100,1);this._emenys.push(g);break;case"lvl01/cel_04_03":var h=new a.clsPlatformObject(this.mGpx,230,130,"mc_plataform_elevador",a.Global.MOVE_VV,3,110,100,20,this.hitRectangles);this._platforms.push(h);var c=new a.clsEnemyHorizontal(this.mGpx,"mc_enemy_hamsters02",300,314,2,1,260);this._emenys.push(c);var i=new a.clsBonus(this.mGpx,"mc_bonus_sphere",50,15);this._bonus.push(i);break;case"lvl01/cel_05_01":var g=new a.clsEnemyAerial(this.mGpx,"mc_enemy_bird03",3,1,300,300,270,100,0);this._emenys.push(g);break;case"lvl01/cel_05_03":var d=new a.clsPlatformFall(this.mGpx,520,330,"mc_plataform_mask_fall_small",30,80,20,this.hitRectangles);this._platforms.push(d);var j=new a.clsBonus(this.mGpx,"mc_bonus_health",400,320);this._bonus.push(j);break;case"lvl01/cel_06_01":break;case"lvl01/cel_06_03":var k=new a.clsPlatformFall(this.mGpx,300,330,"mc_plataform_mask_fall_small",30,80,20,this.hitRectangles),l=new a.clsPlatformFall(this.mGpx,170,330,"mc_plataform_mask_fall_small",30,80,20,this.hitRectangles),m=new a.clsPlatformFall(this.mGpx,50,330,"mc_plataform_mask_fall_small",30,80,20,this.hitRectangles);this._platforms.push(k),this._platforms.push(l),this._platforms.push(m);break;case"lvl01/cel_06_04":var c=new a.clsEnemyHorizontal(this.mGpx,"mc_enemy_hamsters02",175,100,2,1,150);this._emenys.push(c);break;case"lvl01/cel_07_01":break;case"lvl01/cel_07_03":var k=new a.clsPlatformFall(this.mGpx,190,350,"mc_plataform_mask_fall_small",30,80,20,this.hitRectangles),l=new a.clsPlatformFall(this.mGpx,305,350,"mc_plataform_mask_fall_small",30,80,20,this.hitRectangles),n=new a.clsEnemyToxicGas(a.BaseGame.instance._toxicLayer,"mc_toxic_gases",520+this.mGpx.x,315+this.mGpx.y,3);this._platforms.push(k),this._platforms.push(l),this._toxicGases.push(n);break;case"lvl01/cel_08_01":var g=new a.clsEnemyAerial(this.mGpx,"mc_enemy_bird03",3,1,300,300,270,100,0);this._emenys.push(g);break;case"lvl01/cel_08_02":var i=new a.clsBonus(this.mGpx,"mc_bonus_sphere",300,20);this._bonus.push(i);break;case"lvl01/cel_08_03":var n=new a.clsEnemyToxicGas(a.BaseGame.instance._toxicLayer,"mc_toxic_gases",100+this.mGpx.x,315+this.mGpx.y,4),o=new a.clsEnemyToxicGas(a.BaseGame.instance._toxicLayer,"mc_toxic_gases",280+this.mGpx.x,315+this.mGpx.y,3),p=new a.clsEnemyToxicGas(a.BaseGame.instance._toxicLayer,"mc_toxic_gases",460+this.mGpx.x,315+this.mGpx.y,4);this._toxicGases.push(n),this._toxicGases.push(o),this._toxicGases.push(p);break;case"lvl01/cel_08_04":var j=new a.clsBonus(this.mGpx,"mc_bonus_sphere",320,320);this._bonus.push(j);break;case"lvl01/cel_09_01":case"lvl01/cel_09_02":break;case"lvl01/cel_09_03":var q=new a.clsEnemyHorWait(this.mGpx,"mc_enemy_worm02",300,320,2,1,260,250),k=new a.clsPlatformFall(this.mGpx,160,180,"mc_plataform_mask_fall_small",30,80,20,this.hitRectangles),l=new a.clsPlatformFall(this.mGpx,69,220,"mc_plataform_mask_fall_small",30,80,20,this.hitRectangles);this._platforms.push(k),this._platforms.push(l),this._emenys.push(q);break;case"lvl01/cel_09_04":var q=new a.clsEnemyHorWait(this.mGpx,"mc_enemy_worm02",300,320,2,1,270,200);this._emenys.push(q);break;case"lvl01/cel_10_01":case"lvl01/cel_10_02":break;case"lvl01/cel_10_03":var k=new a.clsPlatformFall(this.mGpx,410,330,"mc_plataform_mask_fall_small",30,100,20,this.hitRectangles);this._platforms.push(k);break;case"lvl01/cel_10_04":var q=new a.clsEnemyHorWait(this.mGpx,"mc_enemy_worm02",185,320,1,1,145,300),h=new a.clsPlatformObject(this.mGpx,450,170,"mc_plataform_elevador",a.Global.MOVE_VV,3,150,100,20,this.hitRectangles);this._emenys.push(q),this._platforms.push(h);break;case"lvl01/cel_11_02":break;case"lvl01/cel_11_03":var r=new a.clsEnemyMine(this.mGpx,"mc_mine",175,330),s=new a.clsEnemyMine(this.mGpx,"mc_mine",230,330),t=new a.clsEnemyMine(this.mGpx,"mc_mine",380,330),u=new a.clsEnemyMine(this.mGpx,"mc_mine",530,330),v=new a.clsEnemyMine(this.mGpx,"mc_mine",580,330),j=new a.clsBonus(this.mGpx,"mc_bonus_health",70,320);this._mineArray.push(r),this._mineArray.push(s),this._mineArray.push(t),this._mineArray.push(u),this._mineArray.push(v),this._bonus.push(j);break;case"lvl01/cel_11_04":var w=new a.clsEnemyHorizontal(this.mGpx,"mc_enemy_hamsters02",300,310,2,1,250);this._emenys.push(w);break;case"lvl01/cel_12_01":break;case"lvl01/cel_12_03":var x=new a.clsEnemyAerial(this.mGpx,"mc_enemy_bat01",3,1,300,200,250,100,1),s=new a.clsEnemyMine(this.mGpx,"mc_mine",95,330),t=new a.clsEnemyMine(this.mGpx,"mc_mine",265,330),u=new a.clsEnemyMine(this.mGpx,"mc_mine",325,330),v=new a.clsEnemyMine(this.mGpx,"mc_mine",475,330);this._emenys.push(x),this._mineArray.push(s),this._mineArray.push(t),this._mineArray.push(u),this._mineArray.push(v);break;case"lvl01/cel_12_04":var j=new a.clsBonus(this.mGpx,"mc_bonus_sphere",450,320),w=new a.clsEnemyHorizontal(this.mGpx,"mc_enemy_bat02",300,212,2,1,270);this._bonus.push(j),this._emenys.push(w);break;case"lvl01/cel_13_02":break;case"lvl01/cel_13_03":var r=new a.clsEnemyMine(this.mGpx,"mc_mine",95,330),s=new a.clsEnemyMine(this.mGpx,"mc_mine",145,330),t=new a.clsEnemyMine(this.mGpx,"mc_mine",275,330),u=new a.clsEnemyMine(this.mGpx,"mc_mine",455,330),v=new a.clsEnemyMine(this.mGpx,"mc_mine",500,330);this._mineArray.push(r),this._mineArray.push(s),this._mineArray.push(t),this._mineArray.push(u),this._mineArray.push(v);break;case"lvl01/cel_13_04":var w=new a.clsEnemyHorizontal(this.mGpx,"mc_enemy_hamsters02",300,310,2,1,270);this._emenys.push(w);break;case"lvl01/cel_14_02":break;case"lvl01/cel_14_03":var w=new a.clsEnemyHorizontal(this.mGpx,"mc_enemy_hamsters02",230,108,2,1,40);this._emenys.push(w);break;case"lvl01/cel_15_03":if(1==a.Global.level){var y=a.BaseGame.instance.make.sprite(b.mc_rock_01_15_3[0][0],b.mc_rock_01_15_3[0][1],"level_1_a_4","mc_screen_level_01_15_3_1_rock");y.anchor.set(.5),this.mGpx.addChild(y);var z=a.BaseGame.instance.make.graphics(109.25,123.95);z.beginFill(0,0),z.drawRect(0,0,62.2,214.15),z.endFill(),this.mGpx.addChild(z),this.hitRectangles.push(z)}var h=new a.clsPlatformObject(this.mGpx,245,215,"mc_plataform_elevador",a.Global.MOVE_VV,2,150,100,20,this.hitRectangles);this._platforms.push(h);var i=new a.clsBonus(this.mGpx,"mc_bonus_health",420,125);this._bonus.push(i);break;case"lvl01/cel_17_03":var j=new a.clsBonus(this.mGpx,"mc_bonus_sphere",500,125);this._bonus.push(j);break;case"lvl01/cel_18_02":var n=new a.clsEnemyToxicGas(a.BaseGame.instance._toxicLayer,"mc_toxic_gases",90+this.mGpx.x,210+this.mGpx.y,3),o=new a.clsEnemyToxicGas(a.BaseGame.instance._toxicLayer,"mc_toxic_gases",290+this.mGpx.x,210+this.mGpx.y,5),p=new a.clsEnemyToxicGas(a.BaseGame.instance._toxicLayer,"mc_toxic_gases",500+this.mGpx.x,210+this.mGpx.y,6);this._toxicGases.push(n),this._toxicGases.push(o),this._toxicGases.push(p);break;case"lvl01/cel_19_02":break;case"lvl01/cel_19_03":var k=new a.clsPlatformFall(this.mGpx,320,160,"mc_plataform_mask_fall_small",30,80,10,this.hitRectangles);this._platforms.push(k);var i=new a.clsBonus(this.mGpx,"mc_bonus_sphere",500,125);this._bonus.push(i);break;case"lvl01/cel_19_04":var k=new a.clsPlatformFall(this.mGpx,230,220,"mc_plataform_mask_fall_small",30,80,10,this.hitRectangles);this._platforms.push(k);break;case"lvl01/cel_20_01":case"lvl01/cel_20_02":break;case"lvl01/cel_20_03":var r=new a.clsEnemyMine(this.mGpx,"mc_mine",245,233),s=new a.clsEnemyMine(this.mGpx,"mc_mine",385,233),t=new a.clsEnemyMine(this.mGpx,"mc_mine",435,233),u=new a.clsEnemyMine(this.mGpx,"mc_mine",575,233);this._mineArray.push(r),this._mineArray.push(s),this._mineArray.push(t),this._mineArray.push(u);break;case"lvl01/cel_20_04":var q=new a.clsEnemyHorWait(this.mGpx,"mc_enemy_worm02",300,325,1,1,250,300);this._emenys.push(q);break;case"lvl01/cel_21_02":break;case"lvl01/cel_21_03":var r=new a.clsEnemyMine(this.mGpx,"mc_mine",110,235),s=new a.clsEnemyMine(this.mGpx,"mc_mine",150,235),t=new a.clsEnemyMine(this.mGpx,"mc_mine",300,235),u=new a.clsEnemyMine(this.mGpx,"mc_mine",430,235),v=new a.clsEnemyMine(this.mGpx,"mc_mine",470,235),A=new a.clsEnemyMine(this.mGpx,"mc_mine",575,235);this._mineArray.push(r),this._mineArray.push(s),this._mineArray.push(t),this._mineArray.push(u),this._mineArray.push(v),this._mineArray.push(A);break;case"lvl01/cel_21_04":var q=new a.clsEnemyHorWait(this.mGpx,"mc_enemy_worm02",300,325,1,1,270,200);this._emenys.push(q);break;case"lvl01/cel_22_02":break;case"lvl01/cel_22_03":if(1==a.Global.level){var B=a.BaseGame.instance.make.sprite(b.mc_rock_01_22_3[0][0],b.mc_rock_01_22_3[0][1],"level_1_a_5","mc_screen_level_01_22_3_rock");B.anchor.set(.5),this.mGpx.addChild(B);var z=a.BaseGame.instance.make.graphics(197,141.75);z.beginFill(0,0),z.drawRect(0,0,327,54.15),z.endFill(),this.mGpx.addChild(z),this.hitRectangles.push(z)}var i=new a.clsBonus(this.mGpx,"mc_bonus_health",125,130);this._bonus.push(i);break;case"lvl01/cel_22_04":var k=new a.clsPlatformFall(this.mGpx,420,220,"mc_plataform_mask_fall_small",30,80,10,this.hitRectangles);this._platforms.push(k);var w=new a.clsEnemyHorizontal(this.mGpx,"mc_enemy_bat02",100,300,2,1,170);this._emenys.push(w);break;case"lvl01/cel_23_03":var i=new a.clsBonus(this.mGpx,"mc_bonus_sphere",250,130);this._bonus.push(i);break;case"lvl01/cel_24_03":var w=new a.clsEnemyHorizontal(this.mGpx,"mc_enemy_hamsters02",225,164,2,1,160);this._emenys.push(w);var C=a.BaseGame.instance.make.sprite(b.totem[0],b.totem[1],"level_1_a_6","level_01_totem");C.anchor.set(.5),this.mGpx.addChild(C);break;case"lvl02/cel_02_01":var i=new a.clsBonus(this.mGpx,"mc_bonus_health",130,310);this._bonus.push(i);break;case"lvl02/cel_02_03":var g=new a.clsEnemyAerial(this.mGpx,"mc_enemy_bat02",2,1,300,220,250,100,1);this._emenys.push(g);break;case"lvl02/cel_03_01":var g=new a.clsEnemyAerial(this.mGpx,"mc_enemy_bat02",2,1,300,200,250,100,0);this._emenys.push(g);break;case"lvl02/cel_03_03":var D=new a.clsEnemyAquatic(this.mGpx,"mc_enemy_fish05",360,345,2,1,200,160,260);this._emenys.push(D);break;case"lvl02/cel_04_04":var g=new a.clsEnemyAerial(this.mGpx,"mc_enemy_bird03",2,1,300,200,250,100,0);this._emenys.push(g);break;case"lvl02/cel_04_03":var D=new a.clsEnemyAquatic(this.mGpx,"mc_enemy_fish05",240,345,2,1,210,180,260);this._emenys.push(D);var i=new a.clsBonus(this.mGpx,"mc_bonus_sphere",570,215);this._bonus.push(i);break;case"lvl02/cel_05_01":var i=new a.clsBonus(this.mGpx,"mc_bonus_sphere",50,310);this._bonus.push(i);break;case"lvl02/cel_05_02":break;case"lvl02/cel_05_03":var n=new a.clsEnemyToxicGas(a.BaseGame.instance._toxicLayer,"mc_toxic_gases",425+this.mGpx.x,220+this.mGpx.y,3);this._toxicGases.push(n);var i=new a.clsBonus(this.mGpx,"mc_bonus_health",200,125);this._bonus.push(i);break;case"lvl02/cel_06_01":break;case"lvl02/cel_06_03":var k=new a.clsPlatformFall(this.mGpx,217,235,"mc_plataform_mask_fall_small",30,90,20,this.hitRectangles);this._platforms.push(k);var n=new a.clsEnemyToxicGas(a.BaseGame.instance._toxicLayer,"mc_toxic_gases",55+this.mGpx.x,220+this.mGpx.y,4);this._toxicGases.push(n);var o=new a.clsEnemyToxicGas(a.BaseGame.instance._toxicLayer,"mc_toxic_gases",420+this.mGpx.x,220+this.mGpx.y,3);this._toxicGases.push(o);break;case"lvl02/cel_07_01":break;case"lvl02/cel_07_03":var k=new a.clsPlatformFall(this.mGpx,225,275,"mc_plataform_mask_fall_big",30,100,20,this.hitRectangles);this._platforms.push(k);var l=new a.clsPlatformFall(this.mGpx,415,275,"mc_plataform_mask_fall_big",30,100,20,this.hitRectangles);this._platforms.push(l);var i=new a.clsBonus(this.mGpx,"mc_bonus_sphere",560,220);this._bonus.push(i);break;case"lvl02/cel_07_04":var h=new a.clsPlatformObject(this.mGpx,400,220,"mc_plataform_elevador",a.Global.MOVE_VV,1,130,80,20,this.hitRectangles);this._platforms.push(h);break;case"lvl02/cel_08_01":var g=new a.clsEnemyAerial(this.mGpx,"mc_enemy_bird03",2,1,300,200,250,100,1);this._emenys.push(g);break;case"lvl02/cel_08_03":var g=new a.clsEnemyAerial(this.mGpx,"mc_enemy_bat02",2,1,350,160,220,160,1);this._emenys.push(g);var r=new a.clsEnemyMine(this.mGpx,"mc_mine",120,325),s=new a.clsEnemyMine(this.mGpx,"mc_mine",250,325),t=new a.clsEnemyMine(this.mGpx,"mc_mine",300,325),u=new a.clsEnemyMine(this.mGpx,"mc_mine",420,325),v=new a.clsEnemyMine(this.mGpx,"mc_mine",540,325),A=new a.clsEnemyMine(this.mGpx,"mc_mine",580,325);this._mineArray.push(r),this._mineArray.push(s),this._mineArray.push(t),this._mineArray.push(u),this._mineArray.push(v),this._mineArray.push(A);break;case"lvl02/cel_08_04":var w=new a.clsEnemyHorizontal(this.mGpx,"mc_enemy_hamsters02",300,305,2,1,270);this._emenys.push(w);break;case"lvl02/cel_09_01":var i=new a.clsBonus(this.mGpx,"mc_bonus_sphere",270,310);this._bonus.push(i);break;case"lvl02/cel_09_03":var g=new a.clsEnemyAerial(this.mGpx,"mc_enemy_bat02",2,1,300,200,250,100,1);this._emenys.push(g);var r=new a.clsEnemyMine(this.mGpx,"mc_mine",90,325),s=new a.clsEnemyMine(this.mGpx,"mc_mine",200,325),t=new a.clsEnemyMine(this.mGpx,"mc_mine",240,325),u=new a.clsEnemyMine(this.mGpx,"mc_mine",360,325),v=new a.clsEnemyMine(this.mGpx,"mc_mine",450,325),A=new a.clsEnemyMine(this.mGpx,"mc_mine",490,325);new a.clsEnemyMine(this.mGpx,"mc_mine",580,325);this._mineArray.push(r),this._mineArray.push(s),this._mineArray.push(t),this._mineArray.push(u),this._mineArray.push(v),this._mineArray.push(A);break;case"lvl02/cel_09_04":var w=new a.clsEnemyHorizontal(this.mGpx,"mc_enemy_hamsters02",300,305,2,1,270);this._emenys.push(w);break;case"lvl02/cel_10_01":var g=new a.clsEnemyAerial(this.mGpx,"mc_enemy_bird03",2,1,300,200,250,100,0);this._emenys.push(g);break;case"lvl02/cel_10_02":break;case"lvl02/cel_10_03":var k=new a.clsPlatformFall(this.mGpx,308,205,"mc_plataform_mask_fall_small",30,80,20,this.hitRectangles);this._platforms.push(k);var l=new a.clsPlatformFall(this.mGpx,420,140,"mc_plataform_mask_fall_small",30,80,20,this.hitRectangles);this._platforms.push(l);var i=new a.clsBonus(this.mGpx,"mc_bonus_sphere",550,65);this._bonus.push(i);break;case"lvl02/cel_10_04":if(4==a.Global.level){var E=a.BaseGame.instance.make.sprite(b.barier[0],b.barier[1],"object_atlas_1","tl_bloqueobstaculo03.png");E.anchor.set(.5),this.mGpx.addChild(E);var z=a.BaseGame.instance.make.graphics(137,91.75);z.beginFill(0,0),z.drawRect(0,0,54.15,327),z.endFill(),this.mGpx.addChild(z),this.hitRectangles.push(z)}var w=new a.clsEnemyHorizontal(this.mGpx,"mc_enemy_hamsters02",350,305,2,1,100);this._emenys.push(w);break;case"lvl02/cel_11_01":break;case"lvl02/cel_11_03":var k=new a.clsPlatformFall(this.mGpx,200,90,"mc_plataform_mask_fall_small",30,80,20,this.hitRectangles);this._platforms.push(k);var l=new a.clsPlatformFall(this.mGpx,350,90,"mc_plataform_mask_fall_small",30,80,20,this.hitRectangles);this._platforms.push(l);var i=new a.clsBonus(this.mGpx,"mc_bonus_health",40,65);this._bonus.push(j);break;case"lvl02/cel_11_04":var F=new a.clsEnemyPirana(this.mGpx,"mc_enemy_fish04",145,300,1,0);this._emenys.push(F);var G=new a.clsEnemyPirana(this.mGpx,"mc_enemy_fish04",550,180,1,2);this._emenys.push(G);var j=new a.clsBonus(this.mGpx,"mc_bonus_sphere",50,215);this._bonus.push(j);break;case"lvl02/cel_12_01":case"lvl02/cel_12_02":break;case"lvl02/cel_12_03":var k=new a.clsPlatformFall(this.mGpx,215,110,"mc_plataform_mask_fall_small",30,80,20,this.hitRectangles);this._platforms.push(k);var l=new a.clsPlatformFall(this.mGpx,335,145,"mc_plataform_mask_fall_small",30,80,20,this.hitRectangles);this._platforms.push(l);break;case"lvl02/cel_12_04":var F=new a.clsEnemyPirana(this.mGpx,"mc_enemy_fish04",145,115,1,3);this._emenys.push(F);break;case"lvl02/cel_13_02":break;case"lvl02/cel_13_03":var k=new a.clsPlatformFall(this.mGpx,240,140,"mc_plataform_mask_fall_small",30,80,20,this.hitRectangles);this._platforms.push(k);var l=new a.clsPlatformFall(this.mGpx,110,185,"mc_plataform_mask_fall_small",30,80,20,this.hitRectangles);this._platforms.push(l);var q=new a.clsEnemyHorWait(this.mGpx,"mc_enemy_worm02",325,320,1,1,220,200);this._emenys.push(q);break;case"lvl02/cel_14_03":var g=new a.clsEnemyAerial(this.mGpx,"mc_enemy_bat02",2,1,275,190,250,120,1);this._emenys.push(g);var j=new a.clsBonus(this.mGpx,"mc_bonus_sphere",580,220);this._bonus.push(j);break;case"lvl02/cel_15_03":var D=new a.clsEnemyAquatic(this.mGpx,"mc_enemy_fish05",150,345,2,1,110,90,260);this._emenys.push(D);var H=new a.clsEnemyAquatic(this.mGpx,"mc_enemy_fish05",350,345,2,1,110,90,260);this._emenys.push(H);var j=new a.clsBonus(this.mGpx,"mc_bonus_health",570,220);this._bonus.push(j);break;case"lvl02/cel_17_02":break;case"lvl02/cel_17_03":var n=new a.clsEnemyToxicGas(a.BaseGame.instance._toxicLayer,"mc_toxic_gases",300+this.mGpx.x,120+this.mGpx.y,4);this._toxicGases.push(n);var o=new a.clsEnemyToxicGas(a.BaseGame.instance._toxicLayer,"mc_toxic_gases",500+this.mGpx.x,120+this.mGpx.y,3);this._toxicGases.push(o);var j=new a.clsBonus(this.mGpx,"mc_bonus_sphere",75,220);this._bonus.push(j);break;case"lvl02/cel_17_04":var j=new a.clsBonus(this.mGpx,"mc_bonus_sphere",260,220);this._bonus.push(j);break;case"lvl02/cel_18_01":case"lvl02/cel_18_02":break;case"lvl02/cel_18_03":var n=new a.clsEnemyToxicGas(a.BaseGame.instance._toxicLayer,"mc_toxic_gases",100+this.mGpx.x,120+this.mGpx.y,4);this._toxicGases.push(n);var o=new a.clsEnemyToxicGas(a.BaseGame.instance._toxicLayer,"mc_toxic_gases",300+this.mGpx.x,120+this.mGpx.y,3);this._toxicGases.push(o);var p=new a.clsEnemyToxicGas(a.BaseGame.instance._toxicLayer,"mc_toxic_gases",500+this.mGpx.x,120+this.mGpx.y,5);this._toxicGases.push(p);break;case"lvl02/cel_18_04":var r=new a.clsEnemyMine(this.mGpx,"mc_mine",20,325),s=new a.clsEnemyMine(this.mGpx,"mc_mine",60,325),t=new a.clsEnemyMine(this.mGpx,"mc_mine",200,325),u=new a.clsEnemyMine(this.mGpx,"mc_mine",340,325),v=new a.clsEnemyMine(this.mGpx,"mc_mine",380,325),A=new a.clsEnemyMine(this.mGpx,"mc_mine",570,325);this._mineArray.push(r),this._mineArray.push(s),this._mineArray.push(t),this._mineArray.push(u),this._mineArray.push(v),this._mineArray.push(A);break;case"lvl02/cel_19_01":var g=new a.clsEnemyAerial(this.mGpx,"mc_enemy_bat02",2,1,300,200,250,100,0);this._emenys.push(g);break;case"lvl02/cel_19_03":var k=new a.clsPlatformFall(this.mGpx,325,133,"mc_plataform_mask_fall_small",30,90,20,this.hitRectangles);this._platforms.push(k);var j=new a.clsBonus(this.mGpx,"mc_bonus_health",505,325);this._bonus.push(j);var n=new a.clsEnemyToxicGas(a.BaseGame.instance._toxicLayer,"mc_toxic_gases",57+this.mGpx.x,120+this.mGpx.y,4);this._toxicGases.push(n);break;case"lvl02/cel_19_04":var r=new a.clsEnemyMine(this.mGpx,"mc_mine",20,325),s=new a.clsEnemyMine(this.mGpx,"mc_mine",60,325),t=new a.clsEnemyMine(this.mGpx,"mc_mine",200,325);this._mineArray.push(r),this._mineArray.push(s),this._mineArray.push(t);var h=new a.clsPlatformObject(this.mGpx,350,220,"mc_plataform_elevador",a.Global.MOVE_VV,3,150,100,20,this.hitRectangles);this._platforms.push(h);var q=new a.clsEnemyHorWait(this.mGpx,"mc_enemy_worm02",485,315,1,1,50,200);this._emenys.push(q);break;case"lvl02/cel_20_01":var j=new a.clsBonus(this.mGpx,"mc_bonus_sphere",475,310);this._bonus.push(j);break;case"lvl02/cel_20_03":var r=new a.clsEnemyMine(this.mGpx,"mc_mine",145,230),s=new a.clsEnemyMine(this.mGpx,"mc_mine",235,230),t=new a.clsEnemyMine(this.mGpx,"mc_mine",365,230),u=new a.clsEnemyMine(this.mGpx,"mc_mine",510,230),v=new a.clsEnemyMine(this.mGpx,"mc_mine",550,230);this._mineArray.push(r),this._mineArray.push(s),this._mineArray.push(t),this._mineArray.push(u),this._mineArray.push(v);var g=new a.clsEnemyAerial(this.mGpx,"mc_enemy_bird03",2,1,350,100,200,110,1);this._emenys.push(g);var j=new a.clsBonus(this.mGpx,"mc_bonus_sphere",445,225);this._bonus.push(j);break;case"lvl02/cel_20_04":var h=new a.clsPlatformObject(this.mGpx,230,240,"mc_plataform_elevador",a.Global.MOVE_HH,2,240,100,20,this.hitRectangles);this._platforms.push(h);var j=new a.clsBonus(this.mGpx,"mc_bonus_health",570,325);this._bonus.push(j);break;case"lvl02/cel_21_01":var g=new a.clsEnemyAerial(this.mGpx,"mc_enemy_bat02",2,1,300,200,250,100,1);this._emenys.push(g);break;case"lvl02/cel_21_03":var r=new a.clsEnemyMine(this.mGpx,"mc_mine",90,230),s=new a.clsEnemyMine(this.mGpx,"mc_mine",130,230),t=new a.clsEnemyMine(this.mGpx,"mc_mine",250,230),u=new a.clsEnemyMine(this.mGpx,"mc_mine",375,230);this._mineArray.push(r),this._mineArray.push(s),this._mineArray.push(t),this._mineArray.push(u);var g=new a.clsEnemyAerial(this.mGpx,"mc_enemy_bat02",2,1,200,65,150,170,1);this._emenys.push(g);var j=new a.clsBonus(this.mGpx,"mc_bonus_health",30,225);this._bonus.push(j);break;case"lvl02/cel_21_04":if(4==a.Global.level){var I=a.BaseGame.instance.make.sprite(b.barier[0],b.barier[1],"object_atlas_1","tl_bloqueobstaculo03.png");I.anchor.set(.5),this.mGpx.addChild(I);var z=a.BaseGame.instance.make.graphics(b.barier[0]-27,b.barier[1]-163);z.beginFill(0,0),z.drawRect(0,0,54.15,327),z.endFill(),this.mGpx.addChild(z),this.hitRectangles.push(z)}var h=new a.clsPlatformObject(this.mGpx,235,240,"mc_plataform_elevador",a.Global.MOVE_HH,2,95,100,20,this.hitRectangles);this._platforms.push(h);break;case"lvl02/cel_22_01":break;case"lvl02/cel_22_03":var J=new a.clsEnemyHorWait(this.mGpx,"mc_enemy_worm02",325,25,1,1,200,300);this._emenys.push(J);break;case"lvl02/cel_22_04":var J=new a.clsEnemyHorWait(this.mGpx,"mc_enemy_worm02",420,130,1,1,140,200);this._emenys.push(J);break;case"lvl02/cel_23_02":break;case"lvl02/cel_23_03":var l=new a.clsPlatformFall(this.mGpx,210,60,"mc_plataform_mask_fall_small",30,80,20,this.hitRectangles);this._platforms.push(l);break;case"lvl02/cel_23_04":var F=new a.clsEnemyPirana(this.mGpx,"mc_enemy_fish04",355,205,1,0);this._emenys.push(F);var G=new a.clsEnemyPirana(this.mGpx,"mc_enemy_fish04",150,205,1,2);this._emenys.push(G);break;case"lvl02/cel_24_03":var l=new a.clsPlatformFall(this.mGpx,95,235,"mc_plataform_mask_fall_big",30,120,20,this.hitRectangles);this._platforms.push(l);break;case"lvl02/cel_24_04":var j=new a.clsBonus(this.mGpx,"mc_bonus_sphere",180,30);this._bonus.push(j)}},Object.defineProperty(b.prototype,"hitTerrains",{get:function(){return this.hitRectangles},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"nameGround",{get:function(){return this.mGpx.frameName},enumerable:!0,configurable:!0}),b.prototype.update=function(){if(this._emenys.length>0)for(var b=0;b<this._emenys.length;b++)this._emenys[b].update();if(this._platforms.length>0)for(var b=0;b<this._platforms.length;b++)this._platforms[b].update();if(this._bonus.length>0)for(var b=0;b<this._bonus.length;b++)this._bonus[b].update();if(this._toxicGases.length>0)for(var b=0;b<this._toxicGases.length;b++)this._toxicGases[b].update();if(this._mineArray.length>0)for(var b=0;b<this._mineArray.length;b++)this._mineArray[b].update();if(this._thornsDetectors.length>0)for(var b=0;b<this._thornsDetectors.length;b++)a.BaseGame.instance.checkTrueCollisionOverlap(this._thornsDetectors[b],a.Global.player.collisionMain)&&a.Global.player.hit(-100);if(this._wildmuttDetectors.length>0&&!a.Global.alertPanelWildmutt)for(var b=0;b<this._wildmuttDetectors.length;b++)a.BaseGame.instance.checkTrueCollisionOverlap(this._wildmuttDetectors[b],a.Global.player.collisionMain)&&(a.BaseGame.instance._hud.showHint(5),a.Global.alertPanelWildmutt=!0);if(this._detectorSpr.length>0)for(var b=0;b<this._detectorSpr.length;b++)a.BaseGame.instance.checkTrueCollisionOverlap(this._detectorSpr[b],a.Global.player.collisionMain)&&(a.Global.posX=this._detAnimSpr[b].x+(this.mGpx.x-50),a.Global.posY=this._detAnimSpr[b].y+(this.mGpx.y+25),this._detAnimSpr[b].play("CHECK"),this._detectorSpr.splice(b,1));if(this._bossRectangles.length>0)for(var b=0;b<this._bossRectangles.length;b++)a.BaseGame.instance.checkTrueCollisionOverlap(this._bossRectangles[b],a.Global.player.areaCollision)&&(a.Global.player.action.mPassable=!0)},b.prototype.free=function(){if(this._emenys.length>0)for(var a=0;a<this._emenys.length;a++)this._emenys[a].free();if(this._platforms.length>0)for(var a=0;a<this._platforms.length;a++)this._platforms[a].free();if(this._bonus.length>0)for(var a=0;a<this._bonus.length;a++)this._bonus[a].free();if(this._toxicGases.length>0)for(var a=0;a<this._toxicGases.length;a++)this._toxicGases[a].free();if(this._mineArray.length>0)for(var a=0;a<this._mineArray.length;a++)this._mineArray[a].free();if(this._wildmuttDetectors.length>0)for(var a=0;a<this._wildmuttDetectors.length;a++)this._wildmuttDetectors[a].destroy(!0);if(this._thornsDetectors.length>0)for(var a=0;a<this._thornsDetectors.length;a++)this._thornsDetectors[a].destroy(!0);if(this._bossRectangles.length>0)for(var a=0;a<this._bossRectangles.length;a++)this._bossRectangles[a].destroy(!0);this.mGpx&&this.mGpx.destroy(!0)},b}();a.clsScreen=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function a(a){this.mzSet=null,this.mzSet=new Array,this.mName=a}return a.prototype.add=function(a){this.mzSet.push(a)},a.prototype.getCount=function(){return this.mzSet.length},a.prototype.getIndexObject=function(a){for(var b=this.mzSet.length,c=0;c<b;c++)if(a==this.getObject(c))return c;return-1},a.prototype.getObject=function(a){
return a>=0&&a<this.mzSet.length?this.mzSet[a]:null},a.prototype.removeIndex=function(a){var b=null;return a>=0&&a<this.mzSet.length&&(b=this.mzSet[a],this.mzSet.splice(a,1)),b},a.prototype.remove=function(a){for(var b=this.mzSet.length,c=0;c<b;c++)if(a==this.mzSet[c]){this.mzSet.splice(c,1);break}},a.prototype.echo=function(){for(var a=this.mzSet.length,b=0;b<a;b++);},a.prototype.free=function(){this.mzSet&&(delete this.mzSet,this.mzSet=null)},a}();a.clsSimSet=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(b){this.mMapName=b,"level_01"!=this.mMapName&&"level_02"!=this.mMapName&&"level_03"!=this.mMapName||(a.Global.world_move=new a.clsWorldMove("game",a.Global.DEPTH_BG01));var c=0,d=0;switch(this.mMapName){case"level_01":a.BaseGame.mapDataArray=a.BaseGame.instance.game.cache.getJSON("level_01"),c=-80,d=-20;break;case"level_01_boss":a.BaseGame.mapDataArray=a.BaseGame.instance.game.cache.getJSON("level_01_boss");break;case"level_02":a.BaseGame.mapDataArray=a.BaseGame.instance.game.cache.getJSON("level_02"),c=-80,c=-20;break;case"level_02_boss":a.BaseGame.mapDataArray=a.BaseGame.instance.game.cache.getJSON("level_02_boss")}this.mGpx=a.BaseGame.instance.game.make.sprite(0,0),a.BaseGame.instance.mapLayer.addChild(this.mGpx),this.width=a.Global.S_W*a.Global.N_S+c,this.height=a.Global.S_H*a.Global.M_S+d,this.screenClips=[]}return b.prototype.update=function(){this.checkZone(),this.screenClips.forEach(function(a){a.update()})},b.prototype.checkZone=function(){var b=Math.floor(Math.abs(this._x/a.Global.S_W))+1;b=Math.floor(Math.abs((this._x-2*b)/a.Global.S_W))+1;var c=Math.floor(Math.abs(this._y/a.Global.S_H))+1;c=Math.floor(Math.abs((this._y-2*c)/a.Global.S_H))+1,b==this.oldX&&c==this.oldY||(this.checkScreen(b,c),this.createScreen(b,c),this.oldX=b,this.oldY=c)},b.prototype.checkScreen=function(b,c){this.d1=b+a.Global.N_S*(c-1),this.d2=b+1+a.Global.N_S*(c-1),this.d3=b+a.Global.N_S*c,this.d4=b+1+a.Global.N_S*c;for(var d=0;d<this.screenClips.length;d++)this.screenClips[d].depth!=this.d1&&this.screenClips[d].depth!=this.d2&&this.screenClips[d].depth!=this.d3&&this.screenClips[d].depth!=this.d4&&(this.screenClips[d].free(),delete this.screenClips[d],this.screenClips.splice(d,1),d--)},b.prototype.createScreen=function(b,c){var d=this,e=!1,f=!1,g=!1,h=!1;if(this.screenClips.forEach(function(a){a.depth==d.d1?e=!0:a.depth==d.d2?f=!0:a.depth==d.d3?g=!0:a.depth==d.d4&&(h=!0)},this),!e){var i=new a.clsScreen(this.mMapName,b,c);this.screenClips.push(i)}if(!f){var i=new a.clsScreen(this.mMapName,b+1,c);this.screenClips.push(i)}if(!g){var i=new a.clsScreen(this.mMapName,b,c+1);this.screenClips.push(i)}if(!h){var i=new a.clsScreen(this.mMapName,b+1,c+1);this.screenClips.push(i)}},b.prototype.free=function(){this.mGpx.destroy(!0)},Object.defineProperty(b.prototype,"_x",{get:function(){return this.mGpx.x},set:function(a){this.mGpx.x=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"_y",{get:function(){return this.mGpx.y},set:function(a){this.mGpx.y=a},enumerable:!0,configurable:!0}),b}();a.clsWorld=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(b,c){this.mGpx=a.BaseGame.instance.game.make.sprite(0,0);var d=a.BaseGame.instance.game.make.sprite(300,400,b+"_bg");d.anchor.set(.5);var e=a.BaseGame.instance.game.make.sprite(900,400,b+"_bg");e.anchor.set(.5),this.mGpx.addChild(d),this.mGpx.addChild(e),a.BaseGame.instance.backLayer.addChild(this.mGpx),this.mGpx.x=0,this.mGpx.y=-200,this.width=1200,this.height=800}return b.prototype.free=function(){this.mGpx.destroy(!0)},b.Y_MIN=0,b.Y_MAX=-400,b.X_MIN=0,b.X_MAX=-600,b}();a.clsWorldMove=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(a,c,d,e){var f=b.call(this,a,0,0)||this;return f._bullets=[],f._speed=c,f._gravity=d,f._deadLine=e,f}return __extends(c,b),c.prototype.addBullet=function(a){for(var b=0;b<this._bullets.length;b++)if(this._bullets[b].isReady){var c=this._bullets[b].parent;return c.removeChild(this._bullets[b]),this._bullets[b].reuse(0,0,a,this._speed),void c.addChild(this._bullets[b])}var e=new d(this.game,0,0,a,this._speed,this._gravity,this._deadLine);this._bullets.push(e),this.addChild(e)},c.prototype.update=function(){for(var b=0;b<this._bullets.length;b++)this._bullets[b].update(),a.BaseGame.instance.checkTrueCollisionOverlap(a.Global.player.collisionMain,this._bullets[b].collide,!0)&&a.Global.player.hit()},c}(b);a.Fire=c;var d=function(a){function b(b,c,d,e,f,g,h){var i=a.call(this,b,0,0)||this;return i.YSPEED=2,i.DEAD_LINE=2,i._mc=i.game.make.sprite(0,0,"fire","bullet0001"),i._mc.anchor.set(.5),i.addChild(i._mc),i.anchor.set(.5,.5),i._mc.animations.add("idle",Phaser.Animation.generateFrameNames("bullet",1,10,"",4),24,!0),i._mc.play("idle"),i._gravity=g,i.DEAD_LINE=h,i._graphics=i.game.make.graphics(-i.width,20-i.height),i._graphics.beginFill(0,0),i._graphics.drawRect(0,0,2*i.width,2*i.height),i.addChild(i._graphics),i.reuse(c,d,e,f),i}return __extends(b,a),b.prototype.reuse=function(a,b,c,d){this._mc.scale.set(.2,.2),this._vx=(c?-1:1)*d,this._vy=-this.YSPEED,this.x=a,this.y=b,this._ox=this.x,this._oy=this.y,this.exists=!0,this._mc.rotation=0},b.prototype.update=function(){if(0!=this.exists){this.x+=this._vx,this.y+=this._vy;var a=this.x-this._ox,b=this.y-this._oy;this._mc.rotation=Math.atan2(b,a)+.5*Math.PI,this._mc.scale.x=1.012*this._mc.scale.x,this._mc.scale.x>.8&&(this._mc.scale.x=.8),this._mc.scale.y=this._mc.scale.x,this._ox=this.x,this._oy=this.y,this._vy+=this._gravity,this._vy>this.YSPEED&&(this._vy=this.YSPEED),this.y+this.parent.y>=this.DEAD_LINE&&(this.exists=!1)}},Object.defineProperty(b.prototype,"isReady",{get:function(){return 0==this.exists},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"collide",{get:function(){return this._graphics},enumerable:!0,configurable:!0}),b}(b);a.Bullet=d}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(){}return b.changeVars=function(){b.posX=0,b.posY=0,b.keyPressed=!1,b.game=null,b.player=null,b.boss=null,b.world=null,b.world_move=null,b.lineTime=null,b.pause=!1,b.panelInfo=null,b.panel=null,b.panelCheckMsn=null,b.TIMER=0,b.TIME_PAUSED=0,b.TIME_TMP=0,b.score=0,b.sumoCheck=0,b.bossReturn=null,b.activePanelChange=!1,b.pieceModulator=null,b.actionEndEscene=null,b.SPEED_B_RETURN=3.5,b.TIMER_GRADE=18,b.levelChanging=!1,b.DEPTH_ANIMO=999,b.DEPTH_PLAYER=4e3,b.DEPTH_WORLD=10,b.DEPTH_PLATAFORM=20,b.DEPTH_BG01=1,b.DEPTH_PANEL_CHANGE=7e4,b.DEPTH_LINE_TIME=6e4,b.DEPTH_PANEL_INFO=61e3,b.DEPTH_PANEL=71e3,b.DEPTH_PANEL_INSTRUCTIONS=72e3,b.DEPTH_PANEL_CHEAT=72001,b.DEPTH_HAMSTER_MIN=4010,b.DEPTH_HAMSTER_MAX=4999,b.DEPTH_BOSS=5e3,b.DEPTH_PLAYER_DIE=5001,b.panelWilmutt=!1,b.panelCheat=!1,b.DEPTH_PANEL_WILMUTT=5,b.mc_panel_wilmutt=null,b.S_W=600,b.S_H=400,b.N_S=0,b.M_S=0,b.mzCoins=void 0,b.KEY_C=67,b.KEY_P=80,b.KEY_Z=90,b.KEY_I=73,b.KEY_F=70,b.KEY_H=72,b.KEY_D=68,b.KEY_L=76,b.KEY_T=84,b.mode_collision=!0,b.infiniteTransformation=!1,b.PLAYER_SPEED=10,b.WORLD_DISPLACE=10,b.VIEW_LIMIT_UP=100,b.VIEW_LIMIT_DOWN=300,b.VIEW_LIMIT_LEFT=100,b.VIEW_LIMIT_RIGHT=500,b.PLAYER_BEN=1,b.PLAYER_WILDMUTT=2,b.PLAYER_CANNONBOLT=3,b.PLAYER_HEATBLAST=4,b.PLAYER_WILDVINE=5,b.activePlayer,b.playerTemp=0,b.playerAlive=!0,b.playerEnergyTrans=100,b.playerEnergyLife=100,b.playerActiveChange=!0,b.playerNumLife=3,b.DIR_LEFT=0,b.DIR_RIGHT=1,b.DIR_UP=2,b.DIR_DOWN=3,b.DMG_PUNCH_ENEMY=1,b.DMG_PUNCH=.5,b.DMG_SHOOT=2,b.DMG_SPIN=5,b.ST_INDEF=-1,b.ST_BEGIN=1,b.ST_STAND=2,b.ST_MOVE_TO_END=10,b.ST_END=11,b.ST_FINISH=12,b.ST_SUB_ACTION=30,b.ST_KILL=503,b.ST_DIE=22,b.MOVE_NONE=0,b.MOVE_HH=1,b.MOVE_VV=2,b.invincible=!1,b.showCollision=!1,b.DAMAGE_TOTAL=1,b.DAMAGE_FIXED=2,b.SHOOT_NORMAL=1,b.SHOOT_DIRECT=2,b.SHOOT_ARC=3,b.SHOOT_SPECIAL=4,b.stopSounds=!1,b.ST_PLAYER_DIE=0,b.ST_PLAYER_STAND_RIGHT=1,b.ST_PLAYER_WALK_RIGHT=2,b.ST_PLAYER_SHOOT_RIGHT=3,b.ST_PLAYER_JUMP_RIGHT=4,b.ST_PLAYER_FALL_RIGHT=5,b.ST_PLAYER_JUMP_SHOOT_RIGHT=6,b.ST_PLAYER_JUMP_WALK_RIGHT=7,b.ST_PLAYER_HIT_RIGHT=8,b.ST_PLAYER_CHANGE_RIGHT=9,b.ST_PLAYER_STAND_LEFT=-1,b.ST_PLAYER_WALK_LEFT=-2,b.ST_PLAYER_SHOOT_LEFT=-3,b.ST_PLAYER_JUMP_LEFT=-4,b.ST_PLAYER_FALL_LEFT=-5,b.ST_PLAYER_JUMP_SHOOT_LEFT=-6,b.ST_PLAYER_JUMP_WALK__LEFT=-7,b.ST_PLAYER_HIT_LEFT=-8,b.ST_PLAYER_CHANGE_LEFT=-9,b.priceCoin=1e3,b.priceBoss01=1e3,b.priceBoss02=1500,b.priceBoss03=2e3,b.priceBoss04=2500,b.enemiesDie=0,b.iniLevelLife=0,b.scoreExtraLife=5e3,b.scoreNextExtraLife=5e3,b.instruction_mode_screen=!0,b.alertPanelWildvine=!1,b.alertPanelHeatBlast=!1},b.setPause=function(c){c?b.TIME_TMP=1e3*a.BaseGame.instance.game.time.totalElapsedSeconds():b.TIME_PAUSED+=1e3*a.BaseGame.instance.game.time.totalElapsedSeconds()-b.TIME_TMP,b.pause=c},b.getRandom=function(a,b){return Math.floor(Math.random()*(b-a+1))+a},b.getRandomNums=function(a){var c=a.length;return a[b.getRandom(0,c-1)]},b.arcTangent=function(a,b){if(0==b)return a>=0?90:270;var c=180*Math.atan2(a,b)/Math.PI;return a>=0?c:360+c},b.startSound=function(a,b,c){},b.stopSound=function(a,b){},b.clearSimSet=function(a){for(var b=a.getCount(),c=b-1;c>=0;c--){a.removeIndex(c).free()}},b.vectorLength=function(a,b){return Math.sqrt(a*a+b*b)},b.createGame=function(){if(b.mzCoins)for(var c=0;c<b.mzCoins.length;c++)b.mzCoins[c][0]&&b.mzCoins[c][0].destroy(!0),b.mzCoins[c][0]=null;switch(b.level){case 1:b.game=new a.clsGameLv01;break;case 2:b.game=new a.clsGameLv01Boss;break;case 3:b.game=new a.clsGameLv01Back;break;case 4:b.game=new a.clsGameLv02;break;case 5:b.game=new a.clsGameLv02Boss;break;case 6:b.game=new a.clsGameLv02Back}},b.posX=0,b.posY=0,b.keyPressed=!1,b.game=null,b.player=null,b.boss=null,b.world=null,b.world_move=null,b.lineTime=null,b.pause=!1,b.panelInfo=null,b.panel=null,b.panelCheckMsn=null,b.TIMER=0,b.TIME_PAUSED=0,b.TIME_TMP=0,b.score=0,b.bossReturn=null,b.activePanelChange=!1,b.pieceModulator=null,b.actionEndEscene=null,b.SPEED_B_RETURN=3.5,b.TIMER_GRADE=18,b.level=1,b.levelChanging=!1,b.DEPTH_ANIMO=999,b.DEPTH_PLAYER=4e3,b.DEPTH_WORLD=10,b.DEPTH_PLATAFORM=20,b.DEPTH_BG01=1,b.DEPTH_PANEL_CHANGE=7e4,b.DEPTH_LINE_TIME=6e4,b.DEPTH_PANEL_INFO=61e3,b.DEPTH_PANEL=71e3,b.DEPTH_PANEL_INSTRUCTIONS=72e3,b.DEPTH_PANEL_CHEAT=72001,b.DEPTH_HAMSTER_MIN=4010,b.DEPTH_HAMSTER_MAX=4999,b.DEPTH_BOSS=5e3,b.DEPTH_PLAYER_DIE=5001,b.panelWilmutt=!1,b.panelCheat=!1,b.DEPTH_PANEL_WILMUTT=5,b.mc_panel_wilmutt=null,b.S_W=600,b.S_H=400,b.N_S=0,b.M_S=0,b.mzCoins=void 0,b.KEY_C=67,b.KEY_P=80,b.KEY_Z=90,b.KEY_I=73,b.KEY_F=70,b.KEY_H=72,b.KEY_D=68,b.KEY_L=76,b.KEY_T=84,b.mode_collision=!0,b.infiniteTransformation=!1,b.PLAYER_SPEED=10,b.WORLD_DISPLACE=10,b.VIEW_LIMIT_UP=100,b.VIEW_LIMIT_DOWN=300,b.VIEW_LIMIT_LEFT=100,b.VIEW_LIMIT_RIGHT=500,b.PLAYER_BEN=1,b.PLAYER_WILDMUTT=2,b.PLAYER_CANNONBOLT=3,b.PLAYER_HEATBLAST=4,b.PLAYER_WILDVINE=5,b.playerTemp=0,b.playerAlive=!0,b.playerEnergyTrans=100,b.playerEnergyLife=100,b.playerActiveChange=!0,b.playerNumLife=3,b.DIR_LEFT=0,b.DIR_RIGHT=1,b.DIR_UP=2,b.DIR_DOWN=3,b.DMG_PUNCH_ENEMY=1,b.DMG_PUNCH=.5,b.DMG_SHOOT=2,b.DMG_SPIN=5,b.ST_INDEF=-1,b.ST_BEGIN=1,b.ST_STAND=2,b.ST_MOVE_TO_END=10,b.ST_END=11,b.ST_FINISH=12,b.ST_SUB_ACTION=30,b.ST_KILL=503,b.ST_DIE=22,b.MOVE_NONE=0,b.MOVE_HH=1,b.MOVE_VV=2,b.invincible=!1,b.showCollision=!1,b.DAMAGE_TOTAL=1,b.DAMAGE_FIXED=2,b.SHOOT_NORMAL=1,b.SHOOT_DIRECT=2,b.SHOOT_ARC=3,b.SHOOT_SPECIAL=4,b.stopSounds=!1,b.ST_PLAYER_DIE=0,b.ST_PLAYER_STAND_RIGHT=1,b.ST_PLAYER_WALK_RIGHT=2,b.ST_PLAYER_SHOOT_RIGHT=3,b.ST_PLAYER_JUMP_RIGHT=4,b.ST_PLAYER_FALL_RIGHT=5,b.ST_PLAYER_JUMP_SHOOT_RIGHT=6,b.ST_PLAYER_JUMP_WALK_RIGHT=7,b.ST_PLAYER_HIT_RIGHT=8,b.ST_PLAYER_CHANGE_RIGHT=9,b.ST_PLAYER_STAND_LEFT=-1,b.ST_PLAYER_WALK_LEFT=-2,b.ST_PLAYER_SHOOT_LEFT=-3,b.ST_PLAYER_JUMP_LEFT=-4,b.ST_PLAYER_FALL_LEFT=-5,b.ST_PLAYER_JUMP_SHOOT_LEFT=-6,b.ST_PLAYER_JUMP_WALK__LEFT=-7,b.ST_PLAYER_HIT_LEFT=-8,b.ST_PLAYER_CHANGE_LEFT=-9,b.priceCoin=1e3,b.priceBoss01=1e3,b.priceBoss02=1500,b.priceBoss03=2e3,b.priceBoss04=2500,b.enemiesDie=0,b.iniLevelLife=0,b.scoreExtraLife=5e3,b.scoreNextExtraLife=5e3,b.instruction_mode_screen=!0,b.alertPanelWildmutt=!1,b.alertPanelWildvine=!1,b.alertPanelHeatBlast=!1,b.updateObjectsSet=function(a){for(var c=0;c<a.getCount();c++){var d=a.getObject(c);d.update(),d.mState==b.ST_KILL&&(a.remove(d),d.free(),c--)}},b}();a.Global=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(c){var d=b.call(this,c,0,0)||this;d._mm=!0,d._penaltyStatus=!1,d.hp(),d._hint=new a.pseudoHint(c),d._btnHelp=new a.OButton(c,"ui",["hintbtn0001","hintbtn0002"],function(){d.showHint(1)}),d._btnHelp.position.set(28,82),d._btnHelp.setAnimationScale(0),d.addChild(d._btnHelp),d._btnSound=new a.OButton(c,"ui",["sfxbtn0001","sfxbtn0002"],function(){1==d._mm?(d._mm=!1,a.SoundMixer.off()):(d._mm=!0,a.SoundMixer.on())}),d._btnSound.position.set(58,82),d._btnSound.setAnimationScale(0),d._wayInd=c.make.sprite(c.world.centerX,380,"ui","ind01"),d._wayInd.anchor.set(0,.5),d._wayInd.x-=.5*d._wayInd.width,d._wayInd.animations.add("1",["ind01"]),d._wayInd.animations.add("2",["ind02"]),d._wayInd.animations.add("3",["ind03","ind04"],10,!0),d._indBoss=c.make.image(d._wayInd.width,-2,"ui","indBoss0001"),d._indBoss.anchor.set(.5),d._ind=c.make.image(25,-2,"ui","indHead"),d._ind.anchor.set(.5),d._wayInd.addChild(d._indBoss);var e=c.make.image(14,0,"ui","sh");e.anchor.set(.5),d._wayInd.addChild(d._indBoss),d._wayInd.addChild(e),d._wayInd.addChild(d._ind),d._indLng=d._wayInd.width-50,d._oldwayAnim="1",d._wayInd.play(d._oldwayAnim),d._startLvl=new a.LevelStartHud(c),d._blackDick=c.make.graphics(0,0),d._blackDick.beginFill(0,.4),d._blackDick.drawRect(0,0,800,500),d._blackDick.endFill(),d._blackDick.inputEnabled=!0;var f=c.make.image(c.world.centerX-50,c.world.centerY,"ui","mc_panel_trans");return f.anchor.set(.5),d._blackDick.addChild(f),d._blackDick.exists=!1,d.addChild(d._wayInd),d.addChild(d._btnSound),0==d.game.device.desktop&&(d._mobileButtons=d.game.make.sprite(0,0),d.addChild(d._mobileButtons),d._mbleft=new a.OButton(d.game,"ui",["mb0001"],function(){a.BaseGame.instance.onKeyDown({keyCode:Phaser.Keyboard.LEFT})},function(){a.BaseGame.instance.onKeyUp({keyCode:Phaser.Keyboard.LEFT})}),d._mbleft.position.set(50,325),d._mbleft.setAnimationScale(.04),d._mobileButtons.addChild(d._mbleft),d._mbright=new a.OButton(d.game,"ui",["mb0003"],function(){a.BaseGame.instance.onKeyDown({keyCode:Phaser.Keyboard.RIGHT})},function(){a.BaseGame.instance.onKeyUp({keyCode:Phaser.Keyboard.RIGHT})}),d._mbright.position.set(130,325),d._mbleft.setAnimationScale(.04),d._mobileButtons.addChild(d._mbright),d._mbjump=new a.OButton(d.game,"ui",["mb0002"],function(){a.BaseGame.instance.onKeyDown({keyCode:Phaser.Keyboard.UP})},function(){a.BaseGame.instance.onKeyUp({keyCode:Phaser.Keyboard.UP})}),d._mbjump.position.set(90,255),d._mbjump.setAnimationScale(.04),d._mobileButtons.addChild(d._mbjump),d._mbz=new a.OButton(d.game,"ui",["mb0004"],function(){a.BaseGame.instance.onKeyDown({keyCode:Phaser.Keyboard.Z}),d.hideMobileUI()}),d._mbz.position.set(465,325),d._mbz.setAnimationScale(.04),d._mobileButtons.addChild(d._mbz),d._mbspace=new a.OButton(d.game,"ui",["mb0005"],function(){a.BaseGame.instance.onKeyDown({keyCode:Phaser.Keyboard.SPACEBAR})},function(){a.BaseGame.instance.onKeyUp({keyCode:Phaser.Keyboard.SPACEBAR})}),d._mbspace.position.set(545,325),d._mbspace.setAnimationScale(.04),d._mobileButtons.addChild(d._mbspace),d._1=new a.OButton(d.game,"ui",["mb0006"],function(){a.BaseGame.instance.onKeyDown({keyCode:Phaser.Keyboard.LEFT}),a.BaseGame.instance.onKeyUp({keyCode:Phaser.Keyboard.LEFT}),a.BaseGame.instance.onKeyUp({keyCode:Phaser.Keyboard.Z}),d.showMobileUI()}),d._1.position.set(d.game.world.centerX-100,d.game.world.centerY),d._1.setAnimationScale(.04),d._blackDick.addChild(d._1),d._2=new a.OButton(d.game,"ui",["mb0006"],function(){a.BaseGame.instance.onKeyDown({keyCode:Phaser.Keyboard.RIGHT}),a.BaseGame.instance.onKeyUp({keyCode:Phaser.Keyboard.RIGHT}),a.BaseGame.instance.onKeyUp({keyCode:Phaser.Keyboard.Z}),d.showMobileUI()}),d._2.position.set(d.game.world.centerX+100,d.game.world.centerY),d._2.setAnimationScale(.04),d._blackDick.addChild(d._2),d._3=new a.OButton(d.game,"ui",["mb0006"],function(){a.BaseGame.instance.onKeyDown({keyCode:Phaser.Keyboard.UP}),a.BaseGame.instance.onKeyUp({keyCode:Phaser.Keyboard.UP}),a.BaseGame.instance.onKeyUp({keyCode:Phaser.Keyboard.Z}),d.showMobileUI()}),d._3.position.set(d.game.world.centerX,d.game.world.centerY-100),d._3.setAnimationScale(.04),d._blackDick.addChild(d._3),d._4=new a.OButton(d.game,"ui",["mb0006"],function(){a.BaseGame.instance.onKeyDown({keyCode:Phaser.Keyboard.DOWN}),a.BaseGame.instance.onKeyUp({keyCode:Phaser.Keyboard.DOWN}),a.BaseGame.instance.onKeyUp({keyCode:Phaser.Keyboard.Z}),d.showMobileUI()}),d._4.position.set(d.game.world.centerX,d.game.world.centerY+100),d._4.setAnimationScale(.04),d._blackDick.addChild(d._4),d._5=new a.OButton(d.game,"ui",["mb0004"],function(){a.BaseGame.instance.onKeyUp({keyCode:Phaser.Keyboard.Z}),d.showMobileUI()}),d._5.position.set(d.game.world.centerX,d.game.world.centerY),d._5.setAnimationScale(.04),d._blackDick.addChild(d._5),d._1.exists=!1,d._2.exists=!1,d._3.exists=!1,d._4.exists=!1,d._5.exists=!1),d.addChild(d._bgHero),d.addChild(d._startLvl),d.addChild(d._blackDick),d.addChild(d._hint),d}return __extends(c,b),c.prototype.showMobileUI=function(){this._mobileButtons&&(this._mobileButtons.exists=!0)},c.prototype.hideMobileUI=function(){this._mobileButtons&&(this._mobileButtons.exists=!1)},c.prototype.showStartLvl=function(a,b,c){void 0===b&&(b=!1),void 0===c&&(c=500),this._startLvl.show(a,b,c)},c.prototype.setHeroHP=function(a){a>1?a=1:a<0&&(a=0),this._hp.scale.x=a},c.prototype.setHeroMana=function(a){a>1?a=1:a<0&&(a=0),this._mana.scale.x=a},c.prototype.showBossHp=function(a){this._enemyHp.exists=!0,this._bossIcon.frameName="bossicon000"+a,this._wayInd.visible=!1,this._ind.visible=!1},c.prototype.hideBossHp=function(){this._enemyHp.exists=!1},c.prototype.setPenalty=function(a){a?(this._mana.tint=16711680,this._penaltyStatus=!0):(this._mana.tint=13434624,this._penaltyStatus=!1)},c.prototype.setBossHP=function(a){a>1?a=1:a<0&&(a=0),this._hpBoss.scale.x=a},c.prototype.showWayPlank=function(){this._wayInd.visible=!0,this._ind.visible=!0},c.prototype.setWayBossIcon=function(a,b){void 0===b&&(b=!1),a*=2,b||a--,this._indBoss.frameName="indBoss000"+a},c.prototype.setWay=function(a){a>1?a=1:a<0&&(a=0);this._ind.x=25+this._indLng*a;var b="1";a>.5&&(b="2"),a>.9&&(b="3"),b!=this._oldwayAnim&&(this._oldwayAnim=b,this._wayInd.play(this._oldwayAnim))},c.prototype.setWayBoss=function(a){a>1?a=1:a<0&&(a=0);this._indBoss.x=25+this._indLng*a},c.prototype.showHint=function(a){this._hint.show(a)},c.prototype.setLive=function(a){this._liveText.text=""+a},c.prototype.setScore=function(a){for(var b=""+a,c=7-b.length;c;)b="0"+b,c--;this._scoreText.text=b},c.prototype.visibleTransPanel=function(a){this._blackDick.exists=a,0==this.game.device.desktop&&(this._1.exists=a,this._2.exists=a,this._3.exists=a,this._4.exists=a,this._5.exists=a)},c.prototype.hp=function(){this._bgHero=this.game.make.image(10,10,"ui","hpmana"),this._mana=this.game.make.graphics(38.35,7.15),this._mana.beginFill(13434624,1),this._mana.drawRect(0,0,140,15),this._mana.endFill(),this._bgHero.addChild(this._mana),this._liveText=this.game.make.text(0,-22,"3",{font:"",fontSize:"22px",fontWeight:"normal",fill:"#ffffff",stroke:"#000",strokeThickness:4}),this._liveText.wordWrap=!0,this._liveText.align="center",this._liveText.anchor.set(.5),this._scoreText=this.game.make.text(140,75,"0000000",{font:"",fontSize:"18px",fontWeight:"normal",fill:"#ffffff",stroke:"#000",strokeThickness:4}),this._scoreText.wordWrap=!0,this._scoreText.align="center",this._scoreText.anchor.set(.5),this.setScore(29),this.addChild(this._scoreText);var a=this.game.make.image(24.3,48.7,"ui","hpfg");a.anchor.set(.5,1),this._bgHero.addChild(a),a.addChild(this._liveText);var b=this.game.make.graphics();b.beginFill(16711680),b.drawPolygon(46.5,28.5,166.4,28.8,152.85,44.25,56.6,44.2,48.4,33.3,43.55,33.25),b.endFill(),this._hp=this.game.make.graphics(43.55,27.9),this._hp.beginFill(16763904,1),this._hp.drawRect(0,0,124,25),this._hp.endFill(),this._hp.mask=b,this._bgHero.addChild(b),this._bgHero.addChild(this._hp),this._enemyHp=this.game.make.image(400,10,"ui","hpboss"),this._bossIcon=this.game.make.image(135,-5,"ui","bossicon0001"),this._hpBoss=this.game.make.graphics(148.45,7.25),this._hpBoss.beginFill(16737843,1),this._hpBoss.drawRect(-140,0,140,15),this._hpBoss.endFill(),this._enemyHp.addChild(this._hpBoss),this._enemyHp.addChild(this._bossIcon),this.addChild(this._enemyHp),this._enemyHp.exists=!1},Object.defineProperty(c.prototype,"penaltyStatus",{get:function(){return this._penaltyStatus},enumerable:!0,configurable:!0}),c}(b);a.HUD=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(a){var c=b.call(this,a,a.world.centerX,a.world.centerY)||this;return c._panel=a.make.image(0,0,"ui","panel"),c._caption=a.make.image(0,0,"ui","lvl1"),c._panel.anchor.set(.5),c._caption.anchor.set(.5),c._huina=a.make.image(0,0,"huita","back_level0001"),c._huina.anchor.set(.5),c._huina.animations.add("in",Phaser.Animation.generateFrameNames("start_level",1,71,"",4),24,!1),c._huina.animations.add("back",Phaser.Animation.generateFrameNames("back_level",1,101,"",4),24,!1),c.addChild(c._panel),c.addChild(c._caption),c.addChild(c._huina),c.exists=!1,c}return __extends(c,b),c.prototype.show=function(b,c,d){var e=this;void 0===c&&(c=!1),void 0===d&&(d=500),this.exists=!0,this._huina.exists=!1;var f="lvl"+b;c?(this._panel.scale.x=-1,f="lvlback"):this._panel.scale.x=1,this._caption.frameName=f,this._panel.y=150,this._caption.y=-150,this._panel.alpha=1,this._caption.alpha=1,this.game.add.tween(this._panel).to({y:0},200,null,!0,d),this.game.add.tween(this._caption).to({y:0},200,null,!0,d).onComplete.addOnce(function(){a.Global.pause=!0,e.game.add.tween(e._panel).to({y:150},100,null,!0,800),e.game.add.tween(e._caption).to({y:-150},100,null,!0,800).onComplete.addOnce(function(){e._panel.alpha=0,e._caption.alpha=0,setTimeout(function(){e._huina.exists=!0,e._huina.play(c?"back":"in").onComplete.addOnce(function(){a.Global.pause=!1,e.exists=!1})},150)})})},c}(b);a.LevelStartHud=c}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(b,c,d,e,f,g,h,i,j,k){void 0===f&&(f=0),void 0===g&&(g=0),void 0===h&&(h=0),void 0===i&&(i=0),void 0===j&&(j=0);a.clsGame.getNextCreationDepth();this.typeMove=f,this.limitMove=h,this.speed=g,this.mGpx=a.BaseGame.instance.game.make.graphics(-50,-10),this.mGpx.beginFill(0,0),this.mGpx.drawRect(0,0,100,40),this.mGpx.endFill(),this.mGpx.name="NoHit",k.push(this.mGpx),this.mGpx.x=c-50,this.mGpx.y=d,b.addChild(this.mGpx),"mc_plataform_mask_fall_small"==e?(this.mGpxMask=a.BaseGame.instance.game.make.sprite(0,0,"object_atlas_1","mc_plataform_mask_fall_small_10001"),this.mGpxMask.anchor.set(.5,.25),this.mGpxMask.animations.add("STAND",Phaser.Animation.generateFrameNames("mc_plataform_mask_fall_small_1",1,1,"",4)),this.mGpxMask.animations.add("OVER",Phaser.Animation.generateFrameNames("mc_plataform_mask_fall_small_1",2,29,"",4)),this.mGpxMask.animations.add("DESTROY",Phaser.Animation.generateFrameNames("mc_plataform_mask_fall_small_1",30,50,"",4)),this.mGpxMask.animations.add("RESTORE",Phaser.Animation.generateFrameNames("mc_plataform_mask_fall_small_1",51,71,"",4))):"mc_plataform_mask_fall_big"==e?(this.mGpxMask=a.BaseGame.instance.game.make.sprite(0,0,"object_atlas_1","mc_plataform_mask_fall_big_10001"),this.mGpxMask.anchor.set(.5,.25),this.mGpxMask.animations.add("STAND",Phaser.Animation.generateFrameNames("mc_plataform_mask_fall_big_1",1,1,"",4)),this.mGpxMask.animations.add("OVER",Phaser.Animation.generateFrameNames("mc_plataform_mask_fall_big_1",2,30,"",4)),this.mGpxMask.animations.add("DESTROY",Phaser.Animation.generateFrameNames("mc_plataform_mask_fall_big_1",31,51,"",4)),this.mGpxMask.animations.add("RESTORE",Phaser.Animation.generateFrameNames("mc_plataform_mask_fall_big_1",52,72,"",4))):"mc_plataform_elevador"==e&&(this.mGpxMask=a.BaseGame.instance.game.make.sprite(0,0,"object_atlas_1","mc_plataform_elevador"),this.mGpxMask.anchor.set(.5,.4)),this.mGpxMask.x=c,this.mGpxMask.y=d,b.addChild(this.mGpxMask),0!=i&&(this.mGpx.width=i),0!=j&&(this.mGpx.height=j),this.typeMove==a.Global.MOVE_HH?(this.limit_min=this.mGpx.x-this.limitMove,this.limit_max=this.mGpx.x+this.limitMove):this.typeMove==a.Global.MOVE_VV&&(this.limit_min=this.mGpx.y-this.limitMove,this.limit_max=this.mGpx.y+this.limitMove,this.mGpx.height=20)}return b.prototype.update=function(){a.Global.pause||(this.typeMove==a.Global.MOVE_HH?this.moveHorizontal():this.typeMove==a.Global.MOVE_VV&&this.moveVertical(),a.BaseGame.instance.checkTrueCollisionOverlap(this.mGpx,a.Global.player.areaCollision)&&(a.Global.player.action.mPassable=!0))},b.prototype.moveHorizontal=function(){(this.mGpxMask.x<this.limit_min||this.mGpxMask.x>this.limit_max)&&(this.speed=-this.speed),this.mGpx.x+=this.speed,this.mGpxMask.x+=this.speed,a.BaseGame.instance.checkTrueCollisionOverlap(this.mGpx,a.Global.player.collisionPlatform)&&(a.Global.player.action.x+=this.speed)},b.prototype.moveVertical=function(){(this.mGpxMask.y<this.limit_min||this.mGpxMask.y>this.limit_max)&&(this.speed=-this.speed),this.mGpx.y+=this.speed,this.mGpxMask.y+=this.speed,a.BaseGame.instance.checkTrueCollisionOverlap(this.mGpx,a.Global.player.collisionPlatform)&&(a.Global.player.action.y+=this.speed)},b.prototype.changeAnimation=function(a,b,c){var d=this;void 0===c&&(c=!0);var e=null;switch(b){case"STAND":c=!1;break;case"OVER":case"RESTORE":c=!1,e=function(){d.changeAnimation(a,"STAND")};break;case"DESTROY":c=!1}a.animations.currentAnim.name!=b&&(null!=e?a.animations.play(b,60,!1).onComplete.add(function(){e()}):a.animations.play(b,60,c))},b.prototype.free=function(){this.mGpx.destroy(!0),this.mGpxMask.destroy(!0)},b}();a.clsPlatformObject=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(d,e,f,g,h,i,j,k){var l=b.call(this,d,e,f,g,0,0,0,0,0,k)||this;return l.xIni=e-50,l.yIni=f,void 0!=i&&(l.mGpx.width=i),void 0!=j&&(l.mGpx.height=j),l.timeFall=h,a.BaseGame.instance.game.device.desktop||(l.timeFall*=3),l.iniTime=0,l.timeWait=150,l.iniTimeWait=0,l.speedFall=10,l.limitFall=l.mGpx.y+1e3,l.state=c.ST_START,l.changeAnimation(l.mGpxMask,"STAND"),l}return __extends(c,b),c.prototype.update=function(){a.Global.pause||(this.state==c.ST_START?a.BaseGame.instance.checkTrueCollisionOverlap(this.mGpx,a.Global.player.collisionPlatform)?(this.iniTime++,this.iniTime>this.timeFall&&(this.state=c.ST_FALL),this.changeAnimation(this.mGpxMask,"OVER"),null!=this._sound&&0!=this._sound.isPlaying||(this._sound=a.SoundMixer.play("Tenacious-snd-land-warn-2007-02-02",.3))):this.iniTime=0:this.state==c.ST_FALL?(this.iniTime=0,this.changeAnimation(this.mGpxMask,"DESTROY"),this.state=c.ST_WAIT,this._sound&&this._sound.stop()):this.state==c.ST_WAIT?(this.mGpx.y+=this.speedFall,++this.iniTimeWait>this.timeWait&&(this.changeAnimation(this.mGpxMask,"RESTORE"),this._sound&&this._sound.stop(),this.iniTimeWait=0,this.state=c.ST_RESTORE)):this.state==c.ST_RESTORE?(this.mGpx.x=this.xIni,this.mGpx.y=this.yIni,this.state=c.ST_START,this._sound&&this._sound.stop()):this.state==c.ST_DIE&&(this.mGpx.destroy(!0),this.mGpxMask.destroy(!0),this._sound&&this._sound.stop()),b.prototype.update.call(this))},c.ST_START=0,c.ST_FALL=1,c.ST_DIE=2,c.ST_WAIT=3,c.ST_EMPTY=4,c.ST_RESTORE=5,c}(a.clsPlatformObject);a.clsPlatformFall=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(b,c,d){this.ST_STAND=1e3,this.ST_WALK=1002,this.ST_SWING=1003,this.ST_WAITING_FALL=1004,this.ST_FALL_WAIT=1005,this.ST_FALL=1006,this.ST_SHOOT=1007,this.GRAVITY=1.5,this.FLOOR_Y=250,this.DY_MAX=10,this.DX_MAX=6,this.DX_MAX_JUMP=5,this.IMPULSE=-16,this.jumpsetup=!1,this.jumping=!1,this.shooting=!1,this.idJump=0,this.idColor=0,this.toLeft=!1,this.toRight=!1,this.toUp=!1,this.toFall=!1,this.toAction=!1,this.toDie=!1,this.state=1,this.mLimitRight=!1,this.mLimitLeft=!0,this.mPassable=!1,this._currentTerrainHit=-1,this.mPlayer=b,this.x=c,this.y=d,this.width=50,this.height=30,this.dy=.5,this.dx=0,this.mElevation=0,this.mDir=a.Global.DIR_RIGHT}return b.prototype.subKeyRightIni=function(b){void 0==b&&(b=this),b.toRight=!0,b.mDir=a.Global.DIR_RIGHT},b.prototype.subKeyRightEnd=function(a){void 0==a&&(a=this),a.toRight=!1},b.prototype.subKeyLeftIni=function(b){void 0==b&&(b=this),b.toLeft=!0,b.mDir=a.Global.DIR_LEFT},b.prototype.subKeyLeftEnd=function(a){void 0==a&&(a=this),a.toLeft=!1},b.prototype.subKeySpaceIni=function(a){void 0==a&&(a=this),a.toAction=!0},b.prototype.subKeySpaceEnd=function(a){void 0==a&&(a=this),a.toAction=!1},b.prototype.subKeyUpIni=function(a){void 0==a&&(a=this),a.toUp=!0},b.prototype.subKeyUpEnd=function(a){void 0==a&&(a=this),a.toUp=!1,a.mElevation=100},b.prototype.hit=function(b,c){void 0==c&&(c=this),a.Global.invincible||(a.Global.game.updateEnergyLife(b||-21),c.mPlayer.invisible())},b.prototype.die=function(){a.Global.activePlayer!=a.Global.PLAYER_BEN&&this.mPlayer.transformToBen(),a.Global.playerAlive=!1},b.prototype.checkOrderKey=function(){this.toUp&&this.mElevation++,this.toRight||this.toLeft||a.Global.activePlayer!=a.Global.PLAYER_CANNONBOLT&&(this.dx=0),a.Global.playerAlive||(this.toAction=!1,this.toUp=!1),this.toRight||this.toLeft||this.toAction||this.toUp||this.shooting||this.jumping||!a.Global.playerAlive||(this.mDir==a.Global.DIR_RIGHT?this.state=a.Global.ST_PLAYER_STAND_RIGHT:this.state=a.Global.ST_PLAYER_STAND_LEFT),!this.shooting&&!this.jumping&&this.onground&&this.toRight&&a.Global.playerAlive&&(this.state=a.Global.ST_PLAYER_WALK_RIGHT),!this.shooting&&!this.jumping&&this.onground&&this.toLeft&&a.Global.playerAlive&&(this.state=a.Global.ST_PLAYER_WALK_LEFT),!this.shooting&&!this.jumping&&this.onground&&this.toAction&&(this.mDir==a.Global.DIR_RIGHT?this.state=a.Global.ST_PLAYER_SHOOT_RIGHT:this.state=a.Global.ST_PLAYER_SHOOT_LEFT),!this.shooting&&!this.jumping&&this.onground&&this.toUp&&(this.mDir==a.Global.DIR_RIGHT?this.state=a.Global.ST_PLAYER_JUMP_RIGHT:this.state=a.Global.ST_PLAYER_JUMP_LEFT),!this.shooting&&this.jumping&&this.toAction&&(this.mDir==a.Global.DIR_RIGHT?this.state=a.Global.ST_PLAYER_JUMP_SHOOT_RIGHT:this.state=a.Global.ST_PLAYER_JUMP_SHOOT_LEFT)},b.prototype.checkState=function(){if(this.checkOrderKey(),!a.Global.panelWilmutt){switch(this.state){case a.Global.ST_PLAYER_STAND_RIGHT:this.orderStand(a.Global.DIR_RIGHT);break;case a.Global.ST_PLAYER_STAND_LEFT:this.orderStand(a.Global.DIR_LEFT);break
;case a.Global.ST_PLAYER_WALK_RIGHT:this.orderWalk(a.Global.DIR_RIGHT);break;case a.Global.ST_PLAYER_WALK_LEFT:this.orderWalk(a.Global.DIR_LEFT);break;case a.Global.ST_PLAYER_SHOOT_RIGHT:this.orderShoot(a.Global.DIR_RIGHT);break;case a.Global.ST_PLAYER_SHOOT_LEFT:this.orderShoot(a.Global.DIR_LEFT);break;case a.Global.ST_PLAYER_JUMP_RIGHT:this.orderJump(a.Global.DIR_RIGHT);break;case a.Global.ST_PLAYER_JUMP_LEFT:this.orderJump(a.Global.DIR_LEFT);break;case a.Global.ST_PLAYER_JUMP_SHOOT_RIGHT:this.orderShootJump(a.Global.DIR_RIGHT);break;case a.Global.ST_PLAYER_JUMP_SHOOT_LEFT:this.orderShootJump(a.Global.DIR_LEFT);break;case a.Global.ST_PLAYER_DIE:this.orderDie()}this.updatePosition()}},b.prototype.updatePosition=function(){this.checkCollision(),this.mPassable=!1,this.moveWorld(),this.mLimitRight&&this.dx>0&&(this.dx=0),this.mLimitLeft&&this.dx<0&&(this.dx=0),this.x+=this.dx,this.y+=this.dy,this.mLimitRight=!1,this.mLimitLeft=!1},b.prototype.onEndAnimation=function(){switch(this.state){case a.Global.ST_PLAYER_SHOOT_RIGHT:a.Global.activePlayer!=a.Global.PLAYER_CANNONBOLT&&(this.shooting=!1,this.orderStand(a.Global.DIR_RIGHT));break;case a.Global.ST_PLAYER_SHOOT_LEFT:a.Global.activePlayer!=a.Global.PLAYER_CANNONBOLT&&(this.shooting=!1,this.orderStand(a.Global.DIR_LEFT));break;case a.Global.ST_PLAYER_JUMP_SHOOT_RIGHT:this.shooting=!1,this.state=a.Global.ST_PLAYER_JUMP_RIGHT,this.activeAnimation("FALL_R");break;case a.Global.ST_PLAYER_JUMP_SHOOT_LEFT:this.shooting=!1,this.state=a.Global.ST_PLAYER_JUMP_LEFT,this.activeAnimation("FALL_L");break;case a.Global.ST_PLAYER_DIE:}"CHANGE"==a.Global.player.currentAnimName&&a.clsFla.endChangeToAlien()},b.prototype.orderStand=function(b){this.dx=0,b==a.Global.DIR_RIGHT?this.activeAnimation("STAND_R"):this.activeAnimation("STAND_L"),a.Global.playerAlive||(this.state=a.Global.ST_PLAYER_DIE)},b.prototype.orderWalk=function(b){this.shooting||this.jumping||(b==a.Global.DIR_RIGHT?(this.activeAnimation("WALK_R"),this.dx=this.DX_MAX):(this.activeAnimation("WALK_L"),this.dx=-this.DX_MAX),a.Global.playerAlive||(this.state=a.Global.ST_PLAYER_DIE))},b.prototype.orderShoot=function(b){this.shooting||(this.dx=0,this.shooting=!0,b==a.Global.DIR_RIGHT?this.activeAnimation("SHOOT_R"):this.activeAnimation("SHOOT_L"))},b.prototype.orderShootJump=function(b){this.shooting||(this.shooting=!0,b==a.Global.DIR_RIGHT?this.activeAnimation("SHOOT_JUMP_R"):this.activeAnimation("SHOOT_JUMP_L"))},b.prototype.orderJump=function(c){if(this.toRight?this.dx=this.DX_MAX_JUMP:this.toLeft&&(this.dx=-this.DX_MAX_JUMP),this.onground&&!a.Global.playerAlive)return void(this.state=a.Global.ST_PLAYER_DIE);this.onground&&(this.mElevation=0),this.mElevation>b.MAX_TIME_JUMP&&this.jumping||(this.dx=0,this.toRight?this.dx=this.DX_MAX_JUMP:this.toLeft&&(this.dx=-this.DX_MAX_JUMP),this.onground=!1,this.shooting=!1,this.jumping=!0,this.jumpsetup=!0,this.jumpsetup=!1,this.dy=this.IMPULSE,c==a.Global.DIR_RIGHT?this.activeAnimation("JUMP_R"):this.activeAnimation("JUMP_L"))},b.prototype.jumper=function(b){this.jumpsetup=!1,this.dy=this.IMPULSE,clearInterval(this.idJump),b==a.Global.DIR_RIGHT?this.activeAnimation("JUMP_R"):this.activeAnimation("JUMP_L")},b.prototype.orderDie=function(){this.dx=0,this.activeAnimation("DIE")},b.prototype.activeAnimation=function(a){this.mPlayer.changePlayerAnimation(a)},b.prototype.moveWorld=function(){a.Global.world._x=Math.round(300-this.x),a.Global.world._y=Math.round(this.FLOOR_Y-this.y),a.Global.world._x>0&&(a.Global.world._x=0),a.Global.world._x<-(a.Global.world.width-600)&&(a.Global.world._x=-(a.Global.world.width-600)),a.Global.world._y>0&&(a.Global.world._y=0),a.Global.world._y<-(a.Global.world.height-400)&&(a.Global.world._y=-(a.Global.world.height-400)),this.mPlayer._x=Math.floor(this.x+a.Global.world._x),this.mPlayer._y=Math.floor(this.y+a.Global.world._y),this.x<this.mPlayer.x_limit_lf&&(this.x=this.mPlayer.x_limit_lf),this.x>this.mPlayer.x_limit_rg&&(this.x=this.mPlayer.x_limit_rg)},b.prototype.init=function(){},b.prototype.checkCollision=function(){this.dy+=this.GRAVITY;Math.ceil(this.y+this.dy),this.x,this.dx;this.onground=!1;a.BaseGame.instance.game.stage.updateTransform();var c=[];if(this.dy>=0){for(var d=0;d<a.Global.world.screenClips.length;d++)if(c=a.Global.world.screenClips[d].hitTerrains,this.checkNewTestHitWhilePoint(new Phaser.Point(this.x,a.Global.player._y-a.Global.world._y),c,a.Global.world.screenClips[d])&&!this.jumpsetup){this.onground=!0,this.jumping=!1;var e=0,f=Math.floor(a.Global.player._y);do{e++,f-=b.TY}while(this.checkNewTestHitWhilePoint(new Phaser.Point(this.x,f-a.Global.world._y),c,a.Global.world.screenClips[d]));e<30?(this.y=c[this._currentTerrainHit].y+a.Global.world.screenClips[d].mGpx.y,this.dy=0):(this.x-=this.dx,this.dx=0)}else if(this.dy>7&&!this.shooting){if(this.mPassable)return;this.jumping=!0,this.mElevation=100,"FALL_ATTACK_L"==this.mPlayer.currentAnimName||"FALL_ATTACK_R"==this.mPlayer.currentAnimName||(this.mDir==a.Global.DIR_RIGHT?this.activeAnimation("FALL_R"):this.activeAnimation("FALL_L"))}}else if(this.dy<0&&!this.mPassable)for(var d=0;d<a.Global.world.screenClips.length;d++)!1,c=a.Global.world.screenClips[d].hitTerrains,this.checkNewTestHitWhilePoint(new Phaser.Point(this.x,a.Global.player._y-a.Global.world._y-6),c,a.Global.world.screenClips[d])&&(this.dy=1);this._terreinBugHit=!1;for(var d=0;d<a.Global.world.screenClips.length;d++)if(c=a.Global.world.screenClips[d].hitTerrains,this.bugHitTest(a.Global.player.collisionSaveBug,c,a.Global.world.screenClips[d]),this.checkHitWhile(this.mPlayer.domeCollision,c)&&!this.mPassable){var g=c[this._currentTerrainHit].worldPosition.x,h=this.mPlayer.domeCollision.worldPosition.x+this.mPlayer.domeCollision.getLocalBounds().x+this.mPlayer.domeCollision.width;if(g>this.mPlayer._x)this.x+=g-h;else{var i=this.x,j=this.mPlayer.domeCollision.worldPosition.x+this.mPlayer.domeCollision.getLocalBounds().x-(g+c[this._currentTerrainHit].getLocalBounds().x+c[this._currentTerrainHit].width),k=i=j;this._terreinBugHit||(this.x-=k),0!=this.dx&&(this.dx=0)}break}this._terreinBugHit&&!this.mPassable&&this.dy<0&&(this.dy=0),this.dy>this.DY_MAX&&(this.dy=this.DY_MAX)},b.prototype.checkHitWhile=function(b,c,d){void 0===d&&(d=!1);var e=!1;if(c)for(var f=0;f<c.length;f++)if(a.BaseGame.instance.checkTrueCollisionOverlap(b,c[f],d)){e=!0,this._currentTerrainHit=f,1!=c[f].alpha?c[f].alpha=1:c[f].alpha=.5;break}return e},b.prototype.checkNewTestHitWhilePoint=function(b,c,d){var e=!1;if(c)for(var f=0;f<c.length;f++){var g=[c[f].x+d.mGpx.x,c[f].y+d.mGpx.y,c[f].width,c[f].height];if(a.BaseGame.instance.checkTruePointOverlap(g,b)){this._currentTerrainHit=f,e=!0;break}}return e},b.prototype.bugHitTest=function(b,c,d){if(a.BaseGame.instance.game.stage.updateTransform(),c)for(var e=0;e<c.length;e++){var f=(c[e].x,d.mGpx.x,c[e].y,d.mGpx.y,c[e].width,c[e].height,new Phaser.Rectangle(c[e].worldPosition.x+c[e].getLocalBounds().x,c[e].worldPosition.y+c[e].getLocalBounds().y,c[e].width,c[e].height)),g=new Phaser.Rectangle(b.worldPosition.x+b.getLocalBounds().x,b.worldPosition.y+b.getLocalBounds().y,b.width,b.height);if(a.BaseGame.instance.checkCollisionOverlap(g,f)){"NoHit"!=c[e].name&&(this._terreinBugHit=!0);break}}},b.prototype.getDefaultGravity=function(){return this.GRAVITY},b.prototype.free=function(){},b.FRAME_STAND_R=1,b.FRAME_STAND_L=10,b.FRAME_WALK_R=20,b.FRAME_WALK_L=30,b.FRAME_SHOOT_R=40,b.FRAME_SHOOT_L=50,b.FRAME_SHOOT_JUMP_R=60,b.FRAME_SHOOT_JUMP_L=70,b.FRAME_JUMP_R=80,b.FRAME_JUMP_L=90,b.FRAME_FALL_R=100,b.FRAME_FALL_L=110,b.FRAME_FALL_ATTACK_R=170,b.FRAME_FALL_ATTACK_L=180,b.TY=2,b.MAX_TIME_JUMP=6,b}();a.TactionPlayer=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=Phaser.Sprite,c=function(b){function c(c){var d=b.call(this,c,0,0)||this;return d._bgbg2=c.make.graphics(0,0),d._bgbg2.beginFill(0,.4),d._bgbg2.drawRect(0,0,800,500),d._bgbg2.endFill(),d._bgbg2.inputEnabled=!0,d._bgbg=c.make.image(0,0,"ui","htpBg"),d._bgbg.inputEnabled=!0,d.addChild(d._bgbg2),d.addChild(d._bgbg),d._bg=d.game.make.image(c.world.centerX,c.world.centerY-10,"ui","bammbooclip"),d._bg.anchor.set(.5),d._cap=d.game.make.image(195,30,"ui","intrcap"),d._cap.anchor.set(.5),d._hint=d.game.make.image(-5,0,"ui","hint"),d._hint.anchor.set(.5),d._bg.addChild(d._hint),d._ben=d.game.make.image(600,410,"ui","ben"),d._ben.anchor.set(1),d._next=new a.OButton(d.game,"ui",["btn_next0001","btn_next0002","btn_next0003"],function(){d._state++,d._state>=4?d.hide():d._hint.frameName="hint"+d._state}),d._next.position.set(304,374),d._next.setAnimationScale(0),d.addChild(d._bg),d.addChild(d._cap),d.addChild(d._next),d.exists=!1,d}return __extends(c,b),c.prototype.show=function(b){this.exists=!0,a.Global.pause=!0,this._state=b;this._hint.frameName="hint"+(1==this._state?"":this._state),this._bgbg.alpha=1==b?1:0,this.anim(this._bg,300),this.anim(this._cap,600),this.anim(this._ben,1e3),this.anim(this._hint,1100),this.anim(this._next,1300)},c.prototype.hide=function(){this.exists=!1,a.Global.pause=!1},c.prototype.anim=function(a,b){a.alpha=0,a.scale.set(.2,.2),this.game.add.tween(a).to({alpha:1},400,Phaser.Easing.Sinusoidal.Out,!0,b),this.game.add.tween(a.scale).to({x:1,y:1},400,Phaser.Easing.Sinusoidal.Out,!0,b)},c}(b);a.pseudoHint=c}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(c,d,e,f,g){var h=b.call(this,c)||this;h.mDist=0,h.mVel=Math.abs(e),h.mIniX=h.mGpx.getX(),h.mIniY=h.mGpx.getY(),h.mEndX=d[0],h.mEndY=d[1],h.mDist=a.Global.vectorLength(h.mIniX-h.mEndX,h.mIniY-h.mEndY);var i=Math.atan2(h.mEndY-h.mIniY,h.mEndX-h.mIniX);return h.mVelX=h.mVel*Math.cos(i),h.mVelY=h.mVel*Math.sin(i),h.mActive=f,h.mController=g,h}return __extends(c,b),c.prototype.isEnd=function(){this.mGpx._velX!=this.mVelX&&(this.mGpx._velX=this.mVelX),this.mGpx._velY!=this.mVelY&&(this.mGpx._velY=this.mVelY);var b=this.mGpx.getX(),c=this.mGpx.getY();return a.Global.vectorLength(b-this.mIniX,c-this.mIniY)>=this.mDist},c.prototype.update=function(){switch(this.mState){case a.Global.ST_BEGIN:this.mGpx.setVelocity(this.mVelX,this.mVelY),this.mState=a.Global.ST_MOVE_TO_END;break;case a.Global.ST_MOVE_TO_END:this.isEnd()&&(this.mGpx.setVelocity(0,0),this.mGpx.setPosition(this.mEndX,this.mEndY),this.mState=a.Global.ST_END);break;case a.Global.ST_END:this.mState=a.Global.ST_FINISH,this.mGpx.setVelocity(0,0),this.mController.subUpdate(this)}},c}(a.clsAction);a.clsAcbMoveTo=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(a,c,d){var e=b.call(this,a,c,d)||this;return e.IMPULSE=-15.5,e.DX_MAX=3,e.DX_MAX_JUMP=2,e.GRAVITY=1.5,e.mSpecial=!1,e.height=60,e}return __extends(c,b),c.prototype.subKeySpaceEnd=function(b){void 0==b&&(b=this),b.mSpecial&&(b.mSpecial=!1,b.DX_MAX=3,b.DX_MAX_JUMP=2,b.IMPULSE=-10,a.Global.panelInfo.speedChange=.2)},c.prototype.subKeySpaceIni=function(b){void 0==b&&(b=this),b.mSpecial||(b.mSpecial=!0,b.DX_MAX=13,b.DX_MAX_JUMP=12,b.IMPULSE=-17,a.Global.panelInfo.speedChange=.7)},c.prototype.orderStand=function(b){this.mSpecial?this.dx>1?this.dx-=c.DIF_SPIN:this.dx<-1?this.dx+=c.DIF_SPIN:this.dx=0:this.dx=0,b==a.Global.DIR_RIGHT?this.activeAnimation("STAND_R"):this.activeAnimation("STAND_L"),a.Global.playerAlive||(this.state=a.Global.ST_PLAYER_DIE)},c.prototype.orderWalk=function(b){this.shooting||this.jumping||(b==a.Global.DIR_RIGHT?(this.activeAnimation("WALK_R"),this.mSpecial&&this.dx<this.DX_MAX?this.dx+=c.DIF_SPIN:this.dx=this.DX_MAX):(this.activeAnimation("WALK_L"),this.mSpecial&&this.dx>-this.DX_MAX?this.dx-=c.DIF_SPIN:this.dx=-this.DX_MAX),a.Global.playerAlive||(this.state=a.Global.ST_PLAYER_DIE))},c.prototype.orderJump=function(b){if(this.toRight?this.mSpecial?this.dx<this.DX_MAX?this.dx+=c.DIF_SPIN:this.dx=this.DX_MAX:this.dx=this.DX_MAX_JUMP:this.toLeft&&(this.mSpecial?this.dx>-this.DX_MAX?this.dx-=c.DIF_SPIN:this.dx=-this.DX_MAX:this.dx=-this.DX_MAX_JUMP),this.onground&&!a.Global.playerAlive)return void(this.state=a.Global.ST_PLAYER_DIE);this.onground&&(this.mElevation=0),this.mElevation>c.MAX_TIME_JUMP&&this.jumping||(this.toRight?this.mSpecial?this.dx<this.DX_MAX?this.dx+=c.DIF_SPIN:this.dx=this.DX_MAX:this.dx=this.DX_MAX_JUMP:this.toLeft&&(this.mSpecial?this.dx>-this.DX_MAX?this.dx-=c.DIF_SPIN:this.dx=-this.DX_MAX:this.dx=-this.DX_MAX_JUMP),this.onground=!1,this.shooting=!1,this.jumping=!0,this.jumpsetup=!0,this.jumpsetup=!1,this.dy=this.IMPULSE,b==a.Global.DIR_RIGHT?this.activeAnimation("JUMP_R"):this.activeAnimation("JUMP_L"))},c.prototype.activeAnimation=function(b){if(this.mSpecial)return void(this.mDir==a.Global.DIR_RIGHT?this.mPlayer.changePlayerAnimation("SHOOT_R"):this.mPlayer.changePlayerAnimation("SHOOT_L"));this.mPlayer.changePlayerAnimation(b)},c.DIF_SPIN=.4,c}(a.TactionPlayer);a.clsActionCannonbolt=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(c,d,e){var f=b.call(this,c,d,e)||this;return a.Global.panelInfo.speedChange=.2,f.height=50,f}return __extends(c,b),c.prototype.orderShoot=function(b){this.shooting||(this.dx=0,this.shooting=!0,b==a.Global.DIR_RIGHT?(this.activeAnimation("SHOOT_R"),this.angleShoot=0):(this.activeAnimation("SHOOT_L"),this.angleShoot=180),a.Global.game.createBulletPlayer("mc_player_bullet",this.mPlayer._x-a.Global.world._x,this.mPlayer._y-40-a.Global.world._y,c.BULLET_SPEED,a.Global.SHOOT_NORMAL,5,this.angleShoot,1,1,600))},c.prototype.orderShootJump=function(b){this.shooting||(this.shooting=!0,b==a.Global.DIR_RIGHT?(this.activeAnimation("SHOOT_JUMP_R"),this.angleShoot=0):(this.activeAnimation("SHOOT_JUMP_L"),this.angleShoot=180),a.Global.game.createBulletPlayer("mc_player_bullet",this.mPlayer._x-a.Global.world._x,this.mPlayer._y-40-a.Global.world._y,c.BULLET_SPEED,a.Global.SHOOT_NORMAL,5,this.angleShoot,1,1,600))},c.BULLET_SPEED=10,c}(a.TactionPlayer);a.TclsActionHeatblast=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(c,d,e){var f=b.call(this,c,d,e)||this;return f.DEBUG=!1,f.GRAVITY_AIR=.35,f.FLOOR_Y=350,f.mR1=100,f.mR2=275,f.mAng1=0,f.mAng2=85,f.mGpxDebug=null,f.mKeyUpPressed=!1,f.mSwinging=!1,f.mImpulseAir=!1,f.mImpulseFac=1,f.mArmClip=null,f.mOldIDAnchor=0,f.ST_STAND=1e3,f.ST_WALK=1002,f.ST_SWING=1003,f.ST_WAITING_FALL=1004,f.ST_FALL_WAIT=1005,f.ST_FALL=1006,f.ST_SHOOT=1007,f.height=50,a.Global.panelInfo.speedChange=.15,f}return __extends(c,b),c.prototype.init=function(){this.state=this.ST_STAND,b.prototype.activeAnimation.call(this,"STAND_R")},c.prototype.makeSwing=function(){this.mArmLength!=c.ARM_LEN&&(this.mArmLength-c.DIFF_ELASTIC>c.ARM_LEN?this.mArmLength-=c.DIFF_ELASTIC:this.mArmLength+c.DIFF_ELASTIC<c.ARM_LEN?this.mArmLength+=c.DIFF_ELASTIC:this.mArmLength=c.ARM_LEN),this.mSwAng>=c.ANG_SWING&&(this.mSwDir=-1),this.mSwAng<=-c.ANG_SWING&&(this.mSwDir=1);var a=c.ANG_VEL*(1-.45*Math.min(Math.abs(this.mSwAng),c.ANG_SWING)/c.ANG_SWING);this.mSwAng+=a*this.mSwDir;var b={x:0,y:0},d=this.mSwObj.mGpx.scale.x,e=this.mSwObj.mGpx.scale.x;if(this.mSwObj.mGpx.scale.x=1,this.mSwObj.mGpx.scale.y=1,b.x=this.mArmLength*Math.cos((this.mSwAng+90)*Math.PI/180),b.y=this.mArmLength*Math.sin((this.mSwAng+90)*Math.PI/180),this.mSwObj.mGpx.scale.x=d,this.mSwObj.mGpx.scale.y=e,this.mPlayer.action.y=b.y-c.ARM_Y,this.mArmLength!=c.ARM_LEN){this.mArmClip.angle;this.mArmClip.angle=0,this.mArmClip.scale.x=1,this.mArmClip.scale.x=1*this.mArmLength/this.mArmClip.width}this.mSwDir>0?(this.mPlayer.action.x=b.x+c.ARM_X,this.mPlayer.mGpx.scale.x=-1,this.mArmClip.angle=270-this.mSwAng):(this.mPlayer.action.x=b.x-c.ARM_X,this.mPlayer.mGpx.scale.x=1,this.mArmClip.angle=this.mSwAng-90)},c.prototype.searchAnchors=function(){for(var b,d,e,f,g=a.Global.player.mAnchorPoints.getCount(),h=null,i=0,j=null,k=0;k<g;++k){h=a.Global.player.mAnchorPoints.getObject(k);var l={x:0,y:0};h.mGpx.localToGlobal(l),f=Math.sqrt(l.x*l.x+l.y*l.y),f>=this.mR1&&f<=this.mR2&&(e=a.Global.arcTangent(-l.y,l.x))>=this.mAng1&&e<=this.mAng2&&f<i&&(this.mSwinging&&this.mOldIDAnchor==h.id||(i=f,j=h,this.mOldIDAnchor=h.id,b=l.x,d=l.y,e))}return null!=j&&(null!=this.mArmClip&&this.mArmClip.destroy(!0),this.mArmLength=Math.sqrt((b-c.ARM_X)*(b-c.ARM_X)+(d-c.ARM_Y)*(d-c.ARM_Y)),this.mArmClip.scale.x=1*this.mArmLength/this.mArmClip.width,this.mArmClip.angle=a.Global.arcTangent(d-c.ARM_Y,b-c.ARM_X),this.mSwObj=j,this.swing(),!0)},c.prototype.makeImpulseAir=function(){this.dx=-this.mSwDir*Math.max(1-this.mImpulseFac/c.IMPULSE_FAC_X,0)*c.IMPULSE_X},c.prototype.cancelImpulseAir=function(){clearInterval(this.mTimerImpulse),this.mImpulseAir=!1},c.prototype.swing=function(){this.mSwinging=!0,this.onground=!1,this.activeAnimation("SWING_R"),this.mSwDir=-a.Global.player.mGpx.scale.x/1,this.mSwAng=-this.mSwDir*(90+this.mArmClip.angle),this.state=this.ST_SWING},c.prototype.checkState=function(){switch(this.state){case this.ST_STAND:this.dx=0,this.mImpulseAir&&this.cancelImpulseAir(),this.toUp?this.searchAnchors():this.toLeft?(this.state=a.Global.ST_PLAYER_WALK_LEFT,this.mPlayer.mGpx.scale.x=-1,this.activeAnimation("WALK_R"),this.dx=-this.DX_MAX):this.toRight?(this.state=a.Global.ST_PLAYER_WALK_RIGHT,this.mPlayer.mGpx.scale.x=1,this.activeAnimation("WALK_R"),this.dx=this.DX_MAX):this.toAction&&this.onground&&(this.state=this.ST_SHOOT),b.prototype.updatePosition.call(this);break;case this.ST_SHOOT:if(b.prototype.updatePosition.call(this),this.shooting)return;this.shooting=!0,this.dx=0,this.activeAnimation("SHOOT_R");var d;d=this.mPlayer.mGpx.scale.x>0?a.Global.DIR_RIGHT:a.Global.DIR_LEFT,a.Global.game.createBulletPlayer("mc_bullet_player_wildvine",this.mPlayer._x-a.Global.world._x,this.mPlayer._y-35-a.Global.world._y,10,a.Global.SHOOT_ARC,5,d,1,1);break;case a.Global.ST_PLAYER_WALK_LEFT:this.toUp?this.searchAnchors():this.toLeft?this.toAction&&this.onground&&(this.state=this.ST_SHOOT):(this.state=this.ST_STAND,this.activeAnimation("STAND_R"),this.mPlayer.mGpx.scale.x=-1,this.dx=0),b.prototype.updatePosition.call(this);break;case a.Global.ST_PLAYER_WALK_RIGHT:this.toUp?this.searchAnchors():this.toRight?this.toAction&&this.onground&&(this.state=this.ST_SHOOT):(this.state=this.ST_STAND,this.activeAnimation("STAND_R"),this.mPlayer.mGpx.scale.x=1,this.dx=0),b.prototype.updatePosition.call(this);break;case this.ST_SWING:this.GRAVITY=this.GRAVITY_AIR,this.toUp||(this.state=this.ST_WAITING_FALL),this.makeSwing(),this.updatePosition();break;case this.ST_WAITING_FALL:this.toUp?(this.freeArm(),this.activeAnimation("JUMP_R"),this.searchAnchors()||(this.mImpulseFac=Math.abs(this.mSwAng)/c.ANG_SWING,this.dy=(1+c.IMPULSE_FAC_Y*this.mImpulseFac)*c.IMPULSE_Y,clearInterval(this.mTimerImpulse),this.mTimerImpulse=setInterval(this,"cancelImpulseAir",c.IMPULSE_TIME),this.mImpulseAir=!0,this.mSwinging=!1,this.state=this.ST_FALL_WAIT)):this.makeSwing(),this.updatePosition();break;case this.ST_FALL_WAIT:this.toUp||(this.state=this.ST_FALL),this.mImpulseAir?this.makeImpulseAir():this.toLeft?(this.mImpulseAir&&this.cancelImpulseAir(),this.mPlayer.mGpx.scale.x=-1,this.dx=-this.DX_MAX):this.toRight&&(this.mImpulseAir&&this.cancelImpulseAir(),this.mPlayer.mGpx.scale.x=1,this.dx=this.DX_MAX),b.prototype.updatePosition.call(this),this.onground&&(this.GRAVITY=this.getDefaultGravity(),this.mImpulseAir&&this.cancelImpulseAir(),this.activeAnimation("STAND_R"),this.state=this.ST_STAND,this.mSwinging=!1);break;case this.ST_FALL:this.GRAVITY=this.GRAVITY_AIR,this.dx=0,this.mImpulseAir&&this.makeImpulseAir(),this.toUp?this.searchAnchors():this.toLeft?(this.mImpulseAir&&this.cancelImpulseAir(),this.mPlayer.mGpx.scale.x=-1,this.dx=-this.DX_MAX):this.toRight&&(this.mImpulseAir&&this.cancelImpulseAir(),this.mPlayer.mGpx.scale.x=1,this.dx=this.DX_MAX),b.prototype.updatePosition.call(this),this.onground&&(this.GRAVITY=this.getDefaultGravity(),this.mImpulseAir&&this.cancelImpulseAir(),this.activeAnimation("STAND_R"),this.state=this.ST_STAND,this.mSwinging=!1)}},c.prototype.freeArm=function(){null!=this.mArmClip&&(this.mArmClip.destroy(!0),this.mArmClip=null)},c.prototype.free=function(){this.freeArm(),clearInterval(this.mTimerImpulse),this.mPlayer.mGpx.scale.x=1},c.prototype.updatePosition=function(){this.moveWorld(),this.x+=this.dx,this.y+=this.dy},c.prototype.checkCollision=function(){this.dy+=this.GRAVITY;Math.ceil(this.y+this.dy),this.x,this.dx;this.onground=!1;a.BaseGame.instance.game.stage.updateTransform();var b=[];if(this.dy>=0){for(var c=0;c<a.Global.world.screenClips.length;c++)if(b=a.Global.world.screenClips[c].hitTerrains,this.checkNewTestHitWhilePoint(new Phaser.Point(this.x,a.Global.player._y-a.Global.world._y),b,a.Global.world.screenClips[c])&&!this.jumpsetup){this.onground=!0,this.jumping=!1;var d=0,e=Math.floor(a.Global.player._y);do{d++,e-=a.TactionPlayer.TY}while(this.checkNewTestHitWhilePoint(new Phaser.Point(this.x,e-a.Global.world._y),b,a.Global.world.screenClips[c]));d<30?(this.y=b[this._currentTerrainHit].y+a.Global.world.screenClips[c].mGpx.y,this.dy=0):(this.x-=this.dx,this.dx=0)}}else if(this.dy<0&&!this.mPassable)for(var c=0;c<a.Global.world.screenClips.length;c++)!1,b=a.Global.world.screenClips[c].hitTerrains,this.checkNewTestHitWhilePoint(new Phaser.Point(this.x,a.Global.player._y-a.Global.world._y-6),b,a.Global.world.screenClips[c])&&(this.dy=1);for(var c=0;c<a.Global.world.screenClips.length;c++)if(b=a.Global.world.screenClips[c].hitTerrains,this.checkHitWhile(this.mPlayer.domeCollision,b)&&!this.mPassable){var f=b[this._currentTerrainHit].worldPosition.x,g=this.mPlayer.domeCollision.worldPosition.x+this.mPlayer.domeCollision.getLocalBounds().x+this.mPlayer.domeCollision.width;f>this.mPlayer._x?this.x+=f-g:(this.x-=this.mPlayer.domeCollision.worldPosition.x+this.mPlayer.domeCollision.getLocalBounds().x-(f+b[this._currentTerrainHit].getLocalBounds().x+b[this._currentTerrainHit].width),this.dx=0);break}this.dy>this.DY_MAX&&(this.dy=this.DY_MAX)},c.prototype.onEndAnimation=function(){(this.state=this.ST_SHOOT)&&(this.shooting=!1,this.state=this.ST_STAND,this.activeAnimation("STAND_R"),this.dx=0)},c.ARM_X=0,c.ARM_Y=-80,c.ANG_SWING=70,c.ARM_LEN=140,c.ANG_VEL=4,c.IMPULSE_TIME=2e3,c.IMPULSE_Y=-5,c.IMPULSE_X=6,c.IMPULSE_FAC_Y=1.5,c.IMPULSE_FAC_X=1.35,c.DIFF_ELASTIC=1,c}(a.TactionPlayer);a.clsActionWildvine=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(c,d,e){var f=b.call(this,c,d,e)||this;return f.IMPULSE=-18,f.height=40,a.Global.panelInfo.speedChange=.2,f}return __extends(c,b),c.prototype.subKeySpaceIni=function(b){void 0==b&&(b=this),a.Global.player.state!=a.Global.ST_PLAYER_STAND_RIGHT&&a.Global.player.state!=a.Global.ST_PLAYER_STAND_LEFT&&a.Global.player.state!=a.Global.ST_PLAYER_WALK_RIGHT&&a.Global.player.state!=a.Global.ST_PLAYER_WALK_LEFT||a.Global.panelWilmutt||(b.mDir==a.Global.DIR_RIGHT?a.Global.player.changePlayerAnimation("SHOOT_R"):a.Global.player.changePlayerAnimation("SHOOT_L"),a.Global.game.createPanelWilmutt())},c.prototype.subKeySpaceEnd=function(a){},c.prototype.orderShoot=function(a){},c.prototype.orderShootJump=function(a){},c}(a.TactionPlayer);a.clsActionWilmutt=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function a(){}return a.init=function(b){a._audio=b.add.audioSprite("sfx"),this._playMusic=!0},a.play=function(b,c,d,e){if(void 0===c&&(c=.3),void 0===d&&(d=!1),void 0===e&&(e=!1),0==this._playMusic&&d)return a._bgKey=b,void(a._bgVolume=c);if(d)return a._bg&&a._bg.stop(),a._bgKey=b,a._bgVolume=c,a._bg=a._audio.play(b,c),a._bg.allowMultiple=!0,a._bg.loop=!0,a._bg;if(this._playMusic){var f=a._audio.play(b,c);return f.allowMultiple=!0,f.loop=e,f}},a.bgStop=function(){a._bg.stop()},a.on=function(){a._bgKey&&(this._playMusic=!0,a.play(a._bgKey,a._bgVolume,!0,!0))},a.off=function(){this._playMusic=!1,a._audio.stop(null)},a}();a.SoundMixer=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(a){function b(b,c,d){return a.call(this,b,c,d)||this}return __extends(b,a),b}(a.TactionPlayer);a.TclsActionBen=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function a(){}return a.enableDrag=function(a){a.inputEnabled=!0,a.input.enableDrag(),a.events.onDragUpdate.add(function(){},this)},a}();a.GameConfig=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){var a=null!==b&&b.apply(this,arguments)||this;return a._loadedAssets=!1,a._loadedFont=!1,a}return __extends(c,b),c.prototype.preload=function(){this.game.load.onFileComplete.add(this.loadingUpdate,this),this._cnLogo=this.add.image(this.world.centerX-3,this.world.centerY-100+60,"cn_logo"),this._cnLogo.scale.set(.8),this._cnLogo.anchor.set(.5),this._loading=new a.ParallaxImage(this.game,"preload",0,"bgProress0000"),this._loading.anchor.set(.5),this._footer=this.add.image(this.world.centerX,this.world.centerY+120-20,"preload","preloaderFooter0000"),this._footer.anchor.set(.5),this._loading.x=this._footer.x-.5*this._footer.width-2,this._loading.y=this._footer.y-50,this._loadingMask=this.add.graphics(4,24),this._loadingMask.beginFill(0,0),this._loadingMask.drawRect(0,0,this._footer.width-5,this._footer.height-5),this._loadingMask.endFill(),this._loading.addChild(this._loadingMask),this._loading.mask=this._loadingMask,this._loadingMask.scale.x=0,this._loadedAssets=!0,this._loadedFont=!0,this.loading(),this.loadDB()},c.prototype.loadDB=function(){a.Factories.loadFactory(this.game,"banner",a.Boot.PATH_DB+""),a.Factories.loadFactory(this.game,"boss1",a.Boot.PATH_DB+""),a.Factories.loadFactory(this.game,"boss2",a.Boot.PATH_DB+"")},c.prototype.loading=function(){},c.prototype.loadSounds=function(b,c){if(void 0===c&&(c="mp3"),null!=b&&0!=b.length)for(var d=0;d<b.length;d++)this.game.load.audio(name,a.Boot.PATH_SOUNDS+name+"."+c,!0)},c.prototype.loadAudiosprite=function(b){void 0===b&&(b="sfx"),this.game.load.audiosprite(b,[a.Boot.PATH_SOUNDS+b+".mp3",a.Boot.PATH_SOUNDS+b+".ogg"],a.Boot.PATH_SOUNDS+b+".json")},c.prototype.loadFonts=function(b,c,d){var e=this;void 0===c&&(c="styles"),null!=b&&0!=b.length&&a.System.loadFonts(b,c+".css",function(){e._loadedFont=!0,d&&d()})},c.prototype.loadAtlases=function(b,c){if(void 0===c&&(c="png"),null!=b&&0!=b.length){for(var d=0;d<b.length;d++){var e=b[d].split("/").pop(),f=a.Boot.PATH_IMAGES+b[d];this.game.load.atlas(e,f+"."+c,f+".json")}this._loadedAssets=!1}},c.prototype.loadImages=function(b,c){if(void 0===c&&(c="png"),null!=b&&0!=b.length){for(var d=0;d<b.length;d++){var e=b[d].split("/").pop(),f=a.Boot.PATH_IMAGES+b[d];this.game.load.image(e,f+"."+c)}this._loadedAssets=!1}},c.prototype.loadDataJsons=function(b,c){if(void 0===c&&(c="json"),null!=b&&0!=b.length){for(var d=0;d<b.length;d++){var e=b[d],f=a.Boot.PATH_SETTINGS+e;this.game.load.json(e,f+"."+c)}this._loadedAssets=!1}},c.prototype.loadAtlas=function(b,c){c=c?a.Boot.PATH_IMAGES+c:a.Boot.PATH_IMAGES;var d=c+b;this.game.load.atlas(b,d+".png",d+".json"),this._loadedAssets=!1},c.prototype.loadImage=function(b,c){c=c?a.Boot.PATH_IMAGES+c:a.Boot.PATH_IMAGES;var d=c+b;this.game.load.atlas(b,d+".png",d+".json"),this._loadedAssets=!1},c.prototype.shutdown=function(){this._cnLogo.destroy(),this._cnLogo=null,this._loading.destroy(),this._loading=null,this._footer.destroy(),this._footer=null,this._loadingMask.destroy(),this._loadingMask=null},c.prototype.loadingUpdate=function(b,c,d,e,f){this._loadingMask.scale.x=b/100,b>=100&&(this.game.load.onFileComplete.removeAll(),a.Boot.PLAYERS=a.Factories.createFactory(this.game,"banner"),a.Boot.BOSS1=a.Factories.createFactory(this.game,"boss1"),a.Boot.BOSS2=a.Factories.createFactory(this.game,"boss2"),dragonBones.PhaserFactory.startLoop(),this._loadedAssets=!0,a.SoundMixer.init(this.game),clearInterval(this._intervalId))},c.prototype.update=function(){var b=this;this._loadedAssets&&this._loadedFont&&(this._loadedAssets=!1,setTimeout(function(){b.game.state.start(a.LocalConfig.CURRENT_STATE,!0)},400))},c}(Phaser.State);a.BasePreloader=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(a){function b(b,c,d,e,f){void 0===e&&(e=null),void 0===f&&(f=null);var g=this,h=null,i=null,j=null;return d.length>0&&(h=d[0],d.length>1?(i=d[1],j=d.length>2?d[2]:d[0]):(i=d[0],j=d[0])),g=a.call(this,b,0,0,c,null,null,i,h,j,null)||this,g._framesString=[h,i,j],g.soundOver="over",g.soundDown="click",g.anchor.setTo(.5),g._cb=e,g._upcb=f,g._deltaScale=.1,g._defaultScale=1,g._isDown=!1,g._isOver=!1,g.onInputOver.add(g.over,g),g.onInputOut.add(g.out,g),g.onInputDown.add(g.down,g),g.onInputUp.add(g.up,g),g}return __extends(b,a),b.prototype.setCBContext=function(a){this._cntxt=a},b.prototype.setAnimationScale=function(a,b){void 0===a&&(a=0),void 0===b&&(b=1),this._deltaScale=a,this._defaultScale=b},b.prototype.over=function(){this._isDown||this.scale.set(this._defaultScale+this._deltaScale),this._isOver=!0},b.prototype.out=function(){this._isDown||this.scale.set(this._defaultScale),this._isOver=!1},b.prototype.up=function(){var a=this;if(this._isDown){null!=this._upcb&&(this._cntxt?this._upcb.bind(this._cntxt)(this.id):this._upcb(this.id)),this.scale.set(this._isOver?this._defaultScale+this._deltaScale:this._defaultScale)
;var b=this.game.device.desktop?this._isOver:this.input.pointerOver();this._isOver?this.frameName=this._framesString[1]:b&&setTimeout(function(){a.frameName=a._framesString[0]},5),this._isDown=!1,b&&null!=this._cb?(null==this._upcb&&(this._cntxt?this._cb.bind(this._cntxt)(this.id):this._cb(this.id)),this.frameName=this._framesString[0]):0==b&&this.scale.set(this._defaultScale)}},b.prototype.down=function(){this._isDown||(this.scale.set(this._defaultScale-this._deltaScale),this._isDown=!0,null!=this._upcb&&(this._cntxt?this._cb.bind(this._cntxt)(this.id):this._cb(this.id)))},b.prototype.deleteFromParent=function(){this.parent&&this.parent.removeChild(this),this.onInputOver.remove(this.over,this),this.onInputOut.remove(this.out,this),this.onInputDown.remove(this.down,this),this.onInputUp.remove(this.up,this)},Object.defineProperty(b.prototype,"enabled",{set:function(a){this.inputEnabled=a,a||(this.frameName=this._framesString[0],this.scale.set(this._defaultScale))},enumerable:!0,configurable:!0}),b}(Phaser.Button);a.OButton=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(a){function b(b,c,d,e){void 0===d&&(d=0);var f=a.call(this,b,0,0)||this;return b.world.add(f),f._images=[],f._images.push(new Phaser.Image(b,d,0,c,e)),f._imgWidth=f._images[0].width,f._images.push(new Phaser.Image(b,d+f._imgWidth-1,0,c,e)),f.addChild(f._images[0]),f.addChild(f._images[1]),f}return __extends(b,a),b.prototype.updateScroll=function(a){this._images[0].x-=a,this._images[1].x-=a,this._images[0].x<=-this._imgWidth&&(this._images[0].x=this._images[1].x+this._imgWidth-1),this._images[1].x<=-this._imgWidth&&(this._images[1].x=this._images[0].x+this._imgWidth-1)},b.prototype.free=function(){this.removeChild(this._images[0]),this.removeChild(this._images[1]),this._images.pop().destroy(!0),this._images.pop().destroy(!0),this._images=null},b.prototype.setPosition=function(a){this._images[0].x=a,this._images[1].x=a+this._imgWidth-1},b}(Phaser.Sprite);a.ParallaxImage=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(){}return b.loadFonts=function(b,c,d){WebFont.load({custom:{families:b,urls:[a.Boot.PATH_FONTS+c]},active:function(){window.setTimeout(function(){null!=d&&d()},100)}})},b}();a.System=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function a(){}return a.CURRENT_STATE="MainMenu",a}();a.LocalConfig=b}(TProject||(TProject={}));var TProject;!function(a){var b=function(){function b(){this.game=new Phaser.Game(600,400,Phaser.AUTO,"game_container",null,!1),this.game.state.add("PreBoot",a.PreBoot,!0),this.game.state.add("Boot",a.Boot),this.game.state.add("Preloader",a.Preloader),this.game.state.add("BaseGame",a.BaseGame),this.game.state.add("MainMenu",a.MainMenu),this.game.state.add("Hint",a.Hint),this.game.state.add("Cumshoot",a.Cumshoot),this.game.state.add("GameOver",a.GameOver),this.game.state.add("Win",a.Win),this.game.state.add("Resume",a.Resume),this.game.state.add("Test",a.Test)}return b.DEBUG=!0,b}();a.Main=b}(TProject||(TProject={})),window.onload=function(){new TProject.Main;setTimeout("window.scrollTo(0, 1)",10),document.body.addEventListener("touchmove",function(a){a.preventDefault()},!1)};var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(a){function b(b,c,d){var e=a.call(this)||this;return d&&d.world.add(e),e._eventsBounds=null,e._visual=b.buildArmatureDisplay(c),e.addChild(e._visual),e}return __extends(b,a),b.prototype.free=function(){this._eventsBounds&&this._eventsBounds.destroy(!0),this._visual.dispose(!0)},b.prototype.stopInteractive=function(){this._eventsBounds.inputEnabled=!1},b.prototype.addEvent=function(a,b,c){this._visual.addEvent(a,b,c||this)},b.prototype.removeEvent=function(a,b){this._visual.removeEvent(a,b,null)},b.prototype.removeFromParent=function(){this.parent&&this.parent.removeChild(this)},b.prototype.play=function(a,b){if(a!=this._currentLabel||0!=this._playTimes){this._currentLabel=a;var c=this._visual.animation.play(a,b);return this._playTimes=c.playTimes,c}},b.prototype.playEx=function(a,b,c,d){this._nextState=b,this._cb=c,this._cbContex=d||this;var e=this.play(a);return(b||c)&&this.addEvent(1==e.playTimes?"complete":"loopComplete",this.completePlaying),e},b.prototype.completePlaying=function(a){this.removeEvent("complete",this.completePlaying),this.removeEvent("loopComplete",this.completePlaying),a.label=this.currentLabel,"function"==typeof this._cb&&this._cb.bind(this._cbContex)(a),this._nextState?this.playEx(this._nextState,null,this._cb,this._cbContex):this._cb=null},b.prototype.getSlot=function(a){return this._visual.armature.getSlot(a)},b.prototype.addOffsetXY=function(a,b,c){var d=this.getSlot(a);d.display&&(d.display.x+=b,d.display.y+=c)},b.prototype.addOffsetX=function(a,b){var c=this.getSlot(a);c.display&&(c.display.x+=b)},b.prototype.addOffsetY=function(a,b){var c=this.getSlot(a);c.display&&(c.display.y+=b)},b.prototype.makeMagic=function(a){if(a){if(a.display){var b=a._parent?a._parent.global.x:0,c=a._parent?a._parent.global.y:0;a.display.x+=a.origin.x*a.globalTransformMatrix.a+b,a.display.y+=a.origin.y*a.globalTransformMatrix.d+c}}else this._visual.armature.getSlots().forEach(function(a){if(a.display){var b=a._parent?a._parent.global.x:0,c=a._parent?a._parent.global.y:0;a.display.x+=a.origin.x*a.globalTransformMatrix.a+b,a.display.y+=a.origin.y*a.globalTransformMatrix.d+c}})},b.prototype.getBone=function(a){return this._visual.armature.getSlot(a).display},b.prototype.getBoneAnimation=function(a){return this._visual.armature.getSlot(a).childArmature.animation},b.prototype.getSprite=function(a){return this._visual.getAt(a)},b.prototype.setPos=function(a,b){this.x=a||this.x,this.y=b||this.y},b.prototype.createBounds=function(a){null!=this._eventsBounds&&(this.removeChild(this._eventsBounds),this._eventsBounds.destroy(!0));var b=this.getBounds();this._eventsBounds=new Phaser.Graphics(a,0,0),this._eventsBounds.beginFill(0,0),this._eventsBounds.drawRect(.5*-b.width,.5*-b.height,b.width,b.height),this._eventsBounds.endFill(),this.addChild(this._eventsBounds)},Object.defineProperty(b.prototype,"animation",{get:function(){return this._visual.animation},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"armature",{get:function(){return this._visual._armature},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"sprites",{get:function(){return this._visual.children},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"events",{get:function(){return this._eventsBounds?this._eventsBounds.events:null},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"input",{get:function(){return this._eventsBounds?this._eventsBounds.input:null},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"inputEnabled",{get:function(){return!!this._eventsBounds&&this._eventsBounds.inputEnabled},set:function(a){this._eventsBounds.inputEnabled=a},enumerable:!0,configurable:!0}),Object.defineProperty(b.prototype,"currentLabel",{get:function(){return this._currentLabel},enumerable:!0,configurable:!0}),b.prototype.update=function(){},b.prototype.postUpdate=function(){},b}(PIXI.DisplayObjectContainer);a.DBSprite=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return __extends(b,a),b.loadFactory=function(a,b,c,d,e){d=d||"_tex",e=e||"_ske",c+=b,a.load.json(b+"textureData",c+d+".json"),a.load.json(b+"dragonBonesData",c+e+".json"),a.load.image(b+"texture",c+d+".png")},b.createFactory=function(a,b){var c=new dragonBones.PhaserFactory(null,a);return c.parseDragonBonesData(a.cache.getJSON(b+"dragonBonesData")),c.parseTextureAtlasData(a.cache.getJSON(b+"textureData"),a.cache.getBaseTexture(b+"texture")),c},b}(Phaser.State);a.Factories=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),dragonBones;!function(a){var b=function(b){function c(a){var c=b.call(this,a)||this;return c._eventDispatcher=new EventEmitter,c}return __extends(c,b),c.prototype._onClear=function(){this._debugDrawer,this._armature=null,this._debugDrawer=null,this.destroy()},c.prototype._debugDraw=function(a){},c.prototype.hasEvent=function(a){return this._eventDispatcher.listeners(a,!0)},c.prototype.addEvent=function(a,b,c){this._eventDispatcher.addListener(a,b,c)},c.prototype.removeEvent=function(a,b,c){this._eventDispatcher.removeListener(a,b,c)},c.prototype._dispatchEvent=function(a,b){this._eventDispatcher.emit(a,b)},c.prototype.dispose=function(a){void 0===a&&(a=!0),this._armature&&(this._armature.dispose(),this._armature=null)},Object.defineProperty(c.prototype,"armature",{get:function(){return this._armature},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"animation",{get:function(){return this._armature.animation},enumerable:!0,configurable:!0}),c.prototype.advanceTimeBySelf=function(b){this._armature.clock=b?a.PhaserFactory._clock:null},c}(Phaser.Group);a.PhaserArmatureDisplay=b}(dragonBones||(dragonBones={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),dragonBones;!function(a){var b=function(b){function c(d,e){void 0===d&&(d=null);var f=b.call(this,d)||this;return c._eventManager||(c._eventManager=new a.PhaserArmatureDisplay(e),c._clock=new a.WorldClock,c._game=e),f}return __extends(c,b),c._clockHandler=function(a){void 0===a&&(a=-1),null!=c._clock&&c._clock.advanceTime(a)},Object.defineProperty(c,"clock",{get:function(){return c._clock},enumerable:!0,configurable:!0}),Object.defineProperty(c,"factory",{get:function(){return c._factory||(c._factory=new c(null,this._game)),c._factory},enumerable:!0,configurable:!0}),c.startLoop=function(a){void 0===a&&(a=20),c._clockID=setInterval(function(){c._clockHandler()},a)},c.stopLoop=function(){-1!=c._clockID&&clearInterval(c._clockID)},c.prototype._generateTextureAtlasData=function(b,c){return b?b.texture=c:b=a.BaseObject.borrowObject(a.PhaserTextureAtlasData),b},c.prototype._generateArmature=function(b){var d=a.BaseObject.borrowObject(a.Armature),e=new a.PhaserArmatureDisplay(c._game);return e._armature=d,d._init(b.armature,b.skin,e,e,c._eventManager),d},c.prototype._generateSlot=function(b,d,e){var f=a.BaseObject.borrowObject(a.PhaserSlot);f._init(d,new Phaser.Sprite(c._game,null,null),null);for(var g=[],h=0,i=d.displays.length;h<i;++h){var j=d.displays[h];switch(j.type){case 0:j.texture&&!b.textureAtlasName||(j.texture=this._getTextureData(b.textureAtlasName||b.dataName,j.path)),g.push(f.rawDisplay);break;case 2:j.texture&&!b.textureAtlasName||(j.texture=this._getTextureData(b.textureAtlasName||b.dataName,j.path)),!j.mesh&&j.share&&(j.mesh=d.getMesh(j.share)),g.push(f.meshDisplay);break;case 1:var k=this.buildArmature(j.path,b.dataName,null,b.textureAtlasName);if(k){if(k.inheritAnimation=j.inheritAnimation,!k.inheritAnimation){var l=d.slot.actions.length>0?d.slot.actions:k.armatureData.actions;if(l.length>0)for(var m=0,n=l.length;m<n;++m)k._bufferAction(l[m]);else k.animation.play()}j.armature=k.armatureData}g.push(k);break;default:g.push(null)}}return f._setDisplayList(g),f},c.prototype.buildArmatureDisplay=function(a,b,d,e){void 0===b&&(b=null),void 0===d&&(d=null),void 0===e&&(e=null);var f=this.buildArmature(a,b,d,e);if(f){var g=f.display;return c._clock.add(f),g}return null},c.prototype.getTextureDisplay=function(a,b){void 0===b&&(b=null);var c=this._getTextureData(b,a);if(c){if(!c.texture){var d=c.parent.texture,e=new PIXI.Rectangle(0,0,c.region.width,c.region.height);c.texture=new PIXI.Texture(d,null,c.region,e)}return new PIXI.Sprite(c.texture)}return null},Object.defineProperty(c.prototype,"soundEventManater",{get:function(){return c._eventManager},enumerable:!0,configurable:!0}),c._factory=null,c._eventManager=null,c._clock=null,c._clockID=-1,c}(a.BaseFactory);a.PhaserFactory=b}(dragonBones||(dragonBones={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),dragonBones;!function(a){var b=function(b){function c(){return b.call(this)||this}return __extends(c,b),c.toString=function(){return"[class dragonBones.PhaserSlot]"},c.prototype._onClear=function(){b.prototype._onClear.call(this),this._renderDisplay=null,this.nullMode=!1},c.prototype._initDisplay=function(a){},c.prototype._disposeDisplay=function(a){a&&a.destroy()},c.prototype._onUpdateDisplay=function(){this._renderDisplay=this._display?this._display:this._rawDisplay},c.prototype._addDisplay=function(){this._armature.display.addChild(this._renderDisplay)},c.prototype._replaceDisplay=function(a){var b=this._armature.display,c=a;b.addChild(this._renderDisplay),b.swapChildren(this._renderDisplay,c),b.removeChild(c)},c.prototype._removeDisplay=function(){this._renderDisplay.parent.removeChild(this._renderDisplay)},c.prototype._updateZOrder=function(){this._armature.display.addChildAt(this._renderDisplay,this._zOrder)},c.prototype._updateVisible=function(){this._renderDisplay.visible=this._parent.visible},c.prototype._updateBlendMode=function(){switch(this._blendMode){case 0:this._renderDisplay.blendMode=PIXI.blendModes.NORMAL;break;case 1:this._renderDisplay.blendMode=PIXI.blendModes.ADD;break;case 3:this._renderDisplay.blendMode=PIXI.blendModes.DARKEN;break;case 4:this._renderDisplay.blendMode=PIXI.blendModes.DIFFERENCE;break;case 6:this._renderDisplay.blendMode=PIXI.blendModes.HARD_LIGHT;break;case 9:this._renderDisplay.blendMode=PIXI.blendModes.LIGHTEN;break;case 10:this._renderDisplay.blendMode=PIXI.blendModes.MULTIPLY;break;case 11:this._renderDisplay.blendMode=PIXI.blendModes.OVERLAY;break;case 12:this._renderDisplay.blendMode=PIXI.blendModes.SCREEN}},c.prototype._updateColor=function(){this._renderDisplay.alpha=this._colorTransform.alphaMultiplier},c.prototype._updateFrame=function(){var b=this._meshData&&this._display===this._meshDisplay,c=this._textureData;if(this._displayIndex>=0&&this._display&&c){var d=c.parent;this._armature.replacedTexture&&this._displayData&&d===this._displayData.texture.parent&&(d=this._armature._replaceTextureAtlasData,d||(d=a.BaseObject.borrowObject(a.PhaserTextureAtlasData),d.copyFrom(c.parent),d.texture=this._armature.replacedTexture,this._armature._replaceTextureAtlasData=d),c=d.getTexture(c.name));var e=d.texture;if(e){if(c.texture||(c.texture=new PIXI.Texture(e,c.region,c.region,new PIXI.Rectangle(0,0,c.region.width,c.region.height))),b){var f=this._renderDisplay,g=e?e.width:1,h=e?e.height:1;f.uvs=new Float32Array(this._meshData.uvs),f.vertices=new Float32Array(this._meshData.vertices),f.indices=new Uint16Array(this._meshData.vertexIndices);for(var i=0,j=f.uvs.length;i<j;i+=2){var k=f.uvs[i],l=f.uvs[i+1];f.uvs[i]=(c.region.x+k*c.region.width)/g,f.uvs[i+1]=(c.region.y+l*c.region.height)/h}f.texture=c.texture,f.dirty=!0}else{var m=this._renderDisplay;m.texture=c.texture}return void this._updateVisible()}}if(b){var f=this._renderDisplay;f.visible=!1,f.texture=null,f.x=0,f.y=0}else{var m=this._renderDisplay;m.visible=!1,m.texture=null,m.x=0,m.y=0}},c.prototype._updateMesh=function(){var a=this._renderDisplay,b=this._ffdVertices.length>0;if(this._meshData.skinned)for(var c=0,d=0,e=this._meshData.vertices.length;c<e;c+=2){for(var f=c/2,g=this._meshData.boneIndices[f],h=this._meshData.boneVertices[f],i=this._meshData.weights[f],j=0,k=0,l=0,m=g.length;l<m;++l){var n=this._meshBones[g[l]],o=n.globalTransformMatrix,p=i[l],q=0,r=0;b?(q=h[2*l]+this._ffdVertices[d],r=h[2*l+1]+this._ffdVertices[d+1]):(q=h[2*l],r=h[2*l+1]),j+=(o.a*q+o.c*r+o.tx)*p,k+=(o.b*q+o.d*r+o.ty)*p,d+=2}a.vertices[c]=j,a.vertices[c+1]=k}else if(b)for(var s=this._meshData.vertices,c=0,e=this._meshData.vertices.length;c<e;c+=2){var j=s[c]+this._ffdVertices[c],k=s[c+1]+this._ffdVertices[c+1];a.vertices[c]=j,a.vertices[c+1]=k}},c.prototype._updateTransform=function(a){if(a)this._renderDisplay.position.x=0,this._renderDisplay.position.y=0,this._renderDisplay.scale.x=1,this._renderDisplay.scale.y=1,this._renderDisplay.rotation=0,this._renderDisplay.skew.x=0,this._renderDisplay.skew.y=0,this._renderDisplay.pivot.x=0,this._renderDisplay.pivot.y=0;else{var b=this.globalTransformMatrix.tx-(this.globalTransformMatrix.a*this._pivotX+this.globalTransformMatrix.c*this._pivotY),c=this.globalTransformMatrix.ty-(this.globalTransformMatrix.b*this._pivotX+this.globalTransformMatrix.d*this._pivotY);if(this._renderDisplay instanceof Phaser.Rope){this._renderDisplay.position.x=b||0,this._renderDisplay.position.y=c||0,this._renderDisplay.worldTransform.tx=this.globalTransformMatrix.tx,this._renderDisplay.worldTransform.ty=this.globalTransformMatrix.ty,this._renderDisplay.worldTransform.a=this.globalTransformMatrix.a,this._renderDisplay.worldTransform.b=this.globalTransformMatrix.b,this._renderDisplay.worldTransform.c=this.globalTransformMatrix.c,this._renderDisplay.worldTransform.d=this.globalTransformMatrix.d;var d=this._renderDisplay.parent.scale.x?this._renderDisplay.parent.scale.x:1,e=this._renderDisplay.parent.scale.y?this._renderDisplay.parent.scale.y:1;this._renderDisplay.worldTransform.scale(d,e),this._renderDisplay.worldTransform.translate(this._renderDisplay.parent.x,this._renderDisplay.parent.y)}else if(this._renderDisplay instanceof PIXI.Sprite){this.updateGlobalTransform();var f=(this.global,"Layer 15"==this.name||this.name,this.globalTransformMatrix.tx),g=this.globalTransformMatrix.ty,h=f-(this.globalTransformMatrix.a*this._pivotX+this.globalTransformMatrix.c*this._pivotY),i=g-(this.globalTransformMatrix.b*this._pivotX+this.globalTransformMatrix.d*this._pivotY);this._renderDisplay===this._rawDisplay||this._renderDisplay===this._meshDisplay?(this._renderDisplay.position.x=h,this._renderDisplay.position.y=i):(this._renderDisplay.position.x=f,this._renderDisplay.position.y=g),this._renderDisplay.scale.x=this.global.scaleX?this.global.scaleX:1,this._renderDisplay.scale.y=this.global.scaleY?this.global.scaleY:1,this._renderDisplay.rotation=this.global.skewX,this._renderDisplay.skew.x=0,this._renderDisplay.skew.y=this.global.skewY-this.global.skewX}}},c}(a.Slot);a.PhaserSlot=b}(dragonBones||(dragonBones={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),dragonBones;!function(a){var b=function(b){function d(){return b.call(this)||this}return __extends(d,b),d.toString=function(){return"[class dragonBones.PhaserTextureAtlasData]"},d.prototype._onClear=function(){b.prototype._onClear.call(this),this.texture&&(this.texture=null)},d.prototype.generateTexture=function(){return a.BaseObject.borrowObject(c)},d}(a.TextureAtlasData);a.PhaserTextureAtlasData=b;var c=function(a){function b(){return a.call(this)||this}return __extends(b,a),b.toString=function(){return"[class dragonBones.PhaserTextureData]"},b.prototype._onClear=function(){a.prototype._onClear.call(this),this.texture&&(this.texture.destroy(!0),this.texture=null)},b}(a.TextureData);a.PhaserTextureData=c}(dragonBones||(dragonBones={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}return __extends(c,b),c.prototype.init=function(a){void 0===a&&(a=3)},c.prototype.create=function(){a.SoundMixer.play("snd_loopGame",.3,!0),c.instance=this,this._gameRootSprite=this.game.make.sprite(0,0),this.game.world.addChild(this._gameRootSprite),this._backGroundLayer=this.game.make.sprite(0,0),this._gameMapLayer=this.game.make.sprite(0,0),this._toxicLayer=this.game.make.sprite(0,0),this._playerLayer=this.game.make.sprite(0,0),this._effectLayer=this.game.make.sprite(0,0),this._uiLayer=this.game.make.sprite(0,0),this._gameRootSprite.addChild(this._backGroundLayer),this._gameRootSprite.addChild(this._gameMapLayer),this._gameRootSprite.addChild(this._toxicLayer),this._gameRootSprite.addChild(this._playerLayer),this._gameRootSprite.addChild(this._effectLayer),this._gameRootSprite.addChild(this._uiLayer),this.initHUD(),a.Global.changeVars(),a.Global.createGame(),this.initController();new Phaser.Rectangle(10,0,10,30),new Phaser.Rectangle(0,10,30,10)},c.prototype.initHUD=function(){this._hud=new a.HUD(this.game),this._uiLayer.addChild(this._hud)},c.prototype.initController=function(){var a=this;this.game.input.keyboard.onDownCallback=function(b){a.onKeyDown(b)},this.game.input.keyboard.onUpCallback=function(b){a.onKeyUp(b)}},c.prototype.onKeyDown=function(b){switch(b.keyCode){case Phaser.Keyboard.Z:this.subKeyZIni();break;case Phaser.Keyboard.DOWN:this.subKeyDownIni();break;case Phaser.Keyboard.UP:this.subKeyUpIni();break;case Phaser.Keyboard.LEFT:this.subKeyLeftIni();break;case Phaser.Keyboard.RIGHT:this.subKeyRightIni();break;case Phaser.Keyboard.SPACEBAR:a.Global.player.action.subKeySpaceIni()}},c.prototype.onKeyUp=function(b){switch(b.keyCode){case Phaser.Keyboard.Z:this.subKeyZEnd();break;case Phaser.Keyboard.SPACEBAR:this.subKeySpaceEnd();break;case Phaser.Keyboard.UP:a.Global.activePanelChange||a.Global.player.action.subKeyUpEnd();break;case Phaser.Keyboard.RIGHT:a.Global.activePanelChange||a.Global.player.action.subKeyRightEnd();break;case Phaser.Keyboard.LEFT:a.Global.activePanelChange||a.Global.player.action.subKeyLeftEnd()}},c.prototype.update=function(){a.Global.pause||(a.Global.TIMER=1e3*this.game.time.totalElapsedSeconds()-a.Global.TIME_PAUSED,a.Global.game&&a.Global.game.update()),this._toxicLayer.position.set(a.Global.world._x,a.Global.world._y),this._effectLayer.position.set(a.Global.world._x,a.Global.world._y)},c.prototype.subKeyZIni=function(){!a.Global.activePanelChange&&a.Global.playerActiveChange&&a.Global.game.createPanelChange()},c.prototype.subKeyZEnd=function(){a.Global.activePanelChange&&(a.Global.activePlayer==a.Global.PLAYER_BEN||a.Global.pieceModulator||a.Global.actionEndEscene||a.Global.player.transformToBen(),a.Global.game.removePanelChange(),a.Global.setPause(!1),a.Global.player.action.toRight?a.Global.player.action.toRight=!0:a.Global.player.action.toLeft&&(a.Global.player.action.toLeft=!0))},c.prototype.subKeyUpIni=function(){a.Global.activePanelChange?(a.SoundMixer.play("Tenacious-snd-transformation-2007-1-24",.3),a.Global.playerTemp=a.Global.PLAYER_HEATBLAST,a.Global.game.removePanelChange(),a.Global.activePlayer==a.Global.PLAYER_BEN?a.Global.player.changeBen():a.Global.activePlayer!=a.Global.playerTemp?a.Global.player.transformAlienToAlien():a.Global.setPause(!1)):a.Global.player.action.subKeyUpIni()},c.prototype.subKeyDownIni=function(){a.Global.activePanelChange&&(a.SoundMixer.play("Tenacious-snd-transformation-2007-1-24",.3),a.Global.playerTemp=a.Global.PLAYER_WILDMUTT,a.Global.game.removePanelChange(),a.Global.activePlayer==a.Global.PLAYER_BEN?a.Global.player.changeBen():a.Global.activePlayer!=a.Global.playerTemp?a.Global.player.transformAlienToAlien():a.Global.setPause(!1))},c.prototype.subKeyRightIni=function(){a.Global.activePanelChange?(a.SoundMixer.play("Tenacious-snd-transformation-2007-1-24",.3),a.Global.playerTemp=a.Global.PLAYER_CANNONBOLT,a.Global.game.removePanelChange(),a.Global.activePlayer==a.Global.PLAYER_BEN?a.Global.player.changeBen():a.Global.activePlayer!=a.Global.playerTemp?a.Global.player.transformAlienToAlien():a.Global.setPause(!1)):a.Global.player.action.subKeyRightIni()},c.prototype.subKeyLeftIni=function(){a.Global.activePanelChange?(a.SoundMixer.play("Tenacious-snd-transformation-2007-1-24",.3),a.Global.playerTemp=a.Global.PLAYER_WILDVINE,a.Global.game.removePanelChange(),a.Global.activePlayer==a.Global.PLAYER_BEN?a.Global.player.changeBen():a.Global.activePlayer!=a.Global.playerTemp?a.Global.player.transformAlienToAlien():a.Global.setPause(!1)):a.Global.player.action.subKeyLeftIni()},c.prototype.subKeyPIni=function(){a.Global.setPause(!a.Global.pause)},c.prototype.subKeySpaceEnd=function(){a.Global.panelWilmutt?a.Global.game.removePanelWilmutt():a.Global.player.action.subKeySpaceEnd()},c.prototype.subKeyCIni=function(){a.Global.mode_collision=!a.Global.mode_collision},c.prototype.subKeyIIni=function(){a.Global.invincible?a.Global.invincible=!1:a.Global.invincible=!0},c.prototype.subKeyLIni=function(){!a.Global.levelChanging&&a.Global.level<10&&a.Global.game.createPanel("mc_fade_change_level",0,0)},c.prototype.subKeyTIni=function(){a.Global.infiniteTransformation=!a.Global.infiniteTransformation},c.prototype.subKeyHIni=function(){a.Global.game.updateEnergyLife(100)},c.prototype.checkCollisionOverlap=function(a,b){return null!=a&&null!=b&&Phaser.Rectangle.intersects(a,b)},c.prototype.checkTrueCollisionOverlap=function(a,b,c){if(void 0===c&&(c=!1),null==a||null==b)return!1;var d=this.getRectangleForCollision(a),e=this.getRectangleForCollision(b),f=this.checkCollisionOverlap(d,e);if(c&&null==f){var g=this.game.add.graphics(d.x,d.y);g.beginFill(0,.7),g.drawRect(0,0,d.width,d.height),g.endFill();var h=this.game.add.graphics(e.x,e.y);h.beginFill(6749952,.7),h.drawRect(0,0,e.width,e.height),h.endFill(),setTimeout(function(){g.destroy(!0),h.destroy(!0)},40)}return f},c.prototype.getRectangleForCollision=function(a){var b=0,c=0,d=1;a.parent&&(d=a.parent.scale.x);var e=a.parent?180*a.parent.rotation/Math.PI:0,f=a.width*Math.abs(d),g=a.height*Math.abs(d);return 90==e?(f=a.height*Math.abs(d),g=a.width*Math.abs(d),c=a.y):-90==e&&(f=a.height*Math.abs(d),g=a.width*Math.abs(d),c=-a.y-g),(a.parent&&a.parent.scale.x<0||a.scale.x<0)&&(a.parent&&a.parent.scale.x<0&&a.scale.x<0||(b-=f)),new Phaser.Rectangle(a.worldPosition.x+b,a.worldPosition.y+c,f,g)},c.prototype.checkTruePointOverlap=function(a,b){var c=new Phaser.Rectangle(a[0],a[1],a[2],a[3]),d=new Phaser.Rectangle(b.x,b.y,2,2);return this.checkCollisionOverlap(c,d)},c.prototype.winGame=function(){a.Global.game.free(),delete a.Global.game,c.instance.game.state.start("Win",!0)},c.prototype.loseGame=function(){a.Global.game.free(),delete a.Global.game},Object.defineProperty(c.prototype,"root",{get:function(){return this._gameRootSprite},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"backLayer",{get:function(){return this._backGroundLayer},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"mapLayer",{get:function(){return this._gameMapLayer},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"playerLayer",{get:function(){return this._playerLayer},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"uiLayer",{get:function(){return this._uiLayer},enumerable:!0,configurable:!0}),c}(Phaser.State);a.BaseGame=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(a){function b(){var b=null!==a&&a.apply(this,arguments)||this;return b._loadedAssets=!1,b}return __extends(b,a),b.prototype.preload=function(){this.game.load.onFileComplete.add(this.loadingUpdate,this),this.game.load.image("cn_logo",b.PATH_IMAGES+"preloader/cnlogo.jpg"),this.game.load.atlas("preload",b.PATH_IMAGES+"preloader/Preloader.png",b.PATH_IMAGES+"preloader/Preloader.json")},b.prototype.create=function(){this.enabledMultitouch(!0),this.game.scale.scaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.scale.fullScreenScaleMode=Phaser.ScaleManager.SHOW_ALL,this.game.scale.pageAlignHorizontally=!0,this.game.scale.pageAlignVertically=!0,this.game.scale.trackParentInterval=50,this.game.scale.refresh(),this.game.input.touch.preventDefault=!1,this._createLockScreenHandleTimeout=null,this._createLockImageScreenHandleTimeout=null,this.lockTween=null,this.game.device.desktop?(this.game.input.mouse.enabled=!0,b.CAN_START=!0):(this.game.input.mouse.enabled=!1,this.LOCK()),this.game.stage.disableVisibilityChange=!0,this.game.stage.backgroundColor=000000,this.game.renderer.renderSession.roundPixels=!0},b.prototype.LOCK=function(){var a=this;b.CAN_START=this.game.scale.isLandscape,this.game.scale.forceOrientation(!0,!1),this.game.scale.enterIncorrectOrientation.add(function(){a.game.paused=!0,a.enterIncorrectOrientation()},this),this.game.scale.leaveIncorrectOrientation.add(function(){a.game.paused=!1,null!=a._createLockScreenHandleTimeout&&clearTimeout(a._createLockScreenHandleTimeout),null!=a._createLockImageScreenHandleTimeout&&clearTimeout(a._createLockImageScreenHandleTimeout),a._createLockScreenHandleTimeout=null,a._createLockImageScreenHandleTimeout=null,a.lockTween=null,a.game.world.removeChild(b.LOCK_SCREN),b.CAN_START=!0},this)},b.prototype.enterIncorrectOrientation=function(){var a=this;null==b.LOCK_SCREN&&(b.LOCK_SCREN=this.game.add.graphics(0,0),b.LOCK_SCREN.beginFill(2169377),b.LOCK_SCREN.drawRect(0,0,5e4,5e4),b.LOCK_SCREN.endFill(),b.LOCK_ICON=this.game.make.image(this.game.width/2,this.game.height/2,"lockOrientation"),b.LOCK_ICON.anchor.set(.5),b.LOCK_ICON.alpha=1,this._createLockScreenHandleTimeout=setTimeout(function(){b.LOCK_ICON.scale.set(1.5/a.game.scale.scaleFactor.y,1.5/a.game.scale.scaleFactor.x),console.log(b.LOCK_ICON.scale.x,b.LOCK_ICON.scale.y)},10)),this._createLockImageScreenHandleTimeout=setTimeout(function(){b.LOCK_ICON.x=a.game.world.centerX,b.LOCK_ICON.y=a.game.world.centerY,b.LOCK_SCREN.addChild(b.LOCK_ICON),a.game.world.removeChild(b.LOCK_SCREN),a.game.world.addChild(b.LOCK_SCREN)},10),this.game.world.addChild(b.LOCK_SCREN),b.CAN_START=!1},b.prototype.loadingUpdate=function(a,b,c,d,e){a>=100&&(this.game.load.onFileComplete.removeAll(),this._loadedAssets=!0)},b.prototype.pauseUpdate=function(){},b.prototype.update=function(){this._loadedAssets&&b.CAN_START&&(this._loadedAssets=!1,this.game.state.start("Preloader",!0))},b.prototype.enabledMultitouch=function(a){a?(this.game.input.maxPointers=2,
this.game.input.addPointer(),this.game.input.addPointer()):this.game.input.maxPointers=1},b.PATH_IMAGES="./assets/images/",b.PATH_FONTS="./assets/fonts/",b.PATH_SOUNDS="./assets/sounds/",b.PATH_SETTINGS="./assets/settings/",b.PATH_DB="./assets/db/",b.CAN_START=!1,b}(Phaser.State);a.Boot=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}return __extends(c,b),c.prototype.create=function(){var b=this;this.add.image(0,0,"ui","prologue");var c=new a.OButton(this.game,"ui",["btn_play0001","btn_play0002","btn_play0003"],function(){b.game.state.start("BaseGame",!0)});c.position.set(530,374),c.setAnimationScale(0),this.add.existing(c)},c}(Phaser.State);a.Cumshoot=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}return __extends(c,b),c.prototype.create=function(){var b=this;this.add.image(0,0,"ui","bgyouLose");var c=this.add.image(this.world.centerX,this.world.centerY+40,"ui","giveup");c.anchor.set(.5),c.alpha=0,c.scale.set(.2,.2),this.add.tween(c).to({alpha:1},400,Phaser.Easing.Sinusoidal.Out,!0,200),this.add.tween(c.scale).to({x:1,y:1},400,Phaser.Easing.Sinusoidal.Out,!0,200);var d=new a.OButton(this.game,"ui",["btn_playAgain0001","btn_playAgain0002","btn_playAgain0003"],function(){b.game.state.start("BaseGame",!0)});d.position.set(304,374),d.setAnimationScale(0),this.add.existing(d)},c}(Phaser.State);a.GameOver=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}return __extends(c,b),c.prototype.create=function(){var b=this;this.add.image(0,0,"ui","htpBg"),this._state=1,this._bg=this.add.image(this.world.centerX,this.world.centerY-10,"ui","bammbooclip"),this._bg.anchor.set(.5),this._cap=this.add.image(195,30,"ui","intrcap"),this._cap.anchor.set(.5),this._hint=this.make.image(-5,0,"ui","hint"),this._hint.anchor.set(.5),this._bg.addChild(this._hint),this._ben=this.add.image(600,410,"ui","ben"),this._ben.anchor.set(1),this._next=new a.OButton(this.game,"ui",["btn_next0001","btn_next0002","btn_next0003"],function(){b._state++,4==b._state?b.game.state.start("Cumshoot",!0):b._hint.frameName="hint"+b._state}),this._next.position.set(304,374),this._next.setAnimationScale(0),this.add.existing(this._next),this.tw()},c.prototype.tw=function(){this.anim(this._bg,300),this.anim(this._cap,600),this.anim(this._ben,1e3),this.anim(this._hint,1100),this.anim(this._next,1300)},c.prototype.anim=function(a,b){a.alpha=0,a.scale.set(.2,.2),this.add.tween(a).to({alpha:1},400,Phaser.Easing.Sinusoidal.Out,!0,b),this.add.tween(a.scale).to({x:1,y:1},400,Phaser.Easing.Sinusoidal.Out,!0,b)},c}(Phaser.State);a.Hint=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}return __extends(c,b),c.prototype.create=function(){var b=this;this.add.image(0,0,"ui","MMBG");var c=new a.OButton(this.game,"ui",["btn_play0001","btn_play0002","btn_play0003"],function(){b.game.state.start("Hint",!0)});c.position.set(304,374),c.setAnimationScale(0),this.add.existing(c),a.SoundMixer.play("snd_loop_menu",.3,!0)},c}(Phaser.State);a.MainMenu=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}return __extends(c,b),c.prototype.preload=function(){this.game.load.onFileComplete.add(this.loadingUpdate,this),this.game.load.image("lockOrientation",a.Boot.PATH_IMAGES+"ui/lock.png")},c.prototype.loadingUpdate=function(a,b,c,d,e){a>=100&&(this.game.load.onFileComplete.removeAll(),this.game.state.start("Boot",!0))},c}(Phaser.State);a.PreBoot=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return __extends(b,a),b.prototype.loading=function(){this.loadImages(["game_bg"]),this.loadAtlases(["bullet_atlas","level_1_a_1","level_1_a_2","level_1_a_3","level_1_a_4","level_1_a_5","level_1_a_6","enemy_atlas_1","object_atlas_1","object_atlas_2","ui","huita","big_fx","fire","level_2_a_1","level_2_a_2","level_2_a_3","level_2_a_4","level_2_a_5","level_2_a_6"]),this.loadDataJsons(["level_01","level_01_boss","level_02","level_02_boss"]),this.loadAudiosprite("sfx")},b}(a.BasePreloader);a.Preloader=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(a){function b(){return null!==a&&a.apply(this,arguments)||this}return __extends(b,a),b.prototype.init=function(a,b,c){this._s=a,this._e=b,this._o=c},b.prototype.create=function(){var a=this.add.graphics(0,0);a.beginFill(0),a.drawRect(0,0,800,500),a.endFill(),a.inputEnabled=!0;var b=this.add.image(this.world.centerX,this.world.centerY,"ui","bammbooclip");b.anchor.set(.5);var c=this.make.image(0,0,"ui","panel_resume");c.anchor.set(.5),b.addChild(c)},b}(Phaser.State);a.Resume=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}return __extends(c,b),c.prototype.create=function(){this._debugWorldTest=this.add.graphics(0,0),this._container=this.add.sprite(this.world.centerX,this.world.centerY),this._container.angle=30,this._container.scale.x=-.5,this._gr=this.make.graphics(0,0),this._gr.lineStyle(1,65280,.8),this._gr.beginFill(65280,.4),this._gr.drawRect(-20,-18,65,34),this._gr.endFill(),this._container.addChild(this._gr);var b=new a.DBSprite(a.Boot.BOSS2,"_db/boss2/BOSS",this.game);b.play(window.test1),b.setPos(250,250),this.game.stage.addChild(b)},c.prototype.update=function(){this._container.angle+=1;var a=this._gr.getBounds(),b=a.x,c=a.y,d=a.width,e=a.height;this._debugWorldTest.clear(),this._debugWorldTest.lineStyle(1,16711680,1),this._debugWorldTest.drawRect(b,c,d,e),this._debugWorldTest.endFill()},c}(Phaser.State);a.Test=b}(TProject||(TProject={}));var __extends=this&&this.__extends||function(){var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,b){a.__proto__=b}||function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c])};return function(b,c){function d(){this.constructor=b}a(b,c),b.prototype=null===c?Object.create(c):(d.prototype=c.prototype,new d)}}(),TProject;!function(a){var b=function(b){function c(){return null!==b&&b.apply(this,arguments)||this}return __extends(c,b),c.prototype.create=function(){var b=this;this.add.image(0,0,"ui","bgyouWin"),a.Global.level=1,a.SoundMixer.play("snd_loop_menu",.3,!0);var c=this.add.image(this.world.centerX,this.world.centerY+40,"ui","uwin");c.anchor.set(.5),c.alpha=0,c.scale.set(.2,.2),this.add.tween(c).to({alpha:1},400,Phaser.Easing.Sinusoidal.Out,!0,200),this.add.tween(c.scale).to({x:1,y:1},400,Phaser.Easing.Sinusoidal.Out,!0,200);var d=new a.OButton(this.game,"ui",["btn_playAgain0001","btn_playAgain0002","btn_playAgain0003"],function(){b.game.state.start("MainMenu",!0)});d.position.set(304,374),d.setAnimationScale(0),this.add.existing(d)},c}(Phaser.State);a.Win=b}(TProject||(TProject={}));