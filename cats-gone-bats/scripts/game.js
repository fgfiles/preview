! function e(t, i, a) {
    function o(s, r) { if (!i[s]) { if (!t[s]) { var h = "function" == typeof require && require; if (!r && h) return h(s, !0); if (n) return n(s, !0); var l = new Error("Cannot find module '" + s + "'"); throw l.code = "MODULE_NOT_FOUND", l } var u = i[s] = { exports: {} };
            t[s][0].call(u.exports, function(e) { var i = t[s][1][e]; return o(i || e) }, u, u.exports, e, t, i, a) } return i[s].exports } for (var n = "function" == typeof require && require, s = 0; s < a.length; s++) o(a[s]); return o }({
    1: [function(e, t, i) { "use strict";
        Object.defineProperty(i, "__esModule", { value: !0 }); var a = function() {
                function e() { return !!s.isLive }

                function t(t) { s = $.extend(n, t), e() && (o = s_gi(s.reportSuiteID), o.debugTracking = s.debug, o.trackingServer = s.trackingServer, o.pageName = document.title, o.visitorNamespace = s.visitorNamespace) }

                function i(e) { s.isLive && (e = s.gameTitle + ":" + e, o.timestamp = Math.round((new Date).getTime() / 1e3), o.tl(this, "o", e, null)) }

                function a() { s.isLive && (o.timestamp = Math.round((new Date).getTime() / 1e3), o.t()) } var o, n = { gameTitle: "INSERT-GAME-TITLE-HERE", reportSuiteID: "INSERT-REPORT-SUITE-ID-HERE", mcorgID: "INSERT-MCORG-ID-HERE", trackingServer: "INSERT-TRACKING-SERVER-HERE", secureTrackingServer: "INSERT-SECURE-TRACKING-SERVER-HERE", visitorNamespace: "INSERT-NAMESPACE-HERE", debug: !0, isLive: !0 },
                    s = n; return { init: t, trackLink: i, visitPage: a } },
            o = i.s6Analytics = new a;! function(e) {
            function t(t) { if ("Not Found" === this.statusText) return void console.warn("ANALYTICS CONFIGURATION NOT FOUND"); for (var a = this.responseText.split("\n"), o = 0; o < a.length; o++) { var n = a[o].replace(/\s/g, ""); if (0 !== n.length) { var s = n.indexOf(":"); if (-1 !== s) { var r = n.substr(0, s),
                                h = n.substr(s + 1, n.length - 1);
                            i[r] = "true" === h || "false" === h ? "true" === h : h } else console.warn("INVALID ANALYTICS CONFIGURATION DATA : " + n) } } "function" == typeof e && e(i) } var i = {},
                a = new XMLHttpRequest;
            a.onload = t, a.open("get", "cfg_analytics.txt", !0), a.send() }(o.init) }, {}],
    2: [function(e, t, i) { "use strict";
        Object.defineProperty(i, "__esModule", { value: !0 }); var a = { gameWidth: 1366, gameHeight: 768 };
        i.default = a }, {}],
    3: [function(e, t, i) { "use strict";

        function a(e) { return e && e.__esModule ? e : { default: e } }

        function o(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }

        function n(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }

        function s(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) } var r = e("./states/boot"),
            h = a(r),
            l = e("./states/preload"),
            u = a(l),
            c = e("./states/title"),
            d = a(c),
            p = e("./states/tutorial"),
            m = a(p),
            g = e("./states/gameplay"),
            f = a(g),
            y = e("./states/postgame"),
            b = a(y),
            v = e("./config"),
            w = a(v),
            S = e("./plugins/phaser-state-transition.min"),
            _ = (a(S), function(e) {
                function t() { o(this, t); var e = n(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, w.default.gameWidth, w.default.gameHeight, Phaser.CANVAS, "game", null, !1, !1)); return e.state.add("boot", h.default), e.state.add("preload", u.default), e.state.add("title", d.default), e.state.add("tutorial", m.default), e.state.add("gameplay", f.default), e.state.add("postgame", b.default), e.state.start("boot"), e } return s(t, e), t }(Phaser.Game)),
            x = new _;
        window.globalGame = x }, { "./config": 2, "./plugins/phaser-state-transition.min": 15, "./states/boot": 16, "./states/gameplay": 17, "./states/postgame": 18, "./states/preload": 19, "./states/title": 20, "./states/tutorial": 21 }],
    4: [function(e, t, i) { "use strict";
        Object.defineProperty(i, "__esModule", { value: !0 }); var a = { PAUSED: 0, RESTARTING: 0, DEBUG: !1, ENABLE_SFX: 1, LEVEL: 0, ANALYTICS_PLAY_BUTTON: "PRESS PLAY BUTTON", ANALYTICS_PLAYAGAIN_BUTTON: "PRESS PLAY AGAIN BUTTON", SCORE: 0, UNIQUE_SCORE_KEY: "tj_catsGoneBats_highScore" };
        i.default = a }, {}],
    5: [function(e, t, i) { "use strict";

        function a(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }

        function o(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }

        function n(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) } Object.defineProperty(i, "__esModule", { value: !0 }); var s = function() {
                function e(e, t) { for (var i = 0; i < t.length; i++) { var a = t[i];
                        a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } } return function(t, i, a) { return i && e(t.prototype, i), a && e(t, a), t } }(),
            r = e("../utils"),
            h = function(e) { return e && e.__esModule ? e : { default: e } }(r),
            l = function(e) {
                function t(e, i, n, s) { a(this, t); var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, i, n, s)); return e.add.existing(r), r.maxHP = 1, r.health = r.maxHP, r.game.physics.arcade.enable(r), r.anchor.set(.5), r.laneIdx = 0, r.bIsActive = !1, r.kill(), r.bPushable = !0, r.animations.add("idle", h.default.createFrames(0, 3, "anim_batIdle"), 12, !0), r.moveSpeed = 100, r.targetY = 0, r } return n(t, e), s(t, [{ key: "pushBack", value: function() { if (this.bPushable) { console.log("push back bat"), this.bPushable = !1, this.body.velocity.x = 0; var e = this.x + 200 > this.game.world.width - 250 ? this.game.world.width - 250 : this.x + 200;
                            this.game.add.tween(this).to({ x: e }, 500, "Linear", !0).onComplete.add(function() { this.bPushable = !0, this.body.velocity.x = -this.moveSpeed, this.y = this.targetY }, this) } } }, { key: "activate", value: function(e, t, i, a) { var o = arguments.length > 4 && void 0 !== arguments[4] ? arguments[4] : 100; if (!this.bIsActive) { this.scale.set(1), this.moveSpeed = o * (this.game.time.desiredFps / this.game.time.fpsMax), this.targetY = t, this.reset(e, -100, i), this.body.velocity.x = 0, this.x = e, this.y = -100; var n = this.game.add.tween(this).to({ y: this.targetY }, 1e3 + 500 * a, Phaser.Easing.Exponential.InOut, !0);
                            this.animations.play("idle"), this.laneIdx = a, this.events.onKilled.addOnce(function() { this.bIsActive = !1 }, this), n.onComplete.addOnce(function() { this.bIsActive = !0; var e = this.moveSpeed;
                                this.body.velocity.x = -e }, this) } } }, { key: "deactivate", value: function() { this.bIsActive = !1, this.kill() } }]), t }(Phaser.Sprite);
        i.default = l }, { "../utils": 23 }],
    6: [function(e, t, i) { "use strict";

        function a(e) { return e && e.__esModule ? e : { default: e } }

        function o(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }

        function n(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }

        function s(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) } Object.defineProperty(i, "__esModule", { value: !0 }); var r = function() {
                function e(e, t) { for (var i = 0; i < t.length; i++) { var a = t[i];
                        a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } } return function(t, i, a) { return i && e(t.prototype, i), a && e(t, a), t } }(),
            h = e("./bat"),
            l = a(h),
            u = e("./vampireMouse"),
            c = a(u),
            d = function(e) {
                function t(e) { o(this, t); var i = n(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));
                    i.game.add.existing(i), i.yPositions = [335, 490, 650], i.normalBatPool = i.game.add.group(), i.add(i.normalBatPool), i.vampireMouse = new c.default(i.game, 0, 0, "enemies"), i.add(i.vampireMouse); for (var a = 0; a < 15; a++) { var s = new l.default(i.game, i.game.world.width, 0, "enemies");
                        i.normalBatPool.add(s) } i.batSpawnSfxList = []; for (var a = 0; a < 2; a++) { var r = i.game.add.audio("SFX_BatSpawn" + (a + 1));
                        i.batSpawnSfxList.push(r) } return i } return s(t, e), r(t, [{ key: "spawnEnemy", value: function() { var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 100,
                            t = this.normalBatPool.getFirstDead(!1); if (t) { this.batSpawnSfxList[this.game.rnd.integerInRange(0, 1)].play(); var i = this.game.rnd.integerInRange(0, 2);
                            t.activate(this.game.world.width - 250, this.yPositions[i], 1, i, e) } } }, { key: "spawnVampireMouse", value: function() { var e = this.game.rnd.integerInRange(0, 2);
                        this.vampireMouse.activate(this.game.world.width - 250, this.yPositions[e], e) } }]), t }(Phaser.Group);
        i.default = d }, { "./bat": 5, "./vampireMouse": 13 }],
    7: [function(e, t, i) { "use strict";

        function a(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }

        function o(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }

        function n(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) } Object.defineProperty(i, "__esModule", { value: !0 }); var s = function() {
                function e(e, t) { for (var i = 0; i < t.length; i++) { var a = t[i];
                        a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } } return function(t, i, a) { return i && e(t.prototype, i), a && e(t, a), t } }(),
            r = function(e) {
                function t(e, i, n, s, r) { a(this, t); var h = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, i, n, s, r)); return h.game.add.existing(h), h.game.physics.arcade.enable(h), h.anchor.set(.5), h.healthPoints = 3, h.latchedBats = [], h.laneIdx = 0, h.xOffsetRange = 0, h.yOffsetRange = 0, h.propSprite = void 0, h } return n(t, e), s(t, [{ key: "setPropSprite", value: function(e) { this.propSprite = e } }, { key: "takeDamage", value: function(e) { var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : 1;
                        this.healthPoints -= t, this.latchedBats.push(e), this.healthPoints <= 0 && this.game.time.events.add(500, this.deathSequence, this) } }, { key: "deathSequence", value: function() { this.body.velocity.y = this.game.time.desiredFps / this.game.time.fpsMax * -100; var e = 2 == this.laneIdx ? 0 : this.game.rnd.integerInRange(0, 100);
                        this.body.velocity.x = e * (this.game.time.desiredFps / this.game.time.fpsMax); for (var t = 0; t < this.latchedBats.length; t++) this.latchedBats[t].body.velocity.y = this.game.time.desiredFps / this.game.time.fpsMax * -100, this.latchedBats[t].body.velocity.x = e * (this.game.time.desiredFps / this.game.time.fpsMax);
                        null != this.propSprite && 2 == this.laneIdx && this.game.add.tween(this.propSprite.scale).to({ x: 0, y: 0 }, 2500, "Linear", !0) } }]), t }(Phaser.Sprite),
            h = function(e) {
                function t(e) { a(this, t); var i = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));
                    i.game.add.existing(i), i.yPositions = [180, 390, 540], i.xPositions = [290, 290, 230], i.frameNameArray = ["gobj_book.png", "gobj_hat.png", "gobj_broom.png"], i.propFrameNameArray = ["gobj_pedestal.png", "gobj_stand.png", "gobj_shadow.png"], i.yOffsets = [-25, -40, 120], i.xOffsetsLatch = [10, 10, 5], i.yOffsetsLatch = [-60, -60, -150], i.healthObjArray = []; for (var n = 0; n < 3; n++) { var s = null; "" != i.propFrameNameArray[n] && (s = i.create(i.xPositions[n], i.yPositions[n] + i.yOffsets[n], "gobj", i.propFrameNameArray[n]), s.anchor.x = .5); var h = new r(i.game, i.xPositions[n], i.yPositions[n], "gobj", i.frameNameArray[n]);
                        h.laneIdx = n, h.xOffsetRange = i.xOffsetsLatch[n], h.yOffsetRange = i.yOffsetsLatch[n], i.add(h), i.healthObjArray.push(h), null != s && h.setPropSprite(s) } return i } return n(t, e), s(t, [{ key: "checkForGameOver", value: function() { for (var e = !0, t = 0; t < this.healthObjArray.length; t++) { if (this.healthObjArray[t].healthPoints > 0) { e = !1; break } } return e } }]), t }(Phaser.Group);
        i.default = h }, {}],
    8: [function(e, t, i) { "use strict";

        function a(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }

        function o(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }

        function n(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) } Object.defineProperty(i, "__esModule", { value: !0 }); var s = function() {
                function e(e, t) { for (var i = 0; i < t.length; i++) { var a = t[i];
                        a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } } return function(t, i, a) { return i && e(t.prototype, i), a && e(t, a), t } }(),
            r = e(".././uiBuilder"),
            h = function(e) { return e && e.__esModule ? e : { default: e } }(r),
            l = function(e) {
                function t(e) { a(this, t); var i = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));
                    i.game.add.existing(i); var n = new h.default(i.game, "uiDataJSON");
                    i.scoreFrame = n.createSprite("scoreFrame"), i.healthFrame = n.createSprite("healthFrame"), i.waveFrame = n.createSprite("waveFrame"), i.superChargeFrame = n.createSprite("superChargeFrame"), i.superChargeFill = n.createGauge("superChargeFill"), i.superChargeFill.y += 2, i.superChargeFill.x += -3; var s = .45 * i.game.world.width;
                    i.superChargeFill.x -= s, i.superChargeFrame.x -= s, i.radialTimer = n.createSprite("radialTimer"), i.moonIcon = n.createSprite("moonIcon"), i.glassIcon = n.createSprite("glassIcon"), i.addMultiple([i.scoreFrame, i.healthFrame, i.waveFrame, i.superChargeFrame, i.superChargeFill, i.radialTimer, i.moonIcon, i.glassIcon]), i.scoreText = i.game.add.bitmapText(i.scoreFrame.x, i.scoreFrame.y - 45, "scoreDisplay", "0", 80), i.scoreText.align = "center", i.scoreText.anchor.set(.5), i.add(i.scoreText), i.moonStateFrames = ["ui_moonQuarter.png", "ui_moonHalf.png", "ui_moonFull.png"], i.moonIcon.frameName = i.moonStateFrames[0], i.scorePopUpText = i.game.add.bitmapText(0, 0, "scorePopUp", "0", 80), i.scorePopUpText.tint = 16768358, i.add(i.scorePopUpText), i.scorePopUpText.alpha = 0, i.comboText = i.game.add.bitmapText(i.scoreFrame.x, i.scoreFrame.y + 30, "comboCount", "1x", 80), i.comboText.anchor.set(.5), i.add(i.comboText), i.radialTimerMask = i.game.add.graphics(i.radialTimer.x, i.radialTimer.y), i.radialTimer.mask = i.radialTimerMask; var r = i.game.device.desktop ? "ui_btnMirror1_U.png" : "ui_btnMirror0_U.png";
                    i.mirrorBtn = e.add.button(i.game.world.width - 280, i.game.world.height - 8, "ui", i.shootMoonbeam, i, r, r, "ui_btnMirror1_D.png"), i.mirrorBtn.anchor.set(1), i.mirrorBtn.input.priorityID = 2, i.add(i.mirrorBtn); var l = i.game.device.desktop ? "ui_btnSteak1_U.png" : "ui_btnSteak0_U.png";
                    i.steakBtn = e.add.button(i.game.world.width - 180, i.game.world.height - 8, "ui", i.throwSteak, i, l, l, "ui_btnSteak1_D.png"), i.steakBtn.anchor.set(1), i.steakBtn.input.priorityID = 2, i.add(i.steakBtn), i.mirrorCooldownIcon = i.game.add.sprite(i.mirrorBtn.x, i.mirrorBtn.y, "ui", r), i.mirrorCooldownIcon.tint = 5592405, i.mirrorCooldownIcon.anchor.set(1), i.mirrorMask = new Phaser.Graphics(i.game, i.mirrorCooldownIcon.x - i.mirrorCooldownIcon.width, i.mirrorCooldownIcon.y - i.mirrorCooldownIcon.height), i.game.add.existing(i.mirrorMask), i.mirrorMask.beginFill(16738740), i.mirrorMask.drawRect(0, 0, i.mirrorCooldownIcon.width, i.mirrorCooldownIcon.height), i.mirrorCooldownIcon.mask = i.mirrorMask, i.updateMirrorCooldown(0), i.steakCooldownIcon = i.game.add.sprite(i.steakBtn.x, i.steakBtn.y, "ui", l), i.steakCooldownIcon.tint = 5592405, i.steakCooldownIcon.anchor.set(1), i.steakMask = new Phaser.Graphics(i.game, i.steakCooldownIcon.x - i.steakCooldownIcon.width, i.steakCooldownIcon.y - i.steakCooldownIcon.height), i.game.add.existing(i.steakMask), i.steakMask.beginFill(16738740), i.steakMask.drawRect(0, 0, i.steakCooldownIcon.width, i.steakCooldownIcon.height), i.steakCooldownIcon.mask = i.steakMask, i.updateSteakCooldown(0), i.bIsMoonBeam = !0, i.waveCount = i.game.add.bitmapText(i.waveFrame.x, i.waveFrame.y + 40, "waveCount", "1", 80), i.waveCount.anchor.set(.5), i.add(i.waveCount), i.healthIcons = [], i.crossIcons = [], i.waveSeconds = 99, i.waveDuration = 0; for (var u = ["healthIcon2", "healthIcon1", "healthIcon3"], c = 0; c < 3; c++) { var d = n.createSprite(u[c]);
                        i.healthIcons.push(d) } for (var p = ["damageIcon2", "damageIcon1", "damageIcon3"], c = 0; c < 3; c++) { var m = n.createSprite(p[c]);
                        m.visible = !1, i.crossIcons.push(m) } i.batLatchCount = [], i.batLatchIcons = []; for (var c = 0; c < 3; c++) { var g = i.game.add.sprite(i.healthIcons[c].x + 18, i.healthIcons[c].y - 20, "ui", "ui_batCounterBg.png");
                        g.anchor.set(.5), g.visible = !1, i.batLatchIcons.push(g); var f = i.game.add.bitmapText(g.x, g.y - 35, "batCountFont", "0", 80);
                        f.align = "center", f.anchor.set(.5), f.visible = !1, i.batLatchCount.push(f) } return i.bPressedButton = !1, i.mirrorBtn.onInputDown.add(function() { this.bPressedButton = !0 }, i), i.steakBtn.onInputDown.add(function() { this.bPressedButton = !0 }, i), i.mirrorBtn.inputEnabled = !1, i.steakBtn.inputEnabled = !1, i.currentMultiplierValue = 1, i.mirrorCooldownLoop = null, i.mirrorCooldownTimer = 0, i.steakCooldownLoop = null, i.steakCooldownTimer = 0, i.leftKey = i.game.input.keyboard.addKey(Phaser.Keyboard.LEFT), i.rightKey = i.game.input.keyboard.addKey(Phaser.Keyboard.RIGHT), i.leftKey.onUp.add(i.shootMoonbeam, i), i.rightKey.onUp.add(i.throwSteak, i), i.sfxCombo = i.game.add.audio("SFX_Combo"), i } return n(t, e), s(t, [{ key: "pulseSpecialAttackButtons", value: function() { var e = this.game.add.tween(this.mirrorBtn.scale).to({ x: 1.2, y: 1.2 }, 250, Phaser.Easing.Elastic.InOut),
                            t = this.game.add.tween(this.steakBtn.scale).to({ x: 1.2, y: 1.2 }, 250, Phaser.Easing.Elastic.InOut),
                            i = this.game.add.tween(this.mirrorBtn.scale).to({ x: 1, y: 1 }, 250, "Linear"),
                            a = this.game.add.tween(this.steakBtn.scale).to({ x: 1, y: 1 }, 250, "Linear");
                        e.chain(i), t.chain(a), e.start(), t.start() } }, { key: "updateMirrorCooldown", value: function(e) { this.mirrorMask.bottom = this.mirrorCooldownIcon.y - this.mirrorCooldownIcon.height + this.mirrorCooldownIcon.height * e } }, { key: "updateSteakCooldown", value: function(e) { this.steakMask.bottom = this.steakCooldownIcon.y - this.steakCooldownIcon.height + this.steakCooldownIcon.height * e } }, { key: "setPlayerRef", value: function(e, t) { this.player = e, this.gameplay = t } }, { key: "shootMoonbeam", value: function() { this.player.bIsStunned || (this.player.bIsMoonBeamReady && !this.player.bIsSuperCharged && this.player.superChargeFill < this.player.superChargeTarget && (this.mirrorCooldownTimer = 0, this.mirrorBtn.inputEnabled = !1, this.mirrorBtn.frameName = this.game.device.desktop ? "ui_btnMirror1_U.png" : "ui_btnMirror0_U.png", this.updateMirrorCooldown(1), this.mirrorCooldownLoop = this.game.time.events.loop(100, function() { if (this.mirrorCooldownTimer += 100, this.mirrorCooldownTimer >= this.player.moonBeamCooldown) { var e = this.game.add.tween(this.mirrorBtn.scale).to({ x: 1.2, y: 1.2 }, 250, Phaser.Easing.Elastic.InOut),
                                    t = this.game.add.tween(this.mirrorBtn.scale).to({ x: 1, y: 1 }, 250, "Linear");
                                e.chain(t), e.start(), this.game.time.events.remove(this.mirrorCooldownLoop), this.updateMirrorCooldown(0), this.mirrorBtn.inputEnabled = !0 } else this.updateMirrorCooldown(1 - this.mirrorCooldownTimer / this.player.moonBeamCooldown) }, this)), this.player.bIsMoonBeamReady && this.game.time.events.add(250, this.moonBeamDamage, this), this.player.specialAttack()) } }, { key: "moonBeamDamage", value: function() { this.gameplay.moonBeamDamage() } }, { key: "throwSteak", value: function() { this.player.bIsStunned || (this.player.bIsSteakReady && !this.player.bIsSuperCharged && this.player.superChargeFill < this.player.superChargeTarget && (this.steakCooldownTimer = 0, this.steakBtn.inputEnabled = !1, this.steakBtn.frameName = this.game.device.desktop ? "ui_btnSteak1_U.png" : "ui_btnSteak0_U.png", this.updateSteakCooldown(1), this.steakCooldownLoop = this.game.time.events.loop(100, function() { if (this.steakCooldownTimer += 100, this.steakCooldownTimer >= this.player.steakCooldown) { var e = this.game.add.tween(this.steakBtn.scale).to({ x: 1.2, y: 1.2 }, 250, Phaser.Easing.Elastic.InOut),
                                    t = this.game.add.tween(this.steakBtn.scale).to({ x: 1, y: 1 }, 250, "Linear");
                                e.chain(t), e.start(), this.game.time.events.remove(this.steakCooldownLoop), this.updateSteakCooldown(0), this.steakBtn.inputEnabled = !0 } else this.updateSteakCooldown(1 - this.steakCooldownTimer / this.player.steakCooldown) }, this)), this.player.throwSteak()) } }, { key: "updateSupercharge", value: function(e, t) { this.superChargeFill.setValue(e, t) } }, { key: "startWaveCountdown", value: function(e) { this.waveSeconds = 0, this.waveDuration = Math.floor(e / 1e3), this.countdownEvent = this.game.time.events.loop(1e3, this.waveCountdownUpdate, this) } }, { key: "waveCountdownUpdate", value: function() { this.waveSeconds++, this.radialTimerMask.clear(), this.radialTimerMask.beginFill(16724736), this.drawPieMask(this.radialTimerMask, this.waveSeconds / this.waveDuration, this.radialTimer.width / 2, 0, 0, this.game.math.degToRad(-90), 360), this.radialTimerMask.endFill(), this.waveSeconds >= this.waveDuration && (this.waveSeconds = 0, this.game.time.events.remove(this.countdownEvent)) } }, { key: "drawPieMask", value: function(e, t, i, a, o, n, s) {
                        function r(t) { e.lineTo(Math.cos(t) * i + a, Math.sin(t) * i + o) } void 0 === i && (i = 50), void 0 === a && (a = 0), void 0 === o && (o = 0), void 0 === n && (n = 0), void 0 === s && (s = 6), e.moveTo(a, o), s < 3 && (s = 3), i /= Math.cos(1 / s * Math.PI); for (var h = Math.floor(t * s), l = 0; l <= h; l++) r(l / s * (2 * Math.PI) + n);
                        t * s != h && r(t * (2 * Math.PI) + n) } }, { key: "updateWaveCount", value: function(e) { this.waveCount.text = e; var t = this.game.add.tween(this.waveCount.scale).to({ x: 1.5, y: 1.5 }, 100, "Linear", !0),
                            i = this.game.add.tween(this.waveCount.scale).to({ x: 1, y: 1 }, 100, "Linear", !1, 100);
                        t.chain(i), this.moonIcon.frameName = e % 3 == 0 ? this.moonStateFrames[2] : e % 2 == 0 ? this.moonStateFrames[1] : this.moonStateFrames[0] } }, { key: "updateScore", value: function(e) { this.scoreText.text = e } }, { key: "scorePopUp", value: function(e, t, i) { this.scorePopUpText.tint = 1 == this.currentMultiplierValue ? 16777215 : 16768358, this.scorePopUpText.alpha = 0, this.scorePopUpText.text = "+" + i, this.scorePopUpText.x = e, this.scorePopUpText.y = t - 35; var a = (this.game.add.tween(this.scorePopUpText).to({ alpha: 1 }, 250, "Linear", !0), this.game.add.tween(this.scorePopUpText).to({ y: t - 60 }, 500, "Linear", !0)),
                            o = this.game.add.tween(this.scorePopUpText).to({ alpha: 0 }, 250, "Linear");
                        a.chain(o) } }, { key: "updateCombo", value: function(e) { var t = e,
                            i = 1; if (i = Math.floor(t / 5) + 1, i > 10 && (i = 10), i != this.currentMultiplierValue) { if (i > this.currentMultiplierValue) { var a = this.game.add.tween(this.comboText.scale).to({ x: 1.1, y: 1.1 }, 100, "Linear"),
                                    o = this.game.add.tween(this.comboText.scale).to({ x: 1, y: 1 }, 100, "Linear", !1, 250),
                                    n = this.game.add.tween(this.comboText).to({ tint: 15590225 }, 1, "Linear"),
                                    s = this.game.add.tween(this.comboText).to({ tint: 16777215 }, 1, "Linear", !1, 250);
                                a.start(), a.chain(o), n.start(), n.chain(s), this.comboText.text = i + "x", this.sfxCombo.play() } else { var a = this.game.add.tween(this.comboText.scale).to({ x: 1.1, y: 1.1 }, 100, "Linear"),
                                    o = this.game.add.tween(this.comboText.scale).to({ x: 1, y: 1 }, 100, "Linear", !1, 250),
                                    n = this.game.add.tween(this.comboText).to({ tint: 15422037 }, 1, "Linear"),
                                    s = this.game.add.tween(this.comboText).to({ tint: 16777215 }, 1, "Linear", !1, 250);
                                a.start(), a.chain(o), n.start(), n.chain(s), this.comboText.text = i + "x" } this.currentMultiplierValue = i } } }, { key: "toggleSupercharge", value: function(e) { var t = this.game.device.desktop ? "ui_btnMirror1_U.png" : "ui_btnMirror0_U.png",
                            i = this.game.device.desktop ? "ui_btnMirrorMax1_U.png" : "ui_btnMirrorMax0_U.png",
                            a = this.game.device.desktop ? "ui_btnSteak1_U.png" : "ui_btnSteak0_U.png",
                            o = this.game.device.desktop ? "ui_btnSteakMax1_U.png" : "ui_btnSteakMax0_U.png",
                            n = e ? i : t,
                            s = e ? o : a;
                        this.mirrorBtn.setFrames(n, n, "ui_btnMirror1_D.png", n), this.steakBtn.setFrames(s, s, "ui_btnSteak1_D.png", s) } }, { key: "updateHealthDisplay", value: function(e) { var t = e.laneIdx,
                            i = e.healthPoints; if (i <= 0) this.batLatchIcons[t].visible = !1, this.batLatchCount[t].visible = !1, this.crossIcons[t].visible = !0;
                        else { var a = this.batLatchCount[t];
                            this.batLatchIcons[t].visible = !0, a.visible = !0; var o = this.game.add.tween(a.scale).to({ x: 1.25, y: 1.25 }, 100, "Linear", !0),
                                n = this.game.add.tween(a.scale).to({ x: 1, y: 1 }, 100, "Linear", !1, 100);
                            o.chain(n), a.text = (3 - i).toString() } } }, { key: "toggleSpecialAttack", value: function() { this.bIsMoonBeam = !this.bIsMoonBeam; var e = this.bIsMoonBeam ? "ui_mirrorBtnU.png" : "ui_steakBtnU.png",
                            t = this.bIsMoonBeam ? "ui_mirrorBtnD.png" : "ui_steakBtnD.png",
                            i = this.bIsMoonBeam ? "ui_steakBtnD.png" : "ui_mirrorBtnD.png";
                        this.toggleBtn.setFrames(e, e, t, e), this.inactiveSkillIcon.frameName = i } }]), t }(Phaser.Group);
        i.default = l }, { ".././uiBuilder": 22 }],
    9: [function(e, t, i) { "use strict";

        function a(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }

        function o(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }

        function n(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) } Object.defineProperty(i, "__esModule", { value: !0 }); var s = function() {
                function e(e, t) { for (var i = 0; i < t.length; i++) { var a = t[i];
                        a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } } return function(t, i, a) { return i && e(t.prototype, i), a && e(t, a), t } }(),
            r = e("../utils"),
            h = function(e) { return e && e.__esModule ? e : { default: e } }(r),
            l = function(e) {
                function t(e, i, n, s) { a(this, t); var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, i, n, s)); return e.add.existing(r), r.frameName = "gobj_pan.png", r.anchor.set(.5), r.game.physics.arcade.enable(r), r.visible = !1, r.laneIdx = 0, r.game.add.tween(r).to({ angle: -360 }, 1e3, "Linear", !0, 0, -1), r.body.setSize(.25 * r.width, .25 * r.height, .125 * r.width, .125 * r.height), r } return n(t, e), s(t, [{ key: "update", value: function() { this.x <= 200 && this.kill() } }]), t }(Phaser.Sprite),
            u = function(e) {
                function t(e, i, n, s, r) { a(this, t); var u = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, i, n, s));
                    e.add.existing(u), u.playerTarget = r, u.yPositions = [335, 490, 620], u.stunDuration = 1500, u.maxHP = 3, u.health = u.maxHP, u.game.physics.arcade.enable(u), u.anchor.set(.5), u.shiftCounter = 0, u.kill(), u.fryingPan = new l(u.game, u.x, u.y, "gobj"), u.bIsStunned = !1, u.shiftLaneEvent = null, u.throwPanEvent = null, u.madDashEvent = null, u.bIsMadDashing = !1, u.bIsReturning = !1, u.laneShiftInterval = 2e3, u.laneIdx = 0, u.animations.add("idle", h.default.createFrames(0, 7, "anim_jerryIdle"), 12, !0), u.animations.add("dash", h.default.createFrames(0, 7, "anim_jerryDash"), 12, !0), u.animations.add("jump", h.default.createFrames(0, 13, "anim_jerryJump"), 12, !1), u.animations.add("throwPan", h.default.createFrames(0, 16, "anim_jerryPan"), 12, !1), u.animations.add("stun", h.default.createFrames(0, 10, "anim_jerryStun"), 12, !1), u.animations.getAnimation("jump").onComplete.addOnce(function() { this.animations.play("idle") }, u), u.vfxManager = void 0, u.sfxDash = u.game.add.audio("SFX_JerryDash"), u.sfxSpawn = u.game.add.audio("SFX_JerrySpawn"), u.sfxStun = u.game.add.audio("SFX_JerryStun"), u.throwSfxList = []; for (var c = 0; c < 3; c++) { var d = u.game.add.audio("SFX_Throw" + (c + 1));
                        u.throwSfxList.push(d) } return u } return n(t, e), s(t, [{ key: "setVFXReference", value: function(e) { this.vfxManager = e } }, { key: "stun", value: function() { this.animations.play("stun"), this.bIsStunned = !0, this.sfxStun.play(), this.vfxManager.triggerStunFx(this.x, this.y - this.width / 2), this.shiftCounter = 0, this.game.time.events.remove(this.shiftLaneEvent), this.game.time.events.remove(this.throwPanEvent), this.game.time.events.add(this.stunDuration, function() { this.madDashEvent = this.game.time.events.add(500, this.madDash, this) }, this) } }, { key: "madDash", value: function() { this.sfxDash.play(), this.animations.play("dash"), this.vfxManager.triggerJerryDash(this.x + 30, this.y + 20), this.bIsMadDashing = !0, this.bIsStunned = !1, this.body.velocity.x = this.game.time.desiredFps / this.game.time.fpsMax * -1e3 } }, { key: "activate", value: function() { var e = this.yPositions[0];
                        this.reset(this.game.world.width - 300, -100), this.game.time.events.add(2e3, function() { this.sfxSpawn.play(), this.animations.play("jump") }, this), this.game.add.tween(this).to({ y: e }, 3500, Phaser.Easing.Exponential.InOut, !0).onComplete.addOnce(function() { this.shiftLaneEvent = this.game.time.events.add(this.laneShiftInterval, this.shiftLane, this) }, this) } }, { key: "shiftLane", value: function() { if (!this.bIsStunned) { this.laneIdx = this.game.rnd.integerInRange(0, 2); var e = this.yPositions[this.laneIdx];
                            this.y = e, this.shiftCounter++, this.shiftCounter >= 3 ? (this.shiftCounter = 0, this.throwPanEvent = this.game.time.events.add(1e3, this.throwFryingPan, this)) : this.shiftLaneEvent = this.game.time.events.add(this.laneShiftInterval, this.shiftLane, this) } } }, { key: "throwFryingPan", value: function() { this.bIsStunned || (this.animations.play("throwPan"), this.throwSfxList[this.game.rnd.integerInRange(0, 2)].play(), this.animations.getAnimation("throwPan").onComplete.addOnce(function() { this.animations.play("idle") }, this), this.game.time.events.add(650, function() { this.fryingPan.laneIdx = this.laneIdx, this.fryingPan.reset(this.x - 60, this.y), this.fryingPan.body.velocity.x = this.game.time.desiredFps / this.game.time.fpsMax * -400, console.log("FRYING PAN VELOCITY IS " + this.fryingPan.body.velocity.x) }, this), this.shiftLaneEvent = this.game.time.events.add(this.laneShiftInterval + 500, this.shiftLane, this)) } }, { key: "update", value: function() { if (this.x <= this.playerTarget.x + 100 && this.bIsMadDashing) { this.game.time.events.remove(this.shiftLaneEvent), this.game.time.events.remove(this.throwPanEvent), this.bIsMadDashing = !1, this.bIsReturning = !0, this.animations.play("jump"), this.animations.getAnimation("jump").onComplete.addOnce(function() { this.scale.x = -1, this.animations.play("dash") }, this); var e = this.game.add.tween(this).to({ x: this.game.world.width - 300 }, 1500, "Linear", !0, 1500);
                            this.body.velocity.x = 0, e.onComplete.add(function() { this.shiftLaneEvent = this.game.time.events.add(this.laneShiftInterval, this.shiftLane, this), this.scale.x = 1, this.animations.play("idle"), this.bIsReturning = !1 }, this), this.laneIdx == this.playerTarget.laneIdx && (this.vfxManager.triggerScaredFx(this.playerTarget.x, this.playerTarget.y - 80), this.playerTarget.scarePlayer(), this.playerTarget.superchargeDeplete(!0)) } } }]), t }(Phaser.Sprite);
        i.default = u }, { "../utils": 23 }],
    10: [function(e, t, i) {
        "use strict";

        function a(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }

        function o(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }

        function n(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) } Object.defineProperty(i, "__esModule", { value: !0 });
        var s = function() {
                function e(e, t) { for (var i = 0; i < t.length; i++) { var a = t[i];
                        a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } } return function(t, i, a) { return i && e(t.prototype, i), a && e(t, a), t } }(),
            r = e("../utils"),
            h = function(e) { return e && e.__esModule ? e : { default: e } }(r),
            l = function(e) {
                function t(e, i, n, s, r) { a(this, t); var h = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, i, n, s, r)); return e.add.existing(h), h.game.physics.arcade.enable(h), h.anchor.set(.5), h.visible = !1, h.laneIdx = 1, h.game.add.tween(h).to({ angle: 360 }, 1e3, "Linear", !0, 0, -1), h } return n(t, e), s(t, [{ key: "update", value: function() { this.x > this.game.world.width - 180 && this.kill() } }]), t }(Phaser.Sprite),
            u = function(e) {
                function t(e, i, n) { a(this, t); var s = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, i, n, "fx", "fx_lightBeam.png"));
                    e.add.existing(s), s.game.physics.arcade.enable(s), s.anchor.x = 0, s.anchor.y = .5, s.visible = !1, s.laneIdx = 1, s.moonBeamSfxList = []; for (var r = 0; r < 3; r++) { var h = s.game.add.audio("SFX_MirrorBeam" + (r + 1));
                        s.moonBeamSfxList.push(h) } return s } return n(t, e), s(t, [{ key: "activate", value: function() { this.alpha = 1, this.scale.x = 0, this.scale.y = 0, this.visible = !0, this.moonBeamSfxList[this.game.rnd.integerInRange(0, 2)].play(); var e = this.game.add.tween(this.scale).to({ x: 1, y: 1 }, 100, "Linear", !0),
                            t = this.game.add.tween(this.scale).to({ y: 0 }, 100, "Linear", !1, 200);
                        e.chain(t) } }]), t }(Phaser.Sprite),
            c = function(e) {
                function t(e, i, n, s) {
                    a(this, t);
                    var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, i, n, s));
                    e.add.existing(r), r.game.physics.arcade.enable(r), r.anchor.set(.5, .75), r.bIsStunned = !1, r.stunDuration = 1500, r.bIsShootingBeam = !1, r.steak = new l(r.game, 0, 0, "gobj", "gobj_steak.png"), r.moonBeam = new u(r.game, 120, -70), r.addChild(r.moonBeam),
                        r.beamStart = new Phaser.Sprite(r.game, 120, -70, "fx", "fx_lightStart_0.png"), r.game.add.existing(r.beamStart), r.beamStart.anchor.set(.5), r.beamStart.scale.set(1.5), r.addChild(r.beamStart), r.beamStart.visible = !1, r.beamStart.animations.add("beamStart", h.default.createFrames(0, 1, "fx_lightStart"), 12, !0), r.moonBeamCooldown = 4e3, r.steakCooldown = 4e3, r.bIsMoonBeamReady = !1, r.bIsSteakReady = !1, r.bIsSuperCharged = !1, r.bIsSuperChargeDepleting = !1, r.superChargeFill = 0, r.superChargeTarget = 10, r.superchargeDuration = 5e3, r.animations.add("idle", h.default.createFrames(0, 7, "char_tomIdle"), 12, !0), r.animations.add("garlicThrow", h.default.createFrames(0, 5, "char_tomThrowGarlic"), 12, !1), r.animations.add("steakThrow", h.default.createFrames(0, 5, "char_tomThrowSteak"), 12, !1), r.animations.add("shootBeam", h.default.createFrames(0, 6, "char_tomMirror"), 12, !1), r.animations.add("stunned", h.default.createFrames(0, 5, "char_tomStun"), 12, !0), r.animations.add("scared", h.default.createFrames(0, 7, "char_tomScared"), 12, !1), r.animations.add("freakOut", h.default.createFrames(0, 1, "char_tomFreakOut"), 12, !0), r.animations.play("idle"), r.body.setSize(.5 * r.width, .65 * r.height, .25 * r.width, .325 * r.height), r.hud = void 0, r.laneIdx = 1, r.throwSfxList = [];
                    for (var c = 0; c < 3; c++) { var d = r.game.add.audio("SFX_Throw" + (c + 1));
                        r.throwSfxList.push(d) }
                    return r.sfxSkill = r.game.add.audio("SFX_SkillActive"), r.sfxStun = r.game.add.audio("SFX_TomStunPan"), r.sfxScared = r.game.add.audio("SFX_TomStunScared"), r
                }
                return n(t, e), s(t, [{ key: "setGameplayReference", value: function(e) { this.gameplay = e } }, { key: "setHUDReference", value: function(e) { this.hud = e } }, { key: "playFreakOutAnimation", value: function() { this.animations.play("freakOut"), this.game.time.events.add(500, function() { this.animations.play("idle") }, this) } }, { key: "playThrowGarlicAnimation", value: function() { this.animations.play("garlicThrow"), this.animations.getAnimation("garlicThrow").onComplete.addOnce(function() { this.animations.play("idle") }, this) } }, { key: "playThrowSteakAnimation", value: function() { this.animations.play("steakThrow"), this.animations.getAnimation("steakThrow").onComplete.addOnce(function() { this.animations.play("idle") }, this) } }, { key: "playShootBeamAnimation", value: function() { this.animations.play("shootBeam"), this.animations.getAnimation("shootBeam").onComplete.addOnce(function() { this.animations.play("idle") }, this) } }, { key: "scarePlayer", value: function() { this.bIsStunned = !0, this.sfxScared.play(), this.animations.play("scared"), this.game.time.events.add(800, function() { this.bIsStunned = !1, this.animations.play("idle") }, this), this.gameplay.scoreMultiplier = 1, this.gameplay.comboCount = 0, this.gameplay.hud.updateCombo(this.gameplay.comboCount) } }, { key: "stunPlayer", value: function() { this.bIsStunned = !0, this.animations.play("stunned"), this.sfxStun.play(), this.game.time.events.add(this.stunDuration, function() { this.bIsStunned = !1, this.animations.play("idle") }, this) } }, { key: "fillSupercharge", value: function() { this.bIsSuperCharged || (this.superChargeFill += .75, this.superChargeFill >= this.superChargeTarget && (this.superChargeFill = this.superChargeTarget, this.bIsSuperCharged || (this.triggerSupercharge(), this.superchargeDeplete()))) } }, { key: "triggerSupercharge", value: function() { console.log("SUPERCHARGED"), this.bIsSuperCharged = !0, this.sfxSkill.play(), this.hud.superChargeFill.gaugeSprite.frameName = "ui_spAtkFill1.png", this.game.add.tween(this.hud.superChargeFill.maskRect).to({ right: 0 }, 1e4, "Linear", !0), this.hud.pulseSpecialAttackButtons(), void 0 != this.hud && this.hud.toggleSupercharge(!0) } }, { key: "superchargeDeplete", value: function() { var e = arguments.length > 0 && void 0 !== arguments[0] && arguments[0];
                        this.bIsSuperChargeDepleting || (this.bIsSuperChargeDepleting = !0, e ? (this.superChargeFill = 0, this.hud.superChargeFill.setValue(0, !0), this.bIsSuperChargeDepleting = !1) : this.superchargeDepleteEvent = this.game.time.events.loop(500, function() { this.superChargeFill -= .5, this.superChargeFill <= 0 && (console.log("Supercharge is empty"), this.bIsSuperChargeDepleting = !1, this.bIsSuperCharged && (this.hud.superChargeFill.gaugeSprite.frameName = "ui_spAtkFill0.png", this.bIsSuperCharged = !1), this.superChargeFill = 0, void 0 != this.hud && this.hud.toggleSupercharge(!1), this.game.time.events.remove(this.superchargeDepleteEvent)) }, this)) } }, { key: "throwSteak", value: function() { if (this.bIsSteakReady) { this.bIsSteakReady = !1; var e = this.bIsSuperCharged ? 1200 : this.steakCooldown;
                            this.game.time.events.add(e, function() { console.log("Steak is ready"), this.bIsSteakReady = !0 }, this), this.throwSfxList[this.game.rnd.integerInRange(0, 2)].play(), this.playThrowSteakAnimation(), this.game.time.events.add(250, function() { this.steak.reset(this.x + 120, this.y), this.steak.body.velocity.x = this.game.time.desiredFps / this.game.time.fpsMax * 1600 }, this) } } }, { key: "shootMoonBeam", value: function() { if (this.bIsMoonBeamReady) { this.bIsMoonBeamReady = !1; var e = this.bIsSuperCharged ? 1200 : this.moonBeamCooldown;
                            this.game.time.events.add(e, function() { console.log("Moon beam is ready"), this.bIsMoonBeamReady = !0 }, this), this.bIsShootingBeam = !0, this.game.time.events.add(250, function() { this.beamStart.visible = !0, this.beamStart.animations.play("beamStart"), this.moonBeam.activate() }, this), this.game.time.events.add(550, function() { this.beamStart.visible = !1 }, this), this.playShootBeamAnimation(), this.game.time.events.add(1e3, function() { this.bIsShootingBeam = !1 }, this) } } }, { key: "specialAttack", value: function() { this.shootMoonBeam() } }]), t
            }(Phaser.Sprite);
        i.default = c
    }, { "../utils": 23 }],
    11: [function(e, t, i) { "use strict";

        function a(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }

        function o(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }

        function n(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) } Object.defineProperty(i, "__esModule", { value: !0 }); var s = function() {
                function e(e, t) { for (var i = 0; i < t.length; i++) { var a = t[i];
                        a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } } return function(t, i, a) { return i && e(t.prototype, i), a && e(t, a), t } }(),
            r = function(e) {
                function t(e) { a(this, t); var i = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));
                    e.add.existing(i); var n = new Phaser.Graphics(0, 0); return n.beginFill(0), n.drawRect(0, 0, i.game.world.width, i.game.world.height), n.endFill(), i.fadeBG = i.create(0, 0, n.generateTexture()), i.fadeBG.alpha = .75, i.witches = i.create(1.75 * i.game.world.width, i.game.world.centerY, "preGameWitches"), i.witches.anchor.set(1, .5), i.tom = i.create(450, 450, "preGameTom"), i.tom.anchor.set(.5), i.textA = i.create(600, 180, "preGameText0"), i.textA.anchor.set(.5), i.textA.scale.set(0), i.textB = i.create(850, 480, "preGameText1"), i.textB.anchor.set(.5), i.textB.scale.set(0), i.finishCallback = void 0, i.finishContext = void 0, i } return n(t, e), s(t, [{ key: "setFinishCallback", value: function(e, t) { this.finishCallback = e, this.finishContext = t } }, { key: "startSequence", value: function() { var e = this.game.add.tween(this.witches).to({ x: this.game.world.width }, 500, "Linear"),
                            t = this.game.add.tween(this.textA.scale).to({ x: 1, y: 1 }, 500, Phaser.Easing.Elastic.Out),
                            i = this.game.add.tween(this.textB.scale).to({ x: 1, y: 1 }, 500, Phaser.Easing.Elastic.Out),
                            a = this.game.add.tween(this.textA.scale).to({ x: 0, y: 0 }, 500, Phaser.Easing.Exponential.In),
                            o = this.game.add.tween(this.textB.scale).to({ x: 0, y: 0 }, 500, Phaser.Easing.Exponential.In),
                            n = this.game.add.tween(this.witches).to({ x: 1.75 * this.game.world.width }, 500, "Linear"),
                            s = this.game.add.tween(this.tom).to({ x: -1.5 * this.game.world.width }, 500, "Linear"),
                            r = this.game.add.tween(this.fadeBG).to({ alpha: 0 }, 500, "Linear");
                        e.delay(1e3), t.delay(500), i.delay(500), a.delay(1500), o.delay(750), s.delay(500), e.chain(t), t.chain(i), i.chain(a, o), o.chain(n), n.chain(s), s.chain(r), void 0 != this.finishCallback && void 0 != this.finishContext && r.onComplete.add(this.finishCallback, this.finishContext), e.start() } }]), t }(Phaser.Group);
        i.default = r }, {}],
    12: [function(e, t, i) { "use strict";

        function a(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }

        function o(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }

        function n(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) } Object.defineProperty(i, "__esModule", { value: !0 }); var s = function() {
                function e(e, t) { for (var i = 0; i < t.length; i++) { var a = t[i];
                        a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } } return function(t, i, a) { return i && e(t.prototype, i), a && e(t, a), t } }(),
            r = function(e) {
                function t(e, i) { var n = !(arguments.length > 2 && void 0 !== arguments[2]) || arguments[2];
                    a(this, t); var s = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e)); return e.add.existing(s), s.bIsHorizontal = n, s.frameName = i, s.gaugeSprite = s.create(0, 0, "ui", i), s.origin = 0, s.maskRect = s.game.add.graphics(0, 0), s.maskRect.beginFill(16738740), s.maskRect.drawRect(0, 0, s.gaugeSprite.width, s.gaugeSprite.height), s.maskRect.endFill(), s.add(s.maskRect), s.gaugeSprite.mask = s.maskRect, s.value = 0, s.maskRect.right = 0, s.bIsTweening = !1, s } return n(t, e), s(t, [{ key: "setOrigin", value: function(e) { this.origin = e } }, { key: "setValue", value: function(e, t) { if (e > 1 && (e = 1), e < 0 ? (e = 0, this.gaugeSprite.visible = !1) : this.gaugeSprite.visible = !0, !this.bIsTweening) { this.bIsTweening = !0; var i = void 0; if (e > this.value && t ? (this.gaugeSprite.tint = 5635925, this.game.time.events.add(200, function() { this.gaugeSprite.tint = 16777215 }, this)) : e < this.value && t && (this.gaugeSprite.tint = 16733525, this.game.time.events.add(200, function() { this.gaugeSprite.tint = 16777215 }, this)), this.bIsHorizontal)
                                if (0 == this.origin) { var a = this.gaugeSprite.width * e;
                                    i = this.game.add.tween(this.maskRect).to({ right: a }, 200, "Linear", !0) } else { var o = this.gaugeSprite.width - this.gaugeSprite.width * e;
                                    i = this.game.add.tween(this.maskRect).to({ left: o }, 250, "Linear", !0) } else 0 == this.origin ? this.maskRect.height = this.gaugeSprite.height * e : this.maskRect.top = this.gaugeSprite.height - this.gaugeSprite.height * e;
                            i.onComplete.add(function() { this.bIsTweening = !1 }, this), this.value = e } } }]), t }(Phaser.Group);
        i.default = r }, {}],
    13: [function(e, t, i) { "use strict";

        function a(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }

        function o(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }

        function n(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) } Object.defineProperty(i, "__esModule", { value: !0 }); var s = function() {
                function e(e, t) { for (var i = 0; i < t.length; i++) { var a = t[i];
                        a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } } return function(t, i, a) { return i && e(t.prototype, i), a && e(t, a), t } }(),
            r = e("../utils"),
            h = function(e) { return e && e.__esModule ? e : { default: e } }(r),
            l = function(e) {
                function t(e, i, n, s) { a(this, t); var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, i, n, s)); return e.add.existing(r), r.anchor.set(.5), r.yPositions = [335, 490, 650], r.maxHP = 3, r.health = r.maxHP, r.game.physics.arcade.enable(r), r.anchor.set(.5), r.kill(), r.bIsActive = !1, r.laneIdx = 0, r.bPushable = !0, r.bPushableToStart = !0, r.animations.add("idle", h.default.createFrames(0, 3, "anim_vampBatIdle"), 12, !0), r.animations.add("steal", h.default.createFrames(0, 9, "anim_vampBatSteal"), 12, !1), r.sfxAvoid = r.game.add.audio("SFX_VampireMouseAvoid"), r.sfxDeath = r.game.add.audio("SFX_VampireMouseDeath"), r.sfxSpawn = r.game.add.audio("SFX_VampireMouseSpawn"), r } return n(t, e), s(t, [{ key: "activate", value: function(e, t, i) { var a = t;
                        this.reset(e, -100, this.maxHP), this.animations.play("idle"), this.sfxSpawn.play(), this.game.add.tween(this).to({ y: a }, 3e3 + 500 * i, Phaser.Easing.Exponential.InOut, !0).onComplete.add(function() { this.bIsActive = !0, this.body.velocity.x = this.game.time.desiredFps / this.game.time.fpsMax * -120 }, this), this.laneIdx = i } }, { key: "pushBack", value: function() { if (this.bPushable) { console.log("push back bat"), this.bPushable = !1, this.body.velocity.x = 0; var e = this.x + 200 > this.game.world.width - 250 ? this.game.world.width - 250 : this.x + 200;
                            this.game.add.tween(this).to({ x: e }, 500, "Linear", !0).onComplete.add(function() { this.bPushable = !0, this.body.velocity.x = this.game.time.desiredFps / this.game.time.fpsMax * -120 }, this) } } }, { key: "pushToStart", value: function() { if (this.bPushableToStart && this.bIsActive) { console.log("push back bat"), this.bPushableToStart = !1, this.body.velocity.x = 0;
                            this.game.add.tween(this).to({ x: this.game.world.width - 280 }, 500, "Linear", !0).onComplete.add(function() { this.bPushableToStart = !0, this.body.velocity.x = this.game.time.desiredFps / this.game.time.fpsMax * -120; for (var e = [], t = [], i = 0; i < this.yPositions.length; i++) this.yPositions[i] != this.y && (t.push(i), e.push(this.yPositions[i])); var a = this.game.rnd.integerInRange(0, 1);
                                this.laneIdx = t[a], this.y = e[a] }, this) } } }, { key: "takeHit", value: function() { if (console.log("Hit vampire mouse"), this.health <= 1) { this.body.velocity.x = 0; var e = this.game.add.tween(this).to({ y: -120 }, 250, Phaser.Easing.Exponential.In, !0); return this.sfxDeath.play(), void e.onComplete.add(function() { this.bIsActive = !1, this.damage(1) }, this) } this.sfxAvoid.play(), this.damage(1); for (var t = [], i = [], a = 0; a < this.yPositions.length; a++) this.yPositions[a] != this.y && (i.push(a), t.push(this.yPositions[a])); var o = this.game.rnd.integerInRange(0, 1);
                        this.visible = !1, this.game.time.events.add(250, function() { this.laneIdx = i[o], this.y = t[o], this.visible = !0 }, this) } }, { key: "deactivate", value: function() {} }]), t }(Phaser.Sprite);
        i.default = l }, { "../utils": 23 }],
    14: [function(e, t, i) { "use strict";

        function a(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }

        function o(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }

        function n(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) } Object.defineProperty(i, "__esModule", { value: !0 }); var s = function() {
                function e(e, t) { for (var i = 0; i < t.length; i++) { var a = t[i];
                        a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } } return function(t, i, a) { return i && e(t.prototype, i), a && e(t, a), t } }(),
            r = e("../utils"),
            h = function(e) { return e && e.__esModule ? e : { default: e } }(r),
            l = function(e) {
                function t(e, i, n, s) { a(this, t); var r = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e, 0, 0, "fx")); return r.animName = i, r.animations.add(i, h.default.createFrames(0, s, n), 12, !1), r.anchor.set(.5), r.visible = !1, r } return n(t, e), s(t, [{ key: "trigger", value: function(e, t) { this.x = e, this.y = t, this.visible = !0, this.animations.play(this.animName), this.animations.getAnimation(this.animName).onComplete.addOnce(function() { this.visible = !1 }, this) } }]), t }(Phaser.Sprite),
            u = function(e) {
                function t(e) { a(this, t); var i = o(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this, e));
                    i.game.add.existing(i), i.dustPoofPool = []; for (var n = 0; n < 10; n++) { var s = new l(i.game, "poof", "fx_poof", 3);
                        i.add(s), i.dustPoofPool.push(s) } i.lightHitPool = []; for (var n = 0; n < 10; n++) { var r = new l(i.game, "lightHit", "fx_lightHit", 4);
                        i.add(r), i.lightHitPool.push(r) } return i.vampMousePoof = new l(i.game, "batPoof", "fx_batPoof", 3), i.add(i.vampMousePoof), i.jerryDash = new l(i.game, "jerryDash", "fx_jerryDash", 4), i.jerryDash.scale.x = -1, i.add(i.jerryDash), i.jerryHit = new l(i.game, "jerryHit", "fx_jerryHit", 1), i.add(i.jerryHit), i.scaredFX = new l(i.game, "scaredEffect", "fx_scared", 2), i.add(i.scaredFX), i.stunFX = new l(i.game, "stunEffect", "fx_stun", 7), i.add(i.stunFX), i.tomHitFX = new l(i.game, "tomHitEffect", "fx_tomHit", 1), i.add(i.tomHitFX), i } return n(t, e), s(t, [{ key: "triggerTomHitFx", value: function(e, t) { this.tomHitFX.visible || this.tomHitFX.trigger(e, t) } }, { key: "triggerStunFx", value: function(e, t) { this.stunFX.visible || this.stunFX.trigger(e, t) } }, { key: "triggerScaredFx", value: function(e, t) { this.scaredFX.visible || this.scaredFX.trigger(e, t) } }, { key: "triggerJerryHit", value: function(e, t) { this.jerryHit.visible || this.jerryHit.trigger(e, t) } }, { key: "triggerJerryDash", value: function(e, t) { this.jerryDash.visible || this.jerryDash.trigger(e, t) } }, { key: "triggerPoof", value: function(e, t) { for (var i = null, a = 0; a < this.dustPoofPool.length; a++)
                            if (!this.dustPoofPool[a].visible) { i = this.dustPoofPool[a]; break } null != i && i.trigger(e, t) } }, { key: "triggerLightHit", value: function(e, t) { for (var i = null, a = 0; a < this.lightHitPool.length; a++)
                            if (!this.lightHitPool[a].visible) { i = this.lightHitPool[a]; break } null != i && i.trigger(e, t) } }, { key: "triggerVampMousePoof", value: function(e, t) { this.vampMousePoof.visible || this.vampMousePoof.trigger(e, t) } }]), t }(Phaser.Group);
        i.default = u }, { "../utils": 23 }],
    15: [function(e, t, i) { "use strict"; var a = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(e) { return typeof e } : function(e) { return e && "function" == typeof Symbol && e.constructor === Symbol && e !== Symbol.prototype ? "symbol" : typeof e };! function t(i, a, o) {
            function n(r, h) { if (!a[r]) { if (!i[r]) { var l = "function" == typeof e && e; if (!h && l) return l(r, !0); if (s) return s(r, !0); var u = new Error("Cannot find module '" + r + "'"); throw u.code = "MODULE_NOT_FOUND", u } var c = a[r] = { exports: {} };
                    i[r][0].call(c.exports, function(e) { var t = i[r][1][e]; return n(t || e) }, c, c.exports, t, i, a, o) } return a[r].exports } for (var s = "function" == typeof e && e, r = 0; r < o.length; r++) n(o[r]); return n }({ 1: [function(e, t, i) {! function() {
                    function e(e, t, a, o) { this._texture = new Phaser.RenderTexture(e, e.width, e.height), o || (this._graphicFill = new Phaser.Graphics(e, 0, 0), this._graphicFill.beginFill(e.stage.backgroundColor), this._graphicFill.drawRect(0, 0, e.width, e.height), this._graphicFill.endFill(), e.stage.addChildAt(this._graphicFill, 0), this._texture.renderXY(this._graphicFill, 0, 0), e.stage.removeChild(this._graphicFill)), Phaser.VERSION > i ? this._texture.renderXY(e.world, -1 * e.camera.position.x, -1 * e.camera.position.y) : this._texture.renderXY(e.world, e.width / 2 - e.camera.position.x, e.height / 2 - e.camera.position.y), Phaser.Image.call(this, e, t || 0, a || 0, this._texture), this.inputEnabled = !0 } var i = "2.4.8";
                    e.prototype = Object.create(Phaser.Image.prototype), e.constructor = e, t.exports = e }() }, {}], 2: [function(e, t, i) {! function() {
                    function i(e, t) { this.game = e, this._contentSnapshot = new o(e, 0, 0, t), this._transition = new a(e) } var a = e("../transition/Transition"),
                        o = e("./ContentSnapshot");
                    i.prototype.go = function(e) { this.game.stage.addChildAt(this._contentSnapshot, this.game.stage.children.length), this._transition.start(this._contentSnapshot, e) }, t.exports = i }() }, { "../transition/Transition": 7, "./ContentSnapshot": 1 }], 3: [function(e, t, i) {! function() {
                    function i(e) { for (var t = 0, i = e.length; t < i; t += 1) e[t] && e[t] instanceof s && e[t].destroy() }

                    function a(e, t, a) { var s, r, h = this,
                            l = h.states[e],
                            u = [].slice.call(arguments),
                            c = l.create;
                        h.game.stage && i(h.game.stage.children), h.game.isBooted && t && (s = new n(this.game, t.noStage), function(e, t, a) { e.create = function() { c.call(this), a && (r = new n(h.game, a.noStage), h._created = !1, r.go(a), r._transition.onComplete = function() { h._created = !0, i(h.game.stage.children) }), s.go(t), e.create = c } }(l, t, a)), o.apply(this, [e].concat(u.slice(3))) } var o = Phaser.StateManager.prototype.start,
                        n = e("./Slide"),
                        s = e("./ContentSnapshot");
                    t.exports = a }() }, { "./ContentSnapshot": 1, "./Slide": 2 }], 4: [function(e, t, i) {! function() {
                    function i(e, t) { Phaser.Plugin.call(this, e, t) } var a = e("../transition/DefaultTransition");
                    i.prototype = Object.create(Phaser.Plugin.prototype), i.constructor = i, i.createTransition = function(e) { return a(e) }, i.In = { SlideLeft: a({ intro: !0, props: { x: function(e) { return e.width } } }), SlideRight: a({ intro: !0, props: { x: function(e) { return -e.width } } }), SlideTop: a({ intro: !0, props: { y: function(e) { return e.height } } }), SlideBottom: a({ intro: !0, props: { y: function(e) { return -e.height } } }), ScaleUp: a({ intro: !0, props: { alpha: .4, scale: new Phaser.Point({ x: 2 }) } }) }, i.Out = { SlideLeft: a({ props: { x: function(e) { return -e.width } } }), SlideRight: a({ props: { x: function(e) { return e.width } } }), SlideTop: a({ props: { y: function(e) { return -e.height } } }), SlideBottom: a({ props: function(e) { return { y: e.height } } }), ScaleUp: a({ props: { x: function(e) { return e.width / 2 }, scale: { x: 0 } } }) }, t.exports = i }() }, { "../transition/DefaultTransition": 6 }], 5: [function(e, t, i) {! function() { var i = (e("./core/Slide"), e("./core/StateManagerStart"));
                    e("./transition/DefaultTransition");
                    Phaser.Plugin.StateTransition = e("./core/StateTransition"), Phaser.StateManager.prototype.start = i, t.exports = window.StateTransition = Phaser.Plugin.StateTransition }() }, { "./core/Slide": 2, "./core/StateManagerStart": 3, "./core/StateTransition": 4, "./transition/DefaultTransition": 6 }], 6: [function(e, t, i) {! function() { t.exports = function(e) { return { ease: e.ease || Phaser.Easing.Exponential.InOut, duration: e.duration || 500, intro: e.intro || !1, props: e.props || {} } } }() }, {}], 7: [function(e, t, i) {! function() {
                    function e(e) { this.game = e, this.onComplete = null, this._tweens = [] } window.requestAnimationFrame;
                    e.prototype.start = function(e, t) { var i, o, n, s = t.props,
                            r = !!t.intro,
                            h = { _: {} };
                        this.currentTarget = e, "function" == typeof s && (s = s(this.game)), r && this._prepareTargetForTweening(s); for (i in s) s.hasOwnProperty(i) && ("function" == typeof s[i] && (s[i] = s[i](this.game)), "object" === a(e[i]) ? h[i] = s[i] : h._[i] = s[i]); for (i in h) h.hasOwnProperty(i) && (o = "_" === i ? e : e[i], this._tweens.push(this.game.add.tween(o)[r ? "from" : "to"](h[i], t.duration, t.ease, !0, t.delay)), n = this._tweens[this._tweens.length - 1], n.onComplete.addOnce(this._checkForComplete, this)) }, e.prototype._checkForComplete = function(e, t) { for (var i, a = 0, o = this._tweens.length, n = 0; a < o; a++) i = this._tweens[a], !1 === i.isRunning && (n++, this.game.tweens.remove(t));
                        n === o && (this.onComplete && this.onComplete(), this.currentTarget.destroy()) }, e.prototype._prepareTargetForTweening = function(e) { e.hasOwnProperty("alpha") && (this.currentTarget.alpha = 0) }, e.prototype.destroy = function(e) { e.destroy() }, e.prototype.stop = function() { this._active = !1, this.update() }, t.exports = e }() }, {}] }, {}, [5]) }, {}],
    16: [function(e, t, i) { "use strict";

        function a(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }

        function o(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }

        function n(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) } Object.defineProperty(i, "__esModule", { value: !0 }); var s = function() {
                function e(e, t) { for (var i = 0; i < t.length; i++) { var a = t[i];
                        a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } } return function(t, i, a) { return i && e(t.prototype, i), a && e(t, a), t } }(),
            r = function(e) {
                function t() { return a(this, t), o(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments)) } return n(t, e), s(t, [{ key: "preload", value: function() { this.game.scale.scaleMode = Phaser.ScaleManager.SHOW_ALL, this.game.scale.pageAlignHorizontally = !0, this.game.scale.pageAlignVertically = !0, this.game.load.image("icon_loading", "res/img/icon_loading.png"), this.game.load.image("bar_loading_bg", "res/img/bar_loading_bg.png"), this.game.load.image("bar_loading_fg", "res/img/bar_loading_fg.png") } }, { key: "create", value: function() { this.game.device.safari && (Phaser.Canvas.setSmoothingEnabled(this.game.canvas, !1), this.game.antialiasing = !1, this.game.scale.refresh()), this.game.stage.backgroundColor = "#ffffff", this.game.state.start("preload") } }]), t }(Phaser.State);
        i.default = r }, {}],
    17: [function(e, t, i) {
        "use strict";

        function a(e) { return e && e.__esModule ? e : { default: e } }

        function o(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }

        function n(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }

        function s(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) } Object.defineProperty(i, "__esModule", { value: !0 });
        var r = function() {
                function e(e, t) { for (var i = 0; i < t.length; i++) { var a = t[i];
                        a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } } return function(t, i, a) { return i && e(t.prototype, i), a && e(t, a), t } }(),
            h = e("../objects/player"),
            l = a(h),
            u = e("../objects/enemyPool"),
            c = a(u),
            d = e("../objects/healthObjects"),
            p = a(d),
            m = e("../objects/jerryMouse"),
            g = a(m),
            f = e("../objects/hud"),
            y = a(f),
            b = e("../objects/preGame"),
            v = a(b),
            w = e("../objects/vfxManager"),
            S = a(w),
            _ = e("../gc"),
            x = a(_),
            P = { TOP: 0, MID: 1, BOT: 2 },
            k = function(e) {
                function t() { return o(this, t), n(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments)) }
                return s(t, e), r(t, [{ key: "create", value: function() { this.game.add.sprite(0, 0, "bg_gameplay"), this.game.physics.startSystem(Phaser.Physics.ARCADE), this.game.time.desiredFps = 60, this.yPositions = [335, 490, 650], this.xPositions = [420, 390, 365], this.healthPool = new p.default(this.game), this.enemyPool = new c.default(this.game), this.player = new l.default(this.game, this.xPositions[1], this.yPositions[1], "tom"), this.swipe = new Swipe(this.game), this.currentLane = P.MID, this.bIsGameActive = !0, this.bullets = this.game.add.group(), this.bullets.enableBody = !0, this.bullets.physicsBodyType = Phaser.Physics.ARCADE, this.bullets.createMultiple(10, "gobj", "gobj_garlic.png"), this.bullets.setAll("anchor.x", .5), this.bullets.setAll("anchor.y", .5), this.bullets.setAll("outOfBoundsKill", !0), this.bullets.setAll("checkWorldBounds", !0); for (var e = 0; e < this.bullets.length; e++) this.game.add.tween(this.bullets.getChildAt(e)).to({ angle: 360 }, 1e3, "Linear", !0, 0, -1);
                        this.enemyTime = 1e3, this.jerryMouse = new g.default(this.game, 0, 0, "jerry", this.player), this.vfxManager = new S.default(this.game), this.jerryMouse.setVFXReference(this.vfxManager), this.input.onUp.add(this.fireBullet, this), this.hud = new y.default(this.game), this.hud.setPlayerRef(this.player, this), this.game.time.advancedTiming = !0, this.fpsText = this.game.add.text(0, 0, "FPS: " + this.game.time.fps), this.fpsText.addColor("#ffffff", 0), this.fpsText.visible = !1, this.player.setHUDReference(this.hud), this.player.setGameplayReference(this), this.game.time.events.add(7e3, function() { this.jerryMouse.activate() }, this), this.bDidSwipe = !1, this.input.priorityID = 1, this.waveCount = 0, this.waveDifficultyIdx = 0, this.waveDurations = [15e3, 17e3, 2e4, 17e3, 19e3, 23e3, 19e3, 21e3, 24e3, 21e3, 23e3, 27e3, 23e3, 25e3, 29e3, 25e3, 27e3, 3e4, 27e3, 29e3, 32e3], this.spawnIntervals = [1800, 1800, 1500, 1500, 1500, 1200, 1200, 1200, 1e3, 1e3, 1e3, 800, 800, 800, 500, 500, 500, 500, 500, 500, 500], this.batMoveSpeeds = [120, 120, 120, 140, 140, 160, 170, 170, 180, 180, 190, 190, 190, 180, 170, 200, 210, 220, 230, 210, 250], this.score = 0, this.scoreMultiplier = 1, this.comboCount = 0, this.preGame = new v.default(this.game), this.preGame.setFinishCallback(this.startWave, this), this.preGame.startSequence(), this.bDidGameStart = !1, this.bCanFire = !0, this.spaceKey = this.game.input.keyboard.addKey(Phaser.Keyboard.SPACEBAR), this.spaceKey.onUp.add(function() { this.bDidSwipe = !1, this.fireBullet() }, this), this.upKey = this.game.input.keyboard.addKey(Phaser.Keyboard.UP), this.downKey = this.game.input.keyboard.addKey(Phaser.Keyboard.DOWN), this.upKey.onUp.add(function() { this.bDidSwipe = !1, this.onSwipeUp() }, this), this.downKey.onUp.add(function() { this.bDidSwipe = !1, this.onSwipeDown() }, this), this.game.onFocus.add(function() { console.log("Resume"), this.game.paused = !1 }, this), this.game.onBlur.add(function() { console.log("Pause"), this.game.paused = !0 }, this), this.bgm = this.game.add.audio("BGM_InGame"), this.bgm.loopFull(), this.sfxSwitchLane = this.game.add.audio("SFX_SwitchLane"), this.throwSfxList = []; for (var e = 0; e < 3; e++) { var t = this.game.add.audio("SFX_Throw" + (e + 1));
                            this.throwSfxList.push(t) } this.sfxGarlicHit = this.game.add.audio("SFX_GarlicHit"), this.batPoofSfxList = []; for (var e = 0; e < 4; e++) { var i = this.game.add.audio("SFX_BatPoof" + (e + 1));
                            this.batPoofSfxList.push(i) } this.sfxGameOver = this.game.add.audio("SFX_GameOver"), this.sfxBatLatch = this.game.add.audio("SFX_BatLatch"), this.sfxBatSteal = this.game.add.audio("SFX_BatSteal"), this.sfxComboEnd = this.game.add.audio("SFX_ComboEnd"), this.sfxMoonPhase = this.game.add.audio("SFX_MoonPhase"), this.sfxVampSteal = this.game.add.audio("SFX_VampireMouseSteal") } }, { key: "startWave", value: function() { this.bDidGameStart || (this.bDidGameStart = !0, this.player.bIsMoonBeamReady = !0, this.player.bIsSteakReady = !0, this.hud.mirrorBtn.inputEnabled = !0, this.hud.steakBtn.inputEnabled = !0), this.waveCount > 0 && (this.hud.updateWaveCount(this.waveCount + 1), this.sfxMoonPhase.play()), this.spawnLoop = this.game.time.events.loop(this.spawnIntervals[this.waveDifficultyIdx], this.spawnEnemy, this), this.waveTimerEvent = this.game.time.events.add(this.waveDurations[this.waveDifficultyIdx], this.endWave, this), this.hud.startWaveCountdown(this.waveDurations[this.waveDifficultyIdx]), (this.waveCount + 1) % 3 == 0 && this.enemyPool.spawnVampireMouse() } }, { key: "endWave", value: function() { console.log("Wave ended"), this.game.time.events.remove(this.spawnLoop), this.game.time.events.remove(this.waveTimerEvent), this.game.time.events.add(5e3, this.startWave, this), this.waveCount++, ++this.waveDifficultyIdx > this.waveDurations.length - 1 && (this.waveDifficultyIdx = this.waveDurations.length - 1) } }, { key: "spawnEnemy", value: function() { this.bIsGameActive && this.enemyPool.spawnEnemy(this.batMoveSpeeds[this.waveDifficultyIdx]) } }, { key: "fireBullet", value: function() { if (this.hud.bPressedButton) return void(this.hud.bPressedButton = !1); if (this.player.visible && this.bDidGameStart && !this.player.bIsShootingBeam && !this.player.bIsStunned) { if (this.bDidSwipe) return void(this.bDidSwipe = !1); if (this.bCanFire) { this.bCanFire = !1, this.player.playThrowGarlicAnimation(), this.throwSfxList[this.game.rnd.integerInRange(0, 2)].play();
                                this.game.time.events.add(500, function() { this.bCanFire = !0 }, this), this.game.time.events.add(250, function() { var e = this.bullets.getFirstExists(!1);
                                    e.reset(this.player.x + 120, this.player.y); var t = this.game.time.desiredFps / this.game.time.fpsMax * 800;
                                    e.body.velocity.x = t }, this) } } } }, { key: "moonBeamDamage", value: function() { var e = this.player.laneIdx,
                            t = !1,
                            i = 0;
                        e == this.enemyPool.vampireMouse.laneIdx && this.enemyPool.vampireMouse.visible ? (this.enemyPool.vampireMouse.pushToStart(), this.vfxManager.triggerLightHit(this.enemyPool.vampireMouse.x, this.enemyPool.vampireMouse.y)) : (console.log("vamp mouse is in another lane index: " + this.enemyPool.vampireMouse.laneIdx), console.log("player is in lane idx: " + e)); for (var a = 0, o = 0; o < this.enemyPool.normalBatPool.length; o++) { var n = this.enemyPool.normalBatPool.getChildAt(o);
                            n.laneIdx == e && n.bIsActive && n.inCamera && (t = !0, n.damage(1), a++, this.vfxManager.triggerLightHit(n.x, n.y), i += 10) } if (t) { this.comboCount += a, this.hud.updateCombo(this.comboCount), this.batPoofSfxList[this.game.rnd.integerInRange(0, 3)].play(), this.player.fillSupercharge(), this.scoreMultiplier = Math.floor(this.comboCount / 5) + 1, this.scoreMultiplier < 1 && (this.scoreMultiplier = 1), this.scoreMultiplier > 10 && (this.scoreMultiplier = 10); var s = this.player.bIsSuperCharged ? 100 : 0;
                            i *= this.scoreMultiplier, this.score += i + s * a, this.hud.updateScore(this.score), this.hud.scorePopUp(this.player.x, this.player.y, i + s * a) } } }, {
                    key: "onSwipeUp",
                    value: function() {
                        this.player.bIsShootingBeam || this.player.bIsStunned || this.player.visible && this.bDidGameStart && (this.currentLane > P.TOP && (this.currentLane--, this.sfxSwitchLane.play()), this.player.laneIdx = this.currentLane, this.player.y = this.yPositions[this.currentLane], this.player.x = this.xPositions[this.currentLane])
                    }
                }, { key: "onSwipeDown", value: function() { this.player.bIsShootingBeam || this.player.bIsStunned || this.player.visible && this.bDidGameStart && (this.currentLane < P.BOT && (this.currentLane++, this.sfxSwitchLane.play()), this.player.laneIdx = this.currentLane, this.player.y = this.yPositions[this.currentLane], this.player.x = this.xPositions[this.currentLane]) } }, { key: "update", value: function() { this.fpsText.text = "FPS: " + this.game.time.fps; var e = this.swipe.check();
                        null == e || this.player.bIsStunned || (this.bDidSwipe = !0, e.direction == this.swipe.DIRECTION_UP ? this.onSwipeUp() : e.direction == this.swipe.DIRECTION_DOWN && this.onSwipeDown()), void 0 == this.hud || this.player.bIsSuperCharged || this.hud.updateSupercharge(this.player.superChargeFill / this.player.superChargeTarget, !this.player.bIsSuperCharged); for (var t = 0; t < this.bullets.length; t++) { var i = this.bullets.getChildAt(t);
                            i.x >= this.game.world.width - 180 && i.kill() } this.bIsGameActive && (this.checkVampireMouseSnatch(), this.checkNormalEnemySnatch(), this.game.physics.arcade.overlap(this.player, this.jerryMouse.fryingPan, this.onFryingPanHit, null, this), this.game.physics.arcade.overlap(this.player.steak, this.enemyPool.normalBatPool, this.steakPushBack, null, this), this.game.physics.arcade.overlap(this.player.steak, this.enemyPool.vampireMouse, this.steakPushBack, null, this), this.game.physics.arcade.overlap(this.jerryMouse, this.player.steak, this.onSteakHit, null, this), this.game.physics.arcade.overlap(this.bullets, this.enemyPool.normalBatPool, this.bulletEnemyCollision, null, this), this.game.physics.arcade.overlap(this.enemyPool.vampireMouse, this.bullets, this.bulletVampMouseCollision, null, this)) } }, { key: "steakPushBack", value: function(e, t) { t.pushBack() } }, { key: "onSteakHit", value: function(e, t) { if (e.bIsMadDashing || e.bIsStunned || e.bIsReturning) return !1;
                        this.comboCount++, this.hud.updateCombo(this.comboCount), this.player.fillSupercharge(), this.scoreMultiplier = Math.floor(this.comboCount / 5) + 1, this.scoreMultiplier < 1 && (this.scoreMultiplier = 1), this.scoreMultiplier > 10 && (this.scoreMultiplier = 10); var i = this.player.bIsSuperCharged ? 175 : 0,
                            a = 25 * this.scoreMultiplier + i;
                        this.score += a, this.hud.updateScore(this.score), this.hud.scorePopUp(this.jerryMouse.x, this.jerryMouse.y, a), this.sfxGarlicHit.play(), t.kill(), this.vfxManager.triggerJerryHit(this.jerryMouse.x, this.jerryMouse.y), this.jerryMouse.stun() } }, { key: "onFryingPanHit", value: function(e, t) { t.laneIdx == e.laneIdx && (t.kill(), this.player.stunPlayer(), this.vfxManager.triggerTomHitFx(this.player.x - 20, this.player.y - 85), this.vfxManager.triggerStunFx(this.player.x - 20, this.player.y - 85), this.player.superchargeDeplete(!this.player.bIsSuperCharged), this.comboCount >= 5 && this.sfxComboEnd.play(), this.comboCount = 0, this.hud.updateCombo(this.comboCount)) } }, { key: "checkVampireMouseSnatch", value: function() { if (this.enemyPool.vampireMouse.x < this.player.x && this.enemyPool.vampireMouse.bIsActive)
                            for (var e = 0; e < 3; e++) { this.enemyPool.vampireMouse.bIsActive = !1, this.enemyPool.vampireMouse.body.velocity.x = 0; var t = this.healthPool.healthObjArray[this.enemyPool.vampireMouse.laneIdx]; if (t.healthPoints <= 0)
                                    for (var e = 0; e < 3; e++) e != this.enemyPool.vampireMouse.laneIdx && this.healthPool.healthObjArray[e].healthPoints > 0 && (t = this.healthPool.healthObjArray[e]); var i = this.game.rnd.integerInRange(-t.xOffsetRange, t.xOffsetRange),
                                    a = this.game.rnd.integerInRange(t.yOffsetRange / 2, t.yOffsetRange),
                                    o = this.game.add.tween(this.enemyPool.vampireMouse).to({ x: t.x + i, y: t.y + a }, 500, "Linear", !0);
                                o.onComplete.add(function() { this.healthObj.healthPoints > 0 && (this.gameplay.player.superchargeDeplete(!this.gameplay.player.bIsSuperCharged), this.gameplay.comboCount >= 5 && this.gameplay.sfxComboEnd.play(), this.gameplay.comboCount = 0, this.gameplay.hud.updateCombo(this.gameplay.comboCount), this.healthObj.takeDamage(this.batObj, 3), this.gameplay.hud.updateHealthDisplay(this.healthObj), this.gameplay.sfxVampSteal.play(), this.batObj.animations.play("steal"), this.batObj.animations.getAnimation("steal").onComplete.addOnce(function() { this.batObj.animations.play("idle") }, this), this.healthObj.healthPoints <= 0 && this.gameplay.player.playFreakOutAnimation(), this.gameplay.healthPool.checkForGameOver() && this.gameplay.endGame()) }, { gameplay: this, batObj: this.enemyPool.vampireMouse, healthObj: t }) } } }, { key: "checkNormalEnemySnatch", value: function() { for (var e = 0; e < this.enemyPool.normalBatPool.length; e++) { var t = this.enemyPool.normalBatPool.getChildAt(e); if (t.x < this.player.x && t.bIsActive) { t.bIsActive = !1, t.body.velocity.x = 0; var i = this.healthPool.healthObjArray[t.laneIdx]; if (i.healthPoints <= 0)
                                    for (var e = 0; e < 3; e++) { if (e != t.laneIdx && this.healthPool.healthObjArray[e].healthPoints > 0) { i = this.healthPool.healthObjArray[e]; break } i = null }
                                if (null == i) continue; var a = this.game.rnd.integerInRange(-i.xOffsetRange, i.xOffsetRange),
                                    o = this.game.rnd.integerInRange(i.yOffsetRange / 2, i.yOffsetRange);
                                this.game.add.tween(t).to({ x: i.x + a, y: i.y + o }, 500, "Linear", !0).onComplete.add(function() { this.healthObj.healthPoints > 0 ? (this.batObj.scale.set(.75), this.gameplay.player.superchargeDeplete(!this.gameplay.player.bIsSuperCharged), this.gameplay.comboCount >= 5 && this.gameplay.sfxComboEnd.play(), this.gameplay.comboCount = 0, this.gameplay.hud.updateCombo(this.gameplay.comboCount), this.gameplay.sfxBatLatch.play(), this.healthObj.takeDamage(this.batObj), this.gameplay.hud.updateHealthDisplay(this.healthObj), this.healthObj.healthPoints <= 0 && (this.gameplay.sfxBatSteal.play(), this.gameplay.player.playFreakOutAnimation()), this.gameplay.healthPool.checkForGameOver() && this.gameplay.endGame()) : this.healthObj.latchedBats.push(this.batObj) }, { gameplay: this, batObj: t, healthObj: i }) } } } }, { key: "bulletEnemyCollision", value: function(e, t) { if (t.bIsActive) { this.batPoofSfxList[this.game.rnd.integerInRange(0, 3)].play(), this.comboCount++, this.hud.updateCombo(this.comboCount), this.player.fillSupercharge(), this.scoreMultiplier = Math.floor(this.comboCount / 5) + 1, this.scoreMultiplier < 1 && (this.scoreMultiplier = 1), this.scoreMultiplier > 10 && (this.scoreMultiplier = 10); var i = this.player.bIsSuperCharged ? 100 : 0,
                                a = 10 * this.scoreMultiplier + i;
                            this.score += a, this.hud.updateScore(this.score), this.hud.scorePopUp(t.x, t.y, a), t.body.velocity.x = 0, e.kill(), t.damage(1), this.vfxManager.triggerPoof(t.x, t.y), t.x = this.game.world.width - 250, t.y = -100 } } }, { key: "bulletVampMouseCollision", value: function(e, t) { if (e.bIsActive && (this.sfxGarlicHit.play(), this.comboCount++, this.hud.updateCombo(this.comboCount), this.player.fillSupercharge(), 1 == e.health && this.vfxManager.triggerVampMousePoof(e.x, e.y), t.kill(), e.bIsActive))
                            if (e.takeHit(), e.health <= 0) { this.scoreMultiplier = Math.floor(this.comboCount / 5) + 1, this.scoreMultiplier < 1 && (this.scoreMultiplier = 1), this.scoreMultiplier > 10 && (this.scoreMultiplier = 10); var i = this.player.bIsSuperCharged ? 250 : 0,
                                    a = 50 * this.scoreMultiplier + i;
                                this.score += a, this.hud.updateScore(this.score), this.hud.scorePopUp(e.x, e.y, a) } else this.vfxManager.triggerPoof(e.x, e.y), this.game.time.events.add(251, function() { this.vfxManager.triggerPoof(e.x, e.y) }, this) } }, { key: "endGame", value: function() { x.default.SCORE = this.score, this.bgm.stop(), this.sfxGameOver.play(); for (var e = 0; e < this.enemyPool.normalBatPool.length; e++) this.enemyPool.normalBatPool.getChildAt(e).body.velocity.x = 0;
                        this.bIsGameActive = !1, this.game.time.events.add(3e3, function() { var e = Phaser.Plugin.StateTransition.Out.SlideBottom;
                            e.duration = 1e3;
                            Phaser.Plugin.StateTransition.In.SlideBottom;
                            this.state.start("postgame", e) }, this) } }]), t
            }(Phaser.State);
        i.default = k
    }, { "../gc": 4, "../objects/enemyPool": 6, "../objects/healthObjects": 7, "../objects/hud": 8, "../objects/jerryMouse": 9, "../objects/player": 10, "../objects/preGame": 11, "../objects/vfxManager": 14 }],
    18: [function(e, t, i) { "use strict";

        function a(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }

        function o(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }

        function n(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) } Object.defineProperty(i, "__esModule", { value: !0 }); var s = function() {
                function e(e, t) { for (var i = 0; i < t.length; i++) { var a = t[i];
                        a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } } return function(t, i, a) { return i && e(t.prototype, i), a && e(t, a), t } }(),
            r = e("../S6Analytics"),
            h = e("../gc"),
            l = function(e) { return e && e.__esModule ? e : { default: e } }(h),
            u = function(e) {
                function t() { return a(this, t), o(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments)) } return n(t, e), s(t, [{ key: "create", value: function() { this.game.add.sprite(0, 0, "endScreen"), this.replayButton = this.game.add.button(this.game.world.centerX + 245, this.game.world.centerY + 200, "ui", this.restartGameplay, this, "ui_btnPlayAgain_U.png", "ui_btnPlayAgain_U.png", "ui_btnPlayAgain_D.png"), this.replayButton.anchor.set(.5, .5), this.newRecord = this.game.add.image(this.game.world.width - 170, this.game.world.centerY, "ui", "ui_newRecord.png"), this.newRecord.anchor.set(1, .5), this.newRecord.visible = !1, this.hiScore_text = this.game.add.bitmapText(this.game.world.centerX + 240, this.game.world.centerY - 10, "endScreenFont", "0", 66), this.hiScore_text.anchor.setTo(.5, .5), this.myScore_text = this.game.add.bitmapText(this.game.world.centerX + 240, this.game.world.centerY - 140, "endScreenFont", "0", 66), this.myScore_text.anchor.setTo(.5, .5), this.hiScore_text.setText(this.getHighScore()), this.myScore_text.setText(l.default.SCORE), this.clickSFX = this.game.add.audio("sfx_button"), mobile ? window.location = "cnwap://showad" : "function" == typeof showAd && showAd() } }, { key: "getHighScore", value: function() { var e = l.default.SCORE,
                            t = localStorage.getItem(l.default.UNIQUE_SCORE_KEY),
                            i = 0; if (e >= t || null == t) { i = e; try { localStorage.setItem(l.default.UNIQUE_SCORE_KEY, l.default.SCORE) } catch (e) { console.log("SAVING HIGH SCORE IS NOT SUPPORTED") } } else i = t; return (e > t || null == t) && (this.newRecord.visible = !0), null == i && (i = e), i } }, { key: "restartGameplay", value: function() { this.clickSFX.play(), r.s6Analytics.trackLink(l.default.ANALYTICS_PLAYAGAIN_BUTTON); var e = Phaser.Plugin.StateTransition.Out.SlideTop;
                        e.duration = 1e3;
                        Phaser.Plugin.StateTransition.In.SlideTop;
                        this.game.state.start("gameplay", e) } }]), t }(Phaser.State);
        i.default = u }, { "../S6Analytics": 1, "../gc": 4 }],
    19: [function(e, t, i) { "use strict";

        function a(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }

        function o(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }

        function n(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) } Object.defineProperty(i, "__esModule", { value: !0 }); var s = function() {
                function e(e, t) { for (var i = 0; i < t.length; i++) { var a = t[i];
                        a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } } return function(t, i, a) { return i && e(t.prototype, i), a && e(t, a), t } }(),
            r = function(e) {
                function t() { return a(this, t), o(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments)) } return n(t, e), s(t, [{ key: "create", value: function() { var e = this.game.canvas,
                            t = e.getContext("2d");
                        t.imageSmoothingEnabled = !1, t.webkitImageSmoothingEnabled = !1, t.mozImageSmoothingEnabled = !1, t.msImageSmoothingEnabled = !1, t.oImageSmoothingEnabled = !1, this.game.add.image(this.game.world.centerX, this.game.world.centerY, "icon_loading").anchor.set(.5, .5); var i = this.game.add.image(this.game.world.centerX, this.game.world.centerY + 180, "bar_loading_bg");
                        i.anchor.set(.5, .5); var a = i.addChild(this.game.make.image(-i.width / 2, 0, "bar_loading_fg"));
                        a.anchor.set(0, .5); var o = i.addChild(this.game.add.text(0, 4, "LOADING"));
                        o.anchor.set(.5, .5), o.addColor("#ffffff", 0), this.game.load.setPreloadSprite(a, 0), this.game.load.onLoadComplete.add(this.loadComplete, this), this.game.load.image("bg_title", "res/img/titleScreen_bg.png"), this.game.load.image("bg_gameplay", "res/img/gameScreen.png"), this.game.load.image("endScreen", "res/img/endScreen.png"), this.load.atlas("ui", "res/img/ui.png", "res/img/ui.json"), this.game.load.image("tutorialMobile1", "res/tutorial/howTo_0.png"), this.game.load.image("tutorialMobile2", "res/tutorial/howTo_1.png"), this.game.load.image("tutorialMobile3", "res/tutorial/howTo_2.png"), this.game.load.image("tutorialMobile4", "res/tutorial/howTo_3.png"), this.game.load.image("tutorialDesktop1", "res/tutorial/howTo_0_PC.png"), this.game.load.image("tutorialDesktop2", "res/tutorial/howTo_1_PC.png"), this.game.load.image("tutorialDesktop3", "res/tutorial/howTo_2_PC.png"), this.game.load.image("tutorialDesktop4", "res/tutorial/howTo_3_PC.png"), this.game.load.json("uiDataJSON", "res/data/uiData.json"), this.game.load.bitmapFont("scorePopUp", "res/bmFonts/@gameScreen_scorePopOut.png", "res/bmFonts/@gameScreen_scorePopOut.xml"), this.game.load.bitmapFont("comboCount", "res/bmFonts/@gameScreen_combo.png", "res/bmFonts/@gameScreen_combo.xml"), this.game.load.bitmapFont("scoreDisplay", "res/bmFonts/gamescreen_score.png", "res/bmFonts/gamescreen_score.xml"), this.game.load.bitmapFont("waveCount", "res/bmFonts/gamescreen_waveNo.png", "res/bmFonts/gamescreen_waveNo.xml"), this.game.load.bitmapFont("endScreenFont", "res/bmFonts/@endScreen_score.png", "res/bmFonts/@endScreen_score.xml"), this.game.load.bitmapFont("batCountFont", "res/bmFonts/@gameScreen_batCounter.png", "res/bmFonts/@gameScreen_batCounter.xml"), this.game.load.image("preGameText0", "res/preGame/preGame_text_0.png"), this.game.load.image("preGameText1", "res/preGame/preGame_text_1.png"), this.game.load.image("preGameTom", "res/preGame/preGame_tom.png"), this.game.load.image("preGameWitches", "res/preGame/preGame_witches.png"), this.game.load.atlas("fx", "res/img/fx.png", "res/img/fx.json"), this.game.load.atlas("gobj", "res/img/gobj.png", "res/img/gobj.json"), this.game.load.atlas("tom", "res/anim/tom/char_tom.png", "res/anim/tom/char_tom.json"), this.game.load.atlas("enemies", "res/anim/enemies/anim_bats.png", "res/anim/enemies/anim_bats.json"), this.game.load.atlas("jerry", "res/anim/enemies/anim_jerry.png", "res/anim/enemies/anim_jerry.json"), this.game.load.audio("sfx_button", "res/audio/SFX_MenuButton.mp3"), this.game.load.audio("BGM_InGame", "res/audio/BGM_InGame.mp3"), this.game.load.audio("SFX_SwitchLane", "res/audio/SFX_SwitchLane.mp3"), this.game.load.audio("SFX_Throw1", "res/audio/SFX_Throw1.mp3"), this.game.load.audio("SFX_Throw2", "res/audio/SFX_Throw2.mp3"), this.game.load.audio("SFX_Throw3", "res/audio/SFX_Throw3.mp3"), this.game.load.audio("SFX_GarlicHit", "res/audio/SFX_GarlicHit.mp3"), this.game.load.audio("SFX_BatPoof1", "res/audio/SFX_BatPoof1.mp3"), this.game.load.audio("SFX_BatPoof2", "res/audio/SFX_BatPoof2.mp3"), this.game.load.audio("SFX_BatPoof3", "res/audio/SFX_BatPoof3.mp3"), this.game.load.audio("SFX_BatPoof4", "res/audio/SFX_BatPoof4.mp3"), this.game.load.audio("SFX_BatSpawn1", "res/audio/SFX_BatSpawn1.mp3"), this.game.load.audio("SFX_BatSpawn2", "res/audio/SFX_BatSpawn2.mp3"), this.game.load.audio("SFX_GameOver", "res/audio/SFX_GameOver.mp3"), this.game.load.audio("SFX_BatLatch", "res/audio/SFX_BatLatch.mp3"), this.game.load.audio("SFX_BatSteal", "res/audio/SFX_BatSteal.mp3"), this.game.load.audio("SFX_Combo", "res/audio/SFX_Combo.mp3"), this.game.load.audio("SFX_ComboEnd", "res/audio/SFX_ComboEnd.mp3"), this.game.load.audio("SFX_JerryDash", "res/audio/SFX_JerryDash.mp3"), this.game.load.audio("SFX_JerrySpawn", "res/audio/SFX_JerrySpawn.mp3"), this.game.load.audio("SFX_JerryStun", "res/audio/SFX_JerryStun.mp3"), this.game.load.audio("SFX_MoonPhase", "res/audio/SFX_MoonPhase.mp3"), this.game.load.audio("SFX_MirrorBeam1", "res/audio/SFX_MirrorBeam1.mp3"), this.game.load.audio("SFX_MirrorBeam2", "res/audio/SFX_MirrorBeam2.mp3"), this.game.load.audio("SFX_MirrorBeam3", "res/audio/SFX_MirrorBeam3.mp3"), this.game.load.audio("SFX_SkillActive", "res/audio/SFX_ComboVer2.mp3"), this.game.load.audio("SFX_TomStunPan", "res/audio/SFX_TomStunPan.mp3"), this.game.load.audio("SFX_TomStunScared", "res/audio/SFX_TomStunScared.mp3"), this.game.load.audio("SFX_VampireMouseAvoid", "res/audio/SFX_VampireMouseAvoid.mp3"), this.game.load.audio("SFX_VampireMouseDeath", "res/audio/SFX_VampireMouseDeath.mp3"), this.game.load.audio("SFX_VampireMouseSpawn", "res/audio/SFX_VampireMouseSpawn.mp3"), this.game.load.audio("SFX_VampireMouseSteal", "res/audio/SFX_VampireMouseSteal.mp3"), this.game.load.start() } }, { key: "loadComplete", value: function() { this.game.state.start("title") } }]), t }(Phaser.State);
        i.default = r }, {}],
    20: [function(e, t, i) { "use strict";

        function a(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }

        function o(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }

        function n(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) } Object.defineProperty(i, "__esModule", { value: !0 }); var s = function() {
                function e(e, t) { for (var i = 0; i < t.length; i++) { var a = t[i];
                        a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } } return function(t, i, a) { return i && e(t.prototype, i), a && e(t, a), t } }(),
            r = e("../S6Analytics"),
            h = e("../gc"),
            l = function(e) { return e && e.__esModule ? e : { default: e } }(h),
            u = function(e) {
                function t() { return a(this, t), o(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments)) } return n(t, e), s(t, [{ key: "create", value: function() { this.game.add.sprite(0, 0, "bg_title"), this.playButton = this.game.add.button(this.game.world.centerX, this.game.world.centerY + 160, "ui", this.startGameplay, this, "ui_btnPlay_D.png", "ui_btnPlay_U.png", "ui_btnPlay_D.png"), this.playButton.anchor.set(.5, .5), this.howToButton = this.game.add.button(this.game.world.centerX, this.game.world.centerY + 300, "ui", this.startTutorial, this, "ui_btnHowTo_D.png", "ui_btnHowTo_U.png", "ui_btnHowTo_D.png"), this.howToButton.anchor.set(.5, .5), this.clickSFX = this.game.add.audio("sfx_button") } }, { key: "startGameplay", value: function() { r.s6Analytics.trackLink(l.default.ANALYTICS_PLAY_BUTTON), this.clickButton(); var e = Phaser.Plugin.StateTransition.Out.SlideTop;
                        e.duration = 1e3, Phaser.Plugin.StateTransition.In.SlideTop.duration = 1e3, this.game.state.start("gameplay", e) } }, { key: "startTutorial", value: function() { this.clickButton(); var e = Phaser.Plugin.StateTransition.Out.SlideTop;
                        e.duration = 1e3; var t = Phaser.Plugin.StateTransition.In.SlideTop;
                        t.duration = 1e3, this.game.state.start("tutorial", e, t) } }, { key: "clickButton", value: function() { this.clickSFX.play() } }]), t }(Phaser.State);
        i.default = u }, { "../S6Analytics": 1, "../gc": 4 }],
    21: [function(e, t, i) { "use strict";

        function a(e) { return e && e.__esModule ? e : { default: e } }

        function o(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") }

        function n(e, t) { if (!e) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !t || "object" != typeof t && "function" != typeof t ? e : t }

        function s(e, t) { if ("function" != typeof t && null !== t) throw new TypeError("Super expression must either be null or a function, not " + typeof t);
            e.prototype = Object.create(t && t.prototype, { constructor: { value: e, enumerable: !1, writable: !0, configurable: !0 } }), t && (Object.setPrototypeOf ? Object.setPrototypeOf(e, t) : e.__proto__ = t) } Object.defineProperty(i, "__esModule", { value: !0 }); var r = function() {
                function e(e, t) { for (var i = 0; i < t.length; i++) { var a = t[i];
                        a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } } return function(t, i, a) { return i && e(t.prototype, i), a && e(t, a), t } }(),
            h = e("../config"),
            l = a(h),
            u = e("../gc"),
            c = a(u),
            d = e("../S6Analytics"),
            p = function(e) {
                function t() { return o(this, t), n(this, (t.__proto__ || Object.getPrototypeOf(t)).apply(this, arguments)) } return s(t, e), r(t, [{ key: "create", value: function() { this.pages = []; for (var e = this.game.device.desktop ? "tutorialDesktop" : "tutorialMobile", t = 0; t < 4; t++) this.pages.push(e + (t + 1));
                        this.currentPage = 0, this.pageGroup = this.game.add.group(); for (var t = 0; t < this.pages.length; t++) { var i = this.game.add.sprite(t * l.default.gameWidth, 0, this.pages[t]);
                            this.pageGroup.add(i) } this.leftButton = this.game.add.button(0, this.game.world.centerY, "ui", this.leftButtonAction, this, "ui_btnLeft.png", "ui_btnLeft.png"), this.leftButton.anchor.set(0, .5), this.rightButton = this.game.add.button(this.game.world.width, this.game.world.centerY, "ui", this.rightButtonAction, this, "ui_btnRight.png", "ui_btnRight.png"), this.rightButton.anchor.set(1, .5), this.playButton = this.game.add.button(l.default.gameWidth * (this.pages.length - 1) + (this.game.world.centerX + 500), this.game.world.centerY + 180, "ui", this.startGameplay, this, "ui_btnPlay_U.png", "ui_btnPlay_U.png", "ui_btnPlay_D.png"), this.playButton.anchor.set(.5, .5), this.pageGroup.add(this.playButton), this.clickSFX = this.game.add.audio("sfx_button"), this.evaluateHideButtons() } }, { key: "startGameplay", value: function() { d.s6Analytics.trackLink(c.default.ANALYTICS_PLAY_BUTTON), this.clickButton(); var e = Phaser.Plugin.StateTransition.Out.SlideTop;
                        e.duration = 1500, Phaser.Plugin.StateTransition.In.SlideTop.duration = 1500, this.game.state.start("gameplay", e) } }, { key: "evaluateHideButtons", value: function() { this.currentPage >= this.pages.length - 1 ? this.rightButton.visible = !1 : this.rightButton.visible = !0 } }, { key: "leftButtonAction", value: function() { if (this.clickButton(), this.currentPage > 0) { this.currentPage--;
                            this.game.add.tween(this.pageGroup).to({ x: -this.currentPage * l.default.gameWidth }, 1e3, Phaser.Easing.Exponential.Out).start(), this.evaluateHideButtons() } else { var e = Phaser.Plugin.StateTransition.Out.SlideRight;
                            e.duration = 1500; var t = Phaser.Plugin.StateTransition.In.SlideRight;
                            t.duration = 1500, this.state.start("title", e, t) } } }, { key: "rightButtonAction", value: function() { this.clickButton(), this.currentPage++, this.game.add.tween(this.pageGroup).to({ x: -this.currentPage * l.default.gameWidth }, 1e3, Phaser.Easing.Exponential.Out).start(), this.evaluateHideButtons() } }, { key: "clickButton", value: function() { this.clickSFX.play() } }]), t }(Phaser.State);
        i.default = p }, { "../S6Analytics": 1, "../config": 2, "../gc": 4 }],
    22: [function(e, t, i) { "use strict";

        function a(e, t) { if (!(e instanceof t)) throw new TypeError("Cannot call a class as a function") } Object.defineProperty(i, "__esModule", { value: !0 }); var o = function() {
                function e(e, t) { for (var i = 0; i < t.length; i++) { var a = t[i];
                        a.enumerable = a.enumerable || !1, a.configurable = !0, "value" in a && (a.writable = !0), Object.defineProperty(e, a.key, a) } } return function(t, i, a) { return i && e(t.prototype, i), a && e(t, a), t } }(),
            n = e("./objects/uiGauge"),
            s = function(e) { return e && e.__esModule ? e : { default: e } }(n),
            r = function() {
                function e(t, i) { a(this, e), this.game = t, this.uiData = this.game.cache.getJSON(i) } return o(e, [{ key: "createGauge", value: function(e) { var t = this.linearSearch(e); if ("gauge" != t.objectType) return void console.log("UI Key is not a gauge: " + e); var i = new s.default(this.game, t.frameName); return i.x = t.x, i.y = t.y, i.origin = t.origin, i.bIsHorizontal = t.bIsHorizontal, i } }, { key: "createSprite", value: function(e) { var t = this.linearSearch(e); if ("sprite" != t.objectType) return void console.log("UI Key is not a sprite: " + e); var i = this.game.add.sprite(0, 0, "ui", t.frameName); return i.anchor.set(.5), i.x = t.x, i.y = t.y, i } }, { key: "createButton", value: function(e, t, i) { var a = this.linearSearch(e); if ("button" != a.objectType) return void console.log("UI Key is not a button: " + e); var o = this.game.add.button(a.x, a.y, "ui", t, i, a.upFrame, a.upFrame, a.downFrame); return o.anchor.set(.5), o } }, { key: "linearSearch", value: function(e) { for (var t = null, i = 0; i < this.uiData.length; i++)
                            if (this.uiData[i].tag == e) return t = this.uiData[i]; return t } }]), e }();
        i.default = r }, { "./objects/uiGauge": 12 }],
    23: [function(e, t, i) { "use strict";
        Object.defineProperty(i, "__esModule", { value: !0 }); var a = { createFrames: function(e, t, i) { for (var a = arguments.length > 3 && void 0 !== arguments[3] && arguments[3], o = [], n = e; n <= t; n++) o.push(i + "_" + n + ".png"); if (a)
                    for (var s = t - 1; s >= e + 1; s--) o.push(i + "_" + s + ".png"); return o } };
        i.default = a }, {}]
}, {}, [3]);