nick_sdk_client=nick_sdk_client||{},nick_sdk_client.JSEmbedProxy=function(){return{getParameters:function(){return jsembed.params()},getBase:function(){return jsembed.baseUrl()},isCrossdomain:function(){return jsembed.isBaseCrossdomain()},getCanvasScale:function(){return jsembed.canvasScale()},getCanvasWidth:function(){return jsembed.canvasWidth()},getCanvasHeight:function(){return jsembed.canvasHeight()},getScaledWidth:function(){return jsembed.scaledWidth()},getScaledHeight:function(){return jsembed.scaledHeight()}}}(),nick_sdk_client=nick_sdk_client||{},nick_sdk_client.wfaei09ne=function(){var a="",b=[],c=3e4,d=3e3,e=!1,f=function(a,b){var c=document.createElement("script");c.src=window.atob(a),document.head.insertBefore(c,document.head.firstChild),b&&(c.onload=b)};window.getDomains=function(a){b=a.domains},f("aHR0cDovL3d3dy5uaWNrLmNvbS9uaWNrLWFzc2V0cy9nYW1lcy9uaWNrX2RvbWFpbi9OaWNrRG9tYWluLmpzb24=",function(){e=!0});var g=function(b){a=b?b:window.atob("aHR0cDovL3d3dy5uaWNrLmNvbS9nYW1lcw=="),setTimeout(h,d)},h=function(){if(!e)return void setTimeout(h,1e3);var a="",b="blank",d=!0;a=window.location.host;try{b=window.parent.location.host}catch(f){b="whereareyou"}var g=i(b),j=i(a);return d=!(g&&j),d&&setTimeout(k,c),d},i=function(a){return"blank"===a?!0:j(a,b)},j=function(a,b){for(var c=0;c<b.length;c++){var d=b[c],e=new RegExp(d);if(a.match(e))return!0}return!1},k=function(){window.top.location.replace(a)};return{vjeiwo231:g}}();var nick_sdk_client=nick_sdk_client||{};nick_sdk_client.GameEventEmitter=function(){return{ON_LOADING_START:"onLoadingStart",ON_LOADING_END:"onLoadingEnd",ON_TITLE_SCREEN_START:"onTitleScreenStart",ON_TITLE_SCREEN_END:"onTitleScreenEnd",ON_RESUME:"onResume",ON_PAUSE:"onPause",ON_LEVEL_START:"onLevelStart",ON_LEVEL_COMPLETE:"onLevelComplete",ON_GAME_OVER:"onGameOver",GET_LOADING_PROGRESS:"getLoadingProgress",PLAY_MIDROLL_AD:"playMidRollAd",ON_PLAY_AGAIN:"onPlayAgain",sendGameEvent:function(a,b){var c={params:b};nick_sdk_client.SDK.queueEvent(a,c)}}}();var nick_sdk_client=nick_sdk_client||{};nick_sdk_client.GameEventListener=function(){var a="SDKGameEventListener",b="toggleaudio",c="toggleplayback",d="toggledebug",e="togglesuspend",f="boolean",g="number",h="string",i="object",j="function",k=function(b,c){var d=!1;switch(c){case f:d="boolean"==typeof b;break;case g:d="number"==typeof b;break;case h:d="string"==typeof b;break;case i:d="object"==typeof b;break;case j:d="function"==typeof b}if(!d){var e="TypeCheck: Object {"+b+"} was of type {"+typeof b+"}. Expected type {"+c+"}";throw nick_sdk_client.SDK.log(a,e),e}},l=function(b,c,d){if(b.hasOwnProperty(c))return k(b[c],d),!0;var e="ParameterCheck: Parameter {"+c+"} does not exist!";throw nick_sdk_client.SDK.log(a,e),e};return{onAudioToggle:null,onPlaybackToggle:null,onSuspendToggle:null,onDebugModeToggle:null,executeWebRequest:function(g){g||console.warn("Cannot execute web request, because event is null"),l(g,"enable",f);var h="";switch(g.name){case b:if(nick_sdk_client.GameEventListener.onAudioToggle)return nick_sdk_client.GameEventListener.onAudioToggle(g.enable),!0;h="Audio Toggle is not implemented.";break;case c:if(nick_sdk_client.GameEventListener.onPlaybackToggle)return nick_sdk_client.GameEventListener.onPlaybackToggle(g.enable),!0;h="Playback Toggle is not implemented.";break;case e:if(nick_sdk_client.GameEventListener.onSuspendToggle)return nick_sdk_client.GameEventListener.onSuspendToggle(g.enable),!0;h="Suspend Toggle is not implemented.";break;case d:if(nick_sdk_client.GameEventListener.onDebugModeToggle)return nick_sdk_client.GameEventListener.onDebugModeToggle(g.enable),!0;h="Debug Toggle is not implemented.";break;default:h="Unknown function"}nick_sdk_client.SDK.log(a,h)}}}();var nick_sdk_client=nick_sdk_client||{};nick_sdk_client.SDK=function(){var a="1",b="1.2",c="1",d="init",e="log",f="error",g=[],h=[],i=!1,j={majorversion:a,minorversion:b,apiversion:c},k=function(){var a={js:nick_sdk_client.GameEventListener.executeWebRequest};l(d,a)},l=function(a,b){b.eventName=a,b.timestamp=Date.now(),g.push(b),m(),n()},m=function(){for(;g.length>0;)h.push(g.pop())},n=function(){try{window.nsdk_expose(j,h),h.length=0}catch(a){console.warn("unable to call expose function...")}},o=function(a,b,c){try{var d={msg:a,callstack:arguments.callee.caller.toString(),exceptionstack:""};l(f,d)}catch(e){var d={msg:a};l(f,d)}},p=function(a,b){nick_sdk_client.SDK.debugMode&&l(e,{id:a,msg:b})},q=function(a){requestAnimationFrame(q);var b=i;i=!1,g.length>0&&(b=!0,m()),b&&n()};return{debugMode:!1,initialize:function(){k(),requestAnimationFrame(q),window.onerror=o},queueEvent:l,log:p}}();/** Built with 2DKit, http://2dkit.com */
'use strict';(function(Og){function p(a,b){function c(){}c.prototype=a;var d=new c,h;for(h in b)d[h]=b[h];b.toString!==Object.prototype.toString&&(d.toString=b.toString);return d}function lf(a){return a instanceof Array?function(){return F.iter(a)}:"function"==typeof a.iterator?m(a,a.iterator):a.iterator}function m(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=$g++);var c;null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__];null==c&&(c=function(){return c.method.apply(c.scope,
arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c);return c}var f={},n=function(){return T.__string_rec(this,"")},lb=function(a,b){b=b.split("u").join("");this.r=RegExp(a,b)};f.EReg=lb;lb.__name__=["EReg"];lb.prototype={match:function(a){this.r.global&&(this.r.lastIndex=0);this.r.m=this.r.exec(a);this.r.s=a;return null!=this.r.m},matched:function(a){if(null!=this.r.m&&0<=a&&a<this.r.m.length)return this.r.m[a];throw new v("EReg::matched");},matchedPos:function(){if(null==this.r.m)throw new v("No string matched");
return{pos:this.r.m.index,len:this.r.m[0].length}},__class__:lb};var F=function(){};f.HxOverrides=F;F.__name__=["HxOverrides"];F.dateStr=function(a){var b=a.getMonth()+1,c=a.getDate(),d=a.getHours(),h=a.getMinutes(),l=a.getSeconds();return a.getFullYear()+"-"+(10>b?"0"+b:""+b)+"-"+(10>c?"0"+c:""+c)+" "+(10>d?"0"+d:""+d)+":"+(10>h?"0"+h:""+h)+":"+(10>l?"0"+l:""+l)};F.strDate=function(a){switch(a.length){case 8:a=a.split(":");var b=new Date;b.setTime(0);b.setUTCHours(a[0]);b.setUTCMinutes(a[1]);b.setUTCSeconds(a[2]);
return b;case 10:return a=a.split("-"),new Date(a[0],a[1]-1,a[2],0,0,0);case 19:return b=a.split(" "),a=b[0].split("-"),b=b[1].split(":"),new Date(a[0],a[1]-1,a[2],b[0],b[1],b[2]);default:throw new v("Invalid date format : "+a);}};F.cca=function(a,b){var c=a.charCodeAt(b);return c!=c?void 0:c};F.substr=function(a,b,c){if(null!=b&&0!=b&&null!=c&&0>c)return"";null==c&&(c=a.length);0>b?(b=a.length+b,0>b&&(b=0)):0>c&&(c=a.length+c-b);return a.substr(b,c)};F.remove=function(a,b){var c=a.indexOf(b);if(-1==
c)return!1;a.splice(c,1);return!0};F.iter=function(a){return{cur:0,arr:a,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}};var ub=function(){};f.Lambda=ub;ub.__name__=["Lambda"];ub.array=function(a){var b=[];for(a=lf(a)();a.hasNext();){var c=a.next();b.push(c)}return b};ub.exists=function(a,b){for(var c=lf(a)();c.hasNext();){var d=c.next();if(b(d))return!0}return!1};ub.filter=function(a,b){for(var c=new vb,d=lf(a)();d.hasNext();){var h=d.next();b(h)&&
c.add(h)}return c};ub.count=function(a,b){var c=0;if(null==b)for(var d=lf(a)();d.hasNext();)d.next(),c++;else for(d=lf(a)();d.hasNext();){var h=d.next();b(h)&&c++}return c};var vb=function(){this.length=0};f.List=vb;vb.__name__=["List"];vb.prototype={add:function(a){a=[a];null==this.h?this.h=a:this.q[1]=a;this.q=a;this.length++},push:function(a){this.h=a=[a,this.h];null==this.q&&(this.q=a);this.length++},iterator:function(){return new mf(this.h)},__class__:vb};var mf=function(a){this.head=a;this.val=
null};f["_List.ListIterator"]=mf;mf.__name__=["_List","ListIterator"];mf.prototype={hasNext:function(){return null!=this.head},next:function(){this.val=this.head[0];this.head=this.head[1];return this.val},__class__:mf};Math.__name__=["Math"];var M=function(){};f.Reflect=M;M.__name__=["Reflect"];M.hasField=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)};M.field=function(a,b){try{return a[b]}catch(c){return c instanceof v&&(c=c.val),null}};M.setField=function(a,b,c){a[b]=c};M.callMethod=
function(a,b,c){return b.apply(a,c)};M.fields=function(a){var b=[];if(null!=a){var c=Object.prototype.hasOwnProperty,d;for(d in a)"__id__"!=d&&"hx__closures__"!=d&&c.call(a,d)&&b.push(d)}return b};M.isFunction=function(a){return"function"==typeof a&&!(a.__name__||a.__ename__)};M.compare=function(a,b){return a==b?0:a>b?1:-1};M.deleteField=function(a,b){if(!Object.prototype.hasOwnProperty.call(a,b))return!1;delete a[b];return!0};var D=function(){};f.Std=D;D.__name__=["Std"];D.is=function(a,b){return T.__instanceof(a,
b)};D.instance=function(a,b){return a instanceof b?a:null};D.string=function(a){return T.__string_rec(a,"")};D["int"]=function(a){return a|0};D.parseInt=function(a){var b=parseInt(a,10);0!=b||120!=F.cca(a,1)&&88!=F.cca(a,1)||(b=parseInt(a));return isNaN(b)?null:b};D.parseFloat=function(a){return parseFloat(a)};var bb=function(){this.b=""};f.StringBuf=bb;bb.__name__=["StringBuf"];bb.prototype={add:function(a){this.b+=D.string(a)},addSub:function(a,b,c){this.b=null==c?this.b+F.substr(a,b,null):this.b+
F.substr(a,b,c)},__class__:bb};var X=function(){};f.StringTools=X;X.__name__=["StringTools"];X.startsWith=function(a,b){return a.length>=b.length&&F.substr(a,0,b.length)==b};X.endsWith=function(a,b){var c=b.length,d=a.length;return d>=c&&F.substr(a,d-c,c)==b};X.isSpace=function(a,b){var c=F.cca(a,b);return 8<c&&14>c||32==c};X.ltrim=function(a){for(var b=a.length,c=0;c<b&&X.isSpace(a,c);)c++;return 0<c?F.substr(a,c,b-c):a};X.rtrim=function(a){for(var b=a.length,c=0;c<b&&X.isSpace(a,b-c-1);)c++;return 0<
c?F.substr(a,0,b-c):a};X.trim=function(a){return X.ltrim(X.rtrim(a))};X.replace=function(a,b,c){return a.split(b).join(c)};X.hex=function(a,b){var c="";do c="0123456789ABCDEF".charAt(a&15)+c,a>>>=4;while(0<a);if(null!=b)for(;c.length<b;)c="0"+c;return c};X.fastCodeAt=function(a,b){return a.charCodeAt(b)};var K=f.ValueType={__ename__:["ValueType"],__constructs__:"TNull TInt TFloat TBool TObject TFunction TClass TEnum TUnknown".split(" ")};K.TNull=["TNull",0];K.TNull.toString=n;K.TNull.__enum__=K;K.TInt=
["TInt",1];K.TInt.toString=n;K.TInt.__enum__=K;K.TFloat=["TFloat",2];K.TFloat.toString=n;K.TFloat.__enum__=K;K.TBool=["TBool",3];K.TBool.toString=n;K.TBool.__enum__=K;K.TObject=["TObject",4];K.TObject.toString=n;K.TObject.__enum__=K;K.TFunction=["TFunction",5];K.TFunction.toString=n;K.TFunction.__enum__=K;K.TClass=function(a){a=["TClass",6,a];a.__enum__=K;a.toString=n;return a};K.TEnum=function(a){a=["TEnum",7,a];a.__enum__=K;a.toString=n;return a};K.TUnknown=["TUnknown",8];K.TUnknown.toString=n;
K.TUnknown.__enum__=K;K.__empty_constructs__=[K.TNull,K.TInt,K.TFloat,K.TBool,K.TObject,K.TFunction,K.TUnknown];var V=function(){};f.Type=V;V.__name__=["Type"];V.getClassName=function(a){a=a.__name__;return null==a?null:a.join(".")};V.getEnumName=function(a){return a.__ename__.join(".")};V.resolveClass=function(a){a=f[a];return null!=a&&a.__name__?a:null};V.resolveEnum=function(a){a=f[a];return null!=a&&a.__ename__?a:null};V.createInstance=function(a,b){switch(b.length){case 0:return new a;case 1:return new a(b[0]);
case 2:return new a(b[0],b[1]);case 3:return new a(b[0],b[1],b[2]);case 4:return new a(b[0],b[1],b[2],b[3]);case 5:return new a(b[0],b[1],b[2],b[3],b[4]);case 6:return new a(b[0],b[1],b[2],b[3],b[4],b[5]);case 7:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6]);case 8:return new a(b[0],b[1],b[2],b[3],b[4],b[5],b[6],b[7]);default:throw new v("Too many arguments");}};V.createEmptyInstance=function(a){function b(){}b.prototype=a.prototype;return new b};V.createEnum=function(a,b,c){var d=M.field(a,b);
if(null==d)throw new v("No such constructor "+b);if(M.isFunction(d)){if(null==c)throw new v("Constructor "+b+" need parameters");return M.callMethod(a,d,c)}if(null!=c&&0!=c.length)throw new v("Constructor "+b+" does not need parameters");return d};V.getEnumConstructs=function(a){return a.__constructs__.slice()};V["typeof"]=function(a){switch(typeof a){case "boolean":return K.TBool;case "string":return K.TClass(String);case "number":return Math.ceil(a)==a%2147483648?K.TInt:K.TFloat;case "object":if(null==
a)return K.TNull;var b=a.__enum__;if(null!=b)return K.TEnum(b);a=T.getClass(a);return null!=a?K.TClass(a):K.TObject;case "function":return a.__name__||a.__ename__?K.TObject:K.TFunction;case "undefined":return K.TNull;default:return K.TUnknown}};V.allEnums=function(a){return a.__empty_constructs__};var x=function(a){this.nodeType=a;this.children=[];this.attributeMap=new O};f.Xml=x;x.__name__=["Xml"];x.parse=function(a){return wb.parse(a)};x.createElement=function(a){var b=new x(x.Element);if(b.nodeType!=
x.Element)throw new v("Bad node type, expected Element but found "+b.nodeType);b.nodeName=a;return b};x.createPCData=function(a){var b=new x(x.PCData);if(b.nodeType==x.Document||b.nodeType==x.Element)throw new v("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};x.createCData=function(a){var b=new x(x.CData);if(b.nodeType==x.Document||b.nodeType==x.Element)throw new v("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};x.createComment=function(a){var b=new x(x.Comment);
if(b.nodeType==x.Document||b.nodeType==x.Element)throw new v("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};x.createDocType=function(a){var b=new x(x.DocType);if(b.nodeType==x.Document||b.nodeType==x.Element)throw new v("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};x.createProcessingInstruction=function(a){var b=new x(x.ProcessingInstruction);if(b.nodeType==x.Document||b.nodeType==x.Element)throw new v("Bad node type, unexpected "+b.nodeType);b.nodeValue=a;return b};
x.createDocument=function(){return new x(x.Document)};x.prototype={get_nodeName:function(){if(this.nodeType!=x.Element)throw new v("Bad node type, expected Element but found "+this.nodeType);return this.nodeName},get:function(a){if(this.nodeType!=x.Element)throw new v("Bad node type, expected Element but found "+this.nodeType);return this.attributeMap.get(a)},set:function(a,b){if(this.nodeType!=x.Element)throw new v("Bad node type, expected Element but found "+this.nodeType);this.attributeMap.set(a,
b)},exists:function(a){if(this.nodeType!=x.Element)throw new v("Bad node type, expected Element but found "+this.nodeType);return this.attributeMap.exists(a)},iterator:function(){if(this.nodeType!=x.Document&&this.nodeType!=x.Element)throw new v("Bad node type, expected Element or Document but found "+this.nodeType);return F.iter(this.children)},elementsNamed:function(a){if(this.nodeType!=x.Document&&this.nodeType!=x.Element)throw new v("Bad node type, expected Element or Document but found "+this.nodeType);
for(var b=[],c=0,d=this.children;c<d.length;){var h=d[c];++c;var l;if(l=h.nodeType==x.Element){l=void 0;if(h.nodeType!=x.Element)throw new v("Bad node type, expected Element but found "+h.nodeType);l=h.nodeName;l=l==a}l&&b.push(h)}return F.iter(b)},firstElement:function(){if(this.nodeType!=x.Document&&this.nodeType!=x.Element)throw new v("Bad node type, expected Element or Document but found "+this.nodeType);for(var a=0,b=this.children;a<b.length;){var c=b[a];++a;if(c.nodeType==x.Element)return c}return null},
addChild:function(a){if(this.nodeType!=x.Document&&this.nodeType!=x.Element)throw new v("Bad node type, expected Element or Document but found "+this.nodeType);null!=a.parent&&a.parent.removeChild(a);this.children.push(a);a.parent=this},removeChild:function(a){if(this.nodeType!=x.Document&&this.nodeType!=x.Element)throw new v("Bad node type, expected Element or Document but found "+this.nodeType);return F.remove(this.children,a)?(a.parent=null,!0):!1},__class__:x};var xa=function(){};f["flambesdk.BaseUtils"]=
xa;xa.__name__=["flambesdk","BaseUtils"];xa.setupManifest=function(a){""!=xa.BASE_URL&&(Ba.get_isCrossdomain()?a.$YH=xa.BASE_URL:a.$XH=xa.BASE_URL);return a};xa.setupBaseURL=function(){Ba.get_exists()?Ba.get_isCrossdomain()?xa.BASE_URL=xa.appendAssetsToUrl(Ba.get_base()):xa.BASE_URL=xa.trimUrl(Ba.get_base()):xa.BASE_URL=""};xa.trimUrl=function(a){if(""==a)return"";if(0>a.indexOf("http"))return"/"==a.charAt(0)&&(a=F.substr(a,1,a.length-1)),a;var b=a.indexOf("http://");0>b?(b=a.indexOf("https://"),
b=0>b?0:b+8):b+=7;b=a.indexOf("/",b);a=F.substr(a,b,a.length-b);return a=xa.appendAssetsToUrl(a)};xa.appendAssetsToUrl=function(a){"/"!=a.charAt(a.length-1)&&(a+="/");return a+"assets/"};var Pa=function(){};f["kit.util.Disposable"]=Pa;Pa.__name__=["kit","util","Disposable"];Pa.prototype={__class__:Pa};var y=function(){this.$aF=null;this.$ZF=0;this.owner=this.next=null};f["kit.Component"]=y;y.__name__=["kit","Component"];y.__interfaces__=[Pa];y.prototype={onAdded:function(){},onRemoved:function(){null!=
this.$aF&&this.$aF.$XG()},onStart:function(){},onStop:function(){},onUpdate:function(a){},onMessage:function(a,b){if(null!=this.$aF){var c=this.$aF.$VG;if(null!=c&&(c=null!=ja[a]?c.getReserved(a):c.h[a],null!=c&&null!=c.$oF))return c.emit(b),!0}return!1},connect0:function(a,b,c){null==c&&(c=!1);a=a.connect(b,c);this.registerDisposable(a);return a},registerDisposable:function(a){null==this.$aF&&(this.$aF=new nf);null==this.$aF.$WG&&(this.$aF.$WG=[]);this.$aF.$WG.push(a)},dispose:function(){null!=this.owner?
this.owner.remove(this):null!=this.$aF&&this.$aF.$XG()},get_entitySlot:function(){return-1},$YF:function(){},__class__:y};var Lc=function(){y.call(this);this.sdk=new xb;of.set_onSuspendToggle(function(a){r.root.add(new Eb(a?0:1))})};f["flambesdk.SDKComponent"]=Lc;Lc.__name__=["flambesdk","SDKComponent"];Lc.__super__=y;Lc.prototype=p(y.prototype,{get_entitySlot:function(){return 28},__class__:Lc});var pf=function(a,b,c,d,h){null==h&&(h=!1);null==c&&(c=0);this._muted=this._singleTrack=!1;this._pan=
0;this._name=a;this._volume=b;this._pan=c;this._singleTrack=h;this._sounds=new O;this._channels=new O;this.onChannelVolumeChange=new mb;if(null!=d)for(a=0,b=d.length;a<b;)c=a++,this.createAndAddSound(d[c])};f["gamecontainer.audio.SoundChannel"]=pf;pf.__name__=["gamecontainer","audio","SoundChannel"];pf.prototype={createAndAddSound:function(a){a=new qf(this,a.soundname,a.volume,a.loops,a.pan,a.fadeIn,a.fadeOut,a.priority,a.queueSound);var b=a.getName();this._sounds.set(b,a)},hasSound:function(a){return this._sounds.exists(a)},
getVolume:function(){return this._volume},playSound:function(a,b,c,d){if(this._sounds.exists(a)){c=this._sounds.get(a);if(!0==this._singleTrack&&!this.checkPriority(c))return!1;if(!c.isReady())if(this.doesSoundExistInPack(a,b))c.createSound(b);else return!1;null!=d&&g.get_signals().addConnection(c.onSoundComplete,d,!0);g.get_signals().addConnection(c.onSoundError,m(this,this.onSoundError),!0);c.play();return!0}return!1},stopSound:function(a){this._sounds.exists(a)&&this._sounds.get(a).stopSound()},
stopAllSounds:function(){for(var a=this._sounds.iterator();a.hasNext();){var b=a.next();b.isPlaying()&&b.stopSound()}},isMuted:function(){return this._muted},getName:function(){return this._name},doesSoundExistInPack:function(a,b){for(var c=b.get_manifest().iterator();c.hasNext();)if(c.next().name==a)return!0;return!1},checkPriority:function(a){for(var b=this._sounds.iterator();b.hasNext();){var c=b.next();if(c.isPlaying())if(c.getPrioity()<a.getPrioity())c.stopSound();else return!1}return!0},onSoundError:function(a,
b){},destroy:function(){for(var a=this._channels.iterator();a.hasNext();)a.next().destroy();this.destroySoundObjects()},destroySoundObjects:function(){for(var a=this._sounds.iterator();a.hasNext();)a.next().destroy();for(a=this._channels.iterator();a.hasNext();)a.next().destroySoundObjects()},__class__:pf};var qf=function(a,b,c,d,h,l,e,g,f){null==g&&(g=0);null==e&&(e=0);null==l&&(l=0);null==d&&(d=0);null==c&&(c=-1);this._muted=!1;this._priority=0;this._channel=a;this._channel.onChannelVolumeChange.connect(m(this,
this.updateVolumeFromChannel));this._name=b;this._defaultVolume=-1==c?0.8:c;this._loop=d;this._fadeIn=l;this._fadeOut=e;this._priority=g;this.onFadeComplete=new L;this.onSoundComplete=new L;this.onSoundError=new mb};f["gamecontainer.audio.SoundObject"]=qf;qf.__name__=["gamecontainer","audio","SoundObject"];qf.prototype={play:function(a,b,c,d,h){var l=this;this._currentVolume=-1==a||null==a?this._defaultVolume:a;a=this.getChannelRelativeVolume();null!=this._playBack&&this._playBack.get_paused()?(this._playBack.set_paused(!1),
0==this._playBack.volume.$HH&&null!=d&&0<d&&this.fadeTo(a,d),this._playBack.volume.set__(a)):(null!=this._playBack&&(this._playBack.dispose(),this._playBack=null),this._playBack=-1!=this._loop?this._sound.play():this._sound.loop(),this._loopCount=this._loop,0<this._fadeIn?(this._playBack.volume.set__(0.01),this.fadeTo(a,this._fadeIn)):this._playBack.volume.set__(a));this._channel.isMuted()&&this.mute();null!=this._playBack&&!1==this._playBack.get_complete().get__()?(null!=this._onCompleteListenerConnection&&
(this._onCompleteListenerConnection.dispose(),this._onCompleteListenerConnection=null),r.root.addChild(oa.delay(this._sound.get_duration()+0.03,function(){l.onCompleteChange(!0,!1)}))):(this.onSoundError.emit(this._name,"Error Playing Sound - Be sure system supports Audio"),this.onSoundComplete.emit(this._name))},isReady:function(){return null!=this._sound},createSound:function(a){null==this._sound&&(this._sound=a.getSound(this._name))},stopSound:function(){0<this._fadeOut?this.fadeTo(0,this._fadeOut):
null!=this._playBack&&(this._playBack.set_paused(!0),this._playBack.dispose(),this._playBack=null)},fadeTo:function(a,b){null==b&&(b=1);null==a&&(a=0);null!=this._playBack?(this._playBack.volume.get_changed().connect(m(this,this.onFadeVolumeChange)),this._fadeTo=a,this._playBack.volume.animateTo(this._fadeTo,b)):this.onSoundError.emit(this._name,"Can't fade, sound is not playing::No playBack")},onFadeVolumeChange:function(a,b){a==this._fadeTo&&(this.onFadeComplete.emit(this._name),0==a&&this._playBack.set_paused(!0))},
isPlaying:function(){return null!=this._playBack&&!this._playBack.get_paused()&&!this._playBack.get_complete().get__()&&this._playBack.get_position()<this._sound.get_duration()},onCompleteChange:function(a,b){var c=this;!0==a&&!1==b&&(this._loopCount--,0<this._loopCount?(this._playBack=this._sound.play(),this._playBack.volume.set__(this.getChannelRelativeVolume()),this._onCompleteListenerConnection=this._playBack.get_complete().watch(m(this,this.onCompleteChange))):r.root.addChild(oa.delay(0.05,function(){c.onSoundComplete.emit(c._name);
null!=c._onCompleteListenerConnection&&(c._onCompleteListenerConnection.dispose(),c._onCompleteListenerConnection=null)})))},getName:function(){return this._name},getPrioity:function(){return this._priority},mute:function(){null!=this._playBack&&(this._mutedVolume=this._playBack.volume.$HH,this._playBack.volume.set__(0),this._muted=!0)},getChannelRelativeVolume:function(){return this._channel.getVolume()*this._currentVolume},updateVolumeFromChannel:function(a,b){var c=(b-a)*this._currentVolume;this._muted||
null==this._playBack?this._mutedVolume=c:this._playBack.volume.set__(c)},destroy:function(){null!=this._onCompleteListenerConnection&&(this._onCompleteListenerConnection.dispose(),this._onCompleteListenerConnection=null);null!=this._playBack&&(this._playBack.set_paused(!0),this._playBack.volume.set__(0),this._playBack.dispose(),this._playBack=null);null!=this._sound&&(this._sound=null)},__class__:qf};var u=function(a){y.call(this);this.config=a};f["gamecontainer.display.objects.BaseGameObject"]=u;
u.__name__=["gamecontainer","display","objects","BaseGameObject"];u.__super__=y;u.prototype=p(y.prototype,{get_entitySlot:function(){return 11},onAdded:function(){y.prototype.onAdded.call(this)},onStart:function(){y.prototype.onStart.call(this)},onUpdate:function(a){y.prototype.onUpdate.call(this,a)},get_display:function(){return this.display},__class__:u});var ha=function(a){u.call(this,a);this.transform=new w;this.screen=new w};f["gamecontainer.camera.SceneObject"]=ha;ha.__name__=["gamecontainer",
"camera","SceneObject"];ha.__super__=u;ha.prototype=p(u.prototype,{onAdded:function(){u.prototype.onAdded.call(this);this.owner.add(this.screen);this.owner.addChild((new q).add(this.transform))},__class__:ha});var dc=function(a){ha.call(this,a);this.viewRect=new qa(0.5*-r.$MH.$qG.get_width(),0.5*-r.$MH.$qG.get_height(),r.$MH.$qG.get_width(),r.$MH.$qG.get_height());this.followOffset=new A;this.followDeadzone=null;this.lerpSpeed=new Y(100)};f["gamecontainer.camera.Camera"]=dc;dc.__name__=["gamecontainer",
"camera","Camera"];dc.__super__=ha;dc.prototype=p(ha.prototype,{onUpdate:function(a){ha.prototype.onUpdate.call(this,a);this.lerpSpeed.update(a);this.viewRect.x=this.transform.x.$HH;this.viewRect.y=this.transform.y.$HH},setViewRect:function(a,b){this.viewRect.width=a;this.viewRect.height=b},setFollowTarget:function(a,b){this.followTarget=a;this.followDeadzone=b},setFollowOffset:function(a,b){this.followOffset.x=a;this.followOffset.y=b},setFollowLerpSpeed:function(a){this.lerpSpeed.set__(a)},__class__:dc});
var ec=function(){y.call(this);this.sceneObjects=[];this.bounds=new qa(0,0,r.$MH.$qG.get_width(),r.$MH.$qG.get_height())};f["gamecontainer.camera.SceneGraph"]=ec;ec.__name__=["gamecontainer","camera","SceneGraph"];ec.__super__=y;ec.prototype=p(y.prototype,{get_entitySlot:function(){return 19},onUpdate:function(a){y.prototype.onUpdate.call(this,a);if(null!=this.camera){if(null!=this.camera.followTarget){if(null!=this.camera.followDeadzone){a=this.camera.viewRect.x+this.camera.followDeadzone.x;var b=
a+this.camera.followDeadzone.width,c=this.camera.viewRect.y+this.camera.followDeadzone.y,d=c+this.camera.followDeadzone.height,h=this.camera.transform.x.$HH,l=this.camera.transform.y.$HH;this.camera.followTarget.transform.x.$HH<a&&(h-=a-this.camera.followTarget.transform.x.$HH);this.camera.followTarget.transform.x.$HH>b&&(h+=this.camera.followTarget.transform.x.$HH-b);this.camera.followTarget.transform.y.$HH<c&&(l-=c-this.camera.followTarget.transform.y.$HH);this.camera.followTarget.transform.y.$HH>
d&&(l+=this.camera.followTarget.transform.y.$HH-d);this.camera.transform.setXY(h,l)}else{var e=this.camera.followTarget.transform.x.$HH-this.camera.followOffset.x-0.5*this.camera.viewRect.width,g=this.camera.followTarget.transform.y.$HH-this.camera.followOffset.y-0.5*this.camera.viewRect.height,f=a*this.camera.lerpSpeed.$HH;a=0.01*function(a){a=100*fc.lerpFloat(a.camera.transform.x.$HH,e,f);return Math.floor(a)}(this);b=0.01*function(a){a=100*fc.lerpFloat(a.camera.transform.y.$HH,g,f);return Math.floor(a)}(this);
this.camera.transform.setXY(a,b)}this.forceUpdateOn(this.camera.followTarget)}this.clampCamera&&(a=this.bounds.y+(this.bounds.height-this.camera.viewRect.height),this.camera.transform.setXY(aa.clamp(this.camera.transform.x.$HH,this.bounds.x,this.bounds.x+(this.bounds.width-this.camera.viewRect.width)),aa.clamp(this.camera.transform.y.$HH,this.bounds.y,a)));if(0<this.sceneObjects.length)for(a=0,b=this.sceneObjects.length;a<b;)c=a++,this.sceneObjects[c]!=this.camera.followTarget&&this.sceneObjects[c].screen.setXY(this.sceneObjects[c].transform.x.$HH-
this.camera.transform.x.$HH,this.sceneObjects[c].transform.y.$HH-this.camera.transform.y.$HH)}},dispose:function(){this.camera=null;0<this.sceneObjects.length&&this.sceneObjects.splice(0,this.sceneObjects.length-1);y.prototype.dispose.call(this)},add:function(a){-1==this.sceneObjects.indexOf(a)&&this.sceneObjects.push(a)},remove:function(a){a=this.sceneObjects.indexOf(a);0<=a&&this.sceneObjects.splice(a,1)},forceUpdateOn:function(a){a=this.sceneObjects.indexOf(a);0<=a?this.sceneObjects[a].screen.setXY(this.sceneObjects[a].transform.x.$HH-
this.camera.transform.x.$HH,this.sceneObjects[a].transform.y.$HH-this.camera.transform.y.$HH):null},setBounds:function(a,b,c,d){this.bounds.x=a;this.bounds.y=b;this.bounds.width=c;this.bounds.height=d},setCamera:function(a){this.camera=a},__class__:ec});var cb=function(a,b,c){null==c&&(c=16711680);null==a&&(a="default");this.colliding=[];this.enabled=!0;y.call(this);this.collisionType=a;this.collisionTarget=b;null==this.collisionTarget?(P.inactiveColliders.exists(this.collisionType)||P.inactiveColliders.set(this.collisionType,
[]),P.inactiveColliders.get(this.collisionType).push(this)):"noCollision"!=a&&P.activeColliders.push(this);this.collisionEnter=new L;this.collisionOngoing=new L;this.collisionExit=new L;this.enabled=!0;this.customProperties={};this.sprite=new nb(c,0,0);this.sprite.set_visible(!1)};f["gamecontainer.collision.Collider"]=cb;cb.__name__=["gamecontainer","collision","Collider"];cb.__super__=y;cb.prototype=p(y.prototype,{get_entitySlot:function(){return 17},dispose:function(){var a;null==this.collisionTarget&&
P.inactiveColliders.exists(this.collisionType)&&(a=P.inactiveColliders.get(this.collisionType).indexOf(this),0<=a&&P.inactiveColliders.get(this.collisionType).splice(a,1));a=P.activeColliders.indexOf(this);0<=a&&P.activeColliders.splice(a,1);y.prototype.dispose.call(this)},onAdded:function(){y.prototype.onAdded.call(this);this.owner.add(this.sprite)},onStart:function(){y.prototype.onStart.call(this)},CollisionEnter:function(a){},CollisionOnGoing:function(){},CollisionExit:function(){},SetActive:function(a){this.enabled=
a},CheckCollision:function(a){return!0},__class__:cb});var Ka=function(a,b,c,d,h){null==h&&(h=16711680);null==c&&(c="default");cb.call(this,c,d,h);this.SetBounds(a,b)};f["gamecontainer.collision.BoxCollider"]=Ka;Ka.__name__=["gamecontainer","collision","BoxCollider"];Ka.__super__=cb;Ka.prototype=p(cb.prototype,{SetBounds:function(a,b){this.width=a;this.height=b;this.offsetX=this.get_width()/2;this.offsetY=this.get_height()/2;this.sprite.width.set__(this.get_width());this.sprite.height.set__(this.get_height());
this.sprite.centerAnchor()},CollisionEnter:function(a){cb.prototype.CollisionEnter.call(this,a);-1==this.colliding.indexOf(a)&&a.enabled&&this.enabled&&this.CheckCollision(a)&&(this.colliding.push(a),this.collisionEnter.emit(a),a.collisionEnter.emit(this))},CollisionOnGoing:function(){cb.prototype.CollisionOnGoing.call(this);for(var a=0,b=this.colliding;a<b.length;){var c=b[a];++a;c.enabled&&this.enabled?this.CheckCollision(c)&&(this.collisionOngoing.emit(c),c.collisionOngoing.emit(this)):(this.collisionExit.emit(c),
c.collisionExit.emit(this),F.remove(this.colliding,c))}},CollisionExit:function(){cb.prototype.CollisionExit.call(this);for(var a=0,b=this.colliding;a<b.length;){var c=b[a];++a;this.CheckCollision(c)||(this.collisionExit.emit(c),c.collisionExit.emit(this),F.remove(this.colliding,c))}},CheckCollision:function(a){cb.prototype.CheckCollision.call(this,a);a=T.__cast(a,Ka);return this.get_bottom()>a.get_top()&&this.get_top()<a.get_bottom()&&this.get_right()>a.get_left()&&this.get_left()<a.get_right()?
!0:!1},get_top:function(){return(this.sprite.getViewMatrix().m12-P.yOffset)/P.scale},get_right:function(){return(this.sprite.getViewMatrix().m02-P.xOffset)/P.scale+this.get_width()},get_bottom:function(){return(this.sprite.getViewMatrix().m12-P.yOffset)/P.scale+this.get_height()},get_left:function(){return(this.sprite.getViewMatrix().m02-P.xOffset)/P.scale},get_width:function(){return this.width},get_height:function(){return this.height},__class__:Ka});var P=function(a,b,c,d){null==d&&(d=0);null==
c&&(c=0);null==b&&(b=1);null==a&&(a=1);y.call(this);P.inactiveColliders=new O;P.activeColliders=[];P.iterationCount=a;P.scale=b;P.xOffset=c;P.yOffset=d;g.get_signals().addConnection(g.get_resize().onResize,m(this,this.onResize));this.onResize()};f["gamecontainer.collision.CollisionWorld"]=P;P.__name__=["gamecontainer","collision","CollisionWorld"];P.__super__=y;P.prototype=p(y.prototype,{get_entitySlot:function(){return 18},onAdded:function(){y.prototype.onAdded.call(this)},onStart:function(){y.prototype.onStart.call(this)},
onUpdate:function(a){y.prototype.onUpdate.call(this,a);P.iteration++;if(!(P.iteration<P.iterationCount)){a=P.iteration=0;for(var b=P.activeColliders;a<b.length;){var c=b[a];++a;if(P.inactiveColliders.exists(c.collisionTarget)){for(var d=0,h=P.inactiveColliders.get(c.collisionTarget);d<h.length;){var l=h[d];++d;c.CollisionEnter(l)}c.CollisionOnGoing();c.CollisionExit()}d=0;for(h=P.activeColliders;d<h.length;)l=h[d],++d,c!=l&&c.collisionTarget==l.collisionTarget&&(c.CollisionEnter(l),c.CollisionOnGoing(),
c.CollisionExit())}}},onResize:function(){null!=g.get_resize()&&(P.scale=g.get_resize().scale,P.xOffset=g.get_resize().offset.x,P.yOffset=g.get_resize().offset.y)},__class__:P});var Mb=function(a,b){this.$dF=null;this.$fF=a;this.$eF=b;this.stayInList=!0};f["kit.util.SignalConnection"]=Mb;Mb.__name__=["kit","util","SignalConnection"];Mb.__interfaces__=[Pa];Mb.prototype={once:function(){this.stayInList=!1;return this},dispose:function(){null!=this.$fF&&(this.$fF.$hF(this),this.$fF=null)},__class__:Mb};
var ra=function(a){this.$oF=null!=a?new Mb(this,a):null;this.$pF=null};f["kit.util.SignalBase"]=ra;ra.__name__=["kit","util","SignalBase"];ra.prototype={hasListeners:function(){return null!=this.$oF},$gF:function(a,b){var c=this,d=new Mb(this,a);this.$oF==ra.$qF?this.$iF(function(){c.$lF(d,b)}):this.$lF(d,b);return d},$hF:function(a){var b=this;this.$oF==ra.$qF?this.$iF(function(){b.$mF(a)}):this.$mF(a)},$iF:function(a){for(var b=null,c=this.$pF;null!=c;)b=c,c=c.next;a=new rf(a);null!=b?b.next=a:
this.$pF=a},$jF:function(){var a=this.$oF;this.$oF=ra.$qF;return a},$kF:function(a){this.$oF=a;a=this.$pF;for(this.$pF=null;null!=a;)a.$TW(),a=a.next},$lF:function(a,b){if(b)a.$dF=this.$oF,this.$oF=a;else{for(var c=null,d=this.$oF;null!=d;)c=d,d=d.$dF;null!=c?c.$dF=a:this.$oF=a}},$mF:function(a){for(var b=null,c=this.$oF;null!=c;){if(c==a){a=c.$dF;null==b?this.$oF=a:b.$dF=a;break}b=c;c=c.$dF}},__class__:ra};var Q=function(a){ra.call(this,a)};f["kit.util.Signal0"]=Q;Q.__name__=["kit","util","Signal0"];
Q.__super__=ra;Q.prototype=p(ra.prototype,{connect:function(a,b){null==b&&(b=!1);return this.$gF(a,b)},emit:function(){var a=this;this.$oF==ra.$qF?this.$iF(function(){a.$rF()}):this.$rF()},$rF:function(){for(var a=this.$jF(),b=a;null!=b;)b.$eF(),b.stayInList||b.dispose(),b=b.$dF;this.$kF(a)},__class__:Q});var L=function(a){ra.call(this,a)};f["kit.util.Signal1"]=L;L.__name__=["kit","util","Signal1"];L.__super__=ra;L.prototype=p(ra.prototype,{connect:function(a,b){null==b&&(b=!1);return this.$gF(a,
b)},emit:function(a){var b=this;this.$oF==ra.$qF?this.$iF(function(){b.$rF(a)}):this.$rF(a)},$rF:function(a){for(var b=this.$jF(),c=b;null!=c;)c.$eF(a),c.stayInList||c.dispose(),c=c.$dF;this.$kF(b)},__class__:L});var Nb=function(){};f["gamecontainer.constants.GameEvents"]=Nb;Nb.__name__=["gamecontainer","constants","GameEvents"];var Fb=function(a){this.$xF=this.$yF=null;y.call(this);this.$vF=a;this.$wF=new q;this.movie=new sa(null);this.setCache(!0)};f["kit.movie.MoviePlayer"]=Fb;Fb.__name__=["kit",
"movie","MoviePlayer"];Fb.__super__=y;Fb.prototype=p(y.prototype,{get_entitySlot:function(){return 6},setCache:function(a){this.$$F=a?new O:null;return this},play:function(a,b){null==b&&(b=!0);if(b||null==this.$xF||this.$xF.symbol.$dK!=a)this.$xF=this.$sF(a);return this},onAdded:function(){this.owner.addChild(this.$wF)},onRemoved:function(){this.$wF.dispose();this.$xF=this.$yF=null;this.movie.set__(null)},onUpdate:function(a){null!=this.$xF&&this.$xF.$nK+a>this.$xF.symbol.duration&&(this.$xF=null,
this.$uF(this.$yF))},$sF:function(a){var b;null!=this.$$F?(b=this.$$F.get(a),null!=b?b.set_position(0):(b=this.$tF(a),this.$$F.set(a,b))):b=this.$tF(a);return this.$uF(b)},$tF:function(a){a=this.$vF.createSprite(a,!0);null!=this.$zF&&this.$zF(a);return a},$uF:function(a){this.$wF.add(a);return this.movie.set__(a)},__class__:Fb});var Mc=function(a){this.isComplete=!1;Fb.call(this,a);this.completeSignal=new Q;this.frameLabelSignal=new L;this.isComplete=!0};f["gamecontainer.display.movie.ExtendedMoviePlayer"]=
Mc;Mc.__name__=["gamecontainer","display","movie","ExtendedMoviePlayer"];Mc.__super__=Fb;Mc.prototype=p(Fb.prototype,{playOnce:function(a,b,c,d){null==d&&(d=!1);null==c&&(c=!1);null==b&&(b=!0);if(b||null==this.$xF||this.$xF.symbol.$dK!=a)c||(this.$yF=null),this.isComplete=!1,this.$xF=this.$sF(a),this.$xF.set_paused(d);return this},loop:function(a,b){null==b&&(b=!0);if(b||null==this.$yF||this.$yF.symbol.$dK!=a)null!=this.frameLabelSignalConnection&&this.frameLabelSignalConnection.dispose(),this.$xF=
null,this.$yF=this.$sF(a);return this},onUpdate:function(a){!this.isComplete&&null!=this.$xF&&this.$xF.$nK+a>this.$xF.symbol.duration&&(null==this.$yF?this.$xF.set_paused(!0):(this.$xF=null,this.$uF(this.$yF)),this.isComplete=!0,this.completeSignal.emit());Fb.prototype.onUpdate.call(this,a)},$uF:function(a){return null!=a?(this.$wF.add(a),this.movie.set__(a)):null},__class__:Mc});var Ya=function(a,b,c){this._idleKey=this._upKey=this._downKey=this._overKey=this._outKey=this._inactiveKey=this._inactiveDownKey=
this._highlightKey=this._upSound=this._downSound=this._overSound=this._outSound=this._inactiveSound=null;y.call(this);this._view=a;this._config=b;this._assetPack=c;this.properties=this._config.properties;this._isOver=!1;this.set_enabled(!0);this.up=new L;this.down=new L;this.over=new Q;this.out=new Q;this.upButton=new L;this.downButton=new L};f["gamecontainer.display.ui.UIBaseButton"]=Ya;Ya.__name__=["gamecontainer","display","ui","UIBaseButton"];Ya.__super__=y;Ya.prototype=p(y.prototype,{get_entitySlot:function(){return 23},
dispose:function(){this.out=this.over=this.down=this.up=null;this.set_enabled(!1);y.prototype.dispose.call(this)},goIdle:function(){},goInactive:function(){},onUp:function(a){this.enabled?(this.playSound(this._upSound),this.up.emit(a),this.upButton.emit(this)):this.playSound(this._inactiveSound)},onDown:function(a){this.enabled?(this.playSound(this._downSound),this.down.emit(a),this.downButton.emit(this)):this.playSound(this._inactiveSound)},onOver:function(a){this._isOver=!0;this.enabled&&(this.playSound(this._overSound),
this.over.emit())},onOut:function(a){this._isOver=!1;this.enabled&&(this.playSound(this._outSound),this.out.emit())},playSound:function(a){null==a||null==this._assetPack&&null==a.assetPack||G.playSound(a,null!=this._assetPack?this._assetPack:g.get_assets().assetPacks.get(a.assetPack).assetPack,!0)},onAdded:function(){null!=this._config&&(this._idleKey=this._config.clips.idle,this._upKey=this._config.clips.onUp,this._downKey=this._config.clips.onDown,this._overKey=this._config.clips.onOver,this._outKey=
this._config.clips.onOut,this._inactiveKey=this._config.clips.onInactive,this._inactiveDownKey=this._config.clips.onInactiveDown,this._highlightKey=this._config.clips.highlight,null!=this._config.sounds&&(this._upSound=this._config.sounds.onUp,this._downSound=this._config.sounds.onDown,this._overSound=this._config.sounds.onOver,this._outSound=this._config.sounds.onOut,this._inactiveSound=this._config.sounds.onInactive))},set_enabled:function(a){(this.enabled=a)?this.goIdle():this.goInactive();return a},
__class__:Ya});var Nc=function(a,b,c){Ya.call(this,a,b,c)};f["gamecontainer.display.ui.UIMovieButton"]=Nc;Nc.__name__=["gamecontainer","display","ui","UIMovieButton"];Nc.__super__=Ya;Nc.prototype=p(Ya.prototype,{goIdle:function(){this._isOver?null!=this._overKey?this.get_view().moviePlayer.playOnce(this._overKey):null!=this._idleKey&&this.get_view().moviePlayer.loop(this._idleKey):null!=this._idleKey&&this.get_view().moviePlayer.loop(this._idleKey)},goInactive:function(){this.enabled||null==this._inactiveKey||
this.get_view().moviePlayer.loop(this._inactiveKey)},onAdded:function(){Ya.prototype.onAdded.call(this);null!=this._config&&this.get_view().sprite.setXY(this._config.transform.position.x,this._config.transform.position.y);this.owner.addChild(this.get_view().entity);this.hitArea=new nb(0,w.getBounds(this.get_view().entity).width,w.getBounds(this.get_view().entity).height);this.get_hitArea().centerAnchor();this.get_hitArea().alpha.set__(0);this.get_view().entity.addChild((new q).add(this.get_hitArea()));
g.get_signals().addConnection(this.get_hitArea().get_pointerDown(),m(this,this.onDown));g.get_signals().addConnection(this.get_hitArea().get_pointerIn(),m(this,this.onOver));g.get_signals().addConnection(this.get_hitArea().get_pointerOut(),m(this,this.onOut))},onUp:function(a){this.enabled&&(null!=this._upKey?(this.get_view().moviePlayer.playOnce(this._upKey),g.get_signals().addConnection(this.get_view().moviePlayer.completeSignal,m(this,this.goIdle),!0)):this.goIdle());Ya.prototype.onUp.call(this,
a)},onDown:function(a){this.enabled?(this.get_view().sprite.get_pointerUp().hasListeners()||g.get_signals().addConnection(this.get_hitArea().get_pointerUp(),m(this,this.onUp),!0),null!=this._downKey&&this.get_view().moviePlayer.playOnce(this._downKey)):null!=this._inactiveDownKey&&this.get_view().moviePlayer.playOnce(this._inactiveDownKey,!0,!0);Ya.prototype.onDown.call(this,a)},onOver:function(a){this.enabled&&null!=this._overKey&&this.get_view().moviePlayer.loop(this._overKey);Ya.prototype.onOver.call(this,
a)},onOut:function(a){this.enabled&&(null!=this._outKey?(this.get_view().moviePlayer.playOnce(this._outKey),g.get_signals().addConnection(this.get_view().moviePlayer.completeSignal,m(this,this.goIdle),!0)):(this._isOver=!1,this.goIdle()));Ya.prototype.onOut.call(this,a)},Highlight:function(){this.enabled&&null!=this._highlightKey&&this.get_view().moviePlayer.playOnce(this._highlightKey,!0,!0)},get_view:function(){return T.__cast(this._view,Oc)},get_hitArea:function(){return this.hitArea},__class__:Nc});
var gc=function(a,b,c,d){null==d&&(d=1);this.currentProgress=0;this.progressTotal=100;y.call(this);this.position=new nb(13369344,0,0);this.backgroundBar=a;this.foregroundBar=b;this.progressText=c;this.steps=d};f["gamecontainer.display.ui.UIProgressBar"]=gc;gc.__name__=["gamecontainer","display","ui","UIProgressBar"];gc.__super__=y;gc.prototype=p(y.prototype,{get_entitySlot:function(){return 21},onStart:function(){this.owner.add(this.position);this.owner.addChild((new q).add(this.backgroundBar));this.owner.addChild((new q).add(this.foregroundBar));
null!=this.progressText&&(this.owner.addChild((new q).add(this.progressText)),this.progressText.set_align(ta.Center),this.progressText.setXY(this.backgroundBar.getNaturalWidth()/2,0));this.UpdateBar()},AddProgress:function(a){this.SetProgress(a*this.steps)},SetProgress:function(a){this.currentProgress=a;this.UpdateBar()},UpdateBar:function(){this.currentProgress>this.progressTotal&&(this.currentProgress=this.progressTotal);this.mask=new qa(0,0,this.GetAdjustWidth(),this.foregroundBar.getNaturalHeight());
this.foregroundBar.set_scissor(this.mask);null!=this.progressText&&this.progressText.set_text(""+this.currentProgress)},GetAdjustWidth:function(){return this.foregroundBar.getNaturalWidth()*(this.currentProgress/this.progressTotal)},__class__:gc});var Pc=function(a){u.call(this,a)};f["gamecontainer.display.ui.general.GameBorder"]=Pc;Pc.__name__=["gamecontainer","display","ui","general","GameBorder"];Pc.__super__=u;Pc.prototype=p(u.prototype,{onAdded:function(){u.prototype.onAdded.call(this);var a=
k.getAssert([this.config,"display","left"],"[GameBorder] Cannot find left game border display key."),b=k.getAssert([this.config,"display","right"],"[GameBorder] Cannot find right game border display key."),c=k.getAssert([this.config,"display","top"],"[GameBorder] Cannot find top game border display key."),d=k.getAssert([this.config,"display","bottom"],"[GameBorder] Cannot find bottom game border display key."),a=new da(Ga.getTexture("main",a)),b=new da(Ga.getTexture("main",b)),c=new da(Ga.getTexture("main",
c)),d=new da(Ga.getTexture("main",d));a.setAnchor(0,a.texture.get_height()/2);b.setAnchor(b.texture.get_width(),b.texture.get_height()/2);c.setAnchor(c.texture.get_width()/2,0);d.setAnchor(d.texture.get_width()/2,d.texture.get_height());a.setXY(0,g.get_config().center.y);b.setXY(g.get_config().target.x,g.get_config().center.y);c.setXY(g.get_config().center.x,0);d.setXY(g.get_config().center.x,g.get_config().target.y);this.owner.addChild((new q).add(a));this.owner.addChild((new q).add(b));this.owner.addChild((new q).add(c));
this.owner.addChild((new q).add(d))},__class__:Pc});var Qc=function(a){this.complete=new Q;u.call(this,a)};f["gamecontainer.display.ui.general.ScreenTransition"]=Qc;Qc.__name__=["gamecontainer","display","ui","general","ScreenTransition"];Qc.__super__=u;Qc.prototype=p(u.prototype,{onAdded:function(){u.prototype.onAdded.call(this);this._introKey=k.getAssert([this.config,"display","intro"],"[ScreenTransition] Cannot find screen transition intro display key.");this._outroKey=k.getAssert([this.config,
"display","outro"],"[ScreenTransition] Cannot find screen transition outro display key.");this._sfxConfig=k.get([this.config,"sounds","sfx"]);this.display=g.get_factory().makeMoviePlayer("main",this._introKey,!1,!0,!0);this.owner.addChild(this.get_display().entity);var a=k.getElse([this.config,"transform","position"],{x:0,y:0});this.get_display().sprite.setXY(a.x,a.y);this.get_display().sprite.set_visible(!1)},playIntro:function(){var a=this;g.get_signals().addConnection(this.get_display().moviePlayer.completeSignal,
function(){a.get_display().sprite.set_visible(!1);a.get_display().sprite.set_pointerEnabled(!1);a.complete.emit()},!0);this.playTransition(this._introKey)},playOutro:function(){var a=this;g.get_signals().addConnection(this.get_display().moviePlayer.completeSignal,function(){a.get_display().sprite.set_pointerEnabled(!1);a.complete.emit()},!0);this.playTransition(this._outroKey)},playTransition:function(a){this.get_display().sprite.set_visible(!0);this.get_display().sprite.set_pointerEnabled(!0);this.get_display().moviePlayer.playOnce(a);
G.playSoundWithFolder(this._sfxConfig)},__class__:Qc});var Rc=function(a,b){null==b&&(b=!1);this.skipped=new Q;this.complete=new Q;y.call(this);this._name=a;this._isSkippable=b;this._stages=[]};f["gamecontainer.display.ui.tutorial.Tutorial"]=Rc;Rc.__name__=["gamecontainer","display","ui","tutorial","Tutorial"];Rc.__super__=y;Rc.prototype=p(y.prototype,{get_entitySlot:function(){return 22},onAdded:function(){y.prototype.onAdded.call(this);this._skipBtn=g.get_factory().makeLocalizedButton("skipButton",
"BTN_SKIP");this._skipBtn.get_view().sprite.set_visible(!1);this.owner.addChild((new q).add(this._skipBtn));g.get_signals().addConnection(this._skipBtn.down,m(this,this.onSkipBtnDown),!0)},dispose:function(){for(g.get_signals().removeConnection(this._skipBtn.down,m(this,this.onSkipBtnDown));0<this._stages.length;)this._stages[0].dispose(),this._stages.splice(0,1);this._stages=null;y.prototype.dispose.call(this)},start:function(){this._skipBtn.get_view().sprite.set_visible(this._isSkippable);this.startCurrentStage()},
addStage:function(a,b){null==b&&(b=!1);this._isComplete||(b?this._currentStage=a:this._stages.push(a))},playNextStage:function(){this._isComplete||(0<this._stages.length?(this._currentStage.owner.dispose(),this._currentStage=this._stages.shift(),this.startCurrentStage()):(this._isComplete=!0,this.complete.emit(),this.owner.dispose()))},startCurrentStage:function(){null!=this._currentStage?(g.get_signals().addConnection(this._currentStage.complete,m(this,this.playNextStage),!0),this.owner.addChild((new q).add(this._currentStage)),
this._currentStage.start()):this.playNextStage()},onSkipBtnDown:function(a){this.skipped.emit();this._isComplete=!0;this._currentStage.owner.dispose();g.get_sounds().stopAllChannelSounds("VO");this.complete.emit();this.owner.dispose()},__class__:Rc});var yb=function(a){this.exitComplete=new Q;this.enterComplete=new Q;u.call(this,a)};f["gamecontainer.display.ui.tutorial.TutorialMovie"]=yb;yb.__name__=["gamecontainer","display","ui","tutorial","TutorialMovie"];yb.__super__=u;yb.prototype=p(u.prototype,
{onAdded:function(){u.prototype.onAdded.call(this);this.setAnimationKeys();this.display=g.get_factory().makeMoviePlayer("gameShared",this._idleKey,!0,!0,!0);this.owner.addChild(this.get_display().entity);var a=k.getElse([this.config,"transform","position","x"],0),b=k.getElse([this.config,"transform","position","y"],0);this.get_display().sprite.setXY(a,b);this.get_display().sprite.set_visible(!1);this.get_display().sprite.set_pointerEnabled(!1)},dispose:function(){this.exitComplete=this.enterComplete=
null;u.prototype.dispose.call(this)},playEnter:function(){g.get_signals().addConnection(this.get_display().moviePlayer.completeSignal,(W=this.enterComplete,m(W,W.emit)),!0);this.get_display().moviePlayer.playOnce(this._enterKey);this.get_display().sprite.set_visible(!0)},playExit:function(){g.get_signals().addConnection(this.get_display().moviePlayer.completeSignal,(W=this.exitComplete,m(W,W.emit)),!0);this.get_display().moviePlayer.playOnce(this._exitKey);this.get_display().sprite.set_visible(!0)},
playIdle:function(){this.get_display().moviePlayer.loop(this._idleKey);this.get_display().sprite.set_visible(!0)},setAnimationKeys:function(){var a=k.getAssert([this.config,"display",ia.isMobile()?"mobile":"desktop"],"[TutorialMovie] Cannot Find displayConfig");this._idleKey=k.getAssert([a,"primary"],"[TutorialMovie] Cannot find tutorial movie primary key.");this._enterKey=k.getAssert([a,"enter"],"[TutorialMovie] Cannot find tutorial movie enter key.");this._exitKey=k.getAssert([a,"exit"],"[TutorialMovie] Cannot find tutorial movie exit key.")},
__class__:yb});var C=function(a,b){this._isDisposed=!1;this.complete=new Q;u.call(this,a);this._tutorialContext=b};f["gamecontainer.display.ui.tutorial.TutorialStage"]=C;C.__name__=["gamecontainer","display","ui","tutorial","TutorialStage"];C.instantiate=function(a,b,c){a=V.resolveClass(a);return V.createInstance(a,[b,c])};C.__super__=u;C.prototype=p(u.prototype,{start:function(){},end:function(){this.complete.emit()},dispose:function(){this._isDisposed=!0;u.prototype.dispose.call(this)},__class__:C});
var Qa=function(){y.call(this);this.tapThreshold=0.75;this.deltaPosition=new A;this.signalConnectionMap=new O};f["gamecontainer.input.IInput"]=Qa;Qa.__name__=["gamecontainer","input","IInput"];Qa.__super__=y;Qa.prototype=p(y.prototype,{get_entitySlot:function(){return 14},onStart:function(){y.prototype.onStart.call(this);this.isTouchSupported=r.$MH.$rG.get_supported()},onRemoved:function(){this.ResetSignalConnections()},ResetSignalConnections:function(){for(var a,b=this.signalConnectionMap.keys();b.hasNext();){var c=
b.next();a=this.signalConnectionMap.get(c);a.dispose();this.signalConnectionMap.remove(c)}},__class__:Qa});var Ca=function(){Qa.call(this);this.keysPressed=[];this.keysRequested=new O;this.keysUpRequested=[];this.keysUpRequestedFrame=[];this.getKeysPressed=new O;this.onKeyPressed=new L;this.getKeysUpPressed=new O;this.checkKeyDown=[];for(var a=this.pastFrame=this.currentFrame=0,b=V.allEnums(e);a<b.length;){var c=b[a];++a;this.getKeysPressed.set(D.string(c),!1);this.getKeysUpPressed.set(D.string(c),
!1)}};f["gamecontainer.input.InputKeyboard"]=Ca;Ca.__name__=["gamecontainer","input","InputKeyboard"];Ca.__super__=Qa;Ca.prototype=p(Qa.prototype,{getOnDown:function(a){r.$MH.getKeyboard().isDown(a)?(this.getKeysPressed.set(D.string(a),!1),this.keysRequested.exists(D.string(a))||this.keysRequested.set(D.string(a),this.currentFrame),this.keysRequested.get(D.string(a))==this.currentFrame&&(this.getKeysPressed.set(D.string(a),!0),this.getKeysUpPressed.set(D.string(a),!0))):(this.keysRequested.exists(D.string(a))&&
this.keysRequested.remove(D.string(a)),this.getKeysPressed.set(D.string(a),!1));return this.getKeysPressed.get(D.string(a))},getOnPressed:function(a){return r.$MH.getKeyboard().isDown(a)},onUpdate:function(a){Qa.prototype.onUpdate.call(this,a);!1==this.keysRequested.keys().hasNext()&&0==this.keysUpRequested.length?this.currentFrame=0:this.currentFrame++;if(0<this.keysPressed.length){a=0;for(var b=this.keysPressed.length;a<b;){var c=a++;r.$MH.getKeyboard().isDown(this.keysPressed[c])&&this.onKeyPressed.emit(this.keysPressed[c])}}},
__class__:Ca});var La=function(){Qa.call(this);this.onMousePressed=new L;this.mousePosition=new A;this.isUp=!0;this.currentFrame=this.pastDelta=this.deltaTime=this.tapDelta=this.tapCount=0;this.pastFrame=-1;this.pastDeltaPos=new A;this.swipeStart=new A;this.screenCenter=new A};f["gamecontainer.input.InputMouse"]=La;La.__name__=["gamecontainer","input","InputMouse"];La.__super__=Qa;La.prototype=p(Qa.prototype,{onStart:function(){Qa.prototype.onStart.call(this);this.screenCenter.set(r.$MH.$qG.get_width()/
2,r.$MH.$qG.get_height()/2);r.$MH.$rG.get_supported()&&(this.touches=r.$MH.$rG.get_points(),this.touch=r.$MH.$rG)},onUpdate:function(a){Qa.prototype.onUpdate.call(this,a);this.deltaTime=a;r.$MH.$rG.get_supported()&&(this.touches=r.$MH.$rG.get_points());r.$MH.$oG.isDown()?this.currentFrame++:this.currentFrame=0;this.deltaPosition.set(r.$MH.$oG.get_x()-this.pastDeltaPos.x,r.$MH.$oG.get_y()-this.pastDeltaPos.y);this.pastDeltaPos.set(r.$MH.$oG.get_x(),r.$MH.$oG.get_y());r.$MH.$oG.isDown()&&(this.mousePosition.set(r.$MH.$oG.get_x(),
r.$MH.$oG.get_y()),this.onMousePressed.emit(this.mousePosition))},__class__:La});var sf=function(){this.set_getManifestFuncPtr(m(this,this.defaultGetManifest))};f["gamecontainer.managers.AssetPackManager"]=sf;sf.__name__=["gamecontainer","managers","AssetPackManager"];sf.prototype={set_getManifestFuncPtr:function(a){return null==a?this.getManifestFuncPtr=m(this,this.defaultGetManifest):this.getManifestFuncPtr=a},loadMappedAsset:function(a,b){var c=this,d=this.getManifestFuncPtr(a),d=r.$MH.loadAssetPack(d);
d.then(function(d){null==c.assetPacks&&(c.assetPacks=new O);var l=new tf;l.assetPack=d;null!=d.getFile("atlas/library.json",!1)&&(l.library=new uf(d,"atlas"));null!=b&&l.SetConfigData(JSON.parse(d.getFile(b).toString()));c.assetPacks.set(a,l)});return d},unloadMappedAsset:function(a){this.assetPacks.get(a).dispose();this.assetPacks.remove(a)},setCurrentAssetPackVO:function(a){if(!g.get_assets().assetPacks.exists(a))throw new v("[GameModel] Cannot set current asset pack VO. Asset pack not found.");
this.currentAssetPackName=a;this.currentAssetPackVO=g.get_assets().assetPacks.get(a)},defaultGetManifest:function(a){return Ra.fromAssets(a)},__class__:sf};var vf=function(){};f["gamecontainer.managers.GameConfig"]=vf;vf.__name__=["gamecontainer","managers","GameConfig"];vf.prototype={init:function(a){this.mainConfigAssets=k.getAssert([a,"assets"],"[GameModel] Cannot find 'main/config.json::assets'.");this.mainConfigVariables=k.getAssert([a,"variables"],"[GameModel] Cannot find 'main/config.json::variables'.");
this.mainConfigSounds=k.getAssert([a,"sounds"],"[GameModel] Cannot find 'main/config.json::sounds'.");this.name=k.getElse([this.mainConfigVariables,"name"],"");this.version=k.getElse([this.mainConfigVariables,"version"],"");a=k.getElse([this.mainConfigVariables,"target","x"],960);var b=k.getElse([this.mainConfigVariables,"target","y"],560);this.target=new A(a,b);this.center=new A(this.target.x/2,this.target.y/2);a=k.getElse([this.mainConfigVariables,"innerRect","x"],0);var b=k.getElse([this.mainConfigVariables,
"innerRect","y"],0),c=k.getElse([this.mainConfigVariables,"innerRect","width"],this.target.x),d=k.getElse([this.mainConfigVariables,"innerRect","height"],this.target.y);this.innerRect=new qa(a,b,c,d);this.disableVO=k.getElse([this.mainConfigVariables,"disableVO"],!1);this.disableCutscenes=k.getElse([this.mainConfigVariables,"disableCutscenes"],!1);this.initialScene=k.getElse([this.mainConfigVariables,"initialScene"],{name:null,autoStart:!1});this.scenes=new O;a=k.getAssert([this.mainConfigVariables,
"sceneMap"],"SCENEMAP IS MISSING");b=0;for(c=M.fields(a);b<c.length;){d=c[b];++b;var h=M.field(a,d),l=new wf;l.classPath=k.getAssert([h,"classPath"],d+" CLASS PATH IS MISSING.");l.primaryAssetPack=k.getElse([h,"primaryAssetPack"],0);l.allowDeepLink=k.getElse([h,"allowDeepLink"],!1);for(var e=0,g=h.assetPacks.length;e<g;){var f=e++;l.assetPacks.push(h.assetPacks[f])}this.scenes.set(d,l)}this.buttonMap=k.getElse([this.mainConfigAssets,"buttonMap"],{});this.fontConfig=k.getElse([this.mainConfigAssets,
"font"],null);r.$MH.getExternal().call("console.log",["["+this.name+"] v"+this.version]);this.userData=new O;a=k.getElse([this.mainConfigVariables,"userData"],{});b=0;for(c=M.fields(a);b<c.length;)d=c[b],++b,this.userData.set(d,M.field(a,d))},__class__:vf};var Pg=function(){};f["gamecontainer.managers._GameManager.GameManagerLock"]=Pg;Pg.__name__=["gamecontainer","managers","_GameManager","GameManagerLock"];var g=function(a){this._config=new vf;this._assets=new sf;this._scenes=new xf;this._resize=
new yf;this._storage=new zf;this._sounds=new Af;this._signals=new Sc;this._factory=new Bf;this._deeplinker=new hc};f["gamecontainer.managers.GameManager"]=g;g.__name__=["gamecontainer","managers","GameManager"];g.get_instance=function(){null==g.instance&&(g.instance=new g(Pg));return g.instance};g.get_config=function(){return g.get_instance()._config};g.get_assets=function(){return g.get_instance()._assets};g.get_scenes=function(){return g.get_instance()._scenes};g.get_resize=function(){return g.get_instance()._resize};
g.get_storage=function(){return g.get_instance()._storage};g.get_signals=function(){return g.get_instance()._signals};g.get_sounds=function(){return g.get_instance()._sounds};g.get_factory=function(){return g.get_instance()._factory};g.get_root=function(){return g.get_instance()._root};g.get_screenTransition=function(){return g.get_instance()._screenTransition};g.prototype={init:function(a,b){this._root=(new q).add(new w);this._container=new q;this._root.addChild(this._container);this._config.init(a);
this._storage.init(this._config.name,this._config.version);this._resize.init(this._root,b,this._config.target);var c=k.get([this._config.mainConfigAssets,"screenTransition"]);null!=c&&(this._screenTransition=new Qc(c),this._root.addChild((new q).add(this._screenTransition)));c=k.get([this._config.mainConfigAssets,"gameBorder"]);null!=c&&(this._gameBorder=new Pc(c),this._root.addChild((new q).add(this._gameBorder)));c=this._deeplinker.getSceneName(this._config.scenes);this._scenes.init(this._container,
c)},__class__:g};var Za=f["gamecontainer.managers.ResizeBy"]={__ename__:["gamecontainer","managers","ResizeBy"],__constructs__:["WIDTH","HEIGHT"]};Za.WIDTH=["WIDTH",0];Za.WIDTH.toString=n;Za.WIDTH.__enum__=Za;Za.HEIGHT=["HEIGHT",1];Za.HEIGHT.toString=n;Za.HEIGHT.__enum__=Za;Za.__empty_constructs__=[Za.WIDTH,Za.HEIGHT];var yf=function(){this.onResize=new Q};f["gamecontainer.managers.ResizeManager"]=yf;yf.__name__=["gamecontainer","managers","ResizeManager"];yf.prototype={init:function(a,b,c,d){r.$MH.$qG.resize.connect(m(this,
this.resize));this.canvas=a;this.type=null==b?Za.WIDTH:b;this.target=null==c?new A(r.$MH.$qG.get_width(),r.$MH.$qG.get_height()):c;this.offset=null==d?new A:d;this.bounds=new qa(0,0,this.target.x,this.target.y);this.resize()},toScreenSpace:function(a,b){return new A((a-this.offset.x)/this.scale,(b-this.offset.y)/this.scale)},resize:function(){switch(this.type[1]){case 0:this.scale=aa.min(r.$MH.$qG.get_width()/this.target.x,r.$MH.$qG.get_height()/this.target.y);break;case 1:this.scale=r.$MH.$qG.get_height()/
this.target.y}this.offset.x=(r.$MH.$qG.get_width()-this.target.x*this.scale)/2;this.offset.y=(r.$MH.$qG.get_height()-this.target.y*this.scale)/2;this.canvas.$fG[1].setScale(this.scale).setXY(this.offset.x,this.offset.y);this.view=new qa(Math.abs(this.offset.x),Math.abs(this.offset.y),this.target.x-2*Math.abs(this.offset.x),this.target.y-2*Math.abs(this.offset.y));this.canvas.$fG[1].set_scissor(this.bounds);this.onResize.emit()},__class__:yf};var xf=function(){this.firstLoad=!0;this.director=new Tc;
this.currentAssetPacks=[]};f["gamecontainer.managers.SceneManager"]=xf;xf.__name__=["gamecontainer","managers","SceneManager"];xf.prototype={init:function(a,b){this.container=a;var c=(new q).add(new w).add(this.director);this.container.addChild(c);var c=k.getElse([b,"name"],null),d=k.getElse([b,"autoStart"],!1);null!=c&&d&&this.changeScene(c)},changeScene:function(a,b){null==b&&(b=!1);var c=b;if(!b)for(var d=0,h=g.get_config().scenes.get(a).assetPacks.length;d<h;){for(var l=d++,e=!1,f=0,k=this.currentAssetPacks.length;f<
k;){var m=f++;g.get_config().scenes.get(a).assetPacks[l].name==this.currentAssetPacks[m]&&(e=!0)}if(!e){c=!0;break}}c?this.loadAssets(a):(g.get_sounds().destroySoundChannels(),g.get_signals().dumpConnections(),this.loadScene(a))},loadAssets:function(a){var b=this;this._sceneName=a;g.get_sounds().destroySoundChannels();g.get_signals().dumpConnections();for(var c=0,d=this.currentAssetPacks.length;c<d;){var h=c++;g.get_assets().unloadMappedAsset(this.currentAssetPacks[h])}this.currentAssetPacks=[];g.get_signals().addConnection(Nb.beginLoaderSetup,
m(this,this.onBeginLoaderSetup),!0);g.get_signals().addConnection(this.showLoadScene(null).onComplete,function(){b.loadScene(a)},!0)},onBeginLoaderSetup:function(){for(var a=[],b=0,c=g.get_config().scenes.get(this._sceneName).assetPacks.length;b<c;){var d=b++;a.push(g.get_assets().loadMappedAsset(g.get_config().scenes.get(this._sceneName).assetPacks[d].name,g.get_config().scenes.get(this._sceneName).assetPacks[d].config));this.currentAssetPacks.push(g.get_config().scenes.get(this._sceneName).assetPacks[d].name)}Nb.startLoadingAssets.emit(a)},
showLoadScene:function(a){var b=g.get_config().scenes.get("loading");this.currentSceneName="loading";var c=b.assetPacks[b.primaryAssetPack].name;Uc.that(null!=V.resolveClass(b.classPath),"RESOLVE CLASS IS RETURNING NULL, IS THE SCENE YOU ARE LOADING IMPORTED IN THE SCENE MANAGER?\n                    (@:keep is also needed in front of contructor of class you are loading)",null);a=V.createInstance(V.resolveClass(b.classPath),[c,a]);this.director.unwindToScene(a);this.firstLoad=!1;return a},loadScene:function(a){var b=
g.get_config().scenes.get(a);this.currentSceneName=a;var c=b.assetPacks[b.primaryAssetPack].name;Uc.that(null!=V.resolveClass(b.classPath),"RESOLVE CLASS IS RETURNING NULL, IS THE SCENE YOU ARE LOADING IMPORTED IN THE SCENE MANAGER?\n                    (@:keep is also needed in front of contructor of class you are loading)",null);b=V.createInstance(V.resolveClass(b.classPath),[c]);b.sceneName=a;this.director.unwindToScene(b)},__class__:xf};var Sc=function(){this._map=new Sa};f["gamecontainer.managers.SignalConnectionManager"]=
Sc;Sc.__name__=["gamecontainer","managers","SignalConnectionManager"];Sc.__interfaces__=[Pa];Sc.prototype={addConnection:function(a,b,c){null==c&&(c=!1);this.removeConnection(a,b);this._map.exists(a)||this._map.set(a,new Sa);c?this._map.get(a).set(b,a.connect(b).once()):this._map.get(a).set(b,a.connect(b));return a},removeConnection:function(a,b){this._map.exists(a)&&this._map.get(a).exists(b)&&(this._map.get(a).get(b).dispose(),this._map.get(a).remove(b),this._map.get(a).keys().hasNext()||this._map.remove(a))},
dumpConnections:function(){for(var a=this._map.keys();a.hasNext();){for(var b=a.next(),c=this._map.get(b).keys();c.hasNext();){var d=c.next();this._map.get(b).get(d).dispose();this._map.get(b).remove(d)}this._map.remove(b)}this._map=new Sa},dispose:function(){this.dumpConnections();this._map=null},__class__:Sc};var Af=function(){};f["gamecontainer.managers.SoundManager"]=Af;Af.__name__=["gamecontainer","managers","SoundManager"];Af.prototype={createAll:function(a){null==this._channels&&(this._channels=
new O);for(var b=0,c=a.channels.length;b<c;){var d=b++;if(this._channels.exists(a.channels[d].name)){var h=this._channels.get(a.channels[d].name);if(null!=a.channels[d].sounds&&0<a.channels[d].sounds.length)for(var l=0,e=a.channels[d].sounds.length;l<e;){var g=l++;h.hasSound(a.channels[d].sounds[g].soundname)||h.createAndAddSound(a.channels[d].sounds[g])}}else d=new pf(a.channels[d].name,a.channels[d].volume,a.channels[d].pan,a.channels[d].sounds,a.channels[d].singleTrack),h=d.getName(),this._channels.set(h,
d)}},playSoundByConfig:function(a,b,c,d){null==c&&(c=!0);var h=this;switch(a.playbackType){case "Random":return this.playSound(a.soundname[Math.floor(Math.random()*a.soundname.length)],b,c,d);case "All":for(var l=0,e=a.soundname.length;l<e;){var g=l++;this.playSound(a.soundname[g],b,c,d)}break;case "Normal":return this.playSound(a.soundname,b,c,d);case "Sequence":var f=0,k=null,k=function(l){f++;f<a.soundname.length?h.playSound(a.soundname[f],b,c,k):null!=d&&d(l)};return this.playSound(a.soundname[f],
b,c,k);case "Cycle":if(null==a.index||a.index>=a.soundname.length)a.index=0;if(this.playSound(a.soundname[T.__cast(a.index,Qg)],b,c,d)||""==a.soundname[T.__cast(a.index,Qg)])return a.index++,!0;break;default:return this.playSound(a.soundname,b,c,d)}return!1},playSound:function(a,b,c,d){null==c&&(c=!0);if(null!=this._channels)for(var h=this._channels.iterator();h.hasNext();){var l=h.next();if(l.hasSound(a)){if(!g.get_config().disableVO||"VO"!=l.getName()&&"mainVO"!=l.getName())return l.playSound(a,
b,c,d);null!=d&&d(a);return null}}return!1},stopSound:function(a){if(null!=this._channels)for(var b=this._channels.iterator();b.hasNext();){var c=b.next();c.hasSound(a)&&c.stopSound(a)}},stopAllChannelSounds:function(a){null!=this._channels&&this._channels.exists(a)&&this._channels.get(a).stopAllSounds()},destroySoundChannels:function(){if(null!=this._channels){for(var a=this._channels.iterator();a.hasNext();)a.next().destroy();this._channels=null}},__class__:Af};var zf=function(){};f["gamecontainer.managers.StorageManager"]=
zf;zf.__name__=["gamecontainer","managers","StorageManager"];zf.prototype={init:function(a,b){var c=this;this._storageKey=a+"_"+b;r.$MH.getLocalStorage().get(this._storageKey,{}).then(function(a){c.data=a})},getData:function(){return this.data},save:function(a){null!=a&&r.$MH.getLocalStorage().set(this._storageKey,a)},__class__:zf};var db=function(a){null==a&&(a=!0);y.call(this);this.opaque=a;this.shown=new Q;this.hidden=new Q};f["kit.scene.Scene"]=db;db.__name__=["kit","scene","Scene"];db.__super__=
y;db.prototype=p(y.prototype,{get_entitySlot:function(){return 8},__class__:db});var ob=function(){db.call(this)};f["gamecontainer.scenes.BaseScene"]=ob;ob.__name__=["gamecontainer","scenes","BaseScene"];ob.__super__=db;ob.prototype=p(db.prototype,{onAdded:function(){db.prototype.onAdded.call(this);this._gamePaused=!1;this.layerEntity=new q;this.layerSprite=new w;this.layerEntity.add(this.layerSprite);this.maingroundEntity=new q;this.backgroundEntity=new q;this.foregroundEntity=new q;this.overlayEntity=
new q;this.uiEntity=new q;this.layerEntity.addChild(this.backgroundEntity);this.layerEntity.addChild(this.maingroundEntity);this.layerEntity.addChild(this.foregroundEntity);this.layerEntity.addChild(this.overlayEntity);this.owner.addChild(this.layerEntity);this.owner.addChild(this.uiEntity)},onStart:function(){db.prototype.onStart.call(this)},LoadConfigValues:function(a){this.configVariables=g.get_assets().assetPacks.get(a).configVariables;this.configSounds=g.get_assets().assetPacks.get(a).configSounds;
this.configAssets=g.get_assets().assetPacks.get(a).configAssets},__class__:ob});var zb=function(a,b){this.packsLoaded=this.currentProgress=0;db.call(this);this.assetPackName=a;this.onComplete=new Q;this.loader=b};f["gamecontainer.scenes.BaseLoadingScene"]=zb;zb.__name__=["gamecontainer","scenes","BaseLoadingScene"];zb.__super__=ob;zb.prototype=p(ob.prototype,{onAdded:function(){ob.prototype.onAdded.call(this);this.LoadConfigValues(this.assetPackName);this.ConstructDisplay()},ConstructDisplay:function(){},
OnPackLoaded:function(a){this.packsLoaded++;this.packsLoaded==this.loader.length&&this.foregroundEntity.addChild(oa.delay(1,m(this,this.onLoadComplete)))},onLoadComplete:function(){this.onComplete.emit()},__class__:zb});var ic=function(a){this.complete=new Q;u.call(this,a);this._isComplete=!1};f["gamecontainer.scenes.cutscenes.Cutscene"]=ic;ic.__name__=["gamecontainer","scenes","cutscenes","Cutscene"];ic.__super__=u;ic.prototype=p(u.prototype,{onAdded:function(){u.prototype.onAdded.call(this);var a=
k.getAssert([this.config,"shots"],"[Cutscene] Cannot find cutscene shot list."),b=k.get([this.config,"background","display","primary"]);null!=b&&this.owner.addChild((new q).add(new da(Ga.getTexture(g.get_assets().currentAssetPackName,b))));this._shots=[];for(var b=0,c=a.length;b<c;){var d=b++;this._shots.push(new Vc(a[d]))}this._shotContainer=new q;this.owner.addChild(this._shotContainer);this.setupCurrentShot()},dispose:function(){for(;0<this._shots.length;)this._shots[0].dispose(),this._shots.shift();
this._currentShot=null;u.prototype.dispose.call(this)},play:function(){null!=this._currentShot?this.playCurrentShot():this.playNextShot()},skip:function(){g.get_signals().addConnection(this._currentShot.complete,m(this,this.playNextShot));this._currentShot.stop();this._isComplete=!0;this.complete.emit()},playNextShot:function(){0<this._shots.length?(null!=this._currentShot&&this._currentShot.owner.dispose(),this.setupCurrentShot(),this.playCurrentShot()):(this._isComplete=!0,this.complete.emit())},
playCurrentShot:function(){g.get_signals().addConnection(this._currentShot.complete,m(this,this.playNextShot),!0);this._currentShot.play()},setupCurrentShot:function(){this._currentShot=this._shots.shift();this._shotContainer.addChild((new q).add(this._currentShot),!1)},__class__:ic});var Vc=function(a){this.complete=new Q;u.call(this,a);this._isComplete=!1};f["gamecontainer.scenes.cutscenes.CutsceneShot"]=Vc;Vc.__name__=["gamecontainer","scenes","cutscenes","CutsceneShot"];Vc.__super__=u;Vc.prototype=
p(u.prototype,{onAdded:function(){u.prototype.onAdded.call(this);this._movieKey=k.getAssert([this.config,"movie","display","primary"],"[CutsceneShot] Cannot find primary movie key for cutscene shot.");this._voConfig=k.get([this.config,"sounds","vo"]);this._speedAdjuster=new Eb(0);this.owner.add(this._speedAdjuster);var a=k.get([this.config,"background","display","primary"]);null!=a&&this.owner.addChild((new q).add(new da(Ga.getTexture(g.get_assets().currentAssetPackName,a))));this.display=g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,
this._movieKey,!1);this.owner.addChild(this.get_display().entity);this.get_display().sprite.setXY(g.get_config().center.x,g.get_config().center.y)},play:function(){this._speedAdjuster.scale.set__(1);g.get_signals().addConnection(this.get_display().moviePlayer.completeSignal,m(this,this.onMovieComplete),!0);this.get_display().moviePlayer.playOnce(this._movieKey);G.playSoundWithFolder(this._voConfig)},stop:function(){this._isComplete=!0;this._speedAdjuster.scale.set__(0)},onMovieComplete:function(){this.stop();
this.complete.emit()},__class__:Vc});var hc=function(){};f["gamecontainer.utils.DeepLinker"]=hc;hc.__name__=["gamecontainer","utils","DeepLinker"];hc.getQueryStringParameter=function(a){var b=(window.location!=window.parent.location?window.document.referrer:window.document.location.href).split("?");if(2==b.length&&(b=b[1].split("&"),0<b.length))for(var c=0,d=b.length;c<d;){var h=c++,h=b[h].split("=");if(2==h.length&&h[0]==a)return h[1]}return null};hc.prototype={getSceneName:function(a){var b=hc.getQueryStringParameter("game");
(null!=ja[b]?a.existsReserved(b):a.h.hasOwnProperty(b))&&(null!=ja[b]?a.getReserved(b):a.h[b]).allowDeepLink&&(g.get_config().initialScene.name=b);return g.get_config().initialScene},__class__:hc};var Ga=function(){};f["gamecontainer.utils.DisplayUtils"]=Ga;Ga.__name__=["gamecontainer","utils","DisplayUtils"];Ga.getTexture=function(a,b){return g.get_assets().assetPacks.get(a).getTexture("images/"+b)};var vg=function(){};f["gamecontainer.utils.FormatUtils"]=vg;vg.__name__=["gamecontainer","utils",
"FormatUtils"];vg.fixSoundNames=function(a){if(null!=a)for(var b=0,c=a.length;b<c;){var d=b++;X.startsWith(a[d],"audio/")||""==a[d]||(a[d]="audio/"+a[d])}return a};var Bf=function(){};f["gamecontainer.utils.GameFactory"]=Bf;Bf.__name__=["gamecontainer","utils","GameFactory"];Bf.prototype={makeMoviePlayer:function(a,b,c,d,h){null==h&&(h=!1);null==d&&(d=!0);null==c&&(c=!0);Uc.that(g.get_assets().assetPacks.exists(a)&&null!=g.get_assets().assetPacks.get(a).library,"THE ASSET PACK YOUR TRYING TO USE DOESN'T EXIST OR DOESN'T HAVE A FLUMP LIBRARY",
null);var l=g.get_assets().assetPacks.get(a);a=new Oc;var e=new q,f=new w;e.add(f);var k=new q;e.addChild(k);l=new Mc(l.library);c?l.loop(b):d&&l.playOnce(b,!0,!1,h);k.add(l);a.entity=e;a.sprite=f;a.moviePlayer=l;return a},makeButton:function(a){a=k.getAssert([g.get_config().buttonMap,a],"[GameFactory] Cannot find button '"+a+"' in button map.");return new Nc(this.makeMoviePlayer("main",k.get([a,"clips","idle"]),!0),a,g.get_assets().assetPacks.get("main").assetPack)},makeLocalizedButton:function(a,
b){var c=this.makeButton(a),d=(null==Ha.instance?Ha.instance=new Ha:Ha.instance).createAndProcessTextSprite(b,g.get_assets().assetPacks.get("main").assetPack,0,0,1);d.set_align(ta.Center);d.set_pointerEnabled(!1);d.setXY(c.get_view().sprite.getNaturalWidth()*c.get_view().sprite.scaleX.get__()*0.5+d.x.$HH,c.get_view().sprite.getNaturalHeight()*c.get_view().sprite.scaleY.get__()*0.5-d.getNaturalHeight()*d.scaleY.$HH*0.5+d.y.$HH);var h=d.x;h.set__(h.$HH-7);h=d.y;h.set__(h.$HH-43);c.get_view().entity.addChild((new q).add(d));
return c},makeTutorial:function(a,b,c,d){null==d&&(d=!1);a=new Rc(a,d);d=k.getElse([b,"length"],0);if(0<d)for(var h=0;h<d;){var l=h++,e=k.getAssert([b[l],"variables","classPath"],"[GameFactory] Cannot find tutorial class path.");a.addStage(C.instantiate(e,b[l],c),0==l)}return a},makeFont:function(){return new Gb(g.get_assets().assetPacks.get("main").assetPack,k.getAssert([g.get_config().fontConfig,"variables","name"],"[GameFactory] Cannot find name in font config."))},__class__:Bf};var oa=function(){};
f["gamecontainer.utils.GameUtils"]=oa;oa.__name__=["gamecontainer","utils","GameUtils"];oa.delay=function(a,b){var c=new Wc(a,b);return(new q).add(c)};oa.tween=function(a,b,c,d,h){a=new Xc(a,a.$HH,b,c,d,h);return(new q).add(a)};var Yc=function(){};f["gamecontainer.utils.JSUtils"]=Yc;Yc.__name__=["gamecontainer","utils","JSUtils"];Yc.embedScript=function(a,b,c,d){var h=window.document.createElement("script");h.setAttribute("id",b);h.setAttribute("type","text/javascript");h.setAttribute("src",a+c);
h.onload=d;window.document.head.appendChild(h)};Yc.embedScripts=function(a,b,c,d){var h=null,h=function(){0==c.length?d():Yc.embedScript(a,b.shift(),c.shift(),h)};h()};var eb=function(){};f["kit.animation.Ease"]=eb;eb.__name__=["kit","animation","Ease"];eb.linear=function(a){return a};eb.quartIn=function(a){return a*a*a*a};var fc=function(){};f["gamecontainer.utils.MathUtils"]=fc;fc.__name__=["gamecontainer","utils","MathUtils"];fc.lerpFloat=function(a,b,c){1<c&&(c=1);0>c&&(c=0);return a+(b-a)*c};
fc.pointDistance=function(a,b,c){null==c&&(c=new A);c.x=b.x-a.x;c.y=b.y-a.y;return Math.sqrt(Math.pow(c.x,2)+Math.pow(c.y,2))};var ia=function(){};f["gamecontainer.utils.PlatformUtils"]=ia;ia.__name__=["gamecontainer","utils","PlatformUtils"];ia.platformString=function(){return ia.isMobile()?"MBL":"DT"};ia.isMobile=function(){return r.$MH.$rG.get_supported()?!0:!1};var k=function(){};f["gamecontainer.utils.SafeUtils"]=k;k.__name__=["gamecontainer","utils","SafeUtils"];k.getAssert=function(a,b){return k.get(a)};
k.get=function(a){for(var b=null,c,b=a.shift();0<a.length;){c=a.shift();if(null==b||!M.hasField(b,c))return null;b=M.field(b,c)}return b};k.getElse=function(a,b){var c=k.get(a);return null==c?b:c};var G=function(){};f["gamecontainer.utils.SoundUtils"]=G;G.__name__=["gamecontainer","utils","SoundUtils"];G.playSoundWithFolder=function(a,b){if(null!=a){var c=k.getElse([a,"assetPack"],g.get_assets().currentAssetPackName);switch(k.getElse([a,"playbackType"],"Normal")){case "Normal":X.startsWith(a.soundname,
"audio/")||""==a.soundname||(a.soundname="audio/"+D.string(a.soundname));break;case "Random":case "Sequence":case "Cycle":case "All":a.soundname=vg.fixSoundNames(a.soundname)}return G.playSound(a,g.get_assets().assetPacks.get(c).assetPack,!0,b)}return!1};G.playSound=function(a,b,c,d){null==c&&(c=!0);switch(a.playbackType){case "Normal":X.endsWith(a.soundname,"_")&&(a.soundname+=ia.platformString());break;case "Random":case "Sequence":case "Cycle":case "All":for(var h=0,l=a.soundname.length;h<l;){var e=
h++;X.endsWith(a.soundname[e],"_")&&(a.soundname[e]+=ia.platformString())}}return g.get_sounds().playSoundByConfig(a,b,c,d)};var Cf=function(a,b){this.time=0;this.pos=new A;this.normal=new A;this.delta=new A;this.obj1=a;this.obj2=b};f["gamecontainer.utils.collision.AABBResult"]=Cf;Cf.__name__=["gamecontainer","utils","collision","AABBResult"];Cf.prototype={__class__:Cf};var wg=function(){};f["gamecontainer.utils.collision.AABB"]=wg;wg.__name__=["gamecontainer","utils","collision","AABB"];wg.segmentIntersect=
function(a,b,c,d,h,l,e){null==h&&(h=0);null==d&&(d=0);var g=1/c.x,f=1/c.y,k;k=(a.get_centerX()-(0>g?-1:1)*(a.width/2+d)-b.x)*g;var m;m=(a.get_centerY()-(0>f?-1:1)*(a.height/2+h)-b.y)*f;d=(a.get_centerX()+(0>g?-1:1)*(a.width/2+d)-b.x)*g;h=(a.get_centerY()+(0>f?-1:1)*(a.height/2+h)-b.y)*f;if(k>d||m>h)return null;a=k>m?k:m;if(1<=a||0>=(d<h?d:h))return null;l=new Cf(l,e);l.time=aa.clamp(a,0,1);k>m?(l.normal.x=-(0>g?-1:1),l.normal.y=0):(l.normal.x=0,l.normal.y=-(0>f?-1:1));l.delta.x=l.time*c.x;l.delta.y=
l.time*c.y;l.pos.x=b.x+l.delta.x;l.pos.y=b.y+l.delta.y;return l};var Wc=function(a,b){null==a&&(a=0);this._time=0;y.call(this);this._delay=0>a?0:a;this._onBeforeDispose=b};f["gamecontainer.utils.components.DelayComponent"]=Wc;Wc.__name__=["gamecontainer","utils","components","DelayComponent"];Wc.__super__=y;Wc.prototype=p(y.prototype,{get_entitySlot:function(){return 24},onUpdate:function(a){this._time+=a;this._time>=this._delay&&(null!=this._onBeforeDispose&&this._onBeforeDispose(),null!=this.owner&&
this.owner.dispose())},__class__:Wc});var ya=function(a,b){this.complete=new Q;u.call(this,a);this._playingVO=this._hasStarted=!1;this._seconds=b;this._elapsed=0};f["gamecontainer.utils.components.TimeoutComponent"]=ya;ya.__name__=["gamecontainer","utils","components","TimeoutComponent"];ya.__super__=u;ya.prototype=p(u.prototype,{onUpdate:function(a){var b=this;u.prototype.onUpdate.call(this,a);this._hasStarted&&!this._playingVO&&(this._elapsed+=a,this._elapsed>=this._seconds&&(this._playingVO=G.playSoundWithFolder(this.config,
function(a){b.complete.emit();b.reset()})))},start:function(a){null==a&&(a=!1);this._hasStarted=!0;this._playingVO=!1;this._elapsed=a?this._seconds:0},stop:function(){this._playingVO=this._hasStarted=!1;this._elapsed=0},reset:function(){this._playingVO=!1;this._elapsed=0},__class__:ya});var Xc=function(a,b,c,d,h,l){this.complete=new Q;y.call(this);this._tween=new jc(b,c,d,h);this._animatedFloat=a;null!=l&&g.get_signals().addConnection(this.complete,l,!0)};f["gamecontainer.utils.components.TweenComponent"]=
Xc;Xc.__name__=["gamecontainer","utils","components","TweenComponent"];Xc.__super__=y;Xc.prototype=p(y.prototype,{get_entitySlot:function(){return 25},onUpdate:function(a){this._animatedFloat.set__(this._tween.update(a));this._tween.isComplete()&&(this.complete.emit(),this.owner.dispose())},__class__:Xc});var Ha=function(){this.fonts=new O;this.strings=new O};f["gamecontainer.utils.localization.Localization"]=Ha;Ha.__name__=["gamecontainer","utils","localization","Localization"];Ha.prototype={parseXML:function(a,
b){this.localizationXML=x.parse(a.getFile(b).toString());this.fast=new Zc(this.localizationXML.firstElement());null},getValue:function(a){if(this.strings.exists(a))return this.strings.get(a);for(var b=this.fast.nodes.resolve("string").iterator();null!=b.head;){var c;c=void 0;b.val=b.head[0];b.head=b.head[1];c=b.val;if(a==c.att.resolve("id"))return b=new Df,b.rawValue=c.get_innerData(),b.value=this.parseString(c.get_innerData()),b.fontScale=D.parseFloat(c.att.resolve("fontScale")),b.fontName=c.att.resolve("fontName"),
b.offsetX=D.parseInt(c.att.resolve("offsetX")),b.offsetY=D.parseInt(c.att.resolve("offsetY")),b.letterSpacing=D.parseInt(c.att.resolve("letterSpacing")),b.lineSpacing=D.parseInt(c.att.resolve("lineSpacing")),this.strings.set(a,b),b}return null},getFont:function(a,b,c){null==c&&(c=!1);a=this.getValue(a);return this.fonts.exists(a.fontName)?this.fonts.get(a.fontName):null!=b?(b=new Gb(b,a.fontName),this.fonts.set(a.fontName,b),c&&b.disposeFiles(),b):null},processTextSprite:function(a,b,c,d,h){null==
h&&(h=1);a=this.getValue(a);b.set_text(a.value);b.x.set__(c+a.offsetX);b.y.set__(d+a.offsetY);b.letterSpacing.set__(a.letterSpacing);b.lineSpacing.set__(a.lineSpacing);b.setScaleXY(h*a.fontScale,h*a.fontScale)},createAndProcessTextSprite:function(a,b,c,d,h,l){null==l&&(l=!1);null==h&&(h=1);null==d&&(d=0);null==c&&(c=0);b=new kc(this.getFont(a,b,l),(null==Ha.instance?Ha.instance=new Ha:Ha.instance).getValue(a).value);this.processTextSprite(a,b,c,d,h);return b},parseString:function(a){return a=X.replace(a,
"<BR>","\n")},__class__:Ha};var Df=function(){};f["gamecontainer.utils.localization.StringVO"]=Df;Df.__name__=["gamecontainer","utils","localization","StringVO"];Df.prototype={__class__:Df};var Ta=function(){};f["gamecontainer.utils.math.Random"]=Ta;Ta.__name__=["gamecontainer","utils","math","Random"];Ta["int"]=function(a,b){return a+Math.floor((b-a+1)*Math.random())};Ta.fromArray=function(a){return null!=a&&0<a.length?a[Math.floor((a.length-1+1)*Math.random())]:null};var A=function(a,b){null==b&&
(b=0);null==a&&(a=0);this.x=a;this.y=b};f["kit.math.Point"]=A;A.__name__=["kit","math","Point"];A.prototype={set:function(a,b){this.x=a;this.y=b},add:function(a,b){this.x+=a;this.y+=b},normalize:function(){var a=this.magnitude();this.x/=a;this.y/=a},dot:function(a,b){return this.x*a+this.y*b},multiply:function(a){this.x*=a;this.y*=a},magnitude:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},distanceTo:function(a,b){return Math.sqrt(this.distanceToSquared(a,b))},distanceToSquared:function(a,
b){var c=this.x-a,d=this.y-b;return c*c+d*d},equals:function(a){return this.x==a.x&&this.y==a.y},__class__:A};var Ia=function(a,b){A.call(this,a,b)};f["gamecontainer.utils.math.Vector2"]=Ia;Ia.__name__=["gamecontainer","utils","math","Vector2"];Ia.get_zero=function(){return new Ia(0,0)};Ia.get_up=function(){return new Ia(0,-1)};Ia.__super__=A;Ia.prototype=p(A.prototype,{__class__:Ia});var Ab=function(a,b){y.call(this);this.free=[];this._allocator=a;this._disposer=b};f["gamecontainer.utils.pooling.ComponentPool"]=
Ab;Ab.__name__=["gamecontainer","utils","pooling","ComponentPool"];Ab.__super__=y;Ab.prototype=p(y.prototype,{get_entitySlot:function(){return 20},dispose:function(){if(null!=this._disposer)for(var a=0,b=this.free.length;a<b;){var c=a++;this._disposer(this.free[c])}this.free=[];y.prototype.dispose.call(this)},take:function(){var a=this.free.shift();null==a&&(a=this._allocator());return a},put:function(a){this.free.push(a)},__class__:Ab});var lc=function(a,b,c,d){null==d&&(d=2147483647);null==b&&(b=
0);this._spawnedCount=0;y.call(this);this._freeEntities=[];this._allocatorFunc=a;this._capacity=d;this._parentEntity=c;for(a=0;a<b;)a++,this.put(this._allocatorFunc())};f["gamecontainer.utils.pooling.EntityPool"]=lc;lc.__name__=["gamecontainer","utils","pooling","EntityPool"];lc.__super__=y;lc.prototype=p(y.prototype,{get_entitySlot:function(){return 15},onAdded:function(){null==this._parentEntity&&(this._parentEntity=this.owner)},dispose:function(){for(var a=0,b=this._freeEntities;a<b.length;){var c=
b[a];++a;c.dispose()}this._freeEntities=[];y.prototype.dispose.call(this)},spawn:function(){var a=this._freeEntities.pop();if(null==a)if(this.getAllocatedCount()<this._capacity)a=this._allocatorFunc();else return null;this._parentEntity.addChild(a);this._spawnedCount++;return a},despawn:function(a){this._parentEntity.removeChild(a);this._spawnedCount--;this.getAllocatedCount()<this._capacity?this._freeEntities.push(a):a.dispose()},getAllocatedCount:function(){return this._spawnedCount+this._freeEntities.length},
put:function(a){this.getAllocatedCount()<this._capacity&&this._freeEntities.push(a)},__class__:lc});var tf=function(){};f["gamecontainer.vo.AssetPackVO"]=tf;tf.__name__=["gamecontainer","vo","AssetPackVO"];tf.prototype={SetConfigData:function(a){this.data=a;this.configAssets=this.data.assets;this.configVariables=this.data.variables;this.configSounds=this.data.sounds},getTexture:function(a,b){null==b&&(b=!1);return this.assetPack.getTexture(a,b)},dispose:function(){this.assetPack.dispose();this.assetPack=
null;null!=this.library&&(this.library.disposeFiles(),this.library=null);this.configSounds=this.configVariables=this.configAssets=this.data=null},__class__:tf};var Oc=function(){this.customProperties={}};f["gamecontainer.vo.MoviePlayerVO"]=Oc;Oc.__name__=["gamecontainer","vo","MoviePlayerVO"];Oc.prototype={__class__:Oc};var wf=function(){this.allowDeepLink=!1;this.primaryAssetPack=0;this.assetPacks=[]};f["gamecontainer.vo.SceneVO"]=wf;wf.__name__=["gamecontainer","vo","SceneVO"];wf.prototype={__class__:wf};
var Ef=function(){};f["haxe.IMap"]=Ef;Ef.__name__=["haxe","IMap"];var $c=function(a){this.url=a;this.headers=new vb;this.params=new vb;this.async=!0};f["haxe.Http"]=$c;$c.__name__=["haxe","Http"];$c.prototype={setHeader:function(a,b){this.headers=ub.filter(this.headers,function(b){return b.header!=a});this.headers.push({header:a,value:b});return this},setPostData:function(a){this.postData=a;return this},request:function(a){var b=this;b.responseData=null;var c=this.req=ad.createXMLHttpRequest(),d=
function(a){if(4==c.readyState){var d;try{d=c.status}catch(h){h instanceof v&&(h=h.val),d=null}null!=d&&(a=window.location.protocol.toLowerCase(),(new lb("^(?:about|app|app-storage|.+-extension|file|res|widget):$","")).match(a)&&(d=null!=c.responseText?200:404));void 0==d&&(d=null);if(null!=d)b.onStatus(d);if(null!=d&&200<=d&&400>d)b.req=null,b.onData(b.responseData=c.responseText);else if(null==d)b.req=null,b.onError("Failed to connect or resolve host");else switch(d){case 12029:b.req=null;b.onError("Failed to connect to host");
break;case 12007:b.req=null;b.onError("Unknown host");break;default:b.req=null,b.responseData=c.responseText,b.onError("Http Error #"+c.status)}}};this.async&&(c.onreadystatechange=d);var h=this.postData;if(null!=h)a=!0;else for(var l=this.params.h,e=null;null!=l;)e=l[0],l=l[1],h=null==h?"":h+"&",h+=encodeURIComponent(e.param)+"="+encodeURIComponent(e.value);try{if(a)c.open("POST",this.url,this.async);else if(null!=h){var g=1>=this.url.split("?").length;c.open("GET",this.url+(g?"?":"&")+h,this.async);
h=null}else c.open("GET",this.url,this.async)}catch(f){f instanceof v&&(f=f.val);b.req=null;this.onError(f.toString());return}!ub.exists(this.headers,function(a){return"Content-Type"==a.header})&&a&&null==this.postData&&c.setRequestHeader("Content-Type","application/x-www-form-urlencoded");a=this.headers.h;for(l=null;null!=a;)l=a[0],a=a[1],c.setRequestHeader(l.header,l.value);c.send(h);this.async||d(null)},onData:function(a){},onError:function(a){},onStatus:function(a){},__class__:$c};var Ff=function(a,
b){this.high=a;this.low=b};f["haxe._Int64.___Int64"]=Ff;Ff.__name__=["haxe","_Int64","___Int64"];Ff.prototype={__class__:Ff};var pb=function(){this.buf=new bb;this.cache=[];this.useCache=pb.USE_CACHE;this.useEnumIndex=pb.USE_ENUM_INDEX;this.shash=new O;this.scount=0};f["haxe.Serializer"]=pb;pb.__name__=["haxe","Serializer"];pb.prototype={toString:function(){return this.buf.b},serializeString:function(a){var b=this.shash.get(a);null!=b?(this.buf.b+="R",this.buf.b=null==b?this.buf.b+"null":this.buf.b+
(""+b)):(this.shash.set(a,this.scount++),this.buf.b+="y",a=encodeURIComponent(a),this.buf.b=null==a.length?this.buf.b+"null":this.buf.b+(""+a.length),this.buf.b+=":",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a))},serializeRef:function(a){for(var b=typeof a,c=0,d=this.cache.length;c<d;){var h=c++,l=this.cache[h];if(typeof l==b&&l==a)return this.buf.b+="r",this.buf.b=null==h?this.buf.b+"null":this.buf.b+(""+h),!0}this.cache.push(a);return!1},serializeFields:function(a){for(var b=0,c=M.fields(a);b<
c.length;){var d=c[b];++b;this.serializeString(d);this.serialize(M.field(a,d))}this.buf.b+="g"},serialize:function(a){var b=V["typeof"](a);switch(b[1]){case 0:this.buf.b+="n";break;case 1:if(0==a){this.buf.b+="z";break}this.buf.b+="i";this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a);break;case 2:isNaN(a)?this.buf.b+="k":isFinite(a)?(this.buf.b+="d",this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a)):this.buf.b=0>a?this.buf.b+"m":this.buf.b+"p";break;case 3:this.buf.b=a?this.buf.b+"t":this.buf.b+
"f";break;case 6:b=b[2];if(b==String){this.serializeString(a);break}if(this.useCache&&this.serializeRef(a))break;switch(b){case Array:b=0;this.buf.b+="a";for(var c=a.length,d=0;d<c;){var h=d++;null==a[h]?b++:(0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)),b=0),this.serialize(a[h]))}0<b&&(1==b?this.buf.b+="n":(this.buf.b+="u",this.buf.b=null==b?this.buf.b+"null":this.buf.b+(""+b)));this.buf.b+="h";break;case vb:this.buf.b+="l";a=a.h;for(b=null;null!=
a;)b=a[0],a=a[1],this.serialize(b);this.buf.b+="h";break;case Date:this.buf.b+="v";this.buf.add(a.getTime());break;case O:this.buf.b+="b";for(b=a.keys();b.hasNext();)c=b.next(),this.serializeString(c),this.serialize(null!=ja[c]?a.getReserved(c):a.h[c]);this.buf.b+="h";break;case Ua:this.buf.b+="q";for(b=a.keys();b.hasNext();)c=b.next(),this.buf.b+=":",this.buf.b=null==c?this.buf.b+"null":this.buf.b+(""+c),this.serialize(a.h[c]);this.buf.b+="h";break;case Sa:this.buf.b+="M";for(b=a.keys();b.hasNext();)c=
b.next(),d=M.field(c,"__id__"),M.deleteField(c,"__id__"),this.serialize(c),c.__id__=d,this.serialize(a.h[c.__id__]);this.buf.b+="h";break;case Ob:d=0;h=a.length-2;b=new bb;for(c=pb.BASE64;d<h;){var l=a.get(d++),e=a.get(d++),g=a.get(d++);b.add(c.charAt(l>>2));b.add(c.charAt((l<<4|e>>4)&63));b.add(c.charAt((e<<2|g>>6)&63));b.add(c.charAt(g&63))}d==h?(h=a.get(d++),a=a.get(d++),b.add(c.charAt(h>>2)),b.add(c.charAt((h<<4|a>>4)&63)),b.add(c.charAt(a<<2&63))):d==h+1&&(a=a.get(d++),b.add(c.charAt(a>>2)),
b.add(c.charAt(a<<4&63)));a=b.b;this.buf.b+="s";this.buf.b=null==a.length?this.buf.b+"null":this.buf.b+(""+a.length);this.buf.b+=":";this.buf.b=null==a?this.buf.b+"null":this.buf.b+(""+a);break;default:this.useCache&&this.cache.pop(),null!=a.hxSerialize?(this.buf.b+="C",this.serializeString(V.getClassName(b)),this.useCache&&this.cache.push(a),a.hxSerialize(this),this.buf.b+="g"):(this.buf.b+="c",this.serializeString(V.getClassName(b)),this.useCache&&this.cache.push(a),this.serializeFields(a))}break;
case 4:if(T.__instanceof(a,Tg))a=V.getClassName(a),this.buf.b+="A",this.serializeString(a);else if(T.__instanceof(a,Ug))this.buf.b+="B",this.serializeString(V.getEnumName(a));else{if(this.useCache&&this.serializeRef(a))break;this.buf.b+="o";this.serializeFields(a)}break;case 7:b=b[2];if(this.useCache){if(this.serializeRef(a))break;this.cache.pop()}this.buf.b=this.useEnumIndex?this.buf.b+"j":this.buf.b+"w";this.serializeString(V.getEnumName(b));this.useEnumIndex?(this.buf.b+=":",this.buf.b+=D.string(a[1])):
this.serializeString(a[0]);this.buf.b+=":";b=a.length;this.buf.b+=D.string(b-2);for(c=2;c<b;)d=c++,this.serialize(a[d]);this.useCache&&this.cache.push(a);break;case 5:throw new v("Cannot serialize function");default:throw new v("Cannot serialize "+D.string(a));}},__class__:pb};var Da=function(a){this.buf=a;this.length=a.length;this.pos=0;this.scache=[];this.cache=[];a=Da.DEFAULT_RESOLVER;null==a&&(a=V,Da.DEFAULT_RESOLVER=a);this.setResolver(a)};f["haxe.Unserializer"]=Da;Da.__name__=["haxe","Unserializer"];
Da.initCodes=function(){for(var a=[],b=0,c=Da.BASE64.length;b<c;){var d=b++;a[Da.BASE64.charCodeAt(d)]=d}return a};Da.run=function(a){return(new Da(a)).unserialize()};Da.prototype={setResolver:function(a){this.resolver=null==a?{resolveClass:function(a){return null},resolveEnum:function(a){return null}}:a},get:function(a){return this.buf.charCodeAt(a)},readDigits:function(){for(var a=0,b=!1,c=this.pos;;){var d=this.buf.charCodeAt(this.pos);if(d!=d)break;if(45==d){if(this.pos!=c)break;b=!0}else{if(48>
d||57<d)break;a=10*a+(d-48)}this.pos++}b&&(a*=-1);return a},readFloat:function(){for(var a=this.pos;;){var b=this.buf.charCodeAt(this.pos);if(43<=b&&58>b||101==b||69==b)this.pos++;else break}return D.parseFloat(F.substr(this.buf,a,this.pos-a))},unserializeObject:function(a){for(;;){if(this.pos>=this.length)throw new v("Invalid object");if(103==this.buf.charCodeAt(this.pos))break;var b=this.unserialize();if("string"!=typeof b)throw new v("Invalid object key");var c=this.unserialize();a[b]=c}this.pos++},
unserializeEnum:function(a,b){if(58!=this.get(this.pos++))throw new v("Invalid enum format");var c=this.readDigits();if(0==c)return V.createEnum(a,b);for(var d=[];0<c--;)d.push(this.unserialize());return V.createEnum(a,b,d)},unserialize:function(){switch(this.get(this.pos++)){case 110:return null;case 116:return!0;case 102:return!1;case 122:return 0;case 105:return this.readDigits();case 100:return this.readFloat();case 121:var a=this.readDigits();if(58!=this.get(this.pos++)||this.length-this.pos<
a)throw new v("Invalid string length");var b=F.substr(this.buf,this.pos,a);this.pos+=a;b=decodeURIComponent(b.split("+").join(" "));this.scache.push(b);return b;case 107:return NaN;case 109:return-Infinity;case 112:return Infinity;case 97:a=[];for(this.cache.push(a);;){b=this.buf.charCodeAt(this.pos);if(104==b){this.pos++;break}117==b?(this.pos++,b=this.readDigits(),a[a.length+b-1]=null):a.push(this.unserialize())}return a;case 111:return a={},this.cache.push(a),this.unserializeObject(a),a;case 114:a=
this.readDigits();if(0>a||a>=this.cache.length)throw new v("Invalid reference");return this.cache[a];case 82:a=this.readDigits();if(0>a||a>=this.scache.length)throw new v("Invalid string reference");return this.scache[a];case 120:throw new v(this.unserialize());case 99:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new v("Class not found "+a);a=V.createEmptyInstance(b);this.cache.push(a);this.unserializeObject(a);return a;case 119:a=this.unserialize();b=this.resolver.resolveEnum(a);
if(null==b)throw new v("Enum not found "+a);a=this.unserializeEnum(b,this.unserialize());this.cache.push(a);return a;case 106:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new v("Enum not found "+a);this.pos++;var c=this.readDigits(),d=V.getEnumConstructs(b)[c];if(null==d)throw new v("Unknown enum index "+a+"@"+c);a=this.unserializeEnum(b,d);this.cache.push(a);return a;case 108:a=new vb;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)a.add(this.unserialize());this.pos++;
return a;case 98:a=new O;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 113:a=new Ua;this.cache.push(a);for(b=this.get(this.pos++);58==b;)b=this.readDigits(),a.set(b,this.unserialize()),b=this.get(this.pos++);if(104!=b)throw new v("Invalid IntMap format");return a;case 77:a=new Sa;for(this.cache.push(a);104!=this.buf.charCodeAt(this.pos);)b=this.unserialize(),a.set(b,this.unserialize());this.pos++;return a;case 118:return 48<=
this.buf.charCodeAt(this.pos)&&57>=this.buf.charCodeAt(this.pos)&&48<=this.buf.charCodeAt(this.pos+1)&&57>=this.buf.charCodeAt(this.pos+1)&&48<=this.buf.charCodeAt(this.pos+2)&&57>=this.buf.charCodeAt(this.pos+2)&&48<=this.buf.charCodeAt(this.pos+3)&&57>=this.buf.charCodeAt(this.pos+3)&&45==this.buf.charCodeAt(this.pos+4)?(a=F.substr(this.buf,this.pos,19),a=F.strDate(a),this.pos+=19):(a=this.readFloat(),b=new Date,b.setTime(a),a=b),this.cache.push(a),a;case 115:a=this.readDigits();d=this.buf;if(58!=
this.get(this.pos++)||this.length-this.pos<a)throw new v("Invalid bytes length");var h=Da.CODES;null==h&&(h=Da.initCodes(),Da.CODES=h);for(var l=this.pos,e=a&3,g=l+(a-e),b=Ob.alloc(3*(a>>2)+(2<=e?e-1:0)),c=0;l<g;){var f=h[X.fastCodeAt(d,l++)],k=h[X.fastCodeAt(d,l++)];b.set(c++,f<<2|k>>4);f=h[X.fastCodeAt(d,l++)];b.set(c++,k<<4|f>>2);k=h[X.fastCodeAt(d,l++)];b.set(c++,f<<6|k)}2<=e&&(k=h[X.fastCodeAt(d,l++)],g=h[X.fastCodeAt(d,l++)],b.set(c++,k<<2|g>>4),3==e&&(d=h[X.fastCodeAt(d,l++)],b.set(c++,g<<
4|d>>2)));this.pos+=a;this.cache.push(b);return b;case 67:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new v("Class not found "+a);a=V.createEmptyInstance(b);this.cache.push(a);a.hxUnserialize(this);if(103!=this.get(this.pos++))throw new v("Invalid custom data");return a;case 65:a=this.unserialize();b=this.resolver.resolveClass(a);if(null==b)throw new v("Class not found "+a);return b;case 66:a=this.unserialize();b=this.resolver.resolveEnum(a);if(null==b)throw new v("Enum not found "+
a);return b}this.pos--;throw new v("Invalid char "+this.buf.charAt(this.pos)+" at position "+this.pos);},__class__:Da};var ka=function(){};f["haxe.ds.ArraySort"]=ka;ka.__name__=["haxe","ds","ArraySort"];ka.sort=function(a,b){ka.rec(a,b,0,a.length)};ka.rec=function(a,b,c,d){var h=c+d>>1;if(12>d-c){if(!(d<=c))for(h=c+1;h<d;)for(var l=h++;l>c;){if(0>b(a[l],a[l-1]))ka.swap(a,l-1,l);else break;l--}}else ka.rec(a,b,c,h),ka.rec(a,b,h,d),ka.doMerge(a,b,c,h,d,h-c,d-h)};ka.doMerge=function(a,b,c,d,h,l,e){var g,
f,k,m;0!=l&&0!=e&&(2==l+e?0>b(a[d],a[c])&&ka.swap(a,d,c):(l>e?(k=l>>1,g=c+k,f=ka.lower(a,b,d,h,g),m=f-d):(m=e>>1,f=d+m,g=ka.upper(a,b,c,d,f),k=g-c),ka.rotate(a,b,g,d,f),d=g+m,ka.doMerge(a,b,c,g,d,k,m),ka.doMerge(a,b,d,f,h,l-k,e-m)))};ka.rotate=function(a,b,c,d,h){if(c!=d&&d!=h)for(b=ka.gcd(h-c,d-c);0!=b--;){for(var l=a[c+b],e=d-c,g=c+b,f=c+b+e;f!=c+b;)a[g]=a[f],g=f,f=h-f>e?f+e:c+(e-(h-f));a[g]=l}};ka.gcd=function(a,b){for(;0!=b;){var c=a%b;a=b;b=c}return a};ka.upper=function(a,b,c,d,h){d-=c;for(var l,
e;0<d;)l=d>>1,e=c+l,0>b(a[h],a[e])?d=l:(c=e+1,d=d-l-1);return c};ka.lower=function(a,b,c,d,h){d-=c;for(var l,e;0<d;)l=d>>1,e=c+l,0>b(a[e],a[h])?(c=e+1,d=d-l-1):d=l;return c};ka.swap=function(a,b,c){var d=a[b];a[b]=a[c];a[c]=d};var Ua=function(){this.h={}};f["haxe.ds.IntMap"]=Ua;Ua.__name__=["haxe","ds","IntMap"];Ua.__interfaces__=[Ef];Ua.prototype={set:function(a,b){this.h[a]=b},remove:function(a){if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},keys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&
a.push(b|0);return F.iter(a)},__class__:Ua};var Sa=function(){this.h={};this.h.__keys__={}};f["haxe.ds.ObjectMap"]=Sa;Sa.__name__=["haxe","ds","ObjectMap"];Sa.__interfaces__=[Ef];Sa.prototype={set:function(a,b){var c=a.__id__||(a.__id__=++Sa.count);this.h[c]=b;this.h.__keys__[c]=a},get:function(a){return this.h[a.__id__]},exists:function(a){return null!=this.h.__keys__[a.__id__]},remove:function(a){a=a.__id__;if(null==this.h.__keys__[a])return!1;delete this.h[a];delete this.h.__keys__[a];return!0},
keys:function(){var a=[],b;for(b in this.h.__keys__)this.h.hasOwnProperty(b)&&a.push(this.h.__keys__[b]);return F.iter(a)},iterator:function(){return{ref:this.h,it:this.keys(),hasNext:function(){return this.it.hasNext()},next:function(){var a=this.it.next();return this.ref[a.__id__]}}},__class__:Sa};var bd=function(a,b){this.map=a;this.keys=b;this.index=0;this.count=b.length};f["haxe.ds._StringMap.StringMapIterator"]=bd;bd.__name__=["haxe","ds","_StringMap","StringMapIterator"];bd.prototype={hasNext:function(){return this.index<
this.count},next:function(){return this.map.get(this.keys[this.index++])},__class__:bd};var O=function(){this.h={}};f["haxe.ds.StringMap"]=O;O.__name__=["haxe","ds","StringMap"];O.__interfaces__=[Ef];O.prototype={set:function(a,b){null!=ja[a]?this.setReserved(a,b):this.h[a]=b},get:function(a){return null!=ja[a]?this.getReserved(a):this.h[a]},exists:function(a){return null!=ja[a]?this.existsReserved(a):this.h.hasOwnProperty(a)},setReserved:function(a,b){null==this.rh&&(this.rh={});this.rh["$"+a]=b},
getReserved:function(a){return null==this.rh?null:this.rh["$"+a]},existsReserved:function(a){return null==this.rh?!1:this.rh.hasOwnProperty("$"+a)},remove:function(a){if(null!=ja[a]){a="$"+a;if(null==this.rh||!this.rh.hasOwnProperty(a))return!1;delete this.rh[a]}else{if(!this.h.hasOwnProperty(a))return!1;delete this.h[a]}return!0},keys:function(){var a=this.arrayKeys();return F.iter(a)},arrayKeys:function(){var a=[],b;for(b in this.h)this.h.hasOwnProperty(b)&&a.push(b);if(null!=this.rh)for(b in this.rh)36==
b.charCodeAt(0)&&a.push(b.substr(1));return a},iterator:function(){return new bd(this,this.arrayKeys())},__class__:O};var Ob=function(a){this.length=a.byteLength;this.b=new Rg(a);this.b.bufferValue=a;a.hxBytes=this;a.bytes=this.b};f["haxe.io.Bytes"]=Ob;Ob.__name__=["haxe","io","Bytes"];Ob.alloc=function(a){return new Ob(new xg(a))};Ob.prototype={get:function(a){return this.b[a]},set:function(a,b){this.b[a]=b&255},__class__:Ob};var va=f["haxe.io.Error"]={__ename__:["haxe","io","Error"],__constructs__:["Blocked",
"Overflow","OutsideBounds","Custom"]};va.Blocked=["Blocked",0];va.Blocked.toString=n;va.Blocked.__enum__=va;va.Overflow=["Overflow",1];va.Overflow.toString=n;va.Overflow.__enum__=va;va.OutsideBounds=["OutsideBounds",2];va.OutsideBounds.toString=n;va.OutsideBounds.__enum__=va;va.Custom=function(a){a=["Custom",3,a];a.__enum__=va;a.toString=n;return a};va.__empty_constructs__=[va.Blocked,va.Overflow,va.OutsideBounds];var fb=function(){};f["haxe.io.FPHelper"]=fb;fb.__name__=["haxe","io","FPHelper"];fb.i32ToFloat=
function(a){var b=a>>>23&255,c=a&8388607;return 0==c&&0==b?0:(1-(a>>>31<<1))*(1+Math.pow(2,-23)*c)*Math.pow(2,b-127)};fb.floatToI32=function(a){if(0==a)return 0;var b;b=0>a?-a:a;var c=Math.floor(Math.log(b)/0.6931471805599453);-127>c?c=-127:128<c&&(c=128);b=Math.round(8388608*(b/Math.pow(2,c)-1))&8388607;return(0>a?-2147483648:0)|c+127<<23|b};fb.i64ToDouble=function(a,b){var c=(b>>20&2047)-1023,d=4294967296*(b&1048575)+2147483648*(a>>>31)+(a&2147483647);return 0==d&&-1023==c?0:(1-(b>>>31<<1))*(1+
Math.pow(2,-52)*d)*Math.pow(2,c)};fb.doubleToI64=function(a){var b=fb.i64tmp;if(0==a)b.low=0,b.high=0;else{var c;c=0>a?-a:a;var d=Math.floor(Math.log(c)/0.6931471805599453);c=4503599627370496*(c/Math.pow(2,d)-1);c=Math.round(c);b.low=c|0;b.high=(0>a?-2147483648:0)|d+1023<<20|c/4294967296|0}return b};var cd=function(){};f["haxe.rtti.Meta"]=cd;cd.__name__=["haxe","rtti","Meta"];cd.getType=function(a){a=cd.getMeta(a);return null==a||null==a.obj?{}:a.obj};cd.getMeta=function(a){return a.__meta__};var Gf=
function(a){this.__x=a};f["haxe.xml._Fast.NodeAccess"]=Gf;Gf.__name__=["haxe","xml","_Fast","NodeAccess"];Gf.prototype={__class__:Gf};var Hf=function(a){this.__x=a};f["haxe.xml._Fast.AttribAccess"]=Hf;Hf.__name__=["haxe","xml","_Fast","AttribAccess"];Hf.prototype={resolve:function(a){if(this.__x.nodeType==x.Document)throw new v("Cannot access document attribute "+a);var b=this.__x.get(a);if(null==b)throw new v(this.__x.get_nodeName()+" is missing attribute "+a);return b},__class__:Hf};var If=function(a){this.__x=
a};f["haxe.xml._Fast.HasAttribAccess"]=If;If.__name__=["haxe","xml","_Fast","HasAttribAccess"];If.prototype={__class__:If};var Jf=function(a){this.__x=a};f["haxe.xml._Fast.HasNodeAccess"]=Jf;Jf.__name__=["haxe","xml","_Fast","HasNodeAccess"];Jf.prototype={__class__:Jf};var Kf=function(a){this.__x=a};f["haxe.xml._Fast.NodeListAccess"]=Kf;Kf.__name__=["haxe","xml","_Fast","NodeListAccess"];Kf.prototype={resolve:function(a){var b=new vb;for(a=this.__x.elementsNamed(a);a.hasNext();){var c=a.next();b.add(new Zc(c))}return b},
__class__:Kf};var Zc=function(a){if(a.nodeType!=x.Document&&a.nodeType!=x.Element)throw new v("Invalid nodeType "+a.nodeType);this.x=a;this.node=new Gf(a);this.nodes=new Kf(a);this.att=new Hf(a);this.has=new If(a);this.hasNode=new Jf(a)};f["haxe.xml.Fast"]=Zc;Zc.__name__=["haxe","xml","Fast"];Zc.prototype={get_name:function(){return this.x.nodeType==x.Document?"Document":this.x.get_nodeName()},get_innerData:function(){var a=this.x.iterator();if(!a.hasNext())throw new v(this.get_name()+" does not have data");
var b=a.next(),c=a.next();if(null!=c){if(b.nodeType==x.PCData&&c.nodeType==x.CData&&""==X.trim(function(a){if(b.nodeType==x.Document||b.nodeType==x.Element)throw new v("Bad node type, unexpected "+b.nodeType);return b.nodeValue}(this))){var d=a.next();if(null==d||d.nodeType==x.PCData&&""==X.trim(function(a){if(d.nodeType==x.Document||d.nodeType==x.Element)throw new v("Bad node type, unexpected "+d.nodeType);return d.nodeValue}(this))&&null==a.next()){if(c.nodeType==x.Document||c.nodeType==x.Element)throw new v("Bad node type, unexpected "+
c.nodeType);return c.nodeValue}}throw new v(this.get_name()+" does not only have data");}if(b.nodeType!=x.PCData&&b.nodeType!=x.CData)throw new v(this.get_name()+" does not have data");if(b.nodeType==x.Document||b.nodeType==x.Element)throw new v("Bad node type, unexpected "+b.nodeType);return b.nodeValue},__class__:Zc};var wb=function(){};f["haxe.xml.Parser"]=wb;wb.__name__=["haxe","xml","Parser"];wb.parse=function(a,b){null==b&&(b=!1);var c=x.createDocument();wb.doParse(a,b,0,c);return c};wb.doParse=
function(a,b,c,d){null==c&&(c=0);for(var h=null,l=1,e=1,g=null,f=0,k=0,m=0,z=a.charCodeAt(c),n=new bb,p=1,q=-1;z==z;){switch(l){case 0:switch(z){case 10:case 13:case 9:case 32:break;default:l=e;continue}break;case 1:switch(z){case 60:l=0;e=2;break;default:f=c;l=13;continue}break;case 13:60==z?(n.addSub(a,f,c-f),e=x.createPCData(n.b),n=new bb,d.addChild(e),k++,l=0,e=2):38==z&&(n.addSub(a,f,c-f),l=18,p=13,f=c+1);break;case 17:93==z&&93==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(z=x.createCData(F.substr(a,
f,c-f)),d.addChild(z),k++,c+=2,l=1);break;case 2:switch(z){case 33:if(91==a.charCodeAt(c+1)){c+=2;if("CDATA["!=F.substr(a,c,6).toUpperCase())throw new v("Expected <![CDATA[");c+=5;l=17}else if(68==a.charCodeAt(c+1)||100==a.charCodeAt(c+1)){if("OCTYPE"!=F.substr(a,c+2,6).toUpperCase())throw new v("Expected <!DOCTYPE");c+=8;l=16}else{if(45!=a.charCodeAt(c+1)||45!=a.charCodeAt(c+2))throw new v("Expected \x3c!--");c+=2;l=15}f=c+1;break;case 63:l=14;f=c;break;case 47:if(null==d)throw new v("Expected node name");
f=c+1;l=0;e=10;break;default:l=3;f=c;continue}break;case 3:if(!(97<=z&&122>=z||65<=z&&90>=z||48<=z&&57>=z||58==z||46==z||95==z||45==z)){if(c==f)throw new v("Expected node name");h=x.createElement(F.substr(a,f,c-f));d.addChild(h);k++;l=0;e=4;continue}break;case 4:switch(z){case 47:l=11;break;case 62:l=9;break;default:l=5;f=c;continue}break;case 5:if(!(97<=z&&122>=z||65<=z&&90>=z||48<=z&&57>=z||58==z||46==z||95==z||45==z)){if(f==c)throw new v("Expected attribute name");g=F.substr(a,f,c-f);if(h.exists(g))throw new v("Duplicate attribute");
l=0;e=6;continue}break;case 6:switch(z){case 61:l=0;e=7;break;default:throw new v("Expected =");}break;case 7:switch(z){case 34:case 39:n=new bb;l=8;f=c+1;q=z;break;default:throw new v('Expected "');}break;case 8:switch(z){case 38:n.addSub(a,f,c-f);l=18;p=8;f=c+1;break;case 62:if(b)throw new v("Invalid unescaped "+String.fromCharCode(z)+" in attribute value");z==q&&(n.addSub(a,f,c-f),e=n.b,n=new bb,h.set(g,e),l=0,e=4);break;case 60:if(b)throw new v("Invalid unescaped "+String.fromCharCode(z)+" in attribute value");
z==q&&(n.addSub(a,f,c-f),e=n.b,n=new bb,h.set(g,e),l=0,e=4);break;default:z==q&&(n.addSub(a,f,c-f),e=n.b,n=new bb,h.set(g,e),l=0,e=4)}break;case 9:f=c=wb.doParse(a,b,c,h);l=1;break;case 11:switch(z){case 62:l=1;break;default:throw new v("Expected >");}break;case 12:switch(z){case 62:return 0==k&&d.addChild(x.createPCData("")),c;default:throw new v("Expected >");}case 10:if(!(97<=z&&122>=z||65<=z&&90>=z||48<=z&&57>=z||58==z||46==z||95==z||45==z)){if(f==c)throw new v("Expected node name");e=F.substr(a,
f,c-f);if(d.nodeType!=x.Element)throw new v("Bad node type, expected Element but found "+d.nodeType);if(e!=d.nodeName)throw new v("Expected </"+function(a){if(d.nodeType!=x.Element)throw"Bad node type, expected Element but found "+d.nodeType;return d.nodeName}(this)+">");l=0;e=12;continue}break;case 15:45==z&&45==a.charCodeAt(c+1)&&62==a.charCodeAt(c+2)&&(z=x.createComment(F.substr(a,f,c-f)),d.addChild(z),k++,c+=2,l=1);break;case 16:91==z?m++:93==z?m--:62==z&&0==m&&(z=x.createDocType(F.substr(a,f,
c-f)),d.addChild(z),k++,l=1);break;case 14:63==z&&62==a.charCodeAt(c+1)&&(c++,z=F.substr(a,f+1,c-f-2),z=x.createProcessingInstruction(z),d.addChild(z),k++,l=1);break;case 18:if(59==z){f=F.substr(a,f,c-f);if(35==f.charCodeAt(0))f=120==f.charCodeAt(1)?D.parseInt("0"+F.substr(f,1,f.length-1)):D.parseInt(F.substr(f,1,f.length-1)),n.b+=String.fromCharCode(f);else if(wb.escapes.exists(f))n.add(wb.escapes.get(f));else{if(b)throw new v("Undefined entity: "+f);n.b+=D.string("&"+f+";")}f=c+1;l=p}else if(!(97<=
z&&122>=z||65<=z&&90>=z||48<=z&&57>=z||58==z||46==z||95==z||45==z)&&35!=z){if(b)throw new v("Invalid character in entity: "+String.fromCharCode(z));n.b+="&";n.addSub(a,f,c-f);c--;f=c+1;l=p}}z=X.fastCodeAt(a,++c)}1==l&&(f=c,l=13);if(13==l){if(c!=f||0==k)n.addSub(a,f,c-f),a=x.createPCData(n.b),d.addChild(a),k++;return c}if(!b&&18==l&&13==p)return n.b+="&",n.addSub(a,f,c-f),a=x.createPCData(n.b),d.addChild(a),k++,c;throw new v("Unexpected end");};var v=function(a){Error.call(this);this.val=a;this.message=
String(a);Error.captureStackTrace&&Error.captureStackTrace(this,v)};f["js._Boot.HaxeError"]=v;v.__name__=["js","_Boot","HaxeError"];v.__super__=Error;v.prototype=p(Error.prototype,{__class__:v});var T=function(){};f["js.Boot"]=T;T.__name__=["js","Boot"];T.getClass=function(a){if(a instanceof Array&&null==a.__enum__)return Array;var b=a.__class__;if(null!=b)return b;a=T.__nativeClassName(a);return null!=a?T.__resolveNativeClass(a):null};T.__string_rec=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";
var c=typeof a;"function"==c&&(a.__name__||a.__ename__)&&(c="object");switch(c){case "object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,h=a.length;d<h;)var l=d++,c=2!=l?c+(","+T.__string_rec(a[l],b)):c+T.__string_rec(a[l],b);return c+")"}c=a.length;d="[";b+="\t";for(h=0;h<c;)l=h++,d+=(0<l?",":"")+T.__string_rec(a[l],b);return d+"]"}try{d=a.toString}catch(e){return e instanceof v&&(e=e.val),"???"}if(null!=d&&d!=Object.toString&&"function"==typeof d&&
(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";h=null!=a.hasOwnProperty;for(c in a)h&&!a.hasOwnProperty(c)||"prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+T.__string_rec(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return String(a)}};T.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=
c)for(var d=0,h=c.length;d<h;){var l=d++,l=c[l];if(l==b||T.__interfLoop(l,b))return!0}return T.__interfLoop(a.__super__,b)};T.__instanceof=function(a,b){if(null==b)return!1;switch(b){case Qg:return(a|0)===a;case Vg:return"number"==typeof a;case Wg:return"boolean"==typeof a;case String:return"string"==typeof a;case Array:return a instanceof Array&&null==a.__enum__;case ah:return!0;default:if(null!=a)if("function"==typeof b){if(a instanceof b||T.__interfLoop(T.getClass(a),b))return!0}else{if("object"==
typeof b&&T.__isNativeObj(b)&&a instanceof b)return!0}else return!1;return b==Tg&&null!=a.__name__||b==Ug&&null!=a.__ename__?!0:a.__enum__==b}};T.__cast=function(a,b){if(T.__instanceof(a,b))return a;throw new v("Cannot cast "+D.string(a)+" to "+D.string(b));};T.__nativeClassName=function(a){a=T.__toStr.call(a).slice(8,-1);return"Object"==a||"Function"==a||"Math"==a||"JSON"==a?null:a};T.__isNativeObj=function(a){return null!=T.__nativeClassName(a)};T.__resolveNativeClass=function(a){return Og[a]};
var ad=function(){};f["js.Browser"]=ad;ad.__name__=["js","Browser"];ad.getLocalStorage=function(){try{var a=window.localStorage;a.getItem("");return a}catch(b){return b instanceof v&&(b=b.val),null}};ad.createXMLHttpRequest=function(){if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)return new ActiveXObject("Microsoft.XMLHTTP");throw new v("Unable to create XMLHttpRequest object.");};var yg=function(){};f["js.html._CanvasElement.CanvasUtil"]=yg;
yg.__name__=["js","html","_CanvasElement","CanvasUtil"];yg.getContextWebGL=function(a,b){for(var c=0,d=["webgl","experimental-webgl"];c<d.length;){var h=d[c];++c;h=a.getContext(h,b);if(null!=h)return h}return null};var gb=function(a){if(a instanceof Array&&null==a.__enum__)this.a=a,this.byteLength=a.length;else{this.a=[];for(var b=0;b<a;){var c=b++;this.a[c]=0}this.byteLength=a}};f["js.html.compat.ArrayBuffer"]=gb;gb.__name__=["js","html","compat","ArrayBuffer"];gb.sliceImpl=function(a,b){var c=new Rg(this,
a,null==b?null:b-a),d=new xg(c.byteLength);(new Rg(d)).set(c);return d};gb.prototype={slice:function(a,b){return new gb(this.a.slice(a,b))},__class__:gb};var zg=function(a,b,c){this.buf=a;this.offset=null==b?0:b;this.length=null==c?a.byteLength-this.offset:c;if(0>this.offset||0>this.length||this.offset+this.length>a.byteLength)throw new v(va.OutsideBounds);};f["js.html.compat.DataView"]=zg;zg.__name__=["js","html","compat","DataView"];zg.prototype={getInt8:function(a){a=this.buf.a[this.offset+a];
return 128<=a?a-256:a},getUint8:function(a){return this.buf.a[this.offset+a]},getInt16:function(a,b){var c=this.getUint16(a,b);return 32768<=c?c-65536:c},getUint16:function(a,b){return b?this.buf.a[this.offset+a]|this.buf.a[this.offset+a+1]<<8:this.buf.a[this.offset+a]<<8|this.buf.a[this.offset+a+1]},getInt32:function(a,b){var c=this.offset+a,d=this.buf.a[c++],h=this.buf.a[c++],l=this.buf.a[c++],c=this.buf.a[c++];return b?d|h<<8|l<<16|c<<24:c|l<<8|h<<16|d<<24},getUint32:function(a,b){var c=this.getInt32(a,
b);return 0>c?c+4294967296:c},getFloat32:function(a,b){return fb.i32ToFloat(this.getInt32(a,b))},getFloat64:function(a,b){var c=this.getInt32(a,b),d=this.getInt32(a+4,b);return fb.i64ToDouble(b?c:d,b?d:c)},setInt8:function(a,b){this.buf.a[a+this.offset]=0>b?b+128&255:b&255},setUint8:function(a,b){this.buf.a[a+this.offset]=b&255},setInt16:function(a,b,c){this.setUint16(a,0>b?b+65536:b,c)},setUint16:function(a,b,c){a+=this.offset;c?(this.buf.a[a]=b&255,this.buf.a[a++]=b>>8&255):(this.buf.a[a++]=b>>
8&255,this.buf.a[a]=b&255)},setInt32:function(a,b,c){this.setUint32(a,b,c)},setUint32:function(a,b,c){a+=this.offset;c?(this.buf.a[a++]=b&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>>24):(this.buf.a[a++]=b>>>24,this.buf.a[a++]=b>>16&255,this.buf.a[a++]=b>>8&255,this.buf.a[a++]=b&255)},setFloat32:function(a,b,c){this.setUint32(a,fb.floatToI32(b),c)},setFloat64:function(a,b,c){b=fb.doubleToI64(b);c?(this.setUint32(a,b.low),this.setUint32(a,b.high)):(this.setUint32(a,b.high),
this.setUint32(a,b.low))},__class__:zg};var Bb=function(){};f["js.html.compat.Uint8Array"]=Bb;Bb.__name__=["js","html","compat","Uint8Array"];Bb._new=function(a,b,c){if("number"==typeof a){c=[];for(b=0;b<a;){var d=b++;c[d]=0}c.byteLength=c.length;c.byteOffset=0;c.buffer=new gb(c)}else if(T.__instanceof(a,gb))null==b&&(b=0),null==c&&(c=a.byteLength-b),c=0==b?a.a:a.a.slice(b,b+c),c.byteLength=c.length,c.byteOffset=b,c.buffer=a;else if(a instanceof Array&&null==a.__enum__)c=a.slice(),c.byteLength=c.length,
c.byteOffset=0,c.buffer=new gb(c);else throw new v("TODO "+D.string(a));c.subarray=Bb._subarray;c.set=Bb._set;return c};Bb._set=function(a,b){if(T.__instanceof(a.buffer,gb)){if(a.byteLength+b>this.byteLength)throw new v("set() outside of range");for(var c=0,d=a.byteLength;c<d;){var h=c++;this[h+b]=a[h]}}else if(a instanceof Array&&null==a.__enum__){if(a.length+b>this.byteLength)throw new v("set() outside of range");c=0;for(d=a.length;c<d;)h=c++,this[h+b]=a[h]}else throw new v("TODO");};Bb._subarray=
function(a,b){var c=Bb._new(this.slice(a,b));c.byteOffset=a;return c};var dd=function(){};f["kit.asset.AssetPack"]=dd;dd.__name__=["kit","asset","AssetPack"];dd.__interfaces__=[Pa];dd.prototype={__class__:dd};var nf=function(){this.$VG=this.$WG=null};f.$CJ=nf;nf.__name__=["$CJ"];nf.prototype={$XG:function(){var a=this.$WG;if(null!=a){this.$WG=null;for(var b=0;b<a.length;){var c=a[b];++b;c.dispose()}}this.$VG=null},__class__:nf};var Lf=function(){};f["kit.MessageResult"]=Lf;Lf.__name__=["kit","MessageResult"];
Lf.prototype={__class__:Lf};var q=function(){this.active=!0;this.parent=this.firstChild=this.next=this.firstComponent=null;this.$fG={}};f["kit.Entity"]=q;q.__name__=["kit","Entity"];q.__interfaces__=[Pa];q.$gG=function(a){for(var b=null;null!=a;)b=a,a=a.next;return b};q.prototype={add:function(a){null!=a.owner&&a.owner.remove(a);var b=a.get_entitySlot(),c=this.$fG[b];null!=c&&this.remove(c);this.$fG[b]=a;b=null;for(c=this.firstComponent;null!=c;)b=c,c=c.next;null!=b?b.next=a:this.firstComponent=a;
a.owner=this;a.next=null;a.onAdded();return this},remove:function(a){for(var b=null,c=this.firstComponent;null!=c;){var d=c.next;if(c==a)return null==b?this.firstComponent=d:(b.owner=this,b.next=d),a=c.get_entitySlot(),delete this.$fG[a],0!=(c.$ZF&1)&&(c.onStop(),c.$ZF&=-2),c.onRemoved(),c.owner=null,c.next=null,!0;b=c;c=d}return!1},addChild:function(a,b){null==b&&(b=!0);null!=a.parent&&a.parent.removeChild(a);a.parent=this;b?this.$bG(q.$gG(this.firstChild),a):this.$cG(a);return this},removeChild:function(a){for(var b=
null,c=this.firstChild;null!=c;){if(c==a){this.$aG(b);c.parent=null;c.next=null;break}b=c;c=c.next}},emitMessage:function(a,b){for(var c=!1,d=this.firstComponent;null!=d;){var h=d.next;d.onMessage(a,b)&&(c=!0);d=h}q.$hG.handled=c;return q.$hG},emitMessageToParents:function(a,b){var c=!1,d=this;do{var h=d.parent;d.emitMessage(a,b).handled&&(c=!0);d=h}while(null!=d);q.$hG.handled=c;return q.$hG},disposeChildren:function(){for(;null!=this.firstChild;)this.firstChild.dispose()},dispose:function(){for(null!=
this.parent&&this.parent.removeChild(this);null!=this.firstComponent;)this.firstComponent.dispose();this.disposeChildren()},_internal_getFromParents:function(a,b){var c=this;do{var d=c.$fG[a];null!=b&&(d=d instanceof b?d:null);if(null!=d)return d;c=c.parent}while(null!=c);return null},_internal_getFromChildren:function(a,b){var c=this.$fG[a];null!=b&&(c=c instanceof b?c:null);if(null!=c)return c;for(c=this.firstChild;null!=c;){var d=c._internal_getFromChildren(a,b);if(null!=d)return d;c=c.next}return null},
$aG:function(a){null!=a?a.next=a.next.next:this.$dG()},$bG:function(a,b){null!=a?(b.next=a.next,a.next=b):this.$cG(b)},$cG:function(a){a.next=this.firstChild;this.firstChild=a},$dG:function(){this.firstChild=this.firstChild.next},__class__:q};var Mf=function(){};f.$CK=Mf;Mf.__name__=["$CK"];Mf.prototype={__class__:Mf};var $a=function(){this.$DH=!0};f.$CL=$a;$a.__name__=["$CL"];$a.__interfaces__=[Mf];$a.$GH=function(a){var b=ad.getLocalStorage();return null!=b?new ed(b,a):new fd};$a.prototype={init:function(){var a=
this;I.$gS();I.$hS();var b=null;try{b=window.flambe.canvas}catch(c){c instanceof v&&(c=c.val)}b.setAttribute("tabindex","0");b.style.outlineStyle="none";I.$YS(b,"tap-highlight-color","transparent");b.setAttribute("moz-opaque","");this.$qG=new Pb(b);this.$oG=new za;this.$nG=new gd(this.$oG,b);this.$pG=this.$mG(b);this.$iG=new Hb;this.$_G=b;this.$AH=b.parentElement;this.$AH.style.overflow="hidden";this.$AH.style.position="relative";I.$YS(this.$AH,"touch-action","none");var d=0,h=function(c){if(!(1E3>
c.timeStamp-d)){var h=b.getBoundingClientRect(),l=a.$kG(c,h),h=a.$lG(c,h);switch(c.type){case "mousedown":c.target==b&&(c.preventDefault(),a.$nG.$yM(l,h,c.button),b.focus());break;case "mousemove":a.$nG.$AN(l,h);break;case "mouseup":a.$nG.$zM(l,h,c.button);break;case "mousewheel":case "DOMMouseScroll":a.$nG.$BN(l,h,"mousewheel"==c.type?c.wheelDelta/40:-c.detail)&&c.preventDefault()}}};window.addEventListener("mousedown",h,!1);window.addEventListener("mousemove",h,!1);window.addEventListener("mouseup",
h,!1);b.addEventListener("mousewheel",h,!1);b.addEventListener("DOMMouseScroll",h,!1);b.addEventListener("contextmenu",function(a){a.preventDefault()},!1);var l="undefined"!=typeof window.ontouchstart,h=D["int"](I.$VS("maxTouchPoints",window.navigator).value);if(l||1<h){var e=new hd(this.$oG,l?4:h);this.$rG=e;h=function(b){var c;c=l?b.changedTouches:[b];var h=b.target.getBoundingClientRect();d=b.timeStamp;switch(b.type){case "touchstart":case "MSPointerDown":case "pointerdown":b.preventDefault();
for(b=0;b<c.length;){var f=c[b];++b;var g=a.$kG(f,h),k=a.$lG(f,h);e.$yM((l?f.identifier:f.pointerId)|0,g,k)}break;case "touchmove":case "MSPointerMove":case "pointermove":b.preventDefault();for(b=0;b<c.length;)f=c[b],++b,g=a.$kG(f,h),k=a.$lG(f,h),e.$AN((l?f.identifier:f.pointerId)|0,g,k);break;case "touchend":case "touchcancel":case "MSPointerUp":case "pointerup":for(b=0;b<c.length;)f=c[b],++b,g=a.$kG(f,h),k=a.$lG(f,h),e.$zM((l?f.identifier:f.pointerId)|0,g,k)}};l?(b.addEventListener("touchstart",
h,!1),b.addEventListener("touchmove",h,!1),b.addEventListener("touchend",h,!1),b.addEventListener("touchcancel",h,!1)):(b.addEventListener("MSPointerDown",h,!1),b.addEventListener("MSPointerMove",h,!1),b.addEventListener("MSPointerUp",h,!1))}else this.$rG=new id;var f=window.onerror;window.onerror=function(a,b,c){r.uncaughtError.emit(a);return null!=f?f(a,b,c):!1};var g=I.$VS("hidden",window.document);null!=g.value?(h=function(a){r.hidden.set__(M.field(window.document,g.field))},h(null),window.document.addEventListener(g.prefix+
"visibilitychange",h,!1)):(h=function(a){r.hidden.set__("pagehide"==a.type)},window.addEventListener("pageshow",h,!1),window.addEventListener("pagehide",h,!1));r.hidden.get_changed().connect(function(b,c){b||(a.$CH=!0)});this.$CH=!1;this.$BH=Date.now();var k=I.$VS("requestAnimationFrame").value;if(null!=k){var m=window.performance,n=null!=m&&I.$XS("now",m);n?this.$BH=m.now():null;var p=null,p=function(c){k(p,b);a.$jG(n?m.now():c)};k(p,b)}else window.setInterval(function(){a.$jG(Date.now())},16);Ea.$QN("fullscreen")&&
this.$rG.get_supported()&&this.$qG.get_fullscreenSupported()&&this.$rG.up.connect(function(b){a.$qG.fullscreen.$HH||a.$qG.requestFullscreen()});var q=Ea.$RN();null!=q&&(this.$qG.fullscreen.get_changed().connect(function(b,c){b&&a.$qG.lockOrientation(q)}),this.$qG.lockOrientation(q));this.$iG.$BQ.add(new jd);this.$iG.$aK();return(new Ma).$JW(null)},loadAssetPack:function(a){return(new R(this,a)).$UG},getLocalStorage:function(){if(null==this.$yG){var a="2DKit.local."+D.string(Ea.$QN("id"));this.$yG=
$a.$GH(a)}return this.$yG},$jG:function(a){var b=(a-this.$BH)/1E3;this.$BH=a;r.hidden.$HH||(this.$CH?this.$CH=!1:(this.$DH&&(this.$DH=!1,this.$qG.$HS(null)),this.$iG.$jG(b),this.$iG.$zI(this.$pG)))},getKeyboard:function(){var a=this;if(null==this.$xG){this.$xG=new ab;var b=function(b){switch(b.type){case "keydown":a.$xG.$yM(b.keyCode)&&b.preventDefault();break;case "keyup":a.$xG.$zM(b.keyCode)}};this.$_G.addEventListener("keydown",b,!1);this.$_G.addEventListener("keyup",b,!1);if(null!=window.history&&
null!=(W=window.history,m(W,W.pushState))){var c=!1,d=function(){window.history.pushState("2DKitBack",null);c=!0};window.addEventListener("popstate",function(b){c&&(null!=a.$xG.backButton.$oF?(d(),a.$xG.backButton.emit()):window.history.back())});if(I.$QS)this.$oG.down.connect(function(a){d()}).once();else d()}}return this.$xG},getExternal:function(){null==this.$uG&&(this.$uG=new kd);return this.$uG},getRenderer:function(){return this.$pG},$kG:function(a,b){return(a.clientX-b.left)*this.$qG.get_width()/
b.width},$lG:function(a,b){return(a.clientY-b.top)*this.$qG.get_height()/b.height},$mG:function(a){if(0<=window.navigator.userAgent.indexOf("Windows Phone"))return new mc(a);try{var b=yg.getContextWebGL(a,{alpha:!1,depth:!1,stencil:!0,failIfMajorPerformanceCaveat:!0});if(null!=b){var c=new ld(this.$qG,b);if(c.$oU)return c}}catch(d){d instanceof v&&(d=d.val),null}return new mc(a)},__class__:$a};var sa=function(a,b){this.$HH=a;this.$IH=null!=b?new mb(b):null};f["kit.util.Value"]=sa;sa.__name__=["kit",
"util","Value"];sa.prototype={watch:function(a){a(this.$HH,this.$HH);return this.get_changed().connect(a)},get__:function(){return this.$HH},set__:function(a){var b=this.$HH;a!=b&&(this.$HH=a,null!=this.$IH&&this.$IH.emit(a,b));return a},get_changed:function(){null==this.$IH&&(this.$IH=new mb);return this.$IH},__class__:sa};var mb=function(a){ra.call(this,a)};f["kit.util.Signal2"]=mb;mb.__name__=["kit","util","Signal2"];mb.__super__=ra;mb.prototype=p(ra.prototype,{connect:function(a,b){null==b&&(b=
!1);return this.$gF(a,b)},emit:function(a,b){var c=this;this.$oF==ra.$qF?this.$iF(function(){c.$rF(a,b)}):this.$rF(a,b)},$rF:function(a,b){for(var c=this.$jF(),d=c;null!=d;)d.$eF(a,b),d.stayInList||d.dispose(),d=d.$dF;this.$kF(c)},__class__:mb});var Y=function(a,b){this.$JH=null;sa.call(this,a,b)};f["kit.animation.AnimatedFloat"]=Y;Y.__name__=["kit","animation","AnimatedFloat"];Y.__super__=sa;Y.prototype=p(sa.prototype,{set__:function(a){this.$JH=null;return sa.prototype.set__.call(this,a)},update:function(a){null!=
this.$JH&&(sa.prototype.set__.call(this,this.$JH.update(a)),this.$JH.isComplete()&&(this.$JH=null))},animate:function(a,b,c,d){this.set__(a);this.animateTo(b,c,d)},animateTo:function(a,b,c){this.set_behavior(new jc(this.$HH,a,b,c))},set_behavior:function(a){this.$JH=a;this.update(0);return a},__class__:Y});var r=function(){};f["kit.System"]=r;r.__name__=["kit","System"];r.$KH=function(){null==r.$NH&&(r.$NH=r.$MH.init());return r.$NH};r.loadAssetPack=function(a){return r.$MH.loadAssetPack(a)};r.nextFrame=
function(a){r.$MH.$iG.$EQ(a)};var Eb=function(a){null==a&&(a=1);this.$QH=0;y.call(this);this.scale=new Y(a)};f["kit.SpeedAdjuster"]=Eb;Eb.__name__=["kit","SpeedAdjuster"];Eb.__super__=y;Eb.prototype=p(y.prototype,{get_entitySlot:function(){return 9},onUpdate:function(a){0<this.$QH&&(a=this.$QH,this.$QH=0);this.scale.update(a)},__class__:Eb});var Nf=function(){};f["kit.animation.Behavior"]=Nf;Nf.__name__=["kit","animation","Behavior"];Nf.prototype={__class__:Nf};var jc=function(a,b,c,d){this.$TH=a;
this.$UH=b;this.$VH=c;this.elapsed=0;this.$WH=null!=d?d:eb.linear};f["kit.animation.Tween"]=jc;jc.__name__=["kit","animation","Tween"];jc.__interfaces__=[Nf];jc.prototype={update:function(a){this.elapsed+=a;return this.elapsed>=this.$VH?this.$UH:this.$TH+(this.$UH-this.$TH)*this.$WH(this.elapsed/this.$VH)},isComplete:function(){return this.elapsed>=this.$VH},__class__:jc};var qb=function(){};f["kit.asset.Asset"]=qb;qb.__name__=["kit","asset","Asset"];qb.__interfaces__=[Pa];qb.prototype={__class__:qb};
var t=f["kit.asset.AssetFormat"]={__ename__:["kit","asset","AssetFormat"],__constructs__:"WEBP JXR PNG JPG GIF _2DKD _2DKP _2DKE MP3 M4A OPUS OGG WAV WOFF TTF OTF SWF MP4 WEBM Data".split(" ")};t.WEBP=["WEBP",0];t.WEBP.toString=n;t.WEBP.__enum__=t;t.JXR=["JXR",1];t.JXR.toString=n;t.JXR.__enum__=t;t.PNG=["PNG",2];t.PNG.toString=n;t.PNG.__enum__=t;t.JPG=["JPG",3];t.JPG.toString=n;t.JPG.__enum__=t;t.GIF=["GIF",4];t.GIF.toString=n;t.GIF.__enum__=t;t._2DKD=["_2DKD",5];t._2DKD.toString=n;t._2DKD.__enum__=
t;t._2DKP=["_2DKP",6];t._2DKP.toString=n;t._2DKP.__enum__=t;t._2DKE=["_2DKE",7];t._2DKE.toString=n;t._2DKE.__enum__=t;t.MP3=["MP3",8];t.MP3.toString=n;t.MP3.__enum__=t;t.M4A=["M4A",9];t.M4A.toString=n;t.M4A.__enum__=t;t.OPUS=["OPUS",10];t.OPUS.toString=n;t.OPUS.__enum__=t;t.OGG=["OGG",11];t.OGG.toString=n;t.OGG.__enum__=t;t.WAV=["WAV",12];t.WAV.toString=n;t.WAV.__enum__=t;t.WOFF=["WOFF",13];t.WOFF.toString=n;t.WOFF.__enum__=t;t.TTF=["TTF",14];t.TTF.toString=n;t.TTF.__enum__=t;t.OTF=["OTF",15];t.OTF.toString=
n;t.OTF.__enum__=t;t.SWF=["SWF",16];t.SWF.toString=n;t.SWF.__enum__=t;t.MP4=["MP4",17];t.MP4.toString=n;t.MP4.__enum__=t;t.WEBM=["WEBM",18];t.WEBM.toString=n;t.WEBM.__enum__=t;t.Data=["Data",19];t.Data.toString=n;t.Data.__enum__=t;t.__empty_constructs__=[t.WEBP,t.JXR,t.PNG,t.JPG,t.GIF,t._2DKD,t._2DKP,t._2DKE,t.MP3,t.M4A,t.OPUS,t.OGG,t.WAV,t.WOFF,t.TTF,t.OTF,t.SWF,t.MP4,t.WEBM,t.Data];var Of=function(a,b,c,d){this.name=a;this.url=b;this.format=c;this.bytes=d};f["kit.asset.AssetEntry"]=Of;Of.__name__=
["kit","asset","AssetEntry"];Of.prototype={__class__:Of};var md=function(){};f["kit.asset.File"]=md;md.__name__=["kit","asset","File"];md.__interfaces__=[qb];md.prototype={__class__:md};var Ra=function(){this.$XH=this.$YH=null;this.pixelScale=1;this.$KG=[]};f["kit.asset.Manifest"]=Ra;Ra.__name__=["kit","asset","Manifest"];Ra.fromAssets=function(a,b,c){null==c&&(c=!0);null==b&&(b=-1);b=1;c=[];for(var d=Ea.$QN("assets"),h=0,l=M.fields(d);h<l.length;){var e=l[h];++h;if(X.startsWith(e,a)){var f=F.substr(e,
a.length,null);if(0<f.length){var g=new lb("^-([\\d\\.]+)%$","");g.match(f)&&(f=D.parseFloat(g.matched(1)),c.push(new nd(e,f/100)))}else c.push(new nd(e,1))}}if(0==c.length)return null;c.sort(function(a,b){return M.compare(a.$dH,b.$dH)});a=null;for(h=0;h<c.length&&!(l=c[h],++h,a=l,l.$dH>=b););b=M.field(d,a.$cH);c=new Ra;c.$XH="assets";c.pixelScale=a.$dH;try{var k=jsembed.baseUrl();c.$XH=k+c.$XH}catch(m){m instanceof v&&(m=m.val)}k=encodeURIComponent(a.$cH);for(d=0;d<b.length;){a=b[d];++d;h=a.name;
l=k;e=0;for(f=h.split("/");e<f.length;)g=f[e],++e,l+="/"+encodeURIComponent(g);l+="?v="+D.string(a.md5);e=Ra.$ZH(h);e!=t.Data&&(h=Fa.removeFileExtension(h));c.add(h,l,a.bytes,e)}return c};Ra.$ZH=function(a){a=Fa.getUrlExtension(a);if(null!=a)switch(a.toLowerCase()){case "gif":return t.GIF;case "jpg":case "jpeg":return t.JPG;case "jxr":case "wdp":return t.JXR;case "png":return t.PNG;case "webp":return t.WEBP;case "2dkd":return t._2DKD;case "2dkp":return t._2DKP;case "2dke":return t._2DKE;case "m4a":return t.M4A;
case "mp3":return t.MP3;case "ogg":return t.OGG;case "opus":return t.OPUS;case "wav":return t.WAV;case "woff":return t.WOFF;case "ttf":return t.TTF;case "otf":return t.OTF;case "swf":return t.SWF;case "mp4":return t.MP4;case "webm":return t.WEBM}else null;return t.Data};Ra.prototype={add:function(a,b,c,d){null==c&&(c=0);null==d&&(d=Ra.$ZH(b));a=new Of(a,b,d,c);this.$KG.push(a);return a},iterator:function(){return F.iter(this.$KG)},getFullURL:function(a){var b;b=null!=this.$YH&&Ra.$bH?this.$YH:this.$XH;
return null!=b?Fa.joinPath(b,a.url):a.url},__class__:Ra};var nd=function(a,b){this.$cH=a;this.$dH=b};f.$CM=nd;nd.__name__=["$CM"];nd.prototype={__class__:nd};var Pf=function(){};f["kit.filter.FilterContext"]=Pf;Pf.__name__=["kit","filter","FilterContext"];Pf.prototype={__class__:Pf};var od=function(){this.$vH=[];this.$uH=[]};f.$CN=od;od.__name__=["$CN"];od.__interfaces__=[Pf];od.prototype={$sH:function(a,b,c,d){var h=this.$uH.pop();null!=h?h.$DO(c,d):h=new Qf(c,d);h.$_N=a;h.$AO=b;this.$vH.unshift(h);
return h.$BO},apply:function(a){a.active&&a.apply(this)},render:function(a){this.$vH[0].$EO(a)},$tH:function(){var a=this.$vH.shift();this.$uH.push(a);return a.$BO},__class__:od};var Na=function(){this.identity()};f["kit.math.Matrix"]=Na;Na.__name__=["kit","math","Matrix"];Na.multiply=function(a,b,c){null==c&&(c=new Na);var d=a.m00,h=a.m01,l=a.m02,e=a.m10,f=a.m11;a=a.m12;var g=b.m00,k=b.m01,m=b.m02,n=b.m10,p=b.m11;b=b.m12;c.m00=d*g+h*n;c.m01=d*k+h*p;c.m02=d*m+h*b+l;c.m10=e*g+f*n;c.m11=e*k+f*p;c.m12=
e*m+f*b+a;return c};Na.prototype={set:function(a,b,c,d,h,l){this.m00=a;this.m01=c;this.m02=h;this.m10=b;this.m11=d;this.m12=l},identity:function(){this.set(1,0,0,1,0,0)},compose:function(a,b,c,d,h){var l=Math.sin(h);h=Math.cos(h);this.set(h*c,l*c,-l*d,h*d,a,b)},translate:function(a,b){this.m02+=this.m00*a+this.m01*b;this.m12+=this.m11*b+this.m10*a},invert:function(){var a=this.determinant();if(0==a)return!1;this.set(this.m11/a,-this.m10/a,-this.m01/a,this.m00/a,(this.m01*this.m12-this.m11*this.m02)/
a,(this.m10*this.m02-this.m00*this.m12)/a);return!0},transform:function(a,b,c){null==c&&(c=new A);c.x=a*this.m00+b*this.m01+this.m02;c.y=a*this.m10+b*this.m11+this.m12;return c},transformArray:function(a,b,c){for(var d=0;d<b;){var h=a[d],l=a[d+1];c[d++]=h*this.m00+l*this.m01+this.m02;c[d++]=h*this.m10+l*this.m11+this.m12}},determinant:function(){return this.m00*this.m11-this.m01*this.m10},inverseTransform:function(a,b,c){var d=this.determinant();if(0==d)return!1;a-=this.m02;b-=this.m12;c.x=(a*this.m11-
b*this.m01)/d;c.y=(b*this.m00-a*this.m10)/d;return!0},clone:function(a){null==a&&(a=new Na);a.set(this.m00,this.m10,this.m01,this.m11,this.m02,this.m12);return a},__class__:Na};var w=function(){this.$LI=null;this.$DI=this.$EI=0;this.$CI=null;var a=this;y.call(this);this.$ZF|=182;this.$BI=new Na;var b=function(b,d){a.$ZF|=24};this.x=new Y(0,b);this.y=new Y(0,b);this.rotation=new Y(0,b);this.scaleX=new Y(1,b);this.scaleY=new Y(1,b);this.anchorX=new Y(0,b);this.anchorY=new Y(0,b);this.alpha=new Y(1)};
f["kit.display.Sprite"]=w;w.__name__=["kit","display","Sprite"];w.hitTest=function(a,b,c){if(!a.active)return null;var d=a.$fG[1];if(null!=d){if(6!=(d.$ZF&6)||null!=d.$LI&&null!=d.$LI.$HK||!d.getLocalMatrix().inverseTransform(b,c,w.$SI))return null;b=w.$SI.x;c=w.$SI.y;var h=d.get_scissor();if(null!=h&&!h.contains(b,c))return null}a=w.$PI(a.firstChild,b,c);return null!=a?a:null!=d&&d.containsLocal(b,c)?d:null};w.getBounds=function(a,b){null==b&&(b=new qa);b.set(1.79769313486231E308,1.79769313486231E308,
-1.79769313486231E308,-1.79769313486231E308);w.$QI(a,null,b);b.width-=b.x;b.height-=b.y;return b};w.render=function(a,b){w.$MI(a,b,!0)};w.$MI=function(a,b,c){if(a.active){var d=null,h=null,l=a.$fG[1];if(null!=l){var e=l.alpha.$HH;if(0==(l.$ZF&2)||0>=e)return;var f=l.$LI;if(c&&null!=f&&null!=f.$HK)return;b.save();null!=f&&null!=f.$GK&&0!=(l.$ZF&128)&&(c=f.$GK.owner,null!=c&&(b.beginMask(),w.$MI(c,b,!1),b.endMask()));if(null!=f){var g=!1;c=!1;for(var k=0,m=0,n=0,p=0,q=0,t=f.$IK;q<t.length;){var s=t[q];
++q;s.active&&(g=!0,c=c||!s.outputOnly,k=Math.max(k,s.paddingTop),m=Math.max(m,s.paddingRight),n=Math.max(n,s.paddingBottom),p=Math.max(p,s.paddingLeft))}if(g&&r.$MH.$pG.get_filterSupported()){h=l.$xH();g=null!=h?h.getViewMatrix():null;q=l.getViewMatrix();h=new qa;h.set(1.79769313486231E308,1.79769313486231E308,-1.79769313486231E308,-1.79769313486231E308);var u=f.$JK;if(null!=u){var t=u.x,s=u.y,v=t+u.width,u=s+u.height;v>t&&u>s&&(w.$RI(q,t,s,h),w.$RI(q,v,s,h),w.$RI(q,v,u,h),w.$RI(q,t,u,h))}else w.$QI(a,
g,h);h.width-=h.x;h.height-=h.y;if(!h.get_empty()){h.x-=p;h.y-=k;h.width+=p+m;h.height+=k+n;d=w.$UI.$sH(h.x,h.y,Math.ceil(h.width),Math.ceil(h.height));c&&(d=d.get_graphics(),d.save(),d.translate(-h.x,-h.y),d.transform(q.m00,q.m10,q.m01,q.m11,q.m02,q.m12),w.$OI(l,d),w.$NI(a,d),d.restore());d=0;for(c=f.$IK;d<c.length;)k=c[d],++d,w.$UI.apply(k);d=w.$UI.$tH();null!=g&&(c=g.clone(w.$TI),c.invert(),b.transform(c.m00,c.m10,c.m01,c.m11,c.m02,c.m12))}}}1>e&&b.multiplyAlpha(e);null==d&&(e=l.getLocalMatrix(),
c=e.m02,k=e.m12,0!=(l.$ZF&32)&&(c=Math.round(c),k=Math.round(k)),b.transform(e.m00,e.m10,e.m01,e.m11,c,k));null!=f&&(1==f.$CK.$HH&&1==f.$DK.$HH&&1==f.$EK.$HH||b.tint(f.$CK.$HH,f.$DK.$HH,f.$EK.$HH),null!=f.$AK&&b.setBlendMode(f.$AK),f=f.$BK,null!=f&&null==d&&b.applyScissor(f.x,f.y,f.width,f.height));null==d?w.$OI(l,b):b.drawSubTexture(d,h.x,h.y,0,0,h.width,h.height)}null==d&&w.$NI(a,b);null!=l&&b.restore()}};w.$NI=function(a,b){var c=a.$fG[7];if(null!=c)for(var c=c.occludedScenes,d=0;d<c.length;){var h=
c[d];++d;w.render(h,b)}for(c=a.firstChild;null!=c;)d=c.next,w.render(c,b),c=d};w.$OI=function(a,b){a.draw(b);var c=a.$LI;null!=c&&null!=c.$FK&&c.$FK.render(b)};w.$PI=function(a,b,c){if(null!=a){var d=w.$PI(a.next,b,c);return null!=d?d:w.hitTest(a,b,c)}return null};w.$QI=function(a,b,c){if(a.active){var d=a.$fG[1];if(null!=d){b=null!=b?Na.multiply(b,d.getLocalMatrix()):d.getLocalMatrix();var h=d.getNaturalWidth(),d=d.getNaturalHeight();0<h&&0<d&&(w.$RI(b,0,0,c),w.$RI(b,h,0,c),w.$RI(b,h,d,c),w.$RI(b,
0,d,c))}h=a.$fG[7];if(null!=h)for(var h=h.occludedScenes,d=0,l=h.length;d<l;)w.$QI(h[d],b,c),++d;for(a=a.firstChild;null!=a;)h=a.next,w.$QI(a,b,c),a=h}};w.$RI=function(a,b,c,d){a=a.transform(b,c,w.$SI);b=a.x;c=a.y;b<d.x&&(d.x=b);c<d.y&&(d.y=c);b>d.width&&(d.width=b);c>d.height&&(d.height=c)};w.__super__=y;w.prototype=p(y.prototype,{get_entitySlot:function(){return 1},getNaturalWidth:function(){return 0},getNaturalHeight:function(){return 0},containsLocal:function(a,b){return 0<=a&&a<this.getNaturalWidth()&&
0<=b&&b<this.getNaturalHeight()},getLocalMatrix:function(){0!=(this.$ZF&8)&&(this.$ZF&=-9,this.$BI.compose(this.x.$HH,this.y.$HH,this.scaleX.$HH,this.scaleY.$HH,3.141592653589793*this.rotation.$HH/180),this.$BI.translate(-this.anchorX.$HH,-this.anchorY.$HH));return this.$BI},getViewMatrix:function(){if(this.$wH()){var a=this.$xH();this.$CI=null!=a?Na.multiply(a.getViewMatrix(),this.getLocalMatrix(),this.$CI):this.getLocalMatrix().clone(this.$CI);this.$ZF&=-17;null!=a&&(this.$EI=a.$DI);++this.$DI}return this.$CI},
setAnchor:function(a,b){this.anchorX.set__(a);this.anchorY.set__(b);return this},centerAnchor:function(){this.anchorX.set__(this.getNaturalWidth()/2);this.anchorY.set__(this.getNaturalHeight()/2);return this},setXY:function(a,b){this.x.set__(a);this.y.set__(b);return this},setAlpha:function(a){this.alpha.set__(a);return this},setTint:function(a){if(null!=this.$LI||16777215!=a)this.get_tintR().set__((a&16711680)/16711680),this.get_tintG().set__((a&65280)/65280),this.get_tintB().set__((a&255)/255);
return this},setScale:function(a){this.scaleX.set__(a);this.scaleY.set__(a);return this},setScaleXY:function(a,b){this.scaleX.set__(a);this.scaleY.set__(b);return this},onAdded:function(){0!=(this.$ZF&64)&&this.$yH()},onRemoved:function(){null!=this.$KI&&(this.$KI.dispose(),this.$KI=null)},onUpdate:function(a){this.x.update(a);this.y.update(a);this.rotation.update(a);this.scaleX.update(a);this.scaleY.update(a);this.alpha.update(a);this.anchorX.update(a);this.anchorY.update(a);var b=this.$LI;if(null!=
b){b.$CK.update(a);b.$DK.update(a);b.$EK.update(a);for(var c=0,b=b.$IK;c<b.length;){var d=b[c];++c;d.active&&d.update(a)}}},draw:function(a){},$wH:function(){if(0!=(this.$ZF&16))return!0;var a=this.$xH();return null==a?!1:this.$EI!=a.$DI||a.$wH()},$xH:function(){if(null==this.owner)return null;for(var a=this.owner.parent;null!=a;){var b=a.$fG[1];if(null!=b)return b;a=a.parent}return null},get_pointerDown:function(){null==this.$FI&&(this.$FI=new L);return this.$FI},get_pointerUp:function(){null==this.$HI&&
(this.$HI=new L);return this.$HI},get_pointerIn:function(){null==this.$II&&(this.$II=new L);return this.$II},get_pointerOut:function(){null==this.$JI&&(this.$JI=new L);return this.$JI},$yH:function(){var a=this;null==this.$KI&&r.$MH.$iG.$EQ(function(){a.$KI=r.$MH.$oG.move.connect(function(b){for(var c=b.hit;null!=c;){if(c==a)return;c=c.$xH()}null!=a.$JI&&0!=(a.$ZF&64)&&a.$JI.emit(b);a.$ZF&=-65;null!=a.$KI&&(a.$KI.dispose(),a.$KI=null)})})},get_blendMode:function(){return null!=this.$LI?this.$LI.$AK:
null},set_blendMode:function(a){if(null==this.$LI){if(null==a)return null;this.$LI=new rb}return this.$LI.$AK=a},get_scissor:function(){return null!=this.$LI?this.$LI.$BK:null},set_scissor:function(a){if(null==this.$LI){if(null==a)return null;this.$LI=new rb}return this.$LI.$BK=a},get_tintR:function(){null==this.$LI&&(this.$LI=new rb);return this.$LI.$CK},get_tintG:function(){null==this.$LI&&(this.$LI=new rb);return this.$LI.$DK},get_tintB:function(){null==this.$LI&&(this.$LI=new rb);return this.$LI.$EK},
set_mask:function(a){if(null==this.$LI){if(null==a)return null;this.$LI=new rb}var b=this.$LI.$GK;if(null!=b&&(b=b.$LI,null!=b&&null!=b.$HK)){var c=b.$HK;b.$HK=null;c.set_mask(null)}null!=a&&(b=a.$LI,null==b&&(b=a.$LI=new rb),null!=b.$HK&&b.$HK.set_mask(null),b.$HK=this);return this.$LI.$GK=a},set_maskEnabled:function(a){this.$ZF=nc.set(this.$ZF,128,a);return a},get_visible:function(){return 0!=(this.$ZF&2)},set_visible:function(a){this.$ZF=nc.set(this.$ZF,2,a);return a},set_pointerEnabled:function(a){this.$ZF=
nc.set(this.$ZF,4,a);return a},$zH:function(a){this.$_H(a);null!=this.$FI&&this.$FI.emit(a)},$$H:function(a){this.$_H(a);null!=this.$GI&&this.$GI.emit(a)},$_H:function(a){0==(this.$ZF&64)&&(this.$ZF|=64,null!=this.$II||null!=this.$JI)&&(null!=this.$II&&this.$II.emit(a),this.$yH())},$AI:function(a){switch(a.source[1]){case 1:null!=this.$JI&&0!=(this.$ZF&64)&&this.$JI.emit(a),this.$ZF&=-65,null!=this.$KI&&(this.$KI.dispose(),this.$KI=null)}null!=this.$HI&&this.$HI.emit(a)},__class__:w});var qa=function(a,
b,c,d){null==d&&(d=0);null==c&&(c=0);null==b&&(b=0);null==a&&(a=0);this.set(a,b,c,d)};f["kit.math.Rectangle"]=qa;qa.__name__=["kit","math","Rectangle"];qa.prototype={set:function(a,b,c,d){this.x=a;this.y=b;this.width=c;this.height=d},contains:function(a,b){a-=this.x;if(0<=this.width){if(0>a||a>this.width)return!1}else if(0<a||a<this.width)return!1;b-=this.y;if(0<=this.height){if(0>b||b>this.height)return!1}else if(0<b||b<this.height)return!1;return!0},clone:function(a){null==a&&(a=new qa);a.set(this.x,
this.y,this.width,this.height);return a},equals:function(a){return this.x==a.x&&this.y==a.y&&this.width==a.width&&this.height==a.height},get_right:function(){return this.x+this.width},get_bottom:function(){return this.y+this.height},get_centerX:function(){return this.x+this.width/2},get_centerY:function(){return this.y+this.height/2},get_empty:function(){return 0>=this.width||0>=this.height},__class__:qa};var S=f["kit.display.BlendMode"]={__ename__:["kit","display","BlendMode"],__constructs__:"Normal Add Multiply Screen Mask Copy".split(" ")};
S.Normal=["Normal",0];S.Normal.toString=n;S.Normal.__enum__=S;S.Add=["Add",1];S.Add.toString=n;S.Add.__enum__=S;S.Multiply=["Multiply",2];S.Multiply.toString=n;S.Multiply.__enum__=S;S.Screen=["Screen",3];S.Screen.toString=n;S.Screen.__enum__=S;S.Mask=["Mask",4];S.Mask.toString=n;S.Mask.__enum__=S;S.Copy=["Copy",5];S.Copy.toString=n;S.Copy.__enum__=S;S.__empty_constructs__=[S.Normal,S.Add,S.Multiply,S.Screen,S.Mask,S.Copy];var pd=function(){};f["kit.display.Graphics"]=pd;pd.__name__=["kit","display",
"Graphics"];pd.prototype={__class__:pd};var Rf=function(){this.$yI=[]};f["kit.display.BufferedGraphics"]=Rf;Rf.__name__=["kit","display","BufferedGraphics"];Rf.__interfaces__=[pd];Rf.prototype={save:function(){this.$xI(new qd)},translate:function(a,b){this.$xI(new rd(a,b))},scale:function(a,b){this.$xI(new sd(a,b))},rotate:function(a){this.$xI(new td(a))},transform:function(a,b,c,d,h,l){this.$xI(new ud(a,b,c,d,h,l))},multiplyAlpha:function(a){this.$xI(new vd(a))},setAlpha:function(a){this.$xI(new wd(a))},
tint:function(a,b,c){this.$xI(new xd(a,b,c))},setBlendMode:function(a){this.$xI(new yd(a))},beginMask:function(){this.$xI(new zd)},endMask:function(){this.$xI(new Ad)},applyScissor:function(a,b,c,d){this.$xI(new Bd(a,b,c,d))},restore:function(){this.$xI(new Cd)},drawTexture:function(a,b,c){this.$xI(new Dd(a,b,c))},drawSubTexture:function(a,b,c,d,h,l,e){this.$xI(new Ed(a,b,c,d,h,l,e))},drawPattern:function(a,b,c,d,h){this.$xI(new Fd(a,b,c,d,h))},fillRect:function(a,b,c,d,h){this.$xI(new Gd(a,b,c,d,
h))},fillTriangles:function(a,b,c){this.$xI(new Hd(a,b.slice(),c.slice()))},drawTriangles:function(a,b,c,d){this.$xI(new Id(a,b.slice(),c.slice(),null!=d?d.slice():null))},fillPolygon:function(a,b){this.$xI(new Jd(a,b.slice()))},drawPolygon:function(a,b){this.$xI(new Kd(a,b.slice()))},drawCircle:function(a,b,c,d,h){null==h&&(h=50);this.$xI(new Ld(a,b,c,d,h))},fillCircle:function(a,b,c,d,h){null==h&&(h=50);this.$xI(new Md(a,b,c,d,h))},strokeCircle:function(a,b,c,d,h,l){null==l&&(l=50);this.$xI(new Nd(a,
b,c,d,h,l))},drawEllipse:function(a,b,c,d,h,l){null==l&&(l=50);this.$xI(new Od(a,b,c,d,h,l))},fillEllipse:function(a,b,c,d,h,l){null==l&&(l=50);this.$xI(new Pd(a,b,c,d,h,l))},strokeEllipse:function(a,b,c,d,h,l,e){null==e&&(e=50);this.$xI(new Qd(a,b,c,d,h,l,e))},fillArc:function(a,b,c,d,h,l,e){null==e&&(e=50);this.$xI(new Rd(a,b,c,d,h,l,e))},strokeArc:function(a,b,c,d,h,l,e,f){null==f&&(f=50);this.$xI(new Sd(a,b,c,d,h,l,e,f))},strokeLines:function(a,b,c){this.$xI(new Td(a,b.slice(),c))},drawLines:function(a,
b,c){this.$xI(new Ud(a,b.slice(),c))},render:function(a){for(var b=this.$yI.length,c=0;c<b;){var d=c++;this.$yI[d].$zI(a)}},$xI:function(a){this.$yI.push(a)},__class__:Rf};var E=function(){};f.$CP=E;E.__name__=["$CP"];E.prototype={$zI:function(a){},__class__:E};var qd=function(){};f.$CQ=qd;qd.__name__=["$CQ"];qd.__super__=E;qd.prototype=p(E.prototype,{$zI:function(a){a.save()},__class__:qd});var rd=function(a,b){this.$$I=a;this.$_I=b};f.$CR=rd;rd.__name__=["$CR"];rd.__super__=E;rd.prototype=p(E.prototype,
{$zI:function(a){a.translate(this.$$I,this.$_I)},__class__:rd});var sd=function(a,b){this.$$I=a;this.$_I=b};f.$CS=sd;sd.__name__=["$CS"];sd.__super__=E;sd.prototype=p(E.prototype,{$zI:function(a){a.scale(this.$$I,this.$_I)},__class__:sd});var td=function(a){this.$AJ=a};f.$CT=td;td.__name__=["$CT"];td.__super__=E;td.prototype=p(E.prototype,{$zI:function(a){a.rotate(this.$AJ)},__class__:td});var ud=function(a,b,c,d,h,l){this.$BJ=a;this.$CJ=b;this.$DJ=c;this.$EJ=d;this.$FJ=h;this.$GJ=l};f.$CU=ud;ud.__name__=
["$CU"];ud.__super__=E;ud.prototype=p(E.prototype,{$zI:function(a){a.transform(this.$BJ,this.$CJ,this.$DJ,this.$EJ,this.$FJ,this.$GJ)},__class__:ud});var vd=function(a){this.$HJ=a};f.$CV=vd;vd.__name__=["$CV"];vd.__super__=E;vd.prototype=p(E.prototype,{$zI:function(a){a.multiplyAlpha(this.$HJ)},__class__:vd});var wd=function(a){this.$IJ=a};f.$CW=wd;wd.__name__=["$CW"];wd.__super__=E;wd.prototype=p(E.prototype,{$zI:function(a){a.setAlpha(this.$IJ)},__class__:wd});var xd=function(a,b,c){this.$JJ=a;
this.$KJ=b;this.$LJ=c};f.$CX=xd;xd.__name__=["$CX"];xd.__super__=E;xd.prototype=p(E.prototype,{$zI:function(a){a.tint(this.$JJ,this.$KJ,this.$LJ)},__class__:xd});var yd=function(a){this.$MJ=a};f.$CY=yd;yd.__name__=["$CY"];yd.__super__=E;yd.prototype=p(E.prototype,{$zI:function(a){a.setBlendMode(this.$MJ)},__class__:yd});var Bd=function(a,b,c,d){this.$$I=a;this.$_I=b;this.$NJ=c;this.$OJ=d};f.$CZ=Bd;Bd.__name__=["$CZ"];Bd.__super__=E;Bd.prototype=p(E.prototype,{$zI:function(a){a.applyScissor(this.$$I,
this.$_I,this.$NJ,this.$OJ)},__class__:Bd});var zd=function(){};f.$Ca=zd;zd.__name__=["$Ca"];zd.__super__=E;zd.prototype=p(E.prototype,{$zI:function(a){a.beginMask()},__class__:zd});var Ad=function(){};f.$Cb=Ad;Ad.__name__=["$Cb"];Ad.__super__=E;Ad.prototype=p(E.prototype,{$zI:function(a){a.endMask()},__class__:Ad});var Cd=function(){};f.$Cc=Cd;Cd.__name__=["$Cc"];Cd.__super__=E;Cd.prototype=p(E.prototype,{$zI:function(a){a.restore()},__class__:Cd});var Dd=function(a,b,c){this.$PJ=a;this.$QJ=b;this.$RJ=
c};f.$Cd=Dd;Dd.__name__=["$Cd"];Dd.__super__=E;Dd.prototype=p(E.prototype,{$zI:function(a){a.drawTexture(this.$PJ,this.$QJ,this.$RJ)},__class__:Dd});var Ed=function(a,b,c,d,h,l,e){this.$PJ=a;this.$QJ=b;this.$RJ=c;this.$SJ=d;this.$TJ=h;this.$UJ=l;this.$VJ=e};f.$Ce=Ed;Ed.__name__=["$Ce"];Ed.__super__=E;Ed.prototype=p(E.prototype,{$zI:function(a){a.drawSubTexture(this.$PJ,this.$QJ,this.$RJ,this.$SJ,this.$TJ,this.$UJ,this.$VJ)},__class__:Ed});var Fd=function(a,b,c,d,h){this.$PJ=a;this.$QJ=b;this.$RJ=
c;this.$NJ=d;this.$OJ=h};f.$Cf=Fd;Fd.__name__=["$Cf"];Fd.__super__=E;Fd.prototype=p(E.prototype,{$zI:function(a){a.drawPattern(this.$PJ,this.$QJ,this.$RJ,this.$NJ,this.$OJ)},__class__:Fd});var Hd=function(a,b,c){this.$WJ=a;this.$XJ=b;this.$YJ=c};f.$Cg=Hd;Hd.__name__=["$Cg"];Hd.__super__=E;Hd.prototype=p(E.prototype,{$zI:function(a){a.fillTriangles(this.$WJ,this.$XJ,this.$YJ)},__class__:Hd});var Id=function(a,b,c,d){this.$PJ=a;this.$XJ=b;this.$YJ=c;this.$ZJ=d};f.$Ch=Id;Id.__name__=["$Ch"];Id.__super__=
E;Id.prototype=p(E.prototype,{$zI:function(a){a.drawTriangles(this.$PJ,this.$XJ,this.$YJ,this.$ZJ)},__class__:Id});var Jd=function(a,b){this.$WJ=a;this.$XJ=b};f.$Ci=Jd;Jd.__name__=["$Ci"];Jd.__super__=E;Jd.prototype=p(E.prototype,{$zI:function(a){a.fillPolygon(this.$WJ,this.$XJ)},__class__:Jd});var Kd=function(a,b){this.$PJ=a;this.$XJ=b};f.$Cj=Kd;Kd.__name__=["$Cj"];Kd.__super__=E;Kd.prototype=p(E.prototype,{$zI:function(a){a.drawPolygon(this.$PJ,this.$XJ)},__class__:Kd});var Ld=function(a,b,c,d,
h){this.$PJ=a;this.$aJ=b;this.$bJ=c;this.$cJ=d;this.$dJ=h};f.$Ck=Ld;Ld.__name__=["$Ck"];Ld.__super__=E;Ld.prototype=p(E.prototype,{$zI:function(a){a.drawCircle(this.$PJ,this.$aJ,this.$bJ,this.$cJ,this.$dJ)},__class__:Ld});var Md=function(a,b,c,d,h){this.$WJ=a;this.$aJ=b;this.$bJ=c;this.$cJ=d;this.$dJ=h};f.$Cl=Md;Md.__name__=["$Cl"];Md.__super__=E;Md.prototype=p(E.prototype,{$zI:function(a){a.fillCircle(this.$WJ,this.$aJ,this.$bJ,this.$cJ,this.$dJ)},__class__:Md});var Nd=function(a,b,c,d,h,l){this.$WJ=
a;this.$aJ=b;this.$bJ=c;this.$cJ=d;this.$eJ=h;this.$dJ=l};f.$Cm=Nd;Nd.__name__=["$Cm"];Nd.__super__=E;Nd.prototype=p(E.prototype,{$zI:function(a){a.strokeCircle(this.$WJ,this.$aJ,this.$bJ,this.$cJ,this.$eJ,this.$dJ)},__class__:Nd});var Pd=function(a,b,c,d,h,l){this.$WJ=a;this.$aJ=b;this.$bJ=c;this.$fJ=d;this.$gJ=h;this.$dJ=l};f.$Cn=Pd;Pd.__name__=["$Cn"];Pd.__super__=E;Pd.prototype=p(E.prototype,{$zI:function(a){a.fillEllipse(this.$WJ,this.$aJ,this.$bJ,this.$fJ,this.$gJ,this.$dJ)},__class__:Pd});
var Od=function(a,b,c,d,h,l){this.$PJ=a;this.$aJ=b;this.$bJ=c;this.$fJ=d;this.$gJ=h;this.$dJ=l};f.$Co=Od;Od.__name__=["$Co"];Od.__super__=E;Od.prototype=p(E.prototype,{$zI:function(a){a.drawEllipse(this.$PJ,this.$aJ,this.$bJ,this.$fJ,this.$gJ,this.$dJ)},__class__:Od});var Qd=function(a,b,c,d,h,l,e){this.$WJ=a;this.$aJ=b;this.$bJ=c;this.$fJ=d;this.$gJ=h;this.$eJ=l;this.$dJ=e};f.$Cp=Qd;Qd.__name__=["$Cp"];Qd.__super__=E;Qd.prototype=p(E.prototype,{$zI:function(a){a.strokeEllipse(this.$WJ,this.$aJ,this.$bJ,
this.$fJ,this.$gJ,this.$eJ,this.$dJ)},__class__:Qd});var Rd=function(a,b,c,d,h,l,e){this.$WJ=a;this.$aJ=b;this.$bJ=c;this.$cJ=d;this.$hJ=h;this.$iJ=l;this.$dJ=e};f.$Cq=Rd;Rd.__name__=["$Cq"];Rd.__super__=E;Rd.prototype=p(E.prototype,{$zI:function(a){a.fillArc(this.$WJ,this.$aJ,this.$bJ,this.$cJ,this.$hJ,this.$iJ,this.$dJ)},__class__:Rd});var Sd=function(a,b,c,d,h,l,e,f){this.$WJ=a;this.$aJ=b;this.$bJ=c;this.$cJ=d;this.$hJ=h;this.$iJ=l;this.$eJ=e;this.$dJ=f};f.$Cr=Sd;Sd.__name__=["$Cr"];Sd.__super__=
E;Sd.prototype=p(E.prototype,{$zI:function(a){a.strokeArc(this.$WJ,this.$aJ,this.$bJ,this.$cJ,this.$hJ,this.$iJ,this.$eJ,this.$dJ)},__class__:Sd});var Td=function(a,b,c){this.$WJ=a;this.$XJ=b;this.$jJ=c};f.$Cs=Td;Td.__name__=["$Cs"];Td.__super__=E;Td.prototype=p(E.prototype,{$zI:function(a){a.strokeLines(this.$WJ,this.$XJ,this.$jJ)},__class__:Td});var Ud=function(a,b,c){this.$PJ=a;this.$XJ=b;this.$jJ=c};f.$Ct=Ud;Ud.__name__=["$Ct"];Ud.__super__=E;Ud.prototype=p(E.prototype,{$zI:function(a){a.drawLines(this.$PJ,
this.$XJ,this.$jJ)},__class__:Ud});var Gd=function(a,b,c,d,h){this.$WJ=a;this.$$I=b;this.$_I=c;this.$NJ=d;this.$OJ=h};f.$Cu=Gd;Gd.__name__=["$Cu"];Gd.__super__=E;Gd.prototype=p(E.prototype,{$zI:function(a){a.fillRect(this.$WJ,this.$$I,this.$_I,this.$NJ,this.$OJ)},__class__:Gd});var nb=function(a,b,c){w.call(this);this.color=a;this.width=new Y(b);this.height=new Y(c)};f["kit.display.FillSprite"]=nb;nb.__name__=["kit","display","FillSprite"];nb.__super__=w;nb.prototype=p(w.prototype,{draw:function(a){a.fillRect(this.color,
0,0,this.width.$HH,this.height.$HH)},getNaturalWidth:function(){return this.width.$HH},getNaturalHeight:function(){return this.height.$HH},setSize:function(a,b){this.width.set__(a);this.height.set__(b);return this},onUpdate:function(a){w.prototype.onUpdate.call(this,a);this.width.update(a);this.height.update(a)},__class__:nb});var Vd=function(a){this.$lJ=null;this.xOffset=this.yOffset=this.xAdvance=0;this.page=null;this.x=this.y=this.width=this.height=0;this.charCode=a};f["kit.display.Glyph"]=Vd;
Vd.__name__=["kit","display","Glyph"];Vd.prototype={draw:function(a,b,c){0<this.width&&a.drawSubTexture(this.page,b+this.xOffset,c+this.yOffset,this.x,this.y,this.width,this.height)},getKerning:function(a){return null!=this.$lJ?D["int"](this.$lJ.h[a]):0},$kJ:function(a,b){null==this.$lJ&&(this.$lJ=new Ua);this.$lJ.h[a]=b},__class__:Vd};var Gb=function(a,b){this.name=b;this.$iI=a;this.$oH=a.getFile(b+".fnt");this.$lH()};f["kit.display.Font"]=Gb;Gb.__name__=["kit","display","Font"];Gb.prototype={disposeFiles:function(){this.$oH.dispose();
return this},layoutText:function(a,b,c,d,h){null==h&&(h=0);null==d&&(d=0);null==c&&(c=0);null==b&&(b=ta.Left);return new Ib(this,a,b,c,d,h)},$lH:function(){this.$mJ=new Ua;this.$mJ.h[Gb.$nJ.charCode]=Gb.$nJ;for(var a=new Qb(this.$oH.toString()),b=new Ua,c=this.name.lastIndexOf("/"),c=0<=c?F.substr(this.name,0,c+1):"",d=a.$sJ();d.hasNext();)switch(d.next()){case "info":for(var h=a.$tJ();h.hasNext();){var l=h.next();switch(l.$zJ){case "size":this.size=l.$$J();break;case "face":this.typeface=l.$_J()}}break;
case "common":for(h=a.$tJ();h.hasNext();)switch(l=h.next(),l.$zJ){case "lineHeight":this.lineHeight=l.$$J()}break;case "page":for(var h=0,l=null,e=a.$tJ();e.hasNext();){var f=e.next();switch(f.$zJ){case "id":h=f.$$J();break;case "file":l=f.$_J()}}l=this.$iI.getTexture(c+Fa.removeFileExtension(l));b.h[h]=l;break;case "char":h=null;for(l=a.$tJ();l.hasNext();)switch(e=l.next(),e.$zJ){case "id":h=new Vd(e.$$J());break;case "x":h.x=e.$$J();break;case "y":h.y=e.$$J();break;case "width":h.width=e.$$J();
break;case "height":h.height=e.$$J();break;case "page":e=e.$$J();h.page=b.h[e];break;case "xoffset":h.xOffset=e.$$J();break;case "yoffset":h.yOffset=e.$$J();break;case "xadvance":h.xAdvance=e.$$J()}this.$mJ.h[h.charCode]=h;break;case "kerning":f=null;l=h=0;for(e=a.$tJ();e.hasNext();){var g=e.next();switch(g.$zJ){case "first":f=g.$$J();f=this.$mJ.h[f];break;case "second":h=g.$$J();break;case "amount":l=g.$$J()}}null!=f&&0!=l&&f.$kJ(h,l)}},__class__:Gb};var ta=f["kit.display.TextAlign"]={__ename__:["kit",
"display","TextAlign"],__constructs__:["Left","Center","Right"]};ta.Left=["Left",0];ta.Left.toString=n;ta.Left.__enum__=ta;ta.Center=["Center",1];ta.Center.toString=n;ta.Center.__enum__=ta;ta.Right=["Right",2];ta.Right.toString=n;ta.Right.__enum__=ta;ta.__empty_constructs__=[ta.Left,ta.Center,ta.Right];var Ib=function(a,b,c,d,h,l){this.lines=0;var e=this;this.$oJ=a;this.$mJ=[];this.$pJ=[];this.$qJ=Math.round(a.lineHeight+l);this.bounds=new qa;var f=[];l=b.length;for(var g=0;g<l;){var k=g++,k=b.charCodeAt(k),
k=a.$mJ.h[k];null!=k?this.$mJ.push(k):null}b=-1;var m=0,n=0;a=a.$mJ.h[10];l=function(){e.bounds.width=aa.max(e.bounds.width,m);e.bounds.height+=n;f[e.lines]=m;n=m=0;++e.lines};for(g=0;g<this.$mJ.length;){k=this.$mJ[g];this.$pJ[g]=Math.round(m);var p=0<d&&m+k.width>d;p||k==a?(p&&(0<=b?(this.$mJ[b]=a,m=this.$pJ[b],g=b):this.$mJ.splice(g,0,a)),b=-1,n=this.$qJ,l()):(32==k.charCode&&(b=g),m+=k.xAdvance+h,n=aa.max(n,k.height+k.yOffset),g+1<this.$mJ.length&&(m+=k.getKerning(this.$mJ[g+1].charCode)));++g}l();
h=0;a=Ib.$rJ(c,f[0],d);b=1.79769313486231E308;l=-1.79769313486231E308;k=g=0;for(p=this.$mJ.length;k<p;){var q=this.$mJ[k];10==q.charCode&&(h+=this.$qJ,++g,a=Ib.$rJ(c,f[g],d));this.$pJ[k]+=a;var r=h+q.yOffset;b=b<r?b:r;l=aa.max(l,r+q.height);++k}this.bounds.x=Ib.$rJ(c,this.bounds.width,d);this.bounds.y=b;this.bounds.height=l-b};f["kit.display.TextLayout"]=Ib;Ib.__name__=["kit","display","TextLayout"];Ib.$rJ=function(a,b,c){switch(a[1]){case 0:return 0;case 2:return c-b;case 1:return Math.round((c-
b)/2)}};Ib.prototype={draw:function(a){for(var b=0,c=0,d=this.$mJ.length;c<d;){var h=this.$mJ[c];10==h.charCode?b+=this.$qJ:h.draw(a,this.$pJ[c],b);++c}},__class__:Ib};var Qb=function(a){this.$uJ=a;this.$wJ=new lb("([A-Za-z]+)(.*)","");this.$xJ=new lb('([A-Za-z]+)=("[^"]*"|[^\\s]+)',"")};f.$Cv=Qb;Qb.__name__=["$Cv"];Qb.$yJ=function(a,b){var c=b.matchedPos();return F.substr(a,c.pos+c.len,a.length)};Qb.prototype={$sJ:function(){var a=this,b=this.$uJ;return{next:function(){b=Qb.$yJ(b,a.$wJ);a.$vJ=a.$wJ.matched(2);
return a.$wJ.matched(1)},hasNext:function(){return a.$wJ.match(b)}}},$tJ:function(){var a=this,b=this.$vJ;return{next:function(){b=Qb.$yJ(b,a.$xJ);return new Sf(a.$xJ.matched(1),a.$xJ.matched(2))},hasNext:function(){return a.$xJ.match(b)}}},__class__:Qb};var Sf=function(a,b){this.$zJ=a;this.$HH=b};f.$Cw=Sf;Sf.__name__=["$Cw"];Sf.prototype={$$J:function(){return D.parseInt(this.$HH)},$_J:function(){return 34!=this.$HH.charCodeAt(0)?null:F.substr(this.$HH,1,this.$HH.length-2)},__class__:Sf};var da=
function(a){w.call(this);this.texture=a};f["kit.display.ImageSprite"]=da;da.__name__=["kit","display","ImageSprite"];da.__super__=w;da.prototype=p(w.prototype,{draw:function(a){null!=this.texture&&a.drawTexture(this.texture,0,0)},getNaturalWidth:function(){return null!=this.texture?this.texture.get_width():0},getNaturalHeight:function(){return null!=this.texture?this.texture.get_height():0},__class__:da});var Oa=f["kit.display.Orientation"]={__ename__:["kit","display","Orientation"],__constructs__:["Portrait",
"Landscape"]};Oa.Portrait=["Portrait",0];Oa.Portrait.toString=n;Oa.Portrait.__enum__=Oa;Oa.Landscape=["Landscape",1];Oa.Landscape.toString=n;Oa.Landscape.__enum__=Oa;Oa.__empty_constructs__=[Oa.Portrait,Oa.Landscape];var rb=function(){this.$JK=null;this.$IK=[];this.$FK=this.$GK=this.$HK=null;this.$EK=new Y(1);this.$DK=new Y(1);this.$CK=new Y(1);this.$AK=this.$BK=null};f.$Cx=rb;rb.__name__=["$Cx"];rb.prototype={__class__:rb};var Wd=function(){};f["kit.display.Texture"]=Wd;Wd.__name__=["kit","display",
"Texture"];Wd.__interfaces__=[qb];Wd.prototype={__class__:Wd};var Ag=function(){};f["kit.display.SubTexture"]=Ag;Ag.__name__=["kit","display","SubTexture"];Ag.__interfaces__=[Wd];var kc=function(a,b){null==b&&(b="");this.$PK=null;var c=this;w.call(this);this.$oJ=a;this.$NK=b;this.$OK=ta.Left;this.$ZF|=256;var d=function(a,b){c.$ZF|=256};this.wrapWidth=new Y(0,d);this.letterSpacing=new Y(0,d);this.lineSpacing=new Y(0,d)};f["kit.display.TextSprite"]=kc;kc.__name__=["kit","display","TextSprite"];kc.__super__=
w;kc.prototype=p(w.prototype,{draw:function(a){this.$MK();this.$PK.draw(a)},getNaturalWidth:function(){this.$MK();return 0<this.wrapWidth.$HH?this.wrapWidth.$HH:this.$PK.bounds.width},getNaturalHeight:function(){this.$MK();var a=this.$PK.lines*(this.$oJ.lineHeight+this.lineSpacing.$HH),b=this.$PK.bounds.height;return a>b?a:b},containsLocal:function(a,b){this.$MK();return this.$PK.bounds.contains(a,b)},set_text:function(a){a!=this.$NK&&(this.$NK=a,this.$ZF|=256);return a},set_align:function(a){a!=
this.$OK&&(this.$OK=a,this.$ZF|=256);return a},$MK:function(){0!=(this.$ZF&256)&&(this.$ZF&=-257,this.$PK=this.$oJ.layoutText(this.$NK,this.$OK,this.wrapWidth.$HH,this.letterSpacing.$HH,this.lineSpacing.$HH))},onUpdate:function(a){w.prototype.onUpdate.call(this,a);this.wrapWidth.update(a);this.letterSpacing.update(a);this.lineSpacing.update(a)},__class__:kc});var $=f["kit.display.TextureFormat"]={__ename__:["kit","display","TextureFormat"],__constructs__:["RGBA","RGBA_4444","RGB","RGB_565","COMPRESSED"]};
$.RGBA=["RGBA",0];$.RGBA.toString=n;$.RGBA.__enum__=$;$.RGBA_4444=["RGBA_4444",1];$.RGBA_4444.toString=n;$.RGBA_4444.__enum__=$;$.RGB=["RGB",2];$.RGB.toString=n;$.RGB.__enum__=$;$.RGB_565=["RGB_565",3];$.RGB_565.toString=n;$.RGB_565.__enum__=$;$.COMPRESSED=["COMPRESSED",4];$.COMPRESSED.toString=n;$.COMPRESSED.__enum__=$;$.__empty_constructs__=[$.RGBA,$.RGBA_4444,$.RGB,$.RGB_565,$.COMPRESSED];var Bg=function(){};f["kit.display.VectorFont"]=Bg;Bg.__name__=["kit","display","VectorFont"];Bg.__interfaces__=
[qb];var Cg=function(){this.$UK=this.$VK=this.$WK=null;this.$TK=new O;this.paddingTop=this.paddingRight=this.paddingBottom=this.paddingLeft=0;this.outputOnly=!1;this.active=!0};f["kit.filter.Filter"]=Cg;Cg.__name__=["kit","filter","Filter"];Cg.prototype={apply:function(a){a.render(this)},setUniformVec2:function(a,b,c){this.$RK(a,1,[b,c])},setUniformSampler2D:function(a,b){this.$RK(a,11,b)},update:function(a){},$RK:function(a,b,c){var d=this.$TK.get(a);if(null==d){var h=d=new Tf(a);this.$TK.set(a,
h)}d.$ZK=b;d.$YK=c},$SK:function(){null==this.$WK&&(this.$WK=null!=this.$VK?this.$VK+"@"+this.$UK:this.$UK);return this.$WK},__class__:Cg};var Tf=function(a){this.$ZK=0;this.$YK=null;this.$XK=a};f.$Cz=Tf;Tf.__name__=["$Cz"];Tf.prototype={__class__:Tf};var e=f["kit.input.Key"]={__ename__:["kit","input","Key"],__constructs__:"A B C D E F G H I J K L M N O P Q R S T U V W X Y Z Number0 Number1 Number2 Number3 Number4 Number5 Number6 Number7 Number8 Number9 Numpad0 Numpad1 Numpad2 Numpad3 Numpad4 Numpad5 Numpad6 Numpad7 Numpad8 Numpad9 NumpadAdd NumpadDecimal NumpadDivide NumpadEnter NumpadMultiply NumpadSubtract F1 F2 F3 F4 F5 F6 F7 F8 F9 F10 F11 F12 F13 F14 F15 Left Up Right Down Alt Backquote Backslash Backspace CapsLock Comma Command Control Delete End Enter Equals Escape Home Insert LeftBracket Minus PageDown PageUp Period Quote RightBracket Semicolon Shift Slash Space Tab Menu Search Unknown".split(" ")};
e.A=["A",0];e.A.toString=n;e.A.__enum__=e;e.B=["B",1];e.B.toString=n;e.B.__enum__=e;e.C=["C",2];e.C.toString=n;e.C.__enum__=e;e.D=["D",3];e.D.toString=n;e.D.__enum__=e;e.E=["E",4];e.E.toString=n;e.E.__enum__=e;e.F=["F",5];e.F.toString=n;e.F.__enum__=e;e.G=["G",6];e.G.toString=n;e.G.__enum__=e;e.H=["H",7];e.H.toString=n;e.H.__enum__=e;e.I=["I",8];e.I.toString=n;e.I.__enum__=e;e.J=["J",9];e.J.toString=n;e.J.__enum__=e;e.K=["K",10];e.K.toString=n;e.K.__enum__=e;e.L=["L",11];e.L.toString=n;e.L.__enum__=
e;e.M=["M",12];e.M.toString=n;e.M.__enum__=e;e.N=["N",13];e.N.toString=n;e.N.__enum__=e;e.O=["O",14];e.O.toString=n;e.O.__enum__=e;e.P=["P",15];e.P.toString=n;e.P.__enum__=e;e.Q=["Q",16];e.Q.toString=n;e.Q.__enum__=e;e.R=["R",17];e.R.toString=n;e.R.__enum__=e;e.S=["S",18];e.S.toString=n;e.S.__enum__=e;e.T=["T",19];e.T.toString=n;e.T.__enum__=e;e.U=["U",20];e.U.toString=n;e.U.__enum__=e;e.V=["V",21];e.V.toString=n;e.V.__enum__=e;e.W=["W",22];e.W.toString=n;e.W.__enum__=e;e.X=["X",23];e.X.toString=
n;e.X.__enum__=e;e.Y=["Y",24];e.Y.toString=n;e.Y.__enum__=e;e.Z=["Z",25];e.Z.toString=n;e.Z.__enum__=e;e.Number0=["Number0",26];e.Number0.toString=n;e.Number0.__enum__=e;e.Number1=["Number1",27];e.Number1.toString=n;e.Number1.__enum__=e;e.Number2=["Number2",28];e.Number2.toString=n;e.Number2.__enum__=e;e.Number3=["Number3",29];e.Number3.toString=n;e.Number3.__enum__=e;e.Number4=["Number4",30];e.Number4.toString=n;e.Number4.__enum__=e;e.Number5=["Number5",31];e.Number5.toString=n;e.Number5.__enum__=
e;e.Number6=["Number6",32];e.Number6.toString=n;e.Number6.__enum__=e;e.Number7=["Number7",33];e.Number7.toString=n;e.Number7.__enum__=e;e.Number8=["Number8",34];e.Number8.toString=n;e.Number8.__enum__=e;e.Number9=["Number9",35];e.Number9.toString=n;e.Number9.__enum__=e;e.Numpad0=["Numpad0",36];e.Numpad0.toString=n;e.Numpad0.__enum__=e;e.Numpad1=["Numpad1",37];e.Numpad1.toString=n;e.Numpad1.__enum__=e;e.Numpad2=["Numpad2",38];e.Numpad2.toString=n;e.Numpad2.__enum__=e;e.Numpad3=["Numpad3",39];e.Numpad3.toString=
n;e.Numpad3.__enum__=e;e.Numpad4=["Numpad4",40];e.Numpad4.toString=n;e.Numpad4.__enum__=e;e.Numpad5=["Numpad5",41];e.Numpad5.toString=n;e.Numpad5.__enum__=e;e.Numpad6=["Numpad6",42];e.Numpad6.toString=n;e.Numpad6.__enum__=e;e.Numpad7=["Numpad7",43];e.Numpad7.toString=n;e.Numpad7.__enum__=e;e.Numpad8=["Numpad8",44];e.Numpad8.toString=n;e.Numpad8.__enum__=e;e.Numpad9=["Numpad9",45];e.Numpad9.toString=n;e.Numpad9.__enum__=e;e.NumpadAdd=["NumpadAdd",46];e.NumpadAdd.toString=n;e.NumpadAdd.__enum__=e;e.NumpadDecimal=
["NumpadDecimal",47];e.NumpadDecimal.toString=n;e.NumpadDecimal.__enum__=e;e.NumpadDivide=["NumpadDivide",48];e.NumpadDivide.toString=n;e.NumpadDivide.__enum__=e;e.NumpadEnter=["NumpadEnter",49];e.NumpadEnter.toString=n;e.NumpadEnter.__enum__=e;e.NumpadMultiply=["NumpadMultiply",50];e.NumpadMultiply.toString=n;e.NumpadMultiply.__enum__=e;e.NumpadSubtract=["NumpadSubtract",51];e.NumpadSubtract.toString=n;e.NumpadSubtract.__enum__=e;e.F1=["F1",52];e.F1.toString=n;e.F1.__enum__=e;e.F2=["F2",53];e.F2.toString=
n;e.F2.__enum__=e;e.F3=["F3",54];e.F3.toString=n;e.F3.__enum__=e;e.F4=["F4",55];e.F4.toString=n;e.F4.__enum__=e;e.F5=["F5",56];e.F5.toString=n;e.F5.__enum__=e;e.F6=["F6",57];e.F6.toString=n;e.F6.__enum__=e;e.F7=["F7",58];e.F7.toString=n;e.F7.__enum__=e;e.F8=["F8",59];e.F8.toString=n;e.F8.__enum__=e;e.F9=["F9",60];e.F9.toString=n;e.F9.__enum__=e;e.F10=["F10",61];e.F10.toString=n;e.F10.__enum__=e;e.F11=["F11",62];e.F11.toString=n;e.F11.__enum__=e;e.F12=["F12",63];e.F12.toString=n;e.F12.__enum__=e;e.F13=
["F13",64];e.F13.toString=n;e.F13.__enum__=e;e.F14=["F14",65];e.F14.toString=n;e.F14.__enum__=e;e.F15=["F15",66];e.F15.toString=n;e.F15.__enum__=e;e.Left=["Left",67];e.Left.toString=n;e.Left.__enum__=e;e.Up=["Up",68];e.Up.toString=n;e.Up.__enum__=e;e.Right=["Right",69];e.Right.toString=n;e.Right.__enum__=e;e.Down=["Down",70];e.Down.toString=n;e.Down.__enum__=e;e.Alt=["Alt",71];e.Alt.toString=n;e.Alt.__enum__=e;e.Backquote=["Backquote",72];e.Backquote.toString=n;e.Backquote.__enum__=e;e.Backslash=
["Backslash",73];e.Backslash.toString=n;e.Backslash.__enum__=e;e.Backspace=["Backspace",74];e.Backspace.toString=n;e.Backspace.__enum__=e;e.CapsLock=["CapsLock",75];e.CapsLock.toString=n;e.CapsLock.__enum__=e;e.Comma=["Comma",76];e.Comma.toString=n;e.Comma.__enum__=e;e.Command=["Command",77];e.Command.toString=n;e.Command.__enum__=e;e.Control=["Control",78];e.Control.toString=n;e.Control.__enum__=e;e.Delete=["Delete",79];e.Delete.toString=n;e.Delete.__enum__=e;e.End=["End",80];e.End.toString=n;e.End.__enum__=
e;e.Enter=["Enter",81];e.Enter.toString=n;e.Enter.__enum__=e;e.Equals=["Equals",82];e.Equals.toString=n;e.Equals.__enum__=e;e.Escape=["Escape",83];e.Escape.toString=n;e.Escape.__enum__=e;e.Home=["Home",84];e.Home.toString=n;e.Home.__enum__=e;e.Insert=["Insert",85];e.Insert.toString=n;e.Insert.__enum__=e;e.LeftBracket=["LeftBracket",86];e.LeftBracket.toString=n;e.LeftBracket.__enum__=e;e.Minus=["Minus",87];e.Minus.toString=n;e.Minus.__enum__=e;e.PageDown=["PageDown",88];e.PageDown.toString=n;e.PageDown.__enum__=
e;e.PageUp=["PageUp",89];e.PageUp.toString=n;e.PageUp.__enum__=e;e.Period=["Period",90];e.Period.toString=n;e.Period.__enum__=e;e.Quote=["Quote",91];e.Quote.toString=n;e.Quote.__enum__=e;e.RightBracket=["RightBracket",92];e.RightBracket.toString=n;e.RightBracket.__enum__=e;e.Semicolon=["Semicolon",93];e.Semicolon.toString=n;e.Semicolon.__enum__=e;e.Shift=["Shift",94];e.Shift.toString=n;e.Shift.__enum__=e;e.Slash=["Slash",95];e.Slash.toString=n;e.Slash.__enum__=e;e.Space=["Space",96];e.Space.toString=
n;e.Space.__enum__=e;e.Tab=["Tab",97];e.Tab.toString=n;e.Tab.__enum__=e;e.Menu=["Menu",98];e.Menu.toString=n;e.Menu.__enum__=e;e.Search=["Search",99];e.Search.toString=n;e.Search.__enum__=e;e.Unknown=function(a){a=["Unknown",100,a];a.__enum__=e;a.toString=n;return a};e.__empty_constructs__=[e.A,e.B,e.C,e.D,e.E,e.F,e.G,e.H,e.I,e.J,e.K,e.L,e.M,e.N,e.O,e.P,e.Q,e.R,e.S,e.T,e.U,e.V,e.W,e.X,e.Y,e.Z,e.Number0,e.Number1,e.Number2,e.Number3,e.Number4,e.Number5,e.Number6,e.Number7,e.Number8,e.Number9,e.Numpad0,
e.Numpad1,e.Numpad2,e.Numpad3,e.Numpad4,e.Numpad5,e.Numpad6,e.Numpad7,e.Numpad8,e.Numpad9,e.NumpadAdd,e.NumpadDecimal,e.NumpadDivide,e.NumpadEnter,e.NumpadMultiply,e.NumpadSubtract,e.F1,e.F2,e.F3,e.F4,e.F5,e.F6,e.F7,e.F8,e.F9,e.F10,e.F11,e.F12,e.F13,e.F14,e.F15,e.Left,e.Up,e.Right,e.Down,e.Alt,e.Backquote,e.Backslash,e.Backspace,e.CapsLock,e.Comma,e.Command,e.Control,e.Delete,e.End,e.Enter,e.Equals,e.Escape,e.Home,e.Insert,e.LeftBracket,e.Minus,e.PageDown,e.PageUp,e.Period,e.Quote,e.RightBracket,
e.Semicolon,e.Shift,e.Slash,e.Space,e.Tab,e.Menu,e.Search];var Uf=function(){this.$aK(0,null)};f["kit.input.KeyboardEvent"]=Uf;Uf.__name__=["kit","input","KeyboardEvent"];Uf.prototype={$aK:function(a,b){this.id=a;this.key=b},__class__:Uf};var na=f["kit.input.MouseButton"]={__ename__:["kit","input","MouseButton"],__constructs__:["Left","Middle","Right","Unknown"]};na.Left=["Left",0];na.Left.toString=n;na.Left.__enum__=na;na.Middle=["Middle",1];na.Middle.toString=n;na.Middle.__enum__=na;na.Right=["Right",
2];na.Right.toString=n;na.Right.__enum__=na;na.Unknown=function(a){a=["Unknown",3,a];a.__enum__=na;a.toString=n;return a};na.__empty_constructs__=[na.Left,na.Middle,na.Right];var la=f["kit.input.MouseCursor"]={__ename__:["kit","input","MouseCursor"],__constructs__:["Default","Button","None"]};la.Default=["Default",0];la.Default.toString=n;la.Default.__enum__=la;la.Button=["Button",1];la.Button.toString=n;la.Button.__enum__=la;la.None=["None",2];la.None.toString=n;la.None.__enum__=la;la.__empty_constructs__=
[la.Default,la.Button,la.None];var Vf=function(){this.$aK(0,0,0,null)};f["kit.input.MouseEvent"]=Vf;Vf.__name__=["kit","input","MouseEvent"];Vf.prototype={$aK:function(a,b,c,d){this.id=a;this.viewX=b;this.viewY=c;this.button=d},__class__:Vf};var oc=f["kit.input.EventSource"]={__ename__:["kit","input","EventSource"],__constructs__:["Mouse","Touch"]};oc.Mouse=function(a){a=["Mouse",0,a];a.__enum__=oc;a.toString=n;return a};oc.Touch=function(a){a=["Touch",1,a];a.__enum__=oc;a.toString=n;return a};oc.__empty_constructs__=
[];var Wf=function(){this.$aK(0,0,0,null,null)};f["kit.input.PointerEvent"]=Wf;Wf.__name__=["kit","input","PointerEvent"];Wf.prototype={$aK:function(a,b,c,d,h){this.id=a;this.viewX=b;this.viewY=c;this.hit=d;this.source=h;this.$bK=!1},__class__:Wf};var Xf=function(a){this.id=a;this.$cK=oc.Touch(this)};f["kit.input.TouchPoint"]=Xf;Xf.__name__=["kit","input","TouchPoint"];Xf.prototype={$aK:function(a,b){this.viewX=a;this.viewY=b},__class__:Xf};var aa=function(){};f["kit.math.FMath"]=aa;aa.__name__=["kit",
"math","FMath"];aa.max=function(a,b){return a>b?a:b};aa.min=function(a,b){return a<b?a:b};aa.clamp=function(a,b,c){return a<b?b:a>c?c:a};aa.sign=function(a){return 0>a?-1:0<a?1:0};var pc=function(){};f["kit.movie.Symbol"]=pc;pc.__name__=["kit","movie","Symbol"];pc.prototype={__class__:pc};var qc=function(a,b){this.$dK=a.symbol;var c=a.rect;this.texture=b.subTexture(c[0],c[1],c[2],c[3]);c=a.origin;null!=c?(this.anchorX=c[0],this.anchorY=c[1]):this.anchorY=this.anchorX=0;c=a.scale;null!=c?(this.scaleX=
c[0],this.scaleY=c[1]):this.scaleY=this.scaleX=1};f["kit.movie.BitmapSymbol"]=qc;qc.__name__=["kit","movie","BitmapSymbol"];qc.__interfaces__=[pc];qc.prototype={createSprite:function(){var a=new da(this.texture);a.setAnchor(this.anchorX,this.anchorY);a.setScaleXY(this.scaleX,this.scaleY);return a},__class__:qc};var uf=function(a,b){this.sounds=new O;this.scenes=[];var c=this;this.$oH=a.getFile(b+"/library.json");var d=this.$oH.toJson();this.$hK=new O;this.frameRate=d.frameRate;this.backgroundColor=
null!=d.backgroundColor?d.backgroundColor:0;this.backgroundAlpha=null!=d.backgroundAlpha?d.backgroundAlpha:1;this.width=null!=d.width?d.width:0;this.height=null!=d.height?d.height:0;this.pixelSnapping=null!=d.pixelSnapping?d.pixelSnapping:!0;if(null!=d.sounds)for(var h=0,l=d.sounds;h<l.length;){var e=l[h];++h;var f=a.getSound(b+"/"+Fa.removeFileExtension(e.file),!1),e=e.id,f=new Yf(e,f);this.sounds.set(e,f)}if(null!=d.videos)for(h=0,l=d.videos;h<l.length;)e=l[h],++h,f=a.getVideo(b+"/"+Fa.removeFileExtension(e.file),
!1),e=e.id,f=new Xd(e,f),this.$hK.set(e,f);h=[];l=0;for(f=d.movies;l<f.length;)e=f[l],++l,e=new rc(this,e),h.push(e),this.$hK.set(e.$dK,e);if(null!=d.scenes)for(l=0,f=d.scenes;l<f.length;)e=f[l],++l,e=new rc(this,e),h.push(e),this.scenes.push(e);d=d.textureGroups[0].atlases;for(l=0;l<d.length;){e=d[l];++l;f=b+"/"+Fa.removeFileExtension(e.file);f=a.getTexture(f);if(null!=e.mask){var g=a.getTexture(b+"/"+Fa.removeFileExtension(e.mask)),k=r.$MH.$pG.createTexture(f.get_width(),f.get_height()),m=k.get_graphics();
m.save();m.setBlendMode(S.Copy);m.drawTexture(f,0,0);m.setBlendMode(S.Mask);m.drawTexture(g,0,0);m.restore();f.dispose();g.dispose();f=k}g=0;for(e=e.textures;g<e.length;)k=e[g],++g,k=new qc(k,f),this.$hK.set(k.$dK,k)}for(var n=null,d=n=function(a){for(var b=a.keyframes,d=b.length,h=0;h<d;){var l=h++,e=b[l];if(null!=e.$SL){var f=c.$hK.get(e.$SL);e.symbol=f}e.tweened&&1==e.duration&&l+1<d&&(l=b[l+1],l.visible&&null!=l.$SL||(e.visible=!1))}b=0;for(a=a.childLayers;b<a.length;)d=a[b],++b,n(d)},l=0;l<h.length;)for(e=
h[l],++l,f=0,e=e.layers;f<e.length;)g=e[f],++f,d(g)};f["kit.movie.Library"]=uf;uf.__name__=["kit","movie","Library"];uf.prototype={disposeFiles:function(){null!=this.$oH&&this.$oH.dispose();return this},getSymbol:function(a){return this.$hK.get(a)},createSprite:function(a,b){var c=this.$hK.get(a);return null==c?null:c.createSprite()},__class__:uf};var hb=function(a){this.$qK=this.$rK=this.$sK=null;this.$pK=0;var b=this;w.call(this);this.symbol=a;this.speed=new Y(1);this.$mK=Array(a.layers.length);
for(var c=0,d=this.$mK.length;c<d;){var h=c++;this.$mK[h]=new Rb(a.layers[h])}this.$nK=0;this.$oK=-1;this.$jK(0);if(a.button){var l=0/a.frameRate,e=1/a.frameRate,f=2/a.frameRate,g=!1,k=!1,c=new qa(1.79769313486231E308,1.79769313486231E308,-1.79769313486231E308,-1.79769313486231E308),d=0;for(a=a.layers;d<a.length;)h=a[d],++d,hb.$tK(h,c);c.x<c.width&&c.y<c.height&&(this.$sK=c);this.$ZF|=4096;this.get_pointerDown().connect(function(a){g=!0;b.set_position(f);r.$MH.$oG.up.connect(function(a){g=!1;b.set_position(k?
e:l)}).once()});var m=null;this.get_pointerIn().connect(function(a){k=!0;b.set_position(g?f:e);r.$MH.$nG.get_cursor()==la.Default&&r.$MH.$nG.set_cursor(la.Button);null!=m&&m.dispose();m=r.$MH.$oG.move.connect(function(a){null==b.owner&&(m.dispose(),r.$MH.$nG.get_cursor()==la.Button&&r.$MH.$nG.set_cursor(la.Default))})});this.get_pointerOut().connect(function(a){k=!1;b.set_position(l);r.$MH.$nG.get_cursor()==la.Button&&r.$MH.$nG.set_cursor(la.Default)})}};f["kit.movie.MovieSprite"]=hb;hb.__name__=
["kit","movie","MovieSprite"];hb.$tK=function(a,b){for(var c=0,d=a.keyframes;c<d.length;){var h=d[c];++c;if(3==h.index&&null!=h.symbol){var l=h.symbol.createSprite(),e=l.getNaturalWidth(),f=l.getNaturalHeight();if(0<e&&0<f){var g=l.scaleX.$HH*h.scaleX,k=l.scaleY.$HH*h.scaleY,l=l.getLocalMatrix(),m=Math.sin(h.skewX),n=Math.cos(h.skewX),p=Math.sin(h.skewY),q=Math.cos(h.skewY);l.set(q*g,p*g,-m*k,n*k,h.x,h.y);l.translate(-h.pivotX,-h.pivotY);w.$RI(l,0,0,b);w.$RI(l,e,0,b);w.$RI(l,e,f,b);w.$RI(l,0,f,b)}}}c=
0;for(d=a.childLayers;c<d.length;)h=d[c],++c,hb.$tK(h,b)};hb.__super__=w;hb.prototype=p(w.prototype,{containsLocal:function(a,b){return null!=this.$sK&&a>=this.$sK.x&&a<this.$sK.width&&b>=this.$sK.y&&b<this.$sK.height},onAdded:function(){w.prototype.onAdded.call(this);for(var a=0,b=this.$mK;a<b.length;){var c=b[a];++a;this.owner.addChild(c.$zK)}},onRemoved:function(){w.prototype.onRemoved.call(this);for(var a=0,b=this.$mK;a<b.length;){var c=b[a];++a;this.owner.removeChild(c.$zK)}},onUpdate:function(a){w.prototype.onUpdate.call(this,
a);this.speed.update(a);switch(this.$ZF&6912){case 0:0<=this.speed.$HH&&(this.$nK+=this.speed.$HH*a,this.$nK>this.symbol.duration&&(0!=(this.$ZF&1024)?(this.$nK=this.symbol.duration,this.$ZF|=2048):(this.$nK%=this.symbol.duration,null!=this.$qK&&this.$qK.emit())));break;case 512:this.$ZF&=-513}this.$jK(this.$nK*this.symbol.frameRate)},$jK:function(a){if(this.$oK!=a){if(a<this.$oK)for(var b=0,c=this.$mK;b<c.length;){var d=c[b];++b;if(d.$HL(this.$rK))return}b=0;for(c=this.$mK;b<c.length;)if(d=c[b],
++b,d.$JL(a,this.$rK,this.$pK))return;switch(this.$pK){case 0:this.$pK=1;break;case 1:case 2:this.$pK=3}this.$oK=a}},get_position:function(){return this.$nK},set_position:function(a){this.setPosition(a,!0);return a},setPosition:function(a,b){var c=aa.clamp(a,0,this.symbol.duration);this.$nK=c;this.$pK=3;var d=c*this.symbol.frameRate,h;h=b?2:0;for(var l=0,e=this.$mK;l<e.length;){var f=e[l];++l;if(f.$IL(d,this.$rK,h))return c}this.$oK=d;return c},set_paused:function(a){this.$ZF=nc.set(this.$ZF,256,
a);return a},$kK:function(a){this.$nK=a.firstFrame/this.symbol.frameRate;this.set_paused(a.playMode==ma.SingleFrame);this.$ZF=(this.$ZF|512)&-2049;a=0;for(var b=this.$mK;a<b.length;){var c=b[a];++a;c.$kK()}},__class__:hb});var Rb=function(a){this.$PL=[];this.$DL=null;this.$CL=!0;this.$AL=-1;this.$_K=0;this.$$K=!1;this.$BL=a;this.$zK=new q;if(a.empty)this.$OL=null;else{this.$OL=Array(a.keyframes.length);for(var b=null,c=null,d=0,h=this.$OL.length;d<h;){var l=d++,e=a.keyframes[l];if(null!=b&&Rb.$QL(b,
e))this.$OL[l]=c;else if(null!=e.symbol){c=e.symbol.createSprite();this.$OL[l]=c;if(0<e.firstFrame||e.playMode!=ma.Loop)if(b=c instanceof hb?c:null,null!=b){switch(e.playMode[1]){case 1:b.$ZF|=1024;break;case 2:b.set_paused(!0)}b.$nK=e.firstFrame/b.symbol.frameRate}b=e}else this.$OL[l]=new w}this.$zK.add(this.$OL[0])}this.$NL=this.$zK;if(0<a.childLayers.length)for(h=new w,e=(new q).add(h),e.addChild(this.$zK),this.$zK=b=new q,d=new q,a.mask&&(this.$DL=new w,this.$DL.set_mask(h),d.add(this.$DL)),b.addChild(d),
b.addChild(e),h=0,a=a.childLayers;h<a.length;)e=a[h],++h,e=new Rb(e),this.$PL.push(e),d.addChild(e.$zK)};f.$CAB=Rb;Rb.__name__=["$CAB"];Rb.$QL=function(a,b){if(a.symbol!=b.symbol||a.playMode!=b.playMode)return!1;switch(a.playMode[1]){case 2:return a.firstFrame==b.firstFrame;default:return a.firstFrame==b.firstFrame||a.firstFrame+a.duration==b.firstFrame}};Rb.prototype={$GL:function(a,b){null!=a.sound&&null!=a.sound.sound&&(this.$zK.emitMessageToParents("MovieSprite.FRAME_SOUND",new Yd(this.$zK,a)).handled||
a.sound.sound.play());if(null!=b){var c=a.label;null!=c&&b.emit(c)}null!=a.actions&&this.$zK.emitMessageToParents("MovieSprite.FRAME_ACTION",new Yd(this.$zK,a))},$HL:function(a){for(var b=0,c=this.$PL;b<c.length;){var d=c[b];++b;if(d.$HL(a))return!0}if(0<=this.$AL){for(var b=this.$BL.keyframes,c=this.$_K,d=this.$AL+1,h=b.length;d<h;){var l=d++;this.$GL(b[l],a);if(c!=this.$_K)return!0}this.$AL=-1}this.$$K=!0;return!1},$IL:function(a,b,c){for(var d=0,h=this.$PL;d<h.length;){var l=h[d];++d;if(l.$IL(a,
b,c))return!0}++this.$_K;d=this.$BL.keyframes;h=d.length-1;l=this.$AL;for(this.$AL=-1;this.$AL<h&&d[this.$AL+1].index<=a;)++this.$AL;this.$AL!=l&&(this.$$K=!0);return this.$JL(a,b,c)},$JL:function(a,b,c){for(var d=0,h=this.$PL;d<h.length;){var l=h[d];++d;if(l.$JL(a,b,c))return!0}var d=this.$BL.keyframes,e=d.length-1,h=this.$AL;if(a>this.$BL.frames)this.$AL=e,this.$$K=!0;else for(;this.$AL<e&&d[this.$AL+1].index<=a;)++this.$AL,this.$$K=!0;if(null!=this.$OL){var l=d[this.$AL],f;if(this.$$K){if(this.$$K=
!1,f=this.$OL[this.$AL],f!=this.$NL.$fG[1]){var g;g=f instanceof hb?f:null;null!=g&&g.$kK(l);this.$NL.add(f)}}else f=this.$NL.$fG[1];if(this.$CL&&(g=l.visible&&null!=l.symbol&&a<=this.$BL.frames,f.set_visible(g),null!=this.$DL&&this.$DL.set_maskEnabled(g),g)){g=l.x;var k=l.y,m=l.scaleX,n=l.scaleY,p=l.skewX,q=l.skewY,r=l.alpha,t=l.tint;if(l.tweened&&this.$AL<e){var e=(a-l.index)/l.duration,s=l.ease;if(0!=s){var u;0>s?(u=1-e,u=1-u*u,s=-s):u=e*e;e=s*u+(1-s)*e}s=d[this.$AL+1];g+=(s.x-g)*e;k+=(s.y-k)*
e;m+=(s.scaleX-m)*e;n+=(s.scaleY-n)*e;p+=(s.skewX-p)*e;q+=(s.skewY-q)*e;r+=(s.alpha-r)*e;s=s.tint;if(16777215!=s||16777215!=t){u=(t&16711680)>>16;var v=(t&65280)>>8,t=t&255,v=v+((((s&65280)>>8)-v)*e|0),t=t+(((s&255)-t)*e|0),t=u+((((s&16711680)>>16)-u)*e|0)<<16|v<<8|t}}e=D.instance(l.symbol,qc);null!=e&&(m*=e.scaleX,n*=e.scaleY);e=f.getLocalMatrix();s=Math.sin(p);p=Math.cos(p);u=Math.sin(q);q=Math.cos(q);e.set(q*m,u*m,-s*n,p*n,g,k);e.translate(-l.pivotX,-l.pivotY);f.alpha.set__(r);f.setTint(t);null==
l.blendMode&&null==f.get_blendMode()||f.set_blendMode(l.blendMode)}}if(0!=c)for(1==c?h=-1:2==c&&0<=this.$AL&&d[this.$AL].index==a&&(h=this.$AL-1),a=this.$_K,c=h,h=this.$AL;c<h;)if(l=c++,this.$GL(d[l+1],b),this.$_K!=a)return!0;return!1},$kK:function(){for(var a=0,b=this.$PL;a<b.length;){var c=b[a];++a;c.$kK()}this.$$K=!0;this.$AL=-1;if(null!=this.$OL)for(a=0,b=this.$OL.length;a<b;){var c=a++,d=D.instance(this.$OL[c],hb);null!=d&&d.$kK(this.$BL.keyframes[c])}},__class__:Rb};var Yd=function(a,b){this.layer=
a;this.keyframe=b};f["kit.movie.FrameEvent"]=Yd;Yd.__name__=["kit","movie","FrameEvent"];Yd.prototype={__class__:Yd};var rc=function(a,b){this.$dK=b.id;this.frameRate=a.frameRate;this.frames=0;this.layers=Array(b.layers.length);for(var c=0,d=this.layers.length;c<d;){var h=c++,e=new Zd(a,b.layers[h]);this.frames=Math.max(e.frames,this.frames);this.layers[h]=e}this.duration=this.frames/this.frameRate;this.button=!0==b.button};f["kit.movie.MovieSymbol"]=rc;rc.__name__=["kit","movie","MovieSymbol"];rc.__interfaces__=
[pc];rc.prototype={createSprite:function(){return new hb(this)},__class__:rc};var Zd=function(a,b){this.mask=!1;this.childLayers=[];this.empty=!0;this.name=b.name;var c=null;this.keyframes=Array(b.keyframes.length);for(var d=0,h=this.keyframes.length;d<h;){var e=d++,c=new Zf(a,b.keyframes[e],c);this.keyframes[e]=c;this.empty=this.empty&&null==c.$SL}this.frames=null!=c?c.index+c.duration:0;null!=b.mask&&(this.mask=b.mask);if(null!=b.childLayers)for(c=0,d=b.childLayers;c<d.length;)h=d[c],++c,h=new Zd(a,
h),h.frames>this.frames&&(this.frames=h.frames),this.childLayers.push(h)};f["kit.movie.MovieLayer"]=Zd;Zd.__name__=["kit","movie","MovieLayer"];Zd.prototype={__class__:Zd};var ma=f["kit.movie.PlayMode"]={__ename__:["kit","movie","PlayMode"],__constructs__:["Loop","PlayOnce","SingleFrame"]};ma.Loop=["Loop",0];ma.Loop.toString=n;ma.Loop.__enum__=ma;ma.PlayOnce=["PlayOnce",1];ma.PlayOnce.toString=n;ma.PlayOnce.__enum__=ma;ma.SingleFrame=["SingleFrame",2];ma.SingleFrame.toString=n;ma.SingleFrame.__enum__=
ma;ma.__empty_constructs__=[ma.Loop,ma.PlayOnce,ma.SingleFrame];var Zf=function(a,b,c){this.actions=this.sound=null;this.firstFrame=0;this.playMode=ma.Loop;this.blendMode=null;this.ease=0;this.visible=this.tweened=!0;this.tint=16777215;this.alpha=1;this.skewX=this.skewY=this.pivotX=this.pivotY=0;this.scaleX=this.scaleY=1;this.x=this.y=0;this.symbol=this.instanceName=null;this.index=null!=c?c.index+c.duration:0;this.duration=b.duration;this.label=b.label;this.$SL=b.ref;c=b.loc;null!=c&&(this.x=c[0],
this.y=c[1]);c=b.scale;null!=c&&(this.scaleX=c[0],this.scaleY=c[1]);c=b.skew;null!=c&&(this.skewX=c[0],this.skewY=c[1]);c=b.pivot;null!=c&&(this.pivotX=c[0],this.pivotY=c[1]);null!=b.alpha&&(this.alpha=b.alpha);null!=b.tint&&(this.tint=b.tint);null!=b.visible&&(this.visible=b.visible);null!=b.tweened&&(this.tweened=b.tweened);null!=b.ease&&(this.ease=b.ease);if(null!=b.blendMode)if(c=b.blendMode,null!=c)switch(c){case "add":this.blendMode=S.Add;break;case "multiply":this.blendMode=S.Multiply;break;
case "screen":this.blendMode=S.Screen;break;case "layer":this.blendMode=S.Mask;break;default:this.blendMode=null}else this.blendMode=null;null!=b.firstFrame&&(this.firstFrame=b.firstFrame);if(null!=b.playMode)if(c=b.playMode,null!=c)switch(c){case "stop":this.playMode=ma.SingleFrame;break;case "once":this.playMode=ma.PlayOnce;break;default:this.playMode=ma.Loop}else this.playMode=ma.Loop;null!=b.actions&&(this.actions=b.actions);null!=b.sound&&(this.sound=a.sounds.get(b.sound));null!=b.refName&&(this.instanceName=
b.refName)};f["kit.movie.MovieKeyframe"]=Zf;Zf.__name__=["kit","movie","MovieKeyframe"];Zf.prototype={__class__:Zf};var Yf=function(a,b){this.name=a;this.sound=b};f["kit.movie.SoundSymbol"]=Yf;Yf.__name__=["kit","movie","SoundSymbol"];Yf.prototype={__class__:Yf};var Xd=function(a,b){this.$dK=a;this.video=b};f["kit.movie.VideoSymbol"]=Xd;Xd.__name__=["kit","movie","VideoSymbol"];Xd.__interfaces__=[pc];Xd.prototype={createSprite:function(){return new $d(this)},__class__:Xd};var Cb=function(a){w.call(this);
this.$VL=a};f["kit.video.VideoSprite"]=Cb;Cb.__name__=["kit","video","VideoSprite"];Cb.__super__=w;Cb.prototype=p(w.prototype,{draw:function(a){null!=this.$VL&&a.drawTexture(this.$VL.get_texture(),0,0)},getNaturalWidth:function(){return null!=this.$VL?this.$VL.get_video().get_width():0},getNaturalHeight:function(){return null!=this.$VL?this.$VL.get_video().get_height():0},dispose:function(){w.prototype.dispose.call(this);this.set_playback(null)},set_playback:function(a){null!=this.$VL&&this.$VL.dispose();
return this.$VL=a},__class__:Cb});var $d=function(a){Cb.call(this,null);this.$WL=a};f.$CCB=$d;$d.__name__=["$CCB"];$d.__super__=Cb;$d.prototype=p(Cb.prototype,{onAdded:function(){Cb.prototype.onAdded.call(this);this.set_playback(this.$WL.video.play())},onRemoved:function(){Cb.prototype.onRemoved.call(this);this.set_playback(null)},__class__:$d});var ea=function(){this.$YM=!1};f.$CFB=ea;ea.__name__=["$CFB"];ea.__interfaces__=[qb];ea.prototype={dispose:function(){this.$YM||(this.$YM=!0,this.$WM())},
$WM:function(){null},__class__:ea};var sc=function(a,b){this.$lM=0;var c=this;this.$aM=b;this.$MH=a;this.$UG=new Ma;this.$iI=new ae(b,this);this.$kM=new O;var d=ub.array(b);if(0==d.length)this.$gM();else{for(var h=new O,e=0;e<d.length;){var f=d[e];++e;var g=h.get(f.name);null==g&&(g=[],h.set(f.name,g));g.push(f)}this.$jM=ub.count(h);for(d=new bd(h,h.arrayKeys());d.hasNext();)h=[d.next()],this.$bM(h[0],function(a){return function(d){if(null!=d){var h=new be(0,d.bytes);c.$kM.set(d.name,h);h=b.getFullURL(d);
try{c.$cM(h,d)}catch(e){e instanceof v&&(e=e.val),c.$hM(d,"Unexpected error: "+D.string(e))}}else switch(d=a[0][0],h=new be(0,0),c.$kM.set(d.name,h),d.format[1]){case 8:case 9:case 10:case 11:case 12:c.$eM(d,Va.$rN());break;case 17:case 18:c.$eM(d,ib.$rN());break;default:c.$hM(d,"Could not find a supported format to load")}}}(h))}};f.$CGB=sc;sc.__name__=["$CGB"];sc.prototype={$bM:function(a,b){this.$dM(function(c){for(var d=0;d<c.length;){var h=c[d];++d;for(var e=0;e<a.length;){var f=a[e];++e;if(f.format==
h){b(f);return}}}b(null)})},$cM:function(a,b){null},$dM:function(a){null},$eM:function(a,b){if(this.$iI.$sM)b.dispose();else{var c=this.$kM.get(a.name);c.$vM=c.$wM;var d;switch(a.format[1]){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:d=this.$iI.$nM;break;case 8:case 9:case 10:case 11:case 12:d=this.$iI.$oM;break;case 13:case 14:case 15:case 16:d=this.$iI.$qM;break;case 17:case 18:d=this.$iI.$rM;break;case 19:d=this.$iI.$pM}d.set(a.name,b);this.$jM-=1;0==this.$jM&&this.$gM()}},$fM:function(a,
b,c){a=this.$kM.get(a.name);0<c&&(a.$wM=c);a.$vM=aa.min(b,a.$wM);c=b=0;for(a=this.$kM.iterator();a.hasNext();){var d=a.next();b+=d.$vM;c+=d.$wM}b=0<c?b/c:0;b!=this.$lM&&(this.$lM=b,this.$UG.emitProgress(b))},$gM:function(){this.$UG.success(this.$iI)},$hM:function(a,b){this.$iI.dispose();this.$UG.failure(Fa.withFields(b,["url",a.url]))},$iM:function(a){this.$hM(a,"Failed to create texture. Is the GPU context unavailable?")},__class__:sc};var ae=function(a,b){this.$sM=!1;this.$rM=new O;this.$qM=new O;
this.$pM=new O;this.$oM=new O;this.$nM=new O;this.$tM=a};f.$CHB=ae;ae.__name__=["$CHB"];ae.__interfaces__=[dd];ae.prototype={getTexture:function(a,b){return this.$nM.get(a)},getSound:function(a,b){return this.$oM.get(a)},getFile:function(a,b){return this.$pM.get(a)},getVideo:function(a,b){return this.$rM.get(a)},dispose:function(){if(!this.$sM){this.$sM=!0;for(var a=this.$nM.iterator();a.hasNext();)a.next().dispose();this.$nM=null;for(a=this.$oM.iterator();a.hasNext();)a.next().dispose();this.$oM=
null;for(a=this.$pM.iterator();a.hasNext();)a.next().dispose();this.$pM=null;for(a=this.$qM.iterator();a.hasNext();)a.next().dispose();this.$qM=null}},get_manifest:function(){return this.$tM},__class__:ae};var be=function(a,b){this.$vM=a;this.$wM=b};f.$CIB=be;be.__name__=["$CIB"];be.prototype={__class__:be};var tc=function(a){this.$YM=!1;this.$fI=a};f.$CJB=tc;tc.__name__=["$CJB"];tc.__interfaces__=[md];tc.__super__=ea;tc.prototype=p(ea.prototype,{toString:function(){return this.$fI},toJson:function(){return JSON.parse(this.toString())},
$WM:function(){this.$fI=null},__class__:tc});var $f=function(){};f["kit.subsystem.KeyboardSystem"]=$f;$f.__name__=["kit","subsystem","KeyboardSystem"];$f.prototype={__class__:$f};var ab=function(){this.down=new L;this.up=new L;this.backButton=new Q;this.$$M=new Ua};f.$CKB=ab;ab.__name__=["$CKB"];ab.__interfaces__=[$f];ab.prototype={isDown:function(a){return this.$xM(uc.$AQ(a))},$xM:function(a){return this.$$M.h.hasOwnProperty(a)},$yM:function(a){if(16777238==a)return null!=this.backButton.$oF?(this.backButton.emit(),
!0):!1;this.$$M.h.hasOwnProperty(a)||(this.$$M.h[a]=!0,ab.$_M.$aK(ab.$_M.id+1,uc.$_P(a)),this.down.emit(ab.$_M));return!0},$zM:function(a){this.$$M.h.hasOwnProperty(a)&&(this.$$M.remove(a),ab.$_M.$aK(ab.$_M.id+1,uc.$_P(a)),this.up.emit(ab.$_M))},__class__:ab};var ag=function(){};f["kit.subsystem.MouseSystem"]=ag;ag.__name__=["kit","subsystem","MouseSystem"];ag.prototype={__class__:ag};var Ja=function(a){this.$oG=a;this.$cK=oc.Mouse(Ja.$_M);this.down=new L;this.move=new L;this.up=new L;this.scroll=
new L;this.$_I=this.$$I=0;this.$CN=la.Default;this.$DN=new Ua};f.$CLB=Ja;Ja.__name__=["$CLB"];Ja.__interfaces__=[ag];Ja.prototype={get_cursor:function(){return this.$CN},set_cursor:function(a){return this.$CN=a},$yM:function(a,b,c){this.$DN.h.hasOwnProperty(c)||(this.$DN.h[c]=!0,this.$KK(a,b,bg.$SQ(c)),this.$oG.$yM(a,b,this.$cK),this.down.emit(Ja.$_M))},$AN:function(a,b){this.$KK(a,b,null);this.$oG.$AN(a,b,this.$cK);this.move.emit(Ja.$_M)},$zM:function(a,b,c){this.$DN.h.hasOwnProperty(c)&&(this.$DN.remove(c),
this.$KK(a,b,bg.$SQ(c)),this.$oG.$zM(a,b,this.$cK),this.up.emit(Ja.$_M))},$BN:function(a,b,c){this.$$I=a;this.$_I=b;if(null==this.scroll.$oF)return!1;this.scroll.emit(c);return!0},$KK:function(a,b,c){this.$$I=a;this.$_I=b;Ja.$_M.$aK(Ja.$_M.id+1,a,b,c)},__class__:Ja};var cg=function(){};f["kit.subsystem.PointerSystem"]=cg;cg.__name__=["kit","subsystem","PointerSystem"];cg.prototype={__class__:cg};var za=function(a,b,c){null==c&&(c=!1);null==b&&(b=0);null==a&&(a=0);this.down=new L;this.move=new L;this.up=
new L;this.$$I=a;this.$_I=b;this.$EN=c};f.$CMB=za;za.__name__=["$CMB"];za.__interfaces__=[cg];za.prototype={get_x:function(){return this.$$I},get_y:function(){return this.$_I},isDown:function(){return this.$EN},$yM:function(a,b,c){if(!this.$EN){this.$AN(a,b,c);this.$EN=!0;var d=[],h=w.hitTest(r.root,a,b);if(null!=h){var e=h.owner;do{var f=e.$fG[1];null!=f&&d.push(f);e=e.parent}while(null!=e)}this.$KK(a,b,h,c);for(a=0;a<d.length;)if(b=d[a],++a,b.$zH(za.$_M),za.$_M.$bK)return;this.down.emit(za.$_M)}},
$AN:function(a,b,c){if(a!=this.$$I||b!=this.$_I){var d=[],h=w.hitTest(r.root,a,b);if(null!=h){var e=h.owner;do{var f=e.$fG[1];null!=f&&d.push(f);e=e.parent}while(null!=e)}this.$KK(a,b,h,c);for(a=0;a<d.length;)if(b=d[a],++a,b.$$H(za.$_M),za.$_M.$bK)return;this.move.emit(za.$_M)}},$zM:function(a,b,c){if(this.$EN){this.$AN(a,b,c);this.$EN=!1;var d=[],h=w.hitTest(r.root,a,b);if(null!=h){var e=h.owner;do{var f=e.$fG[1];null!=f&&d.push(f);e=e.parent}while(null!=e)}this.$KK(a,b,h,c);for(a=0;a<d.length;)if(b=
d[a],++a,b.$AI(za.$_M),za.$_M.$bK)return;this.up.emit(za.$_M)}},$KK:function(a,b,c,d){this.$$I=a;this.$_I=b;za.$_M.$aK(za.$_M.id+1,a,b,c,d)},__class__:za};var ce=function(){};f.$CNB=ce;ce.__name__=["$CNB"];ce.__interfaces__=[Ag];ce.prototype={__class__:ce};var jb=function(a,b,c){this.$$I=this.$_I=0;this.$IN=null;this.$GN=this.$HN=0;this.$YM=!1;this.$FN=a;this.$NJ=b;this.$OJ=c};f.$COB=jb;jb.__name__=["$COB"];jb.__interfaces__=[ce];jb.__super__=ea;jb.prototype=p(ea.prototype,{subTexture:function(a,
b,c,d){c=this.$FN.createTexture(c,d);c.$IN=this;c.$$I=a;c.$_I=b;c.$GN=this.$GN+a;c.$HN=this.$HN+b;return c},clear:function(){this.$FN.clear()},renderFilter:function(a,b,c){this.$FN.renderFilter(a,b,c)},get_graphics:function(){return this.$FN.getGraphics()},$WM:function(){null==this.$IN&&this.$FN.dispose()},get_width:function(){return this.$NJ},get_height:function(){return this.$OJ},__class__:jb});var de=function(){};f["kit.subsystem.TouchSystem"]=de;de.__name__=["kit","subsystem","TouchSystem"];de.prototype=
{__class__:de};var hd=function(a,b){null==b&&(b=4);this.$oG=a;this.$KN=b;this.$LN=new Ua;this.$XJ=[];this.down=new L;this.move=new L;this.up=new L};f.$CPB=hd;hd.__name__=["$CPB"];hd.__interfaces__=[de];hd.prototype={get_supported:function(){return!0},get_points:function(){return this.$XJ.slice()},$yM:function(a,b,c){if(!this.$LN.h.hasOwnProperty(a)){var d=new Xf(a);d.$aK(b,c);this.$LN.h[a]=d;this.$XJ.push(d);null==this.$JN&&(this.$JN=d,this.$oG.$yM(b,c,d.$cK));this.down.emit(d)}},$AN:function(a,b,
c){a=this.$LN.h[a];null!=a&&(a.$aK(b,c),this.$JN==a&&this.$oG.$AN(b,c,a.$cK),this.move.emit(a))},$zM:function(a,b,c){var d=this.$LN.h[a];null!=d&&(d.$aK(b,c),this.$LN.remove(a),F.remove(this.$XJ,d),this.$JN==d&&(this.$JN=null,this.$oG.$zM(b,c,d.$cK)),this.up.emit(d))},__class__:hd};var Dg=function(){};f.$CQB=Dg;Dg.__name__=["$CQB"];Dg.$MN=function(){r.$KH().then(function(a){try{r.$MH.getExternal().call("console.info",["Built with 2DKit, http://2dkit.com"])}catch(b){b instanceof v&&(b=b.val)}Sb.main()})};
var Ea=function(){};f.$CRB=Ea;Ea.__name__=["$CRB"];Ea.$QN=function(a){var b=cd.getType(Ea).injected[0];return M.field(b,a)};Ea.$RN=function(){switch(Ea.$QN("orientation")){case "landscape":return Oa.Landscape;case "portrait":return Oa.Portrait}return null};var ee=function(){this.$kN=new Sa;this.$jN=0;this.$hN=this.$iN=null;this.$gN=Infinity;this.$fN=0};f.$CSB=ee;ee.__name__=["$CSB"];ee.__interfaces__=[Pa];ee.prototype={$VN:function(a){this.$gN=a;this.$eN(!0);return this},$WN:function(a){this.$hN=
a;return this},$XN:function(a){this.$iN=a;return this},$YN:function(a,b,c){null==c&&(c=!0);this.$cN(a);var d;d=null!=this.$iN?this.$iN(a,b):1;this.$fN+=d;this.$eN(c);b=new dg(a,b);b.$lN=++this.$jN;b.$TN=d;this.$kN.set(a,b)},$QN:function(a){a=this.$kN.h[a.__id__];if(null==a)return null;a.$lN=++this.$jN;return a.$YK},$ZN:function(){var a=this.$bN(!0);return null!=a?a.$zJ:null},$bN:function(a){for(var b=null,c=this.$kN.iterator();c.hasNext();){var d=c.next();if(null==b||d.$lN<b.$lN==a)b=d}return b},
$cN:function(a,b){null==b&&(b=!0);var c=this.$kN.h[a.__id__];if(null==c)return null;null!=this.$hN&&b&&this.$hN(a,c.$YK);this.$kN.remove(a);this.$fN-=c.$TN;return c.$YK},$dN:function(a){null==a&&(a=!0);var b=this.$kN;this.$kN=new Sa;this.$fN=0;if(null!=this.$hN&&a)for(a=b.iterator();a.hasNext();)b=a.next(),this.$hN(b.$zJ,b.$YK)},dispose:function(){this.$dN()},$eN:function(a){for(;this.$fN>this.$gN;){var b=this.$bN(a);if(null!=b)null!=this.$hN&&this.$hN(b.$zJ,b.$YK),this.$kN.remove(b.$zJ),this.$fN-=
b.$TN;else break}},__class__:ee};var dg=function(a,b){this.$TN=1;this.$lN=0;this.$zJ=a;this.$YK=b};f.$CTB=dg;dg.__name__=["$CTB"];dg.prototype={__class__:dg};var Tb=function(){};f["kit.sound.Sound"]=Tb;Tb.__name__=["kit","sound","Sound"];Tb.__interfaces__=[qb];Tb.prototype={__class__:Tb};var Va=function(){this.$YM=!1;this.$VL=new fe(this)};f.$CYB=Va;Va.__name__=["$CYB"];Va.__interfaces__=[Tb];Va.$rN=function(){null==Va.$sN&&(Va.$sN=new Va);return Va.$sN};Va.__super__=ea;Va.prototype=p(ea.prototype,
{play:function(a){return this.$VL},loop:function(a){return this.$VL},get_duration:function(){return 0},$WM:function(){},__class__:Va});var Ub=function(){};f["kit.sound.Playback"]=Ub;Ub.__name__=["kit","sound","Playback"];Ub.__interfaces__=[Pa];Ub.prototype={__class__:Ub};var fe=function(a){this.$tN=a;this.volume=new Y(0);this.$uN=new sa(!0)};f.$CZB=fe;fe.__name__=["$CZB"];fe.__interfaces__=[Ub];fe.prototype={get_paused:function(){return!0},set_paused:function(a){return!0},get_complete:function(){return this.$uN},
get_position:function(){return 0},dispose:function(){},__class__:fe};var ge=function(){};f["kit.subsystem.StorageSystem"]=ge;ge.__name__=["kit","subsystem","StorageSystem"];ge.prototype={__class__:ge};var fd=function(){this.$vI=new O};f.$CaB=fd;fd.__name__=["$CaB"];fd.__interfaces__=[ge];fd.prototype={set:function(a,b){this.$vI.set(a,b);return(new Ma).$JW(null)},get:function(a,b){return(new Ma).$JW(this.$vI.exists(a)?this.$vI.get(a):b)},__class__:fd};var id=function(){this.down=new L;this.move=new L;
this.up=new L};f.$CbB=id;id.__name__=["$CbB"];id.__interfaces__=[de];id.prototype={get_supported:function(){return!1},get_points:function(){return[]},__class__:id};var vc=function(){};f["kit.video.Video"]=vc;vc.__name__=["kit","video","Video"];vc.__interfaces__=[qb];vc.prototype={__class__:vc};var ib=function(){this.$YM=!1;this.$VL=new he(this)};f.$CcB=ib;ib.__name__=["$CcB"];ib.__interfaces__=[vc];ib.$rN=function(){null==ib.$sN&&(ib.$sN=new ib);return ib.$sN};ib.__super__=ea;ib.prototype=p(ea.prototype,
{play:function(a){return this.$VL},get_width:function(){return 1},get_height:function(){return 1},$WM:function(){},__class__:ib});var wc=function(){};f["kit.video.VideoPlayback"]=wc;wc.__name__=["kit","video","VideoPlayback"];wc.__interfaces__=[Pa];wc.prototype={__class__:wc};var he=function(a){this.$vN=a;this.volume=new Y(0);this.$uN=new sa(!0);this.$PJ=r.$MH.$pG.createTexture(1,1)};f.$CdB=he;he.__name__=["$CdB"];he.__interfaces__=[wc];he.prototype={get_video:function(){return this.$vN},get_texture:function(){return this.$PJ},
dispose:function(){},__class__:he};var Vb=function(){this.$KG=[]};f.$CfB=Vb;Vb.__name__=["$CfB"];Vb.__interfaces__=[Pa];Vb.prototype={$wN:function(a,b,c){a.addEventListener(b,c,!1);this.$KG.push(new eg(a,b,c))},$xN:function(a,b,c){var d=this;this.$wN(a,b,function(a){d.dispose();c(a)})},dispose:function(){for(var a=0,b=this.$KG;a<b.length;){var c=b[a];++a;c.$yN.removeEventListener(c.$ZK,c.$zN,!1)}this.$KG=[]},__class__:Vb};var eg=function(a,b,c){this.$yN=a;this.$ZK=b;this.$zN=c};f.$CgB=eg;eg.__name__=
["$CgB"];eg.prototype={__class__:eg};var Qf=function(a,b){this.$_N=this.$AO=0;var c=a+150,d=b+150;this.$BO=r.$MH.$pG.createTexture(c,d);this.$CO=r.$MH.$pG.createTexture(c,d);this.$NJ=a;this.$OJ=b};f.$CiB=Qf;Qf.__name__=["$CiB"];Qf.prototype={$DO:function(a,b){if(a>this.$BO.get_width()||b>this.$BO.get_height()){var c=D["int"](Math.max(this.$BO.get_width(),a+150)),d=D["int"](Math.max(this.$BO.get_height(),b+150));this.$BO.dispose();this.$CO.dispose();this.$BO=r.$MH.$pG.createTexture(c,d);this.$CO=r.$MH.$pG.createTexture(c,
d)}else this.$BO.clear(),this.$CO.clear();this.$NJ=a;this.$OJ=b},$EO:function(a){null!=a.$UK&&(a.outputOnly||a.setUniformSampler2D("uTexture",this.$BO),a.setUniformVec2("uFilterPosition",this.$_N,this.$AO),this.$CO.renderFilter(a,this.$NJ,this.$OJ),a=this.$BO,this.$BO=this.$CO,this.$CO=a)},__class__:Qf};var xc=function(){};f.$CkB=xc;xc.__name__=["$CkB"];xc.__interfaces__=[pd];xc.prototype={__class__:xc};var fg=function(){};f["kit.subsystem.RendererSystem"]=fg;fg.__name__=["kit","subsystem","RendererSystem"];
fg.prototype={__class__:fg};var yc=function(){};f.$ClB=yc;yc.__name__=["$ClB"];yc.__interfaces__=[fg];yc.prototype={__class__:yc};var uc=function(){};f.$CmB=uc;uc.__name__=["$CmB"];uc.$_P=function(a){switch(a){case 65:return e.A;case 66:return e.B;case 67:return e.C;case 68:return e.D;case 69:return e.E;case 70:return e.F;case 71:return e.G;case 72:return e.H;case 73:return e.I;case 74:return e.J;case 75:return e.K;case 76:return e.L;case 77:return e.M;case 78:return e.N;case 79:return e.O;case 80:return e.P;
case 81:return e.Q;case 82:return e.R;case 83:return e.S;case 84:return e.T;case 85:return e.U;case 86:return e.V;case 87:return e.W;case 88:return e.X;case 89:return e.Y;case 90:return e.Z;case 48:return e.Number0;case 49:return e.Number1;case 50:return e.Number2;case 51:return e.Number3;case 52:return e.Number4;case 53:return e.Number5;case 54:return e.Number6;case 55:return e.Number7;case 56:return e.Number8;case 57:return e.Number9;case 96:return e.Numpad0;case 97:return e.Numpad1;case 98:return e.Numpad2;
case 99:return e.Numpad3;case 100:return e.Numpad4;case 101:return e.Numpad5;case 102:return e.Numpad6;case 103:return e.Numpad7;case 104:return e.Numpad8;case 105:return e.Numpad9;case 107:return e.NumpadAdd;case 110:return e.NumpadDecimal;case 111:return e.NumpadDivide;case 108:return e.NumpadEnter;case 106:return e.NumpadMultiply;case 109:return e.NumpadSubtract;case 112:return e.F1;case 113:return e.F2;case 114:return e.F3;case 115:return e.F4;case 116:return e.F5;case 117:return e.F6;case 118:return e.F7;
case 119:return e.F8;case 120:return e.F9;case 121:return e.F10;case 122:return e.F11;case 123:return e.F12;case 37:return e.Left;case 38:return e.Up;case 39:return e.Right;case 40:return e.Down;case 18:return e.Alt;case 192:return e.Backquote;case 220:return e.Backslash;case 8:return e.Backspace;case 20:return e.CapsLock;case 188:return e.Comma;case 15:return e.Command;case 17:return e.Control;case 46:return e.Delete;case 35:return e.End;case 13:return e.Enter;case 187:return e.Equals;case 27:return e.Escape;
case 36:return e.Home;case 45:return e.Insert;case 219:return e.LeftBracket;case 189:return e.Minus;case 34:return e.PageDown;case 33:return e.PageUp;case 190:return e.Period;case 222:return e.Quote;case 221:return e.RightBracket;case 186:return e.Semicolon;case 16:return e.Shift;case 191:return e.Slash;case 32:return e.Space;case 9:return e.Tab;case 16777234:return e.Menu;case 16777247:return e.Search}return e.Unknown(a)};uc.$AQ=function(a){switch(a[1]){case 0:return 65;case 1:return 66;case 2:return 67;
case 3:return 68;case 4:return 69;case 5:return 70;case 6:return 71;case 7:return 72;case 8:return 73;case 9:return 74;case 10:return 75;case 11:return 76;case 12:return 77;case 13:return 78;case 14:return 79;case 15:return 80;case 16:return 81;case 17:return 82;case 18:return 83;case 19:return 84;case 20:return 85;case 21:return 86;case 22:return 87;case 23:return 88;case 24:return 89;case 25:return 90;case 26:return 48;case 27:return 49;case 28:return 50;case 29:return 51;case 30:return 52;case 31:return 53;
case 32:return 54;case 33:return 55;case 34:return 56;case 35:return 57;case 36:return 96;case 37:return 97;case 38:return 98;case 39:return 99;case 40:return 100;case 41:return 101;case 42:return 102;case 43:return 103;case 44:return 104;case 45:return 105;case 46:return 107;case 47:return 110;case 48:return 111;case 49:return 108;case 50:return 106;case 51:return 109;case 52:return 112;case 53:return 113;case 54:return 114;case 55:return 115;case 56:return 116;case 57:return 117;case 58:return 118;
case 59:return 119;case 60:return 120;case 61:return 121;case 62:return 122;case 63:return 123;case 64:return 124;case 65:return 125;case 66:return 126;case 67:return 37;case 68:return 38;case 69:return 39;case 70:return 40;case 71:return 18;case 72:return 192;case 73:return 220;case 74:return 8;case 75:return 20;case 76:return 188;case 77:return 15;case 78:return 17;case 79:return 46;case 80:return 35;case 81:return 13;case 82:return 187;case 83:return 27;case 84:return 36;case 85:return 45;case 86:return 219;
case 87:return 189;case 88:return 34;case 89:return 33;case 90:return 190;case 91:return 222;case 92:return 221;case 93:return 186;case 94:return 16;case 95:return 191;case 96:return 32;case 97:return 9;case 98:return 16777234;case 99:return 16777247;case 100:return a[2]}};var Hb=function(){this.$HQ=0;this.$FQ=null;this.$BQ=new q;this.$GQ=[]};f.$CnB=Hb;Hb.__name__=["$CnB"];Hb.$IQ=function(a,b){if(a.active){var c=a.$fG[9];if(null!=c&&(c.$QH=b,b*=c.scale.$HH,0>=b)){c.onUpdate(b);return}for(c=a.firstComponent;null!=
c;){var d=c.next;0==(c.$ZF&1)&&(c.$ZF|=1,c.$YF(),c.onStart());c.onUpdate(b);c=d}for(c=a.firstChild;null!=c;)d=c.next,Hb.$IQ(c,b),c=d}};Hb.prototype={$aK:function(){if(1==Ea.$QN("scaleMode")){var a=new w;r.root.add(a);var b=Ea.$QN("width"),c=Ea.$QN("height"),d=Ea.$QN("maxWidth"),h=Ea.$QN("maxHeight"),e=function(){var e=Math.min(r.$MH.$qG.get_width()/b,r.$MH.$qG.get_height()/c);a.setXY(r.$MH.$qG.get_width()/2-e*b/2,r.$MH.$qG.get_height()/2-e*c/2);a.setScale(e);d*e<r.$MH.$qG.get_width()||h*e<r.$MH.$qG.get_height()?
(null==a.get_scissor()&&a.set_scissor(new qa),a.get_scissor().set(b/2-d/2,c/2-h/2,d,h)):a.set_scissor(null)};e();r.$MH.$qG.resize.connect(e)}},$jG:function(a){if(!(0>=a)){0.5<a?3>=this.$HQ&&(++this.$HQ,a=0.016666666666666666):this.$HQ=0;if(null!=this.$FQ){var b=this.$FQ;this.$FQ=null;for(var c=0;c<b.length;){var d=b[c];++c;d()}}for(b=0;b<this.$GQ.length;)c=this.$GQ[b],null==c||c.update(a)?this.$GQ.splice(b,1):++b;r.volume.update(a);Hb.$IQ(r.root,a);Hb.$IQ(this.$BQ,a)}},$zI:function(a){var b=a.graphics;
null!=b&&(a.willRender(),w.$MI(r.root,b,!0),w.$MI(this.$BQ,b,!0),a.didRender())},$CQ:function(a){this.$GQ.push(a)},$EQ:function(a){null==this.$FQ?this.$FQ=[a]:this.$FQ.push(a)},__class__:Hb};var fa=function(){};f.$CoB=fa;fa.__name__=["$CoB"];fa.$KQ=function(a,b,c,d,h,e,f){if(3>f)return!1;for(var g=0,k=2*Math.PI/f,m=0;m<f;){var n=m++,p=Math.cos(g),q=Math.sin(g),g=g+k;a.push(h*p+c);a.push(e*q+d);n<f-1&&(b.push(0),b.push(n),b.push(n+1))}return!0};fa.$LQ=function(a,b,c,d,h,e,f,g){if(3>g)return!1;a.push(c);
a.push(d);f/=g;var k=0;for(g+=1;k<g;){var m=k++,n=Math.cos(e),p=Math.sin(e);e+=f;a.push(h*n+c);a.push(h*p+d);b.push(0);b.push(m);b.push(m+1)}return!0};fa.$MQ=function(a,b,c,d,h,e,f,g,k){f/=k;var m=[],n=0;for(k+=1;n<k;){n++;var p=Math.cos(e),q=Math.sin(e);e+=f;m.push(h*p+c);m.push(h*q+d)}return fa.$OQ(a,b,m,g)};fa.$NQ=function(a,b,c,d,h,e,f,g){for(var k=0,m=2*Math.PI/g,n=[],p=0;p<g;){p++;var q=Math.cos(k),r=Math.sin(k),k=k+m;n.push(h*q+c);n.push(e*r+d)}n.push(h+c);n.push(d);return fa.$OQ(a,b,n,f)};
fa.$OQ=function(a,b,c,d){var h=c.length;if(4>h)return!1;d/=2;var e=c[0],f=c[1],g=c[h-2],k=c[h-1],m=new A(-(c[3]-f),c[2]-e);m.normalize();var n=m.x,m=m.y;a.push(e-d*n);a.push(f-d*m);a.push(e+d*n);a.push(f+d*m);e=h/2|0;for(f=2;f<h-2;){var p=c[f++],q=c[f++],r=c[f],t=c[f+1],s=new A(-(t-q),r-p);s.normalize();var u=new A(s.x,s.y);u.add(n,m);u.normalize();var v=s.dot(u.x,u.y);u.multiply(d/v);if(0.15>v){var v=c[f-4],w=c[f-3];0>(p-v)*(t-w)-(q-w)*(r-v)?(a.push(p-u.x),a.push(q-u.y),a.push(p+n*d),a.push(q+m*
d),a.push(p-u.x),a.push(q-u.y),a.push(p+s.x*d),a.push(q+s.y*d)):(a.push(p-n*d),a.push(q-m*d),a.push(p+u.x),a.push(q+u.y),a.push(p-s.x*d),a.push(q-s.y*d),a.push(p+u.x),a.push(q+u.y));++e}else a.push(p-u.x),a.push(q-u.y),a.push(p+u.x),a.push(q+u.y);n=s.x;m=s.y}a.push(g-d*n);a.push(k-d*m);a.push(g+d*n);a.push(k+d*m);a=0;for(c=e-1;a<c;)h=2*a++,b.push(h),b.push(h+1),b.push(h+2),b.push(h+2),b.push(h+3),b.push(h+1);return!0};fa.$PQ=function(a){if(6>a.length)return null;null==fa.$QQ&&(fa.$QQ=new gg);return fa.$QQ.triangulate(a)};
var bg=function(){};f.$CpB=bg;bg.__name__=["$CpB"];bg.$SQ=function(a){switch(a){case 0:return na.Left;case 1:return na.Middle;case 2:return na.Right}return na.Unknown(a)};var jd=function(){this.$fI=null;y.call(this)};f.$CqB=jd;jd.__name__=["$CqB"];jd.__super__=y;jd.prototype=p(y.prototype,{get_entitySlot:function(){return 10},onStart:function(){var a=this,b=Ea.$RN();null!=b&&r.$MH.$qG.orientation.watch(function(c,d){null==c||c==b?a.$VQ():a.$UQ(c!=d)})},$UQ:function(a){var b=this;if(null==this.$fI){this.owner.addChild(this.$fI=
new q);var c=this.$fI;r.loadAssetPack(Ra.fromAssets("_2DKitOrientation")).then(function(d){b.registerDisposable(d);var h=new nb(0,0,0);a&&h.alpha.animate(0,1,0.3);c.add(h);var e=(new da(d.getTexture("RotateDevice"))).centerAnchor();c.addChild((new q).add(e));d=function(){h.setSize(r.$MH.$qG.get_width(),r.$MH.$qG.get_height());e.setXY(r.$MH.$qG.get_width()/2,r.$MH.$qG.get_height()/2)};d();b.connect0(r.$MH.$qG.resize,d)})}},$VQ:function(){null!=this.$fI&&(this.$fI.dispose(),this.$fI=null)},__class__:jd});
var Jb=function(){};f.$CrB=Jb;Jb.__name__=["$CrB"];Jb.$XQ=function(a){var b=new pb;b.useCache=!0;b.useEnumIndex=!1;b.serialize(a);return Jb.$ZQ(b.toString(),!1)};Jb.$YQ=function(a){return Da.run(Jb.$ZQ(a,!0))};Jb.$ZQ=function(a,b){for(var c="",d=new hg(a.length),h=0,e=a.length;h<e;){var f=h++,g=d.nextInt()%30;b&&(g=-g);f=a.charCodeAt(f)+g;c+=String.fromCharCode(f)}return c};var ie=function(){};f.$CsB=ie;ie.__name__=["$CsB"];ie.prototype={__class__:ie};var zc=function(){};f.$CtB=zc;zc.__name__=["$CtB"];
zc.prototype={__class__:zc};var ca=function(a,b){this.$oQ=new je;this.$nQ=!1;this.$mQ=a.getContext("2d",{alpha:b})};f.$CuB=ca;ca.__name__=["$CuB"];ca.__interfaces__=[xc];ca.prototype={save:function(){var a=this.$oQ,b=this.$oQ.next;null==b&&(b=new je,b.$sQ=a,a.next=b);b.$uL=a.$uL;b.$wL=a.$wL;b.$yL=a.$yL;b.$qQ=a.$qQ;b.$rQ=a.$rQ;this.$oQ=b;this.$mQ.save()},translate:function(a,b){this.$mQ.translate(a|0,b|0)},scale:function(a,b){this.$mQ.scale(a,b)},rotate:function(a){this.$mQ.rotate(3.141592653589793*
a/180)},transform:function(a,b,c,d,h,e){this.$mQ.transform(a,b,c,d,h,e)},restore:function(){this.$oQ=this.$oQ.$sQ;this.$mQ.restore()},$aQ:function(a,b,c,d,h){var e=this.$oQ,e=(255*e.$uL&255)<<16|(255*e.$wL&255)<<8|255*e.$yL&255;null==ca.$pQ&&(ca.$pQ=I.$dS(d,h));ca.$pQ.width=d;ca.$pQ.height=h;var f=ca.$pQ.getContext("2d",null);f.globalCompositeOperation="copy";f.fillStyle=I.$jS(e);f.fillRect(0,0,d,h);f.globalCompositeOperation="multiply";f.drawImage(a,b,c,d,h,0,0,d,h);f.globalCompositeOperation="destination-atop";
f.drawImage(a,b,c,d,h,0,0,d,h);return ca.$pQ},drawTexture:function(a,b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},drawSubTexture:function(a,b,c,d,h,e,f){if(this.$nQ)this.$nQ=!1,this.$mQ.globalCompositeOperation="copy",this.drawSubTexture(a,b,c,d,h,e,f),this.$mQ.globalCompositeOperation="source-over";else{var g=a.$FN;d=a.$GN+d|0;a=a.$HN+h|0;e|=0;f|=0;b|=0;c|=0;h=g.$dH;this.$oQ.$qQ?(g=this.$aQ(g.$BR,d,a,e,f),this.$mQ.drawImage(g,b*h,c*h,e*h,f*h)):this.$mQ.drawImage(g.$BR,d*h,a*
h,e*h,f*h,b,c,e,f)}},drawPattern:function(a,b,c,d,h){if(this.$nQ)this.$nQ=!1,this.$mQ.globalCompositeOperation="copy",this.drawPattern(a,b,c,d,h),this.$mQ.globalCompositeOperation="source-over";else{var e=this.$oQ,f=a.$FN.$dH;1!=f&&(this.$mQ.save(),this.$mQ.scale(1/f,1/f));b|=0;c|=0;d|=0;h|=0;e.$rQ?this.$mQ.rect(b,c,d,h):(this.$mQ.fillStyle=this.$iQ(a),this.$mQ.fillRect(b,c,d*f,h*f));1!=f&&this.$mQ.restore()}},fillRect:function(a,b,c,d,h){this.$nQ?(this.$nQ=!1,this.$mQ.globalCompositeOperation="copy",
this.fillRect(a,b,c,d,h),this.$mQ.globalCompositeOperation="source-over"):(b|=0,c|=0,d|=0,h|=0,this.$oQ.$rQ?this.$mQ.rect(b,c,d,h):(this.$mQ.fillStyle=this.$hQ(a),this.$mQ.fillRect(b,c,d,h)))},fillTriangles:function(a,b,c){this.$nQ=!1;this.$bQ(b,c);this.$jQ(a)},drawTriangles:function(a,b,c,d){this.$nQ=!1;this.$bQ(b,c);this.$kQ(a)},$bQ:function(a,b){this.$mQ.beginPath();for(var c=0,d=b.length;c<d;){var h=2*b[c],e=2*b[c+1],f=2*b[c+2],c=c+3;this.$mQ.moveTo(a[h],a[h+1]);this.$mQ.lineTo(a[e],a[e+1]);this.$mQ.lineTo(a[f],
a[f+1])}this.$mQ.closePath()},fillPolygon:function(a,b){this.$nQ=!1;this.$cQ(b);this.$jQ(a)},drawPolygon:function(a,b){this.$nQ=!1;this.$cQ(b);this.$kQ(a)},$cQ:function(a){this.$mQ.beginPath();for(var b=0,c=a.length;b<c;){var d=a[b++],h=a[b++];this.$mQ.lineTo(d,h)}this.$mQ.closePath()},drawCircle:function(a,b,c,d,h){this.$nQ=!1;this.$dQ(b,c,d);this.$kQ(a)},fillCircle:function(a,b,c,d,h){this.$nQ=!1;this.$dQ(b,c,d);this.$jQ(a)},strokeCircle:function(a,b,c,d,h,e){this.$nQ=!1;this.$dQ(b,c,d);this.$lQ(a,
h)},$dQ:function(a,b,c){this.$mQ.beginPath();this.$mQ.arc(a,b,c,0,6.283185307179586);this.$mQ.closePath()},drawEllipse:function(a,b,c,d,h,e){this.$nQ=!1;this.$eQ(b,c,d,h);this.$kQ(a)},fillEllipse:function(a,b,c,d,h,e){this.$nQ=!1;this.$eQ(b,c,d,h);this.$jQ(a)},strokeEllipse:function(a,b,c,d,h,e,f){this.$nQ=!1;this.$eQ(b,c,d,h);this.$lQ(a,e)},$eQ:function(a,b,c,d){var h=0.5522848*c,e=0.5522848*d,f=a-c,g=b-d;c=a+c;d=b+d;this.$mQ.beginPath();this.$mQ.moveTo(f,b);this.$mQ.bezierCurveTo(f,b-e,a-h,g,a,
g);this.$mQ.bezierCurveTo(a+h,g,c,b-e,c,b);this.$mQ.bezierCurveTo(c,b+e,a+h,d,a,d);this.$mQ.bezierCurveTo(a-h,d,f,b+e,f,b);this.$mQ.closePath()},fillArc:function(a,b,c,d,h,e,f){this.$nQ=!1;e=h+e;this.$mQ.beginPath();this.$mQ.moveTo(b,c);this.$mQ.arc(0,0,d,3.141592653589793*h/180,3.141592653589793*e/180);this.$jQ(a)},strokeArc:function(a,b,c,d,h,e,f,g){this.$nQ=!1;c=h+e;this.$mQ.beginPath();this.$mQ.arc(b,b,d,3.141592653589793*h/180,3.141592653589793*c/180);this.$lQ(a,f)},strokeLines:function(a,b,
c){this.$nQ=!1;this.$fQ(b);this.$mQ.lineWidth=c;this.$mQ.strokeStyle=this.$hQ(a);this.$mQ.stroke()},drawLines:function(a,b,c){this.$nQ=!1;this.$fQ(b);this.$mQ.lineWidth=c;this.$mQ.strokeStyle=this.$iQ(a);this.$mQ.stroke()},$fQ:function(a){this.$mQ.beginPath();if(2<=a.length){this.$mQ.moveTo(a[0],a[1]);for(var b=2,c=a.length;b<c;){var d=a[b++],h=a[b++];this.$mQ.lineTo(d,h)}}},multiplyAlpha:function(a){this.$mQ.globalAlpha*=a},setAlpha:function(a){this.$mQ.globalAlpha=a},tint:function(a,b,c){var d=
this.$oQ;d.$uL*=a;d.$wL*=b;d.$yL*=c;d.$qQ=!0},setBlendMode:function(a){var b;switch(a[1]){case 0:b="source-over";break;case 1:b="lighter";break;case 2:b="multiply";break;case 3:b="screen";break;case 4:b="destination-in";break;case 5:b="copy"}this.$mQ.globalCompositeOperation=b},beginMask:function(){var a=this.$oQ;a.$rQ&&this.endMask();a.$rQ=!0;this.$mQ.beginPath()},endMask:function(){var a=this.$oQ;a.$rQ&&(a.$rQ=!1,this.$mQ.clip())},applyScissor:function(a,b,c,d){this.$mQ.beginPath();this.$mQ.rect(a|
0,b|0,c|0,d|0);this.$mQ.clip()},willRender:function(){this.$nQ=!0},didRender:function(){},onResize:function(a,b){},$hQ:function(a){var b=this.$oQ;b.$qQ&&(a=(b.$uL*(a&16711680)/16711680*255&255)<<16|(b.$wL*(a&65280)/65280*255&255)<<8|b.$yL*(a&255)/255*255&255);return I.$jS(a)},$iQ:function(a){return this.$oQ.$qQ?(a=this.$aQ(a.$FN.$BR,a.$GN,a.$HN,a.$NJ,a.$OJ),this.$mQ.createPattern(a,"repeat")):a.$wQ()},$jQ:function(a){this.$oQ.$rQ||(this.$mQ.fillStyle=this.$hQ(a),this.$mQ.fill())},$kQ:function(a){this.$oQ.$rQ||
(this.$mQ.fillStyle=this.$iQ(a),this.$mQ.fill())},$lQ:function(a,b){this.$oQ.$rQ||(this.$mQ.strokeStyle=this.$hQ(a),this.$mQ.lineWidth=b,this.$mQ.stroke())},__class__:ca};var je=function(){this.$sQ=this.next=null;this.$qQ=this.$rQ=!1;this.$uL=this.$wL=this.$yL=1};f.$CvB=je;je.__name__=["$CvB"];je.prototype={__class__:je};var mc=function(a){this.graphics=new ca(a,!1);this.$vQ=new sa(!0)};f.$CwB=mc;mc.__name__=["$CwB"];mc.__interfaces__=[yc];mc.prototype={get_filterSupported:function(){return!1},createTextureFromImage:function(a,
b,c){null==c&&(c=1);a=new Ac(a,c);return a.createTexture(a.$zQ/c,a.$$Q/c)},createTexture:function(a,b,c,d){null==d&&(d=1);a=I.$dS(a,b);return this.createTextureFromImage(a,null,d)},getTextureAssetFormats:function(){return[]},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},__class__:mc};var ke=function(a,b,c){this.$yQ=0;this.$xQ=null;jb.call(this,a,b,c)};f.$CxB=ke;ke.__name__=["$CxB"];ke.__super__=jb;ke.prototype=p(jb.prototype,{$wQ:function(){if(this.$yQ!=
this.$FN.$CR||null==this.$xQ)this.$yQ=this.$FN.$CR,this.$xQ=this.$FN.$ER(this.$GN,this.$HN,this.$NJ,this.$OJ);return this.$xQ},__class__:ke});var Ac=function(a,b){this.$HR=null;this.$CR=0;this.$YM=!1;this.$BR=a;this.$zQ=a.width;this.$$Q=a.height;this.$dH=b;this.$_Q=this.$zQ/b;this.$AR=this.$$Q/b};f.$CyB=Ac;Ac.__name__=["$CyB"];Ac.__interfaces__=[ie];Ac.__super__=ea;Ac.prototype=p(ea.prototype,{createTexture:function(a,b){return new ke(this,Math.ceil(a),Math.ceil(b))},getGraphics:function(){null==
this.$HR&&(this.$GR(),this.$HR=new le(this));return this.$HR},clear:function(){var a=this.$GR();a.save();a.setTransform(1,0,0,1,0,0);a.clearRect(0,0,this.$BR.width,this.$BR.height);a.restore()},renderFilter:function(a,b,c){null},$ER:function(a,b,c,d){var h=this.$GR(),e=this.$BR;if(0!=a||0!=b||c!=this.$_Q||d!=this.$AR)e=I.$dS(c,d),c=e.getContext("2d",null),c.globalCompositeOperation="copy",c.drawImage(this.$BR,-a,-b);return h.createPattern(e,"repeat")},$GR:function(){T.__instanceof(this.$BR,HTMLCanvasElement)||
(this.$BR=I.$eS(this.$BR));return this.$BR.getContext("2d",null)},$WM:function(){this.$HR=this.$BR=null},__class__:Ac});var le=function(a){ca.call(this,a.$BR,!0);this.$IR=a};f.$CzB=le;le.__name__=["$CzB"];le.__super__=ca;le.prototype=p(ca.prototype,{drawTexture:function(a,b,c){ca.prototype.drawTexture.call(this,a,b,c);++this.$IR.$CR},drawSubTexture:function(a,b,c,d,h,e,f){ca.prototype.drawSubTexture.call(this,a,b,c,d,h,e,f);++this.$IR.$CR},drawPattern:function(a,b,c,d,h){ca.prototype.drawPattern.call(this,
a,b,c,d,h);++this.$IR.$CR},fillRect:function(a,b,c,d,h){ca.prototype.fillRect.call(this,a,b,c,d,h);++this.$IR.$CR},fillTriangles:function(a,b,c){ca.prototype.fillTriangles.call(this,a,b,c);++this.$IR.$CR},drawTriangles:function(a,b,c,d){ca.prototype.drawTriangles.call(this,a,b,c);++this.$IR.$CR},drawCircle:function(a,b,c,d,h){null==h&&(h=50);ca.prototype.drawCircle.call(this,a,b,c,d,h);++this.$IR.$CR},fillCircle:function(a,b,c,d,h){null==h&&(h=50);ca.prototype.fillCircle.call(this,a,b,c,d,h);++this.$IR.$CR},
drawEllipse:function(a,b,c,d,h,e){null==e&&(e=50);ca.prototype.drawEllipse.call(this,a,b,c,d,h,e);++this.$IR.$CR},fillEllipse:function(a,b,c,d,h,e){null==e&&(e=50);ca.prototype.fillEllipse.call(this,a,b,c,d,h,e);++this.$IR.$CR},strokeLines:function(a,b,c){ca.prototype.strokeLines.call(this,a,b,c);++this.$IR.$CR},drawLines:function(a,b,c){ca.prototype.drawLines.call(this,a,b,c);++this.$IR.$CR},__class__:le});var R=function(a,b){sc.call(this,a,b)};f.$C_B=R;R.__name__=["$C_B"];R.$NR=function(a){var b=
[t.PNG,t.JPG,t.GIF],c=2,d;d=window.document.createElement("img");d.onload=d.onerror=function(h){1==d.width&&b.unshift(t.WEBP);--c;0==c&&a(b)};d.src="data:image/webp;base64,UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==";var h;h=window.document.createElement("img");h.onload=h.onerror=function(d){1==h.width&&b.unshift(t.JXR);--c;0==c&&a(b)};h.src="data:image/vnd.ms-photo;base64,SUm8AQgAAAAFAAG8AQAQAAAASgAAAIC8BAABAAAAAQAAAIG8BAABAAAAAQAAAMC8BAABAAAAWgAAAMG8BAABAAAAHwAAAAAAAAAkw91vA07+S7GFPXd2jckNV01QSE9UTwAZAYBxAAAAABP/gAAEb/8AAQAAAQAAAA=="};
R.$OR=function(){var a;a=window.document.createElement("audio");if(null==a||null==m(a,a.canPlayType))return[];var b=new lb("\\b(iPhone|iPod|iPad|Android|Windows Phone)\\b",""),c=window.navigator.userAgent;if(!N.get_supported()&&b.match(c))return[];b=[];b.push({format:t.MP3,mimeType:"audio/mpeg"});b.push({format:t.MP4,mimeType:"video/mp4"});for(var c=[{format:t.OPUS,mimeType:"audio/ogg; codecs=opus"},{format:t.OGG,mimeType:"audio/ogg; codecs=vorbis"},{format:t.WAV,mimeType:"audio/wav"},{format:t.WEBM,
mimeType:"video/webm"}],b=0<=window.navigator.userAgent.indexOf("2DKSim")?c:b.concat(c),c=[],d=0;d<b.length;){var h=b[d];++d;var e="";try{e=a.canPlayType(h.mimeType)}catch(f){f instanceof v&&(f=f.val)}""!=e&&c.push(h.format)}return c};R.$PR=function(){if(R.$aR){R.$aR=!1;if((new lb("\\bSilk\\b","")).match(window.navigator.userAgent)||null==window.Blob)return!1;var a=new XMLHttpRequest;a.open("GET",".",!0);if(""!=a.responseType)return!1;a.responseType="blob";if("blob"!=a.responseType)return!1;R.$bR=
I.$VS("URL").value}return null!=R.$bR&&null!=R.$bR.createObjectURL};R.$QR=function(a){var b=++R.$YR;null==R.$XR&&(R.$XR=new Ua);R.$XR.h[b]=a;return b};R.$RR=function(a){R.$XR.remove(a)};R.__super__=sc;R.prototype=p(sc.prototype,{$cM:function(a,b){var c=this;switch(b.format[1]){case 0:case 1:case 2:case 3:case 4:var d;d=window.document.createElement("img");var h=new Vb;h.$xN(d,"load",function(a){R.$PR()&&R.$bR.revokeObjectURL(d.src);a=c.$MH.getRenderer().createTextureFromImage(d,null,1);null!=a?c.$eM(b,
a):c.$iM(b)});h.$xN(d,"error",function(a){c.$hM(b,"Failed to load image")});h="data:"==F.substr(a,0,5);!h&&R.$PR()?this.$MR(a,b,"blob",function(a){d.src=R.$bR.createObjectURL(a)}):(h||(d.crossOrigin=""),d.src=a);break;case 8:case 9:case 10:case 11:case 12:if(N.get_supported())this.$MR(a,b,"arraybuffer",function(a){N.$AT.decodeAudioData(a,function(a){c.$eM(b,new N(a))},function(){c.$eM(b,Va.$rN())})});else{var e;e=window.document.createElement("audio");e.preload="auto";var f=R.$QR(e),h=new Vb;h.$xN(e,
"canplaythrough",function(a){R.$RR(f);c.$eM(b,new Bc(e))});h.$xN(e,"error",function(a){R.$RR(f);a=e.error.code;3==a||4==a?c.$eM(b,Va.$rN()):c.$hM(b,"Failed to load audio: "+e.error.code)});h.$wN(e,"progress",function(a){0<e.buffered.length&&0<e.duration&&(a=e.buffered.end(0)/e.duration,c.$fM(b,a*b.bytes|0,b.bytes))});e.src=a;e.load()}break;case 17:case 18:var g;g=window.document.createElement("video");g.preload="metadata";var k=R.$QR(g),h=new Vb;h.$xN(g,"loadedmetadata",function(a){R.$RR(k);c.$eM(b,
new Cc(g))});h.$xN(g,"error",function(a){R.$RR(k);c.$hM(b,"Failed to load video: "+g.error.code)});g.src=a;g.load();break;case 13:case 14:case 15:(function(a,d){var h="_kit_font_"+R.$ZR;++R.$ZR;if("undefined"!=typeof FontFace)(new FontFace(h,"url("+a+")")).load().then(function(a){c.$eM(b,new Wb(h,a));window.document.fonts.add(a)},function(a){c.$hM(b,a.message)});else{var e;e=window.document.createElement("style");e.innerHTML="@font-face{font-family:"+h+";src:url("+a+");}";window.document.head.appendChild(e);
var f=window.document.createElement("canvas").getContext("2d",null);f.font="300px sans";var l=f.measureText("BESbswy").width;f.font='300px "'+h+'"';var g=Date.now()/1E3;r.nextFrame(function(a){var d=null;return d=function(){var a=Date.now()/1E3-g,k=f.measureText("BESbswy").width;5<=a||l!=k?c.$eM(b,new Wb(h,null,e)):r.$MH.$iG.$EQ(d)}}(this))}})(a,!1);break;case 19:this.$MR(a,b,"text",function(a){c.$eM(b,new tc(a))})}},$dM:function(a){var b=this;null==R.$WR&&(R.$WR=new Ma,R.$NR(function(a){var d;d=
window.navigator.isCocoonJS?[t.TTF,t.WOFF]:[t.WOFF,t.OTF,t.TTF];a=b.$MH.getRenderer().getTextureAssetFormats().concat(a).concat(R.$OR()).concat(d).concat([t.Data]);R.$WR.success(a)}));R.$WR.then(a)},$MR:function(a,b,c,d){var h=this,e=null,f=null,g=0,k=!1,m=function(){k&&(k=!1,window.clearInterval(g))},n=3,p=function(){--n;return 0<=n?(f(),!0):!1},f=function(){m();null!=e&&e.abort();e=new XMLHttpRequest;e.open("GET",a,!0);e.responseType=c;var f=0;e.onprogress=function(a){k||(k=!0,g=window.setInterval(function(){4!=
e.readyState&&5E3<Date.now()-f&&!p()&&(m(),h.$hM(b,"Download stalled"))},1E3));f=Date.now();h.$fM(b,a.loaded,a.total)};e.onerror=function(a){0==e.status&&p()||(m(),h.$hM(b,"HTTP error "+e.status))};e.onload=function(a){a=e.response;null==a&&(a=e.responseText);m();d(a)};e.send()};f()},__class__:R});var ig=function(){};f["kit.subsystem.ExternalSystem"]=ig;ig.__name__=["kit","subsystem","ExternalSystem"];ig.prototype={__class__:ig};var kd=function(){};f.$CBC=kd;kd.__name__=["$CBC"];kd.__interfaces__=
[ig];kd.prototype={call:function(a,b){null==b&&(b=[]);for(var c=window,d=c,h=0,e=a.split(".");h<e.length;){var f=e[h];++h;c=d;d=M.field(c,f)}return d.apply(c,b)},__class__:kd};var gd=function(a,b){Ja.call(this,a);this.$_G=b};f.$CFC=gd;gd.__name__=["$CFC"];gd.__super__=Ja;gd.prototype=p(Ja.prototype,{set_cursor:function(a){var b;switch(a[1]){case 0:b="";break;case 1:b="pointer";break;case 2:b="none"}this.$_G.style.cursor=b;return Ja.prototype.set_cursor.call(this,a)},__class__:gd});var Bc=function(a){this.$YM=
!1;this.$_R=a};f.$CGC=Bc;Bc.__name__=["$CGC"];Bc.__interfaces__=[Tb];Bc.__super__=ea;Bc.prototype=p(ea.prototype,{play:function(a){null==a&&(a=1);return new Dc(this,a,!1)},loop:function(a){null==a&&(a=1);return new Dc(this,a,!0)},get_duration:function(){return this.$_R.duration},$WM:function(){this.$_R=null},__class__:Bc});var Dc=function(a,b,c){this.$GS=!1;var d=this;this.$tN=a;this.$qR=!1;this.$CS=window.document.createElement("audio");this.$CS.loop=c;this.$CS.src=a.$_R.src;this.volume=new Y(b,
function(a,b){d.$BS()});this.$BS();this.$uN=new sa(!1);this.$AS();r.hidden.$HH&&this.set_paused(!0)};f.$CHC=Dc;Dc.__name__=["$CHC"];Dc.__interfaces__=[zc,Ub];Dc.prototype={get_paused:function(){return this.$GS},set_paused:function(a){a!=this.$GS&&((this.$GS=a)?this.$CS.pause():this.$AS());return a},get_complete:function(){return this.$uN},get_position:function(){return this.$CS.currentTime},update:function(a){this.volume.update(a);this.$uN.set__(this.$CS.ended);return this.$uN.$HH||this.$GS?(this.$qR=
!1,this.$DS.dispose(),this.$ES.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this.$uN.set__(!0)},$AS:function(){var a=this;this.$CS.play();this.$qR||($a.$FH.$iG.$CQ(this),this.$qR=!0,this.$DS=r.volume.get_changed().connect(function(b,c){a.$BS()}),this.$ES=r.hidden.get_changed().connect(function(b,c){b?(a.$FS=a.$GS,a.set_paused(!0)):a.set_paused(a.$FS)}))},$BS:function(){this.$CS.volume=r.volume.$HH*this.volume.$HH},__class__:Dc};var jg=function(){};f["kit.subsystem.StageSystem"]=jg;jg.__name__=
["kit","subsystem","StageSystem"];jg.prototype={__class__:jg};var Pb=function(a){this.$LS=1;this.orientation=new sa(null);var b=this;this.$_G=a;this.resize=new Q;this.$LS=Pb.$MS();I.$kS()||(I.$YS(this.$_G,"transform-origin","top left"),I.$YS(this.$_G,"transform","scale("+1/this.$LS+")"));window.addEventListener("resize",m(this,this.$HS),!1);this.$HS(null);this.fullscreen=new sa(!1);I.$ZS(window.document,"fullscreenchange",function(a){b.$KS()},!1);this.$KS()};f.$CIC=Pb;Pb.__name__=["$CIC"];Pb.__interfaces__=
[jg];Pb.$MS=function(){var a=window.devicePixelRatio;null==a&&(a=1);var b=window.document.createElement("canvas").getContext("2d",null),b=I.$VS("backingStorePixelRatio",b).value;null==b&&(b=1);return a/b};Pb.prototype={get_width:function(){return this.$_G.width},get_height:function(){return this.$_G.height},get_fullscreenSupported:function(){return!0==I.$WS(["fullscreenEnabled","fullScreenEnabled"],window.document).value},lockOrientation:function(a){var b=I.$VS("lockOrientation",window.screen).value;
if(null!=b){var c;switch(a[1]){case 0:c="portrait";break;case 1:c="landscape"}M.callMethod(window.screen,b,[c])||null}},requestFullscreen:function(a){null==a&&(a=!0);if(a){a=window.document.documentElement;var b=I.$WS(["requestFullscreen","requestFullScreen"],a).value;null!=b&&b.apply(a,[])}else a=I.$WS(["exitFullscreen","cancelFullscreen","cancelFullScreen"],window.document).value,null!=a&&M.callMethod(window.document,a,[])},$HS:function(a){var b=this.$_G.parentElement.getBoundingClientRect();!I.$QS||
90!=window.orientation&&-90!=window.orientation?this.$IS(b.width,b.height):(a=Math.min(window.innerWidth,b.width),b=Math.min(window.innerHeight,b.height),this.$IS(a,b)&&window.scrollTo(window.scrollX,window.scrollY));this.$JS()},$IS:function(a,b){var c=this.$LS*a,d=this.$LS*b;if(this.$_G.width==c&&this.$_G.height==d)return!1;1!=this.$LS&&I.$kS()&&(this.$_G.style.width=a+"px",this.$_G.style.height=b+"px");this.$_G.width=c|0;this.$_G.height=d|0;this.resize.emit();return!0},$JS:function(){null==window.orientation?
this.orientation.set__(null):this.orientation.set__(window.innerWidth>window.innerHeight?Oa.Landscape:Oa.Portrait)},$KS:function(){var a=I.$WS(["fullscreen","fullScreen","isFullScreen"],window.document).value;this.fullscreen.set__(!0==a)},__class__:Pb};var ed=function(a,b){this.$NS=a;this.$OS=b+":"};f.$CJC=ed;ed.__name__=["$CJC"];ed.__interfaces__=[ge];ed.prototype={set:function(a,b){var c=Jb.$XQ(b);try{this.$NS.setItem(this.$OS+a,c)}catch(d){return d instanceof v&&(d=d.val),(new Ma).failure(d.message)}return(new Ma).$JW(null)},
get:function(a,b){var c=null;try{c=this.$NS.getItem(this.$OS+a)}catch(d){d instanceof v&&(d=d.val),null}var h=b;if(null!=c)try{h=Jb.$YQ(c)}catch(e){e instanceof v&&(e=e.val),null}return(new Ma).$JW(h)},__class__:ed};var I=function(){};f.$CKC=I;I.__name__=["$CKC"];I.$US=function(a,b){null==b&&(b=0);window.setTimeout(a,b)};I.$VS=function(a,b){null==b&&(b=window);var c=M.field(b,a);if(null!=c)return{prefix:"",field:a,value:c};for(var c=a.charAt(0).toUpperCase()+F.substr(a,1,null),d=0,e=I.$PS;d<e.length;){var f=
e[d];++d;var g=f+c,k=M.field(b,g);if(null!=k)return{prefix:f,field:g,value:k}}return{prefix:null,field:null,value:null}};I.$WS=function(a,b){for(var c=0;c<a.length;){var d=a[c];++c;d=I.$VS(d,b);if(null!=d.field)return d}return{prefix:null,field:null,value:null}};I.$XS=function(a,b){null==b&&(b=window);var c=I.$VS(a,b).value;if(null==c)return!1;b[a]=c;return!0};I.$YS=function(a,b,c){a=a.style;for(var d=0,e=I.$PS;d<e.length;){var f=e[d];++d;a.setProperty("-"+f+"-"+b,c)}a.setProperty(b,c)};I.$ZS=function(a,
b,c,d){for(var e=0,f=I.$PS;e<f.length;){var g=f[e];++e;a.addEventListener(g+b,c,d)}a.addEventListener(b,c,d)};I.$dS=function(a,b){var c;c=window.document.createElement("canvas");c.width=a;c.height=b;return c};I.$eS=function(a){var b=I.$dS(a.width,a.height),c=b.getContext("2d",null);c.save();c.globalCompositeOperation="copy";c.drawImage(a,0,0);c.restore();return b};I.$gS=function(){if(0<=window.navigator.userAgent.indexOf("Linux; U; Android 4")){var a=Math.sin,b=Math.cos;Math.sin=function(b){return 0==
b?0:a(b)};Math.cos=function(a){return 0==a?1:b(a)}}};I.$hS=function(){0<=window.navigator.userAgent.indexOf("iPhone OS 7_1")&&(window.addEventListener("scroll",function(a){window.document.activeElement==window.document.body&&0<window.scrollY&&(window.document.body.scrollTop=0)},!0),window.document.body.scrollTop=0)};I.$iS=function(a,b,c){var d=a.getContext("2d",null);d.drawImage(a,b-1,0,1,c,b,0,1,c);d.drawImage(a,0,c-1,b,1,0,c,b,1)};I.$jS=function(a){for(a=(16777215&a).toString(16);6>a.length;)a=
"0"+D.string(a);return"#"+D.string(a)};I.$kS=function(){try{return window.self!=window.parent}catch(a){return a instanceof v&&(a=a.val),!0}};I.$lS=function(a){return 157286400};var Wb=function(a,b,c){this.$YM=!1;this.$dK=a;this.$oS=b;this.$pS=c};f.$CLC=Wb;Wb.__name__=["$CLC"];Wb.__interfaces__=[Bg];Wb.__super__=ea;Wb.prototype=p(ea.prototype,{$WM:function(){null!=this.$oS&&(window.document.fonts["delete"](this.$oS),this.$oS=null);null!=this.$pS&&(null!=this.$pS.parentNode&&this.$pS.parentNode.removeChild(this.$pS),
this.$pS=null)},__class__:Wb});var Cc=function(a){this.$YM=!1;this.$uS=a};f.$COC=Cc;Cc.__name__=["$COC"];Cc.__interfaces__=[vc];Cc.__super__=ea;Cc.prototype=p(ea.prototype,{play:function(a){null==a&&(a=1);return new me(this,a,!1)},get_width:function(){return this.$uS.videoWidth},get_height:function(){return this.$uS.videoHeight},$WM:function(){this.$uS=null},__class__:Cc});var me=function(a,b,c){this.$PJ=null;this.$GS=!1;var d=this;this.$vN=a;this.$CS=window.document.createElement("video");this.$CS.loop=
c;this.$CS.src=a.$uS.src;this.$CS.width=a.$uS.videoWidth;this.$CS.height=a.$uS.videoHeight;this.$CS.setAttribute("playsinline","");this.$CS.setAttribute("webkit-playsinline","");0<=window.navigator.userAgent.indexOf("2DKSim")&&(this.$CS.src+="?"+Math.random());this.volume=new Y(b,function(a,b){d.$BS()});this.$BS();this.$uN=new sa(!1);this.$wS();r.hidden.$HH&&this.set_paused(!0)};f.$CPC=me;me.__name__=["$CPC"];me.__interfaces__=[zc,wc];me.prototype={get_texture:function(){null==this.$PJ&&(this.$PJ=
r.$MH.$pG.createTextureFromImage(this.$CS,$.RGB));return this.$PJ},get_video:function(){return this.$vN},set_paused:function(a){a!=this.$GS&&((this.$GS=a)?this.$CS.pause():this.$wS());return a},update:function(a){this.volume.update(a);this.$uN.set__(this.$CS.ended);return this.$uN.$HH||this.$GS?(this.$qR=!1,this.$DS.dispose(),this.$ES.dispose(),!0):!1},dispose:function(){this.set_paused(!0);this.$uN.set__(!0)},$wS:function(){var a=this;this.$CS.play();this.$qR||($a.$FH.$iG.$CQ(this),this.$qR=!0,this.$DS=
r.volume.get_changed().connect(function(b,c){a.$BS()}),this.$ES=r.hidden.get_changed().connect(function(b,c){b?(a.$FS=a.$GS,a.set_paused(!0)):a.set_paused(a.$FS)}))},$BS:function(){this.$CS.volume=r.volume.$HH*this.volume.$HH},__class__:me};var N=function(a){this.$YM=!1;this.$$S=a};f.$CSC=N;N.__name__=["$CSC"];N.__interfaces__=[Tb];N.get_supported=function(){if(N.$GT){N.$GT=!1;var a=I.$VS("AudioContext").value;if(null!=a&&(N.$AT=new a,N.$BT=N.$CT(),N.$BT.connect(N.$AT.destination),r.volume.watch(function(a,
b){N.$BT.gain.value=a}),r.$MH.$rG.down.connect(function(a){(new N(N.$FT())).play()}).once(),r.$MH.$rG.up.connect(function(a){"suspended"==N.$AT.state&&N.$AT.resume()}),I.$QS))var b=null,b=r.$MH.$rG.up.connect(function(a){var d=(new N(N.$FT())).play();I.$US(function(){var a=d.$LT();(null==a||2<=a)&&b.dispose()})})}return null!=N.$AT};N.$CT=function(){return null!=N.$AT.createGain?N.$AT.createGain():N.$AT.createGainNode()};N.$DT=function(a,b){null!=a.start?a.start(0,b):a.noteOn(0,b)};N.$ET=function(a){null!=
a.stop?a.stop(0):a.noteOff(0)};N.$FT=function(){null==N.$HT&&(N.$HT=N.$AT.createBuffer(1,1,22050));return N.$HT};N.__super__=ea;N.prototype=p(ea.prototype,{play:function(a){null==a&&(a=1);return new Ec(this,a,!1)},loop:function(a){null==a&&(a=1);return new Ec(this,a,!0)},get_duration:function(){return this.$$S.duration},$WM:function(){this.$$S=null},__class__:N});var Ec=function(a,b,c){this.$RT=0;this.$MT=-1;var d=this;this.$tN=a;this.$oF=N.$BT;this.$uN=new sa(!1);this.$QT=c;this.$VH=a.get_duration();
this.volume=new Y(b,function(a,b){null!=d.$OT&&d.$JT(a)});this.$AS(0);r.hidden.$HH&&this.set_paused(!0)};f.$CTC=Ec;Ec.__name__=["$CTC"];Ec.__interfaces__=[zc,Ub];Ec.prototype={get_paused:function(){return 0<=this.$MT},set_paused:function(a){a!=0<=this.$MT&&(a?(this.$IT(),this.$MT=this.get_position()):(this.$uN.$HH||this.$AS(this.$MT),this.$MT=-1));return a},get_complete:function(){return this.$uN},get_position:function(){return this.$uN.$HH?this.$VH:0<=this.$MT?this.$MT:(N.$AT.currentTime-this.$NT+
this.$RT)%this.$VH},update:function(a){this.volume.update(a);null!=this.$OT&&3==this.$OT.playbackState&&this.$uN.set__(!0);return this.$uN.$HH||0<=this.$MT?(this.$qR=!1,this.$ES.dispose(),this.$IT(),!0):!1},$IT:function(){if(null!=this.$OT){N.$ET(this.$OT);this.$OT.disconnect();this.$OT.onended=null;if(I.$QS){var a=N.$FT();try{this.$OT.buffer=a}catch(b){b instanceof v&&(b=b.val)}}this.$OT=null}},dispose:function(){this.set_paused(!0);this.$uN.set__(!0)},$JT:function(a){null==this.$PT&&(this.$PT=N.$CT(),
this.$KT(this.$PT));this.$PT.gain.value=a},$KT:function(a){0<=this.$MT||(this.$OT.disconnect(),this.$OT.connect(a));a.connect(this.$oF);this.$oF=a},$AS:function(a){var b=this;this.$OT=N.$AT.createBufferSource();this.$OT.buffer=this.$tN.$$S;this.$OT.loop=this.$QT;this.$OT.onended=function(){b.$uN.set__(!0)};N.$DT(this.$OT,a);this.$OT.connect(this.$oF);this.$RT=0<=this.$MT?this.$MT:0;this.$NT=N.$AT.currentTime;1==this.volume.$HH&&null==this.$PT||this.$JT(this.volume.$HH);this.$qR||($a.$FH.$iG.$CQ(this),
this.$qR=!0,this.$ES=r.hidden.get_changed().connect(function(a,d){a?(b.$FS=0<=b.$MT,b.set_paused(!0)):b.set_paused(b.$FS)}))},$LT:function(){return null!=this.$OT?this.$OT.playbackState:3},__class__:Ec};var kg=function(a){this.$bU=new O;this.$aU=(new ee).$VN(157286400).$XN(function(a,b){return a.$xU()});this.$UU=this.$VU=this.$WU=this.$XU=this.$YU=this.$ZU=0;this.$MU=[];this.$JU=!0;this.$HU=!1;this.$FU=this.$GU=null;this.$EU=!1;this.$DU=null;this.$CU=0;this.$$T=this.$_T=this.$LK=this.$AU=this.$BU=
null;this.$zT=!1;this.$yT=null;this.$xT=new qa;this.$wT=0;this.$uT=this.$vT=null;this.$TT=[];this.$ST=null;var b=this;this.$tT=a;this.$aU.$WN(function(a,d){b.$fT(a,d)});this.$aU.$VN(I.$lS(a));r.lowMemoryWarning.connect(function(){b.$aU.dispose()});a.clearColor(0,0,0,0);a.enable(3042);a.pixelStorei(37441,1);a.pixelStorei(3317,1);this.$IU=a.createBuffer();a.bindBuffer(34962,this.$IU);this.$KU=a.createBuffer();this.$LU=a.createBuffer();this.$vT=this.$KU;this.$NU=new Xb(a,0);this.$OU=new Xb(a,1);this.$PU=
new Xb(a,2);this.$QU=new Yb(a,0);this.$RU=new Yb(a,1);this.$SU=new Yb(a,2);this.$TU=new ne(a);this.$sT(16)};f.$CUC=kg;kg.__name__=["$CUC"];kg.prototype={$UT:function(a,b){this.$tT.viewport(0,0,a,b);this.$XU=a;this.$YU=b},$VT:function(){this.$ZU=this.$ZU+1|0;this.$bT(null)},$WT:function(){this.$rT();this.$tT.flush()},$YT:function(a){a==this.$LK&&(this.$rT(),this.$LK=null);this.$hT(a);null!=a.$wU?this.$fT(a,a.$wU):this.$aU.$cN(a)},$ZT:function(a){if(a.$vU){a.$vU=!1;var b=this.$aU.$cN(a,!1);null!=b?
a.$wU=b:this.$cT(a);a.$rU=null;a.$sU=null}},$aT:function(){var a=this.$tT.createTexture();this.$dT(a);this.$tT.texParameteri(3553,10242,33071);this.$tT.texParameteri(3553,10243,33071);this.$tT.texParameteri(3553,10240,9729);this.$tT.texParameteri(3553,10241,9729);return a},$bT:function(a){this.$rT();this.$yT=null;null!=this.$$T&&(this.$$T=null,this.$tT.disable(3089));this.$gT(a);null==a&&this.$tT.colorMask(!0,!0,!0,!1);this.$tT.clear(16384);null==a&&this.$tT.colorMask(!0,!0,!0,!0)},$cT:function(a){var b;
b=a.$vU?this.$aU.$QN(a):a.$wU;if(null==b){b=this.$aT();b=new lg(b);if(a.$vU){var c=!0;if(this.$aU.$fN+a.$xU()>this.$aU.$gN){var d=this.$aU.$ZN();2>this.$ZU-d.$uU&&(c=!1)}this.$aU.$YN(a,b,c)}else a.$wU=b;switch(a.$yU[1]){case 2:case 3:c=6407;break;default:c=6408}switch(a.$yU[1]){case 3:d=33635;break;case 1:d=32819;break;default:d=5121}var e=a.$rU;if(null!=e&&null==D.instance(a.$rU,HTMLVideoElement)){if(a.$zQ!=e.width||a.$$Q!=e.height){var f=I.$dS(a.$zQ,a.$$Q);f.getContext("2d",null).drawImage(e,0,
0);I.$iS(f,e.width,e.height);e=f}this.$tT.texImage2D(3553,0,c,c,d,e)}else this.$tT.texImage2D(3553,0,c,a.$zQ,a.$$Q,0,c,d,null)}a.$uU!=this.$ZU&&(c=D.instance(a.$rU,HTMLVideoElement),null!=c&&2<=c.readyState&&(this.$dT(b.$qU),this.$tT.texImage2D(3553,0,6407,6407,5121,c)));a.$uU=this.$ZU;return b},$dT:function(a){this.$GU!=a&&(this.$GU=a,this.$tT.bindTexture(3553,a))},$eT:function(a){this.$FU!=a&&(a.$DV(this.$FU),this.$FU=a)},$fT:function(a,b){a==this.$LK&&(this.$rT(),this.$LK=null);this.$tT.deleteTexture(b.$qU);
null!=b.$sL&&this.$tT.deleteTexture(b.$sL)},$gT:function(a){if(this.$DU!=a)if(this.$DU=a,null!=a){var b=null;null==a.$tU&&(a.$tU=this.$tT.createFramebuffer(),this.$ZT(a),b=a.$wU.$qU);this.$tT.bindFramebuffer(36160,a.$tU);this.$tT.viewport(0,0,a.$zQ,a.$$Q);null!=b&&this.$tT.framebufferTexture2D(36160,36064,3553,b,0)}else this.$tT.bindFramebuffer(36160,null),this.$tT.viewport(0,0,this.$XU,this.$YU)},$hT:function(a){a==this.$yT&&(this.$rT(),this.$yT=null);null!=a.$tU&&(this.$tT.deleteFramebuffer(a.$tU),
a.$tU=null)},$iT:function(a,b,c,d,e,f){f.$FN!=this.$LK&&(this.$rT(),this.$LK=f.$FN);return this.$qT(a,b,c,d,e,this.$jT(f.$FN,e))},$jT:function(a,b){return b?this.$OU:null!=a.$sU&&a.$sU.separateAlpha?this.$PU:this.$NU},$kT:function(a,b,c,d,e,f){f.$FN!=this.$LK&&(this.$rT(),this.$LK=f.$FN);if(f.$GN!=this.$xT.x||f.$HN!=this.$xT.y||f.$NJ!=this.$xT.width||f.$OJ!=this.$xT.height)this.$rT(),this.$xT.set(f.$GN,f.$HN,f.$NJ,f.$OJ);return this.$qT(a,b,c,d,e,this.$lT(f.$FN,e))},$lT:function(a,b){return b?this.$RU:
null!=a.$sU&&a.$sU.separateAlpha?this.$SU:this.$QU},$mT:function(a,b,c,d,e){return this.$qT(a,b,c,d,e,this.$TU)},$nT:function(a,b,c,d,e,f){return this.$pT(a,b,c,d,e,this.$TU,f)},$oT:function(a,b,c,d,e,f,g){f.$FN!=this.$LK&&(this.$rT(),this.$LK=f.$FN);if(f.$GN!=this.$xT.x||f.$HN!=this.$xT.y||f.$NJ!=this.$xT.width||f.$OJ!=this.$xT.height)this.$rT(),this.$xT.set(f.$GN,f.$HN,f.$NJ,f.$OJ);return this.$pT(a,b,c,d,e,this.$lT(f.$FN,e),g)},$KK:function(a,b,c,d,e,f,g){a!=this.$yT&&(this.$rT(),this.$yT=a);b!=
this.$uT&&(this.$rT(),this.$uT=b);d!=this.$wT&&(this.$rT(),this.$wT=d);e!=this.$zT&&(this.$rT(),this.$zT=e);f!=this.$_T&&(this.$rT(),f.$KK(),this.$_T=f);g!=this.$vT&&(this.$rT(),this.$vT=g);if(null!=c||null!=this.$$T)null!=c&&null!=this.$$T&&this.$$T.equals(c)||(this.$rT(),this.$$T=null!=c?c.clone(this.$$T):null,this.$HU=!0)},$pT:function(a,b,c,d,e,f,g){this.$KK(a,b,c,d,e,f,this.$LU);a=this.$TT.length;f=a/f.$BV|0;for(b=0;b<g.length;)c=g[b],++b,this.$MU.push(c+f);return a},$qT:function(a,b,c,d,e,f){this.$KK(a,
b,c,d,e,f,this.$KU);this.$UU>=this.$VU&&this.$sT(2*this.$VU);++this.$UU;a=this.$WU;this.$WU+=4*f.$BV;return a},$EO:function(a,b,c,d){var e=b.$SK(),f=this.$bU.get(e);null==f&&(f=new oe(this.$tT,this,b.$VK,b.$UK),this.$bU.set(e,f));var e=this.$qT(a,S.Copy,null,0,!1,f),g=this.$ST;this.$LK=null;var k=c/a.$_Q,m=d/a.$AR,n=2*k-1,p=2*m-1;g[e]=-1;g[++e]=-1;g[++e]=0;g[++e]=0;g[++e]=n;g[++e]=-1;g[++e]=k;g[++e]=0;g[++e]=n;g[++e]=p;g[++e]=k;g[++e]=m;g[++e]=-1;g[++e]=p;g[++e]=0;g[++e]=m;this.$gT(a);this.$eT(f);
f.$YV(b,a,c,d);this.$rT()},$rT:function(){if(this.$vT==this.$KU){if(1>this.$UU)return}else if(1>this.$MU.length)return;this.$gT(this.$yT);if(this.$uT!=this.$AU){switch(this.$uT[1]){case 0:this.$tT.blendFunc(1,771);break;case 1:this.$tT.blendFunc(1,1);break;case 2:this.$tT.blendFunc(774,771);break;case 3:this.$tT.blendFunc(1,769);break;case 4:this.$tT.blendFunc(0,770);break;case 5:this.$tT.blendFunc(1,0)}this.$AU=this.$uT}if(this.$wT!=this.$CU){if(0<this.$wT)if(0==this.$CU&&this.$tT.enable(2960),this.$zT){var a=
1<<this.$wT-1;this.$tT.stencilMask(a);this.$CU<this.$wT&&this.$tT.clear(1024);this.$tT.stencilFunc(514,a-1,255)}else a=(1<<this.$wT)-1,this.$tT.stencilFunc(514,a,a);else this.$tT.disable(2960);this.$CU=this.$wT}this.$zT!=this.$EU&&(this.$zT?(this.$tT.stencilMask(1<<this.$wT-1),this.$tT.clear(1024),this.$tT.colorMask(!1,!1,!1,!1),this.$tT.stencilFunc(514,(1<<this.$wT-1)-1,255),this.$tT.stencilOp(7680,7680,7682)):(this.$tT.colorMask(!0,!0,!0,!0),a=(1<<this.$wT)-1,this.$tT.stencilFunc(514,a,a),this.$tT.stencilOp(7680,
7680,7680)),this.$EU=this.$zT);this.$HU&&(null!=this.$$T?(this.$tT.enable(3089),this.$tT.scissor(this.$$T.x|0,this.$$T.y|0,this.$$T.width|0,this.$$T.height|0)):this.$tT.disable(3089),this.$HU=!1);null!=this.$LK&&(a=this.$cT(this.$LK),null!=a.$sL?(this.$tT.activeTexture(33985),this.$dT(a.$qU),this.$tT.activeTexture(33984),this.$dT(a.$sL)):this.$dT(a.$qU));this.$eT(this.$_T);this.$_T!=this.$QU&&this.$_T!=this.$RU&&this.$_T!=this.$SU||this.$_T.$OV(this.$xT.x/this.$LK.$_Q,this.$xT.y/this.$LK.$AR,this.$xT.width/
this.$LK.$_Q,this.$xT.height/this.$LK.$AR);this.$vT!=this.$BU&&(this.$tT.bindBuffer(34963,this.$vT),this.$BU=this.$vT);if(this.$BU==this.$KU){if(this.$JU){this.$JU=!1;for(var a=new Uint16Array(6*this.$VU),b=0,c=this.$VU;b<c;){var d=b++,e=6*d,d=4*d;a[e]=d;a[e+1]=d+1;a[e+2]=d+2;a[e+3]=d+2;a[e+4]=d+3;a[e+5]=d}this.$tT.bufferData(34963,a,35044)}this.$tT.bufferData(34962,this.$ST.subarray(0,this.$WU),35048);this.$tT.drawElements(4,6*this.$UU,5123,0);this.$WU=this.$UU=0}else a=new Uint16Array(this.$MU),
this.$tT.bufferData(34963,a,35048),this.$MU.length=0,this.$tT.bufferData(34962,new Float32Array(this.$TT),35048),this.$TT.length=0,this.$tT.drawElements(4,a.length,5123,0)},$sT:function(a){1024<a?this.$rT():(this.$VU=a,a=new Float32Array(32*a),null!=this.$ST&&a.set(this.$ST,0),this.$ST=a,this.$JU=!0)},__class__:kg};var Wa=function(a,b){this.$gU=this.$oQ=null;null==Wa.$hU&&(Wa.$hU=new Float32Array(8));this.$fU=a;this.$IR=b};f.$CVC=Wa;Wa.__name__=["$CVC"];Wa.__interfaces__=[xc];Wa.prototype={save:function(){var a=
this.$oQ,b=this.$oQ.next;null==b&&(b=new pe,b.$sQ=a,a.next=b);a.$iU.clone(b.$iU);b.$uL=a.$uL;b.$wL=a.$wL;b.$yL=a.$yL;b.$sL=a.$sL;b.$AK=a.$AK;b.$BK=null!=a.$BK?a.$BK.clone(b.$BK):null;b.$jU=a.$jU;b.$kU=a.$kU;this.$oQ=b},translate:function(a,b){var c=this.$oQ.$iU;c.m02+=c.m00*a+c.m01*b;c.m12+=c.m10*a+c.m11*b},scale:function(a,b){var c=this.$oQ.$iU;c.m00*=a;c.m10*=a;c.m01*=b;c.m11*=b},rotate:function(a){var b=this.$oQ.$iU;a=3.141592653589793*a/180;var c=Math.sin(a);a=Math.cos(a);var d=b.m00,e=b.m10,
f=b.m01,g=b.m11;b.m00=d*a+f*c;b.m10=e*a+g*c;b.m01=f*a-d*c;b.m11=g*a-e*c},transform:function(a,b,c,d,e,f){var g=this.$oQ;Wa.$TI.set(a,b,c,d,e,f);Na.multiply(g.$iU,Wa.$TI,g.$iU)},restore:function(){this.$oQ=this.$oQ.$sQ},drawTexture:function(a,b,c){this.drawSubTexture(a,b,c,0,0,a.get_width(),a.get_height())},drawSubTexture:function(a,b,c,d,e,f,g){var k=this.$oQ,m=a.$FN;b=this.$eU(b,c,f,g);c=m.$_Q;m=m.$AR;d=(a.$GN+d)/c;e=(a.$HN+e)/m;f=d+f/c;g=e+g/m;c=k.$uL;var m=k.$wL,n=k.$yL,p=k.$sL;a=this.$fU.$iT(this.$IR,
k.$AK,k.$BK,k.$jU,k.$kU,a);k=this.$fU.$ST;k[a]=b[0];k[++a]=b[1];k[++a]=d;k[++a]=e;k[++a]=c;k[++a]=m;k[++a]=n;k[++a]=p;k[++a]=b[2];k[++a]=b[3];k[++a]=f;k[++a]=e;k[++a]=c;k[++a]=m;k[++a]=n;k[++a]=p;k[++a]=b[4];k[++a]=b[5];k[++a]=f;k[++a]=g;k[++a]=c;k[++a]=m;k[++a]=n;k[++a]=p;k[++a]=b[6];k[++a]=b[7];k[++a]=d;k[++a]=g;k[++a]=c;k[++a]=m;k[++a]=n;k[++a]=p},drawPattern:function(a,b,c,d,e){var f=this.$oQ,g=a.$FN;b=this.$eU(b,c,d,e);d/=g.$_Q;e/=g.$AR;g=f.$uL;c=f.$wL;var k=f.$yL,m=f.$sL;a=this.$fU.$kT(this.$IR,
f.$AK,f.$BK,f.$jU,f.$kU,a);f=this.$fU.$ST;f[a]=b[0];f[++a]=b[1];f[++a]=0;f[++a]=0;f[++a]=g;f[++a]=c;f[++a]=k;f[++a]=m;f[++a]=b[2];f[++a]=b[3];f[++a]=d;f[++a]=0;f[++a]=g;f[++a]=c;f[++a]=k;f[++a]=m;f[++a]=b[4];f[++a]=b[5];f[++a]=d;f[++a]=e;f[++a]=g;f[++a]=c;f[++a]=k;f[++a]=m;f[++a]=b[6];f[++a]=b[7];f[++a]=0;f[++a]=e;f[++a]=g;f[++a]=c;f[++a]=k;f[++a]=m},fillRect:function(a,b,c,d,e){var f=this.$oQ;b=this.$eU(b,c,d,e);c=f.$uL*(a&16711680)/16711680;d=f.$wL*(a&65280)/65280;a=f.$yL*(a&255)/255;e=f.$sL;var f=
this.$fU.$mT(this.$IR,f.$AK,f.$BK,f.$jU,f.$kU),g=this.$fU.$ST;g[f]=b[0];g[++f]=b[1];g[++f]=c;g[++f]=d;g[++f]=a;g[++f]=e;g[++f]=b[2];g[++f]=b[3];g[++f]=c;g[++f]=d;g[++f]=a;g[++f]=e;g[++f]=b[4];g[++f]=b[5];g[++f]=c;g[++f]=d;g[++f]=a;g[++f]=e;g[++f]=b[6];g[++f]=b[7];g[++f]=c;g[++f]=d;g[++f]=a;g[++f]=e},fillTriangles:function(a,b,c){var d=this.$oQ,e=d.$iU,f=e.m00,g=e.m01,k=e.m02,m=e.m10,n=e.m11,e=e.m12,p=d.$uL*(a&16711680)/16711680,q=d.$wL*(a&65280)/65280;a=d.$yL*(a&255)/255;var r=d.$sL;c=this.$fU.$nT(this.$IR,
d.$AK,d.$BK,d.$jU,d.$kU,c);for(var d=this.$fU.$TT,s=0,t=b.length;s<t;){var u=b[s++],v=b[s++];d[c++]=u*f+v*g+k;d[c++]=u*m+v*n+e;d[c++]=p;d[c++]=q;d[c++]=a;d[c++]=r}},drawTriangles:function(a,b,c,d){var e=this.$oQ,f=a.$FN,g=e.$iU,k=g.m00,m=g.m01,n=g.m02,p=g.m10,q=g.m11,g=g.m12,r=e.$uL,s=e.$wL,t=e.$yL,u=e.$sL;a=this.$fU.$oT(this.$IR,e.$AK,e.$BK,e.$jU,e.$kU,a,c);c=this.$fU.$TT;for(var v=e=0,w=b.length;v<w;){var x=b[v++],y=b[v++];c[a++]=x*k+y*m+n;c[a++]=x*p+y*q+g;null!=d?(c[a++]=d[e++],c[a++]=d[e++]):
(c[a++]=x/f.$_Q,c[a++]=y/f.$AR);c[a++]=r;c[a++]=s;c[a++]=t;c[a++]=u}},fillPolygon:function(a,b){var c=fa.$PQ(b);null!=c&&this.fillTriangles(a,b,c)},drawPolygon:function(a,b){var c=fa.$PQ(b);null!=c&&this.drawTriangles(a,b,c)},drawCircle:function(a,b,c,d,e){null==e&&(e=50);var f=[],g=[];fa.$KQ(f,g,b,c,d,d,e)&&this.drawTriangles(a,f,g)},fillCircle:function(a,b,c,d,e){null==e&&(e=50);var f=[],g=[];fa.$KQ(f,g,b,c,d,d,e)&&this.fillTriangles(a,f,g)},strokeCircle:function(a,b,c,d,e,f){null==f&&(f=50);var g=
[],k=[];fa.$NQ(g,k,b,c,d,d,e,f)&&this.fillTriangles(a,g,k)},drawEllipse:function(a,b,c,d,e,f){null==f&&(f=50);var g=[],k=[];fa.$KQ(g,k,b,c,d,e,f)&&this.drawTriangles(a,g,k)},fillEllipse:function(a,b,c,d,e,f){null==f&&(f=50);var g=[],k=[];fa.$KQ(g,k,b,c,d,e,f)&&this.fillTriangles(a,g,k)},strokeEllipse:function(a,b,c,d,e,f,g){null==g&&(g=50);var k=[],m=[];fa.$NQ(k,m,b,c,d,e,f,g)&&this.fillTriangles(a,k,m)},fillArc:function(a,b,c,d,e,f,g){null==g&&(g=50);var k=[],m=[];fa.$LQ(k,m,b,c,d,3.141592653589793*
e/180,3.141592653589793*f/180,g)&&this.fillTriangles(a,k,m)},strokeArc:function(a,b,c,d,e,f,g,k){null==k&&(k=50);var m=[],n=[];fa.$MQ(m,n,b,c,d,3.141592653589793*e/180,3.141592653589793*f/180,g,k)&&this.fillTriangles(a,m,n)},strokeLines:function(a,b,c){var d=[],e=[];fa.$OQ(d,e,b,c)&&this.fillTriangles(a,d,e)},drawLines:function(a,b,c){var d=[],e=[];fa.$OQ(d,e,b,c)&&this.drawTriangles(a,d,e)},multiplyAlpha:function(a){this.$oQ.$sL*=a},setAlpha:function(a){this.$oQ.$sL=a},tint:function(a,b,c){var d=
this.$oQ;d.$uL*=a;d.$wL*=b;d.$yL*=c},setBlendMode:function(a){this.$oQ.$AK=a},beginMask:function(){var a=this.$oQ;++a.$jU;a.$kU=!0},endMask:function(){this.$oQ.$kU=!1},applyScissor:function(a,b,c,d){var e=this.$oQ,f=Wa.$hU;f[0]=a;f[1]=b;f[2]=a+c;f[3]=b+d;e.$iU.transformArray(f,4,f);this.$gU.transformArray(f,4,f);a=f[0];b=f[1];c=f[2]-a;d=f[3]-b;0>c&&(a+=c,c=-c);0>d&&(b+=d,d=-d);e.$lU(a,b,c,d)},willRender:function(){this.$fU.$VT()},didRender:function(){this.$fU.$WT()},onResize:function(a,b){this.$oQ=
new pe;var c;c=null!=this.$IR?-1:1;this.$oQ.$iU.set(2/a,0,0,-2*c/b,-1,c);this.$gU=new Na;this.$gU.set(2/a,0,0,2/b,-1,-1);this.$gU.invert()},$eU:function(a,b,c,d){c=a+c;d=b+d;var e=Wa.$hU;e[0]=a;e[1]=b;e[2]=c;e[3]=b;e[4]=c;e[5]=d;e[6]=a;e[7]=d;this.$oQ.$iU.transformArray(e,8,e);return e},__class__:Wa};var pe=function(){this.$sQ=this.next=null;this.$kU=!1;this.$jU=0;this.$uL=this.$wL=this.$yL=this.$sL=1;this.$BK=null;this.$AK=S.Normal;this.$iU=new Na};f.$CWC=pe;pe.__name__=["$CWC"];pe.prototype={$lU:function(a,
b,c,d){if(null!=this.$BK){var e=aa.max(this.$BK.x,a),f=aa.max(this.$BK.y,b);c=aa.min(this.$BK.x+this.$BK.width,a+c);d=aa.min(this.$BK.y+this.$BK.height,b+d);a=e;b=f;c=aa.max(0,c-e);d=aa.max(0,d-f)}else this.$BK=new qa;this.$BK.set(Math.round(a),Math.round(b),Math.round(c),Math.round(d))},__class__:pe};var ld=function(a,b){this.$oU=!1;var c=this;this.$vQ=new sa(!0);this.$mU=b;this.$aK();if(0==b.getError()){this.$oU=!0;var d=b.canvas;d.addEventListener("webglcontextlost",function(a){a.preventDefault();
c.graphics=null;c.$vQ.set__(!1)},!1);d.addEventListener("webglcontextrestored",function(a){c.$aK();c.$vQ.set__(!0)},!1);a.resize.connect(m(this,this.$pU))}else null};f.$CXC=ld;ld.__name__=["$CXC"];ld.__interfaces__=[yc];ld.prototype={get_filterSupported:function(){return!0},createTextureFromImage:function(a,b,c){null==c&&(c=1);var d=a.width,e=a.height,f=new Zb(this,d,e,c);null!=b&&b!=$.COMPRESSED&&(f.$yU=b);f.$rU=a;if(this.$mU.isContextLost())return null;null==D.instance(a,HTMLVideoElement)&&this.$nU.$ZT(f);
return f.createTexture(d/c,e/c)},createTexture:function(a,b,c,d){null==d&&(d=1);var e=new Zb(this,a,b,d);null!=c&&c!=$.COMPRESSED&&(e.$yU=c);return e.createTexture(a/d,b/d)},getTextureAssetFormats:function(){return[]},willRender:function(){this.graphics.willRender()},didRender:function(){this.graphics.didRender()},$pU:function(){if(null!=this.graphics){var a=this.$mU.canvas,b=a.width,a=a.height;this.$nU.$UT(b,a);this.graphics.onResize(b,a)}},$aK:function(){this.$nU=new kg(this.$mU);this.graphics=
new Wa(this.$nU,null);this.$pU()},__class__:ld};var lg=function(a){this.$sL=null;this.$qU=a};f.$CYC=lg;lg.__name__=["$CYC"];lg.prototype={__class__:lg};var qe=function(a,b,c){jb.call(this,a,b,c)};f.$CZC=qe;qe.__name__=["$CZC"];qe.__super__=jb;qe.prototype=p(jb.prototype,{__class__:qe});var Zb=function(a,b,c,d){this.$HR=null;this.$yU=$.RGBA;this.$wU=null;this.$vU=!0;this.$uU=-1;this.$rU=this.$sU=this.$tU=null;this.$YM=!1;this.$pG=a;b=2>b?2:b;c=2>c?2:c;this.$zQ=b;this.$$Q=c;this.$dH=d;this.$_Q=b/d;
this.$AR=c/d};f.$CaC=Zb;Zb.__name__=["$CaC"];Zb.__interfaces__=[ie];Zb.__super__=ea;Zb.prototype=p(ea.prototype,{createTexture:function(a,b){return new qe(this,Math.ceil(a),Math.ceil(b))},getGraphics:function(){null==this.$HR&&(this.$HR=new Wa(this.$pG.$nU,this),this.$HR.onResize(this.$zQ,this.$$Q));return this.$HR},clear:function(){this.$pG.$nU.$bT(this)},renderFilter:function(a,b,c){this.$pG.$nU.$EO(this,a,b,c)},$xU:function(){var a;switch(this.$yU[1]){case 3:a=2;break;case 1:a=2;break;case 2:a=
3;break;default:a=4}return a*this.$zQ*this.$$Q},$WM:function(){this.$pG.$nU.$YT(this);this.$HR=this.$wU=this.$tU=this.$sU=this.$rU=null},__class__:Zb});var wa=function(a){this.$MV=!0;this.$LV=-1;this.$KV=[];this.$HV=this.$IV=this.$JV=null;this.$BV=0;this.$tT=a};f.$CeC=wa;wa.__name__=["$CeC"];wa.$NV=function(a,b,c){b=a.createShader(b);a.shaderSource(b,c);a.compileShader(b);return b};wa.prototype={$CV:function(){null},$KK:function(){null==this.$HV&&(this.$HV=this.$tT.createProgram(),this.$CV(),this.$MV&&
(this.$tT.detachShader(this.$HV,this.$IV),this.$tT.deleteShader(this.$IV),this.$IV=null,this.$tT.detachShader(this.$HV,this.$JV),this.$tT.deleteShader(this.$JV),this.$JV=null))},$DV:function(a){this.$tT.useProgram(this.$HV);if(0>this.$LV){for(var b=this.$LV=0,c=this.$KV;b<c.length;){var d=c[b];++b;var e=d.$fV();d.$eV=this.$LV;this.$LV+=e}this.$KV=this.$KV.filter(function(a){return 0<=a.$dV});this.$KV.sort(function(a,b){return a.$dV-b.$dV})}if(null!=a){b=a.$KV.length;for(c=this.$KV.length;b<c;)d=b++,
this.$tT.enableVertexAttribArray(d);b=this.$KV.length;for(c=a.$KV.length;b<c;)d=b++,this.$tT.disableVertexAttribArray(d)}else for(b=0,c=this.$KV.length;b<c;)d=b++,this.$tT.enableVertexAttribArray(d);b=0;for(c=this.$KV.length;b<c;){var d=b++,e=this.$KV[d],f;f=null!=a?a.$KV[d]:null;null!=f&&f.$TN==e.$TN&&f.$ZK==e.$ZK&&a.$LV==this.$LV&&f.$eV==e.$eV||this.$tT.vertexAttribPointer(d,e.$TN,e.$ZK,!1,this.$LV,e.$eV)}},$EV:function(a,b){b="precision mediump float;\n"+b;this.$IV=wa.$NV(this.$tT,35633,a);this.$JV=
wa.$NV(this.$tT,35632,b);this.$tT.attachShader(this.$HV,this.$IV);this.$tT.attachShader(this.$HV,this.$JV);this.$tT.linkProgram(this.$HV);this.$tT.useProgram(this.$HV)},$FV:function(a,b,c){a=this.$tT.getAttribLocation(this.$HV,a);this.$KV.push(new mg(a,b,c));this.$BV+=b},$GV:function(a){return this.$tT.getUniformLocation(this.$HV,a)},__class__:wa};var Yb=function(a,b){this.$PV=this.$QV=this.$RV=this.$SV=-1;wa.call(this,a);this.$WV=b};f.$CfC=Yb;Yb.__name__=["$CfC"];Yb.__super__=wa;Yb.prototype=p(wa.prototype,
{$CV:function(){var a;switch(this.$WV){case 0:case 1:a="texture2D(u_texture, pos);";break;case 2:a="vec4(texture2D(u_textureRGB, pos).rgb, texture2D(u_texture, pos).r);"}a=["varying mediump vec2 v_uv;\nvarying lowp vec4 v_color;\nuniform lowp sampler2D u_texture;\nuniform mediump vec4 u_region;",2==this.$WV?"uniform lowp sampler2D u_textureRGB;":"","void main (void) {\nmediump vec2 pos = u_region.xy + mod(v_uv, u_region.zw);","lowp vec4 color = "+a,1==this.$WV?"if (color.a == 0.0) discard;":"","gl_FragColor = color * v_color;\n}"].join("\n");
this.$EV("attribute highp vec2 a_pos;\nattribute mediump vec2 a_uv;\nattribute lowp vec4 a_color;\nvarying mediump vec2 v_uv;\nvarying lowp vec4 v_color;\nvoid main (void) {\nv_uv = a_uv;\nv_color = vec4(a_color.rgb * a_color.a, a_color.a);\ngl_Position = vec4(a_pos, 0, 1);\n}",a);this.$FV("a_pos",2,5126);this.$FV("a_uv",2,5126);this.$FV("a_color",4,5126);this.$TV=this.$GV("u_texture");this.$VV=this.$GV("u_region");this.$tT.uniform1i(this.$TV,0);2==this.$WV&&(this.$UV=this.$GV("u_textureRGB"),this.$tT.uniform1i(this.$UV,
1))},$OV:function(a,b,c,d){if(a!=this.$PV||b!=this.$QV||c!=this.$RV||d!=this.$SV)this.$PV=a,this.$QV=b,this.$RV=c,this.$SV=d,this.$tT.uniform4f(this.$VV,a,b,c,d)},__class__:Yb});var Xb=function(a,b){wa.call(this,a);this.$WV=b};f.$CgC=Xb;Xb.__name__=["$CgC"];Xb.__super__=wa;Xb.prototype=p(wa.prototype,{$CV:function(){var a;switch(this.$WV){case 0:case 1:a="texture2D(u_texture, v_uv);";break;case 2:a="vec4(texture2D(u_textureRGB, v_uv).rgb, texture2D(u_texture, v_uv).r);"}a=["varying mediump vec2 v_uv;\nvarying lowp vec4 v_color;\nuniform lowp sampler2D u_texture;",
2==this.$WV?"uniform lowp sampler2D u_textureRGB;":"","void main (void) {","lowp vec4 color = "+a,1==this.$WV?"if (color.a == 0.0) discard;":"","gl_FragColor = color * v_color;\n}"].join("\n");this.$EV("attribute highp vec2 a_pos;\nattribute mediump vec2 a_uv;\nattribute lowp vec4 a_color;\nvarying mediump vec2 v_uv;\nvarying lowp vec4 v_color;\nvoid main (void) {\nv_uv = a_uv;\nv_color = vec4(a_color.rgb * a_color.a, a_color.a);\ngl_Position = vec4(a_pos, 0, 1);\n}",a);this.$FV("a_pos",2,5126);this.$FV("a_uv",
2,5126);this.$FV("a_color",4,5126);this.$TV=this.$GV("u_texture");this.$XV(0);2==this.$WV&&(this.$UV=this.$GV("u_textureRGB"),this.$tT.uniform1i(this.$UV,1))},$XV:function(a){this.$tT.uniform1i(this.$TV,a)},__class__:Xb});var ne=function(a){wa.call(this,a)};f.$ChC=ne;ne.__name__=["$ChC"];ne.__super__=wa;ne.prototype=p(wa.prototype,{$CV:function(){this.$EV("attribute highp vec2 a_pos;\nattribute lowp vec3 a_rgb;\nattribute lowp float a_alpha;\nvarying lowp vec4 v_color;\nvoid main (void) {\nv_color = vec4(a_rgb*a_alpha, a_alpha);\ngl_Position = vec4(a_pos, 0, 1);\n}",
"varying lowp vec4 v_color;\nvoid main (void) {\ngl_FragColor = v_color;\n}");this.$FV("a_pos",2,5126);this.$FV("a_rgb",3,5126);this.$FV("a_alpha",1,5126)},__class__:ne});var oe=function(a,b,c,d){this.$bV=new O;this.$ZV=this.$aV=null;wa.call(this,a);this.$fU=b;null==c&&(c="void main () {\nvTextureCoord = aTextureCoord;\nvFilterCoord = aTextureCoord * uTextureSize/uFilterSize;\ngl_Position = vec4(aVertexPosition, 0, 1);\n}");this.$VK=c;this.$UK=d;this.$MV=!1};f.$CiC=oe;oe.__name__=["$CiC"];oe.__super__=
wa;oe.prototype=p(wa.prototype,{$CV:function(){var a=["precision mediump float;\nvarying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nuniform sampler2D uTexture;\nuniform vec2 uTextureSize;\nuniform vec2 uFilterSize;\nuniform vec2 uFilterPosition;\nattribute highp vec2 aVertexPosition;\nattribute vec2 aTextureCoord;\n#line 0",this.$VK].join("\n"),b=["varying vec2 vTextureCoord;\nvarying vec2 vFilterCoord;\nuniform sampler2D uTexture;\nuniform vec2 uTextureSize;\nuniform vec2 uFilterSize;\nuniform vec2 uFilterPosition;\n#line 0",
this.$UK].join("\n");this.$EV(a,b);this.$FV("aVertexPosition",2,5126);this.$FV("aTextureCoord",2,5126);this.$aV=this.$tT.getUniformLocation(this.$HV,"uTextureSize");this.$ZV=this.$tT.getUniformLocation(this.$HV,"uFilterSize");this.$VK=this.$UK=null},$YV:function(a,b,c,d){null!=this.$aV&&this.$tT.uniform2f(this.$aV,b.$zQ,b.$$Q);null!=this.$ZV&&this.$tT.uniform2f(this.$ZV,c,d);b=0;for(a=a.$TK.iterator();a.hasNext();)if(c=a.next(),d=this.$bV.get(c.$XK),null==d&&(d=new ng(this.$tT.getUniformLocation(this.$HV,
c.$XK)),this.$bV.set(c.$XK,d)),d=d.$cV,null!=d)switch(c.$ZK){case 0:this.$tT.uniform1f(d,c.$YK);break;case 1:this.$tT.uniform2fv(d,c.$YK);break;case 2:this.$tT.uniform3fv(d,c.$YK);break;case 3:this.$tT.uniform4fv(d,c.$YK);break;case 4:this.$tT.uniform1i(d,c.$YK);break;case 5:this.$tT.uniform2iv(d,c.$YK);break;case 6:this.$tT.uniform3iv(d,c.$YK);break;case 7:this.$tT.uniform4iv(d,c.$YK);break;case 8:this.$tT.uniformMatrix2fv(d,!1,c.$YK);break;case 9:this.$tT.uniformMatrix3fv(d,!1,c.$YK);break;case 10:this.$tT.uniformMatrix4fv(d,
!1,c.$YK);break;case 11:this.$tT.uniform1i(d,b),0!=b&&this.$tT.activeTexture(33984+b),b++,c=this.$fU.$cT(c.$YK.$FN),this.$fU.$dT(c.$qU)}1<b&&this.$tT.activeTexture(33984)},__class__:oe});var ng=function(a){this.$cV=a};f.$CjC=ng;ng.__name__=["$CjC"];ng.prototype={__class__:ng};var mg=function(a,b,c){this.$eV=0;this.$dV=a;this.$TN=b;this.$ZK=c};f.$CkC=mg;mg.__name__=["$CkC"];mg.prototype={$fV:function(){var a;switch(this.$ZK){case 5126:a=4;break;default:a=1}return this.$TN*a},__class__:mg};var Tc=function(){this.$mV=
null;y.call(this);this.scenes=[];this.occludedScenes=[];this.$wF=new q};f["kit.scene.Director"]=Tc;Tc.__name__=["kit","scene","Director"];Tc.__super__=y;Tc.prototype=p(y.prototype,{get_entitySlot:function(){return 7},$gV:function(a,b){var c=this;this.$kV();var d=this.get_topScene();null!=d?this.$lV(d,a,b,function(){c.$VQ(d)}):(this.$xI(a),this.$jV())},unwindToScene:function(a,b){var c;c=null!=a.owner?a.owner:(new q).add(a);this.$hV(c,b)},$hV:function(a,b){var c=this;this.$kV();var d=this.get_topScene();
if(null!=d){if(d!=a){for(this.scenes.pop();0<this.scenes.length&&this.scenes[this.scenes.length-1]!=a;)this.scenes.pop().dispose();this.$lV(d,a,b,function(){c.$iV(d)})}}else this.$gV(a,b)},onAdded:function(){this.owner.addChild(this.$wF)},onRemoved:function(){this.$kV();for(var a=0,b=this.scenes;a<b.length;){var c=b[a];++a;c.dispose()}this.scenes=[];this.occludedScenes=[];this.$wF.dispose()},onUpdate:function(a){null!=this.$mV&&this.$mV.$jG(a)&&this.$kV()},get_topScene:function(){var a=this.scenes.length;
return 0<a?this.scenes[a-1]:null},$xI:function(a){var b=this.get_topScene();null!=b&&this.$wF.removeChild(b);F.remove(this.scenes,a);this.scenes.push(a);this.$wF.addChild(a)},$VQ:function(a){a=a.$fG[8];null!=a&&a.hidden.emit()},$iV:function(a){this.$VQ(a);a.dispose()},$UQ:function(a){a=a.$fG[8];null!=a&&a.shown.emit()},$jV:function(){for(var a=this.scenes.length;0<a;){var b=this.scenes[--a].$fG[8];if(null==b||b.opaque)break}this.occludedScenes=0<this.scenes.length?this.scenes.slice(a,this.scenes.length-
1):[];a=this.get_topScene();null!=a&&this.$UQ(a)},$kV:function(){null!=this.$mV&&(this.$mV.$nV(),this.$mV=null,this.$jV())},$lV:function(a,b,c,d){this.$kV();this.$xI(b);null!=c?(this.occludedScenes.push(a),this.$mV=new og(a,b,c,d),this.$mV.$aK(this)):(d(),this.$jV())},__class__:Tc});var og=function(a,b,c,d){this.$TH=a;this.$UH=b;this.$oV=c;this.$pV=d};f.$ClC=og;og.__name__=["$ClC"];og.prototype={$aK:function(a){this.$oV.init(a,this.$TH,this.$UH)},$jG:function(a){return this.$oV.update(a)},$nV:function(){this.$oV.complete();
this.$pV()},__class__:og};var Eg=function(){};f["kit.scene.Transition"]=Eg;Eg.__name__=["kit","scene","Transition"];Eg.prototype={init:function(a,b,c){this.$qV=a;this.$TH=b;this.$UH=c},update:function(a){return!0},complete:function(){},__class__:Eg};var Uc=function(){};f["kit.util.Assert"]=Uc;Uc.__name__=["kit","util","Assert"];Uc.that=function(a,b,c){};var nc=function(){};f["kit.util.BitSets"]=nc;nc.__name__=["kit","util","BitSets"];nc.set=function(a,b,c){return c?a|b:a&~b};var Ma=function(){this.$OW=
this.$PW=null;this.$NW=0;this.$MW=null};f["kit.util.Promise"]=Ma;Ma.__name__=["kit","util","Promise"];Ma.prototype={then:function(a){var b=this;if(2==this.$NW)return this;var c=new Ma;this.$iF(c,function(){1==b.$NW?c.$KW(a(b.$MW)):c.failure(b.$MW)});return c},catchError:function(a){var b=this;if(1==this.$NW)return this;var c=new Ma;this.$iF(c,function(){2==b.$NW?c.$KW(a(b.$MW)):c.$JW(b.$MW)});return c},failure:function(a){return this.$LW(2,a)},success:function(a){return this.$LW(1,a)},$JW:function(a){return this.success(a)},
progress:function(a){0==this.$NW&&(null==this.$PW&&(this.$PW=new L),this.$PW.connect(a));return this},emitProgress:function(a){0==this.$NW&&null!=this.$PW&&this.$PW.emit(a)},$iF:function(a,b){0==this.$NW?null==this.$OW?this.$OW=[b]:this.$OW.push(b):r.$MH.$iG.$EQ(b);this.progress(function(b){a.emitProgress(b)})},$KW:function(a){var b=this;T.__instanceof(a,Ma)?a.then(function(a){b.success(a)}).catchError(function(a){b.failure(a)}):this.$JW(a)},$LW:function(a,b){if(0==this.$NW&&(this.$MW=b,this.$NW=
a,null!=this.$OW)){for(var c=0,d=this.$OW;c<d.length;){var e=d[c];++c;e()}this.$OW=null}return this},__class__:Ma};var hg=function(a){this.$NW=null!=a?a:Math.floor(2147483647*Math.random())};f["kit.util.Random"]=hg;hg.__name__=["kit","util","Random"];hg.prototype={nextInt:function(){return this.$NW=(1103515245*this.$NW+12345)%2147483647},__class__:hg};var rf=function(a){this.next=null;this.$TW=a};f.$CpC=rf;rf.__name__=["$CpC"];rf.prototype={__class__:rf};var Fa=function(){};f["kit.util.Strings"]=
Fa;Fa.__name__=["kit","util","Strings"];Fa.getFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?F.substr(a,b+1,null):null};Fa.removeFileExtension=function(a){var b=a.lastIndexOf(".");return 0<b?F.substr(a,0,b):a};Fa.getUrlExtension=function(a){var b=a.lastIndexOf("?");0<=b&&(a=F.substr(a,0,b));b=a.lastIndexOf("/");0<=b&&(a=F.substr(a,b+1,null));return Fa.getFileExtension(a)};Fa.joinPath=function(a,b){0<a.length&&47!=a.charCodeAt(a.length-1)&&(a+="/");return a+b};Fa.withFields=function(a,
b){var c=b.length;if(0<c){a=0<a.length?a+" [":a+"[";for(var d=0;d<c;){0<d&&(a+=", ");var e=b[d],f=b[d+1];if(D.is(f,Error)){var g=f.stack;null!=g&&(f=g)}a+=e+"="+D.string(f);d+=2}a+="]"}return a};var pg=function(){};f.$CqC=pg;pg.__name__=["$CqC"];pg.prototype={__class__:pg};var gg=function(){};f["kit.util.Triangulator"]=gg;gg.__name__=["kit","util","Triangulator"];gg.prototype={triangulate:function(a){var b=a.length;if(6>b)return[];for(var c=this.$nW(-1,0,0,null),d=c,e=0,f=0,g=b-2;f<b;)e+=(a[g]-a[f])*
(a[f+1]+a[g+1]),g=f,f+=2;if(0<e)for(e=f=0;f<b;)var g=a[f],k=a[f+1],c=this.$nW(e++,g,k,c),f=f+2;else for(f=b-2,e=f/2|0;0<=f;)g=a[f],k=a[f+1],c=this.$nW(e--,g,k,c),f-=2;c.next=d.next;c.next.$sQ=c;return this.$gW(c,160<b)},$gW:function(a,b){this.$aW=[];a=this.$lW(a);if(b&&null!=a){var c,d;this.$dW=c=a.$eL;this.$eW=d=a.$gL;for(var e=a.next;e!=a;){var f=e.$eL,g=e.$gL;f<this.$dW&&(this.$dW=f);g<this.$eW&&(this.$eW=g);f>c&&(c=f);g>d&&(d=g);e=e.next}this.$TN=Math.max(c-this.$dW,d-this.$eW);this.$fW=!0}else this.$fW=
!1;this.$oW(a);c=this.$aW;this.$aW=null;d=this.$cW;if(null!=this.$bW){for(;d!=this.$bW;)d=d.$WW;d=d.$WW}for(;null!=d;)d.next=this.$bW,this.$bW=d,d=d.$WW;return c},$hW:function(a,b){return a.$eL==b.$eL&&a.$gL==b.$gL},$iW:function(a,b,c){return(b.$gL-a.$gL)*(c.$eL-b.$eL)-(b.$eL-a.$eL)*(c.$gL-b.$gL)},$jW:function(a,b,c,d){return 0<(b.$gL-a.$gL)*(c.$eL-b.$eL)-(b.$eL-a.$eL)*(c.$gL-b.$gL)!=0<(b.$gL-a.$gL)*(d.$eL-b.$eL)-(b.$eL-a.$eL)*(d.$gL-b.$gL)&&0<(d.$gL-c.$gL)*(a.$eL-d.$eL)-(d.$eL-c.$eL)*(a.$gL-d.$gL)!=
0<(d.$gL-c.$gL)*(b.$eL-d.$eL)-(d.$eL-c.$eL)*(b.$gL-d.$gL)},$lW:function(a,b){if(null==a)return a;null==b&&(b=a);var c=a,d;do if(d=!1,c.$ZW||!this.$hW(c,c.next)&&0!=this.$iW(c.$sQ,c,c.next))c=c.next;else{c.next.$sQ=c.$sQ;c.$sQ.next=c.next;null!=c.$VW&&(c.$VW.$UW=c.$UW);null!=c.$UW&&(c.$UW.$VW=c.$VW);c=b=c.$sQ;if(c==c.next)return null;d=!0}while(d||c!=b);return b},$mW:function(a){a.next.$sQ=a.$sQ;a.$sQ.next=a.next;null!=a.$VW&&(a.$VW.$UW=a.$UW);null!=a.$UW&&(a.$UW.$VW=a.$VW)},$nW:function(a,b,c,d){var e=
this.$bW;null==e?(e=new pg,e.$WW=this.$cW,this.$cW=e):this.$bW=e.next;e.$XW=a;e.$YW=-1;e.$eL=b;e.$gL=c;e.next=null;e.$sQ=d;e.$ZW=!1;e.$VW=null;e.$UW=null;null!=d&&(d.next=e);return e},$oW:function(a,b){null==b&&(b=0);if(null!=a){0==b&&this.$fW&&this.$zW(a);for(var c=a,d,e;a.$sQ!=a.next;)if(d=a.$sQ,e=a.next,this.$fW?this.$qW(a):this.$pW(a))this.$aW.push(d.$XW),this.$aW.push(a.$XW),this.$aW.push(e.$XW),a.next.$sQ=a.$sQ,a.$sQ.next=a.next,null!=a.$VW&&(a.$VW.$UW=a.$UW),null!=a.$UW&&(a.$UW.$VW=a.$VW),
c=a=e.next;else if(a=e,a==c){switch(b){case 0:this.$oW(this.$lW(a),1);break;case 1:a=this.$rW(a);this.$oW(a,2);break;case 2:this.$sW(a)}break}}},$pW:function(a){var b=a.$sQ,c=a.next;if(0<=(a.$gL-b.$gL)*(c.$eL-a.$eL)-(a.$eL-b.$eL)*(c.$gL-a.$gL))return!1;for(var d=a.next.next;d!=a.$sQ;){if(this.$uW(b.$eL,b.$gL,a.$eL,a.$gL,c.$eL,c.$gL,d.$eL,d.$gL)&&0<=this.$iW(d.$sQ,d,d.next))return!1;d=d.next}return!0},$qW:function(a){var b=a.$sQ,c=a.next;if(0<=(a.$gL-b.$gL)*(c.$eL-a.$eL)-(a.$eL-b.$eL)*(c.$gL-a.$gL))return!1;
var d;d=b.$eL<a.$eL?b.$eL<c.$eL?b.$eL:c.$eL:a.$eL<c.$eL?a.$eL:c.$eL;var e;e=b.$gL<a.$gL?b.$gL<c.$gL?b.$gL:c.$gL:a.$gL<c.$gL?a.$gL:c.$gL;var f;f=b.$eL>a.$eL?b.$eL>c.$eL?b.$eL:c.$eL:a.$eL>c.$eL?a.$eL:c.$eL;var g;g=b.$gL>a.$gL?b.$gL>c.$gL?b.$gL:c.$gL:a.$gL>c.$gL?a.$gL:c.$gL;d=this.$yW(d,e);f=this.$yW(f,g);for(g=a.$UW;null!=g&&g.$YW<=f;){if(g!=a.$sQ&&g!=a.next&&this.$uW(b.$eL,b.$gL,a.$eL,a.$gL,c.$eL,c.$gL,g.$eL,g.$gL)&&0<=this.$iW(g.$sQ,g,g.next))return!1;g=g.$UW}for(g=a.$VW;null!=g&&g.$YW>=d;){if(g!=
a.$sQ&&g!=a.next&&this.$uW(b.$eL,b.$gL,a.$eL,a.$gL,c.$eL,c.$gL,g.$eL,g.$gL)&&0<=this.$iW(g.$sQ,g,g.next))return!1;g=g.$VW}return!0},$rW:function(a){var b=a;do{var c=b.$sQ,d=b.next.next;this.$jW(c,b,b.next,d)&&(0>this.$iW(c.$sQ,c,c.next)?0<=this.$iW(c,d,c.next)&&0<=this.$iW(c,c.$sQ,d):0>this.$iW(c,d,c.$sQ)||0>this.$iW(c,c.next,d))&&(0>this.$iW(d.$sQ,d,d.next)?0<=this.$iW(d,c,d.next)&&0<=this.$iW(d,d.$sQ,c):0>this.$iW(d,c,d.$sQ)||0>this.$iW(d,d.next,c))&&(this.$aW.push(c.$XW),this.$aW.push(b.$XW),this.$aW.push(d.$XW),
b.next.$sQ=b.$sQ,b.$sQ.next=b.next,null!=b.$VW&&(b.$VW.$UW=b.$UW),null!=b.$UW&&(b.$UW.$VW=b.$VW),this.$mW(b.next),b=a=d);b=b.next}while(b!=a);return b},$sW:function(a){var b=a;do{for(var c=b.next.next;c!=b.$sQ;){if(b.$XW!=c.$XW&&this.$vW(b,c)){a=this.$tW(b,c);b=this.$lW(b,b.next);a=this.$lW(a,a.next);this.$oW(b);this.$oW(a);return}c=c.next}b=b.next}while(b!=a)},$tW:function(a,b){var c=this.$nW(a.$XW,a.$eL,a.$gL,null),d=this.$nW(b.$XW,b.$eL,b.$gL,null),e=a.next,f=b.$sQ;a.next=b;b.$sQ=a;c.next=e;e.$sQ=
c;d.next=c;c.$sQ=d;f.next=d;d.$sQ=f;return d},$uW:function(a,b,c,d,e,f,g,k){return 0<=(e-g)*(b-k)-(a-g)*(f-k)&&0<=(a-g)*(d-k)-(c-g)*(b-k)&&0<=(c-g)*(f-k)-(e-g)*(d-k)},$vW:function(a,b){return a.$eL==b.$eL&&a.$gL==b.$gL||a.next.$XW!=b.$XW&&a.$sQ.$XW!=b.$XW&&!this.$xW(a,b)&&(0>this.$iW(a.$sQ,a,a.next)?0<=this.$iW(a,b,a.next)&&0<=this.$iW(a,a.$sQ,b):0>this.$iW(a,b,a.$sQ)||0>this.$iW(a,a.next,b))&&(0>this.$iW(b.$sQ,b,b.next)?0<=this.$iW(b,a,b.next)&&0<=this.$iW(b,b.$sQ,a):0>this.$iW(b,a,b.$sQ)||0>this.$iW(b,
b.next,a))&&this.$wW(a,b)},$wW:function(a,b){var c=a,d=!1,e=(a.$eL+b.$eL)/2,f=(a.$gL+b.$gL)/2;do c.$gL>f!=c.next.$gL>f&&e<(c.next.$eL-c.$eL)*(f-c.$gL)/(c.next.$gL-c.$gL)+c.$eL&&(d=!d),c=c.next;while(c!=a);return d},$xW:function(a,b){var c=a;do{if(c.$XW!=a.$XW&&c.next.$XW!=a.$XW&&c.$XW!=b.$XW&&c.next.$XW!=b.$XW&&this.$jW(c,c.next,a,b))return!0;c=c.next}while(c!=a);return!1},$yW:function(a,b){var c=32767*(a-this.$dW)/this.$TN|0,d=32767*(b-this.$eW)/this.$TN|0,c=(c|c<<8)&16711935,c=(c|c<<4)&252645135,
c=(c|c<<2)&858993459,d=(d|d<<8)&16711935,d=(d|d<<4)&252645135,d=(d|d<<2)&858993459;return(c|c<<1)&1431655765|((d|d<<1)&1431655765)<<1},$zW:function(a){var b=a;do 0>b.$YW&&(b.$YW=this.$yW(b.$eL,b.$gL)),b.$VW=b.$sQ,b=b.$UW=b.next;while(b!=a);b.$VW.$UW=null;b.$VW=null;this.$$W(b)},$$W:function(a){var b,c,d,e,f,g,k,m=1;do{b=a;e=a=null;for(f=0;null!=b;){f++;c=b;for(d=g=0;d<m&&(d++,g++,c=c.$UW,null!=c););for(k=m;0<g||0<k&&null!=c;)0==g?(d=c,c=c.$UW,k--):0==k||null==c?(d=b,b=b.$UW,g--):b.$YW<=c.$YW?(d=b,
b=b.$UW,g--):(d=c,c=c.$UW,k--),null!=e?e.$UW=d:a=d,d.$VW=e,e=d;b=c}e.$UW=null;m*=2}while(1<f);return a},__class__:gg};var Sb=function(){};f["nazboo.Main"]=Sb;Sb.__name__=["nazboo","Main"];Sb.main=function(){xa.setupBaseURL();g.get_assets().set_getManifestFuncPtr(function(a){return xa.setupManifest(Ra.fromAssets(a))});r.root.add(new Lc);g.get_assets().loadMappedAsset("main","config.json").then(function(a){Yc.embedScripts(Ba.get_base(),["ua-parser","uap-wrapper"],["js/ua-parser.min.js","js/uap-wrapper.js"],
function(){(null==Ha.instance?Ha.instance=new Ha:Ha.instance).parseXML(a,"strings.xml");g.get_instance().init(JSON.parse(a.getFile("config.json").toString()),Za.WIDTH);var b;b=k.getElse([g.get_config().userData.get("useDebugAPI")],!0)?Sb.DEBUG_API_KEY:Sb.LIVE_API_KEY;B.get_instance().init("https://collect12774shmmr.deltadna.net/collect/api/"+b);r.root.addChild(g.get_root())})})};var s=function(){};f["nazboo.constants.GameStrings"]=s;s.__name__=["nazboo","constants","GameStrings"];var re=function(){this.h=
{};this.clear()};f["nazboo.models.MissionDataModel"]=re;re.__name__=["nazboo","models","MissionDataModel"];re.__super__=O;re.prototype=p(O.prototype,{clear:function(){this.set(s.OBSTACLES_HIT,0);this.set(s.JUMPS_TAKEN,0);this.set(s.RAISIN_COUNT,0);this.set(s.MALLOW_COUNT,0);this.set(s.STAR_COUNT,0);this.set(s.RAINBOW_COUNT,0);this.set(s.BERRY_COUNT,0);this.set(s.GUMDROP_COUNT,0)},increment:function(a){if(null!=ja[a]?this.existsReserved(a):this.h.hasOwnProperty(a)){var b;b=null!=ja[a]?this.getReserved(a):
this.h[a];this.set(a,++b)}},__class__:re});var J=function(){this.id=null;this.tutorialProgress=function(a){a=new O;a.set(s.SNAKE,!1);a.set(s.PLATFORMER,!1);a.set(s.MIXING_COMBINING,!1);a.set(s.MIXING_MIXING,!1);a.set(s.DECORATING,!1);return a}(this);this.cutsceneProgress=function(a){a=new O;a.set(s.INTRO,!1);a.set(s.CUTSCENE2,!1);a.set(s.CUTSCENE3,!1);a.set(s.CUTSCENE4,!1);a.set(s.CUTSCENE5,!1);a.set(s.OUTRO,!1);return a}(this);this.missionData=new re};f["nazboo.models.PlayerStorageModel"]=J;J.__name__=
["nazboo","models","PlayerStorageModel"];J.get_instance=function(){null==J.instance&&(J.instance=new J);return J.instance};J.prototype={load:function(){var a=g.get_storage().getData();this.tutorialProgress=k.getElse([a,"tutorialProgress"],this.tutorialProgress);this.cutsceneProgress=k.getElse([a,"cutsceneProgress"],this.cutsceneProgress);this.id=k.get([a,"id"]);return null==this.id?(this.id=B.get_instance().generateUUID(),this.save(),!0):!1},save:function(){g.get_storage().save({id:this.id,tutorialProgress:this.tutorialProgress,
cutsceneProgress:this.cutsceneProgress})},setTutorial:function(a,b){this.tutorialProgress.set(a,b);this.save()},getTutorial:function(a){return this.tutorialProgress.exists(a)?this.tutorialProgress.get(a):!1},setCutscene:function(a,b){this.cutsceneProgress.set(a,b);this.save()},getCutscene:function(a){return this.cutsceneProgress.exists(a)?this.cutsceneProgress.get(a):!1},__class__:J};var ba=function(a){db.call(this);g.get_assets().setCurrentAssetPackVO(a)};f["nazboo.scenes.GameScene"]=ba;ba.__name__=
["nazboo","scenes","GameScene"];ba.__super__=ob;ba.prototype=p(ob.prototype,{onAdded:function(){ob.prototype.onAdded.call(this);this.LoadConfigValues(g.get_assets().currentAssetPackName);g.get_sounds().createAll(this.configSounds);g.get_sounds().createAll(g.get_config().mainConfigSounds);G.playSoundWithFolder(k.get([this.configAssets,"sounds","music"]));this.enterScene()},playEndStinger:function(){g.get_sounds().stopAllChannelSounds("music");g.get_sounds().stopAllChannelSounds("mainVO");g.get_sounds().stopAllChannelSounds("mainSFX");
g.get_sounds().stopAllChannelSounds("VO");g.get_sounds().stopAllChannelSounds("SFX");G.playSoundWithFolder(k.get([g.get_config().userData.get("endStinger")]))},enterScene:function(){this.playIntroTransition()},startScene:function(){null},stopScene:function(){this.playEndStinger();this.playOutroTransition()},exitScene:function(){g.get_scenes().changeScene(this.getNextScene())},playIntroTransition:function(){g.get_signals().addConnection(g.get_screenTransition().complete,m(this,this.introTranstionComplete),
!0);g.get_screenTransition().playIntro()},playOutroTransition:function(){g.get_signals().addConnection(g.get_screenTransition().complete,m(this,this.outroTransitionComplete),!0);g.get_screenTransition().playOutro()},introTranstionComplete:function(){this.startScene()},outroTransitionComplete:function(){this.exitScene()},getNextScene:function(){var a=g.get_config().userData.get("sceneFlow"),b=k.get([a,g.get_assets().currentAssetPackName]);null==b&&null;var c=b,d;do b=k.getElse([c,"next"],s.TITLE),
c=k.get([a,b]),d=k.getElse([c,"isCutscene"],!1);while(d&&g.get_config().disableCutscenes);return b},__class__:ba});var sb=function(a,b){zb.call(this,a,b)};f["nazboo.scenes.LoadingScene"]=sb;sb.__name__=["nazboo","scenes","LoadingScene"];sb.__super__=zb;sb.prototype=p(zb.prototype,{onAdded:function(){zb.prototype.onAdded.call(this);g.get_sounds().createAll(g.get_config().mainConfigSounds)},onStart:function(){zb.prototype.onStart.call(this);this.setupComponents();if(sb.firstLoad){var a=[],b=J.get_instance().load();
a.push(B.formatGameStartedEventData(J.get_instance().id));a.push(B.formatClientDeviceEventData(J.get_instance().id));b&&a.push(B.formatNewPlayerEventData(J.get_instance().id));B.get_instance().makeBulkRequest("POST",{eventList:a});Db.sendGameEvent("onLoadingStart");this.onTransitionComplete()}else g.get_signals().addConnection(g.get_screenTransition().complete,m(this,this.onTransitionComplete),!0),g.get_screenTransition().playIntro()},StartLoading:function(){for(var a=this,b=0,c=this.loader.length;b<
c;){var d=b++;this.loader[d].progress(function(b){a.progressBar.AddProgress(100*b);sb.firstLoad&&Db.sendGameEvent("getLoadingProgress",a.currentProgress)});this.loader[d].then(m(this,this.OnPackLoaded))}},onLoadComplete:function(){var a=this;sb.firstLoad&&(Db.sendGameEvent("onLoadingEnd"),sb.firstLoad=!1);g.get_signals().addConnection(g.get_screenTransition().complete,function(){g.get_sounds().destroySoundChannels();a.onComplete.emit()},!0);g.get_screenTransition().playOutro()},onStartLoadingAssets:function(a){this.loader=
a;this.StartLoading()},onTransitionComplete:function(){g.get_signals().addConnection(Nb.startLoadingAssets,m(this,this.onStartLoadingAssets),!0);Nb.beginLoaderSetup.emit()},setupComponents:function(){var a=g.get_assets().assetPacks.get("main"),b=k.get([g.get_config().mainConfigAssets,"loadingScreen"]);if(null!=b){var c=k.getAssert([b,"display","background"],"[LoadingScene] Cannot find background display key");this.owner.addChild((new q).add(new da(Ga.getTexture("main",c))));c=k.getAssert([this.configAssets,
"loadingScreen","display","fill"],"[LoadingScene] Cannot find fill display key.");a=a.library.$hK.get(c);this.progressBar=new gc(new w,new da(a.texture));this.owner.addChild((new q).add(this.progressBar));a=k.getElse([this.configAssets,"loadingScreen","transform","olPosition"],{x:0,y:0});this.progressBar.position.setXY(a.x,a.y);a=g.get_factory().makeMoviePlayer("main",b.display.dragons,!0,!0);a.sprite.setXY(b.transform.dragonPosition.x,b.transform.dragonPosition.y);this.owner.addChild(a.entity)}},
__class__:sb});var se=function(a){ba.call(this,a)};f["nazboo.scenes.TitleScene"]=se;se.__name__=["nazboo","scenes","TitleScene"];se.__super__=ba;se.prototype=p(ba.prototype,{enterScene:function(){ba.prototype.enterScene.call(this);var a=k.getAssert([this.configAssets,"background","display","primary"],"[TitleScene] Cannot find primary background display key.");this.owner.addChild((new q).add(new da(Ga.getTexture(g.get_assets().currentAssetPackName,a))));this._btnPlay=g.get_factory().makeLocalizedButton("playButton",
"BTN_PLAY");this.owner.addChild((new q).add(this._btnPlay));g.get_signals().addConnection(this._btnPlay.up,m(this,this.onBtnPlayUp),!0)},startScene:function(){ba.prototype.startScene.call(this);Db.sendGameEvent("onTitleScreenStart");if(!G.playSoundWithFolder(k.get([this.configAssets,"sounds","intro"]),m(this,this.onIntroVOComplete)))this.onIntroVOComplete()},stopScene:function(){ba.prototype.stopScene.call(this);null!=this._timeout&&this._timeout.dispose()},exitScene:function(){Db.sendGameEvent("onTitleScreenEnd");
ba.prototype.exitScene.call(this)},onIntroVOComplete:function(a){this.timeout()},onBtnPlayUp:function(a){ia.isMobile()&&g.get_sounds().stopAllChannelSounds("VO");B.get_instance().makeRequest("POST",B.formatUIInteractionEventData(J.get_instance().id,s.UI_BTN_PLAY,s.TITLE_SCREEN_NAME));this.stopScene()},timeout:function(){G.playSoundWithFolder(k.get([this.configAssets,"sounds","timeout"]));this._btnPlay.Highlight();this._timeout=oa.delay(10,m(this,this.timeout));this.owner.addChild(this._timeout)},
__class__:se});var tb=function(a){ba.call(this,a);this._seenCutscene=J.get_instance().getCutscene(a)};f["nazboo.scenes.cutscenes.GeneralCutscene"]=tb;tb.__name__=["nazboo","scenes","cutscenes","GeneralCutscene"];tb.__super__=ba;tb.prototype=p(ba.prototype,{enterScene:function(){ba.prototype.enterScene.call(this);var a=k.getAssert([this.configAssets,"cutscene"],"[GeneralCutscene] Cannot find cutscene config.");this._cutscene=new ic(a);this.maingroundEntity.addChild((new q).add(this._cutscene));this._seenCutscene&&
(this._btnSkip=g.get_factory().makeLocalizedButton("skipButton","BTN_SKIP"),this.owner.addChild((new q).add(this._btnSkip)),g.get_signals().addConnection(this._btnSkip.up,m(this,this.onBtnSkipUp),!0))},onAdded:function(){ba.prototype.onAdded.call(this)},startScene:function(){ba.prototype.startScene.call(this);g.get_signals().addConnection(this._cutscene.complete,m(this,this.cutsceneComplete),!0);this._cutscene.play()},stopScene:function(){this._seenCutscene||J.get_instance().setCutscene(g.get_assets().currentAssetPackName,
!0);ba.prototype.stopScene.call(this)},cutsceneComplete:function(){this.stopScene()},onBtnSkipUp:function(a){a=k.get([this.configVariables,"name"]);null!=a?B.get_instance().makeRequest("POST",B.formatUIInteractionEventData(J.get_instance().id,s.UI_BTN_SKIP,a)):null;this._cutscene.skip()},__class__:tb});var te=function(a){tb.call(this,a)};f["nazboo.scenes.cutscenes.OutroScene"]=te;te.__name__=["nazboo","scenes","cutscenes","OutroScene"];te.__super__=tb;te.prototype=p(tb.prototype,{enterScene:function(){tb.prototype.enterScene.call(this);
this._playAgainButton=g.get_factory().makeLocalizedButton(s.PLAY_AGAIN_KEY,s.PLAY_AGAIN_LOCALE);this.uiEntity.addChild((new q).add(this._playAgainButton));this._playAgainButton.get_view().sprite.set_visible(!1);this._idleKey=k.getAssert([this.configAssets,"display","idle"],"[Outro] missing display.idle");this._backgroundKey=k.getAssert([this.configAssets,"display","background"],"[Outro] missing display.background");g.get_signals().addConnection(this._playAgainButton.up,m(this,this.onPlayAgain),!0)},
cutsceneComplete:function(){null!=this._btnSkip&&this._btnSkip.get_view().sprite.set_visible(!1);this.showIdle();this.showPlayAgain()},startScene:function(){g.get_config().disableCutscenes?(this.showIdle(),this.showPlayAgain()):tb.prototype.startScene.call(this)},onPlayAgain:function(a){B.get_instance().makeRequest("POST",B.formatUIInteractionEventData(J.get_instance().id,s.UI_BTN_PLAY_AGAIN,s.CUTSCENE_SIX_NAME));this.stopScene()},showPlayAgain:function(){this._playAgainButton.get_view().sprite.set_visible(!0);
this.timeout()},showIdle:function(){var a=g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,this._idleKey);a.sprite.setXY(480,280);this.backgroundEntity.addChild((new q).add(new da(Ga.getTexture(g.get_assets().currentAssetPackName,this._backgroundKey))));this.foregroundEntity.addChild(a.entity);this._cutscene.owner.dispose()},timeout:function(){G.playSoundWithFolder(this.configAssets.sounds.timeout);this._playAgainButton.Highlight();this._timeout=oa.delay(this.configVariables.timeoutDuration,
m(this,this.timeout));this.uiEntity.addChild(this._timeout)},__class__:te});var Z=function(a){ba.call(this,a)};f["nazboo.scenes.minigames.MinigameScene"]=Z;Z.__name__=["nazboo","scenes","minigames","MinigameScene"];Z.__super__=ba;Z.prototype=p(ba.prototype,{enterScene:function(){ba.prototype.enterScene.call(this);var a=g.get_assets().currentAssetPackName;switch(a){case "snake":a=s.GEM_HUNT_NAME;break;case "platformer":a=s.PLATFORMER_NAME;break;case "mixing":a=s.COOKIE_MIXING_NAME;break;case "decorating":a=
s.COOKIE_DECORATING_NAME}B.get_instance().makeRequest("POST",B.formatMissionStartedEventData(J.get_instance().id,a))},__class__:Z});var ue=function(a){ba.call(this,a);J.get_instance().missionData.clear()};f["nazboo.scenes.minigames.decorating.DecoratingScene"]=ue;ue.__name__=["nazboo","scenes","minigames","decorating","DecoratingScene"];ue.__super__=Z;ue.prototype=p(Z.prototype,{enterScene:function(){Z.prototype.enterScene.call(this);this._collisionWorld=new P;this.owner.add(this._collisionWorld);
var a=new da(Ga.getTexture(g.get_assets().currentAssetPackName,k.get([this.configAssets,"background","display","primary"])));this.backgroundEntity.addChild((new q).add(a));this.cookie=new ve(k.getAssert([this.configAssets,"cookie"],"[decorating.states.DecoratingState] -- MISSING CONFIG: cookie"));this.maingroundEntity.addChild((new q).add(this.cookie));a=k.getAssert([this.configAssets,"canvas"],"[decorating.DecoratingScene] MISSING CANVAS CONFIG");this.canvas=new we(a);this.maingroundEntity.addChild((new q).add(this.canvas));
this.canvas.image.set_visible(!1);this.tutorialLayer=new q;this.uiEntity.addChild(this.tutorialLayer);this.drawingLayer=new q;this.maingroundEntity.addChild(this.drawingLayer);var b=k.getAssert([this.configAssets,"states"],"[decorating.DecoratingScene] MISSING CONFIG - states"),a=new xe(this,k.getAssert([b,"decorating"],"[decorating.DecoratingScene] MISSING CONFIG - states.decorating")),b=new ye(this,k.getAssert([b,"result"],"[decorating.DecoratingScene] MISSING CONFIG - states.result"));this.drawingLayer.addChild((new q).add(a));
this.backgroundEntity.addChild((new q).add(b));this._states=new O;this._states.set("decorating",a);this._states.set("result",b);a=k.getAssert([this.configAssets,"startState"],"[decorating.DecoratingScene] startState must be set!");this._currentState=this._states.get(a);this.doneButton=g.get_factory().makeLocalizedButton("doneButton","BTN_DONE");this.foregroundEntity.addChild((new q).add(this.doneButton));this.doneButton.get_view().sprite.set_visible(!1)},startScene:function(){Z.prototype.startScene.call(this);
this._currentState.enter();this._currentState.start()},stopScene:function(){Z.prototype.stopScene.call(this)},exitScene:function(){for(var a=this._states.keys();a.hasNext();){var b=a.next();this._states.get(b).owner.dispose();this._states.remove(b)}B.get_instance().makeRequest("POST",B.formatMissionSummaryEventData(J.get_instance().id,s.COOKIE_DECORATING_NAME,J.get_instance().missionData));Z.prototype.exitScene.call(this)},showDoneButton:function(){this.doneButton.get_view().sprite.get_visible()||
(this.doneButton.get_view().sprite.set_visible(!0),g.get_signals().addConnection(this.doneButton.up,m(this,this.onDoneButtonUp),!0))},hideDoneButton:function(){this.doneButton.get_view().sprite.get_visible()&&(this.doneButton.get_view().sprite.set_visible(!1),g.get_signals().removeConnection(this.doneButton.up,m(this,this.onDoneButtonUp)))},onDoneButtonUp:function(){this.doneButton.get_view().sprite.set_visible(!1);g.get_sounds().stopAllChannelSounds("VO");this.NextState()},NextState:function(){if(null!=
this._currentState){var a=this._currentState.nextState;null!=a?(this._nextState=this._states.get(a),null!=this._nextState&&(this._nextState.hasNextTransition?(g.get_signals().addConnection(g.get_screenTransition().complete,m(this,this.onNextStateOutro),!0),g.get_screenTransition().playOutro()):(this._currentState.stop(),this._currentState=this._nextState,this._currentState.enter(),this._currentState.start(),g.get_signals().addConnection(this.doneButton.up,m(this,this.onDoneButtonUp),!0)))):(this._currentState.stop(),
this.stopScene())}},onNextStateOutro:function(){var a=this;this._currentState.stop();this._currentState=this._nextState;this._currentState.enter();g.get_signals().addConnection(g.get_screenTransition().complete,function(){a._currentState.start()},!0);g.get_screenTransition().playIntro()},__class__:ue});var ze=function(a){u.call(this,a);this._idleKey=k.getAssert([a,"display","primary"],"MISSING DISPLAY DATA!");this.display=g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,this._idleKey);
var b=k.getAssert([a,"transform","position","x"],"MISSING TRANSFORM DATA");a=k.getAssert([a,"transform","position","y"],"MISSING TRANSFORM DATA");this.get_display().sprite.setXY(b,a);this.get_display().sprite.centerAnchor()};f["nazboo.scenes.minigames.decorating.objects.Backdrop"]=ze;ze.__name__="nazboo scenes minigames decorating objects Backdrop".split(" ");ze.__super__=u;ze.prototype=p(u.prototype,{onAdded:function(){u.prototype.onAdded.call(this);this.owner.addChild(this.get_display().entity)},
__class__:ze});var ve=function(a){u.call(this,a);this._idleKey=k.getAssert([a,"display","primary"],"MISSING DISPLAY DATA!");this._resultKey=k.getAssert([a,"display","results"],"MISSING DISPLAY DATA!");this.display=g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,this._idleKey);a=k.get([a,"transform","position"]);null!=a&&this.get_display().sprite.setXY(a.x,a.y);this.get_display().sprite.centerAnchor()};f["nazboo.scenes.minigames.decorating.objects.Cookie"]=ve;ve.__name__="nazboo scenes minigames decorating objects Cookie".split(" ");
ve.__super__=u;ve.prototype=p(u.prototype,{playResultAnimation:function(){this.get_display().moviePlayer.loop(this._resultKey)},onAdded:function(){u.prototype.onAdded.call(this);this.owner.addChild(this.get_display().entity)},__class__:ve});var Ae=function(a){this.selected=new L;u.call(this,a)};f["nazboo.scenes.minigames.decorating.objects.DecoratingItem"]=Ae;Ae.__name__="nazboo scenes minigames decorating objects DecoratingItem".split(" ");Ae.__super__=u;Ae.prototype=p(u.prototype,{onAdded:function(){u.prototype.onAdded.call(this);
var a=k.getElse([this.config,"transform","position","x"],0),b=k.getElse([this.config,"transform","position","y"],0);this.sprite=new w;this.sprite.setXY(a,b);this.owner.add(this.sprite);this.name=k.get([this.config,"name"]);this.pickupSound=k.getAssert([this.config,"sound"],"MISSING SOUND DATA");this.colliderConfig=k.getAssert([this.config,"transform","collider"],"MISSING COLLIDER DATA!");a=k.getAssert([this.config,"display","highlight"],"MISSING DISPLAY DATA!");this._highlight=g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,
a);this._highlight.sprite.set_visible(!1);this._highlight.sprite.set_pointerEnabled(!1);this.owner.addChild(this._highlight.entity);a=k.getAssert([this.config,"display","button"],"MISSING DISPLAY DATA!");this.display=g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,a);this.owner.addChild(this.get_display().entity);ia.isMobile()?this._itemKeys=k.getAssert([this.config,"display","MBL"],"MISSING DISPLAY DATA!"):this._itemKeys=k.getAssert([this.config,"display","DT"],"MISSING DISPLAY DATA!");
this._currentItem=0;var a=k.getElse([this.config,"transform","buttonArea","x"],0),b=k.getElse([this.config,"transform","buttonArea","y"],0),c=k.getElse([this.config,"transform","buttonArea","width"],0),d=k.getElse([this.config,"transform","buttonArea","height"],0);this._hitArea=new nb(0,c,d);this._hitArea.setXY(a,b);this._hitArea.centerAnchor();this._hitArea.setAlpha(0);this.owner.addChild((new q).add(this._hitArea));g.get_signals().addConnection(this._hitArea.get_pointerIn(),m(this,this.onPointerIn));
g.get_signals().addConnection(this._hitArea.get_pointerOut(),m(this,this.onPointerOut));g.get_signals().addConnection(this._hitArea.get_pointerDown(),m(this,this.onPointerDown))},getItemKey:function(){this._currentItem++;this._currentItem>=this._itemKeys.length&&(this._currentItem=0);return this._itemKeys[this._currentItem]},onPointerIn:function(){this.toggleHighlight(!0)},onPointerOut:function(){this.toggleHighlight(!1)},onPointerDown:function(){this.selected.emit(this)},toggleHighlight:function(a){this._highlight.sprite.set_visible(a)},
dispose:function(){g.get_signals().removeConnection(this.get_display().sprite.get_pointerIn(),m(this,this.onPointerIn));g.get_signals().removeConnection(this.get_display().sprite.get_pointerOut(),m(this,this.onPointerOut));this.selected=null;u.prototype.dispose.call(this)},__class__:Ae});var we=function(a){u.call(this,a)};f["nazboo.scenes.minigames.decorating.objects.DrawingCanvas"]=we;we.__name__="nazboo scenes minigames decorating objects DrawingCanvas".split(" ");we.__super__=u;we.prototype=p(u.prototype,
{onAdded:function(){u.prototype.onAdded.call(this);this.isDecorated=!1;var a=D["int"](k.getElse([this.config,"transform","size","width"],512)),b=D["int"](k.getElse([this.config,"transform","size","height"],512)),c=k.getElse([this.config,"transform","offset","x"],0),d=k.getElse([this.config,"transform","offset","y"],0);this._offset=new A(c,d);this._texture=r.$MH.$pG.createTexture(a,b);this.image=new da(this._texture);this.image.centerAnchor();this.owner.add(this.image);this.image.setXY(c,d);this.image.set_pointerEnabled(!1);
var c=k.getElse([this.config,"transform","collider","size","x"],0),d=k.getElse([this.config,"transform","collider","size","y"],0),e=k.getElse([this.config,"transform","collider","type"],"default"),f=k.get([this.config,"transform","collider","target"]);this._collider=new Ka(c,d,e,f);this._collider.sprite.setXY(a/2,b/2);this.owner.addChild((new q).add(this._collider))},dispose:function(){this._texture.dispose();u.prototype.dispose.call(this)},drawTexture:function(a,b,c){null!=a&&(this.isDecorated=!0,
this._texture.get_graphics().drawTexture(a,b,c))},clear:function(){this._texture.get_graphics().save();this._texture.get_graphics().setBlendMode(S.Mask);this._texture.get_graphics().setAlpha(0);this._texture.get_graphics().fillRect(0,0,0,this._texture.get_width(),this._texture.get_height());this._texture.get_graphics().restore();this.isDecorated=!1},setXY:function(a,b){this.image.setXY(a+this._offset.x,b+this._offset.y)},__class__:we});var $b=function(){y.call(this)};f["nazboo.scenes.minigames.decorating.objects.tools.DrawingTool"]=
$b;$b.__name__="nazboo scenes minigames decorating objects tools DrawingTool".split(" ");$b.__super__=y;$b.prototype=p(y.prototype,{get_entitySlot:function(){return 12},onAdded:function(){y.prototype.onAdded.call(this)},__class__:$b});var Be=function(){y.call(this)};f["nazboo.scenes.minigames.decorating.objects.tools.TextureStamp"]=Be;Be.__name__="nazboo scenes minigames decorating objects tools TextureStamp".split(" ");Be.__super__=$b;Be.prototype=p($b.prototype,{onAdded:function(){$b.prototype.onAdded.call(this);
this.sprite=new w;this.owner.add(this.sprite);this.image=new da(null);this.image.set_pointerEnabled(!1);this.owner.addChild((new q).add(this.image))},set:function(a){this.itemName=a.name;var b=g.get_assets().currentAssetPackVO.library.getSymbol(a.getItemKey());this.image.texture=b.texture;this.image.set_pointerEnabled(!1);this.image.centerAnchor();this.clearCollider();var b=k.getElse([a.colliderConfig,"size","x"],0),c=k.getElse([a.colliderConfig,"size","y"],0);k.getElse([a.colliderConfig,"offset",
"x"],0);k.getElse([a.colliderConfig,"offset","y"],0);var d=k.getElse([a.colliderConfig,"type"],"default");a=k.get([a.colliderConfig,"target"]);this._collider=new Ka(b,c,d,a);this._collider.sprite.set_pointerEnabled(!1);this.owner.addChild((new q).add(this._collider));g.get_signals().addConnection(this._collider.collisionEnter,m(this,this.onColliderEnter));g.get_signals().addConnection(this._collider.collisionExit,m(this,this.onColliderExit))},clear:function(){this.image.texture=null;this.canPaint=
!1;this.clearCollider()},clearCollider:function(){null!=this._collider&&(g.get_signals().removeConnection(this._collider.collisionEnter,m(this,this.onColliderEnter)),g.get_signals().removeConnection(this._collider.collisionExit,m(this,this.onColliderExit)),this._collider.owner.dispose(),this._collider=null)},onColliderEnter:function(){this.canPaint=!0},onColliderExit:function(){this.canPaint=!1},__class__:Be});var U=function(a,b){w.call(this);this.context=a;this.config=b;this.nextState=k.getElse([b,
"next"],null);this.hasNextTransition=k.getElse([b,"variables","hasNextTransition"],!1)};f["nazboo.scenes.minigames.shared.SceneState"]=U;U.__name__=["nazboo","scenes","minigames","shared","SceneState"];U.__super__=w;U.prototype=p(w.prototype,{onAdded:function(){w.prototype.onAdded.call(this);this.set_visible(!1)},enter:function(){this.set_visible(!0)},start:function(){},stop:function(){this.set_visible(!1)},dispose:function(){this.context=null;w.prototype.dispose.call(this)},__class__:U});var xe=
function(a,b){this._tutorialComplete=!1;var c=new O;c.set("gumdrops",s.GUMDROP_COUNT);c.set("buzzleBerries",s.BERRY_COUNT);c.set("rainbowSprinkles",s.RAINBOW_COUNT);c.set("starSprinkles",s.STAR_COUNT);c.set("toastedMarhmallows",s.MALLOW_COUNT);c.set("chocolateChips",s.RAINBOW_COUNT);this._countMap=c;U.call(this,a,b)};f["nazboo.scenes.minigames.decorating.states.DecoratingState"]=xe;xe.__name__="nazboo scenes minigames decorating states DecoratingState".split(" ");xe.__super__=U;xe.prototype=p(U.prototype,
{onAdded:function(){U.prototype.onAdded.call(this);this.context.canvas.image.set_visible(!0);this.context.cookie.get_display().sprite.set_visible(!0);var a=k.get([this.config,"variables","cookiePosition","x"]),b=k.get([this.config,"variables","cookiePosition","y"]);this.context.canvas.setXY(a,b);this.context.cookie.get_display().sprite.setXY(a,b);this._maxPlaceDistance=k.get([this.config,"variables","maxPlaceDistance"]);this._decoratingItems=[];for(var a=k.getAssert([this.config,"decorations"],"[decorating.states.DecoratingState] -- MISSING CONFIG: itemMap"),
b=0,c=a.length;b<c;){var d=b++,d=new Ae(a[d]);g.get_signals().addConnection(d.selected,m(this,this.onItemSelected));this._decoratingItems.push(d);this.owner.addChild((new q).add(d))}this._textureStamp=new Be;this.owner.addChild((new q).add(this._textureStamp));this.itemPlaced=new Q;this.itemPickedUp=new Q;this.itemReturned=new Q;this._tutorial=g.get_factory().makeTutorial(s.DECORATING,this.config.tutorial,this,J.get_instance().getTutorial(s.DECORATING));g.get_signals().addConnection(this._tutorial.skipped,
function(){B.get_instance().makeRequest("POST",B.formatUIInteractionEventData(J.get_instance().id,s.UI_BTN_SKIP,s.COOKIE_DECORATING_TUTORIAL_NAME))},!0);this.context.tutorialLayer.addChild((new q).add(this._tutorial));this._timeout=new ya(this.config.sounds.timeout,this.config.variables.timeoutDuration);this.owner.addChild((new q).add(this._timeout));this._timeoutDT=new ya(this.config.sounds.desktopTimeout,this.config.variables.timeoutDuration);this.owner.addChild((new q).add(this._timeoutDT));this._clearButton=
g.get_factory().makeButton("clearButton");this.owner.addChild((new q).add(this._clearButton));this._clearButton.get_view().sprite.set_visible(!1)},enter:function(){U.prototype.enter.call(this)},start:function(){U.prototype.start.call(this);g.get_signals().addConnection(r.$MH.$oG.up,m(this,this.onSystemPointerUp));g.get_signals().addConnection(r.$MH.$oG.move,m(this,this.onSystemPointerMove));g.get_signals().addConnection(this._tutorial.complete,m(this,this.onTutorialComplete),!0);this._tutorial.start()},
onTutorialComplete:function(){G.playSoundWithFolder(this.config.sounds.intro,null);this.canPickupItem=this.allowBrushMovement=!0;(null==this._textureStamp.image.texture||ia.isMobile())&&this._timeout.start();this._tutorialComplete=!0},stop:function(){U.prototype.stop.call(this);B.get_instance().makeRequest("POST",B.formatUIInteractionEventData(J.get_instance().id,s.UI_BTN_DONE,s.COOKIE_DECORATING_NAME));this.clearTool();this._timeout.stop();this._timeoutDT.stop();g.get_signals().removeConnection(r.$MH.$oG.up,
m(this,this.onSystemPointerUp));g.get_signals().removeConnection(r.$MH.$oG.move,m(this,this.onSystemPointerMove))},onSystemPointerUp:function(){var a=new A(this._textureStamp.sprite.x.$HH,this._textureStamp.sprite.y.$HH),b=new A(this.context.canvas.image.x.$HH,this.context.canvas.image.y.$HH);if(this._textureStamp.canPaint){var c=Math.round(this._textureStamp.sprite.x.$HH-this._textureStamp.image.anchorX.$HH-(this.context.canvas.image.x.$HH-this.context.canvas.image.anchorX.$HH)),d=Math.round(this._textureStamp.sprite.y.$HH-
this._textureStamp.image.anchorY.$HH-(this.context.canvas.image.y.$HH-this.context.canvas.image.anchorY.$HH));fc.pointDistance(a,b)<this._maxPlaceDistance&&(this.context.canvas.drawTexture(this._textureStamp.image.texture,c,d),this.context.showDoneButton(),this.showClearButton(),this.itemPlaced.emit(),J.get_instance().missionData.increment(this._countMap.get(this._textureStamp.itemName)),ia.isMobile()?this._timeout.reset():(this._timeoutDT.reset(),this._textureStamp.set(this._lastSelectedItem)),G.playSoundWithFolder(this.config.sounds.place),
Math.random()<this.config.sounds.encouragment.playChance&&G.playSoundWithFolder(this.config.sounds.encouragment))}ia.isMobile()&&this.clearTool()},onSystemPointerMove:function(){if(this.allowBrushMovement){var a=g.get_resize().toScreenSpace(r.$MH.$oG.get_x(),r.$MH.$oG.get_y());this._textureStamp.sprite.setXY(a.x,a.y)}},onItemSelected:function(a){this.canPickupItem&&(a!=this._lastSelectedItem?(this._textureStamp.set(a),G.playSoundWithFolder(a.pickupSound),G.playSoundWithFolder(this.config.sounds.pickup),
ia.isMobile()?this._timeout.reset():(this._timeout.stop(),this._timeoutDT.start()),this.itemPickedUp.emit(),this._lastSelectedItem=a):(this.itemReturned.emit(),ia.isMobile()||(this._tutorialComplete&&this._timeout.start(),this._timeoutDT.stop()),this.clearTool()))},clearTool:function(){this._textureStamp.clear();this._lastSelectedItem=null},showClearButton:function(){this._clearButton.get_view().sprite.get_visible()||(this._clearButton.get_view().sprite.set_visible(!0),g.get_signals().addConnection(this._clearButton.up,
m(this,this.onClearButtonPressed),!0))},onClearButtonPressed:function(){J.get_instance().missionData.clear();B.get_instance().makeRequest("POST",B.formatUIInteractionEventData(J.get_instance().id,s.UI_BTN_CLEAR,s.COOKIE_DECORATING_NAME));this.context.canvas.clear();this.context.hideDoneButton();this.clearTool();this._clearButton.get_view().sprite.set_visible(!1)},dispose:function(){this._decoratingItems=null;g.get_signals().removeConnection(this._clearButton.up,m(this,this.onClearButtonPressed));
U.prototype.dispose.call(this)},__class__:xe});var ye=function(a,b){U.call(this,a,b)};f["nazboo.scenes.minigames.decorating.states.ResultState"]=ye;ye.__name__="nazboo scenes minigames decorating states ResultState".split(" ");ye.__super__=U;ye.prototype=p(U.prototype,{onAdded:function(){U.prototype.onAdded.call(this);this._backdrop=new ze(k.getAssert([this.config,"backdrop"],"[decorating.states.DecoratingState] -- MISSING CONFIG: backdrop"));this.owner.addChild((new q).add(this._backdrop))},enter:function(){U.prototype.enter.call(this);
var a=k.get([this.config,"variables","cookiePosition","x"]),b=k.get([this.config,"variables","cookiePosition","y"]),c=k.get([this.config,"variables","canvasOffset","x"]),d=k.get([this.config,"variables","canvasOffset","y"]);this.context.canvas.setXY(a+c,b+d);this.context.cookie.get_display().sprite.setXY(a,b);this.context.cookie.playResultAnimation()},start:function(){U.prototype.start.call(this);this.context.showDoneButton();G.playSoundWithFolder(this.config.sounds.outro,null)},stop:function(){U.prototype.stop.call(this);
B.get_instance().makeRequest("POST",B.formatUIInteractionEventData(J.get_instance().id,s.UI_BTN_DONE,s.COOKIE_DECORATING_RESULT_NAME))},__class__:ye});var Ce=function(a,b){C.call(this,a,b)};f["nazboo.scenes.minigames.decorating.tutorials.DecoratingTutorial1"]=Ce;Ce.__name__="nazboo scenes minigames decorating tutorials DecoratingTutorial1".split(" ");Ce.__super__=C;Ce.prototype=p(C.prototype,{onAdded:function(){C.prototype.onAdded.call(this)},start:function(){C.prototype.start.call(this);G.playSoundWithFolder(this.config.sounds.vo,
m(this,this.voComplete))||this.end()},voComplete:function(a){this.end()},__class__:Ce});var De=function(a,b){C.call(this,a,b);this._state=b};f["nazboo.scenes.minigames.decorating.tutorials.DecoratingTutorial2"]=De;De.__name__="nazboo scenes minigames decorating tutorials DecoratingTutorial2".split(" ");De.__super__=C;De.prototype=p(C.prototype,{onAdded:function(){C.prototype.onAdded.call(this);var a=k.get([this.config,"movie"]);this._tutorialMovie=new yb(a);g.get_signals().addConnection(this._tutorialMovie.enterComplete,
(W=this._tutorialMovie,m(W,W.playIdle)),!0);this.owner.addChild((new q).add(this._tutorialMovie));this._timeout=new ya(this.config.sounds.timeout,this.config.variables.timeoutDelay);this.owner.addChild((new q).add(this._timeout));g.get_signals().addConnection(this._state.itemPlaced,m(this,this.itemPlaced),!0);g.get_signals().addConnection(this._state.itemPickedUp,m(this,this.itemPickedUp));g.get_signals().addConnection(this._state.itemReturned,m(this,this.itemReturned));this._state.allowBrushMovement=
!0;this._state.canPickupItem=!0},start:function(){C.prototype.start.call(this);this._timeout.start();this._tutorialMovie.playEnter();G.playSoundWithFolder(this.config.sounds.vo,null)},itemPickedUp:function(){this._timeout.stop()},itemReturned:function(){this._timeout.start()},itemPlaced:function(){var a=this;g.get_signals().removeConnection(this._tutorialMovie.enterComplete,(W=this._tutorialMovie,m(W,W.playIdle)));this._tutorialMovie.playExit();this._timeout.stop();var b=function(b){g.get_sounds().stopAllChannelSounds("VO");
J.get_instance().setTutorial(s.DECORATING,!0);a.end()};G.playSoundWithFolder(this.config.sounds.outro,b)||b()},dispose:function(){null!=this._state&&(g.get_signals().removeConnection(this._state.itemPlaced,m(this,this.itemPlaced)),g.get_signals().removeConnection(this._state.itemPickedUp,m(this,this.itemPickedUp)),g.get_signals().removeConnection(this._state.itemReturned,m(this,this.itemReturned)));null!=this._tutorialMovie&&g.get_signals().removeConnection(this._tutorialMovie.enterComplete,(W=this._tutorialMovie,
m(W,W.playIdle)));C.prototype.dispose.call(this)},__class__:De});var Ee=function(a){ba.call(this,a);J.get_instance().missionData.clear()};f["nazboo.scenes.minigames.mixing.MixingScene"]=Ee;Ee.__name__=["nazboo","scenes","minigames","mixing","MixingScene"];Ee.__super__=Z;Ee.prototype=p(Z.prototype,{enterScene:function(){this._collisionWorld=new P;this.owner.add(this._collisionWorld);var a=new da(Ga.getTexture(g.get_assets().currentAssetPackName,k.get([this.configAssets,"background","display","primary"])));
this.backgroundEntity.addChild((new q).add(a));a=k.getAssert([this.configAssets,"bowl"],"[mixing.MixingScene] MISSING CONFIG bowl");this.bowl=new Fe(a);this.backgroundEntity.addChild((new q).add(this.bowl));this.mixingItems=[];for(var a=k.getAssert([this.configAssets,"ingredients"],"[mixing.MixingScene] -- MISSING CONFIG ingredients"),b=0,c=a.length;b<c;){var d=b++,d=new Ge(a[d]);this.maingroundEntity.addChild((new q).add(d));d.toggleEnabled(!1);this.mixingItems.push(d)}c=k.getAssert([this.configAssets,
"states"],"[mixing.MixingScene] MISSING CONFIG - states");a=new He(this,k.getAssert([c,"combining"],"[mixing.MixingScene] MISSING CONFIG - states.combining"));this.maingroundEntity.addChild((new q).add(a));b=new Ie(this,k.getAssert([c,"mixing"],"[mixing.MixingScene] MISSING CONFIG - states.mixing"));this.maingroundEntity.addChild((new q).add(b));c=new Je(this,k.getAssert([c,"oven"],"[mixing.MixingScene] MISSING CONFIG - states.oven"));this.foregroundEntity.addChild((new q).add(c));this._states=new O;
this._states.set("combining",a);this._states.set("mixing",b);this._states.set("oven",c);a=k.getAssert([this.configAssets,"startState"],"[decorating.DecoratingScene] startState must be set!");this._currentState=this._states.get(a);this._currentState.set_visible(!0);this.doneButton=g.get_factory().makeLocalizedButton("skipButton","BTN_DONE");this.uiEntity.addChild((new q).add(this.doneButton));this.doneButton.get_view().sprite.setXY(855,450);this.doneButton.get_view().sprite.set_visible(!1);g.get_signals().addConnection(this.doneButton.up,
m(this,this.onDoneButtonUp),!0);var e=k.getAssert([this.configAssets,"progressBar"],"[mixing.MixingState] -- MISSING CONFIG -- progressBar"),a=k.getElse([e,"transform","position","x"],0),b=k.getElse([e,"transform","position","y"],0),c=k.getElse([e,"transform","offset","x"],0),d=k.getElse([e,"transform","offset","y"],0),f=g.get_assets().assetPacks.get("main"),n=f.library.getSymbol(k.get([e,"display","overlay"])),e=f.library.getSymbol(k.get([e,"display","underlay"])),n=new da(n.texture),e=new da(e.texture);
n.centerAnchor();e.centerAnchor();e.setXY(c,d);this.progress=new gc(e,n,null,100);this.progress.position.setXY(a,b);this.progress.position.centerAnchor();this.owner.addChild((new q).add(this.progress));this.resetVal=new Y(0);g.get_signals().addConnection(this.resetVal.get_changed(),m(this,this.onResetValChanged));Z.prototype.enterScene.call(this)},startScene:function(){Z.prototype.startScene.call(this);this._currentState.start()},stopScene:function(){Z.prototype.stopScene.call(this);g.get_signals().removeConnection(this.resetVal.get_changed(),
m(this,this.onResetValChanged))},exitScene:function(){for(var a=this._states.keys();a.hasNext();){var b=a.next();this._states.get(b).owner.dispose();this._states.remove(b)}this.mixingItems=this._states=null;B.get_instance().makeRequest("POST",B.formatMissionSummaryEventData(J.get_instance().id,s.COOKIE_MIXING_NAME,J.get_instance().missionData));Z.prototype.exitScene.call(this)},onDoneButtonUp:function(){this.doneButton.get_view().sprite.set_visible(!1);this.NextState()},NextState:function(){if(null!=
this._currentState){var a=this._currentState.nextState;null!=a?(this._nextState=this._states.get(a),null!=this._nextState&&(this._nextState.hasNextTransition?(g.get_signals().addConnection(g.get_screenTransition().complete,m(this,this.onNextStateOutro),!0),g.get_screenTransition().playOutro()):(this._currentState.stop(),this._currentState=this._nextState,this._currentState.enter(),this._currentState.start(),g.get_signals().addConnection(this.doneButton.up,m(this,this.onDoneButtonUp),!0)))):(this._currentState.stop(),
this.stopScene())}},onNextStateOutro:function(){var a=this;this._currentState.stop();this._currentState=this._nextState;this._currentState.enter();g.get_signals().addConnection(g.get_screenTransition().complete,function(){a._currentState.start()},!0);g.get_screenTransition().playIntro()},resetProgressBar:function(){this.resetVal.set__(100);this.resetVal.animate(100,0,1,eb.linear)},onUpdate:function(a){Z.prototype.onUpdate.call(this,a);this.resetVal.update(a)},onResetValChanged:function(a,b){this.progress.SetProgress(a)},
__class__:Ee});var Fe=function(a){u.call(this,a)};f["nazboo.scenes.minigames.mixing.objects.Bowl"]=Fe;Fe.__name__="nazboo scenes minigames mixing objects Bowl".split(" ");Fe.__super__=u;Fe.prototype=p(u.prototype,{onAdded:function(){u.prototype.onAdded.call(this);var a=k.getElse([this.config,"transform","position","x"],0),b=k.getElse([this.config,"transform","position","y"],0);this.transform=new w;this.transform.setXY(a,b);this.owner.add(this.transform);this.back=g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,
this.config.back.display.primary);this.owner.addChild(this.back.entity);this.front=g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,this.config.front.display.primary);this.owner.addChild(this.front.entity);this.addCollider()},frontPlayOnce:function(a,b,c,d){null==c&&(c=!0);null==b&&(b=!1);this.front.moviePlayer.playOnce(a,b,c);null!=d&&g.get_signals().addConnection(this.front.moviePlayer.completeSignal,d,!0)},frontLoop:function(a){this.front.moviePlayer.loop(a)},backPlayOnce:function(a,
b,c){null==c&&(c=!0);null==b&&(b=!1);this.back.moviePlayer.playOnce(this.config.back.display.primary+a,b,c)},addCollider:function(){var a=k.getElse([this.config,"transform","collider","size","x"],0),b=k.getElse([this.config,"transform","collider","size","y"],0),c=k.getElse([this.config,"transform","collider","offset","x"],0),d=k.getElse([this.config,"transform","collider","offset","y"],0),e=k.getElse([this.config,"transform","collider","type"],"default"),f=k.get([this.config,"transform","collider",
"target"]);this._collider=new Ka(a,b,e,f);this._collider.sprite.setXY(c,d);this.owner.addChild((new q).add(this._collider))},__class__:Fe});var Ke=function(a){u.call(this,a)};f["nazboo.scenes.minigames.mixing.objects.ItemCursor"]=Ke;Ke.__name__="nazboo scenes minigames mixing objects ItemCursor".split(" ");Ke.__super__=u;Ke.prototype=p(u.prototype,{onAdded:function(){u.prototype.onAdded.call(this);this.sprite=new w;this.owner.add(this.sprite);this._idleKey=k.getAssert([this.config,"display","idle"],
"MISSING DISPLAY DATA!");this.display=g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,this._idleKey);this.get_display().sprite.set_pointerEnabled(!1);this.get_display().sprite.set_visible(!1);this.owner.addChild(this.get_display().entity)},set:function(a){this.canPlace=!1;this.currentItem=a;this.get_display().moviePlayer.loop(a.getItemKey());this.get_display().sprite.set_visible(!0);this.clearCollider();var b=k.getElse([a.colliderConfig,"size","x"],0),c=k.getElse([a.colliderConfig,
"size","y"],0);k.getElse([a.colliderConfig,"offset","x"],0);k.getElse([a.colliderConfig,"offset","y"],0);var d=k.getElse([a.colliderConfig,"type"],"default");a=k.get([a.colliderConfig,"target"]);this.collider=new Ka(b,c,d,a);this.collider.sprite.set_pointerEnabled(!1);this.owner.addChild((new q).add(this.collider));g.get_signals().addConnection(this.collider.collisionEnter,m(this,this.onColliderEnter));g.get_signals().addConnection(this.collider.collisionExit,m(this,this.onColliderExit))},clear:function(){this.get_display().sprite.set_visible(!1);
this.get_display().moviePlayer.loop(this._idleKey);this.currentItem=null;this.canPlace=!1;this.clearCollider()},clearCollider:function(){null!=this.collider&&(g.get_signals().removeConnection(this.collider.collisionEnter,m(this,this.onColliderEnter)),g.get_signals().removeConnection(this.collider.collisionExit,m(this,this.onColliderExit)),this.collider.owner.dispose(),this.collider=null)},onColliderEnter:function(){this.canPlace=!0},onColliderExit:function(){this.canPlace=!1},__class__:Ke});var Le=
function(a){this._distance=0;this.mixed=new Q;u.call(this,a)};f["nazboo.scenes.minigames.mixing.objects.MixingCursor"]=Le;Le.__name__="nazboo scenes minigames mixing objects MixingCursor".split(" ");Le.__super__=u;Le.prototype=p(u.prototype,{onAdded:function(){u.prototype.onAdded.call(this);this.sprite=new w;this.owner.add(this.sprite);this._mixDistance=k.getElse([this.config,"mixDistance"],1E3);var a=k.getAssert([this.config,"transform","collider"],"Missing Collider"),b=k.getElse([a,"size","x"],
0),c=k.getElse([a,"size","y"],0);k.getElse([a,"offset","x"],0);k.getElse([a,"offset","y"],0);var d=k.getElse([a,"type"],"default"),a=k.get([a,"target"]);this._collider=new Ka(b,c,d,a);this._collider.sprite.set_pointerEnabled(!1);this.owner.addChild((new q).add(this._collider));g.get_signals().addConnection(this._collider.collisionEnter,m(this,this.onColliderEnter));g.get_signals().addConnection(this._collider.collisionExit,m(this,this.onColliderExit))},onColliderEnter:function(){this._overBowl=!0},
onColliderExit:function(){this._overBowl=!1;this._lastPoint=null},move:function(a){this.sprite.setXY(a.x,a.y);if(this._overBowl){null==this._lastPoint&&(this._lastPoint=a);for(this._distance+=a.distanceTo(this._lastPoint.x,this._lastPoint.y);this._distance>this._mixDistance;)this._distance-=this._mixDistance,this.mixed.emit();this._lastPoint=a}},dispose:function(){this.mixed=null;u.prototype.dispose.call(this)},__class__:Le});var Ge=function(a){this.selected=new L;u.call(this,a)};f["nazboo.scenes.minigames.mixing.objects.MixingItem"]=
Ge;Ge.__name__="nazboo scenes minigames mixing objects MixingItem".split(" ");Ge.__super__=u;Ge.prototype=p(u.prototype,{onAdded:function(){u.prototype.onAdded.call(this);var a=k.getElse([this.config,"transform","position","x"],0),b=k.getElse([this.config,"transform","position","y"],0);this.sprite=new w;this.sprite.setXY(a,b);this.owner.add(this.sprite);this.name=k.get([this.config,"name"]);this.colliderConfig=k.getAssert([this.config,"transform","collider"],"MISSING COLLIDER DATA!");this._itemKey=
k.getAssert([this.config,"display","item"],"MISSING DISPLAY DATA!");this._buttonKeys=k.getAssert([this.config,"display","button"],"MISSING DISPLAY DATA!");this._pickedUpKey=k.getElse([this.config,"display","pickedUp"],null);this._postFinalKey=k.getElse([this.config,"display","postFinal"],null);this.count=this._startCount=this._buttonKeys.length-1;this.display=g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,this._buttonKeys[this.count]);this.owner.addChild(this.get_display().entity);
this.bowlAnimationKey=k.getAssert([this.config,"display","bowlAnimation"],"MISSING DISPLAY DATA!");var a=k.getElse([this.config,"transform","buttonArea","x"],0),b=k.getElse([this.config,"transform","buttonArea","y"],0),c=k.getElse([this.config,"transform","buttonArea","width"],0),d=k.getElse([this.config,"transform","buttonArea","height"],0);this._hitArea=new nb(0,c,d);this._hitArea.setXY(a,b);this._hitArea.centerAnchor();this._hitArea.setAlpha(0);this.owner.addChild((new q).add(this._hitArea));this.soundConfig=
k.get([this.config,"sound"]);this.bowlDelay=k.get([this.config,"variables","bowlDelay"]);g.get_signals().addConnection(this._hitArea.get_pointerIn(),m(this,this.onPointerIn));g.get_signals().addConnection(this._hitArea.get_pointerOut(),m(this,this.onPointerOut));g.get_signals().addConnection(this._hitArea.get_pointerDown(),m(this,this.onPointerDown))},getItemKey:function(){return this._itemKey},onPointerIn:function(){this.isOver=!0;0<this.count&&(this.toggleHighlight(!0),this.playHoverAudio())},onPointerOut:function(){this.isOver=
!1;this.toggleHighlight(!1)},onPointerDown:function(){this.selected.emit(this)},toggleEnabled:function(a){this._hitArea.set_pointerEnabled(a)},toggleHighlight:function(a){},tryDecrement:function(){return 0<this.count?(this.count--,this.updateAnimation(),!0):!1},tryIncrement:function(){return this.count<this._startCount?(this.count++,this.putback(),!0):!1},pickedUp:function(){null!=this._pickedUpKey&&this.get_display().moviePlayer.loop(this._pickedUpKey)},putback:function(){this.updateAnimation()},
updateAnimation:function(){0==this.count?(this.get_display().moviePlayer.playOnce(this._buttonKeys[this.count],!1),null!=this._postFinalKey&&g.get_signals().addConnection(this.get_display().moviePlayer.completeSignal,m(this,this.postFinalAnimation),!0)):this.get_display().moviePlayer.loop(this._buttonKeys[this.count])},postFinalAnimation:function(){0==this.count&&this.get_display().moviePlayer.loop(this._postFinalKey)},playHoverAudio:function(){null!=this.soundConfig&&G.playSoundWithFolder(this.soundConfig.hover)},
playPlaceAudio:function(){null!=this.soundConfig&&G.playSoundWithFolder(this.soundConfig.place)},dispose:function(){g.get_signals().removeConnection(this._hitArea.get_pointerIn(),m(this,this.onPointerIn));g.get_signals().removeConnection(this._hitArea.get_pointerOut(),m(this,this.onPointerOut));g.get_signals().removeConnection(this._hitArea.get_pointerDown(),m(this,this.onPointerDown));this.selected=null;u.prototype.dispose.call(this)},__class__:Ge});var He=function(a,b){this._totalItemCount=this._currentItemCount=
0;U.call(this,a,b)};f["nazboo.scenes.minigames.mixing.states.CombiningState"]=He;He.__name__="nazboo scenes minigames mixing states CombiningState".split(" ");He.__super__=U;He.prototype=p(U.prototype,{onAdded:function(){U.prototype.onAdded.call(this);this._itemCursor=new Ke(k.getAssert([this.config,"itemCursor"],"[mixing.CombiningState] -- MISSING CONFIG itemCursor"));this.owner.addChild((new q).add(this._itemCursor));this.itemPlaced=new Q;this.itemPickedUp=new Q;this.itemReturned=new Q;this._tutorial=
g.get_factory().makeTutorial(s.MIXING_COMBINING,this.config.tutorial,this,J.get_instance().getTutorial(s.MIXING_COMBINING));g.get_signals().addConnection(this._tutorial.skipped,function(){B.get_instance().makeRequest("POST",B.formatUIInteractionEventData(J.get_instance().id,s.UI_BTN_SKIP,s.COOKIE_MIXING_TUTORIAL_ONE_NAME))},!0);this.owner.addChild((new q).add(this._tutorial));this._soundConfig=k.getAssert([this.config,"sounds"],"[mixing.MixingState] -- MISSING CONFIG -- sounds");this._timeout=new ya(k.get([this.config,
"sounds","timeout"]),this.config.variables.timeoutDuration);this.owner.addChild((new q).add(this._timeout));this._timeoutDT=new ya(k.get([this.config,"sounds","desktopTimeout"]),this.config.variables.timeoutDuration);this.owner.addChild((new q).add(this._timeoutDT))},start:function(){this.canSelectItem=!1;g.get_signals().addConnection(r.$MH.$oG.up,m(this,this.onSystemPointerUp));g.get_signals().addConnection(r.$MH.$oG.move,m(this,this.onSystemPointerMove));g.get_signals().addConnection(this._tutorial.complete,
m(this,this.onTutorialComplete),!0);for(var a=0,b=this.context.mixingItems;a<b.length;){var c=b[a];++a;g.get_signals().addConnection(c.selected,m(this,this.onItemSelected));c.toggleEnabled(!1);this._totalItemCount+=c.count}this._tutorial.start();U.prototype.start.call(this)},onTutorialComplete:function(){null==this._currentItem&&(this._tutorialComplete=this.canDropItem=this.canSelectItem=!0,this._timeout.start());for(var a=0,b=this.context.mixingItems;a<b.length;){var c=b[a];++a;c.toggleEnabled(!0)}},
stop:function(){g.get_signals().removeConnection(r.$MH.$oG.up,m(this,this.onSystemPointerUp));g.get_signals().removeConnection(r.$MH.$oG.move,m(this,this.onSystemPointerMove));this._timeout.stop();for(var a=0,b=this.context.mixingItems;a<b.length;){var c=b[a];++a;g.get_signals().removeConnection(c.selected,m(this,this.onItemSelected));c.toggleEnabled(!1)}U.prototype.stop.call(this)},onItemSelected:function(a){this.canSelectItem&&(this._itemCursor.currentItem==a?(this.dropItem(),this.itemReturned.emit()):
(null!=this._itemCursor.currentItem&&(this.itemReturned.emit(),this.dropItem()),a.tryDecrement()?(this.itemPickedUp.emit(),this.pickupItem(a)):G.playSoundWithFolder(this._soundConfig.wrong)))},pickupItem:function(a){a.pickedUp();this._canMoveCursor=!0;this.canSelectItem=!1;this._itemCursor.set(a);ia.isMobile()?this._timeout.reset():(this._timeout.stop(),this._timeoutDT.start());a=g.get_resize().toScreenSpace(r.$MH.$oG.get_x(),r.$MH.$oG.get_y());this._itemCursor.sprite.setXY(a.x,a.y)},dropItem:function(){if(this.canDropItem||
ia.isMobile())this._itemCursor.currentItem.tryIncrement(),this._itemCursor.clear(),this.canSelectItem=!0,ia.isMobile()?this._timeout.reset():(this._timeoutDT.stop(),this._tutorialComplete&&this._timeout.start())},onSystemPointerMove:function(){if(this._canMoveCursor){var a=g.get_resize().toScreenSpace(r.$MH.$oG.get_x(),r.$MH.$oG.get_y());this._itemCursor.sprite.setXY(a.x,a.y)}},onSystemPointerUp:function(){var a=this;null!=this._itemCursor.currentItem&&this._itemCursor.currentItem.isOver||(this._itemCursor.canPlace?
(this.context.bowl.frontPlayOnce(this._itemCursor.currentItem.bowlAnimationKey,!1,!0,m(this,this.onBowlAnimationComplete)),this._tutorialComplete&&this._itemCursor.currentItem.playPlaceAudio(),this.owner.addChild(oa.delay(this._itemCursor.currentItem.soundConfig.effect.delay,function(){null!=a._currentItem&&G.playSoundWithFolder(a._currentItem.soundConfig.effect)})),this.owner.addChild(oa.delay(this._itemCursor.currentItem.bowlDelay,function(){a.context.bowl.backPlayOnce(a._currentItemCount,!1,!1)})),
this.itemPlaced.emit(),ia.isMobile()?this._timeout.reset():(this._tutorialComplete&&this._timeout.start(),this._timeoutDT.stop()),this._currentItem=this._itemCursor.currentItem,this._currentItemCount++,this.context.progress.AddProgress(this._currentItemCount/this._totalItemCount),this._itemCursor.clear(),this._canMoveCursor=!1):null!=this._itemCursor.currentItem&&this.dropItem(),null!=this._itemCursor.currentItem&&ia.isMobile()&&this.dropItem())},onBowlAnimationComplete:function(){this._currentItem.putback();
this._currentItem=null;this.checkAllAdded()?(this._timeout.stop(),this._timeoutDT.stop(),this.context.NextState()):this.canSelectItem=!0},checkAllAdded:function(){for(var a=0,b=this.context.mixingItems;a<b.length;){var c=b[a];++a;if(0<c.count)return!1}return!0},dispose:function(){this.itemPlaced=null;U.prototype.dispose.call(this)},__class__:He});var Ie=function(a,b){this._almostVOPlayed=!1;this._mixCount=0;U.call(this,a,b)};f["nazboo.scenes.minigames.mixing.states.MixingState"]=Ie;Ie.__name__="nazboo scenes minigames mixing states MixingState".split(" ");
Ie.__super__=U;Ie.prototype=p(U.prototype,{onAdded:function(){U.prototype.onAdded.call(this);this._soundConfig=k.getAssert([this.config,"sounds"],"[mixing.MixingState] -- MISSING CONFIG -- sounds");this._spoonIdleKey=k.getAssert([this.config,"bowl","display","spoonIdle"],"[mixing.MixingState] -- MISSING CONFIG -- bowl.display.spoonIdle");this._spoonEnterKey=k.getAssert([this.config,"bowl","display","spoonEnter"],"[mixing.MixingState] -- MISSING CONFIG -- bowl.display.spoonEnter");this._spoonActionKey=
k.getAssert([this.config,"bowl","display","spoonAction"],"[mixing.MixingState] -- MISSING CONFIG -- bowl.display.spoonAction");this._mixNeeded=k.getElse([this.config,"mixCount"],15);this._cursor=new Le(k.getAssert([this.config,"mixingCursor"],"[mixing.CombiningState] -- MISSING CONFIG mixingCursor"));this.owner.addChild((new q).add(this._cursor));this.mixed=new Q;this._tutorial=g.get_factory().makeTutorial(s.MIXING_MIXING,this.config.tutorial,this,J.get_instance().getTutorial(s.MIXING_MIXING));g.get_signals().addConnection(this._tutorial.skipped,
function(){B.get_instance().makeRequest("POST",B.formatUIInteractionEventData(J.get_instance().id,s.UI_BTN_SKIP,s.COOKIE_MIXING_TUTORIAL_TWO_NAME))},!0);this.owner.addChild((new q).add(this._tutorial));this._timeout=new ya(k.get([this.config,"sounds","timeout"]),10);this.owner.addChild((new q).add(this._timeout))},start:function(){var a=this;this.context.bowl.frontLoop(this._spoonIdleKey);this.context.bowl.frontPlayOnce(this._spoonEnterKey,!1,!0,function(){g.get_signals().addConnection(r.$MH.$oG.move,
m(a,a.onSystemPointerMove))});g.get_signals().addConnection(this._cursor.mixed,m(this,this.onMixed));g.get_signals().addConnection(this._tutorial.complete,m(this,this.onTutorialComplete),!0);this._tutorial.start();this.context.resetProgressBar();U.prototype.start.call(this)},onTutorialComplete:function(){if(!G.playSoundWithFolder(this._soundConfig.start,m(this,this.onStartVOComplete)))this.onStartVOComplete()},stop:function(){g.get_signals().removeConnection(r.$MH.$oG.move,m(this,this.onSystemPointerMove));
g.get_signals().removeConnection(this._cursor.mixed,m(this,this.onMixed));U.prototype.stop.call(this)},onMixed:function(){this._mixCount++;this.context.progress.AddProgress(this._mixCount/this._mixNeeded);this.mixed.emit();this._timeout.reset();this.context.bowl.front.moviePlayer.play(this._spoonActionKey,!1);this._mixCount>=this._mixNeeded/2&&!1==this._almostVOPlayed&&(this._almostVOPlayed=!0,G.playSoundWithFolder(this._soundConfig.almost));this._mixCount>=this._mixNeeded&&this.mixingFinished()},
onStartVOComplete:function(a){this.canMix=!0;this._timeout.start()},onFinishedVOComplete:function(a){this.context.NextState();this.context.progress.position.set_visible(!1);this._timeout.stop()},onSystemPointerMove:function(){if(this.canMix){var a=g.get_resize().toScreenSpace(r.$MH.$oG.get_x(),r.$MH.$oG.get_y());this._cursor.move(a)}},mixingFinished:function(){this.canMix=!1;this._timeout.stop();if(!G.playSoundWithFolder(this._soundConfig.finished,m(this,this.onFinishedVOComplete)))this.onFinishedVOComplete()},
dispose:function(){U.prototype.dispose.call(this)},__class__:Ie});var Je=function(a,b){U.call(this,a,b);this._seenCutscene=J.get_instance().getCutscene(s.CUTSCENE4)};f["nazboo.scenes.minigames.mixing.states.OvenState"]=Je;Je.__name__="nazboo scenes minigames mixing states OvenState".split(" ");Je.__super__=U;Je.prototype=p(U.prototype,{onAdded:function(){U.prototype.onAdded.call(this);var a=k.getAssert([this.config,"cutscene"],"[mixing.OvenState] Cannot find cutscene config.");this._cutscene=new ic(a);
this.owner.addChild((new q).add(this._cutscene));this._seenCutscene&&(this._btnSkip=g.get_factory().makeLocalizedButton("skipButton","BTN_SKIP"),this.owner.addChild((new q).add(this._btnSkip)),g.get_signals().addConnection(this._btnSkip.up,m(this,this.onBtnSkipUp),!0))},start:function(){U.prototype.start.call(this);g.get_signals().addConnection(this._cutscene.complete,(W=this.context,m(W,W.NextState)),!0);this._cutscene.play()},stop:function(){},onBtnSkipUp:function(a){a=k.get([this.config,"variables",
"name"]);null!=a?B.get_instance().makeRequest("POST",B.formatUIInteractionEventData(J.get_instance().id,s.UI_BTN_SKIP,a)):null;this._cutscene.skip()},__class__:Je});var Me=function(a,b){C.call(this,a,b)};f["nazboo.scenes.minigames.mixing.tutorials.CombiningTutorial1"]=Me;Me.__name__="nazboo scenes minigames mixing tutorials CombiningTutorial1".split(" ");Me.__super__=C;Me.prototype=p(C.prototype,{onAdded:function(){C.prototype.onAdded.call(this)},start:function(){C.prototype.start.call(this);G.playSoundWithFolder(this.config.sounds.vo,
m(this,this.voComplete))||this.end()},voComplete:function(a){this._isDisposed||this.end()},__class__:Me});var Ne=function(a,b){C.call(this,a,b);this._state=b};f["nazboo.scenes.minigames.mixing.tutorials.CombiningTutorial2"]=Ne;Ne.__name__="nazboo scenes minigames mixing tutorials CombiningTutorial2".split(" ");Ne.__super__=C;Ne.prototype=p(C.prototype,{onAdded:function(){C.prototype.onAdded.call(this)},start:function(){C.prototype.start.call(this);this._timeout=new ya(k.get([this.config,"sounds",
"timeout"]),10);this.owner.addChild((new q).add(this._timeout));G.playSoundWithFolder(this.config.sounds.vo,m(this,this.voComplete))||this.voComplete();var a=k.get([this.config,"movie"]);this._tutorialMovie=new yb(a);this.owner.addChild((new q).add(this._tutorialMovie));this._tutorialMovie.playEnter();g.get_signals().addConnection(this._tutorialMovie.enterComplete,(W=this._tutorialMovie,m(W,W.playIdle)),!0);this._state.canSelectItem=!0;for(var a=0,b=this._state.context.mixingItems;a<b.length;){var c=
b[a];++a;c.toggleEnabled(!0)}g.get_signals().addConnection(this._state.itemPlaced,m(this,this.itemPlaced),!0);g.get_signals().addConnection(this._state.itemPickedUp,m(this,this.itemPickedUp));g.get_signals().addConnection(this._state.itemReturned,m(this,this.itemReturned))},voComplete:function(a){this._isDisposed||this._timeout.start()},itemPlaced:function(){this._isDisposed||(g.get_signals().removeConnection(this._tutorialMovie.enterComplete,(W=this._tutorialMovie,m(W,W.playIdle))),g.get_signals().addConnection(this._tutorialMovie.exitComplete,
m(this,this.exitComplete),!0),this._tutorialMovie.playExit(),this._timeout.stop())},itemPickedUp:function(){this._timeout.stop()},itemReturned:function(){this._timeout.start()},exitComplete:function(){this.end()},dispose:function(){null!=this._state&&(g.get_signals().removeConnection(this._state.itemPlaced,m(this,this.itemPlaced)),g.get_signals().removeConnection(this._state.itemPickedUp,m(this,this.itemPickedUp)),g.get_signals().removeConnection(this._state.itemReturned,m(this,this.itemReturned)));
null!=this._tutorialMovie&&(g.get_signals().removeConnection(this._tutorialMovie.enterComplete,(W=this._tutorialMovie,m(W,W.playIdle))),g.get_signals().removeConnection(this._tutorialMovie.exitComplete,m(this,this.exitComplete)));C.prototype.dispose.call(this)},__class__:Ne});var Oe=function(a,b){C.call(this,a,b)};f["nazboo.scenes.minigames.mixing.tutorials.CombiningTutorial3"]=Oe;Oe.__name__="nazboo scenes minigames mixing tutorials CombiningTutorial3".split(" ");Oe.__super__=C;Oe.prototype=p(C.prototype,
{onAdded:function(){C.prototype.onAdded.call(this)},start:function(){C.prototype.start.call(this);G.playSoundWithFolder(this.config.sounds.vo,m(this,this.voComplete))||this.voComplete()},voComplete:function(a){this.end()},end:function(){J.get_instance().setTutorial(s.MIXING_COMBINING,!0);C.prototype.end.call(this)},__class__:Oe});var Pe=function(a,b){C.call(this,a,b);this._state=b};f["nazboo.scenes.minigames.mixing.tutorials.MixingTutorial1"]=Pe;Pe.__name__="nazboo scenes minigames mixing tutorials MixingTutorial1".split(" ");
Pe.__super__=C;Pe.prototype=p(C.prototype,{onAdded:function(){C.prototype.onAdded.call(this)},start:function(){C.prototype.start.call(this);var a=k.get([this.config,"movie"]);this._tutorialMovie=new yb(a);this.owner.addChild((new q).add(this._tutorialMovie));this._timeout=new ya(k.get([this.config,"sounds","timeout"]),10);this.owner.addChild((new q).add(this._timeout));this._tutorialMovie.playEnter();g.get_signals().addConnection(this._tutorialMovie.enterComplete,(W=this._tutorialMovie,m(W,W.playIdle)),
!0);G.playSoundWithFolder(this.config.sounds.vo,m(this,this.voComplete))||this.voComplete()},voComplete:function(a){this._isDisposed||(this._state.canMix=!0,this._timeout.start(),g.get_signals().addConnection(this._state.mixed,m(this,this.actionComplete),!0))},actionComplete:function(){this._isDisposed||(g.get_signals().addConnection(this._tutorialMovie.exitComplete,m(this,this.exitComplete),!0),this._tutorialMovie.playExit());this._timeout.stop()},exitComplete:function(){this.end()},__class__:Pe});
var Qe=function(a,b){C.call(this,a,b)};f["nazboo.scenes.minigames.mixing.tutorials.MixingTutorial2"]=Qe;Qe.__name__="nazboo scenes minigames mixing tutorials MixingTutorial2".split(" ");Qe.__super__=C;Qe.prototype=p(C.prototype,{onAdded:function(){C.prototype.onAdded.call(this)},start:function(){C.prototype.start.call(this);G.playSoundWithFolder(this.config.sounds.vo,m(this,this.voComplete))||this.end()},voComplete:function(a){this.end()},end:function(){J.get_instance().setTutorial(s.MIXING_MIXING,
!0);C.prototype.end.call(this)},__class__:Qe});var Re=function(a){ba.call(this,a);J.get_instance().missionData.clear()};f["nazboo.scenes.minigames.platformer.PlatformerScene"]=Re;Re.__name__=["nazboo","scenes","minigames","platformer","PlatformerScene"];Re.__super__=Z;Re.prototype=p(Z.prototype,{enterScene:function(){Z.prototype.enterScene.call(this);H.init(this.owner,this.configAssets);var a=k.getElse([this.configVariables,"sceneBounds","x"],0),b=k.getElse([this.configVariables,"sceneBounds","y"],
0),c=k.getElse([this.configVariables,"sceneBounds","width"],g.get_config().target.x),d=k.getElse([this.configVariables,"sceneBounds","height"],g.get_config().target.y);H.sceneGraph.setBounds(a,b,c,d);H.sceneGraph.clampCamera=!0;H.camera.setViewRect(g.get_config().target.x,g.get_config().target.y);a=k.getAssert([this.configAssets,"player"],"[PlatformerScene] Cannot find player config.");this._player=new Se(a);g.get_signals().addConnection(this._player.halted,m(this,this.onPlayerHalted));g.get_signals().addConnection(this._player.landed,
m(this,this.onPlayerLand));this.maingroundEntity.addChild((new q).add(this._player));a=k.getAssert([this.configAssets,"level"],"[PlatformerScene] Cannot find level config.");this._level=new Te(a,this._player);this._level.effectLayer=this.foregroundEntity;g.get_signals().addConnection(this._level.checkpointReached,m(this,this.onCheckpointReached));g.get_signals().addConnection(this._level.finalCheckpointSpawned,m(this,this.onFinalCheckpointSpawn));g.get_signals().addConnection(this._level.levelFinished,
m(this,this.onLevelFinished));this.backgroundEntity.addChild((new q).add(this._level));this._cameraSpeed=k.getElse([this.configVariables,"cameraLerp"],0);H.camera.setFollowLerpSpeed(this._cameraSpeed);a=k.getElse([this.configVariables,"followOffset","x"],0);b=k.getElse([this.configVariables,"followOffset","y"],0);H.camera.setFollowOffset(a,b);a=k.getAssert([this.configAssets,"levelEnd"],"[PlatformerScene] Cannot find levelEnd config.");this._levelEnd=new Ue(a);g.get_signals().addConnection(this._levelEnd.exitComplete,
m(this,this.onLevelEndExitComplete));this._levelEnd.owner=(new q).add(this._levelEnd);a=this._level.getPlayerStartLocation();this._player.positionAtStartingLocation(a);H.camera.setFollowTarget(this._player,new qa(55,250,860,250));H.camera.transform.setXY(this._player.transform.x.$HH-0.5*H.camera.viewRect.width,this._player.transform.y.$HH-0.5*H.camera.viewRect.height);this._tutorial=g.get_factory().makeTutorial(s.PLATFORMER,k.get([this.configAssets,"tutorial"]),this._player,J.get_instance().getTutorial(s.PLATFORMER));
g.get_signals().addConnection(this._tutorial.skipped,function(){B.get_instance().makeRequest("POST",B.formatUIInteractionEventData(J.get_instance().id,s.UI_BTN_SKIP,s.PLATFORMER_TUTORIAL_NAME))},!0);this.uiEntity.addChild((new q).add(this._tutorial));a=k.getAssert([this.configAssets,"HUD"],"[PlatformerScene] Cannot find HUD config.");this._hud=new Kb(a);this.uiEntity.addChild((new q).add(this._hud))},startScene:function(){Z.prototype.startScene.call(this);var a=k.get([this.configAssets,"sounds","intro"]);
G.playSoundWithFolder(a,m(this,this.introVOComplete))||this.introVOComplete()},exitScene:function(){Z.prototype.exitScene.call(this);B.get_instance().makeRequest("POST",B.formatMissionSummaryEventData(J.get_instance().id,s.PLATFORMER_NAME,J.get_instance().missionData));H.dispose()},introVOComplete:function(a){var b=this;g.get_signals().addConnection(this._tutorial.complete,function(){b._player.input.toggle(!0);b._player.isHalted=!1;b._player.timeout.start()},!0);this._tutorial.start()},onCheckpointReached:function(){this._player.stopBoost();
H.camera.lerpSpeed.animateTo(this._cameraSpeed,0.2)},onFinalCheckpointSpawn:function(a){a.attachLevelEnd(this._levelEnd);this._player.timeout.stop()},onLevelFinished:function(){this._player.halt();this._player.goIdle()},onPlayerHalted:function(){if(!G.playSoundWithFolder(k.get([this.configAssets,"sounds","outro"]),m(this,this.onOutroVOComplete)))this.onOutroVOComplete()},onOutroVOComplete:function(a){this._levelEnd.playExit();this._player.playExit()},onPlayerLand:function(a,b){this._level.spawnJumpEffect(a,
b)},onLevelEndExitComplete:function(){this.exitScene()},__class__:Re});var Ve=function(a){y.call(this);this._player=a;this._platforms=[];this._jumpForce=this._gravity=0};f["nazboo.scenes.minigames.platformer.components.collision.PlayerCollisionHandler"]=Ve;Ve.__name__="nazboo scenes minigames platformer components collision PlayerCollisionHandler".split(" ");Ve.__super__=y;Ve.prototype=p(y.prototype,{get_entitySlot:function(){return 16},dispose:function(){this._player=null;y.prototype.dispose.call(this)},
applyVelocity:function(){var a=new A(this._player.velocity.x*this._player.movementSpeed,this._gravity+this._jumpForce);this._gravity+=this._player.gravityAcceleration;this._jumpForce*=this._player.jumpDecay;this._player.isBoosting&&(a.y=-10,this._gravity=-4.5);if(0<this._platforms.length)for(var b=0,c=this._platforms.length;b<c;){var d=b++,e=this.getRect(this._platforms[d]),f=this.getRect(this._player),g=this._player.aabbIntersection(e,f,a);if(null!=g&&g.normal.equals(Ia.get_up())&&f.get_bottom()<
e.get_centerY()){var k=e.get_centerY(),k=k+0.5*g.normal.y*e.height,k=k+0.5*g.normal.y*f.height,k=k-this._player.aabb.sprite.y.$HH;this._player.transform.y.set__(k);a.y=this._gravity=0;this._jumpForce=this._player.jumpForce;this._platforms[d].isLast?(this._player.input.toggle(!1),this._player.owner.addChild(oa.tween(this._player.transform.x,this._platforms[d].transform.x.$HH,0.5))):this._platforms[d].isTutorialTarget?this._player.tutorialPlatformHit.emit():this._platforms[d].isFinalCheckpoint&&(this._player.halt(),
a.x=0,this._player.forceFaceRight());this._platforms[d].landedOn();this._player.onLanding(this._platforms[d]);J.get_instance().missionData.increment(s.JUMPS_TAKEN)}}b=this._player.transform.x;b.set__(b.$HH+a.x);b=this._player.transform.y;b.set__(b.$HH+a.y);a=H.sceneGraph.bounds.x+0.5*this._player.aabb.sprite.getNaturalWidth();b=H.sceneGraph.bounds.get_right()-0.5*this._player.aabb.sprite.getNaturalWidth();this._player.transform.x.set__(aa.clamp(this._player.transform.x.$HH,a,b));this._player.velocity.x*=
this._player.movementDecay},addPlatform:function(a){-1==this._platforms.indexOf(a)&&this._platforms.push(a)},removePlatform:function(a){a=this._platforms.indexOf(a);0<=a&&this._platforms.splice(a,1)},getRect:function(a){return new qa(a.transform.x.$HH-0.5*a.aabb.sprite.getNaturalWidth()+a.aabb.sprite.x.$HH,a.transform.y.$HH-0.5*a.aabb.sprite.getNaturalHeight()+a.aabb.sprite.y.$HH,a.aabb.sprite.getNaturalWidth(),a.aabb.sprite.getNaturalHeight())},__class__:Ve});var We=function(){};f["nazboo.scenes.minigames.platformer.components.input.IInput"]=
We;We.__name__="nazboo scenes minigames platformer components input IInput".split(" ");We.prototype={__class__:We};var Fc=function(a,b){Ca.call(this);this._player=a;this._mobile=new ac(this._player,b);this._allowInput=!0};f["nazboo.scenes.minigames.platformer.components.input.DesktopInput"]=Fc;Fc.__name__="nazboo scenes minigames platformer components input DesktopInput".split(" ");Fc.__interfaces__=[We];Fc.__super__=Ca;Fc.prototype=p(Ca.prototype,{dispose:function(){this._player=null;Ca.prototype.dispose.call(this)},
onAdded:function(){Ca.prototype.onAdded.call(this);this.owner.addChild((new q).add(this._mobile))},onUpdate:function(a){Ca.prototype.onUpdate.call(this,a);if(this._allowInput){a=this.getOnPressed(e.Up);var b=this.getOnPressed(e.Down),c=this.getOnPressed(e.Left),d=this.getOnPressed(e.Right),f=this._player.velocity.x,g=this._player.velocity.y;a?g=-1:b&&(g=1);c?f=-1:d&&(f=1);0!=f&&this._player.move(f,g)}},toggle:function(a){this._allowInput=a;this._mobile.toggle(a)},__class__:Fc});var ac=function(a,
b){La.call(this);this._player=a;this._allowInput=!0;this._swipeLast=Ia.get_zero();this._swipeDelta=Ia.get_zero();this._swipeCurrent=Ia.get_zero()};f["nazboo.scenes.minigames.platformer.components.input.MobileInput"]=ac;ac.__name__="nazboo scenes minigames platformer components input MobileInput".split(" ");ac.__interfaces__=[We];ac.__super__=La;ac.prototype=p(La.prototype,{dispose:function(){this._player=null;La.prototype.dispose.call(this)},onUpdate:function(a){La.prototype.onUpdate.call(this,a);
this._swipeCurrent=g.get_resize().toScreenSpace(r.$MH.$oG.get_x(),r.$MH.$oG.get_y());this._allowInput&&r.$MH.$oG.isDown()&&(this._pointerDownLast||(this._swipeLast=this._swipeCurrent),this._swipeDelta.x=this._swipeCurrent.x-this._swipeLast.x,this._player.moveMobile(this._swipeDelta.x),this._swipeLast=this._swipeCurrent);this._pointerDownLast=r.$MH.$oG.isDown()},toggle:function(a){this._allowInput=a},__class__:ac});var Fg=function(){};f["nazboo.scenes.minigames.platformer.constants.PlatformerStrings"]=
Fg;Fg.__name__="nazboo scenes minigames platformer constants PlatformerStrings".split(" ");var Lb=function(a,b,c,d,e){this.map=a;this.width=b;this.height=c;this.tileWidth=d;this.tileHeight=e};f["nazboo.scenes.minigames.platformer.models.ChunkData"]=Lb;Lb.__name__="nazboo scenes minigames platformer models ChunkData".split(" ");Lb.prototype={dispose:function(){for(;0<this.map.length;)this.map[0].splice(0,this.map[0].length-1),this.map.splice(0,1);this.map=null},__class__:Lb};var qg=function(a){this.parseChunks(a)};
f["nazboo.scenes.minigames.platformer.models.LevelData"]=qg;qg.__name__="nazboo scenes minigames platformer models LevelData".split(" ");qg.prototype={dispose:function(){for(;0<this.checkpointChunks.length;)this.checkpointChunks.pop().dispose();for(this.checkpointChunks=null;0<this.levelChunks.length;)this.levelChunks.pop().dispose();for(this.levelChunks=null;0<this.endChunks.length;)this.endChunks.pop().dispose();this.endChunks=null},parseChunks:function(a){var b=k.getAssert([a,"assets","chunks"],
"[LevelData] Cannot find chunk layouts."),c=k.getAssert([a,"variables","checkpoints"],"[LevelData] Cannot find checkpoint list.").split(" "),d=k.getAssert([a,"variables","endChunk"],"[LevelData] Cannot find endChunk list.").split(" "),e=k.getAssert([a,"variables","startChunk"],"[LevelData] Cannot find startChunk list.").split(" "),f=k.getAssert([a,"variables","finalLevelChunk"],"[LevelData] Cannot find startChunk list.").split(" "),g=k.getElse([a,"variables","width"],1),m=k.getElse([a,"variables",
"height"],1),n=k.getElse([a,"variables","tileWidth"],1);a=k.getElse([a,"variables","tileHeight"],1);this.endChunks=[];this.startChunks=[];this.checkpointChunks=[];this.finalLevelChunks=[];this.levelChunks=[];for(var p=0,q=b.length;p<q;){var r=p++;0<=c.indexOf(null==r?"null":""+r)?this.checkpointChunks.push(new Lb(b[r],g,m,n,a)):0<=d.indexOf(null==r?"null":""+r)?this.endChunks.push(new Lb(b[r],g,m,n,a)):0<=e.indexOf(null==r?"null":""+r)?this.startChunks.push(new Lb(b[r],g,m,n,a)):0<=f.indexOf(null==
r?"null":""+r)?this.finalLevelChunks.push(new Lb(b[r],g,m,n,a)):this.levelChunks.push(new Lb(b[r],g,m,n,a))}},__class__:qg};var Xe=function(){u.call(this,null);this.transform=new w;this._platforms=[];this._checkpoints=[]};f["nazboo.scenes.minigames.platformer.objects.Chunk"]=Xe;Xe.__name__="nazboo scenes minigames platformer objects Chunk".split(" ");Xe.__super__=u;Xe.prototype=p(u.prototype,{onAdded:function(){u.prototype.onAdded.call(this);this.owner.addChild((new q).add(this.transform));this._platformPool=
new Ab(m(this,this.createPlatform),m(this,this.disposePlatform));this.owner.addChild((new q).add(this._platformPool));this._checkpointPool=new Ab(m(this,this.createCheckpoint),m(this,this.disposeCheckpoint));this.owner.addChild((new q).add(this._checkpointPool))},dispose:function(){this.cleanChunk();this._checkpoints=this._platforms=null;u.prototype.dispose.call(this)},buildLayout:function(a){for(var b=0,c=a.height;b<c;)for(var d=b++,e=0,f=a.width;e<f;){var g=e++,m=a.map[d][g].split("-");switch(m[0]){case "p":var g=
g*a.tileWidth+0.5*a.tileWidth+this.transform.x.$HH,n=d*a.tileHeight+0.5*a.tileHeight+this.transform.y.$HH,p=this._platformPool.take();p.transform.setXY(g,n);p.resetPlatform();p.assetPlatform(D.parseInt(k.getElse([m,1],2)));H.sceneGraph.forceUpdateOn(p);this.owner.addChild(p.owner);this._platforms.push(p);break;case "c":m=H.sceneGraph.bounds.get_centerX(),g=d*a.tileHeight+0.5*a.tileHeight+this.transform.y.$HH,n=this._checkpointPool.take(),n.transform.setXY(m,g),n.resetCheckPoint(),H.sceneGraph.forceUpdateOn(n),
this.owner.addChild(n.owner,!1),this._checkpoints.push(n)}}this._platforms.sort(function(a,b){var c=aa.sign(b.transform.y.$HH-a.transform.y.$HH);0==c&&(Math.random(),c=1);return c})},getCheckpointTop:function(){return new A(0==this._checkpoints.length?0:this._checkpoints[0].transform.x.$HH,0==this._checkpoints.length?0:this._checkpoints[0].transform.y.$HH-0.5*this._checkpoints[0].aabb.sprite.getNaturalHeight())},setAsStart:function(){this._checkpoints[0].setAsStartCheckpoint();this._platforms[1].isTutorialTarget=
!0},setAsEnd:function(){this._checkpoints[0].setAsEndCheckpoint()},setAsLastLevel:function(){this._platforms[this._platforms.length-1].isLast=!0},cleanChunk:function(){for(;0<this._platforms.length;)this._platforms[0].kill(),this.owner.removeChild(this._platforms[0].owner),this._platformPool.put(this._platforms.shift());for(;0<this._checkpoints.length;)this._checkpoints[0].kill(),this.owner.removeChild(this._checkpoints[0].owner),this._checkpointPool.put(this._checkpoints.shift())},createPlatform:function(){var a=
H.factory.createPlatform();a.owner=(new q).add(a);return a},disposePlatform:function(a){a.owner.dispose()},attachLevelEnd:function(a){Ta.fromArray(this._checkpoints).owner.addChild(a.owner)},getTop:function(){return this.getPlatform(this._platforms.length-1)},getBottom:function(){return this.getPlatform(0)},createCheckpoint:function(){var a=H.factory.createCheckpoint();a.owner=(new q).add(a);return a},getPlatform:function(a){return 0<=a&&a<this._platforms.length?this._platforms[a]:null},disposeCheckpoint:function(a){a.owner.dispose()},
__class__:Xe});var Kb=function(a){u.call(this,a)};f["nazboo.scenes.minigames.platformer.objects.HUD"]=Kb;Kb.__name__="nazboo scenes minigames platformer objects HUD".split(" ");Kb.__super__=u;Kb.prototype=p(u.prototype,{onAdded:function(){u.prototype.onAdded.call(this);var a=k.getAssert([this.config,"backing","display","primary"],"[HUD] Cannot find backing primary display key");this._backing=g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,a,!1);this.owner.addChild(this._backing.entity);
this._backing.sprite.setXY(k.getElse([this.config,"backing","transform","position","x"],0),k.getElse([this.config,"backing","transform","position","y"],0));a=k.getAssert([this.config,"icons"],"[HUD] Cannot find icon list.");this._icons=[];for(var b=0,c=a.length;b<c;){var d=b++,d=new Ye(a[d]);this.owner.addChild((new q).add(d));this._icons.push(d)}g.get_signals().addConnection(Kb.fillIcon,m(this,this.onFillIcon))},onFillIcon:function(a){0<=a&&a<this._icons.length&&(G.playSoundWithFolder(k.get([this.config,
"sounds","iconSFX"])),this._icons[a].fill())},__class__:Kb});var Ye=function(a){u.call(this,a)};f["nazboo.scenes.minigames.platformer.objects.HUDIcon"]=Ye;Ye.__name__="nazboo scenes minigames platformer objects HUDIcon".split(" ");Ye.__super__=u;Ye.prototype=p(u.prototype,{onAdded:function(){u.prototype.onAdded.call(this);var a=k.getAssert([this.config,"display","empty"],"[HUDIcon] Cannot find empty key.");this.display=g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,a,!1);this.owner.addChild(this.get_display().entity);
a=k.getAssert([this.config,"display","frame"],"[HUDIcon] Cannot find frame key.");this.owner.addChild(g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,a,!1).entity);a=new w;this.owner.add(a);a.setXY(k.getElse([this.config,"transform","position","x"],0),k.getElse([this.config,"transform","position","y"],0))},fill:function(){this.get_display().moviePlayer.playOnce(k.getAssert([this.config,"display","primary"],"[HUDIcon] Cannot find primary key."))},__class__:Ye});var Ze=function(a){ha.call(this,
a);this.complete=new L;H.sceneGraph.add(this)};f["nazboo.scenes.minigames.platformer.objects.JumpEffect"]=Ze;Ze.__name__="nazboo scenes minigames platformer objects JumpEffect".split(" ");Ze.__super__=ha;Ze.prototype=p(ha.prototype,{onAdded:function(){ha.prototype.onAdded.call(this);this.displayKey=k.getAssert([this.config,"display","primary"],"[JumpEffect] Cannot find primary display key.");this.display=g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,this.displayKey);this.owner.addChild(this.get_display().entity)},
dispose:function(){this.complete=null;H.sceneGraph.remove(this);ha.prototype.dispose.call(this)},animationComplete:function(){this.complete.emit(this)},play:function(){this.get_display().moviePlayer.playOnce(this.displayKey);g.get_signals().addConnection(this.get_display().moviePlayer.completeSignal,m(this,this.animationComplete))},kill:function(){H.sceneGraph.remove(this)},__class__:Ze});var Te=function(a,b){this._checkpointPos=-Infinity;u.call(this,a);this._player=b;var c=JSON.parse(g.get_assets().currentAssetPackVO.assetPack.getFile("levelData.json").toString());
this._data=new qg(c);this._segmentCount=k.getElse([a,"variables","segment"],0);this.levelFinished=new Q;this.checkpointReached=new Q;this.finalCheckpointSpawned=new L;this._chunkBetweenMin=k.getElse([a,"variables","chunksBetweenPickups","min"],0);this._chunkBetweenMax=k.getElse([a,"variables","chunksBetweenPickups","max"],2);this._chunkBetweenReq=Ta["int"](this._chunkBetweenMin,this._chunkBetweenMax);this._doublePickupChance=k.getElse([a,"variables","doublePickupChance"],27);this._pickupPool=new Ab(m(this,
this.createPickup),m(this,this.disposePickup));this._activePickups=[];this._pickupConfigs=[];for(var c=k.getElse([a,"pickups"],[]),d=0,e=c.length;d<e;){var f=d++;this._pickupConfigs.push(c[f])}this._pickupTotal=this._pickupConfigs.length;this._collectCount=0;this._lastCameraPosition=null};f["nazboo.scenes.minigames.platformer.objects.Level"]=Te;Te.__name__="nazboo scenes minigames platformer objects Level".split(" ");Te.__super__=u;Te.prototype=p(u.prototype,{onAdded:function(){u.prototype.onAdded.call(this);
var a=k.getAssert([this.config,"parallax"],"[Level] Cannot find parallax config.");this._background=new kb(a);this.owner.addChild((new q).add(this._background));this._chunkLayer=new q;this.owner.addChild(this._chunkLayer);this._pickupLayer=new q;this.owner.addChild(this._pickupLayer);this._chunkPool=new Ab(m(this,this.createChunk),m(this,this.disposeChunk));this.owner.add(this._chunkPool);this._chunks=[];this._chunks.push(this._chunkPool.take());a=Ta.fromArray(this._data.startChunks);this._chunks[0].transform.setXY(0.5*
(H.sceneGraph.bounds.width-a.width*a.tileWidth),0);this._chunks[0].buildLayout(a);this._chunks[0].setAsStart();this.owner.addChild(this._chunks[0].owner);this._currentSegments=this._chunks.length;this._activeEffects=[];this._effectPool=new Ab(m(this,this.createJumpEffect),m(this,this.disposeJumpEffect));this.owner.addChild((new q).add(this._effectPool));this._chunkBetweenCount=0},dispose:function(){this._data.dispose();this.effectLayer=this.finalCheckpointSpawned=this.checkpointReached=this.levelFinished=
null;u.prototype.dispose.call(this)},onUpdate:function(a){u.prototype.onUpdate.call(this,a);this.updateChunks();this.updateBackground()},getPlayerStartLocation:function(){return this._chunks[0].getCheckpointTop()},createJumpEffect:function(){var a=H.factory.createJumpEffect();a.owner=(new q).add(a);return a},spawnJumpEffect:function(a,b){var c=this._effectPool.take();this.effectLayer.addChild(c.owner);c.transform.setXY(a,b);H.sceneGraph.add(c);H.sceneGraph.forceUpdateOn(c);c.play();g.get_signals().addConnection(c.complete,
m(this,this.finishJumpEffect),!0);this._activeEffects.push(c)},finishJumpEffect:function(a){a.kill();this.effectLayer.removeChild(a.owner);F.remove(this._activeEffects,a)},disposeJumpEffect:function(a){a.owner.dispose()},updateChunks:function(){if(!this._isEnd){for(var a=0,b=this._activePickups;a<b.length;){var c=b[a];++a;c.shouldDespawn&&c.transform.y.$HH-40>H.camera.viewRect.get_bottom()&&this.despawnPickup(c)}a=this._chunks[this._chunks.length-1].transform.y.$HH+0.5*g.get_config().target.y;H.camera.transform.y.$HH<=
a&&(b=null,c=!1,this._currentSegments>=this._segmentCount?(this._currentSegments=1,this._collectedAll?(b=Ta.fromArray(this._data.endChunks),this._isEnd=c=!0):(b=Ta.fromArray(this._data.checkpointChunks),c=!0)):(this._currentSegments++,b=Ta.fromArray(this._data.levelChunks),0<this._pickupConfigs.length&&this._chunkBetweenCount++),a=this._chunkPool.take(),this._chunkLayer.addChild(a.owner),a.transform.setXY(this._chunks[this._chunks.length-1].transform.x.$HH,this._chunks[this._chunks.length-1].transform.y.$HH-
g.get_config().target.y),a.buildLayout(b),this._isEnd&&(a.setAsEnd(),a.setAsLastLevel()),this._chunks.push(a),c&&(this._checkpointPos=a.getCheckpointTop().y,this._collectedAll&&this.finalCheckpointSpawned.emit(a)),this._chunkBetweenCount>=this._chunkBetweenReq&&0<this._pickupConfigs.length&&(b=a.getTop(),this.spawnPickup(b),0<this._pickupConfigs.length&&Math.floor(101*Math.random())<=this._doublePickupChance&&(a=a.getBottom(),this.spawnPickup(a)),this._chunkBetweenCount=0,this._chunkBetweenReq=Ta["int"](this._chunkBetweenMin,
this._chunkBetweenMax)),H.sceneGraph.bounds.y-=g.get_config().target.y,H.sceneGraph.bounds.height+=g.get_config().target.y);if(this._player.transform.y.$HH<=this._checkpointPos){a=0;for(b=this._activePickups;a<b.length;)c=b[a],++a,c.transform.y.$HH>this._checkpointPos&&(G.playSoundWithFolder(k.get([this.config,"sounds","missed"])),c.shouldDespawn=!0);this._checkpointPos=-Infinity;this.checkpointReached.emit();this._collectedAll?this.levelFinished.emit():this._collectCount>=this._pickupTotal&&(this._collectedAll=
!0)}for(var b=H.camera.transform.y.$HH+g.get_config().target.y*(this._segmentCount+1),a=[],c=0,d=this._chunks.length;c<d;){var e=c++;this._chunks[e].transform.y.$HH>=b&&a.push(e)}if(0<a.length)for(b=0,c=a.length;b<c;)d=b++,d=a[d],this._chunks[d].cleanChunk(),this._chunkPool.put(this._chunks[d]),F.remove(this._chunks,this._chunks[d]),this._chunkLayer.removeChild(this._chunks[d].owner)}},spawnPickup:function(a){var b=this._pickupPool.take();b.reset(this._pickupConfigs.shift(),a.type);this._activePickups.push(b);
var c=a.transform.y.$HH,c=c-0.5*a.aabb.sprite.getNaturalHeight(),c=c-0.5*b.collider.sprite.getNaturalHeight();b.spawn(a.transform.x.$HH,c);this._pickupLayer.addChild(b.owner);b.toggleVisble(!0)},despawnPickup:function(a){a.isCollected||(a.toggleVisble(!1),a.collider.SetActive(!1),this._pickupLayer.removeChild(a.owner),F.remove(this._activePickups,a),this._pickupConfigs.push(a.config),this._pickupPool.put(a))},createPickup:function(){var a=new $e;a.owner=(new q).add(a);g.get_signals().addConnection(a.onCollectStart,
m(this,this.onPickupCollectStart));g.get_signals().addConnection(a.onCollectFinish,m(this,this.onPickupCollectFinished));return a},onPickupCollectFinished:function(a){a.toggleVisble(!1);this._pickupLayer.removeChild(a.owner);F.remove(this._activePickups,a);this._pickupPool.put(a)},onPickupCollectStart:function(a){this._collectCount++;F.remove(this._activePickups,a);G.playSoundWithFolder(a.collectVO,m(this,this.collectVOComplete))||this.collectVOComplete()},collectVOComplete:function(a){this._collectCount==
this._pickupTotal&&G.playSoundWithFolder(k.get([this.config,"sounds","collectAll"]))},disposePickup:function(a){this.owner.removeChild(a.owner);a.owner.dispose();g.get_signals().removeConnection(a.onCollectStart,m(this,this.onPickupCollectStart));g.get_signals().removeConnection(a.onCollectFinish,m(this,this.onPickupCollectFinished))},updateBackground:function(){if(null==this._lastCameraPosition)this._lastCameraPosition=new A(H.camera.transform.x.$HH,H.camera.transform.y.$HH);else{var a=0.01*Math.round(100*
(this._lastCameraPosition.x-H.camera.transform.x.$HH)),b=0.01*Math.round(100*(this._lastCameraPosition.y-H.camera.transform.y.$HH));this._background.updateParallax(a,b);this._lastCameraPosition.set(H.camera.transform.x.$HH,H.camera.transform.y.$HH)}},createChunk:function(){var a=new Xe;a.owner=(new q).add(a);return a},disposeChunk:function(a){a.owner.dispose()},__class__:Te});var Ue=function(a){u.call(this,a);this.exitComplete=new Q};f["nazboo.scenes.minigames.platformer.objects.LevelEnd"]=Ue;Ue.__name__=
"nazboo scenes minigames platformer objects LevelEnd".split(" ");Ue.__super__=u;Ue.prototype=p(u.prototype,{onAdded:function(){u.prototype.onAdded.call(this);this.transform=new w;this.owner.add(this.transform);this.transform.setXY(k.getElse([this.config,"transform","position","x"],0),k.getElse([this.config,"transform","position","y"],0));this._idleKey=k.getAssert([this.config,"display","idle"],"[LevelComplete] missing display");this._exitKey=k.getAssert([this.config,"display","exit"],"[LevelComplete] missing display");
this._effectKey=k.getAssert([this.config,"display","effect"],"[LevelComplete] missing display");this.effectDisplay=g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,this._effectKey,!0,!0);this.effectDisplay.sprite.set_visible(!1);this.effectDisplay.sprite.setXY(k.getElse([this.config,"transform","effectOffset","x"],0),k.getElse([this.config,"transform","effectOffset","y"],0));this.owner.addChild(this.effectDisplay.entity);this.display=g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,
this._idleKey,!0,!0);this.owner.addChild(this.get_display().entity)},playExit:function(){this.effectDisplay.moviePlayer.playOnce(this._effectKey,!1);this.effectDisplay.sprite.set_visible(!0);this.owner.addChild(oa.delay(0.8,m(this,this.startExitVo)));this.owner.addChild(oa.delay(1,m(this,this.startExitanimation)))},startExitVo:function(){G.playSoundWithFolder(k.get([this.config,"sounds","exitVO"]))},startExitanimation:function(){g.get_signals().addConnection(this.get_display().moviePlayer.completeSignal,
m(this,this.onExitAnimationComplete),!0);this.get_display().moviePlayer.playOnce(this._exitKey,!1)},onExitAnimationComplete:function(){this.exitComplete.emit()},dispose:function(){this.exitComplete=null;u.prototype.dispose.call(this)},__class__:Ue});var kb=function(a){u.call(this,a);this.transform=new w;this._groups=[];this._scale=new A(k.getElse([a,"variables","scale","x"],0),k.getElse([a,"variables","scale","y"],0))};f["nazboo.scenes.minigames.platformer.objects.ParallaxBackground"]=kb;kb.__name__=
"nazboo scenes minigames platformer objects ParallaxBackground".split(" ");kb.__super__=u;kb.prototype=p(u.prototype,{onAdded:function(){u.prototype.onAdded.call(this);this.owner.add(this.transform);this.transform.setXY(g.get_config().center.x,g.get_config().center.y);this._groups.push(new bc(this.config));this._groups.push(new bc(this.config));this._groups.push(new bc(this.config));this._groups[1].transform.y.set__(-g.get_config().target.y);this._groups[2].transform.y.set__(2*-g.get_config().target.y);
this.owner.addChild((new q).add(this._groups[0]));this.owner.addChild((new q).add(this._groups[1]));this.owner.addChild((new q).add(this._groups[2]))},updateParallax:function(a,b){var c=this.transform.x;c.set__(c.$HH+a*this._scale.x);c=this.transform.y;c.set__(c.$HH+b*this._scale.y);kb.parallaxScroll.emit(a*this._scale.x,b*this._scale.y);for(var c=1.5*-g.get_config().target.y,d=2*g.get_config().target.y,e=0,f=this._groups.length;e<f;){var k=e++,m=this.transform.y.$HH+this._groups[k].transform.y.$HH;
m<c?this._groups[k].transform.y.set__(this._groups[(k+1)%this._groups.length].transform.y.$HH+g.get_config().target.y):m>d&&this._groups[k].transform.y.set__(this._groups[(k-1+this._groups.length)%this._groups.length].transform.y.$HH-g.get_config().target.y)}},__class__:kb});var bc=function(a){u.call(this,a);this.transform=new w};f["nazboo.scenes.minigames.platformer.objects.ParallaxGroup"]=bc;bc.__name__="nazboo scenes minigames platformer objects ParallaxGroup".split(" ");bc.__super__=u;bc.prototype=
p(u.prototype,{onAdded:function(){u.prototype.onAdded.call(this);this.owner.add(this.transform);var a=k.getAssert([this.config,"display","background"],"[ParallaxGroup] Cannot find background display key.");this._background=new da(Ga.getTexture(g.get_assets().currentAssetPackName,a));this._background.centerAnchor();this.owner.addChild((new q).add(this._background));a=k.getAssert([this.config,"display","overlay"],"[ParallaxGroup] Cannot find overlay display key.");this._overlay=g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,
a);this.owner.addChild(this._overlay.entity)},__class__:bc});var $e=function(){ha.call(this,null);this.onCollectStart=new L;this.onCollectFinish=new L};f["nazboo.scenes.minigames.platformer.objects.Pickup"]=$e;$e.__name__="nazboo scenes minigames platformer objects Pickup".split(" ");$e.__super__=ha;$e.prototype=p(ha.prototype,{onAdded:function(){ha.prototype.onAdded.call(this)},reset:function(a,b){this.config=a;this.isCollected=!1;this.collectVO=k.get([a,"sounds","collected"]);this.shouldDespawn=
!1;var c,d=0;switch(b){case 3:c="left";break;case 1:c="right";break;default:d=15,c=0.5>Math.random()?"left":"right"}null==this.collider&&this.addCollider();this.collider.SetActive(!0);this._idleKey=k.getAssert([a,"display",c,"primary"],"[Pickup] Cannot find primary display key.");this._collectedKey=k.getAssert([a,"display",c,"collected"],"[Pickup] Cannot find collected display key.");this._effect=k.getAssert([a,"display","effect"],"[Pickup] Cannot find effect display key.");this._jumpEffect=k.getAssert([a,
"display","jumpEffect"],"[Pickup] Cannot find effect display key.");null==this.get_display()?(this._fxDisplay=g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,this._effect,!0,!0),this.owner.addChild(this._fxDisplay.entity),this.display=g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,this._idleKey,!0,!0),this.owner.addChild(this.get_display().entity)):(this.get_display().moviePlayer.loop(this._idleKey),this._fxDisplay.moviePlayer.loop(this._effect));this.toggleVisble(!1);
this.get_display().sprite.setXY(0,0.5*this.collider.sprite.getNaturalHeight()+d)},addCollider:function(){var a=k.getElse([this.config,"transform","collider","offset","x"],0),b=k.getElse([this.config,"transform","collider","offset","y"],0),c=k.getElse([this.config,"transform","collider","size","x"],0),d=k.getElse([this.config,"transform","collider","size","y"],0),e=k.getElse([this.config,"transform","collider","type"],"default"),f=k.get([this.config,"transform","collider","target"]);this.collider=
new Ka(c,d,e,f,65280);this.collider.sprite.setXY(a,b);this.owner.addChild((new q).add(this.collider));g.get_signals().addConnection(this.collider.collisionEnter,m(this,this.onCollisionEnter))},onCollisionEnter:function(a){if(!this.isCollected&&(this.collider.SetActive(!1),this.isCollected=!0,this.onCollectStart.emit(this),this.collectAnimation(),this.collectSound(),!G.playSoundWithFolder(k.get([this.config,"sounds","sfx"]),m(this,this.onCollectSFXComplete))))this.onCollectSFXComplete()},onCollectSFXComplete:function(a){Kb.fillIcon.emit(k.getElse([this.config,
"variables","uiIndex"],-1))},collectFinished:function(){this.onCollectFinish.emit(this)},collectAnimation:function(){this.get_display().moviePlayer.playOnce(this._collectedKey);g.get_signals().addConnection(this.get_display().moviePlayer.completeSignal,m(this,this.collectFinished),!0);this._fxDisplay.moviePlayer.playOnce(this._jumpEffect);g.get_signals().addConnection(this._fxDisplay.moviePlayer.completeSignal,m(this,this.collectFXComplete),!0)},collectSound:function(){},collectFXComplete:function(){this._fxDisplay.sprite.set_visible(!1)},
spawn:function(a,b){this.transform.setXY(a,b);H.sceneGraph.add(this)},toggleVisble:function(a){this.get_display().sprite.set_visible(a);this._fxDisplay.sprite.set_visible(a)},dispose:function(){this.onCollectFinish=this.onCollectStart=null;g.get_signals().removeConnection(this.get_display().moviePlayer.completeSignal,m(this,this.collectFinished));g.get_signals().removeConnection(this._fxDisplay.moviePlayer.completeSignal,m(this,this.collectFXComplete));H.sceneGraph.remove(this);ha.prototype.dispose.call(this)},
__class__:$e});var ua=function(a){ha.call(this,a);this.objectType=k.get([a,"variables","objectType"]);H.sceneGraph.add(this)};f["nazboo.scenes.minigames.platformer.objects.PlatformerObject"]=ua;ua.__name__="nazboo scenes minigames platformer objects PlatformerObject".split(" ");ua.__super__=ha;ua.prototype=p(ha.prototype,{dispose:function(){H.sceneGraph.remove(this);ha.prototype.dispose.call(this)},aabbIntersection:function(a,b,c){return wg.segmentIntersect(a,new A(b.get_centerX(),b.get_centerY()),
c,0.5*b.width,0.5*b.height)},addCollider:function(){var a=k.getElse([this.config,"transform","collider","offset","x"],0),b=k.getElse([this.config,"transform","collider","offset","y"],0),c=k.getElse([this.config,"transform","collider","size","x"],0),d=k.getElse([this.config,"transform","collider","size","y"],0),e=k.getElse([this.config,"transform","collider","type"],"default"),f=k.get([this.config,"transform","collider","target"]);this.collider=new Ka(c,d,e,f,16711680);this.collider.sprite.setXY(a,
b);this.owner.addChild((new q).add(this.collider));g.get_signals().addConnection(this.collider.collisionEnter,m(this,this.onCollisionEnter));g.get_signals().addConnection(this.collider.collisionOngoing,m(this,this.onCollisionOnGoing));g.get_signals().addConnection(this.collider.collisionExit,m(this,this.onCollisionExit))},addAABB:function(){var a=k.getElse([this.config,"transform","aabb","offset","x"],0),b=k.getElse([this.config,"transform","aabb","offset","y"],0),c=k.getElse([this.config,"transform",
"aabb","size","x"],0),d=k.getElse([this.config,"transform","aabb","size","y"],0);this.aabb=new Ka(c,d,"noCollision",null,0);this.aabb.sprite.setXY(a,b);this.owner.addChild((new q).add(this.aabb))},onCollisionEnter:function(a){},onCollisionOnGoing:function(a){},onCollisionExit:function(a){},__class__:ua});var Gc=function(a){ua.call(this,a)};f["nazboo.scenes.minigames.platformer.objects.Platform"]=Gc;Gc.__name__="nazboo scenes minigames platformer objects Platform".split(" ");Gc.__super__=ua;Gc.prototype=
p(ua.prototype,{onAdded:function(){ua.prototype.onAdded.call(this);this.addCollider();this.addAABB()},dispose:function(){g.get_signals().removeConnection(kb.parallaxScroll,m(this,this.onParallaxScroll));ua.prototype.dispose.call(this)},resetPlatform:function(){this.assignDisplay(k.getAssert([this.config,"display","middle","idle"],"[Platform] Cannot find primary display key."));g.get_signals().removeConnection(kb.parallaxScroll,m(this,this.onParallaxScroll));H.sceneGraph.add(this)},resetCheckPoint:function(){this.assignDisplay(k.getAssert([this.config,
"display","primary"],"[Platform] Cannot find primary display key."));g.get_signals().removeConnection(kb.parallaxScroll,m(this,this.onParallaxScroll));H.sceneGraph.add(this)},kill:function(){H.sceneGraph.remove(this)},assetPlatform:function(a){this.type=a;switch(a){case 1:this.assignDisplay(k.getAssert([this.config,"display","left","idle"],"[Platform] Cannot find left display key."));break;case 2:this.assignDisplay(k.getAssert([this.config,"display","middle","idle"],"[Platform] Cannot find middle display key."));
break;case 3:this.assignDisplay(k.getAssert([this.config,"display","right","idle"],"[Platform] Cannot find right display key."))}},landedOn:function(){switch(this.type){case 2:G.playSoundWithFolder(k.get([this.config,"sounds","pillow"]));this.assignDisplay(k.getAssert([this.config,"display","middle","bounce"],"[Platform] Cannot find middle display key."));break;case 3:G.playSoundWithFolder(k.get([this.config,"sounds","pillow"]));this.assignDisplay(k.getAssert([this.config,"display","right","bounce"],
"[Platform] Cannot find right display key."));break;case 1:G.playSoundWithFolder(k.get([this.config,"sounds","platform"]));this.assignDisplay(k.getAssert([this.config,"display","left","bounce"],"[Platform] Cannot find left display key."));break;default:G.playSoundWithFolder(k.get([this.config,"sounds","platform"]))}},setAsStartCheckpoint:function(){this.assignDisplay(k.getAssert([this.config,"display","secondary"],"[Platform] Cannot find secondary display key."));g.get_signals().addConnection(kb.parallaxScroll,
m(this,this.onParallaxScroll));H.sceneGraph.forceUpdateOn(this);H.sceneGraph.remove(this)},setAsEndCheckpoint:function(){this.isFinalCheckpoint=!0;this.assignDisplay(k.getAssert([this.config,"display","topDeck"],"[Platform] Cannot find topDeck display key."))},onParallaxScroll:function(a,b){var c=this.screen.x;c.set__(c.$HH+a);c=this.screen.y;c.set__(c.$HH+b)},assignDisplay:function(a){null==this.get_display()?(this.display=g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,a,!0,
!0),this.owner.addChild(this.get_display().entity)):this.get_display().moviePlayer.playOnce(a)},__class__:Gc});var Se=function(a){this._fallCount=this._fallReq=0;this.isHalted=!1;ua.call(this,a);this._delta=new A(0,0);this.velocity=new Ia;this.tutorialPlatformHit=new Q;this.halted=new Q;this.landed=new mb;this._playFallVO=this._playUpVO=!0;this.movementSpeed=k.getElse([a,"variables","movementSpeed"],0);ia.isMobile()?this.movementDecay=k.getElse([a,"variables","MBL_movementDecay"],0):this.movementDecay=
k.getElse([a,"variables","DT_movementDecay"],0);this._exitKey=this.displayConfig=k.getAssert([a,"display","exit"],"[Player] Cannot find exit display config.");this.maxFallSpeed=k.getElse([a,"variables","maxFallSpeed"],0);this.gravityAcceleration=k.getElse([a,"variables","gravityAcceleration"],0);this.jumpForce=k.getElse([a,"variables","jumpForce"],0);this.jumpDecay=k.getElse([a,"variables","jumpDecay"],0);this.displayConfig=k.getAssert([a,"display","right"],"[Player] Cannot find left display config.");
this._fallReq=k.getElse([a,"variables","fallCount"],3)};f["nazboo.scenes.minigames.platformer.objects.Player"]=Se;Se.__name__="nazboo scenes minigames platformer objects Player".split(" ");Se.__super__=ua;Se.prototype=p(ua.prototype,{onAdded:function(){ua.prototype.onAdded.call(this);this.isHalted=!0;ia.isMobile()?this.input=new ac(this,10):this.input=new Fc(this,10);this.owner.add(this.input);this.collisionHelper=new Ve(this);this.owner.add(this.collisionHelper);this.display=g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,
this.displayConfig.idle);this.owner.addChild(this.get_display().entity);this.timeout=new ya(k.get([this.config,"sounds","timeout"]),k.getElse([this.config,"variables","timeoutLength"],15));this.owner.addChild((new q).add(this.timeout));this.addCollider();this.addAABB()},dispose:function(){this.landed=this.halted=null;ua.prototype.dispose.call(this)},onUpdate:function(a){ua.prototype.onUpdate.call(this,a);this.isHalted||this.collisionHelper.applyVelocity();this.updateDiplay();0.1<Math.abs(this.velocity.x)&&
this.timeout.reset()},onCollisionEnter:function(a){ua.prototype.onCollisionEnter.call(this,a);a=a.owner._internal_getFromParents(11,ua);if(null!=a)switch(a.objectType){case "platform":case "checkpoint":this.collisionHelper.addPlatform(a)}},onCollisionExit:function(a){ua.prototype.onCollisionExit.call(this,a);a=a.owner._internal_getFromParents(11,ua);if(null!=a)switch(a.objectType){case "platform":case "checkpoint":this.collisionHelper.removePlatform(a)}},positionAtStartingLocation:function(a){a.x=
H.sceneGraph.bounds.get_centerX();a.y-=0.5*this.aabb.sprite.getNaturalHeight()+this.aabb.sprite.y.$HH;this.transform.setXY(a.x,a.y)},onLanding:function(a){a.objectType==Fg.CHECKPOINT&&a.objectType!=this._lastCollistion&&this._fallCount++;this._fallCount>=this._fallReq&&(this._fallCount=0);this._lastCollistion=a.objectType;this._shouldHalt?(this.isHalted=!0,this.onHalted()):G.playSoundWithFolder(k.get([this.config,"sounds","jump"]));this._playFallVO=!0;this.landed.emit(this.transform.x.$HH,this.transform.y.$HH)},
move:function(a,b){this.isHalted?this.velocity.set(0,0):(this.velocity.set(a,0),0!=b&&this._playUpVO?(this._playUpVO=!1,G.playSoundWithFolder(k.get([this.config,"sounds","moveUp"]))):0==b&&(this._playUpVO=!0))},moveMobile:function(a){this.isHalted||(this.velocity.set(1/this.movementSpeed*a,0),this.timeout.reset())},goIdle:function(){this.get_display().moviePlayer.loop(this.displayConfig.idle)},stopBoost:function(){this.isBoosting=!1;this._fallCount=-1},halt:function(){this._shouldHalt=!0},onHalted:function(){this.get_display().moviePlayer.loop(this.displayConfig.idle,
!1);this.halted.emit()},playExit:function(){this.owner.addChild(oa.delay(1,m(this,this.playExitAnimation)))},playExitAnimation:function(){this.get_display().moviePlayer.play(this._exitKey,!1)},forceFaceRight:function(){this.displayConfig=this.config.display.right;this._displayChange=!0;this.checkDisplayChange()},updateDiplay:function(){if(null==this._lastPosition)this._lastPosition=new A(this.transform.x.$HH,this.transform.y.$HH);else{var a=this.transform.x.$HH-this._lastPosition.x,b=this.transform.y.$HH-
this._lastPosition.y;this._delta.set(a,b);this._lastPosition.set(this.transform.x.$HH,this.transform.y.$HH);0>a?(this.displayConfig=this.config.display.left,this._displayChange=!0):0<a&&(this.displayConfig=this.config.display.right,this._displayChange=!0);0>b?(this._state=2,this._state!=this._lastState&&this.get_display().moviePlayer.playOnce(this.displayConfig.takeoff),this._lastState=this._state):0<b&&(this._state=1,this._state!=this._lastState&&this.get_display().moviePlayer.playOnce(this.displayConfig.falling),
this._lastState=this._state,this._playFallVO&&(this._playFallVO=!1,Math.random()));this.checkDisplayChange()}},checkDisplayChange:function(){if(this._displayChange){var a=this.get_display().moviePlayer.movie.get__().get_position();switch(this._state){case 1:this.get_display().moviePlayer.playOnce(this.displayConfig.falling);break;case 2:this.get_display().moviePlayer.playOnce(this.displayConfig.takeoff)}this.get_display().moviePlayer.movie.get__().set_position(a);this._displayChange=!1}},__class__:Se});
var af=function(a,b){C.call(this,a,b);this._player=b};f["nazboo.scenes.minigames.platformer.tutorials.PlatformTutorial1"]=af;af.__name__="nazboo scenes minigames platformer tutorials PlatformTutorial1".split(" ");af.__super__=C;af.prototype=p(C.prototype,{start:function(){C.prototype.start.call(this);this._player.input.toggle(!1);if(!G.playSoundWithFolder(k.get([this.config,"sounds","vo"]),m(this,this.onTutorialVOComplete)))this.onTutorialVOComplete()},onTutorialVOComplete:function(a){g.get_sounds().stopAllChannelSounds("VO");
this.end()},__class__:af});var bf=function(a,b){C.call(this,a,b);this._player=b};f["nazboo.scenes.minigames.platformer.tutorials.PlatformTutorial2"]=bf;bf.__name__="nazboo scenes minigames platformer tutorials PlatformTutorial2".split(" ");bf.__super__=C;bf.prototype=p(C.prototype,{start:function(){C.prototype.start.call(this);this._player.isHalted=!1;if(!G.playSoundWithFolder(k.get([this.config,"sounds","vo"]),m(this,this.onTutorialVOComplete)))this.onTutorialVOComplete()},onTutorialVOComplete:function(a){g.get_sounds().stopAllChannelSounds("VO");
this.end()},__class__:bf});var cf=function(a,b){C.call(this,a,b);this._player=b};f["nazboo.scenes.minigames.platformer.tutorials.PlatformTutorial3"]=cf;cf.__name__="nazboo scenes minigames platformer tutorials PlatformTutorial3".split(" ");cf.__super__=C;cf.prototype=p(C.prototype,{onAdded:function(){C.prototype.onAdded.call(this);this._player.input.toggle(!0);g.get_signals().addConnection(this._player.tutorialPlatformHit,m(this,this.onTutorialPlatformHit),!0);this._timeout=new ya(k.get([this.config,
"sounds","vo"]),k.getElse([this.config,"variables","timeoutLength"],15));this.owner.addChild((new q).add(this._timeout));this._tutorialMovie=new yb(k.get([this.config,"movie"]));this.owner.addChild((new q).add(this._tutorialMovie))},start:function(){var a=this;C.prototype.start.call(this);g.get_signals().addConnection(this._tutorialMovie.enterComplete,function(){a._tutorialMovie.playIdle();if(!G.playSoundWithFolder(k.get([a.config,"sounds","vo"]),m(a,a.onTutorialVOComplete)))a.onTutorialVOComplete()},
!0);this._tutorialMovie.playEnter()},end:function(){g.get_sounds().stopAllChannelSounds("VO");C.prototype.end.call(this)},onTutorialPlatformHit:function(){var a=this;this._timeout.stop();g.get_signals().addConnection(this._tutorialMovie.exitComplete,function(){a.end()},!0);this._tutorialMovie.playExit()},onTutorialVOComplete:function(a){this._timeout.start()},dispose:function(){g.get_signals().removeConnection(this._player.tutorialPlatformHit,m(this,this.onTutorialPlatformHit));C.prototype.dispose.call(this)},
__class__:cf});var df=function(a,b){C.call(this,a,b)};f["nazboo.scenes.minigames.platformer.tutorials.PlatformTutorial4"]=df;df.__name__="nazboo scenes minigames platformer tutorials PlatformTutorial4".split(" ");df.__super__=C;df.prototype=p(C.prototype,{start:function(){C.prototype.start.call(this);if(!G.playSoundWithFolder(k.get([this.config,"sounds","vo"]),m(this,this.onTutorialVOComplete)))this.onTutorialVOComplete()},end:function(){g.get_sounds().stopAllChannelSounds("VO");J.get_instance().setTutorial(s.PLATFORMER,
!0);C.prototype.end.call(this)},onTutorialVOComplete:function(a){this.end()},__class__:df});var H=function(){};f["nazboo.scenes.minigames.platformer.utils.Platformer"]=H;H.__name__="nazboo scenes minigames platformer utils Platformer".split(" ");H.init=function(a,b){H.factory=new rg(b);a.add(H.camera=new dc);a.add(H.sceneGraph=new ec);a.add(H.collisionWorld=new P);H.sceneGraph.setCamera(H.camera)};H.dispose=function(){H.factory.dispose();H.camera=null;H.sceneGraph=null;H.collisionWorld=null};var rg=
function(a){this._platformConfig=k.getAssert([a,"platform"],"Cannot find platform config");this._checkpointConfig=k.getAssert([a,"checkpoint"],"Cannot find checkpoint config");this._jumpEffectConfig=k.getAssert([a,"jumpEffect"],"Cannot find jumpEffect config")};f["nazboo.scenes.minigames.platformer.utils.PlatformerFactory"]=rg;rg.__name__="nazboo scenes minigames platformer utils PlatformerFactory".split(" ");rg.prototype={dispose:function(){this._jumpEffectConfig=this._checkpointConfig=this._platformConfig=
null},createPlatform:function(){return new Gc(this._platformConfig)},createCheckpoint:function(){return new Gc(this._checkpointConfig)},createJumpEffect:function(){return new Ze(this._jumpEffectConfig)},__class__:rg};var ef=function(a){this._collectableCount=0;ba.call(this,a);J.get_instance().missionData.clear();this._sceneGraph=new ec;this._camera=new dc};f["nazboo.scenes.minigames.snake.SnakeScene"]=ef;ef.__name__=["nazboo","scenes","minigames","snake","SnakeScene"];ef.__super__=Z;ef.prototype=
p(Z.prototype,{enterScene:function(){Z.prototype.enterScene.call(this);this._collisionWorld=new P;this.owner.add(this._collisionWorld);this._gridWorld=new sg(this.configAssets.gridWorld);var a=this._gridWorld.getCurrentChunkPoint();this.createBackgrounds();this.createArrows();this.initSceneGraph();this.createPools();this._nextArray=[];this.spawnChunk(a);this._currentArray=this._nextArray;this._nextArray=[];this._couch=new pa(this.configAssets.couch);this.maingroundEntity.addChild((new q).add(this._couch));
this._couch.get_display().sprite.setXY(this.configAssets.couch.transform.position.x,this.configAssets.couch.transform.position.y);var b=new pa(this.configAssets.trees);this.foregroundEntity.addChild((new q).add(b));b.get_display().moviePlayer.loop(this.configAssets.trees.display.tree1);b.get_display().sprite.setXY(this.configAssets.trees.transform.position1.x,this.configAssets.trees.transform.position1.y);b=new pa(this.configAssets.trees);this.foregroundEntity.addChild((new q).add(b));b.get_display().moviePlayer.loop(this.configAssets.trees.display.tree2);
b.get_display().sprite.setXY(this.configAssets.trees.transform.position2.x,this.configAssets.trees.transform.position2.y);this.createSnake();this.createDepthSortArray();this.depthSort();this._camera.transform.setXY(a.x*g.get_config().target.x,a.y*g.get_config().target.y);this._confetti=g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,this.configAssets.confetti.display.primary,!1,!1);this.uiEntity.addChild(this._confetti.entity);this._confetti.sprite.x.set__(this.configAssets.confetti.transform.position.x);
this._confetti.sprite.alpha.set__(0);this._hud=new ff(this.configAssets.hud);this.uiEntity.addChild((new q).add(this._hud));this._tutorial=g.get_factory().makeTutorial(s.SNAKE,this.configAssets.tutorial,this,J.get_instance().getTutorial(s.SNAKE));g.get_signals().addConnection(this._tutorial.skipped,function(){B.get_instance().makeRequest("POST",B.formatUIInteractionEventData(J.get_instance().id,s.UI_BTN_SKIP,s.GEM_HUNT_TUTORIAL_NAME))},!0);this.uiEntity.addChild((new q).add(this._tutorial));g.get_signals().addConnection(ga.returnToPool,
m(this,this.returnToPool));g.get_signals().addConnection(ga.flickScroll,m(this,this.flickScroll));g.get_signals().addConnection(ga.onCollectableCollected,m(this,this.onCollectableCollected));g.get_signals().addConnection(ga.timesUp,m(this,this.endGame),!0)},startScene:function(){var a=this;Z.prototype.startScene.call(this);g.get_signals().addConnection(this._tutorial.complete,m(this,this.onTutorialComplete),!0);var b=function(b){a._tutorial.start()};G.playSoundWithFolder(this.configAssets.sounds.intro1,
b)||b()},onTutorialComplete:function(){G.playSoundWithFolder(this.configAssets.sounds.intro2,null);this.player.setActive(!0);this._hud.play()},initSceneGraph:function(){this.owner.add(this._sceneGraph);this.owner.add(this._camera);this._sceneGraph.setCamera(this._camera);var a=new ha;this._speedAdjuster=new Eb(1);this.layerEntity.add(a);this.layerEntity.add(this._speedAdjuster);this._sceneGraph.add(a)},createBackgrounds:function(){var a=this._gridWorld.getCurrentChunkPoint();this._backgrounds=[];
for(var b=0;2>b;){b++;var c=new da(null);this.backgroundEntity.addChild((new q).add(c));this._backgrounds.push(c);c.alpha.set__(0)}this.showBackground(a)},showBackground:function(a){var b=k.getAssert([this.configAssets,"background","display","primary"],"[GameScene] Cannot find background primary display key."),c;c=0==this._backgrounds[0].alpha.$HH?0:1;this._backgrounds[c].setXY(960*a.x,560*a.y);this._backgrounds[c].alpha.set__(1);this._backgrounds[c].texture=Ga.getTexture(g.get_assets().currentAssetPackName,
b+(a.x+2*a.y))},createPools:function(){var a=this;this._objectPool=new O;this._objectPool.set(this.configAssets.obstacle.variables.type,new lc(function(){return(new q).add(new gf(a.configAssets.obstacle))},10,this.maingroundEntity));this._objectPool.set(this.configAssets.collectable.variables.type,new lc(function(){return(new q).add(new Hc(a.configAssets.collectable))},5,this.maingroundEntity))},createSnake:function(){for(var a=this._gridWorld.getChunkFromPoint(this._gridWorld.getCurrentChunkPoint()),
b=[new A(0,0),new A(0,0),new A(0,0)],c=0,d=a.length;c<d;)for(var e=c++,f=0,g=a[e].length;f<g;){var k=f++,m=a[e][k].charAt(0);"p"==m?(k=this._gridWorld.getGridTileFromChunkTile(this._gridWorld.getCurrentChunkPoint(),new A(k,e)),this.player=new hf(this.configAssets.player,k,this._gridWorld),this.maingroundEntity.addChild((new q).add(this.player))):"f"==m&&(b[D.parseInt(a[e][k].charAt(1))-1]=this._gridWorld.getGridTileFromChunkTile(this._gridWorld.getCurrentChunkPoint(),new A(k,e)))}this.player.setLastPosition(b[0]);
this._snake=[];this._snake.push(this.player);a=0;for(c=b.length;a<c;)d=a++,e=new Ic(this.configAssets.followers,this._gridWorld.getPositionFromChunkAndTile(new A(0,0),b[d]),d+1),this._snake[d].child=e,0<d&&this._snake[d].setLastPosition(this._gridWorld.getPositionFromChunkAndTile(new A(0,0),b[d])),this._snake.push(e),this.maingroundEntity.addChild((new q).add(e));a=D.instance(this._snake[this._snake.length-1].owner.$fG[11],Ic);null!=a&&a.setLastPosition(this._gridWorld.getPositionFromChunkAndTile(new A(0,
0),b[b.length-2]),!0)},createArrows:function(){this._arrows=[];for(var a=0;2>a;){var b=a++,c=g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,this.configAssets.arrow.display.primary);c.sprite.alpha.set__(0);c.sprite.rotation.set__(90*b);c.sprite.setXY(480,280);this._arrows.push(c);this.overlayEntity.addChild(c.entity)}},onUpdate:function(a){Z.prototype.onUpdate.call(this,a);this.depthSort()},flickScroll:function(a){var b=this;this._speedAdjuster.scale.set__(0);this._hud.pause();
var c=this._gridWorld.getCurrentChunkPoint(),d;d=0==this._backgrounds[0].alpha.$HH?0:1;this._gridWorld.flickScroll(a);this.showBackground(a);this.spawnChunk(a);this.createDepthSortArray();this.depthSort();var e=function(){b.despawnChunk();b._speedAdjuster.scale.set__(1);b._backgrounds[(1+d)%b._backgrounds.length].alpha.set__(0);b._gridWorld.clearChunk(c);b.createDepthSortArray();b.depthSort();for(var a=0,e=b._arrows.length;a<e;){var f=a++;b._arrows[f].sprite.alpha.set__(0)}b._hud.play();ga.flickScrollFinished.emit()};
0!=a.x-c.x?this.uiEntity.addChild(oa.tween(this._camera.transform.x,g.get_config().target.x*a.x,this.configVariables.flickScrollDuration,eb.linear,e)):this.uiEntity.addChild(oa.tween(this._camera.transform.y,g.get_config().target.y*a.y,this.configVariables.flickScrollDuration,eb.linear,e))},spawnChunk:function(a){this._collectableCount=0;for(var b=this._gridWorld.getChunkFromPoint(a),c=0,d=b.length;c<d;)for(var e=c++,f=0,g=b[e].length;f<g;){var k=f++,m=b[e][k].charAt(0);-1!=jf.SPAWNABLE_GRID_KEYS.lastIndexOf(m)&&
this.spawnObject(b[e][k],this._gridWorld.getGridTileFromChunkTile(a,new A(k,e)))}a=0;for(b=this.configAssets.player.variables.gemDensity;a<b;)a++,this.spawnCollectable()},spawnObject:function(a,b){var c=this._objectPool.get(a.charAt(0)).spawn(),c=D.instance(c.$fG[11],Xa);c.spawn(b,this._gridWorld.getPositionFromChunkAndTile(new A(0,0),b),a);this._nextArray.push(c)},createDepthSortArray:function(){this._depthSortArray=[];for(var a=this.maingroundEntity.firstChild;null!=a;){var b=a.next;this._depthSortArray.push(a._internal_getFromChildren(11,
pa));a=b}},despawnChunk:function(){for(;0<this._currentArray.length;)this._currentArray[0].despawn();this._currentArray=this._nextArray;this._nextArray=[]},returnToPool:function(a){F.remove(this._currentArray,a);this._objectPool.get(a.type)._parentEntity.addChild(a.owner);this._objectPool.get(a.type).despawn(a.owner)},depthSort:function(){ka.sort(this._depthSortArray,function(a,b){var c=a.get_display().sprite.y.get__(),e=b.get_display().sprite.y.get__();if(c==e){if(null!=D.instance(a.owner.$fG[11],
Aa)&&null==D.instance(b.owner.$fG[11],Aa))return 1;c=a.get_display().sprite.x.get__();e=b.get_display().sprite.x.get__()}return aa.sign(e-c)});for(var a=0,b=this._depthSortArray.length;a<b;){var c=a++;this.maingroundEntity.addChild(this._depthSortArray[c].owner,!1)}},spawnCollectable:function(){for(var a=this._gridWorld.getCurrentChunkPoint(),b=this._gridWorld.getChunkFromPoint(a),c=[],d=0,e=b.length;d<e;)for(var f=d++,g=0,k=b[f].length;g<k;){var m=g++,m=this._gridWorld.getGridTileFromChunkTile(a,
new A(m,f));""==this._gridWorld.getGridTileValue(m)&&c.push(m)}a=Math.floor((c.length-1+1)*Math.random());this.spawnObject("g",c[a]);this._gridWorld.setGridTileValue(c[a],"g");this._collectableCount++},onCollectableCollected:function(){this._collectableCount--;if(0==this._collectableCount){var a=this._gridWorld.getCurrentChunkPoint(),b;b=0==a.x?1:-1;var c;c=0==a.y?1:-1;var d=this._arrows[1],e=this._arrows[0];d.sprite.setXY(480+960*a.x+(480*b+45*-b),280+560*a.y);e.sprite.setXY(480+960*a.x,280+560*
a.y+(280*c+45*-c));d.sprite.rotation.set__(180*Math.abs(a.x-1)-180);e.sprite.rotation.set__(180*Math.abs(a.y-1)-90);d.sprite.alpha.set__(1);e.sprite.alpha.set__(1)}},clearArray:function(a){for(;0<a.length;)a.pop()},endGame:function(){var a=this;this._confetti.sprite.alpha.set__(1);this._confetti.moviePlayer.loop(this.configAssets.confetti.display.primary,!0);var b=function(b){a.stopScene()};G.playSoundWithFolder(this.configAssets.sounds.outro,b)||b();this.player.setActive(!1)},stopScene:function(){Z.prototype.stopScene.call(this)},
exitScene:function(){B.get_instance().makeRequest("POST",B.formatMissionSummaryEventData(J.get_instance().id,s.GEM_HUNT_NAME,J.get_instance().missionData));g.get_signals().removeConnection(ga.depthSort,m(this,this.depthSort));g.get_signals().removeConnection(ga.returnToPool,m(this,this.returnToPool));g.get_signals().removeConnection(ga.flickScroll,m(this,this.flickScroll));g.get_signals().removeConnection(ga.onCollectableCollected,m(this,this.onCollectableCollected));g.get_signals().removeConnection(ga.timesUp,
m(this,this.endGame));this.clearArray(this._backgrounds);this.clearArray(this._arrows);this.clearArray(this._currentArray);this.clearArray(this._nextArray);this.clearArray(this._depthSortArray);for(var a=this._objectPool.keys();a.hasNext();){var b=a.next();this._objectPool.get(b).dispose();this._objectPool.remove(b)}Z.prototype.exitScene.call(this)},__class__:ef});var Gg=function(){};f["nazboo.scenes.minigames.snake.components.input.ISnakeInput"]=Gg;Gg.__name__="nazboo scenes minigames snake components input ISnakeInput".split(" ");
var Jc=function(a,b){Ca.call(this);this._player=a;this._allowInput=!0;this._mobile=new cc(this._player,b)};f["nazboo.scenes.minigames.snake.components.input.SnakeDesktop"]=Jc;Jc.__name__="nazboo scenes minigames snake components input SnakeDesktop".split(" ");Jc.__interfaces__=[Gg];Jc.__super__=Ca;Jc.prototype=p(Ca.prototype,{onAdded:function(){Ca.prototype.onAdded.call(this);this.owner.addChild((new q).add(this._mobile))},onUpdate:function(a){Ca.prototype.onUpdate.call(this,a);this._allowInput&&
(a=new A(0,0),this.getOnDown(e.Left)&&(a.x-=1),this.getOnDown(e.Right)&&(a.x+=1),this.getOnDown(e.Up)&&(a.y-=1),this.getOnDown(e.Down)&&(a.y+=1),Math.abs(a.x)!=Math.abs(a.y)&&this._player.changeDirections(a))},dispose:function(){this._player=null;Ca.prototype.dispose.call(this)},__class__:Jc});var cc=function(a,b){La.call(this);this._player=a;this._swipeThreshold=b;this._allowSwipe=this._allowInput=!0;this._downPoint=null;this._swipeDeltas=Ia.get_zero()};f["nazboo.scenes.minigames.snake.components.input.SnakeMobile"]=
cc;cc.__name__="nazboo scenes minigames snake components input SnakeMobile".split(" ");cc.__interfaces__=[Gg];cc.__super__=La;cc.prototype=p(La.prototype,{onUpdate:function(a){La.prototype.onUpdate.call(this,a);this._allowInput&&(r.$MH.$oG.isDown()&&this._allowSwipe?(a=g.get_resize().toScreenSpace(r.$MH.$oG.get_x(),r.$MH.$oG.get_y()),null==this._downPoint?this._downPoint=a:(this._swipeDeltas.x=a.x-this._downPoint.x,this._swipeDeltas.y=a.y-this._downPoint.y,this._swipeDeltas.magnitude()>this._swipeThreshold&&
(a=new A(0,0),Math.abs(this._swipeDeltas.x)>Math.abs(this._swipeDeltas.y)?a.x+=aa.sign(this._swipeDeltas.x):a.y+=aa.sign(this._swipeDeltas.y),this._player.changeDirections(a),this._swipeDeltas=Ia.get_zero(),this._allowSwipe=!1))):(this._allowSwipe=!0,this._downPoint=null))},dispose:function(){this._player=null;La.prototype.dispose.call(this)},__class__:cc});var ga=function(){};f["nazboo.scenes.minigames.snake.constants.SnakeEvents"]=ga;ga.__name__="nazboo scenes minigames snake constants SnakeEvents".split(" ");
var jf=function(){};f["nazboo.scenes.minigames.snake.constants.SnakeStrings"]=jf;jf.__name__="nazboo scenes minigames snake constants SnakeStrings".split(" ");var sg=function(a){this.currentChunk=0;this.config=a;this.currentChunk=Ta["int"](0,Math.floor(this.config.chunks.length-1));a=0;for(var b=this.config.chunks.length;a<b;){var c=a++;c!=this.currentChunk&&this.clearChunk(this.chunkPointFromInt(c))}this.parseObstacles();this.chunkSize=new A(this.config.variables.chunkDimensions.x,this.config.variables.chunkDimensions.y);
this.min=new A(0,0);this.max=new A(this.chunkSize.x,this.chunkSize.y)};f["nazboo.scenes.minigames.snake.models.SnakeGridWorld"]=sg;sg.__name__="nazboo scenes minigames snake models SnakeGridWorld".split(" ");sg.prototype={getChunkFromPoint:function(a){return this.config.chunks[this.chunkIntFromPoint(a)].slice()},getCurrentChunkPoint:function(){return this.chunkPointFromInt(this.currentChunk)},getChunkTileFromGridTile:function(a){return new A(a.x%this.chunkSize.x,a.y%this.chunkSize.y)},getChunkPointFromGridTile:function(a){return new A(Math.floor(a.x/
this.chunkSize.x),Math.floor(a.y/this.chunkSize.y))},getPositionFromChunkAndTile:function(a,b){return new A((a.x*this.chunkSize.x+b.x+0.5)*this.config.variables.tileDimensions.x+this.config.variables.gridOffset.x,(a.y*this.chunkSize.y+b.y+0.5)*this.config.variables.tileDimensions.y+this.config.variables.gridOffset.y)},getGridTileFromChunkTile:function(a,b){return new A(a.x*this.chunkSize.x+b.x,a.y*this.chunkSize.y+b.y)},getGridTileValue:function(a){var b=this.getChunkPointFromGridTile(a);a=this.getChunkTileFromGridTile(a);
return this.config.chunks[this.chunkIntFromPoint(b)][Math.floor(a.y)][Math.floor(a.x)]},setGridTileValue:function(a,b){var c=new A(Math.floor(a.x/this.chunkSize.x),Math.floor(a.y/this.chunkSize.y)),d=a.x%this.chunkSize.x,e=a.y%this.chunkSize.y;this.config.chunks[this.chunkIntFromPoint(c)][Math.round(e)][Math.round(d)]=b},flickScroll:function(a){this.config.chunks[this.currentChunk]=this.config.chunks[this.currentChunk];this.min=new A(this.chunkSize.x*a.x,this.chunkSize.y*a.y);this.max=new A(this.chunkSize.x+
this.min.x,this.chunkSize.y+this.min.y);this.currentChunk=this.chunkIntFromPoint(a)},clearChunk:function(a){a=this.chunkIntFromPoint(a);for(var b=0,c=this.config.chunks[a].length;b<c;)for(var d=b++,e=0,f=this.config.chunks[a][d].length;e<f;){var g=e++,k=this.config.chunks[a][d][g].charAt(0);-1==jf.NONREMOVABLE_OBJECT_KEYS.lastIndexOf(k)&&(this.config.chunks[a][d][g]="")}},parseObstacles:function(){for(var a=0,b=this.config.chunks.length;a<b;)for(var c=a++,d=0,e=this.config.chunks[c].length;d<e;)for(var f=
d++,g=0,k=this.config.chunks[c][f].length;g<k;){var m=g++;"o"==this.config.chunks[c][f][m]&&(this.config.chunks[c][f][m]+=this.config.variables.baseObstacles[Ta["int"](0,Math.round(this.config.variables.baseObstacles.length-1))])}},chunkIntFromPoint:function(a){return Math.floor(2*a.y+a.x)},chunkPointFromInt:function(a){return new A(a%2,Math.floor(a/2))},__class__:sg};var pa=function(a){u.call(this,a);this.type=this.config.variables.type;this._position=new A};f["nazboo.scenes.minigames.snake.objects.SnakeObject"]=
pa;pa.__name__="nazboo scenes minigames snake objects SnakeObject".split(" ");pa.__super__=u;pa.prototype=p(u.prototype,{onAdded:function(){u.prototype.onAdded.call(this);this.display=g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,this.config.display.primary);this.owner.addChild(this.get_display().entity)},addCollider:function(a,b){null==b&&(b=16711680);var c=k.getElse([this.config,"transform","collider","offset","x"],0),d=k.getElse([this.config,"transform","collider","offset",
"y"],0),e=k.getElse([this.config,"transform","collider","size","x"],0),f=k.getElse([this.config,"transform","collider","size","y"],0),n=k.getElse([this.config,"transform","collider","type"],"default"),p=k.get([this.config,"transform","collider","target"]);this._collider=new Ka(e,f,n,p,b);this._collider.sprite.setXY(c,d);a.addChild((new q).add(this._collider));g.get_signals().addConnection(this._collider.collisionEnter,m(this,this.onCollisionEnter));g.get_signals().addConnection(this._collider.collisionExit,
m(this,this.onCollisionExit))},onCollisionEnter:function(a){},onCollisionExit:function(a){},__class__:pa});var Xa=function(a){pa.call(this,a)};f["nazboo.scenes.minigames.snake.objects.SnakeGridObject"]=Xa;Xa.__name__="nazboo scenes minigames snake objects SnakeGridObject".split(" ");Xa.__super__=pa;Xa.prototype=p(pa.prototype,{onAdded:function(){pa.prototype.onAdded.call(this)},spawn:function(a,b,c){this._position=a;this.get_display().sprite.setXY(b.x,b.y);this.get_display().sprite.alpha.set__(1)},
despawn:function(){this.get_display().sprite.alpha.set__(0);ga.returnToPool.emit(this)},__class__:Xa});var Hc=function(a){this.spawnOverlay=null;this.color=0;pa.call(this,a)};f["nazboo.scenes.minigames.snake.objects.SnakeCollectable"]=Hc;Hc.__name__="nazboo scenes minigames snake objects SnakeCollectable".split(" ");Hc.__super__=Xa;Hc.prototype=p(Xa.prototype,{onAdded:function(){Xa.prototype.onAdded.call(this);this.addCollider(this.get_display().entity);this.spawnOverlay=g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,
this.config.display.spawn,!1,!1,!0);this.get_display().entity.addChild(this.spawnOverlay.entity)},spawn:function(a,b,c){Xa.prototype.spawn.call(this,a,b,c);this.color=Ta["int"](0,Math.round(this.config.display.idle.length-1));this.get_display().moviePlayer.loop(this.config.display.idle[this.color]);this._collider.SetActive(!0);this.spawnOverlay.moviePlayer.playOnce(this.config.display.spawn,!0,!0)},collect:function(){this._collider.SetActive(!1);this.get_display().moviePlayer.playOnce(this.config.display.collect,
!0,!0);g.get_signals().addConnection(this.get_display().moviePlayer.completeSignal,m(this,this.despawn),!0)},despawn:function(){g.get_signals().removeConnection(this.get_display().moviePlayer.completeSignal,m(this,this.despawn));Xa.prototype.despawn.call(this)},onCollisionEnter:function(a){"p"==a.owner._internal_getFromParents(11,pa).type&&this.collect()},__class__:Hc});var Aa=function(a,b){pa.call(this,a);this._position=b;this.moveDirection=new A(0,0)};f["nazboo.scenes.minigames.snake.objects.SnakeMovingObject"]=
Aa;Aa.__name__="nazboo scenes minigames snake objects SnakeMovingObject".split(" ");Aa.__super__=pa;Aa.prototype=p(pa.prototype,{onAdded:function(){pa.prototype.onAdded.call(this);this.get_display().sprite.setXY(this._position.x,this._position.y)},setLastPosition:function(a,b){this.lastTile=a},__class__:Aa});var Ic=function(a,b,c){Aa.call(this,a,b);this._index=c};f["nazboo.scenes.minigames.snake.objects.SnakeFollower"]=Ic;Ic.__name__="nazboo scenes minigames snake objects SnakeFollower".split(" ");
Ic.__super__=Aa;Ic.prototype=p(Aa.prototype,{onAdded:function(){Aa.prototype.onAdded.call(this);this.get_display().moviePlayer.loop(this.config.display.idle[this._index-1].left)},move:function(a){this.moveDirection=new A(a.x-this.get_display().sprite.x.get__(),a.y-this.get_display().sprite.y.get__());Math.abs(this.moveDirection.y)>Math.abs(this.moveDirection.x)?(this.moveDirection.x=0,this.moveDirection.y=aa.sign(this.moveDirection.y)):Math.abs(this.moveDirection.x)>Math.abs(this.moveDirection.y)&&
(this.moveDirection.x=aa.sign(this.moveDirection.x),this.moveDirection.y=0);1==this.moveDirection.x?(this.get_display().moviePlayer.loop(this.config.display.run[this._index-1].right,!1),this.get_display().moviePlayer.movie.get__().setScaleXY(-1,1)):-1==this.moveDirection.x?(this.get_display().moviePlayer.loop(this.config.display.run[this._index-1].left,!1),this.get_display().moviePlayer.movie.get__().setScaleXY(1,1)):1==this.moveDirection.y?this.get_display().moviePlayer.loop(this.config.display.run[this._index-
1].down,!1):-1==this.moveDirection.y&&this.get_display().moviePlayer.loop(this.config.display.run[this._index-1].up,!1);this.owner.addChild(oa.tween(0==this.moveDirection.y?this.get_display().sprite.x:this.get_display().sprite.y,0==this.moveDirection.y?a.x:a.y,this.config.variables.moveDuration,eb.linear,function(){}));null!=this.child&&this.child.move(new A(this.get_display().sprite.x.get__(),this.get_display().sprite.y.get__()))},stop:function(){null!=this.child&&this.child.stop();1==this.moveDirection.x?
(this.get_display().moviePlayer.loop(this.config.display.idle[this._index-1].right,!1),this.get_display().moviePlayer.movie.get__().setScaleXY(-1,1)):-1==this.moveDirection.x?(this.get_display().moviePlayer.loop(this.config.display.idle[this._index-1].left,!1),this.get_display().moviePlayer.movie.get__().setScaleXY(1,1)):1==this.moveDirection.y?this.get_display().moviePlayer.loop(this.config.display.idle[this._index-1].down,!1):-1==this.moveDirection.y&&this.get_display().moviePlayer.loop(this.config.display.idle[this._index-
1].up,!1);this.moveDirection=new A(0,0)},setLastPosition:function(a,b){Aa.prototype.setLastPosition.call(this,a);var c=new A(this.get_display().sprite.x.get__()-a.x,this.get_display().sprite.y.get__()-a.y);b&&(c.x*=-1,c.y*=-1);0!=c.x?0<c.x?(this.get_display().moviePlayer.loop(this.config.display.idle[this._index-1].right),this.get_display().moviePlayer.movie.get__().setScaleXY(-1,1)):this.get_display().moviePlayer.loop(this.config.display.idle[this._index-1].left):0<c.y?this.get_display().moviePlayer.loop(this.config.display.idle[this._index-
1].down):this.get_display().moviePlayer.loop(this.config.display.idle[this._index-1].up)},__class__:Ic});var gf=function(a){pa.call(this,a)};f["nazboo.scenes.minigames.snake.objects.SnakeObstacle"]=gf;gf.__name__="nazboo scenes minigames snake objects SnakeObstacle".split(" ");gf.__super__=Xa;gf.prototype=p(Xa.prototype,{spawn:function(a,b,c){Xa.prototype.spawn.call(this,a,b,c);2<c.length?(this.get_display().moviePlayer.loop(k.get([this.config,"display",c])),a=k.get([this.config,"transform","offset",
c]),b=this.get_display().sprite.x,b.set__(b.$HH+a.x),b=this.get_display().sprite.y,b.set__(b.$HH+a.y),c=k.get([this.config,"transform","scale",c]),this.get_display().sprite.setScaleXY(c.x,c.y)):this.get_display().moviePlayer.loop(D.string(this.config.display.idle)+c.charAt(1))},__class__:gf});var hf=function(a,b,c){this._collectablesCollected=this._collisionCounter=0;this._active=!1;this._tile=b;this._gridWorld=c;b=this._gridWorld.getPositionFromChunkAndTile(new A(0,0),b);Aa.call(this,a,b);this.moveDirection=
new A(0,0)};f["nazboo.scenes.minigames.snake.objects.SnakePlayer"]=hf;hf.__name__="nazboo scenes minigames snake objects SnakePlayer".split(" ");hf.__super__=Aa;hf.prototype=p(Aa.prototype,{onAdded:function(){Aa.prototype.onAdded.call(this);this._dropUnderlay=g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,this.config.display.underlay,!1,!1);this.owner.addChild(this._dropUnderlay.entity,!1);ia.isMobile()?this.input=new cc(this,k.getElse([this.config,"variables","mobileSwipeThreshold"],
30)):this.input=new Jc(this,k.getElse([this.config,"variables","desktopSwipeThreshold"],30));this.owner.add(this.input);this._walkingTimeout=new ya(k.get([this.config,"sounds","walkingTimeout"]),k.getElse([this.config,"variables","timeoutDelay"],10));this.owner.addChild((new q).add(this._walkingTimeout));this._arrowTimeout=new ya(k.get([this.config,"sounds","arrowTimeout"]),k.getElse([this.config,"variables","timeoutDelay"],10));this.owner.addChild((new q).add(this._arrowTimeout));this._currentTimeout=
this._walkingTimeout;this.addCollider(this.get_display().entity,1193046)},setActive:function(a){this._active=a;a||(this._walkingTimeout.stop(),this._arrowTimeout.stop())},changeDirections:function(a){if(this._active){this._currentTimeout==this._walkingTimeout&&this._currentTimeout.stop();var b=new A(this._tile.x+a.x,this._tile.y+a.y),c=this._gridWorld.getGridTileValue(b).charAt(0);"w"==c||"o"==c||b.x==this.lastTile.x&&b.y==this.lastTile.y?this.collide():0==this.moveDirection.x&&0==this.moveDirection.y?
(this.moveDirection=a,G.playSoundWithFolder(this.config.sounds.footsteps),this.startMove()):this.moveDirection=a}},startMove:function(){var a=this;if(this._active){var b=new A(this._tile.x+this.moveDirection.x,this._tile.y+this.moveDirection.y),c=this._gridWorld.getGridTileValue(new A(b.x,b.y)).charAt(0);if("w"!=c&&"o"!=c){if(1==this.moveDirection.x?(this.get_display().moviePlayer.loop(this.config.display.run.right,!1),this.get_display().moviePlayer.movie.get__().setScaleXY(-1,1)):-1==this.moveDirection.x?
(this.get_display().moviePlayer.loop(this.config.display.run.left,!1),this.get_display().moviePlayer.movie.get__().setScaleXY(1,1)):1==this.moveDirection.y?this.get_display().moviePlayer.loop(this.config.display.run.down,!1):-1==this.moveDirection.y&&this.get_display().moviePlayer.loop(this.config.display.run.up,!1),this.lastTile=this._tile,this._tile=b,b=this._gridWorld.getPositionFromChunkAndTile(new A(0,0),b),this.owner.addChild(oa.tween(0==this.moveDirection.y?this.get_display().sprite.x:this.get_display().sprite.y,
0==this.moveDirection.y?b.x:b.y,this.config.variables.moveDuration,eb.linear,function(){a.startMove()})),this.child.move(new A(this.get_display().sprite.x.get__(),this.get_display().sprite.y.get__())),b=this._gridWorld.getChunkPointFromGridTile(this._tile),c=this._gridWorld.getCurrentChunkPoint(),b.x!=c.x||b.y!=c.y)ga.flickScroll.emit(b),g.get_signals().addConnection(ga.flickScrollFinished,m(this,this.onFlickScrollFinished),!0),g.get_sounds().stopSound(this.config.sounds.footsteps.soundname),this._currentTimeout.stop(),
this._currentTimeout=this._walkingTimeout,this._currentTimeout.stop(),this._collectablesCollected=0}else this.collide(),G.playSoundWithFolder(this.config.sounds.collision,null),this.stop()}else this.stop(),this._currentTimeout.stop()},collide:function(){var a=this;this._collisionCounter++;J.get_instance().missionData.increment(s.OBSTACLES_HIT);this._collisionCounter>this.config.variables.maxCollisions&&G.playSoundWithFolder(this.config.sounds.wrongWay,function(b){a._collisionCounter=0})},stop:function(){this.child.stop();
1==this.moveDirection.x?(this.get_display().moviePlayer.loop(this.config.display.idle.right,!1),this.get_display().moviePlayer.movie.get__().setScaleXY(-1,1)):-1==this.moveDirection.x?(this.get_display().moviePlayer.loop(this.config.display.idle.left,!1),this.get_display().moviePlayer.movie.get__().setScaleXY(1,1)):1==this.moveDirection.y?this.get_display().moviePlayer.loop(this.config.display.idle.down,!1):-1==this.moveDirection.y&&this.get_display().moviePlayer.loop(this.config.display.idle.up,
!1);this.moveDirection=new A(0,0);this._currentTimeout==this._walkingTimeout&&this._currentTimeout.start();g.get_sounds().stopSound(this.config.sounds.footsteps.soundname)},onCollisionEnter:function(a){"g"==a.owner._internal_getFromParents(11,pa).type&&(this._collectablesCollected++,Math.random()<this.config.variables.encourageChance/100&&G.playSoundWithFolder(this.config.sounds.encouragement,null),this._collectablesCollected==this.config.variables.gemDensity&&(this._currentTimeout.stop(),this._currentTimeout=
this._arrowTimeout,this._currentTimeout.start(!0)),ga.onCollectableCollected.emit(a.owner._internal_getFromParents(11,Hc)))},setLastPosition:function(a,b){Aa.prototype.setLastPosition.call(this,a);var c=this._tile.x-a.x,d=this._tile.y-a.y;0!=c?0<c?(this.get_display().moviePlayer.loop(this.config.display.idle.right),this.get_display().moviePlayer.movie.get__().setScaleXY(-1,1)):this.get_display().moviePlayer.loop(this.config.display.idle.left):0<d?this.get_display().moviePlayer.loop(this.config.display.idle.down):
this.get_display().moviePlayer.loop(this.config.display.idle.up)},onFlickScrollFinished:function(){G.playSoundWithFolder(this.config.sounds.spawnGem)},dispose:function(){Aa.prototype.dispose.call(this)},__class__:hf});var kf=function(a,b){C.call(this,a,b)};f["nazboo.scenes.minigames.snake.tutorials.SnakeTutorial1"]=kf;kf.__name__="nazboo scenes minigames snake tutorials SnakeTutorial1".split(" ");kf.__super__=C;kf.prototype=p(C.prototype,{onAdded:function(){C.prototype.onAdded.call(this)},start:function(){C.prototype.start.call(this);
this._scene=this._tutorialContext;var a=k.get([this.config,"movie"]);this._tutorialMovie=new yb(a);this.owner.addChild((new q).add(this._tutorialMovie));this._timeout=new ya(this.config.sounds.timeout,this.config.variables.timeoutDelay);this.owner.addChild((new q).add(this._timeout));this._tutorialMovie.playEnter();g.get_signals().addConnection(this._tutorialMovie.enterComplete,m(this,this.tutorialEnterComplete),!0)},tutorialEnterComplete:function(){var a=this;this._tutorialMovie.playIdle();var b=
function(b){a._timeout.start()};G.playSoundWithFolder(this.config.sounds.tutorial1,b)||b();this._scene.player.setActive(!0);this._trackInput=!0},onUpdate:function(a){C.prototype.onUpdate.call(this,a);this._trackInput&&(0==this._scene.player.moveDirection.x&&0==this._scene.player.moveDirection.y||this.inputReceived())},inputReceived:function(){this._trackInput=!1;this._timeout.stop();g.get_signals().removeConnection(this._tutorialMovie.enterComplete,m(this,this.tutorialEnterComplete));this._tutorialMovie.playExit();
this.end()},outroComplete:function(a){this.end()},end:function(){g.get_sounds().stopAllChannelSounds("VO");J.get_instance().setTutorial(s.SNAKE,!0);C.prototype.end.call(this)},dispose:function(){null!=this._tutorialMovie&&(g.get_signals().removeConnection(this._tutorialMovie.enterComplete,m(this,this.tutorialEnterComplete)),g.get_signals().removeConnection(this._tutorialMovie.exitComplete,m(this,this.outroComplete)));C.prototype.dispose.call(this)},__class__:kf});var ff=function(a){u.call(this,a)};
f["nazboo.scenes.minigames.snake.ui.SnakeHUD"]=ff;ff.__name__="nazboo scenes minigames snake ui SnakeHUD".split(" ");ff.__super__=u;ff.prototype=p(u.prototype,{onAdded:function(){u.prototype.onAdded.call(this);var a=g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,this.config.display.primary);this.owner.addChild(a.entity);a.sprite.setXY(this.config.transform.position.x,this.config.transform.position.y);this._timer=g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,
this.config.timer.display.primary);this._timer.moviePlayer.playOnce(this.config.timer.display.primary,!1,!1);a.entity.addChild(this._timer.entity);this._timer.sprite.setXY(this.config.timer.transform.position.x,this.config.timer.transform.position.y);this._speedAdjuster=new Eb(0);this._timer.entity.add(this._speedAdjuster);this._scoreDisplay=g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,this.config.score.display.primary);a.entity.addChild(this._scoreDisplay.entity);this._scoreDisplay.sprite.setXY(this.config.score.transform.position.x,
this.config.score.transform.position.y);this._scoreText=new kc(g.get_factory().makeFont(),this.config.score.text.variables.text);this._scoreText.centerAnchor();this._scoreText.setXY(this.config.score.text.transform.position.x,this.config.score.text.transform.position.y);this._scoreText.setScaleXY(this.config.score.text.transform.scale.x,this.config.score.text.transform.scale.y);this._scoreDisplay.entity.addChild((new q).add(this._scoreText));this._gem=g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,
this.config.score.collect.gem.display.primary,!1,!1);this._scoreDisplay.entity.addChild(this._gem.entity);this._gem.sprite.alpha.set__(0);this._collectOverlay=g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,this.config.score.collect.overlay.display.primary,!1,!1);this._collectOverlay.sprite.setXY(this.config.score.collect.overlay.transform.position.x,this.config.score.collect.overlay.transform.position.y);this._scoreDisplay.entity.addChild(this._collectOverlay.entity);this._dropOverlay=
g.get_factory().makeMoviePlayer(g.get_assets().currentAssetPackName,this.config.score.drop.display.primary,!1,!1);this._dropOverlay.sprite.setXY(this.config.score.drop.transform.position.x,this.config.score.drop.transform.position.y);this._scoreDisplay.entity.addChild(this._dropOverlay.entity);g.get_signals().addConnection(ga.onCollectableCollected,m(this,this.onCollectableCollected));g.get_signals().addConnection(this._timer.moviePlayer.completeSignal,m(this,this.timesUp),!0)},onCollectableCollected:function(a){var b=
this,c=new A(a.get_display().sprite.x.get__()%g.get_config().target.x,a.get_display().sprite.y.get__()%g.get_config().target.y);this._gem.sprite.alpha.set__(1);this._gem.sprite.setXY(c.x-this.config.transform.position.x,c.y-this.config.transform.position.y);this._gem.moviePlayer.loop(this.config.score.collect.gem.display.idle[a.color],!0);a=0.5;c.x>g.get_config().target.x/2&&c.y<g.get_config().target.y/2&&(a=0.25);G.playSoundWithFolder(this.config.sounds.woosh);this._scoreDisplay.entity.addChild(oa.tween(this._gem.sprite.x,
0,a,eb.quartIn,function(){G.playSoundWithFolder(b.config.sounds.collectGem);b._collectOverlay.moviePlayer.playOnce(b.config.score.collect.overlay.display.primary,!0,!0);b._scoreText.set_text(""+(D.parseInt(b._scoreText.$NK)+1));b._scoreText.centerAnchor();b._gem.sprite.alpha.set__(0)}));this._scoreDisplay.entity.addChild(oa.tween(this._gem.sprite.y,0,a,eb.quartIn))},timesUp:function(){g.get_signals().removeConnection(ga.onCollectableCollected,m(this,this.onCollectableCollected));this.pause();ga.timesUp.emit()},
pause:function(){this._speedAdjuster.scale.set__(0)},play:function(){this._speedAdjuster.scale.set__(120/this.config.variables.gameTime)},__class__:ff});var B=function(){};f["nazboo.utils.Network"]=B;B.__name__=["nazboo","utils","Network"];B.get_instance=function(){return null==B.instance?B.instance=new B:B.instance};B.formatEventData=function(a,b){var c=B.get_instance().sessionId,d=B.get_instance().generateUUID(),e;e=F.dateStr(new Date);return{eventName:a,userID:b,sessionID:c,eventUUID:d,eventTimestamp:e,
eventParams:{platform:B.get_instance().platform,sdkVersion:"1.1.2",clientVersion:g.get_config().version}}};B.formatNewPlayerEventData=function(a){return B.formatEventData("newPlayer",a)};B.formatGameStartedEventData=function(a){return B.formatEventData("gameStarted",a)};B.formatClientDeviceEventData=function(a){a=B.formatEventData("clientDevice",a);var b=B.formatDeviceInfo(r.$MH.getExternal().call("getUAParserResult"));a.eventParams.hardwareVersion=b.hardwareVersion;a.eventParams.deviceType=b.deviceType;
a.eventParams.operatingSystem=b.operatingSystem;a.eventParams.operatingSystemVersion=b.operatingSystemVersion;a.eventParams.manufacturer=b.manufacturer;a.eventParams.browserName=b.browserName;return a};B.formatUIInteractionEventData=function(a,b,c){a=B.formatEventData("uiInteraction",a);a.eventParams.UIName=b;a.eventParams.UILocation=c;return a};B.formatMissionStartedEventData=function(a,b){var c=B.formatEventData("missionStarted",a);c.eventParams.missionID=b;return c};B.formatMissionSummaryEventData=
function(a,b,c){a=B.formatEventData("missionSummary",a);a.eventParams.missionID=b;M.setField(a.eventParams,"obstaclesHit",null!=ja.obstaclesHit?c.getReserved("obstaclesHit"):c.h.obstaclesHit);M.setField(a.eventParams,"jumpsTaken",null!=ja.jumpsTaken?c.getReserved("jumpsTaken"):c.h.jumpsTaken);M.setField(a.eventParams,"raisinCount",null!=ja.raisinCount?c.getReserved("raisinCount"):c.h.raisinCount);M.setField(a.eventParams,"mallowCount",null!=ja.mallowCount?c.getReserved("mallowCount"):c.h.mallowCount);
M.setField(a.eventParams,"starCount",null!=ja.starCount?c.getReserved("starCount"):c.h.starCount);M.setField(a.eventParams,"rainbowCount",null!=ja.rainbowCount?c.getReserved("rainbowCount"):c.h.rainbowCount);M.setField(a.eventParams,"berryCount",null!=ja.berryCount?c.getReserved("berryCount"):c.h.berryCount);M.setField(a.eventParams,"gumdropCount",null!=ja.gumdropCount?c.getReserved("gumdropCount"):c.h.gumdropCount);return a};B.formatDeviceInfo=function(a){var b=k.getElse([a,"device","model"],B.NOT_AVAILABLE),
c=k.getElse([a,"device","vendor"],B.NOT_AVAILABLE),d=k.getElse([a,"browser","name"],B.NOT_AVAILABLE),e=k.getElse([a,"os","version"],B.NOT_AVAILABLE),f=k.getElse([a,"os","name"],B.NOT_AVAILABLE);a=k.getElse([a,"device","type"],ia.isMobile()?"MOBILE_PHONE":"PC");a=a.toUpperCase();switch(a){case "MOBILE":a+="_PHONE"}f=f.toUpperCase();switch(f){case "MAC OS":f="OSX"}return{hardwareVersion:b,manufacturer:c,browserName:d,operatingSystem:f,operatingSystemVersion:e,deviceType:a}};B.detectPlatform=function(){var a=
"PIRACY_UNKNOWN",b=window.location.href.toLowerCase(),c=window.navigator.userAgent.toLowerCase(),d=window.document.referrer.toLowerCase();-1!=b.indexOf("t.nick")||-1!=c.indexOf("ipad")||-1!=c.indexOf("tablet")||-1!=c.indexOf("android")&&-1==c.indexOf("mobi")?a="NICKWEB_TABLET":-1!=b.indexOf("m.nick")||-1!=c.indexOf("mobi")?a="NICKWEB_MOBILE":-1!=b.indexOf("www.nick")&&(a="NICKWEB_DESKTOP");-1!=c.indexOf("android")&&-1!=d.indexOf("http://www.ludei.com")?a="ANDROID_APP":-1==c.indexOf("ipod")&&-1==c.indexOf("iphone")&&
-1==c.indexOf("ipad")||-1!=c.indexOf("safari")||(a="IOS_APP");-1==b.indexOf(".nick")&&(a="PIRACY_UNKNOWN");-1!=b.indexOf("nick.com/games/data/")&&(a="PIRACY_UNKNOWN");return a};B.prototype={init:function(a){this.url=a;this.platform=B.detectPlatform();this.sessionId=this.generateUUID()},generateUUID:function(){var a=function(){return D.string(X.hex(Math.floor(65536*(1+Math.random())))).substring(1).toLowerCase()};return a()+a()+"-"+a()+"-"+a()+"-"+a()+"-"+a()+a()+a()},makeRequest:function(a,b){var c=
new $c(this.url+"/");c.setHeader("Content-Type","application/json;charset=UTF-8");c.setPostData(JSON.stringify(b));c.onStatus=m(this,this.onRequestStatus);c.request("POST"==a)},makeBulkRequest:function(a,b){var c=new $c(this.url+"/bulk");c.setHeader("Content-Type","application/json;charset=UTF-8");c.setPostData(JSON.stringify(b));c.onStatus=m(this,this.onRequestStatus);c.request("POST"==a)},onRequestStatus:function(a){null},__class__:B};var xb=function(){xb.eval("nick_sdk_client.SDK.initialize")};
f["nicksdk.SDK"]=xb;xb.__name__=["nicksdk","SDK"];xb.eval=function(a,b){null==b&&(b=[]);for(var c=null,d=null,e=0,f=a.split(".");e<f.length;){var g=f[e];++e;c=d;d=null==c?M.field(window,g):M.field(c,g)}e=null;null!=d?e=d.apply(c,b):null;return e};xb.bind=function(a,b){for(var c=null,d=null,e="",f=0,g=a.split(".");f<g.length;){var k=g[f];++f;c=d;e=k;d=null==c?M.field(window,k):M.field(c,k)}null==c?null:c[e]=b};xb.prototype={__class__:xb};var Db=function(){};f["nicksdk.event.GameEventEmitter"]=Db;Db.__name__=
["nicksdk","event","GameEventEmitter"];Db.sendGameEvent=function(a,b){Db.callExternal(a,b)};Db.callExternal=function(a,b,c){xb.eval("nick_sdk_client.GameEventEmitter.sendGameEvent",[a,b])};var of=function(){};f["nicksdk.event.GameEventListener"]=of;of.__name__=["nicksdk","event","GameEventListener"];of.set_onSuspendToggle=function(a){of.onSuspendToggle=a;xb.bind("nick_sdk_client.GameEventListener.onSuspendToggle",a);return a};var Ba=function(){};f["nicksdk.jsembed.JSEmbedProxy"]=Ba;Ba.__name__=["nicksdk",
"jsembed","JSEmbedProxy"];Ba.get_exists=function(){return Ba.callJSEmbedMethod("exists()")};Ba.get_base=function(){return Ba.callJSEmbedMethod("baseUrl()")};Ba.get_isCrossdomain=function(){return Ba.callJSEmbedMethod("isBaseCrossdomain()")};Ba.callJSEmbedMethod=function(a){try{var b=Ba.eval("eval",["jsembed."+a]);return null==b?"":b}catch(c){return c instanceof v&&(c=c.val),""}};Ba.eval=function(a,b){null==b&&(b=[]);for(var c=null,d=0,e=a.split(".");d<e.length;)c=e[d],++d,c=M.field(window,c);return c.apply(null,
b)};var Sg=function(){};f["spine.Updatable"]=Sg;Sg.__name__=["spine","Updatable"];var tg=function(){};f["spine.Bone"]=tg;tg.__name__=["spine","Bone"];tg.__interfaces__=[Sg];tg.prototype={__class__:tg};var Hg=function(){};f["spine.BoneData"]=Hg;Hg.__name__=["spine","BoneData"];Hg.prototype={__class__:Hg};var Xg=function(){};f["spine.EventData"]=Xg;Xg.__name__=["spine","EventData"];var Ig=function(){};f["spine.IkConstraintData"]=Ig;Ig.__name__=["spine","IkConstraintData"];Ig.prototype={__class__:Ig};
var Jg=function(){};f["spine.PathConstraintData"]=Jg;Jg.__name__=["spine","PathConstraintData"];Jg.prototype={__class__:Jg};var Kg=function(){};f["spine.Skeleton"]=Kg;Kg.__name__=["spine","Skeleton"];Kg.prototype={__class__:Kg};var Yg=function(){};f["spine.SkeletonData"]=Yg;Yg.__name__=["spine","SkeletonData"];var Zg=function(){};f["spine.Skin"]=Zg;Zg.__name__=["spine","Skin"];var Lg=function(){};f["spine.SlotData"]=Lg;Lg.__name__=["spine","SlotData"];Lg.prototype={__class__:Lg};var Mg=function(){};
f["spine.TransformConstraintData"]=Mg;Mg.__name__=["spine","TransformConstraintData"];Mg.prototype={__class__:Mg};var Ng=function(){};f["spine.attachments.Attachment"]=Ng;Ng.__name__=["spine","attachments","Attachment"];var Kc=function(){};f["spine.attachments.VertexAttachment"]=Kc;Kc.__name__=["spine","attachments","VertexAttachment"];Kc.__super__=Ng;Kc.prototype=p(Ng.prototype,{__class__:Kc});var ug=function(){};f["spine.attachments.MeshAttachment"]=ug;ug.__name__=["spine","attachments","MeshAttachment"];
ug.__super__=Kc;ug.prototype=p(Kc.prototype,{__class__:ug});var W,$g=0;f.Math=Math;String.prototype.__class__=f.String=String;String.__name__=["String"];f.Array=Array;Array.__name__=["Array"];Date.prototype.__class__=f.Date=Date;Date.__name__=["Date"];var Qg=f.Int={__name__:["Int"]},ah=f.Dynamic={__name__:["Dynamic"]},Vg=f.Float=Number;Vg.__name__=["Float"];var Wg=f.Bool=Boolean;Wg.__ename__=["Bool"];var Tg=f.Class={__name__:["Class"]},Ug={},ja={},xg=Og.ArrayBuffer||gb;null==xg.prototype.slice&&(xg.prototype.slice=
gb.sliceImpl);var Rg=Og.Uint8Array||Bb._new;x.Element=0;x.PCData=1;x.CData=2;x.Comment=3;x.DocType=4;x.ProcessingInstruction=5;x.Document=6;xa.BASE_URL="";P.iteration=0;P.iterationCount=1;ra.$qF=new Mb(null,null);Nb.beginLoaderSetup=new Q;Nb.startLoadingAssets=new L;pb.USE_CACHE=!1;pb.USE_ENUM_INDEX=!1;pb.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";Da.DEFAULT_RESOLVER=V;Da.BASE64="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789%:";Sa.count=0;fb.i64tmp=
new Ff(0,0);wb.escapes=function(a){a=new O;null!=ja.lt?a.setReserved("lt","<"):a.h.lt="<";null!=ja.gt?a.setReserved("gt",">"):a.h.gt=">";null!=ja.amp?a.setReserved("amp","&"):a.h.amp="&";null!=ja.quot?a.setReserved("quot",'"'):a.h.quot='"';null!=ja.apos?a.setReserved("apos","'"):a.h.apos="'";return a}(this);T.__toStr={}.toString;Bb.BYTES_PER_ELEMENT=1;q.$hG=new Lf;$a.$FH=new $a;r.root=new q;r.uncaughtError=new L;r.lowMemoryWarning=new Q;r.hidden=new sa(!1);r.volume=new Y(1);r.$MH=$a.$FH;Ra.$bH=function(){var a=
null!=(new XMLHttpRequest).withCredentials;a||null;return a}();w.$SI=new A;w.$TI=new Na;w.$UI=new od;Gb.$nJ=new Vd(10);ab.$_M=new Uf;Ja.$_M=new Vf;za.$_M=new Wf;Ea.__meta__={obj:{injected:[{scenes:{},height:560,id:"com.redspace.nickjrnazboo",orientation:"any",fullscreen:!1,assets:{intro:[{bytes:1852,md5:"HljVYhTbEW_0C7mS3qf3ew",name:"config.json"},{bytes:57645,md5:"3XE0UO-MY1j_kUY8xP4OmQ",name:"audio/Intro_Intro1.mp3"},{bytes:59823,md5:"ZPPioF9XQPUgJqiexdPCjQ",name:"audio/Intro_Intro1.ogg"},{bytes:27084,
md5:"BMla8fnY1nhyBeznMBSlvA",name:"audio/Intro_Intro2.mp3"},{bytes:28757,md5:"VhZtj50Ll5cfS1JOiJ6zkg",name:"audio/Intro_Intro2.ogg"},{bytes:45759,md5:"P3-tYrp4BwLrgyf7cE5yMw",name:"audio/Intro_Intro3.mp3"},{bytes:43617,md5:"TReAJUlgNUiBjQL_PvXneA",name:"audio/Intro_Intro3.ogg"},{bytes:106841,md5:"eHLkAebtYjixorApSEguxg",name:"audio/shfcg_gamemusic_splash_mainmenu_title_screen.mp3"},{bytes:117936,md5:"ykXeBqnejcp7pq29hvWyyw",name:"audio/shfcg_gamemusic_splash_mainmenu_title_screen.ogg"},{bytes:124600,
md5:"c1ZUSpesFqbojTJ9lOLG9A",name:"images/IntroBG1.png"},{bytes:96154,md5:"cL1RsU-72Otvo_AOD99YXA",name:"images/IntroBG2.png"},{bytes:497237,md5:"zWWy3pUNKnCJP_JR7VyNTg",name:"atlas/library.json"},{bytes:803955,md5:"NsrFhTYA6eZ58ewQO-rhTg",name:"atlas/atlas1.png"},{bytes:1512921,md5:"xk136KRQxc4W2RO7TD9q9A",name:"atlas/atlas0.png"}],decorating:[{bytes:14208,md5:"adejwhPzagYUaNodpvRsQQ",name:"config.json"},{bytes:108364,md5:"HrGEPlfpju9eihOfufco5w",name:"atlas/atlas0.png"},{bytes:127206,md5:"dJMrOEI_ke05-MNH1CANmg",
name:"atlas/atlas2.png"},{bytes:185951,md5:"MD3KRtKEEe5pyRaKklJuhg",name:"atlas/atlas1.png"},{bytes:93859,md5:"-R4WaK3o6UMSTLtCg42ioQ",name:"atlas/library.json"},{bytes:4702,md5:"oOp5ixnEd0P0eOKuDLuuYQ",name:"audio/Decoration_BuzzleBerries.mp3"},{bytes:8359,md5:"WScugb22WdL1quQJ8iiM9w",name:"audio/Decoration_BuzzleBerries.ogg"},{bytes:5355,md5:"BFG0Fl_6X6-g4FY_Pkedpg",name:"audio/Decoration_ChocolateChips.mp3"},{bytes:9151,md5:"uxyev7RqckGtUKWfg6cNaw",name:"audio/Decoration_ChocolateChips.ogg"},{bytes:18155,
md5:"482YnEh9g_TuwfJs_nUUYw",name:"audio/Decoration_Clear_DT.mp3"},{bytes:22147,md5:"STKJqw2MkKXGuVurqyKCDw",name:"audio/Decoration_Clear_DT.ogg"},{bytes:17241,md5:"6jDztL4HHHuhQ7dF3zyyUg",name:"audio/Decoration_Clear_MBL.mp3"},{bytes:20952,md5:"aepYYf0RHhQSqxPL7CY-8Q",name:"audio/Decoration_Clear_MBL.ogg"},{bytes:4571,md5:"YLECBO_5H5aPr13DnXcmrg",name:"audio/Decoration_Encouragment1.mp3"},{bytes:8988,md5:"1nFolAPLsMZssBNv5hK9aA",name:"audio/Decoration_Encouragment1.ogg"},{bytes:8228,md5:"AkXYDLLiOEWh5JDyzkU06g",
name:"audio/Decoration_Encouragment3.mp3"},{bytes:11703,md5:"kpRMhkQE6GihleG5wjgijg",name:"audio/Decoration_Encouragment3.ogg"},{bytes:8359,md5:"gPxVPXQ8TaU-k_eG26sWkA",name:"audio/Decoration_Encouragment5.mp3"},{bytes:12082,md5:"9HiKy507KCOFAzpmuz7Qwg",name:"audio/Decoration_Encouragment5.ogg"},{bytes:9012,md5:"7Dok_T_QjpP2rcYMIechDw",name:"audio/Decoration_Encouragment6.mp3"},{bytes:12412,md5:"3WMZm8K29vwkFrKiGdCeRw",name:"audio/Decoration_Encouragment6.ogg"},{bytes:3657,md5:"G0zgYQszp7X0tEbN8lO9PQ",
name:"audio/Decoration_Gumdrops.mp3"},{bytes:7474,md5:"NQDwYYuDnr3iJjfyo_1EkA",name:"audio/Decoration_Gumdrops.ogg"},{bytes:23771,md5:"GRMjF0Ecbso4Qj4lwYnSnw",name:"audio/Decoration_Intro.mp3"},{bytes:28172,md5:"4Wh8lOiNguYik-OZgqayYA",name:"audio/Decoration_Intro.ogg"},{bytes:7445,md5:"ZEgmrs9iDPR5hRqlUY16TA",name:"audio/Decoration_RainbowSprinkles.mp3"},{bytes:11114,md5:"obKQu3yefGVcQpwWDH9t_Q",name:"audio/Decoration_RainbowSprinkles.ogg"},{bytes:9651,md5:"tAJbtFrR5s5Z8DbYr18RFw",name:"audio/Decoration_StarSprinkles.ogg"},
{bytes:5877,md5:"3P2MGQv1EybMDvuzyNFeFA",name:"audio/Decoration_StarSprinkles.mp3"},{bytes:14890,md5:"mXna3-dkt_h3V4C1FhsMTQ",name:"audio/Decoration_Timeout2_DT.mp3"},{bytes:19041,md5:"7A3jqizBmbat-b_-Yq3Sdg",name:"audio/Decoration_Timeout2_DT.ogg"},{bytes:25077,md5:"MqXY1Qpe6coVMxE_K6cAHg",name:"audio/Decoration_Timeout3_DT.mp3"},{bytes:27917,md5:"KNpti8QQJcuAHIytIXhbWQ",name:"audio/Decoration_Timeout3_DT.ogg"},{bytes:27289,md5:"NV_L_sVq0BIckThnbW0NYQ",name:"audio/Decoration_Timeout3_MBL.ogg"},{bytes:7706,
md5:"QtWX3lhpqP2EVwYhL_-oTA",name:"audio/Decoration_Timeout4.mp3"},{bytes:25600,md5:"EQB6MMYy-Hfylv2yBpaKIQ",name:"audio/Decoration_Timeout3_MBL.mp3"},{bytes:11125,md5:"ewMe7BObuSFpzmxWfEPaSA",name:"audio/Decoration_Timeout4.ogg"},{bytes:7184,md5:"mdWaY4iKHdvaX0hodcRYZw",name:"audio/Decoration_ToastedMarshmallows.mp3"},{bytes:10598,md5:"PaugbMLnQbASQPoVsAZTJQ",name:"audio/Decoration_ToastedMarshmallows.ogg"},{bytes:18155,md5:"zDYdbGVa7dhSdMdoBIF3BQ",name:"audio/Decoration_Tutorial1.mp3"},{bytes:22278,
md5:"cKkSHEtwmlqMGXJHDL8pig",name:"audio/Decoration_Tutorial1.ogg"},{bytes:24405,md5:"CdIsnn4JVyr3glq8x8GJUA",name:"audio/Decoration_Tutorial2_DT.ogg"},{bytes:20767,md5:"blHiEfG2HOBCRQ8dA5PTIg",name:"audio/Decoration_Tutorial2_DT.mp3"},{bytes:13975,md5:"P60hnNaM01uZgcNINc1D0g",name:"audio/Decoration_Tutorial2_MBL.mp3"},{bytes:18277,md5:"9X-1G6jMN7CXeVYnE-aL8w",name:"audio/Decoration_Tutorial2_MBL.ogg"},{bytes:18808,md5:"TSmmwSC8ynv2S9B2qopm0Q",name:"audio/Decoration_TutorialOutro.mp3"},{bytes:21954,
md5:"mAM3nLGV5jSZaRK4c7P3Pw",name:"audio/Decoration_TutorialOutro.ogg"},{bytes:9592,md5:"le6Kn8L7gHNEMKDkB0UXLg",name:"audio/Decoration_TutorialTimeout_DT.ogg"},{bytes:6139,md5:"WQvPSskt2-196qFFDTTuwA",name:"audio/Decoration_TutorialTimeout_DT.mp3"},{bytes:9273,md5:"3ZYWSUm-ww7TCcRQ_kmXjw",name:"audio/Decoration_TutorialTimeout_MBL.mp3"},{bytes:12972,md5:"d0kFINoPUzruOS8oINi5XA",name:"audio/Decoration_TutorialTimeout_MBL.ogg"},{bytes:4589,md5:"mY86PHD0QKp_k64iDxKXcg",name:"audio/Topping_add.ogg"},
{bytes:956,md5:"xV-UKssaTPQIkPRJwInH1Q",name:"audio/Topping_add.mp3"},{bytes:1087,md5:"UEWG4FRF8Z5vIOlhQRVF3w",name:"audio/Topping_grab.mp3"},{bytes:4404,md5:"R8viHQbBvOig_3je2TIv0A",name:"audio/Topping_grab.ogg"},{bytes:106366,md5:"F0psjg_lNHV7Kczz1wJmCQ",name:"images/cookieCreator-DecorationBG.png"},{bytes:230139,md5:"ekm2W-AJLqqEPK4AQ7pCIA",name:"audio/njftg_shimmer_saladtruck_musicloopv1b_cooking.mp3"},{bytes:236960,md5:"OgqMEUF_yU4U9lZ_cwnT0A",name:"audio/njftg_shimmer_saladtruck_musicloopv1b_cooking.ogg"}],
outro:[{bytes:2056,md5:"WvOQRuTdAJUGdQFzmE9wxA",name:"config.json"},{bytes:34259,md5:"hFA9wWFpy6m8wthSZoqDKQ",name:"audio/Outro1.mp3"},{bytes:37001,md5:"wn36GG3sp0YjRfkvhM_-aQ",name:"audio/Outro1.ogg"},{bytes:34651,md5:"eXRoqde_5ljnndWaouwyow",name:"audio/Outro2.mp3"},{bytes:33323,md5:"T6gg1me0xvr1FicbKwJFWQ",name:"audio/Outro2.ogg"},{bytes:19722,md5:"J-qyFrPuWrvds5xrQhIvZw",name:"audio/Outro_Timeout_DT.mp3"},{bytes:23053,md5:"Qje9tKnRhzj4jiPLEOk-Yg",name:"audio/Outro_Timeout_DT.ogg"},{bytes:115761,
md5:"mSX9PLadgthh-ifEbUGoqw",name:"audio/Outro3.mp3"},{bytes:116438,md5:"shhPcyaFnuI8HTpY1AJzlg",name:"audio/Outro3.ogg"},{bytes:19984,md5:"qgOmj6dMjo9TNgWOTa3uTA",name:"audio/Outro_Timeout_MBL.mp3"},{bytes:23048,md5:"N_uJZEh448c1bSCJXIoe3A",name:"audio/Outro_Timeout_MBL.ogg"},{bytes:106841,md5:"eHLkAebtYjixorApSEguxg",name:"audio/shfcg_gamemusic_splash_mainmenu_title_screen.mp3"},{bytes:117936,md5:"dVx3Iy-P1jClWNXiXUXYVQ",name:"audio/shfcg_gamemusic_splash_mainmenu_title_screen.ogg"},{bytes:209961,
md5:"DTo4w4oMAYjhYJWzsTBogw",name:"images/Outro_BG2.png"},{bytes:723963,md5:"uN_45qx2g7uDlEuWzFORxA",name:"atlas/library.json"},{bytes:1120573,md5:"4aHm2XrgE9Nch7raBSeu0Q",name:"atlas/atlas2.png"},{bytes:1463053,md5:"HcFD09UHYU3RJOTw4ujyvw",name:"atlas/atlas1.png"},{bytes:1541526,md5:"EShZXaYhgONMo021Y-fUow",name:"atlas/atlas0.png"},{bytes:2171781,md5:"Cprwhbkl1UJNP4BN7jJ0Qg",name:"images/Outro_BG1.png"}],platformer:[{bytes:19006,md5:"AmblLknCENZjDw7n9B3lYg",name:"config.json"},{bytes:12015,md5:"-D7uG8BxHuu9YrMWEvhGQA",
name:"levelData.json"},{bytes:6050,md5:"oGdzEetVAcF_NP0ikiTa5Q",name:"audio/Checkpoint.mp3"},{bytes:8142,md5:"wy55jKcXsqKhRBRYgPwyyg",name:"audio/Checkpoint.ogg"},{bytes:7095,md5:"h9_xdBCnhzQ3_IYETSHf2w",name:"audio/Friend_collect.mp3"},{bytes:8166,md5:"16R8qC_fy1K267P0olAG3Q",name:"audio/Friend_collect.ogg"},{bytes:3700,md5:"ykLxGhHZZHPToo9sxrgjAA",name:"audio/Friend_icon.mp3"},{bytes:4593,md5:"QaSnH1VqvG9ERRfm1ZL7cA",name:"audio/Friend_icon.ogg"},{bytes:1507,md5:"jI5bYfqJ9qCVLd5aXuJRcg",name:"audio/Jump.mp3"},
{bytes:4631,md5:"sTpEAo8P6UI0NNRgVsbXAQ",name:"audio/Jump.ogg"},{bytes:7706,md5:"zSzxGmiZ_JUbhvQZXzB6dw",name:"audio/PetRoom_Boost1.mp3"},{bytes:10699,md5:"uG5C1Hb9RXbE_e1ZNDibPA",name:"audio/PetRoom_Boost1.ogg"},{bytes:30824,md5:"BcA-hucTnNPrHAF3PpBoUQ",name:"audio/PetRoom_CollectAll.mp3"},{bytes:32466,md5:"_OWZqyIkfF7rW4HVORuEqg",name:"audio/PetRoom_CollectAll.ogg"},{bytes:4702,md5:"3oxXq8ZcKRGN24NlIJ4baw",name:"audio/PetRoom_CollectFrank.mp3"},{bytes:8069,md5:"4I-E5zTrtsvoMxphZ0wO-g",name:"audio/PetRoom_CollectFrank.ogg"},
{bytes:10188,md5:"jr_CZ-rsKe_lB-xXDTsEIA",name:"audio/PetRoom_CollectKazboo.mp3"},{bytes:13183,md5:"Sk8zIfaYYj_nnkK1VNeyLQ",name:"audio/PetRoom_CollectKazboo.ogg"},{bytes:8098,md5:"a0Kn6-1AOh3U9nBirB5vNg",name:"audio/PetRoom_CollectNahal1.mp3"},{bytes:12044,md5:"pK5pjRvj0ljzyIFxY094_Q",name:"audio/PetRoom_CollectNahal1.ogg"},{bytes:4571,md5:"3UidMZ9LQWe6KtMTmSOArQ",name:"audio/PetRoom_CollectRazboo.mp3"},{bytes:8049,md5:"r1fR0nAmp9iX3rDwJ6sBCA",name:"audio/PetRoom_CollectRazboo.ogg"},{bytes:768770,
md5:"VJ701YCcW02JYf7s83yfaQ",name:"atlas/atlas1.png"},{bytes:7053,md5:"uqYLPs52S_JsEAbLfdp1Xw",name:"audio/PetRoom_CollectTala1.mp3"},{bytes:821232,md5:"FXKae5oZPmTL2AyyC0dfjw",name:"atlas/library.json"},{bytes:10048,md5:"dPlZD9YqwVra52mqKD5hqg",name:"audio/PetRoom_CollectTala1.ogg"},{bytes:18808,md5:"fzogbIllEPgG8O9m6qZhcw",name:"audio/PetRoom_Intro.mp3"},{bytes:22705,md5:"-wvNNKnk6pSZySmJaKOwXg",name:"audio/PetRoom_Intro.ogg"},{bytes:22596,md5:"1yRAEbmWad4PtAAlOHW7pQ",name:"audio/PetRoom_Miss1.mp3"},
{bytes:965817,md5:"4EGNMNIcxcOGoeULMphrLg",name:"atlas/atlas0.png"},{bytes:25390,md5:"O3yU6YE5Tz3Mp9aNk0wNnA",name:"audio/PetRoom_Miss1.ogg"},{bytes:31347,md5:"XLRkxdKO3mIZDEcG_7jEWg",name:"audio/PetRoom_Outro.mp3"},{bytes:33126,md5:"7cng5pgUhgrdeuZ5ULL_9Q",name:"audio/PetRoom_Outro.ogg"},{bytes:13322,md5:"AK0Cch6IGZVcwk7jLfYqog",name:"audio/PetRoom_PressUp_DT.mp3"},{bytes:16337,md5:"rSZOUTcUOYtCZ8qQAbHMLA",name:"audio/PetRoom_PressUp_DT.ogg"},{bytes:12930,md5:"DfZnQpCmFYoFwGlSvJceog",name:"audio/PetRoom_PressUp_MBL.mp3"},
{bytes:16860,md5:"dSGP_SiJByvthvDLgpHqeg",name:"audio/PetRoom_PressUp_MBL.ogg"},{bytes:19069,md5:"1LGWz6olwdphQhS1dnbI-g",name:"audio/PetRoom_TImeout1b_MBL.mp3"},{bytes:22572,md5:"9GScxcrnME8fC2-WaXAQqw",name:"audio/PetRoom_TImeout1b_MBL.ogg"},{bytes:20245,md5:"sLzft3tkcsyq4EX9Xnt44A",name:"audio/PetRoom_Timeout1_DT.mp3"},{bytes:23937,md5:"5La45k27eR9G3q2beP_tiQ",name:"audio/PetRoom_Timeout1_DT.ogg"},{bytes:20767,md5:"O8z1a3eOGGmkpjYwqcXhmw",name:"audio/PetRoom_Timeout1_MBL.mp3"},{bytes:23967,md5:"PAlm9bPEq3pYuRICOUdRJw",
name:"audio/PetRoom_Timeout1_MBL.ogg"},{bytes:18677,md5:"-UaLaeyBvyh9SkFCURFeEQ",name:"audio/PetRoom_Timeout1a_DT.mp3"},{bytes:22732,md5:"KUV6qTODvo3a3uFHzmDh1g",name:"audio/PetRoom_Timeout1a_DT.ogg"},{bytes:11233,md5:"k3jWGrb9abY4MCdgeDElZQ",name:"audio/PetRoom_Timeout1a_MBL.mp3"},{bytes:15086,md5:"4mZ9rYwqDgbp70pEYAcPvA",name:"audio/PetRoom_Timeout1a_MBL.ogg"},{bytes:20637,md5:"wJgd6Q9EGVxOgXNec75vwA",name:"audio/PetRoom_Timeout1b_DT.mp3"},{bytes:24770,md5:"vJWPjK5QzkEmEd4Y9HDvog",name:"audio/PetRoom_Timeout1b_DT.ogg"},
{bytes:5094,md5:"hTWboLF2MzCssE2LZZh0IQ",name:"audio/PetRoom_Timeout2.mp3"},{bytes:8647,md5:"tVoX2Shx8UWN7Hn4uEuoXA",name:"audio/PetRoom_Timeout2.ogg"},{bytes:25339,md5:"7mRQi_cr7tWuPlh6f1iCmg",name:"audio/PetRoom_Tutorial1.mp3"},{bytes:28238,md5:"7OgtI6LBiyG7olN7GGE6_w",name:"audio/PetRoom_Tutorial1.ogg"},{bytes:30171,md5:"OtoPK-rWhVcA7Q4ynaEYtA",name:"audio/PetRoom_Tutorial3.mp3"},{bytes:32765,md5:"oua1svxGpWzOdRqIpDUmVw",name:"audio/PetRoom_Tutorial3.ogg"},{bytes:19592,md5:"b3BBrnkR0A5YUMqmzys4qw",
name:"audio/PetRoom_Tutorial4_DT.mp3"},{bytes:23447,md5:"M7OsdpbNlsgLzQwGOREcgA",name:"audio/PetRoom_Tutorial4_DT.ogg"},{bytes:18939,md5:"Dco57CiWvGxDOJDBoi8vtg",name:"audio/PetRoom_Tutorial4_MBL.mp3"},{bytes:22729,md5:"whR6D12sJtGkmXApd-Q3iw",name:"audio/PetRoom_Tutorial4_MBL.ogg"},{bytes:16718,md5:"Exga4kYR7iuEkcCwUJ0NzQ",name:"audio/PetRoom_Tutorial4a_DT.mp3"},{bytes:20490,md5:"dUCb_-YlL7QP0N_hzTNFiw",name:"audio/PetRoom_Tutorial4a_DT.ogg"},{bytes:21812,md5:"kOrQhQ5IcUuny4vqQtt8rg",name:"audio/PetRoom_Tutorial4a_MBL.mp3"},
{bytes:24923,md5:"ZTO7Qhdv5uyWoOzAMFE0WA",name:"audio/PetRoom_Tutorial4a_MBL.ogg"},{bytes:15543,md5:"zs0L94EOV2GuqcFR1HuBYQ",name:"audio/PetRoom_Tutorial4b_DT.mp3"},{bytes:19021,md5:"a7DF4VsU8Ky7XZO66IGWvA",name:"audio/PetRoom_Tutorial4b_DT.ogg"},{bytes:19330,md5:"HSRy9sJPHrk1SV5vaxlqqg",name:"audio/PetRoom_Tutorial4b_MBL.mp3"},{bytes:22755,md5:"DWOJiXp_ywVoxWFA8MDz_w",name:"audio/PetRoom_Tutorial4b_MBL.ogg"},{bytes:23118,md5:"XkMJ482LuYhZoKu29RmOgQ",name:"audio/PetRoom_Tutorial4c_DT.mp3"},{bytes:26486,
md5:"Fy0eQS4KlcbTaDJjJqBoaQ",name:"audio/PetRoom_Tutorial4c_DT.ogg"},{bytes:13975,md5:"yaTJPKLbfSeFi6Ui9A58SA",name:"audio/PetRoom_Tutorial4c_MBL_left.mp3"},{bytes:17450,md5:"nAMlH0b9IQXbnBkOJnYpKQ",name:"audio/PetRoom_Tutorial4c_MBL_left.ogg"},{bytes:15412,md5:"qFGsEojAHGlFATlMo8NdUQ",name:"audio/PetRoom_Tutorial4c_MBL_right.mp3"},{bytes:19437,md5:"HR3kosW8tGiqoMLgmMWTRQ",name:"audio/PetRoom_Tutorial4c_MBL_right.ogg"},{bytes:18024,md5:"fnz3FRK6FfaU-YNjuuce1w",name:"audio/PetRoom_Tutorial4d_DT.mp3"},
{bytes:21467,md5:"J9BgfPpcf5OWL1YOiB3qLg",name:"audio/PetRoom_Tutorial4d_DT.ogg"},{bytes:14106,md5:"f23WOh7h_SZvWRy-x6wZ2g",name:"audio/PetRoom_Tutorial4d_MBL_left.mp3"},{bytes:18398,md5:"N6BKU0p1n4ZILNLafgp8fg",name:"audio/PetRoom_Tutorial4d_MBL_left.ogg"},{bytes:15543,md5:"kIjxUzq2_vHTgFFjov5ulw",name:"audio/PetRoom_Tutorial4d_MBL_right.mp3"},{bytes:19446,md5:"uLSvdRTgdKD4VevOFxKr0w",name:"audio/PetRoom_Tutorial4d_MBL_right.ogg"},{bytes:17633,md5:"k6ZE359cOo6U7prsrY-M5A",name:"audio/PetRoom_Tutorial4e_DT.mp3"},
{bytes:21479,md5:"VrlMR0gPfZfi7EeI1_UzXA",name:"audio/PetRoom_Tutorial4e_DT.ogg"},{bytes:14498,md5:"iG1gLKV0eaEhT8xfev_cEA",name:"audio/PetRoom_Tutorial4e_MBL.mp3"},{bytes:18417,md5:"wEllQGM7LlCi8xsYbZZ-GA",name:"audio/PetRoom_Tutorial4e_MBL.ogg"},{bytes:10710,md5:"xuuUUP7uHaVFZy-FwE7bJw",name:"audio/PetRoom_Tutorial5.mp3"},{bytes:13307,md5:"KMnPGI3izyJfIepGh7B_Cw",name:"audio/PetRoom_Tutorial5.ogg"},{bytes:1479,md5:"LRTe__hGw8Ldu1S8GyBmoA",name:"audio/Pillow_Land.mp3"},{bytes:4547,md5:"iFmPp0WgQ9iGqYcn1HfiFQ",
name:"audio/Pillow_Land.ogg"},{bytes:1385,md5:"yGmbi5ylBOhMPwnqidmPtQ",name:"audio/Platform_Land.mp3"},{bytes:4480,md5:"Vf0nq9VO1HdWAcNwIag7vw",name:"audio/Platform_Land.ogg"},{bytes:147853,md5:"hpEXqAPO28nZSr8RGRYplQ",name:"audio/shfcg_gamemusic_beach_outsidev2_platform.mp3"},{bytes:9273,md5:"8kxCBX8ioZC_C3Jwh_8y4g",name:"audio/smellsLikeCookies.mp3"},{bytes:12929,md5:"XQAI0eUHbi9O6bGz_B22uQ",name:"audio/smellsLikeCookies.ogg"},{bytes:153573,md5:"YCtkz2thKaA18EDFMRd4GA",name:"audio/shfcg_gamemusic_beach_outsidev2_platform.ogg"},
{bytes:2166266,md5:"FcWl_eK77KKWfoCIgsyz3g",name:"images/platformerGameBG.png"}],title:[{bytes:1200,md5:"ThYNL-ycPZ8aItciOVnp4w",name:"config.json"},{bytes:106841,md5:"eHLkAebtYjixorApSEguxg",name:"audio/shfcg_gamemusic_splash_mainmenu_title_screen.mp3"},{bytes:14237,md5:"qeAuTM799xTSBRZb7SO9Ew",name:"audio/title_intro.mp3"},{bytes:17044,md5:"OWJC9sjHdv1yrCDcEfVo7w",name:"audio/title_intro.ogg"},{bytes:117936,md5:"-P0gks5XPrRindXeneb-wg",name:"audio/shfcg_gamemusic_splash_mainmenu_title_screen.ogg"},
{bytes:7706,md5:"EAwL6vWgIzZzY_fVUwHy1Q",name:"audio/title_timeout_DT.mp3"},{bytes:11370,md5:"F-VVXWfNSSmrfZ3N1cl9aw",name:"audio/title_timeout_DT.ogg"},{bytes:7184,md5:"NGKbrH7E8kRtny7UWIAe7A",name:"audio/title_timeout_MBL.mp3"},{bytes:10998,md5:"8wmxERCJT-4Wbh7mqq8nWg",name:"audio/title_timeout_MBL.ogg"},{bytes:857157,md5:"g6RuA2K44BShNodAf5h4Ew",name:"images/titleScreenStandFinish.png"}],snake:[{bytes:17367,md5:"iOLPd99mhDdKQNebdMeWZA",name:"config.json"},{bytes:1883,md5:"iuBiKhIWLLdoj9AjeElIGg",
name:"levels.json"},{bytes:1479,md5:"R4vDZZhMnqVuWz92brQVJA",name:"audio/Collide.mp3"},{bytes:4534,md5:"etCZD_m-yLY98vaI1b4RWA",name:"audio/Collide.ogg"},{bytes:4571,md5:"_EB1qGd7hzsxvoW8mZek3A",name:"audio/CutScene5a_4.mp3"},{bytes:7976,md5:"P9YbAlzkyIn2YdHXx1klJg",name:"audio/CutScene5a_4.ogg"},{bytes:5266,md5:"ioELs2ndmZDKx8fek_MozA",name:"audio/Footsteps.mp3"},{bytes:6279,md5:"-8JZAy6WkCpjNQlZqU9JjA",name:"audio/Footsteps.ogg"},{bytes:12539,md5:"Spbc-8ZDnbOhPVYXq_9pBQ",name:"audio/GemHunt_ArrowTimeout.mp3"},
{bytes:16168,md5:"NAtgwCaIZczfVlKKjc0CHQ",name:"audio/GemHunt_ArrowTimeout.ogg"},{bytes:12408,md5:"QpzUmBkjrHGlnDEbCwI3rw",name:"audio/GemHunt_Encouragement2.mp3"},{bytes:16693,md5:"Bfd69MWDhtsseJeVFR9PgQ",name:"audio/GemHunt_Encouragement2.ogg"},{bytes:3657,md5:"NOnT3Ov8tYt5QdfceADuwQ",name:"audio/GemHunt_Encouragement4.mp3"},{bytes:6937,md5:"4dQQHCSjVaybRrvFnCZmQg",name:"audio/GemHunt_Encouragement4.ogg"},{bytes:5094,md5:"kNfPxFIwBA0S3lUotwoVEw",name:"audio/GemHunt_Encouragement5.mp3"},{bytes:8867,
md5:"YMZ2xbs4N8hsCVFNtQuBAg",name:"audio/GemHunt_Encouragement5.ogg"},{bytes:32784,md5:"_MXPplnVKa7WLrmqFrxKew",name:"audio/GemHunt_Intro1.mp3"},{bytes:36300,md5:"byfNurKXkKY4PLAVhF9ibg",name:"audio/GemHunt_Intro1.ogg"},{bytes:13192,md5:"SV9cI-MhHnjlW6J1i7XU1A",name:"audio/GemHunt_Intro2.mp3"},{bytes:694550,md5:"lXq2hMFX9Oplab597WKfcA",name:"atlas/library.json"},{bytes:16699,md5:"tkF1CyWElIIhnr49Y78P4g",name:"audio/GemHunt_Intro2.ogg"},{bytes:7445,md5:"15i2wglPk8sBT0jelWlJew",name:"audio/GemHunt_Intro3.mp3"},
{bytes:10353,md5:"OTA-qJUjO8Fc1ELiR7mq7w",name:"audio/GemHunt_Intro3.ogg"},{bytes:10449,md5:"oT7iQcVt5roVYJKHrKC3Tw",name:"audio/GemHunt_Obstacle1.mp3"},{bytes:12666,md5:"3sMZ9iWy1TZhUmEFSr1Uow",name:"audio/GemHunt_Obstacle1.ogg"},{bytes:5094,md5:"KIG4HPmn8u3Y9UnIvsLK2g",name:"audio/GemHunt_Obstacle3.mp3"},{bytes:898947,md5:"XynN1dn7s7RO4OuYRlDlNg",name:"atlas/atlas0.png"},{bytes:8500,md5:"xS1X_aH6b6FW-Dj9DF2D1w",name:"audio/GemHunt_Obstacle3.ogg"},{bytes:22335,md5:"OQZ-qwKSDpk5UxwcIUB1vA",name:"audio/GemHunt_Outro.mp3"},
{bytes:24730,md5:"NsKs29ZaqbmYDyIp_IpF3A",name:"audio/GemHunt_Outro.ogg"},{bytes:8882,md5:"2op9k2LZg_yTJa8dcknMAg",name:"audio/GemHunt_RoomHint2.mp3"},{bytes:11680,md5:"kz8bV66UqRbZ4VereSKq-A",name:"audio/GemHunt_RoomHint2.ogg"},{bytes:3135,md5:"lfUZ30kXT4VeABJ5g-NgPQ",name:"audio/GemHunt_RoomHint3.mp3"},{bytes:6675,md5:"rx2MYBzLBaXHfXigzXtkAA",name:"audio/GemHunt_RoomHint3.ogg"},{bytes:15282,md5:"QoaFfxsNgKeiyvmYS1cobg",name:"audio/GemHunt_Timeout1_DT.mp3"},{bytes:19509,md5:"nYR1cMkU1KyzuFnSIaJ_MA",
name:"audio/GemHunt_Timeout1_DT.ogg"},{bytes:16196,md5:"WTA0JWhzQ8427aKALrbJ5Q",name:"audio/GemHunt_Timeout1_MBL.mp3"},{bytes:19985,md5:"91qVNR4JcmmcU_RXdY-y1w",name:"audio/GemHunt_Timeout1_MBL.ogg"},{bytes:8098,md5:"eFtgfKYF_vxvPr0scpH-7A",name:"audio/GemHunt_Timeout3.mp3"},{bytes:11393,md5:"AEDkWh50eKjH6-eYwCYu3w",name:"audio/GemHunt_Timeout3.ogg"},{bytes:7837,md5:"MCh_LdX1jiUR8NYjitWBqw",name:"audio/GemHunt_Timeout5.mp3"},{bytes:11345,md5:"G5vktAyx7hh09KZ3mN8Wog",name:"audio/GemHunt_Timeout5.ogg"},
{bytes:16849,md5:"GCjIFZLtLPID30nhE8wQwA",name:"audio/GemHunt_Timeout6.mp3"},{bytes:19785,md5:"rgsUVUMMTkMz0ZPvZtWkDA",name:"audio/GemHunt_Timeout6.ogg"},{bytes:25600,md5:"IcuBYlgtMvNqlwazL9TmpA",name:"audio/GemHunt_Tutorial1_DT.mp3"},{bytes:28310,md5:"pRjC01kOgNYmvpwEJgx9mQ",name:"audio/GemHunt_Tutorial1_DT.ogg"},{bytes:21420,md5:"AGRFkxt04pA8yWGW7eOrLA",name:"audio/GemHunt_Tutorial1_MBL.mp3"},{bytes:24336,md5:"Nw08kp5NjAZr-p1GRG0Hhg",name:"audio/GemHunt_Tutorial1_MBL.ogg"},{bytes:10057,md5:"jJ8jvB0SHQIxNlJQ4LsnfQ",
name:"audio/GemHunt_Tutorial2.mp3"},{bytes:14047,md5:"YHyuFauMVWLTHIwlPDLCgw",name:"audio/GemHunt_Tutorial2.ogg"},{bytes:17502,md5:"Qb0xKg7Vpp9wKWQIlJ4FAw",name:"audio/GemHunt_TutorialTimeout_DT.mp3"},{bytes:21284,md5:"-dzbdBNO4VPiY0PwdWo0Mw",name:"audio/GemHunt_TutorialTimeout_DT.ogg"},{bytes:16588,md5:"-rYXly__H7e1NWCLsTjaXw",name:"audio/GemHunt_TutorialTimeout_MBL.mp3"},{bytes:20420,md5:"cQa5edjsfQ8w7qmaCH6O5Q",name:"audio/GemHunt_TutorialTimeout_MBL.ogg"},{bytes:16979,md5:"hgYuOrldOe1Ti8GWcwZBNQ",
name:"audio/GemHunt_WrongWay1.mp3"},{bytes:19997,md5:"yXk0sOFJBS8LdTnc-ERVlA",name:"audio/GemHunt_WrongWay1.ogg"},{bytes:1348,md5:"WXD_gk13QWCYFVeSgE3_wQ",name:"audio/Gem_Collect.mp3"},{bytes:5002,md5:"dMHS4Y7uCIXd0hJQZt7w5g",name:"audio/Gem_Collect.ogg"},{bytes:1479,md5:"6P6sSLn6flinFwuiUf5Ohg",name:"audio/Gem_Spawn.mp3"},{bytes:4208,md5:"OwmW9nL8aHK6cn4Xr_pERw",name:"audio/Gem_Spawn.ogg"},{bytes:4091,md5:"R_8Nm3X5xK87aHBxIS_E7w",name:"audio/Gem_WooshV2.mp3"},{bytes:5865,md5:"K--U5VN45FCkFGtZiYYToQ",
name:"audio/Gem_WooshV2.ogg"},{bytes:3600,md5:"LYl0QNKWVALBFjsEy9MU8Q",name:"audio/Gem_loss.mp3"},{bytes:8311,md5:"aKEGHBzEI-mTnG5REdZYFQ",name:"audio/Gem_loss.ogg"},{bytes:186122,md5:"4wCa-Safv7KfZNw68TrcRg",name:"audio/shfcg_gamemusic_bazzar_insidev2a_gem.mp3"},{bytes:181184,md5:"NCy8GB2WjD620lnp0ocOEQ",name:"audio/shfcg_gamemusic_bazzar_insidev2a_gem.ogg"},{bytes:145708,md5:"98mAAiKteiqxW69_pv6cow",name:"images/background0.png"},{bytes:144411,md5:"M44hCVgGXbFK4LEAdE_dAg",name:"images/background1.png"},
{bytes:152954,md5:"SKF6xSjLaHnwJ2_hg0wsuw",name:"images/background2.png"},{bytes:149226,md5:"iq_jl-dSg4VFxhrN4UwNfA",name:"images/background3.png"}],gameShared:[{bytes:97,md5:"vySt5VJA1MFighHnjjvJkw",name:"config.json"},{bytes:36113,md5:"hY9Zl3b7HBHTWQ2_pyMrhA",name:"atlas/atlas0.png"},{bytes:46053,md5:"GACXQN7X3IuVH864Wmdn8Q",name:"atlas/library.json"}],mixing:[{bytes:18251,md5:"pMRKMD_vHiSAglj_UqhIxw",name:"config.json"},{bytes:7134,md5:"CukyLLm8wKW9Zlmf4M4vgg",name:"audio/Cooking_complete.mp3"},
{bytes:5824,md5:"UqMWodKX0TiVcaTBXBkHdQ",name:"audio/Cooking_complete.ogg"},{bytes:16457,md5:"MrhNRnX1Oz1TnCKzAfUpIw",name:"audio/CutScene4_VO.mp3"},{bytes:75579,md5:"ocEw0OFJUQIgxrikbjY6Vw",name:"atlas/library.json"},{bytes:152630,md5:"LYb15v4GnKdan7PTIAgkQA",name:"atlas/atlas0.png"},{bytes:148870,md5:"DGkGDuOkXimX4PvKs3ynFQ",name:"atlas/atlas1.png"},{bytes:142793,md5:"V2e7q2r5Z8NcsWEjdZJiGg",name:"atlas/atlas2.png"},{bytes:18609,md5:"cDAOOMDobBM4IInupojnEw",name:"audio/CutScene4_VO.ogg"},{bytes:2817,
md5:"QKe9A1QfirLd7ZxYNLFAMw",name:"audio/Egg_crack.mp3"},{bytes:7235,md5:"wxHFEfswXntzjGirLL6B_A",name:"audio/Egg_crack.ogg"},{bytes:2426,md5:"SSdCmp-sv7Zerr3LjBl4rA",name:"audio/Flour_sift.mp3"},{bytes:5674,md5:"WZf2ZaZFtyp_6AuQNTxU8Q",name:"audio/Flour_sift.ogg"},{bytes:3307,md5:"txYVpY3pWffpQTedfm0OqA",name:"audio/Incorrect.mp3"},{bytes:5471,md5:"Dmbgbw9Bk8elkTCG6Wlmhg",name:"audio/Incorrect.ogg"},{bytes:13845,md5:"a-wSPeffPKNbQzmdfwQnwA",name:"audio/MixingSpoon_Congrats.mp3"},{bytes:17432,md5:"P4l7kyAkmbtIH7ElrGx5UA",
name:"audio/MixingSpoon_Congrats.ogg"},{bytes:18286,md5:"4UO-ZUeahV3brcnZIRJnjA",name:"audio/MixingSpoon_Outro.mp3"},{bytes:21813,md5:"tY4mZlDyfjWWW3wHrkyYmA",name:"audio/MixingSpoon_Outro.ogg"},{bytes:12277,md5:"I-VLaar-UrYNODyOXntyFA",name:"audio/MixingSpoon_Start.mp3"},{bytes:15804,md5:"YcecR8uJGceDWlwxXPUnkg",name:"audio/MixingSpoon_Start.ogg"},{bytes:9926,md5:"rCL6dh60kcPGlOrbcR9Fgw",name:"audio/MixingSpoon_Timeout1.mp3"},{bytes:13842,md5:"FP0zOlm6uC9iIeW2WZtl4g",name:"audio/MixingSpoon_Timeout1.ogg"},
{bytes:7314,md5:"zQi_HVP7Y0KNprf6yXIp3w",name:"audio/MixingSpoon_Timeout3.mp3"},{bytes:10911,md5:"WB06vdIh0B5kxVUnli-GrQ",name:"audio/MixingSpoon_Timeout3.ogg"},{bytes:30563,md5:"aJ5CIJZgltfwunL-lWkOCQ",name:"audio/MixingSpoon_TutorialOutro.mp3"},{bytes:33435,md5:"cetxvQWi5kzb2OXIee9jhw",name:"audio/MixingSpoon_TutorialOutro.ogg"},{bytes:7314,md5:"J3excQh6wqgOeE0o44QcSA",name:"audio/MixingSpoon_TutorialTimeout_DT.mp3"},{bytes:10645,md5:"cqb2PEeJ-WtxnQ3bj5NKRg",name:"audio/MixingSpoon_TutorialTimeout_DT.ogg"},
{bytes:7053,md5:"Pvy1ZBLGo-HMBZUEnldYmQ",name:"audio/MixingSpoon_TutorialTimeout_MBL.mp3"},{bytes:10580,md5:"KJ2X__9fJElWtVAmsY_2KQ",name:"audio/MixingSpoon_TutorialTimeout_MBL.ogg"},{bytes:19592,md5:"AJk7Q18XTY8jtkb0nH9QyA",name:"audio/MixingSpoon_Tutorial_DT.mp3"},{bytes:22973,md5:"bneZnDTUyH0_t7KH5-qRqA",name:"audio/MixingSpoon_Tutorial_DT.ogg"},{bytes:20506,md5:"kOkz2Wu4xOjAZZPeuK_C7Q",name:"audio/MixingSpoon_Tutorial_MBL.mp3"},{bytes:24720,md5:"frql664H0qO4K1f1rkC-oA",name:"audio/MixingSpoon_Tutorial_MBL.ogg"},
{bytes:3004,md5:"FNLHNr3Scz4PuFd6NQkxNg",name:"audio/Mixing_HoverEggs.mp3"},{bytes:6487,md5:"EqddUzBkj0qFsUuMuBbzuQ",name:"audio/Mixing_HoverEggs.ogg"},{bytes:6792,md5:"dNyhYV5ItMb1MeQrzGfMtA",name:"audio/Mixing_HoverFlyingFlour.mp3"},{bytes:10068,md5:"Y35PwahR849ZrBMAbwjP3A",name:"audio/Mixing_HoverFlyingFlour.ogg"},{bytes:3004,md5:"Zgklg19z_Zv_L7u_qXgqPA",name:"audio/Mixing_HoverVanilla.mp3"},{bytes:6671,md5:"hNNSiEJ3F07ys3ZCww0bAg",name:"audio/Mixing_HoverVanilla.ogg"},{bytes:23510,md5:"YmZe_TRjtdVwkV5vYWvibw",
name:"audio/Mixing_Outro.mp3"},{bytes:25637,md5:"puRFcuuD01TibniYf4BEPw",name:"audio/Mixing_Outro.ogg"},{bytes:16588,md5:"ofmsNcCmaTydu5tKIoGiHw",name:"audio/Mixing_PlaceChocolateChips.mp3"},{bytes:20465,md5:"ftrWsT8DkdEa_AAzICinSg",name:"audio/Mixing_PlaceChocolateChips.ogg"},{bytes:32E3,md5:"_ilLiJ2WiH5Q99qszOZUXA",name:"audio/Mixing_PlaceEgg.mp3"},{bytes:34833,md5:"HSCzmexw_Lw7ijqRDgcGXg",name:"audio/Mixing_PlaceEgg.ogg"},{bytes:6661,md5:"oYv4iU8Vf5mias7Etxfchg",name:"audio/Mixing_PlaceFlyingFlour.mp3"},
{bytes:9951,md5:"MYgsXZfjI80VxOisofHzsA",name:"audio/Mixing_PlaceFlyingFlour.ogg"},{bytes:10971,md5:"APXN20aZKvEaKam87vc92Q",name:"audio/Mixing_PlaceVanilla.mp3"},{bytes:13876,md5:"6Z8wPvp2kRcIs7vS9S_C_g",name:"audio/Mixing_PlaceVanilla.ogg"},{bytes:7706,md5:"V8Ftoqkk0wIpHe5XrHBidw",name:"audio/Mixing_TapEgg.mp3"},{bytes:10892,md5:"V9GEk5ncX5hkPw72froTDA",name:"audio/Mixing_TapEgg.ogg"},{bytes:8228,md5:"QByvcnXSiaSMIL9dS77DOA",name:"audio/Mixing_Timeout2.mp3"},{bytes:11428,md5:"KKeZPWDNBffs3RcTX37ktA",
name:"audio/Mixing_Timeout2.ogg"},{bytes:13061,md5:"oJXcCHKYqMhN53mW1ozNWA",name:"audio/Mixing_Timeout3_DT.mp3"},{bytes:16995,md5:"2G9rk64bl4SsNXAKHY1twQ",name:"audio/Mixing_Timeout3_DT.ogg"},{bytes:12277,md5:"xgxPnrqtntFm7f8YJfrwpQ",name:"audio/Mixing_Timeout3_MBL.mp3"},{bytes:15631,md5:"4mDBY1S4k8FISdrITSWBpg",name:"audio/Mixing_Timeout3_MBL.ogg"},{bytes:9535,md5:"AsUR_ZQLKTrWIg6pKN4kVQ",name:"audio/Mixing_Timeout4_DT.mp3"},{bytes:13604,md5:"QpWuXpfMWCD-B3J0UNJu3A",name:"audio/Mixing_Timeout4_DT.ogg"},
{bytes:46367,md5:"fQyGzDeU2TzdxqbrW-WZ7A",name:"audio/Mixing_Tutorial1.mp3"},{bytes:48597,md5:"cK3bXqOTWhWuP_BkdjdKZA",name:"audio/Mixing_Tutorial1.ogg"},{bytes:21159,md5:"pvHxVMy51WXM031XKYCHRA",name:"audio/Mixing_Tutorial2_DT.mp3"},{bytes:25056,md5:"o0bsAczRJvRkBOKX2uVuUQ",name:"audio/Mixing_Tutorial2_DT.ogg"},{bytes:13975,md5:"c-6TKj4lv9r0odmEejuu7g",name:"audio/Mixing_Tutorial2_MBL.mp3"},{bytes:17589,md5:"kyfUNrHAH1eb1udKPC_IhQ",name:"audio/Mixing_Tutorial2_MBL.ogg"},{bytes:20375,md5:"JsIdCUdmA1B6obQWRmO-rA",
name:"audio/Mixing_Tutorial3.mp3"},{bytes:23061,md5:"04h61eHPXs-LCHEeib5ZXA",name:"audio/Mixing_Tutorial3.ogg"},{bytes:7314,md5:"pdXkTqx7tbhX9JiRH-4rOg",name:"audio/Mixing_TutorialTimeout1_DT.mp3"},{bytes:10756,md5:"R-JWxRwJN4hc6KH5T1Wl1A",name:"audio/Mixing_TutorialTimeout1_DT.ogg"},{bytes:11102,md5:"T7F4ZoJopYopLE5qd1FU2A",name:"audio/Mixing_TutorialTimeout1_MBL.mp3"},{bytes:14381,md5:"EA0FuXuXT19PY8BvjUe7hQ",name:"audio/Mixing_TutorialTimeout1_MBL.ogg"},{bytes:2654,md5:"XNxfzBkqX82EWnEoIDt2Jw",
name:"audio/Spoon_in.mp3"},{bytes:5904,md5:"1uzGcmp_1GLgz8ajk4OMZQ",name:"audio/Spoon_in.ogg"},{bytes:4254,md5:"6Cvc0T2TFA1eZovl3AHWgA",name:"audio/Spoon_mix.mp3"},{bytes:8077,md5:"7qRjBXbafDvt2bzMhWhHZA",name:"audio/Spoon_mix.ogg"},{bytes:956,md5:"gPyE23yf9vq9zCmrdyFnHg",name:"audio/topping_add.mp3"},{bytes:4597,md5:"qpY9URYgBsfhf_rejSWknA",name:"audio/topping_add.ogg"},{bytes:230139,md5:"ekm2W-AJLqqEPK4AQ7pCIA",name:"audio/njftg_shimmer_saladtruck_musicloopv1b_cooking.mp3"},{bytes:720,md5:"AnMAX1PhsN0vxMx5BX8nAQ",
name:"images/progBarSmallOL.png"},{bytes:236960,md5:"Lub1OnNF0BYpmDti72FwNA",name:"audio/njftg_shimmer_saladtruck_musicloopv1b_cooking.ogg"},{bytes:19682,md5:"SilGU_3AK-DkhtFF8-dcqw",name:"images/progBarSmallUL.png"},{bytes:213334,md5:"2vGXSWn36DX2dFYlU-xtEQ",name:"images/cookieCreator-MixingBG.png"}],cutscene5:[{bytes:1009,md5:"80BmQs6idpuPo967F5qONg",name:"config.json"},{bytes:31033,md5:"ew4ItUDulz7cqysZ6MI6Ag",name:"atlas/library.json"},{bytes:54117,md5:"AcnG6nQtcSDeVhRpD21g5w",name:"audio/CutScene5a_Final_VO.mp3"},
{bytes:40079,md5:"pw1xmVVl6xqdGelAOXICUQ",name:"audio/CutScene5a_Final_VO.ogg"},{bytes:106841,md5:"eHLkAebtYjixorApSEguxg",name:"audio/shfcg_gamemusic_splash_mainmenu_title_screen.mp3"},{bytes:117936,md5:"wTvo-SEmc-0Pp9KnR81oBA",name:"audio/shfcg_gamemusic_splash_mainmenu_title_screen.ogg"},{bytes:529068,md5:"22_CH1RAhe1mrrX889x5Jw",name:"images/CounterShot.png"},{bytes:1075812,md5:"7rYaZ8kKAnYRu4L0YKvkMw",name:"atlas/atlas1.png"},{bytes:1296822,md5:"RkVvp30avcY49lvvdbO1Xw",name:"atlas/atlas0.png"}],
cutscene3:[{bytes:1348,md5:"hwPkCDSQUeVk5TS0WNn5yg",name:"config.json"},{bytes:20461,md5:"IV_ZlRzNqvrnGjKEky5SeQ",name:"atlas/library.json"},{bytes:37791,md5:"JcyhH6jmwCHWGgIKwHOMAQ",name:"audio/CutScene3_1.mp3"},{bytes:28346,md5:"Uup9eWRR_hNQEvPJ5Oi4jg",name:"audio/CutScene3_1.ogg"},{bytes:42232,md5:"NGrA0YgpLz6P6F8B4OB8GQ",name:"audio/CutScene3_2.mp3"},{bytes:38332,md5:"fH58cJWgvHFmwPF3Dp5j-w",name:"audio/CutScene3_2.ogg"},{bytes:106841,md5:"eHLkAebtYjixorApSEguxg",name:"audio/shfcg_gamemusic_splash_mainmenu_title_screen.mp3"},
{bytes:117936,md5:"J1h1-DW0HH6gzYKLBVf8JQ",name:"audio/shfcg_gamemusic_splash_mainmenu_title_screen.ogg"},{bytes:173443,md5:"YW9-KyqI065-Ph6naJDddw",name:"atlas/atlas1.png"},{bytes:123741,md5:"hJ3juAMjkcVEDZnxmh2HUg",name:"images/cookieCounter.png"},{bytes:1600475,md5:"X3UvXsmEIQ7Ga7RhIubP1A",name:"atlas/atlas0.png"}],cutscene2:[{bytes:1306,md5:"bV9Dn4GSpDhgCGdkvp9shQ",name:"config.json"},{bytes:25332,md5:"nI6zjeTCxBVleloEiMQqJg",name:"atlas/library.json"},{bytes:23946,md5:"_2WTD-1Pu2zmUz1fmTuzyQ",
name:"audio/CutScene2_1.mp3"},{bytes:22644,md5:"kGfs_4_vv9-LtGEIqHfUBg",name:"audio/CutScene2_1.ogg"},{bytes:48762,md5:"E3ZcuLvvgNaZuK28Mmdbuw",name:"audio/CutScene2_2.mp3"},{bytes:29413,md5:"bHod_kkTyWqncfz34VUE0Q",name:"audio/CutScene2_2.ogg"},{bytes:106841,md5:"eHLkAebtYjixorApSEguxg",name:"audio/shfcg_gamemusic_splash_mainmenu_title_screen.mp3"},{bytes:117936,md5:"Y_n2GjO_g_yLVo6ljNmTNg",name:"audio/shfcg_gamemusic_splash_mainmenu_title_screen.ogg"},{bytes:167299,md5:"wKtEP1Nr1vsYEi0_BYkwRQ",
name:"images/petRoom.png"},{bytes:380935,md5:"6KCL9GfSEDR0FKlfjzwzXg",name:"atlas/atlas1.png"},{bytes:1274730,md5:"JurPjuHQrFl4dbtqh_ocng",name:"atlas/atlas0.png"}],main:[{bytes:7804,md5:"fJoDg6QNEnT9pX0IBkK5Bw",name:"config.json"},{bytes:25542,md5:"QbbNFvbMS5xSw2aKMaFIfg",name:"merriweather-export.fnt"},{bytes:817,md5:"wGwu9z_Aa_MWJuVH1_EXfA",name:"strings.xml"},{bytes:2220,md5:"-vPb6UfeGbmTgIMqZKfOjw",name:"audio/Btn_Clear.mp3"},{bytes:237570,md5:"b5jpnbADiuFBqgar-MKDGg",name:"merriweather-export.png"},
{bytes:5901,md5:"yjouROmZQaODRbiL65LxCA",name:"audio/Btn_Clear.ogg"},{bytes:2743,md5:"HNt7gFLwdA4nimXlNDfltQ",name:"audio/Btn_Done.mp3"},{bytes:6151,md5:"YvZ5DXW4HOLAR0XQevPZ6g",name:"audio/Btn_Done.ogg"},{bytes:3396,md5:"hIT0ovCH-9Lj_KgFHdlreQ",name:"audio/Btn_Play.mp3"},{bytes:6748,md5:"F1li9x-BP6wsE3q9xgP0xw",name:"audio/Btn_Play.ogg"},{bytes:3788,md5:"vIfALZs-dtSt1GzVT6hGSw",name:"audio/Btn_PlayAgain.mp3"},{bytes:322274,md5:"yTAkQjVCVxA9bE5ipcYIZg",name:"atlas/library.json"},{bytes:7150,md5:"m5nU1tRhqK659VZ7ibb30g",
name:"audio/Btn_PlayAgain.ogg"},{bytes:2873,md5:"uVhvFPEPgqQcGt2_54A0Zw",name:"audio/Btn_Skip.mp3"},{bytes:6664,md5:"qZ8fmA3Nn1gftQAFQ39UCg",name:"audio/Btn_Skip.ogg"},{bytes:7748,md5:"8sgsixdyVvqB-wKqoy7TZg",name:"audio/Game_Start.mp3"},{bytes:9878,md5:"Di-6SV68nokw9N0RIwA0Mw",name:"audio/Game_Start.ogg"},{bytes:6050,md5:"v4FQQLp1R4GCn8RYhux5Aw",name:"audio/Transition.mp3"},{bytes:7519,md5:"CLZ2Q-6I3b7CyTCy6OFlnA",name:"audio/Transition.ogg"},{bytes:572122,md5:"EQy1yD1N74TPxp2N8GxtKw",name:"atlas/atlas0.png"},
{bytes:95,md5:"kAmeXZu_2qdW87TtyliWLg",name:"audio/desktop.ini"},{bytes:16065,md5:"hqUlBI6uVUia0O6in7Qjow",name:"audio/njftg_shimmer_saladtruck_endstingerv1a.mp3"},{bytes:17017,md5:"gLuHURjL5xz0IXzcGeHUVQ",name:"audio/njftg_shimmer_saladtruck_endstingerv1a.ogg"},{bytes:14794,md5:"zZoYMrqrm_Ps35HRUb-wjQ",name:"images/borderBottom.png"},{bytes:9153,md5:"MJCxD7E9KiONEL458DrTiQ",name:"images/borderLeft.png"},{bytes:10909,md5:"8NtY5cF0FZSMUBOCexh_Wg",name:"images/borderRight.png"},{bytes:13233,md5:"GWT81aL6kZDzihMgL3nhRA",
name:"images/borderTop.png"},{bytes:720,md5:"AnMAX1PhsN0vxMx5BX8nAQ",name:"images/progBarSmallOL.png"},{bytes:400581,md5:"d21Szui8v54rirhhzVIxYw",name:"images/Loaderbg.png"}]},width:960}]}};R.$YR=0;R.$ZR=0;R.$aR=!0;I.$PS=["webkit","moz","ms"];I.$QS=(new lb("(iPhone|iPod|iPad)","")).match(window.navigator.userAgent);N.$GT=!0;Wa.$TI=new Na;Sb.DEBUG_API_KEY="20097503694994282267115383615156";Sb.LIVE_API_KEY="20097513804169840649064764315156";s.CUTSCENE2="cutscene2";s.CUTSCENE3="cutscene3";s.DECORATING=
"decorating";s.INTRO="intro";s.OUTRO="outro";s.PLATFORMER="platformer";s.SNAKE="snake";s.TITLE="title";s.MIXING_COMBINING="mixingCombining";s.MIXING_MIXING="mixingMixing";s.CUTSCENE4="cutscene4";s.CUTSCENE5="cutscene5";s.PLAY_AGAIN_KEY="playagainButton";s.PLAY_AGAIN_LOCALE="BTN_PLAY_AGAIN";s.UI_BTN_PLAY="Play";s.UI_BTN_SKIP="Skip";s.UI_BTN_DONE="Done";s.UI_BTN_CLEAR="Clear";s.UI_BTN_PLAY_AGAIN="Play Again";s.TITLE_SCREEN_NAME="Title Screen";s.GEM_HUNT_NAME="Gem Hunt";s.PLATFORMER_NAME="Platformer";
s.COOKIE_MIXING_NAME="Cookie Mixing";s.COOKIE_DECORATING_NAME="Cookie Decorating";s.COOKIE_DECORATING_RESULT_NAME="Cookie Decorating Result";s.CUTSCENE_SIX_NAME="Cutscene 6";s.GEM_HUNT_TUTORIAL_NAME="Gem Hunt Tutorial";s.PLATFORMER_TUTORIAL_NAME="Platformer Tutorial";s.COOKIE_MIXING_TUTORIAL_ONE_NAME="Cookie Mixing Tutorial 1";s.COOKIE_MIXING_TUTORIAL_TWO_NAME="Cookie Mixing Tutorial 2";s.COOKIE_DECORATING_TUTORIAL_NAME="Cookie Decorating Tutorial";s.OBSTACLES_HIT="obstaclesHit";s.JUMPS_TAKEN="jumpsTaken";
s.RAISIN_COUNT="raisinCount";s.MALLOW_COUNT="mallowCount";s.STAR_COUNT="starCount";s.RAINBOW_COUNT="rainbowCount";s.BERRY_COUNT="berryCount";s.GUMDROP_COUNT="gumdropCount";ba.ENTITY_SLOT=8;sb.ENTITY_SLOT=8;sb.firstLoad=!0;se.ENTITY_SLOT=8;tb.ENTITY_SLOT=8;te.ENTITY_SLOT=8;Z.ENTITY_SLOT=8;ue.ENTITY_SLOT=8;Ce.ENTITY_SLOT=11;De.ENTITY_SLOT=11;Ee.ENTITY_SLOT=8;Me.ENTITY_SLOT=11;Ne.ENTITY_SLOT=11;Oe.ENTITY_SLOT=11;Pe.ENTITY_SLOT=11;Qe.ENTITY_SLOT=11;Re.ENTITY_SLOT=8;Fg.CHECKPOINT="checkpoint";Kb.fillIcon=
new L;kb.parallaxScroll=new mb;af.ENTITY_SLOT=11;bf.ENTITY_SLOT=11;cf.ENTITY_SLOT=11;df.ENTITY_SLOT=11;ef.ENTITY_SLOT=8;ga.returnToPool=new L;ga.onCollectableCollected=new L;ga.depthSort=new Q;ga.flickScroll=new L;ga.flickScrollFinished=new Q;ga.timesUp=new Q;jf.SPAWNABLE_GRID_KEYS=["a","g","o"];jf.NONREMOVABLE_OBJECT_KEYS=["w","o","e",""];kf.ENTITY_SLOT=11;B.NOT_AVAILABLE="N/A";Dg.$MN()})("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this);
