function t(){return function(){}}function x(C){return function(E){this[C]=E}}function z(C){return function(){return this[C]}}function I(C){return function(){return C}}
(function(){function C(){}function E(){}function F(){}function O(){this.b=""}function r(){}function K(){}function P(){}function s(){}function w(){}function Q(a,n){n=n.split("u").join("");this.wS=RegExp(a,n)}function q(a,n){function b(){}b.prototype=a;var f=new b,d;for(d in n)f[d]=n[d];n.toString!==Object.prototype.toString&&(f.toString=n.toString);return f}function u(a,n){if(null==n)return null;null==n.XA&&(n.XA=V++);var b;null==a.YD?a.YD={}:b=a.YD[n.XA];null==b&&(b=function(){return b.method.apply(b.scope,
arguments)},b.scope=a,b.method=n,a.YD[n.XA]=b);return b}Q.n=["EReg"];Q.prototype={replace:function(a,n){return a.replace(this.wS,n)},r:Q};w.n=["HxOverrides"];w.Mm=function(a,n){var b=a.charCodeAt(n);return b!=b?void 0:b};w.substr=function(a,n,b){if(null!=n&&0!=n&&null!=b&&0>b)return"";null==b&&(b=a.length);0>n?(n=a.length+n,0>n&&(n=0)):0>b&&(b=a.length+b-n);return a.substr(n,b)};w.indexOf=function(a,n,b){var f=a.length;0>b&&(b+=f,0>b&&(b=0));for(;b<f;){if(a[b]===n)return b;b++}return-1};w.remove=
function(a,n){var b=w.indexOf(a,n,0);if(-1==b)return!1;a.splice(b,1);return!0};s.n=["Main"];s.main=function(){s.init()};s.Y3=function(a,n,b,f){var d;d=s.kd().createElement("script");d.type="text/javascript";d.async=!0;d.src=n;d.id=a;s.kd().body.appendChild(d);d.onload=b;d.onerror=f};s.oV=function(){var a=document.createElement("canvas");if(null==a.getContext||null==a.getContext("2d").fillText)return!1;a=window.audioContextInstance;return b.D.ae()&&null==a?!1:!0};s.pV=function(){return null!=y.Gh.Qu()&&
null!=y.Gh.Su()&&null!=navigator.cookieEnabled&&navigator.cookieEnabled};s.init=function(){if(s.oV())if(s.pV()){s.Nm=s.kd().createElement("div");window.u6="0";s.Nm.style.position="relative";s.Nm.className="container";s.Nm.style.width=s.Wl+"px";s.Nm.style.height=s.Vl+"px";s.kd().body.appendChild(s.Nm);var a=s.xP(s.Od().location.href);""==a&&(null!=s.Od().frameElement&&s.Od().frameElement.hasAttribute("data-locale"))&&(a=r.sc(s.Od().frameElement.getAttribute("data-locale")),a=a.toLowerCase());""==a&&
(a="en-us");s.vc=a;a=0.5*s.Od().innerWidth-0.5*s.Vl;s.Nm.style.left=0.5*s.Od().innerWidth-0.5*s.Wl+"px";s.Nm.style.top=a+"px";b.audio.SoundManager.init();s.root=new b.D("tom_and_jerry_cheddar_chase",new c.ir.Bs);s.root.init();window.NS=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(){window.setTimeout(s.update,1E3/(b.D.ae()?s.ZL:s.YL))}}();s.update()}else window.location.href="cookies.html";else window.location.href="unsupported.html"};
s.xP=function(a){a=a.split("?");if(2>a.length)return"";a=a[1].split("&");for(var n=a.length,b=0;b<n;){var f=b++;if(F.EF(a[f],"locale")&&(f=a[f].split("="),!(2>f.length)))return f[1]}return""};s.update=function(){s.root.Jb();s.root.update();s.root.render();s.root.ee();"1"==b.ha.na("debugDraw")&&s.root.hd();window.NS(s.update)};s.kd=function(){return window.document};s.Od=function(){return window};s.getCanvas=function(){return s.canvas};s.Na=function(){return s.Nm};s.GI=function(){for(var a=window.location.href.split("/"),
n="",b=0,f=a.length-1;b<f;)var d=b++,n=n+(a[d]+"/");return n};P.n=["IMap"];P.prototype={r:P};Math.n=["Math"];K.n=["Reflect"];K.field=function(a,n){try{return a[n]}catch(b){return null}};K.setProperty=function(a,n,b){var f;if(a.tq&&(f=a.tq["set_"+n]))a[f](b);else a[n]=b};K.eE=function(a){return"function"==typeof a&&!(a.n||a.sg)};K.iI=function(a,n){return a==n?!0:K.eE(a)&&K.eE(n)?a.scope==n.scope&&a.method==n.method&&null!=a.method:!1};r.n=["Std"];r.is=function(a,n){return y.fb.Dt(a,n)};r.sc=function(a){return y.fb.Et(a,
"")};r["int"]=function(a){return a|0};r.Gb=function(a){var n=parseInt(a,10);0!=n||120!=w.Mm(a,1)&&88!=w.Mm(a,1)||(n=parseInt(a));return isNaN(n)?null:n};r.xa=function(a){return parseFloat(a)};O.n=["StringBuf"];O.prototype={add:function(a){this.b+=r.sc(a)},ZM:function(a,n,b){this.b=null==b?this.b+w.substr(a,n,null):this.b+w.substr(a,n,b)},r:O};F.n=["StringTools"];F.EF=function(a,n){return a.length>=n.length&&w.substr(a,0,n.length)==n};F.replace=function(a,n,b){return a.split(n).join(b)};F.yO=function(a,
n){return a.charCodeAt(n)};E.n=["Type"];E.Vh=function(a){return null==a?null:a instanceof Array&&null==a.sb?Array:a.r};E.RD=function(a){return a.I};E.JI=function(a){return a.n.join(".")};E.mI=function(a,n,b){var f=K.field(a,n);if(null==f)throw"No such constructor "+n;if(K.eE(f)){if(null==b)throw"Constructor "+n+" need parameters";return f.apply(a,b)}if(null!=b&&0!=b.length)throw"Constructor "+n+" does not need parameters";return f};E.jD=function(a,n){var b=a.mh[n];if(null==b)throw n+" is not a valid enum constructor index";
return E.mI(a,b,void 0)};E.aP=function(a){return a.mh.slice()};E.MH=function(a){return a.Mh};C.n=["Xml"];C.parse=function(a){return D.xml.Xk.parse(a)};C.createElement=function(a){var n=new C;n.nodeType=C.Jj;n.Kc=[];n.cB=new D.jd.me;n.AL(a);return n};C.kD=function(a){var n=new C;n.nodeType=C.VL;n.Wr(a);return n};C.JN=function(a){var n=new C;n.nodeType=C.PL;n.Wr(a);return n};C.createComment=function(a){var n=new C;n.nodeType=C.RL;n.Wr(a);return n};C.MN=function(a){var n=new C;n.nodeType=C.TL;n.Wr(a);
return n};C.createProcessingInstruction=function(a){var n=new C;n.nodeType=C.WL;n.Wr(a);return n};C.createDocument=function(){var a=new C;a.nodeType=C.GA;a.Kc=[];return a};C.prototype={UD:function(){if(this.nodeType!=C.Jj)throw"bad nodeType";return this.gC},AL:function(a){if(this.nodeType!=C.Jj)throw"bad nodeType";return this.gC=a},Ez:function(){if(this.nodeType==C.Jj||this.nodeType==C.GA)throw"bad nodeType";return this.zM},Wr:function(a){if(this.nodeType==C.Jj||this.nodeType==C.GA)throw"bad nodeType";
return this.zM=a},get:function(a){if(this.nodeType!=C.Jj)throw"bad nodeType";return this.cB.get(a)},set:function(a,n){if(this.nodeType!=C.Jj)throw"bad nodeType";this.cB.set(a,n)},Eb:function(a){if(this.nodeType!=C.Jj)throw"bad nodeType";return this.cB.Eb(a)},Ma:function(a){if(null==this.Kc)throw"bad nodetype";return{Xy:0,x:this.Kc,xc:function(){for(var n=this.Xy,b=this.x.length;n<b;){var f=this.x[n];if(f.nodeType==C.Jj&&f.gC==a)break;n++}this.Xy=n;return n<b},next:function(){for(var n=this.Xy,b=this.x.length;n<
b;){var f=this.x[n];n++;if(f.nodeType==C.Jj&&f.gC==a)return this.Xy=n,f}return null}}},firstChild:function(){if(null==this.Kc)throw"bad nodetype";return this.Kc[0]},addChild:function(a){if(null==this.Kc)throw"bad nodetype";null!=a.Xf&&w.remove(a.Xf.Kc,a);a.Xf=this;this.Kc.push(a)},r:C,tq:{Wr:"set_nodeValue",Ez:"get_nodeValue",AL:"set_nodeName",UD:"get_nodeName"}};var d={l:{}};d.l.Kk=function(){this.lowerBound=new d.f.math.K;this.upperBound=new d.f.math.K};d.l.Kk.n=["box2D","collision","B2AABB"];d.l.Kk.prototype=
{Br:function(){var a=this.upperBound.y-this.lowerBound.y;return a=(a=0<=this.upperBound.x-this.lowerBound.x&&0<=a)&&this.lowerBound.Br()&&this.upperBound.Br()},Lu:function(){return new d.f.math.K((this.lowerBound.x+this.upperBound.x)/2,(this.lowerBound.y+this.upperBound.y)/2)},bP:function(){return new d.f.math.K((this.upperBound.x-this.lowerBound.x)/2,(this.upperBound.y-this.lowerBound.y)/2)},contains:function(a){var n;return n=(n=(n=(n=this.lowerBound.x<=a.lowerBound.x)&&this.lowerBound.y<=a.lowerBound.y)&&
a.upperBound.x<=this.upperBound.x)&&a.upperBound.y<=this.upperBound.y},Ch:function(a,n){var b=-Number.MAX_VALUE,f=Number.MAX_VALUE,d=n.Rf.x,c=n.Rf.y,h=n.Hi.x-n.Rf.x,l=n.Hi.y-n.Rf.y,m=Math.abs(h),p=Math.abs(l),v=a.yc;if(m<Number.MIN_VALUE){if(d<this.lowerBound.x||this.upperBound.x<d)return!1}else if(m=1/h,h=(this.lowerBound.x-d)*m,d=(this.upperBound.x-d)*m,m=-1,h>d&&(m=h,h=d,d=m,m=1),h>b&&(v.x=m,v.y=0,b=h),f=Math.min(f,d),b>f)return!1;if(p<Number.MIN_VALUE){if(c<this.lowerBound.y||this.upperBound.y<
c)return!1}else if(m=1/l,h=(this.lowerBound.y-c)*m,d=(this.upperBound.y-c)*m,m=-1,h>d&&(m=h,h=d,d=m,m=1),h>b&&(v.y=m,v.x=0,b=h),f=Math.min(f,d),b>f)return!1;a.Ju=b;return!0},Rl:function(a){var n=a.lowerBound.y-this.upperBound.y,b=this.lowerBound.y-a.upperBound.y;return 0<a.lowerBound.x-this.upperBound.x||0<n||0<this.lowerBound.x-a.upperBound.x||0<b?!1:!0},Wy:function(a,n){this.lowerBound.x=Math.min(a.lowerBound.x,n.lowerBound.x);this.lowerBound.y=Math.min(a.lowerBound.y,n.lowerBound.y);this.upperBound.x=
Math.max(a.upperBound.x,n.upperBound.x);this.upperBound.y=Math.max(a.upperBound.y,n.upperBound.y)},r:d.l.Kk};d.f={};d.f.math={};d.f.math.K=function(a,n){null==n&&(n=0);null==a&&(a=0);this.x=a;this.y=n};d.f.math.K.n=["box2D","common","math","B2Vec2"];d.f.math.K.LQ=function(){return new d.f.math.K(0,0)};d.f.math.K.prototype={Pb:function(){this.y=this.x=0},set:function(a,n){null==n&&(n=0);null==a&&(a=0);this.x=a;this.y=n},ca:function(a){this.x=a.x;this.y=a.y},Do:function(){return new d.f.math.K(-this.x,
-this.y)},gK:function(){this.x=-this.x;this.y=-this.y},copy:function(){return new d.f.math.K(this.x,this.y)},add:function(a){this.x+=a.x;this.y+=a.y},Kv:function(a){this.x-=a.x;this.y-=a.y},multiply:function(a){this.x*=a;this.y*=a},Om:function(a){var n=this.x;this.x=a*this.y;this.y=-a*n},Du:function(a){var n=this.x;this.x=-a*this.y;this.y=a*n},eK:function(a){this.x=this.x<a.x?this.x:a.x;this.y=this.y<a.y?this.y:a.y},dK:function(a){this.x=this.x>a.x?this.x:a.x;this.y=this.y>a.y?this.y:a.y},abs:function(){0>
this.x&&(this.x=-this.x);0>this.y&&(this.y=-this.y)},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},Nz:function(){return this.x*this.x+this.y*this.y},normalize:function(){var a=Math.sqrt(this.x*this.x+this.y*this.y);if(a<Number.MIN_VALUE)return 0;var n=1/a;this.x*=n;this.y*=n;return a},Br:function(){return d.f.math.G.Br(this.x)&&d.f.math.G.Br(this.y)},r:d.f.math.K};d.l.Js=function(){this.ai=new d.f.math.K;this.id=new d.l.sn};d.l.Js.n=["box2D","collision","ClipVertex"];d.l.Js.prototype=
{set:function(a){this.ai.ca(a.ai);this.id.set(a.id)},r:d.l.Js};d.l.sn=function(){this.features=new d.l.tw;this.features.xm=this};d.l.sn.n=["box2D","collision","B2ContactID"];d.l.sn.prototype={set:function(a){this.Ql(a.Wg)},copy:function(){var a=new d.l.sn;a.Ql(this.Dz());return a},Dz:z("Wg"),Ql:function(a){this.Wg=a;this.features.AC=this.Wg&255;this.features.OB=(this.Wg&65280)>>8&255;this.features.PB=(this.Wg&16711680)>>16&255;this.features.yB=(this.Wg&-16777216)>>24&255;return this.Wg},r:d.l.sn,
tq:{Ql:"set_key",Dz:"get_key"}};d.l.tw=t();d.l.tw.n=["box2D","collision","Features"];d.l.tw.prototype={TP:z("AC"),xF:function(a){this.AC=a;this.xm.Wg=this.xm.Wg&-256|this.AC&255;return a},RP:z("OB"),vF:function(a){this.OB=a;this.xm.Wg=this.xm.Wg&-65281|this.OB<<8&65280;return a},SP:z("PB"),wF:function(a){this.PB=a;this.xm.Wg=this.xm.Wg&-16711681|this.PB<<16&16711680;return a},QP:z("yB"),zL:function(a){this.yB=a;this.xm.Wg=this.xm.Wg&16777215|this.yB<<24&-16777216;return a},r:d.l.tw,tq:{zL:"set_flip",
QP:"get_flip",wF:"set_incidentVertex",SP:"get_incidentVertex",vF:"set_incidentEdge",RP:"get_incidentEdge",xF:"set_referenceEdge",TP:"get_referenceEdge"}};d.l.$a=t();d.l.$a.n=["box2D","collision","B2Collision"];d.l.$a.fI=function(a,n,b,f){var d,c=0;d=n[0];var h=d.ai;d=n[1];var l=d.ai,m=b.x*h.x+b.y*h.y-f;d=b.x*l.x+b.y*l.y-f;0>=m&&a[c++].set(n[0]);0>=d&&a[c++].set(n[1]);0>m*d&&(b=m/(m-d),d=a[c],d=d.ai,d.x=h.x+b*(l.x-h.x),d.y=h.y+b*(l.y-h.y),d=a[c],d.id=(0<m?n[0]:n[1]).id,++c);return c};d.l.$a.cz=function(a,
n,b,f,d){var c=a.Aa;a=a.td;var h=f.Vc,l=f.Aa,m,p;m=n.Q;p=a[b];a=m.s.x*p.x+m.t.x*p.y;f=m.s.y*p.x+m.t.y*p.y;m=d.Q;var v=m.s.x*a+m.s.y*f;m=m.t.x*a+m.t.y*f;for(var B=0,q=Number.MAX_VALUE,s=0;s<h;){var r=s++;p=l[r];p=p.x*v+p.y*m;p<q&&(q=p,B=r)}p=c[b];m=n.Q;b=n.position.x+(m.s.x*p.x+m.t.x*p.y);n=n.position.y+(m.s.y*p.x+m.t.y*p.y);p=l[B];m=d.Q;c=d.position.x+(m.s.x*p.x+m.t.x*p.y);d=d.position.y+(m.s.y*p.x+m.t.y*p.y);return(c-b)*a+(d-n)*f};d.l.$a.DI=function(a,n,b,f,c){var g=n.Vc,h=n.td,l,m;m=c.Q;l=f.El;
var p=c.position.x+(m.s.x*l.x+m.t.x*l.y),v=c.position.y+(m.s.y*l.x+m.t.y*l.y);m=b.Q;l=n.El;p-=b.position.x+(m.s.x*l.x+m.t.x*l.y);v-=b.position.y+(m.s.y*l.x+m.t.y*l.y);m=p*b.Q.s.x+v*b.Q.s.y;for(var v=p*b.Q.t.x+v*b.Q.t.y,p=0,B=-Number.MAX_VALUE,q=0;q<g;){var s=q++;l=h[s];l=l.x*m+l.y*v;l>B&&(B=l,p=s)}h=d.l.$a.cz(n,b,p,f,c);B=0<=p-1?p-1:g-1;m=d.l.$a.cz(n,b,B,f,c);q=p+1<g?p+1:0;v=d.l.$a.cz(n,b,q,f,c);if(m>h&&m>v)l=-1;else if(v>h)l=1,B=q,m=v;else return a[0]=p,h;for(;;)if(p=-1==l?0<=B-1?B-1:g-1:B+1<g?B+
1:0,h=d.l.$a.cz(n,b,p,f,c),h>m)B=p,m=h;else break;a[0]=B;return m};d.l.$a.AO=function(a,n,b,f,d,c){var h=n.td,l=d.Vc;n=d.Aa;d=d.td;var m;m=b.Q;b=h[f];var h=m.s.x*b.x+m.t.x*b.y,p=m.s.y*b.x+m.t.y*b.y;m=c.Q;b=m.s.x*h+m.s.y*p;p=m.t.x*h+m.t.y*p;h=b;m=0;for(var v=Number.MAX_VALUE,B=0;B<l;){var q=B++;b=d[q];b=h*b.x+p*b.y;b<v&&(v=b,m=q)}d=m;h=d+1<l?d+1:0;l=a[0];b=n[d];m=c.Q;l.ai.x=c.position.x+(m.s.x*b.x+m.t.x*b.y);l.ai.y=c.position.y+(m.s.y*b.x+m.t.y*b.y);l.id.features.xF(f);l.id.features.vF(d);l.id.features.wF(0);
l=a[1];b=n[h];m=c.Q;l.ai.x=c.position.x+(m.s.x*b.x+m.t.x*b.y);l.ai.y=c.position.y+(m.s.y*b.x+m.t.y*b.y);l.id.features.xF(f);l.id.features.vF(h);l.id.features.wF(1)};d.l.$a.zE=function(){var a=[];a[0]=new d.l.Js;a[1]=new d.l.Js;return a};d.l.$a.DN=function(a,n,b,f,c){var g;a.je=0;var h=n.Fb+f.Fb,l;d.l.$a.fF[0]=0;var m=d.l.$a.DI(d.l.$a.fF,n,b,f,c);l=d.l.$a.fF[0];if(!(m>h)){var p;d.l.$a.gF[0]=0;var v=d.l.$a.DI(d.l.$a.gF,f,c,n,b);p=d.l.$a.gF[0];if(!(v>h)){v>0.98*m+0.001?(m=f,f=n,n=c,a.ec=d.l.Ae.$l,l=
1):(m=n,n=b,b=c,p=l,a.ec=d.l.Ae.di,l=0);c=d.l.$a.WS;d.l.$a.AO(c,m,n,p,f,b);v=m.Aa;f=v[p];var B;B=p+1<m.Vc?v[p+1|0]:v[0];m=d.l.$a.ZS;m.set(B.x-f.x,B.y-f.y);m.normalize();v=d.l.$a.YS;v.x=m.y;v.y=-m.x;var q=d.l.$a.aT;q.set(0.5*(f.x+B.x),0.5*(f.y+B.y));g=d.l.$a.gT;p=n.Q;g.x=p.s.x*m.x+p.t.x*m.y;g.y=p.s.y*m.x+p.t.y*m.y;var s=d.l.$a.hT;s.x=-g.x;s.y=-g.y;m=d.l.$a.$S;m.x=g.y;m.y=-g.x;var r=d.l.$a.kT,u=d.l.$a.lT;r.x=n.position.x+(p.s.x*f.x+p.t.x*f.y);r.y=n.position.y+(p.s.y*f.x+p.t.y*f.y);u.x=n.position.x+
(p.s.x*B.x+p.t.x*B.y);u.y=n.position.y+(p.s.y*B.x+p.t.y*B.y);n=m.x*r.x+m.y*r.y;p=g.x*u.x+g.y*u.y+h;B=d.l.$a.US;f=d.l.$a.VS;c=d.l.$a.fI(B,c,s,-g.x*r.x-g.y*r.y+h);if(!(2>c||(c=d.l.$a.fI(f,B,g,p),2>c))){a.Ke.ca(v);a.Tb.ca(q);v=c=0;for(q=d.f.P.Lm;v<q;)p=v++,g=f[p],m.x*g.ai.x+m.y*g.ai.y-n<=h&&(s=a.Ob[c],p=b.Q,r=g.ai.x-b.position.x,B=g.ai.y-b.position.y,s.Tb.x=r*p.s.x+B*p.s.y,s.Tb.y=r*p.t.x+B*p.t.y,s.Ei.set(g.id),s.Ei.features.zL(l),++c);a.je=c}}}};d.l.$a.BN=function(a,n,b,f,c){a.je=0;var g,h;g=b.Q;h=n.Tc;
var l=b.position.x+(g.s.x*h.x+g.t.x*h.y);b=b.position.y+(g.s.y*h.x+g.t.y*h.y);g=c.Q;h=f.Tc;l=c.position.x+(g.s.x*h.x+g.t.x*h.y)-l;c=c.position.y+(g.s.y*h.x+g.t.y*h.y)-b;g=n.Fb+f.Fb;l*l+c*c>g*g||(a.ec=d.l.Ae.ow,a.Tb.ca(n.Tc),a.Ke.Pb(),a.je=1,a.Ob[0].Tb.ca(f.Tc),a.Ob[0].Ei.Ql(0))};d.l.$a.CN=function(a,n,b,f,c){a.je=0;var g,h,l,m;m=c.Q;l=f.Tc;var p=c.position.y+(m.s.y*l.x+m.t.y*l.y);g=c.position.x+(m.s.x*l.x+m.t.x*l.y)-b.position.x;h=p-b.position.y;m=b.Q;b=g*m.s.x+h*m.s.y;m=g*m.t.x+h*m.t.y;var v=0;c=
-Number.MAX_VALUE;var p=n.Fb+f.Fb,B=n.Vc,q=n.Aa;n=n.td;for(var s=0;s<B;){var r=s++;l=q[r];g=b-l.x;h=m-l.y;l=n[r];l=l.x*g+l.y*h;if(l>p)return;l>c&&(c=l,v=r)}l=v;g=q[l];B=q[l+1<B?l+1:0];c<Number.MIN_VALUE?(a.je=1,a.ec=d.l.Ae.di,a.Ke.ca(n[v]),a.Tb.x=0.5*(g.x+B.x),a.Tb.y=0.5*(g.y+B.y),a.Ob[0].Tb.ca(f.Tc),a.Ob[0].Ei.Ql(0)):(c=(b-B.x)*(g.x-B.x)+(m-B.y)*(g.y-B.y),0>=(b-g.x)*(B.x-g.x)+(m-g.y)*(B.y-g.y)?(b-g.x)*(b-g.x)+(m-g.y)*(m-g.y)>p*p||(a.je=1,a.ec=d.l.Ae.di,a.Ke.x=b-g.x,a.Ke.y=m-g.y,a.Ke.normalize(),
a.Tb.ca(g),a.Ob[0].Tb.ca(f.Tc),a.Ob[0].Ei.Ql(0)):0>=c?(b-B.x)*(b-B.x)+(m-B.y)*(m-B.y)>p*p||(a.je=1,a.ec=d.l.Ae.di,a.Ke.x=b-B.x,a.Ke.y=m-B.y,a.Ke.normalize(),a.Tb.ca(B),a.Ob[0].Tb.ca(f.Tc),a.Ob[0].Ei.Ql(0)):(v=0.5*(g.x+B.x),g=0.5*(g.y+B.y),c=(b-v)*n[l].x+(m-g)*n[l].y,c>p||(a.je=1,a.ec=d.l.Ae.di,a.Ke.x=n[l].x,a.Ke.y=n[l].y,a.Ke.normalize(),a.Tb.set(v,g),a.Ob[0].Tb.ca(f.Tc),a.Ob[0].Ei.Ql(0))))};d.l.$a.Rl=function(a,n){var b=n.lowerBound,f=a.upperBound,d=b.x-f.x,c=b.y-f.y,b=a.lowerBound,f=n.upperBound,
h=b.y-f.y;return 0<d||0<c||0<b.x-f.x||0<h?!1:!0};d.l.Wv=function(){this.position=new d.f.math.K;this.yc=new d.f.math.K;this.id=new d.l.sn};d.l.Wv.n=["box2D","collision","B2ContactPoint"];d.l.Wv.prototype={r:d.l.Wv};d.l.fw=function(){this.cb=new d.l.Bp;this.ub=new d.l.Bp;this.Bh=new d.l.Bp;this.Aa=[];this.Aa[0]=this.cb;this.Aa[1]=this.ub;this.Aa[2]=this.Bh};d.l.fw.n=["box2D","collision","B2Simplex"];d.l.fw.prototype={zS:function(a,n,b,f,c){d.f.P.Td(0<=a.count&&3>=a.count);var g,h;this.Zc=a.count;for(var l=
this.Aa,m,p=0,v=this.Zc;p<v;)g=p++,m=l[g],m.We=a.We[g],m.Xe=a.Xe[g],g=n.Lf(m.We),h=f.Lf(m.Xe),m.Sf=d.f.math.G.de(b,g),m.Ki=d.f.math.G.de(c,h),m.w=d.f.math.G.Ld(m.Ki,m.Sf),m.a=0;1<this.Zc&&(a=a.QQ,m=this.iJ(),m<0.5*a||2*a<m||m<Number.MIN_VALUE)&&(this.Zc=0);0==this.Zc&&(m=l[0],m.We=0,m.Xe=0,g=n.Lf(0),h=f.Lf(0),m.Sf=d.f.math.G.de(b,g),m.Ki=d.f.math.G.de(c,h),m.w=d.f.math.G.Ld(m.Ki,m.Sf),this.Zc=1)},sV:function(a){a.QQ=this.iJ();a.count=this.Zc|0;for(var n=this.Aa,b=0,f=this.Zc;b<f;){var d=b++;a.We[d]=
n[d].We|0;a.Xe[d]=n[d].Xe|0}},BP:function(){switch(this.Zc){case 1:return this.cb.w.Do();case 2:var a=d.f.math.G.Ld(this.ub.w,this.cb.w);return 0<d.f.math.G.lr(a,this.cb.w.Do())?d.f.math.G.Du(1,a):d.f.math.G.Om(a,1);default:return d.f.P.Td(!1),new d.f.math.K}},KI:function(){switch(this.Zc){case 0:return d.f.P.Td(!1),new d.f.math.K;case 1:return this.cb.w;case 2:return new d.f.math.K(this.cb.a*this.cb.w.x+this.ub.a*this.ub.w.x,this.cb.a*this.cb.w.y+this.ub.a*this.ub.w.y);default:return d.f.P.Td(!1),
new d.f.math.K}},KP:function(a,n){switch(this.Zc){case 0:d.f.P.Td(!1);break;case 1:a.ca(this.cb.Sf);n.ca(this.cb.Ki);break;case 2:a.x=this.cb.a*this.cb.Sf.x+this.ub.a*this.ub.Sf.x;a.y=this.cb.a*this.cb.Sf.y+this.ub.a*this.ub.Sf.y;n.x=this.cb.a*this.cb.Ki.x+this.ub.a*this.ub.Ki.x;n.y=this.cb.a*this.cb.Ki.y+this.ub.a*this.ub.Ki.y;break;case 3:n.x=a.x=this.cb.a*this.cb.Sf.x+this.ub.a*this.ub.Sf.x+this.Bh.a*this.Bh.Sf.x;n.y=a.y=this.cb.a*this.cb.Sf.y+this.ub.a*this.ub.Sf.y+this.Bh.a*this.Bh.Sf.y;break;
default:d.f.P.Td(!1)}},iJ:function(){switch(this.Zc){case 0:return d.f.P.Td(!1),0;case 1:return 0;case 2:return d.f.math.G.Ld(this.cb.w,this.ub.w).length();case 3:return d.f.math.G.lr(d.f.math.G.Ld(this.ub.w,this.cb.w),d.f.math.G.Ld(this.Bh.w,this.cb.w));default:return d.f.P.Td(!1),0}},LU:function(){var a=this.cb.w,n=this.ub.w,b=d.f.math.G.Ld(n,a),a=-(a.x*b.x+a.y*b.y);0>=a?this.Zc=this.cb.a=1:(n=n.x*b.x+n.y*b.y,0>=n?(this.Zc=this.ub.a=1,this.cb.set(this.ub)):(b=1/(n+a),this.cb.a=n*b,this.ub.a=a*b,
this.Zc=2))},MU:function(){var a=this.cb.w,n=this.ub.w,b=this.Bh.w,f=d.f.math.G.Ld(n,a),c=d.f.math.G.sf(n,f),g=-d.f.math.G.sf(a,f),h=d.f.math.G.Ld(b,a),l=d.f.math.G.sf(b,h),m=-d.f.math.G.sf(a,h),p=d.f.math.G.Ld(b,n),v=d.f.math.G.sf(b,p),p=-d.f.math.G.sf(n,p),h=d.f.math.G.lr(f,h),f=h*d.f.math.G.lr(n,b),b=h*d.f.math.G.lr(b,a),a=h*d.f.math.G.lr(a,n);0>=g&&0>=m?this.Zc=this.cb.a=1:0<c&&0<g&&0>=a?(l=1/(c+g),this.cb.a=c*l,this.ub.a=g*l,this.Zc=2):0<l&&0<m&&0>=b?(c=1/(l+m),this.cb.a=l*c,this.Bh.a=m*c,this.Zc=
2,this.ub.set(this.Bh)):0>=c&&0>=p?(this.Zc=this.ub.a=1,this.cb.set(this.ub)):0>=l&&0>=v?(this.Zc=this.Bh.a=1,this.cb.set(this.Bh)):0<v&&0<p&&0>=f?(c=1/(v+p),this.ub.a=v*c,this.Bh.a=p*c,this.Zc=2,this.cb.set(this.Bh)):(c=1/(f+b+a),this.cb.a=f*c,this.ub.a=b*c,this.Bh.a=a*c,this.Zc=3)},r:d.l.fw};d.l.Bp=t();d.l.Bp.n=["box2D","collision","B2SimplexVertex"];d.l.Bp.prototype={set:function(a){this.Sf.ca(a.Sf);this.Ki.ca(a.Ki);this.w.ca(a.w);this.a=a.a;this.We=a.We;this.Xe=a.Xe},r:d.l.Bp};d.l.Fh=t();d.l.Fh.n=
["box2D","collision","B2Distance"];d.l.Fh.distance=function(a,n,b){++d.l.Fh.IZ;var f=b.Ml,c=b.Nl,g=b.bV,h=b.cV,l=d.l.Fh.eT;l.zS(n,f,g,c,h);var m=l.Aa,p=d.l.Fh.cT,v=d.l.Fh.dT,B=0;l.KI();for(var q=0;20>q;){for(var B=l.Zc,s=0;s<B;){var u=s++;p[u]=m[u].We;v[u]=m[u].Xe}switch(l.Zc){case 1:break;case 2:l.LU();break;case 3:l.MU();break;default:d.f.P.Td(!1)}if(3==l.Zc)break;l.KI();u=l.BP();if(u.Nz()<Number.MIN_VALUE*Number.MIN_VALUE)break;s=m[l.Zc];s.We=r["int"](f.SD(d.f.math.G.gn(g.Q,u.Do())));s.Sf=d.f.math.G.de(g,
f.Lf(s.We));s.Xe=r["int"](c.SD(d.f.math.G.gn(h.Q,u)));s.Ki=d.f.math.G.de(h,c.Lf(s.Xe));s.w=d.f.math.G.Ld(s.Ki,s.Sf);++q;++d.l.Fh.JZ;for(var u=!1,H=0;H<B;){var A=H++;if(s.We==p[A]&&s.Xe==v[A]){u=!0;break}}if(u)break;++l.Zc}d.l.Fh.kN=r["int"](d.f.math.G.max(d.l.Fh.kN,q));l.KP(a.xj,a.yj);a.distance=d.f.math.G.Ld(a.xj,a.yj).length();a.U3=q;l.sV(n);b.nV&&(n=f.Fb,c=c.Fb,a.distance>n+c&&a.distance>Number.MIN_VALUE?(a.distance-=n+c,b=d.f.math.G.Ld(a.yj,a.xj),b.normalize(),a.xj.x+=n*b.x,a.xj.y+=n*b.y,a.yj.x-=
c*b.x,a.yj.y-=c*b.y):(c=new d.f.math.K,c.x=0.5*(a.xj.x+a.yj.x),c.y=0.5*(a.xj.y+a.yj.y),a.xj.x=a.yj.x=c.x,a.xj.y=a.yj.y=c.y,a.distance=0))};d.l.Zv=t();d.l.Zv.n=["box2D","collision","B2DistanceInput"];d.l.Zv.prototype={r:d.l.Zv};d.l.$v=function(){this.xj=new d.f.math.K;this.yj=new d.f.math.K};d.l.$v.n=["box2D","collision","B2DistanceOutput"];d.l.$v.prototype={r:d.l.$v};d.l.hs=function(){this.Aa=[]};d.l.hs.n=["box2D","collision","B2DistanceProxy"];d.l.hs.prototype={set:function(a){switch(a.Rb()[1]){case 1:a=
y.fb.Bc(a,d.l.R.jh);this.Aa=[];this.Aa[0]=a.Tc;this.Zc=1;this.Fb=a.Fb;break;case 2:a=y.fb.Bc(a,d.l.R.ud);this.Aa=a.Aa;this.Zc=a.Vc;this.Fb=a.Fb;break;default:d.f.P.Td(!1)}},SD:function(a){for(var n=0,b=this.Aa[0].x*a.x+this.Aa[0].y*a.y,f=1,d=this.Zc;f<d;){var c=f++,h=this.Aa[c].x*a.x+this.Aa[c].y*a.y;h>b&&(n=c,b=h)}return n},Uu:function(a){for(var n=0,b=this.Aa[0].x*a.x+this.Aa[0].y*a.y,f=1,d=this.Zc;f<d;){var c=f++,h=this.Aa[c].x*a.x+this.Aa[c].y*a.y;h>b&&(n=c,b=h)}return this.Aa[n]},AJ:z("Zc"),
Lf:function(a){d.f.P.Td(0<=a&&a<this.Zc);return this.Aa[a]},r:d.l.hs};d.l.aw=function(){this.av=this.Fi=null};d.l.aw.n=["box2D","collision","B2DynamicTree"];d.l.aw.prototype={kr:function(a,n){var b=this.NH(),f=d.f.P.Ry,c=d.f.P.Ry;b.hc.lowerBound.x=a.lowerBound.x-f;b.hc.lowerBound.y=a.lowerBound.y-c;b.hc.upperBound.x=a.upperBound.x+f;b.hc.upperBound.y=a.upperBound.y+c;b.Jk=n;this.GJ(b);return b},mr:function(a){this.RK(a);this.vD(a)},EE:function(a,n,b){d.f.P.Td(a.Wu());if(a.hc.contains(n))return!1;
this.RK(a);var f;f=d.f.P.Ry+d.f.P.SH*(0<b.x?b.x:-b.x);b=d.f.P.Ry+d.f.P.SH*(0<b.y?b.y:-b.y);a.hc.lowerBound.x=n.lowerBound.x-f;a.hc.lowerBound.y=n.lowerBound.y-b;a.hc.upperBound.x=n.upperBound.x+f;a.hc.upperBound.y=n.upperBound.y+b;this.GJ(a);return!0},tr:function(a){return a.hc},getUserData:function(a){return a.Jk},query:function(a,n){if(null!=this.Fi){var b=[],f=0;for(b[f++]=this.Fi;0<f;){var d=b[--f];if(d.hc.Rl(n))if(d.Wu()){if(!a(d))break}else b[f++]=d.wh,b[f++]=d.dk}}},Ch:function(a,n){if(null!=
this.Fi){var b=n.Rf,f=n.Hi,c=d.f.math.G.Ld(b,f);c.normalize();var c=d.f.math.G.Du(1,c),g=d.f.math.G.YC(c),h=n.Yo,l=new d.l.Kk,m;m=b.x+h*(f.x-b.x);h=b.y+h*(f.y-b.y);l.lowerBound.x=Math.min(b.x,m);l.lowerBound.y=Math.min(b.y,h);l.upperBound.x=Math.max(b.x,m);l.upperBound.y=Math.max(b.y,h);var p=[],v=0;for(p[v++]=this.Fi;0<v;)if(m=p[--v],!1!=m.hc.Rl(l)){var h=m.hc.Lu(),B=m.hc.bP();if(!(0<Math.abs(c.x*(b.x-h.x)+c.y*(b.y-h.y))-g.x*B.x-g.y*B.y))if(m.Wu()){h=new d.l.Ap;h.Rf=n.Rf;h.Hi=n.Hi;h.Yo=n.Yo;h=a(h,
m);if(0==h)break;m=b.x+h*(f.x-b.x);h=b.y+h*(f.y-b.y);l.lowerBound.x=Math.min(b.x,m);l.lowerBound.y=Math.min(b.y,h);l.upperBound.x=Math.max(b.x,m);l.upperBound.y=Math.max(b.y,h)}else p[v++]=m.wh,p[v++]=m.dk}}},NH:function(){if(null!=this.av){var a=this.av;this.av=a.parent;a.parent=null;a.wh=null;a.dk=null;return a}return new d.l.vp},vD:function(a){a.parent=this.av;this.av=a},GJ:function(a){if(null==this.Fi)this.Fi=a,this.Fi.parent=null;else{var n=a.hc.Lu(),b=this.Fi;if(!1==b.Wu()){do var f=b.wh,b=
b.dk,d=Math.abs((f.hc.lowerBound.x+f.hc.upperBound.x)/2-n.x)+Math.abs((f.hc.lowerBound.y+f.hc.upperBound.y)/2-n.y),c=Math.abs((b.hc.lowerBound.x+b.hc.upperBound.x)/2-n.x)+Math.abs((b.hc.lowerBound.y+b.hc.upperBound.y)/2-n.y),b=d<c?f:b;while(!1==b.Wu())}n=b.parent;f=this.NH();f.parent=n;f.Jk=null;f.hc.Wy(a.hc,b.hc);if(null!=n){b.parent.wh==b?n.wh=f:n.dk=f;f.wh=b;f.dk=a;b.parent=f;a.parent=f;do{if(n.hc.contains(f.hc))break;n.hc.Wy(n.wh.hc,n.dk.hc);f=n;n=n.parent}while(null!=n)}else f.wh=b,f.dk=a,b.parent=
f,this.Fi=a.parent=f}},RK:function(a){if(a==this.Fi)this.Fi=null;else{var n=a.parent,b=n.parent;a=n.wh==a?n.dk:n.wh;if(null!=b)for(b.wh==n?b.wh=a:b.dk=a,a.parent=b,this.vD(n);null!=b;){n=b.hc;b.hc=new d.l.Kk;b.hc.Wy(b.wh.hc,b.dk.hc);if(n.contains(b.hc))break;b=b.parent}else this.Fi=a,a.parent=null,this.vD(n)}},r:d.l.aw};d.l.Bw=t();d.l.Bw.n=["box2D","collision","IBroadPhase"];d.l.Bw.prototype={r:d.l.Bw};d.l.js=function(){this.Xh=new d.l.aw;this.dv=[];this.ev=[];this.So=0};d.l.js.n=["box2D","collision",
"B2DynamicTreeBroadPhase"];d.l.js.ZA=[d.l.Bw];d.l.js.prototype={kr:function(a,n){var b=this.Xh.kr(a,n);this.bI(b);return b},mr:function(a){this.dV(a);this.Xh.mr(a)},EE:function(a,n,b){this.Xh.EE(a,n,b)&&this.bI(a)},Rl:function(a,n){return this.Xh.tr(a).Rl(this.Xh.tr(n))},getUserData:function(a){return this.Xh.getUserData(a)},tr:function(a){return this.Xh.tr(a)},lV:function(a){for(var n=this,b=this.So=0,f=this.dv;b<f.length;){var c=[f[b]];++b;this.Xh.query(function(a){return function(b){if(b==a[0])return!0;
n.So==n.ev.length&&(n.ev[n.So]=new d.l.bw);var e=n.ev[n.So];b.id<a[0].id?(e.Ml=b,e.Nl=a[0]):(e.Ml=a[0],e.Nl=b);++n.So;return!0}}(c),this.Xh.tr(c[0]))}this.dv=[];b=!0;for(f=0;b;)if(f>=this.So)b=!1;else for(c=this.ev[f],a(this.Xh.getUserData(c.Ml),this.Xh.getUserData(c.Nl)),++f;f<this.So;){var g=this.ev[f];if(g.Ml!=c.Ml||g.Nl!=c.Nl)break;++f}},query:function(a,n){this.Xh.query(a,n)},Ch:function(a,n){this.Xh.Ch(a,n)},validate:t(),bI:function(a){this.dv[this.dv.length]=a},dV:function(a){w.remove(this.dv,
a)},r:d.l.js};d.l.vp=function(){this.hc=new d.l.Kk;this.id=d.l.vp.$N++};d.l.vp.n=["box2D","collision","B2DynamicTreeNode"];d.l.vp.prototype={Wu:function(){return null==this.wh},r:d.l.vp};d.l.bw=t();d.l.bw.n=["box2D","collision","B2DynamicTreePair"];d.l.bw.prototype={r:d.l.bw};d.l.yp=function(){this.je=0;this.Ob=[];for(var a=0,n=d.f.P.Lm;a<n;){var b=a++;this.Ob[b]=new d.l.dw}this.Ke=new d.f.math.K;this.Tb=new d.f.math.K};d.l.yp.n=["box2D","collision","B2Manifold"];d.l.yp.prototype={reset:function(){for(var a=
0,n=d.f.P.Lm;a<n;){var b=a++;this.Ob[b].reset()}this.Ke.Pb();this.Tb.Pb();this.ec=d.l.Ae.ow;this.je=0},set:function(a){this.je=a.je;for(var n=0,b=d.f.P.Lm;n<b;){var f=n++;this.Ob[f].set(a.Ob[f])}this.Ke.ca(a.Ke);this.Tb.ca(a.Tb);this.ec=a.ec},copy:function(){var a=new d.l.yp;a.set(this);return a},r:d.l.yp};d.l.dw=function(){this.Tb=new d.f.math.K;this.Ei=new d.l.sn;this.reset()};d.l.dw.n=["box2D","collision","B2ManifoldPoint"];d.l.dw.prototype={reset:function(){this.Tb.Pb();this.Wo=this.Ro=0;this.Ei.Ql(0)},
set:function(a){this.Tb.ca(a.Tb);this.Ro=a.Ro;this.Wo=a.Wo;this.Ei.set(a.Ei)},r:d.l.dw};d.l.Ae={sg:!0,mh:["CIRCLES","FACE_A","FACE_B"]};d.l.Ae.ow=["CIRCLES",0];d.l.Ae.ow.sb=d.l.Ae;d.l.Ae.di=["FACE_A",1];d.l.Ae.di.sb=d.l.Ae;d.l.Ae.$l=["FACE_B",2];d.l.Ae.$l.sb=d.l.Ae;d.l.Ae.Mh=[d.l.Ae.ow,d.l.Ae.di,d.l.Ae.$l];d.l.EA=function(){this.Q=new d.f.math.Gc;this.center=new d.f.math.K;this.BI=new d.f.math.K};d.l.EA.n=["box2D","collision","B2OBB"];d.l.EA.prototype={r:d.l.EA};d.l.Ap=function(a,n,b){null==b&&(b=
1);this.Rf=new d.f.math.K;this.Hi=new d.f.math.K;null!=a&&this.Rf.ca(a);null!=n&&this.Hi.ca(n);this.Yo=b};d.l.Ap.n=["box2D","collision","B2RayCastInput"];d.l.Ap.prototype={r:d.l.Ap};d.l.ws=function(){this.yc=new d.f.math.K};d.l.ws.n=["box2D","collision","B2RayCastOutput"];d.l.ws.prototype={r:d.l.ws};d.l.ew=function(){this.Tb=new d.f.math.K;this.Ba=new d.f.math.K};d.l.ew.n=["box2D","collision","B2SeparationFunction"];d.l.ew.prototype={wf:function(a,n,b,f,c){this.an=n;this.bn=f;n=a.count;d.f.P.Td(0<
n&&3>n);var g=new d.f.math.K,h=new d.f.math.K,l,m;if(1==n)this.ec=d.l.zf.POINTS,g=this.an.Lf(a.We[0]),h=this.bn.Lf(a.Xe[0]),m=g,l=b.Q,g=b.position.x+(l.s.x*m.x+l.t.x*m.y),b=b.position.y+(l.s.y*m.x+l.t.y*m.y),m=h,l=c.Q,h=c.position.x+(l.s.x*m.x+l.t.x*m.y),c=c.position.y+(l.s.y*m.x+l.t.y*m.y),this.Ba.x=h-g,this.Ba.y=c-b,this.Ba.normalize();else{if(a.Xe[0]==a.Xe[1])this.ec=d.l.zf.di,n=this.an.Lf(a.We[0]),f=this.an.Lf(a.We[1]),h=this.bn.Lf(a.Xe[0]),this.Tb.x=0.5*(n.x+f.x),this.Tb.y=0.5*(n.y+f.y),this.Ba=
d.f.math.G.Om(d.f.math.G.Ld(f,n),1),this.Ba.normalize(),m=this.Ba,l=b.Q,n=l.s.x*m.x+l.t.x*m.y,f=l.s.y*m.x+l.t.y*m.y,m=this.Tb,l=b.Q,g=b.position.x+(l.s.x*m.x+l.t.x*m.y),b=b.position.y+(l.s.y*m.x+l.t.y*m.y),m=h,l=c.Q,h=c.position.x+(l.s.x*m.x+l.t.x*m.y),c=c.position.y+(l.s.y*m.x+l.t.y*m.y),a=(h-g)*n+(c-b)*f;else if(a.We[0]==a.We[0])this.ec=d.l.zf.$l,l=this.bn.Lf(a.Xe[0]),m=this.bn.Lf(a.Xe[1]),g=this.an.Lf(a.We[0]),this.Tb.x=0.5*(l.x+m.x),this.Tb.y=0.5*(l.y+m.y),this.Ba=d.f.math.G.Om(d.f.math.G.Ld(m,
l),1),this.Ba.normalize(),m=this.Ba,l=c.Q,n=l.s.x*m.x+l.t.x*m.y,f=l.s.y*m.x+l.t.y*m.y,m=this.Tb,l=c.Q,h=c.position.x+(l.s.x*m.x+l.t.x*m.y),c=c.position.y+(l.s.y*m.x+l.t.y*m.y),m=g,l=b.Q,g=b.position.x+(l.s.x*m.x+l.t.x*m.y),b=b.position.y+(l.s.y*m.x+l.t.y*m.y),a=(g-h)*n+(b-c)*f;else{n=this.an.Lf(a.We[0]);f=this.an.Lf(a.We[1]);l=this.bn.Lf(a.Xe[0]);m=this.bn.Lf(a.Xe[1]);d.f.math.G.de(b,g);g=d.f.math.G.Qf(b.Q,d.f.math.G.Ld(f,n));d.f.math.G.de(c,h);a=d.f.math.G.Qf(c.Q,d.f.math.G.Ld(m,l));c=g.x*g.x+g.y*
g.y;b=a.x*a.x+a.y*a.y;var p=d.f.math.G.Ld(a,g),h=g.x*p.x+g.y*p.y,p=a.x*p.x+a.y*p.y,g=g.x*a.x+g.y*a.y,v=c*b-g*g;a=0;0!=v&&(a=d.f.math.G.Qc((g*p-h*b)/v,0,1));0>(g*a+p)/b&&(a=d.f.math.G.Qc((g-h)/c,0,1));g=new d.f.math.K;g.x=n.x+a*(f.x-n.x);g.y=n.y+a*(f.y-n.y);h=new d.f.math.K;h.x=l.x+a*(m.x-l.x);h.y=l.y+a*(m.y-l.y);0==a||1==a?(this.ec=d.l.zf.$l,this.Ba=d.f.math.G.Om(d.f.math.G.Ld(m,l),1),this.Ba.normalize(),this.Tb=h):(this.ec=d.l.zf.di,this.Ba=d.f.math.G.Om(d.f.math.G.Ld(f,n),1),this.Tb=g)}0>a&&this.Ba.gK()}},
evaluate:function(a,n){var b,f,c;switch(this.ec[1]){case 0:return b=d.f.math.G.gn(a.Q,this.Ba),f=d.f.math.G.gn(n.Q,this.Ba.Do()),b=this.an.Uu(b),f=this.bn.Uu(f),b=d.f.math.G.de(a,b),f=d.f.math.G.de(n,f),c=(f.x-b.x)*this.Ba.x+(f.y-b.y)*this.Ba.y;case 1:return c=d.f.math.G.Qf(a.Q,this.Ba),b=d.f.math.G.de(a,this.Tb),f=d.f.math.G.gn(n.Q,c.Do()),f=this.bn.Uu(f),f=d.f.math.G.de(n,f),c=(f.x-b.x)*c.x+(f.y-b.y)*c.y;case 2:return c=d.f.math.G.Qf(n.Q,this.Ba),f=d.f.math.G.de(n,this.Tb),b=d.f.math.G.gn(a.Q,c.Do()),
b=this.an.Uu(b),b=d.f.math.G.de(a,b),c=(b.x-f.x)*c.x+(b.y-f.y)*c.y}},r:d.l.ew};d.l.zf={sg:!0,mh:["POINTS","FACE_A","FACE_B"]};d.l.zf.POINTS=["POINTS",0];d.l.zf.POINTS.sb=d.l.zf;d.l.zf.di=["FACE_A",1];d.l.zf.di.sb=d.l.zf;d.l.zf.$l=["FACE_B",2];d.l.zf.$l.sb=d.l.zf;d.l.zf.Mh=[d.l.zf.POINTS,d.l.zf.di,d.l.zf.$l];d.l.gw=function(){this.We=[];this.Xe=[]};d.l.gw.n=["box2D","collision","B2SimplexCache"];d.l.gw.prototype={r:d.l.gw};d.l.hw=function(){this.Ml=new d.l.hs;this.Nl=new d.l.hs;this.GL=new d.f.math.Qk;
this.HL=new d.f.math.Qk};d.l.hw.n=["box2D","collision","B2TOIInput"];d.l.hw.prototype={r:d.l.hw};d.f.math.Dj=function(a,n){this.position=new d.f.math.K;this.Q=new d.f.math.Gc;null!=a&&(this.position.ca(a),this.Q.kp(n))};d.f.math.Dj.n=["box2D","common","math","B2Transform"];d.f.math.Dj.prototype={wf:function(a,n){this.position.ca(a);this.Q.kp(n)},set:function(a){this.position.ca(a.position);this.Q.kp(a.Q)},Uh:function(){return Math.atan2(this.Q.s.y,this.Q.s.x)},r:d.f.math.Dj};d.f.math.Gc=function(){this.s=
new d.f.math.K(0,1);this.t=new d.f.math.K(0,1)};d.f.math.Gc.n=["box2D","common","math","B2Mat22"];d.f.math.Gc.mz=function(a){var n=new d.f.math.Gc;n.set(a);return n};d.f.math.Gc.Ku=function(a,n){var b=new d.f.math.Gc;b.BU(a,n);return b};d.f.math.Gc.prototype={set:function(a){var n=Math.cos(a);a=Math.sin(a);this.s.x=n;this.t.x=-a;this.s.y=a;this.t.y=n},BU:function(a,n){this.s.ca(a);this.t.ca(n)},copy:function(){var a=new d.f.math.Gc;a.kp(this);return a},kp:function(a){this.s.ca(a.s);this.t.ca(a.t)},
Ny:function(a){this.s.x+=a.s.x;this.s.y+=a.s.y;this.t.x+=a.t.x;this.t.y+=a.t.y},Pb:function(){this.s.x=0;this.t.x=0;this.s.y=0;this.t.y=0},Uh:function(){return Math.atan2(this.s.y,this.s.x)},ID:function(a){var n=this.s.x,b=this.t.x,f=this.s.y,c=this.t.y,d=n*c-b*f;0!=d&&(d=1/d);a.s.x=d*c;a.t.x=-d*b;a.s.y=-d*f;a.t.y=d*n;return a},np:function(a,n,b){var f=this.s.x,c=this.t.x,d=this.s.y,h=this.t.y,l=f*h-c*d;0!=l&&(l=1/l);a.x=l*(h*n-c*b);a.y=l*(f*b-d*n);return a},abs:function(){this.s.abs();this.t.abs()},
r:d.f.math.Gc};d.l.jb=t();d.l.jb.n=["box2D","collision","B2TimeOfImpact"];d.l.jb.$U=function(a){++d.l.jb.oN;var n=a.Ml,b=a.Nl,f=a.GL,c=a.HL;d.f.P.Td(f.bf==c.bf);d.f.P.Td(1-f.bf>Number.MIN_VALUE);var g=n.Fb+b.Fb;a=a.aV;var h=0,l=0,m=0;d.l.jb.eF.count=0;for(d.l.jb.Rr.nV=!1;;){f.Dg(d.l.jb.mn,h);c.Dg(d.l.jb.nn,h);d.l.jb.Rr.Ml=n;d.l.jb.Rr.Nl=b;d.l.jb.Rr.bV=d.l.jb.mn;d.l.jb.Rr.cV=d.l.jb.nn;d.l.Fh.distance(d.l.jb.aL,d.l.jb.eF,d.l.jb.Rr);if(0>=d.l.jb.aL.distance){h=1;break}d.l.jb.iA.wf(d.l.jb.eF,n,d.l.jb.mn,
b,d.l.jb.nn);var p=d.l.jb.iA.evaluate(d.l.jb.mn,d.l.jb.nn);if(0>=p){h=1;break}0==l&&(m=p>g?d.f.math.G.max(g-a,0.75*g):d.f.math.G.max(p-a,0.02*g));if(p-m<0.5*a){if(0==l){h=1;break}break}var v=h,B=h,q=1;f.Dg(d.l.jb.mn,q);c.Dg(d.l.jb.nn,q);var s=d.l.jb.iA.evaluate(d.l.jb.mn,d.l.jb.nn);if(s>=m){h=1;break}for(var u=0;;){var H;H=0!=(u&1)?B+(m-p)*(q-B)/(s-p):0.5*(B+q);f.Dg(d.l.jb.mn,H);c.Dg(d.l.jb.nn,H);var A=d.l.jb.iA.evaluate(d.l.jb.mn,d.l.jb.nn);if(d.f.math.G.abs(A-m)<0.025*a){v=H;break}A>m?(B=H,p=A):
(q=H,s=A);++u;++d.l.jb.qN;if(50==u)break}d.l.jb.ZH=r["int"](d.f.math.G.max(d.l.jb.ZH,u));if(v<(1+100*Number.MIN_VALUE)*h)break;h=v;l++;++d.l.jb.pN;if(1E3==l)break}d.l.jb.YH=r["int"](d.f.math.G.max(d.l.jb.YH,l));return h};d.l.iw=function(){this.Lb=new d.f.math.K;this.Ob=[];for(var a=0,n=d.f.P.Lm;a<n;){var b=a++;this.Ob[b]=new d.f.math.K}};d.l.iw.n=["box2D","collision","B2WorldManifold"];d.l.iw.prototype={wf:function(a,n,b,f,c){if(0!=a.je){var d,h,l,m,p,v,B;switch(a.ec[1]){case 0:h=n.Q;d=a.Tb;l=n.position.x+
h.s.x*d.x+h.t.x*d.y;m=n.position.y+h.s.y*d.x+h.t.y*d.y;h=f.Q;d=a.Ob[0].Tb;a=f.position.x+h.s.x*d.x+h.t.x*d.y;d=f.position.y+h.s.y*d.x+h.t.y*d.y;h=a-l;f=d-m;p=h*h+f*f;p>Number.MIN_VALUE*Number.MIN_VALUE?(p=Math.sqrt(p),this.Lb.x=h/p,this.Lb.y=f/p):(this.Lb.x=1,this.Lb.y=0);h=m+b*this.Lb.y;d-=c*this.Lb.y;this.Ob[0].x=0.5*(l+b*this.Lb.x+(a-c*this.Lb.x));this.Ob[0].y=0.5*(h+d);break;case 1:h=n.Q;d=a.Ke;l=h.s.x*d.x+h.t.x*d.y;m=h.s.y*d.x+h.t.y*d.y;h=n.Q;d=a.Tb;p=n.position.x+h.s.x*d.x+h.t.x*d.y;v=n.position.y+
h.s.y*d.x+h.t.y*d.y;this.Lb.x=l;this.Lb.y=m;n=0;for(var q=a.je;n<q;){var s=n++;h=f.Q;d=a.Ob[s].Tb;B=f.position.x+h.s.x*d.x+h.t.x*d.y;d=f.position.y+h.s.y*d.x+h.t.y*d.y;this.Ob[s].x=B+0.5*(b-(B-p)*l-(d-v)*m-c)*l;this.Ob[s].y=d+0.5*(b-(B-p)*l-(d-v)*m-c)*m}break;case 2:for(h=f.Q,d=a.Ke,l=h.s.x*d.x+h.t.x*d.y,m=h.s.y*d.x+h.t.y*d.y,h=f.Q,d=a.Tb,p=f.position.x+h.s.x*d.x+h.t.x*d.y,v=f.position.y+h.s.y*d.x+h.t.y*d.y,this.Lb.x=-l,this.Lb.y=-m,f=0,q=a.je;f<q;)s=f++,h=n.Q,d=a.Ob[s].Tb,B=n.position.x+h.s.x*d.x+
h.t.x*d.y,d=n.position.y+h.s.y*d.x+h.t.y*d.y,this.Ob[s].x=B+0.5*(c-(B-p)*l-(d-v)*m-b)*l,this.Ob[s].y=d+0.5*(c-(B-p)*l-(d-v)*m-b)*m}}},r:d.l.iw};d.l.R={};d.l.R.df=function(){this.ec=d.l.R.fc.VA;this.Fb=d.f.P.Oc};d.l.R.df.n=["box2D","collision","shapes","B2Shape"];d.l.R.df.Rl=I(!0);d.l.R.df.prototype={copy:I(null),set:function(a){this.Fb=a.Fb},Rb:z("ec"),Mv:I(!1),Ch:I(!1),jr:t(),Cu:t(),gD:I(0),r:d.l.R.df};d.l.R.jh=function(a){null==a&&(a=0);d.l.R.df.call(this);this.Tc=new d.f.math.K;this.ec=d.l.R.fc.Xl;
this.Fb=a};d.l.R.jh.n=["box2D","collision","shapes","B2CircleShape"];d.l.R.jh.I=d.l.R.df;d.l.R.jh.prototype=q(d.l.R.df.prototype,{copy:function(){var a=new d.l.R.jh;a.set(this);return a},set:function(a){d.l.R.df.prototype.set.call(this,a);y.fb.Dt(a,d.l.R.jh)&&(a=y.fb.Bc(a,d.l.R.jh),this.Tc.ca(a.Tc))},Mv:function(a,n){var b=a.Q,f=a.position.x+(b.s.x*this.Tc.x+b.t.x*this.Tc.y),b=a.position.y+(b.s.y*this.Tc.x+b.t.y*this.Tc.y),f=n.x-f,b=n.y-b;return f*f+b*b<=this.Fb*this.Fb},Ch:function(a,b,e){var f=
e.Q,d=b.Rf.x-(e.position.x+(f.s.x*this.Tc.x+f.t.x*this.Tc.y));e=b.Rf.y-(e.position.y+(f.s.y*this.Tc.x+f.t.y*this.Tc.y));var f=b.Hi.x-b.Rf.x,c=b.Hi.y-b.Rf.y,h=d*f+e*c,l=f*f+c*c,m=h*h-l*(d*d+e*e-this.Fb*this.Fb);if(0>m||l<Number.MIN_VALUE)return!1;h=-(h+Math.sqrt(m));return 0<=h&&h<=b.Yo*l?(h/=l,a.Ju=h,a.yc.x=d+h*f,a.yc.y=e+h*c,a.yc.normalize(),!0):!1},jr:function(a,b){var e=b.Q,f=b.position.x+(e.s.x*this.Tc.x+e.t.x*this.Tc.y),e=b.position.y+(e.s.y*this.Tc.x+e.t.y*this.Tc.y);a.lowerBound.set(f-this.Fb,
e-this.Fb);a.upperBound.set(f+this.Fb,e+this.Fb)},Cu:function(a,b){a.Bk=b*d.f.P.Au*this.Fb*this.Fb;a.center.ca(this.Tc);a.Hn=a.Bk*(0.5*this.Fb*this.Fb+(this.Tc.x*this.Tc.x+this.Tc.y*this.Tc.y))},gD:function(a,b,e,f){e=d.f.math.G.de(e,this.Tc);var c=-(d.f.math.G.sf(a,e)-b);if(c<-this.Fb+Number.MIN_VALUE)return 0;if(c>this.Fb)return f.ca(e),Math.PI*this.Fb*this.Fb;b=this.Fb*this.Fb;var g=c*c,c=b*(Math.asin(c/this.Fb)+Math.PI/2)+c*Math.sqrt(b-g);b=-0.6666666666666666*Math.pow(b-g,1.5)/c;f.x=e.x+a.x*
b;f.y=e.y+a.y*b;return c},getLocalPosition:z("Tc"),hU:function(a){this.Tc.ca(a)},z2:z("Fb"),J5:x("Fb"),r:d.l.R.jh});d.l.R.tn=function(a,b){d.l.R.df.call(this);this.Av=new d.f.math.K;this.cb=new d.f.math.K;this.ub=new d.f.math.K;this.sj=new d.f.math.K;this.Lo=new d.f.math.K;this.Lb=new d.f.math.K;this.Gl=new d.f.math.K;this.mE=new d.f.math.K;this.nE=new d.f.math.K;this.ec=d.l.R.fc.Lp;this.$J=this.aK=null;this.cb=a;this.ub=b;this.Gl.set(this.ub.x-this.cb.x,this.ub.y-this.cb.y);this.Fr=this.Gl.normalize();
this.Lb.set(this.Gl.y,-this.Gl.x);this.sj.set(-d.f.P.Uy*(this.Lb.x-this.Gl.x)+this.cb.x,-d.f.P.Uy*(this.Lb.y-this.Gl.y)+this.cb.y);this.Lo.set(-d.f.P.Uy*(this.Lb.x+this.Gl.x)+this.ub.x,-d.f.P.Uy*(this.Lb.y+this.Gl.y)+this.ub.y);this.mE=this.Lb;this.nE.set(-this.Lb.x,-this.Lb.y)};d.l.R.tn.n=["box2D","collision","shapes","B2EdgeShape"];d.l.R.tn.I=d.l.R.df;d.l.R.tn.prototype=q(d.l.R.df.prototype,{Mv:I(!1),Ch:function(a,b,e){var f,d=b.Hi.x-b.Rf.x,c=b.Hi.y-b.Rf.y;f=e.Q;var h=e.position.x+(f.s.x*this.cb.x+
f.t.x*this.cb.y),l=e.position.y+(f.s.y*this.cb.x+f.t.y*this.cb.y),m=e.position.y+(f.s.y*this.ub.x+f.t.y*this.ub.y)-l;e=-(e.position.x+(f.s.x*this.ub.x+f.t.x*this.ub.y)-h);f=100*Number.MIN_VALUE;var p=-(d*m+c*e);if(p>f){var h=b.Rf.x-h,v=b.Rf.y-l,l=h*m+v*e;if(0<=l&&l<=b.Yo*p&&(b=-d*v+c*h,-f*p<=b&&b<=p*(1+f)))return a.Ju=l/p,b=Math.sqrt(m*m+e*e),a.yc.x=m/b,a.yc.y=e/b,!0}return!1},jr:function(a,b){var e=b.Q,f=b.position.x+(e.s.x*this.cb.x+e.t.x*this.cb.y),d=b.position.y+(e.s.y*this.cb.x+e.t.y*this.cb.y),
c=b.position.x+(e.s.x*this.ub.x+e.t.x*this.ub.y),e=b.position.y+(e.s.y*this.ub.x+e.t.y*this.ub.y);f<c?(a.lowerBound.x=f,a.upperBound.x=c):(a.lowerBound.x=c,a.upperBound.x=f);d<e?(a.lowerBound.y=d,a.upperBound.y=e):(a.lowerBound.y=e,a.upperBound.y=d)},Cu:function(a){a.Bk=0;a.center.ca(this.cb);a.Hn=0},gD:function(a,b,e,f){var c=new d.f.math.K(a.x*b,a.y*b),g=d.f.math.G.de(e,this.cb);e=d.f.math.G.de(e,this.ub);var h=d.f.math.G.sf(a,g)-b;a=d.f.math.G.sf(a,e)-b;if(0<h){if(0<a)return 0;g.x=-a/(h-a)*g.x+
h/(h-a)*e.x;g.y=-a/(h-a)*g.y+h/(h-a)*e.y}else 0<a&&(e.x=-a/(h-a)*g.x+h/(h-a)*e.x,e.y=-a/(h-a)*g.y+h/(h-a)*e.y);f.x=(c.x+g.x+e.x)/3;f.y=(c.y+g.y+e.y)/3;return 0.5*((g.x-c.x)*(e.y-c.y)-(g.y-c.y)*(e.x-c.x))},Dc:z("Fr"),p3:z("cb"),q3:z("ub"),p0:z("sj"),q0:z("Lo"),Z1:z("Lb"),K0:z("Gl"),r0:z("mE"),s0:z("nE"),TZ:z("zQ"),UZ:z("AQ"),Y0:function(a){var b=a.Q;return new d.f.math.K(a.position.x+(b.s.x*this.sj.x+b.t.x*this.sj.y),a.position.y+(b.s.y*this.sj.x+b.t.y*this.sj.y))},Y1:z("$J"),w2:z("aK"),s6:function(a,
b,e){var f=a.Q,d=a.position.x+(f.s.x*this.sj.x+f.t.x*this.sj.y),c=a.position.y+(f.s.y*this.sj.x+f.t.y*this.sj.y),h=a.position.x+(f.s.x*this.Lo.x+f.t.x*this.Lo.y);a=a.position.y+(f.s.y*this.Lo.x+f.t.y*this.Lo.y);d*b+c*e>h*b+a*e?(this.Av.x=d,this.Av.y=c):(this.Av.x=h,this.Av.y=a);return this.Av},I5:function(a,b,e,f){this.aK=a;this.sj=b;this.mE=e;this.zQ=f},x5:function(a,b,e,f){this.$J=a;this.Lo=b;this.nE=e;this.AQ=f},r:d.l.R.tn});d.l.R.rs=function(){this.Bk=0;this.center=new d.f.math.K(0,0);this.Hn=
0};d.l.R.rs.n=["box2D","collision","shapes","B2MassData"];d.l.R.rs.prototype={r:d.l.R.rs};d.l.R.ud=function(){d.l.R.df.call(this);this.ec=d.l.R.fc.Wk;this.El=new d.f.math.K;this.Aa=[];this.td=[]};d.l.R.ud.n=["box2D","collision","shapes","B2PolygonShape"];d.l.R.ud.zZ=function(a,b){var e=new d.l.R.ud;e.wT(a,b);return e};d.l.R.ud.CZ=function(a,b){var e=new d.l.R.ud;e.dL(a,b);return e};d.l.R.ud.QH=function(a,b){var e=new d.l.R.ud;e.xT(a,b);return e};d.l.R.ud.BZ=function(a,b,e,f){null==f&&(f=0);var c=
new d.l.R.ud;c.zT(a,b,e,f);return c};d.l.R.ud.AZ=function(a,b){var e=new d.l.R.ud;e.yT(a,b);return e};d.l.R.ud.FN=function(a,b){for(var e=new d.f.math.K,f=0,c=0;c<b;){var g=c++,h=a[g],g=g+1<b?a[g+1|0]:a[0],l=0.5*((h.x-0)*(g.y-0)-(h.y-0)*(g.x-0)),f=f+l;e.x+=0.3333333333333333*l*(0+h.x+g.x);e.y+=0.3333333333333333*l*(0+h.y+g.y)}e.x*=1/f;e.y*=1/f;return e};d.l.R.ud.SZ=function(a,b,e){for(var f=[],d=0;d<e;){var c=d++;f[c]=b[c]}f[e]=f[0];b=Number.MAX_VALUE;d=1;for(c=e+1;d<c;){for(var h=d++,l=f[h-1|0],
m=f[h].x-l.x,p=f[h].y-l.y,h=Math.sqrt(m*m+p*p),m=m/h,p=p/h,v=-p,B=m,q=h=Number.MAX_VALUE,s=-Number.MAX_VALUE,r=-Number.MAX_VALUE,u=0;u<e;){var A=u++,w=f[A].x-l.x,C=f[A].y-l.y,A=m*w+p*C,w=v*w+B*C;A<h&&(h=A);w<q&&(q=w);A>s&&(s=A);w>r&&(r=w)}u=(s-h)*(r-q);u<0.95*b&&(b=u,a.Q.s.x=m,a.Q.s.y=p,a.Q.t.x=v,a.Q.t.y=B,m=0.5*(h+s),p=0.5*(q+r),v=a.Q,a.center.x=l.x+(v.s.x*m+v.t.x*p),a.center.y=l.y+(v.s.y*m+v.t.y*p),a.BI.x=0.5*(s-h),a.BI.y=0.5*(r-q))}};d.l.R.ud.I=d.l.R.df;d.l.R.ud.prototype=q(d.l.R.df.prototype,
{copy:function(){var a=new d.l.R.ud;a.set(this);return a},set:function(a){d.l.R.df.prototype.set.call(this,a);if(y.fb.Dt(a,d.l.R.ud)){a=y.fb.Bc(a,d.l.R.ud);this.El.ca(a.El);this.Vc=a.Vc;this.yv(this.Vc);for(var b=0,e=this.Vc;b<e;){var f=b++;this.Aa[f].ca(a.Aa[f]);this.td[f].ca(a.td[f])}}},wT:function(a,b){null==b&&(b=0);for(var e=[],f=0;f<a.length;){var d=a[f];++f;e.push(d)}this.dL(e,b)},dL:function(a,b){null==b&&(b=0);0==b&&(b=a.length);d.f.P.Td(2<=b);this.Vc=b|0;this.yv(b|0);for(var e=0,f=this.Vc;e<
f;){var c=e++;this.Aa[c].ca(a[c])}e=0;for(f=this.Vc;e<f;){var c=e++,g=d.f.math.G.Ld(this.Aa[c+1<this.Vc?c+1:0],this.Aa[c]);d.f.P.Td(g.Nz()>Number.MIN_VALUE);this.td[c].ca(d.f.math.G.Om(g,1));this.td[c].normalize()}this.El=d.l.R.ud.FN(this.Aa,this.Vc)},xT:function(a,b){this.Vc=4;this.yv(4);this.Aa[0].set(-a,-b);this.Aa[1].set(a,-b);this.Aa[2].set(a,b);this.Aa[3].set(-a,b);this.td[0].set(0,-1);this.td[1].set(1,0);this.td[2].set(0,1);this.td[3].set(-1,0);this.El.Pb()},zT:function(a,b,e,f){null==f&&(f=
0);this.Vc=4;this.yv(4);this.Aa[0].set(-a,-b);this.Aa[1].set(a,-b);this.Aa[2].set(a,b);this.Aa[3].set(-a,b);this.td[0].set(0,-1);this.td[1].set(1,0);this.td[2].set(0,1);this.td[3].set(-1,0);this.El=e;a=new d.f.math.Dj;a.position=e;a.Q.set(f);e=0;for(f=this.Vc;e<f;)b=e++,this.Aa[b]=d.f.math.G.de(a,this.Aa[b]),this.td[b]=d.f.math.G.Qf(a.Q,this.td[b])},yT:function(a,b){this.Vc=2;this.yv(2);this.Aa[0].ca(a);this.Aa[1].ca(b);this.El.x=0.5*(a.x+b.x);this.El.y=0.5*(a.y+b.y);this.td[0]=d.f.math.G.Om(d.f.math.G.Ld(b,
a),1);this.td[0].normalize();this.td[1].x=-this.td[0].x;this.td[1].y=-this.td[0].y},Mv:function(a,b){var e;e=a.Q;for(var f=b.x-a.position.x,c=b.y-a.position.y,d=f*e.s.x+c*e.s.y,h=f*e.t.x+c*e.t.y,l=0,m=this.Vc;l<m;){var p=l++;e=this.Aa[p];f=d-e.x;c=h-e.y;e=this.td[p];if(0<e.x*f+e.y*c)return!1}return!0},Ch:function(a,b,e){var f=0,c=b.Yo,d,h,l,m;d=b.Rf.x-e.position.x;h=b.Rf.y-e.position.y;l=e.Q;var p=d*l.s.x+h*l.s.y,v=d*l.t.x+h*l.t.y;d=b.Hi.x-e.position.x;h=b.Hi.y-e.position.y;l=e.Q;b=d*l.s.x+h*l.s.y-
p;l=d*l.t.x+h*l.t.y-v;for(var B=-1,q=0,s=this.Vc;q<s;){var r=q++;m=this.Aa[r];d=m.x-p;h=m.y-v;m=this.td[r];d=m.x*d+m.y*h;h=m.x*b+m.y*l;if(0==h){if(0>d)return!1}else 0>h&&d<f*h?(f=d/h,B=r):0<h&&d<c*h&&(c=d/h);if(c<f-Number.MIN_VALUE)return!1}return 0<=B?(a.Ju=f,l=e.Q,m=this.td[B],a.yc.x=l.s.x*m.x+l.t.x*m.y,a.yc.y=l.s.y*m.x+l.t.y*m.y,!0):!1},jr:function(a,b){for(var e=b.Q,f=this.Aa[0],d=b.position.x+(e.s.x*f.x+e.t.x*f.y),c=b.position.y+(e.s.y*f.x+e.t.y*f.y),h=d,l=c,m=1,p=this.Vc;m<p;){var v=m++,f=this.Aa[v],
v=b.position.x+(e.s.x*f.x+e.t.x*f.y),f=b.position.y+(e.s.y*f.x+e.t.y*f.y);d<v||(d=v);c<f||(c=f);h>v||(h=v);l>f||(l=f)}a.lowerBound.x=d-this.Fb;a.lowerBound.y=c-this.Fb;a.upperBound.x=h+this.Fb;a.upperBound.y=l+this.Fb},Cu:function(a,b){if(2==this.Vc)a.center.x=0.5*(this.Aa[0].x+this.Aa[1].x),a.center.y=0.5*(this.Aa[0].y+this.Aa[1].y),a.Bk=0,a.Hn=0;else{for(var e=0,f=0,d=0,c=0,h=0,l=this.Vc;h<l;){var m=h++,p=this.Aa[m],v;v=m+1<this.Vc?this.Aa[m+1|0]:this.Aa[0];var B=p.x-0,q=p.y-0,s=v.x-0,r=v.y-0,m=
B*r-q*s,u=0.5*m,d=d+u,e=e+0.3333333333333333*u*(0+p.x+v.x),f=f+0.3333333333333333*u*(0+p.y+v.y),p=B,c=c+m*(0.3333333333333333*(0.25*(p*p+s*p+s*s)+(0*p+0*s))+0+(0.3333333333333333*(0.25*(q*q+r*q+r*r)+(0*q+0*r))+0))}a.Bk=b*d;a.center.set(e*(1/d),f*(1/d));a.Hn=b*c}},gD:function(a,b,e,f){var c=d.f.math.G.gn(e.Q,a),g=b-d.f.math.G.sf(a,e.position),h=[],l=0;a=b=-1;for(var m=!1,p=0,v=this.Vc;p<v;){var B=p++;h[B]=d.f.math.G.sf(c,this.Aa[B])-g;var q=h[B]<-Number.MIN_VALUE;0<B&&(q?m||(b=B-1,l++):m&&(a=B-1,l++));
m=q}switch(l){case 0:return m?(a=new d.l.R.rs,this.Cu(a,1),f.ca(d.f.math.G.de(e,a.center)),a.Bk):0;case 1:-1==b?b=this.Vc-1:a=this.Vc-1}g=(b+1)%this.Vc;c=(a+1)%this.Vc;l=(0-h[b])/(h[g]-h[b]);h=(0-h[a])/(h[c]-h[a]);b=new d.f.math.K(this.Aa[b].x*(1-l)+this.Aa[g].x*l,this.Aa[b].y*(1-l)+this.Aa[g].y*l);a=new d.f.math.K(this.Aa[a].x*(1-h)+this.Aa[c].x*h,this.Aa[a].y*(1-h)+this.Aa[c].y*h);h=0;l=new d.f.math.K;for(m=this.Aa[g];g!=c;)g=(g+1)%this.Vc,p=g==c?a:this.Aa[g],v=0.5*((m.x-b.x)*(p.y-b.y)-(m.y-b.y)*
(p.x-b.x)),h+=v,l.x+=v*(b.x+m.x+p.x)/3,l.y+=v*(b.y+m.y+p.y)/3,m=p;l.multiply(1/h);f.ca(d.f.math.G.de(e,l));return h},AJ:z("Vc"),s3:z("Aa"),a2:z("td"),SD:function(a){for(var b=0,e=this.Aa[0].x*a.x+this.Aa[0].y*a.y,f=1,c=this.Vc;f<c;){var d=f++,h=this.Aa[d].x*a.x+this.Aa[d].y*a.y;h>e&&(b=d,e=h)}return b},Uu:function(a){for(var b=0,e=this.Aa[0].x*a.x+this.Aa[0].y*a.y,f=1,c=this.Vc;f<c;){var d=f++,h=this.Aa[d].x*a.x+this.Aa[d].y*a.y;h>e&&(b=d,e=h)}return this.Aa[b]},validate:I(!1),yv:function(a){for(var b=
this.Aa.length;b<a;){var e=b++;this.Aa[e]=new d.f.math.K;this.td[e]=new d.f.math.K}},r:d.l.R.ud});d.l.R.fc={sg:!0,mh:["UNKNOWN_SHAPE","CIRCLE_SHAPE","POLYGON_SHAPE","EDGE_SHAPE"]};d.l.R.fc.VA=["UNKNOWN_SHAPE",0];d.l.R.fc.VA.sb=d.l.R.fc;d.l.R.fc.Xl=["CIRCLE_SHAPE",1];d.l.R.fc.Xl.sb=d.l.R.fc;d.l.R.fc.Wk=["POLYGON_SHAPE",2];d.l.R.fc.Wk.sb=d.l.R.fc;d.l.R.fc.Lp=["EDGE_SHAPE",3];d.l.R.fc.Lp.sb=d.l.R.fc;d.l.R.fc.Mh=[d.l.R.fc.VA,d.l.R.fc.Xl,d.l.R.fc.Wk,d.l.R.fc.Lp];d.f.cs=function(a,b,e){this.Zq=r["int"](255*
d.f.math.G.Qc(a,0,1));this.Kq=r["int"](255*d.f.math.G.Qc(b,0,1));this.wq=r["int"](255*d.f.math.G.Qc(e,0,1))};d.f.cs.n=["box2D","common","B2Color"];d.f.cs.prototype={set:function(a,b,e){this.Zq=r["int"](255*d.f.math.G.Qc(a,0,1));this.Kq=r["int"](255*d.f.math.G.Qc(b,0,1));this.wq=r["int"](255*d.f.math.G.Qc(e,0,1))},KL:function(){return"#"+this.fD(this.Zq)+this.fD(this.Kq)+this.fD(this.wq)},fD:function(a){a=a.toString(16);return"1"==a.length?"0"+a:a},FU:function(a){return this.Zq=r["int"](255*d.f.math.G.Qc(a,
0,1))},EU:function(a){return this.Kq=r["int"](255*d.f.math.G.Qc(a,0,1))},DU:function(a){return this.wq=r["int"](255*d.f.math.G.Qc(a,0,1))},PP:function(){return this.Zq<<16|this.Kq<<8|this.wq},r:d.f.cs,tq:{PP:"get_color",DU:"set_b",EU:"set_g",FU:"set_r"}};d.f.P=t();d.f.P.n=["box2D","common","B2Settings"];d.f.P.fN=function(a,b){return Math.sqrt(a*b)};d.f.P.gN=function(a,b){return a>b?a:b};d.f.P.Td=function(a){if(!a)throw"Assertion Failed";};d.f.math.Tl=function(a,b,e){this.s=new d.f.math.jg;this.t=
new d.f.math.jg;this.Nb=new d.f.math.jg;null==a&&null==b&&null==e?(this.s.Pb(),this.t.Pb(),this.Nb.Pb()):(this.s.ca(a),this.t.ca(b),this.Nb.ca(e))};d.f.math.Tl.n=["box2D","common","math","B2Mat33"];d.f.math.Tl.prototype={copy:function(){return new d.f.math.Tl(this.s,this.t,this.Nb)},kp:function(a){this.s.ca(a.s);this.t.ca(a.t);this.Nb.ca(a.Nb)},Ny:function(a){this.s.x+=a.s.x;this.s.y+=a.s.y;this.s.z+=a.s.z;this.t.x+=a.t.x;this.t.y+=a.t.y;this.t.z+=a.t.z;this.Nb.x+=a.Nb.x;this.Nb.y+=a.Nb.y;this.Nb.z+=
a.Nb.z},Pb:function(){this.s.x=0;this.t.x=0;this.Nb.x=0;this.s.y=0;this.t.y=0;this.Nb.y=0;this.s.z=0;this.t.z=0;this.Nb.z=0},Xr:function(a,b,e){var f=this.s.x,d=this.t.x,c=this.s.y,h=this.t.y,l=f*h-d*c;0!=l&&(l=1/l);a.x=l*(h*b-d*e);a.y=l*(f*e-c*b);return a},Hv:function(a,b,e,f){var d=this.s.x,c=this.s.y,h=this.s.z,l=this.t.x,m=this.t.y,p=this.t.z,v=this.Nb.x,B=this.Nb.y,q=this.Nb.z,s=d*(m*q-p*B)+c*(p*v-l*q)+h*(l*B-m*v);0!=s&&(s=1/s);a.x=s*(b*(m*q-p*B)+e*(p*v-l*q)+f*(l*B-m*v));a.y=s*(d*(e*q-f*B)+c*
(f*v-b*q)+h*(b*B-e*v));a.z=s*(d*(m*f-p*e)+c*(p*b-l*f)+h*(l*e-m*b));return a},r:d.f.math.Tl};d.f.math.G=t();d.f.math.G.n=["box2D","common","math","B2Math"];d.f.math.G.tq={NP:"get_MAX_VALUE",OP:"get_MIN_VALUE"};d.f.math.G.Br=function(a){return Math.gE(a)||a==Math.NEGATIVE_INFINITY||a==Math.POSITIVE_INFINITY?!1:!0};d.f.math.G.sf=function(a,b){return a.x*b.x+a.y*b.y};d.f.math.G.lr=function(a,b){return a.x*b.y-a.y*b.x};d.f.math.G.Om=function(a,b){return new d.f.math.K(b*a.y,-b*a.x)};d.f.math.G.Du=function(a,
b){return new d.f.math.K(-a*b.y,a*b.x)};d.f.math.G.Qf=function(a,b){return new d.f.math.K(a.s.x*b.x+a.t.x*b.y,a.s.y*b.x+a.t.y*b.y)};d.f.math.G.gn=function(a,b){return new d.f.math.K(d.f.math.G.sf(b,a.s),d.f.math.G.sf(b,a.t))};d.f.math.G.de=function(a,b){var e=d.f.math.G.Qf(a.Q,b);e.x+=a.position.x;e.y+=a.position.y;return e};d.f.math.G.SQ=function(a,b){var e=d.f.math.G.Ld(b,a.position),f=e.x*a.Q.s.x+e.y*a.Q.s.y;e.y=e.x*a.Q.t.x+e.y*a.Q.t.y;e.x=f;return e};d.f.math.G.Qy=function(a,b){return new d.f.math.K(a.x+
b.x,a.y+b.y)};d.f.math.G.Ld=function(a,b){return new d.f.math.K(a.x-b.x,a.y-b.y)};d.f.math.G.distance=function(a,b){var e=a.x-b.x,f=a.y-b.y;return Math.sqrt(e*e+f*f)};d.f.math.G.l_=function(a,b){var e=a.x-b.x,f=a.y-b.y;return e*e+f*f};d.f.math.G.d4=function(a,b){return new d.f.math.K(a*b.x,a*b.y)};d.f.math.G.wZ=function(a,b){return d.f.math.Gc.Ku(d.f.math.G.Qy(a.s,b.s),d.f.math.G.Qy(a.t,b.t))};d.f.math.G.e4=function(a,b){return d.f.math.Gc.Ku(d.f.math.G.Qf(a,b.s),d.f.math.G.Qf(a,b.t))};d.f.math.G.f4=
function(a,b){return d.f.math.Gc.Ku(new d.f.math.K(d.f.math.G.sf(a.s,b.s),d.f.math.G.sf(a.t,b.s)),new d.f.math.K(d.f.math.G.sf(a.s,b.t),d.f.math.G.sf(a.t,b.t)))};d.f.math.G.abs=function(a){return 0<a?a:-a};d.f.math.G.YC=function(a){return new d.f.math.K(d.f.math.G.abs(a.x),d.f.math.G.abs(a.y))};d.f.math.G.uZ=function(a){return d.f.math.Gc.Ku(d.f.math.G.YC(a.s),d.f.math.G.YC(a.t))};d.f.math.G.min=function(a,b){return a<b?a:b};d.f.math.G.eK=function(a,b){return new d.f.math.K(d.f.math.G.min(a.x,b.x),
d.f.math.G.min(a.y,b.y))};d.f.math.G.max=function(a,b){return a>b?a:b};d.f.math.G.dK=function(a,b){return new d.f.math.K(d.f.math.G.max(a.x,b.x),d.f.math.G.max(a.y,b.y))};d.f.math.G.Qc=function(a,b,e){return a<b?b:a>e?e:a};d.f.math.G.RZ=function(a,b,e){return d.f.math.G.dK(b,d.f.math.G.eK(a,e))};d.f.math.G.t6=function(a,b){var e=a[0];a[0]=b[0];b[0]=e};d.f.math.G.random=function(){return 2*Math.random()-1};d.f.math.G.u4=function(a,b){var e=Math.random();return(b-a)*e+a};d.f.math.G.g4=function(a){a|=
a>>1&2147483647;a|=a>>2&1073741823;a|=a>>4&268435455;a|=a>>8&16777215;return(a|a>>16&65535)+1};d.f.math.G.isPowerOfTwo=function(a){return 0<a&&0==(a&a-1)};d.f.math.G.OP=function(){return Number.MIN_VALUE};d.f.math.G.NP=function(){return Number.MAX_VALUE};d.f.math.Qk=function(){this.ia=new d.f.math.K;this.qf=new d.f.math.K;this.c=new d.f.math.K};d.f.math.Qk.n=["box2D","common","math","B2Sweep"];d.f.math.Qk.prototype={set:function(a){this.ia.ca(a.ia);this.qf.ca(a.qf);this.c.ca(a.c);this.ri=a.ri;this.a=
a.a;this.bf=a.bf},copy:function(){var a=new d.f.math.Qk;a.ia.ca(this.ia);a.qf.ca(this.qf);a.c.ca(this.c);a.ri=this.ri;a.a=this.a;a.bf=this.bf;return a},Dg:function(a,b){a.position.x=(1-b)*this.qf.x+b*this.c.x;a.position.y=(1-b)*this.qf.y+b*this.c.y;a.Q.set((1-b)*this.ri+b*this.a);var e=a.Q;a.position.x-=e.s.x*this.ia.x+e.t.x*this.ia.y;a.position.y-=e.s.y*this.ia.x+e.t.y*this.ia.y},advance:function(a){if(this.bf<a&&1-this.bf>Number.MIN_VALUE){var b=(a-this.bf)/(1-this.bf);this.qf.x=(1-b)*this.qf.x+
b*this.c.x;this.qf.y=(1-b)*this.qf.y+b*this.c.y;this.ri=(1-b)*this.ri+b*this.a;this.bf=a}},r:d.f.math.Qk};d.f.math.jg=function(a,b,e){null==e&&(e=0);null==b&&(b=0);null==a&&(a=0);this.x=a;this.y=b;this.z=e};d.f.math.jg.n=["box2D","common","math","B2Vec3"];d.f.math.jg.prototype={Pb:function(){this.x=this.y=this.z=0},set:function(a,b,e){this.x=a;this.y=b;this.z=e},ca:function(a){this.x=a.x;this.y=a.y;this.z=a.z},Do:function(){return new d.f.math.jg(-this.x,-this.y,-this.z)},gK:function(){this.x=-this.x;
this.y=-this.y;this.z=-this.z},copy:function(){return new d.f.math.jg(this.x,this.y,this.z)},add:function(a){this.x+=a.x;this.y+=a.y;this.z+=a.z},Kv:function(a){this.x-=a.x;this.y-=a.y;this.z-=a.z},multiply:function(a){this.x*=a;this.y*=a;this.z*=a},r:d.f.math.jg};d.e={};d.e.ra=function(a,b){this.X=new d.f.math.Dj;this.u=new d.f.math.Qk;this.M=new d.f.math.K;this.Hl=new d.f.math.K;this.fa=0;a.cI&&(this.fa|=d.e.ra.Gu);a.uD&&(this.fa|=d.e.ra.az);a.$C&&(this.fa|=d.e.ra.Fu);a.RH&&(this.fa|=d.e.ra.yo);
a.TM&&(this.fa|=d.e.ra.nr);this.re=b;this.X.position.ca(a.position);this.X.Q.set(a.angle);this.u.ia.Pb();this.u.bf=1;this.u.ri=this.u.a=a.angle;var e=this.X.Q,f=this.u.ia;this.u.c.x=e.s.x*f.x+e.t.x*f.y;this.u.c.y=e.s.y*f.x+e.t.y*f.y;this.u.c.x+=this.X.position.x;this.u.c.y+=this.X.position.y;this.u.qf.ca(this.u.c);this.Ec=this.Fl=this.Ah=null;this.lE=0;this.Za=this.Pf=null;this.M.ca(a.NJ);this.Y=a.PH;this.XJ=a.MJ;this.OJ=a.OH;this.Hl.set(0,0);this.Vo=this.gv=0;this.ec=a.type;this.ka=this.ec==d.e.ra.$g?
this.za=1:this.za=0;this.Ga=this.Ai=0;this.DQ=a.YP;this.dn=a.Jk;this.Gg=null;this.Rz=0};d.e.ra.n=["box2D","dynamics","B2Body"];d.e.ra.prototype={oI:function(a){if(!0==this.re.Kz())return null;var b=new d.e.un;b.create(this,this.X,a);0!=(this.fa&d.e.ra.nr)&&b.kr(this.re.ye.rj,this.X);b.Za=this.Gg;this.Gg=b;++this.Rz;b.Kb=this;0<b.Qz&&this.cF();this.re.fa|=d.e.Yc.qD;return b},rF:function(a,b){var e;if(!0!=this.re.Kz()){this.X.Q.set(b);this.X.position.ca(a);e=this.X.Q;var f=this.u.ia;this.u.c.x=e.s.x*
f.x+e.t.x*f.y;this.u.c.y=e.s.y*f.x+e.t.y*f.y;this.u.c.x+=this.X.position.x;this.u.c.y+=this.X.position.y;this.u.qf.ca(this.u.c);this.u.ri=this.u.a=b;f=this.re.ye.rj;for(e=this.Gg;null!=e;)e.IL(f,this.X,this.X),e=e.Za;this.re.ye.jz()}},setTransform:function(a){this.rF(a.position,a.Uh())},Dg:z("X"),O:function(){return this.X.position},setPosition:function(a){this.rF(a,this.Uh())},Uh:function(){return this.u.a},iF:function(a){this.rF(this.O(),a)},pA:function(a){this.ec!=d.e.ra.ah&&this.M.ca(a)},$h:function(a){this.ec!=
d.e.ra.ah&&(this.Y=a)},zD:z("Y"),YO:function(){var a=new d.e.rn;a.type=this.Rb();a.$C=(this.fa&d.e.ra.Fu)==d.e.ra.Fu;a.angle=this.Uh();a.OH=this.OJ;a.PH=this.Y;a.uD=(this.fa&d.e.ra.az)==d.e.ra.az;a.cI=(this.fa&d.e.ra.Gu)==d.e.ra.Gu;a.RH=(this.fa&d.e.ra.yo)==d.e.ra.yo;a.MJ=this.XJ;a.NJ.ca(this.M);a.position=this.O();a.Jk=this.getUserData();return a},dN:function(a,b){this.ec==d.e.ra.$g&&(!1==this.yi()&&this.jc(!0),this.Hl.x+=a.x,this.Hl.y+=a.y,this.gv+=(b.x-this.u.c.x)*a.y-(b.y-this.u.c.y)*a.x)},split:function(a){for(var b=
this.M.copy(),e=this.zD(),f=this.u.c,c=this.re.iD(this.YO()),g=null,h=this.Gg;null!=h;)if(a(h)){var l=h.Za;null!=g?g.Za=l:this.Gg=l;this.Rz--;h.Za=c.Gg;c.Gg=h;c.Rz++;h.Kb=c;h=l}else g=h,h=h.Za;this.cF();c.cF();g=c.u.c;a=d.f.math.G.Qy(b,d.f.math.G.Du(e,d.f.math.G.Ld(this.u.c,f)));b=d.f.math.G.Qy(b,d.f.math.G.Du(e,d.f.math.G.Ld(g,f)));this.pA(a);c.pA(b);this.$h(e);c.$h(e);this.xA();c.xA();return c},hJ:function(a){a.Bk=this.za;a.Hn=this.Ai;a.center.ca(this.u.ia)},cF:function(){this.Ga=this.Ai=this.ka=
this.za=0;this.u.ia.Pb();if(this.ec!=d.e.ra.ah&&this.ec!=d.e.ra.UH){for(var a=d.f.math.K.LQ(),b=this.Gg;null!=b;)if(0!=b.Qz){var e=b.hJ();this.za+=e.Bk;a.x+=e.center.x*e.Bk;a.y+=e.center.y*e.Bk;this.Ai+=e.Hn;b=b.Za}0<this.za?(this.ka=1/this.za,a.x*=this.ka,a.y*=this.ka):this.ka=this.za=1;0<this.Ai&&0==(this.fa&d.e.ra.az)?(this.Ai-=this.za*(a.x*a.x+a.y*a.y),this.Ai*=this.DQ,d.f.P.Td(0<this.Ai),this.Ga=1/this.Ai):this.Ga=this.Ai=0;b=this.u.c.copy();this.u.ia.ca(a);this.u.qf.ca(d.f.math.G.de(this.X,
this.u.ia));this.u.c.ca(this.u.qf);this.M.x+=this.Y*-(this.u.c.y-b.y);this.M.y+=this.Y*(this.u.c.x-b.x)}},pe:function(a){var b=this.X.Q;a=new d.f.math.K(b.s.x*a.x+b.t.x*a.y,b.s.y*a.x+b.t.y*a.y);a.x+=this.X.position.x;a.y+=this.X.position.y;return a},Cz:function(a){return d.f.math.G.Qf(this.X.Q,a)},xh:function(a){return d.f.math.G.SQ(this.X,a)},eJ:function(a){return d.f.math.G.gn(this.X.Q,a)},Rb:z("ec"),Jz:function(){return(this.fa&d.e.ra.Gu)==d.e.ra.Gu},jc:function(a){a?(this.fa|=d.e.ra.yo,this.Vo=
0):(this.fa&=~d.e.ra.yo,this.Vo=0,this.M.Pb(),this.Y=0,this.Hl.Pb(),this.gv=0)},yi:function(){return(this.fa&d.e.ra.yo)==d.e.ra.yo},setActive:function(a){if(a!=this.nk()){var b;if(a)for(this.fa|=d.e.ra.nr,a=this.re.ye.rj,b=this.Gg;null!=b;)b.kr(a,this.X),b=b.Za;else{this.fa&=~d.e.ra.nr;a=this.re.ye.rj;for(b=this.Gg;null!=b;)b.mr(a),b=b.Za;for(a=this.Ec;null!=a;)b=a,a=a.next,this.re.ye.destroy(b.gd);this.Ec=null}}},nk:function(){return(this.fa&d.e.ra.nr)==d.e.ra.nr},getUserData:z("dn"),setUserData:x("dn"),
xA:function(){var a=d.e.ra.nT;a.Q.set(this.u.ri);var b=a.Q,e=this.u.ia;a.position.x=this.u.qf.x-(b.s.x*e.x+b.t.x*e.y);a.position.y=this.u.qf.y-(b.s.y*e.x+b.t.y*e.y);e=this.re.ye.rj;for(b=this.Gg;null!=b;)b.IL(e,a,this.X),b=b.Za},fe:function(){this.X.Q.set(this.u.a);var a=this.X.Q,b=this.u.ia;this.X.position.x=this.u.c.x-(a.s.x*b.x+a.t.x*b.y);this.X.position.y=this.u.c.y-(a.s.y*b.x+a.t.y*b.y)},Gv:function(a){if(this.ec!=d.e.ra.$g&&a.ec!=d.e.ra.$g)return!1;for(var b=this.Ah;null!=b;){if(b.Ck==a&&!1==
b.Io.QJ)return!1;b=b.next}return!0},advance:function(a){this.u.advance(a);this.u.c.ca(this.u.qf);this.u.a=this.u.ri;this.fe()},r:d.e.ra};d.e.rn=function(){this.position=new d.f.math.K;this.NJ=new d.f.math.K;this.Jk=null;this.OH=this.MJ=this.PH=this.angle=0;this.RH=this.$C=!0;this.cI=this.uD=!1;this.type=d.e.ra.ah;this.TM=!0;this.YP=1};d.e.rn.n=["box2D","dynamics","B2BodyDef"];d.e.rn.prototype={r:d.e.rn};d.e.up=t();d.e.up.n=["box2D","dynamics","B2ContactFilter"];d.e.up.prototype={Gv:function(a,b){var e=
a.SI(),f=b.SI();return e.Go==f.Go&&0!=e.Go?0<e.Go:0!=(e.iv&f.Bu)&&0!=(e.Bu&f.iv)},r:d.e.up};d.e.Vv=function(){this.TQ=[];this.YU=[]};d.e.Vv.n=["box2D","dynamics","B2ContactImpulse"];d.e.Vv.prototype={r:d.e.Vv};d.e.Cj=t();d.e.Cj.n=["box2D","dynamics","B2ContactListener"];d.e.Cj.prototype={cD:t(),dz:t(),uS:t(),tS:t(),r:d.e.Cj};d.e.es=function(){this.re=null;this.Bi=0;this.SJ=d.e.up.iN;this.Dr=d.e.Cj.jN;this.RJ=new d.e.N.Uv(this.Ym);this.rj=new d.l.js};d.e.es.n=["box2D","dynamics","B2ContactManager"];
d.e.es.prototype={WM:function(a,b){var e;e=y.fb.Bc(a,d.e.un);var f;f=y.fb.Bc(b,d.e.un);var c=e.Kb,g=f.Kb;if(c!=g){for(var h=g.Ec;null!=h;){if(h.Ck==c){var l=h.gd.$c,m=h.gd.md;if(l==e&&m==f||l==f&&m==e)return}h=h.next}!1!=g.Gv(c)&&!1!=this.SJ.Gv(e,f)&&(h=this.RJ.create(e,f),e=h.$c,f=h.md,c=e.Kb,g=f.Kb,h.Pf=null,h.Za=this.re.Ec,null!=this.re.Ec&&(this.re.Ec.Pf=h),this.re.Ec=h,h.Nf.gd=h,h.Nf.Ck=g,h.Nf.prev=null,h.Nf.next=c.Ec,null!=c.Ec&&(c.Ec.prev=h.Nf),c.Ec=h.Nf,h.Of.gd=h,h.Of.Ck=c,h.Of.prev=null,
h.Of.next=g.Ec,null!=g.Ec&&(g.Ec.prev=h.Of),g.Ec=h.Of,++this.re.Bi)}},jz:function(){this.rj.lV(u(this,this.WM))},destroy:function(a){var b=a.$c.Kb,e=a.md.Kb;a.Mz()&&this.Dr.dz(a);null!=a.Pf&&(a.Pf.Za=a.Za);null!=a.Za&&(a.Za.Pf=a.Pf);a==this.re.Ec&&(this.re.Ec=a.Za);null!=a.Nf.prev&&(a.Nf.prev.next=a.Nf.next);null!=a.Nf.next&&(a.Nf.next.prev=a.Nf.prev);a.Nf==b.Ec&&(b.Ec=a.Nf.next);null!=a.Of.prev&&(a.Of.prev.next=a.Of.next);null!=a.Of.next&&(a.Of.next.prev=a.Of.prev);a.Of==e.Ec&&(e.Ec=a.Of.next);this.RJ.destroy(a);
--this.Bi},AN:function(){for(var a=this.re.Ec;null!=a;){var b=a.$c,e=a.md,f=b.Kb,c=e.Kb;if(!1==f.yi()&&!1==c.yi())a=a.Za;else{if(0!=(a.fa&d.e.N.Fa.oD)){if(!1==c.Gv(f)){b=a;a=b.Za;this.destroy(b);continue}if(!1==this.SJ.Gv(b,e)){b=a;a=b.Za;this.destroy(b);continue}a.fa&=~d.e.N.Fa.oD}!1==this.rj.Rl(b.$m,e.$m)?(b=a,a=b.Za,this.destroy(b)):(a.update(this.Dr),a=a.Za)}}},r:d.e.es};d.e.Tf=function(){this.Vz=this.oE=this.Zm=this.Oo=this.Hd=1;this.TJ=0};d.e.Tf.n=["box2D","dynamics","B2DebugDraw"];d.e.Tf.prototype=
{WT:x("TJ"),xU:x("Bb"),V:z("Bb"),TT:x("Hd"),gU:x("Oo"),hp:x("Zm"),nz:z("Zm"),UT:x("oE"),drawPolygon:function(a,b,e){console.log("drawPolygon()");this.Bb.lineWidth=this.Oo;this.Bb.strokeStyle=e;this.Bb.globalAlpha=this.Zm;this.Bb.beginPath();this.Bb.moveTo(a[0].x*this.Hd,a[0].y*this.Hd);for(e=1;e<b;){var f=e++;this.Bb.lineTo(a[f].x*this.Hd,a[f].y*this.Hd)}this.Bb.lineTo(a[0].x*this.Hd,a[0].y*this.Hd);this.Bb.stroke()},oO:function(a,b,e){this.Bb.lineWidth=this.Oo;this.Bb.strokeStyle=e.KL();this.Bb.globalAlpha=
this.Zm;this.Bb.beginPath();this.Bb.moveTo(a[0].x*this.Hd,a[0].y*this.Hd);this.Bb.fillStyle="rgba("+e.Zq+","+e.Kq+","+e.wq+","+this.oE+")";for(e=1;e<b;){var f=e++;this.Bb.lineTo(a[f].x*this.Hd,a[f].y*this.Hd)}this.Bb.lineTo(a[0].x*this.Hd,a[0].y*this.Hd);this.Bb.stroke();this.Bb.fill()},nO:function(a,b,e,f){this.Bb.lineWidth=this.Oo;this.Bb.strokeStyle=f.KL();this.Bb.globalAlpha=this.Zm;this.Bb.beginPath();this.Bb.fillStyle="rgba("+f.Zq+","+f.Kq+","+f.wq+","+this.oE+")";this.Bb.arc(a.x*this.Hd,a.y*
this.Hd,b*this.Hd,0,2*Math.PI,!1);this.Bb.stroke();this.Bb.fill()},fk:function(a,b,e){this.Bb.lineWidth=this.Oo;this.Bb.strokeStyle=e;this.Bb.globalAlpha=this.Zm;this.Bb.beginPath();this.Bb.moveTo(a.x*this.Hd,a.y*this.Hd);this.Bb.lineTo(b.x*this.Hd,b.y*this.Hd);this.Bb.stroke()},pO:function(a){this.Bb.lineWidth=this.Oo;this.Bb.strokeStyle="#FF0000";this.Bb.globalAlpha=this.Zm;this.Bb.beginPath();this.Bb.moveTo(a.position.x*this.Hd,a.position.y*this.Hd);this.Bb.lineTo((a.position.x+this.Vz*a.Q.s.x)*
this.Hd,(a.position.y+this.Vz*a.Q.s.y)*this.Hd);this.Bb.lineWidth=this.Oo;this.Bb.strokeStyle="#00FF00";this.Bb.globalAlpha=this.Zm;this.Bb.moveTo(a.position.x*this.Hd,a.position.y*this.Hd);this.Bb.lineTo((a.position.x+this.Vz*a.Q.t.x)*this.Hd,(a.position.y+this.Vz*a.Q.t.y)*this.Hd);this.Bb.stroke()},r:d.e.Tf};d.e.DA=t();d.e.DA.n=["box2D","dynamics","B2DestructionListener"];d.e.DA.prototype={r:d.e.DA};d.e.wp=function(){this.Bu=1;this.iv=65535;this.Go=0};d.e.wp.n=["box2D","dynamics","B2FilterData"];
d.e.wp.prototype={copy:function(){var a=new d.e.wp;a.Bu=this.Bu;a.iv=this.iv;a.Go=this.Go;return a},r:d.e.wp};d.e.un=function(){this.UJ=new d.e.wp;this.Xm=new d.l.Kk;this.Wd=this.Za=this.Kb=this.dn=null;this.xE=this.pE=this.Qz=0};d.e.un.n=["box2D","dynamics","B2Fixture"];d.e.un.prototype={Rb:function(){return this.Wd.Rb()},pk:z("EQ"),SI:function(){return this.UJ.copy()},getUserData:z("dn"),Mv:function(a){return this.Wd.Mv(this.Kb.Dg(),a)},Ch:function(a,b){return this.Wd.Ch(a,b,this.Kb.Dg())},hJ:function(a){null==
a&&(a=new d.l.R.rs);this.Wd.Cu(a,this.Qz);return a},create:function(a,b,e){this.dn=e.Jk;this.pE=e.lz;this.xE=e.zv;this.Kb=a;this.Za=null;this.UJ=e.filter.copy();this.EQ=e.pk;this.Wd=e.shape.copy();this.Qz=e.Zy},destroy:function(){this.Wd=null},kr:function(a,b){this.Wd.jr(this.Xm,b);this.$m=a.kr(this.Xm,this)},mr:function(a){null!=this.$m&&(a.mr(this.$m),this.$m=null)},IL:function(a,b,e){if(null!=this.$m){var f=new d.l.Kk,c=new d.l.Kk;this.Wd.jr(f,b);this.Wd.jr(c,e);this.Xm.Wy(f,c);a.EE(this.$m,this.Xm,
d.f.math.G.Ld(e.position,b.position))}},r:d.e.un};d.e.xp=function(){this.filter=new d.e.wp;this.Jk=this.shape=null;this.lz=0.2;this.Zy=this.zv=0;this.filter.Bu=1;this.filter.iv=65535;this.filter.Go=0;this.pk=!1};d.e.xp.n=["box2D","dynamics","B2FixtureDef"];d.e.xp.prototype={r:d.e.xp};d.e.vn=function(){this.sk=[];this.Er=[];this.tj=[]};d.e.vn.n=["box2D","dynamics","B2Island"];d.e.vn.prototype={wf:function(a,b,e,f,c,d){this.xQ=b;this.FQ=e;this.zh=this.Bi=this.$f=0;this.Ym=f;this.GQ=c;this.Ko=d;for(f=
this.sk.length;f<a;)c=f++,this.sk[c]=null;for(a=this.Er.length;a<b;)f=a++,this.Er[f]=null;for(b=this.tj.length;b<e;)a=b++,this.tj[a]=null},clear:function(){this.zh=this.Bi=this.$f=0},np:function(a,b,e){for(var f,c=0,g=this.$f;c<g;)f=c++,f=this.sk[f],f.Rb()==d.e.ra.$g&&(f.M.x+=a.dc*(b.x+f.ka*f.Hl.x),f.M.y+=a.dc*(b.y+f.ka*f.Hl.y),f.Y+=a.dc*f.Ga*f.gv,f.M.multiply(d.f.math.G.Qc(1-a.dc*f.XJ,0,1)),f.Y*=d.f.math.G.Qc(1-a.dc*f.OJ,0,1));this.Ko.wf(a,this.Er,this.Bi,this.Ym);b=this.Ko;b.Wh(a);c=0;for(g=this.zh;c<
g;)f=c++,f=this.tj[f],f.Wh(a);c=0;for(g=a.Zr;c<g;){c++;for(var h=0,l=this.zh;h<l;)f=h++,f=this.tj[f],f.Eh(a);b.Eh()}c=0;for(g=this.zh;c<g;)f=c++,f=this.tj[f],f.sD();b.sD();c=0;for(g=this.$f;c<g;)f=c++,f=this.sk[f],f.Rb()!=d.e.ra.ah&&(h=a.dc*f.M.x,l=a.dc*f.M.y,h*h+l*l>d.f.P.XH&&(f.M.normalize(),f.M.x*=d.f.P.hr*a.xi,f.M.y*=d.f.P.hr*a.xi),h=a.dc*f.Y,h*h>d.f.P.WH&&(f.Y=0>f.Y?-d.f.P.gr*a.xi:d.f.P.gr*a.xi),f.u.qf.ca(f.u.c),f.u.ri=f.u.a,f.u.c.x+=a.dc*f.M.x,f.u.c.y+=a.dc*f.M.y,f.u.a+=a.dc*f.Y,f.fe());c=0;
for(g=a.Qr;c<g;){c++;for(var h=b.Dh(d.f.P.aD),l=!0,m=0,p=this.zh;m<p;)f=m++,f=this.tj[f],f=f.Dh(d.f.P.aD),l=l&&f;if(h&&l)break}this.TK(b.tk);if(e){e=Number.MAX_VALUE;b=d.f.P.VH*d.f.P.VH;c=d.f.P.TH*d.f.P.TH;g=0;for(h=this.$f;g<h;)f=g++,f=this.sk[f],f.Rb()!=d.e.ra.ah&&(0==(f.fa&d.e.ra.Fu)&&(e=f.Vo=0),0==(f.fa&d.e.ra.Fu)||f.Y*f.Y>c||d.f.math.G.sf(f.M,f.M)>b?e=f.Vo=0:(f.Vo+=a.dc,e=d.f.math.G.min(e,f.Vo)));if(e>=d.f.P.nN)for(a=0,e=this.$f;a<e;)b=a++,f=this.sk[b],f.jc(!1)}},AF:function(a){this.Ko.wf(a,
this.Er,this.Bi,this.Ym);for(var b=this.Ko,e=0,f=this.zh;e<f;){var c=e++;this.tj[c].Wh(a)}e=0;for(f=a.Zr;e<f;){e++;b.Eh();for(var c=0,g=this.zh;c<g;){var h=c++;this.tj[h].Eh(a)}}e=0;for(f=this.$f;e<f;)c=e++,c=this.sk[c],c.Rb()!=d.e.ra.ah&&(g=a.dc*c.M.x,h=a.dc*c.M.y,g*g+h*h>d.f.P.XH&&(c.M.normalize(),c.M.x*=d.f.P.hr*a.xi,c.M.y*=d.f.P.hr*a.xi),g=a.dc*c.Y,g*g>d.f.P.WH&&(c.Y=0>c.Y?-d.f.P.gr*a.xi:d.f.P.gr*a.xi),c.u.qf.ca(c.u.c),c.u.ri=c.u.a,c.u.c.x+=a.dc*c.M.x,c.u.c.y+=a.dc*c.M.y,c.u.a+=a.dc*c.Y,c.fe());
e=0;for(a=a.Qr;e<a;){e++;f=b.Dh(0.75);c=!0;g=0;for(h=this.zh;g<h;)var l=g++,l=this.tj[l].Dh(d.f.P.aD),c=c&&l;if(f&&c)break}this.TK(b.tk)},TK:function(a){if(null!=this.GQ)for(var b=0,e=this.Bi;b<e;)for(var f=b++,f=a[f],c=0,g=f.Zh;c<g;){var h=c++;d.e.vn.bL.TQ[h]=f.points[h].Le;d.e.vn.bL.YU[h]=f.points[h].Hk}},ZC:function(a){a.a4=this.$f;this.sk[this.$f++]=a},JH:function(a){this.Er[this.Bi++]=a},KH:function(a){this.tj[this.zh++]=a},r:d.e.vn};d.e.Cp=t();d.e.Cp.n=["box2D","dynamics","B2TimeStep"];d.e.Cp.prototype=
{set:function(a){this.dc=a.dc;this.xi=a.xi;this.Qr=a.Qr;this.Zr=a.Zr;this.Li=a.Li},r:d.e.Cp};d.e.Yc=function(a,b){this.fT=[];this.ye=new d.e.es;this.Ko=new d.e.N.yf;this.WJ=new d.e.vn;this.Fl=this.Ah=this.Ec=this.Ye=this.ag=null;this.lE=this.zh=this.Bi=this.$f=0;d.e.Yc.KQ=!0;d.e.Yc.yQ=!0;this.wQ=b;this.qE=a;this.VJ=0;this.ye.re=this;this.rE=this.iD(new d.e.rn)};d.e.Yc.n=["box2D","dynamics","B2World"];d.e.Yc.prototype={JT:function(a){this.ye.Dr=a},ST:x("ag"),validate:function(){this.ye.rj.validate()},
iD:function(a){if(!0==this.Kz())return null;a=new d.e.ra(a,this);a.Pf=null;a.Za=this.Ye;null!=this.Ye&&(this.Ye.Pf=a);this.Ye=a;++this.$f;return a},dO:function(a){if(!0!=this.Kz()){for(var b=a.Ah;null!=b;){var e=b,b=b.next;this.fO(e.Io)}for(b=a.Fl;null!=b;)e=b,b=b.Kl,e.kI.LK(a);for(b=a.Ec;null!=b;)e=b,b=b.next,this.ye.destroy(e.gd);a.Ec=null;for(b=a.Gg;null!=b;)e=b,b=b.Za,e.mr(this.ye.rj),e.destroy();a.Gg=null;a.Rz=0;null!=a.Pf&&(a.Pf.Za=a.Za);null!=a.Za&&(a.Za.Pf=a.Pf);a==this.Ye&&(this.Ye=a.Za);
--this.$f}},fO:function(a){var b=a.QJ;null!=a.Pf&&(a.Pf.Za=a.Za);null!=a.Za&&(a.Za.Pf=a.Pf);a==this.Ah&&(this.Ah=a.Za);var e=a.bb,f=a.Ra;e.jc(!0);f.jc(!0);null!=a.uk.prev&&(a.uk.prev.next=a.uk.next);null!=a.uk.next&&(a.uk.next.prev=a.uk.prev);a.uk==e.Ah&&(e.Ah=a.uk.next);a.uk.prev=null;a.uk.next=null;null!=a.vk.prev&&(a.vk.prev.next=a.vk.next);null!=a.vk.next&&(a.vk.next.prev=a.vk.prev);a.vk==f.Ah&&(f.Ah=a.vk.next);a.vk.prev=null;a.vk.next=null;d.e.B.Fc.destroy(a,null);--this.zh;if(!1==b)for(a=f.Ec;null!=
a;)a.Ck==e&&a.gd.FO(),a=a.next},Ev:x("qE"),Ou:z("qE"),step:function(a,b,e){0!=(this.fa&d.e.Yc.qD)&&(this.ye.jz(),this.fa&=~d.e.Yc.qD);this.fa|=d.e.Yc.pD;var f=d.e.Yc.jT;f.dc=a;f.Zr=b;f.Qr=e;f.xi=0<a?1/a:0;f.ie=this.VJ*a;f.Li=d.e.Yc.KQ;this.ye.AN();0<f.dc&&this.np(f);d.e.Yc.yQ&&0<f.dc&&this.AF(f);0<f.dc&&(this.VJ=f.xi);this.fa&=~d.e.Yc.pD},zN:function(){for(var a=this.Ye;null!=a;)a.Hl.Pb(),a.gv=0,a=a.Za},lO:function(){if(null!=this.ag){var a=this.ag.TJ,b,e,f,c;c=[new d.f.math.K,new d.f.math.K,new d.f.math.K,
new d.f.math.K];var g=new d.f.cs(0,0,0);if(0!=(a&d.e.Tf.yI))for(b=this.Ye;null!=b;){c=b.X;for(e=b.Gg;null!=e;)f=e.Wd,!1==b.nk()?g.set(0.5,0.5,0.3):b.Rb()==d.e.ra.ah?g.set(0.5,0.9,0.5):b.Rb()==d.e.ra.UH?g.set(0.5,0.5,0.9):!1==b.yi()?g.set(0.6,0.6,0.6):g.set(0.9,0.7,0.7),this.drawShape(f,c,g),e=e.Za;b=b.Za}if(0!=(a&d.e.Tf.uO))for(b=this.Ah;null!=b;)this.mO(b),b=b.Za;if(0!=(a&d.e.Tf.tO))for(b=this.Fl;null!=b;)b=b.Za;if(0!=(a&d.e.Tf.vO))for(g.set(0.3,0.9,0.9),b=this.ye.Ec;null!=b;)f=b.md,e=b.$c.Xm.Lu(),
f=f.Xm.Lu(),this.ag.fk(e,f,g),b=b.Za;if(0!=(a&d.e.Tf.rO))for(f=this.ye.rj,c=[new d.f.math.K,new d.f.math.K,new d.f.math.K,new d.f.math.K],b=this.Ye;null!=b;){if(!1!=b.nk())for(e=b.Gg;null!=e;){var h=f.tr(e.$m);c[0].set(h.lowerBound.x,h.lowerBound.y);c[1].set(h.upperBound.x,h.lowerBound.y);c[2].set(h.upperBound.x,h.upperBound.y);c[3].set(h.lowerBound.x,h.upperBound.y);this.ag.drawPolygon(c,4,g);e=e.Za}b=b.Za}if(0!=(a&d.e.Tf.sO))for(b=this.Ye;null!=b;)c=d.e.Yc.mT,c.Q=b.X.Q,c.position=b.u.c,this.ag.pO(c),
b=b.Za}},Ch:function(a,b,e){var f=this.ye.rj,c=new d.l.ws,g=new d.l.Ap(b,e);f.Ch(function(g,l){var m;m=y.fb.Bc(f.getUserData(l),d.e.un);if(m.Ch(c,g)){var p=c.Ju;return a(m,new d.f.math.K((1-p)*b.x+p*e.x,(1-p)*b.y+p*e.y),c.yc,p)}return g.Yo},g)},Kz:function(){return 0<(this.fa&d.e.Yc.pD)},np:function(a){for(var b,e=this.Fl;null!=e;)e.step(a),e=e.Za;var f=this.WJ;f.wf(this.$f,this.Bi,this.zh,null,this.ye.Dr,this.Ko);for(b=this.Ye;null!=b;)b.fa&=~d.e.ra.ne,b=b.Za;for(e=this.Ec;null!=e;)e.fa&=~d.e.N.Fa.ne,
e=e.Za;for(e=this.Ah;null!=e;)e.No=!1,e=e.Za;for(var e=this.fT,c=this.Ye;null!=c;){if(0==(c.fa&d.e.ra.ne)&&!1!=c.yi()&&!1!=c.nk()&&c.Rb()!=d.e.ra.ah){f.clear();var g=0;e[g++]=c;for(c.fa|=d.e.ra.ne;0<g;)if(b=e[--g],f.ZC(b),!1==b.yi()&&b.jc(!0),b.Rb()!=d.e.ra.ah){for(var h,l=b.Ec;null!=l;)0==(l.gd.fa&d.e.N.Fa.ne)&&(!0!=l.gd.pk()&&!1!=l.gd.isEnabled()&&!1!=l.gd.Mz())&&(f.JH(l.gd),l.gd.fa|=d.e.N.Fa.ne,h=l.Ck,0==(h.fa&d.e.ra.ne)&&(e[g++]=h,h.fa|=d.e.ra.ne)),l=l.next;for(b=b.Ah;null!=b;)!0!=b.Io.No&&(h=
b.Ck,!1!=h.nk()&&(f.KH(b.Io),b.Io.No=!0,0==(h.fa&d.e.ra.ne)&&(e[g++]=h,h.fa|=d.e.ra.ne))),b=b.next}f.np(a,this.qE,this.wQ);g=0;for(h=f.$f;g<h;)b=g++,b=f.sk[b],b.Rb()==d.e.ra.ah&&(b.fa&=~d.e.ra.ne)}c=c.Za}a=0;for(f=e.length;a<f;){c=a++;if(null==e[c])break;e[c]=null}for(b=this.Ye;null!=b;)!1!=b.yi()&&!1!=b.nk()&&b.Rb()!=d.e.ra.ah&&b.xA(),b=b.Za;this.ye.jz()},AF:function(a){var b,e,f,c,g=this.WJ;g.wf(this.$f,d.f.P.lN,d.f.P.mN,null,this.ye.Dr,this.Ko);var h=d.e.Yc.bT;for(b=this.Ye;null!=b;)b.fa&=~d.e.ra.ne,
b.u.bf=0,b=b.Za;for(b=this.Ec;null!=b;)b.fa&=~(d.e.N.Fa.pr|d.e.N.Fa.ne),b=b.Za;for(c=this.Ah;null!=c;)c.No=!1,c=c.Za;for(;;){c=null;var l=1;for(b=this.Ec;null!=b;){if(!0!=b.pk()&&!1!=b.isEnabled()&&!1!=b.nQ()){e=1;if(0!=(b.fa&d.e.N.Fa.pr))e=b.JQ;else{e=b.$c;f=b.md;e=e.Kb;f=f.Kb;if(!(e.Rb()==d.e.ra.$g&&!1!=e.yi()||f.Rb()==d.e.ra.$g&&!1!=f.yi())){b=b.Za;continue}var m=e.u.bf;e.u.bf<f.u.bf?(m=f.u.bf,e.u.advance(m)):f.u.bf<e.u.bf&&(m=e.u.bf,f.u.advance(m));e=b.GN(e.u,f.u);d.f.P.Td(0<=e&&1>=e);0<e&&1>
e&&(e=(1-e)*m+e,1<e&&(e=1));b.JQ=e;b.fa|=d.e.N.Fa.pr}Number.MIN_VALUE<e&&e<l&&(c=b,l=e)}b=b.Za}if(null==c||1-100*Number.MIN_VALUE<l)break;e=c.$c;f=c.md;e=e.Kb;f=f.Kb;d.e.Yc.ZK.set(e.u);d.e.Yc.$K.set(f.u);e.advance(l);f.advance(l);c.update(this.ye.Dr);c.fa&=~d.e.N.Fa.pr;if(!0==c.pk()||!1==c.isEnabled())e.u.set(d.e.Yc.ZK),f.u.set(d.e.Yc.$K),e.fe(),f.fe();else if(!1!=c.Mz()){b=e;b.Rb()!=d.e.ra.$g&&(b=f);g.clear();f=e=0;h[e+f++]=b;for(b.fa|=d.e.ra.ne;0<f;)if(b=h[e++],--f,g.ZC(b),!1==b.yi()&&b.jc(!0),
b.Rb()==d.e.ra.$g){for(c=b.Ec;null!=c&&g.Bi!=g.xQ;)0==(c.gd.fa&d.e.N.Fa.ne)&&(!0!=c.gd.pk()&&!1!=c.gd.isEnabled()&&!1!=c.gd.Mz())&&(g.JH(c.gd),c.gd.fa|=d.e.N.Fa.ne,m=c.Ck,0==(m.fa&d.e.ra.ne)&&(m.Rb()!=d.e.ra.ah&&(m.advance(l),m.jc(!0)),h[e+f]=m,++f,m.fa|=d.e.ra.ne)),c=c.next;for(b=b.Ah;null!=b;)g.zh!=g.FQ&&!0!=b.Io.No&&(m=b.Ck,!1!=m.nk()&&(g.KH(b.Io),b.Io.No=!0,0==(m.fa&d.e.ra.ne)&&(m.Rb()!=d.e.ra.ah&&(m.advance(l),m.jc(!0)),h[e+f]=m,++f,m.fa|=d.e.ra.ne))),b=b.next}b=d.e.Yc.iT;b.Li=!1;b.dc=(1-l)*
a.dc;b.xi=1/b.dc;b.ie=0;b.Zr=a.Zr;b.Qr=a.Qr;g.AF(b);l=0;for(e=g.$f;l<e;)if(b=l++,b=g.sk[b],b.fa&=~d.e.ra.ne,!1!=b.yi()&&b.Rb()==d.e.ra.$g)for(b.xA(),c=b.Ec;null!=c;)c.gd.fa&=~d.e.N.Fa.pr,c=c.next;l=0;for(c=g.Bi;l<c;)b=l++,b=g.Er[b],b.fa&=~(d.e.N.Fa.pr|d.e.N.Fa.ne);l=0;for(b=g.zh;l<b;)c=l++,c=g.tj[c],c.No=!1;this.ye.jz()}}},mO:function(a){var b=a.bb,e=a.Ra,f=b.X.position,c=e.X.position,g=a.hk(),h=a.ik(),l=d.e.Yc.XS;switch(a.ec[1]){case 3:this.ag.fk(g,h,l);break;case 4:b=y.fb.Bc(a,d.e.B.Mi);a=b.eP();
b=b.fP();this.ag.fk(a,g,l);this.ag.fk(b,h,l);this.ag.fk(a,b,l);break;case 5:this.ag.fk(g,h,l);break;default:b!=this.rE&&this.ag.fk(f,g,l),this.ag.fk(g,h,l),e!=this.rE&&this.ag.fk(c,h,l)}},drawShape:function(a,b,e){switch(a.ec[1]){case 1:a=y.fb.Bc(a,d.l.R.jh);var f=d.f.math.G.de(b,a.Tc);this.ag.nO(f,a.Fb,b.Q.s,e);break;case 2:f=y.fb.Bc(a,d.l.R.ud);a=f.AJ();for(var f=f.Aa,c=[],g=0;g<a;){var h=g++;c[h]=d.f.math.G.de(b,f[h])}this.ag.oO(c,a,e);break;case 3:a=y.fb.Bc(a,d.l.R.tn),this.ag.fk(d.f.math.G.de(b,
a.cb),d.f.math.G.de(b,a.ub),e)}},r:d.e.Yc};d.e.N={};d.e.N.Fa=function(){this.Nf=new d.e.N.ds;this.Of=new d.e.N.ds;this.Hg=new d.l.yp;this.Sz=new d.l.yp};d.e.N.Fa.n=["box2D","dynamics","contacts","B2Contact"];d.e.N.Fa.prototype={Mz:function(){return(this.fa&d.e.N.Fa.qr)==d.e.N.Fa.qr},nQ:function(){return(this.fa&d.e.N.Fa.Hu)==d.e.N.Fa.Hu},pk:function(){return(this.fa&d.e.N.Fa.bz)==d.e.N.Fa.bz},lA:function(a){this.fa=a?this.fa|d.e.N.Fa.or:this.fa&~d.e.N.Fa.or},isEnabled:function(){return(this.fa&d.e.N.Fa.or)==
d.e.N.Fa.or},FO:function(){this.fa|=d.e.N.Fa.oD},reset:function(a,b){this.fa=d.e.N.Fa.or;if(null==a||null==b)this.md=this.$c=null;else{if(a.pk()||b.pk())this.fa|=d.e.N.Fa.bz;var e=a.Kb,f=b.Kb;if(e.Rb()!=d.e.ra.$g||e.Jz()||f.Rb()!=d.e.ra.$g||f.Jz())this.fa|=d.e.N.Fa.Hu;this.$c=a;this.md=b;this.Hg.je=0;this.Za=this.Pf=null;this.Nf.gd=null;this.Nf.prev=null;this.Nf.next=null;this.Nf.Ck=null;this.Of.gd=null;this.Of.prev=null;this.Of.next=null;this.Of.Ck=null}},update:function(a){var b=this.Sz;this.Sz=
this.Hg;this.Hg=b;this.fa|=d.e.N.Fa.or;var e=!1,b=(this.fa&d.e.N.Fa.qr)==d.e.N.Fa.qr,f=this.$c.Kb,c=this.md.Kb,g=this.$c.Xm.Rl(this.md.Xm);if(0!=(this.fa&d.e.N.Fa.bz))g&&(e=this.$c.Wd,g=this.md.Wd,f=f.Dg(),c=c.Dg(),e=d.l.R.df.Rl(e,f,g,c)),this.Hg.je=0;else{this.fa=f.Rb()!=d.e.ra.$g||f.Jz()||c.Rb()!=d.e.ra.$g||c.Jz()?this.fa|d.e.N.Fa.Hu:this.fa&~d.e.N.Fa.Hu;if(g){this.evaluate();for(var e=0<this.Hg.je,g=0,h=this.Hg.je;g<h;){var l=g++,l=this.Hg.Ob[l];l.Ro=0;l.Wo=0;for(var m=l.Ei,p=0,v=this.Sz.je;p<
v;){var B=p++,B=this.Sz.Ob[B];if(B.Ei.Dz()==m.Dz()){l.Ro=B.Ro;l.Wo=B.Wo;break}}}}else this.Hg.je=0;e!=b&&(f.jc(!0),c.jc(!0))}this.fa=e?this.fa|d.e.N.Fa.qr:this.fa&~d.e.N.Fa.qr;!1==b&&!0==e&&a.cD(this);!0==b&&!1==e&&a.dz(this)},evaluate:t(),GN:function(a,b){d.e.N.Fa.Sr.Ml.set(this.$c.Wd);d.e.N.Fa.Sr.Nl.set(this.md.Wd);d.e.N.Fa.Sr.GL=a;d.e.N.Fa.Sr.HL=b;d.e.N.Fa.Sr.aV=d.f.P.Oc;return d.l.jb.$U(d.e.N.Fa.Sr)},r:d.e.N.Fa};d.e.N.Lk=function(){d.e.N.Fa.call(this)};d.e.N.Lk.n=["box2D","dynamics","contacts",
"B2CircleContact"];d.e.N.Lk.create=function(){return new d.e.N.Lk};d.e.N.Lk.destroy=t();d.e.N.Lk.I=d.e.N.Fa;d.e.N.Lk.prototype=q(d.e.N.Fa.prototype,{reset:function(a,b){d.e.N.Fa.prototype.reset.call(this,a,b)},evaluate:function(){var a=this.$c.Kb,b=this.md.Kb;d.l.$a.BN(this.Hg,y.fb.Bc(this.$c.Wd,d.l.R.jh),a.X,y.fb.Bc(this.md.Wd,d.l.R.jh),b.X)},r:d.e.N.Lk});d.e.N.Sv=function(){this.Oz=new d.f.math.K;this.qk=new d.f.math.K;this.yc=new d.f.math.K;this.Lr=new d.f.math.Gc;this.Oe=new d.f.math.Gc;this.points=
[];for(var a=0,b=d.f.P.Lm;a<b;){var e=a++;this.points[e]=new d.e.N.Tv}};d.e.N.Sv.n=["box2D","dynamics","contacts","B2ContactConstraint"];d.e.N.Sv.prototype={r:d.e.N.Sv};d.e.N.Tv=function(){this.qk=new d.f.math.K;this.qc=new d.f.math.K;this.rc=new d.f.math.K};d.e.N.Tv.n=["box2D","dynamics","contacts","B2ContactConstraintPoint"];d.e.N.Tv.prototype={r:d.e.N.Tv};d.e.N.ds=t();d.e.N.ds.n=["box2D","dynamics","contacts","B2ContactEdge"];d.e.N.ds.prototype={r:d.e.N.ds};d.e.N.Uv=function(a){this.Ym=a;this.jQ()};
d.e.N.Uv.n=["box2D","dynamics","contacts","B2ContactFactory"];d.e.N.Uv.prototype={zu:function(a,b,e,f){var c=e[1],d=f[1];this.Ak[c][d].nI=a;this.Ak[c][d].uI=b;this.Ak[c][d].EK=!0;e!=f&&(this.Ak[d][c].nI=a,this.Ak[d][c].uI=b,this.Ak[d][c].EK=!1)},jQ:function(){this.Ak=[];for(var a=0,b=E.MH(d.l.R.fc).length;a<b;){var e=a++;this.Ak[e]=[];for(var f=0,c=E.MH(d.l.R.fc).length;f<c;){var g=f++;this.Ak[e][g]=new d.e.N.Xv}}this.zu(d.e.N.Lk.create,d.e.N.Lk.destroy,d.l.R.fc.Xl,d.l.R.fc.Xl);this.zu(d.e.N.Nk.create,
d.e.N.Nk.destroy,d.l.R.fc.Wk,d.l.R.fc.Xl);this.zu(d.e.N.Pk.create,d.e.N.Pk.destroy,d.l.R.fc.Wk,d.l.R.fc.Wk);this.zu(d.e.N.Mk.create,d.e.N.Mk.destroy,d.l.R.fc.Lp,d.l.R.fc.Xl);this.zu(d.e.N.Ok.create,d.e.N.Ok.destroy,d.l.R.fc.Wk,d.l.R.fc.Lp)},create:function(a,b){var e=this.Ak[a.Rb()[1]][b.Rb()[1]],f;if(null!=e.fA)return f=e.fA,e.fA=f.Za,e.sS--,f.reset(a,b),f;f=e.nI;return null!=f?(e.EK?(f=f(this.Ym),f.reset(a,b)):(f=f(this.Ym),f.reset(b,a)),f):null},destroy:function(a){0<a.Hg.je&&(a.$c.Kb.jc(!0),a.md.Kb.jc(!0));
var b=this.Ak[a.$c.Rb()[1]][a.md.Rb()[1]];b.sS++;a.Za=b.fA;b.fA=a;b=b.uI;b(a,this.Ym)},r:d.e.N.Uv};d.e.N.Xv=t();d.e.N.Xv.n=["box2D","dynamics","contacts","B2ContactRegister"];d.e.N.Xv.prototype={r:d.e.N.Xv};d.e.N.zp=function(){this.Lb=new d.f.math.K;this.Uz=[];this.Ob=[];for(var a=0,b=d.f.P.Lm;a<b;){var e=a++;this.Ob[e]=new d.f.math.K}};d.e.N.zp.n=["box2D","dynamics","contacts","B2PositionSolverManifold"];d.e.N.zp.prototype={wf:function(a){d.f.P.Td(0<a.Zh);var b,e,f,c,g;switch(a.type[1]){case 0:f=
a.uc.X.Q;e=a.qk;b=a.uc.X.position.x+(f.s.x*e.x+f.t.x*e.y);c=a.uc.X.position.y+(f.s.y*e.x+f.t.y*e.y);f=a.Pc.X.Q;e=a.points[0].qk;g=a.Pc.X.position.x+(f.s.x*e.x+f.t.x*e.y);f=a.Pc.X.position.y+(f.s.y*e.x+f.t.y*e.y);e=g-b;var h=f-c,l=e*e+h*h;l>Number.MIN_VALUE*Number.MIN_VALUE?(l=Math.sqrt(l),this.Lb.x=e/l,this.Lb.y=h/l):(this.Lb.x=1,this.Lb.y=0);this.Ob[0].x=0.5*(b+g);this.Ob[0].y=0.5*(c+f);this.Uz[0]=e*this.Lb.x+h*this.Lb.y-a.radius;break;case 1:f=a.uc.X.Q;e=a.Oz;this.Lb.x=f.s.x*e.x+f.t.x*e.y;this.Lb.y=
f.s.y*e.x+f.t.y*e.y;f=a.uc.X.Q;e=a.qk;c=a.uc.X.position.x+(f.s.x*e.x+f.t.x*e.y);g=a.uc.X.position.y+(f.s.y*e.x+f.t.y*e.y);f=a.Pc.X.Q;h=0;for(l=a.Zh;h<l;){var m=h++;e=a.points[m].qk;b=a.Pc.X.position.x+(f.s.x*e.x+f.t.x*e.y);e=a.Pc.X.position.y+(f.s.y*e.x+f.t.y*e.y);this.Uz[m]=(b-c)*this.Lb.x+(e-g)*this.Lb.y-a.radius;this.Ob[m].x=b;this.Ob[m].y=e}break;case 2:f=a.Pc.X.Q;e=a.Oz;this.Lb.x=f.s.x*e.x+f.t.x*e.y;this.Lb.y=f.s.y*e.x+f.t.y*e.y;f=a.Pc.X.Q;e=a.qk;c=a.Pc.X.position.x+(f.s.x*e.x+f.t.x*e.y);g=a.Pc.X.position.y+
(f.s.y*e.x+f.t.y*e.y);f=a.uc.X.Q;h=0;for(l=a.Zh;h<l;)m=h++,e=a.points[m].qk,b=a.uc.X.position.x+(f.s.x*e.x+f.t.x*e.y),e=a.uc.X.position.y+(f.s.y*e.x+f.t.y*e.y),this.Uz[m]=(b-c)*this.Lb.x+(e-g)*this.Lb.y-a.radius,this.Ob[m].set(b,e);this.Lb.x*=-1;this.Lb.y*=-1}},r:d.e.N.zp};d.e.N.yf=function(){this.IQ=new d.e.Cp;this.tk=[]};d.e.N.yf.n=["box2D","dynamics","contacts","B2ContactSolver"];d.e.N.yf.prototype={wf:function(a,b,e,f){var c;this.IQ.set(a);this.Ym=f;for(this.$u=e;this.tk.length<this.$u;)this.tk[this.tk.length]=
new d.e.N.Sv;for(a=0;a<e;){f=a++;c=b[f];var g=c.$c,h=c.md,l=g.Wd.Fb,m=h.Wd.Fb,p=g.Kb,v=h.Kb;c=c.Hg;var B=d.f.P.fN(g.pE,h.pE),q=d.f.P.gN(g.xE,h.xE),s=p.M.x,r=p.M.y,u=v.M.x,A=v.M.y,w=p.Y,C=v.Y;d.f.P.Td(0<c.je);d.e.N.yf.gp.wf(c,p.X,l,v.X,m);g=d.e.N.yf.gp.Lb.x;h=d.e.N.yf.gp.Lb.y;f=this.tk[f];f.uc=p;f.Pc=v;f.MQ=c;f.yc.x=g;f.yc.y=h;f.Zh=c.je;f.lz=B;f.zv=q;f.Oz.x=c.Ke.x;f.Oz.y=c.Ke.y;f.qk.x=c.Tb.x;f.qk.y=c.Tb.y;f.radius=l+m;f.type=c.ec;l=0;for(m=f.Zh;l<m;){var y=l++,q=c.Ob[y],B=f.points[y];B.Le=q.Ro;B.Hk=
q.Wo;B.qk.ca(q.Tb);var q=B.qc.x=d.e.N.yf.gp.Ob[y].x-p.u.c.x,D=B.qc.y=d.e.N.yf.gp.Ob[y].y-p.u.c.y,E=B.rc.x=d.e.N.yf.gp.Ob[y].x-v.u.c.x,y=B.rc.y=d.e.N.yf.gp.Ob[y].y-v.u.c.y,G=q*h-D*g,L=E*h-y*g,G=G*G,L=L*L;B.Lr=1/(p.ka+v.ka+p.Ga*G+v.Ga*L);var F=p.za*p.ka+v.za*v.ka,F=F+(p.za*p.Ga*G+v.za*v.Ga*L);B.xO=1/F;L=h;F=-g;G=q*F-D*L;L=E*F-y*L;G*=G;L*=L;B.ZU=1/(p.ka+v.ka+p.Ga*G+v.Ga*L);B.Nv=0;q=f.yc.x*(u+-C*y-s- -w*D)+f.yc.y*(A+C*E-r-w*q);q<-d.f.P.rN&&(B.Nv+=-f.zv*q)}2==f.Zh&&(A=f.points[0],u=f.points[1],c=p.ka,
p=p.Ga,s=v.ka,v=v.Ga,r=A.qc.x*h-A.qc.y*g,A=A.rc.x*h-A.rc.y*g,w=u.qc.x*h-u.qc.y*g,u=u.rc.x*h-u.rc.y*g,g=c+s+p*r*r+v*A*A,h=c+s+p*w*w+v*u*u,v=c+s+p*r*w+v*A*u,g*g<100*(g*h-v*v)?(f.Oe.s.set(g,v),f.Oe.t.set(v,h),f.Oe.ID(f.Lr)):f.Zh=1)}},Wh:function(a){for(var b=0,e=this.$u;b<e;){var f=b++,f=this.tk[f],c=f.uc,d=f.Pc,h=c.ka,l=c.Ga,m=d.ka,p=d.Ga,v=f.yc.x,q=f.yc.y,s=q,r=-v,u;if(a.Li){u=f.Zh;for(var H=0;H<u;){var A=H++,A=f.points[A];A.Le*=a.ie;A.Hk*=a.ie;var w=A.Le*v+A.Hk*s,y=A.Le*q+A.Hk*r;c.Y-=l*(A.qc.x*y-
A.qc.y*w);c.M.x-=h*w;c.M.y-=h*y;d.Y+=p*(A.rc.x*y-A.rc.y*w);d.M.x+=m*w;d.M.y+=m*y}}else for(u=f.Zh,c=0;c<u;)d=c++,d=f.points[d],d.Le=0,d.Hk=0}},Eh:function(){for(var a,b,e,f,c,g,h,l,m,p,v=0,q=this.$u;v<q;){var s=v++;f=this.tk[s];var s=f.uc,r=f.Pc,u=s.Y,H=r.Y,A=s.M,w=r.M,y=s.ka,C=s.Ga,D=r.ka,F=r.Ga;l=f.yc.x;var G=m=f.yc.y,E=-l;p=f.lz;h=0;for(g=f.Zh;h<g;)a=h++,a=f.points[a],b=w.x-H*a.rc.y-A.x+u*a.qc.y,e=w.y+H*a.rc.x-A.y-u*a.qc.x,b=b*G+e*E,b=a.ZU*-b,e=p*a.Le,e=d.f.math.G.Qc(a.Hk+b,-e,e),b=e-a.Hk,c=b*
G,b*=E,A.x-=y*c,A.y-=y*b,u-=C*(a.qc.x*b-a.qc.y*c),w.x+=D*c,w.y+=D*b,H+=F*(a.rc.x*b-a.rc.y*c),a.Hk=e;if(1==f.Zh)a=f.points[0],b=w.x+-H*a.rc.y-A.x- -u*a.qc.y,e=w.y+H*a.rc.x-A.y-u*a.qc.x,f=b*l+e*m,b=-a.Lr*(f-a.Nv),e=a.Le+b,0<e||(e=0),b=e-a.Le,c=b*l,b*=m,A.x-=y*c,A.y-=y*b,u-=C*(a.qc.x*b-a.qc.y*c),w.x+=D*c,w.y+=D*b,H+=F*(a.rc.x*b-a.rc.y*c),a.Le=e;else{a=f.points[0];G=f.points[1];g=a.Le;h=G.Le;c=(w.x-H*a.rc.y-A.x+u*a.qc.y)*l+(w.y+H*a.rc.x-A.y-u*a.qc.x)*m;var K=(w.x-H*G.rc.y-A.x+u*G.qc.y)*l+(w.y+H*G.rc.x-
A.y-u*G.qc.x)*m;b=c-a.Nv;e=K-G.Nv;p=f.Oe;b-=p.s.x*g+p.t.x*h;for(e-=p.s.y*g+p.t.y*h;;){p=f.Lr;E=-(p.s.x*b+p.t.x*e);p=-(p.s.y*b+p.t.y*e);if(0<=E&&0<=p){g=E-g;h=p-h;f=g*l;g*=m;l*=h;m*=h;A.x-=y*(f+l);A.y-=y*(g+m);u-=C*(a.qc.x*g-a.qc.y*f+G.qc.x*m-G.qc.y*l);w.x+=D*(f+l);w.y+=D*(g+m);H+=F*(a.rc.x*g-a.rc.y*f+G.rc.x*m-G.rc.y*l);a.Le=E;G.Le=p;break}E=-a.Lr*b;p=0;K=f.Oe.s.y*E+e;if(0<=E&&0<=K){g=E-g;h=p-h;f=g*l;g*=m;l*=h;m*=h;A.x-=y*(f+l);A.y-=y*(g+m);u-=C*(a.qc.x*g-a.qc.y*f+G.qc.x*m-G.qc.y*l);w.x+=D*(f+l);w.y+=
D*(g+m);H+=F*(a.rc.x*g-a.rc.y*f+G.rc.x*m-G.rc.y*l);a.Le=E;G.Le=p;break}E=0;p=-G.Lr*e;c=f.Oe.t.x*p+b;if(0<=p&&0<=c){g=E-g;h=p-h;f=g*l;g*=m;l*=h;m*=h;A.x-=y*(f+l);A.y-=y*(g+m);u-=C*(a.qc.x*g-a.qc.y*f+G.qc.x*m-G.qc.y*l);w.x+=D*(f+l);w.y+=D*(g+m);H+=F*(a.rc.x*g-a.rc.y*f+G.rc.x*m-G.rc.y*l);a.Le=E;G.Le=p;break}p=E=0;c=b;K=e;if(0<=c&&0<=K){g=E-g;h=p-h;f=g*l;g*=m;l*=h;m*=h;A.x-=y*(f+l);A.y-=y*(g+m);u-=C*(a.qc.x*g-a.qc.y*f+G.qc.x*m-G.qc.y*l);w.x+=D*(f+l);w.y+=D*(g+m);H+=F*(a.rc.x*g-a.rc.y*f+G.rc.x*m-G.rc.y*
l);a.Le=E;G.Le=p;break}break}}s.Y=u;r.Y=H}},sD:function(){for(var a=0,b=this.$u;a<b;)for(var e=a++,e=this.tk[e],f=e.MQ,c=0,d=e.Zh;c<d;){var h=c++,l=f.Ob[h],h=e.points[h];l.Ro=h.Le;l.Wo=h.Hk}},Dh:function(a){for(var b=0,e=0,f=this.$u;e<f;){var c=e++,c=this.tk[c],g=c.uc,h=c.Pc,l=g.za*g.ka,m=g.za*g.Ga,p=h.za*h.ka,v=h.za*h.Ga;d.e.N.yf.jA.wf(c);for(var q=d.e.N.yf.jA.Lb,s=0,r=c.Zh;s<r;){var u=s++,w=c.points[u],A=d.e.N.yf.jA.Ob[u],y=d.e.N.yf.jA.Uz[u],u=A.x-g.u.c.x,C=A.y-g.u.c.y,D=A.x-h.u.c.x,A=A.y-h.u.c.y;
b<y||(b=y);y=-w.xO*d.f.math.G.Qc(a*(y+d.f.P.Oc),-d.f.P.vh,0);w=y*q.x;y*=q.y;g.u.c.x-=l*w;g.u.c.y-=l*y;g.u.a-=m*(u*y-C*w);g.fe();h.u.c.x+=p*w;h.u.c.y+=p*y;h.u.a+=v*(D*y-A*w);h.fe()}}return b>-1.5*d.f.P.Oc},r:d.e.N.yf};d.e.N.Mk=function(){d.e.N.Fa.call(this)};d.e.N.Mk.n=["box2D","dynamics","contacts","B2EdgeAndCircleContact"];d.e.N.Mk.create=function(){return new d.e.N.Mk};d.e.N.Mk.destroy=t();d.e.N.Mk.I=d.e.N.Fa;d.e.N.Mk.prototype=q(d.e.N.Fa.prototype,{reset:function(a,b){d.e.N.Fa.prototype.reset.call(this,
a,b)},evaluate:function(){y.fb.Bc(this.$c.Wd,d.l.R.tn);y.fb.Bc(this.md.Wd,d.l.R.jh)},DZ:t(),r:d.e.N.Mk});d.e.N.Nk=function(){d.e.N.Fa.call(this)};d.e.N.Nk.n=["box2D","dynamics","contacts","B2PolyAndCircleContact"];d.e.N.Nk.create=function(){return new d.e.N.Nk};d.e.N.Nk.destroy=t();d.e.N.Nk.I=d.e.N.Fa;d.e.N.Nk.prototype=q(d.e.N.Fa.prototype,{reset:function(a,b){d.e.N.Fa.prototype.reset.call(this,a,b);d.f.P.Td(a.Rb()==d.l.R.fc.Wk);d.f.P.Td(b.Rb()==d.l.R.fc.Xl)},evaluate:function(){var a=this.$c.Kb,
b=this.md.Kb;d.l.$a.CN(this.Hg,y.fb.Bc(this.$c.Wd,d.l.R.ud),a.X,y.fb.Bc(this.md.Wd,d.l.R.jh),b.X)},r:d.e.N.Nk});d.e.N.Ok=function(){d.e.N.Fa.call(this)};d.e.N.Ok.n=["box2D","dynamics","contacts","B2PolyAndEdgeContact"];d.e.N.Ok.create=function(){return new d.e.N.Ok};d.e.N.Ok.destroy=t();d.e.N.Ok.I=d.e.N.Fa;d.e.N.Ok.prototype=q(d.e.N.Fa.prototype,{reset:function(a,b){d.e.N.Fa.prototype.reset.call(this,a,b);d.f.P.Td(a.Rb()==d.l.R.fc.Wk);d.f.P.Td(b.Rb()==d.l.R.fc.Lp)},evaluate:function(){y.fb.Bc(this.$c.Wd,
d.l.R.ud);y.fb.Bc(this.md.Wd,d.l.R.tn)},EZ:t(),r:d.e.N.Ok});d.e.N.Pk=function(){d.e.N.Fa.call(this)};d.e.N.Pk.n=["box2D","dynamics","contacts","B2PolygonContact"];d.e.N.Pk.create=function(){return new d.e.N.Pk};d.e.N.Pk.destroy=t();d.e.N.Pk.I=d.e.N.Fa;d.e.N.Pk.prototype=q(d.e.N.Fa.prototype,{reset:function(a,b){d.e.N.Fa.prototype.reset.call(this,a,b)},evaluate:function(){var a=this.$c.Kb,b=this.md.Kb;d.l.$a.DN(this.Hg,y.fb.Bc(this.$c.Wd,d.l.R.ud),a.X,y.fb.Bc(this.md.Wd,d.l.R.ud),b.X)},r:d.e.N.Pk});
d.e.controllers={};d.e.controllers.CA=t();d.e.controllers.CA.n=["box2D","dynamics","controllers","B2Controller"];d.e.controllers.CA.prototype={step:t(),ZC:function(a){var b=new d.e.controllers.Yv;b.kI=this;b.body=a;b.$o=this.Ye;b.uv=null;this.Ye=b;null!=b.$o&&(b.$o.uv=b);this.$f++;b.Kl=a.Fl;b.vv=null;a.Fl=b;null!=b.Kl&&(b.Kl.vv=b);a.lE++},LK:function(a){for(var b=a.Fl;null!=b&&b.kI!=this;)b=b.Kl;null!=b.uv&&(b.uv.$o=b.$o);null!=b.$o&&(b.$o.uv=b.uv);null!=b.Kl&&(b.Kl.vv=b.vv);null!=b.vv&&(b.vv.Kl=
b.Kl);this.Ye==b&&(this.Ye=b.$o);a.Fl==b&&(a.Fl=b.Kl);a.lE--;this.$f--},clear:function(){for(;null!=this.Ye;)this.LK(this.Ye.body)},r:d.e.controllers.CA};d.e.controllers.Yv=t();d.e.controllers.Yv.n=["box2D","dynamics","controllers","B2ControllerEdge"];d.e.controllers.Yv.prototype={r:d.e.controllers.Yv};d.e.B={};d.e.B.Fc=function(a){this.uk=new d.e.B.os;this.vk=new d.e.B.os;this.yk=new d.f.math.K;this.zk=new d.f.math.K;d.f.P.Td(a.uc!=a.Pc);this.ec=a.type;this.Za=this.Pf=null;this.bb=a.uc;this.Ra=a.Pc;
this.QJ=a.gI;this.No=!1;this.dn=a.Jk};d.e.B.Fc.n=["box2D","dynamics","joints","B2Joint"];d.e.B.Fc.create=function(a){var b=null;switch(a.type[1]){case 3:b=new d.e.B.fs(y.fb.Bc(a,d.e.B.gs));break;case 5:b=new d.e.B.ss(y.fb.Bc(a,d.e.B.ts));break;case 2:b=new d.e.B.wn(y.fb.Bc(a,d.e.B.us));break;case 1:b=new d.e.B.Ni(y.fb.Bc(a,d.e.B.xs));break;case 4:b=new d.e.B.Mi(y.fb.Bc(a,d.e.B.vs));break;case 6:b=new d.e.B.ms(y.fb.Bc(a,d.e.B.ns));break;case 7:b=new d.e.B.ps(y.fb.Bc(a,d.e.B.qs));break;case 8:b=new d.e.B.ys(y.fb.Bc(a,
d.e.B.zs));break;case 9:b=new d.e.B.ks(y.fb.Bc(a,d.e.B.ls))}return b};d.e.B.Fc.destroy=t();d.e.B.Fc.prototype={Rb:z("ec"),hk:I(null),ik:I(null),Bl:I(null),Cl:I(0),getUserData:z("dn"),setUserData:x("dn"),nk:function(){return this.bb.nk()&&this.Ra.nk()},Wh:t(),Eh:t(),sD:t(),Dh:I(!1),r:d.e.B.Fc};d.e.B.fs=function(a){d.e.B.Fc.call(this,a);this.Ua=new d.f.math.K;this.Wa=new d.f.math.K;this.qe=new d.f.math.K;this.Ua.ca(a.we);this.Wa.ca(a.xe);this.Fr=a.length;this.Il=a.kz;this.Mo=a.Yy;this.PJ=this.cg=this.L=
0};d.e.B.fs.n=["box2D","dynamics","joints","B2DistanceJoint"];d.e.B.fs.I=d.e.B.Fc;d.e.B.fs.prototype=q(d.e.B.Fc.prototype,{hk:function(){return this.bb.pe(this.Ua)},ik:function(){return this.Ra.pe(this.Wa)},Bl:function(a){return new d.f.math.K(a*this.L*this.qe.x,a*this.L*this.qe.y)},Cl:I(0),Dc:z("Fr"),n5:x("Fr"),cP:z("Il"),ZT:x("Il"),WO:z("Mo"),RT:x("Mo"),Wh:function(a){var b,e,f=this.bb,c=this.Ra;b=f.X.Q;var g=this.Ua.x-f.u.ia.x,h=this.Ua.y-f.u.ia.y;e=b.s.x*g+b.t.x*h;h=b.s.y*g+b.t.y*h;g=e;b=c.X.Q;
var l=this.Wa.x-c.u.ia.x,m=this.Wa.y-c.u.ia.y;e=b.s.x*l+b.t.x*m;m=b.s.y*l+b.t.y*m;l=e;this.qe.x=c.u.c.x+l-f.u.c.x-g;this.qe.y=c.u.c.y+m-f.u.c.y-h;e=Math.sqrt(this.qe.x*this.qe.x+this.qe.y*this.qe.y);e>d.f.P.Oc?this.qe.multiply(1/e):this.qe.Pb();b=g*this.qe.y-h*this.qe.x;var p=l*this.qe.y-m*this.qe.x;b=f.ka+f.Ga*b*b+c.ka+c.Ga*p*p;this.za=0!=b?1/b:0;if(0<this.Il){e-=this.Fr;var p=2*Math.PI*this.Il,v=this.za*p*p;this.cg=a.dc*(2*this.za*this.Mo*p+a.dc*v);this.cg=0!=this.cg?1/this.cg:0;this.PJ=e*a.dc*
v*this.cg;this.za=b+this.cg;this.za=0!=this.za?1/this.za:0}a.Li?(this.L*=a.ie,a=this.L*this.qe.x,b=this.L*this.qe.y,f.M.x-=f.ka*a,f.M.y-=f.ka*b,f.Y-=f.Ga*(g*b-h*a),c.M.x+=c.ka*a,c.M.y+=c.ka*b,c.Y+=c.Ga*(l*b-m*a)):this.L=0},Eh:function(){var a,b=this.bb,e=this.Ra;a=b.X.Q;var f=this.Ua.x-b.u.ia.x,c=this.Ua.y-b.u.ia.y,d=a.s.x*f+a.t.x*c,c=a.s.y*f+a.t.y*c,f=d;a=e.X.Q;var h=this.Wa.x-e.u.ia.x,l=this.Wa.y-e.u.ia.y,d=a.s.x*h+a.t.x*l,l=a.s.y*h+a.t.y*l,h=d,d=-this.za*(this.qe.x*(e.M.x+-e.Y*l-(b.M.x+-b.Y*c))+
this.qe.y*(e.M.y+e.Y*h-(b.M.y+b.Y*f))+this.PJ+this.cg*this.L);this.L+=d;a=d*this.qe.x;d*=this.qe.y;b.M.x-=b.ka*a;b.M.y-=b.ka*d;b.Y-=b.Ga*(f*d-c*a);e.M.x+=e.ka*a;e.M.y+=e.ka*d;e.Y+=e.Ga*(h*d-l*a)},Dh:function(){var a;if(0<this.Il)return!0;var b=this.bb,e=this.Ra;a=b.X.Q;var f=this.Ua.x-b.u.ia.x,c=this.Ua.y-b.u.ia.y,g=a.s.x*f+a.t.x*c,c=a.s.y*f+a.t.y*c,f=g;a=e.X.Q;var h=this.Wa.x-e.u.ia.x,l=this.Wa.y-e.u.ia.y,g=a.s.x*h+a.t.x*l,l=a.s.y*h+a.t.y*l,h=g,m=e.u.c.x+h-b.u.c.x-f,p=e.u.c.y+l-b.u.c.y-c,v=Math.sqrt(m*
m+p*p);a=v-this.Fr;a=d.f.math.G.Qc(a,-d.f.P.vh,d.f.P.vh);g=-this.za*a;this.qe.set(m/v,p/v);m=g*this.qe.x;g*=this.qe.y;b.u.c.x-=b.ka*m;b.u.c.y-=b.ka*g;b.u.a-=b.Ga*(f*g-c*m);e.u.c.x+=e.ka*m;e.u.c.y+=e.ka*g;e.u.a+=e.Ga*(h*g-l*m);b.fe();e.fe();return d.f.math.G.abs(a)<d.f.P.Oc},r:d.e.B.fs});d.e.B.od=function(){this.type=d.e.B.hb.UA;this.Pc=this.uc=this.Jk=null;this.gI=!1};d.e.B.od.n=["box2D","dynamics","joints","B2JointDef"];d.e.B.od.prototype={r:d.e.B.od};d.e.B.gs=function(){d.e.B.od.call(this);this.we=
new d.f.math.K;this.xe=new d.f.math.K;this.type=d.e.B.hb.FA;this.length=1;this.Yy=this.kz=0};d.e.B.gs.n=["box2D","dynamics","joints","B2DistanceJointDef"];d.e.B.gs.I=d.e.B.od;d.e.B.gs.prototype=q(d.e.B.od.prototype,{wf:function(a,b,e,f){this.uc=a;this.Pc=b;this.we.ca(this.uc.xh(e));this.xe.ca(this.Pc.xh(f));a=f.x-e.x;e=f.y-e.y;this.length=Math.sqrt(a*a+e*e);this.Yy=this.kz=0},r:d.e.B.gs});d.e.B.ks=function(a){d.e.B.Fc.call(this,a);this.gh=new d.f.math.K;this.hh=new d.f.math.K;this.uE=new d.f.math.Gc;
this.fh=new d.f.math.K;this.gh.ca(a.we);this.hh.ca(a.xe);this.uE.Pb();this.Zu=0;this.fh.Pb();this.rk=0;this.Qo=a.BE;this.wE=a.PQ};d.e.B.ks.n=["box2D","dynamics","joints","B2FrictionJoint"];d.e.B.ks.I=d.e.B.Fc;d.e.B.ks.prototype=q(d.e.B.Fc.prototype,{hk:function(){return this.bb.pe(this.gh)},ik:function(){return this.Ra.pe(this.hh)},Bl:function(a){return new d.f.math.K(a*this.fh.x,a*this.fh.y)},Cl:function(a){return a*this.rk},jU:x("Qo"),oP:z("Qo"),v5:x("wE"),U1:z("wE"),Wh:function(a){var b,e,f=this.bb,
c=this.Ra;b=f.X.Q;var g=this.gh.x-f.u.ia.x,h=this.gh.y-f.u.ia.y;e=b.s.x*g+b.t.x*h;h=b.s.y*g+b.t.y*h;g=e;b=c.X.Q;var l=this.hh.x-c.u.ia.x,m=this.hh.y-c.u.ia.y;e=b.s.x*l+b.t.x*m;m=b.s.y*l+b.t.y*m;l=e;b=f.ka;e=c.ka;var p=f.Ga,v=c.Ga,q=new d.f.math.Gc;q.s.x=b+e;q.t.x=0;q.s.y=0;q.t.y=b+e;q.s.x+=p*h*h;q.t.x+=-p*g*h;q.s.y+=-p*g*h;q.t.y+=p*g*g;q.s.x+=v*m*m;q.t.x+=-v*l*m;q.s.y+=-v*l*m;q.t.y+=v*l*l;q.ID(this.uE);this.Zu=p+v;0<this.Zu&&(this.Zu=1/this.Zu);a.Li?(this.fh.x*=a.ie,this.fh.y*=a.ie,this.rk*=a.ie,
a=this.fh,f.M.x-=b*a.x,f.M.y-=b*a.y,f.Y-=p*(g*a.y-h*a.x+this.rk),c.M.x+=e*a.x,c.M.y+=e*a.y,c.Y+=v*(l*a.y-m*a.x+this.rk)):(this.fh.Pb(),this.rk=0)},Eh:function(a){var b,e,f=this.bb,c=this.Ra,g=f.M,h=f.Y,l=c.M,m=c.Y,p=f.ka,v=c.ka,q=f.Ga,s=c.Ga;b=f.X.Q;var u=this.gh.x-f.u.ia.x,r=this.gh.y-f.u.ia.y;e=b.s.x*u+b.t.x*r;r=b.s.y*u+b.t.y*r;u=e;b=c.X.Q;var w=this.hh.x-c.u.ia.x,A=this.hh.y-c.u.ia.y;e=b.s.x*w+b.t.x*A;A=b.s.y*w+b.t.y*A;w=e;e=-this.Zu*(m-h);var y=this.rk;b=a.dc*this.wE;this.rk=d.f.math.G.Qc(this.rk+
e,-b,b);e=this.rk-y;h-=q*e;m+=s*e;b=d.f.math.G.Qf(this.uE,new d.f.math.K(-(l.x-m*A-g.x+h*r),-(l.y+m*w-g.y-h*u)));e=this.fh.copy();this.fh.add(b);b=a.dc*this.Qo;this.fh.Nz()>b*b&&(this.fh.normalize(),this.fh.multiply(b));b=d.f.math.G.Ld(this.fh,e);g.x-=p*b.x;g.y-=p*b.y;h-=q*(u*b.y-r*b.x);l.x+=v*b.x;l.y+=v*b.y;m+=s*(w*b.y-A*b.x);f.Y=h;c.Y=m},Dh:I(!0),r:d.e.B.ks});d.e.B.ls=function(){d.e.B.od.call(this);this.we=new d.f.math.K;this.xe=new d.f.math.K;this.type=d.e.B.hb.JA;this.PQ=this.BE=0};d.e.B.ls.n=
["box2D","dynamics","joints","B2FrictionJointDef"];d.e.B.ls.I=d.e.B.od;d.e.B.ls.prototype=q(d.e.B.od.prototype,{wf:function(a,b,e){this.uc=a;this.Pc=b;this.we.ca(this.uc.xh(e));this.xe.ca(this.Pc.xh(e))},r:d.e.B.ls});d.e.B.ms=function(a){d.e.B.Fc.call(this,a);this.Ci=new d.f.math.K;this.Di=new d.f.math.K;this.Ua=new d.f.math.K;this.Wa=new d.f.math.K;this.ld=new d.e.B.cw;var b=a.Xu.ec,e=a.Yu.ec;this.Jr=this.Uo=this.Ir=this.To=null;this.BQ=a.Xu.bb;this.bb=a.Xu.Ra;b==d.e.B.hb.nt?(this.To=y.fb.Bc(a.Xu,
d.e.B.Ni),this.Ci.ca(this.To.Ua),this.Ua.ca(this.To.Wa),b=this.To.wz()):(this.Ir=y.fb.Bc(a.Xu,d.e.B.wn),this.Ci.ca(this.Ir.Ua),this.Ua.ca(this.Ir.Wa),b=this.Ir.Pu());this.CQ=a.Yu.bb;this.Ra=a.Yu.Ra;e==d.e.B.hb.nt?(this.Uo=y.fb.Bc(a.Yu,d.e.B.Ni),this.Di.ca(this.Uo.Ua),this.Wa.ca(this.Uo.Wa),e=this.Uo.wz()):(this.Jr=y.fb.Bc(a.Yu,d.e.B.wn),this.Di.ca(this.Jr.Ua),this.Wa.ca(this.Jr.Wa),e=this.Jr.Pu());this.Id=a.fp;this.Cr=b+this.Id*e;this.L=0};d.e.B.ms.n=["box2D","dynamics","joints","B2GearJoint"];d.e.B.ms.I=
d.e.B.Fc;d.e.B.ms.prototype=q(d.e.B.Fc.prototype,{hk:function(){return this.bb.pe(this.Ua)},ik:function(){return this.Ra.pe(this.Wa)},Bl:function(a){return new d.f.math.K(a*this.L*this.ld.eh.x,a*this.L*this.ld.eh.y)},Cl:function(a){var b=this.Ra.X.Q,e=this.Ua.x-this.Ra.u.ia.x,f=this.Ua.y-this.Ra.u.ia.y,c=b.s.x*e+b.t.x*f,f=b.s.y*e+b.t.y*f;return a*(this.L*this.ld.Im-c*this.L*this.ld.eh.y+f*this.L*this.ld.eh.x)},zP:z("Id"),K5:x("Id"),Wh:function(a){var b=this.BQ,e=this.CQ,f=this.bb,c=this.Ra,d,h,l,
m,p,v=0;this.ld.Pb();null!=this.To?(this.ld.uo=-1,v+=f.Ga):(m=b.X.Q,d=this.Ir.fg,b=m.s.x*d.x+m.t.x*d.y,d=m.s.y*d.x+m.t.y*d.y,m=f.X.Q,h=this.Ua.x-f.u.ia.x,l=this.Ua.y-f.u.ia.y,p=m.s.x*h+m.t.x*l,l=m.s.y*h+m.t.y*l,m=p*d-l*b,this.ld.qj.set(-b,-d),this.ld.uo=-m,v+=f.ka+f.Ga*m*m);null!=this.Uo?(this.ld.Im=-this.Id,v+=this.Id*this.Id*c.Ga):(m=e.X.Q,d=this.Jr.fg,b=m.s.x*d.x+m.t.x*d.y,d=m.s.y*d.x+m.t.y*d.y,m=c.X.Q,h=this.Wa.x-c.u.ia.x,l=this.Wa.y-c.u.ia.y,p=m.s.x*h+m.t.x*l,l=m.s.y*h+m.t.y*l,m=p*d-l*b,this.ld.eh.set(-this.Id*
b,-this.Id*d),this.ld.Im=-this.Id*m,v+=this.Id*this.Id*(c.ka+c.Ga*m*m));this.za=0<v?1/v:0;a.Li?(f.M.x+=f.ka*this.L*this.ld.qj.x,f.M.y+=f.ka*this.L*this.ld.qj.y,f.Y+=f.Ga*this.L*this.ld.uo,c.M.x+=c.ka*this.L*this.ld.eh.x,c.M.y+=c.ka*this.L*this.ld.eh.y,c.Y+=c.Ga*this.L*this.ld.Im):this.L=0},Eh:function(){var a=this.bb,b=this.Ra,e=-this.za*this.ld.EN(a.M,a.Y,b.M,b.Y);this.L+=e;a.M.x+=a.ka*e*this.ld.qj.x;a.M.y+=a.ka*e*this.ld.qj.y;a.Y+=a.Ga*e*this.ld.uo;b.M.x+=b.ka*e*this.ld.eh.x;b.M.y+=b.ka*e*this.ld.eh.y;
b.Y+=b.Ga*e*this.ld.Im},Dh:function(){var a=this.bb,b=this.Ra,e,f;e=null!=this.To?this.To.wz():this.Ir.Pu();f=null!=this.Uo?this.Uo.wz():this.Jr.Pu();e=-this.za*(this.Cr-(e+this.Id*f));a.u.c.x+=a.ka*e*this.ld.qj.x;a.u.c.y+=a.ka*e*this.ld.qj.y;a.u.a+=a.Ga*e*this.ld.uo;b.u.c.x+=b.ka*e*this.ld.eh.x;b.u.c.y+=b.ka*e*this.ld.eh.y;b.u.a+=b.Ga*e*this.ld.Im;a.fe();b.fe();return 0<d.f.P.Oc},r:d.e.B.ms});d.e.B.ns=function(){d.e.B.od.call(this);this.type=d.e.B.hb.MA;this.Yu=this.Xu=null;this.fp=1};d.e.B.ns.n=
["box2D","dynamics","joints","B2GearJointDef"];d.e.B.ns.I=d.e.B.od;d.e.B.ns.prototype=q(d.e.B.od.prototype,{r:d.e.B.ns});d.e.B.cw=function(){this.qj=new d.f.math.K;this.eh=new d.f.math.K};d.e.B.cw.n=["box2D","dynamics","joints","B2Jacobian"];d.e.B.cw.prototype={Pb:function(){this.qj.Pb();this.uo=0;this.eh.Pb();this.Im=0},set:function(a,b,e,f){this.qj.ca(a);this.uo=b;this.eh.ca(e);this.Im=f},EN:function(a,b,e,f){return this.qj.x*a.x+this.qj.y*a.y+this.uo*b+(this.eh.x*e.x+this.eh.y*e.y)+this.Im*f},
r:d.e.B.cw};d.e.B.os=t();d.e.B.os.n=["box2D","dynamics","joints","B2JointEdge"];d.e.B.os.prototype={r:d.e.B.os};d.e.B.hb={sg:!0,mh:"UNKNOWN_JOINT REVOLUTE_JOINT PRISMATIC_JOINT DISTANCE_JOINT PULLEY_JOINT MOUSE_JOINT GEAR_JOINT LINE_JOINT WELD_JOINT FRICTION_JOINT".split(" ")};d.e.B.hb.UA=["UNKNOWN_JOINT",0];d.e.B.hb.UA.sb=d.e.B.hb;d.e.B.hb.nt=["REVOLUTE_JOINT",1];d.e.B.hb.nt.sb=d.e.B.hb;d.e.B.hb.QA=["PRISMATIC_JOINT",2];d.e.B.hb.QA.sb=d.e.B.hb;d.e.B.hb.FA=["DISTANCE_JOINT",3];d.e.B.hb.FA.sb=d.e.B.hb;
d.e.B.hb.RA=["PULLEY_JOINT",4];d.e.B.hb.RA.sb=d.e.B.hb;d.e.B.hb.OA=["MOUSE_JOINT",5];d.e.B.hb.OA.sb=d.e.B.hb;d.e.B.hb.MA=["GEAR_JOINT",6];d.e.B.hb.MA.sb=d.e.B.hb;d.e.B.hb.NA=["LINE_JOINT",7];d.e.B.hb.NA.sb=d.e.B.hb;d.e.B.hb.WA=["WELD_JOINT",8];d.e.B.hb.WA.sb=d.e.B.hb;d.e.B.hb.JA=["FRICTION_JOINT",9];d.e.B.hb.JA.sb=d.e.B.hb;d.e.B.hb.Mh=[d.e.B.hb.UA,d.e.B.hb.nt,d.e.B.hb.QA,d.e.B.hb.FA,d.e.B.hb.RA,d.e.B.hb.OA,d.e.B.hb.MA,d.e.B.hb.NA,d.e.B.hb.WA,d.e.B.hb.JA];d.e.B.Ka={sg:!0,mh:["INACTIVE_LIMIT","AT_LOWER_LIMIT",
"AT_UPPER_LIMIT","EQUAL_LIMITS"]};d.e.B.Ka.Cf=["INACTIVE_LIMIT",0];d.e.B.Ka.Cf.sb=d.e.B.Ka;d.e.B.Ka.bi=["AT_LOWER_LIMIT",1];d.e.B.Ka.bi.sb=d.e.B.Ka;d.e.B.Ka.ze=["AT_UPPER_LIMIT",2];d.e.B.Ka.ze.sb=d.e.B.Ka;d.e.B.Ka.Ij=["EQUAL_LIMITS",3];d.e.B.Ka.Ij.sb=d.e.B.Ka;d.e.B.Ka.Mh=[d.e.B.Ka.Cf,d.e.B.Ka.bi,d.e.B.Ka.ze,d.e.B.Ka.Ij];d.e.B.ps=function(a){d.e.B.Fc.call(this,a);this.Ua=new d.f.math.K;this.Wa=new d.f.math.K;this.fg=new d.f.math.K;this.Jl=new d.f.math.K;this.Ba=new d.f.math.K;this.qb=new d.f.math.K;
this.pb=new d.f.math.Gc;this.L=new d.f.math.K;this.Ua.ca(a.we);this.Wa.ca(a.xe);this.fg.ca(a.Jo);this.Jl.x=-this.fg.y;this.Jl.y=this.fg.x;this.L.Pb();this.Sb=this.Ig=0;this.gg=a.jE;this.hg=a.LF;this.Hr=a.CE;this.uj=a.mv;this.bg=a.Rm;this.yh=a.Sm;this.$b=d.e.B.Ka.Cf;this.Ba.Pb();this.qb.Pb()};d.e.B.ps.n=["box2D","dynamics","joints","B2LineJoint"];d.e.B.ps.I=d.e.B.Fc;d.e.B.ps.prototype=q(d.e.B.Fc.prototype,{hk:function(){return this.bb.pe(this.Ua)},ik:function(){return this.Ra.pe(this.Wa)},Bl:function(a){return new d.f.math.K(a*
(this.L.x*this.qb.x+(this.Sb+this.L.y)*this.Ba.x),a*(this.L.x*this.qb.y+(this.Sb+this.L.y)*this.Ba.y))},Cl:function(a){return a*this.L.y},Pu:function(){var a=this.bb,b=this.Ra,e=a.pe(this.Ua),b=b.pe(this.Wa),a=a.Cz(this.fg);return a.x*(b.x-e.x)+a.y*(b.y-e.y)},$I:function(){var a=this.bb,b=this.Ra,e;e=a.X.Q;var f=this.Ua.x-a.u.ia.x,c=this.Ua.y-a.u.ia.y,d=e.s.x*f+e.t.x*c,c=e.s.y*f+e.t.y*c,f=d;e=b.X.Q;var h=this.Wa.x-b.u.ia.x,l=this.Wa.y-b.u.ia.y,d=e.s.x*h+e.t.x*l,l=e.s.y*h+e.t.y*l,h=d;e=a.Cz(this.fg);
var d=a.M,m=b.M,p=a.Y,v=b.Y;return(b.u.c.x+h-(a.u.c.x+f))*-p*e.y+(b.u.c.y+l-(a.u.c.y+c))*p*e.x+(e.x*(m.x+-v*l-d.x- -p*c)+e.y*(m.y+v*h-d.y-p*f))},IJ:z("bg"),Rm:function(a){this.bb.jc(!0);this.Ra.jc(!0);this.bg=a},gJ:z("gg"),zJ:z("hg"),pL:function(a,b){this.bb.jc(!0);this.Ra.jc(!0);this.gg=a;this.hg=b},JJ:z("yh"),Sm:function(a){this.bb.jc(!0);this.Ra.jc(!0);this.yh=a},tL:function(a){this.bb.jc(!0);this.Ra.jc(!0);this.uj=a},jJ:z("uj"),kU:function(a){this.bb.jc(!0);this.Ra.jc(!0);this.Hr=a},T1:z("Hr"),
qP:z("Sb"),Wh:function(a){var b=this.bb,e=this.Ra,f,c;this.yk.ca(b.u.ia);this.zk.ca(e.u.ia);var g=b.Dg();e.Dg();f=b.X.Q;var h=this.Ua.x-this.yk.x,l=this.Ua.y-this.yk.y;c=f.s.x*h+f.t.x*l;l=f.s.y*h+f.t.y*l;h=c;f=e.X.Q;var m=this.Wa.x-this.zk.x,p=this.Wa.y-this.zk.y;c=f.s.x*m+f.t.x*p;p=f.s.y*m+f.t.y*p;m=c;f=e.u.c.x+m-b.u.c.x-h;c=e.u.c.y+p-b.u.c.y-l;this.be=b.ka;this.ce=e.ka;this.dg=b.Ga;this.eg=e.Ga;this.Ba.ca(d.f.math.G.Qf(g.Q,this.fg));this.Rc=(f+h)*this.Ba.y-(c+l)*this.Ba.x;this.Sc=m*this.Ba.y-p*
this.Ba.x;this.Ig=this.be+this.ce+this.dg*this.Rc*this.Rc+this.eg*this.Sc*this.Sc;this.Ig=this.Ig>Number.MIN_VALUE?1/this.Ig:0;this.qb.ca(d.f.math.G.Qf(g.Q,this.Jl));this.ad=(f+h)*this.qb.y-(c+l)*this.qb.x;this.bd=m*this.qb.y-p*this.qb.x;g=this.be;h=this.ce;l=this.dg;m=this.eg;this.pb.s.x=g+h+l*this.ad*this.ad+m*this.bd*this.bd;this.pb.s.y=l*this.ad*this.Rc+m*this.bd*this.Sc;this.pb.t.x=this.pb.s.y;this.pb.t.y=g+h+l*this.Rc*this.Rc+m*this.Sc*this.Sc;this.bg?(f=this.Ba.x*f+this.Ba.y*c,d.f.math.G.abs(this.hg-
this.gg)<2*d.f.P.Oc?this.$b=d.e.B.Ka.Ij:f<=this.gg?this.$b!=d.e.B.Ka.bi&&(this.$b=d.e.B.Ka.bi,this.L.y=0):f>=this.hg?this.$b!=d.e.B.Ka.ze&&(this.$b=d.e.B.Ka.ze,this.L.y=0):(this.$b=d.e.B.Ka.Cf,this.L.y=0)):this.$b=d.e.B.Ka.Cf;!1==this.yh&&(this.Sb=0);a.Li?(this.L.x*=a.ie,this.L.y*=a.ie,this.Sb*=a.ie,a=this.L.x*this.qb.x+(this.Sb+this.L.y)*this.Ba.x,f=this.L.x*this.qb.y+(this.Sb+this.L.y)*this.Ba.y,c=this.L.x*this.ad+(this.Sb+this.L.y)*this.Rc,g=this.L.x*this.bd+(this.Sb+this.L.y)*this.Sc,b.M.x-=this.be*
a,b.M.y-=this.be*f,b.Y-=this.dg*c,e.M.x+=this.ce*a,e.M.y+=this.ce*f,e.Y+=this.eg*g):(this.L.Pb(),this.Sb=0)},Eh:function(a){var b=this.bb,e=this.Ra,f=b.M,c=b.Y,g=e.M,h=e.Y,l,m,p;this.yh&&this.$b!=d.e.B.Ka.Ij&&(p=this.Ig*(this.uj-(this.Ba.x*(g.x-f.x)+this.Ba.y*(g.y-f.y)+this.Sc*h-this.Rc*c)),l=this.Sb,a=a.dc*this.Hr,this.Sb=d.f.math.G.Qc(this.Sb+p,-a,a),p=this.Sb-l,l=p*this.Ba.x,a=p*this.Ba.y,m=p*this.Rc,p*=this.Sc,f.x-=this.be*l,f.y-=this.be*a,c-=this.dg*m,g.x+=this.ce*l,g.y+=this.ce*a,h+=this.eg*
p);a=this.qb.x*(g.x-f.x)+this.qb.y*(g.y-f.y)+this.bd*h-this.ad*c;this.bg&&this.$b!=d.e.B.Ka.Cf?(m=this.Ba.x*(g.x-f.x)+this.Ba.y*(g.y-f.y)+this.Sc*h-this.Rc*c,l=this.L.copy(),p=this.pb.np(new d.f.math.K,-a,-m),this.L.add(p),this.$b==d.e.B.Ka.bi?this.L.y=d.f.math.G.max(this.L.y,0):this.$b==d.e.B.Ka.ze&&(this.L.y=d.f.math.G.min(this.L.y,0)),a=-a-(this.L.y-l.y)*this.pb.t.x,this.L.x=0!=this.pb.s.x?a/this.pb.s.x+l.x:l.x,p.x=this.L.x-l.x,p.y=this.L.y-l.y,l=p.x*this.qb.x+p.y*this.Ba.x,a=p.x*this.qb.y+p.y*
this.Ba.y,m=p.x*this.ad+p.y*this.Rc,p=p.x*this.bd+p.y*this.Sc):(p=0!=this.pb.s.x?-a/this.pb.s.x:0,this.L.x+=p,l=p*this.qb.x,a=p*this.qb.y,m=p*this.ad,p*=this.bd);f.x-=this.be*l;f.y-=this.be*a;c-=this.dg*m;g.x+=this.ce*l;g.y+=this.ce*a;h+=this.eg*p;b.M.ca(f);b.Y=c;e.M.ca(g);e.Y=h},Dh:function(){var a=this.bb,b=this.Ra,e=a.u.c,c=a.u.a,k=b.u.c,g=b.u.a,h,l,m,p,v,q=0,s=0;m=!1;var u=0,r=d.f.math.Gc.mz(c);p=d.f.math.Gc.mz(g);h=r;var s=this.Ua.x-this.yk.x,w=this.Ua.y-this.yk.y;l=h.s.x*s+h.t.x*w;w=h.s.y*s+
h.t.y*w;s=l;h=p;p=this.Wa.x-this.zk.x;v=this.Wa.y-this.zk.y;l=h.s.x*p+h.t.x*v;v=h.s.y*p+h.t.y*v;p=l;h=k.x+p-e.x-s;l=k.y+v-e.y-w;if(this.bg){this.Ba=d.f.math.G.Qf(r,this.fg);this.Rc=(h+s)*this.Ba.y-(l+w)*this.Ba.x;this.Sc=p*this.Ba.y-v*this.Ba.x;var A=this.Ba.x*h+this.Ba.y*l;d.f.math.G.abs(this.hg-this.gg)<2*d.f.P.Oc?(u=d.f.math.G.Qc(A,-d.f.P.vh,d.f.P.vh),q=d.f.math.G.abs(A),m=!0):A<=this.gg?(u=d.f.math.G.Qc(A-this.gg+d.f.P.Oc,-d.f.P.vh,0),q=this.gg-A,m=!0):A>=this.hg&&(u=d.f.math.G.Qc(A-this.hg+d.f.P.Oc,
0,d.f.P.vh),q=A-this.hg,m=!0)}this.qb=d.f.math.G.Qf(r,this.Jl);this.ad=(h+s)*this.qb.y-(l+w)*this.qb.x;this.bd=p*this.qb.y-v*this.qb.x;r=new d.f.math.K;w=this.qb.x*h+this.qb.y*l;q=d.f.math.G.max(q,d.f.math.G.abs(w));s=0;m?(m=this.be,p=this.ce,v=this.dg,h=this.eg,this.pb.s.x=m+p+v*this.ad*this.ad+h*this.bd*this.bd,this.pb.s.y=v*this.ad*this.Rc+h*this.bd*this.Sc,this.pb.t.x=this.pb.s.y,this.pb.t.y=m+p+v*this.Rc*this.Rc+h*this.Sc*this.Sc,this.pb.np(r,-w,-u)):(m=this.be,p=this.ce,v=this.dg,h=this.eg,
u=m+p+v*this.ad*this.ad+h*this.bd*this.bd,r.x=0!=u?-w/u:0,r.y=0);u=r.x*this.qb.x+r.y*this.Ba.x;m=r.x*this.qb.y+r.y*this.Ba.y;w=r.x*this.ad+r.y*this.Rc;r=r.x*this.bd+r.y*this.Sc;e.x-=this.be*u;e.y-=this.be*m;c-=this.dg*w;k.x+=this.ce*u;k.y+=this.ce*m;g+=this.eg*r;a.u.a=c;b.u.a=g;a.fe();b.fe();return q<=d.f.P.Oc&&s<=d.f.P.vo},r:d.e.B.ps});d.e.B.qs=function(){d.e.B.od.call(this)};d.e.B.qs.n=["box2D","dynamics","joints","B2LineJointDef"];d.e.B.qs.I=d.e.B.od;d.e.B.qs.prototype=q(d.e.B.od.prototype,{GZ:function(){this.we=
new d.f.math.K;this.xe=new d.f.math.K;this.Jo=new d.f.math.K;this.type=d.e.B.hb.NA;this.Jo.set(1,0);this.Rm=!1;this.LF=this.jE=0;this.Sm=!1;this.mv=this.CE=0},wf:function(a,b,e,c){this.uc=a;this.Pc=b;this.we=this.uc.xh(e);this.xe=this.Pc.xh(e);this.Jo=this.uc.eJ(c)},r:d.e.B.qs});d.e.B.ss=function(a){d.e.B.Fc.call(this,a);this.Oe=new d.f.math.Gc;this.Ti=new d.f.math.Gc;this.Ui=new d.f.math.Gc;this.Po=new d.f.math.K;this.cn=new d.f.math.K;this.L=new d.f.math.K;this.za=new d.f.math.Gc;this.Pz=new d.f.math.K;
this.cn.ca(a.target);var b=this.cn.x-this.Ra.X.position.x,e=this.cn.y-this.Ra.X.position.y,c=this.Ra.X.Q;this.Po.x=b*c.s.x+e*c.s.y;this.Po.y=b*c.t.x+e*c.t.y;this.Qo=a.BE;this.L.Pb();this.Il=a.kz;this.Mo=a.Yy;this.cg=this.kE=0};d.e.B.ss.n=["box2D","dynamics","joints","B2MouseJoint"];d.e.B.ss.I=d.e.B.Fc;d.e.B.ss.prototype=q(d.e.B.Fc.prototype,{hk:z("cn"),ik:function(){return this.Ra.pe(this.Po)},Bl:function(a){return new d.f.math.K(a*this.L.x,a*this.L.y)},Cl:I(0),lk:z("cn"),Aj:function(a){!1==this.Ra.yi()&&
this.Ra.jc(!0);this.cn=a},oP:z("Qo"),jU:x("Qo"),cP:z("Il"),ZT:x("Il"),WO:z("Mo"),RT:x("Mo"),Wh:function(a){var b=this.Ra,e=b.za,c=2*Math.PI*this.Il,d=e*c*c;this.cg=a.dc*(2*e*this.Mo*c+a.dc*d);this.cg=0!=this.cg?1/this.cg:0;this.kE=a.dc*d*this.cg;var d=b.X.Q,e=this.Po.x-b.u.ia.x,c=this.Po.y-b.u.ia.y,g=d.s.x*e+d.t.x*c,c=d.s.y*e+d.t.y*c,e=g,d=b.ka,g=b.Ga;this.Ti.s.x=d;this.Ti.t.x=0;this.Ti.s.y=0;this.Ti.t.y=d;this.Ui.s.x=g*c*c;this.Ui.t.x=-g*e*c;this.Ui.s.y=-g*e*c;this.Ui.t.y=g*e*e;this.Oe.kp(this.Ti);
this.Oe.Ny(this.Ui);this.Oe.s.x+=this.cg;this.Oe.t.y+=this.cg;this.Oe.ID(this.za);this.Pz.x=b.u.c.x+e-this.cn.x;this.Pz.y=b.u.c.y+c-this.cn.y;b.Y*=0.98;this.L.x*=a.ie;this.L.y*=a.ie;b.M.x+=d*this.L.x;b.M.y+=d*this.L.y;b.Y+=g*(e*this.L.y-c*this.L.x)},Eh:function(a){var b=this.Ra,e,c,d;e=b.X.Q;var g=this.Po.x-b.u.ia.x,h=this.Po.y-b.u.ia.y;c=e.s.x*g+e.t.x*h;h=e.s.y*g+e.t.y*h;g=c;c=b.M.x+-b.Y*h;var l=b.M.y+b.Y*g;e=this.za;c=c+this.kE*this.Pz.x+this.cg*this.L.x;d=l+this.kE*this.Pz.y+this.cg*this.L.y;l=
-(e.s.x*c+e.t.x*d);d=-(e.s.y*c+e.t.y*d);e=this.L.x;c=this.L.y;this.L.x+=l;this.L.y+=d;a=a.dc*this.Qo;this.L.Nz()>a*a&&this.L.multiply(a/this.L.length());l=this.L.x-e;d=this.L.y-c;b.M.x+=b.ka*l;b.M.y+=b.ka*d;b.Y+=b.Ga*(g*d-h*l)},Dh:I(!0),r:d.e.B.ss});d.e.B.ts=function(){d.e.B.od.call(this);this.target=new d.f.math.K;this.type=d.e.B.hb.OA;this.BE=0;this.kz=5;this.Yy=0.7};d.e.B.ts.n=["box2D","dynamics","joints","B2MouseJointDef"];d.e.B.ts.I=d.e.B.od;d.e.B.ts.prototype=q(d.e.B.od.prototype,{r:d.e.B.ts});
d.e.B.wn=function(a){d.e.B.Fc.call(this,a);this.Ua=new d.f.math.K;this.Wa=new d.f.math.K;this.fg=new d.f.math.K;this.Jl=new d.f.math.K;this.Ba=new d.f.math.K;this.qb=new d.f.math.K;this.pb=new d.f.math.Tl;this.L=new d.f.math.jg;this.Ua.ca(a.we);this.Wa.ca(a.xe);this.fg.ca(a.Jo);this.Jl.x=-this.fg.y;this.Jl.y=this.fg.x;this.HQ=a.kn;this.L.Pb();this.Sb=this.Ig=0;this.gg=a.jE;this.hg=a.LF;this.Hr=a.CE;this.uj=a.mv;this.bg=a.Rm;this.yh=a.Sm;this.$b=d.e.B.Ka.Cf;this.Ba.Pb();this.qb.Pb()};d.e.B.wn.n=["box2D",
"dynamics","joints","B2PrismaticJoint"];d.e.B.wn.I=d.e.B.Fc;d.e.B.wn.prototype=q(d.e.B.Fc.prototype,{hk:function(){return this.bb.pe(this.Ua)},ik:function(){return this.Ra.pe(this.Wa)},Bl:function(a){return new d.f.math.K(a*(this.L.x*this.qb.x+(this.Sb+this.L.z)*this.Ba.x),a*(this.L.x*this.qb.y+(this.Sb+this.L.z)*this.Ba.y))},Cl:function(a){return a*this.L.y},Pu:function(){var a=this.bb,b=this.Ra,e=a.pe(this.Ua),b=b.pe(this.Wa),a=a.Cz(this.fg);return a.x*(b.x-e.x)+a.y*(b.y-e.y)},$I:function(){var a=
this.bb,b=this.Ra,e;e=a.X.Q;var c=this.Ua.x-a.u.ia.x,d=this.Ua.y-a.u.ia.y,g=e.s.x*c+e.t.x*d,d=e.s.y*c+e.t.y*d,c=g;e=b.X.Q;var h=this.Wa.x-b.u.ia.x,l=this.Wa.y-b.u.ia.y,g=e.s.x*h+e.t.x*l,l=e.s.y*h+e.t.y*l,h=g;e=a.Cz(this.fg);var g=a.M,m=b.M,p=a.Y,v=b.Y;return(b.u.c.x+h-(a.u.c.x+c))*-p*e.y+(b.u.c.y+l-(a.u.c.y+d))*p*e.x+(e.x*(m.x+-v*l-g.x- -p*d)+e.y*(m.y+v*h-g.y-p*c))},IJ:z("bg"),Rm:function(a){this.bb.jc(!0);this.Ra.jc(!0);this.bg=a},gJ:z("gg"),zJ:z("hg"),pL:function(a,b){this.bb.jc(!0);this.Ra.jc(!0);
this.gg=a;this.hg=b},JJ:z("yh"),Sm:function(a){this.bb.jc(!0);this.Ra.jc(!0);this.yh=a},tL:function(a){this.bb.jc(!0);this.Ra.jc(!0);this.uj=a},jJ:z("uj"),kU:function(a){this.bb.jc(!0);this.Ra.jc(!0);this.Hr=a},qP:z("Sb"),Wh:function(a){var b=this.bb,e=this.Ra,c,k;this.yk.ca(b.u.ia);this.zk.ca(e.u.ia);var g=b.Dg();e.Dg();c=b.X.Q;var h=this.Ua.x-this.yk.x,l=this.Ua.y-this.yk.y;k=c.s.x*h+c.t.x*l;l=c.s.y*h+c.t.y*l;h=k;c=e.X.Q;var m=this.Wa.x-this.zk.x,p=this.Wa.y-this.zk.y;k=c.s.x*m+c.t.x*p;p=c.s.y*
m+c.t.y*p;m=k;c=e.u.c.x+m-b.u.c.x-h;k=e.u.c.y+p-b.u.c.y-l;this.be=b.ka;this.ce=e.ka;this.dg=b.Ga;this.eg=e.Ga;this.Ba.ca(d.f.math.G.Qf(g.Q,this.fg));this.Rc=(c+h)*this.Ba.y-(k+l)*this.Ba.x;this.Sc=m*this.Ba.y-p*this.Ba.x;this.Ig=this.be+this.ce+this.dg*this.Rc*this.Rc+this.eg*this.Sc*this.Sc;this.Ig>Number.MIN_VALUE&&(this.Ig=1/this.Ig);this.qb.ca(d.f.math.G.Qf(g.Q,this.Jl));this.ad=(c+h)*this.qb.y-(k+l)*this.qb.x;this.bd=m*this.qb.y-p*this.qb.x;g=this.be;h=this.ce;l=this.dg;m=this.eg;this.pb.s.x=
g+h+l*this.ad*this.ad+m*this.bd*this.bd;this.pb.s.y=l*this.ad+m*this.bd;this.pb.s.z=l*this.ad*this.Rc+m*this.bd*this.Sc;this.pb.t.x=this.pb.s.y;this.pb.t.y=l+m;this.pb.t.z=l*this.Rc+m*this.Sc;this.pb.Nb.x=this.pb.s.z;this.pb.Nb.y=this.pb.t.z;this.pb.Nb.z=g+h+l*this.Rc*this.Rc+m*this.Sc*this.Sc;this.bg?(c=this.Ba.x*c+this.Ba.y*k,d.f.math.G.abs(this.hg-this.gg)<2*d.f.P.Oc?this.$b=d.e.B.Ka.Ij:c<=this.gg?this.$b!=d.e.B.Ka.bi&&(this.$b=d.e.B.Ka.bi,this.L.z=0):c>=this.hg?this.$b!=d.e.B.Ka.ze&&(this.$b=
d.e.B.Ka.ze,this.L.z=0):(this.$b=d.e.B.Ka.Cf,this.L.z=0)):this.$b=d.e.B.Ka.Cf;!1==this.yh&&(this.Sb=0);a.Li?(this.L.x*=a.ie,this.L.y*=a.ie,this.Sb*=a.ie,a=this.L.x*this.qb.x+(this.Sb+this.L.z)*this.Ba.x,c=this.L.x*this.qb.y+(this.Sb+this.L.z)*this.Ba.y,k=this.L.x*this.ad+this.L.y+(this.Sb+this.L.z)*this.Rc,g=this.L.x*this.bd+this.L.y+(this.Sb+this.L.z)*this.Sc,b.M.x-=this.be*a,b.M.y-=this.be*c,b.Y-=this.dg*k,e.M.x+=this.ce*a,e.M.y+=this.ce*c,e.Y+=this.eg*g):(this.L.Pb(),this.Sb=0)},Eh:function(a){var b=
this.bb,e=this.Ra,c=b.M,k=b.Y,g=e.M,h=e.Y,l,m,p;this.yh&&this.$b!=d.e.B.Ka.Ij&&(p=this.Ig*(this.uj-(this.Ba.x*(g.x-c.x)+this.Ba.y*(g.y-c.y)+this.Sc*h-this.Rc*k)),l=this.Sb,a=a.dc*this.Hr,this.Sb=d.f.math.G.Qc(this.Sb+p,-a,a),p=this.Sb-l,l=p*this.Ba.x,a=p*this.Ba.y,m=p*this.Rc,p*=this.Sc,c.x-=this.be*l,c.y-=this.be*a,k-=this.dg*m,g.x+=this.ce*l,g.y+=this.ce*a,h+=this.eg*p);a=this.qb.x*(g.x-c.x)+this.qb.y*(g.y-c.y)+this.bd*h-this.ad*k;m=h-k;this.bg&&this.$b!=d.e.B.Ka.Cf?(p=this.Ba.x*(g.x-c.x)+this.Ba.y*
(g.y-c.y)+this.Sc*h-this.Rc*k,l=this.L.copy(),p=this.pb.Hv(new d.f.math.jg,-a,-m,-p),this.L.add(p),this.$b==d.e.B.Ka.bi?this.L.z=d.f.math.G.max(this.L.z,0):this.$b==d.e.B.Ka.ze&&(this.L.z=d.f.math.G.min(this.L.z,0)),a=this.pb.Xr(new d.f.math.K,-a-(this.L.z-l.z)*this.pb.Nb.x,-m-(this.L.z-l.z)*this.pb.Nb.y),a.x+=l.x,a.y+=l.y,this.L.x=a.x,this.L.y=a.y,p.x=this.L.x-l.x,p.y=this.L.y-l.y,p.z=this.L.z-l.z,l=p.x*this.qb.x+p.z*this.Ba.x,a=p.x*this.qb.y+p.z*this.Ba.y,m=p.x*this.ad+p.y+p.z*this.Rc,p=p.x*this.bd+
p.y+p.z*this.Sc):(p=this.pb.Xr(new d.f.math.K,-a,-m),this.L.x+=p.x,this.L.y+=p.y,l=p.x*this.qb.x,a=p.x*this.qb.y,m=p.x*this.ad+p.y,p=p.x*this.bd+p.y);c.x-=this.be*l;c.y-=this.be*a;k-=this.dg*m;g.x+=this.ce*l;g.y+=this.ce*a;h+=this.eg*p;b.M.ca(c);b.Y=k;e.M.ca(g);e.Y=h},Dh:function(){var a=this.bb,b=this.Ra,e=a.u.c,c=a.u.a,k=b.u.c,g=b.u.a,h,l,m,p,v=0,q=0;m=!1;var s=0,r=d.f.math.Gc.mz(c),u=d.f.math.Gc.mz(g);h=r;var q=this.Ua.x-this.yk.x,w=this.Ua.y-this.yk.y;l=h.s.x*q+h.t.x*w;w=h.s.y*q+h.t.y*w;q=l;h=
u;u=this.Wa.x-this.zk.x;p=this.Wa.y-this.zk.y;l=h.s.x*u+h.t.x*p;p=h.s.y*u+h.t.y*p;u=l;h=k.x+u-e.x-q;l=k.y+p-e.y-w;if(this.bg){this.Ba=d.f.math.G.Qf(r,this.fg);this.Rc=(h+q)*this.Ba.y-(l+w)*this.Ba.x;this.Sc=u*this.Ba.y-p*this.Ba.x;var A=this.Ba.x*h+this.Ba.y*l;d.f.math.G.abs(this.hg-this.gg)<2*d.f.P.Oc?(s=d.f.math.G.Qc(A,-d.f.P.vh,d.f.P.vh),v=d.f.math.G.abs(A),m=!0):A<=this.gg?(s=d.f.math.G.Qc(A-this.gg+d.f.P.Oc,-d.f.P.vh,0),v=this.gg-A,m=!0):A>=this.hg&&(s=d.f.math.G.Qc(A-this.hg+d.f.P.Oc,0,d.f.P.vh),
v=A-this.hg,m=!0)}this.qb=d.f.math.G.Qf(r,this.Jl);this.ad=(h+q)*this.qb.y-(l+w)*this.qb.x;this.bd=u*this.qb.y-p*this.qb.x;r=new d.f.math.jg;w=this.qb.x*h+this.qb.y*l;u=g-c-this.HQ;v=d.f.math.G.max(v,d.f.math.G.abs(w));q=d.f.math.G.abs(u);m?(m=this.be,p=this.ce,h=this.dg,l=this.eg,this.pb.s.x=m+p+h*this.ad*this.ad+l*this.bd*this.bd,this.pb.s.y=h*this.ad+l*this.bd,this.pb.s.z=h*this.ad*this.Rc+l*this.bd*this.Sc,this.pb.t.x=this.pb.s.y,this.pb.t.y=h+l,this.pb.t.z=h*this.Rc+l*this.Sc,this.pb.Nb.x=this.pb.s.z,
this.pb.Nb.y=this.pb.t.z,this.pb.Nb.z=m+p+h*this.Rc*this.Rc+l*this.Sc*this.Sc,this.pb.Hv(r,-w,-u,-s)):(m=this.be,p=this.ce,h=this.dg,l=this.eg,s=h*this.ad+l*this.bd,A=h+l,this.pb.s.set(m+p+h*this.ad*this.ad+l*this.bd*this.bd,s,0),this.pb.t.set(s,A,0),s=this.pb.Xr(new d.f.math.K,-w,-u),r.x=s.x,r.y=s.y,r.z=0);s=r.x*this.qb.x+r.z*this.Ba.x;m=r.x*this.qb.y+r.z*this.Ba.y;w=r.x*this.ad+r.y+r.z*this.Rc;r=r.x*this.bd+r.y+r.z*this.Sc;e.x-=this.be*s;e.y-=this.be*m;c-=this.dg*w;k.x+=this.ce*s;k.y+=this.ce*m;
g+=this.eg*r;a.u.a=c;b.u.a=g;a.fe();b.fe();return v<=d.f.P.Oc&&q<=d.f.P.vo},r:d.e.B.wn});d.e.B.us=function(){d.e.B.od.call(this);this.we=new d.f.math.K;this.xe=new d.f.math.K;this.Jo=new d.f.math.K;this.type=d.e.B.hb.QA;this.Jo.set(1,0);this.kn=0;this.Rm=!1;this.LF=this.jE=0;this.Sm=!1;this.mv=this.CE=0};d.e.B.us.n=["box2D","dynamics","joints","B2PrismaticJointDef"];d.e.B.us.I=d.e.B.od;d.e.B.us.prototype=q(d.e.B.od.prototype,{wf:function(a,b,e,c){this.uc=a;this.Pc=b;this.we=this.uc.xh(e);this.xe=
this.Pc.xh(e);this.Jo=this.uc.eJ(c);this.kn=this.Pc.Uh()-this.uc.Uh()},r:d.e.B.us});d.e.B.Mi=function(a){d.e.B.Fc.call(this,a);this.Ci=new d.f.math.K;this.Di=new d.f.math.K;this.Ua=new d.f.math.K;this.Wa=new d.f.math.K;this.nd=new d.f.math.K;this.Uc=new d.f.math.K;this.Mf=this.bb.re.rE;this.Ci.x=a.Fz.x-this.Mf.X.position.x;this.Ci.y=a.Fz.y-this.Mf.X.position.y;this.Di.x=a.Gz.x-this.Mf.X.position.x;this.Di.y=a.Gz.y-this.Mf.X.position.y;this.Ua.ca(a.we);this.Wa.ca(a.xe);this.Id=a.fp;this.Cr=a.hE+this.Id*
a.iE;this.YJ=d.f.math.G.min(a.bK,this.Cr-this.Id*d.e.B.Mi.Ty);this.ZJ=d.f.math.G.min(a.cK,(this.Cr-d.e.B.Mi.Ty)/this.Id);this.xk=this.wk=this.L=0};d.e.B.Mi.n=["box2D","dynamics","joints","B2PulleyJoint"];d.e.B.Mi.I=d.e.B.Fc;d.e.B.Mi.prototype=q(d.e.B.Fc.prototype,{hk:function(){return this.bb.pe(this.Ua)},ik:function(){return this.Ra.pe(this.Wa)},Bl:function(a){return new d.f.math.K(a*this.L*this.Uc.x,a*this.L*this.Uc.y)},Cl:I(0),eP:function(){var a=this.Mf.X.position.copy();a.add(this.Ci);return a},
fP:function(){var a=this.Mf.X.position.copy();a.add(this.Di);return a},J1:function(){var a=this.bb.pe(this.Ua),b=a.x-(this.Mf.X.position.x+this.Ci.x),a=a.y-(this.Mf.X.position.y+this.Ci.y);return Math.sqrt(b*b+a*a)},K1:function(){var a=this.Ra.pe(this.Wa),b=a.x-(this.Mf.X.position.x+this.Di.x),a=a.y-(this.Mf.X.position.y+this.Di.y);return Math.sqrt(b*b+a*a)},zP:z("Id"),Wh:function(a){var b=this.bb,e=this.Ra,c;c=b.X.Q;var k=this.Ua.x-b.u.ia.x,g=this.Ua.y-b.u.ia.y,h=c.s.x*k+c.t.x*g,g=c.s.y*k+c.t.y*
g,k=h;c=e.X.Q;var l=this.Wa.x-e.u.ia.x,m=this.Wa.y-e.u.ia.y,h=c.s.x*l+c.t.x*m,m=c.s.y*l+c.t.y*m,l=h;c=e.u.c.x+l;var h=e.u.c.y+m,p=this.Mf.X.position.x+this.Di.x,v=this.Mf.X.position.y+this.Di.y;this.nd.set(b.u.c.x+k-(this.Mf.X.position.x+this.Ci.x),b.u.c.y+g-(this.Mf.X.position.y+this.Ci.y));this.Uc.set(c-p,h-v);c=this.nd.length();h=this.Uc.length();c>d.f.P.Oc?this.nd.multiply(1/c):this.nd.Pb();h>d.f.P.Oc?this.Uc.multiply(1/h):this.Uc.Pb();0<this.Cr-c-this.Id*h?(this.yE=d.e.B.Ka.Cf,this.L=0):this.yE=
d.e.B.Ka.ze;c<this.YJ?(this.sE=d.e.B.Ka.Cf,this.wk=0):this.sE=d.e.B.Ka.ze;h<this.ZJ?(this.tE=d.e.B.Ka.Cf,this.xk=0):this.tE=d.e.B.Ka.ze;c=k*this.nd.y-g*this.nd.x;h=l*this.Uc.y-m*this.Uc.x;this.bv=b.ka+b.Ga*c*c;this.cv=e.ka+e.Ga*h*h;this.Tz=this.bv+this.Id*this.Id*this.cv;this.bv=1/this.bv;this.cv=1/this.cv;this.Tz=1/this.Tz;a.Li?(this.L*=a.ie,this.wk*=a.ie,this.xk*=a.ie,a=(-this.L-this.wk)*this.nd.x,c=(-this.L-this.wk)*this.nd.y,h=(-this.Id*this.L-this.xk)*this.Uc.x,p=(-this.Id*this.L-this.xk)*this.Uc.y,
b.M.x+=b.ka*a,b.M.y+=b.ka*c,b.Y+=b.Ga*(k*c-g*a),e.M.x+=e.ka*h,e.M.y+=e.ka*p,e.Y+=e.Ga*(l*p-m*h)):this.xk=this.wk=this.L=0},Eh:function(){var a=this.bb,b=this.Ra,e;e=a.X.Q;var c=this.Ua.x-a.u.ia.x,k=this.Ua.y-a.u.ia.y,g=e.s.x*c+e.t.x*k,k=e.s.y*c+e.t.y*k,c=g;e=b.X.Q;var h=this.Wa.x-b.u.ia.x,l=this.Wa.y-b.u.ia.y,g=e.s.x*h+e.t.x*l,l=e.s.y*h+e.t.y*l,h=g,m,p;this.yE==d.e.B.Ka.ze&&(e=a.M.x+-a.Y*k,g=a.M.y+a.Y*c,m=b.M.x+-b.Y*l,p=b.M.y+b.Y*h,e=-(this.nd.x*e+this.nd.y*g)-this.Id*(this.Uc.x*m+this.Uc.y*p),p=
this.Tz*-e,e=this.L,this.L=d.f.math.G.max(0,this.L+p),p=this.L-e,e=-p*this.nd.x,g=-p*this.nd.y,m=-this.Id*p*this.Uc.x,p=-this.Id*p*this.Uc.y,a.M.x+=a.ka*e,a.M.y+=a.ka*g,a.Y+=a.Ga*(c*g-k*e),b.M.x+=b.ka*m,b.M.y+=b.ka*p,b.Y+=b.Ga*(h*p-l*m));this.sE==d.e.B.Ka.ze&&(e=a.M.x+-a.Y*k,g=a.M.y+a.Y*c,e=-(this.nd.x*e+this.nd.y*g),p=-this.bv*e,e=this.wk,this.wk=d.f.math.G.max(0,this.wk+p),p=this.wk-e,e=-p*this.nd.x,g=-p*this.nd.y,a.M.x+=a.ka*e,a.M.y+=a.ka*g,a.Y+=a.Ga*(c*g-k*e));this.tE==d.e.B.Ka.ze&&(m=b.M.x+-b.Y*
l,p=b.M.y+b.Y*h,e=-(this.Uc.x*m+this.Uc.y*p),p=-this.cv*e,e=this.xk,this.xk=d.f.math.G.max(0,this.xk+p),p=this.xk-e,m=-p*this.Uc.x,p=-p*this.Uc.y,b.M.x+=b.ka*m,b.M.y+=b.ka*p,b.Y+=b.Ga*(h*p-l*m))},Dh:function(){var a=this.bb,b=this.Ra,e,c=this.Mf.X.position.x+this.Ci.x,k=this.Mf.X.position.y+this.Ci.y,g=this.Mf.X.position.x+this.Di.x,h=this.Mf.X.position.y+this.Di.y,l,m,p,v,q,s,r,u=0;this.yE==d.e.B.Ka.ze&&(e=a.X.Q,l=this.Ua.x-a.u.ia.x,m=this.Ua.y-a.u.ia.y,q=e.s.x*l+e.t.x*m,m=e.s.y*l+e.t.y*m,l=q,e=
b.X.Q,p=this.Wa.x-b.u.ia.x,v=this.Wa.y-b.u.ia.y,q=e.s.x*p+e.t.x*v,v=e.s.y*p+e.t.y*v,p=q,e=a.u.c.x+l,q=a.u.c.y+m,s=b.u.c.x+p,r=b.u.c.y+v,this.nd.set(e-c,q-k),this.Uc.set(s-g,r-h),e=this.nd.length(),q=this.Uc.length(),e>d.f.P.Oc?this.nd.multiply(1/e):this.nd.Pb(),q>d.f.P.Oc?this.Uc.multiply(1/q):this.Uc.Pb(),e=this.Cr-e-this.Id*q,u=d.f.math.G.max(u,-e),e=d.f.math.G.Qc(e+d.f.P.Oc,-d.f.P.vh,0),r=-this.Tz*e,e=-r*this.nd.x,q=-r*this.nd.y,s=-this.Id*r*this.Uc.x,r=-this.Id*r*this.Uc.y,a.u.c.x+=a.ka*e,a.u.c.y+=
a.ka*q,a.u.a+=a.Ga*(l*q-m*e),b.u.c.x+=b.ka*s,b.u.c.y+=b.ka*r,b.u.a+=b.Ga*(p*r-v*s),a.fe(),b.fe());this.sE==d.e.B.Ka.ze&&(e=a.X.Q,l=this.Ua.x-a.u.ia.x,m=this.Ua.y-a.u.ia.y,q=e.s.x*l+e.t.x*m,m=e.s.y*l+e.t.y*m,l=q,e=a.u.c.x+l,q=a.u.c.y+m,this.nd.set(e-c,q-k),e=this.nd.length(),e>d.f.P.Oc?(this.nd.x*=1/e,this.nd.y*=1/e):this.nd.Pb(),e=this.YJ-e,u=d.f.math.G.max(u,-e),e=d.f.math.G.Qc(e+d.f.P.Oc,-d.f.P.vh,0),r=-this.bv*e,e=-r*this.nd.x,q=-r*this.nd.y,a.u.c.x+=a.ka*e,a.u.c.y+=a.ka*q,a.u.a+=a.Ga*(l*q-m*e),
a.fe());this.tE==d.e.B.Ka.ze&&(e=b.X.Q,p=this.Wa.x-b.u.ia.x,v=this.Wa.y-b.u.ia.y,q=e.s.x*p+e.t.x*v,v=e.s.y*p+e.t.y*v,p=q,s=b.u.c.x+p,r=b.u.c.y+v,this.Uc.set(s-g,r-h),q=this.Uc.length(),q>d.f.P.Oc?(this.Uc.x*=1/q,this.Uc.y*=1/q):this.Uc.Pb(),e=this.ZJ-q,u=d.f.math.G.max(u,-e),e=d.f.math.G.Qc(e+d.f.P.Oc,-d.f.P.vh,0),r=-this.cv*e,s=-r*this.Uc.x,r=-r*this.Uc.y,b.u.c.x+=b.ka*s,b.u.c.y+=b.ka*r,b.u.a+=b.Ga*(p*r-v*s),b.fe());return u<d.f.P.Oc},r:d.e.B.Mi});d.e.B.vs=function(){d.e.B.od.call(this);this.Fz=
new d.f.math.K;this.Gz=new d.f.math.K;this.we=new d.f.math.K;this.xe=new d.f.math.K;this.type=d.e.B.hb.RA;this.Fz.set(-1,1);this.Gz.set(1,1);this.we.set(-1,0);this.xe.set(1,0);this.cK=this.iE=this.bK=this.hE=0;this.fp=1;this.gI=!0};d.e.B.vs.n=["box2D","dynamics","joints","B2PulleyJointDef"];d.e.B.vs.I=d.e.B.od;d.e.B.vs.prototype=q(d.e.B.od.prototype,{wf:function(a,b,e,c,k,g,h){this.uc=a;this.Pc=b;this.Fz.ca(e);this.Gz.ca(c);this.we=this.uc.xh(k);this.xe=this.Pc.xh(g);a=k.x-e.x;e=k.y-e.y;this.hE=Math.sqrt(a*
a+e*e);e=g.x-c.x;c=g.y-c.y;this.iE=Math.sqrt(e*e+c*c);this.fp=h;h=this.hE+this.fp*this.iE;this.bK=h-this.fp*d.e.B.Mi.Ty;this.cK=(h-d.e.B.Mi.Ty)/this.fp},r:d.e.B.vs});d.e.B.Ni=function(a){d.e.B.Fc.call(this,a);this.Oe=new d.f.math.Gc;this.Ti=new d.f.math.Gc;this.Ui=new d.f.math.Gc;this.et=new d.f.math.Gc;this.Ve=new d.f.math.jg;this.pj=new d.f.math.K;this.Dk=new d.f.math.K;this.Ua=new d.f.math.K;this.Wa=new d.f.math.K;this.L=new d.f.math.jg;this.za=new d.f.math.Tl;this.Ua.ca(a.we);this.Wa.ca(a.xe);
this.fv=a.kn;this.L.Pb();this.Sb=0;this.Gr=a.vQ;this.hv=a.mV;this.vE=a.NQ;this.uj=a.mv;this.bg=a.Rm;this.yh=a.Sm;this.$b=d.e.B.Ka.Cf};d.e.B.Ni.n=["box2D","dynamics","joints","B2RevoluteJoint"];d.e.B.Ni.I=d.e.B.Fc;d.e.B.Ni.prototype=q(d.e.B.Fc.prototype,{hk:function(){return this.bb.pe(this.Ua)},ik:function(){return this.Ra.pe(this.Wa)},Bl:function(a){return new d.f.math.K(a*this.L.x,a*this.L.y)},Cl:function(a){return a*this.L.z},wz:function(){return this.Ra.u.a-this.bb.u.a-this.fv},$I:function(){return this.Ra.Y-
this.bb.Y},IJ:z("bg"),Rm:x("bg"),gJ:z("Gr"),zJ:z("hv"),pL:function(a,b){this.Gr=a;this.hv=b},JJ:function(){this.bb.jc(!0);this.Ra.jc(!0);return this.yh},Sm:x("yh"),tL:function(a){this.bb.jc(!0);this.Ra.jc(!0);this.uj=a},jJ:z("uj"),u5:x("vE"),W1:z("vE"),Wh:function(a){var b=this.bb,e=this.Ra,c,k;c=b.X.Q;var g=this.Ua.x-b.u.ia.x,h=this.Ua.y-b.u.ia.y;k=c.s.x*g+c.t.x*h;h=c.s.y*g+c.t.y*h;g=k;c=e.X.Q;var l=this.Wa.x-e.u.ia.x,m=this.Wa.y-e.u.ia.y;k=c.s.x*l+c.t.x*m;m=c.s.y*l+c.t.y*m;l=k;c=b.ka;k=e.ka;var p=
b.Ga,v=e.Ga;this.za.s.x=c+k+h*h*p+m*m*v;this.za.t.x=-h*g*p-m*l*v;this.za.Nb.x=-h*p-m*v;this.za.s.y=this.za.t.x;this.za.t.y=c+k+g*g*p+l*l*v;this.za.Nb.y=g*p+l*v;this.za.s.z=this.za.Nb.x;this.za.t.z=this.za.Nb.y;this.za.Nb.z=p+v;this.Ig=1/(p+v);!1==this.yh&&(this.Sb=0);if(this.bg){var q=e.u.a-b.u.a-this.fv;d.f.math.G.abs(this.hv-this.Gr)<2*d.f.P.vo?this.$b=d.e.B.Ka.Ij:q<=this.Gr?(this.$b!=d.e.B.Ka.bi&&(this.L.z=0),this.$b=d.e.B.Ka.bi):q>=this.hv?(this.$b!=d.e.B.Ka.ze&&(this.L.z=0),this.$b=d.e.B.Ka.ze):
(this.$b=d.e.B.Ka.Cf,this.L.z=0)}else this.$b=d.e.B.Ka.Cf;a.Li?(this.L.x*=a.ie,this.L.y*=a.ie,this.Sb*=a.ie,a=this.L.x,q=this.L.y,b.M.x-=c*a,b.M.y-=c*q,b.Y-=p*(g*q-h*a+this.Sb+this.L.z),e.M.x+=k*a,e.M.y+=k*q,e.Y+=v*(l*q-m*a+this.Sb+this.L.z)):(this.L.Pb(),this.Sb=0)},Eh:function(a){var b=this.bb,e=this.Ra,c,k,g,h,l,m=b.M,p=b.Y,v=e.M,q=e.Y,s=b.ka,r=e.ka,u=b.Ga,w=e.Ga;this.yh&&this.$b!=d.e.B.Ka.Ij&&(g=this.Ig*-(q-p-this.uj),h=this.Sb,a=a.dc*this.vE,this.Sb=d.f.math.G.Qc(this.Sb+g,-a,a),g=this.Sb-h,
p-=u*g,q+=w*g);if(this.bg&&this.$b!=d.e.B.Ka.Cf){c=b.X.Q;g=this.Ua.x-b.u.ia.x;h=this.Ua.y-b.u.ia.y;k=c.s.x*g+c.t.x*h;h=c.s.y*g+c.t.y*h;g=k;c=e.X.Q;a=this.Wa.x-e.u.ia.x;l=this.Wa.y-e.u.ia.y;k=c.s.x*a+c.t.x*l;l=c.s.y*a+c.t.y*l;a=k;k=v.x+-q*l-m.x- -p*h;var A=v.y+q*a-m.y-p*g;this.za.Hv(this.Ve,-k,-A,-(q-p));this.$b==d.e.B.Ka.Ij?this.L.add(this.Ve):this.$b==d.e.B.Ka.bi?(c=this.L.z+this.Ve.z,0>c&&(this.za.Xr(this.Dk,-k,-A),this.Ve.x=this.Dk.x,this.Ve.y=this.Dk.y,this.Ve.z=-this.L.z,this.L.x+=this.Dk.x,
this.L.y+=this.Dk.y,this.L.z=0)):this.$b==d.e.B.Ka.ze&&(c=this.L.z+this.Ve.z,0<c&&(this.za.Xr(this.Dk,-k,-A),this.Ve.x=this.Dk.x,this.Ve.y=this.Dk.y,this.Ve.z=-this.L.z,this.L.x+=this.Dk.x,this.L.y+=this.Dk.y,this.L.z=0));m.x-=s*this.Ve.x;m.y-=s*this.Ve.y;p-=u*(g*this.Ve.y-h*this.Ve.x+this.Ve.z);v.x+=r*this.Ve.x;v.y+=r*this.Ve.y;q+=w*(a*this.Ve.y-l*this.Ve.x+this.Ve.z)}else c=b.X.Q,g=this.Ua.x-b.u.ia.x,h=this.Ua.y-b.u.ia.y,k=c.s.x*g+c.t.x*h,h=c.s.y*g+c.t.y*h,g=k,c=e.X.Q,a=this.Wa.x-e.u.ia.x,l=this.Wa.y-
e.u.ia.y,k=c.s.x*a+c.t.x*l,l=c.s.y*a+c.t.y*l,a=k,this.za.Xr(this.pj,-(v.x+-q*l-m.x- -p*h),-(v.y+q*a-m.y-p*g)),this.L.x+=this.pj.x,this.L.y+=this.pj.y,m.x-=s*this.pj.x,m.y-=s*this.pj.y,p-=u*(g*this.pj.y-h*this.pj.x),v.x+=r*this.pj.x,v.y+=r*this.pj.y,q+=w*(a*this.pj.y-l*this.pj.x);b.M.ca(m);b.Y=p;e.M.ca(v);e.Y=q},Dh:function(){var a,b,e=this.bb,c=this.Ra,k=0;b=0;var g,h,l;if(this.bg&&this.$b!=d.e.B.Ka.Cf){a=c.u.a-e.u.a-this.fv;var m=0;this.$b==d.e.B.Ka.Ij?(a=d.f.math.G.Qc(a-this.Gr,-d.f.P.Sy,d.f.P.Sy),
m=-this.Ig*a,k=d.f.math.G.abs(a)):this.$b==d.e.B.Ka.bi?(a-=this.Gr,k=-a,a=d.f.math.G.Qc(a+d.f.P.vo,-d.f.P.Sy,0),m=-this.Ig*a):this.$b==d.e.B.Ka.ze&&(k=a-=this.hv,a=d.f.math.G.Qc(a-d.f.P.vo,0,d.f.P.Sy),m=-this.Ig*a);e.u.a-=e.Ga*m;c.u.a+=c.Ga*m;e.fe();c.fe()}b=e.X.Q;m=this.Ua.x-e.u.ia.x;a=this.Ua.y-e.u.ia.y;g=b.s.x*m+b.t.x*a;a=b.s.y*m+b.t.y*a;m=g;b=c.X.Q;var p=this.Wa.x-c.u.ia.x,q=this.Wa.y-c.u.ia.y;g=b.s.x*p+b.t.x*q;q=b.s.y*p+b.t.y*q;p=g;h=c.u.c.x+p-e.u.c.x-m;l=c.u.c.y+q-e.u.c.y-a;var s=h*h+l*l;b=
Math.sqrt(s);g=e.ka;var r=c.ka,u=e.Ga,w=c.Ga,y=10*d.f.P.Oc;s>y*y&&(s=1/(g+r),h=s*-h,l=s*-l,e.u.c.x-=0.5*g*h,e.u.c.y-=0.5*g*l,c.u.c.x+=0.5*r*h,c.u.c.y+=0.5*r*l,h=c.u.c.x+p-e.u.c.x-m,l=c.u.c.y+q-e.u.c.y-a);this.Ti.s.x=g+r;this.Ti.t.x=0;this.Ti.s.y=0;this.Ti.t.y=g+r;this.Ui.s.x=u*a*a;this.Ui.t.x=-u*m*a;this.Ui.s.y=-u*m*a;this.Ui.t.y=u*m*m;this.et.s.x=w*q*q;this.et.t.x=-w*p*q;this.et.s.y=-w*p*q;this.et.t.y=w*p*p;this.Oe.kp(this.Ti);this.Oe.Ny(this.Ui);this.Oe.Ny(this.et);this.Oe.np(d.e.B.Ni.GF,-h,-l);
h=d.e.B.Ni.GF.x;l=d.e.B.Ni.GF.y;e.u.c.x-=e.ka*h;e.u.c.y-=e.ka*l;e.u.a-=e.Ga*(m*l-a*h);c.u.c.x+=c.ka*h;c.u.c.y+=c.ka*l;c.u.a+=c.Ga*(p*l-q*h);e.fe();c.fe();return b<=d.f.P.Oc&&k<=d.f.P.vo},r:d.e.B.Ni});d.e.B.xs=function(){d.e.B.od.call(this);this.we=new d.f.math.K;this.xe=new d.f.math.K;this.type=d.e.B.hb.nt;this.we.set(0,0);this.xe.set(0,0);this.mv=this.NQ=this.mV=this.vQ=this.kn=0;this.Sm=this.Rm=!1};d.e.B.xs.n=["box2D","dynamics","joints","B2RevoluteJointDef"];d.e.B.xs.I=d.e.B.od;d.e.B.xs.prototype=
q(d.e.B.od.prototype,{wf:function(a,b,e){this.uc=a;this.Pc=b;this.we=this.uc.xh(e);this.xe=this.Pc.xh(e);this.kn=this.Pc.Uh()-this.uc.Uh()},r:d.e.B.xs});d.e.B.ys=function(a){d.e.B.Fc.call(this,a);this.gh=new d.f.math.K;this.hh=new d.f.math.K;this.L=new d.f.math.jg;this.za=new d.f.math.Tl;this.gh.ca(a.we);this.hh.ca(a.xe);this.fv=a.kn;this.L.Pb();this.za=new d.f.math.Tl};d.e.B.ys.n=["box2D","dynamics","joints","B2WeldJoint"];d.e.B.ys.I=d.e.B.Fc;d.e.B.ys.prototype=q(d.e.B.Fc.prototype,{hk:function(){return this.bb.pe(this.gh)},
ik:function(){return this.Ra.pe(this.hh)},Bl:function(a){return new d.f.math.K(a*this.L.x,a*this.L.y)},Cl:function(a){return a*this.L.z},Wh:function(a){var b,e,c=this.bb,d=this.Ra;b=c.X.Q;var g=this.gh.x-c.u.ia.x,h=this.gh.y-c.u.ia.y;e=b.s.x*g+b.t.x*h;h=b.s.y*g+b.t.y*h;g=e;b=d.X.Q;var l=this.hh.x-d.u.ia.x,m=this.hh.y-d.u.ia.y;e=b.s.x*l+b.t.x*m;m=b.s.y*l+b.t.y*m;l=e;b=c.ka;e=d.ka;var p=c.Ga,q=d.Ga;this.za.s.x=b+e+h*h*p+m*m*q;this.za.t.x=-h*g*p-m*l*q;this.za.Nb.x=-h*p-m*q;this.za.s.y=this.za.t.x;this.za.t.y=
b+e+g*g*p+l*l*q;this.za.Nb.y=g*p+l*q;this.za.s.z=this.za.Nb.x;this.za.t.z=this.za.Nb.y;this.za.Nb.z=p+q;a.Li?(this.L.x*=a.ie,this.L.y*=a.ie,this.L.z*=a.ie,c.M.x-=b*this.L.x,c.M.y-=b*this.L.y,c.Y-=p*(g*this.L.y-h*this.L.x+this.L.z),d.M.x+=e*this.L.x,d.M.y+=e*this.L.y,d.Y+=q*(l*this.L.y-m*this.L.x+this.L.z)):this.L.Pb()},Eh:function(){var a,b,e=this.bb,c=this.Ra,k=e.M,g=e.Y,h=c.M,l=c.Y,m=e.ka,p=c.ka,q=e.Ga,s=c.Ga;a=e.X.Q;var r=this.gh.x-e.u.ia.x,u=this.gh.y-e.u.ia.y;b=a.s.x*r+a.t.x*u;u=a.s.y*r+a.t.y*
u;r=b;a=c.X.Q;var w=this.hh.x-c.u.ia.x,y=this.hh.y-c.u.ia.y;b=a.s.x*w+a.t.x*y;y=a.s.y*w+a.t.y*y;w=b;a=new d.f.math.jg;this.za.Hv(a,-(h.x-l*y-k.x+g*u),-(h.y+l*w-k.y-g*r),-(l-g));this.L.add(a);k.x-=m*a.x;k.y-=m*a.y;g-=q*(r*a.y-u*a.x+a.z);h.x+=p*a.x;h.y+=p*a.y;l+=s*(w*a.y-y*a.x+a.z);e.Y=g;c.Y=l},Dh:function(){var a,b,e=this.bb,c=this.Ra;a=e.X.Q;var k=this.gh.x-e.u.ia.x,g=this.gh.y-e.u.ia.y;b=a.s.x*k+a.t.x*g;g=a.s.y*k+a.t.y*g;k=b;a=c.X.Q;var h=this.hh.x-c.u.ia.x,l=this.hh.y-c.u.ia.y;b=a.s.x*h+a.t.x*l;
l=a.s.y*h+a.t.y*l;h=b;a=e.ka;b=c.ka;var m=e.Ga,p=c.Ga,q=c.u.c.x+h-e.u.c.x-k,s=c.u.c.y+l-e.u.c.y-g,r=c.u.a-e.u.a-this.fv,u=10*d.f.P.Oc,w=Math.sqrt(q*q+s*s),y=d.f.math.G.abs(r);w>u&&(m*=1,p*=1);this.za.s.x=a+b+g*g*m+l*l*p;this.za.t.x=-g*k*m-l*h*p;this.za.Nb.x=-g*m-l*p;this.za.s.y=this.za.t.x;this.za.t.y=a+b+k*k*m+h*h*p;this.za.Nb.y=k*m+h*p;this.za.s.z=this.za.Nb.x;this.za.t.z=this.za.Nb.y;this.za.Nb.z=m+p;u=new d.f.math.jg;this.za.Hv(u,-q,-s,-r);e.u.c.x-=a*u.x;e.u.c.y-=a*u.y;e.u.a-=m*(k*u.y-g*u.x+u.z);
c.u.c.x+=b*u.x;c.u.c.y+=b*u.y;c.u.a+=p*(h*u.y-l*u.x+u.z);e.fe();c.fe();return w<=d.f.P.Oc&&y<=d.f.P.vo},r:d.e.B.ys});d.e.B.zs=function(){d.e.B.od.call(this);this.we=new d.f.math.K;this.xe=new d.f.math.K;this.type=d.e.B.hb.WA;this.kn=0};d.e.B.zs.n=["box2D","dynamics","joints","B2WeldJointDef"];d.e.B.zs.I=d.e.B.od;d.e.B.zs.prototype=q(d.e.B.od.prototype,{wf:function(a,b,e){this.uc=a;this.Pc=b;this.we.ca(this.uc.xh(e));this.xe.ca(this.Pc.xh(e));this.kn=this.Pc.Uh()-this.uc.Uh()},r:d.e.B.zs});var b={AssetType:{sg:!0,
mh:"Image Audio Other Javascript Css Font".split(" ")}};b.AssetType.Image=["Image",0];b.AssetType.Image.sb=b.AssetType;b.AssetType.Audio=["Audio",1];b.AssetType.Audio.sb=b.AssetType;b.AssetType.Other=["Other",2];b.AssetType.Other.sb=b.AssetType;b.AssetType.Javascript=["Javascript",3];b.AssetType.Javascript.sb=b.AssetType;b.AssetType.Ns=["Css",4];b.AssetType.Ns.sb=b.AssetType;b.AssetType.Gn=["Font",5];b.AssetType.Gn.sb=b.AssetType;b.AssetType.Mh=[b.AssetType.Image,b.AssetType.Audio,b.AssetType.Other,
b.AssetType.Javascript,b.AssetType.Ns,b.AssetType.Gn];b.Qv=function(a,b,e,c,d){null==c&&(c=!1);this.isAbsolute=!1;this.name=a;this.type=e;this.source=b;this.isAbsolute=c;this.options=d};b.Qv.n=["f84","AssetLoadingInfo"];b.Qv.prototype={r:b.Qv};b.S={};b.S.Mg=function(){this.il=[]};b.S.Mg.n=["f84","events","EventDispatcher"];b.S.Mg.prototype={addEventListener:function(a,n){this.DJ(a,n)||this.il.push(new b.S.sw(a,n))},DJ:function(a,b){for(var e=this.il.length-1;0<=e;){if(this.il[e].rD==a&&K.iI(this.il[e].action,
b))return!0;e--}return!1},dispatchEvent:function(a){a.target=this;for(var b=this.il.length-1;0<=b;){var e=this.il[b];e.rD==a.Rb()&&e.action(a);b--}},removeEventListener:function(a,b){if(this.DJ(a,b))for(var e=this.il.length-1;0<=e;){var c=this.il[e];if(c.rD==a&&K.iI(c.action,b)){this.il.splice(e,1);break}e--}},r:b.S.Mg};b.Cb=function(){this.Mx=0;this.mc=this.Wj=!0;this.sm=this.um=!1;b.S.Mg.call(this);this.Mx=b.Cb.cM++;this._properties=new D.jd.me};b.Cb.n=["f84","GameObject"];b.Cb.I=b.S.Mg;b.Cb.prototype=
q(b.S.Mg.prototype,{init:function(){this.sm=!0;this.dispatchEvent(new b.S.ei("initialize"))},update:function(){this.sm&&this.mc||(this.init(),this.mc&&this.activate())},Jb:t(),ee:t(),render:t(),activate:function(){this.mc=!0;this.bp()},Pm:function(){this.mc=!1;this.ep()},bp:function(){this.dispatchEvent(new b.S.ei("activate"))},ep:function(){this.dispatchEvent(new b.S.ei("deactivate"))},hd:t(),Je:t(),setProperty:function(a,b){this._properties.set(a,b)},na:function(a){return this._properties.get(a)},
D3:function(a){return this._properties.Eb(a)},B1:z("um"),getName:z("mi"),ig:x("mi"),z1:z("Mx"),kP:z("mc"),Xd:function(a){this.sm||this.init();!this.mc&&a&&this.activate();this.mc&&!a&&this.Pm()},oL:x("Wj"),ur:z("Wj"),destroy:function(){this.Xd(!1);this.um=!0},Ze:function(){this.dispatchEvent(new b.S.ei("destroy"))},log:function(a){b.H.Wb.log(a)},r:b.Cb});b.q=function(a){b.Cb.call(this);a.UM(this);this.ig(E.JI(E.Vh(this)))};b.q.n=["f84","Component"];b.q.I=b.Cb;b.q.prototype=q(b.Cb.prototype,{P0:z("j"),
mA:x("j"),uJ:function(){return this.j.uJ()},Sd:function(a){this.j.Sd(a)},mk:function(a){return this.j.mk(a)},SK:function(a){this.j.SK(a)},T:function(a){return this.j.T(a)},ga:function(){return this.j.ga()},destroy:function(){b.Cb.prototype.destroy.call(this)},F:function(a){null==a&&(a=!1);return this.j.F(a)},GR:t(),QR:t(),Ze:function(){b.Cb.prototype.Ze.call(this)},r:b.q});b.Si=function(){this.LG=!1;this.Rx=!0;this.Xf=null;b.Cb.call(this);this.va=new b.La;this.Nc=new b.La;this.oa=new b.La(1,1,1);
this.gc=[];this.Kc=[];this.po=[]};b.Si.n=["f84","Entity"];b.Si.cE=function(a){return a.F()};b.Si.I=b.Cb;b.Si.prototype=q(b.Cb.prototype,{init:function(){b.Cb.prototype.init.call(this);for(var a=this.gc.length,n=0;n<a;){var e=n++,e=this.gc[e];e.mc&&e.init()}},D1:z("LG"),k5:x("LG"),ga:z("Jx"),Dv:x("Jx"),Sd:function(a){this.po.push(a)},SK:function(a){for(var b=this.po.length,e=0;e<b;){var c=e++;this.po[c]==a&&this.po.splice(c,1)}},mk:function(a){for(var b=this.po.length,e=0;e<b;){var c=e++;if(this.po[c]==
a)return!0}return!1},uJ:z("po"),C3:function(a){for(var b=this.Kc.length,e=0;e<b;){var c=e++;if(this.Kc[c]==a)return!0}return!1},removeChild:function(a){for(var b=this.Kc.length,e=0;e<b;){var c=e++,d=this.Kc[c];if(d==a){d.tA(null);this.Kc.splice(c,1);break}}},addChild:function(a){a==this&&this.log("Cannot parent an Entity to itself.");null!=a.getParent()&&a.getParent().removeChild(a);this.Kc.push(a);a.tA(this)},kQ:function(a,b){a==this&&this.log("Cannot parent an Entity to itself.");null!=a.getParent()&&
a.getParent().removeChild(a);this.Kc.splice(b,0,a);a.tA(this)},i_:function(){for(var a=this.Kc.length,b=0;b<a;){var e=b++;this.Kc[e].destroy()}this.Kc=[]},getParent:z("Xf"),E2:function(){return null!=this.getParent()?this.getParent():this},tA:function(a){this.Xf=a;null!=this.getParent()?this.dispatchEvent(new b.S.zc("addedToParent",{parent:this.getParent()})):this.dispatchEvent(new b.S.zc("removedFromParent"));this.dispatchEvent(new b.S.zc("displayUpdate"))},O:function(){var a=this.va.Da();if(null!=
this.Xf){var n=this.Xf.O(),e=this.Xf.wc(),c=this.Xf.oe(),d=Math.sin(b.H.Sa.rf(c.z)),c=Math.cos(b.H.Sa.rf(c.z)),g=a.x*d+a.y*c;a.x=(a.x*c-a.y*d)*e.x+n.x;a.y=g*e.y+n.y;a.z+=n.z}return a},Xd:function(a){b.Cb.prototype.Xd.call(this,a);for(var n=this.gc.length,e=0;e<n;){var c=e++;this.gc[c].Xd(a)}n=this.Kc.length;for(e=0;e<n;)c=e++,this.Kc[c].Xd(a)},kP:z("mc"),wi:function(a){null==a&&(a=!1);if(!a)return this.Kc;a=this.Kc;for(var b=[].concat(a),e=0,c=b.length;e<c;){var d=e++;a=a.concat(b[d].wi(!0))}return a},
zO:function(a){for(var b=this.Kc.length,e=0;e<b;){var c=e++,c=this.Kc[c];if(c.getName()==a)return c;c=c.zO(a);if(null!=c)return c}return null},Co:function(){return null!=this.Xf?this.Xf.Co()&&this.Rx:this.Rx},af:function(a){(this.Rx=a)?this.dispatchEvent(new b.S.zc("visibilityOn")):this.dispatchEvent(new b.S.zc("visibilityOff"));this.dispatchEvent(new b.S.zc("displayUpdate"))},activate:function(){b.Cb.prototype.activate.call(this);for(var a=this.Kc.length,n=0;n<a;){var e=n++;this.Kc[e].activate()}this.dispatchEvent(new b.S.zc("displayUpdate"))},
Pm:function(){b.Cb.prototype.Pm.call(this);for(var a=this.Kc.length,n=0;n<a;){var e=n++;this.Kc[e].Pm()}this.dispatchEvent(new b.S.zc("displayUpdate"))},getLocalPosition:function(){return this.va.Da()},v2:z("va"),setPosition:function(a,n,e){null==e&&(e=0);null==n&&(n=0);null==a&&(a=0);this.va=new b.La(a,n,e);this.dispatchEvent(new b.S.zc("displayUpdate"))},translate:function(a,n,e){null==e&&(e=0);null==n&&(n=0);null==a&&(a=0);this.va.x+=a;this.va.y+=n;this.va.z+=e;this.dispatchEvent(new b.S.zc("displayUpdate"))},
G2:z("Nc"),dJ:function(){return this.Nc.Da()},oe:function(){var a=this.Nc.Da();if(null!=this.Xf){var b=this.Xf.oe();a.x+=b.x;a.y+=b.y;a.z+=b.z}return a},Ji:function(a,n,e){null==e&&(e=0);null==n&&(n=0);null==a&&(a=0);this.Nc.x=a;this.Nc.y=n;this.Nc.z=e;this.dispatchEvent(new b.S.zc("displayUpdate"))},L5:function(a){null==a&&(a=0);this.Nc.z=a},rotate:function(a,b,e){this.Nc.x+=a;this.Nc.y+=b;this.Nc.z+=e},z4:function(a){this.Nc.z+=a},AP:z("oa"),wc:function(){var a=this.oa.Da();if(null!=this.Xf){var b=
this.Xf.wc();a.x*=b.x;a.y*=b.y;a.z*=b.z}return a},Bd:function(a,n,e){null==e&&(e=1);null==n&&(n=1);null==a&&(a=1);this.oa=new b.La(a,n,e);this.dispatchEvent(new b.S.zc("displayUpdate"))},GR:function(){for(var a=this.gc.length,b=0;b<a;)b++},QR:function(){for(var a=this.gc.length,b=0;b<a;)b++},update:function(){b.Cb.prototype.update.call(this);for(var a=this.gc.length;0<a--;){var n=this.gc[a];n.um&&(n.Ze(),this.gc.splice(a,1))}a=this.gc.length;for(n=0;n<a;){var e=n++,e=this.gc[e];e.mc&&e.ur()&&e.update()}},
Jb:function(){b.Cb.prototype.Jb.call(this);for(var a=this.gc.length,n=0;n<a;){var e=n++,e=this.gc[e];e.mc&&e.Jb()}},render:function(){b.Cb.prototype.render.call(this);for(var a=this.gc.length,n=0;n<a;){var e=n++,e=this.gc[e];e.mc&&e.render()}},ee:function(){b.Cb.prototype.ee.call(this);for(var a=this.gc.length,n=0;n<a;){var e=n++,e=this.gc[e];e.mc&&e.ur()&&e.ee()}},hd:function(){b.Cb.prototype.hd.call(this);for(var a=this.gc.length,n=0;n<a;){var e=n++,e=this.gc[e];e.mc&&e.hd()}a=b.D.g().vf("debug").getCanvas().getContext("2d");
a.save();if(null!=b.k.Camera.He()){var n=b.k.Camera.He().j,e=b.k.Camera.He()._zoomScale,c=b.k.Camera.He().T(b.v.Xi);a.translate(-n.O().x*e+c.Ef.x,-n.O().y*e+c.Ef.y);a.scale(e,e)}a.beginPath();a.globalAlpha=0.65;a.lineWidth=1;a.strokeStyle="#44FF44";a.moveTo(this.O().x,this.O().y-10);a.lineTo(this.O().x,this.O().y+10);a.moveTo(this.O().x-10,this.O().y);a.lineTo(this.O().x+10,this.O().y);a.moveTo(this.O().x-10,this.O().y-10);a.lineTo(this.O().x+10,this.O().y+10);a.moveTo(this.O().x+10,this.O().y-10);
a.lineTo(this.O().x-10,this.O().y+10);a.stroke();a.restore();b.D.g().vf("debug").Vr(!0)},UM:function(a){for(var b=this.gc.length,e=0;e<b;){var c=e++;if(this.gc[c]==a)return null}this.gc.push(a);a.mA(this);return a},T:function(a){for(var b=this.gc.length,e=0;e<b;)for(var c=e++,d=E.Vh(this.gc[c]);null!=d;){if(d==a)return this.gc[c];d=E.RD(d)}return null},k0:function(a){for(var b=this.gc.length,e=0;e<b;){var c=e++;if(E.RD(E.Vh(this.gc[c]))==a)return this.gc[c]}return null},QO:function(a){var b=[],e=
this.PO(a);null!=e&&(b=b.concat(e));for(var e=this.Kc.length,c=0;c<e;){var d=c++,d=this.Kc[d].QO(a);null!=d&&(b=b.concat(d))}return b},PO:function(a){for(var b=[],e=this.gc.length,c=0;c<e;){var d=c++;E.Vh(this.gc[d])==a?b.push(this.gc[d]):E.RD(E.Vh(this.gc[d]))==a&&b.push(this.gc[d])}return 0<b.length?b:null},Je:function(a,b){for(var e=this.gc.length-1;0<=e;){var c=this.gc[e];c.mc&&c.Je(a,b);e--}},ur:function(){return null!=this.Xf?this.Wj&&this.Xf.ur():this.Wj},destroy:function(){b.Cb.prototype.destroy.call(this);
null!=this.Jx&&this.Jx.qT(this);null!=this.getParent()&&this.getParent().removeChild(this);for(var a=this.gc.length;0<a--;){var n=this.gc[a];n.destroy();n.Ze()}for(a=this.Kc.length;0<a--;)n=this.Kc[a],n.destroy(),n.Ze()},F:function(a){null==a&&(a=!1);var b=this.ga().F();a&&this.addChild(b);return b},Ze:function(){b.Cb.prototype.Ze.call(this);this.Jx=null},r:b.Si});b.ha=t();b.ha.n=["f84","GameConfig"];b.ha.na=function(a){return b.ha._properties.get(a)};b.ha.O_=function(a){a=b.ha.na(a);return"TRUE"==
a.toUpperCase()||"1"==a};b.ha.setProperty=function(a,n){b.ha._properties.set(a,r.sc(n))};b.ha.nS=function(a){for(a=C.parse(a).Ma("gameConfig").next().Ma("property");a.xc();){var n=a.next(),e=n.get("name"),n=n.get("value");b.ha._properties.set(e,n)}};b.ha.prototype={r:b.ha};b.am=function(){this.xg=this.Dx=this.Ix=this.Th=this.vx=this.Rn=this.lx=this.$=this.zg=this.Re=this.mo=null;b.Si.call(this)};b.am.n=["f84","GameEntity"];b.am.cE=function(a){return a.F(new b.am)};b.am.I=b.Si;b.am.prototype=q(b.Si.prototype,
{Gd:function(){var a=this.yz();null==a&&(this.zg=new b.k.Pd(this));return a.Gd()},cd:function(a,n,e){var c=this.yz();null==c&&(this.zg=new b.k.Pd(this));return c.cd(a,n,e)},E_:function(){var a=this.yz();null==a&&(this.zg=new b.k.Pd(this));return a.zD().z},E4:function(a){var n=this.yz();null==n&&(this.zg=new b.k.Pd(this));return n.$h(new b.La(0,0,a))},j1:function(){return null!=this.xg?this.xg:this.xg=this.T(b.k.GameImage)},k1:function(){return null!=this.Ix?this.Ix:this.Ix=this.T(b.k.Zs)},Z0:function(){return null!=
this.Dx?this.Dx:this.Dx=this.T(b.Jf.FlashAnimation)},a3:function(){return null!=this.Th?this.Th:this.Th=this.T(b.k.$i)},E0:function(){return null!=this.vx?this.vx:this.vx=this.T(b.k.Hj)},CD:function(){return null!=this.Rn?this.Rn:this.Rn=this.T(b.k.Yd)},e0:function(){return null!=this.lx?this.lx:this.lx=this.T(b.k.mg)},i3:function(){return null!=this.$?this.$:this.$=this.T(b.k.Ac)},yz:function(){return null!=this.zg?this.zg:this.zg=this.T(b.k.Pd)},v6:function(a,n,e,c,d,g){null==this.$&&(this.$=new b.k.Ac(this));
this.Re=[];this.Re.push(this.$.sa(this.va,"x",this.va.x,a,e,d,c,g));this.Re.push(this.$.sa(this.va,"y",this.va.y,n,e,d,c))},x6:function(a,n,e,c){null==this.$&&(this.$=new b.k.Ac(this));this.Re=[];this.Re.push(this.$.sa(this.Nc,"z",this.Nc.z,b.H.Sa.rf(a),n,c,e))},w6:function(a,n,e,c,d,g,h){null==this.$&&(this.$=new b.k.Ac(this));this.Re=[];this.Re.push(this.$.sa(this.va,"x",this.va.x,a,c,g,d,h));this.Re.push(this.$.sa(this.va,"y",this.va.y,n,c,g,d));this.Re.push(this.$.sa(this.Nc,"z",this.Nc.z,b.H.Sa.rf(e),
c,g,d))},y6:function(a,n,e,c,d,g){null==this.$&&(this.$=new b.k.Ac(this));this.Re=[];this.Re.push(this.$.sa(this.oa,"x",this.oa.x,a,e,d,c,g));this.Re.push(this.$.sa(this.oa,"y",this.oa.y,n,e,d,c))},MZ:function(){if(null!=this.Re){for(var a=this.Re.length,b=0;b<a;){var e=b++;this.$.hO(this.Re[e])}this.Re=null}},i6:function(){if(null!=this.Re){for(var a=this.Re.length,b=0;b<a;){var e=b++;this.Re[e].CL()}this.Re=null}},t4:function(a,n){null==n&&(n=!1);this.SU();this.mo=b.audio.SoundManager.Wc(a,!1,n)},
SU:function(){null!=this.mo&&this.mo.stop();this.mo=null},destroy:function(){b.Si.prototype.destroy.call(this);null!=this.mo&&(this.mo.stop(),this.mo=null)},r:b.am});b.ya=function(){this.Nh=this.Vt=null;this.eo=!1;this.Uj=0;b.Cb.call(this);this.qd=[];this.Nh=[];this.Vt=[];this.rH=this.F()};b.ya.n=["f84","GameState"];b.ya.I=b.Cb;b.ya.prototype=q(b.Cb.prototype,{j2:z("eo"),init:function(){b.Cb.prototype.init.call(this)},update:function(){b.Cb.prototype.update.call(this);for(var a=this.Vt.length,n=0;n<
a;){var e=n++,e=this.Vt[e];e.Ze();w.remove(this.qd,e)}b.H.Bj.clear(this.Vt);n=0;if(!this.eo){b.H.Bj.clear(this.Nh);for(var e=[].concat(this.qd),a=e.length,c=0;c<a;){var d=c++,d=e[d];null!=d&&d.mc&&(this.Nh.push(d),n++,d.ur()&&d.update())}this.Uj+=b.D.eb()}"1"==b.ha.na("debugCheats")&&b.J.Hc.g().Vm(105)&&(this.log(this.qd),this.log(this.Nh),b.J.Ha.iS(),this.log("Active entities: "+n))},Jb:function(){b.Cb.prototype.Jb.call(this);if(!this.eo)for(var a=this.Nh.length,n=0;n<a;){var e=n++,e=this.Nh[e];
e.mc&&e.Jb()}},ee:function(){b.Cb.prototype.ee.call(this);if(!this.eo)for(var a=this.Nh.length,n=0;n<a;){var e=n++,e=this.Nh[e];e.ur()&&e.mc&&e.ee()}},render:function(){b.Cb.prototype.render.call(this);for(var a=this.Nh.length,n=0;n<a;){var e=n++,e=this.Nh[e];e.Co()&&e.mc&&e.render()}},hd:function(){b.Cb.prototype.hd.call(this);for(var a=this.qd.length,n=0;n<a;){var e=n++,e=this.qd[e];e.mc&&e.Co()&&e.hd()}},F:function(a){null==a&&(a=new b.Si);a.Dv(this);this.qd.push(a);null!=this.rH&&this.rH.addChild(a);
return a},x4:function(a){w.remove(this.qd,a)},n1:function(a){return-1!=b.H.Bj.indexOf(this.qd,a)},O0:z("qd"),v_:function(a){for(var b=this.qd.length,e=0;e<b;){var c=e++,c=this.qd[c];if(c.getName()==a)return c}return null},RI:function(a,b){null==b&&(b=!0);for(var e=[],c=this.qd.length,d=0;d<c;){var g=d++,g=this.qd[g];(!b||g.mc)&&g.mk(a)&&e.push(g)}return e},Z_:function(a,n,e){null==e&&(e=!0);n=this.RI(n);for(var c=-1,d=null,g=n.length,h=0;h<g;){var l=h++,l=n[l];if(!e||l.mc){var m=l.O(),m=(new b.La(m.x-
a.x,m.y-a.y,m.z-a.z)).Dc();if(-1==c||m<c)c=m,d=l}}return d},j6:function(){this.qd.sort(function(a,b){var e=a.O(),c=b.O();return e.z==c.z?a.Mx>b.Mx?1:-1:e.z<c.z?1:-1})},Je:function(a,n){b.Cb.prototype.Je.call(this,a,n);if(!this.eo)for(var e=this.Nh.length-1;0<=e;)this.Nh[e].mc&&this.Nh[e].Je(a,n),e--},pause:function(){this.eo=!0;for(var a=this.qd.length,b=0;b<a;)b++},resume:function(){this.eo=!1;for(var a=this.qd.length,b=0;b<a;)b++},uN:function(a,b){null==b&&(b=!1);w.remove(this.qd,a)&&this.qd.push(a);
if(b)for(var e=a.wi(),c=e.length,d=0;d<c;){var g=d++;this.uN(e[g],!0)}},sT:function(a,b){null==b&&(b=!1);w.remove(this.qd,a)&&this.qd.splice(0,0,a);if(b)for(var e=a.wi(),c=e.length,d=0;d<c;){var g=d++;this.sT(e[g],!0)}},N3:function(a,n){w.remove(this.qd,a)&&this.qd.splice(b.H.Bj.indexOf(this.qd,n)+1,0,a)},qT:function(a){this.Vt.push(a)},destroy:function(){b.Cb.prototype.destroy.call(this);for(var a=this.qd.length-1;0<=a;)this.qd[a].destroy(),this.qd[a].Ze(),a--;this.um=!0},r:b.ya});b.Vi=function(a,
n,e,c,d){null==d&&(d=!1);this.gG=null;this.Jy=!1;this.jx=this.ix=0;this.dB=!0;this._backgroundColor="#000000";b.Cb.call(this);this.ig(a);this.Lc=s.Na();this.nh=s.kd().createElement("canvas");this.nh.width=n;this.nh.height=e;this.jx=n;this.ix=e;this.nh.setAttribute("webkitTransform","translate3d(0px, 0px, 0px);");this.nh.style.position="absolute";this.gG=this.nh.getContext("2d");d?(b.Vi.cC=this,this.Lc.appendChild(this.nh)):this.nh.style.visibility="hidden"};b.Vi.n=["f84","Layer"];b.Vi.S1=function(){return b.Vi.cC};
b.Vi.I=b.Cb;b.Vi.prototype=q(b.Cb.prototype,{U_:z("Aq"),P4:x("Aq"),getContext:z("gG"),u3:z("Jy"),Vr:x("Jy"),clear:function(a){null==a&&(a=!1);if(b.Vi.cC!=this||a)a=this.nh.getContext("2d"),null==this.Aq?a.clearRect(0,0,this.nh.width,this.nh.height):a.clearRect(this.Aq.U.x,this.Aq.U.y,this.Aq.pa.x,this.Aq.pa.y),this.Jy=!1},render:function(){b.Cb.prototype.render.call(this);b.v.Pe.g().BJ()||(b.v.Pe.g().ak.view.getContext("2d").setTransform(1,0,0,1,0,0),b.v.Pe.g().ak.view.getContext("2d").drawImage(this.nh,
0,0,this.jx,this.ix))},Cg:function(){return new b.A(this.jx,this.ix)},mp:function(a,b){this.jx=a;this.ix=b;this.nh.width=a;this.nh.height=b},update:function(){b.Cb.prototype.update.call(this)},ND:z("Hf"),pF:x("Hf"),Na:z("Lc"),getCanvas:z("nh"),H_:z("dB"),G4:x("dB"),destroy:function(){b.Cb.prototype.destroy.call(this);null!=this.getCanvas().parentNode&&this.getCanvas().parentNode.removeChild(this.getCanvas())},r:b.Vi});b.Md=t();b.Md.n=["f84","Layers"];b.Md.R1=function(){null==b.Md.QG&&(b.Md.QG=b.D.g().vf("master"));
return b.Md.QG};b.Md.D0=function(){null==b.Md.nG&&(b.Md.nG=b.D.g().vf("default"));return b.Md.nG};b.Md.wJ=function(){null==b.Md.NM&&(b.Md.NM=b.D.g().vf("ui"))};b.Md.o2=function(){null==b.Md.gH&&(b.Md.gH=b.D.g().vf("pixi"));return b.Md.gH};b.Md.g2=function(){null==b.Md.bH&&(b.Md.bH=b.D.g().vf("orientation"));return b.Md.bH};b.Md.XO=function(){null==b.Md._debug&&(b.Md._debug=b.D.g().vf("debug"));return b.Md._debug};b.LoadBatch=function(a){null==a&&(a=!1);this.by=!1;this.jG=0;this.Xx=!1;this.yd=0;this.jC=
null;this.Jc=[];a&&(this.by=!0)};b.LoadBatch.n=["f84","LoadBatch"];b.LoadBatch.prototype={Bg:function(a,n,e,c){this.Jc.push(new b.Qv(a,n,e,!1,c))},WQ:function(){this.yd--;this.Yf();b.D.g().Jd("onFileLoaded",{progress:this.Jc.length-this.yd,total:this.Jc.length});this.Fg()},Yf:function(){b.D.g().Jd("onFileLoaded",{progress:this.Jc.length-this.yd,total:this.Jc.length});this.Xx||0<this.yd||this.DO()},DO:function(){this.by&&(this.Xx=!0,null!=this.jC&&this.jC())},load:function(a){this.jC=a;this.yd=this.Jc.length;
this.Xx=!1;this.jG=0;0==this.Jc.length?(a(),this.Xx=!0):(this.Fg(),b.D.g().fU(!1),b.D.g().Hz(3,u(this,this.zR)))},unload:function(){for(var a=this.Jc.length,n=0;n<a;){var e=n++;b.J.Ha.fV(this.Jc[e].name)}},Fg:function(){var a=this;if(!(0>=this.yd&&this.by)){for(var n=null;null==n&&0<this.yd;)if(n=this.Jc[this.jG++],null==n)this.yd--,this.Yf();else break;if(!(0>=this.yd))switch(n.source=F.replace(n.source,"${locale}",s.vc),n.type[1]){case 4:var e;e=s.kd().createElement("link");e.rel="stylesheet";e.type=
"text/css";e.href=n.source;e.id=n.name;s.kd().head.appendChild(e);this.Yf();this.Fg();break;case 1:if(!b.D.ae()||b.audio.SoundManager.vr()){e=null;var c=this;if(b.J.Ha.Jm(n.name)){c.yd--;c.Yf();b.D.g().Jd("onFileLoaded",{progress:c.Jc.length-c.yd,total:c.Jc.length});c.Fg();break}e=-1<navigator.userAgent.toLowerCase().indexOf("firefox");"mp3"==w.substr(n.source,n.source.length-3,3)&&(e&&!b.audio.SoundManager.Bz())&&(n.source=F.replace(n.source,"mp3","ogg"));if(!b.audio.SoundManager.vr()||e)b.audio.SoundManager.Bz()?
(e=soundManager.createSound({id:n.name,url:n.source,autoLoad:!0,onload:function(){c.yd--;c.Yf();b.D.g().Jd("onFileLoaded",{progress:c.Jc.length-c.yd,total:c.Jc.length});c.Fg()}}),b.J.Ha.ln(n.name,e)):(e=document.createElement("audio"),e.src=n.source,e.preload=!0,e.autoplay=!1,e.id=n.name,e.addEventListener("canplay",function(){c.yd--;c.Yf();b.D.g().Jd("onFileLoaded",{progress:c.Jc.length-c.yd,total:c.Jc.length});c.Fg()},!1),e.addEventListener("onerror",function(){c.yd--;console.log("File not found: "+
n.source);c.Yf();b.D.g().Jd("onFileLoaded",{progress:c.Jc.length-c.yd,total:c.Jc.length});c.Fg()}),e.addEventListener("stalled",function(){c.yd--;console.log("File not found: "+n.source);c.Yf();b.D.g().Jd("onFileLoaded",{progress:c.Jc.length-c.yd,total:c.Jc.length});c.Fg()}),e.addEventListener("suspend",function(){c.yd--;console.log("Loading suspended: "+n.source);c.Yf();b.D.g().Jd("onFileLoaded",{progress:c.Jc.length-c.yd,total:c.Jc.length});c.Fg()}),b.J.Ha.ln(n.name,e),e.load());else{var d=new XMLHttpRequest;
d.open("GET",n.source,!0);d.responseType="arraybuffer";b.J.Ha.ln(n.name+"_src",n.source);d.onload=function(){b.audio.SoundManager.BD().decodeAudioData(d.response,function(a){b.J.Ha.ln(n.name,a);c.yd--;c.Yf();b.D.g().Jd("onFileLoaded",{progress:c.Jc.length-c.yd,total:c.Jc.length});c.Fg()})};d.send()}}else b.J.Ha.ln(n.name,n.source),this.yd--,this.Yf(),this.Fg();break;case 0:var g;g=s.kd().createElement("img");b.J.Ha.ln(n.name,g);var h=this;g.addEventListener("load",function(b){PIXI.Texture.addTextureToCache(PIXI.Texture.fromImage(g.src,
!1,null!=n.options?n.options.scaleMode:PIXI.SCALE_MODES.DEFAULT),n.name);a.WQ(b)});g.addEventListener("onerror",function(){h.yd--;alert("file not found: "+n.source);h.Yf();b.D.g().Jd("onFileLoaded",{progress:h.Jc.length-h.yd,total:h.Jc.length});h.Fg()});g.id=n.name;g.src=n.source;break;case 2:var l;l=new XMLHttpRequest;var m=this;l.onload=function(){b.J.Ha.ln(n.name,l.responseText);m.yd--;m.Yf();b.D.g().Jd("onFileLoaded",{progress:m.Jc.length-m.yd,total:m.Jc.length});m.Fg()};l.onerror=function(){m.yd--;
alert("File not found: "+n.source);m.Yf();m.Fg()};l.open("GET",n.source,!0);l.send();break;case 3:e=s.kd().createElement("script");e.type="text/javascript";e.async=!0;e.src=n.source;e.id=n.name;s.kd().body.appendChild(e);e.onload=function(){a.Yf();a.Fg()};break;case 5:s.kd().head.innerHTML+='<style type="text/css"> @font-face { font-family: \''+n.name+"'; src: url('"+n.source+"'); } </style>",this.Yf(),this.Fg()}}},zR:function(){this.by=!0;this.Yf()},jI:function(a){for(var b=a.Jc.length,e=0;e<b;){var c=
e++,c=a.Jc[c];this.VP(c.name)||this.Jc.push(c)}},VP:function(a){for(var b=this.Jc.length,e=0;e<b;){var c=e++;if(this.Jc[c].name==a)return!0}return!1},r:b.LoadBatch};b.Db=t();b.Db.n=["f84","Localizer"];b.Db.fQ=function(){if(!b.Db.sm){var a=b.J.Ha.ic("strings");b.Db.WU=C.parse(a).Ma("strings").next();b.Db.sm=!0}};b.Db.pc=function(a){try{return b.Db.WU.Ma(a).next().firstChild().Ez()}catch(n){throw"Could not find string: "+a;}};b.kb=function(){b.Cb.call(this)};b.kb.n=["f84","Manager"];b.kb.I=b.Cb;b.kb.prototype=
q(b.Cb.prototype,{r:b.kb});b.hi=function(){this.yc=null;this.distance=-1;this.lj=this.Ge=null;this.yc=new b.A};b.hi.n=["f84","RaycastInfo"];b.hi.prototype={r:b.hi};b.Kh=function(a,n,e,c){null==c&&(c=0);null==e&&(e=0);null==n&&(n=0);null==a&&(a=0);this.U=new b.A(a,n);this.pa=new b.A(e,c)};b.Kh.n=["f84","Rect2D"];b.Kh.prototype={Da:function(){return new b.Kh(this.U.x,this.U.y,this.pa.x,this.pa.y)},ZI:function(a){return!(this.U.x>a.U.x+a.pa.x||this.U.x+this.pa.x<a.U.x||this.U.y>a.U.y+a.pa.y||this.U.y+
this.pa.y<a.U.y)},r:b.Kh};b.D=function(a,n){this.IG=!1;this.oy=this.$j=0;this.Wj=!0;this.cu=!1;this.$q=null;this.hl=0;this.JG=!1;this.Dd=this.Gf=this.Nd=this.ge=null;this.zG=a;this.$q=new b.A(1,1);this.Dd=[];b.D.Va=this;this.Nd=[];this.Gf=[];this.ge=[];this.HG=n};b.D.n=["f84","Root"];b.D.g=function(){return b.D.Va};b.D.FP=function(){return b.D.DH};b.D.U5=function(a){b.D.DH=a};b.D.eb=function(){return b.D.xB?0.016666666666666666:Math.min(0.016666666666666666,b.D.Qt-b.D.ny)*b.D.FP()};b.D.B2=function(){return b.D.Qt-
b.D.ny};b.D.mQ=function(){return window.isStandalone};b.D.Lz=function(){return-1!=navigator.userAgent.toLowerCase().indexOf("iphone")||-1!=navigator.userAgent.toLowerCase().indexOf("ipod")||-1!=navigator.userAgent.toLowerCase().indexOf("android")||-1!=navigator.userAgent.toLowerCase().indexOf("Linux")?!0:!1};b.D.fE=function(){var a=s.Od().navigator.platform;return-1!=a.indexOf("iPhone")||-1!=a.indexOf("iPod")||-1!=a.indexOf("iPad")?!0:!1};b.D.O3=I(!1);b.D.ae=function(){var a=s.Od().navigator.platform;
return-1!=a.indexOf("iPhone")||-1!=a.indexOf("iPod")||-1!=a.indexOf("iPad")||-1!=a.indexOf("android")||-1!=a.indexOf("Linux")?!0:!1};b.D.S3=function(){return-1!=navigator.userAgent.toLowerCase().indexOf("msie")};b.D.dE=function(){return-1<navigator.userAgent.toLowerCase().indexOf("firefox")};b.D.rQ=function(){return-1<navigator.userAgent.toLowerCase().indexOf("safari/")};b.D.I0=I(1);b.D.prototype={lP:z("Nd"),init:function(){b.D.ny=D.On.Iv();b.D.Qt=D.On.Iv();this.Fe(this.HG);this.HG.init();s.Na().focus();
this.oy=s.Od().innerWidth;this.$j=s.Od().innerHeight;var a=window;a.addEventListener("orientationchange",u(this,this.qv),!1);a.addEventListener("pageshow",u(this,this.qv),!1);a.addEventListener("resize",u(this,this.QE),!1);a.onfocus=u(this,this.JE);a.onblur=u(this,this.KE);window.document.addEventListener("webkitvisibilitychange",u(this,this.hS),!1);a.addEventListener("pagehide",u(this,this.KE),!1);b.D.ae()&&b.D.fE()&&a.addEventListener("touchend",u(this,this.oR),!1);b.D.ae()?this.qv():this.vL(1,
1)},update:function(){this.cu||this.JE();if(this.Wj){for(var a=0,a=this.Gf.length;0<a--;){var n=this.Gf[a];n.um&&(n.Ze(),this.Gf.splice(a,1))}a=this.Gf.length;for(n=0;n<a;){var e=n++,e=this.Gf[e];e.mc&&e.update()}b.audio.SoundManager.update();for(a=this.Dd.length;0<a--;)n=this.Dd[a],n.um&&(n.Ze(),this.Dd.splice(a,1));a=this.Dd.length;for(n=0;n<a;)e=n++,this.Dd[e].mc&&this.Dd[e].update();for(a=this.Nd.length;0<a--;)n=this.Nd[a],n.um&&(n.Ze(),w.remove(this.Nd,n));a=this.Nd.length;for(n=0;n<a;)e=n++,
this.Nd[e].update()}if(!this.JG)for(a=this.ge.length;0<a--;)n=this.ge[a],null!=n&&(n.Sl-=b.D.eb(),0>=n.Sl&&(n.params?n.Ly(n.params):n.Ly(),this.ge.splice(a,1)))},Jb:function(){b.D.Qt=D.On.Iv();var a=b.D.eb(),a=r["int"](Math.max(1,Math.floor(a/0.016666666666666666)));b.D.xB=!0;for(var n=0;n<a;){n++;for(var e=this.Gf.length,c=0;c<e;){var d=c++,d=this.Gf[d];d.mc&&d.Jb()}e=this.Dd.length;for(c=0;c<e;)d=c++,this.Dd[d].mc&&this.Dd[d].Jb()}b.D.xB=!1},ee:function(){for(var a=this.Gf.length,n=0;n<a;){var e=
n++,e=this.Gf[e];e.mc&&e.ee()}a=this.Dd.length;for(n=0;n<a;)e=n++,this.Dd[e].mc&&this.Dd[e].ee();b.D.ny=b.D.Qt},jV:function(){var a="container";1==this.hl&&(a+=" portrait");s.Na().className=a},render:function(){for(var a=this.Nd.length,b=0;b<a;){var e=b++,e=this.Nd[e];e.dB&&e.Jy&&e.clear()}a=this.Dd.length;for(b=0;b<a;)e=b++,this.Dd[e].mc&&this.Dd[e].render();a=this.Gf.length;for(b=0;b<a;)e=b++,this.Gf[e].mc&&this.Gf[e].render();a=this.Nd.length;for(b=0;b<a;)e=b++,e=this.Nd[e],"debug"!=e.getName()&&
e.render()},hd:function(){for(var a=this.Dd.length,b=0;b<a;){var e=b++;this.Dd[e].hd()}a=this.Gf.length;for(b=0;b<a;)e=b++,this.Gf[e].hd();a=this.Nd.length;for(b=0;b<a;)e=b++,e=this.Nd[e],"debug"==e.getName()&&e.render(),e.hd()},Fe:function(a){0<=w.indexOf(this.Dd,a,0)&&(w.remove(this.Dd,a),this.Dd.push(a));for(var b=this.Dd.length,e=0;e<b;){var c=e++;if(a==this.Dd[c])return a}this.Dd.push(a);return a},Ek:function(a){a.destroy()},yl:function(a){this.Gf.push(a);a.init()},fU:x("JG"),lD:function(){this.ge=
[]},Lv:function(a,b){null!=a&&this.Ek(a);null!=b&&this.Fe(b)},ti:function(a,b){null==b&&(b=!1);b?this.Nd.splice(0,0,a):this.Nd.push(a)},ZE:function(a){a.destroy();w.remove(this.Nd,a)},vf:function(a){for(var b=this.Nd.length,e=0;e<b;){var c=e++,c=this.Nd[c];if(c.getName()==a)return c}return null},Jd:function(a,b){for(var e=this.Gf.length-1;0<=e;)this.Gf[e].Je(a,b),e--;for(e=this.Dd.length-1;0<=e;)this.Dd[e].Je(a,b),e--},Hz:function(a,n,e){a=new b.k.Ip(a,n,e);this.ge.push(a);return a},eO:function(a){w.remove(this.ge,
a)},qv:function(){var a=this;this.Hz(0.35,function(){var n=!1,n=b.D.ae()?s.Od().innerWidth>s.Od().innerHeight:!0;"HORIZONTAL"==b.ha.na("forceOrientation")?(a.hl=0,n=!0):"VERTICAL"==b.ha.na("forceOrientation")?(a.hl=1,n=!1):a.hl=n?0:1;a.QE();a.Jd("onOrientationChanged",{pQ:n})})},vL:function(a,b){this.jV();this.$q.x=a;this.$q.y=b;this.tK()},Fd:function(){return b.D.mQ()?new b.A(0.91*this.$q.x,0.91*this.$q.y):this.$q},Vd:function(){return 0==this.hl?new b.A(s.Wl,s.Vl):new b.A(s.Gs,s.Fs)},pJ:function(){var a=
s.Od().innerWidth,n=s.Od().innerHeight;return 0==this.hl?new b.A(Math.max(0,a/2-s.Wl*this.Fd().x/2),Math.max(0,n/2-s.Vl*this.Fd().y/2)):new b.A(a/2-s.Gs*this.Fd().x/2,n/2-s.Fs*this.Fd().y/2)},hS:function(){s.kd().webkitHidden?this.KE():this.JE()},JE:function(){this.cu||(b.J.Hc.g().wI(),b.audio.SoundManager.XK(),this.Wj=this.cu=!0,this.Jd("onFocusGained"))},KE:function(){b.audio.SoundManager.BK();this.cu&&(b.J.Hc.g().wO(),this.Wj=this.cu=!1,this.Jd("onFocusLost"))},QE:function(){var a=1,n=a,n="1"==
b.ha.na("scaleToScreenOnDesktop");b.D.ae()||n?(n=s.Od(),n=a=0==this.hl?Math.min(n.innerHeight/s.Vl,n.innerWidth/s.Wl):Math.min(n.innerHeight/s.Fs,n.innerWidth/s.Gs)):a=n=1;this.Jd("onResizedWindow");this.vL(n,a)},tK:function(){var a,n;a=s.Od().innerWidth;n=s.Od().innerHeight;var e=s.Na();b.D.ae()&&this.WD();0==this.hl?(e.style.width=s.Wl+"px",e.style.height=s.Vl+"px"):(e.style.width=s.Gs+"px",e.style.height=s.Fs+"px");var c=b.v.Pe.g();if(null!=c.ak){var d=c.ak.view,g=c=0;0==this.hl?(c=s.Wl*this.Fd().x,
g=s.Vl*this.Fd().y):(c=s.Gs*this.Fd().x,g=s.Fs*this.Fd().y);d.style.width=1*c+"px";d.style.height=1*g+"px";e.style.width=c+"px";e.style.height=g+"px";n=Math.max(0,n/2-g/2);a=Math.max(0,a/2-c/2);e.style.left=a+"px";e.style.top=n+"px"}this.Jd("onScreenScaleUpdated")},TU:function(){this.Wj=!1},SS:function(){this.Wj=!0},WD:function(){if(b.D.Lz()&&!window.location.hash){var a=window.outerHeight;document.height<a&&(document.body.style.height=a+50+"px");setTimeout(function(){window.scrollTo(0,1)},50)}},
requestFullscreen:function(){if(!b.D.fE()){var a=window.document,n=a.documentElement,e=n.requestFullscreen||n.mozRequestFullScreen||n.webkitRequestFullScreen||n.msRequestFullscreen;a.fullscreenElement||(a.mozFullScreenElement||a.D6||a.msFullscreenElement)||e.call(n)}},oR:function(){if(!1==this.IG)try{var a=b.audio.SoundManager.BD(),n=a.createBuffer(1,1,22050),e=a.createBufferSource();e.buffer=n;e.connect(a.destination);e.start(0);this.IG=!0;b.H.Wb.log("Audio enabled for iOS")}catch(c){b.H.Wb.log("error")}},
r:b.D};b.Mw=function(){this.Ph={};this.load()};b.Mw.n=["f84","SaveData"];b.Mw.prototype={setItem:function(a,b){this.Ph[a]=b;this.save()},getItem:function(a,b){if(Object.prototype.hasOwnProperty.call(this.Ph,a))return K.field(this.Ph,a);this.setItem(a,b);return b},save:function(){var a=b.D.g().zG+"Data";if(null!=y.Gh.Su())try{y.Gh.Su().setItem(a,JSON.stringify(this.Ph))}catch(n){b.H.Wb.log("Error saving to session storage")}if(null!=y.Gh.Qu())try{y.Gh.Qu().setItem(a,JSON.stringify(this.Ph))}catch(e){b.H.Wb.log("Error saving to local storage")}},
load:function(){var a=b.D.g().zG+"Data";if(null!=y.Gh.Su()||null!=y.Gh.Qu()){var n=null;try{n=y.Gh.Su().getItem(a)}catch(e){b.H.Wb.log("Failed to get item from session storage")}if(null==n)try{n=y.Gh.Qu().getItem(a)}catch(c){b.H.Wb.log("Failed to get item from session storage")}null!=n&&(this.Ph=JSON.parse(n))}},cO:function(){this.Ph={};this.save()},r:b.Mw};b.A=function(a,b){null==b&&(b=0);null==a&&(a=0);this.x=this.y=0;this.x=a;this.y=b};b.A.n=["f84","Vector2"];b.A.prototype={Da:function(){return new b.A(this.x,
this.y)},Dc:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},Jg:function(a,b){this.x*=a;this.y*=b},nj:function(a){return this.x*a.x+this.y*a.y},Kf:function(){var a=this.Dc();return new b.A(this.x/a,this.y/a)},r:b.A};b.La=function(a,b,e){null==e&&(e=0);null==b&&(b=0);null==a&&(a=0);this.x=this.y=this.z=0;this.x=a;this.y=b;this.z=e};b.La.n=["f84","Vector3"];b.La.X3=function(a,n,e){return new b.La(a.x+(n.x-a.x)*e,a.y+(n.y-a.y)*e,a.z+(n.z-a.z)*e)};b.La.sf=function(a,b){return a.x*b.x+a.y*b.y+
a.z*b.z};b.La.prototype={add:function(a){return new b.La(this.x+a.x,this.y+a.y,this.z+a.z)},Kv:function(a){return new b.La(this.x-a.x,this.y-a.y,this.z-a.z)},Jg:function(a){this.x*=a;this.y*=a;this.z*=a},Dc:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},Da:function(){return new b.La(this.x,this.y,this.z)},Kf:function(){var a=this.Dc();return new b.La(this.x/a,this.y/a,this.z/a)},r:b.La};b.S.Ea=x("TC");b.S.Ea.n=["f84","events","Event"];b.S.Ea.prototype={Rb:z("TC"),r:b.S.Ea};
b.Se={};b.Se.tp=function(a,n){this.TF=null;b.S.Ea.call(this,a);this.TF=n};b.Se.tp.n=["f84","achievements","AchievementCompleteEvent"];b.Se.tp.I=b.S.Ea;b.Se.tp.prototype=q(b.S.Ea.prototype,{A_:z("TF"),r:b.Se.tp});b.Se.Pv=function(a,b,e,c,d){this.ii=a;this.mi=b;this.dM=e;this.VC=c;this.mf=d};b.Se.Pv.n=["f84","achievements","AchievementDefinition"];b.Se.Pv.prototype={XI:z("ii"),getName:z("mi"),OI:z("dM"),dP:z("mf"),r:b.Se.Pv};b.Se.qn=function(){this.uq=this.uh=null;b.kb.call(this);b.Se.qn.Va=this;this.uq=
[];this.uh=new D.jd.me};b.Se.qn.n=["f84","achievements","AchievementsManager"];b.Se.qn.g=function(){return b.Se.qn.Va};b.Se.qn.I=b.kb;b.Se.qn.prototype=q(b.kb.prototype,{v4:function(a,n,e,c){this.uq.push(new b.Se.Pv(this.uq.length,a,n,e,c))},Y5:function(a,b){this.uh.Eb(a)||this.uh.set(a,0);var e=this.uh.get(a);b<e||(this.uh.set(a,b),this.eI(a,e,this.uh.get(a)))},H3:function(a,b){this.uh.Eb(a)||this.uh.set(a,0);var e=this.uh.get(a),c=this.uh.get(a)+b;this.uh.set(a,c);this.eI(a,e,this.uh.get(a))},eI:function(a,
c,e){a=this.JO(a);for(var d=a.length,k=0;k<d;){var g=k++,g=a[g];c<g.mf&&e>=g.mf&&this.dispatchEvent(new b.Se.tp("complete",g))}},JO:function(a){for(var b=[],e=this.uq.length,c=0;c<e;){var d=c++,d=this.uq[d];d.VC==a&&b.push(d)}return b},A1:function(a){a=this.uq[a];return this.uh.Eb(a.VC)?a.mf<=this.uh.get(a.VC):!1},r:b.Se.qn});b.audio={};b.audio.Ic=function(a,b,e){this.WB=!1;this._currentTime=0;this.sm=!1;this.Dm=a;this.yu=b;this.ki=e;this.init()};b.audio.Ic.n=["f84","audio","SoundData"];b.audio.Ic.prototype=
{init:function(){this.sm=!0},play:t(),resume:t(),update:function(){this._currentTime+=b.D.eb()},pause:t(),stop:function(){b.audio.SoundManager.Fk(this)},setVolume:x("yu"),Tr:x("WB"),qL:x("ki"),Eo:I(1),r:b.audio.Ic};b.audio.Pp=function(a,c,e){b.audio.Ic.call(this,a,c,e)};b.audio.Pp.n=["f84","audio","FlashSoundData"];b.audio.Pp.I=b.audio.Ic;b.audio.Pp.prototype=q(b.audio.Ic.prototype,{init:function(){b.audio.Ic.prototype.init.call(this);this.yb=soundManager.createSound({id:this.Dm});this.yb.setVolume(100*
this.yu)},play:function(a){null==a&&(a=0);b.audio.Ic.prototype.play.call(this,a);var c=this;this.yb.play({onfinish:function(){c.ki&&c.play(0);b.audio.SoundManager.Fk(c)},onstop:function(){b.audio.SoundManager.Fk(c)}})},pause:function(){b.audio.Ic.prototype.pause.call(this);b.H.Wb.log("FlashSoundData::pause()");this.yb.pause()},stop:function(){b.audio.Ic.prototype.stop.call(this);b.H.Wb.log("FlashSoundData::stop()");this.yb.stop()},resume:function(){b.audio.Ic.prototype.resume.call(this);this.yb.resume()},
setVolume:function(a){b.audio.Ic.prototype.setVolume.call(this,a);b.H.Wb.log("FlashSoundData::setVolume()");this.yb.setVolume(100*a)},r:b.audio.Pp});b.audio.Wp=function(a,c,e){b.audio.Ic.call(this,a,c,e)};b.audio.Wp.n=["f84","audio","Html5SoundData"];b.audio.Wp.I=b.audio.Ic;b.audio.Wp.prototype=q(b.audio.Ic.prototype,{init:function(){b.audio.Ic.prototype.init.call(this)},play:function(a){null==a&&(a=0);var c=this;b.audio.Ic.prototype.play.call(this,a);this.yb=b.J.Ha.ic(this.Dm);0!=a&&this.yb.addEventListener("canplay",
function(){c.yb.currentTime=a});this.yb.play();this.yb.addEventListener("ended",u(this,this.SE),!1);this.yb.loop=this.ki;this.yb.volume=this.yu},resume:function(){b.audio.Ic.prototype.resume.call(this);this.yb.play()},pause:function(){b.audio.Ic.prototype.pause.call(this);this.yb.pause()},stop:function(){b.audio.Ic.prototype.stop.call(this);this.yb.pause()},SE:function(){b.audio.SoundManager.Fk(this)},setVolume:function(a){b.audio.Ic.prototype.setVolume.call(this,a);this.yb.volume=a},Tr:function(a){b.audio.Ic.prototype.Tr.call(this,
a);this.yb.muted=a},r:b.audio.Wp});b.audio.SoundManager=t();b.audio.SoundManager.n=["f84","audio","SoundManager"];b.audio.SoundManager.Bz=function(){return b.audio.SoundManager.wu};b.audio.SoundManager.init=function(){try{b.audio.SoundManager.Pg=new AudioContext,b.audio.SoundManager.YB=!b.D.dE()&&null!=b.audio.SoundManager.Pg}catch(a){b.D.rQ()?b.audio.SoundManager.wu=!1:soundManager.setup({url:"soundmanager2_flash9.swf",flashVersion:9,onready:b.audio.SoundManager.UR,ontimeout:b.audio.SoundManager.VR,
useHighPerformance:!0})}b.audio.SoundManager.of=new b.H.qq(null)};b.audio.SoundManager.UR=function(){b.audio.SoundManager.wu=soundManager.html5.usingFlash;console.log("USING FLASH: "+r.sc(b.audio.SoundManager.wu))};b.audio.SoundManager.VR=function(){b.audio.SoundManager.wu=soundManager.html5.usingFlash};b.audio.SoundManager.q4=t();b.audio.SoundManager.BD=function(){return b.audio.SoundManager.Pg};b.audio.SoundManager.vr=function(){return b.audio.SoundManager.YB};b.audio.SoundManager.j5=function(a){b.audio.SoundManager.YB=
a};b.audio.SoundManager.wr=function(){return b.audio.SoundManager.eC};b.audio.SoundManager.lU=function(a){b.audio.SoundManager.eC=a;null!=b.audio.SoundManager.of.get()&&b.audio.SoundManager.of.get().Tr(a);b.audio.SoundManager.vr()||(b.D.ae()&&a?b.audio.SoundManager.of.get().pause():b.D.ae()&&!a&&b.audio.SoundManager.of.get().play())};b.audio.SoundManager.CP=function(){return b.audio.SoundManager.LC};b.audio.SoundManager.vU=function(a){b.audio.SoundManager.LC=a;for(var c=b.audio.SoundManager.Ag.length,
e=0;e<c;){var d=e++;b.audio.SoundManager.Ag[d].Tr(a)}};b.audio.SoundManager.Tm=function(){return b.audio.SoundManager.RG};b.audio.SoundManager.t5=function(a){b.audio.SoundManager.RG=a;b.audio.SoundManager.uL(b.audio.SoundManager.dy);b.audio.SoundManager.wU(b.audio.SoundManager.MC)};b.audio.SoundManager.OD=function(){return b.audio.SoundManager.wr()?0:b.audio.SoundManager.dy};b.audio.SoundManager.uL=function(a){b.audio.SoundManager.dy=a;null!=b.audio.SoundManager.of&&null!=b.audio.SoundManager.of.get()&&
b.audio.SoundManager.of.get().setVolume(b.audio.SoundManager.eC?0:b.audio.SoundManager.OD()*b.audio.SoundManager.Tm())};b.audio.SoundManager.Tu=function(){return b.audio.SoundManager.CP()?0:b.audio.SoundManager.MC};b.audio.SoundManager.wU=function(a){b.audio.SoundManager.MC=a;a=b.audio.SoundManager.Ag.length;for(var c=0;c<a;){var e=c++;b.audio.SoundManager.Ag[e].setVolume(b.audio.SoundManager.LC?0:b.audio.SoundManager.Tu()*b.audio.SoundManager.Tm())}};b.audio.SoundManager.Wc=function(a,c,e,d){null==
d&&(d=1);null==e&&(e=!1);null==c&&(c=!1);if(!b.audio.SoundManager.vr()&&b.D.ae()&&!c||!b.J.Ha.Jm(a))return null;a=b.audio.SoundManager.vr()?new b.audio.sq(a,d*b.audio.SoundManager.Tu()*b.audio.SoundManager.Tm(),e):b.audio.SoundManager.Bz()?new b.audio.Pp(a,d*b.audio.SoundManager.Tu()*b.audio.SoundManager.Tm(),e):new b.audio.Wp(a,d*b.audio.SoundManager.Tm()*b.audio.SoundManager.Tu(),e);a.play();b.audio.SoundManager.Ag.push(a);return a};b.audio.SoundManager.update=function(){for(var a=b.audio.SoundManager.Ag.length,
c=0;c<a;){var e=c++,e=b.audio.SoundManager.Ag[e];null==e?b.audio.SoundManager.Fk(e):e.update()}};b.audio.SoundManager.SE=function(a){b.audio.SoundManager.Fk(a.currentTarget)};b.audio.SoundManager.Fk=function(a){w.remove(b.audio.SoundManager.Ag,a)};b.audio.SoundManager.YM=function(a){b.audio.SoundManager.Ag.push(a)};b.audio.SoundManager.BK=function(){null!=b.audio.SoundManager.of.get()&&b.audio.SoundManager.of.get().pause();for(var a=b.audio.SoundManager.Ag.length,c=0;c<a;){var e=c++,e=b.audio.SoundManager.Ag[e];
null!=e&&e.pause()}};b.audio.SoundManager.XK=function(){for(var a=b.audio.SoundManager.Ag.length,c=[].concat(b.audio.SoundManager.Ag),e=0;e<a;){var d=e++;c[d].resume()}null!=b.audio.SoundManager.of.get()&&(b.audio.SoundManager.of.get().pause(),b.audio.SoundManager.of.get().resume())};b.audio.SoundManager.s4=function(a){return b.D.ae()?b.audio.SoundManager.CK(a,!0):null};b.audio.SoundManager.CK=function(a,c){null==c&&(c=!0);if(b.D.ae()&&!c)return null;if(!b.J.Ha.Jm(a))return b.H.Wb.log(a+" doesn't exist!"),
null;null!=b.audio.SoundManager.of.get()&&b.audio.SoundManager.of.get().stop();var e;e=b.audio.SoundManager.vr()?new b.audio.sq(a,b.audio.SoundManager.Tm()*b.audio.SoundManager.OD(),!0):b.audio.SoundManager.Bz()?new b.audio.Pp(a,b.audio.SoundManager.Tu()*b.audio.SoundManager.Tm(),!0):new b.audio.Wp(a,b.audio.SoundManager.Tm()*b.audio.SoundManager.OD(),!0);e.play(0);b.audio.SoundManager.of.set(e);b.audio.SoundManager.uL(b.audio.SoundManager.dy);return b.audio.SoundManager.of.get()};b.audio.SoundManager.q6=
function(){null!=b.audio.SoundManager.of.get()&&(b.audio.SoundManager.of.get().stop(),b.audio.SoundManager.of=new b.H.qq(null))};b.audio.SoundManager.p6=function(){for(var a=b.audio.SoundManager.Ag.length-1;0<=a;){var c=b.audio.SoundManager.Ag[a];null!=c&&c.stop();b.audio.SoundManager.Fk(c);a--}b.audio.SoundManager.Ag=[]};b.audio.SoundManager.prototype={r:b.audio.SoundManager};b.audio.sq=function(a,c,e){null==e&&(e=!1);null==c&&(c=1);this.yb=null;b.audio.Ic.call(this,a,c,e)};b.audio.sq.n=["f84","audio",
"WebkitSoundData"];b.audio.sq.I=b.audio.Ic;b.audio.sq.prototype=q(b.audio.Ic.prototype,{init:function(){b.audio.Ic.prototype.init.call(this);this.Pg=b.audio.SoundManager.BD();this.yb=this.Pg.createBufferSource();this.yb.buffer=b.J.Ha.ic(this.Dm);null!=(M=this.Pg,u(M,M.createGain))?this.Lq=this.Pg.createGain():this.Lq=this.Pg.createGainNode();this.yb.connect(this.Lq,0,0);this.Lq.connect(this.Pg.destination,0,0);this.yb.loop=this.ki;this.yb.id=this.Dm;this.setVolume(this.yu)},play:function(a){null==
a&&(a=0);b.audio.Ic.prototype.play.call(this,a);this._currentTime=a;try{null!=(M=this.yb,u(M,M.start))?this.yb.start(this.Pg.currentTime,a):0==a?this.yb.noteOn():this.yb.noteGrainOn(this.Pg.currentTime,a)}catch(c){this.yb.noteOn(this.Pg.currentTime,a,this.yb.buffer.duration-a)}},pause:function(){b.audio.Ic.prototype.pause.call(this);null==this.yb||null!=this.yb&&null!=this.yb.buffer&&this._currentTime>this.Eo()&&!this.ki||(null!=(M=this.yb,u(M,M.stop))?this.yb.stop(this.Pg.currentTime):this.yb.noteOff(this.Pg.currentTime),
b.audio.SoundManager.Fk(this))},resume:function(){b.audio.Ic.prototype.resume.call(this);null!=this.yb&&null!=this.yb.buffer&&this._currentTime>this.Eo()&&!this.ki||(this.stop(),this.init(),this.play(this._currentTime),b.audio.SoundManager.YM(this))},stop:function(){b.audio.Ic.prototype.stop.call(this);if(null!=this.yb){if(null!=(M=this.yb,u(M,M.stop)))try{this.yb.stop(this.Pg.currentTime)}catch(a){}else this.yb.noteOff(this.Pg.currentTime);this.yb=null;b.audio.SoundManager.Fk(this)}},Eo:function(){return this.yb.buffer.duration},
update:function(){b.audio.Ic.prototype.update.call(this);this._currentTime>this.Eo()&&!this.ki?b.audio.SoundManager.Fk(this):this._currentTime>this.Eo()&&(this._currentTime-=this.Eo())},SE:t(),setVolume:function(a){b.audio.Ic.prototype.setVolume.call(this,a);if(null!=this.yb&&null!=this.yb.gain||null!=this.Lq)this.Lq.gain.value=this.WB?0:a},Tr:function(a){b.audio.Ic.prototype.Tr.call(this,a);this.Lq.gain.value=this.WB?0:this.yu},r:b.audio.sq});b.da={};b.da.Uf={sg:!0,mh:["FollowBox2dBody","FollowEntityVelocity",
"FollowEntityInstant"]};b.da.Uf.Us=["FollowBox2dBody",0];b.da.Uf.Us.sb=b.da.Uf;b.da.Uf.LA=["FollowEntityVelocity",1];b.da.Uf.LA.sb=b.da.Uf;b.da.Uf.OF=["FollowEntityInstant",2];b.da.Uf.OF.sb=b.da.Uf;b.da.Uf.Mh=[b.da.Uf.Us,b.da.Uf.LA,b.da.Uf.OF];b.da.Ej=function(a,c,e,d){this.nm=null;this.MB=!1;this.lc=this.XF=this.YF=this.eB=null;b.q.call(this,a);this.Gt=b.da.Uf.Us;this.XF=c;this.YF=e;this.eB=d;b.da.ac.g();this.lc=b.da.ac.g().ej.iD(this.XF);this.lc.setUserData({tf:this.j});this.eB.shape=this.YF;this.lc.oI(this.eB);
a=this.j.O();a=b.da.ac.g().Um(a.x,a.y);this.lc.setPosition(a);this.Ax=new b.A};b.da.Ej.n=["f84","box2d","Box2dBody"];b.da.Ej.I=b.q;b.da.Ej.prototype=q(b.q.prototype,{A0:z("nm"),Y4:x("nm"),R0:z("Ax"),d5:x("Ax"),L4:function(a){this.lc.setActive(a)},init:function(){b.q.prototype.init.call(this);this.NL()},s1:z("MB"),i5:x("MB"),ep:function(){b.q.prototype.ep.call(this);this.lc.setActive(!1)},bp:function(){b.q.prototype.bp.call(this);this.lc.setActive(!0);var a=this.j.O(),a=b.da.ac.g().Um(a.x,a.y);this.lc.setPosition(a)},
N_:z("Gt"),J4:x("Gt"),setPosition:function(a,b){this.lc.setPosition(new d.f.math.K(a,b))},O:function(){return this.lc.O()},n2:function(){var a=b.da.ac.g().Xg,c=this.lc.O();return new b.A(c.x/a,c.y/a)},pU:function(a,c){var e=b.da.ac.g().JD();this.lc.setPosition(new d.f.math.K(a/e,c/e))},I_:z("lc"),Jb:function(){b.q.prototype.Jb.call(this);var a=this.j;if(this.Gt==b.da.Uf.Us)this.NL(),this.MB||a.Ji(0,0,this.lc.Uh());else if(this.Gt==b.da.Uf.LA){var c=this.j.O(),c=b.da.ac.g().Um(c.x,c.y);this.lc.pA(new d.f.math.K((c.x-
this.lc.O().x)/b.D.eb(),(c.y-this.lc.O().y)/b.D.eb()));this.lc.$h((a.oe().z-this.lc.Uh())/b.D.eb())}else c=this.j.O(),c=b.da.ac.g().Um(c.x,c.y),this.lc.setPosition(new d.f.math.K(c.x,c.y)),this.lc.iF(a.oe().z);null!=this.nm&&(a=new d.f.math.K(this.nm.x,this.nm.y),a.x*=this.lc.za,a.y*=this.lc.za,this.lc.dN(a,this.lc.Dg().position))},NL:function(){if(this.Gt==b.da.Uf.Us){var a=this.j,c=this.lc.O(),e=a.O(),d=a.getLocalPosition(),d=e.Kv(d),k=b.da.ac.g().Xg;a.setPosition(c.x/k-d.x+this.Ax.x,c.y/k-d.y+
this.Ax.y,e.z)}},destroy:function(){b.q.prototype.destroy.call(this)},Ze:function(){b.q.prototype.Ze.call(this);null!=this.lc&&(this.lc.setUserData(null),b.da.ac.g().ej.dO(this.lc),this.lc=null)},r:b.da.Ej});b.da.Cs=t();b.da.Cs.n=["f84","box2d","Box2dContactListener"];b.da.Cs.I=d.e.Cj;b.da.Cs.prototype=q(d.e.Cj.prototype,{cD:function(a){d.e.Cj.prototype.cD.call(this,a);var c=a.$c.Kb.getUserData().tf;null!=c&&c.dispatchEvent(new b.da.Fj("beginContact",{gd:a}));c=a.md.Kb.getUserData().tf;null!=c&&c.dispatchEvent(new b.da.Fj("beginContact",
{gd:a}))},dz:function(a){d.e.Cj.prototype.dz.call(this,a);var c=a.$c.Kb.getUserData().tf;null!=c&&c.dispatchEvent(new b.da.Fj("endContact",{gd:a}));c=a.md.Kb.getUserData().tf;null!=c&&c.dispatchEvent(new b.da.Fj("endContact",{gd:a}))},uS:t(),tS:t(),r:b.da.Cs});b.da.Fj=function(a,c){this.Ph=null;b.S.Ea.call(this,a);this.Ph=c};b.da.Fj.n=["f84","box2d","Box2dEvent"];b.da.Fj.I=b.S.Ea;b.da.Fj.prototype=q(b.S.Ea.prototype,{getData:z("Ph"),setData:x("Ph"),r:b.da.Fj});b.da.ac=function(a,c,e,f){null==f&&(f=
2);null==e&&(e=6);null==c&&(c="orientation");this.mG="";this.Xg=0.03333333333333333;this.jH=2;this.FH=6;this.ej=this.yg=null;b.kb.call(this);null==a&&(a=new b.A(0,0));this.yg=new d.f.math.K(a.x,a.y);b.da.ac.Va=this;this.FH=e;this.jH=f;this.mG=c;this.ej=new d.e.Yc(this.yg,!1)};b.da.ac.n=["f84","box2d","Box2dManager"];b.da.ac.g=function(){return b.da.ac.Va};b.da.ac.I=b.kb;b.da.ac.prototype=q(b.kb.prototype,{init:function(){b.kb.prototype.init.call(this);this.lG=b.D.g().vf(this.mG);this.Yn=new d.e.Tf;
this.Yn.xU(this.lG.getCanvas().getContext("2d"));this.Yn.TT(30);this.Yn.gU(1);this.Yn.hp(0.5);this.Yn.UT(0.1);this.Yn.WT(d.e.Tf.yI);this.ej.ST(this.Yn);this.ej.JT(new b.da.Cs)},J_:z("ej"),Ou:z("yg"),Ev:function(a){this.yg=a;this.ej.Ev(a);return a},k2:z("Xg"),JD:function(){return 1/this.Xg},G5:x("Xg"),Jb:function(){b.kb.prototype.Jb.call(this);this.dispatchEvent(new b.da.Ul("preUpdate"));for(var a=Math.max(1,Math.floor(b.D.eb()/(1/60))),c=0;c<a;)c++,this.ej.step(1/60,this.FH,this.jH),this.ej.zN();
this.dispatchEvent(new b.da.Ul("update"))},Um:function(a,b){return new d.f.math.K(a*this.Xg,b*this.Xg)},v3:function(a,c){return new b.A(a/this.Xg,c/this.Xg)},hd:function(){b.kb.prototype.hd.call(this);this.ej.lO();this.lG.Vr(!0)},r:b.da.ac});b.da.Ul=function(a){b.S.Ea.call(this,a)};b.da.Ul.n=["f84","box2d","Box2dManagerEvent"];b.da.Ul.I=b.S.Ea;b.da.Ul.prototype=q(b.S.Ea.prototype,{r:b.da.Ul});b.da.Ds=function(a,c){b.S.Ea.call(this,a);this.Dq=c};b.da.Ds.n=["f84","box2d","Box2dPresolveEvent"];b.da.Ds.I=
b.S.Ea;b.da.Ds.prototype=q(b.S.Ea.prototype,{l0:z("Dq"),r:b.da.Ds});b.da.mw=function(a,b,c){this.yc=b;this.EI=c};b.da.mw.n=["f84","box2d","Box2dRaycastInfo"];b.da.mw.prototype={r:b.da.mw};b.da.Oi=t();b.da.Oi.n=["f84","box2d","Box2dRaycastUtil"];b.da.Oi.xS=function(a,c){b.da.Oi.qH=null;b.da.ac.g().ej.Ch(b.da.Oi.yS,a,c);return b.da.Oi.qH};b.da.Oi.GK=function(a,c){return b.da.Oi.xS(b.da.ac.g().Um(a.x,a.y),b.da.ac.g().Um(c.x,c.y))};b.da.Oi.yS=function(a,c,e,d){b.da.Oi.qH=new b.da.mw(0,e,a);return d};
b.l={};b.l.Pi=function(){this.zi=[];this.U=new b.A;this.pa=new b.A};b.l.Pi.n=["f84","collision","Collision"];b.l.Pi.prototype={Da:function(){var a=new b.l.Pi;a.U=this.U.Da();a.pa=this.pa.Da();for(var c=this.zi.length,e=0;e<c;){var d=e++;a.zi.push(this.zi[d])}return a},ue:I(!1),Ie:I(-1),r:b.l.Pi};b.l.nw=function(a,c,e,d){b.l.Pi.call(this);this.U=new b.A(a,c);this.pa=new b.A(e,d)};b.l.nw.n=["f84","collision","BoxCollision"];b.l.nw.I=b.l.Pi;b.l.nw.prototype=q(b.l.Pi.prototype,{ue:function(a){b.l.Pi.prototype.ue.call(this,
a);return a.x>=this.U.x&&a.y>=this.U.y&&a.x<=this.U.x+this.pa.x&&a.y<=this.U.y+this.pa.y},OZ:I(!0),Ie:function(a,c,e,d){null==d&&(d=!1);for(var k=new b.A,g=[new b.A(this.U.x,this.U.y),new b.A(this.U.x+this.pa.x,this.U.y),new b.A(this.U.x+this.pa.x,this.U.y+this.pa.y),new b.A(this.U.x,this.U.y+this.pa.y)],h=-1,l=0,m=g.length-1;l<m;){var p=l++,p=b.H.Sa.Wm(a,c,g[p],g[p+1],k);if(0<p)if(d){if(-1==h||p<h)e.x=k.x,e.y=k.y,h=p}else return e.x=k.x,e.y=k.y,p}a=b.H.Sa.Wm(a,c,g[0],g[g.length-1],k);if(0<a)if(d){if(-1==
h||a<h)e.x=k.x,e.y=k.y,h=a}else return e.x=k.x,e.y=k.y,a;return h},Da:I(null),r:b.l.nw});b.l.Lw=function(){this.Wf=this.Ug=null;b.l.Pi.call(this);this.Wf=new b.A(999999,999999);this.Ug=new b.A(-999999,-999999);this.Qe=[]};b.l.Lw.n=["f84","collision","PolygonCollision"];b.l.Lw.I=b.l.Pi;b.l.Lw.prototype=q(b.l.Pi.prototype,{so:function(a,c){this.Qe.push(new b.A(a,c));a<this.Wf.x&&(this.Wf.x=a);c<this.Wf.y&&(this.Wf.y=c);a>this.Ug.x&&(this.Ug.x=a);c>this.Ug.y&&(this.Ug.y=c)},wP:z("Qe"),ue:function(a){for(var b=
this.Qe.length,c=0,d=!1,k=null,g=null;c<b;){k=this.Qe[c].Da();g=this.Qe[(c+1)%b].Da();k.x+=this.U.x;k.y+=this.U.y;g.x+=this.U.x;g.y+=this.U.y;if(0==c)d=0<(a.y-k.y)*(g.x-k.x)-(a.x-k.x)*(g.y-k.y);else if(d&&0>(a.y-k.y)*(g.x-k.x)-(a.x-k.x)*(g.y-k.y)||!d&&0<(a.y-k.y)*(g.x-k.x)-(a.x-k.x)*(g.y-k.y))return!1;c++}return!0},Ie:function(a,c,e,d,k){null==d&&(d=!1);var g=new b.Kh;g.U=this.Wf.Da();g.pa=new b.A(this.Ug.x-this.Wf.x,this.Ug.y-this.Wf.y);g.U.x+=this.U.x;g.U.y+=this.U.y;var h=Math.abs(c.x-a.x),l=Math.abs(c.y-
a.y);if(!g.ZI(new b.Kh(a.x<c.x?a.x:c.x,a.y<c.y?a.y:c.y,h,l)))return-1;for(var g=new b.A,l=this.Qe,h=-1,m=0,p=l.length-1;m<p;){var q=m++,s=l[q].Da();s.x+=this.U.x;s.y+=this.U.y;var r=l[q+1].Da();r.x+=this.U.x;r.y+=this.U.y;q=b.H.Sa.Wm(a,c,s,r,g);if(0<q)if(d){if(-1==h||q<h)e.x=g.x,e.y=g.y,null!=k&&(h=(new b.A(r.y-s.y,s.x-r.x)).Kf(),k.x=h.x,k.y=h.y,0<(new b.A(c.x-a.x,c.y-a.y)).nj(k)&&(k.x*=-1,k.y*=-1)),h=q}else return e.x=g.x,e.y=g.y,null!=k&&(e=(new b.A(r.y-s.y,s.x-r.x)).Kf(),k.x=e.x,k.y=e.y,0<(new b.A(c.x-
a.x,c.y-a.y)).nj(k)&&(k.x*=-1,k.y*=-1)),q}m=l[0].Da();m.x+=this.U.x;m.y+=this.U.y;p=l[l.length-1].Da();p.x+=this.U.x;p.y+=this.U.y;l=b.H.Sa.Wm(a,c,m,p,g);if(0<l)if(d){if(-1==h||l<h)e.x=g.x,e.y=g.y,null!=k&&(e=(new b.A(p.y-m.y,m.x-p.x)).Kf(),k.x=e.x,k.y=e.y,0<(new b.A(c.x-a.x,c.y-a.y)).nj(k)&&(k.x*=-1,k.y*=-1)),h=l}else return e.x=g.x,e.y=g.y,null!=k&&(e=(new b.A(p.y-m.y,m.x-p.x)).Kf(),k.x=e.x,k.y=e.y,0<(new b.A(c.x-a.x,c.y-a.y)).nj(k)&&(k.x*=-1,k.y*=-1)),l;return h},Da:I(null),r:b.l.Lw});b.k={};b.k.as=
function(a,c){this.Zg=this.Bm=0;b.q.call(this,a);this.Bm=c};b.k.as.n=["f84","components","AlphaPulser"];b.k.as.I=b.q;b.k.as.prototype=q(b.q.prototype,{vA:x("Bm"),update:function(){b.q.prototype.update.call(this);this.Zg+=this.Bm*b.D.eb();this.Zg>=Math.PI&&(this.Zg-=Math.PI);var a=Math.sin(this.Zg),c=this.j.T(b.v.la);null!=c&&(c.Na().alpha=a)},r:b.k.as});b.k.ih=function(a,c){this.ki=!0;this.wm=0;this.mi=a;this.dj=[];null==c||(this.wm=c);this.Qa=new b.A};b.k.ih.n=["f84","components","Animation"];b.k.ih.tv=
function(a,c){for(var e=C.parse(c),d=e.Ma("animation").next().get("name"),d=new b.k.ih(d,e.Ma("animation").next().get("length")),e=e.Ma("animation").next().Ma("keyframe");e.xc();){var k=e.next(),k=new b.k.Jf.bs(k.get("index"),k.get("spriteIndex"),a);d.My(k)}b.J.ke.g().JK(d);return d};b.k.ih.Wz=function(a,c,e,d,k,g){null==g&&(g=0);null==k&&(k=-1);null==d&&(d=!1);var h=b.kc.jf.g().Fo(c),l=h.Rd.length;-1==k&&(k=l);for(var m=0,p=0;p<k;){var q=p++;F.EF(h.zz(q).getName(),"")&&m++}a=new b.k.ih(a,m*e);for(p=
m=0;p<l&&!(q=p++,F.EF(h.zz(q).getName(),"")&&(a.My(new b.k.Jf.bs(g,q,c)),g+=e,m++,m>=k)););a.qL(d);b.J.ke.g().JK(a);return a};b.k.ih.If=function(a,c,e,d,k){null==k&&(k=!0);null==d&&(d=1);null==b.J.ke.g().vi(a)&&(b.kc.Nj.tv(a,a,b.J.Ha.ic(c)),b.k.ih.Wz(a,a,d,k).Ad(e.x,e.y))};b.k.ih.cN=function(a,c,e,d,k){null==k&&(k=1);if(null==b.J.ke.g().vi(c))for(a=b.J.ke.g().vi(a),b.kc.Nj.tv(c,c,b.J.Ha.ic(e)),c=b.k.ih.Wz("tempAnim",c,k,!1,-1,a.wm),c.Ad(d.x,d.y),d=c.dj,c=d.length,e=0;e<c;)k=e++,a.My(d[k])};b.k.ih.prototype=
{Dc:function(){return this.wm/30},getName:z("mi"),qL:x("ki"),Pa:z("Qa"),Ad:function(a,b){this.Qa.x=a;this.Qa.y=b},My:function(a){this.dj.push(a);var b=a.O();this.wm=Math.max(this.wm,a.O());b>this.wm&&(this.wm=b)},qJ:function(a){for(var b=this.dj.length,c=this.dj[0].PC,d=0;d<b;){var k=d++;if(a>=this.dj[k].O()/30)c=this.dj[k].PC;else break}return c},rJ:function(a){for(var b=this.dj.length,c=this.dj[0].br,d=0;d<b;){var k=d++;if(a>=this.dj[k].O()/30)c=this.dj[k].br;else break}return c},r:b.k.ih};b.k.Yd=
function(a,c,e,d,k){this.Lx=!1;this.ZB=!0;this.jj=!1;this.EB=!0;this.iC=this.nC=this.qC=this.oC=this.$G=this.pC=null;b.q.call(this,a);this.Cd=new b.R.ef;this.Cq=c;this.Bq=e;this.W=k;this.Fv(d)};b.k.Yd.n=["f84","components","Button"];b.k.Yd.e_=function(a){return new b.k.Yd(a.j,a.Cg(),new b.A(0,0))};b.k.Yd.f_=function(a,c,e){null==e&&(e=0);c=s.kd().getElementById(c);var d=c.clientWidth+e,k=c.clientHeight+e;return new b.k.Yd(a,new b.A(d,k),new b.A(c.offsetLeft-a.O().x-e/2+d/2,c.offsetTop-a.O().y-e/2+
k/2))};b.k.Yd.c_=function(a,c,e,d){null==d&&(d=0);c=s.kd().getElementById(c);var k=r.Gb(c.style.width)+d,g=r.Gb(c.style.height)+d,h=b.k.Ih.tJ(c).y-d/2;return new b.k.Yd(a,new b.A(k,g),new b.A(b.k.Ih.tJ(c).x-d/2-a.O().x+k/2,h-a.O().y+g/2),e)};b.k.Yd.d_=function(a){return new b.k.Yd(a.j,a.Cg(),null)};b.k.Yd.pI=function(a){new b.k.Yd(a.j,new b.A(a.V().texture.width,a.V().texture.height),null)};b.k.Yd.I=b.q;b.k.Yd.prototype=q(b.q.prototype,{D5:x("iC"),Fv:x("nC"),F5:x("oC"),sA:x("qC"),rA:x("pC"),F1:z("ZB"),
l5:x("ZB"),getData:z("Ph"),Ao:z("Cd"),i0:z("Cq"),setData:x("Ph"),init:function(){b.q.prototype.init.call(this);this.ko=new b.A(this.j.getLocalPosition().x,this.j.O().y);this.ML()},update:function(){b.q.prototype.update.call(this);this.Lx=!1;!1==this.j.Co()&&(this.Lx=!0);this.ML()},Ad:function(a,c){this.Bq=new b.A(a,c)},Pa:z("Bq"),ML:function(){var a=this.j.O();this.Cd.U.x=a.x-this.Cq.x/2;this.Cd.U.y=a.y-this.Cq.y/2;this.Cd.pa.x=this.Cq.x;this.Cd.pa.y=this.Cq.y;null!=this.Bq&&(this.Cd.U.x+=this.Bq.x,
this.Cd.U.y+=this.Bq.y)},OE:function(a){a=a.Da();a.x>b.D.g().Vd().x||(0>a.x||a.y>b.D.g().Vd().y||0>a.y)||(null!=this.W&&(a.x+=this.W.j.O().x*this.W._zoomScale,a.y+=this.W.j.O().y*this.W._zoomScale,a.Jg(1/this.W._zoomScale,1/this.W._zoomScale)),this.Cd.ue(a)&&(this.j.dispatchEvent(new b.S.zc("mouseClick",{button:this,tf:this.j})),null!=this.iC&&this.iC(this)))},onMouseDown:function(a){a=a.Da();if(a.x>b.D.g().Vd().x||0>a.x||a.y>b.D.g().Vd().y||0>a.y)return!1;null!=this.W&&(a.x+=this.W.j.O().x*this.W._zoomScale,
a.y+=this.W.j.O().y*this.W._zoomScale,a.Jg(1/this.W._zoomScale,1/this.W._zoomScale));return this.Cd.ue(a)?(this.j.dispatchEvent(new b.S.zc("mouseDown",{button:this,tf:this.j})),null!=this.nC&&this.nC(this),b.D.ae()&&(this.jj=!0),!0):!1},eA:function(a){a=a.Da();null!=this.W&&(a.x+=this.W.j.O().x*this.W._zoomScale,a.y+=this.W.j.O().y*this.W._zoomScale,a.Jg(1/this.W._zoomScale,1/this.W._zoomScale));this.Cd.ue(a)?(this.j.dispatchEvent(new b.S.zc("mouseOver",{button:this,tf:this.j})),this.jj||this.Gi(a),
this.jj=!0,this.j.dispatchEvent(new b.S.zc("mouseMove",{button:this,tf:this.j})),null!=this.oC&&this.oC(this)):this.jj&&!b.D.ae()&&(this.onMouseOut(a),this.jj=!1)},onMouseUp:function(a){a=a.Da();null!=this.W&&(a.x+=this.W.j.O().x*this.W._zoomScale,a.y+=this.W.j.O().y*this.W._zoomScale,a.Jg(1/this.W._zoomScale,1/this.W._zoomScale));this.Cd.ue(a)&&(this.j.dispatchEvent(new b.S.zc("mouseUp",{button:this,tf:this.j})),null!=this.qC&&this.qC(this))},Gi:function(a){a=a.Da();null!=this.W&&(a.x+=this.W.j.O().x*
this.W._zoomScale,a.y+=this.W.j.O().y*this.W._zoomScale,a.Jg(1/this.W._zoomScale,1/this.W._zoomScale));this.EB&&(s.kd().body.style.cursor="pointer");this.j.dispatchEvent(new b.S.zc("mouseOver",{button:this,tf:this.j}));null!=this.$G&&this.$G(this);this.jj=!0},onMouseOut:function(a){null!=a&&(a=a.Da(),null!=this.W&&(a.x+=this.W.j.O().x*this.W._zoomScale,a.y+=this.W.j.O().y*this.W._zoomScale,a.Jg(1/this.W._zoomScale,1/this.W._zoomScale)),this.EB&&(s.kd().body.style.cursor="default"),this.j.dispatchEvent(new b.S.zc("mouseOut",
{button:this,tf:this.j})),null!=this.pC&&this.pC(this),this.jj=!1)},qV:function(a){var c=!1;if(null!=a&&null!=a.touches){for(var e=a.touches.length,d=0;d<e;){var k=d++,g=a.touches[k],h=b.D.g().pJ(),k=(g.pageX-h.x)/b.D.g().Fd().x,g=(g.pageY-h.y)/b.D.g().Fd().y;this.Cd.ue(new b.A(k,g))&&(c=!0)}if(!c&&this.jj)this.onMouseOut(null);else c&&!this.jj&&this.Gi(null)}},T4:function(a,b){this.Cq=a;this.Bq=b},Je:function(a,c){b.q.prototype.Je.call(this,a,c);if((!c||!c.oQ)&&(this.j.Co()&&this.mc)&&!this.Lx)switch(a){case "mouseClick":this.OE(c);
break;case "mouseDown":this.onMouseDown(c)&&this.ZB&&(c.oQ=!0);break;case "mouseUp":this.onMouseUp(c);break;case "mouseMove":this.eA(c);break;case "verifyTouches":this.qV(c)}},activate:function(){b.q.prototype.activate.call(this);this.Lx=!0},Pm:function(){b.q.prototype.Pm.call(this);this.jj&&this.EB&&(s.kd().body.style.cursor="default")},hd:function(){b.q.prototype.hd.call(this);var a=b.D.g().vf("debug").getCanvas().getContext("2d");a.save();if(null!=b.k.Camera.He()){var c=b.k.Camera.He().j;a.translate(-c.O().x,
-c.O().y)}a.beginPath();a.lineWidth=1;a.strokeStyle="#FF0000";a.moveTo(this.Cd.U.x,this.Cd.U.y);a.lineTo(this.Cd.U.x+this.Cd.pa.x,this.Cd.U.y);a.lineTo(this.Cd.U.x+this.Cd.pa.x,this.Cd.U.y+this.Cd.pa.y);a.lineTo(this.Cd.U.x,this.Cd.U.y+this.Cd.pa.y);a.lineTo(this.Cd.U.x,this.Cd.U.y);a.stroke();a.restore()},destroy:function(){b.q.prototype.destroy.call(this);if(this.jj)this.onMouseOut(null)},r:b.k.Yd});b.k.Camera=function(a){this.Qa=this.ug=null;this._zoomScale=1;this.tb=this.vg=this.ar=null;b.q.call(this,
a);this.Qa=new b.A;this.ug=new b.A;this.ml=b.D.g().Vd().x;this.ll=b.D.g().Vd().y;null==b.k.Camera.ux&&(b.k.Camera.ux=this)};b.k.Camera.n=["f84","components","Camera"];b.k.Camera.He=function(){return b.k.Camera.ux};b.k.Camera.I=b.q;b.k.Camera.prototype=q(b.q.prototype,{lk:z("tb"),Aj:function(a){null!=this.tb&&this.tb.removeEventListener("destroy",u(this,this.uK));this.tb=a;null!=this.tb&&this.tb.addEventListener("destroy",u(this,this.uK))},Ad:x("Qa"),Pa:z("Qa"),C_:z("ug"),D4:function(a){this.ug.x=
a.x;this.ug.y=a.y},A3:z("_zoomScale"),e6:x("_zoomScale"),cJ:function(){return new b.A(this.ml,this.ll)},o5:function(a,b){this.ml=a;this.ll=b},init:function(){b.q.prototype.init.call(this);this.ar=this.T(b.k.Mn)},N2:z("ar"),uQ:function(){if(null!=this.tb){var a=new b.La(this.tb.O().x-this.ml/this._zoomScale/2+(this.Qa.x+this.ug.x)/this._zoomScale,this.tb.O().y-this.ll/this._zoomScale/2+(this.Qa.y+this.ug.y)/this._zoomScale,this.j.O().z);console.log("!:"+a.x+", "+a.y+", "+a.z);this.j.setPosition(a.x,
a.y,a.z)}},V3:function(){null!=this.tb&&this.j.setPosition(this.tb.O().x-this.ml/this._zoomScale/2+(this.Qa.x+this.ug.x)/this._zoomScale,this.j.getLocalPosition().y,this.j.O().z)},W3:function(){null!=this.tb&&this.j.setPosition(this.j.getLocalPosition().x,this.tb.O().y-this.ll/this._zoomScale/2+(this.Qa.y+this.ug.y)/this._zoomScale,this.j.O().z)},Lu:function(){var a=this.j.O();return new b.La(a.x-this.ml/this._zoomScale/2,a.y-this.ll/this._zoomScale/2,a.z)},Jb:function(){b.q.prototype.Jb.call(this);
null!=this.tb&&(null==this.ar?this.j.setPosition(this.tb.O().x-this.ml/this._zoomScale/2+(this.Qa.x+this.ug.x)/this._zoomScale,this.tb.O().y-this.ll/this._zoomScale/2+(this.Qa.y+this.ug.y)/this._zoomScale,this.j.O().z):this.ar.Aj(this.tb.O().x-this.ml/this._zoomScale/2+(this.Qa.x+this.ug.x)/this._zoomScale,this.tb.O().y-this.ll/this._zoomScale/2+(this.Qa.y+this.ug.y)/this._zoomScale,this.j.O().z))},ee:function(){b.q.prototype.ee.call(this)},update:function(){b.q.prototype.update.call(this)},B6:t(),
t2:function(a,c){if(null!=this.vg){var e=new b.La(a,c),d=this.ml/2/this._zoomScale,k=this.ll/2/this._zoomScale,g=new b.A(a+this.Qa.x+this.ug.x,c+this.Qa.y+this.ug.y),h=!1;g.x-d<this.vg.U.x&&(g.x=this.vg.U.x+d,h=!0);g.y-k<this.vg.U.y&&(g.y=this.vg.U.y+k,h=!0);g.x+d>this.vg.U.x+this.vg.pa.x&&(g.x=this.vg.U.x+this.vg.pa.x-d,h=!0);g.y+k>this.vg.U.y+this.vg.pa.y&&(g.y=this.vg.U.y+this.vg.pa.y-k,h=!0);a=g.x;c=g.y;h&&this.j.setPosition(e.x,e.y,e.z)}return new b.A(a,c)},getBounds:z("vg"),K4:function(a,c,
e,d){this.vg=new b.Kh(a,c,e-a,d-c)},JP:function(){var a=this.j.O();return new b.Kh(a.x,a.y,2*(this.ml/2/this._zoomScale),2*(this.ll/2/this._zoomScale))},k_:function(){this.vg=null},destroy:function(){b.q.prototype.destroy.call(this);b.k.Camera.ux==this&&(b.k.Camera.ux=null)},uK:function(){this.Aj(null)},r:b.k.Camera});b.k.mg=function(a,c){this.Qa=this.kC=this.mC=this.lC=null;b.q.call(this,a);this.Qa=c};b.k.mg.n=["f84","components","Collider"];b.k.mg.I=b.q;b.k.mg.prototype=q(b.q.prototype,{init:function(){b.q.prototype.init.call(this);
b.J.le.g().BS(this)},Ao:I(null),ue:I(!1),update:function(){b.q.prototype.update.call(this)},Ie:function(a,c){b.J.le.g().dispatchEvent(new b.S.fq("raycastCheck",a,c));return-1},hd:function(){b.q.prototype.hd.call(this)},zj:x("kC"),Ur:x("lC"),E5:x("mC"),wa:function(a){this.mc&&null!=this.kC&&this.kC(a,this)},mR:function(a){this.mc&&null!=this.mC&&this.mC(a,this)},Ta:function(a){this.mc&&null!=this.lC&&this.lC(a,this)},Ze:function(){b.q.prototype.Ze.call(this);b.J.le.g().NK(this)},r:b.k.mg});b.k.Ip=
function(a,b,c,d){null==d&&(d=!1);this.qQ=this.bF=!1;this.Sl=a;this.Ly=b;this.params=c;this.bF=d;this.duration=a};b.k.Ip.n=["f84","components","DeferredAction"];b.k.Ip.prototype={update:function(){this.qQ||(this.Sl-=b.D.eb())},r:b.k.Ip};b.k.Hj=function(a){b.q.call(this,a);this.ge=[]};b.k.Hj.n=["f84","components","DeferredActionComponent"];b.k.Hj.I=b.q;b.k.Hj.prototype=q(b.q.prototype,{update:function(){b.q.prototype.update.call(this);for(var a=this.ge.length-1;0<=a;){var c=this.ge[a];c.update();0>=
c.Sl&&(c.Ly(c.params),c.bF?c.Sl=c.duration:w.remove(this.ge,c));a--}},ro:function(a,c,e){a=new b.k.Ip(a,c,e);this.ge.push(a);return a},JS:function(a){w.remove(this.ge,a)},lD:function(){this.ge=[]},r:b.k.Hj});b.k.Jp=function(a){b.q.call(this,a);this.ge=[]};b.k.Jp.n=["f84","components","DeferredActionController"];b.k.Jp.I=b.q;b.k.Jp.prototype=q(b.q.prototype,{update:function(){b.q.prototype.update.call(this);for(var a=this.ge.length-1;0<=a;){var c=this.ge[a];null==c?w.remove(this.ge,c):(c.update(),
0>=c.Sl&&(c.Ly(c.params),c.bF?c.Sl=c.duration:w.remove(this.ge,c)),a--,a>this.ge.length-1&&(a=this.ge.length-1))}},ro:function(a,c,e){a=new b.k.Ip(a,c,e);this.ge.push(a);return a},JS:function(a){w.remove(this.ge,a)},lD:function(){this.ge=[]},r:b.k.Jp});b.k.Fn=function(a,c,e){this.Yt=this.Zt=!0;this.Qa=this.tb=null;b.q.call(this,a);this.tb=c;this.Qa=null!=e?e:new b.La};b.k.Fn.n=["f84","components","FollowEntity"];b.k.Fn.I=b.q;b.k.Fn.prototype=q(b.q.prototype,{Pa:z("Qa"),Ad:x("Qa"),lk:z("tb"),Aj:x("tb"),
$0:z("Yt"),XT:x("Yt"),a1:z("Zt"),YT:x("Zt"),Jb:function(){b.q.prototype.Jb.call(this);this.sp()},ee:function(){b.q.prototype.ee.call(this);this.sp()},sp:function(){var a=this.tb.O();this.Yt||(a.x=this.j.getLocalPosition().x);this.Zt||(a.y=this.j.getLocalPosition().y);this.j.setPosition(a.x+this.Qa.x,a.y+this.Qa.y,a.z+this.Qa.z)},r:b.k.Fn});b.k.GameImage=function(a,c,e,d){this.rl=this.Nc=this.Rd=this.lb=this.zb=this.mb=this.Sn=this.oh=null;this._alpha=1;this.Hf=null;this.De="";b.q.call(this,a);this.De=
c;this.Xa=e;this.Oh=new b.A(1,1);this.Zj=new b.A;this.W=d;this.Qa=new b.A;this.oa=new b.La(1,1,1);this.rl=new b.A;this.Nc=new b.La(0,0,0);this.oh=null};b.k.GameImage.n=["f84","components","GameImage"];b.k.GameImage.I=b.q;b.k.GameImage.prototype=q(b.q.prototype,{Y_:z("oh"),Q4:function(a){1>a.pa.x&&(a.pa.x=1);1>a.pa.y&&(a.pa.y=1);this.oh=a},rz:z("W"),Bv:x("W"),LI:z("lb"),xb:x("lb"),oe:z("Nc"),Ji:x("Nc"),yU:x("Rd"),Ii:function(a){b.J.Ha.Jm(a)&&""!=a&&(this.De=a,this.mb=this.HD(),this.Sn=null)},HD:function(){return b.J.Ha.ic(this.De)},
L2:z("rl"),wL:function(a,c){this.rl=new b.A(a,c)},N5:x("De"),Pa:z("Qa"),Ad:function(a,c){this.Qa=new b.A(a,c)},dI:function(){if(""!=this.De){var a=this.Cg(),a=null!=this.Rd?new b.A(this.Rd.lb.pa.x,this.Rd.lb.pa.y):new b.A(this.mb.width,this.mb.height);this.Ad(-a.x/2,-a.y/2)}},B5:function(a,c){var e=this.Cg(),e=null!=this.Rd?new b.A(this.Rd.lb.pa.x,this.Rd.lb.pa.y):new b.A(this.mb.width,this.mb.height);this.Ad(-(e.x*a),-(e.y*(1-c)))},nz:z("_alpha"),hp:x("_alpha"),vP:z("Zj"),oU:function(a,c){this.Zj=
new b.A(a,c)},MD:z("Xa"),oA:function(a){this.Xa=a;this.zb=null},YI:z("De"),Cg:function(){if(null!=this.Sn)return this.Sn;null==this.mb&&(this.mb=this.HD());var a=this.j.wc();return null!=this.Rd?this.Sn=new b.A(this.Rd.lb.pa.x*Math.abs(a.x*this.oa.x),this.Rd.lb.pa.y*Math.abs(a.y*this.oa.y)):""==this.De?new b.A(0,0):this.Sn=new b.A(this.mb.width*Math.abs(a.x*this.oa.x),this.mb.height*Math.abs(a.y*this.oa.y))},ND:z("Hf"),pF:x("Hf"),Bd:function(a,c,e){null==e&&(e=1);null==c&&(c=1);null==a&&(a=1);this.oa=
new b.La(a,c,e)},wc:z("oa"),MO:z("Oh"),BT:x("Oh"),render:function(){b.q.prototype.render.call(this);if(0!=this._alpha&&(""!=this.De||null!=this.Rd)){var a=this.j,c=a.O(),e=1,d=new b.A(0,0),k=new b.A(1,1);null!=this.W&&(d=this.W.j,e=this.W._zoomScale,d=d.O(),d=new b.A(-(d.x/this.Oh.x)*k.x,-(d.y/this.Oh.y)*k.y),d.Jg(e,e));null==this.zb&&(this.zb=this.Xa.getCanvas().getContext("2d"));this.zb.save();null!=this.Hf&&(this.zb.translate(d.x/k.x*e,d.y/k.y*e),this.Hf(this.zb,this),this.zb.clip(),this.zb.translate(-d.x*
k.x*e,-d.y*k.y*e));var g=a.wc().Da();g.x*=this.oa.x;g.y*=this.oa.y;this.zb.setTransform(1,this.rl.x/g.x,this.rl.y/g.y,1,1*Math.floor(c.x*k.x*e+d.x),1*Math.floor(c.y*k.y*e+d.y));0!=a.oe().z+this.Nc.z&&this.zb.rotate(b.H.Sa.rf(a.oe().z+this.Nc.z));this.zb.scale(g.x*e,g.y*e);a=this.Qa.Da();null!=this.Rd&&(a.x+=this.Rd.Pa().x,a.y+=this.Rd.Pa().y);this.zb.translate(1*Math.floor(a.x*k.x),1*Math.floor(a.y*k.y));this.zb.globalAlpha=this._alpha;this.zb.scale(1*k.x,1*k.y);null==this.Rd&&null==this.lb?(null==
this.mb&&(this.mb=this.HD()),null==this.oh?this.zb.drawImage(this.mb,0,0):(this.oh.U.x=Math.max(0,this.oh.U.x),this.oh.U.y=Math.max(0,this.oh.U.y),this.zb.drawImage(this.mb,this.oh.U.x,this.oh.U.y,this.oh.pa.x,this.oh.pa.y,0,0,1*this.oh.pa.x*k.x,1*this.oh.pa.y*k.y))):null==this.Rd&&null!=this.lb?(null==this.mb&&(this.mb=b.J.Ha.ic(this.De)),this.zb.drawImage(this.mb,this.lb.U.x,this.lb.U.y,this.lb.pa.x,this.lb.pa.y,0,0,this.lb.pa.x,this.lb.pa.y)):(k=this.Rd.lb,a=b.kc.jf.g().Fo(this.Rd.br),null==this.mb&&
(this.mb=b.J.Ha.ic(a.De)),this.zb.drawImage(a.getImage(),k.U.x,k.U.y,k.pa.x,k.pa.y,0,0,k.pa.x,k.pa.y));this.Xa.Vr(!0);this.zb.restore()}},FK:function(){b.q.prototype.render.call(this);this.zb=this.Xa.getCanvas().getContext("2d");null!=this.Hf&&(this.Hf(this.zb,this),this.zb.clip());this.zb.scale(this.oa.x,this.oa.y);this.zb.rotate(this.Nc.z);if(null==this.Rd&&null==this.lb)null==this.mb&&(this.mb=b.J.Ha.ic(this.De));else if(null==this.Rd&&null!=this.lb)null==this.mb&&(this.mb=b.J.Ha.ic(this.De)),
this.zb.drawImage(this.mb,Math.floor(this.lb.U.x),Math.floor(this.lb.U.y),Math.floor(this.lb.pa.x),Math.floor(this.lb.pa.y),this.Qa.x,this.Qa.y,Math.floor(this.lb.pa.x)+2,Math.floor(this.lb.pa.y)+2);else{var a=this.Rd.lb,c=b.kc.jf.g().Fo(this.Rd.br);null==this.mb&&(this.mb=b.J.Ha.ic(c.De));this.zb.drawImage(this.mb,a.U.x,a.U.y,a.pa.x,a.pa.y,this.Qa.x,this.Qa.y,a.pa.x,a.pa.y)}this.zb.rotate(-this.Nc.z);this.zb.scale(1/this.oa.x,this.oa.y);this.Xa.Vr(!0)},destroy:function(){b.q.prototype.destroy.call(this)},
Ze:function(){b.q.prototype.Ze.call(this);this.W=null},r:b.k.GameImage});b.k.zw=function(a,c,e,d,k){this.qd=this._buffer=this.W=this.Oh=this.zb=this.Xa=this.Mq=null;b.q.call(this,a);this.qd=c;this.W=k;this.Oh=new b.A(1,1);this.zb=null;this.Xa=e;this.Mq=[]};b.k.zw.n=["f84","components","GameImageBatch"];b.k.zw.I=b.q;b.k.zw.prototype=q(b.q.prototype,{MO:z("Oh"),BT:x("Oh"),MD:z("Xa"),oA:x("Xa"),init:function(){b.q.prototype.init.call(this);for(var a=[],c=this.qd.length,e=0;e<c;){var d=e++,d=this.qd[d],
k=d.T(b.k.GameImage),g=d.O().Da(),h=d.wc().Da(),l=d.oe().Da();k.Ad(k.Pa().x+g.x*h.x,k.Pa().y+g.y*h.y);k.Bd(h.x,h.y,1);k.Ji(l);k.mA(this.j);k.oA(this.Xa);d.destroy();a.push(k)}this.Mq=a},render:function(){b.q.prototype.render.call(this);var a=this.Mq.length;if(0!=a)if(null==this.W){var c=new b.A(1,1),e=this.Xa.getCanvas().getContext("2d");e.save();e.setTransform(1*c.x,0,0,1*c.y,0,0);for(c=0;c<a;){var d=c++;this.Mq[d].FK()}e.restore()}else{var d=1,k=new b.A(0,0),g=new b.A(1,1),e=new b.La(0,0);null!=
this.W&&(e=this.W.j,d=this.W._zoomScale,e=e.O(),k=new b.A(1*-(e.x/this.Oh.x)*g.x,1*-(e.y/this.Oh.y)*g.y),k.Jg(d,d));c=this.Xa.getCanvas().getContext("2d");c.save();c.setTransform(1*d*g.x,0,0,1*d*g.y,Math.floor(k.x),Math.floor(k.y));this.W.JP();this.Mq[0].Cg();for(d=0;d<a;){var g=d++,g=this.Mq[g],k=g.Pa().Da(),h=g.wc(),l=g.Cg().x,m=g.Cg().y;k.Jg(h.x,h.y);k.x-l>e.x+800||(k.x+l<e.x-800||k.y-m>e.y+600||k.y+m<e.y-600)||g.FK()}c.restore()}},r:b.k.zw});b.k.Zs=function(a,c,e,d){this.rl=this.Nc=this.zb=null;
this._alpha=1;this.he=null;this.Vg=!0;this.Hf=null;this.xl=1;this.va=0;b.q.call(this,a);this.fd=c;this.Oh=new b.A(1,1);this.Xa=e;this.Zj=new b.A;this.Qa=new b.A;this.W=d;this.oa=new b.La(1,1,1);this.rl=new b.A;this.Nc=new b.La(0,0,0)};b.k.Zs.n=["f84","components","GameSprite"];b.k.Zs.I=b.q;b.k.Zs.prototype=q(b.q.prototype,{rz:z("W"),Bv:x("W"),oU:x("Zj"),vP:z("Zj"),Pa:z("Qa"),Ad:function(a,b){this.Qa.x=a;this.Qa.y=b},HP:z("xl"),tF:x("xl"),MD:z("Xa"),oA:x("Xa"),ND:z("Hf"),pF:x("Hf"),update:function(){b.q.prototype.update.call(this);
if(this.Vg){var a=b.J.ke.g().vi(this.fd);this.va+=b.D.eb()*this.xl;this.va>=a.Dc()&&(a.ki?this.va-=a.Dc():(this.va=a.Dc(),this.stop()),null!=this.he&&(a=this.he,this.he=null,a(this.j)))}},nz:z("_alpha"),hp:x("_alpha"),setPosition:x("va"),O:z("va"),ip:function(a,b,c){null==c&&(c=!1);if(this.fd!=a||c)this.va=0;this.fd=a;this.he=b;this.Vg=!0},AD:z("fd"),play:function(){this.Vg=!0},stop:function(){this.Vg=!1},playing:z("Vg"),qA:x("he"),mJ:z("he"),render:function(){b.q.prototype.render.call(this);var a=
this.j,c=a.O(),e=b.J.ke.g().vi(this.fd);if(null!=e){var d=e.qJ(this.va),k=e.rJ(this.va),d=b.kc.jf.g().Fo(k).zz(d),g=1,h=new b.A(0,0),k=new b.A(1,1);this.Xa.getCanvas().getContext("2d");this.j.oe();this.j.wc();null!=this.W&&(h=this.W.j,g=this.W._zoomScale,h=h.O(),h=new b.A(-(h.x/this.Oh.x)*k.x,-(h.y/this.Oh.y)*k.y),h.Jg(g,g));null==this.zb&&(this.zb=this.Xa.getCanvas().getContext("2d"));var l=a.wc().Da();l.x*=this.oa.x;l.y*=this.oa.y;this.zb.save();null!=this.Hf&&(this.zb.translate(h.x/k.x*g,h.y/k.y*
g),this.Hf(this.zb,this),this.zb.clip(),this.zb.translate(-h.x*k.x*g,-h.y*k.y*g));this.zb.setTransform(1,this.rl.x/l.x,this.rl.y/l.y,1,1*Math.floor(c.x*k.x*g+h.x),1*Math.floor(c.y*k.y*g+h.y));this.zb.rotate(b.H.Sa.rf(a.oe().z+this.Nc.z));this.zb.scale(l.x*g,l.y*g);a=this.Qa.Da();null!=d&&(a.x+=d.Pa().x+e.Pa().x,a.y+=d.Pa().y+e.Pa().y);this.zb.translate(1*Math.floor(a.x*k.x),1*Math.floor(a.y*k.y));this.zb.globalAlpha=this._alpha;this.zb.scale(1*k.x,1*k.y);e=d.lb;a=b.kc.jf.g().Fo(d.br);this.zb.drawImage(a.getImage(),
e.U.x,e.U.y,e.pa.x,e.pa.y,0,0,e.pa.x,e.pa.y);this.Xa.Vr(!0);this.zb.restore()}},r:b.k.Zs});b.k.Ih=function(a,c,e,d){null==d&&(d="");null==e&&(e="");this.VF=!1;this.dl="";this.Yb=null;this.Ox=!0;b.q.call(this,a);this.du=e;this.dl=d;this.Xa=c;this.AA()};b.k.Ih.n=["f84","components","HtmlElements"];b.k.Ih.f6=function(a,c){null==c&&(c=!0);var e=b.k.Ih.FD(s.Na(),a);null!=e?e.style.display=c?"block":"none":b.H.Wb.log("Could not find element with id of "+a+" to "+(c?"show":"hide"))};b.k.Ih.tJ=function(a){for(var c=
r.Gb(a.style.top),e=r.Gb(a.style.left);;)if(null!=a.parentNode&&Object.prototype.hasOwnProperty.call(a.parentNode,"style")&&"layer"!=a.parentElement.className)c+=r.Gb(a.parentElement.style.top),e+=r.Gb(a.parentElement.style.left),a=a.parentElement;else break;return new b.A(e,c)};b.k.Ih.c5=function(a,c){var e=s.kd().getElementById(a);null==e?b.H.Wb.log("Could not find '"+a+"' on the page!"):e.innerHTML=c};b.k.Ih.FD=function(a,c){for(var e=a.children.length,d=0;d<e;){var k=d++,k=a.children[k];if(k.id==
c||k.hasChildNodes()&&(k=b.k.Ih.FD(k,c),null!=k))return k}return null};b.k.Ih.I=b.q;b.k.Ih.prototype=q(b.q.prototype,{init:function(){b.q.prototype.init.call(this);this.j.addEventListener("displayUpdate",u(this,this.Pr))},T_:function(a){return s.kd().getElementById(a)},N4:function(a,c){var e=b.k.Ih.FD(this.QI(),a);null!=e&&(e.innerHTML=c);this.du=this.QI().innerHTML},QI:function(){null==this.Yb&&this.Ox&&this.AA();return this.Yb},update:function(){b.q.prototype.update.call(this);null!=this.Yb&&this.Ox&&
this.AA();null!=this.Yb&&this.VF&&this.sp();this.Yb.style.display=this.j.Co()?"block":"none"},AA:function(){b.H.Wb.log("updateHtml");null!=this.Yb&&null!=this.Yb.parentNode&&this.Yb.parentNode.removeChild(this.Yb);this.Ox=!1;this.Yb=s.kd().createElement("div");this.Yb.className=this.dl;this.Yb.innerHTML=this.du;this.Yb.style.position="absolute";this.Yb.style.webkitTransform="translate(0, 0px) scale("+this.j.wc().x*b.D.g().Fd().x+","+this.j.wc().y*b.D.g().Fd().y+")";this.Yb.style.transform="translate(0, 0px) scale("+
this.j.wc().x*b.D.g().Fd().x+","+this.j.wc().y*b.D.g().Fd().y+")";this.Xa.Na().appendChild(this.Yb);this.sp()},sp:function(){this.Yb.style.left=this.j.O().x*b.D.g().Fd().x-(this.$F?this.Yb.clientWidth/2:0)+"px";this.Yb.style.top=this.j.O().y*b.D.g().Fd().y-(this.$F?this.Yb.clientHeight/2:0)+"px"},h5:function(a){null==this.Yb&&this.Ox&&this.AA();this.ii=a;this.Yb.id=a},XI:z("ii"),r1:z("du"),g5:x("du"),O4:x("dl"),JI:z("dl"),vZ:function(a){this.dl=0<this.dl.length?this.dl+(" "+a):a},w4:function(a){this.dl=
F.replace(this.dl,a,"")},x_:function(){this.du=this.Yb.innerHTML},NZ:function(a){null==a&&(a=!0);this.$F=a;this.sp()},Cg:function(){return new b.A(this.Yb.clientWidth*b.D.g().Fd().y,this.Yb.clientHeight*b.D.g().Fd().y)},destroy:function(){b.q.prototype.destroy.call(this);null!=this.Yb.parentNode&&this.Xa.Na().removeChild(this.Yb)},Je:function(a,c){b.q.prototype.Je.call(this,a,c)},Pr:t(),yZ:function(a){null==a&&(a=!0);this.VF=a},r:b.k.Ih});b.k.Jh=function(a,c,e,d,k,g,h,l,m){null==m&&(m=0);null==l&&
(l=0);null==h&&(h=!1);this.$x=0;this.DB=!1;this.Yq="";this.tb=null;this.Zg=this.Bm=this.dx=this.ol=0;b.q.call(this,a);this.dx=d;this.ol=k;this.Bm=g;this.Yq=e;this.tb=c;this.DB=h;this.Zg=l;this.$x=m};b.k.Jh.n=["f84","components","PropertySineWave"];b.k.Jh.I=b.q;b.k.Jh.prototype=q(b.q.prototype,{A2:z("Bm"),vA:x("Bm"),P1:z("ol"),rL:x("ol"),Q1:z("$x"),sL:x("$x"),K_:z("dx"),H4:x("dx"),update:function(){b.q.prototype.update.call(this);0<this.ol&&(this.ol-=this.$x*b.D.eb(),0>this.ol&&(this.ol=0),this.Zg+=
this.Bm*b.D.eb(),this.Zg>=(this.DB?Math.PI:2*Math.PI)&&(this.Zg=this.DB?this.Zg-Math.PI:this.Zg-2*Math.PI),K.setProperty(this.tb,this.Yq,this.dx+Math.sin(this.Zg)*this.ol))},r:b.k.Jh});b.k.Pd=function(a,c){this.$d=this.cx=this.yg=null;b.q.call(this,a);this.$d=new b.La;this.cx=new b.La;null!=c&&(this.yg=c.Da())};b.k.Pd.n=["f84","components","SimpleMovement"];b.k.Pd.I=b.q;b.k.Pd.prototype=q(b.q.prototype,{init:function(){b.q.prototype.init.call(this)},Jb:function(){b.q.prototype.Jb.call(this);null!=
this.yg&&(this.$d.x+=this.yg.x*b.D.eb(),this.$d.y+=this.yg.y*b.D.eb(),this.$d.z+=this.yg.z*b.D.eb());var a=this.$d.Da();a.Jg(b.D.eb());var c=this.cx.Da();c.Jg(b.D.eb());var e=this.j.getLocalPosition();this.j.dJ();this.j.setPosition(e.x+a.x,e.y+a.y,e.z+a.z);this.j.rotate(c.x,c.y,c.z)},z3:function(a){return b.H.Sa.oz(a,new b.A(this.$d.x,this.$d.y))},Pm:function(){b.q.prototype.Pm.call(this);this.$d.x=0;this.$d.y=0;this.$d.z=0},Ou:function(){return this.yg.Da()},Ev:function(a){this.yg=new b.La(a.x,a.y,
a.z)},Gd:z("$d"),xZ:function(a,c,e){null==e&&(e=0);null==c&&(c=0);null==a&&(a=0);this.$d=this.$d.add(new b.La(a,c,e))},cd:function(a,c,e){null==e&&(e=0);null==c&&(c=0);null==a&&(a=0);this.$d=new b.La(a,c,e)},Z5:function(a){this.$d.x=a},a6:function(a){this.$d.y=a},b6:function(a){this.$d.z=a},m3:function(){return this.$d.x},n3:function(){return this.$d.y},o3:function(){return this.$d.z},zD:z("cx"),$h:x("cx"),r:b.k.Pd});b.k.Mn=function(a,c){null==c&&(c=0.5);this.sl=1;this.sh=null;b.q.call(this,a);this.sl=
c};b.k.Mn.n=["f84","components","SlackMovement"];b.k.Mn.I=b.q;b.k.Mn.prototype=q(b.q.prototype,{M2:z("sl"),xL:x("sl"),Jb:function(){b.q.prototype.Jb.call(this);if(null!=this.sh){var a=this.sh.Kv(this.j.O()),c=a.Dc();0!=c&&(a=a.Kf(),a.Jg(c*this.sl),5E-5>a.x&&-5E-5<a.x&&(a.x=0),5E-5>a.y&&-5E-5<a.y&&(a.y=0),5E-5>a.z&&-5E-5<a.z&&(a.z=0),c=this.j.O().Da(),this.j.setPosition(c.x+a.x,c.y+a.y,c.z+a.z))}},lk:z("sh"),Aj:function(a,c,e){this.sh=new b.La(a,c,e)},r:b.k.Mn});b.k.$i=function(a,c,e){this.Em=this.iB=
null;this.JB="";this.Hf=null;this._alpha=1;this.HH=-1;this.Qq=8;this.li=1024;this.Dy="middle";this.th="center";this.Cx="white";this.zB="Arial";this.Vj="16pt";this._text="";b.q.call(this,a);this.Xa=c;this.Zj=new b.A;this.W=e;null==b.k.$i.oG&&(b.k.$i.oG=s.Od().getComputedStyle(s.kd().body))};b.k.$i.n=["f84","components","TextField"];b.k.$i.I=b.q;b.k.$i.prototype=q(b.q.prototype,{MD:z("Xa"),oA:x("Xa"),nz:z("_alpha"),hp:x("_alpha"),ND:z("Hf"),pF:x("Hf"),TI:function(){return this.Vj+" "+this.zB},b1:z("zB"),
iL:x("zB"),d1:z("Vj"),e5:function(a){this.Vj=a;this.Jv()},L1:z("Qq"),p5:x("Qq"),X0:z("Cx"),VT:x("Cx"),pP:z("li"),lp:x("li"),w3:z("HH"),d6:x("HH"),ve:z("_text"),setText:function(a){this.JB!=a&&(this.JB=this._text=a,this.Jv())},Z2:z("Dy"),R5:x("Dy"),Q5:x("th"),Y2:z("th"),b3:function(){var a=this.Xa.getCanvas().getContext("2d");a.font=this.TI();a.fillStyle=this.Cx;a.textAlign=this.th;a.textBaseline=this.Dy;a.globalAlpha=this._alpha;for(var b=this._text.split("\n"),c=b.length,d=0,k=0;k<c;){for(var g=
k++,h="",g=b[g].split(" "),l=this.Vj.substring(0,this.Vj.length-2),m=0,p=g.length;m<p;){var q=m++,h=h+g[q]+" ";a.measureText(h).width>this.li&&(h=g[q]+" ",d+=parseFloat(l)+parseFloat(this.Qq))}d+=parseFloat(l)+parseFloat(this.Qq)}return d},rV:function(a,b,c){for(var d=this._text.split("\n"),k=d.length,g=0;g<k;){for(var h=g++,l="",h=d[h].split(" "),m=this.Vj.substring(0,this.Vj.length-2),p=0,q=h.length;p<q;){var s=p++,r=l+h[s]+" ";c.measureText(r).width>this.li?(c.fillText(l,a,b),l=h[s]+" ",b+=parseFloat(m)+
parseFloat(this.Qq)):l=r}c.fillText(l,a,b);b+=parseFloat(m)+parseFloat(this.Qq)}},render:function(){b.q.prototype.render.call(this);var a=this.Xa.getCanvas().getContext("2d"),c=this.j.O().Da(),e=this.j.oe().z,d=this.j.wc();a.save();null!=this.Hf&&(a.scale(1,1),this.Hf(a,this),a.clip(),a.scale(1,1));if(null!=this.W){var k=this.W.j;a.translate(1*-k.O().x,1*-k.O().y)}a.translate(1*(c.x+this.Zj.x),1*(c.y+this.Zj.y));a.rotate(b.H.Sa.rf(e));a.translate(-(1*(c.x+this.Zj.x)*d.x),1*-((c.y+this.Zj.y)*d.y));
a.scale(1*d.x,1*d.y);a.imageSmoothingEnabled=!0;a.font=this.TI();a.fillStyle=this.Cx;a.textAlign=this.th;a.textBaseline=this.Dy;a.globalAlpha=this._alpha;this.rV(c.x,c.y,a);this.Xa.Vr(!0);a.restore()},Jv:function(){var a;a=s.kd().createElement("div");a.innerHTML=this.JB;var c=C.parse(a.outerHTML);if(c.Ma("div").xc()){c=c.Ma("div").next();if(c.Ma("font").xc()){var e=c.Ma("font").next();e.Eb("size")&&(-1!=e.get("size").indexOf("px")?this.Vj=r.Gb(e.get("size"))+"px":this.Vj=r.Gb(e.get("size"))+"pt")}c.Ma("span").xc()&&
(c=c.Ma("span").next(),c.Eb("class")||c.Eb("id")||c.Eb("style"))&&(null==this.Em&&(this.Em=s.kd().createElement("span"),this.Em.style.display="none",c.Eb("id")&&(this.Em.id=c.get("id")),c.Eb("class")&&(this.Em.className=c.get("class")),c.Eb("style")&&(this.Em.style.cssText=c.get("style")),this.iB=s.Od().getComputedStyle(this.Em),s.Na().appendChild(this.Em)),this.iB.fontSize!=b.k.$i.oG.fontSize&&(this.Vj=this.iB.fontSize))}this._text=b.D.dE()?a.textContent:a.innerText},r:b.k.$i});b.k.TA=t();b.k.TA.n=
["f84","components","Trigger"];b.k.TA.prototype={r:b.k.TA};b.k.aj=function(a,c,e){this.Xn=this.Cy=null;b.q.call(this,a);this.Cy=c;this.Qa=null==e?new b.A:e;this.Xn=[]};b.k.aj.n=["f84","components","TriggerActivator"];b.k.aj.I=b.q;b.k.aj.prototype=q(b.q.prototype,{Pa:z("Qa"),Ad:function(a,b){this.Qa.x=a;this.Qa.y=b},update:function(){b.q.prototype.update.call(this);for(var a=b.J.le.g().kf.length,c=0;c<a;){var e=c++,e=b.J.le.g().kf[e];if(null==this.Cy||this.XU(e)){var d=this.j.O();e.ue(new b.A(d.x+
this.Qa.x,d.y+this.Qa.y))?this.KD(e)?this.KD(e)&&e.mR(this.j):(e.wa(this.j),this.Xn.push(e),e.j.addEventListener("destroy",u(this,this.UE))):this.KD(e)&&(e.Ta(this.j),this.OK(e))}}},UE:function(a){a=a.target;this.OK(a.T(b.k.mg));a.removeEventListener("destroy",u(this,this.UE))},OK:function(a){for(var b=this.Xn.length-1;0<=b;){var c=this.Xn[b];if(c==a){c.j.removeEventListener("destroy",u(this,this.UE));this.Xn.splice(b,1);break}b--}},XU:function(a){if(null==a)return!1;for(var b=this.Cy.length,c=0;c<
b;){var d=c++;if(a.mk(this.Cy[d]))return!0}return!1},KD:function(a){for(var b=this.Xn.length,c=0;c<b;){var d=c++;if(this.Xn[d]==a)return!0}return!1},hd:function(){b.q.prototype.hd.call(this);var a=b.D.g().vf("debug").getCanvas().getContext("2d");a.save();var c=b.k.Camera.He().j,e=b.k.Camera.He()._zoomScale,d=b.k.Camera.He().T(b.v.Xi);a.translate(-c.O().x*e+d.Ef.x,-c.O().y*e+d.Ef.y);a.scale(e,e);c=this.j.O().add(new b.La(this.Qa.x,this.Qa.y));a.beginPath();a.globalAlpha=0.65;a.lineWidth=1;a.strokeStyle=
"#FF0000";a.moveTo(c.x,c.y-4);a.lineTo(c.x,c.y+4);a.moveTo(c.x-4,c.y);a.lineTo(c.x+4,c.y);a.moveTo(c.x-4,c.y-4);a.lineTo(c.x+4,c.y+4);a.moveTo(c.x+4,c.y-4);a.lineTo(c.x-4,c.y+4);a.stroke();a.restore()},r:b.k.aj});b.k.Ac=function(a){this.wl=null;b.q.call(this,a);this.wl=[]};b.k.Ac.n=["f84","components","Tweener"];b.k.Ac.I=b.q;b.k.Ac.prototype=q(b.q.prototype,{init:function(){b.q.prototype.init.call(this)},sa:function(a,c,e,d,k,g,h,l,m){null==h&&(h=0);a=new b.k.ma.Zw(a,c,e,d,k,g,h,l,m);this.wl.push(a);
return a},h6:function(){for(var a=this.wl.length,b=0;b<a;){var c=b++;this.wl[c].CL()}},hO:function(a){w.remove(this.wl,a)},tI:function(){this.wl=[]},update:function(){b.q.prototype.update.call(this);for(var a=this.wl.length-1;0<=a;){var c=this.wl[a];c.update(b.D.eb());c.Nx&&this.wl.splice(a,1);a--}},r:b.k.Ac});b.k.buttons={};b.k.buttons.Lg=function(a,c,e,d){this.Zx=!1;this.qm=!0;this.bl=this.RB=this.Sg=null;this.kB=0;b.q.call(this,a);this.kB=e;this.bl=c;this.RB=d};b.k.buttons.Lg.n=["f84","components",
"buttons","ButtonActionDelay"];b.k.buttons.Lg.NI=function(){return b.k.buttons.Lg.Tt};b.k.buttons.Lg.I=b.q;b.k.buttons.Lg.prototype=q(b.q.prototype,{C5:x("bl"),init:function(){b.q.prototype.init.call(this);this.Sg=new b.k.Jp(this.j);this.j.addEventListener("mouseDown",u(this,this.onMouseDown))},onMouseDown:function(){this.qm&&!b.k.buttons.Lg.Tt&&(this.qm=!1,this.Zx=!0,null!=this.RB&&this.RB(),this.Sg.ro(this.kB,u(this,this.AR)))},ee:function(){b.q.prototype.update.call(this);this.Zx&&(b.k.buttons.Lg.Tt=
!0);this.Zx=!1},AR:function(){this.Zx=b.k.buttons.Lg.Tt=!1;null!=this.bl&&this.bl();this.qm=!0},destroy:function(){b.q.prototype.destroy.call(this);0<=this.kB&&(b.k.buttons.Lg.Tt=!1)},r:b.k.buttons.Lg});b.k.buttons.Dp=function(a,c,e,d,k){null==k&&(k=!0);this.UF=!0;this.Ht=this.$=null;this.XB=!1;b.q.call(this,a);this.qy=c;this.ry=e;this.py=d;this.UF=k;this.j.addEventListener("mouseDown",u(this,this.onMouseDown))};b.k.buttons.Dp.n=["f84","components","buttons","ButtonMouseDownPulse"];b.k.buttons.Dp.I=
b.q;b.k.buttons.Dp.prototype=q(b.q.prototype,{init:function(){b.q.prototype.init.call(this);this.Ht=this.T(b.k.buttons.xn);this.$=new b.k.Ac(this.j)},vI:function(){this.j.removeEventListener("mouseDown",u(this,this.onMouseDown))},zI:function(){this.j.addEventListener("mouseDown",u(this,this.onMouseDown))},onMouseDown:function(){if(!this.XB&&!b.k.buttons.Lg.NI()){var a=this.j.T(b.ba.Oa);this.XB=!0;null!=this.Ht&&this.Ht.Xd(!1);null!=a?(this.$.sa(a.oa,"x",this.qy,this.ry,this.py,b.k.ma.qa.gk,0,u(this,
this.rK)),this.$.sa(a.oa,"y",this.qy,this.ry,this.py,b.k.ma.qa.gk,0)):(this.$.sa(this.j.oa,"x",this.qy,this.ry,this.py,b.k.ma.qa.gk,0,u(this,this.rK)),this.$.sa(this.j.oa,"y",this.qy,this.ry,this.py,b.k.ma.qa.gk,0))}},rK:function(){this.UF||(this.XB=!1,null!=this.Ht&&this.Ht.Xd(!0))},r:b.k.buttons.Dp});b.k.buttons.Rk=function(a,c,e){this.xg=this.rh=null;b.q.call(this,a);this.Rt=c;this.dC=e;this.j.addEventListener("mouseOver",u(this,this.Gi));this.j.addEventListener("mouseOut",u(this,this.onMouseOut))};
b.k.buttons.Rk.n=["f84","components","buttons","ButtonMouseOverImage"];b.k.buttons.Rk.I=b.q;b.k.buttons.Rk.prototype=q(b.q.prototype,{kF:function(a){this.Rt=a;this.BA(this.Rt)},qF:function(a){this.dC=a;this.BA(this.dC)},init:function(){b.q.prototype.init.call(this);this.xg=this.T(b.k.GameImage);null!=this.xg&&(this.xg.Ii(this.Rt),this.xg.dI());this.rh=this.T(b.v.ea);null!=this.rh&&(this.rh.Ii(this.Rt),this.rh.V().anchor=new PIXI.Point(0.5,0.5))},vI:function(){this.j.removeEventListener("mouseOver",
u(this,this.Gi));this.j.removeEventListener("mouseOut",u(this,this.onMouseOut))},zI:function(){this.j.addEventListener("mouseOver",u(this,this.Gi));this.j.addEventListener("mouseOut",u(this,this.onMouseOut))},Gi:function(){this.BA(this.dC)},onMouseOut:function(){this.BA(this.Rt)},BA:function(a){null==this.xg&&(this.xg=this.T(b.k.GameImage));if(null!=this.xg){if(this.xg.De==a)return;this.xg.Xd(!0);this.xg.Ii(a);this.xg.dI()}null==this.rh&&(this.rh=this.T(b.v.ea));null!=this.rh&&this.rh.Ii(a)},r:b.k.buttons.Rk});
b.k.buttons.xn=function(a,c,e,d,k){null==e&&(e=0.35);null==c&&(c=1.25);this.ex=this.fx=1;this.Rn=this.$=null;b.q.call(this,a);this.yy=c;this.Cm=e;this.Wq=d;this.Vq=k;null==this.Wq&&(this.Wq=b.k.ma.qa.dh);null==this.Vq&&(this.Vq=b.k.ma.qa.dh);this.ex=this.j.oa.x;this.fx=this.j.oa.y;this.j.addEventListener("mouseOver",u(this,this.Gi));this.j.addEventListener("mouseOut",u(this,this.onMouseOut))};b.k.buttons.xn.n=["f84","components","buttons","ButtonMouseOverScale"];b.k.buttons.xn.I=b.q;b.k.buttons.xn.prototype=
q(b.q.prototype,{ep:function(){b.q.prototype.ep.call(this);this.$.Xd(!1)},bp:function(){b.q.prototype.bp.call(this);this.$.Xd(!0)},init:function(){b.q.prototype.init.call(this);this.$=new b.k.Ac(this.j);var a=this.j.T(b.ba.Oa);null!=a&&(this.ex=a.oa.x,this.fx=a.oa.y)},vI:function(){this.onMouseOut(null);this.j.removeEventListener("mouseOver",u(this,this.Gi))},zI:function(){this.j.addEventListener("mouseOver",u(this,this.Gi))},Gi:function(){var a=this.j.T(b.ba.Oa);if(!b.k.buttons.Lg.NI())if(this.$.tI(),
null!=a){var c=a.oa.y;this.$.sa(a.oa,"x",a.oa.x,this.yy,this.Cm,this.Wq);this.$.sa(a.oa,"y",c,this.yy,this.Cm,this.Wq)}else a=this.j.oa.y,this.$.sa(this.j.oa,"x",this.j.oa.x,this.yy,this.Cm,this.Wq),this.$.sa(this.j.oa,"y",a,this.yy,this.Cm,this.Wq)},onMouseOut:function(){if(null!=this.$){var a=this.j.T(b.ba.Oa);this.$.tI();if(null!=a){var c=a.oa.y;this.$.sa(a.oa,"x",a.oa.x,this.ex,this.Cm,this.Vq);this.$.sa(a.oa,"y",c,this.fx,this.Cm,this.Vq)}else a=this.j.oa.y,this.$.sa(this.j.oa,"x",this.j.oa.x,
this.ex,this.Cm,this.Vq),this.$.sa(this.j.oa,"y",a,this.fx,this.Cm,this.Vq)}},r:b.k.buttons.xn});b.k.buttons.Ep=function(a,c,e){b.q.call(this,a);this.Dm=c;this.BM=e};b.k.buttons.Ep.n=["f84","components","buttons","ButtonSoundPlay"];b.k.buttons.Ep.I=b.q;b.k.buttons.Ep.prototype=q(b.q.prototype,{init:function(){b.q.prototype.init.call(this);this.j.addEventListener("mouseDown",u(this,this.onMouseDown));this.j.addEventListener("mouseOver",u(this,this.Gi))},onMouseDown:function(){""!=this.Dm&&b.audio.SoundManager.Wc(this.Dm)},
Gi:function(){""!=this.Dm&&b.audio.SoundManager.Wc(this.BM)},destroy:function(){b.q.prototype.destroy.call(this);this.j.removeEventListener("mouseDown",u(this,this.onMouseDown))},r:b.k.buttons.Ep});b.k.Ud={};b.k.Ud.Af=function(a,c,e){b.k.mg.call(this,a,e);this.Qb=c};b.k.Ud.Af.n=["f84","components","colliders","BoxCollider"];b.k.Ud.Af.I=b.k.mg;b.k.Ud.Af.prototype=q(b.k.mg.prototype,{update:function(){b.k.mg.prototype.update.call(this);var a=this.j.O().Da(),c;c=null!=this.Qa?this.Qa:new b.La;this.Qb.U.x=
a.x-this.Qb.pa.x/2+c.x*this.j.wc().x;this.Qb.U.y=a.y-this.Qb.pa.y/2+c.y*this.j.wc().y},ue:function(a){return this.Qb.ue(a)},Ie:function(a,b,c,d,k){null==d&&(d=!1);return this.Qb.Ie(a,b,c,d,k)},hd:function(){b.k.mg.prototype.hd.call(this);var a=b.D.g().vf("debug").getCanvas().getContext("2d");a.save();if(null!=b.k.Camera.He()){var c=b.k.Camera.He().j,e=b.k.Camera.He()._zoomScale,d=b.k.Camera.He().T(b.v.Xi);a.translate(-c.O().x*e+d.Ef.x,-c.O().y*e+d.Ef.y);a.scale(e,e)}a.beginPath();a.lineWidth=1;a.strokeStyle=
"#FF0000";a.moveTo(this.Qb.U.x,this.Qb.U.y);a.lineTo(this.Qb.U.x+this.Qb.pa.x,this.Qb.U.y);a.lineTo(this.Qb.U.x+this.Qb.pa.x,this.Qb.U.y+this.Qb.pa.y);a.lineTo(this.Qb.U.x,this.Qb.U.y+this.Qb.pa.y);a.lineTo(this.Qb.U.x,this.Qb.U.y);a.stroke();a.restore()},Ao:z("Qb"),r:b.k.Ud.Af});b.k.Ud.dq=function(a,c,e){b.k.mg.call(this,a,e);this.Qb=c};b.k.Ud.dq.n=["f84","components","colliders","PolygonCollider"];b.k.Ud.dq.I=b.k.mg;b.k.Ud.dq.prototype=q(b.k.mg.prototype,{update:function(){b.k.mg.prototype.update.call(this);
var a=this.j.O().Da(),c;c=null!=this.Qa?this.Qa:new b.La;this.Qb.U.x=a.x-this.Qb.pa.x/2+c.x*this.j.wc().x;this.Qb.U.y=a.y-this.Qb.pa.y/2+c.y*this.j.wc().y},ue:function(a){return this.Qb.ue(a)},Ie:function(a,b,c,d,k){null==d&&(d=!1);return this.Qb.Ie(a,b,c,d,k)},hd:function(){b.k.mg.prototype.hd.call(this);var a=b.D.g().vf("debug").getCanvas().getContext("2d");a.save();if(null!=b.k.Camera.He()){var c=b.k.Camera.He().j,e=b.k.Camera.He()._zoomScale,d=b.k.Camera.He().T(b.v.Xi);a.translate(-c.O().x*e+
d.Ef.x,-c.O().y*e+d.Ef.y);a.scale(e,e)}a.beginPath();a.lineWidth=1;a.strokeStyle="#FF0000";c=this.Qb.Qe.length;for(e=0;e<c;)d=e++,0==d?a.moveTo(this.Qb.U.x+this.Qb.Qe[d].x,this.Qb.U.y+this.Qb.Qe[d].y):a.lineTo(this.Qb.U.x+this.Qb.Qe[d].x,this.Qb.U.y+this.Qb.Qe[d].y);a.lineTo(this.Qb.U.x+this.Qb.Qe[0].x,this.Qb.U.y+this.Qb.Qe[0].y);a.stroke();a.restore()},Ao:z("Qb"),r:b.k.Ud.dq});b.k.Jf={};b.k.Jf.bs=function(a,b,c){this.va=this.PC=0;this.va=a;this.PC=b;this.br=c};b.k.Jf.bs.n=["f84","components","flashAnimation",
"AnimationKeyframe"];b.k.Jf.bs.prototype={O:z("va"),r:b.k.Jf.bs};b.k.ma={};b.k.ma.qa=t();b.k.ma.qa.n=["f84","components","tween","EasingFunctions"];b.k.ma.qa.dh=function(a,b,c,d){return b+c*(a/d)};b.k.ma.qa.u_=function(a,b,c,d){return c*(-Math.pow(2,-10*a/d)+1)+b};b.k.ma.qa.q_=function(a,b,c,d){a/=d;return c*a*a*a+b};b.k.ma.qa.t_=function(a,b,c,d){a/=d;a--;return c*(a*a*a+1)+b};b.k.ma.qa.rr=function(a,b,c,d){a/=d;return c*a*a+b};b.k.ma.qa.Ed=function(a,b,c,d){a/=d;return-c*a*(a-2)+b};b.k.ma.qa.r_=
function(a,b,c,d){a/=d;return c*a*a*a*a*a+b};b.k.ma.qa.Ue=function(a,b,c,d){a/=d;a--;return c*(a*a*a*a*a+1)+b};b.k.ma.qa.s_=function(a,b,c,d){a/=d;return 0.36363636363636365>a?c*7.5625*a*a+b:0.7272727272727273>a?c*(7.5625*(a-=0.5454545454545454)*a+0.75)+b:0.9090909090909091>a?c*(7.5625*(a-=0.8181818181818182)*a+0.9375)+b:c*(7.5625*(a-=0.9545454545454546)*a+0.984375)+b};b.k.ma.qa.p_=function(a,b,c,d){return c*(a/=d)*a*(2.70158*a-1.70158)+b};b.k.ma.qa.gk=function(a,b,c,d){return c*((a=a/d-1)*a*(3.70158*
a+2.70158)+1)+b};b.k.ma.Zw=function(a,b,c,d,k,g,h,l,m){this.Uj=0;this.Nx=!1;this.bl=this.cH=null;this.aG=this.St=0;this.tb=this.sG=null;this.Yq="";this.fB=this.uB=this.Mb=0;this.tb=a;this.Yq=b;this.fB=c;this.uB=d;this.Mb=k;this.sG=g;this.St=h;this.bl=l;this.cH=m};b.k.ma.Zw.n=["f84","components","tween","Tween"];b.k.ma.Zw.prototype={update:function(a){this.aG=this.uB-this.fB;this.Uj+=a;this.Uj<this.St||(this.Uj>this.Mb+this.St&&(this.Uj=this.Mb+this.St),a=0,a=this.sG(this.vJ(),this.fB,this.aG,this.Mb),
K.setProperty(this.tb,this.Yq,a),null!=this._onUpdate&&this._onUpdate(),!this.Nx&&this.vJ()>=this.Mb&&(this.Nx=!0,null!=this.bl&&(a=this.bl,this.bl=null,a(this.cH))))},CL:function(){K.setProperty(this.tb,this.Yq,this.uB);this.Nx=!0;this.Uj=this.Mb},vJ:function(){return Math.max(0,this.Uj-this.St)},r:b.k.ma.Zw};b.S.zc=function(a,c){this.data=null;b.S.Ea.call(this,a);this.data=c};b.S.zc.n=["f84","events","EntityEvent"];b.S.zc.I=b.S.Ea;b.S.zc.prototype=q(b.S.Ea.prototype,{r:b.S.zc});b.S.sw=function(a,
b){this.rD=a;this.action=b};b.S.sw.n=["f84","events","EventListener"];b.S.sw.prototype={r:b.S.sw};b.S.ei=function(a){b.S.Ea.call(this,a)};b.S.ei.n=["f84","events","GameObjectEvent"];b.S.ei.I=b.S.Ea;b.S.ei.prototype=q(b.S.Ea.prototype,{r:b.S.ei});b.S.fq=function(a,c,e){this.start=this.end=null;b.S.Ea.call(this,a);this.start=c;this.end=e};b.S.fq.n=["f84","events","RaycastCheckEvent"];b.S.fq.I=b.S.Ea;b.S.fq.prototype=q(b.S.Ea.prototype,{r:b.S.fq});b.Jf={};b.Jf.FlashAnimation=function(a,c,e,d,k,g){this.lH=
0;this.he=this._parts=this._partInstances=this.W=null;this._alpha=1;this.vH=null;this.fd="";this.hj=null;this.Px=this.Vg=!0;this.yG=0;this.IM=1;this.va=0;this._animation=null;b.q.call(this,a);this._animation=JSON.parse(b.J.Ha.ic(c));this.fd=d;this.hj=[];this._parts=this._animation.parts;this._partInstances=this._animation.part_instances;this.Xa=k;this.W=g;this.vH=b.kc.jf.g().Fo(e)};b.Jf.FlashAnimation.n=["f84","flashAnimation","FlashAnimation"];b.Jf.FlashAnimation.I=b.q;b.Jf.FlashAnimation.prototype=
q(b.q.prototype,{mJ:z("he"),qA:x("he"),rz:z("W"),Bv:x("W"),init:function(){b.q.prototype.init.call(this);this.yG=this._animation.framerate;this.generateEntitiesForFrame(this.fd,0)},F_:function(){return this.VD(this.fd)?this.va/(this.pz()-1):0},F4:function(a){this.va=(this.pz()-1)*a},pz:function(){return this.VD(this.fd)?this._animation.animations[this.fd].frames.length:0},VD:function(a){return null!=this._animation.animations[a]&&void 0!=this._animation.animations[a]},nz:z("_alpha"),hp:function(a){this._alpha=
a;this.generateEntitiesForFrame(this.fd,Math.floor(this.va))},r5:x("Px"),N1:z("Px"),SO:z("fd"),ip:function(a,b,c){null==c&&(c=!1);null==b&&(b=!0);if(this.fd!=a||c)this.Px=b,this.fd=a,this.va=0,this.Vg=!0,this.generateEntitiesForFrame(this.fd,0)},update:function(){b.q.prototype.update.call(this);if(""==this.j.getName())throw"Please name all entities (uniquely by entity 'type') that use the FlashAnimation component!";if(this.Vg){this.va+=b.D.eb()*this.yG*this.IM;var a=this.pz()-1;if(this.va>a)if(this.Px)this.va-=
a,null!=this.he&&this.he();else{this.va=a-1;this.Vg=!1;null!=this.he&&(a=this.he,this.he=null,a());if(this.gM){this.j.destroy();return}if(this.iM){this.destroy();return}}if(null!=this.W){var a=this.j.O(),c=this.W.j.O();c.x+=b.D.g().Vd().x/2;c.y+=b.D.g().Vd().y/2;if(1500<(new b.La(c.x-a.x,c.y-a.y)).Dc())return}this.generateEntitiesForFrame(this.fd,Math.floor(this.va))}},mD:function(a){null==a&&(a=!1);if(null!=this.hj){for(var c=this.hj.length,e=0;e<c;){var d=e++;a&&this.hj[d].destroy()}b.H.Bj.clear(this.hj)}},
tP:function(a){return this._parts[this.nJ(a)]},nJ:function(a){return this._partInstances[a]},w_:function(){this.generateEntitiesForFrame(this.fd,Math.floor(this.va))},generateEntitiesForFrame:function(a,c){if(this.VD(a)){var e=this._animation.animations[a].frames[c];if(null!=e){var d=this.j,k=this.j.getName()+"_"+a+"_"+c;if(!b.Jf.FlashAnimation.hx.Eb(k)){this.mD();for(var g=[],h=e.instances.length,l=0;l<h;){var m=l++,p=e.instances[m],m=p.i,q=this.tP(m),s=this.nJ(m),r;r=null!=p.x?p.x:0;var u;u=null!=
p.y?p.y:0;var w;w=null!=p.a?p.a:1;var m=null!=p.b?p.b:0,y;y=null!=p.c?p.c:0;var A;A=null!=p.d?p.d:1;var p=null!=p.o?p.o:1,C=q.regx,q=q.regy,D=new b.Si;D.Dv(null);D.setPosition(r,u,0);D.Bd(w,A);D.oL(!1);r=this.vH.DP(s+".png");s=new b.k.GameImage(D,"",this.Xa,this.W);s.yU(r);r=r.lb;s.Ad(r.pa.x*-C,r.pa.y*-q);d.wc();D.setProperty("sX",m);D.setProperty("sY",y);D.setProperty("alpha",p);s.wL(y,m);s.hp(p*this._alpha);d.addChild(D);this.hj.push(D);g.push(D)}b.Jf.FlashAnimation.hx.set(k,g)}}}},LS:function(){b.q.prototype.render.call(this);
var a=this.j.getName()+"_"+this.fd+"_"+Math.floor(this.va);if(null!=this.hj){if(null!=this.W){var c=this.j.O(),e=this.W.j.O();e.x+=b.D.g().Vd().x/2;e.y+=b.D.g().Vd().y/2;if(1500<(new b.La(e.x-c.x,e.y-c.y)).Dc())return}if(b.Jf.FlashAnimation.hx.Eb(a)){if(Math.floor(this.va)!=this.lH)for(this.mD(),a=b.Jf.FlashAnimation.hx.get(a),c=a.length,e=0;e<c;){var d=e++,d=a[d];d.Dv(null);this.hj.push(d)}a=this.hj.length;for(c=0;c<a;){e=c++;e=this.hj[e];this.j.addChild(e);var d=e.T(b.k.GameImage),k=e.na("sX"),
g=e.na("sY"),h=e.na("alpha"),l=this.j.wc();e.Dv(this.ga());d.hp(this._alpha*h);d.wL(k*l.y,g*l.x);d.mA(e);d.Bv(this.W);e.render();d.mA(null);d.Bv(null);e.Dv(null);e.getParent().removeChild(e)}}}},ee:function(){b.q.prototype.ee.call(this);this.lH=Math.floor(this.va)},a5:x("iM"),Z4:x("gM"),render:function(){b.q.prototype.render.call(this);this.LS()},destroy:function(){b.q.prototype.destroy.call(this);this.mD(!1);this.hj=null},r:b.Jf.FlashAnimation});b.font={};b.font.Gn=function(a,c,e){this.jl=this.Iq=
this.kx=this.Tx=null;this.mi=a;this.De=e;a=C.parse(b.J.Ha.ic(c));this.kx=[];this.Tx=[];this.lS(a)};b.font.Gn.n=["f84","font","Font"];b.font.Gn.prototype={getName:z("mi"),ig:x("mi"),YI:z("De"),lS:function(a){var c=a.Ma("font").next().Ma("info").next(),e=new b.font.xw;e.RM="1"==c.get("aa");e.bold="1"==c.get("bold");e.charset=c.get("charset");e.face=c.get("face");e.sQ="1"==c.get("italic");e.outline="1"==c.get("outline");var d=c.get("padding").split(",");e.paddingBottom=parseInt(d[0]);e.paddingLeft=parseInt(d[1]);
e.paddingRight=parseInt(d[2]);e.paddingTop=parseInt(d[3]);e.size=parseInt(c.get("size"));e.JU="1"==c.get("smooth");d=c.get("spacing").split(",");e.op=parseInt(d[0]);e.BF=parseInt(d[1]);e.UU=parseInt(c.get("stretchH"));e.eV="1"==c.get("unicode");this.jl=e;c=a.Ma("font").next().Ma("common").next();e=new b.font.ww;e.aN=parseFloat(c.get("alphaChnl"));e.bD=parseInt(c.get("base"));e.AS=parseFloat(c.get("redChnl"));e.UP=parseFloat(c.get("greenChnl"));e.tN=parseFloat(c.get("blueChnl"));e.lineHeight=parseFloat(c.get("lineHeight"));
e.jS="1"==c.get("packed");e.kS=1;e.oT=parseFloat(c.get("scaleH"));e.pT=parseFloat(c.get("scaleW"));this.Iq=e;for(c=a.Ma("font").next().Ma("chars").next().Ma("char");c.xc();)e=c.next(),d=new b.font.vw,d.id=parseInt(e.get("id")),d.x=parseInt(e.get("x")),d.y=parseInt(e.get("y")),d.width=parseInt(e.get("width")),d.height=parseInt(e.get("height")),d.xOffset=parseInt(e.get("xoffset")),d.yOffset=parseInt(e.get("yoffset")),d.xAdvance=parseInt(e.get("xadvance")),this.kx.push(d);if(a.Ma("font").next().Ma("kernings").xc())for(a=
a.Ma("font").next().Ma("kernings").next().Ma("kerning");a.xc();)c=a.next(),e=new b.font.yw,e.EO=parseInt(c.get("first")),e.rT=parseInt(c.get("second")),e.bN=parseInt(c.get("amount")),this.Tx.push(e)},HI:function(a){for(var b=this.kx.length,c=0;c<b;){var d=c++,d=this.kx[d];if(d.id==a)return d}return null},LD:function(a,b){for(var c=this.Tx.length,d=0;d<c;){var k=d++,k=this.Tx[k];if(k.EO==a&&k.rT==b)return k.bN}return 0},r:b.font.Gn};b.font.vw=function(){this.id=this.x=this.y=this.width=this.height=
this.xOffset=this.yOffset=this.xAdvance=0};b.font.vw.n=["f84","font","FontChar"];b.font.vw.prototype={r:b.font.vw};b.font.ww=function(){this.AS=this.UP=this.tN=0;this.aN=1;this.jS=0;this.kS=1;this.pT=this.oT=1024;this.bD=25;this.lineHeight=32};b.font.ww.n=["f84","font","FontCommon"];b.font.ww.prototype={r:b.font.ww};b.font.Sp=t();b.font.Sp.n=["f84","font","FontFactory"];b.font.Sp.$Z=function(a,c,e,d){c=new b.font.Gn(c,e,d);a.DS(c);return c};b.font.Sp.a_=function(a,c,e,d){a=a.F();new b.font.Tp(a,b.J.Bf.g().UI(c),
e,d);return a};b.font.Sp.b_=function(a,c,e,d){if("0"==b.ha.na("spriteFontReplace"))return null;a=a.F();(new b.font.Tp(a,b.J.Bf.g().UI(c),null,d)).MS(e);return a};b.font.Sp.prototype={r:b.font.Sp};b.font.xw=function(){this.paddingTop=this.paddingLeft=this.paddingRight=this.paddingBottom=this.BF=this.op=this.outline=1;this.JU=this.RM=!0;this.UU=100;this.eV=!0;this.charset="";this.bold=this.sQ=!1};b.font.xw.n=["f84","font","FontInfo"];b.font.xw.prototype={r:b.font.xw};b.font.yw=t();b.font.yw.n=["f84",
"font","FontKerning"];b.font.yw.prototype={r:b.font.yw};b.font.Tp=function(a,c,e,d){this.mH=this.nH="";this.au=!1;this.th="center";this.hu=this.zd=this.zC=null;this.li=375;this._font=null;b.q.call(this,a);this._font=c;this._text="";this.Xa=e;this.W=d;this.hu=[]};b.font.Tp.n=["f84","font","FontRender"];b.font.Tp.I=b.q;b.font.Tp.prototype=q(b.q.prototype,{init:function(){b.q.prototype.init.call(this);this.HJ()},update:function(){b.q.prototype.update.call(this);null!=this.zd&&(this.setText(this.zd.innerHTML),
"none"==this.zd.parentElement.style.display&&this.$E(),this.zd.style.left==this.mH&&this.zd.style.top==this.nH||this.Pr());this.zC!=this._text&&this.Pr();this.au&&(this.au=!1,this.$E(),this.HJ())},ve:z("_text"),setText:function(a){this._text=a;this._text=F.replace(this._text,"&amp;","&");this.au=!0},y5:function(a){this.zC=this._text=a;this.au=!0},HJ:function(){this.$E();for(var a=this._text.length,c=new b.A(0,this._font.Iq.bD),e=[],d=0,k=!1,g=0;g<a;){var h=w.Mm(this._text,g),l=w.Mm(this._text,g+1);
if("<br>"==this._text.substring(g,g+4)||"<br/>"==this._text.substring(g,g+5))c.x=0,c.y+=this._font.Iq.lineHeight,g+=4,"center"==this.th?this.Vy(e,d):"right"==this.th&&this.hA(e,d),d=0,e=[];else{k&&(c.x+this.MP(this.LP(g)+15)>this.li&&(c.x=0,c.y+=this._font.Iq.lineHeight+this._font.jl.BF,"center"==this.th?this.Vy(e,d):"right"==this.th&&this.hA(e,d),d=0,e=[]),k=!1);var m=this.F();m.oL(!1);this.j.addChild(m);m.setPosition(Math.ceil(c.x),Math.ceil(c.y));var p=this._font.HI(h);if(null!=p){var q=new b.k.GameImage(m,
this._font.De,this.Xa,this.W);q.Ad(p.xOffset,Math.ceil(p.yOffset-this._font.Iq.bD));q.xb(new b.Kh(p.x,p.y,p.width,p.height));c.x+=Math.ceil(p.xAdvance+this._font.jl.op);d+=Math.ceil(p.xAdvance+this._font.jl.op);e.push(m);g<a-1&&(c.x+=this._font.LD(h,w.Mm(this._text,g+1))+this._font.jl.op,d+=this._font.LD(h,w.Mm(this._text,g+1))+this._font.jl.op);32!=l&&c.x+15>this.li&&(c.x=0,c.y+=this._font.Iq.lineHeight+this._font.jl.BF,"center"==this.th?this.Vy(e,d):"right"==this.th&&this.hA(e,d),d=0,e=[]);32==
h&&(k=!0)}this.hu.push(m);g++}}"center"==this.th?this.Vy(e,d):"right"==this.th&&this.hA(e,d);this.zC=this._text},Vy:function(a,b){for(var c=this.li/2,d=a.length,k=0;k<d;){var g=k++,g=a[g];g.setPosition(c-b/2+g.getLocalPosition().x,g.getLocalPosition().y,g.getLocalPosition().z)}},hA:function(a,b){for(var c=this.li,d=a.length,k=0;k<d;){var g=k++,g=a[g];g.setPosition(c-b+g.getLocalPosition().x,g.getLocalPosition().y,g.getLocalPosition().z)}},LP:function(a){for(var b=this._text.split(" "),c=0,d=0,k=0;k<
a;)k++,c++,c>b[d].length&&(c=0,d++);return b[d]},MP:function(a){for(var b=0,c=a.length,d=0;d<c;){var k=d++,g=w.Mm(a,k),h=this._font.HI(g);null!=h&&(b+=h.xAdvance+this._font.jl.op,k<c-1&&(b+=this._font.LD(g,w.Mm(a,k+1))+this._font.jl.op))}return b},$E:function(){for(var a=this.hu.length,b=0;b<a;){var c=b++;this.hu[c].destroy()}this.hu=[]},render:function(){b.q.prototype.render.call(this)},MS:function(a,c){null==c&&(c=!0);if(b.J.Bf.g().$O(a))c&&this.j.destroy();else{null!=this.Xa&&b.D.g().ZE(this.Xa);
var e=s.kd().getElementById(a);if(null==e)this.log("Could not find '"+a+"' on the page!");else{this.zd=e;b.J.Bf.g().CS(this.zd.id,this);this._text=e.innerHTML;e.style.display="none";var d=new b.Vi("temp",r.Gb(e.style.width),r.Gb(e.style.height)+r.Gb(e.style.top));this.Xa=d;this.Xa.Na().style.zIndex=e.style.zIndex;b.D.g().ti(d);this.th=e.style.textAlign;this.Pr()}}},Pr:function(){if(null!=this.zd){this.Xa.Na().style.left=Math.ceil(r.Gb(this.zd.style.left))+"px";this.Xa.Na().style.top=Math.ceil(r.Gb(this.zd.style.top))+
"px";null!=this.zd.style.webkitTransform?this.Xa.Na().style.webkitTransform=this.zd.style.webkitTransform:null!=this.zd.style.transform&&(this.Xa.Na().style.transform=this.zd.style.transform);this.Xa.Na().style.width=r.Gb(this.zd.style.width)+"px";this.Xa.Na().style.height=r.Gb(this.zd.style.height)+r.Gb(this.zd.style.top)+"px";this.Xa.getCanvas().style.width=r.Gb(this.zd.style.width)+"px";this.Xa.getCanvas().style.height=r.Gb(this.zd.style.height)+r.Gb(this.zd.style.top)+"px";if("none"!=this.zd.style.transform&&
null!=this.zd.style.transform&&("none"==this.Xa.Na().style.webkitTransform||null==this.Xa.Na().style.webkitTransform)){var a=this.zd.style.transform.split(" ")[0].split(","),c=(new Q("^\\D+","g")).replace(a[0],""),a=parseInt(a[1]);this.Xa.Na().style.left=parseInt(c)+"px";this.Xa.Na().style.top=a+"px"}this.Xa.getCanvas().width=parseInt(this.Xa.getCanvas().style.width);this.Xa.getCanvas().height=parseInt(this.Xa.getCanvas().style.height);this.j.Bd(1/b.D.g().Fd().x,1/b.D.g().Fd().y);this.li=Math.ceil(r.Gb(this.zd.style.width));
this.au=!0;this.mH=this.zd.style.left;this.nH=this.zd.style.top}},Je:function(a,c){b.q.prototype.Je.call(this,a,c);switch(a){case "onScreenScaleUpdated":this.Pr()}},destroy:function(){b.q.prototype.destroy.call(this);null!=this.Xa&&null!=this.zd&&b.D.g().ZE(this.Xa);null!=this.zd&&b.J.Bf.g().gV(this.zd.id)},lp:x("li"),pP:z("li"),r:b.font.Tp});b.sr={};b.sr.kt=function(){this.Yb=this.mb=null;b.ya.call(this)};b.sr.kt.n=["f84","gameStates","OrientationState"];b.sr.kt.I=b.ya;b.sr.kt.prototype=q(b.ya.prototype,
{init:function(){b.ya.prototype.init.call(this)},FR:function(a){b.D.ae()&&!b.D.Lz()?a&&0==b.ha.na("isLandscapeAllowedIPad")?this.wA(1):a||0!=b.ha.na("isPortraitAllowedIPad")?this.XD():this.wA(0):b.D.ae()&&(a&&0==b.ha.na("isLandscapeAllowedIPhone")?this.wA(1):a||0!=b.ha.na("isPortraitAllowedIPhone")?this.XD():this.wA(0))},wA:function(a){this.XD(!1);b.D.g().Fe(this);b.D.g().TU();b.J.Hc.g().nA(!0);b.audio.SoundManager.BK();this.Yb=s.kd().createElement("div");this.Yb.style.position="absolute";this.Yb.style.backgroundColor=
"#000000";this.Yb.style.width="100%";this.Yb.style.height="100%";s.Na().appendChild(this.Yb);switch(a){case 0:this.F();this.mb=b.J.Ha.ic(b.D.Lz()?"iphoneOrientationImage":"ipadOrientationImage");this.Yb.appendChild(this.mb);this.mb.style.position="absolute";this.mb.style.margin="auto auto auto auto";this.mb.style.display="block";this.mb.style.maxWidth="100%";this.mb.style.maxHeight="auto";this.mb.style.top="0px";this.mb.style.bottom="0px";this.mb.style.left="0px";this.mb.style.right="0px";break;case 1:this.F(),
this.mb=b.J.Ha.ic(b.D.Lz()?"iphoneOrientationImage":"ipadOrientationImage"),this.Yb.appendChild(this.mb),this.mb.style.position="absolute",this.mb.style.margin="auto auto auto auto",this.mb.style.display="block",this.mb.style.maxWidth="100%",this.mb.style.maxHeight="auto",this.mb.style.top="0px",this.mb.style.bottom="0px",this.mb.style.left="0px",this.mb.style.right="0px"}},update:function(){b.ya.prototype.update.call(this)},XD:function(a){null==a&&(a=!0);null!=this.Yb&&(this.Yb.parentNode.removeChild(this.Yb),
this.Yb=null);a&&(b.D.g().SS(),b.J.Hc.g().nA(!1),b.audio.SoundManager.XK(),b.D.g().WD(),b.D.g().tK())},Je:function(a,c){b.ya.prototype.Je.call(this,a,c);switch(a){case "onOrientationChanged":this.FR(c.pQ)}},r:b.sr.kt});b.J={};b.J.ke=function(){this.bB=new D.jd.me};b.J.ke.n=["f84","managers","AnimationManager"];b.J.ke.g=function(){null==b.J.ke.Va&&(b.J.ke.Va=new b.J.ke);return b.J.ke.Va};b.J.ke.prototype={vi:function(a){return this.bB.get(a)},JK:function(a){this.bB.set(a.getName(),a)},FS:function(){this.bB=
new D.jd.me},r:b.J.ke};b.J.Ha=t();b.J.Ha.n=["f84","managers","AssetManager"];b.J.Ha.iS=function(){b.H.Wb.log(b.J.Ha.Km)};b.J.Ha.ic=function(a){if(!b.J.Ha.Km.Eb(a))throw a+" does not exist in asset list!";return b.J.Ha.Km.get(a)};b.J.Ha.Jm=function(a){return b.J.Ha.Km.Eb(a)};b.J.Ha.fV=function(a){b.J.Ha.Km.set(a,null);b.J.Ha.Km.remove(a);a=PIXI.Texture.removeTextureFromCache(a);null!=a&&a.destroy(!0)};b.J.Ha.z6=function(a){b.J.Ha.ic(a).unload()};b.J.Ha.ln=function(a,c){var e;null==e&&(e=!0);b.J.Ha.Km.Eb(a)&&
!e||b.J.Ha.Km.set(a,c)};b.J.Ha.prototype={r:b.J.Ha};b.J.Qi=function(){b.kb.call(this);b.J.Qi.Va=this};b.J.Qi.n=["f84","managers","DebugManager"];b.J.Qi.g=function(){return b.J.Qi.Va};b.J.Qi.I=b.kb;b.J.Qi.prototype=q(b.kb.prototype,{update:function(){b.kb.prototype.update.call(this);"1"==b.ha.na("debugCheats")&&(b.J.Hc.g().Vm(104)&&b.ha.setProperty("debugDraw","1"==b.ha.na("debugDraw")?"0":"1"),b.J.Hc.g().Vm(101)&&this.dispatchEvent(new b.J.Ri("beatLevel")),b.J.Hc.g().Vm(102)&&this.dispatchEvent(new b.J.Ri("failLevel")),
b.J.Hc.g().Vm(100)&&(b.ha.setProperty("forceOrientation","HORIZONTAL"==b.ha.na("forceOrientation")?"VERTICAL":"HORIZONTAL"),b.D.g().qv()))},destroy:function(){b.kb.prototype.destroy.call(this);b.J.Qi.Va=null},r:b.J.Qi});b.J.Ri=function(a){b.S.Ea.call(this,a)};b.J.Ri.n=["f84","managers","DebugManagerEvent"];b.J.Ri.I=b.S.Ea;b.J.Ri.prototype=q(b.S.Ea.prototype,{r:b.J.Ri});b.J.Bf=function(){this.$n=null;b.kb.call(this);this.$n=[];b.J.Bf.Va=this};b.J.Bf.n=["f84","managers","FontManager"];b.J.Bf.g=function(){return b.J.Bf.Va};
b.J.Bf.I=b.kb;b.J.Bf.prototype=q(b.kb.prototype,{DS:function(a){this.hP(a)||this.$n.push(a)},A6:function(a){w.remove(this.$n,a)},hP:function(a){for(var b=this.$n.length,c=0;c<b;){var d=c++;if(a==this.$n[d])return!0}return!1},CS:function(a,c){b.J.Bf.yx.set(a,c)},c1:function(a){return b.J.Bf.yx.get(a)},$O:function(a){return b.J.Bf.yx.Eb(a)},gV:function(a){b.J.Bf.yx.remove(a)},UI:function(a){for(var b=this.$n.length,c=0;c<b;){var d=c++,d=this.$n[d];if(d.getName()==a)return d}return null},r:b.J.Bf});
b.J.Hc=function(){this.Nq=this.Oq=null;this.ij=this.tm=!1;this.nf=null;b.kb.call(this);b.J.Hc.Va=this;this.nf=new b.A(0,0);this.Nq=[];this.Oq=[];for(var a=0;255>a;)a++,this.Nq.push(!1),this.Oq.push(!1)};b.J.Hc.n=["f84","managers","InputManager"];b.J.Hc.g=function(){return b.J.Hc.Va};b.J.Hc.I=b.kb;b.J.Hc.prototype=q(b.kb.prototype,{init:function(){b.kb.prototype.init.call(this);s.Od().addEventListener("mousemove",u(this,this.eA));s.Od().addEventListener("mousedown",u(this,this.onMouseDown));s.Od().addEventListener("mouseup",
u(this,this.onMouseUp));s.Od().addEventListener("mouseleave",u(this,this.BR));s.Od().addEventListener("mouseout",u(this,this.onMouseOut));s.kd().addEventListener("keydown",u(this,this.qR));s.kd().addEventListener("keyup",u(this,this.sR));s.kd().addEventListener("keypress",u(this,this.rR));s.Od().addEventListener("click",u(this,this.OE));document.addEventListener("touchstart",u(this,this.onMouseDown));document.addEventListener("touchend",u(this,this.onMouseUp));document.addEventListener("touchmove",
u(this,this.eA))},update:function(){b.kb.prototype.update.call(this)},ee:function(){b.kb.prototype.ee.call(this);for(var a=this.Oq.length,c=0;c<a;){var e=c++;this.Oq[e]=!1}},kk:function(){var a=b.D.g().pJ();return new b.A((this.nf.x-a.x)/b.D.g().Fd().x,(this.nf.y-a.y)/b.D.g().Fd().y)},eA:function(a){if(!this.ij)if(b.D.ae()){for(var c=a.changedTouches,e=c.length,d=0;d<e;){var k=d++,k=c[k],g=k.pageY-s.Na().offsetParent.offsetTop;this.nf.x=k.pageX-s.Na().offsetParent.offsetLeft;this.nf.y=g;b.D.g().Jd("mouseMove",
this.kk())}b.D.g().Jd("verifyTouches",a)}else c=a.pageY-s.Na().offsetParent.offsetTop,this.nf.x=a.pageX-s.Na().offsetParent.offsetLeft,this.nf.y=c,b.D.g().Jd("mouseMove",this.kk())},onMouseDown:function(a){b.D.g().WD();b.D.ae()&&!b.D.fE()&&b.D.g().requestFullscreen();if(!this.ij)if(b.D.ae()){this.tm=!0;a=a.changedTouches;for(var c=a.length,e=0;e<c;){var d=e++,d=a[d],k=d.pageY-s.Na().offsetParent.offsetTop;this.nf.x=d.pageX-s.Na().offsetParent.offsetLeft;this.nf.y=k;b.D.g().Jd("mouseDown",this.kk())}}else this.tm=
!0,c=a.pageY-s.Na().offsetParent.offsetTop,this.nf.x=a.pageX-s.Na().offsetParent.offsetLeft,this.nf.y=c,b.D.g().Jd("mouseDown",this.kk())},onMouseUp:function(a){if(!this.ij){if(b.D.ae())this.tm=!1;else{this.tm=!1;var c;c=a.pageX-s.Na().offsetParent.offsetLeft;a=a.pageY-s.Na().offsetParent.offsetTop;this.nf.x=c;this.nf.y=a}b.D.g().Jd("mouseUp",this.kk())}},OE:function(a){if(!this.ij){var c=a.pageY-s.Na().offsetParent.offsetTop;this.nf.x=a.pageX-s.Na().offsetParent.offsetLeft;this.nf.y=c;b.D.g().Jd("mouseClick",
this.kk())}},BR:function(a){if(!this.ij){var c=a.pageY-s.Na().offsetParent.offsetTop;this.nf.x=a.pageX-s.Na().offsetParent.offsetLeft;this.nf.y=c;b.D.g().Jd("mouseLeave",this.kk())}},onMouseOut:function(a){if(!this.ij){var c=a.pageY-s.Na().offsetParent.offsetTop;this.nf.x=a.pageX-s.Na().offsetParent.offsetLeft;this.nf.y=c;b.D.g().Jd("mouseOut",this.kk())}},qR:function(a){a.stopPropagation();this.ij||this.Nq[a.keyCode]||(this.Nq[a.keyCode]=!0,this.Oq[a.keyCode]=!0,b.D.g().Jd("keyDown",a.keyCode))},
sR:function(a){this.ij||(this.Nq[a.keyCode]=!1,b.D.g().Jd("keyUp",a.keyCode))},rR:function(a){a.stopPropagation();this.ij||b.D.g().Jd("keyPressed",a.keyCode)},wI:function(){document.onkeydown=function(a){a.preventDefault();return!1}},wO:function(){document.onkeydown=null},v1:z("ij"),nA:x("ij"),Ar:function(a){return this.Nq[a]},Vm:function(a){return this.Oq[a]},T3:z("tm"),r:b.J.Hc});b.J.Iw=t();b.J.Iw.n=["f84","managers","PhysicsEvent"];b.J.Iw.prototype={r:b.J.Iw};b.J.le=function(){this.kf=this.lo=
null;b.kb.call(this);b.J.le.Va=this;this.lo=[];this.kf=[];b.ha.na("debugDraw");this.addEventListener("raycastCheck",u(this,this.NR))};b.J.le.n=["f84","managers","PhysicsManager"];b.J.le.g=function(){return b.J.le.Va};b.J.le.WZ=function(a,c,e,d,k,g,h,l){null==l&&(l=!0);d=g.F();d.setPosition(a,c,e);a=new b.R.ef;l=new b.k.Ud.Af(d,a,l?new b.La:new b.La(0.5*a.pa.x,0.5*a.pa.y));if(null!=h)for(a=h.length,c=0;c<a;)e=c++,l.Sd(h[e]);return d};b.J.le.VZ=function(a,c,e,d,k,g,h){null==g&&(g=0);null==k&&(k=0);
null==d&&(d=0);a=new b.k.Ud.Af(a,new b.R.ef,new b.La(d,k,g));if(null!=h)for(c=h.length,e=0;e<c;)d=e++,a.Sd(h[d]);return a};b.J.le.I=b.kb;b.J.le.prototype=q(b.kb.prototype,{update:function(){b.kb.prototype.update.call(this)},BS:function(a){for(var b=this.kf.length,c=0;c<b;){var d=c++;if(this.kf[d]==a)return}this.kf.push(a)},NK:function(a){for(var b=this.kf.length,c=0;c<b;){var d=c++;if(this.kf[d]==a){this.kf.splice(d,1);break}}},g0:z("kf"),Ie:function(a,c,e,d,k){null==d&&(d=!0);for(var g=-1,h=null,
l=null,m=0,p=0,q=this.kf.length,s=0;s<q;){var r=s++;p++;r=this.kf[r];if(!1!=r.mc){if(null!=k){for(var u=!1,y=k.length,C=0;C<y;){var A=C++;if(r.mk(k[A])){u=!0;break}}if(!u)continue}m++;u=new b.A;if(d){if(y=new b.A,C=r.Ie(a,c,u,d,y),-1==g&&0<C||0<C&&C<g)e.distance=C,e.Ge=r,e.lj=u,l=e.yc=y,h=u,g=C,w.remove(this.kf,r),this.kf.unshift(r)}else if(y=new b.A,C=r.Ie(a,c,u,d,y),0<C){e.distance=C;e.Ge=r;e.lj=u;l=e.yc=y;h=u;g=C;w.remove(this.kf,r);this.kf.unshift(r);break}}}this.lo.push({start:a,end:c,WP:h,yc:l});
return g},render:function(){b.kb.prototype.render.call(this);"0"==b.ha.na("debugDraw")&&(this.lo=[])},hd:function(){b.kb.prototype.hd.call(this);for(var a=this.lo.length,c=0;c<a;){var e=c++,d=this.lo[e],k=d.start,g=d.end,e=d.WP,h=b.D.g().vf("debug").getCanvas().getContext("2d");h.save();if(null!=b.k.Camera.He()){var l=b.k.Camera.He().j,m=b.k.Camera.He()._zoomScale,p=b.k.Camera.He().T(b.v.Xi);h.translate(-l.O().x*m+p.Ef.x,-l.O().y*m+p.Ef.y);h.scale(m,m)}null==e?(h.beginPath(),h.globalAlpha=1,h.lineWidth=
1,h.strokeStyle="#AAAAFF",h.moveTo(k.x,k.y),h.lineTo(g.x,g.y),h.stroke()):(h.beginPath(),h.globalAlpha=1,h.lineWidth=1,h.strokeStyle="#AAAAFF",h.moveTo(k.x,k.y),h.lineTo(e.x,e.y),h.stroke(),h.beginPath(),h.globalAlpha=1,h.lineWidth=1,h.strokeStyle="#FFFF00",h.moveTo(e.x,e.y),h.lineTo(g.x,g.y),h.stroke(),null!=d.yc&&(k=(new b.A(g.x-e.x,g.y-e.y)).Dc(),d=new b.A(e.x+d.yc.x*k,e.y+d.yc.y*k),h.beginPath(),h.globalAlpha=1,h.lineWidth=1,h.strokeStyle="#FF00FF",h.moveTo(e.x,e.y),h.lineTo(d.x,d.y),h.stroke()));
h.restore()}this.lo=[]},j_:function(){for(var a=this.kf.length-1;0<=a;)this.NK(this.kf[a]),a--;this.kf=[]},NR:function(a){this.lo.push({start:a.start,end:a.end})},r:b.J.le});b.J.im=function(){this.TB=!1;this.qi=null;b.kb.call(this);b.J.im.Va=this};b.J.im.n=["f84","managers","VoManager"];b.J.im.g=function(){return b.J.im.Va};b.J.im.I=b.kb;b.J.im.prototype=q(b.kb.prototype,{rS:function(a,c,e,d){null==d&&(d=!1);null==e&&(e=!1);null==c&&(c=!1);if(!this.TB||c)this.FF(),this.qi=b.audio.SoundManager.Wc(a,
e,d),c&&(b.D.g().Hz(this.qi.Eo(),u(this,this.lR)),this.TB=!0)},lR:function(){this.TB=!1},FF:function(){null!=this.qi&&(this.qi.stop(),this.qi=null)},r:b.J.im});b.v={};b.v.la=function(a){this.UC=!0;b.q.call(this,a);this.Xq=new b.A(0,0);this.wy=new b.A(1,1);this.xy=new b.A(0,0);this.CC=0;this.Lc=new PIXI.Container};b.v.la.n=["f84","pixi","PixiContainer"];b.v.la.I=b.q;b.v.la.prototype=q(b.q.prototype,{k3:z("UC"),X5:x("UC"),u2:z("Xq"),uA:x("Xq"),I2:z("wy"),Gk:x("wy"),J2:z("xy"),M5:x("xy"),F2:z("CC"),
qU:x("CC"),Na:z("Lc"),bp:function(){b.q.prototype.bp.call(this);null!=this.Lc&&(this.Lc.renderable=!0)},ep:function(){b.q.prototype.ep.call(this);null!=this.Lc&&(this.Lc.renderable=!1)},init:function(){b.q.prototype.init.call(this);this.Yr();this.Ik()},Ik:function(){if(!this.um){var a=this.j.getParent();if(null!=a){var c=a.T(b.v.la);null==c&&(c=new b.v.la(a));0<c.Na().children.length?c.Na().addChildAt(this.Lc,c.Na().children.length):c.Na().addChild(this.Lc);this.CM=c}else 0<b.v.Pe.g().cr.children.length?
b.v.Pe.g().cr.addChildAt(this.Lc,b.v.Pe.g().cr.children.length):b.v.Pe.g().cr.addChild(this.Lc)}},update:function(){b.q.prototype.update.call(this);this.Lc.visible=this.j.Co()},render:function(){b.q.prototype.render.call(this);this.UC&&(this.Yr(),this.Ik())},wN:function(){var a=this.Lc.parent;null!=a&&(a.removeChild(this.Lc),a.addChild(this.Lc))},Yr:function(){var a=this.j.getLocalPosition(),c=this.j.oa;this.Lc.position=new PIXI.Point(a.x+this.Xq.x,a.y+this.Xq.y);this.Lc.rotation=b.H.Sa.rf(this.j.dJ().z+
this.CC);this.Lc.scale=new PIXI.Point(c.x*this.wy.x+this.xy.x,c.y*this.wy.y+this.xy.y)},destroy:function(){b.q.prototype.destroy.call(this);null!=this.Lc.parent&&this.Lc.parent.removeChild(this.Lc)},r:b.v.la});b.v.ea=function(a,c,e){b.v.la.call(this,a);this.Lc=new PIXI.Sprite(null);this.Ii(c,e)};b.v.ea.n=["f84","pixi","PixiSprite"];b.v.ea.I=b.v.la;b.v.ea.prototype=q(b.v.la.prototype,{V:z("Lc"),t1:z("Kx"),h1:function(){return this.V().texture.frame},Ii:function(a,c){b.J.Ha.Jm(a)&&(this.Kx!=a?(this.fl=
b.J.Ha.ic(a),this.V().texture=null==c?PIXI.Texture.fromImage(this.fl.src):new PIXI.Texture(PIXI.BaseTexture.fromImage(this.fl.src),c)):null==c?this.V().texture.noFrame=!0:(this.V().texture.frame=c,this.V().texture.noFrame=!1),this.Kx=a);this.Yr()},update:function(){b.v.la.prototype.update.call(this)},Jb:function(){b.v.la.prototype.Jb.call(this)},render:function(){b.v.la.prototype.render.call(this)},destroy:function(){b.v.la.prototype.destroy.call(this)},r:b.v.ea});b.v.xd=function(a,c){this.he=null;
this.va=0;this.xl=1;this.Vg=!0;b.v.ea.call(this,a,"");this.fd=c};b.v.xd.n=["f84","pixi","PixiAnimation"];b.v.xd.I=b.v.ea;b.v.xd.prototype=q(b.v.ea.prototype,{AD:function(){return b.J.ke.g().vi(this.fd)},pz:function(){return this.AD().Dc()},HP:z("xl"),tF:x("xl"),Jb:function(){b.v.ea.prototype.update.call(this);var a=this.AD();if(null!=a&&(this.Vg&&(this.va+=b.D.eb()*this.xl,0<this.xl&&this.va>=a.Dc()&&(a.ki?this.va-=a.Dc():(this.va=a.Dc(),this.stop()),null!=this.he&&(a=this.he,this.he=null,a(this.j),
a=b.J.ke.g().vi(this.fd))),0>this.xl&&0>=this.va&&(a.ki?this.va+=a.Dc():(this.va=0,this.stop()),null!=this.he&&(a=this.he,this.he=null,a(this.j),a=b.J.ke.g().vi(this.fd)))),null!=a)){var c=a.qJ(this.va),e=a.rJ(this.va),c=b.kc.jf.g().Fo(e).zz(c),d=c.lb;this.Ii(e,new PIXI.Rectangle(d.U.x,d.U.y,d.pa.x,d.pa.y));this.V().anchor=new PIXI.Point(-(a.Pa().x/c.lb.pa.x)-c.Pa().x/c.lb.pa.x,-(a.Pa().y/c.lb.pa.y)-c.Pa().y/c.lb.pa.y)}},setPosition:x("va"),O:z("va"),ip:function(a,b,c){null==c&&(c=!1);if(this.fd!=
a||c)this.va=0;this.fd=a;this.he=b;this.Vg=!0},G_:z("fd"),play:function(){this.Vg=!0},stop:function(){this.Vg=!1},playing:z("Vg"),qA:x("he"),mJ:z("he"),r:b.v.xd});b.v.Xi=function(a){this.Ef=new b.A(0,0);this.fC=!1;this.Nd=[];b.k.Camera.call(this,a)};b.v.Xi.n=["f84","pixi","PixiCamera"];b.v.Xi.I=b.k.Camera;b.v.Xi.prototype=q(b.k.Camera.prototype,{m0:z("Ef"),KT:function(a){this.Ef.x=a.x;this.Ef.y=a.y},X1:z("fC"),mU:x("fC"),ti:function(a,c,e,d,k,g){null==g&&(g=1);null==k&&(k=0);null==d&&(d=0);null==
e&&(e=1);null==c&&(c=1);a=new b.v.Kw(a,c,e,d,k,g);this.Nd.push(a);return a},ZE:function(a){w.remove(this.Nd,a)},I1:function(a){for(var b=this.Nd.length,c=0;c<b;){var d=c++,d=this.Nd[d];if(d.Ll==a)return d}return null},lP:z("Nd"),ee:function(){b.k.Camera.prototype.ee.call(this);for(var a=this.j.O(),c=this.Nd.length,e=0;e<c;){var d=e++,k=this._zoomScale,d=this.Nd[d],k=0==d.MF?1:k*d.MF;0==d.rv&&0==d.sv&&(k=1);d.FE?d.Ll.uA(new b.A(d.Ll.Xq.x,b.D.g().Vd().y/2+this.Ef.y*d.sv)):d.Zo?d.Ll.uA(new b.A(b.D.g().Vd().x/
2+this.Ef.x*d.rv,d.Ll.Xq.y)):d.FE||d.Zo||d.Ll.uA(new b.A(b.D.g().Vd().x/2+this.Ef.x*d.rv,b.D.g().Vd().y/2+this.Ef.y*d.sv));this.fC||d.Ll.qU(this.j.oe().z);var g;g=d.FE?0:a.x;var h;h=d.Zo?0:a.y;d.Ll.Na().pivot=new PIXI.Point(Math.floor(g*d.rv)-d.zK+b.D.g().Vd().x/k/2,Math.floor(h*d.sv)-d.AK+b.D.g().Vd().y/k/2);d.Ll.Gk(new b.A(k,k))}},r:b.v.Xi});b.v.Kw=function(a,b,c,d,k,g){null==g&&(g=1);this.FE=this.Zo=!1;this.MF=1;this.zK=this.AK=0;this.rv=this.sv=1;this.Ll=a;this.rv=b;this.sv=c;this.zK=d;this.AK=
k;this.MF=g};b.v.Kw.n=["f84","pixi","PixiCameraLayer"];b.v.Kw.prototype={r:b.v.Kw};b.v.Pe=function(){this.KG=!1;b.kb.call(this)};b.v.Pe.n=["f84","pixi","PixiManager"];b.v.Pe.g=function(){null==b.v.Pe.Va&&(b.v.Pe.Va=new b.v.Pe,b.D.g().yl(b.v.Pe.Va));return b.v.Pe.Va};b.v.Pe.I=b.kb;b.v.Pe.prototype=q(b.kb.prototype,{BJ:function(){return this.ak.type==PIXI.RENDERER_TYPE.WEBGL},S2:z("cr"),C2:z("ak"),setup:function(a){this.cr=new PIXI.Container;this.ak=PIXI.autoDetectRenderer(b.D.g().Vd().x,b.D.g().Vd().y,
a,!1);this.cC=b.D.g().vf("master");s.Na().appendChild(this.ak.view);a=s.kd().createElement("div");s.Na().appendChild(a);a.style.position="absolute";a.style.left="0px";a.style.top="0px";a.style.width="1024px";a.style.height="550px";this.KG=!0},render:function(){b.kb.prototype.render.call(this);this.KG&&this.ak.render(this.cr)},Je:function(a,c){b.kb.prototype.Je.call(this,a,c);switch(a){case "onOrientationChanged":null!=this.ak&&this.ak.resize(b.D.g().Vd().x,b.D.g().Vd().y)}},r:b.v.Pe});b.v.rb=function(a,
c,e,d){null==d&&(d=1);b.v.la.call(this,a);this.Lc=new PIXI.Text(c,e,d);this.ve().anchor=new PIXI.Point(0.5,0.5);this.Jv()};b.v.rb.n=["f84","pixi","PixiText"];b.v.rb.I=b.v.la;b.v.rb.prototype=q(b.v.la.prototype,{ve:z("Lc"),EP:function(){return this.ve().text},Pl:function(a){this.ve().text=a;this.Jv()},init:function(){b.v.la.prototype.init.call(this)},destroy:function(){b.v.la.prototype.destroy.call(this);this.ve().texture.baseTexture.destroy()},Jv:function(){var a;a=s.kd().createElement("div");a.innerHTML=
this.EP();var c="",c=C.parse(a.outerHTML);if(c.Ma("div").xc()&&(c=c.Ma("div").next(),c.Ma("font").xc()&&(c=c.Ma("font").next(),c.Eb("size")))){var c=-1!=c.get("size").indexOf("px")?r.Gb(c.get("size"))+"px":r.Gb(c.get("size"))+"pt",e=this.ve().style,d=e.font.split(" ");d[0]=c;e.font=d.join(" ");this.ve().style=e;this.ve().text=b.D.dE()?a.textContent:a.innerText}},r:b.v.rb});b.v.mt=function(a,c,e){b.v.la.call(this,a);null!=this.Lc.parent&&this.Lc.parent.removeChild(this.Lc);a=null;b.J.Ha.Jm(c)&&(this.fl=
b.J.Ha.ic(c),PIXI.Texture.fromImage(this.fl.src),a=null==e?PIXI.Texture.fromImage(this.fl.src):new PIXI.Texture(PIXI.BaseTexture.fromImage(this.fl.src),e),this.iG=c);this.Lc=new PIXI.extras.TilingSprite(a,128,128);this.Yr()};b.v.mt.n=["f84","pixi","PixiTilingSprite"];b.v.mt.I=b.v.la;b.v.mt.prototype=q(b.v.la.prototype,{V:z("Lc"),S5:function(a,c){b.J.Ha.Jm(a)&&(this.iG!=a?(this.fl=b.J.Ha.ic(a),this.V().texture=null==c?PIXI.Texture.fromImage(this.fl.src):new PIXI.Texture(PIXI.BaseTexture.fromImage(this.fl.src),
c)):null==c?this.V().texture.noFrame=!0:(this.V().texture.frame=c,this.V().texture.noFrame=!1),this.iG=a);this.Yr()},render:function(){b.v.la.prototype.render.call(this);null!=this.CM&&this.iV()},iV:function(){var a=b.D.g().Vd(),c=this.Lc.getBounds(),a=new PIXI.Rectangle(0,0,a.x,a.y);this.Lc.renderable=c.x<a.x+a.width+225&&c.x+c.width>a.x-225&&c.y<a.y+a.height+225&&c.y+c.height>a.y-225?!0:!1},r:b.v.mt});b.$e={};b.$e.Pj=function(a,c,e){null==e&&(e=!0);b.ya.call(this);this.mM=a;this.MM=c;this.hM=e;
b.audio.SoundManager.Wc("transition_1")};b.$e.Pj.n=["f84","screenTransition","TransitionScreen"];b.$e.Pj.I=b.ya;b.$e.Pj.prototype=q(b.ya.prototype,{TE:function(){this.hM&&this.mM.destroy();b.D.g().Fe(this.MM);this.dispatchEvent(new b.$e.gm("midpoint"))},dS:function(){this.destroy();this.dispatchEvent(new b.$e.gm("complete"))},r:b.$e.Pj});b.$e.gm=function(a){b.S.Ea.call(this,a)};b.$e.gm.n=["f84","screenTransition","TransitionScreenEvent"];b.$e.gm.I=b.S.Ea;b.$e.gm.prototype=q(b.S.Ea.prototype,{r:b.$e.gm});
b.R={};b.R.Yi=function(){this.zi=[];this.U=new b.A;this.pa=new b.A};b.R.Yi.n=["f84","shapes","Shape"];b.R.Yi.prototype={Da:function(){var a=new b.R.Yi;a.U=this.U.Da();a.pa=this.pa.Da();for(var c=this.zi.length,e=0;e<c;){var d=e++;a.zi.push(this.zi[d])}return a},ue:I(!1),Ie:I(-1),r:b.R.Yi};b.R.ef=function(a,c,e,d){null==d&&(d=0);null==e&&(e=0);null==c&&(c=0);null==a&&(a=0);b.R.Yi.call(this);this.U=new b.A(a,c);this.pa=new b.A(e,d)};b.R.ef.n=["f84","shapes","BoxShape"];b.R.ef.I=b.R.Yi;b.R.ef.prototype=
q(b.R.Yi.prototype,{ue:function(a){b.R.Yi.prototype.ue.call(this,a);return a.x>=this.U.x&&a.y>=this.U.y&&a.x<=this.U.x+this.pa.x&&a.y<=this.U.y+this.pa.y},Ie:function(a,c,e,d){null==d&&(d=!1);for(var k=new b.A,g=[new b.A(this.U.x,this.U.y),new b.A(this.U.x+this.pa.x,this.U.y),new b.A(this.U.x+this.pa.x,this.U.y+this.pa.y),new b.A(this.U.x,this.U.y+this.pa.y)],h=-1,l=0,m=g.length-1;l<m;){var p=l++,p=b.H.Sa.Wm(a,c,g[p],g[p+1],k);if(0<p)if(d){if(-1==h||p<h)e.x=k.x,e.y=k.y,h=p}else return e.x=k.x,e.y=
k.y,p}a=b.H.Sa.Wm(a,c,g[0],g[g.length-1],k);if(0<a)if(d){if(-1==h||a<h)e.x=k.x,e.y=k.y,h=a}else return e.x=k.x,e.y=k.y,a;return h},Da:I(null),r:b.R.ef});b.R.eq=function(){this.Wf=this.Ug=null;b.R.Yi.call(this);this.Wf=new b.A(999999,999999);this.Ug=new b.A(-999999,-999999);this.Qe=[]};b.R.eq.n=["f84","shapes","PolygonShape"];b.R.eq.I=b.R.Yi;b.R.eq.prototype=q(b.R.Yi.prototype,{so:function(a,c){this.Qe.push(new b.A(a,c));a<this.Wf.x&&(this.Wf.x=a);c<this.Wf.y&&(this.Wf.y=c);a>this.Ug.x&&(this.Ug.x=
a);c>this.Ug.y&&(this.Ug.y=c)},wP:z("Qe"),ue:function(a){for(var b=this.Qe.length,c=0,d=!1,k=null,g=null;c<b;){k=this.Qe[c].Da();g=this.Qe[(c+1)%b].Da();k.x+=this.U.x;k.y+=this.U.y;g.x+=this.U.x;g.y+=this.U.y;if(0==c)d=0<(a.y-k.y)*(g.x-k.x)-(a.x-k.x)*(g.y-k.y);else if(d&&0>(a.y-k.y)*(g.x-k.x)-(a.x-k.x)*(g.y-k.y)||!d&&0<(a.y-k.y)*(g.x-k.x)-(a.x-k.x)*(g.y-k.y))return!1;c++}return!0},Ie:function(a,c,e,d,k){null==d&&(d=!1);var g=new b.Kh;g.U=this.Wf.Da();g.pa=new b.A(this.Ug.x-this.Wf.x,this.Ug.y-this.Wf.y);
g.U.x+=this.U.x;g.U.y+=this.U.y;var h=Math.abs(c.x-a.x),l=Math.abs(c.y-a.y);if(!g.ZI(new b.Kh(a.x<c.x?a.x:c.x,a.y<c.y?a.y:c.y,h,l)))return-1;for(var g=new b.A,l=this.Qe,h=-1,m=0,p=l.length-1;m<p;){var q=m++,r=l[q].Da();r.x+=this.U.x;r.y+=this.U.y;var s=l[q+1].Da();s.x+=this.U.x;s.y+=this.U.y;q=b.H.Sa.Wm(a,c,r,s,g);if(0<q)if(d){if(-1==h||q<h)e.x=g.x,e.y=g.y,null!=k&&(h=(new b.A(s.y-r.y,r.x-s.x)).Kf(),k.x=h.x,k.y=h.y,0<(new b.A(c.x-a.x,c.y-a.y)).nj(k)&&(k.x*=-1,k.y*=-1)),h=q}else return e.x=g.x,e.y=
g.y,null!=k&&(e=(new b.A(s.y-r.y,r.x-s.x)).Kf(),k.x=e.x,k.y=e.y,0<(new b.A(c.x-a.x,c.y-a.y)).nj(k)&&(k.x*=-1,k.y*=-1)),q}m=l[0].Da();m.x+=this.U.x;m.y+=this.U.y;p=l[l.length-1].Da();p.x+=this.U.x;p.y+=this.U.y;l=b.H.Sa.Wm(a,c,m,p,g);if(0<l)if(d){if(-1==h||l<h)e.x=g.x,e.y=g.y,null!=k&&(e=(new b.A(p.y-m.y,m.x-p.x)).Kf(),k.x=e.x,k.y=e.y,0<(new b.A(c.x-a.x,c.y-a.y)).nj(k)&&(k.x*=-1,k.y*=-1)),h=l}else return e.x=g.x,e.y=g.y,null!=k&&(e=(new b.A(p.y-m.y,m.x-p.x)).Kf(),k.x=e.x,k.y=e.y,0<(new b.A(c.x-a.x,
c.y-a.y)).nj(k)&&(k.x*=-1,k.y*=-1)),l;return h},Da:I(null),r:b.R.eq});b.Xc={};b.Xc.rw=function(a){this.NU=a;this.Kd=[]};b.Xc.rw.n=["f84","speechManager","Dialogue"];b.Xc.rw.prototype={r:b.Xc.rw};b.Xc.Mj=function(a,c){null==c&&(c=!0);null==a&&(a=!0);this.qi=this.NC=this.qx=null;b.kb.call(this);this.NC=new b.Xc.Ow;this.GH=a;this.zH=c;this.qx=[];b.Xc.Mj.Va=this};b.Xc.Mj.n=["f84","speechManager","SpeechManager"];b.Xc.Mj.g=function(){return b.Xc.Mj.Va};b.Xc.Mj.I=b.kb;b.Xc.Mj.prototype=q(b.kb.prototype,
{t3:z("GH"),c6:x("GH"),V2:z("zH"),O5:x("zH"),init:function(){b.kb.prototype.init.call(this)},setup:function(){this.qS()},qS:function(){for(var a=C.parse(b.J.Ha.ic("speechMap")).Ma("speech_map").next().Ma("dialogue");a.xc();){for(var c=a.next(),e=new b.Xc.rw(c.get("soundName")),c=c.Ma("subtitle");c.xc();){var d=c.next(),d=new b.Xc.Pw(d.get("stringId"),r.xa(d.get("time")),r.xa(d.get("duration")));e.Kd.push(d)}this.NC.$y.push(e)}},FF:function(){null!=this.qi&&(this.qi.stop(),this.qi=null)},rS:function(a){var c=
this;null!=this.qi&&this.FF();if("0"==b.ha.na("speechMode")||"2"==b.ha.na("speechMode"))this.qi=b.audio.SoundManager.Wc(a);if("1"==b.ha.na("speechMode")||"2"==b.ha.na("speechMode")){var e=this.NC.ZO(a);if(null!=e){for(;0<this.qx.length;)a=this.qx.pop(),b.D.g().eO(a);a=e.Kd.length;for(var d=0;d<a;){var k=d++,k=[e.Kd[k]];this.qx.push(b.D.g().Hz(k[0].time,function(a){return function(){c.jO(a[0])}}(k)))}}else b.H.Wb.log("WARNING: '"+a+"' has no subtitles.")}return this.qi},jO:function(a){this.dispatchEvent(new b.Xc.mq("showSubtitle",
a.duration,b.Db.pc(a.VU)))},r:b.Xc.Mj});b.Xc.Ow=function(){this.$y=[]};b.Xc.Ow.n=["f84","speechManager","SpeechMap"];b.Xc.Ow.prototype={ZO:function(a){for(var b=this.$y.length,c=0;c<b;){var d=c++;if(this.$y[d].NU==a)return this.$y[d]}return null},r:b.Xc.Ow};b.Xc.Pw=function(a,b,c){this.VU=a;this.time=b;this.duration=c};b.Xc.Pw.n=["f84","speechManager","Subtitle"];b.Xc.Pw.prototype={r:b.Xc.Pw};b.Xc.mq=function(a,c,e){this.Mb=0;b.S.Ea.call(this,a);this.Mb=c;this.yH=e};b.Xc.mq.n=["f84","speechManager",
"SubtitleEvent"];b.Xc.mq.I=b.S.Ea;b.Xc.mq.prototype=q(b.S.Ea.prototype,{L0:z("Mb"),U2:z("yH"),r:b.Xc.mq});b.kc={};b.kc.tt=function(a,c,e,d){this.mi=a;this.lb=c.Da();this.br=e;this.Qa=null==d||Math.gE(d.x)&&Math.gE(d.y)?new b.A:new b.A(d.x,d.y)};b.kc.tt.n=["f84","spriteSheets","SpriteInfo"];b.kc.tt.prototype={LI:z("lb"),Ad:function(a,b){this.Qa.x=a;this.Qa.y=b},Pa:z("Qa"),getName:z("mi"),r:b.kc.tt};b.kc.Nj=function(a,c){this.mb=null;this.Rd=[];this.uH=new D.jd.me;this.mi=a;null==c?this.De=a:(this.De=
c,this.mb=b.J.Ha.ic(this.De))};b.kc.Nj.n=["f84","spriteSheets","SpriteSheet"];b.kc.Nj.tv=function(a,c,e){e=C.parse(e);c=new b.kc.Nj(a,c);for(e=e.Ma("TextureAtlas").next().Ma("sprite");e.xc();){var d=e.next(),d=new b.kc.tt(d.get("n"),new b.Kh(r.xa(d.get("x")),r.xa(d.get("y")),r.xa(d.get("w")),r.xa(d.get("h"))),a,new b.A(r.xa(d.get("oX")),r.xa(d.get("oY"))));c.LH(d)}b.kc.jf.g().KK(c);return c};b.kc.Nj.prototype={getName:z("mi"),getImage:z("mb"),YI:z("De"),LH:function(a){this.Rd.push(a);this.uH.set(a.getName(),
a)},zz:function(a){return this.Rd[a]},DP:function(a){return this.uH.get(a)},r:b.kc.Nj};b.kc.jf=function(){this.QC=new D.jd.me};b.kc.jf.n=["f84","spriteSheets","SpriteSheetManager"];b.kc.jf.g=function(){null==b.kc.jf.Va&&(b.kc.jf.Va=new b.kc.jf);return b.kc.jf.Va};b.kc.jf.g_=function(a,c,e,d,k){var g=b.J.Ha.ic(a),h=Math.floor(g.width/e),g=Math.floor(g.height/d);c=new b.kc.Nj(a,c);for(var l=0;l<g;)for(var m=l++,p=0;p<h;){var q=p++,q=new b.kc.tt(a+q+"-"+m,new b.Kh(q*e,m*d,e,d),a,k);c.LH(q)}b.kc.jf.g().KK(c)};
b.kc.jf.prototype={Fo:function(a){return this.QC.get(a)},KK:function(a){this.QC.set(a.getName(),a)},HS:function(){this.QC=new D.jd.me},r:b.kc.jf};b.Vb={};b.Vb.Zi=function(a){this.pf=this.zm=this.pi=null;this.Qx=!1;this.ju=null;b.q.call(this,a);this.zm=[];this.pf=[];this.pi=[]};b.Vb.Zi.n=["f84","swipeDetector","SwipeDetector"];b.Vb.Zi.I=b.q;b.Vb.Zi.prototype=q(b.q.prototype,{init:function(){b.q.prototype.init.call(this)},onMouseDown:t(),onMouseUp:t(),onMouseMove:t(),reset:function(){this.pf=[];this.pi=
[]},Hm:function(a,c,e){null==this.pf&&(this.pf=[]);null==this.pi&&(this.pi=[]);null==this.zm&&(this.zm=[]);this.pf.push(a);this.pi.push(c);this.zm.push(e);5<this.pf.length&&(this.pf.shift(),this.pi.shift(),this.zm.shift());1<this.pf.length&&this.dispatchEvent(new b.Vb.te("",null,null,this.pf))},L3:function(a,b){this.onMouseMove({x:a,y:b})},K3:function(a,b){this.onMouseDown({x:a,y:b})},M3:function(a,b){this.onMouseUp({x:a,y:b})},Je:function(a,c){b.q.prototype.Je.call(this,a,c);switch(a){case "mouseDown":this.onMouseDown(c);
break;case "mouseMove":this.onMouseMove(c);break;case "mouseUp":this.onMouseUp(c);break;case "mouseOut":this.onMouseUp(c)}},r:b.Vb.Zi});b.Vb.Os=function(a){this.cc=null;b.Vb.Zi.call(this,a)};b.Vb.Os.n=["f84","swipeDetector","DefaultSwipeDetector"];b.Vb.Os.I=b.Vb.Zi;b.Vb.Os.prototype=q(b.Vb.Zi.prototype,{onMouseDown:function(a){this.ju=new b.A(a.x,a.y);this.Qx=!0;this.pi=[];this.pf=[];this.zm=[];this.zm.push(this.ju.Da());this.cc=null},onMouseUp:function(a){this.Qx&&(a=new b.A(a.x,a.y),this.pf=null,
this.Qx=!1,this.cc=a.Da(),this.zm.push(a.Da()))},onMouseMove:function(a){a=new b.A(a.x,a.y);null==this.cc&&(this.cc=a.Da());if(this.Qx){var c=new b.A(a.x-this.cc.x,a.y-this.cc.y);-35>c.y?(null==this.pf&&this.dispatchEvent(new b.Vb.te("swipeUp",this.cc,a)),this.Hm("swipeUp",new b.A(a.x-this.cc.x,a.y-this.cc.y),a),this.cc=a.Da()):35<c.y?(null==this.pf&&this.dispatchEvent(new b.Vb.te("swipeDown",this.cc,a)),this.Hm("swipeDown",new b.A(a.x-this.cc.x,a.y-this.cc.y),a),this.cc=a.Da()):-35>c.x?(null==this.pf&&
this.dispatchEvent(new b.Vb.te("swipeLeft",this.cc,a)),this.Hm("swipeLeft",new b.A(a.x-this.cc.x,a.y-this.cc.y),a),this.cc=a.Da()):35<c.x?(null==this.pf&&this.dispatchEvent(new b.Vb.te("swipeRight",this.cc,a)),this.Hm("swipeRight",new b.A(a.x-this.cc.x,a.y-this.cc.y),a),this.cc=a.Da()):-35>c.x&&-35>c.y?(null==this.pf&&this.dispatchEvent(new b.Vb.te("swipeUpLeft",this.cc,a)),this.Hm("swipeUpLeft",new b.A(a.x-this.cc.x,a.y-this.cc.y),a),this.cc=a.Da()):-35>c.x&&35<c.y?(null==this.pf&&this.dispatchEvent(new b.Vb.te("swipeDownLeft",
this.cc,a)),this.Hm("swipeDownLeft",new b.A(a.x-this.cc.x,a.y-this.cc.y),a),this.cc=a.Da()):35<c.x&&-35>c.y?(null==this.pf&&this.dispatchEvent(new b.Vb.te("swipeUpRight",this.cc,a)),this.Hm("swipeUpRight",new b.A(a.x-this.cc.x,a.y-this.cc.y),a),this.cc=a.Da()):35<c.x&&35<c.y&&(null==this.pf&&this.dispatchEvent(new b.Vb.te("swipeDownRight",this.cc,a)),this.Hm("swipeDownRight",new b.A(a.x-this.cc.x,a.y-this.cc.y),a),this.cc=a.Da())}},hd:function(){b.Vb.Zi.prototype.hd.call(this);if(null!=this.pi&&0!=
this.pi.length){var a=b.Md.XO().getContext();a.save();var c=this.pi.length;a.beginPath();a.globalAlpha=0.65;a.lineWidth=1;a.strokeStyle="#4444FF";var e=b.D.g().Vd().Da();e.x*=0.5;e.y*=0.5;a.moveTo(this.ju.x,this.ju.y);e=this.ju.Da();a.lineTo(e.x,e.y);for(var d=0;d<c;){var k=d++;e.x+=this.pi[k].x;e.y+=this.pi[k].y;a.lineTo(e.x,e.y);a.arc(e.x,e.y,2,0,2*Math.PI,!1);a.moveTo(e.x,e.y)}a.stroke();a.restore()}},r:b.Vb.Os});b.Vb.te=function(a,c,e,d){b.S.Ea.call(this,a);this.start=c;this.end=e;this.hI=d};
b.Vb.te.n=["f84","swipeDetector","SwipeDetectorEvent"];b.Vb.te.I=b.S.Ea;b.Vb.te.prototype=q(b.S.Ea.prototype,{r:b.Vb.te});b.tmx={};b.tmx.Dw=t();b.tmx.Dw.n=["f84","tmx","LevelEvents"];b.tmx.Dw.prototype={r:b.tmx.Dw};b.tmx.Pn=function(){this.image=null;this.width=this.height=0;this.LL="#000000";this.source=""};b.tmx.Pn.n=["f84","tmx","TmxImage"];b.tmx.Pn.prototype={r:b.tmx.Pn};b.tmx.Qw=function(){this.image=null;this.width=this.height=0;this.properties=new D.jd.me};b.tmx.Qw.n=["f84","tmx","TmxImageLayer"];
b.tmx.Qw.prototype={r:b.tmx.Qw};b.tmx.Rw=function(){this.data="";this.width=this.height=0;this.name="";this.properties=new D.jd.me;this.JL=[]};b.tmx.Rw.n=["f84","tmx","TmxLayer"];b.tmx.Rw.prototype={bO:function(){for(var a=this.data.split(","),b=a.length,c=0;c<b;){var d=c++;this.JL.push(r.Gb(a[d]))}},r:b.tmx.Rw};b.tmx.Oj=function(a,c,e,d,k,g,h){this.BH=this.mx=this.vm=null;this.UB=!1;this.Xa=this.W=this.hy=null;this.Qg="";this.nc=null;b.q.call(this,a);this.nc=c;this.Xa=d;this.W=g;this.Qg=e;this.hy=
h;this.BH=[];this.mx=[];this.Nd=[];this.vm=[]};b.tmx.Oj.n=["f84","tmx","TmxLevel"];b.tmx.Oj.I=b.q;b.tmx.Oj.prototype=q(b.q.prototype,{rz:z("W"),Bv:x("W"),GI:z("Qg"),bJ:function(a){for(var b=this.vm.length,c=0;c<b;){var d=c++,d=this.vm[d];if(d.getName()==a)return d}return null},d3:z("BH"),g3:z("nc"),init:function(){b.q.prototype.init.call(this);new b.v.la(this.j);this.Rq=new b.LoadBatch(!0);for(var a=this.nc.Kg.length,c=0;c<a;){var e=c++,e=this.nc.Kg[e];if(0<e.images.length)e=this.Qg+e.images[0].source,
this.Rq.Bg("tmxImage"+e,e,b.AssetType.Image);else if(0<e.qp.length)for(var d=e.qp.length,k=0;k<d;){var g=k++;""!=e.qp[g].image.source&&(g=this.Qg+e.qp[g].image.source,this.Rq.Bg("tmxImage"+g,g,b.AssetType.Image))}else"undefined"!=e.source&&null!=e.source&&(e=this.Qg+e.source,this.Rq.Bg("tmxTileset"+e,e,b.AssetType.Other))}a=this.nc.yr.length;for(c=0;c<a;)e=c++,e=this.nc.yr[e],this.Rq.Bg("tmxImage"+this.Qg+e.image.source,this.Qg+e.image.source,b.AssetType.Image);this.Rq.load(u(this,this.aS))},aS:function(){for(var a=
new b.LoadBatch(!0),c=this.nc.Kg.length,e=0;e<c;){var d=e++,d=this.nc.Kg[d];if(0==d.images.length){var k="tmxTileset"+this.Qg+d.source;if(b.J.Ha.Jm(k)){k=C.parse(b.J.Ha.ic(k)).Ma("tileset").next();d.name=k.get("name");d.pp=parseInt(k.get("tilewidth"));d.pn=parseInt(k.get("tileheight"));var k=k.Ma("image").next(),g=k.get("source"),h=new b.tmx.Pn;h.source=g;h.width=parseInt(k.get("width"));h.height=parseInt(k.get("height"));h.LL=k.get("trans");d.images[0]=h;a.Bg("tmxImage"+this.Qg+g,this.Qg+g,b.AssetType.Image)}}else d.images[0].image=
b.J.Ha.ic("tmxImage"+this.Qg+d.images[0].source)}a.load(u(this,this.$R))},$R:function(){for(var a=this.nc.Kg.length,c=0;c<a;){var e=c++,e=this.nc.Kg[e];null!=e.images[0]&&null==e.images[0].image&&(e.images[0].image=b.J.Ha.ic("tmxImage"+this.Qg+e.images[0].source))}this.vR()},vR:function(){this.UB||(this.UB=!0,null!=this.hy&&(this.hy(),this.hy=null))},rI:function(a,c,e){b.H.Wb.log("createLevel()");this.UB||b.H.Wb.log("Level not loaded; Cannot execute 'createLevel()'!");this.lQ(a,c,e);this.vS(a,c,e)},
lQ:function(a,c,e){null==e&&(e=0);null==c&&(c=0);if(0<this.vm.length)for(var d=0,k=this.vm.length;d<k;){var g=d++;this.vm[g].destroy()}this.vm=[];d=this.nc.yr.length;for(k=0;k<d;){var g=k++,h=this.nc.yr[g],g=this.j.ga().F();this.j.addChild(g);new b.v.ea(g,"tmxImage"+this.Qg+h.image.source);var l=1,m=1;h.properties.Eb("ParallaxX")&&(h.properties.get("ParallaxX"),h.properties.Eb("ParallaxX")&&(l=r.xa(h.properties.get("ParallaxX"))));h.properties.Eb("ParallaxY")&&(h.properties.get("ParallaxY"),h.properties.Eb("ParallaxY")&&
(m=r.xa(h.properties.get("ParallaxY"))));var p=this.W,q=this.ga().F();null==a?this.j.addChild(q):a.addChild(q);var s=new b.v.la(q);q.addChild(g);p.ti(s,l,m);h.properties.Eb("OriginX")&&(l=r.xa(h.properties.get("OriginX")),g.setPosition(g.getLocalPosition().x+l*this.nc.pp,g.getLocalPosition().y,g.getLocalPosition().z));h.properties.Eb("OriginY")&&(h=r.xa(h.properties.get("OriginY")),g.setPosition(g.getLocalPosition().x,g.getLocalPosition().y+h*this.nc.pn,g.getLocalPosition().z))}d=this.nc.zi.length;
for(k=0;k<d;)if(g=k++,h=this.nc.zi[g],!h.properties.Eb("NoMobile")||b.v.Pe.g().BJ()){g=this.ga().F();g.ig(h.name);this.vm.push(g);new b.v.la(g);null==a?this.j.addChild(g):a.addChild(g);for(var l=h.height,m=h.width,p=this.nc.pp,q=this.nc.pn,s=this.nc.Kg.length,u=[],w=0;w<s;){var y=w++,y=this.nc.Kg[y];if(null!=y.images[0])for(var C="tmxImage"+this.Qg+y.images[0].source,A=b.J.Ha.ic("tmxImage"+this.Qg+y.images[0].source),D=y.pp,F=y.pn,K=A.width,M=A.height,O=Math.floor(K/D),G=(D-1)/K,L=(F-1)/M,P=0;P<l;)for(var Q=
P++,S=0;S<m;){var T=S++,U=T*p,V=Q*q,N=h.JL[Q*m+T];if(0!=N){for(var T=N&-2147483648,X=N&1073741824,W=N&536870912,N=N&536870911,R=1,J=0;J<s;){var Y=J++;N>=this.nc.Kg[Y].zo&&(R=this.nc.Kg[Y].zo)}R==y.zo&&(N-=R,0>N||(R=N%O*D/K,N=Math.floor(N/O)*F/M,J=this.j.ga().F(),J.setPosition(U,V+q,this.j.O().z),J.translate(0,0),u.push(J),(new b.v.ea(J,C,new PIXI.Rectangle(Math.round(R*A.width),Math.round(N*A.height),Math.round(G*A.width)+1,Math.round(L*A.height)+1))).uA(new b.A(0,-y.pn)),W&&(J.Ji(0,0,b.H.Sa.rf(90)),
J.Bd(1,-1)),T&&(W?(J.translate(D,0),J.Bd(J.wc().x,-J.wc().y,1)):(J.translate(D,0),J.Bd(-J.wc().x,J.wc().y,1))),X&&(W?(J.translate(0,D),J.Bd(-J.wc().x,J.wc().y,1)):(J.translate(0,F),J.Bd(J.wc().x,-J.wc().y,1))),J.translate(c,e),g.addChild(J)))}}}E.Vh(this.W)==b.v.Xi&&(l=this.W,m=h.properties.Eb("ParallaxX")?r.xa(h.properties.get("ParallaxX")):1,h=h.properties.Eb("ParallaxY")?r.xa(h.properties.get("ParallaxY")):1,l.ti(g.T(b.v.la),m,h))}},vS:function(a,c,d){null==d&&(d=0);null==c&&(c=0);for(var f=this.nc.Mr.length,
k=0;k<f;)for(var g=k++,g=this.nc.Mr[g],h=g.Ca.length,l=0;l<h;){var m=l++,m=g.Ca[m],p=m.XE;if(("Collision"==m.type||"SoftCollision"==m.type)&&null!=p){var q=m.rotation,r=this.j.ga().F();null==a?this.j.addChild(r):a.addChild(r);for(var s=new b.R.eq,u=p.points.length,w=0;w<u;){var y=w++,y=p.points[y],A=Math.sin(b.H.Sa.rf(q)),C=Math.cos(b.H.Sa.rf(q));s.so(Math.floor(y.x)*C-Math.floor(y.y)*A,Math.floor(y.x)*A+Math.floor(y.y)*C)}(new b.k.Ud.dq(r,s)).Sd("Collision"==m.type?"ground":"softGround");r.setPosition(Math.floor(m.x),
Math.floor(m.y));r.translate(c,d);this.mx.push(r)}else if("Collision"==m.type||"SoftCollision"==m.type)p=this.j.ga().F(),null==a?this.j.addChild(p):a.addChild(p),q=new b.R.eq,q.so(0,0),q.so(m.width,0),q.so(m.width,m.height),q.so(0,m.height),q.so(0,0),(new b.k.Ud.dq(p,q)).Sd("Collision"==m.type?"ground":"softGround"),p.setPosition(Math.floor(m.x),Math.floor(m.y)),p.translate(c,d),this.mx.push(p)}},uf:function(a){for(var b=this.yD(),c=[],c=c.concat(b),b=c.length-1;0<=b;)c[b].type!=a&&c.splice(b,1),
b--;return c},yD:function(){for(var a=[],b=this.nc.Mr.length,c=0;c<b;)for(var d=c++,d=this.nc.Mr[d],k=d.Ca.length,g=0;g<k;){var h=g++;a.push(d.Ca[h])}return a},$_:function(a,c){for(var d=-1,f=null,k=c.length,g=0;g<k;){var h=g++,h=c[h],l=new b.A(h.x+h.width/2,h.y+h.height/2),l=new b.A(l.x-a.x,l.y-a.y);if(-1==d||l.Dc()<d)d=l.Dc(),f=h}return f},BO:function(a){for(var b=this.yD(),c=b.length,d=0;d<c;){var k=d++,k=b[k];if(k.name==a)return k}return null},tD:function(a){for(var b=this.yD(),c=b.length,d=0;d<
c;){var k=d++,k=b[k];if(k.type==a)return k}return null},f0:z("mx"),O2:function(a,d,e){var f=this;null==this.tu&&(this.tu=new D.jd.Yp);this.tu.Eb(d)||this.tu.set(d,new D.jd.Yp);var k=this.tu.get(d);k.Eb(a)||k.set(a,[]);k=k.get(a);if(null==k[e]){k[e]=this.ga().F();var g=new b.v.la(k[e]);g.addEventListener("destroy",function(){f.tu.get(d).get(a)[e]=null});new c.platformer.qt(g.j);g.j.translate(-Math.round(0),-Math.round(0))}k[e].ig(a+"//"+d+"//"+e);return k[e]},Ze:function(){b.q.prototype.Ze.call(this);
this.nc=null;this.Rq.unload()},r:b.tmx.Oj});b.tmx.Sw=function(){this.Kg=this.zi=this.Mr=this.yr=this.properties=null;this.width=this.height=this.pp=this.pn=0;this.orientation="orthogonal";this.Kg=[];this.zi=[];this.Mr=[];this.yr=[];this.properties=new D.jd.me};b.tmx.Sw.n=["f84","tmx","TmxMap"];b.tmx.Sw.prototype={UN:function(a,c,d){for(var f=this.Kg.length,k=0;k<f;){var g=k++,g=this.Kg[g];if(0!=g.qp.length){var h=c;if(0!=h){for(var h=h&536870911,l=1,m=0;m<f;){var p=m++;h>=this.Kg[p].zo&&(l=this.Kg[p].zo)}if(l==
g.zo&&(h-=l,!(0>h)))return c="tmxImage"+d+g.qp[h].image.source,b.J.Ha.ic(c),new b.v.ea(a,c)}}}return null},r:b.tmx.Sw};b.tmx.Tw=function(){this.XE=this.YE=null;this.x=this.y=this.rotation=this.width=this.height=0;this.name=this.type="";this.properties=new D.jd.me};b.tmx.Tw.n=["f84","tmx","TmxObject"];b.tmx.Tw.prototype={oS:function(a){this.XE=new b.tmx.Vw;a=a.split(" ");for(var c=a.length,d=0;d<c;){var f=d++,f=a[f].split(",");this.XE.points.push(new b.A(r.xa(f[0]),r.xa(f[1])))}},pS:function(a){this.YE=
new b.tmx.Ww;a=a.split(" ");for(var c=a.length,d=0;d<c;){var f=d++,f=a[f].split(",");this.YE.points.push(new b.A(r.xa(f[0]),r.xa(f[1])))}},r:b.tmx.Tw};b.tmx.Uw=function(){this.visible=!0;this.width=this.height=0;this.name="";this.Ca=[]};b.tmx.Uw.n=["f84","tmx","TmxObjectGroup"];b.tmx.Uw.prototype={r:b.tmx.Uw};b.tmx.Vw=function(){this.points=[]};b.tmx.Vw.n=["f84","tmx","TmxPolygon"];b.tmx.Vw.prototype={r:b.tmx.Vw};b.tmx.Ww=function(){this.points=[]};b.tmx.Ww.n=["f84","tmx","TmxPolyline"];b.tmx.Ww.prototype=
{r:b.tmx.Ww};b.tmx.xt=t();b.tmx.xt.n=["f84","tmx","TmxReader"];b.tmx.xt.nP=function(a){var c=new b.tmx.Sw;a=C.parse(a).Ma("map").next();c.pp=r.xa(a.get("tilewidth"));c.pn=r.xa(a.get("tileheight"));c.width=r.xa(a.get("width"));c.height=r.xa(a.get("height"));c.orientation=a.get("orientation");for(var d=a.Ma("properties");d.xc();)for(var f=d.next().Ma("property");f.xc();){var k=f.next(),g=k.get("name"),k=k.get("value");c.properties.set(g,k)}for(d=a.Ma("tileset");d.xc();){g=d.next();f=new b.tmx.Yw;f.zo=
r.Gb(g.get("firstgid"));f.source=g.get("source");f.name=g.get("name");f.pp=r.Gb(g.get("tilewidth"));f.pn=r.Gb(g.get("tileheight"));c.Kg.push(f);if(g.Ma("image").xc()){var k=g.Ma("image").next(),h=new b.tmx.Pn;h.width=r.Gb(k.get("width"));h.height=r.Gb(k.get("height"));h.source=k.get("source");h.LL=k.get("trans");f.images.push(h)}for(g=g.Ma("tile");g.xc();){h=g.next();k=new b.tmx.Xw;k.id=h.get("id");var h=h.Ma("image").next(),l=new b.tmx.Pn;null!=h&&(l.width=r.xa(h.get("width")),l.height=r.xa(h.get("height")),
l.source=h.get("source"));k.image=l;f.qp.push(k)}}for(d=a.Ma("layer");d.xc();)if(g=d.next(),f=new b.tmx.Rw,f.name=g.get("name"),f.width=r.xa(g.get("width")),f.height=r.xa(g.get("height")),g.Ma("data").xc()?f.data=g.Ma("data").next().firstChild().Ez():f.data=null,f.bO(),c.zi.push(f),g.Ma("properties").xc())for(g=g.Ma("properties").next().Ma("property");g.xc();)h=g.next(),k=h.get("name"),h=h.get("value"),f.properties.set(k,h);for(d=a.Ma("objectgroup");d.xc();){g=d.next();f=new b.tmx.Uw;f.width=r.xa(g.get("width"));
f.height=r.xa(g.get("height"));f.visible=1==r.Gb(g.get("visible"));f.name=g.get("name");for(g=g.Ma("object");g.xc();)if(h=g.next(),k=new b.tmx.Tw,k.name=h.get("name"),k.width=r.xa(h.get("width")),k.height=r.xa(h.get("height")),k.x=r.xa(h.get("x")),k.y=r.xa(h.get("y")),k.type=h.get("type"),h.Eb("rotation")?k.rotation=r.xa(h.get("rotation")):k.rotation=0,h.Eb("gid")?k.CJ=r.Gb(h.get("gid")):k.CJ=null,f.Ca.push(k),h.Ma("polygon").xc()&&k.oS(h.Ma("polygon").next().get("points")),h.Ma("polyline").xc()&&
k.pS(h.Ma("polyline").next().get("points")),h.Ma("properties").xc())for(h=h.Ma("properties").next().Ma("property");h.xc();){var m=h.next(),l=m.get("name"),m=m.get("value");k.properties.set(l,m)}c.Mr.push(f)}for(a=a.Ma("imagelayer");a.xc();)if(f=a.next(),!f.Eb("visible")||"0"!=f.get("visible")){d=new b.tmx.Qw;d.name=f.get("name");d.width=r.Gb("width");d.height=r.Gb("height");g=new b.tmx.Pn;d.image=g;g.source=f.Ma("image").next().get("source");if(f.Ma("properties").xc())for(f=f.Ma("properties").next().Ma("property");f.xc();)k=
f.next(),g=k.get("name"),k=k.get("value"),d.properties.set(g,k);c.yr.push(d)}return c};b.tmx.xt.prototype={r:b.tmx.xt};b.tmx.Xw=t();b.tmx.Xw.n=["f84","tmx","TmxTile"];b.tmx.Xw.prototype={r:b.tmx.Xw};b.tmx.Yw=function(){this.name="";this.pp=this.pn=0;this.source="";this.zo=0;this.images=[];this.qp=[]};b.tmx.Yw.n=["f84","tmx","TmxTileset"];b.tmx.Yw.prototype={r:b.tmx.Yw};b.ba={};b.ba.qg={sg:!0,mh:["Left","Center","Right"]};b.ba.qg.gi=["Left",0];b.ba.qg.gi.sb=b.ba.qg;b.ba.qg.Yl=["Center",1];b.ba.qg.Yl.sb=
b.ba.qg;b.ba.qg.iq=["Right",2];b.ba.qg.iq.sb=b.ba.qg;b.ba.qg.Mh=[b.ba.qg.gi,b.ba.qg.Yl,b.ba.qg.iq];b.ba.rg={sg:!0,mh:["Top","Center","Bottom"]};b.ba.rg.RF=["Top",0];b.ba.rg.RF.sb=b.ba.rg;b.ba.rg.Yl=["Center",1];b.ba.rg.Yl.sb=b.ba.rg;b.ba.rg.kw=["Bottom",2];b.ba.rg.kw.sb=b.ba.rg;b.ba.rg.Mh=[b.ba.rg.RF,b.ba.rg.Yl,b.ba.rg.kw];b.ba.Oa=function(a,c){this.PM=!0;this.ou=this.vC=!1;this.Ja=this.lb=this._size=this.oa=null;b.q.call(this,a);this.zU(c);this.lb=new b.A(0,0);this.oa=new b.A(1,1);this.HB=b.ba.qg.Yl;
this.WC=b.ba.rg.Yl};b.ba.Oa.n=["f84","ui","UiElement"];b.ba.Oa.I=b.q;b.ba.Oa.prototype=q(b.q.prototype,{init:function(){b.q.prototype.init.call(this);if(null==this._size){var a=this.T(b.k.GameImage),c=this.T(b.v.ea);null!=a?this.mp(a.Cg()):null!=c?this.mp(new b.A(c.V().width,c.V().height)):this.mp(new b.A(0,0))}this.rp()},AP:z("oa"),Cg:z("_size"),m2:z("vC"),H5:x("vC"),mp:function(a){null==this._size&&(this._size=new b.A);this._size.x=a.x;this._size.y=a.y},j3:z("Ja"),Bd:function(a,c){null==c&&(c=1);
null==a&&(a=1);this.oa=new b.A(a,c)},zU:function(a){null!=this.Ja&&this.Ja.removeEventListener("updateDisplay",u(this,this.vK));this.Ja=a;this.Ja.addEventListener("updateDisplay",u(this,this.vK));this.Ja.j.addChild(this.j)},q1:z("HB"),dU:function(a){this.HB=a;this.ou=!0},r3:z("WC"),CU:function(a){this.WC=a;this.ou=!0},LI:z("lb"),o0:z("lb"),xb:x("lb"),cL:function(a,b){this.dU(a);this.CU(b)},update:function(){b.q.prototype.update.call(this)},ee:function(){b.q.prototype.ee.call(this);(this.ou||this.PM)&&
this.rp()},vK:function(){this.ou=!0},rp:function(){this.Ja.Cg();b.D.g();this.Ja.Cg();b.D.g();var a=this.Ja.Cg().x/2*this.lb.x,c=this.Ja.Cg().y/2*this.lb.y;this.vC?this.j.Bd(this.oa.x,this.oa.y):this.j.Bd(this.oa.x/this.Ja.j.wc().x,this.oa.y/this.Ja.j.wc().y);var d=this._size.Da();switch(this.HB[1]){case 0:a+=d.x/2/this.Ja.j.wc().x;break;case 2:a-=d.x/2/this.Ja.j.wc().x}switch(this.WC[1]){case 0:c+=d.y/2/this.Ja.j.wc().y;break;case 2:c-=d.y/2/this.Ja.j.wc().y}this.j.setPosition(a,c);this.ou=!1},hd:function(){b.q.prototype.hd.call(this);
if(null!=this._size){var a=b.D.g().vf("debug").getCanvas().getContext("2d");a.save();var c=this.j.O();a.beginPath();a.lineWidth=1;a.strokeStyle="#0000FF";a.moveTo(c.x-this._size.x/2,c.y-this._size.y/2);a.lineTo(c.x+this._size.x/2,c.y-this._size.y/2);a.lineTo(c.x+this._size.x/2,c.y+this._size.y/2);a.lineTo(c.x-this._size.x/2,c.y+this._size.y/2);a.lineTo(c.x-this._size.x/2,c.y-this._size.y/2);a.stroke();a.restore()}},r:b.ba.Oa});b.ba.zt=function(a,c){b.q.call(this,a);this._size=c;this.Ky=s.Od()};b.ba.zt.n=
["f84","ui","UiPanel"];b.ba.zt.I=b.q;b.ba.zt.prototype=q(b.q.prototype,{init:function(){b.q.prototype.init.call(this);this.mp(this._size)},Cg:z("_size"),mp:function(a){this._size=a;this.rp()},rp:function(){this.dispatchEvent(new b.ba.oq("updateDisplay"));this.j.Bd(1/b.D.g().Fd().x,1/b.D.g().Fd().y)},hd:function(){b.q.prototype.hd.call(this);var a=b.D.g().vf("debug").getCanvas().getContext("2d");a.save();var c=this.j.O();a.beginPath();a.lineWidth=1;a.strokeStyle="#FF0000";a.moveTo(c.x-this._size.x/
2,c.y-this._size.y/2);a.lineTo(c.x+this._size.x/2,c.y-this._size.y/2);a.lineTo(c.x+this._size.x/2,c.y+this._size.y/2);a.lineTo(c.x-this._size.x/2,c.y+this._size.y/2);a.lineTo(c.x-this._size.x/2,c.y-this._size.y/2);a.stroke();a.restore()},r:b.ba.zt});b.ba.oq=function(a){b.S.Ea.call(this,a)};b.ba.oq.n=["f84","ui","UiPanelEvent"];b.ba.oq.I=b.S.Ea;b.ba.oq.prototype=q(b.S.Ea.prototype,{r:b.ba.oq});b.ba.$w=function(a,c,d){null==d&&(d=!0);this.fG=!0;this.oy=this.$j=0;this.Ja=this.Ky=null;b.q.call(this,a);
this.Ja=c;this.Ky=s.Od();this.fG=d};b.ba.$w.n=["f84","ui","UiPanelSizeToWindow"];b.ba.$w.I=b.q;b.ba.$w.prototype=q(b.q.prototype,{update:function(){b.q.prototype.update.call(this);var a=this.Ky.innerWidth,c=this.Ky.innerHeight,d=b.D.g().Vd();d.x*=b.D.g().Fd().x;d.y*=b.D.g().Fd().y;this.fG&&(a>d.x&&(a=d.x),c>d.y&&(c=d.y));this.oy==a&&this.$j==c&&"NONE"==b.ha.na("forceOrientation")||this.Ja.mp(new b.A(a,c));this.j.setPosition(b.D.g().Vd().x/2,b.D.g().Vd().y/2);this.oy=a;this.$j=c},r:b.ba.$w});b.H={};
b.H.Bj=t();b.H.Bj.n=["f84","utilities","ArrayUtils"];b.H.Bj.indexOf=function(a,b){for(var c=a.length,d=0;d<c;){var k=d++;if(a[k]==b)return k}return-1};b.H.Bj.clear=function(a){a.length=0};b.H.Bj.prototype={r:b.H.Bj};b.H.Wb=t();b.H.Wb.n=["f84","utilities","Debug"];b.H.Wb.log=t();b.H.Wb.alert=t();b.H.ta=t();b.H.ta.n=["f84","utilities","KeyCodes"];b.H.Sa=t();b.H.Sa.n=["f84","utilities","Math2"];b.H.Sa.rf=function(a){return 0.0174532925*a};b.H.Sa.jn=function(a){return 57.2957795*a};b.H.Sa.wv=function(a,
b){return a+Math.random()*(b-a)};b.H.Sa.xv=function(a,c){return Math.floor(b.H.Sa.wv(a,c))};b.H.Sa.a0=function(a,c,d){c=new b.A(c.x-a.x,c.y-a.y);d=(new b.A(d.x-a.x,d.y-a.y)).nj(c)/c.nj(c);0>d&&(d=0);1<d&&(d=1);d=new b.A(c.x*d,c.y*d);return new b.A(a.x+d.x,a.y+d.y)};b.H.Sa.Wm=function(a,c,d,f,k){var g=(c.x-a.x)*(f.y-d.y)-(c.y-a.y)*(f.x-d.x),h=(c.x-a.x)*(f.y-d.y)-(c.y-a.y)*(f.x-d.x);if(0==g||0==h)return-2;f=((a.y-d.y)*(f.x-d.x)-(a.x-d.x)*(f.y-d.y))/g;d=((a.y-d.y)*(c.x-a.x)-(a.x-d.x)*(c.y-a.y))/h;return 0<
f&&1>f&&0<d&&1>d?(d=(new b.A(a.x-c.x,a.y-c.y)).Dc()*f,c=new b.A(c.x-a.x,c.y-a.y),c.Jg(f,f),c=new b.A(a.x+c.x,a.y+c.y),k.x=c.x,k.y=c.y,d):-1};b.H.Sa.Qc=function(a,b,c){return a<b?b:a>c?c:a};b.H.Sa.Ru=function(a,c){var d=b.H.Sa.rf(c),f=Math.cos(d),d=Math.sin(d),k=new b.A(a.x,a.y),g=k.x*d+k.y*f;k.x=k.x*f-k.y*d;k.y=g;return k};b.H.Sa.oz=function(a,c){return b.H.Sa.jn(Math.atan2(a.x*c.y-a.y*c.x,a.nj(c)))};b.H.em=t();b.H.em.n=["f84","utilities","Profiler"];b.H.em.n6=function(a){b.H.em.pH.set(a,D.On.Iv())};
b.H.em.r6=function(a){return D.On.Iv()-b.H.em.pH.get(a)};b.H.em.prototype={r:b.H.em};b.H.ut=t();b.H.ut.n=["f84","utilities","StringTools2"];b.H.ut.HN=function(a){var c=b.Db.pc("GAMEPLAY_SCREEN_TIMER"),c=F.replace(c,"%N",Math.floor(a/60));a=r.sc(Math.floor(a%60));2>a.length&&(a="0"+a);return c=F.replace(c,"%M",a)};b.H.ut.prototype={r:b.H.ut};b.H.qq=function(a){this.dr=null;b.S.Mg.call(this);this.dr=a};b.H.qq.n=["f84","utilities","WatchableValue"];b.H.qq.I=b.S.Mg;b.H.qq.prototype=q(b.S.Mg.prototype,
{set:function(a){var c=this.dr;this.dr=a;this.dr!=c&&this.dispatchEvent(new b.H.rq("change",this.dr,c))},get:z("dr"),r:b.H.qq});b.H.rq=function(a,c,d){b.S.Ea.call(this,a);this.value=c;this.oldValue=d};b.H.rq.n=["f84","utilities","WatchableValueEvent"];b.H.rq.I=b.S.Ea;b.H.rq.prototype=q(b.S.Ea.prototype,{r:b.H.rq});var c={se:t()};c.se.n=["game","AnimationFactory"];c.se.If=function(a,c,d,f,k){null==k&&(k=!0);null==f&&(f=1);null==b.J.ke.g().vi(a)&&(b.kc.Nj.tv(a,a,b.J.Ha.ic(c)),b.k.ih.Wz(a,a,f,k).Ad(d.x,
d.y))};c.se.cN=function(a,c,d,f,k,g){null==g&&(g=!0);null==k&&(k=1);if(null==b.J.ke.g().vi(c))for(a=b.J.ke.g().vi(a),b.kc.Nj.tv(c,c,b.J.Ha.ic(d)),c=b.k.ih.Wz("tempAnim",c,k,g,-1,a.wm),c.Ad(f.x,f.y),f=c.dj,c=f.length,d=0;d<c;)k=d++,a.My(f[k])};c.se.prototype={r:c.se};c.zn=function(){this.Qh=0;this.Jt=[];this.It=[new b.A(-0.75,0),new b.A(-0.25,0),new b.A(0.25,0),new b.A(0.75,0)];b.ya.call(this)};c.zn.n=["game","CharacterSelectScreen"];c.zn.I=b.ya;c.zn.prototype=q(b.ya.prototype,{u1:z("Qh"),eU:x("Qh"),
init:function(){b.ya.prototype.init.call(this);this.Ja=c.ab.bh(this);var a=this.F();new b.ba.Oa(a,this.Ja);(new b.v.ea(a,"levelCompleteBg")).V().anchor=new PIXI.Point(0.5,0.5);a=this.F();(new b.ba.Oa(a,this.Ja)).xb(new b.A(-1,-1));new b.v.ea(a,"cornerGraphic");a=this.F();new b.v.la(a);(new b.ba.Oa(a,this.Ja)).xb(new b.A(0,-0.776));var d=this.F();(new b.v.ea(d,"headerBg")).V().anchor=new PIXI.Point(0.5,0.5);a.addChild(d);d=this.F();d.setPosition(0,-5);var e={font:"42px curse_casualregular"};e.fill=
c.pd.Qd;var f;f=0==this.Qh?b.Db.pc("CHARACTER_SELECT_HEADING"):b.Db.pc("CHARACTER_SELECT_HEADING_ALT");new b.v.rb(d,f,e);a.addChild(d);a=this.F();new b.v.la(a);(new b.ba.Oa(a,this.Ja)).xb(new b.A(0.02,-0.5));d=this.F();(new b.v.ea(d,"hudCollectibleBg")).V().anchor=new PIXI.Point(0.5,0.5);a.addChild(d);d=this.F();d.setPosition(7,0);e={font:"24px curse_casualregular"};e.fill=c.pd.Qd;this.bM=new b.v.rb(d,r.sc(c.Z.g().jk()),e);a.addChild(d);this.lI();a=c.ab.Te(this.Ja,0.875,-0.8,"storeButton","storeButton",
u(this,this.xK),"ui_click_1","",!1);this.Qj=this.F();this.Qj.setPosition(30,-25);(new b.v.ea(this.Qj,"storeAlert")).V().anchor=new PIXI.Point(0.5,0.5);a.addChild(this.Qj);new b.k.Jh(this.Qj,this.Qj.oa,"y",0.9,0.1,5);this.Qj.af(c.platformer.ib.ed.g().xr());c.ab.Te(this.Ja,-0.86,-0.758,"backButton","backButton",u(this,this.XQ),"ui_click_1");0==this.Qh?c.ab.sI("CHARACTER_SELECT_FLIGHT_SUITS","nextTextButton",this.Ja,u(this,this.pK)):c.ab.sI("CHARACTER_SELECT_FLIGHT_SUITS_BACK","prevTextButton",this.Ja,
u(this,this.pK))},pK:function(){var a=new c.zn;a.eU(0==this.Qh?1:0);b.D.g().Lv(this,a)},lI:function(){for(var a=this,d=this.It.length,e=0;e<d;){var f=[e++],k=E.jD(c.platformer.character.CharacterId,f[0]),g=!c.Z.g().ED(k,1==this.Qh),h=null,h=0==this.Qh?c.ab.Te(this.Ja,this.It[f[0]].x,this.It[f[0]].y,"characterPortrait"+(f[0]+1)+(g?"Locked":""),"characterPortrait"+(f[0]+1)+(g?"Locked":""),function(b){return function(){a.iK(b[0])}}(f),"ui_click_1","",!1):c.ab.Te(this.Ja,this.It[f[0]].x,this.It[f[0]].y,
"characterPortraitAlt"+(f[0]+1)+(g?"Locked":""),"characterPortraitAlt"+(f[0]+1)+(g?"Locked":""),function(b){return function(){a.iK(b[0])}}(f),"ui_click_1","",!1);g&&(f=this.F(),f.setPosition(-18,33),g={font:"32px curse_casualregular"},g.fill=c.pd.Qd,g.align="left",k=new b.v.rb(f,r.sc(c.Z.g().DD(k,1==this.Qh)),g),h.addChild(f),k.ve().anchor=new PIXI.Point(0,0.5));this.Jt.push(h)}},yN:function(){for(var a=this.Jt.length,b=0;b<a;){var c=b++;this.Jt[c].destroy()}this.Jt=[]},HK:function(){this.yN();this.lI();
this.update()},IK:function(){this.bM.Pl(r.sc(c.Z.g().jk()))},xK:function(){c.Z.g().zF(this,u(this,this.gS))},gS:function(){this.HK();this.IK();this.Qj.T(b.v.la).Na().visible=c.platformer.ib.ed.g().xr()},XQ:function(){c.Be.Qm(this,new c.fm)},iK:function(a){a=E.jD(c.platformer.character.CharacterId,a);c.Z.g().ED(a,1==this.Qh)?(c.Z.g().uU(a),c.Z.g().vT(1==this.Qh),this.PU(1)):c.Z.g().jk()>=c.Z.g().DD(a,1==this.Qh)?(c.Z.g().ZD(-c.Z.g().DD(a,1==this.Qh)),c.Z.g().DT(a,1==this.Qh),this.HK(),this.IK(),b.audio.SoundManager.Wc("ui_coin_spend")):
b.audio.SoundManager.Wc("ui_error_1")},PU:function(a){var d=new b.LoadBatch;d.jI(b.J.Ha.ic("gameplayLoad"));c.Z.g().QT(a);this.nl=new c.Kn;c.Be.Qm(this,this.nl);a="level"+c.Z.g().Wn+"Load";d.jI(b.J.Ha.ic(a));d.load(u(this,this.oK))},oK:function(){this.co=new c.ff;this.co.addEventListener("ready",u(this,this.pv));b.D.g().Fe(this.co)},pv:function(){c.Be.kO(this.nl,this.co,u(this,this.wR))},wR:function(){c.platformer.aa.g()},r:c.zn});c.Ms=function(a){b.ya.call(this);this.qh=a};c.Ms.n=["game","ConfirmQuitState"];
c.Ms.I=b.ya;c.Ms.prototype=q(b.ya.prototype,{init:function(){b.ya.prototype.init.call(this);var a=c.ab.bh(this);b.D.g();var d=this.F(),e=new b.v.ea(d,"popupOverlay");e.V().anchor=new PIXI.Point(0.5,0.5);e.Gk(new b.A(100,1));new b.ba.Oa(d,a);d=this.F();(new b.ba.Oa(d,a)).xb(new b.A(0,1));(new b.v.ea(d,"popupDeco")).V().anchor=new PIXI.Point(0.5,1);d=this.F();new b.v.la(d);(new b.ba.Oa(d,a)).xb(new b.A(0.023,0.016));e=this.F();e.setPosition(-2,-24);d.addChild(e);(new b.v.ea(e,"popupBg")).V().anchor=
new PIXI.Point(0.5,0.5);e=this.F();e.setPosition(0,-50);var f={font:"24px work_sansbold"};f.fill=c.pd.Qd;f.wordWrapWidth=450;f.wordWrap=!0;f.align="center";new b.v.rb(e,b.Db.pc("GAMEPLAY_SCREEN_QUIT_CONFIRM_TEXT"),f);d.addChild(e);d=this.F();new b.v.la(d);(new b.ba.Oa(d,a)).xb(new b.A(-0.004,-0.72));e=this.F();e.setPosition(0,20);f={font:"42px curse_casualregular"};f.fill=c.pd.Qd;new b.v.rb(e,b.Db.pc("GAMEPLAY_SCREEN_QUIT_CONFIRM"),f);d.addChild(e);c.ab.Te(a,-0.162,0.356,"yesButton","yesButton",u(this,
this.WE),"ui_click_1");c.ab.Te(a,0.119,0.356,"closeButton","closeButton",u(this,this.PE),"ui_click_1")},WE:function(){this.destroy();c.Be.Qm(this.qh,new c.ff)},PE:function(){var a=new c.cq(this.qh);b.D.g().Fe(a);b.D.g().Ek(this)},r:c.Ms});c.Np=t();c.Np.n=["game","EntityFactory"];c.Np.PN=function(a){a=a.F();new c.fi(a);return a};c.Np.XZ=function(a,c,e,f,k,g,h,l){k=g.F();g=new d.e.rn;g.type=d.e.ra.ah;h=new d.e.xp;h.Zy=1;h.zv=0;var m={l:"ground"};l&&(m.KU=!0);h.Jk=m;k.setPosition(a+e/2,c+f/2);new b.k.Ud.Af(k,
new b.R.ef(0,0,e,f));a=e*b.da.ac.g().Xg/2;f=f*b.da.ac.g().Xg/2;f=d.l.R.ud.QH(a,f);new b.da.Ej(k,g,f,h);return k};c.Np.prototype={r:c.Np};c.Be=function(a,c){b.$e.Pj.call(this,a,c)};c.Be.n=["game","FadeTransition"];c.Be.Qm=function(a,d){var e=new c.Be(a,d);b.D.g().Fe(e)};c.Be.kO=function(a,d,e){a=new c.Be(a,d);a.addEventListener("midpoint",e);b.D.g().Fe(a)};c.Be.I=b.$e.Pj;c.Be.prototype=q(b.$e.Pj.prototype,{init:function(){var a=this;b.$e.Pj.prototype.init.call(this);b.J.Hc.g().nA(!0);var c=this.F();
c.setPosition(512,384);this.rh=new b.v.ea(c,"overlay");this.rh.V().anchor=new PIXI.Point(0.5,0.5);c.Bd(200,200);this.$=new b.k.Ac(c);this.$.sa(this.rh.V(),"alpha",0,1,0.2,b.k.ma.qa.dh,0,function(){a.TE()});this.$.sa(this.rh.V(),"alpha",1,0,0.2,b.k.ma.qa.dh,0.3,function(){a.dS()})},render:function(){b.$e.Pj.prototype.render.call(this);null!=this.rh&&this.rh.wN();var a=b.D.g().Dd;w.remove(a,this);b.D.g().Dd.push(this)},TE:function(){b.$e.Pj.prototype.TE.call(this);b.J.Hc.g().nA(!1)},r:c.Be});c.Xs=t();
c.Xs.n=["game","FontFamilies"];c.Ys=function(a,c){b.q.call(this,a);this.W=c};c.Ys.n=["game","ForegroundElement"];c.Ys.I=b.q;c.Ys.prototype=q(b.q.prototype,{update:function(){b.q.prototype.update.call(this);-1024>this.j.getLocalPosition().x-this.W.getLocalPosition().x&&this.j.destroy()},r:c.Ys});c.pd=t();c.pd.n=["game","GameColors"];c.pd.prototype={r:c.pd};c.Z=function(){this.cG=this.rG=this.bG=!1;this.fj=0;this.Ft=!1;this.ql=c.platformer.character.CharacterId.Cw;this.Wn=1;b.S.Mg.call(this);this.kG=
c.platformer.Kj.KA;c.Z.Va=this;this.Ib=new b.Mw;this.yg=new d.f.math.K};c.Z.n=["game","GameTracker"];c.Z.g=function(){null==c.Z.Va&&(c.Z.Va=new c.Z);return c.Z.Va};c.Z.oJ=function(a){return"levelScore"+(null==a?"null":""+a)};c.Z.I=b.S.Mg;c.Z.prototype=q(b.S.Mg.prototype,{D_:z("Ft"),vT:x("Ft"),K2:z("ql"),uU:x("ql"),v0:z("kG"),X4:x("kG"),Ou:function(){return new d.f.math.K(this.yg.x,this.yg.y)},Ev:x("yg"),H2:z("Ib"),rP:function(){return r.Gb(b.ha.na("numLevels"))},sP:function(){return this.Ib.getItem("numLevelsUnlocked",
1)},z5:function(a){this.Ib.setItem("numLevelsUnlocked",Math.min(this.rP(),Math.max(a,this.sP())))},tU:function(a,b){a>this.QD(b)&&this.Ib.setItem(c.Z.oJ(b),a)},QD:function(a){return this.Ib.getItem(c.Z.oJ(a),0)},sU:function(a){this.tU(a,this.Wn)},QT:x("Wn"),z0:z("Wn"),II:function(){return this.fj*r.Gb(b.ha.na("cheese.scoreValue"))},AT:function(a){this.qz()<a&&this.Ib.setItem("bestCheeseScore",a)},qz:function(){return this.Ib.getItem("bestCheeseScore",0)},Bo:function(){var a=r.xa(b.ha.na("game.goal.DistanceToRun1"));
return this.Ib.getItem("currentDistanceGoal",a)},gL:function(a){this.Ib.setItem("currentDistanceGoal",a)},F3:function(a){this.gL(this.Bo()+a)},VO:function(){return this.Ib.getItem("currentDistanceGoalLevel",1)},PT:function(a){this.Ib.setItem("currentDistanceGoalLevel",a)},GT:x("rG"),X_:z("rG"),c0:function(a){return this.Ib.getItem("level"+a+"CollectiblesFound",0)},R4:function(a,b){this.Ib.setItem("level"+a+"CollectiblesFound",b)},d0:function(a){return this.Ib.getItem("level"+a+"NumCollectibles",-1)},
S4:function(a,b){this.Ib.setItem("level"+a+"NumCollectibles",b)},f3:function(a){return this.Ib.getItem("level"+a+"Time",99999)},T5:function(a,b){this.Ib.setItem("level"+a+"Time",b)},m1:function(){return this.Ib.getItem("hasBeatenGame",!1)},f5:function(a){this.Ib.setItem("hasBeatenGame",a)},VI:function(){return this.Ib.getItem("hasStartedGame",!1)},lL:function(a){this.Ib.setItem("hasStartedGame",a)},jk:function(){return this.Ib.getItem("numCoins",0)},HT:function(a){this.Ib.setItem("numCoins",a)},ZD:function(a){this.HT(this.jk()+
a)},WK:function(){this.fj=0},FJ:function(a){null==a&&(a=1);this.fj+=a},S_:z("fj"),FT:x("cG"),W_:z("cG"),Mu:function(){var a=r.xa(b.ha.na("game.goal.piecesOfCheese1"));return this.Ib.getItem("currentCheesePiecesGoal",a)},NT:function(a){this.Ib.setItem("currentCheesePiecesGoal",a)},UO:function(){return this.Ib.getItem("currentCheesePiecesGoalLevel",1)},OT:function(a){this.Ib.setItem("currentCheesePiecesGoalLevel",a)},sz:function(){var a=r.xa(b.ha.na("game.goal.cheeseCharge1"));return this.Ib.getItem("currentCheeseChargeGoal",
a)},LT:function(a){this.Ib.setItem("currentCheeseChargeGoal",a)},TO:function(){return this.Ib.getItem("currentCheeseChargeGoalLevel",1)},MT:function(a){this.Ib.setItem("currentCheeseChargeGoalLevel",a)},ET:x("bG"),V_:z("bG"),DT:function(a,b,c){null==c&&(c=!0);null==b&&(b=!1);this.Ib.setItem(a[0]+(b?"Alt":""),c)},ED:function(a,b){null==b&&(b=!1);return a!=c.platformer.character.CharacterId.Cw||b?this.Ib.getItem(a[0]+(b?"Alt":""),!1):!0},iP:function(){return this.Ib.getItem("hasSeenTutorial",!1)},bU:function(a){this.Ib.setItem("hasSeenTutorial",
a)},DD:function(a,c){null==c&&(c=!1);return c?b.ha.na("wonderWomanAlt.cost"):0},zF:function(a,d){var e=new c.Bt(a);b.D.g().Fe(e);null!=d&&e.addEventListener("destroy",function(){d();e.removeEventListener("destroy",d)})},r:c.Z});c.ff=function(){this.Pq=null;b.ya.call(this);c.ff.Va=this};c.ff.n=["game","GameplayScreen"];c.ff.g=function(){return c.ff.Va};c.ff.I=b.ya;c.ff.prototype=q(b.ya.prototype,{init:function(){b.ya.prototype.init.call(this);b.da.ac.g().Xd(!0);var a=this.F();this.Pq=new c.platformer.aa(a);
this.Pq.addEventListener("ready",u(this,this.pv));this.Mc=this.F();new b.v.la(this.Mc);this.Ja=c.ab.bh(this);this.Sg=new b.k.Hj(this.F());c.Z.g();c.se.If("jerryCharge","jerryChargeXml",new b.A(-46,-71),1,!0);c.se.If("jerryRun","jerryRunXml",new b.A(-40,-84),1,!0);c.se.If("jerryJump","jerryJumpXml",new b.A(-33,-96),1,!1);c.se.If("jerryJumpEnd","jerryJumpEndXml",new b.A(-33,-96),1,!0);c.se.If("jerrySlide","jerrySlideXml",new b.A(-71,-71),1,!1);c.se.If("jerryHit","jerryHitXml",new b.A(-33,-83),1,!1);
c.se.If("tomRun","tomRunXml",new b.A(-325,-176),1,!0);c.se.If("fightCloud","fightCloudXml",new b.A(-253,-154),1,!0);c.se.If("windFlying","windFlyingXml",new b.A(-210,-91),1,!0);c.se.If("runningDust","runningDustXml",new b.A(-100,-59),1,!0);c.se.If("grindTrail","grindTrailXml",new b.A(0,0),1,!0);c.se.If("objectExplode","objectExplodeXml",new b.A(-142,-148),2,!1);c.se.If("waterfall","waterfallXml",new b.A(0,0),1,!0);c.se.If("cookieBreak","cookieBreakXml",new b.A(-97,-93),2,!1);c.se.If("smokeSprint",
"smokeSprintXml",new b.A(-142,-44),1,!1);c.se.If("jerryGlow","jerryGlowXml",new b.A(-80,-120),1,!0);c.se.If("chocoPipe","chocoPipeXml",new b.A(0,-161),1,!0);b.J.Qi.g().addEventListener("beatLevel",u(this,this.hK))},pv:function(){b.D.g().Fe(new c.fm);this.dispatchEvent(new c.platformer.dm("ready"))},mK:function(){this.resume()},bE:function(){this.KB=c.Np.PN(this);this.KB.addEventListener(c.Uk.QF,u(this,this.HU))},HU:function(){this.pause();b.D.g().Fe(new c.cq(this))},yF:function(){this.KB.destroy();
c.platformer.aa.g().MK();this.pause();var a=new c.Zk;a.rU(c.platformer.aa.g().Nu());a=new c.ht(a);b.D.g().Fe(a);this.PK()},g6:function(){this.KB.destroy();c.platformer.aa.g().MK();var a=new c.it;b.D.g().Fe(a);this.PK()},PK:function(){b.J.Qi.g().removeEventListener("beatLevel",u(this,this.hK))},hK:function(){this.yF()},destroy:function(){b.ya.prototype.destroy.call(this);c.ff.Va==this&&(c.ff.Va=null);b.J.ke.g().FS();b.kc.jf.g().HS()},r:c.ff});c.Vp=function(a,c){this.lu=0;b.ya.call(this);this.qh=c};
c.Vp.n=["game","HelpState"];c.Vp.I=b.ya;c.Vp.prototype=q(b.ya.prototype,{init:function(){b.ya.prototype.init.call(this);this.lu=0;this.Ja=c.ab.bh(this);b.D.g();b.da.ac.g().Xd(!1);var a=this.F(),d=new b.v.ea(a,"popupOverlay");d.V().anchor=new PIXI.Point(0.5,0.5);d.Gk(new b.A(100,1));new b.ba.Oa(a,this.Ja);a=this.F();(new b.ba.Oa(a,this.Ja)).xb(new b.A(0,1));(new b.v.ea(a,"popupDeco")).V().anchor=new PIXI.Point(0.5,1);this.Mc=this.F();new b.v.la(this.Mc);(new b.ba.Oa(this.Mc,this.Ja)).xb(new b.A(0.023,
0.016));a=this.F();a.setPosition(-2,-24);this.Mc.addChild(a);(new b.v.ea(a,"popupBg")).V().anchor=new PIXI.Point(0.5,0.5);a=this.F();new b.v.la(a);(new b.ba.Oa(a,this.Ja)).xb(new b.A(-0.004,-0.72));d=this.F();d.setPosition(0,20);var e={font:"42px curse_casualregular"};e.fill=c.pd.Qd;new b.v.rb(d,b.Db.pc("GAMEPLAY_SCREEN_HELP"),e);a.addChild(d);this.gj=this.F();this.Mc.addChild(this.gj);a=c.ab.zl(this,-10.5,205,"playButtonSmall","playButtonSmall",u(this,this.RE),"ui_click_1","",!1);this.Mc.addChild(a);
this.IU()},GU:function(){this.gj.destroy();this.gj=this.F();this.Mc.addChild(this.gj);var a={font:"30px curse_casualregular"};a.fill=c.pd.Qd;this.ey=this.F();(new b.ba.Oa(this.ey,this.Ja)).xb(new b.A(-0.2,-0.3));new b.v.rb(this.ey,F.replace(b.Db.pc("LEVEL_GOAL_CHEESE_TO_COLLECT"),"%N",r.sc(c.Z.g().Mu())),a);var d=this.F();d.setPosition(255,0);this.ey.addChild(d);this.xo(d,c.Z.g().fj,c.Z.g().Mu());this.fy=this.F();(new b.ba.Oa(this.fy,this.Ja)).xb(new b.A(-0.2,-0.025));new b.v.rb(this.fy,F.replace(b.Db.pc("LEVEL_GOAL_RUN"),
"%N",r.sc(c.Z.g().Bo())),a);d=this.F();d.setPosition(255,0);this.fy.addChild(d);this.xo(d,c.platformer.aa.g().Nu(),c.Z.g().Bo());this.gy=this.F();(new b.ba.Oa(this.gy,this.Ja)).xb(new b.A(-0.2,0.25));new b.v.rb(this.gy,F.replace(b.Db.pc("LEVEL_GOAL_CHEESE_CHARGE"),"%N",r.sc(c.Z.g().sz())),a);a=this.F();a.setPosition(255,0);this.gy.addChild(a);this.xo(a,c.platformer.aa.g().xu,c.Z.g().sz());this.gj.addChild(this.ey);this.gj.addChild(this.fy);this.gj.addChild(this.gy)},IU:function(){this.gj.destroy();
this.gj=this.F();this.Mc.addChild(this.gj);var a=this.F();this.gj.addChild(a);(new b.v.ea(a,b.D.ae()?"tutorialMobile":"tutorialWeb")).V().anchor=new PIXI.Point(0.5,0.5)},RE:function(){this.lu++;1<this.lu?(this.qh.resume(),b.D.g().Ek(this),b.da.ac.g().Xd(!0),this.lu=0):1==this.lu&&this.GU()},xo:function(a,d,e){var f=this.F();(new b.v.ea(f,"helpMeter")).V().anchor=new PIXI.Point(0.5,0.5);a.addChild(f);f=this.F();f.setPosition(-85,-1.5);1>d/e&&f.Bd(Math.min(1,d/e));(new b.v.ea(f,"helpMeterFill")).V().anchor=
new PIXI.Point(0,0.5);a.addChild(f);f=this.F();f.setPosition(82,0);var k=new b.v.ea(f,"helpCheck");k.V().anchor=new PIXI.Point(0.5,0.5);a.addChild(f);d<e&&(k.V().alpha=0);f=this.F();k={font:"22px curse_casualregular"};k.fill=c.pd.Qd;new b.v.rb(f,(null==d?"null":""+d)+"/"+(null==e?"null":""+e),k);a.addChild(f)},r:c.Vp});c.fi=function(a){b.q.call(this,a);c.fi.Va=this};c.fi.n=["game","Hud"];c.fi.g=function(){return c.fi.Va};c.fi.I=b.q;c.fi.prototype=q(b.q.prototype,{i2:z("tC"),Q2:z("By"),init:function(){b.q.prototype.init.call(this);
this.hD()},hD:function(){var a=c.ab.bh(this.ga());b.D.g();this.tC=c.ab.Te(a,0.923,-0.856,"pauseButton","pauseButton",u(this,this.HR),"ui_click_1","",!1);var d=this.ga().F();(new b.ba.Oa(d,a)).xb(new b.A(0,-0.8))},HR:function(){this.j.dispatchEvent(new c.Uk(c.Uk.QF))},update:function(){b.q.prototype.update.call(this)},C6:function(a){this.tZ.setText(b.H.ut.HN(a))},destroy:function(){b.q.prototype.destroy.call(this);this.tC.destroy();c.fi.Va==this&&(c.fi.Va=null)},r:c.fi});c.Uk=function(a){b.S.Ea.call(this,
a)};c.Uk.n=["game","HudEvent"];c.Uk.I=b.S.Ea;c.Uk.prototype=q(b.S.Ea.prototype,{r:c.Uk});c.ht=function(a){this.HF=0;this.nl=this.Sh=null;this.Sh=a;b.ya.call(this)};c.ht.n=["game","LevelCompleteState"];c.ht.I=b.ya;c.ht.prototype=q(b.ya.prototype,{init:function(){var a=this;b.ya.prototype.init.call(this);b.Md.wJ();var d=this.F();this.Sg=new b.k.Hj(d);this.HF=this.Sh.DC;c.Z.g().sU(this.HF);var e=c.Z.g().II()>c.Z.g().qz(),d=c.ab.bh(this),f=this.F(),k=new b.v.ea(f,"popupOverlay");k.V().anchor=new PIXI.Point(0.5,
0.5);k.Gk(new b.A(100,1));new b.ba.Oa(f,d);f=this.F();(new b.ba.Oa(f,d)).xb(new b.A(0,1));(new b.v.ea(f,"popupDeco")).V().anchor=new PIXI.Point(0.5,1);var g=this.F();new b.v.la(g);(new b.ba.Oa(g,d)).xb(new b.A(0.023,0.016));k=this.F();g.addChild(k);f=this.F();f.setPosition(-2,-24);(new b.v.ea(f,"popupBg")).V().anchor=new PIXI.Point(0.5,0.5);k.addChild(f);f=this.F();k.addChild(f);f.setPosition(120,10);(new b.v.ea(f,"popupSubBg")).V().anchor=new PIXI.Point(0.5,0.5);k=this.F();f.addChild(k);k.setPosition(-62,
-70);(new b.v.ea(k,"cookie2")).V().anchor=new PIXI.Point(0.5,0.5);k=this.F();f.addChild(k);new b.v.rb(k,r.sc(c.Z.g().fj),{font:"50px curse_casualregular",fill:"#FFFFFF"});k.setPosition(45,-70);(new c.platformer.An(k,c.Z.g().fj,"")).DF(0.25);k=this.F();f.addChild(k);new b.v.rb(k,b.Db.pc("LEVEL_COMPLETE_DISTANCE_LABEL"),{font:"30px curse_casualregular",fill:"#FFFFFF"});k.setPosition(-62,0);k=this.F();f.addChild(k);new b.v.rb(k,"0",{font:"50px curse_casualregular",fill:"#FFFFFF"});(new c.platformer.An(k,
this.HF,"")).DF(0.5);k.setPosition(45,0);k=this.F();f.addChild(k);new b.v.rb(k,b.Db.pc("LEVEL_COMPLETE_BEST_DISTANCE_LABEL"),{font:"30px curse_casualregular",fill:"#FFFFFF"});k.setPosition(-62,70);c.Z.g().AT(c.Z.g().II());this.gx=this.F();f.addChild(this.gx);new b.v.rb(this.gx,e?"0":r.sc(c.Z.g().qz()),{font:"50px curse_casualregular",fill:"#FFFFFF"});this.gx.setPosition(45,70);f=c.ab.Te(d,0,0,"playButtonSmall","playButtonSmall",u(this,this.uR),"ui_click_1");f.T(b.ba.Oa).destroy();g.addChild(f);f.setPosition(-2.5,
210);f=this.F();new b.v.la(f);(new b.ba.Oa(f,d)).xb(new b.A(-0.004,-0.72));k=this.F();k.setPosition(0,20);var h={font:"42px curse_casualregular"};h.fill=c.pd.Qd;new b.v.rb(k,b.Db.pc("GAMEPLAY_SCREEN_LEVEL_RECAP"),h);f.addChild(k);f=this.F();(new b.ba.Oa(f,d)).xb(new b.A(-0.25,-0.34));k={font:"30px curse_casualregular"};if("fr-fr"==s.vc||"it-it"==s.vc||"nl-nl"==s.vc||"pl-pl"==s.vc||"pt-br"==s.vc||"ru-ru"==s.vc||"ja-ja"==s.vc)k.font="19px curse_casualregular";k.fill="#FFFFFF";k=new b.v.rb(f,F.replace(b.Db.pc("LEVEL_GOAL_CHEESE_TO_COLLECT"),
"%N",r.sc(c.Z.g().Mu())),k);f.setPosition(-5+k.ve().width/-0.2,-80);k=this.F();k.setPosition(0,40);f.addChild(k);this.xo(k,c.Z.g().fj,c.Z.g().Mu());f=this.F();(new b.ba.Oa(f,d)).xb(new b.A(-0.25,-0.05));k={font:"30px curse_casualregular"};if("fr-fr"==s.vc||"it-it"==s.vc||"nl-nl"==s.vc||"pl-pl"==s.vc||"pt-br"==s.vc||"ru-ru"==s.vc||"ja-ja"==s.vc)k.font="19px curse_casualregular";k.fill="#FFFFFF";k=new b.v.rb(f,F.replace(b.Db.pc("LEVEL_GOAL_RUN"),"%N",r.sc(c.Z.g().Bo())),k);f.setPosition(-5+k.ve().width/
-0.2,0);k=this.F();k.setPosition(0,40);f.addChild(k);this.xo(k,this.Sh.DC,c.Z.g().Bo());f=this.F();(new b.ba.Oa(f,d)).xb(new b.A(-0.25,0.24));d={font:"30px curse_casualregular"};if("fr-fr"==s.vc||"it-it"==s.vc||"nl-nl"==s.vc||"pl-pl"==s.vc||"pt-br"==s.vc||"ru-ru"==s.vc||"ja-ja"==s.vc)d.font="19px curse_casualregular";d.fill="#FFFFFF";d=new b.v.rb(f,F.replace(b.Db.pc("LEVEL_GOAL_CHEESE_CHARGE"),"%N",r.sc(c.Z.g().sz())),d);f.setPosition(-5+d.ve().width/-0.2,80);d=this.F();d.setPosition(0,40);f.addChild(d);
this.xo(d,c.platformer.aa.g().xu,c.Z.g().sz());this.Sg.ro(0.9,function(){return function(){if(e){var d=g.F(!0),n=d.F(!0),f=new b.k.Ac(n);f.sa(d.oa,"x",0,1,0.35,b.k.ma.qa.gk);f.sa(d.oa,"y",0,1,0.35,b.k.ma.qa.gk);d.setPosition(224,180);d=a.F();(new b.v.ea(d,"newBest")).V().anchor=new PIXI.Point(0.5,0.5);n.addChild(d);d=a.F();d.setPosition(10,-5);d.Ji(0,0,-12);f={font:"42px curse_casualregular"};if("fr-fr"==s.vc||"it-it"==s.vc||"nl-nl"==s.vc||"pl-pl"==s.vc||"pt-br"==s.vc||"ru-ru"==s.vc||"ja-ja"==s.vc||
"zh-cn"==s.vc)f.font="32px curse_casualregular";f.fill="#FFFFFF";f.dropShadow=!0;f.dropShadowAngle=45;f.dropShadowColor="#451a04";f.dropShadowDistance=3;(new b.v.rb(d,b.Db.pc("LEVEL_COMPLETE_NEW_BEST"),f)).ve().anchor=new PIXI.Point(0.5,0.5);n.addChild(d);n.Bd(0,0);d=new b.k.Ac(n);d.sa(n.oa,"x",0,1,0.35,b.k.ma.qa.gk);d.sa(n.oa,"y",0,1,0.35,b.k.ma.qa.gk,0,function(){new b.k.Jh(n,n.oa,"x",1,0.05,5);new b.k.Jh(n,n.oa,"y",1,0.05,5);new b.k.Jh(n,n.Nc,"z",0,5,2.5)});(new c.platformer.An(a.gx,c.Z.g().qz(),
"")).DF(0)}}}(this));b.audio.SoundManager.Wc("level_win_1")},xK:function(){var a=this;c.Z.g().zF(this,function(){a.Qj.T(b.v.la).Na().visible=c.platformer.ib.ed.g().xr()})},xo:function(a,d,e){var f=this.F();(new b.v.ea(f,"helpMeter")).V().anchor=new PIXI.Point(0.5,0.5);a.addChild(f);var f=new b.k.Ac(f),k=this.F();k.setPosition(-85,-1.5);k.Bd(0,1);f.sa(k.oa,"x",0,Math.min(1,d/e),0.35,b.k.ma.qa.Ed,1);(new b.v.ea(k,"helpMeterFill")).V().anchor=new PIXI.Point(0,0.5);a.addChild(k);k=this.F();k.setPosition(82,
0);var g=new b.v.ea(k,"helpCheck");g.V().anchor=new PIXI.Point(0.5,0.5);a.addChild(k);d<e?g.V().alpha=0:(k.Bd(0,0),f.sa(k.oa,"x",0,1,0.25,b.k.ma.qa.gk,1.35),f.sa(k.oa,"y",0,1,0.25,b.k.ma.qa.gk,1.35));f=this.F();k={font:"15px curse_casualregular"};k.fill=c.pd.Qd;new b.v.rb(f,(null==d?"null":""+d)+"/"+(null==e?"null":""+e),k);a.addChild(f)},update:function(){b.ya.prototype.update.call(this)},uR:function(){var a=this;b.audio.SoundManager.Wc("ui_select_1");c.Z.g().WK();c.ff.g().addEventListener("destroy",
function(){return function(){a.destroy()}}(this));c.Be.Qm(c.ff.g(),new c.ff)},oK:function(){b.H.Wb.log("onLevelLoadComplete()");this.destroy()},destroy:function(){b.ya.prototype.destroy.call(this)},r:c.ht});c.it=function(){b.ya.call(this)};c.it.n=["game","LevelFailState"];c.it.I=b.ya;c.it.prototype=q(b.ya.prototype,{init:function(){b.ya.prototype.init.call(this);var a=c.ab.bh(this);b.Md.wJ();var d=this.F();(new b.v.ea(d,"levelFailBg")).V().anchor=new PIXI.Point(0.5,0.5);new b.ba.Oa(d,a);d=this.F();
(new b.ba.Oa(d,a)).xb(new b.A(0,-0.16));var e={font:"48px Arial"};e.fill=c.pd.Qd;new b.v.rb(d,b.Db.pc("LEVEL_FAIL_HEADER"),e);d=this.F();(new b.ba.Oa(d,a)).xb(new b.A(0,0.06));e={font:"14px Arial"};e.fill=c.pd.Qd;e.align="center";e.wordWrap=!0;e.wordWrapWidth=250;new b.v.rb(d,b.Db.pc("LEVEL_FAIL_BODY"),e);c.ab.Te(a,0.044,0.632,"playButton","playButton",u(this,this.CR),"ui_click_1")},CR:function(){this.co=new c.ff;this.co.addEventListener("ready",u(this,this.pv));b.D.g().Fe(this.co);this.nl=new c.Kn;
b.D.g().Fe(this.nl)},pv:function(){this.destroy();c.platformer.aa.g();c.Be.Qm(this.nl,this.co)},r:c.it});c.jt=function(a){this.VB=!1;b.q.call(this,a)};c.jt.n=["game","LevelMeter"];c.jt.I=b.q;c.jt.prototype=q(b.q.prototype,{M1:z("VB"),q5:x("VB"),init:function(){b.q.prototype.init.call(this);this.LB=this.ga().F();(new b.v.ea(this.LB,"meterPlayer")).V().anchor=new PIXI.Point(0.5,0.6);this.j.addChild(this.LB)},update:function(){b.q.prototype.update.call(this);if(!this.VB&&null!=c.platformer.aa.g().Hq&&
null!=c.platformer.aa.g().Hq[0]){var a=c.platformer.aa.g().Hq[0].O(),a=-331.5+663*((c.platformer.aa.g().Zb.O().x-c.platformer.aa.g().io.x)/(a.x-c.platformer.aa.g().io.x));331.5<a&&(a=331.5);-331.5>a&&(a=-331.5);this.LB.setPosition(a,0)}},r:c.jt});c.Kn=function(){b.ya.call(this)};c.Kn.n=["game","LoadingScreen"];c.Kn.I=b.ya;c.Kn.prototype=q(b.ya.prototype,{init:function(){b.ya.prototype.init.call(this);var a=c.ab.bh(this);b.D.g();a.j.ig("root");var d=this.F();d.ig("background");new b.ba.Oa(d,a);(new b.v.ea(d,
"loadingBg")).V().anchor=new PIXI.Point(0.5,0.5);this.Yx=this.F();this.Yx.ig("loadingBg");(new b.ba.Oa(this.Yx,a)).xb(new b.A(0,0.275));(new b.v.ea(this.Yx,"loadingBarBg")).V().anchor=new PIXI.Point(0.5,0.5);this.Tq=this.F();(new b.ba.Oa(this.Tq,a)).xb(new b.A(0,-0.325));(new b.v.ea(this.Tq,"gameLogo")).V().anchor=new PIXI.Point(0.5,0.5);this.Sq=this.F();this.Yx.addChild(this.Sq);this.Sq.setPosition(-122,-12);new b.v.ea(this.Sq,"loadingBar");this.Sq.ig("loadingBar");a=this.F();a.ig("fontPreload1");
new b.v.rb(a,"",{font:"22px work_sansbold"});a=this.F();a.ig("fontPreload2");new b.v.rb(a,"",{font:"22px curse_casualregular"});a=this.F();a.ig("fontPreload2");new b.v.rb(a,"",{font:"22px curse_casualregular"})},jR:function(a,b){null!=this.Sq&&this.kV(a/b)},kV:function(a){this.Sq.Bd(Math.min(1,a))},Je:function(a,c){b.ya.prototype.Je.call(this,a,c);switch(a){case "onFileLoaded":this.jR(c.progress,c.total)}},r:c.Kn});c.Gw=function(){b.ya.call(this);var a=new c.platformer.ua.Wi("distanceObjective","TravelDistance",
c.Z.g().Bo(),c.Z.g().Bo(),!1,"OBJECTIVE_TRAVEL_DISTANCE");a.setActive(!0);c.platformer.ua.Hb.g().tg[0]=a;c.platformer.ua.Hb.g().PS();c.platformer.ua.Hb.g().TS()};c.Gw.n=["game","ObjectivesState"];c.Gw.I=b.ya;c.Gw.prototype=q(b.ya.prototype,{init:function(){b.ya.prototype.init.call(this);this.Ja=c.ab.bh(this);var a=this.F();new b.ba.Oa(a,this.Ja);(new b.v.ea(a,"levelCompleteBg")).V().anchor=new PIXI.Point(0.5,0.5);a=this.F();new b.v.la(a);(new b.ba.Oa(a,this.Ja)).xb(new b.A(0.023,0.016));var d=this.F();
a.addChild(d);(new b.v.ea(d,"popupBg")).V().anchor=new PIXI.Point(0.5,0.5);d=this.F();(new b.ba.Oa(d,this.Ja)).xb(new b.A(-1,-1));new b.v.ea(d,"cornerGraphic");var e=this.F();e.setPosition(98,75);(new b.v.ea(e,"showLogo")).V().anchor=new PIXI.Point(0.5,0.5);d.addChild(e);d=this.F();new b.v.la(d);(new b.ba.Oa(d,this.Ja)).xb(new b.A(-0.004,-0.776));e=this.F();(new b.v.ea(e,"headerBg")).V().anchor=new PIXI.Point(0.5,0.5);d.addChild(e);e=this.F();e.setPosition(0,-5);var f={font:"42px curse_casualregular"};
f.fill=c.pd.Qd;new b.v.rb(e,b.Db.pc("OBJECTIVES_SCREEN_HEADER"),f);d.addChild(e);d=-90;e=c.platformer.ua.Hb.g().tg.length;for(f=0;f<e;){var k=f++,g=c.platformer.ua.Hb.g().tg[k],k=this.F();new b.v.la(k);k.setPosition(-175,d);var h=new b.v.ea(this.F(),"objective"+(g.el?"Complete":"Incomplete")+"Icon");h.V().anchor=new PIXI.Point(0.5,0.5);k.addChild(h.j);h={font:"20px work_sansbold"};h.fill=c.pd.Qd;h.align="left";h.wordWrap=!0;h.wordWrapWidth=350;g=new b.v.rb(this.F(),g.OI(),h);g.j.setPosition(40+g.ve().width/
2,0);k.addChild(g.j);a.addChild(k);d+=70}d=c.ab.zl(this,-10.5,165,"playButton","playButton",u(this,this.dR),"ui_click_1");a.addChild(d);a=this.F();c.Z.g();(new b.v.ea(a,"levelCompleteWonderWoman")).V().anchor=new PIXI.Point(0.5,0.5);a=new b.ba.Oa(a,this.Ja);a.xb(new b.A(-1,1));a.cL(b.ba.qg.gi,b.ba.rg.kw)},dR:function(){c.Be.Qm(this,c.ff.g())},r:c.Gw});c.cq=function(a){b.ya.call(this);this.qh=a};c.cq.n=["game","PauseMenuState"];c.cq.I=b.ya;c.cq.prototype=q(b.ya.prototype,{init:function(){b.ya.prototype.init.call(this);
var a=c.ab.bh(this);b.D.g();b.da.ac.g().Xd(!1);var d=this.F(),e=new b.v.ea(d,"popupOverlay");e.V().anchor=new PIXI.Point(0.5,0.5);e.Gk(new b.A(100,1));new b.ba.Oa(d,a);d=this.F();(new b.ba.Oa(d,a)).xb(new b.A(0,1));(new b.v.ea(d,"popupDeco")).V().anchor=new PIXI.Point(0.5,1);d=this.F();new b.v.la(d);(new b.ba.Oa(d,a)).xb(new b.A(0.023,0.016));e=this.F();d.addChild(e);e.setPosition(-2,-24);(new b.v.ea(e,"popupBg")).V().anchor=new PIXI.Point(0.5,0.5);e=this.F();new b.v.la(e);(new b.ba.Oa(e,a)).xb(new b.A(-0.004,
-0.72));a=this.F();a.setPosition(0,20);var f={font:"42px curse_casualregular"};f.fill=c.pd.Qd;new b.v.rb(a,b.Db.pc("GAMEPLAY_SCREEN_PAUSE"),f);e.addChild(a);a=c.ab.zl(this,-10.5,90,"playButton","playButton",u(this,this.RE),"ui_click_1","",!1);d.addChild(a);this.By=c.ab.zl(this,-9,-74.5,"soundOnButton","soundOnButton",u(this,this.TR),"ui_click_1","",!1);d.addChild(this.By);a=c.ab.zl(this,131,-39.5,"helpButton","helpButton",u(this,this.kR),"ui_click_1","",!1);d.addChild(a);a=c.ab.zl(this,-151,-44.5,
"quitButton","quitButton",u(this,this.MR),"ui_click_1","",!1);d.addChild(a);this.OL()},RE:function(){this.qh.resume();b.D.g().Ek(this);b.da.ac.g().Xd(!0)},kR:function(){this.pause();var a=new c.Vp(0,this.qh);a.addEventListener("destroy",u(this,this.mK));b.D.g().Fe(a);b.D.g().Ek(this)},mK:function(){this.resume()},MR:function(){c.Z.g().WK();b.D.g().Ek(this);b.D.g().Fe(new c.Ms(this.qh))},TR:function(){b.audio.SoundManager.lU(!b.audio.SoundManager.wr());b.audio.SoundManager.vU(b.audio.SoundManager.wr());
this.OL()},OL:function(){var a=this.By.T(b.k.buttons.Rk);a.kF(b.audio.SoundManager.wr()?"soundOffButton":"soundOnButton");a.qF(b.audio.SoundManager.wr()?"soundOffButton":"soundOnButton")},destroy:function(){b.ya.prototype.destroy.call(this)},r:c.cq});c.Zk=function(){this.DC=0};c.Zk.n=["game","PlayerData"];c.Zk.prototype={rU:x("DC"),r:c.Zk};c.ot=function(a){b.ya.call(this);this.qh=a};c.ot.n=["game","ResetGameScreen"];c.ot.I=b.ya;c.ot.prototype=q(b.ya.prototype,{init:function(){b.ya.prototype.init.call(this);
var a=c.ab.bh(this);b.D.g();var d=this.F();(new b.ba.Oa(d,a)).xb(new b.A(-0.008,0.072));(new b.v.ea(d,"popupBg")).V().anchor=new PIXI.Point(0.5,0.5);var e=this.F();e.setPosition(0,-50);var f={font:"24px work_sansbold"};f.fill=c.pd.Qd;f.wordWrapWidth=450;f.wordWrap=!0;f.align="center";new b.v.rb(e,b.Db.pc("TITLE_SCREEN_RESET_CONFIRM"),f);d.addChild(e);d=this.F();new b.v.la(d);(new b.ba.Oa(d,a)).xb(new b.A(-0.004,-0.72));e=this.F();(new b.v.ea(e,"headerBg")).V().anchor=new PIXI.Point(0.5,0.5);d.addChild(e);
e=this.F();e.setPosition(0,-5);f={font:"42px curse_casualregular"};f.fill=c.pd.Qd;new b.v.rb(e,b.Db.pc("TITLE_SCREEN_NEW_GAME_HEADER"),f);d.addChild(e);c.ab.Te(a,-0.162,0.356,"buyButton","buyButton",u(this,this.WE),"ui_click_1");c.ab.Te(a,0.119,0.356,"closeButton","closeButton",u(this,this.PE),"ui_click_1")},WE:function(){c.Z.g().Ib.cO();c.Z.g().lL(!1);c.platformer.ib.ed.g().RS();c.platformer.ua.Hb.g().OS();b.D.g().Ek(this)},PE:function(){b.D.g().Ek(this)},B3:function(){null!=this.qh&&b.D.g().Ek(this.qh);
var a=new c.fm;b.D.g().Lv(this,a);this.destroy()},r:c.ot});c.lq=function(){this.Pt=0;b.ya.call(this)};c.lq.n=["game","StoryScreen"];c.lq.I=b.ya;c.lq.prototype=q(b.ya.prototype,{init:function(){b.ya.prototype.init.call(this);this.Ja=c.ab.bh(this);b.D.g();var a=this.F();new b.ba.Oa(a,this.Ja);(new b.v.ea(a,"storyImage1")).V().anchor=new PIXI.Point(0.5,0.5);a=this.F();new b.v.la(a);(new b.ba.Oa(a,this.Ja)).xb(new b.A(0.042,-0.776));var d=this.F();(new b.v.ea(d,"headerBg")).V().anchor=new PIXI.Point(0.5,
0.5);a.addChild(d);d=this.F();d.setPosition(0,-5);var e={font:"42px curse_casualregular"};e.fill=c.pd.Qd;new b.v.rb(d,b.Db.pc("STORY_SCREEN_HEADING"),e);a.addChild(d);a=this.F();(new b.ba.Oa(a,this.Ja)).xb(new b.A(0,-0.2));this.wH=new b.v.rb(a,"",{font:"22px Arial",fill:"#000000"},1);this.KF();c.ab.Te(this.Ja,0.8,0.66,"playButton","playButton",u(this,this.WR),"ui_click_1")},KF:function(){null!=this.wH&&(this.wH.ve().text=b.Db.pc("STORY_SCREEN_PAGE_"+(this.Pt+1)))},p4:function(){this.dA()},o4:function(){this.Pt--;
0>this.Pt?this.bS():this.KF()},bS:function(){var a=new c.fm;b.D.g().Lv(this,a);this.destroy()},WR:function(){this.Pt++;1<=this.Pt?this.dA():this.KF()},dA:function(){b.D.g().Lv(this,new c.zn)},r:c.lq});c.fm=function(a){null==a&&(a=!1);this.BG=this.xx=!1;b.ya.call(this);this.BG=a};c.fm.n=["game","TitleScreen"];c.fm.I=b.ya;c.fm.prototype=q(b.ya.prototype,{init:function(){b.ya.prototype.init.call(this);this.BG?this.dA():this.SN();if(null==c.Kd.$k.g()){var a=new c.Kd.$k;b.D.g().Fe(a)}b.audio.SoundManager.CK("music_happy_happy_game_show")},
SN:function(){var a=c.ab.bh(this);b.D.g();this.$=new b.k.Ac(a.j);this.aC=this.F();var d=new b.ba.Oa(this.aC,a);(new b.v.ea(this.aC,"logoBackground")).V().anchor=new PIXI.Point(0.5,0.5);d.cL(b.ba.qg.Yl,b.ba.rg.kw);d.xb(new b.A(0,2.5));this.$.sa(d.lb,"y",2.5,1,1,b.k.ma.qa.Ue);this.Tq=this.F();d=new b.ba.Oa(this.Tq,a);d.xb(new b.A(0,-0.325));this.$.sa(d.lb,"y",-1.5,-0.325,1,b.k.ma.qa.Ue);(new b.v.ea(this.Tq,"gameLogo")).V().anchor=new PIXI.Point(0.5,0.5);this.wC=c.ab.Te(a,0.002,0.578,"playButton","playButton",
u(this,this.KR),"ui_click_1");a=this.wC.T(b.v.ea);a.V().alpha=0;var e=this.wC.T(b.k.Yd);e.Xd(!1);this.$.sa(a.V(),"alpha",0,1,0.5,b.k.ma.qa.dh,0.5,function(){return function(){e.Xd(!0)}}(this))},update:function(){b.ya.prototype.update.call(this);null!=this.YG&&(this.YG.T(b.v.la).Na().visible=c.Z.g().VI(),this.YG.af(c.Z.g().VI()))},KR:function(){this.xx||(c.Z.g().lL(!0),c.platformer.aa.g().QU(),this.iO())},iO:function(){var a=this,c=this.Tq.T(b.ba.Oa);this.$.sa(c.lb,"y",c.lb.y,-2.85,0.35,b.k.ma.qa.rr);
c=this.aC.T(b.ba.Oa);this.$.sa(c.lb,"y",c.lb.y,2.85,0.35,b.k.ma.qa.rr,0,function(){return function(){a.destroy()}}(this));c=this.wC.T(b.ba.Oa);this.$.sa(c.lb,"y",c.lb.y,2,0.35,b.k.ma.qa.rr)},n4:function(){b.D.g().Lv(this,new c.lq)},dA:function(){c.Be.Qm(this,new c.zn)},k4:function(){if(!this.xx){this.pause();this.xx=!0;var a=new c.ot(this);a.addEventListener("destroy",u(this,this.OR));b.D.g().Fe(a)}},r4:function(){var a=this;c.Z.g().zF(this,function(){a.Qj.T(b.v.la).Na().visible=c.platformer.ib.ed.g().xr()})},
OR:function(){this.resume();this.xx=!1;this.Qj.T(b.v.ea).Na().visible=c.platformer.ib.ed.g().xr()},r:c.fm});c.ab=t();c.ab.n=["game","UiFactory"];c.ab.bh=function(a){var c=b.D.g().Vd(),d=c.Da();c.x*=b.D.g().Fd().x;c.y*=b.D.g().Fd().y;a=a.F();c=new b.ba.zt(a,c);new b.v.la(a);a.setPosition(d.x/2,d.y/2);return c};c.ab.WN=function(a,c,d,f,k,g,h,l,m,p,q){var r=b.am.cE(a.ga());(new b.ba.Oa(r,a)).xb(new b.A(c,d));a=new b.v.ea(r,f);b.k.Yd.pI(a);new b.k.buttons.Dp(r,0.35,1,0.15,m);new b.k.buttons.xn(r,1.15,
0.35,b.k.ma.qa.Ue,b.k.ma.qa.Ue);new b.k.buttons.Lg(r,g,h,l);new b.k.buttons.Rk(r,f,k);new b.k.buttons.Ep(r,p,q);return r};c.ab.Te=function(a,b,d,f,k,g,h,l,m,p,q){null==p&&(p=0.35);null==m&&(m=!0);null==l&&(l="");null==h&&(h="");return c.ab.WN(a,b,d,f,k,g,p,q,m,h,l)};c.ab.XN=function(a,c,d,f,k,g,h,l,m,p,q){a=b.am.cE(a);a.setPosition(c,d);c=new b.v.ea(a,f);b.k.Yd.pI(c);new b.k.buttons.Dp(a,0.35,1,0.15,m);new b.k.buttons.xn(a,1.15,0.35,b.k.ma.qa.Ue,b.k.ma.qa.Ue);new b.k.buttons.Lg(a,g,h,l);new b.k.buttons.Rk(a,
f,k);new b.k.buttons.Ep(a,p,q);return a};c.ab.zl=function(a,b,d,f,k,g,h,l,m,p,q){null==p&&(p=0.35);null==m&&(m=!0);null==l&&(l="");null==h&&(h="");return c.ab.XN(a,b,d,f,k,g,p,q,m,h,l)};c.ab.sI=function(a,d,e,f){var k,g,h="ui_click_1";null==g&&(g=!0);null==k&&(k="");null==h&&(h="");var l=e.ga();d=c.ab.Te(e,0,0.758,d,d,f,h,k,g,0.35);l=l.F();l.setPosition(0,0);new b.v.rb(l,b.Db.pc(a),{font:"24px curse_casualregular",fill:"#FFFFFF"});d.addChild(l)};c.ab.prototype={r:c.ab};c.Bt=function(a){this.Yg=null;
this.Jt=[];b.ya.call(this);this.qh=a;this.qh.pause()};c.Bt.n=["game","UpgradesDialog"];c.Bt.I=b.ya;c.Bt.prototype=q(b.ya.prototype,{init:function(){var a=this;b.ya.prototype.init.call(this);this.Ja=c.ab.bh(this);var d=this.F();new b.ba.Oa(d,this.Ja);(new b.v.ea(d,"levelCompleteBg")).V().anchor=new PIXI.Point(0.5,0.5);this.Mc=this.F();new b.ba.Oa(this.Mc,this.Ja);new b.v.la(this.Mc);d=new b.v.ea(this.F(),"storePopupBg");d.V().anchor=new PIXI.Point(0.5,0.5);this.Mc.addChild(d.j);d=this.F();d.setPosition(0,
0);var e={font:"24px work_sansbold"};e.fill=c.pd.Qd;this.GC=new b.v.rb(d,"",e);this.Mc.addChild(d);d=this.F();d.setPosition(0,0);e={font:"20px work_sansbold"};e.fill=c.pd.Qd;this.IC=new b.v.rb(d,"",e);this.Mc.addChild(d);d=this.F();new b.v.la(d);d.setPosition(110,9);this.Mc.addChild(d);new b.k.Jh(d,d.oa,"y",0.95,0.05,4);e=new b.v.ea(this.F(),"powerupGlow");e.V().anchor=new PIXI.Point(0.5,0.5);(new b.k.Pd(e.j)).$h(new b.La(0,0,1));d.addChild(e.j);this.HC=new b.v.ea(this.F(),"coinMagnet");this.HC.V().anchor=
new PIXI.Point(0.5,0.5);d.addChild(this.HC.j);d=this.F();d.setPosition(0,0);e={font:"20px work_sansbold"};e.fill=c.pd.Qd;e.align="left";e.wordWrapWidth=200;e.wordWrap=!0;this.FC=new b.v.rb(d,"",e);this.Mc.addChild(d);d=this.F();d.setPosition(288.5,15);new b.v.la(d);this.Mc.addChild(d);this.pu=new b.v.ea(this.F(),"");this.pu.V().anchor=new PIXI.Point(0.5,0.5);d.addChild(this.pu.j);e=this.F();e.setPosition(15,-3);var f={font:"30px curse_casualregular"};f.fill=c.pd.Qd;f.align="center";this.EC=new b.v.rb(e,
"",f);d.addChild(e);this.qu=this.F();this.qu.setPosition(-51,-4.5);(new b.v.ea(this.qu,"collectible")).V().anchor=new PIXI.Point(0.5,0.5);d.addChild(this.qu);this.zy=c.ab.zl(this,155,185,"buyButton","buyButton",u(this,this.YQ),"","",!1);this.Mc.addChild(this.zy);for(var d=-270,e=-65,f=c.platformer.ib.ed.g().Ee.length,k=0;k<f;){for(var g=k++,g=[c.platformer.ib.ed.g().IP(g)],h=g[0].mj.length,l=0;l<h;){var m=l++,p=c.ab.zl(this,d,e,g[0].id+"StoreIcon",g[0].id+"StoreIcon",function(b){return function(){a.fS(b[0])}}(g),
"ui_click_1","",!1);new c.platformer.At(p,g[0],m);this.Mc.addChild(p);d+=68;null==this.Yg&&this.hF(g[0])}e+=74;d=-270}d=this.F();new b.v.la(d);(new b.ba.Oa(d,this.Ja)).xb(new b.A(-0.004,-0.776));e=this.F();(new b.v.ea(e,"headerBg")).V().anchor=new PIXI.Point(0.5,0.5);d.addChild(e);e=this.F();e.setPosition(0,-5);f={font:"42px curse_casualregular"};f.fill=c.pd.Qd;new b.v.rb(e,b.Db.pc("UPGRADE_STORE_HEADING"),f);d.addChild(e);d=this.F();new b.v.la(d);(new b.ba.Oa(d,this.Ja)).xb(new b.A(0.02,-0.5));e=
this.F();(new b.v.ea(e,"hudCollectibleBg")).V().anchor=new PIXI.Point(0.5,0.5);d.addChild(e);e=this.F();e.setPosition(7,0);f={font:"24px curse_casualregular"};f.fill=c.pd.Qd;this.aM=new b.v.rb(e,r.sc(c.Z.g().jk()),f);d.addChild(e);c.ab.Te(this.Ja,-0.86,-0.758,"backButton","backButton",u(this,this.jK),"ui_click_1");this.IF()},hV:function(){this.aM.ve().text=r.sc(c.Z.g().jk())},jK:function(){this.destroy();this.qh.resume()},hF:function(a){this.Yg=a;var d="UPGRADE_"+this.Yg.id.toUpperCase();this.GC.Pl(b.Db.pc(d));
this.GC.j.setPosition(64+this.GC.ve().width/2,-78.5);this.IC.Pl(F.replace(b.Db.pc("UPGRADE_STORE_LEVEL"),"%N",r.sc(Math.min(a.Zf+1,a.mj.length))));this.IC.j.setPosition(64+this.IC.ve().width/2,-50);this.FC.Pl(b.Db.pc(d+"_DESCRIPTION"));this.FC.j.setPosition(64+this.FC.ve().width/2,75);this.HC.Ii(this.jP(a.id));this.Yg.Zf<this.Yg.mj.length&&(a=this.Yg.mj[this.Yg.Zf]<=c.Z.g().jk(),this.pu.Ii(a?"storePriceBox":"storePriceBoxGrey"),this.EC.Pl(r.sc(this.Yg.mj[this.Yg.Zf])),d=this.zy.T(b.k.buttons.Rk),
d.kF(a?"buyButton":"buyButtonGrey"),d.qF(a?"buyButton":"buyButtonGrey"));this.IF()},update:function(){b.ya.prototype.update.call(this);this.IF()},IF:function(){this.Yg.Zf>=this.Yg.mj.length?(this.pu.Na().visible=!1,this.EC.Na().visible=!1,this.qu.T(b.v.la).Na().visible=!1,this.zy.T(b.v.la).Na().visible=!1):(this.pu.Na().visible=!0,this.EC.Na().visible=!0,this.qu.T(b.v.la).Na().visible=!0,this.zy.T(b.v.la).Na().visible=!0)},YQ:function(){c.Z.g().jk()>=c.platformer.ib.ed.g().MI(this.Yg.id)?(c.Z.g().ZD(-c.platformer.ib.ed.g().MI(this.Yg.id)),
c.platformer.ib.ed.g().XP(this.Yg.id),this.hV(),this.hF(this.Yg),b.audio.SoundManager.Wc("ui_coin_spend"),c.platformer.ib.ed.g().xr()||this.jK()):b.audio.SoundManager.Wc("ui_error_1")},fS:function(a){this.hF(a)},jP:function(a){return"cheeseMultiplier"==a?"collectible":a},r:c.Bt});c.ir={};c.ir.Bs=function(){b.ya.call(this)};c.ir.Bs.n=["game","boot","BootState"];c.ir.Bs.I=b.ya;c.ir.Bs.prototype=q(b.ya.prototype,{init:function(){b.ya.prototype.init.call(this);this.Mc=b.D.g();var a=new b.J.le;this.Mc.yl(a);
a=new b.J.Hc;this.Mc.yl(a);var d=new b.J.Bf;this.Mc.yl(d);d=new b.J.Qi;this.Mc.yl(d);d=new b.J.im;this.Mc.yl(d);d=new b.Xc.Mj;this.Mc.yl(d);a.wI();c.platformer.ib.ed.g().gA("cheeseMagnet",0,[200,400,800,1600]);c.platformer.ib.ed.g().gA("invincibility",0,[200,400,800,1600]);c.platformer.ib.ed.g().gA("cheeseMultiplier",0,[200,400,800,1600]);c.platformer.ib.ed.g().gA("reduceCooldown",0,[200,400,800,1600]);this.bQ();this.LO()},LO:function(){var a=new b.LoadBatch;a.Bg("pixpiJs","./js/pixi.min.js",b.AssetType.Javascript);
a.Bg("assetList","asset_list.xml",b.AssetType.Other);a.Bg("strings","./locale/"+s.vc+"/strings.xml",b.AssetType.Other);a.Bg("gameConfig","game_config.xml",b.AssetType.Other);a.Bg("gameCss","./locale/"+s.vc+"/css/game.css",b.AssetType.Ns);a.Bg("styleCss","./locale/"+s.vc+"/css/style.css",b.AssetType.Ns);a.Bg("fontCss","./locale/"+s.vc+"/css/stylesheet.css",b.AssetType.Ns);a.Bg("speechMap","./media/xml/speech_map.xml",b.AssetType.Other);a.Bg("ipadOrientationImage","./media/images/system/orientation_ipad.png",
b.AssetType.Image);a.Bg("iphoneOrientationImage","./media/images/system/orientation_iphone.png",b.AssetType.Image);a.load(u(this,this.VQ))},VQ:function(){b.v.Pe.g().setup({backgroundColor:0,antialias:!0,resolution:1,transparent:!0});b.ha.nS(b.J.Ha.ic("gameConfig"));b.Db.fQ();b.Xc.Mj.g().setup();for(var a=b.J.Ha.ic("assetList"),a=C.parse(a).Ma("loadBatch");a.xc();){for(var c=new b.LoadBatch,d=a.next(),f=d.get("basePath"),k=d.Ma("asset");k.xc();){var g=k.next(),h=E.mI(b.AssetType,g.get("type")),l={};
switch(h[1]){case 0:if(g.Eb("scaleMode")){var m=g.get("scaleMode").toLowerCase();l.scaleMode="nearest"==m?PIXI.SCALE_MODES.NEAREST:"linear"==m?PIXI.SCALE_MODES.LINEAR:PIXI.SCALE_MODES.DEFAULT}else l.scaleMode=PIXI.SCALE_MODES.DEFAULT}c.Bg(g.get("name"),f+g.get("path"),h,l)}b.J.Ha.ln(d.get("name"),c)}b.J.Ha.ic("loadScreenBatchPreload").load(u(this,this.yR));if(b.D.ae()||"NONE"!=b.ha.na("forceOrientation"))a=new b.sr.kt,this.Mc.Fe(a),b.D.g().qv()},yR:function(){this.nl=new c.Kn;this.Mc.Fe(this.nl);
this.Mc.QE();b.J.Ha.ic("loadBatchPreload").load(u(this,this.LR))},LR:function(){this.Mc.Ek(this);var a=new b.A(r.xa(b.ha.na("box2d.gravityX")),r.xa(b.ha.na("box2d.gravityY")));c.Z.g().Ev(new d.f.math.K(a.x,a.y));a=new b.da.ac(null,"debug");this.Mc.yl(a);c.platformer.ua.Hb.g().lJ();c.Be.Qm(this.nl,new c.ff)},bQ:function(){this.Mc.ti(new b.Vi("debug",s.Wl,s.Vl))},r:c.ir.Bs});c.platformer={};c.platformer.Ov=function(a,c,d){this.Zn=!1;b.q.call(this,a);this.Ja=c;this.p=d};c.platformer.Ov.n=["game","platformer",
"AbilityButton"];c.platformer.Ov.I=b.q;c.platformer.Ov.prototype=q(b.q.prototype,{CD:z("Rn"),init:function(){b.q.prototype.init.call(this);var a=this.ga().F();new b.v.la(a);(new b.ba.Oa(a,this.Ja)).xb(new b.A(-0.845,0.748));this.bx=c.ab.zl(this.ga(),0,0,this.wD(),this.wD(),null,"ui_click_1","",!1,0,u(this,this.GE));this.pl=new b.v.ea(this.ga().F(),this.wD()+"Off");this.pl.V().anchor=new PIXI.Point(0.5,0.5);this.ho=new PIXI.Graphics;this.pl.V().mask=this.ho;this.Rn=this.bx.T(b.k.Yd);this.bx.addChild(this.pl.j);
a.addChild(this.bx)},wD:function(){c.Z.g();return"abilityButtonWonderWoman"},update:function(){b.q.prototype.update.call(this);null==this.ho.parent&&null!=this.pl.V().parent&&(this.pl.V().parent.addChild(this.ho),b.H.Wb.log("added"));this.ho.clear();this.ho.beginFill();this.ho.drawRect(-this.pl.V().width/2,-this.pl.V().height/2,this.pl.V().width,this.pl.V().height*this.p.bj.RO());this.ho.endFill()},Jb:function(){b.q.prototype.Jb.call(this);this.Zn&&this.p.ek(3);this.Zn=!1},GE:function(){this.Zn=!0},
r:c.platformer.Ov});c.platformer.As=function(a){this.nu=!1;b.q.call(this,a);this.$=new b.k.Ac(a)};c.platformer.As.n=["game","platformer","BestDistanceDisplay"];c.platformer.As.I=b.q;c.platformer.As.prototype=q(b.q.prototype,{update:function(){b.q.prototype.update.call(this);if(!this.nu){var a=c.platformer.aa.g().Zb;null!=a&&a.va.x>this.j.va.x&&(this.$.sa(this.j.T(b.v.la).Na(),"alpha",1,0,0.35,b.k.ma.qa.Ed),this.$.sa(this.j.oa,"x",1,3,0.35,b.k.ma.qa.Ed),this.$.sa(this.j.oa,"y",1,3,0.35,b.k.ma.qa.Ed,
0,u(this,this.VE)),this.nu=!0)}},VE:function(){this.j.destroy()},r:c.platformer.As});c.platformer.Es=function(a,c){b.q.call(this,a);this.IH=c};c.platformer.Es.n=["game","platformer","ButKeepBelowThisY"];c.platformer.Es.I=b.q;c.platformer.Es.prototype=q(b.q.prototype,{ee:function(){b.q.prototype.ee.call(this);this.j.getLocalPosition().y>this.IH&&this.j.setPosition(this.j.getLocalPosition().x,this.IH)},r:c.platformer.Es});c.platformer.Hs=function(a){this.QB=!1;this.EH=0;b.q.call(this,a);a=this.j.F(!0);
(new b.v.ea(a,"cheeseMeter")).V().anchor=new PIXI.Point(0.5,0.5);this.wB=this.j.F(!0);this.wB.setPosition(-79,-2.5);(new b.v.ea(this.wB,"cheeseMeterFill")).V().anchor=new PIXI.Point(0,0.5);a=this.j.F(!0);a.setPosition(-90,-1);this.AG=new b.v.ea(a,"flameIconEmpty");this.AG.V().anchor=new PIXI.Point(0.5,0.5);this.Nt=c.Z.g().TO()};c.platformer.Hs.n=["game","platformer","ChargeMeter"];c.platformer.Hs.I=b.q;c.platformer.Hs.prototype=q(b.q.prototype,{update:function(){b.q.prototype.update.call(this);var a=
c.platformer.aa.g().Sh,a=Math.min(a.ui/a.Xo,1);this.wB.Bd(a,1);this.AG.Ii(1<=a?"flameIconFilled":"flameIconEmpty");var d=b.ha.na("game.goal.cheeseCharge"+this.Nt),e=b.ha.na("game.goal.maxGoals");1<=a&&!this.QB&&(this.QB=!0,this.EH++);0>=a&&(this.QB=!1);this.EH>=d&&this.Nt<e&&(this.Nt++,c.Z.g().ET(!0),c.Z.g().MT(this.Nt),c.Z.g().LT(b.ha.na("game.goal.cheeseCharge"+this.Nt)))},r:c.platformer.Hs});c.platformer.Hp=function(a,c,d){null==d&&(d="");null==c&&(c=1);this.kH="";this.XG=1;this.eu=!1;b.q.call(this,
a);new b.v.la(this.j);this.XG=c;this.kH=d};c.platformer.Hp.n=["game","platformer","CollectibleDisplay"];c.platformer.Hp.I=b.q;c.platformer.Hp.prototype=q(b.q.prototype,{init:function(){b.q.prototype.init.call(this);var a=this.j.F(!0);a.setPosition(0,0);this.px=c.Z.g().UO();this._text=new b.v.rb(a,"",{font:"32px curse_casualregular",fill:"#FFFFFF",align:"left"},1);this._text.ve().anchor=new PIXI.Point(0,0.5)},update:function(){b.q.prototype.update.call(this);var a=c.Z.g().fj*this.XG;this._text.Pl(this.kH+
a);if(!this.eu){var a=c.Z.g().fj,d=b.ha.na("game.goal.maxGoals");a>=c.Z.g().Mu()&&this.px<d&&(this.eu=!0,this.px++,c.Z.g().FT(!0),c.Z.g().OT(this.px),c.Z.g().NT(b.ha.na("game.goal.piecesOfCheese"+this.px)))}},r:c.platformer.Hp});c.platformer.An=function(a,c,d){this.Eq=null;this.jM=!1;this.UG=this.VG=5;this.nx=0.35;this.jB=1E3;this.SB=!1;this.Rj=0;b.q.call(this,a);this.Sg=new b.k.Jp(this.j);this.FM=d;this.Gm=c};c.platformer.An.n=["game","platformer","CountingScore"];c.platformer.An.I=b.q;c.platformer.An.prototype=
q(b.q.prototype,{V1:z("VG"),w5:x("VG"),t0:z("jB"),V4:x("jB"),u0:z("nx"),W4:x("nx"),X2:z("Gm"),P5:x("Gm"),init:function(){b.q.prototype.init.call(this);this.iH=this.j.T(b.v.rb)},update:function(){b.q.prototype.update.call(this);this.Rj<this.Gm&&this.SB&&(this.Rj=0<this.nx?this.Rj+Math.max(this.UG,Math.ceil(this.Gm*b.D.eb()/this.nx)):this.Rj+Math.max(this.UG,Math.ceil(this.jB*b.D.eb())),this.Rj>=this.Gm&&(this.SB=!1,this.dispatchEvent(new c.platformer.Bn(c.platformer.Bn.QL)),null!=this.Eq&&this.Eq.stop(),
b.audio.SoundManager.Wc("sfx_score_count_end_1")));this.Rj>=this.Gm&&(this.Rj=this.Gm);var a=this.FM;this.jM?this.iH.Pl(F.replace(a,"%N",""+this.Rj)):this.iH.Pl(a+r.sc(this.Rj))},DF:function(a){null==a&&(a=0);var c=this;this.Sg.ro(a,function(){c.SB=!0;c.Rj=0;0!=c.Gm&&(c.Eq=b.audio.SoundManager.Wc("sfx_score_count",!1,!0))})},destroy:function(){b.q.prototype.destroy.call(this);null!=this.Eq&&(this.Eq.stop(),this.Eq=null)},r:c.platformer.An});c.platformer.Bn=function(a){b.S.Ea.call(this,a)};c.platformer.Bn.n=
["game","platformer","CountingScoreEvent"];c.platformer.Bn.I=b.S.Ea;c.platformer.Bn.prototype=q(b.S.Ea.prototype,{r:c.platformer.Bn});c.platformer.Ps=function(a){this.eu=!1;b.q.call(this,a);this.hD()};c.platformer.Ps.n=["game","platformer","DistanceDisplay"];c.platformer.Ps.I=b.q;c.platformer.Ps.prototype=q(b.q.prototype,{hD:function(){var a=this.ga().F();a.setPosition(0,0);this.Ot=c.Z.g().VO();this._text=new b.v.rb(a,"",{font:"32px curse_casualregular",fill:"#FFFFFF",align:"left"});this.j.addChild(a)},
update:function(){b.q.prototype.update.call(this);var a=r.sc(c.platformer.aa.g().Nu())+"m";this._text.Pl(a);var a=b.ha.na("game.goal.DistanceToRun"+this.Ot),d=b.ha.na("game.goal.maxGoals");!this.eu&&(c.platformer.aa.g().Nu()>=a&&this.Ot<d)&&(this.eu=!0,this.Ot++,c.Z.g().GT(!0),c.Z.g().PT(this.Ot),c.Z.g().gL(b.ha.na("game.goal.DistanceToRun"+this.Ot)))},r:c.platformer.Ps});c.platformer.Qs=function(a){this.nu=!1;b.q.call(this,a);this.$=new b.k.Ac(a)};c.platformer.Qs.n=["game","platformer","DistanceGoalDisplay"];
c.platformer.Qs.I=b.q;c.platformer.Qs.prototype=q(b.q.prototype,{update:function(){b.q.prototype.update.call(this);if(!this.nu){var a=c.platformer.aa.g().Zb;null!=a&&a.va.x>this.j.va.x&&(this.$.sa(this.j.T(b.v.la).Na(),"alpha",1,0,0.35,b.k.ma.qa.Ed),this.$.sa(this.j.oa,"x",1,3,0.35,b.k.ma.qa.Ed),this.$.sa(this.j.oa,"y",1,3,0.35,b.k.ma.qa.Ed,0,u(this,this.VE)),this.nu=!0,this.dispatchEvent(new c.platformer.Kp("pass")))}},VE:function(){this.j.destroy()},r:c.platformer.Qs});c.platformer.Kp=function(a){b.S.Ea.call(this,
a)};c.platformer.Kp.n=["game","platformer","DistanceGoalDisplayEvent"];c.platformer.Kp.I=b.S.Ea;c.platformer.Kp.prototype=q(b.S.Ea.prototype,{r:c.platformer.Kp});c.platformer.Mp=function(a,c,d,f,k,g){null==g&&(g=1);this.ox=0;this.rC=1;this.Wx=this.uy=0;this.xq=[];b.q.call(this,a);this.AH=c;this.W=f;this.NB=d;this.rC=g};c.platformer.Mp.n=["game","platformer","EndlessHorizontalParallax"];c.platformer.Mp.I=b.q;c.platformer.Mp.prototype=q(b.q.prototype,{init:function(){b.q.prototype.init.call(this);this.CI()},
CI:function(){var a=this.W.T(b.k.Camera),d=this.W.O().x-a.cJ().x/2/this.rC,e=this.W.O().x+a.cJ().x/2/this.rC,a=0;if(this.uy<e)for(a=this.uy;this.uy<e;){var f=this.ga().F(),k=new b.v.ea(f,this.NB[this.kJ()]);k.V().anchor=new PIXI.Point(0,0);f.setPosition(a,0);this.AH.addChild(f);this.uy=a+=k.V().width-1;this.xq.push(f);"background2"==k.Kx&&c.platformer.aa.g().EL(k.j)}if(this.Wx>d)for(a=this.Wx;this.Wx>d;)e=this.ga().F(),f=new b.v.ea(e,this.NB[this.kJ()]),f.V().anchor=new PIXI.Point(0,0),e.setPosition(a-
f.V().width,0),this.AH.addChild(e),this.Wx=a-=f.V().width-1,this.xq.push(e),"background2"==f.Kx&&c.platformer.aa.g().EL(f.j)},kJ:function(){var a=this.ox;this.ox++;this.ox>this.NB.length-1&&(this.ox=0);return a},xN:function(){for(var a=this.xq.length;2<a;)a=this.xq.length,w.remove(this.xq,this.xq[0])},update:function(){b.q.prototype.update.call(this);this.CI();this.xN()},r:c.platformer.Mp});c.platformer.Op=function(a){this.CG=!1;b.q.call(this,a)};c.platformer.Op.n=["game","platformer","ExitDoor"];
c.platformer.Op.I=b.q;c.platformer.Op.prototype=q(b.q.prototype,{wa:function(){this.CG||(c.platformer.aa.g().sN(this.j),this.CG=!0)},r:c.platformer.Op});c.platformer.Ws=function(a,c,d,f){null==f&&(f=0);null==d&&(d=1);this.Xj=this.sx=0;this.lf=1;b.q.call(this,a);this.mu=c;this.OC=d;this.EM=f};c.platformer.Ws.n=["game","platformer","FollowPath"];c.platformer.Ws.I=b.q;c.platformer.Ws.prototype=q(b.q.prototype,{update:function(){this.sx-=b.D.eb();if(0>=this.sx){var a=new b.A(this.mu[this.Xj].x-this.j.O().x,
this.mu[this.Xj].y-this.j.O().y),a=a.Kf();this.j.translate(a.x*this.OC,a.y*this.OC);if((new b.A(Math.abs(this.j.O().x-this.mu[this.Xj].x),Math.abs(this.j.O().y-this.mu[this.Xj].y))).Dc()<this.OC){this.Xj+=this.lf;if(0>this.Xj||this.Xj==this.mu.length)this.lf*=-1,this.Xj+=2*this.lf;this.sx=this.EM}}},r:c.platformer.Ws});c.platformer.Kj={sg:!0,mh:["Flying","Grinding"]};c.platformer.Kj.KA=["Flying",0];c.platformer.Kj.KA.sb=c.platformer.Kj;c.platformer.Kj.PF=["Grinding",1];c.platformer.Kj.PF.sb=c.platformer.Kj;
c.platformer.Kj.Mh=[c.platformer.Kj.KA,c.platformer.Kj.PF];c.platformer.UL=t();c.platformer.UL.n=["game","platformer","GameplayPhases"];c.platformer.aa=function(a){this.xG=2;this.ay=this.SG=0;this.uM=75;this.yM=25;this.xu=0;this.rm=!0;this.sy=[];this.uC=0;this.jm=1;this.ji=!0;this.eH=[];this.vl=[];this.Gq=[];this.Hq=[];this.qM=[];this.kl=[];this.pG=null;b.q.call(this,a);c.platformer.aa.Va=this;this.Sh=new c.platformer.Zk;new b.v.la(this.j)};c.platformer.aa.n=["game","platformer","Level"];c.platformer.aa.g=
function(){return c.platformer.aa.Va};c.platformer.aa.I=b.q;c.platformer.aa.prototype=q(b.q.prototype,{l3:z("xu"),$M:function(a){this.xu+=a},y_:z("SF"),n0:z("rm"),U4:x("rm"),Nu:function(){return null==this.Zb?0:Math.floor((this.Zb.O().x-this.io.x)/this.fH)},R3:z("ji"),s2:z("io"),W0:z("Hq"),h0:z("eG"),M0:z("tB"),e3:z("bk"),g1:z("Jq"),r2:z("ni"),p2:z("Zb"),P2:z("ob"),q2:z("Sh"),G1:z("qM"),E1:z("kl"),N0:z("Gq"),GP:z("rd"),L_:z("jm"),init:function(){var a=this;b.q.prototype.init.call(this);this.iu=new c.platformer.Ab.Ng(this.j,
null);this.Sg=new b.k.Hj(this.j);this.$=new b.k.Ac(this.j);this.pG=b.D.g().vf("default");this.fH=b.ha.na("game.pixelsToMeters");var d=this.ga().F();this.W=new b.v.Xi(d);this.W.mU(!1);new b.k.Mn(d);this.ob=new c.platformer.gb.rt(d);this.jm=r.xa(b.ha.na("game.baseCameraZoom"));d="level"+c.Z.g().Wn+".pieces";b.D.ae()&&(d+=".mobile");for(var d=b.ha.na(d).split(","),e=d.length,f=0;f<e;){var k=f++,g=d[k],h=b.J.Ha.ic(g);this.uC++;k=[this.ga().F()];k[0].ig(g);g=b.tmx.xt.nP(h);new b.tmx.Oj(k[0],g,"./media/xml/",
this.pG,0,null,function(b){return function(){a.IR(b[0])}}(k))}this.Ja=c.ab.bh(this.ga());this.YK()},IR:function(a){var d=a.T(b.tmx.Oj),e=new c.platformer.Ab.Jw(a.getName()),f=d.tD("Entry"),k=d.tD("Exit");if(1<d.uf("SpawnNextTrigger").length)throw"More than one SpawnNextTrigger found on this Piece.";if(null==f)throw"No Entry object found on Level Piece "+a.getName();if(null==k)throw"No Exit object found on Level Piece "+a.getName();d.nc.properties.Eb("forceAtTime")&&(e.GO=r.xa(d.nc.properties.get("forceAtTime")));
d.nc.properties.Eb("forceNextPieces")&&(e.HO=r.sc(d.nc.properties.get("forceNextPieces")).split(","));d.nc.properties.Eb("minTime")&&(e.lv=r.xa(d.nc.properties.get("minTime")));d.nc.properties.Eb("maxTime")&&(e.kv=r.xa(d.nc.properties.get("maxTime")));e.ez=new b.A(f.x+f.width/2,f.y-f.height/2);e.gz=new b.A(k.x+f.width/2,k.y-f.height/2);f.properties.Eb("tags")&&(e.fz=r.sc(f.properties.get("tags")).split(","));k.properties.Eb("tags")&&(e.hz=r.sc(k.properties.get("tags")).split(","));e.yA=d;this.iu.ES(e);
this.uC--;0>=this.uC&&this.xR()},xR:function(){var a=this.ga().F();this.j.addChild(a);var d=new b.v.la(a);new c.platformer.Mp(this.j,a,["background1","background2","background3"],this.W.j,0,0.5);this.W.ti(d,0.25,1,0,85,0).Zo=!0;a=this.ga().F();this.j.addChild(a);d=new b.v.la(a);new c.platformer.Mp(this.j,a,"midground1 midground2 midground3 midground4 midground5 midground6".split(" "),this.W.j,0,0.5);this.W.ti(d,0.5,1,0,350,0).Zo=!0;this.iu.addEventListener("addToEnd",u(this,this.UQ));this.iy=this.ga().F();
new b.v.la(this.iy);this.iy.ig("OverlayLayer");this.j.addChild(this.iy);a=this.iy.F(!0);new b.v.ea(a,"backgroundOverlay");a.Bd(100,1);this.bk=this.ga().F();a=new b.v.la(this.bk);this.bk.ig("TilesLayer");this.W.ti(a);this.j.addChild(this.bk);this.iu.Aj(this.bk);this.ni=this.ga().F();a=new b.v.la(this.ni);this.ni.ig("PlayerLayer");this.W.ti(a);this.j.addChild(this.ni);this.Jq=this.ga().F();a=new b.v.la(this.Jq);this.Jq.ig("ForegroundLayer");this.W.ti(a);this.j.addChild(this.Jq);this.AB=this.ga().F();
this.j.addChild(this.AB);a=new b.v.la(this.AB);this.W.ti(a,this.xG,1,0,125,0).Zo=!0;this.gB=this.ga().F();this.j.addChild(this.gB);a=new b.v.la(this.gB);this.W.ti(a,1,0,0,0,0).Zo=!0;var e;e=c.Z.g().iP()?this.iu.CF(["start"]):this.iu.CF(["startTutorial"]);if(null==e)throw"No Level Piece with an Entry Object containing a 'start' tag was found.";a=this.ga().F();this.bk.addChild(a);d=this.ga().F();this.ni.addChild(d);e.rd.rI(a,0,0);this.cQ(e);this.gQ();e.yL(a);e.hL(d);this.DL(e);d=this.ga().F();c.platformer.aa.g().Jq.addChild(d);
var f=!0,k=a.wi().length;e.kL(d);for(e=null!=e.rd.bJ("Tutorial")?"Tutorial":"Tiles";0<=--k;){var g=a.wi()[k];f&&g.getName()!=e&&d.addChild(g);g.getName()==e&&(f=!1)}this.dispatchEvent(new c.platformer.dm("ready"))},YK:function(){this.ay=b.H.Sa.wv(this.yM,this.uM)},bE:function(){this.tB=this.ga().F();var a=new b.v.la(this.tB);this.bk.getParent().kQ(this.tB,function(b){b=b.bk.wi();return w.indexOf(b,a.j,0)}(this));c.ff.g().bE();b.D.g();var d=this.F();(new b.ba.Oa(d,this.Ja)).xb(new b.A(0.32,-0.837));
(new b.v.ea(d,"hudHeaderBg")).V().anchor=new PIXI.Point(0.5,0.5);var e=this.ga().F();e.setPosition(100,0);new c.platformer.Ps(e);d.addChild(e);e=this.ga().F();e.setPosition(-132,0);var f=r.Gb(b.ha.na("cheese.scoreValue"));new c.platformer.Hp(e,f,b.Db.pc("GAMEPLAY_SCREEN_SCORE")+" ");d.addChild(e);d=this.F();(new b.ba.Oa(d,this.Ja)).xb(new b.A(-0.436,-0.837));(new b.v.ea(d,"cheeseIcon")).V().anchor=new PIXI.Point(0.5,0.5);e=this.ga().F();d.addChild(e);d=this.ga().F();(new b.ba.Oa(d,this.Ja)).xb(new b.A(-0.375,
-0.842));new c.platformer.Hp(d);d=this.F();(new b.ba.Oa(d,this.Ja)).xb(new b.A(-0.703,-0.833));new c.platformer.Hs(d);d=c.platformer.dd.IN(this.io.x+c.Z.g().QD(c.Z.g().Wn)*this.fH,this.ga(),c.Z.g().QD(c.Z.g().Wn));this.gB.addChild(d)},EL:function(a,c,d){null==d&&(d=0);null==c&&(c=0);var f=this.ga().F();f.setPosition(c,d);f.Bd(2.2222222222222223,2.2222222222222223);new b.v.xd(f,"waterfall");a.addChild(f)},UQ:function(a){this.DL(a.ky);for(var b=!0,d=a.ky.Xt.length,f=0;f<d;){var k=f++,k=a.ky.Xt[k];if(0<=
k.indexOf("Tut")||0<=k.indexOf("start")||0<=k.indexOf("Start"))b=!1}b&&c.Z.g().bU(!0)},DL:function(a){this.eQ(a);this.$P(a);this.hQ(a);this.dQ(a);this.iQ(a);this.aQ(a);this.ZP(a)},update:function(){b.q.prototype.update.call(this);this.Sh.time+=b.D.eb();if(null!=this.km){var a=this.Zb.O(),c=this.km.getLocalPosition();this.km.setPosition(c.x,a.y)}},Jb:function(){b.q.prototype.Jb.call(this)},I3:t(),j4:function(){this.dispatchEvent(new c.platformer.dm("ready"))},QU:function(){this.bE();this.Zb.af(!0);
this.Sx.af(!1);this.vu.af(!0);this.Hy.af(!1);var a=this.Zb.T(c.platformer.character.Zd);a.nb(new c.platformer.character.C.Xb(a));a.nL(!0);a=this.vu.T(c.platformer.Ca.og);a.addEventListener("catch",u(this,this.cS));a.OU()},cS:function(){var a=this,d=this.Zb.T(c.platformer.character.Zd);d.nb(new c.platformer.character.C.Rs(d));this.Kt=this.F();this.Kt.tA(this.Zb.getParent());this.Kt.setPosition(this.Zb.va.x,this.Zb.va.y-50);new b.v.xd(this.Kt,"fightCloud");this.Sg.ro(1,function(){a.iz()})},k6:t(),cQ:function(a){var d=
a.rd.uf("PlayerStart")[0];a=new b.La(a.j.O().x+d.x+290,a.j.O().y+d.y+5);this.io=a.Da();c.Z.g();this.Zb=c.platformer.dd.RN(a.x,a.y,this.ga());d=this.Zb.T(c.platformer.character.$r);null!=d&&d.destroy();new c.platformer.character.Yk(this.Zb);b.D.ae()&&new c.platformer.Ct(this.Zb,this.Ja,this.Zb.T(c.platformer.character.Zd));this.ni.addChild(this.Zb);d=this.Zb.T(c.platformer.character.Zd);d.nb(new c.platformer.character.C.bt(d));d.addEventListener("startCharge",u(this,this.bR));d.addEventListener("endCharge",
u(this,this.$Q));d.addEventListener("move",u(this,this.aR));d.nL(!1);this.SG=this.io.y;this.JF();this.ob.W.lk().setPosition(this.ob.W.lk().getLocalPosition().x,this.io.y);this.W.uQ();this.Zb.af(!1);this.Sx=this.ga().F();this.Sx.setPosition(a.x-42,a.y-75);this.ni.addChild(this.Sx);new b.v.ea(this.Sx,"splashJerry")},aR:function(a){this.ay-=a.qG.x;0>=this.ay&&this.gR()},gR:function(){this.YK();var a=this.AB.F(!0);(new b.v.ea(a,"foreground"+(b.H.Sa.xv(0,3)+1))).V().anchor=new PIXI.Point(0.5,1);var d=
(this.Zb.O().x+1024)*this.xG;a.setPosition(d,750);new c.Ys(a,this.W.j)},bR:function(){var a=this.ob.W.lk().O();this.AM=this.ob.W.lk();this.km=this.F(!0);this.km.setPosition(a.x,a.y);(new b.k.Pd(this.km)).cd(this.Zb.T(c.platformer.character.Zd).Gd().x,0);this.ob.W.Aj(this.km)},$Q:function(){this.ob.W.Aj(this.AM);this.km.destroy();this.km=null},gQ:function(){var a=new b.La(this.Zb.O().x,this.Zb.O().y-75);this.vu=c.platformer.dd.ZN(a.x,a.y,this.Zb,this.ga());this.ni.addChild(this.vu);this.vu.af(!1);
this.Hy=this.ga().F();this.Hy.setPosition(a.x-345,a.y-150);this.ni.addChild(this.Hy);new b.v.ea(this.Hy,"splashTom")},MK:function(){this.vu.destroy();this.Zb.destroy();null!=this.Kt&&this.Kt.destroy()},J3:t(),ZP:function(a){for(var d=a.rd.uf("LightObstacle"),e=d.length,f=0;f<e;){var k=f++,g=d[k],k=null,k=this.ga().F();k.setPosition(a.Pa().x+g.x,a.Pa().y+g.y);a.rd.nc.UN(k,g.CJ,a.rd.GI());var h=k.T(b.v.ea);h.Ik();var l=new c.platformer.character.Sk(k);new c.platformer.Ca.hf(k);k.Ji(0,0,g.rotation);
90<Math.abs(g.rotation)&&(k.Bd(-1,1),k.translate(-g.width,0));h.V().anchor=new PIXI.Point(0,1);g=new b.k.Ud.Af(k,new b.R.ef(0,0,g.width,g.height),new b.La(0.5*g.width,0.5*-g.height));g.Sd("hostile");g.Sd("obstacle");g.Sd("slideDestroyObstacle");g.zj(u(l,l.wa));g.Ur(u(l,l.Ta));a.Vf.addChild(k);this.Gq.push(k);k.addEventListener("destroy",u(this,this.bA))}d=a.rd.uf("ChocoPipe");e=d.length;for(f=0;f<e;)k=f++,l=d[k],k=null,k=this.ga().F(),k.setPosition(a.Pa().x+l.x,a.Pa().y+l.y),g=new b.v.xd(k,"chocoPipe"),
k.translate(0,-g.V().height/2),g.V().anchor=new PIXI.Point(0,0.5),g.Ik(),g=new c.platformer.character.Sk(k),new c.platformer.Ca.hf(k),l=new b.k.Ud.Af(k,new b.R.ef(0,0,l.width,l.height),new b.La(0.5*l.width,0.5*-l.height)),l.Sd("hostile"),l.Sd("obstacle"),l.Sd("slideDestroyObstacle"),l.zj(u(g,g.wa)),l.Ur(u(g,g.Ta)),a.Vf.addChild(k),this.Gq.push(k),k.addEventListener("destroy",u(this,this.bA));d=a.rd.uf("FloatingElectricObstacle");e=d.length;for(f=0;f<e;)k=f++,k=d[k],l=this.uP(a,k.properties.get("path")),
k=c.platformer.dd.NN(a.Pa().x+k.x+k.width/2,a.Pa().y+k.y-k.height/2,this.ga(),l),a.Vf.addChild(k),this.Gq.push(k),k.T(b.v.la).Ik(),k.addEventListener("destroy",u(this,this.bA));d=a.rd.uf("GroundElectricObstacle");e=d.length;for(f=0;f<e;)k=f++,k=d[k],k=c.platformer.dd.ON(a.Pa().x+k.x+k.width/2,a.Pa().y+k.y,this.ga()),a.Vf.addChild(k),this.Gq.push(k),k.T(b.v.la).Ik(),k.addEventListener("destroy",u(this,this.bA));d=a.rd.uf("Pit");e=d.length;for(f=0;f<e;)k=f++,l=d[k],k=this.ga().F(),k.setPosition(a.Pa().x+
l.x+l.width/2,a.Pa().y+l.y+l.height/2),l=new b.k.Ud.Af(k,new b.R.ef(0,0,l.width,l.height)),l.Sd("trigger"),g=new c.platformer.lt(k),l.zj(u(g,g.wa)),this.eH.push(k),k.addEventListener("destroy",u(this,this.JR));d=a.rd.uf("Respawn");e=d.length;for(f=0;f<e;)k=f++,k=d[k],l=this.ga().F(),l.setPosition(a.Pa().x+k.x+k.width/2,a.Pa().y+k.y+k.height/2),l.addEventListener("destroy",u(this,this.PR)),a.j.addChild(l),this.sy.push(l)},bA:function(a){w.remove(this.Gq,a.target)},JR:function(a){w.remove(this.eH,a.target)},
PR:function(a){w.remove(this.sy,a.target)},b0:function(a){for(var c=-1,d=null,f=this.sy.length,k=0;k<f;){var g=k++,g=this.sy[g],h=new b.A(g.O().x,g.O().y),h=new b.A(h.x-a.x,h.y-a.y);if(-1==c||h.Dc()<c)c=h.Dc(),d=g}return d},uP:function(a,c){var d=a.rd.BO(c);if(null==d)return null;var f=d.YE;if(null==f)return null;for(var k=[],g=0,h=f.points.length;g<h;){var l=g++;k.push(new b.A(a.Pa().x+d.x+f.points[l].x,a.Pa().y+d.y+f.points[l].y))}return k},aQ:function(a){for(var d=1,e=a.rd.uf("Cheese").concat(a.rd.uf("Cookie")),
f=[],k=e.length,g=0;g<k;){var h=g++,h=e[h],h=c.platformer.dd.KN(a.Pa().x+h.x+h.width/2,a.Pa().y+h.y-h.height/2,this.ga(),d);this.kl.push(h);d++;2<d&&(d=1);h.addEventListener("destroy",u(this,this.cA));a.Vf.addChild(h);h.T(b.v.la).Ik();f.push(h)}f.sort(function(a,b){return a.va.x<b.va.x?-1:a.va.x>b.va.x?1:0});d=a.rd.uf("SuperCheese").concat(a.rd.uf("SuperCookie"));e=[];f=d.length;for(k=0;k<f;)g=k++,g=d[g],g=c.platformer.dd.YN(a.Pa().x+g.x+g.width/2,a.Pa().y+g.y-g.height/2,this.ga()),this.kl.push(g),
g.addEventListener("destroy",u(this,this.cA)),a.Vf.addChild(g),g.T(b.v.la).Ik(),e.push(g);d=a.rd.uf("CoinMagnet");e=d.length;for(f=0;f<e;)k=f++,k=d[k],k=c.platformer.dd.LN(a.Pa().x+k.x+k.width/2,a.Pa().y+k.y-k.height/2,this.ga()),this.kl.push(k),k.T(b.v.la).Ik(),k.addEventListener("destroy",u(this,this.cA)),a.Vf.addChild(k);d=a.rd.uf("Invincibility");e=d.length;for(f=0;f<e;)k=f++,k=d[k],k=c.platformer.dd.QN(a.Pa().x+k.x+k.width/2,a.Pa().y+k.y-k.height/2,this.ga()),this.kl.push(k),k.T(b.v.la).Ik(),
k.addEventListener("destroy",u(this,this.cA)),a.Vf.addChild(k)},hQ:function(a){null!=a.rd.tD("TransitionTrigger")&&this.vl.push(new b.La(a.om.x+a.Pa().x,a.om.y+a.Pa().y))},$P:function(a){for(var d=a.rd.uf("TransitionTrigger"),e=d.length,f=0;f<e;){var k=f++,g=d[k],k=this.ga().F();k.setPosition(a.Pa().x+g.x,a.Pa().y+g.y);g=new b.k.Ud.Af(k,new b.R.ef(0,0,g.width,g.height),new b.La(0,g.height/2));g.Sd("trigger");var h=new c.platformer.Op(k);g.zj(u(h,h.wa));this.Hq.push(k);a.Vf.addChild(k);k.addEventListener("destroy",
u(this,this.iR))}},iR:function(a){w.remove(this.Hq,a.target)},eQ:function(a){for(var d=a.rd.uf("SpawnNextTrigger"),e=d.length,f=0;f<e;){var k=f++,g=d[k],k=this.ga().F();k.setPosition(a.Pa().x+g.x,a.Pa().y+g.y);g=new b.k.Ud.Af(k,new b.R.ef(0,0,g.width,g.height),new b.La(0,g.height/2));g.Sd("trigger");var h=new c.platformer.Ab.st(k);g.zj(u(h,h.wa));a.Vf.addChild(k)}d=a.rd.uf("Entry");e=d.length;for(f=0;f<e;)k=f++,k=d[k],g=this.ga().F(),g.setPosition(a.Pa().x+k.x,a.Pa().y+k.y),g.Sd("entry"),a.Vf.addChild(g)},
dQ:function(a){for(var d=a.rd.uf("ResetTimerTrigger"),e=d.length,f=0;f<e;){var k=f++,g=d[k],k=this.ga().F();k.setPosition(a.Pa().x+g.x,a.Pa().y+g.y);g=new b.k.Ud.Af(k,new b.R.ef(0,0,g.width,g.height),new b.La(0,g.height/2));g.Sd("trigger");var h=new c.platformer.pt(k);g.zj(u(h,h.wa));a.Vf.addChild(k)}},iQ:function(a){for(var d=a.rd.uf("TomOutTrigger"),e=d.length,f=0;f<e;){var k=f++,g=d[k],k=this.ga().F();k.setPosition(a.Pa().x+g.x,a.Pa().y+g.y);g=new b.k.Ud.Af(k,new b.R.ef(0,0,g.width,g.height),new b.La(0.5*
g.width,g.height/2));g.Sd("trigger");var h=new c.platformer.yt(k);g.zj(u(h,h.wa));g.Ur(u(h,h.Ta));a.Vf.addChild(k)}},sN:function(a,d){null==d&&(d=!1);var e=this;b.H.Wb.log("Level::beatLevel()");if(d)c.ff.g().yF();else{var f=this.Zb.T(c.platformer.character.Zd);this.Zb.O();if(this.ji)this.ji=!1,this.JF(),f.nb(new c.platformer.character.C.Og(f,new b.La(this.vl[0].x,this.vl[0].y))),w.remove(this.vl,this.vl[0]);else{var k=this.Zb.T(c.platformer.character.Tk);f.nb(new c.platformer.character.C.pg(f,new b.La(this.vl[0].x,
this.vl[0].y),function(){e.ji=!0;k.reset();e.JF();w.remove(e.vl,e.vl[0])}))}}null!=a&&a.destroy()},JF:function(){var a=new c.platformer.gb.wb.Vs(this.ob,this.Zb,0.1,new b.A(250,-170),this.SG);a.fL(r.xa(b.ha.na("game.baseCharacterLeadX")));this.ob.nb(a)},h4:t(),l4:t(),iz:function(){var a=this.ga();a.pause();a.yF()},dF:function(){var a=this.CO();this.Zb.setPosition(a.x,a.y);a=this.Zb.T(c.platformer.character.Zd);a.nb(new c.platformer.character.C.Xb(a));a.kA(!1);a.IS();b.H.Wb.log(a.bc)},CO:function(){var a=
this.ga().RI("entry"),a=a[a.length-1];a.O();for(var a=a.O(),c=0,d=0;200>d;){d++;var f=new b.A(a.x,a.y-2E3),k=new b.A(a.x,a.y+2E3),g=new b.hi;b.J.le.g().Ie(f,k,g,!0,["ground"]);if(null!=g.Ge){if(c++,4<=c)break}else c=0;a.x+=50}return a},cA:function(a){w.remove(this.kl,a.target)},QK:function(a){w.remove(this.kl,a)},destroy:function(){b.q.prototype.destroy.call(this);c.platformer.aa.Va==this&&(c.platformer.aa.Va=null)},r:c.platformer.aa});c.platformer.dm=function(a){b.S.Ea.call(this,a)};c.platformer.dm.n=
["game","platformer","LevelEvent"];c.platformer.dm.I=b.S.Ea;c.platformer.dm.prototype=q(b.S.Ea.prototype,{r:c.platformer.dm});c.platformer.Jn=function(a){b.q.call(this,a);new b.v.la(this.j);this.FG=[];this.EG=[]};c.platformer.Jn.n=["game","platformer","LifeDisplay"];c.platformer.Jn.I=b.q;c.platformer.Jn.prototype=q(b.q.prototype,{init:function(){b.q.prototype.init.call(this);for(var a=c.platformer.aa.g().Zb.T(c.platformer.character.Zd),d=0,a=Math.floor(a.ja.Xz);d<a;){var e=d++,f=this.ga().F();f.setPosition(130+
32*e,40);e=new b.v.ea(f,"lifeHeart");e.V().anchor=new PIXI.Point(0.5,0.5);this.j.addChild(f);this.FG.push(f);this.EG.push(e)}},update:function(){b.q.prototype.update.call(this);if(null!=c.platformer.aa.g().Zb)for(var a=c.platformer.aa.g().Zb.T(c.platformer.character.Zd),d=this.FG.length,e=0;e<d;){var f=e++;this.EG[f].V().alpha=f+1<=a.ja.Dl?1:0}},r:c.platformer.Jn});c.platformer.lt=function(a){b.q.call(this,a)};c.platformer.lt.n=["game","platformer","Pit"];c.platformer.lt.I=b.q;c.platformer.lt.prototype=
q(b.q.prototype,{wa:function(a){a=a.T(c.platformer.character.Zd);var b=new c.platformer.character.Cn;b.Eu=1;b.zr=!0;a.aE(b)},r:c.platformer.lt});c.platformer.dd=t();c.platformer.dd.n=["game","platformer","PlatformerFactory"];c.platformer.dd.VN=function(a,n,e){b.da.ac.g();e=e.F();e.setPosition(a,n);a=new d.e.rn;a.uD=!0;a.type=d.e.ra.$g;a.$C=!1;n=new d.e.xp;n.Zy=1;n.lz=0;n.zv=0;var f=new d.l.R.jh(0.75);f.hU(new d.f.math.K(0,-0.75));a=new b.da.Ej(e,a,f,n);n=new d.e.xp;n.pk=!0;n.Zy=1;n.shape=d.l.R.ud.QH(0.5,
0.5);a=a.lc.oI(n);new b.k.Ac(e);new b.k.Pd(e);n=new c.platformer.character.Zd(e);n.$T(a);n.ja.wo=r.xa(b.ha.na("baseCharacter.baseScale"));n.ja.Xz=r.xa(b.ha.na("baseCharacter.baseHitPoints"));n.ja.Dl=n.ja.Xz;n.ja.en=r.xa(b.ha.na("baseCharacter.movementSpeed"));n.ja.OQ=r.xa(b.ha.na("baseCharacter.maxMovementSpeed"));n.ja.Iu=r.xa(b.ha.na("baseCharacter.flySpeed"));n.ja.AE=r.xa(b.ha.na("baseCharacter.maxFlySpeed"));n.ja.SM=r.xa(b.ha.na("baseCharacter.accelerationSpeed"));n.ja.aO=r.xa(b.ha.na("baseCharacter.deccelerationSpeed"));
n.ja.KJ=r.xa(b.ha.na("baseCharacter.jumpPower"));n.ja.nD=r.xa(b.ha.na("baseCharacter.dropThroughVelocity"));n.ja.jv=r.xa(b.ha.na("baseCharacter.maxFallSpeed"));n.ja.FL=r.xa(b.ha.na("baseCharacter.speedIncreasePerMeter"));n.ja.DE=r.xa(b.ha.na("baseCharacter.metersUntilSpeedIncrease"));n.ja.aI=n.ja.en;n.ja.$H=n.ja.Iu;n.j.Bd(n.ja.wo,n.ja.wo);return e};c.platformer.dd.ZN=function(a,d,e,f){f=f.F();f.setPosition(a,d);new c.platformer.Ca.og(f,e);new b.v.xd(f,"tomRun");return f};c.platformer.dd.RN=function(a,
d,e){a=c.platformer.dd.VN(a,d,e);d=a.T(c.platformer.character.Zd);new c.platformer.character.yn(a,"jerry");d.uT(new c.platformer.character.tc.ft(d,r.xa(b.ha.na("wonderWoman.lassoCooldown"))));d.jp(new c.platformer.character.Ya.hq(d));new b.v.xd(a,"");new c.platformer.character.In(a,r.xa(b.ha.na("game.baseItemCollectionRange")));a.Sd("wonderWoman");return a};c.platformer.dd.KN=function(a,d,e,f){e=e.F();e.setPosition(a,d);(new b.v.ea(e,"cookie"+f)).V().anchor=new PIXI.Point(0.5,0.5);new c.platformer.item.Gp(e);
return e};c.platformer.dd.YN=function(a,d,e){e=e.F();e.setPosition(a,d);(new b.v.ea(e,"superCookie")).V().anchor=new PIXI.Point(0.5,0.5);new c.platformer.item.vt(e);return e};c.platformer.dd.LN=function(a,d,e){var f=e.F();new b.v.la(f);f.setPosition(a,d);a=e.F();f.addChild(a);d=new b.v.ea(a,"coinMagnet");new b.k.Pd(a,null);d.V().anchor=new PIXI.Point(0.5,0.5);new c.platformer.item.Ks(f);return f};c.platformer.dd.QN=function(a,d,e){var f=e.F();new b.v.la(f);f.setPosition(a,d);a=e.F();f.addChild(a);
d=new b.v.ea(a,"invincibility");new b.k.Pd(a,null);d.V().anchor=new PIXI.Point(0.5,0.5);new c.platformer.item.ct(f);return f};c.platformer.dd.ZZ=function(a,d,e,f,k){k=k.F();k.setPosition(a,d);a=new b.k.Ud.Af(k,new b.R.ef(0,0,e,f),new b.La(0,f));a.Sd("exit");d=new c.platformer.Op(k);a.zj(u(d,d.wa));return k};c.platformer.dd.h_=function(a,d,e,f,k){k=k.F();k.setPosition(a,d);a=new c.platformer.character.Sk(k);new c.platformer.Ca.hf(k);e=new b.k.Ud.Af(k,new b.R.ef(0,0,e,f),null);e.Sd("hostile");e.Sd("obstacle");
e.zj(u(a,a.wa));e.Ur(u(a,a.Ta));return k};c.platformer.dd.NN=function(a,d,e,f){var k=e.F();k.setPosition(a,d);new b.v.la(k);a=new b.v.xd(e.F(),"floatingHazardBall");a.j.setPosition(0,-57);k.addChild(a.j);a=new b.v.xd(e.F(),"floatingHazardBall");a.j.setPosition(0,57);a.j.Bd(1,-1);k.addChild(a.j);a=new b.v.xd(e.F(),"floatingHazardElectricity");k.addChild(a.j);d=new b.v.ea(e.F(),"floatingHazardBallElectricity");d.j.setPosition(0,-57);d.V().anchor=new PIXI.Point(0.5,0.5);(new b.k.Pd(d.j)).$h(new b.La(0,
0,9));k.addChild(d.j);e=new b.v.ea(e.F(),"floatingHazardBallElectricity");e.j.setPosition(0,57);e.Gk(new b.A(1,-1));e.V().anchor=new PIXI.Point(0.5,0.5);(new b.k.Pd(e.j)).$h(new b.La(0,0,9));k.addChild(e.j);new c.platformer.Ca.Dn(k,[a.j,e.j,d.j]);e=new c.platformer.character.Sk(k);a=new b.k.Ud.Af(k,new b.R.ef(0,0,80,225));a.Sd("hostile");a.Sd("obstacle");a.zj(u(e,e.wa));a.Ur(u(e,e.Ta));null!=f&&new c.platformer.Ws(k,f,r.xa(b.ha.na("game.obstaclePathSpeed")),0);return k};c.platformer.dd.ON=function(a,
d,e){var f=e.F();f.setPosition(a,d);new b.v.la(f);a=new b.v.xd(e.F(),"groundHazardBall");f.addChild(a.j);e=new b.v.xd(e.F(),"groundHazardElectricity");f.addChild(e.j);new c.platformer.Ca.Dn(f,[e.j]);e=new c.platformer.character.Sk(f);a=new b.k.Ud.Af(f,new b.R.ef(0,0,74,65),new b.La(0,-45));a.Sd("hostile");a.Sd("obstacle");a.zj(u(e,e.wa));a.Ur(u(e,e.Ta));return f};c.platformer.dd.YZ=function(a,d,e){var f=e.F();f.setPosition(a,d);new b.v.la(f);a=new b.v.ea(e.F(),"hudDistanceGoal");a.V().anchor=new PIXI.Point(0.5,
0.5);f.addChild(a.j);new c.platformer.Qs(f);return f};c.platformer.dd.IN=function(a,d,e){var f=d.F();f.setPosition(a,500);new b.v.la(f);a=new b.v.ea(d.F(),"hudBestDistance");a.V().anchor=new PIXI.Point(0.5,0.5);f.addChild(a.j);d=new b.v.rb(d.F(),F.replace(b.Db.pc("GAMEPLAY_SCREEN_BEST_DISTANCE"),"%N",null==e?"null":""+e),{font:"22pt work_sansbold",fill:"#FFFFFF"});f.addChild(d.j);new c.platformer.As(f);return f};c.platformer.dd.TN=function(a,d,e){var f=d.F();a=new b.ba.Oa(f,a);a.xb(new b.A(-0.65,
1.2));new b.v.la(f);var k=new b.v.ea(d.F(),"collectible");k.V().anchor=new PIXI.Point(0.5,0.5);f.addChild(k.j);k={font:"20px work_sansbold"};k.fill=c.pd.Qd;k=new b.v.rb(d.F(),F.replace(b.Db.pc("OBJECTIVE_REWARD"),"%N",r.sc(e.BC)),k);k.j.setPosition(50,0);f.addChild(k.j);k=new b.v.ea(d.F(),"objectiveCompleteIcon");k.V().anchor=new PIXI.Point(0.5,0.5);k.j.setPosition(115,0);f.addChild(k.j);k={font:"20px work_sansbold"};k.fill=c.pd.Qd;k.align="left";k.wordWrap=!0;k.wordWrapWidth=650;d=new b.v.rb(d.F(),
e.IO(),k);d.j.setPosition(145+d.ve().width/2,0);f.addChild(d.j);d=new b.k.Ac(f);d.sa(a.lb,"y",1.2,0.825,0.35,b.k.ma.qa.Ed);d.sa(a.lb,"y",0.825,1.2,0.35,b.k.ma.qa.Ed,3,function(){f.destroy()});return f};c.platformer.dd.qI=function(a,c,d){var f=d.F();f.setPosition(a,c);a=new b.v.ea(f,"powerupGlow");a.V().anchor=new PIXI.Point(0.5,0.5);(new b.k.Pd(f)).$h(new b.La(0,0,10));c=new b.k.Ac(f);c.sa(f.oa,"x",1,3,0.65,b.k.ma.qa.Ed);c.sa(f.oa,"y",1,3,0.65,b.k.ma.qa.Ed);c.sa(a.V(),"alpha",1,0,0.25,b.k.ma.qa.dh,
0.4,function(){f.destroy()});return f};c.platformer.dd.prototype={r:c.platformer.dd};c.platformer.Zk=function(){this.Xo=20;this.time=this.ui=0};c.platformer.Zk.n=["game","platformer","PlayerData"];c.platformer.Zk.prototype={r:c.platformer.Zk};c.platformer.pt=function(a){b.q.call(this,a)};c.platformer.pt.n=["game","platformer","ResetTimerTrigger"];c.platformer.pt.I=b.q;c.platformer.pt.prototype=q(b.q.prototype,{wa:function(){b.H.Wb.log("ResetTimerTrigger::onEnter()");c.platformer.Ab.Ng.g().QS()},Ta:t(),
r:c.platformer.pt});c.platformer.qt=function(a){b.q.call(this,a)};c.platformer.qt.n=["game","platformer","SliceContainer"];c.platformer.qt.I=b.q;c.platformer.qt.prototype=q(b.q.prototype,{init:function(){b.q.prototype.init.call(this);this.hH=this.j.T(b.v.la);for(var a=this.j.wi().length,c=0;c<a;){var d=c++,d=this.j.wi()[d].T(b.v.la);d.Na().renderable=!0;d.Yr()}this.hH.Na().cacheAsBitmap=!0;this.Xd(!1);for(a=this.j.wi().length;0<=--a;)this.j.wi()[a].Xd(!1)},r:c.platformer.qt});c.platformer.yt=function(a){b.q.call(this,
a)};c.platformer.yt.n=["game","platformer","TomOutTrigger"];c.platformer.yt.I=b.q;c.platformer.yt.prototype=q(b.q.prototype,{wa:function(){c.platformer.Ca.og.g().tT()},Ta:function(){c.platformer.Ca.og.g().vN()},r:c.platformer.yt});c.platformer.At=function(a,d,e){b.q.call(this,a);this.Ee=d;this.Pq=e;this.cj=this.ga().F();this.cj.setPosition(25,-25);(new b.v.ea(this.cj,"storeAlertSmall")).V().anchor=new PIXI.Point(0.5,0.5);new b.k.Jh(this.cj,this.cj.oa,"y",0.95,0.05,4);this.j.addChild(this.cj);c.platformer.ib.ed.g().addEventListener("upgradeUnlocked",
u(this,this.yK))};c.platformer.At.n=["game","platformer","UpgradeButton"];c.platformer.At.I=b.q;c.platformer.At.prototype=q(b.q.prototype,{init:function(){b.q.prototype.init.call(this);this.rp()},update:function(){b.q.prototype.update.call(this)},yK:function(){this.rp()},rp:function(){var a=this.Ee.mj[this.Pq],d=this.Ee.id+"StoreIcon";this.Ee.Zf<=this.Pq?(d+="Off",a<=c.Z.g().jk()&&this.Pq==this.Ee.Zf?(this.cj.af(!0),this.cj.T(b.v.la).Na().visible=!0):(this.cj.af(!1),this.cj.T(b.v.la).Na().visible=
!1)):(this.cj.af(!1),this.cj.T(b.v.la).Na().visible=!1);a=this.j.T(b.k.buttons.Rk);a.kF(d);a.qF(d)},destroy:function(){b.q.prototype.destroy.call(this);c.platformer.ib.ed.g().removeEventListener("upgradeUnlocked",u(this,this.yK))},r:c.platformer.At});c.platformer.Ct=function(a,c,d){this.nB=this.oB=this.pB=this.lB=this.Zn=this.mB=!1;b.q.call(this,a);this.Ja=c;this.p=d};c.platformer.Ct.n=["game","platformer","VirtualController"];c.platformer.Ct.I=b.q;c.platformer.Ct.prototype=q(b.q.prototype,{init:function(){b.q.prototype.init.call(this);
this.rM=c.ab.Te(this.Ja,-0.8,0.7,"leftButton","leftButton",null,"","",!1,0);var a=this.rM.T(b.k.Yd);a.Fv(u(this,this.tR));a.sA(u(this,this.nK));a.rA(u(this,this.nK));this.GM=c.ab.Te(this.Ja,-0.525,0.7,"rightButton","rightButton",null,"","",!1,0);a=this.GM.T(b.k.Yd);a.Fv(u(this,this.RR));a.sA(u(this,this.sK));a.rA(u(this,this.sK));this.OM=c.ab.Te(this.Ja,0.8,0.7,"upButton","upButton",null,"","",!1,0);a=this.OM.T(b.k.Yd);a.Fv(u(this,this.eS));a.sA(u(this,this.wK));a.rA(u(this,this.wK));this.kM=c.ab.Te(this.Ja,
0.525,0.7,"downButton","downButton",null,"","",!1,0);a=this.kM.T(b.k.Yd);a.Fv(u(this,this.fR));a.sA(u(this,this.lK));a.rA(u(this,this.lK));this.bx=c.ab.Te(this.Ja,0.25,0.7,c.platformer.aa.g().Zb.mk("wonderWoman")?"appleAbilityButton":"maddieAbilityButton",c.platformer.aa.g().Zb.mk("wonderWoman")?"appleAbilityButton":"maddieAbilityButton",null,"","",!1,0,u(this,this.GE))},Jb:function(){b.q.prototype.Jb.call(this);var a=new b.A;this.nB?a.x=-1:this.oB&&(a.x=1);this.pB?a.y=-1:this.lB&&(a.y=1);this.p.Al(a);
this.mB&&this.p.ek(0);this.Zn&&this.p.ek(1);this.Zn=this.mB=!1},tR:function(){this.nB=!0},nK:function(){this.nB=!1},RR:function(){this.oB=!0},sK:function(){this.oB=!1},eS:function(){this.mB=this.pB=!0},wK:function(){this.pB=!1},fR:function(){this.lB=!0},lK:function(){this.lB=!1},GE:function(){this.Zn=!0},r:c.platformer.Ct});c.platformer.character={};c.platformer.character.$r=function(a){b.q.call(this,a)};c.platformer.character.$r.n=["game","platformer","character","AiController"];c.platformer.character.$r.I=
b.q;c.platformer.character.$r.prototype=q(b.q.prototype,{oj:function(){null==this.p&&(this.p=this.j.T(c.platformer.character.Zd));return this.p},sJ:z("bc"),nb:function(a){null!=this.bc&&this.bc.Ta();this.bc=a;this.bc.wa()},init:function(){b.q.prototype.init.call(this);this.p=this.j.T(c.platformer.character.Zd)},Jb:function(){b.q.prototype.Jb.call(this);null!=this.bc&&this.bc.Ia()},r:c.platformer.character.$r});c.platformer.character.Zd=function(a){this.GB=!0;this.FB=!1;this.my=0;this.Tj=!1;this.qm=
!0;this.$t=!1;this.yq=c.platformer.character.ci.lw;this.lf=c.platformer.character.kg.iq;b.q.call(this,a);this.ja=new c.platformer.character.qw;this.Fm=[]};c.platformer.character.Zd.n=["game","platformer","character","Character"];c.platformer.character.Zd.I=b.q;c.platformer.character.Zd.prototype=q(b.q.prototype,{p1:z("GB"),mL:x("GB"),o1:z("FB"),aU:x("FB"),kA:x("Tj"),C0:z("Tj"),e1:z("$t"),jL:x("$t"),w1:z("qm"),nL:x("qm"),B0:z("Sj"),jp:function(a){null!=this.Sj&&this.Sj.Ta();this.Sj=a;this.Sj.wa()},
J0:z("lf"),b5:function(a){this.lf=a;if(null!=this.Rh)switch(this.lf[1]){case 0:0<this.uz().y?this.Rh.Gk(new b.A(-1,1)):this.Rh.Gk(new b.A(1,1));break;case 1:0<this.uz().y?this.Rh.Gk(new b.A(1,1)):this.Rh.Gk(new b.A(-1,1))}},R_:z("ja"),M4:x("ja"),l1:z("CB"),$T:x("CB"),j0:z("lm"),jF:function(a){null!=this.lm&&this.lm.Ta();this.lm=a;this.lm.wa()},z_:z("bj"),uT:function(a){null!=this.bj&&this.bj.Ta();this.bj=a;this.bj.wa()},Cc:function(){null==this.hB&&(this.hB=this.j.T(c.platformer.character.yn));return this.hB},
sJ:z("bc"),nb:function(a){null!=this.bc&&this.bc.Ta();this.bc=a;this.bc.wa()},O:function(){return this.j.O()},setPosition:function(a,b){switch(this.yq[1]){case 1:this.Rg.pU(a,b);break;case 0:this.j.setPosition(a,b)}},oe:function(){return b.H.Sa.jn(this.j.oe().z)},Ji:function(a){switch(this.yq[1]){case 1:this.Rg.lc.iF(b.H.Sa.rf(a));break;case 0:this.j.Ji(0,0,a)}},mP:function(){return b.H.Sa.Ru(this.Gd(),b.H.Sa.jn(this.j.oe().z))},iU:function(a){a=b.H.Sa.Ru(a,b.H.Sa.jn(this.j.oe().z));this.cd(a)},Gd:function(){switch(this.yq[1]){case 1:if(null==
this.Rg)break;var a=this.Rg.lc.M;return new b.A(a.x/b.da.ac.g().Xg,a.y/b.da.ac.g().Xg);case 0:return new b.A(this.zg.$d.x,this.zg.$d.y)}return new b.A(0,0)},cd:function(a){switch(this.yq[1]){case 1:if(null==this.Rg)break;this.Rg.lc.pA(new d.f.math.K(a.x*b.da.ac.g().Xg,a.y*b.da.ac.g().Xg));break;case 0:this.zg.cd(a.x,a.y)}},Q_:z("yq"),eL:function(a){var c=this.Gd();this.yq=a;null==this.Rg&&(this.Rg=this.j.T(b.da.Ej));null==this.zg&&(this.zg=this.j.T(b.k.Pd));switch(a[1]){case 1:this.Rg.Xd(!0);this.zg.Xd(!1);
break;case 0:this.Rg.Xd(!1),this.zg.Xd(!0)}this.cd(c)},init:function(){b.q.prototype.init.call(this);this.Rg=this.j.T(b.da.Ej);this.zg=this.j.T(b.k.Pd);this.Rh=this.j.T(b.v.xd);this.hB=this.j.T(c.platformer.character.yn);this.eL(c.platformer.character.ci.lw);this.jF(new c.platformer.character.sd.gq(this));null==this.bc&&this.nb(new c.platformer.character.C.Xb(this));new b.k.aj(this.j,"trigger aura exit grabPoint alert hostile trigger".split(" "),new b.A(0,-this.ja.height/2))},Jb:function(){b.q.prototype.Jb.call(this);
null!=this.bc&&this.bc.Ia();null!=this.bj&&this.bj.Ia();null!=this.Sj&&this.Sj.Ia();null!=this.lm&&this.lm.Ia();var a=c.platformer.aa.g().Nu();if(this.FB&&a>this.ja.DE){var d=(a-this.ja.DE)*this.ja.FL;this.ja.Iu=Math.min(this.ja.$H+d,this.ja.AE);this.ja.en=Math.min(this.ja.aI+d,this.ja.AE)}this.my!=a&&(d=a-this.my,c.platformer.ua.Hb.g().Eg("AvoidCoins",d),c.platformer.ua.Hb.g().Eg("TravelDistance",d),c.platformer.ua.Hb.g().Ho("TravelDistance",c.Z.g().ql[0],d),c.platformer.aa.g().ji&&c.platformer.ua.Hb.g().Eg("FlyDistance",
d));this.dispatchEvent(new c.platformer.character.Fp("move",new b.La(a-this.my,0)));this.my=a;for(a=this.Fm.length;0<=--a;)this.Fm[a].Ia();this.Vu()},TD:function(){var a=new b.hi,d=new b.hi,e=this.j.O(),f=Math.max(this.ja.height/2,35);this.GB||(f*=0.2);b.J.le.g().Ie(new b.A(e.x,e.y-f),new b.A(e.x+45,e.y-f),a,!0,["hostile"]);1<this.ja.height&&b.J.le.g().Ie(new b.A(e.x,e.y-0.33*f),new b.A(e.x,e.y-0.9*f),d,!0,["hostile"]);return E.Vh(this.bc)==c.platformer.character.C.Nn?(null!=a.Ge&&a.Ge.mk("slideDestroyObstacle")&&
a.Ge.T(c.platformer.Ca.hf).Me(),null!=d.Ge&&d.Ge.mk("slideDestroyObstacle")&&d.Ge.T(c.platformer.Ca.hf).Me(),!1):null!=a.Ge||null!=d.Ge},Vu:function(){return-0.5>=this.vz().yc.y},gP:function(){var a=this.CB.Kb.Ec;if(null!=a)for(;;){var c=a.gd;if(0<c.Hg.Ob.length){var e=c.Hg.Ke,e=new b.A(e.x,e.y),e=b.H.Sa.Ru(e,b.H.Sa.jn(this.j.Nc.z)),e=new d.f.math.K(e.x,e.y);if(-0.7>=e.y)return c.$c==this.CB?c.md:c.$c}if(null==a.next)break;a=a.next}return null},vz:function(){var a=["ground"];E.Vh(this.lm)!=c.platformer.character.sd.En&&
a.push("softGround");var d=this.j.O(),e=new b.hi;b.J.le.g().Ie(new b.A(d.x,d.y-20),new b.A(d.x,d.y+20),e,!0,a);return null!=e.Ge&&e.Ge.j.O().y<e.lj.y-5?(console.log("Not landing on bottom of platform"),new b.hi):e},qO:function(){if(E.Vh(this.lm)!=c.platformer.character.sd.En){this.jF(new c.platformer.character.sd.En(this));var a=this.mP();a.y<this.ja.nD&&(a.y=this.ja.nD);this.iU(a)}},aE:function(a){this.Sj.Me(a)},A4:function(){var a=this.uz();this.Rg.lc.iF(b.H.Sa.rf(b.H.Sa.oz(new b.A(0,-1),new b.A(a.x,
-a.y))))},uz:function(){if(null==this.Rg||null==this.Rg.nm)return new d.f.math.K(0,1);var a=new d.f.math.K(this.Rg.nm.x,this.Rg.nm.y);a.normalize();return a},Py:function(a){for(var b=this.Fm.length,c=0;c<b;){var d=c++;if(E.Vh(a)==E.Vh(this.Fm[d]))return}this.Fm.push(a);a.ap()},aF:function(a){w.remove(this.Fm,a);a.dp()},IS:function(){for(;0<this.Fm.length;)this.aF(this.Fm[0])},Al:function(a){this.qm&&null!=this.bc&&this.bc.Yh(a)},ek:function(a){this.qm&&null!=this.bc&&this.bc.vj(a)},destroy:function(){b.q.prototype.destroy.call(this);
null!=this.bc&&(this.bc.Ta(),this.bc=null)},r:c.platformer.character.Zd});c.platformer.character.yn=function(a,c){null==c&&(c="");this.WF="";b.q.call(this,a);this.WF=c;this.vq=[]};c.platformer.character.yn.n=["game","platformer","character","CharacterAnimationController"];c.platformer.character.yn.I=b.q;c.platformer.character.yn.prototype=q(b.q.prototype,{SO:z("fd"),init:function(){b.q.prototype.init.call(this)},wj:function(a,c,d){null==d&&(d=!1);if(null==this.Rh&&(this.Rh=this.j.T(b.v.xd),null==
this.Rh))return;var f=this.WF+a;null!=b.J.ke.g().vi(f)&&(this.Rh.ip(f,c,d),this.fd=a)},Ol:function(){this.vq=[]},si:function(a,b){var d=this.vq.length;this.vq.push(new c.platformer.character.pw(a,b));0==d&&this.DK()},DK:function(){var a=this;if(0<this.vq.length){var b=this.vq[0];this.wj(b.animationName,function(){return function(){a.vq.splice(0,1);if(null!=b.onComplete)b.onComplete();a.DK()}}(this),!0,!1)}},stop:function(){null==this.Rh&&this.Rh.stop()},play:function(){null==this.Rh&&this.Rh.play()},
r:c.platformer.character.yn});c.platformer.character.pw=function(a,b){this.animationName=a;this.onComplete=b};c.platformer.character.pw.n=["game","platformer","character","CharacterAnimationQueueData"];c.platformer.character.pw.prototype={r:c.platformer.character.pw};c.platformer.character.ci={sg:!0,mh:["Simple","Box2d"]};c.platformer.character.ci.SA=["Simple",0];c.platformer.character.ci.SA.sb=c.platformer.character.ci;c.platformer.character.ci.lw=["Box2d",1];c.platformer.character.ci.lw.sb=c.platformer.character.ci;
c.platformer.character.ci.Mh=[c.platformer.character.ci.SA,c.platformer.character.ci.lw];c.platformer.character.kg={sg:!0,mh:["Left","Right"]};c.platformer.character.kg.gi=["Left",0];c.platformer.character.kg.gi.sb=c.platformer.character.kg;c.platformer.character.kg.iq=["Right",1];c.platformer.character.kg.iq.sb=c.platformer.character.kg;c.platformer.character.kg.Mh=[c.platformer.character.kg.gi,c.platformer.character.kg.iq];c.platformer.character.Zl=function(a){b.S.Ea.call(this,a)};c.platformer.character.Zl.n=
["game","platformer","character","CharacterEvent"];c.platformer.character.Zl.I=b.S.Ea;c.platformer.character.Zl.prototype=q(b.S.Ea.prototype,{r:c.platformer.character.Zl});c.platformer.character.CharacterId={sg:!0,mh:["Jerry"]};c.platformer.character.CharacterId.Cw=["Jerry",0];c.platformer.character.CharacterId.Cw.sb=c.platformer.character.CharacterId;c.platformer.character.CharacterId.Mh=[c.platformer.character.CharacterId.Cw];c.platformer.character.Fp=function(a,c){b.S.Ea.call(this,a);this.qG=c};
c.platformer.character.Fp.n=["game","platformer","character","CharacterMoveEvent"];c.platformer.character.Fp.I=b.S.Ea;c.platformer.character.Fp.prototype=q(b.S.Ea.prototype,{F0:z("qG"),r:c.platformer.character.Fp});c.platformer.character.qw=function(){this.wo=1;this.jv=825;this.Dl=this.Xz=1;this.RQ=!1;this.height=150;this.nD=100;this.KJ=825;this.aO=1500;this.SM=1200;this.FL=this.DE=0;this.zA=1E3;this.LJ=3E3;this.Kr=600;this.Yz=0;this.$H=this.Iu=this.AE=600;this.fK=1;this.OQ=5E3;this.eD=0;this.aI=
this.en=800};c.platformer.character.qw.n=["game","platformer","character","CharacterProperties"];c.platformer.character.qw.prototype={r:c.platformer.character.qw};c.platformer.character.Sk=function(a){this.jo=[];b.q.call(this,a)};c.platformer.character.Sk.n=["game","platformer","character","DamagePlayerOnContact"];c.platformer.character.Sk.I=b.q;c.platformer.character.Sk.prototype=q(b.q.prototype,{init:function(){b.q.prototype.init.call(this);this.j.addEventListener("beginContact",u(this,this.Zz));
this.j.addEventListener("endContact",u(this,this.aA));this.j.addEventListener("presolve",u(this,this.hn))},Jb:function(){b.q.prototype.Jb.call(this);for(var a=this.jo.length,d=0;d<a;){var e=d++,e=this.jo[e].T(c.platformer.character.Zd);if(r.is(e.bc,c.platformer.character.C.Nn)){var f=this.j.T(c.platformer.Ca.hf);if(!y.fb.Dt(f,c.platformer.Ca.Dn)){f.Me();continue}}f=new c.platformer.character.Cn;f.ck=this.j;f.Eu=1;e.Sj.Me(f)}},Zz:function(a){var b=a.getData().gd;a=b.$c.Kb.getUserData().tf;b=b.md.Kb.getUserData().tf;
a=a==this.j?b:a;null!=a.T(c.platformer.character.Yk)&&this.jo.push(a)},aA:function(a){a=a.getData().gd;var b=a.md.Kb.getUserData().tf;w.remove(this.jo,a.$c.Kb.getUserData().tf);w.remove(this.jo,b)},hn:function(a){a=a.Dq;var b=a.$c.Kb.getUserData().tf,d=a.md.Kb.getUserData().tf;null!=(b==this.j?d:b).T(c.platformer.character.Yk)&&a.lA(!1)},wa:function(a){null!=a.T(c.platformer.character.Yk)&&this.jo.push(a)},Ta:function(a){w.remove(this.jo,a)},r:c.platformer.character.Sk});c.platformer.character.Cn=
function(){this.zr=!1;this.Eu=10};c.platformer.character.Cn.n=["game","platformer","character","DamageProperties"];c.platformer.character.Cn.prototype={r:c.platformer.character.Cn};c.platformer.character.Tk=function(a){this.oH=!1;this.fo=110;this.Vn=1;this.ku=3;b.q.call(this,a)};c.platformer.character.Tk.n=["game","platformer","character","FlyingLaneController"];c.platformer.character.Tk.I=b.q;c.platformer.character.Tk.prototype=q(b.q.prototype,{M_:z("Qn"),I4:x("Qn"),H1:z("fo"),m5:x("fo"),w0:z("Vn"),
b2:z("ku"),init:function(){b.q.prototype.init.call(this);this.p=this.j.T(c.platformer.character.Zd);this.Qn=this.j.getLocalPosition().y;this.fo=r.xa(b.ha.na("game.flyingLaneHeight"))},update:function(){b.q.prototype.update.call(this);!this.oH&&b.J.Hc.g().tm&&this.cR();this.oH=b.J.Hc.g().tm},c4:function(){0>=this.Vn||(this.Vn--,this.p.nb(new c.platformer.character.C.Rp(this.p)))},b4:function(){this.Vn>=this.ku-1||(this.Vn++,this.p.nb(new c.platformer.character.C.Rp(this.p)))},yJ:function(){return this.Qn-
this.ku/2*this.fo},fJ:function(){return this.Qn+this.ku/2*this.fo},reset:function(){this.Qn=this.j.getLocalPosition().y;this.Vn=1},cR:function(){this.p.ek(1)},r:c.platformer.character.Tk});c.platformer.character.In=function(a,c){this.OG=!0;this.xM=35;this.dG=0;b.q.call(this,a);this.dG=c;this.ym=[];this.oF(r.xa(b.ha.na("game.minPullPower")),r.xa(b.ha.na("game.maxPullPower")),r.xa(b.ha.na("game.pullRange")));this.vM=r.xa(b.ha.na("game.maxPowerupPullRange"))};c.platformer.character.In.n=["game","platformer",
"character","ItemCollector"];c.platformer.character.In.I=b.q;c.platformer.character.In.prototype=q(b.q.prototype,{s5:x("OG"),oF:function(a,b,c){this.PG=a;this.tM=b;this.bC=c},update:function(){b.q.prototype.update.call(this);for(var a=this.j.T(c.platformer.character.Zd),a=this.j.O().add(new b.La(0,-a.ja.height/2)),d=c.platformer.aa.g().kl.length;0<=--d;){var e=c.platformer.aa.g().kl[d],f=e.O(),f=(new b.La(f.x-a.x,f.y-a.y)).Dc();f<this.bC&&this.OG&&(null!=e.T(c.platformer.item.Gp)&&-1==w.indexOf(this.ym,
e,0)?this.ym.push(e):-1==w.indexOf(this.ym,e,0)&&f<this.vM&&this.ym.push(e));f<Math.max(this.xM,this.dG*this.j.wc().x)&&(e.T(c.platformer.item.gf).cp(this.T(c.platformer.character.Zd)),-1!=w.indexOf(this.ym,e,0)&&w.remove(this.ym,e))}d=this.ym.length;for(e=0;e<d;){var f=e++,f=this.ym[f],k=f.O(),k=new b.La(a.x-k.x,a.y-k.y),g=k.Dc();g<this.bC&&(g=this.PG+(this.tM-this.PG)*(1-g/this.bC),k=k.Kf(),k.x*=g,k.y*=g,f.translate(k.x*b.D.eb(),k.y*b.D.eb()))}},r:c.platformer.character.In});c.platformer.character.Yk=
function(a){b.q.call(this,a)};c.platformer.character.Yk.n=["game","platformer","character","PlayerController"];c.platformer.character.Yk.I=b.q;c.platformer.character.Yk.prototype=q(b.q.prototype,{init:function(){b.q.prototype.init.call(this);this.JM=new b.Vb.Os(this.j);this.p=this.j.T(c.platformer.character.Zd);this.Ux=r.Gb(b.ha.na("keyDown"));this.pM=r.Gb(b.ha.na("keyLeft"));this.MG=r.Gb(b.ha.na("keyRight"));this.Vx=r.Gb(b.ha.na("keyUp"));b.ha.na("swipeUpToJump");this.JM.addEventListener("",u(this,
this.ZR))},ZR:function(a){a=a.hI[a.hI.length-1];"swipeUp"==a&&(this.p.ek(0),this.p.Al(new b.A(0,-1)));"swipeRight"==a&&this.p.ek(1);"swipeDown"==a&&(this.p.Al(new b.A(0,1)),this.p.ek(2))},Jb:function(){b.q.prototype.update.call(this);var a=new b.A;b.J.Hc.g().Ar(this.pM)?a.x=-1:b.J.Hc.g().Ar(this.MG)&&(a.x=1);b.J.Hc.g().Ar(this.Vx)?a.y=-1:b.J.Hc.g().Ar(this.Ux)&&(a.y=1);this.p.ja.RQ&&(a.x*=-1);this.p.Al(a);b.J.Hc.g().Vm(this.Vx)&&this.p.ek(0);b.J.Hc.g().Vm(this.MG)&&this.p.ek(1);b.J.Hc.g().Vm(this.Ux)&&
this.p.ek(2)},r:c.platformer.character.Yk});c.platformer.character.al=t();c.platformer.character.al.n=["game","platformer","character","Tags"];c.platformer.character.tc={};c.platformer.character.tc.xf=function(a,d){null==d&&(d=5);this.wg=this.mm=0;this.p=a;this.mm=d-d*r.xa(b.ha.na("upgrades.reduceCooldown.level"+c.platformer.ib.ed.g().tz("reduceCooldown")))};c.platformer.character.tc.xf.n=["game","platformer","character","abilityStates","AbilityState"];c.platformer.character.tc.xf.prototype={wa:t(),
Ia:function(){0<this.wg&&(this.wg-=b.D.eb(),0>=this.wg&&this.$z())},Ta:t(),Nr:t(),Or:t(),RO:function(){return this.wg/this.mm},xz:function(){return 0>=this.wg},$z:t(),r:c.platformer.character.tc.xf};c.platformer.character.tc.Aw=function(a,b){c.platformer.character.tc.xf.call(this,a,b)};c.platformer.character.tc.Aw.n=["game","platformer","character","abilityStates","HeatVisionAbilityState"];c.platformer.character.tc.Aw.I=c.platformer.character.tc.xf;c.platformer.character.tc.Aw.prototype=q(c.platformer.character.tc.xf.prototype,
{Nr:function(){c.platformer.character.tc.xf.prototype.Nr.call(this);b.H.Wb.log("!!!!HeatVisionState::onDesireUse()!!!!");b.H.Wb.log(this.wg);this.xz()&&(this.p.nb(new c.platformer.character.C.$s(this.p)),this.wg=this.mm,c.platformer.ua.Hb.g().Eg("UsePower",1),c.platformer.ua.Hb.g().Ho("UsePower",c.Z.g().ql[0],1))},Or:function(){c.platformer.character.tc.xf.prototype.Or.call(this);b.H.Wb.log("!!!HeatVisionState::onDesireFlying()!!!");b.H.Wb.log(this.wg);this.xz()&&(this.p.nb(new c.platformer.character.C.Ss(this.p)),
this.wg=this.mm,c.platformer.ua.Hb.g().Eg("UsePower",1),c.platformer.ua.Hb.g().Ho("UsePower",c.Z.g().ql[0],1))},r:c.platformer.character.tc.Aw});c.platformer.character.tc.ft=function(a,b){c.platformer.character.tc.xf.call(this,a,b)};c.platformer.character.tc.ft.n=["game","platformer","character","abilityStates","LassoAbilityState"];c.platformer.character.tc.ft.I=c.platformer.character.tc.xf;c.platformer.character.tc.ft.prototype=q(c.platformer.character.tc.xf.prototype,{Nr:function(){c.platformer.character.tc.xf.prototype.Nr.call(this);
this.xz()&&(b.H.Wb.log("LassoAbilityState::onDesireUse()"),this.p.nb(new c.platformer.character.C.gt(this.p)),this.wg=this.mm,c.platformer.ua.Hb.g().Eg("UsePower",1),c.platformer.ua.Hb.g().Ho("UsePower",c.Z.g().ql[0],1))},Or:function(){c.platformer.character.tc.xf.prototype.Or.call(this);this.xz()&&(b.H.Wb.log("LassoAbilityState::onDesireFlying()"),this.p.nb(new c.platformer.character.C.Ts(this.p)),this.wg=this.mm,c.platformer.ua.Hb.g().Eg("UsePower",1),c.platformer.ua.Hb.g().Ho("UsePower",c.Z.g().ql[0],
1))},r:c.platformer.character.tc.ft});c.platformer.character.tc.Nw=function(a,b){c.platformer.character.tc.xf.call(this,a,b)};c.platformer.character.tc.Nw.n=["game","platformer","character","abilityStates","ShrinkAbilityState"];c.platformer.character.tc.Nw.I=c.platformer.character.tc.xf;c.platformer.character.tc.Nw.prototype=q(c.platformer.character.tc.xf.prototype,{wa:function(){c.platformer.character.tc.xf.prototype.wa.call(this)},Ia:function(){c.platformer.character.tc.xf.prototype.Ia.call(this)},
Nr:function(){0<this.wg||(this.p.Py(new c.platformer.character.Ub.kq(this.p)),this.wg=this.mm,c.platformer.ua.Hb.g().Eg("UsePower",1),c.platformer.ua.Hb.g().Ho("UsePower",c.Z.g().ql[0],1))},Or:function(){0<this.wg||(this.p.Py(new c.platformer.character.Ub.kq(this.p)),this.wg=this.mm,c.platformer.ua.Hb.g().Eg("UsePower",1),c.platformer.ua.Hb.g().Ho("UsePower",c.Z.g().ql[0],1))},r:c.platformer.character.tc.Nw});c.platformer.character.oc={};c.platformer.character.oc.cf=x("Df");c.platformer.character.oc.cf.n=
["game","platformer","character","aiStates","AiState"];c.platformer.character.oc.cf.prototype={wa:t(),Ia:t(),Ta:t(),r:c.platformer.character.oc.cf};c.platformer.character.oc.Rv=function(a,b){c.platformer.character.oc.cf.call(this,a);this.lf=b};c.platformer.character.oc.Rv.n=["game","platformer","character","aiStates","AutoRunState"];c.platformer.character.oc.Rv.I=c.platformer.character.oc.cf;c.platformer.character.oc.Rv.prototype=q(c.platformer.character.oc.cf.prototype,{Ia:function(){c.platformer.character.oc.cf.prototype.Ia.call(this);
this.Df.oj().Al(this.lf)},r:c.platformer.character.oc.Rv});c.platformer.character.oc.Is=function(a,b,d){this.nM=300;c.platformer.character.oc.cf.call(this,a);this.tb=b;this.BB=d};c.platformer.character.oc.Is.n=["game","platformer","character","aiStates","ChaseState"];c.platformer.character.oc.Is.I=c.platformer.character.oc.cf;c.platformer.character.oc.Is.prototype=q(c.platformer.character.oc.cf.prototype,{wa:function(){c.platformer.character.oc.cf.prototype.wa.call(this)},Ia:function(){c.platformer.character.oc.cf.prototype.Ia.call(this);
var a=this.tb.O(),n=this.Df.j.O();if(Math.abs(a.x-n.x)>this.nM)this.Df.nb(this.BB);else{a.x<n.x?this.Df.oj().Al(new b.A(-1,0)):this.Df.oj().Al(new b.A(1,0));var e=!1,f;f=this.Df.oj().lf==c.platformer.character.kg.gi?-50:50;a=b.da.Oi.GK(new b.A(n.x+f,n.y),new b.A(a.x,a.y));null!=a&&(a=a.EI.Kb.getUserData().tf,null!=a&&a==this.tb&&null!=a.T(b.da.Ej)&&(e=!0));var a=!1,k=c.platformer.aa.g().eG.length;f=this.Df.oj().lf==c.platformer.character.kg.gi?-150:150;var g=b.da.ac.g().Um(n.x+f,n.y-25),n=b.da.ac.g().Um(n.x+
f,n.y+50);for(f=0;f<k;){var h=f++,l=c.platformer.aa.g().eG[h],h=new d.l.Ap(g,n,1),m=new d.l.ws,l=l.lc.Gg;if(null!=l&&(l.Ch(m,h),0<m.Ju)){a=!0;break}}a||this.Df.nb(this.BB);e||this.Df.nb(this.BB)}},Z3:function(a,b,c,d){return d},Ta:function(){c.platformer.character.oc.cf.prototype.Ta.call(this)},r:c.platformer.character.oc.Is});c.platformer.character.oc.Hw=function(a,d){this.CH=this.uu=0.35;this.fM=20;this.ly=this.er=0;this.QM=0.1;c.platformer.character.oc.cf.call(this,a);this.dH=d;this.CH=b.H.Sa.wv(0,
this.uu)};c.platformer.character.oc.Hw.n=["game","platformer","character","aiStates","PatrolPathState"];c.platformer.character.oc.Hw.I=c.platformer.character.oc.cf;c.platformer.character.oc.Hw.prototype=q(c.platformer.character.oc.cf.prototype,{wa:function(){c.platformer.character.oc.cf.prototype.wa.call(this);this.Df.oj().ja.fK=0.5},Ia:function(){c.platformer.character.oc.cf.prototype.Ia.call(this);var a=this.Df.j.O();if(0>=this.er){var d=this.dH[this.ly],e=d.x<a.x;Math.abs((new b.A(d.x-a.x,0)).Dc())<
this.fM?(this.er=this.QM,this.ly++,this.ly>=this.dH.length&&(this.ly=0)):e?this.Df.oj().Al(new b.A(-1,0)):this.Df.oj().Al(new b.A(1,0))}else this.er-=b.D.eb(),0>=this.er&&(this.er=0);this.uu-=b.D.eb();0>=this.uu&&(d=this.Df.oj().lf==c.platformer.character.kg.gi?-200:200,e=this.Df.oj().lf==c.platformer.character.kg.gi?-50:50,a=b.da.Oi.GK(new b.A(a.x+e,a.y),new b.A(a.x+d,a.y)),null!=a&&(a=a.EI.Kb.getUserData().tf,null!=a&&(d=a.T(c.platformer.character.Yk),null!=a.T(b.da.Ej)&&null!=d&&this.Df.nb(new c.platformer.character.oc.Is(this.Df,
a,this)))),this.uu=this.CH)},Ta:function(){c.platformer.character.oc.cf.prototype.Ta.call(this);this.Df.oj().ja.fK=1},r:c.platformer.character.oc.Hw});c.platformer.character.C={};c.platformer.character.C.lg=x("p");c.platformer.character.C.lg.n=["game","platformer","character","characterStates","CharacterState"];c.platformer.character.C.lg.prototype={wa:t(),Ia:t(),Ta:t(),Yh:t(),vj:t(),r:c.platformer.character.C.lg};c.platformer.character.C.vb=function(a){this.cy=!1;c.platformer.character.C.lg.call(this,
a)};c.platformer.character.C.vb.n=["game","platformer","character","characterStates","AerialState"];c.platformer.character.C.vb.I=c.platformer.character.C.lg;c.platformer.character.C.vb.prototype=q(c.platformer.character.C.lg.prototype,{Ia:function(){this.p.TD()?this.ov():(c.platformer.character.C.lg.prototype.Ia.call(this),0<=this.p.Gd().y&&(this.p.Vu()&&!this.p.Tj)&&(b.H.Wb.log(this.p.Gd()),this.LE(),this.p.nb(new c.platformer.character.C.Xb(this.p)),b.audio.SoundManager.Wc("land_1")),this.p.Gd().y>
this.p.ja.jv&&this.p.cd(new b.A(this.p.Gd().x,this.p.ja.jv)))},fr:function(){this.p.cd(new b.A(this.p.Gd().x,this.p.Gd().y+c.Z.g().Ou().y*b.da.ac.g().JD()*b.D.eb()))},Yh:function(a){c.platformer.character.C.lg.prototype.Yh.call(this,a)},ov:function(){var a=new c.platformer.character.Cn;a.Eu=1;this.p.aE(a);0<=this.p.Gd().y&&(this.p.Vu()&&!this.p.Tj)&&(b.H.Wb.log(this.p.Gd()),this.LE(),this.p.nb(new c.platformer.character.C.Xb(this.p)),b.audio.SoundManager.Wc("land_1"))},LE:function(){b.H.Wb.log("AerialState::onLand()")},
r:c.platformer.character.C.vb});c.platformer.character.C.Gj=function(a){this.vB=100;this.ZF=0;this.Mb=1;this.bo=this.ao=0;c.platformer.character.C.vb.call(this,a);this.$=new b.k.Ac(this.p.j)};c.platformer.character.C.Gj.n=["game","platformer","character","characterStates","ChargeState"];c.platformer.character.C.Gj.I=c.platformer.character.C.vb;c.platformer.character.C.Gj.prototype=q(c.platformer.character.C.vb.prototype,{wa:function(){c.platformer.character.C.vb.prototype.wa.call(this);this.yC=this.p.Sj;
c.platformer.aa.g().$M(1);this.p.jp(new c.platformer.character.Ya.Zp(this.p));this.p.ja.eD=this.vB;this.p.Cc().Ol();this.p.Cc().si("Charge");var a=c.platformer.aa.g().ob.bc;a.Ad(a.Pa().x+this.ZF,a.Pa().y);this.p.T(b.v.xd).tF(1.5);this.$.sa(this.p.ja,"chargeSpeed",this.vB,0,this.Mb,b.k.ma.qa.Ue);c.platformer.aa.g().Sh.ui=0;this.p.dispatchEvent(new c.platformer.character.Zl("startCharge"));var d=this.p.j.getParent().F(!0);d.setPosition(this.p.j.O().x,this.p.j.O().y);(new b.v.xd(d,"smokeSprint")).qA(function(){return function(){d.destroy()}}(this))},
Ia:function(){this.Mb-=b.D.eb();0>this.Mb&&this.nv();var a=this.p.vz();if(null!=a&&0<a.yc.Dc()){var d=a.yc,d=(new b.A(-d.y,d.x)).Kf(),d=new b.A(d.x*this.p.ja.en,d.y*this.p.ja.en);d.x=this.p.lf==c.platformer.character.kg.gi?-1*d.x:1*d.x;this.p.cd(d);this.p.setPosition(a.lj.x,a.lj.y);this.p.$t||(this.bo--,0>=this.bo&&(b.audio.SoundManager.Wc("footstep_"+(this.ao+1),!1,!1,0.35),this.ao=(this.ao+1)%c.platformer.character.C.Gj.PA,this.bo=c.platformer.character.C.Gj.IA))}a=this.p.Gd();a.x=this.p.ja.en+
this.p.ja.eD;a.y=0;this.p.cd(a);c.platformer.Ca.og.g().advance(-this.vB*b.D.eb(),!0)},Ta:function(){c.platformer.character.C.vb.prototype.Ta.call(this);var a=c.platformer.aa.g().ob.bc;a.Ad(a.Pa().x-this.ZF,a.Pa().y);this.p.jp(this.yC);this.p.ja.eD=0;this.p.T(b.v.xd).tF(1);this.p.dispatchEvent(new c.platformer.character.Zl("endCharge"));this.$.destroy()},nv:function(){this.p.nb(new c.platformer.character.C.Xb(this.p))},r:c.platformer.character.C.Gj});c.platformer.character.C.Rs=function(a){c.platformer.character.C.lg.call(this,
a)};c.platformer.character.C.Rs.n=["game","platformer","character","characterStates","FightState"];c.platformer.character.C.Rs.I=c.platformer.character.C.lg;c.platformer.character.C.Rs.prototype=q(c.platformer.character.C.lg.prototype,{wa:function(){c.platformer.character.C.lg.prototype.wa.call(this);this.p.cd(new b.A(0,0))},r:c.platformer.character.C.Rs});c.platformer.character.C.Qp=function(a){c.platformer.character.C.vb.call(this,a)};c.platformer.character.C.Qp.n=["game","platformer","character",
"characterStates","FlyFailState"];c.platformer.character.C.Qp.I=c.platformer.character.C.vb;c.platformer.character.C.Qp.prototype=q(c.platformer.character.C.vb.prototype,{wa:function(){this.p.Cc().Ol();this.p.Cc().wj("FlyFail",u(this,this.IE));this.p.kA(!0)},Ia:function(){c.platformer.character.C.vb.prototype.Ia.call(this);this.p.cd(new b.A(this.p.ja.Iu,0));this.fr()},IE:function(){0>=this.p.ja.Dl?c.platformer.aa.g().iz():c.platformer.aa.g().dF()},r:c.platformer.character.C.Qp});c.platformer.character.C.wd=
function(a){this.HM=0.45;this.vy=0.2;this.$j=this.ph=0;c.platformer.character.C.vb.call(this,a);this.Ux=r.Gb(b.ha.na("keyDown"));this.Vx=r.Gb(b.ha.na("keyUp"))};c.platformer.character.C.wd.n=["game","platformer","character","characterStates","FlyingState"];c.platformer.character.C.wd.I=c.platformer.character.C.vb;c.platformer.character.C.wd.prototype=q(c.platformer.character.C.vb.prototype,{wa:function(){c.platformer.character.C.vb.prototype.wa.call(this);this.p.eL(c.platformer.character.ci.SA);this.p.Cc().wj("Fly");
this.$j=this.p.ja.height;this.p.ja.height/=3;c.platformer.aa.g().ob.uF(7,3);c.platformer.aa.g().ob.nF(12,5.5);this.Fx=this.p.ga().F();this.Fx.setPosition(80,0);new b.v.xd(this.Fx,"windFlying");this.p.j.addChild(this.Fx);this.ko=this.p.j.O()},Ta:function(){c.platformer.character.C.vb.prototype.Ta.call(this);this.p.ja.height=this.$j;c.platformer.aa.g().ob.uF(7,3,7);c.platformer.aa.g().ob.nF(12,5.5,12);this.Fx.destroy();null!=this.Gx&&this.Gx.stop();this.p.Ji(0)},Ia:function(){if(this.p.TD())this.ov();
else{this.p.cd(new b.A(this.p.ja.Iu,0));null==this.Tg&&(this.Tg=this.p.T(c.platformer.character.Tk));var a=this.p.O();a.y<this.Tg.yJ()&&(a.y=this.Tg.yJ());a.y>this.Tg.fJ()&&(a.y=this.Tg.fJ());this.p.setPosition(a.x,a.y);this.p.cd(new b.A(this.p.Gd().x,0));a=this.p.O().Kv(c.platformer.aa.g().ob.j.O());a.y-=this.p.ja.height/2;var d=b.J.Hc.g().kk();if(35<Math.abs(d.y-a.y)&&b.J.Hc.g().tm){var e=c.platformer.aa.g().SF.CD();-1E3<d.y&&(1E3>d.y&&!e.Ao().ue(d))&&(d.y<a.y?this.Yh(new b.A(0,-1)):d.y>a.y&&this.Yh(new b.A(0,
1)))}null!=this.Gx&&(b.audio.SoundManager.wr()?this.Gx.setVolume(0):this.Gx.setVolume(this.p.$t?0:1));this.cy||(this.ph=0);this.cy=!1;b.D.eb();a=this.p.O();a=new b.A(a.x-this.ko.x,a.y-this.ko.y);0<a.Dc()&&(a=b.H.Sa.oz(new b.A(1,0),a.Kf())*this.HM,d=this.p.j.oe().z,d+=(a-d)*this.vy,this.p.j.Ji(0,0,d));this.ko=this.p.O()}},Yh:function(a){c.platformer.character.C.vb.prototype.Yh.call(this,a);var d=b.J.Hc.g().kk(),e=c.fi.g().tC.T(b.k.Yd),f=c.fi.g().By.T(b.k.Yd),k=c.platformer.aa.g().SF.CD();if(!(e.Ao().ue(d)||
f.Ao().ue(d)||k.Ao().ue(d))||b.J.Hc.g().Ar(this.Ux)||b.J.Hc.g().Ar(this.Vx))null==this.Tg&&(this.Tg=this.p.T(c.platformer.character.Tk)),0>a.y?(this.ph>-this.p.ja.Yz&&(this.ph=-this.p.ja.Yz),this.ph-=this.p.ja.LJ*b.D.eb(),this.ph<-this.p.ja.Kr&&(this.ph=-this.p.ja.Kr),this.cy=!0):0<a.y&&(this.ph<this.p.ja.Yz&&(this.ph=this.p.ja.Yz),this.ph+=this.p.ja.LJ*b.D.eb(),this.ph>this.p.ja.Kr&&(this.ph=this.p.ja.Kr),this.cy=!0);this.p.cd(new b.A(this.p.Gd().x,this.ph))},vj:function(a){c.platformer.character.C.vb.prototype.vj.call(this,
a);switch(a){case 3:null!=this.p.bj&&this.p.bj.Or()}},i4:t(),r:c.platformer.character.C.wd});c.platformer.character.C.Ss=function(a){c.platformer.character.C.wd.call(this,a)};c.platformer.character.C.Ss.n=["game","platformer","character","characterStates","FlyingHeatVisionState"];c.platformer.character.C.Ss.I=c.platformer.character.C.wd;c.platformer.character.C.Ss.prototype=q(c.platformer.character.C.wd.prototype,{wa:function(){var a=this;c.platformer.character.C.wd.prototype.wa.call(this);this.p.Cc().wj("HeatVisionFly",
function(){a.p.nb(new c.platformer.character.C.wd(a.p))});var d=this.p.ga().F();this.p.j.addChild(d);c.Z.g().Ft?d.setPosition(50,-5):d.setPosition(50,-13);this.$B=new c.platformer.Ca.$p(d,375,new b.A(1,0));this.no=b.audio.SoundManager.Wc("sfx_heat_vision")},Ta:function(){c.platformer.character.C.wd.prototype.Ta.call(this);this.$B.j.destroy();null!=this.no&&(this.no.stop(),this.no=null)},r:c.platformer.character.C.Ss});c.platformer.character.C.Rp=function(a){this.eM=5;c.platformer.character.C.wd.call(this,
a)};c.platformer.character.C.Rp.n=["game","platformer","character","characterStates","FlyingLaneChangeState"];c.platformer.character.C.Rp.I=c.platformer.character.C.wd;c.platformer.character.C.Rp.prototype=q(c.platformer.character.C.wd.prototype,{wa:function(){c.platformer.character.C.wd.prototype.wa.call(this);this.Tg=this.p.T(c.platformer.character.Tk)},Ia:function(){c.platformer.character.C.wd.prototype.Ia.call(this);var a=this.p.j.O(),d=this.Tg.Qn-Math.floor(this.Tg.ku/2)*this.Tg.fo+this.Tg.Vn*
this.Tg.fo;Math.abs(d-a.y)<=this.eM?(this.p.j.setPosition(a.x,d),this.p.nb(new c.platformer.character.C.wd(this.p))):d>a.y?this.p.cd(new b.A(this.p.Gd().x,this.p.ja.Kr)):d<a.y&&this.p.cd(new b.A(this.p.Gd().x,-this.p.ja.Kr))},Yh:t(),Ta:function(){c.platformer.character.C.wd.prototype.Ta.call(this);this.p.cd(new b.A(0,0))},r:c.platformer.character.C.Rp});c.platformer.character.C.Ts=function(a){this.gu=350;this.Mb=0.95;this.ul=0.1;c.platformer.character.C.wd.call(this,a)};c.platformer.character.C.Ts.n=
["game","platformer","character","characterStates","FlyingLassoState"];c.platformer.character.C.Ts.I=c.platformer.character.C.wd;c.platformer.character.C.Ts.prototype=q(c.platformer.character.C.wd.prototype,{wa:function(){c.platformer.character.C.wd.prototype.wa.call(this);this.p.Cc().Ol();this.p.Cc().si("LassoFly");this.p.Cc().si("Fly");c.Z.g().Ft||(this.kj=this.p.ga().F(),this.kj.setPosition(-12,30),this.p.j.addChild(this.kj),(new b.v.xd(this.kj,"lassoFly")).ip("lassoFly",null,!0));b.audio.SoundManager.Wc("sfx_lasso")},
Ta:function(){c.platformer.character.C.wd.prototype.Ta.call(this);null!=this.kj&&this.kj.destroy()},Ia:function(){c.platformer.character.C.wd.prototype.Ia.call(this);0<this.ul&&(this.ul-=b.D.eb(),0>=this.ul&&this.ME());0<this.Mb&&(this.Mb-=b.D.eb(),0>=this.Mb&&this.nv())},ME:function(){var a=new b.hi,c=this.p.j.O(),d=b.H.Sa.Ru(new b.A(1,0),b.H.Sa.jn(this.p.j.oe().z));b.J.le.g().Ie(new b.A(c.x,c.y),new b.A(c.x+d.x*this.gu,c.y+d.y*this.gu),a,!1,["obstacle"]);null!=a.Ge&&this.NE(a.Ge.j)},NE:function(a){a.T(c.platformer.Ca.hf).Me()},
nv:function(){this.p.nb(new c.platformer.character.C.wd(this.p))},r:c.platformer.character.C.Ts});c.platformer.character.C.Up=function(a){c.platformer.character.C.vb.call(this,a)};c.platformer.character.C.Up.n=["game","platformer","character","characterStates","GroundFailState"];c.platformer.character.C.Up.I=c.platformer.character.C.vb;c.platformer.character.C.Up.prototype=q(c.platformer.character.C.vb.prototype,{wa:function(){this.p.Cc().Ol();this.p.Cc().wj("GroundFail",u(this,this.IE));this.p.cd(new b.A(0,
0));this.p.kA(!0);this.xC=c.platformer.aa.g().ob.bc;c.platformer.aa.g().ob.nb(new c.platformer.gb.wb.Xp(c.platformer.aa.g().ob))},Ia:function(){this.p.Gd().y>this.p.ja.jv&&this.p.cd(new b.A(this.p.Gd().x,this.p.ja.jv));this.fr();var a=this.p.vz();if(null!=a&&0<a.yc.Dc()){var c=a.yc;this.p.setPosition(a.lj.x,a.lj.y);a=b.H.Sa.oz(new b.A(0,-1),c)-this.p.oe();this.p.Ji(this.p.oe()+a)}},IE:function(){0>=this.p.ja.Dl?c.platformer.aa.g().iz():(c.platformer.aa.g().dF(),c.platformer.aa.g().ob.nb(this.xC))},
r:c.platformer.character.C.Up});c.platformer.character.C.Ne=function(a){c.platformer.character.C.lg.call(this,a)};c.platformer.character.C.Ne.n=["game","platformer","character","characterStates","GroundedState"];c.platformer.character.C.Ne.I=c.platformer.character.C.lg;c.platformer.character.C.Ne.prototype=q(c.platformer.character.C.lg.prototype,{Ia:function(){c.platformer.character.C.lg.prototype.Ia.call(this);this.p.TD()&&this.ov()},ov:function(){var a=new c.platformer.character.Cn;a.Eu=1;this.p.aE(a)},
tQ:function(){this.p.nb(new c.platformer.character.C.cm(this.p))},r:c.platformer.character.C.Ne});c.platformer.character.C.Xb=function(a){this.vy=0.5;this.bo=this.ao=0;c.platformer.character.C.Ne.call(this,a)};c.platformer.character.C.Xb.n=["game","platformer","character","characterStates","RunningState"];c.platformer.character.C.Xb.I=c.platformer.character.C.Ne;c.platformer.character.C.Xb.prototype=q(c.platformer.character.C.Ne.prototype,{wa:function(){c.platformer.character.C.Ne.prototype.wa.call(this);
this.p.Gd();this.p.Cc().si("Run");c.platformer.aa.g().ob.uF(0,20);c.platformer.aa.g().ob.nF(0,10);this.bu=this.p.ga().F();this.bu.setPosition(0,0);new b.v.xd(this.bu,"runningDust");this.p.j.addChild(this.bu)},Ia:function(){var a=this.p.vz();if(null!=a&&0<a.yc.Dc()){var d=a.yc,d=(new b.A(-d.y,d.x)).Kf(),d=new b.A(d.x*this.p.ja.en,d.y*this.p.ja.en);d.x=this.p.lf==c.platformer.character.kg.gi?-1*d.x:1*d.x;this.p.cd(d);this.p.setPosition(a.lj.x,a.lj.y);this.p.$t||(this.bo--,0>=this.bo&&(b.audio.SoundManager.Wc("footstep_"+
(this.ao+1),!1,!1,0.2),this.ao=(this.ao+1)%c.platformer.character.C.Xb.PA,this.bo=c.platformer.character.C.Xb.IA));c.platformer.aa.g().ob.sF(0.25*this.p.oe());b.D.eb();c.platformer.character.C.Ne.prototype.Ia.call(this)}else c.platformer.aa.g().ob.sF(8),this.p.nb(new c.platformer.character.C.ng(this.p))},Ta:function(){c.platformer.character.C.Ne.prototype.Ta.call(this);null!=this.bu&&this.bu.destroy()},Yh:function(a){c.platformer.character.C.Ne.prototype.Yh.call(this,a)},vj:function(a){c.platformer.character.C.Ne.prototype.vj.call(this,
a);switch(a){case 0:this.p.nb(new c.platformer.character.C.cm(this.p));break;case 1:this.HE();break;case 2:this.p.nb(new c.platformer.character.C.Nn(this.p)),this.p.qO()}},HE:function(){var a=c.platformer.aa.g().Sh;a.ui>=a.Xo&&this.dD()},dD:function(){this.p.nb(new c.platformer.character.C.Gj(this.p))},r:c.platformer.character.C.Xb});c.platformer.character.C.$s=function(a){c.platformer.character.C.Xb.call(this,a)};c.platformer.character.C.$s.n=["game","platformer","character","characterStates","HeatVisionState"];
c.platformer.character.C.$s.I=c.platformer.character.C.Xb;c.platformer.character.C.$s.prototype=q(c.platformer.character.C.Xb.prototype,{wa:function(){var a=this;c.platformer.character.C.Xb.prototype.wa.call(this);this.p.Cc().wj("HeatVision",function(){a.p.Tj||(a.p.Cc().wj("Run"),a.p.nb(new c.platformer.character.C.Xb(a.p)))});var d=this.p.ga().F();this.p.j.addChild(d);d.setPosition(30,-130);this.$B=new c.platformer.Ca.$p(d,375,new b.A(1,0));this.no=b.audio.SoundManager.Wc("sfx_heat_vision",!1,!0)},
Ta:function(){c.platformer.character.C.Xb.prototype.Ta.call(this);this.$B.j.destroy();null!=this.no&&(this.no.stop(),this.no=null)},vj:function(a){switch(a){case 0:this.p.nb(new c.platformer.character.C.cm(this.p))}},Ia:function(){c.platformer.character.C.Xb.prototype.Ia.call(this)},r:c.platformer.character.C.$s});c.platformer.character.C.bt=function(a){c.platformer.character.C.Ne.call(this,a)};c.platformer.character.C.bt.n=["game","platformer","character","characterStates","IdleState"];c.platformer.character.C.bt.I=
c.platformer.character.C.Ne;c.platformer.character.C.bt.prototype=q(c.platformer.character.C.Ne.prototype,{wa:function(){c.platformer.character.C.Ne.prototype.wa.call(this);this.p.Cc().si("Run")},Ia:function(){c.platformer.character.C.Ne.prototype.Ia.call(this);this.fr();this.p.Vu()&&this.p.cd(new b.A(0,0))},Ta:function(){c.platformer.character.C.Ne.prototype.Ta.call(this)},Yh:function(a){c.platformer.character.C.Ne.prototype.Yh.call(this,a)},fr:function(){this.p.cd(new b.A(this.p.Gd().x,this.p.Gd().y+
c.Z.g().Ou().y*b.da.ac.g().JD()*b.D.eb()))},vj:function(a){c.platformer.character.C.Ne.prototype.vj.call(this,a);switch(a){case 0:this.p.Vu()&&this.tQ();break;case 1:null!=this.p.bj&&this.p.bj.Nr()}},r:c.platformer.character.C.bt});c.platformer.character.C.bm=function(a){this.zx=1.5;c.platformer.character.C.vb.call(this,a)};c.platformer.character.C.bm.n=["game","platformer","character","characterStates","InstantDeathState"];c.platformer.character.C.bm.I=c.platformer.character.C.vb;c.platformer.character.C.bm.prototype=
q(c.platformer.character.C.vb.prototype,{wa:function(){c.platformer.character.C.vb.prototype.wa.call(this);b.H.Wb.log("InstantDeathState::onEnter()");this.p.kA(!0);this.xC=c.platformer.aa.g().ob.bc;c.platformer.aa.g().ob.W.Aj(null);c.platformer.aa.g().ob.nb(new c.platformer.gb.wb.Xp(c.platformer.aa.g().ob));this.p.cd(new b.A(0.25*this.p.Gd().x,this.p.Gd().y));c.platformer.Ca.og.g().RU()},Ia:function(){c.platformer.character.C.vb.prototype.Ia.call(this);this.fr();0<this.zx&&(this.zx-=b.D.eb(),0>=this.zx&&
this.hR())},LE:t(),ov:t(),Ta:function(){c.platformer.character.C.vb.prototype.Ta.call(this)},hR:function(){c.platformer.aa.g().iz()},m4:function(){c.platformer.aa.g().dF();c.platformer.aa.g().ob.nb(this.xC)},r:c.platformer.character.C.bm});c.platformer.character.C.cm=function(a){c.platformer.character.C.Xb.call(this,a)};c.platformer.character.C.cm.n=["game","platformer","character","characterStates","JumpStartState"];c.platformer.character.C.cm.I=c.platformer.character.C.Xb;c.platformer.character.C.cm.prototype=
q(c.platformer.character.C.Xb.prototype,{wa:function(){c.platformer.character.C.Xb.prototype.wa.call(this);this.pR()},Ta:function(){c.platformer.character.C.Xb.prototype.Ta.call(this)},pR:function(){this.p.cd(new b.A(this.p.Gd().x,-this.p.ja.KJ));this.p.nb(new c.platformer.character.C.ng(this.p))},r:c.platformer.character.C.cm});c.platformer.character.C.ng=function(a){c.platformer.character.C.vb.call(this,a)};c.platformer.character.C.ng.n=["game","platformer","character","characterStates","JumpingState"];
c.platformer.character.C.ng.I=c.platformer.character.C.vb;c.platformer.character.C.ng.prototype=q(c.platformer.character.C.vb.prototype,{wa:function(){c.platformer.character.C.vb.prototype.wa.call(this);this.p.Cc().Ol();this.p.Cc().si("Jump");null!=c.platformer.character.C.ng.$&&(c.platformer.character.C.ng.$.j.destroy(),c.platformer.character.C.ng.$=null);var a=this.p.ga().F();c.platformer.aa.g().rm||(c.platformer.character.C.ng.$=new b.k.Ac(a),c.platformer.character.C.ng.$.sa(c.platformer.aa.g().ob.W,
"_zoomScale",c.platformer.aa.g().ob.W._zoomScale,c.platformer.aa.g().jm-0.1,0.35,b.k.ma.qa.Ed))},Ta:function(){c.platformer.character.C.vb.prototype.Ta.call(this);this.p.Cc().Ol();this.p.Cc().si("JumpEnd");c.platformer.aa.g().ob.sF(0);c.platformer.aa.g().rm||null!=c.platformer.character.C.ng.$&&c.platformer.character.C.ng.$.sa(c.platformer.aa.g().ob.W,"_zoomScale",c.platformer.aa.g().ob.W._zoomScale,c.platformer.aa.g().jm,0.35,b.k.ma.qa.rr,0,function(){null!=c.platformer.character.C.ng.$&&c.platformer.character.C.ng.$.j.destroy()})},
vj:function(a){c.platformer.character.C.vb.prototype.vj.call(this,a);switch(a){case 1:this.HE()}},HE:function(){var a=c.platformer.aa.g().Sh;a.ui>=a.Xo&&this.dD()},dD:function(){this.p.nb(new c.platformer.character.C.Gj(this.p))},Ia:function(){c.platformer.character.C.vb.prototype.Ia.call(this);this.p.Gd();this.fr()},r:c.platformer.character.C.ng});c.platformer.character.C.gt=function(a){this.gu=350;this.Mb=0.95;this.ul=0.1;c.platformer.character.C.Xb.call(this,a)};c.platformer.character.C.gt.n=["game",
"platformer","character","characterStates","LassoState"];c.platformer.character.C.gt.I=c.platformer.character.C.Xb;c.platformer.character.C.gt.prototype=q(c.platformer.character.C.Xb.prototype,{wa:function(){c.platformer.character.C.Xb.prototype.wa.call(this);this.p.Cc().Ol();this.p.Cc().si("LassoRun");this.p.Cc().si("Run");c.Z.g().Ft||(this.kj=this.p.ga().F(),(new b.v.xd(this.kj,"lassoRun")).ip("lassoRun",null,!0),this.kj.setPosition(-44,-125),this.p.j.addChild(this.kj));b.audio.SoundManager.Wc("sfx_lasso")},
Ta:function(){c.platformer.character.C.Xb.prototype.Ta.call(this);null!=this.kj&&this.kj.destroy()},Ia:function(){c.platformer.character.C.Xb.prototype.Ia.call(this);0<this.ul&&(this.ul-=b.D.eb(),0>=this.ul&&this.ME());0<this.Mb&&(this.Mb-=b.D.eb(),0>=this.Mb&&this.nv())},ME:function(){var a=new b.hi,c=this.p.j.O().add(new b.La(0,-this.p.ja.height/2)),d=b.H.Sa.Ru(new b.A(1,0),b.H.Sa.jn(this.p.j.oe().z));b.J.le.g().Ie(new b.A(c.x,c.y),new b.A(c.x+d.x*this.gu,c.y+d.y*this.gu),a,!1,["obstacle"]);null!=
a.Ge&&this.NE(a.Ge.j)},NE:function(a){a.T(c.platformer.Ca.hf).Me()},vj:function(a){switch(a){case 0:this.p.nb(new c.platformer.character.C.cm(this.p))}},Yh:t(),nv:function(){this.p.nb(new c.platformer.character.C.Xb(this.p))},r:c.platformer.character.C.gt});c.platformer.character.C.Nn=function(a){this.KC=1;c.platformer.character.C.Xb.call(this,a)};c.platformer.character.C.Nn.n=["game","platformer","character","characterStates","SlideState"];c.platformer.character.C.Nn.I=c.platformer.character.C.Xb;
c.platformer.character.C.Nn.prototype=q(c.platformer.character.C.Xb.prototype,{wa:function(){-1==this.p.Cc().fd.indexOf("Slide")&&(this.p.Cc().Ol(),this.p.Cc().si("Slide"),this.p.Cc().si("SlideIdle"));this.p.jL(!0);this.p.mL(!1);this.p.T(b.k.aj).Ad(0,-this.p.ja.height/8)},Ta:function(){c.platformer.character.C.Xb.prototype.Ta.call(this);this.p.jL(!1);this.p.mL(!0);this.p.T(b.k.aj).Ad(0,-this.p.ja.height/2);this.p.Cc().Ol();this.p.Cc().si("Run")},Ia:function(){c.platformer.character.C.Xb.prototype.Ia.call(this);
this.KC-=b.D.eb();0>=this.KC&&this.SR()},SR:function(){this.p.nb(new c.platformer.character.C.Xb(this.p))},r:c.platformer.character.C.Nn});c.platformer.character.C.pg=function(a,b,d){this.qB=50;c.platformer.character.C.vb.call(this,a);this.sh=b;this.aH=d};c.platformer.character.C.pg.n=["game","platformer","character","characterStates","TransitionToFlyingState"];c.platformer.character.C.pg.I=c.platformer.character.C.vb;c.platformer.character.C.pg.prototype=q(c.platformer.character.C.vb.prototype,{wa:function(){c.platformer.character.C.vb.prototype.wa.call(this);
this.p.Cc().wj("JumpToFly",null,!0);null!=c.platformer.character.C.pg.$&&(c.platformer.character.C.pg.$.j.destroy(),c.platformer.character.C.pg.$=null);var a=this.p.ga().F();c.platformer.aa.g().rm||(c.platformer.character.C.pg.$=new b.k.Ac(a),c.platformer.character.C.pg.$.sa(c.platformer.aa.g().ob.W,"_zoomScale",c.platformer.aa.g().jm,c.platformer.aa.g().jm+0.5,0.65,b.k.ma.qa.Ed),c.platformer.character.C.pg.$.sa(c.platformer.aa.g().ob.bc,"_characterDeltaLeadModifierX",r.xa(b.ha.na("game.baseCharacterLeadX")),
150,0.65,b.k.ma.qa.Ed));b.audio.SoundManager.Wc("jump_1")},Ta:function(){c.platformer.character.C.vb.prototype.Ta.call(this);c.platformer.aa.g().rm||null==c.platformer.character.C.pg.$||(c.platformer.character.C.pg.$.sa(c.platformer.aa.g().ob.W,"_zoomScale",c.platformer.aa.g().ob.W._zoomScale,c.platformer.aa.g().jm,0.65,b.k.ma.qa.rr,0,function(){null!=c.platformer.character.C.pg.$&&c.platformer.character.C.pg.$.j.destroy()}),c.platformer.character.C.pg.$.sa(c.platformer.aa.g().ob.bc,"_characterDeltaLeadModifierX",
150,r.xa(b.ha.na("game.baseCharacterLeadX")),0.65,b.k.ma.qa.Ed,0))},Ia:function(){var a=this.p.j.O(),a=new b.La(this.sh.x-a.x,this.sh.y-a.y),d=a.Kf();d.x*=this.p.ja.zA;d.y*=this.p.ja.zA;this.p.cd(new b.A(d.x,d.y));a.Dc()<this.qB&&(this.p.setPosition(this.sh.x,this.sh.y),this.p.nb(new c.platformer.character.C.wd(this.p)),null!=this.aH&&(this.p.T(b.k.aj).Ad(0,15),this.aH()))},r:c.platformer.character.C.pg});c.platformer.character.C.Og=function(a,b){this.qB=50;c.platformer.character.C.vb.call(this,a);
this.sh=b};c.platformer.character.C.Og.n=["game","platformer","character","characterStates","TransitionToGroundState"];c.platformer.character.C.Og.I=c.platformer.character.C.vb;c.platformer.character.C.Og.prototype=q(c.platformer.character.C.vb.prototype,{wa:function(){c.platformer.character.C.vb.prototype.wa.call(this);this.p.Cc().wj("JumpMid",null,!0);this.p.T(b.k.aj).Ad(0,-this.p.ja.height/2);null!=c.platformer.character.C.Og.$&&(c.platformer.character.C.Og.$.j.destroy(),c.platformer.character.C.Og.$=
null);var a=this.p.ga().F();c.platformer.aa.g().rm||(c.platformer.character.C.Og.$=new b.k.Ac(a),c.platformer.character.C.Og.$.sa(c.platformer.aa.g().ob.W,"_zoomScale",c.platformer.aa.g().ob.W._zoomScale,c.platformer.aa.g().jm+0.5,0.65,b.k.ma.qa.Ed),c.platformer.character.C.Og.$.sa(c.platformer.aa.g().ob.bc,"_characterDeltaLeadModifierX",r.xa(b.ha.na("game.baseCharacterLeadX")),150,0.65,b.k.ma.qa.Ed))},Ta:function(){c.platformer.character.C.vb.prototype.Ta.call(this);c.platformer.aa.g().rm||null==
c.platformer.character.C.Og.$||c.platformer.character.C.Og.$.sa(c.platformer.aa.g().ob.bc,"_characterDeltaLeadModifierX",150,r.xa(b.ha.na("game.baseCharacterLeadX")),0.65,b.k.ma.qa.rr,0,function(){null!=c.platformer.character.C.Og.$&&c.platformer.character.C.Og.$.j.destroy()});this.p.aU(!0)},Ia:function(){c.platformer.character.C.vb.prototype.Ia.call(this);var a=this.p.j.O(),a=new b.La(this.sh.x-a.x,this.sh.y-a.y),d=a.Kf();d.x*=this.p.ja.zA;d.y*=this.p.ja.zA;this.p.cd(new b.A(d.x,d.y));a.Dc()<this.qB&&
(this.p.setPosition(this.sh.x,this.sh.y),this.p.nb(new c.platformer.character.C.ng(this.p)))},r:c.platformer.character.C.Og});c.platformer.character.sd={};c.platformer.character.sd.kh=x("p");c.platformer.character.sd.kh.n=["game","platformer","character","collisionStates","CollisionState"];c.platformer.character.sd.kh.prototype={wa:function(){this.p.j.addEventListener("beginContact",u(this,this.Zz));this.p.j.addEventListener("endContact",u(this,this.aA));this.p.j.addEventListener("presolve",u(this,
this.hn))},Ia:t(),Ta:function(){this.p.j.removeEventListener("beginContact",u(this,this.Zz));this.p.j.removeEventListener("endContact",u(this,this.aA));this.p.j.removeEventListener("presolve",u(this,this.hn))},Zz:t(),aA:t(),hn:t(),r:c.platformer.character.sd.kh};c.platformer.character.sd.En=function(a){this.Mb=0.35;c.platformer.character.sd.kh.call(this,a)};c.platformer.character.sd.En.n=["game","platformer","character","collisionStates","DropThroughCollisionState"];c.platformer.character.sd.En.I=
c.platformer.character.sd.kh;c.platformer.character.sd.En.prototype=q(c.platformer.character.sd.kh.prototype,{wa:function(){c.platformer.character.sd.kh.prototype.wa.call(this);this.Mb=0.2},Ia:function(){c.platformer.character.sd.kh.prototype.Ia.call(this);this.Mb-=b.D.eb();0>=this.Mb&&this.p.jF(new c.platformer.character.sd.gq(this.p))},Ta:function(){c.platformer.character.sd.kh.prototype.Ta.call(this)},hn:function(a){c.platformer.character.sd.kh.prototype.hn.call(this,a);var b=this.p.gP();null!=
b&&b.getUserData().KU&&(b!=a.Dq.$c&&b!=a.Dq.md||a.Dq.lA(!1))},r:c.platformer.character.sd.En});c.platformer.character.sd.gq=function(a){c.platformer.character.sd.kh.call(this,a)};c.platformer.character.sd.gq.n=["game","platformer","character","collisionStates","RegularCollisionState"];c.platformer.character.sd.gq.I=c.platformer.character.sd.kh;c.platformer.character.sd.gq.prototype=q(c.platformer.character.sd.kh.prototype,{hn:function(a){c.platformer.character.sd.kh.prototype.hn.call(this,a);a=a.Dq;
var b=a.Hg.Ke,d=a.$c.getUserData(),f=a.md.getUserData();if(null!=d||null!=f)null!=d&&-0.5<b.y&&a.lA(!1),null!=f&&-0.5<b.y&&a.lA(!1)},r:c.platformer.character.sd.gq});c.platformer.character.Ya={};c.platformer.character.Ya.vd=x("p");c.platformer.character.Ya.vd.n=["game","platformer","character","damageStates","DamageState"];c.platformer.character.Ya.vd.prototype={wa:t(),Ta:t(),Me:t(),Ia:t(),r:c.platformer.character.Ya.vd};c.platformer.character.Ya.jw=function(a){this.pm=0;c.platformer.character.Ya.vd.call(this,
a)};c.platformer.character.Ya.jw.n=["game","platformer","character","damageStates","BlinkDamageState"];c.platformer.character.Ya.jw.I=c.platformer.character.Ya.vd;c.platformer.character.Ya.jw.prototype=q(c.platformer.character.Ya.vd.prototype,{wa:function(){c.platformer.character.Ya.vd.prototype.wa.call(this)},Me:function(a){c.platformer.character.Ya.vd.prototype.Me.call(this,a);if(!(0<this.pm)||a.zr)if(0>=this.pm&&(this.p.ja.Dl-=a.Eu),this.pm=2,this.p.j.T(b.v.ea).V().alpha=0.5,a.zr)this.p.nb(new c.platformer.character.C.bm(this.p));
else{this.kK();a=this.p.ga().F();new c.platformer.Ca.at(a);var d=this.p.O();a.setPosition(d.x,d.y);c.platformer.aa.g().bk.addChild(a);b.audio.SoundManager.Wc("hit_1")}},Ia:function(){c.platformer.character.Ya.vd.prototype.Ia.call(this);0<this.pm&&(this.pm-=b.D.eb(),0>=this.pm&&(this.pm=0,this.$z()))},$z:function(){this.p.j.T(b.v.ea).V().alpha=1},kK:function(){c.platformer.aa.g().ji?0>=this.p.ja.Dl&&this.p.nb(new c.platformer.character.C.Qp(this.p)):this.p.nb(new c.platformer.character.C.Up(this.p))},
r:c.platformer.character.Ya.jw});c.platformer.character.Ya.Zp=function(a){c.platformer.character.Ya.vd.call(this,a);this.Ut=[]};c.platformer.character.Ya.Zp.n=["game","platformer","character","damageStates","InvincibleDamageState"];c.platformer.character.Ya.Zp.I=c.platformer.character.Ya.vd;c.platformer.character.Ya.Zp.prototype=q(c.platformer.character.Ya.vd.prototype,{Me:function(a){c.platformer.character.Ya.vd.prototype.Me.call(this,a);if(a.zr&&!this.p.Tj)this.p.nb(new c.platformer.character.C.bm(this.p));
else if(null!=a.ck){var b=a.ck.T(c.platformer.Ca.hf);null!=b&&b.Me();0>w.indexOf(this.Ut,a.ck,0)&&(c.platformer.ua.Hb.g().Eg("InvincibleElectrodes",1),this.Ut.push(a.ck))}},r:c.platformer.character.Ya.Zp});c.platformer.character.Ya.Ew=function(a){c.platformer.character.Ya.vd.call(this,a)};c.platformer.character.Ya.Ew.n=["game","platformer","character","damageStates","NoContactState"];c.platformer.character.Ya.Ew.I=c.platformer.character.Ya.vd;c.platformer.character.Ya.Ew.prototype=q(c.platformer.character.Ya.vd.prototype,
{r:c.platformer.character.Ya.Ew});c.platformer.character.Ya.hq=function(a){c.platformer.character.Ya.vd.call(this,a)};c.platformer.character.Ya.hq.n=["game","platformer","character","damageStates","RegularDamageState"];c.platformer.character.Ya.hq.I=c.platformer.character.Ya.vd;c.platformer.character.Ya.hq.prototype=q(c.platformer.character.Ya.vd.prototype,{wa:function(){c.platformer.character.Ya.vd.prototype.wa.call(this)},Me:function(a){var d=this;c.platformer.character.Ya.vd.prototype.Me.call(this,
a);if(null!=a.ck){var e=a.ck.T(c.platformer.Ca.hf);e.Me();c.platformer.Ca.og.g().advance(e.SC);var f=this.p.Cc().fd;this.p.Cc().wj("Hit",function(){"Hit"==d.p.Cc().fd&&d.p.Cc().wj(f)},!0,!0);var k=this.p.F(!0);k.setPosition(0,-50);k.Bd(0,0);e=new b.v.ea(k,"jerryHitEffect");e.V().anchor=new PIXI.Point(0.5,0.5);(new b.k.Pd(k)).$h(new b.La(0,0,360));var g=new b.k.Ac(k);g.sa(k.oa,"x",0,1.25,0.5,b.k.ma.qa.Ed);g.sa(k.oa,"y",0,1.25,0.5,b.k.ma.qa.Ed);g.sa(e.V(),"alpha",1,0,0.25,b.k.ma.qa.Ed,0.25,function(){k.destroy()})}a.zr&&
this.p.nb(new c.platformer.character.C.bm(this.p))},Ia:function(){c.platformer.character.Ya.vd.prototype.Ia.call(this)},$z:function(){this.p.j.T(b.v.ea).V().alpha=1},kK:function(){c.platformer.aa.g().ji?0>=this.p.ja.Dl&&this.p.nb(new c.platformer.character.C.Qp(this.p)):this.p.nb(new c.platformer.character.C.Up(this.p))},r:c.platformer.character.Ya.hq});c.platformer.character.Ya.wt=function(a,b){c.platformer.character.Ya.vd.call(this,a);this.Ut=[];this.Mb=b};c.platformer.character.Ya.wt.n=["game",
"platformer","character","damageStates","TimedInvincibleDamageState"];c.platformer.character.Ya.wt.I=c.platformer.character.Ya.vd;c.platformer.character.Ya.wt.prototype=q(c.platformer.character.Ya.vd.prototype,{wa:function(){c.platformer.character.Ya.vd.prototype.wa.call(this);this.JC=this.p.F();this.p.j.addChild(this.JC);new b.v.xd(this.JC,"jerryGlow")},Ta:function(){c.platformer.character.Ya.vd.prototype.Ta.call(this);this.JC.destroy()},Ia:function(){c.platformer.character.Ya.vd.prototype.Ia.call(this);
this.Mb-=b.D.eb();0>=this.Mb&&this.nR()},nR:function(){this.p.jp(new c.platformer.character.Ya.hq(this.p))},Me:function(a){c.platformer.character.Ya.vd.prototype.Me.call(this,a);if(a.zr&&!this.p.Tj)this.p.nb(new c.platformer.character.C.bm(this.p));else if(null!=a.ck){var b=a.ck.T(c.platformer.Ca.hf);null!=b&&b.Me();0>w.indexOf(this.Ut,a.ck,0)&&(c.platformer.ua.Hb.g().Eg("InvincibleElectrodes",1),this.Ut.push(a.ck))}},r:c.platformer.character.Ya.wt});c.platformer.character.Ub={};c.platformer.character.Ub.Ce=
function(a){this.Mb=-1;this.p=a};c.platformer.character.Ub.Ce.n=["game","platformer","character","statusStates","StatusState"];c.platformer.character.Ub.Ce.prototype={ap:t(),Ia:function(){0<this.Mb&&(this.Mb-=b.D.eb(),0>=this.Mb&&this.p.aF(this))},dp:t(),r:c.platformer.character.Ub.Ce};c.platformer.character.Ub.Ls=function(a,b){c.platformer.character.Ub.Ce.call(this,a);this.Mb=b};c.platformer.character.Ub.Ls.n=["game","platformer","character","statusStates","CoinMagnetStatusState"];c.platformer.character.Ub.Ls.I=
c.platformer.character.Ub.Ce;c.platformer.character.Ub.Ls.prototype=q(c.platformer.character.Ub.Ce.prototype,{ap:function(){c.platformer.character.Ub.Ce.prototype.ap.call(this);b.H.Wb.log("CoinMagnetStatusState::onActivate()");this.Ff=this.p.ga().F();new b.v.xd(this.Ff,"coinMagnetEffect");this.p.j.addChild(this.Ff);this.p.T(c.platformer.character.In).oF(r.xa(b.ha.na("coinMagnet.minPullPower")),r.xa(b.ha.na("coinMagnet.maxPullPower")),r.xa(b.ha.na("coinMagnet.pullRange")))},Ia:function(){c.platformer.character.Ub.Ce.prototype.Ia.call(this);
null!=this.Ff&&(this.p.Tj?this.Ff.af(!1):c.platformer.aa.g().ji?this.Ff.setPosition(0,5):this.Ff.setPosition(0,-80))},dp:function(){c.platformer.character.Ub.Ce.prototype.dp.call(this);b.H.Wb.log("CoinMagnetStatusState::onDeactivate()");null!=this.Ff&&this.Ff.destroy();this.p.T(c.platformer.character.In).oF(r.xa(b.ha.na("game.minPullPower")),r.xa(b.ha.na("game.maxPullPower")),r.xa(b.ha.na("game.pullRange")))},r:c.platformer.character.Ub.Ls});c.platformer.character.Ub.dt=function(a,b){c.platformer.character.Ub.Ce.call(this,
a);this.Mb=b;this.yC=a.Sj};c.platformer.character.Ub.dt.n=["game","platformer","character","statusStates","InvincibleStatusState"];c.platformer.character.Ub.dt.I=c.platformer.character.Ub.Ce;c.platformer.character.Ub.dt.prototype=q(c.platformer.character.Ub.Ce.prototype,{ap:function(){c.platformer.character.Ub.Ce.prototype.ap.call(this);this.p.jp(new c.platformer.character.Ya.Zp(this.p));this.Ff=this.p.ga().F();new b.v.xd(this.Ff,"invincibilityEffect");this.p.j.addChild(this.Ff);this.aB=new b.k.as(this.Ff,
0);this.aB.Xd(!1)},Ia:function(){c.platformer.character.Ub.Ce.prototype.Ia.call(this);null!=this.Ff&&(2>=this.Mb&&(this.aB.Xd(!0),this.aB.vA(10/this.Mb)),this.p.Tj?this.Ff.af(!1):c.platformer.aa.g().ji?this.Ff.setPosition(0,5):this.Ff.setPosition(0,-80))},dp:function(){c.platformer.character.Ub.Ce.prototype.dp.call(this);this.p.Tj||this.p.jp(this.yC);null!=this.Ff&&this.Ff.destroy()},r:c.platformer.character.Ub.dt});c.platformer.character.Ub.kq=function(a){this.$j=0;this.su=10;this.Ay=0.4;this.ru=
0.25;c.platformer.character.Ub.Ce.call(this,a);this.su=r.xa(b.ha.na("bumbleBee.shrinkDuration"));this.ru=r.xa(b.ha.na("bumbleBee.shrinkScale"))};c.platformer.character.Ub.kq.n=["game","platformer","character","statusStates","ShrinkStatusState"];c.platformer.character.Ub.kq.I=c.platformer.character.Ub.Ce;c.platformer.character.Ub.kq.prototype=q(c.platformer.character.Ub.Ce.prototype,{ap:function(){c.platformer.character.Ub.Ce.prototype.ap.call(this);this.sH=this.p.ga().F();this.$=new b.k.Ac(this.sH);
this.$.sa(this.p.j.oa,"x",this.p.ja.wo,this.ru,this.Ay,b.k.ma.qa.Ed,0);this.$.sa(this.p.j.oa,"y",this.p.ja.wo,this.ru,this.Ay,b.k.ma.qa.Ed,0);var a=this.p.ga().F();new c.platformer.Ca.jq(a);c.platformer.aa.g().ji?a.setPosition(-10,-18):a.setPosition(10,-75);this.$j=this.p.ja.height;this.p.ja.height=0;this.p.j.addChild(a);b.audio.SoundManager.Wc("sfx_shrink")},Ia:function(){c.platformer.character.Ub.Ce.prototype.Ia.call(this);this.p.j.T(b.k.aj).Ad(0,-25);0<this.su&&(this.su-=b.D.eb(),0>=this.su&&this.p.aF(this))},
dp:function(){var a=this;c.platformer.character.Ub.Ce.prototype.dp.call(this);this.$.sa(this.p.j.oa,"x",this.ru,this.p.ja.wo,this.Ay,b.k.ma.qa.Ed,0);this.$.sa(this.p.j.oa,"y",this.ru,this.p.ja.wo,this.Ay,b.k.ma.qa.Ed,0,function(){a.sH.destroy()});this.p.j.T(b.k.aj).Ad(0,-this.p.ja.height/2);var d=this.p.ga().F();c.platformer.aa.g().ji?d.setPosition(-10,-18):d.setPosition(10,-75);this.p.ja.height=this.$j;new c.platformer.Ca.jq(d);this.p.j.addChild(d);b.audio.SoundManager.Wc("sfx_shrink_reverse")},
r:c.platformer.character.Ub.kq});c.platformer.item={};c.platformer.item.gf=function(a){b.q.call(this,a)};c.platformer.item.gf.n=["game","platformer","item","Item"];c.platformer.item.gf.I=b.q;c.platformer.item.gf.prototype=q(b.q.prototype,{cp:function(){this.j.destroy()},r:c.platformer.item.gf});c.platformer.item.Gp=function(a){this.Tn=1;c.platformer.item.gf.call(this,a);this.Tn=r["int"](b.ha.na("cheese.meterValue"))};c.platformer.item.Gp.n=["game","platformer","item","Cheese"];c.platformer.item.Gp.I=
c.platformer.item.gf;c.platformer.item.Gp.prototype=q(c.platformer.item.gf.prototype,{cp:function(){var a=this,d=this.j.T(b.v.la),e=new b.k.Ac(this.j);e.sa(this.j.va,"y",this.j.va.y,this.j.va.y-150,0.5,b.k.ma.qa.Ed);e.sa(d.Na(),"alpha",1,0,0.5,b.k.ma.qa.Ed,0,function(){a.j.destroy()});c.platformer.aa.g().QK(this.j);c.Z.g().FJ();d=c.platformer.aa.g().Sh;d.ui+=this.Tn;d.ui>d.Xo&&(d.ui=d.Xo);b.audio.SoundManager.Wc("sfx_coin_collect_"+b.H.Sa.xv(1,5));c.platformer.ua.Hb.g().Eg("CollectCoins",this.Tn);
c.platformer.ua.Hb.g().UK("AvoidCoins")},r:c.platformer.item.Gp});c.platformer.item.Ks=function(a){c.platformer.item.gf.call(this,a)};c.platformer.item.Ks.n=["game","platformer","item","CoinMagnet"];c.platformer.item.Ks.I=c.platformer.item.gf;c.platformer.item.Ks.prototype=q(c.platformer.item.gf.prototype,{cp:function(a){var d=c.platformer.dd.qI(this.j.va.x,this.j.va.y,this.ga());this.j.getParent().addChild(d);c.platformer.item.gf.prototype.cp.call(this,a);d="upgrades.cheeseMagnet.level"+c.platformer.ib.ed.g().tz("coinMagnet");
d=r.xa(b.ha.na(d));a.Py(new c.platformer.character.Ub.Ls(a,d));b.audio.SoundManager.Wc("sfx_magnet_pickup");c.platformer.ua.Hb.g().Eg("CollectPowerups",1)},r:c.platformer.item.Ks});c.platformer.item.ct=function(a){c.platformer.item.gf.call(this,a)};c.platformer.item.ct.n=["game","platformer","item","Invincibility"];c.platformer.item.ct.I=c.platformer.item.gf;c.platformer.item.ct.prototype=q(c.platformer.item.gf.prototype,{cp:function(a){var d=c.platformer.dd.qI(this.j.va.x,this.j.va.y,this.ga());
this.j.getParent().addChild(d);c.platformer.item.gf.prototype.cp.call(this,a);d="upgrades.invincibility.level"+c.platformer.ib.ed.g().tz("invincibility");d=r.xa(b.ha.na(d));a.Py(new c.platformer.character.Ub.dt(a,d));b.audio.SoundManager.Wc("sfx_invincibility_pickup");c.platformer.ua.Hb.g().Eg("CollectPowerups",1)},r:c.platformer.item.ct});c.platformer.item.vt=function(a){this.Tn=5;c.platformer.item.gf.call(this,a);this.Tn=r["int"](b.ha.na("superCheese.meterValue"))};c.platformer.item.vt.n=["game",
"platformer","item","SuperCheese"];c.platformer.item.vt.I=c.platformer.item.gf;c.platformer.item.vt.prototype=q(c.platformer.item.gf.prototype,{cp:function(a){new b.k.Ac(this.j);c.platformer.aa.g().QK(this.j);c.Z.g().FJ(5);var d=c.platformer.aa.g().Sh;d.ui+=this.Tn;d.ui>d.Xo&&(d.ui=d.Xo);d=r.xa(b.ha.na("superCheese.invincibilityDuration"));a.jp(new c.platformer.character.Ya.wt(a,d));b.audio.SoundManager.Wc("sfx_super_cookie_1");c.platformer.ua.Hb.g().Eg("CollectCoins",this.Tn);c.platformer.ua.Hb.g().UK("AvoidCoins");
var e=this.j.getParent().F(!0);e.setPosition(this.j.getLocalPosition().x,this.j.getLocalPosition().y);(new b.v.xd(e,"cookieBreak")).qA(function(){return function(){e.destroy()}}(this));this.j.destroy()},r:c.platformer.item.vt});c.platformer.Ab={};c.platformer.Ab.Ng=function(a,d){this.qo=0;this.TG=2;this.Bx=[];this.Xt=[];this.oi=[];this.Am=[];b.q.call(this,a);c.platformer.Ab.Ng.Va=this;this.tb=d;this.oi=[];this.oo=[];this.Am=[]};c.platformer.Ab.Ng.n=["game","platformer","levelGenerator","LevelGenerator"];
c.platformer.Ab.Ng.g=function(){return c.platformer.Ab.Ng.Va};c.platformer.Ab.Ng.I=b.q;c.platformer.Ab.Ng.prototype=q(b.q.prototype,{R2:z("oi"),lk:z("tb"),Aj:x("tb"),init:function(){b.q.prototype.init.call(this)},Jb:function(){b.q.prototype.Jb.call(this);this.qo+=b.D.eb()},ES:function(a){this.Am.push(a)},CF:function(a,d){null==d&&(d=!0);for(var e=[],f=this.Am.length,k=0;k<f;){var g=k++,g=this.Am[g];if(!(0<=w.indexOf(this.oo,g,0)||0<=g.lv&&0<=g.kv&&(this.qo<g.lv||this.qo>g.kv)))for(var h=a.length,
l=0;l<h;){var m=l++;if(0<=w.indexOf(g.fz,a[m],0)){e.push(g);break}}}e=e[b.H.Sa.xv(0,e.length)];f=this.ga().F();(new b.v.la(f)).Na().alpha=0.5;k=new c.platformer.Ab.Ln(f,e.yA,e.fz,e.hz);this.oo.push(e);k.lF(e.ez.Da());k.mF(e.gz.Da());d&&this.Oy(k);this.tb.addChild(f);this.dispatchEvent(new c.platformer.Ab.Lj("spawn",k));return k},m6:function(a,d){null==d&&(d=!0);for(var e=[],f=this.Am.length,k=0;k<f;){var g=k++,g=this.Am[g];if(!(0<=w.indexOf(this.oo,g,0)||0<=g.lv&&0<=g.kv&&(this.qo<g.lv||this.qo>g.kv)))for(var h=
a.length,l=0;l<h;){var m=l++;if(0<=w.indexOf(g.hz,a[m],0)){e.push(g);break}}}e=e[b.H.Sa.xv(0,e.length)];f=this.ga().F();new b.v.la(f);k=new c.platformer.Ab.Ln(f,e.yA,e.fz,e.hz);this.oo.push(e);k.lF(e.ez.Da());k.mF(e.gz.Da());d&&this.Oy(k);this.tb.addChild(f);this.dispatchEvent(new c.platformer.Ab.Lj("spawn",k));return k},QS:function(){this.qo=0},l6:function(a,d){null==d&&(d=!0);for(var e=null,f=this.Am.length,k=0;k<f;){var g=k++,g=this.Am[g];if(g.id==a){e=g;break}}f=this.ga().F();new b.v.la(f);k=
new c.platformer.Ab.Ln(f,e.yA,e.fz,e.hz);k.lF(e.ez.Da());k.mF(e.gz.Da());d&&this.Oy(k);this.tb.addChild(f);this.dispatchEvent(new c.platformer.Ab.Lj("spawn",k));return k},XM:function(a){var d=this.aJ(),e=d.Pa();a.Ad(new b.A(-a.Wt.x+d.om.x,-a.Wt.y+d.om.y));a.Pa().x+=e.x;a.Pa().y+=e.y;this.dispatchEvent(new c.platformer.Ab.Lj("addToEnd",a));return a},Oy:function(a){this.oi.push(a);if(this.oi.length>this.TG)for(;this.oi.length>this.TG;)this.gO()},aJ:function(){return this.oi[this.oi.length-1]},destroy:function(){b.q.prototype.destroy.call(this);
c.platformer.Ab.Ng.Va==this&&(c.platformer.Ab.Ng.Va=null)},gO:function(){for(var a=this.oi.length,b=!1,c=0;c<a;){for(var d=c++,d=this.oi[d],k=this.oo.length,g=0;g<k;){var h=g++,h=this.oo[h];if(d.rd==h.yA){w.remove(this.oo,h);b=!0;break}}if(b)break}this.oi[0].destroy();w.remove(this.oi,this.oi[0])},r:c.platformer.Ab.Ng});c.platformer.Ab.Lj=function(a,c){b.S.Ea.call(this,a);this.ky=c};c.platformer.Ab.Lj.n=["game","platformer","levelGenerator","LevelGeneratorSpawnPieceEvent"];c.platformer.Ab.Lj.I=b.S.Ea;
c.platformer.Ab.Lj.prototype=q(b.S.Ea.prototype,{l2:z("ky"),r:c.platformer.Ab.Lj});c.platformer.Ab.Ln=function(a,c,d,f){this.Vf=this.Hx=this.Ey=null;this.Bx=[];this.Xt=[];b.q.call(this,a);this.Wt=new b.A;this.om=new b.A;this.rd=c;this.Xt=d;this.Bx=f;this.Qa=new b.A};c.platformer.Ab.Ln.n=["game","platformer","levelGenerator","PieceComponent"];c.platformer.Ab.Ln.I=b.q;c.platformer.Ab.Ln.prototype=q(b.q.prototype,{f1:z("Hx"),kL:x("Hx"),c3:z("Ey"),yL:x("Ey"),Q0:z("Vf"),hL:x("Vf"),T0:z("Xt"),V0:z("Bx"),
GP:z("rd"),V5:x("rd"),S0:z("Wt"),lF:function(a){this.Wt.x=a.x;this.Wt.y=a.y},U0:z("om"),mF:function(a){this.om.x=a.x;this.om.y=a.y},O:function(){return this.j.O()},Pa:z("Qa"),Ad:x("Qa"),update:function(){b.q.prototype.update.call(this);var a=c.platformer.aa.g().Zb.getLocalPosition();this.Pa().x+this.om.x+500<a.x&&(null!=this.Vf&&this.Vf.destroy(),null!=this.Hx&&this.Hx.destroy(),null!=this.Ey&&this.Ey.destroy(),this.j.destroy())},destroy:function(){b.q.prototype.destroy.call(this)},r:c.platformer.Ab.Ln});
c.platformer.Ab.Jw=function(a){this.HO=[];this.GO=this.lv=this.kv=-1;this.id=a;this.ez=new b.A;this.gz=new b.A};c.platformer.Ab.Jw.n=["game","platformer","levelGenerator","PieceElement"];c.platformer.Ab.Jw.prototype={r:c.platformer.Ab.Jw};c.platformer.Ab.st=function(a){b.q.call(this,a)};c.platformer.Ab.st.n=["game","platformer","levelGenerator","SpawnNextTrigger"];c.platformer.Ab.st.I=b.q;c.platformer.Ab.st.prototype=q(b.q.prototype,{wa:function(){b.H.Wb.log("SpawnNextTrigger::onEnter()");var a=c.platformer.Ab.Ng.g().aJ(),
d=c.platformer.Ab.Ng.g().CF(a.Bx,!1),a=this.ga().F();c.platformer.aa.g().ni.addChild(a);d.hL(a);c.platformer.Ab.Ng.g().XM(d);c.platformer.Ab.Ng.g().Oy(d);a=this.ga().F();d.yL(a);c.platformer.aa.g().bk.addChild(a);d.rd.rI(a,d.Pa().x,d.Pa().y);this.j.destroy();var e=this.ga().F();c.platformer.aa.g().Jq.addChild(e);var f=!0,k=a.wi().length;d.kL(e);for(d=null!=d.rd.bJ("Tutorial")?"Tutorial":"Tiles";0<=--k;){var g=a.wi()[k];f&&g.getName()!=d&&e.addChild(g);g.getName()==d&&(f=!1)}},Ta:function(){b.H.Wb.log("SpawnNextTrigger::onExit()")},
r:c.platformer.Ab.st});c.platformer.ua={};c.platformer.ua.Fw=function(a,d){this.rx=null;b.q.call(this,a);this.Ja=d;this._queue=[];c.platformer.ua.Hb.g().addEventListener("complete",u(this,this.qK))};c.platformer.ua.Fw.n=["game","platformer","objectives","ObjectiveCompleteQueue"];c.platformer.ua.Fw.I=b.q;c.platformer.ua.Fw.prototype=q(b.q.prototype,{qK:function(a){this.BL(a.hC);c.Z.g().ZD(a.hC.BC)},BL:function(a){null==this.rx?(this.rx=c.platformer.dd.TN(this.Ja,this.ga(),a),this.rx.addEventListener("destroy",
u(this,this.eR)),b.audio.SoundManager.Wc("sfx_objective_complete")):this._queue.push(a)},eR:function(){this.rx=null;0<this._queue.length&&this.BL(this._queue.shift())},destroy:function(){b.q.prototype.destroy.call(this);c.platformer.ua.Hb.g().removeEventListener("complete",u(this,this.qK))},r:c.platformer.ua.Fw});c.platformer.ua.Hb=function(){b.kb.call(this);this.Yj=[];this.tg=[]};c.platformer.ua.Hb.n=["game","platformer","objectives","ObjectiveManager"];c.platformer.ua.Hb.g=function(){null==c.platformer.ua.Hb.Va&&
(c.platformer.ua.Hb.Va=new c.platformer.ua.Hb);return c.platformer.ua.Hb.Va};c.platformer.ua.Hb.I=b.kb;c.platformer.ua.Hb.prototype=q(b.kb.prototype,{TS:function(){this.KS();for(var a=0,b=3-this.tg.length;a<b;){a++;var c=this.yP();null!=c&&(this.tg.push(c),c.setActive(!0))}},KS:function(){for(var a=[],b=this.tg.length,c=0;c<b;){var d=c++,d=this.tg[d];!d.el&&d.xD()?a.push(d):d.setActive(!1)}this.tg=a},VM:function(a){a.addEventListener("completed",u(this,this.ER));this.Yj.push(a);a.xD()&&this.tg.push(a)},
GS:function(){this.Yj=[]},A5:function(a,b){var c=this.PD(a);null!=c&&c.Cv(b)},G3:function(a,b){var c=this.PD(a);null!=c&&c.$D(b)},e2:function(a){a=this.PD(a);return null==a?-1:a.GD()},PD:function(a){for(var b=this.Yj.length,c=0;c<b;){var d=c++;if(this.Yj[d].ii==a)return this.Yj[d]}return null},ER:function(a){this.dispatchEvent(new c.platformer.ua.aq("complete",a.ZG))},PS:function(){for(var a=this.tg.length,b=0;b<a;){var c=b++,c=this.tg[c];c.Iy||c.el||c.Cv(0)}},Ho:function(a,b,c){null==c&&(c=1);a=
this.KO(a,b);b=a.length;for(var d=0;d<b;){var k=d++;a[k].$D(c)}},UK:function(a){a=this.FI(a);for(var b=a.length,c=0;c<b;){var d=c++,d=a[d];d.el||d.Cv(0)}},KO:function(a,b){for(var c=[],d=this.tg.length,k=0;k<d;){var g=k++,g=this.tg[g];g.Rb()==a&&g.EJ(b)&&c.push(g)}return c},Eg:function(a,b){null==b&&(b=1);for(var c=this.FI(a),d=c.length,k=0;k<d;){var g=k++;c[g].$D(b)}},FI:function(a){for(var b=[],c=this.tg.length,d=0;d<c;){var k=d++,k=this.tg[k];k.Rb()==a&&0==k.jy.length&&b.push(k)}return b},B_:z("tg"),
VK:function(){for(var a=this.Yj.length,b=0;b<a;){var c=b++,c=this.Yj[c];c.Cv(0);c.IT(!1);c.setActive(!1)}},yP:function(){var a=this.xJ(),c=a.length;3>c&&(this.VK(),a=this.xJ(),c=a.length);for(var d=a[b.H.Sa.xv(0,a.length)],f=0;f<c;){var k=f++,k=a[k];k.Rb()==d.Rb()&&(k.Iy==d.Iy&&k.mf<d.mf)&&(d=k)}return d},xJ:function(){for(var a=[],b=this.Yj.length,d=E.aP(c.platformer.character.CharacterId).length,f=0;f<b;){for(var k=f++,k=this.Yj[k],g=!1,h=0;h<d;){var l=h++,l=E.jD(c.platformer.character.CharacterId,
l);k.EJ(l[0])&&!c.Z.g().ED(l)&&(g=!0)}k.el||(k.xD()||g)||a.push(k)}return a},lJ:function(){this.Yj=[];for(var a=C.parse(b.J.Ha.ic("objectivesXml")).Ma("objectives").next().Ma("objective");a.xc();){var d=a.next(),d=c.platformer.ua.Wi.mS(d);this.VM(d)}},OS:function(){this.VK();this.GS();this.lJ()},r:c.platformer.ua.Hb});c.platformer.ua.aq=function(a,c){b.S.Ea.call(this,a);this.hC=c};c.platformer.ua.aq.n=["game","platformer","objectives","ObjectiveManagerEvent"];c.platformer.ua.aq.I=b.S.Ea;c.platformer.ua.aq.prototype=
q(b.S.Ea.prototype,{d2:z("hC"),r:c.platformer.ua.aq});c.platformer.ua.Wi=function(a,c,d,f,k,g){b.S.Mg.call(this);this.ii=a;this.TC=c;this.mf=d;this.BC=f;this.Iy=k;this.wx=g;this.el=this.GD()>=this.mf;this.jy=[]};c.platformer.ua.Wi.n=["game","platformer","objectives","ObjectiveStatus"];c.platformer.ua.Wi.mS=function(a){var b=a.get("id"),d=a.get("type"),f=r.Gb(a.get("goal")),k=r.Gb(a.get("reward")),g;g=a.Eb("total")?"TRUE"==a.get("total").toUpperCase():!1;var h=a.get("descriptionId"),b=new c.platformer.ua.Wi(b,
d,f,k,g,h),d=[];for(a=a.Ma("parameter");a.xc();)f=a.next(),d.push(f.firstChild().Ez());b.nU(d);return b};c.platformer.ua.Wi.I=b.S.Mg;c.platformer.ua.Wi.prototype=q(b.S.Mg.prototype,{OI:function(){return F.replace(F.replace(F.replace(b.Db.pc(this.wx),"%N",r.sc(this.mf|0)),"%A",r.sc(Math.min(r["int"](this.WI()),this.mf|0))),"%B",r.sc(this.mf|0))},IO:function(){return F.replace(F.replace(F.replace(b.Db.pc(this.wx),"%N",r.sc(this.mf|0)),"%A",r.sc(this.mf)),"%B",r.sc(this.mf|0))},G0:function(){return F.replace(b.Db.pc(this.wx+
"_COMPLETE"),"%N",r.sc(this.mf|0))},Rb:z("TC"),H0:z("wx"),D2:z("BC"),C1:z("Iy"),xD:function(){return c.Z.g().Ib.getItem("ObjectiveActiveKey"+this.ii,!1)},setActive:function(a){c.Z.g().Ib.setItem("ObjectiveActiveKey"+this.ii,a)},XI:z("ii"),WI:function(){return c.Z.g().Ib.getItem("ObjectiveHighest"+this.ii,0)},cU:function(a){c.Z.g().Ib.setItem("ObjectiveHighest"+this.ii,a)},GD:function(){return c.Z.g().Ib.getItem("ObjectiveValue"+this.ii,0)},Cv:function(a){a>this.mf&&(a=this.mf);c.Z.g().Ib.setItem("ObjectiveValue"+
this.ii,a);a>=this.mf&&!this.el&&(this.el=!0,this.dispatchEvent(new c.platformer.ua.bq("completed",this)));a>this.WI()&&this.cU(a)},$D:function(a){this.Cv(this.GD()+a)},dP:z("mf"),P3:z("el"),IT:x("el"),nU:x("jy"),h2:z("jy"),EJ:function(a){return-1!=w.indexOf(this.jy,a,0)},r:c.platformer.ua.Wi});c.platformer.ua.bq=function(a,c){b.S.Ea.call(this,a);this.ZG=c};c.platformer.ua.bq.n=["game","platformer","objectives","ObjectiveStatusEvent"];c.platformer.ua.bq.I=b.S.Ea;c.platformer.ua.bq.prototype=q(b.S.Ea.prototype,
{f2:z("ZG"),r:c.platformer.ua.bq});c.platformer.ua.Vk=t();c.platformer.ua.Vk.n=["game","platformer","objectives","ObjectiveType"];c.platformer.Ca={};c.platformer.Ca.hf=function(a){this.hG=!1;this.SC=50;b.q.call(this,a)};c.platformer.Ca.hf.n=["game","platformer","objects","Obstacle"];c.platformer.Ca.hf.I=b.q;c.platformer.Ca.hf.prototype=q(b.q.prototype,{h3:z("SC"),W5:x("SC"),Me:function(){var a=this.ga().F();(new b.v.xd(a,"objectExplode")).ip("objectExplode",function(){a.destroy()},!0);c.platformer.aa.g().ni.addChild(a);
a.setPosition(this.j.getLocalPosition().x,this.j.getLocalPosition().y);this.j.destroy();b.audio.SoundManager.Wc("hit_1")},update:function(){b.q.prototype.update.call(this);!this.hG&&null!=c.platformer.aa.g().Zb&&c.platformer.aa.g().Zb.va.x<this.j.va.x+50&&(c.platformer.ua.Hb.g().Eg("AvoidObstacles",1),this.hG=!0)},r:c.platformer.Ca.hf});c.platformer.Ca.Dn=function(a,b){this.GG=!1;c.platformer.Ca.hf.call(this,a);this.vG=b};c.platformer.Ca.Dn.n=["game","platformer","objects","DisableableObstacle"];
c.platformer.Ca.Dn.I=c.platformer.Ca.hf;c.platformer.Ca.Dn.prototype=q(c.platformer.Ca.hf.prototype,{Me:function(){if(!this.GG){for(var a=this.vG.length,d=0;d<a;){var e=d++;this.vG[e].T(b.v.la).Na().visible=!1}this.j.Xd(!1);var f=this.ga().F();(new b.v.xd(f,"objectExplode")).ip("objectExplode",function(){f.destroy()},!0);c.platformer.aa.g().ni.addChild(f);f.setPosition(this.j.getLocalPosition().x,this.j.getLocalPosition().y);b.audio.SoundManager.Wc("sfx_electric_short");this.GG=!0}},r:c.platformer.Ca.Dn});
c.platformer.Ca.at=function(a){b.q.call(this,a);this.$=new b.k.Ac(a);this.Sg=new b.k.Hj(this.j);this.hH=new b.v.la(a)};c.platformer.Ca.at.n=["game","platformer","objects","HitEffect"];c.platformer.Ca.at.I=b.q;c.platformer.Ca.at.prototype=q(b.q.prototype,{init:function(){var a=this;b.q.prototype.init.call(this);this.Sg.ro(1,function(){a.j.destroy()});var c=this.ga().F(),d=new b.v.ea(c,"hitPiece3");d.V().anchor=new PIXI.Point(0.5,0.5);this.$.sa(c.oa,"x",0,1,0.35,b.k.ma.qa.Ue);this.$.sa(c.oa,"y",0,1,
0.35,b.k.ma.qa.Ue);this.$.sa(d.V(),"alpha",1,0,0.25,b.k.ma.qa.dh,0.35);var d=this.ga().F(),f=new b.v.ea(d,"hitPiece2");f.V().anchor=new PIXI.Point(0.5,0.5);this.$.sa(d.oa,"x",0,1,0.65,b.k.ma.qa.Ue);this.$.sa(d.oa,"y",0,1,0.65,b.k.ma.qa.Ue);this.$.sa(f.V(),"alpha",1,0,0.25,b.k.ma.qa.dh,0.35);var f=this.ga().F(),k=new b.v.ea(f,"hitPiece1");k.V().anchor=new PIXI.Point(0.5,0.5);this.$.sa(f.oa,"x",0,1,0.65,b.k.ma.qa.Ue);this.$.sa(f.oa,"y",0,1,0.65,b.k.ma.qa.Ue);this.$.sa(k.V(),"alpha",0,1,0.15,b.k.ma.qa.dh);
this.$.sa(k.V(),"alpha",1,0,0.25,b.k.ma.qa.dh,0.2);(new b.k.Pd(f)).$h(new b.La(0,0,b.H.Sa.rf(90)));var k=this.ga().F(),g=new b.v.ea(k,"hitPiece4");g.V().anchor=new PIXI.Point(0.5,0.5);this.$.sa(k.oa,"x",0.5,1.5,0.65,b.k.ma.qa.Ue);this.$.sa(k.oa,"y",0.5,1.5,0.65,b.k.ma.qa.Ue);this.$.sa(g.V(),"alpha",1,0,0.25,b.k.ma.qa.dh,0.35);(new b.k.Pd(k)).cd(-100,-300);var g=this.ga().F(),h=new b.v.ea(g,"hitPiece4");h.V().anchor=new PIXI.Point(0.5,0.5);this.$.sa(g.oa,"x",0.5,1.5,0.65,b.k.ma.qa.Ue);this.$.sa(g.oa,
"y",0.5,1.5,0.65,b.k.ma.qa.Ue);this.$.sa(h.V(),"alpha",1,0,0.25,b.k.ma.qa.dh,0.4);(new b.k.Pd(g)).cd(350,125);var h=this.ga().F(),l=new b.v.ea(h,"hitPiece4");l.V().anchor=new PIXI.Point(0.5,0.5);this.$.sa(h.oa,"x",0.5,1.5,0.65,b.k.ma.qa.Ue);this.$.sa(h.oa,"y",0.5,1.5,0.65,b.k.ma.qa.Ue);this.$.sa(l.V(),"alpha",1,0,0.25,b.k.ma.qa.dh,0.3);(new b.k.Pd(h)).cd(-400,75);this.j.addChild(c);this.j.addChild(d);this.j.addChild(f);this.j.addChild(k);this.j.addChild(g);this.j.addChild(h)},r:c.platformer.Ca.at});
c.platformer.Ca.$p=function(a,c,d){this.DM=150;this.sC=0;this.Gy=0.02;this.LM=0.15;this.oM=1500;this.Un=0;b.q.call(this,a);this.Uq=c;this.lf=d.Kf();this.fu=this.ga().F();this.tH=new b.v.ea(this.fu,"laserBeam");this.tH.V().anchor=new PIXI.Point(0,0.5);this.j.addChild(this.fu);new b.k.Jh(this.fu,this.fu.Nc,"z",0,b.H.Sa.rf(2),15)};c.platformer.Ca.$p.n=["game","platformer","objects","Laser"];c.platformer.Ca.$p.I=b.q;c.platformer.Ca.$p.prototype=q(b.q.prototype,{update:function(){b.q.prototype.update.call(this);
this.Un+=this.oM*b.D.eb();this.Un>this.Uq&&(this.Un=this.Uq);this.Gy-=b.D.eb();0>=this.Gy&&this.DR();var a=new b.hi,d=this.j.O(),d=b.J.le.g().Ie(new b.A(d.x,d.y),new b.A(d.x+this.lf.x*this.Un,d.y+this.lf.y*this.Un),a,!0,["ground","obstacle"]);this.sC+=this.DM*b.D.eb();-1==d&&(d=this.Un);this.fu.Bd(1/this.tH.V().texture.width*d,1);null!=a.Ge&&(d=a.Ge.j,a.Ge.mk("obstacle")&&d.T(c.platformer.Ca.hf).Me())},DR:function(){var a=this.ga().F();a.setPosition(this.sC,0);var c=new b.v.ea(a,"laserParticle");
c.V().anchor=new PIXI.Point(0.5,0.5);var d=new b.k.Pd(a);d.cd(b.H.Sa.wv(-100,100),b.H.Sa.wv(-100,100));d.$h(new b.La(0,0,b.H.Sa.rf(360)));(new b.k.Ac(a)).sa(c.V(),"alpha",1,0,0.35,b.k.ma.qa.dh,0.35);this.j.addChild(a);this.Gy=this.LM},r:c.platformer.Ca.$p});c.platformer.Ca.jq=function(a){this.sM=0.5;this.Ex=!1;this.Fy=0;this.KM=0.1;b.q.call(this,a);this.$=new b.k.Ac(this.j)};c.platformer.Ca.jq.n=["game","platformer","objects","ShrinkEffect"];c.platformer.Ca.jq.I=b.q;c.platformer.Ca.jq.prototype=q(b.q.prototype,
{init:function(){var a=this;b.q.prototype.init.call(this);var c=new b.v.la(this.j);this.tG=this.ga().F();(new b.v.ea(this.tG,"bumbleBeeShrinkEffectBack")).V().anchor=new PIXI.Point(0.5,0.5);this.j.addChild(this.tG);this.sB=this.ga().F();(new b.v.ea(this.sB,"bumbleBeeShrinkEffectSpin")).V().anchor=new PIXI.Point(0.5,0.5);(new b.k.Pd(this.sB)).$h(new b.La(0,0,b.H.Sa.rf(360)));this.j.addChild(this.sB);this.uG=this.ga().F();this.rB=new b.v.ea(this.uG,"bumbleBeeShrinkEffectWhite");this.rB.V().anchor=new PIXI.Point(0.5,
0.5);this.j.addChild(this.uG);this.$.sa(c.Na(),"alpha",1,0,0.35,b.k.ma.qa.dh,this.sM,function(){a.j.destroy()})},update:function(){b.q.prototype.update.call(this);this.Fy-=b.D.eb();0>this.Fy&&(this.Fy=this.KM,this.Ex=!this.Ex);c.platformer.aa.g().ji?this.rB.Ii(this.Ex?"bumbleBeeShrinkEffectYellow":"bumbleBeeShrinkEffectWhite"):this.rB.Ii(this.Ex?"bumbleBeeShrinkEffectRunYellow":"bumbleBeeShrinkEffectRunWhite")},r:c.platformer.Ca.jq});c.platformer.Ca.og=function(a,d){this.Mt=this.Fq=!1;this.$A=20;
this.WG=5;this.$L=50;this.Uq=350;this._distance=175;this.lM=80;b.q.call(this,a);c.platformer.Ca.og.Va=this;this.tb=d};c.platformer.Ca.og.n=["game","platformer","objects","Tom"];c.platformer.Ca.og.g=function(){return c.platformer.Ca.og.Va};c.platformer.Ca.og.I=b.q;c.platformer.Ca.og.prototype=q(b.q.prototype,{init:function(){b.q.prototype.init.call(this);this._distance=r.xa(b.ha.na("tom.initialDistance"));this.Uq=r.xa(b.ha.na("tom.maxDistance"));this.WG=r.xa(b.ha.na("tom.speed"));this.j.translate(0,
this.lM);this.$=new b.k.Ac(this.j)},OU:function(){this.Mt=!0},RU:function(){this.Mt=!1},advance:function(a,c){null==c&&(c=!1);this.Fq||(c?this._distance-=a:this.$.sa(this,"_distance",this._distance,this._distance-a,0.35,b.k.ma.qa.Ue))},Jb:function(){b.q.prototype.Jb.call(this);var a=this.j.O(),c=this.tb.O();a.x=c.x-(this._distance+this.$A);this.Mt&&this.j.setPosition(a.x,a.y);this._distance>this.Uq&&(this._distance=this.Uq);0>this._distance&&(this._distance=0);this.Mt&&!this.Fq&&(this._distance-=
b.D.eb()*this.WG,this._distance+this.$A<=this.$L&&c.y>=a.y-50&&this.ZQ());var a=new b.A(this.j.getLocalPosition().x,this.j.getLocalPosition().y-100),c=new b.A(this.j.getLocalPosition().x,this.j.getLocalPosition().y+100),d=new b.hi;b.J.le.g().Ie(a,c,d,!0,["ground"]);null!=d.Ge&&this.j.setPosition(d.lj.x,d.lj.y)},tT:function(){this.Fq||(this.$.sa(this,"_additionalDistance",0,800,0.5,b.k.ma.qa.Ed),this.Fq=!0)},vN:function(){this.Fq&&(this.$.sa(this,"_additionalDistance",this.$A,0,0.5,b.k.ma.qa.Ed),this.Fq=
!1)},ZQ:function(){this.dispatchEvent(new c.platformer.Ca.nq("catch"));this.Mt=!1;this.j.af(!1)},destroy:function(){b.q.prototype.destroy.call(this);c.platformer.Ca.og.Va==this&&(c.platformer.Ca.og.Va=null)},r:c.platformer.Ca.og});c.platformer.Ca.nq=function(a){b.S.Ea.call(this,a)};c.platformer.Ca.nq.n=["game","platformer","objects","TomEvent"];c.platformer.Ca.nq.I=b.S.Ea;c.platformer.Ca.nq.prototype=q(b.S.Ea.prototype,{r:c.platformer.Ca.nq});c.platformer.gb={};c.platformer.gb.rt=function(a){this.vy=
0.1;this.RC=0;b.q.call(this,a)};c.platformer.gb.rt.n=["game","platformer","smartCamera","SmartCamera"];c.platformer.gb.rt.I=b.q;c.platformer.gb.rt.prototype=q(b.q.prototype,{W2:z("RC"),sF:x("RC"),rz:z("W"),sJ:z("bc"),nb:function(a){null!=this.bc&&this.bc.Ta();this.bc=a;this.bc.wa()},init:function(){b.q.prototype.init.call(this);this.W=this.j.T(b.k.Camera);this.XC=new b.k.Jh(this.j,this.W.ug,"y",0,0,25,!1,0,0);this.IB=new b.k.Jh(this.j,this.W.ug,"x",0,0,25,!1,0,0)},update:function(){b.q.prototype.update.call(this);
var a=b.H.Sa.jn(this.W.j.oe().z);this.W.j.Ji(0,0,b.H.Sa.rf(a+(this.RC-a)*this.vy))},uF:function(a,b,c){null==c&&(c=0);this.XC.rL(a);this.XC.vA(b);this.XC.sL(c)},nF:function(a,b,c){null==c&&(c=0);this.IB.rL(a);this.IB.vA(b);this.IB.sL(c)},Jb:function(){b.q.prototype.Jb.call(this);null!=this.bc&&this.bc.Ia()},r:c.platformer.gb.rt});c.platformer.gb.wb={};c.platformer.gb.wb.Hh=x("ob");c.platformer.gb.wb.Hh.n=["game","platformer","smartCamera","cameraStates","CameraState"];c.platformer.gb.wb.Hh.prototype=
{wa:t(),Ia:t(),Ta:t(),r:c.platformer.gb.wb.Hh};c.platformer.gb.wb.lh=function(a,b,d,f,k,g,h){null==h&&(h=!0);null==g&&(g=!0);c.platformer.gb.wb.Hh.call(this,a);this.tb=b;this.sl=d;this.Qa=f;this.Yt=g;this.Zt=h;this.wM=k};c.platformer.gb.wb.lh.n=["game","platformer","smartCamera","cameraStates","FollowTarget"];c.platformer.gb.wb.lh.I=c.platformer.gb.wb.Hh;c.platformer.gb.wb.lh.prototype=q(c.platformer.gb.wb.Hh.prototype,{Pa:z("Qa"),Ad:function(a,c){this.Qa=new b.A(a,c)},P_:z("cl"),wa:function(){c.platformer.gb.wb.Hh.prototype.wa.call(this);
this.cl=this.ob.ga().F();var a=new b.k.Fn(this.cl,this.tb);a.XT(this.Yt);a.YT(this.Zt);new c.platformer.Es(this.cl,this.wM);this.ob.W.Aj(this.cl);this.ob.W.ar.xL(this.sl);this.ob.W.Ad(this.Qa)},Ia:function(){c.platformer.gb.wb.Hh.prototype.Ia.call(this);this.ob.W.ar.xL(this.sl);this.ob.W.Ad(this.Qa)},Ta:function(){c.platformer.gb.wb.Hh.prototype.Ta.call(this);this.cl.destroy()},r:c.platformer.gb.wb.lh});c.platformer.gb.wb.Vs=function(a,b,d,f,k){this.Lt=this.NG=0;this.zq=150;c.platformer.gb.wb.lh.call(this,
a,b,d,f,k,!0,!0)};c.platformer.gb.wb.Vs.n=["game","platformer","smartCamera","cameraStates","FollowCharacter"];c.platformer.gb.wb.Vs.I=c.platformer.gb.wb.lh;c.platformer.gb.wb.Vs.prototype=q(c.platformer.gb.wb.lh.prototype,{NO:z("zq"),fL:x("zq"),OO:z("Lt"),CT:x("Lt"),wa:function(){c.platformer.gb.wb.lh.prototype.wa.call(this);this.p=this.tb.T(c.platformer.character.Zd);this.ko=this.tb.O();this.cl.T(b.k.Fn).sp()},Ia:function(){c.platformer.gb.wb.lh.prototype.Ia.call(this)},r:c.platformer.gb.wb.Vs});
c.platformer.gb.wb.uw=function(a,b,d,f,k){this.Lt=this.NG=0;this.zq=150;c.platformer.gb.wb.lh.call(this,a,b,d,f,k)};c.platformer.gb.wb.uw.n=["game","platformer","smartCamera","cameraStates","FollowFlyingCharacter"];c.platformer.gb.wb.uw.I=c.platformer.gb.wb.lh;c.platformer.gb.wb.uw.prototype=q(c.platformer.gb.wb.lh.prototype,{NO:z("zq"),fL:x("zq"),OO:z("Lt"),CT:x("Lt"),wa:function(){c.platformer.gb.wb.lh.prototype.wa.call(this);this.p=this.tb.T(c.platformer.character.Zd);this.ko=this.tb.O();var a=
this.cl.T(b.k.Fn);a.j.setPosition(a.lk().getLocalPosition().x,a.lk().getLocalPosition().y);this.Tg=this.p.T(c.platformer.character.Tk)},Ia:function(){c.platformer.gb.wb.lh.prototype.Ia.call(this);this.tb.O();var a=new b.La(this.zq+Math.round(this.p.ja.Xz-this.p.ja.Dl)*this.NG,0);this.cl.setPosition(this.cl.O().x,this.Tg.Qn);var d=this.ob.W;if(null!=this.p){var e=d.Ef,a=0<this.p.uz().y?new b.A(this.Qa.x-a.x,this.Qa.y+a.y):new b.A(this.Qa.x-a.x,-this.Qa.y+a.y),a=new b.A(a.x-e.x,a.y-e.y);a.Jg(this.sl,
this.sl);d.KT(new b.A(e.x+a.x,e.y+a.y))}this.ko=this.tb.O()},r:c.platformer.gb.wb.uw});c.platformer.gb.wb.Xp=function(a){c.platformer.gb.wb.Hh.call(this,a)};c.platformer.gb.wb.Xp.n=["game","platformer","smartCamera","cameraStates","IdleCameraState"];c.platformer.gb.wb.Xp.I=c.platformer.gb.wb.Hh;c.platformer.gb.wb.Xp.prototype=q(c.platformer.gb.wb.Hh.prototype,{Ia:function(){c.platformer.gb.wb.Hh.prototype.Ia.call(this)},r:c.platformer.gb.wb.Xp});c.platformer.ib={};c.platformer.ib.ax=function(a,b,
c){this.id=a;this.Zf=b;this.mj=c};c.platformer.ib.ax.n=["game","platformer","upgrades","UpgradeData"];c.platformer.ib.ax.prototype={r:c.platformer.ib.ax};c.platformer.ib.pq=function(a){b.S.Ea.call(this,a)};c.platformer.ib.pq.n=["game","platformer","upgrades","UpgradeEvent"];c.platformer.ib.pq.I=b.S.Ea;c.platformer.ib.pq.prototype=q(b.S.Ea.prototype,{r:c.platformer.ib.pq});c.platformer.ib.hm=t();c.platformer.ib.hm.n=["game","platformer","upgrades","UpgradeId"];c.platformer.ib.hm.prototype={r:c.platformer.ib.hm};
c.platformer.ib.ed=function(){b.kb.call(this);this.Ee=[]};c.platformer.ib.ed.n=["game","platformer","upgrades","UpgradeManager"];c.platformer.ib.ed.g=function(){null==c.platformer.ib.ed.Va&&(c.platformer.ib.ed.Va=new c.platformer.ib.ed,b.D.g().yl(c.platformer.ib.ed.Va));return c.platformer.ib.ed.Va};c.platformer.ib.ed.I=b.kb;c.platformer.ib.ed.prototype=q(b.kb.prototype,{init:function(){b.kb.prototype.init.call(this)},c2:function(){return this.Ee.length},gA:function(a,b,d){b=new c.platformer.ib.ax(a,
b,d);this.Ee.push(b);a=c.Z.g().Ib.getItem("upgrade"+a,0);b.Zf=a},RS:function(){for(var a=this.Ee.length,b=0;b<a;){var c=b++;this.Ee[c].Zf=0}},xr:function(){for(var a=this.Ee.length,b=0;b<a;){var d=b++,d=this.Ee[d];if(d.Zf<d.mj.length&&d.mj[d.Zf]<=c.Z.g().jk())return!0}return!1},i1:function(){for(var a=this.Ee.length,b=0;b<a;){var c=b++,c=this.Ee[c];if(c.Zf<c.mj.length)return!1}return!0},IP:function(a){return this.Ee[a]},Az:function(a){for(var b=this.Ee.length,c=0;c<b;){var d=c++;if(this.Ee[d].id==
a)return this.Ee[d]}return null},MI:function(a){return this.Az(a).mj[this.tz(a)]},XP:function(a){this.AU(a,this.Az(a).Zf+1)},tz:function(a){return this.Az(a).Zf},AU:function(a,b){this.Az(a).Zf=b;c.Z.g().Ib.setItem("upgrade"+a,b);this.dispatchEvent(new c.platformer.ib.pq("upgradeUnlocked"))},O1:function(){for(var a=-1,b=this.Ee.length,c=0;c<b;){var d=c++;if(this.Ee[d].Zf<a||-1==a)a=this.Ee[d].Zf}return a},r:c.platformer.ib.ed});c.Kd={};c.Kd.Lh=function(a,c){this.Th=this.tl=this.Xa=this.Sg=null;b.q.call(this,
a);this.Xa=c};c.Kd.Lh.n=["game","subtitles","SubtitleDisplay"];c.Kd.Lh.I=b.q;c.Kd.Lh.prototype=q(b.q.prototype,{init:function(){b.q.prototype.init.call(this);this.DG=this.ga().F();this.DG.Bd(1.2666666666666666,1.2666666666666666);this.DG.setPosition(0,-10);this.wG=this.ga().F();this.wG.Bd(1.2666666666666666,1.2666666666666666);this.wG.setPosition(0,548);var a=this.ga().F();a.af(!1);a.setPosition(378,453);this.tl=new b.k.$i(a,this.Xa);this.tl.iL("Arial Black, Arial");this.tl.VT("#000000");this.tl.lp(650);
a=this.ga().F();a.af(!1);a.setPosition(375,450);this.Th=new b.k.$i(a,this.Xa);this.Th.iL("Arial Black, Arial");this.Th.lp(650);this.Sg=new b.k.Hj(this.j);b.Xc.Mj.g().addEventListener("showSubtitle",u(this,this.YR))},E3:function(){this.Th.lp(950);this.tl.lp(950)},y4:function(){this.Th.lp(650);this.tl.lp(650)},YR:function(a){this.Sg.lD();var b=a.yH;this.Th.setText(b);this.Th.j.af(!0);this.tl.setText(b);this.tl.j.af(!0);this.Sg.ro(a.Mb,u(this,this.XR))},XR:function(){this.Th.j.af(!1);this.tl.j.af(!1)},
r:c.Kd.Lh});c.Kd.$k=function(){this.xH=null;b.ya.call(this);c.Kd.$k.Va=this};c.Kd.$k.n=["game","subtitles","SubtitleState"];c.Kd.$k.g=function(){return c.Kd.$k.Va};c.Kd.$k.I=b.ya;c.Kd.$k.prototype=q(b.ya.prototype,{init:function(){b.ya.prototype.init.call(this);var a=this.F();this.xH=new c.Kd.Lh(a,b.D.g().vf("subtitles"))},T2:z("xH"),r:c.Kd.$k});var D={On:t()};D.On.n=["haxe","Timer"];D.On.Iv=function(){return(new Date).getTime()/1E3};D.jd={};D.jd.Yp=function(){this.h={}};D.jd.Yp.n=["haxe","ds","IntMap"];
D.jd.Yp.ZA=[P];D.jd.Yp.prototype={set:function(a,b){this.h[a]=b},get:function(a){return this.h[a]},Eb:function(a){return this.h.hasOwnProperty(a)},r:D.jd.Yp};D.jd.me=function(){this.h={}};D.jd.me.n=["haxe","ds","StringMap"];D.jd.me.ZA=[P];D.jd.me.prototype={set:function(a,b){this.h["$"+a]=b},get:function(a){return this.h["$"+a]},Eb:function(a){return this.h.hasOwnProperty("$"+a)},remove:function(a){a="$"+a;if(!this.h.hasOwnProperty(a))return!1;delete this.h[a];return!0},r:D.jd.me};D.Iz={};D.Iz.HA=
t();D.Iz.HA.n=["haxe","io","Eof"];D.Iz.HA.prototype={toString:I("Eof"),r:D.Iz.HA};D.xml={};D.xml.Xk=t();D.xml.Xk.n=["haxe","xml","Parser"];D.xml.Xk.parse=function(a){var b=C.createDocument();D.xml.Xk.xI(a,0,b);return b};D.xml.Xk.xI=function(a,b,c){null==b&&(b=0);for(var d=null,k=1,g=1,h=null,l=0,m=0,p=0,q=a.charCodeAt(b),s=new O;q==q;){switch(k){case 0:switch(q){case 10:case 13:case 9:case 32:break;default:k=g;continue}break;case 1:switch(q){case 60:k=0;g=2;break;default:l=b;k=13;continue}break;case 13:60==
q?(g=C.kD(s.b+w.substr(a,l,b-l)),s=new O,c.addChild(g),m++,k=0,g=2):38==q&&(s.ZM(a,l,b-l),k=18,g=13,l=b+1);break;case 17:93==q&&(93==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2))&&(k=C.JN(w.substr(a,l,b-l)),c.addChild(k),m++,b+=2,k=1);break;case 2:switch(q){case 33:if(91==a.charCodeAt(b+1)){b+=2;if("CDATA["!=w.substr(a,b,6).toUpperCase())throw"Expected <![CDATA[";b+=5;k=17}else if(68==a.charCodeAt(b+1)||100==a.charCodeAt(b+1)){if("OCTYPE"!=w.substr(a,b+2,6).toUpperCase())throw"Expected <!DOCTYPE";b+=
8;k=16}else{if(45!=a.charCodeAt(b+1)||45!=a.charCodeAt(b+2))throw"Expected \x3c!--";b+=2;k=15}l=b+1;break;case 63:k=14;l=b;break;case 47:if(null==c)throw"Expected node name";l=b+1;k=0;g=10;break;default:k=3;l=b;continue}break;case 3:if(!(97<=q&&122>=q||65<=q&&90>=q||48<=q&&57>=q||58==q||46==q||95==q||45==q)){if(b==l)throw"Expected node name";d=C.createElement(w.substr(a,l,b-l));c.addChild(d);k=0;g=4;continue}break;case 4:switch(q){case 47:k=11;m++;break;case 62:k=9;m++;break;default:k=5;l=b;continue}break;
case 5:if(!(97<=q&&122>=q||65<=q&&90>=q||48<=q&&57>=q||58==q||46==q||95==q||45==q)){if(l==b)throw"Expected attribute name";h=w.substr(a,l,b-l);if(d.Eb(h))throw"Duplicate attribute";k=0;g=6;continue}break;case 6:switch(q){case 61:k=0;g=7;break;default:throw"Expected =";}break;case 7:switch(q){case 34:case 39:k=8;l=b;break;default:throw'Expected "';}break;case 8:q==a.charCodeAt(l)&&(d.set(h,w.substr(a,l+1,b-l-1)),k=0,g=4);break;case 9:l=b=D.xml.Xk.xI(a,b,d);k=1;break;case 11:switch(q){case 62:k=1;break;
default:throw"Expected >";}break;case 12:switch(q){case 62:return 0==m&&c.addChild(C.kD("")),b;default:throw"Expected >";}case 10:if(!(97<=q&&122>=q||65<=q&&90>=q||48<=q&&57>=q||58==q||46==q||95==q||45==q)){if(l==b)throw"Expected node name";if(w.substr(a,l,b-l)!=c.UD())throw"Expected </"+c.UD()+">";k=0;g=12;continue}break;case 15:45==q&&(45==a.charCodeAt(b+1)&&62==a.charCodeAt(b+2))&&(c.addChild(C.createComment(w.substr(a,l,b-l))),b+=2,k=1);break;case 16:91==q?p++:93==q?p--:62==q&&0==p&&(c.addChild(C.MN(w.substr(a,
l,b-l))),k=1);break;case 14:63==q&&62==a.charCodeAt(b+1)&&(b++,c.addChild(C.createProcessingInstruction(w.substr(a,l+1,b-l-2))),k=1);break;case 18:59==q&&(l=w.substr(a,l,b-l),35==l.charCodeAt(0)?s.add(String.fromCharCode(120==l.charCodeAt(1)?r.Gb("0"+w.substr(l,1,l.length-1)):r.Gb(w.substr(l,1,l.length-1)))):D.xml.Xk.AI.Eb(l)?s.add(D.xml.Xk.AI.get(l)):s.b+=r.sc("&"+l+";"),l=b+1,k=g)}q=F.yO(a,++b)}1==k&&(l=b,k=13);if(13==k)return b==l&&0!=m||c.addChild(C.kD(s.b+w.substr(a,l,b-l))),b;throw"Unexpected end";
};var y={fb:t()};y.fb.n=["js","Boot"];y.fb.Vh=function(a){return a instanceof Array&&null==a.sb?Array:a.r};y.fb.Et=function(a,b){if(null==a)return"null";if(5<=b.length)return"<...>";var c=typeof a;"function"==c&&(a.n||a.sg)&&(c="object");switch(c){case "object":if(a instanceof Array){if(a.sb){if(2==a.length)return a[0];c=a[0]+"(";b+="\t";for(var d=2,k=a.length;d<k;)var g=d++,c=2!=g?c+(","+y.fb.Et(a[g],b)):c+y.fb.Et(a[g],b);return c+")"}c=a.length;d="[";b+="\t";for(k=0;k<c;)g=k++,d+=(0<g?",":"")+y.fb.Et(a[g],
b);return d+"]"}try{d=a.toString}catch(h){return"???"}if(null!=d&&d!=Object.toString&&(c=a.toString(),"[object Object]"!=c))return c;c=null;d="{\n";b+="\t";k=null!=a.hasOwnProperty;for(c in a)k&&!a.hasOwnProperty(c)||("prototype"==c||"__class__"==c||"__super__"==c||"__interfaces__"==c||"__properties__"==c)||(2!=d.length&&(d+=", \n"),d+=b+c+" : "+y.fb.Et(a[c],b));b=b.substring(1);return d+("\n"+b+"}");case "function":return"<function>";case "string":return a;default:return String(a)}};y.fb.YA=function(a,
b){if(null==a)return!1;if(a==b)return!0;var c=a.ZA;if(null!=c)for(var d=0,k=c.length;d<k;){var g=d++,g=c[g];if(g==b||y.fb.YA(g,b))return!0}return y.fb.YA(a.I,b)};y.fb.Dt=function(a,b){if(null==b)return!1;switch(b){case X:return(a|0)===a;case S:return"number"==typeof a;case U:return"boolean"==typeof a;case String:return"string"==typeof a;case Array:return a instanceof Array&&null==a.sb;case Z:return!0;default:if(null!=a){if("function"==typeof b&&(a instanceof b||y.fb.YA(y.fb.Vh(a),b)))return!0}else return!1;
return b==aa&&null!=a.n||b==ba&&null!=a.sg?!0:a.sb==b}};y.fb.Bc=function(a,b){if(y.fb.Dt(a,b))return a;throw"Cannot cast "+r.sc(a)+" to "+r.sc(b);};y.Gh=t();y.Gh.n=["js","Browser"];y.Gh.Qu=function(){try{var a=window.localStorage;a.getItem("");return a}catch(b){return null}};y.Gh.Su=function(){try{var a=window.sessionStorage;a.getItem("");return a}catch(b){return null}};var M,V=0;Array.prototype.indexOf&&(w.indexOf=function(a,b,c){return Array.prototype.indexOf.call(a,b,c)});Math.NaN=Number.NaN;Math.NEGATIVE_INFINITY=
Number.NEGATIVE_INFINITY;Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY;Math.Q3=function(a){return isFinite(a)};Math.gE=function(a){return isNaN(a)};String.prototype.r=String;String.n=["String"];Array.n=["Array"];Date.prototype.r=Date;Date.n=["Date"];var X={n:["Int"]},Z={n:["Dynamic"]},S=Number;S.n=["Float"];var U=Boolean;U.sg=["Bool"];var aa={n:["Class"]},ba={};C.Jj="element";C.VL="pcdata";C.PL="cdata";C.RL="comment";C.TL="doctype";C.WL="processingInstruction";C.GA="document";y.JQuery=window.jQuery;
s.YL=60;s.ZL=30;s.Wl=1024;s.Vl=576;s.Gs=640;s.Fs=960;s.BV="#000000";s.vc="";d.l.$a.KZ=255;d.l.$a.WS=d.l.$a.zE();d.l.$a.US=d.l.$a.zE();d.l.$a.VS=d.l.$a.zE();d.l.$a.fF=[];d.l.$a.gF=[];d.l.$a.ZS=new d.f.math.K;d.l.$a.YS=new d.f.math.K;d.l.$a.aT=new d.f.math.K;d.l.$a.$S=new d.f.math.K;d.l.$a.gT=new d.f.math.K;d.l.$a.hT=new d.f.math.K;d.l.$a.kT=new d.f.math.K;d.l.$a.lT=new d.f.math.K;d.l.$a.FZ=new d.f.math.K;d.l.Fh.eT=new d.l.fw;d.l.Fh.cT=[];d.l.Fh.dT=[];d.l.vp.$N=0;d.l.jb.oN=0;d.l.jb.pN=0;d.l.jb.YH=0;
d.l.jb.qN=0;d.l.jb.ZH=0;d.l.jb.eF=new d.l.gw;d.l.jb.Rr=new d.l.Zv;d.l.jb.mn=new d.f.math.Dj;d.l.jb.nn=new d.f.math.Dj;d.l.jb.iA=new d.l.ew;d.l.jb.aL=new d.l.$v;d.l.R.df.m_=1;d.l.R.df.n_=0;d.l.R.df.o_=-1;d.l.R.ud.C4=new d.f.math.Gc;d.f.P.VERSION="2.1alpha";d.f.P.eZ=65535;d.f.P.Au=Math.PI;d.f.P.Lm=2;d.f.P.Ry=0.1;d.f.P.SH=2;d.f.P.LZ=2*d.f.P.Oc;d.f.P.Oc=0.005;d.f.P.vo=0.011111111111111112*d.f.P.Au;d.f.P.Uy=8*d.f.P.Oc;d.f.P.lN=32;d.f.P.mN=32;d.f.P.rN=1;d.f.P.vh=0.2;d.f.P.Sy=0.044444444444444446*d.f.P.Au;
d.f.P.hr=2;d.f.P.XH=d.f.P.hr*d.f.P.hr;d.f.P.gr=0.5*d.f.P.Au;d.f.P.WH=d.f.P.gr*d.f.P.gr;d.f.P.aD=0.2;d.f.P.nN=0.5;d.f.P.VH=0.01;d.f.P.TH=0.011111111111111112*d.f.P.Au;d.f.math.G.hN=new d.f.math.K(0,0);d.f.math.G.eN=d.f.math.Gc.Ku(new d.f.math.K(1,0),new d.f.math.K(0,1));d.f.math.G.HZ=new d.f.math.Dj(d.f.math.G.hN,d.f.math.G.eN);d.e.ra.nT=new d.f.math.Dj;d.e.ra.ne=1;d.e.ra.yo=2;d.e.ra.Fu=4;d.e.ra.Gu=8;d.e.ra.az=16;d.e.ra.nr=32;d.e.ra.ah=0;d.e.ra.UH=1;d.e.ra.$g=2;d.e.up.iN=new d.e.up;d.e.Cj.jN=new d.e.Cj;
d.e.es.B4=new d.l.Wv;d.e.Tf.yI=1;d.e.Tf.uO=2;d.e.Tf.rO=4;d.e.Tf.vO=8;d.e.Tf.sO=16;d.e.Tf.tO=32;d.e.vn.bL=new d.e.Vv;d.e.Yc.jT=new d.e.Cp;d.e.Yc.mT=new d.f.math.Dj;d.e.Yc.ZK=new d.f.math.Qk;d.e.Yc.$K=new d.f.math.Qk;d.e.Yc.iT=new d.e.Cp;d.e.Yc.bT=[];d.e.Yc.XS=new d.f.cs(0.5,0.8,0.8);d.e.Yc.qD=1;d.e.Yc.pD=2;d.e.N.Fa.bz=1;d.e.N.Fa.Hu=2;d.e.N.Fa.ne=4;d.e.N.Fa.pr=8;d.e.N.Fa.qr=16;d.e.N.Fa.or=32;d.e.N.Fa.oD=64;d.e.N.Fa.Sr=new d.l.hw;d.e.N.zp.PZ=new d.f.math.K;d.e.N.zp.QZ=new d.f.math.K;d.e.N.yf.o6=d.f.P.Lm;
d.e.N.yf.gp=new d.l.iw;d.e.N.yf.jA=new d.e.N.zp;d.e.B.Mi.Ty=2;d.e.B.Ni.GF=new d.f.math.K;b.Cb.cM=0;b.ha._properties=new D.jd.me;b.Vi.qZ=0;b.LoadBatch.DX=3;b.Db.sm=!1;b.D.XX=0;b.D.YX=1;b.D.AX=0.016666666666666666;b.D.eY=30;b.D.zW=0.016666666666666666;b.D.DH=1;b.D.rZ=-1;b.D.xB=!1;b.D.ny=0;b.D.Qt=0;b.Se.tp.NF="complete";b.audio.SoundManager.RG=1;b.audio.SoundManager.dy=0.65;b.audio.SoundManager.MC=1;b.audio.SoundManager.eC=!1;b.audio.SoundManager.LC=!1;b.audio.SoundManager.Ag=[];b.audio.SoundManager.YB=
!1;b.audio.SoundManager.sZ=new D.jd.me;b.audio.SoundManager.wu=!1;b.da.Fj.EV="beginContact";b.da.Fj.cW="endContact";b.da.ac.dY=60;b.da.ac.RY=1/60;b.da.Ul.gY="preUpdate";b.da.Ul.aZ="update";b.da.Ds.fY="presolve";b.k.ih.EW=30;b.k.Mn.fW=5E-5;b.k.$i.VV="white";b.k.buttons.Lg.Tt=!1;b.S.zc.gZ="visibilityOff";b.S.zc.hZ="visibilityOn";b.S.zc.ZV="displayUpdate";b.S.zc.vV="addedToParent";b.S.zc.kY="removedFromParent";b.S.zc.HX="mouseDown";b.S.zc.LX="mouseUp";b.S.zc.IX="mouseMove";b.S.zc.JX="mouseOut";b.S.zc.KX=
"mouseOver";b.S.zc.FX="mouseClick";b.S.ei.XV="destroy";b.S.ei.uV="activate";b.S.ei.UV="deactivate";b.S.ei.OW="initialize";b.S.fq.XL="raycastCheck";b.Jf.FlashAnimation.hx=new D.jd.me;b.J.Ha.Km=new D.jd.me;b.J.Ri.DV="beatLevel";b.J.Ri.yW="failLevel";b.J.Ri.YY="turboStart";b.J.Ri.XY="turboEnd";b.J.Ri.OV="comicSnapshot";b.J.Bf.yx=new D.jd.me;b.J.Iw.XL="raycastCheck";b.v.mt.RV=225;b.$e.gm.CX="midpoint";b.$e.gm.NF="complete";b.Xc.mq.pY="showSubtitle";b.Vb.Zi.zX=5;b.Vb.Zi.wY=35;b.Vb.Zi.YV=35;b.Vb.te.EY=
"swipeUp";b.Vb.te.zY="swipeDown";b.Vb.te.CY="swipeLeft";b.Vb.te.DY="swipeRight";b.Vb.te.FY="swipeUpLeft";b.Vb.te.GY="swipeUpRight";b.Vb.te.AY="swipeDownLeft";b.Vb.te.BY="swipeDownRight";b.Vb.te.yY="";b.tmx.Dw.PW="initialized";b.tmx.Oj.OY=0;b.tmx.Oj.PY=0;b.tmx.Oj.QY=1024;b.tmx.Oj.NY=1024;b.ba.oq.bZ="updateDisplay";b.H.ta.UW=48;b.H.ta.VW=49;b.H.ta.WW=50;b.H.ta.XW=51;b.H.ta.YW=52;b.H.ta.ZW=53;b.H.ta.$W=54;b.H.ta.aX=55;b.H.ta.bX=56;b.H.ta.cX=57;b.H.ta.tV=65;b.H.ta.AV=66;b.H.ta.HV=67;b.H.ta.TV=68;b.H.ta.E=
69;b.H.ta.hW=70;b.H.ta.FW=71;b.H.ta.GW=72;b.H.ta.Hn=73;b.H.ta.TW=74;b.H.ta.Oe=75;b.H.ta.tX=76;b.H.ta.wX=77;b.H.ta.NX=78;b.H.ta.SX=79;b.H.ta.ZX=80;b.H.ta.hY=81;b.H.ta.Q=82;b.H.ta.mY=83;b.H.ta.HY=84;b.H.ta.ZY=85;b.H.ta.fZ=86;b.H.ta.iZ=87;b.H.ta.mZ=88;b.H.ta.oZ=89;b.H.ta.pZ=90;b.H.ta.dX=96;b.H.ta.eX=97;b.H.ta.fX=98;b.H.ta.gX=99;b.H.ta.hX=100;b.H.ta.iX=101;b.H.ta.jX=102;b.H.ta.kX=103;b.H.ta.lX=104;b.H.ta.mX=105;b.H.ta.qX=106;b.H.ta.nX=107;b.H.ta.pX=108;b.H.ta.sX=109;b.H.ta.rX=110;b.H.ta.oX=111;b.H.ta.iW=
112;b.H.ta.oW=113;b.H.ta.pW=114;b.H.ta.qW=115;b.H.ta.rW=116;b.H.ta.sW=117;b.H.ta.tW=118;b.H.ta.uW=119;b.H.ta.vW=120;b.H.ta.jW=122;b.H.ta.kW=123;b.H.ta.lW=124;b.H.ta.mW=125;b.H.ta.nW=126;b.H.ta.CV=8;b.H.ta.IY=9;b.H.ta.dW=13;b.H.ta.oY=16;b.H.ta.QV=17;b.H.ta.IV=18;b.H.ta.gW=27;b.H.ta.rY=32;b.H.ta.aY=33;b.H.ta.$X=34;b.H.ta.aW=35;b.H.ta.NW=36;b.H.ta.uX=37;b.H.ta.lY=38;b.H.ta.$Y=39;b.H.ta.$V=40;b.H.ta.QW=45;b.H.ta.WV=46;b.H.ta.OX=144;b.H.ta.FV=19;b.H.em.pH=new D.jd.me;b.H.rq.KV="change";c.Be.SY=2;c.Be.UY=
0.325;c.Be.xW=7.3;c.Be.wW=0;c.Xs.xV="Arial";c.Xs.lZ="work_sansbold";c.Xs.kZ="work_sansblack";c.Xs.SV="curse_casualregular";c.pd.Qd="#FFFFFF";c.Z.PX=6;c.Z.QX="numLevelsUnlocked";c.Z.vX="levelScore";c.Z.HW="hasBeatenGame";c.Z.JW="hasStartedGame";c.Vp.bY=1024;c.Uk.QF="OnMenu";c.Uk.TY="onToggleMusic";c.jt.BX=663;c.lq.RX=1;c.platformer.Bn.QL="OnCountFinish";c.platformer.Kp.cY="pass";c.platformer.dm.iY="ready";c.platformer.Jn.uY=130;c.platformer.Jn.vY=40;c.platformer.Jn.nZ=32;c.platformer.character.Zl.tY=
"startCharge";c.platformer.character.Zl.bW="endCharge";c.platformer.character.Fp.MX="move";c.platformer.character.al.IW="hasBeenSmokeBombed";c.platformer.character.al.WX="obstacle";c.platformer.character.al.qY="slideDestroyObstacle";c.platformer.character.al.jZ="wonderWoman";c.platformer.character.al.GV="bumbleBee";c.platformer.character.al.xY="superGirl";c.platformer.character.al.WY="trigger";c.platformer.character.al.eW="entry";c.platformer.character.C.Gj.IA=5;c.platformer.character.C.Gj.PA=3;c.platformer.character.C.wd.xX=
1E3;c.platformer.character.C.wd.EX=-1E3;c.platformer.character.C.wd.SL=0.35;c.platformer.character.C.wd.GX=35;c.platformer.character.C.Xb.IA=8;c.platformer.character.C.Xb.PA=3;c.platformer.character.C.Xb.SL=0.35;c.platformer.Ab.Lj.sY="spawn";c.platformer.Ab.Lj.wV="addToEnd";c.platformer.ua.Hb.yX=3;c.platformer.ua.aq.NF="complete";c.platformer.ua.Wi.VX="ObjectiveValue";c.platformer.ua.Wi.UX="ObjectiveHighest";c.platformer.ua.Wi.TX="ObjectiveActiveKey";c.platformer.ua.bq.PV="completed";c.platformer.ua.Vk.zV=
"AvoidObstacles";c.platformer.ua.Vk.MV="CollectCoins";c.platformer.ua.Vk.VY="TravelDistance";c.platformer.ua.Vk.AW="FlyDistance";c.platformer.ua.Vk.dZ="UsePower";c.platformer.ua.Vk.SW="InvincibleElectrodes";c.platformer.ua.Vk.yV="AvoidCoins";c.platformer.ua.Vk.NV="CollectPowerups";c.platformer.Ca.nq.JV="catch";c.platformer.ib.pq.cZ="upgradeUnlocked";c.platformer.ib.hm.LV="coinMagnet";c.platformer.ib.hm.RW="invincibility";c.platformer.ib.hm.nY="scoreMultiplier";c.platformer.ib.hm.MW="health";c.platformer.ib.hm.jY=
"reduceCooldown";c.Kd.Lh.KW=0;c.Kd.Lh.LW=-10;c.Kd.Lh.BW=0;c.Kd.Lh.DW=548;c.Kd.Lh.LY=375;c.Kd.Lh.MY=450;c.Kd.Lh.JY=3;c.Kd.Lh.KY=3;D.xml.Xk.AI=function(){var a=new D.jd.me;a.set("lt","<");a.set("gt",">");a.set("amp","&");a.set("quot",'"');a.set("apos","'");a.set("nbsp",String.fromCharCode(160));return a}(this);s.main()})();
